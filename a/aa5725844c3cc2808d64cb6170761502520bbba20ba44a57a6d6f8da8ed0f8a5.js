webpackJsonp([0],[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(389),o=i(r),a=n(1238),u=i(a),c=angular.module("common.utils.component",[o["default"]]);c.service("component",u["default"]),t.module=c,t["default"]="common.utils.component"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={ACCOUNT_ACTIVATED:"activated",ACTION:"action",ACTIVATION_ID:"activationId",ADDRESS_KEY:"key",ASSIGNED_SHIPMENT:"assignedShipment",ASSIGNEE_NAME:"assigneeName",B2L_SHIPMENT:"b2lShipment",RB_SHIPMENT:"rbShipment",MODULE_KEY:"moduleKey",BUSINESS_TRANSACTION_ID:"btid",COLLECTION:"collection",CONTACT_INFO_COLLECTION:"collection",CONTACT_INFO_KEY:"key",CONTACT_INFO_MODE:"mode",CONTACT_INFO_UNSAVED_SECTIONS:"unsaved_sections",COPIED_SHIPMENT_ID:"copiedShipmentId",COUNTRY_CODE:"countryCode",CTE_OPTION:"cteOption",DASHBOARD_PICKUP:"dashboardPickup",ERROR:"error",EXTERNAL_ACCESS_LINK_KEY:"linkKey",EXTERNAL_ACCESS_LINK_TYPE:"linkType",IS_ONE_CLICK_SHIPMENT:"isOneClickShipment",IS_GST_DATA_ENABLED:"isGstDataEnabled",IS_STANDALONE_RETURN:"isStandAloneReturn",SHIPMENT_TYPE_FILTER:"shipmentTypeFilter",LOGOUT:"logout",MAILING_LIST_ID:"mailingListId",MODAL_MESSAGE_ID:"messageId",NEED_APPROVAL:"needApproval",PICKUP_ID:"pickupId",PROCEED_TO_ASSIGN:"proceedToAssign",DECLINE_SHIPMENT:"declineShipment",RETURN_SHIPMENT_ID:"returnShipmentId",FROM_EXTERNAL_PAYMENT:"fromExternalPayment",SCENARIO:"scenario",SECTION:"section",SHIPMENT_ID:"shipmentId",SHIPMENT_STATUS_CHECKOUT_ID:"hostedCheckoutId",SHIPMENT_STATUS_MESSAGE:"msg",STATUS:"status",STATUS_FILTERS:"statusFilters",TEMPORARY_ID:"temporaryId",TOKEN:"token",WCM_MODE:"wcmmode",SHIPMENT_FROM_DASHBOARD:"shipmentFromDashboard",SHIPMENT_IS_GLOBAL_MAIL:"shipmentIsGlobalMail",IS_RECEIVER_CONTACT_GLOBAL_MAIL_DUPLICATE:"isReceiverContactGlobalMailDuplicate",EDIT_GLOBAL_MAIL_CONTACT:"editGlobalMail",PICKUP_BOOKING_FAILURE_KEY:"pickupBookingFailureKey",COMPLETE_SHIPMENT_ACTION:"completeAction",SSO:"sso",SSO_ID:"ssoId",SSO_CODE:"code",SSO_STATE:"state",SSO_ERROR:"ssoError",LINK:"link",ORIGINATOR:"originator",AUTO_REDIRECT:"autoredirect",SEARCH_TERM:"searchTerm",IS_QUICK_LINK:"isQuickLink",IS_SHIPMENT_EDIT_MODE:"isShipmentEditMode",UUID:"uuid"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1127),o=i(r),a=n(1128),u=i(a),c=n(1129),s=i(c),l=n(1130),d=i(l),f=n(1131),p=i(f),m=n(1132),_=i(m),E=n(1134),S=i(E),g=n(1135),C=i(g),A=n(1136),h=i(A),I=n(1138),v=i(I),N=n(1140),T=i(N),M=n(1141),y=i(M),O=n(1142),D=i(O),P=n(1143),R=i(P),b=n(1145),L=i(b),G=n(1146),k=i(G),w=n(1147),U=i(w),F=n(1149),j=i(F),V=n(1150),B=i(V),$=n(1151),H=i($),x=n(1152),K=i(x),Y=n(1153),W=i(Y),q=n(1154),z=i(q),X=n(1155),Q=i(X),Z=n(1156),J=i(Z),ee=n(1157),te=i(ee),ne=n(1158),ie=i(ne),re=n(1159),oe=i(re),ae=n(1160),ue=i(ae),ce=n(1161),se=i(ce),le=n(1162),de=i(le),fe=n(1163),pe=i(fe),me=n(880),_e=i(me),Ee=n(1164),Se=i(Ee),ge=n(1165),Ce=i(ge),Ae=n(1166),he=i(Ae),Ie=n(1167),ve=i(Ie),Ne=n(1168),Te=i(Ne),Me=n(1169),ye=i(Me),Oe=n(1170),De=i(Oe),Pe=n(1171),Re=i(Pe),be=n(1172),Le=i(be),Ge=n(1173),ke=i(Ge),we=n(1175),Ue=i(we),Fe=n(1176),je=i(Fe),Ve=n(1177),Be=i(Ve),$e=n(1178),He=i($e),xe=n(1179),Ke=i(xe),Ye=n(1180),We=i(Ye),qe=n(1182),ze=i(qe),Xe=n(1183),Qe=i(Xe),Ze=n(1184),Je=i(Ze),et=n(1185),tt=i(et),nt=n(1186),it=i(nt),rt=n(1187),ot=i(rt),at=n(1188),ut=i(at),ct=n(1189),st=i(ct),lt=n(1190),dt=i(lt),ft=n(1191),pt=i(ft),mt=n(1192),_t=i(mt),Et=n(1193),St=i(Et),gt=n(1194),Ct=i(gt),At=n(1195),ht=i(At),It=n(1196),vt=i(It),Nt=n(1197),Tt=i(Nt),Mt=n(1199),yt=i(Mt),Ot=n(1200),Dt=i(Ot),Pt=n(1201),Rt=i(Pt),bt=n(1202),Lt=i(bt),Gt=n(1204),kt=i(Gt),wt=n(1205),Ut=i(wt),Ft=n(1206),jt=i(Ft),Vt=n(1207),Bt=i(Vt),$t=n(1208),Ht=i($t),xt=n(1209),Kt=i(xt),Yt=n(1210),Wt=i(Yt),qt=n(1211),zt=i(qt),Xt=n(1212),Qt=i(Xt),Zt=n(1213),Jt=i(Zt),en=n(1214),tn=i(en),nn=n(1215),rn=i(nn),on=n(1216),an=i(on),un=n(1217),cn=i(un),sn=n(1218),ln=i(sn),dn=n(1219),fn=i(dn),pn=n(1220),mn=i(pn),_n=n(1221),En=i(_n),Sn=n(1222),gn=i(Sn),Cn=n(1223),An=i(Cn),hn=n(1224),In=i(hn),vn=n(1225),Nn=i(vn),Tn=n(1226),Mn=i(Tn),yn=n(1227),On=i(yn),Dn=n(1229),Pn=i(Dn),Rn=n(1230),bn=i(Rn),Ln=n(1231),Gn=i(Ln),kn=n(1232),wn=i(kn),Un=n(1233),Fn=i(Un),jn=n(437),Vn=i(jn),Bn=n(389),$n=i(Bn),Hn=n(0),xn=i(Hn),Kn=n(10),Yn=i(Kn),Wn=n(1242),qn=i(Wn),zn=n(133),Xn=i(zn),Qn=n(1257),Zn=i(Qn),Jn=n(1286),ei=i(Jn),ti=n(1289),ni=i(ti),ii=n(1292),ri=i(ii),oi=n(1294),ai=i(oi),ui=n(92),ci=i(ui),si=n(32),li=i(si),di=n(908),fi=i(di),pi=angular.module("common.utils",["ngStorage",ci["default"],Be["default"],li["default"],Zn["default"],ri["default"],Yn["default"],Vn["default"],qn["default"],Xn["default"],ei["default"],ni["default"],ai["default"],Fn["default"],xn["default"],$n["default"],fi["default"]]);t.module=pi,t["default"]="common.utils",pi.directive(o["default"].NG_NAME,o["default"]).directive(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]).directive(d["default"].NG_NAME,d["default"]).directive(p["default"].NG_NAME,p["default"]).directive(_["default"].NG_NAME,_["default"]).directive(S["default"].NG_NAME,S["default"]).directive(C["default"].NG_NAME,C["default"]).directive(h["default"].NG_NAME,h["default"]).directive(v["default"].NG_NAME,v["default"]).directive(T["default"].NG_NAME,T["default"]).directive(y["default"].NG_NAME,y["default"]).directive(D["default"].NG_NAME,D["default"]).directive(R["default"].NG_NAME,R["default"]).directive(L["default"].NG_NAME,L["default"]).directive(k["default"].NG_NAME,k["default"]).directive(ke["default"].NG_NAME,ke["default"]).directive(Ue["default"].NG_NAME,Ue["default"]).directive(Tt["default"].NG_NAME,Tt["default"]).directive(je["default"].NG_NAME,je["default"]).directive(ot["default"].NG_NAME,ot["default"]).directive(Dt["default"].NG_NAME,Dt["default"]).directive(Ut["default"].NG_NAME,Ut["default"]).directive(jt["default"].NG_NAME,jt["default"]).directive(Ht["default"].NG_NAME,Ht["default"]).directive(Wt["default"].NG_NAME,Wt["default"]).directive(zt["default"].NG_NAME,zt["default"]).directive(ln["default"].NG_NAME,ln["default"]).directive(gn["default"].NG_NAME,gn["default"]).directive(Rt["default"].NG_NAME,Rt["default"]).directive(Lt["default"].NG_NAME,Lt["default"]).directive(An["default"].NG_NAME,An["default"]).directive(In["default"].NG_NAME,In["default"]).service(vt["default"].NG_NAME,vt["default"]).service(U["default"].NG_NAME,U["default"]).service(j["default"].NG_NAME,j["default"]).service(B["default"].NG_NAME,B["default"]).service(H["default"].NG_NAME,H["default"]).service(K["default"].NG_NAME,K["default"]).service(W["default"].NG_NAME,W["default"]).service(z["default"].NG_NAME,z["default"]).service(Q["default"].NG_NAME,Q["default"]).service(J["default"].NG_NAME,J["default"]).service(te["default"].NG_NAME,te["default"]).service(ie["default"].NG_NAME,ie["default"]).service(oe["default"].NG_NAME,oe["default"]).service(ue["default"].NG_NAME,ue["default"]).service(se["default"].NG_NAME,se["default"]).service(de["default"].NG_NAME,de["default"]).service(pe["default"].NG_NAME,pe["default"]).service(_e["default"].NG_NAME,_e["default"]).service(Se["default"].NG_NAME,Se["default"]).service(Ce["default"].NG_NAME,Ce["default"]).service(he["default"].NG_NAME,he["default"]).service(ve["default"].NG_NAME,ve["default"]).service(Te["default"].NG_NAME,Te["default"]).service(ye["default"].NG_NAME,ye["default"]).service(De["default"].NG_NAME,De["default"]).service(Re["default"].NG_NAME,Re["default"]).service(He["default"].NG_NAME,He["default"]).service(Ke["default"].NG_NAME,Ke["default"]).service(We["default"].NG_NAME,We["default"]).service(ze["default"].NG_NAME,ze["default"]).service(Qe["default"].NG_NAME,Qe["default"]).service(Je["default"].NG_NAME,Je["default"]).service(tt["default"].NG_NAME,tt["default"]).service(it["default"].NG_NAME,it["default"]).service(st["default"].NG_NAME,st["default"]).provider(ut["default"].NG_NAME,ut["default"]).service(dt["default"].NG_NAME,dt["default"]).service(pt["default"].NG_NAME,pt["default"]).service(_t["default"].NG_NAME,_t["default"]).service(St["default"].NG_NAME,St["default"]).service(Ct["default"].NG_NAME,Ct["default"]).service(ht["default"].NG_NAME,ht["default"]).service(yt["default"].NG_NAME,yt["default"]).service(kt["default"].NG_NAME,kt["default"]).service(Bt["default"].NG_NAME,Bt["default"]).service(Kt["default"].NG_NAME,Kt["default"]).service(Qt["default"].NG_NAME,Qt["default"]).service(Jt["default"].NG_NAME,Jt["default"]).service(tn["default"].NG_NAME,tn["default"]).service(rn["default"].NG_NAME,rn["default"]).service(an["default"].NG_NAME,an["default"]).service(cn["default"].NG_NAME,cn["default"]).service(fn["default"].NG_NAME,fn["default"]).service(mn["default"].NG_NAME,mn["default"]).service(En["default"].NG_NAME,En["default"]).service(Nn["default"].NG_NAME,Nn["default"]).service(Mn["default"].NG_NAME,Mn["default"]).service(On["default"].NG_NAME,On["default"]).service(Pn["default"].NG_NAME,Pn["default"]).service(bn["default"].NG_NAME,bn["default"]).service(Gn["default"].NG_NAME,Gn["default"]).service(wn["default"].NG_NAME,wn["default"]).config(Le["default"])},,function(e,t,n){"use strict";t.__esModule=!0,t["default"]={ANDORRA:"AD",INDIA:"IN",BRAZIL:"BR",UNITED_STATES:"US",ITALY:"IT",GREAT_BRITAIN:"GB",GERMANY:"DE",UKRAINE:"UA",CHINA:"CN"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={CANCELLED:0,OK:200,NO_CONTENT:204,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,REQUEST_TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,EXPECTATION_FAILED:417,UNPROCESSABLE_ENTITY:422,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,NOT_ENOUGH_DATA:513}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={DHL_ACCOUNT:"DHL_ACCOUNT",ALTERNATE_DHLACCOUNT:"ALTERNATE_DHLACCOUNT",ONLINE_PAYMENT:"ONLINE_PAYMENT",CASH:"CASH",RECEIVER_WILL_PAY:"RECEIVER_WILL_PAY"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={DOCUMENT:"DOCUMENT",PACKAGE:"PACKAGE",BOTH:"BOTH",PACKAGE_NON_DUTIABLE:"PACKAGE_NON_DUTIABLE"}},function(e,t,n){"use strict";t.__esModule=!0;var i=angular.injector(["ng"]).get("$window"),r={addModule:function(){function e(e){i.bootModules=i.bootModules||[],i.bootModules.includes(e)||i.bootModules.push(e)}return e}()};t["default"]=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){"ngInject";function n(e){return e.loadTemplate("/ng-template/shipment/print-complete.html")}function i(e,t,n){var i=t.initInvoiceState(e);return n.applySpinner(i)}function r(e,t){return e.get("shipment-type-references.html")||t.loadNgTemplates("/ng-template/shipment/assign-basic-templates.html","shipment-lazy-load")}n.$inject=["lazyLoadService"],i.$inject=["models","enhancedInvoiceStateService","spinnerService"],r.$inject=["$templateCache","lazyLoadService"],e.when("","/").otherwise("/"),t.state(p.SHIPMENT,{"abstract":!0,templateUrl:"shipment-abstract.html"}).state(p.CREATE_SHIPMENT,{url:"/?"+Object.keys(f).join("&"),params:{internalNavigation:!1},resolve:{triggerTrustEvInitialization:function(){function e(e){e.preloadTrustEv()}return e.$inject=["trustEvService"],e}(),whoAmI:function(){function e(e){return e.whoAmI()}return e.$inject=["userService"],e}(),isNfeEntryOnly:function(){function e(e,t){return!!e.identityType&&t.isNfeEntryOnly()}return e.$inject=["whoAmI","nfeEntryOnlyService"],e}()},views:{"":{templateProvider:function(){function e(e,t,n){var i=n?d.NFE_ENTRY_ONLY:d[t.personaType]||d.GUEST;return e.fromUrl(i)}return e.$inject=["$templateFactory","whoAmI","isNfeEntryOnly"],e}()}}}).state(p.SHIPMENT_STATUS,{url:"/status",templateUrl:"components/shipment/status/shipment-status.html"}).state(p.SHIPMENT_PRINT,{url:"/print",templateUrl:"/ng-template/shipment-print.html",resolve:{printCompleteTemplates:n}}).state(p.SHIPMENT_COMPLETE,{url:"/complete",templateUrl:"/ng-template/shipment-complete.html",resolve:{printCompleteTemplates:n,customClearanceTemplate:function(){function e(e,t){return e.get("speedup-custom-clearance-layout.html")||t.loadTemplate("/ng-template/shipment/speedup-custom-clearance.html")}return e.$inject=["$templateCache","lazyLoadService"],e}()}}).state(p.ASSIGN_SHIPMENT,{url:"/assign-shipment",params:{isShipmentValid:!1,isReturnLabel:!1},templateUrl:"components/shipment/assign-shipment.html",controller:c["default"],controllerAs:"assignStateCtrl",resolve:{referenceAndQuotationTemplate:r}}).state(p.ENHANCED_INVOICE,{url:"/enhanced-invoice",templateUrl:"components/shipment/enhanced-invoice.html",resolve:{models:function(){function e(e){return e.resolveMasterModels()}return e.$inject=["enhancedInvoiceStateService"],e}(),enhancedInvoiceInit:i},controller:a["default"],controllerAs:"enhancedInvoiceStateCtrl"}).state(p.RETURN_LABEL_ENHANCED_INVOICE,{url:"/return-label-enhanced-invoice",templateUrl:"components/shipment/enhanced-invoice.html",resolve:{models:function(){function e(e){return e.resolveReturnLabelModels()}return e.$inject=["enhancedInvoiceStateService"],e}(),enhancedInvoiceInit:i},controller:a["default"],controllerAs:"enhancedInvoiceStateCtrl"}).state(p.RATE_AND_QUOTE,{url:"/rate-and-quote?"+Object.keys(f).join("&"),resolve:{processRnqAccess:function(){function e(e,t){e.getCoreRestriction(l["default"].ALLOW_ACCESS_RQ_TOOL)||t.redirectToHome()}return e.$inject=["userService","navigationService"],e}()},template:'<div ewf-lazy-load="/ng-template/shipment/rate-and-quote.html"\n                          ewf-lazy-load-module="shipment-lazy-load">'}).state(p.RETURN_LABEL,{url:"/return-label?shipmentId",template:'<div ewf-lazy-load="/ng-template/shipment/return-label-ng-template.html"\n                          ewf-lazy-load-module="shipment-lazy-load">'}).state(p.SELF_SERVICE_BOOKING,{url:"/drop-off-self-service-booking",templateUrl:"/ng-template/shipment/self-service-booking.html"}).state(p.MAILING_LIST_SHIPMENT_RESULTS,{url:"/mailing-list-shipment-results",templateUrl:"/ng-template/shipment/mailing-list.html"})}r.$inject=["$urlRouterProvider","$stateProvider"],t.__esModule=!0,t.states=undefined,t["default"]=r;var o=n(1298),a=i(o),u=n(1299),c=i(u),s=n(36),l=i(s),d={NOVICE:"components/shipment/novice.html",GUEST:"components/shipment/novice.html",EXPERT:"components/shipment/expert.html",NFE_ENTRY_ONLY:"/ng-template/shipment/nfe-entry-only.html"},f={fromAddressLine:"",fromCountry:"",fromCity:"",fromPostalCode:"",fromDivision:"",fromSuburb:"",fromContactKey:"",toAddressLine:"",toCountry:"",toCity:"",toPostalCode:"",toDivision:"",toSuburb:"",toContactKey:""},p=t.states={SHIPMENT:"shipment",CREATE_SHIPMENT:"shipment.create-shipment",SHIPMENT_STATUS:"shipment.status",SHIPMENT_PRINT:"shipment.print",SHIPMENT_COMPLETE:"shipment.complete",ASSIGN_SHIPMENT:"shipment.assign-shipment",ENHANCED_INVOICE:"shipment.enhanced-invoice",RETURN_LABEL_ENHANCED_INVOICE:"shipment.return-label-enhanced-invoice",RATE_AND_QUOTE:"rate-and-quote",SELF_SERVICE_BOOKING:"drop-off-self-service-booking",RETURN_LABEL:"return-label",MAILING_LIST_SHIPMENT_RESULTS:"mailing-list-shipment-results"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1239),u=i(a),c=n(1240),s=i(c),l=n(1241),d=i(l),f=angular.module("common.utils.navigation",[o["default"]||"common.utils"]);f.service(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]),t.module=f,t["default"]="common.utils.navigation"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(){i(this,e),this.registered=!1}return e.prototype.addPartToShipmentModel=function(){function e(e){!this.registered&&e&&(e.addPartModel(this),this.registered=!0)}return e}(),e.prototype.getDataPart=function(){function e(){throw new Error("ShipmentPartModel#getDataPart should be implemented in child")}return e}(),e.prototype.initDataPart=function(){function e(){throw new Error("ShipmentPartModel#initDataPart should be implemented in child")}return e}(),e.prototype.clearDataPart=function(){function e(){this.initDataPart({})}return e}(),e}();t["default"]=r},function(e,t,n){"use strict";t.__esModule=!0;var i,r={STATUS_FILTERS_GROUP:"statusFilters",ACCOUNTS_FILTERS_GROUP:"accountFilters",USERS_FILTERS_GROUP:"userFilters",DATE_RANGE_FILTER:"dateFilter",FAVORITES_FILTER:"favoritesOnly",VISIBILITY_FILTER:"shipmentVisibility",SHIPMENT_TYPE_FILTER:"myShipmentViewMode"},o=(i={},i[r.STATUS_FILTERS_GROUP]=null,i[r.ACCOUNTS_FILTERS_GROUP]=null,i[r.USERS_FILTERS_GROUP]=null,i[r.FAVORITES_FILTER]=!1,i[r.DATE_RANGE_FILTER]={type:"ALL",range:null},i);t["default"]=r,t.DEFAULTS=o},,function(e,t,n){"use strict";t.__esModule=!0,t["default"]={CURRENT_GROUP:"ewfCorpGroup",PROVIEW_LOGOUT_URL:"proviewLogoutUrl",ESECURE_LOGOUT_URL:"esecureLogoutUrl",USER_LANGUAGE:"userLanguage",DEFAULT_COUNTRY:"defaultCountry",IS_DEFAULT_USER_PREFIX:"ewfIsDefaultRegular",SESSION_DATA:"ewfSessionData",WCM_MODE:"wcmmode",REQUESTED_URL_COOKIE_NAME:"requestedUrl",RATE_DATA:"ewfCallRateData",RATE_DATA_ACCOUNT:"ewfClAcc",RATE_DATA_EMAIL:"ewfClEma",SHIPMENTS_DOCUMENTS_REQUEST_COOKIE:"ewfShipmentDocumentsRequest",TRUST_EV_SESSION_ID:"ewfFraudPreventionId",VIEWED_IMPORTANT_INFO_ITEMS:"viewedImportantInfoItems",DESKTOP:"desktop"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return e&&e.length?e.filter(function(e){return e.identifierType&&e.identifierValue&&a(e)&&u(e)}).map(function(e){return{identifierType:e.identifierType,identifierValue:e.identifierValue}}):[]}function a(e){return!(e.identifierType===m["default"].USCI)||e.isUsciAvailable}function u(e){return!(e.identifierType===m["default"].CRN)||e.isCrnAvailable}t.__esModule=!0,t.DEFAULT_CONTACT_KEY=t.getValidPersonalInformation=undefined;var c=n(390),s=n(56),l=i(s),d=n(45),f=i(d),p=n(397),m=i(p),_="00",E={city:"",citySuburbName:"",addrLine1:"",addrLine2:"",addrLine3:"",countryDivisionName:"",countryDivisionCode:"",countryDivisionTypeCode:undefined,zipOrPostCode:"",countryCode:null,countryName:"",residentialAddress:!1,placeId:"",streetNumber:"",cityCode:""},S={vatTaxId:"",eoriNumber:""},g={selectedPickupLocation:"",instructionsForCourier:""},C={key:_,email:"",name:"",company:"",nickname:"",taxDetails:angular.copy(S),addressDetails:angular.copy(E),phoneDetails:(0,c.createEmptyPhoneDetails)(),phoneDetails2:null,cnpjOrCPFTaxID:"",isCnpjOrCPFTaxIDValid:null,ieTaxId:"",cnpjOrCPFTaxType:null,associatePaymentOptionsWithCustomer:!1,additionalNotes:"",profileContact:!1,isContactChanged:!1,collectionType:null,businessContactType:f["default"].PRIVATE,pickupSetting:angular.copy(g),personalIdentifiableInformation:[]},A=l["default"].RESIDENTIAL,h=function(){function e(){r(this,e),this.clear()}return e.prototype.clear=function(){function e(e){var t=this.getCleanedCountry(e);Object.assign(this,angular.copy(C)),Object.assign(this.addressDetails,t),delete this.selectedCorrectAddress}return e}(),e.prototype.clearAddressDetails=function(){function e(e){var t=this.getCleanedCountry(e);Object.assign(this.addressDetails,angular.copy(E)),Object.assign(this.phoneDetails,(0,c.createEmptyPhoneDetails)()),Object.assign(this.pickupSetting,g),Object.assign(this.addressDetails,t)}return e}(),e.prototype.getCleanedCountry=function(){function e(e){var t={};return e&&(t.countryCode=this.addressDetails.countryCode,t.countryName=this.addressDetails.countryName),t}return e}(),e.prototype.copy=function(){function e(e){this.clear(),Object.assign(this,angular.copy(e)),this.key=e.addressDetails.key||e.key,this.addressDetails={},this.phoneDetails={},Object.assign(this.addressDetails,e.addressDetails),Object.assign(this.phoneDetails,e.phoneDetails),Object.assign(this.pickupSetting,e.pickupSetting),e.phoneDetails2&&(this.phoneDetails2={},Object.assign(this.phoneDetails2,e.phoneDetails2))}return e}(),e.prototype.setFromAddressBook=function(){function e(e){this.additionalNotes=e.additionalNotes,this.key=e.key,this.email=e.email,this.name=e.contactName,this.company=e.companyName,this.businessContactType=e.businessContactType,this.nickname=e.nickName,this.cnpjOrCPFTaxID=e.cnpjOrCPFTaxID,this.isCnpjOrCPFTaxIDValid=!!e.cnpjOrCPFTaxID||null,this.ieTaxId=e.ieTaxId,this.cnpjOrCPFTaxType=e.cnpjOrCPFTaxType,this.taxDetails={vatTaxId:e.vatOrTaxId,eoriNumber:e.eoriNumber,goodsAndServicesTaxId:e.goodsAndServicesTaxId,gstinType:e.gstinType,iecTaxId:e.iecTaxId,ein:e.ein},this.addressDetails={city:e.city,addrLine1:e.address,addrLine2:e.address2||"",addrLine3:e.address3||"",countryDivisionName:e.countryDivisionName,countryDivisionCode:e.countryDivisionCode,countryDivisionTypeCode:e.countryDivisionTypeCode,zipOrPostCode:e.zipOrPostCode,countryCode:e.countryCode,countryName:e.country,residentialAddress:this.isResidentialAddress(e),placeId:e.placeId,citySuburbName:e.citySuburbName,streetNumber:e.streetNumber},this.pickupSetting=function(e){return{selectedPickupLocation:e&&e.selectedPickupLocation||"",instructionsForCourier:e&&e.instructionsForCourier||""}}(e.pickupSetting),this.phoneDetails=(0,c.createPhoneDetails)(e.phoneDetails),this.phoneDetails2=(0,c.createPhoneDetails)(e.phoneDetails2),this.profileContact=e.profileContact,this.collectionType=e.collection||null,this.isContactChanged=this.isABContactDetailsChanged(e),this.personalIdentifiableInformation=function(e){return e.personalIdentifiableInformation||[]}(e)}return e}(),e.prototype.isABContactDetailsChanged=function(){function e(e){return e.isContactChanged||!1}return e}(),e.prototype.isResidentialAddress=function(){function e(e){return angular.isDefined(e.residentialAddress)?e.residentialAddress:e.addressType===A}return e}(),e.prototype.getForAddressBook=function(){function e(){var e={key:this.key||_,contactDetails:{addressDetails:{},phoneDetails:{},taxDetails:{},personalIdentifiableInformation:[]},profileContact:this.profileContact},t=this.nickname,n=this.name,i=this.company,r=this.businessContactType,o=this.email,a=this.taxDetails,u=this.phoneDetails,s=this.phoneDetails2,l=this.addressDetails,d=this.ieTaxId,f=this.cnpjOrCPFTaxID,p=this.cnpjOrCPFTaxType,m=this.additionalNotes,E=this.personalIdentifiableInformation;return Object.assign(e.contactDetails,{additionalNotes:m,nickname:t,name:n,company:i,businessContactType:r,email:o,taxDetails:{ieTaxId:d,cnpjOrCPFTaxID:f,cnpjOrCPFTaxType:p,vatTaxId:a.isVatTaxIdAvailable&&a.vatTaxId||null,eoriNumber:a.eoriNumber,goodsAndServicesTaxId:a.goodsAndServicesTaxId,gstinType:a.gstinType,iecTaxId:a.iecTaxId||null,ein:a.ein||null},addressDetails:{addrLine1:l.addrLine1,addrLine2:l.addrLine2,addrLine3:l.addrLine3,zipOrPostCode:l.zipOrPostCode,city:l.city,countryDivisionName:l.countryDivisionName,countryDivisionCode:this.getCountryDivision(),countryDivisionTypeCode:l.countryDivisionTypeCode,residentialAddress:!!l.residentialAddress,countryCode:l.countryCode,citySuburbName:l.citySuburbName,streetNumber:l.streetNumber},phoneDetails:(0,c.createPhoneDetails)(u),phoneDetails2:(0,c.createPhoneDetails)(s),personalIdentifiableInformation:this.getPersonalIdentifiableInformation(E)}),e}return e}(),e.prototype.getPersonalIdentifiableInformation=function(){function e(e){return o(e)}return e}(),e.prototype.joinNonEmptyFields=function(){function e(){var e=arguments.length<=0||arguments[0]===undefined?[]:arguments[0],t=arguments.length<=1||arguments[1]===undefined?"":arguments[1];return e.filter(function(e){return!!e}).join(t)}return e}(),e.prototype.getFormattedContact=function(){function e(){var e=this.joinNonEmptyFields([this.addressDetails.addrLine1,this.addressDetails.city,this.addressDetails.countryDivisionName],", "),t=this.joinNonEmptyFields([this.addressDetails.zipOrPostCode,this.addressDetails.countryName],", "),n=this.joinNonEmptyFields([e,t]," ");return""+this.name+(n&&" ("+n+")")}return e}(),e.prototype.getCountryDivision=function(){function e(){var e=this.addressDetails,t=e.countryDivisionCode,n=e.countryDivisionName;return t||(n||"").slice(0,2)}return e}(),e.prototype.transliterate=function(){function e(){var e=this.addressDetails,t=e.englishAddress;e.invalidHouseNumber=!t.house,e.addrLine1=t.addressLine1,e.addrLine2=t.addressLine2,e.addrLine3=t.addressLine3,e.city=t.city,e.zipOrPostCode=t.postalCode,e.countryDivisionName=t.state,e.countryDivisionCode=t.stateCode,this.formDataChanged=!0}return e}(),e.prototype.clearCityInfo=function(){function e(){this.addressDetails.city="",this.addressDetails.zipOrPostCode=""}return e}(),e.prototype.clearCountryDivisionInfo=function(){function e(){this.addressDetails.countryDivisionCode="",this.addressDetails.countryDivisionName=""}return e}(),e.prototype.setCity=function(){function e(e){this.addressDetails.city=e}return e}(),e.prototype.setZipOrPostCode=function(){function e(e){this.addressDetails.zipOrPostCode=e}return e}(),e.prototype.setAssociatePaymentOptionsWithCustomer=function(){function e(e){this.associatePaymentOptionsWithCustomer=e}return e}(),e}();t["default"]=h,t.getValidPersonalInformation=o,t.DEFAULT_CONTACT_KEY=_},,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];i(this,e),this.setOptions(t)}return e.prototype.getMessage=function(){function e(){return this.options.msg||this.msg||""}return e}(),e.prototype.setMessage=function(){function e(e){this.msg=e||""}return e}(),e.prototype.getMessageParams=function(){function e(){return this.messageParams||{}}return e}(),e.prototype.setMessageParams=function(){function e(e){this.messageParams=e}return e}(),e.prototype.removeMessage=function(){function e(){delete this.msg}return e}(),e.prototype.setCSSClass=function(){function e(e){this.cssClass=e}return e}(),e.prototype.getCSSClass=function(){function e(){return this.cssClass||""}return e}(),e.prototype.setOptions=function(){function e(e){angular.isObject(this.options)||(this.options={}),Object.assign(this.options,e)}return e}(),e.prototype.getOptions=function(){function e(){return this.options}return e}(),e.prototype.setValidatorName=function(){function e(e){this.validatorName=e}return e}(),e.prototype.getValidatorName=function(){function e(){return this.validatorName}return e}(),e.prototype.setCountryCode=function(){function e(e){this.countryCode=e}return e}(),e.prototype.validate=function(){function e(){throw new Error("BaseValidator#validate should be implemented in child.")}return e}(),e}();t["default"]=r},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={ASSIGNED_PENDING_SHIPPER_ACTION:"ASSIGNED_PENDING_SHIPPER_ACTION",ASSIGNED_INCOMPLETE:"ASSIGNED_INCOMPLETE",PICKED_UP:"PICKED_UP",SHIPPING_TODAY:"SHIPPING_TODAY",FUTURE_SHIPMENT:"FUTURE_SHIPMENT",READY_TO_PRINT:"READY_TO_PRINT",READY_TO_SEND_QR_CODE:"READY_TO_SEND_QR_CODE",SAVED_BY_ME:"SAVED_BY_ME",PENDING_MY_APPROVAL:"PENDING_MY_APPROVAL",PENDING_ADMIN_APPROVAL:"PENDING_ADMIN_APPROVAL",ASSIGNED_TO_ME:"ASSIGNED_TO_ME",PENDING_REQUESTOR_APPROVAL:"PENDING_REQUESTOR_APPROVAL",PENDING_ASSIGNEE_ACTION:"PENDING_ASSIGNEE_ACTION",DECLINED_BY_SHIPPER:"DECLINED_BY_SHIPPER",IN_TRANSIT:"IN_TRANSIT",DELIVERED:"DELIVERED",NOT_DELIVERED:"NOT_DELIVERED",CANCELLED:"CANCELLED",APPROVED:"APPROVED",EDIT_REQUESTED:"EDIT_REQUESTED",INCOMPLETE:"INCOMPLETE",MANIFESTED:"MANIFESTED",MIGRATED:"MIGRATED"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(891),u=i(a),c=n(1692),s=i(c),l=n(1693),d=i(l),f=n(1694),p=i(f),m=n(1695),_=i(m),E=n(1696),S=i(E),g=n(1697),C=i(g),A=n(1698),h=i(A),I=n(1699),v=i(I),N=n(1700),T=i(N),M=n(1701),y=i(M),O=n(1709),D=i(O),P=n(914),R=i(P),b=n(1710),L=i(b),G=n(1711),k=i(G),w=n(915),U=i(w),F=n(1713),j=i(F),V=n(95),B=i(V),$=n(917),H=i($),x=n(1723),K=i(x),Y=angular.module("shipment.services",[o["default"]||"common.utils",u["default"],U["default"],B["default"],H["default"]]);Y.service(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]).service(_["default"].NG_NAME,_["default"]).service(S["default"].NG_NAME,S["default"]).service(C["default"].NG_NAME,C["default"]).service(h["default"].NG_NAME,h["default"]).service(v["default"].NG_NAME,v["default"]).service(T["default"].NG_NAME,T["default"]).service(D["default"].NG_NAME,D["default"]).service(R["default"].NG_NAME,R["default"]).service(L["default"].NG_NAME,L["default"]).service(k["default"].NG_NAME,k["default"]).service(j["default"].NG_NAME,j["default"]).service(K["default"].NG_NAME,K["default"]).factory(y["default"].NG_NAME,y["default"]),t.module=Y,t["default"]="shipment.services"},function(e,t,n){"use strict";t.__esModule=!0;t.MIN_PAGE_SIZE=10,t.MAX_PAGE_SIZE=9999},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={LOGIN_PAGE:"auth/login.html",SSO_LOGIN_PAGE:"auth/sso-login.html",LOGOUT_PAGE:"auth/login.html##logout",HOME_TEMPLATE_LOGOUT_PAGE:"auth/logout.html",ACCOUNT_ACTIVATED_PAGE:"auth/login.html##activated",RESET_PASSWORD_PAGE:"auth/reset-password.html",LINK_ERROR_PAGE:"auth/link-error.html",NOT_FOUND_PAGE:"errors/404.html",SSO_ERROR_PAGE:"errors/sso-error.html",SHIPMENT_PAGE:"shipment.html",RATE_AND_QUOTE_PAGE:"shipment.html#/rate-and-quote",RETURN_LABEL_PAGE:"shipment.html#/return-label",MANAGE_SHIPMENTS_PAGE:"manage-shipments.html",MANAGE_SHIPMENTS_DETAILS_PAGE:"manage-shipment-details.html#/manageShipmentDetails",SHIPMENT_PRINT_PAGE:"shipment.html#/print",SHIPMENT_COMPLETE_PAGE:"shipment.html#/complete",ASSIGN_SHIPMENT_PAGE:"shipment.html#/assign-shipment",DROP_OFF_SSB:"shipment.html#/drop-off-self-service-booking",HOME_PAGE:"home.html",HOME_FAVORITE_SHIPMENTS_PAGE:"home.html#/createFromFavoriteTab",HOME_PAST_SHIPMENTS_PAGE:"home.html#/createFromPastTab",SHIPMENT_SETTINGS:"shipment-settings.html",MANAGE_DHL_ACCOUNTS_PAGE:"shipment-settings.html#/dhl-accounts",MANAGE_SHIPMENT_DEFAULTS:"shipment-settings.html#/manage-defaults",AUTHORIZED_ACCOUNT_USAGE_PAGE:"shipment-settings.html#/authorized-account-usage",CUSTOMS_ENROLLMENT_PAGE:"shipment-settings.html#/digital-customs-invoices",CUSTOMS_INVOICE_TEMPLATES:"shipment-settings.html#/customs-invoice-templates",USER_PROFILE_PAGE:"user-profile.html",HELP_CENTER_PAGE:"help-center.html",PROFILE_DETAILS:"/profile-details.html",QUICK_LINKS_PAGE:"profile-details.html#/manage-my-dhl?section=quickLinks",DASHBOARD_TYPE_PAGE:"profile-details.html#/manage-my-dhl?section=manageDashboard",SHIPMENT_PROCESS_PAGE:"profile-details.html#/manage-my-dhl?section=selectShipmentProcess",PASSWORD_EXPIRED_PAGE:"auth/password-expired.html",CHANGE_EXPIRED_PASSWORD_PAGE:"auth/change-expired-password.html",NEW_CONTACT_PAGE:"new-contact.html",VIEW_CONTACT_PAGE:"view-contact.html",DECLINE_ASSIGNED_SHIPMENT:"shipment/decline-assigned-shipment.html",ASSIGNED_SHIPMENT_STATUS:"shipment/assigned-shipment-status.html",TRACKING_PAGE:"tracking.html",TRACKING_RESULTS_PAGE:"tracking.html#/results",BILLING:"billing.html#/billing",ESECURE:"esecure.html",PROVIEW:"user-profile.html",MANAGE_PICKUPS_ROOT:"manage-pickups.html",MANAGE_PICKUPS_PAGE:"manage-pickups.html#/my-pickups",MANAGE_PICKUPS_EDIT_PAGE:"manage-pickups.html#/my-pickups-edit",MANAGE_PICKUPS_DETAILS_PAGE:"manage-pickups.html#/my-pickups-details",PICKUP_PAGE:"schedule-pickup.html",SCHEDULE_PICKUP:"schedule-pickup.html#/schedule-pickup",SCHEDULE_PICKUP_HASH:"#/schedule-pickup",ADDRESS_BOOK:"address-book.html",ADDRESS_BOOK_IMPORT:"address-book-import.html",CORPORATE_USERS:"corporate.html#/user-management",CORPORATE_EXTERNAL_MODULES:"corporate.html#/external-modules",SEARCH:"search.html#",B2L:"b2l.html",SHIPMENT_IMPORT:"shipment-import.html",REPORTING:"reporting.html",REPORTING_VIEW:"reporting.html#/listing/{key}/view",FILE_DOWNLOAD:"file.html",TENANT_LOGIN:"auth/tenant-login.html"}},,function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1837),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o="profile.shipmentSettings.shipmentDefaults.resources",a=angular.module(o,[]);a.service(r["default"].NG_NAME,r["default"]),t.module=a,t["default"]=o},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={LOGIN_ATTEMPT:"LoginAttempt",USER_NAME:"Username",DROP_OFF_TEASER_DO_NOT_SHOW_AGAIN:"DropOffTeaserDoNotShowAgain",IS_CORP_NAV_DISPLAYED:"IsCorpNavDisplayed",HOME_ALERT_MESSAGE_KEY:"HomeAlertMessage",HOME_ALERT_TYPE_KEY:"HomeAlertType",LOGIN_NEXT_FORM_MESSAGE:"login.next_form_title",LOGIN_REMEMBER_ME_OPTION:"dhlRememberMeAs",TRUST_EV_LOCAL_STORAGE_KEY:"showTrustEvErrorMessage",LOGGED_IN_AT_LEAST_ONCE:"LoggedInAtLeastOnce",ADDRESS_REMEMBERED:"addressRemembered",ADDRESS_DETAILS:"addressDetails",ADDRESSBOOK_ACTION_PARAM_NAME:"showAlert",ADDRESSBOOK_COLLECTION_PARAM_NAME:"currentCollection",HIDE_DASHBOARD_NOTIFICATION_KEY:"hideDashboardNotification",INDUSTRIAL_DASHBOARD_EXPANDED_KEY:"industrialDashboardExpanded",SHOW_DASHBOARD_MODAL:"showDashboardModal",DONT_SHOW_AGAIN_INR_ALERT_KEY:"DontShowInrAlert",DISMISSED_LANE_ALERT:"dismissedLaneAlerts",RATE_AND_QUOTE_MODEL_DATA:"rnqModelData",RATE_AND_QUOTE_LOCATION:"rnqLocation"}},,,function(e,t,n){"use strict";t.__esModule=!0,t["default"]={showInformationHintTimeout:4e3,spinnerTimeout:300,manageMyShipmentsDebounceTimeout:1e3,fetchProductsDebounceTimeout:1e3,defaultDebounceTimeout:500,sectionLoaderDelay:3e3,pageLoadedEvent:"onPageLoaded",currencyConversionTimeout:500}},,function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1448),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("profile.contact.resources",[]);o.service(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="profile.contact.resources"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(230),o=i(r),a=n(48),u=i(a),c=n(406),s=i(c),l=n(37),d=i(l),f=n(2026),p=i(f),m=n(2027),_=i(m),E=n(2028),S=i(E),g=n(2029),C=i(g),A=n(2030),h=i(A),I=n(2031),v=i(I),N=n(2032),T=i(N),M=n(2033),y=i(M),O=n(2034),D=i(O),P=n(2035),R=i(P),b=n(2037),L=i(b),G=n(476),k=i(G),w=angular.module("shipment.payment",[o["default"],d["default"]||"shipment.type",u["default"]||"shipment.address",s["default"]||"addressBook.globalIncoterms"]);w.service(p["default"].NG_NAME,p["default"]).service(_["default"].NG_NAME,_["default"]).service(S["default"].NG_NAME,S["default"]).service(C["default"].NG_NAME,C["default"]).service(h["default"].NG_NAME,h["default"]).service(v["default"].NG_NAME,v["default"]).service(T["default"].NG_NAME,T["default"]).factory(L["default"].NG_NAME,L["default"]).service(D["default"].NG_NAME,D["default"]).service(R["default"].NG_NAME,R["default"]).service(k["default"].NG_NAME,k["default"]).service(y["default"].NG_NAME,y["default"]),t.module=w,t["default"]="shipment.payment"},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1327),o=i(r),a=n(1337),u=i(a),c=n(1339),s=i(c),l=n(1342),d=i(l),f=n(1345),p=i(f),m=n(1354),_=i(m),E=n(1357),S=i(E),g=n(1360),C=i(g),A=n(1670),h=i(A),I=n(1674),v=i(I),N=n(1677),T=i(N),M=n(2),y=i(M),O=n(394),D=i(O),P=n(1680),R=i(P),b=n(1681),L=i(b),G=n(1682),k=i(G),w=n(1683),U=i(w),F=n(1684),j=i(F),V=n(1685),B=i(V),$=n(1686),H=i($),x=n(1687),K=i(x),Y=n(1688),W=i(Y),q=n(1689),z=i(q),X=n(1690),Q=i(X),Z=angular.module("common.configuration",[y["default"]||"common.utils",D["default"],o["default"],u["default"],s["default"],d["default"],p["default"],_["default"],S["default"],C["default"],h["default"],v["default"],T["default"]]);Z.constant(H["default"].NG_NAME,H["default"]).run(j["default"]).run(B["default"]).directive(Q["default"].NG_NAME,Q["default"]).service(U["default"].NG_NAME,U["default"]).service(W["default"].NG_NAME,W["default"]).service(K["default"].NG_NAME,K["default"]).service(R["default"].NG_NAME,R["default"]).service(L["default"].NG_NAME,L["default"]).service(z["default"].NG_NAME,z["default"]).service(k["default"].NG_NAME,k["default"]),t.module=Z,t["default"]="common.configuration"},,function(e,t,n){"use strict";t.__esModule=!0;var i={SHIP_BOTH:"SHIP_BOTH",SHIP_FROM:"SHIP_FROM",SHIP_TO:"SHIP_TO"};t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(63),o=i(r),a=n(1482),u=i(a),c=angular.module("shipment.flow",[o["default"]]);c.service(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="shipment.flow"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={ALLOW_ACCESS_RQ_TOOL:"rqToolAllowAccess",ALLOW_ACCOUNTS:"accountEnabled",ALLOW_SCHEDULE_PICKUP:"schedulePickup",DELIVERY_TO_SERVICE_POINT_ENABLED:"deliveryToServicePointEnabled",DISPLAY_SHIPMENT_PRICING:"displayPricingInShipment",DISPLAY_SHIPMENT_SURCHARGES:"displaySurchargesInShipment",GLOBAL_MAIL_IN_SHIP_TO_ONLY:"globalMailInShipToOnly",INSURANCE_SERVICE_ENABLED:"insuranceServiceEnabled",PLT_ENABLED:"pltEnabled",PLT_ENROLMENT_TYPE:"pltEnrolmentType",PLT_IS_MANDATORY:"pltIsMandatory",REWARD_ENABLED:"rewardEnabled",RQ_TOOL_ALLOW_ACCESS:"rqToolAllowAccess",CAN_CREATE_DOCUMENTS:"canCreateDocuments"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1850),o=i(r),a=n(458),u=i(a),c=n(928),s=i(c),l=n(1899),d=i(l),f=n(933),p=i(f),m=n(118),_=i(m),E=n(19),S=i(E),g=n(35),C=i(g),A=n(99),h=i(A),I=n(469),v=i(I),N=n(471),T=i(N),M=n(119),y=i(M),O=n(944),D=i(O),P=n(945),R=i(P),b=n(1962),L=i(b),G=n(1963),k=i(G),w=n(468),U=i(w),F=n(1964),j=i(F),V=n(1965),B=i(V),$=n(1966),H=i($),x=n(1967),K=i(x),Y=n(1968),W=i(Y),q=n(1969),z=i(q),X=n(1970),Q=i(X),Z=n(1972),J=i(Z),ee=n(1973),te=i(ee),ne=n(1974),ie=i(ne),re=n(1975),oe=i(re),ae=angular.module("shipment.type",[o["default"],u["default"],s["default"],d["default"],p["default"],S["default"],C["default"],_["default"],h["default"],v["default"],T["default"]]);ae.directive(j["default"].NG_NAME,j["default"]).directive(B["default"].NG_NAME,B["default"]).directive(W["default"].NG_NAME,W["default"]).directive(z["default"].NG_NAME,z["default"]).directive(Q["default"].NG_NAME,Q["default"]).directive(J["default"].NG_NAME,J["default"]).directive(oe["default"].NG_NAME,oe["default"]).directive(te["default"].NG_NAME,te["default"]).directive(ie["default"].NG_NAME,ie["default"]).directive(H["default"].NG_NAME,H["default"]).directive(K["default"].NG_NAME,K["default"]).service(y["default"].NG_NAME,y["default"]).service(D["default"].NG_NAME,D["default"]).service(R["default"].NG_NAME,R["default"]).service(U["default"].NG_NAME,U["default"]).service(L["default"].NG_NAME,L["default"]).service(k["default"].NG_NAME,k["default"]),t.module=ae,t["default"]="shipment.type"},,,function(e,t,n){"use strict";t.__esModule=!0,t["default"]={ASC:"ASC",DESC:"DESC"}},,function(e,t,n){"use strict";t.__esModule=!0,t["default"]={SHIPPER:"SHIPPER",PAYER:"PAYER"};t.GCDB_STATUS={REGULAR:"REGULAR",OCCASIONAL:"OCCASIONAL",CASH:"CASH",FREE_OF_CHARGE:"FREE_OF_CHARGE",TRANSPORT_COLLECT:"TRANSPORT_COLLECT"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1849),o=i(r),a=n(404),u=i(a),c=n(2),s=i(c),l=n(915),d=i(l),f=n(1982),p=i(f),m=angular.module("shipment.address-contact",["ui.router",o["default"],u["default"],d["default"],s["default"]]);m.directive(p["default"].NG_NAME,p["default"]),t.module=m,t["default"]="shipment.address-contact"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={DHL:"DHL",CUSTOM:"CUSTOM",USER_PROFILE:"USER_PROFILE"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={BUSINESS:"BU",PRIVATE:"PR"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={AVAILABLE:"AVAILABLE",NOT_EDITABLE:"NOT_EDITABLE",HIDDEN:"HIDDEN"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={CREATE:"CREATE_CUSTOMS_INVOICE",USE:"USE_MY_OWN_CUSTOMS_INVOICE"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1842),o=i(r),a=n(23),u=i(a),c=n(29),s=i(c),l=n(0),d=i(l),f=n(231),p=i(f),m=n(30),_=i(m),E=n(473),S=i(E),g=n(949),C=i(g),A=n(2009),h=i(A),I=n(2010),v=i(I),N=n(2012),T=i(N),M=n(2013),y=i(M),O=n(2014),D=i(O),P=n(2015),R=i(P),b=n(2017),L=i(b),G=n(2018),k=i(G),w=n(2019),U=i(w),F=n(2020),j=i(F),V=n(2021),B=i(V),$=n(2022),H=i($),x=n(2023),K=i(x),Y=n(120),W=i(Y),q=angular.module("shipment.address",[o["default"],u["default"],s["default"],d["default"],p["default"],_["default"]||"shipment.payment",S["default"],C["default"]]);q.directive(h["default"].NG_NAME,h["default"]).directive(v["default"].NG_NAME,v["default"]).directive(T["default"].NG_NAME,T["default"]).service(y["default"].NG_NAME,y["default"]).service(D["default"].NG_NAME,D["default"]).service(R["default"].NG_NAME,R["default"]).service(L["default"].NG_NAME,L["default"]).service(k["default"].NG_NAME,k["default"]).service(U["default"].NG_NAME,U["default"]).service(j["default"].NG_NAME,j["default"]).service(B["default"].NG_NAME,B["default"]).service(H["default"].NG_NAME,H["default"]).service(K["default"].NG_NAME,K["default"]).factory(W["default"].NG_NAME,W["default"]),t.module=q,t["default"]="shipment.address"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1913),u=i(a),c=n(1914),s=i(c),l=n(936),d=i(l),f=n(1915),p=i(f),m=angular.module("shipment.printPreview",[o["default"]]);m.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]),t.module=m,t["default"]="shipment.printPreview"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(937),o=i(r),a=n(466),u=i(a),c=n(2),s=i(c),l=n(49),d=i(l),f=n(19),p=i(f),m=n(467),_=i(m),E=n(917),S=i(E),g=n(1925),C=i(g),A=n(1928),h=i(A),I=n(1930),v=i(I),N=n(1931),T=i(N),M=n(1932),y=i(M),O=n(1933),D=i(O),P=n(1934),R=i(P),b=n(1935),L=i(b),G=n(1936),k=i(G),w=n(1937),U=i(w),F=n(1938),j=i(F),V=n(1939),B=i(V),$=n(1940),H=i($),x=n(942),K=i(x),Y=n(1941),W=i(Y),q=n(403),z=i(q),X=n(1942),Q=i(X),Z=n(1943),J=i(Z),ee=n(1944),te=i(ee),ne=angular.module("shipment.print",[o["default"],u["default"],_["default"],d["default"],s["default"],p["default"],S["default"]]);ne.directive(C["default"].NG_NAME,C["default"]).directive(j["default"].NG_NAME,j["default"]).directive(U["default"].NG_NAME,U["default"]).directive(h["default"].NG_NAME,h["default"]).directive(te["default"].NG_NAME,te["default"]).service(v["default"].NG_NAME,v["default"]).service(T["default"].NG_NAME,T["default"]).service(y["default"].NG_NAME,y["default"]).service(L["default"].NG_NAME,L["default"]).service(k["default"].NG_NAME,k["default"]).service(B["default"].NG_NAME,B["default"]).service(H["default"].NG_NAME,H["default"]).service(D["default"].NG_NAME,D["default"]).service(R["default"].NG_NAME,R["default"]).service(K["default"].NG_NAME,K["default"]).service(W["default"].NG_NAME,W["default"]).service(J["default"].NG_NAME,J["default"]).service(Q["default"].NG_NAME,Q["default"]).service(z["default"].NG_NAME,z["default"]),t.module=ne,t["default"]="shipment.print"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={CREDIT_STOP:"creditStop",OFAC_ALLOWED:"ofacAllowed",ITAR_APPROVED:"itarApproved",BIS_APPROVED:"bisApproved",ACCOUNT_TYPE:"accountType",GLOBAL_MAIL_ALLOWED:"globalMailAllowed",ONLINE_ALLOWED:"onlineAllowed",ONLINE_ONLY:"onlineOnly"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={AFTER_PRINTED:"AFTER_PRINTED",NEVER_ASK:"NEVER_ASK",NONE:"NONE",SAME_TIME:"SAME_TIME"};t.RETURN_INSTRUCTIONS_TYPES={SEND_PDF:"SEND_PDF",SEND_QR:"SEND_QR",PRINT_LABEL:"PRINT_LABEL"}},function(e,t,n){"use strict";t.__esModule=!0;var i={KG:"KG",LB:"LB",BU:"BU",CM:"CM",IN:"IN"};t["default"]={METRIC:"METRIC",IMPERIAL:"IMPERIAL"},t.UNITS=i},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={SUCCESS:"alert_success",INFO:"alert_info",WARNING:"alert_warning",ERROR:"alert_error"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={DANFE_KEY:"DANFE_KEY",IMPORT_NF:"IMPORT_NF",MANUAL_DOC:"MANUAL_DOC",MANUAL_NON_DOC_EXEMPT:"MANUAL_NON_DOC_EXEMPT",MANUAL_NON_DOC_NOT_EXEMPT:"MANUAL_NON_DOC_NOT_EXEMPT",NOT_BRAZIL:"NOT_BRAZIL"};t.KEYS_MAX_AMOUNT=99,t.MAX_NFE_FILES_NUMBER=99,t.IMPORT_TO_CITY="Exterior",t.IMPORT_TO_POST_ZIP_CODE="999999"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={RESIDENTIAL:"RESIDENTIAL",BUSINESS:"BUSINESS"}},function(e,t,n){"use strict";t.__esModule=!0;var i=t.DOCUMENT_TYPES={LABEL:"LABEL",ARCHIVE:"ARCHIVE",RECEIPT:"RECEIPT",CUSTOMS_INVOICE:"CUSTOMS_INVOICE",CSBV_CUSTOMS_INVOICE:"CSBV_CUSTOMS_INVOICE",INDEMNITY_LETTER:"INDEMNITY_LETTER",PDS:"PDS",ANTI_DRUG_LETTER:"ANTI_DRUG_LETTER",ADDRESS_LABEL_STICKER:"ADDRESS_LABEL_STICKER",LITHIUM_BATTERIES:"LITHIUM_BATTERIES",CERTIFICATE_OF_ORIGIN:"CERTIFICATE_OF_ORIGIN",RETURN_INSTRUCTIONS:"RETURN_INSTRUCTIONS",VAT_RECEIPT:"VAT_RECEIPT",CUSTOM_RETURN_INSTRUCTIONS:"CUSTOM_RETURN_INSTRUCTIONS",PICKUP_INSTRUCTIONS:"PICKUP_INSTRUCTIONS"};t.WAYBILL_DOCUMENT_TYPES=[i.LABEL,i.ARCHIVE],t.ADDITIONAL_DOCUMENT_TYPES=[i.INDEMNITY_LETTER,i.PDS,i.ANTI_DRUG_LETTER,i.ADDRESS_LABEL_STICKER,i.LITHIUM_BATTERIES,i.CERTIFICATE_OF_ORIGIN,i.RETURN_INSTRUCTIONS,i.VAT_RECEIPT,i.CUSTOM_RETURN_INSTRUCTIONS],t.PRIMARY_DOCUMENT_TYPES=[i.LABEL,i.ARCHIVE,i.RECEIPT,i.CUSTOMS_INVOICE],t.BULK_MANDATORY_DOCUMENT_TYPES=[i.LABEL,i.ARCHIVE,i.INDEMNITY_LETTER]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(32),o=i(r),a=n(0),u=i(a),c=n(499),s=i(c),l=n(2104),d=i(l),f=n(2105),p=i(f),m=n(2106),_=i(m),E=n(2107),S=i(E),g=n(2108),C=i(g),A=n(2109),h=i(A),I=n(2111),v=i(I),N=n(2112),T=i(N),M=n(2113),y=i(M),O=angular.module("shipment-locator",[u["default"],o["default"],s["default"]]);O.directive(d["default"].NG_NAME,d["default"]).directive(p["default"].NG_NAME,p["default"]).directive(_["default"].NG_NAME,_["default"]).directive(T["default"].NG_NAME,T["default"]).directive(y["default"].NG_NAME,y["default"]).service(S["default"].NG_NAME,S["default"]).service(C["default"].NG_NAME,C["default"]).service(h["default"].NG_NAME,h["default"]).service(v["default"].NG_NAME,v["default"]),t.module=O,t["default"]="shipment-locator"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={DELIVERY_SIGNATURE:"SA",DISCOUNT:"STDIS",DUTIABLE:"DD",DUTIES_AND_TAXES:"STTXA",EXTENDED_LIABILITY:"IB",FUEL_SURCHARGE:"FF",INSURANCE:"II",EXCEPTED_QUANTITIES:"HH",PAPERLESS_TRADE:"WY",DRY_ICE:"HC",DANGEROUS_GOODS:"HE",PREMIUM_09_00_DELIVERY:"YI",PREMIUM_10_30_DELIVERY:"YJ",PREMIUM_12_00_DELIVERY:"YK",REMOTE_AREA_DELIVERY:"OO",SATURDAY_DELIVERY:"AA",TRANSPORTATION_CHARGE:"SPRQT"}},,,function(e,t,n){"use strict";t.__esModule=!0;var i={COMPANY:"CAB",GROUP:"GAB",GROUP_RESTRICTED_SHIP_FROM:"GRAB_SHIP_FROM",GROUP_RESTRICTED_SHIP_TO:"GRAB_SHIP_TO",CUSTOM_RESTRICTED_SHIP_FROM:"CRAB_SHIP_FROM",CUSTOM_RESTRICTED_SHIP_TO:"CRAB_SHIP_TO",PRIVATE:"PAB",GLOBAL_MAIL:"GLOBAL_MAIL",ALL:"ALL"};t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1260),o=i(r),a=n(1262),u=i(a),c=n(1263),s=i(c),l=n(1264),d=i(l),f=angular.module("common.widgets.modal",["ui.bootstrap"]);f.directive(o["default"].NG_NAME,o["default"]).directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]),t.module=f,t["default"]="common.widgets.modal"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1753),u=i(a),c=angular.module("manageShipments.resource",[o["default"]]);c.service(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="manageShipments.resource"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={COMPLETED:"COMPLETED",SUBMITTED:"SUBMITTED",UN_SUBMITTED:"UN_SUBMITTED",READY_TO_SHIP:"READY_TO_SHIP",IN_TRANSIT:"IN_TRANSIT",DELIVERED:"DELIVERED",CANCELLED:"CANCELLED",PICKED_UP:"PICKED_UP",IMPORTED:"IMPORTED",MIGRATED:"MIGRATED"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(920),o=i(r),a=n(1803),u=i(a),c=n(1804),s=i(c),l=n(1805),d=i(l),f=angular.module("authorization.common",[o["default"]]);f.service(u["default"].NG_NAME,u["default"]).service(d["default"].NG_NAME,d["default"]).factory(s["default"].NG_NAME,s["default"]),t.module=f,t["default"]="authorization.common"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={NO_READ_LABEL:"88,89",ALL_POSSIBILITIES:"80,88,89",WALK_CARDS_POSSIBILITIES:"82,88,72,73,74,75,76"};t.PPC_SCENARIOS={WCC_DROP_OFF_LOCATION:"WCC_DROP_OFF_LOCATION",WCC_COMPLETE_PAGE_QR_CODE:"WCC_COMPLETE_PAGE_QR_CODE",WCC_COMPLETE_PAGE_PRINT_LABEL:"WCC_COMPLETE_PAGE_PRINT_LABEL",WCC_BARCODE_AND_COMPLETE_AT_SERVICE_POINT:"WCC_BARCODE_AND_COMPLETE_AT_SERVICE_POINT",LOCATOR_SHIPMENT_SETTINGS_DEFAULT:"LOCATOR_SHIPMENT_SETTINGS_DEFAULT",LABEL_FREE_SHIPMENT_ACCOUNT_QR_CODE:"LABEL_FREE_SHIPMENT_ACCOUNT_QR_CODE",REGULAR_SHIPMENT_ACCOUNT_PRINT_LABEL:"REGULAR_SHIPMENT_ACCOUNT_PRINT_LABEL",LABEL_FREE_SHIPMENT_ONLINE_QR_CODE:"LABEL_FREE_SHIPMENT_ONLINE_QR_CODE",REGULAR_SHIPMENT_ONLINE_PRINT_LABEL:"REGULAR_SHIPMENT_ONLINE_PRINT_LABEL",PRINT_LABEL:"PRINT_LABEL",QR_CODE:"QR_CODE",REGULAR_SHIPMENT_PICKUP:"REGULAR_SHIPMENT_PICKUP",WCC_BARCODE_SHIPMENT_DROPOFF_LINK:"WCC_BARCODE_SHIPMENT_DROPOFF_LINK",DELIVERY_TO_SERVICE_POINT:"DELIVERY_TO_SERVICE_POINT"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(8),o=i(r),a=n(457),u=i(a),c=n(959),s=i(c),l=n(404),d=i(l),f=n(960),p=i(f),m=n(111),_=i(m),E=n(2157),S=i(E),g=n(2159),C=i(g),A=n(2160),h=i(A),I=angular.module("addressBook",[u["default"],s["default"],d["default"],p["default"],_["default"]]);I.directive(S["default"].NG_NAME,S["default"]).directive(C["default"].NG_NAME,C["default"]).directive(h["default"].NG_NAME,h["default"]),t.module=I,t["default"]="addressBook",o["default"].addModule("addressBook")},,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2365),o=i(r),a=n(2366),u=i(a),c=n(2367),s=i(c),l=n(128),d=i(l),f=n(311),p=i(f),m=n(92),_=i(m),E=angular.module("shipment.packages",[_["default"],p["default"]]);E.service("packageDetailsModel",d["default"]).service(o["default"].NG_NAME,o["default"]).service(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]),t.module=E,t["default"]="shipment.packages"},,,,,,function(e,t,n){"use strict";t.__esModule=!0,t["default"]={CORPORATE_ADMIN:"CORPORATE_ADMIN",GROUP_ADMIN:"GROUP_ADMIN",END_USER:"END_USER"}},function(e,t,n){"use strict";t.__esModule=!0;t.HIDDEN_PRICE_VALUE_MASK="--.--",t.HIDDEN_DATE_VALUE_MASK="******"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(892),o=i(r),a=n(1613),u=i(a),c=n(1633),s=i(c),l=n(1634),d=i(l),f=n(1635),p=i(f),m=n(1636),_=i(m),E=n(1637),S=i(E),g=n(1638),C=i(g),A=n(1639),h=i(A),I=n(1640),v=i(I),N=n(1641),T=i(N),M=n(1642),y=i(M),O=n(1643),D=i(O),P=n(1644),R=i(P),b=n(1645),L=i(b),G=n(1646),k=i(G),w=n(1647),U=i(w),F=n(1648),j=i(F),V=n(1649),B=i(V),$=n(1650),H=i($),x=n(1651),K=i(x),Y=n(1652),W=i(Y),q=n(1653),z=i(q),X=n(905),Q=i(X),Z=n(1654),J=i(Z),ee=n(1655),te=i(ee),ne=n(1656),ie=i(ne),re=n(1657),oe=i(re),ae=n(1658),ue=i(ae),ce=n(1659),se=i(ce),le=n(1660),de=i(le),fe=n(1661),pe=i(fe),me=angular.module("common.validation",[o["default"]||"common.form.input"]);me.directive(W["default"].NG_NAME,W["default"]).directive(d["default"].NG_NAME,d["default"]).directive(p["default"].NG_NAME,p["default"]).directive(S["default"].NG_NAME,S["default"]).directive(h["default"].NG_NAME,h["default"]).directive(H["default"].NG_NAME,H["default"]).directive(B["default"].NG_NAME,B["default"]).directive(K["default"].NG_NAME,K["default"]).directive(_["default"].NG_NAME,_["default"]).directive(v["default"].NG_NAME,v["default"]).directive(C["default"].NG_NAME,C["default"]).directive(T["default"].NG_NAME,T["default"]).directive(y["default"].NG_NAME,y["default"]).directive(D["default"].NG_NAME,D["default"]).directive(R["default"].NG_NAME,R["default"]).directive(L["default"].NG_NAME,L["default"]).directive(k["default"].NG_NAME,k["default"]).directive(J["default"].NG_NAME,J["default"]).directive(U["default"].NG_NAME,U["default"]).directive(j["default"].NG_NAME,j["default"]).directive(te["default"].NG_NAME,te["default"]).directive(ie["default"].NG_NAME,ie["default"]).directive(de["default"].NG_NAME,de["default"]).directive(pe["default"].NG_NAME,pe["default"]).directive(oe["default"].NG_NAME,oe["default"]).service("assigneeEmailValidator",Q["default"]).service(u["default"].NG_NAME,u["default"]).service(z["default"].NG_NAME,z["default"]).service(ue["default"].NG_NAME,ue["default"]).service(se["default"].NG_NAME,se["default"]).provider("validationMessages",s["default"]),t.module=me,t["default"]="common.validation"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={COMPANY:"COMPANY",GROUP:"GROUP",USER:"USER"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={PAYMENT_DETAILS:"payment-details",PACKAGE_ITEMS:"package-items",CUSTOMS_DECLARATION:"customs-declaration"}},,function(e,t,n){"use strict";t.__esModule=!0,t["default"]={MY_SHIPMENTS:"MY_SHIPMENTS",ASSIGNED_TO_ME:"ASSIGNED_TO_ME",ASSIGNED_BY_ME:"ASSIGNED_BY_ME",ASSIGNED_BY_GROUP:"ASSIGNED_BY_GROUP"}},,,,,,function(e,t,n){"use strict";t.__esModule=!0;var i,r={CORPORATE_PRIVILEGE_MANAGEMENT:"CORPORATE_PRIVILEGE_MANAGEMENT",GROUP_MANAGEMENT:"GROUP_MANAGEMENT",USER_MANAGEMENT:"USER_MANAGEMENT",SETTINGS_MANAGEMENT:"SETTINGS_MANAGEMENT",ACCOUNT_AND_PAYMENT_OPTION:"ACCOUNT_AND_PAYMENT_OPTION",ADDRESS_BOOK:"ADDRESS_BOOK",ADVANCED_SHIPMENT_MONITORING:"ADVANCED_SHIPMENT_MONITORING",MESSAGE_MY_USERS:"MESSAGE_MY_USERS",NOTIFICATION_AND_SHARE:"NOTIFICATION_AND_SHARE",SHIPMENT_REFERENCES:"SHIPMENT_REFERENCES",DIGITAL_CUSTOMS_INVOICE:"DIGITAL_CUSTOMS_INVOICE",ACCOUNT_AUTHORIZATION_USAGE:"ACCOUNT_AUTHORIZATION_USAGE",ADD_MANAGE_USERS:"ADD_MANAGE_USERS",APPROVAL_NOTIFICATION:"APPROVAL_NOTIFICATION",MANAGE_GROUP_ADMINS:"MANAGE_GROUP_ADMINS",SETTINGS_SHIPPING_RESTRICTIONS:"SETTINGS_SHIPPING_RESTRICTIONS",SETTINGS_GENERAL:"SETTINGS_GENERAL",SETTINGS_SHIPPING_LIMITS:"SETTINGS_SHIPPING_LIMITS",SETTINGS_PRICING:"SETTINGS_PRICING",SETTINGS_OPTIONAL_SERVICE:"SETTINGS_OPTIONAL_SERVICE",SETTINGS_SHIPMENT_DEFAULTS:"SETTINGS_SHIPMENT_DEFAULTS",GROUP_CREATE:"GROUP_CREATE",EDIT_GENERAL_SETTINGS:"EDIT_GENERAL_SETTINGS",REGISTRATION_NOTIFICATION_EMAIL:"REGISTRATION_NOTIFICATION_EMAIL"},o=(i={},i[r.CORPORATE_PRIVILEGE_MANAGEMENT]="corporatePrivilegeManagement",i[r.GROUP_MANAGEMENT]="groupManagement",i[r.USER_MANAGEMENT]="userManagement",i[r.SETTINGS_MANAGEMENT]="settingsManagement",i[r.ACCOUNT_AND_PAYMENT_OPTION]="accountAndPaymentOption",i[r.ADDRESS_BOOK]="addressBook",i[r.ADVANCED_SHIPMENT_MONITORING]="advancedShipmentMonitoring",i[r.MESSAGE_MY_USERS]="messageMyUsers",i[r.NOTIFICATION_AND_SHARE]="notificationAndShare",i[r.SHIPMENT_REFERENCES]="shipmentReferences",i[r.DIGITAL_CUSTOMS_INVOICE]="digitalCustomsInvoice",i[r.ACCOUNT_AUTHORIZATION_USAGE]="accountAuthorizationUsage",i[r.ADD_MANAGE_USERS]="addManageUsers",i[r.APPROVAL_NOTIFICATION]="approvalNotification",i[r.MANAGE_GROUP_ADMINS]="manageGroupAdmins",i[r.SETTINGS_SHIPPING_RESTRICTIONS]="settingsShippingRestrictions",i[r.SETTINGS_GENERAL]="settingsGeneral",i[r.SETTINGS_SHIPPING_LIMITS]="settingsShippingLimits",i[r.SETTINGS_PRICING]="settingsPricing",i[r.SETTINGS_OPTIONAL_SERVICE]="settingsOptionalService",i[r.SETTINGS_SHIPMENT_DEFAULTS]="settingsShipmentDefaults",i[r.GROUP_CREATE]="groupCreate",i[r.EDIT_GENERAL_SETTINGS]="editGeneralSettings",i[r.REGISTRATION_NOTIFICATION_EMAIL]="notificationRegEmailSettings",i),a=[r.GROUP_MANAGEMENT,r.ADD_MANAGE_USERS,r.APPROVAL_NOTIFICATION,r.MANAGE_GROUP_ADMINS,r.DIGITAL_CUSTOMS_INVOICE,r.USER_MANAGEMENT,r.SETTINGS_MANAGEMENT,r.SETTINGS_SHIPPING_RESTRICTIONS,r.SETTINGS_GENERAL,r.SETTINGS_SHIPPING_LIMITS,r.SETTINGS_PRICING,r.SETTINGS_OPTIONAL_SERVICE,r.SETTINGS_SHIPMENT_DEFAULTS,r.ACCOUNT_AND_PAYMENT_OPTION,r.ADDRESS_BOOK,r.ADVANCED_SHIPMENT_MONITORING,r.MESSAGE_MY_USERS,r.NOTIFICATION_AND_SHARE,r.SHIPMENT_REFERENCES],u=[r.GROUP_MANAGEMENT,r.USER_MANAGEMENT,r.SETTINGS_MANAGEMENT,r.ACCOUNT_AND_PAYMENT_OPTION,r.ADDRESS_BOOK,r.ADVANCED_SHIPMENT_MONITORING,r.MESSAGE_MY_USERS,r.NOTIFICATION_AND_SHARE,r.SHIPMENT_REFERENCES,r.DIGITAL_CUSTOMS_INVOICE,r.ACCOUNT_AUTHORIZATION_USAGE,r.EDIT_GENERAL_SETTINGS,r.REGISTRATION_NOTIFICATION_EMAIL],c=[].concat(u,[r.GROUP_CREATE]);t["default"]={ALL_PRIVILEGES:r,ALL_PRIVILEGES_FLAGS:o,STATE_PRIVILEGES:u,CORPORATE:c,GROUP:a}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1304),o=i(r),a=n(1305),u=i(a),c=n(1306),s=i(c),l=n(1307),d=i(l),f=n(1308),p=i(f),m=n(1309),_=i(m),E=n(1310),S=i(E),g=n(1311),C=i(g),A=n(1312),h=i(A),I=n(1313),v=i(I),N=n(1314),T=i(N),M=n(1315),y=i(M),O=n(1316),D=i(O),P=n(1317),R=i(P),b=n(1318),L=i(b),G=n(1319),k=i(G),w=n(1320),U=i(w),F=n(1321),j=i(F),V=n(1322),B=i(V),$=n(1324),H=i($),x=n(1325),K=i(x),Y=n(1326),W=i(Y),q=angular.module("common.filters",["ngSanitize"]);q.filter("calculateTotal",o["default"]).filter("convertUomToOpposite",u["default"]).filter("countryName",s["default"]).filter("decimalFormat",d["default"]).filter("decimalParse",p["default"]).filter("decimalSeparator",_["default"]).filter("decimalTrunc",S["default"]).filter("fileSize",C["default"]).filter("highlightSearch",h["default"]).filter("joinBy",v["default"]).filter("phoneNumber",T["default"]).filter("replace",y["default"]).filter("truncateText",D["default"]).filter("time",R["default"]).filter("localeDate",L["default"]).filter("uom",k["default"]).filter("restrictionMessage",U["default"]).filter("softLimits",j["default"]).filter("defaultShipmentReference",B["default"]).filter("numberRound",H["default"]).filter("cutMiddle",K["default"]).service(W["default"].NG_NAME,W["default"]),t.module=q,t["default"]="common.filters"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1328),u=i(a),c=n(1330),s=i(c),l=n(1331),d=i(l),f=n(1332),p=i(f),m=angular.module("common.translation",[o["default"]||"common.utils"]);m.service(p["default"].NG_NAME,p["default"]).directive(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]).filter(d["default"].NG_NAME,d["default"]),t.module=m,t["default"]="common.translation"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={SHIPPER:"SP",RECEIVER:"RV",BUYER:"BY",ANY:"ANY"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(1714),u=i(a),c=n(1715),s=i(c),l=n(1716),d=i(l),f=n(1717),p=i(f),m=n(1718),_=i(m),E=n(1719),S=i(E),g=n(1720),C=i(g),A=n(1721),h=i(A),I=angular.module("shipment-common",[o["default"]]);I.directive(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]).directive(_["default"].NG_NAME,_["default"]).directive(S["default"].NG_NAME,S["default"]).directive(C["default"].NG_NAME,C["default"]).service(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]).service(h["default"].NG_NAME,h["default"]),t.module=I,t["default"]="shipment-common"},,,function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1759),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o="manageShipments.common.localizations",a=angular.module(o,[]);a.service(r["default"].NG_NAME,r["default"]),t.module=a,t["default"]=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(934),o=i(r),a=n(465),u=i(a),c=n(118),s=i(c),l=n(117),d=i(l),f=n(943),p=i(f),m=n(1947),_=i(m),E=n(1948),S=i(E),g=n(1949),C=i(g),A=n(1950),h=i(A),I=n(1951),v=i(I),N=n(1952),T=i(N),M=n(1953),y=i(M),O=n(1954),D=i(O),P=n(1955),R=i(P),b=angular.module("shipment.enhancedInvoice",[o["default"],u["default"],s["default"],d["default"],p["default"]]);b.service(_["default"].NG_NAME,_["default"]).service(S["default"].NG_NAME,S["default"]).service(C["default"].NG_NAME,C["default"]).service(h["default"].NG_NAME,h["default"]).service(v["default"].NG_NAME,v["default"]).service(T["default"].NG_NAME,T["default"]).service(y["default"].NG_NAME,y["default"]).service(D["default"].NG_NAME,D["default"]).service(R["default"].NG_NAME,R["default"]),t.module=b,t["default"]="shipment.enhancedInvoice"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={ITAR:"ITAR",BIS:"BIS",NO:"NO"}},,function(e,t,n){"use strict";t.__esModule=!0;var i=t.dimensionKeys=["width","height","length"],r=t.dimensionMaxKeys=["maxWidth","maxHeight","maxLength"],o=t.dimensionOriginalKeys=["widthOriginal","heightOriginal","lengthOriginal"];t.propertiesKeys=["weight"].concat(i),t.propertiesMaxKeys=["maxWeight"].concat(r),t.propertiesOriginalKeys=["weightOriginal"].concat(o)},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(324),o=i(r),a=n(325),u=i(a),c=n(2285),s=i(c),l=n(208),d=i(l),f=n(969),p=i(f),m=n(127),_=i(m),E=n(2291),S=i(E),g=n(2294),C=i(g),A=n(209),h=i(A),I=n(29),v=i(I),N=n(2310),T=i(N),M=n(2314),y=i(M),O=n(2315),D=i(O),P=n(2316),R=i(P),b=n(2317),L=i(b),G=n(618),k=i(G),w=n(973),U=i(w),F=n(2318),j=i(F),V=n(2319),B=i(V),$=n(501),H=i($),x=n(500),K=i(x),Y=n(972),W=i(Y),q=n(2320),z=i(q),X=n(974),Q=i(X),Z=n(970),J=i(Z),ee=angular.module("shipment.pickup",[o["default"],u["default"],s["default"],d["default"],p["default"],_["default"],S["default"],C["default"],h["default"],v["default"],T["default"]]);ee.directive(y["default"].NG_NAME,y["default"]).directive(D["default"].NG_NAME,D["default"]).directive(R["default"].NG_NAME,R["default"]).directive(L["default"].NG_NAME,L["default"]).service(k["default"].NG_NAME,k["default"]).service(U["default"].NG_NAME,U["default"]).service(j["default"].NG_NAME,j["default"]).service(B["default"].NG_NAME,B["default"]).service(K["default"].NG_NAME,K["default"]).service(W["default"].NG_NAME,W["default"]).service(z["default"].NG_NAME,z["default"]).service(J["default"].NG_NAME,J["default"]).service(H["default"].NG_NAME,H["default"]).factory(Q["default"].NG_NAME,Q["default"]),t.module=ee,t["default"]="shipment.pickup"},,,,,function(e,t,n){"use strict";t.__esModule=!0,t["default"]={OFFICE:"OFFICE",OTHER:"OTHER",FAX:"FAX",MOBILE:"MOBILE"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={ESECURE:"ESECURE",PROVIEW:"PROVIEW",BILLING:"BILLING",FAVORITE_SHIPMENTS:"FAVORITE_SHIPMENTS",PAST_SHIPMENTS:"PAST_SHIPMENTS",ONE_PAGE_SHIPMENT:"ONE_PAGE_SHIPMENT",TRACKING_DASHBOARD:"TRACKING_DASHBOARD",GRANT_AUTHORIZATION:"GRANT_AUTHORIZATION",ADD_DHL_ACCOUNT:"ADD_DHL_ACCOUNT"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(392),o=i(r),a=n(887),u=i(a),c=n(63),s=i(c),l=n(2),d=i(l),f=n(1265),p=i(f),m=n(1267),_=i(m),E=n(1269),S=i(E),g=n(1270),C=i(g),A=angular.module("navigation.group-switcher",[d["default"]||"common.utils",s["default"],o["default"],u["default"]]);A.directive(p["default"].NG_NAME,p["default"]).directive(_["default"].NG_NAME,_["default"]).service(S["default"].NG_NAME,S["default"]).service(C["default"].NG_NAME,C["default"]),t.module=A,t["default"]="navigation.group-switcher"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={FROM:"From",TO:"To"}},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1814),o=i(r),a=n(1816),u=i(a),c=n(1817),s=i(c),l=n(0),d=i(l),f=n(111),p=i(f),m=angular.module("authorization.externalAccess",[p["default"],d["default"]]);m.service(s["default"].NG_NAME,s["default"]).directive(o["default"].NG_NAME,o["default"]).service(u["default"].NG_NAME,u["default"]),t.module=m,t["default"]="authorization.externalAccess"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(1838),u=i(a),c=n(1839),s=i(c),l=n(1840),d=i(l),f=angular.module("accountList",[o["default"]]);f.directive(u["default"].NG_NAME,u["default"]).service(d["default"].NG_NAME,d["default"]).factory(s["default"].NG_NAME,s["default"]),t.module=f,t["default"]="accountList"},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(929),o=i(r),a=n(440),u=i(a),c=n(2),s=i(c),l=n(461),d=i(l),f=n(1869),p=i(f),m=n(1871),_=i(m),E=n(1875),S=i(E),g=n(1876),C=i(g),A=n(1877),h=i(A),I=n(1878),v=i(I),N=n(1881),T=i(N),M=n(1885),y=i(M),O=n(1886),D=i(O),P=n(1887),R=i(P),b=n(1888),L=i(b),G=n(1889),k=i(G),w=n(1890),U=i(w),F=n(1891),j=i(F),V=n(1892),B=i(V),$=n(1893),H=i($),x=angular.module("itemAttributes",[o["default"],u["default"],p["default"],d["default"],s["default"],_["default"]]);x.directive(S["default"].NG_NAME,S["default"]).directive(v["default"].NG_NAME,v["default"]).directive(H["default"].NG_NAME,H["default"]).directive(y["default"].NG_NAME,y["default"]).directive(U["default"].NG_NAME,U["default"]).directive(R["default"].NG_NAME,R["default"]).directive(L["default"].NG_NAME,L["default"]).directive(k["default"].NG_NAME,k["default"]).directive(j["default"].NG_NAME,j["default"]).service(C["default"].NG_NAME,C["default"]).service(h["default"].NG_NAME,h["default"]).service(B["default"].NG_NAME,B["default"]).service(T["default"].NG_NAME,T["default"]).factory(D["default"].NG_NAME,D["default"]),t.module=x,t["default"]="itemAttributes"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1906),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("ofac",[]);o.service(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="ofac"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,i){"ngInject";function r(){return e.isShipmentTypeDocument(Ge.shipmentType)}function o(){return e.isShipmentTypePackage(Ge.shipmentType)}function u(){return p()===m["default"].CREATE}function c(){return p()===m["default"].USE}function s(){return u()&&!Ge.isCommercialInvoiceAvailableForCurrentShipmentType()}function l(){return c()&&!Ge.isUseMyOwnInvoiceEnabled()}function d(){(s()||l()||f())&&(Ge.customsInvoiceType=null)}function f(){return Ge.isShipmentTypeCategoriesAvailable&&!Ge.shipmentTypeCategory}function p(){return Ge.preloadedEnhancedInvoice||se()?Ge.customsInvoiceType:m["default"].USE}function _(){return we}function S(e){we=e}function C(){return Ue}function I(e){Ue=e}function v(e){Object.assign(Ge,{shipmentType:e.type,shipmentTypeCategory:e.typeCategory,customsInvoiceType:e.customsInvoiceType,savedCustomsInvoiceType:e.customsInvoiceType,insuranceValue:e.insuranceValue,insuranceCurrency:e.insuranceCurrency,insureShipment:e.insured,restoredInsureShipment:e.insured,extendedLiability:e.extendedLiability,restoredExtendedLiability:e.extendedLiability,insuranceVisible:e.insuranceValue>0,documentDescription:e.documentDescription,additionalDocumentDescription:e.additionalDocumentDescription,predefinedDocumentDescription:e.predefinedDocumentDescription,serviceType:e.serviceType,customsInvoice:e.customsInvoice,dutiable:e.dutiable,isGlobalMilitary:e.globalMilitary}),Ge.itemAttributes.currentCurrency=e.shipmentCurrency,Ge.itemAttributes.totalDeclaredValue=Ge.itemAttributes.restoredDeclaredValue=e.totalDeclaredValue,Ge.itemAttributes.isDeclaredValueVisible=!!e.totalDeclaredValue,Ge.packageDescription=o()?Ge.documentDescription:"",Ge.isShipmentPurposeVisible=!(!e.customsInvoice||!e.customsInvoice.reasonForExport);var t=e.fromCustomer?e.fromCustomer.address.countryCode:null;T(e.customsInvoice,t),N()}function N(){var n=e.isRestoredShipment()&&c()&&!!Ge.itemAttributes.productList.length;t.setLineItemsShowed(n)}function T(e,n){t.setCustomsInvoiceData(e,Ge.itemAttributes),y(e),M(e)&&(Ge.enhancedInvoice.template.references=e.references),e&&e.enhanced&&(Ge.documentDescription=Ge.documentDescription||Ge.getDocumentDescription(),Ge.preloadedEnhancedInvoice=!0,i.setEnhancedInvoiceData(Ge.enhancedInvoice,e,n),S(!0))}function M(e){return e&&!e.enhanced&&e.references&&(e.references.invoiceNumber||e.references.remarks)}function y(e){O(Ge.enhancedInvoice,e),P(e);var t=Ge.enhancedInvoice.template.references;t.invoiceNumber=t.invoiceNumber||Ge.itemAttributes.gstData.originInvoiceNumber}function O(e,t){if(t){var n=t.bankDetails;e.template.bankDetails=n,e.bankDetailsVisible=D(n)}}function D(e){return!(!e||!Object.keys(e).length)}function P(e){e&&e.indiaCustomsInvoice&&(Ge.itemAttributes.supplyDetails=e.indiaCustomsInvoice.supplyDetails,Ge.itemAttributes.usingECommerce=e.indiaCustomsInvoice.usingECommerce)}function R(){return Ge.insuranceVisible&&Ge.insuranceValue&&Ge.insureShipment?Ge.insuranceValue:null}function b(){return u()&&1===Ge.itemAttributes.productList.length?Ge.itemAttributes.productList[0].description:Z()}function L(e){Fe=e}function G(){return t.isLineItemsShowed()&&Ge.itemAttributes.productList&&Ge.itemAttributes.productList.length}function k(){return!u()&&!Fe&&(!G()||r()&&!de())}function w(e){if(k())return{customsInvoice:se()?U():null};var n=a({},t.getCustomsInvoiceData(Ge.itemAttributes,e,Ge.isGlobalMilitary),V(!0));return C()&&u()?W(n):F(Ge.enhancedInvoice.template.references)&&(n.references=Ge.enhancedInvoice.template.references),n.description=Ge.documentDescription,{customsInvoice:n}}function U(){var e=V(!1),t=j();return e.references={invoiceNumber:t},e}function F(e){return e&&(e.invoiceNumber||e.remarks&&!c())}function j(){return Ge.enhancedInvoice.template.references&&Ge.enhancedInvoice.template.references.invoiceNumber}function V(e){return a({declaration:Ge.enhancedInvoice.declaration},t.getShippingPurpose(Ge,e),B())}function B(){return{bankDetails:Ge.enhancedInvoice.bankDetailsVisible?Ge.enhancedInvoice.template.bankDetails:null,gstData:K(),indiaCustomsInvoice:H()}}function $(){return Ge.isShipmentTypeCategoriesAvailable&&Ge.shipmentTypeCategory===A["default"].NON_GIFT_NON_SAMPLE}function H(){if(!$())return null;var e=Ge.itemAttributes,t=e.supplyDetails,n=e.usingECommerce;return{supplyDetails:x(t),usingECommerce:n}}function x(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return{supplyDate:e.supplyDate||null,supplyPlace:e.supplyPlace||null}}function K(){if(!Ge.itemAttributes.gstData.gstSectionVisible)return null;var e=angular.copy(Ge.itemAttributes.gstData);return e.gstInvoiceNumber||(e.gstInvoiceDate=null),e.originInvoiceNumber||_()||(e.originInvoiceDate=null),e.suppliedForExport!==g["default"].YES&&(e.totalInrPaid=null),Y(e)}function Y(e){return["gstIdentifier","gstinType","gstInvoiceNumber","gstInvoiceDate","originInvoiceNumber","originInvoiceDate","suppliedForExport","againstBond","totalInrPaid","gstWaybillData"].reduce(function(t,n){return t[n]=e[n]||null,t},{})}function W(e){var t=i.getEnhancedInvoiceData(Ge.enhancedInvoice);t.declaration=t.declaration||{},Object.assign(t.declaration,e.declaration),e.involvedParties=e.involvedParties||{},e.involvedParties.shipper=t.shipper,Object.assign(e,t)}function q(e,t){Ge.insuranceValue=e,Ge.insuranceCurrency=t,Ge.insureShipment=!0}function z(){Ge.extendedLiability=!0}function X(){Ge.extendedLiability=!1}function Q(){var e=C()?Z():b();if(e)return e.name||e.slice(0,200)}function Z(){return r()?Ge.documentDescription:Ge.packageDescription}function J(){var e=a({type:Ge.shipmentType,typeCategory:Ge.shipmentTypeCategory||null,customsInvoiceType:p(),totalDeclaredValue:re(),shipmentCurrency:Ge.itemAttributes.currentCurrency,insuranceCurrency:R()?Ge.insuranceCurrency:null,insuranceValue:R(),insured:ne(),extendedLiability:te(),documentDescription:Q(),additionalDocumentDescription:r()?Ge.additionalDocumentDescription:null,predefinedDocumentDescription:Ge.predefinedDocumentDescription,serviceType:Ge.serviceType,dutiable:Ge.dutiable,globalMilitary:Ge.isGlobalMilitary},w(Ge.isCsbvShipment()));return n.isAuthorized()||(e.additionalInfo=Ge.additionalInfo),e}function ee(){return Ge.shipmentType}function te(){return ie("extendedLiability",E["default"].DOCUMENT)}function ne(){return ie("insureShipment",E["default"].PACKAGE)}function ie(e,t){return Ge.isAssignSaveAction||ee()===t?Ge[e]:null}function re(){var e=me()||u(),t=Ge.itemAttributes.totalDeclaredValue;return e&&t?parseFloat(t.toFixed(3)):null}function oe(){return u()||c()}function ae(e){ke=e}function ue(){return ke}function ce(){return je}function se(){return le()||de()}function le(){return o()&&(Ge.isDutiable||ue())}function de(){return r()&&ue()}function fe(){return o()&&(c()||!Ge.isDutiable&&!se())}function pe(){return r()&&(!se()||se()&&c())}function me(){return(pe()||fe())&&Ge.itemAttributes.isDeclaredValueVisible}function _e(e,t){return ge()||Ce()&&Ee(e,t)}function Ee(t,n){return!e.isServiceTypeSelectorAvailable(Ge.shipmentType,t,n)||Boolean(Ge.serviceType)}function Se(){return!se()||oe()}function ge(){return r()&&Se()}function Ce(){return o()&&Se()}function Ae(){return u()&&!_()&&se()}function he(e){return Ie(e)||ve(e)}function Ie(e){return r()&&(!se()||ye()&&ce()||Ne(e))}function ve(e){return o()&&(!Ge.isDutiable&&!se()||Me()&&ce()||Ne(e))}function Ne(e){return u()&&(e||C())}function Te(){return u()&&!_()&&C()}function Me(){return o()&&c()}function ye(){return r()&&c()}function Oe(){return u()&&C()}function De(e){je=e}function Pe(){return!Oe()&&!c()}function Re(){return r()?"documentDescription":"packageDescription"}function be(){return Ge.itemAttributes.gstData.suppliedForExport===g["default"].YES&&$()}function Le(e){return Ge.itemAttributes.shippingPurposeList.filter(function(t){return e&&e[Ge.shipmentTypeCategory]&&e[Ge.shipmentTypeCategory].includes(t.reasonForExport)})}var Ge=Object.assign(this,new h,{shipmentTypes:E["default"],customsInvoiceTypes:m["default"],isShipmentTypeDocument:r,isShipmentTypePackage:o,isCreatingCustomsInvoice:u,isUsingOwnCustomsInvoice:c,isEnhancedInvoiceCompleted:_,setEnhancedInvoiceCompletion:S,setIncludeCustomsInvoiceAnyway:L,isEnhancedInvoiceVisited:C,setEnhancedInvoiceVisited:I,setInsurance:q,getExtendedLiability:te,setExtendedLiability:z,removeExtendedLiability:X,initDataPart:v,getDocumentDescription:b,getDataPart:J,getShipmentType:ee,setCommercialInvoiceEnabled:ae,setUseMyOwnInvoiceEnabled:De,isCommercialInvoiceAvailableForCurrentShipmentType:se,isCustomsAdditionalDocumentsVisible:Pe,isTotalDeclaredValueVisible:me,isNextButtonVisible:_e,isEnhancedCustomsInvoiceVisible:Ae,isAllShipmentReferencesVisible:he,isReferencesVisibleForDocuments:Ie,isReferencesVisibleForPackages:ve,isEnhancedInvoiceIncomplete:Te,isUsingOwnInvoiceForPackages:Me,isUsingOwnInvoiceForDocuments:ye,isCreatingEnhancedInvoice:Oe,isUseMyOwnInvoiceEnabled:ce,dropInvoiceType:d,getDescriptionType:Re,isShipmentTypeCategoryMissing:f,isCsbvShipment:$,isOnlyInrCurrency:be,getAvailableIndiaShippingPurposes:Le,isCommercialInvoiceVisibleForDocuments:de}),ke=!1,we=!1,Ue=!1,Fe=!1,je=!1}o.$inject=["shipmentTypeService","itemAttributesService","userService","enhancedInvoiceService"],t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t["default"]=o;var u=n(11),c=i(u),s=n(931),l=i(s),d=n(278),f=i(d),p=n(47),m=i(p),_=n(7),E=i(_),S=n(159),g=i(S),C=n(252),A=i(C),h=function(){function e(){r(this,e),Object.assign(this,{documentDescription:"",packageDescription:"",additionalDocumentDescription:"",predefinedDocumentDescription:null,insuranceValue:"",insureShipment:null,shipmentType:null,customsInvoiceType:null,additionalInfo:"",insuranceCurrency:null,isDutiable:null,enhancedInvoice:new l["default"],itemAttributes:new f["default"],dutiable:null,isGlobalMilitary:null})}return e}();o.prototype=new c["default"],o.NG_NAME="shipmentTypeModel"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return o}function o(){function e(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return{countryCode:e.countryCode||undefined,countryName:e.countryName,countryDivisionName:e.countryDivisionName,countryDivisionCode:e.countryDivisionCode,countryDivisionTypeCode:e.countryDivisionTypeCode,cityName:e.city,citySuburbName:e.citySuburbName||undefined,postCode:e.zipOrPostCode,addressLine1:e.addrLine1,addressLine2:e.addrLine2,addressLine3:e.addrLine3,addressType:e.residentialAddress?U:F,serviceAreaCode:e.serviceAreaCode,facilityId:e.facilityId,streetNumber:e.streetNumber,cityCode:e.cityCode}}function t(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=e.returnShipment,o=t===undefined?e:t,a=e.returnShipping,u=a?o:e;n(u),i(u),w.model.mailingList=u.mailingList,w.model.rpaShipment=u.rpa,w.initialData={toContact:Object.assign({},w.model.toContact),fromContact:Object.assign({},w.model.fromContact)},w.model.isGlobalMailShipment=u.globalMailShipment,r(u)}function n(e){w.model.fromContact.copy(o(e.fromCustomer,e.fromContactKey)),w.model.fromContact.addressRevalidationNeeded=!0,w.model.fromContact.associatePaymentOptionsWithCustomer=e.fromCustomer&&e.fromCustomer.associatePaymentOptionsWithCustomer}function i(e){w.model.toContact.copy(o(e.toCustomer,e.toContactKey)),w.model.toContact.addressRevalidationNeeded=!0,w.model.toContact.associatePaymentOptionsWithCustomer=e.toCustomer&&e.toCustomer.associatePaymentOptionsWithCustomer,w.model.toContact.businessModel=e.businessModel,w.model.toContact.additionalNotes=e.additionalNotes}function r(e){var t=e.deliveryServicePointId;w.model.isDeliveryToServicePointSelected=!!t,w.model.deliveryToServicePoint=t?{servicePointId:t}:null}function o(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=arguments[1],n=e.taxDetails,i=n===undefined?{}:n;return{name:e.name,email:e.email,company:e.company,addressDetails:c(e.address),key:t,phoneDetails:(0,u.createPhoneDetails)(e.phoneDetails),phoneDetails2:(0,u.createPhoneDetails)(e.phoneDetails2),cnpjOrCPFTaxType:i.cnpjOrCPFTaxType,cnpjOrCPFTaxID:i.cnpjOrCPFTaxID,isCnpjOrCPFTaxIDValid:g(!!i.cnpjOrCPFTaxID),ieTaxId:i.ieTaxId,taxDetails:{vatTaxId:i.vatTaxId,eoriNumber:i.eoriNumber,goodsAndServicesTaxId:i.goodsAndServicesTaxId,gstinType:i.gstinType,iecTaxId:i.iecTaxId,ein:i.ein},businessContactType:e.businessContactType||S["default"].PRIVATE,personalIdentifiableInformation:e.personalIdentifiableInformation||[]}}function c(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return{countryCode:e.countryCode,city:e.cityName,citySuburbName:e.citySuburbName,countryDivisionName:e.countryDivisionName,countryDivisionCode:e.countryDivisionCode,countryDivisionTypeCode:e.countryDivisionTypeCode,zipOrPostCode:e.postCode,addrLine1:e.addressLine1,addrLine2:e.addressLine2,addrLine3:e.addressLine3,serviceAreaCode:e.serviceAreaCode,facilityId:e.facilityId,streetNumber:e.streetNumber,cityCode:e.cityCode,residentialAddress:e.addressType===U}}function s(){return{additionalNotes:w.model.toContact.additionalNotes,fromContactKey:m(w.model.fromContact),fromCustomer:E(w.model.fromContact),toContactKey:m(w.model.toContact),toCustomer:E(w.model.toContact),businessModel:w.model.toContact.businessModel,globalMailShipment:w.model.isGlobalMailShipment,deliveryServicePointId:f()}}function f(){return w.model.isDeliveryToServicePointSelected&&w.model.deliveryToServicePoint?w.model.deliveryToServicePoint.servicePointId:null}function m(e){return(!e.isContactChanged||w.model.isGlobalMailShipment)&&e.key||l.DEFAULT_CONTACT_KEY}function E(e){return{name:e.name,email:g(e.email),company:e.company||"",address:A(e.addressDetails),phoneDetails:(0,u.createPhoneDetails)(e.phoneDetails),phoneDetails2:(0,u.createPhoneDetails)(e.phoneDetails2),taxDetails:{vatTaxId:e.taxDetails.isVatTaxIdAvailable&&e.taxDetails.vatTaxId||"",eoriNumber:e.taxDetails.eoriNumber,goodsAndServicesTaxId:e.taxDetails.goodsAndServicesTaxId,gstinType:e.taxDetails.gstinType,cnpjOrCPFTaxType:e.cnpjOrCPFTaxType,cnpjOrCPFTaxID:e.cnpjOrCPFTaxID,ieTaxId:g(e.ieTaxId),iecTaxId:g(e.taxDetails.iecTaxId),ein:g(e.taxDetails.ein)},associatePaymentOptionsWithCustomer:e.associatePaymentOptionsWithCustomer,businessContactType:e.businessContactType||S["default"].PRIVATE,personalIdentifiableInformation:C(e.personalIdentifiableInformation)}}function g(e){return e||null}function C(e){return(0,l.getValidPersonalInformation)(e)}function A(t){return new e(t)}function h(){return{from:w.model.fromContact.addressDetails.countryName,to:w.model.toContact.addressDetails.countryName}}function I(){return(w.model.mailingList||{}).contacts}function v(){return w.model.mailingListCountries}function N(){return w.model.fromContact.addressDetails.countryCode}function T(){return w.model.toContact.addressDetails.countryCode}function M(){return{fromContactKey:w.model.fromContact.key,toContactKey:w.model.toContact.key}}function y(){return O(w.model.fromContact)}function O(e){return Object.assign({contactName:e.name,companyName:e.company},e.addressDetails)}function D(){return w.model.fromContact}function P(){return w.model.toContact}function R(){return a({},b(),L())}function b(){var e=w.model.fromContact.addressDetails;return{fromCountry:e.countryCode,fromCity:e.city,fromPostalCode:e.zipOrPostCode,fromServiceAreaCode:e.serviceAreaCode,fromCountryDivisionCode:e.countryDivisionCode,fromCitySuburbName:e.citySuburbName||undefined}}function L(){var e=w.model.toContact.addressDetails;return{toCountry:e.countryCode,toCity:e.city,toPostalCode:e.zipOrPostCode,toServiceAreaCode:e.serviceAreaCode,toCountryDivisionCode:e.countryDivisionCode,toCitySuburbName:e.citySuburbName||undefined}}function G(){return N()===_["default"].BRAZIL}function k(){return T()===_["default"].BRAZIL}var w=this,U=p["default"].RESIDENTIAL,F=p["default"].BUSINESS;Object.assign(w,{model:{fromContact:new d["default"],toContact:new d["default"],additionalNotes:""},initDataPart:t,getDataPart:s,getShipmentCountry:N,getDestinationCountry:T,getShipperReceiverCountries:h,getMailingListContacts:I,getMailingListCountries:v,getAddressDetails:c,getContactDataAddressDetails:A,getContactFields:o,getToFromAddress:R,getPersonalIdentifiableInformation:C,getContactsKeys:M,getFormattedShipperAddress:y,getShipperAddress:D,getReceiverAddress:P,getContactAddressFrom:b,getContactAddressTo:L,isShipperFromBrazil:G,isReceiverFromBrazil:k})}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t["default"]=r,t.AddressDetailsModel=o;var u=n(390),c=n(11),s=i(c),l=n(15),d=i(l),f=n(56),p=i(f),m=n(4),_=i(m),E=n(45),S=i(E);r.NG_NAME="AddressDetailsModelFactory",o.prototype=new s["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=t.LABELLESS_AVAILABILITY={DISABLED:"DISABLED",DROP_OFF:"DROP_OFF",PICKUP:"PICKUP",BOTH:"BOTH"};t.LABELLESS_DROP_OFF_OPTIONS=[i.DROP_OFF,i.BOTH],t.LABELLESS_PICKUP_OPTIONS=[i.PICKUP,i.BOTH]},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={AT_SERVICE_POINT:"AT_SERVICE_POINT",GET_QR_CODE:"GET_QR_CODE",ON_MY_PRINTER:"ON_MY_PRINTER",SHIPPER_WILL_PRINT:"SHIPPER_WILL_PRINT"}},,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2290),o=i(r),a=n(498),u=i(a),c=angular.module("common.widgets.pickupLocation",[u["default"]]);c.directive(o["default"].NG_NAME,o["default"]),t.module=c,t["default"]="common.widgets.pickupLocation"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(11),c=i(u),s=n(53),l=i(s),d=n(232),f=i(d),p=n(44),m=i(p),_=["widthSrc","heightSrc","lengthSrc"],E=function(e){function t(n,i){"ngInject";r(this,t);var a=o(this,e.call(this));return a.calculateTotalFilter=n,a.convertUomToOppositeFilter=i,Object.assign(a,{dimensionSrcKeys:_,generator:{weight:"",piecesAmount:""},rowId:0,totalWeight:0,defaultPiecesAmount:1,packagesRows:[],packagingList:[],palletOption:!1}),a}return t.$inject=["calculateTotalFilter","convertUomToOppositeFilter"],a(t,e),t.prototype.setPackageDetails=function(){function e(e){var t=this;this.palletOption=e.palletOption,this.packagingList=e.packagingList,this.isPackagingListRestricted()?(this.packagingList=this.packagingList.filter(this.isDHLPackage),this.isCustomPackagesRestricted&&(this.packagingList=this.packagingList.filter(function(e){return e.offeredAtServicePoints}))):function(){var e=angular.copy(t.packagingList.find(t.isCustomPackage));t.packagesRows.forEach(function(n){t.isCustomPackage(n)&&(n.maxQuantity=e.maxQuantity,n.id=n.id||e.id,n.packageId=n.packageId||e.packageId||n.id)})}(),this.defaultPiecesAmount=e.defaultPiecesAmount||1,this.isPackagesPreset()||this.isRestoredShipment||this.generatePackagingRows(this.defaultPiecesAmount)}return e}(),t.prototype.isPackagingListRestricted=function(){function e(){return!this.hasCustomPackaging()||this.isCustomPackagesRestricted}return e}(),t.prototype.hasCustomPackaging=function(){function e(){return this.packagingList.some(this.isCustomPackage)}return e}(),t.prototype.setCountrySomParameters=function(){function e(e){var t=this.getInvertedSom(e.shipperCountrySom);this.shipperCountrySom=e.shipperCountrySom,this.userProfileCountrySom=e.userProfileCountrySom,this.setConvertionRates(e),this.weightConvertionRate=this.convertionRates[e.shipperCountrySom].weight,this.weightConvertionReverseRate=this.convertionRates[t].weight,this.dimensionConvertionRate=this.convertionRates[e.shipperCountrySom].dimension,this.dimensionConvertionReverseRate=this.convertionRates[t].dimension,this.shipperCountryConversionPrecision=e.shipperCountryConversionPrecision,this.userProfileCountryConversionPrecision=e.userProfileCountryConversionPrecision,this.packagingConversionPrecision=e.packagingConversionPrecision,this.somAreDifferent=e.userProfileCountrySom&&this.shipperCountrySom!==this.userProfileCountrySom}return e}(),t.prototype.setConvertionRates=function(){function e(e){var t;this.convertionRates=(t={},t[l["default"].METRIC]={weight:e.weightConvertionRate,dimension:e.dimensionConvertionRate},t[l["default"].IMPERIAL]={weight:1/e.weightConvertionRate,dimension:1/e.dimensionConvertionRate},t)}return e}(),t.prototype.generatePackagingRows=function(){function e(e){var t=this.getDefaultPackage();if(t)return void this.generateNewRows(e,t);this.generateNewRows(e)}return e}(),t.prototype.getDefaultPackage=function(){function e(){return this.packagingList.find(function(e){return e.defaultPackaging})}return e}(),t.prototype.generateNewRows=function(){function e(e,t){for(this.packagesRows.length=0;this.packagesRows.length<e;)this.addAnotherPackage(t)}return e}(),t.prototype.checkPackagesAvailability=function(){function e(){var e=this;if(this.packagesRows=this.packagesRows.filter(function(t){if(!t.packageId)return!0;var n=e.packagingList.find(function(e){return e.id===t.packageId});return n?(t.packagingName=t.packagingName||n.name,!0):void 0}),!this.packagesRows.length){var t=this.getDefaultPackage();this.generateNewRows(this.defaultPiecesAmount,t)}}return e}(),t.prototype.addAnotherPackage=function(){function e(e){var t=this.generatePackagingRow();e&&(t.defaultPackaging=e),this.packagesRows.push(t)}return e}(),t.prototype.generatePackagingRow=function(){function e(){return{rowId:++this.rowId,isPackagesListVisible:!1,isFilteredPackagingListNotEmpty:!0,pallet:!1,packageId:"",packagingName:"",packagingNameOriginal:"",quantity:1,weight:"",weightOriginal:"",maxWeight:"",unit:"",reference:"",dimensionsEditable:!0,packageType:null,width:"",widthOriginal:"",height:"",heightOriginal:"",length:"",lengthOriginal:"",itemsList:[]}}return e}(),t.prototype.generateRowsWithPredefinedWeight=function(){function e(){this.packagesRows=[];for(var e=this.packagingList.find(function(e){return e.defaultPackaging&&!e.fixedWeight})||this.packagingList.find(this.isCustomPackage),t=this.convertionRates[this.userProfileCountrySom].weight,n=this.userProfileCountrySom===e.units?this.generator.weight:this.convertUomToOppositeFilter(this.generator.weight,t,this.userProfileCountryConversionPrecision),i=n/this.generator.piecesAmount||"",r=0;r<this.generator.piecesAmount;r++){var o=Object.assign({},e,{weight:i});this.addAnotherPackage(o)}}return e}(),t.prototype.getRowsData=function(){function e(){var e=angular.copy(this.packagesRows);return e.forEach(function(e){return e.unit=e.units}),e}return e}(),t.prototype.convertWeightRestrictions=function(){function e(){for(var e=this,t=this.getInvertedSom(this.userProfileCountrySom),n=this.convertionRates[t].weight,i=this.userProfileCountryConversionPrecision,r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];o.filter(function(e){return!!e}).filter(function(t){return t.weightUnits!==f["default"][e.userProfileCountrySom]}).forEach(function(t){t.value=t.value&&e.convertUomToOppositeFilter(t.value,n,i),t.weightUnits=f["default"][e.userProfileCountrySom]})}return e}(),t.prototype.convertDimensionsRestrictions=function(){function e(e){var t=angular.copy(e),n=this.getInvertedSom(this.userProfileCountrySom),i=this.convertionRates[n].dimension,r=this.userProfileCountryConversionPrecision;return t.length=this.convertUomToOppositeFilter(t.length,i,r),t.height=this.convertUomToOppositeFilter(t.height,i,r),t.width=this.convertUomToOppositeFilter(t.width,i,r),t}return e}(),t.prototype.getInvertedSom=function(){function e(e){return e===l["default"].METRIC?l["default"].IMPERIAL:l["default"].METRIC}return e}(),t.prototype.convertWeightInRow=function(){function e(e){var t=arguments.length<=1||arguments[1]===undefined||arguments[1],n=t?this.weightConvertionRate:this.weightConvertionReverseRate,i=t?this.userProfileCountryConversionPrecision:this.shipperCountryConversionPrecision;return e&&this.convertUomToOppositeFilter(e,n,i)}return e}(),t.prototype.convertDimensionInRow=function(){function e(e){var t=arguments.length<=1||arguments[1]===undefined||arguments[1],n=t?this.dimensionConvertionRate:this.dimensionConvertionReverseRate,i=t?this.userProfileCountryConversionPrecision:this.shipperCountryConversionPrecision;return e&&this.convertUomToOppositeFilter(e,n,i)}return e}(),t.prototype.deletePackageRow=function(){function e(e){var t=this.packagesRows.indexOf(e);this.packagesRows.splice(t,1)}return e}(),t.prototype.calcTotalWeight=function(){function e(){return this.totalWeight=this.calculateTotalFilter(this.packagesRows,"weight","quantity"),this.totalWeight}return e}(),t.prototype.getTotalWeight=function(){function e(){var e=this.calcTotalWeight(),t=this.userProfileCountrySom,n=this.weightUpdated;return this.totalWeightObject=Object.assign(this.totalWeightObject||{},{value:e,som:t,isWeightUpdated:n}),this.totalWeightObject}return e}(),t.prototype.isUserProfilePackage=function(){function e(e){return e.packageType===m["default"].USER_PROFILE}return e}(),t.prototype.isDHLPackage=function(){function e(e){return e.packageType===m["default"].DHL}return e}(),t.prototype.isCustomPackage=function(){function e(e){return e.packageType===m["default"].CUSTOM}return e}(),t.prototype.isPalletAllowedForPackage=function(){function e(e){return this.palletOption&&(this.isUserProfilePackage(e)||this.isCustomPackage(e))}return e}(),t.prototype.isPresentPackageWithPallet=function(){function e(){var e=this;return this.packagesRows.some(function(t){return e.isPalletAllowedForPackage(t)})}return e}(),t.prototype.isPackagesPreset=function(){function e(){return!!this.packagesRows&&!!this.packagesRows.filter(function(e){return!!e.packagingName}).length}return e}(),t.prototype.getCustomPackaging=function(){function e(){return this.packagingList.find(function(e){return e.packageType===m["default"].CUSTOM})}return e}(),t.prototype.getDataPart=function(){function e(){return{pieces:this.packagesRows.length?this.getRowsData():null}}return e}(),t.prototype.initDataPart=function(){function e(e){var t=this,n=e.pieces,i=n===undefined?[]:n;this.packagesRows=i.map(function(e){return Object.assign(t.generatePackagingRow(),e,{units:e.unit,dimensionsEditable:e.packageType!==m["default"].DHL})}),this.packagesRows.length||this.packagesRows.push(this.generatePackagingRow())}return e}(),t.prototype.isTotalQuantityInvalid=function(){function e(){return!!this.packagesRows.length&&this.calculateTotalQuantity()>this.maxTotalQuantity}return e}(),t.prototype.calculateTotalQuantity=function(){function e(){return this.calculateTotalFilter(this.packagesRows,"quantity")}return e}(),t}(c["default"]);t["default"]=E},,,,function(e,t,n){"use strict";t.__esModule=!0,t["default"]={DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,SPACE:32}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1255),u=i(a),c=n(1256),s=i(c),l=angular.module("gradualEngagement",[o["default"]||"common.utils"]);l.service(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="gradualEngagement"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={HIGHLIGHTED:"ewfc-highlighted",CONDITIONAL_ELEMENT:"ewf-conditional-element"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(395),o=i(r),a=n(1412),u=i(a),c=n(63),s=i(c),l=n(897),d=i(l),f=n(1422),p=i(f),m=n(1424),_=i(m),E=n(1427),S=i(E),g=n(1429),C=i(g),A=n(1433),h=i(A),I=n(1436),v=i(I),N=n(1439),T=i(N),M=n(81),y=i(M),O=n(1443),D=i(O),P=n(1447),R=i(P),b=n(1452),L=i(b),G=n(1458),k=i(G),w=n(1463),U=i(w),F=n(1466),j=i(F),V=n(1474),B=i(V),$=n(1477),H=i($),x=n(35),K=i(x),Y=n(1483),W=i(Y),q=n(1487),z=i(q),X=n(1491),Q=i(X),Z=n(1492),J=i(Z),ee=n(1493),te=i(ee),ne=n(1495),ie=i(ne),re=n(1496),oe=i(re),ae=n(1498),ue=i(ae),ce=n(1499),se=i(ce),le=n(1501),de=i(le),fe=n(1502),pe=i(fe),me=n(1503),_e=i(me),Ee=n(1505),Se=i(Ee),ge=n(1507),Ce=i(ge),Ae=n(1508),he=i(Ae),Ie=n(1509),ve=i(Ie),Ne=n(1511),Te=i(Ne),Me=n(1513),ye=i(Me),Oe=n(1514),De=i(Oe),Pe=n(1516),Re=i(Pe),be=n(1518),Le=i(be),Ge=n(1520),ke=i(Ge),we=n(1521),Ue=i(we),Fe=n(1522),je=i(Fe),Ve=n(1524),Be=i(Ve),$e=n(1525),He=i($e),xe=n(1526),Ke=i(xe),Ye=n(1527),We=i(Ye),qe=n(1528),ze=i(qe),Xe=n(1529),Qe=i(Xe),Ze=n(1530),Je=i(Ze),et=n(1531),tt=i(et),nt=n(1532),it=i(nt),rt=n(1534),ot=i(rt),at=n(1535),ut=i(at),ct=n(1536),st=i(ct),lt=n(1538),dt=i(lt),ft=n(1539),pt=i(ft),mt=n(1540),_t=i(mt),Et=n(1542),St=i(Et),gt=n(1544),Ct=i(gt),At=n(1545),ht=i(At),It=n(1546),vt=i(It),Nt=n(1547),Tt=i(Nt),Mt=n(1548),yt=i(Mt),Ot=n(1550),Dt=i(Ot),Pt=n(1551),Rt=i(Pt),bt=n(1552),Lt=i(bt),Gt=n(1553),kt=i(Gt),wt=n(1555),Ut=i(wt),Ft=n(1556),jt=i(Ft),Vt=n(1557),Bt=i(Vt),$t=n(1559),Ht=i($t),xt=n(1560),Kt=i(xt),Yt=n(1561),Wt=i(Yt),qt=n(1562),zt=i(qt),Xt=n(1563),Qt=i(Xt),Zt=n(1564),Jt=i(Zt),en=n(1565),tn=i(en),nn=n(1566),rn=i(nn),on=n(1567),an=i(on),un=n(1568),cn=i(un),sn=n(1569),ln=i(sn),dn=n(1570),fn=i(dn),pn=n(1571),mn=i(pn),_n=n(1572),En=i(_n),Sn=n(1574),gn=i(Sn),Cn=n(1576),An=i(Cn),hn=n(1578),In=i(hn),vn=n(1579),Nn=i(vn),Tn=n(1580),Mn=i(Tn),yn=n(1581),On=i(yn),Dn=angular.module("common.widgets",[o["default"],d["default"],u["default"]||"common.widgets.grid",s["default"],p["default"],_["default"],S["default"],C["default"],h["default"],v["default"],y["default"]||"common.validation",T["default"],D["default"],R["default"],L["default"],k["default"],U["default"],j["default"],B["default"],H["default"],W["default"],K["default"],z["default"]]);Dn.directive(Q["default"].NG_NAME,Q["default"]).directive(J["default"].NG_NAME,J["default"]).directive(te["default"].NG_NAME,te["default"]).directive(ie["default"].NG_NAME,ie["default"]).directive(oe["default"].NG_NAME,oe["default"]).service(ue["default"].NG_NAME,ue["default"]).directive(se["default"].NG_NAME,se["default"]).service(de["default"].NG_NAME,de["default"]).directive(pe["default"].NG_NAME,pe["default"]).directive(_e["default"].NG_NAME,_e["default"]).directive(Se["default"].NG_NAME,Se["default"]).directive(Ce["default"].NG_NAME,Ce["default"]).service(he["default"].NG_NAME,he["default"]).directive(ve["default"].NG_NAME,ve["default"]).directive(Te["default"].NG_NAME,Te["default"]).service(ye["default"].NG_NAME,ye["default"]).directive(De["default"].NG_NAME,De["default"]).directive(Re["default"].NG_NAME,Re["default"]).directive(Le["default"].NG_NAME,Le["default"]).directive(je["default"].NG_NAME,je["default"]).directive(Be["default"].NG_NAME,Be["default"]).directive(Ke["default"].NG_NAME,Ke["default"]).directive(We["default"].NG_NAME,We["default"]).directive(He["default"].NG_NAME,He["default"]).directive(ke["default"].NG_NAME,ke["default"]).directive(Ue["default"].NG_NAME,Ue["default"]).directive(ze["default"].NG_NAME,ze["default"]).service(Je["default"].NG_NAME,Je["default"]).directive(tt["default"].NG_NAME,tt["default"]).directive(it["default"].NG_NAME,it["default"]).service(ot["default"].NG_NAME,ot["default"]).directive(ut["default"].NG_NAME,ut["default"]).directive(Qe["default"].NG_NAME,Qe["default"]).directive(st["default"].NG_NAME,st["default"]).service(dt["default"].NG_NAME,dt["default"]).directive(pt["default"].NG_NAME,pt["default"]).directive(_t["default"].NG_NAME,_t["default"]).directive(St["default"].NG_NAME,St["default"]).directive(Rt["default"].NG_NAME,Rt["default"]).directive(Ct["default"].NG_NAME,Ct["default"]).directive(ht["default"].NG_NAME,ht["default"]).directive(vt["default"].NG_NAME,vt["default"]).service(Tt["default"].NG_NAME,Tt["default"]).directive(yt["default"].NG_NAME,yt["default"]).directive(Dt["default"].NG_NAME,Dt["default"]).directive(Lt["default"].NG_NAME,Lt["default"]).service(kt["default"].NG_NAME,kt["default"]).directive(Ut["default"].NG_NAME,Ut["default"]).service(jt["default"].NG_NAME,jt["default"]).service(Bt["default"].NG_NAME,Bt["default"]).service(Ht["default"].NG_NAME,Ht["default"]).directive(Kt["default"].NG_NAME,Kt["default"]).directive(Wt["default"].NG_NAME,Wt["default"]).service(zt["default"].NG_NAME,zt["default"]).service(Qt["default"].NG_NAME,Qt["default"]).directive(Jt["default"].NG_NAME,Jt["default"]).directive(tn["default"].NG_NAME,tn["default"]).directive(rn["default"].NG_NAME,rn["default"]).directive(an["default"].NG_NAME,an["default"]).directive(cn["default"].NG_NAME,cn["default"]).directive(fn["default"].NG_NAME,fn["default"]).directive(En["default"].NG_NAME,En["default"]).directive(gn["default"].NG_NAME,gn["default"]).directive(An["default"].NG_NAME,An["default"]).service(ln["default"].NG_NAME,ln["default"]).directive(In["default"].NG_NAME,In["default"]).directive(Nn["default"].NG_NAME,Nn["default"]).directive(mn["default"].NG_NAME,mn["default"]).directive(Mn["default"].NG_NAME,Mn["default"]).directive(On["default"].NG_NAME,On["default"]),t.module=Dn,t["default"]="common.widgets"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(t){"ngInject";i(this,e),this.name="",this.initialized=!1,this.restored=!1,this.passed=!1,this.isWaterfallsFlow=!0,this.independent=!1,this.editModeActive=null,this.submitOptions=null,this.pendingRequestService=t}return e.$inject=["pendingRequestService"],e.prototype.init=function(){function e(){this.onInit(),this.initialized=!0}return e}(),e.prototype.nextCallback=function(){function e(){}return e}(),e.prototype.editCallback=function(){function e(){}return e}(),e.prototype.onInit=function(){function e(){}return e}(),e.prototype.onNextClick=function(){function e(){this.nextCallback()}return e}(),e.prototype.onEditClick=function(){function e(){this.editCallback()}return e}(),e.prototype.getName=function(){function e(){return this.name}return e}(),e.prototype.edit=function(){function e(){this.restored&&(this.init(),this.restored=!1),this.onEdit(),this.editModeActive=!0}return e}(),e.prototype.onEdit=function(){function e(){}return e}(),e.prototype.preview=function(){function e(){this.editModeActive=!1}return e}(),e.prototype.isValid=function(){function e(){}return e}(),e.prototype.setNextCallback=function(){function e(e){this.nextCallback=e}return e}(),e.prototype.setEditCallback=function(){function e(e){this.editCallback=e}return e}(),e.prototype.isContentShown=function(){function e(){return this.editModeActive&&!this.skipped}return e}(),e.prototype.isSynopsisShown=function(){function e(){return!1===this.editModeActive&&!this.skipped}return e}(),e.prototype.isNextButtonDisabled=function(){function e(){return this.pendingRequestService.isPresentPendingRequest()}return e}(),e}();t["default"]=r},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t["default"]={SELECT_ONE:undefined,YES:"YES",NO:"NO",NA:"NA"};t.TAX_PAYMENT_OPTIONS={NOT_APPLICABLE:"NOT_APPLICABLE",AGAINST_BOND:"AGAINST_BOND",IGST:"IGST"},t.TRANSACTION_TYPES={SELECT_ONE:undefined,REGULAR:"REGULAR",BILL_SHIP_FROM:"BILL_SHIP_FROM"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){function e(e){var t=e.references,n=t===undefined?[]:t;n.length&&(a.primaryReference=n.find(function(e){return e.type===c["default"].PRIMARY}),r(n),o(n))}function t(){return[a.primaryReference||{}].concat(a.additionalReferences).filter(function(e){return!!e.name}).map(function(e,t){return{name:e.name,type:t?c["default"].ADDITIONAL:c["default"].PRIMARY}})}function n(){var e=t();return i(e),{references:e}}function i(e){if(a.secondaryReference.name){var t=a.secondaryReference,n=t.name,i=t.type;e.push({name:n,type:i})}}function r(e){var t=e.find(function(e){return e.type===c["default"].SECONDARY});t&&(a.secondaryReference.name=t.name)}function o(e){a.additionalReferences=e.filter(function(e){return e.type===c["default"].ADDITIONAL})}var a=Object.assign(this,{initDataPart:e,getDataPart:n,getReferenceList:t,referenceList:[],initialReferenceList:[],secondaryReferenceList:[],initialSecondaryReferenceList:[],shownReferenceList:[],additionalReferences:[],maxReferencesNumber:50,primaryReference:{name:"",type:c["default"].PRIMARY},secondaryReference:{name:"",type:c["default"].SECONDARY}})}t.__esModule=!0,t["default"]=r;var o=n(11),a=i(o),u=n(926),c=i(u);r.prototype=new a["default"],r.NG_NAME="shipmentTypeReferencesModel"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2169),o=i(r),a=n(461),u=i(a),c=n(949),s=i(c),l=n(953),d=i(l),f=n(2173),p=i(f),m=n(2174),_=i(m),E=n(2175),S=i(E),g=n(2176),C=i(g),A=n(2177),h=i(A),I=n(2178),v=i(I),N=n(2179),T=i(N),M=n(2180),y=i(M),O=n(2183),D=i(O),P=n(2184),R=i(P),b=n(2185),L=i(b),G=n(2186),k=i(G),w=n(2188),U=i(w),F=n(2189),j=i(F),V=angular.module("shipment.customs-declaration",[o["default"],u["default"],s["default"],d["default"]]);V.directive(p["default"].NG_NAME,p["default"]).directive(_["default"].NG_NAME,_["default"]).directive(S["default"].NG_NAME,S["default"]).directive(y["default"].NG_NAME,y["default"]).directive(D["default"].NG_NAME,D["default"]).directive(L["default"].NG_NAME,L["default"]).directive(k["default"].NG_NAME,k["default"]).directive(j["default"].NG_NAME,j["default"]).factory(C["default"].NG_NAME,C["default"]).service(h["default"].NG_NAME,h["default"]).service(v["default"].NG_NAME,v["default"]).service(T["default"].NG_NAME,T["default"]).service(R["default"].NG_NAME,R["default"]).service(U["default"].NG_NAME,U["default"]),t.module=V,t["default"]="shipment.customs-declaration"},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(956),u=i(a),c=n(58),s=i(c),l=n(2220),d=i(l),f=n(2222),p=i(f),m=n(2223),_=i(m),E=n(2224),S=i(E),g=n(2225),C=i(g),A=n(2226),h=i(A),I=n(2227),v=i(I),N=angular.module("shipment.labelless",[o["default"],u["default"],s["default"]]);N.service(S["default"].NG_NAME,S["default"]).service(C["default"].NG_NAME,C["default"]).service(h["default"].NG_NAME,h["default"]).service(v["default"].NG_NAME,v["default"]).directive(p["default"].NG_NAME,p["default"]).directive(_["default"].NG_NAME,_["default"]).directive(d["default"].NG_NAME,d["default"]),t.module=N,t["default"]="shipment.labelless"},,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(969),u=i(a),c=n(2289),s=i(c),l=angular.module("shipment.pickup.pickupWindow",[u["default"],o["default"]]);l.directive(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="shipment.pickup.pickupWindow"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(2298),u=i(a),c=n(2302),s=i(c),l=n(2306),d=i(l),f=n(114),p=i(f),m=n(413),_=i(m),E=n(975),S=i(E),g=n(976),C=i(g),A=n(414),h=i(A),I=n(415),v=i(I),N=angular.module("schedule.pickup.label.reference",[u["default"],s["default"],d["default"],_["default"],o["default"],p["default"]]);N.directive(S["default"].NG_NAME,S["default"]).service(h["default"].NG_NAME,h["default"]).service(v["default"].NG_NAME,v["default"]).service(C["default"].NG_NAME,C["default"]),t.module=N,t["default"]="schedule.pickup.label.reference"},,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t["default"]={PROVIEW:"PROVIEW",ONLINEBILLING:"ONLINEBILLING",ITALIAN_PORTAL:"ITALIAN_PORTAL",ESECURE:"ESECURE"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={DAILY:"DAILY",WEEKLY:"WEEKLY",MONTHLY:"MONTHLY",ONE_OFF_SHIPMENT:"ONE_OFF_SHIPMENT"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={VALIDATION_ERROR_KEYS:"ewfValid",PENDING_VALIDATION_KEYS:"pendingValidation",REQUIRED:"required",MIN_LENGTH:"minlength",MAX_LENGTH:"maxlength"}},function(e,t,n){"use strict";function i(e,t){return{alias:e,group:t,subGroup:arguments.length<=2||arguments[2]===undefined?" ":arguments[2],optional:!(arguments.length<=3||arguments[3]===undefined)&&arguments[3]}}t.__esModule=!0;var r,o=n(906),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=(r={},r[a["default"].ADDRESS_BOOK]={CI0709_B2B_B2C_OPTION:["b2b-b2c.option"," "],CI1047_AVAILABLE_PHONE_TYPES:["available.phone.types","Phone Types"],CI1048_DEFAULT_PHONE_TYPE:["default.phone.type","Phone Types",!0],CI1277_SUPPORTED_CHARSET_FOR_UPLOAD:["supported.charset.for.address.book.upload.files"," "],CI1278_COUNTRY_PHONE_NUMBER_LENGTH:["country.length.of.phone.number"," ",!0],CR0063_COMPANY_ADDRESS_BOOK_CREATE_CONTACTS:["company.address.book.create.contacts","Company address book"],CR0064_COMPANY_ADDRESS_BOOK_MODIFY_CONTACTS:["company.address.book.modify.contacts","Company address book"],CR0065_COMPANY_ADDRESS_BOOK_DELETE_CONTACTS:["company.address.book.delete.contacts","Company address book"],CR0066_COMPANY_ADDRESS_BOOK_IMPORT_CONTACTS:["company.address.book.import.contacts","Company address book"],CR0067_COMPANY_ADDRESS_BOOK_EXPORT_CONTACTS:["company.address.book.export.contacts","Company address book"],CR0069_GROUP_ADDRESS_BOOK_CREATE_CONTACTS:["group.address.book.create.contacts","Group address book"],CR0070_GROUP_ADDRESS_BOOK_MODIFY_CONTACTS:["group.address.book.modify.contacts","Group address book"],CR0071_GROUP_ADDRESS_BOOK_DELETE_CONTACTS:["group.address.book.delete.contacts","Group address book"],CR0072_GROUP_ADDRESS_BOOK_IMPORT_CONTACTS:["group.address.book.import.contacts","Group address book"],CR0073_GROUP_ADDRESS_BOOK_EXPORT_CONTACTS:["group.address.book.export.contacts","Group address book"],CR0093_RESTRICT_SHIPFROM_ADDRESS_ENABLED:["restrict.shipfrom.address.enabled","Restrict ShipFrom Address"],CR0095_RESTRICT_SHIPTO_ADDRESS_ENABLED:["restrict.shipto.address.enabled","Restrict ShipTo Address"]},r[a["default"].CURRENCY_LIST]={CI0053_DECLARED_DEFAULT_CURRENCY:["declared.default","Declared Value"]},r[a["default"].CUSTOMS]={CI1417_CUSTOMS_REGISTRATION_NUMBER_TYPES:["customs.registration.number.types"," ",!0],CI1419_PARTY_ROLES:["business.party.roles"," ",!0],CI1420_CUSTOMS_DOCUMENTS:["customs.documents","Document Types",!0],CI1422_LINE_ITEM_REFERENCE_TYPE_NUMBER_LIST:["line.item.reference.type.number","Line Item Reference",!0],CI1425_LINE_ITEM_REFERENCE_TYPE_AND_NUMBER_MANDATORY:["line.item.reference.type.and.number.mandatory","Line Item Reference"],CI1454_ADDITIONAL_LINE_ITEM_REFERENCE_TYPE_LIST:["additional.line.item.reference.type.number","Line Item Reference",!0],CI1423_OTHER_MONETARY_CHARGES:["other.monetary.charges","Other Charges",!0],CI1452_TAX_IDS_AND_PII_DATA_LIST:["tax.ids.and.pii.data","Other Charges",!0],CI1453_ENABLE_TAX_FIELDS_FOR_BUSINESS_PRIVATE_CONTACTS:["enable.tax.fields.for.business.private.contacts","Tax Fields Management",!0],CI1455_LIST_TAX_DOC_TYPE_MANDATORY_FOR_DUTIABLE_SHP:["tax.doc.type.mandatory.for.dutiable.shp","Tax Fields Management",!0],CI1456_LIST_TAX_USCI_CRN_MANDATORY_FOR_DUTIABLE_SHP:["usci.crn.mandatory.for.dutiable.shp","Tax Fields Management",!0]},r[a["default"].DASHBOARD]={CI1078_INDUSTRIAL_GROUP:["industrial.group"," "]},r[a["default"].EMAIL]={CI1040_FREQUENCY_FOR_EMAIL_ALERT_OPTION:["frequency.for.email.alert.option","Notification"],CI1039_TIME_TO_SEND_NO_ACTION_NOTIFICATION_EMAIL_TO_ASSIGNOR_OPTIONS:["time.to.send.no.action.notification.email.to.assignor.options","Notification"]},r[a["default"].GENERAL_SETTINGS]={CI0785_MAX_SUGGESTED_SEARCH_RESULTS:["maximum.no.of.suggested.search.results"," "],CI0815_ENABLE_GSPL:["enable.gspl"," "],CI0361_CR_NUMBER_MANDATORITY_FOR_COUNTRY:["cr.number.mandatority.country"," "],CI1396_CR_NUMBER_MANDATORITY_FOR_CORPORATE_AND_CUSTOMER:["cr.number.mandatority.corporate.customer"," ",!0],CI1031_MAX_DOCUMENT_UPLOAD_SIZE:["max.doc.upload.size.for.assign.shipment"," "],CI1032_SUPPORTED_DOCUMENT_FILE_FORMAT:["supported.doc.file.formats.for.assign.shipment"," "],CI0304_ORDER_SUPPLIES_LINK:["order.supplies.link"," "],CI1102_ALLOW_GUEST_TO_CREATE_SHIPMENTS:["allow.guest.to.create.shipments"," "],CI1426_DISPLAY_RATE_AND_QUOTE_TO_GUEST:["display.rate.and.quote.to.guest"," "],CI1053_ENABLE_GOOGLE_LIKE_SEARCH:["enable.googlelike.search"," "],CI0792_RECORDS_NUMBER:["maximum.number.of.records.to.display.in.item.description"," "],CI0713_NAVIGATION_WHEN_SAVE_AND_PRINT_BUTTON_CLICKED:["navigation.when.save.and.print.button.clicked"," "],CI0999_NON_ASCII_INPUT_ALLOWED:["non.ascii.input.allowed"," "],CI1272_NOT_ALLOWED_ASCII_INPUT:["not.allowed.ascii.input"," ",!0],CI0011_TERMS_AND_CONDITION_CONFIRMATION:["terms.and.condition.confirmation"," "],CI0619_PRIVACY_AND_COOKIES_POLICY:["privacy.and.cookies.policy"," "],CI1291_MIN_CHARS_TO_TRIGGER_AMS_IF_NO_MATCH_IN_ADDRESS_BOOK:["min.number.of.chars.for.triggering.google.like.search.if.there.is.no.match.search.in.address.book"," "],CI1292_MIN_CHARS_TO_TRIGGER_AMS_IF_MATCH_IN_ADDRESS_BOOK:["min.number.of.chars.for.triggering.google.like.search.if.there.is.a.match.search.in.address.book"," "],CI1293_TIME_BEFORE_TRIGGERING_AMS_IF_MATCH_IN_ADDRESS_BOOK:["wait.time.before.triggering.google.like.search.if.there.is.a.match.search.in.address.book"," "],CI1380_DISABLE_LOCAL_IMPORT_ACCOUNTS_IN_BILLING_REGIONS:["disable.local.import.accounts.in.billing.regions"," "],CI1450_ENABLE_DROP_OFF_FOR_ACCOUNT_HOLDERS:["enable.drop.off.for.account.holders"," "],CI0308_ALLOW_FOC_ACCOUNT:["allow.foc.account","Account Management"],CI0736_ALLOW_LOCAL_IMP_ACCOUNTS:["allow.local.imp.account","Account Management"],CI0960_DEFAULT_ACCOUNT_TYPE_AFTER_FIRST:["default.account.type.for.all.entered.accounts.after.the.first.account","Account Management"],CI0620_ALLOW_FOREIGN_IMP_ACCOUNTS:["allow.foreign.imp.account","Account Management"],CI1260_COUNTRY_ACTIVATION:["country.activation","Country Activation"],CI1189_ALLOW_ASSIGN_DEFAULT_ACCOUNT_FOR_CC_SHIPMENTS:["allow.corporate.admin.to.assign.default.account.for.credit.card.shipments","Registration"],CI0980_ALLOW_CASH_ACCOUNTS:["allow.cash.accounts","Registration"],CI0298_RPA_ENABLED:["rpa.enabled","RPA"],CI0628_DECIMAL_SEPARATOR:["decimal.separator","UOM"],CI0768_OTHER_UOMS_LIST:["other.uoms.list","UOM"],CI0811_NO_DIGITS_ALLOWED_NET_WEIGHT_GROSS_WEIGHT_ITEM_VALUE:["no.digits.allowed.net.weight.gross.weight.item.value","UOM"],CI1022_NO_OF_DECIMALS_ALLOWED_FOR_WEIGHT_AND_ITEM_VALUE:["no.of.decimals.allowed.for.weight.and.item.value","UOM"],CI1268_NO_OF_DIGITS_ALLOWED_FOR_PACKAGING_WEIGHT_AND_DIMENSIONS:["no.of.digits.allowed.for.packaging.weight.and.dimensions","UOM"],CI1269_NO_OF_DECIMALS_ALLOWED_FOR_PACKAGING_WEIGHT_AND_DIMENSIONS:["no.of.decimals.allowed.for.packaging.weight.and.dimensions","UOM"],CI0408_REMEMBER_LAST_INPUT_FOR_DESCRIPTION:["remember.last.input.for.description"," "],CI1358_FORCE_SSO_LOGIN:["force.sso.login","SSO",!0],CI1355_ACCESS_VIA_SSO_ENABLED:["access.via.sso.enabled","SSO",!0]},r[a["default"].GUI]={CI0101_MY_PROFILE_TAX_FG_IE:["my.profile.tax.fg.ie"," "],CI0251_INVOICE_DETAILS_ITEM_DESCRIPTION:["invoice.details.item.description"," "],CI0750_CATALOG_EXPORT_COMMODITY_CODE:["customer.product.catalog.export.commodity.code"," "],CI0751_CATALOG_IMPORT_COMMODITY_CODE:["customer.product.catalog.import.commodity.code"," "],CI0132_INVOICE_DETAILS_QUANTITY:["invoice.details.quantity"," "],CI0746_CUSTOMER_PRODUCT_CATALOG_UNIT_VALUE:["customer.product.catalog.unit.value"," "],CI0748_CUSTOMER_PRODUCT_CATALOG_NET_WEIGHT:["customer.product.catalog.net.weight"," "],CI0753_CUSTOMER_PRODUCT_CATALOG_GROSS_WEIGHT:["customer.product.catalog.gross.weight"," "],CI0744_CATALOG_COUNTRY_OF_MANUFACTURE:["customer.product.catalog.country.of.manufacture"," "],CIF0233_NAME:["name"," "],CIF0234_COMPANY:["company"," "],CIF0236_ADDRESS_2:["address_2"," "],CIF0243_PHONE:["phone"," "],CIF0250_EMAIL:["email"," "],CIF0033_NICKNAME:["nickname.address.book"," "],CIF0066_EMAIL_ADDRESS_BOOK:["email.address.book"," "],CIF0217_DIMENSIONS_WIDTH:["dimensions.width"," "],CIF0218_DIMENSIONS_HEIGHT:["dimensions.height"," "],CIF0219_DIMENSIONS_LENGTH:["dimensions.length"," "],CIF0024_ADDRESS_1:["address.1"," "],CIF0120_VAT_TAX_ID:["vat.tax.id"," "],CIF0014_ACCOUNT_NICKNAME:["account.nickname"," "],CIF0046_EXTENSION:["extension"," "],CIF0125_SHIPMENT_DESCRIPTION:["shipment.description"," "],CIF0222_PACKAGE_REFERENCE:["package.reference"," "],CIF0278_NUMBER_OF_PACKAGES:["number.of.packages"," "],CIF0454_REASON_FOR_CANCELLATION:["reason.for.cancellation"," "],CIF0214_PACKAGING_NAME:["packaging.name"," "],CIF0314_GSTIN:["gstin"," "],CIF0315_GST_INVOICE_NUMBER:["gst.invoice.number"," "],CIF0316_GST_INVOICE_DATE:["gst.invoice.date"," "],CIF0317_COMM_PRO_INVOICE_DATE:["comm.pro.invoice.date"," "],CIF0320_TOTAL_IGST_PAID_INR:["total.igst.paid.inr"," "],CIF0321_HSN_CODE:["hsn.code"," "],CIF0322_REASON_FOR_TRANSPORTATION:["reason.for.transportation"," "],CIF0323_APPROX_DISTANCE_IN_KM:["approx.distance.in.km"," "],CIF0324_TRANSPORTER_ID:["transporter.id"," "],CIF0325_SHIPMENT_TYPE:["shipment.type"," "],CIF0326_DOCUMENT_TYPE:["document.type"," "],CIF0327_MODE_OF_TRANSPORT:["mode.of.transport"," "],CIF0328_TRUCK_NAME:["truck.name"," "],CIF0329_COMM_PRO_INVOICE_NO:["comm.pro.invoice.no"," "],CIF0331_GST_TRANSACTION_TYPE:["gst.transaction.type"," "],CIF0333_MASTER_REFERENCE_NUMBER:["master.reference.number"," "],CIF0334_EIN:["ein"," "],CIF0335_AD_CODE:["ad.code"," "],CIF0336_AC_CODE:["ac.code"," "],CIF0337_IFSC_CODE:["ifsc.code"," "],CIF0338_COMMODITY_TYPE:["commodity.type"," "],CIF0339_PLACE_OF_SUPPLY:["place.of.supply"," "],CIF0340_SUPPLY_DATE:["supply.date"," "],CIF0343_INDIA_CSBV_EXPORT_COMMODITY_CODE:["csbv.commodity.code"," "],CIF0347_ITEM_DISCOUNT:["item.discount"," "],CIF0348_ITEM_FOB_VALUE:["item.fob.value"," "],CIF0351_IGST:["igst"," "],CIF0353_MEIS:["meis"," "],CIF0354_ECOMMERCE_SHIPMENT:["eCommerce.shipment"," "],CIF0355_TAX_PAYMENT_OPTION:["tax.payment.option"," "],CIF0359_SHIPPER_TAX_DOCUMENT_TYPE:["shipper.tax.document.type"," "],CIF0360_SHIPPER_USCI_CODE:["shipper.usci.code"," "],CIF0361_SHIPPER_CRN:["shipper.crn"," "],CIF0362_RECEIVER_TAX_DOCUMENT_TYPE:["receiver.tax.document.type"," "],CIF0363_RECEIVER_USCI_CODE:["receiver.usci.code"," "],CIF0364_RECEIVER_CRN:["receiver.crn"," "],CIF0365_WHAT_IS_THE_ITEM:["what.is.the.item","Form Fields"],CIF0366_BRAND_OR_MANUFACTURE:["brand.or.manufacture","Form Fields"],CIF0367_WHICH_TYPE_STYLE_OR_MODEL_IS_IT:["which.type.style.or.model.is.it","Form Fields"],CIF0368_HOW_WILL_IT_BE_USED:["how.will.it.be.used","Form Fields"],CIF0369_WHAT_IS_IT_MADE_OF:["what.is.it.made.of","Form Fields"],CI0422_ADDRESS_ADDRESS_LINE_3:["Address.Address.line.3","Address Book"],CI0606_SHIPPER_ADDRESS_TAXID:["shipper.address.taxid","Address Book"],CIF0239_SUBURB:["suburb","Address Fields"],CIF0240_PROVINCE:["province","Address Fields"],CIF0241_POSTAL_CODE:["postal.code","Address Fields"],CIF0452_ZIP:["zip","Address Fields"],CIF0453_STATE:["state","Address Fields"],CI0248_INVOICE_EXPORT_CODE:["invoice.export.code","Invoice"],CI0249_INVOICE_EXPORT_ID:["invoice.export.id","Invoice"],CI0343_INVOICE_EORI:["invoice.eori","Invoice"],CI0864_INVOICE_JOB_TITLE:["invoice.job.title","Invoice"],CI0865_INVOICE_COMPANY_LOGO:["invoice.company.logo","Invoice"],CI0854_INVOICE_ULTIMATE_DESTINATION_COUNTRY:["invoice.ultimate.destination.country","Invoice"],CI0860_INVOICE_INVOICE_NO:["invoice.invoice.no","Invoice"],CI0861_INVOICE_SENDER_REFERENCE:["invoice.sender.reference","Invoice"],CI0855_INVOICE_RECEIVER_REFERENCE:["invoice.receiver.reference","Invoice"],CI0857_INVOICE_PACKAGE_MARKS:["invoice.package.marks","Invoice"],CI0863_INVOICE_OTHER_REMARKS:["invoice.other.remarks","Invoice"],CI0862_INVOICE_TEXT_CLAUSES_REGULATIONS:["invoice.text.clauses.regulations","Invoice"],CI0973_INVOICE_TYPE_OF_EXPORT:["invoice.type.of.export","Invoice"],CI0252_INVOICE_NAME_DESTINATION_PORT:["invoice.name.destination.port","Invoice"],CI0254_INVOICE_TERMS_PAYMENT:["invoice.terms.payment","Invoice"],CI0859_INVOICE_DUTIES_TAXES_ACCOUNT:["invoice.duties.taxes.account","Invoice"],CI0801_INVOICE_NUMBER_OF_PALLETES:["invoice.number.of.palletes","Invoice"],CI0852_INVOICE_BANK_DETAILS_FIELDS:["invoice.bank.details.fields","Invoice"],CIF0002_INVOICE_REFERENCES_OTHER_INFORMATION:["references.and.remarks.other.information","Invoice"],CIF0001_CUSTOMER_NAME_ENHANCED_INVOICE_DECLARATION:["invoice.customer.name","Invoice"],CIF0003_GUI_INVOICE_RUSSIAN_INVOICE_DETAILS_KPP:["russia.invoice.kpp","Invoice"],CIF0004_GUI_INVOICE_RUSSIAN_INVOICE_DETAILS_INN:["russia.invoice.inn","Invoice"],CIF0005_GUI_INVOICE_RUSSIAN_INVOICE_DETAILS_OGRN:["russia.invoice.ogrn","Invoice"],CIF0006_GUI_INVOICE_RUSSIAN_INVOICE_DETAILS_OKPO:["russia.invoice.okpo","Invoice"],CIF0007_GUI_INVOICE_RUSSIAN_INVOICE_DETAILS_SETTLEMENT_ACCOUNT_USD_EUR:["russia.invoice.settlement.account.usd.eur","Invoice"],CIF0008_GUI_INVOICE_RUSSIAN_INVOICE_DETAILS_SETTLEMENT_ACCOUNT_RUR:["russia.invoice.settlement.account.rur","Invoice"],CIF0009_GUI_INVOICE_RUSSIAN_INVOICE_DETAILS_BANK_NAME:["russia.invoice.bank.name","Invoice"],CI0601_SHIPMENT_SHIPMENT_REFERENCE:["shipment.shipment.reference","Shipment"],CI1384_FIELD_NOTIFICATIONS:["fields.notifications","Configure Fields Notifications"]},r[a["default"].LANE_ALERTS]={CI0711_LANE_ALERTS:["lane.alerts"," "],CI0712_LANE_ALERTING:["lane.alerting"," "]},r[a["default"].MANIFESTING]={CI0357_MANIFESTING_TYPE:["manifesting.type"," "],CI1169_SPLIT_TIME_DEFINITE_AND_ECONOMY_SELECT_MANIFEST:["split.time.definite.and.economy.select.manifest"," "]},r[a["default"].PAYMENT_OPTIONS]={CI0437_CUP_INTERVAL:["cup_interval_seconds"," "],CI0847_PAYMENT_CATEGORIES:["payment.categories"," "],CI1020_ADDITIONAL_TC_FOR_CREDIT_CARD:["additional.tc.for.credit.card"," "],CI0987_NOT_ALLOW_ONLINE_PAYMENT_FOR_DESTINATION_COUNTRIES:["do.not.allow.credit.card.payment.for.these.destinations"," "],CI1338_LIST_COD_PAYMENT_TYPE:["cash.on.delivery.list.of.payment.types","Cash On Delivery (COD)"],CI1306_ALLOW_SAVE_CREDIT_CARD_DATA:["allow.save.credit.card.data","Global Collect"],CI1398_ALLOW_NON_ACCOUNT_PAYMENT_TYPES_FOR_IMPORT_SHIPMENTS:["allow.non.account.payment.types.for.import.shipments","Non-Account payment types"],CI1290_ALLOW_NON_ACCOUNT_PAYMENT_TYPES_FOR_ACCOUNT_HOLDERS:["allow.non.account.payment.types.for.account.holders","Non-Account payment types"],CI1027_ENABLE_WALK_CLICK_CALL_PROMOTION:["enable.walk.click.call.promotion","Walk-Click-Call"],CI1028_WALK_CLICK_CALL_OPTIONS:["walk.click.call.options","Walk-Click-Call"],CI1134_WCC_PAYMENT_OPTIONS_LOGOS:["wcc.payment.options.logos","Walk-Click-Call"],CI1041_SELF_SERVICE_BOOKING_FORM:["self.service.booking.form","Walk-Click-Call"],CI1182_PRICE_DIFF_LIMIT:["price.difference.limit.for.drop.off.and.ship.online","Walk-Click-Call"],CI1437_ALLOW_WALK_USERS_TO_COMPLETE_SHIPMENT_DETAILS:["allow.walk.users.to.complete.shipment.details","Walk-Click-Call"],CI1307_TRUSTEV_MODE:["trustev.mode","Trustev",!0],CI1308_TRUSTEV_JAVASCRIPT_URL:["trustev.javascript.url","Trustev",!0],CI1309_TRUSTEV_PUBLIC_KEY:["trustev.public.key","Trustev",!0],CI1462_RESTRICT_BILLING_COUNTRY_CHANGE:["restrict.billing.country.change","Online Payment"]},r[a["default"].PICKUP]={CI0958_ENABLE_TSA_PRIVACY_ACT_NOTIFICATION:["enable.tsa.privacy.act.notification"," "],CI0873_MINIMAL_PICKUP_INTERVAL:["minimum.pickup.interval.for.customers.country"," "],CI0733_REQUEST_DHL_PACKAGING:["request.dhl.packaging"," "],CI0554_PICKUP_LOCATION:["pickup.location"," "],CI0989_ENABLE_PICKUP_LOCATION_OTHER:["enable.pickup.location.other"," "],CI0657_ALLOW_PICKUP_ONLY_WITH_AUTHORIZED_PICKUP_LOCATIONS:["allow.pickup.only.with.authorized.pickup.locations"," "],CI1448_EXCLUDE_AUTHORIZED_PICKUP_LOCATIONS_USAGE_FOR_FOREIGN_IMP_ACCOUNTS:["exclude.authorized.pickup.locations.usage.for.foreign.imp.accounts"," "],CI0555_MANDATORY_PICKUP_FOR_NON_ACCOUNT_USER:["pickup.mandatory.non.account.user"," "],CI0514_SELECT_PICKUP_DEFAULT:["select.pickup.by.default"," "],CI0508_ENABLE_PICKUP:["enable.pickup"," "],CI0954_WEIGHT_ALLOWED_FOR_PICKUP:["weight.allowed.for.pickup"," "],CI0882_ALLOW_USAGE_OF_IMP_FOR_PICKUP:["allow.usage.of.imp.for.pickup"," "],CI0194_MAX_DAYS_TO_BOOK_PICKUP_IN_ADVANCE:["maximum.days.to.book.pickup.in.advance"," "],CI0517_DISPLAY_NON_EWF_BOOKINGS:["display.non.ewf.bookings"," "],CI0976_NUMBER_APL_RESULT:["number.of.authorized.pickup.locations"," "],CI0338_ALLOW_REMOTE_PICKUP:["allow.remote.pickup"," "],CI0967_ACCEPT_REMOTE_ORDER_PICKUP:["accept.remote.order.pickup"," "],CI0992_OPTIONS_OFFERED_TO_THE_GUEST_CUSTOMER_STANDALONE_PICKUP:["options.offered.to.the.guest.customer.standalone.pickup"," "],CI0965_SEND_PICKUP_CONFIRMATION_EMAIL:["send.pickup.confirmation.email"," "],CI0966_SEND_PICKUP_ALERT_EMAIL:["send.pickup.alert.email"," "],CI1331_PICKUP_IS_OPTIONAL_FOR_CASH_ACCOUNT_SHIPMENTS:["pickup.is.optional.for.cash.account.shipments"," "],CI1381_ALLOW_SATURDAY_PICKUP:["allow.saturday.pickup"," "],CI1459_CANCELLATION_REASONS:["cancellation.reasons","CS Remote Booking"]},r[a["default"].PRODUCTS_AND_SERVICES]={CI1466_ENABLE_D2SP:["enable.d2sp","Delivery to Service Point"],CI1471_ENABLE_D2SP_CORPORATE:["enable.d2sp.corporate","Delivery to Service Point"],CI0075_DEFAULT_INSURANCE_CHECKBOX:["default.insurance.extended.liability.checkbox","Insurance"],CI1295_DEFAULT_EXTENDED_LIABILITY_CHECKBOX:["select.extended.liability.by.default","Insurance",!0],CI0469_INSURANCE_VISIBILITY:["insurance.visibility","Insurance"],CI0963_INSURANCE_TERMS_AND_CONDITION_POPUP:["insurance.terms.and.condition.popup","Insurance"],CI0057_PACKAGING_TYPE:["packaging.type","Packaging"],CI0755_FILE_TYPES_ALLOWED_FOR_COMPANY_LOGO:["allowed.file.types.for.company.logo","PLT"],CI0756_MAX_PIXELS_FOR_COMPANY_LOGO:["max.pixels.for.company.logo","PLT"],CI0757_MAX_FILE_SIZE_FOR_COMPANY_LOGO:["max.file.size.for.company.logo","PLT"],CI0799_MAX_FILE_SIZE_FOR_INVOICE:["max.file.size.for.invoice","PLT"],CI0518_MAX_FILES_PER_SHIPMENT:["maximum.number.of.files.per.shipment","PLT"],CI1305_ENABLE_PLT_FOR_ADVANCE_SHIPMENT:["enable.plt.for.advance.shipment","PLT"],CI1445_DEFAULT_PLT_SERVICE:["default.plt.service","PLT"],CI0623_PRODUCTS_UPSELL:["upsell.product","Products"],CI1081_INSURANCE_UPSELL:["upsell.insurance","Products"],CI1327_UPSELL_EXTENDED_LIABILITY:["upsell.extended.liability","Products"],CI0667_SERVICES_LIST:["service.list","Services"],CI1451_SERVICE_CODES_LIST:["service.codes.list","Service Codes"],CI1383_ENABLE_GLOBAL_MAIL:["enable.global.mail","Global Mail"],CI1434_ENABLE_LABELLESS_FOR_WALK_AND_CLICK_FLOWS:["enable.labelless.for.walk.and.click.flows","Labelless"],CI1435_ENABLE_LABELLESS_FOR_DROP_OFF_AND_PICKUP:["enable.labelless.for.drop.off.and.pickup","Labelless"],CI1439_NUMBER_OF_PIECES_IN_LABELLESS_SHIPMENT:["number.of.pieces.in.labelless.shipment","Labelless"],CI1440_RADIUS_TO_SEARCH_FOR_LABELLESS_SERVICE_POINTS:["radius.to.search.for.labelless.servicepoints","Labelless"],CI1441_OFFER_LABELLESS_VIA_SMS_FOR_EXPORT_SHIPMENTS:["offer.labelless.via.sms.for.export.shipments","Labelless"]},r[a["default"].RATES_TARIFFS]={CI0450_SWAP_FEATURE:["swap.feature"," "],CI1075_DISPLAY_PRICE_BREAKDOWN_WALK_CLICK_CALL:["price.breakdown.displaying.for.rate.quote.walk.click.call"," "],CI0453_INCLUDE_PICKUP_CHARGE_IN_QUOTE_AVAILABLE:["include.pickup.charge.in.quote.available"," "],CI1076_DISPLAY_PUBLISHED_RATES_TOGETHER:["display.published.rates.together.with.credit.card.cash.rates.for.guest.in.rate.quote"," "],CI0451_DISPLAY_ACCOUNT_RATES:["display.account.rates","Hide Rate and Quote"],CI1294_DEFAULT_TO_HIDE_RATES_DURING_GRANT_AUTHORIZATION:["default.to.hide.rates.during.grant.authorization","Hide Rate and Quote"]},r[a["default"].REWARDS_PROMOTION]={CI0442_NECTAR_REWARDS_AVAILABLE:["nectar.rewards.available","Available Reward programs"],CI0441_DHL_PROMO_AVAILABILITY:["dhlpromo","Available Reward programs"],CI0658_NECTAR_CARD_PREFIX:["prefix","Nectar configuration"]},r[a["default"].RULES_REGULATION]={CI0964_DEFINE_OFAC_COUNTRY_LIST:["define.ofac.country.list","OFAC"],CI0970_SHIPPER_ALLOW_OFAC:["shipper.allow.ofac","OFAC"],CI0205_UN_SANCTION:["un.sanction","UN Sanction"],CI0191_INDEMNITY_LETTER:["indemnity.letter","UN Sanction"],CI0969_WARNING_ALERTS:["warning.alerts"," "],CI0971_DISPLAY_UN_SACTIONED_WARNING_ALERT:["display.un.sactioned.warning.alert"," "],CI1315_DATA_PRIVACY_DATA_PROTECTION_DISPLAY_SCREENS:["data.privacy.data.protection.display.screens","Data Privacy / Data Protection compliance"],CI1316_DATA_PRIVACY_DATA_PROTECTION_CONSENT_LIST:["data.privacy.data.protection.consent.list","Data Privacy / Data Protection compliance"],CI1319_LEGAL_REQUIREMENTS_FOR_CAPTURING_BILLING_ADDRESS_INFO_FOR_NON_ACC_HOLDERS:["legal.requirements.for.capturing.billing.address.information.for.non.account.holders"," "],CI1333_LIST_OF_ITAR_RESTRICTED_COUNTRY:["list.of.itar.restricted.country","ITAR"],CI1418_BIS_ECCN_EAR99_COMMODITY_RULE_COUNTRIES:["bis.eccn.ear99.commodity.rule.countries"," "],CI1368_ORIGIN_NOT_ALLOWED_FOR_RPA:["origin.not.allowed.for.rpa","RPA",!0],CI1457_LIST_PII_INFO_MESSAGE_TO_SPECIFIC_SOURCE_DESTINATION_USCI_CRN:["pii.info.message.to.specific.source.destination.usci.crn"," ",!0],CI1458_LIST_PII_INFO_MESSAGE_TO_SPECIFIC_SOURCE_DESTINATION_TAX_DOCUMENT_TYPE:["pii.info.message.to.specific.source.destination.tax.document.type"," ",!0]},r[a["default"].SECURITY]={CI1093_NUMBER_OF_INVALID_ACCOUNT_NUMBER_ENTRY_ATTEMPTS:["number.of.invalid.account.number.entry.attempts","Account Number Check"],CI1094_LOCKING_TIME:["locking.time","Account Number Check"],CI0647_ENABLE_CAPTCHA:["enable.captcha","Captcha"],CI1443_ENABLE_VOICE_MODULE_FOR_CAPTCHA:["enable.voice.module.for.captcha","Captcha",!0]},r[a["default"].SHIPMENT_DEFAULTS]={CI0074_HIDE_INSURANCE_DECLARED_VALUE_FOR_DOCUMENT_SHIPMENTS:["hide.insurance.declared.value.for.document.shipments"," "],CI0071_DEFAULT_SHIPMENT_TYPE_FOR_GUEST_USER:["default.shipment.type.for.guest.user"," "],CI1304_DESCRIPTION_FIELD_FIXED_VALUES_DROPDOWN_FOR_DOCUMENT_SHIPMENT:["description.field.fixed.values.dropdown.for.document.shipment"," "]},r[a["default"].SHIPMENT_DETAILS]={CI0784_SPLIT_DUTY_AND_TAX_PAYMENT_OPTION:["split.duty.and.tax.payment.option"," "],CI0611_ADVANCE_DATE_DISPLAY_CHOICE:["advance.date.display.choice"," "],CI1167_ADVANCE_DATE_DISPLAY_PERIOD:["advance.date.display.period"," "],CI0460_MAXIMUM_DECLARED_VALUE_FOR_SHIPMENT:["maximum.declared.value.for.shipment"," "],CI1262_MAXIMUM_DECLARED_VALUE_FOR_NON_ACCOUNT_USERS:["maximum.declared.value.for.non.account.users"," "],CI0462_MAXIMUM_DOMESTIC_DECLARED_VALUE_FOR_SHIPMENT:["maximum.domestic.declared.value.for.shipment"," "],CI1056_VALID_EWF_ORIGIN_COUNTRY_LIST:["valid.ewf.origin.country.list"," "],CI1266_MY_OWN_CUSTOMS_INVOICE_FOR_NON_ACC_CUSTOMERS:["my.own.invoice.for.non.account.customers"," "],CI1263_MAXIMUM_DECLARED_VALUE_FOR_SERVICE_POINT_SELF_SERVICE:["maximum.declared.value.for.service.point.self.service"," "],CI0196_IS_DOMESTIC_SHIPMENT_ALLOWED:["is.domestic.shipment.allowed"," "],CI1407_ALLOW_DOMESTIC_SHIPMENT_FOR_ONLINE_PAYMENTS_ONLY:["allow.domestic.shipment.for.online.payments.only"," "],CI1023_LIST_OF_COMMONLY_MISTAKEN_PACKAGES_AS_DOCUMENTS:["list.of.commonly.mistaken.package.items.as.document","Is it a document",!0],CI1024_DIMENSION_FOR_A_BOX_TO_CONSIDER_AS_PACKAGE:["dimension.for.a.box.to.consider.as.package","Is it a document",!0],CI1303_DOCUMENT_AND_PACKAGE_DESCRIPTIONS_LIST:["document.and.package.descriptions"," "],CI1465_MANAGE_CREATE_DESCRIPTION_MODAL_FIELDS_ORDER:["manage.create.description.modal.fields.order"," "],CI0604_ENABLE_EEI:["enable.eei","EEI"],CI0790_FTR_DROP_DOWN:["ftr.drop.down","EEI"],CI0791_FTR_DROP_DOWN_OFAC:["ftr.drop.down.ofac","EEI"],CI0875_AES_URL:["aes.url","EEI"],CI0789_CRITICAL_SHIPMENT_ITEM:["critical.shipment.item","EEI"],CI0813_EEI_EXPORT_CODE:["export.code","EEI"],CI0246_EEI_AES_POST:["aes.post","EEI",!0],CI1280_REASON_FOR_TRANSPORTATION:["reason.for.transportation","GST Data"],CI1281_COUNTRY_TRANSPORTER_ID:["country.transporter.id","GST Data"],CI1282_GST_SHIPMENT_TYPE:["gst.shipment.type","GST Data"],CI1283_DOCUMENT_TYPE:["document.type","GST Data"],CI1284_MODE_OF_TRANSPORT:["mode.of.transport","GST Data"],CI1285_ENABLE_GST_DATA:["enable.gst.data","GST Data"],CI1299_GST_STATE_TRANSPORTER_ID:["state.transporter.id","GST Data"],CI1301_E_WAYBILL_CAP_AMOUNT:["e.way.bill.cap.amount","GST Data"],CI1320_LIST_OF_GST_FIELDS_TO_BE_REENTERED:["list.of.gst.fields.to.be.reentered","GST Data"],CI1321_LIST_OF_IDENTITY_DOCUMENTS_OF_INDIA:["identity.documents.of.india","GST Data"],CI1405_IEC_NUMBER_VALIDATION_RULE:["iec.number.validation.rule","GST Data"],CI1403_CSBV_CAP_AMOUNT:["csbv.cap.amount","GST Data"],CI1404_BANK_AD_CODE_VALIDATION_RULE:["bank.ad.code.validation.rule","GST Data"]},r[a["default"].SHIPMENT_PAPERWORK]={CI1117_GLOBAL_COLLECT_DEFAULT_LANG_FOR_VAT_RECEIPT:["default.language.for.vat.receipt","VAT Receipt"],CI0727_MANDATORY_SHIPPER_VAT_DUTIABLE:["mandatory.shipper.vat.number.for.duitable.shipment"," ",!0],CI1049_RETURN_INVOICE_OPTION_ENABLED:["return.invoice.option.enabled"," "],CI0851_NAFTA_COUNTRY_LIST:["nafta.country.list"," "],CI1273_USE_EXPORT_HS_CODE:["use.export.hs.code"," "],CI1346_MANDATORY_SHIPPER_COUNTRY_VAT_NUMBER_FOR_DUTIABLE_SHIPMENT:["mandatory.shipper.country.vat.number.for.dutiable.shipment"," "],CI1408_SHIPPER_IEC_VAT_TAX_ID_MANDATORY_FOR_CSBV_SHIPMENT:["shipper.iec.vat.tax.id.mandatory.for.csbv.shipment"," "],CI1376_LICENSE_ECCN_CORRELATION:["license.eccn.correlation","Electronic Export Filing"],CI1377_COMMODITY_CODE_LICENSE_TYPE_CORRELATION:["commodity.code.license.type.correlation","Electronic Export Filing"],CI0072_EUR1_DECLARATION:["eur.1.declaration.flag","Invoice"],CI0983_ULTIMATE_CONSIGNEE:["invoice.ultimate.consignee","Invoice"],CI0486_ALLOW_CITES_DECLARATION:["print.cites.declaration","Invoice"],CI0812_LIST_OF_EXPORT_IDS:["list.of.export.ids","Invoice"],CI0735_TYPES_OF_EXPORT:["types.of.export","Invoice"],CI0981_COMMERCIAL_INVOICE_ONLY:["commercial.invoice.only","Invoice"],CI0128_INVOICE_TYPES:["invoice.types","Invoice"],CI0174_REASON_FOR_EXPORT:["reason.for.export","Invoice"],CI0521_TYPES_OF_EXPORT_PER_REASON_FOR_EXPORT:["types.of.export.per.reason.for.export","Invoice"],CI0730_ENABLE_COMMERCIAL_INVOICE_FOR_DOCUMENT_SHIPMENTS:["enable.commercial.invoice.for.document.shipments","Invoice"],CI0856_ENABLE_NAFTA_PRINTING:["enable.nafta.printing","Invoice"],CI0177_TERMS_TRADE_REQUIRED:["terms.trade.required","Invoice"],CI1286_COMMODITY_CODE_MASKING_FORMAT:["commodity.code.masking.format","Invoice",!0],CI1409_GIFT_SAMPLE_REASON_FOR_EXPORT:["gift.sample.reason.for.export","Invoice"],CI1410_NON_GIFT_NON_SAMPLE_REASON_FOR_EXPORT:["non.gift.non.sample.reason.for.export","Invoice"],CI1411_CARGO_REASON_FOR_EXPORT:["cargo.reason.for.export","Invoice"],CI1406_LIST_COMMODITY_TYPE:["commodity.type.list","Invoice"],CI1449_LIST_GLOBAL_STANDARD_LICENSE_TYPES:["global.standard.license.types","Invoice"],CI0874_TO_PRINTER_TYPES_LIST:["printer.types.list","Print Settings"],CI1265_TO_PRINTER_TYPES:["printer.types","Print Settings"],CI0530_GLS_TEMPLATES_LIST:["gls.templates.list","Print Settings"],CI0876_ENABLE_CERTIFICATE_OF_ORIGIN_PRINTING:["enable.certificate.of.origin.printing","Printing"],CI0189_DEFAULT_NO_OF_COPY_FOR_ARCHIVE_LABEL:["default.no.of.copy.for.archive.label","Printing"],CI0537_DEFAULT_NO_COPY_SHIPMENT_RECEIPT:["default.no.copy.shipment.receipt","Printing"],CI0522_DEFAULT_NO_COPY_CUSTOMS_INVOICE:["default.no.copy.customs.invoice","Printing"],CI1330_LIST_PRINT_PREFERENTIAL_ORIGIN:["print.preferential.origin","Printing"],CI0661_SPECIAL_CASH_SHIPMENT_RECEIPT:["special.cash.shipment.receipt","Printing"],CI1392_DOWNLOAD_PAPERWORK_INSTEAD_OF_PRINTING:["download.paperwork.instead.of.printing","Printing"],CI1351_MRN_IS_MANDATORY_FOR_PLT:["mrn.is.mandatory.for.plt","Master Reference Number (MRN)",!0],CI1352_APPLY_MRN_MANDATORY_RULE_FOR_DECLARED_VALUE:["apply.mandatory.rule.if.declared.value.above.defined.value","Master Reference Number (MRN)",!0],CI1353_DEFINED_DECLARED_VALUE_FOR_MRN:["defined.declared.value.for.mrn","Master Reference Number (MRN)",!0],CI1354_MRN_CUSTOMS_PROCEDURES_SCENARIOS:["mrn.customs.procedures.scenarios","Master Reference Number (MRN)",!0]},r[a["default"].SHIPMENT_SETTINGS]={CI1005_EORI_MANDATORITY:["eori.mandatority"," "],CI0185_FUTURE_SHIPMENT_DAYS:["future.shipment.days"," "],CI0059_SHIPMENT_LOG_PURGE_PERIOD:["shipment.log.purge.period"," "],CI1165_OPTIMAL_AMOUNT_SHIPMENTS_FOR_CONSOLIDATION:["optimal.amount.shipments.for.consolidation"," "],CI1166_MAXIMUM_AMOUNT_SHIPMENTS_FOR_CONSOLIDATION:["maximum.amount.shipments.for.consolidation"," "],CI1097_MAX_FILES_FOR_ASSIGNED_SHIPMENT:["maximum.number.of.files.allowed.to.upload.during.assign.shipment"," "],CI1325_MAXIMUM_NUMBER_OF_SHIPMENT_REFERENCE_ALLOWED_TO_BE_ENTERED:["maximum.number.of.shipment.reference.allowed.to.be.entered"," "],CI1271_MAKE_NON_ACCOUNT_DIMENSIONS_MANDATORY:["make.non.account.dimensions.mandatory"," "],CI1021_ADDITIONAL_FIELD_TO_SORT_SHIPMENTS:["additional.field.to.sort.shipments.by"," ",!0],CI0353_OUTBOUND_PROCESSING_NOT_ALLOWED:["outbound.processing.with.95.96.accounts.not.allowed"," "],CI0416_SAVING_ALLOWED_ON_COMPLETED_SHIPMENT_ONLY:["saving.allowed.on.completed.shipment.only","Save Shipment"],CI1095_TIME_SINCE_LAST_SAVING_AFTER_WHAT_SHIPMENT_IS_ABANDONED:["time.since.last.saving.after.what.the.shipment.is.considered.to.be.abandoned","Abandoned Shipments Notifications"],CI1006_ALLOW_PALLET_FOR_GIVEN_ACCOUNT:["allow.pallet.for.given.account","Account Management"],CI1007_RESTRICT_SHIPMENT_TO_SINGLE_PIECE:["restrict.shipment.to.single.piece","Account Management"],CI1009_FOREIGN_IMP_NOT_ALLOWED_FOR_DOMESTIC:["foreign.imp.not.allowed.for.domestic","Account Management"],CI1054_FORCE_USERS_TO_REENTER_CERTAIN_SHIPMENT_FIELDS:["force.users.to.reenter.certain.shipment.fields","Force re-enter for 1-click shipments"],CI1055_LIST_OF_FIELDS_TO_BE_FORCED_TO_REENTER:["list.of.fields.to.be.forced.to.reenter","Force re-enter for 1-click shipments"],CI0367_ALLOW_MAILING_LIST_SHIPMENTS:["allow.mailing.list.shipments","Mailing List"],CI1086_MAX_COLUMNS_IN_SHIPMENT_IMPORT_SCHEME:["maximum.columns.in.shipment.import.scheme","Shipment Import"],CI0715_AWB_NUMBER_ALLOCATION:["awb.number.allocation.when.saving.a.shipment","Save Shipment"]},r[a["default"].THIRD_PARTY_INTEGRATION]={CI1170_GSPL_BASE_URL:["gspl.endpoint.base.url","Locator"],CI1461_GSPL_CAPABILITY_CODES:["gspl.capacity.codes","Locator"],CI1176_AMS_BASE_URL:["ams.base.url","AMS",!0],CI0624_BILLING_SYSYTEM:["billing.system","Billing"]},r[a["default"].ACCOUNTS_AND_PAYMENT_OPTIONS]={CR0166_DISPLAY_COMPANY_ACCOUNTS_AS:["display.company.accounts.as","Accounts"],CR0156_ALLOW_TO_SHIP_USING_COMPANY_ACCOUNTS:["allow.to.ship.using.company.accounts","Accounts"],CR0032_ALLOW_TO_BILL_SHIPMENTS_TO_CREDIT_CARD_AND_ONLINE_PAYMENT_OPTIONS:["allow.to.bill.shipments.to.credit.card.and.online.payment.options","Online Payment Options"]},r[a["default"].REFERENCE_OPTIONS]={CR0040_ALLOW_TO_VIEW_REFERENCE_LIST:["allow.to.view.reference.list","Reference validation options"],CR0039_REFERENCE_VALIDATION_RULE:["reference.validation.rule","Reference validation options"]},r[a["default"].TECHNICAL]={CI1362_SEARCH_MINIMUM_KEYWORD_LENGTH:["search.minimum.keyword.length","MMS and ADT Search"],CI1361_SHORT_WORD_SEARCH_OPTION:["short.word.search.option","MMS and ADT Search"],CI1365_LONG_WORD_SEARCH_OPTION:["long.word.search.option","MMS and ADT Search"],CI1366_NUMBER_SEARCH_OPTION:["number.search.option","MMS and ADT Search"],CI1367_USE_ENHANCED_MMS_SEARCH:["use.enhanced.mms.search","MMS and ADT Search"]},r);t["default"]=Object.entries(u).reduce(function(e,t){var n=t[0],r=t[1];return Object.entries(r).forEach(function(t){var r=t[0],o=t[1],a=o[0],u=o[1],c=o[2];e[r]=i(a,n,u,c)}),e},{})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(1758),u=i(a),c=angular.module("common.widgets.date-range-picker",[o["default"]]);c.directive(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="common.widgets.date-range-picker"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1841),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("shipment.payment.resources",[]);o.service(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="shipment.payment.resources"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(19),u=i(a),c=n(2),s=i(c),l=n(456),d=i(l),f=n(1995),p=i(f),m=n(1996),_=i(m),E=n(1997),S=i(E),g=n(1998),C=i(g),A=n(1999),h=i(A),I=n(948),v=i(I),N=angular.module("shipment.brazil",[o["default"],u["default"],s["default"],d["default"]]);N.directive(S["default"].NG_NAME,S["default"]).directive(C["default"].NG_NAME,C["default"]).directive(h["default"].NG_NAME,h["default"]).service(p["default"].NG_NAME,p["default"]).service(_["default"].NG_NAME,_["default"]).service(v["default"].NG_NAME,v["default"]),t.module=N,t["default"]="shipment.brazil"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={METRIC:"KG",IMPERIAL:"LB"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2073),o=i(r),a=n(2074),u=i(a),c=n(2077),s=i(c),l=n(2080),d=i(l),f=n(2083),p=i(f),m=n(2086),_=i(m),E=n(2090),S=i(E),g=n(2093),C=i(g),A=n(2096),h=i(A),I=n(2099),v=i(I),N=n(2119),T=i(N),M=n(2122),y=i(M),O=n(2125),D=i(O),P=n(23),R=i(P),b="profile.shipmentSettings.shipmentDefaults",L=angular.module(b,[u["default"],s["default"],d["default"],p["default"],_["default"],S["default"],C["default"],h["default"],v["default"],T["default"],y["default"],D["default"],R["default"]]);L.service(o["default"].NG_NAME,o["default"]),t.module=L,t["default"]=b},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(290),o=i(r),a=n(50),u=i(a),c=n(505),s=i(c),l=n(288),d=i(l),f=n(506),p=i(f),m=n(965),_=i(m),E=n(2201),S=i(E),g=n(2202),C=i(g),A=n(2203),h=i(A),I=n(2204),v=i(I),N=n(2205),T=i(N),M=n(2208),y=i(M),O=n(2209),D=i(O),P=n(2210),R=i(P),b=n(914),L=i(b),G=n(403),k=i(G),w=n(235),U=i(w),F=angular.module("manageShipments.common.actions",[o["default"],u["default"],s["default"],d["default"],p["default"],_["default"],U["default"]]);F.service(C["default"].NG_NAME,C["default"]).service(h["default"].NG_NAME,h["default"]).service(v["default"].NG_NAME,v["default"]).service(T["default"].NG_NAME,T["default"]).service(y["default"].NG_NAME,y["default"]).service(D["default"].NG_NAME,D["default"]).service(R["default"].NG_NAME,R["default"]).service(L["default"].NG_NAME,L["default"]).service(S["default"].NG_NAME,S["default"]).service(k["default"].NG_NAME,k["default"]),t.module=F,t["default"]="manageShipments.common.actions"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2211),o=i(r),a=n(507),u=i(a),c=n(0),s=i(c),l=n(19),d=i(l),f=n(37),p=i(f),m=n(233),_=i(m),E=n(2212),S=i(E),g=n(2213),C=i(g),A=n(2214),h=i(A),I=n(2215),v=i(I),N=n(2216),T=i(N),M=n(2217),y=i(M),O=n(2218),D=i(O),P=n(2219),R=i(P),b=angular.module("optionalServices",[s["default"],d["default"],p["default"],_["default"]||"profile.shipmentSettings.shipmentDefaults"]);b.directive(S["default"].NG_NAME,S["default"]).directive(h["default"].NG_NAME,h["default"]).service(v["default"].NG_NAME,v["default"]).service(C["default"].NG_NAME,C["default"]).service("optionalServicesModel",u["default"]).directive(T["default"].NG_NAME,T["default"]).directive(y["default"].NG_NAME,y["default"]).directive(o["default"].NG_NAME,o["default"]).directive(D["default"].NG_NAME,D["default"]).directive(R["default"].NG_NAME,R["default"]),t.module=b,t["default"]="optionalServices"},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(2264),u=i(a),c=angular.module("package.selector",[o["default"]]);c.directive(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="package.selector"},function(e,t,n){"use strict";t.__esModule=!0;t.MIN_VALUE_RESTRICTION=.1},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){"ngInject";function i(){return e.get(s).then(function(e){return e.data})}function r(n){var i="/api/shipment/pickup/"+n+"/status";return e.get(i).then(function(e){return e.data.updatable})["catch"](function(e){return e.status!==c["default"].UNPROCESSABLE_ENTITY&&t.reject(e)})}function o(n,i,r){return e.put("/api/shipment/pickup/"+n+"/cancel",{bookingReferenceNumber:i,cancellationReason:r}).then(function(e){return e.data})["catch"](function(e){var n=e.data;return t.reject(n.errors)})}function u(e,t){return n.showDialog({resolve:{pickup:function(){function n(){return{pickupId:e,bookingReferenceNumber:t}}return n}()},controller:a["default"],controllerAs:"schedulePickupCancelPopupCtrl",windowClass:"ewf-modal_width_small",templateUrl:"cancel-pickup-modal-dialog.html"}).result}var s="/api/shipment/pickup/history";return{getPickups:i,isPickupUpdatable:r,cancelPickup:o,showCancelPickupDialog:u}}r.$inject=["$http","$q","modalService"],t.__esModule=!0,t["default"]=r;var o=n(2451),a=i(o),u=n(5),c=i(u);r.NG_NAME="scheduledPickupsService"},,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t["default"]={ALL_AVAILABLE_COUNTRIES:"ALL_AVAILABLE_COUNTRIES",ACTIVATED_COUNTRIES:"ACTIVATED_COUNTRIES",VALID_EWF_ORIGIN_COUNTRIES:"VALID_EWF_ORIGIN_COUNTRIES"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={GIFT:"GIFT",CARGO:"CARGO",NON_GIFT_NON_SAMPLE:"NON_GIFT_NON_SAMPLE"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1367),o=i(r),a=n(894),u=i(a),c=n(1370),s=i(c),l=n(394),d=i(l),f=n(1375),p=i(f),m=n(440),_=i(m),E=n(896),S=i(E),g=n(1583),C=i(g),A=n(1586),h=i(A),I=n(892),v=i(I),N=n(893),T=i(N),M=n(901),y=i(M),O=n(1590),D=i(O),P=n(1594),R=i(P),b=n(1601),L=i(b),G=n(1603),k=i(G),w=n(1604),U=i(w),F=n(1605),j=i(F),V=n(1606),B=i(V),$=n(1607),H=i($),x=n(1608),K=i(x),Y=angular.module("common.form",[o["default"],u["default"],s["default"],d["default"],p["default"],_["default"]||"common.form.field",S["default"],C["default"],h["default"],v["default"]||"common.form.input",T["default"],y["default"],D["default"],R["default"]]);Y.directive(L["default"].NG_NAME,L["default"]).directive(U["default"].NG_NAME,U["default"]).directive(j["default"].NG_NAME,j["default"]).directive(B["default"].NG_NAME,B["default"]).directive(H["default"].NG_NAME,H["default"]).directive(K["default"].NG_NAME,K["default"]).factory(k["default"].NG_NAME,k["default"]),t.module=Y,t["default"]="common.form"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={FOR_AUTHORIZED:"/api/myprofile/accounts/request",FOR_GUEST:"/api/signup/account/request"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(909),o=i(r),a=n(400),u=i(a),c=n(391),s=i(c),l=n(1704),d=i(l);t["default"]=["name","email","company","businessContactType",{key:"personalIdentifiableInformation",propertyMap:d["default"]},{key:"address",propertyMap:o["default"]},{key:"phoneDetails",propertyMap:u["default"]},{key:"phoneDetails2",propertyMap:u["default"]},{key:"taxDetails",propertyMap:s["default"]}]},,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1800),o=i(r),a=n(922),u=i(a),c=n(111),s=i(c),l=n(887),d=i(l),f=n(2),p=i(f),m=n(1810),_=i(m),E=n(923),S=i(E),g=angular.module("authorization.login",[o["default"],u["default"],s["default"],d["default"],p["default"]||"common.utils"]);g.directive(_["default"].NG_NAME,_["default"]).service(S["default"].NG_NAME,S["default"]),t.module=g,t["default"]="authorization.login"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(66),u=i(a),c=n(1812),s=i(c),l=angular.module("authorization.loginPlaceholder",["ngStorage",o["default"],u["default"]]);l.directive(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="authorization.loginPlaceholder"},,,,,,,,,,,,function(e,t,n){"use strict";function i(){return{cachedItemAttributes:{},weightSom:o["default"],recentProductsPromise:null,productList:[],totalQuantity:1,totalNetWeight:0,totalGrossWeight:0,defaultCurrency:null,currentCurrency:null,currenciesList:[],estimateDuties:!1,shippingPurpose:null,shippingPurposeList:[],isUnitsMismatched:!1,shipperCountrySom:"",userProfileCountrySom:"",userProfileCountryConversionPrecision:2,weightConvertionRate:1,totalDeclaredValue:"",invoiceType:null,typeOfExport:null,country:{},gstData:{}}}t.__esModule=!0,t["default"]=i;var r=n(232),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={ALTERNATE:"ALTERNATE",CASH:"CASH",CREDIT_CARD:"CREDIT_CARD"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={FTR:"FTR",ITN:"ITN",EEI:"EEI",EIN:"EIN"}},,function(e,t,n){"use strict";t.__esModule=!0,t["default"]={STANDARD_OUTBOUND:"STANDARD_OUTBOUND",REMOTE_BOOKING:"REMOTE_BOOKING",RETURN:"RETURN"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={NUMBER_AND_NICKNAME:"NUMBER_AND_NICKNAME",CONCEAL:"CONCEAL",NICKNAME:"NICKNAME"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={YES_COURIER:"YES_COURIER",NO_SCHEDULED:"NO_SCHEDULED",NO_DROP_OFF:"NO_DROP_OFF",NONE:"NONE"}},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2162),o=i(r),a=n(2164),u=i(a),c=angular.module("common.widgets.pickupSlider",[u["default"]]);c.directive(o["default"].NG_NAME,o["default"]),t.module=c,t["default"]="common.widgets.pickupSlider"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2190),o=i(r),a=n(2192),u=i(a),c=angular.module("shipment.sendDocumentsDialog",[]);c.service(o["default"].NG_NAME,o["default"]).service(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="shipment.sendDocumentsDialog"},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2193),o=i(r),a=n(405),u=i(a),c=n(19),s=i(c),l=n(2195),d=i(l),f="return-label.create-return-shipment",p=angular.module(f,[o["default"],u["default"],s["default"]]);p.service(d["default"].NG_NAME,d["default"]),t.module=p,t["default"]=f},,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(32),o=i(r),a=n(2228),u=i(a),c="manageShipments.overview.resources.highlight",s=angular.module(c,[o["default"]]);s.service(u["default"].NG_NAME,u["default"]),t.module=s,t["default"]=c},,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2273),o=i(r),a=n(35),u=i(a),c=angular.module("shipment.corporate-approval",[u["default"]]);c.service(o["default"].NG_NAME,o["default"]),t.module=c,t["default"]="shipment.corporate-approval"},,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(0),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=n(2283),a=angular.module("shipment.pickup.packagings",[r["default"]]);a.directive(o.PickupPackagings.NG_NAME,o.PickupPackagings),t.module=a,t["default"]="shipment.pickup.packagings"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(968),u=i(a),c=n(2284),s=i(c),l=angular.module("shipment.pickup.pickupWeight",[o["default"]]);l.service(s["default"].NG_NAME,s["default"]).directive(u["default"].NG_NAME,u["default"]),t.module=l,t["default"]="shipment.pickup.pickupWeight"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=n(15),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=function(){function e(){i(this,e),Object.assign(this,{dhlAccount:{number:"",countryCode:""},airWayBillNumber:"",selected:"",accountOption:null,pickupLocation:null,pickupLocationOtherDescription:"",pickupSpecialInstructions:"",pickupAddress:new o["default"],packages:{weight:{},quantity:1},needCourier:!1,packaging:[],pickupWindow:{readyByTime:null,closeTime:null},pickupDate:null,pickupId:null,phone:{},bookingReferenceNumber:null})}return e}();t["default"]=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1237),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("common.utils.log",[]).service(r["default"].NG_NAME,r["default"]);t.module=o,t["default"]="common.utils.log"},function(e,t,n){"use strict";function i(e){if(!e)return null;var t=e.phoneType,n={phoneType:t,phoneCountryCode:e.phoneCountryCode,phone:e.phone?e.phone.replace(/\D/g,""):null,countryBanner:e.countryBanner};return t===u["default"].MOBILE&&(n.smsEnabled=!!e.smsEnabled),t===u["default"].OFFICE&&(n.phoneExt=e.phoneExt),n}function r(){return{phoneCountryCode:null,phoneType:null,phone:null,phoneExt:null,smsEnabled:null,countryBanner:null}}function o(){return{create:i,createEmpty:r}}t.__esModule=!0,t.createPhoneDetails=i,t.createEmptyPhoneDetails=r,t["default"]=o;var a=n(109),u=function(e){return e&&e.__esModule?e:{"default":e}}(a);o.NG_NAME="phoneDetailsFactory"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=["vatTaxId","eoriNumber","cnpjOrCPFTaxType","cnpjOrCPFTaxID","ieTaxId","goodsAndServicesTaxId","gstinType","iecTaxId","ein"]},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1258),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("corporate.services",[]);o.service(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="corporate.services"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={PENDING_ACTIVATION:"PENDING_ACTIVATION",ACTIVE:"ACTIVE",DELETED:"DELETED",LOCKED:"LOCKED",SUSPENDED:"SUSPENDED",PENDING_REGISTRATION:"PENDING_REGISTRATION"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(92),o=i(r),a=n(32),u=i(a),c=n(1372),s=i(c),l=n(1373),d=i(l),f=n(1374),p=i(f),m=angular.module("common.form.decimal",[o["default"],u["default"]||"common.configuration"]);m.directive(s["default"].NG_NAME,s["default"]).directive(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]),t.module=m,t["default"]="common.form.decimal"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(92),o=i(r),a=n(1377),u=i(a),c=n(1381),s=i(c),l=n(442),d=i(l),f=n(1391),p=i(f),m=n(1393),_=i(m),E=n(1394),S=i(E),g=n(1395),C=i(g),A=n(1396),h=i(A),I=n(1398),v=i(I),N=n(1399),T=i(N),M=n(1400),y=i(M),O=n(1401),D=i(O),P=n(1402),R=i(P),b=n(1403),L=i(b),G=n(1404),k=i(G),w=n(1405),U=i(w),F=n(1407),j=i(F),V=n(1408),B=i(V),$=n(1409),H=i($),x=n(1410),K=i(x),Y=n(1411),W=i(Y),q=angular.module("common.widgets.address",["addressSuggestion",o["default"],s["default"],u["default"],d["default"]]);q.directive(p["default"].NG_NAME,p["default"]).directive(_["default"].NG_NAME,_["default"]).directive(S["default"].NG_NAME,S["default"]).directive(C["default"].NG_NAME,C["default"]).directive(T["default"].NG_NAME,T["default"]).directive(h["default"].NG_NAME,h["default"]).directive(v["default"].NG_NAME,v["default"]).directive(y["default"].NG_NAME,y["default"]).directive(D["default"].NG_NAME,D["default"]).directive(R["default"].NG_NAME,R["default"]).directive(B["default"].NG_NAME,B["default"]).directive(k["default"].NG_NAME,k["default"]).service(L["default"].NG_NAME,L["default"]).service(U["default"].NG_NAME,U["default"]).service(H["default"].NG_NAME,H["default"]).service(K["default"].NG_NAME,K["default"]).service(W["default"].NG_NAME,W["default"]).service(j["default"].NG_NAME,j["default"]),t.module=q,t["default"]="common.widgets.address"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={VAT_TAX_ID_FLAG:"enableVatTaxIdField",TAX_DOCUMENT_TYPE_FLAG:"enableTaxDocumentTypeDropdown"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={USCI:"USCI",CRN:"CRN"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={pdf:"application/pdf",xls:"application/vnd.ms-excel",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",tiff:"image/tiff",bmp:"image/bmp",xml:"text/xml"}},function(e,t,n){"use strict";t.__esModule=!0;var i,r=t.GSS_MODE={DISABLED:"DISABLED",BACKGROUND:"BACKGROUND",WARNING:"WARNING",ERROR:"ERROR"};t.GSS_STATUS={RED:"RED",GREEN:"GREEN"},t.GSS_ALERT_CLASSES=(i={},i[r.WARNING]="alert_warning",i[r.ERROR]="alert_error",i)},function(e,t,n){"use strict";t.__esModule=!0;var i=t.PHONE_TYPE_FIELD="phoneType",r=t.PHONE_COUNTRY_CODE_FIELD="phoneCountryCode",o=t.PHONE_FIELD="phone",a=t.PHONE_EXT_FIELD="phoneExt",u=t.SMS_ENABLED_FIELD="smsEnabled",c=t.COUNTRY_BANNER_FIELD="countryBanner";t["default"]=[i,r,o,a,u,c]},function(e,t,n){"use strict";function i(){function e(){return{otherCharges:r.charges}}function t(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];r.charges=e.otherCharges||[]}function n(){return r.charges.map(function(e){return e.value})}function i(){r.charges=[]}var r=Object.assign(this,{charges:[],getDataPart:e,initDataPart:t,getValues:n,resetCharges:i})}t.__esModule=!0,t["default"]=i;var r=n(11),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.prototype=new o["default"],i.NG_NAME="otherChargesModel"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={INR:"INR"}},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t,n){if([].concat(S(e.previewModel),S(t.previewModel)).filter(h).forEach(v),n){[].concat(e.additionalDocuments||[],t.additionalDocuments||[]).forEach(v)}}function n(e,t){[].concat(S(e.previewModel),S(t.previewModel)).filter(I).forEach(v)}function i(e,t){return o(E(e,t))}function o(e){return e.some(T)}function a(e,t){return u(E(e,t))}function u(e){return e.filter(I).some(T)}function c(e,t){return s(E(e,t))}function s(e){return e.filter(h).some(T)}function l(e){return _(e).filter(N).map(function(e){return{documentType:e.documentType,value:e.numberOfCopies}})}function d(e){return e.filter(N)}function f(e){return e.filter(function(e){return I(e)&&N(e)})}function p(e){return g(S(e.previewModel))}function m(e,t){return A(e,t).numberOfCopies}function _(e){if(!e)return[];var t=e.additionalDocuments||[];return[].concat(S(e.previewModel),t).filter(Boolean)}function E(e,t){return[].concat(_(e),_(t))}function S(e){var t=e||{};return[t.waybillDocument,t.archiveDocument,t.invoiceDocument,t.csbvInvoiceDocument,t.receiptDocument].filter(Boolean)}function g(e){return e.filter(N).map(function(e){return e.documentType})}function C(e){return e.filter(N)}function A(e,t){var n;return(n={},n[r.DOCUMENT_TYPES.LABEL]=e.waybillDocument,n[r.DOCUMENT_TYPES.ARCHIVE]=e.archiveDocument,n[r.DOCUMENT_TYPES.CUSTOMS_INVOICE]=e.invoiceDocument,n[r.DOCUMENT_TYPES.CSBV_CUSTOMS_INVOICE]=e.csbvInvoiceDocument,n[r.DOCUMENT_TYPES.RECEIPT]=e.receiptDocument,n)[t]}function h(e){var t=e.documentType;return!r.WAYBILL_DOCUMENT_TYPES.includes(t)}function I(e){var t=e.documentType;return r.WAYBILL_DOCUMENT_TYPES.includes(t)}function v(e){e.checked=!1}function N(e){return T(e)&&e.numberOfCopies>0}function T(e){return e&&e.checked}function M(e,t,n){var i=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];return{documentType:e,documentLabel:y(e),mandatory:t,checked:t,numberOfCopies:i[e]||O,primary:n}}function y(t){var n;return(n={},n[r.DOCUMENT_TYPES.LABEL]=e.SHIPMENT_PRINT.PRINT_LABEL_WAYBILL,n[r.DOCUMENT_TYPES.ARCHIVE]=e.SHIPMENT_PRINT.PRINT_LABEL_WAYBILL,n[r.DOCUMENT_TYPES.RECEIPT]=e.SHIPMENT_PRINT.PRINT_LABEL_RECEIPT,n[r.DOCUMENT_TYPES.CUSTOMS_INVOICE]=e.SHIPMENT_PRINT.PRINT_LABEL_INVOICE,n[r.DOCUMENT_TYPES.CSBV_CUSTOMS_INVOICE]=e.SHIPMENT_PRINT.PRINT_LABEL_CSBV_CUSTOMS_INVOICE,n[r.DOCUMENT_TYPES.INDEMNITY_LETTER]=e.SHIPMENT_PRINT.PRINT_LABEL_INDEMNITY_LETTER,n[r.DOCUMENT_TYPES.PDS]=e.SHIPMENT_PRINT.PRINT_LABEL_PDS,n[r.DOCUMENT_TYPES.ANTI_DRUG_LETTER]=e.SHIPMENT_PRINT.PRINT_LABEL_ANTI_DRUG,n[r.DOCUMENT_TYPES.ADDRESS_LABEL_STICKER]=e.SHIPMENT_PRINT.PRINT_LABEL_ADDRESS_STICKER,n[r.DOCUMENT_TYPES.LITHIUM_BATTERIES]=e.SHIPMENT_PRINT.PRINT_LABEL_LITHIUM_BATTERIES,n[r.DOCUMENT_TYPES.CERTIFICATE_OF_ORIGIN]=e.SHIPMENT_PRINT.PRINT_LABEL_CERTIFICATE_OF_ORIGIN,n[r.DOCUMENT_TYPES.RETURN_INSTRUCTIONS]=e.SHIPMENT_PRINT.PRINT_LABEL_RETURN_INSTRUCTIONS,n[r.DOCUMENT_TYPES.VAT_RECEIPT]=e.SHIPMENT_PRINT.PRINT_LABEL_VAT_RECEIPT,n[r.DOCUMENT_TYPES.CUSTOM_RETURN_INSTRUCTIONS]=e.SHIPMENT_PRINT.PRINT_LABEL_CUSTOM_RETURN_INSTRUCTIONS,n)[t]}var O=1;return{setupWaybill:t,setupDocumentsExceptOfWaybill:n,getSelectedDocuments:l,getSelectedDocumentsInfo:d,getSelectedWaybillDocumentsInfo:f,getSelectedAdditionalDocs:C,getSelectedPermanentDocuments:p,getNumberOfCopies:m,isWaybillChecked:a,isWaybillCheckedInList:u,isAnyDocumentChecked:i,isAnyDocumentCheckedInList:o,isAnyDocumentCheckedExceptOfWaybill:c,isAnyDocumentCheckedExceptOfWaybillInList:s,createDocument:M}}i.$inject=["Messages"],t.__esModule=!0,t["default"]=i;var r=n(57);i.NG_NAME="documentManagementService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(472),o=i(r),a=n(1977),u=i(a),c=angular.module("addressBook.services",[o["default"]]);c.service(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="addressBook.services"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1984),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o="shipment.return.label.from.country.validation",a=angular.module(o,[]);a.service(r["default"].NG_NAME,r["default"]),t.module=a,t["default"]=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(2024),u=i(a),c=n(2025),s=i(c),l=angular.module("addressBook.globalIncoterms",[o["default"]]);l.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="addressBook.globalIncoterms"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={SUBJECT_MAX_LENGTH:120,MESSAGE_MAX_LENGTH:252}},,,,,function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(2295),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("rate-and-quote.on-shipment",["ui.router"]);o.service(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="rate-and-quote.on-shipment"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(970),o=i(r),a=n(500),u=i(a),c=n(972),s=i(c),l=n(973),d=i(l),f=n(501),p=i(f),m=n(974),_=i(m),E=angular.module("schedule.pickup.mapper",[]);E.service(o["default"].NG_NAME,o["default"]).service(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]).factory(_["default"].NG_NAME,_["default"]),t.module=E,t["default"]="schedule.pickup.mapper"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o,u,s,d,f,p,m,_){"ngInject";function E(){return n.getCountryByCode(S()).then(function(e){return{code:e.code2,name:e.name}})}function S(){return d.getCountryLang().countryAlpha2Code}function g(e){var t=i.getServerData(e,!0);return k(t).then(function(){return _.savePickup(t)})}function C(){return d.getParamFromUrl(c["default"].PICKUP_ID)||t.pickupId}function A(){var t=C();return t?h(t):e.when()}function h(e){return _.getPickupById(e)}function I(t){var n=[r.getUserProfileDefaultValues(),f.areOnlyAuthorizedPickupLocationsAvailable()];return e.all(n).then(function(e){var n=e[0],r=e[1],o=n.pickupDefaultType,a=n.remotePickupDefaultType,u=n.pickupDetails,c=n.pickupAlertEnabled,s=u.pickupLocation.pickupAddress;if(t.hasDefaultPickupAddress=!!s&&!!s.addressLine1,Object.assign(t,{pickupDefaultType:o,remotePickupDefaultType:a,pickupAlertEnabled:c}),i.initPickupDetails(t,u),!r)return i.initPickupAddress(t,u)})}function v(e){var t=C();return t?y(e,t):O(e)}function N(e,t){return p.getShipmentKeyData(t).then(function(t){return i.populateModelWithShipmentData(e,t)})}function T(e,t){var n=e.email,r=e.phoneDetails,o=e.pickupLocation,a=o.company,u=o.name,c=o.pickupAddress;i.populateModel(t,{pickupDetails:{email:n,phoneDetails:r,pickupLocation:{pickupAddress:c},company:a,name:u}})}function M(t){var n=t.airWayBillNumber,i=t.phone||{},r=i.phone;return n&&r?_.initPickupAddressFromPhone(n,r).then(function(e){return e&&T(e,t)}):e.when()}function y(e,t){return h(t).then(function(n){return e.pickupId=t,e.bookingReferenceNumber=n.bookingReferenceNumber,i.populateModelWithStandAlonePickupData(e,n)})}function O(e){return o.getRestoredShipment().then(function(t){return t?(e.shipmentId=t.id,i.populateModelWithShipmentData(e,t)):t})}function D(e){var t={pickupDetails:i.getPickupDetails(e),remotePickupDefaultType:e.remotePickupDefaultType,pickupDefaultType:e.pickupDefaultType,pickupAlertEnabled:e.pickupAlertEnabled};return u.savePickupsData(t)}function P(e,t){var n=i.getServerData(e),r=n.pickupDetails.pickupLocation;return r.businessPartyAddressId&&r.businessPartyAddressId===t.businessPartyAddressId&&(r.pickupAddress.countryDivisionTypeCode=t.countryDivisionTypeCode),_.updatePickup(e.pickupId,n)}function R(e){var t=b(e);s.show(t,{bookingReferenceNumber:e.bookingReferenceNumber})}function b(e){var t=e.pickupHasBeenUpdated,n=e.originalBookingReferenceNumber,i=e.bookingReferenceNumber,r=e.consolidated;return t?n===i?a["default"].PICKUP_HAS_BEEN_UPDATED:a["default"].PICKUP_HAS_BEEN_UPDATED_AND_NUMBER_CHANGED:r?a["default"].PICKUP_HAS_BEEN_SCHEDULED_AND_CONSOLIDATED:a["default"].PICKUP_HAS_BEEN_SCHEDULED}function L(e,t){var n=i.getPickupDetails(t),r=i.getPickupDetails(e);return!!["pickupLocationType","pickupWindow","instructions","pickupLocation","pickupLocationOtherDescription"].find(function(){})}function G(){return d.getParamFromUrl(c["default"].TOKEN)}function k(e){return m.postAdditionalAgreements(e,l["default"].GUEST_PICKUP)}function w(e){return r.getMaxPickupDate(e)}return{getDashboardCountry:E,savePickup:g,updatePickup:P,getPickupByUrl:A,getPickupById:h,mapDefaultValues:I,initPickupData:v,saveDefaultValues:D,getPickupIdFromUrl:C,showPickupSuccessAlert:R,isDefaultValuesChanged:L,getPickupRestoreToken:G,initPickupDataFromToken:N,initPickupAddressFromPhone:M,getMaxPickupDate:w}}r.$inject=["$q","$stateParams","locationService","pickupMapper","pickupService","shipmentTransportService","profileShipmentService","showOnceService","pathService","pickupAuthorizedLocationService","externalAccessService","additionalAgreementsService","schedulePickupResource"],t.__esModule=!0,t["default"]=r;var o=n(881),a=i(o),u=n(1),c=i(u),s=n(443),l=i(s);r.NG_NAME="schedulePickupService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(n){return t.post("/api/shipment/pickup/standalone",n).then(function(e){return e.data})["catch"](function(t){var n=t.status===o["default"].UNPROCESSABLE_ENTITY?t.data.errors:null;return e.reject(n)})}function r(e){return t.get("/api/shipment/pickup/standalone/"+e).then(function(e){return e.data})}function a(e,n){return t.put("/api/shipment/pickup/"+e,n).then(function(e){return e.data})["catch"](u)}function u(t){var i=t.status===o["default"].UNPROCESSABLE_ENTITY?t.data.errors:null,r=i&&i.map(function(e){return"errors.common_msg_service-operation-error"===e?n.SCHEDULE_MANAGE_PICKUP.MANAGE_LIST_ALERT_EDIT_IS_NOT_AVAILABLE:e});return e.reject(r)}function c(e,n){return t.get("/api/shipment/pickup/details?airWayBillNumber="+e+"&phoneNumber="+n).then(function(e){return e.data})}return{savePickup:i,getPickupById:r,updatePickup:a,initPickupAddressFromPhone:c}}i.$inject=["$q","$http","Messages"],t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="schedulePickupResource"},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t["default"]={NOVICE:"NOVICE",EXPERT:"EXPERT",GUEST:"GUEST"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]="D5B5E5F4-923E-4FD7-AC06-65EA2A7DDED5"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={THERMAL_PDF:"Thermal_PDF",PDF:"PDF",EPL:"EPL2",ZPL:"ZPL2"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1236),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("common.utils.cookies",[]);o.service(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="common.utils.cookies"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=["countryCode","zipOrPostCode","countryDivisionName","city","addrLine1","addrLine2","addrLine3"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(890),u=i(a),c=n(891),s=i(c),l=n(1350),d=i(l),f=n(1351),p=i(f),m=n(1353),_=i(m),E="corporate.digital-customs-invoices",S=angular.module(E,[o["default"]||"common.utils",u["default"],s["default"]]);S.directive(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]).service(_["default"].NG_NAME,_["default"]),t.module=S,t["default"]=E},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(253),o=i(r),a=n(1609),u=i(a),c=angular.module("common.form.field",[o["default"]||"common.form"]);c.directive(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="common.form.field"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={BUTTON_NEXT_EXPERT:"BUTTON_NEXT_EXPERT"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(1390),u=i(a),c="common.widgets.address.transporterId",s=angular.module(c,[o["default"]]);s.directive(u["default"].NG_NAME,u["default"]),t.module=s,t["default"]=c},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={REGISTRATION_AND_LOGIN:"RegistrationAndLogin",GUEST_PICKUP:"GuestPickup",GUEST_RATE_AND_QUOTE:"GuestRateAndQuote",GUEST_SHIPMENT:"GuestShipment"}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(255),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=[].concat(r["default"],["key"]);t["default"]=["cte","nfItems","danfeKeys","addressesSameAsFromTo",{key:"nfeFrom",propertyMap:o},{key:"nfeTo",propertyMap:o}]},,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(111),o=i(r),a=n(115),u=i(a),c=n(95),s=i(c),l=n(925),d=i(l),f=n(43),p=i(f),m=n(405),_=i(m),E=n(1985),S=i(E),g=n(1986),C=i(g),A=n(1987),h=i(A),I=n(1988),v=i(I),N=n(1989),T=i(N),M=n(1990),y=i(M),O=n(1991),D=i(O),P=n(1992),R=i(P),b=n(1993),L=i(b),G=n(1994),k=i(G),w=angular.module("shipment.from-to",[o["default"],u["default"],s["default"],d["default"],p["default"],_["default"]]);w.directive(S["default"].NG_NAME,S["default"]).directive(C["default"].NG_NAME,C["default"]).directive(h["default"].NG_NAME,h["default"]).directive(v["default"].NG_NAME,v["default"]).service(T["default"].NG_NAME,T["default"]).service(y["default"].NG_NAME,y["default"]).service(D["default"].NG_NAME,D["default"]).service(R["default"].NG_NAME,R["default"]).service(L["default"].NG_NAME,L["default"]).service(k["default"].NG_NAME,k["default"]),t.module=w,t["default"]="shipment.from-to"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1844),o=i(r),a=n(1845),u=i(a),c=angular.module("addressBook.columnCustomization",[]);c.factory(o["default"].NG_NAME,o["default"]).service(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="addressBook.columnCustomization"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(459),o=i(r),a=n(0),u=i(a),c=n(32),s=i(c),l=n(1859),d=i(l),f=n(187),p=i(f),m=n(1860),_=i(m),E=angular.module("shipment.type.references",[o["default"],u["default"],s["default"]||"common.configuration"]);E.directive(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]).service(_["default"].NG_NAME,_["default"]),t.module=E,t["default"]="shipment.type.references"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1858),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o="corporate.reference-options.format.validation",a=angular.module(o,[]);a.service(r["default"].NG_NAME,r["default"]),t.module=a,t["default"]=o},function(e,t,n){"use strict";t.__esModule=!0;t.CHARACTERS={"?":"[\\x00-\\x7F]","#":"\\d","@":"[A-Za-z]","*":"[\\x00-\\x7F]*","&":"[A-Za-z]*","%":"\\d*",".":".","\\":"\\\\","|":"\\|","^":"\\^",$:"\\$","(":"\\(",")":"\\)",":":"\\:","+":"\\+","{":"\\{","}":"\\}",",":"\\,","=":"\\=","!":"\\!"},t.RULES={MIN:"MINIMUM_OF",MAX:"MAXIMUM_OF",EQUAL:"EQUAL_TO"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(1867),u=i(a),c=n(1868),s=i(c),l=angular.module("shipment.shipment-tax-id",[o["default"]]);l.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="shipment.shipment-tax-id"},function(e,t,n){"use strict";function i(e){"ngInject";function t(){i.shipmentTypeModel.isShipmentTypeCategoriesAvailable&&e.loadShippingPurpose(i)}function n(){return!!i.shipmentTypeModel.itemAttributes.shippingPurpose}var i=this;Object.assign(i,{$onInit:t,isIndiaTaxPaymentVisible:n})}i.$inject=["shipmentPurposeService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={COMMERCIAL:"C",PRO_FORMA:"P"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(11),c=i(u),s=n(932),l=i(s),d=function(e){function t(n){"ngInject";r(this,t);var i=o(this,e.call(this));return i.init(),i.masterReferenceNumberService=n,i}return t.$inject=["masterReferenceNumberService"],a(t,e),t.prototype.init=function(){function e(){Object.assign(this,{mrnRows:[],isMandatory:!1,isPltShipment:!1,isSectionVisible:!0,defaultCustomsProcessTypeValue:"",defaultRowsAmount:l["default"].MIN,adminConfigs:{isVisible:!1,isMandatory:!1,isMandatoryForPlt:!1,isMandatorityAppliedForDeclaredValue:!1,isCriticalPriceDefined:!1,customsProcessTypes:[],criticalPrice:{value:null,currency:""}}})}return e}(),t.prototype.setMrnDetails=function(){function e(){this.mrnRows.length||this.generateNewMrnRows()}return e}(),t.prototype.generateNewMrnRows=function(){function e(){for(this.mrnRows=[];this.mrnRows.length<this.defaultRowsAmount;)this.addAnotherMrnRow()}return e}(),t.prototype.addAnotherMrnRow=function(){function e(){var e=this.generateNewMrnRow();this.mrnRows.push(e)}return e}(),t.prototype.initDataPart=function(){function e(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];if(this.shouldGenerateNewMrnRows(e))return void this.generateNewMrnRows();this.applyRestoredMrnInformation(e)}return e}(),t.prototype.shouldGenerateNewMrnRows=function(){function e(e){return!e.masterReferenceNumbers||!e.masterReferenceNumbers.length||!this.shouldApplyMrnInformationFromInitializationData()}return e}(),t.prototype.shouldApplyMrnInformationFromInitializationData=function(){function e(){return this.masterReferenceNumberService.isShipmentEditMode()||this.masterReferenceNumberService.isReturnLabelPage()}return e}(),t.prototype.applyRestoredMrnInformation=function(){function e(e){this.mrnRows=[].concat(e.masterReferenceNumbers)}return e}(),t.prototype.generateNewMrnRow=function(){function e(){return{value:"",customsProcess:this.defaultCustomsProcessTypeValue}}return e}(),t.prototype.getDataPart=function(){function e(){var e=this.getRowsData();return this.setDataValidityStatus(e),{masterReferenceNumbers:e}}return e}(),t.prototype.getRowsData=function(){function e(){var e=this,t=/^\s*\d{2}[a-z]{2}[a-z0-9]{14}\s*$/i,n=this.mrnRows.filter(function(n){return e.isValidMrnPairProvided(n,t)});return n.length?n:null}return e}(),t.prototype.isValidMrnPairProvided=function(){function e(e,t){return t.test(e.value)&&!!e.customsProcess}return e}(),t.prototype.setDataValidityStatus=function(){function e(e){this.isDataValid=!!e&&e.length===this.mrnRows.length}return e}(),t.prototype.removeMrnRow=function(){function e(e){var t=this.mrnRows.indexOf(e);this.mrnRows.splice(t,1)}return e}(),t}(c["default"]);t["default"]=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(49),o=i(r),a=n(50),u=i(a),c=n(1945),s=i(c),l=angular.module("shipment.customsInvoicePreview",[o["default"],u["default"]]);l.service(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="shipment.customsInvoicePreview"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1921),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o="shipment.complete.save-as-favorite-module",a=angular.module(o,[]);a.service(r["default"].NG_NAME,r["default"]),t.module=a,t["default"]=o},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1923),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("shipment.complete.resend-qr-code",[]);o.service(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="shipment.complete.resend-qr-code"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e){return t.postElement(p,e)}function r(t,n,i){var r=i&&i.getShipmentCountry(),u=[o(r),a(r),c(r,n),l(r)];if(t){var s=i&&i.getDestinationCountry();u.push(d(r,s))}return e.all(u)}function o(e){return n.getBoolean(n.CI_KEYS.CI0486_ALLOW_CITES_DECLARATION,e)}function a(e){return n.getBoolean(n.CI_KEYS.CI0072_EUR1_DECLARATION,e)}function u(e){return n.getBoolean(n.CI_KEYS.CI0856_ENABLE_NAFTA_PRINTING,e)}function c(t,i){if(!i)return u(t);var r=[u(t),n.getSourceData(n.CI_KEYS.CI0851_NAFTA_COUNTRY_LIST)];return e.all(r).then(function(e){return s(e,t)})}function s(e,t){var n=e[0],i=e[1];return n&&i.some(function(e){return e.value===t})}function l(e){return n.getBoolean(n.CI_KEYS.CI0876_ENABLE_CERTIFICATE_OF_ORIGIN_PRINTING,e)}function d(e,t){return n.getSourceData(n.CI_KEYS.CI1330_LIST_PRINT_PREFERENTIAL_ORIGIN).then(function(n){return n.some(function(n){var i=n.enabled,r=n.shipperCountry,o=n.receiverCountry;return i&&r.value===e&&o.value===t})})}function f(){return t.getElementList(p)}var p="/api/myprofile/shipment/defaults/declarations";return{updateDefaultDeclarations:i,getDeclarationsDefaults:f,getDeclarationsAvailability:r,getCitesDeclarationAvailability:o,getEur1DeclarationAvailability:a,getNaftaDeclarationAvailability:c,getCooDeclarationAvailability:l,getPreferentialOriginDeclarationAvailability:d}}i.$inject=["$q","crudService","configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="declarationsService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(32),u=i(a),c=n(1956),s=i(c),l=n(1957),d=i(l),f=n(1958),p=i(f),m="shipment.type.document-description",_=angular.module(m,[o["default"],u["default"]||"common.configuration"]);_.directive(s["default"].NG_NAME,s["default"]).directive(p["default"].NG_NAME,p["default"]).service(d["default"].NG_NAME,d["default"]),t.module=_,t["default"]=m},function(e,t,n){"use strict";t.__esModule=!0;t.STATES={DISABLED:"DISABLED",ENABLED_OVERWRITE_NOT_ALLOWED:"ENABLED_OVERWRITE_NOT_ALLOWED",ENABLED_OVERWRITE_ALLOWED:"ENABLED_OVERWRITE_ALLOWED",OVERWRITE_NOT_ALLOWED_ADDITIONAL_DESCRIPTION:"ENABLED_OVERWRITE_NOT_ALLOWED_ADDITIONAL_DESCRIPTION"},t.DESCRIPTION_PROPERTIES={NAME:"name",TRANSLATION:"translation"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(26),o=i(r),a=n(0),u=i(a),c=n(1959),s=i(c),l=n(1960),d=i(l),f=n(1961),p=i(f),m=angular.module("shipment.global-screening",[o["default"],u["default"]]);m.directive(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]),t.module=m,t["default"]="shipment.global-screening"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1976),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("addressBook.collections",[]);o.service(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="addressBook.collections"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(2e3),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("shipment.toolbar.payment",[]);o.service(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="shipment.toolbar.payment"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){function e(e,t){e&&!angular.isUndefined(t)&&(T[e]=t)}function t(e){return T[e]}function n(){return!N.federalTradeRegulations&&![f["default"].ITAR,f["default"].BIS].includes(N.isControlledExportType)}function i(){var e={controlledExportType:N.isControlledExportType,federalTradeRegulations:!!N.federalTradeRegulations},t=N.shipmentExportType;return r(t)&&(e.itn=s(),e.exportFilingOption=t,e.federalTradeRegulations=N.federalTradeRegulations=!1),o()&&(e.exportFilingOption=t),N.isControlledExportType!==f["default"].NO?a(e):N.federalTradeRegulations?e:(u(e),e)}function r(e){return e===l["default"].ITN&&s()&&N.isControlledExportType===f["default"].NO}function o(){return l["default"][N.shipmentExportType]&&n()}function a(e){return e.itn=s(),N.isControlledExportType===f["default"].ITAR&&!0===N.federalTradeRegulations&&(e.itn=null),e.exportLicenseNumber=N.controlledExportTypeFields.exportLicenseNumber,e.ultimateConsignee=N.controlledExportTypeFields.ultimateConsignee,e.countryOfUltimateDestination=N.controlledExportTypeFields.countryOfUltimateDestination,e}function u(e){var t=N.shipmentExportType;t===l["default"].FTR?e.ftrExemptions=N.ftrExemptions:t===l["default"].ITN?e.itn=s():t===l["default"].EIN&&(e.employerIdentificationNumber=N.einNumber,e.aespostTermsAccepted=N.aespostTermsAccepted)}function s(){return N.itnNumber?"X"+N.itnNumber.slice(1):null}function d(){return{ftrExemptions:N.ftrExemptions,controlledExportType:f["default"].NO,exportFilingOption:"FTR",federalTradeRegulations:!1}}function p(){return{employerIdentificationNumber:N.ein,electronicExportInformation:{items:m(),senderAndReceiverRelated:N.isRelated}}}function m(){return N.commodityList&&N.commodityList.length?N.commodityList.map(function(e){return{description:e.description,commodityCode:e.exportCommodityCode,licenseType:e.licenseType,licenseNumber:e.licenseNumber,eccn:e.ECCN,firstQuantity:e.firstQuantity,secondQuantity:e.secondQuantity,exportCode:e.exportCode,totalWeight:parseFloat(e.totalWeight),totalValue:parseFloat(e.totalValue),commodityOrigin:e.origin}}):null}function _(t){if(t&&t.itarBis){var n=t.itarBis;Object.assign(N,{isControlledExportType:n.controlledExportType,federalTradeRegulations:n.federalTradeRegulations,shipmentExportType:n.exportFilingOption,itnNumber:n.itn,ftrExemptions:n.ftrExemptions,einNumber:n.employerIdentificationNumber,aespostTermsAccepted:n.aespostTermsAccepted,controlledExportTypeFields:{exportLicenseNumber:n.exportLicenseNumber,ultimateConsignee:n.ultimateConsignee},itarBisRestored:n}),N.ein=n.employerIdentificationNumber,n.electronicExportInformation&&(N.isRelated=n.electronicExportInformation.senderAndReceiverRelated,N.commodityList=n.electronicExportInformation.items.map(function(e){return{description:e.description,exportCommodityCode:e.commodityCode,licenseType:e.licenseType,licenseNumber:e.licenseNumber,ECCN:e.eccn||"",firstQuantity:e.firstQuantity,secondQuantity:e.secondQuantity,exportCode:e.exportCode,totalWeight:parseFloat(e.totalWeight),totalValue:parseFloat(e.totalValue),origin:e.commodityOrigin}})),e(N.isControlledExportType,N.federalTradeRegulations)}}function E(){return!N.itarBisVisible||N.shipmentDutiable&&S()}function S(){return angular.isUndefined(N.isControlledExportType)||N.isControlledExportType===f["default"].NO&&g()}function g(){return angular.isUndefined(N.federalTradeRegulations)||!N.federalTradeRegulations&&angular.isUndefined(N.shipmentExportType)}function C(){if(E()){if(angular.isUndefined(N.itarBisVisible)&&N.itarBisRestored)return{itarBis:N.itarBisRestored};if(!N.isOFAC||!N.eeiEnabled)return{itarBis:null}}return A()}function A(){var e=N.shipmentDutiable?i():d();return N.isDocument&&N.isOFAC&&N.eeiEnabled&&(e=d()),I(e),{itarBis:e}}function h(){return!!N.shipmentDutiable&&N.shipmentExportType===l["default"].EEI&&n()}function I(e){h()&&Object.assign(e,p())}var v,N=Object.assign(this,new c["default"],{initDataPart:_,getDataPart:C,isDhlEei:h,getFtrForControlledExportType:t,setFtrForControlledExportType:e}),T=(v={},v[f["default"].ITAR]=!1,v[f["default"].BIS]=!1,v[f["default"].NO]=!0,v)}t.__esModule=!0,t["default"]=r;var o=n(11),a=i(o),u=n(950),c=i(u),s=n(280),l=i(s),d=n(100),f=i(d);r.NG_NAME="itarBisModel",r.prototype=new a["default"]},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={SUCCESS:"SUCCESS",APPROVED:"APPROVED",PENDING:"PENDING",REJECTED:"REJECTED",NOT_EXISTS:"NOT_EXISTS",FAILED:"FAILED"}},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function o(e){return n.fetchPickupAccounts(e).then(f)}function u(e){return n.fetchShipmentAccounts(e).then(function(e){return f(e.accountPaymentOptions)})}function c(e){return n.fetchUserAccounts(e).then(f)}function s(e){return n.fetchPickupAccounts(e).then(function(e){return e.otherOptions})}function l(e){return n.fetchShipmentAccounts(e).then(function(e){return e.accountPaymentOptions.otherOptions})}function d(e){return n.fetchUserAccounts(e).then(function(e){return e.otherOptions})}function f(e){return e.accounts.map(function(e){return Object.assign(e,{accountId:e.accountId||e.key,name:e.title})})}function p(){return u().then(function(e){return e.filter(function(e){return e.importAccount})})}function m(e){return C(a["default"].CREDIT_STOP,e)}function _(){return t.isAuthorized()?C(a["default"].OFAC_ALLOWED):e.when(!1)}function E(e){return C(a["default"].ITAR_APPROVED,e)}function S(){return t.isAuthorized()?u().then(function(e){return i.isAllAccountsHasItarOption(e,a["default"].ITAR_APPROVED)}):e.when(!1)}function g(e){return C(a["default"].BIS_APPROVED,e)}function C(e,t){return u().then(function(n){return i.isAccountsHasSomeOption(n,e,t)})}function A(){return u().then(function(e){return i.isAccountsHasNotItarBisOption(e)})}function h(){return n.fetchShipmentAccounts().then(function(e){return e.accountPurposeRestrictions||{}})}function I(e){return e?""+e.substr(0,2)+r.MASKED_ACCOUNT_SUFFIX+e.substr(5,8):""}function v(){return t.isAuthorized()?e.all([E(),g(),A()]).then(function(e){var t=e[0],n=e[1],i=e[2];return t&&!n&&!i}):e.when(!1)}function N(){return t.isAuthorized()}return{getPickupAccounts:o,getShipmentAccounts:u,getUserAccounts:c,getPickupAccountsOtherOptions:s,getShipmentAccountsOtherOptions:l,getUserAccountsOtherOptions:d,getShipmentImportAccounts:p,maskAccountNumber:I,hasCreditStopAccounts:m,hasOfacAllowedAccounts:_,hasItarApprovedAccounts:E,hasBisApprovedAccounts:g,getAccountRestrictions:h,hasAccountsWithoutItarBisApproved:A,hasItarAccountsOnly:v,hasAllItarApprovedAccounts:S,isAuthorized:N}}i.$inject=["$q","userService","paymentResource","accountStatusService"],t.__esModule=!0,t["default"]=i;var r=n(951),o=n(51),a=function(e){return e&&e.__esModule?e:{"default":e}}(o);i.NG_NAME="paymentAccountService"},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(2100),u=i(a),c=angular.module("shipment.widgets.pickupLocations",[o["default"]]);c.service(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="shipment.widgets.pickupLocations"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(32),o=i(r),a=n(2103),u=i(a),c=angular.module("shipment-locator.locator-service",[o["default"]]);c.service(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="shipment-locator.locator-service"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,a,c,l,d){"ngInject";function f(t){return e.get("/api/addressbook/contact/"+t).then(function(e){var t=e.data,n=t.contactDetails,i=t.key;return n&&m(o({},n,{key:i}))})["catch"](function(){return undefined})}function p(){return r.getProfileContact().then(function(e){return m(e.contactDetails)})}function m(e){var t=e.businessPartyAddressId,n=e.phoneDetails,i=e.phoneDetails2,r=e.email,o=e.pickupLocation,a=A(e),u={addressDetails:I(a),email:a.email||r,phoneDetails:n||N(a),phoneDetails2:i,businessPartyAddressId:E(o,t),key:e.key||o&&o.contactKey,company:g(e,a),name:C(e,a),businessContactType:_(o)};return u.addressDetails.countryName=u.addressDetails.countryName||h(u.addressDetails.countryCode),O(u)}function _(e){return e&&e.businessContactType||s["default"].PRIVATE}function E(e,t){return t||e&&e.businessPartyAddressId}function S(e,t){return e.pickupLocation&&e.pickupLocation[t]}function g(e,t){return e.company||t.companyName||S(e,"company")}function C(e,t){return e.name||t.contactName||S(e,"name")}function A(e){return e.addressDetails||e.pickupAddress||S(e,"pickupAddress")||e}function h(e){var t=n.getAvailableLocationsSync().find(function(t){return t.code2===e});return t&&t.name}function I(e){var t=e.countryCode,n=e.zipOrPostCode,i=e.postCode,r=e.city,o=e.cityName,a=e.citySuburbName,u=e.countryDivisionName,c=e.countryDivisionCode,s=e.countryDivisionTypeCode,l=e.country,d=e.serviceAreaCode,f=e.addressType,p=e.streetNumber;return{addrLine1:v(e,1),addrLine2:v(e,2),addrLine3:v(e,3),countryCode:t,zipOrPostCode:n||i,city:r||o,citySuburbName:a,countryDivisionName:u,countryDivisionCode:c,countryDivisionTypeCode:s,countryName:l,serviceAreaCode:d,residentialAddress:f===x,streetNumber:p}}function v(e,t){var n=e.address;return 1===t&&n?n:["addrLine","addressLine","address"].reduce(function(n,i){return e[""+i+t]||n},"")}function N(e){var t=e.countryCode,n=e.countryBanner,i=e.phoneNumber;return{countryCode:t,countryBanner:n,phoneType:e.phoneType,phoneCountryCode:e.phoneCountryCode,phoneExt:e.phoneExt,smsEnabled:e.smsEnabled,phone:i}}function T(e,t){return e.countryCode===t.countryCode}function M(e){var t=e.name,n=e.company,i=e.businessContactType,r=e.addressDetails,o=e.key,a=e.businessPartyAddressId,u=r.countryCode,c=r.addrLine1,l=r.addrLine2,f=r.addrLine3,p=r.zipOrPostCode,m=r.city,_=r.countryDivisionName,E=r.countryDivisionCode,S=r.countryDivisionTypeCode,g=r.residentialAddress,C=r.serviceAreaCode,A=r.citySuburbName,h=r.streetNumber;return{name:t,company:n,businessPartyAddressId:a,contactKey:o,businessContactType:i||s["default"].PRIVATE,pickupAddress:d.mapEmptyValuesToNull({countryCode:u,addressLine1:c,addressLine2:l,addressLine3:f,postCode:p,cityName:m,countryDivisionName:_,countryDivisionCode:E,countryDivisionTypeCode:S,addressType:g?x:K,serviceAreaCode:C,citySuburbName:A,streetNumber:h})}}function y(e,t){var n=e&&e.pickupLocation&&e.pickupLocation.pickupAddress;return n&&T(n,t.addressDetails)?m(e):O(t)}function O(e){return n.validateLocation(e.addressDetails).then(function(t){var n=t.serviceAreaCode;return e.addressDetails.serviceAreaCode=n,e})}function D(t){var n=t.phoneDetails,i=t.phoneDetails2,r=t.email,o={email:r,phoneDetails:a.create(n),phoneDetails2:a.create(i),pickupLocation:M(t)};return e.post("/api/myprofile/shipment/defaults/pickup/location/add",o)["catch"](function(){return undefined})}function P(e){return e&&R(e.addressDetails,e.phoneDetails)?b(e):t.when(!1)}function R(e,t){return e.countryCode&&e.addrLine1&&e.city&&t&&G(t)}function b(e){var t=e.addressDetails,n=e.phoneDetails;return j(t.countryCode).then(function(i){return!!(L(i,t,"zipOrPostCode")&&L(i,t,"citySuburbName")&&L(i,e,"email")&&L(i,n,"phone")&&l.isValidNumber("+"+n.phoneCountryCode+n.phone))})}function L(e,t,n){return!e[n]||t[n]}function G(e){return["phoneType","phoneCountryCode","countryBanner"].every(function(t){return!!e[t]})}function k(e,t){var n=e.city,i=e.citySuburbName,r=e.zipOrPostCode,o=e.addrLine1,a=e.addrLine2,u=e.addrLine3,c=e.countryCode,s=e.streetNumber,l={city:n,citySuburbName:i,zipOrPostCode:r,addrLine1:o,addrLine2:a,addrLine3:u,countryCode:c,streetNumber:s};return!!(n&&r&&o&&c)&&Object.keys(l).some(function(e){return l[e]!==t[e]})}function w(e){return e.isPickupLocationSupported}function U(e){return i.isGuest()?t.when(!0):p().then(function(t){var n=t.addressDetails,i=n.countryCode,r=n.addrLine1,o=n.city,a=t.phoneDetails.phone;return i===e||!!(r&&o&&a)})}function F(e){return{email:e.email,phoneDetails:e.phoneDetails,name:e.name}}function j(e){var n=[c.CI_KEYS.CIF0241_POSTAL_CODE,c.CI_KEYS.CIF0452_ZIP,c.CI_KEYS.CIF0239_SUBURB,c.CI_KEYS.CIF0250_EMAIL,c.CI_KEYS.CIF0243_PHONE,c.CI_KEYS.CIF0233_NAME];return t.all(n.map(function(t){return c.getFormField(t,e)})).then(function(e){var t=e[0].mandatory,n=e[1].mandatory,i=e[2].mandatory,r=e[3].mandatory,o=e[4].mandatory;return{zipOrPostCode:t||n,citySuburbName:i,email:r,phone:o}})}function V(e,t){return!!e&&!!t&&!angular.equals(B(e),B(t))}function B(e){return["city","countryCode","zipOrPostCode","citySuburbName"].map(function(t){return e[t]||null})}function $(e){return c.getBoolean(c.CI_KEYS.CI0733_REQUEST_DHL_PACKAGING,e)}function H(e){return c.getSourceData(c.CI_KEYS.CI0057_PACKAGING_TYPE,e)}var x=u["default"].RESIDENTIAL,K=u["default"].BUSINESS;return{areAddressesDifferent:V,getContactDetails:f,getUserContactDetails:p,normalizeContact:m,getFormattedPickupAddress:M,getNewPickupAddress:y,savePickupAddressDefaultValue:D,isPickupAddressDefined:P,isAddressChanged:k,isPickupLocationSupported:w,canProceedForRemotePickup:U,getAuthorizedPickupLocationFieldsFromContact:F,canPackagingBeRequired:$,getPackagingDetailsFromAdtByCountry:H}}r.$inject=["$http","$q","locationService","userService","profileContactService","phoneDetailsFactory","configService","phoneFormatService","objectMapperService"],t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t["default"]=r;var a=n(56),u=i(a),c=n(45),s=i(c);r.NG_NAME="pickupAddressService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e,n){var i=e.name,r=e.email,o=e.phoneDetails,a=Object.assign({},n,{contactName:i,email:r,phoneDetails:o});return t.normalizeContact(a)}function r(e){return n.fetchAuthorizedPickupLocationsConfigs(e).then(function(e){return e[0]})}function o(e,t){return n.fetchAuthorizedPickupLocationsConfigs(e).then(function(e){var i=e[0],r=e[1];return!!i&&(!n.isForeignImportAccount(t)||!r)})}function a(){return n.fetchAuthorizedPickupLocationsConfigs().then(function(e){var t=e[0],n=e[1];return t&&!n})}function u(t){return e.get("/api/myprofile/auth-location/"+t).then(s)["catch"](function(){return[]})}function c(t){return e.get("/api/myprofile/auth-location-by-account-number/"+t).then(s)}function s(e){return e.data.map(function(e){var t=e.contact;return t.isDefault=e.defaultForAccount,t})}return{generateAuthorizedLocationContact:i,getAuthorizedPickupLocations:u,getAuthorizedLocationsByAccountNumber:c,fetchPickupAuthorizedLocationsAvailability:r,areAuthorizedPickupLocationsAvailableForAccount:o,areOnlyAuthorizedPickupLocationsAvailable:a}}i.$inject=["$http","pickupAddressService","authorizedPickupLocationsCommonService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="pickupAuthorizedLocationService"},function(e,t,n){"use strict";t.__esModule=!0;t.BY_MYSELF="BY_MYSELF",t.BY_EMAIL="BY_EMAIL"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2137),o=i(r),a=n(2141),u=i(a),c=n(2143),s=i(c),l=n(2146),d=i(l),f=n(2148),p=i(f),m=n(2150),_=i(m),E=n(2152),S=i(E),g="addressBook.contactInfo.contactOptionalSettings",C=angular.module(g,[o["default"],u["default"],s["default"],d["default"],p["default"],_["default"]]);C.directive(S["default"].NG_NAME,S["default"]),t.module=C,t["default"]=g},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(2196),u=i(a),c=n(2197),s=i(c),l=angular.module("one-click-shipment",[o["default"]]);l.directive(s["default"].NG_NAME,s["default"]).service(u["default"].NG_NAME,u["default"]),t.module=l,t["default"]="one-click-shipment"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2198),o=i(r),a=n(965),u=i(a),c=angular.module("shipment.decline.assigned.modal",[u["default"]]);c.service(o["default"].NG_NAME,o["default"]),t.module=c,t["default"]="shipment.decline.assigned.modal"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(11),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(n){"ngInject";i(this,t);var o=r(this,e.call(this));return o.productServicesService=n,o.init(),o}return t.$inject=["productServicesService"],o(t,e),t.prototype.init=function(){function e(){Object.assign(this,{optionalServices:[],dangerousGoods:[],dryIce:[],expectedQuantity:[],labelDescription:""})}return e}(),t.prototype.getDataPart=function(){function e(){return{optionalServicesInfo:{optionalServices:this.getShipmentOptionalServices(),dangerousGoods:this.getShipmentDangerousGoods(),dryIce:this.getShipmentDryIce(),expectedQuantity:this.getShipmentExpectedQuantities(),labelDescription:this.labelDescription,cashOnDeliveryPaymentInfo:this.getCashOnDeliveryPaymentInfo()}}}return e}(),t.prototype.initDataPart=function(){function e(e){var t=e.optionalServicesInfo;if(Object.assign(this,t),this.optionalServices.forEach(function(e){return e.selected=!0}),this.dangerousGoods.forEach(this.convertRestoredDangerousGood),this.dryIce.length){var n;this.dryIce.forEach(this.convertRestoredDangerousGood),(n=this.dangerousGoods).push.apply(n,this.dryIce)}if(this.expectedQuantity){var i;this.expectedQuantity.forEach(this.convertRestoredDangerousGood),(i=this.dangerousGoods).push.apply(i,this.expectedQuantity)}}return e}(),t.prototype.convertRestoredDangerousGood=function(){function e(e){e.selected=!0,e.subcategories.forEach(function(e){return e.selected=!0})}return e}(),t.prototype.getShipmentOptionalServices=function(){function e(){return this.optionalServices.filter(function(e){return e.selected}).map(function(e){return{code:e.code,chargeCode:e.chargeCode}})}return e}(),t.prototype.setShipmentOptionalService=function(){function e(e,t){var n=this.optionalServices.find(function(n){var i=n.code,r=n.chargeCode;return i===e&&r===t});n&&(n.selected=!0)}return e}(),t.prototype.getShipmentDangerousGoods=function(){function e(){var e=this;return this.dangerousGoods.filter(function(t){return!e.productServicesService.isDryIce(t)&&!e.productServicesService.isExceptedQuantities(t)&&t.selected}).map(function(e){return{serviceCode:e.serviceCode,subcategories:e.subcategories.filter(function(e){return e.selected}).map(function(e){return{contentId:e.contentId,numberOfPackages:e.numberOfPackages,description:e.description}})}})}return e}(),t.prototype.getShipmentDryIce=function(){function e(){var e=this;return this.dangerousGoods.filter(function(t){return e.productServicesService.isDryIce(t)&&t.selected}).map(function(e){return{serviceCode:e.serviceCode,subcategories:e.subcategories.filter(function(e){return e.selected}).map(function(e){return{contentId:e.contentId,weightDetails:e.weightDetails,description:e.description}})}})}return e}(),t.prototype.getShipmentExpectedQuantities=function(){function e(){var e=this;return this.dangerousGoods.filter(function(t){return e.productServicesService.isExceptedQuantities(t)&&t.selected}).map(function(e){return{serviceCode:e.serviceCode,subcategories:e.subcategories.filter(function(e){return e.selected}).map(function(e){return{contentId:e.contentId,unNumberDetails:e.unNumberDetails,description:e.description}})}})}return e}(),t.prototype.getCashOnDeliveryPaymentInfo=function(){function e(){return this.getShipmentOptionalServices().find(function(e){return"KB"===e.code})&&function(e){return e.paymentTypeCode&&e.amount}(this.cashOnDeliveryPaymentInfo)?this.cashOnDeliveryPaymentInfo:undefined}return e}(),t}(u["default"]);t["default"]=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t["default"]={PICKUP:"pickup",DROPOFF:"dropoff",DROPOFF_AT_SERVICE_POINT:"dropoffAtServicePoint",SHIPPER_WILL_SCHEDULE:"shipper",ASSIGN_TO_SHIPPER:"assignPickup"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){"ngInject";function i(){var e=null;if(C()&&R.isPickupAvailable){var n=R.pickupTotalWeight?a():null;e={pickupDetails:t.getPickupDetails(R,!1),totalWeight:n,packageList:R.requirePackagings?R.packagings:null,needCourier:R.requirePackagings}}return{pickup:e,isPickupScheduled:r(),pickupIndicator:o()}}function r(){return R.pickupOption&&R.isPickupAvailable?R.pickupOption===l["default"].PICKUP:null}function o(){return R.isPickupAvailable?s():f["default"].NO}function a(){return{unit:e.getUOMValue(R.pickupTotalWeight.som),value:Number(R.pickupTotalWeight.value)}}function u(e){R.pickupOption=m(e),_(e)}function s(){var e;return(e={},e[l["default"].PICKUP]=f["default"].YES,e[l["default"].DROPOFF]=f["default"].NO,e[l["default"].DROPOFF_AT_SERVICE_POINT]=f["default"].NO_DROP_OFF,e[l["default"].SHIPPER_WILL_SCHEDULE]=f["default"].NO_SHIPPER,e[l["default"].ASSIGN_TO_SHIPPER]=f["default"].NO_ASSIGN,e)[R.pickupOption]||f["default"].NO}function d(e){var t;return(t={},t[f["default"].YES]=l["default"].PICKUP,t[f["default"].NO]=l["default"].DROPOFF,t[f["default"].NO_SHIPPER]=l["default"].SHIPPER_WILL_SCHEDULE,t[f["default"].NO_ASSIGN]=l["default"].ASSIGN_TO_SHIPPER,t[f["default"].NO_DROP_OFF]=l["default"].DROPOFF_AT_SERVICE_POINT,t)[e]}function m(e){var t=e.pickupIndicator,n=e.isPickupScheduled;return t?d(t)||null:{undefined:null,"true":l["default"].PICKUP,"false":l["default"].DROPOFF}[n]}function _(e){var t=e.pickup;E(e.labelPrintingOptions),angular.isUndefined(t)||(S(t),g(t))}function E(e){R.dropOffOrPickup=e?p.LABELLESS_AVAILABILITY.BOTH:R.dropOffOrPickup,R.isPickupStepLabellessAllowed=!!e||R.isPickupStepLabellessAllowed}function S(e){R.requirePackagings=!!e&&e.needCourier,R.packagings=e&&Array.isArray(e.packageList)?e.packageList:[]}function g(n){var i=n&&n.pickupDetails;i&&(R.pickupTotalWeight=n.totalWeight||R.pickupTotalWeight,R.pickupTotalWeight.som=e.getUOMDimension(R.pickupTotalWeight.unit),R.pickupDate=i.pickupDate||null,t.initPickupDetails(R,i),t.initPickupAddress(R,i))}function C(){return R.pickupOption===l["default"].PICKUP}function A(){return R.pickupOption===l["default"].DROPOFF}function h(){return R.pickupOption===l["default"].DROPOFF_AT_SERVICE_POINT}function I(){return R.pickupOption===l["default"].SHIPPER_WILL_SCHEDULE}function v(){return R.pickupOption===l["default"].ASSIGN_TO_SHIPPER}function N(){R.pickupOption=l["default"].PICKUP}function T(e){R.pickupOption=e?l["default"].DROPOFF_AT_SERVICE_POINT:l["default"].DROPOFF}function M(){R.pickupOption=null}function y(e){var t={NO_SHIPPER:l["default"].SHIPPER_WILL_SCHEDULE,YES:l["default"].PICKUP};R.pickupOption=t[e]||null}function O(e){return e?N():T()}function D(e){R.pickupSearchPayload=n.create(e).getPayload()}function P(e){var t=n.create(e).getPayload();return!angular.equals(R.pickupSearchPayload,t)}var R=Object.assign(this,{getDataPart:i,initDataPart:u,setPickupNeeded:N,setDropOffNeeded:T,setImportShipmentDefault:y,resetPickupOption:M,setPickupStatus:O,savePickupSearchPayload:D,isPickupRequired:C,isDropOffRequired:A,isDropOffAtServicePoint:h,isShipperWillSchedule:I,isAssignToShipper:v,isPickupSearchPayloadChanged:P,pickupTotalWeight:{value:"",unit:""},pickupLocation:null,pickupLocationOtherDescription:"",pickupSpecialInstructions:null,pickupAddress:new c["default"],pickupWindow:{readyByTime:null,closeTime:null},pickupDate:null,packagings:[],requirePackagings:!1,isPickupDateValid:!0,isNextDayPickup:!1,wasPickupSelected:!1,wasDropOffTeaserDisplayed:!1})}r.$inject=["somService","pickupMapper","pickupSearchFactory"],t.__esModule=!0,t["default"]=r;var o=n(11),a=i(o),u=n(15),c=i(u),s=n(617),l=i(s),d=n(619),f=i(d),p=n(121);r.prototype=new a["default"],r.NG_NAME="pickupModel"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={YES:"YES",NO:"NO",NO_SHIPPER:"NO_SHIPPER",NO_ASSIGN:"NO_ASSIGN",NO_DROP_OFF:"NO_DROP_OFF"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(){return i.isUserLocked()}function a(){return e.getBoolean(e.CI_KEYS.CI0508_ENABLE_PICKUP)}function u(){return t.show(o["default"].SCHEDULE_PICKUP_LOCK_MESSAGE),i.lockUser().then(n.redirectToHome)}function c(){return!!r()&&(t.show(o["default"].SCHEDULE_PICKUP_LOCK_MESSAGE),n.redirectToHome(),!0)}function s(){n.redirectToCreateShipment()}function l(){n.redirectToPickup({dashboardPickup:!0})}return{isUserLocked:r,isPickupEnabled:a,lockUser:u,redirectToDashboardIfUserIsLocked:c,redirectToCreateShipment:s,redirectToPickupFromDashboard:l}}i.$inject=["configService","showOnceService","navigationService","schedulePickupUserLockService"],t.__esModule=!0,t["default"]=i;var r=n(881),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="schedulePickupAvailabilityService"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={SCHEDULE_PICKUP_LOCK_MESSAGE:"schedule-pickup-lock-message",PICKUP_HAS_BEEN_SCHEDULED:"schedule-pickup-pickup-has-been-scheduled",PICKUP_HAS_BEEN_SCHEDULED_AND_CONSOLIDATED:"schedule-pickup-pickup-has-been-scheduled-and-consolidated",PICKUP_HAS_BEEN_UPDATED:"schedule-pickup-pickup-has-been-updated",PICKUP_HAS_BEEN_UPDATED_AND_NUMBER_CHANGED:"schedule-pickup-pickup-has-been-updated-and-number-changed"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={LOGGED_OUT:"LOGGED_OUT",SESSION_TIMED_OUT:"SESSION_TIMED_OUT",ACTIVATION_EMAIL_RESENT:"ACTIVATION_EMAIL_RESENT",ACTIVATION_EMAIL_EXPIRED:"ACTIVATION_EMAIL_EXPIRED",CREATE_PASSWORD:"CREATE_PASSWORD",RESET_PASSWORD:"RESET_PASSWORD",RESET_PASSWORD_EXPIRED:"RESET_PASSWORD_EXPIRED"}},function(e,t,n){"use strict";function i(e){"ngInject";function t(e){i.format=e}function n(t){return t?e.getFormattedDate(t,i.format):""}var i=this;Object.assign(i,{init:t,getPrettyDate:n})}i.$inject=["dateTimeService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={DOCUMENT:"DOCUMENT",PROHIBITED:"PROHIBITED",RESTRICTED:"RESTRICTED"}},function(e,t,n){"use strict";t.__esModule=!0;t.FOCUSABLE_ELEMENTS_SELECTOR='\n        input[type="email"]:not([disabled]),\n        input[type="text"]:not([disabled]),\n        input[type="password"]:not([disabled]),\n        input[type="radio"]:not([disabled]):visible,\n        input[type="checkbox"]:not([disabled]),\n        a[href]:not([disabled]),\n        textarea:not([disabled]),\n        select:not([disabled]),\n        [tabindex="0"],\n        button:not([disabled])\n    '},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={DESKTOP_REDIRECT_ALERT_CLOSED:"DesktopRedirectAlertClosed",KEY_FOR_AVAILABILITY_CHECK:"KEY_FOR_AVAILABILITY_CHECK"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1259),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("external-services-logout",[]);o.service(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="external-services-logout"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={NOT_FOUND:"NOT_FOUND",MISSED_CONFIGURATION:"MISSED_CONFIGURATION",WRONG_CONFIGURATION:"WRONG_CONFIGURATION"}},function(e,t,n){"use strict";t.__esModule=!0;t.decimalSeparators={comma:",",dot:"."},t.decimalSeparatorsKeys={comma:"comma",dot:"dot"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1347),u=i(a),c=n(1348),s=i(c),l="profile.shipmentSettings.defaults.paperlessCustoms",d=angular.module(l,[o["default"]||"common.utils"]);d.directive(s["default"].NG_NAME,s["default"]).directive(u["default"].NG_NAME,u["default"]),t.module=d,t["default"]=l},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1349),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o="shipment.services.customs.invoice.enrollment",a=angular.module(o,[]);a.service(r["default"].NG_NAME,r["default"]),t.module=a,t["default"]=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(893),o=i(r),a=n(440),u=i(a),c=n(253),s=i(c),l=n(1611),d=i(l),f=angular.module("common.form.input",[u["default"],s["default"]||"common.form",o["default"]]);f.directive(d["default"].NG_NAME,d["default"]),t.module=f,t["default"]="common.form.input"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(81),o=i(r),a=n(1364),u=i(a),c=n(1366),s=i(c),l=angular.module("common.form.inputPassword",[o["default"]||"common.validation"]);l.directive(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="common.form.inputPassword"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(895),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("common.form.controlErrors",[]);o.directive(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="common.form.controlErrors"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){var r=i[0],o=i[1],u=o[n[a]];if(!u)throw new Error("ewf-control-errors: field with name '"+n[a]+"' not found");r.init(u,n.ewfErrorMessages)}return{restrict:"A",templateUrl:"common/form/control-errors/control-errors.html",require:["ewfControlErrors","^form"],controller:o["default"],controllerAs:"controlErrorsCtrl",scope:!0,link:{pre:e}}}t.__esModule=!0,t["default"]=i;var r=n(1369),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfControlErrors"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(135),u=i(a),c=n(900),s=i(c),l=angular.module("common.form.fieldErrors",[o["default"]||"common.utils",u["default"]]);l.directive(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="common.form.fieldErrors"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(395),o=i(r),a=n(1420),u=i(a),c=n(1421),s=i(c),l=angular.module("common.widgets.address-search",["common.utils",o["default"]||"common.widgets.address"]);l.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="common.widgets.address-search"},function(e,t,n){"use strict";t.__esModule=!0;var i,r=t.FIELD_NAMES={NAME:"name",NICK_NAME:"nickname",COMPANY:"company",ADDRESS1:"address1",ADDRESS2:"address2",ADDRESS3:"address3",CITY:"city",POSTAL_CODE:"postalCode",SUB_URB:"suburb",STATE_PROVINCE:"stateProvince",COUNTRY:"country",EMAIL_ADDRESS:"emailAddress",PHONE:"phone",VAY_TAX_ID:"vatTaxId",MATCH_CODE:"matchCode",ADDITIONAL_NOTES:"additionalNotes",REFERENCE_NAME:"referenceName"};t.FIELD_NAMES_MAP=(i={},i[r.NAME]="contactName",i[r.NICK_NAME]="nickname",i[r.COMPANY]="companyName",i[r.ADDRESS1]="address",i[r.ADDRESS2]="address2",i[r.ADDRESS3]="address3",i[r.CITY]="city",i[r.POSTAL_CODE]="zipOrPostCode",i[r.STATE_PROVINCE]="stateProvince",i[r.SUB_URB]="suburb",i[r.COUNTRY]="country",i[r.EMAIL_ADDRESS]="email",i[r.PHONE]="phoneNumber",i[r.VAY_TAX_ID]="vatTaxId",i[r.MATCH_CODE]="matchCode",i[r.ADDITIONAL_NOTES]="additionalNotes",i[r.REFERENCE_NAME]="referenceName",i)},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={TERMS:"TERMS",PRIVACY:"PRIVACY"}},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n,i,r){var o=r[0],u=r[1],c=r[2];r[3]&&e.error("ewfcFieldCtrl blocks form submittion, please use ewf-validation-errors instead of ewf-field-errors to display errors");var s=u.name.includes(".")?u.name.split(".")[1]:u.name;Object.assign(c,{ewfFormCtrl:o,fieldController:u,fieldName:s}),i[a+"FormOptions"]&&c.initClickHandler(i[a+"OnClick"])}return{restrict:"A",priority:1,replace:!0,scope:!0,require:["^ewfForm","^ewfField",a,"^?ewfcField"],controller:o["default"],controllerAs:"fieldErrorsCtrl",templateUrl:function(){function e(e,t){return t[a+"FormOptions"]?"common/form/field-errors/field-errors-for-form-options.html":"common/form/field-errors/field-errors.html"}return e}(),link:{pre:t}}}i.$inject=["logService"],t.__esModule=!0,t["default"]=i;var r=n(1582),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfFieldErrors"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(81),u=i(a),c=n(135),s=i(c),l=n(902),d=i(l),f=angular.module("common.form.validationErrors",[o["default"]||"common.utils",u["default"]||"common.validation",s["default"]]);f.directive(d["default"].NG_NAME,d["default"]),t.module=f,t["default"]="common.form.validationErrors"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,i,o,a){var u=a[0],c=a[1],s=a[2],l=a[3];Object.assign(u,{ewfFormCtrl:c,ewfcFieldCtrl:l,ewfFieldCtrl:s,fieldName:s.name}),n(u,t,o);var d=t.$watch(u.areErrorsVisibleAndReady,function(n){if(n){var o=e.replace(i,r,t);u.setCssClasses(o),d()}})}function n(e,t,n){var r=i(t,n);r&&(e.setCustomErrorMessages(r),t.$watchCollection(function(){return i(t,n)},function(t){return e.setCustomErrorMessages(t)}))}function i(e,t){return e.$eval(t[a+"CustomMessages"])}var r="common/form/validation-errors/validation-errors.html";return{restrict:"A",scope:!0,controller:o["default"],controllerAs:"validationErrorsCtrl",require:[a,"^ewfForm","^ewfField","^?ewfcField"],link:{pre:t}}}i.$inject=["replaceWithCompiledTemplateService"],t.__esModule=!0,t["default"]=i;var r=n(1589),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfValidationErrors"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={NONE:"none",SUCCESS:"success",ERROR:"error"}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(n){i(this,t);var o=r(this,e.call(this,n));return o.setMessage("errors.common_msg_pattern-error-message"),o.setCSSClass("ewf-pattern-validation"),o.setValidatorName("ewfPatternValidation"),o}return o(t,e),t.prototype.validate=function(){function e(e){return["",null,undefined].includes(e)||this.wrapRegexp(this.options.value).test(e)}return e}(),t.prototype.wrapRegexp=function(){function e(e){return e instanceof RegExp?e:new RegExp(e)}return e}(),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(17),c=i(u),s=n(5),l=i(s),d=function(e){function t(n,i,a){"ngInject";r(this,t);var u=o(this,e.call(this));return u.requests=Object.create(null),u.$http=n,u.Messages=i,u.callRateLoaderService=a,u}return t.$inject=["$http","Messages","callRateLoaderService"],a(t,e),t.prototype.validate=function(){function e(e){var t=this;return this.requests[e]=this.getRequestsForEmail(e),this.requests[e].then(function(e){return t.handleResponse(e)})["catch"](function(e){var n=e.status,i=e.data;return n===l["default"].BAD_REQUEST&&t.setMessage(i.errors[0]),!1})}return e}(),t.prototype.getRequestsForEmail=function(){function e(e){var t=this;return this.requests[e]||this.callRateLoaderService.setEmailCookieIfNotExist().then(function(){return t.$http.post("/api/signup/email/validate",{email:e})})}return e}(),t.prototype.handleResponse=function(){function e(e){var t=e.data;return t.valid?t.sameCompany?(this.setMessage(this.Messages.MANAGE_ACCOUNTS.MANAGE_AUTH_ERROR_SAME_COMPANY_USER),!1):t.exist?(this.removeMessage(),!0):(this.setMessage(this.Messages.MANAGE_ACCOUNTS.MANAGE_AUTH_ALERT_NOT_REGISTERED_USER),!0):(this.setMessage(this.Messages.ERRORS.EMAIL_ERROR_MESSAGE),!1)}return e}(),t}(c["default"]);t["default"]=d},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={ADDRESS_BOOK:"Address Book",CURRENCY_LIST:"Currency List",CUSTOMS:"Customs",DASHBOARD:"Dashboard",EMAIL:"Email",GENERAL_SETTINGS:"General Settings",GUI:"GUI",LANE_ALERTS:"Lane Alerts",MANIFESTING:"Manifesting",PAYMENT_OPTIONS:"Payment Options",PICKUP:"Pickup",PRODUCTS_AND_SERVICES:"Products & Services",RATES_TARIFFS:"Rates/Tariffs",REWARDS_PROMOTION:"Rewards / Promotion",RULES_REGULATION:"Rules / Regulation",SECURITY:"Security",SHIPMENT_DEFAULTS:"Shipment Defaults",SHIPMENT_DETAILS:"Shipment Details",SHIPMENT_PAPERWORK:"Shipment Paperwork",SHIPMENT_SETTINGS:"Shipment Settings",THIRD_PARTY_INTEGRATION:"Third party applications integration",ACCOUNTS_AND_PAYMENT_OPTIONS:"Accounts and Payment Options",REFERENCE_OPTIONS:"Reference Options",B2L:"B2L",TECHNICAL:"Technical"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return function(){function t(t,n,i,r,o,u,s,l,d){"ngInject";function f(){return e}function p(){return r.getCountryLang().countryId}function m(){return h(S(p()))}function _(e){var t=arguments.length<=1||arguments[1]===undefined?p():arguments[1],i=S(t);if(g(i.countryCode))return n.reject("There is no configuration for the index page");var r=C(e),o=h(i);return I(),v(o,r)||N(o,r)["catch"](function(t){return E(t,e,i)})}function E(e,t,i){var r=e===F;if(!r&&t.optional)return n.when();var o=i.countryCode,a=i.accountNumber,s=i.accountId,l={exceptionType:r?c["default"].NOT_FOUND:c["default"].MISSED_CONFIGURATION,ciKey:C(t),countryCode:o,accountNumber:a,accountId:s};return u.showServiceErrorPopup(l),n.reject()}function S(e){var t=angular.isString(e)?{countryCode:e}:angular.copy(e),n=t.countryCode;return n&&(t.countryCode=n.toUpperCase()),t}function g(e){return e&&"index"===e.toLowerCase()}function C(e){return angular.isObject(e)?A(e):e.match(/^CIF?\d{4}_\w+/)?A(a["default"][e]):e}function A(e){return e.group+"."+e.subGroup+"."+e.alias}function h(e){return d.encodeParams(e)}function I(){V=V||l.getInstance()}function v(e,t){var i=V.get(e,t);return i===U?n.reject('Value "'+t+'" was already requested but failed to load properly'):i!==F&&(i?n.when(i):void 0)}function N(e,t){return V.has(e,t)||V.set(e,t,F),M(e,t).then(function(){return T(e,t)})}function T(e,t){var i=V.get(e,t);return[F,U].includes(i)?n.reject(i):n.when(i)}function M(t,i){var r=D(i,t);return s.isRequested(r,e)?n.when(P([r])):y()(i,t)}function y(){return j=j||o.createThrottleFn(O,P)}function O(e,t,n){var i=e||[];return i.push(D(t,n)),i}function D(e,t){return{group:e.split(".")[0],cIKey:e,context:t}}function P(e){var t=R(e),r=b(t),o=r.map(function(e){return e.httpRequest});return n.all(o).then(function(e){return G(e,r)})["catch"](function(t){return i.error("Error while requesting values "+JSON.stringify(e)+", response was "+JSON.stringify(t)),n.reject(t)})["finally"](function(){return k(e)})}function R(e){return e.reduce(function(e,t){var n=t.context;return e[n]=e[n]||[],e[n].push(t),e},{})}function b(e){return Object.entries(e).map(function(e){return L(e[0],e[1])})}function L(t,n){return{httpRequest:s.load(e,t,n.map(function(e){return e.group})),context:t}}function G(e,t){e.forEach(function(e,n){var i=t[n].context;e.data.forEach(function(e){var t=A(e);V.set(i,t,e)})})}function k(e){e.forEach(function(e){var t=e.context,n=e.cIKey,i=V.get(t,n);(angular.isObject(i)?i.data:i)||V.set(t,n,U)})}function w(e,n){var i=e.alias,r=e.group,o=e.subGroup,a=S(n),u=a.countryCode;return t.post("/api/ci-keys/country/supported",{alias:i,group:r,subgroup:o,countryCode:u}).then(function(e){return e.data})}var U="Value is undefined",F="Value request pending",j=void 0,V=void 0;return{getDefaultContext:m,getEndpoint:f,getValue:_,isCiSupportedByCountry:w}}return t.$inject=["$http","$q","logService","pathService","configRequestThrottleService","interceptorsStateService","configGroupLoaderService","twoLevelCacheFactoryService","queryParamsService"],t}()}t.__esModule=!0,t["default"]=r;var o=n(228),a=i(o),u=n(888),c=i(u)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(19),o=i(r),a=n(1724),u=i(a),c=n(1726),s=i(c),l=n(1728),d=i(l),f=n(1729),p=i(f),m=angular.module("common.analytics",[o["default"]]);m.directive(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]),t.module=m,t["default"]="common.analytics"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=["countryCode","countryDivisionName","countryDivisionTypeCode","countryDivisionCode","countryDHLName","serviceAreaCode","facilityId","cityName","citySuburbName","postCode","addressLine1","addressLine2","addressLine3","addressType","geoPositionLatitude","geoPositionLongitude","geoPositionAltitude","resAttrOpts","streetNumber","cityCode","businessContactType"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(911),o=i(r),a=n(1703),u=i(a);t["default"]=[].concat(o["default"],["importCommodityCode"],u["default"])},function(e,t,n){"use strict";t.__esModule=!0;var i=n(1702),r=function(e){return e&&e.__esModule?e:{"default":e}}(i);t["default"]=["name","description","exportCommodityCode","quantity","quantityUnits","value","currency","netWeight","convertedNetWeight","grossWeight","convertedGrossWeight","som","countryCode","notes","rowId","taxIdPaid","referenceTypeCode","referenceNumber",{key:"additionalItemReferences",propertyMap:r["default"]},"licenseType","licenseNumber","eccn"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(1705),r=function(e){return e&&e.__esModule?e:{"default":e}}(i);t["default"]=["name","references","invoiceType","numberOfPallets","reasonForExport","typeOfExport",{key:"terms",propertyMap:["destinationPortName","dutyTaxesAccount","dutyTaxesAccountNumber","termsOfPayment","termsOfTrade"]},{key:"declaration",propertyMap:["cites","eur1","nafta","coo","pod","name","title","companyLogo"]},{key:"bankDetails",propertyMap:["inn","kpp","ogrn","okpo","settlementAccountUsdEur","settlementAccountRur","bankName"]},{key:"indiaCustomsInvoice",propertyMap:r["default"]}]},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=["typeCode","value"]},function(e,t,n){"use strict";function i(){function e(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=e.bothWayShipmentVersionsSet;return t||(t={masterShipmentVersion:n(e,"key")},e.returnShipment&&(t.returnShipmentVersion=n(e.returnShipment,"externalId"))),t}function t(e,t){var i={};return e&&(i.masterShipmentVersion=n(e,"consolidationId")),t&&(i.returnShipmentVersion=n(t,"externalId")),i}function n(e,t){return{externalId:e[t]||e.key||e.id||"",version:e.version||""}}function i(e,n,i){e.bothWayShipmentVersionsSet=t(n,i)}return{assignShipmentVersionsPayload:i,getShipmentVersionsPayload:e}}t.__esModule=!0,t["default"]=i,i.NG_NAME="shipmentApprovementVersionService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1712),u=i(a),c=angular.module("shipment.address-contact.service",[o["default"]||"common.utils"]);c.service(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="shipment.address-contact.service"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={NO_SHIPPER:"NO_SHIPPER",NO_ASSIGN:"NO_ASSIGN",NO_COURIER:"NO_COURIER",YES:"YES"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1722),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("shipment.print.resource",[]);o.service(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="shipment.print.resource"},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1801),u=i(a),c=n(1802),s=i(c),l=angular.module("common.password",[o["default"]]);l.directive(s["default"].NG_NAME,s["default"]).directive(u["default"].NG_NAME,u["default"]),t.module=l,t["default"]="common.password"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={EMAIL_VERIFIED:"emailVerified"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(1808),u=i(a),c=n(1809),s=i(c),l=angular.module("dashboard.notification",[o["default"]]);l.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="dashboard.notification"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){"ngInject";function n(t){var n=t?"/"+t:"";return e.get("/api/corporate/admintools/settings/nodeswitcher/groups"+n).then(function(e){return e.data.groups||[]})}function i(t){return e.get("/api/corporate/admintools/settings/nodeswitcher/"+t+"/users").then(function(e){return e.data.identityList||[]})}function r(e){t.putRootCookie(p,JSON.stringify(e))}function o(){return t.get(c["default"].CURRENT_GROUP)}function u(){var e=t.get(p);return e?JSON.parse(e):undefined}function s(){t.removeRootCookie(p)}function l(e){return e===a["default"].COMPANY}function d(e){return e===a["default"].GROUP}function f(e){return e===a["default"].USER}var p="ewfCorpNodeSwitcherState";return{loadNodeSwitcherGroups:n,loadUsersByGroup:i,setAppliedNodeInfo:r,getAppliedNodeInfo:u,clearAppliedNodeInfo:s,getCurrentGroupId:o,isCompanyNode:l,isGroupNode:d,isUserNode:f}}r.$inject=["$http","cookiesService"],t.__esModule=!0,t["default"]=r;var o=n(82),a=i(o),u=n(14),c=i(u);r.NG_NAME="corporateNodeSwitcherService"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={LIGHT_BACKGROUND:"LIGHT_BACKGROUND",DARK_BACKGROUND:"DARK_BACKGROUND"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(2),u=i(a),c=n(457),s=i(c),l=n(1846),d=i(l),f=n(1847),p=i(f),m=n(1848),_=i(m),E=angular.module("mailingListDetails",[o["default"],u["default"]||"common.utils",s["default"]]);E.directive(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]).service(_["default"].NG_NAME,_["default"]),t.module=E,t["default"]="mailingListDetails"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={PRIMARY:"PRIMARY",SECONDARY:"SECONDARY",ADDITIONAL:"ADDITIONAL"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={NO_LIST:"NO_LIST",REGULAR:"REGULAR",VIEW_LIST:"VIEW_LIST"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(117),o=i(r),a=n(1895),u=i(a),c=n(1896),s=i(c),l=n(1897),d=i(l),f=n(1898),p=i(f),m=angular.module("shipment.type.itemAttributes",[o["default"]]);m.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]),t.module=m,t["default"]="shipment.type.itemAttributes"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1861),u=i(a),c=n(1863),s=i(c),l=n(1864),d=i(l),f=n(1866),p=i(f),m=angular.module("common.widgets.commodityCode",[o["default"]]);m.directive(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]).directive(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]),t.module=m,t["default"]="common.widgets.commodityCode"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={EXPORT:"EXPORT",IMPORT:"IMPORT"}},function(e,t,n){"use strict";function i(){var e={cites:!1,eur1:!1,nafta:!1,coo:!1,pod:!1};return{template:{name:"",invoiceType:null,invoiceUserName:"",logoParameters:null,terms:{},declaration:e,references:{},bankDetails:{},invoiceTypes:o["default"],fromCountry:"",toCountry:""},cachedEnhancedInvoice:{},paymentAccount:"",country:{code2:"",name:""},bankDetailsVisible:!1,exportIdType:null,involvedPartiesData:{},invoiceTypesAvailability:{COMMERCIAL:!0,PRO_FORMA:!0},declaration:e}}t.__esModule=!0,t["default"]=i;var r=n(463),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={MAX:15,MIN:1}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(1903),u=i(a),c=n(1904),s=i(c),l=n(1905),d=i(l),f=angular.module("shipment.type.declared-value",[o["default"]]);f.service(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]).directive(u["default"].NG_NAME,u["default"]),t.module=f,t["default"]="shipment.type.declared-value"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1907),u=i(a),c=n(1908),s=i(c),l=n(1909),d=i(l),f=n(1910),p=i(f),m=n(1911),_=i(m),E=n(1912),S=i(E),g="profile.shipmentSettings.customsInvoiceTemplates",C=angular.module(g,[o["default"]||"common.utils"]);C.directive(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]).directive(p["default"].NG_NAME,p["default"]).directive(d["default"].NG_NAME,d["default"]).factory(_["default"].NG_NAME,_["default"]).service(S["default"].NG_NAME,S["default"]),t.module=C,t["default"]=g},function(e,t,n){"use strict";t.__esModule=!0;t.MAX_ALLOWED_COPIES_NUMBER=10},function(e,t,n){"use strict";function i(e,t,n,i,o,a){"ngInject";function u(e,t,n){return i.isCanvasOutputAvailable()?E(n):_(e,t)}function c(e){var t=e.target.contentDocument.body,n=t.innerText;if(o.hasError(n)){var i=o.extractErrorMsg(n);t.innerText=a.getTranslationSync(i)}}function s(e,t){u(e,t,p(t,2===e.length?"docs=LABEL&docs=ARCHIVE":"docs=ARCHIVE"))}function l(e,t){u(e,t,p(t,"docs="+r.DOCUMENT_TYPES.RECEIPT))}function d(e,t){u(e,t,p(t,"docs="+r.DOCUMENT_TYPES.CUSTOMS_INVOICE))}function f(e,t){u(e,t,p(t,"docs="+r.DOCUMENT_TYPES.CSBV_CUSTOMS_INVOICE))}function p(e,t){return"/api/shipment/"+e+"/document-preview?"+t}function m(t){return n.showDialog({scope:Object.assign(e.$new(),t),templateUrl:"print-preview-dialog-layout.html"}).result}function _(e,n){var i=e.map(function(e){return"docs="+e.documentType}).join("&");t.open("/api/shipment/"+n+"/document-preview?"+i,"printPreviewWindow","resizable=yes,scrollbars=yes,width=800,height=600,menubar=0,toolbar=0,top=50,left=50")}function E(e){return m({url:e,onLoad:c})}function S(e,t){m({url:"/api/shipment/"+e+"/gia/"+t+"/preview"})}return{showLabel:s,showReceipt:l,showInvoice:d,previewDocument:E,showGiaDocument:S,showCsbvInvoice:f}}i.$inject=["$rootScope","$window","modalService","printEnvironmentService","iframeErrorService","nlsService"],t.__esModule=!0,t["default"]=i;var r=n(57);i.NG_NAME="printPreviewOutputService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(938),o=i(r),a=n(2),u=i(a),c=n(1918),s=i(c),l=n(1920),d=i(l),f="profile.shipmentSettings.printerSettings",p=angular.module(f,[u["default"],o["default"]]);p.directive(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]),t.module=p,t["default"]=f},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1916),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=n(1917),a=angular.module("silent-print",[]);a.service(r["default"].NG_NAME,r["default"]).service("dtJavaService",o.DtJavaService),t.module=a,t["default"]="silent-print"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={laserPrinterType:"Laser Printer",thermalPrinterType:"Thermal Printer"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={EMAILED:"emailed",DOWNLOADED:"downloaded",COMPLETED:"completed"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={CHROME_OR_SAFARI:"chrome/safari",FIREFOX:"firefox",IE:"ie",ANDROID:"android"}},function(e,t,n){"use strict";function i(e){"ngInject";function t(){return e.getElement(i)}function n(t){return e.postElement(i,t)}var i="/api/myprofile/notification/settings";return{getSettings:t,updateSettings:n}}i.$inject=["crudService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="profileNotificationSharingService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(32),u=i(a),c=n(1946),s=i(c),l=n(468),d=i(l),f="shipment.type.additional-customs-documents",p=angular.module(f,[o["default"],u["default"]||"common.configuration"]);p.directive(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]),t.module=p,t["default"]=f},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(){return t.get("/api/myprofile/shipment/defaults/customs/clearance",{cache:!0}).then(E)}function a(){var e={cache:!0,cacheDuration:O};return t.get("/api/myprofile/shipment/defaults/delivery",e).then(E)}function u(){return a().then(function(e){return[e.documentDescription,e.predefinedDocumentDescription,e.additionalDocumentDescription]})}function c(e,n,i){return t.get("/api/shipment/parameters/"+e+"/"+n,{cache:i}).then(E)}function s(e){return t.get("/api/shipment/currencies",{cache:!0,params:e}).then(E)}function l(e){return t.post("/api/currency/conversion",e).then(E)}function d(e){return t.post("/api/currency/export-rate/convert",e).then(E)}function f(e,n,i){var r={originCountry:e,destinationCountry:n,currencyCode:i};return t.get("/api/shipment/defaults/insurance",{params:r,cache:!0}).then(E)}function p(e){return t.get("/api/shipment/dutiable",{params:e,cache:!0}).then(E)}function m(){return t.get("/api/shipment/shipment-details/last-description").then(E)}function _(e){return t.get("/api/tasSupport/check/"+e).then(function(e){return"true"===e.data})}function E(e){return e.data}function S(e){return n.getBoolean(n.CI_KEYS.CI0604_ENABLE_EEI,e)}function g(e){return n.getBoolean(n.CI_KEYS.CI0730_ENABLE_COMMERCIAL_INVOICE_FOR_DOCUMENT_SHIPMENTS,e)}function C(e){return n.getBoolean(n.CI_KEYS.CI0963_INSURANCE_TERMS_AND_CONDITION_POPUP,e)}function A(){return n.getBoolean(n.CI_KEYS.CI0408_REMEMBER_LAST_INPUT_FOR_DESCRIPTION).then(function(t){return t||e.reject("")})}function h(t){var i={Documents:o["default"].DOCUMENT,Packages:o["default"].PACKAGE};return n.getSourceData(n.CI_KEYS.CI0071_DEFAULT_SHIPMENT_TYPE_FOR_GUEST_USER,t).then(function(t){return i[t]||e.reject()})}function I(e){return n.getSourceData(n.CI_KEYS.CI1295_DEFAULT_EXTENDED_LIABILITY_CHECKBOX,e).then(N)["catch"](function(){return!1})}function v(e){return n.getSourceData(n.CI_KEYS.CI0075_DEFAULT_INSURANCE_CHECKBOX,e).then(N)}function N(e){return!["","NONE"].includes(e)&&("BOTH"===e||("ACCOUNT_HOLDERS"===e?T():"CASH_OR_CARD"===e?M():void 0))}function T(){return i.isAuthorized()&&i.retrieveAccountHolderStatus()}function M(){return!i.isAuthorized()||i.retrieveAccountHolderStatus().then(function(e){return!e})}function y(t){return i.hasDhlAccounts()?e.when(!0):n.getBoolean(n.CI_KEYS.CI1266_MY_OWN_CUSTOMS_INVOICE_FOR_NON_ACC_CUSTOMERS,t)}var O=5e3;return{getProfileDeliveryDefaults:a,getCustomsClearanceDefaults:r,getProfileDocumentsDescription:u,getSomParameters:c,getCurrencies:s,getConvertedCurrency:l,convertCsbvValue:d,getInsuranceDefaults:f,getDutiableAndBondedTransitStatuses:p,getLastShipmentDescription:m,getEstimatedDutiesAvailability:_,getEeiStatus:S,getInvoiceEnabledStatus:g,getTermsAndConditionsPopupVisibility:C,getLastShipmentDescriptionEnabledStatus:A,getShipmentTypeFromAdt:h,getShipmentInsuranceStatus:v,getExtendedLiabilityStatus:I,isOwnInvoiceAllowed:y}}i.$inject=["$q","$http","configService","userService"],t.__esModule=!0,t["default"]=i;var r=n(7),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="shipmentTypeResource"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i){"ngInject";function r(e,t){var i=arguments.length<=2||arguments[2]===undefined||arguments[2];return n.getSomParameters(e,t,i)}function o(e,i){var r=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],o=arguments[3],a=r.fromContactKey,u=r.toContactKey,c=t.isAuthorized(),s={fromCountry:e,toCountry:i,fromContact:c&&a||null,toContact:c&&u||null,isCsbvShipment:o||null};return n.getCurrencies(s).then(function(e){var t=e.insured,n=e.declared;return d(n),f(t),{insured:t,declared:n}})}function c(){return t.isGuest()?e.reject():n.getCustomsClearanceDefaults()}function l(e){return n.getEstimatedDutiesAvailability(e)}function d(e){var t=e.declaredCurrencies;t&&!t.includes(e.defaultDeclaredCurrency)&&(e.defaultDeclaredCurrency=t[0])}function f(e){var t=e.currencies;t&&!t.includes(e.defaultCurrency)&&(e.defaultCurrency=t[0])}function p(t,i,r){return e.all([n.getEeiStatus(t),N(i,r)])}function m(e,n,i){var r=e[0],o=e[1],a=n.country,u=n.params,c=n.isCountryOFAC,s=_(o,i);return{itarBisVisible:r&&(t.isAuthorized()||s)&&(c||s)&&!E(a,u.toCountry),shipmentDutiable:s,isOFAC:c}}function _(e,t,n){return(e||!n&&t.intraEuDutiableStatus)&&t.isShipmentTypePackage()&&!t.isNonDutiablePackage}function E(e,t){return e===s["default"].UNITED_STATES&&t===s["default"].UNITED_STATES}function S(t){return t.sourceCurrency===t.targetCurrency?e.when(t.amount):n.getConvertedCurrency(t)}function g(e){return n.convertCsbvValue(e)}function C(e,t,i){return n.getInsuranceDefaults(e,t,i)}function A(e){return n.getShipmentInsuranceStatus(e)}function h(e){return n.getInvoiceEnabledStatus(e)}function I(e){return n.getExtendedLiabilityStatus(e)}function v(e){return n.isOwnInvoiceAllowed(e)}function N(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return t.fromCountry&&t.toCountry?n.getDutiableAndBondedTransitStatuses(t).then(function(e){return e.dutiable}):e.reject()}function T(e){return n.getTermsAndConditionsPopupVisibility(e)}function M(e){return e===a["default"].DOCUMENT}function y(e){return e===a["default"].PACKAGE}function O(e,t,n){return y(e)&&t!==n&&[t,n].includes(s["default"].BRAZIL)}function D(){return t.isAuthorized()?n.getProfileDeliveryDefaults().then(function(t){var n=t.shipmentType;return a["default"][n]||e.reject()}):e.reject()}function P(e){return D()["catch"](function(){return n.getShipmentTypeFromAdt(e)})}function R(){return n.getLastShipmentDescription().then(function(t){var n=t.description;return n&&[n]||e.reject([])})}function b(n){return t.isAuthorized()?F(n).then(function(t){return t[0]?[].concat(t,[u.DELIVERY_DEFAULTS]):e.reject()})["catch"](w):e.reject([])}function L(){return t.isAuthorized()?n.getProfileDeliveryDefaults().then(function(e){return e.intraEuDutiableStatus}):e.reject()}function G(){return L()["catch"](function(){return null})}function k(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return t.fromCountry&&t.toCountry?n.getDutiableAndBondedTransitStatuses(t).then(function(e){return e.bondedTransitAvailable}):e.reject()}function w(){return n.getCustomsClearanceDefaults().then(function(t){var n=t.shipmentDescription;return n&&[n]||e.reject()})["catch"](U)}function U(){return n.getLastShipmentDescriptionEnabledStatus().then(R)}function F(t){return t===a["default"].DOCUMENT?n.getProfileDocumentsDescription():e.when([])}function j(e){var t=e.customsInvoice||{},n=t.declaration;n&&Object.assign(e.enhancedInvoice,{declaration:n})}function V(){return i.isShipmentAssigned()}function B(){return i.isShipmentEditMode()}function $(){return i.isReturnLabelPage()}function H(){return i.isRestoredShipment()}return{loadShipmentTypeOptions:p,handleShipmentTypeOptions:m,getCurrencies:o,processCurrencyConversion:S,getInsuranceDefaults:C,getShipmentInsuranceStatus:A,getExtendedLiabilityStatus:I,getInvoiceEnabledStatus:h,isOwnInvoiceAllowed:v,getDutiableStatus:N,getTermsAndConditionsPopupVisibility:T,getSomParameters:r,getDefaultShipmentType:P,getDefaultShipmentDescription:b,getDefaultIntraEuDutiableStatus:G,getIntraEuDutiableStatus:k,getCustomsClearanceDefaults:c,getEstimatedDutiesAvailability:l,convertCsbvValue:g,mapEnhancedInvoiceDeclarations:j,isShipmentTypeDocument:M,isShipmentTypePackage:y,isServiceTypeSelectorAvailable:O,isShipmentAssigned:V,isShipmentEditMode:B,isReturnLabelPage:$,isRestoredShipment:H,isShipmentDutiable:_}}r.$inject=["$q","userService","shipmentTypeResource","shipmentFlowService"],t.__esModule=!0,t["default"]=r;var o=n(7),a=i(o),u=n(946),c=n(4),s=i(c);r.NG_NAME="shipmentTypeService"},function(e,t,n){"use strict";t.__esModule=!0;t.DEFAULT_VARIABLES={DOCUMENT_DESCRIPTION:0,PREDEFINED_DOCUMENT_DESCRIPTION:1,ADDITIONAL_DESCRIPTION:2,DEFAULTS_TYPE:3},t.DELIVERY_DEFAULTS="DELIVERY"},function(e,t,n){"use strict";t.__esModule=!0;t.ACTION_MODIFIED="modifiedSuccessful",t.ACTION_ADDED="addedSuccessful"},function(e,t,n){"use strict";function i(e){"ngInject";function t(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return[{value:o["default"].DANFE_KEY,label:e.SHIPMENT_ADDRESS.ADDRESS_DETAILS_SELECT_OPTION_DANFE},{value:o["default"].IMPORT_NF,label:e.SHIPMENT_ADDRESS.ADDRESS_DETAILS_SELECT_OPTION_IMPORT_NF_FILE},{value:o["default"].MANUAL_NON_DOC_EXEMPT,label:e.SHIPMENT_ADDRESS.ADDRESS_DETAILS_SELECT_OPTION_NONDOC_EXEMPT},{value:o["default"].MANUAL_NON_DOC_NOT_EXEMPT,label:e.SHIPMENT_ADDRESS.ADDRESS_DETAILS_SELECT_OPTION_NONDOC_NOT_EXEMPT},{value:o["default"].MANUAL_DOC,label:e.SHIPMENT_ADDRESS.ADDRESS_DETAILS_SELECT_OPTION_DOC},{value:o["default"].NOT_BRAZIL,label:e.SHIPMENT_ADDRESS.ADDRESS_DETAILS_SELECT_OPTION_NOT_BRAZIL}].filter(function(e){return!n.includes(e.value)})}return{getCteOptions:t}}i.$inject=["Messages"],t.__esModule=!0,t["default"]=i;var r=n(55),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="cteOptionsService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2001),o=i(r),a=n(117),u=i(a),c=n(2006),s=i(c),l=n(474),d=i(l),f=n(2007),p=i(f),m=n(2008),_=i(m),E=angular.module("shipment.type.itarBis",[o["default"],u["default"]]);E.directive(s["default"].NG_NAME,s["default"]).directive(_["default"].NG_NAME,_["default"]).service(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]),t.module=E,t["default"]="shipment.type.itarBis"},function(e,t,n){"use strict";function i(){return{itnNumber:"",einNumber:"",controlledExportTypeFields:{exportLicenseNumber:"",ultimateConsignee:""},shipmentExportType:"",commodityList:[],originTypes:{},isUnitsMismatched:!1,currentWeightUnit:"",ein:"",isRelated:!1}}t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";t.__esModule=!0;t.MASKED_ACCOUNT_SUFFIX="XXX",t.FULLY_MASKED_ACCOUNT="XXXXXXX"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={DELIVERED_AT_PLACE:"DAP",DELIVERED_DUTY_PAID:"DDP",EX_WORKS:"EXW"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(23),u=i(a),c=n(2056),s=i(c),l=n(2058),d=i(l),f=n(2059),p=i(f),m=n(2060),_=i(m),E=n(2061),S=i(E),g=n(2062),C=i(g),A=n(461),h=i(A),I="profile.shipmentSettings.shipmentTaxIds",v=angular.module(I,[o["default"],u["default"],h["default"]]);v.directive(s["default"].NG_NAME,s["default"]).directive(S["default"].NG_NAME,S["default"]).directive(C["default"].NG_NAME,C["default"]).factory(_["default"].NG_NAME,_["default"]).service(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]),t.module=v,t["default"]=I},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={SHIP_TO_COUNTRIES:"shipToCountries",SHIP_FROM_COUNTRIES:"shipFromCountries",TAX_ID_NICKNAME:"taxIdNickname",TAX_ID_TYPE:"taxIdType",TAX_ID_NUMBER:"taxIdNumber",FROM_COUNTRY_SELECTION:"fromCountrySelection",TO_COUNTRY_SELECTION:"toCountrySelection"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={declaredValue:"EQUAL_DECLARED",customValue:"CUSTOM_VALUE"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(135),u=i(a),c=n(2101),s=i(c),l=n(2102),d=i(l),f=angular.module("locator.service-point-selector",[o["default"],u["default"]]);f.directive(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]),t.module=f,t["default"]="locator.service-point-selector"},function(e,t,n){"use strict";t.__esModule=!0;t["default"]="963d867f-48b8-4f36-823d-88f311d9f6ef"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.USER_PROFILE_PICKUP_DEFAULTS=t.MAX_INSTRUCTION_LENGTH=undefined;var r=n(916),o=i(r),a=n(284),u=i(a),c=t.MAX_INSTRUCTION_LENGTH=255;t.USER_PROFILE_PICKUP_DEFAULTS={tabIsEditing:!1,rangeSliderOptions:{},pickupLocations:[],pickupSettings:{remotePickupDefaultType:o["default"].NO_SHIPPER,pickupDefaultType:u["default"].NONE,pickupDetails:{pickupLocation:null,pickupLocationType:"NONE",instructions:"",pickupWindow:{earliestTime:0,latestTime:0}},pickupAlertEnabled:!1,remotePickupModificationNotificationEnabled:!0,pickupConfirmationEnabled:!1},contactAddress:{phoneDetails:{phone:"",phoneCountryCode:""}},isContactAddressFilled:!0,isPhoneFilled:!0,pickupsDataInitialState:{},isPickupAddressVisible:!1,maxInstructionLength:c}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(925),o=i(r),a=n(2128),u=i(a),c=n(0),s=i(c),l=n(2132),d=i(l),f=n(2133),p=i(f),m=n(2134),_=i(m),E=angular.module("mailingList",[o["default"],u["default"],s["default"]]);E.service(p["default"].NG_NAME,p["default"]).service(_["default"].NG_NAME,_["default"]).directive(d["default"].NG_NAME,d["default"]),t.module=E,t["default"]="mailingList"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(8),o=i(r),a=n(961),u=i(a),c=n(962),s=i(c),l=n(404),d=i(l),f=n(503),p=i(f),m=n(2153),_=i(m),E=n(2155),S=i(E),g=n(2156),C=i(g),A="addressBook.contactInfo",h=angular.module(A,[u["default"],s["default"],d["default"],p["default"]]);h.directive(_["default"].NG_NAME,_["default"]).service(S["default"].NG_NAME,S["default"]).service(C["default"].NG_NAME,C["default"]),t.module=h,t["default"]=A,o["default"].addModule(A)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(2135),u=i(a),c="addressBook.contactInfo.contactEmails",s=angular.module(c,[o["default"]]);s.directive(u["default"].NG_NAME,u["default"]),t.module=s,t["default"]=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(2136),u=i(a),c="addressBook.contactInfo.contactExtendedData",s=angular.module(c,[o["default"]]);s.directive(u["default"].NG_NAME,u["default"]),t.module=s,t["default"]=c},function(e,t,n){"use strict";t.__esModule=!0;var i=n(45),r=function(e){return e&&e.__esModule?e:{"default":e}}(i);t["default"]={pickupSetting:{},paymentSetting:{},shippingSetting:{},mailingListSetting:{selectedMailingLists:[""]},contactDetails:{addressDetails:{residentialAddress:!1},phoneDetails:{},taxDetails:{},personalIdentifiableInformation:[],businessContactType:r["default"].PRIVATE},shareSetting:{},notifications:{emailNotifications:[],smsNotifications:[]}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=n(15),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=function(){function e(){i(this,e),Object.assign(this,{partyRole:null,contactKey:null,customer:new o["default"]})}return e}();t["default"]=a},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(2200),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o="manageShipments.common.error.handlers",a=angular.module(o,[]);a.service(r["default"].NG_NAME,r["default"]),t.module=a,t["default"]=o},,,function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{pickupTotalWeight:"<"+a,pickupTotalWeightSom:"<"+a+"Som",countryCode:"<"+a+"CountryCode",shipmentTotalWeightValue:"<?"+a+"TotalWeightValue",shipmentTotalWeightSom:"<?"+a+"TotalWeightSom",shipmentTotalWeightUpdated:"<?"+a+"TotalWeightUpdated",isLabelVisible:"<?"+a+"IsLabelVisible",inputClasses:"<?"+a+"InputClasses"},templateUrl:"dhl-pickup-weight-layout.html",controller:r,controllerAs:"pickupWeightCtrl"})}function r(e){"ngInject";function t(e){var t=e.countryCode,r=e.pickupTotalWeightSom,o=e.shipmentTotalWeightValue,a=e.shipmentTotalWeightSom;n(e),i(),(t||r)&&c(),(o||a)&&s()}function n(e){var t=e.pickupTotalWeight;t&&t.isFirstChange()&&r()&&u()}function i(){m.shipmentTotalWeightUpdated&&a()}function r(){return!(!m.pickupTotalWeight||!m.pickupTotalWeight.value)}function a(){m.isDirty=!1}function u(){m.isDirty=!0}function c(){m.pickupTotalWeightSom&&m.countryCode&&e.getAllowedWeight(m.pickupTotalWeightSom,m.countryCode).then(function(e){return m.allowedWeight=e})}function s(){if(m.pickupTotalWeight&&!m.isDirty){var e={value:m.shipmentTotalWeightValue,som:m.shipmentTotalWeightSom};Object.assign(m.pickupTotalWeight,e)}}function l(){return angular.isDefined(m.allowedWeight.max)&&angular.isDefined(m.allowedWeight.min)}function d(){return l()&&f()}function f(){return m.pickupTotalWeight.value>=m.allowedWeight.min&&m.pickupTotalWeight.value<=m.allowedWeight.max}function p(){return m.shipmentTotalWeightValue||o.MIN_VALUE_RESTRICTION}var m=this;Object.assign(m,{$onChanges:t,isWarningVisible:d,setDirty:u,getPickupMinValue:p,allowedWeight:{},isDirty:!1})}i.$inject=["component"],r.$inject=["pickupWeightService"],t.__esModule=!0,t["default"]=i,t.PickupWeightController=r;var o=n(239),a=i.NG_NAME="ewfPickupWeight"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(2288),u=i(a),c=angular.module("shipment.pickup.pickupAddress",[o["default"]]);c.directive(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="shipment.pickup.pickupAddress"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o,u,s){"ngInject";function d(e,t){var n=t.fromCustomer,i=t.airWayBillNumber,r=t.pieces,o=t.paymentInfo,u=n.name,c=n.email,s=n.company,l=n.address,d=n.phoneDetails,_={name:u,company:s,email:c,pickupLocation:l,phoneDetails:d};return e.accountOption={value:a["default"].airWayBillNumber},e.airWayBillNumber=i,f(e,o),p(e,r),m(e,{pickupDetails:_})}function f(e,t){e.paymentInfo=t}function p(e,n){if(n.length){var i=t("calculateTotal");e.packages={weight:{value:i(n,"weight","quantity"),som:r.getUOMDimension(n[0].unit)},quantity:i(n,"quantity")}}}function m(e,t){return _(e,t)}function _(t,i){var r=i.pickupDetails.pickupLocation;return r?n.normalizeContact(r).then(function(e){Object.assign(t.pickupAddress,e),E(t,i.pickupDetails),S(t,i.pickupDetails),t.pickupAddress.addressDetails.residentialAddress=r.addressType===l["default"].RESIDENTIAL}):e.when()}function E(e,t){var n=t.phoneDetails;e.pickupAddress.phoneDetails=n}function S(e,t){var n=t.name,i=t.company,r=t.email;Object.assign(e.pickupAddress,{name:n,company:i,email:r})}function g(e,t){C(e,t),A(e,t.instructions),h(e,t.pickupWindow)}function C(e,t){var n=t.pickupLocationType,i=t.pickupLocationOtherDescription;e.pickupLocation=n?{code:n}:e.pickupLocation,e.pickupLocationOtherDescription=i||e.pickupLocationOtherDescription}function A(e,t){e.pickupSpecialInstructions=e.pickupSpecialInstructions||t}function h(e,t){if(t&&Object.keys(t).length&&e.pickupWindow){var n=t.earliestTime,r=t.latestTime;e.pickupWindow.readyByTime=n&&i.getShortTimeToMin(n),e.pickupWindow.closeTime=r&&i.getShortTimeToMin(r)}}function I(t,n){return t.pickupAddress?v(t,n):e.when()}function v(e,t){var i=e.pickupAddress;return n.normalizeContact(t).then(function(e){return Object.assign(i,e)})}function N(e){var t={pickupDetails:$.getPickupDetails(e),packageList:T(e),numberOfPackages:e.packages.quantity,largestPackageDimensions:y(e.packages),totalWeight:O(e.packages.weight),needCourier:e.needCourier,pickupType:e.pickupType,bookingReferenceNumber:e.bookingReferenceNumber};return Object.assign(t,D(e))}function T(e){return e.needCourier?e.packaging.map(function(e){return{id:e.id,quantity:e.quantity}}):[]}function M(e){var t=e.pickupLocation,r=e.pickupLocationOtherDescription,o=r===undefined?"":r,a=e.pickupSpecialInstructions,u=e.pickupDate,c=e.pickupAddress,l=e.pickupWindow,d={pickupLocationType:t&&t.code||"",pickupLocationOtherDescription:o,instructions:a,pickupDate:u,pickupWindow:l&&i.getFormattedPickupWindow(l)};if(c){var f=c.email,p=c.phoneDetails,m=c.phoneDetails2;Object.assign(d,{pickupLocation:n.getFormattedPickupAddress(c),email:f,phoneDetails:s.create(p),phoneDetails2:s.create(m)})}return d}function y(e){var t=e.height,n=e.width,i=e.length,o=e.som;return{unit:o&&r.getUOMValue(o,!0)||"",height:t,width:n,length:i}}function O(e){var t=e.som,n=e.value;return{unit:r.getUOMValue(t),value:n}}function D(e){var t={airWayBillNumber:e.airWayBillNumber||null,accountDetails:null};return R(t,e),b(t,e),L(t,e),t}function P(e){return e&&[c["default"].DHL_ACCOUNT,c["default"].ALTERNATE_DHLACCOUNT].includes(e.paymentMethod)}function R(e,t){var n=t.paymentInfo,i=n?n.transportation:null;P(i)&&(e.accountDetails=u.map(i,["accountId","accountNumber","accountCountry"]),e.accountDetails.accountType=i.paymentMethod)}function b(e,t){o.isDhlAccountOptionSelected(t)&&(e.accountDetails={accountId:t.userAccount.key,accountNumber:null,accountCountry:null,accountType:c["default"].DHL_ACCOUNT})}function L(e,t){o.isAlternateOptionSelected(t)&&(e.accountDetails={accountId:null,accountNumber:t.dhlAccount.number,accountCountry:t.dhlAccount.countryCode,accountType:c["default"].ALTERNATE_DHLACCOUNT})}function G(e,t){return k(e,t),F(e,t),B(e,t.pickupDetails.pickupDate),$.initPickupDetails(e,t.pickupDetails),$.initPickupAddress(e,t.pickupDetails).then(function(){return e.pickupType=t.pickupType,e})}function k(e,t){e.accountOption={},t.accountDetails?U(e,t):w(e,t)}function w(e,t){e.airWayBillNumber=t.airWayBillNumber,e.accountOption.value=a["default"].airWayBillNumber}function U(e,t){e.accountOption.value=a["default"].iHaveDhlAccountNumber,e.airWayBillNumber=t.airWayBillNumber||null,t.accountDetails.accountType===c["default"].DHL_ACCOUNT?(e.userCanSelectAccountFromProfile=!0,e.userAccount={key:t.accountDetails.accountId,accountNumber:t.accountDetails.accountNumber,paymentType:c["default"].DHL_ACCOUNT}):e.dhlAccount={number:t.accountDetails.accountNumber,countryCode:t.accountDetails.accountCountry}}function F(e,t){var n=t.totalWeight,i=t.numberOfPackages,r=t.needCourier;e.needCourier=r,angular.isDefined(i)&&(e.packages.quantity=i),n&&e.packages&&(e.packages.weight=n),j(e,t.largestPackageDimensions),V(e,t.packageList)}function j(e,t){t&&(e.packages.length=t.length,e.packages.height=t.height,e.packages.width=t.width,e.packages.dimensionsUnits=t.unit)}function V(e,t){t&&t.length&&(e.packaging=t)}function B(e,t){e.pickupDate=t}var $={populateModelWithShipmentData:d,populateModel:m,getServerData:N,getPickupDetails:M,initPickupDetails:g,initPickupAddress:I,populateModelWithStandAlonePickupData:G};return $}r.$inject=["$q","$filter","pickupAddressService","pickupWindowService","somService","labelReferenceService","objectMapperService","phoneDetailsFactory"],t.__esModule=!0,t["default"]=r;var o=n(971),a=i(o),u=n(6),c=i(u),s=n(56),l=i(s);r.NG_NAME="pickupMapper"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={airWayBillNumber:"airWayBillNumber",iHaveDhlAccountNumber:"iHaveDhlAccountNumber"}},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function a(e){return t.getLocalTime(e)}function u(e){var n=t.stringShortTimeToMin(e.pickupCutoffTime),i=t.stringShortTimeToMin(e.bookingCutoffOffset,!0),r=n-i;return{date:r<0?t.getNearestDay(e.pickupDate,!0):e.pickupDate,time:r<0?1440+r:r}}function c(e,t,n){return t&&n&&t>=e.earliestPickup&&t>=e.minReadyByTime&&n-t>=e.customerPickupWindow&&n<=e.latestPickup}function s(e,n){var i=t.getReadyByTime(e.pickupStartTime,n,e.pickupDate),r=u(e),o=t.stringShortTimeToMin.bind(t.stringShortTimeToMin);return I=t.isTwelveHourClock(),{earliestPickup:o(e.pickupStartTime),latestPickup:o(e.pickupEndTime),readyByTime:i,closeTime:o(e.pickupEndTime),bookingCutoffOffset:o(e.bookingCutoffOffset,!0),customerPickupWindow:o(e.customerPickupWindow),pickupCutoffTime:o(e.pickupCutoffTime),minReadyByTime:i,latestBooking:t.getFormattedTime(r.time,I)}}function l(e,n){var i=t.parseTimeOffset(n);return{month:t.getLocalizedMonth(e),date:t.getFormattedDate(e,"d"),day:t.getFormattedDay(e,i)}}function d(n,i,r){return n&&r?a(i).then(function(e){var i=e.localTime,o=e.localDate;return r<=o&&t.stringShortTimeToMin(i)>u(n).time}):e.when(!1)}function f(e){return t.getFormattedTime(e,I)}function p(e,n){return t.isToday(e,n)}function m(e){return{earliestTime:t.getFormattedTime(e.readyByTime),latestTime:t.getFormattedTime(e.closeTime)}}function _(e){return{pickupStartTime:e.pickupStartTime,pickupEndTime:e.pickupEndTime,pickupCutoffTime:e.pickupCutoffTime,bookingCutoffOffset:e.bookingCutoffOffset,customerPickupWindow:e.customerPickupWindow,pickupDate:e.pickupDate}}function E(e){return I=t.isTwelveHourClock(),t.stringShortTimeToMin(e)}function S(e){return n.isPickupAddressDefined(e)}function g(e){if(!e.pickupCutoffTime)return void(e.warningMessage=!1);var t=e.pickupCutoffTime,n=e.readyByTime||0;e.warningMessage=n>t}function C(t,n){if(!t)return e.when(!1);var o=[r.getBoolean(r.CI_KEYS.CI1381_ALLOW_SATURDAY_PICKUP,n),i.getWeekendsForCountry(n)];return e.all(o).then(function(e){var n=e[0],i=e[1];return n||!A(t,i)})}function A(e,t){var n=new Date(e),i=o["default"][n.getUTCDay()];return t.includes(i)}function h(){return t.getFormattedDate(new Date,"yyyy-MM-dd")}var I=!1;return{getLocalTime:a,getLatestBooking:u,getPickupWindow:s,getPickupDate:l,getFormattedPickupTime:f,getFormattedPickupWindow:m,getNewProductPickupWindow:_,getShortTimeToMin:E,getShortPickupDate:function(){function e(e){return t.getShortDate(e)}return e}(),isValidPickupWindow:c,isPickupScheduledToday:p,isBookingCutoffDatePassed:d,isPickupAddressValid:S,checkPickupCutoffWarningMessage:g,isPickupDateAvailable:C,getFormattedCurrentDate:h}}i.$inject=["$q","dateTimeService","pickupAddressService","locationService","configService"],t.__esModule=!0,t["default"]=i;var r=n(2309),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="pickupWindowService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o,u,s,d){"ngInject";function p(){return u.getUserProfileDefaults()}function _(t,i,r){return r?e.when([!0]):n.hasDhlAccounts()?e.all([p(),C(t,i)]).then(function(e){var t=e[0],n=e[1],i=n[0],r=n[1];return[i||!k(t),r]}):u.fetchPickupMandatoryForNonAccountUser(i).then(function(e){return[!0,e]})}function S(t){var n=o.create(t).getPayload();return n?u.getBookingReferenceNumber(n).then(function(e){var t=e.data;return t&&t[0]||null})["catch"](function(){return null}):e.when(null)}function g(e){return u.fetchAdditionalChargesNecessity(e)}function C(t,n){return t.hasAccounts()?t.isTransportationAccountGcdbTypeCash()?u.fetchPickupOptionalityForCashAccountPayment().then(function(e){return[!e]}):e.when([!1]):u.fetchPickupMandatoryForNonAccountUser(n).then(function(e){return[e,e]})}function A(e,t){return C(e,t).then(function(e){return e[0]})}function h(e){return u.fetchDropOffFlag(e)}function I(e){return u.fetchDefaultPickupStatus(e)}function v(t){var n=t.shipmentCountry,i=t.isRpaShipment,r=t.isImportShipment,o=t.product,a=y()||o&&o.isFutureDate,u=!a&&i;return a||i?e.when([!1,u]):N(n,r).then(function(e){return[e]})}function N(e,t){return t?M(e):u.fetchPickupActivity(e)}function T(){return r.getB2lRestrictions().then(function(e){return e.pickupSection!==f["default"].HIDDEN})}function M(t){var n=[u.fetchPickupActivity(t),u.fetchRemotePickupAvailability(),u.fetchRemotePickupOrderStatus(t)];return e.all(n).then(function(e){var t=e[0],n=e[1],i=e[2];return t&&n&&i})}function y(){return!n.getCoreRestriction(a["default"].ALLOW_SCHEDULE_PICKUP)}function O(){return!t.getParamFromUrl(c["default"].B2L_SHIPMENT)}function D(e,t){return u.fetchMaxPickupDaysCount(t).then(function(t){return e.setDate(e.getDate()+t),e})}function P(e,t,n){return D(i.normalizeDate(t),n).then(function(t){return i.normalizeDate(e)<=t})}function R(e){return!e.isPickupRequired()||e.isPickupDateValid}function b(){var e=t.getBasePath(),n=""+e+l["default"].PROFILE_DETAILS,i=d.SHIPMENT_PICKUP.SCHEDULE_PICKUP_ALERT_NO_ADDRESS,r=d.SHIPMENT_PICKUP.SCHEDULE_PICKUP_LINK_USER_DETAILS;return s(i,{userDetailsLink:"<a href='"+n+"' target='_blank'>"+r+"</a>"})}function L(e){return e&&e.pickupDefaultType}function G(e){return L(e)===m["default"].YES_COURIER}function k(e){return L(e)===m["default"].NO_SCHEDULED}function w(e){return L(e)===m["default"].NO_DROP_OFF}function U(e){return k(e)||w(e)}function F(e){e.isShipperWillSchedule()&&e.isShipperWillScheduleHidden&&u.skipPickupInfoBoxes(K)}function j(e,t,n){n||U(t)?e.setDropOffNeeded(w(t)):G(t)&&e.setPickupNeeded()}function V(e,t){t&&![E["default"].SHIPPER_WILL_SCHEDULE,E["default"].PICKUP].includes(e.pickupOption)&&e.resetPickupOption()}function B(e){n.isAuthorized()||Y||(Y=!0,e.resetPickupOption())}function $(e,t){return n.getCorporateCountryCode()!==e&&(n.isRegularWithVirtualGroup()||t)}function H(e,t){return!x()&&!e&&t}function x(){return!!t.getParamFromUrl(c["default"].RB_SHIPMENT)}var K="SHIPPER_INFO_BOX",Y=!1;return{retrieveBookingReferenceNumber:S,fetchAdditionalChargesRequiredStatus:g,fetchPickupMandatoryFlag:A,fetchDropOffFlag:h,fetchDefaultPickupStatus:I,fetchB2lPickupAvailability:T,getMaxPickupDate:D,getProfileAddressAlertMessage:b,getUserProfileDefaultValues:p,processPickupInfoBoxes:F,setExportPickupDefaults:j,resetPickupOptionForImportShipmentIfNeeded:V,resetPickupOptionOnceForUnauthorizedUser:B,isPickupRestricted:y,isPickupAvailable:v,isPickupAddressVisible:O,isPickupTypeYes:G,isPickupDateValid:P,isAllowedPickupOptionSelected:R,isPickupVisibleByDefault:_,isAuthorizedPickupRestrictedForUser:$,isAuthorizedPickupAllowedForShipment:H,isRemoteBooking:x}}r.$inject=["$q","pathService","userService","dateTimeService","b2lRestrictionsService","pickupSearchFactory","pickupResource","replaceFilter","Messages"],t.__esModule=!0,t["default"]=r;var o=n(36),a=i(o),u=n(1),c=i(u),s=n(21),l=i(s),d=n(46),f=i(d),p=n(284),m=i(p),_=n(617),E=i(_);r.NG_NAME="pickupService"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){"ngInject";function t(e){return new r(e)}var n=["pickupDate",{key:"pickupAddress",propertyMap:["countryCode","city","zipOrPostCode","addrLine1","addrLine2","addrLine3"]}],r=function(){function t(r){i(this,t);var o=e.mapEmptyValuesToNull(e.map(r,n));Object.assign(this,o)}return t.prototype.getPayload=function(){function e(){var e=this.pickupAddress,t=e.countryCode,n=e.city,i=e.zipOrPostCode,r=e.addrLine1,o=e.addrLine2,a=e.addrLine3;return[t,n,r,this.pickupDate].every(Boolean)?{pickupDate:this.pickupDate,pickupAddress:{countryCode:t,city:n,zipOrPostCode:i,addrLine1:r,addrLine2:o,addrLine3:a}}:null}return e}(),t}();return{create:t}}r.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=r,r.NG_NAME="pickupSearchFactory"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"labelReferenceCtrl",bindings:{model:"="+o,accountInvalidError:"=?"+o+"AccountInvalidError",isDashboard:"<?"+o+"IsDashboard",onCreateSelected:"&?"+o+"OnCreateSelected"},templateUrl:function(){function e(e,t){return t[o+"TemplateUrl"]||"label-reference.html"}return e}()})}function r(e,t,n,i,r,o){"ngInject";function a(){C(),l(),A(),u(),b.isPickupNeeded&&_();var e=b.model.accountOption&&b.model.accountOption.value;e&&(b.isPickupNeeded=!!e)}function u(){e.$watch(function(){return b.isPickupNeeded},function(e,t){e!==t&&b.onLabelReferenceChange()}),e.$watch(S,function(e){e||(b.accountInvalidError=null)}),e.$watchCollection(function(){return{countryCode:b.model.dhlAccount.countryCode,accountNumber:b.model.dhlAccount.number}},c)}function c(e){e.accountNumber&&e.countryCode&&(G=!0,o.requestAccountStatus(e).then(function(e){e.validCountry=e.accountCountryCode===b.model.dhlAccount.countryCode,s(e),f()||_(),e.validCountry||h()})["catch"](function(){return s(null)}))}function s(e){b.accountStatus=e,G=!1}function l(){i.getUserAccounts().then(function(e){b.dhlAccounts=e,b.model.userCanSelectAccountFromProfile=!!e.length})}function d(e){b.model.dhlAccount.countryCode=e.code2}function f(){return!b.accountStatus||b.accountStatus.importAccount}function p(){b.isPickupNeeded?_():m()}function m(){b.onCreateSelected?b.onCreateSelected():n.redirectToCreateShipment()}function _(){t.isAuthorized()?b.model.dhlAccount.countryCode=t.getUserCountry():r.getDashboardCountry().then(function(e){var t=e.code;return b.model.dhlAccount.countryCode=t})}function E(){return i.isWaybillOptionSelected(b.model)}function S(){return i.isAlternateOptionSelected(b.model)}function g(){return!(!b.dhlAccounts||!b.dhlAccounts.length||i.isWaybillOptionSelected(b.model))&&(i.isDhlAccountOptionSelected(b.model)||i.isAlternateOptionSelectedInDhlAccounts(b.model))}function C(){i.getLabelReferencesOptions().then(function(e){b.labelReferenceOptions=e,1===e.length&&(b.model.accountOption=e[0])})}function A(){i.getNumberOfAttemptsAfterWhichUserShouldBeLocked().then(function(e){return b.numberOfAttemptsAfterWhichUserShouldBeLocked=e})}function h(){b.numberOfAttemptsAfterWhichUserShouldBeLocked&&++L>=b.numberOfAttemptsAfterWhichUserShouldBeLocked&&n.lockUser()}function I(){return G&&k!==undefined||(k=!b.model.dhlAccount.number||!b.isEnteredAccountImport()),k}function v(){var e={accountOption:b.model.accountOption,dhlAccount:b.model.dhlAccount,userAccount:b.model.userAccount,airWayBillNumber:b.model.airWayBillNumber,phone:b.model.phone};i.setDashboardPickup(e),n.redirectToPickupFromDashboard()}function N(e){return e&&e.name||e.accountNumber+" "+e.accountNickname}function T(e){return!e||i.validateDhlAccount(e).then(function(e){var t=e.valid,n=e.msg;return w=n,t})}function M(){return w}function y(e){b.accountInvalidError=e.isValid?null:e.msg}function O(){var e=b.model.dhlAccount;return!!(t.isAuthorized()&&e.number&&e.countryCode)}function D(){var e=b.model,t=e.isRestoreFromToken;return!e.hasDefaultPickupAddress&&!t}function P(){b.isDashboard||r.initPickupAddressFromPhone(b.model)}function R(e){b.model.accountOption=e}var b=this,L=0,G=void 0,k=void 0;Object.assign(b,{labelReferenceOptions:[],$onInit:a,onLabelReferenceChange:p,isWaybillSectionVisible:E,isAlternateSectionVisible:S,isDhlAccountsSectionVisible:g,onCountrySelect:d,isEnteredAccountImport:f,onAccountCountryValidationFail:h,isCountryFieldDisabled:I,saveDashboardTemplateAndRedirectToPickup:v,getDhlAccountOptionLabel:N,validateDhlAccount:T,getAccountValidationErrorMessage:M,onEsecureValidationResult:y,onPhoneOrWaybillBlur:P,isEsecureValidationEnabled:O,isPhoneVisible:D,setAccountOption:R,countryFieldDisabled:!1,numberOfAttemptsAfterWhichUserShouldBeLocked:null,accountStatus:null});var w=void 0}i.$inject=["component"],r.$inject=["$scope","userService","schedulePickupAvailabilityService","labelReferenceService","schedulePickupService","accountValidationService"],t.__esModule=!0,t["default"]=i,t.LabelReferenceController=r;var o=i.NG_NAME="ewfLabelReference"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o,u,s,l,d,f){"ngInject";function p(){return{value:a["default"].airWayBillNumber,label:r.SCHEDULE_MANAGE_PICKUP.LABEL_REFERENCE_SELECT_OPTION_RETURN_SHIPMENT_OR_RECEIVER}}function m(e){return e?[{value:a["default"].iHaveDhlAccountNumber,label:r.SCHEDULE_MANAGE_PICKUP.LABEL_REFERENCE_SELECT_OPTION_I_HAVE_A_DHL_ACCOUNT_NUMBER}]:[]}function _(){return f.fetchPickupAuthorizedLocationsAvailability()}function E(){var e=n.CI_KEYS.CI0992_OPTIONS_OFFERED_TO_THE_GUEST_CUSTOMER_STANDALONE_PICKUP;return n.getSourceData(e)}function S(e,t){var n=t.allowAccountsForPickup;return t.accounts.length||e===H?[p()].concat(m(n)):e===B?[p()]:e===$?[].concat(m(n)):void 0}function g(){return t.all([_(),E(),A()]).then(C)}function C(e){var t=e[0],n=e[1],i=e[2];return t?[p()].concat(m(i.accounts.length)):S(n,i)}function A(){return i.isAuthorized()?h():t.when({accounts:[],allowAccountsForPickup:!0})}function h(){var e=[s.getPickupAccounts(),_(),s.getPickupAccountsOtherOptions()];return t.all(e).then(I)}function I(e){var t=e[0],n=e[1],i=e[2],r=i.allowAlternate,a=i.allowAccountsForPickup,u=angular.copy(t);return t.length&&r&&!n&&u.push(o.getAlternateDHLAccountOption()),{accounts:u,allowAlternate:r,allowAccountsForPickup:a}}function v(){return A().then(function(e){return e.accounts})}function N(e){return!(!e||!e.accountOption||e.accountOption.value!==a["default"].airWayBillNumber)}function T(e){return!M(e)&&(!e.userCanSelectAccountFromProfile||!o.isDHLAccount(e.userAccount)&&D(e))}function M(e){return!e||!e.accountOption||e.accountOption.value!==a["default"].iHaveDhlAccountNumber}function y(e){return e&&e.accountOption&&e.accountOption.value===a["default"].iHaveDhlAccountNumber&&e.userCanSelectAccountFromProfile&&(!e.userAccount||!!o.isDHLAccount(e.userAccount))}function O(e){return T(e)||y(e)}function(){}function P(){return n.getSourceData(n.CI_KEYS.CI1093_NUMBER_OF_INVALID_ACCOUNT_NUMBER_ENTRY_ATTEMPTS)}function R(t){e[x]=t}function b(){if(l.getParamFromUrl(c["default"].DASHBOARD_PICKUP)){var t=e[x];return delete e[x],t}return!1}function L(e){return e.importAccount?G(e):u.validateAccount(e,{})}function G(e){return k().then(function(n){return n?u.validateAccount(e,{}):t.when({valid:!1,msg:d.SCHEDULE_PICKUP.IMPORT_ACCOUNT_IS_NOT_ALLOWED_FOR_PICKUP})})}function k(){return n.getBoolean(n.CI_KEYS.CI0882_ALLOW_USAGE_OF_IMP_FOR_PICKUP)}function w(e){return y(e)&&e.userAccount&&e.userAccount.key||null}function U(e){return e.paymentInfo?F(e.paymentInfo):w(e)}function F(e){var t=e.transportation;return o.isDHLAccount(t)&&t.accountId}function j(e){return y(e)?e.userAccount.accountNumber:T(e)?e.dhlAccount.number:null}function V(e){return u.requestAccountStatus(e,null,!0)}var B="onlyWaybillNumber",$="onlyDhlAccountNumber",H="bothDhlAccountNumberAndWaybillNumber",x="dashboard_pickup";return{getLabelReferencesOptions:g,getUserAccounts:v,isWaybillOptionSelected:N,isAlternateOptionSelected:T,isDhlAccountOptionSelected:y,isAnyAccountSelected:O,isAlternateOptionSelectedInDhlAccounts:D,getNumberOfAttemptsAfterWhichUserShouldBeLocked:P,setDashboardPickup:R,getDashboardPickup:b,validateDhlAccount:L,getDhlAccountId:U,getAccountNumber:j,requestAccountStatus:V}}r.$inject=["$sessionStorage","$q","configService","userService","Messages","paymentTypeService","accountValidationService","paymentAccountService","pathService","validationMessages","pickupAuthorizedLocationService"],t.__esModule=!0,t["default"]=r;var o=n(971),a=i(o),u=n(1),c=i(u);r.NG_NAME="labelReferenceService"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n){e(function(){return n.find("[autofocus]").focus()})}return{restrict:"A",link:t}}i.$inject=["$timeout"],t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfAutofocus"},function(e,t,n){"use strict";function i(){function e(e,t,n){e.$watch(n[r],function(e){e&&t.focus()}),n[r+"OnBlurLock"]&&t.on("blur",function(){return t.focus()})}return{restrict:"A",link:e}}t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfConditionalFocus"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n,a,u){var c=u[r+"Class"]||i,s=!1;a.bind("click",function(){if(!s){s=!0,a.addClass(c);var i=n.$eval(u[r]);e.when(i)["finally"](function(){t(function(){a.removeClass(c),s=!1},o)})}})}var i="disabled",o=500;return{restrict:"A",link:{pre:n}}}i.$inject=["$q","$timeout"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfClick"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n,i){var o=t.$eval(i[r+"Once"]),a=t.$watch(function(){return t.$eval(i[r])},function(i){i&&(n.html(i),e(n.contents())(t),o&&a())})}return{restrict:"A",link:t}}i.$inject=["$compile"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfCompileHtml"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n,i){var o=void 0,a=t.$watch(i[r],function(i){if(!i)return o=n.html(),void n.html("");var r=angular.element(o||n.html());n.html(r),e(r)(t),a()})}return{restrict:"A",terminal:!0,link:{pre:t}}}i.$inject=["$compile"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfCompileOnceIf"},function(e,t,n){"use strict";function i(e){"ngInject";return{restrict:"A",controller:o["default"],controllerAs:"personaTypeCtrl",link:{pre:function(){function t(t,n,i,r){if("true"===i[a+"IsPreviewMode"]){var o=e.getParamFromUrl("user"),u=e.getParamFromUrl("account");r.init(o,u)}r.loadUserInfo().then(function(e){var t=e.personaTypes.map(function(e){return"pt-"+e}).join(" ");n.addClass(t),n.addClass("ah-"+e.accountHolder)})}return t}()}}}i.$inject=["pathService"],t.__esModule=!0,t["default"]=i;var r=n(1133),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfPersonaType"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){"ngInject";function n(e,t){u.userParam=e,"yes"===t?u.accountParam=d:"no"===t&&(u.accountParam=f)}function i(){return e.all({personaTypes:u.userParam?[u.userParam]:r(),accountHolder:u.accountParam||o()})}function r(){return t.whoAmI().then(function(e){return[(e.personaType||a["default"].GUEST).toLowerCase(),(e.corporateRole||c["default"].END_USER).toLowerCase().replace("_","-")]})["catch"](function(){return[s,l]})}function o(){return t.retrieveAccountHolderStatus(!0).then(function(e){return e?d:f})["catch"](function(){return f})}var u=this,s="guest",l="end-user",d="account-holder",f="not-account-holder";Object.assign(u,{userParam:null,accountParam:null,init:n,loadUserInfo:i})}r.$inject=["$q","userService"],t.__esModule=!0,t["default"]=r;var o=n(434),a=i(o),u=n(79),c=i(u)},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n){function i(){e.getCurrencyDecimalPoint(t.currency).then(r)}function r(){var i=arguments.length<=0||arguments[0]===undefined?null:arguments[0],r=t.isCurrencyShown?t.currency:null;e.format(t.priceValue,i,r).then(function(e){return n.text(e)})}t.$watch("priceValue",i)}return{restrict:"A",scope:{priceValue:"="+r,currency:"="+r+"Currency",isCurrencyShown:"="+r+"IsCurrencyShown"},link:t}}i.$inject=["priceService"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfPrice"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){if(i){var r=n.name,o=n.ngForm;o||"FORM"===t.prop("tagName")?i.addFormToExclusionList(o||r):i.addFieldToExclusionList(r)}}return{restrict:"A",require:"^?ewfSaveToLocalStorage",link:e}}t.__esModule=!0,t["default"]=i,i.NG_NAME="excludeFromLocalStorage"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n,i,r){function o(e){Object.keys(e).forEach(function(n){if(!n.startsWith("$")||n===u){var i=e.$name;r.addFormToExclusionList(i),t.$watchCollection(i,a)}})}function a(e){e&&!r.isFormInExclusionList(e.$name)&&o(e),r.populateFormFromLocalStorage(e)}var u="$removeControl",c=i.ngForm||i.name,s=t[c],l=!0;r.init(c),o(s),(e.addEventListener||e.attachEvent)("beforeunload",function(){l&&r.saveDataToLocalStorage(s)}),n.on("submit",function(){r.clearStorageData(),l=!1})}return{restrict:"A",scope:!0,controller:o["default"],controllerAs:"saveToLocalStorageCtrl",link:t}}i.$inject=["$window"],t.__esModule=!0,t["default"]=i;var r=n(1137),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfSaveToLocalStorage"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e){o(e)&&(g=e,C=c())}function i(e){o(e)&&(E[e]=!0)}function r(e){return!!E[e]}function o(e){return!!e||(t.error('There are no "name" attribute on form.'),!1)}function a(e){return Object.keys(e).filter(function(e){return!S[e]})}function u(e,t){var n=e.startsWith("$")&&"$viewValue"!==e,i=f(t)||t&&t.hasOwnProperty(_);return n||i?undefined:t}function c(){var t=e.localStorage.getItem(g);return"undefined"===t?undefined:e.JSON.parse(t)}function s(n){var i=void 0;try{i=e.JSON.stringify(n,u)}catch(r){t.error('Error saving form "'+g+"'\" to local storage: "+r)}e.localStorage.setItem(g,i)}function l(e){if(C&&e){a(e).forEach(function(t){var n=e[t],i=C[t];n&&i&&n.$pristine&&(n.$setViewValue(i.$viewValue),n.$render())})}}function d(e){e&&(S[e]=!0)}function f(e){return!e||(e.hasOwnProperty("length")?!e.length:!!e.hasOwnProperty("$viewValue")&&!e.$viewValue)}function p(){e.localStorage.setItem(g,null)}var m=this,_="$removeControl",E={},S={$error:!0,$name:!0,$dirty:!0,$pristine:!0,$valid:!0,$invalid:!0,$addControl:!0,$removeControl:!0,$setValidity:!0,$setDirty:!0,$setPristine:!0,$modelValue:!0},g=void 0,C=void 0;Object.assign(m,{init:n,populateFormFromLocalStorage:l,saveDataToLocalStorage:s,clearStorageData:p,addFormToExclusionList:i,isFormInExclusionList:r,addFieldToExclusionList:d})}i.$inject=["$window","logService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){function e(e,t,n,i){i.$onInit(n[a]),e.$watch(function(){return i.isVisible},function(e){return t.toggleClass("is-hidden",!e)})}return{restrict:"A",controller:o["default"],controllerAs:"showOnceCtrl",scope:!0,link:{pre:e}}}t.__esModule=!0,t["default"]=i;var r=n(1139),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfShowOnce"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t){n.isVisible=e.isMarkedToBeShown(t),n.isVisible&&(e.markAsShown(t),n.options=e.getStorageOptions(t))}var n=this;Object.assign(n,{isVisible:!1,$onInit:t})}i.$inject=["showOnceService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){return{restrict:"A",link:function(){function e(e,t){t.addClass("sticky-position")}return e}()}}t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfStickyPosition"},function(e,t,n){"use strict";function i(){"ngInject";function e(e,t,n,i){var o=void 0,a=n[r+"On"]||"click",u=n[r+"Once"],c=n[r+"ProhibitEmpty"];n[r+"Alternate"]?(i.$parsers.unshift(function(e){return i.$viewValue=e||" "}),i.$parsers.push(function(e){return" "===e?"":e}),o=function(){return e.$apply(function(){return i.$setViewValue(i.$viewValue)})}):o=function(){var t=i.$viewValue;c&&!t||(" "===i.$viewValue&&i.$setViewValue(null),i.$setViewValue(" "),e.$apply(function(){return i.$setViewValue(t||" ")}))},t.bind(a,function(){o(),u&&t.unbind(a,o)})}return{restrict:"A",require:"ngModel",link:e}}t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfTypeaheadCustomOpen"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,r,c,s){function l(r,s){function l(){m&&e.cancel(m)}function f(){_.isAmsSearchOn=!0,d.$setViewValue(S)}if(!_.isAmsSearchOn){var p=_.addresses,E=p&&p.length,S=d.$viewValue,g=S&&S.length;if(n({newArr:r,oldArr:s,isFakeKeyQuery:S===o["default"],currentValue:S})){var C=t.$eval(c[a]),A=C.charsIfNoMatchInAb,h=C.charsIfMatchInAb,I=C.timeBeforeAmsSearch;if(i({currentValueLength:g,charsIfNoMatchInAb:A,searchResults:p,searchResultsLength:E}))return l(),void f();u({currentValue:S,charsIfMatchInAb:h,searchResultsLength:E})&&(l(),m=e(f,1e3*I))}}}var d=s[0],f=s[1],p=s[2],m=void 0,_=f||p;t.$watchCollection(function(){return[d.$viewValue,_.addresses]},l)}function n(e){var t=e.newArr,n=e.oldArr,i=e.isFakeKeyQuery,r=e.currentValue;return!angular.equals(t,n)&&!i&&r}function i(e){var t=e.currentValueLength,n=e.charsIfNoMatchInAb,i=e.searchResults,o=e.searchResultsLength;return t>=n&&r(i,o)}function r(e,t){var n=e&&!!e[0]&&!!e[0].data;return 1===t&&!n||0===t}function u(e){var t=e.currentValue,n=e.charsIfMatchInAb,i=e.searchResultsLength;return t.length>=n&&i>1}return{restrict:"A",require:["ngModel","?^ewfAddressSearch","?^ewfAddressField"],link:t}}i.$inject=["$timeout"],t.__esModule=!0,t["default"]=i;var r=n(435),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfTypeaheadTrigger"},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"typeaheadItemStylesCtrl"}}t.__esModule=!0,t["default"]=i;var r=n(1144),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfTypeaheadItemStyles"},function(e,t,n){"use strict";function i(){"ngInject";function e(e){var t=e.data,c=t===undefined?{}:t,s=e.group;return c.favoriteShipFrom||c.favoriteShipTo||s===r?n:[o,u,a].includes(s)?i:void 0}var t=this,n="in-favorites",i="in-address-book",r="To Favorites",o="From Address Book",a="Search Addressbook",u="Search Address Book";Object.assign(t,{getStyles:e})}t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){"ngInject";function e(e,t,n,i){var r=function(){var e=arguments.length<=0||arguments[0]===undefined?"":arguments[0],n=e.toUpperCase();if(n!==e){var r=t[0].selectionStart;i.$setViewValue(n),i.$render(),t[0].selectionStart=r,t[0].selectionEnd=r}return n};i.$parsers.push(r),r(e[n.ngModel])}return{restrict:"A",require:"ngModel",link:e}}t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfUppercaseInput"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){function r(e){var t=angular.isString(e)?e.replace(/^\s*/,""):e;return t===e?e:(i.$setViewValue(t),i.$render(),o.selectionStart=o.selectionEnd=0,t)}var o=t[0];i.$parsers.push(r)}return{restrict:"A",require:"ngModel",link:e}}t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfNoStartSpacesInput"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e){var t=/[\^\$\.\*\+\?\(\)\[\]\{\}\|]/g;return e.replace(t,"\\$&")}function i(t,n){var i=arguments.length<=2||arguments[2]===undefined?"9":arguments[2],a=n||o["default"].PhoneNumberFormat.INTERNATIONAL,u=t.toUpperCase(),c=o["default"].getUtilInstance(),s=o["default"].exampleMobileNumber(u);if(!s)return e.when(" ");var l=c.parseAndKeepRawInput(s,u),d=""+c.getCountryCodeForRegion(u),f=c.format(l,a),p=(a===o["default"].PhoneNumberFormat.RFC3966?5:1)+d.length,m=f.substr(p),_=/\d/g,E=/-|\s/;return r(t,m.replace(E,"").replace(_,i),i)}function r(e,i,r){var o=""+i+r.repeat(l);return t.getSourceData(t.CI_KEYS.CI1278_COUNTRY_PHONE_NUMBER_LENGTH).then(function(t){var a=t&&t.find(function(t){return t.countryCode.value===e}),u=i.split(r).length-1;if(!a)return o;var c=Math.abs(a.lengthOfPhoneNumber-u);if(a.lengthOfPhoneNumber>u)return""+i+r.repeat(c);var s=new RegExp("(.*)(?:(-|s)*"+n(r)+"){"+c+"}$","g");return i.replace(s,"$1").replace(/(-|\s)*$/,"")})["catch"](function(){return o})}function a(e){return i(e,o["default"].PhoneNumberFormat.INTERNATIONAL)}function u(e){return i(e,o["default"].PhoneNumberFormat.RFC3966)}function c(e){return i(e,o["default"].PhoneNumberFormat.E164)}function s(e,t){var n=o["default"].getUtilInstance(),i=n.getRegionCodeForCountryCode(t),r=n.parse(e,i);return n.format(r,o["default"].PhoneNumberFormat.INTERNATIONAL)}var l=5;return{getPhoneMaskByCountryCode:i,getPhoneMaskByCountryCodeInternational:a,getPhoneMaskByCountryCodeRFC3966:u,getPhoneMaskByCountryCodeE164:c,isValidNumber:o["default"].isValidNumber,getCountryForNumber:o["default"].countryForE164Number,cleanPhone:o["default"].cleanPhone,availablePhoneFormats:Object.assign({},o["default"].PhoneNumberFormat),getPhoneInternationalForm:s}}i.$inject=["$q","configService"],t.__esModule=!0,t["default"]=i;var r=n(1148),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="phoneFormatService"},,function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function o(e){return e?a().then(function(t){return t.find(function(t){return t.isocurrencyCode===e}).decimalPoint}):t.when(null)}function a(){return l?t.when(l):e.get("/api/currencies",{cache:!0}).then(function(e){return l=e.data})}function u(e,t,n){return c(e,t).then(function(e){return n?e+" "+n:e})}function c(e,o){if(angular.isNumber(e)&&s(o))return t.when(e);var a=n("decimalSeparator");return i.getDecimalSeparator().then(function(t){var n=!e||isNaN(e)||e===r.HIDDEN_PRICE_VALUE_MASK?r.HIDDEN_PRICE_VALUE_MASK:Number(e).toFixed(o);return a(n,t)})}function s(e){return angular.isUndefined(e)||null===e}var l=null;return{getCurrencies:a,getCurrencyDecimalPoint:o,getFormattedPrice:c,format:u}}i.$inject=["$http","$q","$filter","ewfcDecimalSeparatorService"],t.__esModule=!0,t["default"]=i;var r=n(80);i.NG_NAME="priceService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e,t){return o(e).then(function(n){var o=n[0],a=n[1],u=n[2],c=n[3],s=n[4];return o||a||(e.zipOrPostCode=""),u||i(e),c||s||r(e,t),e})}function i(e){e.citySuburbName="",e.suburb=""}function r(e,t){if(t)return void(e.countryDivisionName="");e.state=""}function o(n){var i=n.countryCode;return i?e.all([a(t.CI_KEYS.CIF0452_ZIP,i),a(t.CI_KEYS.CIF0241_POSTAL_CODE,i),a(t.CI_KEYS.CIF0239_SUBURB,i),a(t.CI_KEYS.CIF0240_PROVINCE,i),a(t.CI_KEYS.CIF0453_STATE,i)]):e.reject("Missing required parameter")}function a(e,n){return t.getFormField(e,n).then(function(e){return e.visible})}return{clearNotVisibleAddressDetails:n}}i.$inject=["$q","configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="addressDetailsFilteringService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){return angular.element(".header").height()}function r(){return i()+m}function o(e){return angular.element("#"+e+":visible")}function a(e){return!!o(e).length}function u(e,t){var i=e||n.getHash();i&&(n.setHash(i),c(i,t))}function c(e,t){s(o(e||n.getHash()),t)}function s(n){var i=arguments.length<=1||arguments[1]===undefined?r():arguments[1],o=n.offset()||{},a=o.top;a&&t(function(){e.scrollTo(0,a-i)},0)}function l(e){var t=e[0];return t&&t.getBoundingClientRect().top}function d(n){t(function(){var t=l(n),i=e.outerHeight,r=i/6,o=t-r;e.scrollTo(0,o)})}function f(t){e.scrollTo(0,e.scrollY+t)}function p(){t(function(){e.scrollTo(0,0)})}var m=15;return{getHeaderHeight:i,getTopPosition:l,isElementExists:a,scrollTo:u,scrollToWithoutHash:c,scrollToElement:s,scrollToSection:d,incrementVerticalPosition:f,scrollToTop:p}}i.$inject=["$window","$timeout","pathService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="anchorScrollService"},function(e,t,n){"use strict";function i(){function e(e,i,r){var o=e.$eval(i[r+"OptionalMandatorityConfig"]);if(!o)return void t();n(o)}function t(){c&&(c.removeOptionalMandatority(),c=null)}function n(e){e.applyOptionalMandatority(),c=e}function i(e){var t=angular.element(e[0].body.querySelector("[ng-form=toContact] [name=cnpjOrCPFTaxID]")),n=t.controller("ewfBrazilTax");return n&&{applyOptionalMandatority:n.applyOptionalMandatority,removeOptionalMandatority:n.removeOptionalMandatority}}function r(e,t){u[e]={isVisible:t}}function o(e){delete u[e]}function a(e){return u[e]&&u[e].isVisible}var u={},c=null;return{applyOptionalMandatorityConfig:e,getOptionalMandatorityConfig:i,setElementVisibilityStatus:r,removeElementVisibilityStatus:o,getElementVisibilityStatus:a}}t.__esModule=!0,t["default"]=i,i.NG_NAME="optionalMandatorityService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e){return e.then(function(e){return e.data})["catch"](function(e){return t.reject(f(e))})}function i(t,i,r){var o=Array.isArray(t)?t:[t],a={};return a[r]=o,n(e.post(i,a))}function o(t,i){var o=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],a=i?t+"/"+i:t,u={preventcache:(new Date).getTime()};return n(e.get(a,r({params:u},o)))}function a(t,i){var r=i&&i.cache?{}:{preventcache:(new Date).getTime()};return n(e.get(t,Object.assign({params:r},i)))}function u(e,t){return d("get",e,t)}function c(e,t){return d("post",e,t)}function s(e,t){return d("put",e,t)}function l(e){return d("delete",e)}function d(t,i,r){return n(e[t](i,r))}function f(e){var t=e.data,n=e.status,i=angular.isString(t)?{data:t}:t;return Object.assign({data:t,status:n},i)}return{deleteElements:i,deleteElement:l,getElementDetails:o,getElementList:a,getElement:u,postElement:c,changeElement:s}}i.$inject=["$http","$q"],t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t["default"]=i,i.NG_NAME="crudService"},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function o(e){var t=arguments.length<=1||arguments[1]===undefined?0:arguments[1],n=u(e),i=t+60*n.getTimezoneOffset()*1e3;return n.setTime(n.getTime()+i),n}function a(e){return/\d{4}-\d{2}-\d{2}/.test(e)}function u(e){var t=angular.isString(e)&&a(e)?c(e):e;return new Date(t)}function c(e){return s(e)?e+"T"+Y+"Z":l(e)?e+"Z":e}function s(e){return e.length<=W}function l(e){return e.length>W&&!d(e)}function d(e){return q.some(function(t){return e.includes(t,W)})}function f(e,t){var n=q.filter(function(t){return e.includes(t,W)}),i=n.length&&e.indexOf(n[0],W);return p(i?e.slice(0,i):e,t)}function p(e,n){return t("date")(e,n)}function m(e,n){var r=o(new Date,n),a=(new Date).setDate(r.getDate()+1),u=t("date")(e,"mediumDate"),c=t("date")(r,"mediumDate"),s=t("date")(a,"mediumDate");switch(u){case c:return i.DATETIME.TODAY;case s:return i.DATETIME.TOMORROW;default:return[i.DATETIME.SUNDAY,i.DATETIME.MONDAY,i.DATETIME.TUESDAY,i.DATETIME.WEDNESDAY,i.DATETIME.THURSDAY,i.DATETIME.FRIDAY,i.DATETIME.SATURDAY][x(e).getDay()]}}function _(e){return[i.DATETIME.JANUARY,i.DATETIME.FEBRUARY,i.DATETIME.MARCH,i.DATETIME.APRIL,i.DATETIME.MAY,i.DATETIME.JUNE,i.DATETIME.JULY,i.DATETIME.AUGUST,i.DATETIME.SEPTEMBER,i.DATETIME.OCTOBER,i.DATETIME.NOVEMBER,i.DATETIME.DECEMBER][x(e).getMonth()]}function E(e){var n=o(e);return t("date")(n,"MM/dd/yyyy")}function S(e){var t=o(e),n=F(t),i=60*t.getHours()+t.getMinutes();return n+" "+(v()?C(i):R(i))}function g(e){var t=!(arguments.length<=1||arguments[1]===undefined)&&arguments[1],n=h(e,!0);return t?C(n):R(n)}function C(e){var t=L(e),n=b(e);n=n<10?"0"+n:n;var i=t>=12?"pm":"am";return t%=12,(t=t||12)+":"+n+" "+i}function A(e,t,n){var i=T(e),r=P(n),o=P(t.localDate),a=T(t.localTime);return a<i||r>o?i:h(a)}function h(e){var t=!(arguments.length<=1||arguments[1]===undefined)&&arguments[1],n=b(e)%15,i=e;if(n){var r=b(e)-n;r=t?r:r+15;var o=L(e);r>=60&&(++o,r=0),i=60*o+r}return i}function I(e,n){return t("date")(n,K)===e}function v(){return!!j(new Date).substr(-2).match(/(?:AM|PM)$/i)}function N(e){var t=e.split(":"),n=Number(t[0]),i=Number(t[1]);return n<0?6e4*(60*n-i):6e4*(60*n+i)}function T(e,t){var n=y(e),i=n.hours,r=n.minutes;if(O(r)&&D(i)||t)return 60*i+1*r;throw new Error("Wrong short time format, expected 'HH:mm', actual '"+e+"'")}function M(e,t){var n=new Date(e),i=y(t),r=i.hours,o=i.minutes;return n.setHours(r),n.setMinutes(o),n}function y(e){if(!angular.isString(e))throw new Error("Wrong type for time, should be a string");var t=e.split(":");return{hours:t[0],minutes:t[1]}}function O(e){var t=Number(e);return t<60&&t>=0&&!isNaN(t)}function D(e){var t=Number(e);return t<24&&t>=0&&!isNaN(t)}function P(e){return new Date(e.replace(/-/g,"/"))}function R(e){var t=parseInt(e/60,10),n=e-60*t,i=n;return n<10&&(i="0"+n),t+":"+i}function b(e){return e%60}function L(e){return parseInt(e/60,10)}function G(e){return e&&C(T(e))}function k(e,t){return p(e,K)===p(t,K)}function w(e){return F(o(e))}function U(){return r.getSourceData(r.CI_KEYS.CI0611_ADVANCE_DATE_DISPLAY_CHOICE).then(function(e){return e||null})}function F(e){return e.toLocaleDateString(V())}function j(e){return e.toLocaleString(V())}function V(){return e.navigator.userLanguage||e.navigator.language}function B(e,t){var n=new Date(e),i=t?n.getDate()-1:n.getDate()+1;return p(new Date(n.setDate(i)),K)}function $(e){return n.get("/api/location/local_time",{params:{serviceAreaCode:e}}).then(function(e){return e.data})["catch"](function(){return null})}function H(e){return new Date(E(e))}function x(e){var t=angular.isString(e)&&s(e)?new Date(e+"T"+Y):new Date(e);if(isNaN(t.getTime()))throw new Error("Invalid date format");return t}var K="yyyy-MM-dd",Y="00:00:00",W=10,q=["Z","+","-"];return{normalizeDate:o,getFormattedDate:p,areDatesEqual:k,getFormattedDay:m,getLocalizedMonth:_,getShortDate:E,getShortDateAndTime:S,getFormattedTime:g,getReadyByTime:A,isToday:I,isTwelveHourClock:v,parseTimeOffset:N,stringShortTimeToMin:T,convertStrToDate:P,minToShortTime:R,convert24toAMPM:G,getDateByDateAndTime:M,convertDateToLocaleFormat:w,getAdvanceDateDisplay:U,getLocaleDateString:F,getNearestDay:B,getLocalTime:$,getFormattedDateIgnoringTimezone:f,getDateIgnoringTime:H}}i.$inject=["$window","$filter","$http","Messages","configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="dateTimeService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(n,i){function r(t){a=null,u&&u.resolve(n.apply(undefined,t)),u=e.defer()}function o(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return a&&t.cancel(a),a=t(function(){return r(n)},i),u.promise}var a=void 0,u=void 0;return r(),o}function r(i,r){function a(a,l){return c&&t.cancel(c),u&&u.resolve({status:o["default"].CANCELLED}),s=e.defer(),c=t(function(){u=e.defer(),i.timeout=u.promise,i.params=a,i.data=l,s.resolve(n(i))},r),s.promise}var u=void 0,c=void 0,s=void 0;return a}return{debounce:i,debounceHttp:r}}i.$inject=["$q","$timeout","$http"],t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="debounceService"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(){return h.length?e.when(h):f().then(function(e){return h=e.map(m)})["catch"](function(t){return e.reject(t.data)})}function o(e){return e.toLowerCase().replace(/\b\w/g,function(e){return e.toUpperCase()})}function a(){return h}function u(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n.filter(function(e,t){return e&&n.indexOf(e)===t});if(!r.length)return e.when([]);var o=r.map(s);return e.all(o).then(function(e){var t;return c((t=[]).concat.apply(t,e))})}function c(e){var t=e.map(function(e){return e.code});return e.filter(function(e,n){return t.indexOf(e.code)===n})}function s(e){return n.getAvailableLanguages(e)}function l(e){return d(e.countryCode).then(function(t){return n.validateLocationBasedOnMandatority(e,t)})}function d(e){return n.fetchStateAndProvinceMandatority(e).then(function(e){var t=e[0],n=e[1];return t||n})}function f(){return n.getLocationList().then(function(e){return e.map(function(e){var n="country."+e.code2.toLowerCase(),i=t("nls")(n);return e.name=i===n?e.name:i,e})})}function p(){if(v)return v;var t=[f(),n.fetchValidEwfOriginCountries()];return v=e.all(t).then(function(e){var t=e[0],n=e[1],r=t.filter(function(e){var t=e.code2;return n.includes(t)}).map(m);return i.sortBy(r,["name"])})}function m(e){return e.capitalizedName=o(e.name),e.flag="flag_"+e.code2,e}function _(){return I.length?e.when(I):n.fetchUnsortedActivatedCountriesList().then(function(e){return I=e,I=i.sortBy(I,["name"])})["catch"](function(t){return e.reject(t.data)})}function E(){return r().then(function(e){return S(e,"code2")})}function S(e,t){return e.reduce(function(e,n){return e[n[t]]=n,e},{})}function g(){var t=arguments.length<=0||arguments[0]===undefined?"":arguments[0],n=t.toUpperCase();return r().then(function(t){return t.find(function(e){return e.code2===n})||e.reject()})}function C(e){return n.updateUserLanguage(e)}function A(e){return n.getWeekendsForCountry(e)}var h=[],I=[],v=void 0;return{loadAvailableLocations:r,getAvailableLocationsSync:a,validateLocation:l,getCountryList:f,getCountriesIndex:E,getCountryByCode:g,getAvailableLanguages:s,getValidEwfOriginCountries:p,getActivatedCountriesList:_,getAvailableLanguagesByCountryCodes:u,updateUserLanguage:C,getWeekendsForCountry:A}}i.$inject=["$q","$filter","locationResource","sortService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="locationService"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(e){var n={country:e};return t.get("/bin/dhl/languages.json",{params:n}).then(function(e){return e.data})}function o(n){if(!n)return e.when([]);var i="/api/location/"+n+"/weekends";return t.get(i,{cache:!0}).then(function(e){return e.data})}function a(){return t.get("/api/location/list",{cache:!0}).then(function(e){return e.data})}function u(e,n){var r=i.encodeParams({countryCode:e.countryCode,postCode:e.zipOrPostCode||null,suburb:e.citySuburbName||null,city:e.city,stateName:n&&e.countryDivisionName||null});return t.get("/api/location/validate?"+r,{cache:!0}).then(function(e){return e.data})}function c(e){return t.post("/api/myprofile/language",{languageCode:e})}function s(){return n.getSourceData(n.CI_KEYS.CI1056_VALID_EWF_ORIGIN_COUNTRY_LIST).then(function(e){return e.map(function(e){return e.value})})}function l(t){return e.all([n.getFormField(n.CI_KEYS.CIF0453_STATE,t),n.getFormField(n.CI_KEYS.CIF0240_PROVINCE,t)]).then(function(e){var t=e[0],n=e[1];return[t.mandatory,n.mandatory]})}function d(){return n.getSourceData(n.CI_KEYS.CI1260_COUNTRY_ACTIVATION).then(function(e){return e.filter(function(e){return e.activatedInMyDhl}).map(function(e){var t=e.countryName,n=e.countryCode;return{name:t.value,code:n.value,code2:n.value,flag:"flag_"+n.value}})})}return{getAvailableLanguages:r,getWeekendsForCountry:o,getLocationList:a,validateLocationBasedOnMandatority:u,updateUserLanguage:c,fetchValidEwfOriginCountries:s,fetchStateAndProvinceMandatority:l,fetchUnsortedActivatedCountriesList:d}}i.$inject=["$q","$http","configService","queryParamsService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="locationResource"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t){t.code2&&e.putRootCookie(o["default"].DEFAULT_COUNTRY,t.code2)}function i(){return e.get(o["default"].DEFAULT_COUNTRY)}function r(e){return t.getDefaultLanguage(e)}return{saveCountry:n,getStoredCountry:i,getDefaultLanguage:r}}i.$inject=["cookiesService","manageCountryAndLanguageService"],t.__esModule=!0,t["default"]=i;var r=n(14),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="locationDefaultCountryService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){return[{key:r.UNITS.KG,title:t.COMMON.UNITS_KG,system:o["default"].METRIC,type:_,factor:1e3},{key:r.UNITS.LB,title:t.COMMON.UNITS_LB,system:o["default"].IMPERIAL,type:_,factor:453.592},{key:r.UNITS.CM,title:t.COMMON.UNITS_CM,system:o["default"].METRIC,type:E,factor:.01},{key:r.UNITS.IN,title:t.COMMON.UNITS_IN,system:o["default"].IMPERIAL,type:E,factor:.0254}]}function i(){return S=S||n().reduce(function(e,t){return e[t.key]=t,e},{})}function a(t,n,r){var o=arguments.length<=3||arguments[3]===undefined?2:arguments[3];if(!e.UNSIGNED_FLOAT.test(r))return r;var a=Number.parseFloat(r)*i()[t].factor/i()[n].factor,u=Math.pow(10,o);return Math.round(a*u)/u}function u(){return n().filter(function(e){return e.type===_})}function c(){return n().filter(function(e){return e.type===E})}function s(e){return n().find(function(t){return t.type===_&&t.system===e})}function l(e){return n().find(function(t){return t.type===E&&t.system===e})}function d(e){return i()[e]}function f(e,t,n,i){return m(e,t,n,s,i)}function p(e,t,n,i){return m(e,t,n,l,i)}function m(e,t,n,i,r){return e===t?n:a(i(e).key,i(t).key,n,r)}var _="WEIGHT",E="DIMENSION",S=void 0;return{convertValue:a,convertWeight:f,convertDimension:p,getWeightUnits:u,getDimensionUnits:c,getWeightUnit:s,getDimensionUnit:l,getUnitInfo:d}}i.$inject=["Patterns","Messages"],t.__esModule=!0,t["default"]=i;var r=n(53),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="measuresService"},function(e,t,n){"use strict";function i(){function e(e,t,n){return n<e?e:n>t?t:n}function t(e,t){var n=arguments.length<=2||arguments[2]===undefined?t+1:arguments[2];e.push({index:t,display:n})}function n(e,n){t(e,n)}function i(e,t,n){s(e,t,n)}function o(e,t,n){c(e,t,n)}function a(e,t,n){c(e,t,n)}function u(e,t,n){s(e,t,n)}function c(e,n,i){i-n==1&&t(e,i)}function s(e,n,i){switch(i-n){case 0:return;case 1:break;default:t(e,null,d)}t(e,i)}function l(){var t=arguments.length<=0||arguments[0]===undefined?0:arguments[0],c=arguments.length<=1||arguments[1]===undefined?0:arguments[1],s=arguments.length<=2||arguments[2]===undefined?r.MIN_PAGE_SIZE:arguments[2],l=[],d={pageSize:s||r.MIN_PAGE_SIZE,rowMin:null,rowMax:null,pageIndex:0,pageCount:0,totalRecords:t||0,window:l};if(n(l,0),t&&s>0){var f=Math.ceil(t/s),p=f-1,m=e(0,p,c),_=e(0,m,m-1),E=e(m,p,m+1);i(l,0,_),o(l,_,m),a(l,m,E),u(l,E,p);var S=s*m,g=Math.min(t,s*(m+1))-1;Object.assign(d,{rowMin:S,rowMax:g,pageIndex:m,pageCount:f})}return d}var d="…";return{paginate:l}}t.__esModule=!0,t["default"]=i;var r=n(20);i.NG_NAME="paginationService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t,n){var r={captchaData:n,email:t};return e.post("/api/auth/password/reset/send",r).then(function(e){return e.data})["catch"](i)}function i(e){var n=e.data,i=void 0;if(n&&n.errors){i=n.errors[0]}else if(n&&n.fieldErrors){var r=n.fieldErrors["captchaData.value"];i=r[0]}return t.reject(i||"errors.common_msg_service-currently-unavailable")}function r(t){return e.post("/api/auth/password/reset",t).then(function(e){return e.data})}function o(t){return e.post("/api/auth/password/reset/token/validate",{token:t})}function a(t){return e.post("/api/auth/password/reset/token/renew",{token:t})}function u(t){return e.post("/api/auth/password/create",t).then(function(e){return e.data})}function c(t){return e.post("/api/auth/password/create/token/validate",{token:t})}function s(t){return e.post("/api/auth/password/create/token/renew",{token:t})}function l(t){return e.post("/api/auth/password/changeExpired",t).then(function(e){return e.data})}return{sendResetPassword:n,resetPassword:r,validateResetToken:o,resendPasswordResetEmail:a,createPassword:u,validateCreateToken:c,resendPasswordCreateEmail:s,changeExpiredPassword:l}}i.$inject=["$http","$q"],t.__esModule=!0,t["default"]=i,i.NG_NAME="passwordService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(i,r,o){var a=n.defer(),u=!1,c=null,s=function(){if(!c){(c=i()).then(function(e){u||(u=!0,a.resolve(e))})["finally"](function(){c=null})}};return function(){o&&e(function(){u||(u=!0,a.reject())},o),s();var n=t(function(){u?t.cancel(n):s()},r);return a.promise}}return{schedule:i}}i.$inject=["$timeout","$interval","$q"],t.__esModule=!0,t["default"]=i,i.NG_NAME="requestSchedulerService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){return r()?e.get("/api/myprofile/rewards/available").then(function(e){return e.data})["catch"](function(e){var n=e.data;return t.reject(n)}):t.when(!1)}function r(){return n.getCoreRestriction(o["default"].REWARD_ENABLED)}return{canShowRewardCards:i,isRewardEnabled:r}}i.$inject=["$http","$q","userService"],t.__esModule=!0,t["default"]=i;var r=n(36),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="rewardCardsService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){var t=e.get(r);return!!t&&Date.now()<Number(t)}function i(){return t.getSourceData(t.CI_KEYS.CI1094_LOCKING_TIME).then(function(t){var n=new Date;n.setHours(n.getHours()+t),e.put(r,n.getTime().toString())})}return{isUserLocked:n,lockUser:i}}i.$inject=["cookiesService","configService"],t.__esModule=!0,t["default"]=i;var r="schedule-pickup-lock-expiration-time";i.NG_NAME="schedulePickupUserLockService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t,n){var i=n.caseSensitive,r="";return i||(r="i"),new RegExp(e,""+r).test(t)}function n(){var e=arguments.length<=0||arguments[0]===undefined?"":arguments[0],t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],n=e.toUpperCase();return Object.keys(t).filter(function(e){return t[e].toUpperCase().includes(n)})}function i(){var t=arguments.length<=0||arguments[0]===undefined?"":arguments[0],n=t.toUpperCase();return e.loadAvailableLocations().then(function(e){return e.filter(function(e){return e.name.toUpperCase().includes(n)}).map(function(e){return e.code2})})}return{strMatches:t,searchList:n,searchCountryNames:i}}i.$inject=["locationService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="manageShipmentsSearchService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e){return e?a()[e].weightUnit:""}function n(e){return e?a()[e].dimensionUnit:""}function i(){var e=arguments.length<=0||arguments[0]===undefined?"":arguments[0],t=e.toUpperCase(),n=s.find(function(e){return e.weightUnit===t||e.dimensionsUnit===t});return n?n.som:null}function r(e,t){var n=s.find(function(t){return t.som===e});return n?t?n.dimensionsUnit:n.weightUnit:null}function a(){var t;return t={},t[o["default"].METRIC]={weightUnit:e.SHIPMENT_PACKAGE.SELECT_PACKAGING_VALUE_LABEL_SOM_KG,dimensionUnit:e.SHIPMENT_PACKAGE.SELECT_PACKAGING_VALUE_LABEL_SOM_CM},t[o["default"].IMPERIAL]={weightUnit:e.SHIPMENT_PACKAGE.SELECT_PACKAGING_VALUE_LABEL_SOM_LB,dimensionUnit:e.SHIPMENT_PACKAGE.SELECT_PACKAGING_VALUE_LABEL_SOM_IN},t}function u(e){var t=s.find(function(t){return t.dimensionsUnit===e});return t?t.som:""}function c(e){var t=s.find(function(t){return t.weightUnit===e});return t?t.som:""}var s=[{weightUnit:"KG",dimensionsUnit:"CM",som:o["default"].METRIC},{weightUnit:"LB",dimensionsUnit:"IN",som:o["default"].IMPERIAL}];return{getWeightUnits:t,getDimensionsUnits:n,getUOMDimension:i,getUOMValue:r,getSomByDimensionUnit:u,getSomByWeightUnit:c}}i.$inject=["Messages"],t.__esModule=!0,t["default"]=i;var r=n(53),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="somService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r){"ngInject";function o(){return e[f["default"].LOGIN_REMEMBER_ME_OPTION]}function u(t){e[f["default"].LOGIN_REMEMBER_ME_OPTION]=t}function s(){delete e[f["default"].LOGIN_REMEMBER_ME_OPTION]}function d(e){E(e?c["default"].RESET_PASSWORD_EXPIRED:c["default"].RESET_PASSWORD)}function p(){E(c["default"].CREATE_PASSWORD)}function m(){E(c["default"].SESSION_TIMED_OUT)}function _(){E(c["default"].LOGGED_OUT)}function E(t){e[f["default"].LOGIN_NEXT_FORM_MESSAGE]=t,r.saveHomeAlert(I(t))}function S(){var t=e[f["default"].LOGIN_NEXT_FORM_MESSAGE];return e[f["default"].LOGIN_NEXT_FORM_MESSAGE]=null,t}function g(e){return e[0].errorParams.includes(y.PASSWORD_EXPIRED)}function C(e){return e[0].errorParams.includes(y.PENDING_ACTIVATION)}function A(e){return e[0].errorParams.includes(y.PENDING_ACTIVATION_EXPIRED)}function h(){return M}function I(e){var t;return(t={},t[c["default"].LOGGED_OUT]={message:i.LOGIN_FORGOT_RESET_PASSWORD.LOGIN_MSG_LOGGED_OUT,type:l["default"].SUCCESS},t[c["default"].SESSION_TIMED_OUT]={message:i.LOGIN_FORGOT_RESET_PASSWORD.LOGIN_ALERT_SESSION_TIMED_OUT,type:l["default"].WARNING},t[c["default"].ACTIVATION_EMAIL_RESENT]={message:i.LOGIN_FORGOT_RESET_PASSWORD.LOGIN_MSG_ACTIVATION_EMAIL_RESENT,type:l["default"].SUCCESS},t[c["default"].ACTIVATION_EMAIL_EXPIRED]={message:i.LOGIN_FORGOT_RESET_PASSWORD.LOGIN_ALERT_ACTIVATION_EMAIL_EXPIRED,type:l["default"].WARNING},t[c["default"].CREATE_PASSWORD]={message:i.LOGIN_FORGOT_RESET_PASSWORD.RESET_PASSWORD_ALERT_CREATE_PASSWORD_ALREADY_USED,type:l["default"].WARNING},t[c["default"].RESET_PASSWORD]={message:i.LOGIN_FORGOT_RESET_PASSWORD.RESET_PASSWORD_ALERT_RESET_PASSWORD_ALREADY_USED,type:l["default"].WARNING},t[c["default"].RESET_PASSWORD_EXPIRED]={message:i.LOGIN_FORGOT_RESET_PASSWORD.RESET_PASSWORD_ALERT_RESET_PASSWORD_EXPIRED,type:l["default"].WARNING},t)[e]}function v(){t.logoutFromExternalService(a["default"].PROVIEW)}function N(){t.logoutFromExternalService(a["default"].ESECURE)}function T(e){var t=e.accountCreditStop,i=e.userCountry,r=e.userLanguage,o=t?"creditStop":"";n.redirectToHome(i,r,{messageId:o,login:"successful"})}var M=3,y={PASSWORD_EXPIRED:"PASSWORD_EXPIRED",PENDING_ACTIVATION:"PENDING_ACTIVATION",PENDING_ACTIVATION_EXPIRED:"LINK_EXPIRED"};return{getMessage:I,errorKeys:y,getInitialMessageKey:S,isPasswordExpired:g,isUserInactive:C,isUserInactiveAndActivationExpired:A,getLoginActivationDaysLimit:h,saveNextFormTimeoutMessage:m,saveNextFormLoggedOutMessage:_,saveCreatePasswordMessage:p,saveResetPasswordMessage:d,redirectToHome:T,getRememberMeOptionValue:o,setRememberMeOptionValue:u,removeRememberMeOptionValue:s,logoutFromProview:v,logoutFromEsecure:N}}r.$inject=["$localStorage","externalServicesLogoutService","navigationService","Messages","homeAlertStorageService"],t.__esModule=!0,t["default"]=r;var o=n(225),a=i(o),u=n(882),c=i(u),s=n(54),l=i(s),d=n(24),f=i(d);r.NG_NAME="loginService"},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function o(e,i,r){if(e&&e[0]&&e[0].errorParams){var o=e[0].errorParams;i||t.processTermsAndPrivacyScenario(o).then(function(e){n.showAdditionalAgreementsOnAuth(o).then(function(t){return r(e,t)})})}}function a(e){i.removeRootCookie(e)}function u(e,t){r.handleUserLogin(e,t)}return{checkTermsPrivacyAgreements:o,removeRootCookie:a,handleUserLogin:u}}i.$inject=["navigationService","termsAndPrivacyAcceptanceService","additionalAgreementsService","cookiesService","groupSwitcherService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="loginExternalService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o){"ngInject";function u(){return o.markSection("logout","login"),t.logOut()}function s(){u().then(d)}function l(){u().then(function(){e[c["default"].TRUST_EV_LOCAL_STORAGE_KEY]=!0,d()})}function d(){n.removeRootCookie(a["default"].TRUST_EV_SESSION_ID),i.saveNextFormLoggedOutMessage(),f()}function f(){n.removeRootCookie(a["default"].CURRENT_GROUP),n.removeRootCookie(a["default"].DESKTOP),delete e[c["default"].DONT_SHOW_AGAIN_INR_ALERT_KEY],delete e[c["default"].USER_NAME],delete e[c["default"].LOGIN_ATTEMPT],r.redirectToLogout()}return{performBaseLogout:s,performTrustEvFailLogout:l,preformCommonLogoutActions:f}}r.$inject=["$localStorage","userService","cookiesService","loginService","navigationService","analyticsService"],t.__esModule=!0,t["default"]=r;var o=n(14),a=i(o),u=n(24),c=i(u);r.NG_NAME="logoutService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n){e[o(t)]=!0,e[a(t)]=n}function n(t){i(t)&&delete e[o(t)]}function i(t){return e.hasOwnProperty(o(t))}function o(e){return r+e}function a(e){return o(e)+"-options"}function u(t){return e[a(t)]}return{show:t,markAsShown:n,isMarkedToBeShown:i,getStorageOptions:u}}i.$inject=["$sessionStorage"],t.__esModule=!0,t["default"]=i;var r="show-once:";i.NG_NAME="showOnceService"},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function a(e){var n=e.config,i=e.deferred;n.responseType=l(n),t(n).then(function(e){if(!n.responseType||n.responseType===E){var t=e.headers("Content-Type")||"application/json";e.data=new Blob([e.data],{type:t})}c(e),i.resolve()})["catch"](function(e){var t=e.data.errors;return i.reject(t)})["finally"](function(){_.length?a(_.shift()):m=!1})}function u(t){var n=e.defer(),i={deferred:n,config:t};return m?_.push(i):(m=!0,a(i)),n.promise}function c(e){var t=d(e);i.saveAs(e.data,t)}function s(e){var t=/^"|"$/g;return e.replace(t,"")}function l(e){return e.data&&e.data.format===o["default"].PDF?E:e.responseType}function d(e){var t=e.headers("Content-Disposition"),n=/filename\*=utf-8''(.+)/im,i=/filename=(.+)/im;if(!t)return"report.pdf";var r=t.match(n),o=t.match(i);return r?decodeURIComponent(r[1]):o?s(o[1]):undefined}function f(e){return t(e).then(function(e){return p(e.data)})}function p(e){var t=e.email;r.showDialog({scope:Object.assign(n.$new(),{backgroundDownloadEmail:t}),templateUrl:"components/background-download/background-download-modal.html"})}var m=!1,_=[],E="arraybuffer";return{download:u,backgroundDownload:f}}i.$inject=["$q","$http","$rootScope","FileSaver","modalService"],t.__esModule=!0,t["default"]=i;var r=n(436),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="downloadService"},function(e,t,n){"use strict";function i(e,t){"ngInject";var n,i=["preconditionFailedInterceptor","sessionExpiredInterceptor","badRequestInterceptor","servicesNotAvailableInterceptor","serverErrorInterceptor","ciKeyErrorInterceptor","notFoundInterceptor","errorLoggingInterceptor","requestInterceptor","templateInterceptor","accessForbiddenInterceptor"];(n=e.interceptors).push.apply(n,i),function(){var n=t.$get().navigator.userAgent;(n.includes("MSIE")||n.includes(".NET"))&&(e.defaults.cache=!1,e.defaults.headers.get=e.defaults.headers.get||{},e.defaults.headers.get["If-Modified-Since"]="0")}()}i.$inject=["$httpProvider","$windowProvider"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"toggleSwitchCtrl",scope:!0,link:function(){function e(e,t,n,i){i.collapsed=!!n[a+"Collapsed"]}return e}()}}t.__esModule=!0,t["default"]=i;var r=n(1174),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfToggleSwitch"},function(e,t,n){"use strict";function i(e){"ngInject";function t(){o.collapsed=!o.collapsed,o.toggleCount+=1}function n(t){e(function(){o.collapsed=!0,o.toggleCount+=1},t)}function i(e){return e<=o.toggleCount}function r(){o.toggleCount=0}var o=this;Object.assign(o,{collapsed:!1,toggleCount:0,toggle:t,collapseWithDelay:n,isToggledTimes:i,resetToggleCount:r})}i.$inject=["$timeout"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){function e(e,n,i,r){r.init(i[a]||t)}var t="MMMM dd, yyyy";return{restrict:"A",controller:o["default"],controllerAs:"importantInfoAccordionDateCtrl",link:{pre:e}}}t.__esModule=!0,t["default"]=i;var r=n(883),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfImportantInfoAccordionDate"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e){return e.addClass(r),n}function n(t,n){function i(t){n.html(e("replace")(o,t)),n.removeClass(r)}var o=n.html(),a=t.options||{},u=a.watch;u!==undefined&&u?t.$watch("replacements",i):i(t.replacements)}return{restrict:"A",priority:-1,scope:{replacements:"="+o,options:"=?"+o+"Options"},compile:t}}i.$inject=["$filter"],t.__esModule=!0,t["default"]=i;var r="ng-cloak",o=i.NG_NAME="ewfReplace"},,function(e,t,n){"use strict";function i(e){"ngInject";function t(){return 0!==e.pendingRequests.length}return{isPresentPendingRequest:t}}i.$inject=["$http"],t.__esModule=!0,t["default"]=i,i.NG_NAME="pendingRequestService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){"ngInject";function n(){var n=t.getParamFromUrl(a["default"].WCM_MODE)||e.get(c["default"].WCM_MODE);return n?n===i:!e.get(r)}var i="disabled",r="cq-authoring-mode";return{isDisabled:n}}r.$inject=["cookiesService","pathService"],t.__esModule=!0,t["default"]=r;var o=n(1),a=i(o),u=n(14),c=i(u);r.NG_NAME="cqWcmModeService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o,u,s,d,p){"ngInject";function _(e){me=e;var t=p.getCountryLang(),n=2===t.countryId.length;M(e.userName);var i=S(t,n),r=C(t);(i||r)&&o.changeCountryAndLanguage(i,r)}function S(e,t){if(k()){if(A(e,t))return me.countryCode2}else me.countryCode2=e.countryAlpha2Code}function C(e){if(h(e))return me.languageCode}function A(e,t){return u.isDisabled()&&me.countryCode2!==e.countryId.toUpperCase()&&t}function h(e){return u.isDisabled()&&me.languageCode&&me.languageCode!==e.langId}function I(){return me.personaType===a["default"].EXPERT}function v(r,o,a,u){b(r),i.removeRootCookie(m["default"].TRUST_EV_SESSION_ID);var c=a||{},s=c.termsAndConditionsAccepted,l=c.privacyPolicyAccepted,f={username:r,password:o,termsAndConditionsAccepted:s,privacyPolicyAccepted:l,additionalAgreements:u};return e.post("/api/auth/login",f,{preventSessionExpiredInterceptor:!0,preventNotFoundInterceptor:!0}).then(function(e){var t=e.data;return n[g["default"].LOGGED_IN_AT_LEAST_ONCE]=!0,t})["catch"](function(e){var n=e.data,i=n===undefined?{}:n;return i.errors=i.errors||[d.LOGIN_FORGOT_RESET_PASSWORD.LOGIN_ALERT_SERVER_TEMPORARY_UNAVAILABLE],t.reject(i)})}function N(){return e.post("/api/auth/logout")["catch"](function(e){return t.reject(e.data)})}function T(t){return e.post("/api/signup/activation/send",{username:t}).then(function(e){return e.data})}function M(e){n[g["default"].USER_NAME]=e}function y(){return n[g["default"].USER_NAME]}function O(){return me.lastName}function D(){return me.firstName}function P(){return me.corporateIdentityName}function R(){return n[g["default"].LOGIN_ATTEMPT]}function b(e){n[g["default"].LOGIN_ATTEMPT]=e}function L(){n[g["default"].USER_NAME]=null}function G(e){return e?r.whoAmI().then(function(e){return _(e),e}):t.when(me)}function k(){return!!me.identityType}function w(){return!k()||!me.personaType||me.personaType===a["default"].GUEST}function U(){return me.countryCode2||E["default"].UNITED_STATES}function F(){return me.corporateCountryCode||U()}function j(){return s.getCountryByCode(U())}function V(){return me.languageCode}function B(){var e={ces:"cze",deu:"ger",ell:"gre",fra:"fre",isl:"ice",nld:"dut",ron:"rum",slk:"slo",sqi:"alb",zho:"chi"},t=me,n=t.languageCode3;return e[n]||n}function $(){return me.userName}function H(){return me.uid}function x(e){me.userName=e}function K(){return _e}function Y(n){if(!k()||Q())return _e=!1,t.when(!1);var i=n?{cache:!0,preventSessionExpiredInterceptor:n}:{cache:!0};return e.get("/api/myprofile/accountHolder",i).then(function(e){var t=e.data.accountHolder;return _e=t})}function W(){return me.emailVerified}function q(){var e=[l["default"].CORPORATE_ADMIN,l["default"].GROUP_ADMIN];return ae()&&e.includes(me.corporateRole)}function z(){return me.corporateRole===l["default"].CORPORATE_ADMIN}function X(){return me.corporateRole===l["default"].GROUP_ADMIN}function Q(){return Z()&&me.identityType===c["default"].CORPORATE}function Z(){return me.loggedInOnBehalf}function J(){return me.corporateRole===l["default"].END_USER&&!ce()}function ee(){return me.corporateId}function te(){return me.companyName}function ne(e){return!(!f["default"].ALL_PRIVILEGES[e]||J())&&oe().includes(e)}function ie(){return!J()&&re().length>0}function re(){return oe().filter(function(e){return f["default"].STATE_PRIVILEGES.includes(e)})}function oe(){return z()?me.privileges:me.groupPrivileges[i.get(m["default"].CURRENT_GROUP)]||[]}function ae(){var e=arguments.length<=0||arguments[0]===undefined?me.identityType:arguments[0];return e===c["default"].EMPLOYEE||e===c["default"].CORPORATE||ue(e)}function ue(){return ce(arguments.length<=0||arguments[0]===undefined?me.identityType:arguments[0])&&!!i.get(m["default"].CURRENT_GROUP)}function ce(){return(arguments.length<=0||arguments[0]===undefined?me.identityType:arguments[0])===c["default"].REGULAR}function se(e){var t=me,n=t.coreRestrictions;return n&&n[e]}function le(){return me.corporateCountryCode||E["default"].UNITED_STATES}function de(){return ae()?le():U()}function fe(){return!!me.offlineUser}function pe(){return me.tenants}var me={},_e=!1;return{logIn:v,logOut:N,getId:$,setId:x,setUsername:M,getUsername:y,getUserFirstName:D,getUserCorporateCompany:P,getUserLastName:O,resendActivationEmail:T,clearStoredCredentials:L,whoAmI:G,isAuthorized:k,isExpertFlow:I,getUserCountry:U,getUserCountryName:j,getUserLanguage:V,hasDhlAccounts:K,getUserLanguageCode3:B,getTrustEvCountryCode:F,retrieveAccountHolderStatus:Y,isEmailVerified:W,setUserInfo:_,getLoginAttempt:R,hasCorpAdminAccess:q,isCorpAdmin:z,getCorporateId:ee,isCorpEmployee:ae,hasPrivilege:ne,isGroupAdmin:X,isEndUser:J,isDhlAdmin:Z,isDHLAdminLoggedAsCorporate:Q,getCoreRestriction:se,isRegular:ce,isGuest:w,isOfflineUser:fe,getCompanyName:te,getPrivilegesByCorpRole:oe,getUid:H,hasAnyStatePrivilege:ie,getCorporateCountryCode:le,isRegularWithVirtualGroup:ue,getIdentityCountryCode:de,getAvailableTenants:pe}}r.$inject=["$http","$q","$localStorage","cookiesService","userInfoService","manageCountryAndLanguageService","cqWcmModeService","locationService","Messages","pathService"],t.__esModule=!0,t["default"]=r;var o=n(434),a=i(o),u=n(1181),c=i(u),s=n(79),l=i(s),d=n(91),f=i(d),p=n(14),m=i(p),_=n(4),E=i(_),S=n(24),g=i(S);r.NG_NAME="userService"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={REGULAR:"REGULAR",EMPLOYEE:"EMPLOYEE",CORPORATE:"CORPORATE"}},function(e,t,n){"use strict";function i(){function e(e){return Object.keys(e).filter(function(t){var n=e[t];return""!==n&&n!==undefined&&null!==n}).reduce(function(t,n){var i=e[n];return angular.isArray(i)?i.length&&i.forEach(function(e){return t.push([n,e])}):t.push([n,i]),t},[]).map(t).sort().join("&")}function t(e){var t=e[0],n=e[1];return t+"="+encodeURIComponent(n)}function n(t){var n=e(t);return n?"?"+n:""}return{encodeParams:e,getParamsString:n}}t.__esModule=!0,t["default"]=i,i.NG_NAME="queryParamsService"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(){if(s=c())return void(l=e.when(s));d=d||t.get("$http"),i.log("Business Transaction: request init"),l=d.post("/api/logger/start_business_transaction").then(function(e){var t=e.data;return s=t})["finally"](function(){i.log("Business Transaction: request finished")})}function a(){return l||e.when()}function u(){l=e.when()}function c(){return n.getParamFromUrl(o["default"].BUSINESS_TRANSACTION_ID)}var s=void 0,l=void 0,d=void 0;return{startTransaction:r,getTransactionId:a,stopTransaction:u}}i.$inject=["$q","$injector","pathService","logService"],t.__esModule=!0,t["default"]=i;var r=n(1),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="businessTransactionService"},function(e,t,n){"use strict";function i(e,t,n,i,r,a,u){"ngInject";function c(){return u.getTrustEvCountryCode()}function s(){return h=h||l()}function l(){return r.getBooleanIfSupportedByCountry(r.CI_KEYS.CI1307_TRUSTEV_MODE,c()).then(d).then(f)}function d(t){return t?r.getSourceData(r.CI_KEYS.CI1308_TRUSTEV_JAVASCRIPT_URL,c()):e.reject()}function f(e){return r.getSourceData(r.CI_KEYS.CI1309_TRUSTEV_PUBLIC_KEY,c()).then(function(t){return p(e,t)})}function p(t,r){var o=e.defer(),a=i.document.getElementsByTagName("head")[0],u=i.document.createElement("script");return u.onload=function(){return o.resolve(r)},u.onerror=function(){n(function(){p(t).then(function(){v&&m(r)}),a.removeChild(u),o.reject("rejected, but retrying")},A)},u.src=t,a.appendChild(u),o.promise}function m(e){return t(function(){return _(e)},C),_(e)}function _(e){return E(e).then(function(e){return a.putRootCookie(o["default"].TRUST_EV_SESSION_ID,e)})}function E(t){var n=e.defer();return i.TrustevV2.Init(t,function(e){return n.resolve(e)}),n.promise}function S(){return v=!0,I=I||s().then(m)}function g(){return S()["catch"](function(){return undefined})}var C=6e5,A=5e3,h=void 0,I=void 0,v=void 0;return{preloadTrustEv:s,initializeTrustEv:S,checkTrustEvInitialization:g}}i.$inject=["$q","$interval","$timeout","$window","configService","cookiesService","userService"],t.__esModule=!0,t["default"]=i;var r=n(14),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="trustEvService"},function(e,t,n){"use strict";function i(){function e(e,t){return e&&t?"data:"+e+";base64,"+t:""}return{toBase64String:e}}t.__esModule=!0,t["default"]=i,i.NG_NAME="base64Service"},function(e,t,n){"use strict";function i(e){"ngInject";function t(){e.print()}return{print:t}}i.$inject=["$window"],t.__esModule=!0,t["default"]=i,i.NG_NAME="printService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n,i){e.isAuthorized()||(i.addClass("ng-cloak"),t.redirectToLogin())}return{restrict:"A",link:n}}i.$inject=["userService","navigationService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfRedirectGuestToLogin"},function(e,t,n){"use strict";function i(){function e(){n=!1}function t(e,t){"ngInject";function i(e){e.status===o["default"].UNAUTHORIZED&&r()}function r(){n&&(t.saveNextFormTimeoutMessage(),e.setRequestedUrl(),e.redirectToLogin())}return{redirectToLoginIfUnauthorized:i,redirectToLogin:r}}t.$inject=["navigationService","loginService"];var n=!0;return{disableRedirectToLogin:e,$get:t}}t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="sessionExpiredService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i){"ngInject";function r(){return{paymentType:a["default"].ALTERNATE_DHLACCOUNT,name:i.SHIPMENT_PAYMENT.PAYMENT_SELECTION_SELECT_OPTION_ALTERNATE_DHL_ACCOUNT,key:"alternate"}}function o(){return{paymentType:a["default"].RECEIVER_WILL_PAY,name:i.SHIPMENT_PAYMENT.PAYMENT_SELECTION_SELECT_OPTION_RECEIVER_WILL_PAY,key:"receiverPay"}}function u(){return{paymentType:a["default"].CASH,name:i.SHIPMENT_PAYMENT.PAYMENT_SELECTION_SELECT_OPTION_CASH}}function s(e){return e.accountType===c["default"].SHIPPER}function d(e){return e===D}function f(){return n.getBoolean(n.CI_KEYS.CI1290_ALLOW_NON_ACCOUNT_PAYMENT_TYPES_FOR_ACCOUNT_HOLDERS)}function p(e){return m(e,a["default"].CASH)}function m(e,t){return!!e&&[e.paymentMethod,e.paymentType].includes(t)}function _(e){return m(e,a["default"].RECEIVER_WILL_PAY)}function E(e){return m(e,a["default"].DHL_ACCOUNT)}function S(e){return m(e,a["default"].ONLINE_PAYMENT)}function g(e){return e.importAccount}function C(e){return h().then(function(){return A(e)})}function A(e){return I(e.accountCountryCode)===I(t.getUserCountry())}function h(){return e.get(O,{cache:!0}).then(function(e){var t=e.data;return P=t})}function I(e){return P&&P[e]||e}function v(e){return m(e,a["default"].ALTERNATE_DHLACCOUNT)}function N(e){return e.active}function T(e){return I(e)===l["default"].UNITED_STATES}function M(){return t.isEmailVerified()}function y(){return t.isAuthorized()}var O="/api/location/billing-regions",D="CC",P=void 0;return{getAlternateDHLAccountOption:r,getReceiverWillPayOption:o,getCashOption:u,isOnlinePaymentOption:S,isImportPaymentOption:g,isLocalPaymentOption:C,isPreloadedLocalPaymentOption:A,isAlternateDHLAccount:v,isDHLAccount:E,isReceiverWillPay:_,isCashPaymentOption:p,isCreditCardCode:d,isShipperAccount:s,isActiveOption:N,extractBillingRegion:I,loadBillingRegions:h,isCountryFromUsBillingRegion:T,isNonAccountPaymentTypesAllowed:f,isEmailVerified:M,isAuthorized:y}}r.$inject=["$http","userService","configService","Messages"],t.__esModule=!0,t["default"]=r;var o=n(6),a=i(o),u=n(42),c=i(u),s=n(4),l=i(s);r.NG_NAME="paymentTypeService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){var i=(new Date).getTime(),o={preventcache:i};return e.get(r,{params:o}).then(function(e){return e.data})["catch"](function(){return n.warn("Offline mode"),t.userInfo})}var r="/api/auth/whoami";return{whoAmI:i}}i.$inject=["$http","$window","logService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="userInfoService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i){"ngInject";function r(e){E=e}function o(e){var n=E().find(function(t){return t.countryCode===e.toLowerCase()})||{},r=n.languageCode;return t.when(r).then(function(e){return e||i.splitPath().language})}function u(){return i.splitPath().language}function s(){return[]}function l(e){f(undefined,e)}function d(e){f(e)}function f(){var t=arguments.length<=0||arguments[0]===undefined?"":arguments[0],n=arguments.length<=1||arguments[1]===undefined?"":arguments[1];n&&_(n);var r=e.location.pathname,o=i.splitPath(r),a=o.basePath,u=o.country,c=o.language,s=o.path;if(!i.isUnknownCoutryOrLanguage(u,c)){var l=p(u,t),d=n||c,f=l.toLowerCase(),E=a+"/"+f+"/"+d+s;r!==E&&(m(),e.location.pathname=E)}}function p(e,t){return i.isSystemCountryCode(e)?e:t||e}function m(){i.isPage(c["default"].SHIPMENT_PAGE)&&(e.location.hash="")}function _(e){n.putRootCookie(a["default"].USER_LANGUAGE,e)}var E=s;return{changeLang:l,changeCountry:d,changeCountryAndLanguage:f,getDefaultLanguage:o,getCurrentLanguage:u,registerDefaultLanguagesGetter:r,putLanguageToCookies:_}}r.$inject=["$window","$q","cookiesService","pathService"],t.__esModule=!0,t["default"]=r;var o=n(14),a=i(o),u=n(21),c=i(u);r.NG_NAME="manageCountryAndLanguageService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){"ngInject";function n(){var t=arguments.length<=0||arguments[0]===undefined?c["default"].SHIP_BOTH:arguments[0];return e.get("/api/addressbook/restrictions/collections/"+t).then(function(e){return i(e.data.available)})}function i(e){if(!e)return{editableCollections:[],extendableCollections:[],canEditContacts:!0,canCreateContacts:!0};var t=r(),n=e.filter(function(e){var t=e.permissions;return!t||!Object.getOwnPropertyNames(t).length||!t.canEdit&&!t.canCreate}),i=e.filter(function(e){var t=e.permissions;return t&&t.canEdit}),o=e.filter(function(e){var t=e.permissions;return t&&t.canCreate}).map(function(e){return Object.assign(e,{description:t[e.type]})});return{readOnlyCollections:n,editableCollections:i,extendableCollections:o,canEditContacts:i.length>0,canCreateContacts:o.length>0}}function r(){var e;return e={},e[a["default"].COMPANY]=t.ADDRESS_BOOK.ADDRESS_BOOK_COLLECTIONS_SELECT_OPTION_CAB,e[a["default"].GROUP]=t.ADDRESS_BOOK.ADDRESS_BOOK_COLLECTIONS_SELECT_OPTION_GROUP,e[a["default"].PRIVATE]=t.ADDRESS_BOOK.ADDRESS_BOOK_COLLECTIONS_SELECT_OPTION_PAB,e}return{getContactsCollectionsPermissions:n}}r.$inject=["$http","Messages"],t.__esModule=!0,t["default"]=r;var o=n(62),a=i(o),u=n(34),c=i(u);r.NG_NAME="contactCollectionsPermissionsService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t){return o(t).then(function(n){return n?e.when(!0):r(t).then(function(e){return e.every(function(e){return e.mandatory})})})}function i(e){return["CIF0217_DIMENSIONS_WIDTH","CIF0218_DIMENSIONS_HEIGHT","CIF0219_DIMENSIONS_LENGTH"].map(function(n){return t.getFormField(t.CI_KEYS[n],e)})}function r(t){var n=i(t);return e.all(n)}function o(e){return t.getBoolean(t.CI_KEYS.CI1271_MAKE_NON_ACCOUNT_DIMENSIONS_MANDATORY,e)}function a(t){return r(t).then(function(n){return e.all([n,o(t)])}).then(function(e){var t=e[0],n=e[1],i=t[0],r=t[1],o=t[2];if(n){var a={visible:!0,mandatory:!0};Object.assign(i,a),Object.assign(r,a),Object.assign(o,a)}return[i,r,o]})}return{areAllDimensionsRequired:n,getConfigurationItemsObjects:a}}i.$inject=["$q","configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="dimensionsConfigService"},function(e,t,n){"use strict";function i(){"ngInject";function e(e,n,i){return e.sort(function(e,r){var o=t(e,r,n);return i?-o:o})}function t(e,t){return n((arguments.length<=2||arguments[2]===undefined?[null]:arguments[2]).map(function(n){return[i(e,n),i(t,n)]}))}function n(e){var t=e[0],i=e[1],r=t[0],o=t[1];return r<o?-1:r>o?1:i?n(e.slice(1)):0}function i(e,t){var n=t?e[t]:e;return angular.isString(n)?n.toLowerCase():n||""}return{sortBy:e,compareBy:t}}t.__esModule=!0,t["default"]=i,i.NG_NAME="sortService"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(){if(n.isRegular())return e.when(!0);if(n.isGuest())return e.when(!1);if(angular.isDefined(a))return e.when(a);var r=[t.getBoolean(t.CI_KEYS.CI1355_ACCESS_VIA_SSO_ENABLED),i.isAssignVirtualGroup(),i.isCurrentGroupAuthorized()];return e.all(r).then(o)}function o(n){var i=n[0],r=n[1],o=n[2];return!i||o?e.when(!0):r?(a=!1,e.when(a)):t.getBoolean(t.CI_KEYS.CI1358_FORCE_SSO_LOGIN).then(function(e){return a=!e})}var a=void 0;return{isChangePasswordAvailable:r}}i.$inject=["$q","configService","userService","groupSwitcherService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="userPasswordService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n,r,o){var a=n[0].classList,u=angular.element(t.get(r));return e(u)(o),n.before(u),Array.from(a).filter(function(e){return!e.startsWith(i)})}var i="ng-";return{replace:n}}i.$inject=["$compile","$templateCache"],t.__esModule=!0,t["default"]=i,i.NG_NAME="replaceWithCompiledTemplateService"},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"disableLocalLanguageCtrl",link:function(){function e(e,t,n,i){e.$watch(n[a],i.setDisabled)}return e}()}}t.__esModule=!0,t["default"]=i;var r=n(1198),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfDisableLocalLanguage"},function(e,t,n){"use strict";function i(){function e(e){t.disabled=e}var t=this;Object.assign(t,{disabled:!1,setDisabled:e})}t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";function t(e){var t=e||i,n=r[t];if(!n)throw new Error("Invalid countries source "+t);return n}var n,i=o["default"].ALL_AVAILABLE_COUNTRIES,r=(n={},n[o["default"].ALL_AVAILABLE_COUNTRIES]=function(){return e.loadAvailableLocations()},n[o["default"].ACTIVATED_COUNTRIES]=function(){return e.getActivatedCountriesList()},n[o["default"].VALID_EWF_ORIGIN_COUNTRIES]=function(){return e.getValidEwfOriginCountries()},n);return{getRetrieverBySource:t}}i.$inject=["locationService"],t.__esModule=!0,t["default"]=i;var r=n(251),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="countriesRetrieverFactory"},function(e,t,n){"use strict";function i(){return{restrict:"A",link:function(){function e(e,t){var n=t.children(".info");if(2===n.length){var i=n[0],r=n[1],o=angular.element(r);i.children[0].appendChild(r),o.removeClass("info"),o.addClass("info__tooltip-child");var a=o.children().html();o.html('<hr class="hr m-top-tiny m-bottom-tiny"/>'+a)}}return e}()}}t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfMultipleTooltipWrapper"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t){[10,11].includes(n())&&t.addClass("ie-11")}function n(){var t=e.navigator.userAgent,n=t.indexOf("MSIE"),i=!!t.match(/Trident\/7\./);return n>0?parseInt(t.substring(n+5,t.indexOf(".",n)),10):i?11:0}return{restrict:"A",link:t}}i.$inject=["$window"],t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfIe11Identify"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){i.init()}return{restrict:"A",controller:o["default"],controllerAs:"backgroundDownloadCtrl",link:e}}t.__esModule=!0,t["default"]=i;var r=n(1203),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfBackgroundDownload"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(){if(e.isAuthorized())return void a();t.setRequestedUrl(),t.redirectToLogin()}function a(){var e=n.getParamFromUrl(o["default"].LINK),t={method:"GET",url:"/api/file/link/"+e,responseType:"arraybuffer"};i.download(t)}var u=this;Object.assign(u,{init:r})}i.$inject=["userService","navigationService","pathService","downloadService"],t.__esModule=!0,t["default"]=i;var r=n(1),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(t){return e.get("/api/auth/tenant/"+t+"/redirect").then(function(e){return e.data})}function a(e){return e.map(function(e){return t.getParamFromUrl(e)})}function u(e){var t=e.status,i=e.data;[o["default"].FORBIDDEN,o["default"].UNPROCESSABLE_ENTITY].includes(t)&&n.showServiceErrorPopup({type:o["default"].REQUEST_TIMEOUT,messageKey:i.errors[0]})}function c(e){return!!s(e)}function s(e){return i.getAvailableTenants().find(function(t){return t.name===e})}return{getValidLink:r,getParamsFromUrl:a,handleTenantLoginError:u,isTenantAllowed:c,getTenantByName:s}}i.$inject=["$http","pathService","interceptorsStateService","userService"],t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="tenantService"},function(e,t,n){"use strict";function i(){return{restrict:"A",link:function(){function e(e,t){var n=t.children().length,i=Math.floor(Math.random()*n);t.children()[i].style.display="block"}return e}()}}t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfShowRandomChild"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(e,t){n.bindFunctionOnScroll(function(){return o(e,t)}),t.bind("click",function(){return i.scrollToTop()})}function o(e,n){s||(a(e,n),s=!0,t(function(){return s=!1},c))}function a(t,n){e.pageYOffset>=e.document.documentElement.clientHeight*u?n.addClass("visible"):n.removeClass("visible"),t.$apply()}var u=4,c=100,s=!1;return{restrict:"A",link:r}}i.$inject=["$window","$timeout","windowService","anchorScrollService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfBackToTop"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t){angular.element(e).bind("scroll",t)}return{bindFunctionOnScroll:t}}i.$inject=["$window"],t.__esModule=!0,t["default"]=i,i.NG_NAME="windowService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n,r){e.bind("click",function(e){return i(t,n,r,e)})}function n(e,t){return e.find(t.target).length>0}function i(e,t,i,u){var c=i[r]||o,s=i[r+"Action"],l=n(t,u);c!==o&&(l?(t.addClass(c),t.attr(a,!0)):(t.removeClass(c),t.attr(a,!1))),!l&&s&&e.$eval(s)}var o="",a="aria-expanded";return{restrict:"A",link:t}}i.$inject=["$document"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfClickDescendantClass"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t){var i=arguments.length<=1||arguments[1]===undefined?n:arguments[1];e(function(){t.focus()},i)}var n=50;return{focusWithDelay:t}}i.$inject=["$timeout"],t.__esModule=!0,t["default"]=i,i.NG_NAME="delayedFocusService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n,r){t.checkCorpNavVisibility().then(function(t){e[o["default"].IS_CORP_NAV_DISPLAYED]=t,t&&r.removeClass(i)})}var i="is-hidden";return{restrict:"A",link:n}}i.$inject=["$localStorage","corpNavVisibilityService"],t.__esModule=!0,t["default"]=i;var r=n(24),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfCorpNavBlinkWorkaround"},function(e,t,n){"use strict";function i(){"ngInject";function e(e,n){e.$watch(function(){return n.val()},function(e){e?n.addClass(t):n.removeClass(t)})}var t="has-value";return{restrict:"A",link:e}}t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfWatchInputValue"},function(e,t,n){"use strict";function i(e){"ngInject";function t(){return n||(n=[{value:o["default"].DAILY,name:e.REGISTRATION.REGISTRATION_SELECT_OPTION_DAILY},{value:o["default"].WEEKLY,name:e.REGISTRATION.REGISTRATION_SELECT_OPTION_WEEKLY},{value:o["default"].MONTHLY,name:e.REGISTRATION.REGISTRATION_SELECT_OPTION_MONTHLY},{value:o["default"].ONE_OFF_SHIPMENT,name:e.REGISTRATION.REGISTRATION_SELECT_OPTION_ONE_OFF_SHIPMENT}]),n}var n=void 0;return{getOptions:t}}i.$inject=["Messages"],t.__esModule=!0,t["default"]=i;var r=n(226),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="shipmentFrequencyOptionsService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n,i){i&&i.close(),t.showDialog({scope:Object.assign(e.$new(),{thankYouMessage:n}),templateUrl:"common/widgets/thank-you-popup/thank-you-popup.html"})}return{showThankYouDialog:n}}i.$inject=["$rootScope","modalService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="thankYouMessageService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e){c=t.when(e||[])}function r(){return c||e.get(u,{cache:!0,cacheDuration:5e3}).then(function(e){return e.data})}function a(){return r().then(function(e){var i=e.authorizedAccGroupInfo;if(!i.length)return t.reject();var r=n.get(o["default"].CURRENT_GROUP);return i.find(function(e){return e.groupId===r})?t.when():t.reject()})}var u="/api/myprofile/groups",c=void 0;return{handleUserLogin:i,loadGroups:r,checkCurrentGroupIsAuthorized:a}}i.$inject=["$http","$q","cookiesService"],t.__esModule=!0,t["default"]=i;var r=n(14),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="userGroupsService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){return t.isGuest()?e.when(!1):t.isAuthorized()&&!t.isRegular()?e.when(!0):n.loadGroups().then(function(e){return!!e.authorizedAccGroupInfo.length})}return{checkCorpNavVisibility:i}}i.$inject=["$q","userService","userGroupsService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="corpNavVisibilityService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){"ngInject";function n(t){t&&(e[a["default"].HOME_ALERT_MESSAGE_KEY]=t.message,e[a["default"].HOME_ALERT_TYPE_KEY]=t.type)}function i(){n({message:t.LOGIN_FORGOT_RESET_PASSWORD.LOGIN_HEADER_EMAIL_ACTIVATED,type:c["default"].INFO})}function r(){n({})}function o(){return{message:e[a["default"].HOME_ALERT_MESSAGE_KEY],type:e[a["default"].HOME_ALERT_TYPE_KEY]}}return{saveHomeAlert:n,saveEmailActivatedHomeAlert:i,clearHomeAlert:r,getStoredAlert:o}}r.$inject=["$localStorage","Messages"],t.__esModule=!0,t["default"]=r;var o=n(24),a=i(o),u=n(54),c=i(u);r.NG_NAME="homeAlertStorageService"},function(e,t,n){"use strict";function i(e,t,n,i,r,a){"ngInject";function u(t,n){return e.get("/api/commodityCode/shipmentTypeCodes/"+t+"/"+n,{cache:!0}).then(function(e){var t=e.data;t.forEach(function(e){e.typeNormalized=e.type.toLowerCase(),e.typeSelectable="both"===e.typeNormalized,c(e)});var n=function(e,t){return t<l},i=function(e,t){return e.filter(t).map(function(e){return e.name})},r=i(t,function(e){return e.type===o["default"].PROHIBITED});return{allItems:t,allProhibitedItems:r,prohibitedItems:r.filter(n),notDocumentItems:i(t,function(e){return e.type!==o["default"].DOCUMENT}).filter(n)}})}function c(e){var t=e.nlsKey,n=e.name,r=i.getTranslationSync(t);e.translation=r||n}function s(e,i,o){a.markSection("view_items","prohibited_item",null,{country:i}),u(e,i).then(function(a){var u=a.allProhibitedItems,c=e===r.getUserCountry();n.showDialog({closeOnEsc:!0,scope:Object.assign(t.$new(),{receiverCountryCode:i,prohibitedItems:u,isImportShipment:c}),showClose:!0,templateUrl:o?"prohibited-items-dialog"+o+".html":"prohibited-items-dialog.html"})})}var l=3;return{showProhibitedItemsDialog:s,getShipmentTypeHelperItems:u}}i.$inject=["$http","$rootScope","modalService","nlsService","userService","analyticsService"],t.__esModule=!0,t["default"]=i;var r=n(884),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="prohibitedItemsService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n,i,o){e.isNewLook="true"===o[r],e.isNewLook&&t.checkCorpNavVisibility().then(function(e){var t=e?"v2-corp":"v2-non-corp";i.addClass(t)})}return{restrict:"A",link:n}}i.$inject=["newLookModel","corpNavVisibilityService"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfNewLook"},function(e,t,n){"use strict";function i(){return{isNewLook:!1}}t.__esModule=!0,t["default"]=i,i.NG_NAME="newLookModel"},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function a(t,i){var r,o=arguments.length<=2||arguments[2]===undefined?0:arguments[2],a=t.solrUrl,u=t.solrPriorities,c=t.bestBets,s=n.splitPath(),l=s.country,d=s.language,p=(r={fq:["site:"+l+"_"+d,g]},r[v]=i,r.start=o,r.rows=S,r);return f(p,c,i),e.get(a+"/select?qf="+u,{params:p}).then(function(e){return e.data.response})}function u(i,r){var o=i.solrUrl,a=i.customLanguage;if(p(r))return t.when([]);var u=n.splitPath(),c=u.country,s=u.language,l="suggester_"+(a||s),d={suggest:!0,"suggest.dictionary":l,"suggest.q":r,"suggest.cfq":c+"_"+s};return e.get(o+"/suggest",{params:d}).then(function(e){return e.data.suggest[l][r].suggestions.map(function(e){return e.term})})}function c(t,i){var o,a=t.solrUrl,u=t.solrPriorities,c=n.splitPath(),s=c.country,l=c.language,d=(o={fq:["site:"+s+"_"+l,C]},o[v]=i,o.rows=1,o);return e.get(a+"/select?qf="+u,{params:d}).then(function(e){var t=e.data.response.docs;return r.resolvePromotedSearchContent(t)})}function s(t,i){var r,o=t.solrUrl,a=t.solrPriorities,u=n.splitPath(),c=u.country,s=u.language,l=(r={fq:["site:"+c+"_"+s,h]},r[v]=i,r.group=!0,r["group.field"]=T,r["group.limit"]=N,r.sort=I,r);return e.get(o+"/select?qf="+a,{params:l}).then(function(e){return d(e.data.grouped.docType.groups)}).then(function(e){return{trackingCtaTeaser:e[0],otherCtaTeasers:e[1]}})}function l(t,i){var o,a=t.solrUrl,u=t.solrPriorities,c=n.splitPath(),s=c.country,l=c.language,d=(o={fq:["site:"+s+"_"+l,A]},o[v]=i,o.rows=M,o.sort=I,o);return e.get(a+"/select?qf="+u,{params:d}).then(function(e){var t=e.data.response.docs;return r.resolveDownloadableFiles(t)})}function d(e){var n=e.find(function(e){return"trackingCta"===e.groupValue}),i=e.find(function(e){return"cta"===e.groupValue});return t.all([r.resolveTrackingCtaTeaser(n),r.resolveOtherCtaTeasers(i)])}function f(e,t,n){var i=t[n.toLowerCase()];i&&(e.elevateIds=i)}function p(e){return i.TRACKING_FOR_SEARCH.test(e)}function m(){return n.splitPath().language}function _(){return n.getParamFromUrl(o["default"].SEARCH_TERM)}function E(){return"true"===n.getParamFromUrl(o["default"].IS_QUICK_LINK)}var S=10,g="docType:(IN page externalSearch)",C="docType:promotedSearch",A="docType:asset",h="docType:(IN cta trackingCta)",I="field(priority) asc",v="q",N=2,T="docType",M=6;return{getPageAndExternalSearchResults:a,getSuggestions:u,getPromotedSearch:c,getCtaTeasers:s,getDownloadableFiles:l,isSearchForTrackingNumber:p,getCurrentLanguage:m,getSearchTermFromUrl:_,isQuickLinkSearch:E}}i.$inject=["$http","$q","pathService","Patterns","solrExperienceFragmentService"],t.__esModule=!0,t["default"]=i;var r=n(1),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="solrIntegrationService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e){return e.length?c(""+e[0].fallbackPath+s):t.when("")}function i(e){return e?c(""+e.doclist.docs[0].fallbackPath+s):t.when("")}function r(e){return e?o(e):t.when([])}function o(e){return u(e.doclist.docs)}function a(e){return u(e)}function u(e){var n=e.map(function(e){return c(""+e.fallbackPath+s)});return t.all(n)}function c(t){return e.get(t,{preventNotFoundInterceptor:!0}).then(function(e){return e.data})["catch"](function(){return""})}var s=".content.html";return{resolvePromotedSearchContent:n,resolveTrackingCtaTeaser:i,resolveOtherCtaTeasers:r,resolveDownloadableFiles:a}}i.$inject=["$http","$q"],t.__esModule=!0,t["default"]=i,i.NG_NAME="solrExperienceFragmentService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t){var i=t.find(a.FOCUSABLE_ELEMENTS_SELECTOR);if(i.length){var r=i[0],o=i[i.length-1];t.on("keydown",function(e){return n(e,r,o)})}}function n(t,n,i){if(t.which===o["default"].TAB)return t.shiftKey&&e[0].activeElement===n?(i.focus(),void t.preventDefault()):void(t.shiftKey||e[0].activeElement!==i||(n.focus(),t.preventDefault()))}return{restrict:"A",link:t}}i.$inject=["$document"],t.__esModule=!0,t["default"]=i;var r=n(132),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=n(885);i.NG_NAME="ewfTrapFocus"},function(e,t,n){"use strict";function i(){"ngInject";function e(e,t,n,i){t.on("click",function(){i.toggle(),e.$apply()}),t.on("keydown",function(t){[o["default"].ENTER,o["default"].SPACE].includes(t.keyCode)&&(t.preventDefault(),i.toggle(),e.$apply())})}return{restrict:"A",require:"ewfToggleSwitch",link:e}}t.__esModule=!0,t["default"]=i;var r=n(132),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfAccessibleToggleSwitch"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n,u,c){e(function(){var e=u.find(c[r+"InputSelector"]),s=c[r+"DropdownSelector"],l=Number(c[r+"AdditionalMargin"])||0,d={$element:u,inputElement:e,additionalMargin:l},f=c[r+"Type"];if(f===i)return void t.initializeIntervalForAutocomplete(d,s);var p=u.find(s);f===o?t.initializeVisibilityWatch(n,d,p):f===a&&t.initializeHeightWatch(n,d,p)})}var i="autocomplete",o="visibility",a="height";return{restrict:"A",link:n}}i.$inject=["$timeout","moveErrorsUnderDropdownService"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfMoveErrorsUnderDropdown"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t,n){var i=t.$element,o=t.inputElement,a=t.additionalMargin;e.$watch(function(){return n.outerHeight()},function(e){var t=o.outerHeight()+e+a;i.find(r).css("top",t).css("width",e?n.outerWidth():"auto")})}function n(e,t,n){var i=t.$element,o=t.inputElement,a=t.additionalMargin;e.$watch(function(){return n.is(":visible")},function(e){var t=e?n.outerHeight():0;i.find(r).css("top",o.outerHeight()+a+t).css("display",e?"block":"").css("visibility",e?"visible":"").css("opacity",e?"1":"")})}function i(t,n){var i=t.$element,a=t.inputElement,u=t.additionalMargin;e(function(){var e=i.find(n),t=e.is(":visible"),o=t?e.outerHeight():0,c=a.outerHeight()+u+o,s=t?e.outerWidth():"";i.find(r).css("top",c).css("width",s)},o)}var r=".msg-error",o=500;return{initializeHeightWatch:t,initializeVisibilityWatch:n,initializeIntervalForAutocomplete:i}}i.$inject=["$interval"],t.__esModule=!0,t["default"]=i,i.NG_NAME="moveErrorsUnderDropdownService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t){return e.getFormattedSortingParameter(t)}function i(e){return{pageNumber:e.pageIndex,pageSize:e.pageSize}}function r(n){var r=i(n.currentPage),o=t.getParamsString(r),u=[a(n)];return""+o+e.getSortingParamsString(u)}function a(e){return e.uiDefinedSortingParameter||e.defaultSortingParameter||{}}function u(e,t){e.defaultSortingParameter=n({sortingParameter:t,sortingDirection:o["default"].ASC})}function c(e,t){e.uiDefinedSortingParameter=n(t)}return{getFormattedSortingParameter:n,getPaginationAndSortingParamsString:r,getCurrentSortingParameter:a,setDefaultSortingParameter:u,setUiDefinedSortingParameter:c}}i.$inject=["sortingParametersService","queryParamsService"],t.__esModule=!0,t["default"]=i;var r=n(40),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="backEndSortingPreparationService"},function(e,t,n){"use strict";function i(){function e(e,t){var i=e.sortingParameters,r=i===undefined?[]:i;if(!r.length)return n();var o=r.filter(function(e){return!e.predefined}),a=o.map(function(e){return e&&e.title}),u=n().filter(function(e){var t=e.title;return!a.includes(t)});return t?[].concat(r,u):[].concat(o,u)}function t(e){var t=e.sortingParameter,n=e.sortingDirection;return t&&n?{title:t,direction:n}:{}}function n(){return[o["default"].NICKNAME,o["default"].CONTACT_ID]}function i(){return o["default"].PROFILE_CONTACT}function r(e){return o["default"][e]||{}}function a(e,t){t&&e.sortingParameters.push(r(t))}function u(e){if(!e)return"";var t=e.filter(c).map(function(e){return"sortingParameter="+e.title+"&sortingDirection="+e.direction}).join("&");return t?"&"+t:""}function c(e){return e&&!!e.title}return{getSortingParameters:e,getFormattedSortingParameter:t,getHiddenSortingParameters:n,getProfileContactSortingParameter:i,getPredefinedSortingParameterOption:r,addPredefinedSortingParam:a,getSortingParamsString:u}}t.__esModule=!0,t["default"]=i;var r=n(1228),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="sortingParametersService"},function(e,t,n){"use strict";t.__esModule=!0;var i=n(40),r=function(e){return e&&e.__esModule?e:{"default":e}}(i);t["default"]={PROFILE_CONTACT:{title:"profileContact",direction:r["default"].DESC,predefined:!0},favoriteShipFrom:{title:"favoriteShipFrom",direction:r["default"].DESC,predefined:!0},favoriteShipTo:{title:"favoriteShipTo",direction:r["default"].DESC,predefined:!0},NICKNAME:{title:"nickname",direction:r["default"].ASC,predefined:!0},CONTACT_ID:{title:"contactId",direction:r["default"].ASC,predefined:!0}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){"ngInject";function i(e){return t.getBooleanIfSupportedByCountry(t.CI_KEYS.CI1285_ENABLE_GST_DATA,e)}function r(){return n.getUserCountry()===a["default"].INDIA}function o(){return r()&&n.hasDhlAccounts()}function u(e){return e===c["default"].NON_GIFT_NON_SAMPLE}function s(e){return e===a["default"].INDIA}function l(t){return o()&&s(t)&&i(t)||e.when(!1)}function d(){return p?e.when(p):e.all([t.getSourceData(t.CI_KEYS.CI1409_GIFT_SAMPLE_REASON_FOR_EXPORT,a["default"].INDIA),t.getSourceData(t.CI_KEYS.CI1410_NON_GIFT_NON_SAMPLE_REASON_FOR_EXPORT,a["default"].INDIA),t.getSourceData(t.CI_KEYS.CI1411_CARGO_REASON_FOR_EXPORT,a["default"].INDIA)]).then(function(e){var t,n=e[0],i=e[1],r=e[2];return t={},t[c["default"].GIFT]=f(n),t[c["default"].NON_GIFT_NON_SAMPLE]=f(i),t[c["default"].CARGO]=f(r),p=t,p})}function f(e){return(e||[]).map(function(e){return e.value})}var p=void 0;return{isGstDataEnabled:i,isIndiaUser:r,isIndiaUserWithAccount:o,isCsbvShipment:u,isShipmentFromIndia:s,isIndiaFlowShipment:l,loadIndiaShippingPurpose:d}}r.$inject=["$q","configService","userService"],t.__esModule=!0,t["default"]=r;var o=n(4),a=i(o),u=n(252),c=i(u);r.NG_NAME="indiaFlowService"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(t){var n=e.defer();return e.all([a(t),u(t)])["finally"](n.resolve),n.promise}function a(t){return t.isExtendedLiabilitySectionInitialized?e.when():c().then(function(e){return t.extendedLiability=!e&&t.extendedLiability})}function u(t){return t.isInsureShipmentSectionInitialized?e.when():s().then(function(e){return t.insureShipment=!e&&t.insureShipment})}function c(){return l()?t.get("/api/shipment/extended-liability/available").then(function(e){return"true"===e.data}):e.when(!1)}function s(){return l()?d():e.when(!1)}function l(){return i.getCoreRestriction(o["default"].INSURANCE_SERVICE_ENABLED)}function d(e){return n.getBoolean(n.CI_KEYS.CI0469_INSURANCE_VISIBILITY,e)}return{applyShipmentProtectionAvailability:r,isShipmentExtendedLiabilityEnabled:c,isInsuranceServiceEnabled:l,isInsuranceConfiguredAsVisible:d}}i.$inject=["$q","$http","configService","userService"],t.__esModule=!0,t["default"]=i;var r=n(36),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="shipmentProtectionAvailabilityService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(){try{var t=o["default"].KEY_FOR_AVAILABILITY_CHECK;return e.sessionStorage.setItem(t,t),e.sessionStorage.removeItem(t),!0}catch(n){return!1}}function n(n,i){t()&&e.sessionStorage.setItem(n,i)}function i(t){return e.sessionStorage.getItem(t)}return{isAvailable:t,checkAvailabilityAndSetItem:n,getItem:i}}i.$inject=["$window"],t.__esModule=!0,t["default"]=i;var r=n(886),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="sessionStorageService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(n){return e.all([t.getBoolean(t.CI_KEYS.CI0657_ALLOW_PICKUP_ONLY_WITH_AUTHORIZED_PICKUP_LOCATIONS,n),t.getBoolean(t.CI_KEYS.CI1448_EXCLUDE_AUTHORIZED_PICKUP_LOCATIONS_USAGE_FOR_FOREIGN_IMP_ACCOUNTS,n)])}function r(e){return e.importAccount&&e.accountCountryCode!==n.getUserCountry()}return{fetchAuthorizedPickupLocationsConfigs:i,isForeignImportAccount:r}}i.$inject=["$q","configService","userService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="authorizedPickupLocationsCommonService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1234),o=i(r),a=n(1235),u=i(a),c=angular.module("common.iframe",[]);c.directive(o["default"].NG_NAME,o["default"]).service(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="common.iframe"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n){var i=e.document.createElement("iframe");Object.assign(i,{src:t.src,onload:t.onLoad,className:t.className}),n.append(i)}return{restrict:"A",scope:{src:"="+r,onLoad:"=?"+r+"OnLoad",className:"@?"+r+"ClassName"},link:t}}i.$inject=["$window"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfIframe"},function(e,t,n){"use strict";function i(){function e(e){return angular.isString(e)&&!!e.length}function t(e){try{return JSON.parse(e).messageKey||"errors.common_msg_service-unavailable"}catch(t){return"errors.common_msg_service-unavailable"}}return{hasError:e,extractErrorMsg:t}}t.__esModule=!0,t["default"]=i,i.NG_NAME="iframeErrorService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n){var i=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],r=t+"="+n;Object.keys(i).forEach(function(e){r=r+";"+e;var t=i[e];!0!==t&&(r=r+"="+t)}),e[0].cookie=r}function n(e,n){var i=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];i.path="/",t(e,n,i)}function i(t){var n=e[0].cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return n?n[1]:undefined}function r(e,n){t(e,"",Object.assign({},n,{expires:a}))}function o(e,t){n(e,"",Object.assign({},t,{expires:a}))}var a="Thu, 01 Jan 1970 00:00:00 GMT";return{put:t,putRootCookie:n,get:i,remove:r,removeRootCookie:o}}i.$inject=["$document"],t.__esModule=!0,t["default"]=i,i.NG_NAME="cookiesService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){return t.msie<9}function i(){if(!n()){var t;(t=e.console).log.apply(t,arguments)}}function r(){if(!n()){var t;(t=e.console).warn.apply(t,arguments)}}function o(){if(!n()){var t;(t=e.console).error.apply(t,arguments)}}function a(){if(!n()){var t;(t=e.console).debug.apply(t,arguments)}}return{log:i,warn:r,error:o,debug:a}}i.$inject=["$window","$sniffer"],t.__esModule=!0,t["default"]=i,i.NG_NAME="logService"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n,r){"ngInject";function c(e){d(e);var t=f(e.require);return Object.assign({},N,e,{scope:{},restrict:"A",require:t.directiveNames.length?t.directiveNames:null,compile:function(){function n(){return p(e,t.aliases,this.name)}return n}()})}function d(e){Object.keys(e).forEach(function(e){o[e]&&r.error(o[e])}),(angular.isString(e.require)||angular.isArray(e.require))&&r.error(u.require)}function f(e){return Object.keys(e||{}).reduce(function(t,n){return t.directiveNames.push(e[n]),t.aliases.push(n),t},{directiveNames:[],aliases:[]})}function p(e,t,n){var i=e.controllerAs||N.controllerAs,o=m(e.bindings||{},n);return{pre:function(){function e(e,a,u,c){var s=e[i],l=_(s,u,e,o,n);if(A(s,c,t),angular.isFunction(s.$onChanges))try{s.$onChanges(l)}catch(d){r.error(d)}if(angular.isFunction(s.$onInit))try{s.$onInit()}catch(f){r.error(f)}angular.isFunction(s.$doCheck)&&(e.$watch(function(){I(s)}),I(s)),angular.isFunction(s.$onDestroy)&&e.$on("$destroy",function(){s.$onDestroy()})}return e}(),post:function(){function e(e){var t=e[i];angular.isFunction(t.$postLink)&&t.$postLink()}return e}()}}function m(e,t){return Object.keys(e).reduce(function(n,i){var o=e[i],a=o.match(/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/);return a?(n[i]={mode:a[1][0],isOptional:"?"===a[3],attrName:a[4]||i},n):(r.error(u.invalidBinding({componentName:t,bindingName:i,definition:o})),n)},{})}function _(e,t,n,i,r){function o(t,i,r){angular.isFunction(e.$onChanges)&&!angular.equals(i,r)&&(T||(n.$$postDigest(h),T=[]),u||(u={},T.push(a)),u[t]=new l(i,r))}function a(){e.$onChanges(u),u=undefined}var u=void 0,c={};return angular.forEach(i,function(i,a){v[i.mode](e,t,a,i.attrName,n,i.isOptional,r,c,o)}),c}function E(e,n,i,o,a,c,d,f,p){var m=a.$parent,_=s;n.hasOwnProperty(o)||c||r.error(u.requiredAttributeIsMissed({attrName:o,componentName:d})),n.$observe(o,function(t){p(i,_,t),_=e[i]=t}),angular.isDefined(n[o])&&(e[i]=t(n[o])(m),f[i]=new l(_,e[i]),_=e[i])}function S(t,n,i,o,a,c,s){function l(){function e(){r.error(u.nonAssignableExpression({value:a,expression:n[o],componentName:s})),p=t[i]=d(f)}var a=d(f);if(!angular.equals(t[i],a))if(angular.equals(a,p)){var c=d.assign||e;a=t[i],c(f,a)}else t[i]=a;return p=a}var d=e(n[o]),f=a.$parent,p=t[i]=d(f);if(!n.hasOwnProperty(o)){if(c)return;r.error(u.requiredAttributeIsMissed({componentName:s,attrName:o}))}a.$watch(l,null,d.literal)}function g(t,n,i,o,a,c,s){var l=a.$parent,d=void 0;if(n.hasOwnProperty(o))d=e(n[o]);else{if(c)return;r.error(u.requiredAttributeIsMissed({attrName:o,componentName:s})),d=function(){}}t[i]=function(e){return d(l,e)}}function C(t,n,i,o,a,c,d,f,p){function m(e,n){e===n&&e===g||(p(i,S,e),S=t[i]=e)}var _=e(n[o]),E=a.$parent,S=s;if(!n.hasOwnProperty(o)){if(c)return;r.error(u.requiredAttributeIsMissed({componentName:d,attrName:o}))}var g=t[i]=_(E);f[i]=new l(S,g),S=g,a.$watch(function(){return _(E)},m,_.literal)}function A(e,t,n){n.forEach(function(n,i){e[n]=t[i]})}function h(){if(!--M)return T=undefined,void r.error(u.unstableOnChanges());n.$apply(function(){var e=[];T.forEach(function(t){try{t()}catch(n){e.push(n)}}),e.forEach(function(e){r.error(e)}),T=undefined}),M++}function I(e){try{e.$doCheck()}catch(t){r.error(t)}}var v={"@":E,"=":S,"&":g,"<":C},N={controller:function(){function e(){i(this,e)}return e}(),controllerAs:"$ctrl"},T=void 0,M=a;return c}r.$inject=["$parse","$interpolate","$rootScope","logService"],t.__esModule=!0,t["default"]=r;var o={scope:'"scope" should not be used in component definition object. Use "bindings" or create regular directive. Note: component always creates isolated scope',compile:'"compile" function is not allowed in component definition object. Use regular directive instead',link:'"link" object/function is not allowed in component definition object. Use component lifecycle hooks or regular directive instead',bindToController:'"BindToController" is not allowed in component definition object. Use "bindings" instead',multiElement:'"multiElement" is not allowed in component definition object. Use regular directive instead',priority:'"priority" is not allowed in component definition object. Use regular directive instead',terminal:'"terminal" is not allowed in component definition object. Use regular directive instead',templateNamespace:'"templateNamespace" is not allowed in component definition object. Use regular directive instead',restrict:'"restrict" is not allowed in component definition object. The default restriction is to attribute'},a=10,u=t.errors=Object.assign({},o,{require:'"require" definition should be a map between aliases and required directives',unstableOnChanges:function(){function e(){return"Infinite $onChanges loop. "+a+" iteration reached. Aborting!"}return e}(),invalidBinding:function(){function e(e){return'Invalid binding definition for component "'+e.componentName+'". Definition: {... '+e.bindingName+': "'+e.definition+'" ...}'}return e}(),requiredAttributeIsMissed:function(){function e(e){return'Attribute "'+e.attrName+'" is required by "'+e.componentName+'", but was not attached to node. Please add the attribute or use optional binding'}return e}(),nonAssignableExpression:function(){function e(e){return"Tried to assign value "+JSON.stringify(e.value)+" to non-assignable expression: "+e.expression+' for component "'+e.componentName+'"'}return e}()}),c=function(){function e(){i(this,e)}return e}(),s=new c,l=t.Change=function(){function e(t,n){i(this,e),this.previousValue=t,this.currentValue=n}return e.prototype.isFirstChange=function(){function e(){return this.previousValue===s}return e}(),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){"ngInject";function i(e){return s(_(),e)||A()===e||r()===e}function r(){var t=""+_()+(e.location.hash||""),n=Object.values(a["default"]);return n.find(function(e){return s(t,e)})||o(t,n)}function o(e,t){return n.sortBy(t.filter(function(t){return u(e,t)}),["length"]).pop()}function u(e,t){return e.startsWith(t)||e.startsWith("/"+t)}function s(e,t){return e===t||e==="/"+t}function l(){var t=arguments.length<=0||arguments[0]===undefined?e.location.pathname:arguments[0],n=[undefined,undefined,M,M,t],i=y.exec(t)||n;return{basePath:i[1],country:i[2],language:i[3],path:i[4]}}function d(e){return T.includes(e)}function f(e,t){return[e,t].includes(M)}function p(){return e.location.origin.includes("//localhost")}function m(){var e=l(),t=e.country,n=e.language,i=d(t)?c["default"].UNITED_STATES.toLowerCase():t;return{countryId:i,countryAlpha2Code:i&&i.toUpperCase(),langId:n,pathCountry:t}}function _(e){return l(e).path}function E(){var e=l();return e.basePath+"/"+e.country+"/"+e.language}function S(t){if(g(t))return"";var n=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+n+"=([^&#]*)"),r=i.exec(v())||i.exec(e.location.hash);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))}function g(t){var n=e.location,i=n.search,r=i===undefined?"":i,o=n.hash,a=o===undefined?"":o;return!r.includes(t)&&!a.includes(t)}function C(){return e.location.origin||e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")}function A(){return t.url()}function h(){return t.hash()}function I(e){t.hash(e)}function v(){var t=e.location.search;return t?t+"#/#":"#"+e.location.hash.split("#")[1]+"#"}function N(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(S)}var T=["master_languages","ewf"],M="xx",y=/^(.*?)\/(master_languages|ewf|index|\w{2})\/(\w{2})(\/.*|\..*)$/;return{isSystemCountryCode:d,isUnknownCoutryOrLanguage:f,isPage:i,isLocalhost:p,getPage:r,getPath:_,getBasePath:E,getCountryLang:m,getAllParams:v,getParamFromUrl:S,getOriginFromUrl:C,getLocationUrl:A,getHash:h,setHash:I,splitPath:l,isUrlContainingSomeParam:N}}r.$inject=["$window","$location","sortService"],t.__esModule=!0,t["default"]=r;var o=n(21),a=i(o),u=n(4),c=i(u);r.NG_NAME="pathService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o,u,s,d){"ngInject";function f(){e.history.back()}function p(e,t,n){var i=t&&m(Le,t),r=n&&m(Ge,n.substring(0,ke)),o=[i,r].filter(Boolean).join(Re),a=e?encodeURIComponent(e):"";he(""+be+a+(o&&"?")+o)}function m(e,t){return e+"="+encodeURIComponent(t)}function _(t){var n=arguments.length<=1||arguments[1]===undefined?ye:arguments[1],i=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];switch(n){case ye:e.location=t;break;case Oe:o.redirect(t,i);break;default:throw new Error("Provided method not allowed")}}function E(t){var n=arguments.length<=1||arguments[1]===undefined?"":arguments[1],i=arguments.length<=2||arguments[2]===undefined?"":arguments[2],o=e.location.pathname,a=r.get(c["default"].USER_LANGUAGE),s=u.splitPath(o),l=s.country,d=s.language;if(!u.isUnknownCoutryOrLanguage(l,d)){var f=S(l,n),p=a||i.toLowerCase()||d;Ae("/"+f.toLowerCase()+"/"+p+"/"+t)}}function S(e,t){return u.isSystemCountryCode(e)?e:t.toLowerCase()||e}function g(e){he(e)}function C(e,t,n,i){var r=A(t);E(""+e+(r&&"?"+r),n,i)}function A(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return Object.keys(e).filter(function(t){var n=e[t];return""!==n&&n!==undefined&&null!==n}).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function h(){var e=arguments.length<=0||arguments[0]===undefined?"":arguments[0],t=arguments.length<=1||arguments[1]===undefined?"":arguments[1];E(a["default"].LOGIN_PAGE,e,t)}function I(e){C(a["default"].SSO_ERROR_PAGE,e)}function v(){E(a["default"].PASSWORD_EXPIRED_PAGE)}function N(){E(a["default"].CHANGE_EXPIRED_PASSWORD_PAGE)}function T(){E(d.isNewLook?a["default"].HOME_TEMPLATE_LOGOUT_PAGE:a["default"].LOGOUT_PAGE)}function M(e,t,n){C(a["default"].HOME_PAGE,n,e,t)}function y(){u.isPage(a["default"].HOME_PAGE)?Se():E(a["default"].HOME_PAGE)}function O(e){var t;C(a["default"].SHIPMENT_PAGE,(t={shipmentId:e},t[l["default"].IS_SHIPMENT_EDIT_MODE]=!0,t))}function D(e,t,n,i){C(a["default"].SHIPMENT_PAGE+(t?"#/":""),e,n,i)}function P(e){var t=u.getAllParams();E(""+a["default"].SHIPMENT_PAGE+t+e)}function R(e){E(e?a["default"].MANAGE_SHIPMENT_DEFAULTS+"?section="+e:a["default"].MANAGE_SHIPMENT_DEFAULTS)}function b(e){E(a["default"].MANAGE_SHIPMENTS_DETAILS_PAGE+"?shipmentId="+e)}function L(){E(a["default"].LOGIN_PAGE+"?declineShipment=true")}function G(){E(a["default"].HOME_PAGE+"?declineShipment=true")}function k(e,t){E(e?a["default"].LINK_ERROR_PAGE+"?error="+e+"&token="+t:a["default"].LINK_ERROR_PAGE)}function w(){E(a["default"].HELP_CENTER_PAGE)}function U(e){return E(e?a["default"].MANAGE_PICKUPS_EDIT_PAGE+"?pickupId="+e:""+a["default"].MANAGE_PICKUPS_PAGE)}function F(e){E(a["default"].MANAGE_PICKUPS_DETAILS_PAGE+"?pickupId="+e)}function j(e){E(a["default"].PICKUP_PAGE+"?shipmentId="+e+a["default"].SCHEDULE_PICKUP_HASH)}function V(){var e=u.getParamFromUrl(l["default"].SHIPMENT_ID);E(a["default"].DECLINE_ASSIGNED_SHIPMENT+"?assignedShipment="+e)}function B(e){E(a["default"].ASSIGNED_SHIPMENT_STATUS+"?status="+e)}function $(e,n,i,r){var o=t.path(),u={shipmentId:e,completeAction:i};n&&(u.returnShipmentId=n),r&&(u[l["default"].B2L_SHIPMENT]=r),s.attempt(function(){return C(a["default"].SHIPMENT_COMPLETE_PAGE,u)},function(){return t.path()!==o},De)}function H(e){C(a["default"].MANAGE_SHIPMENTS_PAGE,e)}function x(e){C(a["default"].AUTHORIZED_ACCOUNT_USAGE_PAGE,{authorizationKey:e})}function K(e){C(a["default"].PICKUP_PAGE,e)}function Y(e){C(a["default"].SHIPMENT_PRINT_PAGE,e)}function W(){E(a["default"].NOT_FOUND_PAGE)}function q(e){var n={url:t.absUrl(),uid:e};r.putRootCookie(c["default"].REQUESTED_URL_COOKIE_NAME,JSON.stringify(n))}function z(){return r.get(c["default"].REQUESTED_URL_COOKIE_NAME)}function X(){r.removeRootCookie(c["default"].REQUESTED_URL_COOKIE_NAME)}function Q(e){X(),_(e)}function Z(){E(a["default"].ADDRESS_BOOK)}function J(e){C(a["default"].ADDRESS_BOOK_IMPORT,e)}function ee(){E(a["default"].ACCOUNT_ACTIVATED_PAGE)}function te(e){E(a["default"].TRACKING_RESULTS_PAGE+"?"+e)}function ne(e){C(a["default"].NEW_CONTACT_PAGE,e)}function ie(e){C(a["default"].VIEW_CONTACT_PAGE,e)}function re(e){C(a["default"].RATE_AND_QUOTE_PAGE,e)}function oe(e){C(a["default"].RETURN_LABEL_PAGE,e)}function ae(){E(a["default"].CUSTOMS_ENROLLMENT_PAGE)}function ue(e){C(a["default"].RESET_PASSWORD_PAGE,e)}function ce(){E(a["default"].CORPORATE_USERS)}function se(){E(a["default"].CORPORATE_EXTERNAL_MODULES)}function le(e){C(a["default"].TENANT_LOGIN,e)}function de(e,n){var r=a["default"].SEARCH.slice(0,-1);if(!u.isPage(r))return void C(a["default"].SEARCH,{searchTerm:e,isQuickLink:n});t.search(l["default"].SEARCH_TERM,e),n&&t.search(l["default"].IS_QUICK_LINK,String(n)),i(Se)}function fe(e,t,n){_(e,t,n)}function pe(e){Ie(e)}function me(){E(a["default"].MANAGE_DHL_ACCOUNTS_PAGE)}function _e(){E(a["default"].PROVIEW)}function Ee(e){E(a["default"].REPORTING_VIEW.replace("{key}",e))}function Se(){e.location.reload()}function ge(e,t){var n=e.currentTarget.href;n&&"#"!==n&&!Te(n)&&(e.preventDefault(),t().then(function(){return _(n)}))}function Ce(e){e.startsWith("/")?Ae(e.replace(Pe,"")):he(e)}function Ae(t){var n=e.location.href,i=u.splitPath(n),r=i.basePath,o=t.startsWith(r)?t:""+r+t;n!==o&&he(o)}function he(t){e.location.href=t}function Ie(t){e.open(t)}function ve(e,t,n){function i(e){(n?Te(e.currentTarget.href,e.currentTarget.hash):Te(e.currentTarget.href))&&r()}var r=t||Se;e.on("click","a",i)}function Ne(e){return e.replace(/\//g,"")}function Te(n){var i=arguments.length<=1||arguments[1]===undefined?"":arguments[1];if(!Ne(i.replace("#","")))return n===e.location.href;var r=t.url().split("#"),o=r[0],a=i.replace("#","").split("#"),u=a[0];return Ne(o)===Ne(u)}function Me(e){E(a["default"].RATE_AND_QUOTE_PAGE),e&&Se()}var ye="GET",Oe="POST",De=500,Pe="/content/dhl",Re="&",be="mailto:",Le="subject",Ge="body",ke=2e3;return{METHOD_GET:ye,METHOD_POST:Oe,applyNewHref:he,openHrefInNewWindow:Ie,goBack:f,openOnlineBillingPage:pe,mailTo:p,redirectToRelativePath:g,redirectToLogin:h,redirectToSsoError:I,redirectToLoginWithDeclineMsg:L,redirectToLogout:T,redirectToHome:M,forceRedirectToHome:y,redirectToHomeWithDeclineMsg:G,redirectToShipmentEditPage:O,redirectToCreateShipment:D,redirectToShipmentComplete:$,redirectToShipmentPrint:Y,redirectToReturnLabelPage:oe,redirectToRateAndQuotePage:re,redirectToDeclineAssignedShipment:V,redirectToAssignedShipmentStatus:B,redirectToShipmentsOverview:H,redirectToManageShipmentDetails:b,redirectToHelpCenter:w,redirectToLinkError:k,redirectToNotFoundPage:W,redirectToPasswordExpired:v,redirectToChangeExpiredPassword:N,redirectToResetPasswordPage:ue,redirectToManagePickups:U,redirectToPickup:K,redirectToPickupDetails:F,redirectToCreatePickupById:j,redirectToAuthorizedAccountPage:x,redirectToAccountActivatedPage:ee,redirectToShipmentSettings:R,redirectToCreateShipmentSection:P,redirectToCustomsEnrollmentPage:ae,redirectToAddressBook:Z,redirectToAddressBookImport:J,redirectToNewContactPage:ne,redirectToViewContactPage:ie,redirectToTrackingResultsPage:te,redirectToBillingSystemPage:fe,redirectToManageDhlAccountsPage:me,redirectToProview:_e,redirectToReportingView:Ee,redirectToCorporateUsers:ce,redirectToCorporateExternalModules:se,redirectToTenantLogin:le,redirectToSearchResultPage:de,getPreviouslyRequestedUrl:z,redirectToPreviouslyRequestedUrl:Q,setRequestedUrl:q,reloadPage:Se,handleUserLeavingPage:ge,redirectToCountryUrl:Ce,subscribeOnSameUrlClick:ve,isSamePage:Te,navigateToRateAndQuote:Me}}r.$inject=["$window","$location","$rootScope","$timeout","cookiesService","postRedirectorService","pathService","retryUntilDoneService","newLookModel"],t.__esModule=!0,t["default"]=r;var o=n(21),a=i(o),u=n(14),c=i(u),s=n(1),l=i(s);r.NG_NAME="navigationService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t){var r=n("form");r.method="POST",r.action=e,angular.forEach(t,function(e,t){var i=n("input");Object.assign(i,{name:t,value:e}),r.appendChild(i)}),i().appendChild(r),r.submit()}function n(t){return e.document.createElement(t)}function i(){return e.document.body}return{redirect:t}}i.$inject=["$window"],t.__esModule=!0,t["default"]=i,i.NG_NAME="postRedirectorService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1243),o=i(r),a=n(1244),u=i(a),c=n(1245),s=i(c),l=n(1246),d=i(l),f=n(1247),p=i(f),m=n(1248),_=i(m),E=n(1249),S=i(E),g=n(1250),C=i(g),A=n(1251),h=i(A),I=n(1252),v=i(I),N=n(390),T=i(N),M=n(1253),y=i(M),O=n(1254),D=i(O),P=angular.module("objectMapper",[]);P.service(o["default"].NG_NAME,o["default"]).factory(u["default"].NG_NAME,u["default"]).factory(v["default"].NG_NAME,v["default"]).factory(T["default"].NG_NAME,T["default"]).factory(s["default"].NG_NAME,s["default"]).factory(d["default"].NG_NAME,d["default"]).factory(p["default"].NG_NAME,p["default"]).factory(_["default"].NG_NAME,_["default"]).factory(S["default"].NG_NAME,S["default"]).factory(C["default"].NG_NAME,C["default"]).factory(h["default"].NG_NAME,h["default"]).factory(y["default"].NG_NAME,y["default"]).factory(D["default"].NG_NAME,D["default"]),t.module=P,t["default"]="objectMapper"},function(e,t,n){"use strict";function i(){function e(e,t){return t.find(function(t){return t===e||t.key===e})}function t(e){return angular.isObject(e)&&e.propertyMap}function n(e,n,i,r){i[n]=t(e)?r.map(function(t){return o(t,e.propertyMap)}):r}function i(e,n,i,r){i[n]=t(e)?o(r,e.propertyMap):r}function r(e,t){return angular.isObject(t)&&t.newKey?t.newKey:e}function o(t,o){if(!t)return null;if(!o||0===o.length)throw new Error("propertyMap cannot be undefined or empty");var a={};return Object.keys(t).forEach(function(u){var c=e(u,o);if(c){var s=t[u],l=r(u,c);angular.isArray(s)?n(c,l,a,s):angular.isObject(s)?i(c,l,a,s):a[l]=s}}),a}function a(e){return angular.isObject(e)?(Object.entries(e).forEach(function(t){var n=t[0],i=t[1];e[n]=a(i)}),e):u(e)}function u(e){return["",undefined].includes(e)?null:e}return{map:o,mapEmptyValuesToNull:a}}t.__esModule=!0,t["default"]=i,i.NG_NAME="objectMapperService"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n,r,o,a,u){"ngInject";function c(e){return new s(e)}var s=function(){function c(s){i(this,c),Object.assign(this,{key:s.key,contactDetails:e.create(s.contactDetails),paymentSetting:t.create(s.paymentSetting),pickupSetting:n.create(s.pickupSetting),notifications:r.create(s.notifications),shippingSetting:o.create(s.shippingSetting),shareSetting:a.create(s.shareSetting),mailingListSetting:u.create(s.mailingListSetting)})}return c}();return{create:c}}r.$inject=["contactDetailsFactory","paymentSettingFactory","pickupSettingFactory","notificationsFactory","shippingSettingFactory","contactShareSettingFactory","mailingListSettingFactory"],t.__esModule=!0,t["default"]=r,r.NG_NAME="addressBookContactFactory"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n,r){"ngInject";function o(e){return{addressDetails:t.create(e.addressDetails)}}function a(e){return{taxDetails:n.create(e.taxDetails)}}function u(e,t){var n;return n={},n[t]=e[t]&&r.create(e[t]),n}function c(e){return new l(e)}var s=["name","nickname","company","email","email2","email3","email4","email5","matchCode","favoriteShipTo","favoriteShipFrom","additionalNotes","businessContactType","personalIdentifiableInformation"],l=function(){function t(n){i(this,t),Object.assign(this,e.map(n,s),o(n),a(n),u(n,"phoneDetails"),u(n,"phoneDetails2"),u(n,"phoneDetails3"),u(n,"phoneDetails4"),u(n,"phoneDetails5"))}return t}();return{create:c}}r.$inject=["objectMapperService","addressDetailsFactory","taxDetailsFactory","phoneDetailsFactory"],t.__esModule=!0,t["default"]=r,r.NG_NAME="contactDetailsFactory"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){"ngInject";function t(e){return new o(e)}var n=["key","alternateAccountNumber","alternateAccountNickname","type"],r=[{key:"defaultAccount",propertyMap:n},"useDefaultAccountAsShippingCharges",{key:"accountForShippingCharges",propertyMap:n},"splitDutiesAndTaxes",{key:"accountForDuties",propertyMap:n},{key:"accountForTaxes",propertyMap:n},"selectedTermOfTrade"],o=function(){function t(n){i(this,t),Object.assign(this,e.map(n,r))}return t}();return{create:t}}r.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=r,r.NG_NAME="paymentSettingFactory"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){"ngInject";function t(e){return new r(e)}var n=["selectedPickupLocation","instructionsForCourier"],r=function(){function t(r){i(this,t),Object.assign(this,e.map(r,n))}return t}();return{create:t}}r.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=r,r.NG_NAME="pickupSettingFactory"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){"ngInject";function t(e){return new r(e)}var n=[{key:"emailNotifications",propertyMap:["email","language","notificationEvents"]},{key:"smsNotifications",propertyMap:["language","notificationEvents","phone","phoneCountryCode"]}],r=function(){function t(r){i(this,t),Object.assign(this,e.map(r,n))}return t}();return{create:t}}r.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=r,r.NG_NAME="notificationsFactory"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){"ngInject";function t(e){return new r(e)}var n=["currency","referencesForShipments"],r=function(){function t(r){i(this,t),Object.assign(this,e.map(r,n))}return t}();return{create:t}}r.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=r,r.NG_NAME="shippingSettingFactory"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){"ngInject";function t(e){if(e){var t=e.sharedInfo;t&&Object.keys(t).forEach(function(e){return t[e]=t[e]||null})}}function n(e){return new o(e)}var r=["sharedInfo","emailMessage"],o=function(){function n(o){i(this,n),t(o),Object.assign(this,e.map(o,r))}return n}();return{create:n}}r.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=r,r.NG_NAME="contactShareSettingFactory"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){"ngInject";function t(e){return new r(e)}var n=["selectedMailingLists"],r=function(){function t(r){i(this,t),Object.assign(this,e.map(r,n))}return t}();return{create:t}}r.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=r,r.NG_NAME="mailingListSettingFactory"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){"ngInject";function t(e){return new r(e)}var n=[].concat(a["default"],["citySuburbName","countryDivisionCode","countryDivisionTypeCode","residentialAddress","streetNumber"]),r=function(){function t(r){i(this,t),Object.assign(this,e.map(r,n))}return t}();return{create:t}}r.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=r;var o=n(438),a=function(e){return e&&e.__esModule?e:{"default":e}}(o);r.NG_NAME="addressDetailsFactory"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n,r){"ngInject";function o(e){return new u(e)}var a=["title","name","company","businessContactType","selectedcnpjOrCPFTaxID"],u=function(){function o(u){i(this,o);var c=u.contactDetails;this.contactDetails=Object.assign(e.map(c,a),{addressDetails:t.create(c.addressDetails),taxDetails:n.create(c.taxDetails),phoneDetails:r.create(c.phoneDetails),phoneDetails2:c.phoneDetails2&&r.create(c.phoneDetails2),phoneDetails3:c.phoneDetails3&&r.create(c.phoneDetails3),phoneDetails4:c.phoneDetails4&&r.create(c.phoneDetails4),phoneDetails5:c.phoneDetails5&&r.create(c.phoneDetails5)})}return o}();return{create:o}}r.$inject=["objectMapperService","addressDetailsFactory","taxDetailsFactory","phoneDetailsFactory"],t.__esModule=!0,t["default"]=r,r.NG_NAME="myProfileContactFactory"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){"ngInject";function t(e){return new n(e)}var n=function(){function t(n){i(this,t),Object.assign(this,e.map(this.mapTaxDetails(n),a["default"]))}return t.prototype.mapTaxDetails=function(){function e(e){return e.iecTaxId=e.iecTaxId||null,e}return e}(),t}();return{create:t}}r.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=r;var o=n(391),a=function(e){return e&&e.__esModule?e:{"default":e}}(o);r.NG_NAME="taxDetailsFactory"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){return t.get(r).then(function(e){return e.data})}function i(n,i){var u=o["default"][n];if(u&&!a[u]){var c=r+"/hide/"+u;return t.get(c,{params:{temporary:i},preventNotFoundInterceptor:!0}).then(function(e){var t=e.data;return a[u]=!0,t})}return e.reject()}var r="/api/dashboard/engagement",a=Object.create(null);return{getSection:n,markVisited:i}}i.$inject=["$q","$http"],t.__esModule=!0,t["default"]=i;var r=n(110),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="engagementService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"engagementVisitedSectionCtrl",template:"<span></span>",bindings:{section:"@"+o}})}function r(e){"ngInject";function t(){e.markVisited(n.section)}var n=this;Object.assign(n,{$onInit:t})}i.$inject=["component"],r.$inject=["engagementService"],t.__esModule=!0,t["default"]=i,t.EngagementVisitedSectionController=r;var o=i.NG_NAME="ewfEngagementVisitedSection"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(10),o=i(r),a=n(111),u=i(a),c=n(1271),s=i(c),l=n(1272),d=i(l),f=n(1273),p=i(f),m=n(1274),_=i(m),E=n(1275),S=i(E),g=n(1276),C=i(g),A=n(1277),h=i(A),I=n(1278),v=i(I),N=n(1279),T=i(N),M=n(1280),y=i(M),O=n(1281),D=i(O),P=n(1282),R=i(P),b=n(1283),L=i(b),G=n(1284),k=i(G),w=n(1285),U=i(w),F=angular.module("common.http-interceptors",[o["default"],u["default"]]);F.factory(s["default"].NG_NAME,s["default"]).factory(d["default"].NG_NAME,d["default"]).factory(p["default"].NG_NAME,p["default"]).factory(_["default"].NG_NAME,_["default"]).factory(S["default"].NG_NAME,S["default"]).factory(C["default"].NG_NAME,C["default"]).factory(h["default"].NG_NAME,h["default"]).factory(v["default"].NG_NAME,v["default"]).factory(T["default"].NG_NAME,T["default"]).factory(y["default"].NG_NAME,y["default"]).factory(D["default"].NG_NAME,D["default"]).service(L["default"].NG_NAME,L["default"]).service(R["default"].NG_NAME,R["default"]).service(U["default"].NG_NAME,U["default"]).directive(k["default"].NG_NAME,k["default"]),t.module=F,t["default"]="common.http-interceptors"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i){"ngInject";function r(e){var t,n;return e?(t={},t[c["default"].CORPORATE_ADMIN]=i.ADMIN_TOOLS.CORPORATE_ROLE_SELECT_OPTION_CORPORATE_ADMIN_REGISTRATION,t[c["default"].END_USER]=i.ADMIN_TOOLS.CORPORATE_ROLE_SELECT_OPTION_END_USER_REGISTRATION,t):(n={},n[c["default"].CORPORATE_ADMIN]=i.ADMIN_TOOLS.CORPORATE_ROLE_SELECT_OPTION_CORPORATE_ADMIN,n[c["default"].GROUP_ADMIN]=i.ADMIN_TOOLS.CORPORATE_ROLE_SELECT_OPTION_GROUP_ADMIN,n[c["default"].END_USER]=i.ADMIN_TOOLS.CORPORATE_ROLE_SELECT_OPTION_END_USER,n)}function o(){var e;return e={},e[a["default"].PENDING_ACTIVATION]=i.ADMIN_TOOLS.USER_STATUS_VALUE_LABEL_PENDING_ACTIVATION,e[a["default"].ACTIVE]=i.ADMIN_TOOLS.USER_STATUS_VALUE_LABEL_ACTIVE,e[a["default"].DELETED]=i.ADMIN_TOOLS.USER_STATUS_VALUE_LABEL_DELETED,e[a["default"].LOCKED]=i.ADMIN_TOOLS.USER_STATUS_VALUE_LABEL_LOCKED,e[a["default"].SUSPENDED]=i.ADMIN_TOOLS.USER_STATUS_VALUE_LABEL_DISABLED,e[a["default"].PENDING_REGISTRATION]=i.ADMIN_TOOLS.USER_STATUS_VALUE_LABEL_PENDING_REGISTRATION,e}function u(e,t){var n=r(t);return e.map(function(e){return{code:e,description:n[e]}})}function s(){return u([c["default"].END_USER,c["default"].GROUP_ADMIN,c["default"].CORPORATE_ADMIN])}function d(){return f(e.hasPrivilege(l["default"].ALL_PRIVILEGES.MANAGE_GROUP_ADMINS))}function f(e){var t=[c["default"].END_USER];return e&&t.push(c["default"].GROUP_ADMIN),u(t)}function p(){return u([c["default"].END_USER,c["default"].CORPORATE_ADMIN])}function m(){var t=[c["default"].END_USER];return e.isCorpAdmin()&&t.push(c["default"].CORPORATE_ADMIN),u(t,!0)}function _(n,i){e.hasPrivilege(i)||(n.preventDefault(),t.redirectToNotFoundPage())}function E(t){return n.getBoolean(n.CI_KEYS.CI1358_FORCE_SSO_LOGIN).then(function(n){return n&&e.hasPrivilege(t)})}return{getCorporateRoles:s,getGroupRoles:d,getGroupRolesByPrivilege:f,getUserRoles:p,getRegistrationUserRoles:m,getCorporateRoleLocalizations:r,getUserStatusLocalizations:o,authorizeState:_,isRegistrationNotificationEmailTabAvailable:E}}r.$inject=["userService","navigationService","configService","Messages"],t.__esModule=!0,t["default"]=r;var o=n(393),a=i(o),u=n(79),c=i(u),s=n(91),l=i(s);r.NG_NAME="corporateService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){"ngInject";function i(e){var t=u(e);t&&(s(e),o(r(t)))}function r(e){return angular.element('<iframe class="is-hidden" src="'+e+'"></iframe>')[0]}function o(e){t[0].body.appendChild(e)}function u(t){var i=n.get(l(t));return i?e.trustAsResourceUrl(i):null}function s(e){n.removeRootCookie(l(e))}function l(e){var t;return(t={},t[c["default"].PROVIEW]=a["default"].PROVIEW_LOGOUT_URL,t[c["default"].ESECURE]=a["default"].ESECURE_LOGOUT_URL,t)[e]}return{logoutFromExternalService:i}}r.$inject=["$sce","$document","cookiesService"],t.__esModule=!0,t["default"]=r;var o=n(14),a=i(o),u=n(225),c=i(u);r.NG_NAME="externalServicesLogoutService"},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"ewfModalCtrl",templateUrl:function(){function e(e,t){return t[a+"V2"]?"common/widgets/modal/v2/modal.html":"common/widgets/modal/modal.html"}return e}(),transclude:!0,scope:{title:"@"+a+"Title",dialogWidth:"@"+a+"DialogWidth",noCloseButton:"="+a+"NoCloseButton",noHeader:"="+a+"NoHeader"}}}t.__esModule=!0,t["default"]=i;var r=n(1261),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfModal"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e){e.currentTarget===e.target&&o.$dismiss()}var r=this,o=e.$parent;Object.assign(r,{element:t,clickHandler:i,close:o.$close,dismiss:o.$dismiss}),o.ewfModalCtrl=r,n(o,function(e){t.find(".ewf-modal__content").append(e)})}i.$inject=["$scope","$element","$transclude"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){function e(e,t,n,i){t.click(function(){i.close(e.result)})}return{restrict:"A",require:"^ewfModal",scope:{result:"="+r},link:e}}t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfModalResolver"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(t){var n={backdrop:!0,closeOnEsc:!0},i=Object.assign({},n,t),r=i.backdrop,o=i.closeOnEsc,a=i.controller,u=i.controllerAs,c=i.scope,s=i.template,l=i.templateUrl,d=i.windowClass,f=i.resolve,p=i.isPrimary;return e.open({backdrop:r,backdropClass:"ewf-modal-bg",windowClass:"is-visible template "+(d||"")+" "+(p?"primary-modal":""),openedClass:"modal-is-open",keyboard:o,controller:a,controllerAs:u,scope:c,template:s,templateUrl:l,resolve:f})}function r(e){e.okButtonLabel=e.okButtonLabel||n.COMMON.COMMON_BUTTON_CONTINUE;var r=t.$new();return Object.assign(r,e),i({closeOnEsc:!0,scope:r,templateUrl:"common/widgets/modal/message-dialog.html"}).result}function o(e){e.okButtonLabel=e.okButtonLabel||n.COMMON.COMMON_BUTTON_CONTINUE,e.cancelButtonLabel=e.cancelButtonLabel||n.COMMON.COMMON_BUTTON_CANCEL;var r=t.$new();return Object.assign(r,e),i({closeOnEsc:!0,scope:r,templateUrl:"common/widgets/modal/confirmation-dialog.html"}).result}return{showDialog:i,showMessageDialog:r,showConfirmationDialog:o}}i.$inject=["$modal","$rootScope","Messages"],t.__esModule=!0,t["default"]=i,i.NG_NAME="modalService"},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function o(e){N=e||{},n.onbeforeunload=function(){if(!v)return g(N.navigateAwayMessage)},t.on("click","a",c)}function a(){t.off("click","a",c),n.onbeforeunload=null}function u(){a(),N=null}function c(e){var t=e.currentTarget,n=t.hasAttribute("ewf-lightbox"),r=t.getAttribute("target");if(!n&&"_blank"!==r){v=!0,i(function(){return v=!1});var o=t.getAttribute("href");(E(o)||f(t,o))&&s(e,t)}}function s(e,t){m(t),l(e,t)}function l(e,t){T=t.href,t.href="#",e.preventDefault()}function d(e){e.href=T}function f(e,t){return t&&"#"!==t&&!S(e.href)}function p(){return N?N.customConfirmationPromise?N.customConfirmationPromise():r.showDialog(N).result:e.when()}function m(t){p().then(function(n){return a(),e.when(_(n))["finally"](function(){d(t),t.click()})})["catch"](function(){d(t)})}function _(e){return N.callback&&N.callback(e)}function E(e){return e===n.location.pathname}function S(e){return e.includes(n.location.href.replace(n.location.hash,""))}function g(e){return e?C(A(e)):e}function C(e){return e.replace(h,"")}function A(e){return e.replace(I," ")}var h=/<[^>]+>/gm,I=/&nbsp;/g,v=!1,N=void 0,T=void 0;return{init:o,disable:a,disableLogoutPopUp:u,getConfirmationPromise:p}}i.$inject=["$q","$document","$window","$timeout","modalService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="leaveConfirmationService"},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"groupSwitcherCtrl",link:function(){function e(e,t,n,i){i.init()}return e}()}}t.__esModule=!0,t["default"]=i;var r=n(1266),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfGroupSwitcher"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(){a()}function a(){e.loadGroups().then(function(t){S.availableGroups=t,S.currentGroup=e.getCurrentGroup(t),S.defaultGroup=C=e.getDefaultGroup(t),u(t)})}function u(e){var t=e.corpGroupInfo,n=e.coreGroupInfo;S.defaultGroup=S.defaultGroup||t[0]||n}function c(e){S.currentGroup=e}function s(e){S.defaultGroup=e}function l(e){return S.currentGroup===e}function d(i){e.setCurrentGroup(S.currentGroup.groupId),t.logoutFromExternalService(o["default"].PROVIEW),!n.isDHLAdminLoggedAsCorporate()&&f()&&e.setDefaultGroup(S.defaultGroup.groupId),S.currentGroup.authorizationStatus===g&&e.markAuthorizationGroupAsActive(),i()}function f(){return C!==S.defaultGroup}function p(e){var t=e.addressLine1,n=e.city,r=e.countryCode,o=e.postalCode;return t||n||r||o?m(e):i.MANAGE_ACCOUNTS.MANAGE_AUTH_SELECT_OPTION_ANY_ADDRESS}function m(e){return[e.addressLine1,e.city,e.countryCode,e.postalCode].filter(Boolean).join(", ")}function _(){return S.availableGroups.coreGroupInfo.accountNumber||i.NAVIGATION.GROUP_SWITCHER_LABEL_NO_ACCOUNT}function E(e){return e.corpOrGroupAdmin?i.NAVIGATION.GROUP_SWITCHER_LABEL_YES:i.NAVIGATION.GROUP_SWITCHER_LABEL_NO}var S=this,g="PENDING",C=null;Object.assign(S,{availableGroups:null,currentGroup:null,defaultGroup:null,init:r,setCurrentGroup:c,setDefaultGroup:s,isGroupCurrent:l,submitGroupSwitcherForm:d,getAddressToDisplay:p,getCoreAccountNumber:_,isCorpOrGroupAdmin:E})}i.$inject=["groupSwitcherService","externalServicesLogoutService","userService","Messages"],t.__esModule=!0,t["default"]=i;var r=n(225),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e){"ngInject";return{restrict:"A",controller:o["default"],controllerAs:"groupSwitcherLinkCtrl",link:function(){function t(t,n,i,r){r.init(),i[a+"OnApply"]&&function(){var n=e(i[a+"OnApply"]);r.setOnApplyCallback(function(){return n(t)})}()}return t}()}}i.$inject=["$parse"],t.__esModule=!0,t["default"]=i;var r=n(1268),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfGroupSwitcherLink"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){e.loadGroups().then(function(e){s=e,r()})}function r(){var t=e.getCurrentGroup(s),i=t.groupName;c.currentGroup=i||n.NAVIGATION.GROUP_SWITCHER_VALUE_LABEL_VIRTUAL_GROUP_REGULAR,c.isVisible=s.corpGroupInfo.length>1||s.authorizedAccGroupInfo.length,c.isSingleCorpGroupVisible=1===s.corpGroupInfo.length&&!s.authorizedAccGroupInfo.length}function o(){e.showGroupSwitcher().then(function(){r(),a()})}function a(){angular.isFunction(l)?l():t.forceRedirectToHome()}function u(e){l=e}var c=this,s=null,l=null;Object.assign(c,{currentGroup:null,isVisible:!1,isSingleCorpGroupVisible:!1,init:i,showSwitcher:o,setOnApplyCallback:u})}i.$inject=["groupSwitcherService","navigationService","Messages"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t){return e.put(o,{groupId:t})}function i(){return t.showDialog({templateUrl:"components/navigation/group-switcher/group-switcher-popup-template"}).result}function r(){e.put(a)}var o="/api/myprofile/default-group",a="/api/myprofile/auth-account/mark-active";return{saveDefaultGroup:n,showGroupSwitcher:i,markAuthorizationGroupAsActive:r}}i.$inject=["$http","modalService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="groupSwitcherResource"},function(e,t,n){"use strict";function i(e,t,n,i,r,a){"ngInject";function u(e,t){i.handleUserLogin(e),S(t,e)}function c(e){var t=e.coreGroupInfo,n=e.corpGroupInfo,i=e.authorizedAccGroupInfo,r=d();return s(n,r)||s(i,r)||n[0]||t}function s(e,t){return e.find(function(e){return e.groupId===t})}function l(){return v().then(function(e){return c(e).groupName||a.NAVIGATION.GROUP_SWITCHER_VALUE_LABEL_VIRTUAL_GROUP_REGULAR})}function d(){return t.get(o["default"].CURRENT_GROUP)}function f(){return t.get(p())}function p(){return""+o["default"].IS_DEFAULT_USER_PREFIX+n.getId()}function m(e){var t=e.coreGroupInfo,n=e.corpGroupInfo,i=e.authorizedAccGroupInfo;return n.length?_([].concat(n,i))||1===n.length&&n[0]:i.length?E(t)&&t||_(i):t}function _(e){return e.find(function(e){return e.defaultGroup})}function E(){return!(arguments.length<=0||arguments[0]===undefined?{}:arguments[0]).groupId&&f()}function S(e){var t=arguments.length<=1||arguments[1]===undefined?[]:arguments[1],n=m(t);n?(g(n.groupId),e()):I()["finally"](e)}function g(e){e?t.putRootCookie(o["default"].CURRENT_GROUP,e):t.removeRootCookie(o["default"].CURRENT_GROUP)}function C(e){return n.isRegular()&&A(e),h(e)}function A(e){var n=p();e?f()&&t.removeRootCookie(n):t.putRootCookie(n,!0)}function h(e){return r.saveDefaultGroup(e)}function I(){return P?e.reject():(P=!0,r.showGroupSwitcher()["finally"](function(){P=!1}))}function v(){return i.loadGroups()}function N(){t.removeRootCookie(o["default"].CURRENT_GROUP)}function T(){return n.isGuest()?(N(),e.when()):v().then(function(e){g((m(e)||{}).groupId)})}function M(){var t=d();return t?n.isGuest()?e.when(!0):v().then(function(e){return[].concat(e.corpGroupInfo,e.authorizedAccGroupInfo).every(function(e){return e.groupId!==t})}):e.when(!1)}function y(){return n.isRegular()}function O(){var e=d();return v().then(function(t){return!!s(t.authorizedAccGroupInfo,e)})}function D(){r.markAuthorizationGroupAsActive()}var P=!1;return{handleUserLogin:u,getCurrentGroup:c,getDefaultGroup:m,setCurrentGroup:g,getCurrentGroupName:l,setDefaultGroup:C,clearCurrentGroup:N,showGroupSwitcher:I,loadGroups:v,getCurrentGroupId:d,resetGroup:T,isAssignVirtualGroup:M,isRegular:y,isCurrentGroupAuthorized:O,markAuthorizationGroupAsActive:D}}i.$inject=["$q","cookiesService","userService","userGroupsService","groupSwitcherResource","Messages"],t.__esModule=!0,t["default"]=i;var r=n(14),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="groupSwitcherService"},function(e,t,n){"use strict";function i(e,t){"ngInject";return{responseError:function(){function n(n){if(n.status===o["default"].PRECONDITION_FAILED){t.get("groupSwitcherService").showGroupSwitcher()}return e.reject(n)}return n}()}}i.$inject=["$q","$injector"],t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="preconditionFailedInterceptor"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e){var n=e.fieldErrors,i=e.errors;if(n&&Object.keys(n).forEach(function(e){var i=n[e],r=i.join(", ");t.error('field "'+e+'" has errors: '+r)}),i){var r=i.join(", ");t.error("general errors: "+r)}}return{responseError:function(){function t(t){if(t.status===o["default"].BAD_REQUEST){var i=t.data;angular.isObject(i)&&n(i)}return e.reject(t)}return t}()}}i.$inject=["$q","logService"],t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="badRequestInterceptor"},function(e,t,n){"use strict";function i(e,t){"ngInject";return{request:function(){function n(n){var i=n.cache&&angular.isFunction(n.cache.info)&&n.cache.info();return i&&"templates"===i.id||(e.refreshActivity(),t.applyDuration(n)),n}return n}()}}i.$inject=["userActivityCheckerService","httpCacheDurationService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="requestInterceptor"},function(e,t,n){"use strict";function i(e){"ngInject";var t="/ng-template";return{request:function(){function n(n){if(n.url.startsWith(t)){var i=n.url.split(t)[1];n.url=e.getBasePath()+i}return n}return n}()}}i.$inject=["pathService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="templateInterceptor"},function(e,t,n){"use strict";function i(e,t){"ngInject";return{responseError:function(){function n(n){var i=n.status,r=n.data;return i===o["default"].NOT_IMPLEMENTED&&t.showServiceErrorPopup(r),e.reject(n)}return n}()}}i.$inject=["$q","interceptorsStateService"],t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ciKeyErrorInterceptor"},function(e,t,n){"use strict";function i(e,t){"ngInject";return{responseError:function(){function n(n){return n.status!==o["default"].NOT_FOUND||n.config.preventNotFoundInterceptor||t.redirectToNotFoundPage(),e.reject(n)}return n}()}}i.$inject=["$q","navigationService"],t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="notFoundInterceptor"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n){var i=n.status+" "+angular.toJson(n);return n.status===o["default"].CANCELLED?t.log("HTTP Request Cancelled: "+i):t.error("HTTP Error: "+i),e.reject(n)}return{responseError:n}}i.$inject=["$q","logService"],t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="errorLoggingInterceptor"},function(e,t,n){"use strict";function i(e,t){"ngInject";return{responseError:function(){function n(n){var i=n.status,r=n.config.preventNotEnoughDataInterceptor;return(i===o["default"].INTERNAL_SERVER_ERROR||i===o["default"].NOT_ENOUGH_DATA&&!r)&&t.showServiceErrorPopup({type:i}),e.reject(n)}return n}()}}i.$inject=["$q","interceptorsStateService"],t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="serverErrorInterceptor"},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function a(e){var n=t.get("userService");return e===o["default"].SERVICE_UNAVAILABLE&&n.isGuest()&&i.isNotificationAvailable()}function u(e){var t=angular.isObject(e.data)?e.data:{};t.systemName=t.systemName||null,t.type=e.status,e.config.preventNotAvailableInterceptor||n.showServiceErrorPopup(t)}return{responseError:function(){function t(t){var c=t.status,s=[o["default"].SERVICE_UNAVAILABLE,o["default"].GATEWAY_TIMEOUT,o["default"].BAD_GATEWAY];return t.config.specialStatus===c?(n.showServiceErrorPopup({messageKeyValid:!0,messageKey:t.config.specialMessageForStatus}),e.reject(t)):(c===o["default"].GATEWAY_TIMEOUT&&angular.isString(t.data)&&(t.data=r.ERRORS.GATEWAY_TIMEOUT),a(c)?i.openNotification():(s.includes(c)&&u(t),e.reject(t)))}return t}()}}i.$inject=["$q","$injector","interceptorsStateService","shipmentWillBeSavedNotificationService","Messages"],t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="servicesNotAvailableInterceptor"},function(e,t,n){"use strict";function i(e,t){"ngInject";return{responseError:function(){function n(n){return n.config.preventSessionExpiredInterceptor||t.redirectToLoginIfUnauthorized(n),e.reject(n)}return n}()}}i.$inject=["$q","sessionExpiredService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="sessionExpiredInterceptor"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";return{responseError:function(){function i(i){var r=i.status,a=i.data;if(r===o["default"].FORBIDDEN){var u=void 0,c=t.get("modalService"),s=a&&a.errors&&a.errors[0];s||(u=n.ERRORS.ACCESS_FORBIDDEN_MESSAGE),c.showMessageDialog({title:n.ERRORS.ACCESS_FORBIDDEN_TITLE,nlsMessage:s,message:u})}return e.reject(i)}return i}()}}i.$inject=["$q","$injector","Messages"],t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="accessForbiddenInterceptor"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e){return p=e,s}function i(t){if(!e.get("userService").isOfflineUser()){var n=r(t);a(n),u(n)}}function r(e){return angular.isObject(e)?e:(t.error("Wrong data passed to interceptor popup",e),{})}function a(e){!e.ciKey?[d,f].includes(e.systemName)&&(e.type=e.systemName):Object.assign(e,{type:l,isNotFound:e.exceptionType===o["default"].NOT_FOUND,isMisconfigured:e.exceptionType===o["default"].MISSED_CONFIGURATION,isWrongConfigured:e.exceptionType===o["default"].WRONG_CONFIGURATION})}function u(e){s.find(function(t){return angular.equals(c(t),c(e))})||(s.push(e),p())}function c(e){return["accountId","accountNumber","customerId","isMisconfigured","isNotFound","isWrongConfigured","messageKey","systemName","type"].reduce(function(t,n){var i;return Object.assign(t,(i={},i[n]=e[n],i))},{})}var s=[],l="ADT",d="GLOBAL_COLLECT",f="BILL_DESK",p=angular.noop;return{registerAlert:n,showServiceErrorPopup:i}}i.$inject=["$injector","logService"],t.__esModule=!0,t["default"]=i;var r=n(888),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="interceptorsStateService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n){var o=n.cache,a=n.cacheDuration,u=n.method,c=n.url;!0===o&&u===i&&a>0&&t(function(){return e.get("$http").remove(c)},a,r)}var i="GET",r=!1;return{applyDuration:n}}i.$inject=["$cacheFactory","$timeout"],t.__esModule=!0,t["default"]=i,i.NG_NAME="httpCacheDurationService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"interceptorsAlertCtrl",templateUrl:"common/utils/http-interceptors/service-error-popup/interceptors-alert"})}function r(e,t,n,i){"ngInject";function r(){l.interceptorErrors=t.registerAlert(o)}function o(){n.adjustBodyPadding(e),u(),n.validateErrorMessage(l.interceptorErrors[l.interceptorErrors.length-1])}function u(){1===l.interceptorErrors.length&&i.getTransactionId().then(function(e){return l.transactionId=e})}function c(){l.interceptorErrors.length=0,n.adjustBodyPadding(e)}function s(){return!!l.transactionId&&l.interceptorErrors.some(function(e){return e.type!==a["default"].REQUEST_TIMEOUT})}var l=this;Object.assign(l,{$onInit:r,closeInterceptorErrors:c,isBusinessTransactionIdVisible:s})}i.$inject=["component"],r.$inject=["$element","interceptorsStateService","interceptorsAlertService","businessTransactionService"],t.__esModule=!0,t["default"]=i,t.InterceptorsAlertController=r;var o=n(5),a=function(e){return e&&e.__esModule?e:{"default":e}}(o);i.NG_NAME="ewfInterceptorsAlert"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e){t(function(){return r(u+o(e))},c)}function r(t){angular.element(e[0].body).css("padding-top",t)}function o(e){return e.outerHeight()}function a(e){e.messageKey&&n.getTranslation(e.messageKey).then(function(){return e.messageKeyValid=!0})}var u=100,c=100;return{adjustBodyPadding:i,validateErrorMessage:a}}i.$inject=["$document","$timeout","nlsService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="interceptorsAlertService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(111),o=i(r),a=n(1287),u=i(a),c=n(1288),s=i(c),l=angular.module("restrictVirtualGroup",[o["default"]]);l.service(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="restrictVirtualGroup"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){return t.get(i,{preventNotFoundInterceptor:!0}).then(function(t){return t.data.isVirtual||e.reject()})}var i="/api/myprofile/group/type";return{isRestricted:n}}i.$inject=["$q","$http"],t.__esModule=!0,t["default"]=i,i.NG_NAME="restrictVirtualGroupService"},function(e,t,n){"use strict";function i(){return{controller:o,controllerAs:"restrictVirtualGroupCtrl",link:r}}function r(e,t,n,i){i.$onInit()}function o(e,t){"ngInject";function n(){e.isRestricted().then(t.showGroupSwitcher)}var i=this;Object.assign(i,{$onInit:n})}o.$inject=["restrictVirtualGroupService","groupSwitcherService"],t.__esModule=!0,t["default"]=i,t.RestrictVirtualGroupController=o,i.NG_NAME="ewfRestrictVirtualGroup"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(111),o=i(r),a=n(1290),u=i(a),c=angular.module("resetAssignGroup",[o["default"]]);c.directive(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="resetAssignGroup"},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:a["default"],controllerAs:"resetAssignGroupCtrl",link:r}}function r(e,t,n,i){i.init()}t.__esModule=!0,t["default"]=i;var o=n(1291),a=function(e){return e&&e.__esModule?e:{"default":e}}(o);i.NG_NAME="ewfResetAssignGroup"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){"ngInject";function n(){if(!i()){(t.getParamFromUrl(a["default"].SHIPMENT_ID)||t.getParamFromUrl(a["default"].COPIED_SHIPMENT_ID))&&r()||e.isAssignVirtualGroup().then(function(t){return t&&e.resetGroup()})}}function i(){return"booking"===t.getParamFromUrl(a["default"].MODULE_KEY)}function r(){return[c["default"].SHIPMENT_PAGE,c["default"].MANAGE_SHIPMENTS_DETAILS_PAGE,c["default"].PICKUP_PAGE].some(function(e){return t.isPage(e)})}var o=this;Object.assign(o,{init:n})}r.$inject=["groupSwitcherService","pathService"],t.__esModule=!0,t["default"]=r;var o=n(1),a=i(o),u=n(21),c=i(u)},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1293),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("common.utils.retryUntilDone",[]);o.service(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="common.utils.retryUntilDone"},function(e,t,n){"use strict";function i(e){"ngInject";function t(n,i,r){i()||(n(),e(function(){return t(n,i,r)},r,!1))}return{attempt:t}}i.$inject=["$timeout"],t.__esModule=!0,t["default"]=i,i.NG_NAME="retryUntilDoneService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1295),u=i(a),c=n(1300),s=i(c),l=n(1301),d=i(l),f=n(1302),p=i(f),m=angular.module("common.utils.sessionManagement",[o["default"]||"common.utils",u["default"]]);m.directive(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]),t.module=m,t["default"]="common.utils.sessionManagement"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1296),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o="common.utils.sessionManagement.shipmentWillBeSavedNotification",a=angular.module(o,[]);a.service(r["default"].NG_NAME,r["default"]),t.module=a,t["default"]=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){"ngInject";function i(n){if(r())return e.reject();var i=t.get("modalService"),a=o(n);return i.showDialog(a).result}function r(){return n.isUrlContainingSomeParam(c["default"].B2L_SHIPMENT,c["default"].RB_SHIPMENT)}function o(e){return{backdrop:"static",closeOnEsc:!1,controller:a["default"],controllerAs:"shipmentWillBeSavedNotificationCtrl",templateUrl:"common/utils/session-management/shipment-will-be-saved-notification.html",resolve:{isSessionExpired:function(){function t(){return e}return t}()}}}function u(){return f()&&s()&&m()}function s(){return t.get("formService").isFormValid(_,!1)}function f(){return!!t.has("$state")&&t.get("$state").current.name===d.states.CREATE_SHIPMENT}function p(){return n.isPage(l["default"].SHIPMENT_PAGE)}function m(){return!!t.get("shipmentDataService").getShipmentData().fromCustomer.email}var _="fromContact";return{openNotification:i,isNotificationAvailable:u,isShipmentPageOpened:p}}r.$inject=["$q","$injector","pathService"],t.__esModule=!0,t["default"]=r;var o=n(1297),a=i(o),u=n(1),c=i(u),s=n(21),l=i(s),d=n(9);r.NG_NAME="shipmentWillBeSavedNotificationService"},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function o(){return n.saveShipmentForLater().then(function(){e.close(),i.redirectToHome()})}function a(){return u.isSessionExpired?r.COMMON.LB_SHIPMENT_WILL_BE_SAVED_HEADER_SESSION_TIMEOUT:r.COMMON.LB_SHIPMENT_WILL_BE_SAVED_HEADER_SERVICE_IS_UNAVAILABLE}var u=this;Object.assign(u,{isSessionExpired:t,saveShipmentAndContinue:o,getTitle:a})}i.$inject=["$modalInstance","isSessionExpired","shipmentTransportService","navigationService","Messages"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(t){"ngInject";i(this,e),Object.assign(this,t)}return e.$inject=["models"],e}();t["default"]=r},function(e,t,n){"use strict";function i(e,t){"ngInject";var n=this;Object.assign(n,r({isShipmentValid:e.params.isShipmentValid,isReturnLabel:e.params.isReturnLabel},t.injectAssignShipmentCommonModels(),function(){return e.params.isReturnLabel?t.injectAssignShipmentReturnModels():t.injectAssignShipmentRegularModels()}()))}i.$inject=["$state","shipmentModelsInjectorService"],t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t["default"]=i},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function o(t,n,r){if(!r[u+"IsMicroSite"]&&!l())var o=e.$on(a["default"].pageLoadedEvent,function(){i.startCheck(c),o()})}function c(){var t=e.$watch(function(){t(),d.invoke(s)})}function s(){return t(function(){return n.whoAmI(!0)},0)}function l(){return n.isGuest()&&!i.isShipmentPageOpened()}var d=new r;return{restrict:"A",link:{pre:o}}}function r(){function e(e){return t||(t=e().then(function(e){return t=null,e})),t}var t=void 0;return{invoke:e}}i.$inject=["$rootScope","$timeout","userService","userActivityCheckerService"],t.__esModule=!0,t["default"]=i;var o=n(27),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfSessionManager"},function(e,t,n){"use strict";function i(e,t,n,i,r,a,u){"ngInject";function c(){return t.whoAmI(!0)}function s(){return d().then(l)}function l(){var e=t.getUid();return t.logOut().then(function(){n.saveNextFormTimeoutMessage(),r.setRequestedUrl(e),u.preformCommonLogoutActions()})}function d(){var t=Object.keys(C).map(function(e){return C[e]()});return e.all(t)}function f(e,t){C[e]=t}function p(e){delete C[e]}function m(){return t.isGuest()?E():_()}function _(){var t=decodeURIComponent(i.get(o["default"].SESSION_DATA)),n=angular.fromJson(t),r=n?S(n):null;return e.when(r)}function E(){return a.getSourceData(a.CI_KEYS.CI1095_TIME_SINCE_LAST_SAVING_AFTER_WHAT_SHIPMENT_IS_ABANDONED).then(function(e){return S({inactivePeriod:e,notificationPeriod:0})})}function S(e){return{inactivePeriod:{milliseconds:g(e.inactivePeriod),minutes:e.inactivePeriod},notificationPeriod:{milliseconds:g(e.notificationPeriod),minutes:e.notificationPeriod}}}function g(e){return e*A}var C={},A=6e4;return{registerActionToComplete:f,unregisterActionToComplete:p,continueSession:c,endSession:s,getSessionExpirationData:m}}i.$inject=["$q","userService","loginService","cookiesService","navigationService","configService","logoutService"],t.__esModule=!0,t["default"]=i;var r=n(14),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="sessionExpirationService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e){f=e,t.get("sessionExpirationService").getSessionExpirationData().then(function(e){e&&(_=e.inactivePeriod.milliseconds,E=e.notificationPeriod,S=e.inactivePeriod.milliseconds/2,a())})}function r(){_&&(u(),a())}function a(){p=e.setTimeout(s,_),m=e.setTimeout(c,S)}function u(){e.clearTimeout(p),e.clearTimeout(m)}function c(){f&&f()}function s(){var e=t.get("userService"),i=e.isGuest();if(!i||n.isNotificationAvailable()){(i?n.openNotification(!0):l()).then(function(){return u()})}}function l(){return t.get("modalService").showDialog({backdrop:"static",closeOnEsc:!1,controller:o["default"],controllerAs:"sessionExpirationCtrl",templateUrl:"common/utils/session-management/session-expiration-notification.html",resolve:{notificationPeriod:function(){function e(){return E}return e}()}}).result}function d(){return n.isShipmentPageOpened()}var f=void 0,p=null,m=null,_=void 0,E=void 0,S=void 0;return{startCheck:i,refreshActivity:r,isShipmentPageOpened:d}}i.$inject=["$window","$injector","shipmentWillBeSavedNotificationService"],t.__esModule=!0,t["default"]=i;var r=n(1303),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="userActivityCheckerService"},function(e,t,n){"use strict";function i(e,t,n,i,r,o){"ngInject";function a(){d.countdownMessage=r(o.COMMON.SESSION_EXPIRED_NOTIFICATION,{minutes:_}),_--,m=e(a,f)}function u(){e.cancel(m),e.cancel(p)}function c(){l(),i.continueSession().then(t.dismiss)}function s(){l(),i.endSession().then(t.close)}function l(){d.isActionButtonsDisabled=!0,u()}var d=this,f=6e4,p=null,m=null,_=void 0;Object.assign(d,{isActionButtonsDisabled:!1,continueSession:c,endSession:s}),function(){_=n.minutes,p=e(s,n.milliseconds,!1),a()}()}i.$inject=["$timeout","$modalInstance","notificationPeriod","sessionExpirationService","replaceFilter","Messages"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t,n){return 0===e.length?e:e.map(function(e){return[e[t],e[n]]}).reduce(function(e,t){return[].concat(e,t)})}return function(n,i,r){if(!n)return 0;var o=n.reduce(function(e,t){var n=parseFloat(t[i]);return r&&(n*=parseFloat(t[r])),e+(n||0)},0),a=t(n,i,r);return e.getResultWithPrecision(o,a)}}i.$inject=["calculationService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){return function(e,t,n){var i=0,r=parseFloat(e);return r&&(i=r*(+t||1)),n?+i.toFixed(n):i}}t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t){"ngInject";var n=void 0,i=void 0;return function(r,o){if(n||i||t.isOfflineUser()||(i=!0,e.getCountriesIndex().then(function(e){return n=e})["finally"](function(){return i=!1})),!r)return"";var a=o?"capitalizedName":"name";return n&&n[r][a]||r}}i.$inject=["locationService","userService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){function e(e,r,o,a){if(!angular.isNumber(e)||isNaN(e))return"";var u=t(r,o),c=u[0],s=u[1],l=String(e).split("."),d=l[0],f=l[1],p=[n(d,s,c)];return(f||a)&&p.push(c,i(f,a)),p.join("")}function t(e,t){return[e||o,t||a]}function n(e,t,n){return t&&t!==n?e.replace(r,t):e}function i(){var e=arguments.length<=0||arguments[0]===undefined?"":arguments[0],t=arguments.length<=1||arguments[1]===undefined?0:arguments[1];if(!t)return e;for(var n="",i=0;i<t;i++){n+=e[i]||"0"}return n}return e}t.__esModule=!0,t["default"]=i;var r=/\B(?=(\d{3})+(?!\d))/g,o=".",a=""},function(e,t,n){"use strict";function i(){function e(e,t,a){var u=!(arguments.length<=3||arguments[3]===undefined)&&arguments[3],c=t||r,s=a||o,l={thousandSep:s,fractionSep:c};return angular.isNumber(e)?e:n(e,l,u)?NaN:i(e,l,a)}function t(e,t){var n=e.thousandSep,i=e.fractionSep,r=n?"(\\d{1,3}(?:["+n+"]\\d{3})*)":"(\\d+)",o="(?:["+i+"](\\d*))?",a=t?"^[+]?"+r+o+"$":"^[-+]?"+r+o+"$";return new RegExp(a)}function n(e,n,i){var r=t(n,i);return!angular.isString(e)||!r.test(e)}function i(e,t,n){var i=e,r=t.thousandSep,o=t.fractionSep;return n&&(i=a(e,r)),i=u(i,o),parseFloat(i)}function a(e,t){var n=new RegExp("["+t+"]","g");return e.replace(n,"")}function u(e,t){var n=new RegExp("["+t+"]","g");return e.replace(n,".")}return e}t.__esModule=!0,t["default"]=i;var r=".",o=""},function(e,t,n){"use strict";function i(){function e(e,t){var n=/(\d{3})/g,i=/^-/.test(e)?"-":"",r=e.replace(/^-/,""),o=r.length%3||3;return i+r.substr(0,o)+r.substr(o).replace(n,t+"$1")}function t(e){return e===r.decimalSeparatorsKeys.comma?r.decimalSeparators.comma:r.decimalSeparators.dot}function n(e){return e===r.decimalSeparatorsKeys.comma?r.decimalSeparators.dot:r.decimalSeparators.comma}return function(){var i=arguments.length<=0||arguments[0]===undefined?"":arguments[0],o=arguments.length<=1||arguments[1]===undefined?r.decimalSeparatorsKeys.dot:arguments[1],a=t(o),u=n(o),c=i.toString();o===r.decimalSeparatorsKeys.comma&&(c=c.replace(r.decimalSeparators.dot,r.decimalSeparators.comma));var s=c.split(a),l=s[0],d=s[1];return l.length>3&&(c=e(l,u)+(d?""+a+d:"")),c}}t.__esModule=!0,t["default"]=i;var r=n(889)},function(e,t,n){"use strict";function i(){function e(e,o,a){if(t(e))return NaN;var u=String(e).match(r),c=u[1],s=u[2],l=u[3],d=Number(o)?n(s,o):s,f=i(l,a)?n(l,a):l,p=[c,d];return f&&p.push(".",f),Number(p.join(""))}function t(e){return!angular.isNumber(e)||isNaN(e)}function n(e,t){return e&&e.length<t?e:e.substring(0,t)}function i(e,t){return e&&(Number(t)||0===t)}return e}t.__esModule=!0,t["default"]=i;var r=/(-?)(\d+)(?:\.(\d+))?/},function(e,t,n){"use strict";function i(e){"ngInject";function t(e){return n.includes(e)?n.indexOf(e):0}var n=e.COMMON.FILE_SIZES.split(",").map(function(e){return e.trim()});return function(e){var i=arguments.length<=1||arguments[1]===undefined?1e3:arguments[1],r=arguments.length<=2||arguments[2]===undefined?"Bytes":arguments[2],o=t(r);if(!e)return"0 "+n[o];var a=Math.log(e)/Math.log(i),u=a<1?0:Math.round(a),c=Number((e/Math.pow(i,u)).toFixed(2));return o+u<n.length?c+" "+n[o+u]:e+" "+n[o]}}i.$inject=["Messages"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";function t(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function n(e,t){return c&&c.useEnhancedSearch?i(e,t):r(e,t)}function i(n,i){var r=i.trim().split(/\s+/g).sort(function(e,t){return t.length-e.length}).map(t).map(function(t){return e.getItemWithAppliedSearchConfig(t,c)}).join("|");return o(n,new RegExp(r,"gi"))}function r(e,n){return o(e,new RegExp(t(n),"gi"))}function o(e,t){return e.replace(t,'<span class="ewf-highlight-search">$&</span>')}function a(){u||(u=!0,e.getSearchConfig().then(function(e){return c=e})["catch"](function(){return u=!1}))}var u=void 0,c=void 0;return function(){var e=arguments.length<=0||arguments[0]===undefined?"":arguments[0],t=arguments.length<=1||arguments[1]===undefined?"":arguments[1];return a(),t?n(e,t):e}}i.$inject=["manageShipmentsHighlightService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){return function(e,t){return Array.isArray(e)?e.join(t||","):""}}t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n){if(n&&n.phone&&n.phoneCountryCode){return""+e.getPhoneInternationalForm(n.phone,n.phoneCountryCode)+(n.phoneExt&&o["default"].OFFICE===n.phoneType?" "+t.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_EXTENSION+": "+n.phoneExt:"")}return""}return n}i.$inject=["phoneFormatService","Messages"],t.__esModule=!0,t["default"]=i;var r=n(109),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e){"ngInject";function t(e){return e.$$unwrapTrustedValue?e.$$unwrapTrustedValue():e}return function(n){var i=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return n?angular.isObject(i)||angular.isArray(i)?Object.keys(i).reduce(function(t,n){var r=i.trustAsHtml?i[n]:e(i[n]);return t.replace(new RegExp("\\{"+n+"\\}","g"),r)},t(n)):n:""}}i.$inject=["$sanitize"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){return function(e){var t=arguments.length<=1||arguments[1]===undefined?15:arguments[1],n=arguments.length<=2||arguments[2]===undefined?"…":arguments[2];return e?e.length<=t?e:String(e).substring(0,t)+n:""}}t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";return function(t){return e.isTwelveHourClock()?e.convert24toAMPM(t):t}}i.$inject=["dateTimeService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";return function(t){return t?e.convertDateToLocaleFormat(t):""}}i.$inject=["dateTimeService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";return function(t,n){var i=arguments.length<=2||arguments[2]===undefined||arguments[2],r=t;return i||(r=e.getUOMDimension(t)),n?e.getDimensionsUnits(r):e.getWeightUnits(r)}}i.$inject=["somService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t){"ngInject";var n={MAX_TOTAL_SHIPMENT_WEIGHT:t.MANAGE_SHIPMENTS.MAX_TOTAL_SHIPMENT_WEIGHT,MIN_TOTAL_SHIPMENT_WEIGHT:t.MANAGE_SHIPMENTS.MIN_TOTAL_SHIPMENT_WEIGHT,MAX_PARTS_PER_SHIPMENT:t.MANAGE_SHIPMENTS.MAX_PARTS_PER_SHIPMENT,SHIPMENT_COUNT_PERIOD:t.MANAGE_SHIPMENTS.SHIPMENT_COUNT_PERIOD,TOTAL_WEIGHT_PERIOD:t.MANAGE_SHIPMENTS.TOTAL_WEIGHT_PERIOD,SHIPMENT_COST_PERIOD:t.MANAGE_SHIPMENTS.SHIPMENT_COST_PERIOD,MAX_SHIPMENT_COST:t.MANAGE_SHIPMENTS.MAX_SHIPMENT_COST,MIN_LENGTH_PER_SHIPMENT:t.MANAGE_SHIPMENTS.MIN_LENGTH_PER_SHIPMENT,MAX_LENGTH_PER_SHIPMENT:t.MANAGE_SHIPMENTS.MAX_LENGTH_PER_SHIPMENT,MIN_WIDTH_PER_SHIPMENT:t.MANAGE_SHIPMENTS.MIN_WIDTH_PER_SHIPMENT,MAX_WIDTH_PER_SHIPMENT:t.MANAGE_SHIPMENTS.MAX_WIDTH_PER_SHIPMENT,MIN_HEIGHT_PER_SHIPMENT:t.MANAGE_SHIPMENTS.MIN_HEIGHT_PER_SHIPMENT,MAX_HEIGHT_PER_SHIPMENT:t.MANAGE_SHIPMENTS.MAX_HEIGHT_PER_SHIPMENT,SHIPMENT_TYPE_DOCUMENT:t.MANAGE_SHIPMENTS.SHIPMENT_TYPE_DOCUMENT,SHIPMENT_TYPE_PACKAGE:t.MANAGE_SHIPMENTS.SHIPMENT_TYPE_PACKAGE,UNKNOWN_SHIPMENT_COST:t.MANAGE_SHIPMENTS.UNKNOWN_SHIPMENT_COST};return function(t){var i=n[t.restrictionType];return t.valueType=t.valueType||"",e("replace")(i,t)}}i.$inject=["$filter","Messages"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t){"ngInject";var n={SHIPMENT_COUNT_PERIOD:t.SHIPMENT_COST.SHIPMENT_COUNT_PERIOD_APPROVAL_REQUIRED,TOTAL_WEIGHT_PERIOD:t.SHIPMENT_COST.TOTAL_WEIGHT_PERIOD_APPROVAL_REQUIRED,SHIPMENT_COST_PERIOD:t.SHIPMENT_COST.SHIPMENT_COST_PERIOD_APPROVAL_REQUIRED},i={SHIPMENT_COUNT_PERIOD:t.SHIPMENT_COST.SHIPMENT_COUNT_PERIOD_APPROVAL_NOT_REQUIRED,TOTAL_WEIGHT_PERIOD:t.SHIPMENT_COST.TOTAL_WEIGHT_PERIOD_APPROVAL_NOT_REQUIRED,SHIPMENT_COST_PERIOD:t.SHIPMENT_COST.SHIPMENT_COST_PERIOD_APPROVAL_NOT_REQUIRED},r={GROUP:t.SHIPMENT_COST.SHIPMENT_COST_GROUP_LIMIT_LEVEL,USER:t.SHIPMENT_COST.SHIPMENT_COST_USER_LIMIT_LEVEL};return function(t,o){var a=o?n:i,u=a[t.restrictionType];return t.valueType=t.valueType||"",t.limitLevel=r[t.restrictionLevel],e("replace")(u,t)}}i.$inject=["$filter","Messages"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){"ngInject";function e(e){if(!e||!e.referencesForShipments)return"";var t=e.referencesForShipments.find(function(e){return e.referenceType===o["default"].DEFAULT});return t?t.referenceName:""}return e}t.__esModule=!0,t["default"]=i;var r=n(1323),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={OPTIONAL:"OPTIONAL",DEFAULT:"DEFAULT",MANDATORY:"MANDATORY",NEW:"NEW"}},function(e,t,n){"use strict";function i(){"ngInject";return function(e){return Math.round(100*e)/100}}t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){"ngInject";return function(e,t){var n=parseInt((t-3)/2,10);return e.length<t?e:e.slice(0,n)+"..."+e.slice(-n)}}t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){function e(e,n){var i=Math.pow(10,t(n));return Math.round(e*i)/i}function t(e){var t=e.filter(Boolean).map(function(e){return e.toString()}).filter(function(e){return e.includes(i)}).map(function(e){return e.split(i)[1]}).map(function(e){return e.length});return Math.max.apply(Math,[0].concat(t))}function n(t){return e(t.map(function(e){return parseFloat(e)||0}).reduce(function(e,t){return e+t},0),t)}var i=".";return{getResultWithPrecision:e,calculateSum:n}}t.__esModule=!0,t["default"]=i,i.NG_NAME="calculationService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(93),o=i(r),a=n(2),u=i(a),c=n(1333),s=i(c),l=n(1335),d=i(l),f=angular.module("common.configuration.country",[u["default"]||"common.utils",o["default"]]);f.directive(s["default"].NG_NAME,s["default"]).directive(d["default"].NG_NAME,d["default"]),t.module=f,t["default"]="common.configuration.country"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t,n,r,o){function u(r){var o=r.text;o&&(n.html(o),i(o)&&e(n.contents())(t),delete r.text),Object.keys(r).forEach(function(e){n.attr(e,r[e])})}o.setRenderFunction(u),o.translate(r[a],r[a+"Default"])}function i(e){return t.HTML_TAG.test(e)}return{restrict:"A",controller:o["default"],link:{pre:n}}}i.$inject=["$compile","Patterns"],t.__esModule=!0,t["default"]=i;var r=n(1329),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="nls"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e){u=e}function n(t,n){if(!e.isValidKey(t))return void u({text:t});var a=t.split("."),c=a[0],s=a[1],l=e.getDictionary(c);if(angular.isString(l))return void u({text:"can't obtain dictionary \""+c+'"'});var d={};i(d,l,s),r(d,l,s+"."),o(d,t,n)}function i(e,t,n){var i=t[n];i&&(e.text=i)}function r(e,t,n){var i=n.length;Object.keys(t).filter(function(e){return e.substr(0,i)===n}).forEach(function(n){var r=n.substr(i);"iHelp"!==r&&(e[r]=t[n])})}function o(e,t,n){if(Object.keys(e).length>0){var i="NULL"===e.text?{text:""}:e;u(i)}else u(n?{text:n}:{text:'no translation for "'+t+'"'})}var a=this;Object.assign(a,{setRenderFunction:t,translate:n});var u=void 0}i.$inject=["nlsService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){return{restrict:"A",require:"nls",link:function(){function e(e,t,n,i){n.$observe("nls",function(e){i.translate(e)})}return e}()}}t.__esModule=!0,t["default"]=i,i.NG_NAME="nlsBind"},function(e,t,n){"use strict";function i(e){"ngInject";return function(t){return e.translate(t)}}i.$inject=["nlsService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="nls"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(e){return f.test(e)}function o(e){var n=i[e];return n||(n=i[e]=d,t.warn('Was unable to load dictionary "'+e+'"')),n}function a(t){return angular.isObject(t)?u(t.nls,t.label||t.value):angular.isString(t)?u(t):e.reject(angular.toJson(t)+" should be an nls key string or an nls object")}function u(n,i){if(!r(n))return i?e.when(i):e.reject('Wrong format "'+n+'" and no default value provided');var a=n.match(f),u=a[1],c=a[2],s=o(u),l=s&&s[c]||i;if(l)return e.when(l);var d='[dictionary] Requested key "'+c+'" not found in dictionary "'+u+'" and no default value provided';return t.error(d),e.reject(d)}function c(e){if(!r(e))return t.warn('Wrong format "'+e+'"'),e;var o=e.match(f),a=o[1],u=o[2],c=i[a];if(c){var s=c[u];return s||(t.error('[dictionary] Key "'+u+'" not found in dictionary "'+a+'"'),e)}return n.isLocalhost()||t.error('[dictionary] Dictionary "'+a+'" not found, key: "'+e+'"'),e}function s(e){return angular.isObject(e)?l(e.nls,e.label||e.value):angular.isString(e)?l(e,e):void 0}function l(e,t){if(!r(e))return t;var n=e.match(f),o=n[1],a=n[2],u=i[o];return u?u[a]||t:t}var d="Dictionary failed to load",f=/^([\w-]+)\.([\w-]+(?:\.[\w-]+)?)$/;return{translate:s,isValidKey:r,getDictionary:o,getTranslation:a,getTranslationSync:c}}i.$inject=["$q","logService","pathService","Messages"],t.__esModule=!0,t["default"]=i,i.NG_NAME="nlsService"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){e.$watch(function(){return e.$eval(n[a])},function(e){return i.setCountry(e)})}return{restrict:"A",controller:o["default"],controllerAs:"ewfcCountryCtrl",link:e}}t.__esModule=!0,t["default"]=i;var r=n(1334),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfcCountry"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t){r.push(t),angular.isDefined(o)&&t(o),e.$on("$destroy",function(){return r.splice(r.indexOf(t),1)})}function n(t){angular.isUndefined(t)||(o=t,e(function(){r.forEach(function(e){e(t)})}))}var i=this;Object.assign(i,{registerComponent:t,setCountry:n});var r=[],o=void 0}i.$inject=["$timeout"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){function e(e,t,n,i){var r=i[0];i[1].registerComponent(e,function(e){return r.init(e)})}return{restrict:"A",require:[a,"^ewfcCountry"],controller:o["default"],controllerAs:"ewfLanguagesCtrl",link:e}}t.__esModule=!0,t["default"]=i;var r=n(1336),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfLanguages"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t){e.getAvailableLanguages(t).then(i)}function i(e){var n=t.getDictionary(o);a.languages=e.map(function(e){return r(e,n)})}function r(e,t){return Object.assign({},e,{translation:t[e.code]})}var o="languages",a=this;Object.assign(a,{languages:[],init:n})}i.$inject=["locationService","nlsService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1338),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o="common.configuration.decimalSeparator",a=angular.module(o,[]);a.service(r["default"].NG_NAME,r["default"]),t.module=a,t["default"]=o},function(e,t,n){"use strict";function i(e){"ngInject";function t(){return e.getSourceData(e.CI_KEYS.CI0628_DECIMAL_SEPARATOR)}return{getDecimalSeparator:t}}i.$inject=["configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfcDecimalSeparatorService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(32),o=i(r),a=n(1340),u=i(a),c=angular.module("common.configuration.if",[o["default"]||"common.configuration"]);c.directive(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="common.configuration.if"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t,n,i){var r=i[0],o=i[1],u=r.setValue.bind(r,n[a],n[a+"CheckSupport"]);o?o.registerComponent(e,u):u()}function n(e,t,n,r,o){var u=r[0],c={ngIf:function(){function e(){return n[a+"Inverse"]?!u.isVisible():u.isVisible()}return e}()};i.link(e,t,c,null,o)}var i=e[0];return{transclude:i.transclude,priority:i.priority,terminal:i.terminal,restrict:i.restrict,require:[a,"?^ewfcCountry"],controller:o["default"],link:{pre:t,post:n}}}i.$inject=["ngIfDirective"],t.__esModule=!0,t["default"]=i;var r=n(1341),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfcIf"},function(e,t,n){"use strict";function i(e){"ngInject";function t(){return r}function n(t,n,i){if(null===i)return void(r=!1);(n?function(){return e.getBooleanIfSupportedByCountry.apply(e,arguments)}:function(){return e.getBoolean.apply(e,arguments)})(t,i).then(function(e){return r=e})["catch"](function(){return r=!1})}var i=this;Object.assign(i,{isVisible:t,setValue:n});var r=void 0}i.$inject=["configService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1343),u=i(a),c="common.configuration.ifUserRestriction",s=angular.module(c,[o["default"]||"common.utils"]);s.directive(u["default"].NG_NAME,u["default"]),t.module=s,t["default"]=c},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t,i,r,o){r.getUserRestrictionValue(i[a]).then(function(r){var u={ngIf:function(){function e(){return i[a+"Inverse"]?!r:r}return e}()};n.link(e,t,u,null,o)})}var n=e[0];return{transclude:n.transclude,priority:n.priority,terminal:n.terminal,restrict:n.restrict,controller:o["default"],link:t}}i.$inject=["ngIfDirective"],t.__esModule=!0,t["default"]=i;var r=n(1344),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfIfUserRestriction"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t){return e.whoAmI().then(function(e){return e.coreRestrictions[t]})}var n=this;Object.assign(n,{getUserRestrictionValue:t})}i.$inject=["userService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1346),o=i(r),a=n(439),u=i(a),c="common.configuration.isUserDciAvailable",s=angular.module(c,[u["default"]]);s.directive(o["default"].NG_NAME,o["default"]),t.module=s,t["default"]=c},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e,n,o,a,u){var c=e.$eval(o[r+"FromCountry"]),s=e.$eval(o[r+"DigitalCustomsInvoiceModel"]);t.isDciAvailable(c).then(function(t){s&&!t&&(s.isAvailable=!1);var r={ngIf:function(){function e(){return t}return e}()};i.link(e,n,r,null,u)})}var i=e[0];return{transclude:i.transclude,priority:i.priority,terminal:i.terminal,restrict:i.restrict,link:n}}i.$inject=["ngIfDirective","corporateDigitalCustomsInvoicesService"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfIsUserDciAvailable"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{getPaperlessSettings:"&"+u+"GetPaperlessSettings",onSettingsUpdate:"&"+u+"UpdateSettings",switchPaperlessStatus:"&"+u+"SwitchPaperlessStatus",uploadBasePath:"<?"+u+"UploadBasePath",isCorporate:"<?"+u+"IsCorporate",readOnly:"<?"+u+"ReadOnly"},controller:r,controllerAs:"paperlessCustomsCtrl",templateUrl:"paperless-customs.html"})}function r(e,t,n,i){"ngInject";function r(){N.logoUploadUrl=N.uploadBasePath+"/logo",N.signatureUploadUrl=N.uploadBasePath+"/signature",N.getPaperlessSettings().then(function(e){return Object.assign(N.settings,e)})}function o(){return u().then(function(){return N.onSettingsUpdate({settings:N.settings})}).then(function(e){Object.assign(N.settings,e),N.actionStatus.updated=!0})}function u(){return N.settings.enrolled?i.showConfirmationDialog({message:n.CUSTOMS_CLEARANCE_SETTINGS.LB_CUSTOMS_INVOICE_TEMPLATES_MSG_CONFIRM_UPDATE}):e.when()}function c(){N.isPaperlessHelpShown=!N.isPaperlessHelpShown}function s(){return!(!N.settings.enrolled&&!N.enrollmentRequest)}function l(){return!(!N.settings.generatedBy||N.settings.enrolled)}function d(){return p(!0)}function f(){return p(!1)}function p(e){return N.switchPaperlessStatus({status:e}).then(function(){return N.settings.enabled=e})}function m(){return N.settings.enabled=!0,N.updateSettings().then(E)}function(){}function E(){N.actionStatus.updated=!1,N.actionStatus.enrolled=!0,N.settings.enrolled=!0,N.enrollmentRequest=!1,t(function(){return N.actionStatus.enrolled=!1},a["default"].showInformationHintTimeout)}function S(e){C("signature",e)}function g(e){C("logo",e)}function C(e,t){N.errors[e]=[];var n=A(t.src);N.settings[e]=Object.assign({},t,{src:n})}function A(e){if(!N.isCorporate)return e;var t=e.indexOf("file");return"/api/corporate/"+e.slice(t)}function h(e){var i=e.errors,r=e.type;N.errors[r]=i||[],0===N.errors[r].length&&N.errors[r].push(n.ERRORS.UPLOADED_FILE_FAILED),t(function(){return N.errors[r]=[]},a["default"].showInformationHintTimeout)}function I(e){"signature"===e&&(N.settings.signerName=null,N.settings.signerTitle=null),N.settings[e]=null}var v={OWN:"OWN",DHL:"DHL"},N=this;Object.assign(N,{settings:{},errors:{signature:[],logo:[]},actionStatus:{updated:!1},generated:v,enrollmentRequest:!1,isPaperlessHelpShown:!1,$onInit:r,updateSettings:o,isEnrollmentDisplayed:s,isTermsAgreementDisplayed:l,enablePaperless:d,pausePaperless:f,acceptTermsConditions:m,termsConditionsPopup:_,signatureUploaded:S,logoUploaded:g,fileUploadError:h,removeImage:I,togglePaperlessHelp:c})}i.$inject=["component"],r.$inject=["$q","$timeout","Messages","modalService"],t.__esModule=!0,t["default"]=i,t.PaperlessCustomsController=r;var o=n(27),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfPaperlessCustoms"},function(e,t,n){"use strict";function i(){return{restrict:"A",templateUrl:"myprofile/dhl-digital-customs-invoices/paperless-customs-terms-conditions.jsp"}}t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfPaperlessCustomsTermsConditions"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t){return e.get("/api/shipment/"+t+"/customs-invoice/enrollment").then(function(e){return e.data})}function n(t,n){var i={toCountryCode:n,fromCountryCode:t};return e.get("/api/shipment/customs-invoice/enrollment",{params:i}).then(function(e){return e.data})}function i(t){return e.get("/api/shipment/"+t+"/manifest/documents/preview",{cache:!0}).then(function(e){return e.data})}function r(){return e.post("/api/myprofile/customs/paperless",{enabled:!0,enrolled:!0,generatedBy:"OWN"})}function o(t){return(t?e.get(u,{params:{fromCountry:t}}):e.get(a)).then(function(e){return"true"===e.data})}var a="/api/myprofile/customs/plt/allowed",u="/api/shipment/customs-invoice/plt/allowed";return{enroll:r,requestCompleteStatus:t,requestIncompleteStatus:n,getPltDocuments:i,isPltAllowed:o}}i.$inject=["$http"],t.__esModule=!0,t["default"]=i,i.NG_NAME="customsInvoiceEnrollmentResource"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{readOnly:"<?"+o+"ReadOnly"},controller:r,controllerAs:"corporateDigitalCustomsInvoicesCtrl",templateUrl:"corporate-digital-customs-invoices.html"})}function r(e,t){"ngInject";function n(){t.whoAmI(!0).then(function(e){var t=e.coreRestrictions;return i.isPltEnabled=t.pltEnabled})}var i=this;Object.assign(i,{UPLOAD_BASE_PATH:e.UPLOAD_BASE_PATH,$onInit:n,getPaperlessSettings:function(){function t(){return e.getPaperlessSettings()}return t}(),updateSettings:function(){function t(t){return e.updateSettings(t)}return t}(),switchPaperlessStatus:function(){function t(t){return e.switchPaperlessStatus(t)}return t}(),isPltEnabled:!1})}i.$inject=["component"],r.$inject=["corporateDigitalCustomsInvoicesService","userService"],t.__esModule=!0,t["default"]=i,t.CorporateDigitalCustomsInvoicesController=r;var o=i.NG_NAME="ewfCorporateDigitalCustomsInvoices"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){"ngInject";function i(){return t.getPaperlessSettings()}function r(e){return t.updateSettings(e)}function o(e){return t.switchPaperlessStatus(e)}function u(){return e.getCoreRestriction(c["default"].PLT_ENROLMENT_TYPE)===a["default"].COMPANY}function s(e){return n.isPltAllowed(e).then(l)}function l(t){return t&&e.getCoreRestriction(c["default"].PLT_ENABLED)}return{UPLOAD_BASE_PATH:"/api/corporate/admintools/customs/paperless/upload",getPaperlessSettings:i,updateSettings:r,switchPaperlessStatus:o,isCompanyEnrollment:u,isDciAvailable:s}}r.$inject=["userService","corporateDigitalCustomsInvoicesResource","customsInvoiceEnrollmentResource"],t.__esModule=!0,t["default"]=r;var o=n(1352),a=i(o),u=n(36),c=i(u);r.NG_NAME="corporateDigitalCustomsInvoicesService"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={COMPANY:"COMPANY",USER:"USER"}},function(e,t,n){"use strict";function i(e){"ngInject";function t(){return e.get(o).then(r)}function n(t){return e.post(o,t).then(r)}function i(t){return e.put(a,{enabled:t}).then(r)}function r(e){return e.data}var o="/api/corporate/admintools/customs/paperless",a=o+"/status";return{getPaperlessSettings:t,updateSettings:n,switchPaperlessStatus:i}}i.$inject=["$http"],t.__esModule=!0,t["default"]=i,i.NG_NAME="corporateDigitalCustomsInvoicesResource"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(32),o=i(r),a=n(1355),u=i(a),c=angular.module("common.configuration.src",[o["default"]||"common.configuration"]);c.directive(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="common.configuration.src"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){var r=i[0],o=i[1],u=n[a].split(" as "),c=u[0],s=u[1],l=n[a+"SpecificCountry"],d=function(){return e.$eval(n[a+"OnDataLoaded"])||angular.noop},f=r.setValue.bind(r,c,s,d,l);n[a+"LoadFullData"]&&r.preventParsingFullData(),o?o.registerComponent(e,f):f()}return{priority:1500,restrict:"A",require:[a,"?^ewfcCountry"],scope:!0,controller:o["default"],controllerAs:"ewfcSrcCtrl",link:{pre:e}}}t.__esModule=!0,t["default"]=i;var r=n(1356),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfcSrc"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){u=!0}function r(n,i,r,a,c){var s=t(i).assign.bind(null,e);if(!a||c===a)return null===c?(s(),void r()):void o(u,n,c).then(function(e){s(e),r()})["catch"](function(){s(),r()})}function o(e,t,i){return e?n.getValue(t,i).then(function(e){return e.data}):n.getSourceData(t,i)}var a=this,u=!1;Object.assign(a,{preventParsingFullData:i,setValue:r})}i.$inject=["$scope","$parse","configService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(32),o=i(r),a=n(1358),u=i(a),c=angular.module("common.configuration.value",[o["default"]||"common.configuration"]);c.directive(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="common.configuration.value"},function(e,t,n){"use strict";function i(){return{restrict:"A",require:[u,"?^ewfcCountry"],controller:a["default"],link:{pre:r}}}function r(e,t,n,i){var r=i[0],o=i[1],a=r.setValue.bind(r,n[u]);r.setRenderFunction(function(e){t.text(angular.isUndefined(e)?"":e.map(function(e){return e.value}).join(", "))}),o?o.registerComponent(e,a):a()}t.__esModule=!0,t["default"]=i;var o=n(1359),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfcValue"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e){r=e}function n(t,n){e.getSourceData(t,n).then(r)["catch"](function(){r(undefined)})}var i=this;Object.assign(i,{setRenderFunction:t,setValue:n});var r=void 0}i.$inject=["configService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1361),o=i(r),a=n(1363),u=i(a),c=n(1665),s=i(c),l=n(1667),d=i(l),f=angular.module("common.configuration.form",[o["default"],u["default"],s["default"],d["default"]]);t.module=f,t["default"]="common.configuration.form"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1362),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o="common.configuration.form.customValidator",a=angular.module(o,[]);a.directive(r["default"].NG_NAME,r["default"]),t.module=a,t["default"]=o},function(e,t,n){"use strict";function i(){return{restrict:"A",require:"ngModel",scope:{validator:"&"+r},link:function(){function e(e,t,n,i){i.$parsers.unshift(function(){return e.validator({ngModelCtrl:i})})}return e}()}}t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfcCustomValidator"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(81),o=i(r),a=n(135),u=i(a),c=n(2),s=i(c),l=n(32),d=i(l),f=n(1662),p=i(f),m=n(1664),_=i(m),E=angular.module("common.configuration.form.field",[s["default"]||"common.utils",d["default"]||"common.configuration",u["default"],o["default"]]);E.directive(p["default"].NG_NAME,p["default"]).service(_["default"].NG_NAME,_["default"]),t.module=E,t["default"]="common.configuration.form.field"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){var r=i[0],o=i[1],a=i[2];o.init(a.validators,r),t.on("blur",function(){t.addClass("ng-dirty ng-blur"),e.$apply(function(){return o.validationIsVisible=!1})}),e.$on("ValidateForm",function(){t.addClass("ng-dirty"),o.updateValidationVisibility()}),t.on("focus keyup",function(){return e.$apply(function(){return o.updateValidationVisibility()})})}return{restrict:"A",priority:3,controller:o["default"],controllerAs:"inputPasswordCtrl",require:["ngModel",a,"^ewfInput"],link:e}}t.__esModule=!0,t["default"]=i;var r=n(1365),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfInputPassword"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t,n){u.ngModelCtrl=n,u.fieldName=n.$name,u.externalValidators=t,u.patternValidator=e.createValidator("password")}function i(){var e=u.validationErrorMessage[u.fieldName]={},t=!0;return c.forEach(function(n){var i=u.ngModelCtrl.$viewValue;u.patternValidator.setOptions(n.params);var r=u.patternValidator.validate(i),o=n.type;e[o]=e[o]||[],e[o].push({translation:n.translation,functionName:o,viewValue:u.ngModelCtrl.$viewValue||"",validateParams:n.params,isRuleValid:r}),!r&&t&&(t=!1)}),u.ngModelCtrl.$setValidity(u.fieldName,t),u.ngModelCtrl.$modelValue}function r(){var e=u.ngModelCtrl.$viewValue;return u.externalValidators.every(function(t){return t.validate(e)})}function o(){u.validationIsVisible=r(),u.validationIsVisible&&i()}function a(){return u.ngModelCtrl.$invalid&&!u.validationIsVisible}var u=this,c=[{type:"password",params:{value:"^(.{8,})$"},translation:t.REGISTRATION.CONTACT_DETAILS_MSG_MINIMUM_8_CHARACTERS},{type:"password",params:{value:".*([a-z]{1,}).*"},translation:t.REGISTRATION.CONTACT_DETAILS_MSG_1_LOWERCASE_LETTER},{type:"password",params:{value:".*([A-Z]{1,}).*"},translation:t.REGISTRATION.CONTACT_DETAILS_MSG_1_UPPERCASE_LETTER},{type:"password",params:{value:".*([0-9]{1,}).*"},translation:t.REGISTRATION.CONTACT_DETAILS_MSG_1_NUMBER},{type:"password",params:{value:".*([\\x21-\\x2F\\x3A-\\x40\\x5B-\\x60]{1,}).*"},translation:t.REGISTRATION.CONTACT_DETAILS_MSG_SPECIAL_CHARACTERS}];Object.assign(u,{validationErrorMessage:{},validationIsVisible:!1,fieldName:null,init:n,updateValidationVisibility:o,isErrorsVisible:a})}i.$inject=["validatorsFactory","Messages"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){function e(e,n){var i=e.inputPasswordCtrl,r=i.validationErrorMessage[i.fieldName];e.errorMessage.isRuleValid?n.addClass(t):n.removeClass(t);var o=Object.keys(r);i.validationIsVisible=o.some(function(e){return r[e].some(function(e){return!e.isRuleValid})})}var t="ewf-complete-ver-info";return{restrict:"A",link:e}}t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfShowValidationInfo"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1368),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("common.form.control",[]);o.directive(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="common.form.control"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n,i,o,u){u(function(t,o){t.remove();var u=t.clone().filter("[ng-model]");if(!u.length)throw new Error('ewf-control: control was not found or has no "ng-model" attribute');a(n,"form-row"),n.append(d[u.prop("tagName").toLowerCase()](u,i[r+"Label"],i.ewfErrorMessages)),e(n.contents())(o)})}function n(e){var t=e.attr("name");if(!t)throw new Error("ewf-control: control name is empty");return t}function i(e,t,n){switch(e.prop("type")){case"checkbox":return u(e,t);default:return o(e,t,n)}}function o(e,t,i){var r=[];return l(r,t),a(e,"input input_width_full"),r.push(angular.element('<span class="field-wrapper"></span>').append(e,"&nbsp;",'<span class="validation-mark"></span>','<div class="msg-error" ewf-control-errors="'+n(e)+'" ewf-error-messages="'+i+'"></div>')),r}function a(e,t){e.attr("class")&&"ng-scope"!==e.attr("class")||e.addClass(t)}function u(e,t,i){var r,o=[e.addClass("checkbox__input")];return l(o,t),o.push('<span class="validation-mark"></span>','<div class="msg-error" ewf-control-errors="'+n(e)+'" ewf-error-messages="'+i+'"></div>'),(r=angular.element('<div class="checkbox"></div>')).append.apply(r,o)}function c(e,t,i){var r=[];return l(r,t),r.push(angular.element('<span class="field-wrapper"></span>').append(e.addClass("textarea textarea_width_full"),"&nbsp;",'<span class="validation-mark"></span>','<div class="msg-error" ewf-control-errors="'+n(e)+'" ewf-error-messages="'+i+'"></div>')),r}function s(e,t,i){var r=[];l(r,t);var o=angular.element('<span class="field-wrapper"></span>'),a=angular.element('<span class="select select_width_full"></span>');return a.append(e,"&nbsp;",'<span class="validation-mark"></span>','<div class="msg-error" ewf-control-errors="'+n(e)+'" ewf-error-messages="'+i+'"></div>'),o.append(a),r.push(o),r}function l(e,t){t&&e.push('<span class="label">'+t+"</span>")}var d={input:i,textarea:c,select:s};return{restrict:"A",replace:!0,transclude:!0,template:"<label></label>",link:t}}i.$inject=["$compile"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfControl"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e,t){o=e,a=t}function i(){var n=Object.assign({required:t.ERRORS.FORM_FIELD_IS_REQUIRED,maxlength:t.ERRORS.MAX_LENGTH_ERROR_MESSAGE,pattern:t.ERRORS.PATTERN_ERROR_MESSAGE,number:t.ERRORS.PATTERN_ERROR_MESSAGE,email:t.ERRORS.EMAIL_ERROR_MESSAGE},e.$eval(a));return Object.keys(o.$error).filter(function(e){return o.$error[e]}).map(function(e){var t=n[e];return angular.isFunction(t)?t(o.$viewValue):t})}var r=this;Object.assign(r,{init:n,getErrors:i});var o=void 0,a=void 0}i.$inject=["$scope","Messages"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1371),u=i(a),c=angular.module("common.form.customAsyncValidation",[o["default"]||"common.utils"]);c.directive(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="common.form.customAsyncValidation"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){"ngInject";function n(n,c,d,f){function p(t){f.$dirty&&c.addClass(s["default"].HIGHLIGHTED),f.$setValidity(u["default"].PENDING_VALIDATION_KEYS,!1);var i=n.$eval(d[l],{props:n.$eval(d[l+"Props"]),modelValue:f.$modelValue,viewValue:f.$viewValue,value:t}),r=Object.keys(i).map(function(t){return e.when(i[t]).then(function(e){return{key:t,validity:e}})["catch"](function(){return{key:t,validity:!1}})});return e.all(r).then(function(e){angular.forEach(e,function(e){var t=e.validity,n=e.key;return f.$setValidity(n,t)})})["finally"](function(){return f.$setValidity(u["default"].PENDING_VALIDATION_KEYS,!0)}),t}if(!i(n,d)){var m=r(n,d);if(d[l+"Props"]){a(n,m)(d[l+"Props"],function(){return p(f.$modelValue)})}if(m.onBlur)return void c.on("blur",function(){p(f.$modelValue)});if(m.onInput){var _=function(){var e=t.debounce(p,m.debounce);return c.on("input",function(){e(f.$modelValue)}),{v:void 0}}();if("object"===(void 0===_?"undefined":o(_)))return _.v}f.$parsers.unshift(p),f.$formatters.push(p)}}function i(e,t){if(e.$eval(t[l+"RestrictValidation"]))return!0;if(!t[l])throw new Error(l+" should have value")}function r(e,t){return e.$eval(t[l+"Options"])||{deepWatch:!1,onBlur:!1,onInput:!1}}function a(e,t){return t.deepWatch?function(t,n){return e.$watch(t,n,!0)}:function(t,n){return e.$watchCollection(t,n)}}return{restrict:"A",require:"ngModel",link:n}}r.$inject=["$q","debounceService"],t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=r;var a=n(227),u=i(a),c=n(134),s=i(c),l=r.NG_NAME="ewfCustomAsyncValidation"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n,i,o){function a(){_.$parsers.unshift(f),_.$formatters.push(p)}function u(){E&&t.$watch(function(){return E.getOptions()},l)}function c(){n.on("focus blur",s)}function s(e){g="focus"===e.type,d(E.getOptions())}function l(e){d(e)}function d(e){var t=f(n.val());e&&Object.assign(S,e),g&&(S.thousandSeparator=""),!g&&t||(t=_.$modelValue),m(t)}function f(t){if(!t||!1===C&&"-"===t)return t;var n=_.$modelValue,i=e.parse(t,S,C),r=e.trunc(i,S);return isNaN(i)?(m(n),n):r!==i?(m(r),r):i}function p(t){return e.format(t,S)}function m(e){!e&&!_.$viewValue||e===_.$viewValue||(_.$setViewValue(p(e)),_.$render())}var _=o[0],E=o[1],S={},g=!1,C="true"===i[r+"PositiveOnly"]||!1;!function(){a(),u(),c()}()}return{restrict:"A",require:["^ngModel","^?ewfcDecimal"],link:t}}i.$inject=["decimalService"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfDecimal"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,i,a,u){function c(){u&&t.$watch(function(){return u.getOptions()},l)}function s(){t.$watch(a[o],d)}function l(e){f(e)}function d(e){E=e,m(E)}function f(e){u&&Object.assign(_,e),m(E)}function p(t){if(!t){var i=_.fractionSeparator||n;return r.HIDDEN_PRICE_VALUE_MASK.replace(n,i)}var u=a[o+"WithoutTrunc"]?t:e.trunc(t,_);return e.format(u,_)}function m(e){i.html(p(e))}var _={},E=void 0;!function(){c(),s()}()}var n=".";return{restrict:"A",require:"^?ewfcDecimal",link:t}}i.$inject=["decimalService"],t.__esModule=!0,t["default"]=i;var r=n(80),o=i.NG_NAME="ewfDecimalLabel"},function(e,t,n){"use strict";function i(e,t,n,i,r,o){"ngInject";function a(e,t){return n(e,t.fractionSeparator,t.thousandSeparator,t.decimalPoint)}function u(e,n,i){return t(e,n.fractionSeparator,n.thousandSeparator,i)}function c(e,t){return i(e,t.intMaxLength,t.fractionMaxLength)}function s(e){return r.getSourceData(r.CI_KEYS.CI0628_DECIMAL_SEPARATOR,e).then(function(e){return{fractionSeparator:"comma"===e?",":".",thousandSeparator:"comma"===e?".":","}})}function l(t,n,i){var o=n?r.CI_KEYS[n]:r.CI_KEYS.CI0811_NO_DIGITS_ALLOWED_NET_WEIGHT_GROSS_WEIGHT_ITEM_VALUE,a=i?r.CI_KEYS[i]:r.CI_KEYS.CI1022_NO_OF_DECIMALS_ALLOWED_FOR_WEIGHT_AND_ITEM_VALUE,u=r.getSourceData(o,t),c=r.getSourceData(a,t);return e.all([u,c]).then(function(e){return{intMaxLength:e[0],fractionMaxLength:e[1]}})}function d(e){var t={intMaxLength:null,fractionMaxLength:2};return o.getCurrencyDecimalPoint(e).then(function(e){return Object.assign(t,{decimalPoint:e,fractionMaxLength:angular.isNumber(e)?e:t.fractionMaxLength})})}return{parse:u,format:a,trunc:c,getSeparatorOptions:s,getWeightOptions:l,getCurrencyOptions:d}}i.$inject=["$q","decimalParseFilter","decimalFormatFilter","decimalTruncFilter","configService","priceService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="decimalService"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1376),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("common.form.email",[]);o.directive(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="common.form.email"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n,i,o){function a(e){var t=o.$isEmpty(e)||l(e);return o.$setValidity("email",t),t?e:undefined}function u(e){return e.split(",").every(c)}function c(t){return e.USER_NAME_PATTERN.test(t.trim())}var s=i[r+"List"],l=s?u:c;o.$formatters.push(a),o.$parsers.push(a)}return{restrict:"A",require:"ngModel",link:t}}i.$inject=["Patterns"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfEmail"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1378),u=i(a),c=n(1379),s=i(c),l=angular.module("common.widgets.address.brazilTax",[o["default"]||"common.utils"]);l.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="common.widgets.address.brazilTax"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({bindings:{taxDetails:"="+f+"Details",contactProvince:"<"+f+"ContactProvince",countryCode:"<"+f+"CountryCode",cteOption:"=?"+f+"CteOption",isSender:"<?"+f+"IsSender",isFromToSection:"<?"+f+"IsFromToSection",isAddEditContactPage:"<?"+f+"IsAddEditContactPage",isShipmentDetailsSection:"<?"+f+"IsShipmentDetailsSection",isShipmentTypePackage:"<?"+f+"IsShipmentTypePackage",isBrazilianDomesticShipment:"<?"+f+"IsBrazilianDomesticShipment",isReturnLabel:"<?"+f+"IsReturnLabel"},controller:o,controllerAs:"brazilTaxCtrl",templateUrl:"brazil-tax.html"})}function o(e,t,n,i,r,o){"ngInject";function a(){G()?_():m()}function c(){K.isBrazilUser=i.getUserCountry()===K.brazilCountryCode}function l(e){var t=e.contactProvince,n=e.countryCode,i=e.isShipmentTypePackage,r=e.isBrazilianDomesticShipment;t&&C(),n&&a(),G()&&(i||r)&&f()}function f(){j(),K.cnpjTaxIdField.visible=!0,K.cnpjTaxIdField.mandatory=V()}function p(){K.cteOption&&T()}function m(){K.cnpjTaxIdField.visible=!1,K.ieTaxIdField.visible=!1,K.taxDetails.cnpjOrCPFTaxID=null,K.taxDetails.ieTaxId=null}function _(){f(),n.getIeTaxFieldConfiguration().then(E)}function E(e){K.countryCode&&G()&&(K.ieTaxIdField=e,K.ieTaxIdField.valid=!0,S(),K.cnpjTaxIdField.visible&&L())}function S(){K.taxDetails.taxDetails&&(g("cnpjOrCPFTaxType"),g("cnpjOrCPFTaxID"),g("ieTaxId"),g("vatTaxId"))}function g(e){K.taxDetails[e]=K.taxDetails[e]||K.taxDetails.taxDetails[e]}function C(){K.ieTaxProvince=K.contactProvince&&K.contactProvince.trim(),K.taxDetails.ieTaxId&&P()}function A(){return K.cteOption===u["default"].MANUAL_NON_DOC_EXEMPT}function h(){return K.cteOption===u["default"].NOT_BRAZIL}function I(){return(""+K.taxDetails.ieTaxId).toUpperCase()===Y}function v(){return K.cteOption===u["default"].DANFE_KEY&&I()}function N(){var e=[u["default"].DANFE_KEY,u["default"].IMPORT_NF,u["default"].MANUAL_NON_DOC_NOT_EXEMPT];return K.isSender&&e.includes(K.cteOption)&&I()}function T(){K.cteOption!==Q&&(U()&&(K.taxDetails.ieTaxId=Y,P()),N()&&(K.taxDetails.ieTaxId=""),Q&&h()&&m(),Q=K.cteOption)}function M(e){w()&&(K.taxDetails.ieTaxId=Y),K.taxDetails.cnpjOrCPFTaxID="",e.$setPristine(),P()}function y(){var e=K.taxDetails.cnpjOrCPFTaxID,t=q[K.taxDetails.cnpjOrCPFTaxType];return!e||e!==X&&t&&t.test(e)&&!z.test(e)}function O(){return!N()&&(U()||K.ieTaxIdField.valid)}function D(e){if(K.taxDetails.isCnpjOrCPFTaxIDValid=e.$valid,e.$valid){X=null;var t={code:K.taxDetails.cnpjOrCPFTaxID,type:K.taxDetails.cnpjOrCPFTaxType};n.validateTaxId(t).then(function(t){t||(X=K.taxDetails.cnpjOrCPFTaxID),b(e)})}}function P(){if(!K.taxDetails.ieTaxId)return void R(!0);if(!K.ieTaxProvince)return void R(!1,o.SHIPMENT_ADDRESS.ADDRESS_DETAILS_ERROR_IE_TAX_ID_NOT_SPECIFIED_PROVINCE);if(v()&&K.isSender)return void R(!1,"errors.common_msg_ie-tax-id-isento");var e={code:K.taxDetails.ieTaxId,province:K.ieTaxProvince,type:K.taxDetails.cnpjOrCPFTaxType};n.validateTaxId(e,!0).then(function(e){R(e,o.SHIPMENT_ADDRESS.ADDRESS_DETAILS_ERROR_INVALID_TAX_ID)})}function R(e,t){if(K.ieTaxIdField.valid=e,!e&&t&&(K.ieTaxIdField.message=t),K.BrTaxCodes){b(K.BrTaxCodes.ieTaxID)}}function b(e){e&&t(function(){return e.$setViewValue(e.$viewValue)})}function L(){n.getTaxIdMasks().then(function(e){K.taxIdMasks=e})}function G(){return K.countryCode===K.brazilCountryCode}function k(){return!!K.countryCode&&(K.cnpjTaxIdField.visible||K.ieTaxIdField.visible)}function w(){return U()&&F()}function U(){return A()&&K.isSender}function F(){return K.taxDetails.cnpjOrCPFTaxType===K.ieTaxIdType.CNPJ}function j(){K.currentPageSection=n.setCurrentPageSection(K)}function V(){return n.getCnpjTaxIdFieldMandatority(K)}function B(){return K.isFromToSection&&K.isBrazilUser&&G()}function $(){e.$apply(function(){var e=V(),t=B(),n=i.isExpertFlow()&&!e&&t;K.cnpjTaxIdField.mandatory=e||t,r.setElementVisibilityStatus(s["default"].BUTTON_NEXT_EXPERT,n)})}function H(){e.$apply(function(){K.cnpjTaxIdField.mandatory=V(),r.removeElementVisibilityStatus(s["default"].BUTTON_NEXT_EXPERT)})}function x(){return!K.isBrazilUser&&K.isFromToSection}var K=this,Y="ISENTO",W={CPF:"CPF",CNPJ:"CNPJ"},q={CNPJ:/^\d{14}$/,CPF:/^\d{11}$/},z=/^(.)\1+$/,X=void 0,Q=void 0;Object.assign(K,{ieTaxIdField:{},cnpjTaxIdField:{visible:!0,mandatory:!1},taxIdMasks:{},taxDetails:{},ieTaxIdType:W,brazilCountryCode:d["default"].BRAZIL,$onInit:c,$onChanges:l,$doCheck:p,onTaxOptionChange:M,validateIeTaxId:P,validateCnpjOrCpfTaxId:D,checkCnpjOrCpfTaxIdFormat:y,checkIeTaxIdValidity:O,isTaxFieldsVisible:k,isIeTaxIdDisabled:w,shouldIgnoreIeTaxIdCifMandatority:x,applyOptionalMandatority:$,removeOptionalMandatority:H})}r.$inject=["component"],o.$inject=["$scope","$timeout","brazilTaxService","userService","optionalMandatorityService","Messages"],t.__esModule=!0,t["default"]=r,t.BrazilTaxController=o;var a=n(55),u=i(a),c=n(441),s=i(c),l=n(4),d=i(l),f=r.NG_NAME="ewfBrazilTax"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i){"ngInject";function r(){return i.getFormField(i.CI_KEYS.CI0101_MY_PROFILE_TAX_FG_IE,c["default"].BRAZIL).then(angular.copy)}function o(){var e={};return t.get("/api/brazilTaxCode/masks").then(function(t){return t.data.forEach(function(t){e[t.type]=t.mask.replace(/X|Y|Z/g,"?9")}),e})["catch"](function(t){return n.error("Tax ID Masks: ",t),e})}function u(e,i){return t.post("/api/brazilTaxCode/validate"+(i?"/ie":""),e).then(function(e){return e&&e.data&&e.data.valid})["catch"](function(e){return n.error("Tax ID validation: ",e),!1})}function s(e){var t=e.isFromToSection,n=e.isSender,i=e.isBrazilianDomesticShipment,r=e.isAddEditContactPage,o=e.isBrazilUser,a=e.isShipmentDetailsSection,u=e.isShipmentTypePackage,c=e.isReturnLabel;return t?n||i:r?o:c||a&&u}function l(e){var t=e.isFromToSection,n=e.isReturnLabel,i=e.isShipmentDetailsSection;return t&&a["default"].FROM_TO||n&&a["default"].RETURN_LABEL||i&&a["default"].SHIPMENT_DETAILS||a["default"].OTHER_SECTION}return{getIeTaxFieldConfiguration:r,getTaxIdMasks:o,validateTaxId:u,getCnpjTaxIdFieldMandatority:s,setCurrentPageSection:l}}r.$inject=["$q","$http","logService","configService"],t.__esModule=!0,t["default"]=r;var o=n(1380),a=i(o),u=n(4),c=i(u);r.NG_NAME="brazilTaxService"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={FROM_TO:"FROM_TO",SHIPMENT_DETAILS:"SHIPMENT_DETAILS",RETURN_LABEL:"RETURN_LABEL",OTHER_SECTION:"OTHER_SECTION"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1382),u=i(a),c=n(1383),s=i(c),l=n(1384),d=i(l),f=n(1385),p=i(f),m=n(1386),_=i(m),E=n(1387),S=i(E),g=n(1388),C=i(g),A=n(1389),h=i(A),I=angular.module("common.widgets.address.taxDetails",[o["default"]||"common.utils"]);I.directive(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]).directive(S["default"].NG_NAME,S["default"]).directive(h["default"].NG_NAME,h["default"]).directive(d["default"].NG_NAME,d["default"]).directive(p["default"].NG_NAME,p["default"]).service(_["default"].NG_NAME,_["default"]).service(C["default"].NG_NAME,C["default"]),t.module=I,t["default"]="common.widgets.address.taxDetails"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({bindings:{taxDetails:"="+f,isBrazilSpecificBehavior:"<"+f+"IsBrazilSpecificBehavior",countryDivisionCode:"<"+f+"CountryDivisionCode",countryCode:"<"+f+"CountryCode",goodsAndServicesTaxIdAvailable:"<?"+f+"GoodsAndServicesTaxIdAvailable",businessContactType:"<?"+f+"BusinessContactType"},controller:o,controllerAs:"taxDetailsCtrl",templateUrl:"common/widgets/tax-details/tax-details.html"})}function o(e,t,n){"ngInject";function i(t){var n=t.countryCode;n&&n.currentValue?(a(),f=e.isIndiaUserWithAccount()&&n.currentValue===u["default"].UNITED_STATES):l.countryCode||(l.taxFieldsConfigurations={})}function r(){return f}function o(){return t.getUserCountry()}function a(){n.getTaxFieldsConfigurationsWithVatTaxIdCifs(l.countryCode).then(function(e){l.taxFieldsConfigurations=e})}function c(e){var t=d["default"].VAT_TAX_ID_FLAG,i=l.taxFieldsConfigurations.businessPrivateConfigurations,r=n.isAllowedByVatTaxIdCif(l.taxFieldsConfigurations,e)&&n.isTaxFieldAvailable(i,l.businessContactType,e,t)&&!l.isBrazilSpecificBehavior;return l.taxDetails.isVatTaxIdAvailable=r,r}var l=this,f=!1;Object.assign(l,{$onChanges:i,isEinNumberAvailable:r,getUserCountry:o,isVatTaxIdFieldAvailable:c,taxFieldsConfigurations:{},PARTY_ROLES:s["default"]})}r.$inject=["component"],o.$inject=["indiaFlowService","userService","personalInformationService"],t.__esModule=!0,t["default"]=r,t.TaxDetailsController=o;var a=n(4),u=i(a),c=n(94),s=i(c),l=n(396),d=i(l),f=r.NG_NAME="ewfTaxDetails"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"="+r,aqaId:"@"+r+"AqaId"},controllerAs:"eoriNumberCtrl",templateUrl:"common/widgets/tax-details/eori-number.html"})}i.$inject=["component"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfEoriNumber"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"="+u,countryCode:"<"+u+"CountryCode",visibilityCallback:"&?"+u+"VisibilityCallback",shouldCheckIsRequired:"<"+u+"ShouldCheckIsRequired",isValid:"=?"+u+"IsValid"},controller:r,controllerAs:"iecNumberCtrl",templateUrl:"common/widgets/tax-details/iec-number.html"})}function r(e,t,n,i){"ngInject";function r(e){f=e}function o(){f&&f.preventDefault()}function u(t){e(function(){return p.isValid=t.ngModelCtrl.$valid},1e3)}function c(){p.countryCode===a["default"].INDIA&&(t.getIecNumberValidationRule().then(function(e){return p.validationRegEx=e}),p.shouldCheckIsRequired&&t.isIecNumberMandatory().then(function(e){return p.isRequired=e}))}function s(e){e.countryCode&&p.countryCode&&n.isIndiaFlowShipment(p.countryCode).then(function(e){return d=e})}function l(){return d&&(!p.visibilityCallback||p.visibilityCallback())&&!i.isB2lShipment()}var d=!1,f=void 0,p=this;Object.assign(p,{$onInit:c,$onChanges:s,isVisible:l,onChange:o,setFocus:r,setValidity:u})}i.$inject=["component"],r.$inject=["$timeout","iecNumberService","indiaFlowService","b2lRestrictionsService"],t.__esModule=!0,t["default"]=i,t.IecNumberController=r;var o=n(4),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfIecNumber"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"="+r,country:"<?"+r+"Country"},controllerAs:"einNumberCtrl",templateUrl:"common/widgets/tax-details/ein-number.html"})}i.$inject=["component"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfEinNumber"},function(e,t,n){"use strict";function i(e){"ngInject";function t(){return e.getSourceData(e.CI_KEYS.CI1405_IEC_NUMBER_VALIDATION_RULE,o["default"].INDIA)}function n(){return e.getBoolean(e.CI_KEYS.CI1408_SHIPPER_IEC_VAT_TAX_ID_MANDATORY_FOR_CSBV_SHIPMENT,o["default"].INDIA)}return{getIecNumberValidationRule:t,isIecNumberMandatory:n}}i.$inject=["configService"],t.__esModule=!0,t["default"]=i;var r=n(4),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="iecNumberService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"="+o,gstinType:"="+o+"Type",country:"<"+o+"Country",additional:"<?"+o+"Additional",required:"<?"+o+"Required"},controller:r,controllerAs:"gstinCtrl",templateUrl:"common/widgets/tax-details/goods-and-services-tax-id.html"})}function r(e){"ngInject";function t(t){var n=t.country;u.country&&n&&e.getGstinTypes(u.country).then(function(e){u.gstinTypes=e,u.initialized=!0})}function n(){return u.required||!!u.gstinType}function i(){return u.required||!!u.model}function r(){var t=arguments.length<=0||arguments[0]===undefined?u.model:arguments[0];return u.asyncValidationError=a().standardError,e.validateGstin({gstin:t,gstinType:u.gstinType})}function o(){return a().helpText}function a(){return u.gstinTypes.find(function(e){return e.idCode===u.gstinType})||{}}var u=this;Object.assign(u,{$onChanges:t,validateGstin:r,isTypeRequired:i,isNumberRequired:n,getPlaceholder:o})}i.$inject=["component"],r.$inject=["goodsAndServicesTaxIdService"],t.__esModule=!0,t["default"]=i,t.GoodsAndServicesTaxIdController=r;var o=i.NG_NAME="ewfGoodsAndServicesTaxId"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(t){return t.gstinType?n.postElement("/api/gstin/validate",t).then(function(e){return e.valid}):e.when(!0)}function o(e){return t.getBooleanIfSupportedByCountry(t.CI_KEYS.CI1321_LIST_OF_IDENTITY_DOCUMENTS_OF_INDIA,e).then(function(e){return e&&e.map(a)})}function a(e){var t=e.standardError,n=e.helpText,i=e.idName,r=e.idCode;return{standardError:u(t),helpText:u(n),idName:u(i),idCode:r.value}}function u(e){var t=e.value,n=e.nls,r=i.getTranslationSync(n);return r!==n?r:t}return{validateGstin:r,getGstinTypes:o}}i.$inject=["$q","configService","crudService","nlsService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="goodsAndServicesTaxIdService"},function(e,t,n){"use strict";function i(e){"ngInject";return{restrict:"A",controller:function(){function e(){}return e}(),controllerAs:"shipmentTypeFieldCtrl",require:[r,"^form"],link:function(){function t(t,n,i,o){function a(n){e(i[r]).assign(t,n)}var u=o[0],c=o[1];t.$watch(i[r],function(e){u.unvalidatedModel=e}),t.$watchCollection(function(){return[u.unvalidatedModel,c.$valid]},function(e){var n=e[0],o=e[1];(t.$eval(i[r+"Ignore"])||o)&&a(n)}),t.$watch(function(){return t.$eval(i[r+"TriggerModelValue"])},function(e,t){!t&&e&&a(u.unvalidatedModel)})}return t}()}}i.$inject=["$parse"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfShipmentTypeField"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{country:"<?"+o+"Country",stateCode:"<"+o+"StateCode"},controller:r,controllerAs:"transporterIdCtrl",templateUrl:function(){function e(e,t){return t[o+"IsIndiaSummarySection"]?"common/widgets/transporter-id/india-summary-transporter-id.html":"common/widgets/transporter-id/transporter-id.html"}return e}()})}function r(e,t){"ngInject";function n(e){var t=e.stateCode;i(e.country),r(t)}function i(n){n&&u.country&&e.all([t.getBooleanIfSupportedByCountry(t.CI_KEYS.CI1281_COUNTRY_TRANSPORTER_ID,u.country),t.getBooleanIfSupportedByCountry(t.CI_KEYS.CI1299_GST_STATE_TRANSPORTER_ID,u.country)]).then(o)}function r(e){e&&u.initialized&&a()}function o(e){var t=e[0],n=e[1];if(!t||!n)return void(u.initialized=!1);s=t,c=n,a(),u.initialized=!0}function a(){if(!u.stateCode)return void(u.transporterId="");var e=c.find(function(e){return e.stateCode.value===u.stateCode});u.transporterId=e?e.transporterId.value:s.value}var u=this,c=void 0,s=void 0;Object.assign(u,{$onChanges:n})}i.$inject=["component"],r.$inject=["$q","configService"],t.__esModule=!0,t["default"]=i,t.TransporterIdController=r;var o=i.NG_NAME="ewfTransporterId"},function(e,t,n){"use strict";function i(){return{restrict:"A",templateUrl:function(){function e(e,t){return t[a+"TemplateUrl"]||"common/widgets/address.html"}return e}(),controller:o["default"],controllerAs:"addressCtrl",scope:!0,link:function(){function e(e,t,n,i){var r={address:a,addressBookContacts:a+"AddressBookContacts",addressBookCountryCode:a+"AddressBookCountryCode",addressBookCountryToExclude:a+"AddressBookCountryToExclude",addressDisabled:a+"AddressDisabled",addressFormName:a+"AddressFormName",authorizedPickupLocations:a+"AuthorizedPickupLocations",brazilDisableOnlyState:a+"BrazilDisableOnlyState",cityRequired:a+"CityRequired",cityDisabled:a+"CityDisabled",cityChangeRestricted:a+"CityChangeRestricted",countryCodeForTypeAhead:a+"CountryCodeForTypeAhead",countryFieldDisabled:a+"CountryFieldDisabled",hideResidentialAddressCheckbox:a+"HideResidentialAddressCheckbox",hideBusinessContactCheckbox:a+"HideBusinessContactCheckbox",hideBusinessAddressOnlyOnAddressDetails:a+"HideBusinessAddressOnlyOnAddressDetails",isAdditionalAddressHidden:a+"IsAdditionalAddressHidden",isAddressHidden:a+"IsAddressHidden",isCompanyNameHidden:a+"IsCompanyNameHidden",isCompanyWithoutAutocomplete:a+"CompanyWithoutAutocomplete",isCountryFieldHidden:a+"IsCountryFieldHidden",isDisabled:a+"IsDisabled",isFullNameHidden:a+"IsFullNameHidden",isZipAndCityAutocompleteEnabled:a+"IsZipAndCityAutocompleteEnabled",nameFieldDisabled:a+"NameFieldDisabled",nameInputEditable:a+"NameInputEditable",notOriginatingBrazil:a+"NotOriginatingBrazil",postalCodeRequired:a+"PostalCodeRequired",postalCodeDisabled:a+"PostalCodeDisabled",postalCodeChangeRestricted:a+"PostalCodeChangeRestricted",searchAddressbook:a+"SearchAddressbook",showAddressBookButton:a+"ShowAddressBookButton",addressBookCollectionType:a+"AddressBookCollectionType",showFullnameAhead:a+"ShowFullnameAhead",showNickNameField:a+"ShowNickNameField",showSearchOnFocus:a+"ShowSearchOnFocus",showTitle:a+"ShowTitle",validateLocation:a+"ValidateLocation",isAlternativeTabsAvailable:a+"IsAlternativeTabsAvailable",hasNoDhlAccount:a+"HasNoDhlAccount",isImportShipment:a+"IsImportShipment",addressesSwitched:a+"AddressesSwitched",v2:a+"V2",preventBrazilCityDisabling:a+"PreventBrazilCityDisabling",preventBrazilAddressDisabling:a+"PreventBrazilAddressDisabling",onlyNameEnabled:a+"OnlyNameEnabled",onlyNickNameEnabled:a+"OnlyNickNameEnabled",isReturnLabel:a+"IsReturnLabel",isStandalonePickup:a+"IsStandalonePickup"},o={addressBookOnSelection:a+"AddressBookOnSelection",contactAheadOnSelection:a+"ContactAheadOnSelection",addressBookOnTypeaheadSelection:a+"AddressBookOnTypeaheadSelection",onMailingListSelection:a+"OnMailingListSelection",onChangeCountry:a+"OnChangeCountry"},u={companyLabel:a+"CompanyLabel",nameLabel:a+"NameLabel",countriesListSource:a+"CountriesListSource",sortingParameter:a+"SortingParameter"};Object.keys(r).forEach(function(t){var o=r[t];e.$watch(n[o],function(e){i.attributes&&(i.attributes[t]=e)},!0)}),Object.keys(o).forEach(function(t){var r=o[t];n[r]&&(i.attributes[t]=function(t){return e.$eval(n[r],t)})}),Object.keys(u).forEach(function(e){var t=u[e];n[t]&&(i.attributes[e]=n[t])}),i.init()}return e}()}}t.__esModule=!0,t["default"]=i;var r=n(1392),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfAddress"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o){"ngInject";function u(){var e=t.$watch(s,function(t){t&&(e(),q.attributes.address.addressRevalidationNeeded=!1,l().then(function(){return q.attributes.address.selectedCorrectAddress=!0}))});q.isUserOnMyProfilePage=i.isUserOnMyProfilePage()}function s(){var e=q.attributes.address,t=e.addressDetails,n=e.addressRevalidationNeeded;return(t||{}).addrLine1&&n&&f()&&i.getAdmrConfig()}function l(){var e=q.attributes.address.addressDetails.addrLine1;return i.getConfiguredAddressSuggestions({country:d(),query:e,isAddressBookSearch:!0,isAmsSearch:!0,enteredValue:e})}function d(){var e=q.attributes.address.addressDetails||{},t=e.countryCode;return t&&t.value||t}function f(){return d()===a["default"].BRAZIL}function p(){return f()&&!!q.attributes.address.selectedCorrectAddress}function m(){return q.attributes.addressDisabled||!q.attributes.brazilDisableOnlyState&&p()}function _(){return m()||q.isBrazilAddress1Available&&!q.attributes.preventBrazilAddressDisabling}function E(){return m()||q.isBrazilAddress3Available&&!q.attributes.preventBrazilAddressDisabling}function S(){return q.attributes.addressDisabled||p()||q.isBrazilStateAvailable}function g(e){if(!e.data)return void A();q.isSelectionInProgress=!0,q.attributes.address.selectedCorrectAddress=!1,i.getAddressDetails(e).then(function(e){h(e),q.attributes.address.selectedCorrectAddress=!0,q.isSelectionInProgress=!1,R(),C()})}function C(){if(f()){var e=q.attributes.address.addressDetails,t=e.city,n=e.addrLine1,i=e.addrLine3,r=e.countryDivisionName;q.isBrazilStateAvailable=!!r,q.isBrazilCityAvailable=!!t,q.isBrazilAddress1Available=!!n,q.isBrazilAddress3Available=!!i}}function A(){var e=q.attributes.address.addressDetails.addrLine1;n(function(){q.attributes.address.addressDetails.addrLine1=e})}function h(e){if(q.attributes.countryFieldDisabled&&e.countryCode!==q.attributes.address.addressDetails.countryCode)return q.attributes.address.addressDetails.addrLine1="",void r.showDialog({templateUrl:"address-details-country-disabled-warning-layout.html"});if(e.contactName)I(e);else{var t=q.attributes.address.addressDetails,n=t.countryDivisionTypeCode,i=t.addressType;Object.assign(e,{countryDivisionTypeCode:n,addressType:i}),angular.copy(e,q.attributes.address.addressDetails)}}function I(e){q.attributes.contactAheadOnSelection({$model:{data:e}})}function v(){q.attributes.address.addressDetails.invalidHouseNumber=!1}function N(){if(q.attributes.showNickNameField&&!q.attributes.address.nickname){var e=q.attributes.address,t=e.name,n=t===undefined?"":t,i=e.company,r=i===undefined?"":i;q.attributes.address.nickname=n+" at "+r}}function T(e,t){if(t)return void q.addressSelected(e);i.updateRegionDetails(q.attributes.address,e)}function M(e){q.attributes.address.addressDetails.countryCode!==e.code2&&(Object.assign(q.attributes.address.addressDetails,{countryName:e.name,countryCode:e.code2,city:"",citySuburbName:"",countryDivisionCode:"",countryDivisionCodeFromGref:"",countryDivisionName:"",countryDivisionTypeCode:null,zipOrPostCode:"",addrLine1:"",addrLine2:"",addrLine3:"",streetNumber:""}),i.dropPhoneDetailsCountryData(e,q.attributes.address),q.attributes.onChangeCountry())}function y(e){var t=e.data;q.attributes.address.company=t.companyName,I(t),R()}function O(){var e=q.attributes.address,t=e.addressDetails;return e.businessContactType===c["default"].BUSINESS||!t.residentialAddress}function D(){z=r.showDialog({scope:Object.assign(t,{countriesListSource:q.attributes.countriesListSource}),templateUrl:"/ng-template/address-book/address-book-ng-template.html"})}function P(e){o.clearNotVisibleAddressDetails(e.$selection).then(function(t){e.$selection=t,L(q.attributes.addressBookOnSelection(e))})}function R(){var e=q.attributes.address.addressDetails,t=e.city,n=e.addrLine1,i=e.addrLine3,r=e.countryDivisionName;q.attributes.address.selectedCorrectAddress=!!(t&&n&&i&&r)}function b(e){L(q.attributes.addressBookOnTypeaheadSelection(e))}function L(t){e.when(t).then(function(){w(),R()})}function G(e){I(e.data),R()}function k(e){q.selectedCorrectBrazilCity=e}function w(){z&&z.close()}function U(e){return i.isCountryCodeDefined(e)}function F(){return!q.attributes.nameInputEditable&&q.attributes.addressDisabled||!!q.attributes.isDisabled}function j(){return q.attributes.postalCodeDisabled||Y()}function V(){return q.attributes.cityDisabled||q.isBrazilCityAvailable&&!q.attributes.preventBrazilCityDisabling||Y()}function B(e){q.attributes.onMailingListSelection({mailingList:e}),z.close()}function $(){return i.isGuest()}function H(){return q.attributes.showAddressBookButton&&q.attributes.authorizedPickupLocations}function x(){return q.attributes.onlyNameEnabled||q.attributes.onlyNickNameEnabled}function K(){return!q.attributes.isZipAndCityAutocompleteEnabled||x()}function Y(){return q.attributes.addressDisabled||!!q.attributes.isDisabled}function W(){return q.attributes.countryFieldDisabled||Y()}var q=this,z=void 0;Object.assign(q,{init:u,getCountry:d,onCountrySelect:M,onCompanySelect:y,zipCodeOrCitySelected:T,addressSelected:g,validateHouse:v,nicknameGenerator:N,isCompanyRequired:O,openAddressBookPopup:D,addressBookOnSelection:P,addressBookOnTypeaheadSelection:b,selectMailingList:B,isGuest:$,onFullnameTypeaheadSelection:G,onSelectBrazilCity:k,isCountryCodeDefined:U,isBrazilSelected:f,isDisabledBrazilAddress1Field:_,isDisabledBrazilAddress3Field:E,isDisabledBrazilStateField:S,isPostalCodeDisabled:j,isCityFieldDisabled:V,isNameInputDisabled:F,isAddressBookButtonVisibleForGuest:H,isGlobalMailFieldsDisabled:x,isCityAutocompleteDisabled:K,isAddressFieldDisabled:Y,isCountryFieldDisabled:W,attributes:{settings:{},address:{addressDetails:{},businessContactType:c["default"].PRIVATE}},isBrazilStateAvailable:!1,isBrazilCityAvailable:!1,isBrazilAddress1Available:!1,isBrazilAddress3Available:!1})}r.$inject=["$q","$scope","$timeout","addressService","modalService","addressDetailsFilteringService"],t.__esModule=!0,t["default"]=r;var o=n(4),a=i(o),u=n(45),c=i(u)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({bindings:{model:"="+f,countryCode:"<"+f+"CountryCode",searchAddressBook:"<"+f+"SearchAddressBook",onSelect:"&"+f+"OnSelect",onChange:"&?"+f+"OnChange",invalidHouseNumber:"<?"+f+"InvalidHouseNumber",onHouseValidationClick:"&?"+f+"OnHouseValidationClick",disabled:"<?"+f+"Disabled",fromOrTo:"=?"+f+"AddressFormName",isAddress1Optional:"<?"+f+"IsAddress1Optional",collectionType:"<?"+f+"CollectionType",isSelectionInProgress:"<?"+f+"IsSelectionInProgress",v2:"<?"+f+"V2",shouldSearchAllCollection:"<?"+f+"ShouldSearchAllCollection"},controller:o,controllerAs:"addressFieldCtrl",templateUrl:function(){function e(e,t){return t[f+"Mobile"]?"mobile-address-field.html":"address-field.html"}return e}()})}function o(e,t){"ngInject";function n(e){e.countryCode&&o()}function i(t){return e.getConfiguredAddressSuggestions({country:c.countryCode,query:t,isAddressBookSearch:c.searchAddressBook,isAmsSearch:c.addressSuggestionsEnabled&&c.isAmsSearchOn,searchBy:c.searchBy,fromOrTo:c.fromOrTo,enteredValue:c.model,collectionType:c.collectionType,collection:r()}).then(function(e){return c.addresses=e,e})}function r(){return c.shouldSearchAllCollection&&c.fromOrTo===d["default"].TO&&s["default"].ALL||null}function o(){e.getAmsSearchConfig(c.countryCode).then(function(e){var t=e[0],n=e[1],i=e[2],r=e[3];c.addressSuggestionsEnabled=!a()&&t,Object.assign(c.triggerParametres,{charsIfNoMatchInAb:n,charsIfMatchInAb:i,timeBeforeAmsSearch:r})})}function a(){return t.isUrlContainingSomeParam(u["default"].B2L_SHIPMENT,u["default"].RB_SHIPMENT)}var c=this;Object.assign(c,{addressSuggestionsEnabled:!1,triggerParametres:{},searchOnFocus:!0,$onChanges:n,getAddresses:i})}r.$inject=["component"],o.$inject=["addressService","pathService"],t.__esModule=!0,t["default"]=r,t.AddressFieldCtrl=o;var a=n(1),u=i(a),c=n(62),s=i(c),l=n(112),d=i(l),f=r.NG_NAME="ewfAddressField"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{addressDetails:"="+o,isDisabled:"<?"+o+"IsDisabled",v2:"<?"+o+"V2"},controller:r,controllerAs:"addressFieldTwoCtrl",templateUrl:"address-field-two.html"})}function r(){}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.AddressFieldTwoController=r;var o=i.NG_NAME="ewfAddressFieldTwo"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{isSuburbAvailable:"<?"+r+"SuburbAvailable",isCityWide:"<?"+r+"CityWide"},controllerAs:"addressAttributesLabelsCtrl",templateUrl:"common/widgets/address/address-attributes-labels.html"})}i.$inject=["component"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfAddressAttributesLabels"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){e.$watch(n[a],function(e){e&&i.init(e)})}return{restrict:"A",link:e,controller:o["default"],controllerAs:"validateLocationCtrl"}}t.__esModule=!0,t["default"]=i;var r=n(1397),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfValidateLocation"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e){d=e,r()}function r(){var t=n.debounce(u,1e3);f&&f(),f=e.$watchCollection(function(){var e=d,t=e.countryCode,n=e.zipOrPostCode,i=e.city,r=e.citySuburbName,o=e.locationValid,u=e.countryDivisionName;return[a(i),t,n,i,r,o,u]},t)}function a(e){return" "!==e&&l.isCitySearchSuccess&&(l.isPostalSearchSuccess||l.isSuburbSearchSuccess)||d.countryCode===o["default"].BRAZIL}function u(e){if(e[0])return t.updateFacility(d)}function c(){return!1!==(d&&d.postalLocationValidFlag)}function s(){return!c()&&!l.isPostalCodeFocused}var l=this,d=void 0,f=void 0;Object.assign(l,{isPostalCodeFocused:!1,init:i,isPostalLocationValid:c,isLocationSuggestionsEnabled:s})}i.$inject=["$scope","addressService","debounceService"],t.__esModule=!0,t["default"]=i;var r=n(4),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"="+o,countryCode:"<"+o+"CountryCode",countryDivisionName:"<"+o+"CountryDivisionName",onSelect:"&"+o+"OnSelect",onCityBlur:"&?"+o+"OnBlur",isValidateRequired:"<"+o+"ValidateRequired",isAutocompleteDisabled:"<?"+o+"AutocompleteDisabled",isPostalLocationValid:"&?"+o+"PostalLocationValid",searchInAddress:"<?"+o+"SearchInAddress",postalLocationValidity:"<?"+o+"PostalLocationFlag",postalCode:"="+o+"PostalCode",suburb:"=?"+o+"Suburb",isFocused:"=?"+o+"Focused",disabled:"<?"+o+"Disabled",suggestionsEnabled:"<"+o+"SuggestionsEnabled",isZipCodeLimitedSearch:"<?"+o+"IsZipCodeLimitedSearch",isCitySearchSuccess:"=?"+o+"Validity",isCitySelected:"=?"+o+"Selected",isCityLabelHidden:"<?"+o+"LabelHidden",addressesSwitched:"<?"+o+"AddressesSwitched",v2:"<?"+o+"V2",ignoreCityValidation:"<?"+o+"IgnoreCityValidation",onCitySearchSuccessChange:"&?"+o+"OnCitySearchSuccessChange"},controller:r,controllerAs:"cityFieldCtrl",templateUrl:function(){function e(e,t){return t[o+"Mobile"]?"mobile-city-field.html":"city-field.html"}return e}()})}function r(e,t){"ngInject";function n(){g.isCityLabelHidden=g.isCityLabelHidden||g.v2,i(!0)}function i(e){g.isCitySearchSuccess=e,g.onCitySearchSuccessChange&&g.onCitySearchSuccessChange({onCitySearchSuccessStatus:e})}function r(e){var t=e.suggestionsEnabled,n=e.countryCode,i=e.addressesSwitched;t&&t.currentValue&&!g.disabled&&S(),n&&a(),i&&g.model&&u(g.model)}function o(){return""+g.isPostalLocationValid()+g.isCitySearchSuccess+g.isCitySelected}function a(){if(!g.countryCode)return void(g.addressSuggestionsEnabled=!1);t.isAddressSuggestionEnabled(g.countryCode).then(function(e){g.addressSuggestionsEnabled=e})}function u(e){return!g.countryCode||g.isAutocompleteDisabled?[]:c(e).then(s)["catch"](l)}function c(e){return g.isCitySelected=!1,g.isZipCodeLimitedSearch?t.getLocationSuggestions(g.countryCode,undefined,e):g.searchInAddress?t.getConfiguredAddressSuggestions({country:g.countryCode,query:e,isAddressBookSearch:!1,isAmsSearch:g.addressSuggestionsEnabled,searchBy:"city"}):t.addressSearchByCity(g.countryCode,e)}function s(e){return g.lastSearchResults=e,i(!0),e}function l(){i(!1)}function d(){return g.ignoreCityValidation||g.isCitySearchSuccess&&g.isPostalLocationValid()||g.isCitySelected}function f(){g.isFocused=!1,e(function(){g.model&&!g.isCitySelected&&(m(),g.onCityBlur&&g.onCityBlur())},C)}function p(){g.isFocused=!0}function m(){i(angular.isUndefined(g.lastSearchResults)?g.isCitySearchSuccess:_())}function _(){var e=g.model.toLowerCase();return g.lastSearchResults.some(function(t){return t.city.toLowerCase()===e})}function E(e){g.isCitySelected=!0,i(!0),g.onSelect(e)}function S(){var e=g.cityForm.city,t=e.$viewValue;e.$setViewValue(" "),e.$setViewValue(t||" ")}var g=this,C=500;Object.assign(g,{$onInit:n,$onChanges:r,getCities:u,onBlur:f,onFocus:p,validateCity:d,onCitySelect:E,triggerValidation:o,addressSuggestionsEnabled:!1})}i.$inject=["component"],r.$inject=["$timeout","addressService"],t.__esModule=!0,t["default"]=i,t.CityFieldCtrl=r;var o=i.NG_NAME="ewfCityField"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){e.$watch(function(){return n[r]},function(e){return i.$setValidity("ewf-invalid-house-number",!!e)})}return{restrict:"A",require:"ngModel",link:{pre:e}}}t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfAddressNoHouseWarning"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"="+u,countryCode:"<"+u+"CountryCode",countryDivisionCode:"=?"+u+"CountryDivisionCode",countryDivisionTypeCode:"="+u+"TypeCode",disabled:"<?"+u+"Disabled",address1:"<?"+u+"Address1",address2:"<?"+u+"Address2",city:"<?"+u+"City",postalCode:"<?"+u+"PostalCode",isZipCodeLimitedSearch:"<?"+u+"IsZipCodeLimitedSearch",isCityLimitedSearch:"<?"+u+"IsCityLimitedSearch",isCountryDivisionTypeCodeLocked:"<?"+u+"IsCountryDivisionTypeCodeLocked",isRegionLabelHidden:"<?"+u+"LabelHidden",countryDivisionCodeFromGref:"<?"+u+"CountryDivisionCodeFromGref",isPostalLocationValid:"&?"+u+"PostalLocationValid",v2:"<?"+u+"V2",isIgnoredStateMandatority:"<?"+u+"IgnoreStateMandatority"},controller:r,controllerAs:"regionFieldCtrl",templateUrl:function(){function e(e,t){return t[u+"Mobile"]?"mobile-region-field.html":"region-field.html"}return e}()})}function r(e){"ngInject";function t(){f.isRegionLabelHidden=f.isRegionLabelHidden||f.v2,e.getStateOrProvinceMandatority(f.countryCode).then(function(e){var t=e.mandatory;return m=t})}function n(){o()||u(f.countryDivisionCodeFromGref)}function i(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=e.countryDivisionCode,n=e.countryDivisionName;f.model=n,f.countryDivisionCode=t}function r(t){if(f.isZipCodeLimitedSearch||f.isCityLimitedSearch){var n=f.isZipCodeLimitedSearch?f.postalCode:null,i=f.isCityLimitedSearch?f.city:null;return e.getLocationSuggestions(f.countryCode,n,i,t)}return e.addressSearchByState(f.countryCode,t)}function o(){return f.countryCode===a["default"].UNITED_STATES}function u(e){s("countryDivisionCode",e)}function c(e){s("countryDivisionTypeCode",p[e])}function s(e,t){f.isCountryDivisionTypeCodeLocked||(f[e]=t)}function l(){return!m||f.isPostalLocationValid()}function d(){return""+!m+f.isPostalLocationValid()}var f=this,p={STATE:"S",PROVINCE:"P"},m=void 0;Object.assign(f,{$onInit:t,$doCheck:n,onSelect:i,isTypeaheadAvailable:o,searchState:r,setDivisionTypeCode:c,validateRegion:l,triggerValidation:d})}i.$inject=["component"],r.$inject=["addressService"],t.__esModule=!0,t["default"]=i,t.RegionFieldController=r;var o=n(4),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfRegionField"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"="+o,disabled:"<?"+o+"Disabled",label:"@?"+o+"Label",alert:"@?"+o+"Alert"},controller:r,controllerAs:"residentialAddressFieldCtrl",templateUrl:"residential-address-field.html"})}function r(e){"ngInject";function t(){i.checkboxLabel=i.label||e.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_RESIDENTIAL_ADDRESS}function n(){return!!i.alert&&i.model}var i=this;Object.assign(i,{checkboxLabel:"",$onInit:t,isAlertVisible:n})}i.$inject=["component"],r.$inject=["Messages"],t.__esModule=!0,t["default"]=i,t.ResidentialAddressFieldController=r;var o=i.NG_NAME="ewfResidentialAddressField"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{addressDetails:"="+u+"AddressDetails"},controller:r,controllerAs:"rememberMeCtrl",templateUrl:"remember-me-field.html"})}function r(e){"ngInject";function t(){e[a["default"].ADDRESS_REMEMBERED]&&!i.addressDetails.countryCode&&(i.addressDetails=e[a["default"].ADDRESS_DETAILS],i.addressRemembered=e[a["default"].ADDRESS_REMEMBERED])}function n(){i.addressRemembered?(e[a["default"].ADDRESS_DETAILS]=i.addressDetails,e[a["default"].ADDRESS_REMEMBERED]=i.addressRemembered):e[a["default"].ADDRESS_REMEMBERED]&&(delete e[a["default"].ADDRESS_DETAILS],delete e[a["default"].ADDRESS_REMEMBERED])}var i=this;Object.assign(i,{$onInit:t,rememberedSwitched:n,addressRemembered:!1})}i.$inject=["component"],r.$inject=["$localStorage"],t.__esModule=!0,t["default"]=i,t.RememberMeController=r;var o=n(24),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfRememberMeField"},function(e,t,n){"use strict";function i(e,t,n,i,r,a){"ngInject";function u(){return l().then(p)}function c(e,t){return I||(I=r.debounce(s,o["default"].defaultDebounceTimeout)),I(e,t)}function s(e,t){return u().then(function(){return n.getData(e,t,C)})}function l(){return h=h||d()}function d(){return i.getSourceData(i.CI_KEYS.CI1176_AMS_BASE_URL).then(f).then(t.setBaseUrl)["catch"](function(){return a.error("AMS Server URL is not configured"),e.reject()})}function f(t){return(angular.isString(t)?t:null)||e.reject()}function p(){return A=A||m()}function m(){return t.preloadConfigs(C).then(_)}function _(){t.setAdmrConfig({certainty:2})}function E(e){return n.getAddressDetails(e,C)}function S(){return t.getAdmrConfig()}function g(){return n.createCustomParameters()}var C={timeout:3e4,preventNotFoundInterceptor:!0,preventNotAvailableInterceptor:!0},A=void 0,h=void 0,I=void 0;return{preloadAmsConfiguration:u,loadAmsData:c,loadAmsAddressDetailsByItem:E,getAmsConfiguration:S,createCustomAmsParameters:g}}i.$inject=["$q","admrConfig","admrService","configService","debounceService","logService"],t.__esModule=!0,t["default"]=i;var r=n(27),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="admrFacade"},function(e,t,n){"use strict";function i(e){"ngInject";var t="ng-ams-configuration-pending";return{restrict:"A",link:function(){function n(n,i){i.addClass(t),i.on("focus",function(){e.preloadAmsConfiguration().then(function(){i.addClass("ng-ams-configuration-loaded"),i.removeClass(t)})})}return n}()}}i.$inject=["admrFacade"],t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfAmsPreloadOnFocus"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o,u,s,d,f,p,m){"ngInject";function _(e,t){return m.addressSearchByParams({countryCode:e,city:t})}function E(e,t){return m.addressSearchByParams({countryCode:e,stateName:t}).then(function(e){return S(e,"countryDivisionCode")})}function S(e,t){return e.filter(function(n,i){return i===e.findIndex(function(e){return n[t]===e[t]})})}function g(e,t){return m.addressSearchByParams({countryCode:e,suburb:t})}function C(e,t){return m.addressSearchByParams({countryCode:e,zipCode:t})}function A(e,t){if(e.code2){var n=t.phone||t;Object.keys(n).filter(function(t){return t.startsWith("phoneDetails")&&n[t]&&n[t].countryBanner!==e.code2}).forEach(function(e){p.clearPhoneDetails(n,e)})}}function h(t){return t.isAddressbookContact?(p.remapAddressbookContact(t),e.when(t.data)):n.loadAmsAddressDetailsByItem(t.data).then(function(e){return i.getAddress3MaxLengthConfiguration(e.countryCode).then(function(t){return[e,t]})}).then(function(e){var t=e[0],n=e[1];return p.mapAmsAddressDetailsByItem(t,n)}).then(function(e){return d.clearNotVisibleAddressDetails(e,!0)}).then(u.formatAmsAddressSuggestion).then(u.updateHouseNumberValidity)}function I(){return n.getAmsConfiguration()}function v(t){return r.isAuthorized()?m.loadAddressSuggestions(t):e.when([])}function N(e,t,n){return v({type:["company"],query:e,countryCode:t,collectionType:n,onLoadCallback:T})}function T(e){return e.results.map(function(e){return e.data})}function M(t){var n=t.country,i=t.query,o=t.isAddressBookSearch,a=t.isAmsSearch,u=t.searchBy,c=t.fromOrTo,s=t.enteredValue,l=t.collectionType,d=t.collection,f=void 0,p=[];return!s&&r.isAuthorized()&&c?L(c,n):(o&&(p=y(n,i,l,c,d)),a&&(f=D(n,i,u)),e.all([p,f,k()]).then(function(e){return R(e[0],e[1],e[2],u,n)}))}function y(e,t,n,i,r){return v({type:c["default"],query:t,countryCode:e,collectionType:n,onLoadCallback:O,fromOrTo:i,collection:r})}function O(e){var t=e.results.filter(function(e){return!e.data||!e.data.globalMailContact}),n=e.results.filter(function(e){return e.data&&e.data.globalMailContact});return[].concat(p.mapAddressbookContactWithGroup(t,s.SHIPMENT_ADDRESS.ADDRESS_DETAILS_SELECT_OPTION_SEARCH_ADDRESSBOOK),p.mapAddressbookContactWithGroup(n,s.SHIPMENT_ADDRESS.ADDRESS_DETAILS_SELECT_OPTION_SEARCH_GLOBAL_MAIL))}function D(e,t,i){var r=P(e,i);return n.loadAmsData(t,r).then(function(e){if(0===e.length)return[];var t=!["postalCode","city"].includes(i);return e.map(function(e,n){return p.mapAmsLoadedContact(e,n,t)})})}function P(e,i){var r=n.createCustomAmsParameters();return r.setCountry(e),r.setLanguage(t.getCountryLang().langId),i&&r.setSearchBy(i),r}function R(e,t,n,i,r){if(["postalCode","city"].includes(i)){var o=b(i,"postalCode","city");return(K(r)&&t?f.sortBy(t,[i,o]):t||[]).slice(0,n)}return t?[].concat(e,t).slice(0,n).concat(X):e.slice(0,n)}function b(e,t,n){return e===t?n:t}function L(e,t){return m.getFavoriteAddressList(e,t).then(function(t){return p.mapFavoriteContacts(t,e),t})}function G(e,t,n,i){var r={countryCode:e,zipCode:t,city:n,stateName:i};return m.addressSearchByParams(r).then(function(e){var t=e[0];return Object.assign(t,{group:s.COMMON.COMMON_HEADER_LOCATION_SUGGESTIONS,firstInGroup:!0}),e})}function k(){return i.getMaxSuggestionsConfiguration()}function w(t){return t?i.getGoogleLikeSearchEnabilityConfiguration(t):e.when(!1)}function U(e){return angular.isDefined(e)&&""!==e&&null!==e}function F(){return t.isPage(a["default"].PROFILE_DETAILS)}function j(e){return V(e).then(B).then(o.validateLocation).then(function(t){return $(e,t)})["catch"](function(){return H(e)})}function V(t){var n=t.countryCode;return n?e.all([i.getZipCodeAvailability(n),i.getPostCodeAvailability(n),t]):e.reject("Missing required parameter")}function B(t){var n=t[0],i=t[1],r=t[2],o=r.countryCode,a=r.zipOrPostCode,u=r.city;return!o||n&&i&&!a||!u?e.reject("Missing required parameter"):r}function $(e,t){var n=t.serviceAreaCode,i=t.facilityIdentifier,r=t.postalLocationValidFlag,o=t.countryDivisionCode;return Object.assign(e,{serviceAreaCode:n,postalLocationValidFlag:r,facilityId:i,countryDivisionCodeFromGref:o,locationValid:!0})}function H(e){return Object.assign(e,{serviceAreaCode:null,facilityId:null,locationValid:!1})}function x(e,t){p.mapRegionDetails(e,t)}function K(e){return e===l["default"].BRAZIL}function Y(t){return t?e.all([i.getZipCodeConfiguration(t),i.getPostCodeConfiguration(t)]).then(function(e){var t=e[0],n=e[1];return t.data.visible?t.data:n.data}):e.reject("Missing required parameter")}function W(t){return t?i.getAmsSearchConfiguration(t):e.reject("Missing required parameter")}function q(t){return t?i.getStateOrProvinceConfiguration(t):e.reject("Missing required parameter")}function z(){return r.isGuest()}var X={name:"",data:null,firstInGroup:!1,isAddressbookContact:!1,isNoAddress:!0};return{addressSearchByCity:_,addressSearchByState:E,addressSearchBySuburb:g,addressSearchByZipCode:C,dropPhoneDetailsCountryData:A,getAddressDetails:h,getAdmrConfig:I,getCompanySuggestions:N,getConfiguredAddressSuggestions:M,getFavoritesList:L,getLocationSuggestions:G,getMaxSuggestions:k,isAddressSuggestionEnabled:w,isCountryCodeDefined:U,isUserOnMyProfilePage:F,updateFacility:j,updateRegionDetails:x,getZipOrPostalMinLengthAndMandatority:Y,getAmsSearchConfig:W,getStateOrProvinceMandatority:q,isGuest:z}}r.$inject=["$q","pathService","admrFacade","addressConfigurationResource","userService","locationService","addressFormatService","Messages","addressDetailsFilteringService","sortService","addressMapperService","addressResource"],t.__esModule=!0,t["default"]=r;var o=n(21),a=i(o),u=n(1406),c=i(u),s=n(4),l=i(s);r.NG_NAME="addressService"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=["name","company","address1","address2","address3","city","postalCode","suburb","stateProvince","country","emailAddress","phone","matchCode","vatTaxId","additionalNotes","referenceName"]},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e){return a(e.countryCode).then(function(t){return r(e,t)})}function r(e,t){return e.addressLine1=c(e,t.addressLine1),e.addressLine2=c(e,t.addressLine2),e.addressLine3=c(e,t.addressLine3),e.text=o("",e.house),e.text=o(e.text,e.street),e.text=o(e.text,e.city),e.text=o(e.text,e.countryDivisionCode||e.countryDivisionName),e}function o(e,t){return t&&t.trim()?e&&e.trim()?e+", "+t:t:e}function a(e){return f[e]?t.when(f[e]):u(e)}function u(t){return e.get("/api/location/"+t+"/address-format").then(function(e){var n=e.data;return f[t]=n})}function c(e,t){var i={};return d.forEach(function(t){return i[t]=e[t]||""}),n(t,i).replace(p," ")}function s(e){return a(e.countryCode).then(function(t){return l(t.addressLine1)||l(t.addressLine2)||l(t.addressLine3)||(e.invalidHouseNumber=!1),e})}function l(e){return e&&e.includes("house")}var d=["apartment","house","building","street","streetNumber","state","postalCode","city","district","country","poBoxNumber"],f={},p=/\s\s+/g;return{formatAmsAddressSuggestion:i,updateHouseNumberValidity:s}}i.$inject=["$http","$q","replaceFilter"],t.__esModule=!0,t["default"]=i,i.NG_NAME="addressFormatService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"addressBookPopupContentCtrl",templateUrl:"address-book-popup-content.html",bindings:{countryCode:"<?"+u+"CountryCode",countryToExclude:"<?"+u+"CountryToExclude",selectContact:"&"+u+"OnContactSelection",onMailingListSelection:"&?"+u+"OnMailingListSelection",isAlternativeTabsAvailable:"<?"+u+"IsAlternativeTabsAvailable",isImportShipment:"<?"+u+"IsImportShipment",hasNoDhlAccount:"<?"+u+"HasNoDhlAccount",contacts:"<?"+u+"Contacts",authorizedPickupLocations:"<?"+u+"AuthorizedPickupLocations",collectionType:"<?"+u+"CollectionType",isReturnLabel:"<?"+u+"IsReturnLabel",isStandalonePickup:"<?"+u+"IsStandalonePickup"}})}function r(e,t,n,i){"ngInject";function r(){d=n.getCoreRestriction(a["default"].GLOBAL_MAIL_IN_SHIP_TO_ONLY)}function o(){return l.hasNoDhlAccount||l.isImportShipment}function u(n){var r=n.id;e.getMailingList(r).then(function(e){if(!e.contacts.length){var n=i.SHIPMENT_ADDRESS.ADDRESS_BOOK_MSG_EMPTY_MAILING_LIST;return t.showConfirmationDialog({message:n})}l.onMailingListSelection({mailingList:e})})}function c(e){return l.isAlternativeTabsAvailable&&e&&d}function s(e){return l.isAlternativeTabsAvailable&&(!e||!d)}var l=this,d=void 0;Object.assign(l,{$onInit:r,selectMailingList:u,isMailingListsHidden:o,isGlobalMailOnly:c,isPopupWithTabs:s})}i.$inject=["component"],r.$inject=["mailingListDetailsResource","modalService","userService","Messages"],t.__esModule=!0,t["default"]=i,t.AddressBookPopupContentCtrl=r;var o=n(36),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfAddressBookPopupContent"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){return t.getValue(t.CI_KEYS.CI0785_MAX_SUGGESTED_SEARCH_RESULTS).then(function(e){return e.data.value})}function i(e){return t.getValue(t.CI_KEYS.CI0422_ADDRESS_ADDRESS_LINE_3,e).then(function(e){return e.data.maxLength})}function r(e){return t.getBoolean(t.CI_KEYS.CI1053_ENABLE_GOOGLE_LIKE_SEARCH,e)}function o(e){return a(e).then(function(e){return e.data.visible})}function a(e){return t.getValue(t.CI_KEYS.CIF0452_ZIP,e)}function u(n){return e.all([r(n),t.getSourceData(t.CI_KEYS.CI1291_MIN_CHARS_TO_TRIGGER_AMS_IF_NO_MATCH_IN_ADDRESS_BOOK,n),t.getSourceData(t.CI_KEYS.CI1292_MIN_CHARS_TO_TRIGGER_AMS_IF_MATCH_IN_ADDRESS_BOOK,n),t.getSourceData(t.CI_KEYS.CI1293_TIME_BEFORE_TRIGGERING_AMS_IF_MATCH_IN_ADDRESS_BOOK,n)])}function c(n){var i=[t.getValue(t.CI_KEYS.CIF0453_STATE,n),t.getValue(t.CI_KEYS.CIF0240_PROVINCE,n)];return e.all(i).then(function(e){var t=e[0],n=e[1];return t.data.visible?t.data:n.data})}function s(e){return l(e).then(function(e){return e.data.visible})}function l(e){return t.getValue(t.CI_KEYS.CIF0241_POSTAL_CODE,e)}return{getMaxSuggestionsConfiguration:n,getAddress3MaxLengthConfiguration:i,getGoogleLikeSearchEnabilityConfiguration:r,getZipCodeAvailability:o,getZipCodeConfiguration:a,getAmsSearchConfiguration:u,getStateOrProvinceConfiguration:c,getPostCodeAvailability:s,getPostCodeConfiguration:l}}i.$inject=["$q","configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="addressConfigurationResource"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t){Object.assign(e[t],{countryBanner:null,phone:"",phoneCountryCode:null,phoneExt:null})}function n(e){e.data.addrLine1=e.data.address,e.data.addrLine2=e.data.address2,e.data.addrLine3=e.data.address3}function i(e,t){e.stateCode&&e.stateCode.length>2&&(e.stateCode=null);var n=e.addressLine3,i=n.length>t?n.substring(0,t):n,r=Object.assign({house:e.house,street:e.street,city:e.city,addrLine1:e.addressLine1,addrLine2:e.addressLine2,addrLine3:i,countryName:e.country,countryDivisionName:e.state,zipOrPostCode:e.postalCode,countryDivisionCode:e.stateCode,citySuburbName:e.suburb||e.district,invalidHouseNumber:!!e.addressLine1&&!e.house},e);return delete r.postalCode,r}function r(e,t){return e.map(function(e,n){return Object.assign(e,{group:t,firstInGroup:0===n,name:e.line1,fullAddress:e.line2+" "+e.line3,isAddressbookContact:!0})})}function a(t,n,i){return{name:t.addressLine1,fullAddress:t.text,group:e.SHIPMENT_ADDRESS.ADDRESS_DETAILS_SELECT_OPTION_SEARCH_ADDRESSES,data:t,firstInGroup:0===n&&i,isAddressbookContact:!1,postalCode:t.postalCode,city:t.city}}function u(t,n){t.forEach(function(t){var i=t.data,r=i.address,o=i.zipOrPostCode,a=i.countryDivisionName,u=i.country,c=i.contactName,s=i.companyName;t.fullAddress=r+" "+o+" "+a+" "+u,t.group="From"===n?e.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_FROM_FAVORITES_DROPDOWN:e.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_TO_FAVORITES_DROPDOWN,t.isAddressbookContact=!0,t.line1=c+" "+s,t.line2=r,t.line3=o+" "+a+" "+u,t.line4="",t.line5=""}),t[0]&&(t[0].firstInGroup=!0)}function c(e,t){var n=s(e.addressDetails.countryCode)?t.data:t,i=n.city,r=n.district,o=n.countryDivisionCode,a=n.countryDivisionName,u=n.postalCode,c=n.suburb,l=n.state;Object.assign(e.addressDetails,{city:i,citySuburbName:r||c,countryDivisionCode:o,countryDivisionName:a||l,zipOrPostCode:u})}function s(e){return e===o["default"].BRAZIL}return{clearPhoneDetails:t,remapAddressbookContact:n,mapAmsAddressDetailsByItem:i,mapAddressbookContactWithGroup:r,mapAmsLoadedContact:a,mapFavoriteContacts:u,mapRegionDetails:c}}i.$inject=["Messages"],t.__esModule=!0,t["default"]=i;var r=n(4),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="addressMapperService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(n){var i=t.encodeParams(n);return e.get("/api/addressbook/search?"+i,{preventNotFoundInterceptor:!0}).then(function(){return(arguments.length<=0||arguments[0]===undefined?{}:arguments[0]).data})}function r(t){var n=t.type,i=t.query,r=t.countryCode,o=t.collectionType,u=t.onLoadCallback,c=t.fromOrTo,s=t.collection,l=a({type:n,query:i,countryCode:r,collectionType:o,fromOrTo:c,collection:s});return e.get(l,{preventNotFoundInterceptor:!0}).then(function(e){var t=e.data;return t&&t.results&&t.results.length?u(t):[]})}function a(e){var n=e.type,i=e.query,r=e.countryCode,o=e.collectionType,a=e.fromOrTo,u=e.collection;return"/api/addressbook/contact/search/default/typeahead/"+encodeURIComponent(i)+t.getParamsString({countryCode:r,direction:o,searchParameter:n,collection:u})+c(a)}function u(t,n){var i=n?"&countryCode="+n:"",r=c(t);return e.get("/api/addressbook/contact/search/ordered/typeahead/?searchParameter=name&searchParameter=emailAddress"+i+r).then(function(e){return e.data.results})}function c(e){var t=s(e);return n.getSortingParamsString([l(t)].concat(n.getHiddenSortingParameters()))}function s(e){return e?"favoriteShip"+(e[0].toUpperCase()+e.substring(1).toLowerCase()):null}function l(e){return n.getFormattedSortingParameter({sortingParameter:e,sortingDirection:o["default"].DESC})}return{addressSearchByParams:i,loadAddressSuggestions:r,getFavoriteAddressList:u}}i.$inject=["$http","queryParamsService","sortingParametersService"],t.__esModule=!0,t["default"]=i;var r=n(40),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="addressResource"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1413),u=i(a),c=n(1415),s=i(c),l=n(1417),d=i(l),f=n(1418),p=i(f),m=n(1419),_=i(m),E=angular.module("common.widgets.grid",[o["default"]||"common.utils"]);E.directive(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]).directive(d["default"].NG_NAME,d["default"]).directive(p["default"].NG_NAME,p["default"]).service(_["default"].NG_NAME,_["default"]),t.module=E,t["default"]="common.widgets.grid"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t,n,i){i.isUpdatable=n.hasOwnProperty(u+"Updatable")}function n(e,t,n,r){var o={hideHeader:u+"HideHeader",displaySelectionMessage:u+"DisplaySelectionMessage",mailingSelectionMessage:u+"MailingSelectionMessage"},a={selectAllByDefault:u+"SelectAll",onSort:u+"OnSort",isBackEndSortingEnabled:u+"IsBackEndSortingEnabled",isBackEndPaginationEnabled:u+"IsBackEndPaginationEnabled"},c={triggerBackEndSorting:u+"OnBackEndSorting",triggerSelection:u+"OnSelection",triggerColumnsChanged:u+"OnColumnsChanged"},s=[[u+"ShowCustomizationButton","showCustomizationButton"],[u+"AvailableColumns","availableColumns",!0],[u+"GridActions","gridActions",!0,r.mergeGridActions],[u+"VisibleColumns","visibleColumns",!0,r.handleColumnsChanges],[u+"PaginationSize","paginationSize",!0,r.handlePaginationSizeChange],[u+"Data","gridData",!0,r.onDataChanges],[u+"HideCheckbox","hideCheckbox"],[u+"HideSelectAllCheckbox","hideSelectAllCheckbox"],[u+"SelectAllHiddenItems","selectAllHiddenItems"],[u+"BackEndItemsNumber","backEndItemsNumber"],[u+"ExclusionList","exclusionList"]];Object.entries(o).forEach(function(e){var t=e[0],i=e[1];r[t]=n[i]}),Object.entries(a).forEach(function(t){var i=t[0],o=t[1];r[i]=e.$eval(n[o])}),Object.entries(c).forEach(function(t){var i=t[0],o=t[1];r[i]=function(t){return e.$eval(n[o],t)}}),r.initGridActions(),s.forEach(function(t){var o=t[0],a=t[1],u=t[2],c=t[3],s=u?r.attributes:r;i({$scope:e,$attrs:n,attributeName:o,savePropertyAs:a,attributeValueContainer:s,onChangeFn:c})}),r.onDataChanges(r.attributes.gridData)}function i(t){var n=t.$scope,i=t.$attrs,o=t.attributeName,a=t.savePropertyAs,u=t.attributeValueContainer,c=t.onChangeFn,s=e(i[o]),l=s.assign,d=a||o,f=u[d]=s(n);c&&c(f);var p=n.$watch(function(){return s(n)},function(e){f!==e&&(u[d]=f=e,c&&c(e))});if(l){var m=function(){var e=n.$watch(function(){return u[d]},function(e){f!==e&&(f=e,l(n,f),c&&c(e))});return{v:function(){function t(){p(),e()}return t}()}}();if("object"===(void 0===m?"undefined":r(m)))return m.v}return p}return{restrict:"A",controller:a["default"],controllerAs:"ewfGridCtrl",templateUrl:"common/widgets/grid/grid.html",link:{pre:t,post:n}}}i.$inject=["$parse"],t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=i;var o=n(1414),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfGrid"},function(e,t,n){"use strict";function i(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function r(e,t,n,r,o,u){"ngInject";function c(){se.attributes.paginationSize&&(se.pagination.pageSize=se.attributes.paginationSize)}function s(){var e;se.gridActions=(e={},e[Se]=K({order:1,label:o.COMMON.COMMON_BUTTON_EDIT}),e[ge]=K({order:0,label:o.COMMON.COMMON_BUTTON_DELETE}),e)}function l(e,t){se.attributes.gridData=e,se.isBackEndSortingEnabled||f(),p(t||se.pagination.pageIndex)}function d(e,t){return e.$position-t.$position}function f(){var e=se.sort.column,t=se.attributes.gridData,n=se.onSort;if(t&&t.length&&e){var i=se.sort,r=i.method,o=i.direction;if(angular.isFunction(n))return void n(e,o);t.forEach(function(e,t){return e.$position=t}),t.sort(function(t,n){var i=angular.isFunction(r)?r(t,n,e):u.compareBy(t,n,[e]);return i?o===a["default"].ASC?i:-i:d(t,n)})}}function p(e){Object.assign(se.pagination,n.paginate(se.getTotalRecordsCount(),e,+se.pagination.pageSize)),se.setPageData()}function m(){se.pageData=se.attributes.gridData.slice(se.pagination.rowMin,se.pagination.rowMax+1)}function _(e){var t=arguments.length<=1||arguments[1]===undefined?se.sort.direction:arguments[1];Object.assign(se.sort,{column:e.alias,method:e.onSort,direction:t})}function E(e,t){se.sort.column===e.alias&&se.sort.direction===t||(_(e,t),se.isBackEndSortingEnabled||f(),p(0))}function S(e){var t=C(e);g()(e,t)}function g(){return se.isBackEndSortingEnabled?ue:E}function C(e){return se.sort.column===e.alias&&se.sort.direction===a["default"].ASC?a["default"].DESC:a["default"].ASC}function A(e){var t=e.items,n=i(e,["items"]);t.forEach(function(e){var t=!!e.isSelected;e.isSelected=!!h(e,n),n.storeExclusion&&t!==e.isSelected&&Z(e)}),X()}function h(e,t){var n=t.isSelected,i=t.shouldIgnoreExclusionForSelectAll,r=t.storeExclusion;return!e.nonSelectable&&n&&(I(e)||i)||v(e,r)}function I(e){return!se.selectAllHiddenItems||!se.exclusionList||!se.exclusionList.some(function(t){return t.key===e.key})}function v(e,t){return se.isBackEndPaginationEnabled&&!se.selectAllHiddenItems&&!t&&(se.exclusionList||[]).some(function(t){return e.key===t.key})}function N(e,t){t||(se.exclusionList=[]),se.selectAllHiddenItems=e,A({items:se.attributes.gridData,isSelected:e})}function T(e){var t={storeExclusion:!0,shouldIgnoreExclusionForSelectAll:!0};!e&&w()?(t.items=se.attributes.gridData,t.isSelected=!1):(t.items=se.pageData,t.isSelected=e),A(t)}function M(){return angular.copy(se.attributes.gridData).filter(O).map(function(e){return delete e.isSelected,e})}function y(){return se.pageData.filter(O)}function O(e){return e.isSelected}function D(e){return e.isDisabled}function P(e){return se.sort.column===e.alias?"current "+de[se.sort.direction]:""}function R(){le.close()}function b(){se.selectedColumns={},se.attributes.visibleColumns.forEach(function(e,t){se.selectedColumns["column"+(t+1)]={alias:e.alias,title:e.title}}),le=r.showDialog({scope:e,windowClass:"ewf-modal_width_full",templateUrl:"common/widgets/grid/grid-column-customization-dialog.html"})}function L(){se.triggerColumnsChanged({selectedColumns:se.selectedColumns}),H()||g()(se.selectedColumns.column1,a["default"].ASC),se.hideColumnCustomizationDialog()}function G(){return se.displaySelectionMessage&&se.selectAll}function k(){return y().length}function w(){return F().every(O)&&(!se.isBackEndPaginationEnabled||se.selectAllHiddenItems)}function U(){return se.isBackEndPaginationEnabled?se.backEndItemsNumber-1:F().length}function F(){return se.attributes.gridData?se.attributes.gridData.filter(function(e){return!e.nonSelectable}):[]}function j(){return se.attributes.gridData?se.attributes.gridData.length:0}function V(e){var t=e&&Object.keys(e);null===t?se.gridActions=null:t&&t.forEach(function(t){var n=e[t];se.gridActions[t]?n?Object.assign(se.gridActions[t],n):delete se.gridActions[t]:se.gridActions[t]=K(n)})}function B(e){e&&($(e),e.filter(function(e){var t=e.template,n=e.templateId;return!t&&n}).forEach(function(e){return t.loadTemplate(e)}))}function $(e){var t=x(e);t&&_(t)}function H(){return Object.keys(se.selectedColumns).some(function(e){return se.selectedColumns[e].alias===se.sort.column})}function x(e){return e.find(function(e){return e.defaultSort})}function K(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return Object.assign({order:null,handler:angular.noop,label:"",position:Ee,templateId:null},e)}function Y(e){var t=[];return O(e)&&t.push(fe),D(e)&&t.push(pe),W(e,t),t.join(" ")}function W(e,t){var n=e.recordState;n&&(n.error?t.push(me):n.type&&t.push(n.type))}function q(e){return e.alias&&""+_e+e.alias}function z(e){l(e,0),N(se.selectAllHiddenItems||se.selectAllByDefault,!0)}function X(e){Q(e),se.selectAll=F().length&&J()}function Q(e){e&&Z(e)}function Z(e){se.exclusionList=se.exclusionList||[],e.isSelected===!se.selectAllHiddenItems?se.exclusionList.push(e):se.exclusionList.splice(se.exclusionList.indexOf(e),1)}function J(){return!!se.pageData.length&&se.pageData.every(function(e){var t=e.nonSelectable;return e.isSelected||t})}function ee(){return se.pageData.some(O)}function te(e){return e.template||e.templateId}function ne(e){return!te(e)&&!se.isUpdatable}function ie(e){return!te(e)&&se.isUpdatable}function re(){return se.mailingSelectionMessage?o.ADDRESS_BOOK.ADDRESS_BOOK_ALERT_SELECT_MAILING_LISTS:o.ADDRESS_BOOK.ADDRESS_BOOK_ALERT_SELECT_ADDRESSES}function oe(){return se.mailingSelectionMessage?o.ADDRESS_BOOK.ADDRESS_BOOK_ALERT_ALL_MAILING_LISTS_SELECTED:o.ADDRESS_BOOK.ADDRESS_BOOK_ALERT_ALL_ADDRESSES_SELECTED}function ae(){return se.mailingSelectionMessage?o.ADDRESS_BOOK.ADDRESS_BOOK_LINK_SELECT_ALL_MAILING_LISTS:o.ADDRESS_BOOK.ADDRESS_BOOK_LINK_SELECT_ALL_ADDRESSES}function ue(e,t){E(e,t),se.triggerBackEndSorting({columnAlias:e.alias,direction:t})}var ce,se=this,le=!1,de=(ce={},ce[a["default"].ASC]="ascending",ce[a["default"].DESC]="descending",ce),fe="selected",pe="disabled",me="error",_e="grid-column-",Ee="right",Se="edit",ge="delete";Object.assign(se,{pagination:{},sort:{direction:a["default"].ASC},attributes:{},selectedColumns:{},showActions:!1,selectAll:!1,selectAllHiddenItems:!1,gridActions:{},GRID_ACTION_POSITION_LEFT:"left",GRID_ACTION_POSITION_RIGHT:Ee,initGridActions:s,getAllSelectedItems:M,getSelectedItemsOnCurrentPage:y,getTotalSelectableRecordsCount:U,getSortOrderCssClasses:P,setPageSelection:T,toggleSortOrder:S,updateVisibleColumns:L,showColumnCustomizationDialog:b,hideColumnCustomizationDialog:R,mergeGridActions:V,handleColumnsChanges:B,handlePaginationSizeChange:c,onDataChanges:z,setSelectionForAllRecords:N,canShowSelectionMessage:G,getSelectedRecordsCount:k,isAllRecordSelected:w,getTotalRecordsCount:j,getRecordCssClasses:Y,getColumnCssClass:q,setPageData:m,forceUpdateSelectionFlag:X,currentPagePartiallySelected:ee,hasTemplate:te,isConstantData:ne,isUpdatableData:ie,getSelectionMessage:re,getAllSelectionMessage:oe,getAllSelectionLinkMessage:ae})}r.$inject=["$scope","gridService","paginationService","modalService","Messages","sortService"],t.__esModule=!0,t["default"]=r;var o=n(40),a=function(e){return e&&e.__esModule?e:{"default":e}}(o)},function(e,t,n){"use strict";function i(){function e(e,t,n,i){var r=i[0],o=i[1],u=e.$eval(n[a]);r.init(o.gridActions,u)}return{restrict:"A",controller:o["default"],controllerAs:"ewfGridActionsCtrl",require:[a,"^ewfGrid"],templateUrl:"common/widgets/grid/grid-actions.html",scope:!0,link:e}}t.__esModule=!0,t["default"]=i;var r=n(1416),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfGridActions"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e,t){d=t.position,s.actions=a(e),r(),o()}function r(){s.isMoreLinkVisible=s.actions.length>l}function o(){s.actionsLimit=s.actionsExpanded||!s.isMoreLinkVisible?s.actions.length:l-1}function a(i){var r=Object.entries(i).filter(function(t){var n=t[1],i=!angular.isFunction(n.isAvailable)||n.isAvailable(e.row);return d===n.position&&i}).map(function(e){var t=e[0],i=e[1],r=!!i.templateId,o=Object.assign({name:t,hasTemplate:r},i);return r&&n.loadTemplate(o),o});return t(r,"order")}function u(){s.actionsExpanded=!0,o()}function c(){s.actionsExpanded=!1,o()}var s=this,l=4,d=void 0;Object.assign(s,{actions:null,init:i,expandActions:u,collapseActions:c})}i.$inject=["$scope","orderByFilter","gridService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{paginationSettings:"="+a,totalRecords:"<"+a+"TotalRecords",pageRangeOptions:"<"+a+"PageRangeOptions",onPageChange:"&"+a+"OnPageChange"},controller:r,controllerAs:"gridPaginationCtrl",templateUrl:"common/widgets/grid/grid-pagination.html"})}function r(e,t,n){"ngInject";function i(e){var t=e.totalRecords,n=e.pageRangeOptions;t&&angular.isDefined(t.currentValue)&&r(t.currentValue,_.paginationSettings.pageIndex),n&&n.currentValue&&(_.rangeOptions=Object.assign(a(),n.currentValue))}function r(e,t){Object.assign(_.paginationSettings,n.paginate(e,t,_.paginationSettings.pageSize))}function a(){return{label:e.COMMON.COMMON_INFO_TEXT_GRID_PAGINATION_RANGE,showOnNewLine:!1,hidePageRange:!1,hidePageSizes:!1}}function u(e){e<0||e>=_.paginationSettings.pageCount||(r(_.totalRecords,e),_.onPageChange(e))}function c(){if(_.totalRecords)return t(_.rangeOptions.label,{firstRecordIndex:_.paginationSettings.rowMin+1,lastRecordIndex:_.paginationSettings.rowMax+1,totalRecords:_.totalRecords})}function s(){return!_.rangeOptions.hidePageRange&&!_.rangeOptions.showOnNewLine}function l(){return _.totalRecords>o.MIN_PAGE_SIZE}function d(){return _.paginationSettings.pageIndex<=0}function f(){return _.paginationSettings.pageIndex>=_.paginationSettings.pageCount-1}function p(){u(_.paginationSettings.pageIndex-1)}function m(){u(_.paginationSettings.pageIndex+1)}var _=this;Object.assign(_,{PAGE_SIZES:[o.MIN_PAGE_SIZE,25,50,100],$onChanges:i,moveToPage:u,moveToPrevPage:p,moveToNextPage:m,getPaginationRange:c,showElementsInOneLine:s,showPaginationElements:l,isPrevDisabled:d,isNextDisabled:f})}i.$inject=["component"],r.$inject=["Messages","replaceFilter","paginationService"],t.__esModule=!0,t["default"]=i,t.GridPaginationController=r;var o=n(20),a=i.NG_NAME="ewfGridPagination"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t,n,u){function c(e){var t=e?s.height()+d.height():"auto";l.css({height:t}),n.toggleClass(o)}t.$watch(u[r],function(n){n&&e(function(){return t.onToggleQuickView(n)})});var s=n.parents("tr"),l=s.children().eq(0),d=n.find(a);i(t,u),t.onToggleQuickView=function(e){if(!e||!u[r+"OnExpand"])return c(e);t.$eval(u[r+"OnExpand"]).then(function(){return c(e)})}}function i(e,n){var i=n[r+"UseAlternativeLabel"];e.showQuickViewLabel=i?t.MANAGE_ACCOUNTS.MANAGE_AUTH_LINK_SHOW_QUICK_VIEW:t.MANAGE_SHIPMENTS.HOME_LINK_SHOW_QUICK_VIEW,e.hideQuickViewLabel=i?t.MANAGE_ACCOUNTS.MANAGE_AUTH_LINK_HIDE_QUICK_VIEW:t.MANAGE_SHIPMENTS.HOME_LINK_HIDE_QUICK_VIEW}var o="grid-quick-view__opened",a=".grid-quick-view__section";return{restrict:"A",transclude:!0,templateUrl:"grid-quick-view-template.html",link:n}}i.$inject=["$timeout","Messages"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfGridQuickView"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n){e.get(n.templateId,{cache:t}).then(function(e){var t=e.data;return n.template=t})}return{loadTemplate:n}}i.$inject=["$http","$templateCache"],t.__esModule=!0,t["default"]=i,i.NG_NAME="gridService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"addressSearchCtrl",templateUrl:function(){function e(e,t){return t[u+"TemplateUrl"]||"/templates/dashboard-address-search.html"}return e}(),bindings:{model:"="+u,addressDetails:"="+u+"Details",placeholder:"@?"+u+"Placeholder",isAddressBookSearch:"=?"+u+"Addressbook",isAmsSearch:"=?"+u+"Ams",settings:"=?"+u+"Settings",onAddressSelected:"&"+u+"OnAddressSelected",onBeforeAddressSelect:"&?"+u+"OnBeforeAddressSelect",fromOrTo:"=?"+u+"AddressFormName",allowAddressSuggestionWithoutCountry:"=?"+u+"AllowAddressSuggestionWithoutCountry",isAddressBookButtonClicked:"<?"+u+"AddressBookButtonClicked",searchDirection:"@?"+u+"Direction",shouldSearchAllCollection:"<?"+u+"ShouldSearchAllCollection"},transclude:!0})}function r(e,t,n,i,r,o){"ngInject";function u(){!1!==E.isAmsSearch&&t.$watch(function(){return E.addressDetails.countryCode},m),t.$watch(function(){return E.model},function(){return S=E.model})}function c(){Object.assign(E.addressDetails,{addrLine2:"",addrLine3:"",city:"",citySuburbName:"",countryDivisionCode:"",countryDivisionName:"",countryDivisionTypeCode:undefined,placeId:"",residentialAddress:!1,streetNumber:"",zipOrPostCode:""})}function s(e){return i.getConfiguredAddressSuggestions({country:E.addressDetails.countryCode,query:e,isAddressBookSearch:E.isAddressBookSearch,isAmsSearch:E.addressSuggestionsEnabled&&E.isAmsSearchOn,searchBy:"address",fromOrTo:E.fromOrTo,enteredValue:E.model,collectionType:E.searchDirection,collection:E.shouldSearchAllCollection&&a["default"].ALL}).then(function(e){return E.addresses=e,e})}function l(e){return E.isAddressSelected=!1,c(),s(e)}function d(e){E.onBeforeAddressSelect&&E.onBeforeAddressSelect(),E.isAddressSelected=!0,E.searchOnFocus=!1,e.isNoAddress?f():e.isAddressbookContact?(Object.assign(e.data,{addrLine1:e.data.address,addrLine2:e.data.address2,addrLine3:e.data.address3}),Object.assign(E.addressDetails,e.data),p(e.data,!1)):i.getAddressDetails(e).then(function(e){Object.assign(E.addressDetails,{city:e.city,zipOrPostCode:e.zipOrPostCode,addrLine1:e.addrLine1,addrLine2:e.addrLine2,addrLine3:e.addrLine3,countryCode:e.countryCode,countryDivisionName:e.state,englishAddress:e.englishAddress,placeId:e.placeId}),p(e,!0)})}function f(){p({countryCode:E.addressDetails.countryCode,addrLine1:S},!1,!0)}function p(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=!(arguments.length<=1||arguments[1]===undefined)&&arguments[1],n=!(arguments.length<=2||arguments[2]===undefined)&&arguments[2];E.onAddressSelected({$address:e,$isAddressSearch:t,$isNoAddress:n}),E.searchOnFocus=!0}function m(){if(E.allowAddressSuggestionWithoutCountry&&!E.addressDetails.countryCode)return void(E.addressSuggestionsEnabled=!0);i.getAmsSearchConfig(E.addressDetails.countryCode).then(function(e){var t=e[0],n=e[1],i=e[2],r=e[3];E.addressSuggestionsEnabled=t,Object.assign(E.triggerParametres,{charsIfNoMatchInAb:n,charsIfMatchInAb:i,timeBeforeAmsSearch:r})})}function _(){n(function(){!E.model||E.isAddressSelected||E.isAddressBookButtonClicked||r.showConfirmationDialog({message:o.DASHBOARD.DASHBOARD_MODAL_MSG_ADDRESS_NOT_SELECTED,okButtonLabel:o.DASHBOARD.DASHBOARD_MODAL_BUTTON_PROCEED,cancelButtonLabel:o.DASHBOARD.DASHBOARD_MODAL_BUTTON_CANCEL}).then(f)},500)}var E=this,S=void 0;Object.assign(E,{isNoAddressShown:!1,addressSuggestionsEnabled:!1,searchOnFocus:!0,triggerParametres:{},$onInit:u,searchAddresses:l,addressSelected:d,showModal:_})}i.$inject=["component"],r.$inject=["$q","$scope","$timeout","addressService","modalService","Messages"],t.__esModule=!0,t["default"]=i,t.AddressSearchController=r;var o=n(62),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfAddressSearch"},function(e,t,n){"use strict";function i(){function e(e,t,n){return t?e.text:(n.setFromAddressBook(e),n.getFormattedContact())}return{onAddressSelected:e}}t.__esModule=!0,t["default"]=i,i.NG_NAME="addressSearchService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1423),u=i(a),c=angular.module("common.widgets.language-selector",[o["default"]||"common.utils"]);c.directive(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="common.widgets.language-selector"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"="+o,countryCode:"<"+o+"CountryCode",fullWidth:"<?"+o+"FullWidth",label:"<?"+o+"Label",noLabel:"<?"+o+"NoLabel",isDisabled:"<?"+o+"IsDisabled"},controller:r,controllerAs:"languageSelectorCtrl",templateUrl:"common/widgets/language-selector/language-selector.html"})}function r(e,t){"ngInject";function n(){a.countryCode&&r(a.countryCode)}function i(e){var t=e.countryCode;t&&t.currentValue&&r(t.currentValue)}function r(t){e.getAvailableLanguages(t).then(function(e){var t=e.find(function(e){return e.code===a.model})||e[0];a.availableLangs=e,a.model=t.code})}function o(){return a.label||t.SHIPMENT_PRINT.LABEL_VAT_RECEIPT_LANGUAGE}var a=this;Object.assign(a,{$onInit:n,$onChanges:i,getLabel:o})}i.$inject=["component"],r.$inject=["locationService","Messages"],t.__esModule=!0,t["default"]=i,t.LanguageSelectorController=r;var o=i.NG_NAME="ewfLanguageSelector"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1425),o=i(r),a=n(1426),u=i(a),c=angular.module("common.widgets.pageLoader",[]);c.directive(o["default"].NG_NAME,o["default"]).service(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="common.widgets.pageLoader"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n,i,r){function u(){r.$set(a,undefined),s()}var c=e.$on(o["default"].pageLoadedEvent,function(){t.isRoutingEnabled()||u(),c()}),s=e.$on("$viewContentLoaded",function(){t.isRoutingEnabled()?u():t.enableRouting()})}return{restrict:"A",link:{pre:n}}}i.$inject=["$rootScope","pageLoaderService"],t.__esModule=!0,t["default"]=i;var r=n(27),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfPageLoader"},function(e,t,n){"use strict";function i(e){"ngInject";function t(){r=!0}function n(){return r}function i(){e.$emit(o["default"].pageLoadedEvent)}var r=!1;return{enableRouting:t,isRoutingEnabled:n,onBootstrapEnd:i}}i.$inject=["$rootScope"],t.__esModule=!0,t["default"]=i;var r=n(27),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="pageLoaderService"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1428),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("common.widgets.sectionLoader",[]);o.directive(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="common.widgets.sectionLoader"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n,u,c){var s=n.$eval(c[o+"Mobile"])?a:i;n.$watch(function(){return n.$eval(c[o])},function(i){if(i){var a=!1;i["finally"](function(){return a=!0}),t(function(){a||(u.addClass(s),i["finally"](function(){u.removeClass(s),e(c[o]).assign(n,null)}))},r.sectionLoaderDelay)}})}var i="section-loader",a="section-loader__mobile";return{restrict:"A",link:{pre:n}}}i.$inject=["$parse","$timeout"],t.__esModule=!0,t["default"]=i;var r=n(27),o=i.NG_NAME="ewfSectionLoader"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1430),o=i(r),a=n(1432),u=i(a),c=n(2),s=i(c),l="common.widgets.addressBookRestrictions",d=angular.module(l,[s["default"]||"common.utils"]);d.directive(o["default"].NG_NAME,o["default"]).service(u["default"].NG_NAME,u["default"]),t.module=d,t["default"]=l},function(e,t,n){"use strict";function i(){function e(e,t,n,i){e.$watch(n[a+"Disabled"],function(e){return i.onChangeDisability(e)});var r=n[a];r&&e.$watch(r,function(e){e&&i.onChangeRestrictions(e)}),i.init(!!r)}return{restrict:"A",controller:o["default"],controllerAs:"addressBookRestrictionsCtrl",link:e}}t.__esModule=!0,t["default"]=i;var r=n(1431),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfAddressBookRestrictions"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n){n||(e.getRestrictions().then(a),u.restrictedShipToForGlobalMailOnly=t.getCoreRestriction(o["default"].GLOBAL_MAIL_IN_SHIP_TO_ONLY))}function i(e){a(e)}function r(e){(c=e)&&a({restrictedShipFrom:!1,restrictedShipTo:!1})}function a(e){var t=e.restrictedShipFrom,n=e.restrictedShipTo;u.restrictedShipFrom=!c&&t,u.restrictedShipTo=!c&&n,u.isSwitchingAddressesDisabled=!c&&(t||n)}var u=this,c=void 0;Object.assign(u,{restrictedShipFrom:!1,restrictedShipTo:!1,isSwitchingAddressesDisabled:!1,init:n,onChangeDisability:r,onChangeRestrictions:i})}i.$inject=["addressBookRestrictionsService","userService"],t.__esModule=!0,t["default"]=i;var r=n(36),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e){"ngInject";function t(){return e.get("/api/addressbook/restrictions").then(function(e){var t=e.data;return i=t})}function n(){return i}var i=void 0;return{getRestrictions:t,getCachedRestrictions:n}}i.$inject=["$http"],t.__esModule=!0,t["default"]=i,i.NG_NAME="addressBookRestrictionsService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1434),u=i(a),c=n(1435),s=i(c),l=angular.module("common.widgets.common-search",[o["default"]||"common.utils"]);l.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="common.widgets.common-search"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"commonSearchCtrl",templateUrl:"/templates/common-search-template.html",bindings:{settings:"<"+a}})}function r(e,t){"ngInject";function n(){E.settings&&(E.config=t.prepare(E.settings))}function i(){return t.execute(E.config,r).then(c)["catch"](function(e){return e&&s()})}function r(e,t){var n=e+"?keyword="+t;return _()&&(E.config.plainSearchUrl="/search/default/"+n),""+n+a()+u()}function a(){return E.config.paginationEnabled?"&pageNumber=0&pageSize="+o.MIN_PAGE_SIZE:""}function u(){var e=E.config,t=e.currentPageParameters;return e.backEndSortingEnabled?"&sortingDirection="+t.sortingDirection+"&sortingParameter="+t.sortingParameter:""}function c(e){return 0===(e.results||e).length?s():(_()&&m(),E.config.onSearch(e))}function s(){return e.showMessageDialog({message:E.config.errorMessage})}function l(e){var n=E.config.plainTypeahead?r:d;return t.execute(E.config,n,e).then(f)["catch"](p)}function d(e,t){return"typeahead/"+e+"/"+t}function f(e){return(e.results||e).map(E.config.listFormatter)}function p(){return[]}function m(){var e=E.config;(0,e.setCurrentPageParameter)({plainSearchUrl:e.plainSearchUrl})}function _(){return angular.isFunction(E.config.setCurrentPageParameter)}var E=this;Object.assign(E,{plainSearch:i,typeAheadSearch:l,$onChanges:n})}i.$inject=["component"],r.$inject=["modalService","commonSearchService"],t.__esModule=!0,t["default"]=i,t.CommonSearchController=r;var o=n(20),a=i.NG_NAME="ewfCommonSearch"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e){var n={};return Object.assign(n,s,e),n.categories&&n.categories.unshift({key:c,name:t.COMMON.COMMON_SELECT_OPTION_ALL}),n.urlPrefix=n.urlPrefix+"/search/"+n.type,n.searchCategory={key:n.searchCategory||c},n.onSelect?n.onSelect=function(t,r){i(n,t),e.onSelect(r,t)}:n.onSelect=function(e){i(n,e)},n.listFormatter||(n.listFormatter=function(e){return r(n,e)}),n}function i(e,t){e.searchQuery=t.query}function r(e,t){return{query:e.searchQuery,key:t.data.key,value:[t.line1,t.line2,t.line3].filter(Boolean).join("; ")}}function o(t,n,i){var r=encodeURIComponent(i||t.searchQuery);if(t.onDataGet)return t.onDataGet(r);var o=t.searchCategory.key,c=t.urlPrefix+"/"+n(o,r);if(a(t.suggestions,o)){c+=u(c,t.suggestions[o].filter(function(e){return e.value.toLocaleLowerCase().includes(r.toLocaleLowerCase())}).map(function(e){return"suggestions="+e.code}))}return e.getElementList(c)}function a(e,t){return e&&e[t]&&e[t].length}function u(e,t){return t.length?(e.includes("?")?"&":"?")+t.join("&"):""}var c="all",s={searchQuery:"",type:"default",minLength:3,showCategory:!0,showSearchButton:!0,categoryFieldLabel:"",inputFieldLabel:""};return{prepare:n,execute:o}}i.$inject=["crudService","Messages"],t.__esModule=!0,t["default"]=i,i.NG_NAME="commonSearchService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1437),u=i(a),c=n(1438),s=i(c),l=angular.module("common.widgets.agreement-fields",[o["default"]||"common.utils"]);l.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="common.widgets.agreement-fields"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{termsConditions:"="+o+"TermsConditions",privacyPolicy:"="+o+"PrivacyPolicy",availablePermanently:"<"+o+"AvailablePermanently"},controller:r,controllerAs:"agreementFieldsCtrl",templateUrl:"/templates/registration-agreement-fields.html"})}function r(e,t,n,i){"ngInject";function r(){o(),a(),u()}function o(){t.getBoolean(t.CI_KEYS.CI0011_TERMS_AND_CONDITION_CONFIRMATION).then(function(e){return c.isTermsConditionsRequired=!!e})}function a(){t.getBoolean(t.CI_KEYS.CI0619_PRIVACY_AND_COOKIES_POLICY).then(function(e){return c.isPrivacyPolicyRequired=!!e})}function u(){if(c.availablePermanently)return i.getPrivacyNoticeAccepted().then(function(e){return c.privacyPolicyFieldAvailable=!e}),void(c.termsAndConditionsFieldAvailable=!0);e.all([n.getUserAgreements(),i.getPrivacyNoticeAccepted()]).then(function(e){var t=e[0],n=t.termsAndConditionsAccepted,i=t.privacyPolicyAccepted,r=e[1];c.termsAndConditionsFieldAvailable=!n,c.privacyPolicyFieldAvailable=!i&&!r})}var c=this;Object.assign(c,{$onInit:r,termsAndConditionsFieldAvailable:!1,privacyPolicyFieldAvailable:!1})}i.$inject=["component"],r.$inject=["$q","configService","agreementFieldsService","additionalAgreementsService"],t.__esModule=!0,t["default"]=i,t.AgreementFieldsController=r;var o=i.NG_NAME="ewfAgreementFields"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){var n=t.getUsername();return e.get("/api/user-agreements/"+n).then(function(e){return e.data})}return{getUserAgreements:n}}i.$inject=["$http","userService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="agreementFieldsService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1440),o=i(r),a=n(1441),u=i(a),c=n(1442),s=i(c),l=angular.module("common.widgets.available-tenants",["common.utils"]);l.directive(o["default"].NG_NAME,o["default"]).directive(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="common.widgets.available-tenants"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{tenantName:"<"+o},templateUrl:"common/widgets/available-tenants/available-tenants.html",controller:r,controllerAs:"availableTenantsCtrl"})}function r(e,t,n){"ngInject";function i(){var t=e.getTenantByName(u.tenantName);t&&(a=n.translate(t.nls))}function r(){return a||u.tenantName}function o(){e.getValidLink(u.tenantName).then(function(e){var n=e.redirectUrl;t.openHrefInNewWindow(n)})["catch"](e.handleTenantLoginError)}var a=void 0,u=this;Object.assign(u,{$onInit:i,doRedirectToTenant:o,displayName:r})}i.$inject=["component"],r.$inject=["tenantService","navigationService","nlsService"],t.__esModule=!0,t["default"]=i,t.AvailableTenantsController=r;var o=i.NG_NAME="ewfAvailableTenants"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"common/widgets/available-tenants/available-tenants-wrapper.html",controller:r,controllerAs:"availableTenantsWrapperCtrl"})}function r(e){"ngInject";function t(){n.tenants=e.getAvailableTenants()}var n=this;Object.assign(n,{tenants:[],$onInit:t})}i.$inject=["component"],r.$inject=["userService"],t.__esModule=!0,t["default"]=i,t.AvailableTenantsWrapperController=r,i.NG_NAME="ewfAvailableTenantsWrapper"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n,i){e.isTenantAllowed(t.$eval(i[r]))||t.$eval(i[r+"IsEditMode"])||n.addClass("is-hidden")}return{restrict:"A",link:t}}i.$inject=["tenantService"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfAvailableTenantsVisibility"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1444),u=i(a),c=n(1446),s=i(c),l=angular.module("common.widgets.tab-container",[o["default"]||"common.utils"]);l.directive(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="common.widgets.tab-container"},function(e,t,n){"use strict";function i(){"ngInject";function e(e,n,i,r){var o=n.parents(".tabs__content-tab").toArray(),u=o.length?t(o):"",c=i[a+"InitialTab"]||"";r.init(u,c)}function t(e){return"/"+e.map(function(e){return e.id}).reverse().join("/")}return{restrict:"A",controller:o["default"],controllerAs:"tabContainerCtrl",scope:!0,link:{pre:e}}}t.__esModule=!0,t["default"]=i;var r=n(1445),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfTabContainer"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t){r.parentTabsPrefix=e,r.selectedTabName=t}function n(e){return r.selectedTabName===e}function i(t){e.location.hash="#"+r.parentTabsPrefix+"/"+t,r.selectedTabName=t}var r=this;Object.assign(r,{selectedTabName:"",parentTabsPrefix:"",init:t,isTabSelected:n,selectTab:i})}i.$inject=["$window"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t,n,r,o){t.$watch(function(){return e.location.hash},function(e){e&&i(e,n,o)})}function i(e,n,i){var r=e.split("/"),o=n.parents("[ewf-tab-container]").length;if(!(r.length<o)){var a=e.split("/")[o];a&&n.find(".tabs__content-tab#"+a).length&&(i.selectedTabName=a,o===r.length-1&&t.scrollToSection(n))}}return{restrict:"A",require:"^ewfTabContainer",link:{pre:n}}}i.$inject=["$window","anchorScrollService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfTabAnchor"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(29),o=i(r),a=n(2),u=i(a),c=n(1449),s=i(c),l=n(1451),d=i(l),f=angular.module("common.widgets.open-an-account",[o["default"],u["default"]||"common.utils"]);f.directive(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]),t.module=f,t["default"]="common.widgets.open-an-account"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(){return t.getElement("/api/myprofile/contact")}function o(e){var n=i.create(e);return t.postElement("/api/myprofile/contact/modify",n)}function a(e){var t={name:!0,countryCode:!0,addrLine1:!0,phone:!0,phoneCountryCode:!0,city:!0},n=e.addressDetails;return u(n).then(function(i){return Object.assign.apply(Object,[t,s(n)].concat(i)),d(e,t)})}function u(t){var n=t.countryCode,i={countryDivisionName:["CIF0240_PROVINCE","CIF0453_STATE"],addrLine3:["CI0422_ADDRESS_ADDRESS_LINE_3"],zipOrPostCode:["CIF0241_POSTAL_CODE","CIF0452_ZIP"],citySuburbName:["CIF0239_SUBURB"],eoriNumber:["CI0343_INVOICE_EORI"],vatTaxId:["CI0606_SHIPPER_ADDRESS_TAXID"]};return e.all(Object.keys(i).map(function(e){return c(i[e],n).then(function(t){return l(e,t)})}))}function c(t,i){return e.all(t.map(function(e){return n.getFormField(n.CI_KEYS[e],i)}))}function s(e){return{company:!e.residentialAddress}}function l(e,t){var n;return n={},n[e]=t.some(function(e){return e.mandatory}),n}function d(e,t){return Object.keys(t).every(function(n){return!t[n]||Boolean(f(e,n))})}function f(e,t){return e.hasOwnProperty(t)?e[t]:Object.keys(e).reduce(function(n,i){return n||(angular.isObject(e[i])?f(e[i],t):void 0)},null)}return{getProfileContact:r,updateProfileContact:o,isProfileMandatoryFieldsFilledIn:a}}i.$inject=["$q","crudService","configService","myProfileContactFactory"],t.__esModule=!0,t["default"]=i,i.NG_NAME="profileContactService"},function(e,t,n){"use strict";function i(){"ngInject";function e(e,t,n,i){var r=i[0],o=i[1],u=n[a+"ThankYouMessage"]||"";r.init(u,o)}return{restrict:"A",require:[a,"^^?ewfModal"],controller:o["default"],controllerAs:"openAnAccountCtrl",link:e}}t.__esModule=!0,t["default"]=i;var r=n(1450),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfOpenAnAccount"},function(e,t,n){"use strict";function i(e,t,n,i,o,u){"ngInject";function c(e,i){if(p.thankYouMessage=e,p.ewfModalCtrl=i,p.isAuthorized=n.isAuthorized(),!p.isAuthorized)return p.userData.addressDetails.countryCode=n.getUserCountry(),void(p.userData.phoneDetails={});t.getProfileContact().then(function(e){var t=e.contactDetails;p.userData=t,p.userData.shipmentFrequency||(p.userData.shipmentFrequency=a["default"].DAILY),m=p.userData.shipmentFrequency})}function s(){var e={captchaData:p.captcha&&p.captcha.getCaptchaData(),company:p.userData.company},t=p.isAuthorized?{shipmentFrequency:p.userData.shipmentFrequency,addressLine1:p.userData.addressDetails.addrLine1,cityName:p.userData.addressDetails.city,countryDivisionName:p.userData.addressDetails.countryDivisionName,citySuburbName:p.userData.addressDetails.citySuburbName,zipOrPostCode:p.userData.addressDetails.zipOrPostCode}:{addressDetails:u.create(p.userData.addressDetails),phoneDetails:p.userData.phoneDetails,email:p.userData.email,firstName:p.userData.firstName,lastName:p.userData.lastName,sentEmailAllowed:!!p.isSentEmailAllowed},o=r({},e,t);n.openAnAccount(o,p.isAuthorized).then(function(){return i.showThankYouDialog(p.thankYouMessage,p.ewfModalCtrl)})["catch"](function(e){return p.errors=e})["finally"](d)}function l(t){t.$setPristine(),p.errors=undefined,p.isConsentGiven=undefined;var i=p.isAuthorized?p.userData.addressDetails.countryCode:n.getUserCountry();p.userData.addressDetails={countryCode:i},p.userData.company=undefined,p.isAuthorized?p.userData.shipmentFrequency=m:(p.userData.firstName=undefined,p.userData.lastName=undefined,p.userData.email=undefined,p.userData.phoneDetails={},p.isSentEmailAllowed=undefined),d(),e.find("input.ng-blur, input.ewfc-highlighted").removeClass("ng-blur ewfc-highlighted")}function d(){p.captcha&&p.captcha.refresh()}function f(){return o.getOptions()}var p=this,m=void 0;Object.assign(p,{captcha:null,userData:{addressDetails:{}},thankYouMessage:"",init:c,requestAccount:s,clearForm:l,getOptions:f})}i.$inject=["$element","profileContactService","openAnAccountService","thankYouMessageService","shipmentFrequencyOptionsService","addressDetailsFactory"],t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t["default"]=i;var o=n(226),a=function(e){return e&&e.__esModule?e:{"default":e}}(o)},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t,n){var i=n?o["default"].FOR_AUTHORIZED:o["default"].FOR_GUEST;return e.post(i,t)}function i(){return t.isAuthorized()}function r(){return t.getUserCountry()}return{openAnAccount:n,isAuthorized:i,getUserCountry:r}}i.$inject=["$http","userService"],t.__esModule=!0,t["default"]=i;var r=n(254),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="openAnAccountService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1453),u=i(a),c=n(1455),s=i(c),l=n(1457),d=i(l),f="common.volumetric-weight-calculator",p=angular.module(f,[o["default"]||"common.utils"]);p.directive(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]),t.module=p,t["default"]=f},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"volumetricWeightCalculatorCtrl",link:function(){function e(e,t,n,i){i.init(n[a+"Id"],t)}return e}()}}t.__esModule=!0,t["default"]=i;var r=n(1454),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfVolumetricWeightCalculator"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e,t){r.calculatorID=e,r.element=t}function i(){e.showDialog({templateUrl:"common/widgets/volumetric-weight-calculator/volumetric-weight-calculator-modal-"+r.calculatorID+".html"}).result["finally"](function(){t.focusWithDelay(r.element)})}var r=this;Object.assign(r,{init:n,showModal:i})}i.$inject=["modalService","delayedFocusService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"volumetricWeightCalculatorModalCtrl",link:function(){function e(e,t,n,i){i.init(n[a+"CmsDivisor"],n[a+"InchDivisor"])}return e}()}}t.__esModule=!0,t["default"]=i;var r=n(1456),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfVolumetricWeightCalculatorModal"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t){r.cmsDivisor=e,r.inchDivisor=t}function n(){r.cmsVolumetricWeight=e.calculateVolumetricWeight(r.measurements,r.cmsDivisor,a),r.inchesVolumetricWeight=e.calculateVolumetricWeight(r.measurements,r.inchDivisor,o),r.showResult=!0}function i(e){return"0"!==e}var r=this,o=1,a=.5;Object.assign(r,{measure:"cmsKilograms",shape:"box",cmsDivisor:1,inchDivisor:1,showResult:!1,init:t,calculateVolumetricWeight:n,isNonZero:i})}i.$inject=["volumetricWeightCalculatorModalService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,r,o){var a=n(t.packageHeight),u=n(t.packageWidth),c=n(t.packageLength),s=a*u*c,l=o*Math.ceil(s/r/o);return e.getCountryLang().countryId===i&&(l=Math.ceil(l)),l}function n(e){return e<.5?1:Math.round(e)}var i="us";return{calculateVolumetricWeight:t}}i.$inject=["pathService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="volumetricWeightCalculatorModalService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1459),u=i(a),c=n(1461),s=i(c),l=n(1462),d=i(l),f=angular.module("common.order-supplies",[o["default"]||"common.utils"]);f.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]).directive(d["default"].NG_NAME,d["default"]),t.module=f,t["default"]="common.order-supplies"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,i,r,o){e(function(){var e=o[0],t=o[1],u=r[a+"AccountNumber"],c=i.find(n);t.init(c,u,e)})}var n=".dhl-order-supplies-row-input";return{restrict:"A",require:["ewfFormContainer",a],controller:o["default"],controllerAs:"orderSuppliesCtrl",link:t}}i.$inject=["$timeout"],t.__esModule=!0,t["default"]=i;var r=n(1460),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfOrderSupplies"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e,t,n){Object.assign(a,{orderSuppliesRows:e,accountNumberName:t,formContainerCtrl:n})}function i(){var n=e.getRowsValues(a.orderSuppliesRows,a.formContainerCtrl.fields);if(0===Object.keys(n).length)a.firstStepError=!0,t.scrollToWithoutHash(o);else{a.formStep=2;var i=a.formContainerCtrl.fields[a.accountNumberName];e.pushFirstStepAnalyticsEvent(n,i),t.scrollToTop()}}function r(){a.formStep=3,e.pushSecondStepAnalyticsEvent()}var o="first-step-error",a=this;Object.assign(a,{formStep:1,formContainerCtrl:null,init:n,submitFirstStep:i,submitCallback:r})}i.$inject=["orderSuppliesService","anchorScrollService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t){var n=e.toArray(),i={};return n.filter(function(e){return t[e.name]}).forEach(function(e){return i[e.name]=t[e.name]}),i}function n(t,n){var i={selections:t,account:n};e.markSection("quantities","order_supplies",null,i)}function i(){e.markSection("submit","order_supplies")}return{getRowsValues:t,pushFirstStepAnalyticsEvent:n,pushSecondStepAnalyticsEvent:i}}i.$inject=["analyticsService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="orderSuppliesService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"quantityInputCtrl",templateUrl:"common/widgets/quantity-input",bindings:{value:"="+o,fieldName:"@"+o+"FieldName",resetText:"@"+o+"ResetText",allowedValuesUnsorted:"<"+o+"AllowedValues"}})}function r(){function e(){d=l.allowedValuesUnsorted.map(function(e){var t=e.name;return parseFloat(t)}).sort(function(e,t){return e-t}),l.value=0}function t(){return 0===l.value}function n(){return l.value===d[d.length-1]}function i(){return 0!==l.value}function r(){t()||(l.value=l.value===d[0]?0:s(-1))}function o(){n()||(l.value=0===l.value?d[0]:s(1))}function a(){if(!l.value||l.value<d[0])return void(l.value=0);l.value=l.value>=d[d.length-1]?d[d.length-1]:c()}function u(){l.value=0}function c(){var e=d.findIndex(function(e){return e>l.value});return d[e-1]}function s(e){var t=d.indexOf(l.value);return d[t+e]}var l=this,d=[];Object.assign(l,{$onInit:e,isPreviousValueDisabled:t,isNextValueDisabled:n,isResetVisible:i,setPreviousValue:r,setNextValue:o,onBlur:a,reset:u})}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.QuantityInputController=r;var o=i.NG_NAME="ewfQuantityInput"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(1464),u=i(a),c=n(1465),s=i(c),l=angular.module("shipment.type.prohibiteditems",[o["default"]]);l.directive(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="shipment.type.prohibiteditems"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"prohibitedItemsPopupCtrl",templateUrl:function(){function e(e,t){return t[o+"Id"]?"prohibited-items-link-layout"+t[o+"Id"]+".html":"prohibited-items-link-layout.html"}return e}(),bindings:{linkText:"@"+o+"LinkText",fromCountry:"<"+o+"FromCountry",toCountry:"<"+o+"ToCountry",v2:"<?"+o+"V2",popupTemplateId:"@?"+o+"Id"}})}function r(e){"ngInject";function t(){e.showProhibitedItemsDialog(n.fromCountry,n.toCountry,n.popupTemplateId)}var n=this;Object.assign(n,{show:t})}i.$inject=["component"],r.$inject=["prohibitedItemsService"],t.__esModule=!0,t["default"]=i,t.ProhibitedItemsPopupController=r;var o=i.NG_NAME="ewfProhibitedItemsPopup"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"prohibitedItemsCtrl",templateUrl:function(){function e(e,t){return"prohibited-items-template-"+t[o+"Id"]}return e}()})}function r(e){"ngInject";function t(){i.fromCountry=i.toCountry=e.getUserCountry()}function n(e){var t=e.code2;i.toCountry=t}var i=this;Object.assign(i,{$onInit:t,onCountrySelect:n})}i.$inject=["component"],r.$inject=["userService"],t.__esModule=!0,t["default"]=i,t.ProhibitedItemsController=r;var o=i.NG_NAME="ewfProhibitedItems"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1467),u=i(a),c=n(1468),s=i(c),l=n(1470),d=i(l),f=n(1472),p=i(f),m=angular.module("common.widgets.delimiters",[o["default"]||"common.utils"]);m.directive(u["default"].NG_NAME,u["default"]).directive(p["default"].NG_NAME,p["default"]).service(d["default"].NG_NAME,d["default"]).service(s["default"].NG_NAME,s["default"]),t.module=m,t["default"]="common.widgets.delimiters"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"common/widgets/delimiters/delimiters.html",controller:r,controllerAs:"delimitersCtrl",bindings:{fieldDelimiter:"="+o+"FieldDelimiter",textDelimiter:"="+o+"TextDelimiter",defaultTextDelimiter:"<?"+o+"DefaultTextDelimiter"}})}function r(){"ngInject";function e(e){return!e||e!==i.textDelimiter}function t(e){return!e||e!==i.fieldDelimiter}function(){}var i=this;Object.assign(i,{isTextDelimiterUnique:t,isFieldDelimiterUnique:e,getValidationConditions:n})}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.DelimitersController=r;var o=i.NG_NAME="ewfDelimiters"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n){return e.post(i(n),t)}function n(t){return e.get(i(t),{isImport:t}).then(r)}function i(e){return e?u:a}function r(e){var t=e.data;return o["default"].forEach(function(e){return t[e]=t[e]||""}),t}var a="/api/myprofile/file/export/details",u="/api/myprofile/file/import/details";return{saveDelimiters:t,getDelimiters:n}}i.$inject=["$http"],t.__esModule=!0,t["default"]=i;var r=n(1469),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="delimitersService"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=["defaultFieldDelimiter","defaultTextDelimiter","fieldDelimiter","textDelimiter"]},function(e,t,n){"use strict";function i(e){"ngInject";function t(){return e.showDialog({controller:o["default"],controllerAs:"delimitersModalCtrl",templateUrl:"delimiters-modal.html"}).result}return{showDelimitersModal:t}}i.$inject=["modalService"],t.__esModule=!0,t["default"]=i;var r=n(1471),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="delimitersModalService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(){e.getDelimiters().then(n)}function n(e){var t=e.fieldDelimiter,n=e.textDelimiter,i=e.defaultTextDelimiter;Object.assign(r,{fieldDelimiter:t,textDelimiter:n,defaultTextDelimiter:i}),o={fieldDelimiter:t,textDelimiter:n}}function i(t){var n={fieldDelimiter:r.fieldDelimiter,textDelimiter:r.textDelimiter};if(angular.equals(o,n))return void t.close();e.saveDelimiters(n).then(function(){t.close()})}var r=this,o={};Object.assign(r,{init:t,saveDelimiters:i}),t()}i.$inject=["delimitersService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){"ngInject";function e(e,t,n,i){var r=new o["default"];r.setOptions({msg:n[a+"Message"]}),e.$watchCollection(function(){return e.$eval(n[a])},function(e){var t=e[0],n=e[1];r.setOptions({textDelimiter:t,defaultDelimiter:n})}),i.addValidator(r)}return{require:"ewfInput",restrict:"A",link:{pre:e}}}t.__esModule=!0,t["default"]=i;var r=n(1473),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfValidateDelimiter"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(){var n=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];i(this,t);var o=r(this,e.call(this,n));return o.setMessage(n.msg),o.setValidatorName("ewfDelimiterValidation"),o}return o(t,e),t.prototype.validate=function(){function e(e){return!!this.options.textDelimiter||e!==this.options.defaultDelimiter}return e}(),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(32),o=i(r),a=n(93),u=i(a),c=n(1475),s=i(c),l=n(1476),d=i(l),f=angular.module("common.widgets.fieldNotifications",[o["default"]||"common.configuration",u["default"]]);f.directive(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]),t.module=f,t["default"]="common.widgets.fieldNotifications"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{fieldIdentifier:"<"+o,shipperCountry:"<"+o+"ShipperCountry",receiverCountry:"<"+o+"ReceiverCountry"},controller:r,controllerAs:"fieldNotificationsCtrl",templateUrl:"common/widgets/field-notifications/field-notifications.html"})}function r(e){"ngInject";function t(){e.applyFieldNotificationsConfig(i)}function n(){return i.fieldIdentifier.notificationId+"NotificationMessages"}var i=this;Object.assign(i,{$onChanges:t,getAqaId:n})}i.$inject=["component"],r.$inject=["fieldNotificationsService"],t.__esModule=!0,t["default"]=i,t.FieldNotificationsController=r;var o=i.NG_NAME="ewfFieldNotifications"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t){e.getSourceData(e.CI_KEYS.CI1384_FIELD_NOTIFICATIONS).then(function(e){return i(e||[],t)})}function i(e,n){var i=r(e,n);Object.assign(n,{isVisible:i.length>0,notificationMessages:i.map(function(e){return t.translate(e)})})}function r(e,t){var n=[];return e.forEach(function(e){return o(e,n,t)}),n}function o(e,t,n){e.mandatoryField.value===n.fieldIdentifier.value&&a(e,t,n)}function a(e,t,n){var i=l(e.shipperCountry),r=l(e.receiverCountry);if(u(i,r,n))return void t.unshift(e.message);c(i,r,n)&&t.push(e.message)}function u(e,t,n){var i=n.shipperCountry,r=n.receiverCountry;return s(e,i)&&s(t,r)}function c(e,t,n){var i=n.shipperCountry,r=n.receiverCountry;return s(e,i)&&angular.isUndefined(t)||s(t,r)&&angular.isUndefined(e)}function s(e,t){return e===t}function l(e){return e&&e.value&&e.value.value}return{applyFieldNotificationsConfig:n}}i.$inject=["configService","nlsService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="fieldNotificationsService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1478),o=i(r),a=n(1480),u=i(a),c=n(1481),s=i(c),l=angular.module("common.widgets.animated-carousel",[]);l.directive(o["default"].NG_NAME,o["default"]).directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="common.widgets.animated-carousel"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){var r={slidesInRow:a+"SlidesInRow",auto:a+"Auto",autoDelay:a+"AutoDelay",controls:a+"Controls",indicators:a+"Indicators",disableStopOnHover:a+"DisableStopOnHover",itemWidth:a+"ItemWidth",rtl:a+"Rtl"};Object.entries(r).forEach(function(t){var r=t[0],o=t[1];return i[r]=e.$eval(n[o])});var o=t.find("ul");i.init(o)}return{restrict:"A",controller:o["default"],controllerAs:"animatedCarouselCtrl",link:e,scope:!0}}t.__esModule=!0,t["default"]=i;var r=n(1479),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfAnimatedCarousel"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n){var c=n.parent();A=n,C=A.children(),g=C.length-A.find(".not-visible-component").length,S.itemWidth?o(S.itemWidth):t.$watch(function(){return c.width()},function(e){e<=v||(I=e,o(I))}),i(),["auto","disableStopOnHover"].forEach(a),r(g)&&(u(),S.disableStopOnHover||c.on("mouseenter",function(){e.cancel(h)}).on("mouseleave",function(){u()}))}function i(){S.areControlsVisible=S.controls&&(1===S.slidesInRow||g>S.slidesInRow)}function r(e){return S.auto&&S.autoDelay&&e>S.slidesInRow}function o(e){C.css({"min-width":e+"px","max-width":e+"px"})}function a(e){S[e]="true"===S[e]}function u(){h=e(s,S.autoDelay)}function c(){f()?S.index-=1:S.index=g-S.slidesInRow,l()}function s(){d()?S.index+=1:S.index=0,l()}function l(){var e=S.rtl?"right":"left";A.css(e,"-"+S.index*(S.itemWidth||I)+"px")}function d(){return S.index!==g-S.slidesInRow}function f(){return 0!==S.index}function p(e){return e===S.index}function m(){var e=C[S.index];if(!e)return!1;var t=e.classList;return t.contains("has-image")||t.contains("black")}function _(){return!!C[S.index]&&C[S.index].classList.contains("black")}function E(e){S.index=e,l()}var S=this,g=void 0,C=void 0,A=void 0,h=void 0,I=void 0,v=150;Object.assign(S,{init:n,isActiveElement:p,isWhiteLeftArrow:m,isWhiteRightArrow:_,goToIndex:E,decreaseIndex:c,increaseIndex:s,isNotLast:d,isNotFirst:f,index:0})}i.$inject=["$interval","$scope"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e,n,u){var c=e.$watch(function(){return n.is(":visible")},function(s){if(s){var l=n.children(),d=u[r+"Type"],f=a(d),p=n.find(f);p.length&&(t.removeInvisibleElements(n,p),i(n,d)),o(l,e),c()}})}function i(e,n){if(n!==u){var i=e.find(l);if(t.updateIndicesInAttribute(i,d,f),t.updateIndicesInAttribute(i,p,m),n!==c){var r=e.find(s);t.updateIndicesInAttribute(r,d,f)}}}function o(t,n){t.removeAttr("ng-non-bindable"),e(t)(n)}function a(e){return e===u?".card-carousel__grid>.card-carousel__item:not(:visible)":".cmp-carousel__content>.cmp-carousel__item:not(:visible)"}var u="card",c="teaser",s="div.cmp-carousel__item",l=".cmp-carousel__indicator",d="ng-class",f="isActiveElement",p="ng-click",m="goToIndex";return{restrict:"A",link:n}}i.$inject=["$compile","animatedCarouselVisibilityService"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfAnimatedCarouselVisibilityHandler"},function(e,t,n){"use strict";function i(){"ngInject";function e(e,t){var i=t.toArray().map(function(e){return Number(e.getAttribute(n))}).map(function(e){return"["+n+'="'+e+'"]'}).join(",");e.find(i).remove()}function t(e,t,n){e.toArray().forEach(function(e,i){var r=e.getAttribute(t),o=new RegExp("\\."+n+"\\(\\d+\\)"),a=r.replace(o,"."+n+"("+i+")");e.setAttribute(t,a)})}var n="data-carousel-item-index";return{removeInvisibleElements:e,updateIndicesInAttribute:t}}t.__esModule=!0,t["default"]=i,i.NG_NAME="animatedCarouselVisibilityService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r){"ngInject";function o(){return k}function u(){var t=T();if(!t)return!1;var n=e["transaction-status-of-"+t];return angular.isDefined(n)&&!JSON.parse(n)}function s(){return!!T()}function d(){return!!M()}function p(){return _()||i.isShipmentFetchedByAssignor()}function m(){return p()&&y().assignShipment.assignmentRestricted}function _(){return i.isShipmentFetchedByAssignee()}function E(){return t.getUserCountry()===f["default"].BRAZIL}function S(){return U}function g(){var e=[a["default"].MANIFESTED,a["default"].PICKED_UP,a["default"].IN_TRANSIT,a["default"].DELIVERED];return t.isGuest()&&e.includes(w)}function C(){return r.getBoolean(r.CI_KEYS.CI1027_ENABLE_WALK_CLICK_CALL_PROMOTION).then(function(e){return t.isGuest()&&e&&n.getLocationUrl().includes("/rate-and-quote")})}function A(){return!!n.getParamFromUrl(c["default"].IS_SHIPMENT_EDIT_MODE)}function h(){return n.isPage(l["default"].RETURN_LABEL_PAGE)}function I(){return t.isGuest()}function v(){var t=T();if(!t)return!1;return e["transaction-failure-reason-of-"+t]}function N(){return n.getParamFromUrl(c["default"].SHIPMENT_ID)}function T(){return n.getParamFromUrl(c["default"].SHIPMENT_ID)||M()}function M(){return n.getParamFromUrl(c["default"].COPIED_SHIPMENT_ID)}function y(){return i.getShipmentData()}function O(){return w}function D(e){k=e}function P(e){w=e}function R(e){U=e}function b(){return t.retrieveAccountHolderStatus()}function L(e){i.fixateCurrentFromContactDetails(e)}function G(){i.actualizeFromContactDetails()}var k=!1,w=void 0,U=void 0;return{isOnLastStep:o,isTransactionFailedForShipmentId:u,isRestoredShipment:s,isCopiedShipment:d,isShipmentAssigned:p,isShipmentAssignedWithRestrictions:m,isUserAssignee:_,isBrazilFlow:E,isReturnLabelChosen:S,isShipmentCannotBeResumed:g,isWccFlow:C,isShipmentEditMode:A,isReturnLabelPage:h,isGuest:I,getTransactionFailureReasonForShipmentId:v,getShipmentId:N,getRestoredShipmentId:T,getCopiedShipmentId:M,getShipmentData:y,getShipmentStatus:O,setIsLastStep:D,setShipmentStatus:P,setReturnLabelStatus:R,canShowAssignForm:b,fixateCurrentFromContactDetails:L,actualizeFromContactDetails:G}}r.$inject=["$sessionStorage","userService","pathService","shipmentDataService","configService"],t.__esModule=!0,t["default"]=r;var o=n(18),a=i(o),u=n(1),c=i(u),s=n(21),l=i(s),d=n(4),f=i(d);r.NG_NAME="shipmentFlowService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(1484),u=i(a),c=n(1485),s=i(c),l=n(1486),d=i(l),f=angular.module("common.widgets.fancyInputs",[o["default"]]);f.directive(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]),t.module=f,t["default"]="common.widgets.fancyInputs"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"fancyDropdownCtrl",templateUrl:"common/widgets/fancy-dropdown/fancy-dropdown.html",bindings:{model:"="+o,options:"<"+o+"Options",optionName:"@?"+o+"OptionName",label:"@"+o+"Label"}})}function r(){function(){}function t(e){i.model=e.value}function n(){if(!i.options)return"";var e=i.options.find(function(e){return e.value===i.model});return e&&e[i.nameProperty]}var i=this;Object.assign(i,{nameProperty:"name",$onInit:e,selectOption:t,getSelectedOptionName:n})}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.FancyDropdownController=r;var o=i.NG_NAME="ewfFancyDropdown"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,i,o,a){n(t,i,a);var u=o[r+"DataTracking"];e.setupAutocomplete(i,a),e.setupAutocompleteItemTemplate(i,u)}function n(e,t,n){var i=e.$watch(function(){return n.getAvailableLocations()},function(e){if(e&&e.length){var n=e.map(function(e,t){return{label:e.name,value:e.name,object:e,index:t}});t.autocomplete("option",{source:n}),i()}},!0)}return{restrict:"A",require:"^^ewfCountry",link:t}}i.$inject=["fancyTypeaheadService"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfFancyTypeahead"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n){function i(){a||t.autocomplete("search","")}function o(){t.autocomplete("close"),a=!0,e(function(){a=!1},r)}var a=!1;t.autocomplete({select:function(){function e(e,t){var i=t.item;return n.onCountrySelect(i.object,i.index)}return e}(),source:n.getAvailableLocations(),minLength:0,position:{my:"left top-1",collision:"none",at:"left bottom"}}).on({focus:function(){function e(){return t.autocomplete("search","")}return e}(),click:i,autocompleteselect:o})}function n(e,t){e.autocomplete("instance")._renderItem=function(e,n){return i(e,n,t)}}function i(e,t,n){return angular.element("<li>").append("\n                <a class=\"ie8-typeahead-link ie8-typeahead-link--v2\"\n                   data-tracking=\"{'type':'countryModal','title':{'en': '"+n+" "+t.object.name+'\'}}">\n                    <i class="flag flag_'+t.object.code2+'"></i>\n                    <span>'+t.label+"</span>\n                </a>").appendTo(e)}var r=100;return{setupAutocomplete:t,setupAutocompleteItemTemplate:n}}i.$inject=["$timeout"],t.__esModule=!0,t["default"]=i,i.NG_NAME="fancyTypeaheadService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1488),u=i(a),c=n(1489),s=i(c),l=n(1490),d=i(l),f="common.widgets.address.personalInformation",p=angular.module(f,[o["default"]||"common.utils"]);p.directive(s["default"].NG_NAME,s["default"]).directive(d["default"].NG_NAME,d["default"]).service(u["default"].NG_NAME,u["default"]),t.module=p,t["default"]=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){"ngInject";function n(e,t){return u(t).then(function(n){return n.filter(function(n){return i(n,e,t)})})}function i(e,t,n){var i=e.issuingCountryCode;return o(e.businessPartyRoleTypeCode,t)&&r(i,n)}function r(e,t){return e.value===t}function o(e,t){return[a["default"].ANY,t].includes(e)}function u(e){return t.getSourceData(t.CI_KEYS.CI1452_TAX_IDS_AND_PII_DATA_LIST,e)}function s(e){return t.getSourceData(t.CI_KEYS.CI1453_ENABLE_TAX_FIELDS_FOR_BUSINESS_PRIVATE_CONTACTS,e)}function d(n){return e.all([t.getFormField(t.CI_KEYS.CI0606_SHIPPER_ADDRESS_TAXID,n),t.getFormField(t.CI_KEYS.CIF0120_VAT_TAX_ID,n),s(n)]).then(function(e){var t=e[0],n=e[1],i=e[2];return{fromVatTaxCifVisibility:t.visible,toVatTaxCifVisibility:n.visible,businessPrivateConfigurations:i}})}function p(e,t,n,i){if(!e||!t||!n)return!1;var r=t===f["default"].PRIVATE?"Private":"Business";return e.some(function(e){return e.businessPrivateContact===r&&o(e.businessPartyRoleTypeCode,n)&&e[i]})}function m(e,t){if(!e)return!1;var n=t!==a["default"].SHIPPER||e.fromVatTaxCifVisibility,i=t!==a["default"].RECEIVER||e.toVatTaxCifVisibility;return n&&i}function _(e){return![a["default"].SHIPPER,a["default"].RECEIVER].includes(e)}function E(n,i){return _(n)?e.when({visible:!0}):n===a["default"].SHIPPER?t.getFormField(t.CI_KEYS.CIF0359_SHIPPER_TAX_DOCUMENT_TYPE,i):t.getFormField(t.CI_KEYS.CIF0362_RECEIVER_TAX_DOCUMENT_TYPE,i)}function S(n,i){return _(n)?e.when([{visible:!0},{visible:!0}]):n===a["default"].SHIPPER?[t.getFormField(t.CI_KEYS.CIF0360_SHIPPER_USCI_CODE,i),t.getFormField(t.CI_KEYS.CIF0361_SHIPPER_CRN,i)]:[t.getFormField(t.CI_KEYS.CIF0363_RECEIVER_USCI_CODE,i),t.getFormField(t.CI_KEYS.CIF0364_RECEIVER_CRN,i)]}function g(t,n){return e.all(S(t,n))}function C(e,t,i,r){return n(e,t).then(function(n){return h(e,t,n,i)}).then(function(n){return A(n,e,t,r)})}function A(t,n,i,r){return e.all([s(i),E(n,i)].concat(S(n,i))).then(function(e){var i=e[0],o=e[1],a=e[2],u=e[3];return t.forEach(function(e){switch(e.type){case l["default"].USCI:var t=a.visible&&r===f["default"].BUSINESS;Object.assign(e,{isVisible:t});break;case l["default"].CRN:var c=u.visible&&r===f["default"].BUSINESS;Object.assign(e,{isVisible:c});break;default:;Object.assign(e,{isVisible:o.visible&&p(i,r,n,"enableTaxDocumentTypeDropdown")})}}),t})}function h(t,n,i,r){var o=[];return n===c["default"].CHINA&&y(i)&&o.push(M(t,n,P)),O(i)&&o.push(M(t,n,R)),e.all(o).then(function(e){return r.map(function(t){return I(t,e)})})}function I(e,t){return{type:e.identifierType,isMandatory:N(e,t),isProvided:v(e)}}function v(e){return!!e&&!!e.identifierValue}function N(e,t){var n=e.identifierType;if(!D(n)){var i=t.find(function(e){return angular.isDefined(e.isMandatory)});return!!i&&i.isMandatory}var r=t.find(function(e){return angular.isDefined(e[n.toLowerCase()])});return!!r&&r[n.toLowerCase()]}function T(e){return e&&e.every(function(e){return e.identifierValue})}function M(e,n,i){return t.getSourceData(t.CI_KEYS[i],n).then(function(t){return t.find(function(t){return t.businessPartyRoleTypeCode===e})})}function y(e){return e.some(function(e){return D(e.customerFacingCode.value)})}function O(e){return e.some(function(e){return!D(e.customerFacingCode.value)})}function D(e){return[l["default"].USCI,l["default"].CRN].includes(e)}var P="CI1456_LIST_TAX_USCI_CRN_MANDATORY_FOR_DUTIABLE_SHP",R="CI1455_LIST_TAX_DOC_TYPE_MANDATORY_FOR_DUTIABLE_SHP";return{getApplicablePersonalData:n,getTaxFieldsConfigurations:s,getPersonalInformationConfigs:g,getDropdownConfig:E,areMandatoryFieldsMissing:C,isDataProvided:T,getConfigByRole:M,hasChinaFields:D,isTaxFieldAvailable:p,getTaxFieldsConfigurationsWithVatTaxIdCifs:d,isAllowedByVatTaxIdCif:m}}r.$inject=["$q","configService"],t.__esModule=!0,t["default"]=r;var o=n(94),a=i(o),u=n(4),c=i(u),s=n(397),l=i(s),d=n(45),f=i(d);r.NG_NAME="personalInformationService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({templateUrl:"personal-information.html",controller:o,controllerAs:"personalInformationCtrl",bindings:{personalInformationList:"<"+l,countryCode:"<"+l+"CountryCode",roleType:"<"+l+"RoleType",isRequired:"<"+l+"IsRequired",businessContactType:"<"+l+"BusinessContactType",fieldConfigs:"<?"+l+"FieldConfigs",mandatoryCheckCallback:"&?"+l+"MandatoryCheckCallback"}})}function o(e,t){"ngInject";function n(n){var i=n.countryCode,o=n.roleType,a=n.personalInformationList,u=n.businessContactType;(i||o||a||u)&&N.roleType&&N.countryCode&&e.all([t.getDropdownConfig(N.roleType,N.countryCode),f()]).then(function(e){var t=e[0].visible;N.isDropdownVisible=t,r()})}function i(){var e=I();if(e&&e.length){N.personalInformationList.some(function(e){return!t.hasChinaFields(e.identifierType)})||N.personalInformationList.push(angular.copy(T)),N.model=angular.copy(o(!1))}}function r(){return c()?void i():m()?(N.model=angular.copy(o(!0)),void delete N.model.isTaxDocumentVisible):(N.personalInformationList.splice(0,N.personalInformationList.length),void N.personalInformationList.push({isTaxDocumentVisible:!1}))}function o(e){return N.personalInformationList.length||N.personalInformationList.push(angular.copy(T)),e&&a(),N.mandatoryCheckCallback&&N.mandatoryCheckCallback(),v()}function a(){var e,n=N.personalInformationList.filter(function(e){var n=e.identifierType;return!t.hasChinaFields(n)});N.personalInformationList.splice(0,N.personalInformationList.length),(e=N.personalInformationList).push.apply(e,n)}function c(){return N.countryCode===u["default"].CHINA&&l()}function l(){return N.personalInformationTypes&&N.personalInformationTypes.some(function(e){return t.hasChinaFields(e.customerFacingCode.value)})}function d(){if(!N.isRequired)return!1;var e=N.fieldConfigs.find(function(e){return!t.hasChinaFields(e.type)});return!!e&&e.isMandatory&&!e.isProvided}function f(){return t.getApplicablePersonalData(N.roleType,N.countryCode).then(function(t){return N.personalInformationTypes=t,N.personalInformationTypes.length?p():(N.taxFieldsConfigurations=[],e.when())})}function p(){return t.getTaxFieldsConfigurations(N.countryCode).then(function(e){N.taxFieldsConfigurations=e})}function m(){return N.countryCode&&I().length&&N.isDropdownVisible&&_()}function _(){var e=s["default"].TAX_DOCUMENT_TYPE_FLAG;return t.isTaxFieldAvailable(N.taxFieldsConfigurations,N.businessContactType,N.roleType,e)}function E(){var e=v();return e&&e.identifierType&&(!N.isRequired||d())}function S(e){e&&(N.model.identifierValue="");var t=v();t&&Object.assign(t,N.model)}function g(){return N.personalInformationTypes.find(function(e){return e.customerFacingCode.value===N.model.identifierType})}function C(){if(!N.model.identifierValue.length)return!0;var e=g();return e&&e.registrationNumberRegex?new RegExp(e.registrationNumberRegex).test(N.model.identifierValue):N.model.identifierValue.length<=35}function A(){return""+N.model.identifierType+N.model.identifierValue}function h(){var e=g();return e&&e.registrationTypeName}function I(){return N.personalInformationTypes.filter(function(e){var n=e.customerFacingCode;return!t.hasChinaFields(n.value)})}function v(){return N.personalInformationList.find(function(e){return!t.hasChinaFields(e.identifierType)})}var N=this,T={identifierType:"",identifierValue:""};Object.assign(N,{personalInformationTypes:[],taxFieldsConfigurations:[],identifierType:"",model:{},isDropdownVisible:!1,$onChanges:n,isChinaFields:c,isPersonalIdentifierTypeRequired:d,isPersonalInformationDropdownVisible:m,isPersonalInformationInputVisible:E,onPersonalInformationChange:S,isIdentifierValueValidFormat:C,getValidationTrigger:A,getIdentifierValuePlaceholder:h,getPersonalInformationTypes:I})}r.$inject=["component"],o.$inject=["$q","personalInformationService"],t.__esModule=!0,t["default"]=r,t.PersonalInformationController=o;var a=n(4),u=i(a),c=n(396),s=i(c),l=r.NG_NAME="ewfPersonalInformation"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({templateUrl:"china-personal-information-inputs.html",controller:o,controllerAs:"chinaPersonalInformationInputsCtrl",bindings:{model:"<"+l,personalInformationTypes:"<"+l+"PersonalInformationTypes",isRequired:"<"+l+"IsRequired",countryCode:"<"+l+"CountryCode",roleType:"<"+l+"RoleType",businessContactType:"<"+l+"BusinessContactType",fieldConfigs:"<?"+l+"FieldConfigs",mandatoryCheckCallback:"&?"+l+"MandatoryCheckCallback"}})}function o(e,t){"ngInject";function n(e){var n=e.countryCode,r=e.roleType,o=e.businessContactType,a=e.model;(n||r||o||a)&&t.getPersonalInformationConfigs(M.roleType,M.countryCode).then(function(e){var t=e[0],n=e[1];M.isUsciVisible=t.visible,M.isCrnVisible=n.visible,(t.visible||n.visible)&&i()})}function i(){r(),o(),M.mandatoryCheckCallback&&M.mandatoryCheckCallback()}function r(){var e=I(u["default"].USCI);if(e&&e.identifierValue)return M.usci=e.identifierValue,void(e.isUsciAvailable=p());M.isUsciVisible&&(e||M.model.push(angular.copy(y)),M.usci="");var t=I(u["default"].USCI);t&&(t.isUsciAvailable=p())}function o(){var e=I(u["default"].CRN);if(e&&e.identifierValue)return M.crn=e.identifierValue,void(e.isCrnAvailable=m());M.isCrnVisible&&(e||M.model.push(angular.copy(O)),M.crn="");var t=I(u["default"].CRN);t&&(t.isCrnAvailable=m())}function a(e){if(!M.isRequired)return!1;var t=M.fieldConfigs.find(function(t){return t.type===e});return!!t&&t.isMandatory&&!t.isProvided}function c(e){return M.personalInformationTypes.find(function(t){return t.customerFacingCode.value===e})}function l(e){return f(e,"customerFacingCode")}function d(e){return f(e,"registrationTypeName")}function f(e,t){var n=c(e);return n?n[t]:""}function p(){return g(u["default"].USCI)}function m(){return g(u["default"].CRN)}function _(){return E(u["default"].CRN)}function E(e){return g(e)&&(!M.isRequired||a(e))}function S(){return E(u["default"].USCI)}function g(e){return A()&&C(e)&&!!c(e)}function C(e){return e===u["default"].USCI?M.isUsciVisible:M.isCrnVisible}function A(){return M.businessContactType===s["default"].BUSINESS}function h(e){(I(e)||{}).identifierValue=N(e)}function I(e){return M.model.find(function(t){return t.identifierType===e})}function v(e){var t=N(e);if(!t.length)return!0;var n=c(e);return n&&n.registrationNumberRegex?new RegExp(n.registrationNumberRegex).test(t):t.length<=35}function N(e){return e===u["default"].USCI?M.usci:M.crn}function T(e){return""+N(e)+e}var M=this,y={identifierType:u["default"].USCI,identifierValue:""},O={identifierType:u["default"].CRN,identifierValue:""};Object.assign(M,{$onChanges:n,isPersonalIdentifierValueRequired:a,getLabelForPersonalInformationType:l,getPlaceholderForPersonalInformationType:d,isUsciAvailable:p,isCrnAvailable:m,onValueChange:h,isIdentifierValueValidFormat:v,getValidationTrigger:T,isCrnInputVisible:_,isUsciInputVisible:S,isUsciVisible:!1,isCrnVisible:!1,usci:"",crn:""})}r.$inject=["component"],o.$inject=["$q","personalInformationService"],t.__esModule=!0,t["default"]=r,t.ChinaPersonalInformationInputsController=o;var a=n(397),u=i(a),c=n(45),s=i(c),l=r.NG_NAME="ewfChinaPersonalInformationInputs"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(i,r,u){function c(t){t?(d(),p&&n.scrollToSection(r),r.show(),f=e(function(){l(!1),f=null},o["default"].showInformationHintTimeout)):(r.hide(),f&&e.cancel(f))}function s(){return i.$eval(u[a])}function l(e){return t(u[a]).assign(i,e)}function d(){e(function(){return r.css("width",r.parent().width())},0)}var f=void 0;r.hide(),i.$watch(s,c);var p=i.$eval(u[a+"ScrollToElement"])}return{restrict:"A",link:i}}i.$inject=["$timeout","$parse","anchorScrollService"],t.__esModule=!0,t["default"]=i;var r=n(27),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfAlert"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{account:"="+u},controller:r,controllerAs:"alternateAccountCtrl",templateUrl:function(){function e(e,t){return t[u+"TemplateUrl"]||"common/widgets/alternate-account/alternate-account.html"}return e}()})}function r(){function e(){return!!t.account&&t.account.type===a["default"].ALTERNATE_DHLACCOUNT}var t=this;Object.assign(t,{isAlternateAccount:e})}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.AlternateAccountController=r;var o=n(6),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfAlternateAccount"},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"companyCtrl",templateUrl:"company-layout.html",scope:{selectedCompany:"="+a,onSelect:"="+a+"OnSelect"}}}t.__esModule=!0,t["default"]=i;var r=n(1494),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfCompany"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t){return e.getCompanySuggestions(t)}var n=this;Object.assign(n,{search:t})}i.$inject=["addressService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({bindings:{countryCodeWatch:"=?"+d+"Code",countryName:"=?"+d+"Name",countryCode:"<?"+d+"Code",disabled:"<?"+d+"Disabled",onSelect:"&?"+d+"OnSelect",required:"<?"+d+"Required",requiredMessage:"@?"+d+"RequiredMessage",notOriginatingBrazil:"<?"+d+"NotOriginatingBrazil",preventBlur:"<?"+d+"PreventBlur",countriesListSource:"<?"+d+"CountriesListSource",styleClass:"@?"+d+"StyleClass",placeholder:"@?"+d+"Placeholder",externalAqaId:"@?"+d+"AqaId",moveCurrentToTop:"@?"+d+"MoveCurrentToTop",countryOnTop:"<?"+d+"CountryOnTop",allowEmptyOnBlur:"@?"+d+"AllowEmptyOnBlur",iHelp:"@?"+d+"IHelp",inputId:"@?"+d+"InputId"},controller:o,controllerAs:"countryCtrl",templateUrl:function(){function e(e,t){return t[d+"TemplateUrl"]||"common/widgets/country/country.html"}return e}()})}function o(e,t,n){"ngInject";function i(){C.setCountryOnBlur=t.debounce(s,A),d(),C.inputStyleClass=C.styleClass||h,C.aqaId=C.externalAqaId||I}function r(t){var n=t.countriesListSource,i=t.countryCode,r=t.notOriginatingBrazil;n&&!n.isFirstChange()&&d();var o=r&&C.notOriginatingBrazil;i&&(m(C.countryCode),e(function(){return C.countryForm.validate()})),o&&C.countryCode===l["default"].BRAZIL&&m()}function o(e){u(e)&&T&&(g(),T=!1)}function u(e){var t=e.which||e.keyCode;return[c["default"].BACKSPACE,c["default"].DELETE].includes(t)}function s(){if(C.allowEmptyOnBlur&&(!C.countryName||!C.countryName.trim()))return void g();if(!T){if(!E(C.countryName)){var t=function(){var t=C.countryName;return p({}),e(function(){return C.countryName=t}),{v:void 0}}();if("object"===(void 0===t?"undefined":a(t)))return t.v}p(v.find(function(e){var t=e.name;return C.countryName&&t&&C.countryName.toLowerCase()===t.toLowerCase()}))}}function d(){n.getRetrieverBySource(C.countriesListSource)().then(f)}function f(e){v=e,"on"===C.moveCurrentToTop&&v.sort(function(e,t){return e.code2===C.countryOnTop?-1:t.code2===C.countryOnTop?1:0}),m(C.countryCode)}function p(t){C.onSelect&&C.countryCodeWatch!==t.code2&&C.onSelect({$item:t}),e(function(){return C.countryForm.validate()}),C.countryName=t.name,C.countryCodeWatch=t.code2,T=!0}function m(e){if(e){var t=v.find(function(t){return e===t.code2});C.countryName=t?t.name:e}else C.countryName=""}function _(e){var t=E(e),n=!(e&&e.trim());return!C.required&&n||!!(e&&C.countryCode&&t)}function E(e){var t=v.find(function(t){var n=t.name;return e===n});return t&&t.code2}function S(){return C.notOriginatingBrazil?(N&&N.length||(N=v.filter(function(e){return e.code2!==l["default"].BRAZIL})),N):v}function g(){C.countryName=C.countryCode="",delete C.countryCodeWatch}var C=this,A=200,h="input_width_full",I="country",v=[],N=[],T=!1;Object.assign(C,{$onInit:i,$onChanges:r,onCountrySelect:p,countryCodeValidator:_,getAvailableLocations:S,dropSelection:o})}r.$inject=["component"],o.$inject=["$timeout","debounceService","countriesRetrieverFactory"],t.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=r,t.CountryController=o;var u=n(132),c=i(u),s=n(4),l=i(s),d=r.NG_NAME="ewfCountry"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n,i,r,o){function a(){var e=i.find(".help-me-slider__slide"),t=e.get().map(function(e){return e.getBoundingClientRect().height});e.height(Math.max.apply(Math,t))}function u(){return i.find(".help-me-slider")}function c(){var e=u(),t=e[0]?e[0].getBoundingClientRect():{};o.detectPopupPosition(t)}function s(){return u().height()}function l(){return i[0].getBoundingClientRect().top}function d(){return i.offset().top}function f(){return"popup-"+Math.random().toString(36).substr(2,9)}o.setAdjustHeightFn(a),o.setSliderContainerGetter(u),o.setLinkOffsetTopGetter(l),o.setContainerHeightGetter(s),o.setLinkWindowOffsetTopGetter(d),e(function(){o.init(f()),t.bindFunctionOnScroll(c)})}return{restrict:"A",controllerAs:"cqPopupCtrl",controller:o["default"],scope:!0,link:{pre:n}}}i.$inject=["$timeout","windowService"],t.__esModule=!0,t["default"]=i;var r=n(1497),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfCqPopup"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(e){A.popupName=e,n.generatePopup(A.popupName)}function o(e){e&&(A.placeUnderLink=!1,t(a)),n.setPopupVisibility(A.popupName,e)}function a(){if(h&&h(),!(v()>=N()))return T()>N()?void i.scrollToElement(I()):void(A.placeUnderLink=!0)}function u(){return n.getPopupVisibility(A.popupName)}function c(e){return n.setSlideIndex(A.popupName,e)}function s(){n.prev(A.popupName)}function l(){n.next(A.popupName)}function d(e,t,i){n.addSlide(A.popupName,e,t,i)}function f(){return n.getSlides(A.popupName)}function p(e){return e===n.getSlideIndex(A.popupName)}function m(t){A.placeUnderLink=v()<N(),A.floatToLeft=t.left<(A.floatToLeft?t.width:0);var n=A.placeUnderLink!==M||A.floatToLeft!==y;M=A.placeUnderLink,y=A.floatToLeft,n&&e.$apply()}function _(e){h=e}function E(e){I=e}function S(e){v=e}function g(e){N=e}function C(e){T=e}var A=this;Object.assign(A,{popupName:"",init:r,setPopupVisibility:o,getPopupVisibility:u,setSlideIndex:c,addSlide:d,prev:s,next:l,getSlides:f,isSlideVisible:p,detectPopupPosition:m,setAdjustHeightFn:_,setSliderContainerGetter:E,setLinkOffsetTopGetter:S,setContainerHeightGetter:g,setLinkWindowOffsetTopGetter:C});var h=void 0,I=void 0,v=void 0,N=void 0,T=void 0,M=void 0,y=void 0}i.$inject=["$scope","$timeout","cqPopupService","anchorScrollService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){function e(e){s[e]={slideIndex:0,slides:[],visibility:!1}}function t(e){var t=s[e];++t.slideIndex>=t.slides.length&&(t.slideIndex=0)}function n(e){var t=s[e];--t.slideIndex<0&&(t.slideIndex=t.slides.length-1)}function i(e,t,n,i){(function(){return!!s[e].slides.find(function(e){return e.index===i})})()||s[e].slides.push({index:i,title:t,content:n})}function r(e){return s[e].slideIndex}function o(e,t){s[e].slideIndex=t}function a(e){return!!s[e]&&s[e].visibility}function u(e,t){s[e].visibility=t}function c(e){return s[e].slides}var s={};return{next:t,prev:n,addSlide:i,generatePopup:e,getSlideIndex:r,setSlideIndex:o,getPopupVisibility:a,setPopupVisibility:u,getSlides:c}}t.__esModule=!0,t["default"]=i,i.NG_NAME="cqPopupService"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){i.init(n[a+"Id"],n[a+"Persist"])}return{controllerAs:"criticalAlertCtrl",controller:o["default"],scope:!0,link:{pre:e}}}t.__esModule=!0,t["default"]=i;var r=n(1500),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfCriticalAlert"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n){r.alertId=t,r.persist="close-persist"===n,e.init()}function n(){r.persist||e.closeAlertPersist(r.alertId),r.closed=!0}function i(){return e.isAlertVisible(r.alertId)&&!r.closed}var r=this;Object.assign(r,{alertId:"",persist:!1,closed:!1,init:t,closeAlert:n,isAlertVisible:i})}i.$inject=["criticalAlertService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";function t(){e.closedAlerts=e.closedAlerts||[]}function n(t){e.closedAlerts.push(t)}function i(t){return!e.closedAlerts.includes(t)}return{init:t,closeAlertPersist:n,isAlertVisible:i}}i.$inject=["$sessionStorage"],t.__esModule=!0,t["default"]=i,i.NG_NAME="criticalAlertService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"datePickerSwitcherCtrl",bindings:{model:"="+u,label:"<"+u+"Label",isOptional:"<?"+u+"Optional",pickerDisabled:"<?"+u+"Disabled",isDateDisabled:"&?"+u+"DateDisabled",isMaxDateRestricted:"<?"+u+"MaxDateRestricted",minDate:"<?"+u+"MinDate",maxDate:"<?"+u+"MaxDate",buttonVisible:"<?"+u+"ButtonVisible"},templateUrl:"date-picker-switcher.html"})}function r(e,t,n,i,r){"ngInject";function o(){var n=t.find(S);e.opened=!1,m.isMaxDateRestricted&&(m.maxDate=new Date),n&&n.bind("click",l),s()&&u()}function u(){e.$watch(function(){return e.opened},c),e.$watch(function(){return m.selectedDate},d)}function c(e){var t=e?"visible":"hidden",i=e?"bind":"unbind";s().css("visibility",t),n[i]("click",f)}function s(){return t.find(E)}function l(){i(function(){return e.opened=!0},100)}function d(t){t&&(m.model=r.getFormattedDate(t,_),e.opened=!1)}function f(){e.$apply(function(){return e.opened=!1})}function p(e){var t=e.keyCode,n=e.which,r=n||t;[a["default"].DELETE,a["default"].BACKSPACE].includes(r)&&(m.model=null,i(f))}var m=this,_="yyyy-MM-dd",E=".datapicker-container",S=".open_datapicker";Object.assign(m,{$onInit:o,resetDate:p,openCalendar:l})}i.$inject=["component"],r.$inject=["$scope","$element","$document","$timeout","dateTimeService"],t.__esModule=!0,t["default"]=i,t.DatePickerSwitcherController=r;var o=n(132),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfDatePickerSwitcher"},function(e,t,n){"use strict";function i(){return{restrict:"C",controller:o["default"],controllerAs:"expandableLinkCtrl",scope:!0,templateUrl:"common/widgets/expandable-link/expandable-link.html",transclude:!0,link:function(){function e(e,t,n,i){var r=t.parent().get(0);i.title=r.getAttribute("title"),i.collapsed="true"!==r.getAttribute("open")}return e}()}}t.__esModule=!0,t["default"]=i;var r=n(1504),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="expandListTxt"},function(e,t,n){"use strict";function i(){"ngInject";function e(){t.collapsed=!t.collapsed}var t=this;Object.assign(t,{collapsed:!0,toggle:e})}t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e,t,n,i){var r=t.find("input"),o=t.parents("form")[0];u({$scope:e,$attrs:n,fileUploaderCtrl:i}),i.preloadCIconfig(),e.$watch(function(){return o.getAttribute("action")},function(e){i.onFormReady(d(o,e))}),r.on("click",function(t){return c({event:t,$scope:e,$attrs:n})}),r.on("change",function(t){return s({event:t,$scope:e,$attrs:n,fileUploaderCtrl:i})})}function r(e){var t=e.files,n=e.isSelectedFilesValid,i=e.$scope,r=e.fileUploaderCtrl;n&&!i.$eval(n,{files:t})||(r.onFilesReadyToUpload(t),i.$apply())}function u(e){var t=e.$scope,n=e.$attrs,i=e.fileUploaderCtrl;i.isMultiFileMode=n.hasOwnProperty(a+"MultiFileMode"),i.errorsAdtCiConfig=n[a+"ErrorsAdtCiConfig"],i.onUpload=function(e){return t.$eval(n[a+"OnUpload"],e)},i.onError=function(e){return t.$eval(n[a+"OnError"],e)}}function c(e){var t=e.event,n=e.$scope,i=e.$attrs,r=t.target;"file"===r.type&&(r.value="",n.$eval(i[a+"OnBeforeSelect"]))}function s(e){var t=e.event,n=e.$scope,i=e.$attrs,o=e.fileUploaderCtrl;n.$eval(i[a+"OnChange"]);var u=t.target;if("file"===u.type){var c=u.files||u.value,s=i[a+"IsSelectedFilesValid"];if(!n.$eval(i[a+"IsCharacterValidationNeeded"]))return void r({files:c,isSelectedFilesValid:s,$scope:n,fileUploaderCtrl:o});l({files:c,isSelectedFilesValid:s,$scope:n,fileUploaderCtrl:o})}}function l(e){var t=e.files,i=e.isSelectedFilesValid,o=e.$scope,a=e.fileUploaderCtrl,u=n.createAsyncValidator("inputCharactersValidator",{disableLocalLanguage:!0});u.validate(p(t)).then(function(e){if(!e){var n=["errors.common_msg_filename-character-error-message"],c=u.getMessageParams(),s={errors:n,errorDetails:c};return void a.onUploadError(s)}r({files:t,isSelectedFilesValid:i,$scope:o,fileUploaderCtrl:a})})}function d(e,t){var n=f(),i=/(^.*\??)/.exec(t),r=i[0],o=/(\?.*$)/.exec(t);return e.setAttribute("target",n.id),{form:e,frame:n,url:r,urlParameters:o?o[0]:""}}function f(){var t=Math.floor(99999*Math.random()),n=e.document,i=angular.element("<iframe></iframe>")[0];return i.setAttribute("id","file_uploader_frame_"+t),i.setAttribute("name","file_uploader_frame_"+t),i.style.display="none",n.body.appendChild(i),i}function p(e){return Array.from(e).reduce(function(e,t){return e+t.name},"")}return{restrict:"A",controller:o["default"],controllerAs:"fileUploaderCtrl",scope:!0,link:i}}i.$inject=["$window","$q","validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=n(1506),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfFileUploader"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(){I.errorsAdtCiConfig&&(o(),a(),u())}function o(){return i.getSourceData(i.CI_KEYS.CI0755_FILE_TYPES_ALLOWED_FOR_COMPANY_LOGO).then(function(e){T.fileFormat=e.map(function(e){return e.value}).join(", ")})}function a(){return i.getValue(i.CI_KEYS.CI0756_MAX_PIXELS_FOR_COMPANY_LOGO).then(function(e){var t=e.data.value;return T.pixelSize=t})}function u(){return i.getSourceData(i.CI_KEYS.CI0757_MAX_FILE_SIZE_FOR_COMPANY_LOGO).then(function(e){return T.fileSize=e})}function c(e){I.isMultiFileMode||(v.length=0),I.filesUploaded=!1,v.push.apply(v,g(e))}function s(e){N=e}function l(e){I.filesUploaded=!0,I.uploadStarted=!1,I.onUpload(e)}function d(e){I.uploadProgress=e}function f(){return v}function p(){v.length=0,I.uploadStarted=!1,I.filesUploaded=!1,I.uploadProgress=0}function m(){return f().length>0&&!I.filesUploaded}function _(e){I.filesUploaded=!1,I.uploadStarted=!0,N.formParams=e,(n.uploadAvailable()?n.uploadFiles(v,N):n.submitForm(N)).then(l,E,d)}function E(e){var t=S(e);I.filesUploaded=!1,I.uploadStarted=!1,I.onError(t)}function S(n){var i=function(n){return t(e.getTranslationSync(n),T)},r=n&&n.errors||[],o=n&&n.errorDetails||[];I.errorsAdtCiConfig&&(r=r.map(i));var a=n&&n.fieldErrors;return a&&Object.keys(a).forEach(function(e){var t;(t=r).push.apply(t,a[e])}),{errors:r,errorDetails:o,fieldErrors:a}}function g(e){return angular.isString(e)?C(e):I.isMultiFileMode?h(e):A(e)}function C(e){return[{name:e.replace(/^.*[\\\/]/,"")}]}function A(e){return[e[0]]}function h(e){return Array.from(e)}var I=this,v=[],N=void 0;Object.assign(I,{filesUploaded:!1,uploadStarted:!1,uploadProgress:0,errorsAdtCiConfig:"",onFilesReadyToUpload:c,onFilesUploaded:l,onProgress:d,onUploadError:E,getFilesList:f,clearFilesList:p,canShowFileList:m,uploadFiles:_,onFormReady:s,preloadCIconfig:r});var T={fileFormat:"",pixelSize:"",fileSize:""}}i.$inject=["nlsService","replaceFilter","fileUploaderService","configService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{formActionUrl:"@"+u+"Url",buttonText:"@?"+u+"ButtonText",buttonClass:"@?"+u+"ButtonClass",maxFileSizeCi:"@?"+u+"MaxFileSizeCi",pixelSizeCi:"@?"+u+"PixelSizeCi",downloadUrl:"@?"+u+"DownloadUrl",maxAmountMessage:"@?"+u+"MaxAmountMessage",maxSizeMessage:"@?"+u+"MaxSizeMessage",fileFormatsCi:"@?"+u+"FormatsCi",fileSizeFormat:"@?"+u+"FileSizeFormat",fileFormatsSrc:"<?"+u+"Formats",isImageUploader:"<?"+u+"ShowImages",maxFileNumber:"<?"+u+"MaxFileNumber",errors:"<"+u+"Errors",documents:"="+u+"Documents",generateFileName:"&?"+u+"FileNameGenerator",onUpload:"&?"+u+"OnUpload",onDelete:"&?"+u+"OnDelete"},controller:r,controllerAs:"fileUploaderWrapperCtrl",templateUrl:"/ng-template/common/widgets/file-uploader-wrapper-template.html"})}function r(e,t,n){"ngInject";function i(){r(),o(),c(),s()}function r(){g.maxFileNumber||e.getSourceData(e.CI_KEYS.CI1097_MAX_FILES_FOR_ASSIGNED_SHIPMENT).then(function(e){return g.maxFileNumber=e})}function o(){if(g.fileFormatsCi)return void e.getSourceData(e.CI_KEYS[g.fileFormatsCi]).then(u);g.fileFormatsSrc&&u(g.fileFormatsSrc)}function u(e){var t=angular.isArray(e)?e.map(function(e){return e.code}):e.replace(/ /g,"").split(",");g.fileFormats=t.join(),g.acceptableFileMimeTypes=t.map(function(e){return a["default"][e]}).join()}function c(){g.maxFileSizeCi&&e.getSourceData(e.CI_KEYS[g.maxFileSizeCi]).then(function(e){return g.maxFileSize=n(e,1024,g.fileSizeFormat||"KB")})}function s(){g.pixelSizeCi&&e.getSourceData(e.CI_KEYS[g.pixelSizeCi]).then(function(e){return g.pixelSize=e})}function l(e,t){g.documents=g.documents||[];var n=e.documents;if(n){var i;(i=g.documents).push.apply(i,n)}else g.documents.push(e);g.onUpload&&g.onUpload({file:e}),t()}function d(){return!!g.documents&&g.documents.length>=g.maxFileNumber}function f(e,t,n){g.errors=e,g.errorDetails=t&&t.length?t.reduce(function(e,t){return e[t.errorMessage]=t,e},{}):null,n()}function p(e){g.documents.splice(e,1),g.onDelete&&g.onDelete({$index:e})}function m(e){g.errors=null,g.errorDetails=null,e()}function _(e){return g.generateFileName?g.generateFileName({fileParameters:e}):e.fileName}function E(){var e,t=d();return g.buttonClass?(e={disabled:t},e[g.buttonClass]=!0,e):{disabled:t}}function S(e){return t.generateDownloadUrl(g.downloadUrl,e)}var g=this;Object.assign(g,{$onInit:i,handleAdditionalDocumentUploadSuccess:l,handleAdditionalDocumentUploadError:f,deleteAdditionalDocument:p,clearAdditionalDocumentUploadErrors:m,isMaxFileNumberExceeded:d,getFileName:_,getUploadButtonClasses:E,generateDownloadUrl:S})}i.$inject=["component"],r.$inject=["configService","fileUploaderService","fileSizeFilter"],t.__esModule=!0,t["default"]=i,t.FileUploaderWrapperController=r;var o=n(398),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfFileUploaderWrapper"},function(e,t,n){"use strict";function i(e,t,n,i,r,a,u){"ngInject";function c(n,i){var u=i.url,c=i.urlParameters,f=i.formParams,p=f===undefined?{}:f,m=e.defer(),_=new t.FormData;n.forEach(function(e,t){_.append("file"+t,e)}),Object.keys(p).forEach(function(e){_.append(e,p[e])});var E=d();return E.open("POST",""+u+c),l(E),E.onerror=function(e){return m.reject(e)},E.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;m.notify(t.toFixed())}},!0),E.onload=function(e){var t=e.target,n=s(t.response);return t.status===o["default"].OK?(m.notify(C),m.resolve(n)):t.status===o["default"].UNAUTHORIZED?(r.log("HTTP 401: Session Expired - redirect to login page"),a.redirectToLogin(),m.reject({errors:["errors.common_msg_session-timeout"]})):(r.error(n),m.reject(A[t.status]||n))},E.send(_),m.promise}function s(e){var t={errors:[]};try{t=angular.fromJson(e)}catch(n){e.length&&t.errors.push(e)}return t}function l(e){var t=u.get(i.defaults.xsrfCookieName);return t&&e.setRequestHeader(i.defaults.xsrfHeaderName,t),e}function d(){var e=void 0;if(t.XMLHttpRequest)e=new t.XMLHttpRequest;else if(t.ActiveXObject)try{e=new t.ActiveXObject("MSXML2.XMLHttp.3.0")}catch(n){e=new t.ActiveXObject("Microsoft.XMLHTTP")}return e}function f(){return!!t.FormData}function p(t){function i(){var e=m(this);if(e){if(r.notify(C),e.hasOwnProperty("errors"))return void r.reject(e);r.resolve(e)}}var r=e.defer(),o=angular.element(t.frame);return o.on("load",i),o.on("error",function(e){return r.reject(e)}),t.form.submit(),n(function(){r.notify(g)},0),r.promise}function m(e){try{if(e.contentDocument&&e.contentDocument.body&&"false"===e.contentDocument.body.innerHTML)return null}catch(i){return null}var t=e.contentDocument||e.contentWindow.document,n=t.body.textContent||function(e){var t=/(\{.*})/.exec(e);return t&&t[0]||null}(t.body.innerHTML);return angular.fromJson(n)}function _(e,t){var n=encodeURIComponent(t.fileName);return""+e+t.key+"?filename="+n+"&retentionType="+t.fileRetentionType}var E,S={uploadFiles:c,uploadAvailable:f,submitForm:p,generateDownloadUrl:_},g=37,C=100,A=(E={},E[o["default"].PAYLOAD_TOO_LARGE]={errors:["errors.common_msg_file-size-limit-exceeded"]},E);return S}i.$inject=["$q","$window","$timeout","$http","logService","sessionExpiredService","cookiesService"],t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="fileUploaderService"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){i.init()}return{restrict:"A",controller:o["default"],controllerAs:"globalModalCtrl",link:e}}t.__esModule=!0,t["default"]=i;var r=n(1510),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfGlobalModal"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(){var r=n.getParamFromUrl(o["default"].MODAL_MESSAGE_ID),u=a[r];u&&i.checkCurrentGroupIsAuthorized()["catch"](function(){return t.showDialog({scope:e,templateUrl:u})})}var a={creditStop:"/templates/modals/creditStop.html"},u=this;Object.assign(u,{init:r})}i.$inject=["$scope","modalService","pathService","userGroupsService"],t.__esModule=!0,t["default"]=i;var r=n(1),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"langselectorCtrl",templateUrl:"common/widgets/langselector/langselector.html",link:function(){function e(e,t,n,i){i.init()}return e}()}}t.__esModule=!0,t["default"]=i;var r=n(1512),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfLangselector"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){var e=n.getCountryLang(),i=e.countryId,r=e.langId,a=n.getPath();t.loadAvailableLanguages(a,i).then(function(e){o.availableLangs=e,o.currentLang=e.find(function(e){return e.id===r})})}function r(){var t=n.getCountryLang(),i=t.langId,r=o.currentLang;i!==r.id&&e.changeLang(r.id)}var o=this;Object.assign(o,{init:i,langChanged:r})}i.$inject=["manageCountryAndLanguageService","langselectorService","pathService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n,i){var r=n;return n.includes(".html")&&(r=n.substring(0,n.indexOf(".html"))),e.get("/services/dhl/nls/pagelangs?pagepath="+r+"&country="+i).then(function(e){return e.data})["catch"](function(e){var n=e.data;return t.reject(n)})}return{loadAvailableLanguages:n}}i.$inject=["$http","$q"],t.__esModule=!0,t["default"]=i,i.NG_NAME="langselectorService"},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:u["default"],controllerAs:"leavePagePopupCtrl",link:o}}function r(){return{canLeavePage:!1}}function o(e,t,n,i){var o=e.$eval(n[c]),a=angular.isFunction(o)?o:r,u=n[c+"MessageKey"],s=u?e.$eval(u):"";i.init(a,s)}t.__esModule=!0,t["default"]=i;var a=n(1515),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=i.NG_NAME="ewfLeavePagePopup"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(t,n){Object.assign(c,{leavePageCallback:t}),s=n||i.COMMON.COMMON_MSG_CONFIRM_LEAVE_PAGE,e.on("click","a",o)}function o(e){if(!angular.element(e.currentTarget).hasClass("ie8-typeahead-link")){c.leavePageCallback().canLeavePage||t.handleUserLeavingPage(e,a)}}function a(){return n.showConfirmationDialog({message:s,okButtonLabel:i.COMMON.COMMON_BUTTON_YES,cancelButtonLabel:i.COMMON.COMMON_BUTTON_NO})}var u=this,c={},s=void 0;Object.assign(u,{init:r})}i.$inject=["$document","navigationService","modalService","Messages"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){return{restrict:"A",scope:!0,controller:o["default"],controllerAs:"lightboxCtrl",link:function(){function e(e,t,n,i){t.on("click",function(e){e.preventDefault(),t.attr("aria-haspopup","dialog"),i.openLightboxPopup(n.href,t)})}return e}()}}t.__esModule=!0,t["default"]=i;var r=n(1517),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfLightbox"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(e,n){if(u.contentUrl=o(e),u.content)return void a(n);t.get(u.contentUrl).then(function(e){var t=e.data;u.content=t,a(n)})}function o(e){var t=e.indexOf(".html");return-1===t?e+".lightbox.html":e.substring(0,t)+".lightbox"+e.substring(t)}function a(t){n.showDialog({closeOnEsc:!0,scope:e,windowClass:"lightbox",templateUrl:"common/widgets/lightbox/lightbox.html"}).result["finally"](function(){i.focusWithDelay(t)})}var u=this;Object.assign(u,{content:"",openLightboxPopup:r})}i.$inject=["$scope","$http","modalService","delayedFocusService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"locationSelectorCtrl",link:function(){function e(e,t,n,i){i.init(JSON.parse(n[a]))}return e}()}}t.__esModule=!0,t["default"]=i;var r=n(1519),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfLocationSelector"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(r){f.countries=r,f.currentLocation=n.getStoredCountry();var c=r.find(function(e){return e.code===f.currentLocation});if(f.searchKeyword=c&&c.name,f.currentLocation&&l().then(function(){e[o["default"].LOGGED_IN_AT_LEAST_ONCE]&&c.newLook&&!i.isAuthorized()?t.redirectToLogin(f.currentLocation,f.defaultLanguage):t.redirectToCountryUrl(c.url)}),f.locationForm){var s=f.locationForm.searchKeyword;s.$parsers.unshift(a),s.$parsers.push(u)}}function a(e){var t=e||p;return f.locationForm.searchKeyword.$viewValue=t,t}function u(e){return e===p?"":e}function c(){f.currentLocation&&(n.saveCountry({code2:f.currentLocation}),t.redirectToCountryUrl(f.url))}function s(e){f.currentLocation=e.code,f.searchKeyword=e.name,f.url=e.url,n.saveCountry({code2:f.currentLocation}),l()}function l(){return n.getDefaultLanguage(f.currentLocation).then(function(e){f.defaultLanguage=e})}function d(e){if(!e||!e.trim())return f.countries;var t=e.toLowerCase();return f.countries.filter(function(e){return e.name.toLowerCase().startsWith(t)})}var f=this,p=" ";Object.assign(f,{locationForm:null,currentLocation:null,defaultLanguage:null,searchKeyword:null,init:r,saveLocation:c,selectLocation:s,searchLocations:d})}i.$inject=["$localStorage","navigationService","locationDefaultCountryService","userService"],t.__esModule=!0,t["default"]=i;var r=n(24),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"<"+c,maxAmount:"<"+c+"MaxAmount",phoneRequired:"<?"+c+"Required",addButtonHidden:"<?"+c+"AddButtonHidden",onRemove:"&?"+c+"OnRemove",skipValidateBeforeFormatting:"<?"+c+"SkipValidateBeforeFormatting",ignorePhoneCodeValidation:"<?"+c+"IgnorePhoneCodeValidation",isDisabled:"<?"+c+"IsDisabled"},controller:r,controllerAs:"multiPhoneCtrl",templateUrl:"common/widgets/phone/multi-phone-template.html"})}function r(){function e(){E.model&&(E.model[S]||(E.model[S]=(0,u.createEmptyPhoneDetails)()),d().forEach(function(e){t(e)>E.maxAmount&&(E.model[e]=null)}))}function t(e){return+e.substr(-1)||0}function n(e){return(E.phoneRequired||!!m()&&p())&&e===_()}function i(){return!E.addButtonHidden&&d().length<E.maxAmount}function r(){return d().length>1}function o(e){return e.$invalid||c()||!!E.isDisabled}function c(){return Object.values(f()).some(function(e){return e&&!e.phone})}function s(){var e=d().length+1;E.model[S+e]={}}function l(){E.model[S+d().length]=null,E.onRemove&&E.onRemove()}function d(){return Object.keys(E.model).filter(function(e){return e.startsWith(S)&&E.model[e]})}function f(){return d().reduce(function(e,t){var n;return Object.assign(e,(n={},n[t]=E.model[t],n))},{})}function p(){return!d().find(function(e){return E.model[e].phoneType!==a["default"].FAX&&E.model[e].phone})}function m(){return d().find(function(e){return E.model[e].phoneType===a["default"].FAX})}function _(){var e=d().find(function(e){return E.model[e].phoneType!==a["default"].FAX});if(!e)return 0;var n=t(e);return n>0?n-1:0}var E=this,S="phoneDetails";Object.assign(E,{isPhoneRequired:n,isAddButtonVisible:i,isRemoveButtonVisible:r,isAddButtonDisabled:o,addPhone:s,removePhone:l,getPhoneDetailsList:f,$doCheck:e})}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.MultiPhoneController=r;var o=n(109),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=n(390),c=i.NG_NAME="ewfMultiPhone"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"<"+u,form:"<"+u+"Form"},controller:r,controllerAs:"multiPhoneValidationErrorCtrl",templateUrl:"common/widgets/phone/multi-phone-validation-error-template.html"})}function r(){function e(){n.onlyFaxSelected=Object.keys(n.model).filter(function(e){return e.startsWith(i)}).filter(function(e){return!!n.model[e]}).every(function(e){return n.model[e].phoneType===a["default"].FAX}),t()}function t(){n.form.$setValidity("only-fax-selected",!n.onlyFaxSelected)}var n=this,i="phoneDetails";Object.assign(n,{onlyFaxSelected:!1,$doCheck:e})}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.MultiPhoneValidationErrorController=r;var o=n(109),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfMultiPhoneValidationError"},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"paymentTypeListCtrl",templateUrl:"dhl-payment-type-list.html",link:function(){function e(e,t,n,i){var r=n[a+"Background"];i.init(r)}return e}()}}t.__esModule=!0,t["default"]=i;var r=n(1523),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfPaymentTypeList"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t){e.fetchOnlinePaymentOptions(t).then(function(e){var t=e.filter(function(e){return e.paymentProductLogo.content}),n=t.every(function(e){var t=e.sortingOrder;return angular.isDefined(t)});r.paymentTypeList=n?t.sort(function(e,t){return e.sortingOrder-t.sortingOrder}):t})}function i(e){var n=e.mimeType,i=e.content;return t.toBase64String(n,i)}var r=this;Object.assign(r,{init:n,generateBase64Image:i,paymentTypeList:null})}i.$inject=["paymentResource","base64Service"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"phoneCtrl",bindings:{phone:"<"+u,address:"="+u+"Address",phoneRequired:"<?"+u+"Required",skipValidateBeforeFormatting:"<?"+u+"SkipValidateBeforeFormatting",v2:"<?"+u+"V2",ignorePhoneCodeValidation:"<?"+u+"IgnorePhoneCodeValidation",isDisabled:"<?"+u+"IsDisabled"},templateUrl:function(){function e(e,t){return t[u+"Mobile"]?"common/widgets/phone/mobile-phone-template.html":"common/widgets/phone/phone-template.html"}return e}()})}function r(e){"ngInject";function t(){e.getSourceData(e.CI_KEYS.CI1048_DEFAULT_PHONE_TYPE).then(function(e){return s=e||a["default"].OTHER})["catch"](function(){return s=a["default"].OTHER})}function n(e){return c.phone.phoneType===e}function i(){return n(a["default"].OFFICE)}function r(){return i()?c.v2?"col-6":"col-7":"col-9"}function o(){return n(a["default"].MOBILE)}function u(){c.address=c.address||{},c.phone=c.phone||{},c.phone.phoneType=c.phone.phoneType||s}var c=this,s=void 0;Object.assign(c,{phone:{},address:{},$onInit:t,$doCheck:u,isOfficePhone:i,isMobilePhone:o,getPhoneWidthClass:r})}i.$inject=["component"],r.$inject=["configService"],t.__esModule=!0,t["default"]=i,t.PhoneController=r;var o=n(109),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfPhone"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"<"+o,countryBanner:"<"+o+"CountryBanner",phoneCountryCode:"<"+o+"PhoneCountryCode",defaultCountryCode:"<?"+o+"DefaultCountryCode",isPhoneRequired:"<?"+o+"Required",hideFieldLabel:"<?"+o+"HideFieldLabel",onPhoneBlur:"&?"+o+"OnPhoneBlur",skipValidateBeforeFormatting:"<?"+o+"SkipValidateBeforeFormatting",v2:"<?"+o+"V2",ignorePhoneCodeValidation:"<?"+o+"IgnorePhoneCodeValidation",isDisabled:"<?"+o+"IsDisabled"},controller:r,controllerAs:"phoneCodeCtrl",templateUrl:function(){function e(e,t){return t[o+"TemplateUrl"]||"common/widgets/phone-code/phone-code.html"}return e}()})}function r(e,t){"ngInject";function n(){E.hideFieldLabel=E.hideFieldLabel||E.v2,e.loadAvailableLocations().then(function(e){E.availableLocations=e,f()})}function i(e){var t=e.model,n=e.defaultCountryCode,i=e.countryBanner,a=e.phoneCountryCode;(t||n)&&E.defaultCountryCode&&r(),i&&E.model.countryBanner&&d(),a&&o()}function r(){E.model.phoneCountryCode&&E.model.phone?o():(E.model.countryBanner=E.defaultCountryCode,f())}function o(){E.model.phoneCountryCode&&E.model.phone&&!E.model.countryBanner&&(E.model.countryBanner=t.getCountryForNumber("+"+E.model.phoneCountryCode+E.model.phone)||(E.availableLocations.find(l)||{}).code2)}function a(){var e=E.availableLocations.find(function(e){return e.code2===E.model.countryBanner});return e&&e.phoneCode===E.phoneCountryCode}function u(){if(_()&&!a()){s(E.availableLocations.find(l))}}function c(){return""+E.model.phoneCountryCode+E.ignorePhoneCodeValidation}function s(e){e.code2!==E.model.countryBanner&&(E.model.phone="",E.model.phoneCountryCode=e.phoneCode,E.model.countryBanner=e.code2)}function l(e){return e.phoneCode===E.phoneCountryCode}function d(){t.getPhoneMaskByCountryCode(E.model.countryBanner,null,"?9").then(function(e){return E.phoneMask=e})}function f(){if(E.model.countryBanner){var e=function(e){return e.code2===E.model.countryBanner},t=E.availableLocations.find(e)||{phoneCode:""};E.model.phoneCountryCode=t.phoneCode}else{var n=E.availableLocations.find(l);E.model.countryBanner=n&&n.code2}}function p(){E.model.phoneCountryCode||(E.model.countryBanner="",E.phoneMask="",E.model.phone="")}function m(e){var n="+"+E.model.phoneCountryCode+e;return E.ignorePhoneCodeValidation||!e||t.isValidNumber(n)}function _(){return E.ignorePhoneCodeValidation||E.availableLocations.some(l)}var E=this;Object.assign(E,{availableLocations:[],$onInit:n,$onChanges:i,onSelect:s,clearCountryCode:p,validatePhoneNumber:m,validateCountryCode:_,setCountryCodeOnBlur:u,getPhoneNumberValidationTrigger:c})}i.$inject=["component"],r.$inject=["locationService","phoneFormatService"],t.__esModule=!0,t["default"]=i,t.PhoneCodeController=r;var o=i.NG_NAME="ewfPhoneCode"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{phone:"="+o,countryBanner:"<"+o+"CountryBanner",isPhoneValid:"<"+o+"IsPhoneValid",ignorePhoneCodeValidation:"<?"+o+"Ignored"},controller:r,controllerAs:"phoneMaxLengthAlertCtrl",templateUrl:"common/widgets/phone-code/phone-max-length-alert.html"})}function r(e){"ngInject";function t(e){var t=e.countryBanner,i=e.isPhoneValid;t&&u.countryBanner?a().then(function(){return n(i)}):n(i)}function n(e){if(u.phoneMaxLengthAlertVisible)return void(e&&u.isPhoneValid&&u.phone&&(u.phoneMaxLengthAlertVisible=!1));u.phone&&u.phoneMask&&(u.phoneMaxLengthAlertVisible=r()),u.phoneMaxLengthAlertVisible&&(u.originalPhoneNumber=u.phone,i())}function i(){u.phone=""}function r(){var e=o(u.phoneMask).length;return!(u.ignorePhoneCodeValidation||!e||!u.phone)&&u.phone.length>e}function o(e){return e.replace(/\D/g,"")}function a(){return e.getPhoneMaskByCountryCode(u.countryBanner,null,"?9").then(function(e){return u.phoneMask=e})}var u=this;Object.assign(u,{$onChanges:t,phoneMaxLengthAlertVisible:!1,originalPhoneNumber:""})}i.$inject=["component"],r.$inject=["phoneFormatService"],t.__esModule=!0,t["default"]=i,t.PhoneMaxLengthAlertController=r;var o=i.NG_NAME="ewfPhoneMaxLengthAlert"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{phone:"<"+o,phoneInput:"<"+o+"Input"},controller:r,controllerAs:"phoneInvalidAlertCtrl",templateUrl:"common/widgets/phone-code/phone-invalid-alert.html"})}function r(){"ngInject";function e(e){e.phone&&(n.originalPhone=n.phone)}function t(){return!!(n.originalPhone&&n.originalPhone.length&&n.phoneInput&&n.phoneInput.$invalid&&n.phoneInput.$pristine)}var n=this;Object.assign(n,{phoneInvalidAlertVisible:t,$onChanges:e})}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.PhoneInvalidAlertController=r;var o=i.NG_NAME="ewfPhoneInvalidAlert"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"="+o,onSelect:"&?"+o+"OnSelect",onPostalCodeBlur:"&?"+o+"OnBlur",countryCode:"<"+o+"CountryCode",countryDivisionName:"<"+o+"CountryDivisionName",searchAddressBook:"<?"+o+"SearchAddressBook",searchInAddress:"<?"+o+"SearchInAddress",isAutocompleteDisabled:"=?"+o+"DisableAutocomplete",isDisabled:"=?"+o+"Disabled",isPostalLocationValid:"&?"+o+"PostalLocationValid",postalLocationValidity:"<?"+o+"PostalLocationFlag",isFocused:"=?"+o+"IsFocused",zipOrPostalEnabled:"=?"+o+"ZipOrPostalEnabled",city:"<?"+o+"City",isCityLimitedSearch:"<?"+o+"IsCityLimitedSearch",isPostalSearchSuccess:"=?"+o+"Validity",isCitySearchSuccess:"=?"+o+"CityValidity",isPostalSelected:"=?"+o+"Selected",isPostalCodeLabelHidden:"<?"+o+"LabelHidden",v2:"<?"+o+"V2",selectedCorrectBrazilCity:"<?"+o+"SelectedCorrectBrazilCity",ignorePostalValidation:"<?"+o+"IgnorePostalValidation"},controller:r,controllerAs:"postalCodeCtrl",templateUrl:function(){function e(e,t){return t[o+"Mobile"]?"mobile-postal-code-field.html":"postal-code-field.html"}return e}()})}function r(e,t,n){"ngInject";function i(){r(!0),D.isPostalCodeLabelHidden=D.isPostalCodeLabelHidden||D.v2,t.preLoadPostalCodeMasks(),n.getZipOrPostalMinLengthAndMandatority(D.countryCode).then(function(e){var t=e.mandatory,n=e.minLength;b=t,R=n})}function r(e){D.isPostalSearchSuccess=D.isCitySearchSuccess=e}function o(e){e.countryCode&&(u(),T())}function a(){return""+D.isPostalLocationValid()+D.isPostalSearchSuccess+D.isPostalSelected}function u(){if(!D.countryCode)return void(D.zipOrPostalEnabled=!1);t.getZipOrPostalAvailability(D.countryCode).then(function(e){D.zipOrPostalEnabled=e})}function c(e){return!D.countryCode||D.isAutocompleteDisabled?[]:s(e).then(l)["catch"](d)}function s(e){if(D.isPostalSelected=!1,D.isCityLimitedSearch)return n.getLocationSuggestions(D.countryCode,e);var t=g(e);return D.searchInAddress?n.getConfiguredAddressSuggestions({country:D.countryCode,query:t,isAddressBookSearch:D.searchAddressBook,isAmsSearch:D.addressSuggestionsEnabled,searchBy:"postalCode"}):n.addressSearchByZipCode(D.countryCode,t)}function l(e){return D.lastSearchResults=e,r(!0),e}function d(){r(!1)}function f(e,t){return D.ignorePostalValidation||p(e)||m(e)||_(t)}function p(e){return e&&e.length<R}function m(e){return""===e&&!b}function _(e){return D.isPostalSelected||(D.isPostalSearchSuccess||D.selectedCorrectBrazilCity)&&e&&D.isPostalLocationValid()}function E(){r(angular.isUndefined(D.lastSearchResults)?D.isPostalSearchSuccess:S())}function S(){var e=g(D.model);return D.lastSearchResults.some(function(t){var n=t.postalCode;return e.startsWith(g(n))})}function g(e){var t=/[^a-z0-9]/gi;return e&&e.replace(t,"").toUpperCase()}function C(){A()}function A(){P=t.isPostalCodeMatchFormat(D.countryCode,D.model)?D.model:null}function h(e){return D.validPostalCodeMask=t.getValidPostalCodeMask(e,D.countryCode),!!D.validPostalCodeMask}function I(){D.isFocused=!0}function v(){D.model&&E(),D.isFocused=!1;var e=g(D.model),t=N(e);t&&-1!==t&&(D.model=e.slice(0,t)+" "+e.slice(t)),D.postalCodeMask=D.validPostalCodeMask,D.onPostalCodeBlur&&D.onPostalCodeBlur()}function N(e){var t=M()[D.countryCode].find(function(t){return t.regexpMask.test(e)});return t&&t.exampleMask.indexOf(" ")}function T(){if(!D.countryCode)return void(D.addressSuggestionsEnabled=!1);n.isAddressSuggestionEnabled(D.countryCode).then(function(e){D.addressSuggestionsEnabled=e})}function M(){return t.postalCodeMasksList}function y(t){var n=t.$item;D.isPostalSelected=!0,E(),O(n)&&(n.postalCode=P),e(function(){D.onSelect({$item:n})})}function O(e){return P&&!t.isPostalCodeMatchFormat(D.countryCode,e.postalCode)}var D=this,P=void 0,R=void 0,b=void 0;Object.assign(D,{$onInit:i,$onChanges:o,getZipCodes:c,validatePostalCode:h,onPostalCodeUpdate:C,onFocus:I,onBlur:v,getFormats:M,onPostalCodeSelect:y,validatePostal:f,triggerValidation:a,postalCodeMask:"",validPostalCodeMask:"",longestPostalCodeMask:"",addressSuggestionsEnabled:!1})}i.$inject=["component"],r.$inject=["$timeout","postalCodeService","addressService"],t.__esModule=!0,t["default"]=i,t.PostalCodeController=r;var o=i.NG_NAME="ewfPostalCode"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"="+o,onSuburbSelect:"&?"+o+"OnSelect",onSuburbBlur:"&?"+o+"OnBlur",countryCode:"<"+o+"CountryCode",city:"="+o+"City",postalCode:"<?"+o+"PostalCode",isPostalLocationValid:"&?"+o+"PostalLocationValid",postalLocationValidity:"<?"+o+"PostalLocationFlag",isFocused:"=?"+o+"IsFocused",disabled:"<?"+o+"Disabled",isZipCodeLimitedSearch:"<?"+o+"IsZipCodeLimitedSearch",isCityLimitedSearch:"<?"+o+"IsCityLimitedSearch",isSuburbSearchSuccess:"=?"+o+"Validity",isSuburbSelected:"=?"+o+"Selected",isSuburbLabelHidden:"<?"+o+"LabelHidden",v2:"<?"+o+"V2"},controller:r,controllerAs:"suburbCtrl",templateUrl:function(){function e(e,t){return t[o+"Mobile"]?"mobile-suburb-field.html":"suburb-field.html"}return e}()})}function r(e,t,n){"ngInject";function i(){m.isSuburbLabelHidden=m.isSuburbLabelHidden||m.v2,m.isSuburbSearchSuccess=!0}function r(t){return m.countryCode?(m.isSuburbSearchSuccess=!1,o(t).then(a)["catch"](u)):e.when([])}function o(e){if(m.isSuburbSelected=!1,m.isZipCodeLimitedSearch||m.isCityLimitedSearch){var t=m.isZipCodeLimitedSearch?m.postalCode:null,i=m.isCityLimitedSearch?m.city:null;return n.getLocationSuggestions(m.countryCode,t,e,i)}return n.addressSearchBySuburb(m.countryCode,e)}function a(e){return m.lastSearchResults=e,m.isSuburbSearchSuccess=!0,e}function u(){m.isSuburbSearchSuccess=!1}function c(){return t(function(){return m.isSuburbSearchSuccess&&m.isPostalLocationValid()||m.isSuburbSelected})}function s(){m.isSuburbSearchSuccess=!l()}function l(){var e=m.model.toLowerCase();return m.lastSearchResults&&!m.lastSearchResults.some(function(t){return t.suburb.toLowerCase()===e})}function d(e){var t=e.suburb,n=e.city;m.isSuburbSelected=!0,m.isSuburbSearchSuccess=!0,m.model=t,m.city=n}function f(){m.isFocused=!1,t(function(){m.model&&!m.isSuburbSelected&&(s(),m.onSuburbBlur&&m.onSuburbBlur())},_)}function p(){m.isFocused=!0}var m=this,_=500;Object.assign(m,{$onInit:i,searchSuburb:r,onSelect:d,onFocus:p,onBlur:f,validateSuburb:c})}i.$inject=["component"],r.$inject=["$q","$timeout","addressService"],t.__esModule=!0,t["default"]=i,t.SuburbController=r;var o=i.NG_NAME="ewfSuburb"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e){return t.all([n.getFormField(n.CI_KEYS.CIF0241_POSTAL_CODE,e),n.getFormField(n.CI_KEYS.CIF0452_ZIP,e)]).then(function(e){var t=e[0],n=e[1];return t.visible||n.visible})}function r(){return e.get("/api/location/postal-codes-formats",{cache:!0}).then(function(e){var t=e.data;return Object.keys(t).forEach(function(e){_.postalCodeMasksList[e]=t[e].map(o)}),_.postalCodeMasksList})}function o(e){var t=e.split(""),n=a(e),i=t.map(function(e){return u(e,n)}),r=t.map(function(e){return m[e]||e+"?"}),o=r.join("");return{mask:i.join(""),regexpMask:new RegExp("^"+o+"$"),exampleMask:e}}function a(e){return e.includes(f)&&e.includes(p)}function u(e,t){var n=t&&[f,p].includes(e)?"*":e;return m[n]?"?"+n:n}function c(e,t){var n=void 0;return e&&function(){var i=e.replace(/[\W_]/g,""),r=l(t);n=r.find(function(e){return e.regexpMask.test(i)})}(),n?n.mask:""}function s(e,t){if(!t)return!1;var n=t.replace(/[\W_]/g,"");return l(e).some(function(e){return e.regexpMask.test(n)})}function l(e){return _.postalCodeMasksList[e]||[]}var d,f="A",p="9",m=(d={},d["*"]="[a-zA-Z0-9]",d[p]="\\d",d[f]="[a-zA-Z]",d),_={postalCodeMasksList:{},preLoadPostalCodeMasks:r,getValidPostalCodeMask:c,getZipOrPostalAvailability:i,isPostalCodeMatchFormat:s};return _}i.$inject=["$http","$q","configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="postalCodeService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{progress:"<"+r,hideCounter:"<?"+r+"HideCounter",additionalClass:"<?"+r+"AdditionalClass"},controllerAs:"progressBarCtrl",templateUrl:"common/widgets/progress-bar/progress-bar.html"})}i.$inject=["component"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfProgressBar"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){i.searchType=n[a+"Type"],i.fieldName=n[a+"Field"],i.isCountryFieldHidden=!!n[a+"CountryCode"],i.isCategoryDroppedOnInit=!!n[a+"DropCategory"],i.searchPriority=e.$eval(n[a+"Priority"]),i.isFrontEndSearch=e.$eval(n[a+"IsFrontEndSearch"]),i.onSearchCallback=function(t){return e.$eval(n[a+"Callback"],t)};var r={countryCode:a+"CountryCode",collection:a+"Collection",isGlobalMail:a+"GlobalMail",frontEndSearchData:a+"FrontEndSearchData",searchPriority:a+"SearchPriority",isReturnLabel:a+"IsReturnLabel",isStandalonePickup:a+"IsStandalonePickup",shouldSearchAllCollection:a+"ShouldSearchAllCollection",uiDefinedSortingParameter:a+"UiDefinedSortingParameter",countryToExclude:a+"CountryToExclude"};Object.entries(r).forEach(function(t){var r=t[0],o=t[1];e.$watch(function(){return e.$eval(n[o])},function(e){i[r]=e})}),i.init()}return{restrict:"A",controller:o["default"],controllerAs:"ewfSearchCtrl",link:{pre:e}}}t.__esModule=!0,t["default"]=i;var r=n(1533),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfSearch"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i){"ngInject";function r(){D.fields=i.getGeneratedSearchFields(D.isCountryFieldHidden),D.isCategoryDroppedOnInit&&(D.searchCategory=P)}function a(e,t,n){var i={pageNumber:0,pageSize:n};return D.isFrontEndSearch?c():p(e,t,{pageParams:i})}function c(){var e=M(D.searchCategory),t=y(D.plainSearchQuery),n=e===P?Object.values(l.FIELD_NAMES):[e],i=d(n,t,D.frontEndSearchData);return D.onSearchCallback({$data:i,totalItems:i.length,onPlainSearchChangePage:c})}function d(e,t,n){return n.filter(function(n){return e.some(function(e){var i=n[l.FIELD_NAMES_MAP[e]];return i&&i.toLowerCase().includes(t.toLowerCase())})})}function p(e,t,n){var r=n.pageParams,o=n.uiDefinedSortingParameter,a=M(D.searchCategory),u=y(D.plainSearchQuery),c={searchQuery:u,searchCategory:a,collectionType:e,countryCode:t,pageParams:r,uiDefinedSortingParameter:o||D.uiDefinedSortingParameter||{}},s=m(c);return i.searchByUrl(s).then(function(n){var r=n.results,o=n.totalItems,a=i.filterSearchResultsByCountry(r,D.countryToExclude);D.plainSearchQuery=a.length?D.plainSearchQuery:"";var u=function(n){return p(e,t,n)};return D.onSearchCallback({$data:a,totalItems:o,onPlainSearchChangePage:u})})}function m(e){var t=e.searchQuery,n=e.searchCategory,i=e.collectionType,r=e.countryCode,a=e.pageParams,u=e.uiDefinedSortingParameter,c=angular.isString(r)?r:null,s=o({direction:i,countryCode:c,sortingParameters:[u]},a),l=["default",n];return N(s,"keyword",t),h(s,l)}function _(n){if(!1===n.isSearchAddressBook)return e.when([]);var i=M(n.category)||P;return E(i)?e.when([]):S(n)?t.getFavoritesList(n.fromOrTo):g(n,i)}function E(e){return e===l.FIELD_NAMES.COMPANY&&!n.isAuthorized()||D.isFrontEndSearch}function S(e){return!e.enteredValue&&e.fromOrTo&&n.isAuthorized()}function g(e,t){e.collectionType=D.isStandalonePickup?null:e.collectionType||u["default"].SHIP_BOTH;var n=y(e.query),r=C(n,t,e);return i.searchByUrl(r).then(function(e){return T(e,n)})}function C(e,t,n){var i=n.collectionType,r=n.countryCode,o={direction:i,sortingParameters:[],countryCode:r},a=encodeURIComponent(e),u=[D.searchType||"default","typeahead",a];return N(o,"searchParameter",A(t)),h(o,u,!0)}function A(e){return e===l.FIELD_NAMES.NAME?[e,l.FIELD_NAMES.NICK_NAME,l.FIELD_NAMES.COMPANY]:e===l.FIELD_NAMES.COMPANY?[e,l.FIELD_NAMES.NICK_NAME]:e}function h(e,t,n){return i.getSearchUrl(e,t,{isGlobalMail:D.isGlobalMail,collection:I(n,e.direction),searchPriority:v()})}function I(e,t){return e&&D.shouldSearchAllCollection&&t===u["default"].SHIP_TO?{collection:f["default"].ALL}:D.collection}function v(){return D.isReturnLabel&&D.searchPriority}function N(e,t,n){n&&(e[t]=n)}function T(e,t){if(!e.results)return[];var n=i.filterSearchResultsByCountry(e.results,D.countryToExclude,!0);return i.mapTypeaheadResults(n,t,D.fields)}function M(e){return e||D.fieldName}function y(e){return e===R?"":e}function O(){return R}var D=this,P="all",R=s["default"];Object.assign(D,{fields:[],plainSearchQuery:"",init:r,getTestKeyForOnFocusSearch:O,plainSearch:a,typeAheadSearch:_})}r.$inject=["$q","addressService","userService","searchService"],t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t["default"]=r;var a=n(34),u=i(a),c=n(435),s=i(c),l=n(898),d=n(62),f=i(d)},function(e,t,n){"use strict";function i(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function r(e,t,n,r){"ngInject";function a(e){var t=s([[c.FIELD_NAMES.NAME,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_CONTACT_NAME],[c.FIELD_NAMES.NICK_NAME,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_NICKNAME],[c.FIELD_NAMES.COMPANY,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_COMPANY_NAME],[c.FIELD_NAMES.ADDRESS1,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_ADDRESS],[c.FIELD_NAMES.ADDRESS2,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_ADDRESS_2],[c.FIELD_NAMES.ADDRESS3,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_ADDRESS_3],[c.FIELD_NAMES.CITY,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_CITY],[c.FIELD_NAMES.POSTAL_CODE,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_ZIP],[c.FIELD_NAMES.SUB_URB,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_SUBURB],[c.FIELD_NAMES.STATE_PROVINCE,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_STATE_PROVINCE],[c.FIELD_NAMES.COUNTRY,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_COUNTRY],[c.FIELD_NAMES.EMAIL_ADDRESS,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_EMAIL_ADDRESS],[c.FIELD_NAMES.PHONE,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_PHONE],[c.FIELD_NAMES.VAY_TAX_ID,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_VAT],[c.FIELD_NAMES.MATCH_CODE,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_MATCH_CODE],[c.FIELD_NAMES.ADDITIONAL_NOTES,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_ADDITIONAL_NOTES],[c.FIELD_NAMES.REFERENCE_NAME,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_SHIPPING_REFERENCE]]);if(e){var n=t.find(function(e){return e.name===c.FIELD_NAMES.COUNTRY});t.splice(t.indexOf(n),1)}return t}function s(e){return e.map(l)}function l(e){return{name:e[0],caption:e[1]}}function d(t){return e.get(t,{preventNotFoundInterceptor:!0}).then(function(e){return e.data})}function f(e,r,o){var a=o.isGlobalMail?{collection:u["default"].GLOBAL_MAIL}:o.collection;p(e,"id",a&&a.id),p(e,"collection",a&&a.collection),e.sortingParameters=e.sortingParameters||[],n.addPredefinedSortingParam(e,o.searchPriority);var c=e.sortingParameters,s=i(e,["sortingParameters"]),l=r.join("/"),d=t.getParamsString(s),f=n.getSortingParameters({sortingParameters:c},!0);return"/api/addressbook/contact/search/"+l+d+n.getSortingParamsString(f)}function p(e,t,n){n&&(e[t]=n)}function m(e,t,n){return t?e.filter(function(e){return(n?e.data:e).countryCode!==t}):e}function _(e,t,n){if(!e.length)return[];var i=e.filter(function(e){return!e.data||!e.data.globalMailContact}),o=e.filter(function(e){return e.data&&e.data.globalMailContact});return[].concat(E(i,n,t?r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_FROM_ADDRESS_BOOK:r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_FROM_FAVORITES),E(o,n,r.ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_FROM_GLOBAL_MAIL))}function E(e,t,n){if(!e.length)return[];var i=e.map(function(e){return S(e,n,t)});return i[0].firstInGroup=!0,i}function S(e,t,n){return o({name:e.line1,line1:e.line1,line2:e.line2,line3:e.line3},g(e,n),{group:t,key:e.data.key,data:e.data})}function g(e,t){var n="",i="";if(e.matchedParameter){var r=Object.keys(e.matchedParameter);if(i=r[0]){var o=t.find(function(e){return e.name===i});n=o?o.caption+" : ":""}i=e.matchedParameter[i]||""}return{line4:n,line5:i}}return{getGeneratedSearchFields:a,searchByUrl:d,getSearchUrl:f,filterSearchResultsByCountry:m,mapTypeaheadResults:_}}r.$inject=["$http","queryParamsService","sortingParametersService","Messages"],t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t["default"]=r;var a=n(62),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=n(898);r.NG_NAME="searchService"},function(e,t,n){"use strict";function i(){function e(e,r,o,u){function c(e){return e===d?"":e}if(e.$eval(o[a])){var s=u[0],l=u[1],d=i(s,o);Object.assign(e,{removeFocusKey:c}),r.on("focus",function(){if(e.$eval(o[""+a])){var i=l.$isEmpty(l.$viewValue),r=l.$pristine;t({isEmpty:i,ngModelCtrl:l,onFocusKey:d,$scope:e}),n({isEmpty:i,pristine:r,ngModelCtrl:l})}}),function(){r.on("click",function(){return r.focus()})}(),l.$parsers.unshift(function(e){return e||d}),l.$parsers.push(c)}}function t(e){var t=e.isEmpty,n=e.ngModelCtrl,i=e.onFocusKey,r=e.$scope;(t||n.$viewValue===i)&&r.$apply(function(){return n.$setViewValue(i)})}function n(e){var t=e.isEmpty,n=e.pristine,i=e.ngModelCtrl;t&&n&&i.$setPristine()}function i(e,t){return e&&e.getTestKeyForOnFocusSearch()||t[a+"Key"]||o["default"]}return{restrict:"A",priority:100,require:["^?ewfSearch","ngModel"],link:{pre:e}}}t.__esModule=!0,t["default"]=i;var r=n(435),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfShowSearchOnFocus"},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"spinnerCtrl"}}t.__esModule=!0,t["default"]=i;var r=n(1537),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfSpinner"},function(e,t,n){"use strict";function i(e){"ngInject";function t(){return e.isSpinnerActive()}var n=this;Object.assign(n,{isSpinnerVisible:t})}i.$inject=["spinnerService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";function t(t){return r=!0,o.push(t||e.when("spinner timeout")),e.all(o)["finally"](i)}function n(){return r}function i(){r=!1}var r=!1,o=[];return{applySpinner:t,isSpinnerActive:n,hideSpinner:i}}i.$inject=["$q"],t.__esModule=!0,t["default"]=i,i.NG_NAME="spinnerService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{isTSANotificationShown:"="+o,country:"<"+o+"Country"},controller:r,controllerAs:"tsaNotificationCtrl",templateUrl:"dhl-tsa-notification-layout.html"})}function r(e){"ngInject";function t(e){e.country&&n()}function n(){i.isTSANotificationShown=!1,e.getBoolean(e.CI_KEYS.CI0958_ENABLE_TSA_PRIVACY_ACT_NOTIFICATION,i.country).then(function(e){return i.isTSANotificationShown=e})}var i=this;Object.assign(i,{$onChanges:t})}i.$inject=["component"],r.$inject=["configService"],t.__esModule=!0,t["default"]=i,t.TsaNotificationController=r;var o=i.NG_NAME="ewfTsaNotification"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n,i,r,o){i[a+"OnCancel"]||(t.onCancel=angular.noop),i[a+"OnSave"]||(t.onSave=e.when);var u=n.find(".settings-section-content");t.$parent.settingsSectionCtrl=r,o(t.$parent,function(e){u.append(e)}),r.init(n)}return{restrict:"A",scope:{sectionAlias:"@"+a+"Alias",sectionTitle:"@"+a+"Title",sectionEnglishTitle:"@"+a+"EnglishTitle",sectionClearBtnShown:"=?"+a+"ClearBtnShown",sectionClearBtnAqaId:"@"+a+"ClearBtnAqaId",onCancel:"&"+a+"OnCancel",onSave:"&"+a+"OnSave",onClearDefault:"&"+a+"OnClearDefault"},transclude:!0,controller:o["default"],controllerAs:"settingsSectionCtrl",templateUrl:"common/widgets/setting-section.html",link:t}}i.$inject=["$q"],t.__esModule=!0,t["default"]=i;var r=n(1541),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfSettingsSection"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(i){e.sectionAlias===n.getParamFromUrl(o["default"].SECTION)&&(r(),t.scrollToSection(i))}function r(){l.isEditMode=!0}function a(){l.isEditMode=!1}function u(){e.onCancel(),a()}function c(){e.onSave().then(a)}function s(){e.onClearDefault()}var l=this;Object.assign(l,{isEditMode:!1,enterEditMode:r,cancelChanges:u,saveChanges:c,clearDefaultSelection:s,init:i})}i.$inject=["$scope","anchorScrollService","pathService"],t.__esModule=!0,t["default"]=i;var r=n(1),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(){function e(e,t,n,i){i.init()}return{restrict:"A",scope:{sectionTitle:"@"+a,isExpanded:"="+a+"IsExpanded",isRestricted:"="+a+"IsRestricted"},transclude:!0,controller:o["default"],controllerAs:"optionalSettingsSectionCtrl",templateUrl:"common/widgets/optional-setting-section.html",link:e}}t.__esModule=!0,t["default"]=i;var r=n(1543),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfOptionalSettingsSection"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){n.isRestricted||(u||(u=!0,t(n.$parent,function(t){e.find(".optional-settings-section-content").append(t)})),a.isEditMode=!0)}function r(){a.isEditMode=!1}function o(){n.isExpanded&&i()}var a=this,u=!1;Object.assign(a,{isEditMode:!1,enterEditMode:i,leaveEditMode:r,init:o})}i.$inject=["$element","$transclude","$scope"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"<"+o,enhancedInvoiceModel:"<?"+o+"EnhancedInvoiceModel",fromCountry:"<"+o+"FromCountry",bankDetailsVisible:"=?"+o+"BankDetailsVisible"},controller:r,controllerAs:"bankDetailsCtrl",templateUrl:"bank-details.html"})}function r(e){"ngInject";function t(e){e.fromCountry&&n()}function n(){e.getBoolean(e.CI_KEYS.CI0852_INVOICE_BANK_DETAILS_FIELDS,i.fromCountry).then(function(e){i.bankDetailsVisible=e,i.enhancedInvoiceModel&&(i.enhancedInvoiceModel.bankDetailsVisible=e)})}var i=this;Object.assign(i,{$onChanges:t})}i.$inject=["component"],r.$inject=["configService"],t.__esModule=!0,t["default"]=i,t.BankDetailsCtrl=r;var o=i.NG_NAME="ewfBankDetails"},function(e,t,n){"use strict";function i(){function e(e,i){i.on("mouseenter",function(e){var r=e.target.className;(n(r)||t(r))&&i.addClass(o)}).on("mouseleave",function(){i.removeClass(o)})}function t(e){return-1!==e.indexOf(r)}function n(e){return-1!==e.indexOf(i)}var i="top-nav__item",r="top-nav__link",o=i+"-hover";return{restrict:"A",link:e}}t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfDropDownItem"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{config:"<"+o+"Config"},controller:r,controllerAs:"chatProviderCtrl"})}function r(e){"ngInject";function t(){e.registerChatProvider(n.config)}var n=this;Object.assign(n,{$onInit:t})}i.$inject=["component"],r.$inject=["chatProviderService"],t.__esModule=!0,t["default"]=i,t.ChatProviderCtrl=r;var o=i.NG_NAME="ewfChatProvider"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(i){f=e.defer(),t.ewfChat&&(m=t.ewfChat.initChat({page:n.absUrl(),config:i,user:o(),notifyChatProviderAvailable:a,setChatInviteVisibility:u}))}function o(){return i.isAuthorized()?{firstName:i.getUserFirstName(),lastName:i.getUserLastName(),email:i.getId(),countryCode:i.getUserCountry()}:{}}function a(){f.resolve(!0)}function u(e){(p||angular.noop)(e)}function c(){return f.promise}function s(e){p=e}function l(){m.launchChat()}function d(){m.onInviteHidden&&m.onInviteHidden()}var f=void 0,p=void 0,m=void 0;return{registerChatProvider:r,isChatAvailable:c,setInviteCallback:s,launchChat:l,onInviteHidden:d}}i.$inject=["$q","$window","$location","userService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="chatProviderService"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){i.init()}return{restrict:"A",controller:o["default"],controllerAs:"chatLauncherCtrl",link:e}}t.__esModule=!0,t["default"]=i;var r=n(1549),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfChatLauncher"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){if(!t.isDisabled())return void(r.visible=!0);e.isChatAvailable().then(function(e){return r.visible=e})}function i(){e.launchChat()}var r=this;Object.assign(r,{init:n,launchChat:i,visible:!1})}i.$inject=["chatProviderService","cqWcmModeService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"chatInviteLauncherCtrl",templateUrl:"chat-invite-launcher.html"})}function r(e,t,n){"ngInject";function i(){if(!n.isDisabled())return void u();t.setInviteCallback(r)}function r(t){o(t),e.$apply()}function o(e){c.visible=e}function a(){o(!1),t.launchChat()}function u(){o(!1),t.onInviteHidden()}var c=this;Object.assign(c,{$onInit:i,launchChat:a,hideInvite:u,visible:!1})}i.$inject=["component"],r.$inject=["$scope","chatProviderService","cqWcmModeService"],t.__esModule=!0,t["default"]=i,t.ChatInviteLauncherCtrl=r,i.NG_NAME="ewfChatInviteLauncher"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"cookiesPolicyCtrl",templateUrl:"common/widgets/cookies-policy.html"})}function r(e){"ngInject";function t(){i.isMessageVisible=!e.get(r)}function n(){var t=new Date;t.setFullYear(t.getFullYear()+1),e.putRootCookie(r,o,{expires:t}),i.isMessageVisible=!1}var i=this,r="cookiesPolicy",o="accepted";Object.assign(i,{close:n,$onInit:t})}i.$inject=["component"],r.$inject=["cookiesService"],t.__esModule=!0,t["default"]=i,t.CookiesPolicyController=r,i.NG_NAME="ewfCookiesPolicy"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({bindings:{acceptanceType:"@"+l,modalCtrl:"<"+l+"Modal"},controller:o,controllerAs:"termsAndPrivacyAcceptanceCtrl",templateUrl:"templates/terms-or-privacy-acceptance.html"})}function o(e,t){"ngInject";function n(){e.waitingForDecisionType(f.acceptanceType),f.acceptanceType===u["default"].TERMS?i():f.acceptanceType===u["default"].PRIVACY&&r()}function i(){e.getTermsAndConditionsText().then(o)}function r(){e.getPrivacyPolicyText().then(o)}function o(e){f.acceptanceText=e}function a(){e.accept(f.acceptanceType),l()}function c(){e.decline(f.acceptanceType),l()}function l(){if(e.isLastDecisionProcessed()){var t=e.getUserAcceptenceResults();f.modalCtrl.close(t)}f.modalCtrl.close()}function d(){return!t.splitPath().path.includes(s["default"].SSO)}var f=this;Object.assign(f,{$onInit:n,accept:a,decline:c,isDeclineAllowed:d,acceptanceText:""})}r.$inject=["component"],o.$inject=["termsAndPrivacyAcceptanceService","pathService"],t.__esModule=!0,t["default"]=r,t.TermsAndPrivacyAcceptanceController=o;var a=n(899),u=i(a),c=n(1),s=i(c),l=r.NG_NAME="ewfTermsAndPrivacyAcceptance"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i){"ngInject";function r(){var e=_(),n=e.countryCode,i=e.languageCode;return t.get("/content/dhl/"+n+"/"+i+"/terms-and-conditions.lightbox.html").then(function(e){return e.data})}function o(){var e=_(),n=e.countryCode,i=e.languageCode;return t.get("/content/dhl/"+n+"/"+i+"/privacy-policy.lightbox.html").then(function(e){return e.data})}function u(e){C[e]=!0}function s(e){C[e]=!1}function l(){return!C[a["default"].TERMS]&&!C[a["default"].PRIVACY]}function d(){return g}function f(e){m(e,!0)}function p(e){m(e,!1)}function m(e,t){e===a["default"].TERMS?(g.termsAndConditionsAccepted=t,s(a["default"].TERMS)):e===a["default"].PRIVACY&&(g.privacyPolicyAccepted=t,s(a["default"].PRIVACY))}function _(){return{countryCode:n.getUserCountry().toLowerCase(),languageCode:n.getUserLanguage().toLowerCase()}}function E(t){var n=[];return t.includes(c["default"].TERMS_AND_CONDITIONS)&&n.push(S("templates/terms-and-conditions-modal.html")),t.includes(c["default"].PRIVACY_POLICY)&&n.push(S("templates/privacy-policy-modal.html")),e.all(n).then(function(e){return e.find(Boolean)})}function S(e){return i.showDialog({templateUrl:e}).result}var g={},C={};return{getTermsAndConditionsText:r,getPrivacyPolicyText:o,waitingForDecisionType:u,processDecisionForType:s,processTermsAndPrivacyScenario:E,isLastDecisionProcessed:l,getUserAcceptenceResults:d,accept:f,decline:p}}r.$inject=["$q","$http","userService","modalService"],t.__esModule=!0,t["default"]=r;var o=n(899),a=i(o),u=n(1554),c=i(u);r.NG_NAME="termsAndPrivacyAcceptanceService"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={TERMS_AND_CONDITIONS:"termsAndConditions",PRIVACY_POLICY:"privacyPolicy"}},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:r,link:function(){function e(e,t,n,i){i.currentPage=n[o],i.init()}return e}()}}function r(e){"ngInject";function t(){e.showAdditionalAgreementsOnOtherPages(n.currentPage)}var n=this;Object.assign(n,{init:t})}r.$inject=["additionalAgreementsService"],t.__esModule=!0,t["default"]=i,t.AdditionalAgreementsShowOnceController=r;var o=i.NG_NAME="ewfAdditionalAgreementsShowOnce"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o){"ngInject";function u(){return t[P]||[]}function s(){return d("PRIVACY_NOTICE")}function l(){return d("PROMOTIONAL")}function d(e){return g().then(function(t){return t.some(function(t){var n=t.type,i=t.code;return n===e&&u().includes(i)})})}function f(e){return _(a["default"].REGISTRATION_AND_LOGIN,!1,e)}function p(){return _(a["default"].GUEST_RATE_AND_QUOTE,!1,null)}function m(e){return _(a["default"][e],!0)}function _(t,n,i,r){return i||y()?b?e.reject():E(t,i,r).then(function(e){return A(e,n)}):e.when()}function E(e,t,n){return t?g().then(function(e){return e.filter(function(e){var n=e.code;return t.includes(n)})}):S(e,n)}function S(e,t){return C().then(function(n){return!n.includes(e)||o.isTransactionFailedForShipmentId()?[]:t&&u()?g().then(function(e){return e.filter(function(e){var t=e.code;return!u().includes(t)})}):g()})}function g(){return i.getDataPrivacyDataProtectionConsentList()}function C(){return i.getDataPrivacyDataProtectionDisplayScreens()}function A(e,i){if(!e.some(function(e){return e.mandatority}))return undefined;b=!0;var r=n.showAdditionalAgreementsModal(e).then(function(){var n=e.filter(function(e){return e.checked}).map(function(e){return e.code}),i=t[P]||[];return t[P]=[].concat(i,n).filter(function(e,t,n){return n.indexOf(e)===t}),b=!1,n});return r["catch"](function(){return b=!1}),i&&r["catch"](function(){n.redirectOnAgreementsCancel()}),r}function h(t,n){return y()?_(n,!1,undefined,!0).then(function(){var e=u(),r=v(t);if(e.length&&T(e)&&r)return i.storeUserAgreements(D,{consents:e,email:r}).then(function(){return M(e)})["catch"](function(e){return I(e,t,n)})}):e.when()}function I(t,n,i){return t.status===c["default"].UNPROCESSABLE_ENTITY?h(n,i):e.reject()}function v(e){var t=e.fromCustomer,n=e.toCustomer,i=e.pickupDetails;return i&&i.email||N(t,n)}function N(e,t){return r.isShipmentImport(e.address.countryCode)?t.email:e.email}function T(e){return!angular.equals(R,e)}function M(e){R=[].concat(e)}function y(){return o.isGuest()}function O(e){return r.isShipmentImport(e)}var D="/api/user-agreements",P="additionalAgreementsAccepted",R=[],b=void 0;return{getAcceptedAgreements:u,getPrivacyNoticeAccepted:s,getPromotionalAccepted:l,showAdditionalAgreementsOnAuth:f,showAdditionalAgreementsOnRateAndQuote:p,showAdditionalAgreementsOnOtherPages:m,showAdditionalAgreementsPopup:_,postAdditionalAgreements:h,isShipmentImport:O}}r.$inject=["$q","$sessionStorage","additionalAgreementsNavigationService","additionalAgreementsResource","shipmentAddressService","shipmentFlowService"],t.__esModule=!0,t["default"]=r;var o=n(443),a=i(o),u=n(5),c=i(u);r.NG_NAME="additionalAgreementsService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){e.redirectToHome()}function i(e){var n={templateUrl:"components/auth/dhl-terms-and-privacy/additional-agreements.html",controller:o["default"],controllerAs:"additionalAgreementsPopupCtrl",resolve:{additionalAgreementItems:function(){function t(){return e}return t}()}};return t.showDialog(n).result}return{redirectOnAgreementsCancel:n,showAdditionalAgreementsModal:i}}i.$inject=["navigationService","modalService"],t.__esModule=!0,t["default"]=i;var r=n(1558),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="additionalAgreementsNavigationService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){return e.filter(function(e){return e.visibility})}function i(e){return{nls:e.nls,label:e.description}}function r(e){return e.nls+".prompt"}function a(){f.checkedAll=u(!c())}function u(e){return f.additionalAgreementItems.forEach(function(t){return t.checked=e}),e}function c(){return(f.additionalAgreementItems||n()).every(function(e){return e.checked})}function s(){f.checkedAll=c()}function l(){return f.additionalAgreementItems.length>1}function d(){return!t.splitPath().path.includes(o["default"].SSO)}var f=this;Object.assign(f,{additionalAgreementItems:n(),checkedAll:c(),getAgreementDescription:i,getAgreementDetailedDescription:r,toggleSelectionForAll:a,checkIfAllAgreementsAreSelected:s,isSelectAllVisible:l,isDeclineAllowed:d})}i.$inject=["additionalAgreementItems","pathService"],t.__esModule=!0,t["default"]=i;var r=n(1),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){return e.getValue(e.CI_KEYS.CI1316_DATA_PRIVACY_DATA_PROTECTION_CONSENT_LIST).then(function(e){return e.data.value.map(function(e){return{visibility:e.visibility,mandatority:e.mandatority,positionNumber:e.positionNumber,code:e.code.value,description:e.description.value,type:e.type.value,nls:e.code.nls}})})}function i(){return e.getSourceData(e.CI_KEYS.CI1315_DATA_PRIVACY_DATA_PROTECTION_DISPLAY_SCREENS).then(function(e){return e.map(function(e){return e.value})})}function r(e,n){return t.postElement(e,n)}return{getDataPrivacyDataProtectionConsentList:n,getDataPrivacyDataProtectionDisplayScreens:i,storeUserAgreements:r}}i.$inject=["configService","crudService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="additionalAgreementsResource"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{contactDetails:"<"+r+"Details",formHeader:"@?"+r+"Header"},controllerAs:"contactPreviewCtrl",templateUrl:"contact-preview.html"})}i.$inject=["component"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfContactPreview"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{locationValidFlag:"<"+o+"LocationValidFlag",countryCode:"<"+o+"CountryCode",isAddressPending:"<?"+o+"AddressPending"},controller:r,controllerAs:"addressValidationWarningCtrl",templateUrl:"address-validation-warning.html"})}function r(e){"ngInject";function t(){e.getWarningMessage(i.countryCode).then(function(e){return i.warningMessage=e})}function n(){return i.warningMessage&&!1===i.locationValidFlag&&!i.isAddressPending}var i=this;Object.assign(i,{$onInit:t,isWarningMessageAvailable:n,warningMessage:""})}i.$inject=["component"],r.$inject=["addressValidationWarningService"],t.__esModule=!0,t["default"]=i,t.AddressValidationWarningController=r;var o=i.NG_NAME="ewfAddressValidationWarning"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(i){return i?e.all([u(t.CI_KEYS.CIF0452_ZIP,i),u(t.CI_KEYS.CIF0241_POSTAL_CODE,i),u(t.CI_KEYS.CIF0239_SUBURB,i),t.getFormField(t.CI_KEYS.CIF0453_STATE,i),t.getFormField(t.CI_KEYS.CIF0240_PROVINCE,i)]).then(function(e){var t=e[0],i=e[1],o=e[2],u=e[3],c=e[4];return a(u)?n.ERRORS.INVALID_COMBINATION_POSTAL_ZIP_STATE_CITY:a(c)?n.ERRORS.INVALID_COMBINATION_POSTAL_ZIP_PROVINCE_CITY:r(t,i,o)||""}):e.reject()}function r(e,t,i){return o(e,t)&&i?n.ERRORS.INVALID_COMBINATION_POSTAL_ZIP_SUBURB_CITY:o(e,t)?n.ERRORS.INVALID_COMBINATION_POSTAL_ZIP_CITY:i?n.ERRORS.INVALID_COMBINATION_SUBURB_CITY:void 0}function o(e,t){return e||t}function a(e){return e.visible&&e.mandatory}function u(e,n){return t.getFormField(e,n).then(function(e){return e.visible})}return{getWarningMessage:i}}i.$inject=["$q","configService","Messages"],t.__esModule=!0,t["default"]=i,i.NG_NAME="addressValidationWarningService"},function(e,t,n){"use strict";function i(){function e(e,t){n(e,t,r)}function t(e,t){n(e,t,o)}function n(e,t,n){var r=a(e,t),o=i(r);if(o!==-Infinity)return 0===o?void r.forEach(u):void r.forEach(function(e){return n(e,o)})}function i(e){return Math.max.apply(Math,e.map(function(e){return e.offsetHeight}))}function r(e,t){var n=angular.element(e);n.css("height",t+"px"),n.css("line-height",t+"px")}function o(e,t){angular.element(e).css("min-height",t+"px")}function a(e,t){return e.map(function(e){return angular.element(e).find(t)[0]}).filter(function(e){return angular.isDefined(e)})}function u(e){angular.element(e).hide()}return{equalizeHeightsAndLineHeights:e,equalizeHeights:t}}t.__esModule=!0,t["default"]=i,i.NG_NAME="cardGridService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e,n){var r=e.$watch(function(){return n.is(":visible")},function(a){if(a){var l=n.find(o).toArray();t.equalizeHeights(l,u),t.equalizeHeights(l,c),t.equalizeHeights(l,s),i(e,n,l),r()}})}function i(e,n,i){var o=n.find(l).toArray();o.length?o.forEach(function(t){return r(e,i,t)}):t.equalizeHeightsAndLineHeights(i,a)}function r(e,n,i){var r=e.$watch(function(){return i.offsetHeight},function(e){e&&(t.equalizeHeightsAndLineHeights(n,a),r())})}var o=".card-grid__item",a=".card-item__icon, .card-item__image",u=".card-item__headline",c=".card-item__copy",s=".card-item__actions",l=".card-item__image:visible";return{restrict:"A",link:n}}i.$inject=["$timeout","cardGridService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfCardGrid"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e,n,r,o){var a=r.id;a&&a===i()&&(o.collapsed=!1,t.scrollToSection(n))}function i(){var t=e.location.hash;if(!t)return"";var n=t.split("/");return n[n.length-1]}return{restrict:"A",require:"ewfToggleSwitch",link:n}}i.$inject=["$window","anchorScrollService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfScrollAndOpen"},function(e,t,n){"use strict";function i(){"ngInject";function e(e,t){var n=e.$watch(function(){return t.is(":visible")},function(e){if(e){var i=t.parent().height();t.css("height",i+"px"),n()}})}return{restrict:"A",link:e}}t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfSectionBackground"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(i,c){var s=t.find(o)[0],l=c.find(r)[0],d=c.find(a)[0],f=!!c.find(u)[0];e(function(){n.defineHomeTopContentPosition(s,l,d,f)})}var r=".home-top-content",o="header",a=".second-nav-area",u=".home-alert-container";return{restrict:"A",link:i}}i.$inject=["$timeout","$document","homeTopContentService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfHomeTopContent"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({bindings:{showOnTop:"<"+l,link:"@?"+l+"Link"},controller:o,controllerAs:"importantInfoBannerCtrl",templateUrl:"important-info-banner-template.html"})}function o(e,t,n,i,r,o){"ngInject";function a(){if(_.link){var e=_.link+".important-info-active-items.html";t.get(e).then(function(e){var t=e.data;if(h=t,c(h),_.newItemsLength>g&&(_.newItemsLength=C),!_.showOnTop||!_.newItemsLength)return void(_.isShownOnBottom=!0);d()})}}function c(e){var t=angular.element(e),n=t.find(".is-open");I=t.find(".visible-not-active-imp-info-item").length;for(var i=0;i<n.length;i++)A.push(n[i].id);var r=l();_.newItemsLength=A.filter(function(e){return!r.includes(e)}).length}function l(){var e=n.get(s["default"].VIEWED_IMPORTANT_INFO_ITEMS);return e?JSON.parse(e):[]}function d(){e(function(){return _.isShownOnTop=!0},S).then(function(){return e(function(){return _.isShownOnTop=!1},E)}).then(function(){return e(function(){return _.isShownOnBottom=!0},S)})}function f(){_.isOpened=!_.isOpened}function p(){if(!_.newItemsLength)return void r.redirectToRelativePath(_.link+".html");n.putRootCookie(s["default"].VIEWED_IMPORTANT_INFO_ITEMS,JSON.stringify(A)),_.newItemsLength=0,_.isOpened=!1,m()}function m(){if(h){var e=h.lastIndexOf("is-open");h=h.slice(0,e)+"is-last "+h.slice(e);var t=I?'<a href="'+_.link+'.html" class="v2-btn v2-btn-small">\n                   '+o.DASHBOARD.IMPORTANT_INFO_BANNER_BUTTON_SHOW_ALL+"\n               </a>":"",n='<div ewf-modal=""\n                             ewf-modal-v2="true"\n                             ewf-modal-title="'+o.DASHBOARD.IMPORTANT_INFO_BANNER_INFO_TEXT_IMPORTANT_INFO+'">\n                              '+h+"\n                              "+t+"\n                          </div>";i.showDialog({template:n,controller:u["default"],controllerAs:"importantInfoAccordionDateCtrl"})}}var _=this,E=5e3,S=1e3,g=9,C="9+",A=[],h=void 0,I=void 0;Object.assign(_,{$onInit:a,toggleBanner:f,showImportantInfo:p})}r.$inject=["component"],o.$inject=["$timeout","$http","cookiesService","modalService","navigationService","Messages"],t.__esModule=!0,t["default"]=r,t.ImportantInfoBannerCtrl=o;var a=n(883),u=i(a),c=n(14),s=i(c),l=r.NG_NAME="ewfImportantInfoBanner"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t,r,u){var c=e.getBoundingClientRect().bottom,s=i(r),l=i(t),d=t.offsetHeight,f=l-c,p=(s-c-d)/2-f,m=angular.element(t);n(u,p,m),m.css(o,a)}function n(e,t,n){if(e&&t<u)return void n.children().css(r,u);t>0&&n.children().css(r,t)}function i(t){return t.getBoundingClientRect().top+(e.pageYOffset||0)}var r="margin-top",o="visibility",a="visible",u=62;return{defineHomeTopContentPosition:t}}i.$inject=["$window"],t.__esModule=!0,t["default"]=i,i.NG_NAME="homeTopContentService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n){n.on("click",function(){return e.print()})}return{restrict:"A",link:t}}i.$inject=["$window"],t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfPrintPage"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"common/widgets/default-address-to-business-address/default-address-to-business-address-template.html",controllerAs:"defaultAddressToBusinessAddressCtrl",bindings:{model:"="+r,label:"<"+r+"Label",isDisabled:"<?"+r+"IsDisabled"}})}i.$inject=["component"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfDefaultAddressToBusinessAddress"},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"locationForPrintCtrl"}}t.__esModule=!0,t["default"]=i;var r=n(1573),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfLocationForPrint"},function(e,t,n){"use strict";function i(e){"ngInject";function t(){return e.absUrl()}var n=this;Object.assign(n,{getAbsUrl:t})}i.$inject=["$location"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{json:"@"+u},controller:r,controllerAs:"lottieAnimationCtrl"})}function r(e){"ngInject";function t(){var t=e[0];a["default"].loadAnimation({container:t,renderer:"svg",loop:!0,autoplay:!0,path:n.json})}var n=this;Object.assign(n,{$onInit:t})}i.$inject=["component"],r.$inject=["$element"],t.__esModule=!0,t["default"]=i,t.LottieAnimationController=r;var o=n(1575),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfLottieAnimation"},,function(e,t,n){"use strict";function i(){"ngInject";function e(e,t,n,i){i.init()}return{restrict:"A",controller:o["default"],controllerAs:"journeyOfPackageCtrl",link:e}}t.__esModule=!0,t["default"]=i;var r=n(1577),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfJourneyOfPackage"},function(e,t,n){"use strict";function i(e,t,n,i,r,o){"ngInject";function a(){var r=n.msie;_.isInternetExplorer=!!r,_.isAnimationAvailable=8!==r,o.scrollToTop(),angular.element(e).one("scroll",function(){var e=t.find(A)[0];m(angular.element(e),E),I=i.$watch(function(){return e.offsetTop},l),v=i.$watch(function(){return _.maxScrolled},c)})}function u(){var t=e.pageYOffset;if(!t||T)return _.maxScrolled;var n=e.innerHeight/4,i=t+n;return _.maxScrolled=p(i),_.maxScrolled}function c(e){e&&(h=h.filter(function(t){var n=t.offset,i=t.element;return!(n<e+C)||(m(i,n),!1)}),h.length||(v(),T=!0))}function s(e){var t=e.data(),n=t&&t.analyticsTitle;n&&r.markSection("content_box_scroll","content_box_reach",null,{content_box:n})}function l(e){if(e){var n=t.find(".journey-step-before"),i=t.find(".journey-step-after");d(n,A),d(t,".planet"),d(i,A),h.splice(0,1),N=h[h.length-1].offset-g,I()}}function d(e,t){for(var n=e.find(t),i=0;i<n.length;i++){var r=n[i];h.push({offset:r.offsetTop,element:angular.element(r)})}}function f(){return{height:(T?N:u())+"px"}}function p(e){return _.maxScrolled>e?_.maxScrolled:Math.min(e,N)}function m(e,t){e.addClass("show"),s(e),t&&e.hasClass(A.substr(1))&&(_.movingDotPosition=t+S+"px")}var _=this,E=0,S=33,g=42,C=25+g,A=".journey-step",h=[],I=void 0,v=void 0,N=void 0,T=void 0;Object.assign(_,{init:a,getScrollPosition:u,getLineStyle:f,movingDotPosition:"59px",maxScrolled:0})}i.$inject=["$window","$element","$sniffer","$scope","analyticsService","anchorScrollService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){"ngInject";function e(e,n){var i=e.$watch(function(){return n.is(":visible")},function(e){e&&(t(n),i())})}function t(e){var t=e.find(a);if(t.length){var i=e.width()/2;if(e.height()>=i)return t.width(i),void t.height(i);n(e,t,i)}}function n(e,t,n){for(var a=o,u=t.height(),c=e.height(),s=Math.abs(n-u)/r,l=0;l<s;l++){if(i(u,c))return;if(i(u,n))return;var d=Math.min(u+a,n);t.width(d),t.height(d),a=r,u=t.height(),c=e.height()}}function i(e,t){return Math.abs(e-t)<1}var r=14,o=2*r,a=".search-teaser__img img";return{restrict:"A",link:e}}t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfPromotedSearchTeaser"},function(e,t,n){"use strict";function i(){"ngInject";function e(e,t,n,i){var o=t.children("."+n[r+"Class"]),a=Number(n[r+"SlideUpTime"]),u=Number(n[r+"SlideDownTime"]);e.$watch(function(){return i.collapsed},function(e){e?o.slideUp(a):o.slideDown(u)})}return{restrict:"A",require:"ewfToggleSwitch",link:e}}t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfExpandableSlider"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"pickup-conditional-checkbox.html",controller:r,controllerAs:"pickupConditionalCheckboxCtrl",bindings:{checkboxValue:"="+o,isAccountShipment:"<"+o+"IsAccountShipment",payerAccount:"<"+o+"PayerAccount",fromCountry:"<?"+o+"FromCountry",subHeader:"@?"+o+"SubHeader",subHeaderClass:"@?"+o+"SubHeaderClass",label:"@"+o+"Label",aqaId:"@"+o+"AqaId"}})}function r(e){"ngInject";function t(){e.fetchAuthorizedPickupLocationsConfigs(o.fromCountry).then(function(e){var t=e[0],n=e[1];Object.assign(o,{isAvailableForLocalAccounts:t,areForeignImportAccountsExcluded:n})})}function n(e){var t=e.isAccountShipment,n=e.payerAccount;(t||n)&&(i()||(o.checkboxValue=!1))}function i(){return!o.isAccountShipment||!o.isAvailableForLocalAccounts||!!o.payerAccount&&e.isForeignImportAccount(o.payerAccount)&&o.areForeignImportAccountsExcluded}function r(){return o.subHeaderClass||""}var o=this;Object.assign(o,{$onInit:t,$onChanges:n,isVisible:i,getSubHeaderClass:r})}i.$inject=["component"],r.$inject=["authorizedPickupLocationsCommonService"],t.__esModule=!0,t["default"]=i,t.PickupConditionalCheckboxController=r;var o=i.NG_NAME="ewfPickupConditionalCheckbox"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controllerAs:"ewfCharacterCounterCtrl",bindings:{model:"<"+r,maxLength:"<"+r+"MaxLength"},templateUrl:"character-counter.html"})}i.$inject=["component"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfCharacterCounter"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e,n){if(n.fieldErrors){var i=a.fieldName;try{if(a.fieldName.includes("accountNumber")&&!a.fieldName.includes("-")){var r=a.fieldController.getModelValue();a.fieldName=a.fieldName+"-"+r}}catch(o){t.error(o)}a.errorMessages=n.fieldErrors[a.fieldName],a.errorMessages&&a.errorMessages.length>0&&a.fieldController.invalidateModel(i)}}function i(){return a.ewfFormCtrl.fieldErrors[a.fieldName]||[]}function r(t){u=function(){return e.$eval(t)}}function o(){(u||angular.noop)()}var a=this,u=void 0;Object.assign(a,{fieldController:null,fieldName:null,errorMessages:[],ewfFormCtrl:null,onDisplayServerErrors:n,getErrorMessages:i,initClickHandler:r,handleClick:o}),e.$on("ewfForm.displayServerErrors",a.onDisplayServerErrors)}i.$inject=["$scope","logService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1584),u=i(a),c=angular.module("common.form.fieldWarnings",[o["default"]||"common.utils"]);c.directive(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="common.form.fieldWarnings"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n,i,r){var o=r[0],u=r[1],c=r[2],s=void 0;i[a]?s=i[a]:u&&(s=u.name.includes(".")?u.name.split(".")[1]:u.name),s||e.error("No field name found on element: "+n),c.init(o,s)}return{restrict:"A",priority:1,scope:!0,require:["^ewfForm","?^ewfField",a],controller:o["default"],controllerAs:"fieldWarningsCtrl",templateUrl:"common/form/field-warnings/field-warnings.html",link:{pre:t}}}i.$inject=["logService"],t.__esModule=!0,t["default"]=i;var r=n(1585),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfFieldWarnings"},function(e,t,n){"use strict";function i(){function e(e,t){Object.assign(i,{ewfFormCtrl:e,fieldName:t})}function t(){return i.ewfFormCtrl.fieldWarnings[i.fieldName]||[]}function n(){return t().length>0}var i=this;Object.assign(i,{ewfFormCtrl:null,fieldName:"",errorMessages:[],init:e,getWarningMessages:t,isWarningsVisible:n})}t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1587),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("common.form.formErrors",[]);o.directive(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="common.form.formErrors"},function(e,t,n){"use strict";function i(){return{restrict:"A",priority:1,scope:!0,require:["^ewfForm",a],controller:o["default"],controllerAs:"formErrorsCtrl",templateUrl:"common/form/form-errors/form-errors.html",link:function(){function e(e,t,n,i){var r=i[0];i[1].formCtrl=r}return e}()}}t.__esModule=!0,t["default"]=i;var r=n(1588),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfFormErrors"},function(e,t,n){"use strict";function i(){var e=this;e.errorMessages=[],e.formCtrl=null}t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";function t(){return(m.ewfFormCtrl.fieldErrors[m.fieldName]||[]).filter(function(e){return e.error})}function n(){return r().filter(function(e,t,n){return"ewfValid"!==e&&!!i(e)&&n.indexOf(e)===t}).map(i)}function i(t){return e[t]||m.customErrorMessages[t]}function r(){return m.ewfFieldCtrl.getNgModelFieldErrors()}function a(){return m.ewfcFieldCtrl?m.ewfcFieldCtrl.errorParams:{}}function u(){var e=t(),i=n().map(function(e){return{error:e,errorParams:a()}}),r=c([].concat(e,i));return angular.equals(_,r)||(_.length=0,_.push.apply(_,r)),_}function c(e){return e.filter(function(t,n){return e.findIndex(function(e){return e.error===t.error})===n})}function s(){return!!t().length||!!n().length}function l(){return!!t().length||n().some(d)}function d(e){return e!==o["default"].PENDING_VALIDATION_KEYS&&angular.isDefined(e)}function f(e){m.cssClasses=e}function p(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];m.customErrorMessages=e}var m=this;Object.assign(m,{cssClasses:[],customErrorMessages:{},setCssClasses:f,setCustomErrorMessages:p,getAllErrors:u,isErrorsVisible:s,areErrorsVisibleAndReady:l});var _=[]}i.$inject=["validationMessages"],t.__esModule=!0,t["default"]=i;var r=n(227),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined,n(877);var r=n(0),o=i(r),a=n(1591),u=i(a),c=n(1593),s=i(c),l="authorization.common.visualCaptcha",d=angular.module(l,["visualCaptcha",o["default"]]);d.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]),t.module=d,t["default"]=l},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{captcha:"="+u,isConfigNeeded:"<?"+u+"IsConfigNeeded",isMicroSite:"<?"+u+"IsMicroSite",errors:"<?"+u+"Errors"},controller:r,controllerAs:"visualCaptchaCtrl",templateUrl:"/templates/visual-captcha-component.html"})}function r(e,t,n,i,r){"ngInject";function o(){i.getCaptchaConfig(_.isMicroSite,_.isConfigNeeded).then(l)}function u(e){var t=e.errors,n=t&&t.currentValue;_.isCaptchaErrorVisible=!!(n&&n.data&&s(n.data))}function s(e){var t=e.fieldErrors,n=e.errors,i="errors.common_msg_captcha-not-valid";return t?Object.values(t).some(function(e){return e[0]===i}):n?n.some(function(e){return e===i}):void 0}function l(e){var t=e[0],n=e[1];_.captchaOptions={imgPath:a["default"].IMG_PATH,language:d(),captcha:{numberOfImages:t,url:"/api/visualcaptcha",callbacks:{loaded:function(){function e(){f(),p(n),m(n)}return e}()}},init:function(){function e(e){e.id=c++,_.captcha=e}return e}()}}function d(){return{explanation:r.COMMON.COMMON_MSG_CAPTCHA_TITLE+" "+E,refreshTitle:r.COMMON.COMMON_MSG_CAPTCHA_REFRESH_TITLE,refreshAlt:r.COMMON.COMMON_MSG_CAPTCHA_REFRESH_ALT}}function f(){n.find("a, .visualCaptcha-refresh-button, .visualCaptcha-accessibility-button").on("click",function(t){t.preventDefault(),e.$apply(function(){_.isCaptchaErrorVisible=!1})})}function p(e){var i=n.find(".visualCaptcha-accessibility-button");if(!e)return void i.addClass("is-hidden");!t.msie&&i.one("click",function(){n.find("audio").attr("autoplay","")}),i.addClass("v2-btn v2-btn-small v2-btn-white block")}function m(e){var t=e?"":" margin-top-medium";n.find(".visualCaptcha-refresh-button").removeClass().addClass("dhlicon-update v2-btn v2-btn-small v2-btn-white margin-bottom-tiny block"+t).text(r.COMMON.CAPTCHA_BUTTON_REFRESH)}var _=this,E="<strong>ANSWER</strong>";Object.assign(_,{$onInit:o,$onChanges:u})}i.$inject=["component"],r.$inject=["$scope","$sniffer","$element","visualCaptchaService","Messages"],t.__esModule=!0,t["default"]=i,t.VisualCaptchaController=r;var o=n(1592),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfVisualCaptcha",c=0},function(e,t,n){"use strict";t.__esModule=!0;var i="/etc/clientlibs/dhl/global/public/";t["default"]={IMG_PATH:i+"img/",JS_LIB_PATH:i+"js/lib/"}},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(t){var n=arguments.length<=1||arguments[1]===undefined||arguments[1];return e.all([r(n),a(t)])}function r(t){return t?n.getBoolean(n.CI_KEYS.CI0647_ENABLE_CAPTCHA).then(function(t){return t||e.reject()}).then(o):o()}function o(){return t.get("/api/visualcaptcha/options-count").then(function(e){return+e.data})}function a(t){return t?e.when(!0):n.getBoolean(n.CI_KEYS.CI1443_ENABLE_VOICE_MODULE_FOR_CAPTCHA)}return{getCaptchaConfig:i}}i.$inject=["$q","$http","configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="visualCaptchaService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(1595),o=i(r),a=n(1597),u=i(a),c=n(1598),s=i(c),l=n(1599),d=i(l),f=n(1600),p=i(f),m=n(2),_=i(m),E=angular.module("common.form.container",[_["default"]||"common.utils"]);E.directive(o["default"].NG_NAME,o["default"]).directive(p["default"].NG_NAME,p["default"]).service(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]),t.module=E,t["default"]="common.form.container"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,i,r,o){var c=o[0],s=o[1],l=o[2];i.parents(".lightbox").length&&e.focusWithDelay(i.find(a.FOCUSABLE_ELEMENTS_SELECTOR)[0]);var d=r[u+"ThankYouMessage"],f=t.$eval(r[u+"Callback"]),p={emailsTo:n(i,"emailsTo"),emailsCC:n(i,"emailsCC"),emailsBCC:n(i,"emailsBCC"),emailFrom:n(i,"emailFrom"),subject:n(i,"subject"),fieldSeparator:n(i,"fieldSeparator")},m=!!r[u+"IsClearOnSubmit"],_={thankYouMessage:d,hiddenFields:p,callback:f,isClearOnSubmit:m,ewfModalCtrl:s,formCtrl:l};c.init(_)}function n(e,t){var n=e.find('[name="'+t+'"]');return n.length?n[0].value:""}return{restrict:"A",require:[u,"^^?ewfModal","form"],controller:o["default"],controllerAs:"formContainerCtrl",scope:!0,link:t}}i.$inject=["delayedFocusService"],t.__esModule=!0,t["default"]=i;var r=n(1596),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=n(885),u=i.NG_NAME="ewfFormContainer"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(e){return U.fields[e].isRequired||u(e)||U.fields[e].uploadStatus===o["default"].SUCCESS}function a(e){return i.getAcceptableExtensions(U.fields[e].extensions)}function u(e){return d(e)||U.fields[e].uploadStatus===o["default"].ERROR}function c(e,t,n,i){return u(e)?n:U.fields[e].uploadStatus===o["default"].SUCCESS?t:i}function s(e,t,n,i){S(e,t),_(i,[],n)}function l(e){return U.fields[e]?U.fields[e].files:[]}function d(e){return i.hasErrors(U.fields[e].errors)}function f(e,t,n,r){U.fields[e]=i.setInitUploaderState(e,t,n,r)}function p(e,t,n){var i,r=arguments.length<=3||arguments[3]===undefined?[]:arguments[3];U.fields[t].uploadStatus=o["default"].SUCCESS,m(e,n),(i=U.fields[t].files).push.apply(i,e),_(t,r,n)}function m(e,t){i.removeItemFromUploadQueue(e,t)}function _(e,t,n){U.fields[e].errors={};var i=E(e,t,n),r=i[0],o=i[1],a=i[2];return!r&&!o&&a}function E(e,t,n){return i.getFilesValidity(U.fields[e],t,n,U.maxFilesSize)}function S(e,t){i.deleteItemFromList(e,t)}function g(e,t){U.fields[t].uploadStatus=o["default"].ERROR,U.errors=e}function C(e){U.thankYouMessage=e.thankYouMessage,U.hiddenFields=e.hiddenFields,U.callback=e.callback,U.ewfModalCtrl=e.ewfModalCtrl,U.formCtrl=e.formCtrl,U.isClearOnSubmit=e.isClearOnSubmit,i.getMaxFilesSize().then(function(e){return U.maxFilesSize=1024*e*1024})}function A(e,t){U.fields[e]=t}function h(){if(!I().some(Boolean)){var e=t.prepareFormProperties(U.fields,j),n=t.prepareDocuments(U.fields,j),i=Object.assign({},{captchaData:U.captcha&&U.captcha.getCaptchaData()},U.hiddenFields,{formProperties:e,documents:n});t.submit(i).then(v)["catch"](N)["finally"](D)}}function I(){return i.validateFilesBeforeSubmit(U.fields,U.maxFilesSize)}function v(){U.thankYouMessage&&n.showThankYouDialog(U.thankYouMessage,U.ewfModalCtrl),U.callback&&U.callback(),U.isClearOnSubmit&&O()}function N(e){U.errors=e}function T(e,t){U.fields[e]=undefined,F.push(t)}function M(e,t){U.fields[e]=undefined,j[e]=t}function y(){O(),D()}function O(){U.errors=undefined,t.clearForm(U.formCtrl,e,F,U.fields)}function D(){U.captcha&&U.captcha.refresh()}function P(e,t){U.fields[e]=R(e,t)}function R(e,t){var n=angular.isArray(U.fields[e])?U.fields[e]:[];return n.some(function(e){return angular.equals(e,t)})?n.filter(function(e){return!angular.equals(e,t)}):[].concat(n,[t])}function b(e,t){return angular.equals(U.fields[e],t)}function L(e,t){var n=U.fields[e];return angular.isArray(n)&&n.some(function(e){return angular.equals(e,t)})}function G(t,n){e.find("#"+t+" ~ .fancy-form-input input."+n+"__input").first().focus()}function k(e){var t=U.fields[e];return angular.isArray(t)?w(t):""}function w(e){return e.map(function(e){return e.name}).join(", ")}var U=this,F=[],j={};Object.assign(U,{captcha:null,fields:{},thankYouMessage:"",hiddenFields:{},uploadStatuses:o["default"],init:C,setValue:A,submit:h,clearFormAndRefreshCaptcha:y,toggleSelection:P,isSelectedInDropdown:b,isSelectedInCollection:L,formatCollection:k,initDropdown:T,initDatepicker:M,focusFirstOption:G,initFileUpload:f,onUpload:p,onError:g,deleteFile:s,getFieldFiles:l,isFilesCanBeUploaded:_,hasErrors:d,setStatus:c,getAcceptableExtensions:a,isValidationCheckVisible:r})}i.$inject=["$element","formContainerService","thankYouMessageService","formFileUploadService"],t.__esModule=!0,t["default"]=i;var r=n(903),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e,t){var n={};return Object.entries(e).filter(function(e){var t=e[1];return angular.isDefined(t)}).map(function(e){var n,i=e[0],r=e[1];return n={},n[i]=a(i,r,t),n}).forEach(function(e){return Object.assign(n,e)}),n}function r(e){return Object.values(e).map(d).filter(Boolean).reduce(function(e,t){return[].concat(e,t)},[])}function o(e){return e.replace(/[&<>"']/g,"")}function a(e,n,i){return angular.isDate(n)?t.getFormattedDate(n,i[e]):angular.isArray(n)?n.map(function(e){return e.code}).join(", "):angular.isObject(n)?n.code:angular.isString(n)?o(n):n}function u(t){return e.post("/api/contactUs/send",t)}function c(e,t,n,i){e.$setPristine(),t.removeClass("ewfc-submitted"),n.forEach(function(e){return e()}),Object.keys(i).forEach(function(e){t.find("#"+e).removeClass("ng-blur ewfc-highlighted ng-valid-pending-validation"),i[e]=s(i,e)})}function s(e,t){return angular.isArray(e[t])?[]:l(e[t])?n.setInitUploaderState(t):undefined}function l(e){return angular.isObject(e)&&e.files}function d(e){if(l(e))return e.files}return{prepareFormProperties:i,prepareDocuments:r,submit:u,clearForm:c}}i.$inject=["$http","dateTimeService","formFileUploadService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="formContainerService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){"ngInject";function n(){return e.getSourceData(e.CI_KEYS.CI1031_MAX_DOCUMENT_UPLOAD_SIZE,A)}function i(e){return e.split(",").map(function(e){return a["default"][e]||"."+e}).join()}function r(e,t){var n=[];return Object.values(e).forEach(function(e){if(e&&e.files){var i=E(e,[],[],t);n.push(i[3])}}),n}function o(e,t){t.splice(e,1)}function u(e,t){e.forEach(function(e){o(t.findIndex(function(t){return t.name===e.fileName}),t)})}function s(e){var t=Object.values(e);return!!t.length&&t.every(Boolean)}function d(e,n){return t.checkMinCount(e,n)}function f(e,n){return t.checkMaxCount(e,n)}function p(e,n,i){return t.getFilesTotalCount(e,n,i)}function m(e,n,i,r){return t.checkFilesSize(e,n,i,r)}function _(e,n,i,r){return t.checkFormatValidity(e,n,i,r)}function E(e,t,n,i){var r=e.files,o=p(t,r,n),a=f(o,e.maxFilesCount),u=d(o,e.isRequired),c=m(t,r,n,i),s=_(t,r,n,e.extensions);return S(e.errors,a,c,s,u),[a,c,s,u]}function S(e,t,n,i,r){t&&(e.maxFiles=!0),n&&(e.maxSize=!0),i||(e.format=!0),r&&(e.required=!0)}function g(e,t,n,i){if(C[e])return angular.copy(C[e]);var r={files:[],errors:{},isRequired:t,extensions:n,fieldId:e,maxFilesCount:i,uploadStatus:c["default"].NONE};return C[e]=angular.copy(r),r}var C={},A=l["default"].ANDORRA;return{getMaxFilesSize:n,getAcceptableExtensions:i,validateFilesBeforeSubmit:r,deleteItemFromList:o,removeItemFromUploadQueue:u,hasErrors:s,getFilesValidity:E,setInitUploaderState:g}}r.$inject=["configService","formFileUploadValidationService"],t.__esModule=!0,t["default"]=r;var o=n(398),a=i(o),u=n(903),c=i(u),s=n(4),l=i(s);r.NG_NAME="formFileUploadService"},function(e,t,n){"use strict";function i(){"ngInject";function e(e,t){return e<c&&t}function t(e,t){return e>t}function n(e,t,n){return e.length+t.length+n.length}function i(e,t,n,i){return r(e)+r(t)+r(n)>i}function r(e){return Array.from(e).reduce(function(e,t){return e+(t.fileSizeRaw||t.size)},0)}function o(e,t,n,i){return a(e,i)&&a(t,i)&&a(n,i)}function a(e,t){return Array.from(e).every(function(e){return t.includes(u(e))})}function u(e){var t=e.name||e.fileName,n=t.split(".");return n[n.length-1]}var c=1;return{checkMinCount:e,checkMaxCount:t,getFilesTotalCount:n,checkFilesSize:i,checkFormatValidity:o}}t.__esModule=!0,t["default"]=i,i.NG_NAME="formFileUploadValidationService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e,n,u,c){if(e.$eval(u[r+"Required"])){var s=u[r+"RequiredMessage"],l=o(n);i(c,s,l)}var d=u[r+"FormatMessage"],f=t[u[r+"Format"]],p=a(n,f);i(c,d,p),e.$watch(function(){return n.val()},function(){return c.triggerValidation()})}function i(t,n,i){var r={msg:n,validationMethod:i},o=e.createValidator("callback",r);t.addValidator(o)}function o(e){return function(){return!!e.val()}}function a(e,t){var n=new RegExp(t);return function(){var t=e.val();return!t||n.test(t)}}return{restrict:"A",require:"ewfInput",link:n}}i.$inject=["validatorsFactory","Patterns"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfDatepickerValidator"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n,i,r){var o=r[0],u=r[1];if(o.init(i[a]),u){i[a+"Valid"]&&function(){var n=e(i[a+"Valid"]);t.$watch(function(){return u.$valid},function(e){return n.assign(t,e)})}();var c=o.ewfValidation,s=o.setErrorsFromResponse,l=o.cleanErrors;Object.assign(u,{validate:c,setErrorsFromResponse:s,cleanErrors:l})}}return{restrict:"A",priority:1,controller:o["default"],controllerAs:"ewfFormCtrl",require:[a,"?form"],link:{pre:t}}}i.$inject=["$parse"],t.__esModule=!0,t["default"]=i;var r=n(1602),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfForm"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e){_.formName=e}function r(){return e.$broadcast("ValidateForm"),!0}function o(e){var i=e.errors,r=e.fieldErrors,o=r===undefined?{}:r,u=e.errorDetails,c=u||i||[];_.formErrors=c.map(function(e){var i=e.errorParams&&e.errorParams[0],r=t(a(e));return e.params||i?n(r,e.params||{0:i}):r}),Object.keys(o).forEach(function(e){_.fieldErrors[e]=o[e].map(function(e){return{error:e,errorParams:{}}})})}function a(e){return e.errorMessage||e.key||e}function u(){c(),d()}function c(){_.formErrors=[]}function s(e){_.fieldErrors[e]=[]}function l(e){_.fieldWarnings[e]=[]}function d(){_.fieldErrors={}}function f(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];(_.fieldErrors[e]=_.fieldErrors[e]||[]).push({error:t,errorParams:n})}function p(e,t){_.fieldWarnings[e]=_.fieldWarnings[e]||[];var n=_.fieldWarnings[e];n.includes(t)||n.push(t)}function m(){return Object.values(_.fieldErrors).some(function(e){return e.length})}var _=this;Object.assign(_,{init:i,ewfValidation:r,setErrorsFromResponse:o,cleanFormErrors:c,cleanFieldErrors:s,cleanFieldWarnings:l,cleanAllFieldErrors:d,addFieldError:f,addFieldWarning:p,cleanErrors:u,hasFieldErrors:m,formErrors:[],fieldErrors:{},fieldWarnings:{},formName:""})}i.$inject=["$scope","nlsFilter","replaceFilter"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e){var n=arguments.length<=1||arguments[1]===undefined||arguments[1],o=["string","undefined"].includes(void 0===e?"undefined":r(e))?i(e):e,u=o.controller("form");return!!(u&&o&&u.$valid)||(n&&(Array.forEach(angular.element("[ng-model]",o),function(e){t.addClass(angular.element(e),a["default"].HIGHLIGHTED)}),t.addClass(o,a["default"].HIGHLIGHTED)),!1)}function i(t){return e.find("form[name="+t+"], [ng-form="+t+"], [ng-form][name="+t+"]")}function o(e,t){var r=i(e);return!r.length||n(r,t)}return{checkForm:n,isFormValid:o}}i.$inject=["$document","$animate"],t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=i;var o=n(134),a=function(e){return e&&e.__esModule?e:{"default":e}}(o);i.NG_NAME="formService"},function(e,t,n){"use strict";function i(){function e(e){return angular.isDefined(e.prop("disabled"))}return{restrict:"E",link:function(){function t(t,n){e(n)||t.$watch(function(){return n.attr("disabled")},function(e){return n.find("input, select, textarea").prop("disabled",e)})}return t}()}}t.__esModule=!0,t["default"]=i,i.NG_NAME="fieldset"},function(e,t,n){"use strict";function i(){return{restrict:"A",require:"^^form",link:function(){function e(e,t,n,i){e.$watch(n[r],function(e){return i.$setValidity("formCustomValidity",!!e)})}return e}()}}t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateForm"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){return!!t.msie}var i=!1;return{restrict:"A",link:function(){function t(t,o,a){function u(e){return function(){e(),t.$apply()}}function c(e){i=s(e)}function s(e){return-1!==e.target.className.indexOf(f)}var l=t.$eval(a[r+"Show"]),d=t.$eval(a[r+"Hide"]),f=a[r+"CssClass"]||"ewf-autocomplete__list";if(!n())return o.on("focus",u(l)),void o.on("blur",u(d));o.on("focus",function(){i=!1,e.on("mousedown",c),l(),t.$apply()}),o.on("blur",function(n){if(e.off("mousedown",c),i&&n)return void n.target.focus();d(),t.$apply()})}return t}()}}i.$inject=["$document","$sniffer"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfToggleDropdown"},function(e,t,n){"use strict";function i(e){"ngInject";return{link:function(){function t(t,n,i){var o=e(i[""+r]);n.on("focusout",function(){o(t),t.$apply()})}return t}()}}i.$inject=["$parse"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfOnFocusOut"},function(e,t,n){"use strict";function i(){function e(e,t,n){t.on("focus",function(){return t.attr("placeholder",n[r])}),t.on("blur",function(){return t.removeAttr("placeholder")})}return{restrict:"A",link:e}}t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfPlaceholder"},function(e,t,n){"use strict";function i(){return{restrict:"A",priority:2,scope:!0,controller:a["default"],controllerAs:"fieldCtrl",require:["^ewfForm",u],link:{pre:r}}}function r(e,t,n,i){var r=i[0],o=i[1];o.name=n[u],o.ewfFormCtrl=r}t.__esModule=!0,t["default"]=i;var o=n(1610),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfField"},function(e,t,n){"use strict";function i(){function e(e){r.push(e)}function t(e){var t=r.indexOf(e);r.splice(t,1)}function n(){return r.reduce(function(e,t){return[].concat(e,Object.keys(t.$error).filter(function(e){return t.$error[e]}))},[])}var i=this,r=[];Object.assign(i,{name:null,ewfFormCtrl:null,registerEwfInput:e,destroyEwfInput:t,getNgModelFieldErrors:n})}t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";function t(e,t,n,o){var a=o[0],u=o[1],c=o[2],l=o[3],d=o[4],p=(n[s]||u.name).split(".").pop(),m={},_={$scope:e,$attrs:n,ewfInputCtrl:a,inputInstanceOption:m,ewfDisableLocalLanguageCtrl:d};Object.assign(a,{fieldName:p,ewfFormCtrl:c,ngModelCtrl:l}),u&&u.registerEwfInput(l),n[s+"NoCharValidation"]?n[s+"NoCharValidationWatch"]&&r(_):i(_),a.setupValidation(),f(t)}function n(t,n){var i=t.$attrs,r=t.ewfInputCtrl,o=t.inputInstanceOption;r.removeAsyncValidator(o.characterValidator);var a=n&&!i[s+"IgnoreDisableLocalLanguage"];o.characterValidator=e.createAsyncValidator("inputCharactersValidator",{disableLocalLanguage:a}),r.addAsyncValidator(o.characterValidator),r.triggerValidation()}function i(e){var t=e.$scope,i=e.inputInstanceOption,r=e.ewfDisableLocalLanguageCtrl;t.$watch(function(){return!(!r||!r.disabled)},function(t,r){t===r&&i.characterValidator||n(e,t)})}function r(e){var t=e.$scope,i=e.$attrs,r=e.ewfInputCtrl,o=e.inputInstanceOption;t.$watch(i[s+"NoCharValidation"],function(t){t?r.removeAsyncValidator(o.characterValidator):n(e)})}function o(e,t,n,i){var r=i[0],o=i[1],a=i[3];t.on("blur",function(){u(t),n[s+"ValidateOnBlur"]&&e.$apply(function(){return r.triggerValidation()})}),e.$on("ValidateForm",function(){u(t),r.triggerValidation()}),e.$on("$destroy",function(){r.rejectPendingValidation(),r.cleanErrorMessages(),r.cleanWarningMessages(),o.destroyEwfInput(a)})}function u(e){e.addClass("ng-blur")}function l(e){return e.parents("."+c["default"].HIGHLIGHTED)}function d(e){var t=e.controller("form");return t&&t.$pristine}function f(e){var t=l(e);t.length&&d(t)&&e.addClass(c["default"].HIGHLIGHTED)}return{restrict:"A",priority:3,controller:a["default"],controllerAs:"ewfInputCtrl",require:[s,"^ewfField","^ewfForm","ngModel","^?ewfDisableLocalLanguage"],link:{pre:t,post:o}}}r.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=r;var o=n(1612),a=i(o),u=n(134),c=i(u),s=r.NG_NAME="ewfInput"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){T.ngModelCtrl.$parsers.push(T.validationCallback),T.ngModelCtrl.$formatters.unshift(T.validationCallback)}function i(e){return T.validate(e),e}function r(e,n){T.validators.push(e),n&&M.push(e),t.addClass(e.getCSSClass())}function a(e){c(e)}function u(e){c(e,!0)}function c(e){var n=!(arguments.length<=1||arguments[1]===undefined)&&arguments[1],i=T[n?"asyncValidators":"validators"],r=i.indexOf(e);-1!==r&&(i.splice(r,1),t.removeClass(e.getCSSClass()),T.triggerValidation(!1,!0));var o=M.indexOf(e);-1!==o&&M.splice(o,1)}function s(e){T.asyncValidators.push(e),t.addClass(e.getCSSClass())}function l(e){T.ngModelCtrl.$setValidity(o["default"].VALIDATION_ERROR_KEYS,e)}function d(t){f(function(){return T.cleanErrorMessages(),T.cleanWarningMessages(),m(t),t&&p()?E(t):e.when()})}function f(e){var t=function(){return e().then(function(){return y=null})};y?y.then(t):y=t()}function p(){var e=[o["default"].REQUIRED,o["default"].MIN_LENGTH,o["default"].MAX_LENGTH,o["default"].PENDING_VALIDATION_KEYS];return Object.entries(T.ngModelCtrl.$error).every(function(t){var n=t[0];return!t[1]||e.includes(n)})}function m(e){l(T.validators.every(function(t){var n=M.includes(t)?T.ngModelCtrl.$modelValue:e,i=t.validate(n);return i||T.addErrorMessage(t.getMessage(),t.getMessageParams()),i}))}function _(){T.rejectValidation=!0}function E(t){T.rejectValidation=!1;var n=T.asyncValidators.map(function(e){return e.validate(t)});v(!0);var i=e.all(n).then(function(e){if(!T.rejectValidation){var t=e.every(S);N()&&l(t)}});return i["finally"](function(){v(!1),T.rejectValidation=!1}),i}function S(e,t){if(!T.asyncValidators[t])return e;var n=T.asyncValidators[t].getMessage(),i=T.asyncValidators[t].getMessageParams();return e?n&&T.addWarningMessage(n):T.addErrorMessage(n,i),e}function g(e,t){T.ewfFormCtrl.addFieldError(T.fieldName,e,t)}function C(e){T.ewfFormCtrl.addFieldWarning(T.fieldName,e)}function A(){T.ewfFormCtrl.cleanFieldErrors(T.fieldName)}function h(){T.ewfFormCtrl.cleanFieldWarnings(T.fieldName)}function I(){var e=!(arguments.length<=0||arguments[0]===undefined)&&arguments[0],t=!(arguments.length<=1||arguments[1]===undefined)&&arguments[1],n=T.ngModelCtrl;if(!e||n.$viewValue){var i=t?n.$modelValue:n.$viewValue;T.validationCallback(i)}}function v(e){T.ngModelCtrl.$setValidity(o["default"].PENDING_VALIDATION_KEYS,!e)}function N(){return!T.ngModelCtrl.$error[o["default"].VALIDATION_ERROR_KEYS]}var T=this,M=[];Object.assign(T,{setupValidation:n,validationCallback:i,addValidator:r,removeValidator:a,addAsyncValidator:s,removeAsyncValidator:u,validate:d,addErrorMessage:g,cleanErrorMessages:A,addWarningMessage:C,cleanWarningMessages:h,triggerValidation:I,rejectPendingValidation:_,validationErrorMessage:{},validationIsVisible:!1,rejectValidation:!1,fieldName:null,validators:[],asyncValidators:[],ngModelCtrl:null,ewfFormCtrl:null});var y=void 0}i.$inject=["$q","$element"],t.__esModule=!0,t["default"]=i;var r=n(227),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";var t={required:E["default"],length:c["default"],pattern:m["default"],password:m["default"],min:l["default"],max:f["default"],attribute:a["default"],email:g["default"],equality:A["default"],callback:I["default"],postalCodeFormat:N["default"],multipleEmails:x["default"]},n={rewardCardValidator:M["default"],dvNumberValidator:O["default"],dhlAccountValidator:b["default"],checkAccountUniqueValidator:G["default"],dhlAccountRegistrationValidator:w["default"],assignmentValidator:P["default"],inputCharactersValidator:F["default"],uniqueReportNameValidator:V["default"],emailExistenceValidator:$["default"],assigneeEmailValidator:Y["default"]};this.createValidator=function(e){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],i=t[e];return i?new i(n):null},this.createAsyncValidator=function(t){var i=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],r=n[t];if(r){var o=e.instantiate(r);return o.setOptions(i),o}return null}}r.$inject=["$injector"],t.__esModule=!0,t["default"]=r;var o=n(1614),a=i(o),u=n(1615),c=i(u),s=n(1616),l=i(s),d=n(1617),f=i(d),p=n(904),m=i(p),_=n(1618),E=i(_),S=n(1619),g=i(S),C=n(1620),A=i(C),h=n(1621),I=i(h),v=n(1622),N=i(v),T=n(1623),M=i(T),y=n(1624),O=i(y),D=n(1625),P=i(D),R=n(1626),b=i(R),L=n(1627),G=i(L),k=n(1628),w=i(k),U=n(1629),F=i(U),j=n(1630),V=i(j),B=n(1631),$=i(B),H=n(1632),x=i(H),K=n(905),Y=i(K);r.NG_NAME="validatorsFactory"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(n){i(this,t);var o=r(this,e.call(this,n));return o.setValidatorName("ewfExternalValidation"),o}return o(t,e),t.prototype.validate=function(){function e(e){var t=this.options.scope,n=t.$parent;return t.validator?t.validator(e,n):t.valid}return e}(),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(n){i(this,t);var o=r(this,e.call(this,n));return o.setCSSClass("ewf-length-validation"),o.setMessage("errors.common_msg_length-error-message"),o}return o(t,e),t.prototype.validate=function(){function e(e){if(["",null,undefined].includes(e))return!0;var t="number"==typeof e?e.toString():e;return"number"==typeof this.options.min&&t.length<this.options.min?(this.options.msg=this.getValidationMessage("minMsg"),!1):!("number"==typeof this.options.max&&t.length>this.options.max)||(this.options.msg=this.getValidationMessage("maxMsg"),!1)}return e}(),t.prototype.getValidationMessage=function(){function e(e){return this.options[e]||this.options.msg}return e}(),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(n){i(this,t);var o=r(this,e.call(this,n));return o.setMessage("errors.common_msg_min-value-error-message"),o.setCSSClass("ewf-min-validation"),o.setValidatorName("ewfMinValidation"),o}return o(t,e),t.prototype.validate=function(){function e(e){var t=this.options.min,n=!e&&0!==e;if(""===t||n||isNaN(e))return!0;var i=parseFloat(e,10);return this.options.strict?i>t:i>=t}return e}(),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(n){i(this,t);var o=r(this,e.call(this,n));return o.setMessage("errors.common_msg_max-value-error-message"),o.setCSSClass("ewf-max-validation"),o}return o(t,e),t.prototype.validate=function(){function e(e){var t=this.options.max,n=!e&&0!==e;if(""===t||n||isNaN(e))return!0;var i=parseFloat(e,10);return this.options.strict?i<t:i<=t}return e}(),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(){var n=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];i(this,t);var o=r(this,e.call(this,n));return o.setCSSClass("ewf-required"),o.setMessage(n.msg||"errors.common_msg_form-field-is-required"),o.setValidatorName("ewfRequiredValidation"),o}return o(t,e),t.prototype.validate=function(){function e(e){return angular.isDefined(e)&&""!==e&&null!==e}return e}(),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(904),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(n){i(this,t);var o=r(this,e.call(this,n));return o.setMessage("errors.common_error_email-inappropriate-format-message"),o.setCSSClass("ewf-email-validation"),o}return o(t,e),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(n){i(this,t);var o=r(this,e.call(this,n));return o.setCSSClass("ewf-required"),o.setMessage("errors.common_msg_form-field-is-required"),o}return o(t,e),t.prototype.validate=function(){function e(e){return e===this.options.valueToEqual}return e}(),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(){return i(this,t),r(this,e.apply(this,arguments))}return o(t,e),t.prototype.validate=function(){function e(e){return this.options.validationMethod(e)}return e}(),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(n){i(this,t);var o=r(this,e.call(this,n));return o.letterMask="A",o.letterRegexp=/[a-zA-Z]/,o.digitMask="9",o.digitRegexp=/\d/,o}return o(t,e),t.prototype.validate=function(){function e(e){var t=this.getFormatsForCountry();return this.postalCodeExample=this.getPostalCodeExample(e,t),this.isFormatValid(e,t)&&this.options.validator?this.processPostalCodeValidity(e,t):this.processFormatError(e,t)}return e}(),t.prototype.isValueShouldNotToBeChecked=function(){function e(e){return!e||e.length<this.options.minLengthToCheck}return e}(),t.prototype.isFormatValid=function(){function e(e,t){return this.isValueShouldNotToBeChecked(e)||!t.length||this.isFormatFullyMatched(e,t)}return e}(),t.prototype.isFormatFullyMatched=function(){function e(e,t){return t.some(function(t){return t.regexpMask.test(e)})}return e}(),t.prototype.getFormatsForCountry=function(){function e(){return this.options.formats[this.options.countryCode]||[]}return e}(),t.prototype.getPostalCodeExample=function(){function e(e,t){return e&&e.length<=this.options.minLengthToCheck?this.getAllCountryFormats(t):this.listOfFormats}return e}(),t.prototype.getAllCountryFormats=function(){function e(e){return e.map(function(e){return e.exampleMask})}return e}(),t.prototype.processPostalCodeValidity=function(){function e(e,t){return this.msg=this.options.validationMessage,this.options.validator(e,this.isFormatFullyMatched(e,t))}return e}(),t.prototype.processFormatError=function(){function e(e,t){function n(e,t){return(e+","+t).match(/^([\w\s-]*)[\w\s-]*(?:,\1[\w\s-]*)*$/).pop().length}function i(e){var t=e.exampleMask;return{exampleMask:t,commonPrefixLength:n(a,t)}}var r=this,o=e?e.split(""):[],a=o.map(function(e){return r.letterRegexp.test(e)?r.letterMask:r.digitRegexp.test(e)?r.digitMask:e}).join(""),u=t.map(i).sort(function(e,t){return t.commonPrefixLength-e.commonPrefixLength}),c=u.filter(function(e){return e.commonPrefixLength===u[0].commonPrefixLength}).map(function(e){return e.exampleMask});return this.listOfFormats=c||this.listOfFormats,this.postalCodeExample=c.length?this.listOfFormats:this.postalCodeExample,this.msg=this.options.formatMessage.replace("{format}",this.postalCodeExample.join(", ")),!1}return e}(),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(n,o,a){"ngInject";i(this,t);var u=r(this,e.call(this));return u.$http=n,u.requests=Object.create(null),u.validationMessages=a,u.countryCode=(o.getCountryLang().countryId||"").toUpperCase(),u.rewardCardPrefix="",u}return t.$inject=["$http","pathService","validationMessages"],o(t,e),t.prototype.setCardPrefix=function(){function e(e){this.rewardCardPrefix=e}return e}(),t.prototype.validate=function(){function e(e){var t=this,n=""+this.rewardCardPrefix+e+"_"+this.countryCode;return this.requests[n]=this.requests[n]||this.$http.post("/api/rewardcard/validate",{rewardCardNumber:""+this.rewardCardPrefix+e,countryCode:this.countryCode}),this.requests[n].then(function(){return!0})["catch"](function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],n=e.data,i=n===undefined?{}:n,r=i.errors||[t.validationMessages.REWARD_CARD.INVALID_NECTAR_CARD_NUMBER];return t.setMessage(r[0]),!1})}return e}(),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c="/api/shipment/brazil/danfe/validate",s="shipment-address.address-details_error_nfe-wrong-dv-number",l=function(e){function t(n){"ngInject";i(this,t);var o=r(this,e.call(this));return o.setMessage(s),o.setCSSClass("ewf-dv-number-validation"),o.requests=Object.create(null),o.$http=n,o}return t.$inject=["$http"],o(t,e),t.prototype.validate=function(){function e(e){return this.requests[e]=this.requests[e]||this.$http.post(c,{danfeKey:e}),this.requests[e].then(function(){return!0})["catch"](function(){return!1})}return e}(),t}(u["default"]);t["default"]=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(n,o,a){"ngInject";i(this,t);var u=r(this,e.call(this));return u.$http=n,u.userService=o,u.Messages=a,u}return t.$inject=["$http","userService","Messages"],o(t,e),t.prototype.validate=function(){function e(e){var t=this,n=this.userService.getUsername();if(e.toLowerCase()===n.toLowerCase())return this.setMessage(this.Messages.ASSIGN_SHIPMENT.ASSIGN_DETAILS_ERROR_ASSIGNEE_EMAIL_EQUALS_USER_EMAIL),!1;var i=this.options.fromCountry;return this.$http.get("/api/shipment/assign/check/assignee?fromCountryCode="+i+"&email="+e,{cache:!0}).then(function(){return!0})["catch"](function(e){var n=e.data;return t.setMessage(n.errors[0]),t.setMessageParams({userName:t.options.userName}),!1})}return e}(),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c="/api/addressbook/account/validate/",s=function(e){function t(n,o){"ngInject";i(this,t);var a=r(this,e.call(this));return a.setMessage(o.COMMON.COMMON_MSG_VALIDATING),a.setCSSClass("ewf-dhl-account-validation"),a.requests=Object.create(null),a.$http=n,a}return t.$inject=["$http","Messages"],o(t,e),t.prototype.validate=function(){function e(e){var t=this;return this.requests[e]=this.requests[e]||this.$http.get(""+c+e),this.requests[e].then(function(e){var n=e.data,i=n.message;return n.valid||i||(i="errors.common_error_validation-error"),t.setMessage(i),n.valid})["catch"](function(){return t.setMessage("errors.common_error_validation-error"),!1})}return e}(),t}(u["default"]);t["default"]=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(n,o){"ngInject";i(this,t);var a=r(this,e.call(this));return a.$q=n,a.$timeout=o,a.accounts=[],a.msg="registration.registration_error_account-not-unique",a}return t.$inject=["$q","$timeout"],o(t,e),t.prototype.setAccounts=function(){function e(e){this.accounts=e}return e}(),t.prototype.validate=function(){function e(e){var t=this;return this.$q.when(this.$timeout(function(){return t.accounts.filter(function(t){return t.number===e}).length<=1}))}return e}(),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c="/api/signup/account/validate",s=function(e){function t(n,o,a,u){"ngInject";i(this,t);var c=r(this,e.call(this));return c.requests=Object.create(null),c.countryCode=(o.getCountryLang().countryId||"").toUpperCase(),c.$http=n,c.Messages=a,c.callRateLoaderService=u,c}return t.$inject=["$http","pathService","Messages","callRateLoaderService"],o(t,e),t.prototype.validate=function(){function e(e){var t=this,n=e+"_"+this.countryCode;return this.requests[n]=this.requests[n]||this.callRateLoaderService.setAccountCookieIfNotExist().then(function(){return t.$http.post(c,{countryCode:t.countryCode,accountNumber:e})}),this.requests[n].then(function(e){var n=e.data;return t.options.accounts&&t.options.accounts.length>1&&n.corporate?(t.setMessage(t.Messages.REGISTRATION.CORP_ACCOUNT_SHOULD_BE_THE_ONLY),!1):(t.onSuccessResponse(n),!0)})["catch"](function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],n=e.data,i=n===undefined?{}:n,r=i.errors||["manage-accounts.my-dhl-accounts_msg_account-is-incorrect"];return t.setMessage(r[0]),!1})}return e}(),t.prototype.onSuccessResponse=function(){function e(e){return e}return e}(),t}(u["default"]);t["default"]=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){var e=arguments.length<=0||arguments[0]===undefined?"":arguments[0],t=/[\^\$\.\*\+\?\(\)\[\]\{\}\|]/g;return e.replace(t,"\\$&")}function u(e){return e["catch"](function(){return undefined})}t.__esModule=!0;var c=n(17),s=function(e){return e&&e.__esModule?e:{"default":e}}(c),l="\\x20-\\x7E\\xA2\\xBC\\xBD\\xBE\\xC2\\xC3\\xCB\\u2013",d="[",f="[^",p="]",m={hexCodes:{value:""}},_=/$a/,E="en",S=function(e){function t(n,o,a){"ngInject";i(this,t);var u=r(this,e.call(this));return u.userService=o,u.$q=n,u.configService=a,u.setMessage("errors.common_msg_character-error-message"),u.BLACKLIST_CHARACTERS_REGEXP=_,u.ALLOWED_CHARACTERS_REGEXP=_,u}return t.$inject=["$q","userService","configService"],o(t,e),t.prototype.loadAllowedCharacters=function(){function e(){var e=this;return this.allowedCharactersRequest?this.allowedCharactersRequest:(this.allowedCharactersRequest=this.$q.all([u(this.configService.getSourceData(this.configService.CI_KEYS.CI0999_NON_ASCII_INPUT_ALLOWED)),u(this.configService.getSourceData(this.configService.CI_KEYS.CI1272_NOT_ALLOWED_ASCII_INPUT))]),this.allowedCharactersRequest.then(function(t){var n=t[0],i=t[1];e.setLanguageCharactersRegexp(n),e.setBlackListRegexp(i)}))}return e}(),t.prototype.setLanguageCharactersRegexp=function(){function e(){var e=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];this.ALLOWED_CHARACTERS_REGEXP=this.options.disableLocalLanguage?this.setAllowedCharactersRegExp(e):this.setAllowedCharactersRegExp(e,this.userService.getUserLanguage())}return e}(),t.prototype.setBlackListRegexp=function(){function e(e){!angular.isObject(e)&&e&&(this.BLACKLIST_CHARACTERS_REGEXP=new RegExp(""+d+a(e)+p,"g"))}return e}(),t.prototype.validate=function(){function e(e){return["",null,undefined].includes(e)||this.isCharactersAllowed(e)}return e}(),t.prototype.isCharactersAllowed=function(){function e(e){var t=this;return this.loadAllowedCharacters().then(function(){var n=e.toString(),i=n.match(t.BLACKLIST_CHARACTERS_REGEXP)||[],r=n.match(t.ALLOWED_CHARACTERS_REGEXP)||[],o=[].concat(i,r).filter(function(e,t,n){return n.indexOf(e)===t}).join(", ");return t.setMessageParams({invalidCharacters:o}),!o.length})}return e}(),t.prototype.setAllowedCharactersRegExp=function(){function e(e,t){var n=this.getLanguageRegExpConfig(e,E),i=a(n),r=t?a(this.getLanguageRegExpConfig(e,t)):"",o=""+l+i+r,u=""+f+o+p;return new RegExp(u,"g")}return e}(),t.prototype.getLanguageRegExpConfig=function(){function e(e,t){return(e.find(function(e){return e.language.value===t})||m).hexCodes.value}return e}(),t}(s["default"]);t["default"]=S},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c="/api/myreport/name/validate",s=function(e){function t(n){"ngInject";i(this,t);var o=r(this,e.call(this));return o.$http=n,o.requests={},o}return t.$inject=["$http"],o(t,e),t.prototype.validate=function(){function e(e){var t=this.getOptions(),n=t.key,i={method:"POST",url:c,data:{key:n,reportName:e}};return this.requests[e]=this.requests[e]||this.$http(i),this.requests[e].then(function(e){return e.data.valid})["catch"](function(){return!1})}return e}(),t}(u["default"]);t["default"]=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(17),c=i(u),s=n(5),l=i(s),d=function(e){function t(n,i,a,u){"ngInject";r(this,t);var c=o(this,e.call(this));return c.$q=n,c.$http=i,c.requests=Object.create(null),c.validationMessages=a,c.callRateLoaderService=u,c}return t.$inject=["$q","$http","validationMessages","callRateLoaderService"],a(t,e),t.prototype.validate=function(){function e(e){var t=this,n=this.options.ignore;return this.requests[e]=n&&e===n?this.$q.when({data:{exist:!1}}):this.requests[e]||this.callRateLoaderService.setEmailCookieIfNotExist().then(function(){return t.$http.post("/api/signup/email/validate",{email:e})})["catch"](function(n){return t.requests[e]=null,t.$q.reject(n)}),this.requests[e].then(function(e){return e.data.exist?(t.setMessage(t.validationMessages.EMAIL.EXIST),!1):(t.removeMessage(),!0)})["catch"](function(e){var n=e.status,i=e.data;return n===l["default"].BAD_REQUEST&&t.setMessage(i.errors[0]),!1})}return e}(),t}(c["default"]);t["default"]=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(17),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=function(e){function t(){return i(this,t),r(this,e.apply(this,arguments))}return o(t,e),t.prototype.validate=function(){function e(e){var t=this;return(e&&e.split(this.options.validatorPatterns.EMAILS_SPLIT_REGEX_COMMA_SEMICOLON)||[]).every(function(e){return t.options.validatorPatterns.EMAIL.test(e.trim())})}return e}(),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function i(){function e(e){"ngInject";return{required:"errors.common_msg_form-field-is-required",maxlength:"errors.common_msg_max-length-error-message",minlength:"errors.common_msg_min-length-error-message",pattern:"errors.common_msg_pattern-error-message",number:"errors.common_msg_pattern-error-message",prohibition:"errors.common_msg_validation-prohibition",reference:e.SHIPMENT_DETAILS.SHIPMENT_TYPE_ERROR_REFERENCE_DOESN_NOT_MATCH,format:e.SHIPMENT_DETAILS.SHIPMENT_TYPE_ERROR_REFERENCE_DOES_NOT_MATCH_FORMAT,formatList:e.SHIPMENT_DETAILS.SHIPMENT_TYPE_ERROR_REFERENCE_EMPTY_FORMAT_LIST,ACCOUNT:{INVALID:e.MANAGE_ACCOUNTS.MY_DHL_ACCOUNTS_MSG_ACCOUNT_IS_INCORRECT_ERROR,UNABLE_TO_PROCESS_REQUEST:"errors.unable_to_process_request",UNAUTHORIZED:e.MANAGE_ACCOUNTS.MY_DHL_ACCOUNTS_MSG_ACCOUNT_IS_UNAUTHORIZED_ERROR,ESECURE_UNAUTHORIZED:e.MANAGE_ACCOUNTS.MY_DHL_ACCOUNTS_MSG_ACCOUNT_IS_ESECURE_UNAUTHORIZED_ERROR,CREDIT_STOP:e.MANAGE_ACCOUNTS.MY_DHL_ACCOUNTS_MSG_ACCOUNT_CREDIT_IS_STOPPED,RESTRICTED_TO_SINGLE_PIECE:e.SHIPMENT_PAYMENT.PAYMENT_SELECTION_MSG_ACCOUNT_RESTRICTED_TO_SINGLE_PIECE,INVALID_FOR_DOMESTIC:e.SHIPMENT_PAYMENT.PAYMENT_SELECTION_MSG_ACCOUNT_INVALID_FOR_DOMESTIC_SHIPMENT,INVALID_FOR_OFAC:e.SHIPMENT_PAYMENT.PAYMENT_SELECTION_MSG_ACCOUNT_INVALID_FOR_OFAC_SHIPMENT,OUTBOUND_NOT_SUPPORTED:e.SHIPMENT_PAYMENT.PAYMENT_SELECTION_MSG_ACCOUNT_DOES_NOT_SUPPORT_OUTBOUND_PROCESSING,INVALID_FOR_SHIPMENT:e.SHIPMENT_PAYMENT.PAYMENT_SELECTION_MSG_ACCOUNT_INVALID_FOR_SHIPMENT,NOT_SUPPORT_PALLET:e.SHIPMENT_PAYMENT.PAYMENT_SELECTION_MSG_ACCOUNT_NOT_SUPPORTS_PALLET,INVALID_WEIGHT_OR_DIMENSION:e.SHIPMENT_PAYMENT.PAYMENT_SELECTION_MSG_ACCOUNT_INVALID_WEIGHT_OR_DIMENSION,INVALID_COMBINATION:e.SHIPMENT_PAYMENT.PAYMENT_SELECTION_MSG_ACCOUNT_INVALID_COMBINATION,INVALID_DUTIES_AND_TAXES_ACCOUNT:e.SHIPMENT_PAYMENT.PAYMENT_SELECTION_MSG_INVALID_DUTIES_AND_TAXES_ACCOUNT,INVALID_ITAR_ACCOUNT:e.SHIPMENT_PAYMENT.PAYMENT_SELECTION_MSG_ACCOUNT_INVALID_FOR_MILITARY,ESECURE:{PENDING:e.MANAGE_ACCOUNTS.MY_DHL_ACCOUNTS_MSG_ACCOUNT_ESECURE_PENDING,FAILED:e.MANAGE_ACCOUNTS.MY_DHL_ACCOUNTS_MSG_ACCOUNT_IS_ESECURE_UNAUTHORIZED_ERROR,REJECTED:e.MANAGE_ACCOUNTS.MY_DHL_ACCOUNTS_MSG_ACCOUNT_ESECURE_REJECTED,NOT_EXISTS:e.MANAGE_ACCOUNTS.MY_DHL_ACCOUNTS_MSG_ACCOUNT_ESECURE_NOT_EXIST,UNKNOWN:e.MANAGE_ACCOUNTS.MY_DHL_ACCOUNTS_MSG_ACCOUNT_ESECURE_UNKNOWN}},SCHEDULE_PICKUP:{ACCOUNT_NUMBER_IS_INVALID:e.SCHEDULE_MANAGE_PICKUP.LABEL_REFERENCE_ERROR_ACCOUNT_NUMBER_IS_INVALID,IMPORT_ACCOUNT_IS_NOT_ALLOWED_FOR_PICKUP:e.SCHEDULE_MANAGE_PICKUP.LABEL_REFERENCE_ERROR_IMPORT_ACCOUNT_IS_NOT_ALLOWED_FOR_PICKUP,COUNTRY_DOESNT_MATCH_IMPORT:e.SCHEDULE_MANAGE_PICKUP.LABEL_REFERENCE_ERROR_COUNTRY_DOESNT_MATCH_IMPORT,COUNTRY_DOESNT_MATCH:e.SCHEDULE_MANAGE_PICKUP.LABEL_REFERENCE_ERROR_COUNTRY_DOESNT_MATCH_ACCOUNT_COUNTRY,UNABLE_TO_PROCESS_REQUEST:"errors.common_msg_unable-to-process-request"},REWARD_CARD:{INVALID_NECTAR_CARD_NUMBER:e.USER_PROFILE.REWARD_CARD_ERROR_INVALID_NECTAR_CARD_NUMBER},LOGIN:{IDENTICAL_TO_EXPIRED:e.LOGIN_FORGOT_RESET_PASSWORD.RESET_PASSWORD_ERROR_PASSWORD_IDENTICAL_TO_EXPIRED},EMAIL:{EXIST:e.ERRORS.COMMON_MSG_VALIDATION_EMAIL_ALREADY_EXISTS,INVALID_FORMAT:e.ERRORS.EMAIL_ERROR_MESSAGE},SHIPMENT_PICKUP:{BACKEND_ERROR_INVALID_WAYBILL_NUMBER:e.SHIPMENT_PICKUP.BACKEND_ERROR_INVALID_WAYBILL_NUMBER}}}e.$inject=["Messages"];var t=this;Object.assign(t,{$get:e})}t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";return{restrict:"A",require:"ewfInput",link:{pre:function(){function t(t,n,i,r){r.addAsyncValidator(e.createAsyncValidator("assigneeEmailValidator"))}return t}()}}}i.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfValidateAssigneeEmail"},function(e,t,n){"use strict";function i(){function e(e,i,a,u){e.$watch(function(){return e.$eval(a[o])},function(e){e&&(u.$setValidity("gssValidation",t(e)),e.mode===r.GSS_MODE.WARNING&&e.status===r.GSS_STATUS.RED?i.addClass(n):i.removeClass(n))})}function t(e){return e.mode!==r.GSS_MODE.ERROR||e.status===r.GSS_STATUS.GREEN}var n="warning";return{restrict:"A",require:"ngModel",link:{pre:e}}}t.__esModule=!0,t["default"]=i;var r=n(399),o=i.NG_NAME="ewfValidateGlobalScreening"},function(e,t,n){"use strict";function i(e,t){"ngInject";return{restrict:"A",require:["ewfInput","ngModel"],scope:{valid:"="+r+"Valid",validator:"="+r+"Validator",msg:"@"+r+"Message",triggerValidation:"="+r+"TriggerValidation",stayPristine:"=?"+r+"StayPristine"},link:{pre:function(){function e(e,n,i,o){var a=o[0];e.element=n;var u=t.createValidator("attribute",{scope:e});a.addValidator(u),i.$observe(r+"Message",function(e){e&&u.setOptions({msg:e})})}return e}(),post:function(){function t(t,n,i,r){e.initValidation(t,n,r)}return t}()}}}i.$inject=["validateDirectiveInitService","validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateAttribute"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n,i,r){r.addAsyncValidator(e.createAsyncValidator("dhlAccountValidator"))}return{restrict:"A",require:"ewfInput",link:{pre:t}}}i.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfValidateDhlAccount"},function(e,t,n){"use strict";function i(){return{restrict:"A",require:"ngModel",link:{pre:function(){function e(e,t,n,i){function o(e){a=a||[];var t=!e||a.length<2||a.filter(function(t){return t===e}).length<2;return i.$setValidity("duplication",t),e}var a=void 0;e.$watchCollection(n[r],function(e){a=e,o(i.$modelValue)}),i.$parsers.unshift(o),i.$formatters.push(o)}return e}()}}}t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateDuplication"},function(e,t,n){"use strict";function i(e){"ngInject";return{restrict:"A",require:"ewfInput",link:{pre:function(){function t(t,n,i,o){var a=i[r+"Message"]||"",u=e.createAsyncValidator("dvNumberValidator",{msg:a});o.addAsyncValidator(u)}return t}()}}}i.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateDvNumber"},function(e,t,n){"use strict";function i(e){"ngInject";return{restrict:"A",require:"ewfInput",link:{pre:function(){function t(t,n,i,o){var a=e.createAsyncValidator("assignmentValidator",{fromCountry:t.$eval(i[r]),userName:t.$eval(i[r+"UserName"])});o.addAsyncValidator(a),t.$watch(i[r+"UserName"],function(e){a.setOptions({userName:e}),o.triggerValidation(!0)})}return t}()}}}i.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateAssignment"},function(e,t,n){"use strict";function i(e,t){"ngInject";return{restrict:"A",require:"ewfInput",link:{pre:function(){function n(n,i,o,a){var u=o[r+"Message"]||"";a.addValidator(e.createValidator("email",{value:t.USER_NAME_PATTERN,msg:u}))}return n}()}}}i.$inject=["validatorsFactory","Patterns"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateEmail"},function(e,t,n){"use strict";function i(e){"ngInject";return{restrict:"A",require:"ewfInput",scope:{valueToEqual:"="+r,msg:"@"+r+"Message"},link:{pre:function(){function t(t,n,i,r){var o=r;t.element=n,o.addValidator(e.createValidator("equality",t))}return t}()}}}i.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateEquality"},function(e,t,n){"use strict";function i(e){"ngInject";return{restrict:"A",require:"ewfInput",link:{pre:function(){function t(t,n,i,o){function a(){return{min:+t.$eval(i[r+"Min"]),max:+t.$eval(i[r+"Max"]),msg:i[r+"Message"],minMsg:i[r+"MinMessage"],maxMsg:i[r+"MaxMessage"]}}function u(e,t){angular.equals(t,e)||(c.setOptions(e),o.triggerValidation(!0))}Object.assign(t,{element:n},a());var c=e.createValidator("length",t);o.addValidator(c),i[r+"Variable"]&&t.$watch(a,u,!0)}return t}()}}}i.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateLength"},function(e,t,n){"use strict";function i(e){"ngInject";return{restrict:"A",require:"ewfInput",link:{pre:function(){function t(t,n,i,o){var a=function(){function e(){return i[r+"Message"]||""}return e}(),u=i[r],c=e.createValidator("max",{max:i[r],msg:a()});o.addValidator(c,!!i[r+"ValidateModelValue"]),i.$observe(r+"Strict",function(e){var t="true"===e;c.setOptions({strict:t}),o.triggerValidation(!0,!0)}),i.$observe(r,function(e){u=e,c.setOptions({max:u,msg:a()}),o.triggerValidation(!0,!0)}),i.$observe(r+"Message",function(e){c.setOptions({max:u,msg:e}),o.triggerValidation(!0,!0)})}return t}()}}}i.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateMax"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n,i,o){function a(){return i[r+"Message"]||""}var u=i[r],c=e.createValidator("min",{min:i[r],msg:a()});o.addValidator(c),i.$observe(r+"Strict",function(e){var t="true"===e;c.setOptions({strict:t}),o.triggerValidation(!0,!0)}),i.$observe(r,function(e){u=e,c.setOptions({min:e,msg:a()}),o.triggerValidation(!0,!0)}),i.$observe(r+"Message",function(e){c.setOptions({min:u,msg:e}),o.triggerValidation(!0,!0)})}return{restrict:"A",require:"ewfInput",link:{pre:t}}}i.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateMin"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";var i={inputAsVariable:!1};return{restrict:"A",require:"ewfInput",link:{pre:function(){function o(o,a,u,c){var s=c.ngModelCtrl,l=e(u[r+"Options"])(),d=angular.extend({},i,l),f=d.inputAsVariable?e(u[r])():u[r],p=n[f],m=u[r+"Message"]||"",_=t.createValidator("pattern",{value:p,msg:m});c.addValidator(_),u.$observe(r,function(e){var t=n[e];_.setOptions({value:t,msg:m}),s.$viewValue&&c.triggerValidation()})}return o}()}}}i.$inject=["$parse","validatorsFactory","Patterns"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidatePattern"},function(e,t,n){"use strict";function i(e){"ngInject";return{restrict:"A",require:"ewfInput",link:{pre:function(){function t(t,n,i,o){var a={msg:i[r+"Message"]},u=e.createValidator("required",a);i[r]?t.$watch(i[r],function(e){e?(o.addValidator(u),o.triggerValidation(!1,!0)):o.removeValidator(u)}):o.addValidator(u)}return t}()}}}i.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateRequired"},function(e,t,n){"use strict";function i(e){"ngInject";return{restrict:"A",require:["ewfInput","^?ewfcCountry"],link:{pre:function(){function t(t,n,i,o){var a=o[0],u=o[1],c=e.createAsyncValidator("rewardCardValidator");i.$observe(r+"Prefix",function(e){c.setCardPrefix(e)}),u&&u.registerComponent(t,function(e){c.setCountryCode(e)}),a.addAsyncValidator(c)}return t}()}}}i.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateRewardCard"},function(e,t,n){"use strict";function i(){return{restrict:"A",link:function(){function e(e,t,n){function i(){u=a(),u.forEach(function(e){if(e&&e.$invalid){Object.keys(e.$error).forEach(function(t){e.$setValidity(t,!0)})}})}function o(){u.forEach(function(e){e.$parsers.forEach(function(t){t(e.$viewValue)})})}function a(){return t.find("[ng-model]").toArray().map(function(e){return angular.element(e).controller("ngModel")})}var u=[],c=null;e.$watch(function(){return e.$eval(n[r])},function(t){t?c=e.$watch(i):c&&(c(),c=null,o())})}return e}()}}t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfDisableValidation"},function(e,t,n){"use strict";function i(){function e(e,t,n){var i=t.controller("ngModel");t.disablesIsValid=!0,e.$watchCollection(function(){var o=e.$eval(n.ngDisabled),a=e.$eval(n[r]),u=o||a&&i.$viewValue;return t.disabledOnce=t.disabledOnce||a,[!t.disabledOnce,u]},function(e){var n=e[0],r=e[1];n||i.$dirty||t.prop("disabled",!!r)})}return{restrict:"A",link:function(){function t(t,n,i){t.$watchCollection(function(){var e=n.find("input, textarea, select").toArray(),t=n.find("[ewf-disable-if-filled]").find("input, textarea, select").toArray();return e.filter(function(e){return!e.disablesIsValid&&!t.includes(e)})},function(n){return n.forEach(function(n){var r=angular.element(n);r.controller("ngModel")&&e(t,r,i)})})}return t}()}}t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfDisableIfFilled"},function(e,t,n){"use strict";function i(){var e="ng-valid-ewf-valid",t="ng-invalid";return{restrict:"A",require:"^form",link:function(){function n(n,i,r,u){i.addClass(o["default"].CONDITIONAL_ELEMENT),n.$watch(function(){return n.$eval(r[a])},function(n){u.$setValidity("conditionalValidity"+r[a],n),i.addClass(n?e:t).removeClass(n?t:e)}),n.$on("$destroy",function(){return u.$setValidity("conditionalValidity"+r[a],!0)})}return n}()}}t.__esModule=!0,t["default"]=i;var r=n(134),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfFormConditionValidator"},function(e,t,n){"use strict";function i(){function e(e,n,i,r){e.$watch(i.ngModel,function(e){r.$setValidity("nonEmpty",t(e))},!0)}function t(e){return e&&Object.values(e).some(Boolean)}return{restrict:"A",require:"ngModel",link:{pre:e}}}t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfNonEmptyValidator"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n){var i=n.fromCountry,r=n.toCountry;return!(!i||!r)&&e.getShipmentTypeHelperItems(i,r).then(function(e){return!e.allProhibitedItems.map(function(e){return e.toLowerCase()}).includes((t||"").toLowerCase())})}return{validateProductProhibition:t}}i.$inject=["shipmentTypeHelperService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="productProhibitionValidationService"},function(e,t,n){"use strict";function i(e,t){"ngInject";return{restrict:"A",require:["ewfInput","ngModel"],link:{pre:function(){function e(e,n,i,o){function a(){return{formats:e.$eval(i[r+"Formats"]),countryCode:e.$eval(i[r+"Country"]),validator:e.$eval(i[r+"Validator"]),triggerValidation:e.$eval(i[r+"TriggerValidation"]),validationMessage:i[r+"ValidationMessage"],minLengthToCheck:i[r+"MinLengthToCheck"],formatMessage:i[r+"FormatMessage"]}}var u=o[0],c=t.createValidator("postalCodeFormat",a());u.addValidator(c),e.$watch(a,function(e){c.setOptions(e),u.triggerValidation(!0)},!0)}return e}(),post:function(){function t(t,n,i,r){e.initValidation(t,n,r)}return t}()}}}i.$inject=["validateDirectiveInitService","validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidatePostalCodeFormat"},function(e,t,n){"use strict";function i(e){"ngInject";return{restrict:"A",require:"ewfInput",link:{pre:function(){function t(t,n,i,o){function a(){o.ngModelCtrl.$setValidity("email",!1)}var u=t.$eval(i[r+"Ignore"])||"",c=t.$eval(i[r+"LocalValidation"]);if(c)c(a);else{var s=e.createAsyncValidator("emailExistenceValidator",{ignore:u});o.addAsyncValidator(s)}}return t}()}}}i.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateEmailExistence"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";return{restrict:"A",require:"ewfInput",link:{pre:function(){function i(i,r,o,a){var u={EMAILS_SPLIT_REGEX_COMMA_SEMICOLON:n.EMAILS_SPLIT_REGEX_COMMA_SEMICOLON,EMAIL:n.EMAIL},c={validatorPatterns:u,msg:t.EMAIL.INVALID_FORMAT},s=e.createValidator("multipleEmails",c);a.addValidator(s)}return i}()}}}i.$inject=["validatorsFactory","validationMessages","Patterns"],t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfValidateMultipleEmails"},function(e,t,n){"use strict";function i(e){"ngInject";return{restrict:"A",require:"ewfInput",link:{pre:function(){function t(t,n,i,o){i[r]&&t.$watch(i[r],function(t){if(t){var n={value:t,msg:i[r+"Message"]},a=e.createValidator("pattern",n);o.addValidator(a),o.triggerValidation()}})}return t}()}}}i.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateAsyncPattern"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,r,o){var a=o[0],u=o[1],c=void 0,s=t.$watch(function(){return u.$viewValue},function(n){n&&(s(),e.cancel(c),t.stayPristine||r.addClass("ng-dirty").removeClass("ng-pristine"))});c=e(s,n,i),t.$watch("triggerValidation",function(){return a.triggerValidation()})}var n=1e4,i=!1;return{initValidation:t}}i.$inject=["$timeout"],t.__esModule=!0,t["default"]=i,i.NG_NAME="validateDirectiveInitService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(i,r){return n.get(i)?t.when():e.post(r)}function r(){return i(o["default"].RATE_DATA_EMAIL,"/api/call-rate/email")}function a(){return i(o["default"].RATE_DATA_ACCOUNT,"/api/call-rate/account")}return{setEmailCookieIfNotExist:r,setAccountCookieIfNotExist:a}}i.$inject=["$http","$q","cookiesService"],t.__esModule=!0,t["default"]=i;var r=n(14),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="callRateLoaderService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,i,o,a){var u=o[r];if(u){var c={msg:o[r+"Message"]||n,validationMethod:function(){function e(e){return t.$eval(u)===e}return e}()},s=e.createValidator("callback",c);t.$watch(u,a.triggerValidation),a.addValidator(s)}}var n="errors.common_error_field-values-different";return{restrict:"A",require:"ewfInput",link:t}}i.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateFieldEquality"},function(e,t,n){"use strict";function i(e){"ngInject";return{restrict:"A",require:["ewfInput","ngModel"],link:function(){function t(t,n,i,o){var a=o[0],u=o[1],c={msg:i[r+"Message"],validationMethod:function(){function e(e){return(e.match(/[\.,]/g)||[]).length<2}return e}()},s=e.createValidator("callback",c);t.$watch(function(){return u.$viewValue},function(){return a.triggerValidation()}),a.addValidator(s)}return t}()}}i.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidateDecimalPoints"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n,i,r,o,u){function c(e){if(!A)return void s(e);v&&v(),v=n.$watch(A,function(t){s(e,t)})}function s(n,i){if(null!==n){var r=e.getConfigurationItem(_,n);return r.then(function(e){return l(e,i)}),void(g&&t.applySpinner(r))}l({visible:!1,mandatory:!1,maxLength:0})}function l(e,t){var r=angular.copy(e);p.clearValidators(),d(),f(),(C||t)&&(r.mandatory=!1),r.visible&&(u(h=n.$new(),function(e){i.after(I=e)}),p.createValidators(r)),r.maxLength&&(p.maxLength=r.maxLength)}function d(){h&&(h.$destroy(),h=null)}function f(){I&&(I.remove(),I=null)}var p=o[0],m=o[1],_=r[a],E=n.$eval(r[a+"Country"]),S=n.$eval(r[a+"Ignored"]),g="false"!==r[a+"ShowSpinnerWhileLoading"],C=n.$eval(r[a+"IgnoreCifMandatory"]),A=r[a+"IgnoreCifMandatoryWatch"],h=void 0,I=void 0,v=void 0;if(!_||S)return void l({visible:!0,mandatory:!1,maxLength:0});m&&E?m.registerComponent(n,function(){return c(E)}):m?m.registerComponent(n,c):c()}return{transclude:"element",priority:600,terminal:!0,restrict:"A",require:[a,"?^ewfcCountry"],controller:o["default"],controllerAs:"ewfcFieldCtrl",link:n}}i.$inject=["fieldService","spinnerService"],t.__esModule=!0,t["default"]=i;var r=n(1663),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfcField"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e,t){i(e,t),e.$parsers.push(a),_=e}function i(t,n){n?e(function(){return t.$formatters.push(a)}):t.$formatters.unshift(a)}function r(){_=null}function a(e){return m.forEach(function(t){var n=t.validate(e);_&&_.$setValidity(t.key,n)}),e}function u(){m=[]}function c(e){m.push(e)}function s(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=p.errorParams=e,n=t.mandatory,i=t.maxLength,r=t.minLength;n&&c(l()),i&&c(d(i)),r&&c(f(r))}function l(){var e=t.createValidator(o["default"].REQUIRED);return{key:o["default"].REQUIRED,validate:function(){function t(t){return e.validate(t)}return t}()}}function d(e){var n=t.createValidator("length",{max:e});return{key:o["default"].MAX_LENGTH,validate:function(){function e(e){return n.validate(e)}return e}()}}function f(e){var n=t.createValidator("length",{min:e});return{key:o["default"].MIN_LENGTH,validate:function(){function e(e){return n.validate(e)}return e}()}}var p=this;Object.assign(p,{registerInput:n,unregisterInput:r,clearValidators:u,createValidators:s,errorParams:{}});var m=[],_=void 0}i.$inject=["$timeout","validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=n(227),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(i,o){return t.getFormField(i,o).then(function(t){return t||(n.error("ADT returned unexpected value ("+t+") for "+i),e.reject())})["catch"](function(){return angular.copy(r)})}var r={visible:!1,mandatory:!1,maxLength:0};return{getConfigurationItem:i}}i.$inject=["$q","configService","logService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="fieldService"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=t.module=undefined;var i=n(1666),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=angular.module("common.configuration.form.input",[]);o.directive(r["default"].NG_NAME,r["default"]),t.module=o,t["default"]="common.configuration.form.input"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){var o=i[0],a=i[1];o&&(o.registerInput(a,e.$eval(n[r+"ValidateBeforeFormatting"])),e.$on("$destroy",function(){o.unregisterInput()}))}function t(e,t,n,i){var o=i[0],a=i[1];o&&!e.$eval(n[r+"ShouldNotTriggerValidation"])&&t.on("blur",function(){a.$pristine&&a.$setViewValue(a.$viewValue)})}return{require:["^?ewfcField","ngModel"],link:{pre:e,post:t}}}t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfcInput"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1668),u=i(a),c=angular.module("common.configuration.form.submit",[o["default"]||"common.utils"]);c.directive(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="common.configuration.form.submit"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r){"ngInject";function o(t,n,i){var o={submitted:!1,options:angular.copy(P),scrollBlockers:{}},a=n.is("form"),c=i[d]?e(i[d],!0):null,l=a?"submit":"click",A=p(t,n,i);_(t,i,o.options),E(t,i,o.scrollBlockers);var I=o.options.showLoaderAfter?O:M,v=a?n.find("[type=submit]"):n;n.on(l,function(e){N(A,o);var n=A.controller("form");r.applyOptionalMandatorityConfig(t,i,d),s(n,o)&&(S(A),C(A,o)),u(n,o)?(g(A),m(t,i,"form is invalid")):f(c,o)?function(){var n={loaderCssClass:I,submitButton:v,submitInstanceOptions:o,form:A};t.$apply(function(){return h(c(t,{$event:e}),n)})}():R?m(t,i,"submit triggered while previous one still not finished"):m(t,i,"submit callback is not defined")})}function u(e,t){return s(e,t)&&!T(e.$error)}function s(e,t){return e&&e.$invalid&&!t.options.ignoreInvalidForm}function f(e,t){return e&&(!R||t.options.ignoreUnresolvedSubmit)}function p(e,t,n){return e.$eval(n[d+"Form"])||t.closest("form, ng-form, [ng-form]")}function m(e,t,n){var i=t[d+"OnError"];i&&e.$eval(i,{submitError:n})}function _(e,t,n){Object.assign(n,e.$eval(t[d+"Options"])||{})}function E(e,t,n){Object.assign(n,e.$eval(t[d+"ScrollBlockers"])||{})}function S(e){angular.forEach(angular.element("[ng-model], ."+c["default"].CONDITIONAL_ELEMENT,e),function(e){t.removeClass(angular.element(e),c["default"].HIGHLIGHTED,function(){return t.addClass(angular.element(e),c["default"].HIGHLIGHTED)})})}function g(e){angular.forEach(angular.element("[ewf-field-errors].is-hidden",e),function(e){angular.element(e).removeClass("is-hidden")})}function C(e,t){var n,r=t.options,o=t.scrollBlockers;if(r.scrollToFirstError){for(var a=Object.assign((n={},n[y]=y,n),o||{}),u=Object.entries(a),c=Array.isArray(u),s=0,u=c?u:u[Symbol.iterator]();;){var l;if(c){if(s>=u.length)break;l=u[s++]}else{if(s=u.next(),s.done)break;l=s.value}var d=l,f=d[0],p=d[1];if(i.isElementExists(f))return void i.scrollToWithoutHash(p)}A(e)}}function A(e){var t=angular.element(":input:visible",e).filter(".ng-invalid").first();t.focus();var n=i.getTopPosition(t),r=i.getHeaderHeight()+D;n<r&&i.incrementVerticalPosition(n-r)}function h(e,t){var i=t.loaderCssClass,r=t.submitButton,o=t.submitInstanceOptions,u=t.form,c=o.options;e&&angular.isFunction(e["finally"])&&(v(!0,i,r,c),e.then(function(e){return I(e,u,o)})["finally"](function(){n(function(){return v(!1,i,r,c)},a["default"].spinnerTimeout)}))}function I(e,t,i){angular.isObject(e)&&e.shouldScrollToFirstError&&n(function(){S(t),C(t,i)})}function v(e,t,n,i){R=e,n.length&&(i.showLoader?n.toggleClass(t,e):n.attr({disabled:e}))}function N(e,t){t.submitted||(t.submitted=!0,e.addClass("ewfc-submitted"))}function T(e){return Object.entries(e).filter(function(e){return e[1]}).every(function(e){var t=e[0];return l["default"].includes(t)})}var M="btn_loading",y="ewfc-submit-blocker-element",O=M+" "+M+"_after",D=60,P={showLoader:!1,showLoaderAfter:!1,scrollToFirstError:!1,ignoreUnresolvedSubmit:!1},R=!1;return{restrict:"A",link:o}}r.$inject=["$parse","$animate","$timeout","anchorScrollService","optionalMandatorityService"],t.__esModule=!0,t["default"]=r;var o=n(27),a=i(o),u=n(134),c=i(u),s=n(1669),l=i(s),d=r.NG_NAME="ewfcSubmit"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=["gssValidation"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1671),u=i(a),c=n(1672),s=i(c),l=angular.module("reporting.restrictions",[o["default"]||"common.utils"]);l.service(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="reporting.restrictions"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){return n.isCorpAdmin()?t.when(!0):c(o)}function u(){return c(a)}function c(t){return e.get(r,{cache:!0,cacheDuration:s}).then(function(e){return e.data[t]})}var s=5e3;return{isReportsEnabled:i,isEodReportEnabled:u}}i.$inject=["$http","$q","userService"],t.__esModule=!0,t["default"]=i;var r="/api/myreports/restrictions",o="enableReports",a="enableEodManifestReports";i.NG_NAME="ifReportRestrictionsService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t,i,r,o){r.init();var a={ngIf:function(){function e(){return r.isVisible}return e}()};n.link(e,t,a,null,o)}var n=e[0];return{transclude:n.transclude,priority:n.priority,terminal:n.terminal,restrict:n.restrict,controller:o["default"],link:t}}i.$inject=["ngIfDirective"],t.__esModule=!0,t["default"]=i;var r=n(1673),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfIfReportRestrictions"},function(e,t,n){"use strict";function i(e){"ngInject";function t(){e.isReportsEnabled().then(function(e){return n.isVisible=e})}var n=this;Object.assign(n,{isVisible:!1,init:t})}i.$inject=["ifReportRestrictionsService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1675),u=i(a),c=angular.module("order.supplies",[o["default"]||"common.utils"]);c.directive(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="order.supplies"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t,i,r,o){r.init();var a={ngIf:function(){function e(){return r.isVisible}return e}()};n.link(e,t,a,null,o)}var n=e[0];return{transclude:n.transclude,priority:n.priority,terminal:n.terminal,restrict:n.restrict,controller:o["default"],controllerAs:"ifOrderSuppliesCtrl",link:t}}i.$inject=["ngIfDirective"],t.__esModule=!0,t["default"]=i;var r=n(1676),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfIfOrderSupplies"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){e.isDhlAdmin()||t.getSourceData(t.CI_KEYS.CI0304_ORDER_SUPPLIES_LINK).then(function(e){r.link=angular.isObject(e)?e.value:e,r.isVisible=""!==r.link})}function i(){return r.link&&r.link.startsWith(o)}var r=this,o="/content/dhl/";Object.assign(r,{isVisible:!1,init:n,isDhlContentLink:i})}i.$inject=["userService","configService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(32),o=i(r),a=n(1678),u=i(a),c=angular.module("declarations.restriction",[o["default"]||"common.configuration"]);c.directive(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="declarations.restriction"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t,i,r,o){r.init();var a={ngIf:function(){function e(){return r.isVisible}return e}()};n.link(e,t,a,null,o)}var n=e[0];return{transclude:n.transclude,priority:n.priority,terminal:n.terminal,restrict:n.restrict,controller:o["default"],link:t}}i.$inject=["ngIfDirective"],t.__esModule=!0,t["default"]=i;var r=n(1679),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfIfDeclarationsRestriction"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){i().then(function(e){return r.isVisible=e})}function i(){var n=[t.CI_KEYS.CI0486_ALLOW_CITES_DECLARATION,t.CI_KEYS.CI0072_EUR1_DECLARATION,t.CI_KEYS.CI0856_ENABLE_NAFTA_PRINTING,t.CI_KEYS.CI0876_ENABLE_CERTIFICATE_OF_ORIGIN_PRINTING];return e.all(n.map(function(e){return t.getSourceData(e)})).then(function(e){return e.some(Boolean)})}var r=this;Object.assign(r,{isVisible:!1,init:n})}i.$inject=["$q","configService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e,i,r){var o=r?n:t,a=o.getValue(e,i);return a.then(m().resolve),a}function r(){return m().promise}function a(e,t,n){return i(e,t,n).then(u)}function u(e){return e.data.value}function c(e,t,n){return p(e,t).then(function(i){return i.supported&&a(e,t,n)})}function s(e,t,n){return i(e,t,n).then(function(e){return e.data})}function l(e,t,n){return i(e,t,n).then(d)}function d(e){var t=e&&e.data?angular.copy(e.data.value):"";return angular.isArray(t)?(f(t),t):angular.isObject(t)&&t.value?t.value:t}function f(e){var t=["code","description","type","localCode"];e.forEach(function(e){t.forEach(function(t){e[t]&&e[t].value&&(e[t]=e[t].value)})})}function p(n,i){var r=angular.isString(n)?o["default"][n]:n;return i?t.isCiSupportedByCountry(r,i):e.reject()}function m(){return _||(_=e.defer()),_}var _=void 0;return{getValue:i,getBoolean:a,getFormField:s,getSourceData:l,getBooleanIfSupportedByCountry:c,isCiSupportedByCountry:p,whenLoadingHasHappened:r,toBoolean:u,CI_KEYS:o["default"]}}i.$inject=["$q","configLoaderService","countryAccountHolisticConfigLoaderService"],t.__esModule=!0,t["default"]=i;var r=n(228),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="configService"},function(e,t,n){"use strict";t.__esModule=!0;var i=n(907),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=new r["default"]("/api/rules");o.NG_NAME="configLoaderService",t["default"]=o},function(e,t,n){"use strict";t.__esModule=!0;var i=n(907),r=function(e){return e&&e.__esModule?e:{"default":e}}(i),o=new r["default"]("/api/rules/countryAccountHolistic");o.NG_NAME="countryAccountHolisticConfigLoaderService",t["default"]=o},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(n){e.load(t.getEndpoint(),t.getDefaultContext(),r(n))}function r(e){return n[e]||[]}return{loadGroups:i}}i.$inject=["configGroupLoaderService","configLoaderService","configPreloaderRouteToGroupsMapping"],t.__esModule=!0,t["default"]=i,i.NG_NAME="configPreloaderService"},function(e,t,n){"use strict";function i(e,t){"ngInject";e.loadGroups(t.getPage())}i.$inject=["configPreloaderService","pathService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t){"ngInject";t.isAvailable()&&!t.getItem(o["default"].DESKTOP)&&e.removeRootCookie(o["default"].DESKTOP)}i.$inject=["cookiesService","sessionStorageService"],t.__esModule=!0,t["default"]=i;var r=n(14),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r,o=n(906),a=i(o),u=n(21),c=i(u),s=(r={NG_NAME:"configPreloaderRouteToGroupsMapping"},r[c["default"].MANAGE_SHIPMENTS_PAGE]=[a["default"].PAYMENT_OPTIONS,a["default"].SHIPMENT_SETTINGS,a["default"].SHIPMENT_DETAILS,a["default"].GENERAL_SETTINGS,a["default"].PRODUCTS_AND_SERVICES],r[c["default"].SHIPMENT_PAGE]=[a["default"].PAYMENT_OPTIONS,a["default"].PRODUCTS_AND_SERVICES,a["default"].SHIPMENT_SETTINGS,a["default"].ADDRESS_BOOK,a["default"].GENERAL_SETTINGS,a["default"].GUI,a["default"].RULES_REGULATION,a["default"].SHIPMENT_DETAILS,a["default"].LANE_ALERTS,a["default"].SHIPMENT_DEFAULTS],r[c["default"].RATE_AND_QUOTE_PAGE]=[a["default"].PAYMENT_OPTIONS,a["default"].PRODUCTS_AND_SERVICES,a["default"].ADDRESS_BOOK,a["default"].RULES_REGULATION,a["default"].SHIPMENT_DETAILS,a["default"].LANE_ALERTS,a["default"].GUI,a["default"].GENERAL_SETTINGS,a["default"].SHIPMENT_SETTINGS],r[c["default"].HOME_PAGE]=[a["default"].PAYMENT_OPTIONS,a["default"].DASHBOARD,a["default"].GENERAL_SETTINGS,a["default"].RATES_TARIFFS,a["default"].PRODUCTS_AND_SERVICES],r[c["default"].HOME_PAST_SHIPMENTS_PAGE]=[a["default"].PAYMENT_OPTIONS,a["default"].DASHBOARD,a["default"].GENERAL_SETTINGS,a["default"].PRODUCTS_AND_SERVICES],r[c["default"].HOME_FAVORITE_SHIPMENTS_PAGE]=[a["default"].PAYMENT_OPTIONS,a["default"].DASHBOARD,a["default"].GENERAL_SETTINGS,a["default"].PRODUCTS_AND_SERVICES],r[c["default"].PICKUP_PAGE]=[a["default"].PAYMENT_OPTIONS,a["default"].PICKUP,a["default"].GENERAL_SETTINGS,a["default"].PRODUCTS_AND_SERVICES,a["default"].GUI,a["default"].SECURITY,a["default"].ADDRESS_BOOK,a["default"].SHIPMENT_SETTINGS],r[c["default"].MANAGE_PICKUPS_PAGE]=[a["default"].PAYMENT_OPTIONS,a["default"].PICKUP,a["default"].SHIPMENT_DETAILS,a["default"].GENERAL_SETTINGS,a["default"].PRODUCTS_AND_SERVICES,a["default"].SHIPMENT_SETTINGS],r[c["default"].SCHEDULE_PICKUP]=[a["default"].PAYMENT_OPTIONS,a["default"].PICKUP,a["default"].GENERAL_SETTINGS,a["default"].PRODUCTS_AND_SERVICES,a["default"].GUI,a["default"].SECURITY,a["default"].ADDRESS_BOOK,a["default"].SHIPMENT_SETTINGS],r[c["default"].SHIPMENT_IMPORT]=[a["default"].PAYMENT_OPTIONS,a["default"].GENERAL_SETTINGS,a["default"].PRODUCTS_AND_SERVICES],r[c["default"].PROVIEW]=[a["default"].PAYMENT_OPTIONS,a["default"].GENERAL_SETTINGS,a["default"].PRODUCTS_AND_SERVICES],r[c["default"].MANAGE_PICKUPS_ROOT]=[a["default"].PAYMENT_OPTIONS,a["default"].PICKUP,a["default"].SHIPMENT_SETTINGS,a["default"].SHIPMENT_DETAILS,a["default"].GENERAL_SETTINGS,a["default"].PRODUCTS_AND_SERVICES],r[c["default"].ADDRESS_BOOK]=[a["default"].PAYMENT_OPTIONS,a["default"].SHIPMENT_SETTINGS,a["default"].GENERAL_SETTINGS,a["default"].PRODUCTS_AND_SERVICES],r[c["default"].REPORTING]=[a["default"].PAYMENT_OPTIONS,a["default"].GENERAL_SETTINGS,a["default"].PRODUCTS_AND_SERVICES],r[c["default"].SHIPMENT_SETTINGS]=[a["default"].SHIPMENT_SETTINGS,a["default"].PAYMENT_OPTIONS,a["default"].GENERAL_SETTINGS,a["default"].PRODUCTS_AND_SERVICES,a["default"].GUI],r[c["default"].CUSTOMS_INVOICE_TEMPLATES]=[a["default"].SHIPMENT_SETTINGS,a["default"].PAYMENT_OPTIONS,a["default"].GENERAL_SETTINGS,a["default"].PRODUCTS_AND_SERVICES,a["default"].GUI,a["default"].SHIPMENT_PAPERWORK,a["default"].SHIPMENT_DETAILS],r[c["default"].MANAGE_DHL_ACCOUNTS_PAGE]=[a["default"].PAYMENT_OPTIONS,a["default"].THIRD_PARTY_INTEGRATION,a["default"].GENERAL_SETTINGS,a["default"].PRODUCTS_AND_SERVICES],r[c["default"].CUSTOMS_ENROLLMENT_PAGE]=[a["default"].PAYMENT_OPTIONS,a["default"].THIRD_PARTY_INTEGRATION,a["default"].GENERAL_SETTINGS,a["default"].PRODUCTS_AND_SERVICES],r[c["default"].AUTHORIZED_ACCOUNT_USAGE_PAGE]=[a["default"].PAYMENT_OPTIONS,a["default"].GENERAL_SETTINGS,a["default"].SHIPMENT_PAPERWORK,a["default"].SHIPMENT_SETTINGS,a["default"].SHIPMENT_DETAILS,a["default"].PRODUCTS_AND_SERVICES,a["default"].GUI],r[c["default"].MANAGE_SHIPMENT_DEFAULTS]=[a["default"].PAYMENT_OPTIONS,a["default"].THIRD_PARTY_INTEGRATION,a["default"].GENERAL_SETTINGS,a["default"].SHIPMENT_PAPERWORK,a["default"].GUI,a["default"].ADDRESS_BOOK,a["default"].PICKUP,a["default"].EMAIL,a["default"].PRODUCTS_AND_SERVICES],r[c["default"].LOGOUT_PAGE]=[a["default"].PAYMENT_OPTIONS,a["default"].GENERAL_SETTINGS,a["default"].SHIPMENT_SETTINGS],r[c["default"].LOGIN_PAGE]=[a["default"].PAYMENT_OPTIONS,a["default"].GENERAL_SETTINGS,a["default"].SHIPMENT_SETTINGS],r[c["default"].PROFILE_DETAILS]=[a["default"].PAYMENT_OPTIONS,a["default"].GENERAL_SETTINGS,a["default"].ADDRESS_BOOK,a["default"].PRODUCTS_AND_SERVICES,a["default"].GUI],r);t["default"]=s},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e,t){var n=e.group,i=e.context;return o(),p.has(c(t,i),n)}function r(e,t,n){o();var i=a(e,t,n);return u(i,t,n,e),i.then(function(){return s(t,n,e)})}function o(){p=p||n.getInstance()}function a(n,i,r){var o=r.filter(f).filter(function(e){return!p.has(c(n,i),e)});if(!o.length)return t.when([]);var a=o.map(function(e){return"groups="+encodeURIComponent(e)}).join("&");return e.get(n+"?"+i+"&"+a)}function u(e,t,n,r){n.filter(function(e){return!i({context:t,group:e},r)}).forEach(function(n){var i=e.then(function(e){var t=e.data;return l(t===undefined?[]:t,n)});p.set(c(r,t),n,i)})}function c(e,t){return""+e+t}function s(e,n,i){var r=n.map(function(t){return p.get(c(i,e),t)});return t.all(r).then(d)}function l(e,t){return e.filter(function(e){return e.group===t})}function d(e){return{data:e.reduce(function(e,t){return[].concat(e,t)},[])}}function f(e,t,n){return n.indexOf(e)===t}var p=void 0;return{isRequested:i,load:r}}i.$inject=["$http","$q","twoLevelCacheFactoryService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="configGroupLoaderService"},function(e,t,n){"use strict";function i(){"ngInject";function e(){function e(e,n,i){r[t(e,n)]=i}function n(e,n){return r[t(e,n)]}function i(e,n){return r.hasOwnProperty(t(e,n))}var r={};return{set:e,get:n,has:i}}function t(e,t){return""+e+t}return{getInstance:e}}t.__esModule=!0,t["default"]=i,i.NG_NAME="twoLevelCacheFactoryService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n,r){function o(e,o){return c=n(c,e,o),u&&t.cancel(u),u=t(function(){s.resolve(r(c)),a()},i,!1),s.promise}function a(){s=e.defer(),u=null,c=null}var u=null,c=null,s=e.defer();return o}var i=32;return{createThrottleFn:n}}i.$inject=["$q","$timeout"],t.__esModule=!0,t["default"]=i,i.NG_NAME="configRequestThrottleService"},function(e,t,n){"use strict";function i(){"ngInject";function e(e,t,n){if(angular.isDefined(e[a+"Weight"])){var i=e[a+"IntCiKey"],r=e[a+"FractionCiKey"];t.loadWeightConfig(n,i,r)}}function t(e,t,n){var i=e[a+"Currency"];angular.isDefined(i)&&t.$watch(i,n.loadCurrencyConfig)}function n(e,t){if(angular.isDefined(e[a+"Integer"])){var n=+e[a+"Integer"],i=+e[a+"Fraction"],r=e[a+"FractionVisible"]&&i;t.setOptions({intMaxLength:n,fractionMaxLength:i,decimalPoint:r})}}return{restrict:"A",controller:o["default"],link:function(){function i(i,r,o,u){var c=i.$eval(o[a+"Country"]),s=i.$eval(o[a+"SeparatorFromUserCountry"]);u.loadSeparatorConfig(s?undefined:c),e(o,u,c),t(o,i,u),n(o,u)}return i}()}}t.__esModule=!0,t["default"]=i;var r=n(1691),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfcDecimal"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e){u=Object.assign({},u,e)}function n(){return u}function i(n){return e.getSeparatorOptions(n).then(t)}function r(n,i,r){return e.getWeightOptions(n,i,r).then(t)}function o(n){return e.getCurrencyOptions(n).then(t)}var a=this,u={};Object.assign(a,{setOptions:t,getOptions:n,loadSeparatorConfig:i,loadWeightConfig:r,loadCurrencyConfig:o})}i.$inject=["decimalService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o,u,s,d){"ngInject";function f(){var e=i.getShipmentData();return e.externalId=t.getParamFromUrl(c["default"].SHIPMENT_ID),e}function p(t,i){var r=f();return s.handleFullShipment(r,t,i),D(r).then(function(){return e.all([n.postElement(R,r),r])})}function m(){var e=f();return n.changeElement(R+"/update-pending-approval",e).then(function(e){return M({id:e.shipmentId,key:e.externalId,version:e.shipmentVersion,returnShipment:{id:e.returnShipmentId,key:e.returnExternalId,version:e.returnShipmentVersion}})})}function _(){r.debug("Send /payment/register"),G.wasUnableToMakeACallToPaymentGateway=!1;var t=f();return D(t).then(function(){return n.postElement(R+"/payment/register",t).then(function(t){return r.debug("Response /payment/register",t),t.callbackUrl&&t||e.reject(t)})["catch"](function(t){return r.debug("Response (rejected) /payment/register",t),G.wasUnableToMakeACallToPaymentGateway=t.status===a["default"].SERVICE_UNAVAILABLE,e.reject(t)})})}function E(e,t){var i=O(t);return i.name=e,D(i).then(function(){return n.postElement(R+"/partial",i)})}function S(t,i,r){var o=R+"/payment/complete";return n.postElement(o,{shipmentId:t,hostedCheckoutId:i,paymentDetails:r}).then(function(t){var n=t.paymentStatus,i=t.paymentFailureReason,r=t.pickupBookingFailureKey;switch(n){case"FAILED":return e.when({success:!1,failureReason:i});case"TERMINATED":return e.when({success:!1});case"SUCCESS":return e.when({success:!0,pickupBookingFailureKey:r});case"PENDING":default:return e.reject()}})}function g(i,r){if(i&&r)return n.postElement(R+"/fetch",{externalId:r});var o=t.getParamFromUrl(c["default"].SHIPMENT_ID),a=t.getParamFromUrl(c["default"].COPIED_SHIPMENT_ID);return o||a?a?n.postElement(R+"/copy",{externalId:a}):n.postElement(R+"/fetch",{externalId:o}):e.reject()}function C(){return g().then(h).then(A)}function A(e){var n=angular.copy(e);return n.id=t.getParamFromUrl(c["default"].SHIPMENT_ID)||n.id,i.triggerModelsLoadingShipmentData(e),i.setShipmentData(n),e}function h(e){if(!e.shippingDate)return e;var t=e.fromCustomer.address.serviceAreaCode;return t?o.getLocalTime(t).then(function(t){var n=t.localDate;return o.convertStrToDate(e.shippingDate)<o.convertStrToDate(n)&&(e.shippingDate=null),e}):e}function I(e){return n.getElement(R+"/"+e+"/confirmation/mail")}function v(e){return n.postElement(R,e).then(function(e){return e.externalId})}function N(){var e=i.getShipmentData();return n.postElement(R+"/softlimits/validate",e)}function T(){var e=i.getShipmentData();return n.postElement(R+"/for-approval",e)}function M(e){var t=e||i.getShipmentData(),r=[u.getShipmentVersionsPayload(t)];return n.postElement(b,{bothWayShipmentVersionsSet:r})}function y(){var e=f();return e.onlinePaymentInfo=null,e.billingCustomer=null,n.postElement(L,e)}function O(e){var t=f();if(!e)return angular.copy(t);var n=t.returnShipment;return angular.copy(n)||angular.copy(t)}function D(e){return d.postAdditionalAgreements(e,l["default"].GUEST_SHIPMENT)}function P(e){return d.isShipmentImport(e)}var R="/api/shipment",b="/api/mms/shipment/approve",L="/api/shipment/prepaid",G={saveShipment:p,updateApprovedShipment:m,chargeShipment:_,saveShipmentForLater:E,completeShipmentPayment:S,getSavedShipmentData:C,sendConfirmationEmail:I,getRestoredShipment:g,saveStandaloneReturnShipment:v,validateSoftLimits:N,sendShipmentForApproval:T,approveShipment:M,b2lShipmentPrepay:y,isShipmentImport:P,wasUnableToMakeACallToPaymentGateway:!1};return G}r.$inject=["$q","pathService","crudService","shipmentDataService","logService","dateTimeService","shipmentApprovementVersionService","analyticsService","additionalAgreementsService"],t.__esModule=!0,t["default"]=r;var o=n(5),a=i(o),u=n(1),c=i(u),s=n(443),l=i(s);r.NG_NAME="shipmentTransportService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e){if(!angular.isFunction(e.getDataPart)||!angular.isFunction(e.initDataPart))throw new Error("shipmentDataService#addPartModel accepts only shipmentPartModel instances");C.push(e)}function r(){return o(C.map(function(e){return e.getDataPart()}))}function o(t){return Object.assign.apply(Object,[A].concat(t)),Object.assign(h,e.create(A))}function a(e){C.forEach(function(t){t.initDataPart(e)})}function u(e){angular.copy(e,A)}function c(){C.forEach(function(e){return e.clearDataPart()})}function s(){return A.product}function l(e){return t.getUserCountry()===e.fromCustomer.address.countryCode?e.fromCustomer.email:e.toCustomer.email}function d(){return!!A.assignShipment&&!1===A.assignShipment.assignor}function f(){return!!A.assignShipment&&!0===A.assignShipment.assignor}function p(){return A.id}function m(){return"ASSIGNED"===A.creationType}function _(e){n.fixateCurrentFromContactDetails(e)}function E(){return n.wasFromContactChanged()}function S(){n.actualizeFromContactDetails()}function g(){var e=A.masterReferenceNumbers,t=A.paperlessTrading;return e&&e.length&&!t}var C=[],A={},h={};return{addPartModel:i,getShipmentData:r,setShipmentData:u,triggerModelsLoadingShipmentData:a,clearShipmentData:c,getOwnerEmail:l,getShipmentProduct:s,getShipmentId:p,isShipmentFetchedByAssignee:d,isShipmentFetchedByAssignor:f,isShipmentAlreadyAssigned:m,fixateCurrentFromContactDetails:_,wasFromContactChanged:E,actualizeFromContactDetails:S,isPrintEadHardCopiesMessageVisible:g}}i.$inject=["shipmentDataFactory","userService","shipmentFromContactChangeService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="shipmentDataService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t){return t.reduce(function(t,n){return t[n]=e.get(n),t},{})}function n(t){return Object.entries(t).reduce(function(t,n){var i=n[0],r=n[1];return t[i]=e.get(r),t},{})}function i(){return t(Object.keys(o()))}function r(){return n(o())}function o(){return{paymentModel:"returnLabelPaymentModel",itarBisModel:"returnLabelItarBisModel",brazilModel:"returnLabelBrazilModel",addressDetailsModel:"returnLabelAddressDetailsModel",shipmentTypeModel:"returnLabelShipmentTypeModel",packageDetailsModel:"returnPackageDetailsModel",otherChargesModel:"returnLabelOtherChargesModel"}}function a(){return t(["assignShipmentModel","shipmentProductsModel","digitalCustomsInvoiceModel","assignReferencesModel"])}function u(){return t([].concat(Object.keys(s()),["indiaShipmentModel","itarBisModel"]))}function c(){return n(s())}function s(){return{addressDetailsModel:"returnLabelAddressDetailsModel",shipmentTypeModel:"returnLabelShipmentTypeModel",shipmentTypeReferencesModel:"returnLabelShipmentTypeReferencesModel",packageDetailsModel:"returnPackageDetailsModel",paymentModel:"returnLabelPaymentModel",pickupModel:"returnLabelPickupModel"}}function l(){return["packageDetailsModel","shipmentTypeModel","customsDeclarationModel","otherChargesModel","itarBisModel","shipmentProductsModel","digitalCustomsInvoiceModel","optionalServicesModel","shipmentTypeReferencesModel","shipmentCostDocumentsModel","pickupModel","masterReferenceNumberModel","indiaShipmentModel","labellessModel"]}function d(){return["returnLabelAddressDetailsModel","returnLabelShipmentTypeModel","returnLabelItarBisModel","returnLabelPaymentModel","returnLabelEmailInstructionsModel","returnPackageDetailsModel","returnLabelMasterReferenceNumberModel","returnLabelBrazilModel","returnLabelProductsModel","returnLabelDigitalCustomsInvoiceModel","returnLabelOptionalServicesModel","returnLabelShipmentTypeReferencesModel","returnLabelShipmentCostDocumentsModel","returnLabelPickupModel","returnLabelCustomsDeclarationModel","returnLabelOtherChargesModel"]}function f(){return l().map(function(t){return e.get(t)})}function p(){return d().map(function(t){return e.get(t)})}function m(){return t([].concat([].concat(l(),["addressDetailsModel","paymentModel","brazilModel","billingModel","loyaltyProgramModel","assignShipmentModel"]),[].concat(d(),["returnLabelModel"]),["$state","brazilService","shipmentDataService","shipmentFlowService","shipmentAddressService","shipmentProductsService","shipmentTypeService","productServicesService","digitalCustomsInvoiceService","deliveryOptionsService","returnLabelLoaderService","returnShipmentBuilder","shipmentRoutesEventsService","anchorScrollService","addressDetailsService","optionalMandatorityService"]))}function _(){return t(["addressDetailsModel","packageDetailsModel","paymentModel","shipmentTypeModel","returnLabelModel","returnLabelShipmentTypeModel","returnLabelAddressDetailsModel","returnLabelItarBisModel","labellessModel","pickupModel","returnLabelEmailInstructionsModel"])}return{injectEnhancedInvoiceStateModels:i,injectReturnEnhancedInvoiceStateModels:r,injectAssignShipmentCommonModels:a,injectAssignShipmentRegularModels:u,injectAssignShipmentReturnModels:c,injectShipmentPartModels:f,injectReturnLabelPartModels:p,injectShipmentDataContainerModels:m,injectReturnLabelModels:_}}i.$inject=["$injector"],t.__esModule=!0,t["default"]=i,i.NG_NAME="shipmentModelsInjectorService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e){var t=n(e);Object.assign(a,t)}function n(e){return i()?{currentContactDetails:e,previousContactDetails:angular.copy(e)}:{currentContactDetails:e}}function i(){return!a.previousContactDetails||a.previousContactDetails.isEmpty}function r(){return!angular.equals(a.previousContactDetails,a.currentContactDetails)}function o(){e.isExpertFlow()||(a.previousContactDetails=a.currentContactDetails)}var a={};return{fixateCurrentFromContactDetails:t,wasFromContactChanged:r,actualizeFromContactDetails:o}}i.$inject=["userService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="shipmentFromContactChangeService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o){"ngInject";function u(e,t){var i=[f(e).then(function(e){return S(e,t)}),p().then(function(e){return g(e,t)}),m(e).then(function(e){return C(e,t)}),n.handleInvoiceEnabledStatus(e,t),_(e).then(function(e){return A(e,t)}),E().then(function(e){return h(e,t)})];return s(i).then(function(){return n.processAllCustomsInvoiceData(e,t),d(i)})}function s(t){return e.all(t.map(function(e){return e["catch"](function(){return undefined})}))}function d(e){return{brazilAuthorizedRestrictions:e[0],b2lRestrictions:e[1],defaultShipmentType:e[2],invoiceEnabledStatus:e[3]}}function f(e){return i.isBrazilAuthorizedRestrictionsApplied(e.getShipmentCountry())}function p(){return r.getB2lRestrictions()}function m(e){return t.getDefaultShipmentType(e.getShipmentCountry())}function _(n){if(n.getMailingListContacts()&&n.getMailingListContacts().length)return e.when(!1);var i=n.getToFromAddress();return t.getIntraEuDutiableStatus(i)}function E(){return t.getDefaultIntraEuDutiableStatus()}function S(e,t){return e&&(t.shipmentType=c["default"].DOCUMENT),e}function g(e,t){var n=I(e),i=v(e);return n&&i?e:(n&&(t.shipmentType=c["default"].PACKAGE),i&&(t.shipmentType=c["default"].DOCUMENT),e)}function C(e,t){return t.shipmentType=t.shipmentType||e,e}function A(e,t){return t.intraEuDutiableStatus=e,e}function h(e,t){return t.dutiable="boolean"==typeof t.dutiable?t.dutiable:e,e}function I(e){return e.documentShipment===a["default"].NOT_EDITABLE}function v(e){return e.packageShipment===a["default"].NOT_EDITABLE}function N(e,t){e.model.isGlobalMailShipment&&(t.shipmentType=c["default"].DOCUMENT,t.customsInvoiceType=l["default"].USE,t.documentDescription=o.SHIPMENT_DETAILS.SHIPMENT_TYPE_FIELD_PLACEHOLDER_GLOBAL_MAIL_DOCUMENT_DESCRIPTION,T(e,t),t.setUseMyOwnInvoiceEnabled(!0))}function T(e,n){var i=e.getToFromAddress();t.getDutiableStatus(i).then(function(e){n.isDutiable=e&&n.isShipmentTypePackage()})}return{initModel:u,initGlobalMailShipmentDefaults:N}}r.$inject=["$q","shipmentTypeService","shipmentTypeInvoiceInitializationService","shipmentAuthorizedAccountUsageService","b2lRestrictionsService","Messages"],t.__esModule=!0,t["default"]=r;var o=n(46),a=i(o),u=n(7),c=i(u),s=n(47),l=i(s);r.NG_NAME="shipmentTypeModelInitializationService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e,t){return r(e).then(function(e){return o(e,t)})}function r(t){return e.getInvoiceEnabledStatus(t.getShipmentCountry())}function o(e,t){return t.setCommercialInvoiceEnabled(e),e}function a(e,n){t.processCustomsInvoiceData(n,e.model.mailingList),u(n,e)}function u(e,t){e.isEnhancedInvoiceCompleted()||n.setDeclarationsDefaults(e.enhancedInvoice.declaration,t)}return{handleInvoiceEnabledStatus:i,processAllCustomsInvoiceData:a}}i.$inject=["shipmentTypeHelperService","customsInvoiceMapperService","shipmentTypeDeclarationsService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="shipmentTypeInvoiceInitializationService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e,t){var n=arguments.length<=2||arguments[2]===undefined?[]:arguments[2];return n.length?n.every(function(t){var n=t.contactDetails.addressDetails.countryCode;return i(e,n)}):i(e,t)}function i(e,t){return e===t}function r(e){return l()!==e}function a(e){return!s(l(),e)}function u(e){return e===o["default"].BRAZIL}function c(e){return t.isLocalPaymentOption(e)}function s(e,n){return t.extractBillingRegion(e)===t.extractBillingRegion(n)}function l(){return e.getUserCountry()}return{isShipmentDomestic:n,isShipmentImport:r,isShipmentFromBrazil:u,isShipmentImportByTerritories:a,isLocalPaymentOption:c,isCountriesWithinBillingRegions:s,getUserCountry:l}}i.$inject=["userService","paymentTypeService"],t.__esModule=!0,t["default"]=i;var r=n(4),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="shipmentAddressService"},function(e,t,n){"use strict";function i(e,t,n,i,r,o){"ngInject";function a(t){return r.isShipmentFetchedByAssignee()?i.hasCreditStopAccounts(t).then(function(t){if(t)return u(),e.reject()}):e.when()}function u(){t.showMessageDialog({message:o.SHIPMENT_PAYMENT.PAYMENT_SELECTION_MSG_ASSIGNED_SHIPMENT_CREDIT_STOP_ACCOUNT,okButtonLabel:o.COMMON.COMMON_BUTTON_OK})["finally"](n.redirectToHome)}function c(e,n){(s(e)||s(n))&&t.showMessageDialog({nlsMessage:o.SHIPMENT_PAYMENT.PAYMENT_SELECTION_MSG_CREDIT_STOP_ACCOUNT})}function s(e){return e&&e.creditStop}return{checkAccountsForCreditStop:a,checkCreditStopStatus:c}}i.$inject=["$q","modalService","navigationService","paymentAccountService","shipmentDataService","Messages"],t.__esModule=!0,t["default"]=i,i.NG_NAME="accountOnCreditStopService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e){return t.getValue(t.CI_KEYS.CI0174_REASON_FOR_EXPORT,e).then(function(e){return e.data.value})}function i(e){return t.getValue(t.CI_KEYS.CI0521_TYPES_OF_EXPORT_PER_REASON_FOR_EXPORT,e).then(function(e){return e.data.value})}function r(t){var r=[i(t),n(t)];return e.all(r).then(function(e){return o(e[0],e[1])})}function o(){var e=arguments.length<=0||arguments[0]===undefined?[]:arguments[0],t=arguments.length<=1||arguments[1]===undefined?[]:arguments[1],n=e.reduce(u,{});return t.filter(function(e){var t=e.code.value;return n[t]}).map(function(e){return a(e,n)})}function a(e,t){var n=e.code,i=e.code.value;return n.invoiceType=t[i].invoiceType&&t[i].invoiceType.value,e}function u(e,t){return e[t.reasonForExport.value]=t,e}return{getReasonsForExportFromCi:n,getTypesOfExportFromCi:i,getEffectiveReasonsForExport:r}}i.$inject=["$q","configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="reasonsForExportService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";function t(e){return new n(e)}function n(t){var n=[].concat(i(),[{key:"returnShipment",propertyMap:[].concat(i(!0),["includeCustomsInvoice"])}]);Object.assign(this,e.map(t,n))}function i(e){var t=["creationType","btlBookingType","businessModel","userId","userEmail","userName","name","additionalNotes",{key:"fromCustomer",propertyMap:o},{key:"toCustomer",propertyMap:o},"deliveryServicePointId","globalMailShipment","globalMilitary","type",{key:"indiaShipment",propertyMap:g["default"]},"customsInvoiceType",{key:"customsDeclaration",propertyMap:A["default"]},"serviceType","documentDescription","packageDescription","additionalDocumentDescription","predefinedDocumentDescription","references","approvalDocuments","assignShipment",{key:"brazilShipment",propertyMap:f["default"]},"extendedLiability",{key:"customsInvoice",propertyMap:["totalWeight","totalPiece","totalGrossWeight","estimateDuties","involvedParties","enhanced"].concat(m["default"],[{key:"items",propertyMap:e?l["default"].filter(function(e){return!["importCommodityCode","exportCommodityCode"].includes(e)}):l["default"]},{key:"billingCustomer",propertyMap:E["default"]},{key:"gstData",propertyMap:["gstIdentifier","gstinType","gstInvoiceNumber","gstInvoiceDate","originInvoiceNumber","originInvoiceDate","suppliedForExport","againstBond","totalInrPaid",{key:"gstWaybillData",propertyMap:["hsnCode","transportationReason","distanceInKm","transactionType","gstShipmentType","documentType","transportMode","truckName"]}]}])},{key:"otherCharges",propertyMap:I["default"]},"digitalCustomsInvoice",{key:"pieces",propertyMap:["packageId","packagingName","height","width","length","weight","quantity","unit","reference","pieceId","packageType","pallet","rowId","pieceIds"]},{key:"paymentInfo",propertyMap:["id","quotation","transportation","splitQuotAndTranspPayment","duties","taxes",{key:"splitDutyAndTaxPayment",newKey:"splitDutiesAndTaxesPayment"},"dutiesAndTaxesPaidStatus","technicalAccount","shipperAccount","payerAccount"]},"shippingDate",{key:"product",propertyMap:["globalProductCode","globalProductName","contentCode","payerLocalProductCode","requesterLocalProductCode","localProductCode","localProductName","networkTypeCode","estimatedDeliveryDate","estimatedDeliveryTime","estimatedDeliveryOffset","pickupDate","pickupStartTime","pickupEndTime","pickupCutoffTime","bookingCutoffOffset","customerPickupWindow","payment","chargeableWeight","chargeableUnit","volumetricWeight","volumetricUnit","defaultProduct","mandatoryServices","optionalServices","tecServices","srcServiceAreaCode","destServiceAreaCode","srcFacilityCode","destFacilityCode","shipmentDeliveryDateType","key"]},"wccType",{key:"optionalServicesInfo",propertyMap:["optionalServices","dangerousGoods","dryIce","labelDescription","cashOnDeliveryPaymentInfo",{key:"expectedQuantity",propertyMap:["serviceCode","price",{key:"subcategories",propertyMap:["contentId","unNumberDetails","description"]}]}]},{key:"pickup",propertyMap:["bookingReferenceNumber","saveAsDefault","totalWeight","needCourier","packageList",{key:"pickupDetails",propertyMap:["pickupLocationType","pickupLocationOtherDescription","instructions","pickupDate","pickupWindow","email",{key:"phoneDetails",propertyMap:c["default"]},{key:"phoneDetails2",propertyMap:c["default"]},{key:"pickupLocation",propertyMap:["name","company","contactKey","businessPartyAddressId","businessContactType",{key:"pickupAddress",propertyMap:a["default"]}]}]}]},"loyaltyProgram","airWayBillNumber","fromContactKey","toContactKey","itarBis","masterReferenceNumbers","onlinePaymentInfo","billingCustomer","creditCardPaymentInfo","totalDeclaredValue","shipmentCurrency","insured","insuranceValue","insuranceCurrency","externalId","shipmentStatus","paperlessTrading","incotermCode","incotermNlsKey","dutiable","id","returnLabelEmailInstructions","version","printInvoiceContents","isPickupScheduled","pickupIndicator","labelless","labelPrintingOptions"];return r(t,e),t}function r(e,t){t||e.push("typeCategory"),t&&e.push("returnShipping")}var o=[].concat(E["default"],["associatePaymentOptionsWithCustomer"]);return{create:t}}r.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=r;var o=n(909),a=i(o),u=n(400),c=i(u),s=n(910),l=i(s),d=n(444),f=i(d),p=n(912),m=i(p),_=n(255),E=i(_),S=n(1706),g=i(S),C=n(1708),A=i(C),h=n(913),I=i(h);r.NG_NAME="shipmentDataFactory"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=["referenceTypeCode","referenceValue"]},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=[{key:"indiaCustomsInvoiceProduct",propertyMap:["commodityCode","commodityType","totalItemValue","discountAmount","itemFOBValue","itemFOBValueINR","underMeis","igstPercent"]}]},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=["identifierType","identifierValue"]},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=[{key:"supplyDetails",propertyMap:["supplyPlace","supplyDate"]},"usingECommerce"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(1707),r=function(e){return e&&e.__esModule?e:{"default":e}}(i);t["default"]=[{key:"bankCodeDetails",propertyMap:r["default"]},"itemsPiecePacking"]},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=["adCode","acCode","ifscCode"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(255),r=function(e){return e&&e.__esModule?e:{"default":e}}(i);t["default"]=[{key:"taxId",propertyMap:["type","number"]},{key:"parties",propertyMap:["partyRole","contactKey",{key:"customer",propertyMap:r["default"]}]},{key:"additionalCustomsDeclarationDocuments",propertyMap:["documentType","documentId"]}]},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(r){var a=t.getToFromAddress(),u=[o(a),i.getInvoiceEnabledStatus(r),i.getIntraEuDutiableStatus(a)];return e.all(u).then(function(e){var t=e[0],r=e[1],o=e[2];n.intraEuDutiableStatus=o,n.isDutiable=i.isShipmentDutiable(t,n),n.setCommercialInvoiceEnabled(r)})}function o(e){return i.getDutiableStatus(e)["catch"](function(){return null})}return{setupInitialConfiguration:r}}i.$inject=["$q","addressDetailsModel","shipmentTypeModel","shipmentTypeService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="shipmentConfigurationService"},function(e,t,n){"use strict";function i(){function e(e,t){return arguments.length<=2||arguments[2]===undefined||arguments[2]?"<span ewf-price=\"'"+e+"'\" ewf-price-currency=\"'"+t+"'\" ewf-price-is-currency-shown='true'></span>":"<span ewf-price=\"'"+e+"'\" ewf-price-currency=\"'"+t+"'\"></span>"}return{getPriceHtml:e}}t.__esModule=!0,t["default"]=i,i.NG_NAME="shipmentPriceWrapperService"},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function o(e,t){return e===t}function a(e){return r.getUserCountry()===e}function u(e,t){return!r.isAuthorized()||o(e,t)||a(t)}function c(r,o){return u(r,o)?e.when(!1):e.all([i.hasItarApprovedAccounts(),t.getBoolean(t.CI_KEYS.CI0604_ENABLE_EEI,r)]).then(function(e){var t=e[0],i=e[1];if(!t||i)return!1;var a={fromCountryCode:r,toCountryCode:o,hasMilitaryAccount:!0},u=""+r+o;if(p[u])return p[u];var c=n.postElement(f,a).then(function(e){return"true"===e});return p[u]=c,c})}function s(t,n){return e.all([c(t,n),i.hasAllItarApprovedAccounts()])}function l(e,t){return s(e,t).then(function(e){var t=e[0],n=e[1];return t&&n})}function d(e,t){return s(e,t).then(function(e){var t=e[0],n=e[1];return!t&&n})}var f="/api/businessRules/shipment/military",p={};return{getGlobalMilitaryConfig:s,isGlobalMilitaryAvailable:c,isReturnLabelRestricted:l,isNonMilitaryRestricted:d}}i.$inject=["$q","configService","crudService","paymentAccountService","userService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="globalMilitaryService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r){"ngInject";function u(t){return e.getElementDetails(w,t,{preventNotFoundInterceptor:!0})}function s(e){return u(e).then(function(e){var t=e.contactDetails,n=t.favoriteShipFrom,i=t.favoriteShipTo,r=n&&!i;return{mappedDetails:y(e),isFromContact:r}})}function d(e){return Boolean(e.addressDetails.placeId)}function p(e){return _(e,M(),!0)}function _(e,t,n){return["name","email","company","businessContactType","additionalNotes","cnpjOrCPFTaxID","ieTaxId","isGlobalMailContactDuplicate"].every(function(n){return v(e,t,n)})&&I(e.taxDetails,t.taxDetails)&&c["default"].every(function(n){return v(e.addressDetails,t.addressDetails,n)})&&A(e,t,n)&&E(e,t)}function E(e,t){var n=e.personalIdentifiableInformation,i=t.personalIdentifiableInformation;return g(n,i)||S(n,i)}function S(e,t){if(e.some(function(e){return!1===e.isTaxDocumentVisible})&&t.length)return!0;var n=e.map(function(e){return{identifierType:e.identifierType,identifierValue:e.identifierValue}});return angular.equals(n,t)}function g(e,t){return(angular.isUndefined(t)||null===t||0===t.length)&&(angular.isUndefined(e)||C(e)||e.every(function(e){return["",null,m["default"].USCI,m["default"].CRN].includes(e.identifierType)&&""===e.identifierValue}))}function C(e){return 0===e.length||e.some(function(e){return!1===e.isTaxDocumentVisible})}function A(e,t,n){return["phoneDetails","phoneDetails2","phoneDetails3","phoneDetails4","phoneDetails5"].every(function(i){var r=e[i],u=t[i];return N(r,u)||!T(r,u)&&a["default"].filter(h).every(function(e){return e===o.PHONE_TYPE_FIELD&&n||v(r,u,e)})})}function h(e){return o.COUNTRY_BANNER_FIELD!==e}function I(e,t){return["vatTaxId","eoriNumber","goodsAndServicesTaxId","gstinType","iecTaxId","ein"].every(function(n){return v(e,t,n)})}function v(e,t,n){return(e[n]||"")===(t[n]||"")}function N(e,t){return!e&&!t}function T(e,t){return!e&&t||e&&!t}function M(){return{addressDetails:{},phoneDetails:{},countries:(arguments.length<=0||arguments[0]===undefined?{}:arguments[0]).countries,profileContact:!1,taxDetails:{},businessContactType:f["default"].PRIVATE,personalIdentifiableInformation:[]}}function y(e){var t=e.contactDetails,r=e.key,o=e.collection,a=e.profileContact,u=e.pickupSetting,c=t.addressDetails,s=t.phoneDetails,l=t.phoneDetails2,d=t.taxDetails,f=t.additionalNotes,p=t.personalIdentifiableInformation;return Object.assign({pickupSetting:i.create(u),phoneDetails:n.create(s),phoneDetails2:n.create(l),additionalNotes:f,personalIdentifiableInformation:p},c,d,{key:r,collection:o,profileContact:a,email:t.email,contactName:t.name,companyName:t.company,nickName:t.nickname,businessContactType:t.businessContactType,address:c.addrLine1,address2:c.addrLine2,address3:c.addrLine3,streetNumber:c.streetNumber,vatOrTaxId:d.vatTaxId})}function O(e){return u(e).then(y)}function D(e){e.addressDetails.countryCode===l["default"].BRAZIL&&Object.assign(e,e.taxDetails)}function P(e){return t.getOptionalMandatorityConfig(e)}function R(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=e.model,n=e.isDuplicatedFromGlobalMailContact;U&&n&&(b(t,!0),U=!1)}function b(e,t){e.isGlobalMailContactDuplicate=t}function L(e){return r.getTaxFieldsConfigurationsWithVatTaxIdCifs(e)}function G(e,t,n,i){return r.isTaxFieldAvailable(e,t,n,i)}function k(e,t){return r.isAllowedByVatTaxIdCif(e,t)}var w="/api/addressbook/contact",U=!0;return{getContact:u,getMappedContact:O,getContactDetails:s,mapContact:y,mapBrazilianContactTaxDetails:D,createEmptyContact:M,getOptionalMandatorityConfig:P,applyGlobalMailContactDuplication:R,setGlobalMailContactDuplicationStatus:b,getTaxFieldsConfigurationsWithVatTaxIdCifs:L,isAllowedByVatTaxIdCif:k,isTaxFieldAvailable:G,isContactEmpty:p,isContactsEqual:_,isContactWithADMRAddress:d}}r.$inject=["crudService","optionalMandatorityService","phoneDetailsFactory","pickupSettingFactory","personalInformationService"],t.__esModule=!0,t["default"]=r;var o=n(400),a=i(o),u=n(438),c=i(u),s=n(4),l=i(s),d=n(45),f=i(d),p=n(397),m=i(p);r.NG_NAME="addressContactService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function o(e,t,n,i,o){"ngInject";function a(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],n=arguments[1],i=arguments[2],r=arguments[3],o=e.externalId,a=e.returnExternalId,s=a===undefined?"":a,d=e.pickupBookingFailed,p=e.pickupBookingFailureKey,m={shipmentId:o};c()&&(m[u["default"].B2L_SHIPMENT]=l()),n&&(m.returnShipmentId=s),d&&(m.pickupBookingFailureKey=p),t.markCostSummarySection("booking_success",i,r),f(m)}function c(){return n.isB2lShipment()}function l(){return n.getB2lUrlParam()}function d(t){e.redirectToCreateShipment(t)}function f(t){e.redirectToShipmentPrint(t)}function p(t){var n=t.callbackUrl,i=t.redirectMethod,r=t.parameters;e.redirectToBillingSystemPage(n,i,r)}function m(){e.redirectToHome()}function _(t,n,a){a.preparePrint,r(a,["preparePrint"]);if(n.labelless&&n.pickupIndicator!==s["default"].NO_SHIPPER&&(n.pickupIndicator!==s["default"].YES||!E(n)))return i.manifestPrint(t).then(function(){return o.sendConfirmationEmail(t)}).then(function(){return e.redirectToShipmentComplete(t)});S(a)}function E(e){return o.isShipmentImport(e.fromCustomer.address.countryCode)}function S(e){var t=e.preparePrint,n=r(e,["preparePrint"]);if(t){a(n.savingData,n.returnShipment,n.optionalServicesModel,n.returnLabelOptionalServicesModel)}else f(n)}return{navigateToPrint:a,redirectToCreateShipment:d,redirectToBilling:p,redirectToHome:m,processPotentialLabellessShipment:_}}o.$inject=["navigationService","analyticsService","b2lRestrictionsService","shipmentPrintDataResource","shipmentTransportService"],t.__esModule=!0,t["default"]=o;var a=n(1),u=i(a),c=n(916),s=i(c);o.NG_NAME="shipmentCostNavigationService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{shipmentTypeModel:"<"+u,isDutiableHintVisible:"<?"+u+"IsDutiableHintVisible",isDocumentsDisabled:"<?"+u+"IsDocumentsDisabled",isPackagesDisabled:"<?"+u+"IsPackagesDisabled",nonEditable:"<?"+u+"NonEditable",isDocumentsTypeVisible:"<?"+u+"IsDocumentsTypeVisible"},controller:r,controllerAs:"shipmentTypeSelectorCtrl",templateUrl:"shipment-type-selector.html"})}function r(){function e(){t(),d!==l.shipmentType&&(d=l.shipmentType,s())}function t(){(!l.shipmentType&&l.shipmentTypeModel.shipmentType||l.shipmentTypeModel.forceShipmentTypeChange)&&(angular.isDefined(l.shipmentTypeModel.intraEuDutiableStatus)&&(l.shipmentType=l.shipmentTypeModel.shipmentType,n(),l.shipmentTypeModel.forceShipmentTypeChange=!1),l.shipmentTypeModel.intraEuDutiableStatus&&u()&&!1===l.shipmentTypeModel.dutiable&&(l.shipmentType=a["default"].PACKAGE_NON_DUTIABLE))}function n(){l.shipmentTypeModel.forceShipmentTypeChange&&l.shipmentTypeModel.intraEuDutiableStatus&&(l.shipmentTypeModel.dutiable=!1)}function i(){return!l.shipmentTypeModel.isGlobalMilitary&&l.shipmentTypeModel.intraEuDutiableStatus}function r(){return l.shipmentTypeModel.intraEuDutiableStatus}function o(){return l.shipmentType===a["default"].DOCUMENT}function u(){return l.shipmentType===a["default"].PACKAGE}function c(e){return e===l.shipmentType}function s(){l.shipmentType&&(l.shipmentTypeModel.isNonDutiablePackage=l.shipmentType===a["default"].PACKAGE_NON_DUTIABLE,l.shipmentTypeModel.shipmentType=o()?a["default"].DOCUMENT:a["default"].PACKAGE,!o()&&i()&&(l.shipmentTypeModel.dutiable=l.shipmentTypeModel.isDutiable=u()))}var l=this,d=null;Object.assign(l,{shipmentType:null,$doCheck:e,isNonDutiablePackageAvailable:r,checkShipmentType:c,isShipmentTypeDocument:o,isShipmentTypePackage:u,isNonDutiablePackageVisible:i})}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.ShipmentTypeSelectorController=r;var o=n(7),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfShipmentTypeSelector"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{messages:"=?"+u,fromCountry:"<"+u+"FromCountry",toCountry:"<"+u+"ToCountry",btbBtc:"<?"+u+"BtbBtc",ignoreBtbBtc:"<?"+u+"IgnoreBtbBtc"},templateUrl:"lane-alerts.html",controller:r,controllerAs:"laneAlertsCtrl"})}function r(e,t,n,i){"ngInject";function r(){var e=l.fromCountry,t=l.toCountry;e&&t&&(l.inlineLaneAlerts=[],n.getLaneAlerts(e,t,l.btbBtc,l.ignoreBtbBtc).then(o))}function o(e){var n=e.inlineAlerts,r=e.modalAlerts,o=e.messages;Object.assign(l,{inlineLaneAlerts:n,messages:o}),r.forEach(function(e){u(e)||i.showDialog({scope:Object.assign(t.$new(),{alert:e}),templateUrl:"lane-alert-modal.html"}).result["finally"](function(){e.dismissForever&&c().push(e.id)})})}function u(e){return c().includes(e.id)}function c(){return e[a["default"].DISMISSED_LANE_ALERT]=e[a["default"].DISMISSED_LANE_ALERT]||[],e[a["default"].DISMISSED_LANE_ALERT]}function s(){l.inlineLaneAlerts=[]}var l=this;Object.assign(l,{$onChanges:r,hideInlineLaneAlert:s,inlineLaneAlerts:null})}i.$inject=["component"],r.$inject=["$localStorage","$rootScope","laneAlertsService","modalService"],t.__esModule=!0,t["default"]=i,t.LaneAlertsCtrl=r;var o=n(24),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfLaneAlerts"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(t,i,r,c){return e.all([o(),a()]).then(function(t){var n=t[0],i=t[1],o=c||r;return i&&n&&o?u():e.reject()}).then(function(e){return n.convertLaneAlerts(e,t,i,r,c)})["catch"](function(){return n.EMPTY_RESPONSE})}function o(){return t.getBoolean(t.CI_KEYS.CI0712_LANE_ALERTING)}function a(){return t.getBoolean(t.CI_KEYS.CI0709_B2B_B2C_OPTION,i.getUserCountry())}function u(){return t.getSourceData(t.CI_KEYS.CI0711_LANE_ALERTS)}return{getLaneAlerts:r}}i.$inject=["$q","configService","laneAlertsConverterService","userService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="laneAlertsService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e,n,i,r,c){return t.getCountriesIndex().then(function(t){return e?a(o(e,{countries:t,targetShipperCountry:n,targetReceiverCountry:i,targetBtbBtc:r,ignoreBtbBtc:c})).then(u):[]})}function o(e,t){var n=t.countries,i=t.targetShipperCountry,r=t.targetReceiverCountry,o=t.targetBtbBtc,a=t.ignoreBtbBtc;return e.map(function(e){var t=e.btbBtc.value,i=e.shipperCountry.value,r=e.receiverCountry&&e.receiverCountry.value,o=n[r]&&n[r].name,a=i+"_"+r+"_"+t;return{btbBtc:t,shipperCountry:i,receiverCountry:r,alertType:e.alertType.value,message:e.laneAlertMessageNo,permanentDismissAvailable:e.permanentDismissAvailable,id:a,receiverCountryName:o}}).filter(function(e){return e.shipperCountry===i&&e.receiverCountry===r&&(a||e.btbBtc===o)})}function a(t){return e.all(t.map(function(e){return n.getTranslation(e.message)})).then(function(e){return t.map(function(t,n){return Object.assign(t,{message:e[n]})})})}function u(e){return e.reduce(function(e,t){switch(t.alertType){case r.INLINE:e.inlineAlerts.push(t);break;case r.POPUP:e.modalAlerts.push(t)}return e.messages.push(t.message),e},{inlineAlerts:[],modalAlerts:[],messages:[]})}return{convertLaneAlerts:i,EMPTY_RESPONSE:{inlineAlerts:[],modalAlerts:[],messages:[]}}}i.$inject=["$q","locationService","nlsService"],t.__esModule=!0,t["default"]=i;var r=t.LANE_ALERT_TYPE={INLINE:"Inline",POPUP:"Popup"};i.NG_NAME="laneAlertsConverterService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{fromCountry:"<"+o+"FromCountry",toCountry:"<"+o+"ToCountry"},controller:r,controllerAs:"countryWarningsCtrl",templateUrl:"country-warnings.html"})}function r(e){"ngInject";function t(){if(e.getCountryWarnings(o.fromCountry,o.toCountry).then(function(e){return o.warnings=e}),!o.toCountry)return void(o.ofacWarningVisible=!1);o.fromCountry&&(e.isCountryUnderUnSanction(o.fromCountry,o.toCountry).then(function(t){t?e.getSanctionGroupWarnings(o.toCountry).then(function(e){return o.sanctionGroupWarnings=e}):o.sanctionGroupWarnings=null}),e.isUnSanctionsAlertVisible(o.fromCountry).then(function(e){return o.unWarningVisible=e}),e.isOfacWarningVisible(o.fromCountry,o.toCountry).then(function(e){return o.ofacWarningVisible=e}))}function n(e){o.sanctionGroupWarnings.splice(e,1)}function i(){o.ofacWarningVisible=!1}function r(e){o.warnings.splice(e,1)}var o=this;Object.assign(o,{$onChanges:t,hideUNSanctionsWarning:n,hideOfacWarning:i,hideWarning:r,warnings:null,ofacWarningVisible:!1,unWarningVisible:!1})}i.$inject=["component"],r.$inject=["countryWarningService"],t.__esModule=!0,t["default"]=i,t.CountryWarningsCtrl=r;var o=i.NG_NAME="ewfCountryWarnings"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{fromCountry:"<"+r+"FromCountry",toCountry:"<"+r+"ToCountry",btbBtc:"<?"+r+"BtbBtc",ignoreBtbBtc:"<?"+r+"IgnoreBtbBtc",ofacAlerts:"=?"+r+"OfacAlerts",unitedNationsAlerts:"=?"+r+"UnAlerts",laneAlerts:"=?"+r+"LaneAlerts"},controllerAs:"addressAlertsCtrl",templateUrl:"address-alerts.html"})}i.$inject=["component"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfAddressAlerts"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"shipment-rate-estimate.html",controller:r,controllerAs:"rateEstimateCtrl"})}function r(e){"ngInject";function t(){return e.getFormattedDate(new Date,i)}var n=this,i="MMM dd, y, h:mm a";Object.assign(n,{getCurrentDate:t})}i.$inject=["component"],r.$inject=["dateTimeService"],t.__esModule=!0,t["default"]=i,t.RateEstimateCtrl=r,i.NG_NAME="ewfShipmentRateEstimate"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){return n.isUrlContainingSomeParam(o["default"].B2L_SHIPMENT,o["default"].RB_SHIPMENT)?t.get("/api/b2l/shipment/restrictions",{cache:!0}).then(function(e){return e.data}):e.when({})}function r(){return!!a()}function a(){return n.getParamFromUrl(o["default"].B2L_SHIPMENT)}return{getB2lRestrictions:i,isB2lShipment:r,getB2lUrlParam:a}}i.$inject=["$q","$http","pathService"],t.__esModule=!0,t["default"]=i;var r=n(1),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="b2lRestrictionsService"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(i,r){var o=n.encodeParams(r);return t.get("/api/shipment/"+i+"/thermal-document?"+o).then(function(e){return e.data})["catch"](function(t){return e.reject(u(t))})}function a(n){return t.get("/api/shipments/thermal-document",{params:{requestCookieName:n}}).then(function(e){return e.data})["catch"](function(t){return e.reject(u(t))})}function u(e){switch(e.status){case o["default"].NOT_FOUND:return g;case o["default"].UNPROCESSABLE_ENTITY:return e.data.errors&&e.data.errors[0]===A?A:C;default:return h}}function c(e,n,i){var r="/api/shipment/"+e+"/document/list",o="/api/shipment/"+e+"/primary-document/list",a={preventNotFoundInterceptor:!0,cache:!0};return n&&(a.params={allowPltDocs:!0}),t.get(i?o:r,a).then(function(e){var t=e.data;return angular.copy(t)})}function s(e){var n={shipmentIds:e};return t.post("/api/shipments/documents/list",n).then(function(e){return e.data})}function l(n){var i={preventNotFoundInterceptor:!0,cache:!0};return t.get("/api/shipment/"+n+"/tracking-info",i).then(function(e){return e.data})["catch"](function(t){var n=t.data;return e.reject(n)})}function d(e){return p("/api/shipment/"+e+"/manifest")}function f(e){return p("/api/shipment/manifest",{shipmentExternalIds:e})}function p(n,i){return t.post(n,i).then(function(t){var n=t.data,i=n===undefined?{}:n;return i.status===I?e.when():e.reject(i.errorMessages)})}function m(e){return t.get("/api/shipment/"+e+"/print-info-messages").then(function(e){return e.data})}function _(){return i.getValue(i.CI_KEYS.CI0713_NAVIGATION_WHEN_SAVE_AND_PRINT_BUTTON_CLICKED).then(function(e){return e.data.value.value})}function E(){return i.getBoolean(i.CI_KEYS.CI1392_DOWNLOAD_PAPERWORK_INSTEAD_OF_PRINTING)}function S(t,n){return e.all([i.getBoolean(i.CI_KEYS.CI0338_ALLOW_REMOTE_PICKUP,t),i.getBoolean(i.CI_KEYS.CI0967_ACCEPT_REMOTE_ORDER_PICKUP,n)])}var g="shipment-print.print_alert_shipment-not-found",C="shipment-print.print_alert_label-cannot-be-rendered",A="shipment-payment.payment-selection_backend-error_account-is-credit-stop",h="shipment-print.print_alert_service-error",I="OK";return{fetchConsolidatedThermalDocument:r,fetchConsolidatedThermalDocuments:a,getPrintMetadata:c,getPrintsMetadata:s,getTrackingInfo:l,manifestPrint:d,manifestBulkPrint:f,loadInfoMessages:m,getPrintNavigationType:_,getDownloadInsteadOfPrintStatusConfiguration:E,getRemotePickupConfig:S}}i.$inject=["$q","$http","queryParamsService","configService"],t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="shipmentPrintDataResource"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(r,a){return i.isRestoredShipment()||t.isGuest()?e.when():n.getDeclarationsDefaults().then(function(e){return o(e,a)}).then(function(e){return Object.assign(r,e)})}function o(e,t){var i=e.cites,r=i!==undefined&&i,o=e.eur1,a=o!==undefined&&o,u=e.nafta,c=u!==undefined&&u,s=e.coo,l=s!==undefined&&s,d=e.pod,f=d!==undefined&&d;return n.getDeclarationsAvailability(!0,!0,t).then(function(e){var t=e[0],n=e[1],i=e[2],o=e[3],u=e[4];return{cites:r&&t,eur1:a&&n,nafta:c&&i,coo:l&&o,pod:f&&u}})}return{setDeclarationsDefaults:r}}i.$inject=["$q","userService","declarationsService","shipmentFlowService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="shipmentTypeDeclarationsService"},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"analyticsTriggerCtrl"}}t.__esModule=!0,t["default"]=i;var r=n(1725),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfAnalyticsTrigger"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n,i){e.markSection(t,n,i)}function n(t,n){e.markShipmentSection(t,n)}function i(){e.markShipmentAddressSection()}var r=this;Object.assign(r,{markAnalyticsSection:t,markAnalyticsShipmentSection:n,markAnalyticsShipmentAddressSection:i})}i.$inject=["analyticsService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"analyticsDebounceFormCtrl",link:function(){function e(e,t,n,i){i.trackedForm=e.$eval(n[a]),i.init()}return e}()}}t.__esModule=!0,t["default"]=i;var r=n(1727),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfAnalyticsDebounceFormValidity"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){e.$watch(function(){return r.trackedForm.$valid},i)}function i(e,n){(u||e!==n)&&(u=!1,t.cancel(a),a=t(function(){r.trackedFormValidity=e},o))}var r=this,o=2e3,a=void 0,u=!0;Object.assign(r,{init:n})}i.$inject=["$scope","$timeout"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(t,n,i,r){M||e.pushDataLayerEvent(t,n,i,r)}function o(e,t,n){r(e,t?"shipment_functions":"shipment_funnel",n)}function a(){var t=e.dataLayer.component.shipment;t.returnLabelSelections=t.returnLabelSelections||{}}function u(e,t){var r=t||n.getShipmentData();i.prepareForShipment(),e(r)}function c(e,t,n){u(e,n),o(t)}function s(){c(i.fillShipmentAddressing,"shipment_details")}function l(){c(i.fillShipmentType,"shipment_selected")}function d(){c(i.fillPackagingRelatedData,"packaging_selection")}function f(e,t){c(function(e){return i.fillProduct(e,"shipmentSelections",v,N)},t,e)}function p(e){u(function(e){return E(e,"shipmentSelections")}),o("product_view",!1,e?{errorMessage:"Product View failed",errorDetails:e}:undefined)}function m(e,t,n){c(function(e){return _(e,t,n)},e)}function _(e,t,n){i.prepareForShipment(),i.fillShipmentAddressing(e),i.fillShipmentType(e),i.fillPackagingRelatedData(e),E(e,"shipmentSelections"),S(e,n),i.fillOptionalServices(t,"shipmentSelections"),i.fillShipmentAdditionalInformation(e)}function E(e,t){i.fillNonProductData(e,t),i.fillProduct(e,t,v,N)}function S(e,t){if(!e.returnShipment)return null;a(),E(e.returnShipment,"returnLabelSelections"),i.fillOptionalServices(t,"returnLabelSelections")}function g(e,t){v[t?"returnLabelSelections":"shipmentSelections"]=e.map(function(e){return e.product})}function C(e,t){N[t?"returnLabelSelections":"shipmentSelections"]=e}function A(t,n){i.prepareForShipment();var r=e.dataLayer.component.shipment,o=r.shipmentConfirmation=r.shipmentConfirmation||{};o.shareOptions=o.shareOptions||{outbound:{},"return":{}},o.shareOptions[t?"return":"outbound"]=n}function h(t){i.prepareForShipment();var n=e.dataLayer.component.shipment;(n.shipmentConfirmation=n.shipmentConfirmation||{}).saveShipmentDefaults=t}function I(){M=!0,t(function(){return M=!1},T)}var v={},N={},T=3e3,M=!1;return{markSection:r,markShipmentSection:o,markShipmentAddressSection:s,markShipmentTypeSection:l,markPackagingSelection:d,markProductSection:f,markProductViewSection:p,markCostSummarySection:m,handleFullShipment:_,storeProducts:g,storeSelectedProduct:C,storeShipmentSharingCheckboxes:A,storeShipmentDefaultsCheckboxes:h,onReturnFromPreviousState:I}}i.$inject=["$window","$timeout","shipmentDataService","analyticsDataService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="analyticsService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";function t(){var t=e.dataLayer.component,n=t.shipment=t.shipment||{};n.shipmentAddressing=n.shipmentAddressing||{},n.shipmentSelections=n.shipmentSelections||{}}function n(t){Object.assign(e.dataLayer.component.shipment.shipmentAddressing,{sender:i(t.fromCustomer),receiver:i(t.toCustomer)})}function i(e){return{country:e.address.countryCode,zip:e.address.postCode,city:e.address.cityName&&e.address.cityName.toLowerCase(),residential:e.address.addressType===a["default"].RESIDENTIAL}}function r(e){if(!e)return"0.00";var t=""+e;return t.includes(".")?t:t+".00"}function o(e,t,n){return{value:r(e[t]),currency:e[n]||""}}function u(t){Object.assign(e.dataLayer.component.shipment.shipmentSelections,{invoice:s(t.customsInvoiceType),shipmentValue:o(t,"totalDeclaredValue","shipmentCurrency"),shipmentInsurance:o(t,"insuranceValue","insuranceCurrency")})}function s(e){var t;return(t={},t[l["default"].CREATE]="create-invoice",t[l["default"].USE]="own-invoice",t)[e]||null}function d(t){Object.assign(e.dataLayer.component.shipment.shipmentSelections,{pickup:!!t.pickup,returnLabel:!!t.returnShipment}),e.dataLayer.component.shipment.costDetails={shipment:f(t),"return":f(t.returnShipment)}}function f(e){return e&&e.product&&e.product.payment&&e.product.payment.details?e.product.payment.details.map(function(e){return{name:e.name,details:e.price&&o(e.price,"value","currency")}}):null}function p(t,n){Object.assign(e.dataLayer.component.shipment[n],{packaging:t.pieces&&t.pieces.map(m),payment:_(t)})}function m(e){return{packagingType:e.packageId,quantity:e.quantity,dimensions:{weight:e.weight,height:e.height,length:e.length,width:e.width}}}function _(e){return{type:e.paymentInfo.transportation&&e.paymentInfo.transportation.paymentMethod,additionalInfo:{dutiesTaxes:e.paymentInfo.duties&&e.paymentInfo.duties.paymentMethod,customTermsOfTrade:e.incotermCode,rememberPayment:{active:!e.paymentInfo.splitDutiesAndTaxesPayment,"for":!e.paymentInfo.splitQuotAndTranspPayment}}}}function E(t){e.dataLayer.component.shipment.shipmentSelections.shipmentType=S(t.type)}function S(e){var t;return(t={},t[c["default"].DOCUMENT]="documents",t[c["default"].PACKAGE]="packages",t)[e]||null}function g(t,n){e.dataLayer.component.shipment[n].optionalServices=t.optionalServices.filter(function(e){return e.selected}).map(function(e){return{type:e.name,cost:{value:e.price&&e.price.value,currency:e.price&&e.price.currency},additionalInformation:{}}})}function C(t,n,i,r){var o=t.product,a=t.shippingDate;e.dataLayer.component.shipment[n].productSelector={selectedDate:a,products:A(o,n,i,r)}}function A(e,t,n,i){var r=[],o=n[t],a=i[t];return o&&r.push.apply(r,o.map(function(t,n){return h(t,e,n,a)})),!e||o&&o.some(function(t){return t===e})||r.push(h(e,e,o?o.length:0,a)),r}function h(e,t,n,i){return{id:e.globalProductName+e.localProductName+e.estimatedDeliveryDate+e.estimatedDeliveryTime,name:e.globalProductName,deliveredBy:e.estimatedDeliveryTime,deliveredDate:e.estimatedDeliveryDate,price:e.payment&&e.payment.total&&r(e.payment.total.value),currency:e.payment&&e.payment.total&&e.payment.total.currency,selected:e===t,seldetailsExpanded:i===n}}return{prepareForShipment:t,fillShipmentAddressing:n,fillPackagingRelatedData:u,fillShipmentAdditionalInformation:d,fillNonProductData:p,fillShipmentType:E,fillOptionalServices:g,fillProduct:C}}r.$inject=["$window"],t.__esModule=!0,t["default"]=r;var o=n(56),a=i(o),u=n(7),c=i(u),s=n(47),l=i(s);r.NG_NAME="analyticsDataService"},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(e,n){return t.post("/api/mms/search",e,{preventNotAvailableInterceptor:!0}).then(function(e){return e.data})["catch"](function(e){return l(e,n)})}function a(e){return t.post("/api/mms/search/typeahead",e,{preventNotAvailableInterceptor:!0}).then(function(e){var t=e.data;return(t===undefined?{}:t).results})["catch"](function(e){return l(e,!0)})}function u(e,n){return t.post("/api/mms/filters",e,{preventNotAvailableInterceptor:!0}).then(function(e){return e.data})["catch"](function(e){return l(e,n)})["catch"](function(){return{query:angular.copy(e)}})}function c(e){return t.get("/api/mms/pending/actions",{preventNotAvailableInterceptor:!0}).then(function(e){return e.data})["catch"](function(t){return l(t,e)})}function s(e){return t.post("/api/mms/count/pending-actions",e)}function l(t,i){var r=[o["default"].REQUEST_TIMEOUT,o["default"].UNPROCESSABLE_ENTITY,o["default"].GATEWAY_TIMEOUT];return i&&r.includes(t.status)&&n.showServiceErrorPopup({type:o["default"].REQUEST_TIMEOUT,messageKey:"errors.common_backend-error_shipment-search-is-too-generic"}),e.reject(t)}function d(){return i.getSourceData(i.CI_KEYS.CI1021_ADDITIONAL_FIELD_TO_SORT_SHIPMENTS)}function f(e){return t.get("/api/mms/search/quick-view/"+e)}return{fetchSearch:r,fetchTypeahead:a,fetchFilters:u,fetchPendingActions:c,fetchPendingActionsCount:s,getSortableFields:d,getShipmentQuickView:f}}i.$inject=["$q","$http","interceptorsStateService","configService"],t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="manageShipmentsResource"},,,,,function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{minDate:"<"+o+"MinDate",maxDate:"<?"+o+"MaxDate",selectedRange:"<?"+o+"Selection",displayDateFormat:"<?"+o+"DisplayDateFormat",internalDateFormat:"<?"+o+"InternalDateFormat",onRangeChange:"&"+o+"OnChange",isRequired:"<?"+o+"IsRequired",isCorpFlow:"<?"+o+"IsCorpFlow"},controller:r,controllerAs:"dateRangePickerCtrl",templateUrl:"common/widgets/date-range-picker/date-range-picker-template.html"})}function r(e,t){"ngInject";function n(e){var n=e.minDate,o=e.maxDate,u=e.selectedRange;if(a(),n&&angular.isDate(n.currentValue)&&i(n.currentValue),o&&angular.isDate(o.currentValue)&&r(o.currentValue),u&&u.currentValue){var c=u.currentValue,s=c.from,l=c.to;if(s&&l){var d=t.parse(s,A.internalDateFormat),p=t.parse(l,A.internalDateFormat);A.toDate.minDate=d,f(d,p)}else i(A.minDate),r(A.maxDate);Object.assign(T,u.currentValue),Object.assign(A.selectedDates,u.currentValue)}}function i(e){A.fromDate.minDate=A.toDate.minDate=e}function r(e){A.fromDate.maxDate=A.toDate.maxDate=e}function o(){var t;Object.assign(A.errorMessages,(t={},t[h]=e.ERRORS.MANAGE_SHIPMENTS_DATE_RANGE_WRONG_FORMAT,t[I]=e.ERRORS.MANAGE_SHIPMENTS_DATE_RANGE_WRONG_RANGE,t)),a(),C()}function a(){A.displayDateFormat=A.displayDateFormat||v,A.internalDateFormat=A.internalDateFormat||N}function u(e){e.stopPropagation(),A.toDate.isDatepickerOpen=!1,A.fromDate.isDatepickerOpen=!A.fromDate.isDatepickerOpen}function c(e){e.stopPropagation(),A.fromDate.isDatepickerOpen=!1,A.toDate.isDatepickerOpen=!A.toDate.isDatepickerOpen}function s(e){A.fromDate.valid=d("from",e),A.fromDate.valid&&(A.toDate.minDate=A.selectedDates.from,A.selectedDates.from>A.selectedDates.to&&(A.selectedDates.to=A.selectedDates.from,l(e))),m()}function l(e){A.toDate.valid=d("to",e),m()}function d(e,n){var i=n.$viewValue;if(!i)return _(e,n);if(n.$error[h])return E(n);if(!t.parse(i,A.internalDateFormat))return S(n);var r=A[e+"Date"],o=r.minDate,a=r.maxDate,u=p(A.selectedDates[e]),c=u>=p(o)&&(!a||u<=p(a));return n.$setValidity(I,c),c}function f(e,t){var n=p(e)<=p(t);A.fromDate.valid=n,A.toDate.valid=n}function p(e){return e.setHours(0,0,0,0)}function m(){(!A.isRequired&&!A.selectedDates.from&&!A.selectedDates.to||g()&&!angular.equals(T,A.selectedDates))&&A.onRangeChange({range:A.selectedDates})}function _(e,t){A.selectedDates[e]=null,t.$setValidity(h,!0),t.$setValidity(I,!0),t.$setPristine()}function E(e){e.$setValidity(I,!0)}function S(e){e.$setValidity(h,!1),e.$setValidity(I,!0)}function g(){return A.fromDate.valid&&A.toDate.valid}function C(){A.fromDatePlaceholder=A.isCorpFlow?e.ADMIN_TOOLS.DATE_RANGE_PICKER_FROM:e.MANAGE_SHIPMENTS.DATE_RANGE_PICKER_FROM,A.toDatePlaceholder=A.isCorpFlow?e.ADMIN_TOOLS.DATE_RANGE_PICKER_TO:e.MANAGE_SHIPMENTS.DATE_RANGE_PICKER_TO}var A=this,h="date",I="range",v="yyyy-mm-dd",N="yyyy-MM-dd",T={from:null,to:null};Object.assign(A,{fromDate:{options:{showWeeks:!1},minDate:null,maxDate:null,isDatepickerOpen:!1,valid:!1},toDate:{options:{showWeeks:!1},minDate:null,maxDate:null,isDatepickerOpen:!1,valid:!1},selectedDates:{from:null,to:null},fromDatePlaceholder:"",toDatePlaceholder:"",errorMessages:{},$onInit:o,$onChanges:n,toggleFromDatepicker:u,toggleToDatepicker:c,onFromDateChange:s,onToDateChange:l})}i.$inject=["component"],r.$inject=["Messages","dateParser"],t.__esModule=!0,t["default"]=i,t.DateRangePickerController=r;var o=i.NG_NAME="ewfDateRangePicker"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";function t(){var t;return t={},t[c["default"].UN_SUBMITTED]=e.MANAGE_SHIPMENTS.LOGICAL_CATEGORY_UN_SUBMITTED,t[c["default"].READY_TO_SHIP]=e.MANAGE_SHIPMENTS.LOGICAL_CATEGORY_READY_TO_SHIP,t[c["default"].IN_TRANSIT]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_IN_TRANSIT,t[c["default"].DELIVERED]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_DELIVERED,t[c["default"].CANCELLED]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_CANCELLED,t[c["default"].PICKED_UP]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_PICKED_UP,t[c["default"].MIGRATED]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_MIGRATED,t}function n(){return{assignToMeCount:e.MANAGE_SHIPMENTS.LOGICAL_STATUS_ASSIGNED_TO_ME,deliveredCount:e.MANAGE_SHIPMENTS.LOGICAL_STATUS_DELIVERED,inTransitCount:e.MANAGE_SHIPMENTS.LOGICAL_STATUS_IN_TRANSIT,savedByMeCount:e.MANAGE_SHIPMENTS.LOGICAL_STATUS_SAVED_BY_ME}}function i(){var t;return t={},t[a["default"].MIGRATED]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_MIGRATED,t[a["default"].SHIPPING_TODAY]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_SHIPPING_TODAY,t[a["default"].FUTURE_SHIPMENT]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_FUTURE_SHIPMENT,t[a["default"].READY_TO_PRINT]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_READY_TO_PRINT,t[a["default"].READY_TO_SEND_QR_CODE]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_READY_TO_SEND_QR_CODE,t[a["default"].SAVED_BY_ME]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_SAVED_BY_ME,t[a["default"].PENDING_MY_APPROVAL]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_PENDING_MY_APPROVAL,t[a["default"].PENDING_ADMIN_APPROVAL]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_PENDING_ADMIN_APPROVAL,t[a["default"].ASSIGNED_TO_ME]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_ASSIGNED_TO_ME,t[a["default"].PENDING_REQUESTOR_APPROVAL]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_PENDING_REQUESTOR_APPROVAL,t[a["default"].PENDING_ASSIGNEE_ACTION]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_PENDING_ASSIGNEE_ACTION,t[a["default"].DECLINED_BY_SHIPPER]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_DECLINED_BY_SHIPPER,t[a["default"].APPROVED]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_APPROVED,t[a["default"].EDIT_REQUESTED]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_EDIT_REQUESTED,t[a["default"].PICKED_UP]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_PICKED_UP,t[a["default"].IN_TRANSIT]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_IN_TRANSIT,t[a["default"].DELIVERED]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_DELIVERED,t[a["default"].CANCELLED]=e.MANAGE_SHIPMENTS.LOGICAL_STATUS_CANCELLED,t}function r(){return{shippingTodayCount:e.MANAGE_SHIPMENTS.LOGICAL_STATUS_SHIPPING_TODAY,readyToPrintCount:e.MANAGE_SHIPMENTS.LOGICAL_STATUS_READY_TO_PRINT,assignToMeCount:e.MANAGE_SHIPMENTS.LOGICAL_STATUS_ASSIGNED_TO_ME}}function o(){var t;return t={},t[l["default"].RECEIVER_WILL_PAY]=e.MANAGE_SHIPMENTS.PAYMENT_TYPES_RECEIVER_WILL_PAY,t[l["default"].DHL_ACCOUNT]=e.MANAGE_SHIPMENTS.PAYMENT_TYPES_DHL_ACCOUNT,t[l["default"].ONLINE_PAYMENT]=e.MANAGE_SHIPMENTS.PAYMENT_TYPES_ONLINE_PAYMENT,t[l["default"].CASH]=e.MANAGE_SHIPMENTS.PAYMENT_TYPES_CASH,t}function u(){var t;return t={},t[f["default"].PACKAGE]=e.MANAGE_SHIPMENTS.SHIPMENT_TYPE_PACKAGES,t[f["default"].DOCUMENT]=e.MANAGE_SHIPMENTS.SHIPMENT_TYPE_DOCUMENTS,t}function s(){var t;return t={},t[m["default"].CARGO]=e.INDIA_SUMMARY_SECTION.SUMMARY_VALUE_LABEL_CARGO,t[m["default"].GIFT]=e.INDIA_SUMMARY_SECTION.SUMMARY_VALUE_LABEL_GIFT,t[m["default"].NON_GIFT_NON_SAMPLE]=e.INDIA_SUMMARY_SECTION.SUMMARY_VALUE_LABEL_NON_GIFT_NON_SAMPLE,t}function d(){return{DHL_ACCOUNT:e.MANAGE_SHIPMENTS.ACCOUNT_TYPE_DHL_ACCOUNT,PAYER_ACCOUNT:e.MANAGE_SHIPMENTS.ACCOUNT_TYPE_PAYER_ACCOUNT}}function p(){return{"true":e.MANAGE_SHIPMENTS.SHIPMENT_DETAILS_LABEL_BOOLEAN_VALUE_YES,"false":e.MANAGE_SHIPMENTS.SHIPMENT_DETAILS_LABEL_BOOLEAN_VALUE_NO}}function g(){return{"true":e.MANAGE_SHIPMENTS.SHIPMENT_DETAILS_LABEL_DUTIABLE_STATUS_DUTIABLE,"false":e.MANAGE_SHIPMENTS.SHIPMENT_DETAILS_LABEL_DUTIABLE_STATUS_NON_DUTIABLE}}function C(){return{OUTBOUND:e.MANAGE_SHIPMENTS.SHIPMENT_DETAILS_TAB_NAME_OUTBOUND,INBOUND:e.MANAGE_SHIPMENTS.SHIPMENT_DETAILS_TAB_NAME_INBOUND,RETURN:e.MANAGE_SHIPMENTS.SHIPMENT_DETAILS_TAB_NAME_RETURN}}function A(){var t;return t={},t[_.UNITS.KG]=e.COMMON.UNITS_KG,t[_.UNITS.LB]=e.COMMON.UNITS_LB,t[_.UNITS.BU]=e.COMMON.UNITS_BU,t[_.UNITS.CM]=e.COMMON.UNITS_CM,t[_.UNITS.IN]=e.COMMON.UNITS_IN,t}function h(){return{logicalCategoryMapping:t(),logicalStatusMapping:i(),rightNavStatusMapping:n(),topNavLogicalStatusMapping:r(),shipmentTypesMapping:u(),shipmentTypesCategoryMapping:s(),paymentTypesMapping:o(),accountTypesMapping:d(),booleanValueMapping:p(),dutiableStatusMapping:g(),shipmentDetailsTabLabel:C(),assignPickupAddressMapping:I(),unitsMapping:A(),gstDropdownOptionsMapping:v(),gstTransactionTypesMapping:N()}}function I(){return{"true":e.MANAGE_SHIPMENTS.SHIPMENT_DETAILS_LABEL_ALLOW_PICKUP_ADDRESS_CHANGE,"false":e.MANAGE_SHIPMENTS.SHIPMENT_DETAILS_LABEL_RESTRICT_PICKUP_ADDRESS_CHANGE}}function v(){var t;return t={},t[S["default"].YES]=e.SHIPMENT_DETAILS.GST_SELECT_YES,t[S["default"].NO]=e.SHIPMENT_DETAILS.GST_SELECT_NO,t[S["default"].NA]=e.SHIPMENT_DETAILS.GST_SELECT_NA,t}function N(){var t;return t={},t[E.TRANSACTION_TYPES.REGULAR]=e.SHIPMENT_DETAILS.GST_SELECT_TRANSACTION_TYPE_REGULAR,t[E.TRANSACTION_TYPES.BILL_SHIP_FROM]=e.SHIPMENT_DETAILS.GST_SELECT_TRANSACTION_TYPE_BILL_SHIP_FROM,t}return{getLocalizations:h}}r.$inject=["Messages"],t.__esModule=!0,t["default"]=r;var o=n(18),a=i(o),u=n(65),c=i(u),s=n(6),l=i(s),d=n(7),f=i(d),p=n(252),m=i(p),_=n(53),E=n(159),S=i(E);r.NG_NAME="shipmentLocalizationsService"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(66),u=i(a),c=n(1806),s=i(c),l=angular.module("authorization.login.linkError",[o["default"],u["default"]]);l.directive(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="authorization.login.linkError"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,a,u,c){var s=t.$eval(u[r]);if(s){var l=s.passwordField,d=s.operation,f=d===undefined?o:d,p=s.errorMessage,m=f===o?n:i,_={msg:p,validationMethod:function(){function e(e){return m(t.$eval(l),e)}return e}()},E=e.createValidator("callback",_);t.$watch(l,c.triggerValidation),c.addValidator(E)}}function n(e,t){return e===t}function i(e,t){return e!==t}var o="matches";return{restrict:"A",require:"ewfInput",link:t}}i.$inject=["validatorsFactory"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfValidatePasswordEquality"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"="+r,hideCurrent:"<?"+r+"HideCurrent"},controllerAs:"passwordCtrl",templateUrl:"common/widgets/password/password.html"})}i.$inject=["component"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfPassword"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(t){return e.post("/api/signup/activate",{activationId:t}).then(function(e){return e.data})}function o(t){var i=n.create(t);return e.post("/api/signup/regular",i).then(function(e){return e.data})}function a(n,i){var r="/api/shipment/signup/"+i;return e.post(r,n).then(function(e){return e.data})["catch"](function(e){return t.reject(e.data)})}function u(n){return e.post("/api/shipment/signup/self-service",n).then(function(e){return e.data})["catch"](function(e){return t.reject(e.data)})}function c(t){return e.get("/api/signup/activation/prolong/"+t).then(function(e){return e.data})}function s(t){return e.get("/api/signup/verification/prolong/"+t).then(function(e){return e.data})}function l(t){return e.post("/api/signup/authorization",t).then(function(e){return e.data})}function d(n){return i.setAccountCookieIfNotExist().then(function(){return e.get("/api/signup/accounts/validate",{params:{accounts:n}})})["catch"](function(e){var n=e.data;return t.reject(n.errors)})}return{activateEmail:r,registerNewUser:o,registerUserWithShipment:a,registerUserWithSelfServiceBooking:u,renewExpiredActivationLink:c,renewExpiredVerificationLink:s,getAssignmentData:l,checkAllowCorpToReg:d}}i.$inject=["$http","$q","registrationFactory","callRateLoaderService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="registrationService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){"ngInject";function t(e){return new i(e)}var n=["haveAccountNumber","nameTitle","firstName","lastName","companyName",{key:"phoneDetails",propertyMap:s["default"]},{key:"phoneDetails2",propertyMap:s["default"]},"email","password","requestNewAccount",{key:"addressDetails",propertyMap:[].concat(u["default"],["countryDivisionCode","countryDivisionTypeCode","citySuburbName"])},"shipmentFrequency","language","captchaRequest","rewardCardNumber","accounts","token","promoViaEmail","additionalAgreements"],i=function(){function t(i){r(this,t),Object.assign(this,e.map(i,n))}return t}();return{create:t}}o.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=o;var a=n(438),u=i(a),c=n(400),s=i(c);o.NG_NAME="registrationFactory"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){"ngInject";function n(t){return e.post(u,{token:t})}function i(){t[c["default"].SHOW_DASHBOARD_MODAL]=a["default"].EMAIL_VERIFIED}function r(){var e=t[c["default"].TRUST_EV_LOCAL_STORAGE_KEY];return delete t[c["default"].TRUST_EV_LOCAL_STORAGE_KEY],e}function o(){return e.get("/etc/clientlibs/dhl/global/public/img/loading.gif").then(function(e){return e.headers("x-akamai-tls")})}var u="/api/signup/email/verify";return{verifyEmail:n,saveVerificationKeyToLocalStorage:i,getTrustEvErrorVisibility:r,verifyTls:o}}r.$inject=["$http","$localStorage"],t.__esModule=!0,t["default"]=r;var o=n(921),a=i(o),u=n(24),c=i(u);r.NG_NAME="loginPlaceholderService"},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"linkErrorCtrl",link:{pre:function(){function e(e,t,n,i){i.init()}return e}()}}}t.__esModule=!0,t["default"]=i;var r=n(1807),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfLinkError"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){r.step=e.getParamFromUrl(o["default"].ERROR)}function i(){var n=e.getParamFromUrl(o["default"].TOKEN);t.renewExpiredVerificationLink(n).then(function(){r.step="verification.email_sent"})}var r=this;Object.assign(r,{error:!1,init:n,resendVerificationEmail:i})}i.$inject=["pathService","registrationService"],t.__esModule=!0,t["default"]=i;var r=n(1),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"dashboardNotificationCtrl",templateUrl:"/templates/dashboard-notification.html"})}function r(e){"ngInject";function t(){e.getNotification().then(function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=e.userMessage,n=e.groupMessage,r=e.corporateMessage;return Object.assign(i,{userMessage:t,groupMessage:n,corporateMessage:r})})}function n(){e.closeNotification(i.doNotShowAgain),i.userMessage=null}var i=this;Object.assign(i,{doNotShowAgain:!1,$onInit:t,closeNotification:n})}i.$inject=["component"],r.$inject=["dashboardNotificationService"],t.__esModule=!0,t["default"]=i,t.DashboardNotificationController=r,i.NG_NAME="ewfDashboardNotification"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){return n[o["default"].HIDE_DASHBOARD_NOTIFICATION_KEY]?e.when(null):t.get(u).then(function(){return(arguments.length<=0||arguments[0]===undefined?{}:arguments[0]).data})}function r(e){e?t.post(u):n[o["default"].HIDE_DASHBOARD_NOTIFICATION_KEY]=!0}function a(){n[o["default"].HIDE_DASHBOARD_NOTIFICATION_KEY]=!1}var u="/api/dashboard/notification";return{getNotification:i,closeNotification:r,showDashboardNotification:a}}i.$inject=["$q","$http","$localStorage"],t.__esModule=!0,t["default"]=i;var r=n(24),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="dashboardNotificationService"},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"loginCtrl",scope:!0,require:[a,"ewfForm"],link:function(){function e(e,t,n,i){var r=i[0],o=i[1];r.init(o,{successHandler:e.$eval(n[a+"SuccessHandler"])})}return e}()}}t.__esModule=!0,t["default"]=i;var r=n(1811),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfLogin"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o,u,s,l,d,f){"ngInject";function p(e,t){R=angular.isFunction(t.successHandler)?t.successHandler:A,P.ewfFormCtrl=e,m(),o.logoutFromProview(),o.logoutFromEsecure()}function m(){var e=o.getRememberMeOptionValue();P.rememberMe=!!e,P.username=e||"",D(o.getInitialMessageKey())}function _(e,t){return P.loginErrors=[],l.clearCurrentGroup(),f.markSection("login","login"),r.logIn(P.username,P.password,e,t).then(E)["catch"](I)}function E(e){g(),S(),d.clearAppliedNodeInfo(),R(e)}function S(){u.removeRootCookie(c["default"].USER_LANGUAGE)}function g(){P.rememberMe?(o.setRememberMeOptionValue(P.username),r.setUsername(P.username)):o.removeRememberMeOptionValue()}function C(e){s.showDashboardNotification(),o.redirectToHome(e)}function A(e){var t=i.getPreviouslyRequestedUrl(),n=!!t&&JSON.parse(t),r=n&&!i.isSamePage(n.url)?function(){return i.redirectToPreviouslyRequestedUrl(n.url)}:function(){return C(e)};h(e,r)}function h(e,t){r.setId(P.username),u.handleUserLogin(e.groupMembership,t)}function I(e){var t=e.errorDetails;D(null),v(t),P.ewfFormCtrl.setErrorsFromResponse(e),t&&(o.isPasswordExpired(t)?O():o.isUserInactive(t)?P.userInactive=!0:o.isUserInactiveAndActivationExpired(t)&&(D(a["default"].ACTIVATION_EMAIL_EXPIRED),P.userInactive=!0))}function v(e){u.checkTermsPrivacyAgreements(e,b,N),P.ewfFormCtrl.setErrorsFromResponse([]),b=!1}function N(e,t){e&&(b=!0,_(e,t))}function T(e){f.markSection("login_error","error",{errorMessage:"Login failed",errorDetails:e})}function M(){r.resendActivationEmail(P.username).then(function(){D(a["default"].ACTIVATION_EMAIL_RESENT),P.ewfFormCtrl.cleanFormErrors(),y(),P.userInactive=!1})["catch"](function(e){D(null),P.ewfFormCtrl.setErrorsFromResponse(e)})}function y(){P.loginActivationDaysLimit=o.getLoginActivationDaysLimit(),n.showDialog({scope:e,templateUrl:"auth/dhl-login/templates/resend-activation-success-modal.jsp"})}function O(){i.redirectToPasswordExpired()}function D(e){P.notification=e&&o.getMessage(e)}var P=this,R=void 0,b=!1;Object.assign(P,{notification:null,password:"",rememberMe:!1,userInactive:!1,loginErrors:[],ewfFormCtrl:null,proviewLogoutUrl:null,init:p,logIn:_,onLoginSubmitError:T,resendActivationEmail:M})}r.$inject=["$scope","$element","modalService","navigationService","userService","loginService","loginExternalService","dashboardNotificationService","groupSwitcherService","corporateNodeSwitcherService","analyticsService"],t.__esModule=!0,t["default"]=r;var o=n(882),a=i(o),u=n(14),c=i(u)},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"loginPlaceholderCtrl",link:{pre:function(){function e(e,t,n,i){i.init()}return e}()}}}t.__esModule=!0,t["default"]=i;var r=n(1813),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfLoginPlaceholder"},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function a(){var t=n.getParamFromUrl(o["default"].TOKEN);t?u(t):c(),d.isTrustEvValidationFailed=e.getTrustEvErrorVisibility()}function u(n){e.verifyEmail(n).then(function(){i.isAuthorized()?(e.saveVerificationKeyToLocalStorage(),t.redirectToHome()):d.loginVerifiedPlaceholder=!0})["catch"](function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],i=e.data,r=i===undefined?{}:i,o=r.errors&&r.errors[0];t.redirectToLinkError(o,n)})}function c(){if(i.isAuthorized())return void r.resetGroup()["finally"](t.redirectToHome);switch(n.getHash()){case o["default"].LOGOUT:d.logoutPlaceholder=!0;break;case o["default"].ACCOUNT_ACTIVATED:d.accountActivatedPlaceholder=!0;break;default:d.loginPlaceholder=!0}}function s(){return d.loginPlaceholder||d.loginVerifiedPlaceholder}function l(){return n.getParamFromUrl(o["default"].DECLINE_SHIPMENT)}var d=this;Object.assign(d,{loginPlaceholder:!1,loginVerifiedPlaceholder:!1,logoutPlaceholder:!1,accountActivatedPlaceholder:!1,init:a,isAnyOfLoginPlaceholdersShown:s,isAssignShipmentDeclined:l})}i.$inject=["loginPlaceholderService","navigationService","pathService","userService","groupSwitcherService"],t.__esModule=!0,t["default"]=i;var r=n(1),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(){return{restrict:"A",controller:o["default"],controllerAs:"externalAccessCtrl",scope:!0,link:function(){function e(e,t,n,i){i.init()}return e}()}}t.__esModule=!0,t["default"]=i;var r=n(1815),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfExternalAccess"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r){"ngInject";function o(){h=t.getParamFromUrl(a["default"].EXTERNAL_ACCESS_LINK_KEY),h?(A.token=h,u()):d()}function u(){e.getAccessSettings(h).then(E).then(e.checkAssignShipmentStatus).then(_)["catch"](p)}function s(){e.getAccessToResource(h,A.settings.linkType,A.settings.groupId)}function d(){var n=t.getParamFromUrl(a["default"].EXTERNAL_ACCESS_LINK_TYPE);A.error=e.getLinkError(n),S()}function p(e){var t=e.status,n=e.data.errors;t!==c["default"].UNAUTHORIZED&&(i.removeRootCookie(l["default"].CURRENT_GROUP),A.error=n[0],S())}function _(){i.removeRootCookie(l["default"].CURRENT_GROUP),n.isAuthorized()&&!t.isPage(f["default"].DECLINE_ASSIGNED_SHIPMENT)&&s()}function E(t){return A.settings=t,i.putRootCookie(l["default"].CURRENT_GROUP,t.groupId),e.getShipmentKeyData(A.token)}function S(){A.alert={message:A.error,type:m["default"].ERROR}}function g(){return'<a ng-click="externalAccessCtrl.redirectToResource()">'+r.LOGIN_FORGOT_RESET_PASSWORD.HOME_ALERT_ASSIGNED_SHIPMENT_AS_GUEST_LINK+"</a>"}function C(){return'<a ng-href="'+t.getBasePath()+'/registration.html?token={{externalAccessCtrl.token}}">'+r.LOGIN_FORGOT_RESET_PASSWORD.HOME_ALERT_REGISTER_TO_SHIP_LINK+"</a>"}var A=this,h=void 0;Object.assign(A,{init:o,redirectToResource:s,getShipAsGuestLink:g,getRegisterToShipLink:C})}r.$inject=["externalAccessService","pathService","userService","cookiesService","Messages"],t.__esModule=!0,t["default"]=r;var o=n(1),a=i(o),u=n(5),c=i(u),s=n(14),l=i(s),d=n(21),f=i(d),p=n(54),m=i(p)},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function o(t){return e.get("/api/external-link/"+t).then(function(e){var t=e.data,n=t.linkType,i=t.guestAccessSupported,r=t.groupId;return{title:a()[n],guestAccessSupported:i,linkType:n,groupId:r}})}function a(){var e;return e={},e[E.AUTHORIZED_ACCOUNT]=t.LOGIN_FORGOT_RESET_PASSWORD.LOGIN_HEADER_AUTHORIZED_ACCOUNT,e[E.ASSIGNED_SHIPMENT]=t.LOGIN_FORGOT_RESET_PASSWORD.LOGIN_HEADER_ASSIGNED_SHIPMENT,e[E.APPROVE_SHIPMENT]=t.LOGIN_FORGOT_RESET_PASSWORD.LOGIN_HEADER_APPROVE_SHIPMENT,e}function u(){var e;return e={},e[S.ASSIGNED_SHIPMENT]=t.LOGIN_FORGOT_RESET_PASSWORD.EXTERNAL_ACCESS_ASSIGNED_SHIPMENT_LINK_EXPIRED_OR_USED,e[S.AUTHORIZED_ACCOUNT]=t.LOGIN_FORGOT_RESET_PASSWORD.EXTERNAL_ACCESS_AUTHORIZED_ACCOUNT_LINK_EXPIRED_OR_USED,e}function c(e){return u()[e]||t.LOGIN_FORGOT_RESET_PASSWORD.EXTERNAL_ACCESS_LINK_EXPIRED_OR_USED}function s(e,t,n){return l(e).then(function(e){return d(e,t,n)})}function l(t){return e.get("/api/external-link/"+t+"/key",{preventSessionExpiredInterceptor:!0}).then(function(e){return e.data.key})}function d(e,t,n){var i;r.setCurrentGroup(n);var o=(i={},i[E.AUTHORIZED_ACCOUNT]=_,i[E.ASSIGNED_SHIPMENT]=p,i[E.APPROVE_SHIPMENT]=m,i),a=o[t];return a?a(e):undefined}function f(e){return i.checkAssignShipmentStatus(e)}function p(e){i.checkAssignShipmentStatus(e).then(function(){return n.redirectToManageShipmentDetails(e)})["catch"](function(e){var t=e.data.errors,r=t[0],o=i.getShipmentStatusByErrorMessage(r);n.redirectToAssignedShipmentStatus(o)})}function m(e){var t=e.shipmentId;n.redirectToManageShipmentDetails(t)}function _(e){n.redirectToAuthorizedAccountPage(e)}var E={AUTHORIZED_ACCOUNT:"AAC_REGISTRATION",ASSIGNED_SHIPMENT:"ASSIGNED_SHIPMENT",APPROVE_SHIPMENT:"SHIPMENT_APPROVAL_NOTIFICATION"},S={AUTHORIZED_ACCOUNT:"aacn",ASSIGNED_SHIPMENT:"ashp"};return{getAccessSettings:o,getAccessToResource:s,getLinkError:c,getShipmentKeyData:l,checkAssignShipmentStatus:f}}i.$inject=["$http","Messages","navigationService","assignShipmentStatusService","groupSwitcherService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="externalAccessService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t){var n=t.shipmentId||t;return e.get("/api/shipment/assign/access-check?externalId="+n)}function n(e){return e.split("-").pop()}return{checkAssignShipmentStatus:t,getShipmentStatusByErrorMessage:n}}i.$inject=["$http"],t.__esModule=!0,t["default"]=i,i.NG_NAME="assignShipmentStatusService"},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){return e.getElementList(C)}function i(t){return e.postElement(C,t)}function r(t){return t?e.getElementList(A,{cache:!0}):e.getElementList(A)}function o(t){return e.postElement(A,t)}function a(){return e.getElementList(h)}function u(t){return e.postElement(h,t)}function c(){return e.getElementList(I)}function s(t){return e.postElement(I,t)}function l(){return e.getElementList(v).then(function(e){var n=e.somList.map(function(e){var t=Object.keys(e),n=t[0];return{key:n,value:e[n]}}),i=t.getWeightUnit(e.som);return Object.assign(e,{somList:n,weightUnit:i})})}function d(t){return e.postElement(v,t)}function f(){return e.getElementList(N)}function p(t){return e.postElement(N,t)}function m(){return e.getElementList(T)}function _(t){return e.postElement(T,t)}function E(){return e.getElementList(M)}function S(t){return e.postElement(M,t)}var g="/api/myprofile/shipment/defaults/",C=g+"insurance",A=g+"return",h=g+"pickup",I=g+"saving",v=g+"uomac",N=g+"packages",T=g+"delivery",M=g+"customs/clearance";return{getShipmentInsurance:n,updateShipmentInsurance:i,getReturnShipments:r,updateReturnShipments:o,getPickupsData:a,savePickupsData:u,getDefaultSavingShipment:c,updateDefaultSavingShipment:s,getDefaultSomAndCurrency:l,updateDefaultSomAndCurrency:d,getPackagesData:f,updatePackagesData:p,getDeliveryOptions:m,updateDeliveryOptions:_,getCustomsClearance:E,updateCustomsClearance:S}}i.$inject=["crudService","measuresService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="profileShipmentService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"editAccountFormCtrl",templateUrl:"my-dhl-accounts/my-dhl-account-edit-form.html",bindings:{accountNickname:"="+o+"AccountNickname",accountNumber:"="+o+"AccountNumber",accountType:"="+o+"AccountType",getAccountKey:"&"+o+"GetAccountKey",onEditSuccess:"&"+o+"OnEditSuccess",inOneColumnView:"<"+o+"InOneColumnView"}})}function r(e,t,n){"ngInject";function i(){return a.serverErrors=null,e.updateMyDhlAccount(r()).then(a.onEditSuccess)["catch"](o)}function r(){return{accountNickname:a.accountNickname,accountNumber:a.accountNumber,accountType:a.accountType,key:a.getAccountKey()}}function o(e){a.serverErrors=e.errors||e.fieldErrors&&e.fieldErrors.accountNumber||[n.MANAGE_ACCOUNTS.MY_DHL_ACCOUNTS_MSG_ACCOUNT_NOT_VALID]}var a=this;Object.assign(a,{editAccount:i})}i.$inject=["component"],r.$inject=["accountListService","myDhlAccountFactory","Messages"],t.__esModule=!0,t["default"]=i,t.EditMyDhlAccountFormController=r;var o=i.NG_NAME="ewfEditAccountForm"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){"ngInject";function t(e){return new r(e)}var n=["accountNickname","accountNumber","accountType","key"],r=function(){function t(r){i(this,t),Object.assign(this,e.map(r,n))}return t}();return{create:t}}r.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=r,r.NG_NAME="myDhlAccountFactory"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n){return e.postElement(r,t.create(n))}function i(t,n){var i=n?{params:n}:{};return e.getElementList(t,i)}var r="/api/myprofile/accounts/modify";return{updateMyDhlAccount:n,fetchMyDhlAccounts:i}}i.$inject=["crudService","myDhlAccountFactory"],t.__esModule=!0,t["default"]=i,i.NG_NAME="accountListService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e){return t.get(_,{params:e}).then(function(e){return e.data})}function r(e){return t.get(S,{cache:!0,params:e}).then(function(e){return e.data})}function a(e){return t.get(E,{cache:!e}).then(function(e){return e.data})}function u(n){return n&&n.destinationCountryCode?t.get(g,{params:n}).then(function(e){return d(e.data,o["default"].LIGHT_BACKGROUND)}):e.reject()}function c(e,n){return t.put("/api/addressbook/contact/"+e+"/payment-settings",n).then(function(e){return e.data})}function s(n){return n?t.get("/api/location/local-service/"+n+"/DD",{cache:!0,cacheDuration:5e3}).then(function(e){return e.data}):e.when({})}function l(e){return t.get(C,{cache:!0}).then(function(t){return d(t.data,e)})}function d(e,t){var n=e.filter(function(e){return e.purpose===t});return[].concat(e.filter(function(e){return!e.purpose}),n)}function f(e){return n.getSourceData(n.CI_KEYS.CI0847_PAYMENT_CATEGORIES,e)}function p(){return n.getBoolean(n.CI_KEYS.CI0784_SPLIT_DUTY_AND_TAX_PAYMENT_OPTION)}function m(e){return n.getSourceData(n.CI_KEYS.CI0987_NOT_ALLOW_ONLINE_PAYMENT_FOR_DESTINATION_COUNTRIES).then(function(t){return!t||t.every(function(t){return t.value!==e})})}var _="/api/accounts/verified",E="/api/shipment/accounts/verified",S="/api/pickup/accounts/verified",g="/api/shipment/payment/options/nonaccount",C="/api/shipment/payment/options/online";return{fetchUserAccounts:i,fetchPickupAccounts:r,fetchShipmentAccounts:a,fetchNonAccountPaymentOptions:u,associatePaymentWithAddressBookContact:c,fetchDDServiceInfo:s,fetchOnlinePaymentOptions:l,getPaymentCategories:f,fetchSplitDutyAndTaxPaymentOption:p,getOnlinePaymentDestinationValidity:m}}i.$inject=["$q","$http","configService"],t.__esModule=!0,t["default"]=i;var r=n(924),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="paymentResource"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(1843),u=i(a),c=angular.module("shipment-common.addressSwitch",[o["default"]]);c.directive(u["default"].NG_NAME,u["default"]),t.module=c,t["default"]="shipment-common.addressSwitch"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{disabled:"<?"+o+"Disabled",onSwitch:"&"+o+"OnSwitch"},controller:r,controllerAs:"addressSwitchCtrl",templateUrl:"address-switch.html"})}function r(e){"ngInject";function t(){e.redirectToHelpCenter()}var n=this;Object.assign(n,{goToHelpCenter:t})}i.$inject=["component"],r.$inject=["navigationService"],t.__esModule=!0,t["default"]=i,t.AddressSwitchController=r;var o=i.NG_NAME="ewfAddressSwitch"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){"ngInject";function t(e){return new r(e)}var n=["alias","title"],r=function(){function t(r){i(this,t),Object.assign(this,e.map(r,n))}return t}();return{create:t}}r.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=r,r.NG_NAME="columnFactory"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(){return n.getElement(s).then(a)}function o(e){var t={};return Object.keys(e).forEach(function(n){return t[n]=i.create(e[n])}),n.postElement(s,t)}function a(n){var i=n.available.filter(function(e){return"fax"!==e.alias}).map(function(e){var n=e.title;return t.getTranslation(n)});return e.all(i).then(function(e){return e.forEach(function(e,t){return n.available[t].translatedTitle=e}),n})}function u(e){return d.map(function(t){return angular.copy(e[t])})}function(){}var s="/api/addressbook/configure/columns",l="/address-book/head-column.html",d=Array.from(new Array(5)).map(function(e,t){return"column"+(t+1)});return{getColumnsInfo:r,updateColumnsInfo:o,mapCustomColumns:u,setupHeadColumn:c}}i.$inject=["$q","nlsService","crudService","columnFactory"],t.__esModule=!0,t["default"]=i,i.NG_NAME="columnCustomizationService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"="+u,mailingLists:"<"+u+"MailingLists",mailingListsNames:"<"+u+"MailingListsNames",columnsInfo:"<"+u+"ColumnsInfo",deleteHandler:"&"+u+"DeleteHandler",onNotFoundMailingList:"&"+u+"OnNotFoundMailingList",lastCreatedMailingListName:"="+u+"LastCreatedMailingListName"},controller:r,controllerAs:"mailingListDetailsCtrl",templateUrl:"mailing-list-details.html"})}function r(e,t,n,i,r,o,u,c,s){"ngInject";function l(e){var t=e.columnsInfo;t&&(L.columns=s.getColumnsToDisplay(t.currentValue))}function d(){i.createMailingList(L.newMailingListName,f(L.model.contacts)).then(function(e){L.model=e,L.lastCreatedMailingListName=e.name,U.close(),L.mailingListCreationError=""})["catch"](function(e){L.mailingListCreationError=e,L.lastCreatedMailingListName=""})}function f(e){var t=angular.copy(e);return t.forEach(function(e){delete e.isSelected}),t}function p(){return L.model.contacts&&L.model.contacts.length}function m(e){var t=e.map(function(e){return e.key});t&&t.length&&n.addContacts(L.model.id,t).then(function(e){L.addedContactsCount=t.length,L.model=e})["catch"](function(t){return _(t,e)})["finally"](w.close)}function _(e,t){var n=e.data.errorDetails;n&&n.contactsNotInAddressBook&&(L.contactsNotInAddressBook=n.contactsNotInAddressBook.map(function(e){return t.find(function(t){return t.key===e}).nickName}),n.contactsNotInAddressBook.length!==t.length&&h()),R(e)}function E(t,n){L.selectedContact=n,u.showDialog({scope:e,templateUrl:k})}function S(){w=u.showDialog({scope:e,templateUrl:G})}function g(e){e&&e.length?u.showConfirmationDialog({message:t.COMMON.COMMON_MSG_CONFIRM_LEAVE_PAGE}).then(w.close):w.close()}function C(){return[L.newMailingListName].concat(L.mailingListsNames)}function A(){L.newMailingListName=r.computeUniqueMailingListName(L.model.name,L.mailingListsNames),U=r.openCreateMailingListDialog(L)}function h(){n.getMailingList(L.model.id).then(function(e){L.model=e})["catch"](R)}function I(){r.deleteMailingLists([L.model]).then(function(e){L.deleteHandler({deletedIds:e})})["catch"](R)}function v(){return!L.model.contacts.some(function(e){return e.isSelected})}function N(){L.isBulkActionsDropdownShown=!L.isBulkActionsDropdownShown}function T(){L.isBulkActionsDropdownShown=!1}function M(){var e=o.filterSelectedContactKeys(L.model.contacts),i=t.ADDRESS_BOOK.ADDRESS_BOOK_PARAGRAPH_DELETE_CONTACTS_FROM_ML.replace("{contactsCount}",e.length);u.showConfirmationDialog({message:i}).then(function(){return n.removeContacts(L.model.id,e)["catch"](R)}).then(function(){L.removedContactsCount=e.length,h()})}function y(){r.redirectToCreateShipmentPage(L.model.id)}function O(){L.editMode=!0}function D(){i.updateMailingList(L.newMailingListName,L.model.id,f(L.model.contacts)).then(function(e){L.model=e,L.editMode=!1})["catch"](R)}function P(){L.editMode=!1,L.newMailingListName=""}function R(e){var t=e.status,n=e.data;if(t===a["default"].NOT_FOUND)return L.onNotFoundMailingList();L.errors=n&&n.errors}function b(){c.showDelimitersModal().then(function(){return i.downloadMailingList(L.model.id)}).then(function(){return L.mailingListExported=!0})["catch"](R)}var L=this,G="add-contacts-to-mailing-list-popup.html",k="contact-details-popup.html",w=void 0,U=void 0;Object.assign(L,{$onChanges:l,hasContacts:p,openAddContactsPopup:S,addContactsToMailingList:m,onCancelContactsSelection:g,openDuplicateMailingListDialog:A,getUniqueMailingListsNames:C,onCreateMailingList:d,isBulkActionsDisabled:v,toggleBulkActionDropdown:N,removeContacts:M,hideBulkActionsDropdown:T,deleteMailingList:I,shipTo:y,editMailingList:O,saveEditing:D,cancelEditing:P,downloadMailingList:b,paginationRangeOptions:{bottom:!0},columns:[],gridActions:{contactDetails:{label:t.ADDRESS_BOOK.MAILING_LIST_CONTACTS_CONTACT_DETAILS,handler:E},edit:null,"delete":null},profileContactViewOptions:{nonSelectable:!1,cssClass:""}})}i.$inject=["component"],r.$inject=["$scope","Messages","mailingListDetailsResource","mailingListsResource","mailingListsService","addressBookService","modalService","delimitersModalService","mailingListColumnCustomizationService"],t.__esModule=!0,t["default"]=i,t.MailingListDetailsCtrl=r;var o=n(5),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfMailingListDetails"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t){return e.get(r(t),{preventNotFoundInterceptor:!0}).then(function(e){return e.data})}function n(t,n){return e.post(o(t),{contactKeys:n},{preventNotFoundInterceptor:!0}).then(function(e){return e.data})}function i(t,n){return e.post(a(t),{contactKeys:n},{preventNotFoundInterceptor:!0}).then(function(e){return e.data})}var r=function(e){return"/api/addressbook/mailingList/"+e},o=function(e){return"/api/addressbook/mailingList/"+e+"/contacts"},a=function(e){return"/api/addressbook/mailingList/"+e+"/contacts/delete"};return{getMailingList:t,addContacts:n,removeContacts:i}}i.$inject=["$http"],t.__esModule=!0,t["default"]=i,i.NG_NAME="mailingListDetailsResource"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e){return r(n.mapCustomColumns(e))}function r(e){return e.forEach(function(e){var t=s[e.title];e.template="<span ng-bind=row."+t+"></span>",o(e,t)}),e}function o(e,n){e.onSort=function(e,i){var r=u(n),o=c(n),s=a(e,r,o),l=a(i,r,o);return t.compareBy(s,l)}}function a(e,t,n){var i=e;return t.forEach(function(e){i=i[e]}),n?n(i):i}function u(e){return e.split("|")[0].split(".")}function c(t){var n=t.split("|")[1];return n?e(n):null}var s={"ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_NICKNAME":"contactDetails.nickname","ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_CONTACT_NAME":"contactDetails.name","ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_ADDRESS":"contactDetails.addressDetails.addrLine1","ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_ADDRESS_2":"contactDetails.addressDetails.addrLine2","ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_ADDRESS_3":"contactDetails.addressDetail.addrLine3","ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_CITY":"contactDetails.addressDetails.city","ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_COUNTRY":"contactDetails.addressDetails.countryCode|countryName","ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_COMPANY_NAME":"contactDetails.company","ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_ZIP":"contactDetails.addressDetails.zipOrPostCode","ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_STATE_PROVINCE":"contactDetails.addressDetails.city","ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_EMAIL_ADDRESS":"contactDetails.email","ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_PHONE":"contactDetails.phoneDetails.phone","ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_MATCH_CODE":"contactDetails.matchCode","ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_VAT":"contactDetails.taxDetails.vatTaxId","ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_ADDITIONAL_NOTES":"contactDetails.additionalNotes","ADDRESS_BOOK.ADDRESS_BOOK_COL_NAME_SHIPPING_REFERENCE":"shippingSetting|defaultShipmentReference"};return{getColumnsToDisplay:i}}i.$inject=["$filter","sortService","columnCustomizationService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="mailingListColumnCustomizationService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(37),u=i(a),c=n(404),s=i(c),l=n(1978),d=i(l),f=n(1980),p=i(f),m=n(1981),_=i(m),E="shipment.address-contact.modification-actions",S=angular.module(E,[o["default"],u["default"],s["default"]]);S.directive(d["default"].NG_NAME,d["default"]).directive(_["default"].NG_NAME,_["default"]).service(p["default"].NG_NAME,p["default"]),t.module=S,t["default"]=E},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(1851),u=i(a),c=n(1852),s=i(c),l=n(1853),d=i(l),f=n(1855),p=i(f),m=n(1856),_=i(m),E=n(1857),S=i(E),g=angular.module("shipment.type.helpers",[o["default"]]);g.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]).service(d["default"].NG_NAME,d["default"]).service(p["default"].NG_NAME,p["default"]).directive(_["default"].NG_NAME,_["default"]).directive(S["default"].NG_NAME,S["default"]),t.module=g,t["default"]="shipment.type.helpers"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{shipmentTypeModel:"<"+c,addressDetailsModel:"<?"+c+"AddressDetailsModel",packageDetailsModel:"<?"+c+"PackageDetailsModel",shipmentType:"<"+c+"ShipmentType",shipmentTypeDutiable:"<"+c+"ShipmentTypeDutiable",fromAddress:"<"+c+"FromAddress",toAddress:"<"+c+"ToAddress",createEnhancedInvoiceByDefault:"<?"+c+"CreateEnhancedInvoiceByDefault",isDocumentsTypeDisabled:"<?"+c+"IsDocumentsTypeDisabled",isPackagesTypeDisabled:"<?"+c+"IsPackagesTypeDisabled",isCustomsInvoiceDisabled:"<?"+c+"IsCustomsInvoiceDisabled",isMailingListShipment:"<?"+c+"IsMailingListShipment",isShipmentTypeLocked:"<?"+c+"IsShipmentTypeLocked",isServiceTypeHidden:"<?"+c+"IsServiceTypeHidden",shipmentTypeCategory:"<?"+c+"ShipmentTypeCategory",fromCountry:"<?"+c+"FromCountry",toCountry:"<?"+c+"ToCountry",isDocumentsTypeVisible:"<?"+c+"IsDocumentsTypeVisible"},controller:r,controllerAs:"helpersCtrl",templateUrl:"components/shipment/type/helpers.html"})}function r(e,t,n,i,r,a){"ngInject";function c(e){var t=e.shipmentType,n=e.shipmentTypeDutiable,i=e.shipmentTypeCategory;d(t,n,e.fromCountry,e.toCountry),f(i)}function s(e,t){return e&&$.fromCountry||t&&$.toCountry}function l(e,t){return(e||t)&&$.shipmentType}function d(t,i,o,a){if(s(o,a)||l(t,i)){r.markShipmentTypeSection();var u=[n.isGstDataEnabled($.fromAddress.countryCode),G(),k(),g($.shipmentType)];e.all(u).then(function(e){var t=e[0];n.setShipmentTypeCategoryAvailability($.shipmentTypeModel,$.fromAddress.countryCode,t,$.isCustomsInvoiceDisabled),p()||E()})}}function f(e){e&&$.shipmentTypeCategory&&m(e)}function p(){return j()&&$.shipmentTypeModel.isShipmentTypeCategoriesAvailable&&!$.shipmentTypeCategory}function m(e){if(E(),e.isFirstChange()||!$.shipmentTypeModel.isCsbvShipment())return void _();n.onShipmentTypeCategoryChanged($.shipmentTypeModel,$.createEnhancedInvoiceByDefault)}function _(){$.shipmentTypeModel.isCreatingCustomsInvoice()&&n.setRedirectedOnEnhancedInvoice(!0)}function E(){$.shipmentTypeModel.dropInvoiceType(),$.shipmentTypeModel.customsInvoiceType?B()?$.shipmentTypeModel.customsInvoiceType=$.shipmentTypeModel.savedCustomsInvoiceType||null:n.applyDefaultFallback($.shipmentTypeModel):S()}function S(){n.getCustomsClearanceDefaults().then(function(e){var t=e.customsInvoiceType,i=e.enhancedInvoice,r=e.selectedShipmentPurpose,o=e.supplyLineItemReferences;n.applyCreateInvoiceDefaults({shipmentTypeModel:$.shipmentTypeModel,defaultCustomsInvoiceType:t,enhancedInvoice:i,selectedShipmentPurpose:r,supplyLineItemReferences:o}),n.applyUseMyOwnInvoiceDefaults($.shipmentTypeModel,t,o)})["finally"](function(){return n.applyDefaultFallback($.shipmentTypeModel)})}function g(t){if($.isMailingListShipment)return C(j(t)),e.when();var i={fromCountry:$.fromAddress.countryCode,fromCity:$.fromAddress.city,fromPostalCode:$.fromAddress.zipOrPostCode,fromServiceAreaCode:$.fromAddress.serviceAreaCode,fromCountryDivisionCode:$.fromAddress.countryDivisionCode,fromCitySuburbName:$.fromAddress.citySuburbName||undefined,toCountry:$.toAddress.countryCode,toCity:$.toAddress.city,toPostalCode:$.toAddress.zipOrPostCode,toServiceAreaCode:$.toAddress.serviceAreaCode,toCountryDivisionCode:$.toAddress.countryDivisionCode,toCitySuburbName:$.toAddress.citySuburbName||undefined};return n.getDutiableStatus(i).then(C)}function C(e){$.shipmentTypeModel.isDutiable=i.isShipmentDutiable(e,$.shipmentTypeModel),$.shipmentTypeModel.dutiable=$.shipmentTypeModel.isDutiable}function A(){return $.shipmentTypeModel.isShipmentTypeDocument()&&!$.isMailingListShipment}function h(){return!!$.shipmentTypeModel.shipmentType&&!$.isMailingListShipment}function I(){var e=!1;N(H.fromAddress,$.fromAddress)||(H.fromAddress=angular.copy($.fromAddress),e=!0),N(H.toAddress,$.toAddress)||(H.toAddress=angular.copy($.toAddress),e=!0),e&&$.applyDefaults()}function v(e){var t=e||{};return{countryCode:t.countryCode,city:t.city,zipOrPostCode:t.zipOrPostCode}}function N(e,t){return angular.equals(v(e),v(t))}function T(){var e=$.fromAddress.countryCode,t=$.toAddress.countryCode;e&&t&&(g($.shipmentType),M(e,t))}function M(e,t){n.getListOfCommonlyMistakenPackagesAsDocuments(t).then(function(e){return Object.assign($,{commonlyMistakenPackages:e})}),n.getDimensionsToConsiderAsPackage(e,t).then(function(e){return Object.assign($,{dimensionsToConsiderAsPackage:e})})["catch"](function(){return $.dimensionsToConsiderAsPackage=undefined}),n.getShipmentTypeHelperItems(e,t).then(function(e){var t=e.prohibitedItems;return $.shipmentTypeModel.prohibitedItemsList=t})}function y(){var e={fromCountry:$.fromAddress.countryCode,toCountry:$.toAddress.countryCode,isShipmentTypeLocked:$.isShipmentTypeLocked,isPackagesTypeDisabled:$.isPackagesTypeDisabled,isDocumentsTypeDisabled:$.isDocumentsTypeDisabled};n.showShipmentTypeDecisionHelper(O,e)}function O(e,t){$.shipmentTypeModel.forceShipmentTypeChange=!0,$.shipmentTypeModel.shipmentType=e.toUpperCase(),$.shipmentTypeModel[$.shipmentTypeModel.getDescriptionType()]=t}function D(){$.shipmentTypeModel.savedCustomsInvoiceType=$.shipmentTypeModel.customsInvoiceType,$.shipmentTypeModel.isCreatingCustomsInvoice()&&$.createEnhancedInvoiceByDefault&&!$.shipmentTypeModel.isEnhancedInvoiceCompleted()&&t.go(o.states.ENHANCED_INVOICE)}function P(){return n.isCustomsInvoiceSwitcherHidden($.shipmentTypeModel)}function R(){return $.shipmentTypeModel.isCustomsInvoiceAvailable=!$.shipmentTypeModel.isShipmentTypeCategoryMissing()&&n.isCustomsInvoiceAvailable($.shipmentTypeModel,$.isCustomsInvoiceDisabled),$.shipmentTypeModel.isCustomsInvoiceAvailable}function b(){return!$.isServiceTypeHidden&&n.isServiceTypeSelectorAvailable($.shipmentType,$.fromAddress.countryCode,$.toAddress.countryCode)}function L(){return!t.is(o.states.RATE_AND_QUOTE)&&!$.shipmentTypeModel.isUseMyOwnInvoiceEnabled()}function G(){return n.getInvoiceEnabledStatus($.fromAddress.countryCode).then($.shipmentTypeModel.setCommercialInvoiceEnabled)}function k(){return $.fromAddress.countryCode?$.shipmentType!==u["default"].PACKAGE?($.shipmentTypeModel.setUseMyOwnInvoiceEnabled(!0),e.when()):n.isOwnInvoiceAllowed($.fromAddress.countryCode).then($.shipmentTypeModel.setUseMyOwnInvoiceEnabled):e.when()}function w(){return j()?a.SHIPMENT_DETAILS.SHIPMENT_TYPE_BUTTON_USE_OWN_CUSTOMS_INVOICE_PACKAGE:a.SHIPMENT_DETAILS.SHIPMENT_TYPE_BUTTON_USE_OWN_CUSTOMS_INVOICE_DOCUMENT}function U(){return j()?a.SHIPMENT_DETAILS.SHIPMENT_TYPE_INFO_USE_OWN_CUSTOMS_INVOICE_PACKAGE:a.SHIPMENT_DETAILS.SHIPMENT_TYPE_INFO_USE_OWN_CUSTOMS_INVOICE_DOCUMENT}function F(){return!n.hasDhlAccounts()&&$.shipmentTypeModel.isDutiable}function j(){return(arguments.length<=0||arguments[0]===undefined?$.shipmentType:arguments[0])===u["default"].PACKAGE}function V(){return j()&&$.shipmentTypeModel.isShipmentTypeCategoriesAvailable}function B(){return $.shipmentTypeModel.savedCustomsInvoiceType!==$.shipmentTypeModel.customsInvoiceType&&$.shipmentTypeModel.isUseMyOwnInvoiceEnabled()&&$.shipmentTypeModel.isCommercialInvoiceAvailableForCurrentShipmentType()&&!$.shipmentTypeModel.isEnhancedInvoiceCompleted()}var $=this,H={fromAddress:null,toAddress:null};Object.assign($,{$onChanges:c,$doCheck:I,applyDefaults:T,showTypeDecisionHelper:y,onInvoiceTypeChange:D,isCustomsInvoiceSwitcherHidden:P,isCustomsInvoiceAvailable:R,isServiceTypeSelectorAvailable:b,isDocumentsOrPackagesBlockVisible:A,isProhibitedItemsBlockVisible:h,isUseMyOwnInvoiceLabelVisible:L,getOwnCustomsInvoiceButtonName:w,getOwnCustomsInvoiceInfoText:U,isReceiverDutyAndTaxable:F,isShipmentTypeCategoryDisplayed:V,commonlyMistakenPackages:[],dimensionsToConsiderAsPackage:undefined})}i.$inject=["component"],r.$inject=["$q","$state","shipmentTypeHelperService","shipmentTypeService","analyticsService","Messages"],t.__esModule=!0,t["default"]=i,t.ShipmentTypeHelpersController=r;var o=n(9),a=n(7),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=i.NG_NAME="ewfShipmentTypeHelpers"},function(e,t,n){"use strict";function i(e,t,n,i,o,u,c,s,l){"ngInject";function d(t,i){var r=[o.getDimensionToConsiderAsPackage(i),n.getSomParameters(t,i)];return e.all(r).then(function(t){var n=t[0],i=t[1].userProfileCountrySom,r=u.getDimensionUnit(i),o=n&&n.find(function(e){return e.uom===r.key});return!o||p(o)?e.reject():(o.uom=r.title,o.key=r.key,o)})}function f(e){return n.getDutiableStatus(e)}function p(e){var t=e.width,n=e.height,i=e.length;return angular.isUndefined(t)||angular.isUndefined(n)||angular.isUndefined(i)}function m(e){return o.getListOfCommonlyMistakenPackagesAsDocuments(e)}function _(e,t){return c.getShipmentTypeHelperItems(e,t)}function E(e,t){i.showShipmentTypeHelper(e,t)}function S(e,t,i){return n.isServiceTypeSelectorAvailable(e,t,i)}function g(){return n.getCustomsClearanceDefaults()}function C(e){return n.getInvoiceEnabledStatus(e)}function A(e){return n.isOwnInvoiceAllowed(e)}function h(e){var n=e.shipmentTypeModel,i=e.defaultCustomsInvoiceType,o=e.enhancedInvoice,u=e.selectedShipmentPurpose,c=e.supplyLineItemReferences;i===a["default"].CREATE&&n.isCommercialInvoiceAvailableForCurrentShipmentType()&&(n.savedCustomsInvoiceType=n.customsInvoiceType=a["default"].CREATE,v(n,u),N(n,c,i),o&&t.go(r.states.ENHANCED_INVOICE))}function I(e,t,n){t!==a["default"].USE||!e.isUseMyOwnInvoiceEnabled()||e.isCsbvShipment()||(N(e,n,t),e.savedCustomsInvoiceType=e.customsInvoiceType=a["default"].USE)}function v(e,t){!e.itemAttributes.shippingPurpose&&t&&(e.itemAttributes.shippingPurpose={reasonForExport:t})}function N(e,t,n){var i;angular.isUndefined(t)||angular.isUndefined(n)||(e.itemAttributes.itemReferenceDefaults=(i={},i[n]=t,i))}function T(e){return!e.isUseMyOwnInvoiceEnabled()&&e.isCommercialInvoiceAvailableForCurrentShipmentType()?void(e.customsInvoiceType=a["default"].CREATE):e.isUseMyOwnInvoiceEnabled()&&!e.isCommercialInvoiceAvailableForCurrentShipmentType()?void(e.customsInvoiceType=a["default"].USE):void 0}function M(e){return l.isCsbvShipment(e.shipmentTypeCategory)}function y(e,t){return!t&&e.isCommercialInvoiceAvailableForCurrentShipmentType()&&e.isUseMyOwnInvoiceEnabled()}function O(e){return e.isCommercialInvoiceAvailableForCurrentShipmentType()||e.isUseMyOwnInvoiceEnabled()}function D(){return s.hasDhlAccounts()}function P(e,t,n,i){e.isShipmentTypeCategoriesAvailable=!i&&n&&l.isShipmentFromIndia(t)&&e.isDutiable,e.isShipmentTypeCategoriesAvailable||(e.shipmentTypeCategory=null)}function R(e){return l.isGstDataEnabled(e)}function b(e,n){e.customsInvoiceType=a["default"].CREATE,n&&!e.isEnhancedInvoiceCompleted()&&!G&&(t.go(r.states.ENHANCED_INVOICE),G=!0)}function L(e){G=e}var G=!1;return{getShipmentTypeHelperItems:_,getListOfCommonlyMistakenPackagesAsDocuments:m,getDimensionsToConsiderAsPackage:d,getDutiableStatus:f,showShipmentTypeDecisionHelper:E,isServiceTypeSelectorAvailable:S,isCustomsInvoiceSwitcherHidden:M,isCustomsInvoiceAvailable:y,isAnyCustomsInvoiceAvailable:O,getCustomsClearanceDefaults:g,getInvoiceEnabledStatus:C,isOwnInvoiceAllowed:A,applyCreateInvoiceDefaults:h,applyUseMyOwnInvoiceDefaults:I,applyDefaultFallback:T,hasDhlAccounts:D,setShipmentTypeCategoryAvailability:P,isGstDataEnabled:R,onShipmentTypeCategoryChanged:b,setRedirectedOnEnhancedInvoice:L}}i.$inject=["$q","$state","shipmentTypeService","shipmentTypeHelperModalService","shipmentTypeHelperResource","measuresService","prohibitedItemsService","userService","indiaFlowService"],t.__esModule=!0,t["default"]=i;var r=n(9),o=n(47),a=function(e){return e&&e.__esModule?e:{"default":e}}(o);i.NG_NAME="shipmentTypeHelperService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n){e.showDialog({resolve:{onShipmentTypeHelperChoose:function(){function e(){return t}return e}(),helpersData:function(){function e(){return n}return e}()},controller:o["default"],controllerAs:"shipmentTypeHelperPopupCtrl",templateUrl:"shipment-type-helper-layout.html"})}return{showShipmentTypeHelper:t}}i.$inject=["modalService"],t.__esModule=!0,t["default"]=i;var r=n(1854),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="shipmentTypeHelperModalService"},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function a(){u(),_.fromCountry=i.fromCountry,_.toCountry=i.toCountry,_.isShipmentTypeLocked=i.isShipmentTypeLocked,t.getShipmentTypeHelperItems(i.fromCountry,i.toCountry).then(function(e){var t=e.allItems;return _.shipmentTypeItems=t}),r.getDocumentDescriptionsData(i.fromCountry,[i.toCountry]).then(function(e){return Object.assign(_,e)})}function u(){_.helperItemTypes={document:e.SHIPMENT_DETAILS.LB_DOC_OR_PACKAGE_VALUE_LABEL_DOCUMENT,"package":e.SHIPMENT_DETAILS.LB_DOC_OR_PACKAGE_VALUE_LABEL_PACKAGE,prohibited:e.SHIPMENT_DETAILS.LB_DOC_OR_PACKAGE_VALUE_LABEL_PROHIBITED,restricted:e.SHIPMENT_DETAILS.LB_DOC_OR_PACKAGE_VALUE_LABEL_RESTRICTED}}function c(){_.shipmentTypeChosenItems=_.shipmentTypeSelectedItems}function s(){return!d()&&l()&&!_.isShipmentTypeLocked}function l(){return _.shipmentType===S&&!i.isPackagesTypeDisabled||_.shipmentType===g&&!i.isDocumentsTypeDisabled}function d(){var e=["prohibited","restricted"];return _.shipmentTypeChosenItems.some(function(t){return e.includes(t.typeNormalized)})}function f(){return _.shipmentType=E,C.forEach(function(e){_.shipmentTypeChosenItems.some(function(t){return t.typeNormalized===e})&&(_.shipmentType=e)}),_.shipmentType===g&&_.isDocumentDescriptionDropdown&&function(){var e=_.shipmentTypeChosenItems&&_.shipmentTypeChosenItems.find(function(e){return e.typeNormalized===g});_.documentDescription=e&&_.documents.find(function(t){return t.name===e.name})}(),_.shipmentType}function p(e){return e.type===o["default"].RESTRICTED}function m(e){n(_.shipmentType,_.documentDescription),e()}var _=this;Object.assign(_,{init:a,selectHelperItems:c,getOverallShipmentType:f,isRestrictionsWarningVisible:d,isContinueShippingButtonVisible:s,isRestrictedMessageVisible:p,onChooseShipmentType:m,shipmentTypeItems:[],shipmentTypeSelectedItems:[],shipmentTypeChosenItems:[],fromCountry:null,toCountry:null,shipmentType:null,cteOption:null});var E="document",S="package",g="document",C=[g,S,"restricted","prohibited"];a()}i.$inject=["Messages","shipmentTypeHelperService","onShipmentTypeHelperChoose","helpersData","documentDescriptionService"],t.__esModule=!0,t["default"]=i;var r=n(884),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e){"ngInject";function t(t){var n=e.CI_KEYS.CI1023_LIST_OF_COMMONLY_MISTAKEN_PACKAGES_AS_DOCUMENTS;return e.getSourceData(n,t).then(function(e){return e?e.map(function(e){return e.item}):[]})}function n(t){var n=e.CI_KEYS.CI1024_DIMENSION_FOR_A_BOX_TO_CONSIDER_AS_PACKAGE;return e.getSourceData(n,t)}return{getListOfCommonlyMistakenPackagesAsDocuments:t,getDimensionToConsiderAsPackage:n}}i.$inject=["configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="shipmentTypeHelperResource"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{shipmentTypeModel:"<"+o,fromCountry:"<"+o+"FromCountry"},controller:r,controllerAs:"shipmentTypeCategoryCtrl",templateUrl:"shipment-type-category.html"})}function r(e,t,n){"ngInject";function i(e){return e===a.shipmentTypeModel.shipmentTypeCategory}function r(){a.shipmentTypeModel.isEnhancedInvoiceVisited()&&(a.shipmentTypeModel.enhancedInvoice.template.reasonForExport=undefined,a.shipmentTypeModel.setEnhancedInvoiceCompletion(!1))}function o(){return e.isIndiaUserWithAccount()&&!t.isB2lShipment()&&!n.isShipmentFetchedByAssignee()}var a=this;Object.assign(a,{checkShipmentTypeCategory:i,onShipmentTypeCategoryChange:r,isCsbvAvailable:o})}i.$inject=["component"],r.$inject=["indiaFlowService","b2lRestrictionsService","shipmentDataService"],t.__esModule=!0,t["default"]=i,t.ShipmentTypeCategoryController=r;var o=i.NG_NAME="ewfShipmentTypeCategory"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"shipmentTypeSelfServiceHelperCtrl",templateUrl:"components/shipment/type/helpers/shipment-type-self-service-helper.html",bindings:{addressDetailsModel:"<"+o+"AddressDetailsModel",shipmentTypeModel:"<"+o+"ShipmentTypeModel",packageDetailsModel:"<"+o+"PackageDetailsModel"}})}function r(e,t){"ngInject";function n(){u=e.isPotentialSelfServiceBookingPossible(),t.getBoolean(t.CI_KEYS.CI1041_SELF_SERVICE_BOOKING_FORM,o.addressDetailsModel.getShipmentCountry()).then(function(e){a=e})}function i(){return u&&a}function r(){e.createSelfServiceBooking({addressDetailsModel:o.addressDetailsModel,shipmentTypeModel:o.shipmentTypeModel,packageDetailsModel:o.packageDetailsModel})}var o=this,a=!1,u=!1;Object.assign(o,{$onInit:n,createSelfServiceBooking:r,isShipmentTypeSsbHelperVisible:i})}i.$inject=["component"],r.$inject=["rnqProductsService","configService"],t.__esModule=!0,t["default"]=i,t.ShipmentTypeSelfServiceHelperController=r;var o=i.NG_NAME="ewfShipmentTypeSelfServiceHelper"},function(e,t,n){"use strict";function i(){"ngInject";function e(e,n){return!n||n.some(function(n){return t(e,n)})}function t(e,t){var i=t.mask,r=i===undefined?"":i,a=t.validationRule,u=t.charsNumber,c=e||"";return n(c,r)&&o(c,a,u)}function n(e,t){var n=i(t);return new RegExp("^"+n+"$","i").test(e)}function i(e){return e.split("").map(function(e){return r.CHARACTERS[e]||e}).join("")}function o(e,t,n){return t===r.RULES.MIN?e.length>=n:t===r.RULES.MAX?e.length<=n:e.length===n}function a(){return(arguments.length<=0||arguments[0]===undefined?"":arguments[0]).length<=s}function u(e){return(arguments.length<=1||arguments[1]===undefined?[]:arguments[1]).every(function(t){return c(t,e)})}function c(e,t){return e.mask!==t.mask||e.validationRule!==t.validationRule||e.charsNumber!==t.charsNumber||e.key&&e.key===t.key}var s=31;return{isReferenceMatchFormat:t,isReferenceMatchOneOfFormats:e,validateReferenceFormatMask:a,validateReferenceFormatUniqueness:u}}t.__esModule=!0,t["default"]=i;var r=n(460);i.NG_NAME="corpReferenceFormatValidationService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{referencesModel:"<"+o+"Model",referencesOptions:"<"+o+"Options",labelingOptions:"<?"+o+"LabelingOptions",isRequired:"<?"+o+"IsRequired"},controller:r,controllerAs:"referencesCtrl",templateUrl:"shipment-type-references.html"})}function r(e,t,n,i){"ngInject";function r(){D.labelingOptions?M():T(),t.loadMaxReferencesNumber(D.referencesModel),n.isAuthorized()&&u(D.referencesOptions,!0)}function o(){D.referencesModel.retainReferencesDetail&&(D.referencesModel.retainReferencesDetail=!1,t.setPreviousReference(D.referencesModel,D.referencesOptions)),!angular.equals(D.referencesModel.prevReferencesOptions,D.referencesOptions)&&n.isAuthorized()&&(t.setPreviousReference(D.referencesModel,D.referencesOptions),u(D.referencesOptions,!1))}function a(e,t){return e.target===e.currentTarget?null:m(t,e.target.innerText.trim())}function u(e,n){var i=e.fromContactKey,r=e.toContactKey,o=e.fromContactCollectionType,a=e.toContactCollectionType;t.getReferencesDetails(i,r,o,a).then(function(e){D.isReferencesRequired=e.referenceRequired||!!D.isRequired,c(e.customReferenceCaption),s(e.formatCollection),n||t.initReferences(D.referencesModel,e)})}function c(e){D.customReferenceCaption=D.labelingOptions?D.labelingOptions.customReferenceCaption:e||i.SHIPMENT_DETAILS.SHIPMENT_TYPE_SUB_HEADER_ADD_REFERENCE}function s(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=e.formatItems;P=t}function l(e){return t.checkReferenceListVisibility(e,D.referencesModel.referenceList)}function d(e){return t.checkReferenceListVisibility(e,D.referencesModel.secondaryReferenceList)}function f(e){return t.isReferencesListVisible(e,D.referencesModel.referenceMode)}function p(e){return t.isReferencesListVisible(e,D.referencesModel.secondaryReferenceMode)}function m(e,n){return t.pickReference(D.referencesModel,e,n)}function _(e){return t.showReferencesList(e)}function E(e){return t.hideReferencesList(e)}function S(e){return t.removeReference(D.referencesModel,e)}function g(){return t.addReference(D.referencesModel)}function C(e){return t.isReferenceValid(e,D.referencesModel)}function A(e){return t.isSecondaryReferenceValid(e,D.referencesModel)}function h(e){return!e||!P}function I(e){return!(!h(e)&&!P.length)}function v(t){return h(t)||!P.length||e.isReferenceMatchOneOfFormats(t,P)}function N(){return!n.isGuest()&&t.isAddReferenceButtonVisible(D.referencesModel)}function T(){Object.assign(D,{primaryReferenceCaption:i.SHIPMENT_DETAILS.SHIPMENT_TYPE_LABEL_APPEARS_ON_WAYBILL,primaryReferencePlaceholder:i.SHIPMENT_DETAILS.SHIPMENT_TYPE_FIELD_PLACEHOLDER_APPEARS_ON_WAYBILL,additionalReferenceCaption:i.SHIPMENT_DETAILS.SHIPMENT_TYPE_LABEL_ADDITIONAL_REFERENCE,additionalReferencePlaceholder:i.SHIPMENT_DETAILS.SHIPMENT_TYPE_FIELD_PLACEHOLDER_ADDITIONAL_REFERENCE})}function M(){Object.assign(D,D.labelingOptions)}function y(){D.referencesModel.updatedReference=!0,t.rebuildReferenceList(D.referencesModel)}function O(){t.rebuildSecondaryReferenceList(D.referencesModel)}var D=this,P=void 0;Object.assign(D,{$onInit:r,$doCheck:o,loadReferenceDetails:u,addReference:g,removeReference:S,checkReferenceListVisibility:l,checkSecondaryReferenceListVisibility:d,isReferencesListVisible:f,isSecondaryReferencesListVisible:p,showReferencesList:_,hideReferencesList:E,isReferenceValid:C,isSecondaryReferenceValid:A,isReferenceValidByFormat:v,isAddReferenceButtonVisible:N,isFormatListValid:I,onReferenceSelected:a,rebuildReferenceList:y,rebuildSecondaryReferenceList:O,referencesHtml:""})}i.$inject=["component"],r.$inject=["corpReferenceFormatValidationService","shipmentTypeReferencesService","userService","Messages"],t.__esModule=!0,t["default"]=i,t.ShipmentTypeReferencesController=r;var o=i.NG_NAME="ewfShipmentTypeReferences"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){"ngInject";function i(e,n,i,r){var o="/api/shipment/references/details?fromContactKey="+e+"&toContactKey="+n;return i&&(o+="&fromContactCollection="+i),r&&(o+="&toContactCollection="+r),t.get(o).then(function(e){return e.data})}function r(e,t){e.prevReferencesOptions=angular.copy(t),e.updatedReference=!1}function o(e){return!e.primaryReference.name&&!e.additionalReferences.length||!e.updatedReference}function u(e,t){if(o(e)){var n=b.getUniqueAdditionalReferences(t);e.primaryReference={name:n.shift()||""},e.additionalReferences=l(n)}s(e,t),e.referenceMode=t.referenceMode||a["default"].REGULAR,e.initialReferenceList=t.userProfileReferenceList?l(t.userProfileReferenceList):[],O(e),_(e)}function s(e,t){var n=t.secondaryReferenceRequired,i=t.secondaryReferenceList,r=t.secondaryReferenceMode;Object.assign(e,{secondaryReferenceRequired:n,secondaryReferenceMode:r||a["default"].REGULAR,secondaryReferenceList:l(i),initialSecondaryReferenceList:l(i)})}function l(e){return e.map(function(e){return{name:e}})}function d(e){var t=[].concat(e.contactToReferenceList||[],e.contactFromReferenceList||[]);return e.useLastShipmentReferences?t.unshift.apply(t,e.lastShipmentReferenceList):e.userDefaultReference&&t.push(e.userDefaultReference),t.filter(function(e,t,n){return n.indexOf(e)===t})}function f(e){e.additionalReferences.push(angular.copy(R))}function p(e,t){var n=e.additionalReferences.indexOf(t);-1!==n&&(e.additionalReferences.splice(n,1),_(e))}function m(e,t,n){if(t.name=n,t.referenceType===c["default"].SECONDARY)return void E(e);_(e)}function _(e){e.referenceList=e.initialReferenceList.filter(function(t){return e.primaryReference.name!==t.name&&!e.additionalReferences.some(function(e){return e.name===t.name})})}function E(e){e.secondaryReferenceList=e.initialSecondaryReferenceList.filter(function(t){return e.secondaryReference.name!==t.name})}function S(e,t){e.referencesListVisible=!!t.length}function g(e){e.referencesListVisible=!0}function C(e){e.referencesListVisible=!1}function A(e,t){return!N(t)&&e.referencesListVisible}function h(t,n){var i=n.initialReferenceList,r=n.referenceMode;return N(r)?y(t).then(function(){return!0})["catch"](function(){return!1}):e.when(!T(r)||v(t,i))}function I(t,n){var i=n.initialSecondaryReferenceList,r=n.secondaryReferenceMode;return e.when(!T(r)||v(t,i))}function v(e,t){return t.some(function(t){return t.name===e})}function N(e){return e===a["default"].NO_LIST}function T(e){return e===a["default"].VIEW_LIST}function M(e){return[e.primaryReference].concat(e.additionalReferences).length<e.maxReferencesNumber}function y(e){return t.post("/api/shipment/references/validate",{referenceName:e})}function O(e){var t=e.primaryReference,n=e.initialReferenceList,i=e.referenceMode,r=e.additionalReferences;t.name=D(t.name,n,i),r.forEach(function(e){e.name=D(e.name,n,i)})}function D(e,t,n){return!T(n)||v(e,t)?e:1===t.length?t[0].name:""}function P(e){n.getSourceData(n.CI_KEYS.CI1325_MAXIMUM_NUMBER_OF_SHIPMENT_REFERENCE_ALLOWED_TO_BE_ENTERED).then(function(t){e.maxReferencesNumber=t;var n=Math.max(0,e.maxReferencesNumber-1);e.additionalReferences=e.additionalReferences.slice(0,n)})}var R={name:""},b=Object.assign(this,{initReferences:u,addReference:f,removeReference:p,pickReference:m,checkReferenceListVisibility:S,showReferencesList:g,hideReferencesList:C,isReferencesListVisible:A,getUniqueAdditionalReferences:d,getReferencesDetails:i,isReferenceValid:h,isSecondaryReferenceValid:I,isAddReferenceButtonVisible:M,rebuildReferenceList:_,rebuildSecondaryReferenceList:E,loadMaxReferencesNumber:P,setPreviousReference:r})}r.$inject=["$q","$http","configService"],t.__esModule=!0,t["default"]=r;var o=n(927),a=i(o),u=n(926),c=i(u);r.NG_NAME="shipmentTypeReferencesService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"commodityCodeSearchCtrl",templateUrl:"/templates/commodity-code-search-template.html",bindings:{searchCategories:"<"+u,disabled:"<?"+u+"Disabled",onSelect:"&"+u+"OnSelect",countryCode:"<"+u+"CountryCode",operationType:"@"+u+"OperationType",label:"@?"+u+"Label",description:"<?"+u+"Description"}})}function r(e){"ngInject";function t(){e.showDialog({controller:a["default"],controllerAs:"ccSearchCtrl",templateUrl:"commodity-code-search-dialog.html",resolve:{searchCategories:function(){function e(){return n.searchCategories}return e}(),countryCode:function(){function e(){return n.countryCode}return e}(),operationType:function(){function e(){return n.operationType}return e}(),description:function(){function e(){return n.description}return e}()}}).result.then(function(e){return n.onSelect({commodityCode:e})})}var n=this;Object.assign(n,{openSearchModal:t})}i.$inject=["component"],r.$inject=["modalService"],t.__esModule=!0,t["default"]=i,t.CommodityCodeSearchController=r;var o=n(1862),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfCommodityCodeSearch"},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function o(){D=!0,y.commodityCodesCurrentSubcategory=null,y.commodityCodesCurrentSubcategoryLevel2=null,M(y.commodityCodeSearchQuery)&&(y.errors={},_())}function a(e){return e.map(function(e){return e.name||e})}function u(e){var t=arguments.length<=1||arguments[1]===undefined?"":arguments[1],n=e&&a(e);y["commodityCodesSubcategories"+t]=n||[],y["commodityCodesCurrentSubcategory"+t]=n?n[0]:null;var i=!(!e||!e.length);return y.errors["noSubcategories"+t]=!i,i}function c(e){return u(e,"Level2")}function s(e,t){return e&&e.find(function(e){return e.name===t})}function l(){if(!O)return null;var e=s(O.categories,y.commodityCodesCurrentCategory);return e&&e.subcategories}function d(){var e=s(l(),y.commodityCodesCurrentSubcategory);return e&&e.subcategories}function f(){O&&u(l())?p():E()}function p(){O&&c(d())?m():S()}function m(){var e=O&&s(d(),y.commodityCodesCurrentSubcategoryLevel2);if(!e)return void g();y.commodityCodesList=e.items||[],y.errors.noItems=!e.items}function _(){r.getCommodityCodeCategories(y.info).then(function(e){y.commodityCodesCategories=e,D=!1})}function E(){y.commodityCodesList=[],u(),y.errors.noSubcategories=!1,r.getCommodityCodeSubcategories(y.info,y.commodityCodesCurrentCategory).then(function(e){u(e),y.commodityCodesCurrentSubcategory=null})}function S(){y.commodityCodesList=[],c(),y.errors.noSubcategoriesLevel2=!1,r.getCommodityCodeSubcategories(y.info,y.commodityCodesCurrentCategory,y.commodityCodesCurrentSubcategory).then(function(e){c(e),y.commodityCodesCurrentSubcategoryLevel2=null})}function g(){y.commodityCodesList=[],y.errors.noItems=!1,r.getCommodityCodesByCategories(y.info,y.commodityCodesCurrentCategory,y.commodityCodesCurrentSubcategory,y.commodityCodesCurrentSubcategoryLevel2).then(function(e){var t=e.commodityCodes;y.commodityCodesList=t,y.errors.noItems=!t.length})}function C(){return!(!y.commodityCodesCurrentCategory||y.errors.noItemsByKeyword||!y.commodityCodesList.length||D)}function A(){return!!y.commodityCodesCurrentCategory&&!y.errors.noSubcategories&&!D}function h(){return A()&&!!y.commodityCodesCurrentSubcategory&&!y.errors.noSubcategoriesLevel2}function I(){return r.getCommodityCodeKeywords(y.info,y.commodityCodeSearchQuery).then(function(e){return y.errors.noItemsByKeyword=!1,D=!1,e.keywords.length?e.keywords:(N(e.hsTree),[])})["catch"](function(e){return y.errors.noItemsByKeyword=!!e.noItemsFound,[]})}function v(e){return r.getCommodityCodeItemsList(y.info,e).then(N)["catch"](function(e){y.errors.noItemsByKeyword=!!e.noItemsFound})}function N(e){var t=O=r.mergeHsTreeCategories(e),n=t.categories;y.commodityCodesCategories=a(n);var i=y.commodityCodesCategories;y.commodityCodesCurrentCategory=i[0];var o=n[0].subcategories;if(u(o)){var s=o[0].subcategories;c(s)&&(y.commodityCodesList=s[0].items)}}function T(e,i){y.commodityCodesList.forEach(function(e){return e.commodityCodeInvalid=!1}),i.validationPending=!0,r.validateCommodityCode(i.code,t,n).then(function(t){t.valid?e.close(i):i.commodityCodeInvalid=!0})["finally"](function(){return i.validationPending=!1})}function M(e){return!e||!e.trim()}var y=this,O=null,D=!1;Object.assign(y,{onSearchQueryChange:o,onChangeCategory:f,onChangeSubcategory:p,onChangeSubcategoryLevel2:m,isCommodityCodesVisible:C,isSubcategoriesVisible:A,isSubcategoriesLevel2Visible:h,getKeywords:I,onKeywordSelect:v,onSelectItem:T,info:{countryCode:t,operationType:n},commodityCodesList:[],commodityCodesCategories:[],commodityCodesSubcategories:[],commodityCodesSubcategoriesLevel2:[],commodityCodesCurrentCategory:null,commodityCodesCurrentSubcategory:null,commodityCodesCurrentSubcategoryLevel2:null,errors:{},commodityCodeSearchQuery:i}),function(){y.commodityCodesCategories=e}()}i.$inject=["searchCategories","countryCode","operationType","description","commodityCodeService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"commodityCodeCtrl",templateUrl:"/templates/commodity-code-template.html",bindings:{commodityCode:"="+o,description:"=?"+o+"Description",placeholder:"@?"+o+"Placeholder",label:"@?"+o+"Label",operationType:"@?"+o+"OperationType",countryCode:"<"+o+"CountryCode",onValidationPass:"&?"+o+"OnValidationPass",onValidationFail:"&?"+o+"OnValidationFail",onSearchSelect:"&?"+o+"OnSearchSelect",codeAqaId:"@?"+o+"CodeAqaId",lookupAqaId:"@?"+o+"LookupAqaId",required:"<?"+o+"Required",userProfile:"<?"+o+"UserProfile",hideError:"<?"+o+"HideError",ignoreMask:"<?"+o+"IgnoreMask"}})}function r(e,t){"ngInject";function n(){var n=l.operationType,i=l.countryCode;if(r(),!l.operationType||!l.countryCode)return void(l.isTasSupported=!1);e.getEstimatedDutiesAvailability(i).then(function(e){return l.isTasSupported=e,e?t.getCommodityCodeCategories({operationType:n,countryCode:i}):null}).then(function(e){return l.commodityCodesCategoriesList=e})}function i(){l.ignoreMask&&l.commodityCode.includes(".")&&(l.commodityCode=t.cleanCommodityCode(l.commodityCode))}function r(){!l.userProfile&&l.countryCode&&t.getCommodityCodeMask(l.countryCode).then(function(e){return l.commodityCodeMask=e})}function o(){return angular.isDefined(l.isTasSupported)}function a(){return!l.isTasSupported||l.userProfile}function u(){return!a()&&!!l.commodityCodesCategoriesList&&!!l.commodityCodesCategoriesList.length}function c(e,t){l.onValidationPass({description:e,units:t})}function s(e){l.onSearchSelect({commodityCode:e})}var l=this;Object.assign(l,{$onInit:n,$doCheck:i,isCommodityCodeInitialized:o,isLookupEnabled:u,isValidationDisabled:a,onValidationPassCallback:c,onSearchSelectCallback:s,isTasSupported:undefined,commodityCodesCategoriesList:undefined,commodityCodeMask:"",onValidationPass:angular.noop,onSearchSelect:angular.noop})}i.$inject=["component"],r.$inject=["shipmentTypeService","commodityCodeService"],t.__esModule=!0,t["default"]=i,t.CommodityCodeController=r;var o=i.NG_NAME="ewfCommodityCode"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){function e(e,t,n,i){var r=i[0],o=i[1],a=i[2],u=e.$eval(n[s+"ValidationDisabled"]),l=void 0;u||(a.$setValidity(c["default"].MAX_LENGTH,!0),r.setOptions({operationType:n[""+s],countryCode:e.$eval(n[s+"CountryCode"]),value:e.$eval(n[s+"Value"]),mask:e.$eval(n[s+"Mask"]),isMaskIgnored:e.$eval(n[s+"IsMaskIgnored"]),onValidationPass:function(){function t(t){return e.$eval(n[s+"OnPass"],t)}return t}(),onValidationFail:function(){function t(t){return e.$eval(n[s+"OnFail"],t)}return t}()}),e.$watch(function(){return e.$eval(n[s+"CountryCode"])},function(e){r.setOptions({countryCode:e}),o.triggerValidation(!0)}),e.$watch(function(){return e.$eval(n[s+"Mask"])},function(e){r.setOptions({mask:e}),o.triggerValidation(!0)}),e.$watch(function(){return e.$eval(n[s+"Value"])},function(e){l?r.validate(e,a):r.setOptions({value:e})}),e.$watch(function(){return e.$eval(n[s+"HideError"])},function(e){e?o.removeAsyncValidator(r):o.addAsyncValidator(r),l=e,o.triggerValidation(!0)}))}return{restrict:"A",require:[s,"ewfInput","ngModel"],controller:a["default"],controllerAs:"commodityCodeValidatorCtrl",link:{pre:e}}}t.__esModule=!0,t["default"]=r;var o=n(1865),a=i(o),u=n(227),c=i(u),s=r.NG_NAME="ewfValidateCommodityCode"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(17),c=i(u),s=n(227),l=i(s),d=n(930),f=i(d),p=function(e){function t(n,i,a){"ngInject";r(this,t);var u=o(this,e.call(this));return Object.assign(u,{$q:n,commodityCodeService:i,Messages:a}),u}return t.$inject=["$q","commodityCodeService","Messages"],a(t,e),t.prototype.getMessage=function(){function e(){return this.Messages.ERRORS.INVALID_COMMODITY_CODE}return e}(),t.prototype.validate=function(){function e(e,t){var n=this,i=void 0;return this.options.value!==e?(i=function(){function e(e,t){return n.options.onValidationPass({description:e,units:t})}return e}(),this.validateCode(e,i,this.options.onValidationFail,t)):angular.isUndefined(this.validity)?(i=function(){function e(e,t){return n.options.onValidationPass({units:t})}return e}(),this.validateCode(e,i,this.options.onValidationFail,t)):this.validity}return e}(),t.prototype.validateCode=function(){function e(e){var t=arguments.length<=1||arguments[1]===undefined?angular.noop:arguments[1],n=this,i=arguments.length<=2||arguments[2]===undefined?angular.noop:arguments[2],r=arguments[3],o=this.options,a=o.operationType,u=o.countryCode,c=o.isMaskIgnored,s=o.mask;if(e.includes("_"))return i(),this.$q.when(!1);var d=e;return c&&d.length===this.commodityCodeService.countNumbers(s)&&(d=this.commodityCodeService.applyMask(d,s),r.$setValidity(l["default"].MAX_LENGTH,!0)),this.commodityCodeService.validateCommodityCode(d,u,a).then(function(e){var r=e.valid,o=e.description,u=e.units;return r&&(o||a===f["default"].EXPORT)?t(o,u):i(),n.validity=r,r})}return e}(),t}(c["default"]);t["default"]=p},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e){var n=e.countryCode,i=e.operationType,r=n+":"+i;return h[r]||(h[r]=t.post(C+"categories",{countryCode:n,operationType:i}).then(function(e){return e.data})),h[r]}function r(e,n,i){return t.post(C+"subcategories",{info:e,categoryName:n,subcategoryName:i}).then(function(e){return e.data})}function o(e,n,i,r){var o={info:e,categoryName:n,subcategoryName:i,subOfSubcategoryName:r};return t.post(C+"hstreeByCategories",o).then(function(e){return e.data})}function a(e,n){var i={info:e,key:n};return t.post(C+"keywords",i,{preventNotFoundInterceptor:!0}).then(function(e){return e.data})["catch"](c)}function u(e,n){return t.post(C+"hstreeByKeyword",{info:e,keyword:n}).then(function(e){return e.data})["catch"](c)}function c(t){return t.noItemsFound=!0,e.reject(t)}function s(n,i,r){var o={commodityCode:n,countryCode:i,operationType:r};if(!n)return e.when({valid:!0});if(!i)return e.when({valid:!1});var a=""+n+i+r;return A[a]?e.when(A[a]):t.post(C+"validate",o).then(function(e){return e.data})["catch"](function(){return{valid:!1}}).then(function(e){return A[a]=e})}function l(e){return d(e,"categories"),e.categories.forEach(function(e){d(e,"subcategories"),e.subcategories.forEach(function(e){d(e,"subcategories")})}),e}function d(e,t){e[t]=e[t].reduce(f,[])}function f(e,t){var n=e.find(function(e){return e.name===t.name});if(n){var i;(i=n.subcategories).push.apply(i,t.subcategories)}else e.push(t);return e}function p(e){return n.getSourceData(n.CI_KEYS.CI1286_COMMODITY_CODE_MASKING_FORMAT,e).then(function(e){return e?e.replace(/\d+/g,function(e){return"?9".repeat(Number(e))}):I})}function m(e){return e.replace(/[.?]/g,I).length}function _(e){return e.replace(/\?/g,I).split(I).map(function(e,t){if(e===v)return t}).filter(Number)}function E(e,t){return""+e.substr(0,t)+v+e.substr(t)}function S(e,t){var n=e;return _(t).forEach(function(e){n=E(n,e)}),n}function g(e){return e.replace(/\./g,I)}var C="/api/commodityCode/",A={},h={},I="",v=".";return{getCommodityCodeCategories:i,getCommodityCodeSubcategories:r,getCommodityCodesByCategories:o,getCommodityCodeKeywords:a,getCommodityCodeItemsList:u,validateCommodityCode:s,mergeHsTreeCategories:l,getCommodityCodeMask:p,countNumbers:m,applyMask:S,cleanCommodityCode:g}}i.$inject=["$q","$http","configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="commodityCodeService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"shipment-tax-id-input.html",controller:r,controllerAs:"shipmentTaxIdInputCtrl",bindings:{model:"="+o,fromCountry:"<"+o+"FromCountry",toCountry:"<"+o+"ToCountry",isDutiable:"<"+o+"IsDutiable",isReturnLabel:"<"+o+"IsReturnLabel"}})}function r(e,t,n,i,r){"ngInject";function o(e){var t=e.fromCountry,n=e.toCountry,i=e.isDutiable;(t||n||i)&&a()}function a(){n.getApplicableTaxId(E.isReturnLabel).then(u)}function u(e){if(!e)return E.isShipmentTaxIdInputVisible=!1,E.isShipmentTaxIdRequired=!1,void(E.model.taxId={});E.isShipmentTaxIdInputVisible=!0,E.isShipmentTaxIdRequired=e.mandatory,E.model.taxId.type=e.taxIdType}function c(){return!!E.shipmentTaxIdsList.length}function s(e){if(!e)return!0;var t={taxIdType:E.model.taxId.type,taxIdNumber:e};return n.validateTaxId(t)}function l(){var e=arguments.length<=0||arguments[0]===undefined?"":arguments[0];if(!i.isGuest()){var t=E.fromCountry,r=E.toCountry,o={keyword:e,taxIdType:E.model.taxId.type,fromCountry:t,toCountry:r};n.searchTaxId(o).then(function(e){return E.shipmentTaxIdsList=e})}}function d(){var e=E.model.taxId.type;return t(r.CUSTOMS_DECLARATION.SHIPMENT_TAX_ID_ERROR_INVALID_TAX_ID,{taxIdName:e})}function f(e,t){e.number=t,_(),p()}function p(){E.shipmentTaxIdsList=[]}function m(t,n,i){var r=e.find("label[ewf-field=shipmentTaxIdInput] ul")[0];return angular.element(t.currentTarget).parents(r).length?f(n,i):null}function _(){e.find("input[name=shipmentTaxIdInput]").addClass(g).removeClass(S),E.shipmentTaxIdForm.shipmentTaxIdInput.$dirty=!0,E.shipmentTaxIdForm.shipmentTaxIdInput.$pristine=!1}var E=this,S="ng-pristine",g="ng-dirty";Object.assign(E,{isShipmentTaxIdRequired:!1,isShipmentTaxIdInputVisible:!1,shipmentTaxIdsList:[],shipmentTaxIdForm:{},$onChanges:o,isShipmentTaxIdsListVisible:c,searchTaxId:l,validateTaxId:s,getInvalidError:d,clearShipmentTaxIdsList:p,onShipmentTaxIdSelected:m})}i.$inject=["component"],r.$inject=["$document","replaceFilter","shipmentTaxIdInputService","userService","Messages"],t.__esModule=!0,t["default"]=i,t.ShipmentTaxIdInputController=r;var o=i.NG_NAME="ewfShipmentTaxIdInput"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n){var i=t.getShipmentData(),r=n?i.returnShipment:i;return e.post(o,r).then(function(e){return e.data})}function i(t){return e.post(a,t).then(function(e){return e.data.valid})}function r(t){return e.get(u,{params:t}).then(function(e){return e.data})}var o="/api/shipment/tax-id/applicable",a="/api/shipment/tax-id/validate",u="/api/shipment/tax-id/search";return{getApplicableTaxId:n,validateTaxId:i,searchTaxId:r}}i.$inject=["$http","shipmentDataService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="shipmentTaxIdInputService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1870),u=i(a),c=n(401),s=i(c),l=angular.module("otherCharges",[o["default"]]);l.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]),t.module=l,t["default"]="otherCharges"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"invoice-value.html",controller:r,controllerAs:"invoiceValueCtrl",transclude:!0,bindings:{model:"<"+o,currency:"<"+o+"Currency",totalValueOfGoods:"<?"+o+"TotalValueOfGoods",isTotalValueOfGoodsEditable:"@?"+o+"IsTotalValueOfGoodsEditable",totalInvoiceValue:"<"+o+"TotalInvoiceValue",isCsbv:"<?"+o+"IsCsbv",fromCountry:"<?"+o+"FromCountry",totalFobValue:"<?"+o+"TotalFobValue",totalFobValueInr:"<?"+o+"TotalFobValueInr",totalValueAfterTax:"<?"+o+"TotalValueAfterTax",isConversionError:"<?"+o+"IsConversionError",productList:"<?"+o+"ProductList"}})}function r(e,t){"ngInject";function n(){s.model.charges=s.model.charges.filter(function(e){var t=e.typeCode,n=e.value;return t||n})}function i(t){t.fromCountry&&s.isCsbv&&e.getValue(e.CI_KEYS.CIF0351_IGST,s.fromCountry).then(function(e){var t=e.data;d=t.visible})}function r(){return s.model.charges.length>=l}function o(){r()||s.model.charges.push({typeCode:null,value:null})}function a(e){s.model.charges.splice(e,1)}function u(){return(s.productList||[]).map(function(e){var n=e.indiaCustomsInvoiceProduct;return t.getItemAmountWithDiscount(n)*t.getIgstPercentMultiplier(n)}).reduce(function(e,t){return e+t},0)}function c(){return d&&s.isCsbv}var s=this,l=5,d=!1;Object.assign(s,{$onInit:n,$onChanges:i,isChargesLimitReached:r,addCharges:o,removeCharges:a,getTotalIgstPayment:u,isTotalIgstPaymentVisible:c})}i.$inject=["component"],r.$inject=["configService","customsDeclarationService"],t.__esModule=!0,t["default"]=i,t.InvoiceValueController=r;var o=i.NG_NAME="ewfInvoiceValue"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(32),o=i(r),a=n(1872),u=i(a),c=n(1873),s=i(c),l=n(1874),d=i(l),f=angular.module("item-reference",[o["default"]]);f.directive(u["default"].NG_NAME,u["default"]).directive(d["default"].NG_NAME,d["default"]).service(s["default"].NG_NAME,s["default"]),t.module=f,t["default"]="item-reference"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"item-reference.html",controller:r,controllerAs:"itemReferenceCtrl",bindings:{model:"="+o,fromCountry:"<?"+o+"FromCountry",toCountry:"<?"+o+"ToCountry",ignoreSettings:"<"+o+"IgnoreSettings",itemReferenceDefaults:"<?"+o+"ItemReferenceDefaults",customsInvoiceType:"<?"+o+"CustomsInvoiceType",isItemReferenceAvailable:"=?"+o+"IsItemReferenceAvailable"}})}function r(e){"ngInject";function t(){u()}function n(e){var t=e.fromCountry,n=e.toCountry,o=e.itemReferenceDefaults,u=e.customsInvoiceType;c.ignoreSettings||(a(t,n),r(u,o)&&i())}function i(){c.model.isAddItemReference=c.itemReferenceDefaults&&!!c.itemReferenceDefaults[c.customsInvoiceType]}function r(e,t){return!o()&&!c.isMandatory&&(e||t)}function o(){return c.model.referenceNumber||c.model.referenceTypeCode}function a(t,n){(t||n)&&u(),n&&e.getItemReferenceMandatoryStatus(c.toCountry).then(function(e){c.isMandatory=e,e&&(c.model.isAddItemReference=!0)})}function u(){e.getItemReferenceTypesList(c.ignoreSettings,c.fromCountry,c.toCountry).then(function(e){c.isItemReferenceAvailable=!!e.length,c.referenceTypeCodes=e})}var c=this;Object.assign(c,{referenceTypeCodes:[],$onInit:t,$onChanges:n})}i.$inject=["component"],r.$inject=["itemReferenceService"],t.__esModule=!0,t["default"]=i,t.ItemReferenceController=r;var o=i.NG_NAME="ewfItemReference"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(n,i,a){var u=n?e.when([]):r(i,a);return e.all([t.getSourceData(t.CI_KEYS.CI1422_LINE_ITEM_REFERENCE_TYPE_NUMBER_LIST),u]).then(function(e){var t=e[0];return o(e[1],t)})}function i(e){return t.getBoolean(t.CI_KEYS.CI1425_LINE_ITEM_REFERENCE_TYPE_AND_NUMBER_MANDATORY,e)}function r(n,i){return e.all([t.getSourceData(t.CI_KEYS.CI1454_ADDITIONAL_LINE_ITEM_REFERENCE_TYPE_LIST,n),t.getSourceData(t.CI_KEYS.CI1454_ADDITIONAL_LINE_ITEM_REFERENCE_TYPE_LIST,i)]).then(function(e){var t=e[0],n=e[1],i=t||[];return[].concat(i,o(i,n||[]))})}function o(e,t){return t.filter(function(t){return!e.some(function(e){return t.referenceTypeCode===e.referenceTypeCode})})}return{getItemReferenceTypesList:n,getItemReferenceMandatoryStatus:i,getAdditionalItemReferencesTypeList:r}}i.$inject=["$q","configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="itemReferenceService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"additional-item-references.html",controller:r,controllerAs:"additionalItemReferenceCtrl",bindings:{model:"<"+o,referenceTypeCode:"="+o+"ReferenceTypeCode",referenceNumber:"="+o+"ReferenceNumber",shipperCountry:"<"+o+"ShipperCountry",receiverCountry:"<"+o+"ReceiverCountry"}})}function r(e){"ngInject";function t(t){var n=t.shipperCountry,a=t.receiverCountry;(n||a)&&e.getAdditionalItemReferencesTypeList(o.shipperCountry,o.receiverCountry).then(function(e){o.areAdditionalItemReferencesAvailable=!!e.length,o.additionalItemReferenceTypeList=e,r(),i()})}function n(){o.areAdditionalItemReferencesAvailable&&i()}function i(){o.additionalItemReferenceTypeList.some(function(e){return e.referenceTypeCode===o.referenceTypeCode})&&(o.model[o.referenceTypeCode]=o.referenceNumber,o.referenceTypeCode=null,o.referenceNumber=null)}function r(){Object.keys(o.model).filter(function(e){return o.additionalItemReferenceTypeList.every(function(t){var n=t.referenceTypeCode;return e!==n})}).forEach(function(e){return delete o.model[e]})}var o=this;Object.assign(o,{$onChanges:t,$doCheck:n})}i.$inject=["component"],r.$inject=["itemReferenceService"],t.__esModule=!0,t["default"]=i,t.AdditionalItemReferencesController=r;var o=i.NG_NAME="ewfAdditionalItemReferences"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({templateUrl:"item-attributes.html",controller:o,controllerAs:"itemAttrCtrl",bindings:{model:"="+l,shipmentType:"<"+l+"ShipmentType",currentCurrency:"<"+l+"CurrentCurrency",searchMode:"<"+l+"SearchMode",fromCountry:"<"+l+"FromCountry",fromServiceCode:"<"+l+"FromServiceCode",toCountry:"<"+l+"ToCountry",toServiceCode:"<"+l+"ToServiceCode",isDutiable:"<"+l+"IsDutiable",intraEuDutiableStatus:"<"+l+"IntraEuDutiableStatus",som:"<"+l+"Som",userProfile:"<?"+l+"UserProfile",hideEstimateDutiesCheckbox:"<?"+l+"HideEstimateDutiesCheckbox",documentDescription:"=?"+l+"DocumentDescription",isSsb:"<?"+l+"IsSsb",briefSummary:"<?"+l+"BriefSummary",briefAttributes:"<?"+l+"BriefAttributes",mailingListContacts:"<?"+l+"MailingListContacts",declaredValueDisabled:"<?"+l+"DeclaredValueDisabled",otherChargesModel:"<?"+l+"OtherChargesModel",isCsbv:"<?"+l+"IsCsbv",isOnlyInrCurrency:"&?"+l+"IsOnlyInrCurrency",isCustomsDeclarationSection:"@?"+l+"IsCustomsDeclarationSection",customsInvoiceType:"<?"+l+"CustomsInvoiceType",isLineItemsVisible:"=?"+l+"IsLineItemsVisible",isGlobalMilitary:"<?"+l+"IsGlobalMilitary",gssValidationResult:"=?"+l+"GssValidationResult",isEnhancedInvoice:"<?"+l+"IsEnhancedInvoice",isRateAndQuoteFlow:"<?"+l+"IsRateAndQuoteFlow"}})}function o(e,t,n,i,r,o){"ngInject";function a(){c(),r.initProductList(X.model,X.isCustomsDeclarationSection),U(),ie=X.model.totalDeclaredValue,X.isCsbv&&C().then(function(){d(),p()})}function c(){o.isUseExportHsCode(X.fromCountry).then(function(e){return X.useExportHsCode=e})}function l(e,t,n){var i;oe[e]=Object.assign(oe[e]||{},(i={},i[n]=t,i[Q]=X.model.productList[e][Q],i))}function d(){var e=i.isShipmentDomestic(X.fromCountry,X.toCountry,X.mailingListContacts),t=o.hasDhlAccounts();(X.isSsb?n.getSsbTotalDeclaredValueRestrictions(X.fromCountry):n.getDeclaredValueRestrictions(X.fromCountry,e,t)).then(function(e){return f(e.value,e.currency)}).then(function(e){return X.model.maxDeclaredValue=Number(e)})}function f(e,n){var i={amount:e,sourceCurrency:n,targetCurrency:X.model.currentCurrency};return t.processCurrencyConversion(i)}function p(){o.getMaxCsbvShipmentValue(X.fromCountry).then(function(t){var n=t.value,i=t.currency,r=X.model.currentCurrency===i?n:f(n,i);return e.all([X.model.currentCurrency,r])}).then(function(e){var t=e[0],n=e[1];X.model.currentCurrency===t&&(X.model.maxCsbvShipmentValue=Number(n))})}function m(){return!X.model.productList||!X.model.productList.length}function _(){if(!m()){X.model.totalShipment=o.calculateTotal(X.model.productList,"value",Q),X.isCsbv&&(o.calculateCsbvTotals(X.model,X.otherChargesModel),T(Z),T(J));var e=X.otherChargesModel?X.otherChargesModel.getValues():[],t=[X.model.totalShipment].concat(e);angular.equals(t,ne)||(ne=t,X.model.totalDeclaredValue=n.calculateTotalDeclaredValue(ne))}}function E(e){var t=e.fromCountry,n=e.toCountry;S(e.currentCurrency),(t||n)&&g(),t&&X.fromCountry&&A(),n&&X.toCountry&&v()&&h()}function S(e){e&&!e.isFirstChange()&&(X.model.maxDeclaredValue&&f(X.model.maxDeclaredValue,e.previousValue).then(function(e){return X.model.maxDeclaredValue=Number(e)}),X.isCsbv&&X.model.maxCsbvShipmentValue&&p())}function g(){if(X.fromCountry&&X.toCountry){if(!X.model.currentCurrency)return void C().then(d);d(),X.isCsbv&&p()}}function C(){return t.getCurrencies(X.fromCountry,X.toCountry,{},X.isCsbv).then(function(e){var t=e.declared;X.model.currenciesList=t.declaredCurrencies,w(t.defaultDeclaredCurrency)})}function A(){t.getSomParameters(X.fromCountry,X.toCountry).then(function(e){Object.assign(X.model,e),X.model.isUnitsMismatched=X.model.shipperCountrySom!==X.model.userProfileCountrySom,r.setWeightUnits(X.model),X.somParametersLoaded=!0})}function h(){t.getEstimatedDutiesAvailability(X.toCountry).then(function(e){return re=e})}function I(){return!re||!v()}function v(){return!X.hideEstimateDutiesCheckbox&&!X.userProfile}function N(){var e=o.calculateTotal(X.model.productList,Q);return X.model.totalQuantity=e,e}function T(e){var t=e===Z?ee:te,n=o.calculateTotal(X.model.productList,e,Q);return t&&(X.model[t]=n),+n.toFixed(X.model.userProfileCountryConversionPrecision)}function M(e,t){return T(e),+o.calculateTotal(oe,t,Q).toFixed(X.model.userProfileCountryConversionPrecision)}function y(){return X.model.productList.length>1}function O(){return t.isShipmentTypePackage(X.shipmentType)&&y()&&!X.briefAttributes}function D(){return t.isShipmentTypeDocument(X.shipmentType)&&y()}function P(){r.addItemAttributesRow(X.model),X.model.eeiTrigger=!0}function R(e){o.copyItemAttributesRow(e,X.model.productList),X.model.eeiTrigger=!0}function b(e){oe=oe.filter(function(t,n){return X.model.productList.indexOf(e)!==n}),o.deleteItemAttributesRow(e,X.model.productList),X.model.eeiTrigger=!0}function L(){return o.getWeightConvertionRate(X.model)}function G(){return r.getWeightUnits(X.model,null,X.userProfile)}function k(){X.model.isCurrencySelectedByUser=!0}function w(e){X.isCsbv&&t.isRestoredShipment()&&k(),X.isCsbv&&X.model.isCurrencySelectedByUser||(X.model.currentCurrency=e)}function U(){X.userProfile||X.mailingListContacts&&X.mailingListContacts.length||X.isRateAndQuoteFlow||o.isVatTaxIdVisible(X.isReturnLabel).then(function(e){return X.isVatTaxIdVisible=e})}function F(){return r.getTotalValueOfGoodsAlert(X.model.totalValueOfGoods,X.model.totalShipment)}function j(){return!X.isCustomsDeclarationSection&&!X.briefSummary}function V(){return X.isCustomsDeclarationSection&&!!X.model.totalShipment&&!$()}function B(){X.model.totalValueOfGoods=X.model.totalShipment}function $(){return X.model.totalValueOfGoods===X.model.totalShipment}function H(){return X.isCustomsDeclarationSection&&X.customsInvoiceType===s["default"].USE}function x(){X.model.productList=[],X.model.totalDeclaredValue=ie,X.isLineItemsVisible=!1,r.setLineItemsShowed(!1)}function K(e,t,n){if(!X.isRateAndQuoteFlow){var i={shipmentDescription:X.documentDescription,fromCountryCode:X.fromCountry,fromServiceCode:X.fromServiceCode,toCountryCode:X.toCountry,toServiceCode:X.toServiceCode,shipmentPackagingType:X.shipmentType,model:X,ngModelCtrl:e.ngModelCtrl,isMandatory:t,isDutiable:X.isDutiable,intraEuDutiableStatus:X.intraEuDutiableStatus,isMailingListShipment:Y(),eventRelatedTarget:n.relatedTarget};r.invokeGssValidationForDescription(i)}}function Y(){return!(!X.mailingListContacts||!X.mailingListContacts.length)}function W(){return X.isEnhancedInvoice&&!z()}function q(){return!X.isEnhancedInvoice&&!z()}function z(){var e={isMailingListShipment:Y(),fromCountryCode:X.fromCountry,toCountryCode:X.toCountry,intraEuDutiableStatus:X.intraEuDutiableStatus,isDutiable:X.isDutiable,shipmentPackagingType:X.shipmentType};return r.isScreeningMustBeSkipped(e)}var X=this,Q="quantity",Z="netWeight",J="grossWeight",ee="totalNetWeight",te="totalGrossWeight",ne=void 0,ie=void 0,re=void 0,oe=[];Object.assign(X,{$doCheck:_,$onChanges:E,$onInit:a,isMultipleProducts:y,isSummarizeFieldVisible:O,isDescribeFieldVisible:D,isEstimateDutiesCheckboxHidden:I,isShipmentTypePackage:function(){function e(){return t.isShipmentTypePackage(X.shipmentType)}return e}(),isMailingListShipment:Y,isInvoiceValueDisplayed:j,isTotalValueOfGoodsAlertVisible:V,isTotalValueOfGoodsEqualToSumOfDeclaredItemValues:$,isCancelItemEntryVisible:H,isEnhancedDescriptionHeaderVisible:W,isLineItemHeaderVisible:q,calculateTotalQuantity:N,calculateTotalWeight:T,calculateTotalUserInputWeight:M,addItemAttributesRow:P,copyItemAttributesRow:R,deleteItemAttributesRow:b,setTotalValueOfGoodsToSumOfDeclaredItemValues:B,cancelItemEntry:x,getWeightConvertionRate:L,getWeightUnits:G,getTotalValueOfGoodsAlert:F,onSetWeight:l,onSelectCurrency:k,onDescriptionBlur:K,useExportHsCode:undefined,defaultQuantityUnit:"",isProductCatalogVisible:!1,product:{},isVatTaxIdVisible:!1,somParametersLoaded:!1,PATTERNS:{dimension:null},alertTypes:{productAdded:!1},inrCurrency:u["default"].INR})}r.$inject=["component"],o.$inject=["$q","shipmentTypeService","declaredValueService","shipmentAddressService","itemAttributesService","itemAttributesComponentService"],t.__esModule=!0,t["default"]=r,t.ItemAttributesCtrl=o;var a=n(402),u=i(a),c=n(47),s=i(c),l=r.NG_NAME="ewfItemAttributes"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r){"ngInject";function o(e,t,n){var i=Object.assign({},{reasonForExport:e.shippingPurpose?e.shippingPurpose.reasonForExport:null,invoiceType:e.shippingPurpose?e.shippingPurpose.invoiceType:null,typeOfExport:e.shippingPurpose?e.shippingPurpose.typeOfExport:null}),r={totalPiece:e.totalQuantity,totalWeight:u(e,"netWeight","totalNetWeight"),totalGrossWeight:u(e,"grossWeight","totalGrossWeight"),items:s(e.productList,t,n),numberOfPallets:e.numberOfPallets,totalDeclaredValue:e.totalDeclaredValue,weightUnits:e.weightUnits,currencyCode:e.currentCurrency,estimateDuties:e.estimateDuties,gstData:e.gstData,reasonForExport:i.reasonForExport,invoiceType:i.invoiceType,typeOfExport:i.typeOfExport},o=p(e);return o&&(r.involvedParties=o),r}function u(e,t,n){return e.productList.some(function(e){return""!==e[t]})?e[n]:null}function s(e,t,n){var i=angular.copy(e);return i&&i.length?(i.forEach(function(e){e.description=e.description&&e.description.slice(0,255),v(e,t),M(e),y(e),R(e,n)}),i):i}function l(e,t){t.shippingPurpose=null,t.canEnableDescribeSection=!1,e.reasonForExport||e.invoiceType||e.typeOfExport?(t.shippingPurpose={},t.shippingPurpose.reasonForExport=e.reasonForExport,t.shippingPurpose.invoiceType=e.invoiceType,t.shippingPurpose.typeOfExport=e.typeOfExport):e.reasonForExport||e.invoiceType||e.typeOfExport||(t.canEnableDescribeSection=!0)}function d(e,t){e&&(Object.assign(t,{totalDeclaredValue:e.totalDeclaredValue||t.totalDeclaredValue,totalQuantity:e.totalPiece,totalNetWeight:e.totalWeight,totalGrossWeight:e.totalGrossWeight,numberOfPallets:e.numberOfPallets,weightUnits:e.weightUnits,estimateDuties:e.estimateDuties,gstData:e.gstData||{},productList:[]}),l(e,t),f(e,t),e.items&&e.items.forEach(function(e){return S(t,e)}))}function f(e,t){var n=e.involvedParties;if(n){var i=n.receiver,r=i===undefined?{}:i;t.country.code2=r.countryOfUltimateDestination,t.ultimateConsignee=r.ultimateConsignee}}function p(e){var t=e.country.code2||null,n=e.ultimateConsignee,i={countryOfUltimateDestination:t,ultimateConsignee:n};if(t||n)return{receiver:i}}function m(e){_(e),e.totalDeclaredValue="",e.shippingPurpose=null}function _(e){var t=arguments.length<=1||arguments[1]===undefined||arguments[1];e.productList=[g(e)],t&&(e.currentCurrency=e.defaultCurrency||e.currentCurrency)}function E(e,t){e.productList.length||_(e,!t)}function S(e,t){O(t);var n=Object.assign(g(e),t||{});n.additionalItemReferencesModel=(n.additionalItemReferences||[]).reduce(function(e,t){var n,i=t.referenceTypeCode,r=t.referenceValue;return Object.assign(e,(n={},n[i]=r,n))},{}),e.productList.push(n)}function g(e){return{id:"",name:"",description:"",quantity:1,quantityUnits:"",value:"",currency:e.currentCurrency,netWeight:"",grossWeight:"",importCommodityCode:"",exportCommodityCode:"",countryName:"",countryCode:null,isProductListVisible:!1,isSearchCommodityInsteadValidation:{IMPORT:!1,EXPORT:!1},isCommodityCodeValid:{IMPORT:!0,EXPORT:!0},commodityDisable:{},som:null,indiaCustomsInvoiceProduct:{},additionalItemReferencesModel:{},rowId:++U}}function C(e,t){var n=angular.copy(e);n.rowId=++U,delete n.saved,t.splice(t.indexOf(e)+1,0,n)}function A(e,t){e.weightUnits=t||h(e),e.productList.forEach(function(t){return t.som=e.weightUnits===e.weightSom[a["default"].IMPERIAL]?a["default"].IMPERIAL:a["default"].METRIC})}function h(e,t,n){var i=n?e.userProfileCountrySom:e.shipperCountrySom;return t&&(i=i===a["default"].METRIC?a["default"].IMPERIAL:a["default"].METRIC),e.weightSom[i]}function I(n,i,r){var o=n.map(function(n){return e.all([t.validateCommodityCode(n.exportCommodityCode,i,c["default"].EXPORT),t.validateCommodityCode(n.importCommodityCode,r,c["default"].IMPORT)]).then(function(e){var t=e[0],i=e[1];return n.exportCommodityCode=t.valid?n.exportCommodityCode:"",n.importCommodityCode=i.valid?n.importCommodityCode:"",!i.valid||!t.valid})});return e.all(o).then(function(e){return e.some(Boolean)})}function v(e,t){if(!t)return void(e.indiaCustomsInvoiceProduct=null);e.indiaCustomsInvoiceProduct&&(N(e),e.indiaCustomsInvoiceProduct.commodityCode=e.exportCommodityCode||null)}function N(e){e.indiaCustomsInvoiceProduct.totalItemValue=e.indiaCustomsInvoiceProduct.totalItemValue||0,e.indiaCustomsInvoiceProduct.itemFOBValueINR=e.indiaCustomsInvoiceProduct.itemFOBValueINR||0}function T(e,t){return e.isShipmentPurposeVisible||t?e.itemAttributes.shippingPurpose:{}}function M(e){e.isAddItemReference||(e.referenceTypeCode=null,e.referenceNumber=null)}function y(e){e.additionalItemReferences=Object.entries(e.additionalItemReferencesModel).filter(function(e){return e[1]}).map(function(e){return{referenceTypeCode:e[0],referenceValue:e[1]}}),delete e.additionalItemReferencesModel}function O(e){e&&(e.referenceNumber||e.referenceTypeCode)&&(e.isAddItemReference=!0)}function D(e){F=e}function P(){return F}function R(e,t){t||(e.licenseType=null,e.licenseNumber=null,e.eccn=null)}function b(){var e='\n            <span ewf-price="itemAttrCtrl.model.totalShipment"\n               ewf-price-currency="itemAttrCtrl.model.currentCurrency"></span>',t=i(r.SHIPMENT_DETAILS.INVOICE_VALUE_LINK_SET_TOTAL_VALUE_OF_GOODS_LINK,{sumOfDeclaredItemValues:e,trustAsHtml:!0}),n='\n            <a ng-click="itemAttrCtrl.setTotalValueOfGoodsToSumOfDeclaredItemValues()">\n                '+t+"\n            </a>\n        ";return i(r.SHIPMENT_DETAILS.INVOICE_VALUE_ALERT_TOTAL_VALUE_OF_GOODS_MISMATCH,{totalValueOfGoods:'\n            <span ewf-price="itemAttrCtrl.model.totalValueOfGoods"\n               ewf-price-currency="itemAttrCtrl.model.currentCurrency"></span>',sumOfDeclaredItemValues:e,setTotalValueOfGoodsLink:n,trustAsHtml:!0})}function L(e){return n.invokeGssValidationForDescription(e)}function G(e){return n.invokeGlobalScreeningValidation(e)}function k(e){n.storeValidLineItemDescriptionInCache(e)}function w(e){return n.isScreeningMustBeSkipped(e)}var U=0,F=!1;return{getCustomsInvoiceData:o,getWeightUnits:h,getShippingPurpose:T,setCustomsInvoiceData:d,setWeightUnits:A,resetModel:m,resetProductList:_,initProductList:E,addItemAttributesRow:S,clearInvalidCommodityCodes:I,copyItemAttributesRow:C,setLineItemsShowed:D,isLineItemsShowed:P,invokeGssValidationForDescription:L,invokeGlobalScreeningValidation:G,storeValidLineItemDescriptionInCache:k,isScreeningMustBeSkipped:w,getTotalValueOfGoodsAlert:b}}r.$inject=["$q","commodityCodeService","globalScreeningValidationService","replaceFilter","Messages"],t.__esModule=!0,t["default"]=r;var o=n(53),a=i(o),u=n(930),c=i(u);r.NG_NAME="itemAttributesService"},function(e,t,n){"use strict";function i(e,t,n,i,r,u,c,s,l,d,f){"ngInject";function p(t,n,i){var r=arguments.length<=3||arguments[3]===undefined?{pageIndex:0,pageSize:a.MIN_PAGE_SIZE}:arguments[3];return e.all([m(t,n,i,r),_()]).then(function(e){var t=e[0],n=t.results,i=t.totalItems,r=e[1];return n.forEach(function(e){var t=r.find(function(t){return e.countryCode===t.code2});e.countryName=t.capitalizedName||t.name}),{results:n,totalItems:i}})}function m(r){var o=arguments.length<=1||arguments[1]===undefined?"":arguments[1],a=arguments[2],u=arguments[3],c=u.pageIndex,s=u.pageSize;if(i.isGuest())return e.when({results:[]});var l={pageNumber:c,pageSize:a||s,keyword:n.encodeURIComponent(o)};return t.get(j+"/search/"+r,{params:l}).then(function(e){return e.data})}function _(){return r.getCountryList()}function E(e){return e.userProfileCountrySom===o["default"].METRIC?1/e.weightConvertionRate:e.weightConvertionRate}function S(e,t){d.copyItemAttributesRow(e,t)}function g(e,t){var n=t.indexOf(e);t.splice(n,1)}function C(e,n){var i=e.model,r=e.searchMode,o=n?i.exportCommodityCode:i.importCommodityCode,a=u.create({type:r,product:Object.assign(angular.copy(i),e,{exportCommodityCode:o})});return t.post(j,a).then(function(e){return e.data})}function A(e){return c.getBoolean(c.CI_KEYS.CI1273_USE_EXPORT_HS_CODE,e)}function h(e,t){return["description","exportCommodityCode","importCommodityCode","quantity","value","grossWeight","netWeight","countryCode","referenceTypeCode","referenceNumber"].some(function(n){return t[n]!==e[n]})}function I(){return i.getUserCountry()}function v(t){var n=["CI0251_INVOICE_DETAILS_ITEM_DESCRIPTION","CIF0125_SHIPMENT_DESCRIPTION"],i=n.map(function(e){return c.getFormField(c.CI_KEYS[e],t)});return e.all(i).then(function(e){return[N(e),e[0],M()]})}function N(e){return{mandatory:e.some(function(e){return e.mandatory}),visible:e.some(function(e){return e.visible}),minLength:Math.max.apply(Math,e.map(function(e){return e.minLength||0})),maxLength:T(e)}}function T(e){var t=e.map(function(e){return e.maxLength}).filter(Boolean);return Math.min.apply(Math,t)}function M(){return{mandatory:!1,visible:!0}}function y(e,t){var n=e.productList.map(function(e){return e.indiaCustomsInvoiceProduct});e.totalShipment=O(n),e.totalFOBValue=s(n,"itemFOBValue"),e.totalFOBValueINR=s(n,"itemFOBValueINR"),e.totalValueAfterTax=D(n,t)}function O(e){return s(e,"totalItemValue")-s(e,"discountAmount")}function D(e,t){var n=s(e,"itemTotalAfterTax"),i=t?s(t.charges,"value"):0;return k(n+i,[n,i])}function P(e){return c.getFormField(c.CI_KEYS.CI1403_CSBV_CAP_AMOUNT,e)}function R(){return c.getSourceData(c.CI_KEYS.CI1417_CUSTOMS_REGISTRATION_NUMBER_TYPES)}function b(t){return e.all([R(),f.getApplicableTaxId(t)]).then(function(e){var t=e[0],n=e[1],i=t&&t.find(function(e){return e.customerFacingCode.value===n.taxIdType});return!!i&&(n.applicable&&i.lineItemInfoRequired)})}function L(){return i.hasDhlAccounts()}function G(e,t,n){return s(e,t,n)}function k(e,t){return l.getResultWithPrecision(e,t)}function w(e){return d.invokeGssValidationForDescription(e)}function U(e){d.storeValidLineItemDescriptionInCache(e)}function F(){return c.getValue(c.CI_KEYS.CI0792_RECORDS_NUMBER).then(function(e){return e.data.value})}var j="/api/customsinvoice/product";return{getProductsWithCountryNames:p,getWeightConvertionRate:E,getUserCountry:I,getItemDescriptionCis:v,getTaxIdTypesList:R,getMaxCsbvShipmentValue:P,getResultWithPrecision:k,getMaxRecordsNumberSuggestions:F,isUseExportHsCode:A,isProductChanged:h,isVatTaxIdVisible:b,hasDhlAccounts:L,copyItemAttributesRow:S,deleteItemAttributesRow:g,saveProduct:C,calculateCsbvTotals:y,calculateTotal:G,invokeGssValidationForDescription:w,storeValidLineItemDescriptionInCache:U}}i.$inject=["$q","$http","$window","userService","locationService","itemAttributesProductFactory","configService","calculateTotalFilter","calculationService","itemAttributesService","shipmentTaxIdInputService"],t.__esModule=!0,t["default"]=i;var r=n(53),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=n(20);i.NG_NAME="itemAttributesComponentService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({controller:o,controllerAs:"productCtrl",bindings:{model:"="+f,eeiTrigger:"="+f+"EeiTrigger",currency:"="+f+"Currency",useExportHsCode:"<"+f+"UseExportHsCode",userProfileCountrySom:"="+f+"UserProfileCountrySom",fromCountry:"<"+f+"FromCountry",fromServiceCode:"<"+f+"FromServiceCode",toCountry:"<"+f+"ToCountry",toServiceCode:"<"+f+"ToServiceCode",shipmentPackagingType:"<"+f+"ShipmentPackagingType",isDutiable:"<"+f+"IsDutiable",intraEuDutiableStatus:"<"+f+"IntraEuDutiableStatus",searchMode:"<"+f+"SearchMode",som:"<"+f+"Som",estimateDuties:"<"+f+"EstimateDuties",index:"<"+f+"Index",isMultiple:"<"+f+"IsMultiple",weightUnits:"<"+f+"WeightUnits",weightConversionRate:"<"+f+"WeightConversionRate",conversionPrecision:"<"+f+"ConversionPrecision",unitsMismatched:"<"+f+"UnitsMismatched",currencies:"<"+f+"Currencies",userProfile:"<"+f+"UserProfile",onCopy:"&"+f+"OnCopy",onDelete:"&"+f+"OnDelete",briefAttributes:"<?"+f+"BriefAttributes",isMailingListShipment:"<?"+f+"IsMailingListShipment",onSetWeight:"&"+f+"OnSetWeight",isCsbv:"<?"+f+"IsCsbv",isConversionError:"="+f+"IsConversionError",isOnlyInrCurrency:"&?"+f+"IsOnlyInrCurrency",onSelectCurrency:"&"+f+"OnSelectCurrency",isVatTaxIdVisible:"<"+f+"IsVatTaxIdVisible",itemReferenceDefaults:"<?"+f+"ItemReferenceDefaults",customsInvoiceType:"<?"+f+"CustomsInvoiceType",isSsb:"<?"+f+"IsSsb",isGlobalMilitary:"<?"+f+"IsGlobalMilitary",isRateAndQuoteFlow:"<"+f+"IsRateAndQuoteFlow"},templateUrl:"item-attributes-product.html"})}function o(e,t,n,i,r,o,a){"ngInject";function c(e){var t=e.weightUnits;t&&t.previousValue!==t.currentValue&&S()}function l(){le.userCountry=i.getUserCountry(),"UP"===le.searchMode&&o.getDefaultSomAndCurrency().then(function(e){var t=e.som;return le.userProfileCountrySom=t}),fe=angular.copy(le.model),q(),p()}function f(){le.model.currency=le.currency,le.model.som=le.weightUnits&&n.getUOMDimension(le.weightUnits),de!==le.model.quantity&&(S(),de=le.model.quantity),!angular.isDefined(le.useExportHsCode)||le.useExportHsCode||le.isGlobalMilitary||(le.model.exportCommodityCode=null),J()}function p(){m(u["default"].NET_WEIGHT_PROP_NAME,u["default"].CONVERTED_NET_WEIGHT_PROP_NAME,u["default"].INPUT_NET_WEIGHT_PROP_NAME),m(u["default"].GROSS_WEIGHT_PROP_NAME,u["default"].CONVERTED_GROSS_WEIGHT_PROP_NAME,u["default"].INPUT_GROSS_WEIGHT_PROP_NAME)}function m(e,t,n){return g()?_(e,t,n):E(e,t,n)}function _(e,t,n){if(le.model[t])le[n]=le.model[t];else if(le.model[e]){var i=le.model[e];le[n]=i,le.model[t]=i,le.model[e]=C(i)}H(n)}function E(e,t,n){if(le.model[t]){var i=le.model[t];le[n]=i,le.model[e]=i,le.model[t]=undefined}else le.model[e]&&(le[n]=le.model[e]);H(n)}function S(){B(),V()}function g(){return le.weightUnits&&le.weightConversionRate&&n.getUOMDimension(le.weightUnits)!==le.userProfileCountrySom}function C(e){var n=1/le.weightConversionRate;return t("convertUomToOpposite")(e,n,le.conversionPrecision)}function A(){le.inputNetWeight=le.model.netWeight,le.inputGrossWeight=le.model.grossWeight,S()}function h(){se().then(function(e){e&&n.showSaveAsNewDialogue(I)})}function I(e){var t=le.model,n=le.searchMode,r=le.som,o=le.currency;return i.saveProduct({name:e,model:t,searchMode:n,som:r,currency:o},le.useExportHsCode).then(function(){return le.saved=!0})}function v(e){me=!1,le.useExportHsCode&&D(e)}function N(e){pe=!1,le.useExportHsCode||D(e)}function T(){return pe&&!U()&&!le.estimateDuties}function M(){pe=!0}function y(){return me&&!w()}function O(){me=!0}function D(e){if(e)if(le.model.description&&le.model.description!==e){var i=t("replace")(a.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_ITEMS_MSG_CONFIRM_DESCRIPTION_REPLACE,{oldDescription:le.model.description,newDescription:e});n.showConfirmationDialog(i).then(function(){P(e),b()})}else P(e),b()}function P(e){le.model.description=e,R(e)}function R(e){i.storeValidLineItemDescriptionInCache({lineItemDescriptions:[e],fromCountryCode:le.fromCountry,fromServiceCode:le.fromServiceCode,toCountryCode:le.toCountry,toServiceCode:le.toServiceCode})}function b(){le.focusDescriptionTrigger=!0,Y()}function L(e){var t=e.code;le.model.importCommodityCode=t}function G(e){var t=e.code;le.model.exportCommodityCode=t}function k(e){var t=e.code;le.model.indiaCustomsInvoiceProduct.commodityCode=t}function w(e){return!le.isGlobalMilitary&&(e&&le.isCsbv||le.briefAttributes||le.isMailingListShipment||!le.useExportHsCode)}function U(){return le.useExportHsCode&&!le.estimateDuties}function F(){return le.userProfile?le.weightUnits:(s["default"][le.userProfileCountrySom]||"").toLowerCase()}function j(){return le.isCsbv?a.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_ITEMS_LABEL_EXPORT_COMMODITY_CODE:le.userProfile?a.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_ITEMS_LABEL_USER_PROFILE_COMMODITY_CODE:a.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_ITEMS_LABEL_SCHEDULE_B}function V(){$(u["default"].GROSS_WEIGHT_PROP_NAME,u["default"].CONVERTED_GROSS_WEIGHT_PROP_NAME,u["default"].INPUT_GROSS_WEIGHT_PROP_NAME)}function B(){$(u["default"].NET_WEIGHT_PROP_NAME,u["default"].CONVERTED_NET_WEIGHT_PROP_NAME,u["default"].INPUT_NET_WEIGHT_PROP_NAME)}function $(e,t,n){var i=le[n];i&&(g()?(le.model[t]=i,le.model[e]=C(i)):(le.model[t]=undefined,le.model[e]=i),H(n))}function H(e){le.onSetWeight({index:le.index,weight:le[e],weightPropName:e})}function x(e){if(!le.model.quantityUnits){var t=e.find(function(e){return e.isDefault});le.model.quantityUnits=t&&t.code}le.model.quantityUnits&&!e.some(function(e){return e.code===le.model.quantityUnits})&&(le.model.quantityUnits=null)}function K(){return le.unitsMismatched&&!le.userProfile}function Y(){i.isProductChanged(fe,le.model)&&(le.eeiTrigger=!0,fe=angular.copy(le.model))}function W(){return le.isCsbv}function q(){le.meisOptions=[{value:d["default"].YES,label:a.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_ITEMS_SELECT_OPTION_MEIS_YES},{value:d["default"].NO,label:a.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_ITEMS_SELECT_OPTION_MEIS_NO}]}function z(e){le.model.commodityTypes=e}function X(){var e=Z(),t=e.defaultMeisValue&&e.defaultMeisValue.value&&e.defaultMeisValue.value.value;angular.isUndefined(t)||(le.model.indiaCustomsInvoiceProduct.underMeis=t===d["default"].NO_DEFAULT?"":t)}function Q(){return Z().meisIsNotEditable}function Z(){return le.model.commodityTypes?le.model.commodityTypes.find(function(e){return e.commodityType.value===le.model.indiaCustomsInvoiceProduct.commodityType})||{}:{}}function J(){if(le.isCsbv){var e=le.model.indiaCustomsInvoiceProduct,t=r.getItemAmountWithDiscount(e),n=r.getIgstPercentMultiplier(e),o=t*(1+n);le.model.indiaCustomsInvoiceProduct.itemTotalAfterTax=i.getResultWithPrecision(o,[t,n])}}function ee(){return!r.isHiddenForGuestOrB2l()&&!le.isSsb&&!le.isMailingListShipment}function te(){return!(r.isB2lShipment()||le.isSsb||le.isMailingListShipment||le.userProfile)}function ne(e){return le.isVatTaxIdVisible&&(e?le.isCsbv:!le.isCsbv)}function ie(){return le.isCsbv||le.isGlobalMilitary}function re(e){Object.assign(le.model,e,{key:"",originalDescription:e.description,isSelectedProduct:!0,weightUnits:s["default"][e.som]||""}),ae(e),oe(e),A()}function oe(e){var t=e.exportCommodityCode,n=t===undefined?null:t;le.model.importCommodityCode=le.useExportHsCode?null:n,le.model.exportCommodityCode=le.useExportHsCode?n:null}function ae(e){var t=e.referenceNumber,n=e.referenceTypeCode;if(!le.isItemReferenceVisible)return void Object.assign(le.model,{referenceNumber:null,referenceTypeCode:null});n&&t&&(le.model.isAddItemReference=!0)}function ue(){var e={fromCountry:le.fromCountry,toCountry:le.toCountry,isMultiple:le.isMultiple,additionalItemReferencesModel:le.model.additionalItemReferencesModel};n.showCreateDescriptionPopup(e).then(function(e){return ce(e.itemDescription)})}function ce(e){le.model.description=e,se()}function se(){if(le.userProfile)return e.when(!0);var t={lineItemDescriptions:[le.model.description],fromCountryCode:le.fromCountry,fromServiceCode:le.fromServiceCode,toCountryCode:le.toCountry,toServiceCode:le.toServiceCode,shipmentPackagingType:le.shipmentPackagingType,model:le.model,isMandatory:!!le.model.description,isDutiable:le.isDutiable,intraEuDutiableStatus:le.intraEuDutiableStatus,isMailingListShipment:le.isMailingListShipment};return i.invokeGssValidationForDescription(t)}var le=this,de=void 0,fe=void 0,pe=void 0,me=void 0;Object.assign(le,{$onInit:l,$doCheck:f,$onChanges:c,showSaveAsNewDialogue:h,setExportCommodityCode:G,setImportCommodityCode:L,setCsbvCommodityCode:k,isExportCommodityCodeFieldHidden:w,isImportCommodityCodeFieldHidden:U,getCurrentWeightUnit:F,setGrossWeight:V,setNetWeight:B,quantityUnitsLoaded:x,convertedWeightVisible:K,onExportCommodityCodeValidated:v,onExportCommodityCodeInvalidated:O,onImportCommodityCodeValidated:N,onImportCommodityCodeInvalidated:M,getExportCommodityLabel:j,checkProductChanges:Y,restoreWeight:A,triggerWeightChange:H,isImportCCWarningMessageVisible:T,isExportCCWarningMessageVisible:y,isIndiaCommodityCodeVisible:W,onCommodityTypesLoaded:z,onCommodityTypeChanged:X,isMeisDisabled:Q,isItemReferenceAvailable:ee,areAdditionalItemReferencesAvailable:te,isVatPaidVisible:ne,isReferenceMarginNeeded:ie,mapProductProperties:re,showCreateDescriptionPopup:ue,focusDescriptionTrigger:!1,weightConvertionRate:1,alertTypes:{productAdded:!1},isItemReferenceVisible:!1})}r.$inject=["component"],o.$inject=["$q","$filter","itemAttributesProductService","itemAttributesComponentService","customsDeclarationService","profileShipmentService","Messages"],t.__esModule=!0,t["default"]=r,t.ItemAttributesProductController=o;var a=n(1879),u=i(a),c=n(232),s=i(c),l=n(1880),d=i(l),f=r.NG_NAME="ewfItemAttributesProduct"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={GROSS_WEIGHT_PROP_NAME:"grossWeight",CONVERTED_GROSS_WEIGHT_PROP_NAME:"convertedGrossWeight",INPUT_GROSS_WEIGHT_PROP_NAME:"inputGrossWeight",NET_WEIGHT_PROP_NAME:"netWeight",CONVERTED_NET_WEIGHT_PROP_NAME:"convertedNetWeight",INPUT_NET_WEIGHT_PROP_NAME:"inputNetWeight"}},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={NO_DEFAULT:"NO_DEFAULT",YES:"Y",NO:"N"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){"ngInject";function i(t){e.showDialog({closeOnEsc:!0,showClose:!0,templateUrl:"item-attributes-save-as-new-dialog.html",controller:a["default"],controllerAs:"itemAttributesSaveNewDialogCtrl",resolve:{saveProductCallback:function(){function e(){return t}return e}()}})}function r(t){return e.showConfirmationDialog({message:t})}function o(e){return t.getUOMDimension(e)}function u(t){var n=t.fromCountry,i=t.toCountry,r=t.isMultiple,o=t.additionalItemReferencesModel,a={additionalItemReferencesModel:o,fromCountry:n,toCountry:i},u={controller:c["default"],controllerAs:"createDescriptionPopupCtrl",templateUrl:"create-description-popup.html",resolve:{descriptionConfig:function(){function e(){return{fromCountry:n,isMultiple:r}}return e}()}};return e.showDialog(u).result.then(function(e){return s(a,e)})}function s(e,t){var i=e.additionalItemReferencesModel,r=e.fromCountry,o=e.toCountry,a=t.itemDescription,u=t.additionalItemReferencesToApply;return n.getAdditionalItemReferencesTypeList(r,o).then(function(e){return e.filter(function(e){var t=e.referenceTypeCode;return Object.keys(u).includes(t)}).forEach(function(e){var t=e.referenceTypeCode;return i[t]=u[t]}),{itemDescription:a}})}return{showSaveAsNewDialogue:i,showConfirmationDialog:r,getUOMDimension:o,showCreateDescriptionPopup:u}}r.$inject=["modalService","somService","itemReferenceService"],t.__esModule=!0,t["default"]=r;var o=n(1882),a=i(o),u=n(1883),c=i(u);r.NG_NAME="itemAttributesProductService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(e){r.errors=[],t(r.productName).then(e)["catch"](function(e){return i((e.data||{errors:["errors.common_msg_server-error"]}).errors)})}function i(t){r.errors=t,e(function(){return r.errors=[]},o["default"].showInformationHintTimeout)}var r=this;Object.assign(r,{submit:n})}i.$inject=["$timeout","saveProductCallback"],t.__esModule=!0,t["default"]=i;var r=n(27),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function o(){t.getItemDescriptionCis(e.fromCountry).then(function(e){S=e[0],g=e[1],_.minLength=a("minLength"),_.maxLength=a("maxLength")})}function a(t){return e.isMultiple?g[t]:S[t]}function u(){n.getSourceData(n.CI_KEYS.CI1465_MANAGE_CREATE_DESCRIPTION_MODAL_FIELDS_ORDER).then(function(e){_.descriptionFieldsList=e,_.descriptionFieldsList.forEach(function(e){c(e.fieldName.value).then(function(t){Object.assign(e,t)})})})}function c(e){var t,i=(t={},t[r.CREATE_DESCRIPTION_FIELD_TYPES.ITEM_DESCRIBE]=n.CI_KEYS.CIF0365_WHAT_IS_THE_ITEM,t[r.CREATE_DESCRIPTION_FIELD_TYPES.ITEM_BRAND]=n.CI_KEYS.CIF0366_BRAND_OR_MANUFACTURE,t[r.CREATE_DESCRIPTION_FIELD_TYPES.ITEM_STYLE_MODEL]=n.CI_KEYS.CIF0367_WHICH_TYPE_STYLE_OR_MODEL_IS_IT,t[r.CREATE_DESCRIPTION_FIELD_TYPES.ITEM_MADE]=n.CI_KEYS.CIF0368_HOW_WILL_IT_BE_USED,t[r.CREATE_DESCRIPTION_FIELD_TYPES.ITEM_USED]=n.CI_KEYS.CIF0369_WHAT_IS_IT_MADE_OF,t);return n.getFormField(i[e])}function s(e){var t;return(t={},t[r.CREATE_DESCRIPTION_FIELD_TYPES.ITEM_DESCRIBE]=i.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_CREATE_DESCRIPTION_LABEL_WHAT_IS_THIS_ITEM,t[r.CREATE_DESCRIPTION_FIELD_TYPES.ITEM_BRAND]=i.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_CREATE_DESCRIPTION_LABEL_BRAND,t[r.CREATE_DESCRIPTION_FIELD_TYPES.ITEM_STYLE_MODEL]=i.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_CREATE_DESCRIPTION_LABEL_MODEL,t[r.CREATE_DESCRIPTION_FIELD_TYPES.ITEM_MADE]=i.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_CREATE_DESCRIPTION_LABEL_WHAT_IS_MADE_OF,t[r.CREATE_DESCRIPTION_FIELD_TYPES.ITEM_USED]=i.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_CREATE_DESCRIPTION_LABEL_HOW_WILL_BE_USED,t)[e]}function l(e){var t;return(t={},t[r.CREATE_DESCRIPTION_FIELD_TYPES.ITEM_DESCRIBE]=i.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_CREATE_DESCRIPTION_LABEL_WHAT_IS_THIS_ITEM_PLACEHOLDER,t[r.CREATE_DESCRIPTION_FIELD_TYPES.ITEM_BRAND]=i.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_CREATE_DESCRIPTION_LABEL_BRAND_PLACEHOLDER,t[r.CREATE_DESCRIPTION_FIELD_TYPES.ITEM_STYLE_MODEL]=i.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_CREATE_DESCRIPTION_LABEL_MODEL_PLACEHOLDER,t[r.CREATE_DESCRIPTION_FIELD_TYPES.ITEM_MADE]=i.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_CREATE_DESCRIPTION_LABEL_WHAT_IS_MADE_OF_PLACEHOLDER,t[r.CREATE_DESCRIPTION_FIELD_TYPES.ITEM_USED]=i.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_CREATE_DESCRIPTION_LABEL_HOW_WILL_BE_USED_PLACEHOLDER,t)[e]}function d(e){var t=Object.entries(r.CREATE_DESCRIPTION_TO_ADDITIONAL_REFERENCES_MAP).map(f).filter(function(e){return e[1]}),n=Object.fromEntries(t);e.close({itemDescription:_.itemDescription,additionalItemReferencesToApply:n})}function f(e){var t=e[0];return[e[1],_.populatedFields[E[t]]]}function p(){_.itemDescription="",_.populatedFields=[]}function m(e,t){_.itemDescription=_.populatedFields.filter(function(e){return e}).join(" "),E[e]=t}var _=this;Object.assign(_,{useItemDescription:d,clearFields:p,getLabelTranslation:s,getPlaceholderTranslation:l,aggregateDescription:m,itemDescription:"",populatedFields:[],descriptionFieldsList:[]});var E={},S={},g={};!function(){o(),u()}()}i.$inject=["descriptionConfig","itemAttributesComponentService","configService","Messages"],t.__esModule=!0,t["default"]=i;var r=n(1884)},function(e,t,n){"use strict";t.__esModule=!0;var i,r=t.CREATE_DESCRIPTION_FIELD_TYPES={ITEM_DESCRIBE:"ItmDesc",ITEM_BRAND:"ItmBrnd",ITEM_STYLE_MODEL:"ItmStlMdl",ITEM_MADE:"ItmMd",ITEM_USED:"ItmUsd"};t.CREATE_DESCRIPTION_TO_ADDITIONAL_REFERENCES_MAP=(i={},i[r.ITEM_BRAND]="BRD",i[r.ITEM_STYLE_MODEL]="ALX",i[r.ITEM_MADE]="MAT",i[r.ITEM_USED]="USG",i)},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"productDescriptionCtrl",templateUrl:"item-attributes-product-description.html",bindings:{fromCountry:"<"+o+"FromCountry",fromServiceCode:"<"+o+"FromServiceCode",toCountry:"<"+o+"ToCountry",toServiceCode:"<"+o+"ToServiceCode",shipmentPackagingType:"<"+o+"ShipmentPackagingType",userProfile:"<"+o+"UserProfile",isMultiple:"<"+o+"IsMultiple",isMailingListShipment:"<"+o+"IsMailingListShipment",index:"<"+o+"Index",briefAttributes:"<"+o+"BriefAttributes",isExportCommodityCodeFieldHidden:"<"+o+"IsExportCommodityCodeFieldHidden",isImportCommodityCodeFieldHidden:"<"+o+"IsImportCommodityCodeFieldHidden",model:"<"+o+"Model",searchMode:"<"+o+"SearchMode",focusDescriptionTrigger:"="+o+"FocusTrigger",isDutiable:"<"+o+"IsDutiable",intraEuDutiableStatus:"<"+o+"IntraEuDutiableStatus",isCsbv:"<"+o+"IsCsbv",onSelectItem:"&"+o+"OnSelectItem",isRateAndQuoteFlow:"<"+o+"IsRateAndQuoteFlow"}})}function r(e,t,n,i){"ngInject";function r(){n.getItemDescriptionCis(C.fromCountry).then(function(e){var t;return t=e,h=t[0],I=t[1],v=t[2],t})}function o(e){return C.userProfile?v[e]:C.isMultiple?I[e]:h[e]}function a(e,t){var n=t.fromCountry,r=t.toCountry;return!!C.isMailingListShipment||i.validateProductProhibition(e,{fromCountry:n,toCountry:r})}function u(){return!C.index&&!C.briefAttributes}function c(){return(C.isExportCommodityCodeFieldHidden||C.isImportCommodityCodeFieldHidden)&&!C.isCsbv}function s(e){return d().then(function(t){return n.getProductsWithCountryNames(C.searchMode,e,t)}).then(function(t){return l(t.results,e.toLowerCase())})}function l(t,n){return e.msie&&!C.model.description&&(C.model.description=A),t.filter(function(e){var t=e.name,i=e.description;return t.toLowerCase().includes(n)||i.toLowerCase().includes(n)})}function d(){return n.getMaxRecordsNumberSuggestions()}function f(){C.focusDescriptionTrigger=!1}function p(t,n){e.msie&&C.model.description===A&&(C.model.description=null),m(t,n)}function m(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(!C.userProfile&&!C.isRateAndQuoteFlow){var i={lineItemDescriptions:[C.model.description],fromCountryCode:C.fromCountry,fromServiceCode:C.fromServiceCode,toCountryCode:C.toCountry,toServiceCode:C.toServiceCode,shipmentPackagingType:C.shipmentPackagingType,model:C.model,ngModelCtrl:e&&e.ngModelCtrl,isMandatory:o("mandatory"),isDutiable:C.isDutiable,intraEuDutiableStatus:C.intraEuDutiableStatus,isMailingListShipment:C.isMailingListShipment,eventRelatedTarget:t.relatedTarget};n.invokeGssValidationForDescription(i)}}function _(){var e={additionalItemReferencesModel:C.model.additionalItemReferencesModel,isMultiple:C.isMultiple,fromCountry:C.fromCountry,toCountry:C.toCountry};t.showCreateDescriptionPopup(e).then(function(e){return E(e.itemDescription)})}function E(e){C.model.description=e,m()}function S(e){C.onSelectItem({source:e})}function g(e){return 0===e}var C=this,A=" ",h={},I={},v={};Object.assign(C,{$onInit:r,getItemDescriptionConfiguration:o,validateProductProhibition:a,isProhibitedItemsLinkVisible:u,isFullDescriptionView:c,typeAheadSearch:s,onDescriptionFocus:f,onDescriptionBlur:p,productDescriptionTypeaheadOnSelect:S,showCreateDescriptionPopup:_,isHelpSliderVisible:g})}i.$inject=["component"],r.$inject=["$sniffer","itemAttributesProductService","itemAttributesComponentService","productProhibitionValidationService"],t.__esModule=!0,t["default"]=i,t.ItemAttributesProductDescriptionController=r;var o=i.NG_NAME="ewfItemAttributesProductDescription"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){"ngInject";function t(e){return new r(e)}var n=["type",{key:"product",propertyMap:a["default"]}],r=function(){function t(r){i(this,t),Object.assign(this,e.map(r,n))}return t}();return{create:t}}r.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=r;var o=n(911),a=function(e){return e&&e.__esModule?e:{"default":e}}(o);r.NG_NAME="itemAttributesProductFactory"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"item-fob-value-inr.html",controller:r,controllerAs:"itemFobValueInrCtrl",bindings:{model:"="+o,isConversionError:"="+o+"IsConversionError",currency:"<"+o+"Currency",itemFOBValue:"<"+o+"ItemFobValue",index:"<"+o+"Index"}})}function r(e){"ngInject";function t(t){var r=t.itemFOBValue,o=t.currency;if((r||o)&&(n.isConversionError=!1,n.itemFOBValue)){var a={amount:n.itemFOBValue,sourceCurrency:n.currency,targetCurrency:i};e.convertCsbvValue(a).then(function(e){return n.model=Number(e.amount)})["catch"](function(){return n.isConversionError=!0})}}var n=this,i="INR";Object.assign(n,{$onChanges:t})}i.$inject=["component"],r.$inject=["shipmentTypeService"],t.__esModule=!0,t["default"]=i,t.ItemFobValueInrController=r;var o=i.NG_NAME="ewfItemFobValueInr"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"total-item-value.html",controller:r,controllerAs:"totalItemValueCtrl",bindings:{model:"="+o,currency:"="+o+"Currency",currencies:"<"+o+"Currencies",quantity:"<"+o+"Quantity",value:"<"+o+"Value",index:"<"+o+"Index",isOnlyInrCurrency:"&?"+o+"IsOnlyInrCurrency",onSelectCurrency:"&"+o+"OnSelectCurrency"}})}function r(){function e(e){var n=e.quantity,i=e.value;(n&&!i||!n&&i)&&t()}function t(){n.model=n.quantity*n.value}var n=this;Object.assign(n,{$onChanges:e})}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.TotalItemValueController=r;var o=i.NG_NAME="ewfTotalItemValue"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"vat-paid-checkbox.html",controllerAs:"vatPaidCheckboxCtrl",bindings:{model:"="+r}})}i.$inject=["component"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfVatPaidCheckbox"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"components/shipment/type/total-declared-value-alert.html",controller:r,controllerAs:"totalDeclaredValueAlertCtrl",bindings:{model:"<"+o,declaredValueDisabled:"<"+o+"DeclaredValueDisabled",isCsbv:"<"+o+"IsCsbv"}})}function r(){function e(){return t()||n()||i()}function t(){return r.model.totalDeclaredValue>r.model.maxDeclaredValue}function n(){return r.declaredValueDisabled&&r.model.restoredDeclaredValue!==r.model.totalDeclaredValue}function i(){return r.isCsbv&&r.model.totalValueAfterTax>r.model.maxCsbvShipmentValue}var r=this;Object.assign(r,{isDeclaredValueExceededRestriction:e,isDeclaredValueExceeded:t,isB2lDeclaredValueExceeded:n,isCsbvShipmentValueExceeded:i})}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.TotalDeclaredValueAlertController=r;var o=i.NG_NAME="ewfTotalDeclaredValueAlert"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"item-license-details.html",controller:r,controllerAs:"itemLicenseDetailsCtrl",bindings:{model:"="+o,fromCountry:"<"+o+"FromCountry"}})}function r(e){"ngInject";function t(){n()}function n(){e.getLicenseTypes(o.fromCountry).then(function(e){o.licenseTypes=e})}function i(){return e.getLicenseTypeInfo(o.model,o.licenseTypes).licenseNumberMandatority}function r(){return e.getLicenseTypeInfo(o.model,o.licenseTypes).licenseNumberMaxLength||a}var o=this,a=35;Object.assign(o,{licenseTypes:[],$onInit:t,getLicenseTypes:n,isLicenseTypeNumberRequired:i,getLicenseNumberMaxLength:r})}i.$inject=["component"],r.$inject=["itemLicenseDetailsService"],t.__esModule=!0,t["default"]=i,t.ItemLicenseDetailsController=r;var o=i.NG_NAME="ewfItemLicenseDetails"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t){return e.getSourceData(e.CI_KEYS.CI1449_LIST_GLOBAL_STANDARD_LICENSE_TYPES,t)}function n(e,t){return t.find(function(t){return t.licenseType.value===e.licenseType})||{}}return{getLicenseTypes:t,getLicenseTypeInfo:n}}i.$inject=["configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="itemLicenseDetailsService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controllerAs:"itemActionsCtrl",controller:r,templateUrl:"item-attributes-item-actions.html",bindings:{index:"<"+u+"Index",saved:"<"+u+"Saved",itemAttributesProductForm:"<"+u+"ItemAttributesProductForm",isMultiple:"<"+u+"IsMultiple",searchMode:"<"+u+"SearchMode",onSelectItem:"&"+u+"OnSelectItem",onSave:"&"+u+"OnSave",onDelete:"&"+u+"OnDelete",onCopy:"&"+u+"OnCopy"}})}function r(e,t){"ngInject";function n(){var t={resolve:{searchMode:function(){function e(){return u.searchMode}return e}()},controller:a["default"],controllerAs:"productCatalogPopupCtrl",templateUrl:"product-catalog-popup.html"};e.showDialog(t).result.then(function(e){return u.onSelectItem({source:e})})}function i(){return!!u.itemAttributesProductForm&&u.itemAttributesProductForm.$invalid}function r(){return o()&&!u.saved&&!!u.itemAttributesProductForm&&!u.itemAttributesProductForm.$invalid}function o(){return t.isAuthorized()}var u=this;Object.assign(u,{showProductCatalogPopup:n,isCopyButtonDisabled:i,isSaveButtonVisible:r})}i.$inject=["component"],r.$inject=["modalService","userService"],t.__esModule=!0,t["default"]=i,t.ItemActionsController=r;var o=n(1894),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfItemActions"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function o(){p.columnsToDisplay=s(),p.searchConfiguration=c(),a()}function a(){u().then(d)}function u(){var e=arguments.length<=0||arguments[0]===undefined?"":arguments[0];return n.getProductsWithCountryNames(t,e,null,p.currentPage)}function c(){return{placeholder:i.CUSTOMS_CLEARANCE_SETTINGS.PRODUCT_ITEM_LIST_FIELD_PLACEHOLDER_SEARCH,showCategory:!1,onSelect:function(){function e(e,t){return f(t.product)}return e}(),onSearch:d,listFormatter:l,plainTypeahead:!0,type:"",errorMessage:i.CUSTOMS_CLEARANCE_SETTINGS.LB_SEARCH_ITEM_MSG_NO_RESULTS,onDataGet:function(){function e(e){return u(e)}return e}(),paginationEnabled:!0}}function s(){return[{alias:"name",msgsTitle:i.CUSTOMS_CLEARANCE_SETTINGS.LB_SEARCH_ITEM_COL_NAME_PRODUCT_NAME,templateId:"/product-catalog-popup/product-name.html",defaultSort:!0},{alias:"description",msgsTitle:i.CUSTOMS_CLEARANCE_SETTINGS.LB_SEARCH_ITEM_COL_NAME_PRODUCT_DESCRIPTION},{alias:"exportCommodityCode",msgsTitle:i.CUSTOMS_CLEARANCE_SETTINGS.LB_SEARCH_ITEM_COL_NAME_COMMODITY_CODE},{alias:"countryName",msgsTitle:i.CUSTOMS_CLEARANCE_SETTINGS.LB_SEARCH_ITEM_COL_NAME_COUNTRY}]}function l(e){return{product:e,key:e.key,value:[e.name,e.description].filter(Boolean).join("; ")}}function d(e){var t=e.results,n=e.totalItems;p.gridData=t,p.totalProductRecords=n}function f(t){e.close(t)}var p=this;Object.assign(p,{init:o,selectProduct:f,rebuildGrid:a,gridData:[],gridActions:null,columnsToDisplay:[],paginationRangeOptions:{top:{hidePageRange:!0},bottom:!0},currentPage:{pageIndex:0,pageSize:r.MIN_PAGE_SIZE}}),o()}i.$inject=["$modalInstance","searchMode","itemAttributesComponentService","Messages"],t.__esModule=!0,t["default"]=i;var r=n(20)},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:o["default"],controllerAs:"shipmentItemAttrCtrl",templateUrl:"shipment-item-attributes.html",bindings:{fromCountry:"<"+a+"FromCountry",toCountry:"<"+a+"ToCountry",shipmentTypeModel:"<"+a+"ShipmentTypeModel",addressDetailsModel:"<"+a+"AddressDetailsModel",otherChargesModel:"<"+a+"OtherChargesModel",isItemsVisible:"<"+a+"ItemsVisible",isDeclaredValueDisabled:"<"+a+"DeclaredValueDisabled"}})}i.$inject=["component"],t.__esModule=!0,t["default"]=i;var r=n(462),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfShipmentItemAttributes"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,i){return e.get(n+"/"+t+"/"+i).then(function(e){return e.data})}var n="/api/shipment/customsInvoice/purpose/details";return{getShippingPurposeDetails:t}}i.$inject=["$http"],t.__esModule=!0,t["default"]=i,i.NG_NAME="shipmentItemAttributesResource"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(i,r){var a=n.getEffectiveReasonsForExport(i),u=t.getShippingPurposeDetails(i,r);return e.all([a,u]).then(o)}function o(e){var t=e[0],n=e[1];return n.shipmentPurposeItemList.forEach(function(e){var n=t.find(function(t){return t.code.value.toLowerCase()===e.reasonForExport.toLowerCase()});e.description=n?n.description:e.reasonForExport}),n}function a(e){return!!e&&Object.keys(e).length>0}function u(e){return!a(e)||!e.invoiceType||!e.typeOfExport}function c(){return i.loadIndiaShippingPurpose()}function s(e,t){return e.getAvailableIndiaShippingPurposes(t)}return{getShippingPurposeList:r,isShippingPurposeSelected:a,shouldUpdateShippingPurpose:u,loadIndiaShippingPurpose:c,getAvailableIndiaShippingPurposes:s}}i.$inject=["$q","shipmentItemAttributesResource","reasonsForExportService","indiaFlowService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="shipmentItemAttributesFacade"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r){"ngInject";function o(r,o){r.isRestoredDataPopulated||((r.preloadedEnhancedInvoice||i.isExpertFlow()&&!o)&&r.setEnhancedInvoiceVisited(!0),e.mapEnhancedInvoiceDeclarations(r),t.setCustomsInvoiceData(r.customsInvoice,r.itemAttributes),r.preloadedEnhancedInvoice&&n.validateEnhancedInvoiceData().then(r.setEnhancedInvoiceCompletion),r.isRestoredDataPopulated=!0)}function u(n,i,r,o){var a=angular.copy(t.getCustomsInvoiceData(i.itemAttributes)),u=r.getShipmentCountry(),c=r.getDestinationCountry();return t.clearInvalidCommodityCodes(a.items,u,c).then(function(r){t.setCustomsInvoiceData(a,n.itemAttributes),m(n,i,o),n.itemAttributes.isCodesCleared=r,n.preloadedEnhancedInvoice&&(e.mapEnhancedInvoiceDeclarations(n),d(i,n,o),n.setEnhancedInvoiceVisited(!0))})}function s(e,n){n.itemAttributes.isItemAttributesApplied=!1,e.isEnhancedInvoiceVisited()?(f(n),n.setEnhancedInvoiceVisited(!0),n.setEnhancedInvoiceCompletion(!1)):t.resetModel(n.itemAttributes)}function l(e,n){angular.copy(n.enhancedInvoice,e.enhancedInvoice);var i=t.getCustomsInvoiceData(n.itemAttributes);t.setCustomsInvoiceData(i,e.itemAttributes)}function d(e,t,n){t.enhancedInvoice.prepopulated||(l(t,e),m(t,e,n),t.enhancedInvoice.prepopulated=!0)}function f(e){l(e,{enhancedInvoice:new a["default"],itemAttributes:new c["default"]})}function p(e,t,n){t.initDataPart(e.getDataPart()),m(t,e,n)}function m(e,t,n){var i=e.itemAttributes,o=r.getTotalValueOfGoods(t.itemAttributes.totalDeclaredValue,n);i.totalDeclaredValue=i.totalValueOfGoods=o}return{processCustomsInvoiceData:o,fillCustomsInvoiceWithMasterShipment:u,resetMasterShipmentCustomsInvoice:s,prepopulateShipmentFlowData:d,fillShipmentTypeModelWithMasterShipment:p}}r.$inject=["shipmentTypeService","itemAttributesService","enhancedInvoiceService","userService","declaredValueService"],t.__esModule=!0,t["default"]=r;var o=n(931),a=i(o),u=n(278),c=i(u);r.NG_NAME="customsInvoiceMapperService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(1900),u=i(a),c=n(1901),s=i(c),l=n(464),d=i(l),f=n(1902),p=i(f),m="shipment.type.masterReferenceNumber",_=angular.module(m,[o["default"]||"common.utils"]);_.directive(u["default"].NG_NAME,u["default"]).directive(s["default"].NG_NAME,s["default"]).service("masterReferenceNumberModel",d["default"]).service(p["default"].NG_NAME,p["default"]),t.module=_,t["default"]=m},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"<"+u+"Model",toCountry:"<"+u+"ToCountry",fromCountry:"<"+u+"FromCountry",isMasterShipment:"<"+u+"IsMasterShipment",totalDeclaredValue:"<"+u+"TotalDeclaredValue",totalDeclaredCurrency:"<"+u+"TotalDeclaredCurrency"},controller:r,controllerAs:"masterReferenceNumberCtrl",templateUrl:"master-reference-number.html"})}function r(e,t,n){"ngInject";function i(){e.all([r(),o()])["finally"](u)}function r(){return n.setMrnSectionGuiConfigs(y.model,y.fromCountry)}function o(){return n.setCustomsProcessTypes(y.model,y.fromCountry)}function u(){n.updateSectionVisibilityStatus(y.model),y.model.isSectionVisible&&(e.all([c(),s(),l(),d()])["finally"](p),f())}function c(){return n.setMrnMandatorityForPlt(y.model,y.fromCountry)}function s(){return n.setMrnMandatorityForDeclaredValue(y.model,y.fromCountry)}function l(){return n.setMrnCriticalPrice(y.model,y.fromCountry).then(M)}function d(){return y.isMasterShipment?n.setPltShipmentStatus(y.model,y.fromCountry,y.toCountry):e.when()}function f(){y.model.setMrnDetails()}function p(){n.setCumulatedMandatority(y.model,y.totalDeclaredValue)}function m(){y.model.addAnotherMrnRow()}function _(e){y.model.removeMrnRow(e)}function E(){return y.model.mrnRows.length>a["default"].MIN}function S(){return y.model.adminConfigs}function g(){return y.model.isMandatory}function C(){return S().isCriticalPriceDefined}function A(){return y.model.mrnRows.length<a["default"].MAX}function h(){return S().criticalPrice}function I(e){y.fromCountry&&y.toCountry&&y.totalDeclaredValue&&(v(e),T(e))}function v(e){if(e.totalDeclaredValue){var t={amount:y.totalDeclaredValue,sourceCurrency:y.totalDeclaredCurrency,targetCurrency:h().currency||y.totalDeclaredCurrency};n.convertToCurrencyValue(t).then(N).then(p)}}function N(e){y.totalDeclaredValue=+e}function T(e){var t=e.fromCountry,n=e.toCountry;(t||n)&&d().then(p)}function M(){var e=h(),n=e.value,i=e.currency;y.criticalPriceParameters={mrnPriceValue:t("number")(n),mrnPriceCurrency:i}}var y=this;Object.assign(y,{$onInit:i,$onChanges:I,isRemoveRowButtonVisible:E,isMrnMandatory:g,isCriticalPriceDefined:C,isAddAnotherRowButtonVisible:A,addAnotherRow:m,removeRow:_})}i.$inject=["component"],r.$inject=["$q","$filter","masterReferenceNumberService"],t.__esModule=!0,t["default"]=i,t.MasterReferenceNumberController=r;var o=n(932),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfMasterReferenceNumber"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{rowModel:"="+o,customsProcessTypes:"<"+o+"CustomsProcessTypes",isMandatory:"<"+o+"IsMandatory",isRemoveButtonVisible:"<"+o+"IsRemoveButtonVisible",removeRow:"<"+o+"RemoveRow"},templateUrl:"master-reference-number-row.html",controller:r,controllerAs:"masterReferenceNumberRowCtrl"})}function r(){function e(){return t.isMandatory||!!t.rowModel.value}var t=this;Object.assign(t,{isCustomsProcessRequired:e})}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.MasterReferenceNumberRowController=r;var o=i.NG_NAME="ewfMasterReferenceNumberRow"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(t,n){return e.getFormField(e.CI_KEYS.CIF0333_MASTER_REFERENCE_NUMBER,n).then(function(e){var n=e.visible,i=e.mandatory;t.adminConfigs.isVisible=n,t.adminConfigs.isMandatory=i})}function o(t,n){return e.getValue(e.CI_KEYS.CI1354_MRN_CUSTOMS_PROCEDURES_SCENARIOS,n).then(function(e){var n=a(e);c(n,t),t.adminConfigs.customsProcessTypes=n})}function a(e){return u(e).filter(function(e){return e.enabled})}function u(e){return e&&e.data&&e.data.value||[]}function c(e,t){var n=e.find(function(e){return e.isDefault});t.defaultCustomsProcessTypeValue=n&&n.type.value||""}function s(e){var t=e.adminConfigs,n=t.isVisible,i=t.customsProcessTypes;e.isSectionVisible=n&&i.length>0}function l(e,n,i){return t.isPltAllowed(n).then(function(e){return e&&m(n,i)}).then(function(t){return e.isPltShipment=t})}function d(t,n){return e.getBoolean(e.CI_KEYS.CI1351_MRN_IS_MANDATORY_FOR_PLT,n).then(function(e){return t.adminConfigs.isMandatoryForPlt=e})}function f(t,n){return e.getBoolean(e.CI_KEYS.CI1352_APPLY_MRN_MANDATORY_RULE_FOR_DECLARED_VALUE,n).then(function(e){return t.adminConfigs.isMandatorityAppliedForDeclaredValue=e})}function p(t,n){var i={value:null,currency:""};return e.getFormField(e.CI_KEYS.CI1353_DEFINED_DECLARED_VALUE_FOR_MRN,n).then(function(){var e=arguments.length<=0||arguments[0]===undefined?i:arguments[0];t.adminConfigs.isCriticalPriceDefined=!!e.value,Object.assign(t.adminConfigs.criticalPrice,e)})}function m(e,n){return t.requestIncompleteStatus(e,n).then(function(e){var t=e.enrolled,n=e.enabled,i=e.enabledForFromCountry;return t&&n&&i})}function _(e,t){e.isMandatory=e.isSectionVisible&&E(e,t)}function E(e,t){var n=e.isPltShipment,i=e.adminConfigs,r=i.isMandatory,o=i.isMandatoryForPlt,a=i.isMandatorityAppliedForDeclaredValue,u=i.isCriticalPriceDefined,c=!a||S(e,t);return r?c:!!o&&(n&&(c||!u))}function S(e,t){return t>=e.adminConfigs.criticalPrice.value}function g(e){return I||(I=i.debounce(n.processCurrencyConversion,h)),I(e)}function C(){return n.isShipmentEditMode()}function A(){return n.isReturnLabelPage()}var h=400,I=void 0;return{setMrnSectionGuiConfigs:r,setCustomsProcessTypes:o,updateSectionVisibilityStatus:s,setPltShipmentStatus:l,setMrnMandatorityForPlt:d,setMrnMandatorityForDeclaredValue:f,setMrnCriticalPrice:p,setCumulatedMandatority:_,convertToCurrencyValue:g,isShipmentEditMode:C,isReturnLabelPage:A}}i.$inject=["configService","customsInvoiceEnrollmentResource","shipmentTypeService","debounceService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="masterReferenceNumberService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"components/shipment/type/declared-value.html",controller:r,controllerAs:"declaredValueCtrl",bindings:{itemAttributesModel:"<"+o,otherChargesModel:"<?"+o+"OtherChargesModel",enhancedInvoiceAvailable:"<"+o+"EnhancedInvoice",shipmentType:"<"+o+"ShipmentType",fromCountry:"<"+o+"FromCountry",toCountry:"<"+o+"ToCountry",isDutiable:"<"+o+"IsDutiable",isVisible:"<"+o+"IsVisible",isLabelHidden:"<?"+o+"IsLabelHidden",contactKeys:"<"+o+"ContactKeys",mailingListContacts:"<?"+o+"MailingListContacts",isDisabled:"<?"+o+"IsDisabled",isReturnShipmentSection:"<?"+o+"IsReturnShipmentSection",isInputWidthAverage:"@?"+o+"IsInputWidthAverage"}})}function r(e,t,n,i,r,o,a){"ngInject";function u(){if(t.initTotalValueOfGoods(N.itemAttributesModel,N.otherChargesModel),!e.isAuthorized())return void _();r.getCustomsClearance().then(function(e){a.onShipmentValueLoaded(e,N.itemAttributesModel,N.otherChargesModel,N.enhancedInvoiceAvailable),c(),_()})}function c(){N.isReturnShipmentSection&&!o.isRestoredShipment()&&p()}function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(angular.isDefined)}function l(e){var t=e.fromCountry,n=e.toCountry,i=e.shipmentType,r=e.isDutiable;s(i,t,n,r)&&C(),s(i,t,r)&&(N.itemAttributesModel.isDeclaredValueRequired=A()),s(t,n)&&f()}function d(){var e=T.currentCurrency,t=N.itemAttributesModel.currentCurrency;T.currentCurrency=t,e!==t&&(h(e),I())}function f(){S().then(function(){g(),p(),m()})}function p(){N.itemAttributesModel.currenciesList.includes(N.itemAttributesModel.currentCurrency)||E()}function m(){N.itemAttributesModel.totalDeclaredValue||E()}function _(){T.currentCurrency=N.itemAttributesModel.currentCurrency}function E(){N.itemAttributesModel.currentCurrency=N.itemAttributesModel.defaultCurrency,N.itemAttributesModel.totalDeclaredValue=null,N.itemAttributesModel.totalValueOfGoods=null}function S(){return i.getCurrencies(N.fromCountry,N.toCountry,N.contactKeys).then(function(e){var t=e.declared,n=t===undefined?{}:t;N.itemAttributesModel.defaultCurrency=n.defaultDeclaredCurrency,N.itemAttributesModel.currenciesList=n.declaredCurrencies||[]})}function g(){var i=n.isShipmentDomestic(N.fromCountry,N.toCountry,N.mailingListContacts),r=e.hasDhlAccounts();return t.getDeclaredValueRestrictions(N.fromCountry,i,r).then(function(e){N.itemAttributesModel.declaredRestrictions=e,I()})}function C(){var e=n.isShipmentDomestic(N.fromCountry,N.toCountry,N.mailingListContacts);return t.getDeclaredValueVisibility(N.shipmentType,N.fromCountry,e,N.isDutiable).then(function(e){N.itemAttributesModel.isDeclaredValueVisible=e})}function A(){var e=i.isShipmentTypePackage(N.shipmentType);return Boolean(e&&(N.isDutiable||n.isShipmentFromBrazil(N.fromCountry)))}function h(e){if(N.itemAttributesModel.totalValueOfGoods&&N.itemAttributesModel.currentCurrency&&e){var n={amount:N.itemAttributesModel.totalValueOfGoods,sourceCurrency:e,targetCurrency:N.itemAttributesModel.currentCurrency};i.processCurrencyConversion(n).then(function(e){N.itemAttributesModel.totalValueOfGoods=Number(e)});var r=N.itemAttributesModel.currentCurrency;t.convertOtherCharges(N.otherChargesModel,e,r)}}function I(){if(N.itemAttributesModel.declaredRestrictions&&N.itemAttributesModel.currentCurrency)if(N.itemAttributesModel.declaredRestrictions.currency===N.itemAttributesModel.currentCurrency)N.itemAttributesModel.maxDeclaredValue=N.itemAttributesModel.declaredRestrictions.value;else{var e={amount:N.itemAttributesModel.declaredRestrictions.value,sourceCurrency:N.itemAttributesModel.declaredRestrictions.currency,targetCurrency:N.itemAttributesModel.currentCurrency};i.processCurrencyConversion(e).then(function(e){N.itemAttributesModel.maxDeclaredValue=Number(e)})}}function v(){N.isVisible&&t.handleChargesAndDeclaredValue(N.itemAttributesModel,N.otherChargesModel)}var N=this,T={};Object.assign(N,{$onInit:u,$onChanges:l,$doCheck:v,onCurrencyChange:d,isShipmentTypePackage:function(){function e(){return i.isShipmentTypePackage(N.shipmentType)}return e}()})}i.$inject=["component"],r.$inject=["userService","declaredValueService","shipmentAddressService","shipmentTypeService","profileShipmentService","shipmentFlowService","declaredValueDefaultsService"],t.__esModule=!0,t["default"]=i,t.DeclaredValueController=r;var o=i.NG_NAME="ewfDeclaredValue"},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function a(e){var t=!(arguments.length<=1||arguments[1]===undefined)&&arguments[1],i=arguments.length<=2||arguments[2]===undefined||arguments[2],r=n.CI_KEYS.CI1262_MAXIMUM_DECLARED_VALUE_FOR_NON_ACCOUNT_USERS;return i?u(e,t):n.getFormField(r,e).then(function(n){return angular.isUndefined(n)?u(e,t):n})}function u(e,t){var i=t?n.CI_KEYS.CI0462_MAXIMUM_DOMESTIC_DECLARED_VALUE_FOR_SHIPMENT:n.CI_KEYS.CI0460_MAXIMUM_DECLARED_VALUE_FOR_SHIPMENT;return n.getFormField(i,e)}function c(t){var i=[n.getFormField(n.CI_KEYS.CI1263_MAXIMUM_DECLARED_VALUE_FOR_SERVICE_POINT_SELF_SERVICE,t),n.getFormField(n.CI_KEYS.CI0460_MAXIMUM_DECLARED_VALUE_FOR_SHIPMENT,t)];return e.all(i).then(function(e){var t=e[0],n=e[1];return t||n})}function s(e,t){var i=!(arguments.length<=2||arguments[2]===undefined)&&arguments[2],r=arguments[3],o=n.CI_KEYS.CI0074_HIDE_INSURANCE_DECLARED_VALUE_FOR_DOCUMENT_SHIPMENTS;return n.getSourceData(o,t).then(function(t){return p(t,e,i,r)})}function l(e,t){var i=!(arguments.length<=2||arguments[2]===undefined)&&arguments[2],r=arguments[3],o=n.CI_KEYS.CI0074_HIDE_INSURANCE_DECLARED_VALUE_FOR_DOCUMENT_SHIPMENTS;return n.getSourceData(o,t).then(function(t){return m(t,e,i,r)})}function d(e){var t=n.CI_KEYS.CI0074_HIDE_INSURANCE_DECLARED_VALUE_FOR_DOCUMENT_SHIPMENTS,r=e.fromCustomer.address.countryCode,a=e.toCustomer.address.countryCode,u=i.isShipmentDomestic(r,a);return n.getSourceData(t,r).then(function(e){return p(e,o["default"].DOCUMENT,u)})}function f(e,t,n){return e===M.HIDE_DECLARED_AND_INSURANCE_FOR_DOMESTIC_SHIPMENTS?_(t,n):undefined}function p(e,n){var i=!(arguments.length<=2||arguments[2]===undefined)&&arguments[2],r=arguments[3];if(t.isShipmentTypeDocument(n))return!1;var o=f(e,i,r);return angular.isUndefined(o)||o}function m(e,n){var i,r=!(arguments.length<=2||arguments[2]===undefined)&&arguments[2],o=arguments[3],a=f(e,r,o);if(angular.isDefined(a))return a;var u=t.isShipmentTypePackage(n),c=_(r,o),s=(i={},i[M.HIDE_DECLARED_FOR_DOCUMENT_AND_DOMESTIC_SHIPMENTS]=u&&c,i[M.HIDE_DECLARED_FOR_DOCUMENT_SHIPMENTS]=u,i[M.HIDE_DECLARED_FOR_DOMESTIC_SHIPMENTS]=c,i),l=s[e];return angular.isUndefined(l)||l}function _(e,t){return!e||t}function E(e){return t.getCurrencies(e.getShipmentCountry(),e.getDestinationCountry(),e.getContactsKeys())}function S(e){var t=e.addressDetailsModel,n=e.itemAttributesModel,i=e.originalItemAttributes,r=e.isUsingOwnCustomsInvoice,o=i.totalDeclaredValue,a=i.currentCurrency;return E(t).then(function(e){var t=e.declared,i=t.declaredCurrencies,u=i===undefined?[]:i,c=t.defaultDeclaredCurrency,s=!!o,l=u.includes(a),d=s&&l;n.isDeclaredCurrencyOptionIncorrect=s&&!l,n.isDeclaredValueOptionApplied=s&&l,n.currentCurrency=d?a:c,n.currenciesList=[].concat(u),n.totalDeclaredValue=d?Number(n.totalDeclaredValue||o):null,r&&g(n)})}function g(e){var t=e.productList,n=t[0];n&&(n.value=e.totalDeclaredValue)}function C(e,t,n){var i=n.insuranceCurrency,r=n.insuranceValue;return E(e).then(function(e){var n=e.insured,o=n.currencies,a=o===undefined?[]:o,u=n.defaultCurrency,c=t.insuranceCurrency||i,s=t.insuranceValue||r,l=!!s,d=a.includes(c);Object.assign(t,{insuranceValueCannotBeCopied:l&&!d,insuranceValueApplied:l&&d,insuranceCurrency:d?c:u,insuranceValue:l&&d?s:null})})}function A(t,n,r,o){var a=t.getShipmentCountry(),u=t.getDestinationCountry(),c=o.getShipmentCountry(),l=o.getDestinationCountry(),d=r.shipmentType,f=r.insureShipment;return e.all([s(d,c,i.isShipmentDomestic(c,l),n.isDutiable),s(d,a,i.isShipmentDomestic(a,u),n.isDutiable)]).then(function(t){var i=t[0],r=t[1];return n.isInsuranceAvailable=n.insureShipment=i&&f&&r,n.isInsuranceAvailable?e.when():e.reject()}).then(function(){return C(t,n,r)})}function h(e){return r.calculateSum(e)}function I(e,t){if(!t)return e;var n=r.calculateSum(t.getValues()),i=e-n;return r.getResultWithPrecision(i,[e,n])}function v(e,n,i){e&&e.charges.forEach(function(e){var r={amount:e.value,sourceCurrency:n,targetCurrency:i};t.processCurrencyConversion(r).then(function(t){e.value=Number(t)})})}function N(e,t){var n=t?t.getValues():[],i=[e.totalValueOfGoods].concat(n);e.totalDeclaredValue=h(i)}function T(e,t){var n=e.totalDeclaredValue;!e.totalValueOfGoods&&n&&(e.totalValueOfGoods=I(n,t))}var M={NONE:"none",HIDE_DECLARED_AND_INSURANCE_FOR_DOMESTIC_SHIPMENTS:"hideDeclaredAndInsuranceForDomesticShipments",HIDE_DECLARED_FOR_DOCUMENT_SHIPMENTS:"hideDeclaredForDocumentShipments",HIDE_DECLARED_FOR_DOMESTIC_SHIPMENTS:"hideDeclaredForDomesticShipments",HIDE_DECLARED_FOR_DOCUMENT_AND_DOMESTIC_SHIPMENTS:"hideDeclaredForDocumentAndDomesticShipments"};return{getDeclaredValueRestrictions:a,getInsuranceVisibility:s,getDocumentInsuranceVisibility:d,getDeclaredValueVisibility:l,applyDeclaredValue:S,checkIfInsuranceCanBeApplied:A,getSsbTotalDeclaredValueRestrictions:c,calculateTotalDeclaredValue:h,getTotalValueOfGoods:I,convertOtherCharges:v,handleChargesAndDeclaredValue:N,initTotalValueOfGoods:T}}i.$inject=["$q","shipmentTypeService","configService","shipmentAddressService","calculationService"],t.__esModule=!0,t["default"]=i;var r=n(7),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="declaredValueService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t,o,a){var u=e.shipmentValue,c=e.selectedCurrency;u&&(n(t,o,u),i(a,t)||r(t,c))}function n(t,n,i){var r=t.totalDeclaredValue||i;t.totalValueOfGoods=e.getTotalValueOfGoods(r,n)}function i(e,t){return e||t.totalDeclaredValue}function r(e,t){e.currentCurrency=e.currenciesList.includes(t)?t:e.defaultCurrency}return{onShipmentValueLoaded:t}}i.$inject=["declaredValueService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="declaredValueDefaultsService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t,n){var r=[i(n),o(t)];return e.all(r).then(function(e){var t=e[0],n=e[1];return t&&!n})}function i(e){return r().then(function(t){return t.some(function(t){return t.value===e})})}function r(e){return t.getSourceData(t.CI_KEYS.CI0964_DEFINE_OFAC_COUNTRY_LIST,e)}function o(e){return t.getBoolean(t.CI_KEYS.CI0970_SHIPPER_ALLOW_OFAC,e)}return{isShipmentRestrictedByOfac:n,isCountryOFAC:i,isCountryAllowedToShipToOfacCountries:o}}i.$inject=["$q","configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="ofacService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({controller:o,controllerAs:"customsInvoiceTemplateFormCtrl",templateUrl:"components/profile/customs-invoice-templates/customs-invoice-template-form.html",bindings:{templateKey:"<"+f+"Key",onAdd:"&"+f+"OnAdd",onEdit:"&"+f+"OnEdit",onEditCancel:"&"+f+"OnEditCancel"}})}function o(e,t,n,i,r,o,a){"ngInject";function c(){i.getSourceData(i.CI_KEYS.CI0128_INVOICE_TYPES).then(function(e){I.invoiceTypes=o.addInvoiceTypeTranslations(e),v=(e.find(function(e){return e.defaultType})||{}).type,I.template.invoiceType=I.template.invoiceType||v&&v.value})}function l(e){var t=e.templateKey;f(),t&&E()}function f(){I.itemAttributesModel||(I.itemAttributesModel=new u["default"],I.otherChargesModel=new s["default"],Object.assign(I.template,p()))}function p(){var e={templateItems:{items:[]},terms:{},references:{},declaration:{},paymentOptions:[{value:d["default"].ALTERNATE,label:a.SHIPMENT_CUSTOMS_INVOICE.TERMS_SELECT_OPTION_ALTERNATE_ACCOUNT},{value:d["default"].CREDIT_CARD,label:a.SHIPMENT_CUSTOMS_INVOICE.TERMS_SELECT_OPTION_CREDIT_CARD}],name:""};return v&&(e.invoiceType=v.value),e}function m(e,t){_(e,t),I.onEditCancel()}function _(e,n){I.template=p(),t(function(){e.cleanAllFieldErrors(),e.cleanFormErrors(),n.$setPristine()})}function E(){if(I.isEditMode=!1,!I.templateKey)return S(),void I.otherChargesModel.resetCharges();I.isEditMode=!0;var t=[o.getCustomsInvoiceTemplate(I.templateKey),n.loadAvailableLocations()];e.all(t).then(function(e){var t=e[0],n=e[1];Object.assign(I.template,t),h(t.invoiceType),g(n),A(),C(t)})}function S(){r.resetProductList(I.itemAttributesModel),I.template.templateItems.items=I.itemAttributesModel.productList}function g(e){var t=I.template.templateItems.items;t&&t.length?(I.itemAttributesModel.productList.length=0,t.forEach(function(t,n){r.addItemAttributesRow(I.itemAttributesModel);var i=I.itemAttributesModel.productList[n],o=e.find(function(e){return e.code2===t.countryCode});t.countryName=o?o.name:"",(t.referenceNumber||t.referenceTypeCode)&&(t.isAddItemReference=!0),Object.assign(i,t)})):S(),I.template.templateItems.items=I.itemAttributesModel.productList,r.setWeightUnits(I.itemAttributesModel,I.template.templateItems.weightUnits||I.itemAttributesModel.weightUnits),I.itemAttributesModel.currentCurrency=I.template.templateItems.currencyCode||I.itemAttributesModel.currentCurrency}function C(e){I.otherChargesModel.charges=e.otherCharges}function A(){var e=I.template.declaration;if(e){var t=e.companyLogo;I.template.declaration.companyLogos=t?[t]:null}}function h(e){I.invoiceTypes.forEach(function(t){t.defaultType=t.type.value===e})}var I=this,v=void 0;Object.assign(I,{isEditMode:!1,template:{},invoiceTypes:[],$onInit:c,$onChanges:l,cancelForm:m,resetForm:_,setInvoiceSelected:h})}r.$inject=["component"],o.$inject=["$q","$timeout","locationService","configService","itemAttributesService","customsInvoiceTemplatesService","Messages"],t.__esModule=!0,t["default"]=r,t.CustomsInvoiceTemplateFormController=o;var a=n(278),u=i(a),c=n(401),s=i(c),l=n(279),d=i(l),f=r.NG_NAME="ewfCustomsInvoiceTemplateForm"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"customsInvoiceTemplatesCtrl",templateUrl:"profile/shipment-settings/customs-invoice-templates-forms.html"})}function r(e,t){"ngInject";function n(){N.columnsToDisplay=a(),N.gridActions=E(),i()}function i(){e.loadTypesOfExport().then(function(n){N.searchConfiguration={categories:u(),placeholder:t.CUSTOMS_CLEARANCE_SETTINGS.CUSTOMS_INVOICE_TEMPLATES_FIELD_PLACEHOLDER_SEARCH,onSearch:r,onSelect:l,urlPrefix:T,errorMessage:t.CUSTOMS_CLEARANCE_SETTINGS.CUSTOMS_INVOICE_TEMPLATES_PARAGRAPH_SEARCH_NO_RESULTS,suggestions:e.getPreparedSuggestions(n),paginationEnabled:!0},I()})}function r(t){var n=t.results;N.gridData=e.mapInvoiceTypes(n)}function a(){return[{alias:"name",msgsTitle:t.CUSTOMS_CLEARANCE_SETTINGS.CUSTOMS_INVOICE_TEMPLATES_COL_NAME_INVOICE_NAME,defaultSort:!0},{alias:"invoiceType",msgsTitle:t.CUSTOMS_CLEARANCE_SETTINGS.CUSTOMS_INVOICE_TEMPLATES_COL_NAME_INVOICE_TYPE},{alias:"exportType",msgsTitle:t.CUSTOMS_CLEARANCE_SETTINGS.CUSTOMS_INVOICE_TEMPLATES_COL_NAME_INVOICE_EXPORT_TYPE}]}function u(){return[{key:"invoiceName",name:t.CUSTOMS_CLEARANCE_SETTINGS.CUSTOMS_INVOICE_TEMPLATES_SELECT_OPTION_INVOICE_NAME},{key:"invoiceType",name:t.CUSTOMS_CLEARANCE_SETTINGS.CUSTOMS_INVOICE_TEMPLATES_SELECT_OPTION_INVOICE_TYPE},{key:"exportType",name:t.CUSTOMS_CLEARANCE_SETTINGS.CUSTOMS_INVOICE_TEMPLATES_SELECT_OPTION_INVOICE_EXPORT_TYPE}]}function c(){return M}function s(e){var t=arguments.length<=1||arguments[1]===undefined?"":arguments[1];N.gridActionStatus[e]=!0,N.notificationData=t}function l(e){N.templateKey=e,M=!0}function d(){l("")}function f(){_(),I(),s("updated")}function p(){_(),I(),s("created")}function m(){_()}function _(){M=!1,N.templateKey=null}function E(){return{edit:{handler:l},"delete":{handler:S}}}function S(e){C([e])}function g(){C(e.filterSelectedCustomsInvoiceTemplatesKeys(N.gridData))}function C(t){e.deleteCustomsInvoiceTemplates(t).then(A)["catch"](h)}function A(e){N.gridData=N.gridData.filter(function(t){var n=t.key;return!e.includes(n)}),s("deleted",e.length)}function h(e){e&&s("rejected")}function I(){e.getCustomsInvoiceTemplates(N.currentPage).then(function(e){var t=e.results,n=e.totalItems;N.gridData=t,N.totalInvoiceTemplatesRecords=n})}function v(){return!e.hasSelectedCustomsInvoiceTemplates(N.gridData)}var N=this,T="/api/myprofile/customs/invoices",M=!1;Object.assign(N,{gridData:[],columnsToDisplay:[],paginationRangeOptions:{top:{hidePageRange:!0},bottom:!0},currentPage:{pageIndex:0,pageSize:o.MIN_PAGE_SIZE},gridActionStatus:{},notificationData:"",$onInit:n,isEditMode:c,addTemplate:d,editTemplate:l,onEdit:f,onAdd:p,onCancel:m,disableBulkDeleteButton:v,bulkDeleteCustomsInvoiceTemplates:g,rebuildGrid:I})}i.$inject=["component"],r.$inject=["customsInvoiceTemplatesService","Messages"],t.__esModule=!0,t["default"]=i,t.CustomsInvoiceTemplatesController=r;var o=n(20);i.NG_NAME="ewfCustomsInvoiceTemplates"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"customsInvoiceTemplateFormActionsCtrl",templateUrl:"components/profile/customs-invoice-templates/customs-invoice-template-form-actions.html",bindings:{isEditMode:"<"+o+"EditMode",itemAttributesModel:"<"+o+"ItemAttributesModel",otherChargesModel:"<"+o+"OtherChargesModel",template:"<"+o+"Template",onAdd:"&"+o+"OnAdd",onEdit:"&"+o+"OnEdit",cancelForm:"&"+o+"CancelForm",resetForm:"&"+o+"ResetForm"},require:{ewfFormCtrl:"^ewfForm"}})}function r(e,t){"ngInject";function n(){return r(function(t){return e.saveCustomsInvoiceTemplate(t)},a.onAdd)}function i(){return r(function(t){return e.updateCustomsInvoiceTemplate(t)},a.onEdit)}function r(e){var t=arguments.length<=1||arguments[1]===undefined?angular.noop:arguments[1];return o(),e(a.template).then(function(){a.resetForm(),t()})["catch"](function(e){var t=e.data,n={errors:["errors.common_msg_server-error"]};a.ewfFormCtrl.setErrorsFromResponse(t||n)})}function o(){t.setWeightUnits(a.itemAttributesModel,a.itemAttributesModel.weightUnits),a.template.numberOfPallets=a.itemAttributesModel.numberOfPallets,Object.assign(a.template.templateItems,{items:a.template.templateItems.items||[],currencyCode:a.itemAttributesModel.currentCurrency,totalDeclaredValue:a.itemAttributesModel.totalDeclaredValue,weightUnits:a.itemAttributesModel.weightUnits}),a.template.otherCharges=a.otherChargesModel.charges}var a=this;Object.assign(a,{saveInvoiceTemplate:n,updateInvoiceTemplate:i})}i.$inject=["component"],r.$inject=["customsInvoiceTemplatesService","itemAttributesService"],t.__esModule=!0,t["default"]=i,t.CustomsInvoiceTemplateFormActionsController=r;var o=i.NG_NAME="ewfCustomsInvoiceTemplateFormActions"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"userProfileItemAttrCtrl",templateUrl:"components/customs-invoice/customs-invoice-component.html",bindings:{itemAttributesModel:"<"+o,otherChargesModel:"<"+o+"OtherChargesModel",template:"<"+o+"Template"}})}function r(e,t,n){"ngInject";function i(){o.itemAttributesModel.isUnitsMismatched=!1;var t=e.getCountryLang().countryAlpha2Code;o.itemAttributesModel.userProfileCountry=t,r()}function r(){t.getDefaultSomAndCurrency().then(function(e){var t=e.som,i=e.somList,r=e.defaultCurrencyList,a=e.defaultCurrency;o.itemAttributesModel.shipperCountrySom=t,o.itemAttributesModel.hasUnitsList=i&&i.length>1,o.itemAttributesModel.somList=i.map(function(e){return e.key}),n.setWeightUnits(o.itemAttributesModel,o.itemAttributesModel.weightUnits),o.itemAttributesModel.currenciesList=r;var u=r.find(function(e){return e===a})||r[0];o.itemAttributesModel.defaultCurrency=u,o.itemAttributesModel.currentCurrency=u})}var o=this;Object.assign(o,{$onInit:i})}i.$inject=["component"],r.$inject=["pathService","profileShipmentService","itemAttributesService"],t.__esModule=!0,t["default"]=i,t.UserProfileItemAttributesController=r;var o=i.NG_NAME="ewfUserProfileItemAttributes"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){"ngInject";function t(e){return new i(e)}var n=["key","fromCountry","toCountry"].concat(s["default"],[{key:"templateItems",propertyMap:["totalDeclaredValue","currencyCode","weightUnits",{key:"items",propertyMap:u["default"]}]},{key:"otherCharges",propertyMap:["id"].concat(d["default"])}]),i=function(){function t(i){r(this,t),Object.assign(this,e.map(i,n))}return t}();return{create:t}}o.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=o;var a=n(910),u=i(a),c=n(912),s=i(c),l=n(913),d=i(l);o.NG_NAME="customsInvoiceTemplatesFactory"},function(e,t,n){"use strict";function i(e,t,n,i,r,a){"ngInject";function u(t){var n=t.pageIndex,i=t.pageSize,r=O+"/search/default/all?keyword=&",o=a.encodeParams({pageNumber:n,pageSize:i});return e.get(""+r+o).then(T)}function c(t){return e.post(O+"/delete",t).then(T)}function s(t){return e.get(O+"/"+t).then(T)}function l(t,n){var i=t.pageIndex,r=t.pageSize,o={pageNumber:i,pageSize:r,isCsbvShipment:n};return e.get(O,{params:o}).then(T)}function d(e){return u(e).then(function(e){var t=e.results,n=e.totalItems;return{results:S(t),totalItems:n}})}function f(e){var t=e.declaration,n=t.companyLogos;n&&n.length&&(t.companyLogo=n[0])}function p(e){var t=e.templateItems;t&&t.items.forEach(function(e){e.isAddItemReference||(e.referenceNumber=null,e.referenceTypeCode=null)})}function m(t,i){f(i),p(i);var r=n.create(i);return e[t](O,r)}function _(e){return m("post",e)}function E(e){return m("put",e)}function S(e){var t=C();return e.forEach(function(e){var n=e.invoiceType;e.invoiceType=t[n]||n}),e}function g(e){return S(e.map(function(e){return Object.assign(e,{invoiceType:e.type.value})}))}function C(){var e;return e={},e[o["default"].COMMERCIAL]=i.CUSTOMS_CLEARANCE_SETTINGS.CUSTOMS_INVOICE_TEMPLATES_BUTTON_COMMERCIAL_INVOICE,e[o["default"].PRO_FORMA]=i.CUSTOMS_CLEARANCE_SETTINGS.CUSTOMS_INVOICE_TEMPLATES_BUTTON_PROFORMA_INVOICE,e}function A(e){var n=e>1?i.CUSTOMS_CLEARANCE_SETTINGS.CUSTOMS_INVOICE_TEMPLATES_PARAGRAPH_WANT_TO_DELETE:i.COMMON.COMMON_MSG_DELETE_ONE_ITEM,r=e>1?i.COMMON.COMMON_HEADER_CONFIRM_MULTIPLE_DELETION:i.COMMON.COMMON_HEADER_CONFIRM_SINGLE_DELETION;return t.showConfirmationDialog({message:n,title:r,okButtonLabel:i.COMMON.COMMON_BUTTON_YES,cancelButtonLabel:i.COMMON.COMMON_BUTTON_NO})}function h(e){return A(e.length).then(function(){return c({invoiceTemplatesKeys:e})})}function I(e){return e.filter(N).map(function(e){return e.key})}function v(e){return e.some(N)}function N(e){return e.isSelected}function T(e){return e.data}function M(e){var t=[{code:"P",value:i.CUSTOMS_CLEARANCE_SETTINGS.CUSTOMS_INVOICE_TEMPLATES_BUTTON_PROFORMA_INVOICE},{code:"C",value:i.CUSTOMS_CLEARANCE_SETTINGS.CUSTOMS_INVOICE_TEMPLATES_BUTTON_COMMERCIAL_INVOICE}],n=e.map(function(e){return{code:e.code,value:e.name.value}});return{invoiceType:t,exportType:n,all:[].concat(t,n)}}function y(e){return r.getValue(r.CI_KEYS.CI0735_TYPES_OF_EXPORT,e).then(function(e){return e.data.value})}var O="/api/myprofile/customs/invoices";return{addInvoiceTypeTranslations:g,mapInvoiceTypes:S,getCustomsInvoiceTemplate:s,getCustomsInvoiceTemplateList:l,getCustomsInvoiceTemplates:d,saveCustomsInvoiceTemplate:_,updateCustomsInvoiceTemplate:E,deleteCustomsInvoiceTemplates:h,hasSelectedCustomsInvoiceTemplates:v,filterSelectedCustomsInvoiceTemplatesKeys:I,getPreparedSuggestions:M,loadTypesOfExport:y}}i.$inject=["$http","modalService","customsInvoiceTemplatesFactory","Messages","configService","queryParamsService"],t.__esModule=!0,t["default"]=i;var r=n(463),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="customsInvoiceTemplatesService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"print-preview.html",controller:r,controllerAs:"previewCtrl",bindings:{previewAttrs:"<"+u,shipmentId:"<?"+u+"ShipmentId",shipmentPaymentType:"<?"+u+"ShipmentPaymentType",metadataInitialized:"<"+u+"MetadataInitialized",allowPltDocs:"<?"+u+"AllowPltDocs",primaryDocumentsOnly:"<?"+u+"PrimaryDocumentsOnly",hideWaybill:"<?"+u+"HideWaybill"}})}function r(e,t,n,i,r,u){"ngInject";function c(){var e=U.previewAttrs.model;e&&e.previewModel&&(e.previewModel.metadataInitialized=U.metadataInitialized)}function s(e){var t=e.shipmentId,n=e.metadataInitialized;g(t),n&&U.metadataInitialized&&!F&&(S(),U.waybillChecked=y()||O(),l())}function l(){F=!0,c(),G().then(k),E()&&!b()&&d()}function d(){(E()||b())&&r.getSourceData(r.CI_KEYS.CI1117_GLOBAL_COLLECT_DEFAULT_LANG_FOR_VAT_RECEIPT,m()).then(f)}function f(t){if(b())return void(U.previewAttrs.model.previewModel.receiptDocument.language=t);U.additionalDocumentLanguages[o.DOCUMENT_TYPES.VAT_RECEIPT]=t,e.$watch(function(){return U.additionalDocumentLanguages[o.DOCUMENT_TYPES.VAT_RECEIPT]},_)}function p(e){var t=e.hasLanguageOptions,n=e.documentType;return!(!U.additionalDocumentLanguages[n]||!t)}function m(){return i.getUserCountry()}function _(e){E().language=e}function E(){var e=U.previewAttrs.model.additionalDocuments;return(e===undefined?[]:e).find(function(e){return e.documentType===o.DOCUMENT_TYPES.VAT_RECEIPT})}function S(){var e=U.previewAttrs.model.previewModel;[e.archiveDocument,e.receiptDocument,e.invoiceDocument,e.csbvInvoiceDocument].filter(Boolean).forEach(function(e){return e.minNumberOfCopies=e.numberOfCopies})}function g(e){if(e&&U.shipmentId){var t={allowPltDocs:U.allowPltDocs,primaryDocumentsOnly:U.primaryDocumentsOnly};Object.assign(U.previewAttrs.model,n.getModels(U.shipmentId,U.previewAttrs.params.defaults,m(),t))}}function C(){var e=U.hideWaybill?["archiveDocument"]:["waybillDocument","archiveDocument"];v.apply(undefined,[t.showLabel].concat(e))}function A(){v(t.showReceipt,"receiptDocument")}function h(){v(t.showInvoice,"invoiceDocument")}function I(){v(t.showCsbvInvoice,"csbvInvoiceDocument")}function v(e){if(U.shipmentId){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e(n.map(function(e){return U.previewAttrs.model.previewModel[e]}),U.shipmentId)}}function N(e){return!(!e||!e.checked&&!U.previewAttrs.params.showCheckbox)}function T(e){return U.previewAttrs.params.showNumberOfCopies&&e.checked}function M(){var e=U.previewAttrs.model.previewModel;return T(e.waybillDocument)&&!!e.archiveDocument}function y(){var e=U.previewAttrs.model.previewModel.waybillDocument;return e&&e.checked}function O(){var e=U.previewAttrs.model.previewModel.archiveDocument;return e&&e.checked}function D(){return y()?U.previewAttrs.model.previewModel.waybillDocument:U.previewAttrs.model.previewModel.archiveDocument}function P(){R(U.previewAttrs.model.previewModel.waybillDocument,U.waybillChecked),R(U.previewAttrs.model.previewModel.archiveDocument,U.waybillChecked)}function R(e,t){e&&(e.checked=t)}function b(){return N(U.previewAttrs.model.previewModel.receiptDocument)&&j}function L(){return b()&&U.previewAttrs.model.previewModel.receiptDocument.checked&&V.length>1}function G(){return n.getAvailableLanguages(m()).then(function(e){V=e})}function k(){return!i.isRegular()||u.isB2lShipment()?void(j=!1):U.shipmentPaymentType&&"CASH"!==U.shipmentPaymentType.toUpperCase()?void(j=!1):void r.getBoolean(r.CI_KEYS.CI0661_SPECIAL_CASH_SHIPMENT_RECEIPT).then(function(e){j=e,d()})}function w(){var e=U.previewAttrs.model.additionalDocuments,t=1===e.length&&e[0].documentType===o.DOCUMENT_TYPES.PICKUP_INSTRUCTIONS;return!!e.length&&!t}var U=this,F=void 0,j=void 0,V=void 0;Object.assign(U,{$onChanges:s,previewLabel:C,previewReceipt:A,previewInvoice:h,previewCsbvInvoice:I,isDocumentVisible:N,displayCopiesInput:T,displayArchiveCopiesInput:M,onWaybillSelectionChange:P,getUserCountry:m,showLanguageOptions:p,getLabelDocument:D,isCashReceiptSelectorVisible:L,isAdditionalDocumentsVisible:w,MAX_ALLOWED_COPIES_NUMBER:a.MAX_ALLOWED_COPIES_NUMBER,additionalDocumentLanguages:{},waybillChecked:!1})}i.$inject=["component"],r.$inject=["$scope","printPreviewOutputService","printPreviewService","userService","configService","b2lRestrictionsService"],t.__esModule=!0,t["default"]=i,t.PrintPreviewController=r;var o=n(57),a=n(935),u=i.NG_NAME="ewfPrintPreview"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e,n,i){return t.getPrintMetadata(e,n,i)}function o(t,r,o){var u=arguments.length<=3||arguments[3]===undefined?{}:arguments[3],c={},s=[],l=u.allowPltDocs,d=u.primaryDocumentsOnly;return e.all([i(t,l,d),n.getAvailableLanguages(o)]).then(function(e){var t=e[0],n=e[1];return a({previewModel:c,additionalDocuments:s,printMetadata:t,defaults:r,userLanguages:n})}),{previewModel:c,additionalDocuments:s}}function a(e){var t=e.previewModel,n=e.additionalDocuments,i=e.printMetadata,r=e.defaults,o=e.userLanguages;s(t,i,r),c(l(i,o),n,r)}function u(e,t,n){if(n&&n.doNotDisplay)return null;var i=e.find(function(e){return e.documentType===t});return i&&Object.assign(i,n),i}function c(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];t.push.apply(t,e),(n.additionalDocuments||[]).length&&t.forEach(function(e){var t=n.additionalDocuments.find(function(t){return t.documentType===e.documentType});t&&Object.assign(e,t)})}function s(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],i=n.documents||{},o=i.waybillDocument,a=i.archiveDocument,c=i.invoiceDocument,s=i.receiptDocument,l=i.csbvInvoiceDocument;Object.assign(e,{waybillDocument:u(t.documents,r.DOCUMENT_TYPES.LABEL,o),archiveDocument:u(t.documents,r.DOCUMENT_TYPES.ARCHIVE,a),invoiceDocument:u(t.documents,r.DOCUMENT_TYPES.CUSTOMS_INVOICE,c),csbvInvoiceDocument:u(t.documents,r.DOCUMENT_TYPES.CSBV_CUSTOMS_INVOICE,l),receiptDocument:u(t.documents,r.DOCUMENT_TYPES.RECEIPT,s),metadataInitialized:!0})}function l(e,t){var n=e.documents,i=n===undefined?[]:n,o=e.vatLanguageSelectionAvailable,a=t.length>1;return i.filter(function(e){return!e.primary}).map(function(e){return Object.assign(e,{hasLanguageOptions:e.documentType===r.DOCUMENT_TYPES.VAT_RECEIPT&&o&&a})})}function d(e){return n.getAvailableLanguages(e)}return{loadModels:i,getModels:o,getAvailableLanguages:d}}i.$inject=["$q","shipmentPrintDataService","locationService"],t.__esModule=!0,t["default"]=i;var r=n(57);i.NG_NAME="printPreviewService"},function(e,t,n){"use strict";function i(){function e(){function e(e){n=e}function t(e){return!(!n&&!e.$invalid)}var n=!1;return{setStatus:e,isLocked:t}}return{createLock:e}}t.__esModule=!0,t["default"]=i,i.NG_NAME="printPreviewShipmentLockService"},function(e,t,n){"use strict";function i(e,t,n,i,o,a,u,c,s,l){"ngInject";function d(){return Y=n[0].getElementById($),Y||(Y=angular.element('<div id="'+$+'"></div>')[0],n[0].body.appendChild(Y)),Y}function f(){var e=arguments.length<=0||arguments[0]===undefined?U:arguments[0];return p(),angular.element('\n            <applet name="'+F+'" code="'+F+'" archive="/content/dam/dhl/print/applets-signed.jar" height="1" width="1">\n                <param name="EPL_STREAM" value="'+e+'">\n                <param name="permissions" value="all-permissions">\n                <param name="java_status_events" value="true">\n            </applet>\n        ')}function p(){t.setPrinters=angular.noop,t.doPrintSuccessAlert=angular.noop,t.doPrintFailAlert=angular.noop}function m(e){d().appendChild(e[0])}function _(){d().innerHTML="",W=!1}function E(){if(!y())return R();var n=e.defer(),i=f();return t.setPrinters=function(e){_(),n.resolve(e.split("|"))},m(i),n.promise}function S(){s.showMessageDialog({message:l.SHIPMENT_PRINT.PRINT_ALERT_NOTIFY_USER_TO_CHANGE_FF_SETTINGS})}function g(e,t){var n=e.printerName;return k(e.isThermalPrinter,e.isEplOrZplFormat)?O(t):C(t,n)}function C(e,t){return A(e),M(t)["catch"](I).then(function(t){return h(e,t)})}function A(e){K={base64String:e}}function h(e,t){return x=t,v(e)}function I(e){return s.showDialog({scope:Object.assign(i.$new(),{printers:e}),templateUrl:"select-printer-modal.html"}).result.then(function(t){return{printerIndex:e.indexOf(t),printerName:t}})}function v(i){var r=e.defer(),a=f(i);t.setPrinters=function(){W=!0},t.doPrintSuccessAlert=function(){_(),r.resolve("")},t.doPrintFailAlert=function(){T(r),g({},K.base64String)},m(a);var u=n[0][F];return u.status&&u.status<j?u.onLoad=function(){u.printLabel(x.printerIndex,1)}:o(function(){return N(u,r,1)},B),r.promise}function N(e,t,n){if(W||e.status===j||e.printLabel)return void e.printLabel(x.printerIndex,n);T(t)}function T(e){_(),e.reject(l.SHIPMENT_PRINT.PRINT_ALERT_PRINTER_ERROR)}function M(t){return E().then(function(n){var i=n.indexOf(t);return t&&i>-1?{printerName:t,printerIndex:i}:e.reject(n)})}function y(){return t.navigator.javaEnabled()}function O(t,n){function i(){return O(t,r)}var r=n||e.defer();return b(r,i,t)}function D(e,t,n){e.send(P(t,n))}function P(e,t){return JSON.stringify({base64Data:e,targetPrinter:t,needThermalPrinter:!0})}function R(t){function n(){return R(i)}var i=t||e.defer();return b(i,n)}function b(e,n,i,o){try{var a=function(){var r=new t.WebSocket(V);return r.onopen=function(){r.send(JSON.stringify({listPrinterNames:!0})),i&&D(r,i,o)},{v:L(r,e,n)}}();if("object"===(void 0===a?"undefined":r(a)))return a.v}catch(c){var u=c.name;u===H&&S()}}function L(e,t,n){return e.onmessage=function(n){var i=n.data,r=JSON.parse(i);e.close(),t.resolve(r.additionalInfo)},e.onerror=function(){G().then(n)["catch"](function(){return t.reject(l.SHIPMENT_PRINT.PRINT_ALERT_THERMAL_PRINTER_APPLICATION_ERROR)})},t.promise}function G(){var n=e.defer(),i=w(),r=i+"/etc/dhl/print/silent.jnlp?hostName="+i,c=void 0;u.get("dtJavaService").launch({url:r},{javafx:"8.0+"});var s=a(function(){var e=new t.WebSocket(V);e.onopen=function(){e.send(JSON.stringify({listPrinterNames:!0}))},e.onmessage=function(){e.close(),n.resolve(),a.cancel(s),o.cancel(c)}},3e3);return c=o(function(){a.cancel(s),n.reject()},6e4),n.promise}function k(e,t){return!y()&&e&&t}function w(){return c.getOriginFromUrl()}var U="iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",F="PrintEPLApplet",j=2,V="ws://127.0.0.1:8888",B=1e3,$="ewf-printing-applet-container-id",H="SecurityError",x=void 0,K=void 0,Y=void 0,W=!1;return{getPrintersList:E,javaEnabled:y,silentPrintWebStart:O,whenSilentlyPrinted:g,getClientHost:w}}i.$inject=["$q","$window","$document","$rootScope","$timeout","$interval","$injector","pathService","modalService","Messages"],t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=i,i.NG_NAME="silentPrintService"},,function(e,t,n){"use strict";function i(){function e(e,t,n,i){i.init()}return{restrict:"A",controller:o["default"],controllerAs:"printerSettingsCtrl",link:{pre:e}}}t.__esModule=!0,t["default"]=i;var r=n(1919),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfPrinterSettings"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r){"ngInject";function o(){Object.assign(P.printerSettings,y),Object.assign(P.defaultPrinterSettings,y),s(),m(),e.all([_(),u()]).then(function(){d(),f()})}function u(){return i.getSourceData(i.CI_KEYS.CI1265_TO_PRINTER_TYPES).then(l)}function s(){O=[{code:a["default"].laserPrinterType,label:r.SAVED_SETTINGS.PRINTER_SELECT_OPTION_LASER_PRINTER_TYPE},{code:a["default"].thermalPrinterType,label:r.SAVED_SETTINGS.PRINTER_SELECT_OPTION_THERMAL_PRINTER_TYPE}]}function l(e){P.printerTypes=O.filter(function(t){return e.some(function(e){return t.code===e.code})})}function d(){i.getValue(i.CI_KEYS.CI0874_TO_PRINTER_TYPES_LIST).then(function(e){var t=e.data;P.printerFormats=t.value,v(P.printerSettings.printerType)})}function f(){h()&&A()&&!p()&&n.getPrintersList().then(function(e){return P.availablePrinters=e})}function p(){return P.availablePrinters&&P.availablePrinters.length>0}function m(){t.checkIfTwoLabelsTemplateAvailable().then(function(e){return D=e})}function _(){return t.getPrinterSettings().then(function(e){Object.assign(P.defaultPrinterSettings,e),Object.assign(P.printerSettings,e)})}function E(){return P.printerSettings.printerType||(Object.assign(P.printerSettings,{printerType:P.defaultPrinterSettings.printerType,printFormat:P.defaultPrinterSettings.printFormat}),v(P.defaultPrinterSettings.printerType)),t.updatePrinterSettings(P.printerSettings).then(function(e){Object.assign(P.defaultPrinterSettings,e),N("updated")})["catch"](function(){N("rejected")})}function S(){Object.assign(P.printerSettings,P.defaultPrinterSettings),P.alertTypes.updated=!1,P.alertTypes.rejected=!1}function g(){return P.printerSettings.printerType===a["default"].laserPrinterType}function C(){return g()&&D}function A(){return t.isEplOrZplFormat(P.printerSettings)}function h(){return t.isThermalPrinterType(P.printerSettings)}function I(){P.availableDocumentFormats=[],g()?(v(a["default"].laserPrinterType),P.printerSettings.printerName=""):h()&&v(a["default"].thermalPrinterType),P.printerSettings.printFormat=null}function v(e){P.printerFormats.forEach(function(t){t.printer&&t.printer.value===e&&P.availableDocumentFormats.push({value:t.format.value,type:t.type})})}function N(e){P.alertTypes[e]=!0}function T(){return A()&&!n.javaEnabled()}function M(){return h()||g()}var y={printerType:a["default"].laserPrinterType,printerName:"",printFormat:c["default"].PDF,printReceipt:!1,printTwoLabels:!1,printAdditionalAddress:!1,printArchiveDocument:!1,defaultLabelless:!1},O=[],D=!1,P=this;Object.assign(P,{alertTypes:{updated:!1,rejected:!1},printerSettings:{},defaultPrinterSettings:{},printerTypes:[],availableDocumentFormats:[],availablePrinters:[],init:o,updatePrinterSettings:E,resetValuesToDefault:S,isEplOrZplFormat:A,isThermalPrinterType:h,onPrinterTypeChange:I,isNotSupportedFormat:T,isPrinterChosen:M,isPrintTwoLabelsVisible:C,retrieveThermalPrintersIfRequired:f})}r.$inject=["$q","printerSettingsService","silentPrintService","configService","Messages"],t.__esModule=!0,t["default"]=r;var o=n(939),a=i(o),u=n(436),c=i(u)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r){"ngInject";function o(){return i.getOriginFromUrl()}function u(){return n.isAuthorized()?e.get(_).then(function(e){return e.data})["catch"](function(e){var n=e.data;return t.reject(n)}):t.when({printFormat:c["default"].PDF})}function s(n){return e.post(_,n).then(function(e){return e.data})["catch"](function(e){var n=e.data;return t.reject(n)})}function l(e){var t=e.printFormat;return t&&[c["default"].EPL,c["default"].ZPL].includes(t)}function d(e){return e.printerType===a["default"].thermalPrinterType}function f(){return r.getSourceData(r.CI_KEYS.CI0530_GLS_TEMPLATES_LIST).then(function(e){return e.filter(function(e){return e.twoLabelsPerPage}).some(function(e){var t=e.countryCode;return p(t)||m(t)})})}function p(e){return!e.length}function m(e){return e.some(function(e){return e.value===n.getUserCountry()})}var _="/api/myprofile/shipment/settings/printer";return{getPrinterSettings:u,updatePrinterSettings:s,isEplOrZplFormat:l,isThermalPrinterType:d,getClientHost:o,checkIfTwoLabelsTemplateAvailable:f}}r.$inject=["$http","$q","userService","pathService","configService"],t.__esModule=!0,t["default"]=r;var o=n(939),a=i(o),u=n(436),c=i(u);r.NG_NAME="printerSettingsService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(n,i){return e.put("/api/shipment/"+n+"/favorite",{shipmentName:i})["catch"](function(e){return t.reject(e.data)})}function r(){return n.showDialog({controller:o["default"],controllerAs:"saveAsFavoriteDialogCtrl",templateUrl:"save-as-favorite-dialog-layout.html"}).result}return{showSaveAsFavoriteDialog:r,saveAsFavorite:i}}i.$inject=["$http","$q","modalService"],t.__esModule=!0,t["default"]=i;var r=n(1922),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="saveAsFavoriteService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){r.errors=[]}function i(n){var i=e.getParamFromUrl(o["default"].SHIPMENT_ID);t.saveAsFavorite(i,r.shipmentName).then(function(){return n.close()})["catch"](function(e){var t=e.errors;return r.errors=t})}var r=this;Object.assign(r,{saveAsFavorite:i,clearErrors:n,shipmentName:null})}i.$inject=["pathService","saveAsFavoriteService"],t.__esModule=!0,t["default"]=i;var r=n(1),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o,u){"ngInject";function s(n,r,o){var a,u=angular.isArray(n),c=u?"externalIds":"externalId",s=(a={},a[c]=n,a.email=r,a.phoneDetails=o,a);return e.post(u?E:_,s).then(function(){return[r,i(o)].filter(Boolean)})["catch"](function(e){return t.reject(e.data)})}function l(e,t,n,i){return f({customerData:function(){function t(){return e}return t}(),labelPrintingOptionsData:function(){function e(){return t}return e}(),externalIds:function(){function e(){return n}return e}(),shipperCountries:function(){function e(){return undefined}return e}()}).result.then(function(e){return p(i)&&o.manifest(n),{success:!0,message:m(e,!1)}})}function d(e,t,n){return f({customerData:function(){function t(){return e}return t}(),labelPrintingOptionsData:function(){function e(){return t}return e}(),externalIds:function(){function e(){return n.map(function(e){return e.externalId})}return e}(),shipperCountries:function(){function e(){return n.map(function(e){return e.fromCountryCode})}return e}()}).result.then(function(e){var t=n.filter(function(e){return p(e.shipmentStatus)}).map(function(e){return e.externalId});return t.length&&o.manifestBulk(t),{success:!0,message:m(e,!0)}})}function f(e){return n.showDialog({controller:a["default"],controllerAs:"resendQRCodeDialogCtrl",templateUrl:"resend-qr-code-modal.html",resolve:e})}function p(e){return[c["default"].READY_TO_PRINT,c["default"].READY_TO_SEND_QR_CODE].includes(e)}function m(e,t){if(!e||!e.length)return"";var n=e.join(", "),i=t?u.MANAGE_SHIPMENTS.QR_CODES_SENT_TO:u.MANAGE_SHIPMENTS.QR_CODE_SENT_TO;return r(i,{contactData:n})}var _="/api/qr/send",E="/api/qr/bulk/send";return{openResendQRCodeDialog:l,openBulkResendQRCodeDialog:d,resendQRCode:s}}r.$inject=["$http","$q","modalService","phoneNumberFilter","replaceFilter","shipmentPrintDataService","Messages"],t.__esModule=!0,t["default"]=r;var o=n(1924),a=i(o),u=n(18),c=i(u);r.NG_NAME="resendQRCodeService"},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function o(){if(!e)return"";var t=e.address||e.addressDetails;return t&&t.countryCode||""}function a(){c.errors=[]}function u(e){var t=c.contactsModel.isEmailChecked?c.contactsModel.email:null,i=c.contactsModel.isSMSTextChecked?c.contactsModel.phoneDetails:null;return r.resendQRCode(n,t,i).then(function(t){e.close(t)})["catch"](function(e){var t=e.errors;return c.errors=t})}var c=this;Object.assign(c,{resendQRCode:u,clearErrors:a,contactsModel:{}}),function(){c.contactsModel.email=t&&t.email||e&&e.email||"",c.shipperCountries=i||o(),c.contactsModel.phoneDetails={}}()}i.$inject=["customerData","labelPrintingOptionsData","externalIds","shipperCountries","resendQRCodeService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(){function e(e,t,n,i){var r=e.$eval(n[a+"ShipmentId"]),o=e.$eval(n[a+"ShipmentData"]),u=e.$eval(n[a+"IsModal"]);i.init(r,o,u)}return{restrict:"A",controller:o["default"],controllerAs:"printCtrl",link:e}}t.__esModule=!0,t["default"]=i;var r=n(1926),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfShipmentPrint"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o,u,s,d,p,_,E,S){"ngInject";function g(t,n,i){e(function(){return C(t,n,i)})}function C(e,i,c){var s=e||r.getParamFromUrl(a["default"].SHIPMENT_ID),d=i||{},f=r.getParamFromUrl(a["default"].RETURN_SHIPMENT_ID),p=r.getParamFromUrl(a["default"].FROM_EXTERNAL_PAYMENT);f&&(X.hasReturnLabel=!0,X.returnLabelPreviewAttrs.params.shipmentId=f),p&&E.markShipmentSection("booking_success"),T(d),L(),X.actionsOptions.masterAttributes=X.previewAttrs,X.actionsOptions.returnAttributes=X.returnLabelPreviewAttrs,X.sectionLoaderPromise=n.getPrintMetadata(s).then(function(e){return y(e),t.isGuest()?{pltShipment:!1}:u.requestCompleteStatus(s)}).then(function(e){var t=e.pltShipment;return X.actionsOptions.pltShipment=t})["catch"](P),X.isModal=c,X.previewAttrs.params.shipmentId=s,X.actionsLock=o.createLock(),X.actionsOptions.shipmentManifested=!!d.logicalStatus&&d.logicalStatus!==l["default"].READY_TO_PRINT,A(),_.getTransactionId().then(function(e){return X.transactionId=e})}function A(){var e=X.previewAttrs.params.shipmentId;e&&I(e).then(function(e){var t=e.fromCustomer.address.countryCode,i=e.toCustomer.address.countryCode;if(J=e.paymentInfo.transportation.paymentMethod,Q=d.isShipmentImport(t),X.labelless=e.labelless,X.actionsOptions.shipperCountry=t,O())return void(X.isRemotePickupEnabled=!1);n.getRemotePickupConfig(t,i).then(function(e){var t=e[0],n=e[1];X.isRemotePickupEnabled=t&&n})})}function h(){var e=arguments.length<=0||arguments[0]===undefined||arguments[0],t=X.previewAttrs.params.shipmentId;e&&s.sendConfirmationEmail(t),n.manifest(t).then(function(){return X.navigateToTheNextPage(m["default"].COMPLETED)})["catch"](function(e){return X.manifestationErrors=e})}function I(e){return Z||(Z=s.getRestoredShipment(X.isModal,e)),Z}function v(){return!X.actionsOptions.shipmentManifested&&(!q()&&!!Q&&!N())}function N(){return J===f["default"].ONLINE_PAYMENT}function T(e){M(e.logicalStatus)&&(X.previewAttrs.params.defaults={documents:{waybillDocument:{doNotDisplay:!0},archiveDocument:{doNotDisplay:!0}}})}function M(e){return ae.includes(e)}function y(e){X.actionsOptions.shouldPrintDocuments=O()||[ee.DOMESTIC,ee.EXPORT].includes(e.shipmentType),X.actionsOptions.shipmentOriginType=e.shipmentType,X.actionsOptions.includeReturn=b(),X.previewAttrs.params.vatLanguageSelectionAvailable=e.vatLanguageSelectionAvailable}function O(){return r.getParamFromUrl(a["default"].IS_STANDALONE_RETURN)}function D(){p.showSaveAsFavoriteDialog().then(function(){X.savedAsFavorite=!0})}function P(e){X.error=e}function R(){X.isLeaveConfirmationDisabled=!0}function b(){return X.hasReturnLabel}function L(){t.isAuthorized()&&n.getPrintNavigationType().then(function(e){return X.navigateTo=e||X.navigateTo})}function G(e,t){var n=e===m["default"].COMPLETED;(X.actionsOptions.shipmentOriginType!==ee.IMPORT||n)&&(k(),w(),U(n,e,t))}function k(){X.navigateTo===c["default"].MMS&&i.redirectToShipmentsOverview()}function w(){X.navigateTo===c["default"].CREATE_SHIPMENT&&i.redirectToCreateShipment()}function U(e,t,n){if(X.navigateTo===c["default"].COMPLETE_SHIPMENT){var r=X.previewAttrs.params.shipmentId,o=e?n:t,a=x();i.redirectToShipmentComplete(r,X.returnLabelPreviewAttrs.params.shipmentId,o,a)}}function F(){return{model:{},params:{shipmentId:null,showNumberOfCopies:!0,showCheckbox:!0,vatLanguageSelectionAvailable:!1}}}function j(){var e=X.previewAttrs.params.shipmentId;return s.sendConfirmationEmail(e).then(function(t){var i=t.emailSent,r=t.attachmentsIncluded;return i&&r&&n.manifest(e)})}function V(){return!!X.savedAsFavorite}function B(){return'<a ng-click="printCtrl.downloadDocuments()">\n                '+S.SHIPMENT_PRINT.PRINT_LINK_DOWNLOAD_DOCUMENTS+"\n            </a>"}function $(){X.printStarted=!0}function H(){var e=X.previewAttrs.params.shipmentId;n.downloadAllDocuments(e),h(!1)}function x(){var e=r.getParamFromUrl(a["default"].B2L_SHIPMENT);if(e)return e}function K(){return J}function Y(){return Q&&N()}function W(){return!Y()&&!q()&&!X.actionsOptions.shouldPrintDocuments}function q(){return Q&&X.isRemotePickupEnabled}function z(){return Y()||q()}var X=this,Q=void 0,Z=void 0,J=void 0;Object.assign(X,{init:g,getShipment:I,getDownloadLink:B,saveAsFavorite:D,setError:P,onLeaveConfirmationDisable:R,onLeavePrintPage:j,canDisplayReturnShipmentDocuments:b,isShowManifestWithoutPrintButton:v,isSavedAsFavorite:V,manifestWithoutPrint:h,navigateToTheNextPage:G,startPrinting:$,downloadDocuments:H,getShipmentPaymentType:K,isRpaShipment:Y,isNonRpaAndRbHeader:W,isRemoteBooking:q,isRpaOrRbShipment:z,actionsOptions:{shouldPrintDocuments:!1},isLeaveConfirmationDisabled:!1,previewAttrs:F(),hasReturnLabel:!1,labelless:!1,returnLabelPreviewAttrs:F(),actionsLock:null,manifestationErrors:[],transactionId:"",navigateTo:c["default"].COMPLETE_SHIPMENT});var ee={EXPORT:"EXPORT",IMPORT:"IMPORT",DOMESTIC:"DOMESTIC"},te=l["default"].PICKED_UP,ne=l["default"].IN_TRANSIT,ie=l["default"].DELIVERED,re=l["default"].NOT_DELIVERED,oe=l["default"].MIGRATED,ae=[te,ne,ie,re,oe]}r.$inject=["$timeout","userService","shipmentPrintDataService","navigationService","pathService","printPreviewShipmentLockService","customsInvoiceEnrollmentResource","shipmentTransportService","shipmentAddressService","saveAsFavoriteService","businessTransactionService","analyticsService","Messages"],t.__esModule=!0,t["default"]=r;var o=n(1),a=i(o),u=n(1927),c=i(u),s=n(18),l=i(s),d=n(6),f=i(d),p=n(940),m=i(p)},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={MMS:"Shipment List (MMS)",CREATE_SHIPMENT:"New shipment address page",COMPLETE_SHIPMENT:"Your Shipment Complete"}},function(e,t,n){"use strict";function i(){return{scope:{leaveCallback:"&"+u+"OnLeaveConfirmed"},restrict:"A",controller:a["default"],controllerAs:"leaveConfirmationCtrl",link:r}}function r(e,t,n,i){function r(){i.destroy()}i.init(),e.$on("$destroy",r)}t.__esModule=!0,t["default"]=i;var o=n(1929),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfShipmentPrintLeaveConfirmation"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(){if(a())return void(l.notShowAgain=!0);c()}function o(){n.disable()}function a(){return"disabled"===t.get(d)}function u(){t.put(d,"disabled"),n.disable()}function c(){n.init({templateUrl:"shipment/print/leave-confirmation-dialog.html",navigateAwayMessage:i.SHIPMENT_PRINT.PRINT_PARAGRAPH_NAVIGATING_WITHOUT_PRINTING,callback:s,scope:e})}function s(){if(l.notShowAgain&&u(),e.leaveCallback)return e.leaveCallback()}var l=this,d="leaveConfirmationStatus";Object.assign(l,{init:r,destroy:o,notShowAgain:!1})}i.$inject=["$scope","cookiesService","leaveConfirmationService","Messages"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t,n,i,r,o){"ngInject";function a(n,i,r){var o=i.map(function(e){return e.documentType}).join("&docs="),a=i.map(function(e){return e.value}).join("&copies=");return t.open("/api/shipment/"+n+"/zipped-document?docs="+o+"&copies="+a),r?e.when():null}function u(e){t.open("/api/shipment/"+e+"/zipped-documents")}function c(e,t){return i.fetchConsolidatedThermalDocument(e,t)}function s(e,t){var n=r.prepareShipmentsDocumentsRequest(e,t),o=r.storeShipmentsDocumentsRequestInCookie(n);return i.fetchConsolidatedThermalDocuments(o)["finally"](function(){return r.removeRequestCookie(o)})}function l(e,t,n){return i.getPrintMetadata(e,t,n)}function d(e){return i.getPrintsMetadata(e)}function f(t){return e.when(t)}function p(e){return i.getTrackingInfo(e).then(function(e){return e.pickupInfo&&(e.pickupInfo.pickupEarliest=m(e.pickupInfo.pickupEarliest),e.pickupInfo.pickupLatest=m(e.pickupInfo.pickupLatest)),e})}function m(e){return n.convert24toAMPM(e)}function _(e){return i.manifestPrint(e)}function E(e){return i.manifestBulkPrint(e)}function S(){return i.getPrintNavigationType()}function g(e){return i.loadInfoMessages(e)}function C(){return o.isGuest()?e.when(!1):i.getDownloadInsteadOfPrintStatusConfiguration()}function A(e,t){return i.getRemotePickupConfig(e,t)}return{downloadDocuments:a,downloadAllDocuments:u,fetchConsolidatedThermalDocument:c,fetchConsolidatedThermalDocuments:s,getPrintMetadata:l,getPrintsMetadata:d,getPrintNavigationType:S,saveAsFavorite:f,getTrackingInfo:p,manifest:_,manifestBulk:E,loadInfoMessages:g,getDownloadInsteadOfPrintStatus:C,getRemotePickupConfig:A}}i.$inject=["$q","$window","dateTimeService","shipmentPrintDataResource","printOutputService","userService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="shipmentPrintDataService"},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function o(e){return c(u(e,E),e)}function a(t){var n=u(t),i=e.defer();return s(n),f(i,n),i.promise}function u(e,n){var i=t.document.createElement("iframe");return Object.assign(i,{src:e,className:n||""})}function c(n,o){var a=e.defer();return i.whenLoaded(n).then(function(){t.onfocus=l(a),n.contentDocument?n.contentWindow.print():r.printInSeparateTab(o)})["catch"](function(e){return a.reject(e)}),i.whenPdfInterceptedByBrowser(n,m)["finally"](l(a)),s(n),a.promise}function s(e){t.document.body.appendChild(e)}function l(e){return function(){return d(e)}}function d(e){n(e.resolve,m)}function f(e,t){n(function(){p(t),e.resolve()},_)}function p(e){e.className=E}var m=1e3,_=3e3,E="hidden-iframe-for-print";return{print:o,printViaIframeAndComplete:a}}i.$inject=["$q","$window","$timeout","printIframeStatePdfService","printOutputPdfService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="printIframePdfService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(t){var i=e.defer();return t.addEventListener("load",function(e){var t=e.target.contentDocument,r=t&&t.body&&t.body.innerText;n.hasError(r)?i.reject(n.extractErrorMsg(r)):i.resolve()}),i.promise}function r(t,n){var i=e.defer();return o(i,t,n),i.promise}function o(e,n,r){function o(e,n){t(function(){var t=u(n);c||t.innerHTML?e.reject():a(t)?e.resolve():o(e,n)},r,!1)}var c=void 0;i(n)["finally"](function(){return c=!0}),o(e,n)}function a(e){return""===e.innerHTML}function u(e){var t=c(e);return t&&t.body||{innerHTML:null}}function c(e){return e.contentDocument||e.contentWindow.document}return{whenLoaded:i,whenPdfInterceptedByBrowser:r}}i.$inject=["$q","$timeout","iframeErrorService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="printIframeStatePdfService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t){var n=new Date,o=i(n.getTime()),a=r(n);return e.putRootCookie(o,JSON.stringify(t),{expires:a.toGMTString()}),o}function n(t){e.removeRootCookie(t)}function i(e){return o["default"].SHIPMENTS_DOCUMENTS_REQUEST_COOKIE+"_"+e}function r(e){var t=e.getTime()+a;return new Date(t)}var a=3e5;return{storeShipmentsDocumentsRequestInCookie:t,removeRequestCookie:n}}i.$inject=["cookiesService"],t.__esModule=!0,t["default"]=i;var r=n(14),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="printOutputCookiesService"},function(e,t,n){"use strict";function i(e,t,n,i,o){"ngInject";function u(e,n,i,r){var o=p(e),a=p(n),u=t.getUrlParams({masterShipment:o,returnShipment:a});return r?g(u):m()(u,i)}function c(e,n){var i=o.storeShipmentsDocumentsRequestInCookie(e);return l(t.getCourierReportUrl(i,n),i,n)}function s(e,n,i){var r=d(e,n),a=o.storeShipmentsDocumentsRequestInCookie(r);return l(t.getShipmentsDocumentsUrl(a,i),a,i)}function l(e,t,n){return(n?g:m())(e)["finally"](function(){return o.removeRequestCookie(t)})}function d(e,t){return r({externalIds:e},t&&f(t))}function f(e){return{docs:e.map(function(e){return e.documentType}),copies:e.map(function(e){return e.numberOfCopies})}}function p(e){return{shipmentId:e.params.shipmentId,model:e.model}}function m(){var t=e.getEnvironment();return I[t]||I["default"]}function _(e,t){return n.print(e,t)}function E(e){return i.print(e)}function S(e){return i.printViaIframeAndComplete(e)}function g(e){return n.printInSeparateTab(e)}function C(e){return o.storeShipmentsDocumentsRequestInCookie(e)}function A(e){return o.removeRequestCookie(e)}var h,I=(h={},h[a["default"].CHROME_OR_SAFARI]=E,h[a["default"].FIREFOX]=S,h[a["default"].IE]=_,h[a["default"].ANDROID]=g,h["default"]=g,h);return{print:u,printCourierReport:c,printShipmentsDocuments:s,prepareShipmentsDocumentsRequest:d,storeShipmentsDocumentsRequestInCookie:C,removeRequestCookie:A}}i.$inject=["printEnvironmentService","printOutputPdfUrlService","printOutputPdfService","printIframePdfService","printOutputCookiesService"],t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t["default"]=i;var o=n(941),a=function(e){return e&&e.__esModule?e:{"default":e}}(o);i.NG_NAME="printOutputService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e,n){var i=t.document,o=i.getElementById("dhl-ewf-ie8-printing-pdf-object");return o&&o.parentNode.removeChild(o),o=i.createElement("object"),o.setAttribute("id","dhl-ewf-ie8-printing-pdf-object"),o.setAttribute("height",1),o.setAttribute("width",1),o.setAttribute("type","application/pdf"),o.setAttribute("data",e),i.body.insertBefore(o,i.body.firstChild),r(o,n)}function r(n,i){function r(){n.readyState===a?(d&&(t.clearTimeout(d),d=undefined),n.messageHandler={onMessage:o},t.setTimeout(function(){return l.resolve()},c)):t.setTimeout(r,u)}function o(e){e&&e[0]===s&&l.resolve()}var a=4,u=500,c=1e4,s="documentDidPrint",l=e.defer(),d=i&&t.setTimeout(function(){var e=i("prevent shipment complete");if(!e||e.closed||e.closed===undefined)return void l.reject();l.resolve()},6e3);return r(),l.promise}function o(e){return t.open(e),n(angular.noop,1e3)}return{print:i,printInSeparateTab:o}}i.$inject=["$q","$window","$timeout"],t.__esModule=!0,t["default"]=i,i.NG_NAME="printOutputPdfService"},function(e,t,n){"use strict";function i(){function e(e){var i=e.masterShipment,r=e.returnShipment,o=r===undefined?{}:r,a=i.shipmentId,u=i.model,c=o.shipmentId,s=c===undefined?"":c,l=o.model,d=l===undefined?{}:l,f=!u.previewModel;return null===s&&(s=""),t(f?s:a)+n(u,d,s,f).join("&")}function t(e){return"/api/shipment/"+e+"/document?"}function n(e,t,n,r){var o={masterPrintingModel:e,returnId:n,secondaryPrintingModel:t},a={masterPrintingModel:t,returnId:"",secondaryPrintingModel:""},c=r?a:o;return[].concat(i(c.masterPrintingModel,u),["returnShipmentId="+c.returnId],i(c.secondaryPrintingModel,l))}function i(e,t){var n=e.previewModel,i=e.additionalDocuments,r=i===undefined?{}:i;return n?[].concat(o(n,t),o(r,t)):[]}function o(e,t){return Object.keys(e).filter(function(t){return a(e,t)}).map(function(n){return t(n,e)})}function a(e,t){var n=e[t];return n&&!0===n.checked&&n.numberOfCopies>0}function u(e,t){var n=t[e];return([n.documentType===r.DOCUMENT_TYPES.VAT_RECEIPT,n.documentType===r.DOCUMENT_TYPES.RECEIPT&&!!n.language].some(Boolean)?s(n):"")+c(n)}function c(e){return"docs="+e.documentType+"&copies="+e.numberOfCopies}function s(e){var t=e.language;return t?"vatReceiptLanguage="+t+"&":""}function l(e,t){var n=t[e];return"returnDocs="+n.documentType+"&returnCopies="+n.numberOfCopies}function d(e,t){return(t?E:_)+"?requestCookieName="+e}function f(e,t){return(t?m:p)+"?requestCookieName="+e}var p="/api/shipments/document",m="/api/shipments/document/download",_="/api/mms/report/courier/print",E="/api/mms/report/courier/download";return{getUrlParams:e,getShipmentsDocumentsUrl:f,getCourierReportUrl:d}}t.__esModule=!0,t["default"]=i;var r=n(57);i.NG_NAME="printOutputPdfUrlService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({bindings:{options:"="+d,disabled:"<"+d+"Disabled",isViewUpdateRequired:"<?"+d+"IsViewUpdateRequired",onError:"&?"+d+"OnError",onLeaveConfirmationDisable:"&?"+d+"OnLeaveConfirmationDisable",onCompleteManifestation:"&"+d+"OnCompleteManifestation",onDocumentsPrinted:"&?"+d+"OnDocumentsPrinted",onStartPrinting:"&?"+d+"OnStartPrinting",manifestationErrors:"<?"+d+"ManifestationErrors",isReprint:"<?"+d+"IsReprint",isRpa:"<?"+d+"IsRpa",isLabelless:"<?"+d+"IsLabelless",shipmentData:"<?"+d+"ShipmentData",notificationData:"<?"+d+"NotificationData",isRemoteBooking:"<?"+d+"IsRemoteBooking"},controller:o,controllerAs:"printActionsCtrl",templateUrl:"print-actions.html"})}function o(e,t,n,i,r,o,a,c,d,f,p,m,_,E){"ngInject";function S(){q=Y.onDocumentsPrinted||angular.noop,c.preloadPrinterSettings().then(function(e){z=e}),Y.isReprint||r.getDownloadInsteadOfPrintStatus().then(function(e){return Y.downloadInsteadOfPrint=e||K()})}function g(r,o){var c=o||Y.options,s=c.masterAttributes,l=c.returnAttributes;t.disableLogoutPopUp(),W=!0;var f=!Y.options.shipmentManifested&&a.isWaybillChecked(s.model),p=f?y(!1,undefined,u["default"].DOWNLOADED):e.when();return p=p.then(function(){var t=Y.downloadInsteadOfPrint?function(){return P(!0,Y.downloadInsteadOfPrint,s,l)}:function(){return d.print(s,l,P)},n=[t().then(function(){return q()})];return f&&!r&&n.push(i.sendConfirmationEmail(Y.options.masterAttributes.params.shipmentId)),e.all(n)})["catch"](function(e){Y.onError&&Y.onError({error:e})})["finally"](function(){return W=!1}),n.applySpinner(p)}function C(){return t.disableLogoutPopUp(),W=!0,A()["catch"](function(t){return Y.onError&&Y.onError({error:t}),e.reject()}).then(function(){q(),y(!1)})["finally"](function(){return W=!1})}function A(){var e=Y.options.masterAttributes.params.shipmentId,t=Y.options.masterAttributes.model,n=Y.options.returnAttributes.model;return f.thermalPrint({shipmentId:e,masterModel:t,returnModel:n},z)}function h(){return Y.onStartPrinting&&Y.onStartPrinting(),z.isEplOrZplFormat?C():g(!1,T())}function I(){return!z.isEplOrZplFormat&&Y.downloadInsteadOfPrint}function v(){return g(!1,N())}function N(){var e=angular.copy(Y.options);return a.setupDocumentsExceptOfWaybill(e.masterAttributes.model,e.returnAttributes.model),e}function T(){var e=angular.copy(Y.options);return a.setupWaybill(e.masterAttributes.model,e.returnAttributes.model,!0),e}function M(){m.getPrintPageSettings().then(function(e){var t=e.trackingNumber,n=e.pickupConfirmationNumber,i={documents:H().previewModel,additionalDocuments:H().additionalDocuments,eadDocuments:H().eadDocuments,details:{trackingNumber:t,pickupConfirmationNumber:n}};return o.showDialogFromOptions(Y.options,i,!0)}).then(function(){Y.onLeaveConfirmationDisable&&Y.onLeaveConfirmationDisable();var e=K()?u["default"].COMPLETED:u["default"].EMAILED;y(!Y.isLabelless,e,u["default"].EMAILED)})}function y(t,n,r){return Y.options.shipmentManifested?e.when():(t&&i.sendConfirmationEmail(Y.options.masterAttributes.params.shipmentId),O(n,r))}function O(t,n){var i=Y.options.masterAttributes.params.shipmentId;return Y.manifestationErrors=[],r.manifest(i).then(function(){return D(t,n)})["catch"](function(t){return Y.manifestationErrors=t,e.reject()})}function D(e,t){return V()&&!Y.isViewUpdateRequired?(Y.options.shipmentManifested=!0,!0):K()?Y.onCompleteManifestation({completeAction:u["default"].COMPLETED,documentAction:t}):Y.onCompleteManifestation({completeAction:e})}function P(){var e=!(arguments.length<=0||arguments[0]===undefined)&&arguments[0],t=arguments[1],n=arguments[2],i=arguments[3],o=i||Y.options.returnAttributes,a=n||Y.options.masterAttributes,c=R(Y.options.isReturnShipment?o:a);return e||y(!0,u["default"].DOWNLOADED),r.downloadDocuments(c.externalId,c.docs,t)}function R(e){var t=e.params.shipmentId;return K()&&b(e.model.additionalDocuments),{externalId:t,docs:a.getSelectedDocuments(e.model)}}function b(e){var t=e.find(function(e){return e.documentType===l.DOCUMENT_TYPES.PICKUP_INSTRUCTIONS});t&&(t.checked=!0)}function L(){return Y.disabled||W||!!Y.options.masterAttributes&&!!Y.options.returnAttributes&&!a.isAnyDocumentChecked(Y.options.masterAttributes.model,Y.options.returnAttributes.model)}function G(){var e=R(Y.options.masterAttributes),t=Y.shipmentData||{},n=t.fromContact,i=t.labelPrintingOptions,r=t.shipmentStatus;_.openResendQRCodeDialog(n,i,e.externalId,r).then(function(e){return Y.notificationData.RESEND_QR_CODE=e})}function k(){return Y.disabled||W||!a.isWaybillChecked(Y.options.masterAttributes.model,Y.options.returnAttributes.model)}function w(){return Y.disabled||W||!a.isAnyDocumentCheckedExceptOfWaybill(Y.options.masterAttributes.model,Y.options.returnAttributes.model)}function U(){return p.getClientHost()}function F(){return V()&&H().previewModel.waybillDocument}function j(){return!p.javaEnabled()&&V()}function V(){return z.isThermalPrinter}function B(){return Y.isLabelless&&$()}function $(){var e=[s["default"].READY_TO_SEND_QR_CODE,s["default"].SHIPPING_TODAY,s["default"].FUTURE_SHIPMENT],t=Y.shipmentData||{},n=t.logicalStatus;return e.includes(n)}function H(){return Y.options.isReturnShipment?Y.options.returnAttributes.model:Y.options.masterAttributes.model}function x(){return K()?E.SHIPMENT_PRINT.PRINT_BUTTON_SEND_SELECTED_DOCUMENTS_RPA:E.SHIPMENT_PRINT.PRINT_BUTTON_SEND_SELECTED_DOCUMENTS}function K(){return Y.isRpa||Y.isRemoteBooking}var Y=this,W=!1,q=void 0,z=void 0;Object.assign(Y,{$onInit:S,fetchDocumentsAndPrint:g,fetchWaybillAndPrint:h,fetchOtherDocumentsAndPrint:v,showSendDocumentsDialog:M,downloadDocuments:P,isPrintingDisabled:L,isThermalPrintingDisabled:k,isOtherDocumentsPrintingDisabled:w,getClientHost:U,isPrintWaybillAvailable:F,isSilentPrintProgramNeeded:j,isThermalPrinter:V,isPrintDisabledForNonEplZpl:I,getSendButtonMessage:x,openResendQRCodeDialog:G,isResendQRCodeButtonAvailable:B,isRpaOrRbEnabled:K,manifestationErrors:[]})}r.$inject=["component"],o.$inject=["$q","leaveConfirmationService","spinnerService","shipmentTransportService","shipmentPrintDataService","sendDocumentsDialogService","documentManagementService","printerSettingsCacheService","printOutputService","thermalPrintService","silentPrintService","printActionsService","resendQRCodeService","Messages"],t.__esModule=!0,t["default"]=r,t.PrintActionsController=o;var a=n(940),u=i(a),c=n(18),s=i(c),l=n(57),d=r.NG_NAME="ewfPrintActions"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{isRpa:"<?"+u+"IsRpa",isRemoteBooking:"<?"+u+"IsRemoteBooking"},controller:r,controllerAs:"printInfoMessagesCtrl",templateUrl:"print-info-messages.html"})}function r(e,t,n){"ngInject";function i(){var n=t.getParamFromUrl(a["default"].SHIPMENT_ID);e.loadInfoMessages(n).then(function(e){return o.infoMessages=e})}function r(e){var t=e.isRpa,i=e.isRemoteBooking;(t||i)&&(o.isRpa||o.isRemoteBooking)&&o.infoMessages.push(n.SHIPMENT_PRINT.PRINT_INFO_TEXT_RPA_NOTIFICATION)}var o=this;Object.assign(o,{$onInit:i,$onChanges:r,infoMessages:[]})}i.$inject=["component"],r.$inject=["shipmentPrintDataService","pathService","Messages"],t.__esModule=!0,t["default"]=i,t.PrintInfoMessagesController=r;var o=n(1),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfPrintInfoMessages"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){return t.isAndroid()?o["default"].ANDROID:i()?o["default"].CHROME_OR_SAFARI:t.isFirefox()?o["default"].FIREFOX:t.isInternetExplorer()?o["default"].IE:null}function i(){return t.isChrome()||t.isSafari()}function r(){return 8!==e.msie}return{isCanvasOutputAvailable:r,getEnvironment:n}}i.$inject=["$sniffer","printEnvironmentDetectorService"],t.__esModule=!0,t["default"]=i;var r=n(941),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="printEnvironmentService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){return t.navigator.userAgent.includes("Android")}function i(){var e=t.navigator.userAgent;return e.includes("Safari")&&!e.includes("Chrome")}function r(){return!(!t.chrome||!t.chrome.csi&&(t.StyleMedia||o()))}function o(){return!!t.opr&&!!t.opr.addons||!!t.opera||t.navigator.userAgent.includes(" OPR/")}function a(){return"undefined"!=typeof t.InstallTrigger}function u(){return!!e.msie}return{isAndroid:n,isChrome:r,isSafari:i,isFirefox:a,isInternetExplorer:u}}i.$inject=["$sniffer","$window"],t.__esModule=!0,t["default"]=i,i.NG_NAME="printEnvironmentDetectorService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){return n.isAuthorized()?t.getSettings().then(function(e){var t=e.notificationAndSharingSettings,n=t.shipmentSharingDefaults.dhlTemplate.detailsToShare;return{trackingNumber:n.trackingNumber,pickupConfirmationNumber:n.pickupConfirmationNumber}}):e.when(r)}var r=Object.freeze({trackingNumber:!0,pickupConfirmationNumber:!0});return{getPrintPageSettings:i}}i.$inject=["$q","profileNotificationSharingService","userService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="printActionsService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t,n){var r=t.shipmentId,a=t.masterModel,u=t.returnModel,c=o(a,u);return e.fetchConsolidatedThermalDocument(r,c).then(function(e){return i(e,n)})}function i(e,n){return t.whenSilentlyPrinted(n,e)}function o(e,t){var n=a(e),i=a(t);return{masterArchiveCopies:n.archiveCopies,docs:n.documentTypes,returnArchiveCopies:i.archiveCopies,returnDocs:i.documentTypes}}function a(e){var t=e.previewModel,n=t===undefined?{}:t,i=n.waybillDocument,r=n.archiveDocument,o=n.invoiceDocument,a=n.csbvInvoiceDocument,s=n.receiptDocument,l=[i,r,o,a,s].filter(function(e){return e&&e.checked}).map(function(e){return e.documentType}).filter(function(e){return c.includes(e)});return{archiveCopies:l.length?u(n):0,documentTypes:l}}function u(e){return e&&e.archiveDocument&&e.archiveDocument.numberOfCopies||null}var c=[r.DOCUMENT_TYPES.LABEL,r.DOCUMENT_TYPES.ARCHIVE];return{thermalPrint:n,getBothWaysThermalQuery:o}}i.$inject=["shipmentPrintDataService","silentPrintService"],t.__esModule=!0,t["default"]=i;var r=n(57);i.NG_NAME="thermalPrintService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(){return e.getPrinterSettings().then(function(t){return{printerName:t.printerName,isThermalPrinter:e.isThermalPrinterType(t),isEplOrZplFormat:e.isEplOrZplFormat(t)}})}return{preloadPrinterSettings:t}}i.$inject=["printerSettingsService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="printerSettingsCacheService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"bulkPreviewCtrl",templateUrl:"components/dhl-shipment/print-preview/bulk-print-preview.html",bindings:{documentsList:"<"+u+"DocumentsList"}})}function r(){"ngInject";function e(e){e.documentsList.currentValue&&!r&&(t(),n(),r=!0)}function t(){var e=i.documentsList.filter(function(e){var t=e.documentType;return o.WAYBILL_DOCUMENT_TYPES.includes(t)});if(!(e.length<=1)){var t=e.find(function(e){return e.documentType===o.DOCUMENT_TYPES.LABEL});t&&(t.isHidden=!0)}}function n(){i.documentsList.forEach(function(e){return e.minNumberOfCopies=e.numberOfCopies})}var i=this,r=!1;Object.assign(i,{$onChanges:e,MAX_ALLOWED_COPIES_NUMBER:a.MAX_ALLOWED_COPIES_NUMBER})}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.BulkPrintPreviewController=r;var o=n(57),a=n(935),u=i.NG_NAME="ewfBulkPrintPreview"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(e,n){var i=s(e,n);return t.post(l,i).then(function(e){return e.data})}function o(e){var t=c(e);return i.previewDocument(t)}function a(e,t){return r(e,t).then(u)}function u(e){var t=l+"/"+e;return i.previewDocument(t)}function c(e){return"/api/shipment/"+e+"/customs-invoice/preview"}function s(e,t){var n=["fromCustomer","toCustomer","customsInvoice","documentDescription","incotermCode","incotermNlsCode","insuranceCurrency","insuranceValue","paymentInfo","shipmentCurrency","totalDeclaredValue","typeCategory","indiaShipment","itarBis"];return t&&n.push("returnShipping"),n.reduce(function(t,n){return t[n]=e[n],t},{})}var l="/api/shipment/customs-invoice/preview";return{showInvoicePreview:a,showInvoicePreviewForShipment:o,generateInvoicePreviewKey:r}}i.$inject=["$q","$http","modalService","printPreviewOutputService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="customsInvoicePreviewService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"shipment-type-additional-customs-documents.html",controller:r,controllerAs:"additionalCustomsDocumentsCtrl",bindings:{enhancedInvoiceModel:"<"+o+"EnhancedInvoiceModel",shipmentCountry:"<"+o+"ShipmentCountry",destinationCountry:"<"+o+"DestinationCountry"}})}function r(e,t){"ngInject";function n(e){var t=e.shipmentCountry,n=e.destinationCountry;t&&t.currentValue&&a.update(t.currentValue,n.currentValue)}function i(n,i){e.all([t.getCitesDeclarationAvailability(n),t.getEur1DeclarationAvailability(n),t.getNaftaDeclarationAvailability(n),t.getCooDeclarationAvailability(n),t.getPreferentialOriginDeclarationAvailability(n,i)]).then(function(e){return r(e)}).then(o)}function r(t){var n=t.some(Boolean);return a.isVisible=n,n?t:e.reject()}function o(e){var t=e[0],n=e[1],i=e[2],r=e[3],o=e[4];Object.assign(a,{isCitesOn:t,isEurOn:n,isNaftaOn:i,isCertificateOn:r,isPreferentialOriginDeclarationOn:o})}var a=this;Object.assign(a,{update:i,$onChanges:n,isVisible:!1,isCitesOn:!1,isEurOn:!1,isNaftaOn:!1,isCertificateOn:!1,isPreferentialOriginDeclarationOn:!1})}i.$inject=["component"],r.$inject=["$q","declarationsService"],t.__esModule=!0,t["default"]=i,t.AdditionalCustomsDocumentsController=r;var o=i.NG_NAME="ewfAdditionalCustomsDocuments"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(t){return e.getCustomsInvoiceTemplate(t)}function o(e){return e.then(t.showInvoiceTemplateModal)["catch"](t.handleTemplateError)}function a(t){return o(e.saveCustomsInvoiceTemplate(t))}function u(t){return o(e.updateCustomsInvoiceTemplate(t))}function c(e){var n=e.isCreatingCustomsInvoice()&&e.isEnhancedInvoiceVisited()&&!e.isEnhancedInvoiceCompleted();return n&&t.showIncompleteInvoiceDialog(),!n}function s(e,n){if(e)return t.showInvoicePreview(n);t.showIncompleteInvoiceDialog()}function l(e){return t.validateEnhancedInvoiceData(e)}function d(e){t.showInvoicePreview(e)}function f(e){return n.getEnhancedInvoiceData(e)}function p(e,t,i){n.setEnhancedInvoiceData(e,t,i)}function m(t){return e.loadTypesOfExport(t)}function _(e){return e?"/etc/clientlibs/dhl/global/public/img/csbv-invoice.jpg":"/etc/clientlibs/dhl/global/public/img/invoice.jpg"}function E(e,t,n){e.initProductsAndPackages(t,n,i.isExpertFlow())}function S(e,t){return{fromCountryCode:e.getShipmentCountry(),fromServiceCode:e.getShipperAddress().addressDetails.serviceAreaCode,toCountryCode:e.getDestinationCountry(),toServiceCode:e.getReceiverAddress().addressDetails.serviceAreaCode,shipmentPackagingType:t.shipmentType,isDutiable:t.isDutiable,intraEuDutiableStatus:t.intraEuDutiableStatus,isMailingListShipment:!!e.getMailingListContacts(),model:t}}return{loadInvoiceTemplate:r,saveInvoiceTemplate:a,updateInvoiceTemplate:u,showInvoicePreview:d,showSummaryPreviewDialog:s,checkCompletion:c,loadTypesOfExport:m,validateEnhancedInvoiceData:l,initProductsAndPackages:E,setEnhancedInvoiceData:p,getEnhancedInvoiceData:f,getPreviewImage:_,getGssPayloadForEnhancedInvoice:S}}i.$inject=["customsInvoiceTemplatesService","enhancedInvoiceModalService","enhancedInvoiceMappingService","userService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="enhancedInvoiceService"},function(e,t,n){"use strict";function i(e,t,n,i,r,o){"ngInject";function a(e){return i.showCustomsTemplatesListPopup(e)}function u(e){r.mapCompanyLogos(e)}function c(e){return e.invoiceTypesAvailability.COMMERCIAL}function s(e){return e.invoiceTypesAvailability.PRO_FORMA}function l(e){return n.loadInvoiceTypesListValue(e)}function d(n,i){return e.all([o.getCustomsInvoiceTemplateList(n,i),t.loadTypesOfExport()])}function f(e){return t.loadInvoiceTemplate(e)}return{showCustomsTemplatesListPopup:a,mapCompanyLogos:u,isCommercialInvoiceTypeAvailable:c,isProformaInvoiceTypeAvailable:s,getInvoiceTypesListValue:l,getEnhancedInvoiceTemplateParameters:d,loadCustomsInvoiceTemplate:f}}i.$inject=["$q","enhancedInvoiceService","enhancedInvoiceResource","enhancedInvoiceModalService","enhancedInvoiceMappingService","customsInvoiceTemplatesService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="enhancedInvoiceTypeService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e,t){var n=e.enhancedInvoice,i=e.itemAttributes;angular.copy(i,i.cachedItemAttributes),t.cachedAddressDetails=angular.copy(t),angular.equals(n.cachedEnhancedInvoice,{})&&angular.copy(n,n.cachedEnhancedInvoice)}function n(e,t){var n=angular.copy(t);Object.assign(e.cachedEnhancedInvoice,n)}function i(e,t){var n=e[t];angular.copy(n,e),e[t]=n}function r(t,n,r){var o=t.enhancedInvoice,a=t.itemAttributes;a.cachedItemAttributes.searchMode=a.searchMode,i(a,"cachedItemAttributes"),a.productList.length||e.addItemAttributesRow(a),i(o,"cachedEnhancedInvoice"),i(n,"cachedAddressDetails"),r.incoterm=null}return{cacheModel:t,updateCachedModel:n,restoreModelFromCache:r}}i.$inject=["itemAttributesService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="enhancedInvoiceCacheService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){return t.get("/api/myprofile/shipment/defaults/declarations").then(function(e){return e.data})}function r(e){return n.getSourceData(n.CI_KEYS.CI0128_INVOICE_TYPES,e)}function o(e){return n.getValue(n.CI_KEYS.CI0128_INVOICE_TYPES,e).then(function(e){return e.data.value.map(function(e){return e.type.value})})}function a(e){return n.getSourceData(n.CI_KEYS.CI0981_COMMERCIAL_INVOICE_ONLY,e)}function u(t,n){return e.all([a(n),r(t)])}function c(){return t.get("/api/shipment/defaults/paperless").then(function(e){var t=e.data;return t.enrolled?{name:t.signerName,title:t.signerTitle}:{}})}return{loadDeclarationsDefaults:i,loadInvoiceTypesListValue:o,loadInvoiceTypeParameters:u,loadInfoFromPlt:c}}i.$inject=["$q","$http","configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="enhancedInvoiceResource"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(t){var n=t.data.fieldErrors,i="errors.common_backend-error_customs-invoice-template-name-is-not-unique";if(n){var r=Object.keys(n)[0],o=n[r][0];e.showMessageDialog({nlsMessage:o})}else t.data.errors.includes(i)&&e.showMessageDialog({nlsMessage:i})}function r(){return e.showDialog({windowClass:"ewf-modal_width_large",templateUrl:"invoice-template-successfully-saved.html"})}function o(){e.showDialog({templateUrl:"incomplete-enhanced-invoice-dialog.html"})}function a(t){return e.showDialog({scope:t,windowClass:"ewf-modal_width_large",templateUrl:"saved-customs-templates-popup.html"})}function u(e){var n=t.getShipmentData();return e?n.returnShipment:n}function c(){var e=!(arguments.length<=0||arguments[0]===undefined)&&arguments[0];return n.generateInvoicePreviewKey(u(e),e).then(function(){return!0})["catch"](function(){return!1})}function s(){var e=!(arguments.length<=0||arguments[0]===undefined)&&arguments[0];return n.showInvoicePreview(u(e),e)}return{handleTemplateError:i,showInvoiceTemplateModal:r,showIncompleteInvoiceDialog:o,showCustomsTemplatesListPopup:a,validateEnhancedInvoiceData:c,showInvoicePreview:s}}i.$inject=["modalService","shipmentDataService","customsInvoicePreviewService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="enhancedInvoiceModalService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e,t){var n=e.involvedPartiesData,i=n.shipper,o=i===undefined?{}:i,a=n.receiver,u=a===undefined?{}:a,c=o.exporterCode,s=o.exporterId,l=u.ultimateConsignee,d=u.countryOfUltimateDestination;e.involvedPartiesData=t,Object.assign(e.involvedPartiesData.shipper,{exporterId:s||e.involvedPartiesData.shipper.exporterId,exporterCode:c||e.involvedPartiesData.shipper.exporterCode}),e.involvedPartiesData.receiver.ultimateConsignee=l||e.involvedPartiesData.receiver.ultimateConsignee,e.template.invoiceUserName=t.shipper.name,r(e,d)}function r(e,t){var n=e.countriesList.find(function(e){return e.code2===t});n&&(e.country={code2:n.code2,name:n.name})}function o(e){var t=e.involvedPartiesData.shipper||{},n=t.exporterCode;return{exporterId:e.exportIdType,exporterCode:n}}function a(e){var t=e.template,n=e.bankDetailsVisible?t.bankDetails:null;e.bankDetailsVisible&&(t.typeOfExport="P");var i=t.declaration;if(i&&i.companyLogos){var r=i.companyLogos;i.companyLogo=r[0]}return{enhanced:!0,terms:angular.copy(t.terms),bankDetails:n,invoiceType:t.invoiceType,reasonForExport:t.reasonForExport,typeOfExport:t.typeOfExport,shipper:o(e),references:t.references,declaration:i}}function u(e,t){var n=t.declaration;e.declaration=e.template.declaration=n,c(n)}function c(e){e&&e.companyLogo&&(e.companyLogos=[e.companyLogo])}function s(e,t){var n=t.involvedParties;if(n){var i=n.shipper,r=i===undefined?{}:i;e.exportIdType=r.exporterId,e.involvedPartiesData.shipper.exporterCode=r.exporterCode}}function l(e,t,n){var i=t.involvedParties||{},r=i.shipper,o=r===undefined?{}:r,a=i.receiver,c=a===undefined?{}:a;Object.assign(e.involvedPartiesData,{shipper:o,receiver:c}),Object.assign(e.template,{invoiceType:t.invoiceType,reasonForExport:t.reasonForExport,typeOfExport:t.typeOfExport,references:t.references,terms:t.terms}),_(e,t,n),u(e,t),s(e,t)}function d(e){return e.productList.map(function(e){return{countryCode:e.countryCode,currency:e.currency,description:e.description,exportCommodityCode:e.exportCommodityCode,importCommodityCode:e.importCommodityCode,grossWeight:e.grossWeight,id:e.id,name:e.name,netWeight:e.netWeight,quantity:e.quantity,quantityUnits:e.quantityUnits,som:e.som,value:e.value}})}function f(e,n){var i=e.enhancedInvoice,r=i.template,o=i.declaration,a=e.itemAttributes,u=d(a),c=t.getShipmentData(),s=c.paymentInfo;return Object.assign({},r,{declaration:o,numberOfPallets:a.numberOfPallets,templateItems:{items:u,totalDeclaredValue:a.totalDeclaredValue,weightUnits:a.weightUnits,currencyCode:a.currentCurrency},terms:{termsOfTrade:s.incotermCode,destinationPortName:r.terms.destinationPortName,termsOfPayment:r.terms.termsOfPayment},otherCharges:n.charges})}function p(e,t,n){e.template.references=e.template.references||{},e.template.fromCountry=t.getShipmentCountry(),e.template.toCountry=t.getDestinationCountry(),e.template.cteOption=n.cteOption}function m(e){var t=e.enhancedInvoice.template;if(t.reasonForExport)return!0;var n=e.itemAttributes.shippingPurpose,i=n&&n.reasonForExport;return i&&(t.reasonForExport=i),!!i}function _(e,t,i){if(!i)return e.bankDetailsVisible=!!t.bankDetails&&!angular.equals(t.bankDetails,{}),void(e.template.bankDetails=e.bankDetailsVisible?t.bankDetails:null);n.getBoolean(n.CI_KEYS.CI0852_INVOICE_BANK_DETAILS_FIELDS,i).then(function(n){e.bankDetailsVisible=n,e.template.bankDetails=n?t.bankDetails:null})}return{setInvoiceInvolvedPartiesData:i,getEnhancedInvoiceData:a,setEnhancedInvoiceData:l,mapCompanyLogos:c,getInvoiceTemplate:f,mapInvoiceOnInit:p,mapReasonForExport:m}}i.$inject=["$filter","shipmentDataService","configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="enhancedInvoiceMappingService"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(t,n){return e.loadTypesOfExport(t).then(function(e){return o(e,n)})}function o(e,t){var n=t.itemAttributes.typeOfExport,i=a(e,n),r=a(e,"p"),o=t.enhancedInvoice.template,u=o.typeOfExport;return o.typesOfExportsList=e,o.typeOfExport=u||i||r,o.reasonForExport=o.reasonForExport||t.itemAttributes.shippingPurpose.reasonForExport,o}function a(e,t){if(t)return e.find(function(e){return e.code.toLowerCase()===t.toLowerCase()})&&t.toUpperCase()}function u(t){e.loadDeclarationsDefaults().then(function(e){Object.assign(t.template.declaration,e)})}function c(e){return!!e.exportIdType&&"NONE"!==e.exportIdType}function s(t,n){return e.isShipmentRestrictedByOfac(t,n)}function l(e,n){t.setInvoiceInvolvedPartiesData(e,n)}function d(e,n){return t.getInvoiceTemplate(e,n)}function f(e){return t.mapReasonForExport(e)}function p(t,n){return e.loadPreferentialOriginDeclarationAvailability(t,n)}function m(){i.onReturnFromPreviousState()}function _(e){return n.invokeGlobalScreeningValidation(e)}return{retrieveDefaultTypeOfExport:r,applyDeclarationsDefaults:u,isCodeSelected:c,isShipmentRestrictedByOfac:s,setInvoiceInvolvedPartiesData:l,getInvoiceTemplate:d,mapReasonForExport:f,getPreferentialOriginDeclarationAvailability:p,onEnhancedInvoiceComplete:m,invokeGlobalScreeningValidation:_}}i.$inject=["enhancedInvoiceComponentConfigService","enhancedInvoiceMappingService","globalScreeningValidationService","analyticsService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="enhancedInvoiceComponentService"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(t){return e.loadTypesOfExport(t)}function o(){return t.loadDeclarationsDefaults()}function a(e,t){return i.getPreferentialOriginDeclarationAvailability(e,t)}function u(e,t){return n.isShipmentRestrictedByOfac(e,t)}return{loadTypesOfExport:r,loadDeclarationsDefaults:o,loadPreferentialOriginDeclarationAvailability:a,isShipmentRestrictedByOfac:u}}i.$inject=["customsInvoiceTemplatesService","enhancedInvoiceResource","ofacService","declarationsService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="enhancedInvoiceComponentConfigService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(t,n,i){i.productList=[],r(i),t.templateItems.items.forEach(function(t){var r=n.countriesList.find(function(e){return e.code2===t.countryCode});t.countryName=r?r.name:"",i.shipperCountrySom=i.shipperCountrySom||t.som,(t.referenceNumber||t.referenceTypeCode)&&(t.isAddItemReference=!0),e.addItemAttributesRow(i,t)})}function r(e){if(e.currencyCode!==e.currentCurrency){var t=e.currenciesList.find(function(t){return t===e.currencyCode});t&&(e.currentCurrency=t)}}function a(e,n,i){t.getIncoterms(i).then(function(t){n.incoterm=t.find(function(t){return t.code===e.terms.termsOfTrade})||n.incoterm})}function u(e,t){var i=e.terms.dutyTaxesAccount===o["default"].ALTERNATE?n.getAlternateDHLAccountOption():n.getReceiverWillPayOption(),r=e.terms.dutyTaxesAccountNumber;t.dutiesPaymentType=t.dutiesPaymentType||i,t.dutiesAlternateAccountNumber=r,t.taxesPaymentType=i,t.taxesAlternateAccountNumber=r}function c(e,t,n){t.charges=n?[]:e.otherCharges}return{mapItemAttributesItems:i,mapIncoterms:a,mapDutiesAndTaxes:u,mapOtherCharges:c}}i.$inject=["itemAttributesService","masterShipmentIncotermsService","paymentTypeService"],t.__esModule=!0,t["default"]=i;var r=n(279),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="enhancedInvoiceTypeMappingService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{shipmentTypeModel:"<"+o,toCountry:"<"+o+"ToCountry",toServiceCode:"<"+o+"ToServiceCode",fromCountry:"<"+o+"FromCountry",fromServiceCode:"<"+o+"FromServiceCode",isDocument:"<"+o+"IsDocument",isSsb:"<?"+o+"IsSsb",isDocumentDescriptionDisabled:"<?"+o+"DocumentDescriptionDisabled",mailingListCountries:"<?"+o+"MailingListCountries",isAssignShipment:"<?"+o+"IsAssignShipment",isReturnShipment:"<?"+o+"IsReturnShipment",isMailingListShipment:"<?"+o+"IsMailingListShipment"},controller:r,controllerAs:"documentDescriptionCtrl",templateUrl:"shipment-type-document-description.html"})}function r(e,t){"ngInject";function n(e){if(e.isDocument&&!u.isDocument){var t=u.shipmentTypeModel.documentDescription;u.shipmentTypeModel.documentDescription=angular.isObject(t)?t.translation:t}}function i(){e.getFormField(e.CI_KEYS.CIF0125_SHIPMENT_DESCRIPTION).then(function(e){var t=e.visible;return c=t})}function r(){return c&&(u.shipmentTypeModel.isUsingOwnInvoiceForDocuments()||u.shipmentTypeModel.isUsingOwnInvoiceForPackages()||a())}function o(){return u.shipmentTypeModel.isUsingOwnInvoiceForDocuments()?t.SHIPMENT_DETAILS.SHIPMENT_TYPE_LABEL_DESCRIBE_DOCUMENTS:t.SHIPMENT_DETAILS.SHIPMENT_TYPE_LABEL_SUMMARIZE_SHIPMENT}function a(){return!!u.isSsb&&u.shipmentTypeModel.isShipmentTypeDocument()}var u=this;Object.assign(u,{$onChanges:n,$onInit:i,isDocumentDescriptionVisible:r,getDocumentDescriptionLabel:o});var c=void 0}i.$inject=["component"],r.$inject=["configService","Messages"],t.__esModule=!0,t["default"]=i,t.ShipmentTypeDocumentDescriptionController=r;var o=i.NG_NAME="ewfShipmentTypeDocumentDescription"},function(e,t,n){"use strict";function i(e,t,n,i,o){"ngInject";function u(){return n.getSourceData(n.CI_KEYS.CI1303_DOCUMENT_AND_PACKAGE_DESCRIPTIONS_LIST).then(function(e){return d({data:e.map(function(e){var t=e.commodityCode,n=e.commodityDescriptions,i=e.documentItem;return{nlsKey:t.nls,name:n.value,type:i?a["default"].DOCUMENT:a["default"].PACKAGE}}).filter(function(e){return e.type===a["default"].DOCUMENT})})})}function c(e,n,i){if(i)return u();var r=s(e,n);return t.get(r,{cache:!0}).then(d)}function s(e,t){return"/api/commodityCode/shipmentTypeCodes/document?from="+e+"&"+l(t)}function l(e){return e.filter(Boolean).map(function(e){return"to="+e}).join("&")}function d(e){var t=e.data;return t.forEach(f),o.sortBy(t,["translation"])}function f(e){var t=e.nlsKey,n=e.name,r=i.getTranslationSync(t);e.translation=r!==t&&r||n}function p(){return n.getSourceData(n.CI_KEYS.CI1304_DESCRIPTION_FIELD_FIXED_VALUES_DROPDOWN_FOR_DOCUMENT_SHIPMENT).then(function(e){var t=e!==r.STATES.DISABLED,n=e===r.STATES.OVERWRITE_NOT_ALLOWED_ADDITIONAL_DESCRIPTION;return[t,e!==r.STATES.ENABLED_OVERWRITE_NOT_ALLOWED&&!n,n]})}function m(t,n,i){return _(),e.all([p(),c(t,n,i)]).then(function(e){var t=e[0];return{isDocumentDescriptionDropdown:t[0],isCustomValueAllowed:t[1],isAdditionalDescriptionAllowed:t[2],documents:e[1]}})}function _(){n.getFormField(n.CI_KEYS.CIF0125_SHIPMENT_DESCRIPTION).then(function(e){var t=e.maxLength;return C=t})}function E(){return C}function S(e,t){var n=e.translation,i=e.name;return[n.toLowerCase(),i.toLowerCase()].includes(t)}function g(e){return angular.isUndefined(e.isShipmentTypeDocument)?e.shipmentType===a["default"].DOCUMENT:e.isShipmentTypeDocument()}var C=0;return{getDocumentDescriptionsData:m,getDescriptionMaxLength:E,doesItemIncludeDescription:S,isShipmentTypeDocument:g}}i.$inject=["$q","$http","configService","nlsService","sortService"],t.__esModule=!0,t["default"]=i;var r=n(470),o=n(7),a=function(e){return e&&e.__esModule?e:{"default":e}}(o);i.NG_NAME="documentDescriptionService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"<"+a,shipmentType:"<?"+a+"ShipmentType",description:"<"+a+"Description",toCountry:"<"+a+"ToCountry",toServiceCode:"<?"+a+"ToServiceCode",fromCountry:"<"+a+"FromCountry",fromServiceCode:"<?"+a+"FromServiceCode",mailingListCountries:"<?"+a+"MailingListCountries",isDocumentDescriptionDisabled:"<?"+a+"DocumentDescriptionDisabled",isAssignShipment:"<?"+a+"IsAssignShipment",isReturnShipment:"<?"+a+"IsReturnShipment",defaultDocumentDescription:"<?"+a+"DefaultDocumentDescription",isMailingListShipment:"<?"+a+"IsMailingListShipment",isUserProfile:"<"+a+"IsUserProfile"},controller:r,controllerAs:"documentDescriptionInputCtrl",templateUrl:"document-description-input.html"})}function r(e,t,n){"ngInject";function i(e){r(e),a(e),u(e),c(e)}function r(e){var t=e.toCountry,n=e.mailingListCountries;if(t||n&&L.mailingListCountries){f(!!t&&!L.toCountry&&(angular.isUndefined(L.isAdditionalDescriptionAllowed)||L.isAdditionalDescriptionAllowed))}}function a(t){var n=t.shipmentType;n&&angular.isString(n.previousValue)&&e.isShipmentTypeDocument(L.model)&&p()}function u(e){if(e.defaultDocumentDescription&&L.defaultDocumentDescription){var t=_(L.defaultDocumentDescription);L.model.documentDescription=t?m(t):L.defaultDocumentDescription}}function c(e){e.toCountry&&!L.toCountry&&L.model&&L.model[L.description]&&(L.model[L.description]=h(o.DESCRIPTION_PROPERTIES.NAME))}function s(){return!d()&&(L.isUserProfile||!L.model.isShipmentTypePackage())}function l(){return!L.isUserProfile&&!d()&&L.model.isShipmentTypePackage()}function d(){return(angular.isUndefined(L.model.isShipmentTypeDocument)||e.isShipmentTypeDocument(L.model))&&(L.isDocumentDescriptionDropdown||L.isAdditionalDescriptionAllowed)}function f(t){var n=L.toCountry?[L.toCountry]:L.mailingListCountries;e.getDocumentDescriptionsData(L.fromCountry,n,t).then(p)}function p(e){var t=h(o.DESCRIPTION_PROPERTIES.NAME);if(Object.assign(L,e),L.isNewDataFetched=!!e,t&&(!L.isCustomValueAllowed||L.model.predefinedDocumentDescription)){var n=_(t);L.model[L.description]=m(n),G||D()}}function m(e){return d()?E(e):S(e)}function _(t){return L.documents.find(function(n){return e.doesItemIncludeDescription(n,t.toLowerCase())})}function E(e){return e||L.model[L.description]}function S(e){return e&&e.translation||h(o.DESCRIPTION_PROPERTIES.TRANSLATION)}function g(){return angular.isUndefined(L.model.isUsingOwnInvoiceForDocuments)||L.model.isUsingOwnInvoiceForDocuments()?n.SHIPMENT_DETAILS.SHIPMENT_TYPE_LABEL_DESCRIBE_DOCUMENTS_PLACEHOLDER:n.SHIPMENT_DETAILS.SHIPMENT_TYPE_PLACEHOLDER_SUMMARIZE_SHIPMENT}function C(e){L.model.predefinedDocumentDescription=!1;var t=e.toLowerCase();return L.documents.filter(function(e){return e.translation.toLowerCase().includes(t)})}function A(){L.model.predefinedDocumentDescription=!0}function h(e){var t=L.model[L.description];return angular.isObject(t)?t[e]:t}function I(){var e=h(o.DESCRIPTION_PROPERTIES.TRANSLATION)||"",t=L.documents.find(function(t){return t.translation.toLowerCase()===e.toLowerCase()});return N(t)||T(t)||v()}function v(){return L.isDocumentDescriptionDisabled||L.isCustomValueAllowed}function N(e){if(L.model.predefinedDocumentDescription)return!!e||L.isCustomValueAllowed}function T(e){if(e)return L.model[L.description]=e,A(),!0}function M(){return e.isShipmentTypeDocument(L.model)?L.isDocumentDescriptionDropdown?L.isCustomValueAllowed?n.SHIPMENT_DETAILS.SHIPMENT_TYPE_SUB_HEADER_DESCRIBE_DOCUMENTS_ENABLED_CUSTOM:n.SHIPMENT_DETAILS.SHIPMENT_TYPE_SUB_HEADER_DESCRIBE_DOCUMENTS_ENABLED:n.SHIPMENT_DETAILS.SHIPMENT_TYPE_SUB_HEADER_DESCRIBE_DOCUMENTS_DISABLED:""}function y(){var t=e.getDescriptionMaxLength(),n=h(o.DESCRIPTION_PROPERTIES.NAME),i=n&&n.length||0,r=t-i-1;return Math.max(0,r)}function O(){return e.isShipmentTypeDocument(L.model)&&L.isAdditionalDescriptionAllowed}function D(){if(L.isAdditionalDescriptionAllowed||!L.isCustomValueAllowed||!L.isAssignShipment&&!L.isReturnShipment)return void P();var e=L.model.additionalDocumentDescription?h(o.DESCRIPTION_PROPERTIES.NAME)+" "+L.model.additionalDocumentDescription:h(o.DESCRIPTION_PROPERTIES.NAME);L.model[L.description]=e,L.model.additionalDocumentDescription="",G=!0}function P(){L.isCustomValueAllowed||L.isAdditionalDescriptionAllowed||(L.model.additionalDocumentDescription="")}function R(){var e=""+L.model[L.description]+L.toCountry+L.isNewDataFetched;return L.isNewDataFetched=!1,e}function b(e,n,i){var r={shipmentDescription:L.model[L.description],fromCountryCode:L.fromCountry,fromServiceCode:L.fromServiceCode,toCountryCode:L.toCountry,toServiceCode:L.toServiceCode,shipmentPackagingType:L.model.shipmentType,model:L.model,ngModelCtrl:e.ngModelCtrl,isMandatory:n,isDutiable:L.model.isDutiable,intraEuDutiableStatus:L.model.intraEuDutiableStatus,isMailingListShipment:L.isMailingListShipment,eventRelatedTarget:i.relatedTarget};t.invokeGssValidationForDescription(r)}var L=this,G=void 0;Object.assign(L,{$onChanges:i,onSelect:A,onDescriptionBlur:b,defineDocumentsDescription:p,validateDescription:I,getDocumentDescriptionPlaceholder:g,getAvailableDescriptions:C,getDocumentsDescriptionLabelText:M,getAdditionalDescriptionMaxLength:y,getDocumentDescriptionValidationTrigger:R,isInput:s,isTextArea:l,isInputWithDropdown:d,isAdditionalDescriptionVisible:O,documents:[],isNewDataFetched:!1})}i.$inject=["component"],r.$inject=["documentDescriptionService","globalScreeningValidationService","Messages"],t.__esModule=!0,t["default"]=i,t.DocumentDescriptionInputController=r;var o=n(470),a=i.NG_NAME="ewfDocumentDescriptionInput"},function(e,t,n){"use strict";function i(e){"ngInject";return e({templateUrl:"global-screening-alert.html",controller:r,controllerAs:"globalScreeningAlertCtrl",bindings:{validationResult:"<"+a,showCreateDescriptionPopup:"&?"+a+"ShowCreateDescriptionPopup"}})}function r(){function e(){return n.validationResult&&[o.GSS_MODE.WARNING,o.GSS_MODE.ERROR].includes(n.validationResult.mode)&&n.validationResult.status===o.GSS_STATUS.RED}function t(){return n.validationResult?o.GSS_ALERT_CLASSES[n.validationResult.mode]:""}var n=this;Object.assign(n,{isGlobalScreeningAlertVisible:e,getGlobalScreeningAlertClass:t})}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.GlobalScreeningAlertController=r;var o=n(399),a=i.NG_NAME="ewfGlobalScreeningAlert"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){"ngInject";function i(e){var i=e.isDutiable,r=e.fromCountryCode,o=e.toCountryCode;if(i)return t.when(!0);var a={fromCountryCode:r,toCountryCode:o};return n.isCountriesFromEurope(a)}function r(e){return n.validateGlobalScreening(e)}function a(e,t){if(!e||!e.shipmentDescriptionStatus)return t.gssValidationResult=null,!1;var n=e.shipmentDescriptionStatus;return t.gssValidationResult=n,p(n)}function c(e,t){var n=arguments.length<=2||arguments[2]===undefined?0:arguments[2];if(!e||!e.lineItemDescriptionStatuses||!e.lineItemDescriptionStatuses[n])return t.gssValidationResult=null,!1;var i=e.lineItemDescriptionStatuses[n];return t.gssValidationResult=i,p(i)}function d(e){var t=e.gssValidationResult,n=e.shipmentTypeModel,i=e.lineItemModels,r=a(t,n),o=f(t,i);return(!t.shipmentDescriptionStatus||r)&&(!t.lineItemDescriptionStatuses||o.every(Boolean))}function f(e,t){return t.filter(function(e){return e.description}).map(function(t,n){return c(e,t,n)})}function p(e){return e.mode!==o.GSS_MODE.ERROR||e.status===o.GSS_STATUS.GREEN}function m(e){var t=e.shipmentTypeModel,n=e.addressDetailsModel,i=e.eeiList,r=t.getDataPart(),o=t.isCustomsDeclarationItemsVisible,a=r.customsInvoice&&r.customsInvoice.items||[],u=t.isCreatingEnhancedInvoice(),c=_({shipmentTypeData:r,lineItems:a,isCreatingEnhancedInvoice:u}),s=E(r,a,o);if(i){var l=i.map(function(e){return e.description});s=(s||[]).concat(l)}return{shipmentDescription:c,lineItemDescriptions:s,fromCountryCode:n.getShipmentCountry(),fromServiceCode:n.getShipperAddress().addressDetails.serviceAreaCode,toCountryCode:n.getDestinationCountry(),toServiceCode:n.getReceiverAddress().addressDetails.serviceAreaCode,shipmentPackagingType:t.shipmentType}}function _(t){var n=t.shipmentTypeData,i=t.lineItems,r=t.isCreatingEnhancedInvoice,o=e.is(l.states.ENHANCED_INVOICE)||e.is(l.states.RETURN_LABEL_ENHANCED_INVOICE);return n.customsInvoiceType===u["default"].CREATE&&i.length<=1&&(!r||o)?null:n.documentDescription}function E(e,t,n){return(e.customsInvoiceType===u["default"].CREATE||n)&&t.length&&S(t)||null}function S(e){var t=e.map(function(e){return e.description}).filter(Boolean);return t.length&&t}function g(e){var n=e.shipmentTypeModel,r=e.addressDetailsModel;if(h(r,n))return t.when(!0);var o=m(e);return o.shipmentDescription||P(o.lineItemDescriptions)?i({isDutiable:n.isDutiable,fromCountryCode:r.getShipmentCountry(),toCountryCode:r.getDestinationCountry()}).then(function(n){return n?C(o,e):t.when(!0)}):t.when(!0)}function C(e,t){var n=t.shipmentTypeModel,i=t.eeiList;return r(e).then(function(e){return d({gssValidationResult:e,shipmentTypeModel:n,lineItemModels:A(n,i)})})}function A(e,t){return e.itemAttributes.productList.concat(t||[])}function h(e,t){return M({fromCountryCode:e.getShipmentCountry(),toCountryCode:e.getDestinationCountry(),isMailingListShipment:!!e.getMailingListContacts(),intraEuDutiableStatus:t.intraEuDutiableStatus,isDutiable:t.isDutiable,shipmentPackagingType:t.shipmentType})}function I(e){return v(e)?O(e):t.when(!0)}function v(e){var t=e.ngModelCtrl,n=t===undefined?{$valid:!0}:t;return!N(e)&&(n.$valid||n.$error&&!n.$error.prohibition&&n.$error.gssValidation)}function N(e){var t=e.eventRelatedTarget;return y(e)?(e.model.gssValidationResult={status:o.GSS_STATUS.GREEN},!0):!!T(t)||M(e)}function T(e){return e&&b.includes(e.id)}function M(e){var t=e.isMailingListShipment,n=e.fromCountryCode,i=e.toCountryCode,r=e.intraEuDutiableStatus,o=e.isDutiable,a=e.shipmentPackagingType;return t||a!==s["default"].PACKAGE||n===i&&!(r&&o)}function y(e){var t=e.lineItemDescriptions&&e.lineItemDescriptions[0];return!(e.isMandatory||e.shipmentDescription||t)}function O(e){var n=e.shipmentDescription?a:c,o=D(e);return i(e).then(function(i){return i?r(o).then(function(t){return n(t,e.model)}):t.when(!0)})}function D(e){return{shipmentDescription:e.shipmentDescription,lineItemDescriptions:e.lineItemDescriptions,fromCountryCode:e.fromCountryCode,fromServiceCode:e.fromServiceCode,toCountryCode:e.toCountryCode,toServiceCode:e.toServiceCode,shipmentPackagingType:e.shipmentPackagingType}}function P(e){return e&&e.length}function R(e){n.storeValidLineItemDescriptionInCache(e)}var b=["nextButton","saveToMyProductList"];return{invokeGlobalScreeningValidation:g,invokeGssValidationForDescription:I,storeValidLineItemDescriptionInCache:R,isScreeningMustBeSkipped:M}}r.$inject=["$state","$q","globalScreeningResource"],t.__esModule=!0,t["default"]=r;var o=n(399),a=n(47),u=i(a),c=n(7),s=i(c),l=n(9);r.NG_NAME="globalScreeningValidationService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t){return e.get("/api/shipment/intraEu",{params:t,cache:!0}).then(function(e){return e.data})}function i(n){var i=o(n),r=i.shipmentDescriptionCacheKey,l=i.lineItemDescriptionCacheKeys;return a(r,l)?t.when({shipmentDescriptionStatus:d[r],lineItemDescriptionStatuses:l.map(function(e){return d[e]})}):!r&&c(l)?t.when({lineItemDescriptionStatuses:l.map(function(e){return d[e]})}):!l&&u(r)?t.when({shipmentDescriptionStatus:d[r]}):e.post("/api/shipment/description/screening",n).then(function(e){var t=e.data;return s(t,r,l),t})}function o(e){var t=e.lineItemDescriptions,n=e.fromCountryCode,i=e.fromServiceCode,r=e.toCountryCode,o=e.toServiceCode,a=e.shipmentDescription,u=[n,i,r,o].join();return{shipmentDescriptionCacheKey:a&&u+","+a,lineItemDescriptionCacheKeys:t&&t.map(function(e){return u+","+e})}}function a(e,t){return u(e)&&c(t)}function u(e){return e&&d[e]}function c(e){return e&&e.every(function(e){return d[e]})}function s(e,t,n){var i=e.lineItemDescriptionStatuses,r=e.shipmentDescriptionStatus;r&&(d[t]=r),i&&i.forEach(function(e,t){var i=n[t];d[i]=e})}function l(e){var t=o(e),n=t.lineItemDescriptionCacheKeys,i=n[0];d[i]={status:r.GSS_STATUS.GREEN}}var d={};return{isCountriesFromEurope:n,validateGlobalScreening:i,storeValidLineItemDescriptionInCache:l}}i.$inject=["$http","$q"],t.__esModule=!0,t["default"]=i;var r=n(399);i.NG_NAME="globalScreeningResource"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t,n,u){return r=r||e.debounce(i,o["default"].currencyConversionTimeout),(u?r:i)({amount:t,sourceCurrency:n,targetCurrency:a})}function i(e){return t.processCurrencyConversion(e)}var r=void 0,a="INR";return{getAmountConvertedToInr:n}}i.$inject=["debounceService","shipmentTypeService"],t.__esModule=!0,t["default"]=i;var r=n(27),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="gstDataService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t,n){e(function(){t.invoiceType=i(t,n),t.typeOfExport=r("typeOfExport",t)})}function i(e,t){return t?g:r("invoiceType",e)}function r(e,t){return t.shippingPurpose?t.shippingPurpose[e]:""}function a(e,t,n){return e.isShipmentTypeCategoriesAvailable?u(e,t,n):e.itemAttributes.shippingPurposeList}function u(e,n,i){var r=t.getAvailableIndiaShippingPurposes(e,n);return c(r,n,e,i),r}function c(e,t,i,r){i.itemAttributes.shippingPurpose&&t&&e.length&&(e.find(function(e){return e.reasonForExport===i.itemAttributes.shippingPurpose.reasonForExport})||(i.itemAttributes.shippingPurpose=null,n(i.itemAttributes,r)))}function s(e){t.getShippingPurposeList(e.fromCountry,e.toCountry).then(function(t){return l(t,e)})}function l(e,t){t.shipmentTypeModel.itemAttributes.shippingPurposeList=[].concat(e.shipmentPurposeItemList),t.onlyCommercialInvoice=e.onlyCommercialInvoice,p(t),d(t)}function d(e){var t=e.shipmentTypeModel.itemAttributes,i=e.onlyCommercialInvoice,r=t.shippingPurposeList.find(function(e){return e.defaultPurpose});r&&f(t.shippingPurpose)&&(t.shippingPurpose=r,n(t,i)),m(t)}function f(e){return t.shouldUpdateShippingPurpose(e)}function p(e){e.shipmentTypeModel.isShipmentTypeCategoriesAvailable&&e.fromCountry===o["default"].INDIA&&t.loadIndiaShippingPurpose().then(function(t){return e.indiaShippingPurposes=t})}function m(e){if(e.shippingPurpose&&!e.shippingPurpose.description){var t=e.shippingPurposeList.find(function(t){return t.reasonForExport===e.shippingPurpose.reasonForExport});t&&t.description&&(e.shippingPurpose.description=angular.copy(t.description))}}function _(e,t,n){var i=n?E(e,t):S(e,t);return i&&(t.isShipmentPurposeVisible=i),i}function E(e,t){return e&&!t.isShipmentTypeCategoryMissing()&&(!t.isEnhancedInvoiceVisited()||t.isUsingOwnCustomsInvoice())}function S(e,t){var n=t.isCustomsInvoiceAvailable,i=t.isShipmentTypePackage,r=t.customsInvoiceType,o=t.isCreatingCustomsInvoice,a=t.isShipmentTypeCategoryMissing,u=t.isEnhancedInvoiceVisited,c=t.isUsingOwnCustomsInvoice;return(n||i())&&r&&(!u()||c())&&(o()||e&&!a())}var g="C";return{onPurposeChanged:n,getShippingPurposeList:a,loadShippingPurpose:s,setDefaultShippingPurpose:d,handleShipmentPurposeVisibility:_}}i.$inject=["$timeout","shipmentItemAttributesFacade"],t.__esModule=!0,t["default"]=i;var r=n(4),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="shipmentPurposeService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({bindings:{shipmentTypeModel:"<"+f,addressDetailsModel:"<"+f+"AddressDetailsModel",itarBisModel:"<"+f+"ItarBisModel",masterReferenceNumberModel:"<"+f+"MasterReferenceNumberModel",indiaShipmentModel:"<"+f+"IndiaShipmentModel",packageDetailsModel:"<"+f+"PackageDetailsModel",otherChargesModel:"<"+f+"OtherChargesModel",referencesData:"<"+f+"ReferencesData",cteOption:"<"+f+"CteOption",shipmentTypeCategory:"<"+f+"ShipmentTypeCategory",isBankDetailsVisible:"<"+f+"BankDetailsVisible",isVatTaxEnteredOnAddressStep:"<"+f+"VatTaxEnteredOnAddressStep",isEoriEnteredOnAddressStep:"<"+f+"EoriEnteredOnAddressStep",isVatTaxCrEnteredOnAddressStep:"<"+f+"VatTaxCrEnteredOnAddressStep",isDeclaredValueDisabled:"<"+f+"DeclaredValueDisabled",isDeclaredValueHiddenByB2lRestrictions:"<"+f+"DeclaredValueHiddenByB2lRestrictions",isItemAttributesDeclaredValueDisabled:"<"+f+"ItemAttributesDeclaredValueDisabled",isEnhancedInvoiceCreatedByDefault:"<"+f+"CreateEnhancedInvoiceByDefault",isDocumentsTypeDisabled:"<"+f+"DocumentsTypeDisabled",isPackagesTypeDisabled:"<"+f+"PackagesTypeDisabled",isAssignShipment:"<?"+f+"IsAssignShipment",isDutiable:"<?"+f+"IsDutiable",isShipmentTypeCategoriesAvailable:"<?"+f+"IsShipmentTypeCategoriesAvailable"},controller:o,controllerAs:"shipmentTypeItemsCtrl",templateUrl:"components/shipment/type/items.html"})}function o(e,t,n,i,r){"ngInject";function o(){_(),p()}function a(e){k.fromCountry=k.addressDetailsModel.getShipmentCountry(),k.toCountry=k.addressDetailsModel.getDestinationCountry(),l(e),f(e),c()}function c(){k.shipmentTypeModel.shipmentType===d["default"].PACKAGE&&(k.itarBisModel.isDocument=!1)}function l(e){e.isShipmentTypeCategoriesAvailable&&k.isShipmentTypeCategoriesAvailable&&_()}function f(e){var t=e.shipmentTypeCategory;k.isShipmentTypeCategoriesAvailable&&t&&k.shipmentTypeCategory&&r.setDefaultShippingPurpose(k)}function p(){k.canCreateDocuments=e.getCoreRestriction(s["default"].CAN_CREATE_DOCUMENTS),m()}function m(){k.canCreateDocuments||(k.shipmentTypeModel.shipmentType=d["default"].PACKAGE)}function _(){r.loadShippingPurpose(k)}function E(){return i.isCsbvShipment(k.shipmentTypeModel.shipmentTypeCategory)}function S(){if(k.shipmentTypeModel.isShipmentTypeCategoriesAvailable&&!k.shipmentTypeModel.shipmentTypeCategory)return!1;var e=k.shipmentTypeModel.itemAttributes.canEnableDescribeSection||t.isShippingPurposeSelected(k.shipmentTypeModel.itemAttributes.shippingPurpose);return k.shipmentTypeModel.isAllShipmentReferencesVisible(e)}function g(){return!e.isAuthorized()&&k.shipmentTypeModel.isCreatingCustomsInvoice()&&k.shipmentTypeModel.isCommercialInvoiceAvailableForCurrentShipmentType()}function C(){return!k.shipmentTypeModel.isShipmentTypeCategoriesAvailable||k.shipmentTypeModel.shipmentTypeCategory}function A(){return C()&&!k.shipmentTypeModel.isEnhancedInvoiceVisited()&&k.shipmentTypeModel.isCreatingCustomsInvoice()}function h(){return k.shipmentTypeModel.itemAttributes.canEnableDescribeSection||t.isShippingPurposeSelected(k.shipmentTypeModel.itemAttributes.shippingPurpose)&&k.shipmentTypeModel.isCommercialInvoiceAvailableForCurrentShipmentType()}function I(){return!!n.getShipmentType(k.cteOption)}function v(){var e=k.addressDetailsModel.model.fromContact.collectionType,t=k.addressDetailsModel.model.toContact.collectionType;return N(),Object.assign(w,k.addressDetailsModel.getContactsKeys(),{fromContactCollectionType:e,toContactCollectionType:t})}function N(){var e=k.addressDetailsModel,t=e.initialData,n=e.model;k.referencesData.retainReferencesDetail=angular.isUndefined(k.referencesData.retainReferencesDetail)&&!!t,t&&t.fromContact.key!==n.fromContact.key&&(k.referencesData.retainReferencesDetail=!1)}function T(){return Object.assign(U,{fromAddress:k.addressDetailsModel.model.fromContact.addressDetails,toAddress:k.addressDetailsModel.model.toContact.addressDetails})}function M(){return k.shipmentTypeModel.isShipmentTypePackage()&&!A()&&(!k.shipmentTypeModel.isEnhancedInvoiceVisited()||k.shipmentTypeModel.isUsingOwnCustomsInvoice())}function y(){return r.handleShipmentPurposeVisibility(k.isDutiable,k.shipmentTypeModel)}function O(){var e=r.getShippingPurposeList(k.shipmentTypeModel,k.indiaShippingPurposes);return angular.equals(F,e)?F:(F=e,e)}function D(){r.onPurposeChanged(k.shipmentTypeModel.itemAttributes,k.onlyCommercialInvoice)}function P(e){return!R()&&k.isDutiable&&(e===u["default"].USE&&k.shipmentTypeModel.isUsingOwnCustomsInvoice()||e===u["default"].CREATE&&A())}function R(){return!!k.addressDetailsModel.model.mailingList}function b(){return!k.addressDetailsModel.model.isGlobalMailShipment&&L()}function L(){return k.shipmentTypeModel.isCommercialInvoiceVisibleForDocuments()||k.shipmentTypeModel.isShipmentTypePackage()&&k.isDutiable}function G(){return k.shipmentTypeModel.isCreatingCustomsInvoice()&&!k.shipmentTypeModel.isEnhancedInvoiceVisited()}var k=this,w={},U={},F=void 0;Object.assign(k,{onlyCommercialInvoice:!1,isIecNumberValid:!1,canCreateDocuments:!0,$onInit:o,$onChanges:a,isAllShipmentReferencesVisible:S,isAdditionalInfoVisible:g,isItemAttributesBlockVisible:A,isShipmentItemAttributesItemsVisible:h,isShipmentTypeLocked:I,getReferencesOptions:v,getHelpersOptions:T,iecVisibilityCallback:E,isTaxPaymentVisible:M,isShipmentPurposeVisible:y,getShippingPurposeList:O,onPurposeChanged:D,isInvoiceNumberVisible:P,areInvoiceValueWithChargesVisible:b,isRemarksVisible:G,isMailingListShipment:R})}r.$inject=["component"],o.$inject=["userService","shipmentItemAttributesFacade","brazilService","indiaFlowService","shipmentPurposeService"],t.__esModule=!0,t["default"]=r,t.ShipmentTypeItemsController=o;var a=n(47),u=i(a),c=n(36),s=i(c),l=n(7),d=i(l),f=r.NG_NAME="ewfShipmentTypeItems"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({bindings:{model:"<"+f,totalDeclaredValue:"<"+f+"TotalDeclaredValue",declaredCurrency:"="+f+"DeclaredCurrency",shipmentCategory:"<"+f+"ShipmentCategory",isReturnLabel:"<?"+f+"IsReturnLabel"},controller:o,controllerAs:"indiaTaxPaymentCtrl",templateUrl:"components/shipment/type/india-tax-payment.html"})}function o(e,t,n,i){"ngInject";function r(){l(),p()}function o(e){var t=e.totalDeclaredValue,n=e.declaredCurrency;A.model&&A.model.gstSectionVisible&&E(t,n)}function c(e,n){(e||n)&&A.totalDeclaredValue&&t.getAmountConvertedToInr(A.totalDeclaredValue,A.declaredCurrency,!0).then(function(e){A.maxIgstValue=e})}function l(){var e=A.model.againstBond===u["default"].YES&&a.TAX_PAYMENT_OPTIONS.AGAINST_BOND||A.model.suppliedForExport===u["default"].YES&&a.TAX_PAYMENT_OPTIONS.IGST||f()&&a.TAX_PAYMENT_OPTIONS.NOT_APPLICABLE||u["default"].SELECT_ONE;A.taxPaymentOption=e}function f(){return A.model.suppliedForExport===u["default"].NA&&A.model.againstBond===u["default"].NA}function p(){A.dropdownOptions=[{value:u["default"].SELECT_ONE,label:i.SHIPMENT_DETAILS.GST_SELECT_ONE},{value:a.TAX_PAYMENT_OPTIONS.NOT_APPLICABLE,label:i.SHIPMENT_DETAILS.GST_SELECT_NOT_APPLICABLE},{value:a.TAX_PAYMENT_OPTIONS.AGAINST_BOND,label:i.SHIPMENT_DETAILS.GST_SELECT_AGAINST_BOND_OR_UNDERTAKING},{value:a.TAX_PAYMENT_OPTIONS.IGST,label:i.SHIPMENT_DETAILS.GST_SELECT_IGST_PAYMENT}]}function m(){return A.taxPaymentOption===a.TAX_PAYMENT_OPTIONS.IGST}function _(){var e=h[A.taxPaymentOption],t=e[0],n=e[1];A.model.suppliedForExport=t,A.model.againstBond=n,E()}function E(e,t){m()&&n.isCsbvShipment(A.shipmentCategory)&&(A.declaredCurrency=A.inrCurrency),c(e,t)}function S(){return m()&&n.isCsbvShipment(A.shipmentCategory)&&!e[d["default"].DONT_SHOW_AGAIN_INR_ALERT_KEY]}function g(){e[d["default"].DONT_SHOW_AGAIN_INR_ALERT_KEY]=!0}var C,A=this,h=(C={},C[a.TAX_PAYMENT_OPTIONS.IGST]=[u["default"].YES,u["default"].NO],C[a.TAX_PAYMENT_OPTIONS.AGAINST_BOND]=[u["default"].NO,u["default"].YES],C[a.TAX_PAYMENT_OPTIONS.NOT_APPLICABLE]=[u["default"].NA,u["default"].NA],C[u["default"].SELECT_ONE]=[u["default"].SELECT_ONE,u["default"].SELECT_ONE],C);Object.assign(A,{taxPaymentOption:"",inrCurrency:s["default"].INR,$onInit:r,$onChanges:o,isIGSTPayment:m,onTaxPaymentChange:_,isAlertVisible:S,hideAlert:g})}r.$inject=["component"],o.$inject=["$localStorage","gstDataService","indiaFlowService","Messages"],t.__esModule=!0,t["default"]=r,t.IndiaTaxPaymentController=o;var a=n(159),u=i(a),c=n(402),s=i(c),l=n(24),d=i(l),f=r.NG_NAME="ewfIndiaTaxPayment"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"="+r},controllerAs:"shipmentTypeInvoiceNumberCtrl",templateUrl:"invoice-number.html"})}i.$inject=["component"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfShipmentTypeInvoiceNumber"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"="+r},controllerAs:"remarksCtrl",templateUrl:"dhl-remarks.html"})}i.$inject=["component"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfRemarks"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{country:"<"+r+"Country",countryRequired:"<?"+r+"CountryRequired",ultimateConsignee:"="+r+"UltimateConsignee",ultimateConsigneeClass:"@"+r+"UltimateConsigneeClass",ultimateConsigneeRequired:"<?"+r+"UltimateConsigneeRequired",noColumns:"<?"+r+"NoColumns"},controllerAs:"customsInvoiceUltimateFieldsCtrl",templateUrl:"components/shipment/type/ultimate/customs-invoice-ultimate-fields-component.html"})}i.$inject=["component"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfCustomsInvoiceUltimateFields"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"="+r,"class":"<"+r+"Class",required:"<?"+r+"Required",parentClass:"@?"+r+"ParentClass"},controllerAs:"ultimateConsigneeCtrl",templateUrl:"components/shipment/type/ultimate-consignee.html"})}i.$inject=["component"],t.__esModule=!0,t["default"]=i;var r=i.NG_NAME="ewfShipmentTypeUltimateConsignee"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{shipmentTypeModel:"<"+u+"ShipmentTypeModel",addressDetailsModel:"<"+u+"AddressDetailsModel",cteOption:"<?"+u+"CteOption",isVatTaxEnteredOnAddressStep:"<"+u+"IsVatTaxEnteredOnAddressStep",isEoriEnteredOnAddressStep:"<"+u+"IsEoriEnteredOnAddressStep",isVatTaxCrEnteredOnAddressStep:"<"+u+"IsVatTaxCrEnteredOnAddressStep",isCustomsInvoiceUltimateFieldsVisible:"<"+u+"IsCustomsInvoiceUltimateFieldsVisible",isEoriFieldHidden:"<?"+u+"IsEoriFieldHidden",isReturnLabel:"<?"+u+"IsReturnLabel"},controller:r,controllerAs:"shipmentTypeVatTaxEoriCtrl",templateUrl:"shipment-type-vat-tax-eori.html"})}function r(e,t,n,i){"ngInject";function r(){i.applyRulesForEoriAndTaxId(v.shipmentTypeModel.enhancedInvoice,v.addressDetailsModel,v.isReturnLabel),u()}function o(){return!v.shipmentTypeModel.shipmentTypeCategory}function u(){var e=A();v.shipmentTypeModel.isCnpjOrCPFTaxIDEntered=!!e.cnpjOrCPFTaxID,v.shipmentTypeModel.isCnpjOrCPFTaxIDValid=e.isCnpjOrCPFTaxIDValid}function c(){return s()||p()||I()}function s(){var e=v.addressDetailsModel.model.fromContact.taxDetails.isVatTaxIdAvailable;return!v.shipmentTypeModel.isCreatingEnhancedInvoice()&&e&&f(v.isVatTaxEnteredOnAddressStep,v.shipmentTypeModel.enhancedInvoice.vatTaxMandatory)}function l(){return i.isEoriVisible(v.shipmentTypeModel.enhancedInvoice.eoriMandatory,v.shipmentTypeModel.isDutiable,v.isEoriEnteredOnAddressStep)&&!v.isEoriFieldHidden}function d(){var e=!v.addressDetailsModel.model.mailingList,t=v.addressDetailsModel.model.toContact.taxDetails.isVatTaxIdAvailable;return e&&t&&f(v.isVatTaxCrEnteredOnAddressStep,v.shipmentTypeModel.enhancedInvoice.vatTaxCrMandatory)}function f(e,t){var n=v.shipmentTypeModel.isDutiable||v.isReturnLabel;return i.isVatTaxCrVisible(t,n,e)}function p(){return!v.shipmentTypeModel.isCreatingEnhancedInvoice()&&(s()||l()||d())}function m(){return p()||v.isCustomsInvoiceUltimateFieldsVisible}function _(){return S()||m()}function E(){e(function(){return t.checkForm("toContact")})}function S(){return s()||I()}function g(){return v.isReturnLabel?i.getShipFromRestriction():i.getShipToRestriction()}function C(){return v.isReturnLabel?v.addressDetailsModel.getShipmentCountry():v.addressDetailsModel.getDestinationCountry()}function A(){return v.isReturnLabel?v.addressDetailsModel.model.fromContact:v.addressDetailsModel.model.toContact}function h(){return A().getCountryDivision()}function I(){return i.getCnpjCpfFieldsetVisibilityStatus(v)}var v=this;Object.assign(v,{fieldIdentifiers:{shipperVatTaxId:a["default"].SHPR_VT_TX_ID,receiverVatTaxId:a["default"].RCVR_VT_TX_ID},$onInit:r,isCallout:c,isFromVatTaxCrVisible:s,isFromEoriVisible:l,isToVatTaxCrVisible:d,isVatEoriFormVisible:p,areSectionTitleAndTextVisible:S,isCnpjCpfFieldsetVisible:I,isAdditionalShipmentFieldsAvailabile:m,isVatTaxRowVisible:_,iecVisibilityCallback:o,onVatTaxIdChange:E,getShipRestriction:g,getTaxDetails:A,getCountryCode:C,getContactProvince:h})}i.$inject=["component"],r.$inject=["$timeout","formService","indiaFlowService","shipmentTaxDetailService"],t.__esModule=!0,t["default"]=i,t.ShipmentTypeVatTaxEoriController=r;var o=n(1971),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfShipmentTypeVatTaxEori"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={SHPR_VT_TX_ID:{value:"SHP-DTLS_SHPR-VT-TX-ID",notificationId:"shipperVatTaxId"},RCVR_VT_TX_ID:{value:"SHP-DTLS_RCVR-VT-TX-ID",notificationId:"receiverVatTaxId"}}},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{shipmentTypeModel:"<"+o,addressDetailsModel:"<"+o+"AddressDetailsModel",isDeclaredValueDisabled:"<"+o+"Disabled",isDeclaredValueHiddenByB2lRestrictions:"<"+o+"HiddenByB2lRestrictions",otherChargesModel:"<?"+o+"OtherChargesModel"},controller:r,controllerAs:"shipmentTypeDeclaredValueCtrl",templateUrl:function(){function e(e,t){return t[o+"OtherChargesModel"]?"shipment-type-declared-value-with-other-charges.html":"shipment-type-declared-value.html"}return e}()})}function r(){function e(){var e=n.shipmentTypeModel.itemAttributes,t=e.restoredDeclaredValue,i=e.totalDeclaredValue;return n.isDeclaredValueDisabled&&(t||i)&&t!==i}function t(){return!n.isDeclaredValueHiddenByB2lRestrictions&&n.shipmentTypeModel.isTotalDeclaredValueVisible()}var n=this;Object.assign(n,{isDeclaredValueExceededRestriction:e,isTotalDeclaredValueVisible:t})}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.ShipmentTypeDeclaredValueController=r;var o=i.NG_NAME="ewfShipmentTypeDeclaredValue"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"shipmentTypeSupplyDetailsCtrl",templateUrl:"shipment-type-supply-details.html",bindings:{shipmentTypeModel:"<"+o,addressDetailsModel:"<"+o+"AddressDetailsModel"}})}function r(e,t,n){"ngInject";function i(){r(),o()&&(u.shipmentTypeModel.itemAttributes.usingECommerce=!0)}function r(){var e=u.addressDetailsModel.model.fromContact.addressDetails.serviceAreaCode;n.getLocalShipmentDate(e).then(function(e){var t=e.minShipmentDate;u.maxSupplyDate=t})}function o(){return u.shipmentTypeModel.isShipmentTypeCategoriesAvailable&&e.isCsbvShipment(u.shipmentTypeModel.shipmentTypeCategory)}function a(e){return t.getDateIgnoringTime(e)>t.getDateIgnoringTime(u.maxSupplyDate)}var u=this;Object.assign(u,{$onInit:i,isSupplyDetailsAvailable:o,isDateDisabled:a})}i.$inject=["component"],r.$inject=["indiaFlowService","dateTimeService","shipmentProductsService"],t.__esModule=!0,t["default"]=i,t.ShipmentTypeSupplyDetailsController=r;var o=i.NG_NAME="ewfShipmentTypeSupplyDetails"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"shipmentPurposeCtrl",templateUrl:"shipment-purpose.html",bindings:{shippingPurpose:"="+u,isDutiable:"<"+u+"IsDutiable",customsInvoiceType:"<"+u+"CustomInvoiceType",list:"<"+u+"List",onShipmentPurposeChanged:"&"+u+"OnPurposeChanged"}})}function r(e){"ngInject";function t(t){t.customsInvoiceType&&r.customsInvoiceType&&(r.label=r.customsInvoiceType===a["default"].USE?e.SHIPMENT_CUSTOMS_INVOICE.CREATE_CUSTOMS_INVOICE_SUB_HEADER_PACKAGE_SHIPMENT_PURPOSE:e.SHIPMENT_CUSTOMS_INVOICE.CREATE_CUSTOMS_INVOICE_SUB_HEADER_SHIPMENT_PURPOSE)}function n(){r.onShipmentPurposeChanged()}function i(){return r.shippingPurpose&&!!r.shippingPurpose.reasonForExport}var r=this;Object.assign(r,{$onChanges:t,onPurposeChanged:n,isShipmentPurposeValid:i})}i.$inject=["component"],r.$inject=["Messages"],t.__esModule=!0,t["default"]=i,t.ShipmentPurposeController=r;var o=n(47),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfShipmentPurpose"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{model:"<"+a,goodsAndServicesTaxId:"<"+a+"GoodsAndServicesTaxId",gstinType:"<"+a+"GstinType",invoiceNumber:"="+a+"InvoiceNumber",totalDeclaredValue:"<"+a+"TotalDeclaredValue",declaredCurrency:"<"+a+"DeclaredCurrency",country:"<"+a+"Country",countryDivisionCode:"<"+a+"CountryDivisionCode",isDutiable:"<"+a+"Dutiable",isCreatingEnhancedInvoice:"<"+a+"CreatingEnhancedInvoice"},controller:r,controllerAs:"gstDataCtrl",templateUrl:"components/item-attributes/india/gst-data.html"})}function r(e,t,n,i,r){"ngInject";function a(){s(),E()}function u(e){var t=e.isDutiable,n=e.isCreatingEnhancedInvoice,i=e.model,r=e.totalDeclaredValue,o=e.declaredCurrency;l(t,i),f(n),d(r,o)}function c(){C.model.gstIdentifier=C.goodsAndServicesTaxId,C.model.gstinType=C.gstinType,C.model.originInvoiceNumber=C.invoiceNumber}function s(){C.transactionTypes=[{value:o.TRANSACTION_TYPES.SELECT_ONE,label:r.SHIPMENT_DETAILS.GST_SELECT_TRANSACTION_TYPE_SELECT_ONE},{value:o.TRANSACTION_TYPES.REGULAR,label:r.SHIPMENT_DETAILS.GST_SELECT_TRANSACTION_TYPE_REGULAR},{value:o.TRANSACTION_TYPES.BILL_SHIP_FROM,label:r.SHIPMENT_DETAILS.GST_SELECT_TRANSACTION_TYPE_BILL_SHIP_FROM}]}function l(e,t){(e||t)&&p()}function d(e,t){if(e||t)return C.totalDeclaredValue?void g().promise.then(function(){return i.getAmountConvertedToInr(C.totalDeclaredValue,C.declaredCurrency,!0)}).then(function(e){h=e,S()}):(h=null,void S())}function f(e){e&&C.isCreatingEnhancedInvoice&&(C.model.originInvoiceDate=m()),e&&(C.isInvoiceFieldDisabled=!!C.invoiceNumber&&C.isCreatingEnhancedInvoice)}function p(){C.model.gstSectionVisible=C.isDutiable}function m(){return t("date")(new Date,"yyyy-MM-dd")}function _(){return!!C.invoiceNumber||!!C.model.gstInvoiceNumber}function E(){n.getFormField(n.CI_KEYS.CI1301_E_WAYBILL_CAP_AMOUNT,C.country).then(function(e){var t=e.value,n=e.currency;return i.getAmountConvertedToInr(t,n)}).then(function(e){A=e,g().resolve()})}function S(){C.hideFields=!h||h<A,C.hideFields&&(C.model.gstWaybillData=null)}function g(){return I=I||e.defer()}var C=this,A=void 0,h=void 0,I=void 0;Object.assign(C,{$onInit:a,$onChanges:u,$doCheck:c,isInvoiceNumbersValid:_})}i.$inject=["component"],r.$inject=["$q","$filter","configService","gstDataService","Messages"],t.__esModule=!0,t["default"]=i,t.GstDataController=r;var o=n(159),a=i.NG_NAME="ewfGstData"},function(e,t,n){"use strict";function i(e){"ngInject";function t(e){var t=n(e);return{collections:t,defaultCollection:t.find(r)}}function n(e){var t=i();return e.map(function(e){return{id:e.groupId,collection:e.type,description:e.groupName||t[e.type],isDefault:e["default"],permissions:Object.assign({},a,e.permissions)}})}function i(){var t;return t={},t[o["default"].COMPANY]=e.ADDRESS_BOOK.ADDRESS_BOOK_COLLECTIONS_SELECT_OPTION_CAB,t[o["default"].GROUP]=e.ADDRESS_BOOK.ADDRESS_BOOK_COLLECTIONS_SELECT_OPTION_GROUP,t[o["default"].GROUP_RESTRICTED_SHIP_FROM]=e.ADDRESS_BOOK.ADDRESS_BOOK_COLLECTIONS_SELECT_OPTION_GRAB_FROM,t[o["default"].GROUP_RESTRICTED_SHIP_TO]=e.ADDRESS_BOOK.ADDRESS_BOOK_COLLECTIONS_SELECT_OPTION_GRAB_TO,t[o["default"].CUSTOM_RESTRICTED_SHIP_FROM]=e.ADDRESS_BOOK.ADDRESS_BOOK_COLLECTIONS_SELECT_OPTION_CUSTOM_FROM,t[o["default"].CUSTOM_RESTRICTED_SHIP_TO]=e.ADDRESS_BOOK.ADDRESS_BOOK_COLLECTIONS_SELECT_OPTION_CUSTOM_TO,t[o["default"].PRIVATE]=e.ADDRESS_BOOK.ADDRESS_BOOK_COLLECTIONS_SELECT_OPTION_PAB,t}function r(e){return e.isDefault}var a={canEdit:!1,canCreate:!1,canDelete:!1,canExport:!1,canImport:!1};return{processCollections:t,getCollectionDescriptions:i}}i.$inject=["Messages"],t.__esModule=!0,t["default"]=i;var r=n(62),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="addressBookCollectionsService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function o(e,t,n,i,o,a,c,l,m,E,S,g){"ngInject";function C(e){return A(e).map(function(e){return e.key})}function A(e){return e.filter(function(e){return e.isSelected})}function h(e){return v(T(e))}function I(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return h({sortingParameters:e.sortingParameters,isPopup:e.isPopup,collectionType:e.collectionType,currentPage:e.currentPage,countryToExclude:e.countryToExclude,collection:d["default"].GLOBAL_MAIL})}function v(t){return e.get(t).then(function(e){return e.data})}function N(){return{pageIndex:0,pageSize:f.MIN_PAGE_SIZE}}function T(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=e.isPopup,n=e.countryCode,i=e.collectionType,r=void 0;return n?(r=M(e,{countryCode:n}),y(oe,r)):t?(r=M(e,{direction:i},!0),y(re,r)):(r=M(e,{}),y(re,r))}function M(e,t,n){var i=e.currentPage,r=e.excludeCountryCodes,o=e.collection,a=i||N(),u=a.pageIndex,c=a.pageSize,s={pageNumber:u,pageSize:c,excludeCountryCodes:r,collection:o},l=g.getSortingParameters(e,n);return Object.assign(s,t,{sortingParameters:l})}function y(e,t){var n=t.sortingParameters,i=r(t,["sortingParameters"]);return""+e+S.getParamsString(i)+g.getSortingParamsString(n)}function O(){return!(arguments.length<=0||arguments[0]===undefined)&&arguments[0]&&n.get("$http").remove(ie),e.get(ie,{cache:!0}).then(function(e){return e.data.limitReached})["catch"](function(){return!1})}function D(){var e=c.ADDRESS_BOOK.ADDRESS_BOOK_MSG_NO_ADDRESS_MATCHING_KEYWORD;i.showMessageDialog({message:e})}function P(e){var t=e>1?c.ADDRESS_BOOK.LB_DELETE_ITEM_PARAGRAPH_CONFIRMATION_MESSAGE.replace("{number}",e):c.COMMON.COMMON_MSG_DELETE_ONE_ITEM,n=e>1?c.COMMON.COMMON_HEADER_CONFIRM_MULTIPLE_DELETION:c.COMMON.COMMON_HEADER_CONFIRM_SINGLE_DELETION;return i.showConfirmationDialog({message:t,title:n,okButtonLabel:c.COMMON.COMMON_BUTTON_YES,cancelButtonLabel:c.COMMON.COMMON_BUTTON_NO})}function R(e){return P(e.contactKeys.length).then(function(){return b(e)})}function b(t){return e.post(ae,t).then(function(e){return e.data})}function L(t){var n=arguments.length<=1||arguments[1]===undefined?s["default"].SHIP_BOTH:arguments[1];return e.get("/api/addressbook/restrictions/collections/"+n,{preventNotFoundInterceptor:!0}).then(function(e){var n=e.data.available,i=t?n.filter(function(e){var n=e.type;return t.includes(n)}):n;return a.processCollections(i)})}function G(e){e.forEach(function(e){e.onSort=k})}function k(e,t,n){return e.profileContact||t.profileContact?0:m.compareBy(e,t,[n])}function w(t,n){var i=n.countryCode?oe:re,r=U(t,n);return e.get(""+i+r,{preventNotFoundInterceptor:!0}).then(function(e){return e.data})}function U(e,t){var n=e.collection,i=e.id,r=t.currentPage,o=t.excludeCountryCodes,a=t.countryCode,u=t.collectionType,c=r||N(),s=c.pageIndex,l=c.pageSize,d=a?"":u,f={collection:n,id:i,pageNumber:s,pageSize:l,direction:d,excludeCountryCodes:o,countryCode:a},p=g.getSortingParameters(t,!0);return""+S.getParamsString(f)+g.getSortingParamsString(p)}function F(e,t){return!e||!!e.selected&&e.selected.permissions[t]}function j(e){return F(e,ce.EDIT)}function V(e){return F(e,ce.CREATE)}function B(e){return F(e,ce.DELETE)}function $(e){return F(e,ce.EXPORT)}function H(e){return F(e,ce.IMPORT)}function x(e,t,n,i){var r,a=e||{},c=a.collection;o.redirectToNewContactPage((r={key:t,mode:n,collection:c},r[u["default"].EDIT_GLOBAL_MAIL_CONTACT]=i,r))}function K(e,t){var n=e||{},i=n.collection;o.redirectToViewContactPage({key:t,collection:i})}function Y(e,t){var n;o.redirectToCreateShipment((n={},n[u["default"].ADDRESS_KEY]=e,n[u["default"].SHIPMENT_IS_GLOBAL_MAIL]=t,n))}function W(e){t[_["default"].ADDRESSBOOK_ACTION_PARAM_NAME]="add"===e?p.ACTION_ADDED:p.ACTION_MODIFIED}function q(){var e=t[_["default"].ADDRESSBOOK_ACTION_PARAM_NAME];return e&&delete t[_["default"].ADDRESSBOOK_ACTION_PARAM_NAME],e}function z(e){t[_["default"].ADDRESSBOOK_COLLECTION_PARAM_NAME]=e}function X(e){var n=t[_["default"].ADDRESSBOOK_COLLECTION_PARAM_NAME];return n&&delete t[_["default"].ADDRESSBOOK_COLLECTION_PARAM_NAME],n&&e.find(function(e){return e.collection===n})}function Q(e){return C(e)}function Z(e,t){var n=e.selectAllHiddenItems,i={selectAll:n,excludedContactKeys:t};J(e,i),ee(e,i);var r={method:"POST",url:n?ue+"/background":ue,data:i,preventNotFoundInterceptor:!0};return n?l.backgroundDownload(r):l.download(r)}function J(e,t){e.selectAllHiddenItems||(t.contactKeys=Q(e.gridData))}function ee(e,t){var n=e.selectAllHiddenItems,i=e.collections;n&&i&&(t.collection=i.selected&&i.selected.collection,t.collectionId=i.selected&&i.selected.id)}function te(){return E.whoAmI(!0).then(ne)}function ne(e){var t=e.coreRestrictions;return!t||(t.addressBookAccess||t.accessToCAB||t.accessToGAB)}var ie="/api/addressbook/limit-reached",re="/api/addressbook/contact/list",oe="/api/addressbook/contact/search/default/all",ae="/api/addressbook/contact/delete",ue="/api/addressbook/export",ce={CREATE:"canCreate",DELETE:"canDelete",EDIT:"canEdit",EXPORT:"canExport",IMPORT:"canImport"};return{getContacts:h,getGlobalMailContacts:I,isContactLimitReached:O,showSearchFailureMessage:D,deleteContacts:R,filterSelected:A,filterSelectedContactKeys:C,getCollections:L,getCollectionContacts:w,canEditContact:j,canCreateContact:V,canDeleteContact:B,canExportContact:$,canImportContact:H,redirectToEditContactPage:x,redirectToViewContactPage:K,redirectToCreateShipmentPage:Y,setActionNotification:W,getActionNotification:q,setPredefinedCollection:z,getPredefinedCollection:X,downloadContacts:Z,setSortMethodToColumns:G,isAccessToAddressBookAllowed:te}}o.$inject=["$http","$localStorage","$cacheFactory","modalService","navigationService","addressBookCollectionsService","Messages","downloadService","sortService","userService","queryParamsService","sortingParametersService"],t.__esModule=!0,t["default"]=o;var a=n(1),u=i(a),c=n(34),s=i(c),l=n(62),d=i(l),f=n(20),p=n(947),m=n(24),_=i(m);o.NG_NAME="addressBookService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{contact:"<"+u,contactCollection:"<"+u+"Collection",collectionType:"<"+u+"CollectionType",collectionsData:"<"+u+"CollectionsData",getOptionalMandatorityConfig:"<?"+u+"GetOptionalMandatorityConfig",contactDetailsChanged:"<"+u+"ContactDetailsChanged",existingContactChanged:"<"+u+"ExistingContactChanged",onContactSaved:"&"+u+"OnContactSaved",onContactUpdated:"&"+u+"OnContactUpdated",onFailed:"&"+u+"OnFailed"},controller:r,controllerAs:"contactModificationActionsCtrl",templateUrl:"address-book-contact-modification-actions.html"})}function r(e,t,n,i,r){"ngInject";function o(){y={"address-3":i.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_ADDRESS_3,email:i.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_EMAIL,fax:i.SHIPMENT_ADDRESS.ADDRESS_DETAILS_SELECT_OPTION_FAX,nickname:i.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_NICKNAME,province:i.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_PROVINCE,state:i.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_STATE,suburb:i.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_SUBURB,"taxDetails.ieTaxId":i.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_IE_TAX_ID}}function u(e){c(e),s()}function c(e){var t=e.collectionsData;if(t&&t.currentValue){var n=t.currentValue;h=n.canCreateContacts,I=n.canEditContacts,v=n.extendableCollections,N=n.editableCollections}}function s(){(A.contactDetailsChanged||A.existingContactChanged)&&(A.contactStatus=null,l())}function l(){A.contactCollection&&(I=e.getEditPermission(N,A.contactCollection))}function d(e){return angular.isString(e)?e.replace(M,""):e}function f(e){var n=[];return Object.entries(e.fieldErrors).forEach(function(e){var t=e[0],i=e[1],o=d(t);n.push.apply(n,i.reduce(function(e,t){return e.push(y[o]+" : "+r(t)),e},[]))}),t.showDialog({controller:function(){function e(){return{errorMessages:n}}return e}(),controllerAs:"errorContactModalCtrl",templateUrl:"address-details-error-contact-dialog-layout.html"}).result}function p(){t.showDialog({controller:a["default"],controllerAs:"saveContactModalCtrl",templateUrl:"address-details-save-contact-dialog-layout.html",resolve:{contact:function(){function e(){return A.contact}return e}(),collections:function(){function e(){return v}return e}(),currentCollection:function(){function e(){return v[0]}return e}()}}).result.then(function(e){A.onContactSaved({contact:e}),A.contact.nickname=e.contactDetails.nickname,A.contactStatus=T.SAVED,A.contact.isContactChanged=!1})["catch"](m)}function m(e){e&&S(e)}function _(){return A.contact.profileContact?A.contact.addressDetails.countryCode!==n.getUserCountry()?t.showMessageDialog({message:i.ADDRESS_BOOK.ADDRESS_BOOK_MSG_PROFILE_CONTACT_CANT_BE_UPDATED}):t.showConfirmationDialog({message:i.ADDRESS_BOOK.ADDRESS_BOOK_MSG_IS_PROFILE_CONTACT}).then(E):E()}function E(){e.updateContact(A.contact.getForAddressBook(),A.contactCollection).then(function(){A.onContactUpdated(),A.contactStatus=T.UPDATED,A.contact.isContactChanged=!1})["catch"](S)}function S(e){f(e.data)["finally"](function(){return A.onFailed(e)})}function g(){return h&&A.contactDetailsChanged}function C(){return I&&A.existingContactChanged}var A=this,h=void 0,I=void 0,v=void 0,N=void 0,T={SAVED:"SAVED",UPDATED:"UPDATED"},M="contactDetails.",y=void 0;Object.assign(A,{$onInit:o,$onChanges:u,showSaveContactDialog:p,onUpdateContact:_,isUpdateButtonVisible:C,isSaveButtonVisible:g,contactStatus:null,actionStatus:{}})}i.$inject=["component"],r.$inject=["contactModificationActionsService","modalService","userService","Messages","nlsFilter"],t.__esModule=!0,t["default"]=i,t.ContactModificationActionsController=r;var o=n(1979),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfContactModificationActions"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(t){return i.addContact(e,a.nickname,a.currentCollection).then(t.close)["catch"](t.dismiss)}function o(){return a.collections.length>1}var a=this;Object.assign(a,{nickname:"",collections:t,currentCollection:n,saveContact:r,isCollectionSwitcherVisible:o})}i.$inject=["contact","collections","currentCollection","contactModificationActionsService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t,n,o){var u=r(t,n),c=a(o),s={collection:c};return e.post(f,u,{params:s}).then(function(e){var n=e.data;return i(t,c),n})}function i(e,t){e.collectionType=e.collection=t||o["default"].PRIVATE}function r(e,t){var n=angular.copy(e.getForAddressBook());return n.contactDetails.nickname=t,n.notifications=c(),delete n.key,n}function a(e){return e&&e.type}function u(t,n){var i={collection:n};return e.post(p,t,{params:i})}function c(){return{emailNotifications:[{email:t.getId(),language:"en",notificationEvents:{pickup:!1,clearanceDelay:!1,customsClearance:!1,exception:!1,outForDelivery:!1,delivered:!1}}],smsNotifications:[]}}function s(e,t){return e&&e.length?l(e,t):!d(t)}function l(e,t){return e.some(function(e){var n=e.type;return t===n})}function d(e){return e===o["default"].GLOBAL_MAIL}var f="/api/addressbook/contact/add",p="/api/addressbook/contact/modify";return{addContact:n,updateContact:u,getEditPermission:s}}i.$inject=["$http","userService"],t.__esModule=!0,t["default"]=i;var r=n(62),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="contactModificationActionsService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){return n.isAuthorized()&&u(),r}function r(e,t,n){var i=n[a+"Action"],r=e.$eval(n[a+"ActionField"]);t.on("click",function(t){s&&(t.stopImmediatePropagation(),e.$apply(function(){return c(i,r)}))})}function u(){t.isContactLimitReached().then(function(e){s=e})}function c(t,n){n[t]=!0,e(function(){n[t]=!1},o["default"].showInformationHintTimeout)}var s=!1;return{restrict:"A",priority:-300,compile:i}}i.$inject=["$timeout","addressBookService","userService"],t.__esModule=!0,t["default"]=i;var r=n(27),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfAddressBookLimit"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){i.model=e.$eval(n[a]),i.addressBookCollectionType=e.$eval(n[a+"AddressBookCollectionType"]),e.$watch(n[a],function(e){i.model=e,i.model&&i.init()});var r={b2bB2cEnabled:a+"B2bB2cEnabled",isBrazilFlow:a+"IsBrazilFlow",isCountryFieldDisabled:a+"IsCountryFieldDisabled",isEmailFieldRequired:a+"IsEmailFieldRequired",hasNoDhlAccount:a+"HasNoDhlAccount",isImportShipment:a+"IsImportShipment",addressBookCollectionType:a+"AddressBookCollectionType",hasShipRestriction:a+"HasShipRestriction",hasGlobalMailShipRestriction:a+"HasGlobalMailShipRestriction",basicFieldsDisabled:a+"BasicFieldsDisabled",cteOption:a+"CteOption",isBrazilianDomesticShipment:a+"IsBrazilianDomesticShipment",isShipmentTypePackage:a+"IsShipmentTypePackage",isReceiver:a+"IsReceiver",isDuplicatedFromGlobalMailContact:a+"IsDuplicatedFromGlobalMailContact",isReturnLabel:a+"IsReturnLabel",isFromContact:a+"IsFromContact"};Object.keys(r).forEach(function(t){e.$watch(n[r[t]],function(e){return i[t]=e})});var o={selectMailingList:a+"OnMailingListSelection",onGlobalMailSelected:a+"OnGlobalMailSelected",onGlobalMailClear:a+"OnGlobalMailClear",onContactChange:a+"OnContactChange",onReceiverCountryChanged:a+"OnReceiverCountryChanged"};Object.keys(o).forEach(function(t){var r=o[t];n[r]&&(i[t]=function(t){return e.$eval(n[r],t)})})}function t(e,t,n,i){t.on("blur","input, select, textarea",function(){e.$apply(i.checkContactDetails())})}return{restrict:"A",scope:!0,controller:o["default"],controllerAs:"addressContactCtrl",link:{pre:e,post:t}}}t.__esModule=!0,t["default"]=i;var r=n(1983),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfAddressContact"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,u,s){"ngInject";function d(){i.isAuthorized()&&($(),e.$watch(function(){return ne.cteOption},q)),p()}function p(){e.$watch(function(){return ne.model.key},_),e.$watch(function(){return ne.model.addressDetails.countryCode},g)}function _(){var e=new a["default"];return A(C()),ne.model.key===o.DEFAULT_CONTACT_KEY?void v(e):le?void 0:ne.isContactDetailsEmpty?void n.getMappedContact(ne.model.key).then(function(t){S(e,t)}):(v(ne.model),void G())}function S(e,t){ce=ne.isFromContact,e.setFromAddressBook(t),h(e),v(e),Z(),G(),ne.contactCollection||A(e.collectionType)}function g(){N(ne.model),ee()}function C(){return ne.model.profileContact?l["default"].PRIVATE:ne.model.collectionType||ne.model.collection}function A(e){ne.contactCollection=e}function h(e){var t=e.nickname,n=e.additionalNotes,i=e.collectionType,r=e.email,o=e.profileContact;Object.assign(ne.model,{nickname:t,additionalNotes:n,collectionType:i}),ne.model.email||I(o,r)}function I(e,t){e&&!t&&(ne.model.email=i.getUsername())}function v(e){se=angular.copy(e||ne.model),ne.isContactDetailsChanged=!1;var t=angular.copy(ne.model);t.phoneDetails.phoneType=null,ne.isContactDetailsEmpty=n.isContactEmpty(t),N(se)}function N(){var e=arguments.length<=0||arguments[0]===undefined?ne.model:arguments[0];if(ne.onContactChange){var t=e.getForAddressBook();t.isEmpty=n.isContactEmpty(e),t.isFromContact=ne.isFromContact,ne.onContactChange({contactDetails:t}),ce&&(s.actualizeFromContactDetails(),ce=!1)}}function T(){e.$broadcast("ValidateForm")}function M(){return ne.isContactDetailsChanged&&ne.model.key!==o.DEFAULT_CONTACT_KEY&&!n.isContactWithADMRAddress(ne.model)}function y(e){return X()||ne.basicFieldsDisabled||e}function O(){ne.model.clear(ne.isCountryFieldDisabled),ne.onGlobalMailClear&&ne.onGlobalMailClear(),J(),v()}function D(){return ne.isCountryFieldDisabled&&ne.model.addressDetails.countryCode}function P(e,t){return e&&t&&f["default"].BRAZIL}function R(e){b(e)}function b(e){var t=e.key,i=e.globalMailContact;ne.onGlobalMailSelected&&ne.onGlobalMailSelected({globalMailContact:i}),n.getMappedContact(t).then(function(e){var t=ne.model.addressDetails.countryCode;J(),ne.model.setFromAddressBook(e),L()&&(ne.model.ieTaxId=ie),v(),le=!0,ne.model.addressDetails.countryCode!==t&&ne.isReceiver&&ne.onReceiverCountryChanged()})}function L(){return ne.cteOption===c["default"].MANUAL_NON_DOC_EXEMPT}function G(){ne.isContactDetailsChanged=!n.isContactsEqual(ne.model,se),ne.model.isContactChanged=ne.isReceiver&&M(),ne.isContactDetailsChanged&&(ne.isContactDetailsEmpty&&ne.isContactDetailsChanged&&(ne.isContactDetailsEmpty=!1),le&&ne.isContactDetailsChanged&&(le=!1),N(ne.model))}function k(){ne.model.formDataChanged=!1}function w(e){le=!0,ne.model.key=e.key,J(),v()}function U(){v()}function F(){return!i.isGuest()&&!X()}function j(){return ne.isContactDetailsEmpty||(i.isGuest()||s.isShipmentAssigned())&&y()}function V(e,t,n){return!e&&B()&&(!n||!t)}function B(){return!ne.contactCollectionsEmpty||!i.isCorpEmployee()}function $(){r.getContactsCollectionsPermissions(ne.addressBookCollectionType).then(K)}function H(e){return e&&!e.length}function x(){return ne.isEmailFieldRequired||ne.model.addressDetails.residentialAddress}function K(e){ne.collectionsData=e,re=e.extendableCollections,oe=e.editableCollections,ae=e.readOnlyCollections,[re,oe,ae].every(H)&&(ne.contactCollectionsEmpty=!0),!H(ae)&&Y()&&W(ae).then(q)}function Y(){return ne.isBrazilFlow&&!ne.model.cachedNfeFileContact&&i.isRegularWithVirtualGroup()}function W(e){var t=e[0],n=t.type,i=t.groupId;return u.getCollectionContacts({collection:n,id:i}).then(function(e){var t=e[0],n=t===undefined?{}:t;return ue=n.key})}function q(){ue&&Y()&&b({key:ue})}function z(){return ne.isReceiver&&n.getOptionalMandatorityConfig(t)}function X(){return ne.hasShipRestriction||ne.hasGlobalMailShipRestriction}function Q(){return i.isGuest()}function Z(){n.applyGlobalMailContactDuplication(ne)}function J(e){n.setGlobalMailContactDuplicationStatus(ne.model,e)}function ee(){if(!ne.model.addressDetails.countryCode)return void(ne.taxFieldsConfigurations={});n.getTaxFieldsConfigurationsWithVatTaxIdCifs(ne.model.addressDetails.countryCode).then(function(e){ne.taxFieldsConfigurations=e})}function te(e){var t=E["default"].VAT_TAX_ID_FLAG,i=ne.taxFieldsConfigurations.businessPrivateConfigurations,r=n.isAllowedByVatTaxIdCif(ne.taxFieldsConfigurations,e)&&n.isTaxFieldAvailable(i,ne.model.businessContactType,e,t);return ne.model.taxDetails.isVatTaxIdAvailable=r,r}var ne=this,ie="ISENTO",re=[],oe=[],ae=[],ue=void 0,ce=void 0;Object.assign(ne,{init:d,getAddressBookCountryFilterValue:D,getCountryForContactsTransformation:P,isExistingContactChanged:M,isBasicFieldsDisabled:y,clearContact:O,addressBookSelected:b,checkContactDetails:G,typeaheadSelected:R,validateForm:T,removeFormDataChangedNotification:k,getOptionalMandatorityConfig:z,canPerformContactActions:F,onContactSaved:w,onContactUpdated:U,isAddressBookButtonShown:V,isToContactEmailRequired:x,isShipRestricted:X,isCifEmailMandatoryIgnored:Q,isClearButtonHidden:j,setGlobalMailContactDuplicationStatus:J,isVatTaxIdFieldAvailable:te,model:{},b2bB2cEnabled:!1,isCountryFieldDisabled:!1,isContactDetailsChanged:!1,isContactDetailsEmpty:!0,ADDRESS_DETAILS_NAMES:{FROM:"From",TO:"To"},contactCollection:null,taxFieldsConfigurations:{},PARTY_ROLES:m["default"]});var se=void 0,le=!1}r.$inject=["$scope","$document","addressContactService","userService","contactCollectionsPermissionsService","addressBookService","shipmentFlowService"],t.__esModule=!0,t["default"]=r;var o=n(15),a=i(o),u=n(55),c=i(u),s=n(62),l=i(s),d=n(4),f=i(d),p=n(94),m=i(p),_=n(396),E=i(_)},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function o(t){return r.isShipmentImport(t)?a(t):e.when(!0)}function a(e){return n.getSourceData(n.CI_KEYS.CI1056_VALID_EWF_ORIGIN_COUNTRY_LIST).then(function(t){return u(t,e)})}function u(e,t){return e.some(function(e){return e.value===t})}function c(e){var n=Object.assign(t.$new(),{fromCountryCode:e});i.showDialog({scope:n,templateUrl:"components/dhl-shipment/dhl-shipment-modals/return-label-country-ewf-invalid.html"})}return{isValidReturnOriginCountry:o,showReturnFromInvalidMessage:c}}i.$inject=["$q","$rootScope","configService","modalService","shipmentAddressService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="countryEwfValidationService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({controller:o,controllerAs:"fromToCtrl",bindings:{model:"="+f,fromCountry:"<"+f+"FromCountry",fromServiceCode:"<"+f+"FromServiceCode",toCountry:"<"+f+"ToCountry",toServiceCode:"<"+f+"ToServiceCode",shipmentTypeModel:"<"+f+"ShipmentTypeModel",itarBisModel:"<"+f+"ItarBisModel",returnLabelShipmentTypeModel:"<"+f+"ReturnLabelShipmentTypeModel",returnLabelItarBisModel:"<"+f+"ReturnLabelItarBisModel",fromToNfeAvailable:"<"+f+"NfeAvailable",brazilCteOption:"=?"+f+"CteOption",brazilOnly:"<?"+f+"BrazilOnly",notOriginatingBrazil:"<?"+f+"NotOriginatingBrazil",importNfeFile:"<?"+f+"ImportNfeFile",openedWithNFe:"<?"+f+"OpenedWithNfe",isBrazilFlow:"<?"+f+"IsBrazilFlow",disableFieldsIfFilled:"<?"+f+"DisableFieldsIfFilled",showSearchOnFocus:"<?"+f+"ShowSearchOnFocus",isMainForm:"<?"+f+"MainForm",resetPaymentOptions:"&?"+f+"ResetPaymentOptions",areCriticalComponentsReady:"<?"+f+"AreCriticalComponentsReady",isShipmentTypePackage:"<?"+f+"IsShipmentTypePackage",isShipmentFetchedByAssignee:"<?"+f+"IsShipmentFetchedByAssignee",isGlobalMilitary:"=?"+f+"IsGlobalMilitary"},templateUrl:"from-to.html"})}function o(e,t,n,i,r,o,a,c,l,f){"ngInject";function p(){return m()&&Z.switchAvailable&&!Z.fromToNfeAvailable&&!Z.model.mailingList&&!Z.model.isGlobalMailShipment}function m(){return!1!==Z.areCriticalComponentsReady}function _(){angular.isUndefined(Z.areCriticalComponentsReady)&&(Z.areCriticalComponentsReady=!0),t.initialize(Z).then(E),r.getFromToSectionDefault().then(function(e){var t=e[0],n=e[1];Z.isAddressBookSearch=t&&!Z.importNfeFile,Z.isNfeEntryOnly=n}),t.getPredefinedMailingList().then(D)}function E(){T(),M(),t.isProceedToAssign()&&o.isFormValid("addressDetailsForm"),Z.model.haveAddressesBeenAppliedFromDashboard||(t.applyAddressFromDashboard(e,Z.model.fromContact,Z.model.toContact),Z.model.haveAddressesBeenAppliedFromDashboard=!0)}function S(e){var n=e.fromCountry,i=e.toCountry,r=e.fromServiceCode,o=e.toServiceCode;T(),t.checkCountriesChanges(Z,n,i),n&&Z.fromCountry===d["default"].BRAZIL&&t.showBrazilImportModal();var a={fromCountry:n,toCountry:i,fromServiceCode:r,toServiceCode:o};t.handleGlobalScreeningValidationResults(a,{shipmentTypeModel:Z.shipmentTypeModel,returnLabelShipmentTypeModel:Z.returnLabelShipmentTypeModel,itarBisModel:Z.itarBisModel,returnLabelItarBisModel:Z.returnLabelItarBisModel}),g(n,i)&&l.getGlobalMilitaryConfig(Z.fromCountry,Z.toCountry).then(function(e){return W(e,i&&i.isFirstChange())}),C(n)}function g(e,t){return(t||e&&null===e.previousValue&&e.currentValue)&&Z.fromCountry&&Z.toCountry}function C(e){e&&Z.fromCountry&&c.isIndiaFlowShipment(Z.fromCountry).then(function(e){return ee=e})}function A(){t.switchAddresses(Z),Z.resetPaymentOptions&&Z.resetPaymentOptions()}function h(){t.showAdditionalNotes(Z)}function I(){return!(!Z.additionalNotesAvailable&&!Z.model.toContact.additionalNotes)}function v(){return Z.fromToNfeAvailable?f.SHIPMENT_ADDRESS.ADDRESS_DETAILS_HEADER_NFE_FROM:f.SHIPMENT_ADDRESS.ADDRESS_DETAILS_HEADER_FROM}function N(){return Z.fromToNfeAvailable?f.SHIPMENT_ADDRESS.ADDRESS_DETAILS_HEADER_NFE_TO:f.SHIPMENT_ADDRESS.ADDRESS_DETAILS_HEADER_TO}function T(){Z.isBrazilFlow&&(Z.fromCountryDisabled=Z.brazilOnly,t.applyBrazilOnlyDisabling(Z.brazilOnly,Z.model.fromContact.addressDetails,Z.brazilCteOption))}function M(){Z.model.toContact.addressDetails.countryCode||t.applyToCountryFromDefaults(Z.model.toContact)}function y(){return t.getConfigFromCountry(Z.model)}function O(){return t.getConfigToCountry(Z.model)}function D(e){Z.model.mailingList=e,P(e),Z.model.toContact.clear(),J&&J.close()}function P(e){t.setMailingListCountries(Z.model,e)}function R(){J=n.showDialog({controller:function(){function e(){return Z}return e}(),controllerAs:"addressBookPopupCtrl",templateUrl:"/ng-template/address-book/address-book-to-popup-ng-template.html"})}function b(e){Z.model.mailingList&&delete Z.model.mailingList,t.getMappedContact(e.key).then(function(e){Z.model.toContact.setFromAddressBook(e),J.close()})}function L(){return Z.b2lRestrictions.shipperCountry===s["default"].NOT_EDITABLE||Z.fromCountryDisabled||!!Z.model.mailingList}function G(){return Z.b2lRestrictions.receiverCountry===s["default"].NOT_EDITABLE||Z.toCountryDisabled||Z.openedWithNFe||a.isShipmentAssigned()}function k(){return Z.b2lRestrictions.shipperPostalCode===s["default"].NOT_EDITABLE}function w(){return Z.b2lRestrictions.receiverPostalCode===s["default"].NOT_EDITABLE}function U(){return Z.b2lRestrictions.shipperCity===s["default"].NOT_EDITABLE}function F(){return Z.b2lRestrictions.receiverCity===s["default"].NOT_EDITABLE}function j(){return Z.isMainForm&&Z.isNfeEntryOnly}function V(){return!Z.isMainForm||Z.isNfeEntryOnly}function B(){return m()&&!Z.importNfeFile&&!j()&&!t.isB2lShipment()}function $(){return B()&&!Z.model.isGlobalMailShipment}function H(){return ee&&Z.toCountry===d["default"].UNITED_STATES}function x(){return Z.fromCountry===d["default"].BRAZIL&&Z.toCountry===d["default"].BRAZIL}function K(e){Z.model.isGlobalMailShipment=e}function Y(e){e.isFromContact&&a.fixateCurrentFromContactDetails(e)}function W(e,t){var n=e[0],i=e[1];if(Z.globalMilitaryDisabled=i,Z.isGlobalMilitaryAvailable=n,!Z.isGlobalMilitaryAvailable)return void(Z.isGlobalMilitary=null);var r=!Z.model.isGlobalMailShipment&&n;Z.isGlobalMilitary=t&&null!==Z.isGlobalMilitary?Z.isGlobalMilitary:r}function q(){return Z.isGlobalMilitaryAvailable&&!Z.model.isGlobalMailShipment}function z(){Z.isGlobalMilitaryAvailable&&(Z.isGlobalMilitary=!Z.model.isGlobalMailShipment)}function X(){return t.isContinueByLoginAlertVisible()}function Q(){Z.model.isDeliveryToServicePointSelected=!1,Z.model.deliveryToServicePoint=null}var Z=this,J=void 0,ee=!1;Object.assign(Z,{laneAlertsVisible:!1,laneAlerts:null,b2lRestrictions:{},isAddressBookSearch:!0,COLLECTION_TYPES:u["default"],globalMilitaryDisabled:!1,isGlobalMilitaryAvailable:!1,$onInit:_,$onChanges:S,switchAddresses:A,showAdditionalNotes:h,getFromHeader:v,getToHeader:N,getConfigFromCountry:y,getConfigToCountry:O,selectMailingList:D,openAddressBookToPopup:R,selectToContact:b,isSwitchVisible:p,hasNoDhlAccount:function(){function e(){return t.hasNoDhlAccount()}return e}(),isImportShipment:function(){function e(){return i.isShipmentImport(Z.model.fromContact.addressDetails.countryCode)}return e}(),isShipperCountryDisabled:L,isReceiverCountryDisabled:G,isShipperPostalCodeDisabled:k,isReceiverPostalCodeDisabled:w,isShipperCityFieldDisabled:U,isReceiverCityFieldDisabled:F,isBasicFieldsDisabled:j,isAddressBookRestrictionsIgnored:V,isEditableContacts:B,isReceiverContactSaveEditAvailable:$,isAdditionalNotesVisible:I,isEinNumberAvailable:H,isBrazilianDomesticShipment:x,setGlobalMailStatus:K,onContactChange:Y,isGlobalMilitaryBannerVisible:q,onGlobalMailChange:z,isContinueByLoginAlertVisible:X,onReceiverCountryChange:Q})}r.$inject=["component"],o.$inject=["$stateParams","fromToService","modalService","shipmentAddressService","fromToDefaultsService","formService","shipmentFlowService","indiaFlowService","globalMilitaryService","Messages"],t.__esModule=!0,t["default"]=r,t.FromToController=o;var a=n(34),u=i(a),c=n(46),s=i(c),l=n(4),d=i(l),f=r.NG_NAME="ewfFromTo"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"groupReminderCtrl",templateUrl:"/templates/shipment/from-to/group-reminder.html"})}function r(e,t,n){"ngInject";function i(){if(!e.isCorpEmployee())return void(o.isVisible=!1);t.loadGroups().then(function(e){var n=e.coreGroupInfo,i=e.corpGroupInfo,r=e.authorizedAccGroupInfo;o.isVisible=r.length||i.length>=a,o.availableGroups=[n].concat(i,r),o.currentGroup=t.getCurrentGroup(e)})}function r(e){e.preventDefault(),t.showGroupSwitcher().then(function(){return n.forceRedirectToHome()})}var o=this,a=2;Object.assign(o,{currentGroup:{},$onInit:i,switchGroup:r})}i.$inject=["component"],r.$inject=["userService","groupSwitcherService","navigationService"],t.__esModule=!0,t["default"]=i,t.GroupReminderController=r,i.NG_NAME="ewfGroupReminder"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e){return a||(a=n.debounce(r,u)),a(e)}function r(e){return t.saveShipperEmail(e)}var a=void 0,u=1e3;return{restrict:"A",require:"ngModel",link:function(){function t(t,n,r,a){e.getParamFromUrl(o["default"].B2L_SHIPMENT)&&t.$watchCollection(function(){return[a.$viewValue,a.$valid]},function(e){var t=e[0],n=e[1];t&&n&&i(t)})}return t}()}}i.$inject=["pathService","saveB2lEmailService","debounceService"],t.__esModule=!0,t["default"]=i;var r=n(1),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfSaveB2lEmail"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"receiverDeliveryToServicePointCtrl",templateUrl:"receiver-delivery-to-service-point.html",bindings:{model:"<"+c+"Model",country:"<"+c+"Country"}})}function r(e,t,n){"ngInject";function i(){c()&&(n.getDeliveryToServicePointGlobalAvailability().then(function(e){A=e}),t.getCapabilities().then(function(e){C.deliveryToServicePointCapabilities=e[o.PPC_SCENARIOS.DELIVERY_TO_SERVICE_POINT]}))}function r(e){if(e.country&&!E()&&c())return C.country?void n.getCountryConfiguration(C.country).then(function(e){h=e}):void(h=!1)}function a(){return A&&h&&c()&&!E()}function c(){return e.isCorpEmployee()&&s()}function s(){var t=e.getCoreRestriction(u["default"].DELIVERY_TO_SERVICE_POINT_ENABLED);return angular.isUndefined(t)||t}function l(){return!(d()&&f()||C.model.isDeliveryToServicePointSelected)}function d(){var e=C.model.toContact.addressDetails;return e.countryCode&&e.addrLine1&&e.city&&e.zipOrPostCode}function f(){var e=C.model.toContact.phoneDetails;return e.phone&&e.phoneCountryCode}function p(){return!C.model.isDeliveryToServicePointSelected||m()}function m(){return!!C.model.deliveryToServicePoint&&!!C.model.deliveryToServicePoint.servicePointId}function _(){return C.model.isDeliveryToServicePointSelected||!m()}function E(){var t=C.model.fromContact.addressDetails.countryCode,n=C.model.toContact.addressDetails.countryCode;return t!==n&&n===e.getUserCountry()}function S(){C.model.isDeliveryToServicePointSelected=!0}function g(){C.model.isDeliveryToServicePointSelected=!1}var C=this,A=void 0,h=void 0;Object.assign(C,{$onInit:i,$onChanges:r,isDeliveryToServicePointVisible:a,isDeliveryToServicePointDisabled:l,isServicePointSelectionValid:p,isDeliveryToServicePointCheckboxValid:_,onDeliveryServicePointSelected:S,onDeliveryServicePointRemoved:g})}i.$inject=["component"],r.$inject=["userService","locatorService","deliveryToServicePointService"],t.__esModule=!0,t["default"]=i,t.ReceiverDeliveryToServicePointController=r;var o=n(67),a=n(36),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=i.NG_NAME="ewfReceiverDeliveryToServicePoint"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function o(e,t,n,i,o,a,c,l,d,f,p,m,_){"ngInject";function E(e){return f.initializeFromTo(e)}function S(){var e=q();return e?p.getMailingList(e):t.reject()}function g(e){return m.getMappedContact(e)}function C(){a.showBrazilImportModal()}function A(e,t,n){if(t||n){var i=!e.fromCountryDisabled&&t||!e.toCountryDisabled&&n;!e.skipCountryValidation&&i&&h(e.fromCountry,e.toCountry).then(function(t){return b(e,t)}),I(e,t),v(e,n)}}function h(e,t){return a.validateCountries(e,t)}function I(e,t){t&&(N(e),T(e.fromCountry,e.toCountry,e.model.toContact))}function v(e,t){t&&(N(e),T(e.fromCountry,e.toCountry,e.model.fromContact))}function N(e){e.toCountryWarnings=null,(e.toCountry||e.fromCountry)&&d.getCountryWarnings(e.fromCountry,e.toCountry).then(function(t){return e.toCountryWarnings=t})}function T(e,t,n){e!==t&&n.addressDetails.englishAddress&&"en"!==i.getCountryLang().langId&&"ru"===i.getCountryLang().langId&&n.transliterate()}function M(e){var t=e.model,n=t.fromContact,i=t.toContact,r=n.addressDetails.countryCode,o=i.addressDetails.countryCode;if(r||o)return $(r)||$(o)?void y():void h(o,r).then(function(t){t.isValid&&(O(e,o,t),b(e,t,!0),e.addressesSwitched=!e.addressesSwitched)})}function y(){Y()?c.showBrazilOutboundModal():c.showSwitchRestrictedModal()}function O(t,n,i){var r=t.model,o=r.fromContact,a=r.toContact,u=angular.copy(o),c=angular.copy(a);_.isValidReturnOriginCountry(n).then(function(n){n&&o.copy(c),a.copy(u),D(t,i,n),t.skipCountryValidation=!0,e(function(){return t.skipCountryValidation=!1})})}function D(e,t,n){var i=e.model,r=i.fromContact,o=i.toContact;P(r,n,t),R(o,t)}function P(e,t,n){var i=n.isRPARestricted,r=n.isNonMilitaryRestricted;(!t||i||r)&&e.clear()}function R(e,t){var n=t.isNonAccountOnlyModalShown,i=t.isItarRestricted,r=t.isNonMilitaryRestricted;(n||i||r)&&e.clear()}function b(e,t,n){return e.model.newAccountNumber=t.newAccountNumber,e.unSanctionsWarning=t.unNotAllowed,e.toCountryDisabled=!1,t.domesticNotAllowed||!t.ofacAllowed?void e.model.toContact.clearAddressDetails():t.isNonAccountOnlyModalShown||t.isItarRestricted?void e.model.toContact.clear():(L(e,t),void G(e,t,n))}function L(e,t){t.isNonMilitaryRestricted&&(e.model.fromContact.clear(),e.model.toContact.clear())}function G(e,t,n){t.isRPA&&(e.toCountryDisabled=!0,k(e.model.toContact,o.getUserCountry())),e.model.rpaShipment=t.isRPA,t.accountValidationFailed&&!n&&e.model.fromContact.clearAddressDetails(),t.isRPARestricted&&e.model.fromContact.clear()}function k(e){var t=e.addressDetails,i=arguments.length<=1||arguments[1]===undefined?t.countryCode:arguments[1];return n.getCountryByCode(i).then(function(e){Object.assign(t,{countryCode:e.code2,countryName:e.name})})}function w(e){e.additionalNotesAvailable=!0}function U(e,t,n){e?t.countryCode=s["default"].BRAZIL:t.countryCode===s["default"].BRAZIL&&n&&(t.countryCode=undefined)}function F(e,t,n){j(e,t,oe),j(e,n,ae)}function j(e,t,n){var i=e[n+"ContactKey"],r=e[n+"Country"];i?V(i,t):r&&B(e,t.addressDetails,n)}function V(e,t){m.getContact(e).then(function(e){var n=e.contactDetails,i=r(e,["contactDetails"]);Object.assign(t,i,n)})}function B(e,t,n){Object.assign(t,{addrLine1:e[n+"AddressLine"],city:e[n+"City"],countryCode:e[n+"Country"],countryDivisionName:e[n+"Division"],zipOrPostCode:e[n+"PostalCode"],citySuburbName:e[n+"Suburb"]})}function $(e){return e===s["default"].BRAZIL}function H(e){o.isAuthorized()&&l.getElementDetails(ue).then(function(t){var n=t.shippingCountry,i=t.businessModel;e.addressDetails.countryCode=e.addressDetails.countryCode||n,e.businessModel=e.businessModel||i})}function x(e){return e.fromContact.addressDetails.countryCode||o.getUserCountry()}function K(e){return e.toContact.addressDetails.countryCode||o.getUserCountry()}function Y(){return!o.hasDhlAccounts()}function W(){return i.isUrlContainingSomeParam(u["default"].B2L_SHIPMENT,u["default"].RB_SHIPMENT)}function q(){return i.getParamFromUrl(u["default"].MAILING_LIST_ID)}function z(){return i.getParamFromUrl(u["default"].PROCEED_TO_ASSIGN)}function(){}function Q(e){return e.contacts&&e.contacts.reduce(Z,[]).filter(Boolean)}function Z(e,t){return ee(e,J(t))}function J(e){return e.contactDetails&&e.contactDetails.addressDetails&&e.contactDetails.addressDetails.countryCode}function ee(e,t){return e.includes(t)?e:[].concat(e,[t])}function te(){return o.isGuest()&&!i.getParamFromUrl(u["default"].RB_SHIPMENT)}function ne(e,t){if([e.fromCountry,e.toCountry,e.fromServiceCode,e.toServiceCode].some(function(e){return e&&!e.isFirstChange()})){var n=t.shipmentTypeModel,i=t.returnLabelShipmentTypeModel,r=t.itarBisModel,o=t.returnLabelItarBisModel;ie(n),ie(i),re(r),re(o)}}function ie(e){delete e.gssValidationResult,e.itemAttributes.productList.forEach(function(e){return delete e.gssValidationResult})}function re(e){e.commodityList.forEach(function(e){return delete e.gssValidationResult})}var oe="from",ae="to",ue="/api/myprofile/shipment/defaults/delivery";return{initialize:E,checkCountriesChanges:A,switchAddresses:M,showAdditionalNotes:w,showBrazilImportModal:C,applyBrazilOnlyDisabling:U,applyAddressFromDashboard:F,applyToCountryFromDefaults:H,getConfigFromCountry:x,getConfigToCountry:K,hasNoDhlAccount:Y,isB2lShipment:W,isProceedToAssign:z,getPredefinedMailingList:S,getMappedContact:g,setMailingListCountries:X,isContinueByLoginAlertVisible:te,handleGlobalScreeningValidationResults:ne}}o.$inject=["$timeout","$q","locationService","pathService","userService","addressDetailsValidationService","addressDetailsModalService","crudService","countryWarningService","fromToInitializationService","mailingListDetailsResource","addressContactService","countryEwfValidationService"],t.__esModule=!0,t["default"]=o;var a=n(1),u=i(a),c=n(4),s=i(c);o.NG_NAME="fromToService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){return e.all([t.isAccessToAddressBookAllowed(),n.isNfeEntryOnly()])}return{getFromToSectionDefault:i}}i.$inject=["$q","addressBookService","nfeEntryOnlyService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="fromToDefaultsService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r){"ngInject";function o(t){Object.assign(t,f);var o=u(t);Object.assign(t.model,{fromContact:t.model.fromContact||new a["default"],toContact:t.model.toContact||new a["default"],rpaShipment:t.model.rpaShipment||!1,isGlobalMailShipment:o,isGlobalMailContactSelected:o,isReceiverContactGlobalMailDuplicate:!!r.getParamFromUrl(c["default"].IS_RECEIVER_CONTACT_GLOBAL_MAIL_DUPLICATE),fromToInitialized:!1});var p=i.getUserCountry(),m=[s(p),l(p),d(p),n.getB2lRestrictions()];return e.all(m).then(function(e){var n=e[0],r=e[1],o=e[2],a=e[3];Object.assign(t,{b2bB2cAvailable:n,switchAvailable:r,rpaAvailable:o,b2lRestrictions:a}),i.isAuthorized()||o||(t.fromCountryDisabled=!0,t.model.fromContact.addressDetails.countryCode=p)})["finally"](function(){return t.model.fromToInitialized=!0})}function u(e){return e.model.isGlobalMailShipment||!e.model.fromToInitialized&&!!r.getParamFromUrl(c["default"].SHIPMENT_IS_GLOBAL_MAIL)}function s(e){return t.getBoolean(t.CI_KEYS.CI0709_B2B_B2C_OPTION,e)}function l(t){return n.isB2lShipment()?e.when(!1):i.isAuthorized()?e.when(!0):d(t)}function d(e){return t.getBoolean(t.CI_KEYS.CI0298_RPA_ENABLED,e)}var f={b2bB2cAvailable:!1,switchAvailable:!1,rpaAvailable:!1,fromCountryDisabled:!1,toCountryDisabled:!1};return{initializeFromTo:o}}r.$inject=["$q","configService","b2lRestrictionsService","userService","pathService"],t.__esModule=!0,t["default"]=r;var o=n(15),a=i(o),u=n(1),c=i(u);r.NG_NAME="fromToInitializationService"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(e,t){return n.isCountryOFAC(t).then(function(n){return(!n||e!==o["default"].UNITED_STATES)&&S(t)})}function a(e){return t.getBoolean(t.CI_KEYS.CI0971_DISPLAY_UN_SACTIONED_WARNING_ALERT,e)}function u(e,t){return!e.length||!t.length}function c(e,t){var n=t.country,i=t.countryCodes;return(n||i).some(function(t){return t.value===e})}function s(e,t){var n=e.fromCountryCode,i=e.toCountryCode,r=t.shipperCountryCodes,o=t.countryCodes,a=u(r,o),c=o.some(function(e){return e.value===i}),s=r.some(function(e){return e.value===n});return n&&i?l(a,s,c):a?i?c:n?s:void 0:undefined}function l(e,t,n){return t&&n||e&&t||e&&n}function d(e,n){return t.getValue(t.CI_KEYS.CI0969_WARNING_ALERTS).then(function(t){return t.data.value.filter(function(t){return s({fromCountryCode:e,toCountryCode:n},t)}).map(function(e){return e.description})})}function f(e){return E(e).then(function(e){return e.map(function(e){return e.description})})}function p(){return t.getValue(t.CI_KEYS.CI0205_UN_SANCTION)}function m(t,i){return t===o["default"].UNITED_STATES?n.isCountryOFAC(i).then(function(e){return!!e&&_(t,i)}):e.when(!1)}function _(e,t){return n.isShipmentRestrictedByOfac(e,t).then(function(e){return!e||i.hasOfacAllowedAccounts()})}function E(e){return p().then(function(t){return t.data.value.filter(function(t){return c(e,t)})})}function S(e){return E(e).then(function(){return!!(arguments.length<=0||arguments[0]===undefined?[]:arguments[0]).length})}return{isCountryUnderUnSanction:r,isUnSanctionsAlertVisible:a,getCountryWarnings:d,getSanctionGroupWarnings:f,isOfacWarningVisible:m}}i.$inject=["$q","configService","ofacService","paymentAccountService"],t.__esModule=!0,t["default"]=i;var r=n(4),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="countryWarningService"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t){return e.post("/api/b2l/shipper/email",{shipperEmail:t})}return{saveShipperEmail:t}}i.$inject=["$http"],t.__esModule=!0,t["default"]=i,i.NG_NAME="saveB2lEmailService"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(n){var i=[t.getBoolean(t.CI_KEYS.CI1466_ENABLE_D2SP,n),t.getBoolean(t.CI_KEYS.CI1466_ENABLE_D2SP)];return e.all(i).then(function(e){var t=e[0],n=e[1];return t&&n})}function o(){return t.getBoolean(t.CI_KEYS.CI1471_ENABLE_D2SP_CORPORATE)}function a(){return o().then(function(e){return!!e&&n.getShipmentAccounts().then(function(e){return i.isAccountsHasConfigurationItemTruthy(e)})})["catch"](function(){return!1})}return{getCountryConfiguration:r,getDeliveryToServicePointGlobalAvailability:a}}i.$inject=["$q","configService","paymentAccountService","accountStatusService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="deliveryToServicePointService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){"ngInject";function n(e){var t=e.brazilShipment;if(t){var n=t.cte;Object.assign(m,{cteOption:n,fiscalInfoRows:f(t),nfeAddressesTheSameAsFromTo:t.addressesSameAsFromTo}),n===l["default"].IMPORT_NF&&(m.nfeFiles=angular.copy(m.fiscalInfoRows)),s(t.danfeKeys),i(t.nfeFrom,m.fromContact),i(t.nfeTo,m.toContact)}}function i(e,t){e&&(Object.assign(t,{company:e.company,name:e.name,email:e.email,key:e.key,phoneDetails:e.phoneDetails}),e.address&&(t.addressDetails=r(e.address)),e.taxDetails&&(Object.assign(t,{cnpjOrCPFTaxType:e.taxDetails.cnpjOrCPFTaxType,cnpjOrCPFTaxID:e.taxDetails.cnpjOrCPFTaxID,ieTaxId:e.taxDetails.ieTaxId}),Object.assign(t.taxDetails,{vatTaxId:e.taxDetails.vatTaxId,eoriNumber:e.taxDetails.eoriNumber})))}function r(e){return{city:e.cityName,addrLine1:e.addressLine1,addrLine2:e.addressLine2,addrLine3:e.addressLine3,countryDivisionName:e.countryDivisionName,countryDivisionTypeCode:e.countryDivisionTypeCode,zipOrPostCode:e.postCode,countryCode:e.countryCode,facilityId:e.facilityId,streetNumber:e.streetNumber,cityCode:e.cityCode}}function o(){return[l["default"].MANUAL_NON_DOC_NOT_EXEMPT,l["default"].IMPORT_NF].includes(m.cteOption)}function a(){if(!t.isBrazilFlow()){return{brazilShipment:m.isShipmentOriginatingFromBrazil?{}:null}}var e={cte:m.cteOption,danfeKeys:p()};return o()&&Object.assign(e,{nfItems:m.fiscalInfoRows,nfeFrom:u(m.fromContact),nfeTo:u(m.toContact),addressesSameAsFromTo:m.nfeAddressesTheSameAsFromTo}),{brazilShipment:e}}function u(e){if(!e)return undefined;var t=angular.copy(e.addressDetails);t.cityName=t.city,t.postCode=t.zipOrPostCode,t.addressLine1=t.addrLine1,t.addressLine2=t.addrLine2,t.addressLine3=t.addrLine3;var n={vatTaxId:e.taxDetails.vatTaxId,eoriNumber:e.taxDetails.eoriNumber,cnpjOrCPFTaxType:e.cnpjOrCPFTaxType,cnpjOrCPFTaxID:e.cnpjOrCPFTaxID,ieTaxId:e.ieTaxId};return{company:e.company,name:e.name,email:e.email,key:e.key,address:t,phoneDetails:e.phoneDetails,taxDetails:n}}function s(e){e&&e.length&&(m.danfeKeys=e.map(function(e){return{name:e}}))}function d(e){return e<10?"0"+e:e}function f(e){return e.nfItems?(e.nfItems.filter(function(e){return e.issueDate}).forEach(function(e){var t=new Date(e.issueDate),n=d(t.getMonth()+1),i=d(t.getDate());e.issueDate=t.getFullYear()+"-"+n+"-"+i}),e.nfItems):[]}function p(){if(m.cteOption!==l["default"].DANFE_KEY)return null;var e=m.danfeKeys.map(function(e){return e.name}).filter(Boolean);return e.length?e:null}this.addPartToShipmentModel(e);var m=Object.assign(this,{cteOption:null,fiscalInfoRows:[],nfeFiles:[],currency:"",weightUnit:"",danfeKeys:[{name:""}],nfeAddressesTheSameAsFromTo:!0,fromContact:new c["default"],toContact:new c["default"],initDataPart:n,getDataPart:a})}r.$inject=["shipmentDataService","shipmentFlowService"],t.__esModule=!0,t["default"]=r;var o=n(11),a=i(o),u=n(15),c=i(u),s=n(55),l=i(s);r.prototype=new a["default"],r.NG_NAME="brazilModel"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o){"ngInject";function u(e){return e===c["default"].MANUAL_NON_DOC_NOT_EXEMPT}function s(e){return e===c["default"].MANUAL_NON_DOC_NOT_EXEMPT||g(e)}function l(e){return!e.nfeFiles.length}function d(e){return!g(e.cteOption)||!l(e)}function f(e,t){return e===c["default"].MANUAL_NON_DOC_NOT_EXEMPT&&t.length>1}function p(e){return s(e.cteOption)&&e.nfeAddressesTheSameAsFromTo}function m(e){return e!==c["default"].NOT_BRAZIL&&""!==e&&null!==e}function _(e){return e===c["default"].NOT_BRAZIL}function E(e){return e===c["default"].MANUAL_DOC}function S(e){return e===c["default"].MANUAL_NON_DOC_EXEMPT||e===c["default"].MANUAL_NON_DOC_NOT_EXEMPT||e===c["default"].DANFE_KEY||g(e)}function g(e){return e===c["default"].IMPORT_NF}function C(e){return!e.nfeAddressesTheSameAsFromTo&&g(e.cteOption)}function A(e){return E(e)?a["default"].DOCUMENT:S(e)?a["default"].PACKAGE:null}function h(e){e.fiscalInfoRows.push({notaFiscalNumber:"",serie:"",issueDate:"",pinSurframa:"",icmsTaxBase:"",icmsStTaxBase:"",icmsTotal:"",icmsStTotal:"",productsTotalValue:"",nfTotalValue:"",totalWeight:"",cfop:""})}function I(e){e.nfeFiles.length=0,e.fiscalInfoRows.length=0}function v(t,n){return e.isShipmentDomestic(t,n)}function N(e,t){var n=e.fromContact.addressDetails.countryCode,i=e.toContact.addressDetails.countryCode;return g(e.cteOption)&&!!v(n,i)===t}function T(e){return N(e,!0)}function M(e){return N(e,!1)}function y(e,n){[n,e].forEach(function(e){e.fromContact.clear(),e.toContact.clear(),t.applyBrazilOnlyDisabling(!0,e.fromContact.addressDetails)})}function O(e){return!e&&P()}function D(e){I(e),u(e.cteOption)&&h(e)}function P(){return n.isShipmentFetchedByAssignee()}function R(){return i.isBrazilFlow()}function b(e,t){e.nfeAddressesSameAsFromToDisabled=t,G(e)}function L(e,t){e.nfeAddressesTheSameAsFromTo=t,G(e)}function G(e){r.isRegularWithVirtualGroup()&&w()&&k(e)}function k(e){var t=e.cteOption,n=g(t)||u(t);n&&(e.nfeAddressesSameAsFromToDisabled=n,e.nfeAddressesTheSameAsFromTo=!n)}function w(){var e=U(),t=e.restrictedShipFrom,n=e.restrictedShipTo;return t||n}function U(){return o.getCachedRestrictions()||{}}function F(){return U().restrictedShipTo}function j(){return U().restrictedShipFrom}return{isNotaFiscalInformationAvailable:u,isNFeFromToAvailable:s,isNFeAddressesTheSameAsFromTo:p,isNfeFromToSummaryAvailable:f,isFromCountryBrazilOnly:m,isNotOriginatingWithinBrazil:_,isImportNfeFileCteSelected:g,isNfeFromToDisabled:C,getShipmentType:A,addEmptyRow:h,isImportingNfeFileForImportShipment:M,isImportingNfeFileForDomesticShipment:T,isShipmentDomestic:v,isFormCompletionAllowed:d,clearContacts:y,isAdditionalChangesAllowed:O,handleNfItemsOnChangeCte:D,isShipmentFetchedByAssignee:P,isBrazilFlow:R,setNfeTheSameAsFromToDisability:b,setNfeTheSameAsFromToValue:L,getShipToRestriction:F,getShipFromRestriction:j}}r.$inject=["shipmentAddressService","fromToService","shipmentDataService","shipmentFlowService","userService","addressBookRestrictionsService"],t.__esModule=!0,t["default"]=r;var o=n(7),a=i(o),u=n(55),c=i(u);r.NG_NAME="brazilService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({controller:o,controllerAs:"cteOptionsCtrl",bindings:{model:"="+m+"Model",shipmentTypeModel:"<"+m+"ShipmentTypeModel",fromContact:"<?"+m+"FromContact",toContact:"<?"+m+"ToContact",shipmentDeclaredValue:"="+m+"DeclaredValue"},templateUrl:"cte-options.html"})}function o(e,t,n,i,r,o){"ngInject";function a(){C(),o.getB2lRestrictions().then(function(n){var i=n.shipperCountry;I=i===d["default"].NOT_EDITABLE,e.$watch(t.isShipmentFetchedByAssignee,c)}),h.shipmentTypeModel.shipmentType=t.getShipmentType(h.model.cteOption)||h.shipmentTypeModel.shipmentType}function c(e){h.isAssigneeFetched=e,e?f():l()}function l(){h.CTE_OPTIONS=n.getParamFromUrl(s["default"].B2L_SHIPMENT)&&I?_():i.getCteOptions()}function f(){h.fromContact.addressDetails.countryCode!==p["default"].BRAZIL?(h.CTE_OPTIONS=i.getCteOptions(),h.model.cteOption=u["default"].NOT_BRAZIL,h.isCteOptionsDisabled=!0):r.isNfeEntryOnly().then(m)}function m(e){h.CTE_OPTIONS=e?i.getCteOptions(u["default"].NOT_BRAZIL,u["default"].MANUAL_DOC):_()}function _(){return i.getCteOptions(u["default"].NOT_BRAZIL)}function E(e){return h.model.cteOption===e}function S(){return!!h.model.cteOption&&h.model.cteOption!==u["default"].NOT_BRAZIL}function g(){r.isNfeEntryOnly().then(function(e){e&&A(!1),t.setNfeTheSameAsFromToDisability(h.model,e)}),t.handleNfItemsOnChangeCte(h.model),h.shipmentTypeModel.shipmentType=t.getShipmentType(h.model.cteOption)}function C(){var e=n.getParamFromUrl(s["default"].CTE_OPTION);e&&(h.model.cteOption=e)}function A(e){t.setNfeTheSameAsFromToValue(h.model,e)}var h=this,I=void 0;Object.assign(h,{$onInit:a,isSelected:E,isBrazilNotaFiscalNoteVisible:S,onChangeCteOption:g,setNfeTheSameAsFromToValue:A,isCteOptionsDisabled:!1,CTE_OPTIONS_VALUES:u["default"],CTE_OPTIONS:[]})}r.$inject=["component"],o.$inject=["$scope","brazilService","pathService","cteOptionsService","nfeEntryOnlyService","b2lRestrictionsService"],t.__esModule=!0,t["default"]=r,t.CteOptionsController=o;var a=n(55),u=i(a),c=n(1),s=i(c),l=n(46),d=i(l),f=n(4),p=i(f),m=r.NG_NAME="ewfCteOptions"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"danfeKeysCtrl",bindings:{model:"="+u+"Model"},templateUrl:"danfe-keys.html"})}function r(){function e(){return u.model.cteOption===a["default"].DANFE_KEY}function t(){return u.model.danfeKeys.length>1}function n(e){var t=u.model.danfeKeys.indexOf(e);-1!==t&&(u.model.danfeKeys.splice(t,1),u.isKeyFieldsMaxReached&&(u.isKeyFieldsMaxReached=!1))}function i(){u.model.danfeKeys.length<o.KEYS_MAX_AMOUNT&&(u.model.danfeKeys.push({name:""}),u.isKeyFieldsMaxReached=u.model.danfeKeys.length===o.KEYS_MAX_AMOUNT)}function r(e,t){var n=t.$index,i=u.model.danfeKeys.map(function(e){return e.name});return""===e||u.model.danfeKeys.length<2||i.indexOf(e)===n||!i.includes(e)}var u=this;Object.assign(u,{danfeKeyLength:44,isDanfeOptionSelected:e,isMultipleKeyRowsAvailable:t,removeKey:n,addKey:i,keyDuplicationValidator:r})}i.$inject=["component"],t.__esModule=!0,t["default"]=i,t.DanfeKeysController=r;var o=n(55),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfDanfeKeys"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"nfeFileUploaderCtrl",templateUrl:"nfe-file.html",bindings:{notaFileList:"<"+c,nfItems:"<"+c+"Items",nfeFromContact:"<"+c+"NfeFromContact",nfeToContact:"<"+c+"NfeToContact",fromContact:"<"+c+"FromContact",toContact:"<"+c+"ToContact",setNfeTheSameAsFromToValue:"&"+c+"SetNfeTheSameAsFromToValue",shipmentDeclaredValue:"="+c+"DeclaredValue",isAssigneeFetched:"="+c+"IsAssigneeFetched"}})}function r(e,t,n,i,r){"ngInject";function o(){angular.copy(new a["default"],I.fromContact),angular.copy(new a["default"],I.toContact)}function c(e,t){var n=e.name,i=e.address,r=e.phoneDetails,o=e.taxDetails,a=e.company,u=i.addressLine1,c=i.addressLine2,s=i.addressLine3,l=i.cityName,d=i.postCode,f=i.streetNumber,p=i.cityCode,m=i.countryCode,_={addrLine1:u,addrLine2:c,addrLine3:s,city:l,zipOrPostCode:d,streetNumber:f,cityCode:p,countryCode:m};Object.assign(t,o,{name:n,company:a}),Object.assign(t.addressDetails,i,_),Object.assign(t.phoneDetails,r)}function s(e){return{name:e.name,addressDetails:e.addressDetails,ieTaxId:e.ieTaxId,cnpjOrCPFTaxID:e.cnpjOrCPFTaxID,cnpjOrCPFTaxType:e.cnpjOrCPFTaxType}}function l(e,t){var n=s(e),i=s(t.cachedNfeFileContact);return!angular.equals(n,i)}function d(e,t,n){return I.nfItems.some(function(t){var n=t.notaFiscalNumber;return e.nfeItem.notaFiscalNumber===n})?"errors.common_error_nfe-duplicate-fiscal-number":I.nfItems.length&&(l(t,I.nfeFromContact)||l(n,I.nfeToContact))?"errors.common_msg_nfe-contact-details-differs":void 0}function f(e,t){Object.assign(t,e,{cachedNfeFileContact:angular.copy(e)})}function p(e){var t=new a["default"],n=new a["default"];c(e.nfeFrom,t),c(e.nfeTo,n);var i=d(e,t,n);if(i)return I.notaFileList.pop(),void(I.uploadErrors=[i]);I.nfItems.length||(f(t,I.nfeFromContact),f(n,I.nfeToContact)),I.nfItems.push(e.nfeItem),C(),_()}function m(){var e=I.nfeFromContact.addressDetails.countryCode,n=I.nfeToContact.addressDetails.countryCode;return t.isShipmentDomestic(e,n)}function _(){m()?g():E(),e(function(){return i.checkForm("fromTo")})}function E(){I.setNfeTheSameAsFromToValue({value:!1}),I.nfeToContact.setCity(u.IMPORT_TO_CITY),I.nfeToContact.setZipOrPostCode(u.IMPORT_TO_POST_ZIP_CODE),n.isNfeEntryOnly().then(S)}function S(t){t||e(function(){I.toContact.clearCityInfo(),I.toContact.clearCountryDivisionInfo()})}function g(){I.setNfeTheSameAsFromToValue({value:!I.isAssigneeFetched})}function C(){m()&&(I.shipmentDeclaredValue=I.nfItems.reduce(function(e,t){return e+t.nfTotalValue},0))}function A(e){I.nfItems.splice(e,1),C(),I.nfItems.length||o()}function h(e){return e.fileName||r.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_NOTA_FISCAL_NUMBER+" "+e.notaFiscalNumber}var I=this;Object.assign(I,{notaFileList:[],nfItems:[],MAX_NFE_FILES_NUMBER:u.MAX_NFE_FILES_NUMBER,handleUploadedNotaDocument:p,deleteNotaDocument:A,generateFileName:h})}i.$inject=["component"],r.$inject=["$timeout","brazilService","nfeEntryOnlyService","formService","Messages"],t.__esModule=!0,t["default"]=i,t.NfeFileUploaderController=r;var o=n(15),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=n(55),c=i.NG_NAME="ewfNfeFileUploader"},function(e,t,n){"use strict";function i(){function e(e){n=e}function t(){return n}var n=void 0;return{storeNonAccountOnlyAvailable:e,isRestrictedToOnlineOnly:t}}t.__esModule=!0,t["default"]=i,i.NG_NAME="shipmentToolbarPaymentService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(2),u=i(a),c=n(2002),s=i(c),l=n(2003),d=i(l),f=n(2004),p=i(f),m=n(2005),_=i(m),E=angular.module("shipment.type.itar-bis.eei",[o["default"],u["default"]||"common.utils"]);E.directive(s["default"].NG_NAME,s["default"]).directive(d["default"].NG_NAME,d["default"]).directive(p["default"].NG_NAME,p["default"]).service(_["default"].NG_NAME,_["default"]),t.module=E,t["default"]="shipment.type.itar-bis.eei"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"itarBisEeiCtrl",templateUrl:"eei.html",bindings:{model:"<"+u,itemAttributesModel:"<"+u+"ItemAttributesModel",mapTrigger:"="+u+"MapTrigger",criticalPrice:"<"+u+"CriticalPrice",fromCountry:"<"+u+"FromCountry",fromServiceCode:"<"+u+"FromServiceCode",toCountry:"<"+u+"ToCountry",toServiceCode:"<"+u+"ToServiceCode",creatingCustomsInvoice:"<"+u+"CreatingCustomsInvoice",currency:"<"+u+"Currency",defaultLicenseType:"<"+u+"DefaultLicenseType",commodityCodes:"<"+u+"CommodityCodes",licenseTypes:"<"+u+"LicenseTypesList",isBisEccnEar99CommodityRuleApplied:"<"+u+"IsBisEccnEarCommodityRuleApplied",shipmentType:"<"+u+"ShipmentType",isMailingListShipment:"<"+u+"IsMailingListShipment",isDutiable:"<"+u+"IsDutiable",intraEuDutiableStatus:"<"+u+"IntraEuDutiableStatus"}})}function r(e,t,n,i,r){"ngInject";function o(){e.applyCommodityOriginTranslations(L.model),L.creatingCustomsInvoice&&!L.model.commodityList.length&&e.mapCustomsInvoiceToList(L.model,L.defaultLicenseType,L.commodityCodes),e.applyInitialData(L.model,L.defaultLicenseType)}function u(e){var n=e.fromCountry,i=e.toCountry;(n||i)&&t.getSomParameters(L.fromCountry,L.toCountry).then(d),L.filteredLicenseTypes=L.licenseTypes}function c(){if(L.mapTrigger)return e.mapCustomsInvoiceToList(L.model,L.defaultLicenseType,L.commodityCodes),L.mapTrigger=!1,L.isEeiUpdateWarningVisible=!0,void(L.eeiListHasDuplicates=!1);L.eeiListHasDuplicates=e.isEeiListHasDuplicates(L.model)}function s(e){return!1===e.valid}function l(e){return(a["default"][e]||"").toLowerCase()}function d(e){L.currentWeightUnit=l(n.isAuthorized()?e.userProfileCountrySom:e.shipperCountrySom),L.oppositeWeightUnit=l(e.shipperCountrySom),L.weightConvertionRate=e.weightConvertionRate,L.userProfileCountryConversionPrecision=e.userProfileCountryConversionPrecision,L.isUnitsMismatched=e.shipperCountrySom!==e.userProfileCountrySom}function f(){e.addEmptyCommodityRow(L.model,L.defaultLicenseType)}function p(t){var n=e.getLicenseTypeInfo(t,L.licenseTypes);return e.isLicenseTypeDisabled(n)}function m(e){p(e)&&(e.licenseNumber="")}function _(t){return e.isLicenseTypeValidForCommodityCode(t,L.commodityCodes)}function E(e){return""+e.licenseType+e.exportCommodityCode+e.importCommodityCode}function S(){return e.getTotalWeight(L.model)}function g(){return e.getTotalWeightForOtherUnits(L.model,L.weightConvertionRate,L.userProfileCountryConversionPrecision)}function C(){return L.model.commodityList.length>1}function A(t){e.deleteCommodityRow(L.model,t)}function h(t,n,i){if(t.description&&n&&t.description!==n){var o=e.getConfirmationMessage(t.description,n);r.showConfirmationDialog({message:o}).then(function(){return I(t,n)})["finally"](function(){return N(t,i)})}else I(t,n||t.description),N(t,i)}function I(e,t){e.description=t,v(t)}function v(t){e.storeValidLineItemDescriptionInCache({lineItemDescriptions:[t],fromCountryCode:L.fromCountry,fromServiceCode:L.fromServiceCode,toCountryCode:L.toCountry,toServiceCode:L.toServiceCode})}function N(e,t){var n=["firstQuantity","secondQuantity"],i=t[0],r=i===undefined?null:i,o=t[1];[r,o===undefined?null:o].forEach(function(t,i){var r=n[i];e[r]=t?Object.assign({},e[r],{units:t}):null}),e.valid=!0}function T(e){e.valid=!1}function M(e,t){e.exportCommodityCode=t}function y(e,t){var n=t.fromCountry,r=t.toCountry;return i.validateProductProhibition(e,{fromCountry:n,toCountry:r})}function O(){L.isEeiUpdateWarningVisible=!1}function D(){return L.creatingCustomsInvoice&&S()>L.itemAttributesModel.totalGrossWeight}function P(){return e.getTotalValue(L.model)>L.itemAttributesModel.totalDeclaredValue}function R(){return!L.eeiListHasDuplicates&&!P()&&!D()}function b(t,n,i,r){var o={lineItemDescriptions:[n.description],fromCountryCode:L.fromCountry,fromServiceCode:L.fromServiceCode,toCountryCode:L.toCountry,toServiceCode:L.toServiceCode,shipmentPackagingType:L.shipmentType,model:n,ngModelCtrl:t.ngModelCtrl,isMandatory:i,isDutiable:L.isDutiable,intraEuDutiableStatus:L.intraEuDutiableStatus,isMailingListShipment:L.isMailingListShipment,eventRelatedTarget:r.relatedTarget};e.invokeGssValidationForDescription(o)}var L=this;Object.assign(L,{$onInit:o,$onChanges:u,$doCheck:c,onLicenseTypeChange:m,onDescriptionBlur:b,getTotalWeight:S,getTotalWeightForOtherUnits:g,isLicenseTypeDisabled:p,isLicenseTypeValidForCommodityCode:_,isDeleteCommodityRowVisible:C,isTotalWeightExceeded:D,isTotalValueExceeded:P,isFormValidationPassed:R,addNewCommodityRow:f,deleteCommodityRow:A,updateEeiProductDescription:h,setEeiCommodityCode:M,invalidateScheduleB:T,validateProductProhibition:y,hideEeiUpdatedWarning:O,triggerLicenseTypeValidation:E,shouldDisplayAlert:s,filteredLicenseTypes:[],isEeiUpdateWarningVisible:!1,eeiListHasDuplicates:!1})}i.$inject=["component"],r.$inject=["itarBisEeiService","shipmentTypeService","userService","productProhibitionValidationService","modalService"],t.__esModule=!0,t["default"]=i,t.ItarBisEeiController=r;var o=n(232),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfItarBisEei"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"itarBisEccnCtrl",templateUrl:"eei-item-eccn.html",bindings:{model:"<"+o,filteredLicenseTypes:"="+o+"FilteredLicenseTypes",licenseTypesList:"<"+o+"LicenseTypesList",isBisEccnEar99CommodityRuleApplied:"<"+o+"IsBisEccnEarCommodityRuleApplied"}})}function r(e,t){"ngInject";function n(){return!t.ALPHA_NUMERIC.test(a.model.ECCN)||r(a.model).test(a.model.ECCN)}function i(){a.filteredLicenseTypes=[].concat(e.getLicenseTypes(a.model.ECCN,a.licenseTypesList))}function r(n){var i=e.getLicenseTypeInfo(n,a.licenseTypesList),r=i.specialEccnValues,o=i.onlySpecialEccnValuesFlag;if(!r||!r.value.length)return t.ECCN_EAR99;var u=r.value.split(",").join("|"),c=new RegExp("^("+u+")$");if(o)return c;var s=(t.ECCN_EAR99+"|"+c).replace(/\//g,"");return new RegExp(s,"g")}function o(){var t=e.getLicenseTypeInfo(a.model,a.licenseTypesList);return e.isEccnMandatoryState(t)||a.isBisEccnEar99CommodityRuleApplied}var a=this;Object.assign(a,{isEccnValidFormat:n,isEccnMandatoryState:o,onEccnNumberChange:i})}i.$inject=["component"],r.$inject=["itarBisEeiService","Patterns"],t.__esModule=!0,t["default"]=i,t.ItarBisEccnController=r;var o=i.NG_NAME="ewfItarBisEccn"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"itarBisLicenseNumberCtrl",templateUrl:"eei-item-license-number.html",bindings:{model:"<"+o,isLicenseTypeDisabled:"&"+o+"IsLicenseTypeDisabled",licenseTypesList:"="+o+"LicenseTypesList"}})}function r(e){"ngInject";function t(){return e.getLicenseTypeInfo(n.model,n.licenseTypesList).licenseNumberMaxLength||i}var n=this,i=12;Object.assign(n,{getLicenseNumberMaxLength:t})}i.$inject=["component"],r.$inject=["itarBisEeiService"],t.__esModule=!0,t["default"]=i,t.ItarBisLicenseNumberController=r;var o=i.NG_NAME="ewfItarBisLicenseNumber"},function(e,t,n){"use strict";function i(e,t,n,i,r,o){"ngInject";function a(e,t){e.commodityList.length||f(e,t)}function u(t){var n=i.CI_KEYS.CI1376_LICENSE_ECCN_CORRELATION;return i.isCiSupportedByCountry(n,t).then(function(r){return r.supported?i.getSourceData(n,t).then(function(e){return c(e,t)}):e.when([[],[],[]])})}function c(t,n){return e.all([t,s(t),g(n)])}function s(e){return e.find(function(e){return e.defaultLicenseType}).licenseType.value}function l(e){e.originTypes={DOMESTIC:o.SHIPMENT_DETAILS.ELECTRONIC_EXPORT_FILLING_SELECT_OPTION_DOMESTIC,INTERNATIONAL:o.SHIPMENT_DETAILS.ELECTRONIC_EXPORT_FILLING_SELECT_OPTION_FOREIGN}}function d(e){return{description:"",exportCommodityCode:"",importCommodityCode:"",licenseType:e,licenseNumber:"",ECCN:"",exportCode:L,origin:"",totalWeight:"",totalValue:"",valid:!0}}function f(e,t){e.commodityList.push(d(t))}function p(e,t){e.commodityList.splice(e.commodityList.indexOf(t),1)}function m(e,t,n){var i=arguments.length<=3||arguments[3]===undefined?"exportCommodityCode":arguments[3],r={};e.productList.forEach(function(e){var o=_(e,i);if(r[o]){var a=r[o],u=+e.quantity||1;a.totalWeight+=A(e,u),a.totalValue+=(+e.value||0)*u}else r[o]=C(e,t,n,i)}),e.commodityList=Object.values(r)}function _(e,t){var n=e.origin||h(e);return""+e[t]+n}function E(e,t){var n=e.replace(/\./g,"");return t.find(function(e){var t=e.commodityCodeStart.value;return n.startsWith(t)})}function S(e,t){var n=arguments.length<=2||arguments[2]===undefined?"exportCommodityCode":arguments[2];if(!e[n])return!0;var i=E(e[n],t);return!i||i.licenseType.value===e.licenseType}function g(e){var t=i.CI_KEYS.CI1377_COMMODITY_CODE_LICENSE_TYPE_CORRELATION;return i.getSourceData(t,e)}function C(e,t,n,i){var r,o=E(e[i],n),a=o?o.licenseType.value:t,u=d(t),c=+e.quantity||1,s=A(e,c),l=(+e.value||0)*c;return Object.assign(u,(r={},r[i]=e[i],r.licenseType=a,r.description=e.description,r.origin=h(e),r.totalWeight=s,r.totalValue=l,r)),u}function A(e,t){return(+(e.convertedGrossWeight||e.grossWeight)||0)*t}function h(e){return e.countryCode!==n.getUserCountry()&&e.countryCode?"INTERNATIONAL":"DOMESTIC"}function I(e){return!e.licenseNumberMandatority}function v(e){return e.eccnMandatority}function N(e){return e.commodityList.map(function(e){return e.exportCommodityCode+":"+e.origin+":"+e.ECCN}).some(function(e,t,n){return t!==n.indexOf(e)})}function T(e){return t("calculateTotal")(e.commodityList,"totalWeight")}function M(e){return t("calculateTotal")(e.commodityList,"totalValue")}function y(e,n,i){var r=T(e);return t("convertUomToOpposite")(r,n,i)}function O(e,t){if(e.length!==G)return t;var n=t.filter(function(t){return t.specialEccnValues.value.includes(e)});return n.length?n:t}function D(e,t){return t.find(function(t){return t.licenseType.value===e.licenseType})||{}}function P(e,n){return t("replace")(o.SHIPMENT_CUSTOMS_INVOICE.CUSTOMS_INVOICE_ITEMS_MSG_CONFIRM_DESCRIPTION_REPLACE,{oldDescription:e,newDescription:n})}function R(e){r.invokeGssValidationForDescription(e)}function b(e){r.storeValidLineItemDescriptionInCache(e)}var L="OS",G=5;return{applyInitialData:a,applyLicenseTypesList:u,mapCustomsInvoiceToList:m,addEmptyCommodityRow:f,deleteCommodityRow:p,invokeGssValidationForDescription:R,storeValidLineItemDescriptionInCache:b,isLicenseTypeDisabled:I,isEccnMandatoryState:v,isLicenseTypeValidForCommodityCode:S,applyCommodityOriginTranslations:l,isEeiListHasDuplicates:N,getTotalWeight:T,getTotalValue:M,getTotalWeightForOtherUnits:y,getLicenseTypes:O,getLicenseTypeInfo:D,getConfirmationMessage:P}}i.$inject=["$q","$filter","userService","configService","globalScreeningValidationService","Messages"],t.__esModule=!0,t["default"]=i,i.NG_NAME="itarBisEeiService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({controller:o,controllerAs:"itarBisCtrl",templateUrl:"itar-bis.html",bindings:{model:"<"+m,controlledExportType:"<"+m+"ControlledExportType",totalDeclaredValue:"<"+m+"TotalDeclaredValue",totalDeclaredCurrency:"<"+m+"TotalDeclaredCurrency",productList:"<"+m+"ProductList",eeiUnavailable:"<?"+m+"EeiUnavailable",fromCountry:"<"+m+"FromCountry",fromCity:"<"+m+"FromCity",fromPostalCode:"<"+m+"FromPostalCode",fromServiceAreaCode:"<"+m+"FromServiceAreaCode",fromCountryDivisionCode:"<"+m+"FromCountryDivisionCode",fromCitySuburbName:"<"+m+"FromCitySuburbName",toCountry:"<"+m+"ToCountry",toCity:"<"+m+"ToCity",toPostalCode:"<"+m+"ToPostalCode",toServiceAreaCode:"<"+m+"ToServiceAreaCode",toCountryDivisionCode:"<"+m+"ToCountryDivisionCode",toCitySuburbName:"<"+m+"ToCitySuburbName",shipmentPackagingType:"<"+m+"ShipmentPackagingType",shipmentTypeModel:"<"+m+"ShipmentTypeModel",addressDetailsModel:"<"+m+"AddressDetailsModel"}})}function o(e,t,n,i,r){"ngInject";function o(){i.applyLicenseTypesList(te.fromCountry).then(function(e){var t=e[0],n=e[1],i=e[2];te.licenseTypes=[].concat(t),te.defaultLicenseType=n,te.commodityCodes=i,N(),V(),Y()})}function a(e){var t=e.controlledExportType;c(t),l(e),T(e),m(e),_(t),C(),R(e),f()}function c(e){e&&(te.model.federalTradeRegulations=te.model.getFtrForControlledExportType(e.currentValue))}function l(e){(e.productList||te.model.productList!==te.productList)&&(te.model.productList=te.productList,ie=angular.copy(te.productList),C())}function f(){te.toCountry&&(P(),h(),I())}function m(e){e.shipmentPackagingType&&I()}function _(e){M()&&S(e)&&E()&&(te.model.federalTradeRegulations=!0,te.model.setFtrForControlledExportType(p["default"].NO,!0))}function E(){return te.model.isControlledExportType===p["default"].NO&&!1===te.model.federalTradeRegulations&&""===te.model.shipmentExportType}function S(e){return n.shouldSetFtrDefault(e,te.isBisEccnEar99CommodityRuleApplied)}function g(){te.model.controlledExportTypeFields.ultimateConsignee=te.shipmentTypeModel.itemAttributes.ultimateConsignee,te.model.controlledExportTypeFields.countryOfUltimateDestination=te.shipmentTypeModel.itemAttributes.country.code2,angular.equals(ie,te.productList)||(ie=angular.copy(te.productList),C()),te.model.isControlledExportType===p["default"].BIS&&(te.model.federalTradeRegulations=!1,te.model.setFtrForControlledExportType(p["default"].BIS,!1))}function C(){A()&&n.getCriticalValue(te.fromCountry).then(function(e){G(e.currency).then(function(t){return v(t,e.value)})})}function A(){return te.totalDeclaredValue&&te.totalDeclaredCurrency&&te.productList&&te.productList.length&&te.shipmentTypeModel.customsInvoiceType!==d["default"].USE}function h(){n.retrieveItarRestrictedCountries().then(function(e){return ae=!e.some(function(e){return e.value===te.toCountry})})}function I(){var e=t.isShipmentTypePackage(te.shipmentPackagingType);n.setBisEccnEar99RuleApplyingStatus(te,e)}function v(e,t){ue=e>t,(!M()||z()||ue)&&(te.model.federalTradeRegulations=!1),te.model.setFtrForControlledExportType(te.model.isControlledExportType,te.model.federalTradeRegulations)}function N(){Object.assign(te.model,new u["default"],angular.copy(te.model))}function T(e){var t=e.fromCountry,i=e.toCountry;(t||i)&&n.isShipToOfacWithAccount(te.fromCountry,te.toCountry).then(function(e){ce=e,e&&(te.model.federalTradeRegulations=!1,te.model.setFtrForControlledExportType(te.model.isControlledExportType,!1),te.model.shipmentExportType="")})}function M(){return te.model.isControlledExportType===p["default"].ITAR||te.model.isControlledExportType===p["default"].NO&&y()}function y(){var e={isCountryAllowedShipToOfacCountries:oe,isFtrExemptionRestricted:ue};return n.isNotControlledExportTypeFtrExemptionBlockVisible(te,e)}function O(){return te.model.isControlledExportType!==p["default"].ITAR||!te.model.federalTradeRegulations}function D(){return te.model.isControlledExportType&&te.model.isControlledExportType!==p["default"].NO}function P(){n.getFtrList(te.toCountry).then(function(e){return te.ftrExemptionList=e})}function R(i){if(![i.fromCountry,i.fromCity,i.fromPostalCode,i.toCountry,i.toCity,i.toPostalCode].every(function(e){return!e})){var r={fromCountry:te.fromCountry,fromCity:te.fromCity,fromPostalCode:te.fromPostalCode,fromServiceAreaCode:te.fromServiceAreaCode,fromCountryDivisionCode:te.fromCountryDivisionCode,fromCitySuburbName:te.fromCitySuburbName,toCountry:te.toCountry,toCity:te.toCity,toPostalCode:te.toPostalCode,toServiceAreaCode:te.toServiceAreaCode,toCountryDivisionCode:te.toCountryDivisionCode,toCitySuburbName:te.toCitySuburbName},o=[].concat(Q(),[e.all([n.isCountryOFAC(te.toCountry),t.loadShipmentTypeOptions(te.fromCountry,r,te.shipmentTypeModel)]).then(function(e){var n=e[0],i=e[1],o={country:te.fromCountry,params:r,isCountryOFAC:n};return t.handleShipmentTypeOptions(i,o,te.shipmentTypeModel)})]);e.all(o).then(function(e){var t=e[0],n=e[1],i=e[2],r=e[3],o=r.itarBisVisible,a=r.shipmentDutiable,u=r.isOFAC;Object.assign(te.model,{itarBisVisible:o,shipmentDutiable:a,isItarApproved:t,isBisApproved:n,isOFAC:u,hasAccountsWithoutItarBis:i}),b()})}}function b(){n.applyDefaultItarOption(te.model,ae),n.applyDefaultNoOption(te.model,ae,J()),te.model.isControlledExportType!==p["default"].ITAR||ae||(te.model.isControlledExportType=null),angular.isUndefined(te.model.federalTradeRegulations)&&te.model.shipmentDutiable&&(te.model.federalTradeRegulations=!1,te.model.isControlledExportType&&te.model.setFtrForControlledExportType(te.model.isControlledExportType,!1))}function L(){return te.model.isControlledExportType===p["default"].NO&&!1===te.model.federalTradeRegulations}function G(e){return n.isUseExportHsCode().then(function(n){var r=n?"exportCommodityCode":"importCommodityCode",o={productList:te.productList};i.mapCustomsInvoiceToList(o,te.defaultLicenseType,te.commodityCodes,r);var a=Math.max.apply(Math,o.commodityList.map(function(e){return e.totalValue}));return t.processCurrencyConversion({amount:a,sourceCurrency:te.totalDeclaredCurrency,targetCurrency:e})})}function k(){return te.model.isItarApproved&&ae&&!J()}function w(){return(k()||te.model.isBisApproved)&&!n.isGuest()}function U(){return te.model.isBisApproved&&k()}function F(){return!te.model.isBisApproved&&k()&&te.model.hasAccountsWithoutItarBis}function j(){return te.model.isBisApproved&&!k()}function V(){n.isAuthorized()&&n.retrieveAesPostValue().then(function(e){var t=e[0];if(!t)return void(ne=!1);ne=t.aes,te.model.einNumber=t.ein.value})}function B(){return ne&&!ce}function $(){return!te.eeiUnavailable&&!ce}function H(){return!ce&&te.model.isControlledExportType===p["default"].NO}function x(){return!z()&&K()}function K(){return te.model.shipmentDutiable&&te.shipmentTypeModel.customsInvoiceType===d["default"].CREATE&&ue}function Y(){n.isCountryAllowedToShipToOfacCountries(te.fromCountry).then(function(e){return oe=e})}function W(e){te.model.setFtrForControlledExportType(te.model.isControlledExportType,e),e&&te.model.isControlledExportType===p["default"].ITAR&&!re&&(te.model.controlledExportTypeFields.exportLicenseNumber=te.model.controlledExportTypeFields.exportLicenseNumber||r.SHIPMENT_DETAILS.EXPORT_LICENSE_NUMBER_FTR_VALUE,re=!0)}function q(){return n.isItarBisNotFtrOptionsBlockVisible(te)}function z(){return te.model.isControlledExportType===p["default"].NO&&te.isBisEccnEar99CommodityRuleApplied}function X(){return!te.model.shipmentDutiable&&!z()}function Q(){return n.getAccountsStatusRequests(te.addressDetailsModel)}function Z(){return te.model.isBisApproved||te.model.hasAccountsWithoutItarBis}function J(){return te.fromCountry!==n.getUserCountry()&&te.model.hasAccountsWithoutItarBis}function ee(){var e=te.addressDetailsModel.getMailingListContacts();return!(!e||!e.length)}var te=this;Object.assign(te,{$onInit:o,$onChanges:a,$doCheck:g,isNotFederalRegulations:L,isFtrExemptionBlockVisible:M,isControlledExportTypeBlockVisible:w,isControlledExportTypeItarOptionVisible:k,isItarBisTypeQuestionVisible:U,isItarTypeQuestionVisible:F,isBisTypeQuestionVisible:j,isShipmentExportTypeEinAvailable:B,isShipmentExportTypeEeiAvailable:$,isShipmentExportTypeFTRAvailable:H,isCriticalDeclaredValueExceededAlertVisible:x,isItnFieldVisible:O,isElectronicExportFilingFieldsVisible:D,onSelectFtr:W,isItarBisNotFtrOptionsBlockVisible:q,shouldUseBisEccnEar99CommodityRule:z,isFtrExemptionsBlockVisible:X,isCommercialExportTypeBlockVisible:Z,isMailingListShipment:ee,licenseTypes:[],commodityCodes:[],defaultLicenseType:"",shipmentExportType:s["default"],itarBisType:p["default"]});var ne=void 0,ie=void 0,re=void 0,oe=void 0,ae=void 0,ue=void 0,ce=void 0}r.$inject=["component"],o.$inject=["$q","shipmentTypeService","itarBisService","itarBisEeiService","Messages"],t.__esModule=!0,t["default"]=r,t.ItarBisController=o;var a=n(950),u=i(a),c=n(280),s=i(c),l=n(47),d=i(l),f=n(100),p=i(f),m=r.NG_NAME="ewfItarBis"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o){"ngInject";function u(e){return n.isCountryOFAC(e)}function s(e){return u(e).then(f)}function d(e){return t.getFormField(t.CI_KEYS.CI0789_CRITICAL_SHIPMENT_ITEM,e)}function f(e){var n=t.CI_KEYS.CI0790_FTR_DROP_DOWN,i=t.CI_KEYS.CI0791_FTR_DROP_DOWN_OFAC,r=e?i:n;return t.getSourceData(r,a["default"].UNITED_STATES)}function p(){return t.getSourceData(t.CI_KEYS.CI0246_EEI_AES_POST)}function m(e,t){return n.isShipmentRestrictedByOfac(e,t).then(function(e){return e&&i.hasOfacAllowedAccounts()})}function _(){return t.getSourceData(t.CI_KEYS.CI1333_LIST_OF_ITAR_RESTRICTED_COUNTRY)}function E(e){return n.isCountryAllowedToShipToOfacCountries(e)}function S(e,t){return e&&e.currentValue===l["default"].NO&&!t}function g(e,t){if(!t)return void(e.isBisEccnEar99CommodityRuleApplied=!1);C(e.fromCountry,e.toCountry).then(function(t){t&&(e.model.federalTradeRegulations=!1),e.isBisEccnEar99CommodityRuleApplied=t})}function C(t,n){return r.isCountryFromUsBillingRegion(t)?A(n):e.when(!1)}function A(e){return t.getSourceData(t.CI_KEYS.CI1418_BIS_ECCN_EAR99_COMMODITY_RULE_COUNTRIES).then(function(t){return t.some(function(t){return t.value===e})})}function h(e,t){return I(e,t)&&v(e,t)&&!e.isBisEccnEar99CommodityRuleApplied}function I(e,t){return e.shipmentTypeModel.customsInvoiceType===c["default"].USE||!t.isFtrExemptionRestricted}function v(e,t){return!e.model.isOFAC||t.isCountryAllowedShipToOfacCountries}function N(e){var t=e.model,n=e.isBisEccnEar99CommodityRuleApplied;return t.isControlledExportType===l["default"].NO&&(n||!1===t.federalTradeRegulations)}function T(e,t,n){e.isItarApproved&&t&&!n||e.isBisApproved||(e.isControlledExportType=l["default"].NO)}function M(e,t){!e.isItarApproved||!t||e.isBisApproved||e.hasAccountsWithoutItarBis||(e.isControlledExportType=l["default"].ITAR)}function y(e){return _().then(function(t){return t.some(function(t){return t.value===e})})}function O(e){return t.getBoolean(t.CI_KEYS.CI0604_ENABLE_EEI,e)}function D(t){return R()?[i.hasItarApprovedAccounts(t),i.hasBisApprovedAccounts(t),i.hasAccountsWithoutItarBisApproved()]:[e.when(!1),e.when(!1),e.when(!1)]}function P(){return o.isGuest()}function R(){return o.isAuthorized()}function b(){return o.getUserCountry()}function L(e){return t.getBoolean(t.CI_KEYS.CI1273_USE_EXPORT_HS_CODE,e)}return{isCountryOFAC:u,getFtrList:s,getCriticalValue:d,retrieveAesPostValue:p,isShipToOfacWithAccount:m,retrieveItarRestrictedCountries:_,isCountryAllowedToShipToOfacCountries:E,shouldSetFtrDefault:S,setBisEccnEar99RuleApplyingStatus:g,isNotControlledExportTypeFtrExemptionBlockVisible:h,isItarBisNotFtrOptionsBlockVisible:N,applyDefaultItarOption:M,applyDefaultNoOption:T,isShipToItarRestrictedCountry:y,getEeiStatus:O,getAccountsStatusRequests:D,isGuest:P,isAuthorized:R,getUserCountry:b,isUseExportHsCode:L}}r.$inject=["$q","configService","ofacService","paymentAccountService","paymentTypeService","userService"],t.__esModule=!0,t["default"]=r;var o=n(4),a=i(o),u=n(47),c=i(u),s=n(100),l=i(s);r.NG_NAME="itarBisService"},function(e,t,n){"use strict";function i(){return{restrict:"A",templateUrl:"itar-bis-itn-field.html",require:"^ewfItarBis"}}t.__esModule=!0,t["default"]=i,i.NG_NAME="ewfItarBisItnField"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";return e({bindings:{model:"<"+l+"Model",brazilModel:"<"+l+"BrazilModel",shipmentTypeModel:"<"+l+"ShipmentTypeModel",itarBisModel:"<"+l+"ItarBisModel",returnLabelShipmentTypeModel:"<"+l+"ReturnLabelShipmentTypeModel",returnLabelItarBisModel:"<"+l+"ReturnLabelItarBisModel",resetPaymentOptions:"&?"+l+"ResetPaymentOptions",isBrazilFlow:"<"+l+"IsBrazilFlow",nfeEntryOnly:"<"+l+"NfeEntryOnly",disableFieldsIfFilled:"<"+l+"DisableFieldsIfFilled",isStep:"<?"+l+"IsStep",nextButtonDisabled:"<?"+l+"NextButtonDisabled",editModeActive:"<?"+l+"EditModeActive",nextButtonText:"<?"+l+"NextButtonText",selectedCteOptionLabel:"<?"+l+"SelectedCteOptionLabel",isNfeFromToAvailable:"<?"+l+"IsNfeFromToAvailable",areCriticalComponentsReady:"<?"+l+"AreCriticalComponentsReady",shipmentDefaultsContact:"<?"+l+"ShipmentDefaultsContact",onNextClick:"&?"+l+"OnNextClick",onEditClick:"&?"+l+"OnEditClick"},controller:o,controllerAs:"addressDetailsCtrl",templateUrl:function(){function e(e,t){return t[l+"IsStep"]?"components/shipment/address-details/address-details-step.html":"components/shipment/address-details/address-details.html"}return e}()})}function o(e,t,n,i,r,o,a,c,l){"ngInject";function d(){angular.isUndefined(L.areCriticalComponentsReady)&&(L.areCriticalComponentsReady=!0);var t=n.getParamFromUrl(u["default"].ADDRESS_KEY);e.parentAddressDetailsCtrl=L.isStep&&L,G=c.getRestoredShipmentId(),t?S(t):b()&&R(),L.isShipmentFetchedByAssignee=p(),f()}function f(){L.isBrazilFlow&&(function(){var t=e.$watchCollection(function(){return[p(),L.nfeEntryOnly]},function(e){var n=e[0],i=e[1];n&&null!==i&&(L.brazilModel.nfeAddressesTheSameAsFromTo=i,t())})}(),function(){e.$watch(function(){return L.brazilModel},function(e,t){L.onBrazilDetailsChanged(L.brazilModel.cteOption,L.brazilModel.nfeAddressesTheSameAsFromTo,L.model.fromContact,L.model.toContact,e,t)},!0)}())}function p(){return l.isShipmentFetchedByAssignee()}function m(e){var n=e.addressDetails,i=arguments.length<=1||arguments[1]===undefined?n.countryCode:arguments[1];t.getCountryByCode(i).then(function(e){Object.assign(n,{countryCode:e.code2,countryName:e.name})})}function _(e,t){e.setFromAddressBook(t),m(e)}function E(e,t){if(t)return void _(L.model.fromContact,e);_(L.model.toContact,e)}function S(e){a.getContactDetails(e).then(function(e){E(e.mappedDetails,e.isFromContact),a.isContactEmpty(L.model.fromContact)&&R()})}function g(){L.brazilModel.isShipmentOriginatingFromBrazil=L.model.fromContact.addressDetails.countryCode===s["default"].BRAZIL}function C(){return I(L.brazilModel.cteOption)&&r.isFormCompletionAllowed(L.brazilModel)}function A(){return r.isFormCompletionAllowed(L.brazilModel)&&!r.isNFeAddressesTheSameAsFromTo(L.brazilModel)}function h(e){return r.isFromCountryBrazilOnly(e)}function I(e){return r.isNFeFromToAvailable(e)}function v(e){return r.isNfeFromToSummaryAvailable(e.cteOption,e.fiscalInfoRows)}function N(){return r.isNfeFromToDisabled(L.brazilModel)}function T(){L.brazilModel.nfeAddressesTheSameAsFromTo||i.syncNfeFromToDetails(L.model.fromContact,L.model.toContact,L.brazilModel)}function M(e,t){return r.isImportNfeFileCteSelected(t.cteOption)&&e.cteOption!==t.cteOption}function y(e,t,n,a,u,c){if(!r.isAdditionalChangesAllowed(L.nfeEntryOnly))return M(u,c)?void r.clearContacts(u,L.model):void(I(e)&&(t&&i.syncNfeFromToDetails(n,a,u),o.isNfeEntryOnly().then(function(e){e||L.brazilModel.nfeAddressesSameAsFromToDisabled||i.populateNfeToCountryCode(a,u)})))}function O(e){return r.isImportNfeFileCteSelected(e)}function D(e){return r.isNotOriginatingWithinBrazil(e)}function P(e){return r.isAdditionalChangesAllowed(L.nfeEntryOnly)||r.isImportingNfeFileForImportShipment(e)||e.nfeAddressesSameAsFromToDisabled}function R(){G||(L.shipmentDefaultsContact||(L.shipmentDefaultsContact=i.applyDefaultFromContact(L.model.fromContact)),L.shipmentDefaultsContact.then(function(){return m(L.model.fromContact)}))}function b(){return""===L.model.fromContact.name&&!n.getParamFromUrl(u["default"].SHIPMENT_FROM_DASHBOARD)}var L=this,G="";Object.assign(L,{$onInit:d,$doCheck:g,isMainFromToFormVisible:A,isFromCountryBrazilOnly:h,isNFeFromToAvailable:I,isNfeFromToSummaryAvailable:v,isNfeFromToDisabled:N,onUseNfeAddressOptionChanged:T,onBrazilDetailsChanged:y,isImportNfeFileCteSelected:O,isNotOriginatingWithinBrazil:D,isUseNfeContactCheckboxDisabled:P,isNfeFromToFormAllowed:C,FROM:"from",TO:"to"})}r.$inject=["component"],o.$inject=["$scope","locationService","pathService","addressDetailsService","brazilService","nfeEntryOnlyService","addressContactService","shipmentFlowService","shipmentDataService"],t.__esModule=!0,t["default"]=r,t.AddressDetailsController=o;var a=n(1),u=i(a),c=n(4),s=i(c),l=r.NG_NAME="ewfAddressDetails"},function(e,t,n){"use strict";function i(){function e(e,t,n,i){var r=i[0],o=i[1];o.model=e.$eval(n[a+"AddressDetailsModel"]),o.brazilModel=e.$eval(n[a+"BrazilModel"]),r.addStep(o,t)}return{restrict:"A",controller:o["default"],controllerAs:"addressDetailsStepCtrl",require:["^ewfShipment",a],link:{pre:e}}}t.__esModule=!0,t["default"]=i;var r=n(2011),o=function(e){return e&&e.__esModule?e:{"default":e}}(r),a=i.NG_NAME="ewfAddressDetailsStep"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o){"ngInject";function a(){_.initialized=!0,f()}function u(){var n={brazilFlow:l(),nFeFromToAvailable:e.isNFeFromToAvailable(_.brazilModel.cteOption),nFeAddressesTheSameAsFromTo:e.isNFeAddressesTheSameAsFromTo(_.brazilModel),isNfeFromToFormDisabled:e.isNfeFromToDisabled(_.brazilModel)};t.validateLocations(n,_.model,s(_.brazilModel))&&r.checkUserContact(_.model)["finally"](function(){_.nextCallback(),o.markShipmentAddressSection()})}function s(e){return{fromContact:e.fromContact,toContact:e.toContact}}function l(){return e.isBrazilFlow()}function d(){return e.isNFeFromToAvailable(_.brazilModel.cteOption)}function f(){var e;e={},e[c["default"].DANFE_KEY]=n.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_DANFE,e[c["default"].IMPORT_NF]=n.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_IMPORT_NF_FILE,e[c["default"].MANUAL_DOC]=n.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_DOC,e[c["default"].MANUAL_NON_DOC_EXEMPT]=n.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_NONDOC_EXEMPT,e[c["default"].MANUAL_NON_DOC_NOT_EXEMPT]=n.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_NONDOC_NOT_EXEMPT,e[c["default"].NOT_BRAZIL]=n.SHIPMENT_ADDRESS.ADDRESS_DETAILS_LABEL_NOT_BRAZIL,E=e}function p(){return E[_.brazilModel.cteOption]}function m(){return!_.model.fromToInitialized||i.isPresentPendingRequest()}var _=this,E=void 0;Object.assign(_,{cteOptionsLabels:E,onInit:a,onNextClick:u,isBrazilFlow:l,isNFeFromToAvailable:d,isAddressDetailsNextButtonDisabled:m,getSelectedCteOptionLabel:p})}r.$inject=["brazilService","addressDetailsValidationService","Messages","pendingRequestService","addressDetailsService","analyticsService"],t.__esModule=!0,t["default"]=r;var o=n(136),a=i(o),u=n(55),c=i(u);r.prototype=new a["default"],r.prototype.name="address-details",r.prototype.nextStepOnDemand=!0},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"addressDetailsImportModalAccountCtrl",templateUrl:"address-details-import-modal-account-template.html",bindings:{importAccountNumber:"="+u+"ImportAccountNumber",importAccountNickname:"="+u+"ImportAccountNickname",fromCountryCode:"<"+u+"FromCountryCode"}})}function r(e,t){"ngInject";function n(n){return n?e.validateImportAccount(n,r.fromCountryCode).then(function(){return!0})["catch"](function(e){return r.importAccountNumberError=e.status===a["default"].SERVICE_UNAVAILABLE?t.ERRORS.UNABLE_TO_PROCESS_REQUEST:t.SHIPMENT_ADDRESS.LB_CREATE_IMPORT_ALERT_ACCOUNT_IS_INVALID,!1}):(r.importAccountNumberError=t.SHIPMENT_ADDRESS.LB_CREATE_IMPORT_ALERT_ENTER_ACCOUNT_NUMBER,!1)}function i(e){return!!e||(r.importAccountNicknameError=t.SHIPMENT_ADDRESS.LB_CREATE_IMPORT_ALERT_ENTER_ACCOUNT_NICKNAME,!1)}var r=this;Object.assign(r,{importAccountNumberError:"",importAccountNicknameError:"",validateImportAccountNumber:n,validateImportAccountNickname:i})}i.$inject=["component"],r.$inject=["addressDetailsImportService","Messages"],t.__esModule=!0,t["default"]=i,t.AddressDetailsImportModalAccountController=r;var o=n(5),a=function(e){return e&&e.__esModule?e:{"default":e}}(o),u=i.NG_NAME="ewfAddressDetailsImportModalAccount"},function(e,t,n){"use strict";function i(e,t,n,i,r,o,a,u,c,s){"ngInject";function l(e,t){var n={accountType:"SHIPPER",importAccount:!0,accountNumber:e,accountNickname:t};return i.postElement(D,n)}function d(){return n.getBoolean(n.CI_KEYS.CI0709_B2B_B2C_OPTION)}function f(e){return n.getBoolean(n.CI_KEYS.CI0298_RPA_ENABLED,e)}function p(){return"hide"!==t.get(P)}function m(e){t.put(P,e?"hide":"show")}function _(e,t,n){e.copy(n.fromContact),t.copy(n.toContact)}function E(e,t){var n=e.addressDetails,i=t.toContact.addressDetails;n&&i&&(n.countryCode=i.countryCode,n.countryName=i.countryName)}function S(t){return r.isAuthorized()?g().then(C).then(function(e){return Object.assign(t,e)}):(t.addressDetails={countryCode:r.getUserCountry()},e.reject())}function g(){return A().then(h)}function C(e){return c.clearNotVisibleAddressDetails(e.addressDetails).then(function(t){return e.addressDetails=t,e})}function A(){return i.getElement(O).then(function(t){return t.contactDetails||e.reject()})}function h(e){return e.profileContact=!0,e.phoneDetails=u.create(e.phoneDetails),Object.assign(e,{cnpjOrCPFTaxType:e.taxDetails.cnpjOrCPFTaxType,cnpjOrCPFTaxID:e.taxDetails.cnpjOrCPFTaxID,ieTaxId:e.taxDetails.ieTaxId})}function I(t){if(t.isUserUpdateDialogAlreadyShown||r.isGuest())return e.reject();var n=t.fromContact;return g().then(function(e){return v(e,n)}).then(function(){return N(n)})["finally"](function(){return t.isUserUpdateDialogAlreadyShown=!0})}function v(t,n){return t.addressDetails.countryCode!==n.addressDetails.countryCode?e.reject():o.isProfileMandatoryFieldsFilledIn(t).then(function(t){return t?e.reject():e.when()})}function N(e){return a.showDialog({templateUrl:"address-details-update-user-contact.html"}).result.then(function(){return T(e)})}function T(e){var t=e.getForAddressBook();o.updateProfileContact(t)}function M(e){return e.addressDetails.countryCode===r.getUserCountry()}function y(e){var t=e.addressDetails,n=e.company,i=e.additionalNotes,r=e.name,o=e.taxDetails,a=e.phoneDetails,u=s.createAsyncValidator("inputCharactersValidator",{disableLocalLanguage:!0}),c=JSON.stringify({addressDetails:t,company:n,additionalNotes:i,name:r,taxDetails:o,phoneDetails:a});return u.validate(c)}var O="/api/shipment/defaults/contact",D="/api/myprofile/accounts/add",P="brazilImportAlert";return{saveImportAccount:l,getB2bB2cOption:d,isRpaEnabled:f,syncNfeFromToDetails:_,isBrazilImportAlertEnabled:p,toggleBrazilImportAlert:m,populateNfeToCountryCode:E,applyDefaultFromContact:S,checkUserContact:I,isUserCountry:M,isContactInfoWrittenInEnglish:y}}i.$inject=["$q","cookiesService","configService","crudService","userService","profileContactService","modalService","phoneDetailsFactory","addressDetailsFilteringService","validatorsFactory"],t.__esModule=!0,t["default"]=i,i.NG_NAME="addressDetailsService"},function(e,t,n){"use strict";function i(e,t){"ngInject";var n=new e;return n.addPartToShipmentModel(t),n}i.$inject=["AddressDetailsModelFactory","shipmentDataService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="addressDetailsModel"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(e){return t.showDialog({templateUrl:e}).result}function a(){return r("address-details-domestic-shipment-layout.html")}function u(){return r("address-details-itar-warning-layout.html")}function c(){return r("address-details-ofac-warning-layout.html")}function s(){var e=i.SHIPMENT_ADDRESS.LB_BRAZIL_OUTBOUND_RESTRICTED_PARAGRAPH_OUTBOUND_NOT_ALLOWED;return t.showMessageDialog({message:e})}function l(){var e=i.SHIPMENT_ADDRESS.ADDRESS_DETAILS_PARAGRAPH_SWITCH_RESTRICTED;return t.showMessageDialog({message:e})}function d(e){var n=e?i.SHIPMENT_ADDRESS.LB_IMPORT_RESTRICTED_PARAGRAPH_IMPORT_ACCOUNT_NEEDED:i.SHIPMENT_ADDRESS.LB_IMPORT_RESTRICTED_PARAGRAPH_IMPORT_SHIPMENT_NOT_ALLOWED;return t.showMessageDialog({title:i.SHIPMENT_ADDRESS.LB_IMPORT_RESTRICTED_HEADER_CREATING_IMPORT_SHIPMENT,message:n})}function f(){return t.showDialog({windowClass:"ewf-modal_width_large",templateUrl:"address-details-rpa-alert-modal-layout.html"}).result}function p(e){return t.showDialog({controller:o["default"],controllerAs:"addressDetailsImportModalCtrl",windowClass:"ewf-modal_width_large",templateUrl:"/ng-template/shipment/modals/address-details-import-modal-layout-ng-template.html",resolve:{fromCountryCode:function(){function t(){return e}return t}()}}).result}function m(n){return t.showDialog({windowClass:"ewf-modal_width_small",templateUrl:"address-details-rpa-restricted-alert-modal-layout.html",scope:Object.assign(e.$new(),{fromCountry:n})}).result}function _(){return t.showDialog({scope:e.$new(),windowClass:"ewf-modal_width_large",templateUrl:"brazil-import-modal-layout.html"}).result}function E(e){var t=n(e);return g(i.SHIPMENT_ADDRESS.NON_ACCOUNT_RESTRICTED_PARAGRAPH_SHIP_TO_COUNTRY.replace("{toCountry}",t))}function S(){return g(i.ASSIGN_SHIPMENT.ASSIGN_NAVIGATION_PARAGRAPH_NON_ACCOUNT_PAYMENTS_ERROR,!0)}function g(t,n){return h?(n&&(I.currentNonAccountMessage=t),h):(I=Object.assign(e.$new(),{currentNonAccountMessage:t}),h=C(),h["finally"](function(){h=I=null}),h)}function C(){return t.showDialog({windowClass:"ewf-modal_width_small",templateUrl:"address-details-non-account-payment-modal-layout.html",scope:I}).result}function A(){return r("address-details-military-warning-layout.html")}var h=void 0,I=void 0;return{showDomesticShipmentModal:a,showItarWarningModal:u,showMilitaryWarningModal:A,showOfacWarningModal:c,showBrazilOutboundModal:s,showRPAShipmentModal:f,showRPAShipmentNotAllowedModal:d,showRPAShipmentRestrictedModal:m,showImportOrRPAShipmentModal:p,showBrazilImportModal:_,showSwitchRestrictedModal:l,showNonAccountPaymentModal:E,showAssignNonAccountPaymentModal:S}}i.$inject=["$rootScope","modalService","countryNameFilter","Messages"],t.__esModule=!0,t["default"]=i;var r=n(2016),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="addressDetailsModalService"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(){c.isEnteringImportAccount=!0}function o(t){c.importAccountErrors=[];e.saveImportAccount(c.importAccountNumber,c.importAccountNickname).then(function(){t.close({rpaShipment:!1,importAccountNumber:c.importAccountNumber})})["catch"](function(e){var t=e.errors;"registration.registration_backend-error_cannot-save-duplicate-account-number"===t[0]?a().then(function(e){c.accountKey=e,c.errorPayerToShipper=!0}):c.importAccountErrors=t})}function a(){return n.fetchMyDhlAccounts("/api/myprofile/accounts").then(function(e){return e.find(function(e){return e.accountNumber===c.importAccountNumber}).key})}function u(e){e.close({rpaShipment:!1,importAccountNumber:c.importAccountNumber})}var c=this;Object.assign(c,{importAccountNumber:"",importAccountNickname:"",isEnteringImportAccount:!0,fromCountryCode:i,willEnterImportAccount:r,saveAccountToUserProfile:o,closeModal:u})}i.$inject=["addressDetailsService","addressDetailsValidationService","accountListService","fromCountryCode"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e,t,n,i,r,o){"ngInject";function a(t,n){return t&&n?o.isDomesticShipmentAllowed(t)["catch"](function(){return undefined}):e.when(undefined)}function u(e,t,n,i){return o.validateCountries(e,t,n,i)}function c(e){return r.isShipmentFromBrazil(e)}function s(){if(l())return i.showBrazilImportModal().then(n.toggleBrazilImportAlert)}function l(){return n.isBrazilImportAlertEnabled()&&!d()}function d(){return c(t.getUserCountry())}function f(e,t,n){return e.brazilFlow&&e.nFeFromToAvailable?e.nFeAddressesTheSameAsFromTo?p(n):p(t,e.isNfeFromToFormDisabled)&&p(n,e.isNfeFromToFormDisabled):p(t)}function p(e,t){var n=e.fromContact,i=e.toContact,r=e.mailingList;return n.addressDetails.locationValid&&(!!r||i.addressDetails.locationValid)||!!t}return{getDomesticShipmentAllowed:a,validateCountries:u,showBrazilImportModal:s,validateLocations:f}}i.$inject=["$q","userService","addressDetailsService","addressDetailsModalService","shipmentAddressService","addressDetailsCountryValidationService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="addressDetailsValidationService"},function(e,t,n){"use strict";function i(e,t,n,i,r,o,a,u){"ngInject";function c(t,n,i,r){return s(t,n).then(function(r){var o={isValid:!0,unNotAllowed:!1,domesticNotAllowed:!1,ofacAllowed:!0,isRPA:!1,accountValidationFailed:!1,isRPARestricted:!1,isItarRestricted:!1,isNonMilitaryRestricted:!1},a={fromCountryCode:t,toCountryCode:n,isOnlyCountriesValidation:i};return e.all([o,l(o,r,a)])}).then(function(e){return d(e,t,n,r)})}function s(t,n){return t&&n?m(t,n)["catch"](function(){return{checkShouldBeSkipped:!0}}):e.when({checkShouldBeSkipped:!0})}function l(e,t,n){var i=n.fromCountryCode,r=n.toCountryCode,o=n.isOnlyCountriesValidation;return e.isNonAccountOnlyAvailable=t.isNonAccountOnlyAvailable,t.checkShouldBeSkipped?E(o,i):(e.unNotAllowed=!t.unAllowed,t.domesticShipmentAllowed||i!==r?b(t)?L(e):(G(t,e),g(t)?E(o,i).then(S):C(e,i,o)):_(e))}function d(e,t,n,i){var r=e[0],o=e[1];return o?o.checkShouldBeSkipped?A(e,t,n):(o.isReturnLabel=i,h(e,t,n).then(function(t){return I(t,e)})["catch"](function(){return v(r)})):r}function f(e){return e===r.getUserCountry()}function p(e,t){return![t,e].includes(r.getUserCountry())}function m(t,r){var a=[n.getOfacInfo(t,r),N(t),i.isUnAllowed(t,r),o.checkNonAccountOnlyPayments(r),n.getItarInfo(t,r),n.isNonMilitaryRestricted(t,r)];return e.all(a).then(function(e){var n=e[0],i=n[0],o=n[1],a=e[1],u=e[2],c=e[3],s=e[4];return{destinationInOfacList:i,ofacAllowedForOrigin:o,domesticShipmentAllowed:a,unAllowed:u,isNonAccountOnlyAvailable:c,isItarRestrictedCountry:s[0],hasItarAccountsOnly:s[1],isEeiEnabled:s[2],nonMilitaryRestricted:e[5],importShipment:f(r),thirdPartyImportShipment:p(r,t)}})}function _(e){return e.domesticNotAllowed=!0,e.isValid=!1,t.showDomesticShipmentModal()["catch"](function(){return{checkShouldBeSkipped:!0}})}function E(t,n){return t?e.when():T(n)}function S(e){return e&&e.checkShouldBeSkipped&&(e.preventSkipNonAccountLogic=!0),e}function g(e){return!e.destinationInOfacList||e.ofacAllowedForOrigin}function C(e,i,r){return n.hasOfacAllowedAccounts().then(function(n){return n?E(r,i):(e.ofacAllowed=!1,e.isValid=!1,t.showOfacWarningModal()["catch"](function(){return{checkShouldBeSkipped:!0}}))})}function A(e,t,n){var i=e[0];return e[1].preventSkipNonAccountLogic&&i.isNonAccountOnlyAvailable?(i.isExportNonAccountOnlyPopup=!0,o.handleNonAccountPaymentModals(i,t,n).then(function(){return i})):i}function h(n,i,a){var u=n[0],c=n[1],s=r.isAuthorized();return c.checkShouldBeSkipped?e.when():u.isNonAccountOnlyAvailable?o.handleNonAccountPaymentModals(u,i,a):c.hasImportAccounts?e.when():c.hasExportAccounts?t.showImportOrRPAShipmentModal(i):r.retrieveAccountHolderStatus()["catch"](function(){return!1}).then(function(n){return!n&&M(i)?t.showBrazilOutboundModal().then(function(){return e.reject()}):y(s,c,n,i)})}function I(e,t){var n=t[0],i=t[1];return n.isRPARestricted=!1,e?(n.newAccountNumber=e.importAccountNumber,e.rpaShipment&&(n.isRPA=!0,n.profileCountryCode=i.profileCountryCode),n.isRPARestricted=e.isRPARestricted||!1,n):n}function v(e){return e.accountValidationFailed=!0,e.isValid=!1,e}function N(e){var t=!r.hasDhlAccounts()&&!r.isCorpEmployee();return i.isDomesticShipmentAllowedForUser(e,t)}function T(t){return t?O().then(function(n){var i=n[0],o=r.getUserCountry();return D(i,o,t)?e.when({checkShouldBeSkipped:!0}):P(o)}):e.when({checkShouldBeSkipped:!0})}function M(e){return n.isCountryCodeBrazil(e)}function y(n,r,o,a){var u=!1;return r.rpaEnabled?o?t.showRPAShipmentModal().then(function(){return{rpaShipment:!0}}):i.checkRPARestrictions(a).then(function(e){return u=e,u?t.showRPAShipmentRestrictedModal(a):t.showRPAShipmentModal()}).then(function(){return u?{isRPARestricted:!0}:{rpaShipment:!0}}):t.showRPAShipmentNotAllowedModal(n).then(function(){return e.reject()})}function O(){var t=[i.getConfiguredBillingRegions(),a.loadBillingRegions()];return e.all(t)}function D(e,t,n){return e?a.extractBillingRegion(t)===a.extractBillingRegion(n):t===n}function P(t){return e.all([u.isRpaEnabled(t),R()]).then(function(e){var n=e[0],i=e[1];return Object.assign({rpaEnabled:n,profileCountryCode:t},i)})["catch"](function(){return{checkShouldBeSkipped:!0}})}function R(){return r.isAuthorized()?i.getMyProfileAccounts().then(function(e){return{hasImportAccounts:e.some(function(e){return e.importAccount&&a.isShipperAccount(e)}),hasExportAccounts:e.some(function(e){return!e.importAccount})}}):e.when({hasImportAccounts:!1,hasExportAccounts:!1})}function b(e){return r.isAuthorized()&&e.isEeiEnabled&&e.isItarRestrictedCountry&&e.hasItarAccountsOnly}function L(e){return e.isItarRestricted=!0,e.isValid=!1,t.showItarWarningModal()["catch"](function(){return{checkShouldBeSkipped:!0}})}function G(e,n){if(e.nonMilitaryRestricted&&!e.isEeiEnabled||k(e))return n.isValid=!1,n.isNonMilitaryRestricted=!0,t.showMilitaryWarningModal()["catch"](function(){return{checkShouldBeSkipped:!0}})}function k(e){return e.isEeiEnabled&&e.hasItarAccountsOnly&&(e.importShipment||e.thirdPartyImportShipment)}return{validateCountries:c,isDomesticShipmentAllowed:N}}i.$inject=["$q","addressDetailsModalService","addressDetailsCountrySpecificService","addressDetailsValidationResource","userService","addressDetailsNonAccountPaymentService","paymentTypeService","addressDetailsService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="addressDetailsCountryValidationService"},function(e,t,n){"use strict";function i(e,t,n,i,r,o){"ngInject";function a(n,i){return e.all([t.isCountryOFAC(i),t.isCountryAllowedToShipToOfacCountries(n)])}function u(){return n.hasOfacAllowedAccounts()}function c(e){return i.isShipmentFromBrazil(e)}function s(t,i){return e.all([r.isShipToItarRestrictedCountry(i),n.hasItarAccountsOnly(),r.getEeiStatus(t)])}function l(e,t){return o.isNonMilitaryRestricted(e,t)}return{getOfacInfo:a,hasOfacAllowedAccounts:u,isCountryCodeBrazil:c,getItarInfo:s,isNonMilitaryRestricted:l}}i.$inject=["$q","ofacService","paymentAccountService","shipmentAddressService","itarBisService","globalMilitaryService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="addressDetailsCountrySpecificService"},function(e,t,n){"use strict";function i(e,t,n,i,r){"ngInject";function o(e){return a(e).then(function(e){return n.storeNonAccountOnlyAvailable(e),e})}function a(n){var i=t.getUserCountry();return t.isAuthorized()?r.isNonAccountOnly(n,i):e.when(!1)}function u(t,n,i){return e.all([r.getAllowNonAccountPaymentTypesForImportShipment(),r.getRpaEnabled(),r.checkRPARestrictions(n),r.getOnlinePaymentDestinationValidity(i)]).then(function(e){var r=e[0],o=e[1],a=e[2],u=e[3];return(t.isExportNonAccountOnlyPopup||r)&&o?a?s(t,n):u?t:l(t,i):c(t,n)})}function c(e,t){return e.isExportNonAccountOnlyPopup?e:i.showImportOrRPAShipmentModal(t)}function s(e,t){return e.isExportNonAccountOnlyPopup?e:(e.isRPARestricted=!0,i.showRPAShipmentRestrictedModal(t))}function l(e,t){return e.isNonAccountOnlyModalShown=!0,i.showNonAccountPaymentModal(t)}return{checkNonAccountOnlyPayments:o,handleNonAccountPaymentModals:u}}i.$inject=["$q","userService","shipmentToolbarPaymentService","addressDetailsModalService","addressDetailsNonAccountPaymentResource"],t.__esModule=!0,t["default"]=i,i.NG_NAME="addressDetailsNonAccountPaymentService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){return e.getBoolean(e.CI_KEYS.CI1398_ALLOW_NON_ACCOUNT_PAYMENT_TYPES_FOR_IMPORT_SHIPMENTS)}function r(){return e.getBoolean(e.CI_KEYS.CI0298_RPA_ENABLED)}function o(e){return n.getOnlinePaymentDestinationValidity(e)}function a(e,n){return t.isNonAccountOnly(e,n)}function u(e){return t.checkRPARestrictions(e)}return{getAllowNonAccountPaymentTypesForImportShipment:i,getRpaEnabled:r,getOnlinePaymentDestinationValidity:o,isNonAccountOnly:a,checkRPARestrictions:u}}i.$inject=["configService","addressDetailsValidationResource","paymentResource"],t.__esModule=!0,t["default"]=i,i.NG_NAME="addressDetailsNonAccountPaymentResource"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(){return n.getElementList("/api/myprofile/accounts").then(function(){return arguments.length<=0||arguments[0]===undefined?[]:arguments[0]})}function o(){return i.getBoolean(i.CI_KEYS.CI1380_DISABLE_LOCAL_IMPORT_ACCOUNTS_IN_BILLING_REGIONS)}function a(t,n){var r=[i.getSourceData(i.CI_KEYS.CI0196_IS_DOMESTIC_SHIPMENT_ALLOWED,t,!0),i.getSourceData(i.CI_KEYS.CI1407_ALLOW_DOMESTIC_SHIPMENT_FOR_ONLINE_PAYMENTS_ONLY,t)];return e.all(r).then(function(e){var t=e[0],i=e[1];return!t&&n?i:t})}function u(t,n){var r=[i.getSourceData(i.CI_KEYS.CI0971_DISPLAY_UN_SACTIONED_WARNING_ALERT,t),i.getSourceData(i.CI_KEYS.CI0191_INDEMNITY_LETTER,n)];return e.all(r).then(function(e){var t=e[0],i=e[1];return!t||!i.some(function(e){var t=e.value;return n===t})})}function c(e){return i.getSourceData(i.CI_KEYS.CI1368_ORIGIN_NOT_ALLOWED_FOR_RPA).then(function(t){return t&&t.some(function(t){return t.value===e})})}function s(e,n){var i=e===n,r={importShipment:i};return t.get("/api/shipment/payment/options/is-nonaccount-only",{params:r}).then(function(e){return"true"===e.data})}return{getMyProfileAccounts:r,getConfiguredBillingRegions:o,isDomesticShipmentAllowedForUser:a,isUnAllowed:u,checkRPARestrictions:c,isNonAccountOnly:s}}i.$inject=["$q","$http","crudService","configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="addressDetailsValidationResource"},function(e,t,n){"use strict";function i(e){"ngInject";function t(t,n){var i={countryCode:n,accountNumber:t,validateImportAccount:!0};return e.post("/api/shipment/account/validate",i,{preventNotAvailableInterceptor:!0}).then(function(e){return e.data})}return{validateImportAccount:t}}i.$inject=["$http"],t.__esModule=!0,t["default"]=i,i.NG_NAME="addressDetailsImportService"},function(e,t,n){"use strict";function i(e){"ngInject";return e({bindings:{termsOfTrade:"="+o+"TermsOfTrade"},controller:r,controllerAs:"globalIncotermsCtrl",templateUrl:"global-incoterms-layout.html"})}function r(e){"ngInject";function t(){e.getGlobalIncoterms().then(function(e){return n.incotermList=e})}var n=this;Object.assign(n,{incotermList:[],$onInit:t})}i.$inject=["component"],r.$inject=["globalIncotermsService"],t.__esModule=!0,t["default"]=i,t.GlobalIncotermsController=r;var o=i.NG_NAME="ewfGlobalIncoterms"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(){return e.get("/api/incoterms",{cache:!0}).then(function(e){return o(r(e.data))})["catch"](function(){return undefined})}function r(e){return t.sortBy(e,["code"])}function o(e){return e.forEach(function(e){var t=n.translate(e.nlsKey),i=t===e.nlsKey?e.defaultTranslation:t;e.description=e.code+" - "+i}),e}return{getGlobalIncoterms:i,sortIncoterms:r,addDescription:o}}i.$inject=["$http","sortService","nlsService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="globalIncotermsService"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";var r=e.instantiate(t);return r.currentShipmentTypeModel=i,r.addPartToShipmentModel(n),r}i.$inject=["$injector","PaymentFactory","shipmentDataService","shipmentTypeModel"],t.__esModule=!0,t["default"]=i,i.NG_NAME="paymentModel"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(n){return e.all([a(t.CI_KEYS.CI0353_OUTBOUND_PROCESSING_NOT_ALLOWED,n,!0),t.getSourceData(t.CI_KEYS.CI0353_OUTBOUND_PROCESSING_NOT_ALLOWED,undefined,!0)]).then(function(e){var t=e[0],n=e[1];return t||n})}function r(e){return a(t.CI_KEYS.CI1007_RESTRICT_SHIPMENT_TO_SINGLE_PIECE,e).then(function(e){return!e})}function o(e){return a(t.CI_KEYS.CI1006_ALLOW_PALLET_FOR_GIVEN_ACCOUNT,e)}function a(i,r,o){if(!angular.isObject(r))return e.reject("AccountService#getCiValue: `account` must be an object");var a=n.getAccountContext(r);return a?t.getSourceData(i,a,o):e.reject("AccountService#getCiValue: `accountNumber` and `accountId` are undefined")}function u(i,r,o){return o&&n.isRemoteBooking()?e.when(!0):t.getBoolean(i,r)}function c(e){return u(t.CI_KEYS.CI0736_ALLOW_LOCAL_IMP_ACCOUNTS,e,!0)}function s(e){return u(t.CI_KEYS.CI1009_FOREIGN_IMP_NOT_ALLOWED_FOR_DOMESTIC,e,!1)}function l(e){return u(t.CI_KEYS.CI0980_ALLOW_CASH_ACCOUNTS,e,!1)}function d(e){return u(t.CI_KEYS.CI0620_ALLOW_FOREIGN_IMP_ACCOUNTS,e,!0)}function f(e){return u(t.CI_KEYS.CI0308_ALLOW_FOC_ACCOUNT,e,!1)}function p(){return t.getBoolean(t.CI_KEYS.CI1380_DISABLE_LOCAL_IMPORT_ACCOUNTS_IN_BILLING_REGIONS)}function m(e){return n.fetchDeliveryToServicePointAvailabilityForAccount(e)}function _(e,t,i){return n.requestAccountStatus(e,t,i)}function E(e,t,i){return n.requestAccountMilitaryStatus(e,t,i)}return{getCiValue:a,fetchPalletAvailability:o,fetchOutboundProcessingProhibition:i,fetchMultiplePiecesAvailability:r,fetchForeignImportForDomesticProhibition:s,fetchCashAccountsAvailability:l,fetchForeignImpAccountAvailability:d,fetchFOCAccountsAvailability:f,fetchLocalImportAccountAvailability:c,fetchBillingRegionsAvailability:p,fetchDeliveryToServicePointAvailabilityForAccount:m,requestAccountStatus:_,requestAccountMilitaryStatus:E}}i.$inject=["$q","configService","accountStatusService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="accountService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i){"ngInject";function r(e,n,i){var r=S(e,i);if(h[r])return h[r];var o=c(e,n),a={isShipperAccount:i||null},u=t.postAccountStatus(o,a);return h[r]=u,u.then(function(e){return angular.copy(e)})}function a(e){var t=e.accountId,n=e.accountNumber,i=e.key;return angular.isDefined(t)?{accountId:t}:angular.isDefined(i)?{accountId:i}:angular.isDefined(n)?{accountNumber:n}:void 0}function c(e,t){var n=e.accountNumber,r=e.email,a=e.key,u=e.accountId,c=i.MASKED_ACCOUNT.test(n),s={email:r,accountNumber:n};return c&&(s.accountKey=a),!n&&u&&(s.accountNumber=o.FULLY_MASKED_ACCOUNT,s.accountKey=u),t&&l()&&(s.email=t.model.fromContact.email),s}function l(){return n.getParamFromUrl(s["default"].B2L_SHIPMENT)}function d(e,t,n){return f(e,t)||p(e,t,n)}function f(t,n){if([u["default"].OFAC_ALLOWED,u["default"].ITAR_APPROVED,u["default"].BIS_APPROVED,u["default"].GLOBAL_MAIL_ALLOWED].includes(n)){var i=t.some(function(e){return e[n]});return e.when(i)}}function p(t,n,i){if(!t.length)return e.when(!1);var o=t[0],a=t.slice(1);return r(o,i).then(function(e){return!!e[n]})["catch"](function(){return!1}).then(function(e){return e||p(a,n,i)})}function m(t){if(!t.length)return e.when(!1);var n=t[0],i=t.slice(1);return A(n)["catch"](function(){return!1}).then(function(e){return e||m(i)})}function _(e){return e.some(function(e){return!e[u["default"].BIS_APPROVED]&&!e[u["default"].ITAR_APPROVED]})}function E(n,i,r){if(!r.isMilitary||r.isAlternateAccount||!n.accountNumber)return e.when({militaryEnabled:!0});var o=n.accountNumber,a=n.email,u=n.key,s=""+a+o+u;if(I[s])return I[s];var l=c(n,i),d={accountKey:l.accountKey,accountNumber:l.accountNumber},f=t.postMilitaryAccountAgreement(d);return I[s]=f,f.then(function(e){return angular.copy(e)})}function S(e,t){return[e.email,e.accountNumber,e.key,t].map(function(e){return e||null}).join("")}function g(t){var n=!!t.length&&t.every(function(e){return e[u["default"].ITAR_APPROVED]});return e.when(n)}function C(){return!!n.getParamFromUrl(s["default"].RB_SHIPMENT)}function A(e){return t.fetchDeliveryToServicePointAvailabilityForAccount(a(e))}var h={},I={};return{requestAccountStatus:r,requestAccountMilitaryStatus:E,getAccountContext:a,isAccountsHasSomeOption:d,isAccountsHasConfigurationItemTruthy:m,isAccountsHasNotItarBisOption:_,isAllAccountsHasItarOption:g,isRemoteBooking:C,fetchDeliveryToServicePointAvailabilityForAccount:A}}r.$inject=["$q","accountStatusResource","pathService","Patterns"],t.__esModule=!0,t["default"]=r;var o=n(951),a=n(51),u=i(a),c=n(1),s=i(c);r.NG_NAME="accountStatusService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(e){return t.getBoolean(t.CI_KEYS.CI1466_ENABLE_D2SP,e)}function r(t,n){return e.post("/api/account/status",t,{params:n,preventNotAvailableInterceptor:!0}).then(function(e){return e.data})}function o(t){return e.post("/api/account/agreement",t,{preventNotAvailableInterceptor:!0}).then(function(e){return Object.assign(e.data,{msg:n.SHIPMENT_PAYMENT.PAYMENT_SELECTION_MSG_ACCOUNT_INVALID_FOR_MILITARY})})}return{fetchDeliveryToServicePointAvailabilityForAccount:i,postAccountStatus:r,postMilitaryAccountAgreement:o}}i.$inject=["$http","configService","Messages"],t.__esModule=!0,t["default"]=i,i.NG_NAME="accountStatusResource"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r){"ngInject";function o(t,n,i){return t&&c(t)?j(t,n,i).then(function(e){return Object.assign(t,e),l(t)||d(t)||f(t)}):e.when(B())}function c(e){return e.paymentType===a["default"].DHL_ACCOUNT}function l(e){if(!e.authorized)return V(n.ACCOUNT.ESECURE_UNAUTHORIZED)}function d(e){if(e.creditStop)return V(n.ACCOUNT.CREDIT_STOP)}function f(e){if(!e.active)return V(n.ACCOUNT.INVALID)}function p(e,t,n){return o(e,n,t.isShipperAccount).then(function(n){return n||_(e,t)})}function m(e,n,i){return t.requestAccountMilitaryStatus(e,n,i)}function _(t,n){var r=n.validateAsPayerAccount,o=r!==undefined&&r,a=n.fromCountry,u=n.toCountry,c=n.packages,s=n.mailingListContacts;return k(a).then(function(e){return E.apply(undefined,[t].concat(e))}).then(function(n){if(!n.valid||!o)return n;var r=[w(t,a),i.isLocalPaymentOption(t)];return e.all(r).then(function(e){var n=e[0],i=e[1];return C(t,{fromCountry:a,toCountry:u,configItems:n,packages:c,mailingListContacts:s,isAccountLocalForCurrentShipment:i})})})}function E(e,t,i){return angular.isUndefined(e.gcdbAccountType)?V(e.gcdbError):F(e.gcdbAccountType,t,i)?[s["default"].SUCCESS,s["default"].APPROVED].includes(e.esecureStatus)?B():V(n.ACCOUNT.ESECURE[e.esecureStatus]):V(n.ACCOUNT.INVALID)}function S(e){return e.length>1}function g(e){return e.some(function(e){return e.pallet})}function C(e,t){var n=t.configItems,i=t.packages,r=A(n),o=r.isMultiplePiecesAvailable,a=r.isPalletAvailable;return h(e,t,r)||N(e,t,r)||G(i,o,a)}function A(e){return["isLocalImportAccountAllowed","isForeignImportAccountForDomesticProhibited","isOutboundProcessingProhibited","isMultiplePiecesAvailable","isPalletAvailable","isForeignImportAccountAllowed","isBillingRegionsAvailable"].reduce(function(t,n,i){return t[n]=e[i],t},{})}function h(e,t,i){var r=i.isForeignImportAccountForDomesticProhibited,o=i.isBillingRegionsAvailable,a=t.fromCountry;if(e.importAccount){var u=L(o,e.accountCountryCode,a);if(D(i,a,e))return V(n.ACCOUNT.OUTBOUND_NOT_SUPPORTED);if(I(t,i,u,e))return V(n.ACCOUNT.INVALID_FOR_SHIPMENT);if(v(t,r,u))return V(n.ACCOUNT.INVALID_FOR_DOMESTIC)}}function I(e,t,n,i){var r=e.isAccountLocalForCurrentShipment,o=t.isForeignImportAccountAllowed;return O(e,t,i)||T(e,t,i)||R(r,o)}function v(e,t,n){var r=e.fromCountry,o=e.toCountry,a=e.mailingListContacts;return i.isShipmentDomestic(r,o,a)&&t&&!n}function N(e,t,i){if(!U(e,t.fromCountry,t.isAccountLocalForCurrentShipment,i.isBillingRegionsAvailable))return V(n.ACCOUNT.INVALID)}function T(e,t,n){var i=e.fromCountry;return!t.isBillingRegionsAvailable&&y(e,t,n)&&M(i)}function M(e){var t=i.getUserCountry();return e===t||!i.isCountriesWithinBillingRegions(e,t)}function y(e,t,n){var i=e.fromCountry;return!t.isLocalImportAccountAllowed&&L(!0,n.accountCountryCode,i)}function O(e,t,n){var r=e.fromCountry,o=e.toCountry,a=e.isAccountLocalForCurrentShipment;return!!t.isBillingRegionsAvailable&&(a&&i.isCountriesWithinBillingRegions(r,i.getUserCountry())&&i.isCountriesWithinBillingRegions(r,o)||y(e,t,n))}function D(e,t,n){var i=e.isBillingRegionsAvailable,r=e.isOutboundProcessingProhibited;return!!r&&(i?L(i,n.accountCountryCode,t):P(r,t,n))}function P(e,t,n){return!!e&&(L(!0,n.accountCountryCode,t)&&M(t))}function R(e,t){return!e&&!$()&&!t}function b(e,t){return t?i.isShipmentImportByTerritories(e):i.isShipmentImport(e)}function L(e,t,n){return e?i.isCountriesWithinBillingRegions(t,n):t===n}function G(e,t,i){return S(e)&&!t?V(n.ACCOUNT.RESTRICTED_TO_SINGLE_PIECE):g(e)&&!i?V(n.ACCOUNT.NOT_SUPPORT_PALLET):{valid:!0,msg:""}}function k(n){return e.all([t.fetchCashAccountsAvailability(n),t.fetchFOCAccountsAvailability(n)])}function w(n,i){return e.all([t.fetchLocalImportAccountAvailability(i),t.fetchForeignImportForDomesticProhibition(i),t.fetchOutboundProcessingProhibition(n),t.fetchMultiplePiecesAvailability(n),t.fetchPalletAvailability(n),t.fetchForeignImpAccountAvailability(i),t.fetchBillingRegionsAvailability()])}function U(e,t,n,i){return e.importAccount||t&&!b(t,i)&&n}function F(e,t,n){var i;return(i={},i[u.GCDB_STATUS.TRANSPORT_COLLECT]=!1,i[u.GCDB_STATUS.CASH]=t,i[u.GCDB_STATUS.FREE_OF_CHARGE]=t&&n,i[u.GCDB_STATUS.REGULAR]=!0,i[u.GCDB_STATUS.OCCASIONAL]=!0,i)[e]||!1}function j(e,n,i){return t.requestAccountStatus(e,n,i)}function V(){return{valid:!1,msg:arguments.length<=0||arguments[0]===undefined?n.ACCOUNT.INVALID:arguments[0]}}function B(){return{valid:!0,msg:""}}function $(){return r.isB2lShipment()}return{validateAccount:p,requestAccountStatus:j,validateMilitaryAccount:m}}r.$inject=["$q","accountService","validationMessages","shipmentAddressService","b2lRestrictionsService"],t.__esModule=!0,t["default"]=r;var o=n(6),a=i(o),u=n(42),c=n(475),s=i(c);r.NG_NAME="accountValidationService"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(t,r,o){function a(t){return _(t).then(function(n){return n?u(t):e.when({valid:!1,msg:i.ACCOUNT.INVALID_DUTIES_AND_TAXES_ACCOUNT})})}function u(a){return p({fromCountry:c,toCountry:s,transportationCountryCode:l,dutyAndTaxesAccountCountry:a})?e.when({valid:!1,msg:i.ACCOUNT.INVALID_COMBINATION}):n.validateAccount(t,r,o)}if(!t||!t.accountNumber)return e.when({valid:!0,msg:""});var c=r.fromCountry,s=r.toCountry,l=r.transportationCountryCode;return t.accountCountryCode?a(t.accountCountryCode):n.requestAccountStatus(t,o).then(function(e){return a(e.accountCountryCode)})}function(){}function u(e,t,i){return n.requestAccountStatus({accountNumber:e},t).then(function(e){return n.validateMilitaryAccount(e,t,i)})}function c(t,r){var a=!(arguments.length<=2||arguments[2]===undefined)&&arguments[2],u=arguments[3],c=r.fromCountry,p=r.toCountry,m=r.packages,_=r.mailingListContacts,E=r.transportationCountryCode;return n.requestAccountStatus({accountNumber:t},u).then(function(t){var o={fromCountry:c,toCountry:p,transportationCountryCode:E,dutyAndTaxesAccountCountry:t.accountCountryCode};if(s(a,o))return[{valid:!1,msg:i.ACCOUNT.INVALID_COMBINATION}];if(l(r,t))return[{msg:i.ACCOUNT.INVALID_FOR_OFAC,valid:!1}];if(d(r,t))return[{msg:i.ACCOUNT.INVALID_ITAR_ACCOUNT,valid:!1}];var f={validateAsPayerAccount:!0,fromCountry:c,toCountry:p,packages:m,mailingListContacts:_};return e.all([n.validateAccount(t,f,u),t])}).then(function(e){return f(e[0],e[1])})["catch"](function(e){return{valid:!1,msg:e.status===o["default"].SERVICE_UNAVAILABLE?i.ACCOUNT.UNABLE_TO_PROCESS_REQUEST:i.ACCOUNT.INVALID}})}function s(e,t){return e&&p(t)}function l(e,t){return e.isShipmentRestrictedByOfac&&!t.ofacAllowed}function d(e,t){return!1===e.isMilitary&&t.itarApproved}function f(e,t){return e.msg===i.ACCOUNT.CREDIT_STOP&&(e.msg=i.ACCOUNT.INVALID),t&&(e.account=t),e}function p(e){if(!e.transportationCountryCode)return!1;var t=e.fromCountry,n=e.toCountry,i=e.transportationCountryCode,r=e.dutyAndTaxesAccountCountry;return!m(i,t)&&(m(r,t)||m(i,n)&&!m(r,n))}function m(e,t){return e===t}function _(e){return t.fetchDDServiceInfo(e).then(function(e){return e.outboundLocalServiceIndicator})}return{validateDutiesAndTaxesAccount:r,validateAlternateDHLAccount:c,validateAlternateDutiesAndTaxesAccount:a,validateAlternateMilitaryAccount:u}}i.$inject=["$q","paymentResource","accountValidationService","validationMessages"],t.__esModule=!0,t["default"]=i;var r=n(5),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="alternateAccountValidationService"},function(e,t,n){"use strict";function i(){function e(e){var t=1,n=1;return angular.isObject(e)&&(t=angular.isDefined(e.weightConvertionRate)?Number(e.weightConvertionRate):1,n=angular.isDefined(e.weightConvertionRate)?Number(e.dimensionConvertionRate):1),{weightRate:t,dimensionRate:n}}function t(e,t){return t===o["default"].IMPERIAL?r.toImperialWeight(e):r.toMetricWeight(e)}function n(e,t,n){var r=Number(e)*(t===o["default"].IMPERIAL?n:1/n);return Number(r.toFixed(i))}var i=3,r=Object.assign(this,{toImperialWeight:function(){function t(t,i){return n(t,o["default"].IMPERIAL,e(i).weightRate)}return t}(),toMetricWeight:function(){function t(t,i){return n(t,o["default"].METRIC,e(i).weightRate)}return t}(),toImperialDimension:function(){function t(t,i){return n(t,o["default"].IMPERIAL,e(i).dimensionRate)}return t}(),toMetricDimension:function(){function t(t,i){return n(t,o["default"].METRIC,e(i).dimensionRate)}return t}(),convertWeight:t})}t.__esModule=!0,t["default"]=i;var r=n(53),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="uomConverter"},function(e,t,n){"use strict";function i(e,t,n,i,r,o){"ngInject";function a(a){var s=arguments.length<=1||arguments[1]===undefined?r:arguments[1],l=arguments[2];return e.all([n.getShipmentAccounts(l),o.getBoolean(o.CI_KEYS.CI1380_DISABLE_LOCAL_IMPORT_ACCOUNTS_IN_BILLING_REGIONS),i.loadBillingRegions()]).then(function(e){var n=e[0],i=e[1],r=n;return(i?t.isShipmentImportByTerritories(a):t.isShipmentImport(a))&&(r=u(r)),c(n,r,s),r})}function u(e){return e.filter(i.isImportPaymentOption)}function c(e,t,n){if(n.cache){var i=e.find(function(e){return e.primary});Object.assign(n.cache,{accounts:e,primaryAccount:i,availableAccounts:t})}}function s(e){e.cache&&Object.assign(e.cache,{accounts:[],primaryAccount:[]})}return{fetchAndCacheAccounts:a,cleanCache:s}}i.$inject=["$q","shipmentAddressService","paymentAccountService","paymentTypeService","paymentModel","configService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="paymentCacheService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o,u){"ngInject";function s(e){return!!e&&e.length>0}function d(t,o){var a=r.getShipmentData(),c=a.fromContactKey,d=a.toContactKey,m=a.fromCustomer,_=a.toCustomer,S=a.customsInvoice,g=a.type,C=a.dutiable,A=a.typeCategory,h=angular.copy(a.paymentInfo),I=m.address,v=s(t)?null:_.address;return h.transportation=p(h.transportation,T),h.quotation=p(h.quotation),h.duties=p(h.duties),E(S||{})?(A===l["default"].NON_GIFT_NON_SAMPLE&&f(S),u.isIndiaFlowShipment(I.countryCode).then(function(e){var t=e?A:null;return i.postIncoterms({fromContactKey:c,toContactKey:d,fromAddress:I,toAddress:v,customsInvoice:S,paymentInfo:h,type:g,typeCategory:t,dutiable:C},o)}).then(function(e){var t=n.sortIncoterms(e);return n.addDescription(t)})):e.when([])}function f(e){e.items.map(function(e){e.indiaCustomsInvoiceProduct=null})}function p(e,t){return!e||m(e)&&!_(e)?t:e}function m(e){var t=e.paymentMethod;return c["default"].ALTERNATE_DHLACCOUNT===t}function _(e){return!!e.accountNumber}function E(e){var t=e.items;return!t||!t[0]||t[0].som}function S(){return n.getGlobalIncoterms()}function g(e){var t=e.find(function(e){return e["default"]});return t&&t.code}function C(n,i){return!n||!i||!i.validOnlyForInboundBillingInd?e.when(!1):t.isLocalPaymentOption(n)}function A(t,n){return o.hasDhlAccounts()?e.when(n):i.getTermsTradeRequired(t).then(function(e){return n&&e})}function h(e){return i.isCommercialInvoiceFotDocumentsAvailable(e)}function I(){return r.isShipmentFetchedByAssignee()}function v(e){e.incoterm={code:a["default"].DELIVERED_AT_PLACE,nlsKey:"general_settings-incoterms-incoterms_list.dap-incotermcode"}}function N(e){return e&&e.some(function(e){return e.som})}var T={paymentMethod:"NONE"};return{getIncoterms:d,getGlobalIncoterms:S,getDefaultIncoterm:g,isInvalidIncotermSelected:C,isIncotermsAllowed:A,isShipmentFetchedByAssignee:I,setIncotermAsDAP:v,isNeededDataFull:N,isCommercialInvoiceFotDocumentsAvailable:h}}r.$inject=["$q","paymentTypeService","globalIncotermsService","incotermsResource","shipmentDataService","userService","indiaFlowService"],t.__esModule=!0,t["default"]=r;var o=n(952),a=i(o),u=n(6),c=i(u),s=n(252),l=i(s);r.NG_NAME="incotermsService"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(t,n){return e.post("/api/incoterms",t).then(function(e){return r(i(e.data),n)})}function i(e){return e.map(function(e){return Object.assign(e,{dutiableDestinationType:e.dutiableDestinationType||o["default"].ALL})})}function r(e,t){var n=u(t),i={};return e.filter(function(e){return e.dutiableDestinationType===n}).forEach(function(e){return i[e.code]=e}),e.filter(function(e){return e.dutiableDestinationType===o["default"].ALL}).forEach(function(e){return i[e.code]=i[e.code]||e}),Object.values(i).map(a(n))}function a(e){var t=void 0;return function(n){return n["default"]?(t?n.dutiableDestinationType===e&&(t["default"]=!1,t=n):t=n,n):n}}function u(e){return e?o["default"].DUTIABLE:o["default"].NON_DUTIABLE}function c(e){return t.getBoolean(t.CI_KEYS.CI0177_TERMS_TRADE_REQUIRED,e)}function s(e){return t.getBoolean(t.CI_KEYS.CI0730_ENABLE_COMMERCIAL_INVOICE_FOR_DOCUMENT_SHIPMENTS,e)}return{postIncoterms:n,getTermsTradeRequired:c,isCommercialInvoiceFotDocumentsAvailable:s}}i.$inject=["$http","configService"],t.__esModule=!0,t["default"]=i;var r=n(2036),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="incotermsResource"},function(e,t,n){"use strict";t.__esModule=!0,t["default"]={ALL:"ALL",DUTIABLE:"DUTIABLE",NON_DUTIABLE:"NON_DUTIABLE"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return o}function o(e,t){"ngInject";function n(){return{paymentInfo:s(),incotermCode:S(),incotermNlsKey:g()}}function i(e){return t.isAlternateDHLAccount(e)}function r(){var e=me.getPaymentInfo(),t=e.transportation;return t&&t.accountCountry}function o(e){return i(e)&&e.contactKey?e.contactKey:null}function u(){var e=null,t=null,n=!1!==me.currentShipmentTypeModel.isDutiable,i=n&&me.splitDutiesAndTaxesPayment;return n&&(e=c("dutiesPaymentType"),i&&(t=c("taxesPaymentType"))),{duties:e,taxes:t,splitDutyAndTaxPayment:i}}function c(e){return M({paymentMethod:G(me[e]),accountNumber:k(e),accountId:y(me[e]),contactKey:o(me[e]),accountNickname:O(me[e]),accountType:P(me[e]),accountCountry:R(me[e]),importAccount:b(me[e])})}function s(){var e=!me.aggregatePayment,t=f(),n=p();return me.hasMultipleShipperAccounts?me.aggregatePayment&&(n=t):t=E(n),n=m(n),a({quotation:t,transportation:n,splitQuotAndTranspPayment:e},u())}function f(){return _()?null:M({paymentMethod:G(me.quotationType),accountId:y(me.quotationType),accountNickname:O(me.quotationType),accountNumber:D(me.quotationType),accountType:P(me.quotationType),accountCountry:R(me.quotationType),importAccount:b(me.quotationType)})}function p(){return M({paymentMethod:G(me.transportationPaymentType),accountNumber:L(),accountId:y(me.transportationPaymentType),contactKey:o(me.transportationPaymentType),accountNickname:O(me.transportationPaymentType),accountType:P(me.transportationPaymentType),paymentCategoryCode:q(),accountCountry:R(me.transportationPaymentType),importAccount:b(me.transportationPaymentType)})}function m(t){if(e.isAuthorized())return t;var n=t||{};return n.paymentMethod||(n={paymentMethod:l["default"].CASH}),n}function _(){return e.isCorpEmployee()&&me.isTransportationPaidWithOnlinePayment()}function E(e){if(_())return null;var n=me.cache.availableAccounts.find(t.isShipperAccount);return n?M({paymentMethod:G(n),accountId:y(n),accountNickname:O(n),accountNumber:D(n),accountType:P(n),accountCountry:R(n),importAccount:b(n)}):me.isDHLAccountShipment()?e:null}function S(){return me.currentShipmentTypeModel.isCommercialInvoiceAvailableForCurrentShipmentType()?me.incoterm&&me.incoterm.code:null}function g(){return me.currentShipmentTypeModel.isCommercialInvoiceAvailableForCurrentShipmentType()?me.incoterm&&me.incoterm.nlsKey:null}function C(e){var t=e.paymentInfo||{};A(t),h(e),I(t),v(t),T(e.incotermCode),me.splitDutiesAndTaxesPayment=!!t.splitDutyAndTaxPayment,me.aggregatePayment=!t.splitQuotAndTranspPayment}function A(e){e.quotation&&(me.quotationType={paymentType:e.quotation.paymentMethod,accountId:e.quotation.accountId})}function h(e){var t=e.paymentInfo?e.paymentInfo.transportation:null;t&&(N("transportationPaymentType",t),me.transportationPaymentType.paymentCategoryCode=t.paymentCategoryCode,me.transportationPaymentType.restoredTransportation=!0)}function I(e){var t=e.duties;t&&N("dutiesPaymentType",t)}function v(e){var t=e.taxes;t&&N("taxesPaymentType",t)}function N(e,t){if(me[e]={paymentType:t.paymentMethod,accountId:t.accountId,contactKey:t.contactKey},i(me[e])){var n=t.accountNumber;me[e].contactKey?me[e].accountNumber=n:w(e,n)}}function T(e){me.incoterm={code:e||null}}function M(e){return e.paymentMethod?Object.assign({paymentMethod:null,accountId:null,accountNumber:null},e):null}function y(e){return e?e.accountId:null}function O(e){return e&&e.accountNickname||null}function D(e){return e&&e.accountNumber||null}function P(e){return e&&e.accountType||null}function R(e){return e&&e.accountCountryCode||null}function b(e){return e?e.importAccount:null}function L(){var e=me.transportationPaymentType;return e?e.fromContact?e.accountNumber:k("transportationPaymentType"):null}function G(e){return e?e.paymentType:null}function k(e){var t=me[e];return i(t)?me[pe[e]]:D(t)}function w(e,t){me[pe[e]]=t}function U(){var e=Y();return!!e&&t.isCreditCardCode(e.paymentCategoryCode)}function F(){return W()===l["default"].CASH}function j(){return W()===l["default"].ONLINE_PAYMENT}function V(){return W()===l["default"].ALTERNATE_DHLACCOUNT}function B(){var e=Y();return!!e&&!!e.paymentCategoryCode}function $(){return!!me.cache.accounts.length}function H(e){return[l["default"].CASH,l["default"].ONLINE_PAYMENT].includes(e.paymentType)}function x(){return me.cache.availableAccounts.filter(function(e){return e.importAccount}).length>0}function K(e){var t=e.paymentInfo;return{transportationPaymentType:{paymentType:t.transportationPaymentType,accountId:t.transportationPaymentAccountNumber},quotationType:{paymentType:t.quotationType,accountId:t.quotationAccountNumber},splitDutyAndTaxPayment:t.splitDutyAndTaxPayment,dutiesPaymentType:{paymentType:t.dutiesPaymentType,accountId:t.dutiesPaymentAccountNumber},taxesPaymentType:{paymentType:t.taxesPaymentType,accountId:t.taxesPaymentAccountNumber}}}function Y(){return me.hasMultipleShipperAccounts&&me.aggregatePayment?me.quotationType:me.transportationPaymentType}function W(){var e=me.getPaymentOption();return angular.isObject(e)?e.paymentType:null}function q(){var e=me.getPaymentOption();return angular.isObject(e)?e.paymentCategoryCode:null}function z(){return W()===l["default"].DHL_ACCOUNT}function X(){return W()===l["default"].ALTERNATE_DHLACCOUNT}function Q(){return me.isDHLAccountShipment()||me.isAlternateAccountShipment()}function Z(){return!!(me.quotationType&&me.quotationType.paymentType||me.transportationPaymentType&&me.transportationPaymentType.paymentType)}function J(){var e=Y();return i(e)&&!e.accountNumber?me.transportationAlternateAccountNumber:e?e.name:""}function ee(){me.incoterm=null}function te(){me.transportationPaymentType=null,me.quotationType=null}function ne(){me.dutiesPaymentType=null,me.taxesPaymentType=null}function ie(){return me.incoterm&&me.incoterm.code}function re(){return me.dutiesPaymentType&&me.dutiesPaymentType.name}function oe(){return me.taxesPaymentType&&me.taxesPaymentType.name}function ae(){return me.quotationType&&me.quotationType.name}function ue(){return me.isTransportationPaidWithOnlinePayment()||!me.isTransportationPaidWithCash()&&me.isAccountShipment()&&!e.isEmailVerified()}function ce(){return me.isAccountShipment()&&!e.isEmailVerified()}function se(){return angular.isObject(me.transportationPaymentType)}function le(){var e=Y();return(e&&e.gcdbAccountType)===d.GCDB_STATUS.CASH}function de(){var e=me.quotationType||{},t=e.paymentType,n=e.paymentMethod;return t||n}function fe(){if(de()===l["default"].DHL_ACCOUNT){var e=me.quotationType;return{accountId:e.accountId,accountNumber:e.accountNumber}}return null}var pe={transportationPaymentType:"transportationAlternateAccountNumber",dutiesPaymentType:"dutiesAlternateAccountNumber",taxesPaymentType:"taxesAlternateAccountNumber"},me=Object.assign(this,{getDataPart:n,initDataPart:C,getPaymentInfo:s,getPaymentOption:Y,getPaymentOptionType:W,getPaymentOptionCategoryCode:q,isTransportationPaidWithOnlinePayment:j,isTransportationPaidWithCreditCard:U,isTransportationPaidWithCash:F,isTransportationPaidWithAlternateAccount:V,isTransportationAccountGcdbTypeCash:le,isNonAccountPaymentOption:H,hasAccounts:$,hasImportAccounts:x,getPaymentTypeModelData:K,isDHLAccountShipment:z,isAlternateAccountShipment:X,isAccountShipment:Q,isPaymentTypeSelected:Z,getSelectedPaymentTypeName:J,resetIncoterm:ee,resetPaymentOptions:te,resetDutiesAndTaxes:ne,getSelectedIncotermCode:ie,getSelectedDutiesTypeName:re,getSelectedTaxesTypeName:oe,getSelectedQuotationTypeName:ae,isTransportationHavePaymentCategory:B,isPaymentOrAccountApprovalRequired:ue,isTransportationPaymentTypeSelected:se,shouldEmailBeVerified:ce,getTransportationAccountCountryCode:r,getQuotationAccount:fe,incoterm:null,quotationType:"",transportationPaymentType:"",transportationAlternateAccountNumber:null,dutiesPaymentType:null,dutiesAlternateAccountNumber:null,taxesPaymentType:null,taxesAlternateAccountNumber:null,splitDutiesAndTaxesPayment:!1,aggregatePayment:!0,cache:{accounts:[],primaryAccount:null,availableAccounts:[]},newDHLAccount:{},hasMultipleShipperAccounts:!1,paymentIsChangedByUser:{transportation:!1,duties:!1}})}o.$inject=["userService","paymentTypeService"],t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t["default"]=r,t.PaymentModel=o;var u=n(11),c=i(u),s=n(6),l=i(s),d=n(42);r.NG_NAME="PaymentFactory",o.prototype=new c["default"]},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(){function e(e,t,n,i){i.init()}return{restrict:"A",controller:o["default"],controllerAs:"shipmentTaxIdsCtrl",link:e}}t.__esModule=!0,t["default"]=i;var r=n(2057),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfShipmentTaxIds"},function(e,t,n){"use strict";function i(e,t,n,i,a,u){"ngInject";function c(){K.gridActions=N(),K.columnsToDisplay=u.initColumsToDisplay(),G(),l(),e.all([d(),s()]).then(f)}function s(){return t.getCountryList().then(function(e){return K.countriesList=e})}function l(){u.getTaxIdTypesList().then(function(e){K.taxIdTypesList=e,K.isTaxIdsNotEnabled=!e.length,X=!0})}function d(){var e=r({pageNumber:K.currentPage.pageIndex,pageSize:K.currentPage.pageSize},K.uiDefinedSortingParameter);return u.getShipmentTaxIdsList(e).then(function(e){var t=e.results,n=e.totalItems;K.shipmentTaxIdsList=t,K.shipmentTaxIdsItems=n})}function f(){if(!K.shipmentTaxIdsList||!K.shipmentTaxIdsList.length)return void(K.gridData=[]);K.gridData=K.shipmentTaxIdsList.map(p)}function p(e){var t=angular.copy(e);return u.convertToGridForm(t,K.countriesList)}function m(e){if(!e.$invalid){var t=a.create(K.singleShipmentTaxId);K.singleShipmentTaxId.id?E(t):_(t)}}function _(e){u.addSingleShipmentTaxId(e).then(function(){K.isBackendErrorVisible=!1,g(Y.CREATED),b()})["catch"](S)}function E(e){u.updateSingleShipmentTaxId(e).then(function(t){K.isBackendErrorVisible=!1,C(t,e),f(),g(Y.UPDATED)})["catch"](S)}function S(e){var t=e.data;K.isBackendErrorVisible=!0,K.errors=t.errors}function g(e){O(e),K.singleShipmentTaxId=angular.copy(W),I()}function C(e,t){var n=function(e){return e.id===t.id},i=K.shipmentTaxIdsList.find(n);Object.assign(i,e)}function A(){K.showEditPopup=!0}function h(){K.singleShipmentTaxId=angular.copy(W),A()}function I(){K.showEditPopup=!1,K.isEditing=!1,K.searchKeyword="",K.toCountriesList=[],Q=!1}function v(e){e&&(K.singleShipmentTaxId=angular.copy(K.shipmentTaxIdsList.find(function(t){return t.id===e})||{}),K.isEditing=!0,F(),Q=!K.taxIdTypesList.some(function(e){return e.customerFacingCode.value===K.singleShipmentTaxId.taxIdType}),H(),A())}function N(){return{"delete":{order:0,handler:T},edit:{order:1,handler:v}}}function T(e){u.deleteShipmentTaxId(e).then(M)["catch"](y)}function M(e){e.deleted&&(K.currentPage=n.paginate(K.shipmentTaxIdsItems-1,K.currentPage.pageIndex,K.currentPage.pageSize),O(Y.DELETED),b())}function y(e){var t=e.data;O(Y.REJECTED),K.notificationData=t}function O(e){K.gridActionStatus[e]=!0}function D(){return u.getSubmitButtonText(K.isEditing)}function P(){K.singleShipmentTaxId.taxIdNickname=R()?K.singleShipmentTaxId.taxIdType:K.singleShipmentTaxId.taxIdNickname,z=K.singleShipmentTaxId.taxIdType,K.singleShipmentTaxId.taxIdNumber="",Q=!1,F()}function R(){var e=K.singleShipmentTaxId,t=e.taxIdNickname,n=e.taxIdType;return!K.isEditing&&(t.startsWith(n)||z&&t.startsWith(z)||""===t)}function b(){d().then(f)}function L(e,t){G(e,t),b()}function G(e,t){K.uiDefinedSortingParameter=u.getSortingParamemeters(e,t,q),q=!1}function k(e,t){K.shipmentTaxIdsList=e,K.shipmentTaxIdsItems=t,f()}function w(e){v(e)}function U(e){var t={taxIdType:K.singleShipmentTaxId.taxIdType,taxIdNumber:e};return i.validateTaxId(t)}function F(){K.toCountriesList=u.getToCountriesList(K.taxIdTypesList,K.countriesList,K.singleShipmentTaxId.taxIdType)}function j(){return u.getInvalidError(K.singleShipmentTaxId.taxIdType)}function V(){K.singleShipmentTaxId.taxIdNickname=R()?K.singleShipmentTaxId.taxIdType+" - "+K.singleShipmentTaxId.taxIdNumber:K.singleShipmentTaxId.taxIdNickname}function B(){return!K.isTaxIdsNotEnabled&&X}function $(){return K.isBackendErrorVisible||Q}function H(){Q&&(K.errors=[u.getTaxIdTypeAlertMessage()],x())}function x(){K.singleShipmentTaxId.taxIdType&&(K.singleShipmentTaxId.taxIdType="")}var K=this,Y={DELETED:"deleted",CREATED:"created",UPDATED:"updated",REJECTED:"rejected"},W={id:"",taxIdType:"",taxIdNumber:"",taxIdNickname:"",fromCountrySelection:{selectedCountries:[],anyCountry:!1},toCountrySelection:{selectedCountries:[],anyCountry:!1}},q=!0,z="",X=!1,Q=!1;Object.assign(K,{init:c,closeDialog:I,fetchShipmentTaxIdsList:b,getInvalidError:j,getSubmitButtonText:D,handleBackEndSorting:L,onNumberChange:V,onSearchSuccess:k,onTypeaheadSelect:w,onTypeChange:P,isTaxIdDataVisible:B,saveOrUpdate:m,showAddDialog:h,showDialog:A,validateTaxIdNumber:U,isAlertVisible:$,columnsToDisplay:[],countriesList:[],currentPage:{pageIndex:0,pageSize:o.MIN_PAGE_SIZE},errors:[],gridActionStatus:{},gridData:[],isEditing:!1,notificationData:"",paginationRangeOptions:{top:{hidePageRange:!0},bottom:!0},searchKeyword:"",isBackendErrorVisible:!1,isTaxIdsNotEnabled:!1,showEditPopup:!1,shipmentTaxIdsList:[],singleShipmentTaxId:{},taxIdTypesList:[],uiDefinedSortingParameter:{}})}i.$inject=["$q","locationService","paginationService","shipmentTaxIdInputService","shipmentTaxIdsFactory","shipmentTaxIdsService"],t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t["default"]=i;var o=n(20)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,o){"ngInject";function u(e,t){return e.key=e.id,e.shipFromCountries=s(e.fromCountrySelection,t),e.shipToCountries=s(e.toCountrySelection,t),e}function s(e,t){if(!e)return"";var n=p(e.selectedCountries,t);return e.anyCountry?o.SAVED_SETTINGS.TAX_IDS_VALUE_LABEL_ANY:'<span class="shipment-tax-ids-ship-countries">'+n+'</span><span class="right">('+e.selectedCountries.length+")</span>"}function l(e){return f().then(function(){return r.deleteShipmentTaxId(e)})}function d(e){return e?o.SAVED_SETTINGS.TAX_IDS_BUTTON_SAVE_TAX_ID:o.SAVED_SETTINGS.TAX_IDS_BUTTON_ADD_NEW_TAX_ID}function f(){return n.showConfirmationDialog({message:o.COMMON.COMMON_MSG_DELETE_ONE_ITEM,title:o.COMMON.COMMON_HEADER_CONFIRM_SINGLE_DELETION,okButtonLabel:o.COMMON.COMMON_BUTTON_YES,cancelButtonLabel:o.COMMON.COMMON_BUTTON_NO})}function p(e,t){return t&&t.length?m(e,t).join(", "):""}function m(e,t){return e.map(function(e){return t.find(function(t){return t.code2===e}).name})}function _(t){var n=e.find(".shipment-tax-ids-country-dropdown[ewf-field="+t+"] .shipment-tax-ids-country-dropdown__input-tmp")[0];if(!n)return!1;var i=Math.ceil(n.scrollWidth);return Math.ceil(n.offsetWidth)<=i}function E(e){return g(e.searchQuery.keyword).then(function(t){return Object.assign(e.searchQuery,{countryCodes:t}),r.searchShipmentTaxId(e)})}function S(e,t){return g(e).then(function(n){return r.searchTypeaheadShipmentTaxId({keyword:e,countryCode:n},t)})}function g(e){var n=e.toUpperCase();return t.loadAvailableLocations().then(function(e){return e.filter(function(e){return e.name.toUpperCase().includes(n)}).map(function(e){return e.code2})})}function C(){return[{alias:a["default"].TAX_ID_NICKNAME,msgsTitle:o.SAVED_SETTINGS.TAX_IDS_COL_NAME_NICK_NAME,defaultSort:!0},{alias:a["default"].TAX_ID_TYPE,msgsTitle:o.SAVED_SETTINGS.TAX_IDS_COL_NAME_TYPE},{alias:a["default"].TAX_ID_NUMBER,msgsTitle:o.SAVED_SETTINGS.TAX_IDS_COL_NAME_NUMBER},{alias:a["default"].SHIP_FROM_COUNTRIES,msgsTitle:o.SAVED_SETTINGS.TAX_IDS_COL_NAME_SHIP_FROM_COUNTRY},{alias:a["default"].SHIP_TO_COUNTRIES,msgsTitle:o.SAVED_SETTINGS.TAX_IDS_COL_NAME_SHIP_TO_COUNTRY}]}function A(e){return i(o.CUSTOMS_DECLARATION.SHIPMENT_TAX_ID_ERROR_INVALID_TAX_ID,{taxIdName:e})}function h(e,t,n){var i=e&&e.find(function(e){return e.customerFacingCode.value===n});if(!i)return[];var r=i.issuingCountryCodes.map(function(e){return e.value});return t.filter(function(e){return r.includes(e.code2)})}function I(e,t,n){var i={sortingParameter:D[e]||D[a["default"].TAX_ID_NICKNAME],sortingDirection:t||c["default"].ASC};return n&&(i.groupingParameter=a["default"].TAX_ID_TYPE),i}function v(e){return r.addSingleShipmentTaxId(e)}function N(e){return r.getShipmentTaxIdsList(e)}function T(){return r.getTaxIdTypesList()}function M(e){return r.updateSingleShipmentTaxId(e)}function y(){return o.ERRORS.TAX_ID_NOT_AVAILABLE}var O,D=(O={},O[a["default"].SHIP_TO_COUNTRIES]="toCountrySelection",O[a["default"].SHIP_FROM_COUNTRIES]="fromCountrySelection",O[a["default"].TAX_ID_NUMBER]=a["default"].TAX_ID_NUMBER,O[a["default"].TAX_ID_NICKNAME]=a["default"].TAX_ID_NICKNAME,O[a["default"].TAX_ID_TYPE]=a["default"].TAX_ID_TYPE,O);return{convertToGridForm:u,deleteShipmentTaxId:l,getInvalidError:A,getSelectedCountriesListText:p,getSortingParamemeters:I,getSubmitButtonText:d,getToCountriesList:h,initColumsToDisplay:C,isCountriesQuantityVisible:_,searchShipmentTaxIds:E,searchShipmentTaxIdsTypeahead:S,addSingleShipmentTaxId:v,getTaxIdTypesList:T,getShipmentTaxIdsList:N,updateSingleShipmentTaxId:M,getTaxIdTypeAlertMessage:y}}r.$inject=["$document","locationService","modalService","replaceFilter","shipmentTaxIdsResource","Messages"],t.__esModule=!0,t["default"]=r;var o=n(954),a=i(o),u=n(40),c=i(u);r.NG_NAME="shipmentTaxIdsService"},function(e,t,n){"use strict";function i(e,t,n){"ngInject";function i(t){return e.post(d,t).then(function(e){return e.data})}function r(t){return e["delete"](l+"/"+t).then(function(e){return e.data})}function o(t){var i=n.encodeParams(t);return e.get(l+"?"+i).then(function(e){return e.data})}function a(){return t.getSourceData(t.CI_KEYS.CI1417_CUSTOMS_REGISTRATION_NUMBER_TYPES)}function u(t){return e.post(p,t,{preventNotAvailableInterceptor:!0}).then(function(e){return e.data})}function c(t,i){var r=t.countryCode,o=t.keyword,a=n.encodeParams({countryCode:r}),u=p+"/typeahead/"+i.key+"/"+o+"?"+a;return e.get(u,{preventNotAvailableInterceptor:!0}).then(function(e){var t=e.data;return(t===undefined?{}:t).results})}function s(t){return e.put(f,t).then(function(e){return e.data})}var l="/api/myprofile/tax-ids",d=l+"/add",f=l+"/modify",p=l+"/search/default";return{addSingleShipmentTaxId:i,deleteShipmentTaxId:r,getShipmentTaxIdsList:o,getTaxIdTypesList:a,searchShipmentTaxId:u,searchTypeaheadShipmentTaxId:c,updateSingleShipmentTaxId:s}}i.$inject=["$http","configService","queryParamsService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="shipmentTaxIdsResource"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){"ngInject";function t(e){return new r(e)}var n=["id","taxIdType","taxIdNumber","taxIdNickname",{key:"fromCountrySelection",propertyMap:["selectedCountries","anyCountry"]},{key:"toCountrySelection",propertyMap:["selectedCountries","anyCountry"]}],r=function(){function t(r){i(this,t),Object.assign(this,e.map(r,n))}return t}();return{create:t}}r.$inject=["objectMapperService"],t.__esModule=!0,t["default"]=r,r.NG_NAME="shipmentTaxIdsFactory"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"shipmentTaxIdsCountryPickerCtrl",templateUrl:"profile/shipment-tax-ids/dhl-shipment-tax-ids-country-picker-template.html",bindings:{model:"<"+o,countriesList:"<"+o+"CountriesList",isTypeChosen:"<"+o+"IsDropdownDisabled",fieldName:"<"+o+"FieldName"}})}function r(e,t,n,i,r){"ngInject";function o(){_(),e.on("click",c)}function a(e){var t=e.countriesList;t&&(O.filteredCountriesList=angular.copy(O.countriesList),t.isFirstChange()||s(),N())}function u(){e.off("click",c)}function c(n){var i=".shipment-tax-ids-country-dropdown[ewf-field="+O.fieldName+"]",r=angular.element(n.target),o=e.find(i)[0];n.target!==o&&0===r.parents(i).length&&t.$apply(function(){O.dropdownVisible=!1,O.countrySearch="",I()})}function s(){O.model.selectedCountries=[],O.model.anyCountry=!1,O.selectedCountriesListText="",O.isSingleCountry=!1}function l(){if(!O.model.selectedCountries.length&&!O.model.anyCountry)return r.SAVED_SETTINGS.TAX_IDS_VALUE_LABEL_NO_COUNTRIES_SELECTED;var e=O.model.anyCountry?O.countriesList.length:O.model.selectedCountries.length;return n(r.SAVED_SETTINGS.TAX_IDS_VALUE_LABEL_COUNTRIES_SELECTED,{selectedCountriesQuantity:e})}function d(e,t){if(t.target.checked)return O.model.selectedCountries.push(e),p(),void _();m(),O.model.selectedCountries=O.model.selectedCountries.filter(function(t){return t!==e}),_()}function f(){return"shipToCountries"===O.fieldName}function p(){O.model.selectedCountries.length!==O.countriesList.length||f()||(O.model.anyCountry=!0,O.model.selectedCountries=[])}function m(){O.model.anyCountry&&(O.model.anyCountry=!1,O.model.selectedCountries=O.countriesList.map(function(e){return e.code2}))}function _(){O.selectedCountriesListText=O.model.anyCountry?r.SAVED_SETTINGS.TAX_IDS_VALUE_LABEL_ANY:i.getSelectedCountriesListText(O.model.selectedCountries,O.countriesList)}function E(e){return O.model.anyCountry||!!O.model.selectedCountries.find(function(t){return t===e})}function S(){return O.model.anyCountry||!!O.model.selectedCountries.length}function g(){O.dropdownVisible=!0}function C(){return"("+O.model.selectedCountries.length+")"}function A(){if(f())return O.model.selectedCountries=O.countriesList.map(function(e){return e.code2}),void _();O.model.anyCountry=!0,O.model.selectedCountries=[],_()}function h(){return O.model.anyCountry||!!O.model.selectedCountries.length}function I(){if(""===O.countrySearch.trim())return void(O.filteredCountriesList=angular.copy(O.countriesList));O.filteredCountriesList=O.countriesList.filter(function(e){return e.name.toLowerCase().includes(O.countrySearch.toLowerCase())})}function v(){return!!O.model.selectedCountries.length&&i.isCountriesQuantityVisible(O.fieldName)}function N(){if(1===O.filteredCountriesList.length){if(T(O.model.selectedCountries,O.filteredCountriesList))return void(O.isSingleCountry=!0);O.model.selectedCountries.length>=1&&(O.model.selectedCountries=[]),O.model.selectedCountries.push(O.filteredCountriesList[0].code2),O.model.anyCountry=!1,O.isSingleCountry=!0,_()}}function T(e,t){return 1===e.length&&e.includes(t[0].code2)}function M(){return O.isTypeChosen||O.isSingleCountry}function y(){return""+O.model.selectedCountries+O.model.anyCountry}var O=this;Object.assign(O,{$onInit:o,$onChanges:a,$onDestroy:u,checkSelectedCountriesListValidity:S,clearSelectedCountries:s,getSelectedCountriesText:l,getSelectedCountriesQuantityText:C,getSelectedCountriesValidationTrigger:y,isClearVisible:h,isCountryChecked:E,isCountriesQuantityVisible:v,isDropdownDisabled:M,onCountryCheckChange:d,onCountrySearchChange:I,openDropdown:g,selectAllCountries:A,dropdownVisible:!1,countrySearch:"",filteredCountriesList:[],isSingleCountry:!1})}i.$inject=["component"],r.$inject=["$document","$scope","replaceFilter","shipmentTaxIdsService","Messages"],t.__esModule=!0,t["default"]=i,t.ShipmentTaxIdsCountryPickerController=r;var o=i.NG_NAME="ewfShipmentTaxIdsCountryPicker"},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"shipmentTaxIdsSearchCtrl",templateUrl:"profile/shipment-settings/shipment-tax-ids-search.html",bindings:{searchKeyword:"="+c+"SearchKeyword",onSearchSuccess:"&"+c+"OnSearchSuccess",onSelect:"&"+c+"OnSelect",sortingParameters:"<"+c+"SortingParameters",pageSize:"<"+c+"PageSize"}})}function r(e,t){"ngInject";function n(){i(),s.searchCategory={key:l}}function i(){s.searchCategories=[{key:l,name:t.COMMON.COMMON_SELECT_OPTION_ALL},{key:u["default"].TAX_ID_NICKNAME,name:t.SAVED_SETTINGS.TAX_IDS_SELECT_OPTION_TAX_ID_NICKNAME},{key:u["default"].TAX_ID_TYPE,name:t.SAVED_SETTINGS.TAX_IDS_SELECT_OPTION_TAX_ID_TYPE},{key:u["default"].TAX_ID_NUMBER,name:t.SAVED_SETTINGS.TAX_IDS_SELECT_OPTION_TAX_ID_NUMBER},{key:u["default"].FROM_COUNTRY_SELECTION,name:t.SAVED_SETTINGS.TAX_IDS_SELECT_OPTION_TAX_ID_SHIP_FROM_COUNTRIES},{key:u["default"].TO_COUNTRY_SELECTION,name:t.SAVED_SETTINGS.TAX_IDS_SELECT_OPTION_TAX_ID_SHIP_TO_COUNTRIES}]}function r(){var t=o({searchQuery:{page:{pageNumber:0,pageSize:s.pageSize},keyword:s.searchKeyword,searchParameter:s.searchCategory.key}},s.sortingParameters);e.searchShipmentTaxIds(t).then(s.onSearchSuccess)}function a(){return e.searchShipmentTaxIdsTypeahead(s.searchKeyword,s.searchCategory).then(function(e){return(e.results||e).map(function(e){return c(s.searchKeyword,e)})})}function c(e,t){return{query:e,key:t.data.key,value:[t.line1,t.line2,t.line3].filter(Boolean).join("; ")}}var s=this,l="all";Object.assign(s,{$onInit:n,searchShipmentTaxIds:r,searchShipmentTaxIdsTypeahead:a,searchCategory:{}})}i.$inject=["component"],r.$inject=["shipmentTaxIdsService","Messages"],t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t["default"]=i,t.ShipmentTaxIdsSearchController=r;var a=n(954),u=function(e){return e&&e.__esModule?e:{"default":e}}(a),c=i.NG_NAME="ewfShipmentTaxIdsSearch"},,,,,,,,,,,function(e,t,n){"use strict";function i(){Object.assign(this,{defaultCurrency:"",defaultCurrencyList:[],defaultInsuranceCurrency:"",defaultInsuranceCurrencyList:[]})}t.__esModule=!0,t["default"]=i,i.NG_NAME="profileShipmentModel"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(2075),u=i(a),c="profile.shipmentSettings.defaults.addressEntry",s=angular.module(c,[o["default"]]);s.directive(u["default"].NG_NAME,u["default"]),t.module=s,t["default"]=c},function(e,t,n){"use strict";function i(){function e(e,t,n,i){i.init()}return{restrict:"A",scope:!0,controller:o["default"],controllerAs:"addressEntryCtrl",link:e}}t.__esModule=!0,t["default"]=i;var r=n(2076),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfAddressEntry"},function(e,t,n){"use strict";function i(e){"ngInject";function t(){e.getElementList(a).then(i)}function n(){var t={residentialDefault:o.residentialDefaultCache,businessContactDefault:o.addressToBusinessContactCache};return e.postElement(a,t).then(i)}function i(e){var t=e.residentialDefault,n=e.businessContactDefault;o.residentialDefaultCache=o.residentialDefault=t,o.addressToBusinessContactCache=o.addressToBusinessContactDefault=n}function r(){o.residentialDefaultCache=o.residentialDefault,o.addressToBusinessContactCache=o.addressToBusinessContactDefault}var o=this,a="/api/myprofile/shipment/defaults/address";Object.assign(o,{residentialDefault:!1,residentialDefaultCache:!1,addressToBusinessContactDefault:!0,addressToBusinessContactCache:!0,init:t,updateResidentialDefault:n,restoreDefaults:r})}i.$inject=["crudService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(23),u=i(a),c=n(2078),s=i(c),l="profile.shipmentSettings.defaults.assigningShipments",d=angular.module(l,[o["default"],u["default"]]);d.directive(s["default"].NG_NAME,s["default"]),t.module=d,t["default"]=l},function(e,t,n){"use strict";function i(){function e(e,t,n,i){i.init()}return{restrict:"A",scope:!0,controller:o["default"],controllerAs:"assigningShipmentsCtrl",link:{pre:e}}}t.__esModule=!0,t["default"]=i;var r=n(2079),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfAssigningShipments"},function(e,t,n){"use strict";function i(e,t,n,i){"ngInject";function r(){e.getElementList(m).then(function(e){s(e),n.getSourceData(n.CI_KEYS.CI1040_FREQUENCY_FOR_EMAIL_ALERT_OPTION).then(a),n.getSourceData(n.CI_KEYS.CI1039_TIME_TO_SEND_NO_ACTION_NOTIFICATION_EMAIL_TO_ASSIGNOR_OPTIONS).then(u)}),t.getDefaultSomAndCurrency().then(function(e){return Object.assign(p.uomacDefaults,e)}),p.accountDisplayOptions=f()}function a(e){p.notificationOptions.notifyAssignerInterval=angular.copy(e),p.assigningOptions.assignmentNotifications.sendRemindEveryPeriodKey=c(p.assigningOptions.assignmentNotifications.sendRemindEveryPeriodKey,p.notificationOptions.notifyAssignerInterval)}function u(e){p.notificationOptions.inactivityAssignedShipmentInterval=angular.copy(e),p.assigningOptions.assignmentNotifications.maxNoActionTakenPeriodKey=c(p.assigningOptions.assignmentNotifications.maxNoActionTakenPeriodKey,p.notificationOptions.inactivityAssignedShipmentInterval)}function c(e,t){return t.some(function(t){return t.time===e})?e:null}function s(e){p.assigningOptions=e,_=angular.copy(p.assigningOptions)}function l(){p.assigningOptions=angular.copy(_)}function d(){return e.changeElement(m,p.assigningOptions).then(s)}function f(){return[{code:o["default"].NUMBER_AND_NICKNAME,description:i.SHIPMENT_DEFAULTS.ASSIGNING_SHIPMENTS_SELECT_OPTION_NUMBER_AND_NICKNAME},{code:o["default"].CONCEAL,description:i.SHIPMENT_DEFAULTS.ASSIGNING_SHIPMENTS_SELECT_OPTION_CONCEAL},{code:o["default"].NICKNAME,description:i.SHIPMENT_DEFAULTS.ASSIGNING_SHIPMENTS_SELECT_OPTION_NICKNAME_ONLY}]}var p=this,m="/api/myprofile/shipment/assignment/defaults",_=null;Object.assign(p,{assigningOptions:{},notificationOptions:{notifyAssignerInterval:[],inactivityAssignedShipmentInterval:[]},uomacDefaults:{},cancelChanges:l,applyChanges:d,init:r})}i.$inject=["crudService","profileShipmentService","configService","Messages"],t.__esModule=!0,t["default"]=i;var r=n(283),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(233),o=i(r),a=n(30),u=i(a),c=n(406),s=i(c),l=n(2081),d=i(l),f="profile.shipmentSettings.defaults.customsClearance",p=angular.module(f,[o["default"]||"profile.shipmentSettings.shipmentDefaults",u["default"],s["default"]]);p.directive(d["default"].NG_NAME,d["default"]),t.module=p,t["default"]=f},function(e,t,n){"use strict";function i(){function e(e,t,n,i){i.init()}return{restrict:"A",scope:!0,controller:o["default"],controllerAs:"customsClearanceCtrl",link:e}}t.__esModule=!0,t["default"]=i;var r=n(2082),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfCustomsClearance"},function(e,t,n){"use strict";function i(e,t,n,i,r,a){"ngInject";function u(){h.profileShipmentModel=t;var o=[n.getGlobalIncoterms(),i.getEffectiveReasonsForExport(),r.getCustomsClearance()];e.all(o).then(function(e){var t=e[0],n=e[1],i=e[2];h.incotermList=t,h.reasonsForExport=n,I=angular.copy(i),s()})}function c(){return h.customsClearance.selectedShipmentPurpose=h.selectedShipmentPurpose||"",h.customsClearance.selectedIncoterm=h.selectedIncoterm&&h.selectedIncoterm.code||"",r.updateCustomsClearance(h.customsClearance).then(function(){return I=angular.copy(h.customsClearance)})}function s(){h.customsClearance=angular.copy(I),h.customsClearance.shipmentValue=h.customsClearance.shipmentValue||"0.00",h.selectedShipmentPurpose=h.customsClearance.selectedShipmentPurpose,h.selectedIncoterm=h.incotermList.find(function(e){return e.code===h.customsClearance.selectedIncoterm}),l()}function l(){d()||(h.customsClearance.submitItemDetails=null,h.customsClearance.supplyLineItemReferences=null),f(),p()}function d(){return _()||C()}function f(){_()&&(h.customsClearance.submitItemDetails=h.customsClearance.submitItemDetails||null,h.customsClearance.supplyLineItemReferences=h.customsClearance.supplyLineItemReferences||!1)}function p(){C()&&(h.customsClearance.submitItemDetails=h.customsClearance.submitItemDetails||!1,h.customsClearance.supplyLineItemReferences=h.customsClearance.supplyLineItemReferences||null)}function m(){h.customsClearance.enhancedInvoice=!1,_()&&(h.customsClearance.submitItemDetails=null,h.customsClearance.supplyLineItemReferences=!1),C()&&(h.customsClearance.submitItemDetails=!1,h.customsClearance.supplyLineItemReferences=null)}function _(){return h.customsClearance.customsInvoiceType===o["default"].CREATE}function E(){return!a.isExpertFlow()&&_()}function S(){h.customsClearance.customsInvoiceType=null,h.customsClearance.enhancedInvoice=!1,h.customsClearance.submitItemDetails=null,h.customsClearance.supplyLineItemReferences=null}function g(){h.customsClearance.supplyLineItemReferences=!1,h.customsClearance.submitItemDetails||(h.customsClearance.supplyLineItemReferences=null)}function C(){return h.customsClearance.customsInvoiceType===o["default"].USE}function A(){return _()||C()&&h.customsClearance.submitItemDetails}var h=this,I=void 0;Object.assign(h,{customsInvoiceTypes:o["default"],selectedShipmentPurpose:{},selectedIncoterm:{},incotermList:[],reasonsForExport:[],customsClearance:{},init:u,updateCustomsClearance:c,resetToDefault:s,resetInvoiceType:S,onInvoiceTypeChange:m,onSubmitItemDetailsChange:g,isUseMyOwnInvoice:C,isLineItemReferenceVisible:A,isEnhancedInvoiceSettingAvailable:E})}i.$inject=["$q","profileShipmentModel","incotermsService","reasonsForExportService","profileShipmentService","userService"],t.__esModule=!0,t["default"]=i;var r=n(47),o=function(e){return e&&e.__esModule?e:{"default":e}}(r)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(2084),u=i(a),c=n(468),s=i(c),l="profile.shipmentSettings.defaults.declarations",d=angular.module(l,[o["default"]]);d.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]),t.module=d,t["default"]=l},function(e,t,n){"use strict";function i(){function e(e,t,n,i){i.init()}return{restrict:"A",scope:!0,controller:o["default"],controllerAs:"declarationsCtrl",link:e}}t.__esModule=!0,t["default"]=i;var r=n(2085),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfDeclarations"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){var n=e.getDeclarationsDefaults().then(o)["catch"](a.restoreDefaults);return t.applySpinner(n)}function i(){return e.updateDefaultDeclarations(a.declarations).then(o)}function r(){a.declarations=angular.copy(a.declarationsDefault)}function o(e){a.declarationsDefault=e,a.declarations=angular.copy(a.declarationsDefault)}var a=this;Object.assign(a,{declarationsDefault:{cities:null,eur1:null,nafta:null,coo:null},declarations:{},restoreDefaults:r,init:n,updateDeclarations:i})}i.$inject=["declarationsService","spinnerService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(2),o=i(r),a=n(2087),u=i(a),c=n(2089),s=i(c),l="profile.shipmentSettings.defaults.customsDeclarationSettings",d=angular.module(l,[o["default"]]);d.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]),t.module=d,t["default"]=l},function(e,t,n){"use strict";function i(){function e(e,t,n,i){i.init()}return{restrict:"A",scope:!0,controller:o["default"],controllerAs:"customsDeclarationSettingsCtrl",link:e}}t.__esModule=!0,t["default"]=i;var r=n(2088),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);i.NG_NAME="ewfCustomsDeclarationSettings"},function(e,t,n){"use strict";function i(e,t){"ngInject";function n(){var n=e.getCustomsDeclarationDefaults().then(o)["catch"](a.restoreDefaults);return t.applySpinner(n)}function i(){return e.updateCustomsDeclarationDefaults(a.customsDeclaration).then(o)}function r(){a.customsDeclaration=angular.copy(a.customsDeclarationDefault)}function o(e){Object.assign(a.customsDeclarationDefault,e),a.customsDeclaration=angular.copy(a.customsDeclarationDefault)}var a=this;Object.assign(a,{customsDeclarationDefault:{additionalCustomsDocuments:!0},customsDeclaration:{},restoreDefaults:r,init:n,updateCustomsDeclaration:i})}i.$inject=["customsDeclarationSettingsService","spinnerService"],t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";function i(e){"ngInject";function t(t){return e.postElement(i,t)}function n(){return e.getElementList(i)}var i="/api/myprofile/shipment/defaults/customs/declaration";return{updateCustomsDeclarationDefaults:t,getCustomsDeclarationDefaults:n}}i.$inject=["crudService"],t.__esModule=!0,t["default"]=i,i.NG_NAME="customsDeclarationSettingsService"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=t.module=undefined;var r=n(0),o=i(r),a=n(2091),u=i(a),c=n(2092),s=i(c),l="profile.shipmentSettings.defaults.deliveryOptions",d=angular.module(l,[o["default"]]);d.directive(u["default"].NG_NAME,u["default"]).service(s["default"].NG_NAME,s["default"]),t.module=d,t["default"]=l},function(e,t,n){"use strict";function i(e){"ngInject";return e({controller:r,controllerAs:"deliveryOptionsSettingsCtrl",templateUrl:"delivery-options-settings.html"})}function r(e,t,n,i){"ngInject";function r(){e.all([t.loadOptions(),t.isAdditionalDescriptionAllowed()]).then(function(e){var t=e[0],n=t[0],i=t[1],r=t[2],o=e[1];d(n),f(i),l(),O.isIntraEuDutiableStatus=r,k=o})}function o(){O.deliveryOptionsSettings&&O.deliveryOptionsSettings.shipmentType!==D.shipmentType&&(l(),D.shipmentType=O.deliveryOptionsSettings.shipmentType,A()&&g())}function u(){return n.getUserCountry()}function c(e){var t=e.code2;O.deliveryOptionsSettings.shippingCountry=t}function s(){return angular.isObject(O.deliveryOptionsSettings.documentDescription)?O.deliveryOptionsSettings.documentDescription.name:O.deliveryOptionsSettings.documentDescription}function l(){O.deliveryOptionsList=v(),I()}function d(e){p(e),b=e,L=e.filter(function(e){return e.document}),G=e.filter(function(e){return!e.document})}function f(e){O.deliveryOptionsSettings=e,_(e)}function p(e){O.corpDefaultProduct=n.isCorpEmployee()?e.find(function(e){return e.defaulted}):null}function m(){O.deliveryOptionsSettings.selectedDeliveryOptionsKey=O.selectedOption&&{localProductCode:O.selectedOption.localCode,globalProductCode:O.selectedOption.globalCode},O.deliveryOptionsSettings.shippingCountry=O.deliveryOptionsSettings.shippingCountry||null,M()&&!O.deliveryOptionsSettings.intraEuDutiableStatus&&(O.deliveryOptionsSettings.intraEuDutiableStatus=!1);var e=angular.copy(O.deliveryOptionsSettings);return e.documentDescription=s(),delete e.shippingCountryName,t.saveOptions(e).then(function(){return _(e)})}function _(e){Object.assign(P,angular.copy(e))}function E(){Object.assign(O.deliveryOptionsSettings,R),delete O.deliveryOptionsSettings.shippingCountryName}function S(){O.deliveryOptionsSettings.shipmentType="NONE",g()}function g(){O.deliveryOptionsSettings.intraEuDutiableStatus=null}function C(){Object.assign(O.deliveryOptionsSettings,angular.copy(P)),l()}function A(){return O.deliveryOptionsSettings.shipmentType===a["default"].DOCUMENT}function h(){return O.deliveryOptionsSettings.shipmentType===a["default"].PACKAGE}function I(){var e=O.deliveryOptionsSettings.selectedDeliveryOptionsKey||{},t=e.globalProductCode,n=e.localProductCode;O.selectedOption=O.deliveryOptionsList.find(function(e){var i=e.globalCode,r=e.localCode;return i===t&&r===n})}function(){}