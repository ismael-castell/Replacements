(function(){function t(t){function e(e,i,r,n,s,o){for(;s>=0&&s<o;s+=t){var a=n?n[s]:s;r=i(r,e[a],a,e)}return r}return function(i,r,n,s){r=w(r,s,4);var o=!x(i)&&v.keys(i),a=(o||i).length,l=t>0?0:a-1;return arguments.length<3&&(n=i[o?o[l]:l],l+=t),e(i,r,n,o,l,a)}}function e(t){return function(e,i,r){i=b(i,r);for(var n=T(e),s=t>0?0:n-1;s>=0&&s<n;s+=t)if(i(e[s],s,e))return s;return-1}}function i(t,e,i){return function(r,n,s){var o=0,a=T(r);if("number"==typeof s)t>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(i&&s&&a)return r[s=i(r,n)]===n?s:-1;if(n!=n)return(s=e(u.call(r,o,a),v.isNaN))>=0?s+o:-1;for(s=t>0?o:a-1;s>=0&&s<a;s+=t)if(r[s]===n)return s;return-1}}function r(t,e){var i=O.length,r=t.constructor,n=v.isFunction(r)&&r.prototype||a,s="constructor";for(v.has(t,s)&&!v.contains(e,s)&&e.push(s);i--;)(s=O[i])in t&&t[s]!==n[s]&&!v.contains(e,s)&&e.push(s)}var n=this,s=n._,o=Array.prototype,a=Object.prototype,l=Function.prototype,c=o.push,u=o.slice,p=a.toString,h=a.hasOwnProperty,d=Array.isArray,f=Object.keys,g=l.bind,m=Object.create,y=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):n._=v,v.VERSION="1.8.3";var w=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)};case 4:return function(i,r,n,s){return t.call(e,i,r,n,s)}}return function(){return t.apply(e,arguments)}},b=function(t,e,i){return null==t?v.identity:v.isFunction(t)?w(t,e,i):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return b(t,e,Infinity)};var S=function(t,e){return function(i){var r=arguments.length;if(r<2||null==i)return i;for(var n=1;n<r;n++)for(var s=arguments[n],o=t(s),a=o.length,l=0;l<a;l++){var c=o[l];e&&void 0!==i[c]||(i[c]=s[c])}return i}},k=function(t){if(!v.isObject(t))return{};if(m)return m(t);y.prototype=t;var e=new y;return y.prototype=null,e},_=function(t){return function(e){return null==e?void 0:e[t]}},A=Math.pow(2,53)-1,T=_("length"),x=function(t){var e=T(t);return"number"==typeof e&&e>=0&&e<=A};v.each=v.forEach=function(t,e,i){var r,n;if(e=w(e,i),x(t))for(r=0,n=t.length;r<n;r++)e(t[r],r,t);else{var s=v.keys(t);for(r=0,n=s.length;r<n;r++)e(t[s[r]],s[r],t)}return t},v.map=v.collect=function(t,e,i){e=b(e,i);for(var r=!x(t)&&v.keys(t),n=(r||t).length,s=Array(n),o=0;o<n;o++){var a=r?r[o]:o;s[o]=e(t[a],a,t)}return s},v.reduce=v.foldl=v.inject=t(1),v.reduceRight=v.foldr=t(-1),v.find=v.detect=function(t,e,i){var r;if(void 0!==(r=x(t)?v.findIndex(t,e,i):v.findKey(t,e,i))&&-1!==r)return t[r]},v.filter=v.select=function(t,e,i){var r=[];return e=b(e,i),v.each(t,function(t,i,n){e(t,i,n)&&r.push(t)}),r},v.reject=function(t,e,i){return v.filter(t,v.negate(b(e)),i)},v.every=v.all=function(t,e,i){e=b(e,i);for(var r=!x(t)&&v.keys(t),n=(r||t).length,s=0;s<n;s++){var o=r?r[s]:s;if(!e(t[o],o,t))return!1}return!0},v.some=v.any=function(t,e,i){e=b(e,i);for(var r=!x(t)&&v.keys(t),n=(r||t).length,s=0;s<n;s++){var o=r?r[s]:s;if(e(t[o],o,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,i,r){return x(t)||(t=v.values(t)),("number"!=typeof i||r)&&(i=0),v.indexOf(t,e,i)>=0},v.invoke=function(t,e){var i=u.call(arguments,2),r=v.isFunction(e);return v.map(t,function(t){var n=r?e:t[e];return null==n?n:n.apply(t,i)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,i){var r,n,s=-Infinity,o=-Infinity;if(null==e&&null!=t)for(var a=0,l=(t=x(t)?t:v.values(t)).length;a<l;a++)(r=t[a])>s&&(s=r);else e=b(e,i),v.each(t,function(t,i,r){((n=e(t,i,r))>o||n===-Infinity&&s===-Infinity)&&(s=t,o=n)});return s},v.min=function(t,e,i){var r,n,s=Infinity,o=Infinity;if(null==e&&null!=t)for(var a=0,l=(t=x(t)?t:v.values(t)).length;a<l;a++)(r=t[a])<s&&(s=r);else e=b(e,i),v.each(t,function(t,i,r){((n=e(t,i,r))<o||n===Infinity&&s===Infinity)&&(s=t,o=n)});return s},v.shuffle=function(t){for(var e,i=x(t)?t:v.values(t),r=i.length,n=Array(r),s=0;s<r;s++)(e=v.random(0,s))!==s&&(n[s]=n[e]),n[e]=i[s];return n},v.sample=function(t,e,i){return null==e||i?(x(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,i){return e=b(e,i),v.pluck(v.map(t,function(t,i,r){return{value:t,index:i,criteria:e(t,i,r)}}).sort(function(t,e){var i=t.criteria,r=e.criteria;if(i!==r){if(i>r||void 0===i)return 1;if(i<r||void 0===r)return-1}return t.index-e.index}),"value")};var j=function(t){return function(e,i,r){var n={};return i=b(i,r),v.each(e,function(r,s){var o=i(r,s,e);t(n,r,o)}),n}};v.groupBy=j(function(t,e,i){v.has(t,i)?t[i].push(e):t[i]=[e]}),v.indexBy=j(function(t,e,i){t[i]=e}),v.countBy=j(function(t,e,i){v.has(t,i)?t[i]++:t[i]=1}),v.toArray=function(t){return t?v.isArray(t)?u.call(t):x(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:x(t)?t.length:v.keys(t).length},v.partition=function(t,e,i){e=b(e,i);var r=[],n=[];return v.each(t,function(t,i,s){(e(t,i,s)?r:n).push(t)}),[r,n]},v.first=v.head=v.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,i){return u.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},v.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,i){return u.call(t,null==e||i?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var C=function(t,e,i,r){for(var n=[],s=0,o=r||0,a=T(t);o<a;o++){var l=t[o];if(x(l)&&(v.isArray(l)||v.isArguments(l))){e||(l=C(l,e,i));var c=0,u=l.length;for(n.length+=u;c<u;)n[s++]=l[c++]}else i||(n[s++]=l)}return n};v.flatten=function(t,e){return C(t,e,!1)},v.without=function(t){return v.difference(t,u.call(arguments,1))},v.uniq=v.unique=function(t,e,i,r){v.isBoolean(e)||(r=i,i=e,e=!1),null!=i&&(i=b(i,r));for(var n=[],s=[],o=0,a=T(t);o<a;o++){var l=t[o],c=i?i(l,o,t):l;e?(o&&s===c||n.push(l),s=c):i?v.contains(s,c)||(s.push(c),n.push(l)):v.contains(n,l)||n.push(l)}return n},v.union=function(){return v.uniq(C(arguments,!0,!0))},v.intersection=function(t){for(var e=[],i=arguments.length,r=0,n=T(t);r<n;r++){var s=t[r];if(!v.contains(e,s)){for(var o=1;o<i&&v.contains(arguments[o],s);o++);o===i&&e.push(s)}}return e},v.difference=function(t){var e=C(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,T).length||0,i=Array(e),r=0;r<e;r++)i[r]=v.pluck(t,r);return i},v.object=function(t,e){for(var i={},r=0,n=T(t);r<n;r++)e?i[t[r]]=e[r]:i[t[r][0]]=t[r][1];return i},v.findIndex=e(1),v.findLastIndex=e(-1),v.sortedIndex=function(t,e,i,r){for(var n=(i=b(i,r,1))(e),s=0,o=T(t);s<o;){var a=Math.floor((s+o)/2);i(t[a])<n?s=a+1:o=a}return s},v.indexOf=i(1,v.findIndex,v.sortedIndex),v.lastIndexOf=i(-1,v.findLastIndex),v.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var r=Math.max(Math.ceil((e-t)/i),0),n=Array(r),s=0;s<r;s++,t+=i)n[s]=t;return n};var J=function(t,e,i,r,n){if(!(r instanceof e))return t.apply(i,n);var s=k(t.prototype),o=t.apply(s,n);return v.isObject(o)?o:s};v.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,u.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var i=u.call(arguments,2),r=function(){return J(t,r,e,this,i.concat(u.call(arguments)))};return r},v.partial=function(t){var e=u.call(arguments,1),i=function(){for(var r=0,n=e.length,s=Array(n),o=0;o<n;o++)s[o]=e[o]===v?arguments[r++]:e[o];for(;r<arguments.length;)s.push(arguments[r++]);return J(t,i,this,this,s)};return i},v.bindAll=function(t){var e,i,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)t[i=arguments[e]]=v.bind(t[i],t);return t},v.memoize=function(t,e){var i=function(r){var n=i.cache,s=""+(e?e.apply(this,arguments):r);return v.has(n,s)||(n[s]=t.apply(this,arguments)),n[s]};return i.cache={},i},v.delay=function(t,e){var i=u.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,i){var r,n,s,o=null,a=0;i||(i={});var l=function(){a=!1===i.leading?0:v.now(),o=null,s=t.apply(r,n),o||(r=n=null)};return function(){var c=v.now();a||!1!==i.leading||(a=c);var u=e-(c-a);return r=this,n=arguments,u<=0||u>e?(o&&(clearTimeout(o),o=null),a=c,s=t.apply(r,n),o||(r=n=null)):o||!1===i.trailing||(o=setTimeout(l,u)),s}},v.debounce=function(t,e,i){var r,n,s,o,a,l=function(){var c=v.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,i||(a=t.apply(s,n),r||(s=n=null)))};return function(){s=this,n=arguments,o=v.now();var c=i&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(s,n),s=n=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,r=t[e].apply(this,arguments);i--;)r=t[i].call(this,r);return r}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},v.once=v.partial(v.before,2);var P=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(t){if(!v.isObject(t))return[];if(f)return f(t);var e=[];for(var i in t)v.has(t,i)&&e.push(i);return P&&r(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var i in t)e.push(i);return P&&r(t,e),e},v.values=function(t){for(var e=v.keys(t),i=e.length,r=Array(i),n=0;n<i;n++)r[n]=t[e[n]];return r},v.mapObject=function(t,e,i){e=b(e,i);for(var r,n=v.keys(t),s=n.length,o={},a=0;a<s;a++)o[r=n[a]]=e(t[r],r,t);return o},v.pairs=function(t){for(var e=v.keys(t),i=e.length,r=Array(i),n=0;n<i;n++)r[n]=[e[n],t[e[n]]];return r},v.invert=function(t){for(var e={},i=v.keys(t),r=0,n=i.length;r<n;r++)e[t[i[r]]]=i[r];return e},v.functions=v.methods=function(t){var e=[];for(var i in t)v.isFunction(t[i])&&e.push(i);return e.sort()},v.extend=S(v.allKeys),v.extendOwn=v.assign=S(v.keys),v.findKey=function(t,e,i){e=b(e,i);for(var r,n=v.keys(t),s=0,o=n.length;s<o;s++)if(e(t[r=n[s]],r,t))return r},v.pick=function(t,e,i){var r,n,s={},o=t;if(null==o)return s;v.isFunction(e)?(n=v.allKeys(o),r=w(e,i)):(n=C(arguments,!1,!1,1),r=function(t,e,i){return e in i},o=Object(o));for(var a=0,l=n.length;a<l;a++){var c=n[a],u=o[c];r(u,c,o)&&(s[c]=u)}return s},v.omit=function(t,e,i){if(v.isFunction(e))e=v.negate(e);else{var r=v.map(C(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(r,e)}}return v.pick(t,e,i)},v.defaults=S(v.allKeys,!0),v.create=function(t,e){var i=k(t);return e&&v.extendOwn(i,e),i},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var i=v.keys(e),r=i.length;if(null==t)return!r;for(var n=Object(t),s=0;s<r;s++){var o=i[s];if(e[o]!==n[o]||!(o in n))return!1}return!0};var $=function(t,e,i,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var n=p.call(t);if(n!==p.call(e))return!1;switch(n){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var s="[object Array]"===n;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(v.isFunction(o)&&o instanceof o&&v.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var l=(i=i||[]).length;l--;)if(i[l]===t)return r[l]===e;if(i.push(t),r.push(e),s){if((l=t.length)!==e.length)return!1;for(;l--;)if(!$(t[l],e[l],i,r))return!1}else{var c,u=v.keys(t);if(l=u.length,v.keys(e).length!==l)return!1;for(;l--;)if(c=u[l],!v.has(e,c)||!$(t[c],e[c],i,r))return!1}return i.pop(),r.pop(),!0};v.isEqual=function(t,e){return $(t,e)},v.isEmpty=function(t){return null==t||(x(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=d||function(t){return"[object Array]"===p.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return p.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===p.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&h.call(t,e)},v.noConflict=function(){return n._=s,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=_,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,i){var r=Array(Math.max(0,t));e=w(e,i,1);for(var n=0;n<t;n++)r[n]=e(n);return r},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},I=v.invert(E),M=function(t){var e=function(e){return t[e]},i="(?:"+v.keys(t).join("|")+")",r=RegExp(i),n=RegExp(i,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(n,e):t}};v.escape=M(E),v.unescape=M(I),v.result=function(t,e,i){var r=null==t?void 0:t[e];return void 0===r&&(r=i),v.isFunction(r)?r.call(t):r};var F=0;v.uniqueId=function(t){var e=++F+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,V=function(t){return"\\"+D[t]};v.template=function(t,e,i){!e&&i&&(e=i),e=v.defaults({},e,v.templateSettings);var r=RegExp([(e.escape||L).source,(e.interpolate||L).source,(e.evaluate||L).source].join("|")+"|$","g"),n=0,s="__p+='";t.replace(r,function(e,i,r,o,a){return s+=t.slice(n,a).replace(H,V),n=a+e.length,i?s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(e.variable||"obj","_",s)}catch(c){throw c.source=s,c}var a=function(t){return o.call(this,t,v)},l=e.variable||"obj";return a.source="function("+l+"){\n"+s+"}",a},v.chain=function(t){var e=v(t);return e._chain=!0,e};var R=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var i=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),R(this,i.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];v.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],R(this,i)}}),v.each(["concat","join","slice"],function(t){var e=o[t];v.prototype[t]=function(){return R(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}).call(this),function(t,e){var i=[],r=[],n=[],s={gsub:function(t,e,i){var r=new RegExp(e.source||e,"gi");return r.test(t)?t.replace(r,i):null},plural:function(t,e){i.unshift([t,e])},pluralize:function(r,s,o){var a;if(s!==e)s=parseFloat(s),a=1===s?this.singularize(r):this.pluralize(r),a=o?[s,a].join(" "):a;else{if(t(n).include(r))return r;a=r,t(i).detect(function(t){var e=this.gsub(r,t[0],t[1]);return!!e&&(a=e)},this)}return a},singular:function(t,e){r.unshift([t,e])},singularize:function(e){if(t(n).include(e))return e;var i=e;return t(r).detect(function(t){var r=this.gsub(e,t[0],t[1]);return!!r&&(i=r)},this),i},irregular:function(t,e){this.plural("\\b"+t+"\\b",e),this.singular("\\b"+e+"\\b",t)},uncountable:function(t){n.unshift(t)},ordinalize:function(t){if(isNaN(t))return t;var e=(t=t.toString()).slice(-1),i=t.slice(-2);if("11"===i||"12"===i||"13"===i)return t+"th";switch(e){case"1":return t+"st";case"2":return t+"nd";case"3":return t+"rd";default:return t+"th"}},titleize:function(t){return"string"!=typeof t?t:t.replace(/\S+/g,function(t){return t.charAt(0).toUpperCase()+t.slice(1)})},resetInflections:function(){return i=[],r=[],n=[],this.plural(/$/,"s"),this.plural(/s$/,"s"),this.plural(/(ax|test)is$/,"$1es"),this.plural(/(octop|vir)us$/,"$1i"),this.plural(/(octop|vir)i$/,"$1i"),this.plural(/(alias|status)$/,"$1es"),this.plural(/(bu)s$/,"$1ses"),this.plural(/(buffal|tomat)o$/,"$1oes"),this.plural(/([ti])um$/,"$1a"),this.plural(/([ti])a$/,"$1a"),this.plural(/sis$/,"ses"),this.plural(/(?:([^f])fe|([lr])?f)$/,"$1$2ves"),this.plural(/(hive)$/,"$1s"),this.plural(/([^aeiouy]|qu)y$/,"$1ies"),this.plural(/(x|ch|ss|sh)$/,"$1es"),this.plural(/(matr|vert|ind)(?:ix|ex)$/,"$1ices"),this.plural(/([m|l])ouse$/,"$1ice"),this.plural(/([m|l])ice$/,"$1ice"),this.plural(/^(ox)$/,"$1en"),this.plural(/^(oxen)$/,"$1"),this.plural(/(quiz)$/,"$1zes"),this.singular(/s$/,""),this.singular(/(n)ews$/,"$1ews"),this.singular(/([ti])a$/,"$1um"),this.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/,"$1$2sis"),this.singular(/(^analy)ses$/,"$1sis"),this.singular(/([^f])ves$/,"$1fe"),this.singular(/(hive)s$/,"$1"),this.singular(/(tive)s$/,"$1"),this.singular(/([lr])ves$/,"$1f"),this.singular(/([^aeiouy]|qu)ies$/,"$1y"),this.singular(/(s)eries$/,"$1eries"),this.singular(/(m)ovies$/,"$1ovie"),this.singular(/(x|ch|ss|sh)es$/,"$1"),this.singular(/([m|l])ice$/,"$1ouse"),this.singular(/(bus)es$/,"$1"),this.singular(/(o)es$/,"$1"),this.singular(/(shoe)s$/,"$1"),this.singular(/(cris|ax|test)es$/,"$1is"),this.singular(/(octop|vir)i$/,"$1us"),this.singular(/(alias|status)es$/,"$1"),this.singular(/^(ox)en/,"$1"),this.singular(/(vert|ind)ices$/,"$1ex"),this.singular(/(matr)ices$/,"$1ix"),this.singular(/(quiz)zes$/,"$1"),this.singular(/(database)s$/,"$1"),this.irregular("person","people"),this.irregular("man","men"),this.irregular("child","children"),this.irregular("sex","sexes"),this.irregular("move","moves"),this.irregular("cow","kine"),this.uncountable("equipment"),this.uncountable("information"),this.uncountable("rice"),this.uncountable("money"),this.uncountable("species"),this.uncountable("series"),this.uncountable("fish"),this.uncountable("sheep"),this.uncountable("jeans"),this}};t.mixin(s.resetInflections())}(_),function(t){var e="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,r,n){e.Backbone=t(e,n,i,r)});else if("undefined"!=typeof exports){var i,r=require("underscore");try{i=require("jquery")}catch(n){}t(e,exports,r,i)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,i,r){var n=t.Backbone,s=[].slice;e.VERSION="1.2.1",e.$=r,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=function(t,e,r){switch(t){case 1:return function(){return i[e](this[r])};case 2:return function(t){return i[e](this[r],t)};case 3:return function(t,n){return i[e](this[r],t,n)};case 4:return function(t,n,s){return i[e](this[r],t,n,s)};default:return function(){var t=s.call(arguments);return t.unshift(this[r]),i[e].apply(i,t)}}},a=function(t,e,r){i.each(e,function(e,n){i[n]&&(t.prototype[n]=o(e,n,r))})},l=e.Events={},c=/\s+/,u=function(t,e,r,n,s){var o,a=0;if(r&&"object"==typeof r){void 0!==n&&"context"in s&&void 0===s.context&&(s.context=n);for(o=i.keys(r);a<o.length;a++)e=t(e,o[a],r[o[a]],s)}else if(r&&c.test(r))for(o=r.split(c);a<o.length;a++)e=t(e,o[a],n,s);else e=t(e,r,n,s);return e};l.on=function(t,e,i){return p(this,t,e,i)};var p=function(t,e,i,r,n){(t._events=u(h,t._events||{},e,i,{context:r,ctx:t,listening:n}),n)&&((t._listeners||(t._listeners={}))[n.id]=n);return t};l.listenTo=function(t,e,r){if(!t)return this;var n=t._listenId||(t._listenId=i.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[n];if(!o){var a=this._listenId||(this._listenId=i.uniqueId("l"));o=s[n]={obj:t,objId:n,id:a,listeningTo:s,count:0}}return p(t,e,r,this,o),this};var h=function(t,e,i,r){if(i){var n=t[e]||(t[e]=[]),s=r.context,o=r.ctx,a=r.listening;a&&a.count++,n.push({callback:i,context:s,ctx:s||o,listening:a})}return t};l.off=function(t,e,i){return this._events?(this._events=u(d,this._events,t,e,{context:i,listeners:this._listeners}),this):this},l.stopListening=function(t,e,r){var n=this._listeningTo;if(!n)return this;for(var s=t?[t._listenId]:i.keys(n),o=0;o<s.length;o++){var a=n[s[o]];if(!a)break;a.obj.off(e,r,this)}return i.isEmpty(n)&&(this._listeningTo=void 0),this};var d=function(t,e,r,n){if(t){var s,o=0,a=n.context,l=n.listeners;if(e||r||a){for(var c=e?[e]:i.keys(t);o<c.length;o++){var u=t[e=c[o]];if(!u)break;for(var p=[],h=0;h<u.length;h++){var d=u[h];r&&r!==d.callback&&r!==d.callback._callback||a&&a!==d.context?p.push(d):(s=d.listening)&&0==--s.count&&(delete l[s.id],delete s.listeningTo[s.objId])}p.length?t[e]=p:delete t[e]}return i.size(t)?t:void 0}for(var f=i.keys(l);o<f.length;o++)delete l[(s=l[f[o]]).id],delete s.listeningTo[s.objId]}};l.once=function(t,e,r){var n=u(f,{},t,e,i.bind(this.off,this));return this.on(n,void 0,r)},l.listenToOnce=function(t,e,r){var n=u(f,{},e,r,i.bind(this.stopListening,this,t));return this.listenTo(t,n)};var f=function(t,e,r,n){if(r){var s=t[e]=i.once(function(){n(e,s),r.apply(this,arguments)});s._callback=r}return t};l.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),r=0;r<e;r++)i[r]=arguments[r+1];return u(g,this._events,t,void 0,i),this};var g=function(t,e,i,r){if(t){var n=t[e],s=t.all;n&&s&&(s=s.slice()),n&&m(n,r),s&&m(s,[e].concat(r))}return t},m=function(t,e){var i,r=-1,n=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++r<n;)(i=t[r]).callback.call(i.ctx);return;case 1:for(;++r<n;)(i=t[r]).callback.call(i.ctx,s);return;case 2:for(;++r<n;)(i=t[r]).callback.call(i.ctx,s,o);return;case 3:for(;++r<n;)(i=t[r]).callback.call(i.ctx,s,o,a);return;default:for(;++r<n;)(i=t[r]).callback.apply(i.ctx,e);return}};l.bind=l.on,l.unbind=l.off,i.extend(e,l);var y=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=i.defaults({},r,i.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(y.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var n;if("object"==typeof t?(n=t,r=e):(n={})[t]=e,r||(r={}),!this._validate(n,r))return!1;var s=r.unset,o=r.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=i.clone(this.attributes),this.changed={});var c=this.attributes,u=this.changed,p=this._previousAttributes;for(var h in this.idAttribute in n&&(this.id=n[this.idAttribute]),n)e=n[h],i.isEqual(c[h],e)||a.push(h),i.isEqual(p[h],e)?delete u[h]:u[h]=e,s?delete c[h]:c[h]=e;if(!o){a.length&&(this._pending=r);for(var d=0;d<a.length;d++)this.trigger("change:"+a[d],this,c[a[d]],r)}if(l)return this;if(!o)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,r={};for(var n in t){var s=t[n];i.isEqual(e[n],s)||(r[n]=s)}return!!i.size(r)&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(i){var n=t.parse?e.parse(i,t):i;if(!e.set(n,t))return!1;r&&r.call(t.context,e,i,t),e.trigger("sync",e,i,t)},L(this,t),this.sync("read",this,t)},save:function(t,e,r){var n;null==t||"object"==typeof t?(n=t,r=e):(n={})[t]=e;var s=(r=i.extend({validate:!0,parse:!0},r)).wait;if(n&&!s){if(!this.set(n,r))return!1}else if(!this._validate(n,r))return!1;var o=this,a=r.success,l=this.attributes;r.success=function(t){o.attributes=l;var e=r.parse?o.parse(t,r):t;if(s&&(e=i.extend({},n,e)),e&&!o.set(e,r))return!1;a&&a.call(r.context,o,t,r),o.trigger("sync",o,t,r)},L(this,r),n&&s&&(this.attributes=i.extend({},l,n));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=n);var u=this.sync(c,this,r);return this.attributes=l,u},destroy:function(t){t=t?i.clone(t):{};var e=this,r=t.success,n=t.wait,s=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){n&&s(),r&&r.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var o=!1;return this.isNew()?i.defer(t.success):(L(this,t),o=this.sync("delete",this,t)),n||s(),o},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,i.extend(e,{validationError:r})),!1)}}),a(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var v=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1};i.extend(v.prototype,l,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,b))},remove:function(t,e){e=i.extend({},e);var r=!i.isArray(t);t=r?[t]:i.clone(t);var n=this._removeModels(t,e);return!e.silent&&n&&this.trigger("update",this,e),r?n[0]:n},set:function(t,e){(e=i.defaults({},e,w)).parse&&!this._isModel(t)&&(t=this.parse(t,e));var r,n,s,o,a,l=!i.isArray(t);t=l?t?[t]:[]:t.slice();var c=e.at;null!=c&&(c=+c),c<0&&(c+=this.length+1);for(var u=this.comparator&&null==c&&!1!==e.sort,p=i.isString(this.comparator)?this.comparator:null,h=[],d=[],f={},g=e.add,m=e.merge,y=e.remove,v=!(u||!g||!y)&&[],b=!1,S=0;S<t.length;S++){if(s=t[S],o=this.get(s))y&&(f[o.cid]=!0),m&&s!==o&&(s=this._isModel(s)?s.attributes:s,e.parse&&(s=o.parse(s,e)),o.set(s,e),u&&!a&&o.hasChanged(p)&&(a=!0)),t[S]=o;else if(g){if(!(n=t[S]=this._prepareModel(s,e)))continue;h.push(n),this._addReference(n,e)}(n=o||n)&&(r=this.modelId(n.attributes),!v||!n.isNew()&&f[r]||(v.push(n),b=b||!this.models[S]||n.cid!==this.models[S].cid),f[r]=!0)}if(y){for(S=0;S<this.length;S++)f[(n=this.models[S]).cid]||d.push(n);d.length&&this._removeModels(d,e)}if(h.length||b)if(u&&(a=!0),this.length+=h.length,null!=c)for(S=0;S<h.length;S++)this.models.splice(c+S,0,h[S]);else{v&&(this.models.length=0);var k=v||h;for(S=0;S<k.length;S++)this.models.push(k[S])}if(a&&this.sort({silent:!0}),!e.silent){var _=null!=c?i.clone(e):e;for(S=0;S<h.length;S++)null!=c&&(_.index=c+S),(n=h[S]).trigger("add",n,this,_);(a||b)&&this.trigger("sort",this,e),(h.length||d.length)&&this.trigger("update",this,e)}return l?t[0]:t},reset:function(t,e){e=e?i.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){var r=i.matches(t);return this[e?"find":"filter"](function(t){return r(t.attributes)})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){var e=(t=i.extend({parse:!0},t)).success,r=this;return t.success=function(i){var n=t.reset?"reset":"set";r[n](i,t),e&&e.call(t.context,r,i,t),r.trigger("sync",r,i,t)},L(this,t),this.sync("read",this,t)},create:function(t,e){var r=(e=e?i.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var n=this,s=e.success;return e.success=function(t,e,i){r&&n.add(t,i),s&&s.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?i.clone(e):{}).collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var i=[],r=0;r<t.length;r++){var n=this.get(t[r]);if(n){var s=this.indexOf(n);this.models.splice(s,1),this.length--,e.silent||(e.index=s,n.trigger("remove",n,this,e)),i.push(n),this._removeReference(n,e)}}return!!i.length&&i},_isModel:function(t){return t instanceof y},_addReference:function(t){this._byId[t.cid]=t;var e=this.modelId(t.attributes);null!=e&&(this._byId[e]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t){delete this._byId[t.cid];var e=this.modelId(t.attributes);null!=e&&delete this._byId[e],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,r){if("add"!==t&&"remove"!==t||i===this){if("destroy"===t&&this.remove(e,r),"change"===t){var n=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);n!==s&&(null!=n&&delete this._byId[n],null!=s&&(this._byId[s]=e))}this.trigger.apply(this,arguments)}}}),a(v,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:2,contains:2,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,
sample:3,partition:3},"models");var S=["groupBy","countBy","sortBy","indexBy"];i.each(S,function(t){i[t]&&(v.prototype[t]=function(e,r){var n=i.isFunction(e)?e:function(t){return t.get(e)};return i[t](this.models,n,r)})});var k=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,A)),this._ensureElement(),this.initialize.apply(this,arguments)},_=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];i.extend(k.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var r=t[e];if(i.isFunction(r)||(r=this[r]),r){var n=e.match(_);this.delegate(n[1],n[2],i.bind(r,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t["class"]=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,n){var s=T[t];i.defaults(n||(n={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:s,dataType:"json"};if(n.url||(o.url=i.result(r,"url")||F()),null!=n.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(n.attrs||r.toJSON(n))),n.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),n.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",n.emulateJSON&&(o.data._method=s);var a=n.beforeSend;n.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",s),a)return a.apply(this,arguments)}}"GET"===o.type||n.emulateJSON||(o.processData=!1);var l=n.error;n.error=function(t,e,i){n.textStatus=e,n.errorThrown=i,l&&l.call(n.context,t,e,i)};var c=n.xhr=e.ajax(i.extend(o,n));return r.trigger("request",r,c,n),c};var T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var x=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},j=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,J=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(x.prototype,l,{initialize:function(){},route:function(t,r,n){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(r)&&(n=r,r=""),n||(n=this[r]);var s=this;return e.history.route(t,function(i){var o=s._extractParameters(t,i);!1!==s.execute(n,o,r)&&(s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),e.history.trigger("route",s,r,o))}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(P,"\\$&").replace(j,"(?:$1)?").replace(C,function(t,e){return e?t:"([^/?]+)"}).replace(J,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return i.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var O=e.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},$=/^[#\/]|\s+$/g,E=/^\/+|\/+$/g,I=/#.*$/;O.started=!1,i.extend(O.prototype,l,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace($,"")},start:function(t){if(O.started)throw new Error("Backbone.history has already been started");if(O.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window,this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(E,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,n=r.insertBefore(this.iframe,r.firstChild).contentWindow;n.document.open(),n.document.close(),n.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),O.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!O.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var r=i+t;if(t=this.decodeFragment(t.replace(I,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var n=this.iframe.contentWindow;e.replace||(n.document.open(),n.document.close()),this._updateHash(n.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new O;var M=function(t,e){var r,n=this;r=t&&i.has(t,"constructor")?t.constructor:function(){return n.apply(this,arguments)},i.extend(r,n,e);var s=function(){this.constructor=r};return s.prototype=n.prototype,r.prototype=new s,t&&i.extend(r.prototype,t),r.__super__=n.prototype,r};y.extend=v.extend=x.extend=k.extend=O.extend=M;var F=function(){throw new Error('A "url" property or function must be specified')},L=function(t,e){var i=e.error;e.error=function(r){i&&i.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e}),function(t,e){"function"==typeof define&&define.amd?define(["underscore","backbone"],function(i,r){return e(i||t._,r||t.Backbone)}):e(_,Backbone)}(this,function(t,e){function i(e,i){var r=null;try{r=i.url}catch(n){}if(!r)try{r=t.result(e,"url")}catch(n){}return r}function r(t,e){return":"!==t&&":"!==e&&t!==e}var n={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};return e.vanillaSync=e.sync,e.sync=function(s,o,a){var l=!1,c=document.createElement("a");c.href=document.URL;var u=document.createElement("a");if(u.href=i(o,a),""!==u.host&&c.host!==u.host&&(l=!0),l&&!e.$.support.cors){var p=n[s];if(t.defaults(a||(a={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON}),!a.emulateHTTP&&("update"===s||"patch"===s||"delete"===s))throw new Error("Backbone.CrossDomain cannot use PUT, PATCH, DELETE with XDomainRequest (IE) and emulateHTTP=false");var h={type:p,dataType:"json",url:i(o,a)};if(!h.url)throw new Error("No URL!");if(r(c.protocol,u.protocol)&&(h.url=h.url.replace(new RegExp(u.protocol),c.protocol)),null!=a.data||!o||"create"!==s&&"update"!==s&&"patch"!==s||(h.data=JSON.stringify(a.attrs||o.toJSON(a))),a.emulateJSON&&(h.data=h.data?{model:h.data}:{}),a.emulateHTTP&&("PUT"===p||"DELETE"===p||"PATCH"===p)){h.type="POST",a.emulateJSON&&(h.data._method=p);var d=a.beforeSend;a.beforeSend=function(){if(d)return d.apply(this,arguments)}}"GET"===h.type||a.emulateJSON||(h.processData=!1),"POST"===h.type&&(h.data=e.$.param(e.$.parseJSON(h.data)));var f=a.xhr=new XDomainRequest,g=a.success,m=a.error;if(e.$.fn.jquery){var y=e.$.Deferred(),v=e.$.Callbacks("once memory");y.promise(f).complete=v.add}return f.onload=function(){var t={};f.responseText&&(t=e.$.parseJSON(f.responseText)),t&&(y&&y.resolveWith(this,[t,"success",f]),g(t))},f.onerror=function(){m&&(m(o,f,a),y&&y.rejectWith(this,[f,"error",m])),o.trigger("error",o,f,a)},"read"===s&&a.data&&(console.log("IE get params",JSON.stringify(a.data)),parameterized=e.$.param(a.data),h.url=h.url+"?"+parameterized),f.open(h.type,h.url),f.onprogress=function(){},f.ontimeout=function(){},setTimeout(function(){f.send(h.data)},0),o.trigger("request",o,f,a),f}return e.vanillaSync.apply(this,arguments)},e}),function(t,e){if("function"==typeof define&&define.amd)define(["underscore","backbone"],function(i,r){return e(t,r,i)});else if("undefined"!=typeof exports){var i=require("underscore"),r=require("backbone");e(t,r,i),"undefined"!=typeof module&&module.exports&&(module.exports=r),exports=r}else e(t,t.Backbone,t._)}(this,function(t,e,i){var r,n,s,o,a,l,c,u,p,h,d,f={};r=e.Model,n=e.Collection,s=r.prototype,a=n.prototype,o=e.Events,e.Associations={VERSION:"0.6.1"},e.Associations.scopes=[];var g=function(){return p},m=function(t){(!i.isString(t)||1>i.size(t))&&(t="."),p=t,c=RegExp("[\\"+p+"\\[\\]]+","g"),u=RegExp("[^\\"+p+"\\[\\]]+","g")};try{Object.defineProperty(e.Associations,"SEPARATOR",{enumerable:!0,get:g,set:m})}catch(k){}e.Associations.Many=e.Many="Many",e.Associations.One=e.One="One",e.Associations.Self=e.Self="Self",e.Associations.SEPARATOR=".",e.Associations.getSeparator=g,e.Associations.setSeparator=m,e.Associations.EVENTS_BUBBLE=!0,e.Associations.EVENTS_WILDCARD=!0,e.Associations.EVENTS_NC=!1,m(),l=e.AssociatedModel=e.Associations.AssociatedModel=r.extend({relations:void 0,_proxyCalls:void 0,on:function(t,r){var n=o.on.apply(this,arguments);if(e.Associations.EVENTS_NC)return n;var s=/\s+/;return i.isString(t)&&t&&!s.test(t)&&r&&(s=v(t))&&(f[s]="undefined"==typeof f[s]?1:f[s]+1),n},off:function(t,r,n){if(e.Associations.EVENTS_NC)return o.off.apply(this,arguments);var s=/\s+/,a=this._events,l={},c=a?i.keys(a):[],u=!t&&!r&&!n,p=i.isString(t)&&!s.test(t);if(u||p){s=0;for(var h=c.length;s<h;s++)l[c[s]]=a[c[s]]?a[c[s]].length:0}var d=o.off.apply(this,arguments);if(u||p)for(s=0,h=c.length;s<h;s++)(u=v(c[s]))&&(f[u]=a[c[s]]?f[u]-(l[c[s]]-a[c[s]].length):f[u]-l[c[s]]);return d},get:function(t){var e=s.get.call(this,t);return e||this._getAttr.apply(this,arguments)},set:function(t,e,r){var n;return i.isObject(t)||null==t?(n=t,r=e):(n={})[t]=e,t=this._set(n,r),this._processPendingEvents(),t},_set:function(t,e){var r,n,s,o,a=this;if(!t)return this;for(r in t)if(n||(n={}),r.match(c)){var u=y(r);o=i.initial(u),u=u[u.length-1],(o=this.get(o))instanceof l&&((o=n[o.cid]||(n[o.cid]={model:o,data:{}})).data[u]=t[r])}else(o=n[this.cid]||(n[this.cid]={model:this,data:{}})).data[r]=t[r];if(n)for(s in n)o=n[s],this._setAttr.call(o.model,o.data,e)||(a=!1);else a=this._setAttr.call(this,t,e);return a},_setAttr:function(o,a){var c;if(a||(a={}),a.unset)for(c in o)o[c]=void 0;return this.parents=this.parents||[],this.relations&&i.each(this.relations,function(s){var c,u,p,h=s.key,d=s.relatedModel,f=s.collectionType,g=s.scope||t,m=s.map,y=this.attributes[h],v=y&&y.idAttribute,b=!1;if(!d||d.prototype instanceof r||(d=i.isFunction(d)?d.call(this,s,o):d),d&&i.isString(d)&&(d=d===e.Self?this.constructor:w(d,g)),m&&i.isString(m)&&(m=w(m,g)),u=s.options?i.extend({},s.options,a):a,o[h]){if(c=i.result(o,h),c=m?m.call(this,c,f||d):c,s.type===e.Many){if(f&&i.isFunction(f)&&f.prototype instanceof r)throw Error("type is of Backbone.Model. Specify derivatives of Backbone.Collection");if(!f||f.prototype instanceof n||(f=i.isFunction(f)?f.call(this,s,o):f),f&&i.isString(f)&&(f=w(f,g)),!d&&!f)throw Error("specify either a relatedModel or collectionType");if(f&&!f.prototype instanceof n)throw Error("collectionType must inherit from Backbone.Collection");y?(y._deferEvents=!0,y[u.reset?"reset":"set"](c instanceof n?c.models:c,u),s=y):(b=!0,c instanceof n?s=c:(s=f?new f:this._createCollection(d,g))[u.reset?"reset":"set"](c,u))}else{if(s.type!==e.One)throw Error("type attribute must be specified and have the values Backbone.One or Backbone.Many");if(!d)throw Error("specify a relatedModel for Backbone.One type");if(!(d.prototype instanceof e.AssociatedModel))throw Error("specify an AssociatedModel for Backbone.One type");s=c instanceof l?c:new d(c,u),y&&s.attributes[v]&&y.attributes[v]===s.attributes[v]?(y._deferEvents=!0,y._set(c instanceof l?c.attributes:c,u),s=y):b=!0}p=o[h]=s,(b||p&&!p._proxyCallback)&&(p._proxyCallback=function(){return e.Associations.EVENTS_BUBBLE&&this._bubbleEvent.call(this,h,p,arguments)},p.on("all",p._proxyCallback,this))}o.hasOwnProperty(h)&&(y=o[h],v=this.attributes[h],y?(y.parents=y.parents||[],-1==i.indexOf(y.parents,this)&&y.parents.push(this)):v&&0<v.parents.length&&(v.parents=i.difference(v.parents,[this]),v._proxyCallback&&v.off("all",v._proxyCallback,this)))},this),s.set.call(this,o,a)},_bubbleEvent:function(t,i,s){var o,a,l=(o=s[0].split(":"))[0],c="nested-change"==s[0],u="change"===l,g=s[1],m=-1,y=i._proxyCalls,w=!(o=o[1])||-1==o.indexOf(p);if(!c&&(w&&(d=v(s[0])||t),e.Associations.EVENTS_NC||f[d]))return e.Associations.EVENTS_WILDCARD&&/\[\*\]/g.test(o)?this:(i instanceof n&&(u||o)&&(m=i.indexOf(h||g)),this instanceof r&&(h=this),o=t+(-1!==m&&(u||o)?"["+m+"]":"")+(o?p+o:""),e.Associations.EVENTS_WILDCARD&&(a=o.replace(/\[\d+\]/g,"[*]")),(c=[]).push.apply(c,s),c[0]=l+":"+o,e.Associations.EVENTS_WILDCARD&&o!==a&&(c[0]=c[0]+" "+l+":"+a),y=i._proxyCalls=y||{},this._isEventAvailable.call(this,y,o)?this:(y[o]=!0,u&&(this._previousAttributes[t]=i._previousAttributes,this.changed[t]=i),this.trigger.apply(this,c),e.Associations.EVENTS_NC&&u&&this.get(o)!=s[2]&&(t=["nested-change",o,s[1]],s[2]&&t.push(s[2]),this.trigger.apply(this,t)),y&&o&&delete y[o],h=void 0,this))},_isEventAvailable:function(t,e){return i.find(t,function(t,i){return-1!==e.indexOf(i,e.length-i.length)})},_createCollection:function(t,e){var r,s=t;if(i.isString(s)&&(s=w(s,e)),!(s&&s.prototype instanceof l||i.isFunction(s)))throw Error("type must inherit from Backbone.AssociatedModel");return(r=new n).model=s,r},_processPendingEvents:function(){this._processedEvents||(this._processedEvents=!0,this._deferEvents=!1,i.each(this._pendingEvents,function(t){t.c.trigger.apply(t.c,t.a)}),this._pendingEvents=[],i.each(this.relations,function(t){(t=this.attributes[t.key])&&t._processPendingEvents()},this),delete this._processedEvents)},trigger:function(){this._deferEvents?(this._pendingEvents=this._pendingEvents||[],this._pendingEvents.push({c:this,a:arguments})):s.trigger.apply(this,arguments)},toJSON:function(t){var e,r={};return r[this.idAttribute]=this.id,this.visited||(this.visited=!0,r=s.toJSON.apply(this,arguments),t&&t.serialize_keys&&(r=i.pick(r,t.serialize_keys)),this.relations&&i.each(this.relations,function(n){var s=n.key,o=n.remoteKey,a=this.attributes[s],l=!n.isTransient;n=n.serialize||[],delete r[s],l&&(n.length&&(t?t.serialize_keys=n:t={serialize_keys:n}),e=a&&a.toJSON?a.toJSON(t):a,r[o||s]=i.isArray(e)?i.compact(e):e)},this),delete this.visited),r},clone:function(t){return new this.constructor(this.toJSON(t))},cleanup:function(){i.each(this.relations,function(t){(t=this.attributes[t.key])&&(t.parents=i.difference(t.parents,[this]))},this),this.off()},_getAttr:function(t){var e,r,s=this;if(t=y(t),!(1>i.size(t))){for(r=0;r<t.length&&(e=t[r],s);r++)s=s instanceof n?isNaN(e)?void 0:s.at(e):s.attributes[e];return s}}});var y=function(t){return""===t?[""]:i.isString(t)?t.match(u):t||[]},v=function(t){return t?1<(t=t.split(":")).length?1<(t=(t=t[t.length-1]).split(p)).length?t[t.length-1].split("[")[0]:t[0].split("[")[0]:"":t},w=function(t,r){var n,s=[r];s.push.apply(s,e.Associations.scopes);for(var o,a=0,l=s.length;a<l&&(!(o=s[a])||!(n=i.reduce(t.split(p),function(t,e){return t[e]},o)));++a);return n},b=function(t,e,r){var n,s;return i.find(t,function(t){if(n=i.find(t.relations,function(i){return t.get(i.key)===e},this))return s=t,!0},this),n&&n.map?n.map.call(s,r,e):r},S={};return i.each(["set","remove","reset"],function(t){S[t]=n.prototype[t],a[t]=function(e){return this.model.prototype instanceof l&&this.parents&&(arguments[0]=b(this.parents,this,e)),S[t].apply(this,arguments)}}),S.trigger=a.trigger,a.trigger=function(){this._deferEvents?(this._pendingEvents=this._pendingEvents||[],this._pendingEvents.push({c:this,a:arguments})):S.trigger.apply(this,arguments)},a._processPendingEvents=l.prototype._processPendingEvents,a.on=l.prototype.on,a.off=l.prototype.off,e}),function(){for(var t,e=function(){},i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=i.length,n=window.console=window.console||{};r--;)n[t=i[r]]||(n[t]=e)}(),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,r,n,s,o,a=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(s=l.length,i=0;i<s;i+=1)o[i]=str(i,l)||"null";return n=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+a+"]":"["+o.join(",")+"]",gap=a,n}if(rep&&"object"==typeof rep)for(s=rep.length,i=0;i<s;i+=1)"string"==typeof rep[i]&&(n=str(r=rep[i],l))&&o.push(quote(r)+(gap?": ":":")+n);else for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(n=str(r,l))&&o.push(quote(r)+(gap?": ":":")+n);return n=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+a+"}":"{"+o.join(",")+"}",gap=a,n}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,i){var r;if(gap="",indent="","number"==typeof i)for(r=0;r<i;r+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,r,n=t[e];if(n&&"object"==typeof n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&((r=walk(n,i))!==undefined?n[i]=r:delete n[i]);return reviver.call(t,e,n)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),
/*!
 * imagesLoaded PACKAGED v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
/*!
 * EventEmitter v4.2.6 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var r=t.prototype,n=this,s=n.EventEmitter;r.getListeners=function(t){var e,i,r=this._getEvents();if("object"==typeof t)for(i in e={},r)r.hasOwnProperty(i)&&t.test(i)&&(e[i]=r[i]);else e=r[t]||(r[t]=[]);return e},r.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},r.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},r.addListener=function(t,i){var r,n=this.getListenersAsObject(t),s="object"==typeof i;for(r in n)n.hasOwnProperty(r)&&-1===e(n[r],i)&&n[r].push(s?i:{listener:i,once:!1});return this},r.on=i("addListener"),r.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},r.once=i("addOnceListener"),r.defineEvent=function(t){return this.getListeners(t),this},r.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},r.removeListener=function(t,i){var r,n,s=this.getListenersAsObject(t);for(n in s)s.hasOwnProperty(n)&&-1!==(r=e(s[n],i))&&s[n].splice(r,1);return this},r.off=i("removeListener"),r.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},r.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},r.manipulateListeners=function(t,e,i){var r,n,s=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(r=i.length;r--;)s.call(this,e,i[r]);else for(r in e)e.hasOwnProperty(r)&&(n=e[r])&&("function"==typeof n?s.call(this,r,n):o.call(this,r,n));return this},r.removeEvent=function(t){var e,i=typeof t,r=this._getEvents();if("string"===i)delete r[t];else if("object"===i)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},r.removeAllListeners=i("removeEvent"),r.emitEvent=function(t,e){var i,r,n,s=this.getListenersAsObject(t);for(n in s)if(s.hasOwnProperty(n))for(r=s[n].length;r--;)!0===(i=s[n][r]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},r.trigger=i("emitEvent"),r.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},r.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=s,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),
/*!
 * eventie v1.0.4
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 */
function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,r=function(){};i.addEventListener?r=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(r=function(t,i,r){t[i+r]=r.handleEvent?function(){var i=e(t);r.handleEvent.call(r,i)}:function(){var i=e(t);r.call(t,i)},t.attachEvent("on"+i,t[i+r])});var n=function(){};i.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(n=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(r){t[e+i]=undefined}});var s={bind:r,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",s):t.eventie=s}(this),
/*!
 * imagesLoaded v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(t,e){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,r){return e(t,i,r)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,i){function r(t,e){for(var i in e)t[i]=e[i];return t}function n(t){return"[object Array]"===h.call(t)}function s(t){var e=[];if(n(t))e=t;else if("number"==typeof t.length)for(var i=0,r=t.length;i<r;i++)e.push(t[i]);else e.push(t);return e}function o(t,e,i){if(!(this instanceof o))return new o(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=s(t),this.options=r({},this.options),"function"==typeof e?i=e:r(this.options,e),i&&this.on("always",i),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var n=this;setTimeout(function(){n.check()})}function a(t){this.img=t}function l(t){this.src=t,d[t]=this}var c=t.jQuery,u=t.console,p=void 0!==u,h=Object.prototype.toString;o.prototype=new e,o.prototype.options={},o.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;t<e;t++){var i=this.elements[t];"IMG"===i.nodeName&&this.addImage(i);var r=i.nodeType;if(r&&(1===r||9===r||11===r))for(var n=i.querySelectorAll("img"),s=0,o=n.length;s<o;s++){var a=n[s];this.addImage(a)}}},o.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},o.prototype.check=function(){function t(t,n){return e.options.debug&&p&&u.log("confirm",t,n),e.progress(t),++i===r&&e.complete(),!0}var e=this,i=0,r=this.images.length;if(this.hasAnyBroken=!1,r)for(var n=0;n<r;n++){var s=this.images[n];s.on("confirm",t),s.check()}else this.complete()},o.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var i=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[i](e)}})},c&&(c.fn.imagesLoaded=function(t,e){return new o(this,t,e).jqDeferred.promise(c(this))}),a.prototype=new e,a.prototype.check=function(){var t=d[this.img.src]||new l(this.img.src);if(t.isConfirmed)this.confirm(t.isLoaded,"cached was confirmed");else if(this.img.complete&&this.img.naturalWidth!==undefined)this.confirm(0!==this.img.naturalWidth,"naturalWidth");else{var e=this;t.on("confirm",function(t,i){return e.confirm(t.isLoaded,i),!0}),t.check()}},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var d={};return l.prototype=new e,l.prototype.check=function(){if(!this.isChecked){var t=new Image;i.bind(t,"load",this),i.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},l.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},l.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},l.prototype.unbindProxyEvents=function(t){i.unbind(t.target,"load",this),i.unbind(t.target,"error",this)},o}),
/**
 * jQuery Grid-A-Licious(tm) v3.01
 *
 * Terms of Use - jQuery Grid-A-Licious(tm)
 * under the MIT (http://www.opensource.org/licenses/mit-license.php) License.
 *
 * Copyright 2008-2012 Andreas Pihlstrm (Suprb). All rights reserved.
 * (http://suprb.com/apps/gridalicious/)
 *
 */
function(t,e){var i=function(t,e,i){var r;return function(){function n(){i||t.apply(s,o),r=null}var s=this,o=arguments;r?clearTimeout(r):i&&t.apply(s,o),r=setTimeout(n,e||150)}};jQuery.fn[e]=function(t){return t?this.bind("resize",i(t)):this.trigger(e)}}(jQuery,"smartresize"),function(t){t.Gal=function(e,i){this.element=t(i),this._init(e)},t.Gal.settings={selector:".item",width:225,gutter:20,animate:!1,columns:3,animationOptions:{speed:200,duration:300,effect:"fadeInOnAppear",queue:!0,complete:function(){}}},t.Gal.prototype={_init:function(e){var i=this;this.name=this._setName(5),this.gridArr=[],this.gridArrAppend=[],this.gridArrPrepend=[],this.setArr=!1,this.setGrid=!1,this.setOptions,this.cols=0,this.itemCount=0,this.prependCount=0,this.isPrepending=!1,this.appendCount=0,this.resetCount=!0,this.ifCallback=!0,this.box=this.element,this.options=t.extend(!0,{},t.Gal.settings,e),this.gridArr=t.makeArray(this.box.find(this.options.selector)),this.isResizing=!1,this.w=0,this.boxArr=[],this.initialWidth=this.box.width(),this._setCols(),this._renderGrid("append"),t(this.box).addClass("gridalicious"),this._addLoadMore(),t(window).smartresize(function(){i.resize()})},_addLoadMore:function(){var e=t("<a href='#'>Load More</a>").addClass("j-paginate juicer-button");this.box.append(e)},_moveLoadMore:function(){var t=this.box.find(".j-paginate");t.length>0&&this.box.append(t.detach())},_setName:function(t,e){return e=e||"",t?this._setName(--t,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".charAt(Math.floor(60*Math.random()))+e):e},_setCols:function(){this.calculated=Math.floor(this.box.outerWidth()/this.options.width),this.cols=Math.min(this.options.columns,this.calculated),this.cols<1&&(this.cols=1),diff=(this.box.width()-this.cols*this.options.width)/this.cols,w=(this.options.width+diff)/this.box.width()*100,this.w=w,this.spacing=this.options.gutter/this.cols;for(var e=t("<div></div>").addClass("j-stacker-wrapper").css({marginLeft:-this.options.gutter/2,marginRight:-this.options.gutter/2}),i=t("<div></div>").addClass("j-stacker"),r=0;r<this.cols;r++){var n=t("<div></div>").addClass("j-stack galcolumn column-"+r+"-"+this.name).attr("id","j-column-"+r).css({width:w+"%",paddingLeft:this.options.gutter/2,paddingRight:this.options.gutter/2});i.append(n)}e.append(i),this.box.append(e),this.box.find(t("#clear"+this.name)).remove();var s=t("<div></div>").css({clear:"both",height:"0",width:"0",display:"block"}).attr("id","clear"+this.name);this.box.append(s)},_renderGrid:function(e,i,r){var n=[],s=[],o=0,a=(this.prependCount,this.appendCount),l=this.options.gutter,c=this.cols,u=this.name;t(".j-stack").width();i?(s=i,"append"==e&&(a+=r,o=this.appendCount),"prepend"==e&&(this.isPrepending=!0,(o=Math.round(r%c))<=0&&(o=c)),"renderAfterPrepend"==e&&(a+=r,o=r)):(s=this.gridArr,a=t(this.gridArr).length),t.each(s,function(i,r){var s=t(r),p="100%";s.hasClass("not-responsive")&&(p="auto"),s.css({marginBottom:l,zoom:"1"}).find(".j-image img, object, embed, iframe").css({width:p,height:"auto",display:"block","margin-left":"auto","margin-right":"auto"}),"prepend"==e?(t(".column-"+--o+"-"+u).prepend(s),n.push(s),0==o&&(o=c)):(t(".column-"+o+"-"+u).append(s),n.push(s),++o>=c&&(o=0),a>=c&&(a-=c))}),this.appendCount=a,this.itemCount=o,"append"==e||"prepend"==e?("prepend"==e&&this._updateAfterPrepend(this.gridArr,s),this._renderItem(n),this.isPrepending=!1):this._renderItem(this.gridArr)},_collectItems:function(){var e=[];return t(this.box).find(this.options.selector).each(function(){e.push(t(this))}),e},_renderItem:function(e){var i=this.options.animationOptions.speed,r=this.options.animationOptions.effect,n=this.options.animationOptions.duration,s=this.options.animationOptions.queue,o=this.options.animate,a=this.options.animationOptions.complete,l=0,c=0;!0!==o||this.isResizing?(t.each(e,function(e,i){t(i).css({opacity:"1"})}),this.ifCallback&&a.call(e)):(!0===s&&"fadeInOnAppear"==r?(this.isPrepending&&e.reverse(),t.each(e,function(r,s){setTimeout(function(){t(s).animate({opacity:"1.0"},n),++c==e.length&&a.call(undefined,e)},l*i),l++})):!1===s&&"fadeInOnAppear"==r&&(this.isPrepending&&e.reverse(),t.each(e,function(i,r){t(r).animate({opacity:"1.0"},n),++c==e.length&&this.ifCallback&&a.call(undefined,e)})),!0!==s||r||t.each(e,function(i,r){t(r).css({opacity:"1"}),++c==e.length&&this.ifCallback&&a.call(undefined,e)}))},_updateAfterPrepend:function(e,i){var r=this.gridArr;t.each(i,function(t,e){r.unshift(e)}),this.gridArr=r},resize:function(){this.box.width()!=this.initialWidth&&(this.initialWidth=this.box.width(),this.box.find(t(".j-stacker-wrapper")).remove(),this._setCols(),this._moveLoadMore(),this.ifCallback=!1,this.isResizing=!0,this._renderGrid("append"),this.ifCallback=!0,this.isResizing=!1)},append:function(e){var i=this.gridArr,r=this.gridArrPrepend;t.each(e,function(t,e){i.push(e),r.push(e)}),this._renderGrid("append",e,t(e).length),this._addLoadMore()},prepend:function(e){this.ifCallback=!1,this._renderGrid("prepend",e,t(e).length),this.ifCallback=!0}},t.fn.gridalicious=function(e,i){return"string"==typeof e?this.each(function(){var r=t.data(this,"gridalicious");r[e].apply(r,[i])}):this.each(function(){t.data(this,"gridalicious",new t.Gal(e,this))}),this}}(jQuery),function(){function t(t){return(t||"").split(" ")}function e(t,e,i){return s(t,e,i)}function i(t,e,i,r){return"number"!=typeof i&&"string"!=typeof i||null!=r||(r=i,i=undefined),s(t,e,i,{timezone:r})}function r(t,e,i){return s(t,e,i,{utc:!0})}function n(t){return function(i,r,n){return e(i,r,t,n)}}function s(t,e,i,r){r=r||{},e&&!a(e)&&(i=e,e=undefined),e=e||new Date,(i=i||d).formats=i.formats||{};var n=e.getTime(),h=r.timezone,f=typeof h;if((r.utc||"number"==f||"string"==f)&&(e=o(e)),h){if("string"==f){var g="-"==h[0]?-1:1,m=parseInt(h.slice(1,3),10),y=parseInt(h.slice(3,5),10);h=g*(60*m+y)}f&&(e=new Date(e.getTime()+6e4*h))}return t.replace(/%([-_0]?.)/g,function(t,o){var a,d;if(2==o.length){if("-"==(a=o[0]))d="";else if("_"==a)d=" ";else{if("0"!=a)return t;d="0"}o=o[1]}switch(o){case"A":return i.days[e.getDay()];case"a":return i.shortDays[e.getDay()];case"B":return i.months[e.getMonth()];case"b":return i.shortMonths[e.getMonth()];case"C":return l(Math.floor(e.getFullYear()/100),d);case"D":return s(i.formats.D||"%m/%d/%y",e,i);case"d":return l(e.getDate(),d);case"e":return l(e.getDate(),null==d?" ":d);case"F":return s(i.formats.F||"%Y-%m-%d",e,i);case"H":return l(e.getHours(),d);case"h":return i.shortMonths[e.getMonth()];case"I":return l(c(e),d);case"j":var f=new Date(e.getFullYear(),0,1);return l(g=Math.ceil((e.getTime()-f.getTime())/864e5),3);case"k":return l(e.getHours(),null==d?" ":d);case"L":return l(Math.floor(n%1e3),3);case"l":return l(c(e),null==d?" ":d);case"M":return l(e.getMinutes(),d);case"m":return l(e.getMonth()+1,d);case"n":return"\n";case"o":return String(e.getDate())+u(e.getDate());case"P":return e.getHours()<12?i.am:i.pm;case"p":return e.getHours()<12?i.AM:i.PM;case"R":return s(i.formats.R||"%H:%M",e,i);case"r":return s(i.formats.r||"%I:%M:%S %p",e,i);case"S":return l(e.getSeconds(),d);case"s":return Math.floor(n/1e3);case"T":return s(i.formats.T||"%H:%M:%S",e,i);case"t":return"\t";case"U":return l(p(e,"sunday"),d);case"u":var g;return 0==(g=e.getDay())?7:g;case"v":return s(i.formats.v||"%e-%b-%Y",e,i);case"W":return l(p(e,"monday"),d);case"w":return e.getDay();case"Y":return e.getFullYear();case"y":return(f=String(e.getFullYear())).slice(f.length-2);case"Z":if(r.utc)return"GMT";var m=e.toString().match(/\(([\w\s]+)\)/);return m&&m[1]||"";case"z":if(r.utc)return"+0000";var y="number"==typeof h?h:-e.getTimezoneOffset();return(y<0?"-":"+")+l(Math.floor(Math.abs(y)/60))+l(Math.abs(y)%60);default:return o}})}function o(t){var e=6e4*(t.getTimezoneOffset()||0);return new Date(t.getTime()+e)}function a(t){var e=0,i=f.length;for(e=0;e<i;++e)if("function"!=typeof t[f[e]])return!1;return!0}function l(t,e,i){"number"==typeof e&&(i=e,e="0"),null==e&&(e="0"),i=i||2;var r=String(t);if(e)for(;r.length<i;)r=e+r;return r}function c(t){var e=t.getHours();return 0==e?e=12:e>12&&(e-=12),e}function u(t){var e=t%10,i=t%100;if(i>=11&&i<=13||0===e||e>=4)return"th";switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd"}}function p(t,e){e=e||"sunday";var i=t.getDay();"monday"==e&&(0==i?i=6:i--);var r=((t-new Date(t.getFullYear(),0,1))/864e5+7-i)/7;return Math.floor(r)}var h;h="undefined"!=typeof module?module.exports=e:function(){return this||(0,eval)("this")}();var d={days:t("Sunday Monday Tuesday Wednesday Thursday Friday Saturday"),shortDays:t("Sun Mon Tue Wed Thu Fri Sat"),months:t("January February March April May June July August September October November December"),shortMonths:t("Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec"),AM:"AM",PM:"PM",am:"am",pm:"pm"};h.strftime=e,h.strftimeTZ=e.strftimeTZ=i,h.strftimeUTC=e.strftimeUTC=r,h.localizedStrftime=e.localizedStrftime=n;var f=["getTime","getTimezoneOffset","getDay","getDate","getMonth","getFullYear","getYear","getHours","getMinutes","getSeconds"]}(),function(){var t,e=[].slice;t=function(){var t,i,r,n,s,o;return s=/(^|[\s\n]|<br\/?>)((?:https?|ftp):\/\/[\-A-Z0-9+\u0026\u2019@#\/%?=()~_|!:,.;]*[\-A-Z0-9+\u0026@#\/%=~()_|])/gi,(n=1<=arguments.length?e.call(arguments,0):[]).length>0?(r=n[0],i=function(){var e;for(t in e=[],r)o=r[t],"callback"!==t&&e.push(" "+t+"='"+o+"'");return e}().join(""),this.replace(s,function(t,e,n){return""+e+(("function"==typeof r.callback?r.callback(n):void 0)||"<a href='"+n+"'"+i+">"+n+"</a>")})):this.replace(s,"$1<a href='$2'>$2</a>")},String.prototype.autoLink=t}.call(this),
/*!
 * Packery PACKAGED v2.0.0
 * Gapless, draggable grid layouts
 *
 * Licensed GPLv3 for open source use
 * or Packery Commercial License for commercial use
 *
 * http://packery.metafizzy.co
 * Copyright 2016 Metafizzy
 */
Object.create||(Object.create=function(t,e){function i(){}if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(void 0!==e)throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");return i.prototype=t,new i}),function(t,e){"use strict";t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,s,a){function l(t,e,r){var n,s="$()."+i+'("'+e+'")';return t.each(function(t,l){var c=a.data(l,i);if(c){var u=c[e];if(u&&"_"!=e.charAt(0)){var p=u.apply(c,r);n=n===undefined?p:n}else o(s+" is not a valid method")}else o(i+" not initialized. Cannot call methods, i.e. "+s)}),n!==undefined?n:t}function c(t,e){t.each(function(t,r){var n=a.data(r,i);n?(n.option(e),n._init()):(n=new s(r,e),a.data(r,i,n))})}(a=a||e||t.jQuery)&&(s.prototype.option||(s.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){return"string"==typeof t?l(this,t,n.call(arguments,1)):(c(this,t),this)},r(a))}function r(t){!t||t&&t.bridget||(t.bridget=i)}var n=Array.prototype.slice,s=t.console,o=void 0===s?function(){}:function(t){s.error(t)};return r(e||t.jQuery),i}),
/*!
 * getWindowSize v2.0.2
 * measure size of elements
 * MIT license
 */
function(){}