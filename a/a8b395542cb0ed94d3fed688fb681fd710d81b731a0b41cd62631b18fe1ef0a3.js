if(!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=fa.type(a);return"function"!==c&&!fa.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a))}function d(a,b,c){if(fa.isFunction(b))return fa.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return fa.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(na.test(b))return fa.filter(b,a,c);b=fa.filter(b,a)}return fa.grep(a,function(a){return fa.inArray(a,b)>=0!==c})}function e(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function f(a){var b=va[a]={};return fa.each(a.match(ua)||[],function(a,c){b[c]=!0}),b}function g(){pa.addEventListener?(pa.removeEventListener("DOMContentLoaded",h,!1),a.removeEventListener("load",h,!1)):(pa.detachEvent("onreadystatechange",h),a.detachEvent("onload",h))}function h(){(pa.addEventListener||"load"===event.type||"complete"===pa.readyState)&&(g(),fa.ready())}function i(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(Aa,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:za.test(c)?fa.parseJSON(c):c)}catch(e){}fa.data(a,b,c)}else c=void 0}return c}function j(a){var b;for(b in a)if(("data"!==b||!fa.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function k(a,b,c,d){if(fa.acceptData(a)){var e,f,g=fa.expando,h=a.nodeType,i=h?fa.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b)return j||(j=h?a[g]=W.pop()||fa.guid++:g),i[j]||(i[j]=h?{}:{toJSON:fa.noop}),("object"==typeof b||"function"==typeof b)&&(d?i[j]=fa.extend(i[j],b):i[j].data=fa.extend(i[j].data,b)),f=i[j],d||(f.data||(f.data={}),f=f.data),void 0!==c&&(f[fa.camelCase(b)]=c),"string"==typeof b?(e=f[b],null==e&&(e=f[fa.camelCase(b)])):e=f,e}}function l(a,b,c){if(fa.acceptData(a)){var d,e,f=a.nodeType,g=f?fa.cache:a,h=f?a[fa.expando]:fa.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){fa.isArray(b)?b=b.concat(fa.map(b,fa.camelCase)):b in d?b=[b]:(b=fa.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!j(d):!fa.isEmptyObject(d))return}(c||(delete g[h].data,j(g[h])))&&(f?fa.cleanData([a],!0):da.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function m(){return!0}function n(){return!1}function o(){try{return pa.activeElement}catch(a){}}function p(a){var b=La.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function q(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==ya?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==ya?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||fa.nodeName(d,b)?f.push(d):fa.merge(f,q(d,b));return void 0===b||b&&fa.nodeName(a,b)?fa.merge([a],f):f}function r(a){Fa.test(a.type)&&(a.defaultChecked=a.checked)}function s(a,b){return fa.nodeName(a,"table")&&fa.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function t(a){return a.type=(null!==fa.find.attr(a,"type"))+"/"+a.type,a}function u(a){var b=Wa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function v(a,b){for(var c,d=0;null!=(c=a[d]);d++)fa._data(c,"globalEval",!b||fa._data(b[d],"globalEval"))}function w(a,b){if(1===b.nodeType&&fa.hasData(a)){var c,d,e,f=fa._data(a),g=fa._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)fa.event.add(b,c,h[c][d])}g.data&&(g.data=fa.extend({},g.data))}}function x(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!da.noCloneEvent&&b[fa.expando]){e=fa._data(b);for(d in e.events)fa.removeEvent(b,d,e.handle);b.removeAttribute(fa.expando)}"script"===c&&b.text!==a.text?(t(b).text=a.text,u(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),da.html5Clone&&a.innerHTML&&!fa.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Fa.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function y(b,c){var d=fa(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:fa.css(d[0],"display");return d.detach(),e}function z(a){var b=pa,c=ab[a];return c||(c=y(a,b),"none"!==c&&c||(_a=(_a||fa("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(_a[0].contentWindow||_a[0].contentDocument).document,b.write(),b.close(),c=y(a,b),_a.detach()),ab[a]=c),c}function A(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}function B(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=nb.length;e--;)if(b=nb[e]+c,b in a)return b;return d}function C(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=fa._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Da(d)&&(f[g]=fa._data(d,"olddisplay",z(d.nodeName)))):f[g]||(e=Da(d),(c&&"none"!==c||!e)&&fa._data(d,"olddisplay",e?c:fa.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function D(a,b,c){var d=jb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=fa.css(a,c+Ca[f],!0,e)),d?("content"===c&&(g-=fa.css(a,"padding"+Ca[f],!0,e)),"margin"!==c&&(g-=fa.css(a,"border"+Ca[f]+"Width",!0,e))):(g+=fa.css(a,"padding"+Ca[f],!0,e),"padding"!==c&&(g+=fa.css(a,"border"+Ca[f]+"Width",!0,e)));return g}function F(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=bb(a),g=da.boxSizing()&&"border-box"===fa.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=cb(a,b,f),(0>e||null==e)&&(e=a.style[b]),eb.test(e))return e;d=g&&(da.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+E(a,b,c||(g?"border":"content"),d,f)+"px"}function G(a,b,c,d,e){return new G.prototype.init(a,b,c,d,e)}function H(){return setTimeout(function(){ob=void 0}),ob=fa.now()}function I(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=Ca[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function J(a,b,c){for(var d,e=(ub[b]||[]).concat(ub["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function K(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Da(a),p=fa._data(a,"fxshow");c.queue||(h=fa._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,fa.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=fa.css(a,"display"),k=z(a.nodeName),"none"===j&&(j=k),"inline"===j&&"none"===fa.css(a,"float")&&(da.inlineBlockNeedsLayout&&"inline"!==k?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",da.shrinkWrapBlocks()||l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],qb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||fa.style(a,d)}if(!fa.isEmptyObject(m)){p?"hidden"in p&&(o=p.hidden):p=fa._data(a,"fxshow",{}),f&&(p.hidden=!o),o?fa(a).show():l.done(function(){fa(a).hide()}),l.done(function(){var b;fa._removeData(a,"fxshow");for(b in m)fa.style(a,b,m[b])});for(d in m)g=J(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function L(a,b){var c,d,e,f,g;for(c in a)if(d=fa.camelCase(c),e=b[d],f=a[c],fa.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=fa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function M(a,b,c){var d,e,f=0,g=tb.length,h=fa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=ob||H(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:fa.extend({},b),opts:fa.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:ob||H(),duration:c.duration,tweens:[],createTween:function(b,c){var d=fa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(L(k,j.opts.specialEasing);g>f;f++)if(d=tb[f].call(j,a,k,j.opts))return d;return fa.map(k,J,j),fa.isFunction(j.opts.start)&&j.opts.start.call(a,j),fa.fx.timer(fa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function N(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ua)||[];if(fa.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function O(a,b,c,d){function e(h){var i;return f[h]=!0,fa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Sb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function P(a,b){var c,d,e=fa.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&fa.extend(!0,a,c),a}function Q(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function R(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function S(a,b,c,d){var e;if(fa.isArray(b))fa.each(b,function(b,e){c||Wb.test(a)?d(a,e):S(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==fa.type(b))d(a,b);else for(e in b)S(a+"["+e+"]",b[e],c,d)}function T(){try{return new a.XMLHttpRequest}catch(b){}}function U(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function V(a){return fa.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var W=[],X=W.slice,Y=W.concat,Z=W.push,$=W.indexOf,_={},aa=_.toString,ba=_.hasOwnProperty,ca="".trim,da={},ea="1.11.0",fa=function(a,b){return new fa.fn.init(a,b)},ga=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ha=/^-ms-/,ia=/-([\da-z])/gi,ja=function(a,b){return b.toUpperCase()};fa.fn=fa.prototype={jquery:ea,constructor:fa,selector:"",length:0,toArray:function(){return X.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:X.call(this)},pushStack:function(a){var b=fa.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return fa.each(this,a,b)},map:function(a){return this.pushStack(fa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:W.sort,splice:W.splice},fa.extend=fa.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||fa.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(fa.isPlainObject(c)||(b=fa.isArray(c)))?(b?(b=!1,f=a&&fa.isArray(a)?a:[]):f=a&&fa.isPlainObject(a)?a:{},g[d]=fa.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},fa.extend({expando:"jQuery"+(ea+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===fa.type(a)},isArray:Array.isArray||function(a){return"array"===fa.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==fa.type(a)||a.nodeType||fa.isWindow(a))return!1;try{if(a.constructor&&!ba.call(a,"constructor")&&!ba.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(da.ownLast)for(b in a)return ba.call(a,b);for(b in a);return void 0===b||ba.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?_[aa.call(a)]||"object":typeof a},globalEval:function(b){b&&fa.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ha,"ms-").replace(ia,ja)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:ca&&!ca.call("\ufeff ")?function(a){return null==a?"":ca.call(a)}:function(a){return null==a?"":(a+"").replace(ga,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?fa.merge(d,"string"==typeof a?[a]:a):Z.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if($)return $.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return Y.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(e=a[b],b=a,a=e),fa.isFunction(a)?(c=X.call(arguments,2),d=function(){return a.apply(b||this,c.concat(X.call(arguments)))},d.guid=a.guid=a.guid||fa.guid++,d):void 0},now:function(){return+new Date},support:da}),fa.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){_["[object "+b+"]"]=b.toLowerCase()});var ka=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,o,p,q;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=sa.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return _.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return _.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(o=l=N,p=b,q=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(l=b.getAttribute("id"))?o=l.replace(ua,"\\$&"):b.setAttribute("id",o),o="[id='"+o+"'] ",i=j.length;i--;)j[i]=o+n(j[i]);p=ta.test(a)&&k(b.parentNode)||b,q=j.join(",")}if(q)try{return _.apply(c,p.querySelectorAll(q)),c}catch(r){}finally{l||b.removeAttribute("id")}}}return v(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>y.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)y.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&typeof a.getElementsByTagName!==V&&a}function l(){}function m(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=y.preFilter;h;){(!d||(e=ja.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in y.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=d||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!d&&b?p:q(p,m,a,h,i),s=c?f||(d?a:o||e)?[]:g:r;if(c&&c(r,s,h,i),e)for(j=q(s,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?ba.call(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):_.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=y.relative[a[0].type],g=f||y.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return ba.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=y.relative[a[h].type])k=[o(p(k),c)];else{if(c=y.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!y.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&y.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Z.call(i));r=q(r)}_.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}function u(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&y.relative[f[1].type]){if(b=(y.find.ID(g.matches[0].replace(va,wa),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!y.relative[h=g.type]);)if((i=y.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return _.apply(c,d),c;break}}return B(a,j)(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V="undefined",W=1<<31,X={}.hasOwnProperty,Y=[],Z=Y.pop,$=Y.push,_=Y.push,aa=Y.slice,ba=Y.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},ca="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",da="[\\x20\\t\\r\\n\\f]",ea="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fa=ea.replace("w","w#"),ga="\\["+da+"*("+ea+")"+da+"*(?:([*^$|!~]?=)"+da+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+fa+")|)|)"+da+"*\\]",ha=":("+ea+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ga.replace(3,8)+")*)|.*)\\)|)",ia=new RegExp("^"+da+"+|((?:^|[^\\\\])(?:\\\\.)*)"+da+"+$","g"),ja=new RegExp("^"+da+"*,"+da+"*"),ka=new RegExp("^"+da+"*([>+~]|"+da+")"+da+"*"),la=new RegExp("="+da+"*([^\\]'\"]*?)"+da+"*\\]","g"),ma=new RegExp(ha),na=new RegExp("^"+fa+"$"),oa={ID:new RegExp("^#("+ea+")"),CLASS:new RegExp("^\\.("+ea+")"),TAG:new RegExp("^("+ea.replace("w","w*")+")"),ATTR:new RegExp("^"+ga),PSEUDO:new RegExp("^"+ha),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+da+"*(even|odd|(([+-]|)(\\d*)n|)"+da+"*(?:([+-]|)"+da+"*(\\d+)|))"+da+"*\\)|)","i"),bool:new RegExp("^(?:"+ca+")$","i"),needsContext:new RegExp("^"+da+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+da+"*((?:-\\d)?\\d*)"+da+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+da+"?|("+da+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{_.apply(Y=aa.call(O.childNodes),O.childNodes),Y[O.childNodes.length].nodeType}catch(xa){_={apply:Y.length?function(a,b){$.apply(a,aa.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}x=b.support={},A=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},F=b.setDocument=function(a){var b,c=a?a.ownerDocument||a:O,d=c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,H=c.documentElement,I=!A(c),d&&d!==d.top&&(d.addEventListener?d.addEventListener("unload",function(){F()},!1):d.attachEvent&&d.attachEvent("onunload",function(){F()})),x.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=e(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=ra.test(c.getElementsByClassName)&&e(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=e(function(a){return H.appendChild(a).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),x.getById?(y.find.ID=function(a,b){if(typeof b.getElementById!==V&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},y.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete y.find.ID,y.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}),y.find.TAG=x.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==V?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},y.find.CLASS=x.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==V&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(x.qsa=ra.test(c.querySelectorAll))&&(e(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+da+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+da+"*(?:value|"+ca+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),e(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+da+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=ra.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ha)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!x.sortDetached&&b.compareDocumentPosition(a)===d?a===c||a.ownerDocument===O&&M(O,a)?-1:b===c||b.ownerDocument===O&&M(O,b)?1:D?ba.call(D,a)-ba.call(D,b):0:4&d?-1:1)}:function(a,b){if(a===b)return E=!0,0;var d,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===c?-1:b===c?1:f?-1:h?1:D?ba.call(D,a)-ba.call(D,b):0;if(f===h)return g(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},c):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),!(!x.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=y.attrHandle[b.toLowerCase()],d=c&&X.call(y.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:x.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!x.detectDuplicates,D=!x.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},z=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=z(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=z(b);return c},y=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&ma.test(c)&&(b=m(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+da+")"+a+"("+da+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=y.pseudos[a]||y.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],y.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=ba.call(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=B(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return function(b){return(b.textContent||b.innerText||z(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!y.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){
return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},y.pseudos.nth=y.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[w]=h(w);for(w in{submit:!0,reset:!0})y.pseudos[w]=i(w);return l.prototype=y.filters=y.pseudos,y.setFilters=new l,B=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(U).join("")===N,x.detectDuplicates=!!E,F(),x.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),x.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ca,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);fa.find=ka,fa.expr=ka.selectors,fa.expr[":"]=fa.expr.pseudos,fa.unique=ka.uniqueSort,fa.text=ka.getText,fa.isXMLDoc=ka.isXML,fa.contains=ka.contains;var la=fa.expr.match.needsContext,ma=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,na=/^.[^:#\[\.,]*$/;fa.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?fa.find.matchesSelector(d,a)?[d]:[]:fa.find.matches(a,fa.grep(b,function(a){return 1===a.nodeType}))},fa.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(fa(a).filter(function(){for(b=0;e>b;b++)if(fa.contains(d[b],this))return!0}));for(b=0;e>b;b++)fa.find(a,d[b],c);return c=this.pushStack(e>1?fa.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&la.test(a)?fa(a):a||[],!1).length}});var oa,pa=a.document,qa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ra=fa.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:qa.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||oa).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof fa?b[0]:b,fa.merge(this,fa.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:pa,!0)),ma.test(c[1])&&fa.isPlainObject(b))for(c in b)fa.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=pa.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return oa.find(a);this.length=1,this[0]=d}return this.context=pa,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):fa.isFunction(a)?"undefined"!=typeof oa.ready?oa.ready(a):a(fa):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),fa.makeArray(a,this))};ra.prototype=fa.fn,oa=fa(pa);var sa=/^(?:parents|prev(?:Until|All))/,ta={children:!0,contents:!0,next:!0,prev:!0};fa.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!fa(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),fa.fn.extend({has:function(a){var b,c=fa(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(fa.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=la.test(a)||"string"!=typeof a?fa(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&fa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?fa.unique(f):f)},index:function(a){return a?"string"==typeof a?fa.inArray(this[0],fa(a)):fa.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(fa.unique(fa.merge(this.get(),fa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),fa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return fa.dir(a,"parentNode")},parentsUntil:function(a,b,c){return fa.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return fa.dir(a,"nextSibling")},prevAll:function(a){return fa.dir(a,"previousSibling")},nextUntil:function(a,b,c){return fa.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return fa.dir(a,"previousSibling",c)},siblings:function(a){return fa.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return fa.sibling(a.firstChild)},contents:function(a){return fa.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:fa.merge([],a.childNodes)}},function(a,b){fa.fn[a]=function(c,d){var e=fa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=fa.filter(d,e)),this.length>1&&(ta[a]||(e=fa.unique(e)),sa.test(a)&&(e=e.reverse())),this.pushStack(e)}});var ua=/\S+/g,va={};fa.Callbacks=function(a){a="string"==typeof a?va[a]||f(a):fa.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(c=a.memory&&f,d=!0,g=h||0,h=0,e=i.length,b=!0;i&&e>g;g++)if(i[g].apply(f[0],f[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var d=i.length;!function f(b){fa.each(b,function(b,c){var d=fa.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=i.length:c&&(h=d,k(c))}return this},remove:function(){return i&&fa.each(arguments,function(a,c){for(var d;(d=fa.inArray(c,i,d))>-1;)i.splice(d,1),b&&(e>=d&&e--,g>=d&&g--)}),this},has:function(a){return a?fa.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],e=0,this},disable:function(){return i=j=c=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,c){return!i||d&&!j||(c=c||[],c=[a,c.slice?c.slice():c],b?j.push(c):k(c)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},fa.extend({Deferred:function(a){var b=[["resolve","done",fa.Callbacks("once memory"),"resolved"],["reject","fail",fa.Callbacks("once memory"),"rejected"],["notify","progress",fa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return fa.Deferred(function(c){fa.each(b,function(b,f){var g=fa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&fa.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?fa.extend(a,d):d}},e={};return d.pipe=d.then,fa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=X.call(arguments),g=f.length,h=1!==g||a&&fa.isFunction(a.promise)?g:0,i=1===h?a:fa.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?X.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&fa.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var wa;fa.fn.ready=function(a){return fa.ready.promise().done(a),this},fa.extend({isReady:!1,readyWait:1,holdReady:function(a){a?fa.readyWait++:fa.ready(!0)},ready:function(a){if(a===!0?!--fa.readyWait:!fa.isReady){if(!pa.body)return setTimeout(fa.ready);fa.isReady=!0,a!==!0&&--fa.readyWait>0||(wa.resolveWith(pa,[fa]),fa.fn.trigger&&fa(pa).trigger("ready").off("ready"))}}}),fa.ready.promise=function(b){if(!wa)if(wa=fa.Deferred(),"complete"===pa.readyState)setTimeout(fa.ready);else if(pa.addEventListener)pa.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1);else{pa.attachEvent("onreadystatechange",h),a.attachEvent("onload",h);var c=!1;try{c=null==a.frameElement&&pa.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!fa.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}g(),fa.ready()}}()}return wa.promise(b)};var xa,ya="undefined";for(xa in fa(da))break;da.ownLast="0"!==xa,da.inlineBlockNeedsLayout=!1,fa(function(){var a,b,c=pa.getElementsByTagName("body")[0];c&&(a=pa.createElement("div"),a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b=pa.createElement("div"),c.appendChild(a).appendChild(b),typeof b.style.zoom!==ya&&(b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(da.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)),c.removeChild(a),a=b=null)}),function(){var a=pa.createElement("div");if(null==da.deleteExpando){da.deleteExpando=!0;try{delete a.test}catch(b){da.deleteExpando=!1}}a=null}(),fa.acceptData=function(a){var b=fa.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return(1===c||9===c)&&(!b||b!==!0&&a.getAttribute("classid")===b)};var za=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Aa=/([A-Z])/g;fa.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?fa.cache[a[fa.expando]]:a[fa.expando],!!a&&!j(a)},data:function(a,b,c){return k(a,b,c)},removeData:function(a,b){return l(a,b)},_data:function(a,b,c){return k(a,b,c,!0)},_removeData:function(a,b){return l(a,b,!0)}}),fa.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=fa.data(f),1===f.nodeType&&!fa._data(f,"parsedAttrs"))){for(c=g.length;c--;)d=g[c].name,0===d.indexOf("data-")&&(d=fa.camelCase(d.slice(5)),i(f,d,e[d]));fa._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){fa.data(this,a)}):arguments.length>1?this.each(function(){fa.data(this,a,b)}):f?i(f,a,fa.data(f,a)):void 0},removeData:function(a){return this.each(function(){fa.removeData(this,a)})}}),fa.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=fa._data(a,b),c&&(!d||fa.isArray(c)?d=fa._data(a,b,fa.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=fa.queue(a,b),d=c.length,e=c.shift(),f=fa._queueHooks(a,b),g=function(){fa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return fa._data(a,c)||fa._data(a,c,{empty:fa.Callbacks("once memory").add(function(){fa._removeData(a,b+"queue"),fa._removeData(a,c)})})}}),fa.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?fa.queue(this[0],a):void 0===b?this:this.each(function(){var c=fa.queue(this,a,b);fa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&fa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){fa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=fa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=fa._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Ba=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ca=["Top","Right","Bottom","Left"],Da=function(a,b){return a=b||a,"none"===fa.css(a,"display")||!fa.contains(a.ownerDocument,a)},Ea=fa.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===fa.type(c)){e=!0;for(h in c)fa.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,fa.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(fa(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Fa=/^(?:checkbox|radio)$/i;!function(){var a=pa.createDocumentFragment(),b=pa.createElement("div"),c=pa.createElement("input");if(b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a>",da.leadingWhitespace=3===b.firstChild.nodeType,da.tbody=!b.getElementsByTagName("tbody").length,da.htmlSerialize=!!b.getElementsByTagName("link").length,da.html5Clone="<:nav></:nav>"!==pa.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,a.appendChild(c),da.appendChecked=c.checked,b.innerHTML="<textarea>x</textarea>",da.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",da.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,da.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){da.noCloneEvent=!1}),b.cloneNode(!0).click()),null==da.deleteExpando){da.deleteExpando=!0;try{delete b.test}catch(d){da.deleteExpando=!1}}a=b=c=null}(),function(){var b,c,d=pa.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(da[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),da[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var Ga=/^(?:input|select|textarea)$/i,Ha=/^key/,Ia=/^(?:mouse|contextmenu)|click/,Ja=/^(?:focusinfocus|focusoutblur)$/,Ka=/^([^.]*)(?:\.(.+)|)$/;fa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=fa._data(a);if(q){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=fa.guid++),(g=q.events)||(g=q.events={}),(k=q.handle)||(k=q.handle=function(a){return typeof fa===ya||a&&fa.event.triggered===a.type?void 0:fa.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(ua)||[""],h=b.length;h--;)f=Ka.exec(b[h])||[],n=p=f[1],o=(f[2]||"").split(".").sort(),n&&(j=fa.event.special[n]||{},n=(e?j.delegateType:j.bindType)||n,j=fa.event.special[n]||{},l=fa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&fa.expr.match.needsContext.test(e),namespace:o.join(".")},i),(m=g[n])||(m=g[n]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,o,k)!==!1||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),fa.event.global[n]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=fa.hasData(a)&&fa._data(a);if(q&&(k=q.events)){for(b=(b||"").match(ua)||[""],j=b.length;j--;)if(h=Ka.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=fa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||fa.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)fa.event.remove(a,n+b[j],c,d,!0);fa.isEmptyObject(k)&&(delete q.handle,fa._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||pa],n=ba.call(b,"type")?b.type:b,o=ba.call(b,"namespace")?b.namespace.split("."):[];if(h=k=d=d||pa,3!==d.nodeType&&8!==d.nodeType&&!Ja.test(n+fa.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),g=n.indexOf(":")<0&&"on"+n,b=b[fa.expando]?b:new fa.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:fa.makeArray(c,[b]),j=fa.event.special[n]||{},e||!j.trigger||j.trigger.apply(d,c)!==!1)){if(!e&&!j.noBubble&&!fa.isWindow(d)){for(i=j.delegateType||n,Ja.test(i+n)||(h=h.parentNode);h;h=h.parentNode)m.push(h),k=h;k===(d.ownerDocument||pa)&&m.push(k.defaultView||k.parentWindow||a)}for(l=0;(h=m[l++])&&!b.isPropagationStopped();)b.type=l>1?i:j.bindType||n,f=(fa._data(h,"events")||{})[b.type]&&fa._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&fa.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=n,!e&&!b.isDefaultPrevented()&&(!j._default||j._default.apply(m.pop(),c)===!1)&&fa.acceptData(d)&&g&&d[n]&&!fa.isWindow(d)){k=d[g],k&&(d[g]=null),fa.event.triggered=n;try{d[n]()}catch(p){}fa.event.triggered=void 0,k&&(d[g]=k)}return b.result}},dispatch:function(a){a=fa.event.fix(a);var b,c,d,e,f,g=[],h=X.call(arguments),i=(fa._data(this,"events")||{})[a.type]||[],j=fa.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=fa.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,f=0;(d=e.handlers[f++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(d.namespace))&&(a.handleObj=d,a.data=d.data,c=((fa.event.special[d.origType]||{}).handle||d.handler).apply(e.elem,h),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?fa(c,this).index(i)>=0:fa.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[fa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ia.test(e)?this.mouseHooks:Ha.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new fa.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||pa),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||pa,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==o()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===o()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return fa.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return fa.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=fa.extend(new fa.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?fa.event.trigger(e,null,b):fa.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},fa.removeEvent=pa.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===ya&&(a[d]=null),a.detachEvent(d,c))},fa.Event=function(a,b){return this instanceof fa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault())?m:n):this.type=a,b&&fa.extend(this,b),this.timeStamp=a&&a.timeStamp||fa.now(),void(this[fa.expando]=!0)):new fa.Event(a,b)},fa.Event.prototype={isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=m,this.stopPropagation()}},fa.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){fa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!fa.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),da.submitBubbles||(fa.event.special.submit={setup:function(){return!fa.nodeName(this,"form")&&void fa.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=fa.nodeName(b,"input")||fa.nodeName(b,"button")?b.form:void 0;c&&!fa._data(c,"submitBubbles")&&(fa.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),fa._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&fa.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return!fa.nodeName(this,"form")&&void fa.event.remove(this,"._submit")}}),da.changeBubbles||(fa.event.special.change={setup:function(){return Ga.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(fa.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),fa.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),fa.event.simulate("change",this,a,!0)})),!1):void fa.event.add(this,"beforeactivate._change",function(a){var b=a.target;Ga.test(b.nodeName)&&!fa._data(b,"changeBubbles")&&(fa.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||fa.event.simulate("change",this.parentNode,a,!0)}),fa._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return fa.event.remove(this,"._change"),!Ga.test(this.nodeName)}}),da.focusinBubbles||fa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){fa.event.simulate(b,a.target,fa.event.fix(a),!0)};fa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=fa._data(d,b);e||d.addEventListener(a,c,!0),fa._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=fa._data(d,b)-1;e?fa._data(d,b,e):(d.removeEventListener(a,c,!0),fa._removeData(d,b))}}}),fa.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=n;else if(!d)return this;return 1===e&&(g=d,d=function(a){return fa().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=fa.guid++)),this.each(function(){fa.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,fa(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=n),this.each(function(){fa.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){fa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?fa.event.trigger(a,b,c,!0):void 0}});var La="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ma=/ jQuery\d+="(?:null|\d+)"/g,Na=new RegExp("<(?:"+La+")[\\s/>]","i"),Oa=/^\s+/,Pa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qa=/<([\w:]+)/,Ra=/<tbody/i,Sa=/<|&#?\w+;/,Ta=/<(?:script|style|link)/i,Ua=/checked\s*(?:[^=]|=\s*.checked.)/i,Va=/^$|\/(?:java|ecma)script/i,Wa=/^true\/(.*)/,Xa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ya={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:da.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Za=p(pa),$a=Za.appendChild(pa.createElement("div"));Ya.optgroup=Ya.option,Ya.tbody=Ya.tfoot=Ya.colgroup=Ya.caption=Ya.thead,Ya.th=Ya.td,fa.extend({clone:function(a,b,c){var d,e,f,g,h,i=fa.contains(a.ownerDocument,a);if(da.html5Clone||fa.isXMLDoc(a)||!Na.test("<"+a.nodeName+">")?f=a.cloneNode(!0):($a.innerHTML=a.outerHTML,$a.removeChild(f=$a.firstChild)),!(da.noCloneEvent&&da.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||fa.isXMLDoc(a)))for(d=q(f),h=q(a),g=0;null!=(e=h[g]);++g)d[g]&&x(e,d[g]);if(b)if(c)for(h=h||q(a),d=d||q(f),g=0;null!=(e=h[g]);g++)w(e,d[g]);else w(a,f);return d=q(f,"script"),d.length>0&&v(d,!i&&q(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=p(b),n=[],o=0;l>o;o++)if(f=a[o],f||0===f)if("object"===fa.type(f))fa.merge(n,f.nodeType?[f]:f);else if(Sa.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Qa.exec(f)||["",""])[1].toLowerCase(),k=Ya[i]||Ya._default,h.innerHTML=k[1]+f.replace(Pa,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!da.leadingWhitespace&&Oa.test(f)&&n.push(b.createTextNode(Oa.exec(f)[0])),!da.tbody)for(f="table"!==i||Ra.test(f)?"<table>"!==k[1]||Ra.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)fa.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(fa.merge(n,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));for(h&&m.removeChild(h),da.appendChecked||fa.grep(q(n,"input"),r),o=0;f=n[o++];)if((!d||-1===fa.inArray(f,d))&&(g=fa.contains(f.ownerDocument,f),h=q(m.appendChild(f),"script"),g&&v(h),c))for(e=0;f=h[e++];)Va.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=fa.expando,i=fa.cache,j=da.deleteExpando,k=fa.event.special;null!=(c=a[g]);g++)if((b||fa.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?fa.event.remove(c,d):fa.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==ya?c.removeAttribute(h):c[h]=null,W.push(e))}}}),fa.fn.extend({text:function(a){return Ea(this,function(a){return void 0===a?fa.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pa).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?fa.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||fa.cleanData(q(c)),c.parentNode&&(b&&fa.contains(c.ownerDocument,c)&&v(q(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&fa.cleanData(q(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&fa.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return fa.clone(this,a,b)})},html:function(a){return Ea(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(Ma,""):void 0;if(!("string"!=typeof a||Ta.test(a)||!da.htmlSerialize&&Na.test(a)||!da.leadingWhitespace&&Oa.test(a)||Ya[(Qa.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Pa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(fa.cleanData(q(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,fa.cleanData(q(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Y.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],n=fa.isFunction(m);if(n||j>1&&"string"==typeof m&&!da.checkClone&&Ua.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(h=fa.buildFragment(a,this[0].ownerDocument,!1,this),c=h.firstChild,1===h.childNodes.length&&(h=c),c)){for(f=fa.map(q(h,"script"),t),e=f.length;j>i;i++)d=h,i!==l&&(d=fa.clone(d,!0,!0),e&&fa.merge(f,q(d,"script"))),b.call(this[i],d,i);if(e)for(g=f[f.length-1].ownerDocument,fa.map(f,u),i=0;e>i;i++)d=f[i],Va.test(d.type||"")&&!fa._data(d,"globalEval")&&fa.contains(g,d)&&(d.src?fa._evalUrl&&fa._evalUrl(d.src):fa.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Xa,"")));h=c=null}return this}}),fa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){fa.fn[a]=function(a){for(var c,d=0,e=[],f=fa(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),fa(f[d])[b](c),Z.apply(e,c.get());return this.pushStack(e)}});var _a,ab={};!function(){var a,b,c=pa.createElement("div"),d="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",da.opacity=/^0.5/.test(a.style.opacity),da.cssFloat=!!a.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",da.clearCloneStyle="content-box"===c.style.backgroundClip,a=c=null,da.shrinkWrapBlocks=function(){var a,c,e,f;if(null==b){if(a=pa.getElementsByTagName("body")[0],!a)return;f="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c=pa.createElement("div"),e=pa.createElement("div"),a.appendChild(c).appendChild(e),b=!1,typeof e.style.zoom!==ya&&(e.style.cssText=d+";width:1px;padding:1px;zoom:1",e.innerHTML="<div></div>",e.firstChild.style.width="5px",b=3!==e.offsetWidth),a.removeChild(c),a=c=e=null}return b}}();var bb,cb,db=/^margin/,eb=new RegExp("^("+Ba+")(?!px)[a-z%]+$","i"),fb=/^(top|right|bottom|left)$/;a.getComputedStyle?(bb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},cb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||bb(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||fa.contains(a.ownerDocument,a)||(g=fa.style(a,b)),eb.test(g)&&db.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,
g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):pa.documentElement.currentStyle&&(bb=function(a){return a.currentStyle},cb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||bb(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),eb.test(g)&&!fb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),!function(){function b(){var b,c,d=pa.getElementsByTagName("body")[0];d&&(b=pa.createElement("div"),c=pa.createElement("div"),b.style.cssText=j,d.appendChild(b).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",fa.swap(d,null!=d.style.zoom?{zoom:1}:{},function(){e=4===c.offsetWidth}),f=!0,g=!1,h=!0,a.getComputedStyle&&(g="1%"!==(a.getComputedStyle(c,null)||{}).top,f="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width),d.removeChild(b),c=d=null)}var c,d,e,f,g,h,i=pa.createElement("div"),j="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",k="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=i.getElementsByTagName("a")[0],c.style.cssText="float:left;opacity:.5",da.opacity=/^0.5/.test(c.style.opacity),da.cssFloat=!!c.style.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",da.clearCloneStyle="content-box"===i.style.backgroundClip,c=i=null,fa.extend(da,{reliableHiddenOffsets:function(){if(null!=d)return d;var a,b,c,e=pa.createElement("div"),f=pa.getElementsByTagName("body")[0];return f?(e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=pa.createElement("div"),a.style.cssText=j,f.appendChild(a).appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=e.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",d=c&&0===b[0].offsetHeight,f.removeChild(a),e=f=null,d):void 0},boxSizing:function(){return null==e&&b(),e},boxSizingReliable:function(){return null==f&&b(),f},pixelPosition:function(){return null==g&&b(),g},reliableMarginRight:function(){var b,c,d,e;if(null==h&&a.getComputedStyle){if(b=pa.getElementsByTagName("body")[0],!b)return;c=pa.createElement("div"),d=pa.createElement("div"),c.style.cssText=j,b.appendChild(c).appendChild(d),e=d.appendChild(pa.createElement("div")),e.style.cssText=d.style.cssText=k,e.style.marginRight=e.style.width="0",d.style.width="1px",h=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(c)}return h}})}(),fa.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var gb=/alpha\([^)]*\)/i,hb=/opacity\s*=\s*([^)]*)/,ib=/^(none|table(?!-c[ea]).+)/,jb=new RegExp("^("+Ba+")(.*)$","i"),kb=new RegExp("^([+-])=("+Ba+")","i"),lb={position:"absolute",visibility:"hidden",display:"block"},mb={letterSpacing:0,fontWeight:400},nb=["Webkit","O","Moz","ms"];fa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=cb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":da.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=fa.camelCase(b),i=a.style;if(b=fa.cssProps[h]||(fa.cssProps[h]=B(i,h)),g=fa.cssHooks[b]||fa.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=kb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(fa.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||fa.cssNumber[h]||(c+="px"),da.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]="",i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=fa.camelCase(b);return b=fa.cssProps[h]||(fa.cssProps[h]=B(a.style,h)),g=fa.cssHooks[b]||fa.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=cb(a,b,d)),"normal"===f&&b in mb&&(f=mb[b]),""===c||c?(e=parseFloat(f),c===!0||fa.isNumeric(e)?e||0:f):f}}),fa.each(["height","width"],function(a,b){fa.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&ib.test(fa.css(a,"display"))?fa.swap(a,lb,function(){return F(a,b,d)}):F(a,b,d):void 0},set:function(a,c,d){var e=d&&bb(a);return D(a,c,d?E(a,b,d,da.boxSizing()&&"border-box"===fa.css(a,"boxSizing",!1,e),e):0)}}}),da.opacity||(fa.cssHooks.opacity={get:function(a,b){return hb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=fa.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===fa.trim(f.replace(gb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=gb.test(f)?f.replace(gb,e):f+" "+e)}}),fa.cssHooks.marginRight=A(da.reliableMarginRight,function(a,b){return b?fa.swap(a,{display:"inline-block"},cb,[a,"marginRight"]):void 0}),fa.each({margin:"",padding:"",border:"Width"},function(a,b){fa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Ca[d]+b]=f[d]||f[d-2]||f[0];return e}},db.test(a)||(fa.cssHooks[a+b].set=D)}),fa.fn.extend({css:function(a,b){return Ea(this,function(a,b,c){var d,e,f={},g=0;if(fa.isArray(b)){for(d=bb(a),e=b.length;e>g;g++)f[b[g]]=fa.css(a,b[g],!1,d);return f}return void 0!==c?fa.style(a,b,c):fa.css(a,b)},a,b,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Da(this)?fa(this).show():fa(this).hide()})}}),fa.Tween=G,G.prototype={constructor:G,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(fa.cssNumber[c]?"":"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var b,c=G.propHooks[this.prop];return this.pos=b=this.options.duration?fa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=fa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){fa.fx.step[a.prop]?fa.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[fa.cssProps[a.prop]]||fa.cssHooks[a.prop])?fa.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},fa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},fa.fx=G.prototype.init,fa.fx.step={};var ob,pb,qb=/^(?:toggle|show|hide)$/,rb=new RegExp("^(?:([+-])=|)("+Ba+")([a-z%]*)$","i"),sb=/queueHooks$/,tb=[K],ub={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=rb.exec(b),f=e&&e[3]||(fa.cssNumber[a]?"":"px"),g=(fa.cssNumber[a]||"px"!==f&&+d)&&rb.exec(fa.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,fa.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};fa.Animation=fa.extend(M,{tweener:function(a,b){fa.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ub[c]=ub[c]||[],ub[c].unshift(b)},prefilter:function(a,b){b?tb.unshift(a):tb.push(a)}}),fa.speed=function(a,b,c){var d=a&&"object"==typeof a?fa.extend({},a):{complete:c||!c&&b||fa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!fa.isFunction(b)&&b};return d.duration=fa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in fa.fx.speeds?fa.fx.speeds[d.duration]:fa.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){fa.isFunction(d.old)&&d.old.call(this),d.queue&&fa.dequeue(this,d.queue)},d},fa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Da).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=fa.isEmptyObject(a),f=fa.speed(b,c,d),g=function(){var b=M(this,fa.extend({},a),f);(e||fa._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=fa.timers,g=fa._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&sb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&fa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=fa._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=fa.timers,g=d?d.length:0;for(c.finish=!0,fa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),fa.each(["toggle","show","hide"],function(a,b){var c=fa.fn[b];fa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(I(b,!0),a,d,e)}}),fa.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){fa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),fa.timers=[],fa.fx.tick=function(){var a,b=fa.timers,c=0;for(ob=fa.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||fa.fx.stop(),ob=void 0},fa.fx.timer=function(a){fa.timers.push(a),a()?fa.fx.start():fa.timers.pop()},fa.fx.interval=13,fa.fx.start=function(){pb||(pb=setInterval(fa.fx.tick,fa.fx.interval))},fa.fx.stop=function(){clearInterval(pb),pb=null},fa.fx.speeds={slow:600,fast:200,_default:400},fa.fn.delay=function(a,b){return a=fa.fx?fa.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e=pa.createElement("div");e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=e.getElementsByTagName("a")[0],c=pa.createElement("select"),d=c.appendChild(pa.createElement("option")),b=e.getElementsByTagName("input")[0],a.style.cssText="top:1px",da.getSetAttribute="t"!==e.className,da.style=/top/.test(a.getAttribute("style")),da.hrefNormalized="/a"===a.getAttribute("href"),da.checkOn=!!b.value,da.optSelected=d.selected,da.enctype=!!pa.createElement("form").enctype,c.disabled=!0,da.optDisabled=!d.disabled,b=pa.createElement("input"),b.setAttribute("value",""),da.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),da.radioValue="t"===b.value,a=b=c=d=e=null}();var vb=/\r/g;fa.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=fa.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,fa(this).val()):a,null==e?e="":"number"==typeof e?e+="":fa.isArray(e)&&(e=fa.map(e,function(a){return null==a?"":a+""})),b=fa.valHooks[this.type]||fa.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=fa.valHooks[e.type]||fa.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(vb,""):null==c?"":c)):void 0}}),fa.extend({valHooks:{option:{get:function(a){var b=fa.find.attr(a,"value");return null!=b?b:fa.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(da.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&fa.nodeName(c.parentNode,"optgroup"))){if(b=fa(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=fa.makeArray(b),g=e.length;g--;)if(d=e[g],fa.inArray(fa.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),fa.each(["radio","checkbox"],function(){fa.valHooks[this]={set:function(a,b){return fa.isArray(b)?a.checked=fa.inArray(fa(a).val(),b)>=0:void 0}},da.checkOn||(fa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var wb,xb,yb=fa.expr.attrHandle,zb=/^(?:checked|selected)$/i,Ab=da.getSetAttribute,Bb=da.input;fa.fn.extend({attr:function(a,b){return Ea(this,fa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){fa.removeAttr(this,a)})}}),fa.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===ya?fa.prop(a,b,c):(1===f&&fa.isXMLDoc(a)||(b=b.toLowerCase(),d=fa.attrHooks[b]||(fa.expr.match.bool.test(b)?xb:wb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=fa.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void fa.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ua);if(f&&1===a.nodeType)for(;c=f[e++];)d=fa.propFix[c]||c,fa.expr.match.bool.test(c)?Bb&&Ab||!zb.test(c)?a[d]=!1:a[fa.camelCase("default-"+c)]=a[d]=!1:fa.attr(a,c,""),a.removeAttribute(Ab?c:d)},attrHooks:{type:{set:function(a,b){if(!da.radioValue&&"radio"===b&&fa.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),xb={set:function(a,b,c){return b===!1?fa.removeAttr(a,c):Bb&&Ab||!zb.test(c)?a.setAttribute(!Ab&&fa.propFix[c]||c,c):a[fa.camelCase("default-"+c)]=a[c]=!0,c}},fa.each(fa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=yb[b]||fa.find.attr;yb[b]=Bb&&Ab||!zb.test(b)?function(a,b,d){var e,f;return d||(f=yb[b],yb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,yb[b]=f),e}:function(a,b,c){return c?void 0:a[fa.camelCase("default-"+b)]?b.toLowerCase():null}}),Bb&&Ab||(fa.attrHooks.value={set:function(a,b,c){return fa.nodeName(a,"input")?void(a.defaultValue=b):wb&&wb.set(a,b,c)}}),Ab||(wb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},yb.id=yb.name=yb.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},fa.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:wb.set},fa.attrHooks.contenteditable={set:function(a,b,c){wb.set(a,""!==b&&b,c)}},fa.each(["width","height"],function(a,b){fa.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),da.style||(fa.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Cb=/^(?:input|select|textarea|button|object)$/i,Db=/^(?:a|area)$/i;fa.fn.extend({prop:function(a,b){return Ea(this,fa.prop,a,b,arguments.length>1)},removeProp:function(a){return a=fa.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),fa.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!fa.isXMLDoc(a),f&&(b=fa.propFix[b]||b,e=fa.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=fa.find.attr(a,"tabindex");return b?parseInt(b,10):Cb.test(a.nodeName)||Db.test(a.nodeName)&&a.href?0:-1}}}}),da.hrefNormalized||fa.each(["href","src"],function(a,b){fa.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),da.optSelected||(fa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),fa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fa.propFix[this.toLowerCase()]=this}),da.enctype||(fa.propFix.enctype="encoding");var Eb=/[\t\r\n\f]/g;fa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(fa.isFunction(a))return this.each(function(b){fa(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(ua)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=fa.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(fa.isFunction(a))return this.each(function(b){fa(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(ua)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?fa.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(fa.isFunction(a)?function(c){fa(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=fa(this),f=a.match(ua)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===ya||"boolean"===c)&&(this.className&&fa._data(this,"__className__",this.className),this.className=this.className||a===!1?"":fa._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Eb," ").indexOf(b)>=0)return!0;return!1}}),fa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){fa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),fa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Fb=fa.now(),Gb=/\?/,Hb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;fa.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=fa.trim(b+"");return e&&!fa.trim(e.replace(Hb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():fa.error("Invalid JSON: "+b)},fa.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||fa.error("Invalid XML: "+b),c};var Ib,Jb,Kb=/#.*$/,Lb=/([?&])_=[^&]*/,Mb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ob=/^(?:GET|HEAD)$/,Pb=/^\/\//,Qb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Rb={},Sb={},Tb="*/".concat("*");try{Jb=location.href}catch(Ub){Jb=pa.createElement("a"),Jb.href="",Jb=Jb.href}Ib=Qb.exec(Jb.toLowerCase())||[],fa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Jb,type:"GET",isLocal:Nb.test(Ib[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fa.parseJSON,"text xml":fa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?P(P(a,fa.ajaxSettings),b):P(fa.ajaxSettings,a)},ajaxPrefilter:N(Rb),ajaxTransport:N(Sb),ajax:function(a,b){function c(a,b,c,d){var e,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),j=void 0,g=d||"",v.readyState=a>0?4:0,e=a>=200&&300>a||304===a,c&&(s=Q(l,v,c)),s=R(l,s,v,e),e?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(fa.lastModified[f]=u),u=v.getResponseHeader("etag"),u&&(fa.etag[f]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,e=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",e?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,i&&n.trigger(e?"ajaxSuccess":"ajaxError",[v,l,e?k:r]),p.fireWith(m,[v,w]),i&&(n.trigger("ajaxComplete",[v,l]),--fa.active||fa.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=fa.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?fa(m):fa.event,o=fa.Deferred(),p=fa.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!k)for(k={};b=Mb.exec(g);)k[b[1].toLowerCase()]=b[2];b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return j&&j.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||Jb)+"").replace(Kb,"").replace(Pb,Ib[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=fa.trim(l.dataType||"*").toLowerCase().match(ua)||[""],null==l.crossDomain&&(d=Qb.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Ib[1]&&d[2]===Ib[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Ib[3]||("http:"===Ib[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=fa.param(l.data,l.traditional)),O(Rb,l,b,v),2===t)return v;i=l.global,i&&0===fa.active++&&fa.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Ob.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Gb.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Lb.test(f)?f.replace(Lb,"$1_="+Fb++):f+(Gb.test(f)?"&":"?")+"_="+Fb++)),l.ifModified&&(fa.lastModified[f]&&v.setRequestHeader("If-Modified-Since",fa.lastModified[f]),fa.etag[f]&&v.setRequestHeader("If-None-Match",fa.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Tb+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)v.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(e in{success:1,error:1,complete:1})v[e](l[e]);if(j=O(Sb,l,b,v)){v.readyState=1,i&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,j.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return fa.get(a,b,c,"json")},getScript:function(a,b){return fa.get(a,void 0,b,"script")}}),fa.each(["get","post"],function(a,b){fa[b]=function(a,c,d,e){return fa.isFunction(c)&&(e=e||d,d=c,c=void 0),fa.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),fa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){fa.fn[b]=function(a){return this.on(b,a)}}),fa._evalUrl=function(a){return fa.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},fa.fn.extend({wrapAll:function(a){if(fa.isFunction(a))return this.each(function(b){fa(this).wrapAll(a.call(this,b))});if(this[0]){var b=fa(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(fa.isFunction(a)?function(b){fa(this).wrapInner(a.call(this,b))}:function(){var b=fa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=fa.isFunction(a);return this.each(function(c){fa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){fa.nodeName(this,"body")||fa(this).replaceWith(this.childNodes)}).end()}}),fa.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!da.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||fa.css(a,"display"))},fa.expr.filters.visible=function(a){return!fa.expr.filters.hidden(a)};var Vb=/%20/g,Wb=/\[\]$/,Xb=/\r?\n/g,Yb=/^(?:submit|button|image|reset|file)$/i,Zb=/^(?:input|select|textarea|keygen)/i;fa.param=function(a,b){var c,d=[],e=function(a,b){b=fa.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=fa.ajaxSettings&&fa.ajaxSettings.traditional),fa.isArray(a)||a.jquery&&!fa.isPlainObject(a))fa.each(a,function(){e(this.name,this.value)});else for(c in a)S(c,a[c],b,e);return d.join("&").replace(Vb,"+")},fa.fn.extend({serialize:function(){return fa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=fa.prop(this,"elements");return a?fa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!fa(this).is(":disabled")&&Zb.test(this.nodeName)&&!Yb.test(a)&&(this.checked||!Fa.test(a))}).map(function(a,b){var c=fa(this).val();return null==c?null:fa.isArray(c)?fa.map(c,function(a){return{name:b.name,value:a.replace(Xb,"\r\n")}}):{name:b.name,value:c.replace(Xb,"\r\n")}}).get()}}),fa.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&T()||U()}:T;var $b=0,_b={},ac=fa.ajaxSettings.xhr();a.ActiveXObject&&fa(a).on("unload",function(){for(var a in _b)_b[a](void 0,!0)}),da.cors=!!ac&&"withCredentials"in ac,ac=da.ajax=!!ac,ac&&fa.ajaxTransport(function(a){if(!a.crossDomain||da.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++$b;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete _b[g],b=void 0,f.onreadystatechange=fa.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=_b[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}}),fa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return fa.globalEval(a),a}}}),fa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),fa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=pa.head||fa("head")[0]||pa.documentElement;return{send:function(d,e){b=pa.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var bc=[],cc=/(=)\?(?=&|$)|\?\?/;fa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=bc.pop()||fa.expando+"_"+Fb++;return this[a]=!0,a}}),fa.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(cc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&cc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=fa.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(cc,"$1"+e):b.jsonp!==!1&&(b.url+=(Gb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||fa.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,bc.push(e)),g&&fa.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),fa.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||pa;var d=ma.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=fa.buildFragment([a],b,e),e&&e.length&&fa(e).remove(),fa.merge([],d.childNodes))};var dc=fa.fn.load;fa.fn.load=function(a,b,c){if("string"!=typeof a&&dc)return dc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h,a.length),a=a.slice(0,h)),fa.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&fa.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?fa("<div>").append(fa.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},fa.expr.filters.animated=function(a){return fa.grep(fa.timers,function(b){return a===b.elem}).length};var ec=a.document.documentElement;fa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=fa.css(a,"position"),l=fa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=fa.css(a,"top"),i=fa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&fa.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),fa.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},fa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){fa.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;return f?(b=f.documentElement,fa.contains(b,e)?(typeof e.getBoundingClientRect!==ya&&(d=e.getBoundingClientRect()),c=V(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d):void 0},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===fa.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),fa.nodeName(a[0],"html")||(c=a.offset()),c.top+=fa.css(a[0],"borderTopWidth",!0),c.left+=fa.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-fa.css(d,"marginTop",!0),left:b.left-c.left-fa.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||ec;a&&!fa.nodeName(a,"html")&&"static"===fa.css(a,"position");)a=a.offsetParent;return a||ec})}}),fa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);fa.fn[a]=function(d){return Ea(this,function(a,d,e){var f=V(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?fa(f).scrollLeft():e,c?e:fa(f).scrollTop()):a[d]=e);
},a,d,arguments.length,null)}}),fa.each(["top","left"],function(a,b){fa.cssHooks[b]=A(da.pixelPosition,function(a,c){return c?(c=cb(a,b),eb.test(c)?fa(a).position()[b]+"px":c):void 0})}),fa.each({Height:"height",Width:"width"},function(a,b){fa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){fa.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Ea(this,function(b,c,d){var e;return fa.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?fa.css(b,c,g):fa.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),fa.fn.size=function(){return this.length},fa.fn.andSelf=fa.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fa});var fc=a.jQuery,gc=a.$;return fa.noConflict=function(b){return a.$===fa&&(a.$=gc),b&&a.jQuery===fa&&(a.jQuery=fc),fa},typeof b===ya&&(a.jQuery=a.$=fa),fa}),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(a,b,c){function d(c){var d=b.console;f[c]||(f[c]=!0,a.migrateWarnings.push(c),d&&d.warn&&!a.migrateMute&&(d.warn("JQMIGRATE: "+c),a.migrateTrace&&d.trace&&d.trace()))}function e(b,e,f,g){if(Object.defineProperty)try{return Object.defineProperty(b,e,{configurable:!0,enumerable:!0,get:function(){return d(g),f},set:function(a){d(g),f=a}}),c}catch(h){}a._definePropertyBroken=!0,b[e]=f}var f={};a.migrateWarnings=[],!a.migrateMute&&b.console&&b.console.log&&b.console.log("JQMIGRATE: Logging is active"),a.migrateTrace===c&&(a.migrateTrace=!0),a.migrateReset=function(){f={},a.migrateWarnings.length=0},"BackCompat"===document.compatMode&&d("jQuery is not compatible with Quirks Mode");var g=a("<input/>",{size:1}).attr("size")&&a.attrFn,h=a.attr,i=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},j=a.attrHooks.value&&a.attrHooks.value.set||function(){return c},k=/^(?:input|button)$/i,l=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:checked|selected)$/i;e(a,"attrFn",g||{},"jQuery.attrFn is deprecated"),a.attr=function(b,e,f,i){var j=e.toLowerCase(),o=b&&b.nodeType;return i&&(4>h.length&&d("jQuery.fn.attr( props, pass ) is deprecated"),b&&!l.test(o)&&(g?e in g:a.isFunction(a.fn[e])))?a(b)[e](f):("type"===e&&f!==c&&k.test(b.nodeName)&&b.parentNode&&d("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[j]&&m.test(j)&&(a.attrHooks[j]={get:function(b,d){var e,f=a.prop(b,d);return f===!0||"boolean"!=typeof f&&(e=b.getAttributeNode(d))&&e.nodeValue!==!1?d.toLowerCase():c},set:function(b,c,d){var e;return c===!1?a.removeAttr(b,d):(e=a.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}},n.test(j)&&d("jQuery.fn.attr('"+j+"') may use property instead of attribute")),h.call(a,b,e,f))},a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?i.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value') no longer gets properties"),b in a?a.value:null)},set:function(a,b){var e=(a.nodeName||"").toLowerCase();return"button"===e?j.apply(this,arguments):("input"!==e&&"option"!==e&&d("jQuery.fn.attr('value', val) no longer sets properties"),a.value=b,c)}};var o,p,q=a.fn.init,r=a.parseJSON,s=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(b,c,e){var f;return b&&"string"==typeof b&&!a.isPlainObject(c)&&(f=s.exec(a.trim(b)))&&f[0]&&("<"!==b.charAt(0)&&d("$(html) HTML strings must start with '<' character"),f[3]&&d("$(html) HTML text after last tag is ignored"),"#"===f[0].charAt(0)&&(d("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),c&&c.context&&(c=c.context),a.parseHTML)?q.call(this,a.parseHTML(f[2],c,!0),c,e):q.apply(this,arguments)},a.fn.init.prototype=a.fn,a.parseJSON=function(a){return a||null===a?r.apply(this,arguments):(d("jQuery.parseJSON requires a valid JSON string"),null)},a.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a.browser||(o=a.uaMatch(navigator.userAgent),p={},o.browser&&(p[o.browser]=!0,p.version=o.version),p.chrome?p.webkit=!0:p.webkit&&(p.safari=!0),a.browser=p),e(a,"browser",a.browser,"jQuery.browser is deprecated"),a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this),b.superclass=this,b.fn=b.prototype=this(),b.fn.constructor=b,b.sub=this.sub,b.fn.init=function(d,e){return e&&e instanceof a&&!(e instanceof b)&&(e=b(e)),a.fn.init.call(this,d,e,c)},b.fn.init.prototype=b.fn;var c=b(document);return d("jQuery.sub() is deprecated"),b},a.ajaxSetup({converters:{"text json":a.parseJSON}});var t=a.fn.data;a.fn.data=function(b){var e,f,g=this[0];return!g||"events"!==b||1!==arguments.length||(e=a.data(g,b),f=a._data(g,b),e!==c&&e!==f||f===c)?t.apply(this,arguments):(d("Use of jQuery.fn.data('events') is deprecated"),f)};var u=/\/(java|ecma)script/i,v=a.fn.andSelf||a.fn.addBack;a.fn.andSelf=function(){return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),v.apply(this,arguments)},a.clean||(a.clean=function(b,e,f,g){e=e||document,e=!e.nodeType&&e[0]||e,e=e.ownerDocument||e,d("jQuery.clean() is deprecated");var h,i,j,k,l=[];if(a.merge(l,a.buildFragment(b,e).childNodes),f)for(j=function(a){return!a.type||u.test(a.type)?g?g.push(a.parentNode?a.parentNode.removeChild(a):a):f.appendChild(a):c},h=0;null!=(i=l[h]);h++)a.nodeName(i,"script")&&j(i)||(f.appendChild(i),i.getElementsByTagName!==c&&(k=a.grep(a.merge([],i.getElementsByTagName("script")),j),l.splice.apply(l,[h+1,0].concat(k)),h+=k.length));return l});var w=a.event.add,x=a.event.remove,y=a.event.trigger,z=a.fn.toggle,A=a.fn.live,B=a.fn.die,C="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",D=RegExp("\\b(?:"+C+")\\b"),E=/(?:^|\s)hover(\.\S+|)\b/,F=function(b){return"string"!=typeof b||a.event.special.hover?b:(E.test(b)&&d("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),b&&b.replace(E,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),a.event.dispatch&&e(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),a.event.add=function(a,b,c,e,f){a!==document&&D.test(b)&&d("AJAX events should be attached to document: "+b),w.call(this,a,F(b||""),c,e,f)},a.event.remove=function(a,b,c,d,e){x.call(this,a,F(b)||"",c,d,e)},a.fn.error=function(){var a=Array.prototype.slice.call(arguments,0);return d("jQuery.fn.error() is deprecated"),a.splice(0,0,"error"),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this)},a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return z.apply(this,arguments);d("jQuery.fn.toggle(handler, handler...) is deprecated");var e=arguments,f=b.guid||a.guid++,g=0,h=function(c){var d=(a._data(this,"lastToggle"+b.guid)||0)%g;return a._data(this,"lastToggle"+b.guid,d+1),c.preventDefault(),e[d].apply(this,arguments)||!1};for(h.guid=f;e.length>g;)e[g++].guid=f;return this.click(h)},a.fn.live=function(b,c,e){return d("jQuery.fn.live() is deprecated"),A?A.apply(this,arguments):(a(this.context).on(b,this.selector,c,e),this)},a.fn.die=function(b,c){return d("jQuery.fn.die() is deprecated"),B?B.apply(this,arguments):(a(this.context).off(b,this.selector||"**",c),this)},a.event.trigger=function(a,b,c,e){return c||D.test(a)||d("Global events are undocumented and deprecated"),y.call(this,a,b,c||document,e)},a.each(C.split("|"),function(b,c){a.event.special[c]={setup:function(){var b=this;return b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,null,b,!0)}),a._data(this,c,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,c+"."+a._data(this,c)),!1}}})}(jQuery,window),define("jquery-migrate",["jquery"],function(){}),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.3";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;e<f;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){if(!(e=e&&b.call(d,a,f,g)))return c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){if(e||(e=b.call(d,a,f,g)))return c}),!!e)};x.contains=x.include=function(a,b){return null!=a&&(s&&a.indexOf===s?a.indexOf(b)!=-1:A(a,function(a){return a===b}))},x.invoke=function(a,b){var c=h.call(arguments,2);return x.map(a,function(a){return(x.isFunction(b)?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b){return x.isEmpty(b)?[]:x.filter(a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-(1/0);var d={computed:-(1/0),value:-(1/0)};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(b||x.identity);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;f<g;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){if(null!=a)return null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){if(null!=a)return null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=new Array(b),d=0;d<b;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=c<0?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;d<e;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);e<d;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},x.bindAll=function(a){var b=h.call(arguments,1);return 0==b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,j<=0?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=F(a[g],b[g],c,d)););}else{var i=a.constructor,k=b.constructor;if(i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(x.has(a,l)&&(g++,!(h=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(a),e=0;e<a;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+(0|Math.random()*(b-a+1))};var G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};G.unescape=x.invert(G.escape);var H={escape:new RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=""+ ++I;return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){c=x.defaults({},c,x.templateSettings);var d=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(L,function(a){return"\\"+K[a]}),c&&(f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(f+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),g&&(f+="';\n"+g+"\n__p+='"),e=h+b.length,b}),f+="';\n",c.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(c.variable||"obj","_",f)}catch(h){throw h.source=f,h}if(b)return g(b,x);var i=function(a){return g.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+f+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",function(a){return function(){var b;return b||a._}}(this)),function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,!(!b.href||!f||"map"!==e.nodeName.toLowerCase())&&(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g))):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;e.length>d;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0||(b[d]=1,e=b[d]>0,b[d]=0,e)}})}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(c,d,e){var f,g,h,i,j={},k=c.split(".")[0];c=c.split(".")[1],f=k+"-"+c,e||(e=d,d=a.Widget),a.expr[":"][f.toLowerCase()]=function(b){return!!a.data(b,f)},a[k]=a[k]||{},g=a[k][c],h=a[k][c]=function(a,c){return this._createWidget?(arguments.length&&this._createWidget(a,c),b):new h(a,c)},a.extend(h,g,{version:e.version,_proto:a.extend({},e),_childConstructors:[]}),i=new d,i.options=a.widget.extend({},i.options),a.each(e,function(c,e){return a.isFunction(e)?(j[c]=function(){var a=function(){return d.prototype[c].apply(this,arguments)},b=function(a){return d.prototype[c].apply(this,a)};return function(){var c,d=this._super,f=this._superApply;return this._super=a,this._superApply=b,c=e.apply(this,arguments),this._super=d,this._superApply=f,c}}(),b):(j[c]=e,b)}),h.prototype=a.widget.extend(i,{widgetEventPrefix:g?i.widgetEventPrefix||c:c},j,{constructor:h,namespace:k,widgetName:c,widgetFullName:f}),g?(a.each(g._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,h,c._proto)}),delete g._childConstructors):d._childConstructors.push(h),a.widget.bridge(c,h)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):b):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;e.length-1>g;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),1===arguments.length)return f[c]===b?null:f[c];f[c]=d}else{if(1===arguments.length)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(c,d,e){var f,g=this;"boolean"!=typeof c&&(e=d,d=c,c=!1),e?(d=f=a(d),this.bindings=this.bindings.add(d)):(e=d,d=this.element,f=this.widget()),a.each(e,function(e,h){function i(){return c||g.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof h?g[h]:h).apply(g,arguments):b}"string"!=typeof h&&(i.guid=h.guid=h.guid||i.guid||a.guid++);var j=e.match(/^(\w+)\s*(.*)$/),k=j[1]+g.eventNamespace,l=j[2];l?f.delegate(l,k,i):d.bind(k,i)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={
duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,e=1===c.which,f=!("string"!=typeof this.options.cancel||!c.target.nodeName)&&a(c.target).closest(this.options.cancel).length;return!(e&&!f&&this._mouseCapture(c))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0))}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a){function b(a,b,c){return a>b&&b+c>a}function c(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===a.axis||c(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(b),a(b.target).parents().each(function(){return a.data(this,f.widgetName+"-item")===f?(d=a(this),!1):void 0}),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),!!d&&(!(this.options.handle&&!c&&(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),!e))&&(this.currentItem=d,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-a(document).scrollTop()<g.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<g.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)),b.pageX-a(document).scrollLeft()<g.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))),h!==!1&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d),f&&d.instance===this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===f?"next":"prev"]()[0]!==e&&!a.contains(this.placeholder[0],e)&&("semi-dynamic"!==this.options.type||!a.contains(this.element[0],e))){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&i>d+j,m="y"===this.options.axis||b+k>f&&g>b+k,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:b+this.helperProportions.width/2>f&&g>c-this.helperProportions.width/2&&d+this.helperProportions.height/2>h&&i>e-this.helperProportions.height/2},_intersectsWithPointer:function(a){var c="x"===this.options.axis||b(this.positionAbs.top+this.offset.click.top,a.top,a.height),d="y"===this.options.axis||b(this.positionAbs.left+this.offset.click.left,a.left,a.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return!!e&&(this.floating?g&&"right"===g||"down"===f?2:1:f&&("down"===f?2:1))},_intersectsWithSides:function(a){var c=b(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),d=b(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"===f&&d||"left"===f&&!d:e&&("down"===e&&c||"up"===e&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function c(){h.push(this)}var d,e,f,g,h=[],i=[],j=this._connectWith();if(j&&b)for(d=j.length-1;d>=0;d--)for(f=a(j[d]),e=f.length-1;e>=0;e--)g=a.data(f[e],this.widgetFullName),g&&g!==this&&!g.options.disabled&&i.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g]);for(i.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),d=i.length-1;d>=0;d--)i[d][0].each(c);return a(h)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;b.length>c;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;j>d;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===d?b.currentItem.children().each(function(){a("<td>&#160;</td>",b.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(e)}):"img"===d&&e.attr("src",b.currentItem.attr("src")),c||e.css("visibility","hidden"),e},update:function(a,e){(!c||d.forcePlaceholderSize)&&(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_contactContainers:function(d){var e,f,g,h,i,j,k,l,m,n,o=null,p=null;for(e=this.containers.length-1;e>=0;e--)if(!a.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(o&&a.contains(this.containers[e].element[0],o.element[0]))continue;o=this.containers[e],p=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",d,this._uiHash(this)),this.containers[e].containerCache.over=0);if(o)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",d,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(g=1e4,h=null,n=o.floating||c(this.currentItem),i=n?"left":"top",j=n?"width":"height",k=this.positionAbs[i]+this.offset.click[i],f=this.items.length-1;f>=0;f--)a.contains(this.containers[p].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(!n||b(this.positionAbs.top+this.offset.click.top,this.items[f].top,this.items[f].height))&&(l=this.items[f].item.offset()[i],m=!1,Math.abs(l-k)>Math.abs(l+this.items[f][j]-k)&&(m=!0,l+=this.items[f][j]),g>Math.abs(l-k)&&(g=Math.abs(l-k),h=this.items[f],this.direction=m?"up":"down"));if(!h&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;h?this._rearrange(d,h,null,!0):this._rearrange(d,null,this.containers[p].element,!0),this._trigger("change",d,this._uiHash()),this.containers[p]._trigger("change",d,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",d,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(!d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),("document"===e.containment||"window"===e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])&&(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(e.push(function(a){this._trigger("remove",a,this._uiHash())}),e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)b||e.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(e.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){for(this._trigger("beforeStop",a,this._uiHash()),d=0;e.length>d;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(d=0;e.length>d;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}(jQuery),function(a,b){function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.dpDiv=d(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.delegate(c,"mouseout",function(){a(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate(c,"mouseover",function(){a.datepicker._isDisabledDatepicker(f.inline?b.parent()[0]:f.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function e(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}a.extend(a.ui,{datepicker:{version:"1.10.4"}});var f,g="datepicker";a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return e(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){var e=b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:e,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?d(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(c),a.data(b,g,c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.unbind("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),("focus"===d||"both"===d)&&b.focus(this._showDatepicker),("button"===d||"both"===d)&&(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");
g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;a.length>e;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,g,c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,f,h){var i,j,k,l,m,n=this._dialogInst;return n||(this.uuid+=1,i="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+i+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),n=this._dialogInst=this._newInst(this._dialogInput,!1),n.settings={},a.data(this._dialogInput[0],g,n)),e(n.settings,f||{}),c=c&&c.constructor===Date?this._formatDate(n,c):c,this._dialogInput.val(c),this._pos=h?h.length?h:[h.pageX,h.pageY]:null,this._pos||(j=document.documentElement.clientWidth,k=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,m=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[j/2-100+l,k/2-150+m]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),n.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],g,n),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,g);d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,g),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===c||"span"===c)&&d.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;this._disabledInputs.length>b;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,g)}catch(c){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(c,d,f){var g,h,i,j,k=this._getInst(c);return 2===arguments.length&&"string"==typeof d?"defaults"===d?a.extend({},a.datepicker._defaults):k?"all"===d?a.extend({},k.settings):this._get(k,d):null:(g=d||{},"string"==typeof d&&(g={},g[d]=f),k&&(this._curInst===k&&this._hideDatepicker(),h=this._getDateDatepicker(c,!0),i=this._getMinMaxDate(k,"min"),j=this._getMinMaxDate(k,"max"),e(k.settings,g),null!==i&&g.dateFormat!==b&&g.minDate===b&&(k.settings.minDate=this._formatDate(k,i)),null!==j&&g.dateFormat!==b&&g.maxDate===b&&(k.settings.maxDate=this._formatDate(k,j)),"disabled"in g&&(g.disabled?this._disableDatepicker(c):this._enableDatepicker(c)),this._attachments(a(c),k),this._autoSize(k),this._setDate(k,h),this._updateAlternate(k),this._updateDatepicker(k)),b)},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(c){var d,e,f=a.datepicker._getInst(c.target);return a.datepicker._get(f,"constrainInput")?(d=a.datepicker._possibleChars(a.datepicker._get(f,"dateFormat")),e=String.fromCharCode(null==c.charCode?c.keyCode:c.charCode),c.ctrlKey||c.metaKey||" ">e||!d||d.indexOf(e)>-1):b},_doKeyUp:function(b){var c,d=a.datepicker._getInst(b.target);if(d.input.val()!==d.lastVal)try{c=a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d)),c&&(a.datepicker._setDateFromField(d),a.datepicker._updateAlternate(d),a.datepicker._updateDatepicker(d))}catch(e){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var c,d,f,g,h,i,j;c=a.datepicker._getInst(b),a.datepicker._curInst&&a.datepicker._curInst!==c&&(a.datepicker._curInst.dpDiv.stop(!0,!0),c&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),d=a.datepicker._get(c,"beforeShow"),f=d?d.apply(b,[b,c]):{},f!==!1&&(e(c.settings,f),c.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(c),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),g=!1,a(b).parents().each(function(){return g|="fixed"===a(this).css("position"),!g}),h={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(c),h=a.datepicker._checkOffset(c,h,g),c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":g?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),c.inline||(i=a.datepicker._get(c,"showAnim"),j=a.datepicker._get(c,"duration"),c.dpDiv.zIndex(a(b).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[i]?c.dpDiv.show(i,a.datepicker._get(c,"showOptions"),j):c.dpDiv[i||"show"](i?j:null),a.datepicker._shouldFocusInput(c)&&c.input.focus(),a.datepicker._curInst=c))}},_updateDatepicker:function(b){this.maxRows=4,f=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b),b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var c,d=this._getNumberOfMonths(b),e=d[1],g=17;b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",g*e+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus(),b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,h=this._curInst;!h||b&&h!==a.data(b,g)||this._datepickerShowing&&(c=this._get(h,"showAnim"),d=this._get(h,"duration"),e=function(){a.datepicker._tidyDialog(h)},a.effects&&(a.effects.effect[c]||a.effects[c])?h.dpDiv.hide(c,a.datepicker._get(h,"showOptions"),d,e):h.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(h,"onClose"),f&&f.apply(h.input?h.input[0]:null,[h.input?h.input.val():"",h]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id!==a.datepicker._mainDivId&&0===c.parents("#"+a.datepicker._mainDivId).length&&!c.hasClass(a.datepicker.markerClassName)&&!c.closest("."+a.datepicker._triggerClass).length&&a.datepicker._datepickerShowing&&(!a.datepicker._inDialog||!a.blockUI)||c.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==d)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).each(function(){a(this).val(e)}))},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(c,d,e){if(null==c||null==d)throw"Invalid arguments";if(d="object"==typeof d?""+d:d+"",""===d)return null;var f,g,h,i,j=0,k=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof k?k:(new Date).getFullYear()%100+parseInt(k,10),m=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,n=(e?e.dayNames:null)||this._defaults.dayNames,o=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,p=(e?e.monthNames:null)||this._defaults.monthNames,q=-1,r=-1,s=-1,t=-1,u=!1,v=function(a){var b=c.length>f+1&&c.charAt(f+1)===a;return b&&f++,b},w=function(a){var b=v(a),c="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e=RegExp("^\\d{1,"+c+"}"),f=d.substring(j).match(e);if(!f)throw"Missing number at position "+j;return j+=f[0].length,parseInt(f[0],10)},x=function(c,e,f){var g=-1,h=a.map(v(c)?f:e,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(h,function(a,c){var e=c[1];return d.substr(j,e.length).toLowerCase()===e.toLowerCase()?(g=c[0],j+=e.length,!1):b}),-1!==g)return g+1;throw"Unknown name at position "+j},y=function(){if(d.charAt(j)!==c.charAt(f))throw"Unexpected literal at position "+j;j++};for(f=0;c.length>f;f++)if(u)"'"!==c.charAt(f)||v("'")?y():u=!1;else switch(c.charAt(f)){case"d":s=w("d");break;case"D":x("D",m,n);break;case"o":t=w("o");break;case"m":r=w("m");break;case"M":r=x("M",o,p);break;case"y":q=w("y");break;case"@":i=new Date(w("@")),q=i.getFullYear(),r=i.getMonth()+1,s=i.getDate();break;case"!":i=new Date((w("!")-this._ticksTo1970)/1e4),q=i.getFullYear(),r=i.getMonth()+1,s=i.getDate();break;case"'":v("'")?y():u=!0;break;default:y()}if(d.length>j&&(h=d.substr(j),!/^\s+/.test(h)))throw"Extra/unparsed characters found in date: "+h;if(-1===q?q=(new Date).getFullYear():100>q&&(q+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=q?0:-100)),t>-1)for(r=1,s=t;g=this._getDaysInMonth(q,r-1),!(g>=s);)r++,s-=g;if(i=this._daylightSavingAdjust(new Date(q,r-1,s)),i.getFullYear()!==q||i.getMonth()+1!==r||i.getDate()!==s)throw"Invalid date";return i},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=a.length>d+1&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;c>d.length;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;a.length>d;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=a.length>b+1&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;a.length>b;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,c){return a.settings[c]!==b?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(h){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var e=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,f=e.getFullYear(),g=e.getMonth(),h=e.getDate(),i=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=i.exec(c);j;){switch(j[2]||"d"){case"d":case"D":h+=parseInt(j[1],10);break;case"w":case"W":h+=7*parseInt(j[1],10);break;case"m":case"M":g+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g))}j=i.exec(c)}return new Date(f,g,h)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"==""+g?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).bind(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,aa=a.drawYear;if(0>_&&(_+=12,aa--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),b=Z&&Z>b?Z:b;this._daylightSavingAdjust(new Date(aa,_,1))>b;)_--,0>_&&(_=11,aa--);for(a.drawMonth=_,a.drawYear=aa,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(aa,_-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,aa,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(aa,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,aa,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;U[0]>w;w++){for(x="",this.maxRows=4,y=0;U[1]>y;y++){if(z=this._daylightSavingAdjust(new Date(aa,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,aa,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;7>v;v++)D=(v+k)%7,C+="<th"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(aa,_),aa===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(aa,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(aa,_,1-F)),J=0;H>J;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;7>v;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&Z>I||$&&I>$,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}_++,_>11&&(_=0,aa++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;12>k;k++)(!i||k>=d.getMonth())&&(!j||e.getMonth()>=k)&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p>=o;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),e=a.drawMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"===c||"Y"===c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||h>=b.getFullYear())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new c,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.10.4"}(jQuery),define("jquery-ui",["jquery"],function(){}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.7",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove();
}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a("#"===f?[]:f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.7",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.7",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue())return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);if(this.$element.trigger(g),!g.isDefaultPrevented())return f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.7",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.7",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]
}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&e<=c?"top":null!=d&&i+j>=a-d&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),define("bootstrap",["jquery"],function(){}),require(["jquery","bootstrap"],function(a){"use strict";var b=function(){var b=this;a(document).off("click.bs.button.data-api","[data-toggle^=button]"),a(document).on("click.bs.button.data-api","[data-toggle^=button] .btn:not(label)",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()}),this.onInputChange=function(b){var c=a('[name="'+a(b.target).attr("name")+'"]');c.each(function(){var b=a(this).closest(".btn");a(this).prop("checked")||a(this).is(":focus")?b.addClass("active"):b.removeClass("active")})},this.onInputFocus=function(b){var c=a(b.target),d=c.closest(".btn");d.addClass("active")},this.onInputBlur=function(b){var c=a(b.target),d=c.closest(".btn");d.removeClass("focus"),c.prop("checked")||d.removeClass("active")},this.initialize=function(){a(document).on("change.bs.button.data-api","[data-toggle^=button] input",b.onInputChange),a(document).on("focus.bs.button.data-api","[data-toggle^=button] input",b.onInputFocus),a(document).on("blur.bs.button.data-api","[data-toggle^=button] input",b.onInputBlur)}};a(function(){a("label.btn").size()&&(new b).initialize()})}),define("cb/bootstrap-button-fix/main",function(){}),require(["jquery","bootstrap"],function(a){"use strict";var b=function(a){window.location.href=a.href},c=function(b){var c=a(b).find(".cms-hide-content");return c.size()&&c.attr("href")?c.attr("href"):null},d=function(d){var e=c(d.data.container),f=function(){};"A"===d.currentTarget.tagName&&(d.preventDefault(),f=b),e&&a.post(e).done(function(){f(d.currentTarget)})};a(function(){a(".modal-carecurtain").each(function(){var b=a(this);b.modal({backdrop:!0,keyboard:!0,show:!0}),b.on("hide.bs.modal",{container:this},d),b.find("a.cms-dismiss-action, button.cms-dismiss-action").on("click",{container:this},d)})})}),define("cb/carecurtain/main",function(){}),require(["jquery","bootstrap"],function(a){"use strict";var b=function(){var b=this;this.hideCMSContent=function(b){b.preventDefault();var c=a(b.currentTarget),d=c.parents(".cms-content, .v5-site-panel");c.data("target")&&(d=d.add(c.data("target"))),d.slideUp(250),a(".modal-carecurtain").each(function(){a(this).modal("hide")}),a.post(c.attr("href")).fail(function(){document.location.href=c.attr("href")})},this.dismissMarketingContent=function(b){b.preventDefault();var c,d=a(b.currentTarget),e=d.attr("href"),f=a(d.data("hide-target"));d.data("post-url")&&d.data("param")&&(e=d.data("post-url"),c=d.data("param")),a.post(e,{param:c}).done(function(){f.remove()}).fail(function(){document.location.href=e}),f.removeClass("visible-xs").addClass("hidden")},this.initialize=function(){a(document).on("click.content",".cms-hide-content",b.hideCMSContent),a(document).on("click.content",".js-dismiss-marketing-content",b.dismissMarketingContent)}};a(function(){(new b).initialize()})}),define("cb/content/main",function(){}),define("text",["module"],function(a){"use strict";var b,c,d=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],e=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,f=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,g="undefined"!=typeof location&&location.href,h=g&&location.protocol&&location.protocol.replace(/\:/,""),i=g&&location.hostname,j=g&&(location.port||void 0),k=[],l=a.config&&a.config()||{};return b={version:"2.0.3",strip:function(a){if(a){a=a.replace(e,"");var b=a.match(f);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:l.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;b<3;b+=1){c=d[b];try{a=new ActiveXObject(c)}catch(e){}if(a){d=[c];break}}return a},parseName:function(a){var b=!1,c=a.indexOf("."),d=a.substring(0,c),e=a.substring(c+1,a.length);return c=e.indexOf("!"),c!==-1&&(b=e.substring(c+1,e.length),b="strip"===b,e=e.substring(0,c)),{moduleName:d,ext:e,strip:b}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,c,d,e){var f,g,h,i=b.xdRegExp.exec(a);return!i||(f=i[2],g=i[3],g=g.split(":"),h=g[1],g=g[0],!(f&&f!==c||g&&g.toLowerCase()!==d.toLowerCase()||(h||g)&&h!==e))},finishLoad:function(a,c,d,e){d=c?b.strip(d):d,l.isBuild&&(k[a]=d),e(d)},load:function(a,c,d,e){if(e.isBuild&&!e.inlineText)return void d();l.isBuild=e.isBuild;var f=b.parseName(a),k=f.moduleName+"."+f.ext,m=c.toUrl(k),n=l.useXhr||b.useXhr;!g||n(m,h,i,j)?b.get(m,function(c){b.finishLoad(a,f.strip,c,d)},function(a){d.error&&d.error(a)}):c([k],function(a){b.finishLoad(f.moduleName+"."+f.ext,f.strip,a,d)})},write:function(a,c,d,e){if(k.hasOwnProperty(c)){var f=b.jsEscape(k[c]);d.asModule(a+"!"+c,"define(function () { return '"+f+"';});\n")}},writeFile:function(a,c,d,e,f){var g=b.parseName(c),h=g.moduleName+"."+g.ext,i=d.toUrl(g.moduleName+"."+g.ext)+".js";b.load(h,d,function(c){var d=function(a){return e(i,a)};d.asModule=function(a,b){return e.asModule(a,i,b)},b.write(a,h,d,f)},f)}},"node"===l.env||!l.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),b.get=function(a,b){var d=c.readFileSync(a,"utf8");0===d.indexOf("\ufeff")&&(d=d.substring(1)),b(d)}):"xhr"===l.env||!l.env&&b.createXhr()?b.get=function(a,c,d){var e=b.createXhr();e.open("GET",a,!0),l.onXhr&&l.onXhr(e,a),e.onreadystatechange=function(b){var f,g;4===e.readyState&&(f=e.status,f>399&&f<600?(g=new Error(a+" HTTP status: "+f),g.xhr=e,d(g)):c(e.responseText))},e.send(null)}:("rhino"===l.env||!l.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)&&(b.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)}),b}),define("text!cb/cookie/no-cookies.jst",[],function(){return'<div class="alert alert-error">\n    <p>\n        <strong>Notice:</strong> Cookies must be enabled in your browser in order to use most CaringBridge features,\n        and it seems like you currently have cookies blocked.\n    </p>\n    <p>\n        To get the best CaringBridge experience, please <strong>allow cookies</strong> from CaringBridge, or visit\n        our <a href="https://caringbridgeorg.force.com/s/" target="_blank">Help Center</a> for additional information.\n    </p>\n</div>\n'}),function(a){"function"==typeof define&&define.amd?define("vendor/jquery.cookie",["jquery"],a):a(jQuery)}(function(a){function b(a){return a}function c(a){return decodeURIComponent(a.replace(e," "))}function d(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return f.json?JSON.parse(a):a}catch(b){}}var e=/\+/g,f=a.cookie=function(e,g,h){if(void 0!==g){if(h=a.extend({},f.defaults,h),"number"==typeof h.expires){var i=h.expires,j=h.expires=new Date;j.setDate(j.getDate()+i)}return g=f.json?JSON.stringify(g):String(g),document.cookie=[f.raw?e:encodeURIComponent(e),"=",f.raw?g:encodeURIComponent(g),h.expires?"; expires="+h.expires.toUTCString():"",h.path?"; path="+h.path:"",h.domain?"; domain="+h.domain:"",h.secure?"; secure":""].join("")}for(var k=f.raw?b:c,l=document.cookie.split("; "),m=e?void 0:{},n=0,o=l.length;n<o;n++){var p=l[n].split("="),q=k(p.shift()),r=k(p.join("="));if(e&&e===q){m=d(r);break}e||(m[q]=d(r))}return m};f.defaults={},a.removeCookie=function(b,c){return void 0!==a.cookie(b)&&(a.cookie(b,"",a.extend({},c,{expires:-1})),!0)}}),require(["jquery","underscore","text!cb/cookie/no-cookies.jst","vendor/jquery.cookie"],function(a,b,c){"use strict";a(function(){"undefined"!=typeof a.cookie&&(a.cookie("cookiesEnabled","true"),"string"!=typeof a.cookie("cookiesEnabled")&&a("#flash-messages").prepend(b.template(c)))})}),define("cb/cookie/main",function(){}),define("cb/fluidify-youtube/main",["jquery"],function(a){"use strict";var b=function(){this.initialize=function(){a(".video-container").each(function(){var b=a(this).find("iframe[width][height]");b.size()>0&&a(this).css("padding-bottom",100*b.attr("height")/b.attr("width")+"%")})}};a(function(){a(".video-container").size()&&(new b).initialize()})}),function(a){"use strict";var b=window.console||function(){},c={defaults:{debug:!1,RODom:!1,patternLibrary:{phone:/([\+][0-9]{1,3}([ \.\-])?)?([\(]{1}[0-9]{3}[\)])?([0-9A-Z \.\-]{1,32})((x|ext|extension)?[0-9]{1,4}?)/,email:/((([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?/,url:/(https?|ftp):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?/,number:/-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?/,dateISO:/\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,alpha:/[a-zA-Z]+/,alphaNumeric:/\w+/,integer:/-?\d+/},classPrefix:"h5-",errorClass:"ui-state-error",validClass:"ui-state-valid",activeClass:"active",requiredClass:"required",requiredAttribute:"required",patternAttribute:"pattern",errorAttribute:"data-h5-errorid",customEvents:{validate:!0},kbSelectors:":input:not(:button):not(:disabled):not(.novalidate)",focusout:!0,focusin:!1,change:!0,keyup:!1,activeKeyup:!0,mSelectors:'[type="range"]:not(:disabled):not(.novalidate), :radio:not(:disabled):not(.novalidate), :checkbox:not(:disabled):not(.novalidate), select:not(:disabled):not(.novalidate), option:not(:disabled):not(.novalidate)',click:!0,requiredVar:"h5-required",patternVar:"h5-pattern",stripMarkup:!0,submit:!0,focusFirstInvalidElementOnSubmit:!0,validateOnSubmit:!0,invalidCallback:function(){},validCallback:function(){},allValidSelectors:":input:visible:not(:button):not(:disabled):not(.novalidate)",markInvalid:function(b){var c=a(b.element),d=a(b.errorID);return c.addClass(b.errorClass).removeClass(b.validClass),c.addClass(b.settings.activeClass),d.length&&(c.attr("title")&&d.text(c.attr("title")),d.show()),c.data("valid",!1),b.settings.invalidCallback.call(b.element,b.validity),c},markValid:function(b){var c=a(b.element),d=a(b.errorID);return c.addClass(b.validClass).removeClass(b.errorClass),d.length&&d.hide(),c.data("valid",!0),b.settings.validCallback.call(b.element,b.validity),c},unmark:function(b){var c=a(b.element);return c.removeClass(b.errorClass).removeClass(b.validClass),c.form.find("#"+b.element.id).removeClass(b.errorClass).removeClass(b.validClass),c}}},d=c.defaults,e=d.patternLibrary,f=function(b){return a.extend({customError:b.customError||!1,patternMismatch:b.patternMismatch||!1,rangeOverflow:b.rangeOverflow||!1,rangeUnderflow:b.rangeUnderflow||!1,stepMismatch:b.stepMismatch||!1,tooLong:b.tooLong||!1,typeMismatch:b.typeMismatch||!1,valid:b.valid||!0,valueMissing:b.valueMissing||!1},b)},g={isValid:function(b,c){var d=a(this);return c=b&&c||{},c.revalidate!==!1&&d.trigger("validate"),d.data("valid")},allValid:function(b,c){var d,e,f=!0,g=[],h=a(this),i=[],j=function(a,b){b.e=a,g.push(b)},k=a.extend({},b,c);return c=c||{},h.trigger("formValidate",{settings:a.extend(!0,{},k)}),h.undelegate(k.allValidSelectors,".allValid",j),h.delegate(k.allValidSelectors,"validated.allValid",j),d=h.find(k.allValidSelectors),e=d.filter(function(a){var b;if("INPUT"===this.tagName&&"radio"===this.type){if(b=this.name,i[b]===!0)return!1;i[b]=!0}return!0}),e.each(function(){var b=a(this);f=b.h5Validate("isValid",c)&&f}),h.trigger("formValidated",{valid:f,elements:g}),f},validate:function(c){var d,e=a(this),g=!!e.filter("[pattern]")[0]&&e.attr("pattern"),h=new RegExp("^(?:"+g+")$"),i=null,j=e.is("[type=checkbox]")?e.is(":checked"):e.is("[type=radio]")?(i=e.parents("form").find('input[name="'+e.attr("name")+'"]')).filter(":checked").length>0:e.val(),k=c.errorClass,l=c.validClass,m=e.attr(c.errorAttribute)||!1,n=!!m&&"#"+m.replace(/(:|\.|\[|\])/g,"\\$1"),o=!1,p=f({element:this,valid:!0}),q=a("<input required>");o=q.filter("[required]")&&q.filter("[required]").length?e.filter("[required]").length&&"false"!==e.attr("required"):void 0!==e.attr("required"),c.debug&&window.console&&(b.log('Validate called on "'+j+'" with regex "'+h+'". Required: '+o),b.log("Regex test: "+h.test(j)+", Pattern: "+g)),d=parseInt(e.attr("maxlength"),10),!isNaN(d)&&j.length>d&&(p.valid=!1,p.tooLong=!0),o&&!j?(p.valid=!1,p.valueMissing=!0):g&&!h.test(j)&&j?(p.valid=!1,p.patternMismatch=!0):c.RODom||c.markValid({element:this,validity:p,errorClass:k,validClass:l,errorID:n,settings:c}),p.valid||c.RODom||c.markInvalid({element:this,validity:p,errorClass:k,validClass:l,errorID:n,settings:c}),e.trigger("validated",p),null!==i&&c.alreadyCheckingRelatedRadioButtons!==!0&&(c.alreadyCheckingRelatedRadioButtons=!0,i.not(e).trigger("validate"),c.alreadyCheckingRelatedRadioButtons=!1)},delegateEvents:function(b,c,d,e){var f={},g=0,h=function(){e.validate.call(this,e)};a.each(c,function(a,b){b&&(f[a]=a)});for(g in f)f.hasOwnProperty(g)&&a(d).delegate(b,f[g]+".h5Validate",h);return d},bindDelegation:function(b){var c,d=a(this);return a.each(e,function(c,d){var e=d.toString();e=e.substring(1,e.length-1),a("."+b.classPrefix+c).attr("pattern",e)}),c=d.filter("form").add(d.find("form")).add(d.parents("form")),c.attr("novalidate","novalidate").submit(h),c.find("input[formnovalidate][type='submit']").click(function(){a(this).closest("form").unbind("submit",h)}),this.each(function(){var a={focusout:b.focusout,focusin:b.focusin,change:b.change,keyup:b.keyup},c={click:b.click},d={keyup:b.activeKeyup};b.delegateEvents(":input",b.customEvents,this,b),b.delegateEvents(b.kbSelectors,a,this,b),b.delegateEvents(b.mSelectors,c,this,b),b.delegateEvents(b.activeClassSelector,d,this,b),b.delegateEvents("textarea[maxlength]",{keyup:!0},this,b)})}},h=function(b){var c,d,e=k.call(this);if(e.submit===!0){if(c=a(this),d=c.h5Validate("allValid",{revalidate:e.validateOnSubmit===!0}),d!==!0&&(b.preventDefault(),e.focusFirstInvalidElementOnSubmit===!0)){var f=a(e.allValidSelectors,c).filter(function(b){return a(this).h5Validate("isValid",{revalidate:!1})!==!0});f.first().focus()}return d}},i=[],j=function(b){var c=a.extend({},d,b,g),e=c.classPrefix+c.activeClass;return a.extend(c,{activeClass:e,activeClassSelector:"."+e,requiredClass:c.classPrefix+c.requiredClass,el:this})},k=function(){var b=a(this).closest("[data-h5-instanceId]");return i[b.attr("data-h5-instanceId")]},l=function(b){var c=i.push(b)-1;b.RODom!==!0&&a(this).attr("data-h5-instanceId",c),a(this).trigger("instance",{"data-h5-instanceId":c})};a.h5Validate={addPatterns:function(a){var b,c=d.patternLibrary;for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c},validValues:function(b,c){var d,e=0,f=c.length,g="";for(e=0;e<f;e+=1)g=g?g+"|"+c[e]:c[e];d=new RegExp("^(?:"+g+")$"),a(b).data("regex",d)}},a.fn.h5Validate=function(b){var c,d,e;return"string"==typeof b&&"function"==typeof g[b]?(e=k.call(this),d=[].slice.call(arguments,0),c=b,d.shift(),d=a.merge([e],d),e[c].apply(this,d)):(e=j.call(this,b),l.call(this,e),g.bindDelegation.call(this,e))}}(jQuery),define("vendor/bower_components/h5Validate/jquery.h5validate",function(){}),define("cb/form/double-submit",["jquery"],function(a){"use strict";var b={};return b.prevent=function(){return a(this).data("submitted")!==!0&&void a(this).data("submitted",!0)},b}),define("cb/form/credit-card-detect",["jquery"],function(a){"use strict";function b(a,b,c){var d=parseInt(a,10);return b%2===c&&(d=2*d),d>9&&(d-=9),d}var c={};return c.ping=function(){return"ping"},c.containsCreditCard=function(a){var b;return a=decodeURI(a),a=String(a).replace(/[^0-9]/g,""),b=a.length>=15},c.luhnCheck=function(a){for(var c=0,d=a.length%2,e=0;e<=a.length-1;e++){var f=a[e],g=b(f,e,d);c+=g}var h=c%10;return 0===h},c.validate=function(b){var d=!1;return a(this).find("input[type=text], textarea").each(function(b,e){var f=a(e);c.containsCreditCard(f.val())&&(d=!0,f.popover({title:"Invalid data in Tribute Message",content:"Please re-enter message and resubmit.",placement:"top"}).popover("show"))}),!d||(b.preventDefault(),b.stopImmediatePropagation(),!1)},c}),window.Modernizr=function(a,b,c){function d(a){t.cssText=a}function e(a,b){return d(w.join(a+";")+(b||""))}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b){for(var d in a){var e=a[d];if(!g(e,"-")&&t[e]!==c)return"pfx"!=b||e}return!1}function i(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return d===!1?a[e]:f(g,"function")?g.bind(d||b):g}return!1}function j(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+y.join(d+" ")+d).split(" ");return f(b,"string")||f(b,"undefined")?h(e,b):(e=(a+" "+z.join(d+" ")+d).split(" "),i(e,b,c))}function k(){o.input=function(c){for(var d=0,e=c.length;d<e;d++)D[c[d]]=c[d]in u;return D.list&&(D.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),D}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),o.inputtypes=function(a){for(var d,e,f,g=0,h=a.length;g<h;g++)u.setAttribute("type",e=a[g]),d="text"!==u.type,d&&(u.value=v,u.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(e)&&u.style.WebkitAppearance!==c?(q.appendChild(u),f=b.defaultView,d=f.getComputedStyle&&"textfield"!==f.getComputedStyle(u,null).WebkitAppearance&&0!==u.offsetHeight,q.removeChild(u)):/^(search|tel)$/.test(e)||(d=/^(url|email)$/.test(e)?u.checkValidity&&u.checkValidity()===!1:u.value!=v)),C[a[g]]=!!d;return C}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var l,m,n="2.7.1",o={},p=!0,q=b.documentElement,r="modernizr",s=b.createElement(r),t=s.style,u=b.createElement("input"),v=":)",w=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),x="Webkit Moz O ms",y=x.split(" "),z=x.toLowerCase().split(" "),A={svg:"http://www.w3.org/2000/svg"},B={},C={},D={},E=[],F=E.slice,G=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:r+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',r,'">',a,"</style>"].join(""),j.id=r,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=q.style.overflow,q.style.overflow="hidden",q.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),q.style.overflow=i),!!g},H=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b).matches;var d;return G("@media "+b+" { #"+r+" { position: absolute; } }",function(b){d="absolute"==(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position}),d},I=function(){function a(a,e){e=e||b.createElement(d[a]||"div"),a="on"+a;var g=a in e;return g||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(a,""),g=f(e[a],"function"),f(e[a],"undefined")||(e[a]=c),e.removeAttribute(a))),e=null,g}var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a}(),J={}.hasOwnProperty;m=f(J,"undefined")||f(J.call,"undefined")?function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")}:function(a,b){return J.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=F.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(F.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(F.call(arguments)))};return d}),B.flexbox=function(){return j("flexWrap")},B.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},B.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:G(["@media (",w.join("touch-enabled),("),r,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c},B.geolocation=function(){return"geolocation"in navigator},B.postmessage=function(){return!!a.postMessage},B.hashchange=function(){return I("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},B.history=function(){return!!a.history&&!!history.pushState},B.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},B.rgba=function(){return d("background-color:rgba(150,255,150,.5)"),g(t.backgroundColor,"rgba")},B.multiplebgs=function(){return d("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(t.background)},B.backgroundsize=function(){return j("backgroundSize")},B.borderimage=function(){return j("borderImage")},B.borderradius=function(){return j("borderRadius")},B.boxshadow=function(){return j("boxShadow")},B.textshadow=function(){return""===b.createElement("div").style.textShadow},B.opacity=function(){return e("opacity:.55"),/^0.55$/.test(t.opacity)},B.cssanimations=function(){return j("animationName")},B.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return d((a+"-webkit- ".split(" ").join(b+a)+w.join(c+a)).slice(0,-a.length)),g(t.backgroundImage,"gradient")},B.cssreflections=function(){return j("boxReflect")},B.csstransforms=function(){return!!j("transform")},B.csstransforms3d=function(){var a=!!j("perspective");return a&&"webkitPerspective"in q.style&&G("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=9===b.offsetLeft&&3===b.offsetHeight}),a},B.csstransitions=function(){return j("transition")},B.fontface=function(){var a;return G('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&0===g.indexOf(d.split(" ")[0])}),a},B.generatedcontent=function(){var a;return G(["#",r,"{font:0/0 a}#",r,':after{content:"',v,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},B.video=function(){var a=b.createElement("video"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(d){}return c},B.audio=function(){var a=b.createElement("audio"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(d){}return c},B.localstorage=function(){try{return localStorage.setItem(r,r),localStorage.removeItem(r),!0}catch(a){return!1}},B.svg=function(){return!!b.createElementNS&&!!b.createElementNS(A.svg,"svg").createSVGRect},B.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==A.svg};for(var K in B)m(B,K)&&(l=K.toLowerCase(),o[l]=B[K](),E.push((o[l]?"":"no-")+l));return o.input||k(),o.addTest=function(a,b){if("object"==typeof a)for(var d in a)m(a,d)&&o.addTest(d,a[d]);else{if(a=a.toLowerCase(),o[a]!==c)return o;b="function"==typeof b?b():b,"undefined"!=typeof p&&p&&(q.className+=" "+(b?"":"no-")+a),o[a]=b}return o},d(""),s=u=null,o._version=n,o._prefixes=w,o._domPrefixes=z,o._cssomPrefixes=y,o.mq=H,o.hasEvent=I,o.testProp=function(a){return h([a])},o.testAllProps=j,o.testStyles=G,o.prefixed=function(a,b,c){return b?j(a,b,c):j(a,"pfx")},q.className=q.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+E.join(" "):""),o}(this,this.document),function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=x.elements;return"string"==typeof a?a.split(" "):a}function e(a){var b=w[a[u]];return b||(b={},v++,a[u]=v,w[v]=b),b}function f(a,c,d){if(c||(c=b),p)return c.createElement(a);d||(d=e(c));var f;return f=d.cache[a]?d.cache[a].cloneNode():t.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),!f.canHaveChildren||s.test(a)||f.tagUrn?f:d.frag.appendChild(f)}function g(a,c){if(a||(a=b),p)return a.createDocumentFragment();c=c||e(a);for(var f=c.frag.cloneNode(),g=0,h=d(),i=h.length;g<i;g++)f.createElement(h[g]);return f}function h(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return x.shivMethods?f(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(x,b.frag)}function i(a){a||(a=b);var d=e(a);return x.shivCSS&&!o&&!d.hasCSS&&(d.hasCSS=!!c(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),p||h(a,d),a}function j(a){for(var b,c=a.getElementsByTagName("*"),e=c.length,f=RegExp("^(?:"+d().join("|")+")$","i"),g=[];e--;)b=c[e],f.test(b.nodeName)&&g.push(b.applyElement(k(b)));return g}function k(a){for(var b,c=a.attributes,d=c.length,e=a.ownerDocument.createElement(z+":"+a.nodeName);d--;)b=c[d],b.specified&&e.setAttribute(b.nodeName,b.nodeValue);return e.style.cssText=a.style.cssText,e}function l(a){for(var b,c=a.split("{"),e=c.length,f=RegExp("(^|[\\s,>+~])("+d().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),g="$1"+z+"\\:$2";e--;)b=c[e]=c[e].split("}"),b[b.length-1]=b[b.length-1].replace(f,g),c[e]=b.join("}");return c.join("{")}function m(a){for(var b=a.length;b--;)a[b].removeNode()}function n(a){function b(){clearTimeout(g._removeSheetTimer),d&&d.removeNode(!0),d=null}var d,f,g=e(a),h=a.namespaces,i=a.parentWindow;return!A||a.printShived?a:("undefined"==typeof h[z]&&h.add(z),i.attachEvent("onbeforeprint",function(){b();for(var e,g,h,i=a.styleSheets,k=[],m=i.length,n=Array(m);m--;)n[m]=i[m];for(;h=n.pop();)if(!h.disabled&&y.test(h.media)){try{e=h.imports,g=e.length}catch(o){g=0}for(m=0;m<g;m++)n.push(e[m]);try{k.push(h.cssText)}catch(o){}}k=l(k.reverse().join("")),f=j(a),d=c(a,k)}),i.attachEvent("onafterprint",function(){m(f),clearTimeout(g._removeSheetTimer),g._removeSheetTimer=setTimeout(b,500);
}),a.printShived=!0,a)}var o,p,q="3.7.0",r=a.html5||{},s=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,t=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,u="_html5shiv",v=0,w={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",o="hidden"in a,p=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return"undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}()}catch(c){o=!0,p=!0}}();var x={elements:r.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:q,shivCSS:r.shivCSS!==!1,supportsUnknownElements:p,shivMethods:r.shivMethods!==!1,type:"default",shivDocument:i,createElement:f,createDocumentFragment:g};a.html5=x,i(b);var y=/^$|\b(?:all|print)\b/,z="html5shiv",A=!p&&function(){var c=b.documentElement;return"undefined"!=typeof b.namespaces&&"undefined"!=typeof b.parentWindow&&"undefined"!=typeof c.applyElement&&"undefined"!=typeof c.removeNode&&"undefined"!=typeof a.attachEvent}();x.type+=" print",x.shivPrint=n,n(b)}(this,document),function(a,b,c){function d(a){return"[object Function]"==q.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=r.shift();s=1,a?a.t?o(function(){("c"==a.t?m.injectCss:m.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):s=0}function i(a,c,d,e,f,i,j){function k(b){if(!n&&g(l.readyState)&&(t.r=n=1,!s&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&o(function(){v.removeChild(l)},50);for(var d in A[c])A[c].hasOwnProperty(d)&&A[c][d].onload()}}var j=j||m.errorTimeout,l=b.createElement(a),n=0,q=0,t={t:d,s:c,e:f,a:i,x:j};1===A[c]&&(q=1,A[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,q)},r.splice(e,0,t),"img"!=a&&(q||2===A[c]?(v.insertBefore(l,u?null:p),o(k,j)):A[c].push(l))}function j(a,b,c,d,f){return s=0,b=b||"j",e(a)?i("c"==b?x:w,a,b,this.i++,c,d,f):(r.splice(this.i++,0,a),1==r.length&&h()),this}function k(){var a=m;return a.loader={load:j,i:0},a}var l,m,n=b.documentElement,o=a.setTimeout,p=b.getElementsByTagName("script")[0],q={}.toString,r=[],s=0,t="MozAppearance"in n.style,u=t&&!!b.createRange().compareNode,v=u?n:p.parentNode,n=a.opera&&"[object Opera]"==q.call(a.opera),n=!!b.attachEvent&&!n,w=t?"object":n?"script":"img",x=n?"script":w,y=Array.isArray||function(a){return"[object Array]"==q.call(a)},z=[],A={},B={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}};m=function(a){function b(a){var b,c,d,a=a.split("!"),e=z.length,f=a.pop(),g=a.length,f={url:f,origUrl:f,prefixes:a};for(c=0;c<g;c++)d=a[c].split("="),(b=B[d.shift()])&&(f=b(f,d));for(c=0;c<e;c++)f=z[c](f);return f}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(A[i.url]?i.noexec=!0:A[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),A[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(l=function(){var a=[].slice.call(arguments);m.apply(this,a),n()}),g(a,l,b,0,j);else if(Object(a)===a)for(i in h=function(){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c}(),a)a.hasOwnProperty(i)&&(!c&&!--h&&(d(l)?l=function(){var a=[].slice.call(arguments);m.apply(this,a),n()}:l[i]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),n()}}(m[i])),g(a[i],l,b,i,j))}else!c&&n()}var h,i,j=!!a.test,k=a.load||a.both,l=a.callback||f,m=l,n=a.complete||f;c(j?a.yep:a.nope,!!k),k&&c(k)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(y(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):y(j)?m(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},m.addPrefix=function(a,b){B[a]=b},m.addFilter=function(a){z.push(a)},m.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",l=function(){b.removeEventListener("DOMContentLoaded",l,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k,l,n=b.createElement("script"),e=e||m.errorTimeout;n.src=a;for(l in d)n.setAttribute(l,d[l]);c=j?h:c||f,n.onreadystatechange=n.onload=function(){!k&&g(n.readyState)&&(k=1,c(),n.onload=n.onreadystatechange=null)},o(function(){k||(k=1,c(1))},e),i?n.onload():p.parentNode.insertBefore(n,p)},a.yepnope.injectCss=function(a,c,d,e,g,i){var j,e=b.createElement("link"),c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(p.parentNode.insertBefore(e,p),o(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(){if(!Modernizr.canvas)return!1;var a=new Image,b=document.createElement("canvas"),c=b.getContext("2d");a.onload=function(){c.drawImage(a,0,0),Modernizr.addTest("todataurljpeg",function(){return 0===b.toDataURL("image/jpeg").indexOf("data:image/jpeg")}),Modernizr.addTest("todataurlwebp",function(){return 0===b.toDataURL("image/webp").indexOf("data:image/webp")})},a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg=="}(),Modernizr.addTest("contenteditable","contentEditable"in document.documentElement),Modernizr.addTest("cors",!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest)),Modernizr.addTest("cookies",function(){if(navigator.cookieEnabled)return!0;document.cookie="cookietest=1";var a=document.cookie.indexOf("cookietest=")!=-1;return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",a}),Modernizr.testStyles("#modernizr{background-size:cover}",function(a){var b=window.getComputedStyle?window.getComputedStyle(a,null):a.currentStyle;Modernizr.addTest("bgsizecover","cover"==b.backgroundSize)}),Modernizr.addTest("boxsizing",function(){return Modernizr.testAllProps("boxSizing")&&(void 0===document.documentMode||document.documentMode>7)}),Modernizr.addTest("mediaqueries",Modernizr.mq("only all")),Modernizr.addTest("overflowscrolling",function(){return Modernizr.testAllProps("overflowScrolling")}),Modernizr.addTest("cssscrollbar",function(){var a,b="#modernizr{overflow: scroll; width: 40px }#"+Modernizr._prefixes.join("scrollbar{width:0px} #modernizr::").split("#").slice(1).join("#")+"scrollbar{width:0px}";return Modernizr.testStyles(b,function(b){a="scrollWidth"in b&&40==b.scrollWidth}),a}),Modernizr.addTest("subpixelfont",function(){var a,b="#modernizr{position: absolute; top: -10em; visibility:hidden; font: normal 10px arial;}#subpixel{float: left; font-size: 33.3333%;}";return Modernizr.testStyles(b,function(b){var c=b.firstChild;c.innerHTML="This is a text written in Arial",a=!!window.getComputedStyle&&"44px"!==window.getComputedStyle(c,null).getPropertyValue("width")},1,["subpixel"]),a}),Modernizr.addTest("progressbar",function(){return void 0!==document.createElement("progress").max}),Modernizr.addTest("meter",function(){return void 0!==document.createElement("meter").max}),Modernizr.addTest("devicemotion","DeviceMotionEvent"in window),Modernizr.addTest("deviceorientation","DeviceOrientationEvent"in window),function(){var a=new Image;a.onerror=function(){Modernizr.addTest("exif-orientation",function(){return!1})},a.onload=function(){Modernizr.addTest("exif-orientation",function(){return 2!==a.width})},a.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAAABABIBAwABAAAABgASAAAAAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/iiiigD/2Q=="}(),Modernizr.addTest("filereader",function(){return!!(window.File&&window.FileList&&window.FileReader)}),Modernizr.addTest("filesystem",!!Modernizr.prefixed("requestFileSystem",window)),Modernizr.addTest("placeholder",function(){return"placeholder"in(Modernizr.input||document.createElement("input"))&&"placeholder"in(Modernizr.textarea||document.createElement("textarea"))}),Modernizr.addTest("speechinput",function(){var a=document.createElement("input");return"speech"in a||"onwebkitspeechchange"in a}),Modernizr.addTest("getusermedia",!!Modernizr.prefixed("getUserMedia",navigator)),Modernizr.addTest("fullscreen",function(){for(var a=0;a<Modernizr._domPrefixes.length;a++)if(document[Modernizr._domPrefixes[a].toLowerCase()+"CancelFullScreen"])return!0;return!!document.cancelFullScreen||!1}),function(a,b){b.formvalidationapi=!1,b.formvalidationmessage=!1,b.addTest("formvalidation",function(){var c=a.createElement("form");if("checkValidity"in c){var d,e=a.body,f=a.documentElement,g=!1,h=!1;return b.formvalidationapi=!0,c.onsubmit=function(a){window.opera||a.preventDefault(),a.stopPropagation()},c.innerHTML='<input name="modTest" required><button></button>',c.style.position="absolute",c.style.top="-99999em",e||(g=!0,e=a.createElement("body"),e.style.background="",f.appendChild(e)),e.appendChild(c),d=c.getElementsByTagName("input")[0],d.oninvalid=function(a){h=!0,a.preventDefault(),a.stopPropagation()},b.formvalidationmessage=!!d.validationMessage,c.getElementsByTagName("button")[0].click(),e.removeChild(c),g&&f.removeChild(e),h}return!1})}(document,window.Modernizr),Modernizr.addTest("ie8compat",function(){return!window.addEventListener&&document.documentMode&&7===document.documentMode}),Modernizr.addTest("json",!!window.JSON&&!!JSON.parse),Modernizr.addTest("unicode",function(){var a,b=document.createElement("span"),c=document.createElement("span");return Modernizr.testStyles("#modernizr{font-family:Arial,sans;font-size:300em;}",function(d){b.innerHTML="&#5987",c.innerHTML="&#9734",d.appendChild(b),d.appendChild(c),a="offsetWidth"in b&&b.offsetWidth!==c.offsetWidth}),a}),define("modernizr",function(a){return function(){var b;return b||a.Modernizr}}(this)),function(){function a(a){return!!a.exifdata}function b(a,b){b=b||a.match(/^data\:([^\;]+)\;base64,/im)[1]||"",a=a.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var c=atob(a),d=c.length,e=new ArrayBuffer(d),f=new Uint8Array(e),g=0;g<d;g++)f[g]=c.charCodeAt(g);return e}function c(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="blob",c.onload=function(a){200!=this.status&&0!==this.status||b(this.response)},c.send()}function d(a,d){function g(b){var c=e(b),g=f(b);a.exifdata=c||{},a.iptcdata=g||{},d&&d.call(a)}if(a.src)if(/^data\:/i.test(a.src)){var h=b(a.src);g(h)}else if(/^blob\:/i.test(a.src)){var i=new FileReader;i.onload=function(a){g(a.target.result)},c(a.src,function(a){i.readAsArrayBuffer(a)})}else{var j=new XMLHttpRequest;j.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";g(j.response),j=null},j.open("GET",a.src,!0),j.responseType="arraybuffer",j.send(null)}else if(window.FileReader&&(a instanceof window.Blob||a instanceof window.File)){var i=new FileReader;i.onload=function(a){l&&console.log("Got file of length "+a.target.result.byteLength),g(a.target.result)},i.readAsArrayBuffer(a)}}function e(a){var b=new DataView(a);if(l&&console.log("Got file of length "+a.byteLength),255!=b.getUint8(0)||216!=b.getUint8(1))return l&&console.log("Not a valid JPEG"),!1;for(var c,d=2,e=a.byteLength;d<e;){if(255!=b.getUint8(d))return l&&console.log("Not a valid marker at offset "+d+", found: "+b.getUint8(d)),!1;if(c=b.getUint8(d+1),l&&console.log(c),225==c)return l&&console.log("Found 0xFFE1 marker"),k(b,d+4,b.getUint16(d+2)-2);d+=2+b.getUint16(d+2)}}function f(a){var b=new DataView(a);if(l&&console.log("Got file of length "+a.byteLength),255!=b.getUint8(0)||216!=b.getUint8(1))return l&&console.log("Not a valid JPEG"),!1;for(var c=2,d=a.byteLength,e=function(a,b){return 56===a.getUint8(b)&&66===a.getUint8(b+1)&&73===a.getUint8(b+2)&&77===a.getUint8(b+3)&&4===a.getUint8(b+4)&&4===a.getUint8(b+5)};c<d;){if(e(b,c)){var f=b.getUint8(c+7);f%2!==0&&(f+=1),0===f&&(f=4);var h=c+8+f,i=b.getUint16(c+6+f);return g(a,h,i)}c++}}function g(a,b,c){for(var d,e,f,g,h,i=new DataView(a),k={},l=b;l<b+c;)28===i.getUint8(l)&&2===i.getUint8(l+1)&&(g=i.getUint8(l+2),g in t&&(f=i.getInt16(l+3),h=f+5,e=t[g],d=j(i,l+5,f),k.hasOwnProperty(e)?k[e]instanceof Array?k[e].push(d):k[e]=[k[e],d]:k[e]=d)),l++;return k}function h(a,b,c,d,e){var f,g,h,j=a.getUint16(c,!e),k={};for(h=0;h<j;h++)f=c+12*h+2,g=d[a.getUint16(f,!e)],!g&&l&&console.log("Unknown tag: "+a.getUint16(f,!e)),k[g]=i(a,f,b,c,e);return k}function i(a,b,c,d,e){var f,g,h,i,k,l,m=a.getUint16(b+2,!e),n=a.getUint32(b+4,!e),o=a.getUint32(b+8,!e)+c;switch(m){case 1:case 7:if(1==n)return a.getUint8(b+8,!e);for(f=n>4?o:b+8,g=[],i=0;i<n;i++)g[i]=a.getUint8(f+i);return g;case 2:return f=n>4?o:b+8,j(a,f,n-1);case 3:if(1==n)return a.getUint16(b+8,!e);for(f=n>2?o:b+8,g=[],i=0;i<n;i++)g[i]=a.getUint16(f+2*i,!e);return g;case 4:if(1==n)return a.getUint32(b+8,!e);for(g=[],i=0;i<n;i++)g[i]=a.getUint32(o+4*i,!e);return g;case 5:if(1==n)return k=a.getUint32(o,!e),l=a.getUint32(o+4,!e),h=new Number(k/l),h.numerator=k,h.denominator=l,h;for(g=[],i=0;i<n;i++)k=a.getUint32(o+8*i,!e),l=a.getUint32(o+4+8*i,!e),g[i]=new Number(k/l),g[i].numerator=k,g[i].denominator=l;return g;case 9:if(1==n)return a.getInt32(b+8,!e);for(g=[],i=0;i<n;i++)g[i]=a.getInt32(o+4*i,!e);return g;case 10:if(1==n)return a.getInt32(o,!e)/a.getInt32(o+4,!e);for(g=[],i=0;i<n;i++)g[i]=a.getInt32(o+8*i,!e)/a.getInt32(o+4+8*i,!e);return g}}function j(a,b,c){var d="";for(n=b;n<b+c;n++)d+=String.fromCharCode(a.getUint8(n));return d}function k(a,b){if("Exif"!=j(a,b,4))return l&&console.log("Not valid EXIF data! "+j(a,b,4)),!1;var c,d,e,f,g,i=b+6;if(18761==a.getUint16(i))c=!1;else{if(19789!=a.getUint16(i))return l&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;c=!0}if(42!=a.getUint16(i+2,!c))return l&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var k=a.getUint32(i+4,!c);if(k<8)return l&&console.log("Not valid TIFF data! (First offset less than 8)",a.getUint32(i+4,!c)),!1;if(d=h(a,i,i+k,q,c),d.ExifIFDPointer){f=h(a,i,i+d.ExifIFDPointer,p,c);for(e in f){switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":f[e]=s[e][f[e]];break;case"ExifVersion":case"FlashpixVersion":f[e]=String.fromCharCode(f[e][0],f[e][1],f[e][2],f[e][3]);break;case"ComponentsConfiguration":f[e]=s.Components[f[e][0]]+s.Components[f[e][1]]+s.Components[f[e][2]]+s.Components[f[e][3]]}d[e]=f[e]}}if(d.GPSInfoIFDPointer){g=h(a,i,i+d.GPSInfoIFDPointer,r,c);for(e in g){switch(e){case"GPSVersionID":g[e]=g[e][0]+"."+g[e][1]+"."+g[e][2]+"."+g[e][3]}d[e]=g[e]}}return d}var l=!1,m=this,o=function(a){return a instanceof o?a:this instanceof o?void(this.EXIFwrapped=a):new o(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=o),exports.EXIF=o):m.EXIF=o;var p=o.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},q=o.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},r=o.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},s=o.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},t={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};o.getData=function(b,c){return!((b instanceof Image||b instanceof HTMLImageElement)&&!b.complete)&&(a(b)?c&&c.call(b):d(b,c),!0)},o.getTag=function(b,c){if(a(b))return b.exifdata[c]},o.getAllTags=function(b){if(!a(b))return{};var c,d=b.exifdata,e={};for(c in d)d.hasOwnProperty(c)&&(e[c]=d[c]);return e},o.pretty=function(b){if(!a(b))return"";var c,d=b.exifdata,e="";for(c in d)d.hasOwnProperty(c)&&(e+="object"==typeof d[c]?d[c]instanceof Number?c+" : "+d[c]+" ["+d[c].numerator+"/"+d[c].denominator+"]\r\n":c+" : ["+d[c].length+" values]\r\n":c+" : "+d[c]+"\r\n");return e},o.readFromBinaryFile=function(a){return e(a)},"function"==typeof define&&define.amd&&define("exif-js",[],function(){return o})}.call(this),define("exif",function(a){return function(){var b;return b||a.EXIF}}(this)),define("cb/photo/multiple-upload",["jquery","modernizr","exif"],function(a,b,c){"use strict";function d(a){var b;return function(){var c=this,d=arguments;b&&window.cancelAnimationFrame(b),b=window.requestAnimationFrame(function(){a.apply(c,d)})}}function e(a){var b=window.innerWidth,c=JSON.parse(a.getAttribute("data-sticky"));return c.reduce(function(a,c){return b>=c[0]?c[1]:a},0)}function f(a){var b=getComputedStyle(a).getPropertyValue("position");return"fixed"===b?"stuck":"unstuck"}function g(a,b,c){var d=a.children[0],e=f(d),g=d.getBoundingClientRect().height;("stuck"!==e||c)&&(d.style.position="fixed",d.style.top=String(b)+"px",document.getElementsByClassName("stickyGhost")[0].style.height=String(g)+"px")}function h(a,b){var c=a.children[0],d=f(c);("unstuck"!==d||b)&&(c.style.position="static",c.style.top="auto",document.getElementsByClassName("stickyGhost")[0].style.height=0)}function i(a,b){var c=a.getClientRects()[0].top,d=e(a);c<=d?g(a,d,b):h(a,b)}function(){}function k(){var a=document.querySelector("[data-sticky]");a&&(o=d(j(a,!0)),n=d(j(a)),window.addEventListener("resize",o,!1),window.addEventListener("scroll",n,!1))}function l(){window.removeEventListener("resize",o,!1),window.removeEventListener("scroll",n,!1)}function m(){function a(a){var b=(Math.random().toString(16)+"000000000").substr(2,8);return a?"-"+b.substr(0,4)+"-"+b.substr(4,4):b}return a()+a(!0)+a(!0)+a()}var n,o,p=1e7,q=1e7,r={formattedSizeDisplay:function(a){return"number"!=typeof a?"":a>=1e9?(a/1e9).toFixed(2)+" GB":a>=1e6?(a/1e6).toFixed(2)+" MB":(a/1e3).toFixed(2)+" KB"},renderUploadInstructions:function(b){a("#js-uploadInstruction").toggle(b),a("#js-uploadErrorMsg").toggle(!b)},prepareForUploadAll:function(b){0===b.invalidFileCount?(r.renderUploadInstructions(!0),l(),a(".alert-error").remove(),r.getValidPhotoCount(b)?r.toggleUploadAllButtonDisplay(b.$container,!0):r.toggleUploadAllButtonDisplay(b.$container,"disabled"),b.$container.find(".js-uploadItems").hasClass("js-multiple-upload")?b.$container.find(".js-uploadItems").off("click").on("click",{module:b},r.uploadFilesInChunks):b.$container.find(".js-uploadItems").off("click").on("click",{module:b},r.uploadFilesInSequence)):(r.renderUploadInstructions(!1),b.$mediaPhotoStage&&b.$mediaPhotoStage.trigger("staging-error",["One or more of your files failed to load. Please correct the error(s) and try again."])),r.setUploadButtonText(r.getValidPhotoCount(b))},getValidPhotoCount:function(a){return a.storedFiles.reduce(function(a,b){return a+(b[1]?1:0)},0)},setUploadButtonText:function(b){var c="Upload All Items";Number.isNaN(b)||(c="Upload "+b+" Item"+(b>1?"s":"")),a(".js-uploadItems").text(c)},reloadAndDisplayMessage:function(b,c){var d=a("#uploadForm").data("confirm-url");d?window.location.href=d+(b.invalidFileCount>0&&null!==c?"?message="+c:""):null!==c?(r.toggleOverallUploadProgress(b.$container,!1),b.invalidFileCount>0?b.$mediaPhotoStage.trigger("upload-error",[c]):b.$mediaPhotoStage.trigger("staging-error",[c])):b.$mediaPhotoStage.trigger("reset-stage")},resetCounts:function(a){a.filesToUploadCount=0,a.processedFilesCount=0,a.invalidFileCount=0,a.previewLoadCount=0,a.skippedFilesCount=0},resetAll:function(a){a.storedFiles=[],r.resetCounts(a),r.resetForm(a),r.toggleOverallUploadProgress(a.$container,!1),r.toggleZeroState(!0)},resetChunk:function(a){a.uploadChunkSize=0,a.filesInUploadChunk=[],a.chunkedFilesIds=[]},uploadFilesInSequence:function(a){var b=a.data.module;r.toggleUploadAllButtonDisplay(b.$container,!1),r.toggleOverallUploadProgress(b.$container,!0);for(var c=m(),d=new Date,e=d.getTime(),f=c.concat("-",e),g=0;g<b.storedFiles.length;g++){var h=b.storedFiles[g];h[1]&&r.uploadSingleFile(b,h,f)}},addFileToUploadChunk:function(a,b){var c=b[0],d=b[1],e=(b[2],c.size+a.uploadChunkSize<=q);return d&&e?(a.uploadChunkSize+=c.size,a.filesInUploadChunk.push(b),a.filesToUploadCount++,!0):!d&&(a.skippedFilesCount++,!0)},doFinalChunkUpload:function(a){var b=a.filesInUploadChunk.length>0,c=a.filesToUploadCount+a.skippedFilesCount===a.storedFiles.length;b&&c&&(r.uploadMultipleFiles(a),r.resetChunk(a))},uploadFilesInChunks:function(a){var b=a.data.module;r.toggleUploadAllButtonDisplay(b.$container,"disabled"),r.toggleOverallUploadProgress(b.$container,!0),r.resetChunk(b);for(var c=0;c<b.storedFiles.length;c++)r.addFileToUploadChunk(b,b.storedFiles[c])||(r.uploadMultipleFiles(b),r.resetChunk(b),r.addFileToUploadChunk(b,b.storedFiles[c]));r.doFinalChunkUpload(b)},removeSingleFile:function(b){b.preventDefault();var c=a(b.currentTarget),d=b.data.fileId,e=b.data.module;e.storedFiles[d][1]=!1,c.parents(".photo-card").remove(),b.data.isValid||e.invalidFileCount--,r.prepareForUploadAll(e),0===e.invalidFileCount&&r.applyAutoUploadEvent(e),0===e.$previewSection.find("div").length&&r.resetAll(e)},renderPreviewControl:function(b,c,d){var e='<div class="preview-control" id="preview-control_'+c+'">  <div class="file-status">    <p id="status_'+c+'">'+d+'</p>  </div>  <button class="upload-remove" id="remove_'+c+'">    Remove <i class="cbicon-remove" role="presentation" aria-hidden="true" style="margin-left: 0.3em"></i>  </button></div>';b.$container.find("#upload-progress-info_"+c).replaceWith(e);var f={fileId:c,isValid:!1,module:b};a("#remove_"+c).on("click",f,r.removeSingleFile)},renderUploadStatus:function(a,b,c){var d="";c&&(d='<span id="cancel_'+b+'" class="upload-cancel" role="button">  <i class="icon-remove-circle">    <span class="sr-only">Cancel upload</span>  </i></span>');var e='<div class="upload-progress-info" id="upload-progress-info_'+b+'">'+d+'  <div class="progress">    <div class="progress-bar" id="progressbar_'+b+'" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div>  </div>  <div id="progressStatus_'+b+'" class="progress-status"></div></div>';a.find("#preview-control_"+b).replaceWith(e)},toggleUploadAllButtonDisplay:function(b,c){var d=!0;c===!1&&(l(),d=!1),b.find(".js-showUploadItems").toggle(d),d&&(a(".js-uploadItems").prop("disabled","disabled"===c),k())},toggleUploadPhotosButton:function(a,b){a.find(".js-upload-btn-container").toggle(b)},toggleSortAndFilter:function(b,c){a("#sortWidgetContainer").toggle(c),a("#filterAppliedContainer").toggle(c)},toggleOverallUploadProgress:function(a,b){a.find(".js-upload-all-progress-info").toggle(b)},toggleZeroState:function(b){a(".gallery-zero-state").toggle(b),b&&a(".gallery-zero-state").length?a(".js-zero-state-container").addClass("isZeroState"):a(".js-zero-state-container").removeClass("isZeroState")},hidePhotoGallery:function(b){a(".js-gallery").hide(),a(".page-margin-sides").hide(),r.toggleUploadPhotosButton(b,!1),r.toggleSortAndFilter(b,!1),b.find("#filesInfo").css({backgroundColor:"white",borderRadius:"10px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.5)",margin:"1em 0"})},showPhotoGallery:function(b){a(".js-gallery").show(),a(".page-margin-sides").show(),r.toggleUploadPhotosButton(b,!0),r.toggleSortAndFilter(b,!0),b.find("#filesInfo").removeAttr("style")},resetFilesInput:function(a){var b=a.find("#files");b.replaceWith(b.val("").clone(!0))},resetForm:function(a){a.$previewSection.html(""),r.toggleUploadAllButtonDisplay(a.$container,!1),r.resetFilesInput(a.$container),r.showPhotoGallery(a.$container)},applyAutoUploadEvent:function(a){a.previewLoadCount===a.storedFiles.length&&a.$container.find(".js-uploadItems").hasClass("js-multiple-upload")&&a.$container.find(".js-uploadItems.js-multiple-upload").first().trigger("click")},loadFileForPreview:function(d,e,f){var g=b.touch;return function(b){var h=e[0],i=e[2],j="";j=""===f?'<img class="photo-card-thumbnail" src="'+b.target.result+'" />':'<div class="preview-file-name"><p>'+h.name+"</p></div>";var k=document.createElement("div");k.setAttribute("class","photo-card"),k.setAttribute("id","previewItem_"+i),k.innerHTML=' <div class="photo-card-viewport">'+j+'    <div class="file-status">      <p id="status_'+i+'">'+f+'</p>    </div></div><div id="preview-summary_'+i+'" class="preview-summary">  <div class="preview-control" id="preview-control_'+i+'">    <span>&nbsp;</span>    <button class="upload-remove clear-btn" id="remove_'+i+'">      Remove <i class="cbicon-remove" role="presentation" aria-hidden="true"style="margin-left: 0.3em"></i>    </button>  </div></div>',document.getElementById("filesInfo").appendChild(k),g||""!==f||c.getData(h,function(){var b=c.getTag(this,"Orientation");if([3,6,8].indexOf(b)>-1){var d=a("#previewItem_"+i).find("img.photo-card-thumbnail");3===b?d.css("transform","rotate(180deg)"):6===b?d.css("transform","rotate(90deg)"):8===b&&d.css("transform","rotate(270deg)")}}),d.previewLoadCount++;var l={fileId:i,isValid:""===f,module:d};a("#remove_"+i).on("click",l,r.removeSingleFile),r.applyAutoUploadEvent(d)}},isWithinUploadCount:function(b,c){a(".alert-error").remove();var d=b.$container.find("#uploadForm").data("count");return!("undefined"!=typeof d&&d<c)||(b.$mediaPhotoStage.trigger("staging-error",["You may only upload "+d+" more photo(s). Please select "+d+" photo(s) or less and try again."]),!1)},applyUploadHandler:function(b){var c=b.data.module,d=b.target.files;if(r.resetCounts(c),c.storedFiles=[],r.isWithinUploadCount(c,d.length)){a(".alert").remove(),r.hidePhotoGallery(c.$container),r.toggleZeroState(!1),r.toggleUploadAllButtonDisplay(c.$container,"disabled"),c.$previewSection.html("");for(var e=0;e<d.length;e++){var f="",g=d[e],h=e;g.type.match("image.*")?g.size>p?(f="File Size ("+r.formattedSizeDisplay(g.size)+") is too large. Maximum size is 10MB.<br><br>Please remove.",c.invalidFileCount++):0===g.size&&(f="Invalid File Size (0 bytes).<br><br>Please remove.",
c.invalidFileCount++):(f="File type not allowed.<br><br>Please remove.",c.invalidFileCount++),c.storedFiles[e]=[g,""===f,h];var i=new FileReader;i.addEventListener("load",r.loadFileForPreview(c,c.storedFiles[e],f)),i.readAsDataURL(g)}d.length>0&&r.prepareForUploadAll(c)}},removeZeroStateHTML:function(){a(".gallery-zero-state").remove()},onFileUploaded:function(a,b){a.preventDefault(),r.toggleOverallUploadProgress(b.$container,!0),r.resetFilesInput(b.$container);var c=null;b.processedFilesCount===b.filesToUploadCount?(r.reloadAndDisplayMessage(b,c),r.removeZeroStateHTML()):b.invalidFileCount===b.filesToUploadCount?(r.resetAll(b),c="Your image(s) failed to upload.",r.reloadAndDisplayMessage(b,c)):b.invalidFileCount+b.processedFilesCount===b.filesToUploadCount?(c="One or more of your images failed to upload.",r.reloadAndDisplayMessage(b,c),r.removeZeroStateHTML()):r.toggleUploadAllButtonDisplay(b.$container,!1)},onClickAbort:function(a){var b=a.data;b&&b.abort()},onUploadStart:function(b,c,d){return function(e){for(var f=e.currentTarget,g=0;g<c.length;g++){var h=c[g];if(r.renderUploadStatus(b.$container,h,d),d){var i=a("#cancel_"+h);i.show(),i.on("click",f,r.onClickAbort)}}}},onUploadProgress:function(b,c){return function(d){if(d.lengthComputable)for(var e=d.loaded/d.total*100,f=0;f<b.length;f++){var g=b[f];a("#progressStatus_"+g).text(Math.round(e)+"%"),a("#progressbar_"+g).css("width",e+"%"),a("#remove_"+g).hide(),100===e&&c&&a("#cancel_"+g).hide()}}},onUploadError:function(a,b){return function(c){for(var d=0;d<b.length;d++){a.invalidFileCount++;var e=b[d];r.renderPreviewControl(a,e,c?c:"Upload Failed")}}},onUploadComplete:function(b,c){return function(d){var e=d.currentTarget;if(4===e.readyState){if(500===e.status)for(var f=0;f<c.length;f++)b.invalidFileCount++,r.renderPreviewControl(b,c[f],"Upload Failed");else for(var g=0;g<c.length;g++)b.processedFilesCount++,a("#previewItem_"+c[g]).remove();r.onFileUploaded(d,b)}}},uploadSingleFile:function(b,c,d){var e=c[0],f=c[2],g=new FormData;g.append("photo",e),g.append("galleryUploadSessionId",d),b.filesToUploadCount++;var h=new XMLHttpRequest;h.addEventListener("loadstart",r.onUploadStart(b,[f],!0),!1),h.upload.addEventListener("progress",r.onUploadProgress([f],!0),!1),h.addEventListener("error",r.onUploadError(b,[f]),!1),h.addEventListener("abort",r.renderPreviewControl(b,f,"Upload Aborted"),!1),h.addEventListener("readystatechange",r.onUploadComplete(b,[f]),!1),h.open("POST",a("#uploadForm").data("url")),h.send(g)},uploadMultipleFiles:function(b){var c=b.filesInUploadChunk,d=new FormData;d.append("key","multiple-photo-upload");for(var e=0;e<c.length;e++)b.chunkedFilesIds.push(c[e][2]),d.append("photo-upload[]",c[e][0]);var f=new XMLHttpRequest;f.addEventListener("loadstart",r.onUploadStart(b,b.chunkedFilesIds,!1),!1),f.upload.addEventListener("progress",r.onUploadProgress(b.chunkedFilesIds,!1),!1),f.addEventListener("error",r.onUploadError(b,b.chunkedFilesIds),!1),f.addEventListener("readystatechange",r.onUploadComplete(b,b.chunkedFilesIds),!1),f.open("POST",a("#uploadForm").data("url")),f.send(d)}},s=function(b){this.$container=b,this.module=this,this.storedFiles=[],this.filesToUploadCount=0,this.processedFilesCount=0,this.invalidFileCount=0,this.filesInUploadChunk=[],this.uploadChunkSize=0,this.skippedFilesCount=0,this.previewLoadCount=0,this.$previewSection=b.find("#filesInfo"),this.$mediaPhotoStage=b.find(".js-media-attachment-stage-photo");var c="input[type=file]",d=b?b.find(c):a(c);if(d.change(this.module,r.applyUploadHandler),b){var e=this.$mediaPhotoStage.data("instruction");e&&this.$mediaPhotoStage.find(".js-instruction ").html("<b>"+e+"</b>")}},t=function(){var a,b=document.createElement("temp"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if("undefined"!==b.style[a])return c[a]};return a("#filesInfo").find("div").on("click",function(){a(this).on(t,function(){a(this).remove()})}),s}),function(){var a,b=this,c=b.Backbone,d=[],e=d.push,f=d.slice,g=d.splice;a="undefined"!=typeof exports?exports:b.Backbone={},a.VERSION="0.9.10";var h=b._;h||"undefined"==typeof require||(h=require("underscore")),a.$=b.jQuery||b.Zepto||b.ender,a.noConflict=function(){return b.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c)for(var e in c)a[b].apply(a,[e,c[e]].concat(d));else{if(!i.test(c))return!0;for(var f=c.split(i),g=0,h=f.length;g<h;g++)a[b].apply(a,[f[g]].concat(d))}},k=function(a,b){var c,d=-1,e=a.length;switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,b[0]);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,b[0],b[1]);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,b[0],b[1],b[2]);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},l=a.Events={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!j(this,"once",a,[b,c])||!b)return this;var d=this,e=h.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c),this},off:function(a,b,c){var d,e,f,g,i,k,l,m;if(!this._events||!j(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(g=a?[a]:h.keys(this._events),i=0,k=g.length;i<k;i++)if(a=g[i],d=this._events[a]){if(f=[],b||c)for(l=0,m=d.length;l<m;l++)e=d[l],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&f.push(e);this._events[a]=f}return this},trigger:function(a){if(!this._events)return this;var b=f.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},listenTo:function(a,b,c){var d=this._listeners||(this._listeners={}),e=a._listenerId||(a._listenerId=h.uniqueId("l"));return d[e]=a,a.on(b,"object"==typeof b?this:c,this),this},stopListening:function(a,b,c){var d=this._listeners;if(d){if(a)a.off(b,"object"==typeof b?this:c,this),b||c||delete d[a._listenerId];else{"object"==typeof b&&(c=this);for(var e in d)d[e].off(b,c,this);this._listeners={}}return this}}};l.bind=l.on,l.unbind=l.off,h.extend(a,l);var m=a.Model=function(a,b){var c,d=a||{};this.cid=h.uniqueId("c"),this.attributes={},b&&b.collection&&(this.collection=b.collection),b&&b.parse&&(d=this.parse(d,b)||{}),(c=h.result(this,"defaults"))&&(d=h.defaults({},d,c)),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};h.extend(m.prototype,l,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return h.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return h.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,f,g,i,j,k,l;if(null==a)return this;if("object"==typeof a?(e=a,c=b):(e={})[a]=b,c||(c={}),!this._validate(e,c))return!1;f=c.unset,i=c.silent,g=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=h.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in e&&(this.id=e[this.idAttribute]);for(d in e)b=e[d],h.isEqual(l[d],b)||g.push(d),h.isEqual(k[d],b)?delete this.changed[d]:this.changed[d]=b,f?delete l[d]:l[d]=b;if(!i){g.length&&(this._pending=!0);for(var m=0,n=g.length;m<n;m++)this.trigger("change:"+g[m],this,l[g[m]],c)}if(j)return this;if(!i)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,h.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var c in this.attributes)b[c]=void 0;return this.set(b,h.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!h.isEmpty(this.changed):h.has(this.changed,a)},changedAttributes:function(a){if(!a)return!!this.hasChanged()&&h.clone(this.changed);var b,c=!1,d=this._changing?this._previousAttributes:this.attributes;for(var e in a)h.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return h.clone(this._previousAttributes)},fetch:function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success;return a.success=function(a,c,d){return!!a.set(a.parse(c,d),d)&&void(b&&b(a,c,d))},this.sync("read",this,a)},save:function(a,b,c){var d,e,f,g,i=this.attributes;return null==a||"object"==typeof a?(d=a,c=b):(d={})[a]=b,!!(!d||c&&c.wait||this.set(d,c))&&(c=h.extend({validate:!0},c),!!this._validate(d,c)&&(d&&c.wait&&(this.attributes=h.extend({},i,d)),void 0===c.parse&&(c.parse=!0),e=c.success,c.success=function(a,b,c){a.attributes=i;var f=a.parse(b,c);return c.wait&&(f=h.extend(d||{},f)),!(h.isObject(f)&&!a.set(f,c))&&void(e&&e(a,b,c))},f=this.isNew()?"create":c.patch?"patch":"update","patch"===f&&(c.attrs=d),g=this.sync(f,this,c),d&&c.wait&&(this.attributes=i),g))},destroy:function(a){a=a?h.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(a,b,e){(e.wait||a.isNew())&&d(),c&&c(a,b,e)},this.isNew())return a.success(this,null,a),!1;var e=this.sync("delete",this,a);return a.wait||d(),e},url:function(){var a=h.result(this,"urlRoot")||h.result(this.collection,"url")||F();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return!this.validate||!this.validate(this.attributes,a)},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=h.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;return!c||(this.trigger("invalid",this,c,b||{}),!1)}});var n=a.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this.models=[],this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,h.extend({silent:!0},b))};h.extend(n.prototype,l,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return a.sync.apply(this,arguments)},add:function(a,b){a=h.isArray(a)?a.slice():[a],b||(b={});var c,d,f,i,j,k,l,m,n,o;for(l=[],m=b.at,n=this.comparator&&null==m&&0!=b.sort,o=h.isString(this.comparator)?this.comparator:null,c=0,d=a.length;c<d;c++)(f=this._prepareModel(i=a[c],b))?(j=this.get(f))?b.merge&&(j.set(i===f?f.attributes:i,b),n&&!k&&j.hasChanged(o)&&(k=!0)):(l.push(f),f.on("all",this._onModelEvent,this),this._byId[f.cid]=f,null!=f.id&&(this._byId[f.id]=f)):this.trigger("invalid",this,i,b);if(l.length&&(n&&(k=!0),this.length+=l.length,null!=m?g.apply(this.models,[m,0].concat(l)):e.apply(this.models,l)),k&&this.sort({silent:!0}),b.silent)return this;for(c=0,d=l.length;c<d;c++)(f=l[c]).trigger("add",f,this,b);return k&&this.trigger("sort",this,b),this},remove:function(a,b){a=h.isArray(a)?a.slice():[a],b||(b={});var c,d,e,f;for(c=0,d=a.length;c<d;c++)f=this.get(a[c]),f&&(delete this._byId[f.id],delete this._byId[f.cid],e=this.indexOf(f),this.models.splice(e,1),this.length--,b.silent||(b.index=e,f.trigger("remove",f,this,b)),this._removeReference(f));return this},push:function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({at:this.length},b)),a},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({at:0},b)),a},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){if(null!=a)return this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[a.id||a.cid||a[this._idAttr]||a]},at:function(a){return this.models[a]},where:function(a){return h.isEmpty(a)?[]:this.filter(function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),h.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(h.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return h.invoke(this.models,"get",a)},update:function(a,b){b=h.extend({add:!0,merge:!0,remove:!0},b),b.parse&&(a=this.parse(a,b));var c,d,e,f,g=[],i=[],j={};if(h.isArray(a)||(a=a?[a]:[]),b.add&&!b.remove)return this.add(a,b);for(d=0,e=a.length;d<e;d++)c=a[d],f=this.get(c),b.remove&&f&&(j[f.cid]=!0),(b.add&&!f||b.merge&&f)&&g.push(c);if(b.remove)for(d=0,e=this.models.length;d<e;d++)c=this.models[d],j[c.cid]||i.push(c);return i.length&&this.remove(i,b),g.length&&this.add(g,b),this},reset:function(a,b){b||(b={}),b.parse&&(a=this.parse(a,b));for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c]);return b.previousModels=this.models.slice(),this._reset(),a&&this.add(a,h.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),this},fetch:function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success;return a.success=function(a,c,d){var e=d.update?"update":"reset";a[e](c,d),b&&b(a,c,d)},this.sync("read",this,a)},create:function(a,b){if(b=b?h.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;return b.success=function(a,b,e){e.wait&&c.add(a,e),d&&d(a,b,e)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models.length=0,this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a.collection||(a.collection=this),a;b||(b={}),b.collection=this;var c=new this.model(a,b);return!!c._validate(a,b)&&c},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))},sortedIndex:function(a,b,c){b||(b=this.comparator);var d=h.isFunction(b)?b:function(a){return a.get(b)};return h.sortedIndex(this.models,a,d,c)}});var o=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];h.each(o,function(a){n.prototype[a]=function(){var b=f.call(arguments);return b.unshift(this.models),h[a].apply(h,b)}});var p=["groupBy","countBy","sortBy"];h.each(p,function(a){n.prototype[a]=function(b,c){var d=h.isFunction(b)?b:function(a){return a.get(b)};return h[a](this.models,d,c)}});var q=a.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},r=/\((.*?)\)/g,s=/(\(\?)?:\w+/g,t=/\*\w+/g,u=/[\-{}\[\]+?.,\\\^$|#\s]/g;h.extend(q.prototype,l,{initialize:function(){},route:function(b,c,d){return h.isRegExp(b)||(b=this._routeToRegExp(b)),d||(d=this[c]),a.history.route(b,h.bind(function(e){var f=this._extractParameters(b,e);d&&d.apply(this,f),this.trigger.apply(this,["route:"+c].concat(f)),this.trigger("route",c,f),a.history.trigger("route",this,c,f)},this)),this},navigate:function(b,c){return a.history.navigate(b,c),this},_bindRoutes:function(){if(this.routes)for(var a,b=h.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])},_routeToRegExp:function(a){return a=a.replace(u,"\\$&").replace(r,"(?:$1)?").replace(s,function(a,b){return b?a:"([^/]+)"}).replace(t,"(.*?)"),new RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});var v=a.History=function(){this.handlers=[],h.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},w=/^[#\/]|\s+$/g,x=/^\/+|\/+$/g,y=/msie [\w.]+/,z=/\/$/;v.started=!1,h.extend(v.prototype,l,{interval:50,getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(z,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(w,"")},start:function(b){if(v.started)throw new Error("Backbone.history has already been started");v.started=!0,this.options=h.extend({},{root:"/"},this.options,b),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var c=this.getFragment(),d=document.documentMode,e=y.exec(navigator.userAgent.toLowerCase())&&(!d||d<=7);this.root=("/"+this.root+"/").replace(x,"/"),e&&this._wantsHashChange&&(this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(c)),this._hasPushState?a.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!e?a.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=c;var f=this.location,g=f.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!g?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&g&&f.hash&&(this.fragment=this.getHash().replace(w,""),this.history.replaceState({},document.title,this.root+this.fragment+f.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),v.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();return b===this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe))),b!==this.fragment&&(this.iframe&&this.navigate(b),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(a){var b=this.fragment=this.getFragment(a),c=h.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0});return c},navigate:function(a,b){if(!v.started)return!1;if(b&&b!==!0||(b={trigger:b}),a=this.getFragment(a||""),this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),a.history=new v;var A=a.View=function(a){this.cid=h.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},B=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];h.extend(A.prototype,l,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(b,c){return this.$el&&this.undelegateEvents(),this.$el=b instanceof a.$?b:a.$(b),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(a||(a=h.result(this,"events"))){this.undelegateEvents();for(var b in a){var c=a[b];if(h.isFunction(c)||(c=this[a[b]]),!c)throw new Error('Method "'+a[b]+'" does not exist');var d=b.match(B),e=d[1],f=d[2];c=h.bind(c,this),e+=".delegateEvents"+this.cid,""===f?this.$el.on(e,c):this.$el.on(e,f,c)}}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=h.extend({},h.result(this,"options"),a)),h.extend(this,h.pick(a,C)),this.options=a},_ensureElement:function(){if(this.el)this.setElement(h.result(this,"el"),!1);else{var b=h.extend({},h.result(this,"attributes"));this.id&&(b.id=h.result(this,"id")),this.className&&(b["class"]=h.result(this,"className"));var c=a.$("<"+h.result(this,"tagName")+">").attr(b);this.setElement(c,!1)}}});var D={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.sync=function(b,c,d){var e=D[b];h.defaults(d||(d={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var f={type:e,dataType:"json"};if(d.url||(f.url=h.result(c,"url")||F()),null!=d.data||!c||"create"!==b&&"update"!==b&&"patch"!==b||(f.contentType="application/json",f.data=JSON.stringify(d.attrs||c.toJSON(d))),d.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{}),d.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){f.type="POST",d.emulateJSON&&(f.data._method=e);var g=d.beforeSend;d.beforeSend=function(a){if(a.setRequestHeader("X-HTTP-Method-Override",e),g)return g.apply(this,arguments)}}"GET"===f.type||d.emulateJSON||(f.processData=!1);var i=d.success;d.success=function(a){i&&i(c,a,d),c.trigger("sync",c,a,d)};var j=d.error;d.error=function(a){j&&j(c,a,d),c.trigger("error",c,a,d)};var k=d.xhr=a.ajax(h.extend(f,d));return c.trigger("request",c,k,d),k},a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var E=function(a,b){var c,d=this;c=a&&h.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},h.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&h.extend(c.prototype,a),c.__super__=d.prototype,c};m.extend=n.extend=q.extend=A.extend=v.extend=E;var F=function(){throw new Error('A "url" property or function must be specified')}}.call(this),define("backbone",["underscore","jquery"],function(a){return function(){var b;return b||a.Backbone}}(this)),define("cb/photo/model",["underscore","backbone"],function(a,b){"use strict";return b.Model.extend({defaults:{caption:"",size:[200,200],src:"",actions:["crop","caption","delete","main","primary"],x:0,y:0,w:0,h:0,action:"",cropSrc:"",cropWidth:0,cropHeight:0,sitePhotoId:"",settings:null},url:function(){return"/photo/"+this.get("id")+"?photo-session="+this.get("settings").get("id")}})}),define("cb/photo/collection",["underscore","backbone","cb/photo/model"],function(a,b,c){"use strict";var d=b.Collection.extend({model:c,settings:null,setSettings:function(a){this.settings=a;for(var b=0,c=this.models.length;b<c;b++)this.models[b].set("settings",this.settings)},add:function(a,c){for(var d=0,e=a.length;d<e;d++)a[d].settings=this.settings;b.Collection.prototype.add.call(this,a,c)},url:function(){return"/photo?photo-session="+this.settings.get("id")}});return d}),define("text!cb/photo/template.jst",[],function(){return'<% _.each(photos, function(photo, index) { %>\n    <div id="photo-<%= photo.cid %>" class="panel panel-blank" data-qa-id="photo-<%= photo.cid %>">\n        <% if (photo.get(\'actions\').length > 0) { %>\n            <div class="panel-heading">\n                <div class="btn-toolbar">\n                    <div class="btn-group">\n                        <% if (-1 != _.indexOf(photo.get(\'actions\'), \'crop\')) { %>\n                            <button title="Crop Photo" class="js-action-crop btn btn-default btn-sm"\n                                    data-id="<%= photo.get(\'id\') %>" data-qa-id="crop-<%= photo.get(\'id\') %>" type="button"\n                                    data-ga-action="Click - button" data-ga-label="Crop photo">\n                                <i class="icon cbicon-crop"></i>\n                            </button>\n                        <% } %>\n                        <% if (-1 != _.indexOf(photo.get(\'actions\'), \'caption\')) { %>\n                            <button title="Update Caption" class="js-action-caption btn btn-default btn-sm"\n                                    data-id="<%= photo.get(\'id\') %>" data-qa-id="caption-<%= photo.get(\'id\') %>" type="button"\n                                    data-ga-action="Click - button" data-ga-label="Caption photo">\n                                <i class="icon icon-comment-alt"></i>\n                            </button>\n                        <% } %>\n                        <% if (-1 != _.indexOf(photo.get(\'actions\'), \'rotate\')) { %>\n                            <button title="Rotate" class="js-action-rotate btn btn-default btn-sm"\n                                    data-id="<%= photo.get(\'id\') %>" data-qa-id="rotate-<%= photo.get(\'id\') %>" type="button"\n                                    data-ga-action="Click - button" data-ga-label="Rotate photo">\n                                <i class="icon icon-repeat"></i></button>\n                        <% } %>\n                    </div>\n                    <% if (-1 != _.indexOf(photo.get(\'actions\'), \'delete\')) { %>\n                        <div class="btn-group pull-right">\n                            <button title="Delete Photo" data-id="<%= photo.get(\'id\') %>" data-qa-id="delete-photo-<%= photo.get(\'id\') %>"\n                                class="pull-right btn btn-danger btn-sm js-action-delete" type="button"\n                                data-ga-action="Click - button" data-ga-label="Delete photo">\n                                <i class="icon icon-trash"></i>\n                            </button>\n                        </div>\n                    <% } %>\n                </div>\n            </div>\n        <% } %>\n        <div class="panel-body">\n            <% if (photo.get(\'sitePhotoId\')) { %>\n                <a href="<%= window.location.pathname %>/view/id/<%= photo.get(\'sitePhotoId\') %>">\n            <% } %>\n            <img id="img-<%= photo.get(\'id\') %>" src="<%= photo.get(\'cropSrc\') %>" alt="" width="<%= photo.get(\'cropWidth\') %>"\n                height="<%= photo.get(\'cropHeight\') %>" class="img-responsive img-center w-100" />\n            <% if (photo.get(\'sitePhotoId\')) { %></a><% } %>\n            <% if (photo.get(\'caption\')) { %>\n                <div class="photo-caption user-generated"><%= photo.get(\'caption\') %></div>\n            <% } %>\n            <div id="edit-<%= photo.get(\'id\') %>" class="js-drawer"></div>\n        </div>\n    </div>\n<% }); %>\n'}),define("text!cb/templates/error.jst",[],function(){return'<div class="alert alert-error">\n    <button data-dismiss="alert" class="close" type="button">&times;</button>\n    <% if (message) { %>\n        <%= message %>\n    <% } else { %>\n        <strong>Error</strong>: A problem has occurred and CaringBridge is unable\n        to complete your request. Please try again later.\n    <% } %>\n</div>\n'}),define("text!cb/photo/caption.jst",[],function(){return'<div>\n    <h3><i class="icon icon-comment-alt"></i> Photo Caption</h3>\n    <div class="form-group">\n        <input type="text" class="form-control js-photo-caption" placeholder="Enter Photo Caption"\n               name="photo-caption" autofocus="autofocus"\n               value="<%= photo.get(\'caption\') %>" />\n    </div>\n    <div class="form-group">\n        <button class="btn btn-default btn-default-border js-action-cancel" data-qa-id="cancel-caption" type="button" data-ga-action="Click - button" data-ga-label="Cancel Caption">Cancel</button>\n        <button data-id="<%= photo.get(\'id\') %>" class="btn btn-primary js-action-save" data-qa-id="save-caption" type="button" data-ga-action="Click - button" data-ga-label="Save Caption">Save Caption</button>\n    </div>\n</div>\n'}),define("text!cb/photo/crop.jst",[],function(){return'<div class="row">\n    <div class="col-xs-12">\n        <h3><i class="icon cbicon-crop"></i> Crop Photo</h3>\n        <img src="<%= photo.get(\'src\') %>" width="<%= photo.get(\'width\') %>"\n            height="<%= photo.get(\'height\') %>" alt="<%= photo.get(\'caption\') %>"\n            class="js-photo-crop img-responsive img-center w-100 "/>\n\n        <div class="section-top-margin">\n            <button class="btn btn-default btn-default-border js-action-cancel" data-qa-id="cancel-crop" type="button" data-ga-action="Click - button" data-ga-label="Cancel Crop">Cancel</button>\n            <button data-id="<%= photo.get(\'id\') %>" class="btn btn-primary js-action-save" data-qa-id="save-crop" type="button" data-ga-action="Click - button" data-ga-label="Save Crop">Save Changes</button>\n        <div>\n    </div>\n</div>\n'}),define("text!cb/photo/add.jst",[],function(){return'<div class="clearfix">\n    <form method="post" class ="center-upload-form" enctype="multipart/form-data" action="">\n        <input type="file" id="photo-upload" name="photo-upload" accept="image/*" data-qa-id="photo-upload" data-ga-action="Click - button" data-ga-label="Upload photo" />\n    </form>\n    <p><small><strong>Note:</strong> Images should be PNG, JPG or GIF files.</small></p>\n</div>\n'}),define("text!cb/photo/multiple-add.jst",[],function(){return'<!-- This is used by Journal and Well Wishes; not Gallery. -->\n<div\n    id="uploadForm"\n    class="upload-form"\n    data-url="/photo?photo-session=<%= settings.get(\'id\')  %>"\n    data-max-photos="<%= settings.get(\'maxPhotos\') %>"\n    data-count="<%= count %>"\n>\n    <span class="js-upload-btn-container" style="width: 12em; height: 40px; display: inline-block;">\n        <div id="uploadJournalPhotos" class="prettyFileInput">\n            <input\n                type="file"\n                id="files"\n                name="files[]"\n                multiple\n                data-qa-id="upload-photos"\n                data-ga-label="Upload Photos"\n                class="js-multiple-select"\n            />\n            <span class="prettyFileInputMask"></span>\n            <label for="files">Upload Photos</label>\n        </div>\n    </span>\n\n    <div class="js-upload-all-progress-info content text-center">\n        <h2>Upload in Progress (please stand by)</h2>\n        <img src="/assets/images/loader.gif" class="loader" alt=""/>\n    </div>\n\n    <div>\n        <button\n            type="button"\n            class="js-uploadItems js-multiple-upload btn btn-primary sr-only"\n            data-qa-id="post-photo">\n            <i class="icon-upload-alt"></i> Upload All\n        </button>\n    </div>\n\n    <div class="js-instruction section-top-margin"></div>\n\n    <div>\n        <output id="filesInfo" class="gallery-container"></output>\n    </div>\n</div>\n'}),define("cb/photo/settings",["jquery","underscore","backbone"],function(a,b,c){"use strict";var d=c.Model.extend({defaults:{id:"",maxPhotos:0,autoSubmit:!1,canAdd:!1,cropWidth:200,cropHeight:200},fetch:function(){var b=a(".js-photo-session").first();this.set({id:b.val(),maxPhotos:parseInt(b.data("max-photos"),10),autoSubmit:1===b.data("auto-submit"),canAdd:1===b.data("can-add"),cropWidth:b.data("crop-width")?parseInt(b.data("crop-width"),10):200,cropHeight:b.data("crop-height")?parseInt(b.data("crop-height"),10):200})}});return d}),function(a){a.Jcrop=function(b,c){function d(a){return Math.round(a)+"px"}function e(a){return J.baseClass+"-"+a}function f(){return a.fx.step.hasOwnProperty("backgroundColor")}function g(b){var c=a(b).offset();return[c.left,c.top]}function h(a){return[a.pageX-I[0],a.pageY-I[1]]}function i(b){"object"!=typeof b&&(b={}),J=a.extend(J,b),a.each(["onChange","onSelect","onRelease","onDblClick"],function(a,b){"function"!=typeof J[b]&&(J[b]=function(){})})}function j(a,b,c){if(I=g(R),oa.setCursor("move"===a?a:a+"-resize"),"move"===a)return oa.activateHandlers(l(b),q,c);
var d=la.getFixed(),e=m(a),f=la.getCorner(m(e));la.setPressed(la.getCorner(e)),la.setCurrent(f),oa.activateHandlers(k(a,d),q,c)}function k(a,b){return function(c){if(J.aspectRatio)switch(a){case"e":c[1]=b.y+1;break;case"w":c[1]=b.y+1;break;case"n":c[0]=b.x+1;break;case"s":c[0]=b.x+1}else switch(a){case"e":c[1]=b.y2;break;case"w":c[1]=b.y2;break;case"n":c[0]=b.x2;break;case"s":c[0]=b.x2}la.setCurrent(c),na.update()}}function l(a){var b=a;return pa.watchKeys(),function(a){la.moveOffset([a[0]-b[0],a[1]-b[1]]),b=a,na.update()}}function m(a){switch(a){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function n(a){return function(b){return!J.disabled&&(!("move"===a&&!J.allowMove)&&(I=g(R),da=!0,j(a,h(b)),b.stopPropagation(),b.preventDefault(),!1))}}function o(a,b,c){var d=a.width(),e=a.height();d>b&&b>0&&(d=b,e=b/a.width()*a.height()),e>c&&c>0&&(e=c,d=c/a.height()*a.width()),ba=a.width()/d,ca=a.height()/e,a.width(d).height(e)}function p(a){return{x:a.x*ba,y:a.y*ca,x2:a.x2*ba,y2:a.y2*ca,w:a.w*ba,h:a.h*ca}}function q(a){var b=la.getFixed();b.w>J.minSelect[0]&&b.h>J.minSelect[1]?(na.enableHandles(),na.done()):na.release(),oa.setCursor(J.allowSelect?"crosshair":"default")}function r(a){if(J.disabled)return!1;if(!J.allowSelect)return!1;da=!0,I=g(R),na.disableHandles(),oa.setCursor("crosshair");var b=h(a);return la.setPressed(b),na.update(),oa.activateHandlers(s,q,"touch"===a.type.substring(0,5)),pa.watchKeys(),a.stopPropagation(),a.preventDefault(),!1}function s(a){la.setCurrent(a),na.update()}function t(){var b=a("<div></div>").addClass(e("tracker"));return L&&b.css({opacity:0,backgroundColor:"white"}),b}function u(a){U.removeClass().addClass(e("holder")).addClass(a)}function v(a,b){function c(){window.setTimeout(s,l)}var d=a[0]/ba,e=a[1]/ca,f=a[2]/ba,g=a[3]/ca;if(!ea){var h=la.flipCoords(d,e,f,g),i=la.getFixed(),j=[i.x,i.y,i.x2,i.y2],k=j,l=J.animationDelay,m=h[0]-j[0],n=h[1]-j[1],o=h[2]-j[2],p=h[3]-j[3],q=0,r=J.swingSpeed;d=k[0],e=k[1],f=k[2],g=k[3],na.animMode(!0);var s=function(){return function(){q+=(100-q)/r,k[0]=Math.round(d+q/100*m),k[1]=Math.round(e+q/100*n),k[2]=Math.round(f+q/100*o),k[3]=Math.round(g+q/100*p),q>=99.8&&(q=100),q<100?(x(k),c()):(na.done(),na.animMode(!1),"function"==typeof b&&b.call(qa))}}();c()}}function w(a){x([a[0]/ba,a[1]/ca,a[2]/ba,a[3]/ca]),J.onSelect.call(qa,p(la.getFixed())),na.enableHandles()}function x(a){la.setPressed([a[0],a[1]]),la.setCurrent([a[2],a[3]]),na.update()}function y(){return p(la.getFixed())}function z(){return la.getFixed()}function A(a){i(a),H()}function B(){J.disabled=!0,na.disableHandles(),na.setCursor("default"),oa.setCursor("default")}function C(){J.disabled=!1,H()}function D(){na.done(),oa.activateHandlers(null,null)}function E(){U.remove(),O.show(),O.css("visibility","visible"),a(b).removeData("Jcrop")}function F(a,b){na.release(),B();var c=new Image;c.onload=function(){var d=c.width,e=c.height,f=J.boxWidth,g=J.boxHeight;R.width(d).height(e),R.attr("src",a),V.attr("src",a),o(R,f,g),S=R.width(),T=R.height(),V.width(S).height(T),ha.width(S+2*ga).height(T+2*ga),U.width(S).height(T),ma.resize(S,T),C(),"function"==typeof b&&b.call(qa)},c.src=a}function G(a,b,c){var d=b||J.bgColor;J.bgFade&&f()&&J.fadeTime&&!c?a.animate({backgroundColor:d},{queue:!1,duration:J.fadeTime}):a.css("backgroundColor",d)}function H(a){J.allowResize?a?na.enableOnly():na.enableHandles():na.disableHandles(),oa.setCursor(J.allowSelect?"crosshair":"default"),na.setCursor(J.allowMove?"move":"default"),J.hasOwnProperty("trueSize")&&(ba=J.trueSize[0]/S,ca=J.trueSize[1]/T),J.hasOwnProperty("setSelect")&&(w(J.setSelect),na.done(),delete J.setSelect),ma.refresh(),J.bgColor!=ia&&(G(J.shade?ma.getShades():U,J.shade?J.shadeColor||J.bgColor:J.bgColor),ia=J.bgColor),ja!=J.bgOpacity&&(ja=J.bgOpacity,J.shade?ma.refresh():na.setBgOpacity(ja)),Z=J.maxSize[0]||0,$=J.maxSize[1]||0,_=J.minSize[0]||0,aa=J.minSize[1]||0,J.hasOwnProperty("outerImage")&&(R.attr("src",J.outerImage),delete J.outerImage),na.refresh()}var I,J=a.extend({},a.Jcrop.defaults),K=navigator.userAgent.toLowerCase(),L=/msie/.test(K),M=/msie [1-6]\./.test(K);"object"!=typeof b&&(b=a(b)[0]),"object"!=typeof c&&(c={}),i(c);var N={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},O=a(b),P=!0;if("IMG"==b.tagName){if(0!=O[0].width&&0!=O[0].height)O.width(O[0].width),O.height(O[0].height);else{var Q=new Image;Q.src=O[0].src,O.width(Q.width),O.height(Q.height)}var R=O.clone().removeAttr("id").css(N).show();R.width(O.width()),R.height(O.height()),O.after(R).hide()}else R=O.css(N).show(),P=!1,null===J.shade&&(J.shade=!0);o(R,J.boxWidth,J.boxHeight);var S=R.width(),T=R.height(),U=a("<div />").width(S).height(T).addClass(e("holder")).css({position:"relative",backgroundColor:J.bgColor}).insertAfter(O).append(R);J.addClass&&U.addClass(J.addClass);var V=a("<div />"),W=a("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),X=a("<div />").width("100%").height("100%").css("zIndex",320),Y=a("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var a=la.getFixed();J.onDblClick.call(qa,a)}).insertBefore(R).append(W,X);P&&(V=a("<img />").attr("src",R.attr("src")).css(N).width(S).height(T),W.append(V)),M&&Y.css({overflowY:"hidden"});var Z,$,_,aa,ba,ca,da,ea,fa,ga=J.boundary,ha=t().width(S+2*ga).height(T+2*ga).css({position:"absolute",top:d(-ga),left:d(-ga),zIndex:290}).mousedown(r),ia=J.bgColor,ja=J.bgOpacity;I=g(R);var ka=function(){function a(){var a,b={},c=["touchstart","touchmove","touchend"],d=document.createElement("div");try{for(a=0;a<c.length;a++){var e=c[a];e="on"+e;var f=e in d;f||(d.setAttribute(e,"return;"),f="function"==typeof d[e]),b[c[a]]=f}return b.touchstart&&b.touchend&&b.touchmove}catch(g){return!1}}function b(){return J.touchSupport===!0||J.touchSupport===!1?J.touchSupport:a()}return{createDragger:function(a){return function(b){return!J.disabled&&(!("move"===a&&!J.allowMove)&&(I=g(R),da=!0,j(a,h(ka.cfilter(b)),!0),b.stopPropagation(),b.preventDefault(),!1))}},newSelection:function(a){return r(ka.cfilter(a))},cfilter:function(a){return a.pageX=a.originalEvent.changedTouches[0].pageX,a.pageY=a.originalEvent.changedTouches[0].pageY,a},isSupported:a,support:b()}}(),la=function(){function a(a){a=g(a),o=m=a[0],p=n=a[1]}function b(a){a=g(a),k=a[0]-o,l=a[1]-p,o=a[0],p=a[1]}function c(){return[k,l]}function d(a){var b=a[0],c=a[1];0>m+b&&(b-=b+m),0>n+c&&(c-=c+n),T<p+c&&(c+=T-(p+c)),S<o+b&&(b+=S-(o+b)),m+=b,o+=b,n+=c,p+=c}function e(a){var b=f();switch(a){case"ne":return[b.x2,b.y];case"nw":return[b.x,b.y];case"se":return[b.x2,b.y2];case"sw":return[b.x,b.y2]}}function f(){if(!J.aspectRatio)return i();var a,b,c,d,e=J.aspectRatio,f=J.minSize[0]/ba,g=J.maxSize[0]/ba,k=J.maxSize[1]/ca,l=o-m,q=p-n,r=Math.abs(l),s=Math.abs(q),t=r/s;return 0===g&&(g=10*S),0===k&&(k=10*T),t<e?(b=p,c=s*e,a=l<0?m-c:c+m,a<0?(a=0,d=Math.abs((a-m)/e),b=q<0?n-d:d+n):a>S&&(a=S,d=Math.abs((a-m)/e),b=q<0?n-d:d+n)):(a=o,d=r/e,b=q<0?n-d:n+d,b<0?(b=0,c=Math.abs((b-n)*e),a=l<0?m-c:c+m):b>T&&(b=T,c=Math.abs(b-n)*e,a=l<0?m-c:c+m)),a>m?(a-m<f?a=m+f:a-m>g&&(a=m+g),b=b>n?n+(a-m)/e:n-(a-m)/e):a<m&&(m-a<f?a=m-f:m-a>g&&(a=m-g),b=b>n?n+(m-a)/e:n-(m-a)/e),a<0?(m-=a,a=0):a>S&&(m-=a-S,a=S),b<0?(n-=b,b=0):b>T&&(n-=b-T,b=T),j(h(m,n,a,b))}function g(a){return a[0]<0&&(a[0]=0),a[1]<0&&(a[1]=0),a[0]>S&&(a[0]=S),a[1]>T&&(a[1]=T),[Math.round(a[0]),Math.round(a[1])]}function h(a,b,c,d){var e=a,f=c,g=b,h=d;return c<a&&(e=c,f=a),d<b&&(g=d,h=b),[e,g,f,h]}function i(){var a,b=o-m,c=p-n;return Z&&Math.abs(b)>Z&&(o=b>0?m+Z:m-Z),$&&Math.abs(c)>$&&(p=c>0?n+$:n-$),aa/ca&&Math.abs(c)<aa/ca&&(p=c>0?n+aa/ca:n-aa/ca),_/ba&&Math.abs(b)<_/ba&&(o=b>0?m+_/ba:m-_/ba),m<0&&(o-=m,m-=m),n<0&&(p-=n,n-=n),o<0&&(m-=o,o-=o),p<0&&(n-=p,p-=p),o>S&&(a=o-S,m-=a,o-=a),p>T&&(a=p-T,n-=a,p-=a),m>S&&(a=m-T,p-=a,n-=a),n>T&&(a=n-T,p-=a,n-=a),j(h(m,n,o,p))}function j(a){return{x:a[0],y:a[1],x2:a[2],y2:a[3],w:a[2]-a[0],h:a[3]-a[1]}}var k,l,m=0,n=0,o=0,p=0;return{flipCoords:h,setPressed:a,setCurrent:b,getOffset:c,moveOffset:d,getCorner:e,getFixed:f}}(),ma=function(){function b(a,b){o.left.css({height:d(b)}),o.right.css({height:d(b)})}function c(){return e(la.getFixed())}function e(a){o.top.css({left:d(a.x),width:d(a.w),height:d(a.y)}),o.bottom.css({top:d(a.y2),left:d(a.x),width:d(a.w),height:d(T-a.y2)}),o.right.css({left:d(a.x2),width:d(S-a.x2)}),o.left.css({width:d(a.x)})}function f(){return a("<div />").css({position:"absolute",backgroundColor:J.shadeColor||J.bgColor}).appendTo(n)}function g(){m||(m=!0,n.insertBefore(R),c(),na.setBgOpacity(1,0,1),V.hide(),h(J.shadeColor||J.bgColor,1),na.isAwake()?j(J.bgOpacity,1):j(1,1))}function h(a,b){G(l(),a,b)}function i(){m&&(n.remove(),V.show(),m=!1,na.isAwake()?na.setBgOpacity(J.bgOpacity,1,1):(na.setBgOpacity(1,1,1),na.disableHandles()),G(U,0,1))}function j(a,b){m&&(J.bgFade&&!b?n.animate({opacity:1-a},{queue:!1,duration:J.fadeTime}):n.css({opacity:1-a}))}function k(){J.shade?g():i(),na.isAwake()&&j(J.bgOpacity)}function l(){return n.children()}var m=!1,n=a("<div />").css({position:"absolute",zIndex:240,opacity:0}),o={top:f(),left:f().height(T),right:f().height(T),bottom:f()};return{update:c,updateRaw:e,getShades:l,setBgColor:h,enable:g,disable:i,resize:b,refresh:k,opacity:j}}(),na=function(){function b(b){var c=a("<div />").css({position:"absolute",opacity:J.borderOpacity}).addClass(e(b));return W.append(c),c}function c(b,c){var d=a("<div />").mousedown(n(b)).css({cursor:b+"-resize",position:"absolute",zIndex:c}).addClass("ord-"+b);return ka.support&&d.bind("touchstart.jcrop",ka.createDragger(b)),X.append(d),d}function f(a){var b=J.handleSize,d=c(a,B++).css({opacity:J.handleOpacity}).addClass(e("handle"));return b&&d.width(b).height(b),d}function g(a){return c(a,B++).addClass("jcrop-dragbar")}function h(a){var b;for(b=0;b<a.length;b++)E[a[b]]=g(a[b])}function i(a){var c,d;for(d=0;d<a.length;d++){switch(a[d]){case"n":c="hline";break;case"s":c="hline bottom";break;case"e":c="vline right";break;case"w":c="vline"}C[a[d]]=b(c)}}function j(a){var b;for(b=0;b<a.length;b++)D[a[b]]=f(a[b])}function k(a,b){J.shade||V.css({top:d(-b),left:d(-a)}),Y.css({top:d(b),left:d(a)})}function l(a,b){Y.width(Math.round(a)).height(Math.round(b))}function m(){var a=la.getFixed();la.setPressed([a.x,a.y]),la.setCurrent([a.x2,a.y2]),o()}function o(a){if(A)return q(a)}function q(a){var b=la.getFixed();l(b.w,b.h),k(b.x,b.y),J.shade&&ma.updateRaw(b),A||s(),a?J.onSelect.call(qa,p(b)):J.onChange.call(qa,p(b))}function r(a,b,c){(A||b)&&(J.bgFade&&!c?R.animate({opacity:a},{queue:!1,duration:J.fadeTime}):R.css("opacity",a))}function s(){Y.show(),J.shade?ma.opacity(ja):r(ja,!0),A=!0}function u(){x(),Y.hide(),J.shade?ma.opacity(1):r(1),A=!1,J.onRelease.call(qa)}function v(){F&&X.show()}function w(){if(F=!0,J.allowResize)return X.show(),!0}function x(){F=!1,X.hide()}function y(a){a?(ea=!0,x()):(ea=!1,w())}function z(){y(!1),m()}var A,B=370,C={},D={},E={},F=!1;J.dragEdges&&a.isArray(J.createDragbars)&&h(J.createDragbars),a.isArray(J.createHandles)&&j(J.createHandles),J.drawBorders&&a.isArray(J.createBorders)&&i(J.createBorders),a(document).bind("touchstart.jcrop-ios",function(b){a(b.currentTarget).hasClass("jcrop-tracker")&&b.stopPropagation()});var G=t().mousedown(n("move")).css({cursor:"move",position:"absolute",zIndex:360});return ka.support&&G.bind("touchstart.jcrop",ka.createDragger("move")),W.append(G),x(),{updateVisible:o,update:q,release:u,refresh:m,isAwake:function(){return A},setCursor:function(a){G.css("cursor",a)},enableHandles:w,enableOnly:function(){F=!0},showHandles:v,disableHandles:x,animMode:y,setBgOpacity:r,done:z}}(),oa=function(){function b(b){ha.css({zIndex:450}),b?a(document).bind("touchmove.jcrop",g).bind("touchend.jcrop",i):m&&a(document).bind("mousemove.jcrop",d).bind("mouseup.jcrop",e)}function c(){ha.css({zIndex:290}),a(document).unbind(".jcrop")}function d(a){return k(h(a)),!1}function e(a){return a.preventDefault(),a.stopPropagation(),da&&(da=!1,l(h(a)),na.isAwake()&&J.onSelect.call(qa,p(la.getFixed())),c(),k=function(){},l=function(){}),!1}function f(a,c,d){return da=!0,k=a,l=c,b(d),!1}function g(a){return k(h(ka.cfilter(a))),!1}function i(a){return e(ka.cfilter(a))}function j(a){ha.css("cursor",a)}var k=function(){},l=function(){},m=J.trackDocument;return m||ha.mousemove(d).mouseup(e).mouseout(e),R.before(ha),{activateHandlers:f,setCursor:j}}(),pa=function(){function b(){J.keySupport&&(f.show(),f.focus())}function c(a){f.hide()}function d(a,b,c){J.allowMove&&(la.moveOffset([b,c]),na.updateVisible(!0)),a.preventDefault(),a.stopPropagation()}function e(a){if(a.ctrlKey||a.metaKey)return!0;fa=!!a.shiftKey;var b=fa?10:1;switch(a.keyCode){case 37:d(a,-b,0);break;case 39:d(a,b,0);break;case 38:d(a,0,-b);break;case 40:d(a,0,b);break;case 27:J.allowSelect&&na.release();break;case 9:return!0}return!1}var f=a('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),g=a("<div />").css({position:"absolute",overflow:"hidden"}).append(f);return J.keySupport&&(f.keydown(e).blur(c),M||!J.fixedSupport?(f.css({position:"absolute",left:"-20px"}),g.append(f).insertBefore(R)):f.insertBefore(R)),{watchKeys:b}}();ka.support&&ha.bind("touchstart.jcrop",ka.newSelection),X.hide(),H(!0);var qa={setImage:F,animateTo:v,setSelect:w,setOptions:A,tellSelect:y,tellScaled:z,setClass:u,disable:B,enable:C,cancel:D,release:na.release,destroy:E,focus:pa.watchKeys,getBounds:function(){return[S*ba,T*ca]},getWidgetSize:function(){return[S,T]},getScaleFactor:function(){return[ba,ca]},getOptions:function(){return J},ui:{holder:U,selection:Y}};return L&&U.bind("selectstart",function(){return!1}),O.data("Jcrop",qa),qa},a.fn.Jcrop=function(b,c){var d;return this.each(function(){if(a(this).data("Jcrop")){if("api"===b)return a(this).data("Jcrop");a(this).data("Jcrop").setOptions(b)}else"IMG"==this.tagName?a.Jcrop.Loader(this,function(){a(this).css({display:"block",visibility:"hidden"}),d=a.Jcrop(this,b),a.isFunction(c)&&c.call(d)}):(a(this).css({display:"block",visibility:"hidden"}),d=a.Jcrop(this,b),a.isFunction(c)&&c.call(d))}),this},a.Jcrop.Loader=function(b,c,d){function e(){g.complete?(f.unbind(".jcloader"),a.isFunction(c)&&c.call(g)):window.setTimeout(e,50)}var f=a(b),g=f[0];f.bind("load.jcloader",e).bind("error.jcloader",function(b){f.unbind(".jcloader"),a.isFunction(d)&&d.call(g)}),g.complete&&a.isFunction(c)&&(f.unbind(".jcloader"),c.call(g))},a.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),define("vendor/jquery.Jcrop.min",function(){}),function(a){"function"==typeof define&&define.amd?define("jquery.ui.widget",["jquery"],a):a(jQuery)}(function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;h<i;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(a.isPlainObject(f)?c[e]=a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):c[e]=f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),1===arguments.length)return f[c]===b?null:f[c];f[c]=d}else{if(1===arguments.length)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){if(b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof g?f[g]:g).apply(f,arguments)}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}),function(a){"use strict";"function"==typeof define&&define.amd?define("vendor/jquery.iframe-transport",["jquery"],a):a(window.jQuery)}(function(a){"use strict";var b=0;a.ajaxTransport("iframe",function(c){if(c.async){var d,e,f,g=c.initialIframeSrc||"javascript:false;";return{send:function(h,i){d=a('<form style="display:none;"></form>'),d.attr("accept-charset",c.formAcceptCharset),f=/\?/.test(c.url)?"&":"?","DELETE"===c.type?(c.url=c.url+f+"_method=DELETE",c.type="POST"):"PUT"===c.type?(c.url=c.url+f+"_method=PUT",c.type="POST"):"PATCH"===c.type&&(c.url=c.url+f+"_method=PATCH",c.type="POST"),b+=1,e=a('<iframe src="'+g+'" name="iframe-transport-'+b+'"></iframe>').bind("load",function(){var b,f=a.isArray(c.paramName)?c.paramName:[c.paramName];e.unbind("load").bind("load",function(){var b;try{if(b=e.contents(),!b.length||!b[0].firstChild)throw new Error}catch(c){b=void 0}i(200,"success",{iframe:b}),a('<iframe src="'+g+'"></iframe>').appendTo(d),window.setTimeout(function(){d.remove()},0)}),d.prop("target",e.prop("name")).prop("action",c.url).prop("method",c.type),c.formData&&a.each(c.formData,function(b,c){a('<input type="hidden"/>').prop("name",c.name).val(c.value).appendTo(d)}),c.fileInput&&c.fileInput.length&&"POST"===c.type&&(b=c.fileInput.clone(),c.fileInput.after(function(a){return b[a]}),c.paramName&&c.fileInput.each(function(b){a(this).prop("name",f[b]||c.paramName)}),d.append(c.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),c.fileInput.removeAttr("form")),d.submit(),b&&b.length&&c.fileInput.each(function(c,d){var e=a(b[c]);a(d).prop("name",e.prop("name")).attr("form",e.attr("form")),e.replaceWith(d)})}),d.append(e).appendTo(document.body)},abort:function(){e&&e.unbind("load").prop("src",g),d&&d.remove()}}}}),a.ajaxSetup({converters:{"iframe text":function(b){return b&&a(b[0].body).text()},"iframe json":function(b){return b&&a.parseJSON(a(b[0].body).text())},"iframe html":function(b){return b&&a(b[0].body).html()},"iframe xml":function(b){var c=b&&b[0];return c&&a.isXMLDoc(c)?c:a.parseXML(c.XMLDocument&&c.XMLDocument.xml||a(c.body).html())},"iframe script":function(b){return b&&a.globalEval(a(b[0].body).text())}}})}),function(a){"use strict";"function"==typeof define&&define.amd?define("vendor/jquery.fileupload",["jquery","jquery.ui.widget"],a):a(window.jQuery)}(function(a){"use strict";a.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||a('<input type="file">').prop("disabled")),a.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),a.support.xhrFormDataFileUpload=!!window.FormData,a.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),a.widget("blueimp.fileupload",{options:{dropZone:a(document),pasteZone:a(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(b,c){return b=this.messages[b]||b.toString(),c&&a.each(c,function(a,c){b=b.replace("{"+a+"}",c)}),b},formData:function(a){return a.serializeArray()},add:function(b,c){return!b.isDefaultPrevented()&&void((c.autoUpload||c.autoUpload!==!1&&a(this).fileupload("option","autoUpload"))&&c.process().done(function(){c.submit()}))},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:a.support.blobSlice&&function(){var a=this.slice||this.webkitSlice||this.mozSlice;return a.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(a,b,c){var d=a-this.timestamp;return(!this.bitrate||!c||d>c)&&(this.bitrate=(b-this.loaded)*(1e3/d)*8,this.loaded=b,this.timestamp=a),this.bitrate}},_isXHRUpload:function(b){return!b.forceIframeTransport&&(!b.multipart&&a.support.xhrFileUpload||a.support.xhrFormDataFileUpload)},_getFormData:function(b){var c;return"function"===a.type(b.formData)?b.formData(b.form):a.isArray(b.formData)?b.formData:"object"===a.type(b.formData)?(c=[],a.each(b.formData,function(a,b){c.push({name:a,value:b})}),c):[]},_getTotal:function(b){var c=0;return a.each(b,function(a,b){c+=b.size||1}),c},_initProgressObject:function(b){var c={loaded:0,total:0,bitrate:0};b._progress?a.extend(b._progress,c):b._progress=c},_initResponseObject:function(a){var b;if(a._response)for(b in a._response)a._response.hasOwnProperty(b)&&delete a._response[b];else a._response={}},_onProgress:function(b,c){if(b.lengthComputable){var d,e=Date.now?Date.now():(new Date).getTime();if(c._time&&c.progressInterval&&e-c._time<c.progressInterval&&b.loaded!==b.total)return;c._time=e,d=Math.floor(b.loaded/b.total*(c.chunkSize||c._progress.total))+(c.uploadedBytes||0),this._progress.loaded+=d-c._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(e,this._progress.loaded,c.bitrateInterval),c._progress.loaded=c.loaded=d,c._progress.bitrate=c.bitrate=c._bitrateTimer.getBitrate(e,d,c.bitrateInterval),this._trigger("progress",a.Event("progress",{delegatedEvent:b}),c),this._trigger("progressall",a.Event("progressall",{delegatedEvent:b}),this._progress)}},_initProgressListener:function(b){var c=this,d=b.xhr?b.xhr():a.ajaxSettings.xhr();d.upload&&(a(d.upload).bind("progress",function(a){var d=a.originalEvent;a.lengthComputable=d.lengthComputable,a.loaded=d.loaded,a.total=d.total,c._onProgress(a,b)}),b.xhr=function(){return d})},_isInstanceOf:function(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"},_initXHRData:function(b){var c,d=this,e=b.files[0],f=b.multipart||!a.support.xhrFileUpload,g="array"===a.type(b.paramName)?b.paramName[0]:b.paramName;b.headers=a.extend({},b.headers),b.contentRange&&(b.headers["Content-Range"]=b.contentRange),f&&!b.blob&&this._isInstanceOf("File",e)||(b.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"'),f?a.support.xhrFormDataFileUpload&&(b.postMessage?(c=this._getFormData(b),b.blob?c.push({name:g,value:b.blob}):a.each(b.files,function(d,e){c.push({name:"array"===a.type(b.paramName)&&b.paramName[d]||g,value:e})})):(d._isInstanceOf("FormData",b.formData)?c=b.formData:(c=new FormData,a.each(this._getFormData(b),function(a,b){c.append(b.name,b.value)})),b.blob?c.append(g,b.blob,e.name):a.each(b.files,function(e,f){(d._isInstanceOf("File",f)||d._isInstanceOf("Blob",f))&&c.append("array"===a.type(b.paramName)&&b.paramName[e]||g,f,f.uploadName||f.name)})),b.data=c):(b.contentType=e.type||"application/octet-stream",b.data=b.blob||e),b.blob=null},_initIframeSettings:function(b){var c=a("<a></a>").prop("href",b.url).prop("host");b.dataType="iframe "+(b.dataType||""),b.formData=this._getFormData(b),b.redirect&&c&&c!==location.host&&b.formData.push({name:b.redirectParamName||"redirect",value:b.redirect})},_initDataSettings:function(a){this._isXHRUpload(a)?(this._chunkedUpload(a,!0)||(a.data||this._initXHRData(a),this._initProgressListener(a)),a.postMessage&&(a.dataType="postmessage "+(a.dataType||""))):this._initIframeSettings(a)},_getParamName:function(b){var c=a(b.fileInput),d=b.paramName;return d?a.isArray(d)||(d=[d]):(d=[],c.each(function(){for(var b=a(this),c=b.prop("name")||"files[]",e=(b.prop("files")||[1]).length;e;)d.push(c),e-=1}),d.length||(d=[c.prop("name")||"files[]"])),d},_initFormSettings:function(b){b.form&&b.form.length||(b.form=a(b.fileInput.prop("form")),b.form.length||(b.form=a(this.options.fileInput.prop("form")))),b.paramName=this._getParamName(b),b.url||(b.url=b.form.prop("action")||location.href),b.type=(b.type||"string"===a.type(b.form.prop("method"))&&b.form.prop("method")||"").toUpperCase(),"POST"!==b.type&&"PUT"!==b.type&&"PATCH"!==b.type&&(b.type="POST"),b.formAcceptCharset||(b.formAcceptCharset=b.form.attr("accept-charset"))},_getAJAXSettings:function(b){var c=a.extend({},this.options,b);return this._initFormSettings(c),this._initDataSettings(c),c},_getDeferredState:function(a){return a.state?a.state():a.isResolved()?"resolved":a.isRejected()?"rejected":"pending"},_enhancePromise:function(a){return a.success=a.done,a.error=a.fail,a.complete=a.always,a},_getXHRPromise:function(b,c,d){var e=a.Deferred(),f=e.promise();return c=c||this.options.context||f,b===!0?e.resolveWith(c,d):b===!1&&e.rejectWith(c,d),f.abort=e.promise,this._enhancePromise(f)},_addConvenienceMethods:function(b,c){var d=this,e=function(b){return a.Deferred().resolveWith(d,b).promise()};c.process=function(b,f){return(b||f)&&(c._processQueue=this._processQueue=(this._processQueue||e([this])).pipe(function(){return c.errorThrown?a.Deferred().rejectWith(d,[c]).promise():e(arguments)}).pipe(b,f)),this._processQueue||e([this])},c.submit=function(){return"pending"!==this.state()&&(c.jqXHR=this.jqXHR=d._trigger("submit",a.Event("submit",{delegatedEvent:b}),this)!==!1&&d._onSend(b,this)),this.jqXHR||d._getXHRPromise()},c.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",d._trigger("fail",null,this),d._getXHRPromise(!1))},c.state=function(){return this.jqXHR?d._getDeferredState(this.jqXHR):this._processQueue?d._getDeferredState(this._processQueue):void 0},c.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===d._getDeferredState(this._processQueue)},c.progress=function(){return this._progress},c.response=function(){return this._response}},_getUploadedBytes:function(a){var b=a.getResponseHeader("Range"),c=b&&b.split("-"),d=c&&c.length>1&&parseInt(c[1],10);return d&&d+1},_chunkedUpload:function(b,c){b.uploadedBytes=b.uploadedBytes||0;var d,e,f=this,g=b.files[0],h=g.size,i=b.uploadedBytes,j=b.maxChunkSize||h,k=this._blobSlice,l=a.Deferred(),m=l.promise();return!(!(this._isXHRUpload(b)&&k&&(i||j<h))||b.data)&&(!!c||(i>=h?(g.error=b.i18n("uploadedBytes"),this._getXHRPromise(!1,b.context,[null,"error",g.error])):(e=function(){
var c=a.extend({},b),m=c._progress.loaded;c.blob=k.call(g,i,i+j,g.type),c.chunkSize=c.blob.size,c.contentRange="bytes "+i+"-"+(i+c.chunkSize-1)+"/"+h,f._initXHRData(c),f._initProgressListener(c),d=(f._trigger("chunksend",null,c)!==!1&&a.ajax(c)||f._getXHRPromise(!1,c.context)).done(function(d,g,j){i=f._getUploadedBytes(j)||i+c.chunkSize,m+c.chunkSize-c._progress.loaded&&f._onProgress(a.Event("progress",{lengthComputable:!0,loaded:i-c.uploadedBytes,total:i-c.uploadedBytes}),c),b.uploadedBytes=c.uploadedBytes=i,c.result=d,c.textStatus=g,c.jqXHR=j,f._trigger("chunkdone",null,c),f._trigger("chunkalways",null,c),i<h?e():l.resolveWith(c.context,[d,g,j])}).fail(function(a,b,d){c.jqXHR=a,c.textStatus=b,c.errorThrown=d,f._trigger("chunkfail",null,c),f._trigger("chunkalways",null,c),l.rejectWith(c.context,[a,b,d])})},this._enhancePromise(m),m.abort=function(){return d.abort()},e(),m)))},_beforeSend:function(a,b){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(b),this._initProgressObject(b),b._progress.loaded=b.loaded=b.uploadedBytes||0,b._progress.total=b.total=this._getTotal(b.files)||1,b._progress.bitrate=b.bitrate=0,this._active+=1,this._progress.loaded+=b.loaded,this._progress.total+=b.total},_onDone:function(b,c,d,e){var f=e._progress.total,g=e._response;e._progress.loaded<f&&this._onProgress(a.Event("progress",{lengthComputable:!0,loaded:f,total:f}),e),g.result=e.result=b,g.textStatus=e.textStatus=c,g.jqXHR=e.jqXHR=d,this._trigger("done",null,e)},_onFail:function(a,b,c,d){var e=d._response;d.recalculateProgress&&(this._progress.loaded-=d._progress.loaded,this._progress.total-=d._progress.total),e.jqXHR=d.jqXHR=a,e.textStatus=d.textStatus=b,e.errorThrown=d.errorThrown=c,this._trigger("fail",null,d)},_onAlways:function(a,b,c,d){this._trigger("always",null,d)},_onSend:function(b,c){c.submit||this._addConvenienceMethods(b,c);var d,e,f,g,h=this,i=h._getAJAXSettings(c),j=function(){return h._sending+=1,i._bitrateTimer=new h._BitrateTimer,d=d||((e||h._trigger("send",a.Event("send",{delegatedEvent:b}),i)===!1)&&h._getXHRPromise(!1,i.context,e)||h._chunkedUpload(i)||a.ajax(i)).done(function(a,b,c){h._onDone(a,b,c,i)}).fail(function(a,b,c){h._onFail(a,b,c,i)}).always(function(a,b,c){if(h._onAlways(a,b,c,i),h._sending-=1,h._active-=1,i.limitConcurrentUploads&&i.limitConcurrentUploads>h._sending)for(var d=h._slots.shift();d;){if("pending"===h._getDeferredState(d)){d.resolve();break}d=h._slots.shift()}0===h._active&&h._trigger("stop")})};return this._beforeSend(b,i),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(f=a.Deferred(),this._slots.push(f),g=f.pipe(j)):(this._sequence=this._sequence.pipe(j,j),g=this._sequence),g.abort=function(){return e=[void 0,"abort","abort"],d?d.abort():(f&&f.rejectWith(i.context,e),j())},this._enhancePromise(g)):j()},_onAdd:function(b,c){var d,e,f,g,h=this,i=!0,j=a.extend({},this.options,c),k=c.files,l=k.length,m=j.limitMultiFileUploads,n=j.limitMultiFileUploadSize,o=j.limitMultiFileUploadSizeOverhead,p=0,q=this._getParamName(j),r=0;if(!n||l&&void 0!==k[0].size||(n=void 0),(j.singleFileUploads||m||n)&&this._isXHRUpload(j))if(j.singleFileUploads||n||!m)if(!j.singleFileUploads&&n)for(f=[],d=[],g=0;g<l;g+=1)p+=k[g].size+o,(g+1===l||p+k[g+1].size+o>n||m&&g+1-r>=m)&&(f.push(k.slice(r,g+1)),e=q.slice(r,g+1),e.length||(e=q),d.push(e),r=g+1,p=0);else d=q;else for(f=[],d=[],g=0;g<l;g+=m)f.push(k.slice(g,g+m)),e=q.slice(g,g+m),e.length||(e=q),d.push(e);else f=[k],d=[q];return c.originalFiles=k,a.each(f||k,function(e,g){var j=a.extend({},c);return j.files=f?g:[g],j.paramName=d[e],h._initResponseObject(j),h._initProgressObject(j),h._addConvenienceMethods(b,j),i=h._trigger("add",a.Event("add",{delegatedEvent:b}),j)}),i},_replaceFileInput:function(b){var c=b.clone(!0);a("<form></form>").append(c)[0].reset(),b.after(c).detach(),a.cleanData(b.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(a,d){return d===b[0]?c[0]:d}),b[0]===this.element[0]&&(this.element=c)},_handleFileTreeEntry:function(b,c){var d,e=this,f=a.Deferred(),g=function(a){a&&!a.entry&&(a.entry=b),f.resolve([a])};return c=c||"",b.isFile?b._file?(b._file.relativePath=c,f.resolve(b._file)):b.file(function(a){a.relativePath=c,f.resolve(a)},g):b.isDirectory?(d=b.createReader(),d.readEntries(function(a){e._handleFileTreeEntries(a,c+b.name+"/").done(function(a){f.resolve(a)}).fail(g)},g)):f.resolve([]),f.promise()},_handleFileTreeEntries:function(b,c){var d=this;return a.when.apply(a,a.map(b,function(a){return d._handleFileTreeEntry(a,c)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(b){b=b||{};var c=b.items;return c&&c.length&&(c[0].webkitGetAsEntry||c[0].getAsEntry)?this._handleFileTreeEntries(a.map(c,function(a){var b;return a.webkitGetAsEntry?(b=a.webkitGetAsEntry(),b&&(b._file=a.getAsFile()),b):a.getAsEntry()})):a.Deferred().resolve(a.makeArray(b.files)).promise()},_getSingleFileInputFiles:function(b){b=a(b);var c,d,e=b.prop("webkitEntries")||b.prop("entries");if(e&&e.length)return this._handleFileTreeEntries(e);if(c=a.makeArray(b.prop("files")),c.length)void 0===c[0].name&&c[0].fileName&&a.each(c,function(a,b){b.name=b.fileName,b.size=b.fileSize});else{if(d=b.prop("value"),!d)return a.Deferred().resolve([]).promise();c=[{name:d.replace(/^.*\\/,"")}]}return a.Deferred().resolve(c).promise()},_getFileInputFiles:function(b){return b instanceof a&&1!==b.length?a.when.apply(a,a.map(b,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(b)},_onChange:function(b){var c=this,d={fileInput:a(b.target),form:a(b.target.form)};this._getFileInputFiles(d.fileInput).always(function(e){d.files=e,c.options.replaceFileInput&&c._replaceFileInput(d.fileInput),c._trigger("change",a.Event("change",{delegatedEvent:b}),d)!==!1&&c._onAdd(b,d)})},_onPaste:function(b){var c=b.originalEvent&&b.originalEvent.clipboardData&&b.originalEvent.clipboardData.items,d={files:[]};c&&c.length&&(a.each(c,function(a,b){var c=b.getAsFile&&b.getAsFile();c&&d.files.push(c)}),this._trigger("paste",a.Event("paste",{delegatedEvent:b}),d)!==!1&&this._onAdd(b,d))},_onDrop:function(b){b.dataTransfer=b.originalEvent&&b.originalEvent.dataTransfer;var c=this,d=b.dataTransfer,e={};d&&d.files&&d.files.length&&(b.preventDefault(),this._getDroppedFiles(d).always(function(d){e.files=d,c._trigger("drop",a.Event("drop",{delegatedEvent:b}),e)!==!1&&c._onAdd(b,e)}))},_onDragOver:function(b){b.dataTransfer=b.originalEvent&&b.originalEvent.dataTransfer;var c=b.dataTransfer;c&&a.inArray("Files",c.types)!==-1&&this._trigger("dragover",a.Event("dragover",{delegatedEvent:b}))!==!1&&(b.preventDefault(),c.dropEffect="copy")},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),a.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(b,c){var d=a.inArray(b,this._specialOptions)!==-1;d&&this._destroyEventHandlers(),this._super(b,c),d&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var b=this.options;void 0===b.fileInput?b.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):b.fileInput instanceof a||(b.fileInput=a(b.fileInput)),b.dropZone instanceof a||(b.dropZone=a(b.dropZone)),b.pasteZone instanceof a||(b.pasteZone=a(b.pasteZone))},_getRegExp:function(a){var b=a.split("/"),c=b.pop();return b.shift(),new RegExp(b.join("/"),c)},_isRegExpOption:function(b,c){return"url"!==b&&"string"===a.type(c)&&/^\/.*\/[igm]{0,3}$/.test(c)},_initDataAttributes:function(){var b=this,c=this.options;a.each(a(this.element[0].cloneNode(!1)).data(),function(a,d){b._isRegExpOption(a,d)&&(d=b._getRegExp(d)),c[a]=d})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(b){var c=this;b&&!this.options.disabled&&(b.fileInput&&!b.files?this._getFileInputFiles(b.fileInput).always(function(a){b.files=a,c._onAdd(null,b)}):(b.files=a.makeArray(b.files),this._onAdd(null,b)))},send:function(b){if(b&&!this.options.disabled){if(b.fileInput&&!b.files){var c,d,e=this,f=a.Deferred(),g=f.promise();return g.abort=function(){return d=!0,c?c.abort():(f.reject(null,"abort","abort"),g)},this._getFileInputFiles(b.fileInput).always(function(a){if(!d){if(!a.length)return void f.reject();b.files=a,c=e._onSend(null,b).then(function(a,b,c){f.resolve(a,b,c)},function(a,b,c){f.reject(a,b,c)})}}),this._enhancePromise(g)}if(b.files=a.makeArray(b.files),b.files.length)return this._onSend(null,b)}return this._getXHRPromise(!1,b&&b.context)}})}),define("cb/photo/view",["jquery","underscore","backbone","modernizr","cb/photo/collection","cb/photo/model","text!cb/photo/template.jst","text!cb/templates/error.jst","text!cb/photo/caption.jst","text!cb/photo/crop.jst","text!cb/photo/add.jst","text!cb/photo/multiple-add.jst","cb/photo/settings","jquery-migrate","vendor/jquery.Jcrop.min","jquery.ui.widget","vendor/jquery.iframe-transport","vendor/jquery.fileupload","bootstrap"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";return c.View.extend({events:{"click .js-action-caption":"caption","click .js-action-crop":"crop","click .js-action-rotate":"rotate","click .js-action-delete":"deleteSingle"},initialize:function(b){"undefined"!=typeof b&&1===b.size()?this.$container=b:this.$container=a("body"),this.$container.get(0).cbPhotoView=this,this.settings=new m,this.settings.fetch(),this.model=new f,this.model.set("settings",this.settings),this.$photoSession=this.$container.find(".js-photo-session").first(),this.$videoSession=this.$container.find(".js-video-session").first(),this.collection=new e(this.$photoSession.data("models")),this.collection.setSettings(this.settings),this.setElement(this.$container.find("#photo-container")),this.$drawer=this.$container.find(".js-drawer");var c=this;this.on("full",function(){c.$el.find(".js-action-add").addClass("disabled")}).on("notfull",function(){c.$el.find(".js-action-add").removeClass("disabled")})},render:function(){return this.$el.html(b.template(g,{photos:this.collection.models,settings:this.settings})),this.updateCounts(),this.cleanUpDrawer(),d.touch&&a(".js-action-crop").addClass("hidden"),this},refresh:function(){var a=this;a.clearErrors(),this.collection.fetch({success:function(){a.render()},error:function(){a.renderError.apply(a,[])}})},clearErrors:function(a){a||(a=this.$el),a.prevAll(".alert-error").hide("fast")},rotate:function(a){var b=this.getClickedModel(a),c=this;b.save({action:"rotate",clockwise:!0},{success:function(){c.refresh.apply(c,[])},error:function(){c.renderError.apply(c,[])}})},prepareDrawer:function(a){var b=this;b.$drawer.empty(),a&&(b.$drawer=b.$container.find("#edit-"+a)),b.$drawer.offset()&&b.$drawer.offset().top&&b.$container.animate({scrollTop:b.$drawer.offset().top-250},250)},cleanUpDrawer:function(){this.$drawer.empty()},caption:function(c){var d=this.getClickedModel(c),e=this;e.$container.find(".js-media-attachment-info").addClass("hidden"),this.prepareDrawer(d.id);var f=a(b.template(i,{photo:d})),g=f.find(".js-action-save"),h=f.find(".js-action-cancel");e.$drawer.html(f),f.find(".js-photo-caption").focus(),g.on("click",function(a){a.preventDefault(),g.addClass("waiting"),d.save({caption:f.find(".js-photo-caption").val(),action:"caption"},{success:function(){e.cleanUpDrawer(),e.render()},error:function(){e.cleanUpDrawer(),e.renderError.apply(e,[])}})}),h.on("click",function(a){a.preventDefault(),e.$drawer.empty(),e.$container.find(".js-media-attachment-info").removeClass("hidden"),e.$container.scrollTop(0)})},crop:function(c){var d=this.getClickedModel(c);if(d){var e=this,f=e.$container.find("#photo-"+d.cid),g=e.$container.find("#img-"+d.id);f.addClass("w-100"),this.prepareDrawer(d.id);var h,i=a(b.template(j,{photo:d})),k=i.find(".js-photo-crop"),l=this.settings.get("cropWidth"),m=this.settings.get("cropHeight"),n=parseInt(l,10)/parseInt(m,10),o=[0,0,l,m];e.$drawer.html(i),g.hide();var p=i.find(".js-action-save"),q=i.find(".js-action-cancel"),r=function(a){if(h){var b=h.tellSelect();d.set("x",b.x),d.set("y",b.y),d.set("w",b.w),d.set("h",b.h)}},s=function(){k.Jcrop({aspectRatio:n,trueSize:[k.prop("naturalWidth"),k.prop("naturalHeight")],setSelect:o,onSelect:r,onChange:r},function(){h=this})};k.load(s),p.on("click.photo",function(a){a.preventDefault(),p.addClass("waiting"),d.save({action:"crop"},{success:function(){e.cleanUpDrawer(),e.refresh()},error:function(){e.cleanUpDrawer(),e.renderError.apply(e,[])}}),e.$container.scrollTop(0)}),q.on("click.photo",function(a){a.preventDefault(),e.cleanUpDrawer(),f.removeClass("w-100"),g.show(),e.$container.scrollTop(0)})}},add:function(c){c&&c.preventDefault();var d=this;if(d.isFull())return d.renderError.apply(d,["Sorry, only "+this.settings.get("maxPhotos")+" images can be added to a post"]),!1;var e=parseInt(this.settings.get("maxPhotos"),10),f=e>1?l:k,g=d.$container.find(".js-media-attachment-stage-photo"),h=a(b.template(f,{settings:this.settings,count:e-this.collection.length}));g.html(h),h.on("submit","form",function(a){a.preventDefault()}),d.$container.find("#photo-upload").fileupload({url:"/photo?photo-session="+this.settings.get("id"),type:"post",dataType:"json",progressall:function(){g.empty(),g.append('<div class="content text-center"><img src="/assets/images/loader.gif" class="loader" alt=""/></div>'),g.find(".btn").attr("disabled","disabled").css("opacity",.3)},error:function(b){g.empty();var c=a.parseJSON(b.responseText);c=c&&c[0]?c[0]:"",d.renderError.apply(d,[c]),d.trigger("reset-stage")},done:function(a){g.empty(),d.refresh.apply(d,[]),d.trigger("reset-stage")}})},deleteSingle:function(a){a.preventDefault();var b=this.getClickedModel(a),c=this;c.cleanUpDrawer(),c.$container.find("#photo-"+b.cid).addClass("processing"),b.destroy({wait:!0,success:function(){c.render(),c.trigger("reset-stage")},error:function(){c.renderError.apply(c,[]),c.trigger("reset-stage")}})},getClickedModel:function(b){b.preventDefault();var c=a(b.currentTarget).data("id");return this.collection.get(c)},renderError:function(a,c){c||(c=this.$el),c.before(b.template(h,{message:a?a:""})),this.render()},updateCounts:function(){this.$photoSession.data("photo-count")!==this.collection.length&&(this.trigger("count-change"),this.$photoSession.data("photo-count",this.collection.length)),this.isFull()?this.trigger("full"):(this.trigger("notfull"),this.isEmpty()&&this.trigger("empty"))},isFull:function(){return this.collection.length>=this.settings.get("maxPhotos")},isEmpty:function(){return 0===this.collection.models.length}})}),define("cb/video/model",["underscore","backbone"],function(a,b){"use strict";return b.Model.extend({defaults:{thumbnail:"",embed:"",caption:"",width:0,height:0,settings:null},url:function(){return this.get("id")?"/video/"+this.get("id")+"?video-session="+this.get("settings").get("id"):"/video?video-session="+this.get("settings").get("id")}})}),define("cb/video/collection",["underscore","backbone","cb/video/model"],function(a,b,c){"use strict";var d=b.Collection.extend({model:c,settings:null,setSettings:function(a){this.settings=a;for(var b=0,c=this.models.length;b<c;b++)this.models[b].set("settings",this.settings)},add:function(a,c){for(var d=0,e=a.length;d<e;d++)a[d].settings=this.settings;b.Collection.prototype.add.call(this,a,c)},url:function(){return"/video?video-session="+this.settings.get("id")}});return d}),define("text!cb/video/template.jst",[],function(){return'<% _.each(videos, function(video) { %>\n<div id="video-<%= video.cid %>" class="panel panel-blank" data-qa-id="video-<%= video.cid %>">\n    <div class="panel-heading">\n        <div class="btn-toolbar">\n            <div class="btn-group pull-right">\n                <button data-id="<%= video.get(\'id\') %>" data-qa-id="delete-video-<%= video.get(\'id\') %>"\n                    class="btn btn-danger btn-sm pull-right js-action-delete" title="Remove this video" type="button">\n                    <i class="icon-trash"></i>\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="panel-body">\n        <img src="<%= video.get(\'thumbnail\') %>" class="img-responsive" alt="<%= video.get(\'caption\') %>"/>\n        <% if (video.get(\'caption\')) { %>\n            <div class="photo-caption user-generated"><small><%= video.get(\'caption\') %></small></div>\n        <% } %>\n    </div>\n</div>\n<% }); %>\n'}),define("text!cb/video/add.jst",[],function(){return'<form>\n    <div class="form-group">\n        <div class="row">\n            <div class="col-md-8">\n                <label for="video-src">Attach a video by copying the address from YouTube&trade; and pasting it here:</label>\n                <div class="input-group">\n                    <input type="text" id="video-src" name="video-src" value="" class="form-control" placeholder="https://youtube.com/watch?v..." autofocus="autofocus" data-qa-id="video-url" />\n                    <span class="input-group-btn">\n                        <button class="btn btn-default js-action-add" data-qa-id="video-add" type="submit" data-ga-action="Click - button" data-ga-label="Add Video Link">Add</button>\n                    </span>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>\n'}),define("cb/video/settings",["jquery","underscore","backbone"],function(a,b,c){"use strict";var d=c.Model.extend({defaults:{id:"",canAdd:!1,maxVideos:0},fetch:function(b){var c=a(b).find(".js-video-session");this.set({id:c.val(),canAdd:1===c.data("canAdd"),maxVideos:parseInt(c.data("maxVideos"),10)})}});return d}),define("cb/video/view",["jquery","underscore","backbone","cb/video/model","cb/video/collection","text!cb/video/template.jst","text!cb/templates/error.jst","text!cb/video/add.jst","cb/video/settings","bootstrap"],function(a,b,c,d,e,f,g,h,i){"use strict";return c.View.extend({events:{"click .js-action-add":"add","click .js-action-delete":"deleteSingle"},initialize:function(b){"undefined"!=typeof b&&1===b.size()?this.$container=b:this.$container=a("body"),this.$container.get(0).cbVideoView=this,this.settings=new i,this.settings.fetch(b),this.model=new d,this.model.set("settings",this.settings),this.$photoSession=this.$container.find(".js-photo-session").first(),this.$videoSession=this.$container.find(".js-video-session").first(),this.collection=new e(this.$videoSession.data("models")),this.collection.setSettings(this.settings),this.setElement(this.$container.find("#video-container"));var c=this;this.on("full",function(){c.$el.find(".js-action-add").addClass("disabled")}).on("notfull",function(){c.$el.find(".js-action-add").removeClass("disabled")})},render:function(){return this.$el.html(b.template(f,{settings:this.settings,videos:this.collection.models})),this.updateCounts(),this},refresh:function(){var a=this;this.collection.fetch({success:function(){a.render()},error:function(){a.renderError.apply(a,[])}})},add:function(a){a.preventDefault();var c=this;if(c.isFull())return c.renderError.apply(c,["Sorry, only "+this.settings.get("maxVideos")+" video"+(1===this.settings.get("maxVideos")?"":"s")+" can be added to a post"]),!1;var e=c.$container.find(".js-media-attachment-stage-video");e.empty().html(b.template(h,{settings:this.settings})),e.find(".js-action-add").on("click",function(a){a.preventDefault();var b=new d;b.set("settings",c.settings),b.save({src:c.$container.find("#video-src").val()},{success:function(a){c.collection.add(a),c.render(),c.trigger("reset-stage")},error:function(){e.find(".alert").remove(),e.append('<div class="alert alert-warning">That does not appear to be a valid YouTube&trade; video.</div>')}})})},deleteSingle:function(a){var b=this.getClickedModel(a),c=this;c.$container.find("#video-"+b.cid).addClass("processing"),b.destroy({wait:!0,success:function(){c.render()},error:function(){c.renderError.apply(c,[])}})},getClickedModel:function(b){b.preventDefault();var c=a(b.currentTarget).data("id");return this.collection.get(c)},renderError:function(a){this.$el.before(b.template(g,{message:a?a:""})),this.render()},updateCounts:function(){this.$videoSession.data("video-count")!==this.collection.length&&(this.trigger("count-change"),this.$videoSession.data("video-count",this.collection.length)),this.isFull()?this.trigger("full"):(this.trigger("notfull"),this.isEmpty()&&this.trigger("empty"))},isFull:function(){return this.collection.length>=this.settings.get("maxVideos")},isEmpty:function(){return 0===this.collection.models.length}})}),define("text!cb/carepost/carepost.jst",[],function(){return'<div class="panel panel-blank">\n    <div class="panel-heading">\n        <div class="btn-toolbar">\n            <button class="btn btn-danger btn-sm pull-right js-action-delete" title="Delete Carepost" data-qa-id="carepost-delete" type="button">\n                <i class="icon icon-trash"></i>\n            </button>\n        </div>\n    </div>\n    <div class="panel-body">\n        <div class="carepost">\n            <img src="<%= image %>" alt="<%= title %>" class="img-responsive" />\n        </div>\n    </div>\n</div>\n'}),define("cb/carepost/carepost",["jquery","underscore","backbone","text!cb/carepost/carepost.jst","bootstrap"],function(a,b,c,d){"use strict";var e=function(a,c){a.$container.html(b.template(d,c)),a.$input.val(c.id),a.$container.trigger("count-change"),a.$stage.trigger("reset-stage")},f=function(b){b.preventDefault(),e(b.data.carepost,a(b.currentTarget).data("model"))},g=function(a){a.preventDefault(),a.data.carepost.$container.html(""),a.data.carepost.$input.val(""),a.data.carepost.$container.trigger("count-change")},h=function(b){this.container=b,this.$stage=a(".js-media-attachment-stage-carepost"),this.$picker=a("#carepost-picker"),this.$container=a("#carepost-container"),this.$input=a("#carepost-choice"),this.$picker.prependTo(this.$stage),this.$picker.on("click.carepost",".carepost",{carepost:this},f),a(document).on("click.carepost","#carepost-container .js-action-delete",{carepost:this},g),this.$input.data("carepost")&&e(this,this.$input.data("carepost"))};return h}),require(["jquery","cb/carepost/carepost"],function(a,b){"use strict";a(function(){var c=".js-media-attachment-control-carepost",d=function(){this.cbCarepost=new b(this)};a(c).each(d),a(".overview-feeds").on("load-feed-complete",function(b){a(b.relatedTarget).find(c).each(d)})})}),define("cb/carepost/main",function(){}),define("cb/picker/picker",["jquery","underscore","cb/photo/view","bootstrap"],function(a,b,c){"use strict";var d=function(b){var c=b.data.picker;b.preventDefault(),c.showStage();var d=c.$stage.find(".photo-picker-body");d.html('<div class="text-center"><img src="/assets/images/spinner.gif" alt=""/> Loading Photos...</div>'),a.get(c.$photoPickerInfo.data("list")).done(function(a){d.html(a)}).fail(function(){d.html('<div class="alert alert-error">We’re unable to fetch your photos right now. Please try again later.</div>')})},e=function(b){var c=b.data.picker,d=c.$stage.find(".photo-picker-item:checked");c.selected=d.data("id"),c.$stage.find(".photo-box").removeClass("active"),d.parents(".photo-box").addClass("active"),a.post(c.$photoPickerInfo.data("add").replace(/:param:/,c.selected)).done(function(a){if(c.$stage.parent().parents(".main-site-photo-container").length>0){var b=c.$container.closest(".main-site-photo-container");b.find(".site-photo-view").removeClass("hidden"),b.find(".site-photo-view img").attr("src",a.src),b.find(".media-attachment-container").addClass("hidden")}else c.$stage.data("photoView").refresh()}).fail(function(){a("#flash-messages").html("").append('<div class="alert alert-error">We’re unable to add your photo due to an error. Please try again later.</div>')})},f=function(b){var c=b.data.picker,d=a(b.currentTarget);b.preventDefault(),c.$stage.find(".pagination").addClass("waiting"),a.get(d.attr("href")).done(function(a){c.$stage.find(".photo-picker-body").html(a)}).always(function(){c.$stage.find(".pagination").removeClass("waiting")})},g=function(b){this.$container=a(b),this.selected=null,this.$photoPickerInfo=a("#photo-picker-info"),this.$container.on("click",{picker:this},d),this.$stage=this.$container.closest(".media-attachment-container").find(".js-media-attachment-stage-picker"),this.$stage.data("photoView",b.cbPhotoView||new c(this.$container)),this.$stage.on("change",".photo-picker-item",{picker:this},e),this.$stage.on("click",".pagination a",{picker:this},f)};return g.prototype.showStage=function(){this.$stage.removeClass("hidden").prop("aria-hidden","false")},g.prototype.hideStage=function(){this.$stage.addClass("hidden").prop("aria-hidden","true"),this.$stage.trigger("reset-stage")},g}),require(["jquery","cb/picker/picker"],function(a,b){"use strict";a(function(){a(".js-media-attachment-control-picker").each(function(){this.cbPicker=new b(this)})})}),define("cb/picker/main",function(){}),define("cb/bar/bar",["jquery","cb/photo/multiple-upload","cb/photo/view","cb/video/view","cb/carepost/main","cb/picker/main"],function(a,b,c,d,e){"use strict";var f=!1,g=function(a,b){b===!1?(a.$container.removeClass("focused"),a.$container.find(".tab-content").hide(),a.$container.find(".nav-tabs").addClass("nav-tabs-no-border-bottom")):(a.$container.addClass("focused"),a.$container.find(".tab-content").show(),a.$container.find(".nav-tabs").removeClass("nav-tabs-no-border-bottom"))},h=function(a,b){!a.photoView.isEmpty()||!a.videoView.isEmpty()||a.getCarepostCount()>0?(b.carepost=!1,b.video=!1,a.$container.find(".js-media-attachment-control-attachments").removeClass("disabled"),a.$container.find(".js-media-attachment-text").hide(),g(a)):(a.$container.find(".js-media-attachment-control-attachments").addClass("disabled"),a.$container.find(".js-media-attachment-text").show(),f||g(a,!1),f=!1),(a.photoView.isFull()||!a.videoView.isEmpty()||a.getCarepostCount()>0)&&(b.photo=!1,b.picker=!1)},i=function(a,b){!a.photoView.isEmpty()||!a.videoView.isEmpty()||a.getCarepostCount()>0?(b.carepost=!1,a.$container.find(".js-media-attachment-text").hide(),a.$container.find(".js-media-attachment-control-attachments").removeClass("disabled"),g(a)):(a.$container.find(".js-media-attachment-control-attachments").addClass("disabled"),a.$container.find(".js-media-attachment-text").show(),f||g(a,!1),f=!1),a.photoView.isFull()&&(b.photo=!1,b.picker=!1),a.videoView.isFull()&&(b.video=!1),a.getCarepostCount()>0&&(b.photo=!1,b.video=!1,b.carepost=!1,b.picker=!1)},j=function(b){return a(document).find("section.site-overview-container.overview-feeds").length>0||a(document).find("#guestbook").length>0},k=function(a){var b={photo:!0,video:!0,carepost:!0,picker:!0};j(a)?h(a,b):i(a,b),a.$container.find(".js-media-attachment-control.disabled").removeClass("disabled"),b.photo||a.$container.find(".js-media-attachment-control-photo").addClass("disabled"),b.video||a.$container.find(".js-media-attachment-control-video").addClass("disabled"),b.carepost||a.$container.find(".js-media-attachment-control-carepost").addClass("disabled"),b.picker||a.$container.find(".js-media-attachment-control-picker").addClass("disabled")},l=function(c){c.photoView.on({full:function(){c.$container.find(".js-media-attachment-control-photo").addClass("disabled")},notfull:function(){c.$container.find(".js-media-attachment-control-photo").removeClass("disabled"),k(c)},"count-change":function(){k(c)},"reset-stage":function(){c.showAttachmentsTab()}}),c.videoView.on({full:function(){c.$container.find(".js-media-attachment-control-video").addClass("disabled")},notfull:function(){c.$container.find(".js-media-attachment-control-video").removeClass("disabled"),k(c)},"count-change":function(){k(c)},"reset-stage":function(){c.showAttachmentsTab()}}),c.$container.on("click.bar-action",".js-media-attachment-control-photo",function(d){d.preventDefault(),g(c),a(d.currentTarget).is(".disabled")||(c.photoView.add(d),this.multipleUpload=new b(c.$container))}),c.$container.on("click.bar-action",".js-media-attachment-control-video",function(b){b.preventDefault(),g(c),a(b.currentTarget).is(".disabled")||c.videoView.add(b)}),c.$container.on("click.bar-action",".js-media-attachment-control-carepost",function(b){b.preventDefault(),g(c),a(b.currentTarget).is(".disabled")&&c.showAttachmentsTab()}),c.$container.on("count-change","#carepost-container",function(){k(c)}),c.$container.on("reset-stage",".js-media-attachment-stage-carepost",function(){c.showAttachmentsTab()}),c.$container.on("reset-stage",".js-media-attachment-stage-photo",function(b){c.photoView.refresh.apply(c.photoView,[]),c.photoView.clearErrors(a(b.currentTarget)),c.showAttachmentsTab()}),c.$container.on("staging-error",".js-media-attachment-stage-photo",function(b,d){c.photoView.refresh.apply(c.photoView,[]),c.photoView.renderError.apply(c.photoView,[d,a(b.currentTarget)]),f=!0,g(c)}),c.$container.on("upload-error",".js-media-attachment-stage-photo",function(a,b){c.photoView.refresh.apply(c.photoView,[]),c.showAttachmentsTab(),c.photoView.renderError.apply(c.photoView,[b]),f=!0,g(c)}),c.$container.on("reset-stage",".js-media-attachment-stage-picker",function(){c.showAttachmentsTab()})},m=function(b){this.$container=a(b),this.photoView=b.cbPhotoView||new c(this.$container),this.photoView.render(),this.videoView=b.cbVideoView||new d(this.$container),this.videoView.render(),this.$container.find(".js-media-attachment-content-photo").data("photoView",this.photoView),l(this),k(this),this.$container.parent().find(".js-hide-after-loaded").addClass("hidden"),this.$container.parent().find(".js-show-after-loaded").removeClass("hidden")};return m.prototype.getCarepostCount=function(){return this.$container.find("#carepost-container .carepost").size()},m.prototype.showAttachmentsTab=function(){this.$container.find(".js-media-attachment-control-attachments").tab("show")},m}),function(){!function(){"use strict";function a(){function a(c,d){return b.push(c+" ")>Yb.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function b(a){return a[nc]=!0,a}function c(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||wc)-(~a.sourceIndex||wc);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function d(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function e(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function f(a){return b(function(c){return c=+c,b(function(b,d){for(var e,f=a([],b.length,c),g=f.length;g--;)b[e=f[g]]&&(b[e]=!(d[e]=b[e]))})})}function g(a){return a&&typeof a.getElementsByTagName!==vc&&a}function h(){}function i(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function j(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=qc++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[pc,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[nc]||(b[nc]={}),(h=i[d])&&h[0]===pc&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function k(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function l(a,b,c){for(var d=0,e=b.length;d<e;d++)Zc(a,b[d],c);return c}function m(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),
j&&b.push(h)));return g}function n(a,c,d,e,f,g){return e&&!e[nc]&&(e=n(e)),f&&!f[nc]&&(f=n(f,g)),b(function(b,g,h,i){var j,k,n,o=[],p=[],q=g.length,r=b||l(c||"*",h.nodeType?[h]:h,[]),s=!a||!b&&c?r:m(r,o,a,h,i),t=d?f||(b?a:q||e)?[]:g:s;if(d&&d(s,t,h,i),e)for(j=m(t,p),e(j,[],h,i),k=j.length;k--;)(n=j[k])&&(t[p[k]]=!(s[p[k]]=n));if(b){if(f||a){if(f){for(j=[],k=t.length;k--;)(n=t[k])&&j.push(s[k]=n);f(null,t=[],j,i)}for(k=t.length;k--;)(n=t[k])&&(j=f?Dc.call(b,n):o[k])>-1&&(b[j]=!(g[j]=n))}}else t=m(t===g?t.splice(q,t.length):t),f?f(null,g,t,i):Bc.apply(g,t)})}function o(a){for(var b,c,d,e=a.length,f=Yb.relative[a[0].type],g=f||Yb.relative[" "],h=f?1:0,l=j(function(a){return a===b},g,!0),m=j(function(a){return Dc.call(b,a)>-1},g,!0),p=[function(a,c,d){return!f&&(d||c!==cc)||((b=c).nodeType?l(a,c,d):m(a,c,d))}];h<e;h++)if(c=Yb.relative[a[h].type])p=[j(k(p),c)];else{if(c=Yb.filter[a[h].type].apply(null,a[h].matches),c[nc]){for(d=++h;d<e&&!Yb.relative[a[d].type];d++);return n(h>1&&k(p),h>1&&i(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(Jc,"$1"),c,h<d&&o(a.slice(h,d)),d<e&&o(a=a.slice(d)),d<e&&i(a))}p.push(c)}return k(p)}function p(a,c){var d=c.length>0,e=a.length>0,f=function(b,f,g,h,i){var j,k,l,n=0,o="0",p=b&&[],q=[],r=cc,s=b||e&&Yb.find.TAG("*",i),t=pc+=null==r?1:Math.random()||.1,u=s.length;for(i&&(cc=f!==gc&&f);o!==u&&null!=(j=s[o]);o++){if(e&&j){for(k=0;l=a[k++];)if(l(j,f,g)){h.push(j);break}i&&(pc=t)}d&&((j=!l&&j)&&n--,b&&p.push(j))}if(n+=o,d&&o!==n){for(k=0;l=c[k++];)l(p,q,f,g);if(b){if(n>0)for(;o--;)p[o]||q[o]||(q[o]=zc.call(h));q=m(q)}Bc.apply(h,q),i&&!b&&q.length>0&&n+c.length>1&&Zc.uniqueSort(h)}return i&&(pc=t,cc=r),p};return d?b(f):f}function q(a,b,c){var d=a.isiOS()&&/ipad/i.test(c)===!0,e=a.isiOS()&&!d,f=a.isAndroid()&&3===a.version.major,g=a.isAndroid()&&4===a.version.major,h=d||f||g&&/mobile/i.test(c)===!0,i=a.isiOS()||a.isAndroid(),j=i&&!h,k=b.isSafari()&&a.isiOS()&&/safari/i.test(c)===!1;return{isiPad:ra(d),isiPhone:ra(e),isTablet:ra(h),isPhone:ra(j),isTouch:ra(i),isAndroid:a.isAndroid,isiOS:a.isiOS,isWebView:ra(k)}}function r(a,b){var c,d=0,e={};b=b||{},c=b.maxLoadTime||5e3;var f=function(b){a.getElementsByTagName("head")[0].appendChild(b)},g=function(b,g,h){var i,j,k,l,m=function(){for(var a=l.passed,b=a.length;b--;)a[b]();l.status=2,l.passed=[],l.failed=[]},n=function(){for(var a=l.failed,b=a.length;b--;)a[b]();l.status=3,l.passed=[],l.failed=[]},o=function(){var a=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(a&&parseInt(a[1],10)<536)},p=function(a,b){a()||((new Date).getTime()-k<c?Jb.setTimeout(b):n())},q=function(){p(function(){for(var b,c,d=a.styleSheets,e=d.length;e--;)if(b=d[e],c=b.ownerNode?b.ownerNode:b.owningElement,c&&c.id===i.id)return m(),!0},q)},r=function(){p(function(){try{var a=j.sheet.cssRules;return m(),!!a}catch(b){}},r)};if(b=vd._addCacheSuffix(b),e[b]?l=e[b]:(l={passed:[],failed:[]},e[b]=l),g&&l.passed.push(g),h&&l.failed.push(h),1!==l.status){if(2===l.status)return void m();if(3===l.status)return void n();if(l.status=1,i=a.createElement("link"),i.rel="stylesheet",i.type="text/css",i.id="u"+d++,i.async=!1,i.defer=!1,k=(new Date).getTime(),"onload"in i&&!o())i.onload=q,i.onerror=n;else{if(navigator.userAgent.indexOf("Firefox")>0)return j=a.createElement("style"),j.textContent='@import "'+b+'"',r(),void f(j);q()}f(i),i.href=b}},h=function(a){return Vg.nu(function(b){g(a,qa(b,ra($g.value(a))),qa(b,ra($g.error(a))))})},i=function(a){return a.fold(sa,sa)},j=function(a,b,c){Xg(Ra(a,h)).get(function(a){var d=Ua(a,function(a){return a.isValue()});d.fail.length>0?c(d.fail.map(i)):b(d.pass.map(i))})};return{load:g,loadAll:j}}function s(a,b){var c=a,d=function(a,c,d,e){var f,g;if(a){if(!e&&a[c])return a[c];if(a!==b){if(f=a[d])return f;for(g=a.parentNode;g&&g!==b;g=g.parentNode)if(f=g[d])return f}}},e=function(a,c,d,e){var f,g,h;if(a){if(f=a[d],b&&f===b)return;if(f){if(!e)for(h=f[c];h;h=h[c])if(!h[c])return h;return f}if(g=a.parentNode,g&&g!==b)return g}};this.current=function(){return c},this.next=function(a){return c=d(c,"firstChild","nextSibling",a)},this.prev=function(a){return c=d(c,"lastChild","previousSibling",a)},this.prev2=function(a){return c=e(c,"lastChild","previousSibling",a)}}function t(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o={},p={},q=[],r={},s={},t=function(b,c,d){var e=a[b];return e?e=fi(e,/[, ]/,fi(e.toUpperCase(),/[, ]/)):(e=di[b],e||(e=fi(c," ",fi(c.toUpperCase()," ")),e=hi(e,d),di[b]=e)),e};a=a||{},d=li(a.schema),a.verify_html===!1&&(a.valid_elements="*[*]"),b=mi(a.valid_styles),c=mi(a.invalid_styles,"map"),i=mi(a.valid_classes,"map"),e=t("whitespace_elements","pre script noscript style textarea video audio iframe object code"),f=t("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),g=t("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),h=t("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),k=t("non_empty_elements","td th iframe video audio object script pre code",g),l=t("move_caret_before_on_enter_elements","table",k),m=t("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),j=t("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",m),n=t("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),gi((a.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(a){s[a]=new RegExp("</"+a+"[^>]*>","gi")});var u=function(a){return new RegExp("^"+a.replace(/([?+*])/g,".$1")+"$")},v=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,p,r,s,t,v,w,x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,y=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,z=/[*?+]/;if(a)for(a=ki(a,","),o["@"]&&(s=o["@"].attributes,t=o["@"].attributesOrder),b=0,c=a.length;b<c;b++)if(f=x.exec(a[b])){if(p=f[1],j=f[2],r=f[3],i=f[5],m={},n=[],g={attributes:m,attributesOrder:n},"#"===p&&(g.paddEmpty=!0),"-"===p&&(g.removeEmpty=!0),"!"===f[4]&&(g.removeEmptyAttrs=!0),s){for(v in s)m[v]=s[v];n.push.apply(n,t)}if(i)for(i=ki(i,"|"),d=0,e=i.length;d<e;d++)if(f=y.exec(i[d])){if(h={},l=f[1],k=f[2].replace(/[\\:]:/g,":"),p=f[3],w=f[4],"!"===l&&(g.attributesRequired=g.attributesRequired||[],g.attributesRequired.push(k),h.required=!0),"-"===l){delete m[k],n.splice(ji(n,k),1);continue}p&&("="===p&&(g.attributesDefault=g.attributesDefault||[],g.attributesDefault.push({name:k,value:w}),h.defaultValue=w),":"===p&&(g.attributesForced=g.attributesForced||[],g.attributesForced.push({name:k,value:w}),h.forcedValue=w),"<"===p&&(h.validValues=fi(w,"?"))),z.test(k)?(g.attributePatterns=g.attributePatterns||[],h.pattern=u(k),g.attributePatterns.push(h)):(m[k]||n.push(k),m[k]=h)}s||"@"!==j||(s=m,t=n),r&&(g.outputName=j,o[r]=g),z.test(j)?(g.pattern=u(j),q.push(g)):o[j]=g}},w=function(a){o={},q=[],v(a),gi(d,function(a,b){p[b]=a.children})},x=function(a){var b=/^(~)?(.+)$/;a&&(di.text_block_elements=di.block_elements=null,gi(ki(a,","),function(a){var c=b.exec(a),d="~"===c[1],e=d?"span":"div",f=c[2];if(p[f]=p[e],r[f]=e,d||(j[f.toUpperCase()]={},j[f]={}),!o[f]){var g=o[e];g=hi({},g),delete g.removeEmptyAttrs,delete g.removeEmpty,o[f]=g}gi(p,function(a,b){a[e]&&(p[b]=a=hi({},p[b]),a[f]=a[e])})}))},y=function(b){var c=/^([+\-]?)(\w+)\[([^\]]+)\]$/;di[a.schema]=null,b&&gi(ki(b,","),function(a){var b,d,e=c.exec(a);e&&(d=e[1],b=d?p[e[2]]:p[e[2]]={"#comment":{}},b=p[e[2]],gi(ki(e[3],"|"),function(a){"-"===d?delete b[a]:b[a]={}}))})},z=function(a){var b,c=o[a];if(c)return c;for(b=q.length;b--;)if(c=q[b],c.pattern.test(a))return c};a.valid_elements?w(a.valid_elements):(gi(d,function(a,b){o[b]={attributes:a.attributes,attributesOrder:a.attributesOrder},p[b]=a.children}),"html5"!==a.schema&&gi(ki("strong/b em/i"),function(a){a=ki(a,"/"),o[a[1]].outputName=a[0]}),gi(ki("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(a){o[a]&&(o[a].removeEmpty=!0)}),gi(ki("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(a){o[a].paddEmpty=!0}),gi(ki("span"),function(a){o[a].removeEmptyAttrs=!0})),x(a.custom_elements),y(a.valid_children),v(a.extended_valid_elements),y("+ol[ul|ol],+ul[ul|ol]"),gi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(a,b){o[b]&&(o[b].parentsRequired=ki(a))}),a.invalid_elements&&gi(ii(a.invalid_elements),function(a){o[a]&&delete o[a]}),z("span")||v("span[!data-mce-type|*]");var A=function(){return b},B=function(){return c},C=function(){return i},D=function(){return h},E=function(){return j},F=function(){return m},G=function(){return n},H=function(){return g},I=function(){return f},J=function(){return k},K=function(){return l},L=function(){return e},M=function(){return s},N=function(a,b){var c=p[a.toLowerCase()];return!(!c||!c[b.toLowerCase()])},O=function(a,b){var c,d,e=z(a);if(e){if(!b)return!0;if(e.attributes[b])return!0;if(c=e.attributePatterns)for(d=c.length;d--;)if(c[d].pattern.test(a))return!0}return!1},P=function(){return r};return{children:p,elements:o,getValidStyles:A,getValidClasses:C,getBlockElements:E,getInvalidStyles:B,getShortEndedElements:H,getTextBlockElements:F,getTextInlineElements:G,getBoolAttrs:D,getElementRule:z,getSelfClosingElements:I,getNonEmptyElements:J,getMoveCaretBeforeOnEnterElements:K,getWhiteSpaceElements:L,getSpecialElements:M,isValidChild:N,isValid:O,getCustomElements:P,addValidElements:v,setValidElements:w,addCustomElements:x,addValidChildren:y}}function u(a,b){var c,d,e,f,g=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,h=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,j=/\s+$/,k={},l="\ufeff";for(a=a||{},b&&(e=b.getValidStyles(),f=b.getInvalidStyles()),d=("\\\" \\' \\; \\: ; : "+l).split(" "),c=0;c<d.length;c++)k[d[c]]=l+c,k[l+c]=d[c];return{toHex:function(a){return a.replace(g,ni)},parse:function(b){var d,e,f,m,n={},o=a.url_converter,p=a.url_converter_scope||this,q=function(a,b,d){var e,f,g,h;if(e=n[a+"-top"+b],e&&(f=n[a+"-right"+b],f&&(g=n[a+"-bottom"+b],g&&(h=n[a+"-left"+b])))){var i=[e,f,g,h];for(c=i.length-1;c--&&i[c]===i[c+1];);c>-1&&d||(n[a+b]=c===-1?i[0]:i.join(" "),delete n[a+"-top"+b],delete n[a+"-right"+b],delete n[a+"-bottom"+b],delete n[a+"-left"+b])}},r=function(a){var b,c=n[a];if(c){for(c=c.split(" "),b=c.length;b--;)if(c[b]!==c[0])return!1;return n[a]=c[0],!0}},s=function(a,b,c,d){r(b)&&r(c)&&r(d)&&(n[a]=n[b]+" "+n[c]+" "+n[d],delete n[b],delete n[c],delete n[d])},t=function(a){return m=!0,k[a]},u=function(a,b){return m&&(a=a.replace(/\uFEFF[0-9]/g,function(a){return k[a]})),b||(a=a.replace(/\\([\'\";:])/g,"$1")),a},v=function(a){return String.fromCharCode(parseInt(a.slice(1),16))},w=function(a){return a.replace(/\\[0-9a-f]+/gi,v)},x=function(b,c,d,e,f,g){if(f=f||g)return f=u(f),"'"+f.replace(/\'/g,"\\'")+"'";if(c=u(c||d||e),!a.allow_script_urls){var h=c.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(h))return"";if(!a.allow_svg_data_urls&&/^data:image\/svg/i.test(h))return""}return o&&(c=o.call(p,c,"style")),"url('"+c.replace(/\'/g,"\\'")+"')"};if(b){for(b=b.replace(/[\u0000-\u001F]/g,""),b=b.replace(/\\[\"\';:\uFEFF]/g,t).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,t)});d=i.exec(b);)if(i.lastIndex=d.index+d[0].length,e=d[1].replace(j,"").toLowerCase(),f=d[2].replace(j,""),e&&f){if(e=w(e),f=w(f),e.indexOf(l)!==-1||e.indexOf('"')!==-1)continue;if(!a.allow_script_urls&&("behavior"===e||/expression\s*\(|\/\*|\*\//.test(f)))continue;"font-weight"===e&&"700"===f?f="bold":"color"!==e&&"background-color"!==e||(f=f.toLowerCase()),f=f.replace(g,ni),f=f.replace(h,x),n[e]=m?u(f,!0):f}q("border","",!0),q("border","-width"),q("border","-color"),q("border","-style"),q("padding",""),q("margin",""),s("border","border-width","border-style","border-color"),"medium none"===n.border&&delete n.border,"none"===n["border-image"]&&delete n["border-image"]}return n},serialize:function(a,b){var c,d,g="",h=function(b){var c,d,f,h;if(c=e[b])for(d=0,f=c.length;d<f;d++)b=c[d],h=a[b],h&&(g+=(g.length>0?" ":"")+b+": "+h+";")},i=function(a,b){var c;return c=f["*"],(!c||!c[a])&&(c=f[b],!c||!c[a])};if(b&&e)h("*"),h(b);else for(c in a)d=a[c],!d||f&&!i(c,b)||(g+=(g.length>0?" ":"")+c+": "+d+";");return g}}}function v(a,b){var c=this;void 0===b&&(b={});var d,e={},f=window,g={},h=0,i=!0,j=!0,k=r(a),l=[],m=b.schema?b.schema:t({}),n=u({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema),o=b.ownEvents?new Vb(b.proxy):Vb.Event,p=m.getBlockElements(),q=Pd.overrideDefaults(function(){return{context:a,element:Fa.getRoot()}}),w=function(a){if("string"==typeof a)return!!p[a];if(a){var b=a.nodeType;if(b)return!(1!==b||!p[a.nodeName])}return!1},x=function(b){if(b&&a&&"string"==typeof b){var c=a.getElementById(b);return c&&c.id!==b?a.getElementsByName(b)[1]:c}return b},y=function(a){return"string"==typeof a&&(a=x(a)),q(a)},z=function(a,b,c){var e,f,g=y(a);return g.length&&(e=d[b],f=e&&e.get?e.get(g,b):g.attr(b)),"undefined"==typeof f&&(f=c||""),f},A=function(a){var b=x(a);return b?b.attributes:[]},B=function(a,c,e){var f,g;""===e&&(e=null);var h=y(a);f=h.attr(c),h.length&&(g=d[c],g&&g.set?g.set(h,e,c):h.attr(c,e),f!==e&&b.onSetAttrib&&b.onSetAttrib({attrElm:h,attrName:c,attrValue:e}))},C=function(b,c){if(!qi||1!==b.nodeType||c)return b.cloneNode(c);if(!c){var d=a.createElement(b.nodeName);return oi(A(b),function(a){B(d,a.nodeName,z(b,a.nodeName))}),d}return null},D=function(){return b.root_element||a.body},E=function(a){var b=a?a:f,c=b.document,d=j?c.documentElement:c.body;return{x:b.pageXOffset||d.scrollLeft,y:b.pageYOffset||d.scrollTop,w:b.innerWidth||d.clientWidth,h:b.innerHeight||d.clientHeight}},F=function(b,c){return Og.getPos(a.body,x(b),c)},G=function(a,c,d){var e=y(a).css(c,d);b.update_styles&&ui(n,e)},H=function(a,c){var d=y(a).css(c);b.update_styles&&ui(n,d)},I=function(a,b,c){var d=y(a);return c?d.css(b):(b=b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()}),"float"===b&&(b=Ab.ie&&Ab.ie<12?"styleFloat":"cssFloat"),d[0]&&d[0].style?d[0].style[b]:void 0)},J=function(a){var b,c;return a=x(a),b=I(a,"width"),c=I(a,"height"),b.indexOf("px")===-1&&(b=0),c.indexOf("px")===-1&&(c=0),{w:parseInt(b,10)||a.offsetWidth||a.clientWidth,h:parseInt(c,10)||a.offsetHeight||a.clientHeight}},K=function(a){var b,c;return a=x(a),b=F(a),c=J(a),{x:b.x,y:b.y,w:c.w,h:c.h}},L=function(a,b){var c;if(!a)return!1;if(!Array.isArray(a)){if("*"===b)return 1===a.nodeType;if(ri.test(b)){var d=b.toLowerCase().split(/,/),e=a.nodeName.toLowerCase();for(c=d.length-1;c>=0;c--)if(d[c]===e)return!0;return!1}if(a.nodeType&&1!==a.nodeType)return!1}var f=Array.isArray(a)?a:[a];return Zc(b,f[0].ownerDocument||f[0],null,f).length>0},M=function(a,b,c,d){var e,f=[],g=x(a);for(d=void 0===d,c=c||("BODY"!==D().nodeName?D().parentNode:null),vd.is(b,"string")&&(e=b,b="*"===b?function(a){return 1===a.nodeType}:function(a){return L(a,e)});g&&g!==c&&g.nodeType&&9!==g.nodeType;){if(!b||"function"==typeof b&&b(g)){if(!d)return[g];f.push(g)}g=g.parentNode}return d?f:null},N=function(a,b,c){var d=M(a,b,c,!1);return d&&d.length>0?d[0]:null},O=function(a,b,c){var d=b;if(a)for("string"==typeof b&&(d=function(a){return L(a,b)}),a=a[c];a;a=a[c])if("function"==typeof d&&d(a))return a;return null},P=function(a,b){return O(a,b,"nextSibling")},Q=function(a,b){return O(a,b,"previousSibling")},R=function(c,d){return Zc(c,x(d)||b.root_element||a,[])},S=function(a,b,d){var e,f="string"==typeof a?x(a):a;if(!f)return!1;if(vd.isArray(f)&&(f.length||0===f.length))return e=[],oi(f,function(a,c){a&&("string"==typeof a&&(a=x(a)),e.push(b.call(d,a,c)))}),e;var g=d?d:c;return b.call(g,f)},T=function(a,b){y(a).each(function(a,c){oi(b,function(a,b){B(c,b,a)})})},U=function(a,b){var c=y(a);qi?c.each(function(a,c){if(c.canHaveHTML!==!1){for(;c.firstChild;)c.removeChild(c.firstChild);try{c.innerHTML="<br>"+b,c.removeChild(c.firstChild)}catch(d){Pd("<div></div>").html("<br>"+b).contents().slice(1).appendTo(c)}return b}}):c.html(b)},V=function(b,c,d,e,f){return S(b,function(b){var g="string"==typeof c?a.createElement(c):c;return T(g,d),e&&("string"!=typeof e&&e.nodeType?g.appendChild(e):"string"==typeof e&&U(g,e)),f?g:b.appendChild(g)})},W=function(b,c,d){return V(a.createElement(b),b,c,d,!0)},X=ci.decode,Y=ci.encodeAllRaw,Z=function(a,b,c){var d,e="";e+="<"+a;for(d in b)b.hasOwnProperty(d)&&null!==b[d]&&"undefined"!=typeof b[d]&&(e+=" "+d+'="'+Y(b[d])+'"');return"undefined"!=typeof c?e+">"+c+"</"+a+">":e+" />"},$=function(b){var c,d=a.createElement("div"),e=a.createDocumentFragment();for(b&&(d.innerHTML=b);c=d.firstChild;)e.appendChild(c);return e},_=function(a,b){var c=y(a);return b?c.each(function(){for(var a;a=this.firstChild;)3===a.nodeType&&0===a.data.length?this.removeChild(a):this.parentNode.insertBefore(a,this)}).remove():c.remove(),c.length>1?c.toArray():c[0]},aa=function(a){return S(a,function(a){var b,c=a.attributes;for(b=c.length-1;b>=0;b--)a.removeAttributeNode(c.item(b))})},ba=function(a){return n.parse(a)},ca=function(a,b){return n.serialize(a,b)},da=function(b){var c,d;if(Fa!==v.DOM&&a===document){if(e[b])return;e[b]=!0}d=a.getElementById("mceDefaultStyles"),d||(d=a.createElement("style"),d.id="mceDefaultStyles",d.type="text/css",c=a.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d)),d.styleSheet?d.styleSheet.cssText+=b:d.appendChild(a.createTextNode(b))},ea=function(b){var c;return Fa!==v.DOM&&a===document?void v.DOM.loadCSS(b):(b||(b=""),c=a.getElementsByTagName("head")[0],void oi(b.split(","),function(a){var b;a=vd._addCacheSuffix(a),g[a]||(g[a]=!0,b=W("link",{rel:"stylesheet",href:a}),c.appendChild(b))}))},fa=function(a,b,c){y(a).toggleClass(b,c).each(function(){""===this.className&&Pd(this).attr("class",null)})},ga=function(a,b){y(a).addClass(b)},ha=function(a,b){fa(a,b,!1)},ia=function(a,b){return y(a).hasClass(b)},ja=function(a){y(a).show()},ka=function(a){y(a).hide()},la=function(a){return"none"===y(a).css("display")},ma=function(a){return(a?a:"mce_")+h++},na=function(a){var b="string"==typeof a?x(a):a;return Lh.isElement(b)?b.outerHTML:Pd("<div></div>").append(Pd(b).clone()).html()},oa=function(a,b){y(a).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=b)}catch(a){}_(Pd(this).html(b),!0)})},pa=function(a,b){var c=x(b);return S(a,function(a){var b,d;return b=c.parentNode,d=c.nextSibling,d?b.insertBefore(a,d):b.appendChild(a),a})},qa=function(a,b,c){return S(b,function(b){return vd.is(b,"array")&&(a=a.cloneNode(!0)),c&&oi(pi(b.childNodes),function(b){a.appendChild(b)}),b.parentNode.replaceChild(a,b)})},ra=function(a,b){var c;return a.nodeName!==b.toUpperCase()&&(c=W(b),oi(A(a),function(b){B(c,b.nodeName,z(a,b.nodeName))}),qa(c,a,!0)),c||a},sa=function(a,b){for(var c,d=a;d;){for(c=b;c&&d!==c;)c=c.parentNode;if(d===c)break;d=d.parentNode}return!d&&a.ownerDocument?a.ownerDocument.documentElement:d},ta=function(a){return n.toHex(vd.trim(a))},ua=function(a,b){var c,d,e,f,g,h,i=0;if(a=a.firstChild){g=new s(a,a.parentNode),b=b||(m?m.getNonEmptyElements():null),f=m?m.getWhiteSpaceElements():{};do{if(e=a.nodeType,Lh.isElement(a)){var j=a.getAttribute("data-mce-bogus");if(j){a=g.next("all"===j);continue}if(h=a.nodeName.toLowerCase(),b&&b[h]){if("br"===h){i++,a=g.next();continue}return!1}for(d=A(a),c=d.length;c--;)if(h=d[c].nodeName,"name"===h||"data-mce-bookmark"===h)return!1}if(8===e)return!1;if(3===e&&!si.test(a.nodeValue))return!1;if(3===e&&a.parentNode&&f[a.parentNode.nodeName]&&si.test(a.nodeValue))return!1;a=g.next()}while(a)}return i<=1},va=function(){return a.createRange()},wa=function(a,b,c){var d,e,f,g=va();if(a&&b)return g.setStart(a.parentNode,vi(a)),g.setEnd(b.parentNode,vi(b)),d=g.extractContents(),g=va(),g.setStart(b.parentNode,vi(b)+1),g.setEnd(a.parentNode,vi(a)+1),e=g.extractContents(),f=a.parentNode,f.insertBefore(Ph.trimNode(Fa,d),a),c?f.insertBefore(c,a):f.insertBefore(b,a),f.insertBefore(Ph.trimNode(Fa,e),a),_(a),c||b},xa=function(c,d,e,g){if(vd.isArray(c)){for(var h=c.length;h--;)c[h]=xa(c[h],d,e,g);return c}return!b.collect||c!==a&&c!==f||l.push([c,d,e,g]),o.bind(c,d,e,g||Fa)},ya=function(b,c,d){var e;if(vd.isArray(b)){for(e=b.length;e--;)b[e]=ya(b[e],c,d);return b}if(l&&(b===a||b===f))for(e=l.length;e--;){var g=l[e];b!==g[0]||c&&c!==g[1]||d&&d!==g[2]||o.unbind(g[0],g[1],g[2])}return o.unbind(b,c,d)},za=function(a,b,c){return o.fire(a,b,c)},Aa=function(a){if(a&&Lh.isElement(a)){var b=a.getAttribute("data-mce-contenteditable");return b&&"inherit"!==b?b:"inherit"!==a.contentEditable?a.contentEditable:null}return null},Ba=function(a){for(var b=D(),c=null;a&&a!==b&&(c=Aa(a),null===c);a=a.parentNode);return c},Ca=function(){if(l)for(var a=l.length;a--;){var b=l[a];o.unbind(b[0],b[1],b[2])}Zc.setDocument&&Zc.setDocument()},Da=function(a,b){for(;a;){if(b===a)return!0;a=a.parentNode}return!1},Ea=function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},Fa={doc:a,settings:b,win:f,files:g,stdMode:i,boxModel:j,styleSheetLoader:k,boundEvents:l,styles:n,schema:m,events:o,isBlock:w,$:q,$$:y,root:null,clone:C,getRoot:D,getViewPort:E,getRect:K,getSize:J,getParent:N,getParents:M,get:x,getNext:P,getPrev:Q,select:R,is:L,add:V,create:W,createHTML:Z,createFragment:$,remove:_,setStyle:G,getStyle:I,setStyles:H,removeAllAttribs:aa,setAttrib:B,setAttribs:T,getAttrib:z,getPos:F,parseStyle:ba,serializeStyle:ca,addStyle:da,loadCSS:ea,addClass:ga,removeClass:ha,hasClass:ia,toggleClass:fa,show:ja,hide:ka,isHidden:la,uniqueId:ma,setHTML:U,getOuterHTML:na,setOuterHTML:oa,decode:X,encode:Y,insertAfter:pa,replace:qa,rename:ra,findCommonAncestor:sa,toHex:ta,run:S,getAttribs:A,isEmpty:ua,createRng:va,nodeIndex:vi,split:wa,bind:xa,unbind:ya,fire:za,getContentEditable:Aa,getContentEditableParent:Ba,destroy:Ca,isChildOf:Da,dumpRng:Ea};return d=ti(n,b,function(){return Fa}),Fa}function w(){var a=this,b=[],c={},d={},e=[],f=function(a){if(d[a])return d[a].instance},g=function(a){var b;return d[a]&&(b=d[a].dependencies),b||[]},h=function(a,b){var d=w.language;if(d&&w.languageLoad!==!1){if(b)if(b=","+b+",",b.indexOf(","+d.substr(0,2)+",")!==-1)d=d.substr(0,2);else if(b.indexOf(","+d+",")===-1)return;Bi.ScriptLoader.add(c[a]+"/langs/"+d+".js")}},i=function(a,c,f){b.push(c),d[a]={instance:c,dependencies:f};var g=Ua(e,function(b){return b.name===a});return e=g.fail,Ci(g.pass,function(a){a.callback()}),c},j=function(a){delete c[a],delete d[a]},k=function(a,b){return"object"==typeof b?b:"string"==typeof a?{prefix:"",resource:b,suffix:""}:{prefix:a.prefix,resource:b,suffix:a.suffix}},l=function(b,c){var d=a.urls[b];Ci(c,function(a){Bi.ScriptLoader.add(d+"/"+a)})},m=function(a,b,c,d){var e=g(a);Ci(e,function(a){var c=k(b,a);n(c.resource,c,void 0,void 0)}),c&&(d?c.call(d):c.call(Bi))},n=function(a,b,e,f,g){if(!c[a]){var h="string"==typeof b?b:b.prefix+b.resource+b.suffix;0!==h.indexOf("/")&&h.indexOf("://")===-1&&(h=w.baseURL+"/"+h),c[a]=h.substring(0,h.lastIndexOf("/")),d[a]?m(a,b,e,f):Bi.ScriptLoader.add(h,function(){return m(a,b,e,f)},f,g)}},o=function(a,b){d.hasOwnProperty(a)?b():e.push({name:a,callback:b})};return{items:b,urls:c,lookup:d,_listeners:e,get:f,dependencies:g,requireLangPack:h,add:i,remove:j,createUrl:k,addComponents:l,load:n,waitFor:o}}function x(a,b,c){var d=c||!1,e=function(){b(),d=!0},f=function(){a(),d=!1},g=function(){var a=d?f:e;a()},h=function(){return d};return{on:e,off:f,toggle:g,isOn:h}}function y(a,b,c,d,e){return a(c,d)?Da.some(c):La(e)&&e(c)?Da.none():b(c,d,e)}function z(a,b,c){var d=function(){return wl(a)?0===b:0===b},e=function(){return wl(a)?b>=a.data.length:b>=a.childNodes.length},f=function(){var c;return c=Al(a.ownerDocument),c.setStart(a,b),c.setEnd(a,b),c},g=function(){return c||(c=Jl(z(a,b))),c},h=function(){return g().length>0},i=function(c){return c&&a===c.container()&&b===c.offset()},j=function(c){return zl(a,c?b-1:b)};return{container:sk.constant(a),offset:sk.constant(b),toRange:f,getClientRects:g,isVisible:h,isAtStart:d,isAtEnd:e,isEqual:i,getNode:j}}function A(a,b){var c=function(c){if(!a(c))throw new Error("Can only get "+b+" value of a "+b+" node");return g(c).getOr("")},d=function(a){try{return e(a)}catch(b){return Da.none()}},e=function(b){return a(b)?Da.from(b.dom().nodeValue):Da.none()},f=Re.detect().browser,g=f.isIE()&&10===f.version.major?d:e,h=function(c,d){if(!a(c))throw new Error("Can only set raw "+b+" value of a "+b+" node");c.dom().nodeValue=d};return{get:c,getOption:g,set:h}}function B(a){var b=Uj();Tj(a,b);var c=Sj(a,b);return{register:function(a,c){b.register(a,c)},annotate:function(c,d){b.lookup(c).each(function(b){qq(a,c,b,d)})},annotationChanged:function(a,b){c.addListener(a,b)},remove:function(b){Oj(a,Da.some(b)).each(function(a){var b=a.elements;Sa(b,Si.unwrap)})},getAll:function(b){var c=Rj(a,b);return jf(c,function(a){return Ra(a,function(a){return a.dom()})})}}}function C(a){var b,c,d,e,f,g=[];return a=a||{},b=a.indent,c=Wq(a.indent_before||""),d=Wq(a.indent_after||""),e=ci.getEncodeFunc(a.entity_encoding||"raw",a.entities),f="html"===a.element_format,{start:function(a,h,i){var j,k,l,m;if(b&&c[a]&&g.length>0&&(m=g[g.length-1],m.length>0&&"\n"!==m&&g.push("\n")),g.push("<",a),h)for(j=0,k=h.length;j<k;j++)l=h[j],g.push(" ",l.name,'="',e(l.value,!0),'"');!i||f?g[g.length]=">":g[g.length]=" />",i&&b&&d[a]&&g.length>0&&(m=g[g.length-1],m.length>0&&"\n"!==m&&g.push("\n"))},end:function(a){var c;g.push("</",a,">"),b&&d[a]&&g.length>0&&(c=g[g.length-1],c.length>0&&"\n"!==c&&g.push("\n"))},text:function(a,b){a.length>0&&(g[g.length]=b?a:e(a))},cdata:function(a){g.push("<![CDATA[",a,"]]>")},comment:function(a){g.push("<!--",a,"-->")},pi:function(a,c){c?g.push("<?",a," ",e(c),"?>"):g.push("<?",a,"?>"),b&&g.push("\n")},doctype:function(a){g.push("<!DOCTYPE",a,">",b?"\n":"")},reset:function(){g.length=0},getContent:function(){return g.join("").replace(/\n$/,"")}}}function D(a,b){void 0===b&&(b=t());var c=C(a);a=a||{},a.validate=!("validate"in a)||a.validate;var d=function(d){var e,f;f=a.validate,e={3:function(a){c.text(a.value,a.raw)},8:function(a){c.comment(a.value)},7:function(a){c.pi(a.name,a.value)},10:function(a){c.doctype(a.value)},4:function(a){c.cdata(a.value)},11:function(a){if(a=a.firstChild)do g(a);while(a=a.next)}},c.reset();var g=function(a){var d,h,i,j,k,l,m,n,o,p=e[a.type];if(p)p(a);else{if(d=a.name,h=a.shortEnded,i=a.attributes,f&&i&&i.length>1&&(l=[],l.map={},o=b.getElementRule(a.name))){for(m=0,n=o.attributesOrder.length;m<n;m++)j=o.attributesOrder[m],j in i.map&&(k=i.map[j],l.map[j]=k,l.push({name:j,value:k}));for(m=0,n=i.length;m<n;m++)j=i[m].name,j in l.map||(k=i.map[j],l.map[j]=k,l.push({name:j,value:k}));i=l}if(c.start(a.name,i,h),!h){if(a=a.firstChild)do g(a);while(a=a.next);c.end(d)}}};return 1!==d.type||a.inner?e[11](d):g(d),c.getContent()};return{serialize:d}}function E(a){var b,c,d,e,f={state:{},exec:{},value:{}},g=a.settings;a.on("PreInit",function(){b=a.dom,c=a.selection,g=a.settings,d=a.formatter});var h=function(b,c,d,e){var g,h,i=!1;if(!a.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(b)||e&&e.skip_focus?_w.restore(a):a.focus(),e=a.fire("BeforeExecCommand",{command:b,ui:c,value:d}),e.isDefaultPrevented())return!1;if(h=b.toLowerCase(),g=f.exec[h])return g(h,c,d),a.fire("ExecCommand",{command:b,ui:c,value:d}),!0;if(cx(a.plugins,function(e){if(e.execCommand&&e.execCommand(b,c,d))return a.fire("ExecCommand",{command:b,ui:c,value:d}),i=!0,!1}),i)return i;if(a.theme&&a.theme.execCommand&&a.theme.execCommand(b,c,d))return a.fire("ExecCommand",{command:b,ui:c,value:d}),!0;try{i=a.getDoc().execCommand(b,c,d)}catch(j){}return!!i&&(a.fire("ExecCommand",{command:b,ui:c,value:d}),!0)}},i=function(b){var c;if(!a.quirks.isHidden()&&!a.removed){if(b=b.toLowerCase(),c=f.state[b])return c(b);try{return a.getDoc().queryCommandState(b)}catch(d){}return!1}},j=function(b){var c;if(!a.quirks.isHidden()&&!a.removed){if(b=b.toLowerCase(),c=f.value[b])return c(b);try{return a.getDoc().queryCommandValue(b)}catch(d){}}},k=function(a,b){b=b||"exec",cx(a,function(a,c){cx(c.toLowerCase().split(","),function(c){f[b][c]=a})})},l=function(b,c,d){b=b.toLowerCase(),f.exec[b]=function(b,e,f,g){return c.call(d||a,e,f,g)}},m=function(b){if(b=b.toLowerCase(),f.exec[b])return!0;try{return a.getDoc().queryCommandSupported(b)}catch(c){}return!1},n=function(b,c,d){b=b.toLowerCase(),f.state[b]=function(){return c.call(d||a)}},o=function(b,c,d){b=b.toLowerCase(),f.value[b]=function(){return c.call(d||a)}},p=function(a){return a=a.toLowerCase(),!!f.exec[a]};dx(this,{execCommand:h,queryCommandState:i,queryCommandValue:j,queryCommandSupported:m,addCommands:k,addCommand:l,addQueryStateHandler:n,addQueryValueHandler:o,hasCustomCommand:p});var q=function(b,c,d){return void 0===c&&(c=!1),void 0===d&&(d=null),a.getDoc().execCommand(b,c,d)},r=function(a){return d.match(a)},s=function(b,c){d.toggle(b,c?{value:c}:void 0),a.nodeChanged()},t=function(a){e=c.getBookmark(a)},u=function(){c.moveToBookmark(e)};k({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){a.undoManager.add()},"Cut,Copy,Paste":function(b){var c,d=a.getDoc();try{q(b)}catch(e){c=!0}if("paste"!==b||d.queryCommandEnabled(b)||(c=!0),c||!d.queryCommandSupported(b)){var f=a.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Ab.mac&&(f=f.replace(/Ctrl\+/g,"⌘+")),a.notificationManager.open({text:f,type:"error"})}},unlink:function(){if(c.isCollapsed()){var b=a.dom.getParent(a.selection.getStart(),"a");return void(b&&a.dom.remove(b,!0))}d.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(a){var b=a.substring(7);"full"===b&&(b="justify"),cx("left,center,right,justify".split(","),function(a){b!==a&&d.remove("align"+a)}),"none"!==b&&s("align"+b)},"InsertUnorderedList,InsertOrderedList":function(a){var d,e;q(a),d=b.getParent(c.getNode(),"ol,ul"),d&&(e=d.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(e.nodeName)&&(t(),b.split(e,d),u()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){s(a)},"ForeColor,HiliteColor":function(a,b,c){s(a,c)},FontName:function(b,c,d){Xv(a,d)},FontSize:function(b,c,d){Zv(a,d)},RemoveFormat:function(a){d.remove(a)},mceBlockQuote:function(){s("blockquote")},FormatBlock:function(a,b,c){return s(c||"p")},mceCleanup:function(){var b=c.getBookmark();a.setContent(a.getContent()),c.moveToBookmark(b)},mceRemoveNode:function(b,d,e){var f=e||c.getNode();f!==a.getBody()&&(t(),a.dom.remove(f,!0),u())},mceSelectNodeDepth:function(d,e,f){var g=0;b.getParent(c.getNode(),function(a){if(1===a.nodeType&&g++===f)return c.select(a),!1},a.getBody())},mceSelectNode:function(a,b,d){c.select(d)},mceInsertContent:function(b,c,d){fr.insertAtCaret(a,d)},mceInsertRawHTML:function(b,d,e){var f=a.getContent();c.setContent("tiny_mce_marker"),a.setContent(f.replace(/tiny_mce_marker/g,function(){return e}))},mceToggleFormat:function(a,b,c){s(c)},mceSetContent:function(b,c,d){a.setContent(d)},"Indent,Outdent":function(b){bx(a,b)},mceRepaint:function(){},InsertHorizontalRule:function(){a.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){a.hasVisual=!a.hasVisual,a.addVisual()},mceReplaceContent:function(b,d,e){a.execCommand("mceInsertContent",!1,e.replace(/\{\$selection\}/g,c.getContent({format:"text"})))},mceInsertLink:function(a,e,f){var g;"string"==typeof f&&(f={href:f}),g=b.getParent(c.getNode(),"a"),f.href=f.href.replace(" ","%20"),g&&f.href||d.remove("link"),f.href&&d.apply("link",f,g);
},selectAll:function(){var a=b.getParent(c.getStart(),Lh.isContentEditableTrue);if(a){var d=b.createRng();d.selectNodeContents(a),c.setRng(d)}},"delete":function(){Lv.deleteCommand(a)},forwardDelete:function(){Lv.forwardDeleteCommand(a)},mceNewDocument:function(){a.setContent("")},InsertLineBreak:function(b,c,d){return Bw.insert(a,d),!0}});var v=function(a){return function(){var e=c.isCollapsed()?[b.getParent(c.getNode(),b.isBlock)]:c.getSelectedBlocks(),f=ex(e,function(b){return!!d.matchNode(b,a)});return fx(f,!0)!==-1}};k({JustifyLeft:v("alignleft"),JustifyCenter:v("aligncenter"),JustifyRight:v("alignright"),JustifyFull:v("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return r(a)},mceBlockQuote:function(){return r("blockquote")},Outdent:function(){var a;if(g.inline_styles){if((a=b.getParent(c.getStart(),b.isBlock))&&parseInt(a.style.paddingLeft,10)>0)return!0;if((a=b.getParent(c.getEnd(),b.isBlock))&&parseInt(a.style.paddingLeft,10)>0)return!0}return i("InsertUnorderedList")||i("InsertOrderedList")||!g.inline_styles&&!!b.getParent(c.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){var d=b.getParent(c.getNode(),"ul,ol");return d&&("insertunorderedlist"===a&&"UL"===d.tagName||"insertorderedlist"===a&&"OL"===d.tagName)}},"state"),k({Undo:function(){a.undoManager.undo()},Redo:function(){a.undoManager.redo()}}),o("FontName",function(){return Yv(a)},this),o("FontSize",function(){return $v(a)},this)}function F(a){var b=this,c={},d=[],e=function(a){var b,c,d={};Gx(Hx(a,"+"),function(a){a in Jx?d[a]=!0:/^[0-9]{2,}$/.test(a)?d.keyCode=parseInt(a,10):(d.charCode=a.charCodeAt(0),d.keyCode=Ix[a]||a.toUpperCase().charCodeAt(0))}),b=[d.keyCode];for(c in Jx)d[c]?b.push(c):d[c]=!1;return d.id=b.join(","),d.access&&(d.alt=!0,Ab.mac?d.ctrl=!0:d.shift=!0),d.meta&&(Ab.mac?d.meta=!0:(d.ctrl=!0,d.meta=!1)),d},f=function(b,c,d,f){var g;return g=vd.map(Hx(b,">"),e),g[g.length-1]=vd.extend(g[g.length-1],{func:d,scope:f||a}),vd.extend(g[0],{desc:a.translate(c),subpatterns:g.slice(1)})},g=function(a){return a.altKey||a.ctrlKey||a.metaKey},h=function(a){return"keydown"===a.type&&a.keyCode>=112&&a.keyCode<=123},i=function(a,b){return!!b&&(b.ctrl===a.ctrlKey&&b.meta===a.metaKey&&(b.alt===a.altKey&&b.shift===a.shiftKey&&(!!(a.keyCode===b.keyCode||a.charCode&&a.charCode===b.charCode)&&(a.preventDefault(),!0))))},j=function(a){return a.func?a.func.call(a.scope):null};a.on("keyup keypress keydown",function(a){!g(a)&&!h(a)||a.isDefaultPrevented()||(Gx(c,function(b){if(i(a,b))return d=b.subpatterns.slice(0),"keydown"===a.type&&j(b),!0}),i(a,d[0])&&(1===d.length&&"keydown"===a.type&&j(d[0]),d.shift()))}),b.add=function(b,d,e,g){var h;return h=e,"string"==typeof e?e=function(){a.execCommand(h,!1,null)}:vd.isArray(h)&&(e=function(){a.execCommand(h[0],h[1],h[2])}),Gx(Hx(vd.trim(b.toLowerCase())),function(a){var b=f(a,d,e,g);c[b.id]=b}),!0},b.remove=function(a){var b=f(a);return!!c[b.id]&&(delete c[b.id],!0)}}function G(){var a=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:a,close:a,reposition:a,getArgs:a}}function H(a){var b=[],c=function(){var b=a.theme;return b&&b.getNotificationManagerImpl?b.getNotificationManagerImpl():G()},d=function(){return Da.from(b[0])},e=function(a,b){return!(a.type!==b.type||a.text!==b.text||a.progressBar||a.timeout||b.progressBar||b.timeout)},f=function(){b.length>0&&c().reposition(b)},g=function(a){b.push(a)},h=function(a){Za(b,function(b){return b===a}).each(function(a){b.splice(a,1)})},i=function(d){if(!a.removed&&vy.isEditorAttachedToDom(a))return Ya(b,function(a){return e(c().getArgs(a),d)}).getOrThunk(function(){a.editorManager.setActive(a);var b=c().open(d,function(){h(b),f()});return g(b),f(),b})},j=function(){d().each(function(a){c().close(a),h(a),f()})},k=function(){return b},l=function(a){a.on("SkinLoaded",function(){var b=a.settings.service_message;b&&i({text:b,type:"warning",timeout:0,icon:""})}),a.on("ResizeEditor ResizeWindow",function(){Jb.requestAnimationFrame(f)}),a.on("remove",function(){Sa(b,function(a){c().close(a)})})};return l(a),{open:i,close:j,getNotifications:k}}function I(){var a=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:a,alert:a,confirm:a,close:a,getParams:a,setParams:a}}function J(a){var b=[],c=function(){var b=a.theme;return b&&b.getWindowManagerImpl?b.getWindowManagerImpl():I()},d=function(a,b){return function(){return b?b.apply(a,arguments):void 0}},e=function(b){a.fire("OpenWindow",{win:b})},f=function(b){a.fire("CloseWindow",{win:b})},g=function(a){b.push(a),e(a)},h=function(c){Za(b,function(a){return a===c}).each(function(d){b.splice(d,1),f(c),0===b.length&&a.focus()})},i=function(){return Da.from(b[b.length-1])},j=function(b,d){a.editorManager.setActive(a),_w.store(a);var e=c().open(b,d,h);return g(e),e},k=function(a,b,e){var f=c().alert(a,d(e?e:this,b),h);g(f)},l=function(a,b,e){var f=c().confirm(a,d(e?e:this,b),h);g(f)},m=function(){i().each(function(a){c().close(a),h(a)})},n=function(){return i().map(c().getParams).getOr(null)},o=function(a){i().each(function(b){c().setParams(b,a)})},p=function(){return b};return a.on("remove",function(){Sa(b.slice(0),function(a){c().close(a)})}),{windows:b,open:j,alert:k,confirm:l,close:m,getParams:n,setParams:o,getWindows:p}}function K(){var a=qb.getOrDie("XMLHttpRequest");return new a}function L(a,b){var c={},d=function(a,b){return a?a.replace(/\/$/,"")+"/"+b.replace(/^\//,""):b},e=function(a,c,e,f){var g,h;g=new K,g.open("POST",b.url),g.withCredentials=b.credentials,g.upload.onprogress=function(a){f(a.loaded/a.total*100)},g.onerror=function(){e("Image upload failed due to a XHR Transport error. Code: "+g.status)},g.onload=function(){var a;return g.status<200||g.status>=300?void e("HTTP Error: "+g.status):(a=JSON.parse(g.responseText),a&&"string"==typeof a.location?void c(d(b.basePath,a.location)):void e("Invalid JSON: "+g.responseText))},h=new FormData,h.append("file",a.blob(),a.filename()),g.send(h)},f=function(){return new Cb(function(a){a([])})},g=function(a,b){return{url:b,blobInfo:a,status:!0}},h=function(a,b){return{url:"",blobInfo:a,status:!1,error:b}},i=function(a,b){vd.each(c[a],function(a){a(b)}),delete c[a]},j=function(b,c,d){return a.markPending(b.blobUri()),new Cb(function(e){var f,j,k=function(){};try{var l=function(){f&&(f.close(),j=k)},m=function(c){l(),a.markUploaded(b.blobUri(),c),i(b.blobUri(),g(b,c)),e(g(b,c))},n=function(c){l(),a.removeFailed(b.blobUri()),i(b.blobUri(),h(b,c)),e(h(b,c))};j=function(a){a<0||a>100||(f||(f=d()),f.progressBar.value(a))},c(b,m,n,j)}catch(o){e(h(b,o.message))}})},k=function(a){return a===e},l=function(a){var b=a.blobUri();return new Cb(function(a){c[b]=c[b]||[],c[b].push(a)})},m=function(c,d){return c=vd.grep(c,function(b){return!a.isUploaded(b.blobUri())}),Cb.all(vd.map(c,function(c){return a.isPending(c.blobUri())?l(c):j(c,b.handler,d)}))},n=function(a,c){return!b.url&&k(b.handler)?f():m(a,c)};return b=vd.extend({credentials:!1,handler:e},b),{upload:n}}function M(a,b){var c=qb.getOrDie("Blob");return new c(a,b)}function N(){var a=qb.getOrDie("FileReader");return new a}function O(a){var b=qb.getOrDie("Uint8Array");return new b(a)}function P(a,b){var c={},d=function(d,e){var f;e||(e=sk.constant(!0)),f=id.filter(Ty(d),function(b){var c=b.src;return!!Ab.fileApi&&(!b.hasAttribute("data-mce-bogus")&&(!b.hasAttribute("data-mce-placeholder")&&(!(!c||c===Ab.transparentSrc)&&(0===c.indexOf("blob:")?!a.isUploaded(c):0===c.indexOf("data:")&&e(b)))))});var g=id.map(f,function(a){if(c[a.src])return new Cb(function(b){c[a.src].then(function(c){return"string"==typeof c?c:void b({image:a,blobInfo:c.blobInfo})})});var d=new Cb(function(c,d){Sy(b,a,c,d)}).then(function(a){return delete c[a.image.src],a})["catch"](function(b){return delete c[a.src],b});return c[a.src]=d,d});return Cb.all(g)};return{findAll:d}}function Q(){var a=[],b=sk.constant,c=function(a){var b={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"};return b[a.toLowerCase()]||"dat"},d=function(a,b,c,d){return e("object"==typeof a?a:{id:a,name:d,blob:b,base64:c})},e=function(a){var d,e;if(!a.blob||!a.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return d=a.id||Xy.uuid("blobid"),e=a.name||d,{id:b(d),name:b(e),filename:b(e+"."+c(a.blob.type)),blob:b(a.blob),base64:b(a.base64),blobUri:b(a.blobUri||ub.createObjectURL(a.blob)),uri:b(a.uri)}},f=function(b){g(b.id())||a.push(b)},g=function(a){return h(function(b){return b.id()===a})},h=function(b){return id.filter(a,b)[0]},i=function(a){return h(function(b){return b.blobUri()===a})},j=function(b){a=id.filter(a,function(a){return a.blobUri()!==b||(ub.revokeObjectURL(a.blobUri()),!1)})},k=function(){id.each(a,function(a){ub.revokeObjectURL(a.blobUri())}),a=[]};return{create:d,add:f,get:g,getByUri:i,findFirst:h,removeByUri:j,destroy:k}}function R(){var a=1,b=2,c={},d=function(a,b){return{status:a,resultUri:b}},e=function(a){return a in c},f=function(a){var b=c[a];return b?b.resultUri:null},g=function(b){return!!e(b)&&c[b].status===a},h=function(a){return!!e(a)&&c[a].status===b},i=function(b){c[b]=d(a,null)},j=function(a,e){c[a]=d(b,e)},k=function(a){delete c[a]},l=function(){c={}};return{hasBlobUri:e,getResultUri:f,isPending:g,isUploaded:h,markPending:i,markUploaded:j,removeFailed:k,destroy:l}}function S(a){var b,c,d=Q(),e=a.settings,f=R(),g=function(b){return function(c){return a.selection?b(c):[]}},h=function(){return"?"+(new Date).getTime()},i=function(a,b,c){var d=0;do d=a.indexOf(b,d),d!==-1&&(a=a.substring(0,d)+c+a.substr(d+b.length),d+=c.length-b.length+1);while(d!==-1);return a},j=function(a,b,c){return a=i(a,'src="'+b+'"','src="'+c+'"'),a=i(a,'data-mce-src="'+b+'"','data-mce-src="'+c+'"')},k=function(b,c){id.each(a.undoManager.data,function(a){"fragmented"===a.type?a.fragments=id.map(a.fragments,function(a){return j(a,b,c)}):a.content=j(a.content,b,c)})},l=function(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},m=function(b,c){d.removeByUri(b.src),k(b.src,c),a.$(b).attr({src:e.images_reuse_filename?c+h():c,"data-mce-src":a.convertURL(c,"src")})},n=function(c){return b||(b=L(f,{url:e.images_upload_url,basePath:e.images_upload_base_path,credentials:e.images_upload_credentials,handler:e.images_upload_handler})),q().then(g(function(d){var e;return e=id.map(d,function(a){return a.blobInfo}),b.upload(e,l).then(g(function(b){var e=id.map(b,function(b,c){var e=d[c].image;return b.status&&a.settings.images_replace_blob_uris!==!1?m(e,b.url):b.error&&Ey.uploadError(a,b.error),{element:e,status:b.status}});return c&&c(e),e}))}))},o=function(a){if(e.automatic_uploads!==!1)return n(a)},p=function(a){return!e.images_dataimg_filter||e.images_dataimg_filter(a)},q=function(){return c||(c=P(f,d)),c.findAll(a.getBody(),p).then(g(function(b){return b=id.filter(b,function(b){return"string"!=typeof b||(Ey.displayError(a,b),!1)}),id.each(b,function(a){k(a.image.src,a.blobInfo.blobUri()),a.image.src=a.blobInfo.blobUri(),a.image.removeAttribute("data-mce-src")}),b}))},r=function(){d.destroy(),f.destroy(),c=b=null},s=function(b){return b.replace(/src="(blob:[^"]+)"/g,function(b,c){var e=f.getResultUri(c);if(e)return'src="'+e+'"';var g=d.getByUri(c);return g||(g=id.reduce(a.editorManager.get(),function(a,b){return a||b.editorUpload&&b.editorUpload.blobCache.getByUri(c)},null)),g?'src="data:'+g.blob().type+";base64,"+g.base64()+'"':b})};return a.on("setContent",function(){a.settings.automatic_uploads!==!1?o():q()}),a.on("RawSaveContent",function(a){a.content=s(a.content)}),a.on("getContent",function(a){a.source_view||"raw"===a.format||(a.content=s(a.content))}),a.on("PostRender",function(){a.parser.addNodeFilter("img",function(a){id.each(a,function(a){var b=a.attr("src");if(!d.getByUri(b)){var c=f.getResultUri(b);c&&a.attr("src",c)}})})}),{blobCache:d,uploadImages:n,uploadImagesAuto:o,scanForImages:q,destroy:r}}function T(a){var b,c=[],d=function(b){var d,e;if(e=a.$(b).parentsUntil(a.getBody()).add(b),e.length===c.length){for(d=e.length;d>=0&&e[d]===c[d];d--);if(d===-1)return c=e,!0}return c=e,!1};"onselectionchange"in a.getDoc()||a.on("NodeChange Click MouseUp KeyUp Focus",function(c){var d,e;d=a.selection.getRng(),e={startContainer:d.startContainer,startOffset:d.startOffset,endContainer:d.endContainer,endOffset:d.endOffset},"nodechange"!==c.type&&aw.isEq(e,b)||a.fire("SelectionChange"),b=e}),a.on("contextmenu",function(){a.fire("SelectionChange")}),a.on("SelectionChange",function(){var b=a.selection.getStart(!0);!b||!Ab.range&&a.selection.isCollapsed()||jz(a)&&!d(b)&&a.dom.isChildOf(b,a.getBody())&&a.nodeChanged({selectionChange:!0})}),a.on("MouseUp",function(b){!b.isDefaultPrevented()&&jz(a)&&("IMG"===a.selection.getNode().nodeName?Jb.setEditorTimeout(a,function(){a.nodeChanged()}):a.nodeChanged())}),this.nodeChanged=function(b){var c,d,e,f=a.selection;a.initialized&&f&&!a.settings.disable_nodechange&&!a.readonly&&(e=a.getBody(),c=f.getStart(!0)||e,c.ownerDocument===a.getDoc()&&a.dom.isChildOf(c,e)||(c=e),d=[],a.dom.getParent(c,function(a){return a===e||void d.push(a)}),b=b||{},b.element=c,b.parents=d,a.fire("NodeChange",b))}}function U(a,b){void 0===b&&(b=t());var c=function(){};a=a||{},a.fix_self_closing!==!1&&(a.fix_self_closing=!0);var d=a.comment?a.comment:c,e=a.cdata?a.cdata:c,f=a.text?a.text:c,g=a.start?a.start:c,h=a.end?a.end:c,i=a.pi?a.pi:c,j=a.doctype?a.doctype:c,k=function(c){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=0,P=[],Q=0,R=ci.decode,S=vd.makeMap("src,href,data,background,formaction,poster,xlink:href"),T=/((java|vb)script|mhtml):/i,U=function(a){var b,c;for(b=P.length;b--&&P[b].name!==a;);if(b>=0){for(c=P.length-1;c>=b;c--)a=P[c],a.valid&&h(a.name);P.length=b}},V=function(b,c,d,e,f){var g,h,i=/[\s\u0000-\u001F]+/g;if(c=c.toLowerCase(),d=c in u?c:R(d||e||f||""),w&&!r&&tA(c)===!1){if(g=B[c],!g&&C){for(h=C.length;h--&&(g=C[h],!g.pattern.test(c)););h===-1&&(g=null)}if(!g)return;if(g.validValues&&!(d in g.validValues))return}if(S[c]&&!a.allow_script_urls){var j=d.replace(i,"");try{j=decodeURIComponent(j)}catch(k){j=unescape(j)}if(T.test(j))return;if(vA(a,j))return}r&&(c in S||0===c.indexOf("on"))||(n.map[c]=d,n.push({name:c,value:d}))};for(J=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),K=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,t=b.getShortEndedElements(),I=a.self_closing_elements||b.getSelfClosingElements(),u=b.getBoolAttrs(),w=a.validate,s=a.remove_internals,N=a.fix_self_closing,L=b.getSpecialElements(),G=c+">";k=J.exec(G);){if(O<k.index&&f(R(c.substr(O,k.index-O))),l=k[6])l=l.toLowerCase(),":"===l.charAt(0)&&(l=l.substr(1)),U(l);else if(l=k[7]){if(k.index+k[0].length>c.length){f(R(c.substr(k.index))),O=k.index+k[0].length;continue}if(l=l.toLowerCase(),":"===l.charAt(0)&&(l=l.substr(1)),v=l in t,N&&I[l]&&P.length>0&&P[P.length-1].name===l&&U(l),!w||(x=b.getElementRule(l))){if(y=!0,w&&(B=x.attributes,C=x.attributePatterns),(A=k[8])?(r=A.indexOf("data-mce-type")!==-1,r&&s&&(y=!1),n=[],n.map={},A.replace(K,V)):(n=[],n.map={}),w&&!r){if(D=x.attributesRequired,E=x.attributesDefault,F=x.attributesForced,H=x.removeEmptyAttrs,H&&!n.length&&(y=!1),F)for(o=F.length;o--;)z=F[o],q=z.name,M=z.value,"{$uid}"===M&&(M="mce_"+Q++),n.map[q]=M,n.push({name:q,value:M});if(E)for(o=E.length;o--;)z=E[o],q=z.name,q in n.map||(M=z.value,"{$uid}"===M&&(M="mce_"+Q++),n.map[q]=M,n.push({name:q,value:M}));if(D){for(o=D.length;o--&&!(D[o]in n.map););o===-1&&(y=!1)}if(z=n.map["data-mce-bogus"]){if("all"===z){O=wA(b,c,J.lastIndex),J.lastIndex=O;continue}y=!1}}y&&g(l,n,v)}else y=!1;if(m=L[l]){m.lastIndex=O=k.index+k[0].length,(k=m.exec(c))?(y&&(p=c.substr(O,k.index-O)),O=k.index+k[0].length):(p=c.substr(O),O=c.length),y&&(p.length>0&&f(p,!0),h(l)),J.lastIndex=O;continue}v||(A&&A.indexOf("/")===A.length-1?y&&h(l):P.push({name:l,valid:y}))}else(l=k[1])?(">"===l.charAt(0)&&(l=" "+l),a.allow_conditional_comments||"[if"!==l.substr(0,3).toLowerCase()||(l=" "+l),d(l)):(l=k[2])?e(uA(l)):(l=k[3])?j(l):(l=k[4])&&i(l,k[5]);O=k.index+k[0].length}for(O<c.length&&f(R(c.substr(O))),o=P.length-1;o>=0;o--)l=P[o],l.valid&&h(l.name)};return{parse:k}}function V(a){var b,c,d=this,e=0,f=[],g=0,h=function(){return 0===g},i=function(a){h()&&(d.typing=a)},j=function(b){a.setDirty(b)},k=function(a){i(!1),d.add({},a)},l=function(){d.typing&&(i(!1),d.add())};a.on("init",function(){d.add()}),a.on("BeforeExecCommand",function(a){var b=a.command;"Undo"!==b&&"Redo"!==b&&"mceRepaint"!==b&&(l(),d.beforeChange())}),a.on("ExecCommand",function(a){var b=a.command;"Undo"!==b&&"Redo"!==b&&"mceRepaint"!==b&&k(a)}),a.on("ObjectResizeStart Cut",function(){d.beforeChange()}),a.on("SaveContent ObjectResized blur",k),a.on("DragEnd",k),a.on("KeyUp",function(b){var e=b.keyCode;b.isDefaultPrevented()||((e>=33&&e<=36||e>=37&&e<=40||45===e||b.ctrlKey)&&(k(),a.nodeChanged()),46!==e&&8!==e||a.nodeChanged(),c&&d.typing&&iB.isEq(iB.createFromEditor(a),f[0])===!1&&(a.isDirty()===!1&&(j(!0),a.fire("change",{level:f[0],lastLevel:null})),a.fire("TypingUndo"),c=!1,a.nodeChanged()))}),a.on("KeyDown",function(a){var b=a.keyCode;if(!a.isDefaultPrevented()){if(b>=33&&b<=36||b>=37&&b<=40||45===b)return void(d.typing&&k(a));var e=a.ctrlKey&&!a.altKey||a.metaKey;!(b<16||b>20)||224===b||91===b||d.typing||e||(d.beforeChange(),i(!0),d.add({},a),c=!0)}}),a.on("MouseDown",function(a){d.typing&&k(a)});var m=function(a){return"insertReplacementText"===a.inputType},n=function(a){return"insertText"===a.inputType&&null===a.data};return a.on("input",function(a){a.inputType&&(m(a)||n(a))&&k(a)}),a.addShortcut("meta+z","","Undo"),a.addShortcut("meta+y,meta+shift+z","","Redo"),a.on("AddUndo Undo Redo ClearUndos",function(b){b.isDefaultPrevented()||a.nodeChanged()}),d={data:f,typing:!1,beforeChange:function(){h()&&(b=om.getUndoBookmark(a.selection))},add:function(c,d){var g,i,k,l=a.settings;if(k=iB.createFromEditor(a),c=c||{},c=vd.extend(c,k),h()===!1||a.removed)return null;if(i=f[e],a.fire("BeforeAddUndo",{level:c,lastLevel:i,originalEvent:d}).isDefaultPrevented())return null;if(i&&iB.isEq(i,c))return null;if(f[e]&&(f[e].beforeBookmark=b),l.custom_undo_redo_levels&&f.length>l.custom_undo_redo_levels){for(g=0;g<f.length-1;g++)f[g]=f[g+1];f.length--,e=f.length}c.bookmark=om.getUndoBookmark(a.selection),e<f.length-1&&(f.length=e+1),f.push(c),e=f.length-1;var m={level:c,lastLevel:i,originalEvent:d};return a.fire("AddUndo",m),e>0&&(j(!0),a.fire("change",m)),c},undo:function(){var b;return d.typing&&(d.add(),d.typing=!1,i(!1)),e>0&&(b=f[--e],iB.applyToEditor(a,b,!0),j(!0),a.fire("undo",{level:b})),b},redo:function(){var b;return e<f.length-1&&(b=f[++e],iB.applyToEditor(a,b,!1),j(!0),a.fire("redo",{level:b})),b},clear:function(){f=[],e=0,d.typing=!1,d.data=f,a.fire("ClearUndos")},hasUndo:function(){return e>0||d.typing&&f[0]&&!iB.isEq(iB.createFromEditor(a),f[0])},hasRedo:function(){return e<f.length-1&&!d.typing},transact:function(a){return l(),d.beforeChange(),d.ignore(a),d.add()},ignore:function(a){try{g++,a()}finally{g--}},extra:function(b,c){var g,h;d.transact(b)&&(h=f[e].bookmark,g=f[e-1],iB.applyToEditor(a,g,!0),d.transact(c)&&(f[e-1].beforeBookmark=h))}}}function W(a){var b={},c=function(a){return a?b[a]:b},d=function(a,c){a&&("string"!=typeof a?vd.each(a,function(a,b){d(b,a)}):(c=c.length?c:[c],vd.each(c,function(a){"undefined"==typeof a.deep&&(a.deep=!a.selector),"undefined"==typeof a.split&&(a.split=!a.selector||a.inline),"undefined"==typeof a.remove&&a.selector&&!a.inline&&(a.remove="none"),a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0),"string"==typeof a.classes&&(a.classes=a.classes.split(/\s+/))}),b[a]=c))},e=function(a){return a&&b[a]&&delete b[a],b};return d(JC.get(a.dom)),d(a.settings.formats),{get:c,register:d,unregister:e}}function X(a){var b=W(a),c=Vi(null);return VC.setup(a),MB(a),{get:b.get,register:b.register,unregister:b.unregister,apply:ta(CC.applyFormat,a),remove:ta(hC.remove,a),toggle:ta(TC.toggle,a,b),match:ta(sB.match,a),matchAll:ta(sB.matchAll,a),matchNode:ta(sB.matchNode,a),canApply:ta(sB.canApply,a),formatChanged:ta(HC.formatChanged,a,c),getCssText:ta(RC.getCssText,a)}}function Y(a,b){void 0===b&&(b=t());var c={},d=[],e={},f={};a=a||{},a.validate=!("validate"in a)||a.validate,a.root_name=a.root_name||"body";var g=function(a){var c,d,e,f,g,i,j,k,l,m,n,o,p,q,r,s;for(o=wD("tr,td,th,tbody,thead,tfoot,table"),m=b.getNonEmptyElements(),n=b.getWhiteSpaceElements(),p=b.getTextBlockElements(),q=b.getSpecialElements(),c=0;c<a.length;c++)if(d=a[c],d.parent&&!d.fixed)if(p[d.name]&&"li"===d.parent.name){for(r=d.next;r&&p[r.name];)r.name="li",r.fixed=!0,d.parent.insert(r,d.parent),r=r.next;d.unwrap(d)}else{for(f=[d],e=d.parent;e&&!b.isValidChild(e.name,d.name)&&!o[e.name];e=e.parent)f.push(e);if(e&&f.length>1){for(f.reverse(),g=i=h(f[0].clone()),l=0;l<f.length-1;l++){for(b.isValidChild(i.name,f[l].name)?(j=h(f[l].clone()),i.append(j)):j=i,k=f[l].firstChild;k&&k!==f[l+1];)s=k.next,j.append(k),k=s;i=j}tD(b,m,n,g)?e.insert(d,f[0],!0):(e.insert(g,f[0],!0),e.insert(d,g)),e=f[0],(tD(b,m,n,e)||rD(e,"br"))&&e.empty().remove()}else if(d.parent){if("li"===d.name){if(r=d.prev,r&&("ul"===r.name||"ul"===r.name)){r.append(d);continue}if(r=d.next,r&&("ul"===r.name||"ul"===r.name)){r.insert(d,r.firstChild,!0);continue}d.wrap(h(new oD("ul",1)));continue}b.isValidChild(d.parent.name,"div")&&b.isValidChild("div",d.name)?d.wrap(h(new oD("div",1))):q[d.name]?d.empty().remove():d.unwrap()}}},h=function(a){var b,g,h;g in c&&(h=e[g],h?h.push(a):e[g]=[a]),b=d.length;for(;b--;)g=d[b].name,g in a.attributes.map&&(h=f[g],h?h.push(a):f[g]=[a]);return a},i=function(a,b){xD(yD(a),function(a){var d=c[a];d||(c[a]=d=[]),d.push(b)})},j=function(){var a=[];for(var b in c)c.hasOwnProperty(b)&&a.push({name:b,callbacks:c[b]});return a},k=function(a,b){xD(yD(a),function(a){var c;for(c=0;c<d.length;c++)if(d[c].name===a)return void d[c].callbacks.push(b);d.push({name:a,callbacks:[b]})})},l=function(){return[].concat(d)},m=function(h,i){var j,k,l,m,n,o,p,q,r,s,t,u=[];i=i||{},e={},f={},r=zD(wD("script,style,head,html,body,title,meta,param"),b.getBlockElements());var v=b.getNonEmptyElements(),w=b.children,x=a.validate,y="forced_root_block"in i?i.forced_root_block:a.forced_root_block,z=b.getWhiteSpaceElements(),A=/^[ \t\r\n]+/,B=/[ \t\r\n]+$/,C=/[ \t\r\n]+/g,D=/^[ \t\r\n]+$/;s=z.hasOwnProperty(i.context)||z.hasOwnProperty(a.root_name);var E=function(){var c,d,e=I.firstChild,f=function(a){a&&(e=a.firstChild,e&&3===e.type&&(e.value=e.value.replace(A,"")),e=a.lastChild,e&&3===e.type&&(e.value=e.value.replace(B,"")))};if(b.isValidChild(I.name,y.toLowerCase())){for(;e;)c=e.next,3===e.type||1===e.type&&"p"!==e.name&&!r[e.name]&&!e.attr("data-mce-type")?d?d.append(e):(d=F(y,1),d.attr(a.forced_root_block_attrs),I.insert(d,e),d.append(e)):(f(d),d=null),e=c;f(d)}},F=function(a,b){var d,f=new oD(a,b);return a in c&&(d=e[a],d?d.push(f):e[a]=[f]),f},G=function(a){var c,d,e,f,g=b.getBlockElements();for(c=a.prev;c&&3===c.type;){if(e=c.value.replace(B,""),e.length>0)return void(c.value=e);if(d=c.next){if(3===d.type&&d.value.length){c=c.prev;continue}if(!g[d.name]&&"script"!==d.name&&"style"!==d.name){c=c.prev;continue}}f=c.prev,c.remove(),c=f}},H=function(a){var b,c={};for(b in a)"li"!==b&&"p"!==b&&(c[b]=a[b]);return c};j=xA({validate:x,allow_script_urls:a.allow_script_urls,allow_conditional_comments:a.allow_conditional_comments,self_closing_elements:H(b.getSelfClosingElements()),cdata:function(a){t.append(F("#cdata",4)).value=a},text:function(a,b){var c;s||(a=a.replace(C," "),uD(t.lastChild,r)&&(a=a.replace(A,""))),0!==a.length&&(c=F("#text",3),c.raw=!!b,t.append(c).value=a)},comment:function(a){t.append(F("#comment",8)).value=a},pi:function(a,b){t.append(F(a,7)).value=b,G(t)},doctype:function(a){var b;b=t.append(F("#doctype",10)),b.value=a,G(t)},start:function(a,c,e){var g,h,i,j,k;if(i=x?b.getElementRule(a):{}){for(g=F(i.outputName||a,1),g.attributes=c,g.shortEnded=e,t.append(g),k=w[t.name],k&&w[g.name]&&!k[g.name]&&u.push(g),h=d.length;h--;)j=d[h].name,j in c.map&&(p=f[j],p?p.push(g):f[j]=[g]);r[a]&&G(g),e||(t=g),!s&&z[a]&&(s=!0)}},end:function(c){var d,e,f,g,h;if(e=x?b.getElementRule(c):{}){if(r[c]&&!s){if(d=t.firstChild,d&&3===d.type)if(f=d.value.replace(A,""),f.length>0)d.value=f,d=d.next;else for(g=d.next,d.remove(),d=g;d&&3===d.type;)f=d.value,g=d.next,(0===f.length||D.test(f))&&(d.remove(),d=g),d=g;if(d=t.lastChild,d&&3===d.type)if(f=d.value.replace(B,""),f.length>0)d.value=f,d=d.prev;else for(g=d.prev,d.remove(),d=g;d&&3===d.type;)f=d.value,g=d.prev,(0===f.length||D.test(f))&&(d.remove(),d=g),d=g}if(s&&z[c]&&(s=!1),e.removeEmpty&&tD(b,v,z,t)&&!t.attributes.map.name&&!t.attr("id"))return h=t.parent,r[t.name]?t.empty().remove():t.unwrap(),void(t=h);e.paddEmpty&&(qD(t)||tD(b,v,z,t))&&pD(a,i,r,t),t=t.parent}}},b);var I=t=new oD(i.context||a.root_name,11);if(j.parse(h),x&&u.length&&(i.context?i.invalid=!0:g(u)),y&&("body"===I.name||i.isRootContent)&&E(),!i.invalid){for(q in e){for(p=c[q],k=e[q],n=k.length;n--;)k[n].parent||k.splice(n,1);for(l=0,m=p.length;l<m;l++)p[l](k,q,i)}for(l=0,m=d.length;l<m;l++)if(p=d[l],p.name in f){for(k=f[p.name],n=k.length;n--;)k[n].parent||k.splice(n,1);for(n=0,o=p.callbacks.length;n<o;n++)p.callbacks[n](k,p.name,i)}}return I},n={schema:b,addAttributeFilter:k,getAttributeFilters:l,addNodeFilter:i,getNodeFilters:j,filterNode:h,parse:m};return vD(n,a),kD.register(n,a),n}function Z(a,b){var c,d,e,f=["data-mce-selected"];c=b&&b.dom?b.dom:wi.DOM,d=b&&b.schema?b.schema:t(a),a.entity_encoding=a.entity_encoding||"named",a.remove_trailing_brs=!("remove_trailing_brs"in a)||a.remove_trailing_brs,e=Y(a,d),aD.register(e,a,c);var g=function(f,g){var h=ZC({format:"html"},g?g:{}),i=eD.process(b,f,h),j=CD(c,i,h),k=DD(e,j,h);return"tree"===h.format?k:FD(b,a,d,k,h)};return{schema:d,addNodeFilter:e.addNodeFilter,addAttributeFilter:e.addAttributeFilter,serialize:g,addRules:function(a){d.addValidElements(a)},setRules:function(a){d.setValidElements(a)},addTempAttr:ta(AD,e,f),getTempAttrs:function(){return f}}}function $(a,b){var c=Z(a,b);return{schema:c.schema,addNodeFilter:c.addNodeFilter,addAttributeFilter:c.addAttributeFilter,serialize:c.serialize,addRules:c.addRules,setRules:c.setRules,addTempAttr:c.addTempAttr,getTempAttrs:c.getTempAttrs}}function _(a){return{getBookmark:ta(Ap.getBookmark,a),moveToBookmark:ta(Ap.moveToBookmark,a)}}function aa(a){var b=vd.each,c=mA.BACKSPACE,d=mA.DELETE,e=a.dom,f=a.selection,g=a.settings,h=a.parser,i=Ab.gecko,j=Ab.ie,k=Ab.webkit,l="data:text/mce-internal,",m=j?"Text":"URL",n=function(b,c){try{a.getDoc().execCommand(b,!1,c)}catch(d){}},o=function(a){return a.isDefaultPrevented()},p=function(b){var c,d;b.dataTransfer&&(a.selection.isCollapsed()&&"IMG"===b.target.tagName&&f.select(b.target),c=a.selection.getContent(),c.length>0&&(d=l+escape(a.id)+","+escape(c),b.dataTransfer.setData(m,d)))},q=function(a){var b;return a.dataTransfer&&(b=a.dataTransfer.getData(m),b&&b.indexOf(l)>=0)?(b=b.substr(l.length).split(","),{id:unescape(b[0]),html:unescape(b[1])}):null},r=function(b,c){a.queryCommandSupported("mceInsertClipboardContent")?a.execCommand("mceInsertClipboardContent",!1,{content:b,internal:c}):a.execCommand("mceInsertContent",!1,b)},s=function(){var b=function(a){var b=e.create("body"),c=a.cloneContents();return b.appendChild(c),f.serializer.serialize(b,{format:"html"})},g=function(c){var d=b(c),f=e.createRng();f.selectNode(a.getBody());var g=b(f);return d===g};a.on("keydown",function(b){var f,h,i=b.keyCode;if(!o(b)&&(i===d||i===c)){if(f=a.selection.isCollapsed(),h=a.getBody(),f&&!e.isEmpty(h))return;if(!f&&!g(a.selection.getRng()))return;b.preventDefault(),a.setContent(""),h.firstChild&&e.isBlock(h.firstChild)?a.selection.setCursorLocation(h.firstChild,0):a.selection.setCursorLocation(h,0),a.nodeChanged()}})},t=function(){a.shortcuts.add("meta+a",null,"SelectAll")},u=function(){a.settings.content_editable||e.bind(a.getDoc(),"mousedown mouseup",function(b){var c;if(b.target===a.getDoc().documentElement)if(c=f.getRng(),a.getBody().focus(),"mousedown"===b.type){if(Bk(c.startContainer))return;f.placeCaretAt(b.clientX,b.clientY)}else f.setRng(c)})},v=function(){a.on("keydown",function(b){if(!o(b)&&b.keyCode===c){if(!a.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&0===f.getRng().startOffset){var d=f.getNode(),g=d.previousSibling;if("HR"===d.nodeName)return e.remove(d),void b.preventDefault();g&&g.nodeName&&"hr"===g.nodeName.toLowerCase()&&(e.remove(g),b.preventDefault())}}})},w=function(){Range.prototype.getClientRects||a.on("mousedown",function(b){if(!o(b)&&"HTML"===b.target.nodeName){var c=a.getBody();c.blur(),Jb.setEditorTimeout(a,function(){c.focus()})}})},x=function(){a.on("click",function(b){var c=b.target;/^(IMG|HR)$/.test(c.nodeName)&&"false"!==e.getContentEditableParent(c)&&(b.preventDefault(),a.selection.select(c),a.nodeChanged()),"A"===c.nodeName&&e.hasClass(c,"mce-item-anchor")&&(b.preventDefault(),f.select(c))})},y=function(){var c=function(){var c=e.getAttribs(f.getStart().cloneNode(!1));return function(){var d=f.getStart();d!==a.getBody()&&(e.setAttrib(d,"style",null),b(c,function(a){d.setAttributeNode(a.cloneNode(!0))}))}},d=function(){return!f.isCollapsed()&&e.getParent(f.getStart(),e.isBlock)!==e.getParent(f.getEnd(),e.isBlock)};a.on("keypress",function(b){var e;if(!o(b)&&(8===b.keyCode||46===b.keyCode)&&d())return e=c(),a.getDoc().execCommand("delete",!1,null),e(),b.preventDefault(),!1}),e.bind(a.getDoc(),"cut",function(b){var e;!o(b)&&d()&&(e=c(),Jb.setEditorTimeout(a,function(){e()}))})},z=function(){a.on("keydown",function(a){if(!o(a)&&a.keyCode===c&&f.isCollapsed()&&0===f.getRng().startOffset){var b=f.getNode().previousSibling;if(b&&b.nodeName&&"table"===b.nodeName.toLowerCase())return a.preventDefault(),!1}})},A=function(){a.on("keydown",function(b){var c,d,g,h,i;if(!o(b)&&b.keyCode===mA.BACKSPACE&&(c=f.getRng(),d=c.startContainer,g=c.startOffset,h=e.getRoot(),i=d,c.collapsed&&0===g)){for(;i&&i.parentNode&&i.parentNode.firstChild===i&&i.parentNode!==h;)i=i.parentNode;"BLOCKQUOTE"===i.tagName&&(a.formatter.toggle("blockquote",null,i),c=e.createRng(),c.setStart(d,0),c.setEnd(d,0),f.setRng(c))}})},B=function(){var b=function(){n("StyleWithCSS",!1),n("enableInlineTableEditing",!1),g.object_resizing||n("enableObjectResizing",!1)};g.readonly||a.on("BeforeExecCommand MouseDown",b)},C=function(){var c=function(){b(e.select("a"),function(a){var b=a.parentNode,c=e.getRoot();if(b.lastChild===a){for(;b&&!e.isBlock(b);){if(b.parentNode.lastChild!==b||b===c)return;b=b.parentNode}e.add(b,"br",{"data-mce-bogus":1})}})};a.on("SetContent ExecCommand",function(a){"setcontent"!==a.type&&"mceInsertLink"!==a.command||c()})},D=function(){g.forced_root_block&&a.on("init",function(){n("DefaultParagraphSeparator",g.forced_root_block)})},E=function(){a.on("keyup focusin mouseup",function(a){mA.modifierPressed(a)||f.normalize()},!0)},F=function(){a.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},G=function(){a.inline||a.on("keydown",function(){document.activeElement===document.body&&a.getWin().focus()})},H=function(){a.inline||(a.contentStyles.push("body {min-height: 150px}"),a.on("click",function(b){var c;if("HTML"===b.target.nodeName){if(Ab.ie>11)return void a.getBody().focus();c=a.selection.getRng(),a.getBody().focus(),a.selection.setRng(c),a.selection.normalize(),a.nodeChanged()}}))},I=function(){Ab.mac&&a.on("keydown",function(b){!mA.metaKeyPressed(b)||b.shiftKey||37!==b.keyCode&&39!==b.keyCode||(b.preventDefault(),a.selection.getSel().modify("move",37===b.keyCode?"backward":"forward","lineboundary"));
})},J=function(){n("AutoUrlDetect",!1)},K=function(){a.on("click",function(a){var b=a.target;do if("A"===b.tagName)return void a.preventDefault();while(b=b.parentNode)}),a.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},L=function(){a.on("init",function(){a.dom.bind(a.getBody(),"submit",function(a){a.preventDefault()})})},M=function(){h.addNodeFilter("br",function(a){for(var b=a.length;b--;)"Apple-interchange-newline"===a[b].attr("class")&&a[b].remove()})},N=function(){a.on("dragstart",function(a){p(a)}),a.on("drop",function(b){if(!o(b)){var c=q(b);if(c&&c.id!==a.id){b.preventDefault();var d=QD.fromPoint(b.x,b.y,a.getDoc());f.setRng(d),r(c.html,!0)}}})},O=function(){},P=function(){var b;return!i||a.removed?0:(b=a.selection.getSel(),!b||!b.rangeCount||0===b.rangeCount)};return A(),s(),Ab.windowsPhone||E(),k&&(u(),x(),D(),L(),z(),M(),Ab.iOS?(G(),H(),K()):t()),Ab.ie>=11&&(H(),z()),Ab.ie&&(t(),J(),N()),i&&(v(),w(),y(),B(),C(),F(),I(),z()),{refreshContentEditable:O,isHidden:P}}function ba(a){var b=function(b,c){return eq.walk(a,b,c)},c=vB.split,d=function(b){return nw.normalize(a,b).fold(ra(!1),function(a){return b.setStart(a.startContainer,a.startOffset),b.setEnd(a.endContainer,a.endOffset),!0})};return{walk:b,split:c,normalize:d}}var ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b]},qa=function(a,b){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return a(b.apply(null,arguments))}},ra=function(a){return function(){return a}},sa=function(a){return a},ta=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];for(var d=new Array(arguments.length-1),e=1;e<arguments.length;e++)d[e-1]=arguments[e];return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];for(var e=new Array(arguments.length),f=0;f<e.length;f++)e[f]=arguments[f];var g=d.concat(e);return a.apply(null,g)}},ua=function(a){return function(){throw new Error(a)}},va=ra(!1),wa=ra(!0),xa=va,ya=wa,za=function(){return Aa},Aa=function(){var a=function(a){return a.isNone()},b=function(a){return a()},c=function(a){return a},d=function(){},e=function(){return null},f=function(){},g={fold:function(a,b){return a()},is:xa,isSome:xa,isNone:ya,getOr:c,getOrThunk:b,getOrDie:function(a){throw new Error(a||"error: getOrDie called on none.")},getOrNull:e,getOrUndefined:f,or:c,orThunk:b,map:za,ap:za,each:d,bind:za,flatten:za,exists:xa,forall:ya,filter:za,equals:a,equals_:a,toArray:function(){return[]},toString:ra("none()")};return Object.freeze&&Object.freeze(g),g}(),Ba=function(a){var b=function(){return a},c=function(){return f},d=function(b){return Ba(b(a))},e=function(b){return b(a)},f={fold:function(b,c){return c(a)},is:function(b){return a===b},isSome:ya,isNone:xa,getOr:b,getOrThunk:b,getOrDie:b,getOrNull:b,getOrUndefined:b,or:c,orThunk:c,map:d,ap:function(b){return b.fold(za,function(b){return Ba(b(a))})},each:function(b){b(a)},bind:e,flatten:b,exists:e,forall:e,filter:function(b){return b(a)?f:Aa},equals:function(b){return b.is(a)},equals_:function(b,c){return b.fold(xa,function(b){return c(a,b)})},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return f},Ca=function(a){return null===a||void 0===a?Aa:Ba(a)},Da={some:Ba,none:za,from:Ca},Ea=function(a){if(null===a)return"null";var b=typeof a;return"object"===b&&Array.prototype.isPrototypeOf(a)?"array":"object"===b&&String.prototype.isPrototypeOf(a)?"string":b},Fa=function(a){return function(b){return Ea(b)===a}},Ga=Fa("string"),Ha=Fa("object"),Ia=Fa("array"),Ja=Fa("null"),Ka=Fa("boolean"),La=Fa("function"),Ma=Fa("number"),Na=function(){var a=Array.prototype.indexOf,b=function(b,c){return a.call(b,c)},c=function(a,b){return $a(a,b)};return void 0===a?c:b}(),Oa=function(a,b){var c=Na(a,b);return c===-1?Da.none():Da.some(c)},Pa=function(a,b){return Na(a,b)>-1},Qa=function(a,b){return Za(a,b).isSome()},Ra=function(a,b){for(var c=a.length,d=new Array(c),e=0;e<c;e++){var f=a[e];d[e]=b(f,e,a)}return d},Sa=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];b(e,c,a)}},Ta=function(a,b){for(var c=a.length-1;c>=0;c--){var d=a[c];b(d,c,a)}},Ua=function(a,b){for(var c=[],d=[],e=0,f=a.length;e<f;e++){var g=a[e],h=b(g,e,a)?c:d;h.push(g)}return{pass:c,fail:d}},Va=function(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];b(f,d,a)&&c.push(f)}return c},Wa=function(a,b,c){return Ta(a,function(a){c=b(c,a)}),c},Xa=function(a,b,c){return Sa(a,function(a){c=b(c,a)}),c},Ya=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];if(b(e,c,a))return Da.some(e)}return Da.none()},Za=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];if(b(e,c,a))return Da.some(c)}return Da.none()},$a=function(a,b){for(var c=0,d=a.length;c<d;++c)if(a[c]===b)return c;return-1},_a=Array.prototype.push,ab=function(a){for(var b=[],c=0,d=a.length;c<d;++c){if(!Array.prototype.isPrototypeOf(a[c]))throw new Error("Arr.flatten item "+c+" was not an array, input: "+a);_a.apply(b,a[c])}return b},bb=function(a,b){var c=Ra(a,b);return ab(c)},cb=function(a,b){for(var c=0,d=a.length;c<d;++c){var e=a[c];if(b(e,c,a)!==!0)return!1}return!0},db=Array.prototype.slice,eb=function(a){var b=db.call(a,0);return b.reverse(),b},fb=function(a,b){return Va(a,function(a){return!Pa(b,a)})},gb=function(a,b){for(var c={},d=0,e=a.length;d<e;d++){var f=a[d];c[String(f)]=b(f,d)}return c},hb=function(a,b){var c=db.call(a,0);return c.sort(b),c},ib=function(a){return 0===a.length?Da.none():Da.some(a[0])},jb=function(a){return 0===a.length?Da.none():Da.some(a[a.length-1])},kb=La(Array.from)?Array.from:function(a){return db.call(a)},lb="undefined"!=typeof window?window:Function("return this;")(),mb=function(a,b){for(var c=void 0!==b&&null!==b?b:lb,d=0;d<a.length&&void 0!==c&&null!==c;++d)c=c[a[d]];return c},nb=function(a,b){var c=a.split(".");return mb(c,b)},ob=function(a,b){return nb(a,b)},pb=function(a,b){var c=ob(a,b);if(void 0===c||null===c)throw a+" not available on this browser";return c},qb={getOrDie:pb},rb=function(){return qb.getOrDie("URL")},sb=function(a){return rb().createObjectURL(a)},tb=function(a){rb().revokeObjectURL(a)},ub={createObjectURL:sb,revokeObjectURL:tb},vb=navigator,wb=vb.userAgent,xb=function(a){return"matchMedia"in window&&matchMedia(a).matches};ca=!1,ka=/Android/.test(wb),da=/WebKit/.test(wb),ea=!da&&!ca&&/MSIE/gi.test(wb)&&/Explorer/gi.test(vb.appName),ea=ea&&/MSIE (\w+)\./.exec(wb)[1],fa=wb.indexOf("Trident/")!==-1&&(wb.indexOf("rv:")!==-1||vb.appName.indexOf("Netscape")!==-1)&&11,ga=wb.indexOf("Edge/")!==-1&&!ea&&!fa&&12,ea=ea||fa||ga,ha=!da&&!fa&&/Gecko/.test(wb),ia=wb.indexOf("Mac")!==-1,ja=/(iPad|iPhone)/.test(wb),la="FormData"in window&&"FileReader"in window&&"URL"in window&&!!ub.createObjectURL,ma=xb("only screen and (max-device-width: 480px)")&&(ka||ja),na=xb("only screen and (min-width: 800px)")&&(ka||ja),oa=wb.indexOf("Windows Phone")!==-1,ga&&(da=!1);var yb,zb=!ja||la||parseInt(wb.match(/AppleWebKit\/(\d*)/)[1],10)>=534,Ab={opera:ca,webkit:da,ie:ea,gecko:ha,mac:ia,iOS:ja,android:ka,contentEditable:zb,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==ea,range:window.getSelection&&"Range"in window,documentMode:ea&&!ga?document.documentMode||7:10,fileApi:la,ceFalse:ea===!1||ea>8,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:ea===!1||ea>11,desktop:!ma&&!na,windowsPhone:oa},Bb=function(){function a(a,b){return function(){a.apply(b,arguments)}}function b(a){var b=this;return null===this._state?void this._deferreds.push(a):void j(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function c(b){try{if(b===this)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var f=b.then;if("function"==typeof f)return void g(a(f,b),a(c,this),a(d,this))}this._state=!0,this._value=b,e.call(this)}catch(h){d.call(this,h)}}function d(a){this._state=!1,this._value=a,e.call(this)}function e(){for(var a=0,c=this._deferreds.length;a<c;a++)b.call(this,this._deferreds[a]);this._deferreds=null}function f(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}function g(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var h=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},i=function(b){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof b)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],g(b,a(c,this),a(d,this))},j=i.immediateFn||"function"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)};return i.prototype["catch"]=function(a){return this.then(null,a)},i.prototype.then=function(a,c){var d=this;return new i(function(e,g){b.call(d,new f(a,c,e,g))})},i.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&h(arguments[0])?arguments[0]:arguments);return new i(function(b,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},i.resolve=function(a){return a&&"object"==typeof a&&a.constructor===i?a:new i(function(b){b(a)})},i.reject=function(a){return new i(function(b,c){c(a)})},i.race=function(a){return new i(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})},i},Cb=window.Promise?window.Promise:Bb(),Db=function(a,b){var c,d=window.requestAnimationFrame,e=["ms","moz","webkit"],f=function(a){window.setTimeout(a,0)};for(c=0;c<e.length&&!d;c++)d=window[e[c]+"RequestAnimationFrame"];d||(d=f),d(a,b)},Eb=function(a,b){return"number"!=typeof b&&(b=0),setTimeout(a,b)},Fb=function(a,b){return"number"!=typeof b&&(b=1),setInterval(a,b)},Gb=function(a){return clearTimeout(a)},Hb=function(a){return clearInterval(a)},Ib=function(a,b){var c,d;return d=function(){var d=arguments;clearTimeout(c),c=Eb(function(){a.apply(this,d)},b)},d.stop=function(){clearTimeout(c)},d},Jb={requestAnimationFrame:function(a,b){return yb?void yb.then(a):void(yb=new Cb(function(a){b||(b=document.body),Db(a,b)}).then(a))},setTimeout:Eb,setInterval:Fb,setEditorTimeout:function(a,b,c){return Eb(function(){a.removed||b()},c)},setEditorInterval:function(a,b,c){var d;return d=Fb(function(){a.removed?clearInterval(d):b()},c)},debounce:Ib,throttle:Ib,clearInterval:Hb,clearTimeout:Gb},Kb="mce-data-",Lb=/^(?:mouse|contextmenu)|click/,Mb={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},Nb=function(a){return a.isDefaultPrevented===Pb||a.isDefaultPrevented===Ob},Ob=function(){return!1},Pb=function(){return!0},Qb=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&&a.attachEvent("on"+b,c)},Rb=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d||!1):a.detachEvent&&a.detachEvent("on"+b,c)},Sb=function(a,b){if(a.composedPath){var c=a.composedPath();if(c&&c.length>0)return c[0]}return b},Tb=function(a,b){var c,d=b||{};for(c in a)Mb[c]||(d[c]=a[c]);if(d.target||(d.target=d.srcElement||document),Ab.experimentalShadowDom&&(d.target=Sb(a,d.target)),a&&Lb.test(a.type)&&void 0===a.pageX&&void 0!==a.clientX){var e=d.target.ownerDocument||document,f=e.documentElement,g=e.body;d.pageX=a.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),d.pageY=a.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)}return d.preventDefault=function(){d.isDefaultPrevented=Pb,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},d.stopPropagation=function(){d.isPropagationStopped=Pb,a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)},d.stopImmediatePropagation=function(){d.isImmediatePropagationStopped=Pb,d.stopPropagation()},Nb(d)===!1&&(d.isDefaultPrevented=Ob,d.isPropagationStopped=Ob,d.isImmediatePropagationStopped=Ob),"undefined"==typeof d.metaKey&&(d.metaKey=!1),d},Ub=function(a,b,c){var d=a.document,e={type:"ready"};if(c.domLoaded)return void b(e);var f=function(){return"complete"===d.readyState||"interactive"===d.readyState&&d.body},g=function(){c.domLoaded||(c.domLoaded=!0,b(e))},h=function(){f()&&(Rb(d,"readystatechange",h),g())},i=function(){try{d.documentElement.doScroll("left")}catch(a){return void Jb.setTimeout(i)}g()};!d.addEventListener||Ab.ie&&Ab.ie<11?(Qb(d,"readystatechange",h),d.documentElement.doScroll&&a.self===a.top&&i()):f()?g():Qb(a,"DOMContentLoaded",g),Qb(a,"load",g)},Vb=function(){var a,b,c,d,e,f=this,g={};b=Kb+(+new Date).toString(32),d="onmouseenter"in document.documentElement,c="onfocusin"in document.documentElement,e={mouseenter:"mouseover",mouseleave:"mouseout"},a=1,f.domLoaded=!1,f.events=g;var h=function(a,b){var c,d,e,f,h=g[b];if(c=h&&h[a.type])for(d=0,e=c.length;d<e;d++)if(f=c[d],f&&f.func.call(f.scope,a)===!1&&a.preventDefault(),a.isImmediatePropagationStopped())return};f.bind=function(i,j,k,l){var m,n,o,p,q,r,s,t=window,u=function(a){h(Tb(a||t.event),m)};if(i&&3!==i.nodeType&&8!==i.nodeType){for(i[b]?m=i[b]:(m=a++,i[b]=m,g[m]={}),l=l||i,j=j.split(" "),o=j.length;o--;)p=j[o],r=u,q=s=!1,"DOMContentLoaded"===p&&(p="ready"),f.domLoaded&&"ready"===p&&"complete"===i.readyState?k.call(l,Tb({type:p})):(d||(q=e[p],q&&(r=function(a){var b,c;if(b=a.currentTarget,c=a.relatedTarget,c&&b.contains)c=b.contains(c);else for(;c&&c!==b;)c=c.parentNode;c||(a=Tb(a||t.event),a.type="mouseout"===a.type?"mouseleave":"mouseenter",a.target=b,h(a,m))})),c||"focusin"!==p&&"focusout"!==p||(s=!0,q="focusin"===p?"focus":"blur",r=function(a){a=Tb(a||t.event),a.type="focus"===a.type?"focusin":"focusout",h(a,m)}),n=g[m][p],n?"ready"===p&&f.domLoaded?k({type:p}):n.push({func:k,scope:l}):(g[m][p]=n=[{func:k,scope:l}],n.fakeName=q,n.capture=s,n.nativeHandler=r,"ready"===p?Ub(i,r,f):Qb(i,q||p,r,s)));return i=n=0,k}},f.unbind=function(a,c,d){var e,h,i,j,k,l;if(!a||3===a.nodeType||8===a.nodeType)return f;if(e=a[b]){if(l=g[e],c){for(c=c.split(" "),i=c.length;i--;)if(k=c[i],h=l[k]){if(d)for(j=h.length;j--;)if(h[j].func===d){var m=h.nativeHandler,n=h.fakeName,o=h.capture;h=h.slice(0,j).concat(h.slice(j+1)),h.nativeHandler=m,h.fakeName=n,h.capture=o,l[k]=h}d&&0!==h.length||(delete l[k],Rb(a,h.fakeName||k,h.nativeHandler,h.capture))}}else{for(k in l)h=l[k],Rb(a,h.fakeName||k,h.nativeHandler,h.capture);l={}}for(k in l)return f;delete g[e];try{delete a[b]}catch(p){a[b]=null}}return f},f.fire=function(a,c,d){var e;if(!a||3===a.nodeType||8===a.nodeType)return f;d=Tb(null,d),d.type=c,d.target=a;do e=a[b],e&&h(d,e),a=a.parentNode||a.ownerDocument||a.defaultView||a.parentWindow;while(a&&!d.isPropagationStopped());return f},f.clean=function(a){var c,d,e=f.unbind;if(!a||3===a.nodeType||8===a.nodeType)return f;if(a[b]&&e(a),a.getElementsByTagName||(a=a.document),a&&a.getElementsByTagName)for(e(a),d=a.getElementsByTagName("*"),c=d.length;c--;)a=d[c],a[b]&&e(a);return f},f.destroy=function(){g={}},f.cancel=function(a){return a&&(a.preventDefault(),a.stopImmediatePropagation()),!1}};Vb.Event=new Vb,Vb.Event.bind(window,"ready",function(){});var Wb,Xb,Yb,Zb,$b,_b,ac,bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc="sizzle"+-new Date,oc=window.document,pc=0,qc=0,rc=a(),sc=a(),tc=a(),uc=function(a,b){return a===b&&(ec=!0),0},vc="undefined",wc=1<<31,xc={}.hasOwnProperty,yc=[],zc=yc.pop,Ac=yc.push,Bc=yc.push,Cc=yc.slice,Dc=yc.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},Ec="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Fc="[\\x20\\t\\r\\n\\f]",Gc="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Hc="\\["+Fc+"*("+Gc+")(?:"+Fc+"*([*^$|!~]?=)"+Fc+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Gc+"))|)"+Fc+"*\\]",Ic=":("+Gc+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Hc+")*)|.*)\\)|)",Jc=new RegExp("^"+Fc+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fc+"+$","g"),Kc=new RegExp("^"+Fc+"*,"+Fc+"*"),Lc=new RegExp("^"+Fc+"*([>+~]|"+Fc+")"+Fc+"*"),Mc=new RegExp("="+Fc+"*([^\\]'\"]*?)"+Fc+"*\\]","g"),Nc=new RegExp(Ic),Oc=new RegExp("^"+Gc+"$"),Pc={ID:new RegExp("^#("+Gc+")"),CLASS:new RegExp("^\\.("+Gc+")"),TAG:new RegExp("^("+Gc+"|[*])"),ATTR:new RegExp("^"+Hc),PSEUDO:new RegExp("^"+Ic),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Fc+"*(even|odd|(([+-]|)(\\d*)n|)"+Fc+"*(?:([+-]|)"+Fc+"*(\\d+)|))"+Fc+"*\\)|)","i"),bool:new RegExp("^(?:"+Ec+")$","i"),needsContext:new RegExp("^"+Fc+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Fc+"*((?:-\\d)?\\d*)"+Fc+"*\\)|)(?=[^-]|$)","i")},Qc=/^(?:input|select|textarea|button)$/i,Rc=/^h\d$/i,Sc=/^[^{]+\{\s*\[native \w/,Tc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Uc=/[+~]/,Vc=/'|\\/g,Wc=new RegExp("\\\\([\\da-f]{1,6}"+Fc+"?|("+Fc+")|.)","ig"),Xc=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{Bc.apply(yc=Cc.call(oc.childNodes),oc.childNodes),yc[oc.childNodes.length].nodeType}catch(Yc){Bc={apply:yc.length?function(a,b){Ac.apply(a,Cc.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}var Zc=function(a,b,c,d){var e,f,h,j,k,l,m,n,o,p;if((b?b.ownerDocument||b:oc)!==gc&&fc(b),b=b||gc,c=c||[],!a||"string"!=typeof a)return c;if(1!==(j=b.nodeType)&&9!==j)return[];if(ic&&!d){if(e=Tc.exec(a))if(h=e[1]){if(9===j){if(f=b.getElementById(h),!f||!f.parentNode)return c;if(f.id===h)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&mc(b,f)&&f.id===h)return c.push(f),c}else{if(e[2])return Bc.apply(c,b.getElementsByTagName(a)),c;if((h=e[3])&&Xb.getElementsByClassName)return Bc.apply(c,b.getElementsByClassName(h)),c}if(Xb.qsa&&(!jc||!jc.test(a))){if(n=m=nc,o=b,p=9===j&&a,1===j&&"object"!==b.nodeName.toLowerCase()){for(l=_b(a),(m=b.getAttribute("id"))?n=m.replace(Vc,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",k=l.length;k--;)l[k]=n+i(l[k]);o=Uc.test(a)&&g(b.parentNode)||b,p=l.join(",")}if(p)try{return Bc.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{m||b.removeAttribute("id")}}}return bc(a.replace(Jc,"$1"),b,c,d)};Xb=Zc.support={},$b=Zc.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},fc=Zc.setDocument=function(a){function b(a){try{return a.top}catch(b){}return null}var d,e=a?a.ownerDocument||a:oc,f=e.defaultView;return e!==gc&&9===e.nodeType&&e.documentElement?(gc=e,hc=e.documentElement,ic=!$b(e),f&&f!==b(f)&&(f.addEventListener?f.addEventListener("unload",function(){fc()},!1):f.attachEvent&&f.attachEvent("onunload",function(){fc()})),Xb.attributes=!0,Xb.getElementsByTagName=!0,Xb.getElementsByClassName=Sc.test(e.getElementsByClassName),Xb.getById=!0,Yb.find.ID=function(a,b){if(typeof b.getElementById!==vc&&ic){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},Yb.filter.ID=function(a){var b=a.replace(Wc,Xc);return function(a){return a.getAttribute("id")===b}},Yb.find.TAG=Xb.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==vc)return b.getElementsByTagName(a)}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},Yb.find.CLASS=Xb.getElementsByClassName&&function(a,b){if(ic)return b.getElementsByClassName(a)},kc=[],jc=[],Xb.disconnectedMatch=!0,jc=jc.length&&new RegExp(jc.join("|")),kc=kc.length&&new RegExp(kc.join("|")),d=Sc.test(hc.compareDocumentPosition),mc=d||Sc.test(hc.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},uc=d?function(a,b){if(a===b)return ec=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!Xb.sortDetached&&b.compareDocumentPosition(a)===c?a===e||a.ownerDocument===oc&&mc(oc,a)?-1:b===e||b.ownerDocument===oc&&mc(oc,b)?1:dc?Dc.call(dc,a)-Dc.call(dc,b):0:4&c?-1:1)}:function(a,b){if(a===b)return ec=!0,0;var d,f=0,g=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!g||!h)return a===e?-1:b===e?1:g?-1:h?1:dc?Dc.call(dc,a)-Dc.call(dc,b):0;if(g===h)return c(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[f]===j[f];)f++;return f?c(i[f],j[f]):i[f]===oc?-1:j[f]===oc?1:0},e):gc},Zc.matches=function(a,b){return Zc(a,null,null,b)},Zc.matchesSelector=function(a,b){if((a.ownerDocument||a)!==gc&&fc(a),b=b.replace(Mc,"='$1']"),Xb.matchesSelector&&ic&&(!kc||!kc.test(b))&&(!jc||!jc.test(b)))try{var c=lc.call(a,b);if(c||Xb.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(d){}return Zc(b,gc,null,[a]).length>0},Zc.contains=function(a,b){return(a.ownerDocument||a)!==gc&&fc(a),mc(a,b)},Zc.attr=function(a,b){(a.ownerDocument||a)!==gc&&fc(a);var c=Yb.attrHandle[b.toLowerCase()],d=c&&xc.call(Yb.attrHandle,b.toLowerCase())?c(a,b,!ic):void 0;return void 0!==d?d:Xb.attributes||!ic?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},Zc.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},Zc.uniqueSort=function(a){var b,c=[],d=0,e=0;if(ec=!Xb.detectDuplicates,dc=!Xb.sortStable&&a.slice(0),a.sort(uc),ec){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return dc=null,a},Zb=Zc.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=Zb(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=Zb(b);return c},Yb=Zc.selectors={cacheLength:50,createPseudo:b,match:Pc,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(Wc,Xc),a[3]=(a[3]||a[4]||a[5]||"").replace(Wc,Xc),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||Zc.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&Zc.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return Pc.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&Nc.test(c)&&(b=_b(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(Wc,Xc).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=rc[a+" "];return b||(b=new RegExp("(^|"+Fc+")"+a+"("+Fc+"|$)"))&&rc(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==vc&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=Zc.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[nc]||(q[nc]={}),j=k[a]||[],n=j[0]===pc&&j[1],m=j[0]===pc&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[pc,n,m];break}}else if(s&&(j=(b[nc]||(b[nc]={}))[a])&&j[0]===pc)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[nc]||(l[nc]={}))[a]=[pc,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var d,e=Yb.pseudos[a]||Yb.setFilters[a.toLowerCase()]||Zc.error("unsupported pseudo: "+a);return e[nc]?e(c):e.length>1?(d=[a,a,"",c],Yb.setFilters.hasOwnProperty(a.toLowerCase())?b(function(a,b){for(var d,f=e(a,c),g=f.length;g--;)d=Dc.call(a,f[g]),a[d]=!(b[d]=f[g])}):function(a){return e(a,0,d)}):e}},pseudos:{not:b(function(a){var c=[],d=[],e=ac(a.replace(Jc,"$1"));return e[nc]?b(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,b,f){return c[0]=a,e(c,null,f,d),!d.pop()}}),has:b(function(a){return function(b){return Zc(a,b).length>0}}),contains:b(function(a){return a=a.replace(Wc,Xc),function(b){return(b.textContent||b.innerText||Zb(b)).indexOf(a)>-1}}),lang:b(function(a){return Oc.test(a||"")||Zc.error("unsupported lang: "+a),a=a.replace(Wc,Xc).toLowerCase(),function(b){var c;do if(c=ic?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(a){var b=window.location&&window.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===hc},focus:function(a){return a===gc.activeElement&&(!gc.hasFocus||gc.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!Yb.pseudos.empty(a)},header:function(a){return Rc.test(a.nodeName)},input:function(a){return Qc.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:f(function(){return[0]}),last:f(function(a,b){return[b-1]}),eq:f(function(a,b,c){return[c<0?c+b:c]}),even:f(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:f(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:f(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:f(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},Yb.pseudos.nth=Yb.pseudos.eq;for(Wb in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Yb.pseudos[Wb]=d(Wb);for(Wb in{submit:!0,reset:!0})Yb.pseudos[Wb]=e(Wb);h.prototype=Yb.filters=Yb.pseudos,Yb.setFilters=new h,_b=Zc.tokenize=function(a,b){var c,d,e,f,g,h,i,j=sc[a+" "];if(j)return b?0:j.slice(0);for(g=a,h=[],i=Yb.preFilter;g;){c&&!(d=Kc.exec(g))||(d&&(g=g.slice(d[0].length)||g),h.push(e=[])),c=!1,(d=Lc.exec(g))&&(c=d.shift(),e.push({value:c,type:d[0].replace(Jc," ")}),g=g.slice(c.length));for(f in Yb.filter)!(d=Pc[f].exec(g))||i[f]&&!(d=i[f](d))||(c=d.shift(),e.push({value:c,type:f,matches:d}),g=g.slice(c.length));if(!c)break}return b?g.length:g?Zc.error(a):sc(a,h).slice(0)},ac=Zc.compile=function(a,b){var c,d=[],e=[],f=tc[a+" "];if(!f){for(b||(b=_b(a)),c=b.length;c--;)f=o(b[c]),f[nc]?d.push(f):e.push(f);f=tc(a,p(e,d)),f.selector=a}return f},bc=Zc.select=function(a,b,c,d){var e,f,h,j,k,l="function"==typeof a&&a,m=!d&&_b(a=l.selector||a);if(c=c||[],1===m.length){if(f=m[0]=m[0].slice(0),f.length>2&&"ID"===(h=f[0]).type&&Xb.getById&&9===b.nodeType&&ic&&Yb.relative[f[1].type]){if(b=(Yb.find.ID(h.matches[0].replace(Wc,Xc),b)||[])[0],!b)return c;l&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=Pc.needsContext.test(a)?0:f.length;e--&&(h=f[e],!Yb.relative[j=h.type]);)if((k=Yb.find[j])&&(d=k(h.matches[0].replace(Wc,Xc),Uc.test(f[0].type)&&g(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&i(f),!a)return Bc.apply(c,d),c;break}}return(l||ac(a,m))(d,b,!ic,c,Uc.test(a)&&g(b.parentNode)||b),c},Xb.sortStable=nc.split("").sort(uc).join("")===nc,Xb.detectDuplicates=!!ec,fc(),Xb.sortDetached=!0;var $c=Array.isArray,_c=function(a){var b,c,d=a;if(!$c(a))for(d=[],b=0,c=a.length;b<c;b++)d[b]=a[b];return d},ad=function(a,b,c){var d,e;if(!a)return 0;if(c=c||a,void 0!==a.length){for(d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a)===!1)return 0}else for(d in a)if(a.hasOwnProperty(d)&&b.call(c,a[d],d,a)===!1)return 0;return 1},bd=function(a,b){var c=[];return ad(a,function(d,e){c.push(b(d,e,a))}),c},cd=function(a,b){var c=[];return ad(a,function(d,e){b&&!b(d,e,a)||c.push(d)}),c},dd=function(a,b){var c,d;if(a)for(c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},ed=function(a,b,c,d){var e=0;for(arguments.length<3&&(c=a[0]);e<a.length;e++)c=b.call(d,c,a[e],e);return c},fd=function(a,b,c){var d,e;for(d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return d;return-1},gd=function(a,b,c){var d=fd(a,b,c);if(d!==-1)return a[d]},hd=function(a){return a[a.length-1]},id={isArray:$c,toArray:_c,each:ad,map:bd,filter:cd,indexOf:dd,reduce:ed,findIndex:fd,find:gd,last:hd},jd=/^\s*|\s*$/g,kd=function(a){return null===a||void 0===a?"":(""+a).replace(jd,"")},ld=function(a,b){return b?!("array"!==b||!id.isArray(a))||typeof a===b:void 0!==a},md=function(a,b,c){var d;for(a=a||[],b=b||",","string"==typeof a&&(a=a.split(b)),c=c||{},d=a.length;d--;)c[a[d]]={};return c},nd=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},od=function(a,b,c){var d,e,f,g,h,i=this,j=0;if(a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a),f=a[3].match(/(^|\.)(\w+)$/i)[2],e=i.createNS(a[3].replace(/\.\w+$/,""),c),!e[f]){if("static"===a[2])return e[f]=b,void(this.onCreate&&this.onCreate(a[2],a[3],e[f]));b[f]||(b[f]=function(){},j=1),e[f]=b[f],i.extend(e[f].prototype,b),a[5]&&(d=i.resolve(a[5]).prototype,g=a[5].match(/\.(\w+)$/i)[1],h=e[f],j?e[f]=function(){return d[g].apply(this,arguments)}:e[f]=function(){return this.parent=d[g],h.apply(this,arguments)},e[f].prototype[f]=e[f],i.each(d,function(a,b){e[f].prototype[b]=d[b]}),i.each(b,function(a,b){d[b]?e[f].prototype[b]=function(){return this.parent=d[b],a.apply(this,arguments)}:b!==f&&(e[f].prototype[b]=a)})),i.each(b["static"],function(a,b){e[f][b]=a})}},pd=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];var e,f,g,h,i=arguments;for(e=1,f=i.length;e<f;e++){b=i[e];for(g in b)b.hasOwnProperty(g)&&(h=b[g],void 0!==h&&(a[g]=h))}return a},qd=function(a,b,c,d){d=d||this,a&&(c&&(a=a[c]),id.each(a,function(a,e){return b.call(d,a,e,c)!==!1&&void qd(a,b,c,d)}))},rd=function(a,b){var c,d;for(b=b||window,a=a.split("."),c=0;c<a.length;c++)d=a[c],b[d]||(b[d]={}),b=b[d];return b},sd=function(a,b){var c,d;for(b=b||window,a=a.split("."),c=0,d=a.length;c<d&&(b=b[a[c]],b);c++);return b},td=function(a,b){return!a||ld(a,"array")?a:id.map(a.split(b||","),kd)},ud=function(a){var b=Ab.cacheSuffix;return b&&(a+=(a.indexOf("?")===-1?"?":"&")+b),a},vd={trim:kd,isArray:id.isArray,is:ld,toArray:id.toArray,makeMap:md,each:id.each,map:id.map,grep:id.filter,inArray:id.indexOf,hasOwn:nd,extend:pd,create:od,walk:qd,createNS:rd,resolve:sd,explode:td,_addCacheSuffix:ud},wd=document,xd=Array.prototype.push,yd=Array.prototype.slice,zd=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ad=Vb.Event,Bd=vd.makeMap("children,contents,next,prev"),Cd=function(a){return"undefined"!=typeof a},Dd=function(a){return"string"==typeof a},Ed=function(a){return a&&a===a.window},Fd=function(a,b){var c,d,e;for(b=b||wd,e=b.createElement("div"),c=b.createDocumentFragment(),e.innerHTML=a;d=e.firstChild;)c.appendChild(d);return c},Gd=function(a,b,c,d){var e;if(Dd(b))b=Fd(b,Vd(a[0]));else if(b.length&&!b.nodeType){if(b=Pd.makeArray(b),d)for(e=b.length-1;e>=0;e--)Gd(a,b[e],c,d);else for(e=0;e<b.length;e++)Gd(a,b[e],c,d);
return a}if(b.nodeType)for(e=a.length;e--;)c.call(a[e],b);return a},Hd=function(a,b){return a&&b&&(" "+a.className+" ").indexOf(" "+b+" ")!==-1},Id=function(a,b,c){var d,e;return b=Pd(b)[0],a.each(function(){var a=this;c&&d===a.parentNode?e.appendChild(a):(d=a.parentNode,e=b.cloneNode(!1),a.parentNode.insertBefore(e,a),e.appendChild(a))}),a},Jd=vd.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Kd=vd.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Ld={"for":"htmlFor","class":"className",readonly:"readOnly"},Md={"float":"cssFloat"},Nd={},Od={},Pd=function(a,b){return new Pd.fn.init(a,b)},Qd=function(a,b){var c;if(b.indexOf)return b.indexOf(a);for(c=b.length;c--;)if(b[c]===a)return c;return-1},Rd=/^\s*|\s*$/g,Sd=function(a){return null===a||void 0===a?"":(""+a).replace(Rd,"")},Td=function(a,b){var c,d,e,f;if(a)if(c=a.length,void 0===c){for(d in a)if(a.hasOwnProperty(d)&&(f=a[d],b.call(f,d,f)===!1))break}else for(e=0;e<c&&(f=a[e],b.call(f,e,f)!==!1);e++);return a},Ud=function(a,b){var c=[];return Td(a,function(a,d){b(d,a)&&c.push(d)}),c},Vd=function(a){return a?9===a.nodeType?a:a.ownerDocument:wd};Pd.fn=Pd.prototype={constructor:Pd,selector:"",context:null,length:0,init:function(a,b){var c,d,e=this;if(!a)return e;if(a.nodeType)return e.context=e[0]=a,e.length=1,e;if(b&&b.nodeType)e.context=b;else{if(b)return Pd(a).attr(b);e.context=b=document}if(Dd(a)){if(e.selector=a,c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:zd.exec(a),!c)return Pd(b).find(a);if(c[1])for(d=Fd(a,Vd(b)).firstChild;d;)xd.call(e,d),d=d.nextSibling;else{if(d=Vd(b).getElementById(c[2]),!d)return e;if(d.id!==c[2])return e.find(a);e.length=1,e[0]=d}}else this.add(a,!1);return e},toArray:function(){return vd.toArray(this)},add:function(a,b){var c,d,e=this;if(Dd(a))return e.add(Pd(a));if(b!==!1)for(c=Pd.unique(e.toArray().concat(Pd.makeArray(a))),e.length=c.length,d=0;d<c.length;d++)e[d]=c[d];else xd.apply(e,Pd.makeArray(a));return e},attr:function(a,b){var c,d=this;if("object"==typeof a)Td(a,function(a,b){d.attr(a,b)});else{if(!Cd(b)){if(d[0]&&1===d[0].nodeType){if(c=Nd[a],c&&c.get)return c.get(d[0],a);if(Kd[a])return d.prop(a)?a:void 0;b=d[0].getAttribute(a,2),null===b&&(b=void 0)}return b}this.each(function(){var c;if(1===this.nodeType){if(c=Nd[a],c&&c.set)return void c.set(this,b);null===b?this.removeAttribute(a,2):this.setAttribute(a,b,2)}})}return d},removeAttr:function(a){return this.attr(a,null)},prop:function(a,b){var c=this;if(a=Ld[a]||a,"object"==typeof a)Td(a,function(a,b){c.prop(a,b)});else{if(!Cd(b))return c[0]&&c[0].nodeType&&a in c[0]?c[0][a]:b;this.each(function(){1===this.nodeType&&(this[a]=b)})}return c},css:function(a,b){var c,d,e=this,f=function(a){return a.replace(/-(\D)/g,function(a,b){return b.toUpperCase()})},g=function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a})};if("object"==typeof a)Td(a,function(a,b){e.css(a,b)});else if(Cd(b))a=f(a),"number"!=typeof b||Jd[a]||(b=b.toString()+"px"),e.each(function(){var c=this.style;if(d=Od[a],d&&d.set)return void d.set(this,b);try{this.style[Md[a]||a]=b}catch(e){}null!==b&&""!==b||(c.removeProperty?c.removeProperty(g(a)):c.removeAttribute(a))});else{if(c=e[0],d=Od[a],d&&d.get)return d.get(c);if(!c.ownerDocument.defaultView)return c.currentStyle?c.currentStyle[f(a)]:"";try{return c.ownerDocument.defaultView.getComputedStyle(c,null).getPropertyValue(g(a))}catch(h){return}}return e},remove:function(){for(var a,b=this,c=this.length;c--;)a=b[c],Ad.clean(a),a.parentNode&&a.parentNode.removeChild(a);return this},empty:function(){for(var a,b=this,c=this.length;c--;)for(a=b[c];a.firstChild;)a.removeChild(a.firstChild);return this},html:function(a){var b,c=this;if(Cd(a)){b=c.length;try{for(;b--;)c[b].innerHTML=a}catch(d){Pd(c[b]).empty().append(a)}return c}return c[0]?c[0].innerHTML:""},text:function(a){var b,c=this;if(Cd(a)){for(b=c.length;b--;)"innerText"in c[b]?c[b].innerText=a:c[0].textContent=a;return c}return c[0]?c[0].innerText||c[0].textContent:""},append:function(){return Gd(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(a)})},prepend:function(){return Gd(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(a,this.firstChild)},!0)},before:function(){var a=this;return a[0]&&a[0].parentNode?Gd(a,arguments,function(a){this.parentNode.insertBefore(a,this)}):a},after:function(){var a=this;return a[0]&&a[0].parentNode?Gd(a,arguments,function(a){this.parentNode.insertBefore(a,this.nextSibling)},!0):a},appendTo:function(a){return Pd(a).append(this),this},prependTo:function(a){return Pd(a).prepend(this),this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return Id(this,a)},wrapAll:function(a){return Id(this,a,!0)},wrapInner:function(a){return this.each(function(){Pd(this).contents().wrapAll(a)}),this},unwrap:function(){return this.parent().each(function(){Pd(this).replaceWith(this.childNodes)})},clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),Pd(a)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(a,b){var c=this;return"string"!=typeof a?c:(a.indexOf(" ")!==-1?Td(a.split(" "),function(){c.toggleClass(this,b)}):c.each(function(c,d){var e,f;f=Hd(d,a),f!==b&&(e=d.className,f?d.className=Sd((" "+e+" ").replace(" "+a+" "," ")):d.className+=e?" "+a:a)}),c)},hasClass:function(a){return Hd(this[0],a)},each:function(a){return Td(this,a)},on:function(a,b){return this.each(function(){Ad.bind(this,a,b)})},off:function(a,b){return this.each(function(){Ad.unbind(this,a,b)})},trigger:function(a){return this.each(function(){"object"==typeof a?Ad.fire(this,a.type,a):Ad.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new Pd(yd.apply(this,arguments))},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(a){var b,c,d=[];for(b=0,c=this.length;b<c;b++)Pd.find(a,this[b],d);return Pd(d)},filter:function(a){return Pd("function"==typeof a?Ud(this.toArray(),function(b,c){return a(c,b)}):Pd.filter(a,this.toArray()))},closest:function(a){var b=[];return a instanceof Pd&&(a=a[0]),this.each(function(c,d){for(;d;){if("string"==typeof a&&Pd(d).is(a)){b.push(d);break}if(d===a){b.push(d);break}d=d.parentNode}}),Pd(b)},offset:function(a){var b,c,d,e,f=0,g=0;return a?this.css(a):(b=this[0],b&&(c=b.ownerDocument,d=c.documentElement,b.getBoundingClientRect&&(e=b.getBoundingClientRect(),f=e.left+(d.scrollLeft||c.body.scrollLeft)-d.clientLeft,g=e.top+(d.scrollTop||c.body.scrollTop)-d.clientTop)),{left:f,top:g})},push:xd,sort:[].sort,splice:[].splice},vd.extend(Pd,{extend:vd.extend,makeArray:function(a){return Ed(a)||a.nodeType?[a]:vd.toArray(a)},inArray:Qd,isArray:vd.isArray,each:Td,trim:Sd,grep:Ud,find:Zc,expr:Zc.selectors,unique:Zc.uniqueSort,text:Zc.getText,contains:Zc.contains,filter:function(a,b,c){var d=b.length;for(c&&(a=":not("+a+")");d--;)1!==b[d].nodeType&&b.splice(d,1);return b=1===b.length?Pd.find.matchesSelector(b[0],a)?[b[0]]:[]:Pd.find.matches(a,b)}});var Wd=function(a,b,c){var d=[],e=a[b];for("string"!=typeof c&&c instanceof Pd&&(c=c[0]);e&&9!==e.nodeType;){if(void 0!==c){if(e===c)break;if("string"==typeof c&&Pd(e).is(c))break}1===e.nodeType&&d.push(e),e=e[b]}return d},Xd=function(a,b,c,d){var e=[];for(d instanceof Pd&&(d=d[0]);a;a=a[b])if(!c||a.nodeType===c){if(void 0!==d){if(a===d)break;if("string"==typeof d&&Pd(a).is(d))break}e.push(a)}return e},Yd=function(a,b,c){for(a=a[b];a;a=a[b])if(a.nodeType===c)return a;return null};Td({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return Wd(a,"parentNode")},next:function(a){return Yd(a,"nextSibling",1)},prev:function(a){return Yd(a,"previousSibling",1)},children:function(a){return Xd(a.firstChild,"nextSibling",1)},contents:function(a){return vd.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(a,b){Pd.fn[a]=function(c){var d=this,e=[];return d.each(function(){var a=b.call(e,this,c,e);a&&(Pd.isArray(a)?e.push.apply(e,a):e.push(a))}),this.length>1&&(Bd[a]||(e=Pd.unique(e)),0===a.indexOf("parents")&&(e=e.reverse())),e=Pd(e),c?e.filter(c):e}}),Td({parentsUntil:function(a,b){return Wd(a,"parentNode",b)},nextUntil:function(a,b){return Xd(a,"nextSibling",1,b).slice(1)},prevUntil:function(a,b){return Xd(a,"previousSibling",1,b).slice(1)}},function(a,b){Pd.fn[a]=function(c,d){var e=this,f=[];return e.each(function(){var a=b.call(f,this,c,f);a&&(Pd.isArray(a)?f.push.apply(f,a):f.push(a))}),this.length>1&&(f=Pd.unique(f),0!==a.indexOf("parents")&&"prevUntil"!==a||(f=f.reverse())),f=Pd(f),d?f.filter(d):f}}),Pd.fn.is=function(a){return!!a&&this.filter(a).length>0},Pd.fn.init.prototype=Pd.fn,Pd.overrideDefaults=function(a){var b,c=function(d,e){return b=b||a(),0===arguments.length&&(d=b.element),e||(e=b.context),new c.fn.init(d,e)};return Pd.extend(c,this),c};var Zd=function(a,b,c){Td(c,function(c,d){a[c]=a[c]||{},a[c][b]=d})};Ab.ie&&Ab.ie<8&&(Zd(Nd,"get",{maxlength:function(a){var b=a.maxLength;if(2147483647!==b)return b},size:function(a){var b=a.size;if(20!==b)return b},"class":function(a){return a.className},style:function(a){var b=a.style.cssText;if(0!==b.length)return b}}),Zd(Nd,"set",{"class":function(a,b){a.className=b},style:function(a,b){a.style.cssText=b}})),Ab.ie&&Ab.ie<9&&(Md["float"]="styleFloat",Zd(Od,"set",{opacity:function(a,b){var c=a.style;null===b||""===b?c.removeAttribute("filter"):(c.zoom=1,c.filter="alpha(opacity="+100*b+")")}})),Pd.attrHooks=Nd,Pd.cssHooks=Od;var $d,_d,ae,be=function(a){var b,c=!1;return function(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];return c||(c=!0,b=a.apply(null,d)),b}},ce=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d.test(b))return d}},de=function(a,b){var c=ce(a,b);if(!c)return{major:0,minor:0};var d=function(a){return Number(b.replace(c,"$"+a))};return ge(d(1),d(2))},ee=function(a,b){var c=String(b).toLowerCase();return 0===a.length?fe():de(a,c)},fe=function(){return ge(0,0)},ge=function(a,b){return{major:a,minor:b}},he={nu:ge,detect:ee,unknown:fe},ie="Edge",je="Chrome",ke="IE",le="Opera",me="Firefox",ne="Safari",oe=function(a,b){return function(){return b===a}},pe=function(){return qe({current:void 0,version:he.unknown()})},qe=function(a){var b=a.current,c=a.version;return{current:b,version:c,isEdge:oe(ie,b),isChrome:oe(je,b),isIE:oe(ke,b),isOpera:oe(le,b),isFirefox:oe(me,b),isSafari:oe(ne,b)}},re={unknown:pe,nu:qe,edge:ra(ie),chrome:ra(je),ie:ra(ke),opera:ra(le),firefox:ra(me),safari:ra(ne)},se="Windows",te="iOS",ue="Android",ve="Linux",we="OSX",xe="Solaris",ye="FreeBSD",ze=function(a,b){return function(){return b===a}},Ae=function(){return Be({current:void 0,version:he.unknown()})},Be=function(a){var b=a.current,c=a.version;return{current:b,version:c,isWindows:ze(se,b),isiOS:ze(te,b),isAndroid:ze(ue,b),isOSX:ze(we,b),isLinux:ze(ve,b),isSolaris:ze(xe,b),isFreeBSD:ze(ye,b)}},Ce={unknown:Ae,nu:Be,windows:ra(se),ios:ra(te),android:ra(ue),linux:ra(ve),osx:ra(we),solaris:ra(xe),freebsd:ra(ye)},De=function(a,b){var c=String(b).toLowerCase();return Ya(a,function(a){return a.search(c)})},Ee=function(a,b){return De(a,b).map(function(a){var c=he.detect(a.versionRegexes,b);return{current:a.name,version:c}})},Fe=function(a,b){return De(a,b).map(function(a){var c=he.detect(a.versionRegexes,b);return{current:a.name,version:c}})},Ge={detectBrowser:Ee,detectOs:Fe},He=function(a,b){return a.indexOf(b)!==-1},Ie=function(a){return a.replace(/^\s+|\s+$/g,"")},Je=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ke=function(a){return function(b){return He(b,a)}},Le=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(a){var b=He(a,"edge/")&&He(a,"chrome")&&He(a,"safari")&&He(a,"applewebkit");return b}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Je],search:function(a){return He(a,"chrome")&&!He(a,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(a){return He(a,"msie")||He(a,"trident")}},{name:"Opera",versionRegexes:[Je,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ke("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ke("firefox")},{name:"Safari",versionRegexes:[Je,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(a){return(He(a,"safari")||He(a,"mobile/"))&&He(a,"applewebkit")}}],Me=[{name:"Windows",search:Ke("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(a){return He(a,"iphone")||He(a,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ke("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ke("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ke("linux"),versionRegexes:[]},{name:"Solaris",search:Ke("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ke("freebsd"),versionRegexes:[]}],Ne={browsers:ra(Le),oses:ra(Me)},Oe=function(a){var b=Ne.browsers(),c=Ne.oses(),d=Ge.detectBrowser(b,a).fold(re.unknown,re.nu),e=Ge.detectOs(c,a).fold(Ce.unknown,Ce.nu),f=q(e,d,a);return{browser:d,os:e,deviceType:f}},Pe={detect:Oe},Qe=be(function(){var a=navigator.userAgent;return Pe.detect(a)}),Re={detect:Qe},Se=function(a,b){var c=b||document,d=c.createElement("div");if(d.innerHTML=a,!d.hasChildNodes()||d.childNodes.length>1)throw console.error("HTML does not have a single root node",a),"HTML must have a single root node";return Ve(d.childNodes[0])},Te=function(a,b){var c=b||document,d=c.createElement(a);return Ve(d)},Ue=function(a,b){var c=b||document,d=c.createTextNode(a);return Ve(d)},Ve=function(a){if(null===a||void 0===a)throw new Error("Node cannot be null or undefined");return{dom:ra(a)}},We=function(a,b,c){var d=a.dom();return Da.from(d.elementFromPoint(b,c)).map(Ve)},Xe={fromHtml:Se,fromTag:Te,fromText:Ue,fromDom:Ve,fromPoint:We},Ye={ATTRIBUTE:Node.ATTRIBUTE_NODE,CDATA_SECTION:Node.CDATA_SECTION_NODE,COMMENT:Node.COMMENT_NODE,DOCUMENT:Node.DOCUMENT_NODE,DOCUMENT_TYPE:Node.DOCUMENT_TYPE_NODE,DOCUMENT_FRAGMENT:Node.DOCUMENT_FRAGMENT_NODE,ELEMENT:Node.ELEMENT_NODE,TEXT:Node.TEXT_NODE,PROCESSING_INSTRUCTION:Node.PROCESSING_INSTRUCTION_NODE,ENTITY_REFERENCE:Node.ENTITY_REFERENCE_NODE,ENTITY:Node.ENTITY_NODE,NOTATION:Node.NOTATION_NODE},Ze=function(a){var b=a.dom().nodeName;return b.toLowerCase()},$e=function(a){return a.dom().nodeType},_e=function(a){return a.dom().nodeValue},af=function(a){return function(b){return $e(b)===a}},bf=function(a){return $e(a)===Ye.COMMENT||"#comment"===Ze(a)},cf=af(Ye.ELEMENT),df=af(Ye.TEXT),ef=af(Ye.DOCUMENT),ff={name:Ze,type:$e,value:_e,isElement:cf,isText:df,isDocument:ef,isComment:bf},gf=Object.keys,hf=function(a,b){for(var c=gf(a),d=0,e=c.length;d<e;d++){var f=c[d],g=a[f];b(g,f,a)}},jf=function(a,b){return kf(a,function(a,c,d){return{k:c,v:b(a,c,d)}})},kf=function(a,b){var c={};return hf(a,function(d,e){var f=b(d,e,a);c[f.k]=f.v}),c},lf=function(a,b){var c={},d={};return hf(a,function(a,e){var f=b(a,e)?c:d;f[e]=a}),{t:c,f:d}},mf=function(a,b,c){if(!(Ga(c)||Ka(c)||Ma(c)))throw console.error("Invalid call to Attr.set. Key ",b,":: Value ",c,":: Element ",a),new Error("Attribute value was not simple");a.setAttribute(b,c+"")},nf=function(a,b,c){mf(a.dom(),b,c)},of=function(a,b){var c=a.dom();hf(b,function(a,b){mf(c,b,a)})},pf=function(a,b){var c=a.dom().getAttribute(b);return null===c?void 0:c},qf=function(a,b){var c=a.dom();return!(!c||!c.hasAttribute)&&c.hasAttribute(b)},rf=function(a,b){a.dom().removeAttribute(b)},sf=function(a){var b=a.dom().attributes;return void 0===b||null===b||0===b.length},tf=function(a){return Xa(a.dom().attributes,function(a,b){return a[b.name]=b.value,a},{})},uf=function(a,b,c){qf(a,c)&&!qf(b,c)&&nf(b,c,pf(a,c))},vf=function(a,b,c){ff.isElement(a)&&ff.isElement(b)&&Sa(c,function(c){uf(a,b,c)})},wf={clone:tf,set:nf,setAll:of,get:pf,has:qf,remove:rf,hasNone:sf,transfer:vf},xf=function(a){var b=ff.isText(a)?a.dom().parentNode:a.dom();return void 0!==b&&null!==b&&b.ownerDocument.body.contains(b)},yf=be(function(){return zf(Xe.fromDom(document))}),zf=function(a){var b=a.dom().body;if(null===b||void 0===b)throw"Body is not available yet";return Xe.fromDom(b)},Af={body:yf,getBody:zf,inBody:xf},Bf=function(a){return void 0!==a.style},Cf={isSupported:Bf},Df=function(a,b,c){if(!Ga(c))throw console.error("Invalid call to CSS.set. Property ",b,":: Value ",c,":: Element ",a),new Error("CSS value must be a string: "+c);Cf.isSupported(a)&&a.style.setProperty(b,c)},Ef=function(a,b){Cf.isSupported(a)&&a.style.removeProperty(b)},Ff=function(a,b,c){var d=a.dom();Df(d,b,c)},Gf=function(a,b){var c=a.dom();hf(b,function(a,b){Df(c,b,a)})},Hf=function(a,b){var c=a.dom();hf(b,function(a,b){a.fold(function(){Ef(c,b)},function(a){Df(c,b,a)})})},If=function(a,b){var c=a.dom(),d=window.getComputedStyle(c),e=d.getPropertyValue(b),f=""!==e||Af.inBody(a)?e:Jf(c,b);return null===f?void 0:f},Jf=function(a,b){return Cf.isSupported(a)?a.style.getPropertyValue(b):""},Kf=function(a,b){var c=a.dom(),d=Jf(c,b);return Da.from(d).filter(function(a){return a.length>0})},Lf=function(a){var b={},c=a.dom();if(Cf.isSupported(c))for(var d=0;d<c.style.length;d++){var e=c.style.item(d);b[e]=c.style[e]}return b},Mf=function(a,b,c){var d=Xe.fromTag(a);Ff(d,b,c);var e=Kf(d,b);return e.isSome()},Nf=function(a,b){var c=a.dom();Ef(c,b),wf.has(a,"style")&&""===Ie(wf.get(a,"style"))&&wf.remove(a,"style")},Of=function(a,b){var c=wf.get(a,"style"),d=b(a),e=void 0===c?wf.remove:wf.set;return e(a,"style",c),d},Pf=function(a,b){var c=a.dom(),d=b.dom();Cf.isSupported(c)&&Cf.isSupported(d)&&(d.style.cssText=c.style.cssText)},Qf=function(a){return a.dom().offsetWidth},Rf=function(a,b,c){Kf(a,c).each(function(a){Kf(b,c).isNone()&&Ff(b,c,a)})},Sf=function(a,b,c){ff.isElement(a)&&ff.isElement(b)&&Sa(c,function(c){Rf(a,b,c)})},Tf={copy:Pf,set:Ff,preserve:Of,setAll:Gf,setOptions:Hf,remove:Nf,get:If,getRaw:Kf,getAllRaw:Lf,isValidValue:Mf,reflow:Qf,transfer:Sf},Uf=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];if(a.length!==b.length)throw new Error('Wrong number of arguments to struct. Expected "['+a.length+']", got '+b.length+" arguments");var d={};return Sa(a,function(a,c){d[a]=ra(b[c])}),d}},Vf=function(a,b){var c=[],d=function(a){return c.push(a),b(a)},e=b(a);do e=e.bind(d);while(e.isSome());return c},Wf={toArray:Vf},Xf=function(){var a=qb.getOrDie("Node");return a},Yf=function(a,b,c){return 0!==(a.compareDocumentPosition(b)&c)},Zf=function(a,b){return Yf(a,b,Xf().DOCUMENT_POSITION_PRECEDING)},$f=function(a,b){return Yf(a,b,Xf().DOCUMENT_POSITION_CONTAINED_BY)},_f={documentPositionPreceding:Zf,documentPositionContainedBy:$f},ag=Ye.ELEMENT,bg=Ye.DOCUMENT,cg=function(a,b){var c=a.dom();if(c.nodeType!==ag)return!1;if(void 0!==c.matches)return c.matches(b);if(void 0!==c.msMatchesSelector)return c.msMatchesSelector(b);if(void 0!==c.webkitMatchesSelector)return c.webkitMatchesSelector(b);if(void 0!==c.mozMatchesSelector)return c.mozMatchesSelector(b);throw new Error("Browser lacks native selectors")},dg=function(a){return a.nodeType!==ag&&a.nodeType!==bg||0===a.childElementCount},eg=function(a,b){var c=void 0===b?document:b.dom();return dg(c)?[]:Ra(c.querySelectorAll(a),Xe.fromDom)},fg=function(a,b){var c=void 0===b?document:b.dom();return dg(c)?Da.none():Da.from(c.querySelector(a)).map(Xe.fromDom)},gg={all:eg,is:cg,one:fg},hg=function(a,b){return a.dom()===b.dom()},ig=function(a,b){return a.dom().isEqualNode(b.dom())},jg=function(a,b){return Qa(b,ta(hg,a))},kg=function(a,b){var c=a.dom(),d=b.dom();return c!==d&&c.contains(d)},lg=function(a,b){return _f.documentPositionContainedBy(a.dom(),b.dom())},mg=Re.detect().browser,ng=mg.isIE()?lg:kg,og={eq:hg,isEqualNode:ig,member:jg,contains:ng,is:gg.is},pg=function(a){return Xe.fromDom(a.dom().ownerDocument)},qg=function(a){return Xe.fromDom(a.dom().ownerDocument.documentElement)},rg=function(a){var b=a.dom(),c=b.ownerDocument.defaultView;return Xe.fromDom(c)},sg=function(a){var b=a.dom();return Da.from(b.parentNode).map(Xe.fromDom)},tg=function(a){return sg(a).bind(function(b){var c=Bg(b);return Za(c,function(b){return og.eq(a,b)})})},ug=function(a,b){for(var c=La(b)?b:ra(!1),d=a.dom(),e=[];null!==d.parentNode&&void 0!==d.parentNode;){var f=d.parentNode,g=Xe.fromDom(f);if(e.push(g),c(g)===!0)break;d=f}return e},vg=function(a){var b=function(b){return Va(b,function(b){return!og.eq(a,b)})};return sg(a).map(Bg).map(b).getOr([])},wg=function(a){var b=a.dom();return Da.from(b.offsetParent).map(Xe.fromDom)},xg=function(a){var b=a.dom();return Da.from(b.previousSibling).map(Xe.fromDom)},yg=function(a){var b=a.dom();return Da.from(b.nextSibling).map(Xe.fromDom)},zg=function(a){return eb(Wf.toArray(a,xg))},Ag=function(a){return Wf.toArray(a,yg)},Bg=function(a){var b=a.dom();return Ra(b.childNodes,Xe.fromDom)},Cg=function(a,b){var c=a.dom().childNodes;return Da.from(c[b]).map(Xe.fromDom)},Dg=function(a){return Cg(a,0)},Eg=function(a){return Cg(a,a.dom().childNodes.length-1)},Fg=function(a){return a.dom().childNodes.length},Gg=function(a){return a.dom().hasChildNodes()},Hg=Uf("element","offset"),Ig=function(a,b){var c=Bg(a);return c.length>0&&b<c.length?Hg(c[b],0):Hg(a,b)},Jg={owner:pg,defaultView:rg,documentElement:qg,parent:sg,findIndex:tg,parents:ug,siblings:vg,prevSibling:xg,offsetParent:wg,prevSiblings:zg,nextSibling:yg,nextSiblings:Ag,children:Bg,child:Cg,firstChild:Dg,lastChild:Eg,childNodesCount:Fg,hasChildNodes:Gg,leaf:Ig},Kg=Re.detect().browser,Lg=function(a){return Ya(a,ff.isElement)},Mg=function(a){return Kg.isFirefox()&&"table"===ff.name(a)?Lg(Jg.children(a)).filter(function(a){return"caption"===ff.name(a)}).bind(function(a){return Lg(Jg.nextSiblings(a)).map(function(b){var c=b.dom().offsetTop,d=a.dom().offsetTop,e=a.dom().offsetHeight;return c<=d?-e:0})}).getOr(0):0},Ng=function(a,b,c){var d,e,f=0,g=0,h=a.ownerDocument;if(c=c?c:a,b){if(c===a&&b.getBoundingClientRect&&"static"===Tf.get(Xe.fromDom(a),"position"))return e=b.getBoundingClientRect(),f=e.left+(h.documentElement.scrollLeft||a.scrollLeft)-h.documentElement.clientLeft,g=e.top+(h.documentElement.scrollTop||a.scrollTop)-h.documentElement.clientTop,{x:f,y:g};for(d=b;d&&d!==c&&d.nodeType;)f+=d.offsetLeft||0,g+=d.offsetTop||0,d=d.offsetParent;for(d=b.parentNode;d&&d!==c&&d.nodeType;)f-=d.scrollLeft||0,g-=d.scrollTop||0,d=d.parentNode;g+=Mg(Xe.fromDom(b))}return{x:f,y:g}},Og={getPos:Ng},Pg=function(a){var b=Da.none(),c=[],d=function(a){return Pg(function(b){e(function(c){b(a(c))})})},e=function(a){g()?i(a):c.push(a)},f=function(a){b=Da.some(a),h(c),c=[]},g=function(){return b.isSome()},h=function(a){Sa(a,i)},i=function(a){b.each(function(b){setTimeout(function(){a(b)},0)})};return a(f),{get:e,map:d,isReady:g}},Qg=function(a){return Pg(function(b){b(a)})},Rg={nu:Pg,pure:Qg},Sg=function(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var d=this;setTimeout(function(){a.apply(d,b)},0)}},Tg=function(a){var b=function(b){a(Sg(b))},c=function(a){return Tg(function(c){b(function(b){var d=a(b);c(d)})})},d=function(a){return Tg(function(c){b(function(b){a(b).get(c)})})},e=function(a){return Tg(function(c){b(function(b){a.get(c)})})},f=function(){return Rg.nu(b)};return{map:c,bind:d,anonBind:e,toLazy:f,get:b}},Ug=function(a){return Tg(function(b){b(a)})},Vg={nu:Tg,pure:Ug},Wg=function(a,b){return b(function(b){var c=[],d=0,e=function(e){return function(f){c[e]=f,d++,d>=a.length&&b(c)}};0===a.length?b([]):Sa(a,function(a,b){a.get(e(b))})})},Xg=function(a){return Wg(a,Vg.nu)},Yg=function(a){var b=function(b){return a===b},c=function(b){return Yg(a)},d=function(b){return Yg(a)},e=function(b){return Yg(b(a))},f=function(b){b(a)},g=function(b){return b(a)},h=function(b,c){return c(a)},i=function(b){return b(a)},j=function(b){return b(a)},k=function(){return Da.some(a)};return{is:b,isValue:wa,isError:va,getOr:ra(a),getOrThunk:ra(a),getOrDie:ra(a),or:c,orThunk:d,fold:h,map:e,each:f,bind:g,exists:i,forall:j,toOption:k}},Zg=function(a){var b=function(a){return a()},c=function(){return ua(String(a))()},d=function(a){return a},e=function(a){return a()},f=function(b){return Zg(a)},g=function(b){return Zg(a)},h=function(b,c){return b(a)};return{is:va,isValue:va,isError:wa,getOr:sa,getOrThunk:b,getOrDie:c,or:d,orThunk:e,fold:h,map:f,each:pa,bind:g,exists:va,forall:wa,toOption:Da.none}},$g={value:Yg,error:Zg},_g=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],ah=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],bh=["td","th"],ch=["thead","tbody","tfoot"],dh=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],eh=["h1","h2","h3","h4","h5","h6"],fh=["li","dd","dt"],gh=["ul","ol","dl"],hh=["pre","script","textarea","style"],ih=function(a){var b;return function(c){return b=b?b:gb(a,ra(!0)),b.hasOwnProperty(ff.name(c))}},jh=ih(eh),kh=ih(_g),lh=function(a){return ff.isElement(a)&&!kh(a)},mh=function(a){return ff.isElement(a)&&"br"===ff.name(a)},nh=ih(dh),oh=ih(gh),ph=ih(fh),qh=ih(ah),rh=ih(ch),sh=ih(bh),th=ih(hh),uh=function(a){return function(b){return!!b&&b.nodeType===a}},vh=uh(1),wh=function(a){var b=a.toLowerCase().split(" ");return function(a){var c,d;if(a&&a.nodeType)for(d=a.nodeName.toLowerCase(),c=0;c<b.length;c++)if(d===b[c])return!0;return!1}},xh=function(a,b){var c=b.toLowerCase().split(" ");return function(b){var d,e;if(vh(b))for(d=0;d<c.length;d++){var f=b.ownerDocument.defaultView.getComputedStyle(b,null);if(e=f?f.getPropertyValue(a):null,e===c[d])return!0}return!1}},yh=function(a,b){return function(c){return vh(c)&&c[a]===b}},zh=function(a,b){return function(b){return vh(b)&&b.hasAttribute(a)}},Ah=function(a,b){return function(c){return vh(c)&&c.getAttribute(a)===b}},Bh=function(a){return vh(a)&&a.hasAttribute("data-mce-bogus")},Ch=function(a){return vh(a)&&"all"===a.getAttribute("data-mce-bogus")},Dh=function(a){return vh(a)&&"TABLE"===a.tagName},Eh=function(a){return function(b){if(vh(b)){if(b.contentEditable===a)return!0;if(b.getAttribute("data-mce-contenteditable")===a)return!0}return!1}},Fh=uh(3),Gh=uh(8),Hh=uh(9),Ih=wh("br"),Jh=Eh("true"),Kh=Eh("false"),Lh={isText:Fh,isElement:vh,isComment:Gh,isDocument:Hh,isBr:Ih,isContentEditableTrue:Jh,isContentEditableFalse:Kh,matchNodeNames:wh,hasPropValue:yh,hasAttribute:zh,hasAttributeValue:Ah,matchStyleValues:xh,isBogus:Bh,isBogusAll:Ch,isTable:Dh},Mh=function(a){var b=a.previousSibling&&"SPAN"===a.previousSibling.nodeName,c=a.nextSibling&&"SPAN"===a.nextSibling.nodeName;return b&&c},Nh=function(a){return a&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")},Oh=function(a,b){var c,d=b.childNodes;if(!Lh.isElement(b)||!Nh(b)){for(c=d.length-1;c>=0;c--)Oh(a,d[c]);if(Lh.isDocument(b)===!1){if(Lh.isText(b)&&b.nodeValue.length>0){var e=vd.trim(b.nodeValue).length;if(a.isBlock(b.parentNode)||e>0)return;if(0===e&&Mh(b))return}else if(Lh.isElement(b)&&(d=b.childNodes,1===d.length&&Nh(d[0])&&b.parentNode.insertBefore(d[0],b),d.length||qh(Xe.fromDom(b))))return;a.remove(b)}return b}},Ph={trimNode:Oh},Qh=vd.makeMap,Rh=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sh=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Th=/[<>&\"\']/g,Uh=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Vh={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};_d={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},ae={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Wh=function(a){var b;return b=Xe.fromTag("div").dom(),b.innerHTML=a,b.textContent||b.innerText||a},Xh=function(a,b){var c,d,e,f={};if(a){for(a=a.split(","),b=b||10,c=0;c<a.length;c+=2)d=String.fromCharCode(parseInt(a[c],b)),_d[d]||(e="&"+a[c+1]+";",f[d]=e,f[e]=d);return f}};$d=Xh("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Yh=function(a,b){return a.replace(b?Rh:Sh,function(a){return _d[a]||a})},Zh=function(a){return(""+a).replace(Th,function(a){return _d[a]||a})},$h=function(a,b){return a.replace(b?Rh:Sh,function(a){return a.length>1?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":_d[a]||"&#"+a.charCodeAt(0)+";"})},_h=function(a,b,c){return c=c||$d,a.replace(b?Rh:Sh,function(a){return _d[a]||c[a]||a})},ai=function(a,b){var c=Xh(b)||$d,d=function(a,b){return a.replace(b?Rh:Sh,function(a){return void 0!==_d[a]?_d[a]:void 0!==c[a]?c[a]:a.length>1?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":"&#"+a.charCodeAt(0)+";"})},e=function(a,b){return _h(a,b,c)},f=Qh(a.replace(/\+/g,","));return f.named&&f.numeric?d:f.named?b?e:_h:f.numeric?$h:Yh},bi=function(a){return a.replace(Uh,function(a,b){return b?(b="x"===b.charAt(0).toLowerCase()?parseInt(b.substr(1),16):parseInt(b,10),b>65535?(b-=65536,String.fromCharCode(55296+(b>>10),56320+(1023&b))):Vh[b]||String.fromCharCode(b)):ae[a]||$d[a]||Wh(a);
})},ci={encodeRaw:Yh,encodeAllRaw:Zh,encodeNumeric:$h,encodeNamed:_h,getEncodeFunc:ai,decode:bi},di={},ei={},fi=vd.makeMap,gi=vd.each,hi=vd.extend,ii=vd.explode,ji=vd.inArray,ki=function(a,b){return a=vd.trim(a),a?a.split(b||" "):[]},li=function(a){var b,c,d,e,f,g,h={},i=function(a,c,d){var e,f,g,i=function(a,b){var c,d,e={};for(c=0,d=a.length;c<d;c++)e[a[c]]=b||{};return e};for(d=d||[],c=c||"","string"==typeof d&&(d=ki(d)),a=ki(a),e=a.length;e--;)f=ki([b,c].join(" ")),g={attributes:i(f),attributesOrder:f,children:i(d,ei)},h[a[e]]=g},j=function(a,b){var c,d,e,f;for(a=ki(a),c=a.length,b=ki(b);c--;)for(d=h[a[c]],e=0,f=b.length;e<f;e++)d.attributes[b[e]]={},d.attributesOrder.push(b[e])};return di[a]?di[a]:(b="id accesskey class dir lang style tabindex title role",c="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",d="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==a&&(b+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",c+=" article aside details dialog figure header footer hgroup section nav",d+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==a&&(b+=" xml:lang",g="acronym applet basefont big font strike tt",d=[d,g].join(" "),gi(ki(g),function(a){i(a,"",d)}),f="center dir isindex noframes",c=[c,f].join(" "),e=[c,d].join(" "),gi(ki(f),function(a){i(a,"",e)})),e=e||[c,d].join(" "),i("html","manifest","head body"),i("head","","base command link meta noscript script style title"),i("title hr noscript br"),i("base","href target"),i("link","href rel media hreflang type sizes hreflang"),i("meta","name http-equiv content charset"),i("style","media type scoped"),i("script","src async defer type charset"),i("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",e),i("address dt dd div caption","",e),i("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",d),i("blockquote","cite",e),i("ol","reversed start type","li"),i("ul","","li"),i("li","value",e),i("dl","","dt dd"),i("a","href target rel media hreflang type",d),i("q","cite",d),i("ins del","cite datetime",e),i("img","src sizes srcset alt usemap ismap width height"),i("iframe","src name width height",e),i("embed","src type width height"),i("object","data type typemustmatch name usemap form width height",[e,"param"].join(" ")),i("param","name value"),i("map","name",[e,"area"].join(" ")),i("area","alt coords shape href target rel media hreflang type"),i("table","border","caption colgroup thead tfoot tbody tr"+("html4"===a?" col":"")),i("colgroup","span","col"),i("col","span"),i("tbody thead tfoot","","tr"),i("tr","","td th"),i("td","colspan rowspan headers",e),i("th","colspan rowspan headers scope abbr",e),i("form","accept-charset action autocomplete enctype method name novalidate target",e),i("fieldset","disabled form name",[e,"legend"].join(" ")),i("label","form for",d),i("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),i("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===a?e:d),i("select","disabled form multiple name required size","option optgroup"),i("optgroup","disabled label","option"),i("option","disabled label selected value"),i("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),i("menu","type label",[e,"li"].join(" ")),i("noscript","",e),"html4"!==a&&(i("wbr"),i("ruby","",[d,"rt rp"].join(" ")),i("figcaption","",e),i("mark rt rp summary bdi","",d),i("canvas","width height",e),i("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[e,"track source"].join(" ")),i("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[e,"track source"].join(" ")),i("picture","","img source"),i("source","src srcset type media sizes"),i("track","kind src srclang label default"),i("datalist","",[d,"option"].join(" ")),i("article section nav aside header footer","",e),i("hgroup","","h1 h2 h3 h4 h5 h6"),i("figure","",[e,"figcaption"].join(" ")),i("time","datetime",d),i("dialog","open",e),i("command","type label icon disabled checked radiogroup command"),i("output","for form name",d),i("progress","value max",d),i("meter","value min max low high optimum",d),i("details","open",[e,"summary"].join(" ")),i("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==a&&(j("script","language xml:space"),j("style","xml:space"),j("object","declare classid code codebase codetype archive standby align border hspace vspace"),j("embed","align name hspace vspace"),j("param","valuetype type"),j("a","charset name rev shape coords"),j("br","clear"),j("applet","codebase archive code object alt name width height align hspace vspace"),j("img","name longdesc align border hspace vspace"),j("iframe","longdesc frameborder marginwidth marginheight scrolling align"),j("font basefont","size color face"),j("input","usemap align"),j("select","onchange"),j("textarea"),j("h1 h2 h3 h4 h5 h6 div p legend caption","align"),j("ul","type compact"),j("li","type"),j("ol dl menu dir","compact"),j("pre","width xml:space"),j("hr","align noshade size width"),j("isindex","prompt"),j("table","summary width frame rules cellspacing cellpadding align bgcolor"),j("col","width align char charoff valign"),j("colgroup","width align char charoff valign"),j("thead","align char charoff valign"),j("tr","align char charoff valign bgcolor"),j("th","axis align char charoff valign nowrap bgcolor width height"),j("form","accept"),j("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),j("tfoot","align char charoff valign"),j("tbody","align char charoff valign"),j("area","nohref"),j("body","background bgcolor text link vlink alink")),"html4"!==a&&(j("input button select textarea","autofocus"),j("input textarea","placeholder"),j("a","download"),j("link script img","crossorigin"),j("iframe","sandbox seamless allowfullscreen")),gi(ki("a form meter progress dfn"),function(a){h[a]&&delete h[a].children[a]}),delete h.caption.children.table,delete h.script,di[a]=h,h)},mi=function(a,b){var c;return a&&(c={},"string"==typeof a&&(a={"*":a}),gi(a,function(a,d){c[d]=c[d.toUpperCase()]="map"===b?fi(a,/[, ]/):ii(a,/[, ]/)})),c},ni=function(a,b,c,d){var e=function(a){return a=parseInt(a,10).toString(16),a.length>1?a:"0"+a};return"#"+e(b)+e(c)+e(d)},oi=vd.each,pi=vd.grep,qi=Ab.ie,ri=/^([a-z0-9],?)+$/i,si=/^[ \t\r\n]*$/,ti=function(a,b,c){var d={},e=b.keep_values,f={set:function(a,d,e){b.url_converter&&(d=b.url_converter.call(b.url_converter_scope||c(),d,e,a[0])),a.attr("data-mce-"+e,d).attr(e,d)},get:function(a,b){return a.attr("data-mce-"+b)||a.attr(b)}};return d={style:{set:function(a,b){return null!==b&&"object"==typeof b?void a.css(b):(e&&a.attr("data-mce-style",b),void a.attr("style",b))},get:function(b){var c=b.attr("data-mce-style")||b.attr("style");return c=a.serialize(a.parse(c),b[0].nodeName)}}},e&&(d.href=d.src=f),d},ui=function(a,b){var c=b.attr("style"),d=a.serialize(a.parse(c),b[0].nodeName);d||(d=null),b.attr("data-mce-style",d)},vi=function(a,b){var c,d,e=0;if(a)for(c=a.nodeType,a=a.previousSibling;a;a=a.previousSibling)d=a.nodeType,(!b||3!==d||d!==c&&a.nodeValue.length)&&(e++,c=d);return e};!function(a){a.DOM=a(document),a.nodeIndex=vi}(v||(v={}));var wi=v,xi=wi.DOM,yi=vd.each,zi=vd.grep,Ai=function(a){return"function"==typeof a},Bi=function(){var a=0,b=1,c=2,d=3,e={},f=[],g={},h=[],i=0,j=function(a,b,c){var d,e,f=xi,g=function(){f.remove(e),d&&(d.onreadystatechange=d.onload=d=null),b()},h=function(){Ai(c)?c():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+a)};e=f.uniqueId(),d=document.createElement("script"),d.id=e,d.type="text/javascript",d.src=vd._addCacheSuffix(a),d.onload=g,d.onerror=h,(document.getElementsByTagName("head")[0]||document.body).appendChild(d)};this.isDone=function(a){return e[a]===c},this.markDone=function(a){e[a]=c},this.add=this.load=function(b,c,d,h){var i=e[b];void 0===i&&(f.push(b),e[b]=a),c&&(g[b]||(g[b]=[]),g[b].push({success:c,failure:h,scope:d||this}))},this.remove=function(a){delete e[a],delete g[a]},this.loadQueue=function(a,b,c){this.loadScripts(f,a,b,c)},this.loadScripts=function(a,f,k,l){var m,n=[],o=function(a,b){yi(g[b],function(b){Ai(b[a])&&b[a].call(b.scope)}),g[b]=void 0};h.push({success:f,failure:l,scope:k||this}),(m=function(){var f=zi(a);if(a.length=0,yi(f,function(a){return e[a]===c?void o("success",a):e[a]===d?void o("failure",a):void(e[a]!==b&&(e[a]=b,i++,j(a,function(){e[a]=c,i--,o("success",a),m()},function(){e[a]=d,i--,n.push(a),o("failure",a),m()})))}),!i){var g=h.slice(0);h.length=0,yi(g,function(a){0===n.length?Ai(a.success)&&a.success.call(a.scope):Ai(a.failure)&&a.failure.call(a.scope,n)})}})()}};Bi.ScriptLoader=new Bi;var Ci=vd.each;!function(a){a.PluginManager=a(),a.ThemeManager=a()}(w||(w={}));var Di=function(a,b){var c=Jg.parent(a);c.each(function(c){c.dom().insertBefore(b.dom(),a.dom())})},Ei=function(a,b){var c=Jg.nextSibling(a);c.fold(function(){var c=Jg.parent(a);c.each(function(a){Gi(a,b)})},function(a){Di(a,b)})},Fi=function(a,b){var c=Jg.firstChild(a);c.fold(function(){Gi(a,b)},function(c){a.dom().insertBefore(b.dom(),c.dom())})},Gi=function(a,b){a.dom().appendChild(b.dom())},Hi=function(a,b,c){Jg.child(a,c).fold(function(){Gi(a,b)},function(a){Di(a,b)})},Ii=function(a,b){Di(a,b),Gi(b,a)},Ji={before:Di,after:Ei,prepend:Fi,append:Gi,appendAt:Hi,wrap:Ii},Ki=function(a,b){Sa(b,function(b){Ji.before(a,b)})},Li=function(a,b){Sa(b,function(c,d){var e=0===d?a:b[d-1];Ji.after(e,c)})},Mi=function(a,b){Sa(b.slice().reverse(),function(b){Ji.prepend(a,b)})},Ni=function(a,b){Sa(b,function(b){Ji.append(a,b)})},Oi={before:Ki,after:Li,prepend:Mi,append:Ni},Pi=function(a){a.dom().textContent="",Sa(Jg.children(a),function(a){Qi(a)})},Qi=function(a){var b=a.dom();null!==b.parentNode&&b.parentNode.removeChild(b)},Ri=function(a){var b=Jg.children(a);b.length>0&&Oi.before(a,b),Qi(a)},Si={empty:Pi,remove:Qi,unwrap:Ri},Ti=function(a,b){var c=null,d=function(){null!==c&&(clearTimeout(c),c=null)},e=function(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];null===c&&(c=setTimeout(function(){a.apply(null,d),c=null},b))};return{cancel:d,throttle:e}},Ui=function(a,b){var c=null,d=function(){null!==c&&(clearTimeout(c),c=null)},e=function(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];null!==c&&clearTimeout(c),c=setTimeout(function(){a.apply(null,d),c=null},b)};return{cancel:d,throttle:e}},Vi=function(a){var b=a,c=function(){return b},d=function(a){b=a},e=function(){return Vi(c())};return{get:c,set:d,clone:e}},Wi=function(a,b){var c=wf.get(a,b);return void 0===c||""===c?[]:c.split(" ")},Xi=function(a,b,c){var d=Wi(a,b),e=d.concat([c]);return wf.set(a,b,e.join(" ")),!0},Yi=function(a,b,c){var d=Va(Wi(a,b),function(a){return a!==c});return d.length>0?wf.set(a,b,d.join(" ")):wf.remove(a,b),!1},Zi={read:Wi,add:Xi,remove:Yi},$i=function(a){return void 0!==a.dom().classList},_i=function(a){return Zi.read(a,"class")},aj=function(a,b){return Zi.add(a,"class",b)},bj=function(a,b){return Zi.remove(a,"class",b)},cj=function(a,b){return Pa(_i(a),b)?bj(a,b):aj(a,b)},dj={get:_i,add:aj,remove:bj,toggle:cj,supports:$i},ej=function(a,b){dj.supports(a)?a.dom().classList.add(b):dj.add(a,b)},fj=function(a){var b=dj.supports(a)?a.dom().classList:dj.get(a);0===b.length&&wf.remove(a,"class")},gj=function(a,b){if(dj.supports(a)){var c=a.dom().classList;c.remove(b)}else dj.remove(a,b);fj(a)},hj=function(a,b){return dj.supports(a)?a.dom().classList.toggle(b):dj.toggle(a,b)},ij=function(a,b){var c=dj.supports(a),d=a.dom().classList,e=function(){c?d.remove(b):dj.remove(a,b)},f=function(){c?d.add(b):dj.add(a,b)};return x(e,f,jj(a,b))},jj=function(a,b){return dj.supports(a)&&a.dom().classList.contains(b)},kj={add:ej,remove:gj,toggle:hj,toggler:ij,has:jj},lj=function(a){return pj(Af.body(),a)},mj=function(a,b,c){return Va(Jg.parents(a,c),b)},nj=function(a,b){return Va(Jg.siblings(a),b)},oj=function(a,b){return Va(Jg.children(a),b)},pj=function(a,b){var c=[];return Sa(Jg.children(a),function(a){b(a)&&(c=c.concat([a])),c=c.concat(pj(a,b))}),c},qj={all:lj,ancestors:mj,siblings:nj,children:oj,descendants:pj},rj=function(a){return gg.all(a)},sj=function(a,b,c){return qj.ancestors(a,function(a){return gg.is(a,b)},c)},tj=function(a,b){return qj.siblings(a,function(a){return gg.is(a,b)})},uj=function(a,b){return qj.children(a,function(a){return gg.is(a,b)})},vj=function(a,b){return gg.all(b,a)},wj={all:rj,ancestors:sj,siblings:tj,children:uj,descendants:vj},xj=function(a){return Cj(Af.body(),a)},yj=function(a,b,c){for(var d=a.dom(),e=La(c)?c:ra(!1);d.parentNode;){d=d.parentNode;var f=Xe.fromDom(d);if(b(f))return Da.some(f);if(e(f))break}return Da.none()},zj=function(a,b,c){var d=function(a){return b(a)};return y(d,yj,a,b,c)},Aj=function(a,b){var c=a.dom();return c.parentNode?Bj(Xe.fromDom(c.parentNode),function(c){return!og.eq(a,c)&&b(c)}):Da.none()},Bj=function(a,b){var c=Ya(a.dom().childNodes,qa(b,Xe.fromDom));return c.map(Xe.fromDom)},Cj=function(a,b){var c=function(a){for(var d=0;d<a.childNodes.length;d++){if(b(Xe.fromDom(a.childNodes[d])))return Da.some(Xe.fromDom(a.childNodes[d]));var e=c(a.childNodes[d]);if(e.isSome())return e}return Da.none()};return c(a.dom())},Dj={first:xj,ancestor:yj,closest:zj,sibling:Aj,child:Bj,descendant:Cj},Ej=function(a){return gg.one(a)},Fj=function(a,b,c){return Dj.ancestor(a,function(a){return gg.is(a,b)},c)},Gj=function(a,b){return Dj.sibling(a,function(a){return gg.is(a,b)})},Hj=function(a,b){return Dj.child(a,function(a){return gg.is(a,b)})},Ij=function(a,b){return gg.one(b,a)},Jj=function(a,b,c){return y(gg.is,Fj,a,b,c)},Kj={first:Ej,ancestor:Fj,sibling:Gj,child:Hj,descendant:Ij,closest:Jj},Lj=ra("mce-annotation"),Mj=ra("data-mce-annotation"),Nj=ra("data-mce-annotation-uid"),Oj=function(a,b){var c=a.selection.getRng(),d=Xe.fromDom(c.startContainer),e=Xe.fromDom(a.getBody()),f=b.fold(function(){return"."+Lj()},function(a){return"["+Mj()+'="'+a+'"]'}),g=Jg.child(d,c.startOffset).getOr(d),h=Kj.closest(g,f,function(a){return og.eq(a,e)}),i=function(a,b){return wf.has(a,b)?Da.some(wf.get(a,b)):Da.none()};return h.bind(function(b){return i(b,""+Nj()).bind(function(c){return i(b,""+Mj()).map(function(b){var d=Qj(a,c);return{uid:c,name:b,elements:d}})})})},Pj=function(a){return ff.isElement(a)&&kj.has(a,Lj())},Qj=function(a,b){var c=Xe.fromDom(a.getBody());return wj.descendants(c,"["+Nj()+'="'+b+'"]')},Rj=function(a,b){var c=Xe.fromDom(a.getBody()),d=wj.descendants(c,"["+Mj()+'="'+b+'"]'),e={};return Sa(d,function(a){var b=wf.get(a,Nj()),c=e.hasOwnProperty(b)?e[b]:[];e[b]=c.concat([a])}),e},Sj=function(a,b){var c=Vi({}),d=function(){return{listeners:[],previous:Vi(Da.none())}},e=function(a,b){f(a,function(a){return b(a),a})},f=function(a,b){var e=c.get(),f=e.hasOwnProperty(a)?e[a]:d(),g=b(f);e[a]=g,c.set(e)},g=function(a,b,c){e(a,function(d){Sa(d.listeners,function(d){return d(!0,a,{uid:b,nodes:Ra(c,function(a){return a.dom()})})})})},h=function(a){e(a,function(b){Sa(b.listeners,function(b){return b(!1,a)})})},i=Ui(function(){var b=c.get(),d=hb(gf(b));Sa(d,function(b){f(b,function(c){var d=c.previous.get();return Oj(a,Da.some(b)).fold(function(){d.isSome()&&(h(b),c.previous.set(Da.none()))},function(a){var b=a.uid,e=a.name,f=a.elements;d.is(b)||(g(e,b,f),c.previous.set(Da.some(b)))}),{previous:c.previous,listeners:c.listeners}})})},30);a.on("remove",function(){i.cancel()}),a.on("nodeChange",function(){i.throttle()});var j=function(a,b){f(a,function(a){return{previous:a.previous,listeners:a.listeners.concat([b])}})};return{addListener:j}},Tj=function(a,b){var c=function(a){var c=Da.from(a.attributes.map[Mj()]);return c.bind(b.lookup)};a.on("init",function(){a.serializer.addNodeFilter("span",function(a){Sa(a,function(a){c(a).each(function(b){b.persistent===!1&&a.unwrap()})})})})},Uj=function(){var a={},b=function(b,c){a[b]={name:b,settings:c}},c=function(b){return a.hasOwnProperty(b)?Da.from(a[b]).map(function(a){return a.settings}):Da.none()};return{register:b,lookup:c}},Vj=0,Wj=function(a){var b=new Date,c=b.getTime(),d=Math.floor(1e9*Math.random());return Vj++,a+"_"+d+Vj+String(c)},Xj=function(a,b){Sa(b,function(b){kj.add(a,b)})},Yj=function(a,b){Sa(b,function(b){kj.remove(a,b)})},Zj=function(a,b){Sa(b,function(b){kj.toggle(a,b)})},$j=function(a,b){return cb(b,function(b){return kj.has(a,b)})},_j=function(a,b){return Qa(b,function(b){return kj.has(a,b)})},ak=function(a){for(var b=a.dom().classList,c=new Array(b.length),d=0;d<b.length;d++)c[d]=b.item(d);return c},bk=function(a){return dj.supports(a)?ak(a):dj.get(a)},ck={add:Xj,remove:Yj,toggle:Zj,hasAll:$j,hasAny:_j,get:bk},dk=function(a,b){return Xe.fromDom(a.dom().cloneNode(b))},ek=function(a){return dk(a,!1)},fk=function(a){return dk(a,!0)},gk=function(a,b){var c=Xe.fromTag(b),d=wf.clone(a);return wf.setAll(c,d),c},hk=function(a,b){var c=gk(a,b),d=Jg.children(fk(a));return Oi.append(c,d),c},ik=function(a,b){var c=gk(a,b);Ji.before(a,c);var d=Jg.children(a);return Oi.append(c,d),Si.remove(a),c},jk={shallow:ek,shallowAs:gk,deep:fk,copy:hk,mutate:ik},kk=[].slice,lk=function(a){return function(){return a}},mk=function(a){return function(b){return!a(b)}},nk=function(a,b){return function(c){return a(b(c))}},ok=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=kk.call(arguments);return function(a){for(var b=0;b<c.length;b++)if(c[b](a))return!0;return!1}},pk=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=kk.call(arguments);return function(a){for(var b=0;b<c.length;b++)if(!c[b](a))return!1;return!0}},qk=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var d=kk.call(arguments);return d.length-1>=a.length?a.apply(this,d.slice(1)):function(){var a=d.concat([].slice.call(arguments));return qk.apply(this,a)}},rk=function(){},sk={constant:lk,negate:mk,and:pk,or:ok,curry:qk,compose:nk,noop:rk},tk="\ufeff",uk=function(a){return a===tk},vk=function(a){return a.replace(new RegExp(tk,"g"),"")},wk={isZwsp:uk,ZWSP:tk,trim:vk},xk=Lh.isElement,yk=Lh.isText,zk=function(a){return yk(a)&&(a=a.parentNode),xk(a)&&a.hasAttribute("data-mce-caret")},Ak=function(a){return yk(a)&&wk.isZwsp(a.data)},Bk=function(a){return zk(a)||Ak(a)},Ck=function(a){return a.firstChild!==a.lastChild||!Lh.isBr(a.firstChild)},Dk=function(a,b){var c,d,e,f;if(c=a.ownerDocument,e=c.createTextNode(wk.ZWSP),f=a.parentNode,b){if(d=a.previousSibling,yk(d)){if(Bk(d))return d;if(Jk(d))return d.splitText(d.data.length-1)}f.insertBefore(e,a)}else{if(d=a.nextSibling,yk(d)){if(Bk(d))return d;if(Ik(d))return d.splitText(1),d}a.nextSibling?f.insertBefore(e,a.nextSibling):f.appendChild(e)}return e},Ek=function(a){var b=a.container();return a&&Lh.isText(b)&&b.data.charAt(a.offset())===wk.ZWSP},Fk=function(a){var b=a.container();return a&&Lh.isText(b)&&b.data.charAt(a.offset()-1)===wk.ZWSP},Gk=function(){var a=document.createElement("br");return a.setAttribute("data-mce-bogus","1"),a},Hk=function(a,b,c){var d,e,f;return d=b.ownerDocument,e=d.createElement(a),e.setAttribute("data-mce-caret",c?"before":"after"),e.setAttribute("data-mce-bogus","all"),e.appendChild(Gk()),f=b.parentNode,c?f.insertBefore(e,b):b.nextSibling?f.insertBefore(e,b.nextSibling):f.appendChild(e),e},Ik=function(a){return yk(a)&&a.data[0]===wk.ZWSP},Jk=function(a){return yk(a)&&a.data[a.data.length-1]===wk.ZWSP},Kk=function(a){var b=a.getElementsByTagName("br"),c=b[b.length-1];Lh.isBogus(c)&&c.parentNode.removeChild(c)},Lk=function(a){return a&&a.hasAttribute("data-mce-caret")?(Kk(a),a.removeAttribute("data-mce-caret"),a.removeAttribute("data-mce-bogus"),a.removeAttribute("style"),a.removeAttribute("_moz_abspos"),a):null},Mk=function(a){return zk(a.startContainer)},Nk=Lh.isContentEditableTrue,Ok=Lh.isContentEditableFalse,Pk=Lh.isBr,Qk=Lh.isText,Rk=Lh.matchNodeNames("script style textarea"),Sk=Lh.matchNodeNames("img input textarea hr iframe video audio object"),Tk=Lh.matchNodeNames("table"),Uk=Bk,Vk=function(a){return!Uk(a)&&(Qk(a)?!Rk(a.parentNode):Sk(a)||Pk(a)||Tk(a)||Xk(a))},Wk=function(a){return Lh.isElement(a)&&"true"===a.getAttribute("unselectable")},Xk=function(a){return Wk(a)===!1&&Ok(a)},Yk=function(a,b){for(a=a.parentNode;a&&a!==b;a=a.parentNode){if(Xk(a))return!1;if(Nk(a))return!0}return!0},Zk=function(a){return!!Xk(a)&&id.reduce(a.getElementsByTagName("*"),function(a,b){return a||Nk(b)},!1)!==!0},$k=function(a){return Sk(a)||Zk(a)},_k=function(a,b){return Vk(a)&&Yk(a,b)},al=Math.round,bl=function(a){return a?{left:al(a.left),top:al(a.top),bottom:al(a.bottom),right:al(a.right),width:al(a.width),height:al(a.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},cl=function(a,b){return a=bl(a),b?a.right=a.left:(a.left=a.left+a.width,a.right=a.left),a.width=0,a},dl=function(a,b){return a.left===b.left&&a.top===b.top&&a.bottom===b.bottom&&a.right===b.right},el=function(a,b,c){return a>=0&&a<=Math.min(b.height,c.height)/2},fl=function(a,b){return a.bottom-a.height/2<b.top||!(a.top>b.bottom)&&el(b.top-a.bottom,a,b)},gl=function(a,b){return a.top>b.bottom||!(a.bottom<b.top)&&el(b.bottom-a.top,a,b)},hl=function(a,b,c){return b>=a.left&&b<=a.right&&c>=a.top&&c<=a.bottom},il=function(a,b){return b.left>a.left&&b.right<a.right?0:b.left<a.left?b.left-a.left:b.right-a.right},jl=function(a,b){return b.top>a.top&&b.bottom<a.bottom?0:b.top<a.top?b.top-a.top:b.bottom-a.bottom},kl=function(a,b){return{x:il(a,b),y:jl(a,b)}},ll=function(a){var b=a.startContainer,c=a.startOffset;return b.hasChildNodes()&&a.endOffset===c+1?b.childNodes[c]:null},ml=function(a,b){return 1===a.nodeType&&a.hasChildNodes()&&(b>=a.childNodes.length&&(b=a.childNodes.length-1),a=a.childNodes[b]),a},nl=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),ol=function(a){return"string"==typeof a&&a.charCodeAt(0)>=768&&nl.test(a)},pl=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d];if(!e.isSome())return Da.none();c.push(e.getOrDie())}return Da.some(b.apply(null,c))},ql=Lh.isElement,rl=Vk,sl=Lh.matchStyleValues("display","block table"),tl=Lh.matchStyleValues("float","left right"),ul=sk.and(ql,rl,sk.negate(tl)),vl=sk.negate(Lh.matchStyleValues("white-space","pre pre-line pre-wrap")),wl=Lh.isText,xl=Lh.isBr,yl=wi.nodeIndex,zl=ml,Al=function(a){return"createRange"in a?a.createRange():wi.DOM.createRng()},Bl=function(a){return a&&/[\r\n\t ]/.test(a)},Cl=function(a){return!!a.setStart&&!!a.setEnd},Dl=function(a){var b,c=a.startContainer,d=a.startOffset;return!!(Bl(a.toString())&&vl(c.parentNode)&&Lh.isText(c)&&(b=c.data,Bl(b[d-1])||Bl(b[d+1])))},El=function(a){var b,c=a.ownerDocument,d=Al(c),e=c.createTextNode(" "),f=a.parentNode;return f.insertBefore(e,a),d.setStart(e,0),d.setEnd(e,1),b=bl(d.getBoundingClientRect()),f.removeChild(e),b},Fl=function(a){var b=a.startContainer,c=a.endContainer,d=a.startOffset,e=a.endOffset;if(b===c&&Lh.isText(c)&&0===d&&1===e){var f=a.cloneRange();return f.setEndAfter(c),Hl(f)}return null},Gl=function(a){return 0===a.left&&0===a.right&&0===a.top&&0===a.bottom},Hl=function(a){var b,c;return c=a.getClientRects(),b=bl(c.length>0?c[0]:a.getBoundingClientRect()),!Cl(a)&&xl(a)&&Gl(b)?El(a):Gl(b)&&Cl(a)?Fl(a):b},Il=function(a,b){var c=cl(a,b);return c.width=1,c.right=c.left+1,c},Jl=function(a){var b,c,d=[],e=function(a){0!==a.height&&(d.length>0&&dl(a,d[d.length-1])||d.push(a))},f=function(a,b){var c=Al(a.ownerDocument);if(b<a.data.length){if(ol(a.data[b]))return d;if(ol(a.data[b-1])&&(c.setStart(a,b),c.setEnd(a,b+1),!Dl(c)))return e(Il(Hl(c),!1)),d}b>0&&(c.setStart(a,b-1),c.setEnd(a,b),Dl(c)||e(Il(Hl(c),!1))),b<a.data.length&&(c.setStart(a,b),c.setEnd(a,b+1),Dl(c)||e(Il(Hl(c),!0)))};if(wl(a.container()))return f(a.container(),a.offset()),d;if(ql(a.container()))if(a.isAtEnd())c=zl(a.container(),a.offset()),wl(c)&&f(c,c.data.length),ul(c)&&!xl(c)&&e(Il(Hl(c),!1));else{if(c=zl(a.container(),a.offset()),wl(c)&&f(c,0),ul(c)&&a.isAtEnd())return e(Il(Hl(c),!1)),d;b=zl(a.container(),a.offset()-1),ul(b)&&!xl(b)&&(sl(b)||sl(c)||!ul(c))&&e(Il(Hl(b),!1)),ul(c)&&e(Il(Hl(c),!0))}return d};!function(a){a.fromRangeStart=function(b){return a(b.startContainer,b.startOffset)},a.fromRangeEnd=function(b){return a(b.endContainer,b.endOffset)},a.after=function(b){return a(b.parentNode,yl(b)+1)},a.before=function(b){return a(b.parentNode,yl(b))},a.isAbove=function(a,b){return pl([ib(b.getClientRects()),jb(a.getClientRects())],fl).getOr(!1)},a.isBelow=function(a,b){return pl([jb(b.getClientRects()),ib(a.getClientRects())],gl).getOr(!1)},a.isAtStart=function(a){return!!a&&a.isAtStart()},a.isAtEnd=function(a){return!!a&&a.isAtEnd()},a.isTextPosition=function(a){return!!a&&Lh.isText(a.container())},a.isElementPosition=function(b){return a.isTextPosition(b)===!1}}(z||(z={}));var Kl,Ll=z,Ml=Lh.isText,Nl=Lh.isBogus,Ol=wi.nodeIndex,Pl=function(a){var b=a.parentNode;return Nl(b)?Pl(b):b},Ql=function(a){return a?id.reduce(a.childNodes,function(a,b){return Nl(b)&&"BR"!==b.nodeName?a=a.concat(Ql(b)):a.push(b),a},[]):[]},Rl=function(a,b){for(;(a=a.previousSibling)&&Ml(a);)b+=a.data.length;return b},Sl=function(a){return function(b){return a===b}},Tl=function(a){var b,c,d;return b=Ql(Pl(a)),c=id.findIndex(b,Sl(a),a),b=b.slice(0,c+1),d=id.reduce(b,function(a,c,d){return Ml(c)&&Ml(b[d-1])&&a++,a},0),b=id.filter(b,Lh.matchNodeNames(a.nodeName)),c=id.findIndex(b,Sl(a),a),c-d},Ul=function(a){var b;return b=Ml(a)?"text()":a.nodeName.toLowerCase(),b+"["+Tl(a)+"]"},Vl=function(a,b,c){var d=[];for(b=b.parentNode;b!==a&&(!c||!c(b));b=b.parentNode)d.push(b);return d},Wl=function(a,b){var c,d,e,f,g,h=[];return c=b.container(),d=b.offset(),Ml(c)?e=Rl(c,d):(f=c.childNodes,d>=f.length?(e="after",d=f.length-1):e="before",c=f[d]),h.push(Ul(c)),g=Vl(a,c),g=id.filter(g,sk.negate(Lh.isBogus)),h=h.concat(id.map(g,function(a){return Ul(a)})),h.reverse().join("/")+","+e},Xl=function(a,b,c){var d=Ql(a);return d=id.filter(d,function(a,b){return!Ml(a)||!Ml(d[b-1])}),d=id.filter(d,Lh.matchNodeNames(b)),d[c]},Yl=function(a,b){for(var c,d=a,e=0;Ml(d);){if(c=d.data.length,b>=e&&b<=e+c){a=d,b-=e;break}if(!Ml(d.nextSibling)){a=d,b=c;break}e+=c,d=d.nextSibling}return Ml(a)&&b>a.data.length&&(b=a.data.length),Ll(a,b)},Zl=function(a,b){var c,d,e;return b?(c=b.split(","),b=c[0].split("/"),e=c.length>1?c[1]:"before",d=id.reduce(b,function(a,b){return(b=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b))?("text()"===b[1]&&(b[1]="#text"),Xl(a,b[1],parseInt(b[2],10))):null},a),d?Ml(d)?Yl(d,parseInt(e,10)):(e="after"===e?Ol(d)+1:Ol(d),Ll(d.parentNode,e)):null):null},$l=Lh.isContentEditableFalse,_l=function(a,b,c){var d,e;for(e=a(b.data.slice(0,c)).length,d=b.previousSibling;d&&Lh.isText(d);d=d.previousSibling)e+=a(d.data).length;return e},am=function(a,b,c,d,e){var f,g=d[e?"startContainer":"endContainer"],h=d[e?"startOffset":"endOffset"],i=[],j=0,k=a.getRoot();for(Lh.isText(g)?i.push(c?_l(b,g,h):h):(f=g.childNodes,h>=f.length&&f.length&&(j=1,h=Math.max(0,f.length-1)),i.push(a.nodeIndex(f[h],c)+j));g&&g!==k;g=g.parentNode)i.push(a.nodeIndex(g,c));return i},bm=function(a,b,c,d){var e=b.dom,f={};return f.start=am(e,a,c,d,!0),b.isCollapsed()||(f.end=am(e,a,c,d,!1)),f},cm=function(a){Lh.isText(a)&&0===a.data.length&&a.parentNode.removeChild(a)},dm=function(a,b,c){var d=0;return vd.each(a.select(b),function(a){if("all"!==a.getAttribute("data-mce-bogus"))return a!==c&&void d++}),d},em=function(a,b){var c,d,e,f=b?"start":"end";c=a[f+"Container"],d=a[f+"Offset"],Lh.isElement(c)&&"TR"===c.nodeName&&(e=c.childNodes,c=e[Math.min(b?d:d-1,e.length-1)],c&&(d=b?0:c.childNodes.length,a["set"+(b?"Start":"End")](c,d)))},fm=function(a){return em(a,!0),em(a,!1),a},gm=function(a,b){var c;if(Lh.isElement(a)&&(a=ml(a,b),$l(a)))return a;if(Bk(a)){if(Lh.isText(a)&&zk(a)&&(a=a.parentNode),c=a.previousSibling,$l(c))return c;if(c=a.nextSibling,$l(c))return c}},hm=function(a){return gm(a.startContainer,a.startOffset)||gm(a.endContainer,a.endOffset)},im=function(a,b,c){var d=c.getNode(),e=d?d.nodeName:null,f=c.getRng();if($l(d)||"IMG"===e)return{name:e,index:dm(c.dom,e,d)};var g=hm(f);return g?(e=g.tagName,{name:e,index:dm(c.dom,e,g)}):bm(a,c,b,f)},jm=function(a){var b=a.getRng();return{start:Wl(a.dom.getRoot(),Ll.fromRangeStart(b)),end:Wl(a.dom.getRoot(),Ll.fromRangeEnd(b))}},km=function(a){return{rng:a.getRng()}},lm=function(a,b,c){var d={"data-mce-type":"bookmark",id:b,style:"overflow:hidden;line-height:0px"};return c?a.create("span",d,"&#xFEFF;"):a.create("span",d)},mm=function(a,b){var c=a.dom,d=a.getRng(),e=c.uniqueId(),f=a.isCollapsed(),g=a.getNode(),h=g.nodeName;if("IMG"===h)return{name:h,index:dm(c,h,g)};var i=fm(d.cloneRange());if(!f){i.collapse(!1);var j=lm(c,e+"_end",b);i.insertNode(j),cm(j.nextSibling)}d=fm(d),d.collapse(!0);var k=lm(c,e+"_start",b);return d.insertNode(k),cm(k.previousSibling),a.moveToBookmark({id:e,keep:1}),{id:e}},nm=function(a,b,c){return 2===b?im(wk.trim,c,a):3===b?jm(a):b?km(a):mm(a,!1)},om={getBookmark:nm,getUndoBookmark:ta(im,sa,!0),getPersistentBookmark:mm},pm="_mce_caret",qm=function(a){return Lh.isElement(a)&&a.id===pm},rm=function(a,b){for(;b&&b!==a;){if(b.id===pm)return b;b=b.parentNode}return null},sm=Lh.isElement,tm=Lh.isText,um=function(a){var b=a.parentNode;b&&b.removeChild(a)},vm=function(a){try{return a.nodeValue}catch(b){return""}},wm=function(a,b){0===b.length?um(a):a.nodeValue=b},xm=function(a){var b=wk.trim(a);return{count:a.length-b.length,text:b}},ym=function(a,b){return Em(a),b},zm=function(a,b){var c=xm(a.data.substr(0,b.offset())),d=xm(a.data.substr(b.offset())),e=c.text+d.text;return e.length>0?(wm(a,e),Ll(a,b.offset()-c.count)):b},Am=function(a,b){var c=b.container(),d=Oa(kb(c.childNodes),a).map(function(a){return a<b.offset()?Ll(c,b.offset()-1):b}).getOr(b);return Em(a),d},Bm=function(a,b){return tm(a)&&b.container()===a?zm(a,b):ym(a,b)},Cm=function(a,b){return b.container()===a.parentNode?Am(a,b):ym(a,b)},Dm=function(a,b){return Ll.isTextPosition(b)?Bm(a,b):Cm(a,b)},Em=function(a){if(sm(a)&&Bk(a)&&(Ck(a)?a.removeAttribute("data-mce-caret"):um(a)),tm(a)){var b=wk.trim(vm(a));wm(a,b)}},Fm={removeAndReposition:Dm,remove:Em},Gm=Lh.isContentEditableTrue,Hm=Lh.isContentEditableFalse,Im=function(a,b,c,d,e){return b._selectionOverrides.showCaret(a,c,d,e)},Jm=function(a){var b=a.ownerDocument.createRange();return b.selectNode(a),b},Km=function(a,b){var c=a.fire("BeforeObjectSelected",{target:b});return c.isDefaultPrevented()?null:Jm(b)},Lm=function(a,b,c){var d=Lo(1,a.getBody(),b),e=Ll.fromRangeStart(d),f=e.getNode();if(Hm(f))return Im(1,a,f,!e.isAtEnd(),!1);var g=e.getNode(!0);if(Hm(g))return Im(1,a,g,!1,!1);var h=a.dom.getParent(e.getNode(),function(a){return Hm(a)||Gm(a)});return Hm(h)?Im(1,a,h,!1,c):null},Mm=function(a,b,c){if(!b||!b.collapsed)return b;var d=Lm(a,b,c);return d?d:b};!function(a){a[a.Backwards=-1]="Backwards",a[a.Forwards=1]="Forwards"}(Kl||(Kl={}));var Nm,Om=Lh.isContentEditableFalse,Pm=Lh.isText,Qm=Lh.isElement,Rm=Lh.isBr,Sm=Vk,Tm=$k,Um=_k,Vm=function(a,b){for(var c=[];a&&a!==b;)c.push(a),a=a.parentNode;return c},Wm=function(a,b){return a.hasChildNodes()&&b<a.childNodes.length?a.childNodes[b]:null;
},Xm=function(a,b){if(zo(a)){if(Sm(b.previousSibling)&&!Pm(b.previousSibling))return Ll.before(b);if(Pm(b))return Ll(b,0)}if(Ao(a)){if(Sm(b.nextSibling)&&!Pm(b.nextSibling))return Ll.after(b);if(Pm(b))return Ll(b,b.data.length)}return Ao(a)?Rm(b)?Ll.before(b):Ll.after(b):Ll.before(b)},Ym=function(a,b){var c;return!!Lh.isBr(a)&&(c=Zm(1,Ll.after(a),b),!!c&&!Eo(Ll.before(a),Ll.before(c),b))},Zm=function(a,b,c){var d,e,f,g,h;if(!Qm(c)||!b)return null;if(b.isEqual(Ll.after(c))&&c.lastChild){if(h=Ll.after(c.lastChild),Ao(a)&&Sm(c.lastChild)&&Qm(c.lastChild))return Rm(c.lastChild)?Ll.before(c.lastChild):h}else h=b;var i=h.container(),j=h.offset();if(Pm(i)){if(Ao(a)&&j>0)return Ll(i,--j);if(zo(a)&&j<i.length)return Ll(i,++j);d=i}else{if(Ao(a)&&j>0&&(e=Wm(i,j-1),Sm(e)))return!Tm(e)&&(f=Co(e,a,Um,e))?Pm(f)?Ll(f,f.data.length):Ll.after(f):Pm(e)?Ll(e,e.data.length):Ll.before(e);if(zo(a)&&j<i.childNodes.length&&(e=Wm(i,j),Sm(e)))return Rm(e)&&c.lastChild===e?null:Ym(e,c)?Zm(a,Ll.after(e),c):!Tm(e)&&(f=Co(e,a,Um,e))?Pm(f)?Ll(f,0):Ll.before(f):Pm(e)?Ll(e,0):Ll.after(e);d=e?e:h.getNode()}return(zo(a)&&h.isAtEnd()||Ao(a)&&h.isAtStart())&&(d=Co(d,a,sk.constant(!0),c,!0),Um(d,c))?Xm(a,d):(e=Co(d,a,Um,c),g=id.last(id.filter(Vm(i,c),Om)),!g||e&&g.contains(e)?e?Xm(a,e):null:h=zo(a)?Ll.after(g):Ll.before(g))},$m=function(a){return{next:function(b){return Zm(Kl.Forwards,b,a)},prev:function(b){return Zm(Kl.Backwards,b,a)}}};!function(a){a[a.Br=0]="Br",a[a.Block=1]="Block",a[a.Wrap=2]="Wrap",a[a.Eol=3]="Eol"}(Nm||(Nm={}));var _m=function(a,b){return a===Kl.Backwards?b.reverse():b},an=function(a,b,c){return a===Kl.Forwards?b.next(c):b.prev(c)},bn=function(a,b,c,d){return Lh.isBr(d.getNode(b===Kl.Forwards))?Nm.Br:Eo(c,d)===!1?Nm.Block:Nm.Wrap},cn=function(a,b,c,d){for(var e,f=$m(c),g=d,h=[];g&&(e=an(b,f,g));){if(Lh.isBr(e.getNode(!1)))return b===Kl.Forwards?{positions:_m(b,h).concat([e]),breakType:Nm.Br,breakAt:Da.some(e)}:{positions:_m(b,h),breakType:Nm.Br,breakAt:Da.some(e)};if(e.isVisible()){if(a(g,e)){var i=bn(c,b,g,e);return{positions:_m(b,h),breakType:i,breakAt:Da.some(e)}}h.push(e),g=e}else g=e}return{positions:_m(b,h),breakType:Nm.Eol,breakAt:Da.none()}},dn=function(a,b,c,d){return b(c,d).breakAt.map(function(d){var e=b(c,d).positions;return a===Kl.Backwards?e.concat(d):[d].concat(e)}).getOr([])},en=function(a,b){return Xa(a,function(a,c){return a.fold(function(){return Da.some(c)},function(d){return pl([ib(d.getClientRects()),ib(c.getClientRects())],function(a,e){var f=Math.abs(b-a.left),g=Math.abs(b-e.left);return g<=f?c:d}).or(a)})},Da.none())},fn=function(a,b){return ib(b.getClientRects()).bind(function(b){return en(a,b.left)})},gn=ta(cn,z.isAbove,-1),hn=ta(cn,z.isBelow,1),jn=ta(dn,-1,gn),kn=ta(dn,1,hn),ln=function(a){return cp.firstPositionIn(a).map(function(b){return[b].concat(hn(a,b).positions)}).getOr([])},mn=function(a){return cp.lastPositionIn(a).map(function(b){return gn(a,b).positions.concat(b)}).getOr([])},nn=function(a,b){return{left:a.left-b,top:a.top-b,right:a.right+2*b,bottom:a.bottom+2*b,width:a.width+b,height:a.height+b}},on=function(a,b){return bb(b,function(b){var c=nn(b.getBoundingClientRect(),-1);return[{x:c.left,y:a(c),cell:b},{x:c.right,y:a(c),cell:b}]})},pn=function(a,b,c){return Xa(a,function(a,d){return a.fold(function(){return Da.some(d)},function(a){var e=Math.sqrt(Math.abs(a.x-b)+Math.abs(a.y-c)),f=Math.sqrt(Math.abs(d.x-b)+Math.abs(d.y-c));return Da.some(f<e?d:a)})},Da.none())},qn=function(a,b,c,d,e){var f=wj.descendants(Xe.fromDom(c),"td,th").map(function(a){return a.dom()}),g=Va(on(a,f),function(a){return b(a,e)});return pn(g,d,e).map(function(a){return a.cell})},rn=function(a){return a.bottom},sn=function(a){return a.top},tn=function(a,b){return a.y<b},un=function(a,b){return a.y>b},vn=ta(qn,rn,tn),wn=ta(qn,sn,un),xn=function(a,b){return ib(b.getClientRects()).bind(function(b){return vn(a,b.left,b.top)}).bind(function(a){return fn(mn(a),b)})},yn=function(a,b){return jb(b.getClientRects()).bind(function(b){return wn(a,b.left,b.top)}).bind(function(a){return fn(ln(a),b)})},zn=function(a){for(var b=0,c=0,d=a;d&&d.nodeType;)b+=d.offsetLeft||0,c+=d.offsetTop||0,d=d.offsetParent;return{x:b,y:c}},An=function(a,b,c){var d={elm:b,alignToTop:c};return a.fire("scrollIntoView",d),d.isDefaultPrevented()},Bn=function(a,b,c){var d,e,f,g,h=a.dom,i=h.getRoot(),j=0;if(!An(a,b,c)&&Lh.isElement(b)){if(c===!1&&(j=b.offsetHeight),"BODY"!==i.nodeName){var k=a.selection.getScrollContainer();if(k)return d=zn(b).y-zn(k).y+j,g=k.clientHeight,f=k.scrollTop,void((d<f||d+25>f+g)&&(k.scrollTop=d<f?d:d-g+25))}e=h.getViewPort(a.getWin()),d=h.getPos(b).y+j,f=e.y,g=e.h,(d<e.y||d+25>f+g)&&a.getWin().scrollTo(0,d<f?d:d-g+25)}},Cn=function(a){if(a.inline)return a.getBody().getBoundingClientRect();var b=a.getWin();return{left:0,right:b.innerWidth,top:0,bottom:b.innerHeight,width:b.innerWidth,height:b.innerHeight}},Dn=function(a,b,c){a.inline?(a.getBody().scrollLeft+=b,a.getBody().scrollTop+=c):a.getWin().scrollBy(b,c)},En=function(a,b){ib(z.fromRangeStart(b).getClientRects()).each(function(b){var c=Cn(a),d=kl(c,b),e=4,f=d.x>0?d.x+e:d.x-e,g=d.y>0?d.y+e:d.y-e;Dn(a,0!==d.x?f:0,0!==d.y?g:0)})},Fn={scrollElementIntoView:Bn,scrollRangeIntoView:En},Gn=function(a,b,c){var d=a.getParam(b,c);if(d.indexOf("=")!==-1){var e=a.getParam(b,"","hash");return e.hasOwnProperty(a.id)?e[a.id]:c}return d},Hn=function(a){return a.getParam("iframe_attrs",{})},In=function(a){return a.getParam("doctype","<!DOCTYPE html>")},Jn=function(a){return a.getParam("document_base_url","")},Kn=function(a){return Gn(a,"body_id","tinymce")},Ln=function(a){return Gn(a,"body_class","")},Mn=function(a){return a.getParam("content_security_policy","")},Nn=function(a){return a.getParam("br_in_pre",!0)},On=function(a){if(a.getParam("force_p_newlines",!1))return"p";var b=a.getParam("forced_root_block","p");return b===!1?"":b},Pn=function(a){return a.getParam("forced_root_block_attrs",{})},Qn=function(a){return a.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Rn=function(a){return a.getParam("no_newline_selector","")},Sn=function(a){return a.getParam("keep_styles",!0)},Tn=function(a){return a.getParam("end_container_on_empty_block",!1)},Un=function(a){return vd.explode(a.getParam("font_size_style_values",""))},Vn=function(a){return vd.explode(a.getParam("font_size_classes",""))},Wn={getIframeAttrs:Hn,getDocType:In,getDocumentBaseUrl:Jn,getBodyId:Kn,getBodyClass:Ln,getContentSecurityPolicy:Mn,shouldPutBrInPre:Nn,getForcedRootBlock:On,getForcedRootBlockAttrs:Pn,getBrNewLineSelector:Qn,getNoNewLineSelector:Rn,shouldKeepStyles:Sn,shouldEndContainerOnEmptyBlock:Tn,getFontStyleValues:Un,getFontSizeClasses:Vn},Xn=Re.detect().browser,Yn=function(){return Xn.isIE()||Xn.isEdge()||Xn.isFirefox()},Zn=function(a,b){a.selection.setRng(b),Fn.scrollRangeIntoView(a,b)},$n=function(a,b,c){var d=a(b,c);return d.breakType===Nm.Wrap&&0===d.positions.length?d.breakAt.map(function(c){return a(b,c).breakAt.isNone()}).getOr(!0):d.breakAt.isNone()},_n=sk.curry($n,gn),ao=sk.curry($n,hn),bo=function(a,b,c){var d=Ll.fromRangeStart(b);return cp.positionIn(!a,c).map(function(a){return a.isEqual(d)}).getOr(!1)},co=function(a,b,c,d){var e=a.selection.getRng(),f=b?1:-1;if(Yn()&&bo(b,e,c)){var g=Im(f,a,c,!b,!0);return Zn(a,g),!0}return!1},eo=function(a,b,c){return xn(b,c).orThunk(function(){return ib(c.getClientRects()).bind(function(c){return en(jn(a,Ll.before(b)),c.left)})}).getOr(Ll.before(b))},fo=function(a,b,c){return yn(b,c).orThunk(function(){return ib(c.getClientRects()).bind(function(c){return en(kn(a,Ll.after(b)),c.left)})}).getOr(Ll.after(b))},go=function(a,b){var c=b.getNode(a);return Lh.isElement(c)&&"TABLE"===c.nodeName?Da.some(c):Da.none()},ho=function(a,b,c,d){var e=Wn.getForcedRootBlock(b);e?b.undoManager.transact(function(){var d=Xe.fromTag(e);wf.setAll(d,Wn.getForcedRootBlockAttrs(b)),Ji.append(d,Xe.fromTag("br")),a?Ji.after(Xe.fromDom(c),d):Ji.before(Xe.fromDom(c),d);var f=b.dom.createRng();f.setStart(d.dom(),0),f.setEnd(d.dom(),0),Zn(b,f)}):Zn(b,d.toRange())},io=function(a,b,c){var d=b?go(!0,c):go(!1,c),e=b===!1;d.fold(function(){return Zn(a,c.toRange())},function(d){return cp.positionIn(e,a.getBody()).filter(function(a){return a.isEqual(c)}).fold(function(){return Zn(a,c.toRange())},function(e){return ho(b,a,d,c)})})},jo=function(a,b,c,d){var e=a.selection.getRng(),f=Ll.fromRangeStart(e),g=a.getBody();if(!b&&_n(d,f)){var h=eo(g,c,f);return io(a,b,h),!0}if(b&&ao(d,f)){var h=fo(g,c,f);return io(a,b,h),!0}return!1},ko=function(a,b){return function(){return Da.from(a.dom.getParent(a.selection.getNode(),"td,th")).bind(function(c){return Da.from(a.dom.getParent(c,"table")).map(function(d){return co(a,b,d,c)})}).getOr(!1)}},lo=function(a,b){return function(){return Da.from(a.dom.getParent(a.selection.getNode(),"td,th")).bind(function(c){return Da.from(a.dom.getParent(c,"table")).map(function(d){return jo(a,b,d,c)})}).getOr(!1)}},mo=Lh.isContentEditableFalse,no=function(a){return Lh.isElement(a)&&/^(TD|TH)$/i.test(a.tagName)},oo=function(a,b,c){var d,e,f,g,h,i=cl(b.getBoundingClientRect(),c);return"BODY"===a.tagName?(d=a.ownerDocument.documentElement,e=a.scrollLeft||d.scrollLeft,f=a.scrollTop||d.scrollTop):(h=a.getBoundingClientRect(),e=a.scrollLeft-h.left,f=a.scrollTop-h.top),i.left+=e,i.right+=e,i.top+=f,i.bottom+=f,i.width=1,g=b.offsetWidth-b.clientWidth,g>0&&(c&&(g*=-1),i.left+=g,i.right+=g),i},po=function(a){var b,c,d,e,f;for(b=Pd("*[contentEditable=false]",a),e=0;e<b.length;e++)c=b[e],d=c.previousSibling,Jk(d)&&(f=d.data,1===f.length?d.parentNode.removeChild(d):d.deleteData(f.length-1,1)),d=c.nextSibling,Ik(d)&&(f=d.data,1===f.length?d.parentNode.removeChild(d):d.deleteData(0,1))},qo=function(a,b,c){var d,e,f=Vi(Da.none()),g=function(c,d){var g,j;if(h(),no(d))return null;if(!b(d))return e=Dk(d,c),j=d.ownerDocument.createRange(),mo(e.nextSibling)?(j.setStart(e,0),j.setEnd(e,0)):(j.setStart(e,1),j.setEnd(e,1)),j;e=Hk("p",d,c),g=oo(a,d,c),Pd(e).css("top",g.top);var k=Pd('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(g).appendTo(a)[0];return f.set(Da.some({caret:k,element:d,before:c})),f.get().each(function(a){c&&Pd(a.caret).addClass("mce-visual-caret-before")}),i(),j=d.ownerDocument.createRange(),j.setStart(e,0),j.setEnd(e,0),j},h=function(){po(a),e&&(Fm.remove(e),e=null),f.get().each(function(a){Pd(a.caret).remove(),f.set(Da.none())}),clearInterval(d)},i=function(){d=Jb.setInterval(function(){c()?Pd("div.mce-visual-caret",a).toggleClass("mce-visual-caret-hidden"):Pd("div.mce-visual-caret",a).addClass("mce-visual-caret-hidden")},500)},j=function(){f.get().each(function(b){var c=oo(a,b.element,b.before);Pd(b.caret).css(c)})},k=function(){return Jb.clearInterval(d)},l=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:g,hide:h,getCss:l,reposition:j,destroy:k}},ro=function(a){return mo(a)||Lh.isTable(a)&&Yn()},so=Lh.isContentEditableFalse,to=Lh.matchStyleValues("display","block table table-cell table-caption list-item"),uo=Bk,vo=zk,wo=sk.curry,xo=Lh.isElement,yo=Vk,zo=function(a){return a>0},Ao=function(a){return a<0},Bo=function(a,b){for(var c;c=a(b);)if(!vo(c))return c;return null},Co=function(a,b,c,d,e){var f=new s(a,d);if(Ao(b)){if((so(a)||vo(a))&&(a=Bo(f.prev,!0),c(a)))return a;for(;a=Bo(f.prev,e);)if(c(a))return a}if(zo(b)){if((so(a)||vo(a))&&(a=Bo(f.next,!0),c(a)))return a;for(;a=Bo(f.next,e);)if(c(a))return a}return null},Do=function(a,b){for(;a&&a!==b;){if(to(a))return a;a=a.parentNode}return null},Eo=function(a,b,c){return Do(a.container(),c)===Do(b.container(),c)},Fo=function(a,b){var c,d;return b?(c=b.container(),d=b.offset(),xo(c)?c.childNodes[d+a]:null):null},Go=function(a,b){var c=b.ownerDocument.createRange();return a?(c.setStartBefore(b),c.setEndBefore(b)):(c.setStartAfter(b),c.setEndAfter(b)),c},Ho=function(a,b,c){return Do(b,a)===Do(c,a)},Io=function(a,b,c){var d,e;for(e=a?"previousSibling":"nextSibling";c&&c!==b;){if(d=c[e],uo(d)&&(d=d[e]),so(d)){if(Ho(b,d,c))return d;break}if(yo(d))break;c=c.parentNode}return null},Jo=wo(Go,!0),Ko=wo(Go,!1),Lo=function(a,b,c){var d,e,f,g,h=wo(Io,!0,b),i=wo(Io,!1,b);if(e=c.startContainer,f=c.startOffset,zk(e)){if(xo(e)||(e=e.parentNode),g=e.getAttribute("data-mce-caret"),"before"===g&&(d=e.nextSibling,ro(d)))return Jo(d);if("after"===g&&(d=e.previousSibling,ro(d)))return Ko(d)}if(!c.collapsed)return c;if(Lh.isText(e)){if(uo(e)){if(1===a){if(d=i(e))return Jo(d);if(d=h(e))return Ko(d)}if(a===-1){if(d=h(e))return Ko(d);if(d=i(e))return Jo(d)}return c}if(Jk(e)&&f>=e.data.length-1)return 1===a&&(d=i(e))?Jo(d):c;if(Ik(e)&&f<=1)return a===-1&&(d=h(e))?Ko(d):c;if(f===e.data.length)return d=i(e),d?Jo(d):c;if(0===f)return d=h(e),d?Ko(d):c}return c},Mo=function(a,b){var c=Fo(a,b);return so(c)&&!Lh.isBogusAll(c)},No=function(a,b){return Lh.isTable(Fo(a,b))},Oo=function(a,b){return Da.from(Fo(a?0:-1,b)).filter(so)},Po=function(a,b,c){var d=Lo(a,b,c);return a===-1?z.fromRangeStart(d):z.fromRangeEnd(d)},Qo=wo(Mo,0),Ro=wo(Mo,-1),So=wo(No,0),To=wo(No,-1),Uo=function(a,b,c){var d=a?Ll.before(c):Ll.after(c);return _o(a,b,d)},Vo=function(a){return Lh.isBr(a)?Ll.before(a):Ll.after(a)},Wo=function(a){return Ll.isTextPosition(a)?0===a.offset():Vk(a.getNode())},Xo=function(a){if(Ll.isTextPosition(a)){var b=a.container();return a.offset()===b.data.length}return Vk(a.getNode(!0))},Yo=function(a,b){return!Ll.isTextPosition(a)&&!Ll.isTextPosition(b)&&a.getNode()===b.getNode(!0)},Zo=function(a){return!Ll.isTextPosition(a)&&Lh.isBr(a.getNode())},$o=function(a,b,c){return a?!Yo(b,c)&&!Zo(b)&&Xo(b)&&Wo(c):!Yo(c,b)&&Wo(b)&&Xo(c)},_o=function(a,b,c){var d=$m(b);return Da.from(a?d.next(c):d.prev(c))},ap=function(a,b,c){return _o(a,b,c).bind(function(d){return Eo(c,d,b)&&$o(a,c,d)?_o(a,b,d):Da.some(d)})},bp=function(a,b){var c=a?b.firstChild:b.lastChild;return Lh.isText(c)?Da.some(Ll(c,a?0:c.data.length)):c?Vk(c)?Da.some(a?Ll.before(c):Vo(c)):Uo(a,b,c):Da.none()},cp={fromPosition:_o,nextPosition:ta(_o,!0),prevPosition:ta(_o,!1),navigate:ap,positionIn:bp,firstPositionIn:ta(bp,!0),lastPositionIn:ta(bp,!1)},dp=function(a){return"string"==typeof a.start},ep=function(a){return a.hasOwnProperty("rng")},fp=function(a){return a.hasOwnProperty("id")},gp=function(a){return a.hasOwnProperty("name")},hp=function(a){return vd.isArray(a.start)},ip=function(a,b){return!a.isBlock(b)||b.innerHTML||Ab.ie||(b.innerHTML='<br data-mce-bogus="1" />'),b},jp=function(a,b){var c,d;return c=a.createRng(),d=Zl(a.getRoot(),b.start),c.setStart(d.container(),d.offset()),d=Zl(a.getRoot(),b.end),c.setEnd(d.container(),d.offset()),c},kp=function(a,b){var c=a.ownerDocument.createTextNode(wk.ZWSP);a.appendChild(c),b.setStart(c,0),b.setEnd(c,0)},lp=function(a){return a.hasChildNodes()===!1},mp=function(a,b){return cp.lastPositionIn(a).fold(function(){return!1},function(a){return b.setStart(a.container(),a.offset()),b.setEnd(a.container(),a.offset()),!0})},np=function(a,b,c){return!(!lp(b)||!rm(a,b))&&(kp(b,c),!0)},op=function(a,b,c,d){var e,f,g,h,i=c[b?"start":"end"],j=a.getRoot();if(i){for(g=i[0],f=j,e=i.length-1;e>=1;e--){if(h=f.childNodes,np(j,f,d))return!0;if(i[e]>h.length-1)return!!np(j,f,d)||mp(f,d);f=h[i[e]]}3===f.nodeType&&(g=Math.min(i[0],f.nodeValue.length)),1===f.nodeType&&(g=Math.min(i[0],f.childNodes.length)),b?d.setStart(f,g):d.setEnd(f,g)}return!0},pp=function(a){return Lh.isText(a)&&a.data.length>0},qp=function(a,b,c){var d,e,f,g,h,i,j=a.get(c.id+"_"+b),k=c.keep;if(j){if(d=j.parentNode,"start"===b?(k?j.hasChildNodes()?(d=j.firstChild,e=1):pp(j.nextSibling)?(d=j.nextSibling,e=0):pp(j.previousSibling)?(d=j.previousSibling,e=j.previousSibling.data.length):(d=j.parentNode,e=a.nodeIndex(j)+1):e=a.nodeIndex(j),h=d,i=e):(k?j.hasChildNodes()?(d=j.firstChild,e=1):pp(j.previousSibling)?(d=j.previousSibling,e=j.previousSibling.data.length):(d=j.parentNode,e=a.nodeIndex(j)):e=a.nodeIndex(j),h=d,i=e),!k){for(g=j.previousSibling,f=j.nextSibling,vd.each(vd.grep(j.childNodes),function(a){Lh.isText(a)&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});j=a.get(c.id+"_"+b);)a.remove(j,!0);g&&f&&g.nodeType===f.nodeType&&Lh.isText(g)&&!Ab.opera&&(e=g.nodeValue.length,g.appendData(f.nodeValue),a.remove(f),"start"===b?(h=g,i=e):(h=g,i=e))}return Da.some(Ll(h,i))}return Da.none()},rp=function(a,b){return a.isSome()?a:b},sp=function(a,b){var c=a.createRng();return op(a,!0,b,c)&&op(a,!1,b,c)?Da.some(c):Da.none()},tp=function(a,b){var c=qp(a,"start",b),d=qp(a,"end",b);return pl([c,rp(d,c)],function(b,c){var d=a.createRng();return d.setStart(ip(a,b.container()),b.offset()),d.setEnd(ip(a,c.container()),c.offset()),d})},up=function(a,b){return Da.from(a.select(b.name)[b.index]).map(function(b){var c=a.createRng();return c.selectNode(b),c})},vp=function(a,b){var c=a.dom;if(b){if(hp(b))return sp(c,b);if(dp(b))return Da.some(jp(c,b));if(fp(b))return tp(c,b);if(gp(b))return up(c,b);if(ep(b))return Da.some(b.rng)}return Da.none()},wp={resolve:vp},xp=function(a,b,c){return om.getBookmark(a,b,c)},yp=function(a,b){wp.resolve(a,b).each(function(b){a.setRng(b)})},zp=function(a){return Lh.isElement(a)&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")},Ap={getBookmark:xp,moveToBookmark:yp,isBookmarkNode:zp},Bp=function(a){return a&&/^(IMG)$/.test(a.nodeName)},Cp=function(a,b,c){var d,e,f,g=c.startOffset,h=c.startContainer;if((c.startContainer!==c.endContainer||!Bp(c.startContainer.childNodes[c.startOffset]))&&1===h.nodeType)for(f=h.childNodes,g<f.length?(h=f[g],d=new s(h,a.getParent(h,a.isBlock))):(h=f[f.length-1],d=new s(h,a.getParent(h,a.isBlock)),d.next(!0)),e=d.current();e;e=d.next())if(3===e.nodeType&&!Gp(e))return c.setStart(e,0),void b.setRng(c)},Dp=function(a,b,c){if(a)for(b=b?"nextSibling":"previousSibling",a=c?a:a[b];a;a=a[b])if(1===a.nodeType||!Gp(a))return a},Ep=function(a,b){return b.nodeType&&(b=b.nodeName),!!a.schema.getTextBlockElements()[b.toLowerCase()]},Fp=function(a,b,c){return a.schema.isValidChild(b,c)},Gp=function(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)},Hp=function(a,b){return"string"!=typeof a?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a})),a},Ip=function(a,b){return a=a||"",b=b||"",a=""+(a.nodeName||a),b=""+(b.nodeName||b),a.toLowerCase()===b.toLowerCase()},Jp=function(a,b,c){return"color"!==c&&"backgroundColor"!==c||(b=a.toHex(b)),"fontWeight"===c&&700===b&&(b="bold"),"fontFamily"===c&&(b=b.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+b},Kp=function(a,b,c){return Jp(a,a.getStyle(b,c),c)},Lp=function(a,b){var c;return a.getParent(b,function(b){return c=a.getStyle(b,"text-decoration"),c&&"none"!==c}),c},Mp=function(a,b,c){return a.getParents(b,c,a.getRoot())},Np={isInlineBlock:Bp,moveStart:Cp,getNonWhiteSpaceSibling:Dp,isTextBlock:Ep,isValid:Fp,isWhiteSpaceNode:Gp,replaceVars:Hp,isEq:Ip,normalizeStyleValue:Jp,getStyle:Kp,getTextDecoration:Lp,getParents:Mp},Op=Ap.isBookmarkNode,Pp=Np.getParents,Qp=Np.isWhiteSpaceNode,Rp=Np.isTextBlock,Sp=function(a,b){for("undefined"==typeof b&&(b=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)a=a.childNodes[b],a&&(b=3===a.nodeType?a.length:a.childNodes.length);return{node:a,offset:b}},Tp=function(a,b){var c=Sp(a,b);if(c.node){for(;c.node&&0===c.offset&&c.node.previousSibling;)c=Sp(c.node.previousSibling);c.node&&c.offset>0&&3===c.node.nodeType&&" "===c.node.nodeValue.charAt(c.offset-1)&&c.offset>1&&(a=c.node,a.splitText(c.offset-1))}return a},Up=function(a){return"BR"===a.nodeName&&a.getAttribute("data-mce-bogus")&&!a.nextSibling},Vp=function(a,b){for(var c=b;c;){if(1===c.nodeType&&a.getContentEditable(c))return"false"===a.getContentEditable(c)?c:b;c=c.parentNode}return b},Wp=function(a,b,c,d){var e,f,g=c.nodeValue;return"undefined"==typeof d&&(d=a?g.length:0),a?(e=g.lastIndexOf(" ",d),f=g.lastIndexOf(" ",d),e=e>f?e:f,e===-1||b||e++):(e=g.indexOf(" ",d),f=g.indexOf(" ",d),e=e!==-1&&(f===-1||e<f)?e:f),e},Xp=function(a,b,c,d,e,f){var g,h,i,j;if(3===c.nodeType){if(i=Wp(e,f,c,d),i!==-1)return{container:c,offset:i};j=c}for(g=new s(c,a.getParent(c,a.isBlock)||b);h=g[e?"prev":"next"]();)if(3===h.nodeType){if(j=h,i=Wp(e,f,h),i!==-1)return{container:h,offset:i}}else if(a.isBlock(h))break;if(j)return d=e?0:j.length,{container:j,offset:d}},Yp=function(a,b,c,d,e){var f,g,h,i;for(3===d.nodeType&&0===d.nodeValue.length&&d[e]&&(d=d[e]),f=Pp(a,d),g=0;g<f.length;g++)for(h=0;h<b.length;h++)if(i=b[h],!("collapsed"in i&&i.collapsed!==c.collapsed)&&a.is(f[g],i.selector))return f[g];return d},Zp=function(a,b,c,d){var e,f=a.dom,g=f.getRoot();if(b[0].wrapper||(e=f.getParent(c,b[0].block,g)),!e){var h=f.getParent(c,"LI,TD,TH");e=f.getParent(3===c.nodeType?c.parentNode:c,function(b){return b!==g&&Rp(a,b)},h)}if(e&&b[0].wrapper&&(e=Pp(f,e,"ul,ol").reverse()[0]||e),!e)for(e=c;e[d]&&!f.isBlock(e[d])&&(e=e[d],!Np.isEq(e,"br")););return e||c},$p=function(a,b,c,d,e,f,g){var h,i,j,k,l;if(h=i=g?c:e,k=g?"previousSibling":"nextSibling",l=a.getRoot(),3===h.nodeType&&!Qp(h)&&(g?d>0:f<h.nodeValue.length))return h;for(;;){if(!b[0].block_expand&&a.isBlock(i))return i;for(j=i[k];j;j=j[k])if(!Op(j)&&!Qp(j)&&!Up(j))return i;if(i===l||i.parentNode===l){h=i;break}i=i.parentNode}return h},_p=function(a,b,c,d){var e,f=b.startContainer,g=b.startOffset,h=b.endContainer,i=b.endOffset,j=a.dom;return 1===f.nodeType&&f.hasChildNodes()&&(f=ml(f,g),3===f.nodeType&&(g=0)),1===h.nodeType&&h.hasChildNodes()&&(h=ml(h,b.collapsed?i:i-1),3===h.nodeType&&(i=h.nodeValue.length)),f=Vp(j,f),h=Vp(j,h),(Op(f.parentNode)||Op(f))&&(f=Op(f)?f:f.parentNode,f=f.nextSibling||f,3===f.nodeType&&(g=0)),(Op(h.parentNode)||Op(h))&&(h=Op(h)?h:h.parentNode,h=h.previousSibling||h,3===h.nodeType&&(i=h.length)),c[0].inline&&(b.collapsed&&(e=Xp(j,a.getBody(),f,g,!0,d),e&&(f=e.container,g=e.offset),e=Xp(j,a.getBody(),h,i,!1,d),e&&(h=e.container,i=e.offset)),h=d?h:Tp(h,i)),(c[0].inline||c[0].block_expand)&&(c[0].inline&&3===f.nodeType&&0!==g||(f=$p(j,c,f,g,h,i,!0)),c[0].inline&&3===h.nodeType&&i!==h.nodeValue.length||(h=$p(j,c,f,g,h,i,!1))),c[0].selector&&c[0].expand!==!1&&!c[0].inline&&(f=Yp(j,c,b,f,"previousSibling"),h=Yp(j,c,b,h,"nextSibling")),(c[0].block||c[0].selector)&&(f=Zp(a,c,f,"previousSibling"),h=Zp(a,c,h,"nextSibling"),c[0].block&&(j.isBlock(f)||(f=$p(j,c,f,g,h,i,!0)),j.isBlock(h)||(h=$p(j,c,f,g,h,i,!1)))),1===f.nodeType&&(g=j.nodeIndex(f),f=f.parentNode),1===h.nodeType&&(i=j.nodeIndex(h)+1,h=h.parentNode),{startContainer:f,startOffset:g,endContainer:h,endOffset:i}},aq={expandRng:_p},bq=vd.each,cq=function(a,b){var c=a.childNodes;return b--,b>c.length-1?b=c.length-1:b<0&&(b=0),c[b]||a},dq=function(a,b,c){var d,e,f,g,h,i,j,k=b.startContainer,l=b.startOffset,m=b.endContainer,n=b.endOffset;if(j=a.select("td[data-mce-selected],th[data-mce-selected]"),j.length>0)return void bq(j,function(a){c([a])});var o=function(a){var b;return b=a[0],3===b.nodeType&&b===k&&l>=b.nodeValue.length&&a.splice(0,1),b=a[a.length-1],0===n&&a.length>0&&b===m&&3===b.nodeType&&a.splice(a.length-1,1),a},p=function(a,b,c){for(var d=[];a&&a!==c;a=a[b])d.push(a);return d},q=function(a,b){do{if(a.parentNode===b)return a;a=a.parentNode}while(a)},r=function(a,b,d){var e=d?"nextSibling":"previousSibling";for(g=a,h=g.parentNode;g&&g!==b;g=h)h=g.parentNode,i=p(g===a?g:g[e],e),i.length&&(d||i.reverse(),c(o(i)))};if(1===k.nodeType&&k.hasChildNodes()&&(k=k.childNodes[l]),1===m.nodeType&&m.hasChildNodes()&&(m=cq(m,n)),k===m)return c(o([k]));for(d=a.findCommonAncestor(k,m),g=k;g;g=g.parentNode){if(g===m)return r(k,d,!0);if(g===d)break}for(g=m;g;g=g.parentNode){if(g===k)return r(m,d);if(g===d)break}e=q(k,d)||k,f=q(m,d)||m,r(k,e,!0),i=p(e===k?e:e.nextSibling,"nextSibling",f===m?f.nextSibling:f),i.length&&c(o(i)),r(m,f)},eq={walk:dq},fq=function(){return"\ufeff"},gq=A(ff.isText,"text"),hq=function(a){return gq.get(a)},iq=function(a){return gq.getOption(a)},jq=function(a,b){gq.set(a,b)},kq={get:hq,getOption:iq,set:jq},lq=function(a){return ff.isText(a)&&kq.get(a)===fq()},mq=function(a,b,c,d){return Jg.parent(b).fold(function(){return"skipping"},function(e){return"br"===d||lq(b)?"skipping":Pj(b)?"existing":qm(b)?"caret":Np.isValid(a,c,d)&&Np.isValid(a,ff.name(e),c)?"valid":"invalid-child"})},nq=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.indexOf(d)<0&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)b.indexOf(d[e])<0&&(c[d[e]]=a[d[e]]);return c},oq=function(a,b){var c=aq.expandRng(a,b,[{inline:!0}],!1);b.setStart(c.startContainer,c.startOffset),b.setEnd(c.endContainer,c.endOffset),a.selection.setRng(b)},pq=function(a,b,c,d,e){var f=e.uid,g=void 0===f?Wj("mce-annotation"):f,h=nq(e,["uid"]),i=[],j=Xe.fromTag("span");kj.add(j,Lj()),wf.set(j,""+Nj(),g),wf.set(j,""+Mj(),c);var k=d(g,h),l=k.attributes,m=void 0===l?{}:l,n=k.classes,o=void 0===n?[]:n;wf.setAll(j,m),ck.add(j,o);var p=Vi(Da.none()),q=function(){p.set(Da.none())},r=function(){return p.get().getOrThunk(function(){var a=jk.shallow(j);return i.push(a),p.set(Da.some(a)),a})},s=function(a){Sa(a,t)},t=function(b){var c=mq(a,b,"span",ff.name(b));switch(c){case"invalid-child":q();var d=Jg.children(b);s(d),q();break;case"valid":var e=r();Ji.wrap(b,e);break;case"skipping":case"existing":case"caret":}},u=function(a){var b=Ra(a,Xe.fromDom);s(b)};return eq.walk(a.dom,b,function(a){q(),u(a)}),i},qq=function(a,b,c,d){a.undoManager.transact(function(){var e=a.selection.getRng();e.collapsed&&oq(a,e);var f=om.getPersistentBookmark(a.selection,!0),g=a.selection.getRng();pq(a,g,b,c.decorate,d),a.selection.moveToBookmark(f)})},rq=function(a){return a.firstChild&&a.firstChild===a.lastChild},sq=function(a){return"br"===a.name||" "===a.value},tq=function(a,b){var c=a.getBlockElements();return c[b.name]&&rq(b)&&sq(b.firstChild)},uq=function(a,b){var c=a.getNonEmptyElements();return b&&(b.isEmpty(c)||tq(a,b))},vq=function(a,b){var c=b.firstChild,d=b.lastChild;return c&&"meta"===c.name&&(c=c.next),d&&"mce_marker"===d.attr("id")&&(d=d.prev),uq(a,d)&&(d=d.prev),!(!c||c!==d)&&("ul"===c.name||"ol"===c.name)},wq=function(a){var b=a.firstChild,c=a.lastChild;return b&&"META"===b.nodeName&&b.parentNode.removeChild(b),c&&"mce_marker"===c.id&&c.parentNode.removeChild(c),a},xq=function(a,b,c){var d=b.serialize(c),e=a.createFragment(d);return wq(e)},yq=function(a){return vd.grep(a.childNodes,function(a){return"LI"===a.nodeName})},zq=function(a){return" "===a.data||Lh.isBr(a)},Aq=function(a){return a&&a.firstChild&&a.firstChild===a.lastChild&&zq(a.firstChild)},Bq=function(a){return!a.firstChild||Aq(a)},Cq=function(a){return a.length>0&&Bq(a[a.length-1])?a.slice(0,-1):a},Dq=function(a,b){var c=a.getParent(b,a.isBlock);return c&&"LI"===c.nodeName?c:null},Eq=function(a,b){return!!Dq(a,b)},Fq=function(a,b){var c=b.cloneRange(),d=b.cloneRange();return c.setStartBefore(a),d.setEndAfter(a),[c.cloneContents(),d.cloneContents()]},Gq=function(a,b){var c=Ll.before(a),d=$m(b),e=d.next(c);return e?e.toRange():null},Hq=function(a,b){var c=Ll.after(a),d=$m(b),e=d.prev(c);return e?e.toRange():null},Iq=function(a,b,c,d){var e=Fq(a,d),f=a.parentNode;return f.insertBefore(e[0],a),vd.each(b,function(b){f.insertBefore(b,a)}),f.insertBefore(e[1],a),f.removeChild(a),Hq(b[b.length-1],c)},Jq=function(a,b,c){var d=a.parentNode;return vd.each(b,function(b){d.insertBefore(b,a)}),Gq(a,c)},Kq=function(a,b,c,d){return d.insertAfter(b.reverse(),a),Hq(b[0],c)},Lq=function(a,b,c,d){var e=xq(b,a,d),f=Dq(b,c.startContainer),g=Cq(yq(e.firstChild)),h=1,i=2,j=b.getRoot(),k=function(a){var d=Ll.fromRangeStart(c),e=$m(b.getRoot()),g=a===h?e.prev(d):e.next(d);return!g||Dq(b,g.getNode())!==f};return k(h)?Jq(f,g,j):k(i)?Kq(f,g,j,b):Iq(f,g,j,c)},Mq={isListFragment:vq,insertAtCaret:Lq,isParentBlockLi:Eq,trimListItems:Cq,listItems:yq},Nq=vd.each,Oq=function(a){this.compare=function(b,c){if(b.nodeName!==c.nodeName)return!1;var d=function(b){var c={};return Nq(a.getAttribs(b),function(d){var e=d.nodeName.toLowerCase();0!==e.indexOf("_")&&"style"!==e&&0!==e.indexOf("data-")&&(c[e]=a.getAttrib(b,e))}),c},e=function(a,b){var c,d;for(d in a)if(a.hasOwnProperty(d)){if(c=b[d],"undefined"==typeof c)return!1;if(a[d]!==c)return!1;delete b[d]}for(d in b)if(b.hasOwnProperty(d))return!1;return!0};return!!e(d(b),d(c))&&(!!e(a.parseStyle(a.getAttrib(b,"style")),a.parseStyle(a.getAttrib(c,"style")))&&(!Ap.isBookmarkNode(b)&&!Ap.isBookmarkNode(c)))}},Pq=function(a){for(var b=[],c=a.dom();c;)b.push(Xe.fromDom(c)),c=c.lastChild;return b},Qq=function(a){var b=wj.descendants(a,"br"),c=Va(Pq(a).slice(-1),mh);b.length===c.length&&Sa(c,Si.remove)},Rq=function(a){Si.empty(a),Ji.append(a,Xe.fromHtml('<br data-mce-bogus="1">'))},Sq=function(a){return ff.isText(a)?" "===kq.get(a):mh(a)},Tq=function(a){return 1===Va(Jg.children(a),Sq).length},Uq=function(a){Jg.lastChild(a).each(function(b){Jg.prevSibling(b).each(function(c){kh(a)&&mh(b)&&kh(c)&&Si.remove(b)})})},Vq={removeTrailingBr:Qq,fillWithPaddingBr:Rq,isPaddedElement:Tq,trimBlockTrailingBr:Uq},Wq=vd.makeMap,Xq=function(a,b,c,d){var e=document.createRange();return e.setStart(a,b),e.setEnd(c,d),e},Yq=function(a){var b=Ll.fromRangeStart(a),c=Ll.fromRangeEnd(a),d=a.commonAncestorContainer;return cp.fromPosition(!1,d,c).map(function(e){return!Eo(b,c,d)&&Eo(b,e,d)?Xq(b.container(),b.offset(),e.container(),e.offset()):a}).getOr(a)},Zq=function(a){return a.collapsed?a:Yq(a)},$q={normalize:Zq},_q=Lh.matchNodeNames("td th"),ar=function(a,b,c){if("all"===c.getAttribute("data-mce-bogus"))c.parentNode.insertBefore(a.dom.createFragment(b),c);else{var d=c.firstChild,e=c.lastChild;!d||d===e&&"BR"===d.nodeName?a.dom.setHTML(c,b):a.selection.setContent(b)}},br=function(a,b){Da.from(a.getParent(b,"td,th")).map(Xe.fromDom).each(Vq.trimBlockTrailingBr)},cr=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=a.schema.getTextInlineElements(),q=a.selection,r=a.dom,s=function(a){var b,c,d;b=q.getRng(),c=b.startContainer,d=b.startOffset;var e=function(a){return c[a]&&3===c[a].nodeType};return 3===c.nodeType&&(d>0?a=a.replace(/^&nbsp;/," "):e("previousSibling")||(a=a.replace(/^ /,"&nbsp;")),d<c.length?a=a.replace(/&nbsp;(<br>|)$/," "):e("nextSibling")||(a=a.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),a},t=function(){var a,c,d;a=q.getRng(),c=a.startContainer,d=a.startOffset,3===c.nodeType&&a.collapsed&&(" "===c.data[d]?(c.deleteData(d,1),/[\u00a0| ]$/.test(b)||(b+=" ")):" "===c.data[d-1]&&(c.deleteData(d-1,1),/[\u00a0| ]$/.test(b)||(b=" "+b)))},u=function(){if(o){var b=a.getBody(),c=new Oq(r);vd.each(r.select("*[data-mce-fragment]"),function(a){for(var d=a.parentNode;d&&d!==b;d=d.parentNode)p[a.nodeName.toLowerCase()]&&c.compare(d,a)&&r.remove(a,!0)})}},v=function(a){for(var b=a;b=b.walk();)1===b.type&&b.attr("data-mce-fragment","1")},w=function(a){vd.each(a.getElementsByTagName("*"),function(a){a.removeAttribute("data-mce-fragment")})},x=function(a){return!!a.getAttribute("data-mce-fragment")},y=function(b){return b&&!a.schema.getShortEndedElements()[b.nodeName]},z=function(b){var c,d,e,f=function(b){for(var c=a.getBody();b&&b!==c;b=b.parentNode)if("false"===a.dom.getContentEditable(b))return b;return null};if(b){if(q.scrollIntoView(b),c=f(b))return r.remove(b),void q.select(c);k=r.createRng(),l=b.previousSibling,l&&3===l.nodeType?(k.setStart(l,l.nodeValue.length),Ab.ie||(m=b.nextSibling,m&&3===m.nodeType&&(l.appendData(m.data),m.parentNode.removeChild(m)))):(k.setStartBefore(b),k.setEndBefore(b));var g=function(b){var c=Ll.fromRangeStart(b),d=$m(a.getBody());if(c=d.next(c))return c.toRange()};d=r.getParent(b,r.isBlock),r.remove(b),d&&r.isEmpty(d)&&(a.$(d).empty(),k.setStart(d,0),k.setEnd(d,0),_q(d)||x(d)||!(e=g(k))?r.add(d,r.create("br",{"data-mce-bogus":"1"})):(k=e,r.remove(d))),q.setRng(k)}};if(/^ | $/.test(b)&&(b=s(b)),d=a.parser,o=c.merge,e=D({validate:a.settings.validate},a.schema),n='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',i={content:b,
format:"html",selection:!0,paste:c.paste},i=a.fire("BeforeSetContent",i),i.isDefaultPrevented())return void a.fire("SetContent",{content:i.content,format:"html",selection:!0,paste:c.paste});b=i.content,b.indexOf("{$caret}")===-1&&(b+="{$caret}"),b=b.replace(/\{\$caret\}/,n),k=q.getRng();var A=k.startContainer||(k.parentElement?k.parentElement():null),B=a.getBody();A===B&&q.isCollapsed()&&r.isBlock(B.firstChild)&&y(B.firstChild)&&r.isEmpty(B.firstChild)&&(k=r.createRng(),k.setStart(B.firstChild,0),k.setEnd(B.firstChild,0),q.setRng(k)),q.isCollapsed()||(a.selection.setRng($q.normalize(a.selection.getRng())),a.getDoc().execCommand("Delete",!1,null),t()),f=q.getNode();var C={context:f.nodeName.toLowerCase(),data:c.data,insert:!0};if(h=d.parse(b,C),c.paste===!0&&Mq.isListFragment(a.schema,h)&&Mq.isParentBlockLi(r,f))return k=Mq.insertAtCaret(e,r,a.selection.getRng(),h),a.selection.setRng(k),void a.fire("SetContent",i);if(v(h),l=h.lastChild,"mce_marker"===l.attr("id"))for(j=l,l=l.prev;l;l=l.walk(!0))if(3===l.type||!r.isBlock(l.name)){a.schema.isValidChild(l.parent.name,"span")&&l.parent.insert(j,l,"br"===l.name);break}if(a._selectionOverrides.showBlockCaretContainer(f),C.invalid){for(q.setContent(n),f=q.getNode(),g=a.getBody(),9===f.nodeType?f=l=g:l=f;l!==g;)f=l,l=l.parentNode;b=f===g?g.innerHTML:r.getOuterHTML(f),b=e.serialize(d.parse(b.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return e.serialize(h)}))),f===g?r.setHTML(g,b):r.setOuterHTML(f,b)}else b=e.serialize(h),ar(a,b,f);u(),z(r.get("mce_marker")),w(a.getBody()),br(a.dom,a.selection.getStart()),a.fire("SetContent",i),a.addVisual()},dr=function(a){var b;return"string"!=typeof a?(b=vd.extend({paste:a.paste,data:{paste:a.paste}},a),{content:a.content,details:b}):{content:a,details:{}}},er=function(a,b){var c=dr(b);cr(a,c.content,c.details)},fr={insertAtCaret:er},gr=Uf("sections","settings"),hr=Re.detect(),ir=hr.deviceType.isTouch(),jr=["lists","autolink","autosave"],kr={theme:"mobile"},lr=function(a){var b=Ia(a)?a.join(" "):a,c=Ra(Ga(b)?b.split(" "):[],Ie);return Va(c,function(a){return a.length>0})},mr=function(a){return Va(a,ta(Pa,jr))},nr=function(a,b){var c=lf(b,function(b,c){return Pa(a,c)});return gr(c.t,c.f)},or=function(a,b,c){var d=a.sections(),e=d.hasOwnProperty(b)?d[b]:{};return vd.extend({},c,e)},pr=function(a,b){return a.sections().hasOwnProperty(b)},qr=function(a,b,c){return{id:a,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:b,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:c.convertURL,url_converter_scope:c,ie7_compat:!0}},rr=function(a,b){var c=b.external_plugins?b.external_plugins:{};return a&&a.external_plugins?vd.extend({},a.external_plugins,c):c},sr=function(a,b){return[].concat(lr(a)).concat(lr(b))},tr=function(a,b,c,d){var e=lr(c.forced_plugins),f=lr(d.plugins),g=a&&pr(b,"mobile")?mr(f):f,h=sr(e,g);return vd.extend(d,{plugins:h.join(" ")})},ur=function(a,b){var c=b.settings().inline;return a&&pr(b,"mobile")&&!c},vr=function(a,b,c,d){var e=nr(["mobile"],d),f=vd.extend(b,c,e.settings(),ur(a,e)?or(e,"mobile",kr):{},{validate:!0,content_editable:e.settings().inline,external_plugins:rr(c,e.settings())});return tr(a,e,c,f)},wr=function(a,b,c,d,e){var f=qr(b,c,a);return vr(ir,f,d,e)},xr=function(a,b,c){return Da.from(b.settings[c]).filter(a)},yr=ta(xr,Ga),zr=function(a){var b={};return"string"==typeof a?Sa(a.indexOf("=")>0?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(","),function(a){var c=a.split("=");c.length>1?b[vd.trim(c[0])]=vd.trim(c[1]):b[vd.trim(c[0])]=vd.trim(c)}):b=a,b},Ar=function(a){return function(b){return Ia(b)&&cb(b,a)}},Br=function(a,b,c,d){var e=b in a.settings?a.settings[b]:c;return"hash"===d?zr(e):"string"===d?xr(Ga,a,b).getOr(c):"number"===d?xr(Ma,a,b).getOr(c):"boolean"===d?xr(Ka,a,b).getOr(c):"object"===d?xr(Ha,a,b).getOr(c):"array"===d?xr(Ia,a,b).getOr(c):"string[]"===d?xr(Ar(Ga),a,b).getOr(c):"function"===d?xr(La,a,b).getOr(c):e},Cr=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Dr=function(a){return Cr.test(a)},Er=function(a,b){var c=yr(a,"inline_boundaries_selector").getOr("a[href],code");return gg.is(Xe.fromDom(b),c)},Fr=function(a){return"rtl"===wi.DOM.getStyle(a,"direction",!0)||Dr(a.textContent)},Gr=function(a,b,c){return Va(wi.DOM.getParents(c.container(),"*",b),a)},Hr=function(a,b,c){var d=Gr(a,b,c);return Da.from(d[d.length-1])},Ir=function(a,b,c){var d=Do(b,a),e=Do(c,a);return d&&d===e},Jr=function(a){return Ek(a)||Fk(a)},Kr=function(a,b){var c=b.container(),d=b.offset();return a?Ak(c)?Lh.isText(c.nextSibling)?Ll(c.nextSibling,0):Ll.after(c):Ek(b)?Ll(c,d+1):b:Ak(c)?Lh.isText(c.previousSibling)?Ll(c.previousSibling,c.previousSibling.data.length):Ll.before(c):Fk(b)?Ll(c,d-1):b},Lr=ta(Kr,!0),Mr=ta(Kr,!1),Nr={isInlineTarget:Er,findRootInline:Hr,isRtl:Fr,isAtZwsp:Jr,normalizePosition:Kr,normalizeForwards:Lr,normalizeBackwards:Mr,hasSameParentBlock:Ir},Or=function(a){return function(b){return og.eq(a,Xe.fromDom(b.dom().parentNode))}},Pr=function(a,b){return og.contains(a,b)?Dj.closest(b,function(a){return nh(a)||ph(a)},Or(a)):Da.none()},Qr=function(a){var b=a.getBody(),c=b.firstChild&&a.dom.isBlock(b.firstChild)?b.firstChild:b;a.selection.setCursorLocation(c,0)},Rr=function(a){a.dom.isEmpty(a.getBody())&&(a.setContent(""),Qr(a))},Sr=function(a,b,c){return pl([cp.firstPositionIn(c),cp.lastPositionIn(c)],function(d,e){var f=Nr.normalizePosition(!0,d),g=Nr.normalizePosition(!1,e),h=Nr.normalizePosition(!1,b);return a?cp.nextPosition(c,h).map(function(a){return a.isEqual(g)&&b.isEqual(f)}).getOr(!1):cp.prevPosition(c,h).map(function(a){return a.isEqual(f)&&b.isEqual(g)}).getOr(!1)}).getOr(!0)},Tr={getParentBlock:Pr,paddEmptyBody:Rr,willDeleteLastPositionInElement:Sr},Ur=function(a){return Kj.first(a).isSome()},Vr=function(a,b,c){return Kj.ancestor(a,b,c).isSome()},Wr=function(a,b){return Kj.sibling(a,b).isSome()},Xr=function(a,b){return Kj.child(a,b).isSome()},Yr=function(a,b){return Kj.descendant(a,b).isSome()},Zr=function(a,b,c){return Kj.closest(a,b,c).isSome()},$r={any:Ur,ancestor:Vr,sibling:Wr,child:Xr,descendant:Yr,closest:Zr},_r=function(a,b){var c=Xe.fromDom(a),d=Xe.fromDom(b);return $r.ancestor(d,"pre,code",ta(og.eq,c))},as=function(a,b){return Lh.isText(b)&&/^[ \t\r\n]*$/.test(b.data)&&_r(a,b)===!1},bs=function(a){return Lh.isElement(a)&&"A"===a.nodeName&&a.hasAttribute("name")},cs=function(a,b){return Vk(b)&&as(a,b)===!1||bs(b)||ds(b)},ds=Lh.hasAttribute("data-mce-bookmark"),es=Lh.hasAttribute("data-mce-bogus"),fs=Lh.hasAttributeValue("data-mce-bogus","all"),gs=function(a){var b,c,d=0;if(cs(a,a))return!1;if(c=a.firstChild,!c)return!0;b=new s(c,a);do if(fs(c))c=b.next(!0);else if(es(c))c=b.next();else if(Lh.isBr(c))d++,c=b.next();else{if(cs(a,c))return!1;c=b.next()}while(c);return d<=1},hs=function(a){return gs(a.dom())},is={isEmpty:hs},js=Uf("block","position"),ks=Uf("from","to"),ls=function(a,b){var c=Xe.fromDom(a),d=Xe.fromDom(b.container());return Tr.getParentBlock(c,d).map(function(a){return js(a,b)})},ms=function(a){return og.eq(a.from().block(),a.to().block())===!1},ns=function(a){return Jg.parent(a.from().block()).bind(function(b){return Jg.parent(a.to().block()).filter(function(a){return og.eq(b,a)})}).isSome()},os=function(a){return Lh.isContentEditableFalse(a.from().block())===!1&&Lh.isContentEditableFalse(a.to().block())===!1},ps=function(a,b,c){return Lh.isBr(c.position().getNode())&&is.isEmpty(c.block())===!1?cp.positionIn(!1,c.block().dom()).bind(function(d){return d.isEqual(c.position())?cp.fromPosition(b,a,d).bind(function(b){return ls(a,b)}):Da.some(c)}).getOr(c):c},qs=function(a,b,c){var d=ls(a,Ll.fromRangeStart(c)),e=d.bind(function(c){return cp.fromPosition(b,a,c.position()).bind(function(c){return ls(a,c).map(function(c){return ps(a,b,c)})})});return pl([d,e],ks).filter(function(a){return ms(a)&&ns(a)&&os(a)})},rs=function(a,b,c){return c.collapsed?qs(a,b,c):Da.none()},ss={read:rs},ts=function(a){return a.slice(0,-1)},us=function(a,b,c){return og.contains(b,a)?ts(Jg.parents(a,function(a){return c(a)||og.eq(a,b)})):[]},vs=function(a,b){return us(a,b,ra(!1))},ws=function(a,b){return[a].concat(vs(a,b))},xs={parentsUntil:us,parents:vs,parentsAndSelf:ws},ys=function(a){var b=Jg.children(a);return Za(b,kh).fold(function(){return b},function(a){return b.slice(0,a)})},zs=function(a){var b=ys(a);return Sa(b,function(a){Si.remove(a)}),b},As=function(a,b){cp.positionIn(a,b.dom()).each(function(a){var b=a.getNode();Lh.isBr(b)&&Si.remove(Xe.fromDom(b))})},Bs=function(a,b){var c=xs.parentsAndSelf(b,a);return Ya(c.reverse(),is.isEmpty).each(Si.remove)},Cs=function(a,b){var c=Jg.parents(b,function(b){return og.eq(b,a)});return Da.from(c[c.length-2])},Ds=function(a,b){return og.contains(b,a)?Jg.parent(a).bind(function(c){return og.eq(c,b)?Da.some(a):Cs(b,a)}):Da.none()},Es=function(a,b,c){if(is.isEmpty(c))return Si.remove(c),is.isEmpty(b)&&Vq.fillWithPaddingBr(b),cp.firstPositionIn(b.dom());As(!0,b),As(!1,c);var d=zs(b);return Ds(b,c).fold(function(){Bs(a,b);var e=cp.lastPositionIn(c.dom());return Sa(d,function(a){Ji.append(c,a)}),e},function(e){var f=cp.prevPosition(c.dom(),Ll.before(e.dom()));return Sa(d,function(a){Ji.before(e,a)}),Bs(a,b),f})},Fs=function(a,b,c,d){return b?Es(a,d,c):Es(a,c,d)},Gs={mergeBlocks:Fs},Hs=function(a,b){var c,d=Xe.fromDom(a.getBody());return c=ss.read(d.dom(),b,a.selection.getRng()).bind(function(a){return Gs.mergeBlocks(d,b,a.from().block(),a.to().block())}),c.each(function(b){a.selection.setRng(b.toRange())}),c.isSome()},Is={backspaceDelete:Hs},Js=function(a,b){var c=b.getRng();return pl([Tr.getParentBlock(a,Xe.fromDom(c.startContainer)),Tr.getParentBlock(a,Xe.fromDom(c.endContainer))],function(d,e){return og.eq(d,e)===!1&&(c.deleteContents(),Gs.mergeBlocks(a,!0,d,e).each(function(a){b.setRng(a.toRange())}),!0)}).getOr(!1)},Ks=function(a,b){var c=Xe.fromDom(b),d=ta(og.eq,a);return Dj.ancestor(c,sh,d).isSome()},Ls=function(a,b){return Ks(a,b.startContainer)||Ks(a,b.endContainer)},Ms=function(a,b){var c=cp.prevPosition(a.dom(),Ll.fromRangeStart(b)).isNone(),d=cp.nextPosition(a.dom(),Ll.fromRangeEnd(b)).isNone();return!Ls(a,b)&&c&&d},Ns=function(a){return a.setContent(""),a.selection.setCursorLocation(),!0},Os=function(a){var b=Xe.fromDom(a.getBody()),c=a.selection.getRng();return Ms(b,c)?Ns(a):Js(b,a.selection)},Ps=function(a,b){return!a.selection.isCollapsed()&&Os(a)},Qs={backspaceDelete:Ps},Rs=function(a){if(!Ia(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");var b=[],c={};return Sa(a,function(d,e){var f=gf(d);if(1!==f.length)throw new Error("one and only one name per case");var g=f[0],h=d[g];if(void 0!==c[g])throw new Error("duplicate key detected:"+g);if("cata"===g)throw new Error("cannot have a case named cata (sorry)");if(!Ia(h))throw new Error("case arguments must be an array");b.push(g),c[g]=function(){var c=arguments.length;if(c!==h.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+h.length+" ("+h+"), got "+c);for(var d=new Array(c),f=0;f<d.length;f++)d[f]=arguments[f];var i=function(a){var c=gf(a);if(b.length!==c.length)throw new Error("Wrong number of arguments to match. Expected: "+b.join(",")+"\nActual: "+c.join(","));var e=cb(b,function(a){return Pa(c,a)});if(!e)throw new Error("Not all branches were specified when using match. Specified: "+c.join(", ")+"\nRequired: "+b.join(", "));return a[g].apply(null,d)};return{fold:function(){if(arguments.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);var b=arguments[e];return b.apply(null,d)},match:i,log:function(a){console.log(a,{constructors:b,constructor:g,params:d})}}}}),c},Ss={generate:Rs},Ts=function(a){return sh(Xe.fromDom(a))||ph(Xe.fromDom(a))},Us=Ss.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Vs=function(a,b){var c=b.getNode(a===!1),d=a?"after":"before";return Lh.isElement(c)&&c.getAttribute("data-mce-caret")===d},Ws=function(a,b,c,d){var e=function(b){return lh(Xe.fromDom(b))&&!Eo(c,d,a)};return Oo(!b,c).fold(function(){return Oo(b,d).fold(ra(!1),e)},e)},Xs=function(a,b,c,d){var e=d.getNode(b===!1);return Tr.getParentBlock(Xe.fromDom(a),Xe.fromDom(c.getNode())).map(function(a){return is.isEmpty(a)?Us.remove(a.dom()):Us.moveToElement(e)}).orThunk(function(){return Da.some(Us.moveToElement(e))})},Ys=function(a,b,c){return cp.fromPosition(b,a,c).bind(function(d){return Ts(d.getNode())?Da.none():Ws(a,b,c,d)?Da.none():b&&Lh.isContentEditableFalse(d.getNode())?Xs(a,b,c,d):b===!1&&Lh.isContentEditableFalse(d.getNode(!0))?Xs(a,b,c,d):b&&Ro(c)?Da.some(Us.moveToPosition(d)):b===!1&&Qo(c)?Da.some(Us.moveToPosition(d)):Da.none()})},Zs=function(a,b){return a&&Lh.isContentEditableFalse(b.nextSibling)?Da.some(Us.moveToElement(b.nextSibling)):a===!1&&Lh.isContentEditableFalse(b.previousSibling)?Da.some(Us.moveToElement(b.previousSibling)):Da.none()},$s=function(a,b,c){return c.fold(function(a){return Da.some(Us.remove(a))},function(a){return Da.some(Us.moveToElement(a))},function(c){return Eo(b,c,a)?Da.none():Da.some(Us.moveToPosition(c))})},_s=function(a,b,c){return Vs(b,c)?Zs(b,c.getNode(b===!1)).fold(function(){return Ys(a,b,c)},Da.some):Ys(a,b,c).bind(function(b){return $s(a,c,b)})},at=function(a,b,c){var d=Lo(b?1:-1,a,c),e=Ll.fromRangeStart(d);return b===!1&&Ro(e)?Da.some(Us.remove(e.getNode(!0))):b&&Qo(e)?Da.some(Us.remove(e.getNode())):_s(a,b,e)},bt=function(a,b){var c=a.container(),d=a.offset();return Ll.isTextPosition(a)===!1&&c===b.parentNode&&d>Ll.before(b).offset()},ct=function(a,b){return bt(b,a)?Ll(b.container(),b.offset()-1):b},dt=function(a){return Lh.isText(a)?Ll(a,0):Ll.before(a)},et=function(a){return Lh.isText(a)?Ll(a,a.data.length):Ll.after(a)},ft=function(a){return Vk(a.previousSibling)?Da.some(et(a.previousSibling)):a.previousSibling?cp.lastPositionIn(a.previousSibling):Da.none()},gt=function(a){return Vk(a.nextSibling)?Da.some(dt(a.nextSibling)):a.nextSibling?cp.firstPositionIn(a.nextSibling):Da.none()},ht=function(a,b){var c=Ll.before(b.previousSibling?b.previousSibling:b.parentNode);return cp.prevPosition(a,c).fold(function(){return cp.nextPosition(a,Ll.after(b))},Da.some)},it=function(a,b){return cp.nextPosition(a,Ll.after(b)).fold(function(){return cp.prevPosition(a,Ll.before(b))},Da.some)},jt=function(a,b){return ft(b).orThunk(function(){return gt(b)}).orThunk(function(){return ht(a,b)})},kt=function(a,b){return gt(b).orThunk(function(){return ft(b)}).orThunk(function(){return it(a,b)})},lt=function(a,b,c){return a?kt(b,c):jt(b,c)},mt=function(a,b,c){return lt(a,b,c).map(ta(ct,c))},nt=function(a,b,c){c.fold(function(){a.focus()},function(c){a.selection.setRng(c.toRange(),b)})},ot=function(a){return function(b){return b.dom()===a}},pt=function(a,b){return b&&a.schema.getBlockElements().hasOwnProperty(ff.name(b))},qt=function(a){if(is.isEmpty(a)){var b=Xe.fromHtml('<br data-mce-bogus="1">');return Si.empty(a),Ji.append(a,b),Da.some(Ll.before(b.dom()))}return Da.none()},rt=function(a,b){return pl([Jg.prevSibling(a),Jg.nextSibling(a),b],function(b,c,d){var e,f=b.dom(),g=c.dom();return Lh.isText(f)&&Lh.isText(g)?(e=f.data.length,f.appendData(g.data),Si.remove(c),Si.remove(a),d.container()===g?Ll(f,e):d):(Si.remove(a),d)}).orThunk(function(){return Si.remove(a),b})},st=function(a,b,c){var d=mt(b,a.getBody(),c.dom()),e=Dj.ancestor(c,ta(pt,a),ot(a.getBody())),f=rt(c,d);a.dom.isEmpty(a.getBody())?(a.setContent(""),a.selection.setCursorLocation()):e.bind(qt).fold(function(){nt(a,b,f)},function(c){nt(a,b,Da.some(c))})},tt={deleteElement:st},ut=function(a,b){return function(c){return a._selectionOverrides.hideFakeCaret(),tt.deleteElement(a,b,Xe.fromDom(c)),!0}},vt=function(a,b){return function(c){var d=b?Ll.before(c):Ll.after(c);return a.selection.setRng(d.toRange()),!0}},wt=function(a){return function(b){return a.selection.setRng(b.toRange()),!0}},xt=function(a,b){var c=at(a.getBody(),b,a.selection.getRng()).map(function(c){return c.fold(ut(a,b),vt(a,b),wt(a))});return c.getOr(!1)},yt=function(a){Sa(wj.descendants(a,".mce-offscreen-selection"),Si.remove)},zt=function(a,b){var c=a.selection.getNode();return!!Lh.isContentEditableFalse(c)&&(yt(Xe.fromDom(a.getBody())),tt.deleteElement(a,b,Xe.fromDom(a.selection.getNode())),Tr.paddEmptyBody(a),!0)},At=function(a,b){for(;b&&b!==a;){if(Lh.isContentEditableTrue(b)||Lh.isContentEditableFalse(b))return b;b=b.parentNode}return null},Bt=function(a){var b,c=At(a.getBody(),a.selection.getNode());return Lh.isContentEditableTrue(c)&&a.dom.isBlock(c)&&a.dom.isEmpty(c)&&(b=a.dom.create("br",{"data-mce-bogus":"1"}),a.dom.setHTML(c,""),c.appendChild(b),a.selection.setRng(Ll.before(b).toRange())),!0},Ct=function(a,b){return a.selection.isCollapsed()?xt(a,b):zt(a,b)},Dt={backspaceDelete:Ct,paddEmptyElement:Bt},Et=Lh.isText,Ft=function(a){return Et(a)&&a.data[0]===wk.ZWSP},Gt=function(a){return Et(a)&&a.data[a.data.length-1]===wk.ZWSP},Ht=function(a){return a.ownerDocument.createTextNode(wk.ZWSP)},It=function(a){if(Et(a.previousSibling))return Gt(a.previousSibling)?a.previousSibling:(a.previousSibling.appendData(wk.ZWSP),a.previousSibling);if(Et(a))return Ft(a)?a:(a.insertData(0,wk.ZWSP),a);var b=Ht(a);return a.parentNode.insertBefore(b,a),b},Jt=function(a){if(Et(a.nextSibling))return Ft(a.nextSibling)?a.nextSibling:(a.nextSibling.insertData(0,wk.ZWSP),a.nextSibling);if(Et(a))return Gt(a)?a:(a.appendData(wk.ZWSP),a);var b=Ht(a);return a.nextSibling?a.parentNode.insertBefore(b,a.nextSibling):a.parentNode.appendChild(b),b},Kt=function(a,b){return a?It(b):Jt(b)},Lt=ta(Kt,!0),Mt=ta(Kt,!1),Nt=function(a,b){return Lh.isText(a.container())?Kt(b,a.container()):Kt(b,a.getNode())},Ot=function(a,b){var c=b.get();return c&&a.container()===c&&Ak(c)},Pt=function(a,b){return b.fold(function(b){Fm.remove(a.get());var c=Lt(b);return a.set(c),Da.some(Ll(c,c.length-1))},function(b){return cp.firstPositionIn(b).map(function(b){if(Ot(b,a))return Ll(a.get(),1);Fm.remove(a.get());var c=Nt(b,!0);return a.set(c),Ll(c,1)})},function(b){return cp.lastPositionIn(b).map(function(b){if(Ot(b,a))return Ll(a.get(),a.get().length-1);Fm.remove(a.get());var c=Nt(b,!1);return a.set(c),Ll(c,c.length-1)})},function(b){Fm.remove(a.get());var c=Mt(b);return a.set(c),Da.some(Ll(c,1))})},Qt={renderCaret:Pt},Rt=function(a,b){for(var c=0;c<a.length;c++){var d=a[c].apply(null,b);if(d.isSome())return d}return Da.none()},St={evaluateUntil:Rt},Tt=Ss.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Ut=function(a,b){var c=Do(b,a);return c?c:a},Vt=function(a,b,c){var d=Nr.normalizeForwards(c),e=Ut(b,d.container());return Nr.findRootInline(a,e,d).fold(function(){return cp.nextPosition(e,d).bind(ta(Nr.findRootInline,a,e)).map(function(a){return Tt.before(a)})},Da.none)},Wt=function(a,b){return null===rm(a,b)},Xt=function(a,b,c){return Nr.findRootInline(a,b,c).filter(ta(Wt,b))},Yt=function(a,b,c){var d=Nr.normalizeBackwards(c);return Xt(a,b,d).bind(function(a){var b=cp.prevPosition(a,d);return b.isNone()?Da.some(Tt.start(a)):Da.none()})},Zt=function(a,b,c){var d=Nr.normalizeForwards(c);return Xt(a,b,d).bind(function(a){var b=cp.nextPosition(a,d);return b.isNone()?Da.some(Tt.end(a)):Da.none()})},$t=function(a,b,c){var d=Nr.normalizeBackwards(c),e=Ut(b,d.container());return Nr.findRootInline(a,e,d).fold(function(){return cp.prevPosition(e,d).bind(ta(Nr.findRootInline,a,e)).map(function(a){return Tt.after(a)})},Da.none)},_t=function(a){return Nr.isRtl(bu(a))===!1},au=function(a,b,c){var d=St.evaluateUntil([Vt,Yt,Zt,$t],[a,b,c]);return d.filter(_t)},bu=function(a){return a.fold(sa,sa,sa,sa)},cu=function(a){return a.fold(ra("before"),ra("start"),ra("end"),ra("after"))},du=function(a){return a.fold(Tt.before,Tt.before,Tt.after,Tt.after)},eu=function(a){return a.fold(Tt.start,Tt.start,Tt.end,Tt.end)},fu=function(a,b){return cu(a)===cu(b)&&bu(a)===bu(b)},gu=function(a,b,c,d,e,f){return pl([Nr.findRootInline(b,c,d),Nr.findRootInline(b,c,e)],function(b,d){return b!==d&&Nr.hasSameParentBlock(c,b,d)?Tt.after(a?b:d):f}).getOr(f)},hu=function(a,b){return a.fold(ra(!0),function(a){return!fu(a,b)})},iu=function(a,b,c,d,e){var f=Nr.normalizePosition(a,e),g=cp.fromPosition(a,c,f).map(ta(Nr.normalizePosition,a)),h=g.fold(function(){return d.map(du)},function(e){return au(b,c,e).map(ta(gu,a,b,c,f,e)).filter(ta(hu,d))});return h.filter(_t)},ju=function(a,b){return a?b.fold(qa(Da.some,Tt.start),Da.none,qa(Da.some,Tt.after),Da.none):b.fold(Da.none,qa(Da.some,Tt.before),Da.none,qa(Da.some,Tt.end))},ku=function(a,b,c,d){var e=Nr.normalizePosition(a,d),f=au(b,c,e);return au(b,c,e).bind(ta(ju,a)).orThunk(function(){return iu(a,b,c,f,d)})},lu={readLocation:au,findLocation:ku,prevLocation:ta(ku,!1),nextLocation:ta(ku,!0),getElement:bu,outside:du,inside:eu},mu=function(a){return La(a.selection.getSel().modify)},nu=function(a,b,c){var d=a?1:-1;return b.setRng(Ll(c.container(),c.offset()+d).toRange()),b.getSel().modify("move",a?"forward":"backward","word"),!0},ou=function(a,b){var c=b.selection.getRng(),d=a?Ll.fromRangeEnd(c):Ll.fromRangeStart(c);return!!mu(b)&&(a&&Ek(d)?nu(!0,b.selection,d):!(a||!Fk(d))&&nu(!1,b.selection,d))},pu={hasSelectionModifyApi:mu,moveByWord:ou},qu=function(a,b){var c=a.dom.createRng();c.setStart(b.container(),b.offset()),c.setEnd(b.container(),b.offset()),a.selection.setRng(c)},ru=function(a){return a.settings.inline_boundaries!==!1},su=function(a,b){a?b.setAttribute("data-mce-selected","inline-boundary"):b.removeAttribute("data-mce-selected")},tu=function(a,b,c){return Qt.renderCaret(b,c).map(function(b){return qu(a,b),c})},uu=function(a,b,c){var d=a.getBody(),e=Ll.fromRangeStart(a.selection.getRng()),f=ta(Nr.isInlineTarget,a),g=lu.findLocation(c,f,d,e);return g.bind(function(c){return tu(a,b,c)})},vu=function(a,b,c){var d=Va(b.select('*[data-mce-selected="inline-boundary"]'),a),e=Va(c,a);Sa(fb(d,e),ta(su,!1)),Sa(fb(e,d),ta(su,!0))},wu=function(a,b){if(a.selection.isCollapsed()&&a.composing!==!0&&b.get()){var c=Ll.fromRangeStart(a.selection.getRng());Ll.isTextPosition(c)&&Nr.isAtZwsp(c)===!1&&(qu(a,Fm.removeAndReposition(b.get(),c)),b.set(null))}},xu=function(a,b,c,d){if(b.selection.isCollapsed()){var e=Va(d,a);Sa(e,function(d){var e=Ll.fromRangeStart(b.selection.getRng());lu.readLocation(a,b.getBody(),e).bind(function(a){return tu(b,c,a)})})}},yu=function(a,b,c){return function(){return!!ru(a)&&uu(a,b,c).isSome()}},zu=function(a,b,c){return function(){return!!ru(b)&&pu.moveByWord(a,b)}},Au=function(a){var b=Vi(null),c=ta(Nr.isInlineTarget,a);return a.on("NodeChange",function(d){ru(a)&&(vu(c,a.dom,d.parents),wu(a,b),xu(c,a,b,d.parents))}),b},Bu=ta(zu,!0),Cu=ta(zu,!1),Du={move:yu,moveNextWord:Bu,movePrevWord:Cu,setupSelectedState:Au,setCaretPosition:qu},Eu=function(a){return a.settings.inline_boundaries!==!1},Fu=function(a,b){var c=document.createRange();return c.setStart(a.container(),a.offset()),c.setEnd(b.container(),b.offset()),c},Gu=function(a){return pl([cp.firstPositionIn(a),cp.lastPositionIn(a)],function(b,c){var d=Nr.normalizePosition(!0,b),e=Nr.normalizePosition(!1,c);return cp.nextPosition(a,d).map(function(a){return a.isEqual(e)}).getOr(!0)}).getOr(!0)},Hu=function(a,b){return function(c){return Qt.renderCaret(b,c).map(function(b){return Du.setCaretPosition(a,b),!0}).getOr(!1)}},Iu=function(a,b,c,d){var e=a.getBody(),f=ta(Nr.isInlineTarget,a);a.undoManager.ignore(function(){a.selection.setRng(Fu(c,d)),a.execCommand("Delete"),lu.readLocation(f,e,Ll.fromRangeStart(a.selection.getRng())).map(lu.inside).map(Hu(a,b))}),a.nodeChanged()},Ju=function(a,b){var c=Do(b,a);return c?c:a},Ku=function(a,b,c,d){var e=Ju(a.getBody(),d.container()),f=ta(Nr.isInlineTarget,a),g=lu.readLocation(f,e,d);return g.bind(function(a){return c?a.fold(ra(Da.some(lu.inside(a))),Da.none,ra(Da.some(lu.outside(a))),Da.none):a.fold(Da.none,ra(Da.some(lu.outside(a))),Da.none,ra(Da.some(lu.inside(a))))}).map(Hu(a,b)).getOrThunk(function(){var h=cp.navigate(c,e,d),i=h.bind(function(a){return lu.readLocation(f,e,a)});return g.isSome()&&i.isSome()?Nr.findRootInline(f,e,d).map(function(b){return!!Gu(b)&&(tt.deleteElement(a,c,Xe.fromDom(b)),!0)}).getOr(!1):i.bind(function(e){return h.map(function(e){return c?Iu(a,b,d,e):Iu(a,b,e,d),!0})}).getOr(!1)})},Lu=function(a,b,c){if(a.selection.isCollapsed()&&Eu(a)){var d=Ll.fromRangeStart(a.selection.getRng());return Ku(a,b,c,d)}return!1},Mu={backspaceDelete:Lu},Nu=Uf("start","end"),Ou=Uf("rng","table","cells"),Pu=Ss.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),Qu=function(a){return ta(og.eq,a)},Ru=function(a,b){return Kj.closest(Xe.fromDom(a),"td,th",b)},Su=function(a,b){return Kj.ancestor(a,"table",b)},Tu=function(a){return og.eq(a.start(),a.end())===!1},Uu=function(a,b){return Su(a.start(),b).bind(function(c){return Su(a.end(),b).bind(function(a){return og.eq(c,a)?Da.some(c):Da.none()})})},Vu=function(a){return wj.descendants(a,"td,th")},Wu=function(a,b){return Su(a.start(),b).bind(function(b){return jb(Vu(b)).map(function(b){return Nu(a.start(),b)})})},Xu=function(a,b){var c=Ru(b.startContainer,a),d=Ru(b.endContainer,a);return b.collapsed?Da.none():pl([c,d],Nu).fold(function(){return c.fold(function(){return d.bind(function(b){return Su(b,a).bind(function(a){return ib(Vu(a)).map(function(a){return Nu(a,b)})})})},function(b){return Su(b,a).bind(function(a){return jb(Vu(a)).map(function(a){return Nu(b,a)})})})},function(b){return Yu(a,b)?Da.none():Wu(b,a)})},Yu=function(a,b){return Uu(b,a).isSome()},Zu=function(a,b){var c=Ru(a.startContainer,b),d=Ru(a.endContainer,b);return pl([c,d],Nu).filter(Tu).filter(function(a){return Yu(b,a)}).orThunk(function(){return Xu(b,a)})},$u=function(a,b){return Uu(a,b).map(function(b){return Ou(a,b,Vu(b))})},_u=function(a,b){var c=Qu(a);return Zu(b,c).bind(function(a){return $u(a,c)})},av=function(a,b){return Za(a,function(a){return og.eq(a,b)})},bv=function(a){return pl([av(a.cells(),a.rng().start()),av(a.cells(),a.rng().end())],function(b,c){return a.cells().slice(b,c+1)})},cv=function(a){return bv(a).map(function(b){var c=a.cells();return b.length===c.length?Pu.removeTable(a.table()):Pu.emptyCells(b)})},dv=function(a){return Pu.emptyCells(a)},ev=function(a,b){return _u(a,b).bind(cv)},fv={getActionFromRange:ev,getActionFromCells:dv},gv=function(a){var b=[];if(a)for(var c=0;c<a.rangeCount;c++)b.push(a.getRangeAt(c));return b},hv=function(a){return bb(a,function(a){var b=ll(a);return b?[Xe.fromDom(b)]:[]})},iv=function(a){return gv(a).length>1},jv={getRanges:gv,getSelectedNodes:hv,hasMultipleRanges:iv},kv=function(a){return Va(jv.getSelectedNodes(a),sh)},lv=function(a){var b=wj.descendants(a,"td[data-mce-selected],th[data-mce-selected]");return b},mv=function(a,b){var c=lv(b),d=kv(a);return c.length>0?c:d},nv=function(a){return mv(jv.getRanges(a.selection.getSel()),Xe.fromDom(a.getBody()))},ov={getCellsFromRanges:kv,getCellsFromElement:lv,getCellsFromElementOrRanges:mv,getCellsFromEditor:nv},pv=function(a,b){return Sa(b,Vq.fillWithPaddingBr),a.selection.setCursorLocation(b[0].dom(),0),!0},qv=function(a,b){return tt.deleteElement(a,!1,b),!0},rv=function(a,b,c){return fv.getActionFromRange(b,c).map(function(b){return b.fold(ta(qv,a),ta(pv,a))})},sv=function(a,b){return yv(a,b)},tv=function(a,b,c,d){return wv(b,d).fold(function(){return rv(a,b,c)},function(b){return sv(a,b)}).getOr(!1)},uv=function(a,b){var c=Xe.fromDom(a.getBody()),d=a.selection.getRng(),e=ov.getCellsFromEditor(a);return 0!==e.length?pv(a,e):tv(a,c,d,b)},vv=function(a,b){return Ya(xs.parentsAndSelf(b,a),sh)},wv=function(a,b){return Ya(xs.parentsAndSelf(b,a),function(a){return"caption"===ff.name(a)})},xv=function(a,b,c,d,e){return cp.navigate(c,a.getBody(),e).bind(function(a){return vv(b,Xe.fromDom(a.getNode())).map(function(a){return og.eq(a,d)===!1})})},yv=function(a,b){return Vq.fillWithPaddingBr(b),a.selection.setCursorLocation(b.dom(),0),Da.some(!0)},zv=function(a,b,c,d){return cp.firstPositionIn(a.dom()).bind(function(e){return cp.lastPositionIn(a.dom()).map(function(a){return b?c.isEqual(e)&&d.isEqual(a):c.isEqual(a)&&d.isEqual(e)})}).getOr(!0)},Av=function(a,b){return yv(a,b)},Bv=function(a,b,c){return wv(a,Xe.fromDom(c.getNode())).map(function(a){return og.eq(a,b)===!1})},Cv=function(a,b,c,d,e){return cp.navigate(c,a.getBody(),e).bind(function(f){return zv(d,c,e,f)?Av(a,d):Bv(b,d,f)}).or(Da.some(!0))},Dv=function(a,b,c,d){var e=Ll.fromRangeStart(a.selection.getRng());return vv(c,d).bind(function(d){return is.isEmpty(d)?yv(a,d):xv(a,c,b,d,e)})},Ev=function(a,b,c,d){var e=Ll.fromRangeStart(a.selection.getRng());return is.isEmpty(d)?yv(a,d):Cv(a,c,b,d,e)},Fv=function(a,b,c){var d=Xe.fromDom(a.getBody());return wv(d,c).fold(function(){return Dv(a,b,d,c)},function(c){return Ev(a,b,d,c)}).getOr(!1)},Gv=function(a,b){var c=Xe.fromDom(a.selection.getStart(!0)),d=ov.getCellsFromEditor(a);return a.selection.isCollapsed()&&0===d.length?Fv(a,b,c):uv(a,c)},Hv={backspaceDelete:Gv},Iv=function(a,b){a.getDoc().execCommand(b,!1,null)},Jv=function(a){Dt.backspaceDelete(a,!1)||Mu.backspaceDelete(a,!1)||Is.backspaceDelete(a,!1)||Hv.backspaceDelete(a)||Qs.backspaceDelete(a,!1)||(Iv(a,"Delete"),Tr.paddEmptyBody(a))},Kv=function(a){Dt.backspaceDelete(a,!0)||Mu.backspaceDelete(a,!0)||Is.backspaceDelete(a,!0)||Hv.backspaceDelete(a)||Qs.backspaceDelete(a,!0)||Iv(a,"ForwardDelete")},Lv={deleteCommand:Jv,forwardDeleteCommand:Kv},Mv=function(a,b,c){var d=function(b){return Tf.getRaw(b,a)},e=function(a){return og.eq(Xe.fromDom(b),a)};return Dj.closest(Xe.fromDom(c),function(a){return d(a).isSome()},e).bind(d)},Nv=function(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c},Ov=function(a,b){return/[0-9.]+px$/.test(a)?Nv(72*parseInt(a,10)/96,b||0)+"pt":a},Pv=function(a){return a.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},Qv=function(a,b){return Da.from(wi.DOM.getStyle(b,a,!0))},Rv=function(a){return function(b,c){return Da.from(c).map(Xe.fromDom).filter(ff.isElement).bind(function(c){return Mv(a,b,c.dom()).or(Qv(a,c.dom()))}).getOr("")}},Sv={getFontSize:Rv("font-size"),getFontFamily:qa(Pv,Rv("font-family")),toPt:Ov},Tv=function(a){return cp.firstPositionIn(a.getBody()).map(function(a){var b=a.container();return Lh.isText(b)?b.parentNode:b})},Uv=function(a,b){return a.startContainer===b&&0===a.startOffset},Vv=function(a){return Da.from(a.selection.getRng()).bind(function(b){var c=a.getBody();return Uv(b,c)?Da.none():Da.from(a.selection.getStart(!0))})},Wv=function(a,b){if(/^[0-9\.]+$/.test(b)){var c=parseInt(b,10);if(c>=1&&c<=7){var d=Wn.getFontStyleValues(a),e=Wn.getFontSizeClasses(a);return e?e[c-1]||b:d[c-1]||b}return b}return b},Xv=function(a,b){a.formatter.toggle("fontname",{value:Wv(a,b)}),a.nodeChanged()},Yv=function(a){return Vv(a).fold(function(){return Tv(a).map(function(b){return Sv.getFontFamily(a.getBody(),b)}).getOr("")},function(b){return Sv.getFontFamily(a.getBody(),b)})},Zv=function(a,b){a.formatter.toggle("fontsize",{value:Wv(a,b)}),a.nodeChanged()},$v=function(a){return Vv(a).fold(function(){return Tv(a).map(function(b){return Sv.getFontSize(a.getBody(),b)}).getOr("")},function(b){return Sv.getFontSize(a.getBody(),b)})},_v=function(a,b){
return a&&b&&a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset},aw={isEq:_v},bw=function(a,b,c){for(;a&&a!==b;){if(c(a))return a;a=a.parentNode}return null},cw=function(a,b,c){return null!==bw(a,b,c)},dw=function(a,b,c){return cw(a,b,function(a){return a.nodeName===c})},ew=function(a){return a&&"TABLE"===a.nodeName},fw=function(a){return a&&/^(TD|TH|CAPTION)$/.test(a.nodeName)},gw=function(a,b){return Bk(a)&&cw(a,b,qm)===!1},hw=function(a,b,c){for(var d=new s(b,a.getParent(b.parentNode,a.isBlock)||a.getRoot());b=d[c?"prev":"next"]();)if(Lh.isBr(b))return!0},iw=function(a,b){return a.previousSibling&&a.previousSibling.nodeName===b},jw=function(a,b){for(;b&&b!==a;){if(Lh.isContentEditableFalse(b))return!0;b=b.parentNode}return!1},kw=function(a,b,c,d,e){var f,g,h,i,j=a.getRoot(),k=a.schema.getNonEmptyElements();if(h=a.getParent(e.parentNode,a.isBlock)||j,d&&Lh.isBr(e)&&b&&a.isEmpty(h))return Da.some(z(e.parentNode,a.nodeIndex(e)));for(f=new s(e,h);i=f[d?"prev":"next"]();){if("false"===a.getContentEditableParent(i)||gw(i,j))return Da.none();if(Lh.isText(i)&&i.nodeValue.length>0)return dw(i,j,"A")===!1?Da.some(z(i,d?i.nodeValue.length:0)):Da.none();if(a.isBlock(i)||k[i.nodeName.toLowerCase()])return Da.none();g=i}return c&&g?Da.some(z(g,0)):Da.none()},lw=function(a,b,c,d){var e,f,g,h,i,j,k,l=a.getRoot(),m=!1;if(e=d[(c?"start":"end")+"Container"],f=d[(c?"start":"end")+"Offset"],k=Lh.isElement(e)&&f===e.childNodes.length,i=a.schema.getNonEmptyElements(),j=c,Bk(e))return Da.none();if(Lh.isElement(e)&&f>e.childNodes.length-1&&(j=!1),Lh.isDocument(e)&&(e=l,f=0),e===l){if(j&&(h=e.childNodes[f>0?f-1:0])){if(Bk(h))return Da.none();if(i[h.nodeName]||ew(h))return Da.none()}if(e.hasChildNodes()){if(f=Math.min(!j&&f>0?f-1:f,e.childNodes.length-1),e=e.childNodes[f],f=Lh.isText(e)&&k?e.data.length:0,!b&&e===l.lastChild&&ew(e))return Da.none();if(jw(l,e)||Bk(e))return Da.none();if(e.hasChildNodes()&&ew(e)===!1){h=e,g=new s(e,l);do{if(Lh.isContentEditableFalse(h)||Bk(h)){m=!1;break}if(Lh.isText(h)&&h.nodeValue.length>0){f=j?0:h.nodeValue.length,e=h,m=!0;break}if(i[h.nodeName.toLowerCase()]&&!fw(h)){f=a.nodeIndex(h),e=h.parentNode,j||f++,m=!0;break}}while(h=j?g.next():g.prev())}}}return b&&(Lh.isText(e)&&0===f&&kw(a,k,b,!0,e).each(function(a){e=a.container(),f=a.offset(),m=!0}),Lh.isElement(e)&&(h=e.childNodes[f],h||(h=e.childNodes[f-1]),!h||!Lh.isBr(h)||iw(h,"A")||hw(a,h,!1)||hw(a,h,!0)||kw(a,k,b,!0,h).each(function(a){e=a.container(),f=a.offset(),m=!0}))),j&&!b&&Lh.isText(e)&&f===e.nodeValue.length&&kw(a,k,b,!1,e).each(function(a){e=a.container(),f=a.offset(),m=!0}),m?Da.some(z(e,f)):Da.none()},mw=function(a,b){var c=b.collapsed,d=b.cloneRange(),e=z.fromRangeStart(b);return lw(a,c,!0,d).each(function(a){c&&z.isAbove(e,a)||d.setStart(a.container(),a.offset())}),c||lw(a,c,!1,d).each(function(a){d.setEnd(a.container(),a.offset())}),c&&d.collapse(!0),aw.isEq(b,d)?Da.none():Da.some(d)},nw={normalize:mw},ow=function(a,b,c){for(var d,e=new s(b,c),f=a.getNonEmptyElements();d=e.next();)if(f[d.nodeName.toLowerCase()]||d.length>0)return!0},pw=function(a,b,c){var d=a.create("span",{},"&nbsp;");c.parentNode.insertBefore(d,c),b.scrollIntoView(d),a.remove(d)},qw=function(a,b,c,d){var e=a.createRng();d?(e.setStartBefore(c),e.setEndBefore(c)):(e.setStartAfter(c),e.setEndAfter(c)),b.setRng(e)},rw=function(a,b){var c,d,e=a.selection,f=a.dom,g=e.getRng();nw.normalize(f,g).each(function(a){g.setStart(a.startContainer,a.startOffset),g.setEnd(a.endContainer,a.endOffset)});var h=g.startOffset,i=g.startContainer;if(1===i.nodeType&&i.hasChildNodes()){var j=h>i.childNodes.length-1;i=i.childNodes[Math.min(h,i.childNodes.length-1)]||i,h=j&&3===i.nodeType?i.nodeValue.length:0}var k=f.getParent(i,f.isBlock),l=k?f.getParent(k.parentNode,f.isBlock):null,m=l?l.nodeName.toUpperCase():"",n=b&&b.ctrlKey;"LI"!==m||n||(k=l),i&&3===i.nodeType&&h>=i.nodeValue.length&&(ow(a.schema,i,k)||(c=f.create("br"),g.insertNode(c),g.setStartAfter(c),g.setEndAfter(c),d=!0)),c=f.create("br"),g.insertNode(c),pw(f,e,c),qw(f,e,c,d),a.undoManager.add()},sw=function(a,b){var c=Xe.fromTag("br");Ji.before(Xe.fromDom(b),c),a.undoManager.add()},tw=function(a,b){vw(a.getBody(),b)||Ji.after(Xe.fromDom(b),Xe.fromTag("br"));var c=Xe.fromTag("br");Ji.after(Xe.fromDom(b),c),pw(a.dom,a.selection,c.dom()),qw(a.dom,a.selection,c.dom(),!1),a.undoManager.add()},uw=function(a){return Lh.isBr(a.getNode())},vw=function(a,b){return!!uw(Ll.after(b))||cp.nextPosition(a,Ll.after(b)).map(function(a){return Lh.isBr(a.getNode())}).getOr(!1)},ww=function(a){return a&&"A"===a.nodeName&&"href"in a},xw=function(a){return a.fold(ra(!1),ww,ww,ra(!1))},yw=function(a){var b=ta(Nr.isInlineTarget,a),c=Ll.fromRangeStart(a.selection.getRng());return lu.readLocation(b,a.getBody(),c).filter(xw)},zw=function(a,b){b.fold(pa,ta(sw,a),ta(tw,a),pa)},Aw=function(a,b){var c=yw(a);c.isSome()?c.each(ta(zw,a)):rw(a,b)},Bw={insert:Aw},Cw=Ss.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Dw=function(a,b,c,d){return a.fold(b,c,d)},Ew=function(a){return a.fold(sa,sa,sa)},Fw={before:Cw.before,on:Cw.on,after:Cw.after,cata:Dw,getStart:Ew},Gw=Ss.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Hw=Uf("start","soffset","finish","foffset"),Iw=function(a){return Gw.exact(a.start(),a.soffset(),a.finish(),a.foffset())},Jw=function(a){return a.match({domRange:function(a){return Xe.fromDom(a.startContainer)},relative:function(a,b){return Fw.getStart(a)},exact:function(a,b,c,d){return a}})},Kw=function(a){var b=Jw(a);return Jg.defaultView(b)},Lw={domRange:Gw.domRange,relative:Gw.relative,exact:Gw.exact,exactFromRange:Iw,range:Hw,getWin:Kw},Mw=Re.detect().browser,Nw=function(a,b){var c=ff.isText(b)?kq.get(b).length:Jg.children(b).length+1;return a>c?c:a<0?0:a},Ow=function(a){return Lw.range(a.start(),Nw(a.soffset(),a.start()),a.finish(),Nw(a.foffset(),a.finish()))},Pw=function(a,b){return og.contains(a,b)||og.eq(a,b)},Qw=function(a){return function(b){return Pw(a,b.start())&&Pw(a,b.finish())}},Rw=function(a){return a.inline===!0||Mw.isIE()},Sw=function(a){return Lw.range(Xe.fromDom(a.startContainer),a.startOffset,Xe.fromDom(a.endContainer),a.endOffset)},Tw=function(a){var b=a.getSelection(),c=b&&0!==b.rangeCount?Da.from(b.getRangeAt(0)):Da.none();return c.map(Sw)},Uw=function(a){var b=Jg.defaultView(a);return Tw(b.dom()).filter(Qw(a))},Vw=function(a,b){return Da.from(b).filter(Qw(a)).map(Ow)},Ww=function(a){var b=document.createRange();try{return b.setStart(a.start().dom(),a.soffset()),b.setEnd(a.finish().dom(),a.foffset()),Da.some(b)}catch(c){return Da.none()}},Xw=function(a){var b=Rw(a)?Uw(Xe.fromDom(a.getBody())):Da.none();a.bookmark=b.isSome()?b:a.bookmark},Yw=function(a,b){var c=Xe.fromDom(a.getBody()),d=Rw(a)?Da.from(b):Da.none(),e=d.map(Sw).filter(Qw(c));a.bookmark=e.isSome()?e:a.bookmark},Zw=function(a){var b=a.bookmark?a.bookmark:Da.none();return b.bind(ta(Vw,Xe.fromDom(a.getBody()))).bind(Ww)},$w=function(a){Zw(a).each(function(b){a.selection.setRng(b)})},_w={store:Xw,storeNative:Yw,readRange:Tw,restore:$w,getRng:Zw,getBookmark:Uw,validate:Vw},ax=function(a,b,c,d,e,f){if("false"!==a.getContentEditable(f)&&"LI"!==f.nodeName){var g=c?"margin":"padding";if(g="TABLE"===f.nodeName?"margin":g,g+="rtl"===a.getStyle(f,"direction",!0)?"Right":"Left","outdent"===b){var h=Math.max(0,parseInt(f.style[g]||0,10)-d);a.setStyle(f,g,h?h+e:"")}else{var h=parseInt(f.style[g]||0,10)+d+e;a.setStyle(f,g,h)}}},bx=function(a,b){var c=a.settings,d=a.dom,e=a.selection,f=a.formatter,g=/[a-z%]+$/i.exec(c.indentation)[0],h=parseInt(c.indentation,10),i=a.getParam("indent_use_margin",!1);a.queryCommandState("InsertUnorderedList")||a.queryCommandState("InsertOrderedList")||(c.forced_root_block||d.getParent(e.getNode(),d.isBlock)||f.apply("div"),Sa(e.getSelectedBlocks(),function(a){return ax(d,b,i,h,g,a)}))},cx=vd.each,dx=vd.extend,ex=vd.map,fx=vd.inArray,gx=vd.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),hx=function(a){var b,c,d=this,e={},f=function(){return!1},g=function(){return!0};a=a||{},b=a.scope||d,c=a.toggleEvent||f;var h=function(c,d){var h,i,k,l;if(c=c.toLowerCase(),d=d||{},d.type=c,d.target||(d.target=b),d.preventDefault||(d.preventDefault=function(){d.isDefaultPrevented=g},d.stopPropagation=function(){d.isPropagationStopped=g},d.stopImmediatePropagation=function(){d.isImmediatePropagationStopped=g},d.isDefaultPrevented=f,d.isPropagationStopped=f,d.isImmediatePropagationStopped=f),a.beforeFire&&a.beforeFire(d),h=e[c])for(i=0,k=h.length;i<k;i++){if(l=h[i],l.once&&j(c,l.func),d.isImmediatePropagationStopped())return d.stopPropagation(),d;if(l.func.call(b,d)===!1)return d.preventDefault(),d}return d},i=function(a,b,g,h){var i,j,k;if(b===!1&&(b=f),b)for(b={func:b},h&&vd.extend(b,h),j=a.toLowerCase().split(" "),k=j.length;k--;)a=j[k],i=e[a],i||(i=e[a]=[],c(a,!0)),g?i.unshift(b):i.push(b);return d},j=function(a,b){var f,g,h,i,j;if(a)for(i=a.toLowerCase().split(" "),f=i.length;f--;){if(a=i[f],g=e[a],!a){for(h in e)c(h,!1),delete e[h];return d}if(g){if(b)for(j=g.length;j--;)g[j].func===b&&(g=g.slice(0,j).concat(g.slice(j+1)),e[a]=g);else g.length=0;g.length||(c(a,!1),delete e[a])}}else{for(a in e)c(a,!1);e={}}return d},k=function(a,b,c){return i(a,b,c,{once:!0})},l=function(a){return a=a.toLowerCase(),!(!e[a]||0===e[a].length)};d.fire=h,d.on=i,d.off=j,d.once=k,d.has=l};hx.isNative=function(a){return!!gx[a.toLowerCase()]};var ix,jx=function(a){return a._eventDispatcher||(a._eventDispatcher=new hx({scope:a,toggleEvent:function(b,c){hx.isNative(b)&&a.toggleNativeEvent&&a.toggleNativeEvent(b,c)}})),a._eventDispatcher},kx={fire:function(a,b,c){var d=this;if(d.removed&&"remove"!==a)return b;if(b=jx(d).fire(a,b,c),c!==!1&&d.parent)for(var e=d.parent();e&&!b.isPropagationStopped();)e.fire(a,b,!1),e=e.parent();return b},on:function(a,b,c){return jx(this).on(a,b,c)},off:function(a,b){return jx(this).off(a,b)},once:function(a,b){return jx(this).once(a,b)},hasEventListeners:function(a){return jx(this).has(a)}},lx=function(a,b){return a.fire("PreProcess",b)},mx=function(a,b){return a.fire("PostProcess",b)},nx=function(a){return a.fire("remove")},ox=function(a,b){return a.fire("SwitchMode",{mode:b})},px=function(a,b,c,d){a.fire("ObjectResizeStart",{target:b,width:c,height:d})},qx=function(a,b,c,d){a.fire("ObjectResized",{target:b,width:c,height:d})},rx={firePreProcess:lx,firePostProcess:mx,fireRemove:nx,fireSwitchMode:ox,fireObjectResizeStart:px,fireObjectResized:qx},sx=function(a,b,c){try{a.getDoc().execCommand(b,!1,c)}catch(d){}},tx=function(a,b,c){kj.has(a,b)&&c===!1?kj.remove(a,b):c&&kj.add(a,b)},ux=function(a,b){tx(Xe.fromDom(a.getBody()),"mce-content-readonly",b),b?(a.selection.controlSelection.hideResizeRect(),a.readonly=!0,a.getBody().contentEditable="false"):(a.readonly=!1,a.getBody().contentEditable="true",sx(a,"StyleWithCSS",!1),sx(a,"enableInlineTableEditing",!1),sx(a,"enableObjectResizing",!1),a.focus(),a.nodeChanged())},vx=function(a,b){b!==wx(a)&&(a.initialized?ux(a,"readonly"===b):a.on("init",function(){ux(a,"readonly"===b)}),rx.fireSwitchMode(a,b))},wx=function(a){return a.readonly?"readonly":"design"},xx=function(a){return a.readonly===!0},yx=wi.DOM,zx=function(a,b){return"selectionchange"===b?a.getDoc():!a.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(b)?a.getDoc().documentElement:a.settings.event_root?(a.eventRoot||(a.eventRoot=yx.select(a.settings.event_root)[0]),a.eventRoot):a.getBody()},Ax=function(a){return!a.hidden&&!a.readonly},Bx=function(a,b,c){Ax(a)?a.fire(b,c):xx(a)&&c.preventDefault()},Cx=function(a,b){var c,d;if(a.delegates||(a.delegates={}),!a.delegates[b]&&!a.removed)if(c=zx(a,b),a.settings.event_root){if(ix||(ix={},a.editorManager.on("removeEditor",function(){var b;if(!a.editorManager.activeEditor&&ix){for(b in ix)a.dom.unbind(zx(a,b));ix=null}})),ix[b])return;d=function(c){for(var d=c.target,e=a.editorManager.get(),f=e.length;f--;){var g=e[f].getBody();(g===d||yx.isChildOf(d,g))&&Bx(e[f],b,c)}},ix[b]=d,yx.bind(c,b,d)}else d=function(c){Bx(a,b,c)},yx.bind(c,b,d),a.delegates[b]=d},Dx={bindPendingEventDelegates:function(){var a=this;vd.each(a._pendingNativeEvents,function(b){Cx(a,b)})},toggleNativeEvent:function(a,b){var c=this;"focus"!==a&&"blur"!==a&&(b?c.initialized?Cx(c,a):c._pendingNativeEvents?c._pendingNativeEvents.push(a):c._pendingNativeEvents=[a]:c.initialized&&(c.dom.unbind(zx(c,a),a,c.delegates[a]),delete c.delegates[a]))},unbindAllNativeEvents:function(){var a,b=this,c=b.getBody(),d=b.dom;if(b.delegates){for(a in b.delegates)b.dom.unbind(zx(b,a),a,b.delegates[a]);delete b.delegates}!b.inline&&c&&d&&(c.onload=null,d.unbind(b.getWin()),d.unbind(b.getDoc())),d&&(d.unbind(c),d.unbind(b.getContainer()))}};Dx=vd.extend({},kx,Dx);var Ex,Fx=Dx,Gx=vd.each,Hx=vd.explode,Ix={f9:120,f10:121,f11:122},Jx=vd.makeMap("alt,ctrl,shift,meta,access"),Kx=function(a){return Dj.first(a).isSome()},Lx=function(a,b,c){return Dj.ancestor(a,b,c).isSome()},Mx=function(a,b,c){return Dj.closest(a,b,c).isSome()},Nx=function(a,b){return Dj.sibling(a,b).isSome()},Ox=function(a,b){return Dj.child(a,b).isSome()},Px=function(a,b){return Dj.descendant(a,b).isSome()},Qx={any:Kx,ancestor:Lx,closest:Mx,sibling:Nx,child:Ox,descendant:Px},Rx=function(a){a.dom().focus()},Sx=function(a){a.dom().blur()},Tx=function(a){var b=Jg.owner(a).dom();return a.dom()===b.activeElement},Ux=function(a){var b=void 0!==a?a.dom():document;return Da.from(b.activeElement).map(Xe.fromDom)},Vx=function(a){var b=Jg.owner(a),c=Ux(b).filter(function(b){return Qx.closest(b,ta(og.eq,a))});c.fold(function(){Rx(a)},pa)},Wx=function(a){return Ux(Jg.owner(a)).filter(function(b){return a.dom().contains(b.dom())})},Xx={hasFocus:Tx,focus:Rx,blur:Sx,active:Ux,search:Wx,focusInside:Vx},Yx=function(a,b){return a.dom.getParent(b,function(b){return"true"===a.dom.getContentEditable(b)})},Zx=function(a){return a.collapsed?Da.from(ml(a.startContainer,a.startOffset)).map(Xe.fromDom):Da.none()},$x=function(a,b){return Zx(b).bind(function(b){return rh(b)?Da.some(b):og.contains(a,b)===!1?Da.some(a):Da.none()})},_x=function(a,b){$x(Xe.fromDom(a.getBody()),b).bind(function(a){return cp.firstPositionIn(a.dom())}).fold(function(){a.selection.normalize()},function(b){return a.selection.setRng(b.toRange())})},ay=function(a){if(a.setActive)try{a.setActive()}catch(b){a.focus()}else a.focus()},by=function(a){return Xx.hasFocus(a)||Xx.search(a).isSome()},cy=function(a){return a.iframeElement&&Xx.hasFocus(Xe.fromDom(a.iframeElement))},dy=function(a){var b=a.getBody();return b&&by(Xe.fromDom(b))},ey=function(a){return a.inline?dy(a):cy(a)},fy=function(a){var b=a.selection,c=a.settings.content_editable,d=a.getBody(),e=b.getRng();a.quirks.refreshContentEditable();var f=Yx(a,b.getNode());return a.$.contains(d,f)?(ay(f),_x(a,e),void gy(a)):(void 0!==a.bookmark&&ey(a)===!1&&_w.getRng(a).each(function(b){a.selection.setRng(b),e=b}),c||(Ab.opera||ay(d),a.getWin().focus()),(Ab.gecko||c)&&(ay(d),_x(a,e)),void gy(a))},gy=function(a){return a.editorManager.setActive(a)},hy=function(a,b){a.removed||(b?gy(a):fy(a))},iy={focus:hy,hasFocus:ey},jy=function(a,b){var c=b.dom();return c[a]},ky=function(a,b){return parseInt(Tf.get(b,a),10)},ly=ta(jy,"clientWidth"),my=ta(jy,"clientHeight"),ny=ta(ky,"margin-top"),oy=ta(ky,"margin-left"),py=function(a){return a.dom().getBoundingClientRect()},qy=function(a,b,c){var d=ly(a),e=my(a);return b>=0&&c>=0&&b<=d&&c<=e},ry=function(a,b,c,d){var e=py(b),f=a?e.left+b.dom().clientLeft+oy(b):0,g=a?e.top+b.dom().clientTop+ny(b):0,h=c-f,i=d-g;return{x:h,y:i}},sy=function(a,b,c){var d=Xe.fromDom(a.getBody()),e=a.inline?d:Jg.documentElement(d),f=ry(a.inline,e,b,c);return qy(e,f.x,f.y)},ty=function(a){return Da.from(a).map(Xe.fromDom)},uy=function(a){var b=a.inline?a.getBody():a.getContentAreaContainer();return ty(b).map(function(a){return og.contains(Jg.owner(a),a)}).getOr(!1)},vy={isXYInContentArea:sy,isEditorAttachedToDom:uy},wy=w.PluginManager,xy=function(a,b){for(var c in wy.urls){var d=wy.urls[c]+"/plugin"+b+".js";if(d===a)return c}return null},yy=function(a,b){var c=xy(b,a.suffix);return c?"Failed to load plugin: "+c+" from url "+b:"Failed to load plugin url: "+b},zy=function(a,b){a.notificationManager.open({type:"error",text:b})},Ay=function(a,b){a._skinLoaded?zy(a,b):a.on("SkinLoaded",function(){zy(a,b)})},By=function(a,b){Ay(a,"Failed to upload image: "+b)},Cy=function(a,b){Ay(a,yy(a,b))},Dy=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var d=window.console;d&&(d.error?d.error.apply(d,arguments):d.log.apply(d,arguments))},Ey={pluginLoadError:Cy,uploadError:By,displayError:Ay,initError:Dy},Fy=w.PluginManager,Gy=w.ThemeManager,Hy=function(a){var b=qb.getOrDie("requestAnimationFrame");b(a)},Iy=function(a){var b=qb.getOrDie("atob");return b(a)},Jy={atob:Iy,requestAnimationFrame:Hy},Ky=function(a){return new Cb(function(b,c){var d=function(){c("Cannot convert "+a+" to Blob. Resource might not exist or is inaccessible.")};try{var e=new K;e.open("GET",a,!0),e.responseType="blob",e.onload=function(){200===this.status?b(this.response):d()},e.onerror=d,e.send()}catch(f){d()}})},Ly=function(a){var b,c;return a=decodeURIComponent(a).split(","),c=/data:([^;]+)/.exec(a[0]),c&&(b=c[1]),{type:b,data:a[1]}},My=function(a){return new Cb(function(b){var c,d,e;a=Ly(a);try{c=Jy.atob(a.data)}catch(f){return void b(new M([]))}for(d=new O(c.length),e=0;e<d.length;e++)d[e]=c.charCodeAt(e);b(new M([d],{type:a.type}))})},Ny=function(a){return 0===a.indexOf("blob:")?Ky(a):0===a.indexOf("data:")?My(a):null},Oy=function(a){return new Cb(function(b){var c=new N;c.onloadend=function(){b(c.result)},c.readAsDataURL(a)})},Py={uriToBlob:Ny,blobToDataUri:Oy,parseDataUri:Ly},Qy=0,Ry=function(a){return(a||"blobid")+Qy++},Sy=function(a,b,c,d){var e,f;return 0===b.src.indexOf("blob:")?(f=a.getByUri(b.src),void(f?c({image:b,blobInfo:f}):Py.uriToBlob(b.src).then(function(d){Py.blobToDataUri(d).then(function(g){e=Py.parseDataUri(g).data,f=a.create(Ry(),d,e),a.add(f),c({image:b,blobInfo:f})})},function(a){d(a)}))):(e=Py.parseDataUri(b.src).data,f=a.findFirst(function(a){return a.base64()===e}),void(f?c({image:b,blobInfo:f}):Py.uriToBlob(b.src).then(function(d){f=a.create(Ry(),d,e),a.add(f),c({image:b,blobInfo:f})},function(a){d(a)})))},Ty=function(a){return a?a.getElementsByTagName("img"):[]},Uy=0,Vy=function(){var a=function(){return Math.round(4294967295*Math.random()).toString(36)},b=(new Date).getTime();return"s"+b.toString(36)+a()+a()+a()},Wy=function(a){return a+Uy++ +Vy()},Xy={uuid:Wy},Yy=function(a,b){return a.hasOwnProperty(b.nodeName)},Zy=function(a,b){return!!Lh.isText(b)||!!Lh.isElement(b)&&(!Yy(a,b)&&!Ap.isBookmarkNode(b))},$y=function(a,b,c){return Qa(xs.parents(Xe.fromDom(c),Xe.fromDom(b)),function(b){return Yy(a,b.dom())})},_y=function(a,b){if(Lh.isText(b)){if(0===b.nodeValue.length)return!0;if(/^\s+$/.test(b.nodeValue)&&(!b.nextSibling||Yy(a,b.nextSibling)))return!0}return!1},az=function(a){var b,c,d,e,f,g,h,i,j,k,l,m=a.settings,n=a.dom,o=a.selection,p=a.schema,q=p.getBlockElements(),r=o.getStart(),s=a.getBody();if(l=m.forced_root_block,r&&Lh.isElement(r)&&l&&(k=s.nodeName.toLowerCase(),p.isValidChild(k,l.toLowerCase())&&!$y(q,s,r))){for(b=o.getRng(),c=b.startContainer,d=b.startOffset,e=b.endContainer,f=b.endOffset,j=iy.hasFocus(a),r=s.firstChild;r;)if(Zy(q,r)){if(_y(q,r)){h=r,r=r.nextSibling,n.remove(h);continue}g||(g=n.create(l,a.settings.forced_root_block_attrs),r.parentNode.insertBefore(g,r),i=!0),h=r,r=r.nextSibling,g.appendChild(h)}else g=null,r=r.nextSibling;i&&j&&(b.setStart(c,d),b.setEnd(e,f),o.setRng(b),a.nodeChanged())}},bz=function(a){a.settings.forced_root_block&&a.on("NodeChange",ta(az,a))},cz={setup:bz},dz=function(a){var b=a.startContainer,c=a.startOffset;return Lh.isText(b)?0===c?Da.some(Xe.fromDom(b)):Da.none():Da.from(b.childNodes[c]).map(Xe.fromDom)},ez=function(a){var b=a.endContainer,c=a.endOffset;return Lh.isText(b)?c===b.data.length?Da.some(Xe.fromDom(b)):Da.none():Da.from(b.childNodes[c-1]).map(Xe.fromDom)},fz=function(a){return Jg.firstChild(a).fold(ra([a]),function(b){return[a].concat(fz(b))})},gz=function(a){return Jg.lastChild(a).fold(ra([a]),function(b){return"br"===ff.name(b)?Jg.prevSibling(b).map(function(b){return[a].concat(gz(b))}).getOr([]):[a].concat(gz(b))})},hz=function(a,b){return pl([dz(b),ez(b)],function(b,c){var d=Ya(fz(a),ta(og.eq,b)),e=Ya(gz(a),ta(og.eq,c));return d.isSome()&&e.isSome()}).getOr(!1)},iz=function(a,b,c,d){var e=c,f=new s(c,e),g=a.schema.getNonEmptyElements();do{if(3===c.nodeType&&0!==vd.trim(c.nodeValue).length)return void(d?b.setStart(c,0):b.setEnd(c,c.nodeValue.length));if(g[c.nodeName]&&!/^(TD|TH)$/.test(c.nodeName))return void(d?b.setStartBefore(c):"BR"===c.nodeName?b.setEndBefore(c):b.setEndAfter(c));if(Ab.ie&&Ab.ie<11&&a.isBlock(c)&&a.isEmpty(c))return void(d?b.setStart(c,0):b.setEnd(c,0))}while(c=d?f.next():f.prev());"BODY"===e.nodeName&&(d?b.setStart(e,0):b.setEnd(e,e.childNodes.length))},jz=function(a){var b=a.selection.getSel();return b&&b.rangeCount>0},kz=function(a){var b,c,d,e;return e=a.getBoundingClientRect(),b=a.ownerDocument,c=b.documentElement,d=b.defaultView,{top:e.top+d.pageYOffset-c.clientTop,left:e.left+d.pageXOffset-c.clientLeft}},lz=function(a){return a.inline?kz(a.getBody()):{left:0,top:0}},mz=function(a){var b=a.getBody();return a.inline?{left:b.scrollLeft,top:b.scrollTop}:{left:0,top:0}},nz=function(a){var b=a.getBody(),c=a.getDoc().documentElement,d={left:b.scrollLeft,top:b.scrollTop},e={left:b.scrollLeft||c.scrollLeft,top:b.scrollTop||c.scrollTop};return a.inline?d:e},oz=function(a,b){if(b.target.ownerDocument!==a.getDoc()){var c=kz(a.getContentAreaContainer()),d=nz(a);return{left:b.pageX-c.left+d.left,top:b.pageY-c.top+d.top}}return{left:b.pageX,top:b.pageY}},pz=function(a,b,c){return{pageX:c.left-a.left+b.left,pageY:c.top-a.top+b.top}},qz=function(a,b){return pz(lz(a),mz(a),oz(a,b))},rz={calc:qz},sz=Lh.isContentEditableFalse,tz=Lh.isContentEditableTrue,uz=function(a,b){return sz(b)&&b!==a},vz=function(a,b,c){return b!==c&&!a.dom.isChildOf(b,c)&&!sz(b)},wz=function(a){var b=a.cloneNode(!0);return b.removeAttribute("data-mce-selected"),b},xz=function(a,b,c,d){var e=b.cloneNode(!0);a.dom.setStyles(e,{width:c,height:d}),a.dom.setAttrib(e,"data-mce-selected",null);var f=a.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.dom.setStyles(f,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:c,height:d}),a.dom.setStyles(e,{margin:0,boxSizing:"border-box"}),f.appendChild(e),f},yz=function(a,b){a.parentNode!==b&&b.appendChild(a)},zz=function(a,b,c,d,e,f){var g=0,h=0;a.style.left=b.pageX+"px",a.style.top=b.pageY+"px",b.pageX+c>e&&(g=b.pageX+c-e),b.pageY+d>f&&(h=b.pageY+d-f),a.style.width=c-g+"px",a.style.height=d-h+"px"},Az=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},Bz=function(a){return 0===a.button},Cz=function(a){return a.element},Dz=function(a,b){return{pageX:b.pageX-a.relX,pageY:b.pageY+5}},Ez=function(a,b){return function(c){if(Bz(c)){var d=id.find(b.dom.getParents(c.target),sk.or(sz,tz));if(uz(b.getBody(),d)){var e=b.dom.getPos(d),f=b.getBody(),g=b.getDoc().documentElement;a.element=d,a.screenX=c.screenX,a.screenY=c.screenY,a.maxX=(b.inline?f.scrollWidth:g.offsetWidth)-2,a.maxY=(b.inline?f.scrollHeight:g.offsetHeight)-2,a.relX=c.pageX-e.x,a.relY=c.pageY-e.y,a.width=d.offsetWidth,a.height=d.offsetHeight,a.ghost=xz(b,d,a.width,a.height)}}}},Fz=function(a,b){var c=Jb.throttle(function(a,c){b._selectionOverrides.hideFakeCaret(),b.selection.placeCaretAt(a,c)},0);return function(d){var e=Math.max(Math.abs(d.screenX-a.screenX),Math.abs(d.screenY-a.screenY));if(Cz(a)&&!a.dragging&&e>10){var f=b.fire("dragstart",{target:a.element});if(f.isDefaultPrevented())return;a.dragging=!0,b.focus()}if(a.dragging){var g=Dz(a,rz.calc(b,d));yz(a.ghost,b.getBody()),zz(a.ghost,g,a.width,a.height,a.maxX,a.maxY),c(d.clientX,d.clientY)}}},Gz=function(a){var b=a.getSel().getRangeAt(0),c=b.startContainer;return 3===c.nodeType?c.parentNode:c},Hz=function(a,b){return function(c){if(a.dragging&&vz(b,Gz(b.selection),a.element)){var d=wz(a.element),e=b.fire("drop",{targetClone:d,clientX:c.clientX,clientY:c.clientY});e.isDefaultPrevented()||(d=e.targetClone,b.undoManager.transact(function(){Az(a.element),b.insertContent(b.dom.getOuterHTML(d)),b._selectionOverrides.hideFakeCaret()}))}Jz(a)}},Iz=function(a,b){return function(){a.dragging&&b.fire("dragend"),Jz(a)}},Jz=function(a){a.dragging=!1,a.element=null,Az(a.ghost)},Kz=function(a){var b,c,d,e,f,g,h={};b=wi.DOM,g=document,c=Ez(h,a),d=Fz(h,a),e=Hz(h,a),f=Iz(h,a),a.on("mousedown",c),a.on("mousemove",d),a.on("mouseup",e),b.bind(g,"mousemove",d),b.bind(g,"mouseup",f),a.on("remove",function(){b.unbind(g,"mousemove",d),b.unbind(g,"mouseup",f)})},Lz=function(a){a.on("drop",function(b){var c="undefined"!=typeof b.clientX?a.getDoc().elementFromPoint(b.clientX,b.clientY):null;(sz(c)||sz(a.dom.getContentEditableParent(c)))&&b.preventDefault()})},Mz=function(a){Kz(a),Lz(a)},Nz={init:Mz},Oz=function(a){var b=function(b){return id.map(b,function(b){return b=bl(b),b.node=a,b})};if(Lh.isElement(a))return b(a.getClientRects());if(Lh.isText(a)){var c=a.ownerDocument.createRange();return c.setStart(a,0),c.setEnd(a,a.data.length),b(c.getClientRects())}},Pz=function(a){return id.reduce(a,function(a,b){return a.concat(Oz(b))},[])};!function(a){a[a.Up=-1]="Up",a[a.Down=1]="Down"}(Ex||(Ex={}));var Qz=function(a,b,c,d){for(;d=Co(d,a,_k,b);)if(c(d))return},Rz=function(a,b,c,d,e,f){var g,h,i=0,j=[],k=function(d){var f,g,k;for(k=Pz([d]),a===-1&&(k=k.reverse()),f=0;f<k.length;f++)if(g=k[f],!c(g,h)){if(j.length>0&&b(g,id.last(j))&&i++,g.line=i,e(g))return!0;j.push(g)}};return(h=id.last(f.getClientRects()))?(g=f.getNode(),k(g),Qz(a,d,k,g),j):j},Sz=function(a,b){return b.line>a},Tz=function(a,b){return b.line===a},Uz=ta(Rz,Ex.Up,fl,gl),Vz=ta(Rz,Ex.Down,gl,fl),Wz=function(a,b,c,d){var e,f,g,h,i,j,k=$m(b),l=[],m=0,n=function(b){return 1===a?id.last(b.getClientRects()):id.last(b.getClientRects())};1===a?(e=k.next,f=gl,g=fl,h=Ll.after(d)):(e=k.prev,f=fl,g=gl,h=Ll.before(d)),j=n(h);do if(h.isVisible()&&(i=n(h),!g(i,j))){if(l.length>0&&f(i,id.last(l))&&m++,i=bl(i),i.position=h,i.line=m,c(i))return l;l.push(i)}while(h=e(h));return l},Xz=function(a){return function(b){return Sz(a,b)}},Yz=function(a){return function(b){return Tz(a,b)}},Zz=Lh.isContentEditableFalse,$z=Co,_z=function(a,b){return Math.abs(a.left-b)},aA=function(a,b){return Math.abs(a.right-b)},bA=function(a,b){return a>=b.left&&a<=b.right},cA=function(a,b){return id.reduce(a,function(a,c){var d,e;return d=Math.min(_z(a,b),aA(a,b)),e=Math.min(_z(c,b),aA(c,b)),bA(b,c)?c:bA(b,a)?a:e===d&&Zz(c.node)?c:e<d?c:a})},dA=function(a,b,c,d){for(;d=$z(d,a,_k,b);)if(c(d))return},eA=function(a,b){var c=[],d=function(a,d){var e;return e=id.filter(Pz([d]),function(c){return!a(c,b)}),c=c.concat(e),0===e.length};return c.push(b),dA(Ex.Up,a,ta(d,fl),b.node),dA(Ex.Down,a,ta(d,gl),b.node),c},fA=function(a){return id.filter(id.toArray(a.getElementsByTagName("*")),ro)},gA=function(a,b){return{node:a.node,before:_z(a,b)<aA(a,b)}},hA=function(a,b,c){var d,e=Pz(fA(a)),f=id.filter(e,function(a){return c>=a.top&&c<=a.bottom});return d=cA(f,b),d&&(d=cA(eA(a,d),b),d&&ro(d.node))?gA(d,b):null},iA=function(a,b,c){return!c.collapsed&&Xa(c.getClientRects(),function(c,d){return c||hl(d,a,b)},!1)},jA={isXYWithinRange:iA},kA=function(a){var b=Ti(function(){if(!a.removed){var b=a.selection.getRng();if(b.collapsed){var c=Mm(a,a.selection.getRng(),!1);a.selection.setRng(c)}}},0);a.on("focus",function(){b.throttle()}),a.on("blur",function(){b.cancel()})},lA={setup:kA},mA={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(a){return a.shiftKey||a.ctrlKey||a.altKey||this.metaKeyPressed(a)},metaKeyPressed:function(a){return Ab.mac?a.metaKey:a.ctrlKey&&!a.altKey}},nA=Lh.isContentEditableTrue,oA=Lh.isContentEditableFalse,pA=Ro,qA=Qo,rA=function(a,b){for(var c=a.getBody();b&&b!==c;){if(nA(b)||oA(b))return b;b=b.parentNode}return null},sA=function(a){var b,c=function(b){return a.dom.isBlock(b)},d=a.getBody(),e=qo(a.getBody(),c,function(){return iy.hasFocus(a)}),f="sel-"+a.dom.uniqueId(),g=function(b){return a.dom.hasClass(b,"mce-offscreen-selection")},h=function(){var b=a.dom.get(f);return b?b.getElementsByTagName("*")[0]:b},i=function(b){b&&a.selection.setRng(b)},j=function(){return a.selection.getRng()},k=function(b,c,d,f){void 0===f&&(f=!0);var g;return g=a.fire("ShowCaret",{target:c,direction:b,before:d}),g.isDefaultPrevented()?null:(f&&a.selection.scrollIntoView(c,b===-1),e.show(d,c))},l=function(a,b){return b=Lo(a,d,b),a===-1?Ll.fromRangeStart(b):Ll.fromRangeEnd(b)},m=function(b){b.hasAttribute("data-mce-caret")&&(Lk(b),i(j()),a.selection.scrollIntoView(b[0]))},n=function(){a.on("mouseup",function(b){var c=j();c.collapsed&&vy.isXYInContentArea(a,b.clientX,b.clientY)&&i(Lm(a,c,!1))}),a.on("click",function(b){var c;c=rA(a,b.target),c&&(oA(c)&&(b.preventDefault(),a.focus()),nA(c)&&a.dom.isChildOf(c,a.selection.getNode())&&s())}),a.on("blur NewBlock",function(){s()}),a.on("ResizeWindow FullscreenStateChanged",function(){return e.reposition()});var c=function(a){var b=!1;a.on("touchstart",function(){b=!1}),a.on("touchmove",function(){b=!0}),a.on("touchend",function(c){var d=rA(a,c.target);oA(d)&&(b||(c.preventDefault(),r(Km(a,d))))})},f=function(a){var b=$m(a);if(!a.firstChild)return!1;var c=Ll.before(a.firstChild),d=b.next(c);return d&&!qA(d)&&!pA(d)},l=function(b,c){var d=a.dom.getParent(b,a.dom.isBlock),e=a.dom.getParent(c,a.dom.isBlock);return d===e},m=function(b,c){var d=a.dom.getParent(b,a.dom.isBlock),e=a.dom.getParent(c,a.dom.isBlock);return!(!d||!a.dom.isChildOf(d,e)||oA(rA(a,d))!==!1)||d&&!l(d,e)&&f(d)};c(a),a.on("mousedown",function(b){var c,e=b.target;if((e===d||"HTML"===e.nodeName||a.dom.isChildOf(e,d))&&vy.isXYInContentArea(a,b.clientX,b.clientY)!==!1)if(c=rA(a,e))oA(c)?(b.preventDefault(),r(Km(a,c))):(s(),nA(c)&&b.shiftKey||jA.isXYWithinRange(b.clientX,b.clientY,a.selection.getRng())||(u(),a.selection.placeCaretAt(b.clientX,b.clientY)));else if(ro(e)===!1){s(),u();var f=hA(d,b.clientX,b.clientY);if(f&&!m(b.target,f.node)){b.preventDefault();var g=k(1,f.node,f.before,!1);a.getBody().focus(),i(g)}}}),a.on("keypress",function(b){if(!mA.modifierPressed(b))switch(b.keyCode){default:oA(a.selection.getNode())&&b.preventDefault()}}),a.on("getSelectionRange",function(a){var c=a.range;if(b){if(!b.parentNode)return void(b=null);c=c.cloneRange(),c.selectNode(b),a.range=c}}),a.on("setSelectionRange",function(a){var b;b=r(a.range,a.forward),b&&(a.range=b)});var n=function(a){return"mcepastebin"===a.id};a.on("AfterSetSelectionRange",function(a){var b=a.range;q(b)||n(b.startContainer.parentNode)||u(),g(b.startContainer.parentNode)||s()}),a.on("copy",function(a){var b=a.clipboardData;if(!a.isDefaultPrevented()&&a.clipboardData&&!Ab.ie){var c=h();c&&(a.preventDefault(),b.clearData(),b.setData("text/html",c.outerHTML),b.setData("text/plain",c.outerText))}}),Nz.init(a),lA.setup(a)},o=function(){var b=a.contentStyles,c=".mce-content-body";b.push(e.getCss()),b.push(c+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+c+" *[contentEditable=false] {cursor: default;}"+c+" *[contentEditable=true] {cursor: text;}")},p=function(a){return Bk(a)||Ik(a)||Jk(a)},q=function(a){return p(a.startContainer)||p(a.endContainer)},r=function(c,d){var e,g,h,i,j,m,n,o,p,r,s=a.$,t=a.dom;if(!c)return null;if(c.collapsed){if(!q(c))if(d===!1){
if(o=l(-1,c),ro(o.getNode(!0)))return k(-1,o.getNode(!0),!1,!1);if(ro(o.getNode()))return k(-1,o.getNode(),!o.isAtEnd(),!1)}else{if(o=l(1,c),ro(o.getNode()))return k(1,o.getNode(),!o.isAtEnd(),!1);if(ro(o.getNode(!0)))return k(1,o.getNode(!0),!1,!1)}return null}return i=c.startContainer,j=c.startOffset,m=c.endOffset,3===i.nodeType&&0===j&&oA(i.parentNode)&&(i=i.parentNode,j=t.nodeIndex(i),i=i.parentNode),1!==i.nodeType?null:(m===j+1&&(e=i.childNodes[j]),oA(e)?(p=r=e.cloneNode(!0),n=a.fire("ObjectSelected",{target:e,targetClone:p}),n.isDefaultPrevented()?null:(g=Kj.descendant(Xe.fromDom(a.getBody()),"#"+f).fold(function(){return s([])},function(a){return s([a.dom()])}),p=n.targetClone,0===g.length&&(g=s('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",f),g.appendTo(a.getBody())),c=a.dom.createRng(),p===r&&Ab.ie?(g.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(p),c.setStartAfter(g[0].firstChild.firstChild),c.setEndAfter(p)):(g.empty().append(" ").append(p).append(" "),c.setStart(g[0].firstChild,1),c.setEnd(g[0].lastChild,0)),g.css({top:t.getPos(e,a.getBody()).y}),g[0].focus(),h=a.selection.getSel(),h.removeAllRanges(),h.addRange(c),Sa(wj.descendants(Xe.fromDom(a.getBody()),"*[data-mce-selected]"),function(a){wf.remove(a,"data-mce-selected")}),e.setAttribute("data-mce-selected","1"),b=e,u(),c)):null)},s=function(){b&&(b.removeAttribute("data-mce-selected"),Kj.descendant(Xe.fromDom(a.getBody()),"#"+f).each(Si.remove),b=null),Kj.descendant(Xe.fromDom(a.getBody()),"#"+f).each(Si.remove),b=null},t=function(){e.destroy(),b=null},u=function(){e.hide()};return Ab.ceFalse&&(n(),o()),{showCaret:k,showBlockCaretContainer:m,hideFakeCaret:u,destroy:t}},tA=function(a){return 0===a.indexOf("data-")||0===a.indexOf("aria-")},uA=function(a){return a.replace(/<!--|-->/g,"")},vA=function(a,b){return!a.allow_html_data_urls&&(/^data:image\//i.test(b)?a.allow_svg_data_urls===!1&&/^data:image\/svg\+xml/i.test(b):/^data:/i.test(b))},wA=function(a,b,c){var d,e,f,g,h=1;for(g=a.getShortEndedElements(),f=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,f.lastIndex=d=c;e=f.exec(b);){if(d=f.lastIndex,"/"===e[1])h--;else if(!e[1]){if(e[2]in g)continue;h++}if(0===h)break}return d};!function(a){a.findEndTag=wA}(U||(U={}));var xA=U,yA=function(a,b){var c=new RegExp(["\\s?("+a.join("|")+')="[^"]+"'].join("|"),"gi");return b.replace(c,"")},zA=function(a,b){var c,d,e,f,g,h=b,i=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,j=a.schema;for(h=yA(a.getTempAttrs(),h),g=j.getShortEndedElements();f=i.exec(h);)d=i.lastIndex,e=f[0].length,c=g[f[1]]?d:xA.findEndTag(j,h,d),h=h.substring(0,d-e)+h.substring(c),i.lastIndex=d-e;return wk.trim(h)},AA=zA,BA={trimExternal:AA,trimInternal:zA},CA=0,DA=1,EA=2,FA=function(a,b){var c=a.length+b.length+2,d=new Array(c),e=new Array(c),f=function(a,b,c){return{start:a,end:b,diag:c}},g=function(c,d,e,f,h){var j=i(c,d,e,f);if(null===j||j.start===d&&j.diag===d-f||j.end===c&&j.diag===c-e)for(var k=c,l=e;k<d||l<f;)k<d&&l<f&&a[k]===b[l]?(h.push([CA,a[k]]),++k,++l):d-c>f-e?(h.push([EA,a[k]]),++k):(h.push([DA,b[l]]),++l);else{g(c,j.start,e,j.start-j.diag,h);for(var m=j.start;m<j.end;++m)h.push([CA,a[m]]);g(j.end,d,j.end-j.diag,f,h)}},h=function(c,d,e,g){for(var h=c;h-d<g&&h<e&&a[h]===b[h-d];)++h;return f(c,h,d)},i=function(c,f,g,i){var j=f-c,k=i-g;if(0===j||0===k)return null;var l=j-k,m=k+j,n=(m%2===0?m:m+1)/2;d[1+n]=c,e[1+n]=f+1;var o,p,q,r,s;for(o=0;o<=n;++o){for(p=-o;p<=o;p+=2){for(q=p+n,p===-o||p!==o&&d[q-1]<d[q+1]?d[q]=d[q+1]:d[q]=d[q-1]+1,r=d[q],s=r-c+g-p;r<f&&s<i&&a[r]===b[s];)d[q]=++r,++s;if(l%2!==0&&l-o<=p&&p<=l+o&&e[q-l]<=d[q])return h(e[q-l],p+c-g,f,i)}for(p=l-o;p<=l+o;p+=2){for(q=p+n-l,p===l-o||p!==l+o&&e[q+1]<=e[q-1]?e[q]=e[q+1]-1:e[q]=e[q-1],r=e[q]-1,s=r-c+g-p;r>=c&&s>=g&&a[r]===b[s];)e[q]=r--,s--;if(l%2===0&&-o<=p&&p<=o&&e[q]<=d[q+l])return h(e[q],p+c-g,f,i)}}},j=[];return g(0,a.length,0,b.length,j),j},GA={KEEP:CA,DELETE:EA,INSERT:DA,diff:FA},HA=function(a){return Lh.isElement(a)?a.outerHTML:Lh.isText(a)?ci.encodeRaw(a.data,!1):Lh.isComment(a)?"<!--"+a.data+"-->":""},IA=function(a){var b,c,d;for(d=document.createElement("div"),b=document.createDocumentFragment(),a&&(d.innerHTML=a);c=d.firstChild;)b.appendChild(c);return b},JA=function(a,b,c){var d=IA(b);if(a.hasChildNodes()&&c<a.childNodes.length){var e=a.childNodes[c];e.parentNode.insertBefore(d,e)}else a.appendChild(d)},KA=function(a,b){if(a.hasChildNodes()&&b<a.childNodes.length){var c=a.childNodes[b];c.parentNode.removeChild(c)}},LA=function(a,b){var c=0;id.each(a,function(a){a[0]===GA.KEEP?c++:a[0]===GA.INSERT?(JA(b,a[1],c),c++):a[0]===GA.DELETE&&KA(b,c)})},MA=function(a){return id.filter(id.map(a.childNodes,HA),function(a){return a.length>0})},NA=function(a,b){var c=id.map(b.childNodes,HA);return LA(GA.diff(c,a),b),b},OA={read:MA,write:NA},PA=function(a,b){var c=b||document,d=c.createElement("div");return d.innerHTML=a,Jg.children(Xe.fromDom(d))},QA=function(a,b){return Ra(a,function(a){return Xe.fromTag(a,b)})},RA=function(a,b){return Ra(a,function(a){return Xe.fromText(a,b)})},SA=function(a){return Ra(a,Xe.fromDom)},TA={fromHtml:PA,fromTags:QA,fromText:RA,fromDom:SA},UA=function(a){return a.dom().innerHTML},VA=function(a,b){var c=Jg.owner(a),d=c.dom(),e=Xe.fromDom(d.createDocumentFragment()),f=TA.fromHtml(b,d);Oi.append(e,f),Si.empty(a),Ji.append(a,e)},WA=function(a){var b=Xe.fromTag("div"),c=Xe.fromDom(a.dom().cloneNode(!0));return Ji.append(b,c),UA(b)},XA={get:UA,set:VA,getOuter:WA},YA=Vi(Da.none()),ZA=function(){return YA.get().getOrThunk(function(){var a=document.implementation.createHTMLDocument("undo");return YA.set(Da.some(a)),a})},$A=function(a){return a.indexOf("</iframe>")!==-1},_A=function(a){return{type:"fragmented",fragments:a,content:"",bookmark:null,beforeBookmark:null}},aB=function(a){return{type:"complete",fragments:null,content:a,bookmark:null,beforeBookmark:null}},bB=function(a){var b,c,d;return b=OA.read(a.getBody()),d=bb(b,function(b){var c=BA.trimInternal(a.serializer,b);return c.length>0?[c]:[]}),c=d.join(""),$A(c)?_A(d):aB(c)},cB=function(a,b,c){"fragmented"===b.type?OA.write(b.fragments,a.getBody()):a.setContent(b.content,{format:"raw"}),a.selection.moveToBookmark(c?b.beforeBookmark:b.bookmark)},dB=function(a){return"fragmented"===a.type?a.fragments.join(""):a.content},eB=function(a){var b=Xe.fromTag("body",ZA());return XA.set(b,dB(a)),Sa(wj.descendants(b,"*[data-mce-bogus]"),Si.unwrap),XA.get(b)},fB=function(a,b){return dB(a)===dB(b)},gB=function(a,b){return eB(a)===eB(b)},hB=function(a,b){return!(!a||!b)&&(!!fB(a,b)||gB(a,b))},iB={createFragmentedLevel:_A,createCompleteLevel:aB,createFromEditor:bB,applyToEditor:cB,isEq:hB},jB=Np.isEq,kB=function(a,b,c){var d=a.formatter.get(c);if(d)for(var e=0;e<d.length;e++)if(d[e].inherit===!1&&a.dom.is(b,d[e].selector))return!0;return!1},lB=function(a,b,c,d){var e=a.dom.getRoot();return b!==e&&(b=a.dom.getParent(b,function(b){return!!kB(a,b,c)||(b.parentNode===e||!!oB(a,b,c,d,!0))}),oB(a,b,c,d))},mB=function(a,b,c){return!!jB(b,c.inline)||(!!jB(b,c.block)||(c.selector?1===b.nodeType&&a.is(b,c.selector):void 0))},nB=function(a,b,c,d,e,f){var g,h,i,j=c[d];if(c.onmatch)return c.onmatch(b,c,d);if(j)if("undefined"==typeof j.length){for(g in j)if(j.hasOwnProperty(g)){if(h="attributes"===d?a.getAttrib(b,g):Np.getStyle(a,b,g),e&&!h&&!c.exact)return;if((!e||c.exact)&&!jB(h,Np.normalizeStyleValue(a,Np.replaceVars(j[g],f),g)))return}}else for(i=0;i<j.length;i++)if("attributes"===d?a.getAttrib(b,j[i]):Np.getStyle(a,b,j[i]))return c;return c},oB=function(a,b,c,d,e){var f,g,h,i,j=a.formatter.get(c),k=a.dom;if(j&&b)for(g=0;g<j.length;g++)if(f=j[g],mB(a.dom,b,f)&&nB(k,b,f,"attributes",e,d)&&nB(k,b,f,"styles",e,d)){if(i=f.classes)for(h=0;h<i.length;h++)if(!a.dom.hasClass(b,i[h]))return;return f}},pB=function(a,b,c,d){var e;return d?lB(a,d,b,c):(d=a.selection.getNode(),!!lB(a,d,b,c)||(e=a.selection.getStart(),!(e===d||!lB(a,e,b,c))))},qB=function(a,b,c){var d,e=[],f={};return d=a.selection.getStart(),a.dom.getParent(d,function(d){var g,h;for(g=0;g<b.length;g++)h=b[g],!f[h]&&oB(a,d,h,c)&&(f[h]=!0,e.push(h))},a.dom.getRoot()),e},rB=function(a,b){var c,d,e,f,g,h=a.formatter.get(b),i=a.dom;if(h)for(c=a.selection.getStart(),d=Np.getParents(i,c),f=h.length-1;f>=0;f--){if(g=h[f].selector,!g||h[f].defaultBlock)return!0;for(e=d.length-1;e>=0;e--)if(i.is(d[e],g))return!0}return!1},sB={matchNode:oB,matchName:mB,match:pB,matchAll:qB,canApply:rB,matchesUnInheritedFormatSelector:kB},tB=function(a,b){return a.splitText(b)},uB=function(a){var b=a.startContainer,c=a.startOffset,d=a.endContainer,e=a.endOffset;return b===d&&Lh.isText(b)?c>0&&c<b.nodeValue.length&&(d=tB(b,c),b=d.previousSibling,e>c?(e-=c,b=d=tB(d,e).previousSibling,e=d.nodeValue.length,c=0):e=0):(Lh.isText(b)&&c>0&&c<b.nodeValue.length&&(b=tB(b,c),c=0),Lh.isText(d)&&e>0&&e<d.nodeValue.length&&(d=tB(d,e).previousSibling,e=d.nodeValue.length)),{startContainer:b,startOffset:c,endContainer:d,endOffset:e}},vB={split:uB},wB=wk.ZWSP,xB="_mce_caret",yB=function(a,b){return a.importNode(b,!0)},zB=function(a){for(var b=[];a;){if(3===a.nodeType&&a.nodeValue!==wB||a.childNodes.length>1)return[];1===a.nodeType&&b.push(a),a=a.firstChild}return b},AB=function(a){return zB(a).length>0},BB=function(a){var b;if(a)for(b=new s(a,a),a=b.current();a;a=b.next())if(3===a.nodeType)return a;return null},CB=function(a){var b=Xe.fromTag("span");return wf.setAll(b,{id:xB,"data-mce-bogus":"1","data-mce-type":"format-caret"}),a&&Ji.append(b,Xe.fromText(wB)),b},DB=function(a){var b=BB(a);return b&&b.nodeValue.charAt(0)===wB&&b.deleteData(0,1),b},EB=function(a,b,c,d){var e,f,g;e=b.getRng(!0),f=a.getParent(c,a.isBlock),AB(c)?(d!==!1&&(e.setStartBefore(c),e.setEndBefore(c)),a.remove(c)):(g=DB(c),e.startContainer===g&&e.startOffset>0&&e.setStart(g,e.startOffset-1),e.endContainer===g&&e.endOffset>0&&e.setEnd(g,e.endOffset-1),a.remove(c,!0)),f&&a.isEmpty(f)&&Vq.fillWithPaddingBr(Xe.fromDom(f)),b.setRng(e)},FB=function(a,b,c,d,e){if(d)EB(b,c,d,e);else if(d=rm(a,c.getStart()),!d)for(;d=b.get(xB);)EB(b,c,d,!1)},GB=function(a,b,c){var d=a.dom,e=d.getParent(c,sk.curry(Np.isTextBlock,a));e&&d.isEmpty(e)?c.parentNode.replaceChild(b,c):(Vq.removeTrailingBr(Xe.fromDom(c)),d.isEmpty(c)?c.parentNode.replaceChild(b,c):d.insertAfter(b,c))},HB=function(a,b){return a.appendChild(b),b},IB=function(a,b){var c=Wa(a,function(a,b){return HB(a,b.cloneNode(!1))},b);return HB(c,c.ownerDocument.createTextNode(wB))},JB=function(a,b,c){var d,e,f,g,h,i,j,k=a.selection;d=k.getRng(!0),g=d.startOffset,i=d.startContainer,j=i.nodeValue,e=rm(a.getBody(),k.getStart()),e&&(f=BB(e));var l=/[^\s\u00a0\u00ad\u200b\ufeff]/;j&&g>0&&g<j.length&&l.test(j.charAt(g))&&l.test(j.charAt(g-1))?(h=k.getBookmark(),d.collapse(!0),d=aq.expandRng(a,d,a.formatter.get(b)),d=vB.split(d),a.formatter.apply(b,c,d),k.moveToBookmark(h)):(e&&f.nodeValue===wB?a.formatter.apply(b,c,e):(e=yB(a.getDoc(),CB(!0).dom()),f=e.firstChild,d.insertNode(e),g=1,a.formatter.apply(b,c,e)),k.setCursorLocation(f,g))},KB=function(a,b,c,d){var e,f,g,h,i,j,k,l=a.dom,m=a.selection,n=[],o=m.getRng();for(e=o.startContainer,f=o.startOffset,i=e,3===e.nodeType&&(f!==e.nodeValue.length&&(h=!0),i=i.parentNode);i;){if(sB.matchNode(a,i,b,c,d)){j=i;break}i.nextSibling&&(h=!0),n.push(i),i=i.parentNode}if(j)if(h){g=m.getBookmark(),o.collapse(!0);var p=aq.expandRng(a,o,a.formatter.get(b),!0);p=vB.split(p),a.formatter.remove(b,c,p),m.moveToBookmark(g)}else{k=rm(a.getBody(),j);var q=CB(!1).dom(),r=IB(n,q);k?GB(a,q,k):GB(a,q,j),EB(l,m,k,!1),m.setCursorLocation(r,1),l.isEmpty(j)&&l.remove(j)}},LB=function(a,b,c,d){FB(a,b,c,null,!1),8===d&&c.isCollapsed()&&c.getStart().innerHTML===wB&&FB(a,b,c,rm(a,c.getStart())),37!==d&&39!==d||FB(a,b,c,rm(a,c.getStart()))},MB=function(a){var b=a.dom,c=a.selection,d=a.getBody();a.on("mouseup keydown",function(a){LB(d,b,c,a.keyCode)})},NB=function(a,b){var c=CB(!1),d=IB(b,c.dom());return Ji.before(Xe.fromDom(a),c),Si.remove(Xe.fromDom(a)),Ll(d,0)},OB=function(a,b){var c=a.schema.getTextInlineElements();return c.hasOwnProperty(ff.name(b))&&!qm(b.dom())&&!Lh.isBogus(b.dom())},PB={},QB=id.filter,RB=id.each,SB=function(a,b){var c=PB[a];c||(PB[a]=c=[]),PB[a].push(b)},TB=function(a,b){RB(PB[a],function(a){a(b)})};SB("pre",function(a){var b,c,d=a.selection.getRng(),e=function(a){return b(a.previousSibling)&&id.indexOf(c,a.previousSibling)!==-1},f=function(a,b){Pd(b).remove(),Pd(a).append("<br><br>").append(b.childNodes)};b=Lh.matchNodeNames("pre"),d.collapsed||(c=a.selection.getSelectedBlocks(),RB(QB(QB(c,b),e),function(a){f(a.previousSibling,a)}))});var UB={postProcess:TB},VB=/^(src|href|style)$/,WB=vd.each,XB=Np.isEq,YB=function(a){return/^(TH|TD)$/.test(a.nodeName)},ZB=function(a,b,c){var d,e,f;return d=b[c?"startContainer":"endContainer"],e=b[c?"startOffset":"endOffset"],Lh.isElement(d)&&(f=d.childNodes.length-1,!c&&e&&e--,d=d.childNodes[e>f?f:e]),Lh.isText(d)&&c&&e>=d.nodeValue.length&&(d=new s(d,a.getBody()).next()||d),Lh.isText(d)&&!c&&0===e&&(d=new s(d,a.getBody()).prev()||d),d},$B=function(a,b,c,d){var e=a.create(c,d);return b.parentNode.insertBefore(e,b),e.appendChild(b),e},_B=function(a,b,c){return!!XB(b,c.inline)||(!!XB(b,c.block)||(c.selector?Lh.isElement(b)&&a.is(b,c.selector):void 0))},aC=function(a,b){return b.links&&"A"===a.tagName},bC=function(a,b,c,d){return b=Np.getNonWhiteSpaceSibling(b,c,d),!b||"BR"===b.nodeName||a.isBlock(b)},cC=function(a,b,c){var d,e=b.parentNode,f=a.dom,g=a.settings.forced_root_block;c.block&&(g?e===f.getRoot()&&(c.list_block&&XB(b,c.list_block)||WB(vd.grep(b.childNodes),function(b){Np.isValid(a,g,b.nodeName.toLowerCase())?d?d.appendChild(b):(d=$B(f,b,g),f.setAttribs(d,a.settings.forced_root_block_attrs)):d=0})):f.isBlock(b)&&!f.isBlock(e)&&(bC(f,b,!1)||bC(f,b.firstChild,!0,1)||b.insertBefore(f.create("br"),b.firstChild),bC(f,b,!0)||bC(f,b.lastChild,!1,1)||b.appendChild(f.create("br")))),c.selector&&c.inline&&!XB(c.inline,b)||f.remove(b,1)},dC=function(a,b,c,d,e){var f,g,h,i=a.dom;if(!_B(i,d,b)&&!aC(d,b))return!1;if("all"!==b.remove)for(WB(b.styles,function(a,f){a=Np.normalizeStyleValue(i,Np.replaceVars(a,c),f),"number"==typeof f&&(f=a,e=0),(b.remove_similar||!e||XB(Np.getStyle(i,e,f),a))&&i.setStyle(d,f,""),h=1}),h&&""===i.getAttrib(d,"style")&&(d.removeAttribute("style"),d.removeAttribute("data-mce-style")),WB(b.attributes,function(a,b){var f;if(a=Np.replaceVars(a,c),"number"==typeof b&&(b=a,e=0),!e||XB(i.getAttrib(e,b),a)){if("class"===b&&(a=i.getAttrib(d,b),a&&(f="",WB(a.split(/\s+/),function(a){/mce\-\w+/.test(a)&&(f+=(f?" ":"")+a)}),f)))return void i.setAttrib(d,b,f);"class"===b&&d.removeAttribute("className"),VB.test(b)&&d.removeAttribute("data-mce-"+b),d.removeAttribute(b)}}),WB(b.classes,function(a){a=Np.replaceVars(a,c),e&&!i.hasClass(e,a)||i.removeClass(d,a)}),g=i.getAttribs(d),f=0;f<g.length;f++){var j=g[f].nodeName;if(0!==j.indexOf("_")&&0!==j.indexOf("data-"))return!1}return"none"!==b.remove?(cC(a,d,b),!0):void 0},eC=function(a,b,c,d,e){var f;return WB(Np.getParents(a.dom,b.parentNode).reverse(),function(b){var g;f||"_start"===b.id||"_end"===b.id||(g=sB.matchNode(a,b,c,d,e),g&&g.split!==!1&&(f=b))}),f},fC=function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o=a.dom;if(c){for(n=c.parentNode,i=d.parentNode;i&&i!==n;i=i.parentNode){for(j=o.clone(i,!1),m=0;m<b.length;m++)if(dC(a,b[m],h,j,j)){j=0;break}j&&(k&&j.appendChild(k),l||(l=j),k=j)}!f||g.mixed&&o.isBlock(c)||(d=o.split(c,d)),k&&(e.parentNode.insertBefore(k,e),l.appendChild(e))}return d},gC=function(a,b,c,d,e){var f,g,h=a.formatter.get(b),i=h[0],j=!0,k=a.dom,l=a.selection,m=function(d){var f=eC(a,d,b,c,e);return fC(a,h,f,d,d,!0,i,c)},n=function(b){var d,e,f,g,l;if(Lh.isElement(b)&&k.getContentEditable(b)&&(g=j,j="true"===k.getContentEditable(b),l=!0),d=vd.grep(b.childNodes),j&&!l)for(e=0,f=h.length;e<f&&!dC(a,h[e],c,b,b);e++);if(i.deep&&d.length){for(e=0,f=d.length;e<f;e++)n(d[e]);l&&(j=g)}},o=function(a){var b=k.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];return Ap.isBookmarkNode(c)&&(c=c[a?"firstChild":"lastChild"]),Lh.isText(c)&&0===c.data.length&&(c=a?b.previousSibling||b.nextSibling:b.nextSibling||b.previousSibling),k.remove(b,!0),c},p=function(b){var c,d,e=b.commonAncestorContainer;if(b=aq.expandRng(a,b,h,!0),i.split){if(c=ZB(a,b,!0),d=ZB(a,b),c!==d){if(/^(TR|TH|TD)$/.test(c.nodeName)&&c.firstChild&&(c="TR"===c.nodeName?c.firstChild.firstChild||c:c.firstChild||c),e&&/^T(HEAD|BODY|FOOT|R)$/.test(e.nodeName)&&YB(d)&&d.firstChild&&(d=d.firstChild||d),k.isChildOf(c,d)&&c!==d&&!k.isBlock(d)&&!YB(c)&&!YB(d))return c=$B(k,c,"span",{id:"_start","data-mce-type":"bookmark"}),m(c),void(c=o(!0));c=$B(k,c,"span",{id:"_start","data-mce-type":"bookmark"}),d=$B(k,d,"span",{id:"_end","data-mce-type":"bookmark"}),m(c),m(d),c=o(!0),d=o()}else c=d=m(c);b.startContainer=c.parentNode?c.parentNode:c,b.startOffset=k.nodeIndex(c),b.endContainer=d.parentNode?d.parentNode:d,b.endOffset=k.nodeIndex(d)+1}eq.walk(k,b,function(b){WB(b,function(b){n(b),Lh.isElement(b)&&"underline"===a.dom.getStyle(b,"text-decoration")&&b.parentNode&&"underline"===Np.getTextDecoration(k,b.parentNode)&&dC(a,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,b)})})};if(d)return void(d.nodeType?(g=k.createRng(),g.setStartBefore(d),g.setEndAfter(d),p(g)):p(d));if("false"!==k.getContentEditable(l.getNode()))l.isCollapsed()&&i.inline&&!k.select("td[data-mce-selected],th[data-mce-selected]").length?KB(a,b,c,e):(f=om.getPersistentBookmark(a.selection,!0),p(l.getRng()),l.moveToBookmark(f),i.inline&&sB.match(a,b,c,l.getStart())&&Np.moveStart(k,l,l.getRng()),a.nodeChanged());else{d=l.getNode();for(var q=0,r=h.length;q<r&&(!h[q].ceFalseOverride||!dC(a,h[q],c,d,d));q++);}},hC={removeFormat:dC,remove:gC},iC=vd.each,jC=function(a){return a&&1===a.nodeType&&!Ap.isBookmarkNode(a)&&!qm(a)&&!Lh.isBogus(a)},kC=function(a,b){var c;for(c=a;c;c=c[b]){if(3===c.nodeType&&0!==c.nodeValue.length)return a;if(1===c.nodeType&&!Ap.isBookmarkNode(c))return c}return a},lC=function(a,b,c){var d,e,f=new Oq(a);if(b&&c&&(b=kC(b,"previousSibling"),c=kC(c,"nextSibling"),f.compare(b,c))){for(d=b.nextSibling;d&&d!==c;)e=d,d=d.nextSibling,b.appendChild(e);return a.remove(c),vd.each(vd.grep(c.childNodes),function(a){b.appendChild(a)}),b}return c},mC=function(a,b,c){iC(a.childNodes,function(a){jC(a)&&(b(a)&&c(a),a.hasChildNodes()&&mC(a,b,c))})},nC=function(a,b){return ta(function(b,c){return!(!c||!Np.getStyle(a,c,b))},b)},oC=function(a,b,c){return ta(function(b,c,d){a.setStyle(d,b,c),""===d.getAttribute("style")&&d.removeAttribute("style"),pC(a,d)},b,c)},pC=function(a,b){"SPAN"===b.nodeName&&0===a.getAttribs(b).length&&a.remove(b,!0)},qC=function(a,b){var c;1===b.nodeType&&b.parentNode&&1===b.parentNode.nodeType&&(c=Np.getTextDecoration(a,b.parentNode),a.getStyle(b,"color")&&c?a.setStyle(b,"text-decoration",c):a.getStyle(b,"text-decoration")===c&&a.setStyle(b,"text-decoration",null))},rC=function(a,b,c,d){(b.styles.color||b.styles.textDecoration)&&(vd.walk(d,ta(qC,a),"childNodes"),qC(a,d))},sC=function(a,b,c,d){b.styles&&b.styles.backgroundColor&&mC(d,nC(a,"fontSize"),oC(a,"backgroundColor",Np.replaceVars(b.styles.backgroundColor,c)))},tC=function(a,b,c,d){"sub"!==b.inline&&"sup"!==b.inline||(mC(d,nC(a,"fontSize"),oC(a,"fontSize","")),a.remove(a.select("sup"===b.inline?"sub":"sup",d),!0))},uC=function(a,b,c,d){d&&b.merge_siblings!==!1&&(d=lC(a,Np.getNonWhiteSpaceSibling(d),d),d=lC(a,d,Np.getNonWhiteSpaceSibling(d,!0)))},vC=function(a,b,c){if(b.clear_child_styles){var d=b.links?"*:not(a)":"*";iC(a.select(d,c),function(c){jC(c)&&iC(b.styles,function(b,d){a.setStyle(c,d,"")})})}},wC=function(a,b,c,d){iC(b,function(b){iC(a.dom.select(b.inline,d),function(d){jC(d)&&hC.removeFormat(a,b,c,d,b.exact?d:null)}),vC(a.dom,b,d)})},xC=function(a,b,c,d,e){sB.matchNode(a,e.parentNode,c,d)&&hC.removeFormat(a,b,d,e)||b.merge_with_parents&&a.dom.getParent(e.parentNode,function(f){if(sB.matchNode(a,f,c,d))return hC.removeFormat(a,b,d,e),!0})},yC={mergeWithChildren:wC,mergeUnderlineAndColor:rC,mergeBackgroundColorAndFontSize:sC,mergeSubSup:tC,mergeSiblings:uC,mergeWithParents:xC},zC=vd.each,AC=function(a){return a&&1===a.nodeType&&!Ap.isBookmarkNode(a)&&!qm(a)&&!Lh.isBogus(a)},BC=function(a,b,c,d){var e,f,g=a.formatter.get(b),h=g[0],i=!d&&a.selection.isCollapsed(),j=a.dom,k=a.selection,l=function(a,b){if(b=b||h,a){if(b.onformat&&b.onformat(a,b,c,d),zC(b.styles,function(b,d){j.setStyle(a,d,Np.replaceVars(b,c))}),b.styles){var e=j.getAttrib(a,"style");e&&a.setAttribute("data-mce-style",e)}zC(b.attributes,function(b,d){j.setAttrib(a,d,Np.replaceVars(b,c))}),zC(b.classes,function(b){b=Np.replaceVars(b,c),j.hasClass(a,b)||j.addClass(a,b)})}},m=function(a,b){var c=!1;return!!h.selector&&(zC(a,function(a){if(!("collapsed"in a&&a.collapsed!==i))return j.is(b,a.selector)&&!qm(b)?(l(b,a),c=!0,!1):void 0}),c)},n=function(d,e,f,i){var j,k,n=[],o=!0;j=h.inline||h.block,k=d.create(j),l(k),eq.walk(d,e,function(e){var f,p=function(e){var q,r,s,t;if(t=o,q=e.nodeName.toLowerCase(),r=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&d.getContentEditable(e)&&(t=o,o="true"===d.getContentEditable(e),s=!0),Np.isEq(q,"br"))return f=0,void(h.block&&d.remove(e));if(h.wrapper&&sB.matchNode(a,e,b,c))return void(f=0);if(o&&!s&&h.block&&!h.wrapper&&Np.isTextBlock(a,q)&&Np.isValid(a,r,j))return e=d.rename(e,j),l(e),n.push(e),void(f=0);if(h.selector){var u=m(g,e);if(!h.inline||u)return void(f=0)}!o||s||!Np.isValid(a,j,q)||!Np.isValid(a,r,j)||!i&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||qm(e)||h.inline&&d.isBlock(e)?(f=0,zC(vd.grep(e.childNodes),p),s&&(o=t),f=0):(f||(f=d.clone(k,!1),e.parentNode.insertBefore(f,e),n.push(f)),f.appendChild(e))};zC(e,p)}),h.links===!0&&zC(n,function(a){var b=function(a){"A"===a.nodeName&&l(a,h),zC(vd.grep(a.childNodes),b)};b(a)}),zC(n,function(e){var f,i=function(a){var b=0;return zC(a.childNodes,function(a){Np.isWhiteSpaceNode(a)||Ap.isBookmarkNode(a)||b++}),b},j=function(a){var b=!1;return zC(a.childNodes,function(a){if(AC(a))return b=a,!1}),b},k=function(a){var b,c;return b=j(a),b&&!Ap.isBookmarkNode(b)&&sB.matchName(d,b,h)&&(c=d.clone(b,!1),l(c),d.replace(c,a,!0),d.remove(b,1)),c||a};return f=i(e),(n.length>1||!d.isBlock(e))&&0===f?void d.remove(e,1):void((h.inline||h.wrapper)&&(h.exact||1!==f||(e=k(e)),yC.mergeWithChildren(a,g,c,e),yC.mergeWithParents(a,h,b,c,e),yC.mergeBackgroundColorAndFontSize(d,h,c,e),yC.mergeSubSup(d,h,c,e),yC.mergeSiblings(d,h,c,e)))})};if("false"!==j.getContentEditable(k.getNode())){if(h){if(d)d.nodeType?m(g,d)||(f=j.createRng(),f.setStartBefore(d),f.setEndAfter(d),n(j,aq.expandRng(a,f,g),null,!0)):n(j,d,null,!0);else if(i&&h.inline&&!j.select("td[data-mce-selected],th[data-mce-selected]").length)JB(a,b,c);else{var o=a.selection.getNode();a.settings.forced_root_block||!g[0].defaultBlock||j.getParent(o,j.isBlock)||BC(a,g[0].defaultBlock),a.selection.setRng($q.normalize(a.selection.getRng())),e=om.getPersistentBookmark(a.selection,!0),n(j,aq.expandRng(a,k.getRng(),g),e),h.styles&&yC.mergeUnderlineAndColor(j,h,c,o),k.moveToBookmark(e),Np.moveStart(j,k,k.getRng()),a.nodeChanged()}UB.postProcess(b,a)}}else{d=k.getNode();for(var p=0,q=g.length;p<q;p++)if(g[p].ceFalseOverride&&j.is(d,g[p].selector))return void l(d,g[p])}},CC={applyFormat:BC},DC=vd.each,EC=function(a,b){var c={};a.set({}),b.on("NodeChange",function(d){var e=Np.getParents(b.dom,d.element),f={};e=vd.grep(e,function(a){return 1===a.nodeType&&!a.getAttribute("data-mce-bogus")}),DC(a.get(),function(a,d){DC(e,function(g){return b.formatter.matchNode(g,d,{},a.similar)?(c[d]||(DC(a,function(a){a(!0,{node:g,format:d,parents:e})}),c[d]=a),f[d]=a,!1):!sB.matchesUnInheritedFormatSelector(b,g,d)&&void 0})}),DC(c,function(a,b){f[b]||(delete c[b],DC(a,function(a){a(!1,{node:d.element,format:b,parents:e})}))})})},FC=function(a,b,c,d){var e=a.get();DC(b.split(","),function(a){e[a]||(e[a]=[],e[a].similar=d),e[a].push(c)}),a.set(e)},GC=function(a,b,c,d,e){null===b.get()&&EC(b,a),FC(b,c,d,e)},HC={formatChanged:GC},IC=function(a){var b={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(b,c,d){vd.each(d,function(c,d){a.setAttrib(b,d,c)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return vd.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(a){b[a]={block:a,remove:"all"}}),b},JC={get:IC},KC=vd.each,LC=wi.DOM,MC=function(a,b){var c,d,e,f=b&&b.schema||t({}),g=function(a,b){b.classes.length&&LC.addClass(a,b.classes.join(" ")),LC.setAttribs(a,b.attrs)},h=function(a){var b;return d="string"==typeof a?{name:a,classes:[],attrs:{}}:a,b=LC.create(d.name),g(b,d),b},i=function(a,b){var c="string"!=typeof a?a.nodeName.toLowerCase():a,d=f.getElementRule(c),e=d&&d.parentsRequired;return!(!e||!e.length)&&(b&&vd.inArray(e,b)!==-1?b:e[0])},j=function(a,b,c){var d,e,f,g=b.length>0&&b[0],k=g&&g.name;if(f=i(a,k))k===f?(e=b[0],b=b.slice(1)):e=f;else if(g)e=b[0],b=b.slice(1);else if(!c)return a;return e&&(d=h(e),d.appendChild(a)),c&&(d||(d=LC.create("div"),d.appendChild(a)),vd.each(c,function(b){var c=h(b);d.insertBefore(c,a)})),j(d,b,e&&e.siblings)};return a&&a.length?(d=a[0],c=h(d),e=LC.create("div"),e.appendChild(j(c,a.slice(1),d.siblings)),e):""},NC=function(a,b){return MC(PC(a),b)},OC=function(a){var b,c={classes:[],attrs:{}};return a=c.selector=vd.trim(a),"*"!==a&&(b=a.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(a,b,d,e,f){switch(b){case"#":c.attrs.id=d;break;case".":c.classes.push(d);break;case":":vd.inArray("checked disabled enabled read-only required".split(" "),d)!==-1&&(c.attrs[d]=d)}if("["===e){var g=f.match(/([\w\-]+)(?:\=\"([^\"]+))?/);g&&(c.attrs[g[1]]=g[2])}return""})),c.name=b||"div",c},PC=function(a){return a&&"string"==typeof a?(a=a.split(/\s*,\s*/)[0],a=a.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),vd.map(a.split(/(?:>|\s+(?![^\[\]]+\]))/),function(a){var b=vd.map(a.split(/(?:~\+|~|\+)/),OC),c=b.pop();return b.length&&(c.siblings=b),c}).reverse()):[]},QC=function(a,b){var c,d,e,f,g,h,i="";if(h=a.settings.preview_styles,h===!1)return"";"string"!=typeof h&&(h="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var j=function(a){return a.replace(/%(\w+)/g,"")};if("string"==typeof b){if(b=a.formatter.get(b),!b)return;b=b[0]}return"preview"in b&&(h=b.preview,h===!1)?"":(c=b.block||b.inline||"span",f=PC(b.selector),f.length?(f[0].name||(f[0].name=c),c=b.selector,d=MC(f,a)):d=MC([c],a),e=LC.select(c,d)[0]||d.firstChild,KC(b.styles,function(a,b){a=j(a),a&&LC.setStyle(e,b,a)}),KC(b.attributes,function(a,b){a=j(a),a&&LC.setAttrib(e,b,a)}),KC(b.classes,function(a){a=j(a),LC.hasClass(e,a)||LC.addClass(e,a)}),a.fire("PreviewFormats"),LC.setStyles(d,{position:"absolute",left:-65535}),a.getBody().appendChild(d),g=LC.getStyle(a.getBody(),"fontSize",!0),g=/px$/.test(g)?parseInt(g,10):0,KC(h.split(" "),function(b){var c=LC.getStyle(e,b,!0);if(!("background-color"===b&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(c)&&(c=LC.getStyle(a.getBody(),b,!0),"#ffffff"===LC.toHex(c).toLowerCase())||"color"===b&&"#000000"===LC.toHex(c).toLowerCase())){if("font-size"===b&&/em|%$/.test(c)){if(0===g)return;var d=parseFloat(c)/(/%$/.test(c)?100:1);c=d*g+"px"}"border"===b&&c&&(i+="padding:0 2px;"),i+=b+":"+c+";"}}),a.fire("AfterPreviewFormats"),LC.remove(d),i)},RC={getCssText:QC,parseSelector:PC,selectorToHtml:NC},SC=function(a,b,c,d,e){var f=b.get(c);!sB.match(a,c,d,e)||"toggle"in f[0]&&!f[0].toggle?CC.applyFormat(a,c,d,e):hC.remove(a,c,d,e)},TC={toggle:SC},UC=function(a){a.addShortcut("meta+b","","Bold"),a.addShortcut("meta+i","","Italic"),a.addShortcut("meta+u","","Underline");for(var b=1;b<=6;b++)a.addShortcut("access+"+b,"",["FormatBlock",!1,"h"+b]);a.addShortcut("access+7","",["FormatBlock",!1,"p"]),a.addShortcut("access+8","",["FormatBlock",!1,"div"]),a.addShortcut("access+9","",["FormatBlock",!1,"address"])},VC={setup:UC},WC=Object.prototype.hasOwnProperty,XC=function(a,b){return b},YC=function(a){return function(){for(var b=new Array(arguments.length),c=0;c<b.length;c++)b[c]=arguments[c];if(0===b.length)throw new Error("Can't merge zero objects");for(var d={},e=0;e<b.length;e++){var f=b[e];for(var g in f)WC.call(f,g)&&(d[g]=a(d[g],f[g]))}return d}},ZC=YC(XC),$C=function(a,b,c){a.addAttributeFilter("data-mce-tabindex",function(a,b){for(var c,d=a.length;d--;)c=a[d],c.attr("tabindex",c.attributes.map["data-mce-tabindex"]),c.attr(b,null)}),a.addAttributeFilter("src,href,style",function(a,d){for(var e,f,g=a.length,h="data-mce-"+d,i=b.url_converter,j=b.url_converter_scope;g--;)e=a[g],f=e.attributes.map[h],void 0!==f?(e.attr(d,f.length>0?f:null),e.attr(h,null)):(f=e.attributes.map[d],"style"===d?f=c.serializeStyle(c.parseStyle(f),e.name):i&&(f=i.call(j,f,d,e.name)),e.attr(d,f.length>0?f:null))}),a.addAttributeFilter("class",function(a){for(var b,c,d=a.length;d--;)b=a[d],c=b.attr("class"),c&&(c=b.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),b.attr("class",c.length>0?c:null))}),a.addAttributeFilter("data-mce-type",function(a,b,c){for(var d,e=a.length;e--;)d=a[e],"bookmark"!==d.attributes.map["data-mce-type"]||c.cleanup||d.remove();
}),a.addNodeFilter("noscript",function(a){for(var b,c=a.length;c--;)b=a[c].firstChild,b&&(b.value=ci.decode(b.value))}),a.addNodeFilter("script,style",function(a,c){for(var d,e,f,g=a.length,h=function(a){return a.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};g--;)d=a[g],e=d.firstChild?d.firstChild.value:"","script"===c?(f=d.attr("type"),f&&d.attr("type","mce-no/type"===f?null:f.replace(/^mce\-/,"")),"xhtml"===b.element_format&&e.length>0&&(d.firstChild.value="// <![CDATA[\n"+h(e)+"\n// ]]>")):"xhtml"===b.element_format&&e.length>0&&(d.firstChild.value="<!--\n"+h(e)+"\n-->")}),a.addNodeFilter("#comment",function(a){for(var b,c=a.length;c--;)b=a[c],0===b.value.indexOf("[CDATA[")?(b.name="#cdata",b.type=4,b.value=b.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===b.value.indexOf("mce:protected ")&&(b.name="#text",b.type=3,b.raw=!0,b.value=unescape(b.value).substr(14))}),a.addNodeFilter("xml:namespace,input",function(a,b){for(var c,d=a.length;d--;)c=a[d],7===c.type?c.remove():1===c.type&&("input"!==b||"type"in c.attributes.map||c.attr("type","text"))}),a.addAttributeFilter("data-mce-type",function(b){Sa(b,function(b){"format-caret"===b.attr("data-mce-type")&&(b.isEmpty(a.schema.getNonEmptyElements())?b.remove():b.unwrap())})}),a.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)})},_C=function(a){var b,c,d=function(a){return a&&"br"===a.name};b=a.lastChild,d(b)&&(c=b.prev,d(c)&&(b.remove(),c.remove()))},aD={register:$C,trimTrailingBr:_C},bD=function(a,b,c){var d,e,f,g=a.dom;return b=b.cloneNode(!0),d=document.implementation,d.createHTMLDocument&&(e=d.createHTMLDocument(""),vd.each("BODY"===b.nodeName?b.childNodes:[b],function(a){e.body.appendChild(e.importNode(a,!0))}),b="BODY"!==b.nodeName?e.body.firstChild:e.body,f=g.doc,g.doc=e),rx.firePreProcess(a,ZC(c,{node:b})),f&&(g.doc=f),b},cD=function(a,b){return a&&a.hasEventListeners("PreProcess")&&!b.no_events},dD=function(a,b,c){return cD(a,c)?bD(a,b,c):b},eD={process:dD},fD=function(a,b){Sa(b,function(b){a.attr(b,null)})},gD=function(a,b,c){a.addNodeFilter("font",function(a){Sa(a,function(a){var d=b.parse(a.attr("style")),e=a.attr("color"),f=a.attr("face"),g=a.attr("size");e&&(d.color=e),f&&(d["font-family"]=f),g&&(d["font-size"]=c[parseInt(a.attr("size"),10)-1]),a.name="span",a.attr("style",b.serialize(d)),fD(a,["color","face","size"])})})},hD=function(a,b){a.addNodeFilter("strike",function(a){Sa(a,function(a){var c=b.parse(a.attr("style"));c["text-decoration"]="line-through",a.name="span",a.attr("style",b.serialize(c))})})},iD=function(a,b){var c=u();b.convert_fonts_to_spans&&gD(a,c,vd.explode(b.font_size_legacy_values)),hD(a,c)},jD=function(a,b){b.inline_styles&&iD(a,b)},kD={register:jD},lD=/^[ \t\r\n]*$/,mD={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},nD=function(a,b,c){var d,e,f=c?"lastChild":"firstChild",g=c?"prev":"next";if(a[f])return a[f];if(a!==b){if(d=a[g])return d;for(e=a.parent;e&&e!==b;e=e.parent)if(d=e[g])return d}},oD=function(){function a(a,b){this.name=a,this.type=b,1===b&&(this.attributes=[],this.attributes.map={})}return a.create=function(b,c){var d,e;if(d=new a(b,mD[b]||1),c)for(e in c)d.attr(e,c[e]);return d},a.prototype.replace=function(a){var b=this;return a.parent&&a.remove(),b.insert(a,b),b.remove(),b},a.prototype.attr=function(a,b){var c,d,e=this;if("string"!=typeof a){for(d in a)e.attr(d,a[d]);return e}if(c=e.attributes){if(void 0!==b){if(null===b){if(a in c.map)for(delete c.map[a],d=c.length;d--;)if(c[d].name===a)return c=c.splice(d,1),e;return e}if(a in c.map){for(d=c.length;d--;)if(c[d].name===a){c[d].value=b;break}}else c.push({name:a,value:b});return c.map[a]=b,e}return c.map[a]}},a.prototype.clone=function(){var b,c,d,e,f,g=this,h=new a(g.name,g.type);if(d=g.attributes){for(f=[],f.map={},b=0,c=d.length;b<c;b++)e=d[b],"id"!==e.name&&(f[f.length]={name:e.name,value:e.value},f.map[e.name]=e.value);h.attributes=f}return h.value=g.value,h.shortEnded=g.shortEnded,h},a.prototype.wrap=function(a){var b=this;return b.parent.insert(a,b),a.append(b),b},a.prototype.unwrap=function(){var a,b,c=this;for(a=c.firstChild;a;)b=a.next,c.insert(a,c,!0),a=b;c.remove()},a.prototype.remove=function(){var a=this,b=a.parent,c=a.next,d=a.prev;return b&&(b.firstChild===a?(b.firstChild=c,c&&(c.prev=null)):d.next=c,b.lastChild===a?(b.lastChild=d,d&&(d.next=null)):c.prev=d,a.parent=a.next=a.prev=null),a},a.prototype.append=function(a){var b,c=this;return a.parent&&a.remove(),b=c.lastChild,b?(b.next=a,a.prev=b,c.lastChild=a):c.lastChild=c.firstChild=a,a.parent=c,a},a.prototype.insert=function(a,b,c){var d;return a.parent&&a.remove(),d=b.parent||this,c?(b===d.firstChild?d.firstChild=a:b.prev.next=a,a.prev=b.prev,a.next=b,b.prev=a):(b===d.lastChild?d.lastChild=a:b.next.prev=a,a.next=b.next,a.prev=b,b.next=a),a.parent=d,a},a.prototype.getAll=function(a){var b,c=this,d=[];for(b=c.firstChild;b;b=nD(b,c))b.name===a&&d.push(b);return d},a.prototype.empty=function(){var a,b,c,d=this;if(d.firstChild){for(a=[],c=d.firstChild;c;c=nD(c,d))a.push(c);for(b=a.length;b--;)c=a[b],c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}return d.firstChild=d.lastChild=null,d},a.prototype.isEmpty=function(a,b,c){var d,e,f=this,g=f.firstChild;if(b=b||{},g)do{if(1===g.type){if(g.attributes.map["data-mce-bogus"])continue;if(a[g.name])return!1;for(d=g.attributes.length;d--;)if(e=g.attributes[d].name,"name"===e||0===e.indexOf("data-mce-bookmark"))return!1}if(8===g.type)return!1;if(3===g.type&&!lD.test(g.value))return!1;if(3===g.type&&g.parent&&b[g.parent.name]&&lD.test(g.value))return!1;if(c&&c(g))return!1}while(g=nD(g,f));return!0},a.prototype.walk=function(a){return nD(this,null,a)},a}(),pD=function(a,b,c,d){var e=a.padd_empty_with_br||b.insert;e&&c[d.name]?d.empty().append(new oD("br",1)).shortEnded=!0:d.empty().append(new oD("#text",3)).value=" "},qD=function(a){return rD(a,"#text")&&" "===a.firstChild.value},rD=function(a,b){return a&&a.firstChild&&a.firstChild===a.lastChild&&a.firstChild.name===b},sD=function(a,b){var c=a.getElementRule(b.name);return c&&c.paddEmpty},tD=function(a,b,c,d){return d.isEmpty(b,c,function(b){return sD(a,b)})},uD=function(a,b){return a&&(b[a.name]||"br"===a.name)},vD=function(a,b){var c=a.schema;b.remove_trailing_brs&&a.addNodeFilter("br",function(a,d,e){var f,g,h,i,j,k,l,m,n=a.length,o=vd.extend({},c.getBlockElements()),p=c.getNonEmptyElements(),q=c.getNonEmptyElements();for(o.body=1,f=0;f<n;f++)if(g=a[f],h=g.parent,o[g.parent.name]&&g===h.lastChild){for(j=g.prev;j;){if(k=j.name,"span"!==k||"bookmark"!==j.attr("data-mce-type")){if("br"!==k)break;if("br"===k){g=null;break}}j=j.prev}g&&(g.remove(),tD(c,p,q,h)&&(l=c.getElementRule(h.name),l&&(l.removeEmpty?h.remove():l.paddEmpty&&pD(b,e,o,h))))}else{for(i=g;h&&h.firstChild===i&&h.lastChild===i&&(i=h,!o[h.name]);)h=h.parent;i===h&&b.padd_empty_with_br!==!0&&(m=new oD("#text",3),m.value=" ",g.replace(m))}}),a.addAttributeFilter("href",function(a){var c,d=a.length,e=function(a){var b=a.split(" ").filter(function(a){return a.length>0});return b.concat(["noopener"]).sort().join(" ")},f=function(a){var b=a?vd.trim(a):"";return/\b(noopener)\b/g.test(b)?b:e(b)};if(!b.allow_unsafe_link_target)for(;d--;)c=a[d],"a"===c.name&&"_blank"===c.attr("target")&&c.attr("rel",f(c.attr("rel")))}),b.allow_html_in_named_anchor||a.addAttributeFilter("id,name",function(a){for(var b,c,d,e,f=a.length;f--;)if(e=a[f],"a"===e.name&&e.firstChild&&!e.attr("href")){d=e.parent,b=e.lastChild;do c=b.prev,d.insert(b,e),b=c;while(b)}}),b.fix_list_elements&&a.addNodeFilter("ul,ol",function(a){for(var b,c,d=a.length;d--;)if(b=a[d],c=b.parent,"ul"===c.name||"ol"===c.name)if(b.prev&&"li"===b.prev.name)b.prev.append(b);else{var e=new oD("li",1);e.attr("style","list-style-type: none"),b.wrap(e)}}),b.validate&&c.getValidClasses()&&a.addAttributeFilter("class",function(a){for(var b,d,e,f,g,h,i,j=a.length,k=c.getValidClasses();j--;){for(b=a[j],d=b.attr("class").split(" "),g="",e=0;e<d.length;e++)f=d[e],i=!1,h=k["*"],h&&h[f]&&(i=!0),h=k[b.name],!i&&h&&h[f]&&(i=!0),i&&(g&&(g+=" "),g+=f);g.length||(g=null),b.attr("class",g)}})},wD=vd.makeMap,xD=vd.each,yD=vd.explode,zD=vd.extend,AD=function(a,b,c){vd.inArray(b,c)===-1&&(a.addAttributeFilter(c,function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)}),b.push(c))},BD=function(a,b,c){if(!b.no_events&&a){var d=rx.firePostProcess(a,ZC(b,{content:c}));return d.content}return c},CD=function(a,b,c){var d=wk.trim(c.getInner?b.innerHTML:a.getOuterHTML(b));return c.selection||th(Xe.fromDom(b))?d:vd.trim(d)},DD=function(a,b,c){var d=c.selection?ZC({forced_root_block:!1},c):c,e=a.parse(b,d);return aD.trimTrailingBr(e),e},ED=function(a,b,c){var d=D(a,b);return d.serialize(c)},FD=function(a,b,c,d,e){var f=ED(b,c,d);return BD(a,e,f)};!function(a){a.isBookmarkNode=Ap.isBookmarkNode}(_||(_={}));var GD=_,HD=Lh.isContentEditableFalse,ID=Lh.isContentEditableTrue,JD=function(a,b){for(;b&&b!==a;){if(ID(b)||HD(b))return b;b=b.parentNode}return null},KD=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=b.dom,u=vd.each,v=b.getDoc(),w=document,x=Math.abs,y=Math.round,z=b.getBody();f={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var A=".mce-content-body";b.contentStyles.push(A+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+A+" .mce-resizehandle:hover {background: #000}"+A+" img[data-mce-selected],"+A+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+A+" .mce-clonedresizable {position: absolute;"+(Ab.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+A+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var B=function(a){return a&&("IMG"===a.nodeName||b.dom.is(a,"figure.image"))},C=function(a,b){return B(a.target)&&!jA.isXYWithinRange(a.clientX,a.clientY,b)},D=function(a){var c=a.target;C(a,b.selection.getRng())&&!a.isDefaultPrevented()&&(a.preventDefault(),b.selection.select(c))},E=function(a){return b.dom.is(a,"figure.image")?a.querySelector("img"):a},F=function(a){var c=b.settings.object_resizing;return c!==!1&&!Ab.iOS&&("string"!=typeof c&&(c="table,img,figure.image,div"),"false"!==a.getAttribute("data-mce-resize")&&(a!==b.getBody()&&gg.is(Xe.fromDom(a),c)))},G=function(a){var f,u,v,w,A;f=a.screenX-h,u=a.screenY-i,p=f*g[2]+l,q=u*g[3]+m,p=p<5?5:p,q=q<5?5:q,v=B(c)&&b.settings.resize_img_proportional!==!1?!mA.modifierPressed(a):mA.modifierPressed(a)||B(c)&&g[2]*g[3]!==0,v&&(x(f)>x(u)?(q=y(p*n),p=y(q/n)):(p=y(q/n),q=y(p*n))),t.setStyles(E(d),{width:p,height:q}),w=g.startPos.x+f,A=g.startPos.y+u,w=w>0?w:0,A=A>0?A:0,t.setStyles(e,{left:w,top:A,display:"block"}),e.innerHTML=p+" &times; "+q,g[2]<0&&d.clientWidth<=p&&t.setStyle(d,"left",j+(l-p)),g[3]<0&&d.clientHeight<=q&&t.setStyle(d,"top",k+(m-q)),f=z.scrollWidth-r,u=z.scrollHeight-s,f+u!==0&&t.setStyles(e,{left:w-f,top:A-u}),o||(rx.fireObjectResizeStart(b,c,l,m),o=!0)},H=function(){o=!1;var a=function(a,d){d&&(c.style[a]||!b.schema.isValid(c.nodeName.toLowerCase(),a)?t.setStyle(E(c),a,d):t.setAttrib(E(c),a,d))};a("width",p),a("height",q),t.unbind(v,"mousemove",G),t.unbind(v,"mouseup",H),w!==v&&(t.unbind(w,"mousemove",G),t.unbind(w,"mouseup",H)),t.remove(d),t.remove(e),I(c),rx.fireObjectResized(b,c,p,q),t.setAttrib(c,"style",t.getAttrib(c,"style")),b.nodeChanged()},I=function(a){var o,x,y,A,B;J(),M(),o=t.getPos(a,z),j=o.x,k=o.y,B=a.getBoundingClientRect(),x=B.width||B.right-B.left,y=B.height||B.bottom-B.top,c!==a&&(c=a,p=q=0),A=b.fire("ObjectSelected",{target:a}),F(a)&&!A.isDefaultPrevented()?u(f,function(a,b){var f,o=function(b){h=b.screenX,i=b.screenY,l=E(c).clientWidth,m=E(c).clientHeight,n=m/l,g=a,a.startPos={x:x*a[0]+j,y:y*a[1]+k},r=z.scrollWidth,s=z.scrollHeight,d=c.cloneNode(!0),t.addClass(d,"mce-clonedresizable"),t.setAttrib(d,"data-mce-bogus","all"),d.contentEditable=!1,d.unSelectabe=!0,t.setStyles(d,{left:j,top:k,margin:0}),d.removeAttribute("data-mce-selected"),z.appendChild(d),t.bind(v,"mousemove",G),t.bind(v,"mouseup",H),w!==v&&(t.bind(w,"mousemove",G),t.bind(w,"mouseup",H)),e=t.add(z,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},l+" &times; "+m)};f=t.get("mceResizeHandle"+b),f&&t.remove(f),f=t.add(z,"div",{id:"mceResizeHandle"+b,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+b+"-resize; margin:0; padding:0"}),11===Ab.ie&&(f.contentEditable=!1),t.bind(f,"mousedown",function(a){a.stopImmediatePropagation(),a.preventDefault(),o(a)}),a.elm=f,t.setStyles(f,{left:x*a[0]+j-f.offsetWidth/2,top:y*a[1]+k-f.offsetHeight/2})}):J(),c.setAttribute("data-mce-selected","1")},J=function(){var a,b;M(),c&&c.removeAttribute("data-mce-selected");for(a in f)b=t.get("mceResizeHandle"+a),b&&(t.unbind(b),t.remove(b))},K=function(c){var d,e,f=function(a,b){if(a)do if(a===b)return!0;while(a=a.parentNode)};if(!o&&!b.removed)return u(t.select("img[data-mce-selected],hr[data-mce-selected]"),function(a){a.removeAttribute("data-mce-selected")}),e="mousedown"===c.type?c.target:a.getNode(),e=t.$(e).closest("table,img,figure.image,hr")[0],f(e,z)&&(N(),d=a.getStart(!0),f(d,e)&&f(a.getEnd(!0),e))?void I(e):void J()},L=function(a){return HD(JD(b.getBody(),a))},M=function(){for(var a in f){var b=f[a];b.elm&&(t.unbind(b.elm),delete b.elm)}},N=function(){try{b.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(a){}};b.on("init",function(){N(),Ab.ie&&Ab.ie>=11&&(b.on("mousedown click",function(a){var c=a.target,d=c.nodeName;o||!/^(TABLE|IMG|HR)$/.test(d)||L(c)||(2!==a.button&&b.selection.select(c,"TABLE"===d),"mousedown"===a.type&&b.nodeChanged())}),b.dom.bind(z,"mscontrolselect",function(a){var c=function(a){Jb.setEditorTimeout(b,function(){b.selection.select(a)})};return L(a.target)?(a.preventDefault(),void c(a.target)):void(/^(TABLE|IMG|HR)$/.test(a.target.nodeName)&&(a.preventDefault(),"IMG"===a.target.tagName&&c(a.target)))}));var a=Jb.throttle(function(a){b.composing||K(a)});b.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",a),b.on("keyup compositionend",function(b){c&&"TABLE"===c.nodeName&&a(b)}),b.on("hide blur",J),b.on("contextmenu",D)}),b.on("remove",M);var O=function(){c=d=null};return{isResizable:F,showResizeRect:I,hideResizeRect:J,updateResizeRect:K,destroy:O}},LD=function(a){return Lh.isContentEditableTrue(a)||Lh.isContentEditableFalse(a)},MD=function(a,b,c){for(;a&&a!==b;){if(c(a))return a;a=a.parentNode}return null},ND=function(a,b,c){var d,e,f;if(d=c.elementFromPoint(a,b),e=c.body.createTextRange(),d&&"HTML"!==d.tagName||(d=c.body),e.moveToElementText(d),f=vd.toArray(e.getClientRects()),f=f.sort(function(a,c){return a=Math.abs(Math.max(a.top-b,a.bottom-b)),c=Math.abs(Math.max(c.top-b,c.bottom-b)),a-c}),f.length>0){b=(f[0].bottom+f[0].top)/2;try{return e.moveToPoint(a,b),e.collapse(!0),e}catch(g){}}return null},OD=function(a,b){var c=a&&a.parentElement?a.parentElement():null;return Lh.isContentEditableFalse(MD(c,b,LD))?null:a},PD=function(a,b,c){var d,e,f=c;if(f.caretPositionFromPoint)e=f.caretPositionFromPoint(a,b),e&&(d=c.createRange(),d.setStart(e.offsetNode,e.offset),d.collapse(!0));else if(c.caretRangeFromPoint)d=c.caretRangeFromPoint(a,b);else if(f.body.createTextRange){d=f.body.createTextRange();try{d.moveToPoint(a,b),d.collapse(!0)}catch(g){d=ND(a,b,c)}return OD(d,c.body)}return d},QD={fromPoint:PD},RD=function(a,b){return Ra(b,function(b){var c=a.fire("GetSelectionRange",{range:b});return c.range!==b?c.range:b})},SD={processRanges:RD},TD=function(a,b){var c=b||document,d=c.createDocumentFragment();return Sa(a,function(a){d.appendChild(a.dom())}),Xe.fromDom(d)},UD={fromElements:TD},VD=Uf("element","width","rows"),WD=Uf("element","cells"),XD=Uf("x","y"),YD=function(a,b){var c=parseInt(wf.get(a,b),10);return isNaN(c)?1:c},ZD=function(a,b,c,d,e){for(var f=YD(e,"rowspan"),g=YD(e,"colspan"),h=a.rows(),i=c;i<c+f;i++){h[i]||(h[i]=WD(jk.deep(d),[]));for(var j=b;j<b+g;j++){var k=h[i].cells();k[j]=i===c&&j===b?e:jk.shallow(e)}}},$D=function(a,b,c){var d=a.rows(),e=d[c]?d[c].cells():[];return!!e[b]},_D=function(a,b,c){for(;$D(a,b,c);)b++;return b},aE=function(a){return Xa(a,function(a,b){return b.cells().length>a?b.cells().length:a},0)},bE=function(a,b){for(var c=a.rows(),d=0;d<c.length;d++)for(var e=c[d].cells(),f=0;f<e.length;f++)if(og.eq(e[f],b))return Da.some(XD(f,d));return Da.none()},cE=function(a,b,c,d,e){for(var f=[],g=a.rows(),h=c;h<=e;h++){var i=g[h].cells(),j=b<d?i.slice(b,d+1):i.slice(d,b+1);f.push(WD(g[h].element(),j))}return f},dE=function(a,b,c){var d=b.x(),e=b.y(),f=c.x(),g=c.y(),h=e<g?cE(a,d,e,f,g):cE(a,d,g,f,e);return VD(a.element(),aE(h),h)},eE=function(a,b){var c=jk.shallow(a.element()),d=Xe.fromTag("tbody");return Oi.append(d,b),Ji.append(c,d),c},fE=function(a){return Ra(a.rows(),function(a){var b=Ra(a.cells(),function(a){var b=jk.deep(a);return wf.remove(b,"colspan"),wf.remove(b,"rowspan"),b}),c=jk.shallow(a.element());return Oi.append(c,b),c})},gE=function(a){var b=VD(jk.shallow(a),0,[]);return Sa(wj.descendants(a,"tr"),function(a,c){Sa(wj.descendants(a,"td,th"),function(d,e){ZD(b,_D(b,e,c),c,a,d)})}),VD(b.element(),aE(b.rows()),b.rows())},hE=function(a){return eE(a,fE(a))},iE=function(a,b,c){return bE(a,b).bind(function(b){return bE(a,c).map(function(c){return dE(a,b,c)})})},jE={fromDom:gE,toDom:hE,subsection:iE},kE=function(a){return Ya(a,function(a){return"ul"===ff.name(a)||"ol"===ff.name(a)})},lE=function(a,b){return Ya(a,function(a){return"li"===ff.name(a)&&hz(a,b)}).fold(ra([]),function(b){return kE(a).map(function(a){return[Xe.fromTag("li"),Xe.fromTag(ff.name(a))]}).getOr([])})},mE=function(a,b){var c=Xa(b,function(a,b){return Ji.append(b,a),b},a);return b.length>0?UD.fromElements([c]):c},nE=function(a){return ph(a)?Jg.parent(a).filter(oh).fold(ra([]),function(b){return[a,b]}):oh(a)?[a]:[]},oE=function(a,b){var c=Xe.fromDom(b.commonAncestorContainer),d=xs.parentsAndSelf(c,a),e=Va(d,function(a){return lh(a)||jh(a)}),f=lE(d,b),g=e.concat(f.length?f:nE(c));return Ra(g,jk.shallow)},pE=function(){return UD.fromElements([])},qE=function(a,b){return mE(Xe.fromDom(b.cloneContents()),oE(a,b))},rE=function(a,b){return Kj.ancestor(b,"table",ta(og.eq,a))},sE=function(a,b){return rE(a,b[0]).bind(function(a){var c=b[0],d=b[b.length-1],e=jE.fromDom(a);return jE.subsection(e,c,d).map(function(a){return UD.fromElements([jE.toDom(a)])})}).getOrThunk(pE)},tE=function(a,b){return b.length>0&&b[0].collapsed?pE():qE(a,b[0])},uE=function(a,b){var c=ov.getCellsFromElementOrRanges(b,a);return c.length>0?sE(a,c):tE(a,b)},vE={read:uE},wE=function(a,b){var c,d=a.selection.getRng(),e=a.dom.create("body"),f=a.selection.getSel(),g=SD.processRanges(a,jv.getRanges(f));if(b=b||{},b.get=!0,b.format=b.format||"html",b.selection=!0,b=a.fire("BeforeGetContent",b),b.isDefaultPrevented())return a.fire("GetContent",b),b.content;if("text"===b.format)return a.selection.isCollapsed()?"":wk.trim(d.text||(f.toString?f.toString():""));d.cloneContents?(c=b.contextual?vE.read(Xe.fromDom(a.getBody()),g).dom():d.cloneContents(),c&&e.appendChild(c)):void 0!==d.item||void 0!==d.htmlText?(e.innerHTML="<br>"+(d.item?d.item(0).outerHTML:d.htmlText),e.removeChild(e.firstChild)):e.innerHTML=d.toString(),b.getInner=!0;var h=a.selection.serializer.serialize(e,b);return"tree"===b.format?h:(b.content=a.selection.isCollapsed()?"":h,a.fire("GetContent",b),b.content)},xE={getContent:wE},yE=function(a,b,c){var d,e,f,g=a.selection.getRng(),h=a.getDoc();if(c=c||{format:"html"},c.set=!0,c.selection=!0,c.content=b,!c.no_events&&(c=a.fire("BeforeSetContent",c),c.isDefaultPrevented()))return void a.fire("SetContent",c);if(b=c.content,g.insertNode){b+='<span id="__caret">_</span>',g.startContainer===h&&g.endContainer===h?h.body.innerHTML=b:(g.deleteContents(),0===h.body.childNodes.length?h.body.innerHTML=b:g.createContextualFragment?g.insertNode(g.createContextualFragment(b)):(e=h.createDocumentFragment(),f=h.createElement("div"),e.appendChild(f),f.outerHTML=b,g.insertNode(e))),d=a.dom.get("__caret"),g=h.createRange(),g.setStartBefore(d),g.setEndBefore(d),a.selection.setRng(g),a.dom.remove("__caret");try{a.selection.setRng(g)}catch(i){}}else g.item&&(h.execCommand("Delete",!1,null),g=a.getRng()),/^\s+/.test(b)?(g.pasteHTML('<span id="__mce_tmp">_</span>'+b),a.dom.remove("__mce_tmp")):g.pasteHTML(b);c.no_events||a.fire("SetContent",c)},zE={setContent:yE},AE=function(a,b,c,d,e){var f=c?b.startContainer:b.endContainer,g=c?b.startOffset:b.endOffset;return Da.from(f).map(Xe.fromDom).map(function(a){return d&&b.collapsed?a:Jg.child(a,e(a,g)).getOr(a)}).bind(function(a){return ff.isElement(a)?Da.some(a):Jg.parent(a)}).map(function(a){return a.dom()}).getOr(a)},BE=function(a,b,c){return AE(a,b,!0,c,function(a,b){return Math.min(Jg.childNodesCount(a),b)})},CE=function(a,b,c){return AE(a,b,!1,c,function(a,b){return b>0?b-1:b})},DE=function(a,b){for(var c=a;a&&Lh.isText(a)&&0===a.length;)a=b?a.nextSibling:a.previousSibling;return a||c},EE=function(a,b){var c,d,e,f,g;return b?(d=b.startContainer,e=b.endContainer,f=b.startOffset,g=b.endOffset,c=b.commonAncestorContainer,!b.collapsed&&(d===e&&g-f<2&&d.hasChildNodes()&&(c=d.childNodes[f]),3===d.nodeType&&3===e.nodeType&&(d=d.length===f?DE(d.nextSibling,!0):d.parentNode,e=0===g?DE(e.previousSibling,!1):e.parentNode,d&&d===e))?d:c&&3===c.nodeType?c.parentNode:c):a},FE=function(a,b,c,d){var e,f,g=[];if(f=a.getRoot(),c=a.getParent(c||BE(f,b,b.collapsed),a.isBlock),d=a.getParent(d||CE(f,b,b.collapsed),a.isBlock),c&&c!==f&&g.push(c),c&&d&&c!==d){e=c;for(var h=new s(c,f);(e=h.next())&&e!==d;)a.isBlock(e)&&g.push(e)}return d&&c!==d&&d!==f&&g.push(d),g},GE=function(a,b,c){return Da.from(b).map(function(b){var d=a.nodeIndex(b),e=a.createRng();return e.setStart(b.parentNode,d),e.setEnd(b.parentNode,d+1),c&&(iz(a,e,b,!0),iz(a,e,b,!1)),e})},HE=vd.each,IE=function(a){return!!a.select},JE=function(a){return!(!a||!a.ownerDocument)&&og.contains(Xe.fromDom(a.ownerDocument),Xe.fromDom(a))},KE=function(a){return!!a&&(!!IE(a)||JE(a.startContainer)&&JE(a.endContainer))},LE=function(a,b,c,d){var e,f,g,h,i,j=function(b,c){var e=a.createRng();b?(e.setStart(b,c),e.setEnd(b,c),v(e),s(!1)):(iz(a,e,d.getBody(),!0),v(e))},k=function(a){return xE.getContent(d,a)},l=function(a,b){return zE.setContent(d,a,b)},m=function(a){return BE(d.getBody(),u(),a)},n=function(a){return CE(d.getBody(),u(),a)},o=function(a,b){return e.getBookmark(a,b)},p=function(a){return e.moveToBookmark(a)},q=function(b,c){return GE(a,b,c).each(v),b},r=function(){var a=u(),b=t();return!(!a||a.item)&&(a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!b||a.collapsed)},s=function(a){var b=u();b.collapse(!!a),v(b)},t=function(){return b.getSelection?b.getSelection():b.document.selection},u=function(){var c,e,f,i,j=function(a,b,c){try{return b.compareBoundaryPoints(a,c)}catch(d){return-1}};if(!b)return null;if(i=b.document,"undefined"==typeof i||null===i)return null;if(void 0!==d.bookmark&&iy.hasFocus(d)===!1){var k=_w.getRng(d);if(k.isSome())return k.map(function(a){return SD.processRanges(d,[a])[0]}).getOr(i.createRange())}try{(c=t())&&(e=c.rangeCount>0?c.getRangeAt(0):c.createRange?c.createRange():i.createRange())}catch(l){}return e=SD.processRanges(d,[e])[0],e||(e=i.createRange?i.createRange():i.body.createTextRange()),e.setStart&&9===e.startContainer.nodeType&&e.collapsed&&(f=a.getRoot(),e.setStart(f,0),e.setEnd(f,0)),g&&h&&(0===j(e.START_TO_START,e,g)&&0===j(e.END_TO_END,e,g)?e=h:(g=null,h=null)),e},v=function(a,b){var c,e,f;if(KE(a)){var i=IE(a)?a:null;if(i){h=null;try{i.select()}catch(j){}}else{if(c=t(),f=d.fire("SetSelectionRange",{range:a,forward:b}),a=f.range,c){h=a;try{c.removeAllRanges(),c.addRange(a)}catch(j){}b===!1&&c.extend&&(c.collapse(a.endContainer,a.endOffset),c.extend(a.startContainer,a.startOffset)),g=c.rangeCount>0?c.getRangeAt(0):null}a.collapsed||a.startContainer!==a.endContainer||!c.setBaseAndExtent||Ab.ie||a.endOffset-a.startOffset<2&&a.startContainer.hasChildNodes()&&(e=a.startContainer.childNodes[a.startOffset],e&&"IMG"===e.tagName&&(c.setBaseAndExtent(a.startContainer,a.startOffset,a.endContainer,a.endOffset),c.anchorNode===a.startContainer&&c.focusNode===a.endContainer||c.setBaseAndExtent(e,0,e,1))),d.fire("AfterSetSelectionRange",{range:a,forward:b})}}},w=function(b){return l(a.getOuterHTML(b)),b},x=function(){return EE(d.getBody(),u())},y=function(b,c){return FE(a,u(),b,c)},z=function(){var b,c,d=t();return!(d&&d.anchorNode&&d.focusNode)||(b=a.createRng(),b.setStart(d.anchorNode,d.anchorOffset),b.collapse(!0),c=a.createRng(),c.setStart(d.focusNode,d.focusOffset),c.collapse(!0),b.compareBoundaryPoints(b.START_TO_START,c)<=0)},A=function(){var b=u(),c=t();if(!jv.hasMultipleRanges(c)&&jz(d)){var e=nw.normalize(a,b);return e.each(function(a){v(a,z())}),e.getOr(b)}return b},B=function(b,c){var e;return i||(i={},e={},d.on("NodeChange",function(b){var c=b.element,d=a.getParents(c,null,a.getRoot()),f={};HE(i,function(b,c){HE(d,function(g){if(a.is(g,c))return e[c]||(HE(b,function(a){a(!0,{node:g,selector:c,parents:d})}),e[c]=b),f[c]=b,!1})}),HE(e,function(a,b){f[b]||(delete e[b],HE(a,function(a){a(!1,{node:c,selector:b,parents:d})}))})})),i[b]||(i[b]=[]),i[b].push(c),H},C=function(){for(var b,c=a.getRoot();c&&"BODY"!==c.nodeName;){if(c.scrollHeight>c.clientHeight){b=c;break}c=c.parentNode}return b},D=function(a,b){return Fn.scrollElementIntoView(d,a,b)},E=function(a,b){return v(QD.fromPoint(a,b,d.getDoc()))},F=function(){var a=u();return a.collapsed?Ll.fromRangeStart(a).getClientRects()[0]:a.getBoundingClientRect()},G=function(){b=g=h=null,f.destroy()},H={bookmarkManager:null,controlSelection:null,dom:a,win:b,serializer:c,editor:d,collapse:s,setCursorLocation:j,getContent:k,setContent:l,getBookmark:o,moveToBookmark:p,select:q,isCollapsed:r,isForward:z,setNode:w,getNode:x,getSel:t,setRng:v,getRng:u,getStart:m,getEnd:n,getSelectedBlocks:y,normalize:A,selectorChanged:B,getScrollContainer:C,scrollIntoView:D,placeCaretAt:E,getBoundingClientRect:F,destroy:G};return e=GD(H),f=KD(H,d),H.bookmarkManager=e,H.controlSelection=f,H},ME=Lh.isContentEditableFalse,NE=ll,OE=Ro,PE=Qo,QE=function(a,b){for(;b=a(b);)if(b.isVisible())return b;return b},RE=function(a,b){var c=Eo(a,b);return!(c||!Lh.isBr(a.getNode()))||c},SE=function(a,b,c,d){var e,f,g,h,i=a===Kl.Forwards,j=i?PE:OE;return!d.collapsed&&(e=NE(d),ME(e))?Im(a,b,e,a===Kl.Backwards,!0):(h=Mk(d),f=Po(a,b.getBody(),d),j(f)?Km(b,f.getNode(!i)):(f=c(f))?j(f)?Im(a,b,f.getNode(!i),i,!0):(g=c(f),j(g)&&RE(f,g)?Im(a,b,g.getNode(!i),i,!0):h?Mm(b,f.toRange(),!0):null):h?d:null)},TE=function(a,b,c,d){var e,f,g,h,i,j,k,l,m;if(m=NE(d),e=Po(a,b.getBody(),d),f=c(b.getBody(),Xz(1),e),g=id.filter(f,Yz(1)),i=id.last(e.getClientRects()),(PE(e)||So(e))&&(m=e.getNode()),(OE(e)||To(e))&&(m=e.getNode(!0)),!i)return null;if(j=i.left,h=cA(g,j),h&&ME(h.node))return k=Math.abs(j-h.left),l=Math.abs(j-h.right),Im(a,b,h.node,k<l,!0);if(m){var n=Wz(a,b.getBody(),Xz(1),m);if(h=cA(id.filter(n,Yz(1)),j))return Mm(b,h.position.toRange(),!0);if(h=id.last(id.filter(n,Yz(0))))return Mm(b,h.position.toRange(),!0)}},UE=function(a){var b=a.dom.create(a.settings.forced_root_block);return(!Ab.ie||Ab.ie>=11)&&(b.innerHTML='<br data-mce-bogus="1">'),b},VE=function(a,b,c){var d,e,f,g=$m(a.getBody()),h=sk.curry(QE,g.next),i=sk.curry(QE,g.prev);if(c.collapsed&&a.settings.forced_root_block){if(d=a.dom.getParent(c.startContainer,"PRE"),!d)return;e=1===b?h(Ll.fromRangeStart(c)):i(Ll.fromRangeStart(c)),e||(f=UE(a),1===b?a.$(d).after(f):a.$(d).before(f),a.selection.select(f,!0),a.selection.collapse())}},WE=function(a,b){var c,d=$m(a.getBody()),e=sk.curry(QE,d.next),f=sk.curry(QE,d.prev),g=b?Kl.Forwards:Kl.Backwards,h=b?e:f,i=a.selection.getRng();return(c=SE(g,a,h,i))?c:(c=VE(a,g,i),c?c:null)},XE=function(a,b){var c,d=b?1:-1,e=b?Vz:Uz,f=a.selection.getRng();return(c=TE(d,a,e,f))?c:(c=VE(a,d,f),c?c:null)},YE=function(a,b){return function(){var c=WE(a,b);return!!c&&(a.selection.setRng(c),!0)}},ZE=function(a,b){return function(){var c=XE(a,b);return!!c&&(a.selection.setRng(c),!0)}},$E=function(a){return Ra(a,function(a){return ZC({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:pa},a)})},_E=function(a,b){return b.keyCode===a.keyCode&&b.shiftKey===a.shiftKey&&b.altKey===a.altKey&&b.ctrlKey===a.ctrlKey&&b.metaKey===a.metaKey},aF=function(a,b){return bb($E(a),function(a){return _E(a,b)?[a]:[]})},bF=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var d=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,d)}},cF=function(a,b){return Ya(aF(a,b),function(a){return a.action()})},dF={match:aF,action:bF,execute:cF},eF=function(a,b,c){var d=Re.detect().os;dF.execute([{keyCode:mA.RIGHT,action:YE(a,!0)},{keyCode:mA.LEFT,action:YE(a,!1)},{keyCode:mA.UP,action:ZE(a,!1)},{keyCode:mA.DOWN,action:ZE(a,!0)},{keyCode:mA.RIGHT,action:ko(a,!0)},{keyCode:mA.LEFT,action:ko(a,!1)},{keyCode:mA.UP,action:lo(a,!1)},{keyCode:mA.DOWN,action:lo(a,!0)},{keyCode:mA.RIGHT,action:Du.move(a,b,!0)},{keyCode:mA.LEFT,action:Du.move(a,b,!1)},{keyCode:mA.RIGHT,ctrlKey:!d.isOSX(),altKey:d.isOSX(),action:Du.moveNextWord(a,b)},{keyCode:mA.LEFT,ctrlKey:!d.isOSX(),altKey:d.isOSX(),action:Du.movePrevWord(a,b)}],c).each(function(a){c.preventDefault()})},fF=function(a,b){a.on("keydown",function(c){c.isDefaultPrevented()===!1&&eF(a,b,c)})},gF={setup:fF},hF=function(a,b){var c=xs.parentsAndSelf(b,a);return Za(c,kh).fold(ra(c),function(a){return c.slice(0,a)})},iF=function(a){return 1===Jg.children(a).length},jF=function(a,b,c,d){var e=ta(OB,b),f=Ra(Va(d,e),function(a){return a.dom()});if(0===f.length)tt.deleteElement(b,a,c);else{var g=NB(c.dom(),f);b.selection.setRng(g.toRange())}},kF=function(a,b){var c=Xe.fromDom(a.getBody()),d=Xe.fromDom(a.selection.getStart()),e=Va(hF(c,d),iF);return jb(e).map(function(c){var d=Ll.fromRangeStart(a.selection.getRng());return!!Tr.willDeleteLastPositionInElement(b,d,c.dom())&&(jF(b,a,c,e),!0)}).getOr(!1)},lF=function(a,b){return!!a.selection.isCollapsed()&&kF(a,b)},mF={backspaceDelete:lF},nF=function(a,b,c){dF.execute([{keyCode:mA.BACKSPACE,action:dF.action(Dt.backspaceDelete,a,!1)},{keyCode:mA.DELETE,action:dF.action(Dt.backspaceDelete,a,!0)},{keyCode:mA.BACKSPACE,action:dF.action(Mu.backspaceDelete,a,b,!1)},{keyCode:mA.DELETE,action:dF.action(Mu.backspaceDelete,a,b,!0)},{keyCode:mA.BACKSPACE,action:dF.action(Hv.backspaceDelete,a,!1)},{keyCode:mA.DELETE,action:dF.action(Hv.backspaceDelete,a,!0)},{keyCode:mA.BACKSPACE,action:dF.action(Qs.backspaceDelete,a,!1)},{keyCode:mA.DELETE,action:dF.action(Qs.backspaceDelete,a,!0)},{keyCode:mA.BACKSPACE,action:dF.action(Is.backspaceDelete,a,!1)},{keyCode:mA.DELETE,action:dF.action(Is.backspaceDelete,a,!0)},{keyCode:mA.BACKSPACE,action:dF.action(mF.backspaceDelete,a,!1)},{keyCode:mA.DELETE,action:dF.action(mF.backspaceDelete,a,!0)}],c).each(function(a){c.preventDefault()})},oF=function(a,b){dF.execute([{keyCode:mA.BACKSPACE,action:dF.action(Dt.paddEmptyElement,a)},{keyCode:mA.DELETE,action:dF.action(Dt.paddEmptyElement,a)}],b)},pF=function(a,b){a.on("keydown",function(c){c.isDefaultPrevented()===!1&&nF(a,b,c)}),a.on("keyup",function(b){b.isDefaultPrevented()===!1&&oF(a,b)})},qF={setup:pF},rF=function(a){for(;a;){if(1===a.nodeType||3===a.nodeType&&a.data&&/[\r\n\s]/.test(a.data))return a;a=a.nextSibling}},sF=function(a,b){var c,d,e,f,g=b,h=a.dom,i=a.schema.getMoveCaretBeforeOnEnterElements();if(b){if(/^(LI|DT|DD)$/.test(b.nodeName)){var j=rF(b.firstChild);
j&&/^(UL|OL|DL)$/.test(j.nodeName)&&b.insertBefore(h.doc.createTextNode(" "),b.firstChild)}if(e=h.createRng(),b.normalize(),b.hasChildNodes()){for(c=new s(b,b);d=c.current();){if(Lh.isText(d)){e.setStart(d,0),e.setEnd(d,0);break}if(i[d.nodeName.toLowerCase()]){e.setStartBefore(d),e.setEndBefore(d);break}g=d,d=c.next()}d||(e.setStart(g,0),e.setEnd(g,0))}else Lh.isBr(b)?b.nextSibling&&h.isBlock(b.nextSibling)?(e.setStartBefore(b),e.setEndBefore(b)):(e.setStartAfter(b),e.setEndAfter(b)):(e.setStart(b,0),e.setEnd(b,0));a.selection.setRng(e),h.remove(f),a.selection.scrollIntoView(b)}},tF=function(a,b){var c,d,e=a.getRoot();for(c=b;c!==e&&"false"!==a.getContentEditable(c);)"true"===a.getContentEditable(c)&&(d=c),c=c.parentNode;return c!==e?d:e},uF=function(a){return Da.from(a.dom.getParent(a.selection.getStart(!0),a.dom.isBlock))},vF=function(a){return uF(a).fold(ra(""),function(a){return a.nodeName.toUpperCase()})},wF=function(a){return uF(a).filter(function(a){return ph(Xe.fromDom(a))}).isSome()},xF={moveToCaretPosition:sF,getEditableRoot:tF,getParentBlock:uF,getParentBlockName:vF,isListItemParentBlock:wF},yF=function(a,b){return a.firstChild&&a.firstChild.nodeName===b},zF=function(a,b){return a&&a.parentNode&&a.parentNode.nodeName===b},AF=function(a){return a&&/^(OL|UL|LI)$/.test(a.nodeName)},BF=function(a){return AF(a)&&AF(a.parentNode)},CF=function(a){var b=a.parentNode;return/^(LI|DT|DD)$/.test(b.nodeName)?b:a},DF=function(a,b,c){for(var d=a[c?"firstChild":"lastChild"];d&&!Lh.isElement(d);)d=d[c?"nextSibling":"previousSibling"];return d===b},EF=function(a,b,c,d,e){var f=a.dom,g=a.selection.getRng();if(c!==a.getBody()){BF(c)&&(e="LI");var h=e?b(e):f.create("BR");if(DF(c,d,!0)&&DF(c,d,!1))zF(c,"LI")?f.insertAfter(h,CF(c)):f.replace(h,c);else if(DF(c,d,!0))zF(c,"LI")?(f.insertAfter(h,CF(c)),h.appendChild(f.doc.createTextNode(" ")),h.appendChild(c)):c.parentNode.insertBefore(h,c);else if(DF(c,d,!1))f.insertAfter(h,CF(c));else{c=CF(c);var i=g.cloneRange();i.setStartAfter(d),i.setEndAfter(c);var j=i.extractContents();"LI"===e&&yF(j,"LI")?(h=j.firstChild,f.insertAfter(j,c)):(f.insertAfter(j,c),f.insertAfter(h,c))}f.remove(d),xF.moveToCaretPosition(a,h)}},FF={insert:EF},GF=function(a){return a&&"A"===a.nodeName&&0===vd.trim(wk.trim(a.innerText||a.textContent)).length},HF=function(a){return a&&/^(TD|TH|CAPTION)$/.test(a.nodeName)},IF=function(a){a.innerHTML='<br data-mce-bogus="1">'},JF=function(a,b){return a.nodeName===b||a.previousSibling&&a.previousSibling.nodeName===b},KF=function(a,b){return b&&a.isBlock(b)&&!/^(TD|TH|CAPTION|FORM)$/.test(b.nodeName)&&!/^(fixed|absolute)/i.test(b.style.position)&&"true"!==a.getContentEditable(b)},LF=function(a,b,c){var d,e=c,f=[];if(e){for(;e=e.firstChild;){if(a.isBlock(e))return;Lh.isElement(e)&&!b[e.nodeName.toLowerCase()]&&f.push(e)}for(d=f.length;d--;)e=f[d],!e.hasChildNodes()||e.firstChild===e.lastChild&&""===e.firstChild.nodeValue?a.remove(e):GF(e)&&a.remove(e)}},MF=function(a,b,c){return Lh.isText(b)===!1?c:a?1===c&&b.data.charAt(c-1)===wk.ZWSP?0:c:c===b.data.length-1&&b.data.charAt(c)===wk.ZWSP?b.data.length:c},NF=function(a){var b=a.cloneRange();return b.setStart(a.startContainer,MF(!0,a.startContainer,a.startOffset)),b.setEnd(a.endContainer,MF(!1,a.endContainer,a.endOffset)),b},OF=function(a){do Lh.isText(a)&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;while(a)},PF=function(a,b){var c,d,e=a.getRoot();for(c=b;c!==e&&"false"!==a.getContentEditable(c);)"true"===a.getContentEditable(c)&&(d=c),c=c.parentNode;return c!==e?d:e},QF=function(a,b){var c=Wn.getForcedRootBlock(a);c&&c.toLowerCase()===b.tagName.toLowerCase()&&a.dom.setAttribs(b,Wn.getForcedRootBlockAttrs(a))},RF=function(a,b,c,d,e){var f,g,h,i,j,k,l=b||"P",m=a.dom,n=PF(m,d);if(g=m.getParent(d,m.isBlock),!g||!KF(m,g)){if(g=g||n,k=g===a.getBody()||HF(g)?g.nodeName.toLowerCase():g.parentNode.nodeName.toLowerCase(),!g.hasChildNodes())return f=m.create(l),QF(a,f),g.appendChild(f),c.setStart(f,0),c.setEnd(f,0),f;for(i=d;i.parentNode!==g;)i=i.parentNode;for(;i&&!m.isBlock(i);)h=i,i=i.previousSibling;if(h&&a.schema.isValidChild(k,l.toLowerCase())){for(f=m.create(l),QF(a,f),h.parentNode.insertBefore(f,h),i=h;i&&!m.isBlock(i);)j=i.nextSibling,f.appendChild(i),i=j;c.setStart(d,e),c.setEnd(d,e)}}return d},SF=function(a,b){var c;b.normalize(),c=b.lastChild,c&&!/^(left|right)$/gi.test(a.getStyle(c,"float",!0))||a.add(b,"br")},TF=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p=a.dom,q=a.schema,r=q.getNonEmptyElements(),t=a.selection.getRng(),u=function(b){var c,f,h,i=e,j=q.getTextInlineElements();if(b||"TABLE"===l||"HR"===l?(c=p.create(b||n),QF(a,c)):c=g.cloneNode(!1),h=c,Wn.shouldKeepStyles(a)===!1)p.setAttrib(c,"style",null),p.setAttrib(c,"class",null);else do if(j[i.nodeName]){if(qm(i))continue;f=i.cloneNode(!1),p.setAttrib(f,"id",""),c.hasChildNodes()?(f.appendChild(c.firstChild),c.appendChild(f)):(h=f,c.appendChild(f))}while((i=i.parentNode)&&i!==d);return IF(h),c},v=function(a){var b,c,d,h;if(h=MF(a,e,f),Lh.isText(e)&&(a?h>0:h<e.nodeValue.length))return!1;if(e.parentNode===g&&o&&!a)return!0;if(a&&Lh.isElement(e)&&e===g.firstChild)return!0;if(JF(e,"TABLE")||JF(e,"HR"))return o&&!a||!o&&a;for(b=new s(e,g),Lh.isText(e)&&(a&&0===h?b.prev():a||h!==e.nodeValue.length||b.next());c=b.current();){if(Lh.isElement(c)){if(!c.getAttribute("data-mce-bogus")&&(d=c.nodeName.toLowerCase(),r[d]&&"br"!==d))return!1}else if(Lh.isText(c)&&!/^[ \t\r\n]*$/.test(c.nodeValue))return!1;a?b.prev():b.next()}return!0},w=function(){i=/^(H[1-6]|PRE|FIGURE)$/.test(l)&&"HGROUP"!==m?u(n):u(),Wn.shouldEndContainerOnEmptyBlock(a)&&KF(p,k)&&p.isEmpty(g)?i=p.split(k,g):p.insertAfter(i,g),xF.moveToCaretPosition(a,i)};if(nw.normalize(p,t).each(function(a){t.setStart(a.startContainer,a.startOffset),t.setEnd(a.endContainer,a.endOffset)}),e=t.startContainer,f=t.startOffset,n=Wn.getForcedRootBlock(a),h=b.shiftKey,Lh.isElement(e)&&e.hasChildNodes()&&(o=f>e.childNodes.length-1,e=e.childNodes[Math.min(f,e.childNodes.length-1)]||e,f=o&&Lh.isText(e)?e.nodeValue.length:0),d=PF(p,e))return(n&&!h||!n&&h)&&(e=RF(a,n,t,e,f)),g=p.getParent(e,p.isBlock),k=g?p.getParent(g.parentNode,p.isBlock):null,l=g?g.nodeName.toUpperCase():"",m=k?k.nodeName.toUpperCase():"","LI"!==m||b.ctrlKey||(g=k,k=k.parentNode,l=m),/^(LI|DT|DD)$/.test(l)&&p.isEmpty(g)?void FF.insert(a,u,k,g,n):void(n&&g===a.getBody()||(n=n||"P",zk(g)?(i=Lk(g),p.isEmpty(g)&&IF(g),xF.moveToCaretPosition(a,i)):v()?w():v(!0)?(i=g.parentNode.insertBefore(u(),g),xF.moveToCaretPosition(a,JF(g,"HR")?i:g)):(c=NF(t).cloneRange(),c.setEndAfter(g),j=c.extractContents(),OF(j),i=j.firstChild,p.insertAfter(j,g),LF(p,r,i),SF(p,g),p.isEmpty(g)&&IF(g),i.normalize(),p.isEmpty(i)?(p.remove(i),w()):xF.moveToCaretPosition(a,i)),p.setAttrib(i,"id",""),a.fire("NewBlock",{newBlock:i})))},UF={insert:TF},VF=function(a,b){return xF.getParentBlock(a).filter(function(a){return b.length>0&&gg.is(Xe.fromDom(a),b)}).isSome()},WF=function(a){return VF(a,Wn.getBrNewLineSelector(a))},XF=function(a){return VF(a,Wn.getNoNewLineSelector(a))},YF={shouldInsertBr:WF,shouldBlockNewLine:XF},ZF=Ss.generate([{br:[]},{block:[]},{none:[]}]),$F=function(a,b){return YF.shouldBlockNewLine(a)},_F=function(a){return function(b,c){var d=""===Wn.getForcedRootBlock(b);return d===a}},aG=function(a){return function(b,c){return xF.isListItemParentBlock(b)===a}},bG=function(a,b){return function(c,d){var e=xF.getParentBlockName(c)===a.toUpperCase();return e===b}},cG=function(a){return bG("pre",a)},dG=function(){return bG("summary",!0)},eG=function(a){return function(b,c){return Wn.shouldPutBrInPre(b)===a}},fG=function(a,b){return YF.shouldInsertBr(a)},gG=function(a,b){return b},hG=function(a){var b=Wn.getForcedRootBlock(a),c=xF.getEditableRoot(a.dom,a.selection.getStart());return c&&a.schema.isValidChild(c.nodeName,b?b:"P")},iG=function(a,b){return function(c,d){var e=Xa(a,function(a,b){return a&&b(c,d)},!0);return e?Da.some(b):Da.none()}},jG=function(a,b){return St.evaluateUntil([iG([$F],ZF.none()),iG([dG()],ZF.br()),iG([cG(!0),eG(!1),gG],ZF.br()),iG([cG(!0),eG(!1)],ZF.block()),iG([cG(!0),eG(!0),gG],ZF.block()),iG([cG(!0),eG(!0)],ZF.br()),iG([aG(!0),gG],ZF.br()),iG([aG(!0)],ZF.block()),iG([_F(!0),gG,hG],ZF.block()),iG([_F(!0)],ZF.br()),iG([fG],ZF.br()),iG([_F(!1),gG],ZF.br()),iG([hG],ZF.block())],[a,b.shiftKey]).getOr(ZF.none())},kG={getAction:jG},lG=function(a,b){kG.getAction(a,b).fold(function(){Bw.insert(a,b)},function(){UF.insert(a,b)},pa)},mG={insert:lG},nG=function(a){a.typing&&(a.typing=!1,a.add())},oG=function(a,b){b.isDefaultPrevented()||(b.preventDefault(),nG(a.undoManager),a.undoManager.transact(function(){a.selection.isCollapsed()===!1&&a.execCommand("Delete"),mG.insert(a,b)}))},pG=function(a){a.on("keydown",function(b){b.keyCode===mA.ENTER&&oG(a,b)})},qG={setup:pG},rG=function(a,b){return vG(a)&&Lh.isText(b.container())},sG=function(a,b){var c=b.container(),d=b.offset();c.insertData(d," "),a.selection.setCursorLocation(c,d+1)},tG=function(a,b,c){return!!rG(c,b)&&(sG(a,b),!0)},uG=function(a){var b=ta(Nr.isInlineTarget,a),c=Ll.fromRangeStart(a.selection.getRng()),d=lu.readLocation(b,a.getBody(),c);return d.map(ta(tG,a,c)).getOr(!1)},vG=function(a){return a.fold(ra(!1),ra(!0),ra(!0),ra(!1))},wG=function(a){return!!a.selection.isCollapsed()&&uG(a)},xG={insertAtSelection:wG},yG=function(a,b){dF.execute([{keyCode:mA.SPACEBAR,action:dF.action(xG.insertAtSelection,a)}],b).each(function(a){b.preventDefault()})},zG=function(a){a.on("keydown",function(b){b.isDefaultPrevented()===!1&&yG(a,b)})},AG={setup:zG},BG=function(a){return Kj.descendant(Xe.fromDom(a.getBody()),"*[data-mce-caret]").fold(ra(null),function(a){return a.dom()})},CG=function(a){a.selection.setRng(a.selection.getRng())},DG=function(a,b){b.hasAttribute("data-mce-caret")&&(Lk(b),CG(a),a.selection.scrollIntoView(b))},EG=function(a,b){var c=BG(a);if(c)return"compositionstart"===b.type?(b.preventDefault(),b.stopPropagation(),void DG(a,c)):void(Ck(c)&&(DG(a,c),a.undoManager.add()))},FG=function(a){a.on("keyup compositionstart",ta(EG,a))},GG={setup:FG},HG=function(a){var b=Du.setupSelectedState(a);GG.setup(a),gF.setup(a,b),qF.setup(a,b),qG.setup(a),AG.setup(a)},IG={setup:HG},JG=function(a){return Lh.isElement(a)&&nh(Xe.fromDom(a))},KG=function(a){var b=a.selection.getRng(),c=z.fromRangeStart(b),d=z.fromRangeEnd(b);if(z.isElementPosition(c)){var e=c.container();JG(e)&&cp.firstPositionIn(e).each(function(a){return b.setStart(a.container(),a.offset())})}if(z.isElementPosition(d)){var e=c.container();JG(e)&&cp.lastPositionIn(e).each(function(a){return b.setEnd(a.container(),a.offset())})}a.selection.setRng($q.normalize(b))},LG=function(a){a.on("click",function(b){b.detail>=3&&KG(a)})},MG=function(a){a.on("click",function(b){a.dom.getParent(b.target,"details")&&b.preventDefault()})},NG=function(a){a.parser.addNodeFilter("details",function(a){Sa(a,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),a.serializer.addNodeFilter("details",function(a){Sa(a,function(a){var b=a.attr("data-mce-open");a.attr("open",Ga(b)?b:null),a.attr("data-mce-open",null)})})},OG=function(a){MG(a),NG(a)},PG=wi.DOM,QG=function(a,b){var c=Xe.fromDom(a.getDoc().head),d=Xe.fromTag("style");wf.set(d,"type","text/css"),Ji.append(d,Xe.fromText(b)),Ji.append(c,d)},RG=function(a){var b=Y(a.settings,a.schema);return b.addAttributeFilter("src,href,style,tabindex",function(b,c){for(var d,e,f,g=b.length,h=a.dom;g--;)if(d=b[g],e=d.attr(c),f="data-mce-"+c,!d.attributes.map[f]){if(0===e.indexOf("data:")||0===e.indexOf("blob:"))continue;"style"===c?(e=h.serializeStyle(h.parseStyle(e),d.name),e.length||(e=null),d.attr(f,e),d.attr(c,e)):"tabindex"===c?(d.attr(f,e),d.attr(c,null)):d.attr(f,a.convertURL(e,c,d.name))}}),b.addNodeFilter("script",function(a){for(var b,c,d=a.length;d--;)b=a[d],c=b.attr("type")||"no/type",0!==c.indexOf("mce-")&&b.attr("type","mce-"+c)}),b.addNodeFilter("#cdata",function(a){for(var b,c=a.length;c--;)b=a[c],b.type=8,b.name="#comment",b.value="[CDATA["+b.value+"]]"}),b.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(b){for(var c,d=b.length,e=a.schema.getNonEmptyElements();d--;)c=b[d],c.isEmpty(e)&&0===c.getAll("br").length&&(c.append(new oD("br",1)).shortEnded=!0)}),b},SG=function(a){a.settings.auto_focus&&Jb.setEditorTimeout(a,function(){var b;b=a.settings.auto_focus===!0?a:a.editorManager.get(a.settings.auto_focus),b.destroyed||b.focus()},100)},TG=function(a){a.bindPendingEventDelegates(),a.initialized=!0,a.fire("init"),a.focus(!0),a.nodeChanged({initial:!0}),a.execCallback("init_instance_callback",a),SG(a)},UG=function(a){return a.inline?PG.styleSheetLoader:a.dom.styleSheetLoader},VG=function(a,b){var c,d,e=a.settings,f=a.getElement(),g=a.getDoc();e.inline||(a.getElement().style.visibility=a.orgVisibility),b||e.content_editable||(g.open(),g.write(a.iframeHTML),g.close()),e.content_editable&&(a.on("remove",function(){var a=this.getBody();PG.removeClass(a,"mce-content-body"),PG.removeClass(a,"mce-edit-focus"),PG.setAttrib(a,"contentEditable",null)}),PG.addClass(f,"mce-content-body"),a.contentDocument=g=e.content_document||document,a.contentWindow=e.content_window||window,a.bodyElement=f,e.content_document=e.content_window=null,e.root_name=f.nodeName.toLowerCase()),c=a.getBody(),c.disabled=!0,a.readonly=e.readonly,a.readonly||(a.inline&&"static"===PG.getStyle(c,"position",!0)&&(c.style.position="relative"),c.contentEditable=a.getParam("content_editable_state",!0)),c.disabled=!1,a.editorUpload=S(a),a.schema=t(e),a.dom=wi(g,{keep_values:!0,url_converter:a.convertURL,url_converter_scope:a,hex_colors:e.force_hex_style_colors,class_filter:e.class_filter,update_styles:!0,root_element:a.inline?a.getBody():null,collect:e.content_editable,schema:a.schema,onSetAttrib:function(b){a.fire("SetAttrib",b)}}),a.parser=RG(a),a.serializer=$(e,a),a.selection=LE(a.dom,a.getWin(),a.serializer,a),a.annotator=B(a),a.formatter=X(a),a.undoManager=V(a),a._nodeChangeDispatcher=new T(a),a._selectionOverrides=sA(a),OG(a),LG(a),IG.setup(a),cz.setup(a),a.fire("PreInit"),e.browser_spellcheck||e.gecko_spellcheck||(g.body.spellcheck=!1,PG.setAttrib(c,"spellcheck","false")),a.quirks=aa(a),a.fire("PostRender"),e.directionality&&(c.dir=e.directionality),e.nowrap&&(c.style.whiteSpace="nowrap"),e.protect&&a.on("BeforeSetContent",function(a){vd.each(e.protect,function(b){a.content=a.content.replace(b,function(a){return"<!--mce:protected "+escape(a)+"-->"})})}),a.on("SetContent",function(){a.addVisual(a.getBody())}),a.load({initial:!0,format:"html"}),a.startContent=a.getContent({format:"raw"}),a.on("compositionstart compositionend",function(b){a.composing="compositionstart"===b.type}),a.contentStyles.length>0&&(d="",vd.each(a.contentStyles,function(a){d+=a+"\r\n"}),a.dom.addStyle(d)),UG(a).loadAll(a.contentCSS,function(b){TG(a)},function(b){TG(a)}),e.content_style&&QG(a,e.content_style)},WG={initContentBody:VG},XG=wi.DOM,YG=function(a,b){if(document.domain!==window.location.hostname&&Ab.ie&&Ab.ie<12){var c=Xy.uuid("mce");a[c]=function(){WG.initContentBody(a)};var d='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+a.id+'");document.write(ed.iframeHTML);document.close();ed.'+c+"(true);})()";return XG.setAttrib(b,"src",d),!0}return!1},ZG=function(a){var b="number"==typeof a?a+"px":a;return b?b:""},$G=function(a,b,c,d){var e=Xe.fromTag("iframe");return wf.setAll(e,d),wf.setAll(e,{id:a+"_ifr",frameBorder:"0",allowTransparency:"true",title:b}),Tf.setAll(e,{width:"100%",height:ZG(c),display:"block"}),e},_G=function(a){var b,c,d;return d=Wn.getDocType(a)+"<html><head>",Wn.getDocumentBaseUrl(a)!==a.documentBaseUrl&&(d+='<base href="'+a.documentBaseURI.getURI()+'" />'),d+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',b=Wn.getBodyId(a),c=Wn.getBodyClass(a),Wn.getContentSecurityPolicy(a)&&(d+='<meta http-equiv="Content-Security-Policy" content="'+Wn.getContentSecurityPolicy(a)+'" />'),d+='</head><body id="'+b+'" class="mce-content-body '+c+'" data-id="'+a.id+'"><br></body></html>'},aH=function(a,b){var c=a.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),d=$G(a.id,c,b.height,Wn.getIframeAttrs(a)).dom();d.onload=function(){d.onload=null,a.fire("load")};var e=YG(a,d);return a.contentAreaContainer=b.iframeContainer,a.iframeElement=d,a.iframeHTML=_G(a),XG.add(b.iframeContainer,d),e},bH=function(a,b){var c=aH(a,b);b.editorContainer&&(XG.get(b.editorContainer).style.display=a.orgDisplay,a.hidden=XG.isHidden(b.editorContainer)),a.getElement().style.display="none",XG.setAttrib(a.id,"aria-hidden","true"),c||WG.initContentBody(a)},cH={init:bH},dH=wi.DOM,eH=function(a,b,c){var d,e,f=Fy.get(c);if(d=Fy.urls[c]||a.documentBaseUrl.replace(/\/$/,""),c=vd.trim(c),f&&vd.inArray(b,c)===-1){if(vd.each(Fy.dependencies(c),function(c){eH(a,b,c)}),a.plugins[c])return;e=new f(a,d,a.$),a.plugins[c]=e,e.init&&(e.init(a,d),b.push(c))}},fH=function(a){return a.replace(/^\-/,"")},gH=function(a){var b=[];vd.each(a.settings.plugins.split(/[ ,]/),function(c){eH(a,b,fH(c))})},hH=function(a){var b,c=a.settings.theme;Ga(c)?(a.settings.theme=fH(c),b=Gy.get(c),a.theme=new b(a,Gy.urls[c]),a.theme.init&&a.theme.init(a,Gy.urls[c]||a.documentBaseUrl.replace(/\/$/,""),a.$)):a.theme={}},iH=function(a){var b,c,d,e,f,g=a.settings,h=a.getElement();return b=g.width||dH.getStyle(h,"width")||"100%",c=g.height||dH.getStyle(h,"height")||h.offsetHeight,d=g.min_height||100,e=/^[0-9\.]+(|px)$/i,e.test(""+b)&&(b=Math.max(parseInt(b,10),100)),e.test(""+c)&&(c=Math.max(parseInt(c,10),d)),f=a.theme.renderUI({targetNode:h,width:b,height:c,deltaWidth:g.delta_width,deltaHeight:g.delta_height}),g.content_editable||(c=(f.iframeHeight||c)+("number"==typeof c?f.deltaHeight||0:""),c<d&&(c=d)),f.height=c,f},jH=function(a){var b,c=a.getElement();return b=a.settings.theme(a,c),b.editorContainer.nodeType&&(b.editorContainer.id=b.editorContainer.id||a.id+"_parent"),b.iframeContainer&&b.iframeContainer.nodeType&&(b.iframeContainer.id=b.iframeContainer.id||a.id+"_iframecontainer"),b.height=b.iframeHeight?b.iframeHeight:c.offsetHeight,b},kH=function(a){return{editorContainer:a,iframeContainer:a}},lH=function(a){var b=dH.create("div");return dH.insertAfter(b,a),kH(b)},mH=function(a){var b=a.getElement();return a.inline?kH(null):lH(b)},nH=function(a){var b=a.settings,c=a.getElement();return a.orgDisplay=c.style.display,Ga(b.theme)?iH(a):La(b.theme)?jH(a):mH(a)},oH=function(a){var b,c=a.settings,d=a.getElement();return a.rtl=c.rtl_ui||a.editorManager.i18n.rtl,a.editorManager.i18n.setCode(c.language),c.aria_label=c.aria_label||dH.getAttrib(d,"aria-label",a.getLang("aria.rich_text_area")),a.fire("ScriptsLoaded"),hH(a),gH(a),b=nH(a),a.editorContainer=b.editorContainer?b.editorContainer:null,c.content_css&&vd.each(vd.explode(c.content_css),function(b){a.contentCSS.push(a.documentBaseURI.toAbsolute(b))}),c.content_editable?WG.initContentBody(a):cH.init(a,b)},pH={init:oH},qH=wi.DOM,rH=function(a){return"-"===a.charAt(0)},sH=function(a,b){var c=b.settings;c.language&&"en"!==c.language&&!c.language_url&&(c.language_url=b.editorManager.baseURL+"/langs/"+c.language+".js"),c.language_url&&!b.editorManager.i18n.data[c.language]&&a.add(c.language_url)},tH=function(a,b,c,d){var e=b.settings,f=e.theme;if(Ga(f)){if(!rH(f)&&!Gy.urls.hasOwnProperty(f)){var g=e.theme_url;g?Gy.load(f,b.documentBaseURI.toAbsolute(g)):Gy.load(f,"themes/"+f+"/theme"+c+".js")}a.loadQueue(function(){Gy.waitFor(f,d)})}else d()},uH=function(a,b){vd.isArray(a.plugins)&&(a.plugins=a.plugins.join(" ")),vd.each(a.external_plugins,function(b,c){Fy.load(c,b),a.plugins+=" "+c}),vd.each(a.plugins.split(/[ ,]/),function(a){if(a=vd.trim(a),a&&!Fy.urls[a])if(rH(a)){a=a.substr(1,a.length);var c=Fy.dependencies(a);vd.each(c,function(a){var c={prefix:"plugins/",resource:a,suffix:"/plugin"+b+".js"};a=Fy.createUrl(c,a),Fy.load(a.resource,a)})}else Fy.load(a,{prefix:"plugins/",resource:a,suffix:"/plugin"+b+".js"})})},vH=function(a,b){var c=Bi.ScriptLoader;tH(c,a,b,function(){sH(c,a),uH(a.settings,b),c.loadQueue(function(){a.removed||pH.init(a)},a,function(b){Ey.pluginLoadError(a,b[0]),a.removed||pH.init(a)})})},wH=function(a){var b=a.settings,c=a.id,d=function(){qH.unbind(window,"ready",d),a.render()};if(!Vb.Event.domLoaded)return void qH.bind(window,"ready",d);if(a.getElement()&&Ab.contentEditable){b.inline?a.inline=!0:(a.orgVisibility=a.getElement().style.visibility,a.getElement().style.visibility="hidden");var e=a.getElement().form||qH.getParent(c,"form");e&&(a.formElement=e,b.hidden_input&&!/TEXTAREA|INPUT/i.test(a.getElement().nodeName)&&(qH.insertAfter(qH.create("input",{type:"hidden",name:c}),c),a.hasHiddenInput=!0),a.formEventDelegate=function(b){a.fire(b.type,b)},qH.bind(e,"submit reset",a.formEventDelegate),a.on("reset",function(){a.setContent(a.startContent,{format:"raw"})}),!b.submit_patch||e.submit.nodeType||e.submit.length||e._mceOldSubmit||(e._mceOldSubmit=e.submit,e.submit=function(){return a.editorManager.triggerSave(),a.setDirty(!1),e._mceOldSubmit(e)})),a.windowManager=J(a),a.notificationManager=H(a),"xml"===b.encoding&&a.on("GetContent",function(a){a.save&&(a.content=qH.encode(a.content))}),b.add_form_submit_trigger&&a.on("submit",function(){a.initialized&&a.save()}),b.add_unload_trigger&&(a._beforeUnload=function(){!a.initialized||a.destroyed||a.isHidden()||a.save({format:"raw",no_events:!0,set_dirty:!1})},a.editorManager.on("BeforeUnload",a._beforeUnload)),a.editorManager.add(a),vH(a,a.suffix)}},xH={render:wH},yH=function(a,b,c){var d=a.sidebars?a.sidebars:[];d.push({name:b,settings:c}),a.sidebars=d},zH={add:yH},AH=vd.each,BH=vd.trim,CH="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),DH={ftp:21,http:80,https:443,mailto:25},EH=function(a,b){var c,d,e=this;if(a=BH(a),b=e.settings=b||{},c=b.base_uri,/^([\w\-]+):([^\/]{2})/i.test(a)||/^\s*#/.test(a))return void(e.source=a);var f=0===a.indexOf("//");0!==a.indexOf("/")||f||(a=(c?c.protocol||"http":"http")+"://mce_host"+a),/^[\w\-]*:?\/\//.test(a)||(d=b.base_uri?b.base_uri.path:new EH(document.location.href).directory,""==b.base_uri.protocol?a="//mce_host"+e.toAbsPath(d,a):(a=/([^#?]*)([#?]?.*)/.exec(a),a=(c&&c.protocol||"http")+"://mce_host"+e.toAbsPath(d,a[1])+a[2])),a=a.replace(/@@/g,"(mce_at)"),a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a),AH(CH,function(b,c){var d=a[c];d&&(d=d.replace(/\(mce_at\)/g,"@@")),e[b]=d}),c&&(e.protocol||(e.protocol=c.protocol),e.userInfo||(e.userInfo=c.userInfo),e.port||"mce_host"!==e.host||(e.port=c.port),e.host&&"mce_host"!==e.host||(e.host=c.host),e.source=""),f&&(e.protocol="")};EH.prototype={setPath:function(a){var b=this;a=/^(.*?)\/?(\w+)?$/.exec(a),b.path=a[0],b.directory=a[1],b.file=a[2],b.source="",b.getURI()},toRelative:function(a){var b,c=this;if("./"===a)return a;if(a=new EH(a,{base_uri:c}),"mce_host"!==a.host&&c.host!==a.host&&a.host||c.port!==a.port||c.protocol!==a.protocol&&""!==a.protocol)return a.getURI();var d=c.getURI(),e=a.getURI();return d===e||"/"===d.charAt(d.length-1)&&d.substr(0,d.length-1)===e?d:(b=c.toRelPath(c.path,a.path),a.query&&(b+="?"+a.query),a.anchor&&(b+="#"+a.anchor),b)},toAbsolute:function(a,b){return a=new EH(a,{base_uri:this}),a.getURI(b&&this.isSameOrigin(a))},isSameOrigin:function(a){if(this.host==a.host&&this.protocol==a.protocol){if(this.port==a.port)return!0;var b=DH[this.protocol];if(b&&(this.port||b)==(a.port||b))return!0}return!1},toRelPath:function(a,b){var c,d,e,f=0,g="";if(a=a.substring(0,a.lastIndexOf("/")),a=a.split("/"),c=b.split("/"),a.length>=c.length)for(d=0,e=a.length;d<e;d++)if(d>=c.length||a[d]!==c[d]){f=d+1;break}if(a.length<c.length)for(d=0,e=c.length;d<e;d++)if(d>=a.length||a[d]!==c[d]){f=d+1;break}if(1===f)return b;for(d=0,e=a.length-(f-1);d<e;d++)g+="../";for(d=f-1,e=c.length;d<e;d++)g+=d!==f-1?"/"+c[d]:c[d];return g},toAbsPath:function(a,b){var c,d,e,f=0,g=[];for(d=/\/$/.test(b)?"/":"",a=a.split("/"),b=b.split("/"),AH(a,function(a){a&&g.push(a)}),a=g,c=b.length-1,g=[];c>=0;c--)0!==b[c].length&&"."!==b[c]&&(".."!==b[c]?f>0?f--:g.push(b[c]):f++);return c=a.length-f,e=c<=0?g.reverse().join("/"):a.slice(0,c).join("/")+"/"+g.reverse().join("/"),0!==e.indexOf("/")&&(e="/"+e),d&&e.lastIndexOf("/")!==e.length-1&&(e+=d),e},getURI:function(a){var b,c=this;return c.source&&!a||(b="",a||(b+=c.protocol?c.protocol+"://":"//",c.userInfo&&(b+=c.userInfo+"@"),c.host&&(b+=c.host),c.port&&(b+=":"+c.port)),c.path&&(b+=c.path),c.query&&(b+="?"+c.query),c.anchor&&(b+="#"+c.anchor),c.source=b),c.source}},EH.parseDataUri=function(a){var b,c;return a=decodeURIComponent(a).split(","),c=/data:([^;]+)/.exec(a[0]),c&&(b=c[1]),{type:b,data:a[1]}},EH.getDocumentBaseUrl=function(a){var b;return b=0!==a.protocol.indexOf("http")&&"file:"!==a.protocol?a.href:a.protocol+"//"+a.host+a.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(b)&&(b=b.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(b)||(b+="/")),b};var FH="html",GH=function(a,b){var c=Wn.getForcedRootBlock(a),d=new RegExp("^(<"+c+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+c+">[\r\n]*|<br \\/>[\r\n]*)$");return b.replace(d,"")},HH=function(a,b,c){var d;if(b.format=b.format?b.format:FH,b.get=!0,b.getInner=!0,b.no_events||a.fire("BeforeGetContent",b),"raw"===b.format)d=vd.trim(BA.trimExternal(a.serializer,c.innerHTML));else if("text"===b.format)d=wk.trim(c.innerText||c.textContent);else{if("tree"===b.format)return a.serializer.serialize(c,b);d=GH(a,a.serializer.serialize(c,b))}return"text"===b.format||th(Xe.fromDom(c))?b.content=d:b.content=vd.trim(d),b.no_events||a.fire("GetContent",b),b.content},IH=function(a,b){return void 0===b&&(b={}),Da.from(a.getBody()).fold(ra("tree"===b.format?new oD("body",11):""),function(c){return HH(a,b,c)})},JH=function(a,b){b(a),a.firstChild&&JH(a.firstChild,b),a.next&&JH(a.next,b)},KH=function(a,b,c){var d={},e={},f=[];c.firstChild&&JH(c.firstChild,function(c){Sa(a,function(a){a.name===c.name&&(d[a.name]?d[a.name].nodes.push(c):d[a.name]={filter:a,nodes:[c]})}),Sa(b,function(a){"string"==typeof c.attr(a.name)&&(e[a.name]?e[a.name].nodes.push(c):e[a.name]={filter:a,nodes:[c]})})});for(var g in d)d.hasOwnProperty(g)&&f.push(d[g]);for(var g in e)e.hasOwnProperty(g)&&f.push(e[g]);return f},LH=function(a,b,c){var d=KH(a,b,c);Sa(d,function(a){Sa(a.filter.callbacks,function(b){b(a.nodes,a.filter.name,{})})})},MH="html",NH=function(a){return a instanceof oD},OH=function(a){iy.hasFocus(a)&&cp.firstPositionIn(a.getBody()).each(function(b){var c=b.getNode(),d=Lh.isTable(c)?cp.firstPositionIn(c).getOr(b):b;a.selection.setRng(d.toRange())})},PH=function(a,b){a.dom.setHTML(a.getBody(),b),OH(a)},QH=function(a,b,c,d){var e,f;return 0===c.length||/^\s+$/.test(c)?(f='<br data-mce-bogus="1">',"TABLE"===b.nodeName?c="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(b.nodeName)&&(c="<li>"+f+"</li>"),e=Wn.getForcedRootBlock(a),e&&a.schema.isValidChild(b.nodeName.toLowerCase(),e.toLowerCase())?(c=f,c=a.dom.createHTML(e,a.settings.forced_root_block_attrs,c)):c||(c='<br data-mce-bogus="1">'),PH(a,c),a.fire("SetContent",d)):("raw"!==d.format&&(c=D({validate:a.validate},a.schema).serialize(a.parser.parse(c,{isRootContent:!0,insert:!0}))),d.content=th(Xe.fromDom(b))?c:vd.trim(c),PH(a,d.content),d.no_events||a.fire("SetContent",d)),d.content},RH=function(a,b,c,d){LH(a.parser.getNodeFilters(),a.parser.getAttributeFilters(),c);var e=D({validate:a.validate},a.schema).serialize(c);return d.content=th(Xe.fromDom(b))?e:vd.trim(e),PH(a,d.content),d.no_events||a.fire("SetContent",d),c},SH=function(a,b,c){return void 0===c&&(c={}),c.format=c.format?c.format:MH,c.set=!0,c.content=NH(b)?"":b,NH(b)||c.no_events||(a.fire("BeforeSetContent",c),b=c.content),Da.from(a.getBody()).fold(ra(b),function(d){return NH(b)?RH(a,d,b,c):QH(a,d,b,c)})},TH=wi.DOM,UH=function(a){TH.setStyle(a.id,"display",a.orgDisplay)},VH=function(a){return Da.from(a).each(function(a){return a.destroy()})},WH=function(a){a.contentAreaContainer=a.formElement=a.container=a.editorContainer=null,a.bodyElement=a.contentDocument=a.contentWindow=null,a.iframeElement=a.targetElm=null,a.selection&&(a.selection=a.selection.win=a.selection.dom=a.selection.dom.doc=null)},XH=function(a){var b=a.formElement;b&&(b._mceOldSubmit&&(b.submit=b._mceOldSubmit,b._mceOldSubmit=null),TH.unbind(b,"submit reset",a.formEventDelegate))},YH=function(a){if(!a.removed){var b=a._selectionOverrides,c=a.editorUpload,d=a.getBody(),e=a.getElement();d&&a.save({is_removing:!0}),a.removed=!0,a.unbindAllNativeEvents(),a.hasHiddenInput&&e&&TH.remove(e.nextSibling),!a.inline&&d&&UH(a),rx.fireRemove(a),a.editorManager.remove(a),TH.remove(a.getContainer()),VH(b),VH(c),a.destroy()}},ZH=function(a,b){var c=a.selection,d=a.dom;if(!a.destroyed){if(!b&&!a.removed)return void a.remove();b||(a.editorManager.off("beforeunload",a._beforeUnload),a.theme&&a.theme.destroy&&a.theme.destroy(),VH(c),VH(d)),XH(a),WH(a),a.destroyed=!0}},$H=wi.DOM,_H=vd.extend,aI=vd.each,bI=vd.resolve,cI=Ab.ie,dI=function(a,b,c){var d=this,e=d.documentBaseUrl=c.documentBaseURL,f=c.baseURI;b=wr(d,a,e,c.defaultSettings,b),d.settings=b,w.language=b.language||"en",w.languageLoad=b.language_load,w.baseURL=c.baseURL,d.id=a,d.setDirty(!1),d.plugins={},d.documentBaseURI=new EH(b.document_base_url,{base_uri:f}),d.baseURI=f,d.contentCSS=[],d.contentStyles=[],d.shortcuts=new F(d),d.loadedCSS={},d.editorCommands=new E(d),d.suffix=c.suffix,d.editorManager=c,d.inline=b.inline,d.buttons={},d.menuItems={},b.cache_suffix&&(Ab.cacheSuffix=b.cache_suffix.replace(/^[\?\&]+/,"")),b.override_viewport===!1&&(Ab.overrideViewPort=!1),c.fire("SetupEditor",{editor:d}),d.execCallback("setup",d),d.$=Pd.overrideDefaults(function(){return{context:d.inline?d.getBody():d.getDoc(),element:d.getBody()}})};dI.prototype={render:function(){xH.render(this)},focus:function(a){iy.focus(this,a)},hasFocus:function(){return iy.hasFocus(this)},execCallback:function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var d,e=this,f=e.settings[a];if(f)return e.callbackLookup&&(d=e.callbackLookup[a])&&(f=d.func,d=d.scope),"string"==typeof f&&(d=f.replace(/\.\w+$/,""),d=d?bI(d):0,f=bI(f),e.callbackLookup=e.callbackLookup||{},e.callbackLookup[a]={func:f,scope:d}),f.apply(d||e,Array.prototype.slice.call(arguments,1))},translate:function(a){if(a&&vd.is(a,"string")){var b=this.settings.language||"en",c=this.editorManager.i18n;a=c.data[b+"."+a]||a.replace(/\{\#([^\}]+)\}/g,function(a,d){return c.data[b+"."+d]||"{#"+d+"}"})}return this.editorManager.translate(a)},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(void 0!==b?b:"{#"+a+"}")},getParam:function(a,b,c){return Br(this,a,b,c)},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},addButton:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)}),b.stateSelector&&"undefined"==typeof b.active&&(b.active=!1),b.text||b.icon||(b.icon=a),c.buttons=c.buttons,b.tooltip=b.tooltip||b.title,c.buttons[a]=b},addSidebar:function(a,b){return zH.add(this,a,b)},addMenuItem:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)}),c.menuItems=c.menuItems,c.menuItems[a]=b},addContextToolbar:function(a,b){var c,d=this;d.contextToolbars=d.contextToolbars||[],"string"==typeof a&&(c=a,a=function(a){return d.dom.is(a,c)}),d.contextToolbars.push({id:Xy.uuid("mcet"),predicate:a,items:b})},addCommand:function(a,b,c){this.editorCommands.addCommand(a,b,c)},addQueryStateHandler:function(a,b,c){this.editorCommands.addQueryStateHandler(a,b,c)},addQueryValueHandler:function(a,b,c){this.editorCommands.addQueryValueHandler(a,b,c)},addShortcut:function(a,b,c,d){this.shortcuts.add(a,b,c,d)},execCommand:function(a,b,c,d){return this.editorCommands.execCommand(a,b,c,d)},queryCommandState:function(a){return this.editorCommands.queryCommandState(a)},
queryCommandValue:function(a){return this.editorCommands.queryCommandValue(a)},queryCommandSupported:function(a){return this.editorCommands.queryCommandSupported(a)},show:function(){var a=this;a.hidden&&(a.hidden=!1,a.inline?a.getBody().contentEditable=!0:($H.show(a.getContainer()),$H.hide(a.id)),a.load(),a.fire("show"))},hide:function(){var a=this,b=a.getDoc();a.hidden||(cI&&b&&!a.inline&&b.execCommand("SelectAll"),a.save(),a.inline?(a.getBody().contentEditable=!1,a===a.editorManager.focusedEditor&&(a.editorManager.focusedEditor=null)):($H.hide(a.getContainer()),$H.setStyle(a.id,"display",a.orgDisplay)),a.hidden=!0,a.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(a,b){this.fire("ProgressState",{state:a,time:b})},load:function(a){var b,c=this,d=c.getElement();return c.removed?"":d?(a=a||{},a.load=!0,b=c.setContent(void 0!==d.value?d.value:d.innerHTML,a),a.element=d,a.no_events||c.fire("LoadContent",a),a.element=d=null,b):void 0},save:function(a){var b,c,d=this,e=d.getElement();if(e&&d.initialized&&!d.removed)return a=a||{},a.save=!0,a.element=e,b=a.content=d.getContent(a),a.no_events||d.fire("SaveContent",a),"raw"===a.format&&d.fire("RawSaveContent",a),b=a.content,/TEXTAREA|INPUT/i.test(e.nodeName)?e.value=b:(!a.is_removing&&d.inline||(e.innerHTML=b),(c=$H.getParent(d.id,"form"))&&aI(c.elements,function(a){if(a.name===d.id)return a.value=b,!1})),a.element=e=null,a.set_dirty!==!1&&d.setDirty(!1),b},setContent:function(a,b){return SH(this,a,b)},getContent:function(a){return IH(this,a)},insertContent:function(a,b){b&&(a=_H({content:a},b)),this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return!this.isNotDirty},setDirty:function(a){var b=!this.isNotDirty;this.isNotDirty=!a,a&&a!==b&&this.fire("dirty")},setMode:function(a){vx(this,a)},getContainer:function(){var a=this;return a.container||(a.container=$H.get(a.editorContainer||a.id+"_parent")),a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=$H.get(this.id)),this.targetElm},getWin:function(){var a,b=this;return b.contentWindow||(a=b.iframeElement,a&&(b.contentWindow=a.contentWindow)),b.contentWindow},getDoc:function(){var a,b=this;return b.contentDocument||(a=b.getWin(),a&&(b.contentDocument=a.document)),b.contentDocument},getBody:function(){var a=this.getDoc();return this.bodyElement||(a?a.body:null)},convertURL:function(a,b,c){var d=this,e=d.settings;return e.urlconverter_callback?d.execCallback("urlconverter_callback",a,c,!0,b):!e.convert_urls||c&&"LINK"===c.nodeName||0===a.indexOf("file:")||0===a.length?a:e.relative_urls?d.documentBaseURI.toRelative(a):a=d.documentBaseURI.toAbsolute(a,e.remove_script_host)},addVisual:function(a){var b,c=this,d=c.settings,e=c.dom;a=a||c.getBody(),void 0===c.hasVisual&&(c.hasVisual=d.visual),aI(e.select("table,a",a),function(a){var f;switch(a.nodeName){case"TABLE":return b=d.visual_table_class||"mce-item-table",f=e.getAttrib(a,"border"),void(f&&"0"!==f||!c.hasVisual?e.removeClass(a,b):e.addClass(a,b));case"A":return void(e.getAttrib(a,"href")||(f=e.getAttrib(a,"name")||a.id,b=d.visual_anchor_class||"mce-item-anchor",f&&c.hasVisual?e.addClass(a,b):e.removeClass(a,b)))}}),c.fire("VisualAid",{element:a,hasVisual:c.hasVisual})},remove:function(){YH(this)},destroy:function(a){ZH(this,a)},uploadImages:function(a){return this.editorUpload.uploadImages(a)},_scanForImages:function(){return this.editorUpload.scanForImages()}},_H(dI.prototype,Fx);var eI,fI,gI,hI=function(a){return a.className.toString().indexOf("mce-")!==-1},iI={isEditorUIElement:hI},jI=function(a){return"nodechange"===a.type&&a.selectionChange},kI=function(a,b){var c=function(){b.throttle()};wi.DOM.bind(document,"mouseup",c),a.on("remove",function(){wi.DOM.unbind(document,"mouseup",c)})},lI=function(a){a.on("focusout",function(){_w.store(a)})},mI=function(a,b){a.on("mouseup touchend",function(a){b.throttle()})},nI=function(a,b){var c=Re.detect().browser;c.isIE()?lI(a):mI(a,b),a.on("keyup nodechange",function(b){jI(b)||_w.store(a)})},oI=function(a){var b=Ti(function(){_w.store(a)},0);a.inline&&kI(a,b),a.on("init",function(){nI(a,b)}),a.on("remove",function(){b.cancel()})},pI={register:oI},qI=wi.DOM,rI=function(a){return iI.isEditorUIElement(a)},sI=function(a,b){var c=a?a.settings.custom_ui_selector:"",d=qI.getParent(b,function(b){return rI(b)||!!c&&a.dom.is(b,c)});return null!==d},tI=function(){try{return document.activeElement}catch(a){return document.body}},uI=function(a,b){var c=b.editor;pI.register(c),c.on("focusin",function(){var b=this,c=a.focusedEditor;c!==b&&(c&&c.fire("blur",{focusedEditor:b}),a.setActive(b),a.focusedEditor=b,b.fire("focus",{blurredEditor:c}),b.focus(!0))}),c.on("focusout",function(){var b=this;Jb.setEditorTimeout(b,function(){var c=a.focusedEditor;sI(b,tI())||c!==b||(b.fire("blur",{focusedEditor:null}),a.focusedEditor=null)})}),eI||(eI=function(b){var c,d=a.activeEditor;c=b.target,d&&c.ownerDocument===document&&(c===document.body||sI(d,c)||a.focusedEditor!==d||(d.fire("blur",{focusedEditor:null}),a.focusedEditor=null))},qI.bind(document,"focusin",eI))},vI=function(a,b){a.focusedEditor===b.editor&&(a.focusedEditor=null),a.activeEditor||(qI.unbind(document,"focusin",eI),eI=null)},wI=function(a){a.on("AddEditor",ta(uI,a)),a.on("RemoveEditor",ta(vI,a))},xI={setup:wI,isEditorUIElement:rI,isUIElement:sI},yI={},zI="en",AI={setCode:function(a){a&&(zI=a,this.rtl=!!this.data[a]&&"rtl"===this.data[a]._dir)},getCode:function(){return zI},rtl:!1,add:function(a,b){var c=yI[a];c||(yI[a]=c={});for(var d in b)c[d]=b[d];this.setCode(a)},translate:function(a){var b=yI[zI]||{},c=function(a){return vd.is(a,"function")?Object.prototype.toString.call(a):d(a)?"":""+a},d=function(a){return""===a||null===a||vd.is(a,"undefined")},e=function(a){return a=c(a),vd.hasOwn(b,a)?c(b[a]):a};if(d(a))return"";if(vd.is(a,"object")&&vd.hasOwn(a,"raw"))return c(a.raw);if(vd.is(a,"array")){var f=a.slice(1);a=e(a[0]).replace(/\{([0-9]+)\}/g,function(a,b){return vd.hasOwn(f,b)?c(f[b]):a})}return e(a).replace(/{context:\w+}$/,"")},data:yI},BI=wi.DOM,CI=vd.explode,DI=vd.each,EI=vd.extend,FI=0,GI=!1,HI=[],II=[],JI=function(a){return"length"!==a},KI=function(a){DI(gI.get(),function(b){"scroll"===a.type?b.fire("ScrollWindow",a):b.fire("ResizeWindow",a)})},LI=function(a){a!==GI&&(a?Pd(window).on("resize scroll",KI):Pd(window).off("resize scroll",KI),GI=a)},MI=function(a){var b=II;delete HI[a.id];for(var c=0;c<HI.length;c++)if(HI[c]===a){HI.splice(c,1);break}return II=Va(II,function(b){return a!==b}),gI.activeEditor===a&&(gI.activeEditor=II.length>0?II[0]:null),gI.focusedEditor===a&&(gI.focusedEditor=null),b.length!==II.length},NI=function(a){return a&&a.initialized&&!(a.getContainer()||a.getBody()).parentNode&&(MI(a),a.unbindAllNativeEvents(),a.destroy(!0),a.removed=!0,a=null),a};gI={defaultSettings:{},$:Pd,majorVersion:"4",minorVersion:"8.2",releaseDate:"2018-08-09",editors:HI,i18n:AI,activeEditor:null,settings:{},setup:function(){var a,b,c,d,e=this,f="";if(b=EH.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(b)&&(b=b.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(b)||(b+="/")),c=window.tinymce||window.tinyMCEPreInit)a=c.base||c.baseURL,f=c.suffix;else{for(var g=document.getElementsByTagName("script"),h=0;h<g.length;h++){d=g[h].src;var i=d.substring(d.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(d)){i.indexOf(".min")!==-1&&(f=".min"),a=d.substring(0,d.lastIndexOf("/"));break}}!a&&document.currentScript&&(d=document.currentScript.src,d.indexOf(".min")!==-1&&(f=".min"),a=d.substring(0,d.lastIndexOf("/")))}e.baseURL=new EH(b).toAbsolute(a),e.documentBaseURL=b,e.baseURI=new EH(e.baseURL),e.suffix=f,xI.setup(e)},overrideDefaults:function(a){var b,c;b=a.base_url,b&&(this.baseURL=new EH(this.documentBaseURL).toAbsolute(b.replace(/\/+$/,"")),this.baseURI=new EH(this.baseURL)),c=a.suffix,a.suffix&&(this.suffix=c),this.defaultSettings=a;var d=a.plugin_base_urls;for(var e in d)w.PluginManager.urls[e]=d[e]},init:function(a){var b,c,d=this;c=vd.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var e=function(a,b){return a.inline&&b.tagName.toLowerCase()in c},f=function(a){var b=a.id;return b||(b=a.name,b=b&&!BI.get(b)?a.name:BI.uniqueId(),a.setAttribute("id",b)),b},g=function(b){var c=a[b];if(c)return c.apply(d,Array.prototype.slice.call(arguments,2))},h=function(a,b){return b.constructor===RegExp?b.test(a.className):BI.hasClass(a,b)},i=function(a){var b,c=[];if(Ab.ie&&Ab.ie<11)return Ey.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(a.types)return DI(a.types,function(a){c=c.concat(BI.select(a.selector))}),c;if(a.selector)return BI.select(a.selector);if(a.target)return[a.target];switch(a.mode){case"exact":b=a.elements||"",b.length>0&&DI(CI(b),function(a){var b;(b=BI.get(a))?c.push(b):DI(document.forms,function(b){DI(b.elements,function(b){b.name===a&&(a="mce_editor_"+FI++,BI.setAttrib(b,"id",a),c.push(b))})})});break;case"textareas":case"specific_textareas":DI(BI.select("textarea"),function(b){a.editor_deselector&&h(b,a.editor_deselector)||a.editor_selector&&!h(b,a.editor_selector)||c.push(b)})}return c},j=function(a){b=a},k=function(){var b,c=0,h=[],l=function(a,e,f){var g=new dI(a,e,d);h.push(g),g.on("init",function(){++c===b.length&&j(h)}),g.targetElm=g.targetElm||f,g.render()};return BI.unbind(window,"ready",k),g("onpageload"),b=Pd.unique(i(a)),a.types?void DI(a.types,function(c){vd.each(b,function(b){return!BI.is(b,c.selector)||(l(f(b),EI({},a,c),b),!1)})}):(vd.each(b,function(a){NI(d.get(a.id))}),b=vd.grep(b,function(a){return!d.get(a.id)}),void(0===b.length?j([]):DI(b,function(b){e(a,b)?Ey.initError("Could not initialize inline editor on invalid inline target element",b):l(f(b),a,b)})))};return d.settings=a,BI.bind(window,"ready",k),new Cb(function(a){b?a(b):j=function(b){a(b)}})},get:function(a){return 0===arguments.length?II.slice(0):Ga(a)?Ya(II,function(b){return b.id===a}).getOr(null):Ma(a)&&II[a]?II[a]:null},add:function(a){var b,c=this;return b=HI[a.id],b===a?a:(null===c.get(a.id)&&(JI(a.id)&&(HI[a.id]=a),HI.push(a),II.push(a)),LI(!0),c.activeEditor=a,c.fire("AddEditor",{editor:a}),fI||(fI=function(){c.fire("BeforeUnload")},BI.bind(window,"beforeunload",fI)),a)},createEditor:function(a,b){return this.add(new dI(a,b,this))},remove:function(a){var b,c,d=this;if(a)return Ga(a)?void DI(BI.select(a),function(a){c=d.get(a.id),c&&d.remove(c)}):(c=a,Ja(d.get(c.id))?null:(MI(c)&&d.fire("RemoveEditor",{editor:c}),0===II.length&&BI.unbind(window,"beforeunload",fI),c.remove(),LI(II.length>0),c));for(b=II.length-1;b>=0;b--)d.remove(II[b])},execCommand:function(a,b,c){var d=this,e=d.get(c);switch(a){case"mceAddEditor":return d.get(c)||new dI(c,d.settings,d).render(),!0;case"mceRemoveEditor":return e&&e.remove(),!0;case"mceToggleEditor":return e?(e.isHidden()?e.show():e.hide(),!0):(d.execCommand("mceAddEditor",0,c),!0)}return!!d.activeEditor&&d.activeEditor.execCommand(a,b,c)},triggerSave:function(){DI(II,function(a){a.save()})},addI18n:function(a,b){AI.add(a,b)},translate:function(a){return AI.translate(a)},setActive:function(a){var b=this.activeEditor;this.activeEditor!==a&&(b&&b.fire("deactivate",{relatedTarget:a}),a.fire("activate",{relatedTarget:b})),this.activeEditor=a}},EI(gI,kx),gI.setup();var OI=gI;!function(a){a.compareRanges=aw.isEq,a.getCaretRangeFromPoint=QD.fromPoint,a.getSelectedNode=ll,a.getNode=ml}(ba||(ba={}));var PI,QI,RI=ba,SI=Math.min,TI=Math.max,UI=Math.round,VI=function(a,b,c){var d,e,f,g,h,i;return d=b.x,e=b.y,f=a.w,g=a.h,h=b.w,i=b.h,c=(c||"").split(""),"b"===c[0]&&(e+=i),"r"===c[1]&&(d+=h),"c"===c[0]&&(e+=UI(i/2)),"c"===c[1]&&(d+=UI(h/2)),"b"===c[3]&&(e-=g),"r"===c[4]&&(d-=f),"c"===c[3]&&(e-=UI(g/2)),"c"===c[4]&&(d-=UI(f/2)),$I(d,e,f,g)},WI=function(a,b,c,d){var e,f;for(f=0;f<d.length;f++)if(e=VI(a,b,d[f]),e.x>=c.x&&e.x+e.w<=c.w+c.x&&e.y>=c.y&&e.y+e.h<=c.h+c.y)return d[f];return null},XI=function(a,b,c){return $I(a.x-b,a.y-c,a.w+2*b,a.h+2*c)},YI=function(a,b){var c,d,e,f;return c=TI(a.x,b.x),d=TI(a.y,b.y),e=SI(a.x+a.w,b.x+b.w),f=SI(a.y+a.h,b.y+b.h),e-c<0||f-d<0?null:$I(c,d,e-c,f-d)},ZI=function(a,b,c){var d,e,f,g,h,i,j,k,l,m;return h=a.x,i=a.y,j=a.x+a.w,k=a.y+a.h,l=b.x+b.w,m=b.y+b.h,d=TI(0,b.x-h),e=TI(0,b.y-i),f=TI(0,j-l),g=TI(0,k-m),h+=d,i+=e,c&&(j+=d,k+=e,h-=f,i-=g),j-=f,k-=g,$I(h,i,j-h,k-i)},$I=function(a,b,c,d){return{x:a,y:b,w:c,h:d}},_I=function(a){return $I(a.left,a.top,a.width,a.height)},aJ={inflate:XI,relativePosition:VI,findBestRelativePosition:WI,intersect:YI,clamp:ZI,create:$I,fromClientRect:_I},bJ={},cJ={add:function(a,b){bJ[a.toLowerCase()]=b},has:function(a){return!!bJ[a.toLowerCase()]},get:function(a){var b=a.toLowerCase(),c=bJ.hasOwnProperty(b)?bJ[b]:null;if(null===c)throw new Error("Could not find module for type: "+a);return c},create:function(a,b){var c;if("string"==typeof a?(b=b||{},b.type=a):(b=a,a=b.type),a=a.toLowerCase(),c=bJ[a],!c)throw new Error("Could not find control by type: "+a);return c=new c(b),c.type=a,c}},dJ=vd.each,eJ=vd.extend,fJ=function(){};fJ.extend=PI=function(a){var b,c,d,e=this,f=e.prototype,g=function(){var a,b,c,d=this;if(!QI&&(d.init&&d.init.apply(d,arguments),b=d.Mixins))for(a=b.length;a--;)c=b[a],c.init&&c.init.apply(d,arguments)},h=function(){return this},i=function(a,b){return function(){var c,d=this,e=d._super;return d._super=f[a],c=b.apply(d,arguments),d._super=e,c}};QI=!0,b=new e,QI=!1,a.Mixins&&(dJ(a.Mixins,function(b){for(var c in b)"init"!==c&&(a[c]=b[c])}),f.Mixins&&(a.Mixins=f.Mixins.concat(a.Mixins))),a.Methods&&dJ(a.Methods.split(","),function(b){a[b]=h}),a.Properties&&dJ(a.Properties.split(","),function(b){var c="_"+b;a[b]=function(a){var b=this;return void 0!==a?(b[c]=a,b):b[c]}}),a.Statics&&dJ(a.Statics,function(a,b){g[b]=a}),a.Defaults&&f.Defaults&&(a.Defaults=eJ({},f.Defaults,a.Defaults));for(c in a)d=a[c],"function"==typeof d&&f[c]?b[c]=i(c,d):b[c]=d;return g.prototype=b,g.constructor=g,g.extend=PI,g};var gJ=Math.min,hJ=Math.max,iJ=Math.round,jJ=function(a){var b={},c=0,d=0,e=0,f=function(a,b,c){var d,e,f,g,h,i;return d=0,e=0,f=0,a/=255,b/=255,c/=255,h=gJ(a,gJ(b,c)),i=hJ(a,hJ(b,c)),h===i?(f=h,{h:0,s:0,v:100*f}):(g=a===h?b-c:c===h?a-b:c-a,d=a===h?3:c===h?1:5,d=60*(d-g/(i-h)),e=(i-h)/i,f=i,{h:iJ(d),s:iJ(100*e),v:iJ(100*f)})},g=function(a,b,f){var g,h,i,j;if(a=(parseInt(a,10)||0)%360,b=parseInt(b,10)/100,f=parseInt(f,10)/100,b=hJ(0,gJ(b,1)),f=hJ(0,gJ(f,1)),0===b)return void(c=d=e=iJ(255*f));switch(g=a/60,h=f*b,i=h*(1-Math.abs(g%2-1)),j=f-h,Math.floor(g)){case 0:c=h,d=i,e=0;break;case 1:c=i,d=h,e=0;break;case 2:c=0,d=h,e=i;break;case 3:c=0,d=i,e=h;break;case 4:c=i,d=0,e=h;break;case 5:c=h,d=0,e=i;break;default:c=d=e=0}c=iJ(255*(c+j)),d=iJ(255*(d+j)),e=iJ(255*(e+j))},h=function(){var a=function(a){return a=parseInt(a,10).toString(16),a.length>1?a:"0"+a};return"#"+a(c)+a(d)+a(e)},i=function(){return{r:c,g:d,b:e}},j=function(){return f(c,d,e)},k=function(a){var f;return"object"==typeof a?"r"in a?(c=a.r,d=a.g,e=a.b):"v"in a&&g(a.h,a.s,a.v):(f=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(a))?(c=parseInt(f[1],10),d=parseInt(f[2],10),e=parseInt(f[3],10)):(f=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(a))?(c=parseInt(f[1],16),d=parseInt(f[2],16),e=parseInt(f[3],16)):(f=/#([0-F])([0-F])([0-F])/gi.exec(a))&&(c=parseInt(f[1]+f[1],16),d=parseInt(f[2]+f[2],16),e=parseInt(f[3]+f[3],16)),c=c<0?0:c>255?255:c,d=d<0?0:d>255?255:d,e=e<0?0:e>255?255:e,b};return a&&k(a),b.toRgb=i,b.toHsv=j,b.toHex=h,b.parse=k,b},kJ=function(a,b){var c,d,e,f;if(b=b||'"',null===a)return"null";if(e=typeof a,"string"===e)return d="\bb\tt\nn\ff\rr\"\"''\\\\",b+a.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(a,e){return'"'===b&&"'"===a?a:(c=d.indexOf(e),c+1?"\\"+d.charAt(c+1):(a=e.charCodeAt().toString(16),"\\u"+"0000".substring(a.length)+a))})+b;if("object"===e){if(a.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(a)){for(c=0,d="[";c<a.length;c++)d+=(c>0?",":"")+kJ(a[c],b);return d+"]"}d="{";for(f in a)a.hasOwnProperty(f)&&(d+="function"!=typeof a[f]?(d.length>1?","+b:b)+f+b+":"+kJ(a[f],b):"");return d+"}"}return""+a},lJ={serialize:kJ,parse:function(a){try{return JSON.parse(a)}catch(b){}}},mJ={callbacks:{},count:0,send:function(a){var b=this,c=wi.DOM,d=void 0!==a.count?a.count:b.count,e="tinymce_jsonp_"+d;b.callbacks[d]=function(f){c.remove(e),delete b.callbacks[d],a.callback(f)},c.add(c.doc.body,"script",{id:e,src:a.url,type:"text/javascript"}),b.count++}},nJ={send:function(a){var b,c=0,d=function(){!a.async||4===b.readyState||c++>1e4?(a.success&&c<1e4&&200===b.status?a.success.call(a.success_scope,""+b.responseText,b,a):a.error&&a.error.call(a.error_scope,c>1e4?"TIMED_OUT":"GENERAL",b,a),b=null):setTimeout(d,10)};if(a.scope=a.scope||this,a.success_scope=a.success_scope||a.scope,a.error_scope=a.error_scope||a.scope,a.async=a.async!==!1,a.data=a.data||"",nJ.fire("beforeInitialize",{settings:a}),b=new K){if(b.overrideMimeType&&b.overrideMimeType(a.content_type),b.open(a.type||(a.data?"POST":"GET"),a.url,a.async),a.crossDomain&&(b.withCredentials=!0),a.content_type&&b.setRequestHeader("Content-Type",a.content_type),a.requestheaders&&vd.each(a.requestheaders,function(a){b.setRequestHeader(a.key,a.value)}),b.setRequestHeader("X-Requested-With","XMLHttpRequest"),b=nJ.fire("beforeSend",{xhr:b,settings:a}).xhr,b.send(a.data),!a.async)return d();setTimeout(d,10)}}};vd.extend(nJ,kx);var oJ=vd.extend,pJ=function(a){this.settings=oJ({},a),this.count=0};pJ.sendRPC=function(a){return(new pJ).send(a)},pJ.prototype={send:function(a){var b=a.error,c=a.success;a=oJ(this.settings,a),a.success=function(d,e){d=lJ.parse(d),"undefined"==typeof d&&(d={error:"JSON Parse error."}),d.error?b.call(a.error_scope||a.scope,d.error,e):c.call(a.success_scope||a.scope,d.result)},a.error=function(c,d){b&&b.call(a.error_scope||a.scope,c,d)},a.data=lJ.serialize({id:a.id||"c"+this.count++,method:a.method,params:a.params}),a.content_type="application/json",nJ.send(a)}};var qJ,rJ=function(){return function(){var a={},b=[],c={getItem:function(b){var c=a[b];return c?c:null},setItem:function(c,d){b.push(c),a[c]=String(d)},key:function(a){return b[a]},removeItem:function(c){b=b.filter(function(a){return a===c}),delete a[c]},clear:function(){b=[],a={}},length:0};return Object.defineProperty(c,"length",{get:function(){return b.length},configurable:!1,enumerable:!1}),c}()};try{qJ=window.localStorage}catch(Yc){qJ=rJ()}var sJ=qJ,tJ=OI,uJ={geom:{Rect:aJ},util:{Promise:Cb,Delay:Jb,Tools:vd,VK:mA,URI:EH,Class:fJ,EventDispatcher:hx,Observable:kx,I18n:AI,XHR:nJ,JSON:lJ,JSONRequest:pJ,JSONP:mJ,LocalStorage:sJ,Color:jJ},dom:{EventUtils:Vb,Sizzle:Zc,DomQuery:Pd,TreeWalker:s,DOMUtils:wi,ScriptLoader:Bi,RangeUtils:RI,Serializer:$,ControlSelection:KD,BookmarkManager:GD,Selection:LE,Event:Vb.Event},html:{Styles:u,Entities:ci,Node:oD,Schema:t,SaxParser:xA,DomParser:Y,Writer:C,Serializer:D},ui:{Factory:cJ},Env:Ab,AddOnManager:w,Annotator:B,Formatter:X,UndoManager:V,EditorCommands:E,WindowManager:J,NotificationManager:H,EditorObservable:Fx,Shortcuts:F,Editor:dI,FocusManager:iI,EditorManager:OI,DOM:wi.DOM,ScriptLoader:Bi.ScriptLoader,PluginManager:w.PluginManager,ThemeManager:w.ThemeManager,trim:vd.trim,isArray:vd.isArray,is:vd.is,toArray:vd.toArray,makeMap:vd.makeMap,each:vd.each,map:vd.map,grep:vd.grep,inArray:vd.inArray,extend:vd.extend,create:vd.create,walk:vd.walk,createNS:vd.createNS,resolve:vd.resolve,explode:vd.explode,_addCacheSuffix:vd._addCacheSuffix,isOpera:Ab.opera,isWebKit:Ab.webkit,isIE:Ab.ie,isGecko:Ab.gecko,isMac:Ab.mac};tJ=vd.extend(tJ,uJ);var vJ=tJ,wJ=function(a){if("object"==typeof module)try{module.exports=a}catch(b){}},xJ=function(a){window.tinymce=a,window.tinyMCE=a};xJ(vJ),wJ(vJ)}()}(),define("tinymce",["jquery"],function(a){return function(){var b,c;return c=function(){return this.tinymce.DOM.events.domLoaded=!0,this.tinymce},b=c.apply(a,arguments),b||a.tinymce}}(this)),function(){(function(){"use strict";function a(a,b,c){var d,e,f,g,h,i,j,k,l,m;return l=Xb(),e=Tb.getPos(b,Ha.getUiContainer(a)),f=e.x,g=e.y,Vb(a)&&Ub(document.body)&&(f-=l.x,g-=l.y),d=a.getEl(),m=Tb.getSize(d),h=m.width,i=m.height,m=Tb.getSize(b),j=m.width,k=m.height,c=(c||"").split(""),"b"===c[0]&&(g+=k),"r"===c[1]&&(f+=j),"c"===c[0]&&(g+=Math.round(k/2)),"c"===c[1]&&(f+=Math.round(j/2)),"b"===c[3]&&(g-=i),"r"===c[4]&&(f-=h),"c"===c[3]&&(g-=Math.round(i/2)),"c"===c[4]&&(f-=Math.round(h/2)),{x:f,y:g,w:h,h:i}}function b(){}function c(a){this.cls=[],this.cls._map={},this.onchange=a||b,this.prefix=""}function d(a){for(var b,c=[],d=a.length;d--;)b=a[d],b.__checked||(c.push(b),b.__checked=1);for(d=c.length;d--;)delete c[d].__checked;return c}function e(a){return a.nodeType>0}function f(a,b){var c,d;if(a===b)return!0;if(null===a||null===b)return a===b;if("object"!=typeof a||"object"!=typeof b)return a===b;if(L.isArray(b)){if(a.length!==b.length)return!1;for(c=a.length;c--;)if(!f(a[c],b[c]))return!1}if(e(a)||e(b))return a===b;d={};for(c in b){if(!f(a[c],b[c]))return!1;d[c]=!0}for(c in a)if(!d[c]&&!f(a[c],b[c]))return!1;return!0}function g(a){return a._eventDispatcher||(a._eventDispatcher=new _b({scope:a,toggleEvent:function(b,c){c&&_b.isNative(b)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[b]=!0,a.state.get("rendered")&&h(a))}})),a._eventDispatcher}function h(a){function b(b){var c=a.getParentCtrl(b.target);c&&c.fire(b.type,b)}function c(){var a=i._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(a){a.fire("mouseleave",{target:a.getEl()})}),i._lastHoverCtrl=null)}function d(b){var c,d,e,f=a.getParentCtrl(b.target),g=i._lastHoverCtrl,h=0;if(f!==g){if(i._lastHoverCtrl=f,d=f.parents().toArray().reverse(),d.push(f),g){for(e=g.parents().toArray().reverse(),e.push(g),h=0;h<e.length&&d[h]===e[h];h++);for(c=e.length-1;c>=h;c--)g=e[c],g.fire("mouseleave",{target:g.getEl()})}for(c=h;c<d.length;c++)f=d[c],f.fire("mouseenter",{target:f.getEl()})}}function e(b){b.preventDefault(),"mousewheel"===b.type?(b.deltaY=-.025*b.wheelDelta,b.wheelDeltaX&&(b.deltaX=-.025*b.wheelDeltaX)):(b.deltaX=0,b.deltaY=b.detail),b=a.fire("wheel",b)}var f,g,h,i,j,k;if(j=a._nativeEvents){for(h=a.parents().toArray(),h.unshift(a),f=0,g=h.length;!i&&f<g;f++)i=h[f]._eventsRoot;for(i||(i=h[h.length-1]||a),a._eventsRoot=i,g=f,f=0;f<g;f++)h[f]._eventsRoot=i;var l=i._delegates;l||(l=i._delegates={});for(k in j){if(!j)return!1;"wheel"!==k||tc?("mouseenter"===k||"mouseleave"===k?i._hasMouseEnter||(Rb(i.getEl()).on("mouseleave",c).on("mouseover",d),i._hasMouseEnter=1):l[k]||(Rb(i.getEl()).on(k,b),l[k]=!0),j[k]=!1):sc?Rb(a.getEl()).on("mousewheel",e):Rb(a.getEl()).on("DOMMouseScroll",e)}}}function i(a){function b(a){return a&&1===a.nodeType}function c(a){return a=a||t,b(a)?a.getAttribute("role"):null}function d(a){for(var b,d=a||t;d=d.parentNode;)if(b=c(d))return b}function e(a){var c=t;if(b(c))return c.getAttribute("aria-"+a)}function f(a){var b=a.tagName.toUpperCase();return"INPUT"===b||"TEXTAREA"===b||"SELECT"===b}function g(a){return!(!f(a)||a.hidden)||(!!Cc(a)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(c(a)))}function h(a){function b(a){if(1===a.nodeType&&"none"!==a.style.display&&!a.disabled){g(a)&&c.push(a);for(var d=0;d<a.childNodes.length;d++)b(a.childNodes[d])}}var c=[];return b(a||v.getEl()),c}function i(a){var b,c;a=a||u,c=a.parents().toArray(),c.unshift(a);for(var d=0;d<c.length&&(b=c[d],!b.settings.ariaRoot);d++);return b}function j(a){var b=i(a),c=h(b.getEl());b.settings.ariaRemember&&"lastAriaIndex"in b?k(b.lastAriaIndex,c):k(0,c)}function k(a,b){return a<0?a=b.length-1:a>=b.length&&(a=0),b[a]&&b[a].focus(),a}function l(a,b){var c=-1,d=i();b=b||h(d.getEl());for(var e=0;e<b.length;e++)b[e]===t&&(c=e);c+=a,d.lastAriaIndex=k(c,b)}function m(){var a=d();"tablist"===a?l(-1,h(t.parentNode)):u.parent().submenu?r():l(-1)}function n(){var a=c(),b=d();"tablist"===b?l(1,h(t.parentNode)):"menuitem"===a&&"menu"===b&&e("haspopup")?s():l(1)}function o(){l(-1)}function p(){var a=c(),b=d();"menuitem"===a&&"menubar"===b?s():"button"===a&&e("haspopup")?s({key:"down"}):l(1)}function q(a){var b=d();if("tablist"===b){var c=h(u.getEl("body"))[0];c&&c.focus()}else l(a.shiftKey?-1:1)}function r(){u.fire("cancel")}function s(a){a=a||{},u.fire("click",{target:t,aria:a})}var t,u,v=a.root;try{t=document.activeElement}catch(w){t=document.body}return u=v.getParentCtrl(t),v.on("keydown",function(a){function b(a,b){f(t)||Cc(t)||"slider"!==c(t)&&b(a)!==!1&&a.preventDefault()}if(!a.isDefaultPrevented())switch(a.keyCode){case 37:b(a,m);break;case 39:b(a,n);break;case 38:b(a,o);break;case 40:b(a,p);break;case 27:r();break;case 14:case 13:case 32:b(a,s);break;case 9:q(a),a.preventDefault()}}),v.on("focusin",function(a){t=a.target,u=a.control}),{focusFirst:j}}function j(a){var b,c,d,e,f,g,h,i,j=Math.max;return b=a.documentElement,c=a.body,d=j(b.scrollWidth,c.scrollWidth),e=j(b.clientWidth,c.clientWidth),f=j(b.offsetWidth,c.offsetWidth),g=j(b.scrollHeight,c.scrollHeight),h=j(b.clientHeight,c.clientHeight),i=j(b.offsetHeight,c.offsetHeight),{width:d<f?e:d,height:g<i?h:g}}function k(a){var b,c;if(a.changedTouches)for(b="screenX screenY pageX pageY clientX clientY".split(" "),c=0;c<b.length;c++)a[b[c]]=a.changedTouches[0][b[c]]}function l(a,b){var c,d,e,f,g,h,i,l=b.document||document;b=b||{};var m=l.getElementById(b.handle||a);e=function(a){var e,n,o=j(l);k(a),a.preventDefault(),d=a.button,e=m,h=a.screenX,i=a.screenY,n=window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue("cursor"):e.runtimeStyle.cursor,c=Rb("<div></div>").css({position:"absolute",top:0,left:0,width:o.width,height:o.height,zIndex:2147483647,opacity:1e-4,cursor:n}).appendTo(l.body),Rb(l).on("mousemove touchmove",g).on("mouseup touchend",f),b.start(a)},g=function(a){return k(a),a.button!==d?f(a):(a.deltaX=a.screenX-h,a.deltaY=a.screenY-i,a.preventDefault(),void b.drag(a))},f=function(a){k(a),Rb(l).off("mousemove touchmove",g).off("mouseup touchend",f),c.remove(),b.stop&&b.stop(a)},this.destroy=function(){Rb(m).off()},Rb(m).on("mousedown touchstart",e)}function m(a,b){for(;a;){if(a===b)return!0;a=a.parent()}}function n(a){for(var b=Ic.length;b--;){var c=Ic[b],d=c.getParentCtrl(a.target);if(c.settings.autohide){if(d&&(m(d,c)||c.parent()===d))continue;a=c.fire("autohide",{target:a.target}),a.isDefaultPrevented()||c.hide()}}}function o(){xc||(xc=function(a){2!==a.button&&n(a)},Rb(document).on("click touchstart",xc))}function p(){yc||(yc=function(){var a;for(a=Ic.length;a--;)r(Ic[a])},Rb(window).on("scroll",yc))}function q(){if(!zc){var a=document.documentElement,b=a.clientWidth,c=a.clientHeight;zc=function(){document.all&&b===a.clientWidth&&c===a.clientHeight||(b=a.clientWidth,c=a.clientHeight,Kc.hideAll())},Rb(window).on("resize",zc)}}function r(a){function b(b,c){for(var d,e=0;e<Ic.length;e++)if(Ic[e]!==a)for(d=Ic[e].parent();d&&(d=d.parent());)d===a&&Ic[e].fixed(b).moveBy(0,c).repaint()}var c=Tb.getViewPort().y;a.settings.autofix&&(a.state.get("fixed")?a._autoFixY>c&&(a.fixed(!1).layoutRect({y:a._autoFixY}).repaint(),b(!1,a._autoFixY-c)):(a._autoFixY=a.layoutRect().y,a._autoFixY<c&&(a.fixed(!0).layoutRect({y:0}).repaint(),b(!0,c-a._autoFixY))))}function s(a,b){var c,d,e=Kc.zIndex||65535;if(a)Jc.push(b);else for(c=Jc.length;c--;)Jc[c]===b&&Jc.splice(c,1);if(Jc.length)for(c=0;c<Jc.length;c++)Jc[c].modal&&(e++,d=Jc[c]),Jc[c].getEl().style.zIndex=e,Jc[c].zIndex=e,e++;var f=Rb("#"+b.classPrefix+"modal-block",b.getContainerElm())[0];d?Rb(f).css("z-index",d.zIndex-1):f&&(f.parentNode.removeChild(f),Ac=!1),Kc.currentZIndex=e}function t(a){var b;for(b=Ic.length;b--;)Ic[b]===a&&Ic.splice(b,1);for(b=Jc.length;b--;)Jc[b]===a&&Jc.splice(b,1)}function u(a,b){var c,d,e=this,f=Bc.classPrefix;e.show=function(g,h){function i(){c&&(Rb(a).append('<div class="'+f+"throbber"+(b?" "+f+"throbber-inline":"")+'"></div>'),h&&h())}return e.hide(),c=!0,g?d=pa.setTimeout(i,g):i(),e},e.hide=function(){var b=a.lastChild;return pa.clearTimeout(d),b&&b.className.indexOf("throbber")!==-1&&b.parentNode.removeChild(b),c=!1,e}}function v(a){var b=function(a){return a.inline?a.getElement():a.getContentAreaContainer()},c=function(){var c=b(a);return Tb.getSize(c).width},d=function(a){_a(a,function(a){a.moveTo(0,0)})},e=function(c){if(c.length>0){var d=c.slice(0,1)[0],e=b(a);d.moveRel(e,"tc-tc"),_a(c,function(a,b){b>0&&a.moveRel(c[b-1].getEl(),"bc-tc")})}},f=function(a){d(a),e(a)},g=function(a,b){var d=L.extend(a,{maxWidth:c()}),e=new Wc(d);return e.args=d,d.timeout>0&&(e.timer=setTimeout(function(){e.close(),b()},d.timeout)),e.on("close",function(){b()}),e.renderTo(),e},h=function(a){a.close()},i=function(a){return a.args};return{open:g,close:h,reposition:f,getArgs:i}}function w(a){var b,c="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",d=Rb("meta[name=viewport]")[0];yb.overrideViewPort!==!1&&(d||(d=document.createElement("meta"),d.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(d)),b=d.getAttribute("content"),b&&"undefined"!=typeof Yc&&(Yc=b),d.setAttribute("content",a?c:Yc))}function x(a,b){y()&&b===!1&&Rb([document.documentElement,document.body]).removeClass(a+"fullscreen")}function y(){for(var a=0;a<Xc.length;a++)if(Xc[a]._fullscreen)return!0;return!1}function z(){function a(){var a,b,c=Tb.getWindowSize();for(a=0;a<Xc.length;a++)b=Xc[a].layoutRect(),Xc[a].moveTo(Xc[a].settings.x||Math.max(0,c.w/2-b.w/2),Xc[a].settings.y||Math.max(0,c.h/2-b.h/2))}if(!yb.desktop){var b={w:window.innerWidth,h:window.innerHeight};pa.setInterval(function(){var a=window.innerWidth,c=window.innerHeight;b.w===a&&b.h===c||(b={w:a,h:c},Rb(window).trigger("resize"))},100)}Rb(window).on("resize",a)}function A(a){var b=function(a,b,c){var d;return a.title=a.title||" ",a.url=a.url||a.file,a.url&&(a.width=parseInt(a.width||320,10),a.height=parseInt(a.height||240,10)),a.body&&(a.items={defaults:a.defaults,type:a.bodyType||"form",items:a.body,data:a.data,callbacks:a.commands}),a.url||a.buttons||(a.buttons=[{text:"Ok",subtype:"primary",onclick:function(){d.find("form")[0].submit()}},{text:"Cancel",onclick:function(){d.close()}}]),d=new Zc(a),d.on("close",function(){c(d)}),a.data&&d.on("postRender",function(){this.find("*").each(function(b){var c=b.name();c in a.data&&b.value(a.data[c])})}),d.features=a||{},d.params=b||{},d=d.renderTo(document.body).reflow()},c=function(a,b,c){var d;return d=$c.alert(a,function(){b()}),d.on("close",function(){c(d)}),d},d=function(a,b,c){var d;return d=$c.confirm(a,function(a){b(a)}),d.on("close",function(){c(d)}),d},e=function(a){a.close()},f=function(a){return a.params},g=function(a,b){a.params=b};return{open:b,alert:c,confirm:d,close:e,getParams:f,setParams:g}}function B(a,b,c){var d=a.isiOS()&&/ipad/i.test(c)===!0,e=a.isiOS()&&!d,f=a.isAndroid()&&3===a.version.major,g=a.isAndroid()&&4===a.version.major,h=d||f||g&&/mobile/i.test(c)===!0,i=a.isiOS()||a.isAndroid(),j=i&&!h,k=b.isSafari()&&a.isiOS()&&/safari/i.test(c)===!1;return{isiPad:sa(d),isiPhone:sa(e),isTablet:sa(h),isPhone:sa(j),isTouch:sa(i),isAndroid:a.isAndroid,isiOS:a.isiOS,isWebView:sa(k)}}function C(a,b,c,d,e){return a(c,d)?Ca.some(c):Va(e)&&e(c)?Ca.none():b(c,d,e)}function D(a,b){for(;a;){if(b===a)return!0;a=a.parentNode}return!1}function E(a){var b="";if(a)for(var c=0;c<a.length;c++)b+='<option value="'+a[c]+'">'+a[c]+"</option>";return b}function F(a,b,c){return a<b&&(a=b),a>c&&(a=c),a}function G(a,b,c){a.setAttribute("aria-"+b,c)}function H(a,b){var c,d,e,f,g,h;"v"===a.settings.orientation?(f="top",e="height",d="h"):(f="left",e="width",d="w"),h=a.getEl("handle"),c=(a.layoutRect()[d]||100)-Tb.getSize(h)[e],g=c*((b-a._minValue)/(a._maxValue-a._minValue))+"px",h.style[f]=g,h.style.height=a.layoutRect().h+"px",
G(h,"valuenow",b),G(h,"valuetext",""+a.settings.previewFilter(b)),G(h,"valuemin",a._minValue),G(h,"valuemax",a._maxValue)}function I(){}var J=tinymce.util.Tools.resolve("tinymce.ThemeManager"),K=tinymce.util.Tools.resolve("tinymce.EditorManager"),L=tinymce.util.Tools.resolve("tinymce.util.Tools"),M=function(a){return a.getParam("branding",!0,"boolean")},N=function(a){return O(a)!==!1},O=function(a){return a.getParam("menubar")},P=function(a){return a.getParam("statusbar",!0,"boolean")},Q=function(a){return a.getParam("toolbar_items_size")},R=function(a){return a.getParam("readonly",!1,"boolean")},S=function(a){return a.getParam("fixed_toolbar_container")},T=function(a){return a.getParam("inline_toolbar_position_handler")},U=function(a){return a.getParam("menu")},V=function(a){return a.getParam("removed_menuitems","")},W=function(a){return a.getParam("min_width",100,"number")},X=function(a){return a.getParam("min_height",100,"number")},Y=function(a){return a.getParam("max_width",65535,"number")},Z=function(a){return a.getParam("max_height",65535,"number")},$=function(a){return a.settings.skin===!1},_=function(a){return a.getParam("inline",!1,"boolean")},aa=function(a){var b=a.getParam("resize","vertical");return b===!1?"none":"both"===b?"both":"vertical"},ba=function(a){var b=a.settings,c=b.skin,d=b.skin_url;if(c!==!1){var e=c?c:"lightgray";d=d?a.documentBaseURI.toAbsolute(d):K.baseURL+"/skins/"+e}return d},ca=function(a,b){for(var c=[],d=1;d<10;d++){var e=a["toolbar"+d];if(!e)break;c.push(e)}var f=a.toolbar?[a.toolbar]:[b];return c.length>0?c:f},da=function(a){var b=a.getParam("toolbar"),c="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image";return b===!1?[]:L.isArray(b)?L.grep(b,function(a){return a.length>0}):ca(a.settings,c)},ea=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),fa=tinymce.util.Tools.resolve("tinymce.ui.Factory"),ga=tinymce.util.Tools.resolve("tinymce.util.I18n"),ha=function(a){return a.fire("SkinLoaded")},ia=function(a){return a.fire("ResizeEditor")},ja=function(a){return a.fire("BeforeRenderUI")},ka={fireSkinLoaded:ha,fireResizeEditor:ia,fireBeforeRenderUI:ja},la=function(a,b){return function(){var c=a.find(b)[0];c&&c.focus(!0)}},ma=function(a,b){a.shortcuts.add("Alt+F9","",la(b,"menubar")),a.shortcuts.add("Alt+F10,F10","",la(b,"toolbar")),a.shortcuts.add("Alt+F11","",la(b,"elementpath")),b.on("cancel",function(){a.focus()})},na={addKeys:ma},oa=tinymce.util.Tools.resolve("tinymce.geom.Rect"),pa=tinymce.util.Tools.resolve("tinymce.util.Delay"),qa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b]},ra=function(a,b){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return a(b.apply(null,arguments))}},sa=function(a){return function(){return a}},ta=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];for(var d=new Array(arguments.length-1),e=1;e<arguments.length;e++)d[e-1]=arguments[e];return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];for(var e=new Array(arguments.length),f=0;f<e.length;f++)e[f]=arguments[f];var g=d.concat(e);return a.apply(null,g)}},ua=sa(!1),va=sa(!0),wa=ua,xa=va,ya=function(){return za},za=function(){var a=function(a){return a.isNone()},b=function(a){return a()},c=function(a){return a},d=function(){},e=function(){return null},f=function(){},g={fold:function(a,b){return a()},is:wa,isSome:wa,isNone:xa,getOr:c,getOrThunk:b,getOrDie:function(a){throw new Error(a||"error: getOrDie called on none.")},getOrNull:e,getOrUndefined:f,or:c,orThunk:b,map:ya,ap:ya,each:d,bind:ya,flatten:ya,exists:wa,forall:xa,filter:ya,equals:a,equals_:a,toArray:function(){return[]},toString:sa("none()")};return Object.freeze&&Object.freeze(g),g}(),Aa=function(a){var b=function(){return a},c=function(){return f},d=function(b){return Aa(b(a))},e=function(b){return b(a)},f={fold:function(b,c){return c(a)},is:function(b){return a===b},isSome:xa,isNone:wa,getOr:b,getOrThunk:b,getOrDie:b,getOrNull:b,getOrUndefined:b,or:c,orThunk:c,map:d,ap:function(b){return b.fold(ya,function(b){return Aa(b(a))})},each:function(b){b(a)},bind:e,flatten:b,exists:e,forall:e,filter:function(b){return b(a)?f:za},equals:function(b){return b.is(a)},equals_:function(b,c){return b.fold(wa,function(b){return c(a,b)})},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return f},Ba=function(a){return null===a||void 0===a?za:Aa(a)},Ca={some:Aa,none:ya,from:Ba},Da=function(a){var b=Fa(a);if(b&&"static"!==ea.DOM.getStyle(b,"position",!0)){var c=ea.DOM.getPos(b),d=b.scrollLeft-c.x,e=b.scrollTop-c.y;return Ca.some({x:d,y:e})}return Ca.none()},Ea=function(a,b){var c=ea.DOM.select(a.settings.ui_container)[0];b.getRoot().uiContainer=c},Fa=function(a){return a?a.getRoot().uiContainer:null},Ga=function(a,b){return b.uiContainer=Fa(a)},Ha={getUiContainerDelta:Da,setUiContainer:Ea,getUiContainer:Fa,inheritUiContainer:Ga},Ia=function(a,b,c){var d,e=[];if(b)return L.each(b.split(/[ ,]/),function(b){var f,g=function(){var c=a.selection;b.settings.stateSelector&&c.selectorChanged(b.settings.stateSelector,function(a){b.active(a)},!0),b.settings.disabledStateSelector&&c.selectorChanged(b.settings.disabledStateSelector,function(a){b.disabled(a)})};"|"===b?d=null:(d||(d={type:"buttongroup",items:[]},e.push(d)),a.buttons[b]&&(f=b,b=a.buttons[f],"function"==typeof b&&(b=b()),b.type=b.type||"button",b.size=c,b=fa.create(b),d.items.push(b),a.initialized?g():a.on("init",g)))}),{type:"toolbar",layout:"flow",items:e}},Ja=function(a,b){var c=[],d=function(d){d&&c.push(Ia(a,d,b))};if(L.each(da(a),function(a){d(a)}),c.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:c}},Ka={createToolbar:Ia,createToolbars:Ja},La=ea.DOM,Ma=function(a){return{left:a.x,top:a.y,width:a.w,height:a.h,right:a.x+a.w,bottom:a.y+a.h}},Na=function(a){L.each(a.contextToolbars,function(a){a.panel&&a.panel.hide()})},Oa=function(a,b){a.moveTo(b.left,b.top)},Pa=function(a,b,c){b=b?b.substr(0,2):"",L.each({t:"down",b:"up"},function(d,e){a.classes.toggle("arrow-"+d,c(e,b.substr(0,1)))}),L.each({l:"left",r:"right"},function(d,e){a.classes.toggle("arrow-"+d,c(e,b.substr(1,1)))})},Qa=function(a,b,c,d,e,f){return f=Ma({x:b,y:c,w:f.w,h:f.h}),a&&(f=a({elementRect:Ma(d),contentAreaRect:Ma(e),panelRect:f})),f},Ra=function(a){var b,c=function(){return a.contextToolbars||[]},d=function(b){var c,d,e;return c=La.getPos(a.getContentAreaContainer()),d=a.dom.getRect(b),e=a.dom.getRoot(),"BODY"===e.nodeName&&(d.x-=e.ownerDocument.documentElement.scrollLeft||e.scrollLeft,d.y-=e.ownerDocument.documentElement.scrollTop||e.scrollTop),d.x+=c.x,d.y+=c.y,d},e=function(b,c){var e,f,g,h,i,j,k,l,m=T(a);if(!a.removed){if(!b||!b.toolbar.panel)return void Na(a);k=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],i=b.toolbar.panel,c&&i.show(),g=d(b.element),f=La.getRect(i.getEl()),h=La.getRect(a.getContentAreaContainer()||a.getBody());var n=Ha.getUiContainerDelta(i).getOr({x:0,y:0});if(g.x+=n.x,g.y+=n.y,f.x+=n.x,f.y+=n.y,h.x+=n.x,h.y+=n.y,l=25,"inline"!==La.getStyle(b.element,"display",!0)){var o=b.element.getBoundingClientRect();g.w=o.width,g.h=o.height}a.inline||(h.w=a.getDoc().documentElement.offsetWidth),a.selection.controlSelection.isResizable(b.element)&&g.w<l&&(g=oa.inflate(g,0,8)),e=oa.findBestRelativePosition(f,g,h,k),g=oa.clamp(g,h),e?(j=oa.relativePosition(f,g,e),Oa(i,Qa(m,j.x,j.y,g,h,f))):(h.h+=f.h,g=oa.intersect(h,g),g?(e=oa.findBestRelativePosition(f,g,h,["bc-tc","bl-tl","br-tr"]),e?(j=oa.relativePosition(f,g,e),Oa(i,Qa(m,j.x,j.y,g,h,f))):Oa(i,Qa(m,g.x,g.y,g,h,f))):i.hide()),Pa(i,e,function(a,b){return a===b})}},f=function(b){return function(){var c=function(){a.selection&&e(j(a.selection.getNode()),b)};pa.requestAnimationFrame(c)}},g=function(c){if(!b){var d=f(!0),e=Ha.getUiContainer(c);b=a.selection.getScrollContainer()||a.getWin(),La.bind(b,"scroll",d),La.bind(e,"scroll",d),a.on("remove",function(){La.unbind(b,"scroll",d),La.unbind(e,"scroll",d)})}},h=function(b){var c;return b.toolbar.panel?(b.toolbar.panel.show(),void e(b)):(c=fa.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:Ka.createToolbar(a,b.toolbar.items),oncancel:function(){a.focus()}}),Ha.setUiContainer(a,c),g(c),b.toolbar.panel=c,c.renderTo().reflow(),void e(b))},i=function(){L.each(c(),function(a){a.panel&&a.panel.hide()})},j=function(b){var d,e,f,g=c();for(f=a.$(b).parents().add(b),d=f.length-1;d>=0;d--)for(e=g.length-1;e>=0;e--)if(g[e].predicate(f[d]))return{toolbar:g[e],element:f[d]};return null};a.on("click keyup setContent ObjectResized",function(b){("setcontent"!==b.type||b.selection)&&pa.setEditorTimeout(a,function(){var b;b=j(a.selection.getNode()),b?(i(),h(b)):i()})}),a.on("blur hide contextmenu",i),a.on("ObjectResizeStart",function(){var b=j(a.selection.getNode());b&&b.toolbar.panel&&b.toolbar.panel.hide()}),a.on("ResizeEditor ResizeWindow",f(!0)),a.on("nodeChange",f(!1)),a.on("remove",function(){L.each(c(),function(a){a.panel&&a.panel.remove()}),a.contextToolbars={}}),a.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var b=j(a.selection.getNode());b&&b.toolbar.panel&&b.toolbar.panel.items()[0].focus()})},Sa={addContextualToolbars:Ra},Ta=function(a){if(null===a)return"null";var b=typeof a;return"object"===b&&Array.prototype.isPrototypeOf(a)?"array":"object"===b&&String.prototype.isPrototypeOf(a)?"string":b},Ua=function(a){return function(b){return Ta(b)===a}},Va=Ua("function"),Wa=Ua("number"),Xa=function(){var a=Array.prototype.indexOf,b=function(b,c){return a.call(b,c)},c=function(a,b){return eb(a,b)};return void 0===a?c:b}(),Ya=function(a,b){var c=Xa(a,b);return c===-1?Ca.none():Ca.some(c)},Za=function(a,b){return db(a,b).isSome()},$a=function(a,b){for(var c=a.length,d=new Array(c),e=0;e<c;e++){var f=a[e];d[e]=b(f,e,a)}return d},_a=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];b(e,c,a)}},ab=function(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];b(f,d,a)&&c.push(f)}return c},bb=function(a,b,c){return _a(a,function(a){c=b(c,a)}),c},cb=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];if(b(e,c,a))return Ca.some(e)}return Ca.none()},db=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];if(b(e,c,a))return Ca.some(c)}return Ca.none()},eb=function(a,b){for(var c=0,d=a.length;c<d;++c)if(a[c]===b)return c;return-1},fb=Array.prototype.push,gb=function(a){for(var b=[],c=0,d=a.length;c<d;++c){if(!Array.prototype.isPrototypeOf(a[c]))throw new Error("Arr.flatten item "+c+" was not an array, input: "+a);fb.apply(b,a[c])}return b},hb=Array.prototype.slice,ib=function(a){var b=hb.call(a,0);return b.reverse(),b},jb=(Va(Array.from)?Array.from:function(a){return hb.call(a)},{file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code"},table:{title:"Table"},help:{title:"Help"}}),kb=function(){return{name:"|",item:{text:"|"}}},lb=function(a,b){var c=b?{name:a,item:b}:null;return"|"===a?kb():c},mb=function(a,b){return db(a,function(a){return a.name===b}).isSome()},nb=function(a){return a&&"|"===a.item.text},ob=function(a,b){var c=ab(a,function(a){return b.hasOwnProperty(a.name)===!1}),d=ab(c,function(a,b,c){return!nb(a)||!nb(c[b-1])});return ab(d,function(a,b,c){return!nb(a)||b>0&&b<c.length-1})},pb=function(a,b,c,d){var e,f,g,h;return b?(f=b[d],h=!0):f=jb[d],f&&(e={text:f.title},g=[],L.each((f.items||"").split(/[ ,]/),function(b){var c=lb(b,a[b]);c&&g.push(c)}),h||L.each(a,function(a,b){a.context!==d||mb(g,b)||("before"===a.separator&&g.push(kb()),a.prependToContext?g.unshift(lb(b,a)):g.push(lb(b,a)),"after"===a.separator&&g.push(kb()))}),e.menu=$a(ob(g,c),function(a){return a.item}),!e.menu.length)?null:e},qb=function(a){var b,c=[],d=U(a);if(d)for(b in d)c.push(b);else for(b in jb)c.push(b);return c},rb=function(a){for(var b=[],c=qb(a),d=L.makeMap(V(a).split(/[ ,]/)),e=O(a),f="string"==typeof e?e.split(/[ ,]/):c,g=0;g<f.length;g++){var h=f[g],i=pb(a.menuItems,U(a),d,h);i&&b.push(i)}return b},sb={createMenuButtons:rb},tb=ea.DOM,ub=function(a){return{width:a.clientWidth,height:a.clientHeight}},vb=function(a,b,c){var d,e,f,g;d=a.getContainer(),e=a.getContentAreaContainer().firstChild,f=ub(d),g=ub(e),null!==b&&(b=Math.max(W(a),b),b=Math.min(Y(a),b),tb.setStyle(d,"width",b+(f.width-g.width)),tb.setStyle(e,"width",b)),c=Math.max(X(a),c),c=Math.min(Z(a),c),tb.setStyle(e,"height",c),ka.fireResizeEditor(a)},wb=function(a,b,c){var d=a.getContentAreaContainer();vb(a,d.clientWidth+b,d.clientHeight+c)},xb={resizeTo:vb,resizeBy:wb},yb=tinymce.util.Tools.resolve("tinymce.Env"),zb=function(a){return{element:function(){return a}}},Ab=function(a,b,c){var d=a.settings[c];d&&d(zb(b.getEl("body")))},Bb=function(a,b,c){L.each(c,function(c){var d=b.items().filter("#"+c.name)[0];d&&d.visible()&&c.name!==a&&(Ab(c,d,"onhide"),d.visible(!1))})},Cb=function(a){a.items().each(function(a){a.active(!1)})},Db=function(a,b){return L.grep(a,function(a){return a.name===b})[0]},Eb=function(a,b,c){return function(d){var e=d.control,f=e.parents().filter("panel")[0],g=f.find("#"+b)[0],h=Db(c,b);Bb(b,f,c),Cb(e.parent()),g&&g.visible()?(Ab(h,g,"onhide"),g.hide(),e.active(!1)):(g?(g.show(),Ab(h,g,"onshow")):(g=fa.create({type:"container",name:b,layout:"stack",classes:"sidebar-panel",html:""}),f.prepend(g),Ab(h,g,"onrender"),Ab(h,g,"onshow")),e.active(!0)),ka.fireResizeEditor(a)}},Fb=function(){return!yb.ie||yb.ie>=11},Gb=function(a){return!(!Fb()||!a.sidebars)&&a.sidebars.length>0},Hb=function(a){var b=L.map(a.sidebars,function(b){var c=b.settings;return{type:"button",icon:c.icon,image:c.image,tooltip:c.tooltip,onclick:Eb(a,b.name,a.sidebars)}});return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:b}]}},Ib={hasSidebar:Gb,createSidebar:Hb},Jb=function(a){var b=function(){a._skinLoaded=!0,ka.fireSkinLoaded(a)};return function(){a.initialized?b():a.on("init",b)}},Kb={fireSkinLoaded:Jb},Lb=ea.DOM,Mb=function(a){return function(b){a.find("*").disabled("readonly"===b.mode)}},Nb=function(a){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:a,html:""}},Ob=function(a){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[Nb("0"),Ib.createSidebar(a)]}},Pb=function(a,b,c){var d,e,f;if($(a)===!1&&c.skinUiCss?Lb.styleSheetLoader.load(c.skinUiCss,Kb.fireSkinLoaded(a)):Kb.fireSkinLoaded(a)(),d=b.panel=fa.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[N(a)===!1?null:{type:"menubar",border:"0 0 1 0",items:sb.createMenuButtons(a)},Ka.createToolbars(a,Q(a))]},Ib.hasSidebar(a)?Ob(a):Nb("1 0 0 0")]}),Ha.setUiContainer(a,d),"none"!==aa(a)&&(e={type:"resizehandle",direction:aa(a),onResizeStart:function(){var b=a.getContentAreaContainer().firstChild;f={width:b.clientWidth,height:b.clientHeight}},onResize:function(b){"both"===aa(a)?xb.resizeTo(a,f.width+b.deltaX,f.height+b.deltaY):xb.resizeTo(a,null,f.height+b.deltaY)}}),P(a)){var g='<a href="https://www.tinymce.com/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">tinymce</a>',h=ga.translate(["Powered by {0}",g]),i=M(a)?{type:"label",classes:"branding",html:" "+h}:null;d.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:a},e,i]})}return ka.fireBeforeRenderUI(a),a.on("SwitchMode",Mb(d)),d.renderBefore(c.targetNode).reflow(),R(a)&&a.setMode("readonly"),c.width&&Lb.setStyle(d.getEl(),"width",c.width),a.on("remove",function(){d.remove(),d=null}),na.addKeys(a,d),Sa.addContextualToolbars(a),{iframeContainer:d.find("#iframe")[0].getEl(),editorContainer:d.getEl()}},Qb={render:Pb},Rb=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Sb=0,Tb={id:function(){return"mceu_"+Sb++},create:function(a,b,c){var d=document.createElement(a);return ea.DOM.setAttribs(d,b),"string"==typeof c?d.innerHTML=c:L.each(c,function(a){a.nodeType&&d.appendChild(a)}),d},createFragment:function(a){return ea.DOM.createFragment(a)},getWindowSize:function(){return ea.DOM.getViewPort()},getSize:function(a){var b,c;if(a.getBoundingClientRect){var d=a.getBoundingClientRect();b=Math.max(d.width||d.right-d.left,a.offsetWidth),c=Math.max(d.height||d.bottom-d.bottom,a.offsetHeight)}else b=a.offsetWidth,c=a.offsetHeight;return{width:b,height:c}},getPos:function(a,b){return ea.DOM.getPos(a,b||Tb.getContainer())},getContainer:function(){return yb.container?yb.container:document.body},getViewPort:function(a){return ea.DOM.getViewPort(a)},get:function(a){return document.getElementById(a)},addClass:function(a,b){return ea.DOM.addClass(a,b)},removeClass:function(a,b){return ea.DOM.removeClass(a,b)},hasClass:function(a,b){return ea.DOM.hasClass(a,b)},toggleClass:function(a,b,c){return ea.DOM.toggleClass(a,b,c)},css:function(a,b,c){return ea.DOM.setStyle(a,b,c)},getRuntimeStyle:function(a,b){return ea.DOM.getStyle(a,b,!0)},on:function(a,b,c,d){return ea.DOM.bind(a,b,c,d)},off:function(a,b,c){return ea.DOM.unbind(a,b,c)},fire:function(a,b,c){return ea.DOM.fire(a,b,c)},innerHtml:function(a,b){ea.DOM.setHTML(a,b)}},Ub=function(a){return"static"===Tb.getRuntimeStyle(a,"position")},Vb=function(a){return a.state.get("fixed")},Wb=function(a){return{x:0,y:0,w:a.scrollWidth-1,h:a.scrollHeight-1}},Xb=function(){var a=window,b=Math.max(a.pageXOffset,document.body.scrollLeft,document.documentElement.scrollLeft),c=Math.max(a.pageYOffset,document.body.scrollTop,document.documentElement.scrollTop),d=a.innerWidth||document.documentElement.clientWidth,e=a.innerHeight||document.documentElement.clientHeight;return{x:b,y:c,w:b+d,h:c+e}},Yb=function(a){var b=Ha.getUiContainer(a);return b&&!Vb(a)?Wb(b):Xb()},Zb={testMoveRel:function(b,c){for(var d=Yb(this),e=0;e<c.length;e++){var f=a(this,b,c[e]);if(Vb(this)){if(f.x>0&&f.x+f.w<d.w&&f.y>0&&f.y+f.h<d.h)return c[e]}else if(f.x>d.x&&f.x+f.w<d.w&&f.y>d.y&&f.y+f.h<d.h)return c[e]}return c[0]},moveRel:function(b,c){"string"!=typeof c&&(c=this.testMoveRel(b,c));var d=a(this,b,c);return this.moveTo(d.x,d.y)},moveBy:function(a,b){var c=this,d=c.layoutRect();return c.moveTo(d.x+a,d.y+b),c},moveTo:function(a,b){function c(a,b,c){return a<0?0:a+c>b?(a=b-c,a<0?0:a):a}var d=this;if(d.settings.constrainToViewport){var e=Yb(this),f=d.layoutRect();a=c(a,e.w,f.w),b=c(b,e.h,f.h)}var g=Ha.getUiContainer(d);return g&&Ub(g)&&!Vb(d)&&(a-=g.scrollLeft,b-=g.scrollTop),g&&(a+=1,b+=1),d.state.get("rendered")?d.layoutRect({x:a,y:b}).repaint():(d.settings.x=a,d.settings.y=b),d.fire("move",{x:a,y:b}),d}},$b=tinymce.util.Tools.resolve("tinymce.util.Class"),_b=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),ac={parseBox:function(a){var b,c=10;if(a)return"number"==typeof a?(a=a||0,{top:a,left:a,bottom:a,right:a}):(a=a.split(" "),b=a.length,1===b?a[1]=a[2]=a[3]=a[0]:2===b?(a[2]=a[0],a[3]=a[1]):3===b&&(a[3]=a[1]),{top:parseInt(a[0],c)||0,right:parseInt(a[1],c)||0,bottom:parseInt(a[2],c)||0,left:parseInt(a[3],c)||0})},measureBox:function(a,b){function c(b){var c=a.ownerDocument.defaultView;if(c){var d=c.getComputedStyle(a,null);return d?(b=b.replace(/[A-Z]/g,function(a){return"-"+a}),d.getPropertyValue(b)):null}return a.currentStyle[b]}function d(a){var b=parseFloat(c(a));return isNaN(b)?0:b}return{top:d(b+"TopWidth"),right:d(b+"RightWidth"),bottom:d(b+"BottomWidth"),left:d(b+"LeftWidth")}}};L.extend(c.prototype,{add:function(a){return a&&!this.contains(a)&&(this.cls._map[a]=!0,this.cls.push(a),this._change()),this},remove:function(a){if(this.contains(a)){var b=void 0;for(b=0;b<this.cls.length&&this.cls[b]!==a;b++);this.cls.splice(b,1),delete this.cls._map[a],this._change()}return this},toggle:function(a,b){var c=this.contains(a);return c!==b&&(c?this.remove(a):this.add(a),this._change()),this},contains:function(a){return!!this.cls._map[a]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),c.prototype.toString=function(){var a;if(this.clsValue)return this.clsValue;a="";for(var b=0;b<this.cls.length;b++)b>0&&(a+=" "),a+=this.prefix+this.cls[b];return a};var bc,cc,dc,ec=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,fc=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,gc=/^\s*|\s*$/g,hc=$b.extend({init:function(a){function b(a){if(a)return a=a.toLowerCase(),function(b){return"*"===a||b.type===a}}function c(a){if(a)return function(b){return b._name===a}}function d(a){if(a)return a=a.split("."),function(b){for(var c=a.length;c--;)if(!b.classes.contains(a[c]))return!1;return!0}}function e(a,b,c){if(a)return function(d){var e=d[a]?d[a]():"";return b?"="===b?e===c:"*="===b?e.indexOf(c)>=0:"~="===b?(" "+e+" ").indexOf(" "+c+" ")>=0:"!="===b?e!==c:"^="===b?0===e.indexOf(c):"$="===b&&e.substr(e.length-c.length)===c:!!c}}function f(a){var b;if(a)return a=/(?:not\((.+)\))|(.+)/i.exec(a),a[1]?(b=h(a[1],[]),function(a){return!i(a,b)}):(a=a[2],function(b,c,d){return"first"===a?0===c:"last"===a?c===d-1:"even"===a?c%2===0:"odd"===a?c%2===1:!!b[a]&&b[a]()})}function g(a,g,h){function i(a){a&&g.push(a)}var j;return j=ec.exec(a.replace(gc,"")),i(b(j[1])),i(c(j[2])),i(d(j[3])),i(e(j[4],j[5],j[6])),i(f(j[7])),g.pseudo=!!j[7],g.direct=h,g}function h(a,b){var c,d,e,f=[];do if(fc.exec(""),d=fc.exec(a),d&&(a=d[3],f.push(d[1]),d[2])){c=d[3];break}while(d);for(c&&h(c,b),a=[],e=0;e<f.length;e++)">"!==f[e]&&a.push(g(f[e],[],">"===f[e-1]));return b.push(a),b}var i=this.match;this._selectors=h(a,[])},match:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;for(b=b||this._selectors,c=0,d=b.length;c<d;c++){for(g=b[c],f=g.length,o=a,n=0,e=f-1;e>=0;e--)for(j=g[e];o;){if(j.pseudo)for(m=o.parent().items(),k=l=m.length;k--&&m[k]!==o;);for(h=0,i=j.length;h<i;h++)if(!j[h](o,k,l)){h=i+1;break}if(h===i){n++;break}if(e===f-1)break;o=o.parent()}if(n===f)return!0}return!1},find:function(a){function b(a,c,d){var e,g,h,i,j,k=c[d];for(e=0,g=a.length;e<g;e++){for(j=a[e],h=0,i=k.length;h<i;h++)if(!k[h](j,e,g)){h=i+1;break}if(h===i)d===c.length-1?f.push(j):j.items&&b(j.items(),c,d+1);else if(k.direct)return;j.items&&b(j.items(),c,d)}}var c,e,f=[],g=this._selectors;if(a.items){for(c=0,e=g.length;c<e;c++)b(a.items(),g[c],0);e>1&&(f=d(f))}return bc||(bc=hc.Collection),new bc(f)}}),ic=Array.prototype.push,jc=Array.prototype.slice;dc={length:0,init:function(a){a&&this.add(a)},add:function(a){var b=this;return L.isArray(a)?ic.apply(b,a):a instanceof cc?b.add(a.toArray()):ic.call(b,a),b},set:function(a){var b,c=this,d=c.length;for(c.length=0,c.add(a),b=c.length;b<d;b++)delete c[b];return c},filter:function(a){var b,c,d,e,f=this,g=[];for("string"==typeof a?(a=new hc(a),e=function(b){return a.match(b)}):e=a,b=0,c=f.length;b<c;b++)d=f[b],e(d)&&g.push(d);return new cc(g)},slice:function(){return new cc(jc.apply(this,arguments))},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},each:function(a){return L.each(this,a),this},toArray:function(){return L.toArray(this)},indexOf:function(a){for(var b=this,c=b.length;c--&&b[c]!==a;);return c},reverse:function(){return new cc(L.toArray(this).reverse())},hasClass:function(a){return!!this[0]&&this[0].classes.contains(a)},prop:function(a,b){var c,d=this;return void 0!==b?(d.each(function(c){c[a]&&c[a](b)}),d):(c=d[0],c&&c[a]?c[a]():void 0)},exec:function(a){var b=this,c=L.toArray(arguments).slice(1);return b.each(function(b){b[a]&&b[a].apply(b,c)}),b},remove:function(){for(var a=this.length;a--;)this[a].remove();return this},addClass:function(a){return this.each(function(b){b.classes.add(a)})},removeClass:function(a){return this.each(function(b){b.classes.remove(a)})}},L.each("fire on off show hide append prepend before after reflow".split(" "),function(a){dc[a]=function(){var b=L.toArray(arguments);return this.each(function(c){a in c&&c[a].apply(c,b)}),this}}),L.each("text name disabled active selected checked visible parent value data".split(" "),function(a){dc[a]=function(b){return this.prop(a,b)}}),cc=$b.extend(dc),hc.Collection=cc;var kc=cc,lc=function(a){this.create=a.create};lc.create=function(a,b){return new lc({create:function(c,d){var e,f=function(a){c.set(d,a.value)},g=function(c){a.set(b,c.value)};return c.on("change:"+d,g),a.on("change:"+b,f),e=c._bindings,e||(e=c._bindings=[],c.on("destroy",function(){for(var a=e.length;a--;)e[a]()})),e.push(function(){a.off("change:"+b,f)}),a.get(b)}})};var mc,nc,oc=tinymce.util.Tools.resolve("tinymce.util.Observable"),pc=$b.extend({Mixins:[oc],init:function(a){var b,c;a=a||{};for(b in a)c=a[b],c instanceof lc&&(a[b]=c.create(this,b));this.data=a},set:function(a,b){var c,d,e=this.data[a];if(b instanceof lc&&(b=b.create(this,a)),"object"==typeof a){for(c in a)this.set(c,a[c]);return this}return f(e,b)||(this.data[a]=b,d={target:this,name:a,value:b,oldValue:e},this.fire("change:"+a,d),this.fire("change",d)),this},get:function(a){return this.data[a]},has:function(a){return a in this.data},bind:function(a){return lc.create(this,a)},destroy:function(){this.fire("destroy")}}),qc={},rc={add:function(a){var b=a.parent();if(b){if(!b._layout||b._layout.isNative())return;qc[b._id]||(qc[b._id]=b),mc||(mc=!0,pa.requestAnimationFrame(function(){var a,b;mc=!1;for(a in qc)b=qc[a],b.state.get("rendered")&&b.reflow();qc={}},document.body))}},remove:function(a){qc[a._id]&&delete qc[a._id]}},sc="onmousewheel"in document,tc=!1,uc="mce-",vc=0,wc={Statics:{classPrefix:uc},isRtl:function(){return nc.rtl},classPrefix:uc,init:function(a){function b(a){var b;for(a=a.split(" "),b=0;b<a.length;b++)f.classes.add(a[b])}var d,e,f=this;f.settings=a=L.extend({},f.Defaults,a),f._id=a.id||"mceu_"+vc++,f._aria={role:a.role},f._elmCache={},f.$=Rb,f.state=new pc({visible:!0,active:!1,disabled:!1,value:""}),f.data=new pc(a.data),f.classes=new c(function(){f.state.get("rendered")&&(f.getEl().className=this.toString())}),f.classes.prefix=f.classPrefix,d=a.classes,d&&(f.Defaults&&(e=f.Defaults.classes,e&&d!==e&&b(e)),b(d)),L.each("title text name visible disabled active value".split(" "),function(b){b in a&&f[b](a[b])}),f.on("click",function(){if(f.disabled())return!1}),f.settings=a,f.borderBox=ac.parseBox(a.border),f.paddingBox=ac.parseBox(a.padding),f.marginBox=ac.parseBox(a.margin),a.hidden&&f.hide()},Properties:"parent,name",getContainerElm:function(){var a=Ha.getUiContainer(this);return a?a:Tb.getContainer()},getParentCtrl:function(a){for(var b,c=this.getRoot().controlIdLookup;a&&c&&!(b=c[a.id]);)a=a.parentNode;return b},initLayoutRect:function(){var a,b,c,d,e,f,g,h,i,j,k=this,l=k.settings,m=k.getEl();a=k.borderBox=k.borderBox||ac.measureBox(m,"border"),k.paddingBox=k.paddingBox||ac.measureBox(m,"padding"),k.marginBox=k.marginBox||ac.measureBox(m,"margin"),j=Tb.getSize(m),h=l.minWidth,i=l.minHeight,e=h||j.width,f=i||j.height,c=l.width,d=l.height,g=l.autoResize,g="undefined"!=typeof g?g:!c&&!d,c=c||e,d=d||f;var n=a.left+a.right,o=a.top+a.bottom,p=l.maxWidth||65535,q=l.maxHeight||65535;return k._layoutRect=b={x:l.x||0,y:l.y||0,w:c,h:d,deltaW:n,deltaH:o,contentW:c-n,contentH:d-o,innerW:c-n,innerH:d-o,startMinWidth:h||0,startMinHeight:i||0,minW:Math.min(e,p),minH:Math.min(f,q),maxW:p,maxH:q,autoResize:g,scrollW:0},k._lastLayoutRect={},b},layoutRect:function(a){var b,c,d,e,f,g=this,h=g._layoutRect;return h||(h=g.initLayoutRect()),a?(d=h.deltaW,e=h.deltaH,void 0!==a.x&&(h.x=a.x),void 0!==a.y&&(h.y=a.y),void 0!==a.minW&&(h.minW=a.minW),void 0!==a.minH&&(h.minH=a.minH),c=a.w,void 0!==c&&(c=c<h.minW?h.minW:c,c=c>h.maxW?h.maxW:c,h.w=c,h.innerW=c-d),c=a.h,void 0!==c&&(c=c<h.minH?h.minH:c,c=c>h.maxH?h.maxH:c,h.h=c,h.innerH=c-e),c=a.innerW,void 0!==c&&(c=c<h.minW-d?h.minW-d:c,c=c>h.maxW-d?h.maxW-d:c,h.innerW=c,h.w=c+d),c=a.innerH,void 0!==c&&(c=c<h.minH-e?h.minH-e:c,c=c>h.maxH-e?h.maxH-e:c,h.innerH=c,h.h=c+e),void 0!==a.contentW&&(h.contentW=a.contentW),void 0!==a.contentH&&(h.contentH=a.contentH),b=g._lastLayoutRect,b.x===h.x&&b.y===h.y&&b.w===h.w&&b.h===h.h||(f=nc.repaintControls,f&&f.map&&!f.map[g._id]&&(f.push(g),f.map[g._id]=!0),b.x=h.x,b.y=h.y,b.w=h.w,b.h=h.h),g):h},repaint:function(){var a,b,c,d,e,f,g,h,i,j,k=this;i=document.createRange?function(a){return a}:Math.round,a=k.getEl().style,d=k._layoutRect,h=k._lastRepaintRect||{},e=k.borderBox,f=e.left+e.right,g=e.top+e.bottom,d.x!==h.x&&(a.left=i(d.x)+"px",h.x=d.x),d.y!==h.y&&(a.top=i(d.y)+"px",h.y=d.y),d.w!==h.w&&(j=i(d.w-f),a.width=(j>=0?j:0)+"px",h.w=d.w),d.h!==h.h&&(j=i(d.h-g),a.height=(j>=0?j:0)+"px",h.h=d.h),k._hasBody&&d.innerW!==h.innerW&&(j=i(d.innerW),c=k.getEl("body"),c&&(b=c.style,b.width=(j>=0?j:0)+"px"),h.innerW=d.innerW),k._hasBody&&d.innerH!==h.innerH&&(j=i(d.innerH),c=c||k.getEl("body"),c&&(b=b||c.style,b.height=(j>=0?j:0)+"px"),h.innerH=d.innerH),k._lastRepaintRect=h,k.fire("repaint",{},!1)},updateLayoutRect:function(){var a=this;a.parent()._lastRect=null,Tb.css(a.getEl(),{width:"",height:""}),a._layoutRect=a._lastRepaintRect=a._lastLayoutRect=null,a.initLayoutRect()},on:function(a,b){function c(a){var b,c;return"string"!=typeof a?a:function(e){return b||d.parentsAndSelf().each(function(d){var e=d.settings.callbacks;if(e&&(b=e[a]))return c=d,!1}),b?b.call(c,e):(e.action=a,void this.fire("execute",e))}}var d=this;return g(d).on(a,c(b)),d},off:function(a,b){return g(this).off(a,b),this},fire:function(a,b,c){var d=this;if(b=b||{},b.control||(b.control=d),b=g(d).fire(a,b),c!==!1&&d.parent)for(var e=d.parent();e&&!b.isPropagationStopped();)e.fire(a,b,!1),e=e.parent();return b},hasEventListeners:function(a){return g(this).has(a)},parents:function(a){var b,c=this,d=new kc;for(b=c.parent();b;b=b.parent())d.add(b);return a&&(d=d.filter(a)),d},parentsAndSelf:function(a){return new kc(this).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},innerHtml:function(a){return this.$el.html(a),this},getEl:function(a){var b=a?this._id+"-"+a:this._id;return this._elmCache[b]||(this._elmCache[b]=Rb("#"+b)[0]),this._elmCache[b]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){return this.getEl().blur(),this},aria:function(a,b){var c=this,d=c.getEl(c.ariaTarget);return"undefined"==typeof b?c._aria[a]:(c._aria[a]=b,c.state.get("rendered")&&d.setAttribute("role"===a?a:"aria-"+a,b),c)},encode:function(a,b){return b!==!1&&(a=this.translate(a)),(a||"").replace(/[&<>"]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},translate:function(a){return nc.translate?nc.translate(a):a},before:function(a){var b=this,c=b.parent();return c&&c.insert(a,c.items().indexOf(b),!0),b},after:function(a){var b=this,c=b.parent();return c&&c.insert(a,c.items().indexOf(b)),b},remove:function(){var a,b,c=this,d=c.getEl(),e=c.parent();if(c.items){var f=c.items().toArray();for(b=f.length;b--;)f[b].remove()}e&&e.items&&(a=[],e.items().each(function(b){b!==c&&a.push(b)}),e.items().set(a),e._lastRect=null),c._eventsRoot&&c._eventsRoot===c&&Rb(d).off();var g=c.getRoot().controlIdLookup;return g&&delete g[c._id],d&&d.parentNode&&d.parentNode.removeChild(d),c.state.set("rendered",!1),c.state.destroy(),c.fire("remove"),
c},renderBefore:function(a){return Rb(a).before(this.renderHtml()),this.postRender(),this},renderTo:function(a){return Rb(a||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var a,b,c,d,e,f=this,g=f.settings;f.$el=Rb(f.getEl()),f.state.set("rendered",!0);for(d in g)0===d.indexOf("on")&&f.on(d.substr(2),g[d]);if(f._eventsRoot){for(c=f.parent();!e&&c;c=c.parent())e=c._eventsRoot;if(e)for(d in e._nativeEvents)f._nativeEvents[d]=!0}h(f),g.style&&(a=f.getEl(),a&&(a.setAttribute("style",g.style),a.style.cssText=g.style)),f.settings.border&&(b=f.borderBox,f.$el.css({"border-top-width":b.top,"border-right-width":b.right,"border-bottom-width":b.bottom,"border-left-width":b.left}));var i=f.getRoot();i.controlIdLookup||(i.controlIdLookup={}),i.controlIdLookup[f._id]=f;for(var j in f._aria)f.aria(j,f._aria[j]);f.state.get("visible")===!1&&(f.getEl().style.display="none"),f.bindStates(),f.state.on("change:visible",function(a){var b,c=a.value;f.state.get("rendered")&&(f.getEl().style.display=c===!1?"none":"",f.getEl().getBoundingClientRect()),b=f.parent(),b&&(b._lastRect=null),f.fire(c?"show":"hide"),rc.add(f)}),f.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(a){function b(a,b){var c,d,e=a;for(c=d=0;e&&e!==b&&e.nodeType;)c+=e.offsetLeft||0,d+=e.offsetTop||0,e=e.offsetParent;return{x:c,y:d}}var c,d,e,f,g,h,i=this.getEl(),j=i.parentNode,k=b(i,j);return c=k.x,d=k.y,e=i.offsetWidth,f=i.offsetHeight,g=j.clientWidth,h=j.clientHeight,"end"===a?(c-=g-e,d-=h-f):"center"===a&&(c-=g/2-e/2,d-=h/2-f/2),j.scrollLeft=c,j.scrollTop=d,this},getRoot:function(){for(var a,b=this,c=[];b;){if(b.rootControl){a=b.rootControl;break}c.push(b),a=b,b=b.parent()}a||(a=this);for(var d=c.length;d--;)c[d].rootControl=a;return a},reflow:function(){rc.remove(this);var a=this.parent();return a&&a._layout&&!a._layout.isNative()&&a.reflow(),this}};L.each("text title visible disabled active value".split(" "),function(a){wc[a]=function(b){return 0===arguments.length?this.state.get(a):("undefined"!=typeof b&&this.state.set(a,b),this)}}),nc=$b.extend(wc);var xc,yc,zc,Ac,Bc=nc,Cc=function(a){return!!a.getAttribute("data-mce-tabstop")},Dc={},Ec=Bc.extend({init:function(a){var b=this;b._super(a),a=b.settings,a.fixed&&b.state.set("fixed",!0),b._items=new kc,b.isRtl()&&b.classes.add("rtl"),b.bodyClasses=new c(function(){b.state.get("rendered")&&(b.getEl("body").className=this.toString())}),b.bodyClasses.prefix=b.classPrefix,b.classes.add("container"),b.bodyClasses.add("container-body"),a.containerCls&&b.classes.add(a.containerCls),b._layout=fa.create((a.layout||"")+"layout"),b.settings.items?b.add(b.settings.items):b.add(b.render()),b._hasBody=!0},items:function(){return this._items},find:function(a){return a=Dc[a]=Dc[a]||new hc(a),a.find(this)},add:function(a){var b=this;return b.items().add(b.create(a)).parent(b),b},focus:function(a){var b,c,d,e=this;return a&&(c=e.keyboardNav||e.parents().eq(-1)[0].keyboardNav)?void c.focusFirst(e):(d=e.find("*"),e.statusbar&&d.add(e.statusbar.items()),d.each(function(a){return a.settings.autofocus?(b=null,!1):void(a.canFocus&&(b=b||a))}),b&&b.focus(),e)},replace:function(a,b){for(var c,d=this.items(),e=d.length;e--;)if(d[e]===a){d[e]=b;break}e>=0&&(c=b.getEl(),c&&c.parentNode.removeChild(c),c=a.getEl(),c&&c.parentNode.removeChild(c)),b.parent(this)},create:function(a){var b,c=this,d=[];return L.isArray(a)||(a=[a]),L.each(a,function(a){a&&(a instanceof Bc||("string"==typeof a&&(a={type:a}),b=L.extend({},c.settings.defaults,a),a.type=b.type=b.type||a.type||c.settings.defaultType||(b.defaults?b.defaults.type:null),a=fa.create(b)),d.push(a))}),d},renderNew:function(){var a=this;return a.items().each(function(b,c){var d;b.parent(a),b.state.get("rendered")||(d=a.getEl("body"),d.hasChildNodes()&&c<=d.childNodes.length-1?Rb(d.childNodes[c]).before(b.renderHtml()):Rb(d).append(b.renderHtml()),b.postRender(),rc.add(b))}),a._layout.applyClasses(a.items().filter(":visible")),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(a){var b=this;return b.items().set(b.create(a).concat(b.items().toArray())),b.renderNew()},insert:function(a,b,c){var d,e,f,g=this;return a=g.create(a),d=g.items(),!c&&b<d.length-1&&(b+=1),b>=0&&b<d.length&&(e=d.slice(0,b).toArray(),f=d.slice(b).toArray(),d.set(e.concat(a,f))),g.renderNew()},fromJSON:function(a){var b=this;for(var c in a)b.find("#"+c).value(a[c]);return b},toJSON:function(){var a=this,b={};return a.find("*").each(function(a){var c=a.name(),d=a.value();c&&"undefined"!=typeof d&&(b[c]=d)}),b},renderHtml:function(){var a=this,b=a._layout,c=this.settings.role;return a.preRender(),b.preRender(a),'<div id="'+a._id+'" class="'+a.classes+'"'+(c?' role="'+this.settings.role+'"':"")+'><div id="'+a._id+'-body" class="'+a.bodyClasses+'">'+(a.settings.html||"")+b.renderHtml(a)+"</div></div>"},postRender:function(){var a,b=this;return b.items().exec("postRender"),b._super(),b._layout.postRender(b),b.state.set("rendered",!0),b.settings.style&&b.$el.css(b.settings.style),b.settings.border&&(a=b.borderBox,b.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})),b.parent()||(b.keyboardNav=i({root:b})),b},initLayoutRect:function(){var a=this,b=a._super();return a._layout.recalc(a),b},recalc:function(){var a=this,b=a._layoutRect,c=a._lastRect;if(!c||c.w!==b.w||c.h!==b.h)return a._layout.recalc(a),b=a.layoutRect(),a._lastRect={x:b.x,y:b.y,w:b.w,h:b.h},!0},reflow:function(){var a;if(rc.remove(this),this.visible()){for(Bc.repaintControls=[],Bc.repaintControls.map={},this.recalc(),a=Bc.repaintControls.length;a--;)Bc.repaintControls[a].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),Bc.repaintControls=[]}return this}}),Fc={init:function(){var a=this;a.on("repaint",a.renderScroll)},renderScroll:function(){function a(){function a(a,f,g,h,i,j){var k,l,m,n,o,p,q,r,s;if(l=c.getEl("scroll"+a)){if(r=f.toLowerCase(),s=g.toLowerCase(),Rb(c.getEl("absend")).css(r,c.layoutRect()[h]-1),!i)return void Rb(l).css("display","none");Rb(l).css("display","block"),k=c.getEl("body"),m=c.getEl("scroll"+a+"t"),n=k["client"+g]-2*d,n-=b&&e?l["client"+j]:0,o=k["scroll"+g],p=n/o,q={},q[r]=k["offset"+f]+d,q[s]=n,Rb(l).css(q),q={},q[r]=k["scroll"+f]*p,q[s]=n*p,Rb(m).css(q)}}var b,e,f;f=c.getEl("body"),b=f.scrollWidth>f.clientWidth,e=f.scrollHeight>f.clientHeight,a("h","Left","Width","contentW",b,"Height"),a("v","Top","Height","contentH",e,"Width")}function b(){function a(a,b,e,f,g){var h,i=c._id+"-scroll"+a,j=c.classPrefix;Rb(c.getEl()).append('<div id="'+i+'" class="'+j+"scrollbar "+j+"scrollbar-"+a+'"><div id="'+i+'t" class="'+j+'scrollbar-thumb"></div></div>'),c.draghelper=new l(i+"t",{start:function(){h=c.getEl("body")["scroll"+b],Rb("#"+i).addClass(j+"active")},drag:function(i){var j,k,l,m,n=c.layoutRect();k=n.contentW>n.innerW,l=n.contentH>n.innerH,m=c.getEl("body")["client"+e]-2*d,m-=k&&l?c.getEl("scroll"+a)["client"+g]:0,j=m/c.getEl("body")["scroll"+e],c.getEl("body")["scroll"+b]=h+i["delta"+f]/j},stop:function(){Rb("#"+i).removeClass(j+"active")}})}c.classes.add("scroll"),a("v","Top","Height","Y","Width"),a("h","Left","Width","X","Height")}var c=this,d=2;c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,b(),c.on("wheel",function(b){var d=c.getEl("body");d.scrollLeft+=10*(b.deltaX||0),d.scrollTop+=10*b.deltaY,a()}),Rb(c.getEl("body")).on("scroll",a)),a())}},Gc=Ec.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[Fc],renderHtml:function(){var a=this,b=a._layout,c=a.settings.html;return a.preRender(),b.preRender(a),"undefined"==typeof c?c='<div id="'+a._id+'-body" class="'+a.bodyClasses+'">'+b.renderHtml(a)+"</div>":("function"==typeof c&&(c=c.call(a)),a._hasBody=!1),'<div id="'+a._id+'" class="'+a.classes+'" hidefocus="1" tabindex="-1" role="group">'+(a._preBodyHtml||"")+c+"</div>"}}),Hc={resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(a,b){if(a<=1||b<=1){var c=Tb.getWindowSize();a=a<=1?a*c.w:a,b=b<=1?b*c.h:b}return this._layoutRect.autoResize=!1,this.layoutRect({minW:a,minH:b,w:a,h:b}).reflow()},resizeBy:function(a,b){var c=this,d=c.layoutRect();return c.resizeTo(d.w+a,d.h+b)}},Ic=[],Jc=[],Kc=Gc.extend({Mixins:[Zb,Hc],init:function(a){var b=this;b._super(a),b._eventsRoot=b,b.classes.add("floatpanel"),a.autohide&&(o(),q(),Ic.push(b)),a.autofix&&(p(),b.on("move",function(){r(this)})),b.on("postrender show",function(a){if(a.control===b){var c,d=b.classPrefix;b.modal&&!Ac&&(c=Rb("#"+d+"modal-block",b.getContainerElm()),c[0]||(c=Rb('<div id="'+d+'modal-block" class="'+d+"reset "+d+'fade"></div>').appendTo(b.getContainerElm())),pa.setTimeout(function(){c.addClass(d+"in"),Rb(b.getEl()).addClass(d+"in")}),Ac=!0),s(!0,b)}}),b.on("show",function(){b.parents().each(function(a){if(a.state.get("fixed"))return b.fixed(!0),!1})}),a.popover&&(b._preBodyHtml='<div class="'+b.classPrefix+'arrow"></div>',b.classes.add("popover").add("bottom").add(b.isRtl()?"end":"start")),b.aria("label",a.ariaLabel),b.aria("labelledby",b._id),b.aria("describedby",b.describedBy||b._id+"-none")},fixed:function(a){var b=this;if(b.state.get("fixed")!==a){if(b.state.get("rendered")){var c=Tb.getViewPort();a?b.layoutRect().y-=c.y:b.layoutRect().y+=c.y}b.classes.toggle("fixed",a),b.state.set("fixed",a)}return b},show:function(){var a,b=this,c=b._super();for(a=Ic.length;a--&&Ic[a]!==b;);return a===-1&&Ic.push(b),c},hide:function(){return t(this),s(!1,this),this._super()},hideAll:function(){Kc.hideAll()},close:function(){var a=this;return a.fire("close").isDefaultPrevented()||(a.remove(),s(!1,a)),a},remove:function(){t(this),this._super()},postRender:function(){var a=this;return a.settings.bodyRole&&this.getEl("body").setAttribute("role",a.settings.bodyRole),a._super()}});Kc.hideAll=function(){for(var a=Ic.length;a--;){var b=Ic[a];b&&b.settings.autohide&&(b.hide(),Ic.splice(a,1))}};var Lc=function(a,b){return!(!a||b.settings.ui_container)},Mc=function(a,b,c){var d,e,f=ea.DOM,g=S(a);g&&(e=f.select(g)[0]);var h=function(){if(d&&d.moveRel&&d.visible()&&!d._fixed){var b=a.selection.getScrollContainer(),c=a.getBody(),e=0,g=0;if(b){var h=f.getPos(c),i=f.getPos(b);e=Math.max(0,i.x-h.x),g=Math.max(0,i.y-h.y)}d.fixed(!1).moveRel(c,a.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(e,g)}},i=function(){d&&(d.show(),h(),f.addClass(a.getBody(),"mce-edit-focus"))},j=function(){d&&(d.hide(),Kc.hideAll(),f.removeClass(a.getBody(),"mce-edit-focus"))},k=function(){return d?void(d.visible()||i()):(d=b.panel=fa.create({type:e?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:Lc(e,a),fixed:Lc(e,a),border:1,items:[N(a)===!1?null:{type:"menubar",border:"0 0 1 0",items:sb.createMenuButtons(a)},Ka.createToolbars(a,Q(a))]}),Ha.setUiContainer(a,d),ka.fireBeforeRenderUI(a),e?d.renderTo(e).reflow():d.renderTo().reflow(),na.addKeys(a,d),i(),Sa.addContextualToolbars(a),a.on("nodeChange",h),a.on("ResizeWindow",h),a.on("activate",i),a.on("deactivate",j),void a.nodeChanged())};return a.settings.content_editable=!0,a.on("focus",function(){$(a)===!1&&c.skinUiCss?f.styleSheetLoader.load(c.skinUiCss,k,k):k()}),a.on("blur hide",j),a.on("remove",function(){d&&(d.remove(),d=null)}),$(a)===!1&&c.skinUiCss?f.styleSheetLoader.load(c.skinUiCss,Kb.fireSkinLoaded(a)):Kb.fireSkinLoaded(a)(),{}},Nc={render:Mc},Oc=function(a,b){var c;a.on("ProgressState",function(a){c=c||new u(b.panel.getEl("body")),a.state?c.show(a.time):c.hide()})},Pc={setup:Oc},Qc=function(a,b,c){var d=ba(a);return d&&(c.skinUiCss=d+"/skin.min.css",a.contentCSS.push(d+"/content"+(a.inline?".inline":"")+".min.css")),Pc.setup(a,b),_(a)?Nc.render(a,b,c):Qb.render(a,b,c)},Rc={renderUI:Qc},Sc=Bc.extend({Mixins:[Zb],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var a=this,b=a.classPrefix;return'<div id="'+a._id+'" class="'+a.classes+'" role="presentation"><div class="'+b+'tooltip-arrow"></div><div class="'+b+'tooltip-inner">'+a.encode(a.state.get("text"))+"</div></div>"},bindStates:function(){var a=this;return a.state.on("change:text",function(b){a.getEl().lastChild.innerHTML=a.encode(b.value)}),a._super()},repaint:function(){var a,b,c=this;a=c.getEl().style,b=c._layoutRect,a.left=b.x+"px",a.top=b.y+"px",a.zIndex=131070}}),Tc=Bc.extend({init:function(a){var b=this;b._super(a),a=b.settings,b.canFocus=!0,a.tooltip&&Tc.tooltips!==!1&&(b.on("mouseenter",function(c){var d=b.tooltip().moveTo(-65535);if(c.control===b){var e=d.text(a.tooltip).show().testMoveRel(b.getEl(),["bc-tc","bc-tl","bc-tr"]);d.classes.toggle("tooltip-n","bc-tc"===e),d.classes.toggle("tooltip-nw","bc-tl"===e),d.classes.toggle("tooltip-ne","bc-tr"===e),d.moveRel(b.getEl(),e)}else d.hide()}),b.on("mouseleave mousedown click",function(){b.tooltip().remove(),b._tooltip=null})),b.aria("label",a.ariaLabel||a.tooltip)},tooltip:function(){return this._tooltip||(this._tooltip=new Sc({type:"tooltip"}),Ha.inheritUiContainer(this,this._tooltip),this._tooltip.renderTo()),this._tooltip},postRender:function(){var a=this,b=a.settings;a._super(),a.parent()||!b.width&&!b.height||(a.initLayoutRect(),a.repaint()),b.autofocus&&a.focus()},bindStates:function(){function a(a){c.aria("disabled",a),c.classes.toggle("disabled",a)}function b(a){c.aria("pressed",a),c.classes.toggle("active",a)}var c=this;return c.state.on("change:disabled",function(b){a(b.value)}),c.state.on("change:active",function(a){b(a.value)}),c.state.get("disabled")&&a(!0),c.state.get("active")&&b(!0),c._super()},remove:function(){this._super(),this._tooltip&&(this._tooltip.remove(),this._tooltip=null)}}),Uc=Tc.extend({Defaults:{value:0},init:function(a){var b=this;b._super(a),b.classes.add("progress"),b.settings.filter||(b.settings.filter=function(a){return Math.round(a)})},renderHtml:function(){var a=this,b=a._id,c=this.classPrefix;return'<div id="'+b+'" class="'+a.classes+'"><div class="'+c+'bar-container"><div class="'+c+'bar"></div></div><div class="'+c+'text">0%</div></div>'},postRender:function(){var a=this;return a._super(),a.value(a.settings.value),a},bindStates:function(){function a(a){a=b.settings.filter(a),b.getEl().lastChild.innerHTML=a+"%",b.getEl().firstChild.firstChild.style.width=a+"%"}var b=this;return b.state.on("change:value",function(b){a(b.value)}),a(b.state.get("value")),b._super()}}),Vc=function(a,b){a.getEl().lastChild.textContent=b+(a.progressBar?" "+a.progressBar.value()+"%":"")},Wc=Bc.extend({Mixins:[Zb],Defaults:{classes:"widget notification"},init:function(a){var b=this;b._super(a),b.maxWidth=a.maxWidth,a.text&&b.text(a.text),a.icon&&(b.icon=a.icon),a.color&&(b.color=a.color),a.type&&b.classes.add("notification-"+a.type),a.timeout&&(a.timeout<0||a.timeout>0)&&!a.closeButton?b.closeButton=!1:(b.classes.add("has-close"),b.closeButton=!0),a.progressBar&&(b.progressBar=new Uc),b.on("click",function(a){a.target.className.indexOf(b.classPrefix+"close")!==-1&&b.close()})},renderHtml:function(){var a=this,b=a.classPrefix,c="",d="",e="",f="";return a.icon&&(c='<i class="'+b+"ico "+b+"i-"+a.icon+'"></i>'),f=' style="max-width: '+a.maxWidth+"px;"+(a.color?"background-color: "+a.color+';"':'"'),a.closeButton&&(d='<button type="button" class="'+b+'close" aria-hidden="true">×</button>'),a.progressBar&&(e=a.progressBar.renderHtml()),'<div id="'+a._id+'" class="'+a.classes+'"'+f+' role="presentation">'+c+'<div class="'+b+'notification-inner">'+a.state.get("text")+"</div>"+e+d+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var a=this;return pa.setTimeout(function(){a.$el.addClass(a.classPrefix+"in"),Vc(a,a.state.get("text"))},100),a._super()},bindStates:function(){var a=this;return a.state.on("change:text",function(b){a.getEl().firstChild.innerHTML=b.value,Vc(a,b.value)}),a.progressBar&&(a.progressBar.bindStates(),a.progressBar.state.on("change:value",function(b){Vc(a,a.state.get("text"))})),a._super()},close:function(){var a=this;return a.fire("close").isDefaultPrevented()||a.remove(),a},repaint:function(){var a,b,c=this;a=c.getEl().style,b=c._layoutRect,a.left=b.x+"px",a.top=b.y+"px",a.zIndex=65534}}),Xc=[],Yc="",Zc=Kc.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(a){var b=this;b._super(a),b.isRtl()&&b.classes.add("rtl"),b.classes.add("window"),b.bodyClasses.add("window-body"),b.state.set("fixed",!0),a.buttons&&(b.statusbar=new Gc({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:b.isRtl()?"start":"end",defaults:{type:"button"},items:a.buttons}),b.statusbar.classes.add("foot"),b.statusbar.parent(b)),b.on("click",function(a){var c=b.classPrefix+"close";(Tb.hasClass(a.target,c)||Tb.hasClass(a.target.parentNode,c))&&b.close()}),b.on("cancel",function(){b.close()}),b.on("move",function(a){a.control===b&&Kc.hideAll()}),b.aria("describedby",b.describedBy||b._id+"-none"),b.aria("label",a.title),b._fullscreen=!1},recalc:function(){var a,b,c,d,e=this,f=e.statusbar;e._fullscreen&&(e.layoutRect(Tb.getWindowSize()),e.layoutRect().contentH=e.layoutRect().innerH),e._super(),a=e.layoutRect(),e.settings.title&&!e._fullscreen&&(b=a.headerW,b>a.w&&(c=a.x-Math.max(0,b/2),e.layoutRect({w:b,x:c}),d=!0)),f&&(f.layoutRect({w:e.layoutRect().innerW}).recalc(),b=f.layoutRect().minW+a.deltaW,b>a.w&&(c=a.x-Math.max(0,b-a.w),e.layoutRect({w:b,x:c}),d=!0)),d&&e.recalc()},initLayoutRect:function(){var a,b=this,c=b._super(),d=0;if(b.settings.title&&!b._fullscreen){a=b.getEl("head");var e=Tb.getSize(a);c.headerW=e.width,c.headerH=e.height,d+=c.headerH}b.statusbar&&(d+=b.statusbar.layoutRect().h),c.deltaH+=d,c.minH+=d,c.h+=d;var f=Tb.getWindowSize();return c.x=b.settings.x||Math.max(0,f.w/2-c.w/2),c.y=b.settings.y||Math.max(0,f.h/2-c.h/2),c},renderHtml:function(){var a=this,b=a._layout,c=a._id,d=a.classPrefix,e=a.settings,f="",g="",h=e.html;return a.preRender(),b.preRender(a),e.title&&(f='<div id="'+c+'-head" class="'+d+'window-head"><div id="'+c+'-title" class="'+d+'title">'+a.encode(e.title)+'</div><div id="'+c+'-dragh" class="'+d+'dragh"></div><button type="button" class="'+d+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),e.url&&(h='<iframe src="'+e.url+'" tabindex="-1"></iframe>'),"undefined"==typeof h&&(h=b.renderHtml(a)),a.statusbar&&(g=a.statusbar.renderHtml()),'<div id="'+c+'" class="'+a.classes+'" hidefocus="1"><div class="'+a.classPrefix+'reset" role="application">'+f+'<div id="'+c+'-body" class="'+a.bodyClasses+'">'+h+"</div>"+g+"</div></div>"},fullscreen:function(a){var b,c,d=this,e=document.documentElement,f=d.classPrefix;if(a!==d._fullscreen)if(Rb(window).on("resize",function(){var a;if(d._fullscreen)if(b)d._timer||(d._timer=pa.setTimeout(function(){var a=Tb.getWindowSize();d.moveTo(0,0).resizeTo(a.w,a.h),d._timer=0},50));else{a=(new Date).getTime();var c=Tb.getWindowSize();d.moveTo(0,0).resizeTo(c.w,c.h),(new Date).getTime()-a>50&&(b=!0)}}),c=d.layoutRect(),d._fullscreen=a,a){d._initial={x:c.x,y:c.y,w:c.w,h:c.h},d.borderBox=ac.parseBox("0"),d.getEl("head").style.display="none",c.deltaH-=c.headerH+2,Rb([e,document.body]).addClass(f+"fullscreen"),d.classes.add("fullscreen");var g=Tb.getWindowSize();d.moveTo(0,0).resizeTo(g.w,g.h)}else d.borderBox=ac.parseBox(d.settings.border),d.getEl("head").style.display="",c.deltaH+=c.headerH,Rb([e,document.body]).removeClass(f+"fullscreen"),d.classes.remove("fullscreen"),d.moveTo(d._initial.x,d._initial.y).resizeTo(d._initial.w,d._initial.h);return d.reflow()},postRender:function(){var a,b=this;setTimeout(function(){b.classes.add("in"),b.fire("open")},0),b._super(),b.statusbar&&b.statusbar.postRender(),b.focus(),this.dragHelper=new l(b._id+"-dragh",{start:function(){a={x:b.layoutRect().x,y:b.layoutRect().y}},drag:function(c){b.moveTo(a.x+c.deltaX,a.y+c.deltaY)}}),b.on("submit",function(a){a.isDefaultPrevented()||b.close()}),Xc.push(b),w(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var a,b=this;for(b.dragHelper.destroy(),b._super(),b.statusbar&&this.statusbar.remove(),x(b.classPrefix,!1),a=Xc.length;a--;)Xc[a]===b&&Xc.splice(a,1);w(Xc.length>0)},getContentWindow:function(){var a=this.getEl().getElementsByTagName("iframe")[0];return a?a.contentWindow:null}});z();var $c=Zc.extend({init:function(a){a={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(a)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(a){function b(a,b,c){return{type:"button",text:a,subtype:c?"primary":"",onClick:function(a){a.control.parents()[1].close(),d(b)}}}var c,d=a.callback||function(){};switch(a.buttons){case $c.OK_CANCEL:c=[b("Ok",!0,!0),b("Cancel",!1)];break;case $c.YES_NO:case $c.YES_NO_CANCEL:c=[b("Yes",1,!0),b("No",0)],a.buttons===$c.YES_NO_CANCEL&&c.push(b("Cancel",-1));break;default:c=[b("Ok",!0,!0)]}return new Zc({padding:20,x:a.x,y:a.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:c,title:a.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:a.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:a.onClose,onCancel:function(){d(!1)}}).renderTo(document.body).reflow()},alert:function(a,b){return"string"==typeof a&&(a={text:a}),a.callback=b,$c.msgBox(a)},confirm:function(a,b){return"string"==typeof a&&(a={text:a}),a.callback=b,a.buttons=$c.OK_CANCEL,$c.msgBox(a)}}}),_c=function(a){var b=function(b){return Rc.renderUI(a,this,b)},c=function(b,c){return xb.resizeTo(a,b,c)},d=function(b,c){return xb.resizeBy(a,b,c)},e=function(){return v(a)},f=function(){return A(a)};return{renderUI:b,resizeTo:c,resizeBy:d,getNotificationManagerImpl:e,getWindowManagerImpl:f}},ad={get:_c},bd=$b.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(a){this.settings=L.extend({},this.Defaults,a)},preRender:function(a){a.bodyClasses.add(this.settings.containerClass)},applyClasses:function(a){var b,c,d,e,f=this,g=f.settings;b=g.firstControlClass,c=g.lastControlClass,a.each(function(a){a.classes.remove(b).remove(c).add(g.controlClass),a.visible()&&(d||(d=a),e=a)}),d&&d.classes.add(b),e&&e.classes.add(c)},renderHtml:function(a){var b=this,c="";return b.applyClasses(a.items()),a.items().each(function(a){c+=a.renderHtml()}),c},recalc:function(){},postRender:function(){},isNative:function(){return!1}}),cd=bd.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(a){a.items().filter(":visible").each(function(a){var b=a.settings;a.layoutRect({x:b.x,y:b.y,w:b.w,h:b.h}),a.recalc&&a.recalc()})},renderHtml:function(a){return'<div id="'+a._id+'-absend" class="'+a.classPrefix+'abs-end"></div>'+this._super(a)}}),dd=Tc.extend({Defaults:{classes:"widget btn",role:"button"},init:function(a){var b,c=this;c._super(a),a=c.settings,b=c.settings.size,c.on("click mousedown",function(a){a.preventDefault()}),c.on("touchstart",function(a){c.fire("click",a),a.preventDefault()}),a.subtype&&c.classes.add(a.subtype),b&&c.classes.add("btn-"+b),a.icon&&c.icon(a.icon)},icon:function(a){return arguments.length?(this.state.set("icon",a),this):this.state.get("icon")},repaint:function(){var a,b=this.getEl().firstChild;b&&(a=b.style,a.width=a.height="100%"),this._super()},renderHtml:function(){var a,b,c=this,d=c._id,e=c.classPrefix,f=c.state.get("icon"),g=c.state.get("text"),h="",i=c.settings;return a=i.image,a?(f="none","string"!=typeof a&&(a=window.getSelection?a[0]:a[1]),a=" style=\"background-image: url('"+a+"')\""):a="",g&&(c.classes.add("btn-has-text"),h='<span class="'+e+'txt">'+c.encode(g)+"</span>"),f=f?e+"ico "+e+"i-"+f:"",b="boolean"==typeof i.active?' aria-pressed="'+i.active+'"':"",'<div id="'+d+'" class="'+c.classes+'" tabindex="-1"'+b+'><button id="'+d+'-button" role="presentation" type="button" tabindex="-1">'+(f?'<i class="'+f+'"'+a+"></i>":"")+h+"</button></div>"},bindStates:function(){function a(a){var e=c("span."+d,b.getEl());a?(e[0]||(c("button:first",b.getEl()).append('<span class="'+d+'"></span>'),e=c("span."+d,b.getEl())),e.html(b.encode(a))):e.remove(),b.classes.toggle("btn-has-text",!!a)}var b=this,c=b.$,d=b.classPrefix+"txt";return b.state.on("change:text",function(b){a(b.value)}),b.state.on("change:icon",function(c){var d=c.value,e=b.classPrefix;b.settings.icon=d,d=d?e+"ico "+e+"i-"+b.settings.icon:"";var f=b.getEl().firstChild,g=f.getElementsByTagName("i")[0];d?(g&&g===f.firstChild||(g=document.createElement("i"),f.insertBefore(g,f.firstChild)),g.className=d):g&&f.removeChild(g),a(b.state.get("text"))}),b._super()}}),ed=dd.extend({init:function(a){var b=this;a=L.extend({text:"Browse...",multiple:!1,accept:null},a),b._super(a),b.classes.add("browsebutton"),a.multiple&&b.classes.add("multiple")},postRender:function(){var a=this,b=Tb.create("input",{type:"file",id:a._id+"-browse",accept:a.settings.accept});a._super(),Rb(b).on("change",function(b){var c=b.target.files;a.value=function(){return c.length?a.settings.multiple?c:c[0]:null},b.preventDefault(),c.length&&a.fire("change",b)}),Rb(b).on("click",function(a){a.stopPropagation()}),Rb(a.getEl("button")).on("click",function(a){a.stopPropagation(),b.click()}),a.getEl().appendChild(b)},remove:function(){Rb(this.getEl("button")).off(),Rb(this.getEl("input")).off(),this._super()}}),fd=Ec.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var a=this,b=a._layout;return a.classes.add("btn-group"),a.preRender(),b.preRender(a),'<div id="'+a._id+'" class="'+a.classes+'"><div id="'+a._id+'-body">'+(a.settings.html||"")+b.renderHtml(a)+"</div></div>"}}),gd=Tc.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(a){var b=this;b._super(a),b.on("click mousedown",function(a){a.preventDefault()}),b.on("click",function(a){a.preventDefault(),b.disabled()||b.checked(!b.checked())}),b.checked(b.settings.checked)},checked:function(a){return arguments.length?(this.state.set("checked",a),this):this.state.get("checked")},value:function(a){return arguments.length?this.checked(a):this.checked()},renderHtml:function(){var a=this,b=a._id,c=a.classPrefix;return'<div id="'+b+'" class="'+a.classes+'" unselectable="on" aria-labelledby="'+b+'-al" tabindex="-1"><i class="'+c+"ico "+c+'i-checkbox"></i><span id="'+b+'-al" class="'+c+'label">'+a.encode(a.state.get("text"))+"</span></div>"},bindStates:function(){function a(a){b.classes.toggle("checked",a),b.aria("checked",a)}var b=this;return b.state.on("change:text",function(a){b.getEl("al").firstChild.data=b.translate(a.value)}),b.state.on("change:checked change:value",function(c){b.fire("change"),a(c.value)}),b.state.on("change:icon",function(a){var c=a.value,d=b.classPrefix;if("undefined"==typeof c)return b.settings.icon;b.settings.icon=c,c=c?d+"ico "+d+"i-"+b.settings.icon:"";var e=b.getEl().firstChild,f=e.getElementsByTagName("i")[0];c?(f&&f===e.firstChild||(f=document.createElement("i"),e.insertBefore(f,e.firstChild)),f.className=c):f&&e.removeChild(f)}),b.state.get("checked")&&a(!0),b._super()}}),hd=tinymce.util.Tools.resolve("tinymce.util.VK"),id=Tc.extend({init:function(a){var b=this;b._super(a),a=b.settings,b.classes.add("combobox"),b.subinput=!0,b.ariaTarget="inp",a.menu=a.menu||a.values,a.menu&&(a.icon="caret"),b.on("click",function(c){var d=c.target,e=b.getEl();if(Rb.contains(e,d)||d===e)for(;d&&d!==e;)d.id&&d.id.indexOf("-open")!==-1&&(b.fire("action"),a.menu&&(b.showMenu(),c.aria&&b.menu.items()[0].focus())),d=d.parentNode}),b.on("keydown",function(a){var c;13===a.keyCode&&"INPUT"===a.target.nodeName&&(a.preventDefault(),b.parents().reverse().each(function(a){if(a.toJSON)return c=a,!1}),b.fire("submit",{data:c.toJSON()}))}),b.on("keyup",function(a){if("INPUT"===a.target.nodeName){var c=b.state.get("value"),d=a.target.value;d!==c&&(b.state.set("value",d),b.fire("autocomplete",a))}}),b.on("mouseover",function(a){var c=b.tooltip().moveTo(-65535);if(b.statusLevel()&&a.target.className.indexOf(b.classPrefix+"status")!==-1){var d=b.statusMessage()||"Ok",e=c.text(d).show().testMoveRel(a.target,["bc-tc","bc-tl","bc-tr"]);c.classes.toggle("tooltip-n","bc-tc"===e),c.classes.toggle("tooltip-nw","bc-tl"===e),c.classes.toggle("tooltip-ne","bc-tr"===e),c.moveRel(a.target,e)}})},statusLevel:function(a){return arguments.length>0&&this.state.set("statusLevel",a),this.state.get("statusLevel")},statusMessage:function(a){return arguments.length>0&&this.state.set("statusMessage",a),this.state.get("statusMessage")},showMenu:function(){var a,b=this,c=b.settings;b.menu||(a=c.menu||[],a.length?a={type:"menu",items:a}:a.type=a.type||"menu",b.menu=fa.create(a).parent(b).renderTo(b.getContainerElm()),b.fire("createmenu"),b.menu.reflow(),b.menu.on("cancel",function(a){a.control===b.menu&&b.focus()}),b.menu.on("show hide",function(a){a.control.items().each(function(a){a.active(a.value()===b.value())})}).fire("show"),b.menu.on("select",function(a){b.value(a.control.value())}),b.on("focusin",function(a){"INPUT"===a.target.tagName.toUpperCase()&&b.menu.hide()}),b.aria("expanded",!0)),b.menu.show(),b.menu.layoutRect({w:b.layoutRect().w}),b.menu.moveRel(b.getEl(),b.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var a,b,c=this,d=c.getEl(),e=c.getEl("open"),f=c.layoutRect(),g=0,h=d.firstChild;c.statusLevel()&&"none"!==c.statusLevel()&&(g=parseInt(Tb.getRuntimeStyle(h,"padding-right"),10)-parseInt(Tb.getRuntimeStyle(h,"padding-left"),10)),a=e?f.w-Tb.getSize(e).width-10:f.w-10;var i=document;return i.all&&(!i.documentMode||i.documentMode<=8)&&(b=c.layoutRect().h-2+"px"),Rb(h).css({width:a-g,lineHeight:b}),c._super(),c},postRender:function(){var a=this;return Rb(this.getEl("inp")).on("change",function(b){a.state.set("value",b.target.value),a.fire("change",b)}),a._super()},renderHtml:function(){var a,b,c=this,d=c._id,e=c.settings,f=c.classPrefix,g=c.state.get("value")||"",h="",i="",j="";return"spellcheck"in e&&(i+=' spellcheck="'+e.spellcheck+'"'),e.maxLength&&(i+=' maxlength="'+e.maxLength+'"'),e.size&&(i+=' size="'+e.size+'"'),e.subtype&&(i+=' type="'+e.subtype+'"'),j='<i id="'+d+'-status" class="mce-status mce-ico" style="display: none"></i>',c.disabled()&&(i+=' disabled="disabled"'),a=e.icon,a&&"caret"!==a&&(a=f+"ico "+f+"i-"+e.icon),b=c.state.get("text"),(a||b)&&(h='<div id="'+d+'-open" class="'+f+"btn "+f+'open" tabIndex="-1" role="button"><button id="'+d+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!==a?'<i class="'+a+'"></i>':'<i class="'+f+'caret"></i>')+(b?(a?" ":"")+b:"")+"</button></div>",c.classes.add("has-open")),'<div id="'+d+'" class="'+c.classes+'"><input id="'+d+'-inp" class="'+f+'textbox" value="'+c.encode(g,!1)+'" hidefocus="1"'+i+' placeholder="'+c.encode(e.placeholder)+'" />'+j+h+"</div>"},value:function(a){return arguments.length?(this.state.set("value",a),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(a,b){var c=this;if(0===a.length)return void c.hideMenu();var d=function(a,b){return function(){c.fire("selectitem",{title:b,value:a})}};c.menu?c.menu.items().remove():c.menu=fa.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(c).renderTo(),L.each(a,function(a){c.menu.add({text:a.title,url:a.previewUrl,match:b,classes:"menu-item-ellipsis",onclick:d(a.value,a.title)})}),c.menu.renderNew(),c.hideMenu(),c.menu.on("cancel",function(a){a.control.parent()===c.menu&&(a.stopPropagation(),c.focus(),
c.hideMenu())}),c.menu.on("select",function(){c.focus()});var e=c.layoutRect().w;c.menu.layoutRect({w:e,minW:0,maxW:e}),c.menu.repaint(),c.menu.reflow(),c.menu.show(),c.menu.moveRel(c.getEl(),c.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var a=this;a.state.on("change:value",function(b){a.getEl("inp").value!==b.value&&(a.getEl("inp").value=b.value)}),a.state.on("change:disabled",function(b){a.getEl("inp").disabled=b.value}),a.state.on("change:statusLevel",function(b){var c=a.getEl("status"),d=a.classPrefix,e=b.value;Tb.css(c,"display","none"===e?"none":""),Tb.toggleClass(c,d+"i-checkmark","ok"===e),Tb.toggleClass(c,d+"i-warning","warn"===e),Tb.toggleClass(c,d+"i-error","error"===e),a.classes.toggle("has-status","none"!==e),a.repaint()}),Tb.on(a.getEl("status"),"mouseleave",function(){a.tooltip().hide()}),a.on("cancel",function(b){a.menu&&a.menu.visible()&&(b.stopPropagation(),a.hideMenu())});var b=function(a,b){b&&b.items().length>0&&b.items().eq(a)[0].focus()};return a.on("keydown",function(c){var d=c.keyCode;"INPUT"===c.target.nodeName&&(d===hd.DOWN?(c.preventDefault(),a.fire("autocomplete"),b(0,a.menu)):d===hd.UP&&(c.preventDefault(),b(-1,a.menu)))}),a._super()},remove:function(){Rb(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}}),jd=id.extend({init:function(a){var b=this;a.spellcheck=!1,a.onaction&&(a.icon="none"),b._super(a),b.classes.add("colorbox"),b.on("change keyup postrender",function(){b.repaintColor(b.value())})},repaintColor:function(a){var b=this.getEl("open"),c=b?b.getElementsByTagName("i")[0]:null;if(c)try{c.style.background=a}catch(d){}},bindStates:function(){var a=this;return a.state.on("change:value",function(b){a.state.get("rendered")&&a.repaintColor(b.value)}),a._super()}}),kd=dd.extend({showPanel:function(){var a=this,b=a.settings;if(a.classes.add("opened"),a.panel)a.panel.show();else{var c=b.panel;c.type&&(c={layout:"grid",items:c}),c.role=c.role||"dialog",c.popover=!0,c.autohide=!0,c.ariaRoot=!0,a.panel=new Kc(c).on("hide",function(){a.classes.remove("opened")}).on("cancel",function(b){b.stopPropagation(),a.focus(),a.hidePanel()}).parent(a).renderTo(a.getContainerElm()),a.panel.fire("show"),a.panel.reflow()}var d=["bc-tc","bc-tl","bc-tr"],e=["bc-tc","bc-tr","bc-tl","tc-bc","tc-br","tc-bl"],f=a.panel.testMoveRel(a.getEl(),b.popoverAlign||(a.isRtl()?d:e));a.panel.classes.toggle("start","l"===f.substr(-1)),a.panel.classes.toggle("end","r"===f.substr(-1));var g="t"===f.substr(0,1);a.panel.classes.toggle("bottom",!g),a.panel.classes.toggle("top",g),a.panel.moveRel(a.getEl(),f)},hidePanel:function(){var a=this;a.panel&&a.panel.hide()},postRender:function(){var a=this;return a.aria("haspopup",!0),a.on("click",function(b){b.control===a&&(a.panel&&a.panel.visible()?a.hidePanel():(a.showPanel(),a.panel.focus(!!b.aria)))}),a._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),ld=ea.DOM,md=kd.extend({init:function(a){this._super(a),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(a){return a?(this._color=a,this.getEl("preview").style.backgroundColor=a,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var a=this,b=a._id,c=a.classPrefix,d=a.state.get("text"),e=a.settings.icon?c+"ico "+c+"i-"+a.settings.icon:"",f=a.settings.image?" style=\"background-image: url('"+a.settings.image+"')\"":"",g="";return d&&(a.classes.add("btn-has-text"),g='<span class="'+c+'txt">'+a.encode(d)+"</span>"),'<div id="'+b+'" class="'+a.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(e?'<i class="'+e+'"'+f+"></i>":"")+'<span id="'+b+'-preview" class="'+c+'preview"></span>'+g+'</button><button type="button" class="'+c+'open" hidefocus="1" tabindex="-1"> <i class="'+c+'caret"></i></button></div>'},postRender:function(){var a=this,b=a.settings.onclick;return a.on("click",function(c){c.aria&&"down"===c.aria.key||c.control!==a||ld.getParent(c.target,"."+a.classPrefix+"open")||(c.stopImmediatePropagation(),b.call(a,c))}),delete a.settings.onclick,a._super()}}),nd=tinymce.util.Tools.resolve("tinymce.util.Color"),od=Tc.extend({Defaults:{classes:"widget colorpicker"},init:function(a){this._super(a)},postRender:function(){function a(a,b){var c,d,e=Tb.getPos(a);return c=b.pageX-e.x,d=b.pageY-e.y,c=Math.max(0,Math.min(c/a.clientWidth,1)),d=Math.max(0,Math.min(d/a.clientHeight,1)),{x:c,y:d}}function b(a,b){var c=(360-a.h)/360;Tb.css(g,{top:100*c+"%"}),b||Tb.css(i,{left:a.s+"%",top:100-a.v+"%"}),h.style.background=nd({s:100,v:100,h:a.h}).toHex(),j.color().parse({s:a.s,v:a.v,h:a.h})}function c(c){var d;d=a(h,c),e.s=100*d.x,e.v=100*(1-d.y),b(e),j.fire("change")}function d(c){var d;d=a(f,c),e=k.toHsv(),e.h=360*(1-d.y),b(e,!0),j.fire("change")}var e,f,g,h,i,j=this,k=j.color();f=j.getEl("h"),g=j.getEl("hp"),h=j.getEl("sv"),i=j.getEl("svp"),j._repaint=function(){e=k.toHsv(),b(e)},j._super(),j._svdraghelper=new l(j._id+"-sv",{start:c,drag:c}),j._hdraghelper=new l(j._id+"-h",{start:d,drag:d}),j._repaint()},rgb:function(){return this.color().toRgb()},value:function(a){var b=this;return arguments.length?(b.color().parse(a),void(b._rendered&&b._repaint())):b.color().toHex()},color:function(){return this._color||(this._color=nd()),this._color},renderHtml:function(){function a(){var a,b,c,d,g="";for(c="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",d=f.split(","),a=0,b=d.length-1;a<b;a++)g+='<div class="'+e+'colorpicker-h-chunk" style="height:'+100/b+"%;"+c+d[a]+",endColorstr="+d[a+1]+");-ms-"+c+d[a]+",endColorstr="+d[a+1]+')"></div>';return g}var b,c=this,d=c._id,e=c.classPrefix,f="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",g="background: -ms-linear-gradient(top,"+f+");background: linear-gradient(to bottom,"+f+");";return b='<div id="'+d+'-h" class="'+e+'colorpicker-h" style="'+g+'">'+a()+'<div id="'+d+'-hp" class="'+e+'colorpicker-h-marker"></div></div>','<div id="'+d+'" class="'+c.classes+'"><div id="'+d+'-sv" class="'+e+'colorpicker-sv"><div class="'+e+'colorpicker-overlay1"><div class="'+e+'colorpicker-overlay2"><div id="'+d+'-svp" class="'+e+'colorpicker-selector1"><div class="'+e+'colorpicker-selector2"></div></div></div></div></div>'+b+"</div>"}}),pd=Tc.extend({init:function(a){var b=this;a=L.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},a),b._super(a),b.classes.add("dropzone"),a.multiple&&b.classes.add("multiple")},renderHtml:function(){var a,b,c=this,d=c.settings;return a={id:c._id,hidefocus:"1"},b=Tb.create("div",a,"<span>"+this.translate(d.text)+"</span>"),d.height&&Tb.css(b,"height",d.height+"px"),d.width&&Tb.css(b,"width",d.width+"px"),b.className=c.classes,b.outerHTML},postRender:function(){var a=this,b=function(b){b.preventDefault(),a.classes.toggle("dragenter"),a.getEl().className=a.classes},c=function(b){var c=a.settings.accept;if("string"!=typeof c)return b;var d=new RegExp("("+c.split(/\s*,\s*/).join("|")+")$","i");return L.grep(b,function(a){return d.test(a.name)})};a._super(),a.$el.on("dragover",function(a){a.preventDefault()}),a.$el.on("dragenter",b),a.$el.on("dragleave",b),a.$el.on("drop",function(b){if(b.preventDefault(),!a.state.get("disabled")){var d=c(b.dataTransfer.files);a.value=function(){return d.length?a.settings.multiple?d:d[0]:null},d.length&&a.fire("change",b)}})},remove:function(){this.$el.off(),this._super()}}),qd=Tc.extend({init:function(a){var b=this;a.delimiter||(a.delimiter="»"),b._super(a),b.classes.add("path"),b.canFocus=!0,b.on("click",function(a){var c,d=a.target;(c=d.getAttribute("data-index"))&&b.fire("select",{value:b.row()[c],index:c})}),b.row(b.settings.row)},focus:function(){var a=this;return a.getEl().firstChild.focus(),a},row:function(a){return arguments.length?(this.state.set("row",a),this):this.state.get("row")},renderHtml:function(){var a=this;return'<div id="'+a._id+'" class="'+a.classes+'">'+a._getDataPathHtml(a.state.get("row"))+"</div>"},bindStates:function(){var a=this;return a.state.on("change:row",function(b){a.innerHtml(a._getDataPathHtml(b.value))}),a._super()},_getDataPathHtml:function(a){var b,c,d=this,e=a||[],f="",g=d.classPrefix;for(b=0,c=e.length;b<c;b++)f+=(b>0?'<div class="'+g+'divider" aria-hidden="true"> '+d.settings.delimiter+" </div>":"")+'<div role="button" class="'+g+"path-item"+(b===c-1?" "+g+"last":"")+'" data-index="'+b+'" tabindex="-1" id="'+d._id+"-"+b+'" aria-level="'+(b+1)+'">'+e[b].name+"</div>";return f||(f='<div class="'+g+'path-item"> </div>'),f}}),rd=qd.extend({postRender:function(){function a(a){if(1===a.nodeType){if("BR"===a.nodeName||a.getAttribute("data-mce-bogus"))return!0;if("bookmark"===a.getAttribute("data-mce-type"))return!0}return!1}var b=this,c=b.settings.editor;return c.settings.elementpath!==!1&&(b.on("select",function(a){c.focus(),c.selection.select(this.row()[a.index].element),c.nodeChanged()}),c.on("nodeChange",function(d){for(var e=[],f=d.parents,g=f.length;g--;)if(1===f[g].nodeType&&!a(f[g])){var h=c.fire("ResolveName",{name:f[g].nodeName.toLowerCase(),target:f[g]});if(h.isDefaultPrevented()||e.push({name:h.name,element:f[g]}),h.isPropagationStopped())break}b.row(e)})),b._super()}}),sd=Ec.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var a=this,b=a._layout,c=a.classPrefix;return a.classes.add("formitem"),b.preRender(a),'<div id="'+a._id+'" class="'+a.classes+'" hidefocus="1" tabindex="-1">'+(a.settings.title?'<div id="'+a._id+'-title" class="'+c+'title">'+a.settings.title+"</div>":"")+'<div id="'+a._id+'-body" class="'+a.bodyClasses+'">'+(a.settings.html||"")+b.renderHtml(a)+"</div></div>"}}),td=Ec.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var a=this,b=a.items();a.settings.formItemDefaults||(a.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),b.each(function(b){var c,d=b.settings.label;d&&(c=new sd(L.extend({items:{type:"label",id:b._id+"-l",text:d,flex:0,forId:b._id,disabled:b.disabled()}},a.settings.formItemDefaults)),c.type="formitem",b.aria("labelledby",b._id+"-l"),"undefined"==typeof b.settings.flex&&(b.settings.flex=1),a.replace(b,c),c.add(b))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var a=this;a._super(),a.fromJSON(a.settings.data)},bindStates:function(){function a(){var a,c,d,e=0,f=[];if(b.settings.labelGapCalc!==!1)for(d="children"===b.settings.labelGapCalc?b.find("formitem"):b.items(),d.filter("formitem").each(function(a){var b=a.items()[0],c=b.getEl().clientWidth;e=c>e?c:e,f.push(b)}),c=b.settings.labelGap||0,a=f.length;a--;)f[a].settings.minWidth=e+c}var b=this;b._super(),b.on("show",a),a()}}),ud=td.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var a=this,b=a._layout,c=a.classPrefix;return a.preRender(),b.preRender(a),'<fieldset id="'+a._id+'" class="'+a.classes+'" hidefocus="1" tabindex="-1">'+(a.settings.title?'<legend id="'+a._id+'-title" class="'+c+'fieldset-title">'+a.settings.title+"</legend>":"")+'<div id="'+a._id+'-body" class="'+a.bodyClasses+'">'+(a.settings.html||"")+b.renderHtml(a)+"</div></fieldset>"}}),vd=0,wd=function(a){var b=new Date,c=b.getTime(),d=Math.floor(1e9*Math.random());return vd++,a+"_"+d+vd+String(c)},xd=function(a,b){var c=b||document,d=c.createElement("div");if(d.innerHTML=a,!d.hasChildNodes()||d.childNodes.length>1)throw console.error("HTML does not have a single root node",a),"HTML must have a single root node";return Ad(d.childNodes[0])},yd=function(a,b){var c=b||document,d=c.createElement(a);return Ad(d)},zd=function(a,b){var c=b||document,d=c.createTextNode(a);return Ad(d)},Ad=function(a){if(null===a||void 0===a)throw new Error("Node cannot be null or undefined");return{dom:sa(a)}},Bd=function(a,b,c){var d=a.dom();return Ca.from(d.elementFromPoint(b,c)).map(Ad)},Cd={fromHtml:xd,fromTag:yd,fromText:zd,fromDom:Ad,fromPoint:Bd},Dd=function(a){var b,c=!1;return function(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];return c||(c=!0,b=a.apply(null,d)),b}},Ed={ATTRIBUTE:Node.ATTRIBUTE_NODE,CDATA_SECTION:Node.CDATA_SECTION_NODE,COMMENT:Node.COMMENT_NODE,DOCUMENT:Node.DOCUMENT_NODE,DOCUMENT_TYPE:Node.DOCUMENT_TYPE_NODE,DOCUMENT_FRAGMENT:Node.DOCUMENT_FRAGMENT_NODE,ELEMENT:Node.ELEMENT_NODE,TEXT:Node.TEXT_NODE,PROCESSING_INSTRUCTION:Node.PROCESSING_INSTRUCTION_NODE,ENTITY_REFERENCE:Node.ENTITY_REFERENCE_NODE,ENTITY:Node.ENTITY_NODE,NOTATION:Node.NOTATION_NODE},Fd=function(a){var b=a.dom().nodeName;return b.toLowerCase()},Gd=function(a){return a.dom().nodeType},Hd=function(a){return a.dom().nodeValue},Id=function(a){return function(b){return Gd(b)===a}},Jd=function(a){return Gd(a)===Ed.COMMENT||"#comment"===Fd(a)},Kd=Id(Ed.ELEMENT),Ld=Id(Ed.TEXT),Md=Id(Ed.DOCUMENT),Nd={name:Fd,type:Gd,value:Hd,isElement:Kd,isText:Ld,isDocument:Md,isComment:Jd},Od=function(a){var b=Nd.isText(a)?a.dom().parentNode:a.dom();return void 0!==b&&null!==b&&b.ownerDocument.body.contains(b)},Pd=Dd(function(){return Qd(Cd.fromDom(document))}),Qd=function(a){var b=a.dom().body;if(null===b||void 0===b)throw"Body is not available yet";return Cd.fromDom(b)},Rd={body:Pd,getBody:Qd,inBody:Od},Sd=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];if(a.length!==b.length)throw new Error('Wrong number of arguments to struct. Expected "['+a.length+']", got '+b.length+" arguments");var d={};return _a(a,function(a,c){d[a]=sa(b[c])}),d}},Td=function(a,b){var c=[],d=function(a){return c.push(a),b(a)},e=b(a);do e=e.bind(d);while(e.isSome());return c},Ud={toArray:Td},Vd="undefined"!=typeof window?window:Function("return this;")(),Wd=function(a,b){for(var c=void 0!==b&&null!==b?b:Vd,d=0;d<a.length&&void 0!==c&&null!==c;++d)c=c[a[d]];return c},Xd=function(a,b){var c=a.split(".");return Wd(c,b)},Yd=function(a,b){return Xd(a,b)},Zd=function(a,b){var c=Yd(a,b);if(void 0===c||null===c)throw a+" not available on this browser";return c},$d={getOrDie:Zd},_d=function(){var a=$d.getOrDie("Node");return a},ae=function(a,b,c){return 0!==(a.compareDocumentPosition(b)&c)},be=function(a,b){return ae(a,b,_d().DOCUMENT_POSITION_PRECEDING)},ce=function(a,b){return ae(a,b,_d().DOCUMENT_POSITION_CONTAINED_BY)},de={documentPositionPreceding:be,documentPositionContainedBy:ce},ee=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d.test(b))return d}},fe=function(a,b){var c=ee(a,b);if(!c)return{major:0,minor:0};var d=function(a){return Number(b.replace(c,"$"+a))};return ie(d(1),d(2))},ge=function(a,b){var c=String(b).toLowerCase();return 0===a.length?he():fe(a,c)},he=function(){return ie(0,0)},ie=function(a,b){return{major:a,minor:b}},je={nu:ie,detect:ge,unknown:he},ke="Edge",le="Chrome",me="IE",ne="Opera",oe="Firefox",pe="Safari",qe=function(a,b){return function(){return b===a}},re=function(){return se({current:void 0,version:je.unknown()})},se=function(a){var b=a.current,c=a.version;return{current:b,version:c,isEdge:qe(ke,b),isChrome:qe(le,b),isIE:qe(me,b),isOpera:qe(ne,b),isFirefox:qe(oe,b),isSafari:qe(pe,b)}},te={unknown:re,nu:se,edge:sa(ke),chrome:sa(le),ie:sa(me),opera:sa(ne),firefox:sa(oe),safari:sa(pe)},ue="Windows",ve="iOS",we="Android",xe="Linux",ye="OSX",ze="Solaris",Ae="FreeBSD",Be=function(a,b){return function(){return b===a}},Ce=function(){return De({current:void 0,version:je.unknown()})},De=function(a){var b=a.current,c=a.version;return{current:b,version:c,isWindows:Be(ue,b),isiOS:Be(ve,b),isAndroid:Be(we,b),isOSX:Be(ye,b),isLinux:Be(xe,b),isSolaris:Be(ze,b),isFreeBSD:Be(Ae,b)}},Ee={unknown:Ce,nu:De,windows:sa(ue),ios:sa(ve),android:sa(we),linux:sa(xe),osx:sa(ye),solaris:sa(ze),freebsd:sa(Ae)},Fe=function(a,b){var c=String(b).toLowerCase();return cb(a,function(a){return a.search(c)})},Ge=function(a,b){return Fe(a,b).map(function(a){var c=je.detect(a.versionRegexes,b);return{current:a.name,version:c}})},He=function(a,b){return Fe(a,b).map(function(a){var c=je.detect(a.versionRegexes,b);return{current:a.name,version:c}})},Ie={detectBrowser:Ge,detectOs:He},Je=function(a,b){return a.indexOf(b)!==-1},Ke=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Le=function(a){return function(b){return Je(b,a)}},Me=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(a){var b=Je(a,"edge/")&&Je(a,"chrome")&&Je(a,"safari")&&Je(a,"applewebkit");return b}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ke],search:function(a){return Je(a,"chrome")&&!Je(a,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(a){return Je(a,"msie")||Je(a,"trident")}},{name:"Opera",versionRegexes:[Ke,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Le("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Le("firefox")},{name:"Safari",versionRegexes:[Ke,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(a){return(Je(a,"safari")||Je(a,"mobile/"))&&Je(a,"applewebkit")}}],Ne=[{name:"Windows",search:Le("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(a){return Je(a,"iphone")||Je(a,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Le("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Le("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Le("linux"),versionRegexes:[]},{name:"Solaris",search:Le("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Le("freebsd"),versionRegexes:[]}],Oe={browsers:sa(Me),oses:sa(Ne)},Pe=function(a){var b=Oe.browsers(),c=Oe.oses(),d=Ie.detectBrowser(b,a).fold(te.unknown,te.nu),e=Ie.detectOs(c,a).fold(Ee.unknown,Ee.nu),f=B(e,d,a);return{browser:d,os:e,deviceType:f}},Qe={detect:Pe},Re=Dd(function(){var a=navigator.userAgent;return Qe.detect(a)}),Se={detect:Re},Te=Ed.ELEMENT,Ue=Ed.DOCUMENT,Ve=function(a,b){var c=a.dom();if(c.nodeType!==Te)return!1;if(void 0!==c.matches)return c.matches(b);if(void 0!==c.msMatchesSelector)return c.msMatchesSelector(b);if(void 0!==c.webkitMatchesSelector)return c.webkitMatchesSelector(b);if(void 0!==c.mozMatchesSelector)return c.mozMatchesSelector(b);throw new Error("Browser lacks native selectors")},We=function(a){return a.nodeType!==Te&&a.nodeType!==Ue||0===a.childElementCount},Xe=function(a,b){var c=void 0===b?document:b.dom();return We(c)?[]:$a(c.querySelectorAll(a),Cd.fromDom)},Ye=function(a,b){var c=void 0===b?document:b.dom();return We(c)?Ca.none():Ca.from(c.querySelector(a)).map(Cd.fromDom)},Ze={all:Xe,is:Ve,one:Ye},$e=function(a,b){return a.dom()===b.dom()},_e=function(a,b){return a.dom().isEqualNode(b.dom())},af=function(a,b){return Za(b,ta($e,a))},bf=function(a,b){var c=a.dom(),d=b.dom();return c!==d&&c.contains(d)},cf=function(a,b){return de.documentPositionContainedBy(a.dom(),b.dom())},df=Se.detect().browser,ef=df.isIE()?cf:bf,ff={eq:$e,isEqualNode:_e,member:af,contains:ef,is:Ze.is},gf=function(a){return Cd.fromDom(a.dom().ownerDocument)},hf=function(a){return Cd.fromDom(a.dom().ownerDocument.documentElement)},jf=function(a){var b=a.dom(),c=b.ownerDocument.defaultView;return Cd.fromDom(c)},kf=function(a){var b=a.dom();return Ca.from(b.parentNode).map(Cd.fromDom)},lf=function(a){return kf(a).bind(function(b){var c=tf(b);return db(c,function(b){return ff.eq(a,b)})})},mf=function(a,b){for(var c=Va(b)?b:sa(!1),d=a.dom(),e=[];null!==d.parentNode&&void 0!==d.parentNode;){var f=d.parentNode,g=Cd.fromDom(f);if(e.push(g),c(g)===!0)break;d=f}return e},nf=function(a){var b=function(b){return ab(b,function(b){return!ff.eq(a,b)})};return kf(a).map(tf).map(b).getOr([])},of=function(a){var b=a.dom();return Ca.from(b.offsetParent).map(Cd.fromDom)},pf=function(a){var b=a.dom();return Ca.from(b.previousSibling).map(Cd.fromDom)},qf=function(a){var b=a.dom();return Ca.from(b.nextSibling).map(Cd.fromDom)},rf=function(a){return ib(Ud.toArray(a,pf))},sf=function(a){return Ud.toArray(a,qf)},tf=function(a){var b=a.dom();return $a(b.childNodes,Cd.fromDom)},uf=function(a,b){var c=a.dom().childNodes;return Ca.from(c[b]).map(Cd.fromDom)},vf=function(a){return uf(a,0)},wf=function(a){return uf(a,a.dom().childNodes.length-1)},xf=function(a){return a.dom().childNodes.length},yf=function(a){return a.dom().hasChildNodes()},zf=Sd("element","offset"),Af=function(a,b){var c=tf(a);return c.length>0&&b<c.length?zf(c[b],0):zf(a,b)},Bf={owner:gf,defaultView:jf,documentElement:hf,parent:kf,findIndex:lf,parents:mf,siblings:nf,prevSibling:pf,offsetParent:of,prevSiblings:rf,nextSibling:qf,nextSiblings:sf,children:tf,child:uf,firstChild:vf,lastChild:wf,childNodesCount:xf,hasChildNodes:yf,leaf:Af},Cf=function(a){return Gf(Rd.body(),a)},Df=function(a,b,c){return ab(Bf.parents(a,c),b)},Ef=function(a,b){return ab(Bf.siblings(a),b)},Ff=function(a,b){return ab(Bf.children(a),b)},Gf=function(a,b){var c=[];return _a(Bf.children(a),function(a){b(a)&&(c=c.concat([a])),c=c.concat(Gf(a,b))}),c},Hf={all:Cf,ancestors:Df,siblings:Ef,children:Ff,descendants:Gf},If=function(a){return Ze.all(a)},Jf=function(a,b,c){return Hf.ancestors(a,function(a){return Ze.is(a,b)},c)},Kf=function(a,b){return Hf.siblings(a,function(a){return Ze.is(a,b)})},Lf=function(a,b){return Hf.children(a,function(a){return Ze.is(a,b)})},Mf=function(a,b){return Ze.all(b,a)},Nf={all:If,ancestors:Jf,siblings:Kf,children:Lf,descendants:Mf},Of=L.trim,Pf=function(a){return function(b){if(b&&1===b.nodeType){if(b.contentEditable===a)return!0;if(b.getAttribute("data-mce-contenteditable")===a)return!0}return!1}},Qf=Pf("true"),Rf=Pf("false"),Sf=function(a,b,c,d,e){return{type:a,title:b,url:c,level:d,attach:e}},Tf=function(a){for(;a=a.parentNode;){var b=a.contentEditable;if(b&&"inherit"!==b)return Qf(a)}return!1},Uf=function(a,b){return $a(Nf.descendants(Cd.fromDom(b),a),function(a){return a.dom()})},Vf=function(a){return a.innerText||a.textContent},Wf=function(a){return a.id?a.id:wd("h")},Xf=function(a){return a&&"A"===a.nodeName&&(a.id||a.name)},Yf=function(a){return Xf(a)&&$f(a)},Zf=function(a){return a&&/^(H[1-6])$/.test(a.nodeName)},$f=function(a){return Tf(a)&&!Rf(a)},_f=function(a){return Zf(a)&&$f(a)},ag=function(a){return Zf(a)?parseInt(a.nodeName.substr(1),10):0},bg=function(a){var b=Wf(a),c=function(){a.id=b};return Sf("header",Vf(a),"#"+b,ag(a),c)},cg=function(a){var b=a.id||a.name,c=Vf(a);return Sf("anchor",c?c:"#"+b,"#"+b,0,qa)},dg=function(a){return $a(ab(a,_f),bg)},eg=function(a){return $a(ab(a,Yf),cg)},fg=function(a){var b=Uf("h1,h2,h3,h4,h5,h6,a:not([href])",a);return b},gg=function(a){return Of(a.title).length>0},hg=function(a){var b=fg(a);return ab(dg(b).concat(eg(b)),gg)},ig={find:hg},jg=function(){return window.tinymce?window.tinymce.activeEditor:K.activeEditor},kg={},lg=5,mg=function(){kg={}},ng=function(a){return{title:a.title,value:{title:{raw:a.title},url:a.url,attach:a.attach}}},og=function(a){return L.map(a,ng)},pg=function(a,b){return{title:a,value:{title:a,url:b,attach:qa}}},qg=function(a,b){var c=Za(b,function(b){return b.url===a});return!c},rg=function(a,b,c){var d=b in a?a[b]:c;return d===!1?null:d},sg=function(a,b,c,d){var e={title:"-"},f=function(a){var d=a.hasOwnProperty(c)?a[c]:[],e=ab(d,function(a){return qg(a,b)});return L.map(e,function(a){return{title:a,value:{title:a,url:a,attach:qa}}})},g=function(a){var c=ab(b,function(b){return b.type===a});return og(c)},h=function(){var a=g("anchor"),b=rg(d,"anchor_top","#top"),c=rg(d,"anchor_bottom","#bottom");return null!==b&&a.unshift(pg("<top>",b)),null!==c&&a.push(pg("<bottom>",c)),a},i=function(a){return bb(a,function(a,b){var c=0===a.length||0===b.length;return c?a.concat(b):a.concat(e,b)},[])};return d.typeahead_urls===!1?[]:"file"===c?i([ug(a,f(kg)),ug(a,g("header")),ug(a,h())]):ug(a,f(kg))},tg=function(a,b){var c=kg[b];/^https?/.test(a)&&(c?Ya(c,a).isNone()&&(kg[b]=c.slice(0,lg).concat(a)):kg[b]=[a])},ug=function(a,b){var c=a.toLowerCase(),d=L.grep(b,function(a){return a.title.toLowerCase().indexOf(c)!==-1});return 1===d.length&&d[0].title===a?[]:d},vg=function(a){var b=a.title;return b.raw?b.raw:b},wg=function(a,b,c,d){var e=function(e){var f=ig.find(c),g=sg(e,f,d,b);a.showAutoComplete(g,e)};a.on("autocomplete",function(){e(a.value())}),a.on("selectitem",function(b){var c=b.value;a.value(c.url);var e=vg(c);"image"===d?a.fire("change",{meta:{alt:e,attach:c.attach}}):a.fire("change",{meta:{text:e,attach:c.attach}}),a.focus()}),a.on("click",function(b){0===a.value().length&&"INPUT"===b.target.nodeName&&e("")}),a.on("PostRender",function(){a.getRoot().on("submit",function(b){b.isDefaultPrevented()||tg(a.value(),d)})})},xg=function(a){var b=a.status,c=a.message;return"valid"===b?{status:"ok",message:c}:"unknown"===b?{status:"warn",message:c}:"invalid"===b?{status:"warn",message:c}:{status:"none",message:""}},yg=function(a,b,c){var d=b.filepicker_validator_handler;if(d){var e=function(b){return 0===b.length?void a.statusLevel("none"):void d({url:b,type:c},function(b){var c=xg(b);a.statusMessage(c.message),a.statusLevel(c.status)})};a.state.on("change:value",function(a){e(a.value)})}},zg=id.extend({Statics:{clearHistory:mg},init:function(a){var b,c,d,e=this,f=jg(),g=f.settings,h=a.filetype;a.spellcheck=!1,d=g.file_picker_types||g.file_browser_callback_types,d&&(d=L.makeMap(d,/[, ]/)),d&&!d[h]||(c=g.file_picker_callback,!c||d&&!d[h]?(c=g.file_browser_callback,!c||d&&!d[h]||(b=function(){c(e.getEl("inp").id,e.value(),h,window)})):b=function(){var a=e.fire("beforecall").meta;a=L.extend({filetype:h},a),c.call(f,function(a,b){e.value(a).fire("change",{meta:b})},e.value(),a)}),b&&(a.icon="browse",a.onaction=b),e._super(a),e.classes.add("filepicker"),wg(e,g,f.getBody(),h),yg(e,g,h)}}),Ag=cd.extend({recalc:function(a){var b=a.layoutRect(),c=a.paddingBox;a.items().filter(":visible").each(function(a){a.layoutRect({x:c.left,y:c.top,w:b.innerW-c.right-c.left,h:b.innerH-c.top-c.bottom}),a.recalc&&a.recalc()})}}),Bg=cd.extend({recalc:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N=[],O=Math.max,P=Math.min;for(d=a.items().filter(":visible"),e=a.layoutRect(),f=a.paddingBox,g=a.settings,m=a.isRtl()?g.direction||"row-reversed":g.direction,h=g.align,i=a.isRtl()?g.pack||"end":g.pack,j=g.spacing||0,"row-reversed"!==m&&"column-reverse"!==m||(d=d.set(d.toArray().reverse()),m=m.split("-")[0]),"column"===m?(z="y",x="h",y="minH",A="maxH",C="innerH",B="top",D="deltaH",E="contentH",J="left",H="w",F="x",G="innerW",I="minW",K="right",L="deltaW",M="contentW"):(z="x",x="w",y="minW",A="maxW",C="innerW",B="left",D="deltaW",E="contentW",J="top",H="h",F="y",G="innerH",I="minH",K="bottom",L="deltaH",M="contentH"),l=e[C]-f[B]-f[B],w=k=0,b=0,c=d.length;b<c;b++)n=d[b],o=n.layoutRect(),p=n.settings,q=p.flex,l-=b<c-1?j:0,q>0&&(k+=q,o[A]&&N.push(n),o.flex=q),l-=o[y],r=f[J]+o[I]+f[K],r>w&&(w=r);if(u={},l<0?u[y]=e[y]-l+e[D]:u[y]=e[C]-l+e[D],u[I]=w+e[L],u[E]=e[C]-l,u[M]=w,u.minW=P(u.minW,e.maxW),u.minH=P(u.minH,e.maxH),u.minW=O(u.minW,e.startMinWidth),u.minH=O(u.minH,e.startMinHeight),!e.autoResize||u.minW===e.minW&&u.minH===e.minH){for(t=l/k,b=0,c=N.length;b<c;b++)n=N[b],o=n.layoutRect(),s=o[A],r=o[y]+o.flex*t,r>s?(l-=o[A]-o[y],k-=o.flex,o.flex=0,o.maxFlexSize=s):o.maxFlexSize=0;for(t=l/k,v=f[B],u={},0===k&&("end"===i?v=l+f[B]:"center"===i?(v=Math.round(e[C]/2-(e[C]-l)/2)+f[B],v<0&&(v=f[B])):"justify"===i&&(v=f[B],j=Math.floor(l/(d.length-1)))),u[F]=f[J],b=0,c=d.length;b<c;b++)n=d[b],o=n.layoutRect(),r=o.maxFlexSize||o[y],"center"===h?u[F]=Math.round(e[G]/2-o[H]/2):"stretch"===h?(u[H]=O(o[I]||0,e[G]-f[J]-f[K]),u[F]=f[J]):"end"===h&&(u[F]=e[G]-o[H]-f.top),o.flex>0&&(r+=o.flex*t),u[x]=r,u[z]=v,n.layoutRect(u),n.recalc&&n.recalc(),v+=r+j}else if(u.w=u.minW,u.h=u.minH,a.layoutRect(u),this.recalc(a),null===a._lastRect){var Q=a.parent();Q&&(Q._lastRect=null,Q.recalc())}}}),Cg=bd.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(a){a.items().filter(":visible").each(function(a){a.recalc&&a.recalc()})},isNative:function(){return!0}}),Dg=function(a){return Ig(Rd.body(),a)},Eg=function(a,b,c){for(var d=a.dom(),e=Va(c)?c:sa(!1);d.parentNode;){d=d.parentNode;var f=Cd.fromDom(d);if(b(f))return Ca.some(f);if(e(f))break}return Ca.none()},Fg=function(a,b,c){var d=function(a){return b(a)};return C(d,Eg,a,b,c)},Gg=function(a,b){var c=a.dom();return c.parentNode?Hg(Cd.fromDom(c.parentNode),function(c){return!ff.eq(a,c)&&b(c)}):Ca.none()},Hg=function(a,b){var c=cb(a.dom().childNodes,ra(b,Cd.fromDom));return c.map(Cd.fromDom)},Ig=function(a,b){var c=function(a){for(var d=0;d<a.childNodes.length;d++){if(b(Cd.fromDom(a.childNodes[d])))return Ca.some(Cd.fromDom(a.childNodes[d]));var e=c(a.childNodes[d]);if(e.isSome())return e}return Ca.none()};return c(a.dom())},Jg={first:Dg,ancestor:Eg,closest:Fg,sibling:Gg,child:Hg,descendant:Ig},Kg=function(a){return Ze.one(a)},Lg=function(a,b,c){return Jg.ancestor(a,function(a){return Ze.is(a,b)},c)},Mg=function(a,b){return Jg.sibling(a,function(a){return Ze.is(a,b)})},Ng=function(a,b){return Jg.child(a,function(a){return Ze.is(a,b)})},Og=function(a,b){return Ze.one(b,a)},Pg=function(a,b,c){return C(Ze.is,Lg,a,b,c)},Qg={first:Kg,ancestor:Lg,sibling:Mg,child:Ng,descendant:Og,closest:Pg},Rg=function(a,b){return function(){a.execCommand("mceToggleFormat",!1,b)}},Sg=function(a,b,c){var d=function(a){c(a,b)};a.formatter?a.formatter.formatChanged(b,d):a.on("init",function(){a.formatter.formatChanged(b,d)})},Tg=function(a,b){return function(c){Sg(a,b,function(a){c.control.active(a)})}},Ug=function(a){var b=["alignleft","aligncenter","alignright","alignjustify"],c="alignleft",d=[{text:"Left",icon:"alignleft",onclick:Rg(a,"alignleft")},{text:"Center",icon:"aligncenter",onclick:Rg(a,"aligncenter")},{text:"Right",icon:"alignright",onclick:Rg(a,"alignright")},{text:"Justify",icon:"alignjustify",onclick:Rg(a,"alignjustify")}];a.addMenuItem("align",{text:"Align",menu:d}),a.addButton("align",{type:"menubutton",icon:c,menu:d,onShowMenu:function(c){var d=c.control.menu;L.each(b,function(b,c){d.items().eq(c).each(function(c){return c.active(a.formatter.match(b))})})},onPostRender:function(d){var e=d.control;L.each(b,function(b,d){Sg(a,b,function(a){e.icon(c),a&&e.icon(b)})})}}),L.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(b,c){a.addButton(c,{active:!1,tooltip:b[0],cmd:b[1],onPostRender:Tg(a,c)})})},Vg={register:Ug},Wg=function(a){return a?a.split(",")[0]:""},Xg=function(a,b){var c,d=b?b.toLowerCase():"";return L.each(a,function(a){a.value.toLowerCase()===d&&(c=a.value)}),L.each(a,function(a){c||Wg(a.value).toLowerCase()!==Wg(d).toLowerCase()||(c=a.value)}),c},Yg=function(a,b){return function(){var c=this;c.state.set("value",null),a.on("init nodeChange",function(d){var e=a.queryCommandValue("FontName"),f=Xg(b,e);c.value(f?f:null),!f&&e&&c.text(Wg(e))})}},Zg=function(a){a=a.replace(/;$/,"").split(";");for(var b=a.length;b--;)a[b]=a[b].split("=");return a},$g=function(a){var b="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",c=Zg(a.settings.font_formats||b);
return L.map(c,function(a){return{text:{raw:a[0]},value:a[1],textStyle:a[1].indexOf("dings")===-1?"font-family:"+a[1]:""}})},_g=function(a){a.addButton("fontselect",function(){var b=$g(a);return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:b,fixedWidth:!0,onPostRender:Yg(a,b),onselect:function(b){b.control.settings.value&&a.execCommand("FontName",!1,b.control.settings.value)}}})},ah=function(a){_g(a)},bh={register:ah},ch=function(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c},dh=function(a,b){return/[0-9.]+px$/.test(a)?ch(72*parseInt(a,10)/96,b||0)+"pt":a},eh=function(a,b,c){var d;return L.each(a,function(a){a.value===c?d=c:a.value===b&&(d=b)}),d},fh=function(a,b){return function(){var c=this;a.on("init nodeChange",function(d){var e,f,g,h;if(e=a.queryCommandValue("FontSize"))for(g=3;!h&&g>=0;g--)f=dh(e,g),h=eh(b,f,e);c.value(h?h:null),h||c.text(f)})}},gh=function(a){var b="8pt 10pt 12pt 14pt 18pt 24pt 36pt",c=a.settings.fontsize_formats||b;return L.map(c.split(" "),function(a){var b=a,c=a,d=a.split("=");return d.length>1&&(b=d[0],c=d[1]),{text:b,value:c}})},hh=function(a){a.addButton("fontsizeselect",function(){var b=gh(a);return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:b,fixedWidth:!0,onPostRender:fh(a,b),onclick:function(b){b.control.settings.value&&a.execCommand("FontSize",!1,b.control.settings.value)}}})},ih=function(a){hh(a)},jh={register:ih},kh=function(a,b){var c=b.length;return L.each(b,function(b){b.menu&&(b.hidden=0===kh(a,b.menu));var d=b.format;d&&(b.hidden=!a.formatter.canApply(d)),b.hidden&&c--}),c},lh=function(a,b){var c=b.items().length;return b.items().each(function(b){b.menu&&b.visible(lh(a,b.menu)>0),!b.menu&&b.settings.menu&&b.visible(kh(a,b.settings.menu)>0);var d=b.settings.format;d&&b.visible(a.formatter.canApply(d)),b.visible()||c--}),c},mh=function(a){var b=0,c=[],d=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],e=function(a){var d=[];if(a)return L.each(a,function(a){var f={text:a.title,icon:a.icon};if(a.items)f.menu=e(a.items);else{var g=a.format||"custom"+b++;a.format||(a.name=g,c.push(a)),f.format=g,f.cmd=a.cmd}d.push(f)}),d},f=function(){var b;return b=e(a.settings.style_formats_merge?a.settings.style_formats?d.concat(a.settings.style_formats):d:a.settings.style_formats||d)};return a.on("init",function(){L.each(c,function(b){a.formatter.register(b.name,b)})}),{type:"menu",items:f(),onPostRender:function(b){a.fire("renderFormatsMenu",{control:b.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return a.formatter.getCssText(this.settings.format)},onPostRender:function(){var b=this;b.parent().on("show",function(){var c,d;c=b.settings.format,c&&(b.disabled(!a.formatter.canApply(c)),b.active(a.formatter.match(c))),d=b.settings.cmd,d&&b.active(a.queryCommandState(d))})},onclick:function(){this.settings.format&&Rg(a,this.settings.format)(),this.settings.cmd&&a.execCommand(this.settings.cmd)}}}},nh=function(a,b){a.addMenuItem("formats",{text:"Formats",menu:b})},oh=function(a,b){a.addButton("styleselect",{type:"menubutton",text:"Formats",menu:b,onShowMenu:function(){a.settings.style_formats_autohide&&lh(a,this.menu)}})},ph=function(a){var b=mh(a);nh(a,b),oh(a,b)},qh={register:ph},rh="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",sh=function(a){a=a.replace(/;$/,"").split(";");for(var b=a.length;b--;)a[b]=a[b].split("=");return a},th=function(a,b,c){return function(){var d=this;a.on("nodeChange",function(e){var f=a.formatter,g=null;L.each(e.parents,function(a){if(L.each(b,function(b){if(c?f.matchNode(a,c,{value:b.value})&&(g=b.value):f.matchNode(a,b.value)&&(g=b.value),g)return!1}),g)return!1}),d.value(g)})}},uh=function(a,b){return function(){var c=[];return L.each(b,function(b){c.push({text:b[0],value:b[1],textStyle:function(){return a.formatter.getCssText(b[1])}})}),{type:"listbox",text:b[0][0],values:c,fixedWidth:!0,onselect:function(b){if(b.control){var c=b.control.value();Rg(a,c)()}},onPostRender:th(a,c)}}},vh=function(a,b){return L.map(b,function(b){return{text:b[0],onclick:Rg(a,b[1]),textStyle:function(){return a.formatter.getCssText(b[1])}}})},wh=function(a){var b=sh(a.settings.block_formats||rh);a.addMenuItem("blockformats",{text:"Blocks",menu:vh(a,b)}),a.addButton("formatselect",uh(a,b))},xh={register:wh},yh=function(a,b){var c,d;if("string"==typeof b)d=b.split(" ");else if(L.isArray(b))return gb(L.map(b,function(b){return yh(a,b)}));return c=L.grep(d,function(b){return"|"===b||b in a.menuItems}),L.map(c,function(b){return"|"===b?{text:"-"}:a.menuItems[b]})},zh=function(a){return a&&"-"===a.text},Ah=function(a){var b=ab(a,function(a,b,c){return!zh(a)||!zh(c[b-1])});return ab(b,function(a,b,c){return!zh(a)||b>0&&b<c.length-1})},Bh=function(a,b){var c=[{text:"-"}],d=L.grep(a.menuItems,function(a){return a.context===b});return L.each(d,function(a){"before"===a.separator&&c.push({text:"|"}),a.prependToContext?c.unshift(a):c.push(a),"after"===a.separator&&c.push({text:"|"})}),c},Ch=function(a){var b=a.settings.insert_button_items;return Ah(b?yh(a,b):Bh(a,"insert"))},Dh=function(a){a.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(Ch(a)),this.menu.renderNew()}})},Eh=function(a){Dh(a)},Fh={register:Eh},Gh=function(a){L.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(b,c){a.addButton(c,{active:!1,tooltip:b,onPostRender:Tg(a,c),onclick:Rg(a,c)})})},Hh=function(a){L.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1]})})},Ih=function(a){L.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(b,c){a.addButton(c,{active:!1,tooltip:b[0],cmd:b[1],onPostRender:Tg(a,c)})})},Jh=function(a){Gh(a),Hh(a),Ih(a)},Kh=function(a){L.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(b,c){a.addMenuItem(c,{text:b[0],icon:c,shortcut:b[2],cmd:b[1]})}),a.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:Rg(a,"code")})},Lh=function(a){Jh(a),Kh(a)},Mh={register:Lh},Nh=function(a,b){return function(){var c=this,d=function(){var c="redo"===b?"hasRedo":"hasUndo";return!!a.undoManager&&a.undoManager[c]()};c.disabled(!d()),a.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){c.disabled(a.readonly||!d())})}},Oh=function(a){a.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:Nh(a,"undo"),cmd:"undo"}),a.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:Nh(a,"redo"),cmd:"redo"})},Ph=function(a){a.addButton("undo",{tooltip:"Undo",onPostRender:Nh(a,"undo"),cmd:"undo"}),a.addButton("redo",{tooltip:"Redo",onPostRender:Nh(a,"redo"),cmd:"redo"})},Qh=function(a){Oh(a),Ph(a)},Rh={register:Qh},Sh=function(a){return function(){var b=this;a.on("VisualAid",function(a){b.active(a.hasVisual)}),b.active(a.hasVisual)}},Th=function(a){a.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:Sh(a),cmd:"mceToggleVisualAid"})},Uh=function(a){Th(a)},Vh={register:Uh},Wh=function(){Tc.tooltips=!yb.iOS,Bc.translate=function(a){return K.translate(a)}},Xh=function(a){a.settings.ui_container&&(yb.container=Qg.descendant(Cd.fromDom(document.body),a.settings.ui_container).fold(sa(null),function(a){return a.dom()}))},Yh=function(a){a.rtl&&(Bc.rtl=!0)},Zh=function(a){a.on("mousedown",function(){Kc.hideAll()})},$h=function(a){Yh(a),Zh(a),Xh(a),Wh(),xh.register(a),Vg.register(a),Mh.register(a),Rh.register(a),jh.register(a),bh.register(a),qh.register(a),Vh.register(a),Fh.register(a)},_h={setup:$h},ai=cd.extend({recalc:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E=[],F=[];b=a.settings,e=a.items().filter(":visible"),f=a.layoutRect(),d=b.columns||Math.ceil(Math.sqrt(e.length)),c=Math.ceil(e.length/d),s=b.spacingH||b.spacing||0,t=b.spacingV||b.spacing||0,u=b.alignH||b.align,v=b.alignV||b.align,q=a.paddingBox,C="reverseRows"in b?b.reverseRows:a.isRtl(),u&&"string"==typeof u&&(u=[u]),v&&"string"==typeof v&&(v=[v]);for(l=0;l<d;l++)E.push(0);for(m=0;m<c;m++)F.push(0);for(m=0;m<c;m++)for(l=0;l<d&&(k=e[m*d+l],k);l++)j=k.layoutRect(),y=j.minW,z=j.minH,E[l]=y>E[l]?y:E[l],F[m]=z>F[m]?z:F[m];for(A=f.innerW-q.left-q.right,w=0,l=0;l<d;l++)w+=E[l]+(l>0?s:0),A-=(l>0?s:0)+E[l];for(B=f.innerH-q.top-q.bottom,x=0,m=0;m<c;m++)x+=F[m]+(m>0?t:0),B-=(m>0?t:0)+F[m];if(w+=q.left+q.right,x+=q.top+q.bottom,i={},i.minW=w+(f.w-f.innerW),i.minH=x+(f.h-f.innerH),i.contentW=i.minW-f.deltaW,i.contentH=i.minH-f.deltaH,i.minW=Math.min(i.minW,f.maxW),i.minH=Math.min(i.minH,f.maxH),i.minW=Math.max(i.minW,f.startMinWidth),i.minH=Math.max(i.minH,f.startMinHeight),!f.autoResize||i.minW===f.minW&&i.minH===f.minH){f.autoResize&&(i=a.layoutRect(i),i.contentW=i.minW-f.deltaW,i.contentH=i.minH-f.deltaH);var G;G="start"===b.packV?0:B>0?Math.floor(B/c):0;var H=0,I=b.flexWidths;if(I)for(l=0;l<I.length;l++)H+=I[l];else H=d;var J=A/H;for(l=0;l<d;l++)E[l]+=I?I[l]*J:J;for(o=q.top,m=0;m<c;m++){for(n=q.left,h=F[m]+G,l=0;l<d&&(D=C?m*d+d-1-l:m*d+l,k=e[D],k);l++)p=k.settings,j=k.layoutRect(),g=Math.max(E[l],j.startMinWidth),j.x=n,j.y=o,r=p.alignH||(u?u[l]||u[0]:null),"center"===r?j.x=n+g/2-j.w/2:"right"===r?j.x=n+g-j.w:"stretch"===r&&(j.w=g),r=p.alignV||(v?v[l]||v[0]:null),"center"===r?j.y=o+h/2-j.h/2:"bottom"===r?j.y=o+h-j.h:"stretch"===r&&(j.h=h),k.layoutRect(j),n+=g+s,k.recalc&&k.recalc();o+=h+t}}else if(i.w=i.minW,i.h=i.minH,a.layoutRect(i),this.recalc(a),null===a._lastRect){var K=a.parent();K&&(K._lastRect=null,K.recalc())}}}),bi=Tc.extend({renderHtml:function(){var a=this;return a.classes.add("iframe"),a.canFocus=!1,'<iframe id="'+a._id+'" class="'+a.classes+'" tabindex="-1" src="'+(a.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(a){this.getEl().src=a},html:function(a,b){var c=this,d=this.getEl().contentWindow.document.body;return d?(d.innerHTML=a,b&&b()):pa.setTimeout(function(){c.html(a)}),this}}),ci=Tc.extend({init:function(a){var b=this;b._super(a),b.classes.add("widget").add("infobox"),b.canFocus=!1},severity:function(a){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(a)},help:function(a){this.state.set("help",a)},renderHtml:function(){var a=this,b=a.classPrefix;return'<div id="'+a._id+'" class="'+a.classes+'"><div id="'+a._id+'-body">'+a.encode(a.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+b+"ico "+b+'i-help"></i></button></div></div>'},bindStates:function(){var a=this;return a.state.on("change:text",function(b){a.getEl("body").firstChild.data=a.encode(b.value),a.state.get("rendered")&&a.updateLayoutRect()}),a.state.on("change:help",function(b){a.classes.toggle("has-help",b.value),a.state.get("rendered")&&a.updateLayoutRect()}),a._super()}}),di=Tc.extend({init:function(a){var b=this;b._super(a),b.classes.add("widget").add("label"),b.canFocus=!1,a.multiline&&b.classes.add("autoscroll"),a.strong&&b.classes.add("strong")},initLayoutRect:function(){var a=this,b=a._super();if(a.settings.multiline){var c=Tb.getSize(a.getEl());c.width>b.maxW&&(b.minW=b.maxW,a.classes.add("multiline")),a.getEl().style.width=b.minW+"px",b.startMinH=b.h=b.minH=Math.min(b.maxH,Tb.getSize(a.getEl()).height)}return b},repaint:function(){var a=this;return a.settings.multiline||(a.getEl().style.lineHeight=a.layoutRect().h+"px"),a._super()},severity:function(a){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(a)},renderHtml:function(){var a,b,c=this,d=c.settings.forId,e=c.settings.html?c.settings.html:c.encode(c.state.get("text"));return!d&&(b=c.settings.forName)&&(a=c.getRoot().find("#"+b)[0],a&&(d=a._id)),d?'<label id="'+c._id+'" class="'+c.classes+'"'+(d?' for="'+d+'"':"")+">"+e+"</label>":'<span id="'+c._id+'" class="'+c.classes+'">'+e+"</span>"},bindStates:function(){var a=this;return a.state.on("change:text",function(b){a.innerHtml(a.encode(b.value)),a.state.get("rendered")&&a.updateLayoutRect()}),a._super()}}),ei=Ec.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(a){var b=this;b._super(a),b.classes.add("toolbar")},postRender:function(){var a=this;return a.items().each(function(a){a.classes.add("toolbar-item")}),a._super()}}),fi=ei.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),gi=dd.extend({init:function(a){var b=this;b._renderOpen=!0,b._super(a),a=b.settings,b.classes.add("menubtn"),a.fixedWidth&&b.classes.add("fixed-width"),b.aria("haspopup",!0),b.state.set("menu",a.menu||b.render())},showMenu:function(a){var b,c=this;return c.menu&&c.menu.visible()&&a!==!1?c.hideMenu():(c.menu||(b=c.state.get("menu")||[],c.classes.add("opened"),b.length?b={type:"menu",animate:!0,items:b}:(b.type=b.type||"menu",b.animate=!0),b.renderTo?c.menu=b.parent(c).show().renderTo():c.menu=fa.create(b).parent(c).renderTo(),c.fire("createmenu"),c.menu.reflow(),c.menu.on("cancel",function(a){a.control.parent()===c.menu&&(a.stopPropagation(),c.focus(),c.hideMenu())}),c.menu.on("select",function(){c.focus()}),c.menu.on("show hide",function(a){a.control===c.menu&&(c.activeMenu("show"===a.type),c.classes.toggle("opened","show"===a.type)),c.aria("expanded","show"===a.type)}).fire("show")),c.menu.show(),c.menu.layoutRect({w:c.layoutRect().w}),c.menu.repaint(),c.menu.moveRel(c.getEl(),c.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void c.fire("showmenu"))},hideMenu:function(){var a=this;a.menu&&(a.menu.items().each(function(a){a.hideMenu&&a.hideMenu()}),a.menu.hide())},activeMenu:function(a){this.classes.toggle("active",a)},renderHtml:function(){var a,b=this,c=b._id,d=b.classPrefix,e=b.settings.icon,f=b.state.get("text"),g="";return a=b.settings.image,a?(e="none","string"!=typeof a&&(a=window.getSelection?a[0]:a[1]),a=" style=\"background-image: url('"+a+"')\""):a="",f&&(b.classes.add("btn-has-text"),g='<span class="'+d+'txt">'+b.encode(f)+"</span>"),e=b.settings.icon?d+"ico "+d+"i-"+e:"",b.aria("role",b.parent()instanceof fi?"menuitem":"button"),'<div id="'+c+'" class="'+b.classes+'" tabindex="-1" aria-labelledby="'+c+'"><button id="'+c+'-open" role="presentation" type="button" tabindex="-1">'+(e?'<i class="'+e+'"'+a+"></i>":"")+g+' <i class="'+d+'caret"></i></button></div>'},postRender:function(){var a=this;return a.on("click",function(b){b.control===a&&D(b.target,a.getEl())&&(a.focus(),a.showMenu(!b.aria),b.aria&&a.menu.items().filter(":visible")[0].focus())}),a.on("mouseenter",function(b){var c,d=b.control,e=a.parent();d&&e&&d instanceof gi&&d.parent()===e&&(e.items().filter("MenuButton").each(function(a){a.hideMenu&&a!==d&&(a.menu&&a.menu.visible()&&(c=!0),a.hideMenu())}),c&&(d.focus(),d.showMenu()))}),a._super()},bindStates:function(){var a=this;return a.state.on("change:menu",function(){a.menu&&a.menu.remove(),a.menu=null}),a._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}}),hi=Kc.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(a){var b=this;if(a.autohide=!0,a.constrainToViewport=!0,"function"==typeof a.items&&(a.itemsFactory=a.items,a.items=[]),a.itemDefaults)for(var c=a.items,d=c.length;d--;)c[d]=L.extend({},a.itemDefaults,c[d]);b._super(a),b.classes.add("menu"),a.animate&&11!==yb.ie&&b.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var a=this;a.hideAll(),a.fire("select")},load:function(){function a(){d.throbber&&(d.throbber.hide(),d.throbber=null)}var b,c,d=this;c=d.settings.itemsFactory,c&&(d.throbber||(d.throbber=new u(d.getEl("body"),(!0)),0===d.items().length?(d.throbber.show(),d.fire("loading")):d.throbber.show(100,function(){d.items().remove(),d.fire("loading")}),d.on("hide close",a)),d.requestTime=b=(new Date).getTime(),d.settings.itemsFactory(function(c){return 0===c.length?void d.hide():void(d.requestTime===b&&(d.getEl().style.width="",d.getEl("body").style.width="",a(),d.items().remove(),d.getEl("body").innerHTML="",d.add(c),d.renderNew(),d.fire("loaded")))}))},hideAll:function(){var a=this;return this.find("menuitem").exec("hideMenu"),a._super()},preRender:function(){var a=this;return a.items().each(function(b){var c=b.settings;if(c.icon||c.image||c.selectable)return a._hasIcons=!0,!1}),a.settings.itemsFactory&&a.on("postrender",function(){a.settings.itemsFactory&&a.load()}),a.on("show hide",function(b){b.control===a&&("show"===b.type?pa.setTimeout(function(){a.classes.add("in")},0):a.classes.remove("in"))}),a._super()}}),ii=gi.extend({init:function(a){function b(c){for(var f=0;f<c.length;f++){if(d=c[f].selected||a.value===c[f].value)return e=e||c[f].text,g.state.set("value",c[f].value),!0;if(c[f].menu&&b(c[f].menu))return!0}}var c,d,e,f,g=this;g._super(a),a=g.settings,g._values=c=a.values,c&&("undefined"!=typeof a.value&&b(c),!d&&c.length>0&&(e=c[0].text,g.state.set("value",c[0].value)),g.state.set("menu",c)),g.state.set("text",a.text||e),g.classes.add("listbox"),g.on("select",function(b){var c=b.control;f&&(b.lastControl=f),a.multiple?c.active(!c.active()):g.value(b.control.value()),f=c})},value:function(a){if(0===arguments.length)return this.state.get("value");if("undefined"==typeof a)return this;if(this.settings.values){var b=L.grep(this.settings.values,function(b){return b.value===a});b.length>0?this.state.set("value",a):null===a&&this.state.set("value",null)}else this.state.set("value",a);return this},bindStates:function(){function a(a,b){a instanceof hi&&a.items().each(function(a){a.hasMenus()||a.active(a.value()===b)})}function b(a,c){var d;if(a)for(var e=0;e<a.length;e++){if(a[e].value===c)return a[e];if(a[e].menu&&(d=b(a[e].menu,c)))return d}}var c=this;return c.on("show",function(b){a(b.control,c.value())}),c.state.on("change:value",function(a){var d=b(c.state.get("menu"),a.value);d?c.text(d.text):c.text(c.settings.text)}),c._super()}}),ji=function(a,b){var c=a._textStyle;if(c){var d=a.getEl("text");d.setAttribute("style",c),b&&(d.style.color="",d.style.backgroundColor="")}},ki=Tc.extend({Defaults:{border:0,role:"menuitem"},init:function(a){var b,c=this;c._super(a),a=c.settings,c.classes.add("menu-item"),a.menu&&c.classes.add("menu-item-expand"),a.preview&&c.classes.add("menu-item-preview"),b=c.state.get("text"),"-"!==b&&"|"!==b||(c.classes.add("menu-item-sep"),c.aria("role","separator"),c.state.set("text","-")),a.selectable&&(c.aria("role","menuitemcheckbox"),c.classes.add("menu-item-checkbox"),a.icon="selected"),a.preview||a.selectable||c.classes.add("menu-item-normal"),c.on("mousedown",function(a){a.preventDefault()}),a.menu&&!a.ariaHideMenu&&c.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var a,b=this,c=b.settings,d=b.parent();if(d.items().each(function(a){a!==b&&a.hideMenu()}),c.menu){a=b.menu,a?a.show():(a=c.menu,a.length?a={type:"menu",items:a}:a.type=a.type||"menu",d.settings.itemDefaults&&(a.itemDefaults=d.settings.itemDefaults),a=b.menu=fa.create(a).parent(b).renderTo(),a.reflow(),a.on("cancel",function(c){c.stopPropagation(),b.focus(),a.hide()}),a.on("show hide",function(a){a.control.items&&a.control.items().each(function(a){a.active(a.settings.selected)})}).fire("show"),a.on("hide",function(c){c.control===a&&b.classes.remove("selected")}),a.submenu=!0),a._parentMenu=d,a.classes.add("menu-sub");var e=a.testMoveRel(b.getEl(),b.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);a.moveRel(b.getEl(),e),a.rel=e,e="menu-sub-"+e,a.classes.remove(a._lastRel).add(e),a._lastRel=e,b.classes.add("selected"),b.aria("expanded",!0)}},hideMenu:function(){var a=this;return a.menu&&(a.menu.items().each(function(a){a.hideMenu&&a.hideMenu()}),a.menu.hide(),a.aria("expanded",!1)),a},renderHtml:function(){function a(a){var b,c,d={};for(d=yb.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},a=a.split("+"),b=0;b<a.length;b++)c=d[a[b].toLowerCase()],c&&(a[b]=c);return a.join("+")}function b(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c(a){var c=g.match||"";return c?a.replace(new RegExp(b(c),"gi"),function(a){return"!mce~match["+a+"]mce~match!"}):a}function d(a){return a.replace(new RegExp(b("!mce~match["),"g"),"<b>").replace(new RegExp(b("]mce~match!"),"g"),"</b>")}var e=this,f=e._id,g=e.settings,h=e.classPrefix,i=e.state.get("text"),j=e.settings.icon,k="",l=g.shortcut,m=e.encode(g.url),n="";return j&&e.parent().classes.add("menu-has-icons"),g.image&&(k=" style=\"background-image: url('"+g.image+"')\""),l&&(l=a(l)),j=h+"ico "+h+"i-"+(e.settings.icon||"none"),n="-"!==i?'<i class="'+j+'"'+k+"></i> ":"",i=d(e.encode(c(i))),m=d(e.encode(c(m))),'<div id="'+f+'" class="'+e.classes+'" tabindex="-1">'+n+("-"!==i?'<span id="'+f+'-text" class="'+h+'text">'+i+"</span>":"")+(l?'<div id="'+f+'-shortcut" class="'+h+'menu-shortcut">'+l+"</div>":"")+(g.menu?'<div class="'+h+'caret"></div>':"")+(m?'<div class="'+h+'menu-item-link">'+m+"</div>":"")+"</div>"},postRender:function(){var a=this,b=a.settings,c=b.textStyle;if("function"==typeof c&&(c=c.call(this)),c){var d=a.getEl("text");d&&(d.setAttribute("style",c),a._textStyle=c)}return a.on("mouseenter click",function(c){c.control===a&&(b.menu||"click"!==c.type?(a.showMenu(),c.aria&&a.menu.focus(!0)):(a.fire("select"),pa.requestAnimationFrame(function(){a.parent().hideAll()})))}),a._super(),a},hover:function(){var a=this;return a.parent().items().each(function(a){a.classes.remove("selected")}),a.classes.toggle("selected",!0),a},active:function(a){return ji(this,a),"undefined"!=typeof a&&this.aria("checked",a),this._super(a)},remove:function(){this._super(),this.menu&&this.menu.remove()}}),li=gd.extend({Defaults:{classes:"radio",role:"radio"}}),mi=Tc.extend({renderHtml:function(){var a=this,b=a.classPrefix;return a.classes.add("resizehandle"),"both"===a.settings.direction&&a.classes.add("resizehandle-both"),a.canFocus=!1,'<div id="'+a._id+'" class="'+a.classes+'"><i class="'+b+"ico "+b+'i-resize"></i></div>'},postRender:function(){var a=this;a._super(),a.resizeDragHelper=new l(this._id,{start:function(){a.fire("ResizeStart")},drag:function(b){"both"!==a.settings.direction&&(b.deltaX=0),a.fire("Resize",b)},stop:function(){a.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}}),ni=Tc.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(a){var b=this;b._super(a),b.settings.size&&(b.size=b.settings.size),b.settings.options&&(b._options=b.settings.options),b.on("keydown",function(a){var c;13===a.keyCode&&(a.preventDefault(),b.parents().reverse().each(function(a){if(a.toJSON)return c=a,!1}),b.fire("submit",{data:c.toJSON()}))})},options:function(a){return arguments.length?(this.state.set("options",a),this):this.state.get("options")},renderHtml:function(){var a,b=this,c="";return a=E(b._options),b.size&&(c=' size = "'+b.size+'"'),'<select id="'+b._id+'" class="'+b.classes+'"'+c+">"+a+"</select>"},bindStates:function(){var a=this;return a.state.on("change:options",function(b){a.getEl().innerHTML=E(b.value)}),a._super()}}),oi=Tc.extend({init:function(a){var b=this;a.previewFilter||(a.previewFilter=function(a){return Math.round(100*a)/100}),b._super(a),b.classes.add("slider"),"v"===a.orientation&&b.classes.add("vertical"),b._minValue=Wa(a.minValue)?a.minValue:0,b._maxValue=Wa(a.maxValue)?a.maxValue:100,b._initValue=b.state.get("value")},renderHtml:function(){var a=this,b=a._id,c=a.classPrefix;return'<div id="'+b+'" class="'+a.classes+'"><div id="'+b+'-handle" class="'+c+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function a(a,b,c){return(c+a)/(b-a)}function b(a,b,c){return c*(b-a)-a}function c(c,d){function e(e){var f;f=k.value(),f=b(c,d,a(c,d,f)+.05*e),f=F(f,c,d),k.value(f),k.fire("dragstart",{value:f}),k.fire("drag",{value:f}),k.fire("dragend",{value:f})}k.on("keydown",function(a){switch(a.keyCode){case 37:case 38:e(-1);break;case 39:case 40:e(1)}})}function d(a,b,c){var d,e,f,m,n;k._dragHelper=new l(k._id,{handle:k._id+"-handle",start:function(a){d=a[g],e=parseInt(k.getEl("handle").style[h],10),f=(k.layoutRect()[j]||100)-Tb.getSize(c)[i],k.fire("dragstart",{value:n})},drag:function(i){var j=i[g]-d;m=F(e+j,0,f),c.style[h]=m+"px",n=a+m/f*(b-a),k.value(n),k.tooltip().text(""+k.settings.previewFilter(n)).show().moveRel(c,"bc tc"),k.fire("drag",{value:n})},stop:function(){k.tooltip().hide(),k.fire("dragend",{value:n})}})}var e,f,g,h,i,j,k=this;e=k._minValue,f=k._maxValue,"v"===k.settings.orientation?(g="screenY",h="top",i="height",j="h"):(g="screenX",h="left",i="width",j="w"),k._super(),c(e,f),d(e,f,k.getEl("handle"))},repaint:function(){this._super(),H(this,this.value())},bindStates:function(){var a=this;return a.state.on("change:value",function(b){H(a,b.value)}),a._super()}}),pi=Tc.extend({renderHtml:function(){var a=this;return a.classes.add("spacer"),a.canFocus=!1,'<div id="'+a._id+'" class="'+a.classes+'"></div>'}}),qi=gi.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var a,b,c=this,d=c.getEl(),e=c.layoutRect();return c._super(),a=d.firstChild,b=d.lastChild,Rb(a).css({width:e.w-Tb.getSize(b).width,height:e.h-2}),Rb(b).css({height:e.h-2}),c},activeMenu:function(a){var b=this;Rb(b.getEl().lastChild).toggleClass(b.classPrefix+"active",a)},renderHtml:function(){var a,b,c=this,d=c._id,e=c.classPrefix,f=c.state.get("icon"),g=c.state.get("text"),h=c.settings,i="";return a=h.image,a?(f="none","string"!=typeof a&&(a=window.getSelection?a[0]:a[1]),a=" style=\"background-image: url('"+a+"')\""):a="",f=h.icon?e+"ico "+e+"i-"+f:"",g&&(c.classes.add("btn-has-text"),i='<span class="'+e+'txt">'+c.encode(g)+"</span>"),b="boolean"==typeof h.active?' aria-pressed="'+h.active+'"':"",'<div id="'+d+'" class="'+c.classes+'" role="button"'+b+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(f?'<i class="'+f+'"'+a+"></i>":"")+i+'</button><button type="button" class="'+e+'open" hidefocus="1" tabindex="-1">'+(c._menuBtnText?(f?" ":"")+c._menuBtnText:"")+' <i class="'+e+'caret"></i></button></div>'},postRender:function(){var a=this,b=a.settings.onclick;return a.on("click",function(a){var c=a.target;if(a.control===this)for(;c;){if(a.aria&&"down"!==a.aria.key||"BUTTON"===c.nodeName&&c.className.indexOf("open")===-1)return a.stopImmediatePropagation(),void(b&&b.call(this,a));c=c.parentNode}}),delete a.settings.onclick,a._super()}}),ri=Cg.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}}),si=Gc.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(a){var b;this.activeTabId&&(b=this.getEl(this.activeTabId),Rb(b).removeClass(this.classPrefix+"active"),b.setAttribute("aria-selected","false")),this.activeTabId="t"+a,b=this.getEl("t"+a),b.setAttribute("aria-selected","true"),Rb(b).addClass(this.classPrefix+"active"),this.items()[a].show().fire("showtab"),this.reflow(),this.items().each(function(b,c){a!==c&&b.hide()})},renderHtml:function(){var a=this,b=a._layout,c="",d=a.classPrefix;return a.preRender(),b.preRender(a),a.items().each(function(b,e){var f=a._id+"-t"+e;b.aria("role","tabpanel"),b.aria("labelledby",f),c+='<div id="'+f+'" class="'+d+'tab" unselectable="on" role="tab" aria-controls="'+b._id+'" aria-selected="false" tabIndex="-1">'+a.encode(b.settings.title)+"</div>"}),'<div id="'+a._id+'" class="'+a.classes+'" hidefocus="1" tabindex="-1"><div id="'+a._id+'-head" class="'+d+'tabs" role="tablist">'+c+'</div><div id="'+a._id+'-body" class="'+a.bodyClasses+'">'+b.renderHtml(a)+"</div></div>"},postRender:function(){var a=this;a._super(),a.settings.activeTab=a.settings.activeTab||0,a.activateTab(a.settings.activeTab),this.on("click",function(b){var c=b.target.parentNode;if(c&&c.id===a._id+"-head")for(var d=c.childNodes.length;d--;)c.childNodes[d]===b.target&&a.activateTab(d)})},initLayoutRect:function(){var a,b,c,d=this;b=Tb.getSize(d.getEl("head")).width,b=b<0?0:b,c=0,d.items().each(function(a){b=Math.max(b,a.layoutRect().minW),c=Math.max(c,a.layoutRect().minH)}),d.items().each(function(a){a.settings.x=0,a.settings.y=0,a.settings.w=b,a.settings.h=c,a.layoutRect({x:0,y:0,w:b,h:c})});var e=Tb.getSize(d.getEl("head")).height;return d.settings.minWidth=b,d.settings.minHeight=c+e,a=d._super(),a.deltaH+=e,a.innerH=a.h-a.deltaH,a}}),ti=Tc.extend({init:function(a){var b=this;b._super(a),b.classes.add("textbox"),a.multiline?b.classes.add("multiline"):(b.on("keydown",function(a){var c;13===a.keyCode&&(a.preventDefault(),b.parents().reverse().each(function(a){if(a.toJSON)return c=a,!1}),b.fire("submit",{data:c.toJSON()}))}),b.on("keyup",function(a){b.state.set("value",a.target.value)}))},repaint:function(){var a,b,c,d,e,f=this,g=0;a=f.getEl().style,b=f._layoutRect,e=f._lastRepaintRect||{};var h=document;return!f.settings.multiline&&h.all&&(!h.documentMode||h.documentMode<=8)&&(a.lineHeight=b.h-g+"px"),c=f.borderBox,d=c.left+c.right+8,g=c.top+c.bottom+(f.settings.multiline?8:0),b.x!==e.x&&(a.left=b.x+"px",e.x=b.x),b.y!==e.y&&(a.top=b.y+"px",e.y=b.y),b.w!==e.w&&(a.width=b.w-d+"px",e.w=b.w),b.h!==e.h&&(a.height=b.h-g+"px",e.h=b.h),f._lastRepaintRect=e,f.fire("repaint",{},!1),f},renderHtml:function(){var a,b,c=this,d=c.settings;return a={id:c._id,hidefocus:"1"},L.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(b){a[b]=d[b]}),c.disabled()&&(a.disabled="disabled"),d.subtype&&(a.type=d.subtype),b=Tb.create(d.multiline?"textarea":"input",a),b.value=c.state.get("value"),b.className=c.classes.toString(),b.outerHTML},value:function(a){return arguments.length?(this.state.set("value",a),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var a=this;a.getEl().value=a.state.get("value"),a._super(),a.$el.on("change",function(b){a.state.set("value",b.target.value),a.fire("change",b)})},bindStates:function(){var a=this;return a.state.on("change:value",function(b){
a.getEl().value!==b.value&&(a.getEl().value=b.value)}),a.state.on("change:disabled",function(b){a.getEl().disabled=b.value}),a._super()},remove:function(){this.$el.off(),this._super()}}),ui=function(){return{Selector:hc,Collection:kc,ReflowQueue:rc,Control:Bc,Factory:fa,KeyboardNavigation:i,Container:Ec,DragHelper:l,Scrollable:Fc,Panel:Gc,Movable:Zb,Resizable:Hc,FloatPanel:Kc,Window:Zc,MessageBox:$c,Tooltip:Sc,Widget:Tc,Progress:Uc,Notification:Wc,Layout:bd,AbsoluteLayout:cd,Button:dd,ButtonGroup:fd,Checkbox:gd,ComboBox:id,ColorBox:jd,PanelButton:kd,ColorButton:md,ColorPicker:od,Path:qd,ElementPath:rd,FormItem:sd,Form:td,FieldSet:ud,FilePicker:zg,FitLayout:Ag,FlexLayout:Bg,FlowLayout:Cg,FormatControls:_h,GridLayout:ai,Iframe:bi,InfoBox:ci,Label:di,Toolbar:ei,MenuBar:fi,MenuButton:gi,MenuItem:ki,Throbber:u,Menu:hi,ListBox:ii,Radio:li,ResizeHandle:mi,SelectBox:ni,Slider:oi,Spacer:pi,SplitButton:qi,StackLayout:ri,TabPanel:si,TextBox:ti,DropZone:pd,BrowseButton:ed}},vi=function(a){a.ui?L.each(ui(),function(b,c){a.ui[c]=b}):a.ui=ui()},wi=function(){L.each(ui(),function(a,b){fa.add(b,a)})},xi={appendTo:vi,registerToFactory:wi};return xi.registerToFactory(),xi.appendTo(window.tinymce?window.tinymce:{}),J.add("modern",function(a){return _h.setup(a),ad.get(a)}),I})()}(),define("tinymce.themes",["tinymce"],function(a){return function(){var b;return b||a.themes}}(this)),function(){(function(){"use strict";function a(){}var b=tinymce.util.Tools.resolve("tinymce.PluginManager"),c=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),d=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),e=tinymce.util.Tools.resolve("tinymce.util.VK"),f=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),g=tinymce.util.Tools.resolve("tinymce.util.Tools"),h=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),i=function(a){return a&&3===a.nodeType},j=function(a){return a&&/^(OL|UL|DL)$/.test(a.nodeName)},k=function(a){return a&&/^(LI|DT|DD)$/.test(a.nodeName)},l=function(a){return a&&/^(TH|TD)$/.test(a.nodeName)},m=function(a){return a&&"BR"===a.nodeName},n=function(a){return a.parentNode.firstChild===a},o=function(a){return a.parentNode.lastChild===a},p=function(a,b){return b&&!!a.schema.getTextBlockElements()[b.nodeName]},q=function(a,b){return a&&a.nodeName in b},r=function(a,b){return!!m(b)&&!(!a.isBlock(b.nextSibling)||m(b.previousSibling))},s=function(a,b,c){var d=a.isEmpty(b);return!(c&&a.select("span[data-mce-type=bookmark]",b).length>0)&&d},t=function(a,b){return a.isChildOf(b,a.getRoot())},u={isTextNode:i,isListNode:j,isListItemNode:k,isTableCellNode:l,isBr:m,isFirstChild:n,isLastChild:o,isTextBlock:p,isBlock:q,isBogusBr:r,isEmpty:s,isChildOfBody:t},v=function(a,b){var d=c.getNode(a,b);if(u.isListItemNode(a)&&u.isTextNode(d)){var e=b>=a.childNodes.length?d.data.length:0;return{container:d,offset:e}}return{container:a,offset:b}},w=function(a){var b=a.cloneRange(),c=v(a.startContainer,a.startOffset);b.setStart(c.container,c.offset);var d=v(a.endContainer,a.endOffset);return b.setEnd(d.container,d.offset),b},x={getNormalizedEndPoint:v,normalizeRange:w},y=h.DOM,z=function(a){var b={},c=function(c){var d,e,f;e=a[c?"startContainer":"endContainer"],f=a[c?"startOffset":"endOffset"],1===e.nodeType&&(d=y.create("span",{"data-mce-type":"bookmark"}),e.hasChildNodes()?(f=Math.min(f,e.childNodes.length-1),c?e.insertBefore(d,e.childNodes[f]):y.insertAfter(d,e.childNodes[f])):e.appendChild(d),e=d,f=0),b[c?"startContainer":"endContainer"]=e,b[c?"startOffset":"endOffset"]=f};return c(!0),a.collapsed||c(),b},A=function(a){function b(b){var c,d,e,f=function(a){for(var b=a.parentNode.firstChild,c=0;b;){if(b===a)return c;1===b.nodeType&&"bookmark"===b.getAttribute("data-mce-type")||c++,b=b.nextSibling}return-1};c=e=a[b?"startContainer":"endContainer"],d=a[b?"startOffset":"endOffset"],c&&(1===c.nodeType&&(d=f(c),c=c.parentNode,y.remove(e),!c.hasChildNodes()&&y.isBlock(c)&&c.appendChild(y.create("br"))),a[b?"startContainer":"endContainer"]=c,a[b?"startOffset":"endOffset"]=d)}b(!0),b();var c=y.createRng();return c.setStart(a.startContainer,a.startOffset),a.endContainer&&c.setEnd(a.endContainer,a.endOffset),x.normalizeRange(c)},B={createBookmark:z,resolveBookmark:A},C=h.DOM,D=function(a,b){var c,d=b.parentNode;"LI"===d.nodeName&&d.firstChild===b&&(c=d.previousSibling,c&&"LI"===c.nodeName?(c.appendChild(b),u.isEmpty(a,d)&&C.remove(d)):C.setStyle(d,"listStyleType","none")),u.isListNode(d)&&(c=d.previousSibling,c&&"LI"===c.nodeName&&c.appendChild(b))},E=function(a,b){g.each(g.grep(a.select("ol,ul",b)),function(b){D(a,b)})},F={normalizeList:D,normalizeLists:E},G=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),H=function(a){var b=a.selection.getStart(!0);return a.dom.getParent(b,"OL,UL,DL",N(a,b))},I=function(a,b){return a&&1===b.length&&b[0]===a},J=function(a){return g.grep(a.querySelectorAll("ol,ul,dl"),function(a){return u.isListNode(a)})},K=function(a){var b=H(a),c=a.selection.getSelectedBlocks();return I(b,c)?J(b):g.grep(c,function(a){return u.isListNode(a)&&b!==a})},L=function(a,b){var c=g.map(b,function(b){var c=a.dom.getParent(b,"li,dd,dt",N(a,b));return c?c:b});return G.unique(c)},M=function(a){var b=a.selection.getSelectedBlocks();return g.grep(L(a,b),function(a){return u.isListItemNode(a)})},N=function(a,b){var c=a.dom.getParents(b,"TD,TH"),d=c.length>0?c[0]:a.getBody();return d},O={getParentList:H,getSelectedSubLists:K,getSelectedListItems:M,getClosestListRootElm:N},P=tinymce.util.Tools.resolve("tinymce.Env"),Q=h.DOM,R=function(a,b,c){var d,e,f,g=Q.createFragment(),h=a.schema.getBlockElements();if(a.settings.forced_root_block&&(c=c||a.settings.forced_root_block),c&&(e=Q.create(c),e.tagName===a.settings.forced_root_block&&Q.setAttribs(e,a.settings.forced_root_block_attrs),u.isBlock(b.firstChild,h)||g.appendChild(e)),b)for(;d=b.firstChild;){var i=d.nodeName;f||"SPAN"===i&&"bookmark"===d.getAttribute("data-mce-type")||(f=!0),u.isBlock(d,h)?(g.appendChild(d),e=null):c?(e||(e=Q.create(c),g.appendChild(e)),e.appendChild(d)):g.appendChild(d)}return a.settings.forced_root_block?f||P.ie&&!(P.ie>10)||e.appendChild(Q.create("br",{"data-mce-bogus":"1"})):g.appendChild(Q.create("br")),g},S={createNewTextBlock:R},T=h.DOM,U=function(a,b,c,d){var e,f,h,i,j=function(a){g.each(h,function(b){a.parentNode.insertBefore(b,c.parentNode)}),T.remove(a)};for(h=T.select('span[data-mce-type="bookmark"]',b),d=d||S.createNewTextBlock(a,c),e=T.createRng(),e.setStartAfter(c),e.setEndAfter(b),f=e.extractContents(),i=f.firstChild;i;i=i.firstChild)if("LI"===i.nodeName&&a.dom.isEmpty(i)){T.remove(i);break}a.dom.isEmpty(f)||T.insertAfter(f,b),T.insertAfter(d,b),u.isEmpty(a.dom,c.parentNode)&&j(c.parentNode),T.remove(c),u.isEmpty(a.dom,b)&&T.remove(b)},V={splitList:U},W=h.DOM,X=function(a,b){u.isEmpty(a,b)&&W.remove(b)},Y=function(a,b){var c,d,e=b.parentNode;return e?(c=e.parentNode,e===a.getBody()||("DD"===b.nodeName?(W.rename(b,"DT"),!0):u.isFirstChild(b)&&u.isLastChild(b)?("LI"===c.nodeName?(W.insertAfter(b,c),X(a.dom,c),W.remove(e)):u.isListNode(c)?W.remove(e,!0):(c.insertBefore(S.createNewTextBlock(a,b),e),W.remove(e)),!0):u.isFirstChild(b)?("LI"===c.nodeName?(W.insertAfter(b,c),b.appendChild(e),X(a.dom,c)):u.isListNode(c)?c.insertBefore(b,e):(c.insertBefore(S.createNewTextBlock(a,b),e),W.remove(b)),!0):u.isLastChild(b)?("LI"===c.nodeName?W.insertAfter(b,c):u.isListNode(c)?W.insertAfter(b,e):(W.insertAfter(S.createNewTextBlock(a,b),e),W.remove(b)),!0):("LI"===c.nodeName?(e=c,d=S.createNewTextBlock(a,b,"LI")):d=u.isListNode(c)?S.createNewTextBlock(a,b,"LI"):S.createNewTextBlock(a,b),V.splitList(a,e,b,d),F.normalizeLists(a.dom,e.parentNode),!0))):(X(a.dom,b),!0)},Z=function(a){var b=O.getSelectedListItems(a);if(b.length){var c=B.createBookmark(a.selection.getRng()),d=void 0,e=void 0,f=O.getClosestListRootElm(a,a.selection.getStart(!0));for(d=b.length;d--;)for(var g=b[d].parentNode;g&&g!==f;){for(e=b.length;e--;)if(b[e]===g){b.splice(d,1);break}g=g.parentNode}for(d=0;d<b.length&&(Y(a,b[d])||0!==d);d++);return a.selection.setRng(B.resolveBookmark(c)),a.nodeChanged(),!0}},$={outdent:Y,outdentSelection:Z},_=function(a,b,c){var d=c["list-style-type"]?c["list-style-type"]:null;a.setStyle(b,"list-style-type",d)},aa=function(a,b){g.each(b,function(b,c){a.setAttribute(c,b)})},ba=function(a,b,c){aa(b,c["list-attributes"]),g.each(a.select("li",b),function(a){aa(a,c["list-item-attributes"])})},ca=function(a,b,c){_(a,b,c),ba(a,b,c)},da=function(a,b,c){g.each(c,function(c){var d;return a.setStyle(b,(d={},d[c]="",d))})},ea=function(a,b,c,d){var e,f;for(e=b[c?"startContainer":"endContainer"],f=b[c?"startOffset":"endOffset"],1===e.nodeType&&(e=e.childNodes[Math.min(f,e.childNodes.length-1)]||e),!c&&u.isBr(e.nextSibling)&&(e=e.nextSibling);e.parentNode!==d;){if(u.isTextBlock(a,e))return e;if(/^(TD|TH)$/.test(e.parentNode.nodeName))return e;e=e.parentNode}return e},fa=function(a,b,c){for(var d,e=[],h=a.dom,i=ea(a,b,!0,c),j=ea(a,b,!1,c),k=[],l=i;l&&(k.push(l),l!==j);l=l.nextSibling);return g.each(k,function(b){if(u.isTextBlock(a,b))return e.push(b),void(d=null);if(h.isBlock(b)||u.isBr(b))return u.isBr(b)&&h.remove(b),void(d=null);var g=b.nextSibling;return f.isBookmarkNode(b)&&(u.isTextBlock(a,g)||!g&&b.parentNode===c)?void(d=null):(d||(d=h.create("p"),b.parentNode.insertBefore(d,b),e.push(d)),void d.appendChild(b))}),e},ga=function(a,b,c){var d=a.getStyle(b,"list-style-type"),e=c?c["list-style-type"]:"";return e=null===e?"":e,d===e},ha=function(a,b,c){void 0===c&&(c={});var d,e=a.selection.getRng(!0),f="LI",h=O.getClosestListRootElm(a,a.selection.getStart(!0)),i=a.dom;"false"!==i.getContentEditable(a.selection.getNode())&&(b=b.toUpperCase(),"DL"===b&&(f="DT"),d=B.createBookmark(e),g.each(fa(a,e,h),function(d){var e,g;g=d.previousSibling,g&&u.isListNode(g)&&g.nodeName===b&&ga(i,g,c)?(e=g,d=i.rename(d,f),g.appendChild(d)):(e=i.create(b),d.parentNode.insertBefore(e,d),e.appendChild(d),d=i.rename(d,f)),da(i,d,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ca(i,e,c),na(a.dom,e)}),a.selection.setRng(B.resolveBookmark(d)))},ia=function(a){var b=B.createBookmark(a.selection.getRng(!0)),c=O.getClosestListRootElm(a,a.selection.getStart(!0)),d=O.getSelectedListItems(a),e=g.grep(d,function(b){return a.dom.isEmpty(b)});d=g.grep(d,function(b){return!a.dom.isEmpty(b)}),g.each(e,function(b){if(u.isEmpty(a.dom,b))return void $.outdent(a,b)}),g.each(d,function(b){var d,e;if(b.parentNode!==a.getBody()){for(d=b;d&&d!==c;d=d.parentNode)u.isListNode(d)&&(e=d);V.splitList(a,e,b),F.normalizeLists(a.dom,e.parentNode)}}),a.selection.setRng(B.resolveBookmark(b))},ja=function(a,b){return a&&b&&u.isListNode(a)&&a.nodeName===b.nodeName},ka=function(a,b,c){var d=a.getStyle(b,"list-style-type",!0),e=a.getStyle(c,"list-style-type",!0);return d===e},la=function(a,b){return a.className===b.className},ma=function(a,b,c){return ja(b,c)&&ka(a,b,c)&&la(b,c)},na=function(a,b){var c,d;if(c=b.nextSibling,ma(a,b,c)){for(;d=c.firstChild;)b.appendChild(d);a.remove(c)}if(c=b.previousSibling,ma(a,b,c)){for(;d=c.lastChild;)b.insertBefore(d,b.firstChild);a.remove(c)}},oa=function(a,b,c,d){if(b.nodeName!==c){var e=a.rename(b,c);ca(a,e,d)}else ca(a,b,d)},pa=function(a,b,c,d,e){if(b.nodeName!==d||qa(e)){var f=B.createBookmark(a.selection.getRng(!0));g.each([b].concat(c),function(b){oa(a.dom,b,d,e)}),a.selection.setRng(B.resolveBookmark(f))}else ia(a)},qa=function(a){return"list-style-type"in a},ra=function(a,b,c,d){if(b!==a.getBody())if(b)if(b.nodeName!==c||qa(d)){var e=B.createBookmark(a.selection.getRng(!0));ca(a.dom,b,d),na(a.dom,a.dom.rename(b,c)),a.selection.setRng(B.resolveBookmark(e))}else ia(a);else ha(a,c,d)},sa=function(a,b,c){var d=O.getParentList(a),e=O.getSelectedSubLists(a);c=c?c:{},d&&e.length>0?pa(a,d,e,b,c):ra(a,d,b,c)},ta={toggleList:sa,removeList:ia,mergeWithAdjacentLists:na},ua=function(a,b,e,f){var g,h,i=b.startContainer,j=b.startOffset;if(3===i.nodeType&&(e?j<i.data.length:j>0))return i;for(g=a.schema.getNonEmptyElements(),1===i.nodeType&&(i=c.getNode(i,j)),h=new d(i,f),e&&u.isBogusBr(a.dom,i)&&h.next();i=h[e?"next":"prev2"]();){if("LI"===i.nodeName&&!i.hasChildNodes())return i;if(g[i.nodeName])return i;if(3===i.nodeType&&i.data.length>0)return i}},va=function(a,b){var c=b.childNodes;return 1===c.length&&!u.isListNode(c[0])&&a.isBlock(c[0])},wa=function(a,b){va(a,b)&&a.remove(b.firstChild,!0)},xa=function(a,b,c){var d,e;if(e=va(a,c)?c.firstChild:c,wa(a,b),!u.isEmpty(a,b,!0))for(;d=b.firstChild;)e.appendChild(d)},ya=function(a,b,c){var d,e,f=b.parentNode;u.isChildOfBody(a,b)&&u.isChildOfBody(a,c)&&(u.isListNode(c.lastChild)&&(e=c.lastChild),f===c.lastChild&&u.isBr(f.previousSibling)&&a.remove(f.previousSibling),d=c.lastChild,d&&u.isBr(d)&&b.hasChildNodes()&&a.remove(d),u.isEmpty(a,c,!0)&&a.$(c).empty(),xa(a,b,c),e&&c.appendChild(e),a.remove(b),u.isEmpty(a,f)&&f!==a.getRoot()&&a.remove(f))},za=function(a,b,c){a.dom.$(c).empty(),ya(a.dom,b,c),a.selection.setCursorLocation(c)},Aa=function(a,b,c,d){var e=a.dom;if(e.isEmpty(d))za(a,c,d);else{var f=B.createBookmark(b);ya(e,c,d),a.selection.setRng(B.resolveBookmark(f))}},Ba=function(a,b,c,d){var e=B.createBookmark(b);ya(a.dom,c,d);var f=B.resolveBookmark(e);a.selection.setRng(f)},Ca=function(a,b){var c,d,e,f=a.dom,g=a.selection,h=g.getStart(),i=O.getClosestListRootElm(a,h),j=f.getParent(g.getStart(),"LI",i);if(j){if(c=j.parentNode,c===a.getBody()&&u.isEmpty(f,c))return!0;if(d=x.normalizeRange(g.getRng(!0)),e=f.getParent(ua(a,d,b,i),"LI",i),e&&e!==j)return b?Aa(a,d,e,j):Ba(a,d,j,e),!0;if(!e&&!b&&ta.removeList(a))return!0}return!1},Da=function(a,b,c){var d=a.getParent(b.parentNode,a.isBlock,c);a.remove(b),d&&a.isEmpty(d)&&a.remove(d)},Ea=function(a,b){var c=a.dom,d=a.selection.getStart(),e=O.getClosestListRootElm(a,d),f=c.getParent(d,c.isBlock,e);if(f&&c.isEmpty(f)){var g=x.normalizeRange(a.selection.getRng(!0)),h=c.getParent(ua(a,g,b,e),"LI",e);if(h)return a.undoManager.transact(function(){Da(c,f,e),ta.mergeWithAdjacentLists(c,h.parentNode),a.selection.select(h,!0),a.selection.collapse(b)}),!0}return!1},Fa=function(a,b){return Ca(a,b)||Ea(a,b)},Ga=function(a){var b=a.selection.getStart(),c=O.getClosestListRootElm(a,b),d=a.dom.getParent(b,"LI,DT,DD",c);return!!(d||O.getSelectedListItems(a).length>0)&&(a.undoManager.transact(function(){a.execCommand("Delete"),F.normalizeLists(a.dom,a.getBody())}),!0)},Ha=function(a,b){return a.selection.isCollapsed()?Fa(a,b):Ga(a)},Ia=function(a){a.on("keydown",function(b){b.keyCode===e.BACKSPACE?Ha(a,!1)&&b.preventDefault():b.keyCode===e.DELETE&&Ha(a,!0)&&b.preventDefault()})},Ja={setup:Ia,backspaceDelete:Ha},Ka=function(a){return{backspaceDelete:function(b){Ja.backspaceDelete(a,b)}}},La={get:Ka},Ma=h.DOM,Na=function(a,b){var c;if(u.isListNode(a)){for(;c=a.firstChild;)b.appendChild(c);Ma.remove(a)}},Oa=function(a){var b,c,d;return"DT"===a.nodeName?(Ma.rename(a,"DD"),!0):(b=a.previousSibling,b&&u.isListNode(b)?(b.appendChild(a),!0):b&&"LI"===b.nodeName&&u.isListNode(b.lastChild)?(b.lastChild.appendChild(a),Na(a.lastChild,b.lastChild),!0):(b=a.nextSibling,b&&u.isListNode(b)?(b.insertBefore(a,b.firstChild),!0):(b=a.previousSibling,!(!b||"LI"!==b.nodeName)&&(c=Ma.create(a.parentNode.nodeName),d=Ma.getStyle(a.parentNode,"listStyleType"),d&&Ma.setStyle(c,"listStyleType",d),b.appendChild(c),c.appendChild(a),Na(a.lastChild,c),!0))))},Pa=function(a){var b=O.getSelectedListItems(a);if(b.length){for(var c=B.createBookmark(a.selection.getRng(!0)),d=0;d<b.length&&(Oa(b[d])||0!==d);d++);return a.selection.setRng(B.resolveBookmark(c)),a.nodeChanged(),!0}},Qa={indentSelection:Pa},Ra=function(a,b){return function(){var c=a.dom.getParent(a.selection.getStart(),"UL,OL,DL");return c&&c.nodeName===b}},Sa=function(a){a.on("BeforeExecCommand",function(b){var c,d=b.command.toLowerCase();if("indent"===d?Qa.indentSelection(a)&&(c=!0):"outdent"===d&&$.outdentSelection(a)&&(c=!0),c)return a.fire("ExecCommand",{command:b.command}),b.preventDefault(),!0}),a.addCommand("InsertUnorderedList",function(b,c){ta.toggleList(a,"UL",c)}),a.addCommand("InsertOrderedList",function(b,c){ta.toggleList(a,"OL",c)}),a.addCommand("InsertDefinitionList",function(b,c){ta.toggleList(a,"DL",c)}),a.addQueryStateHandler("InsertUnorderedList",Ra(a,"UL")),a.addQueryStateHandler("InsertOrderedList",Ra(a,"OL")),a.addQueryStateHandler("InsertDefinitionList",Ra(a,"DL"))},Ta={register:Sa},Ua=function(a){return a.getParam("lists_indent_on_tab",!0)},Va={shouldIndentOnTab:Ua},Wa=function(a){a.on("keydown",function(b){b.keyCode!==e.TAB||e.metaKeyPressed(b)||a.dom.getParent(a.selection.getStart(),"LI,DT,DD")&&(b.preventDefault(),b.shiftKey?$.outdentSelection(a):Qa.indentSelection(a))})},Xa=function(a){Va.shouldIndentOnTab(a)&&Wa(a),Ja.setup(a)},Ya={setup:Xa},Za=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(b(d))return c}return-1},$a=function(a,b){return function(c){var d=c.control;a.on("NodeChange",function(a){var c=Za(a.parents,u.isTableCellNode),e=c!==-1?a.parents.slice(0,c):a.parents,f=g.grep(e,u.isListNode);d.active(f.length>0&&f[0].nodeName===b)})}},_a=function(a){return function(b){var c=b.control;a.on("nodechange",function(){var b=O.getSelectedListItems(a),d=b.length>0&&u.isFirstChild(b[0]);c.disabled(d)})}},ab=function(a){var b=function(a,b){var c=a.settings.plugins?a.settings.plugins:"";return g.inArray(c.split(/[ ,]/),b)!==-1};b(a,"advlist")||(a.addButton("numlist",{active:!1,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:$a(a,"OL")}),a.addButton("bullist",{active:!1,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:$a(a,"UL")})),a.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:_a(a)})},bb={register:ab};return b.add("lists",function(a){return Ya.setup(a),bb.register(a),Ta.register(a),La.get(a)}),a})()}(),define("tinymce.lists",["tinymce"],function(a){return function(){var b;return b||a.lists}}(this)),function(){(function(){"use strict";function a(){}var b=tinymce.util.Tools.resolve("tinymce.PluginManager"),c=tinymce.util.Tools.resolve("tinymce.util.VK"),d=function(a){return"boolean"==typeof a.link_assume_external_targets&&a.link_assume_external_targets},e=function(a){return"boolean"==typeof a.link_context_toolbar&&a.link_context_toolbar},f=function(a){return a.link_list},g=function(a){return"string"==typeof a.default_link_target},h=function(a){return a.default_link_target},i=function(a){return a.target_list},j=function(a,b){a.settings.target_list=b},k=function(a){return i(a)!==!1},l=function(a){return a.rel_list},m=function(a){return void 0!==l(a)},n=function(a){return a.link_class_list},o=function(a){return void 0!==n(a)},p=function(a){return a.link_title!==!1},q=function(a){return"boolean"==typeof a.allow_unsafe_link_target&&a.allow_unsafe_link_target},r={assumeExternalTargets:d,hasContextToolbar:e,getLinkList:f,hasDefaultLinkTarget:g,getDefaultLinkTarget:h,getTargetList:i,setTargetList:j,shouldShowTargetList:k,getRelList:l,hasRelList:m,getLinkClassList:n,hasLinkClassList:o,shouldShowLinkTitle:p,allowUnsafeLinkTarget:q},s=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),t=tinymce.util.Tools.resolve("tinymce.Env"),u=function(a,b){document.body.appendChild(a),a.dispatchEvent(b),document.body.removeChild(a)},v=function(a){if(!t.ie||t.ie>10){var b=document.createElement("a");b.target="_blank",b.href=a,b.rel="noreferrer noopener";var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),u(b,c)}else{var d=window.open("","_blank");if(d){d.opener=null;var e=d.document;e.open(),e.write('<meta http-equiv="refresh" content="0; url='+s.DOM.encode(a)+'">'),e.close()}}},w={open:v},x=tinymce.util.Tools.resolve("tinymce.util.Tools"),y=function(a,b){var c=["noopener"],d=a?a.split(/\s+/):[],e=function(a){return x.trim(a.sort().join(" "))},f=function(a){return a=g(a),a.length?a.concat(c):c},g=function(a){return a.filter(function(a){return x.inArray(c,a)===-1})};return d=b?f(d):g(d),d.length?e(d):null},z=function(a){return a.replace(/\uFEFF/g,"")},A=function(a,b){return b=b||a.selection.getNode(),F(b)?a.dom.select("a[href]",b)[0]:a.dom.getParent(b,"a[href]")},B=function(a,b){var c=b?b.innerText||b.textContent:a.getContent({format:"text"});return z(c)},C=function(a){return a&&"A"===a.nodeName&&a.href},D=function(a){return x.grep(a,C).length>0},E=function(a){return!(/</.test(a)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(a)||a.indexOf("href=")===-1))},F=function(a){return a&&"FIGURE"===a.nodeName&&/\bimage\b/i.test(a.className)},G=function(a,b){return function(c){a.undoManager.transact(function(){var d=a.selection.getNode(),e=A(a,d),f={href:c.href,target:c.target?c.target:null,rel:c.rel?c.rel:null,"class":c["class"]?c["class"]:null,title:c.title?c.title:null};r.hasRelList(a.settings)||r.allowUnsafeLinkTarget(a.settings)!==!1||(f.rel=y(f.rel,"_blank"===f.target)),c.href===b.href&&(b.attach(),b={}),e?(a.focus(),c.hasOwnProperty("text")&&("innerText"in e?e.innerText=c.text:e.textContent=c.text),a.dom.setAttribs(e,f),a.selection.select(e),a.undoManager.add()):F(d)?J(a,d,f):c.hasOwnProperty("text")?a.insertContent(a.dom.createHTML("a",f,a.dom.encode(c.text))):a.execCommand("mceInsertLink",!1,f)})}},H=function(a){return function(){a.undoManager.transact(function(){var b=a.selection.getNode();F(b)?I(a,b):a.execCommand("unlink")})}},I=function(a,b){var c,d;d=a.dom.select("img",b)[0],d&&(c=a.dom.getParents(d,"a[href]",b)[0],c&&(c.parentNode.insertBefore(d,c),a.dom.remove(c)))},J=function(a,b,c){var d,e;e=a.dom.select("img",b)[0],e&&(d=a.dom.create("a",c),e.parentNode.insertBefore(d,e),d.appendChild(e))},K={link:G,unlink:H,isLink:C,hasLinks:D,isOnlyTextSelected:E,getAnchorElement:A,getAnchorText:B,toggleTargetRules:y},L=tinymce.util.Tools.resolve("tinymce.util.Delay"),M=tinymce.util.Tools.resolve("tinymce.util.XHR"),N={},O=function(a,b){var c=r.getLinkList(a.settings);"string"==typeof c?M.send({url:c,success:function(c){b(a,JSON.parse(c))}}):"function"==typeof c?c(function(c){b(a,c)}):b(a,c)},P=function(a,b,c){var d=function(a,c){return c=c||[],x.each(a,function(a){var e={text:a.text||a.title};a.menu?e.menu=d(a.menu):(e.value=a.value,b&&b(e)),c.push(e)}),c};return d(a,c||[])},Q=function(a,b,c){var d=a.selection.getRng();L.setEditorTimeout(a,function(){a.windowManager.confirm(b,function(b){a.selection.setRng(d),c(b)})})},R=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n={},o=a.selection,p=a.dom,q=function(a){var b=e.find("#text");(!b.value()||a.lastControl&&b.value()===a.lastControl.text())&&b.value(a.control.text()),e.find("#href").value(a.control.value())},s=function(b){var c=[];if(x.each(a.dom.select("a:not([href])"),function(a){var d=a.name||a.id;d&&c.push({text:d,value:"#"+d,selected:b.indexOf("#"+d)!==-1})}),c.length)return c.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:c,onselect:q}},t=function(){d||!f||n.text||this.parent().parent().find("#text")[0].value(this.value())},u=function(b){var c=b.meta||{};h&&h.value(a.convertURL(this.value(),"href")),x.each(b.meta,function(a,b){var c=e.find("#"+b);"text"===b?0===d.length&&(c.value(a),n.text=a):c.value(a)}),c.attach&&(N={href:this.value(),attach:c.attach}),c.text||t.call(this)},v=function(a){a.meta=e.toJSON()};f=K.isOnlyTextSelected(o.getContent()),c=K.getAnchorElement(a),n.text=d=K.getAnchorText(a.selection,c),n.href=c?p.getAttrib(c,"href"):"",c?n.target=p.getAttrib(c,"target"):r.hasDefaultLinkTarget(a.settings)&&(n.target=r.getDefaultLinkTarget(a.settings)),(m=p.getAttrib(c,"rel"))&&(n.rel=m),(m=p.getAttrib(c,"class"))&&(n["class"]=m),(m=p.getAttrib(c,"title"))&&(n.title=m),f&&(g={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){n.text=this.value()}}),b&&(h={type:"listbox",label:"Link list",values:P(b,function(b){b.value=a.convertURL(b.value||b.url,"href")},[{text:"None",value:""}]),onselect:q,value:a.convertURL(n.href,"href"),onPostRender:function(){h=this}}),r.shouldShowTargetList(a.settings)&&(void 0===r.getTargetList(a.settings)&&r.setTargetList(a,[{text:"None",value:""},{text:"New window",value:"_blank"}]),j={name:"target",type:"listbox",label:"Target",values:P(r.getTargetList(a.settings))}),r.hasRelList(a.settings)&&(i={name:"rel",type:"listbox",label:"Rel",values:P(r.getRelList(a.settings),function(b){r.allowUnsafeLinkTarget(a.settings)===!1&&(b.value=K.toggleTargetRules(b.value,"_blank"===n.target))})}),r.hasLinkClassList(a.settings)&&(k={name:"class",type:"listbox",label:"Class",values:P(r.getLinkClassList(a.settings),function(b){b.value&&(b.textStyle=function(){return a.formatter.getCssText({inline:"a",classes:[b.value]})})})}),r.shouldShowLinkTitle(a.settings)&&(l={name:"title",type:"textbox",label:"Title",value:n.title}),e=a.windowManager.open({title:"Insert link",data:n,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:u,onkeyup:t,onpaste:t,onbeforecall:v},g,l,s(n.href),h,i,j,k],onSubmit:function(b){var c=r.assumeExternalTargets(a.settings),e=K.link(a,N),g=K.unlink(a),h=x.extend({},n,b.data),i=h.href;return i?(f&&h.text!==d||delete h.text,i.indexOf("@")>0&&i.indexOf("//")===-1&&i.indexOf("mailto:")===-1?void Q(a,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(a){a&&(h.href="mailto:"+i),e(h)}):c===!0&&!/^\w+:/i.test(i)||c===!1&&/^\s*www[\.|\d\.]/i.test(i)?void Q(a,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(a){a&&(h.href="http://"+i),e(h)}):void e(h)):void g()}})},S=function(a){O(a,R)},T={open:S},U=function(a,b){return a.dom.getParent(b,"a[href]")},V=function(a){return U(a,a.selection.getStart())},W=function(a){var b=a.getAttribute("data-mce-href");return b?b:a.getAttribute("href")},X=function(a){var b=a.plugins.contextmenu;return!!b&&b.isContextMenuVisible()},Y=function(a){return a.altKey===!0&&a.shiftKey===!1&&a.ctrlKey===!1&&a.metaKey===!1},Z=function(a,b){if(b){var c=W(b);if(/^#/.test(c)){var d=a.$(c);d.length&&a.selection.scrollIntoView(d[0],!0)}else w.open(b.href)}},$=function(a){return function(){T.open(a)}},_=function(a){return function(){Z(a,V(a))}},aa=function(a){return function(b){var c,d,e;return!!(r.hasContextToolbar(a.settings)&&!X(a)&&K.isLink(b)&&(c=a.selection,d=c.getRng(),e=d.startContainer,3===e.nodeType&&c.isCollapsed()&&d.startOffset>0&&d.startOffset<e.data.length))}},ba=function(a){a.on("click",function(b){var d=U(a,b.target);d&&c.metaKeyPressed(b)&&(b.preventDefault(),Z(a,d))}),a.on("keydown",function(b){var c=V(a);c&&13===b.keyCode&&Y(b)&&(b.preventDefault(),Z(a,c))})},ca=function(a){return function(){var b=this;a.on("nodechange",function(c){b.active(!a.readonly&&!!K.getAnchorElement(a,c.element))})}},da=function(a){return function(){var b=this,c=function(a){K.hasLinks(a.parents)?b.show():b.hide()};K.hasLinks(a.dom.getParents(a.selection.getStart()))||b.hide(),a.on("nodechange",c),b.on("remove",function(){a.off("nodechange",c)})}},ea={openDialog:$,gotoSelectedLink:_,leftClickedOnAHref:aa,setupGotoLinks:ba,toggleActiveState:ca,toggleViewLinkState:da},fa=function(a){a.addCommand("mceLink",ea.openDialog(a))},ga={register:fa},ha=function(a){a.addShortcut("Meta+K","",ea.openDialog(a))},ia={setup:ha},ja=function(a){a.addButton("link",{active:!1,icon:"link",tooltip:"Insert/edit link",onclick:ea.openDialog(a),onpostrender:ea.toggleActiveState(a)}),a.addButton("unlink",{active:!1,icon:"unlink",tooltip:"Remove link",onclick:K.unlink(a),onpostrender:ea.toggleActiveState(a)}),a.addContextToolbar&&a.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:ea.gotoSelectedLink(a)})},ka=function(a){a.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:ea.gotoSelectedLink(a),onPostRender:ea.toggleViewLinkState(a),prependToContext:!0}),a.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:ea.openDialog(a),stateSelector:"a[href]",context:"insert",prependToContext:!0}),a.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onclick:K.unlink(a),stateSelector:"a[href]"})},la=function(a){a.addContextToolbar&&a.addContextToolbar(ea.leftClickedOnAHref(a),"openlink | link unlink")},ma={setupButtons:ja,setupMenuItems:ka,setupContextToolbars:la};return b.add("link",function(a){ma.setupButtons(a),ma.setupMenuItems(a),ma.setupContextToolbars(a),ea.setupGotoLinks(a),ga.register(a),ia.setup(a)}),a})()}(),define("tinymce.link",["tinymce"],function(a){return function(){var b;return b||a.link}}(this)),function(){(function(){"use strict";function a(){}var b=function(a){var c=a,d=function(){return c},e=function(a){c=a},f=function(){return b(d())};return{get:d,set:e,clone:f}},c=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=tinymce.util.Tools.resolve("tinymce.Env"),e=tinymce.util.Tools.resolve("tinymce.util.Delay"),f=function(a){return parseInt(a.getParam("autoresize_min_height",a.getElement().offsetHeight),10)},g=function(){}