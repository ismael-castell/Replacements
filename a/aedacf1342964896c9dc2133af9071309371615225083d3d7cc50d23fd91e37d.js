"use strict";(self.webpackChunkgeekui2=self.webpackChunkgeekui2||[]).push([[179],{89468:(c1,A,i)=>{i.d(A,{s:()=>x});var a=i(28917),m=i(54004),_=i(33148),H=i(87978),n=i(35122),g=i(5e3);let x=(()=>{class V{constructor(w,I,P){this.dfpService=w,this.accountService=I,this.adblockService=P,this.adInitialized=!1}ngOnInit(){var w;this.visible$=null!==(w=this.visible$)&&void 0!==w?w:this.adblockService.isBlocked$(this.blockName).pipe((0,m.U)(I=>!I)),this.elementId=(0,a.Z)(this.slotName+"_")}ngAfterViewInit(){this.initAd()}initAd(){this.adInitialized=!0,this.accountService.accountLoaded$.subscribe(()=>setTimeout(()=>this.dfpService.initAd(this.slotName,this.elementId,this.overridePathName),0))}ngOnDestroy(){this.adInitialized&&this.dfpService.destroyAd(this.elementId)}}return V.\u0275fac=function(w){return new(w||V)(g.Y36(_.D),g.Y36(H.k),g.Y36(n.s))},V.\u0275cmp=g.Xpm({type:V,selectors:[["ng-component"]],decls:0,vars:0,template:function(w,I){},encapsulation:2}),V})()},44487:(c1,A,i)=>{i.d(A,{K:()=>y});var a=i(65620),m=i(84936),_=i(38408),H=i(22259),n=i(5e3),g=i(69808);let x=(()=>{class w{constructor(P,j){this.document=P,this.platformId=j,this.documentIsAccessible=(0,g.NF)(this.platformId)}static getCookieRegExp(P){const j=P.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+j+"|;\\s*"+j+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(P){try{return decodeURIComponent(P)}catch(j){return P}}check(P){return!!this.documentIsAccessible&&(P=encodeURIComponent(P),w.getCookieRegExp(P).test(this.document.cookie))}get(P){if(this.documentIsAccessible&&this.check(P)){P=encodeURIComponent(P);const k=w.getCookieRegExp(P).exec(this.document.cookie);return k[1]?w.safeDecodeURIComponent(k[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const P={},j=this.document;return j.cookie&&""!==j.cookie&&j.cookie.split(";").forEach(k=>{const[X,$]=k.split("=");P[w.safeDecodeURIComponent(X.replace(/^ /,""))]=w.safeDecodeURIComponent($)}),P}set(P,j,k,X,$,G,x1){if(!this.documentIsAccessible)return;if("number"==typeof k||k instanceof Date||X||$||G||x1)return void this.set(P,j,{expires:k,path:X,domain:$,secure:G,sameSite:x1||"Lax"});let A1=encodeURIComponent(P)+"="+encodeURIComponent(j)+";";const H1=k||{};H1.expires&&(A1+="number"==typeof H1.expires?"expires="+new Date((new Date).getTime()+1e3*H1.expires*60*60*24).toUTCString()+";":"expires="+H1.expires.toUTCString()+";"),H1.path&&(A1+="path="+H1.path+";"),H1.domain&&(A1+="domain="+H1.domain+";"),!1===H1.secure&&"None"===H1.sameSite&&(H1.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${P} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),H1.secure&&(A1+="secure;"),H1.sameSite||(H1.sameSite="Lax"),A1+="sameSite="+H1.sameSite+";",this.document.cookie=A1}delete(P,j,k,X,$="Lax"){if(!this.documentIsAccessible)return;const G=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(P,"",{expires:G,path:j,domain:k,secure:X,sameSite:$})}deleteAll(P,j,k,X="Lax"){if(!this.documentIsAccessible)return;const $=this.getAll();for(const G in $)$.hasOwnProperty(G)&&this.delete(G,P,j,k,X)}}return w.\u0275fac=function(P){return new(P||w)(n.LFG(g.K0),n.LFG(n.Lbi))},w.\u0275prov=n.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),V=(()=>{class w{}return w.\u0275fac=function(P){return new(P||w)},w.\u0275mod=n.oAB({type:w}),w.\u0275inj=n.cJS({providers:[x],imports:[[_.m]]}),w})(),y=(()=>{class w{}return w.\u0275fac=function(P){return new(P||w)},w.\u0275mod=n.oAB({type:w}),w.\u0275inj=n.cJS({imports:[[_.m,a.Aw.forFeature("dfpAd",H.l),V,m.Yn],V]}),w})()},33148:(c1,A,i)=>{i.d(A,{D:()=>e1});var a=i(42777),m=i(65620),_=i(71412),H=i(61135),n=i(39841),g=i(17445),x=i(39300),V=i(54004),y=i(50590),w=i(82722),I=i(63900),P=i(28318),j=i(64666),k=i(5e3);const X=new k.OlP("googletag",{factory:()=>googletag});var $=i(22259);const G={"dfp-skyscraper":{sizeMapping:[[[1e3,200],[160,600]],[[0,0],[]]],sizeForPath:[160,600],defaultNameForPath:"skyscraper_160x600"},"dfp-medrect":{sizeMapping:[[[0,0],[300,250]]],sizeForPath:[300,250],defaultNameForPath:"rectangle_300x250"},"dfp-leaderboard":{sizeMapping:[[[768,200],[728,90]],[[320,400],[320,50]],[[0,0],[]]],sizeForPath:[728,90],defaultNameForPath:"leaderboard_728x90"},"dfp-inline-post":{sizeMapping:[[[768,400],[728,90]],[[320,400],[300,250]],[[0,0],[]]],sizeForPath:[728,90],defaultNameForPath:"inline_post"},"dfp-home-leaderboard":{sizeMapping:[[[1230,400],[1200,125]],[[768,400],[728,90]],[[320,400],[300,250]],[[0,0],[]]],sizeForPath:[1200,125],defaultNameForPath:"home_repeater"},"dfp-leaderboard-lg":{sizeMapping:[[[1230,400],[1200,125]],[[768,400],[728,125]],[[320,400],[320,125]],[[0,0],[]]],sizeForPath:[1200,125],defaultNameForPath:"home_hero"}};var x1=i(2572),A1=i(81379);let H1=(()=>{class Q{constructor(){this.getScrollbarOffset=(0,x1.Z)(()=>{const z1=document.createElement("div");z1.style.visibility="hidden",z1.style.overflow="scroll",document.body.appendChild(z1);const b1=document.createElement("div");z1.appendChild(b1);const O1=z1.offsetWidth-b1.offsetWidth;return z1.parentNode.removeChild(z1),O1})}adjustWidth(z1){return Math.max(0,z1-this.getScrollbarOffset())}adjustSizeMapping(z1){return[[this.adjustWidth(z1[0][0]),z1[0][1]],z1[1]]}adjustSlotSize(z1){return Object.assign(Object.assign({},z1),{sizeMapping:z1.sizeMapping.map(b1=>this.adjustSizeMapping(b1))})}adjustSlotSizes(z1){return(0,A1.Z)(z1,b1=>this.adjustSlotSize(b1))}}return Q.\u0275fac=function(z1){return new(z1||Q)},Q.\u0275prov=k.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})(),e1=(()=>{class Q{constructor(z1,b1,O1,_1,l1,L1){this.googletag=z1,this.geeksite=b1,this.adUnitRootPath="/1005854/ca-pub-7206761047394129/",this.slots={},this.initDfp(),this.slotSizes=L1.adjustSlotSizes(G);const n1=l1.pipe((0,m.Ys)($.v)),a1=O1.events.pipe((0,x.h)(f1=>f1 instanceof a.OD)),R=new H.X(!1);this.adsPermitted$=(0,n.a)([n1,R]).pipe((0,V.U)(([f1,o1])=>"show"===f1&&o1),(0,x.h)(f1=>f1),(0,y.P)(),(0,w.R)(a1)),_1.hasConsent("shopping").subscribe(f1=>{f1||this.googletag.cmd.push(()=>{this.googletag.pubads().setPrivacySettings({limitedAds:!0,restrictDataProcessing:!0})}),R.next(!0)}),(0,g.F)(2e3).pipe((0,y.P)(),(0,I.w)(()=>O1.events),(0,x.h)(f1=>f1 instanceof a.m2),(0,I.w)(()=>this.adsPermitted$)).subscribe(()=>this.refresh()),n1.pipe((0,x.h)(f1=>"block"===f1)).subscribe(()=>this.clear())}destroyAd(z1){this.googletag.cmd.push(()=>{var b1;const O1=null===(b1=this.slots[z1])||void 0===b1?void 0:b1.googleTagSlot;void 0!==O1&&this.googletag.destroySlots([O1]),delete this.slots[z1]})}initDfp(){this.googletag.cmd.push(()=>{this.googletag.pubads().enableSingleRequest(),this.googletag.pubads().collapseEmptyDivs(!0),this.googletag.pubads().disableInitialLoad()})}initAd(z1,b1,O1){if(this.slotInitialized(b1))return;this.slots[b1]={slotSize:this.slotSizes[z1]},O1&&(this.slots[b1].overrideNameForPath=O1);const _1=this.slots[b1];this.googletag.cmd.push(()=>{const l1=this.googletag.defineSlot(this.getAdUnitPath(_1),_1.slotSize.sizeForPath,b1).defineSizeMapping(_1.slotSize.sizeMapping).addService(this.googletag.pubads());this.slots[b1].googleTagSlot=l1,this.googletag.enableServices(),this.googletag.display(b1),this.adsPermitted$.subscribe(()=>this.refreshSlot(l1))})}slotInitialized(z1){return null!=this.slots[z1]}getAdUnitPath(z1){return`${this.adUnitRootPath}${this.geeksite}_${z1.overrideNameForPath?z1.overrideNameForPath:z1.slotSize.defaultNameForPath}`}clear(){this.googletag.cmd.push(()=>this.googletag.pubads().clear())}refresh(){const z1=(0,_.Z)(this.slots).map(b1=>b1.googleTagSlot).filter(b1=>null!=b1);z1.length>0&&this.googletag.cmd.push(()=>this.googletag.pubads().refresh(z1))}refreshSlot(z1){this.googletag.cmd.push(()=>this.googletag.pubads().refresh([z1]))}}return Q.\u0275fac=function(z1){return new(z1||Q)(k.LFG(X),k.LFG(j.e),k.LFG(a.F0),k.LFG(P.U),k.LFG(m.yh),k.LFG(H1))},Q.\u0275prov=k.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},28318:(c1,A,i)=>{i.d(A,{U:()=>n});var a=i(50457),m=i(83962),_=i(87978),H=i(5e3);let n=(()=>{class g{constructor(V,y){this.accountService=y,this.cookieconsent=V.geekCookieConsent}run(){this.accountService.currentAccount$.subscribe(V=>{V?this.cookieconsent.run(V.user.userid):this.cookieconsent.run()})}hasConsent(V){return(0,a.D)(this.cookieconsent.hasConsent(V))}readyToLog(){return(0,a.D)(this.cookieconsent.readyToLog())}showSettings(){this.cookieconsent.showSettings()}}return g.\u0275fac=function(V){return new(V||g)(H.LFG(m.l),H.LFG(_.k))},g.\u0275prov=H.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},96038:(c1,A,i)=>{i.d(A,{Z:()=>H});var a=i(64666),m=i(5e3),_=i(22313);let H=(()=>{class n{constructor(x,V,y){this.geeksite=x,this.titleService=V,this.metaService=y,this.domainNames={boardgame:"BoardGameGeek",rpg:"RPGGeek",videogame:"VideoGameGeek"}}setTitle(x){this.setTitleCustom(x+" | {DOMAIN}")}setTitleCustom(x){this.titleService.setTitle(x.replace("{DOMAIN}",this.domainNames[this.geeksite]))}setDescription(x){this.metaService.addTag({name:"description",content:x})}removeDescription(){this.metaService.removeTag('name="description"')}}return n.\u0275fac=function(x){return new(x||n)(m.LFG(a.e),m.LFG(_.Dx),m.LFG(_.h_))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},64666:(c1,A,i)=>{i.d(A,{e:()=>_});var a=i(5e3),m=i(49594);const _=new a.OlP("gg.geeksite",{factory:()=>(0,m.Z)(window.GEEK,"geeksite","boardgame")})},56545:(c1,A,i)=>{i.d(A,{z:()=>x,H:()=>g});var a=i(40520),m=i(5e3),_=i(49594);const H=new m.OlP("gg.api.prefix",{factory:()=>(0,_.Z)(window.GEEK,"apiurlsPrefix","https://api.geekdo.com")});var n=i(95740);const g=new a.Xk(()=>!1);let x=(()=>{class V{constructor(w){this.apiPrefix=w}intercept(w,I){if((0,n.Fj)(w.url)||w.context.get(g))return I.handle(w);const P=w.clone({url:this.apiPrefix+w.url});return I.handle(P)}}return V.\u0275fac=function(w){return new(w||V)(m.LFG(H))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})()},92511:(c1,A,i)=>{i.d(A,{$e:()=>G,j0:()=>$,tq:()=>x1});var a=i(40520),m=i(65620),_=i(62843),H=i(70262),n=i(18505),g=i(95577),x=i(54004),V=i(39300),y=i(63900),w=i(95698),I=i(90674),P=i(55805),j=i(95740),k=i(56545),X=i(5e3);const $=new a.Xk(()=>!1),G=new a.Xk(()=>!1);let x1=(()=>{class A1{constructor(e1){this.store=e1}intercept(e1,Q){return e1.context.get(G)||(0,j.Fj)(e1.url)||e1.context.get(k.H)?Q.handle(e1):"GET"!==e1.method&&"HEAD"!==e1.method||e1.context.get($)?this.tryAuthenticatedRequest(e1,Q):this.tryUnauthenticatedRequest(e1,Q)}tryUnauthenticatedRequest(e1,Q){return Q.handle(e1).pipe((0,H.K)(r1=>this.geekAuthRequested(r1)?this.tryAuthenticatedRequest(e1,Q,!1,r1):(0,_._)(()=>r1)))}tryAuthenticatedRequest(e1,Q,r1=!1,z1){return this.getAuthReq(e1).pipe((0,n.b)(b1=>{if(!b1.authToken&&null!=z1)throw z1}),(0,g.z)(b1=>Q.handle(b1.request).pipe((0,H.K)(O1=>!r1&&b1.authToken&&this.geekAuthRequested(O1)?(this.store.dispatch(P.e9.reload({oldToken:b1.authToken})),this.tryAuthenticatedRequest(e1,Q,!0)):(0,_._)(()=>O1)))))}getAuthReq(e1){return this.getAuthorizationToken().pipe((0,x.U)(Q=>{if(Q){const r1=e1.headers.get("Authorization");let z1="";return r1&&(z1=r1+", "),z1+="GeekAuth "+Q,{request:e1.clone({headers:e1.headers.set("Authorization",z1)}),authToken:Q}}return{request:e1}}))}getAuthorizationToken(){return this.store.pipe((0,m.Ys)(I.Pk),(0,V.h)(e1=>e1),(0,y.w)(()=>this.store.pipe((0,m.Ys)(I.bW))),(0,w.q)(1))}geekAuthRequested(e1){if(401!==e1.status)return!1;const Q=e1.headers.get("www-authenticate");return null!=Q&&-1!==Q.indexOf("GeekAuth")}}return A1.\u0275fac=function(e1){return new(e1||A1)(X.LFG(m.yh))},A1.\u0275prov=X.Yz7({token:A1,factory:A1.\u0275fac}),A1})()},65933:(c1,A,i)=>{i.d(A,{c:()=>m});const m=new(i(5e3).OlP)("gg.window.location",{factory:()=>window.location})},83962:(c1,A,i)=>{i.d(A,{l:()=>m});const m=new(i(5e3).OlP)("gg.window",{factory:()=>window})},73224:(c1,A,i)=>{i.d(A,{l:()=>_});var a=i(5e3),m=i(22290);let _=(()=>{class H{constructor(g){this.ts=g,this.DEFAULT_OVERRIDES={positionClass:"toast-top-center",closeButton:!0},this.error=this.getNotificationFunction(this.ts.error),this.warning=this.getNotificationFunction(this.ts.warning),this.info=this.getNotificationFunction(this.ts.info),this.success=this.getNotificationFunction(this.ts.success),this.apiError=x=>this.showApiNotice(x,this.error),this.apiSuccess=x=>this.showApiNotice(x,this.success),this.apiWarning=x=>this.showApiNotice(x,this.warning),this.apiInfo=x=>this.showApiNotice(x,this.info)}showApiNotice(g,x){let V,y;return g.detail?[V,y]=[g.title,g.detail]:y=g.title,x(y,V)}getNotificationFunction(g,x={}){return(V,y=null,w={})=>g.bind(this.ts)(V,y,Object.assign(Object.assign(Object.assign({},this.DEFAULT_OVERRIDES),x),w))}}return H.\u0275fac=function(g){return new(g||H)(a.LFG(m._W))},H.\u0275prov=a.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()},75455:(c1,A,i)=>{i.d(A,{j:()=>V});var a=i(39646),m=i(95577),_=i(54004),H=i(11365),n=i(63900),g=i(87978),x=i(5e3);let V=(()=>{class y{constructor(I){this.geekAccountService=I,this.combineLoggedIn=P=>P.pipe((0,m.z)(j=>this.geekAccountService.loggedIn$.pipe((0,_.U)(k=>[j,k])))),this.withLatestUserFlat=P=>P.pipe((0,H.M)(this.geekAccountService.currentLoggedInUser$,(j,k)=>Object.assign(Object.assign({},j),{user:k}))),this.withLatestUser=P=>P.pipe((0,H.M)(this.geekAccountService.currentLoggedInUser$)),this.combineLatestUserFlat=P=>P.pipe((0,m.z)(j=>this.geekAccountService.currentLoggedInUser$.pipe((0,_.U)(k=>Object.assign(Object.assign({},j),{user:k}))))),this.combineLatestUserOrNull=P=>P.pipe((0,m.z)(j=>this.geekAccountService.loggedIn$.pipe((0,n.w)(k=>k?this.geekAccountService.currentLoggedInUser$:(0,a.of)(null)),(0,_.U)(k=>({payload:j,user:k})))))}}return y.\u0275fac=function(I){return new(I||y)(x.LFG(g.k))},y.\u0275prov=x.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},19544:(c1,A,i)=>{i.d(A,{p:()=>X});var a=i(65620),m=i(98417),_=i(49594),H=i(74744),n=i(39646),g=i(63900),x=i(54004),V=i(22529),y=i(13103),w=i(71884),I=i(87978),P=i(90674),j=i(75266),k=i(5e3);let X=(()=>{class ${constructor(x1,A1){this.accountService=x1,this.store=A1}checkAccess(x1,A1,H1,e1=!1){return e1||null==x1?(0,n.of)(!0):this.accountService.loggedIn$.pipe((0,g.w)(Q=>Q?H1?this.accountService.currentUserid$.pipe((0,x.U)(r1=>r1===H1),(0,g.w)(r1=>r1?(0,n.of)(!0):this.checkAdminAccess(x1,A1))):this.checkAdminAccess(x1,A1):(0,n.of)(!1)))}checkAdminAccess(x1,A1){return this.getAccessList$(A1).pipe((0,x.U)(H1=>{if((0,m.Z)((0,H.Z)(H1,x1),{hasAccess:!0}))return{hasAccess:!0,complete:!0};const e1=x1.filter(r1=>{const z1=(0,_.Z)(H1,r1,null);return!z1||!z1.loaded}),Q=e1.filter(r1=>{const z1=(0,_.Z)(H1,r1,null);return!z1||!z1.loading});return Q.length&&this.store.dispatch(j.m.check({payload:null!=A1?{accessTypes:Q,accessItem:A1}:{accessTypes:Q}})),e1.length?{hasAccess:!1,complete:!1}:{hasAccess:!1,complete:!0}}),(0,V.o)(H1=>!H1.complete&&!H1.hasAccess,!0),(0,x.U)(H1=>H1.hasAccess),(0,y.Z)(),(0,w.x)())}getAccessList$(x1){return this.store.pipe((0,a.Ys)(null==x1?P.DU:P.aO(x1)))}}return $.\u0275fac=function(x1){return new(x1||$)(k.LFG(I.k),k.LFG(a.yh))},$.\u0275prov=k.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()},87978:(c1,A,i)=>{i.d(A,{k:()=>w});var a=i(65620),m=i(77579);class _ extends m.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(P){const{hasError:j,_hasValue:k,_value:X,thrownError:$,isStopped:G,_isComplete:x1}=this;j?P.error($):(G||x1)&&(k&&P.next(X),P.complete())}next(P){this.isStopped||(this._value=P,this._hasValue=!0)}complete(){const{_hasValue:P,_value:j,_isComplete:k}=this;k||(this._isComplete=!0,P&&super.next(j),super.complete())}}var H=i(39300),n=i(95698),g=i(13099),x=i(63900),V=i(90674),y=i(5e3);let w=(()=>{class I{constructor(j){this.store=j,this.initVars()}initVars(){this.accountLoaded$=this.store.pipe((0,a.Ys)(V.Rn),(0,H.h)(j=>j),(0,n.q)(1),(0,g.B)({connector:()=>new _,resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),this.userLoaded$=this.store.pipe((0,a.Ys)(V.NP),(0,H.h)(j=>j),(0,n.q)(1),(0,g.B)({connector:()=>new _,resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),this.loggedIn$=this.accountLoaded$.pipe((0,x.w)(()=>this.store.pipe((0,a.Ys)(V.v9))),(0,n.q)(1),(0,g.B)({connector:()=>new _,resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),this.currentUser$=this.userLoaded$.pipe((0,x.w)(()=>this.store.pipe((0,a.Ys)(V.ZW))),(0,n.q)(1),(0,g.B)({connector:()=>new _,resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),this.currentAccount$=this.userLoaded$.pipe((0,x.w)(()=>this.store.select(V.WX)),(0,n.q)(1),(0,g.B)({connector:()=>new _,resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),this.currentUserid$=this.accountLoaded$.pipe((0,x.w)(()=>this.store.pipe((0,a.Ys)(V.oH))),(0,n.q)(1),(0,g.B)({connector:()=>new _,resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),this.currentLoggedInUser$=this.currentUser$.pipe((0,H.h)(j=>!!j))}}return I.\u0275fac=function(j){return new(j||I)(y.LFG(a.yh))},I.\u0275prov=y.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},92339:(c1,A,i)=>{i.d(A,{G:()=>x});var a=i(61135),m=i(39841),_=i(63900),H=i(19544),n=i(82872),g=i(5e3);let x=(()=>{class V extends n.S{constructor(w,I,P,j){super(I,P,j),this.checkAccessService=w,this.accessUserid$=new a.X(null),this.accessTypes$=new a.X(null),this.accessItem$=new a.X(null),this.overrideShow$=new a.X(!1)}set ggIfAccessUserid(w){this.accessUserid$.next(w)}set accessTypes(w){this.accessTypes$.next(null==w?null:w)}set ggIfAccessItem(w){this.accessItem$.next(w)}set ggIfAccessOverrideShow(w){this.overrideShow$.next(w)}set ggIfAccessShowIf(w){!1===w&&(this.showIfCondition=!1)}ngOnInit(){const w=(0,m.a)([this.accessTypes$,this.accessItem$,this.accessUserid$,this.overrideShow$]).pipe((0,_.w)(([I,P,j,k])=>this.checkAccessService.checkAccess(I,P,j,k))).subscribe(this.renderOrHideContent);this.subscriptions.push(w)}}return V.\u0275fac=function(w){return new(w||V)(g.Y36(H.p),g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.sBO))},V.\u0275dir=g.lG2({type:V,selectors:[["","ggIfAccess",""]],inputs:{ggIfAccessUserid:"ggIfAccessUserid",accessTypes:["ggIfAccess","accessTypes"],ggIfAccessItem:"ggIfAccessItem",ggIfAccessOverrideShow:"ggIfAccessOverrideShow",ggIfAccessShowIf:"ggIfAccessShowIf"},features:[g.qOj]}),V})()},62512:(c1,A,i)=>{i.d(A,{Z:()=>H});var a=i(87978),m=i(82872),_=i(5e3);let H=(()=>{class n extends m.S{constructor(x,V,y,w){super(V,y,w),this.geekAccountService=x}set ggIfLoggedIn(x){!1===x&&(this.showIfCondition=!1);const V=this.geekAccountService.loggedIn$.subscribe(this.renderOrHideContent);this.subscriptions.push(V)}}return n.\u0275fac=function(x){return new(x||n)(_.Y36(a.k),_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.sBO))},n.\u0275dir=_.lG2({type:n,selectors:[["","ggIfLoggedIn",""]],inputs:{ggIfLoggedIn:"ggIfLoggedIn"},features:[_.qOj]}),n})()},20789:(c1,A,i)=>{i.d(A,{w:()=>_});var a=i(57053),m=i(5e3);let _=(()=>{class H{constructor(g){this.loginService=g}onClick(){this.loginService.showLoginModal()}}return H.\u0275fac=function(g){return new(g||H)(m.Y36(a.r))},H.\u0275dir=m.lG2({type:H,selectors:[["","ggLoginButton",""]],hostBindings:function(g,x){1&g&&m.NdJ("click",function(){return x.onClick()})}}),H})()},44721:(c1,A,i)=>{i.d(A,{y:()=>_});var a=i(38408),m=i(5e3);let _=(()=>{class H{}return H.\u0275fac=function(g){return new(g||H)},H.\u0275mod=m.oAB({type:H}),H.\u0275inj=m.cJS({imports:[[a.m]]}),H})()},77292:(c1,A,i)=>{i.d(A,{$:()=>j});var a=i(5e3),m=i(50727),_=i(39646),H=i(70262),n=i(64370),g=i(93075),x=i(69808),V=i(42777);const y=["passwordEl"];function w(k,X){if(1&k&&(a.TgZ(0,"p",17),a._uU(1),a.qZA()),2&k){const $=a.oxw();a.xp6(1),a.hij(" ",null==$.loginForm.errors?null:$.loginForm.errors.loginFailed," ")}}const I=function(){return{redirect_server:"1"}},P=function(){return{}};let j=(()=>{class k{constructor($,G){this.accountService=$,this.fb=G,this.errorMessage="",this.redirect="none",this.cancel=new a.vpe,this.loginSuccess=new a.vpe,this.subSink=new m.w0,this.passwordValidator=()=>this.errorMessage?{loginFailed:this.errorMessage}:null,this.createForm()}ngOnDestroy(){this.subSink.unsubscribe()}createForm(){this.loginForm=this.fb.group({username:"",password:""},{validators:this.passwordValidator})}attemptLogin(){this.errorMessage="",this.loginForm.updateValueAndValidity(),this.loginForm.disable();const $=this.accountService.attemptLogin({username:this.loginForm.value.username,password:this.passwordEl.nativeElement.value}).pipe((0,H.K)(G=>(0,_.of)({loginSuccessful:!1,message:G.title}))).subscribe(G=>{G.loginSuccessful?this.loginSuccess.emit():(this.errorMessage=G.message?G.message:"",this.loginForm.updateValueAndValidity(),this.loginForm.enable())});this.subSink.add($)}}return k.\u0275fac=function($){return new($||k)(a.Y36(n.c),a.Y36(g.qu))},k.\u0275cmp=a.Xpm({type:k,selectors:[["gg-login-form"]],viewQuery:function($,G){if(1&$&&a.Gf(y,5),2&$){let x1;a.iGM(x1=a.CRH())&&(G.passwordEl=x1.first)}},inputs:{redirect:"redirect"},outputs:{cancel:"cancel",loginSuccess:"loginSuccess"},decls:30,vars:6,consts:[["name","loginform",3,"formGroup"],[3,"disabled"],[1,"form-group","form-group-condensed"],["for","inputUsername",1,"sr-only"],["type","text","id","inputUsername","name","username","formControlName","username","placeholder","Username","autofocus","",1,"form-control","form-control-lg"],["for","inputPassword",1,"sr-only"],["type","password","id","inputPassword","name","password","formControlName","password","placeholder","Password",1,"form-control","form-control-lg"],["passwordEl",""],["class","tw-mt-2 tw-text-sm tw-text-red","role","alert",4,"ngIf"],[1,"tw-mt-3","tw-mb-2","tw-text-sm"],["href","/geekaccount/forgotusername"],["href","/geekaccount/forgotpassword"],[1,"tw-mb-0","tw-text-sm"],["routerLink","/join",3,"queryParams"],[1,"tw-mt-4","tw-flex","tw-gap-2","tw-border-t","tw-border-gray-400","tw-pt-4"],["type","submit",1,"btn","btn-lg","btn-primary",3,"click"],["type","button",1,"btn","btn-lg","btn-outline-secondary",3,"click"],["role","alert",1,"tw-mt-2","tw-text-sm","tw-text-red"]],template:function($,G){1&$&&(a.TgZ(0,"form",0)(1,"fieldset",1)(2,"div",2)(3,"label",3),a._uU(4,"Username"),a.qZA(),a._UZ(5,"input",4),a.qZA(),a.TgZ(6,"div",2)(7,"label",5),a._uU(8,"Password"),a.qZA(),a._UZ(9,"input",6,7),a.YNc(11,w,2,1,"p",8),a.qZA(),a.TgZ(12,"p",9),a._uU(13," Forgot "),a.TgZ(14,"a",10),a._uU(15,"username"),a.qZA(),a._uU(16," or "),a.TgZ(17,"a",11),a._uU(18,"password"),a.qZA(),a._uU(19,"? "),a.qZA(),a.TgZ(20,"p",12),a._uU(21," Don't have an account? "),a.TgZ(22,"a",13),a._uU(23,"Sign up"),a.qZA(),a._uU(24,", it's quick and free! "),a.qZA(),a.TgZ(25,"div",14)(26,"button",15),a.NdJ("click",function(){return G.attemptLogin()}),a._uU(27," Sign In "),a.qZA(),a.TgZ(28,"button",16),a.NdJ("click",function(){return G.cancel.emit()}),a._uU(29," Cancel "),a.qZA()()()()),2&$&&(a.Q6J("formGroup",G.loginForm),a.xp6(1),a.Q6J("disabled",G.loginForm.disabled),a.xp6(10),a.Q6J("ngIf",null==G.loginForm.errors?null:G.loginForm.errors.loginFailed),a.xp6(11),a.Q6J("queryParams","server"===G.redirect?a.DdM(4,I):a.DdM(5,P)))},directives:[g._Y,g.JL,g.sg,g.Fj,g.JJ,g.u,x.O5,V.yS],encapsulation:2}),k})()},84468:(c1,A,i)=>{i.d(A,{r:()=>n});var a=i(69808),m=i(93075),_=i(42777),H=i(5e3);let n=(()=>{class g{}return g.\u0275fac=function(V){return new(V||g)},g.\u0275mod=H.oAB({type:g}),g.\u0275inj=H.cJS({imports:[[a.ez,m.UX,_.Bz.forChild([])]]}),g})()},17497:(c1,A,i)=>{i.d(A,{X:()=>w});var a=i(42777),m=i(50727),_=i(39300),H=i(50590),n=i(65933),g=i(93475),x=i(5e3),V=i(21692);const y=["passwordEl"];let w=(()=>{class I{constructor(j,k,X,$){this.activeModal=j,this.router=k,this.previousUrlService=X,this.windowLocation=$,this.errorMessage="",this.redirect="none",this.subSink=new m.w0}ngOnDestroy(){this.subSink.unsubscribe()}ngOnInit(){this.subSink.add(this.router.events.pipe((0,_.h)(j=>j instanceof a.OD),(0,H.P)()).subscribe(()=>this.activeModal.close()))}cancel(){this.activeModal.dismiss()}loginSuccess(){if("client"===this.redirect)return void this.previousUrlService.navigateToPrevious(!0);const j=this.windowLocation.href;this.windowLocation.href="/join"===j?"/":j}}return I.\u0275fac=function(j){return new(j||I)(x.Y36(V.Kz),x.Y36(a.F0),x.Y36(g.F),x.Y36(n.c))},I.\u0275cmp=x.Xpm({type:I,selectors:[["gg-login-modal"]],viewQuery:function(j,k){if(1&j&&x.Gf(y,5),2&j){let X;x.iGM(X=x.CRH())&&(k.passwordEl=X.first)}},decls:7,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","tw-block",3,"redirect","cancel","loginSuccess"]],template:function(j,k){1&j&&(x.TgZ(0,"div",0)(1,"h4",1),x._uU(2,"Sign in"),x.qZA(),x.TgZ(3,"button",2),x.NdJ("click",function(){return k.cancel()}),x.TgZ(4,"span",3),x._uU(5,"\xd7"),x.qZA()()(),x.TgZ(6,"gg-login-form",4),x.NdJ("cancel",function(){return k.cancel()})("loginSuccess",function(){return k.loginSuccess()}),x.qZA()),2&j&&(x.xp6(6),x.Q6J("redirect",k.redirect))},encapsulation:2}),I})()},57053:(c1,A,i)=>{i.d(A,{r:()=>I});var a=i(39646),m=i(11848),_=i(50457),H=i(18505),n=i(63900),g=i(54004),x=i(87978),V=i(17497),y=i(5e3),w=i(21692);let I=(()=>{class P{constructor(k,X){this.geekAccountService=k,this.modalService=X,this.loginOrContinue$=this.geekAccountService.loggedIn$.pipe((0,H.b)($=>{$||this.showLoginModal()}),(0,n.w)($=>$?(0,a.of)(null):m.C))}loginOrError(k){return this.geekAccountService.loggedIn$.pipe((0,n.w)(X=>X?(0,a.of)(!0):this.showLoginModal(k).pipe((0,g.U)(()=>!1))),(0,n.w)(X=>X?(0,a.of)(null):m.C))}showLoginModal(k="none",X={}){const $=this.modalService.open(V.X,X);return $.componentInstance.redirect=k,(0,_.D)($.result)}}return P.\u0275fac=function(k){return new(k||P)(y.LFG(x.k),y.LFG(w.FF))},P.\u0275prov=y.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},35122:(c1,A,i)=>{i.d(A,{s:()=>w});var a=i(62331),m=i(39646),_=i(54004),H=i(18505),n=i(68675),g=i(7040),x=i(87978),V=i(5e3),y=i(51928);let w=(()=>{class I{constructor(j,k){this.accountService=j,this.storage=k,this.logInfoKey="adblockSettings",this.adblockLoaded=!1}isBlocked$(j){return this.adblockLoaded?(0,m.of)(this.getAdblockValue(this.adblock,j)):this.accountService.currentAccount$.pipe((0,_.U)(k=>null!=k&&this.userAdblockValid(k)?k.adblock:null),(0,H.b)(k=>this.storeAdblock(k)),(0,n.O)(this.getAdBlockFromStorage()),(0,_.U)(k=>this.getAdblockValue(k,j)))}getAdblockValue(j,k){return null!=j&&("any"===k||j[k])}storeAdblock(j){this.adblockLoaded||(this.adblock=j,this.adblockLoaded=!0,this.storage.setItem(this.logInfoKey,JSON.stringify(j)))}getAdBlockFromStorage(){const j=this.storage.getItem(this.logInfoKey);return j?JSON.parse(j):null}userAdblockValid(j){if(!j||!j.adblockExpiration||!j.adblock)return!1;const k=(0,g.s)(j.adblockExpiration);return(0,a.Z)(k)}}return I.\u0275fac=function(j){return new(j||I)(V.LFG(x.k),V.LFG(y.n))},I.\u0275prov=V.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},92925:(c1,A,i)=>{i.d(A,{c:()=>H});var a=i(5e3),m=i(69808);function _(n,g){if(1&n){const x=a.EpF();a.TgZ(0,"img",1),a.NdJ("load",function(){return a.CHM(x),a.oxw().transitioning=!1}),a.qZA()}if(2&n){const x=a.oxw();a.Udp("display",x.inlineBlock?"inline-block":"inherit"),a.Q6J("src",x.image.src,a.LSH)("srcset",x.srcset,a.LSH)("ngClass",x.classes)("alt",x.alt)("sizes",x.sizes),a.uIk("title",x.title)("height",x.height)("width",x.width)}}let H=(()=>{class n{constructor(){this.inlineBlock=!1,this.alt="",this.title=null,this.sizes="",this._classes=[],this.transitioning=!1,this.srcset=""}set classes(x){this._classes=Array.isArray(x)?x:x.trim().split(" ")}get classes(){return this.transitioning?this._classes.concat("transitioning"):this._classes}ngOnChanges(x){x.image&&(x.image.firstChange||(this.transitioning=!0),this.setSrcSet())}setSrcSet(){this.image&&this.image["src@2x"]&&(this.sizes&&this.width?this.setSrcSetByWidth(this.image,this.width):this.setSrcSetByx(this.image))}setSrcSetByx(x){this.srcset=x.src+" 1x, "+x["src@2x"]+" 2x"}setSrcSetByWidth(x,V){this.srcset=x.src+" "+V+"w, "+x["src@2x"]+" "+2*V+"w"}}return n.\u0275fac=function(x){return new(x||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["gg-image"]],inputs:{inlineBlock:"inlineBlock",alt:"alt",title:"title",image:"image",sizes:"sizes",classes:"classes",height:"height",width:"width"},features:[a.TTD],decls:1,vars:1,consts:[["class","img-fluid","loading","lazy",3,"display","src","srcset","ngClass","alt","sizes","load",4,"ngIf"],["loading","lazy",1,"img-fluid",3,"src","srcset","ngClass","alt","sizes","load"]],template:function(x,V){1&x&&a.YNc(0,_,1,10,"img",0),2&x&&a.Q6J("ngIf",V.image)},directives:[m.O5,m.mk],styles:[".markup-centered[_nghost-%COMP%]   img[_ngcontent-%COMP%], .markup-centered   [_nghost-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto}img.transitionable[_ngcontent-%COMP%]{transition-property:opacity,-webkit-filter;transition-property:opacity,filter;transition-property:opacity,filter,-webkit-filter;transition-duration:.15s;transition-timing-function:ease-in-out;opacity:1}img.transitionable.transitioning[_ngcontent-%COMP%]{opacity:0}"],changeDetection:0}),n})()},3832:(c1,A,i)=>{i.d(A,{$:()=>e1});var a=i(42777),m=i(82682),_=i(65620),H=i(38408),n=i(36686),g=i(39646),x=i(56451),V=i(54004),y=i(39300),w=i(95577),I=i(70262),P=i(63900),j=i(18505),k=i(65933),X=i(8110),$=i(20532),G=i(61291),x1=i(5e3),A1=i(73224);let H1=(()=>{class Q{constructor(z1,b1,O1,_1,l1){this.actions$=z1,this.imagesService=b1,this.notifierService=O1,this.store=_1,this.windowLocation=l1,this.load$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(G.VX),(0,V.U)(L1=>L1.payload),(0,X.t)(L1=>this.store.select(n.Ng(L1))),(0,y.h)(([L1,n1])=>!n1||!n1.loaded&&!n1.loading),(0,V.U)(([L1,n1])=>L1),(0,w.z)(L1=>{const n1=(0,g.of)(new G.BF(L1)),a1=this.imagesService.getImage(L1).pipe((0,V.U)(R=>new G.Xt(R)),(0,I.K)(R=>(0,g.of)(new G.YV(L1))));return(0,x.T)(n1,a1)}))),this.loadGalleries$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(G.OP),(0,V.U)(L1=>L1.payload),(0,P.w)(L1=>this.imagesService.getImageGalleries(L1)),(0,V.U)(L1=>new G.BQ(L1)),(0,I.K)(