function SurveyManager(a){function b(){for(var a=0;a<Q.length;a++){var b=Q[a];try{i(b.e,b.ev,b.cb)}catch(c){}}Q=[]}function c(){this.dispose();for(var a=0;a<R.length;a++)try{R[a].innerHTML="";R[a].parentNode&&R[a].parentNode.removeChild(R[a])}catch(b){}R=[]}function d(){if(N.childNodes)for(var a=0;a<N.childNodes.length;a++)N.removeChild(N.childNodes[a]);N.className=V.info;N.style.display="none"}function e(b){u(b||a.successText,V.success)}function f(b){u(b||a.errorText,V.error)}function g(){var b,c=S.validateSurvey(!0);if(c.surveyValid){d();b=S.getJSONSurvey();if(a.callback&&"function"==typeof a.callback)try{a.callback(b)}catch(e){}}else{t(c.questionsNeeded);f()}return b}function h(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c);Q.push({e:a,ev:b,cb:c})}function i(a,b,c){a.addEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function j(a,b){var c=document.getElementById(a);if(c&&k(b,c.className)){for(var d=c.className.split(" "),e="",f=0;f<d.length;f++){d[f]=d[f].replace(/^[\s*\n*\r*\t\*]$[\s*\n*\r*\t\*]/g,"");if(d[f]!=b&&d){f>0&&(e+=" ");e+=d[f]}}c.className=e}}function k(a,b){var c=b.split(" "),d=!1;a=a.replace(/^[\s*\n*\r*\t\*]$[\s*\n*\r*\t\*]/g,"");for(var e=0;e<c.length;e++)d||a!=c[e]||(d=!0);return d}function l(a){for(var b=0;b<a.length;b++)m(a[b])}function m(a){var b=document.getElementById(T.question+a);b&&(b.style.display="block")}function n(a){for(var b=0;b<a.length;b++)m(a[b].id)}function o(a){for(var b=0;b<a.length;b++)p(a[b].id)}function p(a){var b=document.getElementById(T.question+a);b&&(b.style.display="none")}function q(a){return a+Math.floor(1e4*Math.random())+"_"+Math.floor(1e4*Math.random())}function r(a,b){S.submitTextAnswer(b,a.value);j(T.question+b,U)}function s(a,b){var c=S.submitAnswerGetNextQuestions(a,b);c.questionsToShow&&n(c.questionsToShow);c.questionIdsToHide&&o(c.questionIdsToHide);j(T.question+a,U)}function t(a){for(var b=0;b<a.length;b++){var c=document.getElementById(T.question+a[b].id),d=c.className;k(U,d)||(c.className+=" "+U)}}function u(a,b){N.className=V.info+" "+b;if(N.childNodes)for(var c=0;c<N.childNodes.length;c++)N.removeChild(N.childNodes[c]);N.appendChild(document.createTextNode(a));N.style.display="block";N.focus()}function v(){a.rootElem&&1!==a.rootElem.nodeType&&"string"==typeof a.rootElem&&(M=document.getElementById(a.rootElem));B(S.header);x();y(a.buttonText||"Submit",a.buttonContainer);A();l(S.getActiveQuestionsIds());setTimeout(w,100)}function w(){var a=S.getQuestionByIndex(0);if(a&&a.id){var b=document.getElementById(T.question+a.id);switch(a.type){case S.questionTypes.SELECT:b.getElementsByTagName("SELECT")[0].focus();break;case S.questionTypes.RADIOH:case S.questionTypes.RADIO:case S.questionTypes.CHECKBOX:case S.questionTypes.TEXTF:b.getElementsByTagName("INPUT")[0].focus();break;case S.questionTypes.TEXT:b.getElementsByTagName("TEXTAREA")[0].focus()}b=null}}function x(){N=M.querySelector("."+V.info);N.setAttribute("tabIndex",P);N.style.display="none"}function y(a,b){b&&1!==b&&"string"==typeof b&&(b=document.getElementById(b));var c=b.getElementsByTagName("BUTTON")[0];c.setAttribute("tabIndex",z());c.innerHTML=a;h(c,"click",g);R.push(c)}function z(){var a=O;O+=1;return a}function A(){M.appendChild(W)}function B(a){if("undefined"!=typeof a){var b=M.getElementsByTagName("H2")[0];b.innerHTML=a}}function C(b){var c=document.createElement("SELECT");c.className="select-field";c.setAttribute("tabIndex",z());c.setAttribute("aria-labelledby",T.label+b.id);if(b.mandatory){c.setAttribute("aria-required","true");c.setAttribute("required","true")}var d=[{value:a.defaultSelect||"pick one..."}];d=d.concat(b.entry);for(var e=0;e<d.length;e++){var f=d[e],g=document.createElement("OPTION");g.setAttribute("value",f.value);g.innerHTML=this.sanitizeText(f.value).text;(f.checked===!0||"true"==f.checked)&&g.setAttribute("selected","selected");c.appendChild(g)}h(c,"change",function(a){D(a,c,b.id)});return c}function D(a,b,c){var d=b.value;s(c,d)}function E(a,b){for(var c=0;c<a.entry.length;c++){var d=a.entry[c],e=document.createElement("div");e.className="radio-button";var f=q("rb"),g=document.createElement("input");g.setAttribute("type","radio");g.setAttribute("value",d.value);g.setAttribute("name",T.radioButton+a.id);g.setAttribute("id",f);g.setAttribute("aria-describedby",T.label+a.id);g.setAttribute("tabIndex",z());(d.checked===!0||"true"==d.checked)&&g.setAttribute("checked","checked");if(a.mandatory){g.setAttribute("aria-required","true");g.setAttribute("required","true")}e.appendChild(g);var i=document.createElement("LABEL");void 0!==d.displayValue?i.innerHTML=d.displayValue:i.innerHTML=this.sanitizeText(d.value).text;i.setAttribute("for",f);e.appendChild(i);b.appendChild(e)}h(b,"click",function(b){F(b,a.id)});return b}function F(a,b){a=a||event;var c,d=a.target||a.srcElement;d.value?c=d.value:"LABEL"===d.nodeName&&(c=document.getElementById(d.getAttribute("for")).value);c&&s(b,c)}function G(a){var b=document.createElement("TEXTAREA");b.className="textarea-field";b.setAttribute("tabIndex",z());b.setAttribute("aria-labelledby",T.label+a.id);if(a.mandatory){b.setAttribute("aria-required","true");b.setAttribute("required","true")}a.lastKnownValue&&(b.value=a.lastKnownValue);h(b,"keyup",function(){r(b,a.id)});return b}function H(a){var b=document.createElement("INPUT");b.className="input-field";b.setAttribute("tabIndex",z());b.setAttribute("aria-labelledby",T.label+a.id);if(a.mandatory){b.setAttribute("aria-required","true");b.setAttribute("required","true")}a.validationType===S.validationTypes.EMAIL?b.setAttribute("type","email"):b.setAttribute("type","text");a.lastKnownValue&&(b.value=a.lastKnownValue);h(b,"keyup",function(){r(b,a.id)});return b}function I(a,b){for(var c=0;c<a.entry.length;c++){var d=a.entry[c],e=document.createElement("div");e.className="checkbox-button";var f=q("cb"),g=document.createElement("input");g.setAttribute("type","checkbox");g.setAttribute("value",d.value);g.setAttribute("name",T.checkbox+a.id);g.setAttribute("id",f);g.setAttribute("aria-describedby",T.label+a.id);g.setAttribute("tabIndex",z());if(a.mandatory){g.setAttribute("aria-required","true");g.setAttribute("required","true")}(d.checked===!0||"true"==d.checked)&&g.setAttribute("checked","checked");e.appendChild(g);var i=document.createElement("LABEL");i.innerHTML=this.sanitizeText(d.value).text;i.setAttribute("for",f);e.appendChild(i);b.appendChild(e)}h(b,"click",function(b){J(a.id)});return b}function J(a){for(var b=[],c=document.getElementsByName(T.checkbox+a),d=0;d<c.length;d++)(c[d].checked||c[d].getAttribute("checked")===!0||"checked"==c[d].getAttribute("checked"))&&b.push(c[d].value);s(a,b)}function K(a){var b=document.createElement("DIV");b.style.display="none";b.className="lp_question";b.setAttribute("id",T.question+a.id);var c=document.createElement("LABEL");c.setAttribute("id",T.label+a.id);c.className="lp_question_label";c.appendChild(document.createTextNode(a.label));if(a.mandatory){var d=document.createElement("SPAN");d.innerHTML="*";d.className="mandatory";c.appendChild(d)}b.appendChild(c);R.push(b);return b}function L(a){for(var b=document.createDocumentFragment(),c=0;c<a.length;c++){var d=a[c],e=K(d);switch(d.type){case S.questionTypes.SELECT:e.appendChild(C(d));break;case S.questionTypes.CHECKBOX:I(d,e);break;case S.questionTypes.RADIO:case S.questionTypes.RADIOH:E(d,e);break;case S.questionTypes.TEXT:e.appendChild(G(d));break;case S.questionTypes.TEXTF:e.appendChild(H(d))}b.appendChild(e)}return b}if(this===window||!a||!a.rootElem||!a.survey)return!1;var M,N,O=a&&a.startTabIndex||500,P=z(),Q=[],R=[],S=new lpTag.taglets.SurveyLogic(a.survey),T={question:"q_",checkbox:"cb_",radioButton:"rb_",select:"sel_",textArea:"txar_",input:"txt_",label:"lbl_"},U="error",V={info:"lp_survey_info",error:"lp_error",success:"lp_success"},W=L(S.getAllQuestions());document&&"complete"===document.readyState?v():h(window,"load",v);return{validateSurvey:g,showErrorMessage:f,showSuccessMessage:e,hideMessage:d,dispose:b,clearSurveyDOM:c}}function _stateChanged(a){var b=this.getFirstElement(this.LPViewMap.confirmButton),c=a.newValue;c===lpTag.unifiedWindow.State.CONNECTION_ISSUE?b.setAttribute("disabled","disabled"):b.removeAttribute("disabled")}window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.log=lpTag.unifiedWindow.log||function(){function a(a){l=lpTag.taglets.lpUtil;r=l.cloneExtend(a.loggosLogging||{},r,!0);s="https://"+lpTag.csds.getDomain("loggos")+"/api/loggos/log/";var b=l.getURLParams(window.location.search),c=b.lpDebug;if(c){q.isEnabled=!0;f("2"===c&&"true"===b.debugLevel?"DEBUG":Object.keys(n).reduce(function(a,b){n[b]===+c&&(a=b);return a},p))}else if(a.debug){q.isEnabled=!0;f("INFO")}h()}function b(){var a=new Date;return a.getHours()+":"+(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes())+":"+(a.getSeconds()<10?"0"+a.getSeconds():a.getSeconds())}function c(a,b){j(a,"ERROR",b||m)}function d(a,b){j(a,"INFO",b||m)}function e(a,b){j(a,"DEBUG",b||m)}function f(a){n[a]&&(p=n[a])}function g(a){switch(a){case u.APP_STARTED:v=!0;break;case u.APP_ENDED:v=!1}}function h(){window.lpTaglogListeners=window.lpTaglogListeners||[];q.isEnabled&&window.lpTaglogListeners.push(function(a,c,d){window.console&&c&&n[c]<=p&&-1===l.indexOf(o,d)&&console.log(b()+" "+d+" : "+a+" LEVEL: "+c)});if(r.level>0){r.inSample=!r.samplingPercentage||1e3*r.samplingPercentage>(new Date).getMilliseconds()?!0:!1;if(r.inSample){window.lpTaglogListeners.push(function(a,b,c){b&&n[b]<=r.level&&v&&-1===l.indexOf(o,c)&&k(a,b,c)});i()}}}function i(){if(r.level>0&&r.queueSubmissionIntervalMilliseconds&&!isNaN(r.queueSubmissionIntervalMilliseconds)){var a=this,b=t.splice(0,r.queueSubmissionMaximum||t.length);if(b.length>0){var d=new XMLHttpRequest;d.open("POST",s,!0);d.setRequestHeader("Content-Type","application/json");d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status);else{t=t.concat(b);c("There was an error sending logs to Loggos: "+d.statusText,m)}setTimeout(function(){i.call(a)},r.queueSubmissionIntervalMilliseconds)}};d.send(JSON.stringify(b))}else setTimeout(function(){i.call(a)},r.queueSubmissionIntervalMilliseconds)}}function j(a,b,c){window.lpTag&&lpTag.log&&a&&lpTag.log(a,b,c||m)}function k(a,b,c){var d={accountId:lpTag.site,appVersion:lpTag.taglets.lpUnifiedWindow.v,context:"webMessaging",immediate:!0,logLevel:b,msg:b+" : "+c+" : "+a,time:(new Date).toISOString(),trace:!1,url:window.location.href};t.push(d)}var l,m="UnifiedWindowLogger",n={ERROR:1,INFO:2,DEBUG:3},o=["lp_SMT","lp_monitoringSDK","LP_OFFER"],p=n.ERROR,q={isEnabled:!1},r={level:0},s="",t=[],u={APP_STARTED:"appStarted",APP_ENDED:"appEnded"},v=!1;return{init:a,error:c,info:d,debug:e,setLogLevel:f,logLevels:n,events:u,triggerEvent:g,loggosLogging:r,loggosLogQueue:t}}();window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow=window.lpTag.unifiedWindow||{};lpTag.unifiedWindow.apps={AUTHENTICATION:"authenticationDelegate",STEP_UP:"stepUpManager",CHAT:"API",CHAT_STATE:"ChatStateManager",APPLICATION:"EmbeddedWindowApplication",HEARTBEAT:"HeartBeatManager",UISTATE:"UIStateManager",UNIFIED_WINDOW:"lpUnifiedWindow",SECURE_FORM:"leSecureForm",WINDOW_SDK:"windowSDK",COBROWSE:"cobrowse",RICH_CONTENT:"richContent",FILE_SHARE:"fileShare",QUICK_REPLIES:"quickReplies",MAVEN_PAY:"mavenPay",DATE_PICKER:"datePicker",SCHEDULE_LIST:"scheduleList"};window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow=window.lpTag.unifiedWindow||{};lpTag.unifiedWindow.events={chat:{ERROR:"error",INITIALIZED:"initialized",BLOD:"blueLightOfDeath(Ended)",CHATTING:"chatting",STATE:"state",CONVERSATION_STATE:"conversationState",DIALOG_STATE:"dialogState",CONVERSATION_CLOSED:"conversationClosed",CHAT_INFO:"chatInfo",USER_INFO:"userInfo",USER_LEFT:"userLeft",ENGAGEMENT_DATA:"engagementData",LINE:"line",COLLABORATION:"collaboration",SECURE_FORM:"leSecureForm",FINISHED_EVENTS_BULK:"finishEventsBulk",AGENT_TYPING:"agentIsTyping",AVAILABILITY:"availability",SURVEY_ERROR:"surveyError",EMAIL_TRANSCRIPT_SUCCESS:"emailTranscriptSuccess",EMAIL_TRANSCRIPT_ERROR:"emailTranscriptError",AUTHENTICATION_ERROR:"authenticationError",START_CHAT_INFO:"startChatInfo",TTR_INFO:"ttrInfo",CSAT_INFO:"csatInfo",BRAND_INFO:"brandInfoReceived",CONVERSATION_OWNER_BRAND_INFO:"conversationOwnerBrandInfoReceived",CONVERSATION_CONTENT:"conversationContent",SUBSCRIBE_MESSAGING_EVENTS_RESPONSE:"subscribeMessagingEventsResponse",CONVERSATION_HISTORY:"conversationHistory",NEW_CONVERSATION_REQUESTED:"newConversationRequested",NEW_CONVERSATION_CREATED:"newConversationCreated",MULTIPLE_CHANNELS_REQUESTED:"multipleChannelsRequested",SESSION_DATA:"sessionData",NO_SESSION:"noSession",FAILED_START_CONVERSATION:"failedStartConversation",FORGET_ME:"forgetMe",SET_REFRESH_MODEL_DELAY:"setRefreshModelDelaySec",CLOSE_WINDOW_FORGET_ME:"closeWindowForgetMe",DELETE_CONVERSATION_SUBSCRIPTION:"onDeletedSubscriptionFromConversation"},socket:{CONNECTED:"socketConnected",INITIALIZED:"socketInitialized",DISCONNECTED:"socketDisconnected",NON_RESPONSIVE:"socketNonResponsive",PING_SUCCESS:"pingSuccess"},application:{PROCESSING:"processing",OFFLINE_SURVEY:"offlineSurvey",PRE_CHAT_SURVEY:"preChatSurvey",POST_CHAT_SURVEY:"postChatSurvey",PRE_SMS_FORM:"preSmsForm",PRE_SMS_FORM_EXIT:"preSmsFormExit",END_CHAT:"endChat",END_SURVEY:"endSurvey",ENDED:"appEnded",DO_HARAKIRI:"doHaraKiri(Seppuku)"},heartBeat:{INIT:"init",FAILED:"failed",RESUMED:"resumed"},uiState:{POP_OUT:"popOut",EMBEDDED_CHANGED:"embeddedChanged",MAXIMIZED:"maximized",MINIMIZED:"minimized",ACTIONS_TOGGLE:"actionsToggle",SEND_BUTTON:"sendButton",PAPER_PLANE_BUTTON:"paperPlaneButton",FOCUS_CHANGE_EVENT:"focusChanged",EMOJI_FOCUS_ON_CLICK:"emojiFocus"},chatState:{ENDED:"ended"},unifiedWindow:{MAXIMIZE:"maximize"},viewController:{INITIATE_END_CHAT:"endChatInitiate",CLICKED:"clicked",DIALOG:"dialog",DIALOG_CLOSED:"dialogClosed",DIALOG_STATE_CHANGED:"dialogStateChanged",SLIDER_CLOSED:"sliderClosed",PREPARE_SLIDER_CLOSED_TIMEOUT:"prepareSliderCloseTimeout",SLIDER_VIEW_CHANGE:"sliderViewChange",CLOSE_ACTIONS:"closeActions",VISITOR_HAS_TYPED:"visitorHasTyped",MAXIMIZE_VISIBLE:"maximizeVisible",MINIMIZE_VISIBLE:"minimizeVisible",LINE_ADDED:"lineAdded",LINES_VIEWED:"linesViewed",CONVERSATIONS_VIEWED:"conversationsViewed",RETRY_GET_HISTORY:"retryGetHistory",END_OF_HISTORY:"endOfHistory",CB_OFFER:"cbOffer",THANK_YOU_PAGE:"thankYouPage",SHOW_FORGET_ME:"forgetMeDialog",CLOSE_WINDOW_FORGET_ME:"closeWindowForgetMe",LINE_UPDATE:"lineUpdate",UPDATE_TIME_STAMP:"updateTimeStamp",UPDATE_ACCESSIBILITY_MESSAGE:"updateAccessibilityMessage",SCROLL_CONVERSATION_TO_BOTTOM:"scrollConversationToBottom",FLUTTER_OPEN:"flutterOpen",FLUTTER_CLOSE:"flutterClose",FLUTTER_IS_CLOSED:"flutterIsClosed",FLUTTER_STYLE_UPDATE:"flutterStyleUpdate",DATE_PICKER_SHOW:"DatePickerShow",ADD_PRODUCT_DETAILS:"addProductDetails",SCHEDULE_LIST_SHOW:"ScheduleListShow"},coBrowseEvents:{OFFERED:"cobrowseOffered",ACCEPTED:"cobrowseAccepted",DECLINE:"cobrowseDeclined",TIMEOUT:"cobrowseTimeout",INVITED:"cobrowseInvited",STARTED:"sessionStarted",RESUME:"sessionResume",ERROR:"sessionError",CANCELED:"cobrowseCanceled",DIALOG_CREATED:"cobrowseDialogCreated",RENDER_CALL_SCREEN:"cobrowseRenderCallScreen",SLIDER_OPENED:"sliderOpened",MAXIMIZE:"maximize"},widgetSDK:{INIT:"init",PARTICIPANTS:"participants",MESSAGES:"messages",WIDGET_AREA_STATE:"widgetAreaState",CONVERSATION_STATE:"conversationState",CONVERSATION_INFO:"conversationInfo",ENGAGEMENT_INFO:"engagementInfo",NOTIFICATION:"notification",VISITOR_TYPING:"visitorTyping",AGENT_TYPING:"agentTyping",DISPOSED_WIDGET_ID:"disposedWidgetID",INITIATED_WIDGET_ID:"initiatedWidgetID",WIDGET_NOTIFICATION:"widgetNotification"},imageShare:{IMAGE_SELECTED:"imageSelected",FILE_UPLOAD_URL_READY:"fileUrlGenerated",FILE_DONE_UPLOADED:"fileUploaded",FILE_UPLOAD_RETRY:"fileUploadRetry",FILE_DOWNLOAD_REQUEST:"fileDownloadRequest",SHOW_PREVIEW:"showPreview",OVERLAY_CLOSED:"overlayClosed",IMAGE_PREVIEW_CLOSED:"ImagePreviewClosed",IMAGE_PREVIEW_SHOW:"ImagePreviewShow",FILE_VALIDATION:"fileValidation"},richContent:{DISABLE_RICH_CONTENT:"disableRichContent",UPDATE_RICH_CONTENT_LINE:"updateRCLine"}};lpTag.unifiedWindow.publicEvents=lpTag.unifiedWindow.publicEvents||{API:{state:[{appName:"lpUnifiedWindow",eventName:"state",data:{state:"data"}},{appName:"ChatAPIV3",eventName:"state",data:"data"}],chatInfo:{appName:"lpUnifiedWindow",eventName:"conversationInfo",data:{agentName:"data.agentName",agentId:"data.agentId",conversationId:"data.rtSessionId",state:"data.chatState",monitoringSessionId:"data.monitoringSessionId",visitorId:"data.visitorId",skill:"data.skill",skillName:"data.skillName",engagementId:"data.engagementId",campaignId:"data.campaignId",language:"data.language",engagementName:"data.engagementName"}}}};lpTag.unifiedWindow.SurveyType={PRE_CHAT:"PreChatSurvey",EXIT_CHAT:"ExitSurvey",OFFLINE:"OfflineSurvey",CSAT:"CSAT",PRE_SMS:"PreSmsSurvey"};window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow=window.lpTag.unifiedWindow||{};lpTag.unifiedWindow.consts={dialog:{actions:{CONFIRM:"confirm",CANCEL:"cancel"}},views:{TOP_MENU:"topMenu",ACTION_MENU:"actionMenu"},chatEvents:{LINE:"line",INFO:"info",COBROWSE:"cobrowse",SECURE_FORM:"leSecureForm",RICH_CONTENT:"richContent",FILE_SHARING:"hosted/file",MAVEN_PAY:"mavenPay"},errorTypes:{CONNECTION_UNAVAILABLE:"CONNECTION_UNAVAILABLE",AUTH_ERROR:"AUTH_ERROR",FAILED_START_CONVERSATION_ERROR:"FAILED_START_CONVERSATION_ERROR"},authErrorsTypes:{EXPIRED:"expired",INVALID_SESSION:"invalidSession",LOGOUT:"logout"},SecureForm:{LINK_CLICKED:"secureFormClicked",HIDE_CONVO:"hideMessagingConversation"},RichContent:{ACTION:"richContentAction",RICH_CONTENT_LINE:"rich-content",RICH_CONTENT_TYPE:"richcontent",LINK_CLICKED:"richContentLinkClicked"},engagementContainerClass:"LPMcontainer",reCaptchaContainerClass:"reCaptchaContainer",authConnectorTypes:{S2S:0,OAUTH_IMPLICIT:1,OAUTH_CODE:2,STEP_UP:3},defaultRedirectUri:"https://liveperson.net",slider:{viewType:{widgetSDKView:"widgetSDKView",PCIFormView:"pciFormView",CoBrowseInvite:"cobrowseInviteView",CoBrowseCallConnecting:"cobrowseCallConnectingView",RichContentLinkAction:"richContentLinkAction",MavenPayLinkView:"MavenPayLinkView"}},widgetSDK:{WIDGET_NAME:"widgetName",AGENT:"agent",AGENT_ID:"agentId",VISITOR:"visitor",VISITOR_ID:"visitorId",SESSION_ID:"sessionId",MONTORING_SESSION_ID:"monitoringSessionId",ACCOUNT_ID:"accountId",CHANNEL_TYPE_MESSAGING:"messaging",CHANNEL_TYPE_CHAT:"chat",contentType:{text:"text/message",richContent:"text/richContent"}},csatStatus:{FILLED:"FILLED",PARTIALLY_FILLED:"PARTIALLY_FILLED",SKIPPED:"SKIPPED",EMPTY:"EMPTY"},coBrowse:{acceptedCoBrowseModes:["view","shared","follow","VIDEO_CALL","VOICE_CALL"],coBrowseChannelName:"COBROWSE"},engagementTypes:{CHAT_ENGAGEMENT:"chat",MESSAGING_ENGAGEMENT:"messaging"},richContentActionTypes:{LINK:"link",NAVIGATE:"navigate",PUBLISH_TEXT:"publishText",CAROUSEL_OFFSET_CHANGE:"carouselOffsetChange",CHECKED:"checked",SUBMIT_AS_TEXT:"submitAsText",DATE_PICKER:"datePicker",SCHEDULE_SLOT_LIST:"scheduleSlotList"},fileSharing:{fileAttributes:{TYPE:"type",SIZE:"size"},fallbackThumbnail:{URI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABaCAYAAAAFOiBkAAAAAXNSR0IArs4c6QAACf9JREFUeAHtXelzFMcVf7u6FnQAlkDoQAe7qwuBHISQQSIFCGRIikDssp2kqLjs2FWO+ZB/If9CPqeKipNUOR9CiEOEAVsWBowBGxuD0YEudEvoAq/uA/J+rZ3JaLSjnVnNrIw0jxptT0/P6+5fv37d/fpN4yAVNTU1Fc7MzLzL0ceePXuWwpdLlWRF3Docjgm+ergy5yIjI//s8Xi+V1bMId0wAFENDQ1/4vu3ExMTI+Pj4yOio6OJX5aSrKhfri9NTU2Rz+ebHRwcnOHKnc7Nzf0D13caFRW19oNS7XK5StLS0lyM4IoCIVhluIdQV1fXBNNXDE4FwHHiJUgKQMnMzFx1oKD+EATUHRj4ew05/Drla7fbHbPaJAWgKAmS09zcPMk47HJC0UKnrHZQABAwABbABF3pGBStErnVHPZjcczJijcFo49NcwgAC2ACYFwrdUgOpbGBBTARo1IoDFb6OzYwGi1sA2MDo4GARrQtMTYwGghoRNsSowGMZcvop0+f0hfXv6Ta2loaGRnVyD706Li4WCooKKCyvXvI6TS/fS0DBqDcuvVV6DUP8ibAlvjvKy8Lktr4Y/Oh9pcBkhIOsiofy4CxovsEAtqqfCzrSoEqoY7LyMigA/t/KqJrLl+h9vZ2dZJlu7dMYvTUCKDExcWJSwJIz3vhSLOswISjgqHmsazAoPuMjIyIC+EfEy2rjoFO+eCvf/8x4SGXZVmBkUsRIBAREUGvvnJC7Gv988xZmp2dDZDKuqhl6UpZWZm0YcOGRWu1c+dPaOPGjZSUlEQIh5vCDozX66Gf/+wovf7aq7R169aA9U1IiKdiBRgIIy6cFFZg0D32vFQq6oetiqNHKqm4eOeC+u7bV05IKxHCiAsnhRWYF4t2EG9PzKvfS6W7qeLgAXkhmJWZSbjUpBWvTmfWfdiAWbNmjaauyMvLpePHj1FsbOyikqGWJLNACMQnbMCU7i6hxfavUlNS6Ne/emNRXaLWPYEqZFZcWIBBhQoK8oOWOSYm+MYfRiiXKyYor6UmCAsws7NPaWxsbKllFe+PjY+bwicYE8smeLCwSSaB0dFR+ssHfwtWlpCeIx8ryDKJgdkxHGRVPpZJDGyxoHDYfK1oAMuAgYEatlgr7LFWAKHmaVlXUmf0vN3bwGi0mA2MDYwGAhrRtsTYwGggoBFtS4wNjAYCGtG2xNjAaCCgEW1LjAYwpq+VsLPY3d1DcBzasiVdmCuRd29vH01MTgS058Is0ffoEW1OTqa1a9fKRTXCq7X1ofgWAHmaQaYCc+fOd3T58yvzNscqKg4SjODXv7xBPT09dOr99xaUu6Ozk6qqPqZfnjjOWyrZ4rkRXjfZQenatS+o8vAh0RgLMgghwjRgWlpaqfqzGsrI2EIAIyY6hh62PSSvx2O4WEZ4QRKvs/dWbk4Obd9eaDgvrRdMA+YqtxjoyMuV8hbJthCNVXp5TU9PU9X5j4UbyeHDFVp1DCneFOU7MzNL/F2h2E5V7xsZLZURXpDQx48fU2XlIYqJMddAbgow4+Nj+GKDkpM3GcVhQXq9vCYnJ+n+/Tk/v+am5gV8lhphCjDwioLFrrOza6nlEd1CDy80BHQKlPWd7+7iY88l561kYAow+MYnmYfaJ0+eiC4lZYDCQw8YIb28oqKi6OCB/XToUAUhfPHSp4RuaBZFnDp16o9wt1gqJSQkUG1dHTXz6ORg6RkYGKDPr1ylwYFBys7Oorr6BqEPIA1d3d3ylZSUKOIbG5soPy9PuIfo4YW5D/a9Y/iLNGzA1dbWiWlCoH1vo3VD2U0blTIzM+jE8V/QZzWXqYYvEBRxEc9hJMJXqlevXpNuxW9ujnfePW708FK+VLRjB9Uz8Ldvf8PDtpc2b96sfBxS2MHbG8/y84Nvnxrhzh92c3KHKVupZvLSW4c6lnzTJEaZKX/YrbxdUthMXkYKYoryNZLh85LWBkajpWxgNIDRpWM6OjppeibwfCQ6KprS09MEe5gaunkoHhwcYgegBEpNTdGcqrexj6+D/2HRqSQM5VOTU2KIb2ltpXiePGI64WNzRn9/vzKpCK9ft46POhkRJoe0tFT5OcwYL7BnKOY4ILih9Pb10Ub2AtWzbNEFzMVLn4jJm5yrIgB30zd/e5Iwr/j3R+fY7tIrP4XrGDw0A9lI7t69Rw8eNNK777wtQMRLOM/lzJl/UQp7V8Hl9ezZj4TD0dEjL1N7WztduHhJ5i0FdhUX09DwEHV0dND7v39PAIRn/+Gy7C3bQ9JC9ls2idy4cZNOnvyNecDA9XSWpQH04Yf/4EnYC3SEPS5BkX7vygsXLtHQ0JCwqUAK+rh1qs5foP9Wnad3fveW3HLiJf6DAgOYhoYHVFKyS0Rjkjc9PUPbC7XNB8g3NfX/kuHixWNzSwvBVPGwrY08brew+/zg8wneEjB8yodogORN+tZzunQMusWG9evF5XA4KYpdUaV7iGVf3yNRKLd7q1i7wFWVD+ihMm4xiHA9V15NkAhY65TPMHPG8Oz1etTJ5fv4uHg5b5QBTo8AAzPqJv9iEmCD2ljKMA/CUqW/f4BtQ26ZT7CArq4UjEn/wFzfT0+fb1ZElwA9Hh5ewAIVyWdvzdvffEvD/DySdQF0GWbK8OvFOisQwVYDMEClu3eJBgCYWzhvSA303IPGRtEdYTFsZLCmpiZF+sUAFwkUf3RJjCJ9wODkxFzGUJRKkhTf1FRgxS15Q0Fq6urqBRiFhduULBaEcWSWdPlPkhJpvDkeGmf/PHwnCWVcWloilDafICQkCdIJKdZLpkiMpOWh9bOzs+S8fT/4RHjdugQ5ThnYtAnfCiQKXYB43AfTAeVlZQtGMrzrcXuourqGbty8JUZCLCaxgMVHq5C+7UEABw8lmSIxMDnAXKC2iXx//77Ia7GWgnKE9Q9X4bbFpUVZcHU4NnatmB7gKxXoOnRHPohLdC0AY6QbgbcpEgOJyONC1NXX0yefVlM6iyzmKbCwQTGmpGivdvPz8+gKr7hRET2L2XruGpBMiTCHgvM0KMfr5cbpphz/ih3lQt5DQ8MsZRnSK7p+TQEGOVVWHiZnhFPYRTBHgRf4i0VFtN//MahWaTDXgdjDZqvHsfnevXnn+FF5+V4ZGEgFtmmUNpnc3Bzq630kf6ugVQ51vOlmB4jt6OgYmyhj1Xlp3sN+i664mEu95suqB5geKDft0LVwGeFtidkBFTQCCuplpoVfCQp4o4viMkqmKF+jmT4P6W1gNFrJBsYGRgMBjWhbYmxgNBDQiHby8DqBuYdNcwgAC2ACYHpgObNpDgFgAUygY875+HhoG5g5BPxYnHNG8kHiODMb26ernYABsAAmTv/p6qdxZvZqB8aPwWlgYh+mztIASQEoTPJh6gIYSAprY/v4ffXx+8ouZP+HDXNo/A/VKuq403VhBwAAAABJRU5ErkJggg==",TYPE:"image/png",HEIGHT:90,WIDTH:70}},googleMapsUrl:"https://www.google.com/maps/search/?api=1&",externalTargets:{SMS:0},MavenPay:{LINK_CLICKED:"mavenPayClicked"}};window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow=window.lpTag.unifiedWindow||{};lpTag.unifiedWindow.hooks={BEFORE_SUBMIT_SURVEY:"BEFORE_SUBMIT_SURVEY",AFTER_GET_SURVEY:"AFTER_GET_SURVEY",BEFORE_SEND_VISITOR_LINE:"BEFORE_SEND_VISITOR_LINE",AFTER_GET_LINES:"AFTER_GET_LINES",AFTER_LOAD_SURVEY:"AFTER_LOAD_SURVEY",AFTER_SUBMIT_SURVEY:"AFTER_SUBMIT_SURVEY",AFTER_ABANDONED_SURVEY:"AFTER_ABANDONED_SURVEY",ON_WINDOW_CLOSED:"ON_WINDOW_CLOSED"};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.CsatDataGenerator=function(a){return{id:0,title:"",header:"",questions:{question:[{type:"CSAT",validationType:"csat",label:a.translate("csatRatingQuestion"),id:0,order:0,mandatory:!1}]}}};lpTag.unifiedWindow.contentTypes={TEXT_PLAIN:"text/plain",EXTERNAL_FILE:"external/file",HOSTED_FILE:"hosted/file",SECURE_FORM_INVITATION:"forms/secure-invitation",SECURE_FORM_SUBMISSION:"forms/secure-submission",SECURE_FORM_UPDATE:"forms/secure-update"};lpTag.unifiedWindow.MessageTypes={CONTENT:"ContentEvent",RICH_CONTENT:"RichContentEvent"};window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow=window.lpTag.unifiedWindow||{};lpTag.unifiedWindow.structuredContentTypes=lpTag.unifiedWindow.structuredContentTypes||{QUICK_REPLIES:"quickReplies",BUTTON:"button",LIST:"list"};window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow=window.lpTag.unifiedWindow||{};lpTag.unifiedWindow.State={INIT:"init",INITIALIZED:"initialised",PRE_CHAT:"preChat",REQUESTED:"startChat",CHATTING:"chatting",POST_CHAT:"postChat",PRE_SMS:"preSms",OFFLINE:"offline",WAITING:"waiting",PENDING:"pending",ENDED:"ended",NOT_FOUND:"notfound",APP_ENDED:"applicationEnded",ERROR:"error",RESUME:"resume",PAUSED:"paused",RESUME_PAUSED:"resumepaused",AUTH_ERROR:"authenticationError",CONNECTION_ISSUE:"connectionIssue",RESTART_AUTHENTICATION:"restartAuthentication",STEP_UP_AUTH:"stepUpAuth",INTERACTIVE:"interactive"};lpTag.unifiedWindow.Priority=function(){var a=lpTag.unifiedWindow.State,b={},c=0;b[a.INIT]=c++;b[a.INITIALIZED]=c++;b[a.PRE_CHAT]=c;b[a.OFFLINE]=c++;b[a.REQUESTED]=c++;b[a.WAITING]=c;b[a.PENDING]=c;b[a.RESUME]=c;b[a.PAUSED]=c;b[a.RESUME_PAUSED]=c;b[a.CHATTING]=c++;b[a.ENDED]=c++;b[a.POST_CHAT]=c++;b[a.NOT_FOUND]=c++;b[a.ERROR]=c++;b[a.APP_ENDED]=c;return b}();lpTag.unifiedWindow.MessageState={ERROR:"ERROR",PENDING:"PENDING",SENT:"SENT",VIEWED:"VIEWED",ACCEPT:"ACCEPT",READ:"READ",FAILED:"FAILED"};lpTag.unifiedWindow.MessagePriority=function(){var a=lpTag.unifiedWindow.MessageState,b={},c=0;b[a.ERROR]=c;b[a.PENDING]=c++;b[a.SENT]=c++;b[a.VIEWED]=c++;b[a.ACCEPT]=c++;b[a.READ]=c++;b[a.READ]=c++;b[a.FAILED]=c++;return b}();lpTag.unifiedWindow.secureFormStates={SEND:"send",RECEIVED:"received",VIEWED:"viewed",VIEWED_ON_ANOTHER_TAB:"viewedOnAnotherTab",ABORTED:"aborted",SUBMIT:"submit",ERROR:"error"};lpTag.unifiedWindow.richContentStates={ACTION_EVENT:"actionEvent",PUBLISH_TEXT:"publishText",DISPLAYED:"contentDisplayed",SUBMIT_AS_TEXT:"submitAsText"};lpTag.unifiedWindow.quickRepliesStates={ACTION_EVENT:"actionEvent",PUBLISH_TEXT:"publishText"};window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow=window.lpTag.unifiedWindow||{};lpTag.unifiedWindow.welcomeMessageStates=lpTag.unifiedWindow.welcomeMessageStates||{showTiming:{FIRST_TIME:"FIRST_TIME",EVERY_TIME:"EVERY_TIME"}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.ChatModelPath=lpTag.unifiedWindow.ChatModelPath||function(){if(!lpTag.unifiedWindow.chatModelPath){var a={name:"chatModel"},b=window.liveperson.uiframework.latest.LPModel;a.LINES=b.createPath("chat.lines",null,a.name);a.SECURE_FORMS=b.createPath("chat.secureForms",null,a.name);a.AGENT_NAME=b.createPath("chat.agentName",null,a.name);a.VISITOR_NAME=b.createPath("chat.visitorName",null,a.name);a.PARTICIPANTS=b.createPath("chat.participants",null,a.name);a.AGENT_ID=b.createPath("chat.agentId",null,a.name);a.CHAT_ID=b.createPath("chat.chatId",null,a.name);a.CURRENT_DIALOG_TYPE=b.createPath("chat.currentDialogType",null,a.name);a.AGENT_IS_TYPING=b.createPath("chat.agentIsTyping",null,a.name);a.SURVEYS_PRECHAT=b.createPath("chat.surveys.preChat",null,a.name);a.SURVEYS_EXIT=b.createPath("chat.surveys.exit",null,a.name);a.SURVEYS_OFFLINE=b.createPath("chat.surveys.offline",null,a.name);a.TTR=b.createPath("chat.ttr",null,a.name);a.TRANSCRIPT_LOADED=b.createPath("chat.transcriptLoaded",null,a.name);a.SDK_NOTIFICATIONS=b.createPath("windowsdk.notifications",null,a.name);a.SDK_BUTTON_ENABLE=b.createPath("windowsdk.buttonEnable",null,a.name);a.SURVEYS_PRESMS=b.createPath("chat.surveys.preSms",null,a.name);lpTag.unifiedWindow.chatModelPath=a}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.UIModelPath=lpTag.unifiedWindow.UIModelPath||function(){if(!lpTag.unifiedWindow.uiModelPath){var a={name:"uiModel"},b=window.liveperson.uiframework.latest.LPModel;a.STATE=b.createPath("chat.state",null,a.name);a.CONVERSATION_DATA=b.createPath("chat.conversationData",null,a.name);a.AGENT_PICTURE_URL=b.createPath("chat.agentPicUrl",null,a.name);a.VISITOR_TYPING=b.createPath("chat.isVisitorTyping",null,a.name);a.WINDOW_MAXIMIZED=b.createPath("window.maximized",null,a.name);a.ACTIONS_VISIBLE=b.createPath("window.actionsVisible",null,a.name);a.EMOJI_VISIBLE=b.createPath("window.emojisVisible",null,a.name);a.TOP_MENU_VISIBLE=b.createPath("window.topMenuVisible",null,a.name);a.WINDOW_POSITION=b.createPath("window.position",null,a.name);a.WINDOW_SOUND=b.createPath("window.sound",null,a.name);a.EMOJI_MENU=b.createPath("window.emojiMenu",null,a.name);a.WINDOW_EMBEDDED=b.createPath("window.embedded",null,a.name);a.LAST_LINE_VIEWED=b.createPath("window.lastLineViewed",null,a.name);a.ACTION_POPOUT_ENABLE=b.createPath("popout.enable",null,a.name);a.SECURE_FORMS_TAB_HANDLER=b.createPath("collaboration.secureFormsTabHandler",null,a.name);a.IDNV_DATA=b.createPath("collaboration.idnvData",null,a.name);a.WIDGET_SLIDER_VISIBLE=b.createPath("windowsdk.sliderVisible",null,a.name);a.SELECTED_WIDGET_ID=b.createPath("windowsdk.selectedWidgetId",null,a.name);a.DISPOSED_WIDGETS_IDS=b.createPath("windowsdk.disposedWidgetsIds",null,a.name);a.INITIATED_WIDGETS_IDS=b.createPath("windowsdk.InitiatedWidgetsIds",null,a.name);a.WIDGETS_NOTIICATIONS=b.createPath("windowsdk.widgetsNotifications",null,a.name);a.STEP_UP_STATE=b.createPath("chat.stepUpState",null,a.name);a.PRE_SMS_CONTEXT=b.createPath("chat.preSmsContext",null,a.name);a.LAST_VIEWED_TAB=b.createPath("tabs.lastViewedTab",null,a.name);a.TAB_LIST=b.createPath("tabs.list",null,a.name);a.SECURE_FORMS_INVITATIONS=b.createPath("collaboration.sfInvMapping",null,a.name);lpTag.unifiedWindow.uiModelPath=a}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.WidgetModelPath=lpTag.unifiedWindow.WidgetModelPath||function(){if(!lpTag.unifiedWindow.widgetModelPath){var a={name:"WidgetModelPath"},b=window.liveperson.uiframework.latest.LPModel;a.CONVERSATION_ID=b.createPath("conversation.id",null,a.name);a.SESSION_ID=b.createPath("conversation.sessionId",null,a.name);a.DIALOGS=b.createPath("conversation.dialogs",null,a.name);a.WINDOW_UI=b.createPath("ui.window",null,a.name);lpTag.unifiedWindow.widgetModelPath=a}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.ChatDelegate=lpTag.unifiedWindow.ChatDelegate||function(a,b){function c(){var b=window.location.hostname.indexOf("liveperson.net")>0?["xhr","postmessage","rest2jsonp"]:["postmessage","rest2jsonp"],c={transportOrder:b,lpNumber:a.accountId,appKey:a.appKey,domain:a.domain||"",secureStorageLocation:a.secureStorageLocation,sessionUID:a.sessionId,useSecureStorage:a.useSecureStorage,failureTolerance:a.failureTolerance,reconnectTimeout:a.reconnectTimeout,onInfo:G,onInit:I,onState:O,onEventList:J,onSessionData:L,onAgentTyping:K,onAuthentication:h,onAuthenticationFail:i,firstParty:!0};a.chatPollInterval&&(c.chatPollInterval=a.chatPollInterval);a.chatExitSurveyInterval&&(c.chatExitSurveyInterval=a.chatExitSurveyInterval);M();V=new lpTag.taglets.ChatOverRestAPI(c);aa.info("createChatInstance",Z)}function d(){V=null;ga={}}function e(c,d){var e={};if(a.agent&&"string"==typeof a.agent)e.agent=a.agent;else{a.skill&&"string"==typeof a.skill&&(e.skill=a.skill);a.maxWaitTime&&"number"==typeof a.maxWaitTime&&(e.maxWaitTime=a.maxWaitTime)}e.success=function(a){b.trigger({appName:$,eventName:ca.AVAILABILITY,data:a});c&&c(a)};e.error=P(d);V.getAvailabilty(e)}function f(b,c){var d={};a.preSurveyId?d.surveyApiId=a.preSurveyId:a.visitorProfile?d.visitorProfile=a.visitorProfile:a.surveyName?d.surveyName=a.surveyName:a.visitorIp&&(d.visitorIp=a.visitorIp);a.skill&&(d.skill=a.skill);k(d);aa.info("getPreChatSurvey, configuration="+JSON.stringify(d),Z);d.success=function(a){F(ba.PRE_CHAT,!0);b&&b(a)};d.error=P(c,!0);V.getPreChatSurvey(d)}function g(a,b,c){X=b;Y=c;V.authenticate({authChatConnId:a.connectorId,ssoKey:a.ssoKey,redirectUri:a.redirectUri,engagementId:a.engConf.eid,contextId:a.engConf.scid,sessionId:a.engConf.ssid,visitorId:a.engConf.svid})}function h(a){
X&&X(a||{})}function i(a){Y&&Y(a||{})}function j(b,c,d){var e=b&&b.surveyData,f=b&&b.conversationData,g={};if(a||e||f){if(a.agent)g.agent=a.agent;else if(a.skill)g.skill=a.skill;else if(a.serviceQueue&&!isNaN(a.maxWaitTime)){g.serviceQueue=a.serviceQueue;g.maxWaitTime=a.maxWaitTime}a.interactionTimeout&&(g.interactionTimeout=a.interactionTimeout);a.queuePriority&&(g.queuePriority=a.queuePriority);(a.availabilityPolicy===da.OFFLINE||a.availabilityPolicy===da.CHAT)&&(g.availabilityPolicy=a.availabilityPolicy);a.preChatLines&&"object"==typeof a.preChatLines&&(g.preChatLines=Object.keys(a.preChatLines).map(function(b){return a.preChatLines[b]}));"string"==typeof a.ssoKey&&(g.ssoKey=a.ssoKey);e&&"object"==typeof e&&e.survey&&e.survey.question&&e.survey.question.length>0&&(g.survey=e.survey);if(f&&"object"==typeof f){g.participantId=f.participantId;g.conversationId=f.conversationId}k(g);g.engagementId=a.eid;g.campaignId=a.cid;g.language=a.lang;Q()&&T(g)}aa.info("startChat="+JSON.stringify(g),Z);g.success=function(a){c&&c(a)};g.error=P(d);V.requestChat(g)}function k(b){if(a){"string"==typeof a.svid&&(b.LETagVisitorId=a.svid);"string"==typeof a.ssid&&(b.LETagSessionId=a.ssid);"string"==typeof a.scid&&(b.LETagContextId=a.scid)}}function l(a,b,c){V.addLine({text:a.text,success:b,error:c});aa.info("sendLine="+JSON.stringify(ka.excludeAttributes(ka.clone(a),["text"])),Z)}function m(a,b,c,d){var e={subType:ca.SECURE_FORM,command:a,info:c};d&&(e.text=d);S(o).call(this,e)}function n(a,b){lpTag.taglets.lpUtil.runCallback(b,null,{submitOtk:a&&a.submitOtk,formOtk:a&&a.getOtk})}function o(a,b,c){if(a){a.success=b;a.error=c;V.sendCollaboration(a)}aa.info("sendCollaboration="+JSON.stringify(a),Z)}function p(a,b,c){if(W&&(W===ba.CHATTING||W===ba.INTERACTIVE)){V.setVisitorTyping({typing:a,success:b,error:c});aa.info("setVisitorTyping="+a,Z)}}function q(a,b,c,d){var e=6e4*(new Date).getTimezoneOffset();V.requestTranscript({email:a,subject:b,success:c,error:d,timezoneOffset:e});aa.info("emailTranscript="+JSON.stringify(a),Z)}function r(){aa.info("resumingPauseChat",Z);V.getState()===V.chatStates.PAUSECHAT&&V.resumePausedChat()}function s(){aa.info("pausingChat",Z);V.pauseChat()}function t(a,b){V.endChat({success:function(b){a&&a(b)},error:b});aa.info("endChat",Z)}function u(a,b,c){if(a&&a.survey&&a.survey.question&&a.survey.question.length>0)V.submitExitSurvey({survey:a.survey,success:function(a){F(ba.APP_ENDED,!0);b&&b(a)},error:c});else{c({error:"Missing survey data"});aa.error("submitExitChatSurvey, No Survey Data",Z);v()}}function v(){V.cancelSurvey()}function w(b,c){var d={windowSurveyEnabled:!0,success:function(a){F(ba.OFFLINE,!0);b&&b(a)},error:P(c)};a.surveyOfflineId?d.surveyApiId=a.surveyOfflineId:a.visitorProfile?d.visitorProfile=a.visitorProfile:a.visitorId?d.visitorId=a.visitorId:a.surveyName&&(d.surveyName=a.surveyName);a.skill&&(d.skill=a.skill);a.skillId&&(d.engSkillId=a.skillId);k(d);V.getOfflineSurvey(d)}function x(b,c,d){var e={success:function(a){F(ba.APP_ENDED,!0);c&&c(a)},error:d};if(b&&b.survey&&b.survey.question&&b.survey.question.length>0){"string"==typeof a.svid&&(e.LETagVisitorId=a.svid);"string"==typeof a.ssid&&(e.LETagSessionId=a.ssid);"string"==typeof a.scid&&(e.LETagContextId=a.scid);"string"==typeof a.offsiteEngContext&&(e.offsiteEngContext=a.offsiteEngContext);"string"==typeof a.skill&&(e.skill=a.skill);Q()&&T(e);e.survey=b.survey;V.submitOfflineSurvey(e);aa.info("submitOfflineSurvey, survey"+JSON.stringify(b.survey),Z)}else{d({error:"Missing survey data"});e=null;aa.error("submitOfflineSurvey, ERROR",Z);v()}}function y(b,c,d){var e={windowSurveyEnabled:!!b,success:function(a){F(ba.POST_CHAT,!0);c&&c(a)},error:P(d,!0)};a.exitSurveyId?e.surveyApiId=a.exitSurveyId:a.surveyName&&(e.surveyName=a.surveyName);a.skillId&&(e.engSkillId=a.skillId);V.getExitSurvey(e);aa.info("getExitSurvey, id="+a.exitSurveyId,Z)}function z(){V.disposeVisitor()}function A(){V.reInit()}function B(){return V.getSessionKey()}function C(){return ea}function D(){return fa.visitor}function E(a,b){aa.info("richContentRequest with body: "+JSON.stringify(a)+" and data: "+JSON.stringify(b),Z);a&&a.sequenceId&&a.state&&V.addLineStatusEvent({status:a.state,metadata:b,refSequenceId:a.sequenceId})}function F(c,d){W=c;ba.NOT_FOUND===W&&(W=ba.APP_ENDED);b.trigger({appName:$,eventName:ca.STATE,data:W,global:!0});ba.CHATTING===W&&b.trigger({appName:_,eventName:ca.ENGAGEMENT_DATA,global:!0,data:{engagementName:a.ename,state:W}});if(d||ba.WAITING===W||ba.ENDED===W){ga.chatState=W;H()}ba.ENDED===W&&b.trigger({appName:$,eventName:ca.BLOD,data:{engagementName:a.ename}})}function G(b){if("object"==typeof b){ga=ga||{};ga.agentName=b&&b.agentName||"";ga.agentId=b&&b.agentId||"";ga.agentPictureUrl=b&&b.agentPictureUrl||"";ga.skillName=b&&b.skillName||"";ga.rtSessionId=b&&b.rtSessionId||ga.rtSessionId||"";ga.chatState=b&&b.chatState||ga.chatState||"";ga.monitoringSessionId=a&&a.ssid||ga.monitoringSessionId||"";ga.visitorId=a&&a.svid||ga.visitorId||"";ga.visitorName=b&&b.visitorName||ga.visitorName||"";ga.skill=a&&a.skill||ga.skill||"";ga.engagementId=a&&a.eid||ga.engagementId||"";ga.campaignId=a&&a.cid||ga.campaignId||"";ga.language=a&&a.lang||ga.language||"";ga.engagementName=a&&a.ename||ga.engagementName||"";ga.lastUpdate=b.lastUpdate||ga.lastUpdate||"";H()}}function H(){b.trigger({appName:$,eventName:ca.CHAT_INFO,data:ga})}function I(a){if(!a||a.error||"ERROR"===a)b.trigger({appName:$,eventName:ca.ERROR,data:{errorType:la.CONNECTION_UNAVAILABLE}});else if(!ea){R();F(ba.INIT);b.trigger({appName:$,eventName:ca.INITIALIZED});ea=!0}}function J(a){for(var c,d=Array.isArray(a)?a:[a],e=0;e<d.length;e++){c=d[e];ka.indexOf(ha,c[ia])>=0&&b.trigger({appName:$,eventName:c[ia]===ja?c.subType:c[ia],data:c})}b.trigger({appName:$,eventName:ca.FINISHED_EVENTS_BULK})}function K(a){b.trigger({appName:$,eventName:ca.AGENT_TYPING,data:a})}function L(a){b.trigger({appName:$,eventName:ca.SESSION_DATA,data:a})}function M(){fa.bindId=b.bind({appName:$,eventName:ca.LINE,func:N})}function N(a){switch(a.source){case"visitor":fa.visitor=!0;break;case"agent":fa.agent=!0}if(fa.agent&&fa.visitor){F(fa.state,!0);b.unbind(fa.bindId)}}function O(a){F(a.state)}function P(a,c){return function(d){a&&a(d);c||d&&d.error&&(5===d.error.internalCode||32===d.error.internalCode||Q()&&10===d.error.internalCode)||b.trigger({appName:$,eventName:ca.ERROR,data:{errorType:la.CONNECTION_UNAVAILABLE}})}}function Q(){return window.recaptchaRenderer}function R(){if(window.recaptchaRendererV2&&V.isCaptchaV2Supported&&V.isCaptchaV2Supported()){window.recaptchaRenderer=window.recaptchaRendererV2;window.recaptchaRenderer.renderCaptcha(a);window.recaptchaRendererV1.removeFromPage()}else window.recaptchaRendererV1&&(window.recaptchaRenderer=window.recaptchaRendererV1)}function S(a){return function(){V&&a.apply(null,arguments)}}function T(a){var b=window.recaptchaRenderer.getRecaptchaProps()||{};Object.keys(b).forEach(function(c){a[c]=b[c]})}function U(){}var V,W,X,Y,Z="ChatDelegate",$=lpTag.unifiedWindow.apps.CHAT,_=lpTag.unifiedWindow.apps.UNIFIED_WINDOW,aa=lpTag.unifiedWindow.log,ba=lpTag.unifiedWindow.State,ca=lpTag.unifiedWindow.events.chat,da=(lpTag.taglets.postmessage,{OFFLINE:0,CHAT:1}),ea=!1,fa={state:ba.INTERACTIVE,agent:!1,visitor:!1,bindId:null},ga={},ha=["line","leCollaboration"],ia="@type",ja="leCollaboration",ka=lpTag.unifiedWindow.applicationUtils,la=lpTag.unifiedWindow.consts.errorTypes;return{createChatInstance:c,isInitialized:C,isInteractive:D,dispose:d,resumePolling:S(r),stopPolling:S(s),getAvailability:S(e),getPreChatSurvey:S(f),startConversation:S(g),startChat:S(j),sendLine:S(l),sendCollaboration:S(o),sendStatesUpdate:S(U),setVisitorTyping:S(p),emailTranscript:S(q),endChat:S(t),getExitSurvey:S(y),submitExitChatSurvey:S(u),getOfflineSurvey:S(w),submitOfflineSurvey:S(x),cancelSurvey:S(v),disposeVisitor:S(z),reInit:S(A),getSessionKey:B,secureFormRequest:m,getSecureFormOTKs:n,richContentRequest:S(E)}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.MessagingDelegate=lpTag.unifiedWindow.MessagingDelegate||function(a,b){function c(a,b,c,d,e,f){ua=A(a,b,c,d,f);ta=!0;if(e){H();sa=new lpTag.UMSClientAPI(ua)}else sa?sa.reInit(ua):sa=new lpTag.UMSClientAPI(ua);za.info("createMessagingInstance",xa)}function d(){ua&&(sa=new lpTag.UMSClientAPI(ua));za.info("amsClient::reInit",ua)}function e(){var a={};a.success=function(){};a.error=function(){};sa.getMyUserProfile(a);za.info("getMyUserProfile, configuration="+JSON.stringify(a),xa)}function f(a,b){za.info("getOTK "+JSON.stringify(a),xa);var c={uploadable:{dialogId:Sa.id}};"object"==typeof a&&(c.uploadable=Ja.cloneExtend(c.uploadable,a));sa.generateUploadToken({success:b,error:b},c)}function g(b){if(b)if(b.contentType){sa.sendPCIMessage(b);"submit"===b.state&&a.connectorsSfConfig&&(a.connectorsSfConfig.isFormSubmitted=!0)}else sa.markMessagesState(b)}function h(a){za.info("richContentRequest with body: "+JSON.stringify(a),xa);a&&sa.markMessagesState(a)}function i(a){za.info("quickRepliesRequest with body: "+JSON.stringify(a),xa);a&&sa.markMessagesState(a)}function j(a){za.info("imageShareGenerateUrlRequest with body: "+JSON.stringify(a),xa);a&&sa.generateURLForUploadFile(a)}function k(a){za.info("imageShareDownloadUrlRequest with body: "+JSON.stringify(a),xa);a&&sa.generateURLForDownloadFile(a)}function l(){var b={brandId:a.accountId};sa.getBrandProfile(b);za.info("getBrandProfile, brandId= "+b.brandId,xa);if(a.subscription&&a.subscription.conversationowneraccountid){b={brandId:a.subscription.conversationowneraccountid};sa.getBrandProfile(b);za.info("getBrandProfile, brandId= "+b.brandId,xa)}}function m(c){za.info("_onBrandProfile, info="+JSON.stringify(c),xa);a.subscription&&c.brandId===a.subscription.conversationowneraccountid?b.trigger({appName:ya,eventName:Ha.CONVERSATION_OWNER_BRAND_INFO,data:c}):b.trigger({appName:ya,eventName:Ha.BRAND_INFO,data:c})}function n(a,b){var c={};c.success=a;c.error=b;sa.subscribeConversations(c);za.info("subscribeConversations, configuration="+JSON.stringify(c),xa)}function o(a){sa.updateConversationParticipantForStepUp(a)}function p(a,b,c){var d={};d.subscriptionId=a;d.success=b;d.error=c;sa.unsubscribeConversations(d);za.info("unsubscribeConversations, configuration="+JSON.stringify(d),xa)}function q(a){var b={};if(Sa.isActive){b.dialogId=Sa.id;b.success=a;b.error=a;sa.closeDialog(b)}else Ja.runCallback(a);za.info("closeDialog, configuration="+JSON.stringify(b),xa)}function r(a,b,c){var d={};d.conversationId=Ra.id;d.success=function(){u(a,b,c)};d.error=function(){};sa.closeConversation(d);za.info("_closeConversation, configuration="+JSON.stringify(d),xa)}function s(a,b,c){Ra.isActive?Ra.isActive&&!Sa.isActive?r(a,b,c):x(a,b,c):u(a,b,c)}function t(a,b,c){Ra.isActive?Ra.isActive&&!Sa.isActive?r(a,b,c):y(a,b,c):u(a,b,c)}function u(b,c,d){a.subscription&&a.subscription.conversationowneraccountid!==lpTag.site?v(b,c,d):w(b,c,d)}function v(b,c,d){var e=!1;lpTag.taglets.providerSubscription.getSharkSession(a.subscription.conversationowneraccountid,function(f){if(!e){e=!0;a.ssid=f;w(b,c,d)}});setTimeout(function(){if(!e){e=!0;w(b,c,d)}},3e3)}function w(c,d,e){var f={conversationContext:{type:"SharkContext",lang:a.lang||Oa},campaignInfo:{}};f.channelType=Ga.MESSAGING;if(a.skillId&&"number"==typeof a.skillId){f.skillId=a.skillId;Qa.skill=a.skillId}if("string"==typeof a.svid){f.conversationContext.visitorId=a.svid;Qa.visitorId=a.svid}"string"==typeof a.ssid&&(f.conversationContext.sessionId=a.ssid);"string"==typeof a.scid&&(f.conversationContext.interactionContextId=a.scid);f.conversationContext.subscription=a.subscription;f.campaignInfo.campaignId=a.cid;Qa.campaignId=a.cid;f.campaignInfo.engagementId=a.eid;f.success=function(a){b.trigger({appName:ya,eventName:Ha.NEW_CONVERSATION_CREATED,data:a});if(Ra&&a&&Ra.id===a.conversationId)c&&c.type&&c.type===Na?y(c,d,e):x(c,d,e);else{ka(a&&a.conversationId);Ta.push({line:c,success:d,error:e})}};f.error=e;b.trigger({appName:ya,eventName:Ha.NEW_CONVERSATION_REQUESTED});W();z("createConversation",f,this);za.info("createConversation, configuration="+JSON.stringify(f),xa)}function x(a,b,c){if(a){var d={};d.dialogId=Sa.id;d.success=C(b);d.error=c;d.text=a.text;if(a.contentType&&a.contentType==lpTag.unifiedWindow.consts.chatEvents.FILE_SHARING){d.text=a.fileData;d.contentType=a.contentType}a.metadata&&(d.metadata=a.metadata);sa.sendMessage(d);za.info("_sendLine="+JSON.stringify(a),xa)}}function y(a,b,c){if(a){var d={};d.dialogId=Sa.id;d.success=C(b);d.error=c;d.json=a.json;sa.sendStructuredContentMessage(d);za.info("_sendStructuredContentLine="+JSON.stringify(a),xa)}}function z(a,b,c){var e="function"==typeof sa.isConnected?sa.isConnected():!ta;if(e)"function"==typeof sa[a]&&sa[a].apply(c||this,!b||b instanceof Array?b:[b]);else{Ua.push(z.bind(this,a,b,c));d()}}function A(b,c,d,e,f){var g={connectorsSfConfig:a.connectorsSfConfig,domain:a.asyncMessagingDomain,IDPDomain:a.idpDomain,connectorId:a.connectorId,historyDomain:a.messagingHistoryDomain,blockHistory:f,authCode:b,redirect_uri:c||a.redirect_uri,authType:d,hasAuthentication:!0,accountId:a.subscription?a.subscription.conversationowneraccountid||a.accountId:a.accountId,subscription:a.subscription,memberType:Ba.USER||"",storageConf:{useSecureStorage:a.useSecureStorage,secureStorageLocation:a.secureStorageLocation,lpNumber:a.accountId,appName:xa},queryParameters:{appName:"webAsync",features:["AUTO_MESSAGES","RICH_CONTENT","CO_BROWSE","PHOTO_SHARING","QUICK_REPLIES","MULTI_DIALOG","FILE_SHARING","MARKDOWN_HYPERLINKS"],timeZone:B()},isStepUpEnabled:a.isStepUpEnabled,directOrderForPendingContent:!0,onSocketConnected:I,onSocketInitialized:J,onConversationStepUp:K,onSubscribeMessagingResponse:$,onUserInfo:R,onConversationList:T,onParticipantJoined:X,onParticipantLeft:Y,onContent:Z,onConversationState:aa,onDialogChatStateChanged:ba,onDialogUpdated:ca,onTTRUpdated:ea,onCSATUpdated:fa,onBrandProfile:m,onSessionInvalidated:M,onSocketClosed:L,onAuthenticationError:N,onServiceNonResponsive:O,onPingSuccess:P,onDeletedSubscriptionFromConversation:Q,pingTimeout:e,resendTimedOutRequests:!0,restRecoveryPolicy:lpTag.AMSStatics.RECOVERY_POLICY.MODERATE,throttlingSupportEnabled:a.throttlingSupportEnabled||!0,throttlingTimeoutValue:a.throttlingTimeoutValue,appVersion:lpTag.unifiedWindow.Application.v,historySource:"unifiedWindow"};a.amsClientConfig&&(g=lpTag.taglets.lpUtil.cloneExtend(a.amsClientConfig,g));return g}function B(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone||null}catch(a){za.info("_getCustomerTimezone, Intl API not supported");return null}}function C(a){return function(b){var c;"function"==typeof a&&b&&!isNaN(b.sequence)&&(c={"@id":b.sequence,convId:Sa.id});a(c)}}function D(a){var b={dialogId:Sa.id,chatState:a?Fa.COMPOSING:Fa.ACTIVE};sa.setDialogChatState(b)}function E(a){sa.setTTR({conversationId:Ra.id,ttrType:a?Ea.urgent:Ea.normal})}function F(a){return sa.subscribeMessagingEvents(a)}function G(a,b,c){var d,e={success:b,error:c,conversationId:Ra.id||a.convId,CSAT:{}};a=a||{};e.CSAT.status=a.status;d=a.survey&&a.survey.question[0]&&a.survey.question[0].answer;d&&(e.CSAT.csatRate=+d||0);sa.setCSAT(e)}function H(a){sa&&sa.dispose();a||(sa=null)}function I(a){if(a&&200===a.statusCode){ta=!1;b.trigger({appName:ya,eventName:Ia.CONNECTED,data:a})}else S();za.info("_onSocketConnected, data="+JSON.stringify(a),xa)}function J(a){if(a&&200===a.code){b.trigger({appName:ya,eventName:Ia.INITIALIZED,data:a});b.trigger({appName:ya,eventName:Ha.STATE,data:Aa.INIT,global:!0})}else S();if(Ua.length){var c=[].concat(Ua);Ua=[];c.forEach(function(a){"function"==typeof a&&a()})}za.info("_onSocketInitialized, data="+JSON.stringify(a),xa)}function K(a){b.trigger({appName:"AMSClient",eventName:"onConversationStepUp",data:a});za.info("_onConversationStepUp, data="+JSON.stringify(a),xa)}function L(a){ta=!0;za.info("_onSocketClosed, data="+JSON.stringify(a),xa);b.trigger({appName:ya,eventName:Ia.DISCONNECTED,data:a})}function M(a){b.trigger({appName:ya,eventName:Ha.AUTHENTICATION_ERROR,data:{error:La.EXPIRED,data:a}});za.info("_onSessionInvalidated, data="+JSON.stringify(a),xa)}function N(a){b.trigger({appName:"*",eventName:Ha.AUTHENTICATION_ERROR,data:{error:La.INVALID_SESSION,data:a}});za.info("_onAuthenticationError, data="+JSON.stringify(a),xa)}function O(a){za.info("_onServiceNonResponsive, data="+JSON.stringify(a),xa);b.trigger({appName:ya,eventName:Ia.NON_RESPONSIVE,data:a})}function P(a){b.trigger({appName:ya,eventName:Ia.PING_SUCCESS,data:a})}function Q(a){b.trigger({appName:ya,eventName:Ha.DELETE_CONVERSATION_SUBSCRIPTION,data:a})}function R(a){b.trigger({appName:ya,eventName:Ha.USER_INFO,data:a});za.info("_onUserInfo, info="+JSON.stringify(a),xa)}function S(){b.trigger({appName:ya,eventName:Ha.ERROR,data:{errorType:Ka.CONNECTION_UNAVAILABLE}})}function T(c){var d=c&&c.data||c,e=d.filter(function(a){return a.conversationDetails.state===Ca.OPEN}),f=e[0]&&e[0].convId;if(f){ka(f,e[0]);la({conversation:e[0]});ma()}else Ma!=c.subscriptionId&&(Ra={id:null,isActive:!1});va=va||d.length>0;b.trigger({appName:ya,eventName:Ha.CONVERSATION_HISTORY,data:d});Qa.language=a.lang||Oa;b.trigger({appName:ya,eventName:Ha.CHAT_INFO,data:Qa});va?W():U()}function U(){if(sa.isWebSocketConnection()&&!wa){var b=3e4;a.connectionTimeoutValue&&(a.connectionTimeoutValue<0?b=void 0:a.connectionTimeoutValue>1e4&&(b=a.connectionTimeoutValue));b&&(wa=setTimeout(V,b))}}function V(){H(!0)}function W(){if(wa){clearTimeout(wa);wa=void 0}}function X(a){for(var c=a.data||a,d=0;d<c.length;d++)b.trigger({appName:ya,eventName:Ha.USER_INFO,data:c[d]})}function Y(a){for(var c=a.data||a,d=0;d<c.length;d++)b.trigger({appName:ya,eventName:Ha.USER_LEFT,data:c[d]})}function Z(a){b.trigger({appName:ya,eventName:Ha.CONVERSATION_CONTENT,data:a})}function $(a){b.trigger({appName:ya,eventName:Ha.SUBSCRIBE_MESSAGING_EVENTS_RESPONSE,data:a})}function _(b,c){var d=Ja.groupByKeyValue(b,"convId");for(var e in d)"undefined"!==e&&(a.connectorsSfConfig||ia(d[e],c,e))}function aa(a){var c;a=a&&a.data||a;for(var d=0;d<a.length;d++)if(a[d].convId===Ra.id){if(a[d].state===Ca.OPEN)c=Aa.CHATTING;else{c=Aa.ENDED;Ra.isActive=!1}b.trigger({appName:ya,eventName:Ha.CONVERSATION_STATE,data:{state:a[d].state,time:a[d].ts,closeReason:a[d].closeReason,convId:a[d].convId}});b.trigger({appName:ya,eventName:Ha.STATE,data:c,global:!0})}}function ba(a){var c;a=Array.isArray(a)?a:[];for(var d=0;d<a.length;d++)if(a[d].dialogId===Sa.id){c=Ja.getPropertyFromObject(a[d],"event.chatState");b.trigger({appName:ya,eventName:Ha.AGENT_TYPING,data:{agentTyping:c===Fa.COMPOSING.toUpperCase(),originatorId:a[d].originatorId}})}}function ca(a){if(a&&a.data)for(var c=0;c<a.data.length;c++){var d=a.data[c];d&&d.channelType===lpTag.unifiedWindow.consts.coBrowse.coBrowseChannelName?b.trigger({appName:ya,eventName:lpTag.unifiedWindow.events.coBrowseEvents.DIALOG_CREATED,data:d}):da(d)}}function da(a){var c;a&&a.state===Da.OPEN&&a.dialogId!==Sa.id&&la({dialogId:a.dialogId});if(a&&a.dialogId===Sa.id){if(a.state===Da.OPEN)c=Aa.CHATTING;else{c=Aa.ENDED;Sa.isActive=!1}b.trigger({appName:ya,eventName:Ha.DIALOG_STATE,data:{state:a.state,time:a.metaDataLastUpdateTs,closedBy:a.closedBy,dialogId:a.dialogId,endTime:a.endTs,closeReason:a.closedBy,dialogType:a.dialogType,channelType:a.channelType,participants:a.participants,conversationId:Ra.isActive?Ra.id:null}});b.trigger({appName:ya,eventName:Ha.STATE,data:c,global:!0})}}function ea(a){ha(a,"ttr","TTR_INFO")}function fa(a){var c=ga(a.data||a);c&&c.csat&&b.trigger({appName:ya,eventName:Ha.CSAT_INFO,data:c})}function ga(a){var b,c=0;a=a.data||a;for(var d=0;d<a.length;d++)if(Ja.getPropertyFromObject(a[d],"csat.endTs")>c){c=a[d].csat.endTs;b=a[d]}return b}function ha(a,c,d){a=a&&a.data||a;for(var e=0;e<a.length;e++)a[e].convId===Ra.id&&b.trigger({appName:ya,eventName:Ha[d],data:a[e][c]})}function ia(a,b,c){var d=ja(a),e={dialogId:c,state:b,sequenceList:d};sa.markMessagesState(e)}function ja(a){var b=a.map(function(a){return a["@id"]});return b}function ka(a,b){Ra.id=a;Ra.isActive=!0;Qa.rtSessionId=Ra.id;if(b&&b.conversationDetails){var c=b.conversationDetails.skillId;c&&"-1"!==c?Qa.skill=c:"number"==typeof Qa.skill?Qa.skill=Qa.skill+"":Qa.skill=void 0}}function la(a){if(a.dialogId){Sa.id=a.dialogId;Sa.isActive=!0}else if(a.conversation){var b,c=a.conversation.conversationDetails&&a.conversation.conversationDetails.dialogs;if(c&&c.length>0){b=c.filter(function(a){return a.channelType!==lpTag.unifiedWindow.consts.coBrowse.coBrowseChannelName&&a.state===Da.OPEN});Sa.id=b.length>0?b[0].dialogId:null;Sa.isActive=b.length>0}}}function ma(){if(Ta.length>0){for(var a=0;a<Ta.length;a++)Ta[a].line&&Ta[a].line.type&&Ta[a].line.type===Na?y(Ta[a].line,Ta[a].success,Ta[a].error):x(Ta[a].line,Ta[a].success,Ta[a].error);Ta=[]}}function na(a){return function(){return sa?a.apply(null,arguments):void 0}}function oa(){return Sa&&Sa.id}function pa(){return sa.getTimeDiff()}function qa(b){b.skillId=a.skillId&&"number"==typeof a.skillId?a.skillId:Pa;sa.sendShiftStatus(b)}function ra(){return Ra&&Ra.isActive}var sa,ta,ua,va,wa,xa="MessagingDelegate",ya=lpTag.unifiedWindow.apps.CHAT,za=lpTag.unifiedWindow.log,Aa=lpTag.unifiedWindow.State,Ba=lpTag.AMSStatics.memberTypes,Ca=lpTag.AMSStatics.conversation.states,Da=lpTag.AMSStatics.dialog.states,Ea=lpTag.AMSStatics.effectiveTTRTypes,Fa=lpTag.AMSStatics.chatStates,Ga=lpTag.AMSStatics.channelTypes,Ha=lpTag.unifiedWindow.events.chat,Ia=lpTag.unifiedWindow.events.socket,Ja=lpTag.unifiedWindow.applicationUtils,Ka=lpTag.unifiedWindow.consts.errorTypes,La=lpTag.unifiedWindow.consts.authErrorsTypes,Ma=(lpTag.unifiedWindow.consts,"historyAPI"),Na="richContent",Oa="en-US",Pa=-1,Qa={},Ra={id:null,isActive:!1},Sa={id:null,isActive:!1},Ta=[],Ua=[];return{createMessagingInstance:c,getMyUserProfile:na(e),getBrandProfile:na(l),updateStepUpParticipants:o,subscribeConversations:na(n),unsubscribeConversations:na(p),createConversation:na(u),closeDialog:na(q),sendLine:na(s),sendStructuredContentLine:na(t),sendStatesUpdate:na(_),setVisitorTyping:D,setConversationUrgency:na(E),subscribeMessagingEvents:na(F),submitExitChatSurvey:na(G),getOTK:na(f),secureFormRequest:na(g),richContentRequest:na(h),quickRepliesRequest:na(i),getTimeDiff:na(pa),imageShareGenerateUrlRequest:na(j),imageShareDownloadUrlRequest:na(k),getShiftStatus:na(qa),getSessionKey:oa,currentConversationActive:ra,dispose:H}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.SMSDelegate=lpTag.unifiedWindow.SMSDelegate||function(a,b){function c(){setTimeout(function(){b.trigger({appName:j,eventName:l.INITIALIZED})})}function d(){return a.smsPreFormId}function e(b,c){if(a.smsPreFormId)h(p,"loadSMSForm",c)&&(o?p.loadSMSForm(a.smsPreFormId,b,c,o.provideraccountid):p.loadSMSForm(a.smsPreFormId,b,c));else{k.error("SMSDelegate:getPreSMSForm failed: no smsPreFormId on window");c()}}function f(a,b,c){h(p,"submitSMSForm",c)&&p.submitSMSForm(a,b,c,{sessionId:m,connectorId:n,subscription:o})}function g(){}function h(a,b,c){if(!a||"function"!=typeof a[b]){c("taglet not exists or initilized");return!1}return!0}function i(){o&&o.conversationowneraccountid&&p.setAccount?p.setAccount(o.conversationowneraccountid):p.setAccount(lpTag.site)}var j=lpTag.unifiedWindow.apps.CHAT,k=lpTag.unifiedWindow.log,l=lpTag.unifiedWindow.events.chat,m=a.sessionId,n=a.connectorId,o=a.subscription,p=lpTag.taglets.lp_sms_client_api;i();return{initialize:c,getPreSMSFormId:d,getPreSMSForm:e,submitPreSMSForm:f,dispose:g}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.ChatStateManager=lpTag.unifiedWindow.ChatStateManager||function(a,b,c,d){function e(a,b,c,d){Da.info("init",Ba);pa=c||{};qa=pa.engConf||{};x(a);ua=b.uiModel;va=b.chatModel;o(d);var e=sa.conf.authConf;e&&(Oa=!0);D();C()}function f(){return wa}function g(a,b){a&&ta.emailTranscript(a,b,A,B)}function h(a){if(a){za=a;var b={surveyData:a};da()?i(b):ta.startChat(b,T,z)}else{t(null,Ha.APP_ENDED);m()}}function i(a){var b=j();if(!b||sa.authenticationManager.isErroneous()){W();Da.info("_submitPreChatSurveyForAuthenticatedSession:getOfflineSurvey. convData: "+!!b+", isErroneous: "+!!sa.authenticationManager.isErroneous(),Ba)}else{L({context:"prechat"});if(b)ta.startChat(Fa.cloneExtend(a,{conversationData:b}),T,z);else{ya=function(b){ta.startChat(Fa.cloneExtend(a,{conversationData:b.newValue}),T,z)};ua.bind(Ka.CONVERSATION_DATA,ya)}}}function j(){return ua.get(Ka.CONVERSATION_DATA)}function k(a){if(a){if(!Ma){Ma=!0;ta.submitExitChatSurvey(a,y,y)}}else{t(null,Ha.APP_ENDED);m()}}function l(a){if(a){if(!Ma){Ma=!0;ta.submitOfflineSurvey(a,y,y)}}else{t(null,Ha.APP_ENDED);m()}}function m(){ta.cancelSurvey()}function n(){ua.unbind(Ka.STATE,u);try{ua.unbind(Ka.CONVERSATION_DATA,ya)}catch(a){}ra.unbind({appName:Ca,eventName:Ga.STATE,func:_});ra.unbind({appName:Ca,eventName:Ga.INITIALIZED,func:r});ra.unbind({appName:Ca,eventName:Ga.BLOD,func:s});ra.unbind({appName:"SessionManager",eventName:Ga.NO_SESSION,func:p});ra.unbind({appName:Ia.UNIFIED_WINDOW,eventName:Ea.application.END_CHAT,func:ea});ra.unbind({appName:Ia.UNIFIED_WINDOW,eventName:Ea.application.END_SURVEY,func:m});ra.unbind({appName:Ia.UISTATE,eventName:Ea.uiState.EMBEDDED_CHANGED,func:H});ra.unbind({appName:Ia.UNIFIED_WINDOW,eventName:Ea.application.PRE_CHAT_SURVEY,func:h});ra.unbind({appName:Ia.UNIFIED_WINDOW,eventName:Ea.application.POST_CHAT_SURVEY,func:k});ra.unbind({appName:Ia.UNIFIED_WINDOW,eventName:Ea.application.OFFLINE_SURVEY,func:l});ra.unbind({appName:Ca,eventName:Ga.CHAT_INFO,func:I})}function o(a){ta=a.apiDelegate;sa=a.appContext;ra=a.events}function p(){t(null,Ha.APP_ENDED)}function q(a){Da.info("_tryResume",Ba);var b=ua.get(Ka.STATE);(!xa||b&&Ja[b]>Ja[xa])&&a(Ja[b],Ja[Ha.ENDED])&&v(null,b,!0)}function r(){Da.info("_tryInitResume",Ba);q(function(a,b){return b>=a})}function s(){Da.info("_tryEndResume",Ba);q(function(a,b){return a>b})}function t(a,b){Da.info("_handleNewState newState= "+b+" err= "+JSON.stringify(a),Ba);var c=ua.get(Ka.STATE);if(oa()&&Oa&&ma()&&na()){b===Ha.APP_ENDED&&sa.events.trigger({appName:lpTag.unifiedWindow.apps.UNIFIED_WINDOW,eventName:lpTag.unifiedWindow.events.application.END_CHAT});if("init"===b&&"chatting"===c){c=null;sa.unAuthUserTriesAuth=!0}}if(!c||Ja[c]<=Ja[b]&&c!==b){xa=b;ua.modify({splitKey:Ka.STATE,updateData:b,onSuccess:function(){(!wa||Ja[b]>=Ja[wa]&&wa!==b)&&v(a,b)}})}}function u(a){Da.info("_handleNewStateFromModel newState= "+a.newValue,Ba);var b=wa;xa&&wa!==xa&&(b=xa);if(ta.isInitialized()){var c=!1;if(b){if(b!==a.newValue){if(Ja[b]>Ja[a.newValue])return;if(b===Ha.PRE_CHAT){ta.reInit();return}}}else c=!0;v(null,a.newValue,c)}}function v(a,b,c){if(wa!==b){wa=b;switch(b){case Ha.INIT:break;case Ha.INITIALIZED:E();break;case Ha.PRE_CHAT:w(c);break;case Ha.WAITING:case Ha.RESUME:case Ha.PAUSED:case Ha.RESUME_PAUSED:case Ha.CHATTING:break;case Ha.ENDED:ba();break;case Ha.POST_CHAT:c&&ba();break;case Ha.OFFLINE:w(c);break;case Ha.NOT_FOUND:ga(a);break;case Ha.ERROR:ga(a);break;case Ha.APP_ENDED:fa();break;default:w(c)}}}function w(a){a&&E({resuming:!0})}function x(a){Na=a.surveyPreChatEnabled||!1;Pa=a.surveyPostChatEnabled||!1;Da.info("_initSurveyParameters usePreChat= "+Na+" useExitSurvey= "+Pa,Ba)}function y(a){Da.info("_submitFinalSurveyCallback: data="+JSON.stringify(a),Ba);Ma=!1;a&&a.error&&5===a.error.internalCode?ra.trigger({appName:Ba,eventName:Ea.chat.SURVEY_ERROR,data:a}):a&&a.error&&10===a.error.internalCode?la()&&F({isInvalid:!0}):t(null,Ha.APP_ENDED)}function z(a){if(a&&a.error){if(32===a.error.internalCode){W();Da.info("_startChatChatError:getOfflineSurvey. internalCode: 32",Ba);return}if(5===a.error.internalCode){ra.trigger({appName:Ba,eventName:Ea.chat.SURVEY_ERROR,data:a});return}if(10===a.error.internalCode){la()&&F({isInvalid:!0});return}}aa(a)}function A(a){ra.trigger({appName:Ba,eventName:Ea.chat.EMAIL_TRANSCRIPT_SUCCESS,data:a})}function B(a){ra.trigger({appName:Ba,eventName:Ea.chat.EMAIL_TRANSCRIPT_ERROR,data:a})}function C(){Da.info("_startFlow",Ba);ta.createChatInstance()}function D(){ra.bind({appName:Ca,eventName:Ga.STATE,func:_});ra.bind({appName:Ca,eventName:Ga.INITIALIZED,func:r});ra.bind({appName:Ca,eventName:Ga.BLOD,func:s});ra.bind({appName:"SessionManager",eventName:Ga.NO_SESSION,func:p});ra.bind({appName:Ia.UNIFIED_WINDOW,eventName:Ea.application.PRE_CHAT_SURVEY,func:h});ra.bind({appName:Ia.UNIFIED_WINDOW,eventName:Ea.application.POST_CHAT_SURVEY,func:k});ra.bind({appName:Ia.UNIFIED_WINDOW,eventName:Ea.application.OFFLINE_SURVEY,func:l});ra.bind({appName:Ia.UNIFIED_WINDOW,eventName:Ea.application.END_CHAT,func:ea});ra.bind({appName:Ia.UNIFIED_WINDOW,eventName:Ea.application.END_SURVEY,func:m});pa.window&&pa.window.embedded&&ra.bind({appName:Ia.UISTATE,eventName:Ea.uiState.EMBEDDED_CHANGED,func:H});ra.bind({appName:Ca,eventName:Ga.CHAT_INFO,func:I});ua.bind(Ka.STATE,u)}function E(a){a=a||{};Da.info("_handleInit",Ba);!a.resuming&&la()?F():G()}function F(a){a=a||{};window.recaptchaRenderer.showCaptcha({isInvalid:a.isInvalid,themer:sa.themer,translator:sa.translator,callback:G})}function G(){if(c.engConf.isOffline){W();Da.info("_handleInitContinue:getOfflineSurvey. uiState.engConf.isOffline: true",Ba)}else sa.conf.unifiedConf.skipAvailabilityCheck?J({availability:!0}):ta.getAvailability(J,aa)}function H(a){if(a){Da.info("resumingPolling",Ba);ta.resumePolling()}else{Da.info("stopPolling",Ba);ta.stopPolling()}}function I(a){var b;if(a.agentPictureUrl&&a.agentName){b=ua.get(Ka.AGENT_PICTURE_URL)||{};b[a.agentName]=a.agentPictureUrl;ua.modify(Ka.AGENT_PICTURE_URL,b)}a.skillName&&(Aa=a.skillName)}function J(a){Da.info("_availabilitySuccess data="+JSON.stringify(a),Ba);if(a&&a.availability)da()&&(!K()||oa()&&ma()&&na())?M():Na?ta.getPreChatSurvey(U,V):ta.startChat(null,T,z);else{W();Da.info("_availabilitySuccess:getOfflineSurvey. availability: false",Ba)}}function K(){return ua.get(Ka.STATE)===Ha.PRE_CHAT&&ua.get(Ka.CONVERSATION_DATA)}function L(a){Da.info("_triggerProcessingEvent data="+JSON.stringify(a),Ba);ra.trigger({appName:Ia.UNIFIED_WINDOW,eventName:Ea.application.PROCESSING,data:a})}function M(){Da.info("_startAuthentication",Ba);L({context:"onload"});Na&&ta.getPreChatSurvey(U,aa);sa.authenticationManager.authenticate(N,P)}function N(a){Da.info("_startConversation data="+JSON.stringify(a),Ba);var b;if(a&&a.ssoKey){var c=j();if(c)ta.startChat({conversationData:c},T,z);else{b={domain:sa.conf.unifiedConf.domain,appKey:sa.keys.appKey,connectorId:sa.conf.authConf.connector.id,ssoKey:a.ssoKey,redirectUri:a.redirect_uri||null,engConf:sa.conf.engConf};ta.startConversation(b,O(),Q)}}}function O(){return Na?function(a){Da.info("_startConversationSuccess data="+JSON.stringify(a),Ba);ua.modify(Ka.CONVERSATION_DATA,a)}:function(a){Da.info("_startConversationSuccess data="+JSON.stringify(a),Ba);ta.startChat({conversationData:a},T,z)}}function P(a){Da.info("_ssoKeyError data="+JSON.stringify(a),Ba);R()}function Q(a){Da.info("_startConversationError data="+JSON.stringify(a),Ba);R()}function R(){(f()!==Ha.PRE_CHAT||oa()&&ma()&&na())&&S()}function S(){W();Da.info("_authenticationErrorCallback:getOfflineSurvey.",Ba)}function T(a){ra.trigger({appName:Ba,eventName:Ea.chat.START_CHAT_INFO,data:a.info});Da.info("_startChatSuccess data="+JSON.stringify(a),Ba)}function U(a){Da.info("_getPreChatSuccess data="+JSON.stringify(a),Ba);a&&a.survey?$(Ea.application.PRE_CHAT_SURVEY,La.SURVEYS_PRECHAT,a.survey):ta.startChat(null,T,z)}function V(a){Da.info("_getPreChatError data="+JSON.stringify(a),Ba);ta.startChat(null,T,z)}function W(){ta.getOfflineSurvey(X,aa)}function X(a){Da.info("_getOfflineSurveyCallback data="+JSON.stringify(a),Ba);a&&!a.error&&a.survey?$(Ea.application.OFFLINE_SURVEY,La.SURVEYS_OFFLINE,a.survey):aa()}function Y(a){Da.info("_getPostChatSurveyCallback, survey="+JSON.stringify(a),Ba);a&&!a.error&&a.survey?$(Ea.application.POST_CHAT_SURVEY,La.SURVEYS_EXIT,a.survey):aa()}
function Z(a){Da.info("_getExitSurveyError, survey="+JSON.stringify(a),Ba);t(null,Ha.APP_ENDED)}function $(a,b,c){var d;c&&c.questions&&c.questions.question&&c.questions.question.forEach(function(a){a.label=lpTag.HtmlSanitizerUtils&&lpTag.HtmlSanitizerUtils.sanitizeHtml(a.label).cleanText;a.entry&&a.entry.forEach(function(a){a.displayValue=lpTag.HtmlSanitizerUtils&&lpTag.HtmlSanitizerUtils.sanitizeHtml(a.displayValue).cleanText})});if(lpTag.hooks&&lpTag.hooks.exec){d=lpTag.hooks.exec({name:lpTag.unifiedWindow.hooks.AFTER_GET_SURVEY,data:{surveyType:a,surveyData:c}});c=d&&d.data&&d.data.surveyData||c}va.modify(b,c)}function _(a){Da.info("_stateListener state="+a,Ba);t(null,a)}function aa(a){Da.info("_changeToError err= "+JSON.stringify(a),Ba);t(a,Ga.ERROR)}function ba(){Da.info("_checkForPostChatSurvey",Ba);ca()?ta.getExitSurvey(Pa,Y,Z):t(null,Ha.APP_ENDED)}function ca(){var b;b=Pa||qa.skill!==Aa?a.postChatSurveyOnNonInteractiveChat===!0||ta.isInteractive():!1;return b}function da(){return Oa}function ea(){ta.setVisitorTyping(!1);ta.endChat(null,aa)}function fa(){Da.info("_disposeApplication",Ba);ta.disposeVisitor();ra.trigger({appName:Ba,eventName:Ea.chatState.ENDED});n()}function ga(){Da.info("_handleError",Ba);t(null,Ha.APP_ENDED)}function ha(a,b){return ta.getOTK(a,b)}function ia(a,b,c,d){return ta.secureFormRequest(a,b,c,d)}function ja(a){return JSON.stringify({siteId:lpTag.site,chatId:ta.getSessionKey&&ta.getSessionKey()})}function ka(a,b){Da.info("richContentRequest info: "+JSON.stringify(a),Ba);b=b||[];ta.richContentRequest(a,b)}function la(){return window.recaptchaRenderer}function ma(){var a=window.lpTag.identitiesObjects;if(!a||!a.length)return!0;for(var b=0;b<a.length;b++)if(a[b]&&a[b].acr&&"0"!==a[b].acr)return!1;return!0}function na(){return!sa.conf.unifiedConf.isMessaging&&!sa.conf.engConf.async}function oa(){var a=sa&&sa.conf&&sa.conf.unifiedConf,b=a&&a.external,c=a.identitiesFlowImplementedForLiveChat;return!b&&c}var pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba="ChatStateManager",Ca=lpTag.unifiedWindow.apps.CHAT,Da=lpTag.unifiedWindow.log,Ea=lpTag.unifiedWindow.events,Fa=lpTag.unifiedWindow.applicationUtils,Ga=Ea.chat,Ha=lpTag.unifiedWindow.State,Ia=lpTag.unifiedWindow.apps,Ja=lpTag.unifiedWindow.Priority,Ka=lpTag.unifiedWindow.uiModelPath,La=lpTag.unifiedWindow.chatModelPath,Ma=!1,Na=!1,Oa=!1,Pa=!1;e(a,b,c,d);this.emailTranscript=g;this.getCurrentState=f;this.getOTK=ha;this.richContentRequest=ka;this.secureFormRequest=ia;this.getOtkJson=ja;this.dispose=n};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.SMSDeflectionManager=lpTag.unifiedWindow.SMSDeflectionManager||function(a,b,c,d){function e(){r=new lpTag.unifiedWindow.helpers.SMSFormHelper;f(d);g();o.initialize()}function f(a){o=a.apiDelegate;p=a.appContext;q=a.events}function g(){q.bind({appName:s,eventName:t.INITIALIZED,func:i});q.bind({appName:w.UNIFIED_WINDOW,eventName:x.application.PRE_SMS_FORM,func:j});q.bind({appName:w.UNIFIED_WINDOW,eventName:x.application.PRE_SMS_FORM_EXIT,func:k})}function h(){q.unbind({appName:s,eventName:t.INITIALIZED,func:i});q.unbind({appName:w.UNIFIED_WINDOW,eventName:x.application.PRE_SMS_FORM,func:j})}function i(){o.getPreSMSForm(function(a){if(a.error)l();else{z.modify(v.STATE,lpTag.unifiedWindow.State.PRE_SMS);y.modify(u.SURVEYS_PRESMS,r.transform(a))}},function(a){l()})}function j(a){if(a&&a.survey){var b=A.externalTargets&&A.externalTargets[B.externalTargets.SMS]&&A.externalTargets[B.externalTargets.SMS].brandIdentifier,c=y.get(u.SURVEYS_PRESMS),d=r.getAnswerOfType(c,a.survey.question,r.TYPES.PHONE_NUMBER),e=r.getAnswerOfType(c,a.survey.question,r.TYPES.FIRST_NAME),f=r.getAnswerOfType(c,a.survey.question,r.TYPES.LAST_NAME),g=r.getAnswerOfType(c,a.survey.question,r.TYPES.MESSAGE);if(!d||!b){l();return}var h={Body:g?C(g.answer).cleanText:"",From:d.answer,To:b,context:{engagementId:A.eid,campaignId:A.cid,visitorId:A.svid,visitorFirstName:C(e).cleanText?e.answer:"",visitorLastName:f?C(f.answer).cleanText:""}};A.skillId&&(h.context.skillId=A.skillId);o.submitPreSMSForm(h,function(b){z.modify(v.PRE_SMS_CONTEXT,h);z.modify(v.STATE,lpTag.unifiedWindow.State.APP_ENDED);n(a.survey,"success");m()},function(){l();n(a.survey,"fail")})}else{z.modify(v.STATE,lpTag.unifiedWindow.State.APP_ENDED);m()}}function k(){m();q.trigger({appName:s,eventName:x.viewController.INITIATE_END_CHAT})}function l(){z.modify(v.STATE,lpTag.unifiedWindow.State.CONNECTION_ISSUE)}function m(){h()}function n(a,b){lpTag.hooks&&lpTag.hooks.exec&&lpTag.hooks.exec({name:lpTag.unifiedWindow.hooks.AFTER_SUBMIT_SURVEY,data:{context:p,surveyType:lpTag.unifiedWindow.SurveyType.PRE_SMS,surveyData:a,status:b}})}var o,p,q,r,s=lpTag.unifiedWindow.apps.CHAT,t=lpTag.unifiedWindow.events.chat,u=lpTag.unifiedWindow.chatModelPath,v=lpTag.unifiedWindow.uiModelPath,w=lpTag.unifiedWindow.apps,x=lpTag.unifiedWindow.events,y=b.chatModel,z=b.uiModel,A=c.engConf||{},B=lpTag.unifiedWindow.consts,C=lpTag.HtmlSanitizerUtils&&lpTag.HtmlSanitizerUtils.sanitizeHtml||function(a){return{cleanText:a}};e()};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.ConversationManager=lpTag.unifiedWindow.ConversationManager||function(a,b,c,d){function e(a){$b.info("init",Yb);Nb=b.uiModel;Ob=b.chatModel;Db=a.stepUpManager;k(a);l();m();if(Tb){Tb.type=Tb.type||Rc.getPropertyFromObject(a,"appContext.conf.authConf.stepUpConnector.type")||Rc.getPropertyFromObject(a,"appContext.conf.authConf.connector.type");A(Tb)}else S()}function f(){Lb.unbind({appName:"SessionManager",eventName:cc.NO_SESSION,func:pb});Lb.unbind({appName:Zb,eventName:ic.CONNECTED,func:n});Lb.unbind({appName:Zb,eventName:ic.INITIALIZED,func:o});Lb.unbind({appName:Zb,eventName:ic.DISCONNECTED,func:r});Lb.unbind({appName:Zb,eventName:ic.NON_RESPONSIVE,func:s});Lb.unbind({appName:Zb,eventName:ic.PING_SUCCESS,func:p});Lb.unbind({appName:Zb,eventName:cc.USER_INFO,func:B});Lb.unbind({appName:Zb,eventName:cc.USER_LEFT,func:C});Lb.unbind({appName:fc.UNIFIED_WINDOW,eventName:_b.application.POST_CHAT_SURVEY,func:ib});Lb.unbind({appName:fc.UNIFIED_WINDOW,eventName:_b.application.END_CHAT,func:lb});Lb.unbind({appName:Zb,eventName:cc.CONVERSATION_STATE,func:U});Lb.unbind({appName:Zb,eventName:cc.DIALOG_STATE,func:V});Lb.unbind({appName:Zb,eventName:cc.CONVERSATION_CONTENT,func:la});Lb.unbind({appName:Zb,eventName:cc.SUBSCRIBE_MESSAGING_EVENTS_RESPONSE,func:na});Lb.unbind({appName:Zb,eventName:cc.CONVERSATION_HISTORY,func:Za});Lb.unbind({appName:Zb,eventName:cc.CSAT_INFO,func:O});Lb.unbind({appName:"*",eventName:cc.AUTHENTICATION_ERROR,func:R});Lb.unbind({appName:Zb,eventName:cc.NEW_CONVERSATION_REQUESTED,func:ob});Lb.unbind({appName:"*",eventName:dc.CONVERSATIONS_VIEWED,func:$a});Lb.unbind({appName:"*",eventName:dc.RETRY_GET_HISTORY,func:ra});Lb.unbind({appName:"*",eventName:cc.FORGET_ME,func:P})}function g(a){Pb.setConversationUrgency(a)}function h(a){var b=Mc[a];return Lc[b]&&Lc[b].dialogs[a].state===kc.states.OPEN}function i(){return Eb}function j(){return Ac===(Eb&&Eb.length-1)}function k(a){Pb=a.apiDelegate;Mb=a.appContext;Lb=a.events;Tb=a.authenticationData;Wb=a.appContext.featureStateManager;Xb=a.appContext.uiStateManager;_c=Wb.checkSetting(sc.BLOCK_CONSUMER,"true")}function l(){Lb.bind({appName:"SessionManager",eventName:cc.NO_SESSION,func:pb});Lb.bind({appName:Zb,eventName:ic.CONNECTED,func:n});Lb.bind({appName:Zb,eventName:ic.INITIALIZED,func:o});Lb.bind({appName:Zb,eventName:ic.DISCONNECTED,func:r});Lb.bind({appName:Zb,eventName:ic.NON_RESPONSIVE,func:s});Lb.bind({appName:Zb,eventName:ic.PING_SUCCESS,func:p});Lb.bind({appName:Zb,eventName:cc.USER_INFO,func:B});Lb.bind({appName:Zb,eventName:cc.USER_LEFT,func:C});Lb.bind({appName:fc.UNIFIED_WINDOW,eventName:_b.application.POST_CHAT_SURVEY,func:ib});Lb.bind({appName:fc.UNIFIED_WINDOW,eventName:_b.application.END_CHAT,func:lb});Lb.bind({appName:Zb,eventName:cc.CONVERSATION_STATE,func:U});Lb.bind({appName:Zb,eventName:cc.DIALOG_STATE,func:V});Lb.bind({appName:Zb,eventName:cc.CSAT_INFO,func:O});Lb.bind({appName:Zb,eventName:cc.CONVERSATION_CONTENT,func:la});Lb.bind({appName:Zb,eventName:cc.SUBSCRIBE_MESSAGING_EVENTS_RESPONSE,func:na});Lb.bind({appName:Zb,eventName:cc.CONVERSATION_HISTORY,func:Za});Lb.bind({appName:"*",eventName:cc.AUTHENTICATION_ERROR,func:R});Lb.bind({appName:Zb,eventName:cc.NEW_CONVERSATION_REQUESTED,func:ob});Lb.bind({appName:"*",eventName:dc.CONVERSATIONS_VIEWED,func:$a});Lb.bind({appName:"*",eventName:dc.RETRY_GET_HISTORY,func:ra});Lb.bind({appName:"*",eventName:cc.FORGET_ME,func:P});Lb.bind({appName:"API",eventName:cc.DELETE_CONVERSATION_SUBSCRIPTION,func:qb});Lb.once({appName:Zb,eventName:cc.CONVERSATION_OWNER_BRAND_INFO,func:zb})}function m(){Qb={agent:!1,visitor:!1}}function n(){$b.info("_handleSocketConnected",Yb);Db.sendStepUp();p();t()}function o(){$b.info("_handleSocketInitialized",Yb);if(Ic)v(Kb);else if(!Dc){Dc=!0;N()}}function p(){if(Cc){Cc=!1;q()}}function q(){if(Fb&&Nb.get(ac.STATE)===ec.CONNECTION_ISSUE){Ib.dialogId=Hb;V(Ib);ba(Fb)}}function r(){$b.info("_handleSocketDisconnected",Yb);Wc=!0;Nc={};Kb=null;Jb||Cc||(Jb=setTimeout(function(){s()},Ec))}function s(){if(!Cc){Cc=!0;Nc={};Gb=aa();Hb=_();Lc[Gb]&&Lc[Gb].dialogs&&Lc[Gb].dialogs[Hb]&&(Ib=lpTag.unifiedWindow.applicationUtils.clone(Lc[Gb].dialogs[Hb]));U({convId:aa(),state:ec.CONNECTION_ISSUE});V({dialogId:_(),state:ec.CONNECTION_ISSUE});t();Fb=Nb.get(ac.STATE);Jc?ba(ec.CONNECTION_ISSUE):T()}}function t(){clearTimeout(Jb);Jb=null}function u(a){var b,c;if(a){b=Mc[a];if(Mb.conf.unifiedConf.connectorsSfConfig&&Mb.conf.unifiedConf.connectorsSfConfig.conversationId&&Mb.conf.unifiedConf.connectorsSfConfig.dialogId){var d=Mb.conf.unifiedConf.connectorsSfConfig.conversationId,e=Mb.conf.unifiedConf.connectorsSfConfig.dialogId;return e===a&&d===b?!0:!1}if(Lc[b].dialogs[a].channelType!==kc.channelTypes.COBROWSE){c=Lc[b].dialogs[a].dialogType;switch(c){case kc.types.MAIN:case kc.types.POST_SURVEY:return!0;default:var f=Lc[b].dialogs[a].participants.some(function(a){return a.role===mc.CONSUMER});if(f)return!0}}}return!1}function v(a){a&&Pb.unsubscribeConversations(a);Pb.subscribeConversations(F)}function w(){!Mb.conf.unifiedConf.poppedOut&&!Mb.conf.unifiedConf.external||Mb.conf.unifiedConf.connectorsSfConfig&&Mb.conf.unifiedConf.connectorsSfConfig.isFormSubmitted?x(A):y()}function x(a){if(wc>=xc)S();else{wc++;$b.info("_restartAuthentication",Yb);Mb.authenticationManager.reAuthenticate(a,x.bind(this,a))}}function y(){Ic?ba(ec.RESTART_AUTHENTICATION,null):window.location.href=Mb.appConfigurationManager.getExternalResourceURL(Mb.conf.engConf,Mb.conf.unifiedConf,Mb.conf.unifiedConf.poppedOut,!0)}function z(){wc=0;x(function(){wc=0;var a=Nb.get(ac.STATE);a===ec.AUTH_ERROR&&Lb.trigger({appName:"*",eventName:"knockout"})})}function A(a){$b.info("_ssoKeySuccess data="+JSON.stringify(a),Yb);var b=a&&a.ssoKey||null,c=a&&a.redirect_uri||null,d=a&&a.type||Rc.getPropertyFromObject(Mb,"conf.authConf.stepUpConnector.type")||Rc.getPropertyFromObject(Mb,"conf.authConf.connector.type")||null,e=Db&&Db.getStepUpFailedStatus(),f=Rc.getPropertyFromObject(Mb,"conf.engConf.allowUnauthMsg");f?Pb.createMessagingInstance(b,c,d,Ec,e,_c):Pb.createMessagingInstance(b,c,d,Ec,e)}function B(a){I(a);if(!Ic){v(Kb);Ic=!0;Dc=!1}}function C(a){D(a)&&J();if(a&&a.dialogId){var b=Mc[a.dialogId];if(b&&Lc[b]){var c=Lc[b].dialogs[a.dialogId];if(c&&c.participants){var d=c.participants.some(function(b){return b.id===a.pid});if(d){var e=c.participants.indexOf(d);"number"==typeof e&&c.participants.splice(e,1)}}}}}function D(a){return!!a&&(a.type===mc.ASSIGNED_AGENT||a.type===mc.AGENT)&&!!a.dialogId&&h(a.dialogId)}function E(a){var b=Mc[a];return Lc[b].state===jc.OPEN}function F(a){wc=0;Kb=a.subscriptionId}function G(){var a=Mb.themer&&Mb.themer.getStyle("openingMessage","text"),b={source:Bc.AGENT,by:Mb.translator.translate("info"),isWelcomeMessage:!0},c={brandName:{type:"sitesettings",value:"account.profile.brand.name"}};if(Vb){b.text=Vb.text;if(Vb.quickReplies&&Vb.quickReplies.length>0){var d=H(Vb.quickReplies);if(d){b.quickReplies=d;Vb.quickRepliesState={isRequired:!0,isRenedered:!1,isRemoved:!1}}}}else a?b.text=a:b.textKey="welcomeMessage";if("string"==typeof b.text){var e=Mb.conf.unifiedConf.welcomeMessageTemplate||{},f=Rc.cloneExtend(e,c);for(var g in f)if(g){var h=new RegExp("{"+g+"}","gi");if(h.test(b.text)){var i=f[g]||{};if("sitesettings"===i.type){var j;if(Mb.conf.engConf.subscription)try{j=JSON.parse(Mb.conf.engConf.subscription.conversationownerSettings||"[]")}catch(k){j=[]}else j=Mb.conf.accountSettings;var l=(j||[]).filter(function(a){return a.id===i.value}),m=l.length?l[0].propertyValue.value:"";b.text=b.text.replace(h,m)}}}}Va([b])}function H(a){var b=Mb.conf.windowConf.welcomeMessage.wrapQuickReplies,c={type:tc.QUICK_REPLIES,itemsPerRow:b?void 0:8,replies:[]};a.forEach(function(a){var b={type:tc.BUTTON,tooltip:a.text,title:a.text,click:{actions:[{type:uc.PUBLISH_TEXT,text:a.text}]}};c.replies.push(b)});return c}function I(a){if(a){var b={id:a.userId,type:K(a),name:a.name,imgUrl:a.imgUrl},c=!1;b.name||(b.type===Bc.VISITOR?b.name=a.firstName||a.lastName?a.firstName+" "+a.lastName:Mb.translator.translate("you"):b.name=Mb.translator.translate("agent"));L(b,a);switch(b.type){case Bc.VISITOR:Ob.get(bc.VISITOR_NAME)||(c=!0);break;case Bc.AGENT:D(a)&&(c=!0)}c&&M(b)}}function J(){Lb.trigger({appName:Zb,eventName:cc.CHAT_INFO,data:{resetAgentInfo:!0}})}function K(a){var b,c="CONTROLLER",d="CONSUMER";if("string"==typeof a.type)switch(a.type){case c:b=Bc.SYSTEM;break;case d:b=Bc.VISITOR;break;default:b=Bc.AGENT}else b=a.role?Bc.AGENT:Bc.VISITOR;return b}function L(a,b){var c=Ob.get(bc.PARTICIPANTS)||{};c[a.id]=a;Ob.modify(bc.PARTICIPANTS,c);if(b&&b.dialogId){var d=Mc[b.dialogId];if(d&&Lc[d]){var e=Lc[d].dialogs[b.dialogId];if(e&&e.participants){var f=e.participants.some(function(a){return a.id===b.userId});f||e.participants.push({id:b.userId,role:b.type})}}}}function M(a){var b;if(a&&a.name&&a.id){b={};b[a.type+"Name"]=a.name;b[a.type+"Id"]=a.id;Lb.trigger({appName:Zb,eventName:cc.CHAT_INFO,data:b})}}function N(){Lb.trigger({appName:Zb,eventName:cc.INITIALIZED});Jc=!0;Pb.getMyUserProfile();Pb.getBrandProfile();ba(ec.REQUESTED,null)}function O(a){if(!Eb||a.convId===Eb[0].convId){Sb=a;Ob.get(bc.SURVEYS_EXIT)&&Q(a.csat)&&jb()}}function P(){Vc=!0;var a=Nb.get(ac.STATE);(a===ec.WAITING||a===ec.CONNECTION_ISSUE&&Fb===ec.WAITING)&&nb()}function Q(a){return a.csatRate||a.status&&(a.status===gc.csatStatus.SKIPPED||a.status===gc.csatStatus.PARTIALLY_FILLED)}function R(a){switch(a&&a.error){case oc.EXPIRED:w();break;case oc.INVALID_SESSION:S();break;case oc.LOGOUT:z()}}function S(a){$b.info("_endAppOnInvalidSession"+(a?" err="+JSON.stringify(a):""),Yb);var b=Rc.getPropertyFromObject(Mb,"conf.engConf.allowUnauthMsg");if(b){ba(ec.ERROR,null);Lb.trigger({appName:Zb,eventName:cc.ERROR,data:{errorType:nc.FAILED_START_CONVERSATION_ERROR,keepError:!0}})}else{ba(ec.AUTH_ERROR,null);Lb.trigger({appName:Zb,eventName:cc.ERROR,data:{errorType:nc.AUTH_ERROR,keepError:!0}})}Pb.dispose()}function T(){$b.info("_endAppAndShowFailedConnectionError",Yb);ba(ec.ERROR);Rc.isEmpty(Sc)&&Jc?Lb.trigger({appName:Zb,eventName:cc.FAILED_START_CONVERSATION}):Lb.trigger({appName:Zb,eventName:cc.ERROR,data:{errorType:nc.FAILED_START_CONVERSATION_ERROR,keepError:!0}});Pb.dispose()}function U(a){if(Lc[a.convId]&&Lc[a.convId].state!==a.state){Lc[a.convId].state=a.state;switch(a.state){case jc.OPEN:Kc=!1;Rb=!1;break;case jc.CLOSE:fa(a)}}}function V(a){var b=Mc[a.dialogId]||a.conversationId;if(Lc[b]){if(!Lc[b].dialogs[a.dialogId]){Lc[b].dialogs[a.dialogId]={state:null,endTime:a.endTime,closeReason:a.closeReason,dialogType:a.dialogType,channelType:a.channelType,participants:a.participants,lastMessageId:-1,history:!1};var c=Lc[b].sortedDialogIds;c.push({dialogId:a.dialogId,endTime:a.endTime});Lc[b].sortedDialogIds=gb(c);Mc[a.dialogId]=b;eb(a.dialogId)}if(Lc[b].dialogs[a.dialogId].state!==a.state){Lc[b].dialogs[a.dialogId].state=a.state;switch(a.state){case kc.states.OPEN:Kc=!1;Ob.modify(bc.CURRENT_DIALOG_TYPE,a.dialogType);Mb.conf.unifiedConf.shouldSkipConfirmationDialog=Lc[b].dialogs[a.dialogId].dialogType===kc.types.POST_SURVEY;kb(a.dialogId);break;case kc.states.CLOSE:ga(a);Ob.removeKey(bc.CURRENT_DIALOG_TYPE,!1);Ub=!1;if(!Kc&&Lc[b].dialogs[a.dialogId].lastMessageId>=0){Kc=!0;W(a.dialogId)}Lb.trigger({appName:Zb,eventName:cc.CONVERSATION_CLOSED,data:{convId:a.dialogId}})}}}}function W(a){var b=Mc[a],c=Lc[b].dialogs[a].dialogType;(c===kc.types.MAIN&&!X(b)||c!==kc.types.MAIN)&&Va([Ua(a)])}function X(a){var b;if(a){b=Y(a);return Lc[a].dialogs[b].closeReason===Hc.SYSTEM}}function Y(a){if(Lc[a]&&Lc[a].dialogs)for(var b in Lc[a].dialogs)if(Lc[a].dialogs[b].dialogType===kc.types.MAIN)return b}function Z(a){if(Lc[a]&&Lc[a].dialogs){for(var b in Lc[a].dialogs)if(Lc[a].dialogs[b].dialogType===kc.types.POST_SURVEY)return Lc[a].dialogs[b].lastMessageId<0;return!0}}function $(a){if(Lc[a]&&Lc[a].dialogs&&Lc[a].sortedDialogIds)for(var b=0;b<Lc[a].sortedDialogIds.length;b++){var c=Lc[a].sortedDialogIds[b].dialogId;if(Lc[a].dialogs[c].lastMessageId>=0)return c}}function _(){for(var a in Lc)if(Lc.hasOwnProperty(a))for(var b in Lc[a].dialogs)if(Lc[a].dialogs.hasOwnProperty(b)&&Lc[a].dialogs[b].state===kc.states.OPEN)return b}function aa(){for(var a in Lc)if(Lc.hasOwnProperty(a)&&Lc[a].state===jc.OPEN)return a}function ba(a,b){var c=Nb.get(ac.STATE),d=c===ec.POST_CHAT&&a===ec.WAITING,e=!c||c!==a;if(e&&!d){Nb.modify({splitKey:ac.STATE,updateData:a,onSuccess:b});Zc.push(a);if(a===ec.WAITING){J();m();ea(a);var f=Ob&&Ob.getModel();if(f){var g=Wb.getCloseWindowButtonBehaviorType(),h=Xb.isWindowClosedByVisitor();c===ec.APP_ENDED&&g===Wb.CLOSE_ON_END_TYPE.CLOSE&&h||ca(f)&&da()}else da()}}}function ca(a){var b=a&&a.attributes&&a.attributes.chat&&a.attributes.chat.currentDialogType!==kc.types.POST_SURVEY,c=!Ub||0===Rc.getPropertyFromObject(a,"attributes.chat.lines",[]).length;return b&&c}function da(){if(!(Zc&&Zc.length>=3&&Zc[Zc.length-1]===ec.WAITING&&Zc[Zc.length-2]===ec.PENDING&&Zc[Zc.length-3]===ec.WAITING)){Vb=Mb.conf.windowConf&&Mb.conf.windowConf.welcomeMessage;var a=!1;if(Vb){if(Vb.isEnabled){Vb.whenToPresent===vc.showTiming.EVERY_TIME?a=!0:Vb.whenToPresent!==vc.showTiming.FIRST_TIME||Eb||Ub||(a=!0);Ub=!0}}else if(!Eb&&!Ub){Ub=!0;a=!0}a&&setTimeout(G,0)}}function ea(a){Lb.trigger({appName:Zb,eventName:cc.STATE,data:a})}function fa(a){var b;Lc[a.convId].endTime=a.time;Lc[a.convId].closeReason=a.closeReason;mb(!1);b=ia(a);b||nb()}function ga(b){var c=Mc[b.dialogId],d=Lc[c].sortedDialogIds;Lc[c].dialogs[b.dialogId].endTime=b.endTs||b.time;Lc[c].dialogs[b.dialogId].closeReason=b.closedBy;d[d.length-1].dialogId===b.dialogId&&(d[d.length-1].endTime=Lc[c].dialogs[b.dialogId].endTime);mb(!1);ba(ec.APP_ENDED,function(){var b=Nb.get(ac.STATE);Mb.conf.unifiedConf.external&&!a.surveyPostChatEnabled&&(Ub=!1);b!==ec.APP_ENDED||Vc||ba(ec.WAITING)})}function ha(a){var b=a&&a.convId||Sb&&Sb.convId;if(b&&Z(b)&&Lc[b]&&Lc[b].postSurveyDialogWasOpened&&Lc[b].state===jc.CLOSE){J();var c=Lc[b].dialogs[Y(b)],d=c.participants.some(function(a){return a.role===mc.ASSIGNED_AGENT});d&&M(Ta({originatorId:d.id}))}}function ia(b){var c,d,e,f=!1;if(a.surveyPostChatEnabled){e=Rc.getPropertyFromObject(Sb,"csat.endTs")+Pb.getTimeDiff()+Gc;c=b&&!X(b.convId)&&Ga(Y(b.convId))&&Z(b.convId);d=Sb&&!ja(Sb)&&Ga(Y(Sb.convId))&&Z(Sb.convId)&&Date.now()<e&&!aa()&&!X(Sb.convId);Rc.getPropertyFromObject(Mb,"conf.engConf.allowUnauthMsg")&&(d=!1);if(c||d){ha(b);ba(ec.POST_CHAT,ka);f=!0;ea(ec.POST_CHAT)}}return f}function ja(a){return Rc.getPropertyFromObject(a,"csat.csatRate")||"SKIPPED"===Rc.getPropertyFromObject(a,"csat.status")}function ka(){var a,b,c=Ob.get(bc.AGENT_NAME)||Mb.translator.translate("csatTheAgent");c=lpTag.HtmlSanitizerUtils&&lpTag.HtmlSanitizerUtils.sanitizeHtml(c).cleanText;Mb.translator.extendDictionary({agentName:c},{locale:Mb.conf.engConf.lang});b=lpTag.unifiedWindow.CsatDataGenerator(Mb.translator);Ob.removeKey(bc.SURVEYS_EXIT,!1);if(lpTag.hooks&&lpTag.hooks.exec){a=lpTag.hooks.exec({name:lpTag.unifiedWindow.hooks.AFTER_GET_SURVEY,data:{surveyType:_b.application.POST_CHAT_SURVEY,surveyData:b}});b=a&&a.data&&a.data.surveyData||b}Ob.modify(bc.SURVEYS_EXIT,b)}function la(a){var b;if(a&&!Rc.isEmpty(a)){if(a&&a.dialogId){b=Oc[a.dialogId]&&Oc[a.dialogId].resubscribe;qa(a.dialogId)}va(a,b)}Aa(b);ma()}function ma(){var a=aa();if(a&&!Rb&&Ga(Y(a))){Rb=!0;ea(ec.INTERACTIVE)}}function na(a){var b,c,d,e;if(a&&a.reqId)if(200!=a.code)oa(a);else{b=Nc[a.reqId].dialogId;d=1;if(!Rc.isEmpty(Qc)&&Qc[b]){d=Qc[b].retries;delete Qc[b]}e=Nc[a.reqId].resubscribe;pa(a.reqId);sa(b);c=setTimeout(function(){Qc[b]||(Qc[b]={retries:d});la({dialogId:b})},Fc);Oc[b]={dialogId:b,timeoutId:c,resubscribe:e}}}function oa(a){var b,c=a&&a.reqId;if(c&&Nc[c]){b=Nc[c].dialogId;if(Qc[b]&&Qc[b].retries>=zc){pa(c,!0);if(E(b))T();else{Aa();if(0===Object.keys(Nc).length&&Pc[Y(Eb[0].convId)]){Mb.conf.unifiedConf.failedToLoadHistory=!0;Aa(!0)}}}else{Qc[b]?Qc[b].retries++:Qc[b]={retries:1};var d=eb(b);d!==c&&pa(c)}}}function pa(a,b){if(b&&Nc[a]&&Nc[a].dialogId){Pc[Nc[a].dialogId]=Nc[a];wa(Nc[a].dialogId)}delete Nc[a]}function qa(a){if(a&&Oc&&Oc[a]&&Oc[a].timeoutId){clearTimeout(Oc[a].timeoutId);delete Oc[a].timeoutId}delete Oc[a]}function ra(a){if(Rc.isEmpty(Pc))$a(a);else for(var b in Pc)Pc.hasOwnProperty(b)&&eb(b)}function sa(a){delete Pc[a]}function ta(a,b){var c;for(var d in a){c=a[d].dialogId&&Mc[a[d].dialogId];if(Tc!==d&&a.hasOwnProperty(d)&&!za(Sc,a[d])){a[d].resubscribed=b;Sc.push(a[d]);!Lc[c].hasContent&&a[d].event&&(Lc[c].hasContent=!0)}"number"==typeof a[d].sequence&&c&&Lc[c].dialogs[a[d].dialogId].lastMessageId<a[d].sequence&&a[d].event&&(Lc[c].dialogs[a[d].dialogId].lastMessageId=a[d].sequence)}ua()}function ua(){if(0===Object.keys(Nc).length&&0===Object.keys(Oc).length&&Object.keys(Lc).length===yc){var a=0;for(var b in Lc)Lc[b].hasContent||a++;var c;a===yc?c=yc:a>0&&yc>a&&(c=yc-a);for(var d=0;c>d;d++)$a()}}function va(a,b){var c=a.dialogId,d=xa(c,!0),e=Lc[d];e.returnedDialogs[c].content=a;e.returnedDialogs[c].resubscribed=b;if(ya(d))for(c in e.dialogs){var f=e.returnedDialogs[c];if(f&&f.content){ta(f.content,f.resubscribed);delete f.content;delete f.resubscribed}}}function wa(a){var b=xa(a,!1);Lc[b].returnedDialogs.allDialogsSuccessful=!1}function xa(a,b){if(!a)return null;var c=Mc[a];if(c&&Lc[c]){Lc[c].returnedDialogs||(Lc[c].returnedDialogs={allDialogsSuccessful:!1});Lc[c].returnedDialogs[a]||(Lc[c].returnedDialogs[a]={});Lc[c].returnedDialogs[a].successful=b}return c}function ya(a){var b=Lc[a];if(b.returnedDialogs.allDialogsSuccessful)return!0;for(var c in b.dialogs){var d=b.returnedDialogs[c];if(!d||!d.successful){b.returnedDialogs.allDialogsSuccessful=!1;return!1}}b.returnedDialogs.allDialogsSuccessful=!0;return!0}function za(a,b){var c=a.filter(function(a){return a.dialogId===b.dialogId&&a.sequence===b.sequence});return!!c&&c.length>0}function Aa(a){if(0===Object.keys(Nc).length&&0===Object.keys(Oc).length||a){var b=_()?ec.CHATTING:ec.WAITING,c=Ba();ba(b,null);Va(c,!0);ia();Sc=[]}}function Ba(){var a,b=[];Array.isArray(Sc)&&Sc.forEach(function(c,d){a=La(c);b.push(a);Sc[d].event&&Ja(c)&&b.push(Ua(c.dialogId));Wa(a);Ea(a)});return b}function Ca(a){return!Xc[a.sequence]||a.state!==pc.VIEWED&&a.state!==pc.ERROR?!1:!0}function Da(a,b){var c=b===lc.SUBMIT?a.eventId:a.sequence,d=Xc[c]||{};return a.event&&a.event.message||d.info}function Ea(a){Array.isArray(a)||(a=[a]);a.forEach(function(a){if(Fa(a)&&h(a.convId))switch(a.source){case Bc.VISITOR:Qb.visitor=!0;break;case Bc.AGENT:Qb.agent=!0;a.text=Ab(a.text)}})}function Fa(a){switch(a.type){case hc.LINE:return a.text?!0:!1;case hc.RICH_CONTENT:case hc.SECURE_FORM:return!0;default:return!1}}function Ga(a){for(var b=Ob.get(bc.LINES)||[],c=!1,d=!1,e=0;e<b.length;e++)if(b[e].convId===a){c=c||b[e].source===Bc.VISITOR;d=d||b[e].source===Bc.AGENT;if(c&&d)break}return c&&d}function Ha(a){var b=a.dialogId,c=a.conversationId||Mc[a.dialogId];return Lc[c].dialogs[b]&&Lc[c].dialogs[b].history}function Ia(a){var b=Mc[a.dialogId];return Ka(a)&&Ac&&Eb[Ac]&&b===Eb[Ac].convId&&a.dialogId===$(b)&&Ac!==Eb.length-1?!0:!1}function Ja(a){var b=Mc[a.dialogId],c=Lc[b].dialogs[a.dialogId].dialogType;if(Ka(a)&&(c!==kc.types.MAIN||!X(b))){if(a.resubscribed){var d=Ob.get(bc.LINES)||[],e=Ua(a.dialogId),f=d.filter(function(a){return a.time===e.time&&a.type===e.type&&a.textKey===e.textKey}),g=!!f&&f.length>0;return!g}return!0}return!1}function Ka(a){var b=a.conversationId||Mc[a.dialogId],c=a.dialogId;return Lc[b].dialogs[c]&&Lc[b].dialogs[c].lastMessageId===a.sequence&&Lc[b].dialogs[c].state===kc.states.CLOSE?!0:!1}function La(a){var b=Ma(a);Sa(b,a);return b}function Ma(a){var b=a&&a.event||{};switch(b.type){case rc.RICH_CONTENT:return Pa(b.content,hc.RICH_CONTENT,b.quickReplies);default:return Na(a)}}function Na(a){var b=a&&a.event||{};Ca(a)&&(b.contentType=qc.SECURE_FORM_UPDATE);switch(b.contentType){case qc.HOSTED_FILE:return Oa(b.message,qc.HOSTED_FILE);case qc.EXTERNAL_FILE:return Pa(Mb.translator.translate("transcriptForPhotoSharingImage"),hc.LINE);case qc.TEXT_PLAIN:return Pa(b.message||"",hc.LINE,b.quickReplies);case qc.SECURE_FORM_INVITATION:return Qa(a,lc.SEND);case qc.SECURE_FORM_SUBMISSION:return Qa(a,lc.SUBMIT);case qc.SECURE_FORM_UPDATE:return Qa(a,a.state);default:return Pa("string"==typeof b.message?b.message:"",hc.LINE)}}function Oa(a,b){return{type:b,subType:"REGULAR",fileData:a,textType:"file"}}function Pa(a,b,c){return{type:b,subType:"REGULAR",text:a,quickReplies:c,textType:"plain"}}function Qa(a,b){var c,d,e=Ra(a,b);c=Da(a,b);c&&(d={type:hc.SECURE_FORM,subType:hc.SECURE_FORM,formState:e,command:e,info:{secureFormId:c.formId||c.secureFormId,secureFormName:c.title||c.secureFormName,invitationId:c.invitationId,uniqueId:c.invitationId}});return d}function Ra(a,b){var c;switch(a.state){case pc.VIEWED:c=lc.VIEWED;break;case pc.ERROR:c=lc.ERROR;break;default:c=b}return h(a.dialogId)?c:lc.ERROR}function Sa(a,b){var c=Ta(b)||{};a[Uc]=b.sequence;a.sequenceId=b.sequence;a.originatorId=c.id;a.by=c.name;a.source=c.type;a.time=b.serverTimestamp;a.convId=b.dialogId;a.track=Ia(b);a.history=Ha(b);a.resubscribed=b.resubscribed;a.state=b.state;a.metadata=b.metadata?b.metadata:void 0}function Ta(a){var b=Ob.get(bc.PARTICIPANTS)||{};return b[a.originatorId]}function Ua(a){var b,c=Mc[a],d=Lc[c].dialogs[a].dialogType;b=d===kc.types.MAIN?Lc[c].dialogs[a].closeReason===Hc.AGENT?"transcriptConvResolvedByAgent":"transcriptConvResolvedByVisitor":"";return{type:hc.INFO,textKey:b,time:Lc[c].dialogs[a].endTime,history:Lc[c].dialogs[a].history,source:"system",hasSeparator:!0,subType:"conversationResolved"}}function Va(a,b){if(a&&a.length>0){b&&(a=Rc.sortByKeyValue(a,"time"));a.forEach(function(a){Lb.trigger({appName:Zb,eventName:Yc[a.type]?a.type:cc.LINE,data:a})});Lb.trigger({appName:Zb,eventName:cc.FINISHED_EVENTS_BULK})}}function Wa(a){a&&a[Uc]&&a.type===hc.SECURE_FORM&&(Xc[a[Uc]]={info:a.info})}function Xa(a){return a&&a.conversationDetails&&a.conversationDetails.dialogs||[]}function Ya(a,b){var c=Xa(b),d=a.filter(function(a){return a.convId===b.convId?a:void 0})[0]||{},e=Xa(d);return Rc.arrayUniqueByKey(e.concat(c),"dialogId")}function Za(a){if(Array.isArray(a)&&a.length>0){a=fb(a);if(Eb){var b=_a(a);ab(a);if(Wc){Wc=!1;if((!b||!b.length)&&Eb[0]){Eb[0].conversationDetails.dialogs=Ya(a,Eb[0]);db(Eb,0,0,!1,!0)}}}else{Eb=a;$a()}}else Eb||hb()}function $a(a){var b,c,d=!1,e=a&&a.retry||!1,f=a&&a.changedScroll||!1;if(Eb&&!f){if(null===Ac){b=0;c=Eb.length<yc?Eb.length-1:yc-1}else if(Ac<Eb.length-1){b=Ac+1;c=b;d=null===Ob.get(bc.LINES)?!1:!0;if(e){b=Ac;c=Ac;Eb&&Eb[Ac]&&Eb[Ac].convId&&Lc&&Lc[Eb[Ac].convId]&&delete Lc[Eb[b].convId]}}else{if(Ac!==Eb.length-1||null!==Ob.get(bc.LINES)){Lb.trigger({appName:"*",eventName:dc.END_OF_HISTORY,data:{shouldHide:!0}});$b.error("in _loadNextConversationsFromHistory: something went wrong trying to load the history!!!",Yb);return}hb()}Ac=c;db(Eb,b,c,d)}}function _a(a){a=bb(a);if(a.length>0){db(a,0,a.length-1,!1);Eb=a.concat(Eb);Ac+=a.length}return a}function ab(a){a=cb(a);if(a.length>0){Eb=Eb.concat(a);$a()}}function bb(a){var b,c,d=[];b=Eb&&Eb.length>0&&Eb[0]&&Eb[0].convId;c=b&&Eb[0].conversationDetails&&Eb[0].conversationDetails.startTs||0;for(var e=0;e<a.length&&(a[e].convId!==b&&a[e].conversationDetails&&a[e].conversationDetails.startTs>c);e++)d.push(a[e]);return d}function cb(a){var b,c,d;b=Eb&&Eb.length>0&&Eb[Eb.length-1];c=b&&b.conversationDetails&&b.conversationDetails.startTs;d=a.filter(function(a){return a.conversationDetails&&a.conversationDetails.startTs<c||!c});return d}function db(a,b,c,d,e){var f,g,h,i,j;a=a||Eb;for(var k=b;c>=k;k++){var l=a[k];h=l.convId;if(!Lc[h]||e){f=l.conversationDetails.state!==jc.OPEN?a[k].conversationDetails.state:"";Lc[h]=Lc[h]||{state:f,endTime:a[k].conversationDetails.endTs,closeReason:a[k].conversationDetails.closeReason,dialogs:{},postSurveyDialogWasOpened:!1,hasContent:!1};var m=[];g=a[k].conversationDetails.dialogs;for(var n=0;n<g.length;n++){i=g[n].dialogId;if(g[n].channelType!==lpTag.unifiedWindow.consts.coBrowse.coBrowseChannelName){if(Lc[h].dialogs[i])e&&g[n].state===kc.states.OPEN&&eb(i,!0);else{j=g[n].state!==kc.states.OPEN?g[n].state:"";Lc[h].dialogs[i]={state:j,endTime:g[n].endTs,lastMessageId:-1,closeReason:g[n].closedBy,history:d,dialogType:g[n].dialogType,channelType:g[n].channelType,participants:g[n].participants};Mc[i]=h;kb(i);eb(i)}m.push({dialogId:i,endTime:g[n].endTs})}}Lc[h].sortedDialogIds=gb(m)}}}function eb(a,b){if(u(a)){var c={conversationId:Mc[a],dialogId:a};Mb.conf.unifiedConf.connectorsSfConfig&&Mb.conf.unifiedConf.connectorsSfConfig.seqId&&Mb.conf.unifiedConf.connectorsSfConfig.seqId>0&&(c.fromSeq=Mb.conf.unifiedConf.connectorsSfConfig.seqId);var d=Pb.subscribeMessagingEvents(c);Nc[d]={dialogId:a,resubscribe:b};return d}}function fb(a){var b=a.sort(function(a,b){return a.conversationDetails.endTs?b.conversationDetails.endTs?b.conversationDetails.endTs-a.conversationDetails.endTs:1:-1});return b}function gb(a){var b=a.sort(function(a,b){return a.endTime?b.endTime?b.endTime-a.endTime:1:-1});return b}function hb(){ba(ec.WAITING,null)}function ib(a){if(a&&(a.survey&&a.survey.question[0]||a.status)){Sb&&(a.convId=Sb.convId);Pb.submitExitChatSurvey(a,null,s)}Sb=null;jb()}function jb(){Ob.removeKey(bc.SURVEYS_EXIT,!1);Nb.get(ac.STATE)!==ec.CONNECTION_ISSUE?ba(ec.APP_ENDED,nb):Vc?nb():Fb=ec.WAITING}function kb(a){var b=Mc[a];Lc[b].dialogs[a].dialogType===kc.types.POST_SURVEY&&(Lc[b].postSurveyDialogWasOpened=!0)}function lb(){mb(!1);Pb.setVisitorTyping(!1);Pb.closeDialog()}function mb(a){"boolean"==typeof a&&Lb.trigger({appName:Zb,eventName:cc.AGENT_TYPING,data:{agentTyping:a}})}function nb(){if(Vc){ba(ec.APP_ENDED);Pb.dispose()}else ba(ec.WAITING)}function ob(){ba(ec.PENDING)}function pb(){$b.info("_disposeApplication",Yb);Lb.trigger({appName:Yb,eventName:_b.chatState.ENDED});f()}function qb(a){Mb.conf.unifiedConf.isStepUpEnabled&&Bb(function(b){a.conversationId&&a.conversationId===b&&Mb.wrapperWindow&&Mb.wrapperWindow.hide()})}function rb(a){return lpTag.site+":"+(a&&a.invitationId)}function sb(a,b){return Pb.getOTK({formId:a.secureFormId,invitationId:a.invitationId,type:"SecureForm"},b)}function tb(a,b,c){$b.info("secureFormRequest status: "+a+" info:"+JSON.stringify(c),Yb);Pb.secureFormRequest({dialogId:Y(aa())||Pb.getSessionKey(),state:a,submissionId:c.formUuid,invitationId:b,sequenceList:[c.sequenceId],contentType:a===lc.SUBMIT?qc.SECURE_FORM_SUBMISSION:""})}function ub(a,b){if(a){$b.info("richContentRequest info: "+JSON.stringify(a),Yb);Pb.richContentRequest({state:a.state,dialogId:Pb.getSessionKey(),sequenceList:[a.sequenceId],metadata:b||[]})}}function vb(a){Pb.imageShareGenerateUrlRequest(a)}function wb(a){Pb.imageShareDownloadUrlRequest(a)}function xb(a,b){if(a){$b.info("quickRepliesRequest info: "+JSON.stringify(a),Yb);Pb.quickRepliesRequest({state:a.state,dialogId:Pb.getSessionKey(),
sequenceList:[a.sequenceId],metadata:b||[]})}}function yb(a){Pb.getShiftStatus({success:a.success,error:a.error})}function zb(a){Mb.conf.conversationOwnerBrandInfo=a}function Ab(a){if(("string"==typeof a||a instanceof String)&&(-1!==a.indexOf("&amp;")||-1!==a.indexOf("&lt;")||-1!==a.indexOf("&gt;"))){a=a.replace(/&amp;/g,"&");a=a.replace(/&lt;/g,"<");a=a.replace(/&gt;/g,">")}return a}function Bb(a){var b=lpTag&&lpTag.csds&&lpTag.csds.getDomain($c.csds.leCdnDomain);window.lpTag.taglets.lpSecureStorage.getValue({app:lpTag.unifiedWindow.apps.UNIFIED_WINDOW,key:$c.storage.stepUpStorage.valueKeys.lastActiveConvo,appName:$c.storage.stepUpStorage.appName,site:lpTag&&lpTag.site,domain:Cb(b),success:a,error:function(){$b.error("_getLastUnauthConvoData: failed to get last unauth convo data",Yb)},firstParty:!0})}function Cb(a){var b=window.lpTag.taglets.lpSecureStorage.v;return"https://"+a+"/le_secure_storage/"+(b?b:"")}var Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb="ConversationManager",Zb=lpTag.unifiedWindow.apps.CHAT,$b=lpTag.unifiedWindow.log,_b=lpTag.unifiedWindow.events,ac=lpTag.unifiedWindow.uiModelPath,bc=lpTag.unifiedWindow.chatModelPath,cc=_b.chat,dc=_b.viewController,ec=lpTag.unifiedWindow.State,fc=lpTag.unifiedWindow.apps,gc=lpTag.unifiedWindow.consts,hc=lpTag.unifiedWindow.consts.chatEvents,ic=lpTag.unifiedWindow.events.socket,jc=lpTag.AMSStatics.conversation.states,kc=lpTag.AMSStatics.dialog,lc=lpTag.unifiedWindow.secureFormStates,mc=lpTag.AMSStatics.participant.roles,nc=lpTag.unifiedWindow.consts.errorTypes,oc=lpTag.unifiedWindow.consts.authErrorsTypes,pc=lpTag.unifiedWindow.MessageState,qc=lpTag.unifiedWindow.contentTypes,rc=lpTag.unifiedWindow.MessageTypes,sc=lpTag.unifiedWindow.settingsIDs,tc=lpTag.unifiedWindow.structuredContentTypes,uc=lpTag.unifiedWindow.quickRepliesStates,vc=lpTag.unifiedWindow.welcomeMessageStates,wc=0,xc=4,yc=2,zc=3,Ac=null,Bc={SYSTEM:"system",AGENT:"agent",VISITOR:"visitor"},Cc=!1,Dc=!1,Ec=15e3,Fc=5e3,Gc=3e5,Hc=lpTag.AMSStatics.dialog.closeReasons,Ic=!1,Jc=!1,Kc=!1,Lc={},Mc={},Nc={},Oc={},Pc={},Qc={},Rc=lpTag.unifiedWindow.applicationUtils,Sc=[],Tc="dialogId",Uc="@id",Vc=!1,Wc=!1,Xc={},Yc={},Zc=[],$c=(lpTag.csds,{csds:{acCdnDomain:"acCdnDomain",leCdnDomain:"leCdnDomain"},storage:{unauthStorage:{key:"-unAuthJWT",name:"unAuthMessaging"},stepUpStorage:{appName:"StepUP",valueKeys:{lastActiveConvo:"lastActiveConvo"}}}}),_c=!1;Yc[hc.SECURE_FORM]=!0;e(d);this.setConversationUrgency=g;this.isCurrentConversation=h;this.getOtkJson=rb;this.getOTK=sb;this.secureFormRequest=tb;this.richContentRequest=ub;this.imageShareGenerateUrlRequest=vb;this.imageShareDownloadUrlRequest=wb;this.dispose=f;this.quickRepliesRequest=xb;this.getShiftStatus=yb;this.getConversationList=i;this.areAllConversationsLoaded=j;this.isAutoClosedMainDialog=X};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.LineStatesManager=function(a){function b(a){B.info("init",u);if("object"==typeof a){t=a.events;p=a.lpModel;q=a.lppModel;r=a.apiDelegate;s=a.browserStateManager;g()}else B.error("init: missing mandatory dependencies.",u)}function c(a){var b=h(a);d(b);return b}function d(a){var b,c=k(),d=[];a=a||m();Array.isArray(a)&&a.forEach(function(a){if(!o(a)&&l(a,c)){a.state=c;d.push(a)}});b=D.groupByKeyValue(d,"state");for(var e in b)r.sendStatesUpdate(b[e],e)}function e(a){for(var b,c,d=a.length-1;d>=0;d--){b=a[d];if(!o(b)&&n(b)&&!b.history)break;c||!o(b)||b.history||(c=b)}return c||b}function f(){t.unbind({appName:"*",eventName:y.LINES_VIEWED,func:d})}function g(){t.bind({appName:"*",eventName:y.LINES_VIEWED,func:d})}function h(a){var b,c=m(),d=[];Array.isArray(a)&&a.forEach(function(a){b=i(a,c);b&&d.push(b)});return d}function i(a,b){var c,d=a;c=j(b,a);if(c&&"undefined"!=typeof a.state)if(l(c,a.state,a.originatorId,a.source,a.resubscribed)){d=c;d.state=a.state;d.update=!0}else if("SENT"===a.state&&"SENT"!==c.state&&c.state!==w.FAILED&&c.state!==w.ERROR){d=a;d.localId=c.localId;d.state=c.state}else d=null;return d}function j(a,b){var c=null;Array.isArray(a)&&a.some(function(a){if(a[C]===b[C]&&a.convId===b.convId){c=a;return!0}});return c}function k(){var a=q.get(A.WINDOW_MAXIMIZED);return s.isFocus()&&a?w.READ:w.ACCEPT}function l(a,b,c,d,e){var f=d?a.source!==d:!0;if(e){f=!0;c=null}return(a.state!==w.FAILED&&!a.originatorId&&a.source===v.VISITOR||a.originatorId&&a.originatorId!==c)&&a.state!==b&&f&&x[a.state]<x[b]}function m(){return p.get(z.LINES)||[]}function n(a){return a.state===w.READ?!0:!1}function o(a){return a.source===v.VISITOR?!0:!1}var p,q,r,s,t,u="LineStatesManager",v={AGENT:"agent",VISITOR:"visitor"},w=lpTag.unifiedWindow.MessageState,x=lpTag.unifiedWindow.MessagePriority,y=lpTag.unifiedWindow.events.viewController,z=lpTag.unifiedWindow.chatModelPath,A=lpTag.unifiedWindow.uiModelPath,B=lpTag.unifiedWindow.log,C="@id",D=lpTag.unifiedWindow.applicationUtils;b(a);this.verifyLineStates=c;this.sendStatesUpdate=d;this.getLastReadLine=e;this.dispose=f};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.TtrManager=function(a){function b(a){F.info("init",z);if("object"==typeof a){w=a.events;u=a.lpModel;v=a.lppModel;t=a.conversationManager;x=a.features;d()}else F.error("init: missing mandatory dependencies.",z)}function c(){w.unbind({appName:A,eventName:B.BRAND_INFO,func:i});v.unbind(E.STATE,h);u.unbind(D.TRANSCRIPT_LOADED,l);f()}function d(){w.bind({appName:A,eventName:B.BRAND_INFO,func:i});g();v.bind(E.STATE,h);u.bind(D.TRANSCRIPT_LOADED,l)}function e(){H.published=!1;H.urgencyInfo=null;f()}function f(){w.unbind({appName:A,eventName:B.TTR_INFO,func:j});G=!1}function g(){if(!G){G=!0;w.bind({appName:A,eventName:B.TTR_INFO,func:j})}}function h(a){var b=a.newValue;switch(b){case lpTag.unifiedWindow.State.APP_ENDED:case lpTag.unifiedWindow.State.POST_CHAT:e();break;case lpTag.unifiedWindow.State.REQUESTED:case lpTag.unifiedWindow.State.PENDING:case lpTag.unifiedWindow.State.CHATTING:g()}}function i(a){if(!H.brandInfo||!I.isSameObject(a,H.brandInfo)){H.brandInfo=a;q();l()}}function j(a){if(!H.urgencyInfo||!I.isSameObject(a,H.urgencyInfo)){k(a);l()}}function k(a){H.urgencyInfo=H.urgencyInfo||{};var b=a.ttrType!==H.urgencyInfo.ttrType,c=a.manualETTR!==H.urgencyInfo.manualETTR;H.urgencyInfo=a;H.urgencyInfo.hasDataChanged=c||b}function l(){H.brandInfo&&H.urgencyInfo&&u.get(D.TRANSCRIPT_LOADED)&&null!=J&&m()}function m(){var a=n(H.brandInfo,H.shiftStatus),b=p(H.urgencyInfo);s(a,b)}function n(a,b){var c={},d=I.getPropertyFromObject(a,"timeDiff")||0;c.delay=I.getPropertyFromObject(a,"delay.tillWhen")||0;c.onOffHours=o(c.delay,d,b);return c}function o(a,b,c){var d,e,f=(new Date).getTime()-b;if(I.isEmpty(c)){e="number"==typeof a&&a>f;e&&(d=a-f)}else{e=!c.onShift;d=e?c.nextOn&&c.nextOn>f?c.nextOn-f:null:c.nextOff&&c.nextOff>f?c.nextOff-f:null}if("number"==typeof d){var g=Math.min(d+K,36e5);y&&clearTimeout(y);y=setTimeout(I.isEmpty(c)?l:q,g)}return e}function p(a){return{isUrgent:a.ttrType===C.urgent,isPrioritized:a.ttrType===C.prioritized,isManual:!!a.manualETTR}}function q(){t.getShiftStatus({success:r,error:r})}function r(a){var b=a&&a.body;J=!I.isEmpty(b)&&200===a.statusCode&&200===a.responseCode;J&&(H.shiftStatus=b);l()}function s(a,b){var c={isUrgent:b.isUrgent,markUrgencyEnabled:!a.onOffHours&&!b.isManual&&!b.isPrioritized};u.modify(D.TTR,c)}var t,u,v,w,x,y,z="TtrManager",A=lpTag.unifiedWindow.apps.CHAT,B=lpTag.unifiedWindow.events.chat,C=lpTag.AMSStatics.effectiveTTRTypes,D=lpTag.unifiedWindow.chatModelPath,E=lpTag.unifiedWindow.uiModelPath,F=lpTag.unifiedWindow.log,G=!1,H={brandInfo:null,urgencyInfo:null,shiftStatus:null,published:!1},I=lpTag.unifiedWindow.applicationUtils,J=null,K=1e4;b(a);this.dispose=c};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.HeartBeatManager=lpTag.unifiedWindow.HeartBeatManager||function(a,b){function c(a,b){S.info("init",U);if("object"==typeof a&&a.accountId&&a.storageKey&&a.secureStorageLocation&&"object"==typeof b){E=a.accountId;I=a.storageKey;F=a.poppedOut;R=a.secureStorageLocation;Q=b.events;P=b.browserStateManager;g();if(F)j();else{s();q()}}else S.error("No configuration received on init",U)}function d(){e();h();E=null;I=null;F=null;R=null;Q=null;P=null}function e(a){S.info("_stop ,preserveTimestamps: "+a,U);L=!0;m();F||a||n();K=!1}function f(a){S.info("_start, preserveTimestamps: "+a,U);D=(new Date).getTime();e(a);o();p()}function g(){Q.bind({appName:T.UISTATE,eventName:V.uiState.EMBEDDED_CHANGED,func:i})}function h(){Q&&Q.unbind&&Q.unbind({appName:T.UISTATE,eventName:V.uiState.EMBEDDED_CHANGED,func:i})}function i(a){S.debug("_handleEmbeddedStateChange: embedded="+a,U);a?e():f(!0)}function j(){f(!0);l(V.heartBeat.INIT)}function k(){l(F?V.heartBeat.FAILED:V.application.DO_HARAKIRI)}function l(a,b){Q.trigger({appName:U,eventName:a,data:b})}function m(){S.info("_clearTimeouts",U);J&&clearTimeout(J);M&&clearTimeout(M)}function n(){S.info("_clearTimestamps",U);r();t()}function o(){S.info("_resolveApps: initializing apps value - poppedOut = "+F,U);if(F){G=W;H=X}else{G=X;H=W}S.info("_resolveApps: resolvedGetApp = "+G+", resolvedSetApp = "+H,U)}function p(){S.info("_startBeating",U);L=!1;K=!0;w(x);A()}function q(){S.info("_fetchPopOutBeat",U);lpTag.taglets.lpSecureStorage.getValue({key:I,site:E,app:ba,success:r,appName:X,domain:R,firstParty:!0})}function r(a){S.info("_initPopOutBeat: "+JSON.stringify(a),U);if(!a||!a.timestamp){S.info("_initPopOutBeat: initializing popout beat value",U);lpTag.taglets.lpSecureStorage.setValue({key:I,site:E,app:ba,value:C(0),success:v,error:v,appName:X,domain:R,firstParty:!0})}}function s(){S.info("_fetchEmbeddedBeat",U);lpTag.taglets.lpSecureStorage.getValue({key:I,site:E,app:ba,success:u,appName:W,domain:R,firstParty:!0})}function t(){lpTag.taglets.lpSecureStorage.setValue({key:I,site:E,app:ba,value:C(0),success:v,error:v,appName:W,domain:R,firstParty:!0})}function u(a){S.info("_initEmbeddedBeat: data="+JSON.stringify(a),U);if(!a||!a.timestamp){S.info("_initEmbeddedBeat: initializing embedded beat value",U);t()}}function v(){S.info("_emptyCallback",U)}function w(a){S.info("_getBeat: got beat",U);J&&clearTimeout(J);L||(F||P.visibilitySupported()&&!P.isHidden()?lpTag.taglets.lpSecureStorage.getValue({key:I,site:E,app:ba,success:a,appName:G,domain:R,firstParty:!0}):J=setTimeout(z(a),aa))}function x(a){S.info("_validateBeat: data="+JSON.stringify(a),U);var b=(new Date).getTime();if(!L)if(F||a&&a.timestamp||!(b-D>Z)){if(F&&(!a||!a.timestamp)||a&&a.timestamp&&y(b,a.timestamp)){S.info("_validateBeat: timed out data= "+JSON.stringify(a)+" session="+I,U);k();K=!1}else if(!K){S.info("_validateBeat: resumed",U);K=!0;l(V.heartBeat.RESUMED)}O=N;J=setTimeout(z(x),aa)}else{S.info("_validateBeat: timed out from start data= "+JSON.stringify(a)+" session="+I,U);k()}}function y(a,b){S.debug("_isTimeout: now="+a+", currentTime="+b+", prevRecordedWriteTime="+O+", lastWriteTime="+N,U);return O===N?a-b>Y:F?a-b>_:a-b>$}function z(a){return function(){w(a)}}function A(){S.info("_setBeat",U);M&&clearTimeout(M);L||(F||P.visibilitySupported()&&!P.isHidden()?lpTag.taglets.lpSecureStorage.setValue({key:I,site:E,app:ba,value:C((new Date).getTime()),success:B,error:v,appName:H,expires:108e5,domain:R,firstParty:!0}):M=setTimeout(A,aa))}function B(a){S.info("_setBeatCallBack: new data="+JSON.stringify(a),U);N=a.timestamp;M=setTimeout(A,aa)}function C(a){return{timestamp:a}}var D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S=lpTag.unifiedWindow.log,T=lpTag.unifiedWindow.apps,U=T.HEARTBEAT,V=lpTag.unifiedWindow.events,W="UIHeartBeatEmbedded",X="UIHeartBeatPopOut",Y=6e4,Z=15e3,$=15e3,_=2e3,aa=1e3,ba=T.UNIFIED_WINDOW;c(a,b);this.dispose=d};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.SecureFormManager=function(a){function b(a){X.info("init",P);if("object"==typeof a){L=a.lpModel;M=a.lppModel;I=a.events;J=a.apiManager;K=a.browserStateManager;Z=a.appContext.conf.engConf.lang||Z;fa=a.appContext.featureStateManager.getSettingsValue(ea.OTK_RETRIES)||0;N=lpTag.unifiedWindow.helpers.SecureFormStyleHelper(a.appContext);H=a.appContext.conf.unifiedConf.poppedOut?-1:lpTag.storageMethods.getSessionData("lpTabId");O="true"===a.appContext.conf.windowConf.hidePCILogo||a.appContext.conf.windowConf.hidePCILogo===!0;d()}else X.error("init: missing mandatory dependencies.",P)}function c(){I.unbind({appName:T,eventName:W.FINISHED_EVENTS_BULK,func:m});I.unbind({appName:T,eventName:W.SECURE_FORM,func:e});I.unbind({appName:U,eventName:da.SUBMIT,func:y});I.unbind({appName:U,eventName:da.VIEWED,func:w});I.unbind({appName:U,eventName:da.ERROR,func:x});I.unbind({appName:T,eventName:W.CONVERSATION_CLOSED,func:k});aa=!0}function d(){I.bind({appName:T,eventName:W.FINISHED_EVENTS_BULK,func:m});I.bind({appName:T,eventName:W.SECURE_FORM,func:e});I.bind({appName:U,eventName:da.SUBMIT,func:y});I.bind({appName:U,eventName:da.VIEWED,func:w});I.bind({appName:U,eventName:da.ERROR,func:x});I.bind({appName:T,eventName:W.CONVERSATION_CLOSED,func:k})}function e(a){var b;if(a&&f(a)){b=o(a);switch(a.command){case da.SEND:g(a,b);break;case da.VIEWED:i(b,a.source);S[b.info.uniqueId].visualState=ca.OPEN;break;case da.SUBMIT:j(a,b);S[b.info.uniqueId].visualState=ca.CLOSED;break;case da.ERROR:h(b,b);S[b.info.uniqueId].visualState=ca.CLOSED}A(b.info.uniqueId,a.command);aa||L.modify(F(b),S[b.info.uniqueId]);X.info("_onSecureFormEvent: event="+JSON.stringify({event:a}),P)}}function f(a){var b=S[a&&a.info&&a.info.uniqueId],c=b&&a.command===da.SEND,d=b&&a.command===da.ERROR,e=b&&b.formState===da.SUBMIT&&a.command===da.SUBMIT,f=b&&a.command===da.VIEWED&&"agent"===a.source;return d||!c&&!e&&!f}function g(a,b){if(b){b.info=a.info;q(b);C(a,b,da.SEND);v(b)}}function h(a,b){var c=S[a&&a.info&&a.info.uniqueId];c&&!c.firedLine&&C(a,b,da.SEND)}function i(a,b){var c=a&&"visitor"===b&&!aa&&a.formState!==da.VIEWED&&a.formState!==da.ERROR;c&&A(a.info.uniqueId,da.VIEWED_ON_ANOTHER_TAB)}function j(a,b){b&&C(a,b,da.SUBMIT)}function k(a){var b;if(a&&a.convId){b=l(a.convId);if(b){S[b].command=da.ERROR;S[b].formState=da.ERROR;L.modify(F(S[b]),S[b])}}}function l(a){for(var b in S)if(S[b].visualState===ca.OPEN&&S[b].convId===a)return S[b].info.uniqueId}function m(){if(aa){n();L.modify(V.SECURE_FORMS,S)}aa=!1}function n(){for(var a in S)if(S.hasOwnProperty(a))switch(S[a].formState){case da.VIEWED:z(S[a].info.uniqueId,da.ABORTED);break;case da.SEND:z(S[a].info.uniqueId,da.RECEIVED)}}function o(a){var b=a&&a.info;if(b&&b.uniqueId){S[b.uniqueId]=S[b.uniqueId]||a;return S[b.uniqueId]}}function p(a){return a?S[a]:void 0}function q(a){a&&a.info&&(ba[a.info.uniqueId]=r(a.info))}function r(a){return function(b){var c,d={siteid:lpTag.site,redirect:encodeURIComponent(R),css:encodeURIComponent(N.getCompressedCSS()),hideLogo:O,otkJson:encodeURIComponent(J.getOtkJson(a)),lang:Z,formid:a.secureFormId};if(a.uniqueId&&fa>1){ha=M.get($.SECURE_FORMS_INVITATIONS)||{};if(ha[a.uniqueId])ia=ha[a.uniqueId];else{ia={formId:a.uniqueId,retryCount:fa,currentRetryAttempt:0};ha[a.uniqueId]=ia}ha[a.uniqueId].currentRetryAttempt++;M.modify($.SECURE_FORMS_INVITATIONS,ha);if(ia.url&&ia.currentRetryAttempt<=fa){lpTag.taglets.lpUtil.runCallback(b,null,ia.url);return}}if(a&&a.submitOtk&&a.getOtk){d.otk=a.submitOtk;d.formOtk=a.getOtk;c=s(Q,d);t(c,a.uniqueId);lpTag.taglets.lpUtil.runCallback(b,null,c)}else a&&a.invitationId&&J.getOTK(a,function(e){var f=e&&e.token;if(f&&f.writeOtk&&f.readOtk){d.otk=f.writeOtk;d.formOtk=f.readOtk;c=s(Q,d);ga.info("Got SF URL: "+c,P)}else{ga.error("No tokens",P);f&&"object"==typeof f&&ga.info("writeOtk: "+f.writeOtk+", readOtk: "+f.readOtk,P)}t(c,a.uniqueId);lpTag.taglets.lpUtil.runCallback(b,null,c)})}}function s(a,b){return lpTag.taglets.lpUtil.addQueryParams(a,b)}function t(a,b){ha=M.get($.SECURE_FORMS_INVITATIONS)||{};ha[b]&&(ha[b].url=a);M.modify($.SECURE_FORMS_INVITATIONS,ha)}function u(a,b){lpTag.taglets.lpUtil.runCallback(ba[a],null,b)}function v(a){aa||a.command!==da.SEND||z(a.info.uniqueId,da.RECEIVED)}function w(a){if(!D(a.uniqueId)){E(a.uniqueId);B(da.VIEWED,a.uniqueId);A(a.uniqueId,da.VIEWED)}}function x(a){if(ia.currentRetryAttempt<=ia.retryCount){ga.info("SF retry data: "+JSON.stringify(ia),P);I.trigger({appName:U,eventName:"SF_ERROR"})}else{if(a.isTimeOut){ga.info("SF timeout: "+JSON.stringify(a),P);var b=p(a.uniqueId);b.isTimeOut=!0}B(da.ERROR,a.uniqueId,{errorReason:a.message.errorReason||"unknown",failedCommand:da.VIEWED})}}function y(a){B(da.SUBMIT,a.uniqueId,{formUuid:a.message.token,gatewayDomain:a.message.gatewayDomain},a.text);I.trigger({appName:lpTag.unifiedWindow.apps.UNIFIED_WINDOW,eventName:lpTag.unifiedWindow.events.viewController.PREPARE_SLIDER_CLOSED_TIMEOUT})}function z(a,b){B(b,a);A(a,b)}function A(a,b){if(S[a]){S[a].events=S[a].events||[];if(Y.indexOf(S[a].events,b)<0){S[a].events.push(b);S[a].formState=D(a)?da.VIEWED_ON_ANOTHER_TAB:b}}}function B(a,b,c,d){var e=S[b];if(e&&!D(b)){c=c||{};c.uniqueId=b;c.secureFormName=e.info.secureFormName;c.secureFormId=e.info.secureFormId;c.sequenceId=e["@id"];J.secureFormRequest(a,b,c,d)}}function C(a,b,c){S[b.info.uniqueId].firedLine=!0;I.trigger({appName:T,eventName:W.LINE,data:G(a,b,c)})}function D(a){if(S[a].formState===da.VIEWED_ON_ANOTHER_TAB)return!0;var b=M.get($.SECURE_FORMS_TAB_HANDLER);return b&&"undefined"!=typeof b[a]&&b[a]!==H}function E(a){var b=M.get($.SECURE_FORMS_TAB_HANDLER)||{};if("undefined"==typeof b[a]){b[a]=H;M.modify($.SECURE_FORMS_TAB_HANDLER,b)}}function F(a){var b=V.SECURE_FORMS;return{name:b.name,path:b.path+"."+a.info.uniqueId}}function G(a,b,c){var d={"@id":a["@id"],source:"agent",by:b.by,time:a.time||new Date,type:W.SECURE_FORM,textKey:_+c,dictionaryKey:{secureFormName:b.info.secureFormName},uniqueId:b.info.uniqueId,formName:b.info.secureFormName,history:a.history,track:a.track};if(a.state){d.state=a.state;d.convId=a.convId;d.originatorId=a.originatorId}return d}var H,I,J,K,L,M,N,O,P="SecureFormManager",Q="https://"+lpTag.csds.getDomain("tokenizer")+"/pcigw/pci_dynamic_le.jsp",R="https://"+lpTag.csds.getDomain("tokenizer")+"/pcigw/pci_dynamic_submitted_le.html",S={},T=lpTag.unifiedWindow.apps.CHAT,U=lpTag.unifiedWindow.apps.SECURE_FORM,V=lpTag.unifiedWindow.chatModelPath,W=lpTag.unifiedWindow.events.chat,X=lpTag.unifiedWindow.log,Y=lpTag.unifiedWindow.applicationUtils,Z="en-US",$=lpTag.unifiedWindow.uiModelPath,_="secureForm_line_",aa=!0,ba={},ca={OPEN:"OPEN",CLOSED:"CLOSED"},da=lpTag.unifiedWindow.secureFormStates,ea=lpTag.unifiedWindow.settingsIDs,fa=0,ga=lpTag.unifiedWindow.log,ha={},ia={};b(a);this.getFormUrl=u;this.dispose=c};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.RichContentManager=function(a){function b(a){p.info("init",m);if("object"==typeof a){k=a.lpModel;l=a.lppModel;i=a.appContext;j=a.apiManager;d()}else p.error("init: missing mandatory dependencies.",m)}function c(){i.events.unbind({appName:o,eventName:n.ACTION_EVENT,func:f});i.events.unbind({appName:o,eventName:n.PUBLISH_TEXT,func:g});i.events.unbind({appName:o,eventName:n.DISPLAYED,func:e});i.events.unbind({appName:o,eventName:n.SUBMIT_AS_TEXT,func:h})}function d(){i.events.bind({appName:o,eventName:n.ACTION_EVENT,func:f});i.events.bind({appName:o,eventName:n.PUBLISH_TEXT,func:g});i.events.bind({appName:o,eventName:n.DISPLAYED,func:e});i.events.bind({appName:o,eventName:n.SUBMIT_AS_TEXT,func:h})}function e(a){if(a){var b={sequenceId:"number"==typeof a.uniqueId?a.uniqueId:a.sequenceId,state:r};j.richContentRequest(b)}}function f(a){if(a){var b={sequenceId:a.uniqueId||a.sequenceId,state:q};j.richContentRequest(b,a.metadata||[])}}function g(a){if(a&&a.actionData&&a.actionData.text){var b={text:a.actionData.text,metadata:a.metadata};i.transcriptManager.sendLine(b)}}function h(a){if(a&&a.actionData){var b={text:a.actionData.join(", ")||"",metadata:a.metadata||[]};i.transcriptManager.sendLine(b)}}var i,j,k,l,m="RichContentManager",n=lpTag.unifiedWindow.richContentStates,o=lpTag.unifiedWindow.apps.RICH_CONTENT,p=lpTag.unifiedWindow.log,q=(lpTag.unifiedWindow.applicationUtils,"ACTION"),r="ACCEPT";b(a);this.dispose=c};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.QuickRepliesManager=function(a){function b(){l.info("dispose",j);e()}function c(a){l.info("init",j);if("object"==typeof a){h=a.appContext;i=a.apiManager;d()}else l.error("init: missing mandatory dependencies.",j)}function d(){h.events.bind({appName:m,eventName:n.ACTION_EVENT,func:f});h.events.bind({appName:m,eventName:n.PUBLISH_TEXT,func:g})}function e(){h.events.unbind({appName:m,eventName:n.ACTION_EVENT,func:f});h.events.unbind({appName:m,eventName:n.PUBLISH_TEXT,func:g})}function f(a){if(a){var b={sequenceId:a.sequenceId,state:k};i.quickRepliesRequest(b,a.payload||[])}}function g(a){if(a&&a.payload&&a.payload.action&&a.payload.action.text){var b={text:a.payload.action.text,metadata:a.payload.metadata};h.transcriptManager.sendLine(b)}}var h,i,j="QuickRepliesManager",k="ACTION",l=lpTag.unifiedWindow.log,m=lpTag.unifiedWindow.apps.QUICK_REPLIES,n=lpTag.unifiedWindow.quickRepliesStates;c(a);this.dispose=b};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.CoBrowseManager=function(a){function b(a){C.info("init",A);if("object"==typeof a){v=a.events;w=a.lpModel;x=a.appContext;y=x.conf.engConf;z=D.isArray(a.appContext.conf.accountSettings)?a.appContext.conf.accountSettings:[];n()}else C.error("init: missing mandatory dependencies.",A)}function c(a){l(a)&&h(G.INVITED,m(a));a.type=F.INFO;a.text=j(L+N,null,a.by);a.by=x.translator.translate("info");a.source="system";return a}function d(a){return a&&a.text&&a.text.indexOf&&a.text.indexOf(B)>=0?!0:!1}function e(a){return"VIDEO_CALL"===a||"VOICE_CALL"===a}function f(a,b){var c=z.filter(function(b){return b.id===a})[0];return c&&c.propertyValue&&c.propertyValue.value===b}function g(){for(var a=w.get(I.PARTICIPANTS)||{},b=Object.keys(a),c=!1,d=0;d<b.length;d++){var e=a[b[d]];if("system"===e.type){c=!0;break}}return c&&f(E.COBROWSE_CONTROLLER_BOT_PREFERRED_FOR_SYSTEM_MESSAGES,"true")}function h(a,b,c,d,e){d=d||w.get(I.AGENT_ID);v.trigger({appName:K,eventName:a,data:{ssid:y.ssid,svid:y.svid,scid:y.scid,cid:y.cid,eid:y.eid,agentId:d,serviceId:b,chatId:w.get(I.CHAT_ID),visitorName:w.get(I.VISITOR_NAME)||"",mode:c,endTs:e},global:!0});g()||i(a,c,d)}function i(a,b,c){var d=x.conf.unifiedConf.isMessaging;if(a!==G.STARTED&&a!==G.INVITED&&a!==G.CANCELED&&(a!==G.OFFERED||d)){var e;if(c){var f=w.get(I.PARTICIPANTS),g=f&&f[c];g&&(e=g.name)}var h=L+a,i=j(h,b,e);v.trigger({appName:J,eventName:F.LINE,data:{source:"system",by:x.translator.translate("info"),time:new Date,type:F.INFO,text:i}});v.trigger({appName:J,eventName:F.FINISHED_EVENTS_BULK})}}function j(a,b,c){c=c||w.get(I.AGENT_NAME);x.translator.extendDictionary({agentName:c},{locale:y.lang});"VIDEO_CALL"===b?a="video_"+a:"VOICE_CALL"===b&&(a="voice_"+a);var d=x.translator.translate(a),e=k();e&&(d=e[a]||d);return d}function k(){var a=x.conf.unifiedConf,b=x.conf.engConf.lang;return a&&a.cobrowseCustomization&&a.cobrowseCustomization[b]}function l(a){var b=new Date(a.time);return Date.now()-b.getTime()<M}function m(a){var b=a.text.match(/data-lp-serviceid="([\w\d#]*)"/);return b.length>1?b[1]:""}function n(){v.bind({appName:lpTag.unifiedWindow.apps.CHAT,eventName:lpTag.unifiedWindow.events.coBrowseEvents.DIALOG_CREATED,func:p})}function o(){v.unbind({appName:lpTag.unifiedWindow.apps.CHAT,eventName:lpTag.unifiedWindow.events.coBrowseEvents.DIALOG_CREATED,func:p})}function p(a){q(a)?h(G.INVITED,a.metaData.serviceId,a.metaData.mode,r(a)):s(a)&&h(G.CANCELED,null,null,null,a.endTs)}function q(a){var b=a&&a.metaData,c="OPEN"===a.state;if(c&&b){var d=-1!==H.indexOf(b.mode),e="INVITED"===b.sessionState,f=Date.now()/1e3<b.expires;c=d&&e&&f}return c}function r(a){for(var b=0;b<a.participants.length;b++)if(a.participants[b]&&"CONSUMER"!==a.participants[b].role)return a.participants[b].id}function s(a){return"CLOSE"===a.state}function t(){return O}function u(a){O=a;a||v.trigger({appName:"tooltipButton",eventName:"close",global:!0})}var v,w,x,y,z,A="CoBrowseManager",B='data-lp-point="cb-offer"',C=lpTag.unifiedWindow.log,D=lpTag.unifiedWindow.applicationUtils,E=lpTag.unifiedWindow.settingsIDs,F=lpTag.unifiedWindow.events.chat,G=lpTag.unifiedWindow.events.coBrowseEvents,H=lpTag.unifiedWindow.consts.coBrowse.acceptedCoBrowseModes,I=lpTag.unifiedWindow.chatModelPath,J=lpTag.unifiedWindow.apps.CHAT,K=lpTag.unifiedWindow.apps.UNIFIED_WINDOW,L="cobrowseLine_",M=115e3,N="cobrowseOffered",O=!1;b(a);this.isCall=e;this.isCoBrowseLineEvent=d;this.processCoBrowseLineObj=c;this.publishCoBrowseEvent=h;this.customizeTranslation=j;this.isInActiveCall=t;this.setActiveCall=u;this.dispose=o;this.COBROWSE_OFFER_TIMEOUT=M};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.TranscriptManager=function(a){function b(a){X.info("init",O);if("object"==typeof a){K=a.events;D=a.lpModel;E=a.lppModel;F=a.apiDelegate;G=a.coBrowseManager;H=a.idnvManager;I=a.browserStateManager;J=a.lineStatesManager;L=a.appContext;i()}else X.error("init: missing mandatory dependencies.",O)}function c(a,b,c,d){var e;X.info("sendStructuredContentLine: visitor sent structued content line",O);if("object"==typeof a){j(a);a.type=Q.chatEvents.RICH_CONTENT;aa++;u([a]);_++;e=t().length-1;var f=r(e,S.ERROR),g=s(e,S.SENT,b,c,d),h=F.sendStructuredContentLine.bind(F,a,g,f);h()}}function d(a,b){var c,d;X.info("sendLine: visitor sent line",O);if("object"==typeof a){if(lpTag.hooks&&lpTag.hooks.exec){d=lpTag.hooks.exec({name:lpTag.unifiedWindow.hooks.BEFORE_SEND_VISITOR_LINE,data:{line:a}});a=d&&d.data&&d.data.line||a}j(a);aa++;u([a]);_++;c=t().length-1;var e=r(c,S.ERROR),f=r(c,S.SENT),g=r(c,S.PENDING),h=F.sendLine.bind(F,a,f,e);b?b({callback:h,error:e,retry:g,lineIndex:c}):h()}}function e(a,b){X.info("sendLine: send visitor line: "+JSON.stringify(a),O);if("object"==typeof a){j(a);F.sendLine(a,b&&b.success,b&&b.error)}}function f(a){X.info("setVisitorTyping: isTyping="+a,O);if("boolean"==typeof a&&M!==a&&E.get(W.STATE)===Y.CHATTING&&C(a)){M=a;F.setVisitorTyping(a);E.modify(W.VISITOR_TYPING,a)}}function g(){return F.currentConversationActive&&F.currentConversationActive()}function h(){K.unbind({appName:P,eventName:T.LINE,func:l});K.unbind({appName:P,eventName:T.CHAT_INFO,func:y});K.unbind({appName:P,eventName:T.AGENT_TYPING,func:w});K.unbind({appName:P,eventName:T.FINISHED_EVENTS_BULK,func:o});K.unbind({appName:"*",eventName:U.LINES_VIEWED,func:p})}function i(){K.bind({appName:P,eventName:T.LINE,func:l});K.bind({appName:P,eventName:T.CHAT_INFO,func:y});K.bind({appName:P,eventName:T.AGENT_TYPING,func:w});K.bind({appName:P,eventName:T.FINISHED_EVENTS_BULK,func:o});K.bind({appName:"*",eventName:U.LINES_VIEWED,func:p})}function j(a){a.source=R.VISITOR;a.time=(new Date).getTime();a.state=S.PENDING;a[Z]=_}function k(a){var b=!1,c=D.get(V.TRANSCRIPT_LOADED);a=a||[];if(!c){for(var d=0;d<a.length;d++)if(!isNaN(a[d][$])){b=!0;break}b&&D.modify(V.TRANSCRIPT_LOADED,!0)}}function l(a){var b,c,d,e=a.lines||a;X.info("_collectLines: lines="+JSON.stringify(ba.excludeAttributes(ba.clone(e),["text"])));if(a){c=ba.isArray(a.lines)?a.lines:[a];for(var f=0;f<c.length;f++){b=c[f];d=m(b);if(!d){b=n(b);b&&ca.push(b)}}}}function m(a){if(a.source===R.VISITOR&&aa>0){aa--;return!0}return!1}function n(a){G.isCoBrowseLineEvent(a)?a=G.processCoBrowseLineObj(a):H.isIdnvLineObj(a)?a=H.processIdnvLineObj(a):a.type=a.type||Q.chatEvents.LINE;return a}function o(){var a;J&&(ca=J.verifyLineStates(ca));u(ca);ca=[];a=t();A(a);k(a)}function p(){var a=t();A(a)}function q(a,b,c){for(var d,e=t(),f=0;f<e.length;f++)if(e[f].localId===b){d=e[f];d.state=c;d.update=!0;if(a&&!isNaN(a[$])&&a.convId){d[$]=a[$];d.convId=a.convId;d.originatorId=N}a&&"undefined"!=typeof a.canRetry&&(d.canRetry=a.canRetry);a&&a.relativePath&&(d.relativePath=a.relativePath);break}u([d])}function r(a,b){return function(c){q(c,a,b)}}function s(a,b,c,d,e){return function(f){q(f,a,b);d.call(c,e)}}function t(){return D.get(V.LINES)||[]}function u(a,b){var c;a=v(a);if(lpTag.hooks&&lpTag.hooks.exec){c=lpTag.hooks.exec({name:lpTag.unifiedWindow.hooks.AFTER_GET_LINES,data:{lines:a}});a=c&&c.data&&c.data.lines||a}X.info("_storeChatLines: store chat lines in the model, lines="+JSON.stringify(ba.excludeAttributes(ba.clone(a),["text"])),O);D.modify(V.LINES,a,Z,b)}function v(a){return a.map(function(a){a[Z]="undefined"!=typeof a[Z]?a[Z]:_++;return a})}function w(a){if(x(a)){a&&"boolean"==typeof a.agentTyping&&D.modify(V.AGENT_IS_TYPING,a.agentTyping);X.info("_setAgentTyping: data="+JSON.stringify(a),O)}}function x(a){var b=D.get(V.PARTICIPANTS)||[];a=a||{};return!a.originatorId||b[a.originatorId].type===R.AGENT}function y(a){if("object"==typeof a){a.agentName&&D.modify(V.AGENT_NAME,a.agentName);a.agentId&&D.modify(V.AGENT_ID,a.agentId);a.visitorName&&D.modify(V.VISITOR_NAME,a.visitorName);a.rtSessionId&&D.modify(V.CHAT_ID,a.rtSessionId);a.resetAgentInfo&&z();a.visitorId&&(N=a.visitorId)}}function z(){D.removeKey(V.AGENT_NAME,!0);D.removeKey(V.AGENT_ID)}function A(a){var b,c=E.get(W.WINDOW_MAXIMIZED),d=E.get(W.LAST_LINE_VIEWED),e={};J?b=J.getLastReadLine(a):c&&(b=B(a));if(b){e[$]=b[$];e[Z]=b[Z];b.convId&&(e.convId=b.convId)}ba.isEmpty(e)||ba.isSameObject(d,e)||E.modify(W.LAST_LINE_VIEWED,e)}function B(a){for(var b,c=a.length-1;c>=0;c--){b=a[c];if(!isNaN(b[Z]))break}return b}function C(a){return a===!0||a===!1&&"boolean"==typeof E.get(W.VISITOR_TYPING)}var D,E,F,G,H,I,J,K,L,M,N,O="TranscriptManager",P="API",Q=lpTag.unifiedWindow.consts,R={AGENT:"agent",VISITOR:"visitor"},S=lpTag.unifiedWindow.MessageState,T=lpTag.unifiedWindow.events.chat,U=lpTag.unifiedWindow.events.viewController,V=lpTag.unifiedWindow.chatModelPath,W=lpTag.unifiedWindow.uiModelPath,X=lpTag.unifiedWindow.log,Y=lpTag.unifiedWindow.State,Z="localId",$="@id",_=0,aa=0,ba=lpTag.unifiedWindow.applicationUtils,ca=[];b(a);this.sendLine=d;this.sendStructeredContentLine=c;this.sendLineSkipLocal=e;this.setVisitorTyping=f;this.currentConversationActive=g;this.dispose=h};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.UIStateManager=function(a){function b(a){J.info("init",D);v=a.lpModel;w=a.lppModel;x=a.events;y=a.browserStateManager;C=a.NativeSDK;z=a.appContext;A=lpTag.unifiedWindow.events;N=M.getPropertyFromObject(z,"conf.engConf.async",!1);j()}function c(){w.clear();k();clearTimeout(B)}function d(a){var b=!C;if("boolean"==typeof a&&w.get(H.WINDOW_MAXIMIZED)!==a){J.info("setWindowState: Window maximized="+a,D);var c=z.conversationManager&&z.conversationManager.isAutoClosedMainDialog,d=c&&c(v.get(I.CHAT_ID));b&&w.modify(H.WINDOW_MAXIMIZED,a);w.get(H.STATE)===lpTag.unifiedWindow.State.WAITING&&N&&!d&&x.trigger({appName:lpTag.unifiedWindow.apps.UNIFIED_WINDOW,eventName:A.application.DO_HARAKIRI});x.trigger({appName:lpTag.unifiedWindow.apps.UNIFIED_WINDOW,eventName:a?F.uiState.MAXIMIZED:F.uiState.MINIMIZED,global:!0})}}function e(a,b){J.info("setWindowPosition: position="+JSON.stringify(a),D);w.modify(H.WINDOW_POSITION,a,null,b)}function f(a){g(H.ACTIONS_VISIBLE,a)}function g(a,b){a&&"boolean"==typeof b&&w.modify(a,b)}function h(a){J.info("setSoundState: enable="+a,D);"boolean"==typeof a&&w.modify(H.WINDOW_SOUND,a)}function i(a){w.modify({splitKey:H.WINDOW_EMBEDDED,updateData:a,onSuccess:r,context:this})}function j(){x.bind({appName:E.HEARTBEAT,eventName:F.heartBeat.FAILED,func:m});x.bind({appName:E.HEARTBEAT,eventName:F.heartBeat.RESUMED,func:n});x.bind({appName:E.UNIFIED_WINDOW,eventName:F.unifiedWindow.MAXIMIZE,func:l});x.bind({appName:E.UNIFIED_WINDOW,eventName:F.chat.SET_REFRESH_MODEL_DELAY,func:s});y.on(y.EVENT_NAME.FOCUS_CHANGE,o,this);y.on(y.EVENT_NAME.VISIBILITY_CHANGE,p,this);w.bind(H.WINDOW_EMBEDDED,q)}function k(){x.unbind({appName:E.HEARTBEAT,eventName:F.heartBeat.FAILED,func:m});x.unbind({appName:E.HEARTBEAT,eventName:F.heartBeat.RESUMED,func:n});x.unbind({
appName:E.UNIFIED_WINDOW,eventName:F.unifiedWindow.MAXIMIZE,func:l});x.unbind({appName:E.UNIFIED_WINDOW,eventName:F.chat.SET_REFRESH_MODEL_DELAY,func:s});y.off(y.EVENT_NAME.FOCUS_CHANGE,o);y.off(y.EVENT_NAME.VISIBILITY_CHANGE,p);w.unbind(H.WINDOW_EMBEDDED,q)}function l(){d(G.MAXIMIZED)}function m(){w.modify(H.ACTION_POPOUT_ENABLE,!1)}function n(){w.modify(H.ACTION_POPOUT_ENABLE,!0)}function o(a){if(a.focus){J.info("_refreshModelOnFocusChange: model refreshed",D);w.load()}else{B&&clearTimeout(B);B=setTimeout(p,K)}}function p(){y.isHidden()||w.modify(H.LAST_VIEWED_TAB,lpTag.storageMethods.getSessionData("lpTabId"));if(!y.isFocus()&&!y.isHidden()){J.info("_refreshModelOnVisibility: "+(0===L?"model refreshed":"skip refresh"),D);0===L?w.load():L--;B&&clearTimeout(B);B=setTimeout(p,K)}}function q(a){x.trigger({appName:E.UISTATE,eventName:F.uiState.EMBEDDED_CHANGED,data:a&&a.newValue})}function r(a){x.trigger({appName:E.UISTATE,eventName:F.uiState.POP_OUT,data:{popOut:!a.window.embedded}})}function s(a){L=a.loadModelDelay||0}function t(a){O=a}function u(){return O}var v,w,x,y,z,A,B,C,D="UIStateManager",E=lpTag.unifiedWindow.apps,F=lpTag.unifiedWindow.events,G={MAXIMIZED:!0,MINIMIZED:!1},H=lpTag.unifiedWindow.uiModelPath,I=lpTag.unifiedWindow.chatModelPath,J=lpTag.unifiedWindow.log,K=1e3,L=0,M=lpTag.taglets.lpUtil,N=!1,O=!1;b(a);this.WINDOW_STATE=G;this.setWindowState=d;this.setEmbeddedState=i;this.setWindowPosition=e;this.setActionsVisibility=f;this.setVisibility=g;this.setSoundState=h;this.clear=c;this.setWindowClosedByVisitor=t;this.isWindowClosedByVisitor=u};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.IdnvManager=function(a){function b(a){w.info("init",v);if("object"==typeof a){t=a.appContext;u=a.lppModel}else w.error("init: missing mandatory dependencies.",v)}function c(a){return a.text&&a.text.indexOf&&(a.text.indexOf(C.attrs.questionType)>-1||a.text.indexOf(C.attrs.answerType)>-1)?!0:!1}function d(a){if("visitor"===a.source){a=h(a);a.source="system"}else a=g(a);return a}function e(a){var b=k(a);p(b);n(z.lineId,C.states.CANCELLED);z={}}function f(a){var b=j(a);p(b);n(z.lineId,C.states.SUBMITTED);z={}}function g(a){var b,c=a["@id"],d=o(c);d||(d=m(c));if(d===C.states.PENDING){b=r(a.text);if(b){z={lineId:c,encodedFields:b.encodedFields};s.call(this,lpTag.unifiedWindow.events.viewController.DIALOG,b)}}return a}function h(a){var b=a.text.indexOf(C.attrs.action)>-1?!0:!1,c=r(a.text);if(c.encodedFields===z.encodedFields){s.call(this,lpTag.unifiedWindow.events.viewController.DIALOG_STATE_CHANGED,{});z={}}b?a.text=i(c.fields):a.text=k(c.encodedFields);return a}function i(a){var b=t.translator.translate("idnvFormSubmitted",!0);return x.injectTextObj(b,{idnvChar1:a.firstChar,idnvChar2:a.secondChar,idnvType:a.typeField})}function j(a){var b=t.translator.translate("idnvAnswer",!0);b=x.injectTextObj(b,{idnvAnswer1:a.firstChar,idnvAnswer2:a.secondChar});return l(b,a.idnvData.encodedFields,!0)}function k(a){return l(t.translator.dictionary.getString("idnvFormCancelled"),a,!1)}function l(a,b,c){var d;c&&(d=C.attrs.action+'="mask"');return x.injectTextObj(B,{payload:b,mask:d,text:a})}function m(a){var b;b=z.lineId&&a!==z.lineId?C.states.SKIPPED:C.states.PENDING;n(a,b);return b}function n(a,b){u.modify(A.IDNV_DATA.path+"."+a+".state",b)}function o(a){return u.get(A.IDNV_DATA.path+"."+a+".state")}function p(a){var b={text:a},c={error:q()};t.transcriptManager.sendLineSkipLocal(b,c)}function q(){return function(){t.events.trigger({appName:"tooltip",eventName:"show",data:{text:t.translator.translate("idnvSendLineError"),tooltipTimeout:y}})}}function r(a){var b,c,d=a.match(/<span.*<\/span>/g);if(d&&d[0]){b=lpTag.lpUtils.getAttrValue(d[0],C.attrs.payload);if(b){c=JSON.parse(decodeURIComponent(b));return{encodedFields:b,fields:c}}}return null}function s(a,b){var c={context:this,data:{ControllerName:lpTag.unifiedWindow.IdnvDialogViewController.ControllerName,idnvData:b,dialogOpenedFrom:this}};t.events.trigger({appName:v,eventName:a,data:c})}var t,u,v="IdnvManager",w=lpTag.unifiedWindow.log,x=lpTag.unifiedWindow.applicationUtils,y=3e3,z={},A=lpTag.unifiedWindow.uiModelPath,B='<span data-lp-collab-type="idnv_answer" data-lp-collab-payload={{payload}} {{mask}}>{{text}}</span>',C={attrs:{type:"data-lp-collab-type",payload:"data-lp-collab-payload",action:"data-lp-action",questionType:"idnv_question",answerType:"idnv_answer"},states:{PENDING:"pending",CANCELLED:"cancelled",SUBMITTED:"submitted",SKIPPED:"skipped"}};b(a);this.isIdnvLineObj=c;this.processIdnvLineObj=d;this.sendIdnvCancelLine=e;this.sendIdnvSubmitLine=f};window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow.WidgetManager=window.lpTag.unifiedWindow.WidgetManager||function(a){function b(a){V.info("init",U);J=a.lpModel;K=a.lppModel;L=a.wsdkModel;M=lpTag.LPWidgetSDK.API;N=a.events;O=a.windowSDKEvents;P=a.appContext;Q=lpTag.unifiedWindow.consts.widgetSDK;S=W.getPropertyFromObject(P,"conf.engConf.async");T=lpTag.unifiedWindow.State;d()}function c(){O.trigger({appName:lpTag.unifiedWindow.apps.WINDOW_SDK,eventName:Y.widgetSDK.INIT})}function d(){N.bind({appName:"*",eventName:Y.widgetSDK.INIT,context:this,func:c});Z.push(N.bind({appName:"*",eventName:Y.widgetSDK.VISITOR_TYPING,context:this,func:A}));Z.push(N.bind({appName:"*",eventName:Y.chat.LINE,context:this,func:C}));Z.push(N.bind({appName:"*",eventName:Y.chat.CHAT_INFO,context:this,func:n}));Z.push(N.bind({appName:"*",eventName:Y.chat.STATE,func:u}));Z.push(N.bind({appName:"slider",eventName:Y.viewController.SLIDER_VIEW_CHANGE,context:this,func:v}));Z.push(N.bind({appName:"slider",eventName:Y.viewController.SLIDER_CLOSED,context:this,func:w}));Z.push(N.bind({appName:"WrapperWindowExtender",eventName:Y.viewController.MINIMIZE_VISIBLE,context:this,func:function(){B(!1)}}));Z.push(N.bind({appName:"WrapperWindowExtender",eventName:Y.viewController.MAXIMIZE_VISIBLE,context:this,func:function(){B(!0)}}));O.bind({appName:lpTag.unifiedWindow.apps.WINDOW_SDK,eventName:lpTag.unifiedWindow.events.widgetSDK.NOTIFICATION,context:this,func:i});O.bind({appName:lpTag.unifiedWindow.apps.WINDOW_SDK,eventName:lpTag.unifiedWindow.events.widgetSDK.INITIATED_WIDGET_ID,context:this,func:e});J.bind(lpTag.unifiedWindow.chatModelPath.AGENT_IS_TYPING,z)}function e(a){var b=K.get(lpTag.unifiedWindow.uiModelPath.INITIATED_WIDGETS_IDS)||{};b[a]=!0;K.modify(lpTag.unifiedWindow.uiModelPath.INITIATED_WIDGETS_IDS,b);J.modify(lpTag.unifiedWindow.chatModelPath.SDK_BUTTON_ENABLE,!0)}function f(a){var b,c=K.get(lpTag.unifiedWindow.uiModelPath.DISPOSED_WIDGETS_IDS)||{},d=!1;c[a]=!1;K.modify(lpTag.unifiedWindow.uiModelPath.DISPOSED_WIDGETS_IDS,c);b=g();for(var e in b)if(b[e]===!0){d=!0;break}d||J.modify(lpTag.unifiedWindow.chatModelPath.SDK_BUTTON_ENABLE,!1)}function g(){var a=K.get(lpTag.unifiedWindow.uiModelPath.INITIATED_WIDGETS_IDS),b=K.get(lpTag.unifiedWindow.uiModelPath.DISPOSED_WIDGETS_IDS);if(b&&a)for(var c in b)a[c]=!1;return a||{}}function h(){var a=K.get(lpTag.unifiedWindow.uiModelPath.SELECTED_WIDGET_ID),b=K.get(lpTag.unifiedWindow.uiModelPath.WIDGET_SLIDER_VISIBLE);return a&&b?a:void 0}function i(a){"number"==typeof a&&a>=0&&J.modify(lpTag.unifiedWindow.chatModelPath.SDK_NOTIFICATIONS,a)}function j(){return K.get(lpTag.unifiedWindow.uiModelPath.WIDGETS_NOTIICATIONS)||{}}function k(){return K.get(lpTag.unifiedWindow.uiModelPath.WIDGET_SLIDER_VISIBLE)}function l(){return K.get(lpTag.unifiedWindow.uiModelPath.WINDOW_MAXIMIZED)}function m(a){K.removeKey(lpTag.unifiedWindow.uiModelPath.WIDGETS_NOTIICATIONS);K.modify(lpTag.unifiedWindow.uiModelPath.WIDGETS_NOTIICATIONS,a)}function n(a){if(a){a.rtSessionId&&!R&&(R=a.rtSessionId);if(R){o(a);p(a,t(R));(a.agentName&&a.agentId||a.visitorId&&a.visitorName)&&q(a)}}}function o(a){var b=L.get(X.CONVERSATION_ID),c=L.get(X.SESSION_ID);!b&&a.rtSessionId&&L.modify(X.CONVERSATION_ID,a.rtSessionId);!c&&a.monitoringSessionId&&L.modify(X.SESSION_ID,a.monitoringSessionId)}function p(a,b){var c=L.get(X.CONVERSATION_ID),d=L.get(X.SESSION_ID),e=!1;if(b&&a){if(a.state&&b.state!==H(a.state)){b.state=H(a.state);e=!0}if(!b.startTime&&a.lastUpdate){b.startTime=a.lastUpdate;e=!0}if(a.skill&&(!b.skill||b.skill.name!==a.skill&&b.skill.id!==a.skill)){S?b.skill={name:"",id:a.skill}:b.skill={name:a.skill,id:""};e=!0}if(a.typing){b.typing=a.typing;e=!0}if(e){L.modify(X.DIALOGS,[b],"id");O.trigger({appName:lpTag.unifiedWindow.apps.WINDOW_SDK,eventName:Y.widgetSDK.CONVERSATION_INFO,data:{conversationId:c,sessionId:d,dialogId:b.id,startTime:b.startTime,state:b.state,dialogType:b.dialogType,channelType:b.channelType,skill:b.skill,typing:b.typing}})}}}function q(a){a.agentName&&a.agentId&&r({id:a.agentId,name:a.agentName,type:Q.AGENT,imgPath:W.getPropertyFromObject(P,"conf.windowConf.agentUrl")||"",description:W.getPropertyFromObject(P,"conf.windowConf.description")||""});a.visitorId&&a.visitorName&&r({id:a.visitorId,name:a.visitorName,type:Q.VISITOR})}function r(a){for(var b,c=t(R),d=!1,e=0;e<c.participants.length;e++)if(c.participants[e].id===a.id){b=c.participants[e];break}if(b){if(!b.name){b.name=a.name;d=!0}if(a.type===Q.AGENT){if(!b.imgPath&&a.imgPath){b.imgPath=a.imgPath;d=!0}if(!b.description&&a.description){b.description=a.description;d=!0}}d&&s(c)}else{c.participants.push(a);s(c)}}function s(a){L.modify(X.DIALOGS,[a],"id");O.trigger({appName:lpTag.unifiedWindow.apps.WINDOW_SDK,eventName:Y.widgetSDK.PARTICIPANTS,data:a.participants})}function t(a){var b,c;if(a){b=L.get(X.DIALOGS);c={id:a,startTime:null,state:null,dialogType:null,channelType:S?Q.CHANNEL_TYPE_MESSAGING:Q.CHANNEL_TYPE_CHAT,messages:[],participants:[],typing:{agent:!1,visitor:!1}};if(b)for(var d=0;d<b.length;d++)b[d].id===a&&(c=b[d]);return c}}function u(a){var b,c;if(a!==lpTag.unifiedWindow.State.INIT&&a!==lpTag.unifiedWindow.State.INITIALIZED){b=H(a);c=t(R);c&&c.state!==b&&p({state:b},c);O.trigger({appName:lpTag.unifiedWindow.apps.WINDOW_SDK,eventName:Y.widgetSDK.CONVERSATION_STATE,data:b})}}function v(a){var b=a.type===lpTag.unifiedWindow.consts.slider.viewType.widgetSDKView;b?K.modify(lpTag.unifiedWindow.uiModelPath.SELECTED_WIDGET_ID,a.id):K.removeKey(lpTag.unifiedWindow.uiModelPath.SELECTED_WIDGET_ID);x(a,!0)}function w(a){x(a,!1)}function x(a,b){O.trigger({appName:lpTag.unifiedWindow.apps.WINDOW_SDK,eventName:Y.widgetSDK.WIDGET_AREA_STATE,data:{isOpened:b,type:a.type}})}function y(a){K.modify(lpTag.unifiedWindow.uiModelPath.WIDGET_SLIDER_VISIBLE,a)}function z(a){var b,c;if(a&&"boolean"==typeof a.newValue){b=t(R);c=b.typing;if(c.agent!==a.newValue){c.agent=a.newValue;p({typing:c},b)}}}function A(a){var b,c;if("boolean"==typeof a){b=t(R);c=b.typing;if(c.visitor!==a){c.visitor=a;p({typing:c},b)}}}function B(a){var b=L.get(X.WINDOW_UI),c=b&&b.isMaximized;("boolean"!=typeof c||"boolean"==typeof a&&a!==c)&&L.modify(X.WINDOW_UI,{isMaximized:a})}function C(a){var b,c=D(a,Y.chat.LINE);if(c){G(c);b=t(a.convId);if(b){b.messages.push(c);L.modify(X.DIALOGS,[b],"id")}O.trigger({appName:lpTag.unifiedWindow.apps.WINDOW_SDK,eventName:Y.widgetSDK.MESSAGES,data:c})}}function D(a,b){var c;if(a)switch(b){case Y.chat.LINE:if(a.type===Y.chat.SECURE_FORM)return null;c={};c.type=E(a.type);c.id=a["@id"]||a.id;c.ts=a.time;c.content=F(a.text);c.originator={type:a.source,name:a.by};c.state=a.state;break;case Y.chat.CHAT_INFO:}return c}function E(a){return a&&a===lpTag.unifiedWindow.consts.chatEvents.RICH_CONTENT?Q.contentType.richContent:Q.contentType.text}function F(a){var b="";if("string"==typeof a){_.lastIndex=null;b=a.replace(_,"<img alt='filteredImg'>")}return b}function G(a){var b=t(R);if(b&&(b.state===lpTag.WindowSDKAPI.states.ACCEPTED||b.state===lpTag.LPWidgetSDK.API.states.IN_QUEUE)){a.originator&&(a.originator.type===Q.VISITOR?$.visitor=!0:a.originator.type===Q.AGENT&&($.agent=!0));$.agent&&$.visitor&&p({state:lpTag.LPWidgetSDK.API.states.INTERACTIVE},b)}}function H(a){var b=lpTag.unifiedWindow.State,c=lpTag.LPWidgetSDK.API.states;switch(a){case b.PRE_CHAT:return c.PRE_CONVERSATION;case b.WAITING:case b.REQUESTED:return c.PENDING;case b.CHATTING:return S?c.IN_QUEUE:c.ACCEPTED;case b.POST_CHAT:return c.POST_CONVERSATION;case b.ENDED:return c.CONVERSATION_ENDED;case b.OFFLINE:return c.OFFLINE;case b.ERROR:case b.NOT_FOUND:return c.ERROR;default:return a}}function I(){V.info("dispose",U);Z.forEach(function(a){N.unbind(a)});O.unbind({appName:lpTag.unifiedWindow.apps.WINDOW_SDK,eventName:lpTag.unifiedWindow.events.widgetSDK.NOTIFICATION,context:this,func:i})}var J,K,L,M,N,O,P,Q,R,S,T,U="WidgetManager",V=lpTag.unifiedWindow.log,W=lpTag.taglets.lpUtil,X=lpTag.unifiedWindow.widgetModelPath,Y=lpTag.unifiedWindow.events,Z=[],$={agent:!1,visitor:!1},_=/(<img.*?>)/g;b(a);this.dispose=I;this.getWidgetsStatus=g;this.getLastShownWidgetId=h;this.getWidgetsNotifications=j;this.getLastSliderState=k;this.isWindowMaximized=l;this.setWIdgetsNotifications=m;this.handleWidgetDisposal=f;this.onWidgetStateChanged=y};window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow.AuthenticationManager=window.lpTag.unifiedWindow.AuthenticationManager||function(a){function b(a){j=a.appContext}function c(a,b){l.info("authenticate",k);var c=j.conf.unifiedConf.authToken||j.conf.unifiedConf.poppedOut,g=j.conf.engConf.async&&j.conf.authConf&&j.conf.authConf.ssoKey,h=j.conf.authConf&&(j.conf.authConf.stepUpConnector||j.conf.authConf.connector);if(m){var i=e();if(c)n.runCallback(a,null,{ssoKey:j.conf.unifiedConf.authToken,redirect_uri:i});else if(g)n.runCallback(a,null,{ssoKey:j.conf.authConf.ssoKey,redirect_uri:i});else if(!d(h)&&j.conf.unifiedConf.connectors&&j.conf.unifiedConf.connectors.length){var o,p=window.lpTag.identities&&lpTag.identities.safeIdentities||[],q=j.conf.unifiedConf.connectors,r=p.filter(function(a){var b=a.acr,c=parseInt(b,10);return 1!==b.length||0!==c});r.length&&q.forEach(function(a){r.forEach(function(b){a.configuration.issuer===b.iss&&(o=a)})});m.getSSOKey(o||h,f(a),b)}else m.getSSOKey(h,f(a),b)}else{l.error("Not authenticator",k);n.runCallback(b)}}function d(a){var b=a&&a.configuration,c="lpTag.taglets.unAuthMessaging.lpUnauthFunction",d="lpTag.taglets.unAuthMessaging";return b?b.jsContext===d&&b.jsMethodName===c:!0}function e(){var a=null,b=j.conf.authConf&&(j.conf.authConf.stepUpConnector||j.conf.authConf.connector),c=j.conf.unifiedConf.useOAuth2Standard||b&&b.configuration&&b.configuration.rfcCompliance;a=j.conf.authConf&&j.conf.authConf.redirect_uri?j.conf.authConf.redirect_uri:c&&j.conf.unifiedConf.external?lpTag.lpUtils.getCurrentUrlWithoutParams():lpTag.unifiedWindow.consts.defaultRedirectUri;return a}function f(a){return function(b){b&&(b.redirect_uri=b.redirect_uri||e());a(b)}}function g(a,b){l.info("reAuthenticate",k);if(m){var c=j.conf.authConf&&(j.conf.authConf.stepUpConnector||j.conf.authConf.connector);m.getSSOKey(c,f(a),b)}}function h(){if(m)return m.isErroneous();l.error("Not authenticator",k);return void 0}function i(){l.info("dispose",k)}var j,k="AuthenticationManager",l=lpTag.unifiedWindow.log,m=lpTag.taglets.authenticator,n=lpTag.taglets.lpUtil;b(a);this.authenticate=c;this.reAuthenticate=g;this.isErroneous=h;this.dispose=i};window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow.StepUpManager=window.lpTag.unifiedWindow.StepUpManager||function(a){function b(a){I=a.configs;J=I.uiState.chat&&I.uiState.chat.stepUpState;H=a.appContext;K=H.events;ba.isStepupEnabled=I.unified.isStepUpEnabled||!1;ba.forceStepUp=I.unified.forceStepUpIfNoState||!1;ba.accountId=lpTag&&lpTag.site;ba.secureStorageDomain=lpTag&&lpTag.csds&&lpTag.csds.getDomain(aa.csds.leCdnDomain);ba.idpDomain=lpTag&&lpTag.csds&&lpTag.csds.getDomain(aa.csds.idp);ba.secureStorageLocation=A(ba.secureStorageDomain);x()}function c(a){M=a.lppModel;L=a.apiDelegate}function d(a){var b=null;"OPEN"===a.state&&a.convId&&(b=a.convId);T.setValue({app:lpTag.unifiedWindow.apps.UNIFIED_WINDOW,key:aa.storage.stepUpStorage.valueKeys.lastActiveConvo,appName:aa.storage.stepUpStorage.appName,site:ba.accountId,value:b,domain:ba.secureStorageLocation,success:function(a){P.debug("stored last unauth convo data",U)},error:function(a){P.debug("failed to store last unauth convo data",U)},firstParty:!0});if("CLOSE"===a.state){J=Z.stepUpEnded;M.modify(lpTag.unifiedWindow.uiModelPath.STEP_UP_STATE,J)}}function e(a){T.getValue({app:lpTag.unifiedWindow.apps.UNIFIED_WINDOW,key:aa.storage.stepUpStorage.valueKeys.lastActiveConvo,appName:aa.storage.stepUpStorage.appName,site:ba.accountId,domain:ba.secureStorageLocation,success:a,error:function(){P.debug("failed to get last unauth convo data",U)},firstParty:!0})}function f(){var a,b="https://"+I.unified.acCdnDomain+"/api/account/"+I.unified.accountId+"/configuration/le-connectors/all-connectors",c=I.unified&&I.unified.connectors,d=lpTag.identities&&lpTag.identities.safeIdentities||[],e=d.filter(function(a){return"LivePerson"!==a.iss});V.authConnector=null;V.unauthConnector=null;if(c&&c.length){c.forEach(function(b){if(C(b))V.unauthConnector=b;else{a=b;e.length&&e.forEach(function(a){b.configuration.issuer===a.iss&&(V.authConnector=b)})}});V.authConnector||a&&(V.authConnector=a);w()}else lpTag.taglets.jsonp.issueCall({url:b,timeout:5e3,retries:0,success:function(a){a.forEach(function(a){V[C(a)?"unauthConnector":"authConnector"]=a});w()},error:function(){P.info("_getConfiguration - ERROR FROM SERVER",U)}})}function g(){P.info("dispose",U);y()}function h(a,b){var c=ba.authenticationLocation,d={lp_jwt:a};b.redirect_uri&&(d.redirect_uri=b.redirect_uri);V.authConnector.type===lpTag.unifiedWindow.consts.authConnectorTypes.OAUTH_IMPLICIT?d.id_token=b.ssoKey:d.code=b.ssoKey;var e={url:c,method:"POST",success:function(a){var b=a.body.token,c=z(b,[Y.onBehalf,Y.sub]);$.unAuthConsuemrId=c[Y.onBehalf];$.authConsumerId=c[Y.sub];N=b;var d=H&&H.conf;d&&d.authConf&&(d.authConf.stepUpConnector=V.authConnector);d&&d.engConf&&(d.engConf.stepUpConnector=V.authConnector);X.success(N)},error:function(a){P.error("failed to get onbehalf jwt from IDP",U);X.fallback()},data:d};R.issueCall(e)}function i(a){return function(b){var c={};if("object"==typeof b){c.ssoKey=b.ssoKey;c.redirect_uri=b.redirect_uri}else c.ssoKey=b;h(a,c)}}function j(a){var b=a.body.token;Q.getSSOKey(V.authConnector,i(b),k)}function k(a){P.error("Step up failed to auth with auth connector",U);X.fallback()}function l(a){var b={url:ba.unauthJwtLocation,method:"POST",data:{id_token:a},error:function(a){X.fallback()},success:j};R.issueCall(b)}function m(){n(l)}function n(a,b){var c=aa.storage.unauthStorage.key,d=aa.storage.unauthStorage.name;window.lpTag.taglets.lpSecureStorage.getValue({key:c,site:ba.accountId,app:lpTag.unifiedWindow.apps.UNIFIED_WINDOW,success:a,error:b,appName:d,domain:ba.secureStorageLocation,firstParty:!0})}function o(){return J}function p(){function a(a){var b={};b.conversationId=a;b.authUserId=$.authConsumerId;b.unAuthUserId=$.unAuthConsuemrId;L.updateStepUpParticipants(b)}e(a)}function q(){if(J===Z.outOfAuthArea||J===Z.failedStepUp||J===Z.alreadySteppedUp)return J;var a=I.uiState.engConf,b=ba.isStepupEnabled,c=C(a.connector),d=I.uiState.chat?"chatting"===I.uiState.chat.state:!!ba.forceStepUp,e=b&&c&&a.identityData&&"0"!==a.identityData.acr,f=b&&c&&d&&J!==Z.stepUpEnded;return e?Z.alreadySteppedUp:f?J===Z.stepUp?Z.stepUp:lpTag.identities&&2===lpTag.identities.length?Z.stepUp:a.identityData&&"0"!==a.identityData.acr?Z.alreadySteppedUp:Z.noStepUp:Z.noStepUp}function r(){var a=J===Z.stepUp||J===Z.alreadySteppedUp;if(a&&1===lpTag.identities.length){J=Z.outOfAuthArea;X.error()}}function s(){r();J=q();P.info("Stepup state:"+J,U);var a=J===Z.stepUp||J===Z.alreadySteppedUp||J===Z.outOfAuthArea;a&&f();return a}function t(){ba.isStepupEnabled&&J===Z.stepUp&&p()}function u(){P.debug("Failed to stepUp user",U);J=Z.failedStepUp;M.modify(lpTag.unifiedWindow.uiModelPath.STEP_UP_STATE,J);X.error()}function v(a){if(200===a.code){P.debug("Successfully to stepUp user",U);J=Z.alreadySteppedUp;M.modify(lpTag.unifiedWindow.uiModelPath.STEP_UP_STATE,J)}else if(400===a.code){if(J!==Z.alreadySteppedUp){P.debug("Stepup failed to stepUp user",U);J=Z.failedStepUp;M.modify(lpTag.unifiedWindow.uiModelPath.STEP_UP_STATE,J);K.trigger({appName:"*",eventName:"authenticationError",data:{error:"expired"}})}}else{P.debug("Step up failed to stepUp user",U);u()}}function w(){K.trigger({appName:U,eventName:ca.READY,data:!0})}function x(){K.bind({appName:U,eventName:ca.READY,func:function(){W=!0;ba.authenticationLocation=B(ba.idpDomain,{accountId:ba.accountId,connectorId:V.authConnector.id});ba.unauthJwtLocation=B(ba.idpDomain,{accountId:ba.accountId,connectorId:V.unauthConnector.id})}});K.bind({appName:"API",eventName:S.CONVERSATION_STATE,func:d});K.bind({appName:"AMSClient",eventName:"onConversationStepUp",func:v})}function y(){K.unbind({appName:U,evenName:ca.READY});K.unbind({appName:"API",eventName:S.CONVERSATION_STATE});K.unbind({appName:"AMSClient",eventName:"onConversationStepUp"})}function z(a,b){var c={};if(a){var d=a.split(".");if(d.length>=2){var e={};try{e=JSON.parse(window.atob(d[1]));b.forEach(function(a){c[a]=e[a]})}catch(f){P("error parsing jwt","ERROR","getSubFromJWT")}}return c}}function A(a){var b=window.lpTag.taglets.lpSecureStorage.v;return"https://"+a+"/le_secure_storage/"+(b?b:"")}function B(a,b){return"https://"+a+"/api/account/"+b.accountId+"/app/"+b.connectorId+"/authenticate?v="+_.idpVersion}function C(a){var b=a&&a.configuration,c="lpTag.taglets.unAuthMessaging.lpUnauthFunction",d="lpTag.taglets.unAuthMessaging";return b.jsContext===d&&b.jsMethodName===c}function D(){K.trigger({appName:lpTag.unifiedWindow.apps.CHAT,eventName:lpTag.unifiedWindow.events.chat.ERROR,data:{errorType:lpTag.unifiedWindow.consts.errorTypes.AUTH_ERROR,keepError:!0}})}function E(a){return function(){if(W)return a.apply(null,arguments);var b=!1;K.bind({appName:U,eventName:ca.READY,func:function(){b=!0;a.apply(null,arguments)}})}()}function F(a,b){X.success=function(b){P.debug("successful stepup auth",U);a(b)};X.fallback=function(){P.error("failed to stepup, falling back",U);b()};if(ba.isStepupEnabled&&J===Z.outOfAuthArea)P.debug("User is out of auth area with auth convo",U);else if(ba.isStepupEnabled&&J!==Z.failedStepUp){P.debug("begin stepup auth",U);E(m)}else X.fallback()}function G(){return J===Z.failedStepUp}var H,I,J,K,L,M,N,O=lpTag.unifiedWindow,P=O.log,Q=lpTag.taglets.authenticator,R=lpTag.taglets&&lpTag.taglets.postmessage,S=lpTag.unifiedWindow.events.chat,T=window.lpTag.taglets.lpSecureStorage,U="StepUpManager",V={},W=!1,X={success:null,fallback:null,error:function(){P.error("failed to stepup, auth error",U);setTimeout(D,0)}},Y={onBehalf:"onBehalf",sub:"sub"},Z={outOfAuthArea:-1,noStepUp:0,stepUp:1,alreadySteppedUp:2,stepUpEnded:3,failedStepUp:4},$={},_={idpVersion:"3.0"},aa={csds:{idp:"idp",leCdnDomain:"leCdnDomain"},storage:{unauthStorage:{key:"-unAuthJWT",name:"unAuthMessaging"},stepUpStorage:{appName:"StepUP",valueKeys:{lastActiveConvo:"lastActiveConvo",jwt:"-stepUpJWT",lastStepUpState:"lastStepUpState"}}}},ba={},ca={READY:"ready"};this.dispose=g;this.shouldStepUp=s;this.stepUpAuthentication=F;this.configure=c;this.getStepUpState=o;this.sendStepUp=t;this.stepUpState=Z;this.getStepUpFailedStatus=G;b(a)};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.FileSharingManager=function(a){function b(a){if("object"==typeof a){F=a.appContext;G=a.apiManager;H=a.utils;E=a.log;I=a.imageParsingHelper;d();E.info("init",J)}}function c(){F.events.unbind({appName:K,eventName:lpTag.unifiedWindow.events.imageShare.IMAGE_SELECTED,func:e});F.events.unbind({appName:K,eventName:lpTag.unifiedWindow.events.imageShare.FILE_DOWNLOAD_REQUEST,func:B});F.events.unbind({appName:K,eventName:lpTag.unifiedWindow.events.imageShare.OVERLAY_CLOSED,func:D});F.events.unbind({appName:K,eventName:lpTag.unifiedWindow.events.imageShare.IMAGE_PREVIEW_CLOSED,func:g});F.events.unbind({appName:K,eventName:lpTag.unifiedWindow.events.imageShare.FILE_UPLOAD_RETRY,func:z})}function d(){F.events.bind({appName:K,eventName:lpTag.unifiedWindow.events.imageShare.IMAGE_SELECTED,func:e});F.events.bind({appName:K,eventName:lpTag.unifiedWindow.events.imageShare.FILE_DOWNLOAD_REQUEST,func:B});F.events.bind({appName:K,eventName:lpTag.unifiedWindow.events.imageShare.OVERLAY_CLOSED,func:D});F.events.bind({appName:K,eventName:lpTag.unifiedWindow.events.imageShare.IMAGE_PREVIEW_CLOSED,func:g});F.events.bind({appName:K,eventName:lpTag.unifiedWindow.events.imageShare.FILE_UPLOAD_RETRY,func:z})}function e(a){if(a&&!R){var b=i(a&&a.image);if(k(b))switch(b){case"JPG":case"JPEG":case"PNG":case"GIF":I.fixOrientation(a.image,f.bind(this));break;case"PDF":case"DOCX":case"XLSX":case"PPTX":m(j(a))&&f.call(this,a.image,b);break;default:m(j(a))&&f.call(this,a.image,"GENERIC")}}}function f(a,b){R||new lpTag.unifiedWindow.PhotoPreviewViewController({appContext:F,utils:H,image:a,type:b})}function g(a){R=!1;if(a&&a.image){var b=a.image,c=j(a);if(m(c,a)){c.error=c.success=p.bind(this,b,c);G.imageShareGenerateUrlRequest(c)}}}function h(a){if(!a)return!1;var b=a;b.indexOf("/")>-1&&(b=b.split("/")[1]);return b.toUpperCase()}function i(a){var b=a&&a.type;b=h(b);if((!b||b.length>4)&&a&&a.name){var c=a.name.split(".");b=h(c[c.length-1])}return b}function j(a){var b=a&&a.image,c=a&&a.caption||"",d=b&&b.size,e=i(b),f={fileSize:d.toString(),fileType:e,caption:c};return f}function k(a){if(-1===P.indexOf(a)){n(lpTag.unifiedWindow.consts.fileSharing.fileAttributes.TYPE);return!1}return!0}function l(a){return L[a]?L[a]:L.DEFAULT}function m(a){var b=!0,c=a.fileSize/1024/1024,d=l(a.fileType);if(k(a.fileType)){if(c>d){b=!1;n(lpTag.unifiedWindow.consts.fileSharing.fileAttributes.SIZE,d)}}else b=!1;return b}function n(a,b){F.events.trigger({appName:K,eventName:lpTag.unifiedWindow.events.imageShare.FILE_VALIDATION,data:{validation:a,extraData:b}})}function o(a){var b=a;"string"==typeof a&&(b={error:a});a.timeout&&(b={error:a.timeout});return b}function p(a,b,c){var d=o(c),e=q.bind(this,a,b,d);u(a,e,b.fileType)}function q(a,b,c,d){var e=this,f={fileData:{preview:d,caption:b.caption,fileType:b.fileType,relativePath:c.relativePath},contentType:lpTag.unifiedWindow.consts.chatEvents.FILE_SHARING,type:lpTag.unifiedWindow.consts.chatEvents.FILE_SHARING};c.error?F.transcriptManager.sendLine(f):F.transcriptManager.sendLine(f,function(d){if(d&&d.hasOwnProperty("lineIndex")&&!Q[d.lineIndex]){Q[d.lineIndex]={send:d.callback,error:d.error,lineRetry:d.retry,state:"pending",details:b};A(d.lineIndex,!1,!0);r.call(e,a,d.lineIndex,c)}})}function r(a,b,c,d){if(Q[b]){Q[b].lineRetry&&Q[b].lineRetry(c);var e=Q[b].details,f=t(c);if(a&&e&&f){Q[b].retry||(Q[b].retry=x.bind(this,a,b));var g=new FileReader;g.onload=function(){var c=this.result,e=new Int8Array(c);s(a,e,f,w.bind(this,b,d||0))};g.readAsArrayBuffer(a)}}}function s(a,b,c,d){if(b){var e=new XMLHttpRequest;e.open("PUT",c);e.onreadystatechange=function(){4===e.readyState&&d(201===e.status,e.status<400||e.status>=500)};e.send(b)}}function t(a){var b=a.relativePath,c=a.queryParams&&a.queryParams.temp_url_sig,d=a.queryParams&&a.queryParams.temp_url_expires;if(b&&c&&d){var e=v()+b;e+="?temp_url_sig="+c;e+="&temp_url_expires="+d;return e}}function u(a,b,c){I.createThumbnail(a,b,c)}function v(){return"https://"+lpTag.csds.getDomain("swift")}function w(a,b,c,d){if(Q[a]&&c&&Q[a].send)Q[a].send();else if(!c){b=b||0;if(d&&M>b){b++;setTimeout(function(){Q[a]&&Q[a].retry?Q[a].retry(b):A(a,!c,!1,d)},N);return}Q[a]&&Q[a].error&&Q[a].error({canRetry:d})}A(a,!c,!1,d)}function x(a,b,c){Q[b].lineRetry&&Q[b].lineRetry();var d=Q[b].details;c=c||0;d.error=d.success=y.bind(this,a,b,c);G.imageShareGenerateUrlRequest(d)}function y(a,b,c,d){var e=o(d);r.call(this,a,b,e,c)}function z(a){a&&a.localId&&Q&&Q[a.localId]&&Q[a.localId].retry&&Q[a.localId].retry(0)}function A(a,b,c,d){F.events.trigger({appName:K,eventName:lpTag.unifiedWindow.events.imageShare.FILE_DONE_UPLOADED+":"+a,data:{showLoader:c,error:b,canRetry:d}})}function B(a){if(!S||H.getPropertyFromObject(a,"download")){S=!0;var b=H.getPropertyFromObject(a,"fileData.relativePath"),c=H.getPropertyFromObject(a,"convId");if(b){var d={relativePath:b,conversationId:c};d.error=d.success=C.bind(this,a);G.imageShareDownloadUrlRequest(d)}}}function C(a,b){var c=H.getPropertyFromObject(b,"body.urlForDownload");!c&&b.relativePath&&(c=t(b));var d=H.getPropertyFromObject(a,"download");if(d)c&&window.open(c,"_blank");else{var e=i({name:H.getPropertyFromObject(a,"fileData.relativePath")}),f=e;if(e)switch(e){case"PNG":case"JPG":case"JPEG":case"GIF":f=null;break;case"PDF":case"DOCX":case"XLSX":case"PPTX":c=F.conf.unifiedConf.imagesRepository+"/"+e.toLowerCase()+".png";break;default:c=F.conf.unifiedConf.imagesRepository+"/generic.png"}c?new lpTag.unifiedWindow.PhotoOverlayViewController({appContext:F,utils:H,imageURL:c,type:f,line:a,timestamp:a.time,caption:a.fileData&&a.fileData.caption||""}):S=!1}}function D(){S=!1}var E,F,G,H,I,J="FileSharingManager",K=lpTag.unifiedWindow.apps.FILE_SHARE,L={DEFAULT:5,PDF:15},M=2,N=1e3,O=["PNG","JPG","GIF","JPEG"],P=O.concat(["PDF","DOCX","PPTX","XLSX"]),Q={},R=!1,S=!1;b(a);this.ALLOWED_IMAGES=O;this.dispose=c};window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow=window.lpTag.unifiedWindow||{};lpTag.unifiedWindow.BrowserNotificationsManager=function(a,b){function c(a){if(W)switch(window.Notification.permission){case X.DENIED:H.load(q.bind(this,z.bind(this,x,a)));break;case X.GRANTED:H.load(q.bind(this,x.bind(this,a)));break;default:H.load(q.bind(this,z.bind(this,x,a)))}}function d(){return W&&F.nativeEnabled}function e(){return W&&window.Notification.permission===X.GRANTED}function f(){return W&&window.Notification.permission===X.DENIED}function g(a,b){H=b.uiModel;G=b.chatModel;F=h(a);W=i();Y=b.browserStateManager;U.info("Browser Notifications Supported: "+W,T);I=b.secureStorageLocation;J=b.appContext.translator;K=b.appContext.deviceDetector;L=b.events;M=b.appContext.fileSharingManager;N=b.appContext.conf.engConf.lang;P=b.appContext.conf.unifiedConf.jsRepository;S=b.appContext.conf.unifiedConf.external;O=K.isAndroidChrome();Q=K.isMacOS();R=K.isMobile();E();if(O)j(function(){l();o()});else{l();o()}}function h(a){return{nativeEnabled:"true"===a.nativeNotification,tabEnabled:"true"===a.tabNotification}}function i(){return!!window.Notification}function j(a){O?navigator.serviceWorker.getRegistration(window.location.origin+"/bn-sw.js").then(function(b){if(b){ia=b;U.info("Service worker obtained",T);a()}else k(a)}):a()}function k(a){navigator.serviceWorker.register(window.location.origin+"/bn-origin-sw.js").then(function(b){U.info("Service worker registration succeeded",T);navigator.serviceWorker.getRegistration(window.location.origin+"/bn-sw.js").then(function(b){if(b){ia=b;U.info("Service worker obtained",T);a()}})},function(b){U.error("Service worker registration failed: "+b,T);a()})}function l(){if(F.tabEnabled){G.bind($.LINES,s);H.bind(Z.LAST_LINE_VIEWED,s);Y.on(Y.EVENT_NAME.VISIBILITY_CHANGE,s)}F.nativeEnabled&&r()&&G.bind($.LINES,t)}function m(){if(F.tabEnabled){G.unbind($.LINES,s);H.unbind(Z.LAST_LINE_VIEWED,s);Y.off(Y.EVENT_NAME.VISIBILITY_CHANGE,s);if(ba){window.document.title=window.document.title.replace(/^\(\d*\)/,"");ba=!1}}F.nativeEnabled&&r()&&G.unbind($.LINES,t);clearTimeout(ga)}function n(){ga=setTimeout(q.bind(this,n),ha)}function o(){ga=setTimeout(q.bind(this,n),0)}function p(a,b,c){for(var d=Object.keys(a)||[],e=(new Date).getTime(),f=0;f<d.length;f++){var g=a[d[f]];if(e-g.ts>fa){var h=V.clone(Z.TAB_LIST);h.path=h.path+"."+d[f];H.removeKey(h);d[f]==b&&H.modify(Z.LAST_VIEWED_TAB,"")}}c()}function q(a){H.load(function(){var b=H.get(Z.TAB_LIST)||{},c=H.get(Z.LAST_VIEWED_TAB)||"",d={active:!0,ts:(new Date).getTime()};b[ca]=d;H.modify(Z.TAB_LIST,b);p(b,c,a)})}function r(){return da.getStorageType(I).lpUnifiedWindow!==da.storageTypes.SESSIONSTORAGE}function s(){var a=w.call(this),b="undefined"==typeof _||_!==a,c=Y&&Y.isHidden();if(b)if(c&&a>0){_=a;if(ba)window.document.title=window.document.title.replace(/^\(\d*\)/,"("+_+")");else{ba=!0;window.document.title="("+_+") "+window.document.title;
}}else if(0>=a){_=0;ba=!1;window.document.title=window.document.title.replace(/^\(\d*\)/,"")}}function t(a){var b=a.newValue,d=H.get(Z.LAST_LINE_VIEWED),e=Y&&Y.isHidden();if(d)for(var f=0;f<b.length;f++)if((v(b[f],d)||u(b[f],d))&&e)if(_>1){b[f].type=ea.LINE;b[f].text=_+" "+J.translate("browserNotifications_newMessages");c(b[f])}else c(b[f])}function u(a,b){if(a.convId===b.convId||"agent"!==a.source||a.update)return!1;0===a["@id"]&&H.modify(Z.LAST_LINE_VIEWED,{"@id":a["@id"],localId:a.localId,convId:a.convId});return!0}function v(a,b){return a["@id"]>b["@id"]&&a.convId===b.convId&&"agent"===a.source&&!a.update}function w(){var a=0,b=G.get($.LINES)||[],c=H.get(Z.LAST_LINE_VIEWED);if(c)for(var d=b.length-1;d>=0;d--){if(b[d]["@id"]===c["@id"]&&b[d].convId===c.convId)return a;isNaN(b[d]["@id"])||"agent"!==b[d].source||b[d].history||a++}return 0}function x(a){var b=H.get(Z.LAST_VIEWED_TAB),c=H.get(Z.TAB_LIST)||{},d=Object.keys(c)||[],e=d.length>0?d[d.length-1]:"",f=A(a);(b&&b===ca||e===ca)&&y(f.title,f.options)}function y(a,b){if(!Q){b.tag=T;R||(b.renotify=!0)}aa||delete b.icon;if(O){b.data={url:document.location.href};ia.showNotification(a,b)}else{var c=new window.Notification(a,b);c.onclick=function(){window.focus();K.isEdge()||c.close()}}}function z(a,b){window.Notification.requestPermission().then(function(c){c===X.GRANTED&&a(b)})}function A(a){var b=B(a);return{title:J.translate("browserNotifications_newMessageTitle"),options:{body:b,icon:aa}}}function B(a){var b=a.by||J.translate("agent");J.extendDictionary({agentName:b},{locale:N});switch(a.type){case ea.LINE:return a.text;case ea.SECURE_FORM:return J.translate("secureForm_link_title_send");case ea.RICH_CONTENT:return J.translate("browserNotifications_richContent");case ea.COBROWSE:return J.translate("cobrowseInvitation");case ea.FILE_SHARING:return"IMAGE"===C(a.fileData)?J.translate("browserNotifications_image"):J.translate("browserNotifications_file");default:return""}}function C(a){var b=a&&a.fileType||"";return-1!==M.ALLOWED_IMAGES.indexOf(b.toUpperCase())?"IMAGE":void 0}function D(){for(var a,b="",c=document.getElementsByTagName("link"),d=0;d<c.length;d++){a=c[d].getAttribute("rel");("icon"===a||"shortcut icon"===a)&&(b=c[d].getAttribute("href"))}b&&(aa=b)}function E(){if(!S){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status?aa="/favicon.ico":4===a.readyState&&D()};a.open("GET","/favicon.ico");a.send(null)}}var F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T="BrowserNotificationsManager",U=lpTag.unifiedWindow.log,V=lpTag.taglets.lpUtil,W=!1,X={GRANTED:"granted",DENIED:"denied"},Y=null,Z=lpTag.unifiedWindow.uiModelPath,$=lpTag.unifiedWindow.chatModelPath,_=0,aa="",ba=!1,ca=lpTag.storageMethods.getSessionData("lpTabId"),da=lpTag.taglets.lpSecureStorage,ea=lpTag.unifiedWindow.consts.chatEvents,fa=5e3,ga=null,ha=5e3,ia=null;g(a,b);this.isSupported=W;this.nativeEnabled=d;this.permissionGranted=e;this.permissionDenied=f;this.requestPermission=z;this.dispose=m};window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow=window.lpTag.unifiedWindow||{};lpTag.unifiedWindow.FeatureStateManager=lpTag.unifiedWindow.FeatureStateManager||function(a,b){function c(a){var b=V[a]||{};b.classes=b.classes?b.classes:[];return b}function d(){return H}function e(){return E[O.EMOJI_ENABLED]&&F.isDesktop()}function f(){return d.call(this)&&X}function g(){return"true"===K.getPropertyFromObject(E,O.TIMESTAMP_GROUPING,"false")}function h(){return!!K.getPropertyFromObject(E,O.TIMESTAMP_LOCATION,R.DEFAULT)}function i(){var a=K.getPropertyFromObject(E,O.AGENT_AVATAR,!1);return a===!0||"true"===a}function j(){return{agent:k(U.AGENT_BUBBLE,"default"),visitor:k(U.VISITOR_BUBBLE,"default")}}function k(b,c){return K.getPropertyFromObject(a,"customStyle.config."+b,c)}function l(){return E[O.CLOSE_WINDOW_BEHAVIOUR_TYPE]}function m(){return K.getPropertyFromObject(E,O.TIMESTAMP_LOCATION,R.DEFAULT)===R.TOP}function n(){return"true"===K.getPropertyFromObject(E,O.BUBBLE_GROUPING,"false")}function o(){return"true"===K.getPropertyFromObject(E,O.ENGAGEMENT_WINDOW_BORDER,"true")}function p(){return E[O.ENGAGEMENT_WINDOW_BOX_SHADOW]}function q(){return"true"===K.getPropertyFromObject(E,O.AGENT_AVATAR_PADDING,"false")}function r(){var a=E[O.HISTORY_LAZYLOAD],b=t(M.HISTORY_LAZYLOAD,"true");switch(a){case"default":case"enabled":return!0;case"disabled":return!1;default:return b}}function s(){return t(M.UMS_CONNECTION_TIMEOUT,"true")}function t(a,b){var c=W.filter(function(b){return b.id===a});return c&&c.length>0&&c[0].propertyValue&&c[0].propertyValue.value===b}function u(a){var b=W.filter(function(b){return b.id===a});return b&&b.length>0&&b[0].propertyValue&&b[0].propertyValue.value||null}function v(){return E[O.SEND_ICON_TYPE]||"arrow"}function w(a,b){E=a;G=a.menuLocation||Q.DEFAULT;H=b.appContext.conf.engConf.async;F=b.appContext.deviceDetector;W=L.isArray(b.appContext.conf.accountSettings)?b.appContext.conf.accountSettings:[];X=t(M.FILE_SHARING_ENALBED,"true");A(E);J.debug("Menu Location parsed",I)}function x(a){switch(a){case Q.TOP:y(N.ACTIONS_BUTTON,!1);y(N.CLOSE_BUTTON,!1);y(N.TOP_MENU_BUTTON,!0);break;case Q.BOTTOM:y(N.ACTIONS_BUTTON,!0);y(N.CLOSE_BUTTON,!0);y(N.TOP_MENU_BUTTON,!1);y(N.ATTACHMENT_ICON,!1);break;default:y(N.ACTIONS_BUTTON,!0);y(N.CLOSE_BUTTON,!0);y(N.TOP_MENU_BUTTON,!1);y(N.ATTACHMENT_ICON,!1)}}function y(a,b){V[a]||(V[a]={value:b})}function z(a,b){V[a]?V[a].classes=b:V[a]={classes:b}}function A(a){if(!H){y(N.ATTACHMENT_ICON,!1);y(N.TOP_MENU_BUTTON,!1);y(N.ACTIONS_BUTTON,!0);y(N.CLOSE_BUTTON,!0)}X||y(N.ATTACHMENT_ICON,!1);F.isDesktop()||y(N.EMOJI_ICON,!1);x(G);B(a);C(a)}function B(a){var b=Object.keys(P);b.forEach(function(b){y([P[b]],!!a[b])})}function C(a){var b=[];if(H||F.isDesktop())if(F.isDesktop()){a[P.attachmentIcon]&&X&&b.push(S.attachmentIcon);a[P.emojiEnabled]&&b.push(S.emojiEnabled);D()&&b.push(S.topMenu);z(N.BOTTOM_AREA,b)}else{a[P.attachmentIcon]&&X&&b.push(S.attachmentIcon);D()&&b.push(S.topMenu);z(N.BOTTOM_AREA,b)}else;}function D(){return G===Q.TOP&&H}var E,F,G,H,I="FeatureStateManager",J=lpTag.unifiedWindow.log,K=lpTag.taglets.lpUtil,L=lpTag.unifiedWindow.applicationUtils,M=lpTag.unifiedWindow.settingsIDs,N={EMOJI_ICON:"emojiEnabled",ATTACHMENT_ICON:"attachmentIcon",BOTTOM_AREA:"bottomArea",ACTIONS_BUTTON:"actionsButton",CLOSE_BUTTON:"closeButton",TOP_MENU_BUTTON:"topMenuButton"},O={EMOJI_ENABLED:"emojiEnabled",SEND_ICON_TYPE:"sendIconType",ATTACHMENT_ICON:"attachmentIcon",TIMESTAMP_GROUPING:"timeStampGrouping",TIMESTAMP_LOCATION:"timeStampLocation",AGENT_AVATAR:"agentAvatar",BUBBLE_GROUPING:"bubbleGrouping",AGENT_AVATAR_PADDING:"agentAvatarPadding",ENGAGEMENT_WINDOW_BORDER:"engagementWindowBorder",ENGAGEMENT_WINDOW_BOX_SHADOW:"engagementWindowBoxShadow",CLOSE_WINDOW_BEHAVIOUR_TYPE:"closeWindowButtonBehaviorType",HISTORY_LAZYLOAD:"historyLazyLoad"},P={emojiEnabled:"emojiEnabled",sendIconType:"sendIconType",attachmentIcon:"attachmentIcon"},Q={TOP:"top",BOTTOM:"bottom",DEFAULT:"bottom"},R={TOP:"top",BOTTOM:"bottom",DEFAULT:"top"},S={emojiEnabled:"lp_emoji_supported",attachmentIcon:"lp_attachment_icon",topMenu:"lp_menu_top"},T={OPEN:"OPEN",CLOSE:"CLOSE"},U={VISITOR_BUBBLE:"transcript_bubble_visitor_parent.options.transcript_bubble_visitor_parent",AGENT_BUBBLE:"transcript_bubble_agent_parent.options.transcript_bubble_agent_parent"},V={},W=[],X=!1;w(a,b);this.getStyleConfig=c;this.renderMap=N;this.isMessaging=d;this.emojiEnabled=e;this.isFileSharingEnabled=f;this.getSendIconType=v;this.isMenuTop=D;this.isLineGroupingEnabled=n;this.locationMap=Q;this.checkSetting=t;this.getSettingsValue=u;this.timeStampGroupingEnabled=g;this.avatarEnabled=i;this.getBubbleStyles=j;this.getCustomStyle=k;this.isTimeStampAbove=m;this.timeStampLocationEnabled=h;this.agentAvatarPaddingEnabled=q;this.isHistoryLazyLoadEnabled=r;this.isEngagementWindowBorderEnabled=o;this.getEngagementWindowBoxShadowConfig=p;this.getCloseWindowButtonBehaviorType=l;this.isUMSConnectionTimeoutEnabled=s;this.CLOSE_ON_END_TYPE=T;this.customStyleMap=U};window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow=window.lpTag.unifiedWindow||{};lpTag.unifiedWindow.TimeStampManager=function(a){function b(a,b){return y?r(h(a),b):K+x.translate("at")+" "+F.getTime(a,C,x.translate("dayMonthGap"),x.translate("daySuffix"),null,x.getLocaleConfig("timeOrder"))+":"}function c(a,b){return r(a,null,b).replace(K+"-"+K,"")}function d(a,b){b=b?b:{};a=h(a)?h(a):(new Date).getTime();if(s(a))return x.translate(H.TODAY);if(t(a))return x.translate(H.YESTERDAY);u(a)?b.weekDay=!0:v(a)||(b.year=!0);return F.getDay(a,C,D,x.translate("dayMonthGap"),x.translate("daySuffix"),b)}function e(a,b){return d(a,b).replace(/(\s|,)/g,"_")}function f(){return y}function g(a,b){if(!a)return!1;b=b?new Date(b):new Date;var c=new Date(a);return b>a&&b.getFullYear()===c.getFullYear()&&b.getMonth()===c.getMonth()&&b.getDate()===c.getDate()}function h(a){return a&&"number"==typeof a?a:a?new Date(a).getTime():null}function i(a){w=a.chatModel;z=a.appContext.featureStateManager;y=z.timeStampGroupingEnabled();A=a.appContext.events;x=a.appContext.translator;B=a.appContext.conf.engConf.lang;C=p();D=q();j()}function j(){y&&w.bind(I.LINES,l)}function k(){y&&w.unbind(I.LINES,l)}function l(a){for(var b=a.newValue,c=b.filter(function(a){var b=(new Date).getTime();return a.time&&b-h(a.time)<G.MINUTE}),d=0;d<c.length;d++)o(c[d])&&m(c[d])}function m(a){setTimeout(function(){A.trigger({appName:"*",eventName:J.UPDATE_TIME_STAMP,data:{line:a,timeStamp:b(a.time,!0)}})},n(a.time))}function n(a){var b=(new Date).getTime(),c=Math.ceil(b/G.MINUTE)*G.MINUTE;return Math.abs(c-h(a))}function o(a){var b=(new Date).getTime();return!a.update&&b-h(a.time)<G.MINUTE}function p(){return[x.translate("monthJanuary"),x.translate("monthFebruary"),x.translate("monthMarch"),x.translate("monthApril"),x.translate("monthMay"),x.translate("monthJune"),x.translate("monthJuly"),x.translate("monthAugust"),x.translate("monthSeptember"),x.translate("monthOctober"),x.translate("monthNovember"),x.translate("monthDecember")]}function q(){return[x.translate("weekDaySunday"),x.translate("weekDayMonday"),x.translate("weekDayTuesday"),x.translate("weekDayWednesday"),x.translate("weekDayThursday"),x.translate("weekDayFriday"),x.translate("weekDaySaturday")]}function r(a,b,c){var d={lang:B};c&&(d.lang=null);var e="",f=(new Date).getTime();e=f-a<G.MINUTE&&!b?x.translate(H.NOW):E.getTime(a,C,x.translate("dayMonthGap"),x.translate("daySuffix"),d);return K+"-"+K+e}function s(a){var b=(new Date).getTime(),c=Math.ceil(b/G.DAY),d=Math.ceil(a/G.DAY);return c-d===0}function t(a){var b=(new Date).getTime(),c=Math.ceil(b/G.DAY),d=Math.ceil(a/G.DAY);return c-d===1}function u(a){var b=(new Date).getTime(),c=Math.ceil(b/G.WEEK),d=Math.ceil(a/G.WEEK);return c-d===0}function v(a){var b=(new Date).getFullYear(),c=new Date(a).getFullYear();return b===c}var w,x,y,z,A,B,C,D,E=(lpTag.unifiedWindow.log,lpTag.lpUtils),F=lpTag.unifiedWindow.applicationUtils,G={MINUTE:6e4,DAY:864e5,WEEK:6048e5},H={NOW:"ts_Now",TODAY:"ts_Today",YESTERDAY:"ts_Yesterday"},I=lpTag.unifiedWindow.chatModelPath,J=lpTag.unifiedWindow.events.viewController,K="&nbsp;";i(a);this.getTimeString=b;this.getDayString=d;this.getDayId=e;this.dispose=k;this.timeStampGroupingEnabled=f;this.isSameDay=g;this.getEpochTime=h;this.getSideTimeString=c};lpTag.unifiedWindow.webViewPlugin=lpTag.unifiedWindow.webViewPlugin||function(a){function b(){if(i&&"function"==typeof i.unbind)for(var b=0;b<p.length;b++)i.unbind(p[b]);a=null;i=null;j=null;p.length=0}function c(){if(i&&"function"==typeof i.bind){d(k.INITIALIZED,"onInit");d(k.STATE,"onConversationStateChanged");d(k.LINE,"onConversationLine");d(k.CHAT_INFO,"onConversationInfo");d(m.DO_HARAKIRI,"onApplicationEnded");d(l.MINIMIZED,"onBackClicked");d(k.SESSION_DATA,"onSessionData")}else j.error("No events object found",g)}function d(b,c){var d,f;a.IOS&&o?d=function(a,b){a=e(b.appName,b.eventName,a);o[c].postMessage(a)}:n&&"function"==typeof n[c]&&(d=function(a,b){a=e(b.appName,b.eventName,a);n[c].call(n,"string"!=typeof a?JSON.stringify(a):a)});if(d){f=i.bind({eventName:b,func:d,context:n,async:!0});p.push(f)}else j.error("No callback defined, missing android object",b)}function e(a,b,c){var d=c,e=c&&r&&r[a]&&r[a][b];if(e){e=Array.isArray(e)?e[0]:e;d=f({data:c},e.data)}return d}function f(a,b){var c={};if("object"==typeof b)for(var d in b)c[d]=q.getPropertyFromObject(a,b[d]);else c=q.getPropertyFromObject(a,b);return c}var g="webViewPlugin",h=lpTag.unifiedWindow.events,i=a&&a.events,j=a&&a.log,k=h.chat,l=h.uiState,m=h.application,n=window.android,o=window.webkit&&window.webkit.messageHandlers,p=[],q=lpTag.taglets.lpUtil,r=q.getPropertyFromObject(lpTag,"unifiedWindow.publicEvents");c();return{dispose:b}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.helpers=lpTag.unifiedWindow.helpers||{};lpTag.unifiedWindow.helpers.LocalizationHelper=lpTag.unifiedWindow.helpers.LocalizationHelper||function(a){function b(a){return i[a]===!0}function c(a,b,c){var d=e(c),i=f(c),k=g(d,b);if(k){h.addClass(a,j[d]);h.removeClass(a,j[i])}else{h.addClass(a,j[i]);h.removeClass(a,j[d])}}function d(a){h=a.util}function e(a){return b(a)?"RTL":"LTR"}function f(a){return b(a)?"LTR":"RTL"}function g(a,b){var c,d="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿",e="֑-߿יִ-﷽ﹰ-ﻼ";c="rtl"===a.toLowerCase()?new RegExp("^[^"+e+"]*["+d+"]"):new RegExp("^[^"+d+"]*["+e+"]");return!c.test(b)}var h,i={"he-IL":!0,"ar-AE":!0},j={LTR:"lp_ltr",RTL:"lp_rtl"};d(a);return{applyDirOnElement:c,isLanguageRTL:b}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.helpers=lpTag.unifiedWindow.helpers||{};lpTag.unifiedWindow.helpers.ImageParsingHelper=lpTag.unifiedWindow.helpers.ImageParsingHelper||function(a){function b(a,b){if(a&&a instanceof Blob){var f=c.bind(this,a,d.bind(this,b));try{e(a,f)}catch(g){b(a)}}else b(a)}function c(a,b,c){if(2>c)b(a);else{var d=new FileReader;d.onloadend=function(){var e=new Image;e.onload=function(){var d=e.width,f=e.height,g=document.createElement("canvas"),h=g.getContext("2d");if(c>4&&9>c){g.width=f;g.height=d}else{g.width=d;g.height=f}switch(c){case 2:h.transform(-1,0,0,1,d,0);break;case 3:h.transform(-1,0,0,-1,d,f);break;case 4:h.transform(1,0,0,-1,0,f);break;case 5:h.transform(0,1,1,0,0,0);break;case 6:h.transform(0,1,-1,0,f,0);break;case 7:h.transform(0,-1,-1,0,f,d);break;case 8:h.transform(0,-1,1,0,0,d)}h.drawImage(e,0,0);g.toBlob?g.toBlob(b,a.type):b(a)};e.onerror=function(c){b(a)};d&&d.result&&"data:"!==d.result?e.src=d.result:b(a)};try{d.readAsDataURL(a)}catch(e){b(a)}}}function d(a,b){var c=new FileReader;c.onloadend=function(){var d=new Image;d.onload=function(){var c,e,f=document.createElement("canvas"),g=f.getContext("2d");f.width=d.width;f.height=d.height;e=k&&k.conf&&k.conf.unifiedConf&&k.conf.unifiedConf.resizeImage||k.featureStateManager.getSettingsValue(l.FILE_SHARING_IMAGE_RESIZE_SIZE)||m.DEFAULT_RESIZE_IMAGE;c=Math.min(e/f.width,e/f.height,1);f.width=f.width*c;f.height=f.height*c;g.drawImage(d,0,0,f.width,f.height);f.toBlob?f.toBlob(a,b.type):a(b)};d.onerror=function(c){a(b)};c&&c.result&&"data:"!==c.result?d.src=c.result:a(b)};try{c.readAsDataURL(b)}catch(d){a(b)}}function e(a,b){f(a,function(a){var c=-1;a&&(c=a[m.TIFF_TAGS.ORIENTATION]);b(c)})}function f(a,b){if(!(a instanceof Blob))return b();var c=new FileReader;c.onload=function(a){var c=new DataView(a.target.result);if(c.buffer.byteLength<16)return b();if(c.getUint16(0,!1)!==m.SOI_MARKER)return b();for(var d=c.byteLength,e=2;d>e;){if(c.getUint16(e+2,!1)<=8)return b();var f=c.getUint16(e,!1);e+=2;if(f===m.APP1_MARKER){if(c.getUint32(e+=2,!1)!==m.EXIF_HEADER_MARKER)return b();var h=c.getUint16(e+=6,!1)===m.TIFF_HEADER_MARKER;e+=c.getUint32(e+4,h);var i=g(c,e,h);return b(i)}if(65280!=(65280&f))break;e+=c.getUint16(e,!1)}b()};try{c.readAsArrayBuffer(a)}catch(d){b()}}function g(a,b,c){var d=a.getUint16(b,c);b+=2;for(var e={},f=0;d>f;f++){var g=b+12*f,h=a.getUint16(g,c),i=a.getUint16(g+8,c);e[h]=i}return e}function h(a,b,c){var d=new FileReader,e=i.bind(this,b);d.onload=e;if(c)switch(c){case"JPG":case"JPEG":case"PNG":case"GIF":d.readAsDataURL(a);break;case"PDF":case"DOCX":case"XLSX":case"PPTX":e(k.conf.unifiedConf.imagesRepository+"/"+c.toLowerCase()+".png");break;default:e(k.conf.unifiedConf.imagesRepository+"/generic.png")}else d.readAsDataURL(a)}function i(a,b){var c=new Image;c.setAttribute("crossOrigin","Anonymous");c.onload=function(){var b,d=document.createElement("canvas"),e=d.getContext("2d"),f=Math.min(m.MAX_THUMB_HEIGHT/c.height,m.MAX_THUMB_WIDTH/c.width);d.height=c.height*f;d.width=c.width*f;e.fillStyle="white";e.fillRect(0,0,d.width,d.height);e.drawImage(c,0,0,d.width,d.height);b=d.toDataURL(m.THUMB_FORMAT);a&&"function"==typeof a&&a(b)};c.onerror=function(){a&&"function"==typeof a&&a()};j.call(this)?a(lpTag.unifiedWindow.consts.fileSharing.fallbackThumbnail.URI):c.src=b&&b.target&&b.target.result||b}function j(){return k.deviceDetector.isIOS13()||k.deviceDetector.isMacOS()&&k.deviceDetector.isSafari()&&13===k.deviceDetector.browserVersion()}var k=a&&a.appContext,l=lpTag.unifiedWindow.settingsIDs,m={TIFF_TAGS:{ORIENTATION:274},SOI_MARKER:65496,APP1_MARKER:65505,EXIF_HEADER_MARKER:1165519206,TIFF_HEADER_MARKER:18761,MAX_THUMB_WIDTH:130,MAX_THUMB_HEIGHT:130,DEFAULT_RESIZE_IMAGE:800,THUMB_FORMAT:"image/jpeg"};return{fixOrientation:b,createThumbnail:h,getImageOrientation:e}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.helpers=lpTag.unifiedWindow.helpers||{};lpTag.unifiedWindow.helpers.SecureFormStyleHelper=lpTag.unifiedWindow.helpers.SecureFormStyleHelper||function(a){function b(a){g=a}function c(){var a=d(),b=e(a),c=JSON.stringify(b);return encodeURIComponent(c)}function d(){var a={};for(var b in h)h.hasOwnProperty(b)&&(a[b]=g.themer.getStyle(b));return a}function e(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[h[c]]=f(a[c],i));return b}function f(a,b){var c={};if(a)for(var d in a)a.hasOwnProperty(d)&&(c[b[d]]=a[d]);return c}var g,h={surveyArea:1,button:2},i={"background-color":"bc",color:"c","font-family":"f"};b(a);return{getCompressedCSS:c}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.helpers=lpTag.unifiedWindow.helpers||{};lpTag.unifiedWindow.helpers.SMSFormHelper=lpTag.unifiedWindow.helpers.SMSFormHelper||function(){function a(a){return h.indexOf(a)>=0?a:"Text Field"}function b(a,b){switch(a){case i.EMAIL:case i.PHONE_NUMBER:case i.IDENTIFIER:case i.FIRST_NAME:case i.LAST_NAME:case i.MESSAGE:return a}switch(b){case"Numeric Field":return i.NUMBER}return i.ALPHA_NUMBERIC}function c(c,d){var e={id:d+1,type:a(c.UDEType),validationType:b(c.type,c.UDEType),logicId:c.logicID,order:d,mandatory:c.required,label:g(c.question).cleanText,lastKnownValue:""};if(c.answersList&&c.answersList.answer&&c.answersList.answer.length){e.entry=[];c.answersList.answer.forEach(function(a){e.entry.push({checked:!1,value:a,displayValue:g(a).cleanText})})}return e}function d(a){if(a&&a.json){var b={header:a.json.heading,footer:a.json.footer,survey:{id:a.id,header:a.json.heading,questions:{question:[]}}},d=b.survey.questions.question,e=a.json.questions&&a.json.questions.surveyQuestion||[];e.forEach(function(a,b){a.displayed&&d.push(c(a,b))});f[a.id]=b;return b}}function e(a,b,c){if(a&&b&&c){var d,e=a.survey.questions.question;e.forEach(function(a){a.validationType===c&&(d=a.id)});if("undefined"!=typeof d){var f=b.filter(function(a){return a.id===d});return f&&f.length?f[0]:void 0}}}var f={},g=lpTag.HtmlSanitizerUtils&&lpTag.HtmlSanitizerUtils.sanitizeHtml||function(a){return{cleanText:a}},h=["Text Field","Text Area","Dropdown Box","Radio Button","Radio Button (side by side)","Checkbox"],i={EMAIL:"email",PHONE_NUMBER:"phoneNumber",IDENTIFIER:"identifier",FIRST_NAME:"firstname",LAST_NAME:"lastname",MESSAGE:"message",NUMBER:"numeric",ALPHA_NUMBERIC:"alpha_numeric"};return{TYPES:i,transform:d,getAnswerOfType:e}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.helpers=lpTag.unifiedWindow.helpers||{};lpTag.unifiedWindow.helpers.HyperLinksHelper=lpTag.unifiedWindow.helpers.HyperLinksHelper||function(){function a(a){var b=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"];return b.slice(0,a).map(function(a){return b[Math.random()*b.length|0]}).join("")}function b(b){if(b){for(var c,d=q.markdownToHtml.regexp,e=b;null!==(c=d.exec(b));){var f=a(5);r.push({key:f,markdown:c[0]});e=e.replace(c[0]," "+f+" ")}b=e}return b}function c(a){a&&r.length>0&&r.forEach(function(b){a=a.replace(" "+b.key+" ",b.markdown)});return a}function d(b){if(b){for(var c,d=q.anchorTagRegex.regexp,e=b;null!==(c=d.exec(b));){var f=a(5);s.push({key:f,aHREF:c[0]});e=e.replace(c[0]," "+f+" ")}b=e}return b}function e(a){a&&s.length>0&&s.forEach(function(b){var c=l(b.aHREF);a=a.replace(" "+b.key+" ",c)});return a}function f(a){if(a)for(var b,c=q.markdownToHtml.regexp;null!==(b=c.exec(a));){var d=b[0],e=b[2]||"",f=b[1]||"";if(e&&f&&j(e)){var g=e;e=f;f=g}e.includes("tel"+String.fromCharCode(58))||e.includes("mailto"+String.fromCharCode(58))||(e=k(e));a=a.replace(d,"<a href='"+e+"'>"+f+"</a>")}return a}function g(a,b){if(a&&b){var c=q.link.regexp,d=a.match(c);if(null===d)return b;b.innerHTML="";var e=0;d.forEach(function(c){a=a.slice(e);e=a.indexOf(c);a=a.replace(c," ");b.innerHTML+=a.slice(0,e);c=k(c).trim();b.innerHTML+="<span style='font-weight:inherit;>'><a target='_blank' rel='noopener 'href='"+c+"'>"+c+"</a></span>"});a=a.slice(e);b.innerHTML+=a;return b}return null}function h(a){return a.match(q.markdownToHtml.regexp)}function i(a){return a.match(q.anchorTagRegex.regexp)}function j(a){return 0!==a.indexOf("http://")&&0!==a.indexOf("https://")&&0!==a.indexOf("ftp://")&&0!==a.indexOf("tel"+String.fromCharCode(58))&&0!==a.indexOf("mailto"+String.fromCharCode(58))&&0!==a.indexOf("javascript"+String.fromCharCode(58))}function k(a){var b=-1===a.indexOf("://")&&-1===a.indexOf("www.");(a.indexOf("javascript"+String.fromCharCode(58))>-1||b)&&(a="");return a}function l(a){var b=q.href.regexp,c=b.exec(a);if(c&&c[1]&&c[1].length>0){var d=k(c[1]);return a.replace(c[1],d)}return a}function m(){return r}function n(a){r=a}function o(){return s}function p(a){s=a}var q={markdownToHtml:{regexp:new RegExp("#md#\\[(.*?)]\\((.*?)\\)#/md#","gim")},anchorTagRegex:{regexp:new RegExp("<a[\\s]+([^>]+)>((?:.(?!\\<\\/a\\>))*.)</a>","gim")},href:{regexp:new RegExp('href="(.*?)"',"gim")},link:{regexp:new RegExp("(?:\\s|^|)(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})(?:\\s|^|$)","gim")}},r=[],s=[];return{wrapStandaloneLinks:g,getMarkDownToTemp:m,setMarkDownToTemp:n,getAHREFToTemp:o,setAHREFToTemp:p,generateTempId:a,convertMarkdownToTempId:b,convertTempIdToMarkdown:c,convertAHREFToTempId:d,convertTempIdToAHREF:e,parseAllMarkdownFormat:f,textContainsMarkDownSyntax:h,textContainsAHREFSyntax:i}};window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow=window.lpTag.unifiedWindow||{};!function(){function a(a,b){for(var d,e=a.getElementsByClass(document.body,a.appConsts.engagementContainerClass,[]),f=0;f<e.length;f++){d=c(e[f],b);if(d)return!0}return!1}function b(a){return document.body.className===a.appConsts.reCaptchaContainerClass}function c(a,b){return b===a||a.contains(b)}var d;lpTag.unifiedWindow.BaseViewController=window.liveperson.uiframework.latest.ViewController.extend({ControllerName:"BaseViewController",logger:lpTag.unifiedWindow.log,util:lpTag.taglets.lpUtil,uiPath:lpTag.unifiedWindow.uiModelPath,chatPath:lpTag.unifiedWindow.chatModelPath,EventName:lpTag.unifiedWindow.events,appConsts:lpTag.unifiedWindow.consts,VCEvents:lpTag.unifiedWindow.events.viewController,State:lpTag.unifiedWindow.State,prefixPlaceHolder:"{{PREFIX}}",customAnimationDurations:{},animationClasses:{bounce:"lpBounceClass",shakeX:"lpShakeXClass",shakeY:"lpShakeYClass"},LPReadNotificationsTypes:{none:{value:"none"},visual:{value:"visual",templates:{PENDING:"<svg class='lp-state-visual lp-pending-notification' viewBox='0 0 20 6' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' stroke-linecap='round'><g transform='translate(-100.000000, -828.000000)'><g transform='translate(101.000000, 829.000000)'><g id='icon_settings_hover'><g id='Group-5'><circle id='Path' stroke='#C8C8C8' cx='9' cy='2' r='2'></circle><circle id='Path' stroke='#C0C0C1' cx='2' cy='2' r='2'></circle><circle id='Path' stroke='#C0C0C1' cx='16' cy='2' r='2'></circle></g></g></g></g></g></svg>",SENT:"<svg class='lp-state-visual lp-sent-notification' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 15'><g fill='none'><g stroke='#C0C0C1'><g transform='translate(-421 -823)translate(421 824)'><polygon points='0 6.6 13.9 0 14 12.3 8.3 10.2 4.6 14 4.6 8.3' stroke-linejoin='round'/><path d='M13.3 1.2L7 8'/></g></g></g></svg>",ACCEPT:"<svg class='lp-state-visual lp-accept-notification' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 9 5'><g style='fill:none;stroke-linejoin:round'><g stroke='#C0C0C1'><polyline points='0 2.5 2.1 5 7 0'/></g></g></svg>",READ:"<svg class='lp-state-visual lp-read-notification' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 5'><g style='fill:none;stroke-linejoin:round'><g stroke='#6D6E70'><g transform='translate(-426 -829)translate(427 829)'><polyline points='0 2.5 2.1 5 7 0'/><path d='M5 5L10 0'/></g></g></g></svg>",ERROR:"<svg class='lp-state-visual lp-failed-notification' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 14 14'><g fill='none'><g stroke='#FF0B29'><path d='M8.3 1.8C8.2 1.5 8 1.2 7.7 1.1 6.9 0.7 6 1 5.7 1.8L0.8 11.3C0.7 11.5 0.6 11.8 0.6 12 0.6 12.8 1.3 13.5 2.1 13.5L11.9 13.5C12.1 13.5 12.3 13.4 12.5 13.3 13.3 13 13.6 12.1 13.2 11.3L8.3 1.8Z'/><path d='M7 5.4L7 8.4'/><path d='M7 10.6L7 11.1'/></g></g></svg>",image_ERROR:"<svg class='lp-state-visual lp-failed-notification' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 14 14'><g fill='none'><g stroke='#FF0B29'><path d='M8.3 1.8C8.2 1.5 8 1.2 7.7 1.1 6.9 0.7 6 1 5.7 1.8L0.8 11.3C0.7 11.5 0.6 11.8 0.6 12 0.6 12.8 1.3 13.5 2.1 13.5L11.9 13.5C12.1 13.5 12.3 13.4 12.5 13.3 13.3 13 13.6 12.1 13.2 11.3L8.3 1.8Z'/><path d='M7 5.4L7 8.4'/><path d='M7 10.6L7 11.1'/></g></g></svg>",image_RETRY:"<svg class='lp-state-visual lp-failed-notification' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 14 14'><g fill='none'><g stroke='#FF0B29'><path d='M8.3 1.8C8.2 1.5 8 1.2 7.7 1.1 6.9 0.7 6 1 5.7 1.8L0.8 11.3C0.7 11.5 0.6 11.8 0.6 12 0.6 12.8 1.3 13.5 2.1 13.5L11.9 13.5C12.1 13.5 12.3 13.4 12.5 13.3 13.3 13 13.6 12.1 13.2 11.3L8.3 1.8Z'/><path d='M7 5.4L7 8.4'/><path d='M7 10.6L7 11.1'/></g></g></svg>"}},text:{value:"text"}},initialize:function(a){this.uiPath=lpTag.unifiedWindow.uiModelPath;this.chatPath=lpTag.unifiedWindow.chatModelPath;this.appContext=a.appContext;this.timeStampManager=a.appContext.timeStampManager;this.timeStampGroupingEnabled=this.timeStampManager.timeStampGroupingEnabled();if(!d.animationCreated&&this.appContext.deviceDetector.isAnimationSupported()){d.animationPrefix=this.appContext.deviceDetector.getAnimationData().preFix;d.animationsSupported=!0;d.cssAnimation=document.createElement("style");d.cssAnimation.type="text/css";document.getElementsByTagName("head")[0].appendChild(d.cssAnimation);this.createDefaultAnimations()}}});d=lpTag.unifiedWindow.BaseViewController.prototype;d.templateString=function(a,b){var c=window.liveperson.uiframework.latest.ViewController.prototype.templateString.call(this,a,b);return this.customize(c)};d.createDefaultAnimations=function(){if(!d.animationCreated){this.createKeyframe(this.animationClasses.bounce,[{percent:0,animate:this.prefixPlaceHolder+"transform: scale(1, 1);"},{percent:40,animate:this.prefixPlaceHolder+"transform: scale(1.15, 1.1);"},{percent:100,animate:this.prefixPlaceHolder+"transform: scale(1, 1);"}],500);this.createKeyframe(this.animationClasses.shakeX,[{percent:0,animate:this.prefixPlaceHolder+"transform: translateX(0px);"},{percent:20,animate:this.prefixPlaceHolder+"transform: translateX(-15px);"},{percent:40,animate:this.prefixPlaceHolder+"transform: translateX(15px); "},{percent:60,animate:this.prefixPlaceHolder+"transform: translateX(-10px);"},{percent:80,animate:this.prefixPlaceHolder+"transform: translateX(10px);"},{percent:100,animate:this.prefixPlaceHolder+"transform: translateX(0px);"}],400);this.createKeyframe(this.animationClasses.shakeY,[{percent:0,animate:this.prefixPlaceHolder+"transform: translateY(0px);"},{percent:20,animate:this.prefixPlaceHolder+"transform: translateY(-15px);"},{percent:40,animate:this.prefixPlaceHolder+"transform: translateY(15px); "},{percent:60,animate:this.prefixPlaceHolder+"transform: translateY(-10px);"},{percent:80,animate:this.prefixPlaceHolder+"transform: translateY(10px);"},{percent:100,animate:this.prefixPlaceHolder+"transform: translateY(0px);"}],400);d.animationCreated=!0}};d.createKeyframe=function(a,b,c){if(d.cssAnimation){for(var e="."+a+" {"+d.animationPrefix+"animation: lpanim_"+a+" "+c/1e3+"s 0s 1 ease-in-out;}@"+d.animationPrefix+"keyframes lpanim_"+a+" {",f=0;f<b.length;f++)e+=""+b[f].percent+"% {"+b[f].animate+"}";e+="}";var g=new RegExp(this.prefixPlaceHolder,"g");e=e.replace(g,this.animationPrefix);d.customAnimationDurations[a]=c;this.cssAnimation.appendChild(document.createTextNode(e))}};d.bounce=function(a,b){this.animateKeyframe({view:a,classname:this.animationClasses.bounce,callback:b,showAnimation:!0})};d.shakeX=function(a,b){this.animateKeyframe({view:a,classname:this.animationClasses.shakeX,callback:b,showAnimation:!0})};d.shakeY=function(a,b){this.animateKeyframe({view:a,classname:this.animationClasses.shakeY,callback:b,showAnimation:!0})};d.animateKeyframe=function(a){var b=a.classname,c=a.callback,e=a.showBefore,f=a.hideAfter,g=a.view,h=a.showAnimation,i=d.customAnimationDurations[b];"number"!=typeof i&&(i=0);"string"==typeof g&&(g=this.getFirstElement(g));if(h&&this.animationsSupported&&g&&!this.animationInProgress&&this.animationCreated){this.animationInProgress=!0;var j=this;this.addClass(g,b);e&&this.show(g);setTimeout(function(){j.animationInProgress=!1;j.removeClass(g,b);f&&j.hide(g);c&&"function"==typeof c&&c.call(j)},i)}else{f?this.hide(g):e&&this.show(g);c&&"function"==typeof c&&c.call(this)}};d.focusOnElement=function(a,b){var c=b||this.view,d=this.getFirstElement(a,c);d&&1===d.nodeType&&d.focus()};d.isFocusInsideApp=function(){var c=document.activeElement,d=this.appContext.wrapperWindow.getChatWrapperElement();return!c||c&&d&&d.contains(c)||c===document.body||a(this,c)||b(this,c)?!0:!1};d.getLineStateText=function(a,b){var c;switch(a){case this.LPReadNotificationsTypes.none.value:c=void 0;break;case this.LPReadNotificationsTypes.visual.value:c=this.createView({template:this.LPReadNotificationsTypes[a].templates[b.state],wrapWithDiv:!1,target:"#lp_line_"+b.localId+" .lp_line_state",doNotAddChild:!0});c=c&&c.outerHTML?c.outerHTML:c instanceof SVGElement?(new XMLSerializer).serializeToString(c):this.translate("messagingState_"+b.state);break;default:c=this.translate("messagingState_"+b.state)}return c};d.getMonthNames=function(){return[this.translate("monthJanuary"),this.translate("monthFebruary"),this.translate("monthMarch"),this.translate("monthApril"),this.translate("monthMay"),this.translate("monthJune"),this.translate("monthJuly"),this.translate("monthAugust"),this.translate("monthSeptember"),this.translate("monthOctober"),this.translate("monthNovember"),this.translate("monthDecember")]};d.getMonthFullNames=function(){return[this.translate("monthFullJanuary"),this.translate("monthFullFebruary"),this.translate("monthFullMarch"),this.translate("monthFullApril"),this.translate("monthFullMay"),this.translate("monthFullJune"),this.translate("monthFullJuly"),this.translate("monthFullAugust"),this.translate("monthFullSeptember"),this.translate("monthFullOctober"),this.translate("monthFullNovember"),this.translate("monthFullDecember")];
}}();window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow=window.lpTag.unifiedWindow||{};!function(){function a(a){if(a)for(var c,d=b(a),e=0;e<d.length;e++){c=this.translate(d[e])||"";a=a.replace("{{"+d[e]+"}}",c)}return a}function b(a){var b=[],c="string"==typeof a&&a.match(e);if(c)for(var d=0;d<c.length;d++)"string"==typeof c[d]&&b.push(c[d].substring(2,c[d].length-2));return b}var c,d="en-US",e=/({{\w+)(?![{])}}/gi;lpTag.unifiedWindow.Translator=function(a){function b(){this.dictionary=lpTag.unifiedWindow.language;this.dictionary.setLocale(a)}b.call(this,a)};c=lpTag.unifiedWindow.Translator.prototype;c.extendDictionary=function(a,b){b=b||{};b.locale=b.locale||d;this.dictionary.add(a,b)};c.translate=function(b,c){var d=this.dictionary.getString(b);c||(d=a.call(this,d));return d};c.getLocaleConfig=function(a){var b=this.dictionary.getLocaleConfig();return b&&b[a]}}();window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.applicationUtils=lpTag.unifiedWindow.applicationUtils||function(){function a(a,b){if("function"==typeof[].indexOf&&"function"==typeof a.indexOf)return a.indexOf(b);if(a.constructor===Array)for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function b(a){return"string"!=typeof a?a:a.trim?a.trim():a.replace(/^\s+|\s+$/gm,"")}function c(a){if("string"!=typeof a)return a;var c=b(a);return c.toLowerCase()}function d(a,b){function c(a,b,c,d){for(var e,f,g=-1,h=c,i=a.length,j=b.length,k=h.indexOf(a);k>-1;){k+=i;g=h.substring(k).indexOf(b);if(g>-1){e=h.substring(k,k+g);f=d&&d[e];d&&"undefined"!=typeof d[e]&&(f=d[e]);void 0!==f&&(c=c.replace(a+e+b,f));h=h.substring(k+g+j)}else h=h.substring(k+j);g=-1;k=h.indexOf(a)}return c}a=c("{{","}}",a,b);return a}function e(a,b){var c=new RegExp(/((?:http|ftp|ws){1}s{0,1}?:\/\/){0,1}([^\/\?\/:]+)(\/?)/gi),d=c.exec(a),e=null;if(d&&d.length>=3&&""!==d[2]){e=d[2].toLowerCase();b&&(e=d[1]+e)}return e}function f(a){var b,c,d={};if("string"==typeof a){b=a.substr(1).split("&");for(var e=0;e<b.length;e++)if(b[e].indexOf("=")>-0){c=b[e].split("=");2==c.length&&(d[decodeURIComponent(c[0])]=decodeURIComponent(c[1]))}}return d}function g(a){a=""+a;var b,c,d=null,f={top:null,country:null};a=e(a);b=a.split(".");if(b.length<3)return a;for(var g=b.length-1,j=g;j>-1;j--){i(b[j],f,j);if(null!==f.country&&null!==f.top)break}if(null!==f.top||null!==f.country){d=f.top;(null===d||null!==f.country&&f.country<d&&d-1===f.country)&&(d=f.country);c=d>0?d-1:d;return h(b.slice(c))}return a}function h(a){return a.join(".")}function i(a,b,c){a=""+a;null===b.top&&(W.topLevelDomain[a]||W.customTopLevelDomain[a])?b.top=c:null===b.country&&W.countryTopLevelDomain[a]&&(b.country=c)}function j(a,b,c){var d;if(!a||"object"!=typeof a)return a;if(!b)return k(a);d=b||a.constructor()||{};for(var e in a)d[e]!==a[e]&&a.hasOwnProperty(e)&&(d[e]=c?j(a[e],void 0,c):a[e]);return d}function k(a){try{return JSON.parse(p(a))}catch(b){lpTag.log("unable to clone object:"+JSON.stringify(b),"ERROR",V);return}}function l(a,b){if("undefined"!=typeof b){if(a)for(var c=0;c<a.length;c++){var d=a[c].value;if("string"==typeof d&&""!==d)if("true"===d)d=!0;else if("false"===d)d=!1;else if("["==d.charAt(0)||"{"==d.charAt(0))try{d=JSON.parse(d)}catch(e){lpTag.log("unable to parse JSON:"+JSON.stringify(e),"ERROR",V)}b[a[c].id]=d}}else lpTag.log("_config is passed as undefined","ERROR",V)}function m(a,b){if(a&&"string"==typeof a){b=b||{};var c,d=b.document||window.document,e=b.id;if("undefined"!=typeof e){c=d.getElementById(e)||d.createElement("style");c.id=e}else c=d.createElement("style");c.type="text/css";d.getElementsByTagName("head")[0].appendChild(c);c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a));return c}}function n(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=c);return b}function o(a,b){function c(){e.body?r(a,d):setTimeout(c,50)}b=b||{};var d=b.context,e=b.document||window.document;c()}function p(a){var b,c;if("function"==typeof Array.prototype.toJSON){c=Array.prototype.toJSON;delete Array.prototype.toJSON;try{b=JSON.stringify(a)}catch(d){Array.prototype.toJSON=c;throw d}Array.prototype.toJSON=c}else b=JSON.stringify(a);return b}function q(){var a="tttttttt-tttt-4ttt-fttt-t7ttttttttttt".replace(/[tf]/g,function(a){var b=16*Math.random()|0,c="t"==a?b:3&b|8;return c.toString(16)});return a+"-"+Math.floor(1e5*Math.random())}function r(a,b){b=b||window;if("function"==typeof a){var c=Array.prototype.slice.call(arguments,2);try{return a.apply(b,c)}catch(d){lpTag.log("Failed to execute callback exc= "+d.message,"ERROR",V)}}}function s(a,b,c){if("function"==typeof N){a=a||{};var d=N(window,a.jsContext),e=N(window,a.jsMethodName);if("function"!=typeof e){lpTag.log("runCallbackByObject err=function "+a.jsMethodName+" was not found","ERROR","utils");c()}else{lpTag.log("runCallbackByObject calling function "+a.jsMethodName,"DEBUG","utils");e.call(d,b)}}else lpTag.log("lpTag.taglets.lpUtil.getPropertyFromObject is not a function","ERROR","utils")}function t(a,b,c){a&&b&&c&&(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c))}function u(a,b,c){a&&b&&c&&(a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c))}function v(b,c,d){var e,f;b="string"==typeof b?b:"";e=b.split(" ");f=c&&c.constructor===Array?c:"string"==typeof c?[c]:[];d=d&&d.constructor===Array?d:"string"==typeof d?[d]:[];for(var g=0;g<e.length;g++)a(d,e[g])<0&&a(f,e[g])<0&&f.push(e[g]);return f.join(" ").replace(/$\s/gi,"")}function w(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function x(a){return b(a.replace(/\s\s*/g," "))}function y(a){return"object"==typeof a&&1===a.nodeType}function z(a){return"undefined"!=typeof a.length&&"undefined"!=typeof a.item}function A(a,b){return a.className.indexOf(b)>-1}function B(a,b){var c={};a.forEach(function(a){var d=a[b];c[d]=c[d]||[];c[d].push(a)});return c}function C(a,b){for(var c=a.concat(),d=0;d<c.length;++d)for(var e=d+1;e<c.length;++e)"undefined"!=typeof c[d][b]&&c[d][b]===c[e][b]&&c.splice(e--,1);return c}function D(a){return"undefined"!=typeof a&&a.constructor===Array}function E(a,b){var c=a;Array.isArray(a)&&(c=a.sort(function(a,c){return!a[b]||a[b]<c[b]?-1:!c[b]||a[b]>c[b]?1:0}));return c}function F(a){return JSON.parse(JSON.stringify(a))}function G(a){for(var b in a)return!1;return!0}function H(a,b){var c=null===a&&null===b,d=a===b,e=typeof a==typeof b,f=e&&"undefined"==typeof a,g=e&&"function"==typeof a&&""+a==""+b,h=e&&"object"==typeof a&&null!==a&&null!==b,i=h&&Object.keys(a).length===Object.keys(b).length;return c||f||d||g||i&&I(a,b)}function I(a,b){var c=!0;for(var d in a){a.hasOwnProperty(d)&&b.hasOwnProperty(d)&&(c="object"==typeof a[d]&&null!==a[d]&&a[d].constructor===Array?p(a[d])===p(b[d]):H(a[d],b[d]));if(!c)break}return c}function J(a,b){if(D(b))for(var c=0;c<b.length;c++)J(a,b[c]);else{if(A(a,b))return;var d=a.className?[a.className]:[];d.push(b);a.className=d.join(" ")}}function K(a){a=a||{};var b=[];for(var c in a)b.push(c);return b}function L(a,b){if(D(b))for(var c=0;c<b.length;c++)L(a,b[c]);else{a.className=a.className.replace(new RegExp(b,"g"),"");a.className=x(a.className)}}function M(){var a=document.documentElement,b=document.getElementsByTagName("body")[0],c=a.clientWidth||b.clientWidth||window.innerWidth,d=window.outerHeight||a.clientHeight||b.clientHeight;return{width:c,height:d}}function N(a,b,c){var d,e=a;if("string"==typeof b){d=b.split(".");for(var f=0;f<d.length;f++){if("undefined"==typeof e||null===e||"undefined"==typeof e[d[f]]||null===e[d[f]]){e="undefined"!=typeof c?c:void 0;break}e=e[d[f]]}}else lpTag.log("Empty path sent to lookup getPropertyFromObject","DEBUG","utils");return e}function O(a,b){function c(a){Array.isArray(b)&&b.forEach(function(b){"string"==typeof b&&b.length>0&&delete a[b]})}a&&(Array.isArray(a)?a.forEach(function(a){a&&c(a)}):"object"==typeof a&&c(a));return a}function P(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return a?a.replace(/[&<>"'`=\/]/g,function(a){return b[a]}):void 0}function Q(a){var b=new Date(a);if(isNaN(b)){b=new Date;var c=a.match(/(\d+)-(\d+)-(\d+)T(\d+):(\d+):(\d+)([.])(\d+)([+-])(\d+):(\d+)/);if(c&&12==c.length){b.setUTCFullYear(parseInt(c[1],10));b.setUTCMonth(parseInt(c[2],10)-1);b.setUTCDate(parseInt(c[3],10));b.setUTCHours(parseInt(c[4],10)-parseInt(c[9]+"1",10)*parseInt(c[10],10));b.setUTCMinutes(parseInt(c[5],10)-parseInt(c[9]+"1",10)*parseInt(c[11],10));b.setUTCSeconds(parseInt(c[6],10))}c=null}return b}function R(a,b,c,d,e,f){var g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h=["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"];if(b)for(var i=0,j=g.length;j>i;i++)b[i]=b[i]||g[i];else b=g;if(c)for(var k=0,l=h.length;l>k;k++)c[k]=c[k]||h[k];else c=h;if(!a)return"";"Date"!==a.constructor&&(a=this.createDateFromString(a));var m=a.getMonth(),n=a.getDate(),o=a.getDay(),p=a.getFullYear();if(f&&null!==f&&"object"==typeof f){var q="";f.weekDay&&(q+=c[o]+", ");q+=b[m]+("string"==typeof d?d:" ")+n+("string"==typeof e?e:"");f.year&&(q+=" "+p);return q}return b[m]+("string"==typeof d?d:" ")+n+("string"==typeof e?e:"")}function S(a,b,c,d,e,f){a&&(a=this.formatDay(a,b,c,d,e,f));return a?a:this.formatDay(new Date,b,c,d,e)}function T(a,b,c,d,e,f,g){var h=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];if(c)for(var i=0,j=h.length;j>i;i++)c[i]=c[i]||h[i];else c=h;if(!a)return"";"Date"!==a.constructor&&(a=this.createDateFromString(a));var k=":",l=a.getMonth(),m=a.getDate(),n=a.getMinutes();k+=10>n?"0":"";k+=n;if(b){var o=a.getSeconds();k+=10>o?":0":":";k+=o}if(f&&null!==f&&"object"==typeof f){if("en-US"===f.lang){var p=a.getHours(),q=p>=12?"PM":"AM";p%=12;p=p?p:12;return p+k+" "+q}return a.getHours()+k}var r=a.getHours()+k,s=c[l]+("string"==typeof d?d:" "),t=m+("string"==typeof e?e:"");switch(g){case"tdm":return r+", "+t+" "+s;case"mdt":return s+t+", "+r;default:return r+", "+s+t}}function U(a,b,c,d,e,f){a&&(a=this.formatTime(a,!1,b,c,d,e,f));return a?a:this.formatTime(new Date,!0,b,c,d,null,f)}var V="ApplicationUtils",W={customTopLevelDomain:{aero:"aero",asia:"asia",bike:"bike",biz:"biz",camera:"camera",cat:"cat",clothing:"clothing",coop:"coop",equipment:"equipment",estate:"estate",eus:"eus",gallery:"gallery",graphics:"graphics",guru:"guru",info:"info","int":"int",holdings:"holdings",jobs:"jobs",lighting:"lighting",mobi:"mobi",museum:"museum",name:"name",photography:"photography",plumbing:"plumbing",post:"post",pro:"pro",singles:"singles",tel:"tel",travel:"travel",ventures:"ventures",xxx:"xxx"},topLevelDomain:{ac:"ac",co:"co",com:"com",edu:"edu",gov:"gov",mil:"mil",net:"net",org:"org"},countryTopLevelDomain:{ac:"ac",ad:"ad",ae:"ae",af:"af",ag:"ag",ai:"ai",al:"al",am:"am",an:"an",ao:"ao",aq:"aq",ar:"ar",as:"as",at:"at",au:"au",aw:"aw",ax:"ax",az:"az",ba:"ba",bb:"bb",bd:"bd",be:"be",bf:"bf",bg:"bg",bh:"bh",bi:"bi",bj:"bj",bm:"bm",bn:"bn",bo:"bo",bq:"bq",br:"br",bs:"bs",bt:"bt",bv:"bv",bw:"bw",by:"by",bz:"bz",bzh:"bzh",ca:"ca",cc:"cc",cd:"cd",cf:"cf",cg:"cg",ch:"ch",ci:"ci",ck:"ck",cl:"cl",cm:"cm",cn:"cn",co:"co",cr:"cr",cs:"cs",cu:"cu",cv:"cv",cw:"cw",cx:"cx",cy:"cy",cz:"cz",dd:"dd",de:"de",dj:"dj",dk:"dk",dm:"dm","do":"do",dz:"dz",ec:"ec",ee:"ee",eg:"eg",eh:"eh",er:"er",es:"es",et:"et",eu:"eu",fi:"fi",fj:"fj",fk:"fk",fm:"fm",fo:"fo",fr:"fr",ga:"ga",gb:"gb",gd:"gd",ge:"ge",gf:"gf",gg:"gg",gh:"gh",gi:"gi",gl:"gl",gm:"gm",gn:"gn",gp:"gp",gq:"gq",gr:"gr",gs:"gs",gt:"gt",gu:"gu",gw:"gw",gy:"gy",hk:"hk",hm:"hm",hn:"hn",hr:"hr",ht:"ht",hu:"hu",id:"id",ie:"ie",il:"il",im:"im","in":"in",io:"io",iq:"iq",ir:"ir",is:"is",it:"it",je:"je",jm:"jm",jo:"jo",jp:"jp",ke:"ke",kg:"kg",kh:"kh",ki:"ki",km:"km",kn:"kn",kp:"kp",kr:"kr","krd:":"krd",kw:"kw",ky:"ky",kz:"kz",la:"la",lb:"lb",lc:"lc",li:"li",lk:"lk",lr:"lr",ls:"ls",lt:"lt",lu:"lu",lv:"lv",ly:"ly",ma:"ma",mc:"mc",md:"md",me:"me",mg:"mg",mh:"mh",mk:"mk",ml:"ml",mm:"mm",mn:"mn",mo:"mo",mp:"mp",mq:"mq",mr:"mr",ms:"ms",mt:"mt",mu:"mu",mv:"mv",mw:"mw",mx:"mx",my:"my",mz:"mz",na:"na",nc:"nc",ne:"ne",nf:"nf",ng:"ng",ni:"ni",nl:"nl",no:"no",np:"np",nr:"nr",nu:"nu",nz:"nz",om:"om",pa:"pa",pe:"pe",pf:"pf",pg:"pg",ph:"ph",pk:"pk",pl:"pl",pm:"pm",pn:"pn",pr:"pr",ps:"ps",pt:"pt",pw:"pw",py:"py",qa:"qa",re:"re",ro:"ro",rs:"rs",ru:"ru",rw:"rw",sa:"sa",sb:"sb",sc:"sc",sd:"sd",se:"se",sg:"sg",sh:"sh",si:"si",sj:"sj",sk:"sk",sl:"sl",sm:"sm",sn:"sn",so:"so",sr:"sr",ss:"ss",st:"st",su:"su",sv:"sv",sx:"sx",sy:"sy",sz:"sz",tc:"tc",td:"td",tf:"tf",tg:"tg",th:"th",tj:"tj",tk:"tk",tl:"tl",tm:"tm",tn:"tn",to:"to",tp:"tp",tr:"tr",tt:"tt",tv:"tv",tw:"tw",tz:"tz",ua:"ua",ug:"ug",uk:"uk",us:"us",uy:"uy",uz:"uz",va:"va",vc:"vc",ve:"ve",vg:"vg",vi:"vi",vn:"vn",vu:"vu",wf:"wf",ws:"ws",ye:"ye",yt:"yt",yu:"yu",za:"za",zm:"zm",zr:"zr"}},X={delimiter:"|",set:function(a,b,c){if("string"==typeof a&&b.join&&"function"==typeof b.join){var d=encodeURIComponent(a)+"="+encodeURIComponent(b.join(this.delimiter))+";path=/";"undefined"!=typeof c&&(d+=";domain="+c);document.cookie=d;return!0}},get:function(a){var b="\\$&";if("string"==typeof a){var c=document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,b)+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")||null;if("string"==typeof c){var d=decodeURIComponent(c);if(d)return d.split(this.delimiter)}}},remove:function(a,b){if("string"==typeof a){this.set(a,["null"],b);return!0}}};return{indexOf:a,trim:b,trimAndLower:c,injectTextObj:d,getDomain:e,getURLParams:f,getParentDomain:g,cloneExtend:j,clone:k,convertConfig:l,addStyleTag:m,objectKeys:n,waitForBody:o,stringify:p,cookieActions:X,getUID:q,runCallback:r,runCallbackByObject:s,registerEvent:t,unregisterEvent:u,buildClassString:v,isEmpty:w,isDomNode:y,isNodeList:z,hasClass:A,groupByKeyValue:B,arrayUniqueByKey:C,isArray:D,sortByKeyValue:E,cloneObj:F,isEmptyLiteral:G,isSameObject:H,addClassByArray:J,objectKeysAsArray:K,removeClassByArray:L,getWindowSize:M,getPropertyFromObject:N,excludeAttributes:O,escapeHtml:P,createDateFromString:Q,formatDay:R,getDay:S,formatTime:T,getTime:U}}();window.lpTag=window.lpTag||{};(function(){this.JsonPollock=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="/dist/",b(b.s=5)}([function(a,b,c){var d,e,d,f;!function(a,c){"use strict";d=[],e=function(){return c(a,a,!0)}.apply(b,d)}("undefined"==typeof ChronosRoot?this:ChronosRoot,function(a,b,c){"use strict";function d(a,b,c){var d=[];if(a[b]&&a[b].length)for(var e=0;e<a[b].length;e++)c&&"*"!==a[b][e].appName&&a[b][e].appName!==c||d.push(a[b][e]);if(a["*"])for(var f=0;f<a["*"].length;f++)c&&"*"!==a["*"][f].appName&&a["*"][f].appName!==c||d.push(a["*"][f]);return d}function e(b,c,d){a&&"function"==typeof a.log&&a.log(b,c,d)}function f(a){var b,c=a.unbindObj[a.attrName],d=!1;if(!a.unbindObj)return e("CMD listen id not spec for unbind","ERROR",a.loggerName),null;if("string"==typeof a.unbindObj)return j(a.lstnrs,a.unbindObj);if(!a.unbindObj.func&&!a.unbindObj.context&&!a.unbindObj.appName)return!1;var f=a.lstnrs;c&&(f={},f[c]=a.lstnrs[c]);for(var g in f)f.hasOwnProperty(g)&&f[g]&&f[g].length&&(b=k(f[g],a.unbindObj.func,a.unbindObj.context,a.unbindObj.appName),b.length!==f[g].length&&(a.lstnrs[g]=b,d=!0));return d}function g(a){var b={};if(a.constructor===Object)for(var c in a)a.hasOwnProperty(c)&&null!==a[c]&&void 0!==a[c]&&("object"==typeof a[c]&&a[c].constructor!==Array?b[c]=g(a[c]):a[c].constructor===Array?b[c]=a[c].slice(0)||[]:"function"!=typeof a[c]&&(b[c]=null!==a[c]&&void 0!==a[c]?a[c]:""));else a.constructor===Array?b=a.slice(0)||[]:"function"!=typeof a&&(b=a);return b}function h(a,b,c){if((void 0===c||"*"===c)&&"*"===b)return a;for(var d=[],e=0;e<a.length;e++)a[e].eventName!==c&&"*"!==c||(b&&b===a[e].appName||!a[e].appName||"*"===a[e].appName||"*"===b)&&d.push(a[e]);return d}function i(a){if(0===a.eventBufferLimit||a.triggerData.data&&a.triggerData.data.doNotStore)a=null;else{var b={eventName:a.triggerData[a.attrName],appName:a.triggerData.appName};b.data=a.triggerData.passDataByRef?a.triggerData.data:g(a.triggerData.data),a.eventBufferLimit>0?(a.index>=a.eventBufferLimit&&(a.index=0),a.fired[a.index]=b,a.index++):a.fired.push(b),a=null}}function j(a,b){var c=!1;if(!b)return e("Ev listen id not spec for unregister","ERROR","Events"),null;for(var d in a)if(a.hasOwnProperty(d))for(var f=0;f<a[d].length;f++)if(a[d][f].id==b){a[d].splice(f,1),e("Ev listen="+b+" and name="+d+" unregister","DEBUG","Events"),c=!0;break}return c||e("Ev listen not found "+b+" unregister","DEBUG","Events"),c}function k(a,b,c,d){var f=[];if(a&&a.length)for(var g=0;g<a.length;g++)try{var h=!c&&a[g].func===b,i=!b&&c&&a[g].context===c,j=b&&c&&a[g].func===b&&a[g].context===c,k=d&&d===a[g].appName,l="*"===a[g].appName;if(h||i||j){if(k||l)continue;if(i)continue}else if(!b&&!c&&k)continue;f.push(a[g])}catch(a){e("Error in unbind e="+a.message,"ERROR","Events")}return f}var l={getListeners:d,log:e,unbind:f,hasFired:h,cloneEventData:g,storeEventData:i};return c||(b.EventsUtil=b.EventsUtil||l),l}),function(c,g){"use strict";d=[e],void 0!==(f=function(a){return g(c,c,a,!0)}.apply(b,d))&&(a.exports=f)}("undefined"==typeof ChronosRoot?this:ChronosRoot,function(a,b,c,d){"use strict";function e(a){function b(a){return a?(a.triggerOnce=!0,d(a)):null}function d(a,b,e){var f=a;if("string"==typeof a&&(f={appName:a,eventName:b,func:e}),f.appName=f.appName||l,"*"!==l&&("string"!=typeof a||"function"!=typeof b&&void 0!==b||(f.eventName=a)),!f.eventName||!f.func||"function"!=typeof f.func&&f.func.constructor!==Array)return c.log("Ev listen has invalid params: evName=["+f.eventName+"]","ERROR","Events"),null;if(f.func.constructor===Array){for(var g,h,i=[],j=0;j<f.func.length;j++)g=c.cloneEventData(f),g.func=f.func[j],h=d(g),i.push(h);return i}var k=r+o++,m={id:k,func:f.func,context:f.context||null,aSync:!!f.aSync,appName:f.appName,triggerOnce:f.triggerOnce||!1};return p[f.eventName]=p[f.eventName]||[],p[f.eventName].push(m),c.log("Ev listen rgstr: evName=["+f.eventName+"] aSync="+m.aSync+" appName="+m.name,"DEBUG","Events"),f=null,a=null,k}function e(a){return"*"!==l&&(a.appName=a.appName||l),c.unbind({unbindObj:a,attrName:n,loggerName:m,lstnrs:p})}function f(a,b){return void 0===b&&(b=a,a=l),c.hasFired(q,a,b)}function g(a,b,d){var e=a;if("string"==typeof a&&(e={eventName:b,appName:a,data:d}),"*"!==l&&(e.appName=e.appName||l,"string"!=typeof a||"object"!=typeof b&&void 0!==b||(e.eventName=a)),!e||void 0===e.eventName)return c.log("Ev name not spec for publish","ERROR","Events"),e=null,null;e.passDataByRef=e.passDataByRef||!j,i(e);var f=c.getListeners(p,e.eventName,e.appName);if(f.length>0)for(var g=0;g<f.length;g++){var k=e.passDataByRef?e.data:c.cloneEventData(e.data),m={appName:e.appName,eventName:e.eventName},n=f[g];n.aSync||k&&k.aSync?setTimeout(h(n,k,m),0):h(n,k,m)()}return e=null,f.length>0}function h(a,b,d){return function(){try{a.func.call(a.context,b,d),b=null,a.triggerOnce&&e(a),a=null}catch(b){c.log("Error executing "+d.eventName+" eventId: "+a.id+"e="+b.message,"ERROR","Events")}}}function i(a){c.storeEventData({triggerData:a,eventBufferLimit:k,attrName:n,fired:q,index:s})}var j,k,l,m="Events",n="eventName",o=0,p={},q=[],r="evId_",s=0;l=a&&a.appName||"*",j=!(!a||"boolean"!=typeof a.cloneEventData)&&a.cloneEventData,k=a&&!isNaN(a.eventBufferLimit)?a.eventBufferLimit:-1,this.once=b,this.hasFired=f,this.trigger=g,this.publish=g,this.bind=d,this.register=d,this.unbind=e,this.unregister=e}return d||(b.Events=b.Events||e),e})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=["vertical","horizontal","carousel"];b["default"]={styleToCss:function(a){var b="";return a&&(a.color&&(b+="color:"+a.color+";"),a["background-color"]&&(b+="background-color:"+a["background-color"]+";"),a.bold&&(b+="font-weight:bold;"),a.italic&&(b+="font-style:italic;"),a.size&&(b+="font-size:"+this.sizeToPx(a.size)+"px;")),b},styleToBorder:function(a){var b="";return a&&(a["border-color"]&&(b+="border-color: "+a["border-color"]+";"),a["border-radius"]&&(b+="border-radius: "+a["border-radius"]+"px;")),b},extractFromStyles:function(a,b){var c=a,d=c.indexOf(b),e="";return d>-1&&(e=c.substr(d,c.indexOf(";",d)-(d-1)),c=c.replace(e,"")),{extractedStyle:e,style:c}},sizeToPx:function(a){switch(a){case"small":return 11;case"medium":return 13;case"large":return 17;default:return 13}},validateParameters:function(a){if(!a.type)throw new Error("Missing configuration: type");for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];c.forEach(function(b){if(void 0===a[b])throw new Error("Missing configuration: "+b+" is a mandatory for element of type "+a.type)})},isString:function(a){return a instanceof String||"string"==typeof a},isObject:function(a){return null!==a&&"object"===(void 0===a?"undefined":d(a))},isLayout:function(a){return e.indexOf(a)>=0},normalizeHtmlText:function(a){var b=a;return a&&(b=b.replace(/(?:\r\n|\r|\n)/g,"<br/>")),b},escapeHtml:function(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return a.replace(/[&<>"'`=\/]/g,function(a){return b[a]})},hasClass:function(a,b){return a.classList&&a.classList.contains?a.classList.contains(b):!!a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))},addClass:function(a,b){a.classList?a.classList.add(b):this.hasClass(a,b)||(a.className+=" "+b)},removeClass:function(a,b){if(a.classList)a.classList.remove(b);else if(this.hasClass(a,b)){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ")}},generateRandomId:function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},appendAttributesFromObject:function(a,b){Object.keys(b).forEach(function(c){a.setAttribute(c,b[c])})}}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(4),j=d(i),k=c(1),l=d(k),m=c(0),n=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return d.errors=c,d}return g(b,a),b}(Error),o=function(){function a(b){e(this,a),this.events=new m({cloneEventData:!0,appName:"json-pollock"}),this.provider=new j["default"](this.events),this.maxAllowedElements=50,this.schemaValidator=b}return h(a,[{key:"init",value:function(a){a&&(Object.prototype.hasOwnProperty.call(a,"maxAllowedElements")&&(!isNaN(a.maxAllowedElements)&&a.maxAllowedElements>0?this.maxAllowedElements=a.maxAllowedElements:this.maxAllowedElements=50),"function"==typeof a.onAfterElementRendered&&(this.onAfterElementRendered=a.onAfterElementRendered))}},{key:"renderElement",value:function(a,b){var c=this,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(d>=this.maxAllowedElements)){var e=d,f=this.provider.get(a.type),g=void 0;f&&(g=f(a),this.onAfterElementRendered&&(g=this.onAfterElementRendered(g,a)),g&&(b.appendChild(g),Array.isArray(a.elements)&&a.elements.forEach(function(a){e+=1,c.renderElement(a,g,e)}),g.afterRender&&g.afterRender.call(g,a,b)))}}},{key:"render",value:function(a){var b=void 0;b=l["default"].isString(a)?JSON.parse(a):a,this.validate(b);var c=document.createDocumentFragment(),d=document.createElement("div");return d.className="lp-json-pollock",l["default"].isLayout(b.type)||(d.className+=" lp-json-pollock-single-element"),c.appendChild(d),this.renderElement(b,d),c}},{key:"validate",value:function(a){if(!l["default"].isObject(a))throw new n("JsonPollock::validte - input is not an object");if(this.schemaValidator){var b=this.schemaValidator.validate(a);if(!b.valid)throw new n("Schema validation error, see 'errors' for more details",b.errors)}}},{key:"registerAction",value:function(a,b){this.events.bind({eventName:a,func:function(a){b(a)}})}},{key:"unregisterAction",value:function(a){this.events.unbind({eventName:a})}},{key:"unregisterAllActions",value:function(){this.events.unbind({})}},{key:"registerElement",value:function(a,b){this.provider.set(a,b)}}]),a}();o.TEMPLATE_TYPES=j["default"].TYPES,b["default"]=o},function(a,b){},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(1),g=function(a){return a&&a.__esModule?a:{"default":a}}(f),h=(c(0),{TEXT:"text",BUTTON:"button",IMAGE:"image",MAP:"map",VERTICAL:"vertical",HORIZONTAL:"horizontal",CAROUSEL:"carousel",SUBMITBUTTON:"submitButton",CHECKBOX:"checkbox",CHECKLIST:"checklist",LIST:"list",SECTION:"section",SECTIONLIST:"sectionList",BUTTONLIST:"buttonList"}),i="data-section-id",j=function(){function a(b){var c=this;d(this,a),this.elements={},this.events=b,this.set(h.TEXT,function(a){var b=document.createElement("div"),c=document.createElement("span"),d=a.tooltip?g["default"].escapeHtml(a.tooltip):"";b.className="lp-json-pollock-element-text",a.rtl&&(b.dir="rtl",g["default"].addClass(b,"direction-rtl"));var e=g["default"].styleToCss(a.style),f=g["default"].extractFromStyles(e,"background-color");return b.setAttribute("style",f.extractedStyle),c.innerHTML=g["default"].normalizeHtmlText(a.text),c.setAttribute("style",f.style),c.setAttribute("title",d),a.accessibility&&a.accessibility.web?g["default"].appendAttributesFromObject(c,a.accessibility.web):c.setAttribute("aria-label",d),b.appendChild(c),b}),this.set(h.BUTTON,function(a){var b=document.createElement("div");b.className="lp-json-pollock-element-button",a.rtl&&(b.dir="rtl",g["default"].addClass(b,"direction-rtl"));var d=document.createElement("button");if(d.innerHTML=g["default"].normalizeHtmlText(a.title),a.tooltip&&(d.title=a.tooltip,d.setAttribute("aria-label",a.tooltip)),a.accessibility&&a.accessibility.web&&g["default"].appendAttributesFromObject(d,a.accessibility.web),a.click&&a.click.actions&&(d.onclick=c.wrapAction(a.click)),"button"!==a["class"]){if(a.style){var e=g["default"].styleToCss(a.style),f=g["default"].extractFromStyles(e,"background-color");d.style.cssText=f.style,b.setAttribute("style",f.extractedStyle)}b.appendChild(d)}else{var h=document.createElement("div");if(h.className="lp-json-pollock-element-button-button",g["default"].addClass(h,"class-button"),a.style){var i=g["default"].styleToCss(a.style),j=g["default"].extractFromStyles(i,"background-color");d.style.cssText=j.style,h.setAttribute("style",j.extractedStyle);var k=g["default"].styleToBorder(a.style);""!==k&&h.setAttribute("style",j.extractedStyle+" "+k)}h.appendChild(d),b.appendChild(h)}return b}),this.set(h.SUBMITBUTTON,function(a){var b=document.createElement("div");b.className="lp-json-pollock-element-submit-button",a.rtl&&(b.dir="rtl",g["default"].addClass(b,"direction-rtl"));var d=document.createElement("input");if(d.type="submit",d.value=g["default"].normalizeHtmlText(a.title),a.disabled&&(d.disabled=!0,d.classList.add("lp-json-pollock-element-submit-button-disabled")),a.tooltip&&(d.title=a.tooltip,d.setAttribute("aria-label",a.tooltip)),a.style){var e=g["default"].styleToCss(a.style),f=g["default"].extractFromStyles(e,"background-color");b.setAttribute("style",f.extractedStyle),d.style.cssText=f.style}return a.accessibility&&a.accessibility.web&&g["default"].appendAttributesFromObject(d,a.accessibility.web),a.click&&a.click.actions&&(d.onclick=c.wrapAction(a.click,!0)),b.appendChild(d),b}),this.set(h.CHECKBOX,function(a){var b=g["default"].generateRandomId(),d=document.createElement("div");d.className="lp-json-pollock-element-checkbox";var e=document.createElement("input"),f=g["default"].normalizeHtmlText(a.text);e.type="checkbox",e.className="lp-json-pollock-element-checkbox-input",e.id=b;var h=document.createElement("label");if(h.className="lp-json-pollock-element-checkbox-label",h.innerHTML+=f,h.setAttribute("for",b),a.rtl&&(h.dir="rtl",g["default"].addClass(h,"direction-rtl")),a.tooltip&&(h.title=a.tooltip,h.setAttribute("aria-label",a.tooltip)),a.borderLine){var j=document.createElement("div");j.className="lp-json-pollock-border-element",a.borderColor&&(j.style.borderColor=a.borderColor),d.appendChild(j)}a.accessibility&&a.accessibility.web&&g["default"].appendAttributesFromObject(h,a.accessibility.web);var k=document.createElement("div");if(k.className="lp-json-pollock-element-checkbox-wrapper",a.rtl&&(k.dir="rtl",g["default"].addClass(k,"direction-rtl")),a.style){var l=g["default"].styleToCss(a.style),m=g["default"].extractFromStyles(l,"background-color");h.style.cssText=l,k.setAttribute("style",m.extractedStyle)}return k.appendChild(e),k.appendChild(h),d.appendChild(k),d.afterRender=function(a,b){var e=d.getElementsByTagName("input")[0];a.click&&a.click.actions&&(e.onclick=c.wrapAction(a.click,!1,b.parentElement.getAttribute(i)))},d}),this.set(h.CHECKLIST,function(a){var b=document.createElement("div");if(b.className="lp-json-pollock-layout-checklist",b.setAttribute("role","group"),a.padding){var c=a.padding;b.style.margin=c/2+"px 0px"}return b}),this.set(h.SECTION,function(a){var b=document.createElement("div");if(b.className="lp-json-pollock-layout-section",a.padding){var c=a.padding;b.style.margin=c/2+"px 0px"}return a.sectionID&&b.setAttribute(i,a.sectionID),a.accessibility&&a.accessibility.web&&g["default"].appendAttributesFromObject(b,a.accessibility.web),b}),this.set(h.SECTIONLIST,function(){var a=document.createElement("div");return a.className="lp-json-pollock-layout-sectionList",a}),this.set(h.BUTTONLIST,function(){var a=document.createElement("div");return a.className="lp-json-pollock-layout-buttonList",a}),this.set(h.LIST,function(){var a=document.createElement("form");return a.className="lp-json-pollock-layout lp-json-pollock-layout-form",a.afterRender=function(){var b=a.querySelectorAll("input");if(b.length>0)for(var d=0;d<b.length;d+=1){var e=b[d];e.onclick&&function(){var b=e.onclick;e.onclick=function(d){b.call(c,d,a)}}()}var f=a.querySelectorAll("button");if(f.length>0)for(var g=0;g<f.length;g+=1){var h=f[g];h.getAttribute("type")||h.setAttribute("type","button")}},a}),this.set(h.IMAGE,function(a){var b=document.createElement("div");b.className="lp-json-pollock-element-image loading",a.rtl&&(b.dir="rtl",g["default"].addClass(b,"direction-rtl"));var d=document.createElement("img");return d.src=a.url,a.tooltip&&a.tooltip.length&&(b.title=a.tooltip),a.alt&&a.alt.length?d.setAttribute("alt",a.alt):(d.setAttribute("alt",""),
d.setAttribute("role","presentation")),a.style&&(d.style.cssText=g["default"].styleToCss(a.style)),a.caption&&(b.innerHTML+="<span>"+a.caption+"</span>"),a.accessibility&&a.accessibility.web&&g["default"].appendAttributesFromObject(d,a.accessibility.web),d.onload=function(){g["default"].removeClass(b,"loading")},d.onerror=function(){g["default"].removeClass(b,"loading"),g["default"].addClass(b,"error"),b.title="fail to load image",d.style.display="none"},a.click&&a.click.actions&&(d.onclick=c.wrapAction(a.click)),b.appendChild(d),b}),this.set(h.MAP,function(a){var b=document.createElement("div");return b.className="lp-json-pollock-element-map",a.tooltip&&(b.title=a.tooltip,b.setAttribute("aria-label",a.tooltip)),a.style&&(b.style.cssText=g["default"].styleToCss(a.style)),a.accessibility&&a.accessibility.web&&g["default"].appendAttributesFromObject(b,a.accessibility.web),a.click&&a.click.actions?b.onclick=c.wrapAction(a.click):b.onclick=function(){window.open("https://www.google.com/maps/search/?api=1&query="+a.la+","+a.lo,"_blank")},b}),this.set(h.VERTICAL,function(a){var b=document.createElement("div");return b.className="lp-json-pollock-layout lp-json-pollock-layout-vertical","borderLess"===a.border?g["default"].addClass(b,"lp-json-pollock-layout-borderLess"):"dropShadow"===a.border&&g["default"].addClass(b,"lp-json-pollock-layout-dropShadow"),a.accessibility&&a.accessibility.web&&g["default"].appendAttributesFromObject(b,a.accessibility.web),b}),this.set(h.CAROUSEL,function(a){function b(a){r&&r[p]&&(j=-1*r[p].offsetLeft+"px",p===r.length-1&&(j=-1*(r[p].offsetLeft-(m.offsetWidth-r[p].offsetWidth))+"px"),this&&this.events&&this.events.trigger({eventName:o,data:{offset:j,prevOffset:n.style.left,uiEvent:a}}),n.style.left=j,k.style.visibility=p>=r.length-1?"hidden":"visible",l.style.visibility=0>=p?"hidden":"visible")}function d(a){p+=1,b.call(this,a)}function e(a){p-=1,b.call(this,a)}function f(a){if(a){var b=a.getAttribute("data-carousel-index");return b||f(a.parentNode)}}function h(a){var c=a.target,d=f(c);d&&(m.scrollLeft=0,d&&p!==parseInt(d,10)&&(p=parseInt(d,10),b.call(this,a)))}var i=a.padding||0,j=0,k=document.createElement("button"),l=document.createElement("button"),m=document.createElement("div"),n=document.createElement("div"),o="carouselOffsetChange",p=0,q=!1,r=void 0;return k.setAttribute("type","button"),k.setAttribute("aria-label","Next"),l.setAttribute("type","button"),l.setAttribute("aria-label","Previous"),k.innerHTML='<svg aria-hidden="true" class="lp-json-pollock-layout-carousel-arrow-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 14"><path d="M0 0 L2 0 L9 7 L2 14 L0 14 L0 13 L6 7 L0 1"/></svg>',l.innerHTML='<svg aria-hidden="true" class="lp-json-pollock-layout-carousel-arrow-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 14"><path d="M0 0 L2 0 L9 7 L2 14 L0 14 L0 13 L6 7 L0 1"/></svg>',a.accessibility&&a.accessibility.web&&g["default"].appendAttributesFromObject(m,a.accessibility.web),m.afterRender=function(){if(m.childNodes.length){for(var a=0;a<m.childNodes.length;a+=1){var b=m.childNodes[a];b.addEventListener("focus",h.bind(c),!0),b.style.margin="0 "+i/2+"px",b.setAttribute("data-carousel-index",a),b.setAttribute("role","listitem")}for(k.className="lp-json-pollock-component-action lp-json-pollock-layout-carousel-arrow",l.className="lp-json-pollock-component-action lp-json-pollock-layout-carousel-arrow left";m.hasChildNodes();)n.insertBefore(m.lastChild,n.firstChild);m.appendChild(n),n.className="lp-json-pollock-layout-carousel",n.setAttribute("aria-label","Carousel with buttons"),m.className="lp-json-pollock-layout-carousel-wrapper",n.setAttribute("role","list"),m.appendChild(n),m.appendChild(k),m.appendChild(l),setTimeout(function(){m.offsetWidth>n.offsetWidth&&(l.style.visibility="hidden",k.style.visibility="hidden"),r=n.children,(q="rtl"===window.getComputedStyle(k).direction)&&(l.style.visibility="visible",k.style.visibility="hidden",p=r.length-1,r=[].slice.call(r,0).reverse(),j=-1*(r[p].offsetLeft-(m.offsetWidth-r[p].offsetWidth))+"px",n.style.left=j)},0),k.onclick=function(a){d.call(c,a)},l.onclick=function(a){e.call(c,a)}}},m}),this.set(h.HORIZONTAL,function(a){var b=document.createElement("div");return b.className="lp-json-pollock-layout lp-json-pollock-layout-horizontal","borderLess"===a.border?g["default"].addClass(b,"lp-json-pollock-layout-borderLess"):"dropShadow"===a.border?g["default"].addClass(b,"lp-json-pollock-layout-dropShadow"):void 0!==a.borderLine&&!1===a.borderLine&&"border"!==a.border&&g["default"].addClass(b,"lp-json-pollock-layout-borderLess"),a.accessibility&&a.accessibility.web&&g["default"].appendAttributesFromObject(b,a.accessibility.web),b.afterRender=function(){if(b.childNodes.length){var c=a.percentages,d=100/b.childNodes.length;if(c&&c.length>0&&c.length<b.childNodes.length){var e=c.reduce(function(a,b){return a+b},0);d=(100-e)/(b.childNodes.length-c.length)}Array.prototype.forEach.call(b.childNodes,function(a,b){var e=a,f=c&&c[b]||d;e.style.width=f+"%"})}},b})}return e(a,[{key:"get",value:function(a){return this.elements[a]}},{key:"set",value:function(a,b){this.elements[a]=b}},{key:"wrapAction",value:function(a,b,c){var d=this;return function(e,f){b&&e&&e.preventDefault&&e.preventDefault(),a.actions instanceof Array&&a.actions.forEach(function(b){var g={actionData:b,metadata:a.metadata,uiEvent:e};c&&(g.groupID=c),f&&(g.formEl=f),d.events.trigger({eventName:b.type,data:g})})}}}]),a}();j.TYPES=h,b["default"]=j},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.TEMPLATE_TYPES=b.version=b.unregisterAllActions=b.unregisterAction=b.registerAction=b.render=b.init=void 0;var e=c(3),f=(d(e),c(2)),g=d(f),h=new g["default"],i=h.init.bind(h),j=h.render.bind(h),k=h.registerAction.bind(h),l=h.unregisterAction.bind(h),m=h.unregisterAllActions.bind(h),n=g["default"].TEMPLATE_TYPES;b.init=i,b.render=j,b.registerAction=k,b.unregisterAction=l,b.unregisterAllActions=m,b.version="1.6.8",b.TEMPLATE_TYPES=n}])}).call(window.lpTag);window.lpTag=window.lpTag||{};(function(){this.chips=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="/pages/ve-le-lp/chips/dist/",b(b.s=71)}([function(a,b){var c=a.exports={version:"2.6.11"};"number"==typeof __e&&(__e=c)},function(a,b,c){var d=c(5),e=c(0),f=c(9),g=c(8),h=c(11),i=function(a,b,c){var j,k,l,m=a&i.F,n=a&i.G,o=a&i.S,p=a&i.P,q=a&i.B,r=a&i.W,s=n?e:e[b]||(e[b]={}),t=s.prototype,u=n?d:o?d[b]:(d[b]||{}).prototype;n&&(c=b);for(j in c)(k=!m&&u&&void 0!==u[j])&&h(s,j)||(l=k?u[j]:c[j],s[j]=n&&"function"!=typeof u[j]?c[j]:q&&k?f(l,d):r&&u[j]==l?function(a){var b=function(b,c,d){if(this instanceof a){switch(arguments.length){case 0:return new a;case 1:return new a(b);case 2:return new a(b,c)}return new a(b,c,d)}return a.apply(this,arguments)};return b.prototype=a.prototype,b}(l):p&&"function"==typeof l?f(Function.call,l):l,p&&((s.virtual||(s.virtual={}))[j]=l,a&i.R&&t&&!t[j]&&g(t,j,l)))};i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,a.exports=i},function(a,b,c){var d=c(37)("wks"),e=c(24),f=c(5).Symbol,g="function"==typeof f;(a.exports=function(a){return d[a]||(d[a]=g&&f[a]||(g?f:e)("Symbol."+a))}).store=d},function(a,b,c){a.exports=!c(10)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(a,b,c){var d=c(7),e=c(53),f=c(39),g=Object.defineProperty;b.f=c(3)?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},function(a,b){var c=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(a,b){a.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},function(a,b,c){var d=c(6);a.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},function(a,b,c){var d=c(4),e=c(17);a.exports=c(3)?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},function(a,b,c){var d=c(50);a.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(a,b){a.exports=function(a){try{return!!a()}catch(a){return!0}}},function(a,b){var c={}.hasOwnProperty;a.exports=function(a,b){return c.call(a,b)}},function(a,b,c){var d=c(32),e=c(30);a.exports=function(a){return d(e(a))}},function(a,b){a.exports={}},function(a,b,c){var d=c(30);a.exports=function(a){return Object(d(a))}},function(a,b,c){var d=c(61),e=c(31);a.exports=Object.keys||function(a){return d(a,e)}},function(a,b){b.f={}.propertyIsEnumerable},function(a,b){a.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},function(a,b,c){"use strict";var d=c(122)(!0);c(33)(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0}:(a=d(b,c),this._i+=a.length,{value:a,done:!1})})},function(a,b,c){var d=c(9),e=c(56),f=c(54),g=c(7),h=c(23),i=c(42),j={},k={},b=a.exports=function(a,b,c,l,m){var n,o,p,q,r=m?function(){return a}:i(a),s=d(c,l,b?2:1),t=0;if("function"!=typeof r)throw TypeError(a+" is not iterable!");if(f(r)){for(n=h(a.length);n>t;t++)if((q=b?s(g(o=a[t])[0],o[1]):s(a[t]))===j||q===k)return q}else for(p=r.call(a);!(o=p.next()).done;)if((q=e(p,s,o.value,b))===j||q===k)return q};b.BREAK=j,b.RETURN=k},function(a,b){a.exports=!0},function(a,b,c){var d=c(7),e=c(114),f=c(31),g=c(36)("IE_PROTO"),h=function(){},i=function(){var a,b=c(52)("iframe"),d=f.length;for(b.style.display="none",c(109).appendChild(b),b.src="javascript:",a=b.contentWindow.document,a.open(),a.write("<script>document.F=Object</script>"),a.close(),i=a.F;d--;)delete i.prototype[f[d]];return i()};a.exports=Object.create||function(a,b){var c;return null!==a?(h.prototype=d(a),c=new h,h.prototype=null,c[g]=a):c=i(),void 0===b?c:e(c,b)}},function(a,b,c){var d=c(4).f,e=c(11),f=c(2)("toStringTag");a.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},function(a,b,c){var d=c(38),e=Math.min;a.exports=function(a){return a>0?e(d(a),9007199254740991):0}},function(a,b){var c=0,d=Math.random();a.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++c+d).toString(36))}},function(a,b,c){c(127);for(var d=c(5),e=c(8),f=c(13),g=c(2)("toStringTag"),h="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<h.length;i++){var j=h[i],k=d[j],l=k&&k.prototype;l&&!l[g]&&e(l,g,j),f[j]=f.Array}},function(a,b,c){"use strict";b.__esModule=!0,b["default"]=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}},function(a,b,c){"use strict";b.__esModule=!0;var d=c(78),e=function(a){return a&&a.__esModule?a:{"default":a}}(d);b["default"]=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),e["default"](a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}()},function(a,b,c){var d=c(29),e=c(2)("toStringTag"),f="Arguments"==d(function(){return arguments}()),g=function(a,b){try{return a[b]}catch(a){}};a.exports=function(a){var b,c,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=g(b=Object(a),e))?c:f?d(b):"Object"==(h=d(b))&&"function"==typeof b.callee?"Arguments":h}},function(a,b){var c={}.toString;a.exports=function(a){return c.call(a).slice(8,-1)}},function(a,b){a.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},function(a,b){a.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(a,b,c){var d=c(29);a.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},function(a,b,c){"use strict";var d=c(20),e=c(1),f=c(63),g=c(8),h=c(13),i=c(111),j=c(22),k=c(60),l=c(2)("iterator"),m=!([].keys&&"next"in[].keys()),n=function(){return this};a.exports=function(a,b,c,o,p,q,r){i(c,b,o);var s,t,u,v=function(a){if(!m&&a in z)return z[a];switch(a){case"keys":case"values":return function(){return new c(this,a)}}return function(){return new c(this,a)}},w=b+" Iterator",x="values"==p,y=!1,z=a.prototype,A=z[l]||z["@@iterator"]||p&&z[p],B=A||v(p),C=p?x?v("entries"):B:void 0,D="Array"==b?z.entries||A:A;if(D&&(u=k(D.call(new a)))!==Object.prototype&&u.next&&(j(u,w,!0),d||"function"==typeof u[l]||g(u,l,n)),x&&A&&"values"!==A.name&&(y=!0,B=function(){return A.call(this)}),d&&!r||!m&&!y&&z[l]||g(z,l,B),h[b]=B,h[w]=n,p)if(s={values:x?B:v("values"),keys:q?B:v("keys"),entries:C},r)for(t in s)t in z||f(z,t,s[t]);else e(e.P+e.F*(m||y),b,s);return s}},function(a,b,c){var d=c(24)("meta"),e=c(6),f=c(11),g=c(4).f,h=0,i=Object.isExtensible||function(){return!0},j=!c(10)(function(){return i(Object.preventExtensions({}))}),k=function(a){g(a,d,{value:{i:"O"+ ++h,w:{}}})},l=function(a,b){if(!e(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!f(a,d)){if(!i(a))return"F";if(!b)return"E";k(a)}return a[d].i},m=function(a,b){if(!f(a,d)){if(!i(a))return!0;if(!b)return!1;k(a)}return a[d].w},n=function(a){return j&&o.NEED&&i(a)&&!f(a,d)&&k(a),a},o=a.exports={KEY:d,NEED:!1,fastKey:l,getWeak:m,onFreeze:n}},function(a,b){b.f=Object.getOwnPropertySymbols},function(a,b,c){var d=c(37)("keys"),e=c(24);a.exports=function(a){return d[a]||(d[a]=e(a))}},function(a,b,c){var d=c(0),e=c(5),f=e["__core-js_shared__"]||(e["__core-js_shared__"]={});(a.exports=function(a,b){return f[a]||(f[a]=void 0!==b?b:{})})("versions",[]).push({version:d.version,mode:c(20)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(a,b){var c=Math.ceil,d=Math.floor;a.exports=function(a){return isNaN(a=+a)?0:(a>0?d:c)(a)}},function(a,b,c){var d=c(6);a.exports=function(a,b){if(!d(a))return a;var c,e;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},function(a,b,c){var d=c(5),e=c(0),f=c(20),g=c(41),h=c(4).f;a.exports=function(a){var b=e.Symbol||(e.Symbol=f?{}:d.Symbol||{});"_"==a.charAt(0)||a in b||h(b,a,{value:g.f(a)})}},function(a,b,c){b.f=c(2)},function(a,b,c){var d=c(28),e=c(2)("iterator"),f=c(13);a.exports=c(0).getIteratorMethod=function(a){return void 0!=a?a[e]||a["@@iterator"]||f[d(a)]:void 0}},function(a,b,c){"use strict";c.d(b,"d",function(){return j}),c.d(b,"a",function(){return k}),c.d(b,"c",function(){return l}),c.d(b,"b",function(){return m}),c.d(b,"e",function(){return n}),c.d(b,"f",function(){return o});var d=c(84),e=c.n(d),f=c(79),g=c.n(f),h=c(44),i=c.n(h),j=function(){var a=arguments.length<=0?void 0:arguments[0],b=void 0,c=void 0;Array.isArray(arguments.length<=1?void 0:arguments[1])?(b={},c=(arguments.length<=1?void 0:arguments[1])||[]):(b=(arguments.length<=1?void 0:arguments[1])||{},c=(arguments.length<=2?void 0:arguments[2])||[]);var d=document.createElement(a);return i()(d.style,b.style||{}),i()(d,b.domProps||{}),g()(b.attrs||[]).forEach(function(a){var b=e()(a,2),c=b[0],f=b[1];return d.setAttribute(c,f)}),g()(b.on||[]).forEach(function(a){var b=e()(a,2),c=b[0],f=b[1];return d.addEventListener(c,f,!1)}),c.forEach(function(a){return d.appendChild(a)}),d},k=function(a,b,c){if(a){var d=a.classList.contains(b);c?d||a.classList.add(b):d&&a.classList.remove(b)}},l=function(a){var b=document.createDocumentFragment();return b.appendChild(a),b},m=function(a,b){a.style.animationName="nodeInserted",a.style.animationDuration="0.001s";var c=function d(c){c.target===a&&"nodeInserted"===c.animationName&&(b(),document.removeEventListener("animationstart",d,!1))};document.addEventListener("animationstart",c,!1)},n=function(a,b){var c=a.getBoundingClientRect(),d=b.getBoundingClientRect();return c.left<d.left||c.right>d.right||c.top<d.top||c.bottom>d.bottom},o=function(a,b,c){var d=a.getBoundingClientRect(),e=b.getBoundingClientRect(),f=e.width*c,g=void 0,h=void 0;return d.left<e.left?(g=d.left-e.left,h=Math.floor):d.right>e.right&&(g=d.right-e.right,h=Math.ceil),-1*h(g/f)}},function(a,b,c){a.exports={"default":c(90),__esModule:!0}},function(a,b,c){a.exports={"default":c(94),__esModule:!0}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var e=c(80),f=d(e),g=c(77),h=d(g),i=c(49),j=d(i);b["default"]=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":j["default"](b)));a.prototype=h["default"](b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(f["default"]?f["default"](a,b):a.__proto__=b)}},function(a,b,c){"use strict";b.__esModule=!0;var d=c(49),e=function(a){return a&&a.__esModule?a:{"default":a}}(d);b["default"]=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":e["default"](b))&&"function"!=typeof b?a:b}},function(a,b,c){"use strict";b.__esModule=!0;var d=c(72),e=function(a){return a&&a.__esModule?a:{"default":a}}(d);b["default"]=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return e["default"](a)}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var e=c(82),f=d(e),g=c(81),h=d(g),i="function"==typeof h["default"]&&"symbol"==typeof f["default"]?function(a){return typeof a}:function(a){return a&&"function"==typeof h["default"]&&a.constructor===h["default"]&&a!==h["default"].prototype?"symbol":typeof a};b["default"]="function"==typeof h["default"]&&"symbol"===i(f["default"])?function(a){return void 0===a?"undefined":i(a)}:function(a){return a&&"function"==typeof h["default"]&&a.constructor===h["default"]&&a!==h["default"].prototype?"symbol":void 0===a?"undefined":i(a)}},function(a,b){a.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(a,b){a.exports=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a}},function(a,b,c){var d=c(6),e=c(5).document,f=d(e)&&d(e.createElement);a.exports=function(a){return f?e.createElement(a):{}}},function(a,b,c){a.exports=!c(3)&&!c(10)(function(){return 7!=Object.defineProperty(c(52)("div"),"a",{get:function(){return 7}}).a})},function(a,b,c){var d=c(13),e=c(2)("iterator"),f=Array.prototype;a.exports=function(a){return void 0!==a&&(d.Array===a||f[e]===a)}},function(a,b,c){var d=c(29);a.exports=Array.isArray||function(a){return"Array"==d(a)}},function(a,b,c){var d=c(7);a.exports=function(a,b,c,e){try{return e?b(d(c)[0],c[1]):b(c)}catch(b){var f=a["return"];throw void 0!==f&&d(f.call(a)),b}}},function(a,b){a.exports=function(a,b){return{value:b,done:!!a}}},function(a,b,c){var d=c(16),e=c(17),f=c(12),g=c(39),h=c(11),i=c(53),j=Object.getOwnPropertyDescriptor;b.f=c(3)?j:function(a,b){if(a=f(a),b=g(b,!0),i)try{return j(a,b)}catch(a){}return h(a,b)?e(!d.f.call(a,b),a[b]):void 0}},function(a,b,c){var d=c(61),e=c(31).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},function(a,b,c){var d=c(11),e=c(14),f=c(36)("IE_PROTO"),g=Object.prototype;a.exports=Object.getPrototypeOf||function(a){return a=e(a),d(a,f)?a[f]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?g:null}},function(a,b,c){var d=c(11),e=c(12),f=c(100)(!1),g=c(36)("IE_PROTO");a.exports=function(a,b){var c,h=e(a),i=0,j=[];for(c in h)c!=g&&d(h,c)&&j.push(c);for(;b.length>i;)d(h,c=b[i++])&&(~f(j,c)||j.push(c));return j}},function(a,b,c){var d=c(8);a.exports=function(a,b,c){for(var e in b)c&&a[e]?a[e]=b[e]:d(a,e,b[e]);return a}},function(a,b,c){a.exports=c(8)},function(a,b,c){var d=c(6);a.exports=function(a,b){if(!d(a)||a._t!==b)throw TypeError("Incompatible receiver, "+b+" required!");return a}},function(a,b){},function(a,b,c){"use strict";var d=c(68);b.a=d.a},function(a,b){},function(a,b,c){"use strict";var d=c(48),e=c.n(d),f=c(45),g=c.n(f),h=c(26),i=c.n(h),j=c(27),k=c.n(j),l=c(47),m=c.n(l),n=c(46),o=c.n(n),p=c(69),q=c(70),r=c(43),s=function(a,b){var c=void 0;c=+b?+b:1;for(var d=[],e=0;e<a.length;e+=c)d.push(a.slice(e,e+c));return d},t=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.el,d=void 0===c?document.body:c,e=a.items,f=void 0===e?[]:e,h=a.rowSize,j=a.rowLimit,k=void 0===j?3:j,l=a.itemCharLimit,n=void 0===l?25:l,o=a.rowWrap,p=void 0!==o&&o,q=a.lazy,r=void 0!==q&&q,s=a.accessibility,t=void 0===s?{web:{}}:s,u=a.renderer;i()(this,b);var v=m()(this,(b.__proto__||g()(b)).call(this));if(!u)throw new Error('"renderer" must be passed');return v.el=d,v.items=f,v.rowWrap=!h&&p,v.rowSize=h||f.length||1,v.rowLimit=k,v.itemCharLimit=n,v.accessibility=t,v.RendererClass=u,r||v.render(),v}return o()(b,a),k()(b,[{key:"render",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.items,c=void 0===b?this.items:b,d=a.rowSize,f=void 0===d?this.rowSize:d,g=a.rowLimit,h=void 0===g?this.rowLimit:g,i=a.rowWrap,j=void 0===i?this.rowWrap:i,k=a.itemCharLimit,l=void 0===k?this.itemCharLimit:k,m=a.accessibility,n=void 0===m?this.accessibility:m,o=j?[c]:s(c,f);if(o.length>h){var p,q=o.slice(0,h-1),r=(p=[]).concat.apply(p,e()(o.slice(h-1)));q.push(r),o=q}this.renderer=new this.RendererClass({events:this,rows:o,itemCharLimit:l,rowWrap:j,accessibility:n}),this.detach(),this.attach(this.renderer.render())}},{key:"attach",value:function(a){this.el.appendChild(a)}},{key:"detach",value:function(){var a=this.el.querySelector(".chips-wrapper");a&&this.el.removeChild(a)}},{key:"dispose",value:function(){this.clear(),this.detach()}},{key:"readonly",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];c.i(r.a)(this.el.querySelector(".chips-wrapper"),"chips-readonly",a),this.renderer.isReadOnly=a}}]),b}(p.a);t.Renderer=q.a,b.a=t},function(a,b,c){"use strict";var d=c(75),e=c.n(d),f=c(26),g=c.n(f),h=c(27),i=c.n(h),j=function(){function(){}return i()(a,[{key:"on",value:function(a,b){this.listeners.set(a,b)}},{key:"off",value:function(a){this.listeners["delete"](a)}},{key:"clear",value:function(){this.listeners=new e.a}},{key:"dispatch",value:function(a){var b=this.listeners.get(a);if(b){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;c>e;e++)d[e-1]=arguments[e];b.apply(void 0,d)}}}]),a}();b.a=j},function(a,b,c){"use strict";var d=c(48),e=c.n(d),f=c(76),g=c.n(f),h=c(45),i=c.n(h),j=c(47),k=c.n(j),l=c(46),m=c.n(l),n=c(83),o=c.n(n),p=c(26),q=c.n(p),r=c(27),s=c.n(r),t=c(43),u=function(){function a(b){var c=b.events,d=b.rows,e=b.itemCharLimit,f=b.rowWrap,g=b.accessibility,h=void 0===g?{web:{}}:g;q()(this,a),this.events=c,this.rows=d,this.itemCharLimit=e,this.rowWrap=f,this.accessibility=h,this.stepRatio=.7,this.refs={wrapper:null,slider:null,navLeft:null,navRight:null}}return s()(a,[{key:"render",value:function(){var a=this.buildDomTree();return this.refs={wrapper:a,slider:a.querySelector(".chips-slider"),navLeft:a.querySelector(".chips-nav-left"),navRight:a.querySelector(".chips-nav-right")},c.i(t.b)(this.refs.slider,this.renderNav.bind(this)),c.i(t.c)(a)}},{key:"buildDomTree",value:function(){var a=this;return c.i(t.d)("div",{attrs:o()({"class":"chips-wrapper"},this.accessibility.web)},[c.i(t.d)("div",{attrs:{"class":"chips-nav chips-nav-left",role:"button","aria-hidden":"true",tabindex:"-1"},style:{visibility:"hidden"},on:{click:function(){a.renderOffset(1),a.events.dispatch("nav:left")}}}),c.i(t.d)("div",{attrs:{"class":"chips-nav chips-nav-right",role:"button","aria-hidden":"true",tabindex:"-1"},style:{visibility:"hidden"},on:{click:function(){a.renderOffset(-1),a.events.dispatch("nav:right")}}}),c.i(t.d)("div",{attrs:{"class":"chips-slider"},style:{left:0}},this.rows.map(function(b){return c.i(t.d)("div",{attrs:{"class":"chips-row"},style:o()({"flex-wrap":a.rowWrap?"wrap":"nowrap"},a.rowWrap&&{height:"auto"})},b.map(a.renderItem.bind(a)))}))])}},{key:"renderOffset",value:function(a){var b=this.refs.slider,c=b.offsetWidth*this.stepRatio*a,d=b.offsetLeft+c,e=void 0;e=d>0?0:d<b.offsetWidth-b.scrollWidth?b.offsetWidth-b.scrollWidth:d;var f=Math.round(e);b.style.left=f+"px",this.renderNav(e)}},{key:"renderNav",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=this.refs.slider,c=this.refs.navLeft,d=this.refs.navRight;this.rowWrap||0===a?c.style.visibility="hidden":c.style.visibility="visible",this.rowWrap||a<=b.offsetWidth-b.scrollWidth?d.style.visibility="hidden":d.style.visibility="visible"}},{key:"renderItem",value:function(){throw new Error("abstract method not implemented!")}}]),a}(),v=function(a){function b(){return q()(this,b),k()(this,(b.__proto__||i()(b)).apply(this,arguments))}return m()(b,a),s()(b,[{key:"renderItem",value:function(a){var b=this,d=a.title,f=a.tooltip,h=a.style,i=void 0===h?{}:h,j=a.accessibility,k=void 0===j?{web:{}}:j,l=a.click,m=this.itemCharLimit,n="string"==typeof d&&d.length>m;return c.i(t.d)("button",{attrs:o()({"class":"chips-item",role:"button"},k.web),domProps:o()({},"string"==typeof d&&{textContent:n?""+d.substr(0,m):d},"string"==typeof f&&{title:f}),style:o()({},"string"==typeof i.color&&{color:i.color},"string"==typeof i["background-color"]&&{backgroundColor:i["background-color"]},"string"==typeof i["border-color"]&&{borderColor:i["border-color"]},g()(i["border-radius"])&&{borderRadius:i["border-radius"]+"px"},i.bold&&{fontWeight:"bold"},i.italic&&{fontStyle:"italic"},-1!==["small","medium","large"].indexOf(i.size)&&{fontSize:{small:"10px",medium:"12px",large:"15px"}[i.size]},{"margin-top":this.rowWrap?"10px":0}),on:o()({},l&&{click:function(a){if(b.isReadOnly)return void a.preventDefault();l.actions.forEach(function(a){return b.events.dispatch("action:"+a.type,{action:a,metadata:l.metadata})});return void 0},focus:function(a){var d=a.target,e=b.refs.wrapper;if(e.scrollLeft=0,c.i(t.e)(d,e)){var f=c.i(t.f)(d,e,b.stepRatio);b.renderOffset(f)}}})},[].concat(e()(n&&[c.i(t.d)("span",{domProps:{innerHTML:"&hellip;"}})])))}}]),b}(u);b.a={StructuredContentButton:v}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(67),e=(c.n(d),c(66));b["default"]=e.a},function(a,b,c){a.exports={"default":c(85),__esModule:!0}},function(a,b,c){a.exports={"default":c(86),__esModule:!0}},function(a,b,c){a.exports={"default":c(87),__esModule:!0}},function(a,b,c){a.exports={"default":c(88),__esModule:!0}},function(a,b,c){a.exports={"default":c(89),__esModule:!0}},function(a,b,c){a.exports={"default":c(91),__esModule:!0}},function(a,b,c){a.exports={"default":c(92),__esModule:!0}},function(a,b,c){a.exports={"default":c(93),__esModule:!0}},function(a,b,c){a.exports={"default":c(95),__esModule:!0}},function(a,b,c){a.exports={"default":c(96),__esModule:!0}},function(a,b,c){a.exports={"default":c(97),__esModule:!0}},function(a,b,c){"use strict";b.__esModule=!0;var d=c(44),e=function(a){return a&&a.__esModule?a:{"default":a}}(d);b["default"]=e["default"]||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var e=c(74),f=d(e),g=c(73),h=d(g);b["default"]=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,i=h["default"](a);!(d=(g=i.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&i["return"]&&i["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(f["default"](Object(b)))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(a,b,c){c(18),c(126),a.exports=c(0).Array.from},function(a,b,c){c(25),c(18),a.exports=c(124)},function(a,b,c){c(25),c(18),a.exports=c(125)},function(a,b,c){c(65),c(18),c(25),c(128),c(138),c(137),c(136),a.exports=c(0).Map},function(a,b,c){c(129),a.exports=c(0).Number.isInteger},function(a,b,c){c(130),a.exports=c(0).Object.assign},function(a,b,c){c(131);var d=c(0).Object;a.exports=function(a,b){return d.create(a,b)}},function(a,b,c){c(132);var d=c(0).Object;a.exports=function(a,b,c){return d.defineProperty(a,b,c)}},function(a,b,c){c(139),a.exports=c(0).Object.entries},function(a,b,c){c(133),a.exports=c(0).Object.getPrototypeOf},function(a,b,c){c(134),a.exports=c(0).Object.setPrototypeOf},function(a,b,c){c(135),c(65),c(140),c(141),a.exports=c(0).Symbol},function(a,b,c){c(18),c(25),a.exports=c(41).f("iterator")},function(a,b){a.exports=function(){}},function(a,b,c){var d=c(19);a.exports=function(a,b){var c=[];return d(a,!1,c.push,c,b),c}},function(a,b,c){var d=c(12),e=c(23),f=c(123);a.exports=function(a){return function(b,c,g){var h,i=d(b),j=e(i.length),k=f(g,j);if(a&&c!=c){for(;j>k;)if((h=i[k++])!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===c)return a||k||0;return!a&&-1}}},function(a,b,c){var d=c(9),e=c(32),f=c(14),g=c(23),h=c(103);a.exports=function(a,b){var c=1==a,i=2==a,j=3==a,k=4==a,l=6==a,m=5==a||l,n=b||h;return function(b,h,o){for(var p,q,r=f(b),s=e(r),t=d(h,o,3),u=g(s.length),v=0,w=c?n(b,u):i?n(b,0):void 0;u>v;v++)if((m||v in s)&&(p=s[v],q=t(p,v,r),a))if(c)w[v]=q;else if(q)switch(a){case 3:return!0;case 5:return p;case 6:return v;case 2:w.push(p)}else if(k)return!1;return l?-1:j||k?k:w}}},function(a,b,c){var d=c(6),e=c(55),f=c(2)("species");a.exports=function(a){var b;return e(a)&&(b=a.constructor,"function"!=typeof b||b!==Array&&!e(b.prototype)||(b=void 0),d(b)&&null===(b=b[f])&&(b=void 0)),void 0===b?Array:b}},function(a,b,c){var d=c(102);a.exports=function(a,b){return new(d(a))(b)}},function(a,b,c){"use strict";var d=c(4).f,e=c(21),f=c(62),g=c(9),h=c(51),i=c(19),j=c(33),k=c(57),l=c(121),m=c(3),n=c(34).fastKey,o=c(64),p=m?"_s":"size",q=function(a,b){var c,d=n(b);if("F"!==d)return a._i[d];for(c=a._f;c;c=c.n)if(c.k==b)return c};a.exports={getConstructor:function(a,b,c,j){var k=a(function(a,d){h(a,k,b,"_i"),a._t=b,a._i=e(null),a._f=void 0,a._l=void 0,a[p]=0,void 0!=d&&i(d,c,a[j],a)});return f(k.prototype,{clear:function(){for(var a=o(this,b),c=a._i,d=a._f;d;d=d.n)d.r=!0,d.p&&(d.p=d.p.n=void 0),delete c[d.i];a._f=a._l=void 0,a[p]=0},"delete":function(a){var c=o(this,b),d=q(c,a);if(d){var e=d.n,f=d.p;delete c._i[d.i],d.r=!0,f&&(f.n=e),e&&(e.p=f),c._f==d&&(c._f=e),c._l==d&&(c._l=f),c[p]--}return!!d},forEach:function(a){o(this,b);for(var c,d=g(a,arguments.length>1?arguments[1]:void 0,3);c=c?c.n:this._f;)for(d(c.v,c.k,this);c&&c.r;)c=c.p},has:function(a){return!!q(o(this,b),a)}}),m&&d(k.prototype,"size",{get:function(){return o(this,b)[p]}}),k},def:function(a,b,c){var d,e,f=q(a,b);return f?f.v=c:(a._l=f={i:e=n(b,!0),k:b,v:c,p:d=a._l,n:void 0,r:!1},a._f||(a._f=f),d&&(d.n=f),
a[p]++,"F"!==e&&(a._i[e]=f)),a},getEntry:q,setStrong:function(a,b,c){j(a,b,function(a,c){this._t=o(a,b),this._k=c,this._l=void 0},function(){for(var a=this,b=a._k,c=a._l;c&&c.r;)c=c.p;return a._t&&(a._l=c=c?c.n:a._t._f)?"keys"==b?k(0,c.k):"values"==b?k(0,c.v):k(0,[c.k,c.v]):(a._t=void 0,k(1))},c?"entries":"values",!c,!0),l(b)}}},function(a,b,c){var d=c(28),e=c(99);a.exports=function(a){return function(){if(d(this)!=a)throw TypeError(a+"#toJSON isn't generic");return e(this)}}},function(a,b,c){"use strict";var d=c(5),e=c(1),f=c(34),g=c(10),h=c(8),i=c(62),j=c(19),k=c(51),l=c(6),m=c(22),n=c(4).f,o=c(101)(0),p=c(3);a.exports=function(a,b,c,q,r,s){var t=d[a],u=t,v=r?"set":"add",w=u&&u.prototype,x={};return p&&"function"==typeof u&&(s||w.forEach&&!g(function(){(new u).entries().next()}))?(u=b(function(b,c){k(b,u,a,"_c"),b._c=new t,void 0!=c&&j(c,r,b[v],b)}),o("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(a){var b="add"==a||"set"==a;a in w&&(!s||"clear"!=a)&&h(u.prototype,a,function(c,d){if(k(this,u,a),!b&&s&&!l(c))return"get"==a&&void 0;var e=this._c[a](0===c?0:c,d);return b?this:e})}),s||n(u.prototype,"size",{get:function(){return this._c.size}})):(u=q.getConstructor(b,a,r,v),i(u.prototype,c),f.NEED=!0),m(u,a),x[a]=u,e(e.G+e.W+e.F,x),s||q.setStrong(u,a,r),u}},function(a,b,c){"use strict";var d=c(4),e=c(17);a.exports=function(a,b,c){b in a?d.f(a,b,e(0,c)):a[b]=c}},function(a,b,c){var d=c(15),e=c(35),f=c(16);a.exports=function(a){var b=d(a),c=e.f;if(c)for(var g,h=c(a),i=f.f,j=0;h.length>j;)i.call(a,g=h[j++])&&b.push(g);return b}},function(a,b,c){var d=c(5).document;a.exports=d&&d.documentElement},function(a,b,c){var d=c(6),e=Math.floor;a.exports=function(a){return!d(a)&&isFinite(a)&&e(a)===a}},function(a,b,c){"use strict";var d=c(21),e=c(17),f=c(22),g={};c(8)(g,c(2)("iterator"),function(){return this}),a.exports=function(a,b,c){a.prototype=d(g,{next:e(1,c)}),f(a,b+" Iterator")}},function(a,b,c){var d=c(2)("iterator"),e=!1;try{var f=[7][d]();f["return"]=function(){e=!0},Array.from(f,function(){throw 2})}catch(a){}a.exports=function(a,b){if(!b&&!e)return!1;var c=!1;try{var f=[7],g=f[d]();g.next=function(){return{done:c=!0}},f[d]=function(){return g},a(f)}catch(a){}return c}},function(a,b,c){"use strict";var d=c(3),e=c(15),f=c(35),g=c(16),h=c(14),i=c(32),j=Object.assign;a.exports=!j||c(10)(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=j({},a)[c]||Object.keys(j({},b)).join("")!=d})?function(a,b){for(var c=h(a),j=arguments.length,k=1,l=f.f,m=g.f;j>k;)for(var n,o=i(arguments[k++]),p=l?e(o).concat(l(o)):e(o),q=p.length,r=0;q>r;)n=p[r++],d&&!m.call(o,n)||(c[n]=o[n]);return c}:j},function(a,b,c){var d=c(4),e=c(7),f=c(15);a.exports=c(3)?Object.defineProperties:function(a,b){e(a);for(var c,g=f(b),h=g.length,i=0;h>i;)d.f(a,c=g[i++],b[c]);return a}},function(a,b,c){var d=c(12),e=c(59).f,f={}.toString,g="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(a){try{return e(a)}catch(a){return g.slice()}};a.exports.f=function(a){return g&&"[object Window]"==f.call(a)?h(a):e(d(a))}},function(a,b,c){var d=c(1),e=c(0),f=c(10);a.exports=function(a,b){var c=(e.Object||{})[a]||Object[a],g={};g[a]=b(c),d(d.S+d.F*f(function(){c(1)}),"Object",g)}},function(a,b,c){var d=c(3),e=c(15),f=c(12),g=c(16).f;a.exports=function(a){return function(b){for(var c,h=f(b),i=e(h),j=i.length,k=0,l=[];j>k;)c=i[k++],d&&!g.call(h,c)||l.push(a?[c,h[c]]:h[c]);return l}}},function(a,b,c){"use strict";var d=c(1),e=c(50),f=c(9),g=c(19);a.exports=function(a){d(d.S,a,{from:function(a){var b,c,d,h,i=arguments[1];return e(this),b=void 0!==i,b&&e(i),void 0==a?new this:(c=[],b?(d=0,h=f(i,arguments[2],2),g(a,!1,function(a){c.push(h(a,d++))})):g(a,!1,c.push,c),new this(c))}})}},function(a,b,c){"use strict";var d=c(1);a.exports=function(a){d(d.S,a,{of:function(){for(var a=arguments.length,b=new Array(a);a--;)b[a]=arguments[a];return new this(b)}})}},function(a,b,c){var d=c(6),e=c(7),f=function(a,b){if(e(a),!d(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};a.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(a,b,d){try{d=c(9)(Function.call,c(58).f(Object.prototype,"__proto__").set,2),d(a,[]),b=!(a instanceof Array)}catch(a){b=!0}return function(a,c){return f(a,c),b?a.__proto__=c:d(a,c),a}}({},!1):void 0),check:f}},function(a,b,c){"use strict";var d=c(5),e=c(0),f=c(4),g=c(3),h=c(2)("species");a.exports=function(a){var b="function"==typeof e[a]?e[a]:d[a];g&&b&&!b[h]&&f.f(b,h,{configurable:!0,get:function(){return this}})}},function(a,b,c){var d=c(38),e=c(30);a.exports=function(a){return function(b,c){var f,g,h=String(e(b)),i=d(c),j=h.length;return 0>i||i>=j?a?"":void 0:(f=h.charCodeAt(i),55296>f||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):g-56320+(f-55296<<10)+65536)}}},function(a,b,c){var d=c(38),e=Math.max,f=Math.min;a.exports=function(a,b){return a=d(a),0>a?e(a+b,0):f(a,b)}},function(a,b,c){var d=c(7),e=c(42);a.exports=c(0).getIterator=function(a){var b=e(a);if("function"!=typeof b)throw TypeError(a+" is not iterable!");return d(b.call(a))}},function(a,b,c){var d=c(28),e=c(2)("iterator"),f=c(13);a.exports=c(0).isIterable=function(a){var b=Object(a);return void 0!==b[e]||"@@iterator"in b||f.hasOwnProperty(d(b))}},function(a,b,c){"use strict";var d=c(9),e=c(1),f=c(14),g=c(56),h=c(54),i=c(23),j=c(107),k=c(42);e(e.S+e.F*!c(112)(function(a){Array.from(a)}),"Array",{from:function(a){var b,c,e,l,m=f(a),n="function"==typeof this?this:Array,o=arguments.length,p=o>1?arguments[1]:void 0,q=void 0!==p,r=0,s=k(m);if(q&&(p=d(p,o>2?arguments[2]:void 0,2)),void 0==s||n==Array&&h(s))for(b=i(m.length),c=new n(b);b>r;r++)j(c,r,q?p(m[r],r):m[r]);else for(l=s.call(m),c=new n;!(e=l.next()).done;r++)j(c,r,q?g(l,p,[e.value,r],!0):e.value);return c.length=r,c}})},function(a,b,c){"use strict";var d=c(98),e=c(57),f=c(13),g=c(12);a.exports=c(33)(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]])},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},function(a,b,c){"use strict";var d=c(104),e=c(64);a.exports=c(106)("Map",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{get:function(a){var b=d.getEntry(e(this,"Map"),a);return b&&b.v},set:function(a,b){return d.def(e(this,"Map"),0===a?0:a,b)}},d,!0)},function(a,b,c){var d=c(1);d(d.S,"Number",{isInteger:c(110)})},function(a,b,c){var d=c(1);d(d.S+d.F,"Object",{assign:c(113)})},function(a,b,c){var d=c(1);d(d.S,"Object",{create:c(21)})},function(a,b,c){var d=c(1);d(d.S+d.F*!c(3),"Object",{defineProperty:c(4).f})},function(a,b,c){var d=c(14),e=c(60);c(116)("getPrototypeOf",function(){return function(a){return e(d(a))}})},function(a,b,c){var d=c(1);d(d.S,"Object",{setPrototypeOf:c(120).set})},function(a,b,c){"use strict";var d=c(5),e=c(11),f=c(3),g=c(1),h=c(63),i=c(34).KEY,j=c(10),k=c(37),l=c(22),m=c(24),n=c(2),o=c(41),p=c(40),q=c(108),r=c(55),s=c(7),t=c(6),u=c(14),v=c(12),w=c(39),x=c(17),y=c(21),z=c(115),A=c(58),B=c(35),C=c(4),D=c(15),E=A.f,F=C.f,G=z.f,H=d.Symbol,I=d.JSON,J=I&&I.stringify,K=n("_hidden"),L=n("toPrimitive"),M={}.propertyIsEnumerable,N=k("symbol-registry"),O=k("symbols"),P=k("op-symbols"),Q=Object.prototype,R="function"==typeof H&&!!B.f,S=d.QObject,T=!S||!S.prototype||!S.prototype.findChild,U=f&&j(function(){return 7!=y(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=E(Q,b);d&&delete Q[b],F(a,b,c),d&&a!==Q&&F(Q,b,d)}:F,V=function(a){var b=O[a]=y(H.prototype);return b._k=a,b},W=R&&"symbol"==typeof H.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof H},X=function(a,b,c){return a===Q&&X(P,b,c),s(a),b=w(b,!0),s(c),e(O,b)?(c.enumerable?(e(a,K)&&a[K][b]&&(a[K][b]=!1),c=y(c,{enumerable:x(0,!1)})):(e(a,K)||F(a,K,x(1,{})),a[K][b]=!0),U(a,b,c)):F(a,b,c)},Y=function(a,b){s(a);for(var c,d=q(b=v(b)),e=0,f=d.length;f>e;)X(a,c=d[e++],b[c]);return a},Z=function(a,b){return void 0===b?y(a):Y(y(a),b)},$=function(a){var b=M.call(this,a=w(a,!0));return!(this===Q&&e(O,a)&&!e(P,a))&&(!(b||!e(this,a)||!e(O,a)||e(this,K)&&this[K][a])||b)},_=function(a,b){if(a=v(a),b=w(b,!0),a!==Q||!e(O,b)||e(P,b)){var c=E(a,b);return!c||!e(O,b)||e(a,K)&&a[K][b]||(c.enumerable=!0),c}},aa=function(a){for(var b,c=G(v(a)),d=[],f=0;c.length>f;)e(O,b=c[f++])||b==K||b==i||d.push(b);return d},ba=function(a){for(var b,c=a===Q,d=G(c?P:v(a)),f=[],g=0;d.length>g;)!e(O,b=d[g++])||c&&!e(Q,b)||f.push(O[b]);return f};R||(H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor!");var a=m(arguments.length>0?arguments[0]:void 0),b=function(c){this===Q&&b.call(P,c),e(this,K)&&e(this[K],a)&&(this[K][a]=!1),U(this,a,x(1,c))};return f&&T&&U(Q,a,{configurable:!0,set:b}),V(a)},h(H.prototype,"toString",function(){return this._k}),A.f=_,C.f=X,c(59).f=z.f=aa,c(16).f=$,B.f=ba,f&&!c(20)&&h(Q,"propertyIsEnumerable",$,!0),o.f=function(a){return V(n(a))}),g(g.G+g.W+g.F*!R,{Symbol:H});for(var ca="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),da=0;ca.length>da;)n(ca[da++]);for(var ea=D(n.store),fa=0;ea.length>fa;)p(ea[fa++]);g(g.S+g.F*!R,"Symbol",{"for":function(a){return e(N,a+="")?N[a]:N[a]=H(a)},keyFor:function(a){if(!W(a))throw TypeError(a+" is not a symbol!");for(var b in N)if(N[b]===a)return b},useSetter:function(){T=!0},useSimple:function(){T=!1}}),g(g.S+g.F*!R,"Object",{create:Z,defineProperty:X,defineProperties:Y,getOwnPropertyDescriptor:_,getOwnPropertyNames:aa,getOwnPropertySymbols:ba});var ga=j(function(){B.f(1)});g(g.S+g.F*ga,"Object",{getOwnPropertySymbols:function(a){return B.f(u(a))}}),I&&g(g.S+g.F*(!R||j(function(){var a=H();return"[null]"!=J([a])||"{}"!=J({a:a})||"{}"!=J(Object(a))})),"JSON",{stringify:function(a){for(var b,c,d=[a],e=1;arguments.length>e;)d.push(arguments[e++]);return c=b=d[1],!t(b)&&void 0===a||W(a)?void 0:(r(b)||(b=function(a,b){return"function"==typeof c&&(b=c.call(this,a,b)),W(b)?void 0:b}),d[1]=b,J.apply(I,d))}}),H.prototype[L]||c(8)(H.prototype,L,H.prototype.valueOf),l(H,"Symbol"),l(Math,"Math",!0),l(d.JSON,"JSON",!0)},function(a,b,c){c(118)("Map")},function(a,b,c){c(119)("Map")},function(a,b,c){var d=c(1);d(d.P+d.R,"Map",{toJSON:c(105)("Map")})},function(a,b,c){var d=c(1),e=c(117)(!0);d(d.S,"Object",{entries:function(a){return e(a)}})},function(a,b,c){c(40)("asyncIterator")},function(a,b,c){c(40)("observable")}])}).call(window.lpTag);window.lpTag=window.lpTag||{};(function(){this.lpTelInput=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=0)}([function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=b.lpTelInput=b.v=void 0,c(1),c(2);var d,e=(d=c(3))&&d.__esModule?d:{"default":d};b.v="2.0.3";var f=function(a,b){return new e["default"](a,b)};b.lpTelInput=f;var g=f;b["default"]=g},function(a,b,c){},function(a,b){!function(){"use strict";!function(){function a(a,b){var c=Array.prototype.slice.call(b);return c.push(ha),a.apply(this,c)}function b(a,b){a=a.split("-"),b=b.split("-");for(var c=a[0].split("."),d=b[0].split("."),e=0;3>e;e++){var f=Number(c[e]),g=Number(d[e]);if(f>g)return 1;if(g>f)return-1;if(!isNaN(f)&&isNaN(g))return 1;if(isNaN(f)&&!isNaN(g))return-1}return a[1]&&b[1]?a[1]>b[1]?1:a[1]<b[1]?-1:0:!a[1]&&b[1]?1:a[1]&&!b[1]?-1:0}function c(a){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a,b){switch(b){case"FIXED_LINE":return a[0];case"MOBILE":return a[1];case"TOLL_FREE":return a[2];case"PREMIUM_RATE":return a[3];case"PERSONAL_NUMBER":return a[4];case"VOICEMAIL":return a[5];case"UAN":return a[6];case"PAGER":return a[7];case"VOIP":return a[8];case"SHARED_COST":return a[9]}}function h(a,b){if((b=new na(b)).hasCountry(a))return b.country(a).countryCallingCode();throw new Error("Unknown country: ".concat(a))}function i(a){var c=a.version;"number"==typeof c?(this.v1=1===c,this.v2=2===c,this.v3=3===c,this.v4=4===c):c?-1===b(c,"1.2.0")?this.v2=!0:-1===b(c,"1.7.35")?this.v3=!0:this.v4=!0:this.v1=!0}function j(a){return";ext="+ua("20")+"|[  \\t,]*(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|доб|anexo)[:\\.．]?[  \\t,-]*"+ua("20")+"#?|[  \\t,]*(?:[xｘ#＃~～]|int|ｉｎｔ)[:\\.．]?[  \\t,-]*"+ua("9")+"#?|[- ]+"+ua("6")+"#|[  \\t]*(?:,{2}|;)[:\\.．]?[  \\t,-]*"+ua("15")+"#?|[  \\t]*(?:,)+[:\\.．]?[  \\t,-]*"+ua("9")+"#?"}function k(a){return a.length>=2&&ya.test(a)}function l(a){return Aa[a]}function m(a){var b="",c=a.split(""),d=Array.isArray(c),e=0;for(c=d?c:c[Symbol.iterator]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{if((e=c.next()).done)break;f=e.value}var g=l(f);g&&(b+=g)}return b}function n(a){var b="",c=a.split(""),d=Array.isArray(c),e=0;for(c=d?c:c[Symbol.iterator]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{if((e=c.next()).done)break;f=e.value}b+=o(f,b)||""}return b}function o(a,b){if("+"===a){if(b)return;return"+"}return l(a)}function p(a,b){return function c(a,b,d){var e=d.type(b),f=e&&e.possibleLengths()||d.possibleLengths();if(!f)return"IS_POSSIBLE";if("FIXED_LINE_OR_MOBILE"===b){if(!d.type("FIXED_LINE"))return c(a,"MOBILE",d);var g=d.type("MOBILE");g&&(f=function(a,b){var c=a.slice(),d=b,e=Array.isArray(d),f=0;for(d=e?d:d[Symbol.iterator]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{if((f=d.next()).done)break;g=f.value}var h=g;a.indexOf(h)<0&&c.push(h)}return c.sort(function(a,b){return a-b})}(f,g.possibleLengths()))}else if(b&&!e)return"INVALID_LENGTH";var h=a.length,i=f[0];return i===h?"IS_POSSIBLE":i>h?"TOO_SHORT":f[f.length-1]<h?"TOO_LONG":f.indexOf(h,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}(a,void 0,b)}function q(a,b){return"IS_POSSIBLE"===p(a,b)}function r(a,b){return a=a||"",new RegExp("^(?:"+b+")$").test(a)}function s(a,b,c){if(b=b||{},a.country){(c=new na(c)).selectNumberingPlan(a.country,a.countryCallingCode);var d=b.v2?a.nationalNumber:a.phone;if(r(d,c.nationalNumberPattern())){if(t(d,"FIXED_LINE",c))return c.type("MOBILE")&&""===c.type("MOBILE").pattern()?"FIXED_LINE_OR_MOBILE":c.type("MOBILE")?t(d,"MOBILE",c)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE":"FIXED_LINE_OR_MOBILE";for(var e=0,f=Ba;e<f.length;e++){var g=f[e];if(t(d,g,c))return g}}}}function t(a,b,c){return!(!(b=c.type(b))||!b.pattern())&&!(b.possibleLengths()&&b.possibleLengths().indexOf(a.length)<0)&&r(a,b.pattern())}function u(a){return a.replace(new RegExp("[".concat(ja,"]+"),"g")," ").trim()}function v(a,b,c){var d=c.useInternationalFormat,e=c.withNationalPrefix,f=(c.carrierCode,c.metadata,a.replace(new RegExp(b.pattern()),d?b.internationalFormat():e&&b.nationalPrefixFormattingRule()?b.format().replace(Ca,b.nationalPrefixFormattingRule()):b.format()));return d?u(f):f}function w(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function x(a,b,c,d,e){var f=function(a,b){var c=a,d=Array.isArray(c),e=0;for(c=d?c:c[Symbol.iterator]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{if((e=c.next()).done)break;f=e.value}var g=f;if(g.leadingDigitsPatterns().length>0){var h=g.leadingDigitsPatterns()[g.leadingDigitsPatterns().length-1];if(0!==b.search(h))continue}if(r(b,g.pattern()))return g}}(d.formats(),a);return f?v(a,f,{useInternationalFormat:"INTERNATIONAL"===c,withNationalPrefix:!f.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!e||!1!==e.nationalPrefix,carrierCode:b,metadata:d}):a}function y(a,b,c,d){return b?d(a,b,c):a}function z(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function A(a,b,c,d){if(b){var e=new na(d);e.selectNumberingPlan(b,c);var f=new RegExp(e.IDDPrefix());if(0===a.search(f)){var g=(a=a.slice(a.match(f)[0].length)).match(Ha);if(!(g&&null!=g[1]&&g[1].length>0&&"0"===g[1]))return a}}}function B(a,b){if(a&&b.numberingPlan.nationalPrefixForParsing()){var c=new RegExp("^(?:"+b.numberingPlan.nationalPrefixForParsing()+")"),d=c.exec(a);if(d){var e,f,g,h=d.length-1,i=h>0&&d[h];if(b.nationalPrefixTransformRule()&&i)e=a.replace(c,b.nationalPrefixTransformRule()),h>1&&(f=d[1]);else{var j=d[0];e=a.slice(j.length),i&&(f=d[1])}if(i){var k=a.indexOf(d[1]);a.slice(0,k)===b.numberingPlan.nationalPrefix()&&(g=b.numberingPlan.nationalPrefix())}else g=d[0];return{nationalNumber:e,nationalPrefix:g,carrierCode:f}}}return{nationalNumber:a}}function C(a,b){var c=B(a,b),d=c.nationalNumber,e=c.carrierCode;if(!function(a,b,c){return!(r(a,c.nationalNumberPattern())&&!r(b,c.nationalNumberPattern()))}(a,d,b))return{nationalNumber:a};if(a.length!==d.length+(e?e.length:0)&&b.possibleLengths())switch(p(d,b)){case"TOO_SHORT":case"INVALID_LENGTH":return{nationalNumber:a}}return{nationalNumber:d,carrierCode:e}}function D(a,b,c,d){var e=b?h(b,d):c;if(0===a.indexOf(e)){(d=new na(d)).selectNumberingPlan(b,c);var f=a.slice(e.length),g=C(f,d).nationalNumber,i=C(a,d).nationalNumber;if(!r(i,d.nationalNumberPattern())&&r(g,d.nationalNumberPattern())||"TOO_LONG"===p(i,d))return{countryCallingCode:e,number:f}}return{number:a}}function E(a,b,c,d){if(!a)return{};if("+"!==a[0]){var e=A(a,b,c,d);if(!e||e===a){if(b||c){var f=D(a,b,c,d),g=f.countryCallingCode,h=f.number;if(g)return{countryCallingCode:g,number:h}}return{number:a}}a="+"+e}if("0"===a[1])return{};d=new na(d);for(var i=2;3>=i-1&&i<=a.length;){var j=a.slice(1,i);if(d.hasCallingCode(j))return d.selectNumberingPlan(j),{countryCallingCode:j,number:a.slice(i)};i++}return{}}function F(a,b,c){var d=c.getCountryCodesForCallingCode(a);return d?1===d.length?d[0]:function(a,b,c){c=new na(c);var d=a,e=Array.isArray(d),f=0;for(d=e?d:d[Symbol.iterator]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{if((f=d.next()).done)break;g=f.value}var h=g;if(c.country(h),c.leadingDigits()){if(b&&0===b.search(c.leadingDigits()))return h}else if(s({phone:b,country:h},void 0,c.metadata))return h}}(d,b,c.metadata):void 0}function G(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function H(a,b,c){return function(a,b,c){if(b=b||{},c=new na(c),b.defaultCountry&&!c.hasCountry(b.defaultCountry)){if(b.v2)throw new ka("INVALID_COUNTRY");throw new Error("Unknown country: ".concat(b.defaultCountry))}var d=function(a,b,c){if(a&&0===a.indexOf("tel:"))return function(a){var b,c,d,e=(a=a.replace(/^tel:/,"tel=")).split(";"),f=Array.isArray(e),g=0;for(e=f?e:e[Symbol.iterator]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{if((g=e.next()).done)break;h=g.value}var i=function(a){return Array.isArray(a)?a:void 0}(d=h.split("="))||function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),2!==c.length);d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}(d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}(),j=i[0],l=i[1];switch(j){case"tel":b=l;break;case"ext":c=l;break;case"phone-context":"+"===l[0]&&(b=l+b)}}if(!k(b))return{};var m={number:b};return c&&(m.ext=c),m}(a);var d=function(a,b,c){if(a)if(a.length>250){if(c)throw new ka("TOO_LONG")}else{if(!1===b)return a;var d=a.search(Ia);if(!(0>d))return a.slice(d).replace(Ja,"")}}(a,c,b);if(!d)return{};if(!k(d))return function(a){return wa.test(a)}(d)?{error:"TOO_SHORT"}:{};var e=function(a){var b=a.search(za);if(0>b)return{};for(var c=a.slice(0,b),d=a.match(za),e=1;e<d.length;){if(d[e])return{number:c,ext:d[e]};e++}}(d);return e.ext?e:{number:d}}(a,b.v2,b.extract),e=d.number,f=d.ext,g=d.error;if(!e){if(b.v2){if("TOO_SHORT"===g)throw new ka("TOO_SHORT");throw new ka("NOT_A_NUMBER")}return{}}var i=function(a,b,c,d){var e,f=E(n(a),b,c,d.metadata),g=f.countryCallingCode,i=f.number;if(g)d.selectNumberingPlan(g);else{if(!i||!b&&!c)return{};d.selectNumberingPlan(b,c),b&&(e=b),g=c||h(b,d.metadata)}if(!i)return{countryCallingCode:g};var j=C(n(i),d),k=j.nationalNumber,l=j.carrierCode,m=F(g,k,d);return m&&(e=m,"001"===m||d.country(e)),{country:e,countryCallingCode:g,nationalNumber:k,carrierCode:l}}(e,b.defaultCountry,b.defaultCallingCode,c),j=i.country,l=i.nationalNumber,m=i.countryCallingCode,o=i.carrierCode;if(!c.hasSelectedNumberingPlan()){if(b.v2)throw new ka("INVALID_COUNTRY");return{}}if(!l||l.length<2){if(b.v2)throw new ka("TOO_SHORT");return{}}if(l.length>17){if(b.v2)throw new ka("TOO_LONG");return{}}if(b.v2){var p=new Fa(m,l,c.metadata);return j&&(p.country=j),o&&(p.carrierCode=o),f&&(p.ext=f),p}var s=!!(b.extended?c.hasSelectedNumberingPlan():j)&&r(l,c.nationalNumberPattern());return b.extended?{country:j,countryCallingCode:m,carrierCode:o,valid:s,possible:!!s||!(!0!==b.extended||!c.possibleLengths()||!q(l,c)),phone:l,ext:f}:s?function(a,b,c){var d={country:a,phone:b};return c&&(d.ext=c),d}(j,l,f):{}}(a,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){G(a,b,c[b])})}return a}({},b,{v2:!0}),c)}function I(a){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function J(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function K(){var a=L(arguments),b=a.text,c=a.options,d=a.metadata;return H(b,c,d)}function L(a){var b,c,d,e,f=function(a){return Array.isArray(a)?a:void 0}(e=Array.prototype.slice.call(a))||function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),4!==c.length);d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}(),g=f[0],h=f[1],i=f[2],j=f[3];if("string"!=typeof g)throw new TypeError("A text for parsing must be a string.");if(b=g,h&&"string"!=typeof h){if(!Ka(h))throw new Error("Invalid second argument: ".concat(h));i?(c=h,d=i):d=h}else j?(c=i,d=j):(c=void 0,d=i),h&&(c=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){J(a,b,c[b])})}return a}({defaultCountry:h},c));return{text:b,options:c,metadata:d}}function M(){return a(K,arguments)}function N(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function O(a,b,c){b&&b.defaultCountry&&!function(a,b){return void 0!==b.countries[a]}(b.defaultCountry,c)&&(b=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){N(a,b,c[b])})}return a}({},b,{defaultCountry:void 0}));try{return H(a,b,c)}catch(a){if(!(a instanceof ka))throw a}}function P(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){Q(a,b,c[b])})}return a}function Q(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function R(){var a=L(arguments),b=a.text,c=a.options,d=a.metadata,e=O(b,c=P({},c,{extract:!1}),d);return e&&e.isPossible()||!1}function S(a,b,c){return b[a]?new Fa(a,b[a],c):void 0}function T(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){U(a,b,c[b])})}return a}function U(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function V(){var a=L(arguments),b=a.text,c=a.options,d=a.metadata;c=T({},c,{extract:!1});try{var e=H(b,c,d);(d=new na(d)).selectNumberingPlan(e.countryCallingCode);var f=p(e.nationalNumber,d);if("IS_POSSIBLE"!==f)return f}catch(a){if(a instanceof ka)return a.message;throw a}}function W(a,b){if(1>b)return"";for(var c="";b>1;)1&b&&(c+=a),b>>=1,a+=a;return c+a}function X(a,b){return")"===a[b]&&b++,function(a){for(var b=[],c=0;c<a.length;)"("===a[c]?b.push(c):")"===a[c]&&b.pop(),c++;var d=0,e="";b.push(a.length);for(var f=0,g=b;f<g.length;f++){var h=g[f];e+=a.slice(d,h),d=h+1}return e}(a.slice(0,b))}function Y(a,b,c){var d=c.metadata,e=c.shouldTryNationalPrefixFormattingRule,f=c.getSeparatorAfterNationalPrefix;return new RegExp("^(?:".concat(b.pattern(),")$")).test(a.nationalSignificantNumber)?function(a,b,c){var d=c.metadata,e=c.shouldTryNationalPrefixFormattingRule,f=c.getSeparatorAfterNationalPrefix;if(a.nationalSignificantNumber,a.international,a.nationalPrefix,a.carrierCode,e(b)){var g=Z(a,b,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:f,metadata:d});if(g)return g}return Z(a,b,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:f,metadata:d})}(a,b,{metadata:d,shouldTryNationalPrefixFormattingRule:e,getSeparatorAfterNationalPrefix:f}):void 0}function Z(a,b,c){var d=c.metadata,e=c.useNationalPrefixFormattingRule,f=c.getSeparatorAfterNationalPrefix,g=v(a.nationalSignificantNumber,b,{carrierCode:a.carrierCode,useInternationalFormat:a.international,withNationalPrefix:e,metadata:d});return e||(a.nationalPrefix?g=a.nationalPrefix+f(b)+g:a.complexPrefixBeforeNationalSignificantNumber&&(g=a.complexPrefixBeforeNationalSignificantNumber+" "+g)),function(a,b){return m(a)===b.getNationalDigits()}(g,a)?g:void 0}function $(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function aa(a,b,c){return b&&_(a.prototype,b),c&&_(a,c),a}function ba(a,b,c){if("string"==typeof b){if(c&&a.length>b.length)return{overflow:!0};var d=a.join("");return 0===b.indexOf(d)?a.length===b.length?{match:!0,matchedChars:a}:{partialMatch:!0}:0===d.indexOf(b)?{match:!0,matchedChars:a.slice(0,b.length)}:void 0}if(Array.isArray(b)){for(var e=a.slice(),f=0;f<b.length;){var g=ba(e,b[f],c&&f===b.length-1);if(!g||g.overflow)return g;if(!g.match){if(g.partialMatch)return{partialMatch:!0};throw new Error("Unsupported match result:\n".concat(JSON.stringify(g,null,2)))}if(0===(e=e.slice(g.matchedChars.length)).length)return f===b.length-1?{match:!0,matchedChars:a}:{partialMatch:!0};f++}return c?{overflow:!0}:{match:!0,matchedChars:a.slice(0,a.length-e.length)}}switch(b.op){case"|":var h,i=b.args,j=Array.isArray(i),k=0;for(i=j?i:i[Symbol.iterator]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{if((k=i.next()).done)break;l=k.value}var m=ba(a,l,c);if(m){if(m.overflow)return m;if(m.match)return{match:!0,matchedChars:m.matchedChars};m.partialMatch&&(h=!0)}}return h?{partialMatch:!0}:void 0;case"[]":var n=b.args,o=Array.isArray(n),p=0;for(n=o?n:n[Symbol.iterator]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{if((p=n.next()).done)break;q=p.value}var r=q;if(a[0]===r)return 1===a.length?{match:!0,matchedChars:a}:c?{overflow:!0}:{match:!0,matchedChars:[r]}}return;default:throw new Error("Unsupported instruction tree: ".concat(b))}}function ca(a){for(var b=[],c=0;c<a.length;){if("-"===a[c]){if(0===c||c===a.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(a));for(var d=a[c-1].charCodeAt(0)+1,e=a[c+1].charCodeAt(0)-1,f=d;e>=f;)b.push(String.fromCharCode(f)),f++}else b.push(a[c]);c++}return b}function da(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function ea(a,b){return function(a){return Array.isArray(a)?a:void 0}(a)||function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function fa(a){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function ga(a){return $a.call(this,a,ia)}var ha={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],
423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([457]\\d{6})$","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2457]\\d{6})$","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"1|([267]\\d{6})$","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"0|(183[12])",0,0,0,[["(?:(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8]))\\d{3}|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4]))|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:83[0-38]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:28|4[14]|5)|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|22"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","[025-7]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]]],BG:["359","00","[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[047]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","[25689]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[25689]"]]]],BL:["590","00","(?:590|(?:69|80)\\d|976)\\d{6}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|5[12]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["976[01]\\d{5}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-8]\\d{6})$","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","(?:[2-467]\\d\\d|8001)\\d{5}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[23]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-24679]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([3-8]\\d{6})$","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-79]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","(?:[2-8]\\d|90)\\d{8}",[10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|6[578])|4(?:03|1[68]|3[178]|50|74)|5(?:06|1[49]|48|79|8[17])|6(?:04|13|39|47|72)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:00|2[12]|33|44|66|77|88)|622)[2-9]\\d{6}"],0,0,0,["600[2-9]\\d{6}"]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"0|([59]\\d{7})$","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:83[0-38]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","[189]\\d{8}|[1-68]\\d{6}",[7,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-3]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","1[127]\\d{8,9}|2\\d{9}(?:\\d{2})?|[12]\\d{6,7}|86\\d{6}|(?:1[03-689]\\d|6)\\d{7,9}|(?:[3-579]\\d|8[0-57-9])\\d{6,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]","(?:10|2[0-57-9])(?:10|9[56])","(?:10|2[0-57-9])(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"0|(1(?:[12]\\d|79)\\d\\d)",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:(?:1\\d|[36])\\d{3}|9101)\\d{6}|[124-8]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1 $2",["[146][2-9]|[2578]"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["6"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["[39]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","[27]\\d{6,7}|[34]\\d{5,7}|(?:5|8\\d\\d)\\d{7}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["5"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"0|([59]\\d{7})$","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:83[0-38]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:1\\d|2[02-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[05]\\d|[23]1|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[0568]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[189]"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-59]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-59]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d)(\\d{4,9})","$1 $2",["[2568][1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["[12]00|[368]|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[1245]|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[47]\\d{6}|76\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0235])|4(?:[0-5]\\d\\d|69[7-9]|70[0359])|(?:5[0-26-9]|[78][0-49])\\d\\d|6(?:[0-4]\\d\\d|50[0-24-69]))|2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d\\d|1(?:[0-7]\\d\\d|8(?:[02]\\d|1[0-278])))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94|80\\d|976)\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"0|([25-9]\\d{5})$","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d\\d|606)\\d{5}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590|(?:69|80)\\d|976)\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|1[0-24]|2[0-68]|3[1289]|4[0-24-9]|5[3-579]|6[0189]|7[08]|8[0-689]|9\\d)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["976[01]\\d{5}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"1|([3-9]\\d{6})$","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","9008\\d{3}|(?:[2-467]\\d\\d|862)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-46-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",[6,7,8,9],[["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-5]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-489]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-489]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],
ID:["62","00[89]","(?:(?:00[1-9]|8\\d)\\d{4}|[1-36])\\d{6}|00\\d{10}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"0|([25-8]\\d{5})$","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|55\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[38]"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[1-9]\\d{8}|3[2-9]\\d{7}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],0,0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"0|([0-24-8]\\d{5})$","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97[7-9]))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9]|636)|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9]|636[457-9])|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[27-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9])|5(?:2|3[045]|4[0-369]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|49|51|6(?:[0-24]|36|5[0-3589]|72|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:49|55|83)[29]|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|7[015-9]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17|3[015-9]))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9(?:[019]|4[1-3]|6(?:[0-47-9]|5[01346-9])))|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|829(?:2|66)|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[257-9]"],"0$1"]],"0"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|(?:[235-8]\\d|99)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30[013-9]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"1|([2-8]\\d{6})$","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"0|(1001)"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:2|33|5\\d|77|88)\\d{7}|[4-6]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[4-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(8-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(8-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(8-$1)",1]],"8",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{5})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29|38)[89]","5(?:29|38)[89]0"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9]|9)|892","5(?:2(?:[2-49]|8[235-9])|3[5-9]|9)|892"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:29(?:[189][05]|2[29]|3[01])|38[89][05])\\d{4}|5(?:2(?:[0-25-7]\\d|3[1-578]|4[02-46-8]|8[0235-7]|90)|3(?:[0-47]\\d|5[02-9]|6[02-8]|80|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[017]\\d|6[0-367]))\\d{6}"],["80\\d{7}"],["89\\d{7}"],0,0,0,0,["592(?:4[0-2]|93)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590|(?:69|80)\\d|976)\\d{6}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|30|5[0-268]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["976[01]\\d{5}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"0|([24-9]\\d{6})$","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[57-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[57-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","670$1",0,"670"],MQ:["596","00","(?:69|80)\\d{7}|(?:59|97)6\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"1|([34]\\d{6})$","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:5|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["5"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[3467]|9[13-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[19]\\d|[23]1|77|88)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","1(?:(?:44|99)[1-9]|65[0-689])\\d{7}|(?:1(?:[017]\\d|[235][1-9]|4[0-35-9]|6[0-46-9]|8[1-79]|9[1-8])|[2-9]\\d)\\d{8}",[10,11],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"],0,1],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 $3 $4",["1(?:33|5[56]|81)"],0,1],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 $3 $4",["1"],0,1]],"01",0,"0(?:[12]|4[45])|1",0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9])|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1[36-8]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","[2-57-9]\\d{5}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[2-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[04]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:[124-7]|9\\d{3})\\d{6}|[1-9]\\d{7}|[78]\\d{9,13}",[7,8,10,11,12,13,14],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-7]|8[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|[89]\\d{6,9}|1\\d{4,5}",[5,6,7,8,9,10],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-57-9]"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[489]|59"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-7]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-579]|6[2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:444|(?:55|8\\d)\\d|666)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[4-68]"]]]],NU:["683","00","(?:[47]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[29]\\d{7,9}|50\\d{5}(?:\\d{2,3})?|6[0-35-9]\\d{6}|7\\d{7,8}|8\\d{4,9}|(?:11\\d|[34])\\d{7}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-579]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|[89]0","50(?:[0367]|88)|[89]0"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[59]|80"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7|86"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,0," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","6\\d{5}(?:\\d{2})?|8\\d{9}|[1-9]\\d{6}(?:\\d{2})?",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","(?:[45]|80\\d\\d)\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-6])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","[2-7]\\d{7}|800\\d{4}(?:\\d{2})?|2\\d{6}",[7,8,9],[["(\\d{3})(\\d{4})","$1 $2",["2[126]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]"]]]],RE:["262","00","9769\\d{5}|(?:26|[68]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"],"0$1"]],"0",0,0,0,0,"26[23]|69|[89]"],RO:["40","00","(?:[2378]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[237-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-6]2|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-6]2|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,"3[04-689]|[489]",0,"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]]],"0"],SA:["966","00","92\\d{7}|(?:[15]|8\\d)\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","(?:[1-6]|[7-9]\\d\\d)\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","8000\\d{3}|(?:[249]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],
SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-5]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|[57]9)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["24|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3478]|64|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6(?:0[5-7]|[1-35-9])|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|[89]00\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|(5\\d{6})$","721$1",0,"721"],SY:["963","00","[1-39]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"1|([2-479]\\d{6})$","649$1",0,"649"],TD:["235","00|16","(?:22|[69]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2679]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:00|[1-57-9]\\d)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[34]7|91[78]"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3[1-5]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","[1-6]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|616)","5(?:[0-59]|6161)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-46-8]\\d{6})$","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[26-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["4[45][0-5]|5(?:0|6[37])|6(?:[12][018]|[36-8])|7|89|9[1-9]|(?:48|57)[0137-9]","4[45][0-5]|5(?:0|6(?:3[14-7]|7))|6(?:[12][018]|[36-8])|7|89|9[1-9]|(?:48|57)[0137-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["[3-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}",[10],[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["5(?:05(?:[2-57-9]\\d\\d|6(?:[0-35-9]\\d|44))|82(?:2(?:0[0-3]|[268]2)|3(?:0[02]|33)|4(?:00|4[24]|65|82)|5(?:00|29|83)|6(?:00|66|82)|777|8(?:00|88)|9(?:00|9[89])))\\d{4}|(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[01356]|3[0-24679]|4[167]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[39]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[0-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[0179]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-289]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01579]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}"]]],UY:["598","0(?:0|1[3-9]\\d)","4\\d{9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["405|8|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["4"],"0$1"]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","810","(?:33|55|[679]\\d|88)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[35-9]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-578]\\d{6})$","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[69]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3578]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72)\\d{4}|8\\d{5}(?:\\d{3})?",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[478]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","[23]\\d{7,8}|(?:4\\d\\d|[89]00)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23]"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7[24-68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","80\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,"269|63"],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|63|[79]\\d)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:005|[1-9]\\d\\d)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:005|[1-9]\\d\\d)\\d{5}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[35-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[35-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"[0-36-9]\\d{8}",[9],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-36-9]"]]],0,0,0,0,0,0,[0,["[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|285\\d{9}|(?:[19]\\d|49)\\d{6}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["4"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[19]"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["34[57]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-3]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|3(?:2|47|7\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,0,0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:(?:285\\d\\d|3(?:45|[69]\\d{3}))\\d|9[89])\\d{6}"]]],883:["883",0,"(?:210|370\\d\\d)\\d{7}|51\\d{7}(?:\\d{3})?",[9,10,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["2"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[35]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:210|(?:370[1-9]|51[013]0)\\d)\\d{7}|5100\\d{5}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}},ia=ha,ja="".concat("-‐-―−ー－").concat("／/").concat("．.").concat("  ­​⁠　").concat("()（）［］\\[\\]").concat("~⁓∼～"),ka=function cb(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,cb),this.name=this.constructor.name,this.message=a,this.stack=new Error(a).stack};(ka.prototype=Object.create(Error.prototype)).constructor=ka;var la=" ext. ",ma=/^\d+$/,na=function(){function a(b){d(this,a),function(a){if(!a)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!sa(a)||!sa(a.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(sa(a)?"an object of shape: { "+Object.keys(a).join(", ")+" }":"a "+ta(a)+": "+a,"."))}(b),this.metadata=b,i.call(this,b)}return f(a,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(a){return"001"!==a})}},{key:"getCountryMetadata",value:function(a){return this.metadata.countries[a]}},{key:"nonGeographic",value:function(){return this.v1||this.v2||this.v3?void 0:this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(a){return void 0!==this.getCountryMetadata(a)}},{key:"hasCallingCode",value:function(a){if(this.getCountryCodesForCallingCode(a))return!0;if(this.nonGeographic()){if(this.nonGeographic()[a])return!0}else{var b=this.countryCallingCodes()[a];if(b&&1===b.length&&"001"===b[0])return!0}}},{key:"isNonGeographicCallingCode",value:function(a){return this.nonGeographic()?!!this.nonGeographic()[a]:!this.getCountryCodesForCallingCode(a)}},{key:"country",value:function(a){return this.selectNumberingPlan(a)}},{key:"selectNumberingPlan",value:function(a,b){if(a&&ma.test(a)&&(b=a,a=null),a&&"001"!==a){if(!this.hasCountry(a))throw new Error("Unknown country: ".concat(a));this.numberingPlan=new oa(this.getCountryMetadata(a),this)}else if(b){if(!this.hasCallingCode(b))throw new Error("Unknown calling code: ".concat(b));this.numberingPlan=new oa(this.getNumberingPlanMetadata(b),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(a){var b=this.countryCallingCodes()[a];if(b){if(1===b.length&&3===b[0].length)return;return b}}},{key:"getCountryCodeForCallingCode",value:function(a){var b=this.getCountryCodesForCallingCode(a);return b?b[0]:void 0}},{key:"getNumberingPlanMetadata",value:function(a){var b=this.getCountryCodeForCallingCode(a);if(b)return this.getCountryMetadata(b);if(this.nonGeographic()){var c=this.nonGeographic()[a];if(c)return c}else{var d=this.countryCallingCodes()[a];if(d&&1===d.length&&"001"===d[0])return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(a){return this.numberingPlan.type(a)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(a){return this.selectNumberingPlan(a)}},{key:"hasSelectedNumberingPlan",value:function(){return void 0!==this.numberingPlan}}]),a}(),oa=function(){function a(b,c){d(this,a),this.globalMetadataObject=c,this.metadata=b,i.call(this,c.metadata)}return f(a,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){return this.v1||this.v2?void 0:this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){return this.v1||this.v2?void 0:this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){return this.v1?void 0:this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(a){return a[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var a=this;return(this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[]).map(function(b){return new pa(b,a)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(a){return a[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return!(this.types()&&0===this.types().length||!this.types())}},{key:"type",value:function(a){return this.hasTypes()&&g(this.types(),a)?new ra(g(this.types(),a),this):void 0}},{key:"ext",value:function(){return this.v1||this.v2?la:this.metadata[13]||la}}]),a}(),pa=function(){function a(b,c){d(this,a),this._format=b,this.metadata=c}return f(a,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!(!this.nationalPrefixFormattingRule()||qa.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),a}(),qa=/^\(?\$1\)?$/,ra=function(){function a(b,c){d(this,a),this.type=b,this.metadata=c}return f(a,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){return this.metadata.v1?void 0:this.type[1]||this.metadata.possibleLengths()}}]),a}(),sa=function(a){return"object"===c(a)},ta=function(a){return c(a)},ua=function(){}