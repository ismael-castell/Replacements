(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(e,t,n){var r,o;r=[t,e,n(319),n(510),n(89),n(43),n(511),n(513)],void 0===(o=function(e,t,n,r,o,i,a,s){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var u=l(r),c=l(o),f=l(s);function d(){var e=new n.HandlebarsEnvironment;return i.extend(e,n),e.SafeString=u.default,e.Exception=c.default,e.Utils=i,e.escapeExpression=i.escapeExpression,e.VM=a,e.template=function(t){return a.template(t,e)},e}var p=d();p.create=d,f.default(p),p.default=p,t.exports=p}.apply(t,r))||(e.exports=o)},,function(e,t,n){var r;
/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */!function(o,i){var a,s,l=o.document,u=o.location,c=o.jQuery,f=o.$,d={},p=[],h=p.concat,g=p.push,m=p.slice,v=p.indexOf,y=d.toString,b=d.hasOwnProperty,A="1.9.1".trim,C=function(e,t){return new C.fn.init(e,t,s)},I=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_=/\S+/g,E=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,S=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,T=/^[\],:{}\s]*$/,k=/(?:^|:|,)(?:\s*\[)+/g,x=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,P=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,O=/^-ms-/,L=/-([\da-z])/gi,D=function(e,t){return t.toUpperCase()},j=function(e){(l.addEventListener||"load"===e.type||"complete"===l.readyState)&&(R(),C.ready())},R=function(){l.addEventListener?(l.removeEventListener("DOMContentLoaded",j,!1),o.removeEventListener("load",j,!1)):(l.detachEvent("onreadystatechange",j),o.detachEvent("onload",j))};function M(e){var t=e.length,n=C.type(e);return!C.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}C.fn=C.prototype={jquery:"1.9.1",constructor:C,init:function(e,t,n){var r,o;if(!e)return this;if("string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:w.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:l,!0)),S.test(r[1])&&C.isPlainObject(t))for(r in t)C.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if((o=l.getElementById(r[2]))&&o.parentNode){if(o.id!==r[2])return n.find(e);this.length=1,this[0]=o}return this.context=l,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):C.isFunction(e)?n.ready(e):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),C.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return m.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return C.each(this,e,t)},ready:function(e){return C.ready.promise().done(e),this},slice:function(){return this.pushStack(m.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(C.map(this,(function(t,n){return e.call(t,n,t)})))},end:function(){return this.prevObject||this.constructor(null)},push:g,sort:[].sort,splice:[].splice},C.fn.init.prototype=C.fn,C.extend=C.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},s=2),"object"==typeof a||C.isFunction(a)||(a={}),l===s&&(a=this,--s);s<l;s++)if(null!=(o=arguments[s]))for(r in o)e=a[r],a!==(n=o[r])&&(u&&n&&(C.isPlainObject(n)||(t=C.isArray(n)))?(t?(t=!1,i=e&&C.isArray(e)?e:[]):i=e&&C.isPlainObject(e)?e:{},a[r]=C.extend(u,i,n)):void 0!==n&&(a[r]=n));return a},C.extend({noConflict:function(e){return o.$===C&&(o.$=f),e&&o.jQuery===C&&(o.jQuery=c),C},isReady:!1,readyWait:1,holdReady:function(e){e?C.readyWait++:C.ready(!0)},ready:function(e){if(!(!0===e?--C.readyWait:C.isReady)){if(!l.body)return setTimeout(C.ready);C.isReady=!0,!0!==e&&--C.readyWait>0||(a.resolveWith(l,[C]),C.fn.trigger&&C(l).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===C.type(e)},isArray:Array.isArray||function(e){return"array"===C.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?d[y.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==C.type(e)||e.nodeType||C.isWindow(e))return!1;try{if(e.constructor&&!b.call(e,"constructor")&&!b.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return void 0===t||b.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||l;var r=S.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=C.buildFragment([e],t,o),o&&C(o).remove(),C.merge([],r.childNodes))},parseJSON:function(e){return o.JSON&&o.JSON.parse?o.JSON.parse(e):null===e?e:"string"==typeof e&&(e=C.trim(e))&&T.test(e.replace(x,"@").replace(P,"]").replace(k,""))?new Function("return "+e)():void C.error("Invalid JSON: "+e)},parseXML:function(e){var t;if(!e||"string"!=typeof e)return null;try{o.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&C.trim(e)&&(o.execScript||function(e){o.eval.call(o,e)})(e)},camelCase:function(e){return e.replace(O,"ms-").replace(L,D)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,o=e.length,i=M(e);if(n){if(i)for(;r<o&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(i)for(;r<o&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:A&&!A.call("\ufeffÂ ")?function(e){return null==e?"":A.call(e)}:function(e){return null==e?"":(e+"").replace(E,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?C.merge(n,"string"==typeof e?[e]:e):g.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(v)return v.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=t.length,r=e.length,o=0;if("number"==typeof n)for(;o<n;o++)e[r++]=t[o];else for(;void 0!==t[o];)e[r++]=t[o++];return e.length=r,e},grep:function(e,t,n){var r=[],o=0,i=e.length;for(n=!!n;o<i;o++)n!==!!t(e[o],o)&&r.push(e[o]);return r},map:function(e,t,n){var r,o=0,i=e.length,a=[];if(M(e))for(;o<i;o++)null!=(r=t(e[o],o,n))&&(a[a.length]=r);else for(o in e)null!=(r=t(e[o],o,n))&&(a[a.length]=r);return h.apply([],a)},guid:1,proxy:function(e,t){var n,r,o;if("string"==typeof t&&(o=e[t],t=e,e=o),C.isFunction(e))return n=m.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(m.call(arguments)))}).guid=e.guid=e.guid||C.guid++,r},access:function(e,t,n,r,o,i,a){var s=0,l=e.length,u=null==n;if("object"===C.type(n))for(s in o=!0,n)C.access(e,t,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,C.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(C(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:u?t.call(e):l?t(e[0],n):i},now:function(){return(new Date).getTime()}}),C.ready.promise=function(e){if(!a)if(a=C.Deferred(),"complete"===l.readyState)setTimeout(C.ready);else if(l.addEventListener)l.addEventListener("DOMContentLoaded",j,!1),o.addEventListener("load",j,!1);else{l.attachEvent("onreadystatechange",j),o.attachEvent("onload",j);var t=!1;try{t=null==o.frameElement&&l.documentElement}catch(e){}t&&t.doScroll&&function e(){if(!C.isReady){try{t.doScroll("left")}catch(t){return setTimeout(e,50)}R(),C.ready()}}()}return a.promise(e)},C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()})),s=C(l);var N={};C.Callbacks=function(e){e="string"==typeof e?N[e]||function(e){var t=N[e]={};return C.each(e.match(_)||[],(function(e,n){t[n]=!0})),t}(e):C.extend({},e);var t,n,r,o,i,a,s=[],l=!e.once&&[],u=function(f){for(n=e.memory&&f,r=!0,i=a||0,a=0,o=s.length,t=!0;s&&i<o;i++)if(!1===s[i].apply(f[0],f[1])&&e.stopOnFalse){n=!1;break}t=!1,s&&(l?l.length&&u(l.shift()):n?s=[]:c.disable())},c={add:function(){if(s){var r=s.length;!function t(n){C.each(n,(function(n,r){var o=C.type(r);"function"===o?e.unique&&c.has(r)||s.push(r):r&&r.length&&"string"!==o&&t(r)}))}(arguments),t?o=s.length:n&&(a=r,u(n))}return this},remove:function(){return s&&C.each(arguments,(function(e,n){for(var r;(r=C.inArray(n,s,r))>-1;)s.splice(r,1),t&&(r<=o&&o--,r<=i&&i--)})),this},has:function(e){return e?C.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],this},disable:function(){return s=l=n=void 0,this},disabled:function(){return!s},lock:function(){return l=void 0,n||c.disable(),this},locked:function(){return!l},fireWith:function(e,n){return n=[e,(n=n||[]).slice?n.slice():n],!s||r&&!l||(t?l.push(n):u(n)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},C.extend({Deferred:function(e){var t=[["resolve","done",C.Callbacks("once memory"),"resolved"],["reject","fail",C.Callbacks("once memory"),"rejected"],["notify","progress",C.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return C.Deferred((function(n){C.each(t,(function(t,i){var a=i[0],s=C.isFunction(e[t])&&e[t];o[i[1]]((function(){var e=s&&s.apply(this,arguments);e&&C.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?C.extend(e,r):r}},o={};return r.pipe=r.then,C.each(t,(function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith})),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,i=m.call(arguments),a=i.length,s=1!==a||e&&C.isFunction(e.promise)?a:0,l=1===s?e:C.Deferred(),u=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?m.call(arguments):o,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);o<a;o++)i[o]&&C.isFunction(i[o].promise)?i[o].promise().done(u(o,r,i)).fail(l.reject).progress(u(o,n,t)):--s;return s||l.resolveWith(r,i),l.promise()}}),C.support=function(){var e,t,n,r,i,a,s,u,c,f,d=l.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=d.getElementsByTagName("*"),n=d.getElementsByTagName("a")[0],!t||!n||!t.length)return{};s=(i=l.createElement("select")).appendChild(l.createElement("option")),r=d.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:!!r.value,optSelected:s.selected,enctype:!!l.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==l.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===l.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,i.disabled=!0,e.optDisabled=!s.disabled;try{delete d.test}catch(t){e.deleteExpando=!1}for(f in(r=l.createElement("input")).setAttribute("value",""),e.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),(a=l.createDocumentFragment()).appendChild(r),e.appendChecked=r.checked,e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",(function(){e.noCloneEvent=!1})),d.cloneNode(!0).click()),{submit:!0,change:!0,focusin:!0})d.setAttribute(u="on"+f,"t"),e[f+"Bubbles"]=u in o||!1===d.attributes[u].expando;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===d.style.backgroundClip,C((function(){var t,n,r,i="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=l.getElementsByTagName("body")[0];a&&((t=l.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(t).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(r=d.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=c&&0===r[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===d.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,o.getComputedStyle&&(e.pixelPosition="1%"!==(o.getComputedStyle(d,null)||{}).top,e.boxSizingReliable="4px"===(o.getComputedStyle(d,null)||{width:"4px"}).width,(n=d.appendChild(l.createElement("div"))).style.cssText=d.style.cssText=i,n.style.marginRight=n.style.width="0",d.style.width="1px",e.reliableMarginRight=!parseFloat((o.getComputedStyle(n,null)||{}).marginRight)),void 0!==d.style.zoom&&(d.innerHTML="",d.style.cssText=i+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==d.offsetWidth,e.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(t),t=d=r=n=null)})),t=i=a=s=n=r=null,e}();var F=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function U(e,t,n,r){if(C.acceptData(e)){var o,i,a=C.expando,s="string"==typeof t,l=e.nodeType,u=l?C.cache:e,c=l?e[a]:e[a]&&a;if(c&&u[c]&&(r||u[c].data)||!s||void 0!==n)return c||(l?e[a]=c=p.pop()||C.guid++:c=a),u[c]||(u[c]={},l||(u[c].toJSON=C.noop)),"object"!=typeof t&&"function"!=typeof t||(r?u[c]=C.extend(u[c],t):u[c].data=C.extend(u[c].data,t)),o=u[c],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[C.camelCase(t)]=n),s?null==(i=o[t])&&(i=o[C.camelCase(t)]):i=o,i}}function G(e,t,n){if(C.acceptData(e)){var r,o,i,a=e.nodeType,s=a?C.cache:e,l=a?e[C.expando]:C.expando;if(s[l]){if(t&&(i=n?s[l]:s[l].data)){for((r=0,o=(t=C.isArray(t)?t.concat(C.map(t,C.camelCase)):t in i||(t=C.camelCase(t))in i?[t]:t.split(" ")).length);r<o;r++)delete i[t[r]];if(!(n?V:C.isEmptyObject)(i))return}(n||(delete s[l].data,V(s[l])))&&(a?C.cleanData([e],!0):C.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}}function H(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(B,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:F.test(n)?C.parseJSON(n):n)}catch(e){}C.data(e,t,n)}else n=void 0}return n}function V(e){var t;for(t in e)if(("data"!==t||!C.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}C.extend({cache:{},expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?C.cache[e[C.expando]]:e[C.expando])&&!V(e)},data:function(e,t,n){return U(e,t,n)},removeData:function(e,t){return G(e,t)},_data:function(e,t,n){return U(e,t,n,!0)},_removeData:function(e,t){return G(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&C.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),C.fn.extend({data:function(e,t){var n,r,o=this[0],i=0,a=null;if(void 0===e){if(this.length&&(a=C.data(o),1===o.nodeType&&!C._data(o,"parsedAttrs"))){for(n=o.attributes;i<n.length;i++)(r=n[i].name).indexOf("data-")||(r=C.camelCase(r.slice(5)),H(o,r,a[r]));C._data(o,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each((function(){C.data(this,e)})):C.access(this,(function(t){if(void 0===t)return o?H(o,e,C.data(o,e)):null;this.each((function(){C.data(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){C.removeData(this,e)}))}}),C.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=C._data(e,t),n&&(!r||C.isArray(n)?r=C._data(e,t,C.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),r=n.length,o=n.shift(),i=C._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),i.cur=o,o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,(function(){C.dequeue(e,t)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return C._data(e,n)||C._data(e,n,{empty:C.Callbacks("once memory").add((function(){C._removeData(e,t+"queue"),C._removeData(e,n)}))})}}),C.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?C.queue(this[0],e):void 0===t?this:this.each((function(){var n=C.queue(this,e,t);C._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&C.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){C.dequeue(this,e)}))},delay:function(e,t){return e=C.fx&&C.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=C.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=C._data(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var W,Y,z=/[\t\r\n]/g,K=/\r/g,q=/^(?:input|select|textarea|button|object)$/i,$=/^(?:a|area)$/i,X=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Z=/^(?:checked|selected)$/i,Q=C.support.getSetAttribute,J=C.support.input;C.fn.extend({attr:function(e,t){return C.access(this,C.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){C.removeAttr(this,e)}))},prop:function(e,t){return C.access(this,C.prop,e,t,arguments.length>1)},removeProp:function(e){return e=C.propFix[e]||e,this.each((function(){try{this[e]=void 0,delete this[e]}catch(e){}}))},addClass:function(e){var t,n,r,o,i,a=0,s=this.length,l="string"==typeof e&&e;if(C.isFunction(e))return this.each((function(t){C(this).addClass(e.call(this,t,this.className))}));if(l)for(t=(e||"").match(_)||[];a<s;a++)if(r=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(z," "):" ")){for(i=0;o=t[i++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");n.className=C.trim(r)}return this},removeClass:function(e){var t,n,r,o,i,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(C.isFunction(e))return this.each((function(t){C(this).removeClass(e.call(this,t,this.className))}));if(l)for(t=(e||"").match(_)||[];a<s;a++)if(r=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(z," "):"")){for(i=0;o=t[i++];)for(;r.indexOf(" "+o+" ")>=0;)r=r.replace(" "+o+" "," ");n.className=e?C.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return C.isFunction(e)?this.each((function(n){C(this).toggleClass(e.call(this,n,this.className,t),t)})):this.each((function(){if("string"===n)for(var o,i=0,a=C(this),s=t,l=e.match(_)||[];o=l[i++];)s=r?s:!a.hasClass(o),a[s?"addClass":"removeClass"](o);else"undefined"!==n&&"boolean"!==n||(this.className&&C._data(this,"__className__",this.className),this.className=this.className||!1===e?"":C._data(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(z," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,r,o=this[0];return arguments.length?(r=C.isFunction(e),this.each((function(t){var o,i=C(this);1===this.nodeType&&(null==(o=r?e.call(this,t,i.val()):e)?o="":"number"==typeof o?o+="":C.isArray(o)&&(o=C.map(o,(function(e){return null==e?"":e+""}))),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,o,"value")||(this.value=o))}))):o?(n=C.valHooks[o.type]||C.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(o,"value"))?t:"string"==typeof(t=o.value)?t.replace(K,""):null==t?"":t:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||o<0,a=i?null:[],s=i?o+1:r.length,l=o<0?s:i?o:0;l<s;l++)if(((n=r[l]).selected||l===o)&&(C.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!C.nodeName(n.parentNode,"optgroup"))){if(t=C(n).val(),i)return t;a.push(t)}return a},set:function(e,t){var n=C.makeArray(t);return C(e).find("option").each((function(){this.selected=C.inArray(C(this).val(),n)>=0})),n.length||(e.selectedIndex=-1),n}}},attr:function(e,t,n){var r,o,i,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?C.prop(e,t,n):((o=1!==a||!C.isXMLDoc(e))&&(t=t.toLowerCase(),r=C.attrHooks[t]||(X.test(t)?Y:W)),void 0===n?r&&o&&"get"in r&&null!==(i=r.get(e,t))?i:(void 0!==e.getAttribute&&(i=e.getAttribute(t)),null==i?void 0:i):null!==n?r&&o&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void C.removeAttr(e,t))},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(_);if(i&&1===e.nodeType)for(;n=i[o++];)r=C.propFix[n]||n,X.test(n)?!Q&&Z.test(n)?e[C.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:C.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!C.support.radioValue&&"radio"===t&&C.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,n){var r,o,i=e.nodeType;if(e&&3!==i&&8!==i&&2!==i)return(1!==i||!C.isXMLDoc(e))&&(t=C.propFix[t]||t,o=C.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):q.test(e.nodeName)||$.test(e.nodeName)&&e.href?0:void 0}}}}),Y={get:function(e,t){var n=C.prop(e,t),r="boolean"==typeof n&&e.getAttribute(t),o="boolean"==typeof n?J&&Q?null!=r:Z.test(t)?e[C.camelCase("default-"+t)]:!!r:e.getAttributeNode(t);return o&&!1!==o.value?t.toLowerCase():void 0},set:function(e,t,n){return!1===t?C.removeAttr(e,n):J&&Q||!Z.test(n)?e.setAttribute(!Q&&C.propFix[n]||n,n):e[C.camelCase("default-"+n)]=e[n]=!0,n}},J&&Q||(C.attrHooks.value={get:function(e,t){var n=e.getAttributeNode(t);return C.nodeName(e,"input")?e.defaultValue:n&&n.specified?n.value:void 0},set:function(e,t,n){if(!C.nodeName(e,"input"))return W&&W.set(e,t,n);e.defaultValue=t}}),Q||(W=C.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&("id"===t||"name"===t||"coords"===t?""!==n.value:n.specified)?n.value:void 0},set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},C.attrHooks.contenteditable={get:W.get,set:function(e,t,n){W.set(e,""!==t&&t,n)}},C.each(["width","height"],(function(e,t){C.attrHooks[t]=C.extend(C.attrHooks[t],{set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}})}))),C.support.hrefNormalized||(C.each(["href","src","width","height"],(function(e,t){C.attrHooks[t]=C.extend(C.attrHooks[t],{get:function(e){var n=e.getAttribute(t,2);return null==n?void 0:n}})})),C.each(["href","src"],(function(e,t){C.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}))),C.support.style||(C.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}}),C.support.optSelected||(C.propHooks.selected=C.extend(C.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),C.support.enctype||(C.propFix.enctype="encoding"),C.support.checkOn||C.each(["radio","checkbox"],(function(){C.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}})),C.each(["radio","checkbox"],(function(){C.valHooks[this]=C.extend(C.valHooks[this],{set:function(e,t){if(C.isArray(t))return e.checked=C.inArray(C(e).val(),t)>=0}})}));var ee=/^(?:input|select|textarea)$/i,te=/^key/,ne=/^(?:mouse|contextmenu)|click/,re=/^(?:focusinfocus|focusoutblur)$/,oe=/^([^.]*)(?:\.(.+)|)$/;function ie(){return!0}function ae(){return!1}C.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,u,c,f,d,p,h,g,m=C._data(e);if(m){for(n.handler&&(n=(l=n).handler,o=l.selector),n.guid||(n.guid=C.guid++),(a=m.events)||(a=m.events={}),(c=m.handle)||((c=m.handle=function(e){return void 0===C||e&&C.event.triggered===e.type?void 0:C.event.dispatch.apply(c.elem,arguments)}).elem=e),s=(t=(t||"").match(_)||[""]).length;s--;)p=g=(i=oe.exec(t[s])||[])[1],h=(i[2]||"").split(".").sort(),u=C.event.special[p]||{},p=(o?u.delegateType:u.bindType)||p,u=C.event.special[p]||{},f=C.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&C.expr.match.needsContext.test(o),namespace:h.join(".")},l),(d=a[p])||((d=a[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,r,h,c)||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),u.add&&(u.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,f):d.push(f),C.event.global[p]=!0;e=null}},remove:function(e,t,n,r,o){var i,a,s,l,u,c,f,d,p,h,g,m=C.hasData(e)&&C._data(e);if(m&&(c=m.events)){for(u=(t=(t||"").match(_)||[""]).length;u--;)if(p=g=(s=oe.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),p){for(f=C.event.special[p]||{},d=c[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=i=d.length;i--;)a=d[i],!o&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(i,1),a.selector&&d.delegateCount--,f.remove&&f.remove.call(e,a));l&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,m.handle)||C.removeEvent(e,p,m.handle),delete c[p])}else for(p in c)C.event.remove(e,p+t[u],n,r,!0);C.isEmptyObject(c)&&(delete m.handle,C._removeData(e,"events"))}},trigger:function(e,t,n,r){var i,a,s,u,c,f,d,p=[n||l],h=b.call(e,"type")?e.type:e,g=b.call(e,"namespace")?e.namespace.split("."):[];if(s=f=n=n||l,3!==n.nodeType&&8!==n.nodeType&&!re.test(h+C.event.triggered)&&(h.indexOf(".")>=0&&(g=h.split("."),h=g.shift(),g.sort()),a=h.indexOf(":")<0&&"on"+h,(e=e[C.expando]?e:new C.Event(h,"object"==typeof e&&e)).isTrigger=!0,e.namespace=g.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),c=C.event.special[h]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!C.isWindow(n)){for(u=c.delegateType||h,re.test(u+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),f=s;f===(n.ownerDocument||l)&&p.push(f.defaultView||f.parentWindow||o)}for(d=0;(s=p[d++])&&!e.isPropagationStopped();)e.type=d>1?u:c.bindType||h,(i=(C._data(s,"events")||{})[e.type]&&C._data(s,"handle"))&&i.apply(s,t),(i=a&&s[a])&&C.acceptData(s)&&i.apply&&!1===i.apply(s,t)&&e.preventDefault();if(e.type=h,!r&&!e.isDefaultPrevented()&&(!c._default||!1===c._default.apply(n.ownerDocument,t))&&("click"!==h||!C.nodeName(n,"a"))&&C.acceptData(n)&&a&&n[h]&&!C.isWindow(n)){(f=n[a])&&(n[a]=null),C.event.triggered=h;try{n[h]()}catch(e){}C.event.triggered=void 0,f&&(n[a]=f)}return e.result}},dispatch:function(e){e=C.event.fix(e);var t,n,r,o,i,a=[],s=m.call(arguments),l=(C._data(this,"events")||{})[e.type]||[],u=C.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=C.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,void 0!==(n=((C.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(o=[],i=0;i<s;i++)void 0===o[n=(r=t[i]).selector+" "]&&(o[n]=r.needsContext?C(n,this).index(l)>=0:C.find(n,this,null,[l]).length),o[n]&&o.push(r);o.length&&a.push({elem:l,handlers:o})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[C.expando])return e;var t,n,r,o=e.type,i=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=ne.test(o)?this.mouseHooks:te.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new C.Event(i),t=r.length;t--;)e[n=r[t]]=i[n];return e.target||(e.target=i.srcElement||l),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,i):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(r=e.target.ownerDocument||l).documentElement,n=r.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){if(C.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==l.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===l.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var o=C.extend(new C.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?C.event.trigger(o,null,t):C.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},C.removeEvent=l.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(void 0===e[r]&&(e[r]=null),e.detachEvent(r,n))},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?ie:ae):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||C.now(),this[C.expando]=!0},C.Event.prototype={isDefaultPrevented:ae,isPropagationStopped:ae,isImmediatePropagationStopped:ae,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ie,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ie,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ie,this.stopPropagation()}},C.each({mouseenter:"mouseover",mouseleave:"mouseout"},(function(e,t){C.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||C.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),C.support.submitBubbles||(C.event.special.submit={setup:function(){if(C.nodeName(this,"form"))return!1;C.event.add(this,"click._submit keypress._submit",(function(e){var t=e.target,n=C.nodeName(t,"input")||C.nodeName(t,"button")?t.form:void 0;n&&!C._data(n,"submitBubbles")&&(C.event.add(n,"submit._submit",(function(e){e._submit_bubble=!0})),C._data(n,"submitBubbles",!0))}))},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&C.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(C.nodeName(this,"form"))return!1;C.event.remove(this,"._submit")}}),C.support.changeBubbles||(C.event.special.change={setup:function(){if(ee.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(C.event.add(this,"propertychange._change",(function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)})),C.event.add(this,"click._change",(function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),C.event.simulate("change",this,e,!0)}))),!1;C.event.add(this,"beforeactivate._change",(function(e){var t=e.target;ee.test(t.nodeName)&&!C._data(t,"changeBubbles")&&(C.event.add(t,"change._change",(function(e){!this.parentNode||e.isSimulated||e.isTrigger||C.event.simulate("change",this.parentNode,e,!0)})),C._data(t,"changeBubbles",!0))}))},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return C.event.remove(this,"._change"),!ee.test(this.nodeName)}}),C.support.focusinBubbles||C.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=0,r=function(e){C.event.simulate(t,e.target,C.event.fix(e),!0)};C.event.special[t]={setup:function(){0==n++&&l.addEventListener(e,r,!0)},teardown:function(){0==--n&&l.removeEventListener(e,r,!0)}}})),C.fn.extend({on:function(e,t,n,r,o){var i,a;if("object"==typeof e){for(i in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(i,t,n,e[i],o);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=ae;else if(!r)return this;return 1===o&&(a=r,(r=function(e){return C().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=C.guid++)),this.each((function(){C.event.add(this,e,r,n,t)}))},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,C(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ae),this.each((function(){C.event.remove(this,e,n,t)}))},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each((function(){C.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),
/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
function(e,t){var n,r,o,i,a,s,l,u,c,f,d,p,h,g,m,v,y,b="sizzle"+-new Date,A=e.document,I={},_=0,E=0,w=ee(),S=ee(),T=ee(),k=[],x=k.pop,P=k.push,O=k.slice,L=k.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},D="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R=j.replace("w","w#"),M="\\["+D+"*("+j+")"+D+"*(?:([*^$|!~]?=)"+D+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+R+")|)|)"+D+"*\\]",N=":("+j+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+M.replace(3,8)+")*)|.*)\\)|)",F=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g"),B=new RegExp("^"+D+"*,"+D+"*"),U=new RegExp("^"+D+"*([\\x20\\t\\r\\n\\f>+~])"+D+"*"),G=new RegExp(N),H=new RegExp("^"+R+"$"),V={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),NAME:new RegExp("^\\[name=['\"]?("+j+")['\"]?\\]"),TAG:new RegExp("^("+j.replace("w","w*")+")"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},W=/[\x20\t\r\n\f]*[+~]/,Y=/^[^{]+\{\s*\[native code/,z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,$=/'|\\/g,X=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,Z=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,Q=function(e,t){var n="0x"+t-65536;return n!=n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{O.call(A.documentElement.childNodes,0)[0].nodeType}catch(e){O=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}function J(e){return Y.test(e+"")}function ee(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>o.cacheLength&&delete e[t.shift()],e[n]=r}}function te(e){return e[b]=!0,e}function ne(e){var t=f.createElement("div");try{return e(t)}catch(e){return!1}finally{t=null}}function re(e,t,n,r){var i,a,l,u,d,g,m,y,C,_;if((t?t.ownerDocument||t:A)!==f&&c(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(u=(t=t||f).nodeType)&&9!==u)return[];if(!p&&!r){if(i=z.exec(e))if(l=i[1]){if(9===u){if(!(a=t.getElementById(l))||!a.parentNode)return n;if(a.id===l)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(l))&&v(t,a)&&a.id===l)return n.push(a),n}else{if(i[2])return P.apply(n,O.call(t.getElementsByTagName(e),0)),n;if((l=i[3])&&I.getByClassName&&t.getElementsByClassName)return P.apply(n,O.call(t.getElementsByClassName(l),0)),n}if(I.qsa&&!h.test(e)){if(m=!0,y=b,C=t,_=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(g=le(e),(m=t.getAttribute("id"))?y=m.replace($,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",d=g.length;d--;)g[d]=y+ue(g[d]);C=W.test(e)&&t.parentNode||t,_=g.join(",")}if(_)try{return P.apply(n,O.call(C.querySelectorAll(_),0)),n}catch(e){}finally{m||t.removeAttribute("id")}}}return function(e,t,n,r){var i,a,l,u,c,f=le(e);if(!r&&1===f.length){if((a=f[0]=f[0].slice(0)).length>2&&"ID"===(l=a[0]).type&&9===t.nodeType&&!p&&o.relative[a[1].type]){if(!(t=o.find.ID(l.matches[0].replace(Z,Q),t)[0]))return n;e=e.slice(a.shift().value.length)}for(i=V.needsContext.test(e)?0:a.length;i--&&(l=a[i],!o.relative[u=l.type]);)if((c=o.find[u])&&(r=c(l.matches[0].replace(Z,Q),W.test(a[0].type)&&t.parentNode||t))){if(a.splice(i,1),!(e=r.length&&ue(a)))return P.apply(n,O.call(r,0)),n;break}}return s(e,f)(r,t,p,n,W.test(e)),n}(e.replace(F,"$1"),t,n,r)}function oe(e,t){var n=t&&e,r=n&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ie(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ae(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function se(e){return te((function(t){return t=+t,te((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}for(n in a=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},c=re.setDocument=function(e){var t=e?e.ownerDocument||e:A;return t!==f&&9===t.nodeType&&t.documentElement?(f=t,d=t.documentElement,p=a(t),I.tagNameNoComments=ne((function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length})),I.attributes=ne((function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t})),I.getByClassName=ne((function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)})),I.getByName=ne((function(e){e.id=b+0,e.innerHTML="<a name='"+b+"'></a><div name='"+b+"'></div>",d.insertBefore(e,d.firstChild);var n=t.getElementsByName&&t.getElementsByName(b).length===2+t.getElementsByName(b+0).length;return I.getIdNotName=!t.getElementById(b),d.removeChild(e),n})),o.attrHandle=ne((function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&void 0!==e.firstChild.getAttribute&&"#"===e.firstChild.getAttribute("href")}))?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},I.getIdNotName?(o.find.ID=function(e,t){if(void 0!==t.getElementById&&!p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(Z,Q);return function(e){return e.getAttribute("id")===t}}):(o.find.ID=function(e,t){if(void 0!==t.getElementById&&!p){var n=t.getElementById(e);return n?n.id===e||void 0!==n.getAttributeNode&&n.getAttributeNode("id").value===e?[n]:void 0:[]}},o.filter.ID=function(e){var t=e.replace(Z,Q);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),o.find.TAG=I.tagNameNoComments?function(e,t){if(void 0!==t.getElementsByTagName)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},o.find.NAME=I.getByName&&function(e,t){if(void 0!==t.getElementsByName)return t.getElementsByName(name)},o.find.CLASS=I.getByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&!p)return t.getElementsByClassName(e)},g=[],h=[":focus"],(I.qsa=J(t.querySelectorAll))&&(ne((function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+D+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||h.push(":checked")})),ne((function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&h.push("[*^$]="+D+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||h.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),h.push(",.*:")}))),(I.matchesSelector=J(m=d.matchesSelector||d.mozMatchesSelector||d.webkitMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ne((function(e){I.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",N)})),h=new RegExp(h.join("|")),g=new RegExp(g.join("|")),v=J(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},y=d.compareDocumentPosition?function(e,n){var r;return e===n?(l=!0,0):(r=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n))?1&r||e.parentNode&&11===e.parentNode.nodeType?e===t||v(A,e)?-1:n===t||v(A,n)?1:0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var r,o=0,i=e.parentNode,a=n.parentNode,s=[e],u=[n];if(e===n)return l=!0,0;if(!i||!a)return e===t?-1:n===t?1:i?-1:a?1:0;if(i===a)return oe(e,n);for(r=e;r=r.parentNode;)s.unshift(r);for(r=n;r=r.parentNode;)u.unshift(r);for(;s[o]===u[o];)o++;return o?oe(s[o],u[o]):s[o]===A?-1:u[o]===A?1:0},l=!1,[0,0].sort(y),I.detectDuplicates=l,f):f},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&c(e),t=t.replace(X,"='$1']"),I.matchesSelector&&!p&&(!g||!g.test(t))&&!h.test(t))try{var n=m.call(e,t);if(n||I.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return re(t,f,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!==f&&c(e),v(e,t)},re.attr=function(e,t){var n;return(e.ownerDocument||e)!==f&&c(e),p||(t=t.toLowerCase()),(n=o.attrHandle[t])?n(e):p||I.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&!0===e[t]?t:n&&n.specified?n.value:null},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,n=[],r=1,o=0;if(l=!I.detectDuplicates,e.sort(y),l){for(;t=e[r];r++)t===e[r-1]&&(o=n.push(r));for(;o--;)e.splice(n[o],1)}return e},i=re.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r];r++)n+=i(t);return n},o=re.selectors={cacheLength:50,createPseudo:te,match:V,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,Q),e[3]=(e[4]||e[5]||"").replace(Z,Q),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return V.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&G.test(n)&&(t=le(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(Z,Q).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=w[e+" "];return t||(t=new RegExp("(^|"+D+")"+e+"("+D+"|$)"))&&w(e,(function(e){return t.test(e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=re.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,d,p,h,g=i!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(m){if(i){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&y){for(p=(u=(c=m[b]||(m[b]={}))[e]||[])[0]===_&&u[1],d=u[0]===_&&u[2],f=p&&m.childNodes[p];f=++p&&f&&f[g]||(d=p=0)||h.pop();)if(1===f.nodeType&&++d&&f===t){c[e]=[_,p,d];break}}else if(y&&(u=(t[b]||(t[b]={}))[e])&&u[0]===_)d=u[1];else for(;(f=++p&&f&&f[g]||(d=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[b]||(f[b]={}))[e]=[_,d]),f!==t)););return(d-=o)===r||d%r==0&&d/r>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,n){for(var o,i=r(e,t),a=i.length;a--;)e[o=L.call(e,i[a])]=!(n[o]=i[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:te((function(e){var t=[],n=[],r=s(e.replace(F,"$1"));return r[b]?te((function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),!n.pop()}})),has:te((function(e){return function(t){return re(e,t).length>0}})),contains:te((function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}})),lang:te((function(e){return H.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(Z,Q).toLowerCase(),function(t){var n;do{if(n=p?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:se((function(){return[0]})),last:se((function(e,t){return[t-1]})),eq:se((function(e,t,n){return[n<0?n+t:n]})),even:se((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:se((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:se((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:se((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=ie(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=ae(n);function le(e,t){var n,r,i,a,s,l,u,c=S[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=o.preFilter;s;){for(a in n&&!(r=B.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(F," ")}),s=s.slice(n.length)),o.filter)!(r=V[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?re.error(e):S(e,l).slice(0)}function ue(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ce(e,t,n){var o=t.dir,i=n&&"parentNode"===o,a=E++;return t.first?function(t,n,r){for(;t=t[o];)if(1===t.nodeType||i)return e(t,n,r)}:function(t,n,s){var l,u,c,f=_+" "+a;if(s){for(;t=t[o];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[o];)if(1===t.nodeType||i)if((u=(c=t[b]||(t[b]={}))[o])&&u[0]===f){if(!0===(l=u[1])||l===r)return!0===l}else if((u=c[o]=[f])[1]=e(t,n,s)||r,!0===u[1])return!0}}function fe(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function de(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),u&&t.push(s)));return a}function pe(e,t,n,r,o,i){return r&&!r[b]&&(r=pe(r)),o&&!o[b]&&(o=pe(o,i)),te((function(i,a,s,l){var u,c,f,d=[],p=[],h=a.length,g=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)re(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!i&&t?g:de(g,d,e,s,l),v=n?o||(i?e:h||r)?[]:a:m;if(n&&n(m,v,s,l),r)for(u=de(v,p),r(u,[],s,l),c=u.length;c--;)(f=u[c])&&(v[p[c]]=!(m[p[c]]=f));if(i){if(o||e){if(o){for(u=[],c=v.length;c--;)(f=v[c])&&u.push(m[c]=f);o(null,v=[],u,l)}for(c=v.length;c--;)(f=v[c])&&(u=o?L.call(i,f):d[c])>-1&&(i[u]=!(a[u]=f))}}else v=de(v===a?v.splice(h,v.length):v),o?o(null,a,v,l):P.apply(a,v)}))}function he(e){for(var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=ce((function(e){return e===t}),s,!0),f=ce((function(e){return L.call(t,e)>-1}),s,!0),d=[function(e,n,r){return!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):f(e,n,r))}];l<i;l++)if(n=o.relative[e[l].type])d=[ce(fe(d),n)];else{if((n=o.filter[e[l].type].apply(null,e[l].matches))[b]){for(r=++l;r<i&&!o.relative[e[r].type];r++);return pe(l>1&&fe(d),l>1&&ue(e.slice(0,l-1)).replace(F,"$1"),n,l<r&&he(e.slice(l,r)),r<i&&he(e=e.slice(r)),r<i&&ue(e))}d.push(n)}return fe(d)}function ge(){}s=re.compile=function(e,t){var n,i=[],a=[],s=T[e+" "];if(!s){for(t||(t=le(e)),n=t.length;n--;)(s=he(t[n]))[b]?i.push(s):a.push(s);s=T(e,function(e,t){var n=0,i=t.length>0,a=e.length>0,s=function(s,l,c,d,p){var h,g,m,v=[],y=0,b="0",A=s&&[],C=null!=p,I=u,E=s||a&&o.find.TAG("*",p&&l.parentNode||l),w=_+=null==I?1:Math.random()||.1;for(C&&(u=l!==f&&l,r=n);null!=(h=E[b]);b++){if(a&&h){for(g=0;m=e[g++];)if(m(h,l,c)){d.push(h);break}C&&(_=w,r=++n)}i&&((h=!m&&h)&&y--,s&&A.push(h))}if(y+=b,i&&b!==y){for(g=0;m=t[g++];)m(A,v,l,c);if(s){if(y>0)for(;b--;)A[b]||v[b]||(v[b]=x.call(d));v=de(v)}P.apply(d,v),C&&!s&&v.length>0&&y+t.length>1&&re.uniqueSort(d)}return C&&(_=w,u=I),A};return i?te(s):s}(a,i))}return s},o.pseudos.nth=o.pseudos.eq,o.filters=ge.prototype=o.pseudos,o.setFilters=new ge,c(),re.attr=C.attr,C.find=re,C.expr=re.selectors,C.expr[":"]=C.expr.pseudos,C.unique=re.uniqueSort,C.text=re.getText,C.isXMLDoc=re.isXML,C.contains=re.contains}(o);var se=/Until$/,le=/^(?:parents|prev(?:Until|All))/,ue=/^.[^:#\[\.,]*$/,ce=C.expr.match.needsContext,fe={children:!0,contents:!0,next:!0,prev:!0};function de(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function pe(e,t,n){if(t=t||0,C.isFunction(t))return C.grep(e,(function(e,r){return!!t.call(e,r,e)===n}));if(t.nodeType)return C.grep(e,(function(e){return e===t===n}));if("string"==typeof t){var r=C.grep(e,(function(e){return 1===e.nodeType}));if(ue.test(t))return C.filter(t,r,!n);t=C.filter(t,r)}return C.grep(e,(function(e){return C.inArray(e,t)>=0===n}))}function he(e){var t=ge.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}C.fn.extend({find:function(e){var t,n,r,o=this.length;if("string"!=typeof e)return r=this,this.pushStack(C(e).filter((function(){for(t=0;t<o;t++)if(C.contains(r[t],this))return!0})));for(n=[],t=0;t<o;t++)C.find(e,this[t],n);return(n=this.pushStack(o>1?C.unique(n):n)).selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=C(e,this),r=n.length;return this.filter((function(){for(t=0;t<r;t++)if(C.contains(this,n[t]))return!0}))},not:function(e){return this.pushStack(pe(this,e,!1))},filter:function(e){return this.pushStack(pe(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?ce.test(e)?C(e,this.context).index(this[0])>=0:C.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=ce.test(e)||"string"!=typeof e?C(e,t||this.context):0;r<o;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:C.find.matchesSelector(n,e)){i.push(n);break}n=n.parentNode}return this.pushStack(i.length>1?C.unique(i):i)},index:function(e){return e?"string"==typeof e?C.inArray(this[0],C(e)):C.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?C(e,t):C.makeArray(e&&e.nodeType?[e]:e),r=C.merge(this.get(),n);return this.pushStack(C.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.fn.andSelf=C.fn.addBack,C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C.dir(e,"parentNode")},parentsUntil:function(e,t,n){return C.dir(e,"parentNode",n)},next:function(e){return de(e,"nextSibling")},prev:function(e){return de(e,"previousSibling")},nextAll:function(e){return C.dir(e,"nextSibling")},prevAll:function(e){return C.dir(e,"previousSibling")},nextUntil:function(e,t,n){return C.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return C.dir(e,"previousSibling",n)},siblings:function(e){return C.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return C.sibling(e.firstChild)},contents:function(e){return C.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:C.merge([],e.childNodes)}},(function(e,t){C.fn[e]=function(n,r){var o=C.map(this,t,n);return se.test(e)||(r=n),r&&"string"==typeof r&&(o=C.filter(r,o)),o=this.length>1&&!fe[e]?C.unique(o):o,this.length>1&&le.test(e)&&(o=o.reverse()),this.pushStack(o)}})),C.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?C.find.matchesSelector(t[0],e)?[t[0]]:[]:C.find.matches(e,t)},dir:function(e,t,n){for(var r=[],o=e[t];o&&9!==o.nodeType&&(void 0===n||1!==o.nodeType||!C(o).is(n));)1===o.nodeType&&r.push(o),o=o[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var ge="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",me=/ jQuery\d+="(?:null|\d+)"/g,ve=new RegExp("<(?:"+ge+")[\\s/>]","i"),ye=/^\s+/,be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ae=/<([\w:]+)/,Ce=/<tbody/i,Ie=/<|&#?\w+;/,_e=/<(?:script|style|link)/i,Ee=/^(?:checkbox|radio)$/i,we=/checked\s*(?:[^=]|=\s*.checked.)/i,Se=/^$|\/(?:java|ecma)script/i,Te=/^true\/(.*)/,ke=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:C.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Pe=he(l).appendChild(l.createElement("div"));function Oe(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function Le(e){var t=Te.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function De(e,t){for(var n,r=0;null!=(n=e[r]);r++)C._data(n,"globalEval",!t||C._data(t[r],"globalEval"))}function je(e,t){if(1===t.nodeType&&C.hasData(e)){var n,r,o,i=C._data(e),a=C._data(t,i),s=i.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,o=s[n].length;r<o;r++)C.event.add(t,n,s[n][r]);a.data&&(a.data=C.extend({},a.data))}}function Re(e,t){var n,r,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!C.support.noCloneEvent&&t[C.expando]){for(r in(o=C._data(t)).events)C.removeEvent(t,r,o.handle);t.removeAttribute(C.expando)}"script"===n&&t.text!==e.text?(Oe(t).text=e.text,Le(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),C.support.html5Clone&&e.innerHTML&&!C.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ee.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function Me(e,t){var n,r,o=0,i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!i)for(i=[],n=e.childNodes||e;null!=(r=n[o]);o++)!t||C.nodeName(r,t)?i.push(r):C.merge(i,Me(r,t));return void 0===t||t&&C.nodeName(e,t)?C.merge([e],i):i}function Ne(e){Ee.test(e.type)&&(e.defaultChecked=e.checked)}xe.optgroup=xe.option,xe.tbody=xe.tfoot=xe.colgroup=xe.caption=xe.thead,xe.th=xe.td,C.fn.extend({text:function(e){return C.access(this,(function(e){return void 0===e?C.text(this):this.empty().append((this[0]&&this[0].ownerDocument||l).createTextNode(e))}),null,e,arguments.length)},wrapAll:function(e){if(C.isFunction(e))return this.each((function(t){C(this).wrapAll(e.call(this,t))}));if(this[0]){var t=C(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e})).append(this)}return this},wrapInner:function(e){return C.isFunction(e)?this.each((function(t){C(this).wrapInner(e.call(this,t))})):this.each((function(){var t=C(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=C.isFunction(e);return this.each((function(n){C(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){C.nodeName(this,"body")||C(this).replaceWith(this.childNodes)})).end()},append:function(){return this.domManip(arguments,!0,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(e)}))},prepend:function(){return this.domManip(arguments,!0,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.insertBefore(e,this.firstChild)}))},before:function(){return this.domManip(arguments,!1,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return this.domManip(arguments,!1,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||C.filter(e,[n]).length>0)&&(t||1!==n.nodeType||C.cleanData(Me(n)),n.parentNode&&(t&&C.contains(n.ownerDocument,n)&&De(Me(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&C.cleanData(Me(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&C.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return C.clone(this,e,t)}))},html:function(e){return C.access(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(me,""):void 0;if("string"==typeof e&&!_e.test(e)&&(C.support.htmlSerialize||!ve.test(e))&&(C.support.leadingWhitespace||!ye.test(e))&&!xe[(Ae.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(be,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(Me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(e){return C.isFunction(e)||"string"==typeof e||(e=C(e).not(this).detach()),this.domManip([e],!0,(function(e){var t=this.nextSibling,n=this.parentNode;n&&(C(this).remove(),n.insertBefore(e,t))}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=h.apply([],e);var r,o,i,a,s,l,u,c,f=0,d=this.length,p=this,g=d-1,m=e[0],v=C.isFunction(m);if(v||!(d<=1||"string"!=typeof m||C.support.checkClone)&&we.test(m))return this.each((function(r){var o=p.eq(r);v&&(e[0]=m.call(this,r,t?o.html():void 0)),o.domManip(e,t,n)}));if(d&&(r=(l=C.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===l.childNodes.length&&(l=r),r)){for(t=t&&C.nodeName(r,"tr"),i=(a=C.map(Me(l,"script"),Oe)).length;f<d;f++)o=l,f!==g&&(o=C.clone(o,!0,!0),i&&C.merge(a,Me(o,"script"))),n.call(t&&C.nodeName(this[f],"table")?(u=this[f],c="tbody",u.getElementsByTagName(c)[0]||u.appendChild(u.ownerDocument.createElement(c))):this[f],o,f);if(i)for(s=a[a.length-1].ownerDocument,C.map(a,Le),f=0;f<i;f++)o=a[f],Se.test(o.type||"")&&!C._data(o,"globalEval")&&C.contains(s,o)&&(o.src?C.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):C.globalEval((o.text||o.textContent||o.innerHTML||"").replace(ke,"")));l=r=null}return this}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){C.fn[e]=function(e){for(var n,r=0,o=[],i=C(e),a=i.length-1;r<=a;r++)n=r===a?this:this.clone(!0),C(i[r])[t](n),g.apply(o,n.get());return this.pushStack(o)}})),C.extend({clone:function(e,t,n){var r,o,i,a,s,l=C.contains(e.ownerDocument,e);if(C.support.html5Clone||C.isXMLDoc(e)||!ve.test("<"+e.nodeName+">")?i=e.cloneNode(!0):(Pe.innerHTML=e.outerHTML,Pe.removeChild(i=Pe.firstChild)),!(C.support.noCloneEvent&&C.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(r=Me(i),s=Me(e),a=0;null!=(o=s[a]);++a)r[a]&&Re(o,r[a]);if(t)if(n)for(s=s||Me(e),r=r||Me(i),a=0;null!=(o=s[a]);a++)je(o,r[a]);else je(e,i);return(r=Me(i,"script")).length>0&&De(r,!l&&Me(e,"script")),r=s=o=null,i},buildFragment:function(e,t,n,r){for(var o,i,a,s,l,u,c,f=e.length,d=he(t),p=[],h=0;h<f;h++)if((i=e[h])||0===i)if("object"===C.type(i))C.merge(p,i.nodeType?[i]:i);else if(Ie.test(i)){for(s=s||d.appendChild(t.createElement("div")),l=(Ae.exec(i)||["",""])[1].toLowerCase(),c=xe[l]||xe._default,s.innerHTML=c[1]+i.replace(be,"<$1></$2>")+c[2],o=c[0];o--;)s=s.lastChild;if(!C.support.leadingWhitespace&&ye.test(i)&&p.push(t.createTextNode(ye.exec(i)[0])),!C.support.tbody)for(o=(i="table"!==l||Ce.test(i)?"<table>"!==c[1]||Ce.test(i)?0:s:s.firstChild)&&i.childNodes.length;o--;)C.nodeName(u=i.childNodes[o],"tbody")&&!u.childNodes.length&&i.removeChild(u);for(C.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else p.push(t.createTextNode(i));for(s&&d.removeChild(s),C.support.appendChecked||C.grep(Me(p,"input"),Ne),h=0;i=p[h++];)if((!r||-1===C.inArray(i,r))&&(a=C.contains(i.ownerDocument,i),s=Me(d.appendChild(i),"script"),a&&De(s),n))for(o=0;i=s[o++];)Se.test(i.type||"")&&n.push(i);return s=null,d},cleanData:function(e,t){for(var n,r,o,i,a=0,s=C.expando,l=C.cache,u=C.support.deleteExpando,c=C.event.special;null!=(n=e[a]);a++)if((t||C.acceptData(n))&&(i=(o=n[s])&&l[o])){if(i.events)for(r in i.events)c[r]?C.event.remove(n,r):C.removeEvent(n,r,i.handle);l[o]&&(delete l[o],u?delete n[s]:void 0!==n.removeAttribute?n.removeAttribute(s):n[s]=null,p.push(o))}}});var Fe,Be,Ue,Ge=/alpha\([^)]*\)/i,He=/opacity\s*=\s*([^)]*)/,Ve=/^(top|right|bottom|left)$/,We=/^(none|table(?!-c[ea]).+)/,Ye=/^margin/,ze=new RegExp("^("+I+")(.*)$","i"),Ke=new RegExp("^("+I+")(?!px)[a-z%]+$","i"),qe=new RegExp("^([+-])=("+I+")","i"),$e={BODY:"block"},Xe={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:0,fontWeight:400},Qe=["Top","Right","Bottom","Left"],Je=["Webkit","O","Moz","ms"];function et(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,o=Je.length;o--;)if((t=Je[o]+n)in e)return t;return r}function tt(e,t){return e=t||e,"none"===C.css(e,"display")||!C.contains(e.ownerDocument,e)}function nt(e,t){for(var n,r,o,i=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(i[a]=C._data(r,"olddisplay"),n=r.style.display,t?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&tt(r)&&(i[a]=C._data(r,"olddisplay",at(r.nodeName)))):i[a]||(o=tt(r),(n&&"none"!==n||!o)&&C._data(r,"olddisplay",o?n:C.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[a]||"":"none"));return e}function rt(e,t,n){var r=ze.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function ot(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;i<4;i+=2)"margin"===n&&(a+=C.css(e,n+Qe[i],!0,o)),r?("content"===n&&(a-=C.css(e,"padding"+Qe[i],!0,o)),"margin"!==n&&(a-=C.css(e,"border"+Qe[i]+"Width",!0,o))):(a+=C.css(e,"padding"+Qe[i],!0,o),"padding"!==n&&(a+=C.css(e,"border"+Qe[i]+"Width",!0,o)));return a}function it(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=Be(e),a=C.support.boxSizing&&"border-box"===C.css(e,"boxSizing",!1,i);if(o<=0||null==o){if(((o=Ue(e,t,i))<0||null==o)&&(o=e.style[t]),Ke.test(o))return o;r=a&&(C.support.boxSizingReliable||o===e.style[t]),o=parseFloat(o)||0}return o+ot(e,t,n||(a?"border":"content"),r,i)+"px"}function at(e){var t=l,n=$e[e];return n||("none"!==(n=st(e,t))&&n||((t=((Fe=(Fe||C("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement))[0].contentWindow||Fe[0].contentDocument).document).write("<!doctype html><html><body>"),t.close(),n=st(e,t),Fe.detach()),$e[e]=n),n}function st(e,t){var n=C(t.createElement(e)).appendTo(t.body),r=C.css(n[0],"display");return n.remove(),r}C.fn.extend({css:function(e,t){return C.access(this,(function(e,t,n){var r,o,i={},a=0;if(C.isArray(t)){for(o=Be(e),r=t.length;a<r;a++)i[t[a]]=C.css(e,t[a],!1,o);return i}return void 0!==n?C.style(e,t,n):C.css(e,t)}),e,t,arguments.length>1)},show:function(){return nt(this,!0)},hide:function(){return nt(this)},toggle:function(e){var t="boolean"==typeof e;return this.each((function(){(t?e:tt(this))?C(this).show():C(this).hide()}))}}),C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ue(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:C.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=C.camelCase(t),l=e.style;if(t=C.cssProps[s]||(C.cssProps[s]=et(l,s)),a=C.cssHooks[t]||C.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:l[t];if(!("string"===(i=typeof n)&&(o=qe.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(C.css(e,t)),i="number"),null==n||"number"===i&&isNaN(n)||("number"!==i||C.cssNumber[s]||(n+="px"),C.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{l[t]=n}catch(e){}}},css:function(e,t,n,r){var o,i,a,s=C.camelCase(t);return t=C.cssProps[s]||(C.cssProps[s]=et(e.style,s)),(a=C.cssHooks[t]||C.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ue(e,t,r)),"normal"===i&&t in Ze&&(i=Ze[t]),""===n||n?(o=parseFloat(i),!0===n||C.isNumeric(o)?o||0:i):i},swap:function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=n.apply(e,r||[]),t)e.style[i]=a[i];return o}}),o.getComputedStyle?(Be=function(e){return o.getComputedStyle(e,null)},Ue=function(e,t,n){var r,o,i,a=n||Be(e),s=a?a.getPropertyValue(t)||a[t]:void 0,l=e.style;return a&&(""!==s||C.contains(e.ownerDocument,e)||(s=C.style(e,t)),Ke.test(s)&&Ye.test(t)&&(r=l.width,o=l.minWidth,i=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=a.width,l.width=r,l.minWidth=o,l.maxWidth=i)),s}):l.documentElement.currentStyle&&(Be=function(e){return e.currentStyle},Ue=function(e,t,n){var r,o,i,a=n||Be(e),s=a?a[t]:void 0,l=e.style;return null==s&&l&&l[t]&&(s=l[t]),Ke.test(s)&&!Ve.test(t)&&(r=l.left,(i=(o=e.runtimeStyle)&&o.left)&&(o.left=e.currentStyle.left),l.left="fontSize"===t?"1em":s,s=l.pixelLeft+"px",l.left=r,i&&(o.left=i)),""===s?"auto":s}),C.each(["height","width"],(function(e,t){C.cssHooks[t]={get:function(e,n,r){if(n)return 0===e.offsetWidth&&We.test(C.css(e,"display"))?C.swap(e,Xe,(function(){return it(e,t,r)})):it(e,t,r)},set:function(e,n,r){var o=r&&Be(e);return rt(0,n,r?ot(e,t,r,C.support.boxSizing&&"border-box"===C.css(e,"boxSizing",!1,o),o):0)}}})),C.support.opacity||(C.cssHooks.opacity={get:function(e,t){return He.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,o=C.isNumeric(t)?"alpha(opacity="+100*t+")":"",i=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===C.trim(i.replace(Ge,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=Ge.test(i)?i.replace(Ge,o):i+" "+o)}}),C((function(){C.support.reliableMarginRight||(C.cssHooks.marginRight={get:function(e,t){if(t)return C.swap(e,{display:"inline-block"},Ue,[e,"marginRight"])}}),!C.support.pixelPosition&&C.fn.position&&C.each(["top","left"],(function(e,t){C.cssHooks[t]={get:function(e,n){if(n)return n=Ue(e,t),Ke.test(n)?C(e).position()[t]+"px":n}}}))})),C.expr&&C.expr.filters&&(C.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!C.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||C.css(e,"display"))},C.expr.filters.visible=function(e){return!C.expr.filters.hidden(e)}),C.each({margin:"",padding:"",border:"Width"},(function(e,t){C.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+Qe[r]+t]=i[r]||i[r-2]||i[0];return o}},Ye.test(e)||(C.cssHooks[e+t].set=rt)}));var lt=/%20/g,ut=/\[\]$/,ct=/\r?\n/g,ft=/^(?:submit|button|image|reset|file)$/i,dt=/^(?:input|select|textarea|keygen)/i;function pt(e,t,n,r){var o;if(C.isArray(t))C.each(t,(function(t,o){n||ut.test(e)?r(e,o):pt(e+"["+("object"==typeof o?t:"")+"]",o,n,r)}));else if(n||"object"!==C.type(t))r(e,t);else for(o in t)pt(e+"["+o+"]",t[o],n,r)}C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&dt.test(this.nodeName)&&!ft.test(e)&&(this.checked||!Ee.test(e))})).map((function(e,t){var n=C(this).val();return null==n?null:C.isArray(n)?C.map(n,(function(e){return{name:t.name,value:e.replace(ct,"\r\n")}})):{name:t.name,value:n.replace(ct,"\r\n")}})).get()}}),C.param=function(e,t){var n,r=[],o=function(e,t){t=C.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=C.ajaxSettings&&C.ajaxSettings.traditional),C.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,(function(){o(this.name,this.value)}));else for(n in e)pt(n,e[n],t,o);return r.join("&").replace(lt,"+")},C.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){C.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),C.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var ht,gt,mt=C.now(),vt=/\?/,yt=/#.*$/,bt=/([?&])_=[^&]*/,At=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ct=/^(?:GET|HEAD)$/,It=/^\/\//,_t=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Et=C.fn.load,wt={},St={},Tt="*/".concat("*");try{gt=u.href}catch(e){(gt=l.createElement("a")).href="",gt=gt.href}function kt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(_)||[];if(C.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function xt(e,t,n,r){var o={},i=e===St;function a(s){var l;return o[s]=!0,C.each(e[s]||[],(function(e,s){var u=s(t,n,r);return"string"!=typeof u||i||o[u]?i?!(l=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),l}return a(t.dataTypes[0])||!o["*"]&&a("*")}function Pt(e,t){var n,r,o=C.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((o[r]?e:n||(n={}))[r]=t[r]);return n&&C.extend(!0,e,n),e}ht=_t.exec(gt.toLowerCase())||[],C.fn.load=function(e,t,n){if("string"!=typeof e&&Et)return Et.apply(this,arguments);var r,o,i,a=this,s=e.indexOf(" ");return s>=0&&(r=e.slice(s,e.length),e=e.slice(0,s)),C.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&C.ajax({url:e,type:i,dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?C("<div>").append(C.parseHTML(e)).find(r):e)})).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){C.fn[t]=function(e){return this.on(t,e)}})),C.each(["get","post"],(function(e,t){C[t]=function(e,n,r,o){return C.isFunction(n)&&(o=o||r,r=n,n=void 0),C.ajax({url:e,type:t,dataType:o,data:n,success:r})}})),C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ht[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":o.String,"text html":!0,"text json":C.parseJSON,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Pt(Pt(e,C.ajaxSettings),t):Pt(C.ajaxSettings,e)},ajaxPrefilter:kt(wt),ajaxTransport:kt(St),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,o,i,a,s,l,u,c=C.ajaxSetup({},t),f=c.context||c,d=c.context&&(f.nodeType||f.jquery)?C(f):C.event,p=C.Deferred(),h=C.Callbacks("once memory"),g=c.statusCode||{},m={},v={},y=0,b="canceled",A={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!u)for(u={};t=At.exec(i);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=v[n]=v[n]||e,m[e]=t),this},overrideMimeType:function(e){return y||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)g[t]=[g[t],e[t]];else A.always(e[A.status]);return this},abort:function(e){var t=e||b;return l&&l.abort(t),I(0,t),this}};if(p.promise(A).complete=h.add,A.success=A.done,A.error=A.fail,c.url=((e||c.url||gt)+"").replace(yt,"").replace(It,ht[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=C.trim(c.dataType||"*").toLowerCase().match(_)||[""],null==c.crossDomain&&(n=_t.exec(c.url.toLowerCase()),c.crossDomain=!(!n||n[1]===ht[1]&&n[2]===ht[2]&&(n[3]||("http:"===n[1]?80:443))==(ht[3]||("http:"===ht[1]?80:443)))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=C.param(c.data,c.traditional)),xt(wt,c,t,A),2===y)return A;for(r in(s=c.global)&&0==C.active++&&C.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Ct.test(c.type),o=c.url,c.hasContent||(c.data&&(o=c.url+=(vt.test(o)?"&":"?")+c.data,delete c.data),!1===c.cache&&(c.url=bt.test(o)?o.replace(bt,"$1_="+mt++):o+(vt.test(o)?"&":"?")+"_="+mt++)),c.ifModified&&(C.lastModified[o]&&A.setRequestHeader("If-Modified-Since",C.lastModified[o]),C.etag[o]&&A.setRequestHeader("If-None-Match",C.etag[o])),(c.data&&c.hasContent&&!1!==c.contentType||t.contentType)&&A.setRequestHeader("Content-Type",c.contentType),A.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Tt+"; q=0.01":""):c.accepts["*"]),c.headers)A.setRequestHeader(r,c.headers[r]);if(c.beforeSend&&(!1===c.beforeSend.call(f,A,c)||2===y))return A.abort();for(r in b="abort",{success:1,error:1,complete:1})A[r](c[r]);if(l=xt(St,c,t,A)){A.readyState=1,s&&d.trigger("ajaxSend",[A,c]),c.async&&c.timeout>0&&(a=setTimeout((function(){A.abort("timeout")}),c.timeout));try{y=1,l.send(m,I)}catch(e){if(!(y<2))throw e;I(-1,e)}}else I(-1,"No Transport");function I(e,t,n,r){var u,m,v,b,I,_=t;2!==y&&(y=2,a&&clearTimeout(a),l=void 0,i=r||"",A.readyState=e>0?4:0,n&&(b=function(e,t,n){var r,o,i,a,s=e.contents,l=e.dataTypes,u=e.responseFields;for(a in u)a in n&&(t[u[a]]=n[a]);for(;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in n)i=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){i=a;break}r||(r=a)}i=i||r}if(i)return i!==l[0]&&l.unshift(i),n[i]}(c,A,n)),e>=200&&e<300||304===e?(c.ifModified&&((I=A.getResponseHeader("Last-Modified"))&&(C.lastModified[o]=I),(I=A.getResponseHeader("etag"))&&(C.etag[o]=I)),204===e?(u=!0,_="nocontent"):304===e?(u=!0,_="notmodified"):(_=(u=function(e,t){var n,r,o,i,a={},s=0,l=e.dataTypes.slice(),u=l[0];e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(l[1])for(o in e.converters)a[o.toLowerCase()]=e.converters[o];for(;r=l[++s];)if("*"!==r){if("*"!==u&&u!==r){if(!(o=a[u+" "+r]||a["* "+r]))for(n in a)if((i=n.split(" "))[1]===r&&(o=a[u+" "+i[0]]||a["* "+i[0]])){!0===o?o=a[n]:!0!==a[n]&&(r=i[0],l.splice(s--,0,r));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+u+" to "+r}}}u=r}return{state:"success",data:t}}(c,b)).state,m=u.data,u=!(v=u.error))):(v=_,!e&&_||(_="error",e<0&&(e=0))),A.status=e,A.statusText=(t||_)+"",u?p.resolveWith(f,[m,_,A]):p.rejectWith(f,[A,_,v]),A.statusCode(g),g=void 0,s&&d.trigger(u?"ajaxSuccess":"ajaxError",[A,c,u?m:v]),h.fireWith(f,[A,_]),s&&(d.trigger("ajaxComplete",[A,c]),--C.active||C.event.trigger("ajaxStop")))}return A},getScript:function(e,t){return C.get(e,void 0,t,"script")},getJSON:function(e,t,n){return C.get(e,t,n,"json")}}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)})),C.ajaxTransport("script",(function(e){if(e.crossDomain){var t,n=l.head||C("head")[0]||l.documentElement;return{send:function(r,o){(t=l.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}}));var Ot=[],Lt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ot.pop()||C.expando+"_"+mt++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",(function(e,t,n){var r,i,a,s=!1!==e.jsonp&&(Lt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=C.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Lt,"$1"+r):!1!==e.jsonp&&(e.url+=(vt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||C.error(r+" was not called"),a[0]},e.dataTypes[0]="json",i=o[r],o[r]=function(){a=arguments},n.always((function(){o[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Ot.push(r)),a&&C.isFunction(i)&&i(a[0]),a=i=void 0})),"script"}));var Dt,jt,Rt=0,Mt=o.ActiveXObject&&function(){var e;for(e in Dt)Dt[e](void 0,!0)};function Nt(){try{return new o.XMLHttpRequest}catch(e){}}C.ajaxSettings.xhr=o.ActiveXObject?function(){return!this.isLocal&&Nt()||function(){try{return new o.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:Nt,jt=C.ajaxSettings.xhr(),C.support.cors=!!jt&&"withCredentials"in jt,(jt=C.support.ajax=!!jt)&&C.ajaxTransport((function(e){var t;if(!e.crossDomain||C.support.cors)return{send:function(n,r){var i,a,s=e.xhr();if(e.username?s.open(e.type,e.url,e.async,e.username,e.password):s.open(e.type,e.url,e.async),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");try{for(a in n)s.setRequestHeader(a,n[a])}catch(e){}s.send(e.hasContent&&e.data||null),t=function(n,o){var a,l,u,c;try{if(t&&(o||4===s.readyState))if(t=void 0,i&&(s.onreadystatechange=C.noop,Mt&&delete Dt[i]),o)4!==s.readyState&&s.abort();else{c={},a=s.status,l=s.getAllResponseHeaders(),"string"==typeof s.responseText&&(c.text=s.responseText);try{u=s.statusText}catch(e){u=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=c.text?200:404}}catch(e){o||r(-1,e)}c&&r(a,u,c,l)},e.async?4===s.readyState?setTimeout(t):(i=++Rt,Mt&&(Dt||(Dt={},C(o).unload(Mt)),Dt[i]=t),s.onreadystatechange=t):t()},abort:function(){t&&t(void 0,!0)}}}));var Ft,Bt,Ut=/^(?:toggle|show|hide)$/,Gt=new RegExp("^(?:([+-])=|)("+I+")([a-z%]*)$","i"),Ht=/queueHooks$/,Vt=[function(e,t,n){var r,o,i,a,s,l,u,c,f,d=this,p=e.style,h={},g=[],m=e.nodeType&&tt(e);n.queue||(null==(c=C._queueHooks(e,"fx")).unqueued&&(c.unqueued=0,f=c.empty.fire,c.empty.fire=function(){c.unqueued||f()}),c.unqueued++,d.always((function(){d.always((function(){c.unqueued--,C.queue(e,"fx").length||c.empty.fire()}))})));1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===C.css(e,"display")&&"none"===C.css(e,"float")&&(C.support.inlineBlockNeedsLayout&&"inline"!==at(e.nodeName)?p.zoom=1:p.display="inline-block"));n.overflow&&(p.overflow="hidden",C.support.shrinkWrapBlocks||d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})));for(o in t)if(a=t[o],Ut.exec(a)){if(delete t[o],l=l||"toggle"===a,a===(m?"hide":"show"))continue;g.push(o)}if(i=g.length){"hidden"in(s=C._data(e,"fxshow")||C._data(e,"fxshow",{}))&&(m=s.hidden),l&&(s.hidden=!m),m?C(e).show():d.done((function(){C(e).hide()})),d.done((function(){var t;for(t in C._removeData(e,"fxshow"),h)C.style(e,t,h[t])}));for(o=0;o<i;o++)r=g[o],u=d.createTween(r,m?s[r]:0),h[r]=s[r]||C.style(e,r),r in s||(s[r]=u.start,m&&(u.end=u.start,u.start="width"===r||"height"===r?1:0))}}],Wt={"*":[function(e,t){var n,r,o=this.createTween(e,t),i=Gt.exec(t),a=o.cur(),s=+a||0,l=1,u=20;if(i){if(n=+i[2],"px"!==(r=i[3]||(C.cssNumber[e]?"":"px"))&&s){s=C.css(o.elem,e,!0)||n||1;do{s/=l=l||".5",C.style(o.elem,e,s+r)}while(l!==(l=o.cur()/a)&&1!==l&&--u)}o.unit=r,o.start=s,o.end=i[1]?s+(i[1]+1)*n:n}return o}]};function Yt(){return setTimeout((function(){Ft=void 0})),Ft=C.now()}function zt(e,t,n){var r,o,i=0,a=Vt.length,s=C.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=Ft||Yt(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),i=0,a=u.tweens.length;i<a;i++)u.tweens[i].run(r);return s.notifyWith(e,[u,r,n]),r<1&&a?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ft||Yt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=C.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(!function(e,t){var n,r,o,i,a;for(o in e)if(r=C.camelCase(o),i=t[r],n=e[o],C.isArray(n)&&(i=n[1],n=e[o]=n[0]),o!==r&&(e[r]=n,delete e[o]),(a=C.cssHooks[r])&&"expand"in a)for(o in n=a.expand(n),delete e[r],n)o in e||(e[o]=n[o],t[o]=i);else t[r]=i}(c,u.opts.specialEasing);i<a;i++)if(r=Vt[i].call(u,e,c,u.opts))return r;return function(e,t){C.each(t,(function(t,n){for(var r=(Wt[t]||[]).concat(Wt["*"]),o=0,i=r.length;o<i;o++)if(r[o].call(e,t,n))return}))}(u,c),C.isFunction(u.opts.start)&&u.opts.start.call(e,u),C.fx.timer(C.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function Kt(e,t,n,r,o){return new Kt.prototype.init(e,t,n,r,o)}function qt(e,t){var n,r={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)r["margin"+(n=Qe[o])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function $t(e){return C.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}C.Animation=C.extend(zt,{tweener:function(e,t){C.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,o=e.length;r<o;r++)n=e[r],Wt[n]=Wt[n]||[],Wt[n].unshift(t)},prefilter:function(e,t){t?Vt.unshift(e):Vt.push(e)}}),C.Tween=Kt,Kt.prototype={constructor:Kt,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(C.cssNumber[n]?"":"px")},cur:function(){var e=Kt.propHooks[this.prop];return e&&e.get?e.get(this):Kt.propHooks._default.get(this)},run:function(e){var t,n=Kt.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Kt.propHooks._default.set(this),this}},Kt.prototype.init.prototype=Kt.prototype,Kt.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[C.cssProps[e.prop]]||C.cssHooks[e.prop])?C.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Kt.propHooks.scrollTop=Kt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.each(["toggle","show","hide"],(function(e,t){var n=C.fn[t];C.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(qt(t,!0),e,r,o)}})),C.fn.extend({fadeTo:function(e,t,n,r){return this.filter(tt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=C.isEmptyObject(e),i=C.speed(t,n,r),a=function(){var t=zt(this,C.extend({},e),i);a.finish=function(){t.stop(!0)},(o||C._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",i=C.timers,a=C._data(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&Ht.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||C.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=C._data(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=C.timers,a=r?r.length:0;for(n.finish=!0,C.queue(this,e,[]),o&&o.cur&&o.cur.finish&&o.cur.finish.call(this),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),C.each({slideDown:qt("show"),slideUp:qt("hide"),slideToggle:qt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){C.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),C.speed=function(e,t,n){var r=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||C.isFunction(e)&&e,duration:e,easing:n&&t||t&&!C.isFunction(t)&&t};return r.duration=C.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in C.fx.speeds?C.fx.speeds[r.duration]:C.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){C.isFunction(r.old)&&r.old.call(this),r.queue&&C.dequeue(this,r.queue)},r},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},C.timers=[],C.fx=Kt.prototype.init,C.fx.tick=function(){var e,t=C.timers,n=0;for(Ft=C.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||C.fx.stop(),Ft=void 0},C.fx.timer=function(e){e()&&C.timers.push(e)&&C.fx.start()},C.fx.interval=13,C.fx.start=function(){Bt||(Bt=setInterval(C.fx.tick,C.fx.interval))},C.fx.stop=function(){clearInterval(Bt),Bt=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fx.step={},C.expr&&C.expr.filters&&(C.expr.filters.animated=function(e){return C.grep(C.timers,(function(t){return e===t.elem})).length}),C.fn.offset=function(e){if(arguments.length)return void 0===e?this:this.each((function(t){C.offset.setOffset(this,e,t)}));var t,n,r={top:0,left:0},o=this[0],i=o&&o.ownerDocument;return i?(t=i.documentElement,C.contains(t,o)?(void 0!==o.getBoundingClientRect&&(r=o.getBoundingClientRect()),n=$t(i),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},C.offset={setOffset:function(e,t,n){var r=C.css(e,"position");"static"===r&&(e.style.position="relative");var o,i,a=C(e),s=a.offset(),l=C.css(e,"top"),u=C.css(e,"left"),c={},f={};("absolute"===r||"fixed"===r)&&C.inArray("auto",[l,u])>-1?(o=(f=a.position()).top,i=f.left):(o=parseFloat(l)||0,i=parseFloat(u)||0),C.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(c.top=t.top-s.top+o),null!=t.left&&(c.left=t.left-s.left+i),"using"in t?t.using.call(e,c):a.css(c)}},C.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===C.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),C.nodeName(e[0],"html")||(n=e.offset()),n.top+=C.css(e[0],"borderTopWidth",!0),n.left+=C.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-C.css(r,"marginTop",!0),left:t.left-n.left-C.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||l.documentElement;e&&!C.nodeName(e,"html")&&"static"===C.css(e,"position");)e=e.offsetParent;return e||l.documentElement}))}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n=/Y/.test(t);C.fn[e]=function(r){return C.access(this,(function(e,r,o){var i=$t(e);if(void 0===o)return i?t in i?i[t]:i.document.documentElement[r]:e[r];i?i.scrollTo(n?C(i).scrollLeft():o,n?o:C(i).scrollTop()):e[r]=o}),e,r,arguments.length,null)}})),C.each({Height:"height",Width:"width"},(function(e,t){C.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){C.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return C.access(this,(function(t,n,r){var o;return C.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?C.css(t,n,a):C.style(t,n,r,a)}),t,i?r:void 0,i,null)}}))})),o.jQuery=o.$=C,n(432).jQuery&&(void 0===(r=function(){return C}.apply(t,[]))||(e.exports=r))}(window)},,,,,function(e,t,n){"use strict";var r=Array.isArray;t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){"object"==typeof t&&(t=(r=t).class||r.className||"");var o,i=document.createElement(e);for(o in i.className=t||"",r||{}){var a=r[o];"on"!==o.slice(0,2)?i.setAttribute(o,a):i.addEventListener(o.slice(2),a)}if(typeof n in{string:!0,number:!0})i.innerHTML=n;else if(n)for(var s=function e(t){if(!(t instanceof Array))return[t];for(var n=[],r=0;r<t.length;++r){var o=t[r];o instanceof Array?Array.prototype.push.apply(n,e(o)):n.push(o)}return n}(n),l=0;l<s.length;++l){var u=s[l];i.appendChild(u)}return i}function o(e){var t=e.element;t.parentNode.replaceChild(e.template(),t)}n.r(t),n.d(t,"nominate",(function(){return i})),n.d(t,"createElement",(function(){return r})),n.d(t,"render",(function(){return o}));var i=function(e){return r.bind(null,e)};t.default=r},,,,function(e,t,n){(function(e){e.exports=function(){"use strict";var t,r;function o(){return t.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function u(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function p(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return wt(e,t,n,r,!0).utc()}function g(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=g(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function v(e){var t=h(NaN);return null!=e?p(g(t),e):g(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var y=o.momentProperties=[],b=!1;function A(e,t){var n,r,o;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=g(t)),u(t._locale)||(e._locale=t._locale),y.length>0)for(n=0;n<y.length;n++)u(o=t[r=y[n]])||(e[r]=o);return e}function C(e){A(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,o.updateOffset(this),b=!1)}function I(e){return e instanceof C||null!=e&&null!=e._isAMomentObject}function _(e){!1===o.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return p((function(){if(null!=o.deprecationHandler&&o.deprecationHandler(null,e),n){var r,i,a,l=[];for(i=0;i<arguments.length;i++){if(r="","object"==typeof arguments[i]){for(a in r+="\n["+i+"] ",arguments[0])s(arguments[0],a)&&(r+=a+": "+arguments[0][a]+", ");r=r.slice(0,-2)}else r=arguments[i];l.push(r)}_(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var w,S={};function T(e,t){null!=o.deprecationHandler&&o.deprecationHandler(e,t),S[e]||(_(t),S[e]=!0)}function k(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e,t){var n,r=p({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},p(r[n],e[n]),p(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(r[n]=p({},r[n]));return r}function P(e){null!=e&&this.set(e)}function O(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null,w=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,D=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},R={};function M(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(R[e]=o),t&&(R[t[0]]=function(){return O(o.apply(this,arguments),t[1],t[2])}),n&&(R[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function N(e,t){return e.isValid()?(t=F(t,e.localeData()),j[t]=j[t]||function(e){var t,n,r,o=e.match(L);for(t=0,n=o.length;t<n;t++)R[o[t]]?o[t]=R[o[t]]:o[t]=(r=o[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,i="";for(r=0;r<n;r++)i+=k(o[r])?o[r].call(t,e):o[r];return i}}(t),j[t](e)):e.localeData().invalidDate()}function F(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(D.lastIndex=0;n>=0&&D.test(e);)e=e.replace(D,r),D.lastIndex=0,n-=1;return e}var B={};function U(e,t){var n=e.toLowerCase();B[n]=B[n+"s"]=B[t]=e}function G(e){return"string"==typeof e?B[e]||B[e.toLowerCase()]:void 0}function H(e){var t,n,r={};for(n in e)s(e,n)&&(t=G(n))&&(r[t]=e[n]);return r}var V={};function W(e,t){V[e]=t}function Y(e){return e%4==0&&e%100!=0||e%400==0}function z(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function K(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=z(t)),n}function q(e,t){return function(n){return null!=n?(X(this,e,n),o.updateOffset(this,t),this):$(this,e)}}function $(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function X(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Y(e.year())&&1===e.month()&&29===e.date()?(n=K(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ie(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var Z,Q=/\d/,J=/\d\d/,ee=/\d{3}/,te=/\d{4}/,ne=/[+-]?\d{6}/,re=/\d\d?/,oe=/\d\d\d\d?/,ie=/\d\d\d\d\d\d?/,ae=/\d{1,3}/,se=/\d{1,4}/,le=/[+-]?\d{1,6}/,ue=/\d+/,ce=/[+-]?\d+/,fe=/Z|[+-]\d\d:?\d\d/gi,de=/Z|[+-]\d\d(?::?\d\d)?/gi,pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function he(e,t,n){Z[e]=k(t)?t:function(e,r){return e&&n?n:t}}function ge(e,t){return s(Z,e)?Z[e](t._strict,t._locale):new RegExp(me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,o){return t||n||r||o}))))}function me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Z={};var ve,ye={};function be(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),c(t)&&(r=function(e,n){n[t]=K(e)}),n=0;n<e.length;n++)ye[e[n]]=r}function Ae(e,t){be(e,(function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)}))}function Ce(e,t,n){null!=t&&s(ye,e)&&ye[e](t,n._a,n,e)}function Ie(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?Y(e)?29:28:31-r%7%2}ve=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},M("M",["MM",2],"Mo",(function(){return this.month()+1})),M("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),M("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),U("month","M"),W("month",8),he("M",re),he("MM",re,J),he("MMM",(function(e,t){return t.monthsShortRegex(e)})),he("MMMM",(function(e,t){return t.monthsRegex(e)})),be(["M","MM"],(function(e,t){t[1]=K(e)-1})),be(["MMM","MMMM"],(function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[1]=o:g(n).invalidMonth=e}));var _e="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),we=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Se=pe,Te=pe;function ke(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=ve.call(this._shortMonthsParse,a))?o:null:-1!==(o=ve.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=ve.call(this._shortMonthsParse,a))||-1!==(o=ve.call(this._longMonthsParse,a))?o:null:-1!==(o=ve.call(this._longMonthsParse,a))||-1!==(o=ve.call(this._shortMonthsParse,a))?o:null}function xe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=K(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Pe(e){return null!=e?(xe(this,e),o.updateOffset(this,!0),this):$(this,"Month")}function Oe(){function e(e,t){return t.length-e.length}var t,n,r=[],o=[],i=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),o.sort(e),i.sort(e),t=0;t<12;t++)r[t]=me(r[t]),o[t]=me(o[t]);for(t=0;t<24;t++)i[t]=me(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Le(e){return Y(e)?366:365}M("Y",0,0,(function(){var e=this.year();return e<=9999?O(e,4):"+"+e})),M(0,["YY",2],0,(function(){return this.year()%100})),M(0,["YYYY",4],0,"year"),M(0,["YYYYY",5],0,"year"),M(0,["YYYYYY",6,!0],0,"year"),U("year","y"),W("year",1),he("Y",ce),he("YY",re,J),he("YYYY",se,te),he("YYYYY",le,ne),he("YYYYYY",le,ne),be(["YYYYY","YYYYYY"],0),be("YYYY",(function(e,t){t[0]=2===e.length?o.parseTwoDigitYear(e):K(e)})),be("YY",(function(e,t){t[0]=o.parseTwoDigitYear(e)})),be("Y",(function(e,t){t[0]=parseInt(e,10)})),o.parseTwoDigitYear=function(e){return K(e)+(K(e)>68?1900:2e3)};var De=q("FullYear",!0);function je(e,t,n,r,o,i,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,o,i,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,o,i,a),s}function Re(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Me(e,t,n){var r=7+t-n;return-(7+Re(e,0,r).getUTCDay()-t)%7+r-1}function Ne(e,t,n,r,o){var i,a,s=1+7*(t-1)+(7+n-r)%7+Me(e,r,o);return s<=0?a=Le(i=e-1)+s:s>Le(e)?(i=e+1,a=s-Le(e)):(i=e,a=s),{year:i,dayOfYear:a}}function Fe(e,t,n){var r,o,i=Me(e.year(),t,n),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?r=a+Be(o=e.year()-1,t,n):a>Be(e.year(),t,n)?(r=a-Be(e.year(),t,n),o=e.year()+1):(o=e.year(),r=a),{week:r,year:o}}function Be(e,t,n){var r=Me(e,t,n),o=Me(e+1,t,n);return(Le(e)-r+o)/7}function Ue(e,t){return e.slice(t,7).concat(e.slice(0,t))}M("w",["ww",2],"wo","week"),M("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),W("week",5),W("isoWeek",5),he("w",re),he("ww",re,J),he("W",re),he("WW",re,J),Ae(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=K(e)})),M("d",0,"do","day"),M("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),M("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),M("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),M("e",0,0,"weekday"),M("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),W("day",11),W("weekday",11),W("isoWeekday",11),he("d",re),he("e",re),he("E",re),he("dd",(function(e,t){return t.weekdaysMinRegex(e)})),he("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),he("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ae(["dd","ddd","dddd"],(function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:g(n).invalidWeekday=e})),Ae(["d","e","E"],(function(e,t,n,r){t[r]=K(e)}));var Ge="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),He="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ve="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),We=pe,Ye=pe,ze=pe;function Ke(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=ve.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=ve.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=ve.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=ve.call(this._weekdaysParse,a))||-1!==(o=ve.call(this._shortWeekdaysParse,a))||-1!==(o=ve.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=ve.call(this._shortWeekdaysParse,a))||-1!==(o=ve.call(this._weekdaysParse,a))||-1!==(o=ve.call(this._minWeekdaysParse,a))?o:null:-1!==(o=ve.call(this._minWeekdaysParse,a))||-1!==(o=ve.call(this._weekdaysParse,a))||-1!==(o=ve.call(this._shortWeekdaysParse,a))?o:null}function qe(){function e(e,t){return t.length-e.length}var t,n,r,o,i,a=[],s=[],l=[],u=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=me(this.weekdaysMin(n,"")),o=me(this.weekdaysShort(n,"")),i=me(this.weekdays(n,"")),a.push(r),s.push(o),l.push(i),u.push(r),u.push(o),u.push(i);a.sort(e),s.sort(e),l.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function $e(){return this.hours()%12||12}function Xe(e,t){M(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Ze(e,t){return t._meridiemParse}M("H",["HH",2],0,"hour"),M("h",["hh",2],0,$e),M("k",["kk",2],0,(function(){return this.hours()||24})),M("hmm",0,0,(function(){return""+$e.apply(this)+O(this.minutes(),2)})),M("hmmss",0,0,(function(){return""+$e.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),M("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),M("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),Xe("a",!0),Xe("A",!1),U("hour","h"),W("hour",13),he("a",Ze),he("A",Ze),he("H",re),he("h",re),he("k",re),he("HH",re,J),he("hh",re,J),he("kk",re,J),he("hmm",oe),he("hmmss",ie),he("Hmm",oe),he("Hmmss",ie),be(["H","HH"],3),be(["k","kk"],(function(e,t,n){var r=K(e);t[3]=24===r?0:r})),be(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),be(["h","hh"],(function(e,t,n){t[3]=K(e),g(n).bigHour=!0})),be("hmm",(function(e,t,n){var r=e.length-2;t[3]=K(e.substr(0,r)),t[4]=K(e.substr(r)),g(n).bigHour=!0})),be("hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[3]=K(e.substr(0,r)),t[4]=K(e.substr(r,2)),t[5]=K(e.substr(o)),g(n).bigHour=!0})),be("Hmm",(function(e,t,n){var r=e.length-2;t[3]=K(e.substr(0,r)),t[4]=K(e.substr(r))})),be("Hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[3]=K(e.substr(0,r)),t[4]=K(e.substr(r,2)),t[5]=K(e.substr(o))}));var Qe,Je=q("Hours",!0),et={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:_e,monthsShort:Ee,week:{dow:0,doy:6},weekdays:Ge,weekdaysMin:Ve,weekdaysShort:He,meridiemParse:/[ap]\.?m?\.?/i},tt={},nt={};function rt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function ot(e){return e?e.toLowerCase().replace("_","-"):e}function it(t){var r=null;if(void 0===tt[t]&&void 0!==e&&e&&e.exports)try{r=Qe._abbr,n(439)("./"+t),at(r)}catch(e){tt[t]=null}return tt[t]}function at(e,t){var n;return e&&((n=u(t)?lt(e):st(e,t))?Qe=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Qe._abbr}function st(e,t){if(null!==t){var n,r=et;if(t.abbr=e,null!=tt[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=tt[e]._config;else if(null!=t.parentLocale)if(null!=tt[t.parentLocale])r=tt[t.parentLocale]._config;else{if(null==(n=it(t.parentLocale)))return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return tt[e]=new P(x(r,t)),nt[e]&&nt[e].forEach((function(e){st(e.name,e.config)})),at(e),tt[e]}return delete tt[e],null}function lt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Qe;if(!i(e)){if(t=it(e))return t;e=[e]}return function(e){for(var t,n,r,o,i=0;i<e.length;){for(t=(o=ot(e[i]).split("-")).length,n=(n=ot(e[i+1]))?n.split("-"):null;t>0;){if(r=it(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&rt(o,n)>=t-1)break;t--}i++}return Qe}(e)}function ut(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>Ie(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,g(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),g(e)._overflowWeeks&&-1===t&&(t=7),g(e)._overflowWeekday&&-1===t&&(t=8),g(e).overflow=t),e}var ct=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ft=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ht=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],gt=/^\/?Date\((-?\d+)/i,mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,vt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function yt(e){var t,n,r,o,i,a,s=e._i,l=ct.exec(s)||ft.exec(s);if(l){for(g(e).iso=!0,t=0,n=pt.length;t<n;t++)if(pt[t][1].exec(l[1])){o=pt[t][0],r=!1!==pt[t][2];break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,n=ht.length;t<n;t++)if(ht[t][1].exec(l[3])){i=(l[2]||" ")+ht[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(l[4]){if(!dt.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),_t(e)}else e._isValid=!1}function bt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function At(e){var t,n=mt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(n){if(t=function(e,t,n,r,o,i){var a=[bt(e),Ee.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&a.push(parseInt(i,10)),a}(n[4],n[3],n[2],n[5],n[6],n[7]),!function(e,t,n){return!e||He.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}(n[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return vt[e];if(t)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}(n[8],n[9],n[10]),e._d=Re.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Ct(e,t,n){return null!=e?e:null!=t?t:n}function It(e){var t,n,r,i,a,s=[];if(!e._d){for(r=function(e){var t=new Date(o.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,o,i,a,s,l,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(i=1,a=4,n=Ct(t.GG,e._a[0],Fe(St(),1,4).year),r=Ct(t.W,1),((o=Ct(t.E,1))<1||o>7)&&(l=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,u=Fe(St(),i,a),n=Ct(t.gg,e._a[0],u.year),r=Ct(t.w,u.week),null!=t.d?((o=t.d)<0||o>6)&&(l=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(l=!0)):o=i),r<1||r>Be(n,i,a)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(s=Ne(n,r,o,i,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=Ct(e._a[0],r[0]),(e._dayOfYear>Le(a)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=Re(a,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Re:je).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(g(e).weekdayMismatch=!0)}}function _t(e){if(e._f!==o.ISO_8601)if(e._f!==o.RFC_2822){e._a=[],g(e).empty=!0;var t,n,r,i,a,s,l=""+e._i,u=l.length,c=0;for(r=F(e._f,e._locale).match(L)||[],t=0;t<r.length;t++)i=r[t],(n=(l.match(ge(i,e))||[])[0])&&((a=l.substr(0,l.indexOf(n))).length>0&&g(e).unusedInput.push(a),l=l.slice(l.indexOf(n)+n.length),c+=n.length),R[i]?(n?g(e).empty=!1:g(e).unusedTokens.push(i),Ce(i,n,e)):e._strict&&!n&&g(e).unusedTokens.push(i);g(e).charsLeftOver=u-c,l.length>0&&g(e).unusedInput.push(l),e._a[3]<=12&&!0===g(e).bigHour&&e._a[3]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(s=g(e).era)&&(e._a[0]=e._locale.erasConvertYear(s,e._a[0])),It(e),ut(e)}else At(e);else yt(e)}function Et(e){var t=e._i,n=e._f;return e._locale=e._locale||lt(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),I(t)?new C(ut(t)):(f(t)?e._d=t:i(n)?function(e){var t,n,r,o,i,a,s=!1;if(0===e._f.length)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)i=0,a=!1,t=A({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],_t(t),m(t)&&(a=!0),i+=g(t).charsLeftOver,i+=10*g(t).unusedTokens.length,g(t).score=i,s?i<r&&(r=i,n=t):(null==r||i<r||a)&&(r=i,n=t,a&&(s=!0));p(e,n||t)}(e):n?_t(e):function(e){var t=e._i;u(t)?e._d=new Date(o.now()):f(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=gt.exec(e._i);null===t?(yt(e),!1===e._isValid&&(delete e._isValid,At(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:o.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):i(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),It(e)):a(t)?function(e){if(!e._d){var t=H(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),It(e)}}(e):c(t)?e._d=new Date(t):o.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function wt(e,t,n,r,o){var s,u={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&l(e)||i(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=n,u._i=e,u._f=t,u._strict=r,(s=new C(ut(Et(u))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function St(e,t,n,r){return wt(e,t,n,r,!1)}o.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),o.ISO_8601=function(){},o.RFC_2822=function(){};var Tt=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()})),kt=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()}));function xt(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return St();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Pt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ot(e){var t=H(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,l=t.hour||0,u=t.minute||0,c=t.second||0,f=t.millisecond||0;this._isValid=function(e){var t,n,r=!1;for(t in e)if(s(e,t)&&(-1===ve.call(Pt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Pt.length;++n)if(e[Pt[n]]){if(r)return!1;parseFloat(e[Pt[n]])!==K(e[Pt[n]])&&(r=!0)}return!0}(t),this._milliseconds=+f+1e3*c+6e4*u+1e3*l*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=lt(),this._bubble()}function Lt(e){return e instanceof Ot}function Dt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function jt(e,t){M(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+O(~~(e/60),2)+t+O(~~e%60,2)}))}jt("Z",":"),jt("ZZ",""),he("Z",de),he("ZZ",de),be(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Mt(de,e)}));var Rt=/([\+\-]|\d\d)/gi;function Mt(e,t){var n,r,o=(t||"").match(e);return null===o?null:0===(r=60*(n=((o[o.length-1]||[])+"").match(Rt)||["-",0,0])[1]+K(n[2]))?0:"+"===n[0]?r:-r}function Nt(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(I(e)||f(e)?e.valueOf():St(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),o.updateOffset(n,!1),n):St(e).local()}function Ft(e){return-Math.round(e._d.getTimezoneOffset())}function Bt(){return!!this.isValid()&&this._isUTC&&0===this._offset}o.updateOffset=function(){};var Ut=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Gt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ht(e,t){var n,r,o,i,a,l,u=e,f=null;return Lt(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(u={},t?u[t]=+e:u.milliseconds=+e):(f=Ut.exec(e))?(n="-"===f[1]?-1:1,u={y:0,d:K(f[2])*n,h:K(f[3])*n,m:K(f[4])*n,s:K(f[5])*n,ms:K(Dt(1e3*f[6]))*n}):(f=Gt.exec(e))?(n="-"===f[1]?-1:1,u={y:Vt(f[2],n),M:Vt(f[3],n),w:Vt(f[4],n),d:Vt(f[5],n),h:Vt(f[6],n),m:Vt(f[7],n),s:Vt(f[8],n)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(i=St(u.from),a=St(u.to),o=i.isValid()&&a.isValid()?(a=Nt(a,i),i.isBefore(a)?l=Wt(i,a):((l=Wt(a,i)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(u={}).ms=o.milliseconds,u.M=o.months),r=new Ot(u),Lt(e)&&s(e,"_locale")&&(r._locale=e._locale),Lt(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Vt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Wt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Yt(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),zt(this,Ht(n,r),e),this}}function zt(e,t,n,r){var i=t._milliseconds,a=Dt(t._days),s=Dt(t._months);e.isValid()&&(r=null==r||r,s&&xe(e,$(e,"Month")+s*n),a&&X(e,"Date",$(e,"Date")+a*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&o.updateOffset(e,a||s))}Ht.fn=Ot.prototype,Ht.invalid=function(){return Ht(NaN)};var Kt=Yt(1,"add"),qt=Yt(-1,"subtract");function $t(e){return"string"==typeof e||e instanceof String}function Xt(e){return I(e)||f(e)||$t(e)||c(e)||function(e){var t=i(e),n=!1;return t&&(n=0===e.filter((function(t){return!c(t)&&$t(e)})).length),t&&n}(e)||function(e){var t,n,r=a(e)&&!l(e),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<i.length;t+=1)n=i[t],o=o||s(e,n);return r&&o}(e)||null==e}function Zt(e){var t,n=a(e)&&!l(e),r=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)r=r||s(e,o[t]);return n&&r}function Qt(e,t){if(e.date()<t.date())return-Qt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Jt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=lt(e))&&(this._locale=t),this)}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var en=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function tn(){return this._locale}function nn(e,t){return(e%t+t)%t}function rn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function on(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function an(e,t){return t.erasAbbrRegex(e)}function sn(){var e,t,n=[],r=[],o=[],i=[],a=this.eras();for(e=0,t=a.length;e<t;++e)r.push(me(a[e].name)),n.push(me(a[e].abbr)),o.push(me(a[e].narrow)),i.push(me(a[e].name)),i.push(me(a[e].abbr)),i.push(me(a[e].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function ln(e,t){M(0,[e,e.length],0,t)}function un(e,t,n,r,o){var i;return null==e?Fe(this,r,o).year:(t>(i=Be(e,r,o))&&(t=i),cn.call(this,e,t,n,r,o))}function cn(e,t,n,r,o){var i=Ne(e,t,n,r,o),a=Re(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}M("N",0,0,"eraAbbr"),M("NN",0,0,"eraAbbr"),M("NNN",0,0,"eraAbbr"),M("NNNN",0,0,"eraName"),M("NNNNN",0,0,"eraNarrow"),M("y",["y",1],"yo","eraYear"),M("y",["yy",2],0,"eraYear"),M("y",["yyy",3],0,"eraYear"),M("y",["yyyy",4],0,"eraYear"),he("N",an),he("NN",an),he("NNN",an),he("NNNN",(function(e,t){return t.erasNameRegex(e)})),he("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),be(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?g(n).era=o:g(n).invalidEra=e})),he("y",ue),he("yy",ue),he("yyy",ue),he("yyyy",ue),he("yo",(function(e,t){return t._eraYearOrdinalRegex||ue})),be(["y","yy","yyy","yyyy"],0),be(["yo"],(function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[0]=n._locale.eraYearOrdinalParse(e,o):t[0]=parseInt(e,10)})),M(0,["gg",2],0,(function(){return this.weekYear()%100})),M(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ln("gggg","weekYear"),ln("ggggg","weekYear"),ln("GGGG","isoWeekYear"),ln("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),W("weekYear",1),W("isoWeekYear",1),he("G",ce),he("g",ce),he("GG",re,J),he("gg",re,J),he("GGGG",se,te),he("gggg",se,te),he("GGGGG",le,ne),he("ggggg",le,ne),Ae(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=K(e)})),Ae(["gg","GG"],(function(e,t,n,r){t[r]=o.parseTwoDigitYear(e)})),M("Q",0,"Qo","quarter"),U("quarter","Q"),W("quarter",7),he("Q",Q),be("Q",(function(e,t){t[1]=3*(K(e)-1)})),M("D",["DD",2],"Do","date"),U("date","D"),W("date",9),he("D",re),he("DD",re,J),he("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),be(["D","DD"],2),be("Do",(function(e,t){t[2]=K(e.match(re)[0])}));var fn=q("Date",!0);M("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),W("dayOfYear",4),he("DDD",ae),he("DDDD",ee),be(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=K(e)})),M("m",["mm",2],0,"minute"),U("minute","m"),W("minute",14),he("m",re),he("mm",re,J),be(["m","mm"],4);var dn=q("Minutes",!1);M("s",["ss",2],0,"second"),U("second","s"),W("second",15),he("s",re),he("ss",re,J),be(["s","ss"],5);var pn,hn,gn=q("Seconds",!1);for(M("S",0,0,(function(){return~~(this.millisecond()/100)})),M(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),M(0,["SSS",3],0,"millisecond"),M(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),M(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),M(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),M(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),M(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),M(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),U("millisecond","ms"),W("millisecond",16),he("S",ae,Q),he("SS",ae,J),he("SSS",ae,ee),pn="SSSS";pn.length<=9;pn+="S")he(pn,ue);function mn(e,t){t[6]=K(1e3*("0."+e))}for(pn="S";pn.length<=9;pn+="S")be(pn,mn);hn=q("Milliseconds",!1),M("z",0,0,"zoneAbbr"),M("zz",0,0,"zoneName");var vn=C.prototype;function yn(e){return e}vn.add=Kt,vn.calendar=function(e,t){1===arguments.length&&(arguments[0]?Xt(arguments[0])?(e=arguments[0],t=void 0):Zt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||St(),r=Nt(n,this).startOf("day"),i=o.calendarFormat(this,r)||"sameElse",a=t&&(k(t[i])?t[i].call(this,n):t[i]);return this.format(a||this.localeData().calendar(i,this,St(n)))},vn.clone=function(){return new C(this)},vn.diff=function(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=Nt(e,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),t=G(t)){case"year":i=Qt(this,r)/12;break;case"month":i=Qt(this,r);break;case"quarter":i=Qt(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:z(i)},vn.endOf=function(e){var t,n;if(void 0===(e=G(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?on:rn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-nn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-nn(t,1e3)-1}return this._d.setTime(t),o.updateOffset(this,!0),this},vn.format=function(e){e||(e=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var t=N(this,e);return this.localeData().postformat(t)},vn.from=function(e,t){return this.isValid()&&(I(e)&&e.isValid()||St(e).isValid())?Ht({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},vn.fromNow=function(e){return this.from(St(),e)},vn.to=function(e,t){return this.isValid()&&(I(e)&&e.isValid()||St(e).isValid())?Ht({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},vn.toNow=function(e){return this.to(St(),e)},vn.get=function(e){return k(this[e=G(e)])?this[e]():this},vn.invalidAt=function(){return g(this).overflow},vn.isAfter=function(e,t){var n=I(e)?e:St(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=G(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},vn.isBefore=function(e,t){var n=I(e)?e:St(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=G(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},vn.isBetween=function(e,t,n,r){var o=I(e)?e:St(e),i=I(t)?t:St(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===r[1]?this.isBefore(i,n):!this.isAfter(i,n)))},vn.isSame=function(e,t){var n,r=I(e)?e:St(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=G(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},vn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},vn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},vn.isValid=function(){return m(this)},vn.lang=en,vn.locale=Jt,vn.localeData=tn,vn.max=kt,vn.min=Tt,vn.parsingFlags=function(){return p({},g(this))},vn.set=function(e,t){if("object"==typeof e){var n,r=function(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:V[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=H(e));for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(k(this[e=G(e)]))return this[e](t);return this},vn.startOf=function(e){var t,n;if(void 0===(e=G(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?on:rn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=nn(t,6e4);break;case"second":t=this._d.valueOf(),t-=nn(t,1e3)}return this._d.setTime(t),o.updateOffset(this,!0),this},vn.subtract=qt,vn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},vn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},vn.toDate=function(){return new Date(this.valueOf())},vn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?N(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):k(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",N(n,"Z")):N(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},vn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",o="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=o+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(vn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),vn.toJSON=function(){return this.isValid()?this.toISOString():null},vn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},vn.unix=function(){return Math.floor(this.valueOf()/1e3)},vn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},vn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},vn.eraName=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""},vn.eraNarrow=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""},vn.eraAbbr=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""},vn.eraYear=function(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-o(i[e].since).year())*n+i[e].offset;return this.year()},vn.year=De,vn.isLeapYear=function(){return Y(this.year())},vn.weekYear=function(e){return un.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},vn.isoWeekYear=function(e){return un.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},vn.quarter=vn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},vn.month=Pe,vn.daysInMonth=function(){return Ie(this.year(),this.month())},vn.week=vn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},vn.isoWeek=vn.isoWeeks=function(e){var t=Fe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},vn.weeksInYear=function(){var e=this.localeData()._week;return Be(this.year(),e.dow,e.doy)},vn.weeksInWeekYear=function(){var e=this.localeData()._week;return Be(this.weekYear(),e.dow,e.doy)},vn.isoWeeksInYear=function(){return Be(this.year(),1,4)},vn.isoWeeksInISOWeekYear=function(){return Be(this.isoWeekYear(),1,4)},vn.date=fn,vn.day=vn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},vn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},vn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},vn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},vn.hour=vn.hours=Je,vn.minute=vn.minutes=dn,vn.second=vn.seconds=gn,vn.millisecond=vn.milliseconds=hn,vn.utcOffset=function(e,t,n){var r,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Mt(de,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Ft(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?zt(this,Ht(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Ft(this)},vn.utc=function(e){return this.utcOffset(0,e)},vn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ft(this),"m")),this},vn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Mt(fe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},vn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?St(e).utcOffset():0,(this.utcOffset()-e)%60==0)},vn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},vn.isLocal=function(){return!!this.isValid()&&!this._isUTC},vn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},vn.isUtc=Bt,vn.isUTC=Bt,vn.zoneAbbr=function(){return this._isUTC?"UTC":""},vn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},vn.dates=E("dates accessor is deprecated. Use date instead.",fn),vn.months=E("months accessor is deprecated. Use month instead",Pe),vn.years=E("years accessor is deprecated. Use year instead",De),vn.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),vn.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e,t={};return A(t,this),(t=Et(t))._a?(e=t._isUTC?h(t._a):St(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(r=0;r<o;r++)(n&&e[r]!==t[r]||!n&&K(e[r])!==K(t[r]))&&a++;return a+i}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var bn=P.prototype;function An(e,t,n,r){var o=lt(),i=h().set(r,t);return o[n](i,e)}function Cn(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return An(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=An(e,r,n,"month");return o}function In(e,t,n,r){"boolean"==typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var o,i=lt(),a=e?i._week.dow:0,s=[];if(null!=n)return An(t,(n+a)%7,r,"day");for(o=0;o<7;o++)s[o]=An(t,(o+a)%7,r,"day");return s}bn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return k(r)?r.call(t,n):r},bn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},bn.invalidDate=function(){return this._invalidDate},bn.ordinal=function(e){return this._ordinal.replace("%d",e)},bn.preparse=yn,bn.postformat=yn,bn.relativeTime=function(e,t,n,r){var o=this._relativeTime[n];return k(o)?o(e,t,n,r):o.replace(/%d/i,e)},bn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return k(n)?n(t):n.replace(/%s/i,t)},bn.set=function(e){var t,n;for(n in e)s(e,n)&&(k(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},bn.eras=function(e,t){var n,r,i,a=this._eras||lt("en")._eras;for(n=0,r=a.length;n<r;++n){switch(typeof a[n].since){case"string":i=o(a[n].since).startOf("day"),a[n].since=i.valueOf()}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":i=o(a[n].until).startOf("day").valueOf(),a[n].until=i.valueOf()}}return a},bn.erasParse=function(e,t,n){var r,o,i,a,s,l=this.eras();for(e=e.toUpperCase(),r=0,o=l.length;r<o;++r)if(i=l[r].name.toUpperCase(),a=l[r].abbr.toUpperCase(),s=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return l[r];break;case"NNNN":if(i===e)return l[r];break;case"NNNNN":if(s===e)return l[r]}else if([i,a,s].indexOf(e)>=0)return l[r]},bn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?o(e.since).year():o(e.since).year()+(t-e.offset)*n},bn.erasAbbrRegex=function(e){return s(this,"_erasAbbrRegex")||sn.call(this),e?this._erasAbbrRegex:this._erasRegex},bn.erasNameRegex=function(e){return s(this,"_erasNameRegex")||sn.call(this),e?this._erasNameRegex:this._erasRegex},bn.erasNarrowRegex=function(e){return s(this,"_erasNarrowRegex")||sn.call(this),e?this._erasNarrowRegex:this._erasRegex},bn.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||we).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},bn.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[we.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},bn.monthsParse=function(e,t,n){var r,o,i;if(this._monthsParseExact)return ke.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},bn.monthsRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Oe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Te),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},bn.monthsShortRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Oe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Se),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},bn.week=function(e){return Fe(e,this._week.dow,this._week.doy).week},bn.firstDayOfYear=function(){return this._week.doy},bn.firstDayOfWeek=function(){return this._week.dow},bn.weekdays=function(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ue(n,this._week.dow):e?n[e.day()]:n},bn.weekdaysMin=function(e){return!0===e?Ue(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},bn.weekdaysShort=function(e){return!0===e?Ue(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},bn.weekdaysParse=function(e,t,n){var r,o,i;if(this._weekdaysParseExact)return Ke.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},bn.weekdaysRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=We),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},bn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ye),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},bn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ze),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},bn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},bn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},at("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===K(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),o.lang=E("moment.lang is deprecated. Use moment.locale instead.",at),o.langData=E("moment.langData is deprecated. Use moment.localeData instead.",lt);var _n=Math.abs;function En(e,t,n,r){var o=Ht(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function wn(e){return e<0?Math.floor(e):Math.ceil(e)}function Sn(e){return 4800*e/146097}function Tn(e){return 146097*e/4800}function kn(e){return function(){return this.as(e)}}var xn=kn("ms"),Pn=kn("s"),On=kn("m"),Ln=kn("h"),Dn=kn("d"),jn=kn("w"),Rn=kn("M"),Mn=kn("Q"),Nn=kn("y");function Fn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bn=Fn("milliseconds"),Un=Fn("seconds"),Gn=Fn("minutes"),Hn=Fn("hours"),Vn=Fn("days"),Wn=Fn("months"),Yn=Fn("years"),zn=Math.round,Kn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function qn(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}var $n=Math.abs;function Xn(e){return(e>0)-(e<0)||+e}function Zn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,o,i,a,s,l=$n(this._milliseconds)/1e3,u=$n(this._days),c=$n(this._months),f=this.asSeconds();return f?(e=z(l/60),t=z(e/60),l%=60,e%=60,n=z(c/12),c%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",o=f<0?"-":"",i=Xn(this._months)!==Xn(f)?"-":"",a=Xn(this._days)!==Xn(f)?"-":"",s=Xn(this._milliseconds)!==Xn(f)?"-":"",o+"P"+(n?i+n+"Y":"")+(c?i+c+"M":"")+(u?a+u+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+r+"S":"")):"P0D"}var Qn=Ot.prototype;return Qn.isValid=function(){return this._isValid},Qn.abs=function(){var e=this._data;return this._milliseconds=_n(this._milliseconds),this._days=_n(this._days),this._months=_n(this._months),e.milliseconds=_n(e.milliseconds),e.seconds=_n(e.seconds),e.minutes=_n(e.minutes),e.hours=_n(e.hours),e.months=_n(e.months),e.years=_n(e.years),this},Qn.add=function(e,t){return En(this,e,t,1)},Qn.subtract=function(e,t){return En(this,e,t,-1)},Qn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=G(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Sn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Tn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Qn.asMilliseconds=xn,Qn.asSeconds=Pn,Qn.asMinutes=On,Qn.asHours=Ln,Qn.asDays=Dn,Qn.asWeeks=jn,Qn.asMonths=Rn,Qn.asQuarters=Mn,Qn.asYears=Nn,Qn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*K(this._months/12):NaN},Qn._bubble=function(){var e,t,n,r,o,i=this._milliseconds,a=this._days,s=this._months,l=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*wn(Tn(s)+a),a=0,s=0),l.milliseconds=i%1e3,e=z(i/1e3),l.seconds=e%60,t=z(e/60),l.minutes=t%60,n=z(t/60),l.hours=n%24,a+=z(n/24),o=z(Sn(a)),s+=o,a-=wn(Tn(o)),r=z(s/12),s%=12,l.days=a,l.months=s,l.years=r,this},Qn.clone=function(){return Ht(this)},Qn.get=function(e){return e=G(e),this.isValid()?this[e+"s"]():NaN},Qn.milliseconds=Bn,Qn.seconds=Un,Qn.minutes=Gn,Qn.hours=Hn,Qn.days=Vn,Qn.weeks=function(){return z(this.days()/7)},Qn.months=Wn,Qn.years=Yn,Qn.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,o=!1,i=Kn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(o=e),"object"==typeof t&&(i=Object.assign({},Kn,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),n=this.localeData(),r=function(e,t,n,r){var o=Ht(e).abs(),i=zn(o.as("s")),a=zn(o.as("m")),s=zn(o.as("h")),l=zn(o.as("d")),u=zn(o.as("M")),c=zn(o.as("w")),f=zn(o.as("y")),d=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),(d=d||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f])[2]=t,d[3]=+e>0,d[4]=r,qn.apply(null,d)}(this,!o,i,n),o&&(r=n.pastFuture(+this,r)),n.postformat(r)},Qn.toISOString=Zn,Qn.toString=Zn,Qn.toJSON=Zn,Qn.locale=Jt,Qn.localeData=tn,Qn.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zn),Qn.lang=en,M("X",0,0,"unix"),M("x",0,0,"valueOf"),he("x",ce),he("X",/[+-]?\d+(\.\d{1,3})?/),be("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),be("x",(function(e,t,n){n._d=new Date(K(e))})),
//! moment.js
o.version="2.29.1",t=St,o.fn=vn,o.min=function(){var e=[].slice.call(arguments,0);return xt("isBefore",e)},o.max=function(){var e=[].slice.call(arguments,0);return xt("isAfter",e)},o.now=function(){return Date.now?Date.now():+new Date},o.utc=h,o.unix=function(e){return St(1e3*e)},o.months=function(e,t){return Cn(e,t,"months")},o.isDate=f,o.locale=at,o.invalid=v,o.duration=Ht,o.isMoment=I,o.weekdays=function(e,t,n){return In(e,t,n,"weekdays")},o.parseZone=function(){return St.apply(null,arguments).parseZone()},o.localeData=lt,o.isDuration=Lt,o.monthsShort=function(e,t){return Cn(e,t,"monthsShort")},o.weekdaysMin=function(e,t,n){return In(e,t,n,"weekdaysMin")},o.defineLocale=st,o.updateLocale=function(e,t){if(null!=t){var n,r,o=et;null!=tt[e]&&null!=tt[e].parentLocale?tt[e].set(x(tt[e]._config,t)):(null!=(r=it(e))&&(o=r._config),t=x(o,t),null==r&&(t.abbr=e),(n=new P(t)).parentLocale=tt[e],tt[e]=n),at(e)}else null!=tt[e]&&(null!=tt[e].parentLocale?(tt[e]=tt[e].parentLocale,e===at()&&at(e)):null!=tt[e]&&delete tt[e]);return tt[e]},o.locales=function(){return w(tt)},o.weekdaysShort=function(e,t,n){return In(e,t,n,"weekdaysShort")},o.normalizeUnits=G,o.relativeTimeRounding=function(e){return void 0===e?zn:"function"==typeof e&&(zn=e,!0)},o.relativeTimeThreshold=function(e,t){return void 0!==Kn[e]&&(void 0===t?Kn[e]:(Kn[e]=t,"s"===e&&(Kn.ss=t-1),!0))},o.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},o.prototype=vn,o.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},o}()}).call(this,n(73)(e))},,function(e,t,n){"use strict";var r=n(141),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},,function(e,t,n){"use strict";var r=n(14).a.Symbol;t.a=r},function(e,t,n){"use strict";n.r(t);var r=n(139);t.default=function(e,t,n){var o=null==e?void 0:Object(r.a)(e,t);return void 0===o?n:o}},function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},,function(e,t,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){"use strict";var e=document.querySelectorAll("meta"),t=Array.prototype.slice.call(e),n={};return t.forEach((function(e,t){var r=e.getAttribute("name")||e.getAttribute("property");if(r){var o="bam-override-"+r+"=",i=window.location.href.indexOf(o);if(-1!==i){var a=window.location.href.substr(i+o.length),s=a.indexOf("&");-1!==s&&(a=a.substr(0,s)),n[r]=a}else n[r]=e.getAttribute("content");switch(e.getAttribute("data-type")){case"json":n[r]=JSON.parse(n[r])}}})),n})?r.apply(t,o):r)||(e.exports=i)},,,function(e,t,n){"use strict";var r=n(256),o=n(255);t.a=function(e,t){var n=Object(o.a)(e,t);return Object(r.a)(n)?n:void 0}},function(e,t,n){"use strict";var r=n(16),o=n(248),i=n(249),a=r.a?r.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?Object(o.a)(e):Object(i.a)(e)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,,,,,,function(e,t,n){"use strict";var r=n(101),o=n(103);t.a=function(e){return null!=e&&Object(o.a)(e.length)&&!Object(r.default)(e)}},function(e,t,n){"use strict";var r=n(146),o=n(147),i=n(33);t.a=function(e){return Object(i.a)(e)?Object(r.a)(e):Object(o.a)(e)}},,,function(e,t,n){"use strict";var r=n(155),o=n(71),i=n(156),a=n(157),s=n(158),l=n(25),u=n(55),c=Object(u.a)(r.a),f=Object(u.a)(o.a),d=Object(u.a)(i.a),p=Object(u.a)(a.a),h=Object(u.a)(s.a),g=l.a;(r.a&&"[object DataView]"!=g(new r.a(new ArrayBuffer(1)))||o.a&&"[object Map]"!=g(new o.a)||i.a&&"[object Promise]"!=g(i.a.resolve())||a.a&&"[object Set]"!=g(new a.a)||s.a&&"[object WeakMap]"!=g(new s.a))&&(g=function(e){var t=Object(l.a)(e),n="[object Object]"==t?e.constructor:void 0,r=n?Object(u.a)(n):"";if(r)switch(r){case c:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),t.a=g},,,,,function(e,t,n){"use strict";var r=n(25),o=n(18);t.a=function(e){return"symbol"==typeof e||Object(o.a)(e)&&"[object Symbol]"==Object(r.a)(e)}},function(e,t,n){var r;void 0===(r=function(e){"use strict";e.__esModule=!0,e.extend=i,e.indexOf=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},e.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!r.test(e))return e;return e.replace(n,o)},e.isEmpty=function(e){return!e&&0!==e||!(!l(e)||0!==e.length)},e.createFrame=function(e){var t=i({},e);return t._parent=e,t},e.blockParams=function(e,t){return e.path=t,e},e.appendContextPath=function(e,t){return(e?e+".":"")+t};var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},n=/[&<>"'`=]/g,r=/[&<>"'`=]/;function o(e){return t[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var a=Object.prototype.toString;e.toString=a;var s=function(e){return"function"==typeof e};s(/x/)&&(e.isFunction=s=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)}),e.isFunction=s;var l=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===a.call(e)};e.isArray=l}.apply(t,[t]))||(e.exports=r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(75),a=n(111),s=n(121),l=(r=s)&&r.__esModule?r:{default:r};var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.opts=(0,i.assign)({interval:4e4,enableFetch:!0,enablePolling:!0,path:""},e),n.instance=!1,n.dataCache={},n.dataFetch=null,n.log=n.opts.log||l.default.log,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"init",value:function(){var e=this.instance;return this.opts.enableFetch&&!e&&(this.instance=!0,this.fetch()),this}},{key:"fetch",value:function(){var e=this,t=this.opts,n=(this.parent,t.path),r=t.enablePolling,o=t.interval;this.log("Fetching data from path: "+n);return this.xhr(n,(function(t){e.emit("data-error",t)}),(function(e){return JSON.parse(e)}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.isEqual)(t,e.dataCache)||(e.dataCache=t,e.emit("data",t))})),this.dataFetch=r&&setTimeout(this.fetch.bind(this),o),this}},{key:"xhr",value:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE)try{[i.responseText].concat(r).reduce((function(e,t){return t(e)}))}catch(e){t(e)}},i.open("GET",e,!0),i.send()}},{key:"start",value:function(){var e=this.opts.interval;return this.dataFetch=setTimeout(this.fetch.bind(this),e),this}},{key:"stop",value:function(){return this.dataFetch&&clearTimeout(this.dataFetch),this}},{key:"destroy",value:function(){return this.stop(),this.instance=!1,this.dataCache={},this.dataFetch=null,this}}]),t}(a.EventEmitter);t.default=u,e.exports=t.default},function(e,t,n){var r=n(326),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){var n=Array.isArray;e.exports=n},,,,,,function(e,t,n){"use strict";var r=n(24),o=Object(r.a)(Object,"create");t.a=o},function(e,t,n){"use strict";var r=n(118),o=n(188);t.a=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?Object(o.a)(n,u,c):Object(r.a)(n,u,c)}return n}},function(e,t,n){"use strict";(function(e){var r=n(141),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.a.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();t.a=s}).call(this,n(196)(e))},function(e,t,n){"use strict";var r=Function.prototype.toString;t.a=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},,,,,function(e,t,n){"use strict";var r=n(262),o=n(263),i=n(264),a=n(265),s=n(266);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r.a,l.prototype.delete=o.a,l.prototype.get=i.a,l.prototype.has=a.a,l.prototype.set=s.a,t.a=l},function(e,t,n){"use strict";var r=n(63);t.a=function(e,t){for(var n=e.length;n--;)if(Object(r.a)(e[n][0],t))return n;return-1}},function(e,t,n){"use strict";t.a=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(268);t.a=function(e,t){var n=e.__data__;return Object(r.a)(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){"use strict";var r=n(42);t.a=function(e){if("string"==typeof e||Object(r.a)(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){"use strict";t.a=function(e){return function(t){return e(t)}}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){"use strict";var r=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,n){"use strict";t.a=function(e){return e}},,function(e,t,n){"use strict";var r=n(24),o=n(14),i=Object(r.a)(o.a,"Map");t.a=i},function(e,t,n){"use strict";var r=n(61),o=n(280),i=n(281),a=n(282),s=n(283),l=n(284);function u(e){var t=this.__data__=new r.a(e);this.size=t.size}u.prototype.clear=o.a,u.prototype.delete=i.a,u.prototype.get=a.a,u.prototype.has=s.a,u.prototype.set=l.a,t.a=u},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(75),i=n(111),a=u(n(317)),s=n(121),l=u(s);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default;c(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(r.opts=(0,o.assign)({container:void 0,i18n:"en",log:new s.Log},e),!(r.opts.log instanceof Function)){var i=new TypeError("opts.log must be a function.");throw l.default.trace(i),i}var u=r.implementations=(0,o.assign)({},n);return r.model=new u.Model(r.opts),r.viewModel=new u.ViewModel(r.opts,u),r.eventTower=new u.EventTower(r),r.log=r.opts.log,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"init",value:function(){return this.log("Initiate G5Component instance."),this.hasInstance()||(this.viewModel.init(),this.model.init(),this.emit("ready",this)),this}},{key:"detachEvents",value:function(){return this.log("Detaching events..."),this.eventTower.detachEvents(),this}},{key:"attachEvents",value:function(){return this.log("Attaching events..."),this.eventTower.attachEvents(),this}},{key:"hasInstance",value:function(){return this.viewModel.hasInstance()}},{key:"destroy",value:function(){return this.log("Destroying G5Component instance."),this.emit("destroy",this),this.detachEvents(),this.model.destroy(),this.viewModel.destroy(),this}}]),t}(i.EventEmitter);t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assign=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=[].concat(n),i=0;i<o.length;++i){var a=o[i];if(a)for(var s=Object.keys(a),l=0;l<s.length;++l){var u=s[l];e[u]=a[u]}}return e},t.isEqual=function(e,t){return e===t||JSON.stringify(e)===JSON.stringify(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(75),i=l(n(121)),a=n(111),s=l(n(317));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default;u(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.opts=(0,o.assign)({css:"g5-component"},e),r.container=r.opts.container,r.dataCache={},r.instance=!1,r.active=!1,r.bound=!1,r.component=n.component(r),r.template=n.template,r.helpers=n.helpers,r.partials=n.partials,r.extender=n.extender,r.Handlebars=n.Handlebars,r.log=r.opts.log||i.default.log,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"init",value:function(){if(!this.container)throw Error("G5Component needs to be instantiated with a container");if(!this.container.nodeType)throw Error("Container must be a valid DOM Node");return this.instance||(this.instance=!0,this.active=!0,this.addClass(),this.addG5Attributes(),this.registerHelpers(),this.registerPartials()),this}},{key:"addClass",value:function(){var e=this.opts,t=e.css,n=e.i18n;return this.container.className+=" "+t,this.container.className+=" g5-component--is-"+n||!1,this.active&&(this.container.className+=" g5-component--is-visible"),this}},{key:"addG5Attributes",value:function(){return this.container.setAttribute("data-g5-component-instance",this.instance),this.container.setAttribute("data-g5-component-bound",this.bound),this}},{key:"registerHelpers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.helpers;this.register("Helper",e)}},{key:"registerPartials",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.partials;this.register("Partial",e)}},{key:"register",value:function(e,t){var n=this.Handlebars;if(!n)return this;for(var r=Object.keys(t),o=0;o<r.length;++o){var i=r[o],a=t[i];n["register"+e](i,a)}return this}},{key:"bindComponent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e=this.extender(e,this.opts),!(0,o.isEqual)(e,this.dataCache)){this.dataCache=e;var t=this.template(e);"function"==typeof HTMLElement&&t instanceof HTMLElement?(this.container.innerHTML="",this.container.appendChild(t)):this.container.innerHTML=t,this.bound=!1}return this.bound||(this.bound=!0,this.addG5Attributes(),this.component.init(this.dataCache)),this}},{key:"onDataError",value:function(e){var t=this.container.classList;return i.default.trace(e),t.contains("g5-component--is-error")||this.container.classList.add("g5-component--is-error"),this}},{key:"hasInstance",value:function(){return!!this.container&&!!this.container.getAttribute("data-g5-component-instance")}},{key:"destroy",value:function(){return this.component.destroy(),this.instance=!1,this.active=!1,this.bound=!1,this.dataCache={},this.component=null,this.template=null,this.helpers=null,this.partials=null,this.extender=null,this.container.innerHTML="",this.container=null,this}}]),t}(a.EventEmitter);t.default=f,e.exports=t.default},,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(118),o=n(53),i=n(194),a=n(186);var s=function(e){return Object(i.a)((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,s&&Object(a.a)(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t}))},l=n(33),u=n(68),c=n(34),f=Object.prototype.hasOwnProperty,d=s((function(e,t){if(Object(u.a)(t)||Object(l.a)(t))Object(o.a)(t,Object(c.a)(t),e);else for(var n in t)f.call(t,n)&&Object(r.a)(e,n,t[n])}));t.default=d},function(e,t,n){"use strict";var r=n(253),o=n(267),i=n(269),a=n(270),s=n(271);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r.a,l.prototype.delete=o.a,l.prototype.get=i.a,l.prototype.has=a.a,l.prototype.set=s.a,t.a=l},function(e,t,n){"use strict";var r=n(274);t.a=function(e){var t=Object(r.a)(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){"use strict";(function(e){var r=n(14),o=n(279),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.a.Buffer:void 0,l=(s?s.isBuffer:void 0)||o.a;t.a=l}).call(this,n(196)(e))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=function(e){return e.component=r.default,e.template=o.default,e.helpers=i.default,e.partials=a.default,e.extender=s.default,e.Model=l.default,e.ViewModel=u.default,e.EventTower=c.default,e.eventGroup=f.default,e.eventGroupExtender=d.default,e.Handlebars=p.default,e};var r=h(n(318)),o=h(n(499)),i=h(n(514)),a=h(n(515)),s=h(n(516)),l=h(n(44)),u=h(n(76)),c=h(n(122)),f=h(n(123)),d=h(n(517)),p=h(n(518));function h(e){return e&&e.__esModule?e:{default:e}}t.default={component:r.default,template:o.default,helpers:i.default,partials:a.default,extender:s.default,Model:l.default,ViewModel:u.default,EventTower:c.default,eventGroup:f.default,eventGroupExtender:d.default,Handlebars:p.default}},function(e,t,n){var r;void 0===(r=function(e,t){"use strict";var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(e,t){var o=t&&t.loc,i=void 0,a=void 0,s=void 0,l=void 0;o&&(i=o.start.line,a=o.end.line,s=o.start.column,l=o.end.column,e+=" - "+i+":"+s);for(var u=Error.prototype.constructor.call(this,e),c=0;c<n.length;c++)this[n[c]]=u[n[c]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{o&&(this.lineNumber=i,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:s,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=s,this.endColumn=l))}catch(e){}}r.prototype=new Error,t.exports=r}.apply(t,[t,e]))||(e.exports=r)},function(e,t,n){var r=n(578),o=n(583);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(25),o=n(19);t.default=function(e){if(!Object(o.a)(e))return!1;var t=Object(r.a)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){"use strict";var r=n(7),o=n(42),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.a=function(e,t){if(Object(r.a)(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Object(o.a)(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,n){"use strict";t.a=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){"use strict";var r=/^(?:0|[1-9]\d*)$/;t.a=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){"use strict";var r=n(278),o=n(18);t.a=function e(t,n,i,a,s){return t===n||(null==t||null==n||!Object(o.a)(t)&&!Object(o.a)(n)?t!=t&&n!=n:Object(r.a)(t,n,i,a,e,s))}},function(e,t,n){"use strict";var r=n(187),o=n(18),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=Object(r.a)(function(){return arguments}())?r.a:function(e){return Object(o.a)(e)&&a.call(e,"callee")&&!s.call(e,"callee")};t.a=l},function(e,t,n){"use strict";var r=n(108),o=n(149),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),Object(r.a)(a(e),(function(t){return i.call(e,t)})))}:o.a;t.a=s},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t,n){"use strict";var r=n(14).a.Uint8Array;t.a=r},function(e,t,n){var r,o,i;o=[n(496),n(497)],void 0===(i="function"==typeof(r=function(e,t){"use strict";var n,r=!1,o={recalculate:function(t,o,i){t=t||e.serverTime,o=o||e.flipTime||"11:00",i=i||e.flipTimeZoneOffset||"-0400";var a=new Date(t);isNaN(a)&&(a=new Date);var s=+(o=o.replace(":","")).slice(0,-2),l=+o.slice(-2);isNaN(s)&&(s=11),isNaN(l)&&(l=0);var u=60*s+l,c=+(i=i.replace(":","")).slice(0,-2)||0,f=+i.slice(-2)||0;isNaN(c)&&(c=-4),isNaN(f)&&(f=0);var d=60*(60*c+f)*1e3,p=new Date(a.getTime()+d),h=p.getUTCHours(),g=p.getUTCMinutes();n=60*h+g<u?new Date(p.getTime()-864e5):p,r=!0},getOffset:function(e){var i;return r||o.recalculate(),(i=0!==e?new Date(n.getTime()+864e5*e):n).getUTCFullYear()+"/"+t(i.getUTCMonth()+1)+"/"+t(i.getUTCDate())},today:function(){return o.getOffset(0)},tomorrow:function(){return o.getOffset(1)},yesterday:function(){return o.getOffset(-1)}};return o})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}v(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,o,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var o,i,a,s;if(u(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=c(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function h(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):m(o,o.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var u=l.length,c=m(l,u);for(n=0;n<u;++n)i(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";n.r(t);var r=n(105);t.default=function(e,t){return Object(r.a)(e,t)}},function(e,t,n){var r=n(126),o=n(579),i=n(580),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),l=r[n];n<i;l=r[++n])g(l)||!A(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),c(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&_(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return v(o)||(o=c(e,o,r)),o}var i=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(m(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),I(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(_(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return e.stylize(Date.prototype.toString.call(n),"date");if(I(n))return f(n)}var u,A="",E=!1,w=["{","}"];(p(n)&&(E=!0,w=["[","]"]),_(n))&&(A=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(A=" "+RegExp.prototype.toString.call(n)),C(n)&&(A=" "+Date.prototype.toUTCString.call(n)),I(n)&&(A=" "+f(n)),0!==a.length||E&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=E?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)k(t,String(a))?i.push(d(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(d(e,t,n,r,o,!0))})),i}(e,n,r,s,a):a.map((function(t){return d(e,n,r,s,t,E)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,A,w)):w[0]+A+w[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,o,i){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),k(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(l.value)<0?(s=g(n)?c(e,l.value,null):c(e,l.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return A(e)&&"[object RegExp]"===E(e)}function A(e){return"object"==typeof e&&null!==e}function C(e){return A(e)&&"[object Date]"===E(e)}function I(e){return A(e)&&("[object Error]"===E(e)||e instanceof Error)}function _(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function w(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=h,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=A,t.isDate=C,t.isError=I,t.isFunction=_,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(630);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var e=new Date,t=[w(e.getHours()),w(e.getMinutes()),w(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=n(631),t._extend=function(e,t){if(!t||!A(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var x="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(x&&e[x]){var t;if("function"!=typeof(t=e[x]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),x&&Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=x,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(P,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(306))},,,function(e,t,n){"use strict";var r=n(145),o=n(107),i=n(34);t.a=function(e){return Object(r.a)(e,i.a,o.a)}},function(e,t,n){"use strict";var r=n(188),o=n(63),i=Object.prototype.hasOwnProperty;t.a=function(e,t,n){var a=e[t];i.call(e,t)&&Object(o.a)(a,n)&&(void 0!==n||t in e)||Object(r.a)(e,t,n)}},function(e,t,n){"use strict";t.a=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){"use strict";var r=n(24),o=function(){try{var e=Object(r.a)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.a=o},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){this.store=[];var e=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.log.apply(i,[this].concat(t))}.bind(this);return e.store=this.store,Object.setPrototypeOf(e,o.prototype),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Log=o,o.prototype=Object.create(Function.prototype),o.prototype.toConsole=function(){for(var e=0;e<this.store.length;++e){var t;(t=console).log.apply(t,r(this.store[e]))}};var i={months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],log:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var o=0;o<t.length;++o)if(t[o]instanceof Error)return i.trace.apply(i,r(t));i.sink(t)},trace:function(){var e=((new Error).stack||"").split("\n");e.shift(),e[0]="";for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.push(e.join("\n")),i.sink(n)},sink:function(e){var t=i.timestamp()+" - g5-component :";if(e[0]instanceof o){var n=[t].concat(e.slice(1));e[0].store.push(n)}else{var a;(a=console).log.apply(a,[t].concat(r(e)))}},pad:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.toString(10);n.length<t;)n="0"+n;return n},timestamp:function(){var e=i.pad,t=i.months,n=new Date,r=[e(n.getHours()),e(n.getMinutes()),e(n.getSeconds())].join(":")+"."+e(n.getMilliseconds(),3);return[n.getDate(),t[n.getMonth()],r].join(" ")}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(121),a=((r=i)&&r.__esModule,n(111));function s(e){e instanceof a.EventEmitter&&e.removeAllListeners()}var l=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.master=t,this.model=t&&t.model||{},this.viewModel=t&&t.viewModel||{},this.implementations=t.implementations,[this.master,this.model,this.viewModel].filter((function(e){return e instanceof a.EventEmitter})).length>=3)this.master.hasInstance()||this.attachEvents();else if(this.master)throw Error("EventEmitter is required on all main Constructors")}return o(e,[{key:"attachEvents",value:function(){var e=this.master,t=this.model,n=this.viewModel,r=this.implementations;return r.eventGroup(e,t,n),r.eventGroupExtender(e,t,n),this}},{key:"detachEvents",value:function(){return[this.master,this.model,this.viewModel].forEach(s),this}}]),e}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.on("synthetic-data",(function(t){e.emit("data",t),n.emit("data",t)})),e.on("start",(function(){t.emit("start")})),e.on("stop",(function(){t.emit("stop")})),t.on("data",(function(t){e.emit("data",t),n.emit("data",t)})),t.on("data-error",(function(t){e.emit("data-error",t),n.emit("data-error",t)})),t.on("start",(function(){t.start()})),t.on("stop",(function(){t.stop()})),n.on("data",(function(e){n.bindComponent(e)})),n.on("data-error",(function(e){n.onDataError(e)}))},e.exports=t.default},,function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(45).Symbol;e.exports=r},function(e,t,n){var r=n(200),o=n(204);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=void 0;!function(){n.i18n_dictionary=n.i18n_dictionary||{};var e=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dictionary=t}return r(e,[{key:"__",value:function(e,t){return this.dictionary[e]?this.dictionary[e]:t||""}}]),e}();o=new e(n.i18n_dictionary)}();var i={ifOr:function(e,t,n){return e||t?n.fn(this):n.inverse(this)},ifAnd:function(e,t,n){return e&&t?n.fn(this):n.inverse(this)},withItem:function(e,t){return t.fn(e[t.hash.key])},concat:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.pop(),t.join("")},i18n:function(e,t){return o.__(e,t)},equals:function(e,t,n){return e===t?n.fn(this):n.inverse(this)},isLess:function(e,t,n){return e&&e<t?n.fn(this):n.inverse(this)},json:function(e){return JSON.stringify(e)},truncate:function(e,t){if(e.length<t)return e;var n=e.substr(0,t).split(" "),r=n.slice(0,n.length-1);return(r=r.join(" "))+"..."}};t.default=i,e.exports=t.default}).call(this,n(26))},,,,,,,,,,,function(e,t,n){"use strict";var r=n(140),o=n(65);t.a=function(e,t){for(var n=0,i=(t=Object(r.a)(t,e)).length;null!=e&&n<i;)e=e[Object(o.a)(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){"use strict";var r=n(7),o=n(102),i=n(250),a=n(272);t.a=function(e,t){return Object(r.a)(e)?e:Object(o.a)(e,t)?[e]:Object(i.a)(Object(a.a)(e))}},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(26))},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){"use strict";var r=n(285),o=n(66),i=n(54),a=i.a&&i.a.isTypedArray,s=a?Object(o.a)(a):r.a;t.a=s},function(e,t,n){"use strict";var r=n(286),o=n(289),i=n(290);t.a=function(e,t,n,a,s,l){var u=1&n,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var d=l.get(e),p=l.get(t);if(d&&p)return d==t&&p==e;var h=-1,g=!0,m=2&n?new r.a:void 0;for(l.set(e,t),l.set(t,e);++h<c;){var v=e[h],y=t[h];if(a)var b=u?a(y,v,h,t,e,l):a(v,y,h,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!Object(o.a)(t,(function(e,t){if(!Object(i.a)(m,t)&&(v===e||s(v,e,n,a,l)))return m.push(t)}))){g=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},function(e,t,n){"use strict";var r=n(67),o=n(7);t.a=function(e,t,n){var i=t(e);return Object(o.a)(e)?i:Object(r.a)(i,n(e))}},function(e,t,n){"use strict";var r=n(295),o=n(106),i=n(7),a=n(86),s=n(104),l=n(143),u=Object.prototype.hasOwnProperty;t.a=function(e,t){var n=Object(i.a)(e),c=!n&&Object(o.a)(e),f=!n&&!c&&Object(a.a)(e),d=!n&&!c&&!f&&Object(l.a)(e),p=n||c||f||d,h=p?Object(r.a)(e.length,String):[],g=h.length;for(var m in e)!t&&!u.call(e,m)||p&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||Object(s.a)(m,g))||h.push(m);return h}},function(e,t,n){"use strict";var r=n(68),o=n(296),i=Object.prototype.hasOwnProperty;t.a=function(e){if(!Object(r.a)(e))return Object(o.a)(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";t.a=function(){return[]}},function(e,t,n){"use strict";t.a=function(e){return function(t){return null==t?void 0:t[e]}}},,,,function(e,t,n){"use strict";var r=n(14).a["__core-js_shared__"];t.a=r},function(e,t,n){"use strict";var r=n(24),o=n(14),i=Object(r.a)(o.a,"DataView");t.a=i},function(e,t,n){"use strict";var r=n(24),o=n(14),i=Object(r.a)(o.a,"Promise");t.a=i},function(e,t,n){"use strict";var r=n(24),o=n(14),i=Object(r.a)(o.a,"Set");t.a=i},function(e,t,n){"use strict";var r=n(24),o=n(14),i=Object(r.a)(o.a,"WeakMap");t.a=i},function(e,t,n){var r=n(568),o=n(569),i=n(570),a=n(571),s=n(572);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(125);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(90)(Object,"create");e.exports=r},function(e,t,n){var r=n(592);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(605),o=n(91),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=window.adobeAnalytics,n=r.default.page_name||"",i=void 0,s=void 0,l=void 0,u=void 0,c=void 0,f=void 0,d=void 0;e&&(e.url&&(u=e.url),e.component&&(c=e.component),e.location&&(f=e.location),e.returnWholeUrl&&(d=!0));t&&(s=t.eVar34?t.eVar34:t.prop15?t.prop15.substr(0,t.prop15.indexOf(":")):"unknown",l=t.eVar35?t.eVar35:t.prop15?t.prop15.substr(t.prop15.indexOf(":")+2,t.prop15.length):"unknown",i=t.pageName?t.pageName:n);var p=[r.default.page_name||"unknown",r.default.page_section||"unknown",i||"na",c||"na",f||"x0",s||"unknown",l||"unknown"].map((function(e){return e.replace(/(\s|-)/g,"_")||"na"})).join("-");if(u&&d)return(0,o.default)(u,a(u,p));if(u)return a(u,p);return p};var r=i(n(21)),o=i(n(785));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=!/^https?:\/\//.test(e)||/.mlb.com/.test(e.replace(/^(https?:)?\/\//,"").split("/")[0]);return(n?"affiliateId":"tfl")+"="+(n?"tdl-":"")+t}e.exports=t.default},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(254),o=n(258),i=n(259),a=n(260),s=n(261);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r.a,l.prototype.delete=o.a,l.prototype.get=i.a,l.prototype.has=a.a,l.prototype.set=s.a,t.a=l},function(e,t,n){"use strict";var r=n(63),o=n(33),i=n(104),a=n(19);t.a=function(e,t,n){if(!Object(a.a)(n))return!1;var s=typeof t;return!!("number"==s?Object(o.a)(n)&&Object(i.a)(t,n.length):"string"==s&&t in n)&&Object(r.a)(n[t],e)}},function(e,t,n){"use strict";var r=n(25),o=n(18);t.a=function(e){return Object(o.a)(e)&&"[object Arguments]"==Object(r.a)(e)}},function(e,t,n){"use strict";var r=n(120);t.a=function(e,t,n){"__proto__"==t&&r.a?Object(r.a)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){"use strict";var r=n(19),o=Object.create,i=function(){function e(){}return function(t){if(!Object(r.a)(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();t.a=i},function(e,t,n){"use strict";var r=n(53),o=n(34);t.a=function(e,t){return e&&Object(r.a)(t,Object(o.a)(t),e)}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},,function(e,t,n){"use strict";var r=n(72),o=n(191),i=n(118),a=n(190),s=n(53),l=n(146),u=n(19),c=n(68);var f=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},d=Object.prototype.hasOwnProperty;var p=function(e){if(!Object(u.a)(e))return f(e);var t=Object(c.a)(e),n=[];for(var r in e)("constructor"!=r||!t&&d.call(e,r))&&n.push(r);return n},h=n(33);var g=function(e){return Object(h.a)(e)?Object(l.a)(e,!0):p(e)};var m=function(e,t){return e&&Object(s.a)(t,g(t),e)},v=n(413),y=n(119),b=n(107);var A=function(e,t){return Object(s.a)(e,Object(b.a)(e),t)},C=n(67),I=n(148),_=Object(I.a)(Object.getPrototypeOf,Object),E=n(149),w=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Object(C.a)(t,Object(b.a)(e)),e=_(e);return t}:E.a;var S=function(e,t){return Object(s.a)(e,w(e),t)},T=n(117),k=n(145);var x=function(e){return Object(k.a)(e,g,w)},P=n(37),O=Object.prototype.hasOwnProperty;var L=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&O.call(e,"index")&&(n.index=e.index,n.input=e.input),n},D=n(109);var j=function(e){var t=new e.constructor(e.byteLength);return new D.a(t).set(new D.a(e)),t};var R=function(e,t){var n=t?j(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},M=/\w*$/;var N=function(e){var t=new e.constructor(e.source,M.exec(e));return t.lastIndex=e.lastIndex,t},F=n(16),B=F.a?F.a.prototype:void 0,U=B?B.valueOf:void 0;var G=function(e){return U?Object(U.call(e)):{}};var H=function(e,t){var n=t?j(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var V=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return j(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return R(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return H(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return N(e);case"[object Set]":return new r;case"[object Symbol]":return G(e)}},W=n(189);var Y=function(e){return"function"!=typeof e.constructor||Object(c.a)(e)?{}:Object(W.a)(_(e))},z=n(7),K=n(86),q=n(18);var $=function(e){return Object(q.a)(e)&&"[object Map]"==Object(P.a)(e)},X=n(66),Z=n(54),Q=Z.a&&Z.a.isMap,J=Q?Object(X.a)(Q):$;var ee=function(e){return Object(q.a)(e)&&"[object Set]"==Object(P.a)(e)},te=Z.a&&Z.a.isSet,ne=te?Object(X.a)(te):ee,re=n(34),oe={};oe["[object Arguments]"]=oe["[object Array]"]=oe["[object ArrayBuffer]"]=oe["[object DataView]"]=oe["[object Boolean]"]=oe["[object Date]"]=oe["[object Float32Array]"]=oe["[object Float64Array]"]=oe["[object Int8Array]"]=oe["[object Int16Array]"]=oe["[object Int32Array]"]=oe["[object Map]"]=oe["[object Number]"]=oe["[object Object]"]=oe["[object RegExp]"]=oe["[object Set]"]=oe["[object String]"]=oe["[object Symbol]"]=oe["[object Uint8Array]"]=oe["[object Uint8ClampedArray]"]=oe["[object Uint16Array]"]=oe["[object Uint32Array]"]=!0,oe["[object Error]"]=oe["[object Function]"]=oe["[object WeakMap]"]=!1;t.a=function e(t,n,s,l,c,f){var d,p=1&n,h=2&n,b=4&n;if(s&&(d=c?s(t,l,c,f):s(t)),void 0!==d)return d;if(!Object(u.a)(t))return t;var C=Object(z.a)(t);if(C){if(d=L(t),!p)return Object(y.a)(t,d)}else{var I=Object(P.a)(t),_="[object Function]"==I||"[object GeneratorFunction]"==I;if(Object(K.a)(t))return Object(v.a)(t,p);if("[object Object]"==I||"[object Arguments]"==I||_&&!c){if(d=h||_?{}:Y(t),!p)return h?S(t,m(d,t)):A(t,Object(a.a)(d,t))}else{if(!oe[I])return c?t:{};d=V(t,I,p)}}f||(f=new r.a);var E=f.get(t);if(E)return E;f.set(t,d),ne(t)?t.forEach((function(r){d.add(e(r,n,s,r,t,f))})):J(t)&&t.forEach((function(r,o){d.set(o,e(r,n,s,o,t,f))}));var w=b?h?x:T.a:h?g:re.a,k=C?void 0:w(t);return Object(o.a)(k||t,(function(r,o){k&&(r=t[o=r]),Object(i.a)(d,o,e(r,n,s,o,t,f))})),d}},function(e,t,n){"use strict";var r=n(69);var o=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},i=Math.max;var a=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=i(r.length-t,0),l=Array(s);++a<s;)l[a]=r[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=r[a];return u[t]=n(l),o(e,this,u)}};var s=function(e){return function(){return e}},l=n(120),u=l.a?function(e,t){return Object(l.a)(e,"toString",{configurable:!0,enumerable:!1,value:s(t),writable:!0})}:r.a,c=Date.now;var f=function(e){var t=0,n=0;return function(){var r=c(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(u);t.a=function(e,t){return f(a(e,t,r.a),e+"")}},,function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var r=n(565);e.exports=r},function(e,t,n){var r=n(159),o=n(573),i=n(574),a=n(575),s=n(576),l=n(577);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},function(e,t,n){var r=n(90)(n(45),"Map");e.exports=r},function(e,t,n){var r=n(113),o=n(56);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(584),o=n(591),i=n(593),a=n(594),s=n(595);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(329);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){(function(e){var r=n(45),o=n(607),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l}).call(this,n(73)(e))},function(e,t,n){var r=n(609),o=n(610),i=n(611),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(){l(this,e)}return i(e,null,[{key:"validateArgs",value:function(e,t,n,r){if(t.length!==n.length)throw new Error("expectedTypesArr, and argNamesArr must be the same length");if(e.length>t.length)throw new Error("this function takes "+t.length+" args, but you passed "+e.length+".");for(var i=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=0;c<n.length;++c){if(u=t[c],a=c>=e.length?void 0:e[c],(i=r[c])&&void 0===a)throw new Error('The "'+u+'" param is required.');s=n[c].split("|"),l=!1;for(var f=0;f<s.length;++f){var d=s[f];if(void 0===a&&!i||"array"===d&&Array.isArray(a)||"null"===d&&null===a||(void 0===a?"undefined":o(a))===d){l=!0;break}}if(!l)throw new Error('The "'+u+'" param is an unsupported type; supported type(s): '+n[c].replace(/\|/g,", "))}}},{key:"validateStatsapiPerson",value:function(e){if("object"!==(void 0===e?"undefined":o(e))||void 0===e.id||void 0===e.fullName)throw new Error("person must be a valid statsapi person node, as returned by various Sports Data APIs.")}},{key:"validateStatsapiTeam",value:function(t){if("object"!==(void 0===t?"undefined":o(t))||!e._hasAllProps(t,["id","name","teamName","shortName"]))throw new Error("team must be a valid statsapi team node, as returned by the Teams API.")}},{key:"validateStatsapiGame",value:function(t){if("object"!==(void 0===t?"undefined":o(t))||!e._hasAllProps(t,["gamePk","gameType","gameDate","status","teams"]))throw new Error("game must be a valid statsapi game node, as returned by the Schedule API.")}},{key:"validateStatsapiNonGameEvent",value:function(t){if("object"!==(void 0===t?"undefined":o(t))||!e._hasAllProps(t,["id","eventType","eventDate","venue","teams"]))throw new Error("non game event must be a valid statsapi event node, as returned by the Schedule API.")}},{key:"validateNumber",value:function(e){if("number"!=typeof e&&("string"!=typeof e||isNaN(""+e)))throw new Error("not convertible to a numeric value: "+e)}},{key:"validateAllowed",value:function(e,t){var n=Array.isArray(t)?t:[t];if(-1===n.indexOf(e))throw new Error(e+" is not valid; accepted values are: "+n)}},{key:"_hasAllProps",value:function(e,t){for(var n=0;n<t.length;++n){if(void 0===e[t[n]])return!1}return!0}}]),e}(),c=function(){function e(){l(this,e)}return i(e,null,[{key:"extendTeams",value:function(e,t){if(t)for(var n=0,r=e.length;n<r;n++)t(e[n])}},{key:"getTeamArrayFromReqOrWindow",value:function(t,n,r){if(!n||!r)throw new Error("clientArrAsDotNotatedStr and serverArrAsDotNotatedStr are required.");var o=null;if(t.navigator)o=e._getObjFromDotNotatedStr(t,n);else if(t.configFinder)try{o=e._getObjFromDotNotatedStr(t,r)}catch(e){}return o?e.cloneDeep(o):null}},{key:"_getObjFromDotNotatedStr",value:function(e,t){for(var n=t.split("."),r=e,o=0,i=n.length;o<i;o++)r=r[n[o]];return r}},{key:"cloneDeep",value:function(e){return function e(t){var n=void 0===t?"undefined":o(t);if(null===t||["undefined","boolean","number","string","symbol"].indexOf(n)>-1)return t;if("function"===n)return t;if(Array.isArray(t)){for(var r=[],i=void 0,a=0,s=t.length;a<s;a++)i=t[a],r.push(e(i));return r}for(var l={},u=Object.keys(t),c=void 0,f=0,d=u.length;f<d;f++)c=u[f],l[c]=e(t[c]);return l}(e)}},{key:"validateOptions",value:function(e,t){if(null!=e){var n=null;if(("object"!==(void 0===e?"undefined":o(e))||Array.isArray(e))&&(n="is not an object."),!n)for(var r=Object.keys(e),i=void 0,a=void 0,s=void 0,l=void 0,u=0,c=r.length;u<c;u++){if(void 0===(i=t[l=r[u]])){n="contains unsupported option: "+l;break}if(a=e[l],s=Array.isArray(a)?"array":void 0===a?"undefined":o(a),null!==a&&s!==i.expectedType){n='contains option with unexpected value type for "'+l+'" (expected: '+i.expectedType+"; found: "+s+")";break}}if(n)throw new Error("The options arg you passed "+n)}}},{key:"throwNotImplementedError",value:function(e){throw new Error(e+"() is not implemented in the BamTeamData, and the subclass has not providedan implementation either.")}},{key:"validateStatsapiTeamsArr",value:function(e,t,n,r){var o=null;if(Array.isArray(e)||(o="is not an array"),!o&&r&&0===e.length&&(o="contains no elements"),!o&&e.length>0)try{u.validateStatsapiTeam(e[0])}catch(e){o="is an array but its elements are not in statsapi-team format."}if(!o)for(var i=void 0,a=0,s=e.length;a<s;a++)if(i=e[a],!(n&&r||i.active===r)){o="contains "+(r?"in":"")+"active teams.";break}if(o)throw new Error(t+" "+o)}}]),e}();for(var f=c.cloneDeep,d={inactivesAllowedInActiveArr:{expectedType:"boolean",defaultValue:!1},removeInactivesFromActiveArr:{expectedType:"boolean",defaultValue:!1},addSlugToActiveTeamsFn:{expectedType:"function",defaultValue:function(e){e.slug=e.franchise.teamName.toLowerCase().trim().replace(/[^a-z]/g,"")}},addSlugToInactiveTeamsFn:{expectedType:"function",defaultValue:null}},p={},h=Object.keys(d),g=void 0,m=0,v=h.length;m<v;m++)g=h[m],p[g]=d[g].defaultValue;var y=function(){function e(t,n,r){l(this,e),c.validateOptions(r,d),this._options=Object.assign(f(p),r||{}),c.validateStatsapiTeamsArr(t,"activeTeamsArr",this._options.inactivesAllowedInActiveArr,!0),n&&c.validateStatsapiTeamsArr(n,"inactiveTeamsArr",!1,!1),this._options.removeInactivesFromActiveArr?this._activeTeams=t.filter((function(e){return!0===e.active})):this._activeTeams=f(t),this._inactiveTeams=f(n||[]),c.extendTeams(this._activeTeams,this._options.addSlugToActiveTeamsFn),c.extendTeams(this._inactiveTeams,this._options.addSlugToInactiveTeamsFn),this._teamIdsToTeams={},this._activeTeamSlugsToTeams={},this._allTeams=this._activeTeams.concat(this._inactiveTeams);for(var o=void 0,i=0,a=this._allTeams.length;i<a;i++)o=this._allTeams[i],this._teamIdsToTeams[o.id]=o,o.active&&(this._activeTeamSlugsToTeams[o.slug]=o)}return i(e,[{key:"getActiveTeams",value:function(){return this._activeTeams}},{key:"getInactiveTeams",value:function(){return this._inactiveTeams}},{key:"getTeamSlug",value:function(e){var t=this._teamIdsToTeams[parseInt(e)];return t&&t.slug?t.slug:null}},{key:"getTeamColors",value:function(e){c.throwNotImplementedError("getTeamColors")}},{key:"getTeam",value:function(e){return this._teamIdsToTeams[e]}},{key:"getTeamAbbrev",value:function(e){return this._getTeamProperty(e,"abbreviation")}},{key:"getTeamByKeyValue",value:function(e,t){return this._allTeams.find((function(n){return n[e]===t}))||null}},{key:"isTeamExists",value:function(e){return!!this._teamIdsToTeams[parseInt(e)]}},{key:"isTeamActive",value:function(e){return!!this.isTeamExists(e)&&this._teamIdsToTeams[parseInt(e)].active}},{key:"_getTeamProperty",value:function(e,t){var n=this._teamIdsToTeams[e];return n?n[t]:void 0}}],[{key:"getTeamArrayFromReqOrWindow",value:function(e,t,n){return c.getTeamArrayFromReqOrWindow(e,t,n)}},{key:"getHelpers",value:function(){return c}}]),e}(),b={},A={},C=!1,I=function(){function e(){l(this,e)}return i(e,null,[{key:"init",value:function(t){var n,r;C||(C=!0);for(var o=void 0,i=0,a=t.length;i<a;i++){n={140:"Texas",142:"Minnesota",147:"New York",108:"Los Angeles",109:"Arizona",115:"Colorado"}[(o=t[i]).id]||o.locationName,r="D-backs"===o.teamName?"Diamondbacks":o.teamName,b[o.fileCode]=[e._getLegacyHostnameSlug(n),e._getLegacyHostnameSlug(r)],A[o.fileCode]=[o.teamCode,o.abbreviation.toLowerCase()]}}},{key:"_getBaseUrlFromTricode",value:function(t,n){e.inittedCheck("_getBaseUrlFromTricode");var r=(t||"").toLowerCase();if(!r||"mlb"===t)return n?"http://mlb.mlb.com":"http://m.mlb.com";var o=b[t];if(!o)throw new Error("No team found for tricode "+r);return"http://"+(n?o[0]:"m")+"."+o[1]+".mlb.com"}},{key:"_getCodeFromTricode",value:function(t,n){if(e.inittedCheck("_getCodeFromTricode"),void 0===b[t])return null;var r=void 0;if(void 0===A[t])r=t;else{r=A[t][{teamCode:0,abbreviation:1}[n]]}return"abbreviation"===n?r.toUpperCase():r}},{key:"_getLegacyHostnameSlug",value:function(t){e.inittedCheck("_getLegacyHostnameSlug");var n=t.toLowerCase().trim().replace(/[^a-z]/g,"");return"diamondbacks"===n?"dbacks":n}},{key:"inittedCheck",value:function(e){if(!C)throw new Error("Cannot call LegacyData."+e+"() until LegacyData.init() has been called.")}}]),e}(),_=(y.getHelpers().cloneDeep,function(e){function t(e,n){l(this,t);var r=e;if(!r){if(!window)throw new Error("windowOrReq was null or undefined, but no window object was found.");r=window}var o=y.getTeamArrayFromReqOrWindow(r,"team_info","res.locals.globalData.teamInfo.teams");return I.init(o),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,n,{addSlugToActiveTeamsFn:function(e){e.slug=e.teamName.toLowerCase().trim().replace(/[^a-z]/g,"")},inactivesAllowedInActiveArr:!0,removeInactivesFromActiveArr:!0}))}return s(t,e),i(t,[{key:"getTeamTricodeFromId",value:function(e){if(0===e)return"mlb";var t=this._teamIdsToTeams[e];return t?t.fileCode:null}},{key:"getBaseJspUrl",value:function(e){return this._getBaseLegacyUrl(e,!0)}},{key:"getBaseV2Url",value:function(e){return this._getBaseLegacyUrl(e,!1)}},{key:"_getBaseLegacyUrl",value:function(e,t){var n=parseInt(e),r=void 0;if(isNaN(n))r=e;else if(0===n)r="mlb";else{var o=this.getTeam(n);r=o?o.fileCode:"mlb"}return I._getBaseUrlFromTricode(r,t)||null}}],[{key:"getTeamCodeFromTricode",value:function(e){return I._getCodeFromTricode(e,"teamCode")}},{key:"getAbbreviationFromTricode",value:function(e){return I._getCodeFromTricode(e,"abbreviation")}}]),t}(y)),E=y.getHelpers().cloneDeep,w=function(){function e(){l(this,e)}return i(e,null,[{key:"validateOptions",value:function(e,t){var n=null,r=e||{};if(("object"!==(void 0===r?"undefined":o(r))||Array.isArray(r))&&(n="is not an object."),!n)for(var i=Object.keys(r),a=void 0,s=void 0,l=void 0,u=void 0,c=0,f=i.length;c<f;c++){if(void 0===(a=t[u=i[c]])){n="contains unsupported option: "+u;break}if(s=r[u],l=Array.isArray(s)?"array":void 0===s?"undefined":o(s),null!==s&&l!==a.expectedType){n='contains option with unexpected value type for "'+u+'" (expected: '+a.expectedType+"; found: "+l+")";break}}for(var d=Object.keys(t),p=void 0,h=0,g=d.length;h<g;h++)if(t[p=d[h]].required&&void 0===r[p]){n="did not contain a required option: "+p;break}if(n)throw new Error("The options arg you passed "+n)}},{key:"getDefaultOptions",value:function(e){for(var t={},n=Object.keys(e),r=void 0,o=0,i=n.length;o<i;o++)t[r=n[o]]=e[r].defaultValue;return t}},{key:"cloneDeep",value:function(e){return E(e)}},{key:"addRequestSpecificOptions",value:function(t,n,r){try{if(t.windowOrReq=n,n.navigator){t.clientSide=!0;var o=n.document.getElementsByTagName("meta");t.appView=e._getMetaTagContent(o,"app-view")||"web",t.langCode=e._getMetaTagContent(o,"locale")||"en",t.deviceType="desktop",t.teamId=parseInt(e._getMetaTagContent(o,"team_id")||0)}else{if(!n.configFinder||!n.i18n)throw new Error('The "windowOrReq" constructor param must be either a BANE browser window or a BANE-controller "req" obj.');t.clientSide=!1,t.appView=n.configFinder.appView,t.langCode=n.configFinder.getLocale(),t.deviceType="desktop",t.teamId=parseInt(n.configFinder.clubConfig&&n.configFinder.clubConfig.team&&n.configFinder.clubConfig.team.team_id||0)}}catch(e){if(!r)throw e;console.warn('Error thrown getting constructor-option values from "'+n+'"; swallowing this error and adding default option values because addDefaultsOnError is true (it should only be true in development).  Error:'),console.warn(e),console.trace&&console.trace(),t.appView="web",t.langCode="en",t.deviceType="desktop",t.teamId=0}}},{key:"_getMetaTagContent",value:function(e,t){for(var n=["name","property","http-equiv"],r=0,o=n.length;r<o;r++)for(var i=0,a=e.length;i<a;i++)if(e[i].getAttribute(n[r])===t)return e[i].getAttribute("content");return null}},{key:"throwNotImplementedError",value:function(e){throw new Error(e+"() is not implemented in the BamLinker, and the subclass has not providedan implementation either.")}},{key:"getYMDStrFromStatsapiDate",value:function(e,t,n){var r=new Date(parseInt(e.substring(0,4)),parseInt(e.substring(5,7))-1,parseInt(e.substring(8,10)),parseInt(e.substring(11,13)),parseInt(e.substring(14,16)),parseInt(e.substring(17,19)),0),o=1e3*t*60*60;r.setTime(r.getTime()+o);var i=""+(r.getMonth()+1),a=""+r.getDate();return i=1===i.length?"0"+i:i,a=1===a.length?"0"+a:a,""+r.getFullYear()+n+i+n+a}}]),e}(),S=function(e){for(var t=[{base:"A",letters:"Aâ¶ï¼¡ÃÃÃáº¦áº¤áºªáº¨ÃÄÄáº°áº®áº´áº²È¦Ç ÃÇáº¢ÃÇºÇÈÈáº áº¬áº¶á¸ÄÈºâ±¯"},{base:"AA",letters:"ê²"},{base:"AE",letters:"ÃÇ¼Ç¢"},{base:"AO",letters:"ê´"},{base:"AU",letters:"ê¶"},{base:"AV",letters:"ê¸êº"},{base:"AY",letters:"ê¼"},{base:"B",letters:"Bâ·ï¼¢á¸á¸á¸ÉÆÆ"},{base:"C",letters:"Câ¸ï¼£ÄÄÄÄÃá¸ÆÈ»ê¾"},{base:"D",letters:"Dâ¹ï¼¤á¸Äá¸á¸á¸á¸ÄÆÆÆê¹"},{base:"DZ",letters:"Ç±Ç"},{base:"Dz",letters:"Ç²Ç"},{base:"E",letters:"Eâºï¼¥ÃÃÃá»áº¾á»á»áº¼Äá¸á¸ÄÄÃáººÄÈÈáº¸á»È¨á¸Äá¸á¸ÆÆ"},{base:"F",letters:"Fâ»ï¼¦á¸Æê»"},{base:"G",letters:"Gâ¼ï¼§Ç´Äá¸ ÄÄ Ç¦Ä¢Ç¤Æê ê½ê¾"},{base:"H",letters:"Hâ½ï¼¨Ä¤á¸¢á¸¦Èá¸¤á¸¨á¸ªÄ¦â±§â±µê"},{base:"I",letters:"Iâ¾ï¼©ÃÃÃÄ¨ÄªÄ¬Ä°Ãá¸®á»ÇÈÈá»Ä®á¸¬Æ"},{base:"J",letters:"Jâ¿ï¼ªÄ´É"},{base:"K",letters:"Kâï¼«á¸°Ç¨á¸²Ä¶á¸´Æâ±©êêêê¢"},{base:"L",letters:"Lâï¼¬Ä¿Ä¹Ä½á¸¶á¸¸Ä»á¸¼á¸ºÅÈ½â±¢â± êêê"},{base:"LJ",letters:"Ç"},{base:"Lj",letters:"Ç"},{base:"M",letters:"Mâï¼­á¸¾á¹á¹â±®Æ"},{base:"N",letters:"Nâï¼®Ç¸ÅÃá¹Åá¹Åá¹á¹È Æêê¤"},{base:"NJ",letters:"Ç"},{base:"Nj",letters:"Ç"},{base:"O",letters:"Oâï¼¯ÃÃÃá»á»á»á»Ãá¹È¬á¹Åá¹á¹ÅÈ®È°ÃÈªá»ÅÇÈÈÆ á»á»á» á»á»¢á»á»ÇªÇ¬ÃÇ¾ÆÆêê"},{base:"OI",letters:"Æ¢"},{base:"OO",letters:"ê"},{base:"OU",letters:"È¢"},{base:"P",letters:"Pâï¼°á¹á¹Æ¤â±£êêê"},{base:"Q",letters:"Qâï¼±êêÉ"},{base:"R",letters:"Râï¼²Åá¹ÅÈÈá¹á¹Åá¹Éâ±¤êê¦ê"},{base:"S",letters:"Sâï¼³áºÅá¹¤Åá¹ Å á¹¦á¹¢á¹¨ÈÅâ±¾ê¨ê"},{base:"T",letters:"Tâï¼´á¹ªÅ¤á¹¬ÈÅ¢á¹°á¹®Å¦Æ¬Æ®È¾ê"},{base:"TZ",letters:"ê¨"},{base:"U",letters:"Uâï¼µÃÃÃÅ¨á¹¸Åªá¹ºÅ¬ÃÇÇÇÇá»¦Å®Å°ÇÈÈÆ¯á»ªá»¨á»®á»¬á»°á»¤á¹²Å²á¹¶á¹´É"},{base:"V",letters:"Vâï¼¶á¹¼á¹¾Æ²êÉ"},{base:"VY",letters:"ê "},{base:"W",letters:"Wâï¼·áºáºÅ´áºáºáºâ±²"},{base:"X",letters:"Xâï¼¸áºáº"},{base:"Y",letters:"Yâï¼¹á»²ÃÅ¶á»¸È²áºÅ¸á»¶á»´Æ³Éá»¾"},{base:"Z",letters:"Zâï¼ºÅ¹áºÅ»Å½áºáºÆµÈ¤â±¿â±«ê¢"},{base:"a",letters:"aâï½áºÃ Ã¡Ã¢áº§áº¥áº«áº©Ã£ÄÄáº±áº¯áºµáº³È§Ç¡Ã¤Çáº£Ã¥Ç»ÇÈÈáº¡áº­áº·á¸Äâ±¥É"},{base:"aa",letters:"ê³"},{base:"ae",letters:"Ã¦Ç½Ç£"},{base:"ao",letters:"êµ"},{base:"au",letters:"ê·"},{base:"av",letters:"ê¹ê»"},{base:"ay",letters:"ê½"},{base:"b",letters:"bâï½á¸á¸á¸ÆÆÉ"},{base:"c",letters:"câï½ÄÄÄÄÃ§á¸ÆÈ¼ê¿â"},{base:"d",letters:"dâï½á¸Äá¸á¸á¸á¸ÄÆÉÉêº"},{base:"dz",letters:"Ç³Ç"},{base:"e",letters:"eâï½Ã¨Ã©Ãªá»áº¿á»á»áº½Äá¸á¸ÄÄÃ«áº»ÄÈÈáº¹á»È©á¸Äá¸á¸ÉÉÇ"},{base:"f",letters:"fâï½á¸Æê¼"},{base:"g",letters:"gâï½ÇµÄá¸¡ÄÄ¡Ç§Ä£Ç¥É ê¡áµ¹ê¿"},{base:"h",letters:"hâï½Ä¥á¸£á¸§Èá¸¥á¸©á¸«áºÄ§â±¨â±¶É¥"},{base:"hv",letters:"Æ"},{base:"i",letters:"iâï½Ã¬Ã­Ã®Ä©Ä«Ä­Ã¯á¸¯á»ÇÈÈá»Ä¯á¸­É¨Ä±"},{base:"j",letters:"jâï½ÄµÇ°É"},{base:"k",letters:"kâï½á¸±Ç©á¸³Ä·á¸µÆâ±ªêêêê£"},{base:"l",letters:"lâï½ÅÄºÄ¾á¸·á¸¹Ä¼á¸½á¸»Å¿ÅÆÉ«â±¡êêê"},{base:"lj",letters:"Ç"},{base:"m",letters:"mâï½á¸¿á¹á¹É±É¯"},{base:"n",letters:"nâï½Ç¹ÅÃ±á¹Åá¹Åá¹á¹ÆÉ²Åêê¥"},{base:"nj",letters:"Ç"},{base:"o",letters:"oâï½Ã²Ã³Ã´á»á»á»á»Ãµá¹È­á¹Åá¹á¹ÅÈ¯È±Ã¶È«á»ÅÇÈÈÆ¡á»á»á»¡á»á»£á»á»Ç«Ç­Ã¸Ç¿ÉêêÉµ"},{base:"oi",letters:"Æ£"},{base:"ou",letters:"È£"},{base:"oo",letters:"ê"},{base:"p",letters:"pâï½á¹á¹Æ¥áµ½êêê"},{base:"q",letters:"qâ ï½Éêê"},{base:"r",letters:"râ¡ï½Åá¹ÅÈÈá¹á¹Åá¹ÉÉ½êê§ê"},{base:"s",letters:"sâ¢ï½ÃÅá¹¥Åá¹¡Å¡á¹§á¹£á¹©ÈÅÈ¿ê©êáº"},{base:"t",letters:"tâ£ï½á¹«áºÅ¥á¹­ÈÅ£á¹±á¹¯Å§Æ­Êâ±¦ê"},{base:"tz",letters:"ê©"},{base:"u",letters:"uâ¤ï½Ã¹ÃºÃ»Å©á¹¹Å«á¹»Å­Ã¼ÇÇÇÇá»§Å¯Å±ÇÈÈÆ°á»«á»©á»¯á»­á»±á»¥á¹³Å³á¹·á¹µÊ"},{base:"v",letters:"vâ¥ï½á¹½á¹¿ÊêÊ"},{base:"vy",letters:"ê¡"},{base:"w",letters:"wâ¦ï½áºáºÅµáºáºáºáºâ±³"},{base:"x",letters:"xâ§ï½áºáº"},{base:"y",letters:"yâ¨ï½á»³Ã½Å·á»¹È³áºÃ¿á»·áºá»µÆ´Éá»¿"},{base:"z",letters:"zâ©ï½ÅºáºÅ¼Å¾áºáºÆ¶È¥Éâ±¬ê£"}],n={},r=0;r<t.length;r++)for(var o=t[r].letters.split(""),i=0;i<o.length;i++)n[o[i]]=t[r].base;return function(e){return e.replace(/[^\u0000-\u007E]/g,(function(e){return n[e]||e}))}(e).toLowerCase().trim().replace(/ +/g,"-").replace(/[^\w-]+/g,"")},T=function(){function e(){l(this,e)}return i(e,null,[{key:"getPathEl",value:function(e,t,n,r){if(u.validateArgs(arguments,["linker","identifier","defaultIdentifier","identifierIsTeamId"],["object","string|number","string|number","boolean"],[!0,!0,!0,!0]),t===n)return"";var o=void 0;if(r){if(null===(o=e._teamData.getTeamSlug(t)))throw new Error("There is no team with ID "+t)}else o=t;return"/"+o}},{key:"buildLink",value:function(e,t,n){u.validateArgs(arguments,["linker","urlSegment","keepTeam"],["object","string","boolean"],[!0,!0,!1]);var r=e._appViewPathEl+e._langCodePathEl+(n?e._teamPathEl:"")+t;return r}},{key:"buildPlayerPageLink",value:function(e,t,n,r,o){return u.validateArgs(arguments,["linker","statsapiPerson","fullname","playerId","playerTeamId"],["object","object|null","string","string|number","string|number"],[!0,!0,!0,!0,!1]),e._buildLinkFn(e,"/player/"+e._buildPlayerSlugFn(e,t,n,r),!1)}},{key:"buildPlayerSlug",value:function(e,t,n,r){return u.validateArgs(arguments,["linker","statsapiPerson","fullname","playerId"],["object","object|null","string","string|number"],[!0,!0,!0,!0]),t&&t.otherNames&&t.otherNames.slug?t.otherNames.slug:S(n+" "+r)}},{key:"buildTeamHomepageLink",value:function(e,t){var n=e._teamData.getTeamSlug(t);return n?e._buildLinkFn(e,"/"+n,!1):null}},{key:"buildTeamScheduleLink",value:function(e,t){var n=e._teamData.getTeamSlug(t);return n?e._buildLinkFn(e,"/"+n+"/schedule",!1):null}}]),e}(),k=y.getHelpers().cloneDeep,x={langCode:{expectedType:"string",defaultValue:"en",required:!0},deviceType:{expectedType:"string",required:!0},appView:{expectedType:"string",defaultValue:"web",required:!0},teamId:{expectedType:"number",defaultValue:0,required:!0},fqSiteCorePrefixUrl:{expectedType:"string",defaultValue:"",required:!0},clientSide:{expectedType:"boolean",defaultValue:!0,required:!0},windowOrReq:{expectedType:"object",defaultValue:{},required:!0},getLangCodePathElFn:{expectedType:"function",defaultValue:T.getPathEl,required:!1},getAppViewPathElFn:{expectedType:"function",defaultValue:T.getPathEl,required:!1},getTeamIdPathElFn:{expectedType:"function",defaultValue:T.getPathEl,required:!1},buildLinkFn:{expectedType:"function",defaultValue:T.buildLink,required:!1},buildPlayerPageLinkFn:{expectedType:"function",defaultValue:T.buildPlayerPageLink,required:!1},buildTeamHomepageLinkFn:{expectedType:"function",defaultValue:T.buildTeamHomepageLink,required:!1},buildPlayerSlugFn:{expectedType:"function",defaultValue:T.buildPlayerSlug,required:!1},buildTeamScheduleLinkFn:{expectedType:"function",defaultValue:T.buildTeamScheduleLink,required:!1}},P=w.getDefaultOptions(x),O=function(){function e(t,n){l(this,e),w.validateOptions(n,x);var r=Object.assign(k(P),n||{});this._teamData=t,this._langCode=r.langCode,this._deviceType=r.deviceType,this._appView=r.appView,this._teamId=r.teamId,this._clientSide=r.clientSide,this._windowOrReq=r.windowOrReq,this._langCodePathEl=r.getLangCodePathElFn(this,this._langCode,x.langCode.defaultValue,!1),this._appViewPathEl=r.getAppViewPathElFn(this,this._appView,x.appView.defaultValue,!1),this._teamPathEl=r.getTeamIdPathElFn(this,this._teamId,x.teamId.defaultValue,!0),this._buildLinkFn=r.buildLinkFn,this._buildPlayerPageLinkFn=r.buildPlayerPageLinkFn,this._buildPlayerSlugFn=r.buildPlayerSlugFn,this._buildTeamHomepageLinkFn=r.buildTeamHomepageLinkFn,this._buildTeamScheduleLinkFn=r.buildTeamScheduleLinkFn}return i(e,[{key:"getLink",value:function(e,t){u.validateArgs(arguments,["urlSegment","keepTeam"],["string","boolean"],[!0,!1]);var n=void 0===t||t,r=""+e;return"/"!==r.charAt(0)&&(r="/"+r),this._buildLinkFn(this,r,n)}},{key:"getPlayerPageLink",value:function(e,t){return u.validateArgs(arguments,["statsapiPerson","teamId"],["object","string|number"],[!0,!1]),u.validateStatsapiPerson(e),this._buildPlayerPageLinkFn(this,e,e.fullName,e.id,t)}},{key:"getPlayerPageLinkByNameAndId",value:function(e,t,n){return u.validateArgs(arguments,["fullname","playerId","teamId"],["string","string|number","string|number"],[!0,!0,!1]),this._buildPlayerPageLinkFn(this,null,e,t,n)}},{key:"getPlayerSlug",value:function(e){return u.validateStatsapiPerson(e),this._buildPlayerSlugFn(this,e,e.fullName,e.id)}},{key:"getPlayerSlugByNameAndId",value:function(e,t){return u.validateArgs(arguments,["fullname","playerId"],["string","string|number"],[!0,!0]),this._buildPlayerSlugFn(this,null,e,t)}},{key:"getTeamHomepageLinkFromTeamId",value:function(e){return u.validateArgs(arguments,["teamId"],["string|number"],[!0]),this._buildTeamHomepageLinkFn(this,e)}},{key:"getTeamScheduleLinkFromTeamId",value:function(e){return u.validateArgs(arguments,["teamId"],["string|number"],[!0]),this._buildTeamScheduleLinkFn(this,e)}},{key:"getTeamHomepageLink",value:function(e){return u.validateStatsapiTeam(e),this.getTeamHomepageLinkFromTeamId(e.id)}},{key:"getTeamSlugFromTeamId",value:function(e){return u.validateNumber(e),this._teamData.getTeamSlug(parseInt(e))}},{key:"getTeamSlug",value:function(e){return u.validateStatsapiTeam(e),this.getTeamSlugFromTeamId(e.id)}},{key:"getFqTeamLogoUrl",value:function(e,t,n){w.throwNotImplementedError("getFqTeamLogoUrl")}},{key:"getBamTeamData",value:function(){return this._teamData}},{key:"getFqPathToSiteCoreAssets",value:function(){w.throwNotImplementedError("getFqPathToSiteCoreAssets")}},{key:"getFqPathToSectionAssets",value:function(){w.throwNotImplementedError("getFqPathToSectionAssets")}}],[{key:"getTeamArrayFromReqOrWindow",value:function(e,t,n){return y.getTeamArrayFromReqOrWindow(e,t,n)}},{key:"getHelpers",value:function(){return w}}]),e}(),L=(O.getHelpers(),function(){function e(){l(this,e)}return i(e,null,[{key:"buildPlayerPageLink",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e.getLink("/player/"+e._buildPlayerSlugFn(e,t,n,r),!1)}},{key:"buildPlayerSlug",value:function(e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r="";return t&&t.nameSlug?r=t.nameSlug:""!==n&&(r=n),r}},{key:"buildTeamHomepageLink",value:function(e,t){if(e._isMilb){var n=t||e._teamId;if(!n||"number"!=typeof n)return null;var r=e._teamSlugs&&e._teamSlugs[n];return r?e.getLink("/"+r,!1):e._milbHostName+"/index.jsp?sid=t"+n}return e._teamData.isTeamExists(t)?e.getLink(e._teamData.getTeamSlug(t),!1):null}},{key:"buildLink",value:function(e,t,n){u.validateArgs(arguments,["linker","urlSegment","keepTeam"],["object","string","boolean"],[!0,!0,!1]);return e._isMilb?("web"===e._appView?"":"/"+e._appView)+("en"===e._langCode?"":"/"+e._langCode)+(n&&e._slug?"/"+e._slug:"")+t:e._appViewPathEl+e._langCodePathEl+(n?e._teamPathEl:"")+t}}]),e}()),D={mappings:{5529:"159",5528:"159",5527:"159",5526:"159",5518:"159",5519:"159",5520:"159",5513:"159",4614:"159",4615:"159",4616:"159",4944:"159",4945:"159",4612:"159",3370:"159",3371:"159",21:"159",5533:"160",5532:"160",5531:"160",5530:"160",5522:"160",5523:"160",5524:"160",5517:"160",4617:"160",4618:"160",4619:"160",4946:"160",4947:"160",4613:"160",3372:"160",3373:"160",31:"160",2710:"000",2711:"000"},defaultIdStr:"000",alIdStr:"159",nlIdStr:"160"},j=function(){function e(){throw l(this,e),new Error("MlbTbdTeamToLeagueMap cannot be instantiated.")}return i(e,null,[{key:"getLeagueIdFromTbdTeamId",value:function(t){var n=e.getLeagueInfoFromTbdTeamId(t);return n.unknownLeague?D.defaultIdStr:n.leagueId}},{key:"getLeagueInfoFromTbdTeamId",value:function(e){var t=parseInt(""+e);isNaN(t)&&(t=0);var n=!!D.mappings[t],r=D.mappings[t]||D.defaultIdStr,o=r!==D.defaultIdStr;return{unknownLeague:!o,isRecognizedLeagueId:n,leagueId:o?r:null}}},{key:"isTbdTeam",value:function(t){var n=e.getLeagueInfoFromTbdTeamId(t);return!n.unknownLeague||n.isRecognizedLeagueId}}]),e}(),R=O.getHelpers(),M=_.getHelpers().cloneDeep,N={buildLinkFn:L.buildLink,buildPlayerPageLinkFn:L.buildPlayerPageLink,buildPlayerSlugFn:L.buildPlayerSlug,buildTeamHomepageLinkFn:L.buildTeamHomepageLink,langCode:null,deviceType:null,teamId:null,appView:null},F={N:!0,L:!0,S:!0},B=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,t);var r=M(N);r.fqSiteCorePrefixUrl="/site-core";var o=e;if(!o){if(!window)throw new Error("windowOrReq was null or undefined, and no window object was found to use by default.");o=window}R.addRequestSpecificOptions(r,o,!0),n.langCodeOverride&&(r.langCode=n.langCodeOverride);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.isMilb?{}:new _(e,[]),r));return i._clientSide&&(i._metaTags=e.document.getElementsByTagName("meta")),n.isMilb&&V(i,e,n),i._siteCoreLogosRoot=i.getFqPathToSiteCoreAssets()+"/images/logos/",i}return s(t,e),i(t,[{key:"getLink",value:function(e,n){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getLink",this).call(this,e,n)}},{key:"getLegacyLink",value:function(e,n,r,o){u.validateArgs(arguments,["urlSegment","keepTeam","siteType","alternateBaseUrl"],["string","boolean","string","string"],[!0,!0,!0,!1]);var i=void 0,a=n?this._teamId:0,s=this._teamData.getTeamTricodeFromId(a);if(o){if("/"===o.charAt(o.length-1))throw new Error("alternateBaseUrl ends with a forward-slash; this is not allowed.");i=o}else i=this._teamData["jsp"===r?"getBaseJspUrl":"getBaseV2Url"](a);var l=i+this.getLink(e,!1);return"jsp"===r&&0!==a&&(-1===l.indexOf("?")?l+="?":l+="&",l+="c_id="+s),t.stripLanguagePathElement(l)}},{key:"getGamedayLink",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];u.validateStatsapiGame(e);var n=e.status,r=void 0===n?{}:n,o=e.gamedayType;return t||"F"!==r.abstractGameCode&&"S"!==r.codedGameState?F[o]?null:this.getLink("/gameday/"+e.gamePk,!1):null}},{key:"getWrapLink",value:function(e,t){u.validateStatsapiGame(e);var n=e.content,r=void 0===n?{}:n;e.season;if(r.summary){var o=r.summary,i=o.hasRecapArticle,a=o.hasWrapArticle;if(i||a)return this._isMilb?this.getStatsLink(e,t):this.getLink("/gameday/"+e.gamePk+"/final/wrap",!1)}return null}},{key:"getPreviewLink",value:function(e){if(u.validateStatsapiGame(e),e.status){var t=e.status.abstractGameCode;if(t&&"P"===t)if(!this.getGamedayLink(e))return this.getLink("/gameday/"+e.gamePk+"/preview",!1)}return null}},{key:"getDeviceDeepLink",value:function(e){return u.validateStatsapiGame(e),e.gamePk?"mlbatbat://game?gamepk="+e.gamePk:null}},{key:"getBoxscoreLink",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t){if(u.validateStatsapiGame(e),e.status){var n=e.status.abstractGameCode;if(n&&"F"===n){var r=e.status.statusCode,o=r&&r.charAt(0)||"";if(o&&"D"!==o&&"C"!==o)return this.getLink("/gameday/"+e.gamePk+"/final/box",!1)}}}else if(e&&e.gamePk)return this.getLink("/gameday/"+e.gamePk+"/final/box",!1);return null}},{key:"getLiveBoxLink",value:function(e){var t=e.status,n=void 0===t?{}:t,r=e.gamePk;return"N"===e.gamedayType&&r&&"L"===n.abstractGameCode?this.getLink("/gameday/"+r,!1):null}},{key:"getPressNotesLink",value:function(e){return u.validateStatsapiGame(e),"http://mlb.com/mlb/presspass/gamenotes.jsp?c_id=mlb"}},{key:"getTicketsLink",value:function(e){return U(e,arguments.length>1&&arguments[1],this,"any")}},{key:"getAppViewTicketLink",value:function(e){var t=e||{},n=t.gamePk,r=t.teams;if(!n||!r)return null;var o=r&&r.home&&r.home.team&&r.home.team.id;if(!o||"number"!=typeof o)return null;var i=this._isMilb?this._teamSlugs&&this._teamSlugs[o]:this._teamData.getTeamSlug(o);return i?this.getLink("/"+i+"/tickets?game_pk="+n,!1):null}},{key:"getClubScheduleTicketLink",value:function(e){return this._isMilb?this.getTicketsLink(e):"web"===this._appView?this.getTicketsLinkForContextTeam(e):this.getAppViewTicketLink(e)}},{key:"getClubScheduleTicketLinkNotForContextTeam",value:function(e){return"web"===this._appView?this.getTicketsLinkNotForContextTeam(e):this.getAppViewTicketLink(e)}},{key:"getTicketsLinkForContextTeam",value:function(e){return U(e,arguments.length>1&&arguments[1],this,"contextOnly")}},{key:"getNGETicketsLinkForContextTeam",value:function(e){return U(e,arguments.length>1&&arguments[1],this,"opponentOnly",!0)}},{key:"getTicketsLinkNotForContextTeam",value:function(e){return U(e,arguments.length>1&&arguments[1],this,"opponentOnly")}},{key:"_getMediaLink",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=t.toLowerCase(),i=null,a=this._teamData.getTeamSlug(this._teamId);if(e.content&&e.content.media&&e.content.media.epg){var s=e.content.media.epg;this._teamId&&(e.teams.home.team.id===this._teamId?"home":"away");for(var l=s.length,u=0;u<l;u++){var c=s[u];if(c.title.toLowerCase()===o&&c.items)for(var f=c.items,d=f.length,p=0;p<d;p++){var h=f[p],g=(h.type||h.mediaFeedType||"").toLowerCase(),m=h.language?h.language.toLowerCase():"",v="MEDIA_ON"===h.mediaState||"MEDIA_ARCHIVE"===h.mediaState,y="home"===g||"away"===g||"national"===g;if((!n||m===this._langCode)&&v&&(!h.youtube||h.youtube&&"MEDIA_ON"!==h.mediaState)&&(!h.facebook||h.facebook&&"MEDIA_ON"!==h.mediaState)){var b=e.gamePk||"",A="audio"===o,C=A?"?mediatype=audio":"",I=a?"/"+a:"";if(b?i=(r?I:"")+"/tv/g"+b+C:(i="",console.error("MlbLinker: _getMediaLink: Missing gamepk or contentId")),y)return i}}}}return i}},{key:"getAudioLink",value:function(e,t){if(this._isMilb)return this._getMilbAudioLink(e);var n=this._getMediaLink(e,"Audio",!0);return n||t||(n=this._getMediaLink(e,"Audio",!1)),n}},{key:"_getMilbAudioLink",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this._teamId;return"web"!==this._appView?this._milbMobileHostName+"/gdaudio/"+(e||"iphone"):this._milbHostName+"/milb/multimedia/audio.jsp?sid=t"+t}},{key:"_getMlbTvLink",value:function(e,t,n,r){u.validateArgs(arguments,["statsapiGame","currentLanguageOnly","returnSubLinkIfNoMedia","slugOption"],["object","boolean","boolean","boolean"],[!0,!0,!0,!1]);var o=this._getMediaLink(e,"MLBTV",!0,r);o||t||(o=this._getMediaLink(e,"MLBTV",!1,r));var i=this.getFacebookGameLink(e),a=this.getYouTubeGameLink(e);return null!==o||!n||i||a||(o=this.getLegacyLink("/mlb/subscriptions/index.jsp?product=mlbtv",!1,"jsp","http://mlb.com"),o=this.legacyLinkInsertLang(o)),o}},{key:"_getMilbTvLink",value:function(e,t){var n=e.gamePk,r=e.season,o="";if(parseInt(r,10)>2018){if(e.broadcasts&&!t){var i=void 0;for(i=0;i<e.broadcasts.length;++i)1765===e.broadcasts[i].id&&(o="/live-stream-games")}if(e.content){var a=e.content.media&&e.content.media.epg||[];Array.isArray(a)||(a=[a]),a.some((function(e){return!("MiLBTV"!==e.title||!e.items.length)&&e.items.some((function(e){return"MEDIA_ON"===e.mediaState||"MEDIA_ARCHIVE"===e.mediaState}))}))&&(o="/live-stream-games/g"+n)}}return o.length>0?this.getLink(o,!1):""}},{key:"getTvLink",value:function(e,t){return this._isMilb?this._getMilbTvLink(e,t):this._getMlbTvLink(e,!!t,!1,!0)}},{key:"getNewTvLink",value:function(e,t){return this._getMlbTvLink(e,!!t,!1,!1)}},{key:"getTvLinkOrTvSubscriptionLink",value:function(e,t){return this._getMlbTvLink(e,!!t,!0)}},{key:"getVideoHighlightsLink",value:function(e){u.validateStatsapiGame(e);var t=e.content,n=void 0===t?{}:t,r=null;n.summary?n.summary.hasHighlightsVideo&&(r=this.getLink("/gameday/"+e.gamePk+"/final/video",!1)):n.highlights&&Object.keys(n.highlights).length>0&&(r=this.getLink("/gameday/"+e.gamePk+"/final/video",!1));return r=this.legacyLinkInsertLang(r)}},{key:"getVideoLink",value:function(e){return this._isMilb?this._milbHostName+"/r/video?content_id="+e:"/video/c-"+e}},{key:"getLiveLookIn",value:function(e){return"/video/t-239279104/c-"+e}},{key:"getPlayerPageLink",value:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=void 0;if(this._isMilb){var a=n||this._teamId;if("web"!==this._appView)return this._milbMobileHostName+"/milb/"+(o||"iphone")+"/player/"+e.id;i=a&&"number"==typeof a?"/r/player/"+a+"/"+e.id:"/r/player/"+e.id}else i=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getPlayerPageLink",this).call(this,e,n);return i}},{key:"getPlayerPageLinkById",value:function(e){var t=e.league.id,n="";if(e){var r=t&&-1!==[121,124,130].indexOf(t)?"milb":"t"+e.team.id;n=this._milbHostName+"/player/index.jsp?sid="+r+"&player_id="+e.person.id}return n}},{key:"getPlayerPageLinkByNameAndId",value:function(e,n,o){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getPlayerPageLinkByNameAndId",this).call(this,e,n,o)}},{key:"getPlayerSlug",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getPlayerSlug",this).call(this,e)}},{key:"getTeamHomepageLinkFromTeamId",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getTeamHomepageLinkFromTeamId",this).call(this,e)}},{key:"getTeamScheduleLinkFromTeamId",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getTeamScheduleLinkFromTeamId",this).call(this,e)}},{key:"getTeamHomepageLink",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getTeamHomepageLink",this).call(this,e)}},{key:"getTeamSlugFromTeamId",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getTeamSlugFromTeamId",this).call(this,e)}},{key:"getTeamSlug",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getTeamSlug",this).call(this,e)}},{key:"getFqPathToSiteCoreAssets",value:function(e){return this._clientSide?R._getMetaTagContent(this._metaTags,"siteAssetsUri"):this._windowOrReq.res.locals.siteAssetsUri}},{key:"getFqPathToSectionAssets",value:function(){return this._clientSide?R._getMetaTagContent(this._metaTags,"sectionAssetsUri"):this._windowOrReq.res.locals.sectionAssetsUri}},{key:"getSortableStatsLink",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"hitting",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"avg",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jsp",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i="";if("jsp"===n){var a="en"!==this._langCode?"sortable_"+this._langCode:"sortable";if(r){var s=this._teamData.getTeamTricodeFromId(r);return i="&team_id="+r,o?this.getLegacyLink("/stats/"+a+".jsp?c_id="+s+"#statType="+e+"&sortColumn="+t+i,!1,n):this.getLegacyLink("/stats/"+a+".jsp#statType="+e+"&sortColumn="+t+i,!1,n)}return this.getLegacyLink("/stats/"+a+".jsp#statType="+e+"&sortColumn="+t,o,n)}var l="en"!==this._langCode?"&lang="+this._langCode:"";return r?(i="&team_option="+r,this.getLegacyLink("/stats/?stat_type="+e+"&sort_column="+t+i+l,o,n)):this.getLegacyLink("/stats/?stat_type="+e+"&sort_column="+t+l,!1,n)}},{key:"getStatsLink",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this._isMilb){var r=t[0],o=t[1],i=W(r,this),a=o||this._siteId,s="web"===this._appView?this._milbHostName:this._milbMobileHostName;return s+"/milb/stats/stats.jsp?gid="+i+"&t=g_rcp&sid="+a}var l=t[0],u=void 0===l?{}:l,c=u.sortColumn,f=void 0===c?"":c,d=u.statType,p=void 0===d?"":d,h=this.getLink("/stats"),g=p&&"pitching"===p?"/pitching":"",m=f?"/"+f:"";return""+h+g+m}},{key:"getFacebookGameLink",value:function(e){return this._getGOWLink(e,"facebook")}},{key:"getYouTubeGameLink",value:function(e){return this._getGOWLink(e,"youtube")}},{key:"getContactUsLink",value:function(){return this.getLink("/official-information/contact",!1)}},{key:"getStandingsLink",value:function(e){return this._milbHostName+"/standings/index.jsp?lid="+(e||this._leagueId)}},{key:"getScheduleLink",value:function(){return this.getLink("/schedule",!0)}},{key:"getTuneInLinkForContextTeam",value:function(e){return H(e,this,"contextOnly")}},{key:"getTuneInLink",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";return H(e,this,t)}},{key:"_getGOWLink",value:function(e,t){var n=null;if(e.content&&e.content.media&&e.content.media.epg)for(var r=e.content.media.epg,o=void 0,i=void 0,a=void 0,s=0,l=r.length;s<l;s++)if("mlbtv"===(o=r[s]).title.toLowerCase()&&o.items)for(var u=0,c=(i=o.items).length;u<c;u++){a=i[u];var f="youtube"===t&&a.youtube&&a.youtube.fgow&&"MEDIA_ON"===a.mediaState,d="facebook"===t&&a.facebook&&a.facebook.fgow&&"MEDIA_ON"===a.mediaState;if(f)return n=e.youtubeMLBLink||"https://www.mlb.com/live-stream-games/youtube";if(d){var p=a.facebook.videoId||"",h=a.facebook.pageId||"";if(p&&h)return n="https://www.facebook.com/"+h+"/videos/"+p}}return"youtube"===t&&e.teams&&e.teams.home&&e.teams.home.team&&e.teams.home.team.sport&&51===e.teams.home.team.sport.id&&e.xrefIds&&Array.isArray(e.xrefIds)&&e.xrefIds.forEach((function(e){e&&"bam_youtube_free"===e.xrefType&&(n="https://youtu.be"+e.xrefId)})),n}},{key:"legacyLinkInsertLang",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e;if(e&&"en"!==this._langCode){var n=-1!==e.indexOf("m.mlb.com");t=n?t.replace("m.mlb.com","m."+this._langCode+".mlb.com"):t.replace("mlb.com/","mlb.com/"+this._langCode+"/")}return t}},{key:"getFqLogoUrlFromTeamId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{logoType:"cap",onLight:!0},n=t.logoType||"cap",r="boolean"!=typeof t.onLight||t.onLight,o=parseInt(e);isNaN(o)&&(o=0);var i=this.getBamTeamData().isTeamActive(o);if(i)return this._siteCoreLogosRoot+"team-"+n+"-on-"+(r?"light":"dark")+"/"+e+".svg";if(159===o||160===o)return this.getFqLogoUrlFromLeagueId(o);var a=j.getLeagueInfoFromTbdTeamId(e);return a.unknownLeague?this.getFqGenericBaseballLogo(r):this.getFqLogoUrlFromLeagueId(a.leagueId,r)}},{key:"getFqLogoUrlFromLeagueId",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=parseInt(e)||0,r=void 0;switch(n){case 159:case 160:return this._siteCoreLogosRoot+"team-cap-on-"+(t?"light":"dark")+"/"+n+".svg";case 103:case 104:return r=103===n?159:160,this._siteCoreLogosRoot+"team-cap-on-"+(t?"light":"dark")+"/"+r+".svg";default:return this.getFqGenericBaseballLogo(t)}}},{key:"getFqLogoUrlFromLeagueAbbrev",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];switch(e){case"AL":case"NL":return this.getFqLogoUrlFromLeagueId({AL:103,NL:104}[e],t);default:return this.getFqGenericBaseballLogo(t)}}},{key:"getFqGenericBaseballLogo",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._siteCoreLogosRoot+"team-cap-on-"+(e?"light":"dark")+"/000.svg"}},{key:"getFqWBCLeagueLogo",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._siteCoreLogosRoot+"team-cap-on-"+(e?"light":"dark")+"/000.svg"}}],[{key:"getSecureLink",value:function(e,t){t=void 0===t||t;var n=[{insecure:"mlb.mlb.com",secure:"securea.mlb.com"},{insecure:"m.mlb.com",secure:"msecurea.mlb.com"}];if(0===e.indexOf("https://"))return e;if(0===e.indexOf("http://")){for(var r=void 0,o=void 0,i=0,a=n.length;i<a;i++)if(o="http://"+(r=n[i]).insecure,0===e.indexOf(o))return"https://"+r.secure+e.substring(o.length);return t?e:null}if(0===e.indexOf("/"))return"https://"+n[0].secure+e;throw new Error('the url "'+e+'" is not fully qualified, nor does it start with "/"; one of theseis required.')}},{key:"stripLanguagePathElement",value:function(e){for(var t=e,n=[/\/es\//,/\/en\//],r=0,o=n.length;r<o;r++)t=t.replace(n[r],"/");return t}}]),t}(O);function U(e,t,n,r,o){if(o?u.validateStatsapiNonGameEvent(e):(u.validateStatsapiGame(e),u.validateArgs(arguments,["statsapiGame","forceDesktop","linker","sellerType"],["object","boolean","object","string"],[!0,!0,!0,!0])),u.validateAllowed(r,["any","contextOnly","opponentOnly"]),"any"!==r&&!n._teamId)throw new Error('You called _getTicketsLink() with sellerType="'+r+'"; this type requires a team context, but there is none (because you are not on a club site).');if(n._isMilb&&e.status&&"F"===e.status.abstractGameCode)return null;if(e.tickets){var i=null,a=o?e.teams[0]&&e.teams[0].id:e.teams.away.team.id,s=+n._teamId===a?"away":"home";if("any"===r?i=G(e.tickets,"home",n)||G(e.tickets,"away",n):(s="contextOnly"===r?a===+n._teamId?"away":"home":a!==+n._teamId?"away":"home",n._isMilb&&o&&(s="home"),i=G(e.tickets,s,n)),null!==i)return i}return t||"desktop"===n._deviceType?null:U(e,!0,n,r)}function G(e,t,n){for(var r="mobile"===n._deviceType?"mobile":"wired",o=void 0,i=0,a=e.length;i<a;i++)if((o=e[i]).ticketType&&o.ticketType===r&&o.ticketLinks&&o.ticketLinks[t])return o.ticketLinks[t];return null}function H(e,t,n){u.validateStatsapiGame(e),u.validateArgs(arguments,["statsapiGame","linker","homeAwayContext"],["object","object","string"],[!0,!0,!0,!0]),u.validateAllowed(n,["contextOnly","home","away","any"]);var r=null;if(e.broadcasts){var o="home"===n,i="away"===n;if("contextOnly"===n){var a=e.teams.away.team.id;o=t._teamId!==a,i=t._teamId===a}"any"===n&&(o=!0,i=!0);var s=void 0;for(s=0;s<e.broadcasts.length;++s){var l=e.broadcasts[s]||{};if("INET"===l.type){if(o&&"home"===l.homeAway)return l.sourceUrl||t.getLink("live-stream-games/audio",!1);if(i&&"away"===l.homeAway)return l.sourceUrl||t.getLink("live-stream-games/audio",!1)}}}return r}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=void 0,o=void 0,i=void 0,a=void 0,s=void 0;if(e._isMilb=!0,e._clientSide)a=R._getMetaTagContent(e._metaTags,"app-view"),s=R._getMetaTagContent(e._metaTags,"locale"),r=R._getMetaTagContent(e._metaTags,"league-id"),o=R._getMetaTagContent(e._metaTags,"team-id"),i=R._getMetaTagContent(e._metaTags,"club");else if(t&&t.locals){var l=t.locals.globalData||{},u=l.team,c=l.league,f=t.locals.responseConfig||{},d=f.appViews,p=f.locale,h=f.club;e._deviceType=n.deviceType||"desktop",o=u&&u.data&&u.data.team.id,r=c&&c.data&&c.data.league.id,a=d||"",s=p||"en",i=h||""}var g=void 0;g=o?"t"+o:r?"l"+r:null,n.langCodeOverride&&(n.locale=n.langCodeOverride),(n.teamSlugs||t.teamSlugs)&&(n.teamSlugs=n.teamSlugs||t.teamSlugs||null),e._milbHostName="http://www.milb.com",e._milbMobileHostName="http://m.milb.com",e._siteId=n.siteId||g,e._teamId=+n.teamId||+o,e._slug=n.slug||i||"",e._leagueId=n.leagueId||r,e._appView=n.appView||a,e._langCode=n.locale||s,e._ymdDate=n.ymdDate||null,e._calEventId=n.calEventId||null,e._gameId=n.gameId||null,e._videoId=n.videoId||null,e._teamSlugs=n.teamSlugs||null,e._sportCodeMap={11:"aaa",12:"aax",13:"afa",14:"afx",15:"asx",16:"rok",17:"win"}}function W(e,t){var n=e.teams.away.team.teamCode,r=e.teams.home.team.teamCode,o=t._sportCodeMap[e.teams.away.team.sport.id],i=t._sportCodeMap[e.teams.home.team.sport.id],a=e.gameNumber,s=e.gameDate.substr(0,10);return(s=s.replace(/-/g,"_"))+"_"+n+o+"_"+r+i+"_"+a}var Y=Array.isArray,z="object"==(void 0===e?"undefined":o(e))&&e&&e.Object===Object&&e,K="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,q=z||K||Function("return this")(),$=q.Symbol,X=Object.prototype,Z=X.hasOwnProperty,Q=X.toString,J=$?$.toStringTag:void 0;var ee=Object.prototype.toString;var te=$?$.toStringTag:void 0;function ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":te&&te in Object(e)?function(e){var t=Z.call(e,J),n=e[J];try{e[J]=void 0;var r=!0}catch(e){}var o=Q.call(e);return r&&(t?e[J]=n:delete e[J]),o}(e):function(e){return ee.call(e)}(e)}function re(e){return null!=e&&"object"==(void 0===e?"undefined":o(e))}function oe(e){return"symbol"==(void 0===e?"undefined":o(e))||re(e)&&"[object Symbol]"==ne(e)}var ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ae=/^\w*$/;function se(e,t){if(Y(e))return!1;var n=void 0===e?"undefined":o(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!oe(e))||(ae.test(e)||!ie.test(e)||null!=t&&e in Object(t))}function le(e){var t=void 0===e?"undefined":o(e);return null!=e&&("object"==t||"function"==t)}function ue(e){if(!le(e))return!1;var t=ne(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var ce,fe=q["__core-js_shared__"],de=(ce=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||""))?"Symbol(src)_1."+ce:"";var pe=Function.prototype.toString;function he(e){if(null!=e){try{return pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var ge=/^\[object .+?Constructor\]$/,me=Function.prototype,ve=Object.prototype,ye=me.toString,be=ve.hasOwnProperty,Ae=RegExp("^"+ye.call(be).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ce(e){return!(!le(e)||(t=e,de&&de in t))&&(ue(e)?Ae:ge).test(he(e));var t}function Ie(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ce(n)?n:void 0}var _e=Ie(Object,"create");var Ee=Object.prototype.hasOwnProperty;var we=Object.prototype.hasOwnProperty;function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e,t){return e===t||e!=e&&t!=t}function ke(e,t){for(var n=e.length;n--;)if(Te(e[n][0],t))return n;return-1}Se.prototype.clear=function(){this.__data__=_e?_e(null):{},this.size=0},Se.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Se.prototype.get=function(e){var t=this.__data__;if(_e){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ee.call(t,e)?t[e]:void 0},Se.prototype.has=function(e){var t=this.__data__;return _e?void 0!==t[e]:we.call(t,e)},Se.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_e&&void 0===t?"__lodash_hash_undefined__":t,this};var xe=Array.prototype.splice;function Pe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Pe.prototype.clear=function(){this.__data__=[],this.size=0},Pe.prototype.delete=function(e){var t=this.__data__,n=ke(t,e);return!(n<0)&&(n==t.length-1?t.pop():xe.call(t,n,1),--this.size,!0)},Pe.prototype.get=function(e){var t=this.__data__,n=ke(t,e);return n<0?void 0:t[n][1]},Pe.prototype.has=function(e){return ke(this.__data__,e)>-1},Pe.prototype.set=function(e,t){var n=this.__data__,r=ke(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Oe=Ie(q,"Map");function Le(e,t){var n,r,i=e.__data__;return("string"==(r=void 0===(n=t)?"undefined":o(n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function De(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}De.prototype.clear=function(){this.size=0,this.__data__={hash:new Se,map:new(Oe||Pe),string:new Se}},De.prototype.delete=function(e){var t=Le(this,e).delete(e);return this.size-=t?1:0,t},De.prototype.get=function(e){return Le(this,e).get(e)},De.prototype.has=function(e){return Le(this,e).has(e)},De.prototype.set=function(e,t){var n=Le(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function je(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(je.Cache||De),n}je.Cache=De;var Re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Me=/\\(\\)?/g,Ne=function(e){var t=je(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Re,(function(e,n,r,o){t.push(r?o.replace(Me,"$1"):n||e)})),t}));var Fe=$?$.prototype:void 0,Be=Fe?Fe.toString:void 0;function Ue(e){if("string"==typeof e)return e;if(Y(e))return function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(e,Ue)+"";if(oe(e))return Be?Be.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ge(e,t){return Y(e)?e:se(e,t)?[e]:Ne(function(e){return null==e?"":Ue(e)}(e))}function He(e){if("string"==typeof e||oe(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ve(e,t){for(var n=0,r=(t=Ge(t,e)).length;null!=e&&n<r;)e=e[He(t[n++])];return n&&n==r?e:void 0}function We(e,t,n){var r=null==e?void 0:Ve(e,t);return void 0===r?n:r}function Ye(e){var t=this.__data__=new Pe(e);this.size=t.size}Ye.prototype.clear=function(){this.__data__=new Pe,this.size=0},Ye.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ye.prototype.get=function(e){return this.__data__.get(e)},Ye.prototype.has=function(e){return this.__data__.has(e)},Ye.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Pe){var r=n.__data__;if(!Oe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new De(r)}return n.set(e,t),this.size=n.size,this};function ze(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new De;++t<n;)this.add(e[t])}function Ke(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function qe(e,t){return e.has(t)}ze.prototype.add=ze.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ze.prototype.has=function(e){return this.__data__.has(e)};function $e(e,t,n,r,o,i){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,p=2&n?new ze:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var h=e[f],g=t[f];if(r)var m=a?r(g,h,f,t,e,i):r(h,g,f,e,t,i);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!Ke(t,(function(e,t){if(!qe(p,t)&&(h===e||o(h,e,n,r,i)))return p.push(t)}))){d=!1;break}}else if(h!==g&&!o(h,g,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d}var Xe=q.Uint8Array;function Ze(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Qe(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Je=$?$.prototype:void 0,et=Je?Je.valueOf:void 0;var tt=Object.prototype.propertyIsEnumerable,nt=Object.getOwnPropertySymbols,rt=nt?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(nt(e),(function(t){return tt.call(e,t)})))}:function(){return[]};function ot(e){return re(e)&&"[object Arguments]"==ne(e)}var it=Object.prototype,at=it.hasOwnProperty,st=it.propertyIsEnumerable,lt=ot(function(){return arguments}())?ot:function(e){return re(e)&&at.call(e,"callee")&&!st.call(e,"callee")};var ut="object"==o(t)&&t&&!t.nodeType&&t,ct=ut&&"object"==o(n)&&n&&!n.nodeType&&n,ft=ct&&ct.exports===ut?q.Buffer:void 0,dt=(ft?ft.isBuffer:void 0)||function(){return!1},pt=/^(?:0|[1-9]\d*)$/;function ht(e,t){var n=void 0===e?"undefined":o(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&pt.test(e))&&e>-1&&e%1==0&&e<t}function gt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var mt={};mt["[object Float32Array]"]=mt["[object Float64Array]"]=mt["[object Int8Array]"]=mt["[object Int16Array]"]=mt["[object Int32Array]"]=mt["[object Uint8Array]"]=mt["[object Uint8ClampedArray]"]=mt["[object Uint16Array]"]=mt["[object Uint32Array]"]=!0,mt["[object Arguments]"]=mt["[object Array]"]=mt["[object ArrayBuffer]"]=mt["[object Boolean]"]=mt["[object DataView]"]=mt["[object Date]"]=mt["[object Error]"]=mt["[object Function]"]=mt["[object Map]"]=mt["[object Number]"]=mt["[object Object]"]=mt["[object RegExp]"]=mt["[object Set]"]=mt["[object String]"]=mt["[object WeakMap]"]=!1;var vt,yt="object"==o(t)&&t&&!t.nodeType&&t,bt=yt&&"object"==o(n)&&n&&!n.nodeType&&n,At=bt&&bt.exports===yt&&z.process,Ct=function(){try{var e=bt&&bt.require&&bt.require("util").types;return e||At&&At.binding&&At.binding("util")}catch(e){}}(),It=Ct&&Ct.isTypedArray,_t=It?(vt=It,function(e){return vt(e)}):function(e){return re(e)&&gt(e.length)&&!!mt[ne(e)]},Et=Object.prototype.hasOwnProperty;function wt(e,t){var n=Y(e),r=!n&&lt(e),o=!n&&!r&&dt(e),i=!n&&!r&&!o&&_t(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!Et.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ht(u,l))||s.push(u);return s}var St=Object.prototype;var Tt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),kt=Object.prototype.hasOwnProperty;function xt(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||St))return Tt(e);var t,n,r=[];for(var o in Object(e))kt.call(e,o)&&"constructor"!=o&&r.push(o);return r}function Pt(e){return null!=(t=e)&&gt(t.length)&&!ue(t)?wt(e):xt(e);var t}function Ot(e){return function(e,t,n){var r=t(e);return Y(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Pt,rt)}var Lt=Object.prototype.hasOwnProperty;var Dt=Ie(q,"DataView"),jt=Ie(q,"Promise"),Rt=Ie(q,"Set"),Mt=Ie(q,"WeakMap"),Nt=he(Dt),Ft=he(Oe),Bt=he(jt),Ut=he(Rt),Gt=he(Mt),Ht=ne;(Dt&&"[object DataView]"!=Ht(new Dt(new ArrayBuffer(1)))||Oe&&"[object Map]"!=Ht(new Oe)||jt&&"[object Promise]"!=Ht(jt.resolve())||Rt&&"[object Set]"!=Ht(new Rt)||Mt&&"[object WeakMap]"!=Ht(new Mt))&&(Ht=function(e){var t=ne(e),n="[object Object]"==t?e.constructor:void 0,r=n?he(n):"";if(r)switch(r){case Nt:return"[object DataView]";case Ft:return"[object Map]";case Bt:return"[object Promise]";case Ut:return"[object Set]";case Gt:return"[object WeakMap]"}return t});var Vt=Ht,Wt=Object.prototype.hasOwnProperty;function Yt(e,t,n,r,o,i){var a=Y(e),s=Y(t),l=a?"[object Array]":Vt(e),u=s?"[object Array]":Vt(t),c="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),f="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),d=l==u;if(d&&dt(e)){if(!dt(t))return!1;a=!0,c=!1}if(d&&!c)return i||(i=new Ye),a||_t(e)?$e(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Xe(e),new Xe(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Te(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Ze;case"[object Set]":var l=1&r;if(s||(s=Qe),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=$e(s(e),s(t),r,o,i,a);return a.delete(e),c;case"[object Symbol]":if(et)return et.call(e)==et.call(t)}return!1}(e,t,l,n,r,o,i);if(!(1&n)){var p=c&&Wt.call(e,"__wrapped__"),h=f&&Wt.call(t,"__wrapped__");if(p||h){var g=p?e.value():e,m=h?t.value():t;return i||(i=new Ye),o(g,m,n,r,i)}}return!!d&&(i||(i=new Ye),function(e,t,n,r,o,i){var a=1&n,s=Ot(e),l=s.length;if(l!=Ot(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:Lt.call(t,c)))return!1}var f=i.get(e),d=i.get(t);if(f&&d)return f==t&&d==e;var p=!0;i.set(e,t),i.set(t,e);for(var h=a;++u<l;){var g=e[c=s[u]],m=t[c];if(r)var v=a?r(m,g,c,t,e,i):r(g,m,c,e,t,i);if(!(void 0===v?g===m||o(g,m,n,r,i):v)){p=!1;break}h||(h="constructor"==c)}if(p&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,r,o,i))}function zt(e,t,n,r,o){return e===t||(null==e||null==t||!re(e)&&!re(t)?e!=e&&t!=t:Yt(e,t,n,r,zt,o))}function Kt(e){return e==e&&!le(e)}function qt(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function $t(e){var t=function(e){for(var t=Pt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Kt(o)]}return t}(e);return 1==t.length&&t[0][2]?qt(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var l=(s=n[o])[0],u=e[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var f=new Ye;if(r)var d=r(u,c,l,e,t,f);if(!(void 0===d?zt(c,u,3,r,f):d))return!1}}return!0}(n,e,t)}}function Xt(e,t){return null!=e&&t in Object(e)}function Zt(e,t){return null!=e&&function(e,t,n){for(var r=-1,o=(t=Ge(t,e)).length,i=!1;++r<o;){var a=He(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&gt(o)&&ht(a,o)&&(Y(e)||lt(e))}(e,t,Xt)}function Qt(e){return e}function Jt(e){return se(e)?function(e){return function(t){return null==t?void 0:t[e]}}(He(e)):function(e){return function(t){return Ve(t,e)}}(e)}function en(e){return"function"==typeof e?e:null==e?Qt:"object"==(void 0===e?"undefined":o(e))?Y(e)?(t=e[0],n=e[1],se(t)&&Kt(n)?qt(He(t),n):function(e){var r=We(e,t);return void 0===r&&r===n?Zt(e,t):zt(n,r,3)}):$t(e):Jt(e);var t,n}var tn=/\s/;var nn=/^\s+/;function rn(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&tn.test(e.charAt(t)););return t}(e)+1).replace(nn,""):e}var on=/^[-+]0x[0-9a-f]+$/i,an=/^0b[01]+$/i,sn=/^0o[0-7]+$/i,ln=parseInt;function un(e){return e?(e=function(e){if("number"==typeof e)return e;if(oe(e))return NaN;if(le(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=le(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=rn(e);var n=an.test(e);return n||sn.test(e)?ln(e.slice(2),n?2:8):on.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}var cn=Math.max;function fn(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:function(e){var t=un(e),n=t%1;return t==t?n?t-n:t:0}(n);return o<0&&(o=cn(r+o,0)),function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,en(t),o)}var dn=y.getHelpers().cloneDeep,pn=function(){function e(){l(this,e)}return i(e,null,[{key:"validateOptions",value:function(e,t){var n=null,r=e||{};if(("object"!==(void 0===r?"undefined":o(r))||Array.isArray(r))&&(n="is not an object."),!n)for(var i=Object.keys(r),a=void 0,s=void 0,l=void 0,u=void 0,c=0,f=i.length;c<f;c++){if(void 0===(a=t[u=i[c]])){n="contains unsupported option: "+u;break}if(s=r[u],l=Array.isArray(s)?"array":void 0===s?"undefined":o(s),null!==s&&l!==a.expectedType){n='contains option with unexpected value type for "'+u+'" (expected: '+a.expectedType+"; found: "+l+")";break}}for(var d=Object.keys(t),p=void 0,h=0,g=d.length;h<g;h++)if(t[p=d[h]].required&&void 0===r[p]){n="did not contain a required option: "+p;break}if(n)throw new Error("The options arg you passed "+n)}},{key:"getDefaultOptions",value:function(e){for(var t={},n=Object.keys(e),r=void 0,o=0,i=n.length;o<i;o++)t[r=n[o]]=e[r].defaultValue;return t}},{key:"cloneDeep",value:function(e){return dn(e)}},{key:"throwNotImplementedError",value:function(e){throw new Error(e+"() is not implemented in the BamGameUtils, and the subclass has not providedan implementation either.")}},{key:"getDictFromContext",value:function(e){return e.i18n_dictionary?e.i18n_dictionary:e.configFinder&&e.i18n?e.i18n:{recap:"Recap",watch:"Watch",gameday:"Gameday",preview:"Preview",wrap:"Wrap",boxscore:"Boxscore",box:"Box",tickets:"Tickets",buysell:"Buy/Sell",video:"Video",mlbtv:"MLB.tv"}}}]),e}(),hn=function e(t,n,r,o,i){l(this,e),u.validateArgs(arguments,["url","text","icon","target","supplementaryData"],["string","string|null","string","string|null","object"],[!0,!1,!1,!1,!1]),u.validateAllowed(o,["_self","_blank"]),this.url=t,this.text=n,this.icon=r,this.target=o||"_self",void 0!==i&&(this.supplementaryData=i)},gn=["watch","preview","recap","audio","vidhighlights","tickets","buysell","promotions","hotels","flights","wrap"],mn=function(){function e(t){l(this,e),this._allowedKeys=gn.concat(t),this._buttonArray=[]}return i(e,[{key:"addButton",value:function(e,t){if(u.validateArgs(arguments,["key","bamButton"],["string","object"],[!0,!0]),u.validateAllowed(e,this._allowedKeys),this.hasOwnProperty(e))throw new RangeError("Button with key: "+e+" already exists");this._buttonArray.push(t),this[e]=t}},{key:"getButtonArray",value:function(){return this._buttonArray}}]),e}(),vn=y.getHelpers().cloneDeep,yn={bamLinker:{expectedType:"object",required:!0},dictionaryData:{expectedType:"object",required:!0},callerCode:{expectedType:"string",required:!0}},bn=pn.getDefaultOptions(yn),An=function(){function e(t){l(this,e),pn.validateOptions(t,yn);var n=Object.assign(vn(bn),t||{});this._bamLinker=n.bamLinker,this._dictionaryData=n.dictionaryData,this._callerCode=n.callerCode}return i(e,[{key:"getButtons",value:function(e){pn.throwNotImplementedError("getButtons")}},{key:"getGameTense",value:function(e){pn.throwNotImplementedError("getGameTense")}},{key:"getBamLinker",value:function(){return this._bamLinker}},{key:"getBamTeamData",value:function(){return this._bamLinker.getBamTeamData()}},{key:"_getTrans",value:function(e,t){return this._dictionaryData[e]||t||e}}],[{key:"getHelpers",value:function(){return pn}},{key:"getBamButtonClass",value:function(){return hn}},{key:"getBamButtonGroupClass",value:function(){return mn}}]),e}(),Cn=function(e){function t(e,n,r,o,i,s){l(this,t);var u=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,o,i));return u.ariaLabel=s||null,u}return s(t,e),i(t,[{key:"toString",value:function(){var e="{";for(var t in this)this.hasOwnProperty(t)&&0!==t.indexOf("_")&&(e+=t+"="+this[t]+";");return e.length>1&&(e=e.substring(0,e.length-1)),e+="}"}},{key:"buttonProps",get:function(){return{url:this.url,text:this.text,icon:this.icon,target:this.target,ariaLabel:this.ariaLabel,supplementaryData:this.supplementaryData}}}]),t}(An.getBamButtonClass()),In=An.getBamButtonGroupClass(),_n=["boxscore","gameday","notes","fgow","youtubefgow"],En=function(e){function t(){return l(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,_n))}return s(t,e),i(t,[{key:"addButton",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addButton",this).call(this,e,n)}}]),t}(In),wn={preview:{type:"preview",linkerFunction:"getPreviewLink",text:{dictionary:"button_preview",fallback:"Preview"},accessibility:{dictionary:"button_preview",fallback:"Preview"},glyph:"recap",target:"_self"},deepLinkPreview:{type:"preview",linkerFunction:"getDeviceDeepLink",text:{dictionary:"button_preview",fallback:"Preview"},accessibility:{dictionary:"button_preview",fallback:"Preview"},glyph:"recap",target:"_self"},watch:{type:"watch",linkerFunction:"getNewTvLink",text:{dictionary:"button_mlbtv",fallback:"MLB.TV"},accessibility:{dictionary:"button_mlbtv",fallback:"MLB.TV"},glyph:"watch",target:"_self"},watchMilb:{type:"watch",linkerFunction:"getTvLink",text:{dictionary:"button_milbtv",fallback:"MiLB.TV"},accessibility:{dictionary:"button_milbtv_accessibility",fallback:"Em Eye Elle Bee dot Tee Vee"},glyph:"watch",target:"_self"},watchSubscribe:{type:"watch",linkerFunction:"getTvLinkOrTvSubscriptionLink",text:{dictionary:"button_mlbtv",fallback:"MLB.TV"},accessibility:{dictionary:"button_mlbtv",fallback:"MLB.TV"},glyph:"watch",target:"_self"},watchMilbSubscribe:{type:"watch",linkerFunction:"getTvLinkOrTvSubscriptionLink",text:{dictionary:"button_milbtv",fallback:"Em Eye Elle Bee"},accessibility:{dictionary:"button_milbtv_accessibility",fallback:"Em Eye Elle Bee"},glyph:"watch",target:"_self"},gameday:{type:"gameday",linkerFunction:"getGamedayLink",text:{dictionary:"button_gameday",fallback:"Gameday"},accessibility:{dictionary:"button_gameday",fallback:"Gameday"},glyph:"gameday",target:"_self"},deepLinkGameday:{type:"gameday",linkerFunction:"getDeviceDeepLink",text:{dictionary:"button_gameday",fallback:"Gameday"},accessibility:{dictionary:"button_gameday",fallback:"Gameday"},glyph:"gameday",target:"_self"},tickets:{type:"tickets",linkerFunction:"getTicketsLink",text:{dictionary:"button_tickets",fallback:"Tickets"},accessibility:{dictionary:"tickets_buy",fallback:"Buy Tickets"},glyph:"tickets",target:"_blank"},audio:{type:"audio",linkerFunction:"getAudioLink",text:{dictionary:"button_audio",fallback:"Audio"},accessibility:{dictionary:"button_audio",fallback:"Audio"},glyph:"audio",target:"_self"},audioMilbTeam:{type:"audio",linkerFunction:"getTuneInLinkForContextTeam",text:{dictionary:"button_audio",fallback:"Audio"},accessibility:{dictionary:"button_audio",fallback:"Audio"},glyph:"audio",target:"_self"},audioMilb:{type:"audio",linkerFunction:"getTuneInLink",text:{dictionary:"button_audio",fallback:"Audio"},accessibility:{dictionary:"button_audio",fallback:"Audio"},glyph:"audio",target:"_self"},boxscore:{type:"boxscore",linkerFunction:"getBoxscoreLink",text:{dictionary:"button_box",fallback:"Box"},accessibility:{dictionary:"button_box",fallback:"Box"},glyph:"line-score",target:"_self"},vidhighlights:{type:"vidhighlights",linkerFunction:"getVideoHighlightsLink",text:{dictionary:"button_video",fallback:"Video"},accessibility:{dictionary:"button_video_watch_highlight",fallback:"Watch highlights"},glyph:"video",target:"_self"},recap:{type:"recap",linkerFunction:"getWrapLink",text:{dictionary:"button_wrap",fallback:"Wrap"},accessibility:{dictionary:"button_wrap",fallback:"Wrap"},glyph:"recap",target:"_self"},wrap:{type:"wrap",linkerFunction:"getWrapLink",text:{dictionary:"button_wrap",fallback:"Wrap"},accessibility:{dictionary:"button_wrap",fallback:"Wrap"},glyph:"recap",target:"_self"},deepLinkWrap:{type:"wrap",linkerFunction:"getDeviceDeepLink",text:{dictionary:"button_wrap",fallback:"Wrap"},accessibility:{dictionary:"button_wrap",fallback:"Wrap"},glyph:"recap",target:"_self"},youtubefgow:{type:"youtubefgow",linkerFunction:"getYouTubeGameLink",text:{dictionary:"youtube_abbrv_label",fallback:"YouTube"},accessibility:{dictionary:"youtube_label",fallback:"Live on YouTube - Watch Free"},glyph:"youtube",target:"_self"},fgow:{type:"fgow",linkerFunction:"getFacebookGameLink",text:{dictionary:"button_fgow",fallback:"FB Watch"},accessibility:{dictionary:"button_fgow",fallback:"FB Watch"},glyph:"facebook-watch",target:"_self"},scheduleMilb:{type:"schedule",linkerFunction:"getScheduleLink",text:{dictionary:"schedule_label",fallback:"Schedule"},accessibility:{dictionary:"schedule_label",fallback:"Schedule"},glyph:"calendar",target:"_self"},liveBox:{type:"liveBox",linkerFunction:"getLiveBoxLink",text:{dictionary:"button_box",fallback:"Box"},accessibility:{dictionary:"button_box",fallback:"Box"},glyph:"line-score",target:"_self"}};function Sn(e,t){var n="";if(e){var r=-1!==e.indexOf("03:33:00Z");if(t){var o=t.getMomentTimezone(),i=t.getBamMomentLocales();n=o(r?e.substr(0,10):e).format(i.get_MMM_D())}}return n}function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.translateFunction,n=e.dictionaryKey,r=e.dictionaryFallback,o=void 0===r?"":r,i=e.replaceKey,a=void 0===i?"":i,s=e.replaceValue,l=void 0===s?"":s;return(""+t(n,o)).replace(a,l)}var kn=function(){function e(t){l(this,e),this._dictionaryData=t.dictionaryData,this._callerCode=t.callerCode,this._linker=t.linker,this._moment=t.moment,this.CODE_TENSE_BUTTONS=t.codeTenseButtons,this._buttonGroup=t.buttonGroup}return i(e,[{key:"_getTrans",value:function(e,t){return this._dictionaryData[e]||t||e}},{key:"getGameTense",value:function(e){var t=e.status.abstractGameCode;return"F"===t?"past":"P"===t?"future":"present"}},{key:"getButtons",value:function(e){var t=this,n=this.getGameTense(e),r=this.CODE_TENSE_BUTTONS[this._callerCode][n],o=this._buttonGroup?new this._buttonGroup:new En;return r.forEach((function(n){var r=wn[n],i=r.linkerFunction,a=t._linker[i](e);if(a){var s=r.text,l=r.glyph,u=r.target,c=r.type,f=r.accessibility,d=t._getTrans(s.dictionary,s.fallback),p=t._getTrans(f.dictionary,f.fallback);o.addButton(c,new Cn(a,d,l,u,{buttonType:c},p))}})),o}},{key:"getInterruptedGameStrs",value:function(e){var t=e.rescheduleDate,n=e.rescheduledFrom,r=e.resumeDate,o=e.resumedFrom,i=this.getExtendedStatus(e),a=this._getTrans.bind(this),s=null,l=null,u="";e.status&&e.status.reason&&(u=e.status.reason);var c=i.isPreview,f=i.isPostponed,d=i.isCancelled,p=i.isDelayed;if(i.isSuspended)s=Tn({translateFunction:a,dictionaryKey:"game_susp_reason",dictionaryFallback:"Suspended: {{reason}}",replaceKey:"{{reason}}",replaceValue:u}),r?l=Tn({translateFunction:a,dictionaryKey:"game_susp_to_be_completed",dictionaryFallback:"To be completed on {{date}}",replaceKey:"{{date}}",replaceValue:Sn(r,this._moment)}):o&&(l=Tn({translateFunction:a,dictionaryKey:"game_susp_completion_on_date",dictionaryFallback:"Completion of game suspended on {{date}}",replaceKey:"{{date}}",replaceValue:Sn(o,this._moment)}));else if(f)s=Tn({translateFunction:a,dictionaryKey:"game_ppd_reason",dictionaryFallback:"Postponed: {{reason}}",replaceKey:"{{reason}}",replaceValue:u}),t&&(l=Tn({translateFunction:a,dictionaryKey:"game_ppd_makeup_date",dictionaryFallback:"Makeup on {{date}}",replaceKey:"{{date}}",replaceValue:Sn(t,this._moment)}));else if(d)s=Tn({translateFunction:a,dictionaryKey:"game_canc_reason",dictionaryFallback:"Cancelled: {{reason}}",replaceKey:"{{reason}}",replaceValue:u});else if(p){var h="game_delay_reason",g="Delayed: {{reason}}";c&&(h="game_delay_start_reason",g="Delayed Start: {{reason}}"),s=Tn({translateFunction:a,dictionaryKey:h,dictionaryFallback:g,replaceKey:"{{reason}}",replaceValue:u})}return l||(o?l=Tn({translateFunction:a,dictionaryKey:"game_susp_completion_on_date",dictionaryFallback:"Completion of game suspended on {{date}}",replaceKey:"{{date}}",replaceValue:Sn(o,this._moment)}):r?l=Tn({translateFunction:a,dictionaryKey:"game_susp_completed_on_date",dictionaryFallback:"Completed on {{date}}",replaceKey:"{{date}}",replaceValue:Sn(r,this._moment)}):n&&(l=Tn({translateFunction:a,dictionaryKey:"game_ppd_makeup_of",dictionaryFallback:"Makeup of {{date}}",replaceKey:"{{date}}",replaceValue:Sn(n,this._moment)}))),s||l?{primary:s,makeup:l}:null}},{key:"getPostSeasonReady",value:function(e,t){return{isPostSeason:"F"===e||"D"===e||"L"===e||"W"===e||"C"===e,isTieBreaker:t&&"Y"===t&&"R"===e}}},{key:"getInterruptedGamePrimaryStr",value:function(e){var t=this.getInterruptedGameStrs(e);return null===t?null:t.primary}},{key:"getInterruptedGameMakeupStr",value:function(e){var t=this.getInterruptedGameStrs(e);return null===t?null:t.makeup}},{key:"groupDoubleheaders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(t,n){if("Y"===t.doubleHeader&&1===t.gameNumber){var r=We(t,"venue.id"),o=We(t,"status.abstractGameCode"),i=fn(e,(function(e){var t=We(e,"venue.id");return"Y"===e.doubleHeader&&2===e.gameNumber&&t===r}));if(i>-1)if(We(e[i],"status.abstractGameCode")===o){var a=e.splice(i,1);e.splice(n,0,a[0])}}}))}},{key:"groupDoubleheaderGames",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length;if(t>0)for(var n=0;n<t;n++){We(e[n],"status.abstractGameCode");"Y"===e[n].doubleHeader&&1===e[n].gameNumber&&function(){var t=We(e[n],"venue.id"),r=We(e[n],"status.abstractGameCode"),o=void 0,i=fn(e,(function(e){var n=We(e,"venue.id");return o=We(e,"status.abstractGameCode"),"Y"===e.doubleHeader&&2===e.gameNumber&&n===t}));if(i>-1&&"L"===r&&("L"===o||"P"===o)||"F"===r&&"F"===o||"P"===r&&"P"===o){We(e[i],"status.abstractGameCode");var a=e.splice(i,1);e.splice(n,0,a[0])}}()}}},{key:"getExtendedStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gameType,n=e.tiebreaker,r=e.doubleHeader,o=void 0===r?"N":r,i=e.status,a=void 0===i?{}:i,s=e.flags,l=void 0===s?{}:s,u=l.noHitter,c=l.perfectGame,f=!1;e.content&&e.content.media&&(f=!!e.content.media.freeGame);var d=a.abstractGameCode,p=a.codedGameState,h=a.statusCode,g=a.startTimeTBD,m="I"===p&&"I"!==h&&"IH"!==h,v="P"===p&&"P"!==h&&"PW"!==h,y="F"===p&&"F"!==h&&"FT"!==h&&"FW"!==h,b=this.getPostSeasonReady(t,n),A=b.isPostSeason,C=b.isTieBreaker,I=A||C;return{isAllStar:"A"===t,isCancelled:"C"===p,isClassicDoubleHeader:"Y"===o,isCompletedEarly:y,isDelayed:m||v,isDoubleHeader:"N"!==o,isExhibition:"E"===t,isFinal:"F"===d,isForfeit:"Q"===p||"R"===p,isFreeGame:f,isInstantReplay:"IH"===h,isLive:"L"===d,isManagerChallenge:"M"===p,isNoHitter:!!u,isPerfectGame:!!c,isPostponed:"D"===p,isPreview:"P"===d,isSplitTicketDoubleHeader:"S"===o,isSpring:"S"===t,isSuspended:"T"===p||"U"===p,isTBD:!!g,isUmpireReview:"N"===p,isWarmup:"PW"===h,isPostSeason:A,isTieBreaker:C,isPostSeasonReady:I}}},{key:"hasTeam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return!1;var n=We(e,"teams.home.team.id"),r=We(e,"teams.away.team.id");return n==t||r==t}},{key:"getBamLinker",value:function(){return this._linker}},{key:"groupForPostSeasonPush",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.length,r=t.ppTeamInclude,o=[],i=n;i--;){var a=e[i].games;o=a.filter((function(e,t,n){var o=We(e,"teams.home.team.id",null),i=We(e,"teams.away.team.id",null),a=r.indexOf(o)>-1||r.indexOf(i)>-1;return e.psPushGame=a,a})),e[i].postseasonPushGames=o}}},{key:"setSortOrders",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.length;r--;){if(e[r].sortOrder="",t){var o=this.hasTeam(e[r],t);e[r].sortOrder=(o?0:1)+"_"}var i=this.getExtendedStatus(e[r]),a=n.length;if(a>0)for(var s=a;s--;){var l=n.indexOf(n[s]);if(n[s]&&i[n[s]]){e[r].sortOrder+=l+"_"+(e[r].status.startTimeTBD?1:0)+"_"+e[r].gameDate+"_"+e[r].gamePk;break}}}}},{key:"sortGamesLogic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.sort((function(e,t){return e.sortOrder<t.sortOrder?-1:e.sortOrder>t.sortOrder?1:0}))}},{key:"sortByGameStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.length;if(r>0)for(var o=r;o--;){var i=e[o].games;this.setSortOrders(i,t,n),this.sortGamesLogic(i),this.groupDoubleheaderGames(i)}}},{key:"sortGames",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.dates;i.forEach((function(t){var i=t.games;i.sort((function(t,i){if(r){var a=n.hasTeam(t,r),s=n.hasTeam(i,r);if(a&&!s)return-1;if(s&&!a)return 1}var l=t.status.abstractGameCode,u=i.status.abstractGameCode,c=t.status.startTimeTBD,f=i.status.startTimeTBD,d=o[l][u];if(0===d)if(c||f)d=c&&!f?1:f&&!c?-1:0;else{var p=e.getMomentTimezone(),h=t.gameDate,g=i.gameDate;p(h).isBefore(g)?d=-1:p(h).isAfter(g)&&(d=1)}return d})),n.groupDoubleheaders(i)}))}},{key:"linker",get:function(){return this._linker}}]),e}(),xn=An.getBamButtonGroupClass(),Pn=["boxscore","gameday","notes","schedule","liveBox"],On=function(e){function t(){return l(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Pn))}return s(t,e),i(t,[{key:"addButton",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addButton",this).call(this,e,n)}}]),t}(xn),Ln={"probable-pitchersSection":{future:["preview","gameday","tickets"],present:["gameday","audio","watchMilb"],past:["wrap","watchMilb","vidhighlights"]},"club-sked":{future:["preview","watchMilb","gameday","tickets"],present:["watchMilb","gameday","tickets","audioMilbTeam"],past:["recap","boxscore"]},"league-sked":{future:["preview","watchMilb","gameday","tickets"],present:["watchMilb","gameday","tickets","audioMilb","liveBox"],past:["recap","watchMilb","boxscore","tickets"]},"mediawall-desktop":{future:["preview","gameday","tickets"],present:["gameday","watchMilb","tickets"],past:["recap","boxscore","watchMilb"]},"mediawall-device":{future:["preview","gameday","tickets"],present:["gameday","tickets"],past:["recap","boxscore"]},"minisb-desktop":{future:["preview","watchMilb","tickets"],present:["gameday","watchMilb"],past:["wrap","boxscore"]},"minisb-device":{future:["preview","tickets"],present:["watchMilb","gameday"],past:["wrap","boxscore"]},"scoresSection-desktop":{future:["preview","gameday","watchMilb","tickets"],present:["gameday","audioMilb","watchMilb","tickets","liveBox"],past:["wrap","boxscore","watchMilb"]},"scoresSection-device":{future:["preview","gameday","tickets"],present:["gameday","tickets","liveBox"],past:["wrap","boxscore"]},"scoresSection-firstpitch":{future:["preview","gameday","tickets"],present:["gameday","tickets","liveBox"],past:["wrap","boxscore"]},"scoresMig-desktop":{future:["preview","tickets","scheduleMilb"],present:["watchMilb","gameday","audioMilbTeam","scheduleMilb"],past:["wrap","boxscore","watchMilb","scheduleMilb"]},"scoresMig-device":{future:["preview","tickets","scheduleMilb"],present:["watchMilb","gameday","audioMilbTeam","scheduleMilb"],past:["wrap","boxscore","watchMilb","scheduleMilb"]}},Dn=function(e){function t(e,n){l(this,t);var r=e;if(!r){if(!window)throw new Error("windowOrReq was null or undefined, but no window object was found.");r=window}var o=new B(r,{isMilb:!0}),i=function(e){return e.i18n_dictionary?e.i18n_dictionary:e.res&&e.res.locals&&e.res.locals.i18nDictionary&&e.res.locals.i18nDictionary.dict?e.res.locals.i18nDictionary.dict:{recap:"Recap",watch:"Watch",gameday:"Gameday",preview:"Preview",wrap:"Wrap",boxscore:"Boxscore",box:"Box",tickets:"Tickets",buysell:"Buy/Sell",video:"Video",mlbtv:"MLB.tv",schedule:"Schedule"}}(r);return u.validateAllowed(n,["probable-pitchersSection","club-sked","league-sked","mediawall-desktop","mediawall-device","minisb-desktop","minisb-device","scoresSection-desktop","scoresSection-device","scoresSection-firstpitch","scoresMig-desktop","scoresMig-device"]),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{linker:o,callerCode:n,dictionaryData:i,moment:r.milbMoment,codeTenseButtons:Ln,buttonGroup:On}))}return s(t,e),i(t,null,[{key:"CALLER_CODE_PROBABLE_PITCHERS_SECTION",get:function(){return"probable-pitchersSection"}},{key:"CALLER_CODE_CLUB_SCHEDULE_SECTION",get:function(){return"club-sked"}},{key:"CALLER_CODE_LEAGUE_SCHEDULE_SECTION",get:function(){return"league-sked"}},{key:"CALLER_CODE_SCORES_MEDIAWALL_DESKTOP",get:function(){return"mediawall-desktop"}},{key:"CALLER_CODE_SCORES_MEDIAWALL_DEVICE",get:function(){return"mediawall-device"}},{key:"CALLER_CODE_SCORES_MINISB_DESKTOP",get:function(){return"minisb-desktop"}},{key:"CALLER_CODE_SCORES_MINISB_DEVICE",get:function(){return"minisb-device"}},{key:"CALLER_CODE_SCORES_SECTION_DESKTOP",get:function(){return"scoresSection-desktop"}},{key:"CALLER_CODE_SCORES_SECTION_DEVICE",get:function(){return"scoresSection-device"}},{key:"CALLER_CODE_SCORES_SECTION_FIRSTPITCH",get:function(){return"scoresSection-firstpitch"}},{key:"CALLER_CODE_SCORES_MIG_DESKTOP",get:function(){return"scoresMig-desktop"}},{key:"CALLER_CODE_SCORES_MIG_DEVICE",get:function(){return"scoresMig-device"}}]),t}(kn);t.default=Dn,n.exports=t.default}).call(this,n(26),n(73)(e))},function(e,t,n){(function(t){var r;window,r=function(e,n){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=220)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),o=n(27),i=n(59),a=n(6),s=n(44),l=n(15),u=n(38),c=function(e){function t(n,r,o){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!n){a.destination=i.a;break}if("object"==typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new f(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new f(a,n,r,o)}return a}return r.a(t,e),t.prototype[s.a]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.a),f=function(e){function t(t,n,r,a){var s,l=e.call(this)||this;l._parentSubscriber=t;var u=l;return Object(o.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==i.a&&(u=Object.create(n),Object(o.a)(u.unsubscribe)&&l.add(u.unsubscribe.bind(u)),u.unsubscribe=l.unsubscribe.bind(l))),l._context=u,l._next=s,l._error=r,l._complete=a,l}return r.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;l.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=l.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};l.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),l.a.useDeprecatedSynchronousErrorHandling)throw e;Object(u.a)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!l.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return l.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(u.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(c)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var r=n(0),o=n(1),i=n(4),a=n(37),s=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return r.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(o.a),l=(o.a,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(o.a));function u(e,t){if(!t.closed)return e instanceof i.a?e.subscribe(t):Object(a.a)(e)(t)}o.a},function(e,t,n){var r=n(114);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(57),o=n(1),i=n(44),a=n(59),s=n(24),l=n(41),u=n(15),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,s=function(e,t,n){if(e){if(e instanceof o.a)return e;if(e[i.a])return e[i.a]()}return e||t||n?new o.a(e,t,n):new o.a(a.a)}(e,t,n);if(r?s.add(r.call(s,this.source)):s.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){u.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(r.a)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=f(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[s.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(l.b)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function f(e){if(e||(e=u.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},function(e,n,r){var o;window,o=function(e,n,r,o,i,a){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=143)}([function(e,t,n){var r=n(31);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(t,n){t.exports=e},function(e,t,n){e.exports=n(62)()},function(e,t,n){var r=n(68);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(17),o=n(23);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?o(n,u,c):r(n,u,c)}return n}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r=e[1]||"",o=e[3];if(!o)return r;if(t&&"function"==typeof btoa){var i=(n=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=o.sources.map((function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"}));return[r].concat(a).concat([i]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e,t){return t?t.querySelector(e):document.querySelector(e)},l=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=s.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),u=null,c=0,f=[],d=n(130);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(b(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(b(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function g(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=l(e.insertAt.before,n);n.insertBefore(t,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);t>=0&&f.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=n.nc;r&&(e.attrs.nonce=r)}return y(t,e.attrs),g(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function b(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var a=c++;n=u||(u=v(t)),r=I.bind(null,n,a,!1),o=I.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),g(e,t),t}(t),r=E.bind(null,n,t),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=_.bind(null,n),o=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return p(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}for(e&&p(h(e,t),t),o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var A,C=(A=[],function(e,t){return A[e]=t,A.filter(Boolean).join("\n")});function I(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=C(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function _(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function E(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){"use strict";var e=document.querySelectorAll("meta"),t=Array.prototype.slice.call(e),n={};return t.forEach((function(e,t){var r=e.getAttribute("name")||e.getAttribute("property");if(r){var o="bam-override-"+r+"=",i=window.location.href.indexOf(o);if(-1!==i){var a=window.location.href.substr(i+o.length),s=a.indexOf("&");-1!==s&&(a=a.substr(0,s)),n[r]=a}else n[r]=e.getAttribute("content");switch(e.getAttribute("data-type")){case"json":n[r]=JSON.parse(n[r])}}})),n})?r.apply(t,o):r)||(e.exports=i)},function(e,n,r){var o;o=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=new RegExp("[A-Za-z0-9_-]+"),o="string",i=["name","expires","path","domain","secure"],a=new RegExp("number|string|boolean"),s=new RegExp("([A-Za-z0-9_|@\\.-]+)=([^;]*)","ig"),l=encodeURIComponent,u=decodeURIComponent;function c(){var e=[],n=void 0,s=2===arguments.length&&t.type(arguments.length<=0?void 0:arguments[0])===o?{name:arguments.length<=0?void 0:arguments[0],value:arguments.length<=1?void 0:arguments[1]}:arguments.length<=0?void 0:arguments[0];"object"===t.type(s)&&t.each(i,(function(u,c){if(n=c in s?s[c]:null,c!==i[2]||n||(n="/"),null!==n)switch(c){case i[0]:if(t.type(n)!==o||!r.test(n)||!a.test(t.type(s.value||null)))return!1;e.push(n+"="+l(s.value));break;case i[1]:"date"===t.type(n)&&e.push(c+"="+n.toGMTString());break;case i[2]:t.type(n)===o&&e.push(c+"="+(n||"/"));break;case i[4]:"boolean"===t.type(n)&&n&&e.push(c);break;default:t.type(n)===o&&n&&e.push(c+"="+n)}})),e.length&&(document.cookie=e.join(";"))}function f(){var e={};return u(document.cookie).replace(s,(function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e[n[1]]=n[2]})),e}function d(){var e={expires:new Date,value:-1};if(e.expires.setTime(e.expires-1),arguments.length){switch(t.type(arguments.length<=0?void 0:arguments[0])){case o:e.name=arguments.length<=0?void 0:arguments[0];break;case"object":e=t.extend(arguments.length<=0?void 0:arguments[0],e);break;default:return!1}c(e)}}n.set=c,n.setBulk=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.length&&t.isArray(n[0])?n[0]:n,i=o.length;if(i)for(;i--;)c(o[i])},n.get=function(e){return f()[e]||null},n.getAll=f,n.remove=d,n.removeBulk=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.length&&t.isArray(n[0])?n[0]:n,i=o.length;if(i)for(;i--;)d(o[i])}}])},e.exports=o()},function(e,t,n){var r=n(96);e.exports=function(e){return r(e,5)}},function(e,t,n){var r;window,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/js/entry.js")}({"../../node_modules/lodash/_Hash.js":
/*!********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_Hash.js ***!
  \********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_hashClear */"../../node_modules/lodash/_hashClear.js"),o=n(/*! ./_hashDelete */"../../node_modules/lodash/_hashDelete.js"),i=n(/*! ./_hashGet */"../../node_modules/lodash/_hashGet.js"),a=n(/*! ./_hashHas */"../../node_modules/lodash/_hashHas.js"),s=n(/*! ./_hashSet */"../../node_modules/lodash/_hashSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},"../../node_modules/lodash/_ListCache.js":
/*!*************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_ListCache.js ***!
  \*************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_listCacheClear */"../../node_modules/lodash/_listCacheClear.js"),o=n(/*! ./_listCacheDelete */"../../node_modules/lodash/_listCacheDelete.js"),i=n(/*! ./_listCacheGet */"../../node_modules/lodash/_listCacheGet.js"),a=n(/*! ./_listCacheHas */"../../node_modules/lodash/_listCacheHas.js"),s=n(/*! ./_listCacheSet */"../../node_modules/lodash/_listCacheSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},"../../node_modules/lodash/_Map.js":
/*!*******************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_Map.js ***!
  \*******************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_getNative */"../../node_modules/lodash/_getNative.js")(n(/*! ./_root */"../../node_modules/lodash/_root.js"),"Map");e.exports=r},"../../node_modules/lodash/_MapCache.js":
/*!************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_MapCache.js ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_mapCacheClear */"../../node_modules/lodash/_mapCacheClear.js"),o=n(/*! ./_mapCacheDelete */"../../node_modules/lodash/_mapCacheDelete.js"),i=n(/*! ./_mapCacheGet */"../../node_modules/lodash/_mapCacheGet.js"),a=n(/*! ./_mapCacheHas */"../../node_modules/lodash/_mapCacheHas.js"),s=n(/*! ./_mapCacheSet */"../../node_modules/lodash/_mapCacheSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},"../../node_modules/lodash/_Stack.js":
/*!*********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_Stack.js ***!
  \*********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_ListCache */"../../node_modules/lodash/_ListCache.js"),o=n(/*! ./_stackClear */"../../node_modules/lodash/_stackClear.js"),i=n(/*! ./_stackDelete */"../../node_modules/lodash/_stackDelete.js"),a=n(/*! ./_stackGet */"../../node_modules/lodash/_stackGet.js"),s=n(/*! ./_stackHas */"../../node_modules/lodash/_stackHas.js"),l=n(/*! ./_stackSet */"../../node_modules/lodash/_stackSet.js");function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},"../../node_modules/lodash/_Symbol.js":
/*!**********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_Symbol.js ***!
  \**********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_root */"../../node_modules/lodash/_root.js").Symbol;e.exports=r},"../../node_modules/lodash/_Uint8Array.js":
/*!**************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_Uint8Array.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_root */"../../node_modules/lodash/_root.js").Uint8Array;e.exports=r},"../../node_modules/lodash/_apply.js":
/*!*********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_apply.js ***!
  \*********************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},"../../node_modules/lodash/_arrayLikeKeys.js":
/*!*****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_arrayLikeKeys.js ***!
  \*****************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseTimes */"../../node_modules/lodash/_baseTimes.js"),o=n(/*! ./isArguments */"../../node_modules/lodash/isArguments.js"),i=n(/*! ./isArray */"../../node_modules/lodash/isArray.js"),a=n(/*! ./isBuffer */"../../node_modules/lodash/isBuffer.js"),s=n(/*! ./_isIndex */"../../node_modules/lodash/_isIndex.js"),l=n(/*! ./isTypedArray */"../../node_modules/lodash/isTypedArray.js"),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),c=!n&&o(e),f=!n&&!c&&a(e),d=!n&&!c&&!f&&l(e),p=n||c||f||d,h=p?r(e.length,String):[],g=h.length;for(var m in e)!t&&!u.call(e,m)||p&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||h.push(m);return h}},"../../node_modules/lodash/_arrayMap.js":
/*!************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_arrayMap.js ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},"../../node_modules/lodash/_assignMergeValue.js":
/*!********************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_assignMergeValue.js ***!
  \********************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseAssignValue */"../../node_modules/lodash/_baseAssignValue.js"),o=n(/*! ./eq */"../../node_modules/lodash/eq.js");e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},"../../node_modules/lodash/_assignValue.js":
/*!***************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_assignValue.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseAssignValue */"../../node_modules/lodash/_baseAssignValue.js"),o=n(/*! ./eq */"../../node_modules/lodash/eq.js"),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},"../../node_modules/lodash/_assocIndexOf.js":
/*!****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_assocIndexOf.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./eq */"../../node_modules/lodash/eq.js");e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},"../../node_modules/lodash/_baseAssignValue.js":
/*!*******************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseAssignValue.js ***!
  \*******************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_defineProperty */"../../node_modules/lodash/_defineProperty.js");e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},"../../node_modules/lodash/_baseCreate.js":
/*!**************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseCreate.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./isObject */"../../node_modules/lodash/isObject.js"),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},"../../node_modules/lodash/_baseFor.js":
/*!***********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseFor.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_createBaseFor */"../../node_modules/lodash/_createBaseFor.js")();e.exports=r},"../../node_modules/lodash/_baseGet.js":
/*!***********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseGet.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_castPath */"../../node_modules/lodash/_castPath.js"),o=n(/*! ./_toKey */"../../node_modules/lodash/_toKey.js");e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},"../../node_modules/lodash/_baseGetTag.js":
/*!**************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseGetTag.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_Symbol */"../../node_modules/lodash/_Symbol.js"),o=n(/*! ./_getRawTag */"../../node_modules/lodash/_getRawTag.js"),i=n(/*! ./_objectToString */"../../node_modules/lodash/_objectToString.js"),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},"../../node_modules/lodash/_baseIsArguments.js":
/*!*******************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseIsArguments.js ***!
  \*******************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseGetTag */"../../node_modules/lodash/_baseGetTag.js"),o=n(/*! ./isObjectLike */"../../node_modules/lodash/isObjectLike.js");e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},"../../node_modules/lodash/_baseIsNative.js":
/*!****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseIsNative.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./isFunction */"../../node_modules/lodash/isFunction.js"),o=n(/*! ./_isMasked */"../../node_modules/lodash/_isMasked.js"),i=n(/*! ./isObject */"../../node_modules/lodash/isObject.js"),a=n(/*! ./_toSource */"../../node_modules/lodash/_toSource.js"),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?d:s).test(a(e))}},"../../node_modules/lodash/_baseIsTypedArray.js":
/*!********************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseIsTypedArray.js ***!
  \********************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseGetTag */"../../node_modules/lodash/_baseGetTag.js"),o=n(/*! ./isLength */"../../node_modules/lodash/isLength.js"),i=n(/*! ./isObjectLike */"../../node_modules/lodash/isObjectLike.js"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},"../../node_modules/lodash/_baseKeysIn.js":
/*!**************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseKeysIn.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./isObject */"../../node_modules/lodash/isObject.js"),o=n(/*! ./_isPrototype */"../../node_modules/lodash/_isPrototype.js"),i=n(/*! ./_nativeKeysIn */"../../node_modules/lodash/_nativeKeysIn.js"),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},"../../node_modules/lodash/_baseMerge.js":
/*!*************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseMerge.js ***!
  \*************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_Stack */"../../node_modules/lodash/_Stack.js"),o=n(/*! ./_assignMergeValue */"../../node_modules/lodash/_assignMergeValue.js"),i=n(/*! ./_baseFor */"../../node_modules/lodash/_baseFor.js"),a=n(/*! ./_baseMergeDeep */"../../node_modules/lodash/_baseMergeDeep.js"),s=n(/*! ./isObject */"../../node_modules/lodash/isObject.js"),l=n(/*! ./keysIn */"../../node_modules/lodash/keysIn.js"),u=n(/*! ./_safeGet */"../../node_modules/lodash/_safeGet.js");e.exports=function e(t,n,c,f,d){t!==n&&i(n,(function(i,l){if(d||(d=new r),s(i))a(t,n,l,c,e,f,d);else{var p=f?f(u(t,l),i,l+"",t,n,d):void 0;void 0===p&&(p=i),o(t,l,p)}}),l)}},"../../node_modules/lodash/_baseMergeDeep.js":
/*!*****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseMergeDeep.js ***!
  \*****************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_assignMergeValue */"../../node_modules/lodash/_assignMergeValue.js"),o=n(/*! ./_cloneBuffer */"../../node_modules/lodash/_cloneBuffer.js"),i=n(/*! ./_cloneTypedArray */"../../node_modules/lodash/_cloneTypedArray.js"),a=n(/*! ./_copyArray */"../../node_modules/lodash/_copyArray.js"),s=n(/*! ./_initCloneObject */"../../node_modules/lodash/_initCloneObject.js"),l=n(/*! ./isArguments */"../../node_modules/lodash/isArguments.js"),u=n(/*! ./isArray */"../../node_modules/lodash/isArray.js"),c=n(/*! ./isArrayLikeObject */"../../node_modules/lodash/isArrayLikeObject.js"),f=n(/*! ./isBuffer */"../../node_modules/lodash/isBuffer.js"),d=n(/*! ./isFunction */"../../node_modules/lodash/isFunction.js"),p=n(/*! ./isObject */"../../node_modules/lodash/isObject.js"),h=n(/*! ./isPlainObject */"../../node_modules/lodash/isPlainObject.js"),g=n(/*! ./isTypedArray */"../../node_modules/lodash/isTypedArray.js"),m=n(/*! ./_safeGet */"../../node_modules/lodash/_safeGet.js"),v=n(/*! ./toPlainObject */"../../node_modules/lodash/toPlainObject.js");e.exports=function(e,t,n,y,b,A,C){var I=m(e,n),_=m(t,n),E=C.get(_);if(E)r(e,n,E);else{var w=A?A(I,_,n+"",e,t,C):void 0,S=void 0===w;if(S){var T=u(_),k=!T&&f(_),x=!T&&!k&&g(_);w=_,T||k||x?u(I)?w=I:c(I)?w=a(I):k?(S=!1,w=o(_,!0)):x?(S=!1,w=i(_,!0)):w=[]:h(_)||l(_)?(w=I,l(I)?w=v(I):p(I)&&!d(I)||(w=s(_))):S=!1}S&&(C.set(_,w),b(w,_,y,A,C),C.delete(_)),r(e,n,w)}}},"../../node_modules/lodash/_baseRest.js":
/*!************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseRest.js ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./identity */"../../node_modules/lodash/identity.js"),o=n(/*! ./_overRest */"../../node_modules/lodash/_overRest.js"),i=n(/*! ./_setToString */"../../node_modules/lodash/_setToString.js");e.exports=function(e,t){return i(o(e,t,r),e+"")}},"../../node_modules/lodash/_baseSetToString.js":
/*!*******************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseSetToString.js ***!
  \*******************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./constant */"../../node_modules/lodash/constant.js"),o=n(/*! ./_defineProperty */"../../node_modules/lodash/_defineProperty.js"),i=n(/*! ./identity */"../../node_modules/lodash/identity.js"),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},"../../node_modules/lodash/_baseTimes.js":
/*!*************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseTimes.js ***!
  \*************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},"../../node_modules/lodash/_baseToString.js":
/*!****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseToString.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_Symbol */"../../node_modules/lodash/_Symbol.js"),o=n(/*! ./_arrayMap */"../../node_modules/lodash/_arrayMap.js"),i=n(/*! ./isArray */"../../node_modules/lodash/isArray.js"),a=n(/*! ./isSymbol */"../../node_modules/lodash/isSymbol.js"),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},"../../node_modules/lodash/_baseUnary.js":
/*!*************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_baseUnary.js ***!
  \*************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){return function(t){return e(t)}}},"../../node_modules/lodash/_castPath.js":
/*!************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_castPath.js ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./isArray */"../../node_modules/lodash/isArray.js"),o=n(/*! ./_isKey */"../../node_modules/lodash/_isKey.js"),i=n(/*! ./_stringToPath */"../../node_modules/lodash/_stringToPath.js"),a=n(/*! ./toString */"../../node_modules/lodash/toString.js");e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},"../../node_modules/lodash/_cloneArrayBuffer.js":
/*!********************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_cloneArrayBuffer.js ***!
  \********************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_Uint8Array */"../../node_modules/lodash/_Uint8Array.js");e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},"../../node_modules/lodash/_cloneBuffer.js":
/*!***************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_cloneBuffer.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */function(e,t,n){(function(e){var r=n(/*! ./_root */"../../node_modules/lodash/_root.js"),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(/*! ./../webpack/buildin/module.js */"../../node_modules/webpack/buildin/module.js")(e))},"../../node_modules/lodash/_cloneTypedArray.js":
/*!*******************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_cloneTypedArray.js ***!
  \*******************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_cloneArrayBuffer */"../../node_modules/lodash/_cloneArrayBuffer.js");e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},"../../node_modules/lodash/_copyArray.js":
/*!*************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_copyArray.js ***!
  \*************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},"../../node_modules/lodash/_copyObject.js":
/*!**************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_copyObject.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_assignValue */"../../node_modules/lodash/_assignValue.js"),o=n(/*! ./_baseAssignValue */"../../node_modules/lodash/_baseAssignValue.js");e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?o(n,u,c):r(n,u,c)}return n}},"../../node_modules/lodash/_coreJsData.js":
/*!**************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_coreJsData.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_root */"../../node_modules/lodash/_root.js")["__core-js_shared__"];e.exports=r},"../../node_modules/lodash/_createAssigner.js":
/*!******************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_createAssigner.js ***!
  \******************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseRest */"../../node_modules/lodash/_baseRest.js"),o=n(/*! ./_isIterateeCall */"../../node_modules/lodash/_isIterateeCall.js");e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}},"../../node_modules/lodash/_createBaseFor.js":
/*!*****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_createBaseFor.js ***!
  \*****************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},"../../node_modules/lodash/_defineProperty.js":
/*!******************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_defineProperty.js ***!
  \******************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_getNative */"../../node_modules/lodash/_getNative.js"),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},"../../node_modules/lodash/_freeGlobal.js":
/*!**************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_freeGlobal.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(/*! ./../webpack/buildin/global.js */"../../node_modules/webpack/buildin/global.js"))},"../../node_modules/lodash/_getMapData.js":
/*!**************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_getMapData.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_isKeyable */"../../node_modules/lodash/_isKeyable.js");e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},"../../node_modules/lodash/_getNative.js":
/*!*************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_getNative.js ***!
  \*************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseIsNative */"../../node_modules/lodash/_baseIsNative.js"),o=n(/*! ./_getValue */"../../node_modules/lodash/_getValue.js");e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},"../../node_modules/lodash/_getPrototype.js":
/*!****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_getPrototype.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_overArg */"../../node_modules/lodash/_overArg.js")(Object.getPrototypeOf,Object);e.exports=r},"../../node_modules/lodash/_getRawTag.js":
/*!*************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_getRawTag.js ***!
  \*************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_Symbol */"../../node_modules/lodash/_Symbol.js"),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},"../../node_modules/lodash/_getValue.js":
/*!************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_getValue.js ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},"../../node_modules/lodash/_hashClear.js":
/*!*************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_hashClear.js ***!
  \*************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_nativeCreate */"../../node_modules/lodash/_nativeCreate.js");e.exports=function(){this.__data__=r?r(null):{},this.size=0}},"../../node_modules/lodash/_hashDelete.js":
/*!**************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_hashDelete.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},"../../node_modules/lodash/_hashGet.js":
/*!***********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_hashGet.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_nativeCreate */"../../node_modules/lodash/_nativeCreate.js"),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},"../../node_modules/lodash/_hashHas.js":
/*!***********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_hashHas.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_nativeCreate */"../../node_modules/lodash/_nativeCreate.js"),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},"../../node_modules/lodash/_hashSet.js":
/*!***********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_hashSet.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_nativeCreate */"../../node_modules/lodash/_nativeCreate.js");e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},"../../node_modules/lodash/_initCloneObject.js":
/*!*******************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_initCloneObject.js ***!
  \*******************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseCreate */"../../node_modules/lodash/_baseCreate.js"),o=n(/*! ./_getPrototype */"../../node_modules/lodash/_getPrototype.js"),i=n(/*! ./_isPrototype */"../../node_modules/lodash/_isPrototype.js");e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},"../../node_modules/lodash/_isIndex.js":
/*!***********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_isIndex.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},"../../node_modules/lodash/_isIterateeCall.js":
/*!******************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_isIterateeCall.js ***!
  \******************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./eq */"../../node_modules/lodash/eq.js"),o=n(/*! ./isArrayLike */"../../node_modules/lodash/isArrayLike.js"),i=n(/*! ./_isIndex */"../../node_modules/lodash/_isIndex.js"),a=n(/*! ./isObject */"../../node_modules/lodash/isObject.js");e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},"../../node_modules/lodash/_isKey.js":
/*!*********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_isKey.js ***!
  \*********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./isArray */"../../node_modules/lodash/isArray.js"),o=n(/*! ./isSymbol */"../../node_modules/lodash/isSymbol.js"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},"../../node_modules/lodash/_isKeyable.js":
/*!*************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_isKeyable.js ***!
  \*************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},"../../node_modules/lodash/_isMasked.js":
/*!************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_isMasked.js ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r,o=n(/*! ./_coreJsData */"../../node_modules/lodash/_coreJsData.js"),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},"../../node_modules/lodash/_isPrototype.js":
/*!***************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_isPrototype.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},"../../node_modules/lodash/_listCacheClear.js":
/*!******************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_listCacheClear.js ***!
  \******************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(){this.__data__=[],this.size=0}},"../../node_modules/lodash/_listCacheDelete.js":
/*!*******************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_listCacheDelete.js ***!
  \*******************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_assocIndexOf */"../../node_modules/lodash/_assocIndexOf.js"),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},"../../node_modules/lodash/_listCacheGet.js":
/*!****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_listCacheGet.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_assocIndexOf */"../../node_modules/lodash/_assocIndexOf.js");e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},"../../node_modules/lodash/_listCacheHas.js":
/*!****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_listCacheHas.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_assocIndexOf */"../../node_modules/lodash/_assocIndexOf.js");e.exports=function(e){return r(this.__data__,e)>-1}},"../../node_modules/lodash/_listCacheSet.js":
/*!****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_listCacheSet.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_assocIndexOf */"../../node_modules/lodash/_assocIndexOf.js");e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},"../../node_modules/lodash/_mapCacheClear.js":
/*!*****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_mapCacheClear.js ***!
  \*****************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_Hash */"../../node_modules/lodash/_Hash.js"),o=n(/*! ./_ListCache */"../../node_modules/lodash/_ListCache.js"),i=n(/*! ./_Map */"../../node_modules/lodash/_Map.js");e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},"../../node_modules/lodash/_mapCacheDelete.js":
/*!******************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_mapCacheDelete.js ***!
  \******************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_getMapData */"../../node_modules/lodash/_getMapData.js");e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},"../../node_modules/lodash/_mapCacheGet.js":
/*!***************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_mapCacheGet.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_getMapData */"../../node_modules/lodash/_getMapData.js");e.exports=function(e){return r(this,e).get(e)}},"../../node_modules/lodash/_mapCacheHas.js":
/*!***************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_mapCacheHas.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_getMapData */"../../node_modules/lodash/_getMapData.js");e.exports=function(e){return r(this,e).has(e)}},"../../node_modules/lodash/_mapCacheSet.js":
/*!***************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_mapCacheSet.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_getMapData */"../../node_modules/lodash/_getMapData.js");e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},"../../node_modules/lodash/_memoizeCapped.js":
/*!*****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_memoizeCapped.js ***!
  \*****************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./memoize */"../../node_modules/lodash/memoize.js");e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},"../../node_modules/lodash/_nativeCreate.js":
/*!****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_nativeCreate.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_getNative */"../../node_modules/lodash/_getNative.js")(Object,"create");e.exports=r},"../../node_modules/lodash/_nativeKeysIn.js":
/*!****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_nativeKeysIn.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"../../node_modules/lodash/_nodeUtil.js":
/*!************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_nodeUtil.js ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t,n){(function(e){var r=n(/*! ./_freeGlobal */"../../node_modules/lodash/_freeGlobal.js"),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(/*! ./../webpack/buildin/module.js */"../../node_modules/webpack/buildin/module.js")(e))},"../../node_modules/lodash/_objectToString.js":
/*!******************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_objectToString.js ***!
  \******************************************************************************************************************************/
/*! no static exports found */function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},"../../node_modules/lodash/_overArg.js":
/*!***********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_overArg.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},"../../node_modules/lodash/_overRest.js":
/*!************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_overRest.js ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_apply */"../../node_modules/lodash/_apply.js"),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(l),r(e,this,u)}}},"../../node_modules/lodash/_root.js":
/*!********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_root.js ***!
  \********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_freeGlobal */"../../node_modules/lodash/_freeGlobal.js"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},"../../node_modules/lodash/_safeGet.js":
/*!***********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_safeGet.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},"../../node_modules/lodash/_setToString.js":
/*!***************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_setToString.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseSetToString */"../../node_modules/lodash/_baseSetToString.js"),o=n(/*! ./_shortOut */"../../node_modules/lodash/_shortOut.js")(r);e.exports=o},"../../node_modules/lodash/_shortOut.js":
/*!************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_shortOut.js ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},"../../node_modules/lodash/_stackClear.js":
/*!**************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_stackClear.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_ListCache */"../../node_modules/lodash/_ListCache.js");e.exports=function(){this.__data__=new r,this.size=0}},"../../node_modules/lodash/_stackDelete.js":
/*!***************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_stackDelete.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},"../../node_modules/lodash/_stackGet.js":
/*!************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_stackGet.js ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){return this.__data__.get(e)}},"../../node_modules/lodash/_stackHas.js":
/*!************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_stackHas.js ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){return this.__data__.has(e)}},"../../node_modules/lodash/_stackSet.js":
/*!************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_stackSet.js ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_ListCache */"../../node_modules/lodash/_ListCache.js"),o=n(/*! ./_Map */"../../node_modules/lodash/_Map.js"),i=n(/*! ./_MapCache */"../../node_modules/lodash/_MapCache.js");e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},"../../node_modules/lodash/_stringToPath.js":
/*!****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_stringToPath.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_memoizeCapped */"../../node_modules/lodash/_memoizeCapped.js"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},"../../node_modules/lodash/_toKey.js":
/*!*********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_toKey.js ***!
  \*********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./isSymbol */"../../node_modules/lodash/isSymbol.js");e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},"../../node_modules/lodash/_toSource.js":
/*!************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/_toSource.js ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},"../../node_modules/lodash/constant.js":
/*!***********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/constant.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){return function(){return e}}},"../../node_modules/lodash/eq.js":
/*!*****************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/eq.js ***!
  \*****************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},"../../node_modules/lodash/get.js":
/*!******************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/get.js ***!
  \******************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseGet */"../../node_modules/lodash/_baseGet.js");e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},"../../node_modules/lodash/identity.js":
/*!***********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/identity.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){return e}},"../../node_modules/lodash/isArguments.js":
/*!**************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/isArguments.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseIsArguments */"../../node_modules/lodash/_baseIsArguments.js"),o=n(/*! ./isObjectLike */"../../node_modules/lodash/isObjectLike.js"),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},"../../node_modules/lodash/isArray.js":
/*!**********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/isArray.js ***!
  \**********************************************************************************************************************/
/*! no static exports found */function(e,t){var n=Array.isArray;e.exports=n},"../../node_modules/lodash/isArrayLike.js":
/*!**************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/isArrayLike.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./isFunction */"../../node_modules/lodash/isFunction.js"),o=n(/*! ./isLength */"../../node_modules/lodash/isLength.js");e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},"../../node_modules/lodash/isArrayLikeObject.js":
/*!********************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/isArrayLikeObject.js ***!
  \********************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./isArrayLike */"../../node_modules/lodash/isArrayLike.js"),o=n(/*! ./isObjectLike */"../../node_modules/lodash/isObjectLike.js");e.exports=function(e){return o(e)&&r(e)}},"../../node_modules/lodash/isBuffer.js":
/*!***********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/isBuffer.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t,n){(function(e){var r=n(/*! ./_root */"../../node_modules/lodash/_root.js"),o=n(/*! ./stubFalse */"../../node_modules/lodash/stubFalse.js"),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l}).call(this,n(/*! ./../webpack/buildin/module.js */"../../node_modules/webpack/buildin/module.js")(e))},"../../node_modules/lodash/isFunction.js":
/*!*************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/isFunction.js ***!
  \*************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseGetTag */"../../node_modules/lodash/_baseGetTag.js"),o=n(/*! ./isObject */"../../node_modules/lodash/isObject.js");e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},"../../node_modules/lodash/isLength.js":
/*!***********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/isLength.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},"../../node_modules/lodash/isObject.js":
/*!***********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/isObject.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},"../../node_modules/lodash/isObjectLike.js":
/*!***************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/isObjectLike.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},"../../node_modules/lodash/isPlainObject.js":
/*!****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/isPlainObject.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseGetTag */"../../node_modules/lodash/_baseGetTag.js"),o=n(/*! ./_getPrototype */"../../node_modules/lodash/_getPrototype.js"),i=n(/*! ./isObjectLike */"../../node_modules/lodash/isObjectLike.js"),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},"../../node_modules/lodash/isSymbol.js":
/*!***********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/isSymbol.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseGetTag */"../../node_modules/lodash/_baseGetTag.js"),o=n(/*! ./isObjectLike */"../../node_modules/lodash/isObjectLike.js");e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},"../../node_modules/lodash/isTypedArray.js":
/*!***************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/isTypedArray.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseIsTypedArray */"../../node_modules/lodash/_baseIsTypedArray.js"),o=n(/*! ./_baseUnary */"../../node_modules/lodash/_baseUnary.js"),i=n(/*! ./_nodeUtil */"../../node_modules/lodash/_nodeUtil.js"),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},"../../node_modules/lodash/keysIn.js":
/*!*********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/keysIn.js ***!
  \*********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_arrayLikeKeys */"../../node_modules/lodash/_arrayLikeKeys.js"),o=n(/*! ./_baseKeysIn */"../../node_modules/lodash/_baseKeysIn.js"),i=n(/*! ./isArrayLike */"../../node_modules/lodash/isArrayLike.js");e.exports=function(e){return i(e)?r(e,!0):o(e)}},"../../node_modules/lodash/memoize.js":
/*!**********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/memoize.js ***!
  \**********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_MapCache */"../../node_modules/lodash/_MapCache.js");function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},"../../node_modules/lodash/merge.js":
/*!********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/merge.js ***!
  \********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseMerge */"../../node_modules/lodash/_baseMerge.js"),o=n(/*! ./_createAssigner */"../../node_modules/lodash/_createAssigner.js")((function(e,t,n){r(e,t,n)}));e.exports=o},"../../node_modules/lodash/stubFalse.js":
/*!************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/stubFalse.js ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(){return!1}},"../../node_modules/lodash/toPlainObject.js":
/*!****************************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/toPlainObject.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_copyObject */"../../node_modules/lodash/_copyObject.js"),o=n(/*! ./keysIn */"../../node_modules/lodash/keysIn.js");e.exports=function(e){return r(e,o(e))}},"../../node_modules/lodash/toString.js":
/*!***********************************************************************************************************************!*\
  !*** /Users/wdavidow/Development/MLB/github.mlbam.net/webeng-core/web-media-playback/node_modules/lodash/toString.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./_baseToString */"../../node_modules/lodash/_baseToString.js");e.exports=function(e){return null==e?"":r(e)}},"../../node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"../../node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"../mlb-media-player/dist/media-player.js":
/*!************************************************!*\
  !*** ../mlb-media-player/dist/media-player.js ***!
  \************************************************/
/*! no static exports found */function(e,t,n){var r;window,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=74)}([function(e,t,n){var r;"undefined"!=typeof window&&(r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s="./src/hls.js")}({"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,i),l=o?o+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},u.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,r,i,a){var s=o?o+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,i),!0;case 6:return c.fn.call(c.context,t,n,r,i,a),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,r);break;default:if(!l)for(d=1,l=new Array(f-1);d<f;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var i=o?o+e:e;if(!this._events[i])return this;if(!t)return l(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||l(this,i);else{for(var s=0,u=[],c=a.length;s<c;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[i]=1===u.length?u[0]:u:l(this,i)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&l(this,t)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=o,u.EventEmitter=u,e.exports=u},"./node_modules/node-libs-browser/node_modules/events/events.js":
/*!**********************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/events/events.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(i(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),a=(u=n.slice()).length,l=0;l<a;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(a=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(e,o),n||(n=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i,a,s;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,o=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=s.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var i=s.parseURL(t);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=s.normalizePath(i.path),s.buildURLFromParts(i)):t;var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=o.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(u.netLoc=a.netLoc,"/"!==i.path[0]))if(i.path){var c=a.path,f=c.substring(0,c.lastIndexOf("/")+1)+i.path;u.path=s.normalizePath(f)}else u.path=a.path,i.params||(u.params=a.params,i.query||(u.query=a.query));return null===u.path&&(u.path=n.alwaysNormalize?s.normalizePath(i.path):i.path),s.buildURLFromParts(u)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}function o(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function i(e,t,r){var i={};i[r]=[];var a=t.toString(),s=a.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return i;for(var l,u=s[1],c=new RegExp("(\\\\n|\\W)"+o(u)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");l=c.exec(a);)"dll-reference"!==l[3]&&i[r].push(l[3]);for(c=new RegExp("\\("+o(u)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");l=c.exec(a);)e[l[2]]||(i[r].push(l[1]),e[l[2]]=n(l[1]).m),i[l[2]]=i[l[2]]||[],i[l[2]].push(l[4]);for(var f,d=Object.keys(i),p=0;p<d.length;p++)for(var h=0;h<i[d[p]].length;h++)f=i[d[p]][h],isNaN(1*f)||(i[d[p]][h]=1*i[d[p]][h]);return i}function a(e){return Object.keys(e).reduce((function(t,n){return t||e[n].length>0}),!1)}e.exports=function(e,t){t=t||{};var o={main:n.m},s=t.all?{main:Object.keys(o.main)}:function(e,t){for(var n={main:[t]},r={main:[]},o={main:{}};a(n);)for(var s=Object.keys(n),l=0;l<s.length;l++){var u=s[l],c=n[u].pop();if(o[u]=o[u]||{},!o[u][c]&&e[u][c]){o[u][c]=!0,r[u]=r[u]||[],r[u].push(c);for(var f=i(e,e[u][c],u),d=Object.keys(f),p=0;p<d.length;p++)n[d[p]]=n[d[p]]||[],n[d[p]]=n[d[p]].concat(f[d[p]])}}return r}(o,e),l="";Object.keys(s).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;s[e][t];)t++;s[e].push(t),o[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s[e].map((function(t){return JSON.stringify(t)+": "+o[e][t].toString()})).join(",")+"});\n"})),l=l+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s.main.map((function(e){return JSON.stringify(e)+": "+o.main[e].toString()})).join(",")+"}))(self);";var u=new window.Blob([l],{type:"text/javascript"});if(t.bare)return u;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),f=new window.Worker(c);return f.objectURL=c,f}},"./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./controller/abr-controller */"./src/controller/abr-controller.js"),o=n(/*! ./controller/buffer-controller */"./src/controller/buffer-controller.js"),i=n(/*! ./controller/cap-level-controller */"./src/controller/cap-level-controller.js"),a=n(/*! ./controller/fps-controller */"./src/controller/fps-controller.js"),s=n(/*! ./utils/xhr-loader */"./src/utils/xhr-loader.js"),l=n(/*! ./controller/audio-track-controller */"./src/controller/audio-track-controller.js"),u=n(/*! ./controller/audio-stream-controller */"./src/controller/audio-stream-controller.js"),c=n(/*! ./utils/cues */"./src/utils/cues.js"),f=n(/*! ./controller/timeline-controller */"./src/controller/timeline-controller.js"),d=n(/*! ./controller/subtitle-track-controller */"./src/controller/subtitle-track-controller.js"),p=n(/*! ./controller/subtitle-stream-controller */"./src/controller/subtitle-stream-controller.js"),h=n(/*! ./controller/eme-controller */"./src/controller/eme-controller.js"),g=n(/*! ./utils/mediakeys-helper */"./src/utils/mediakeys-helper.js");t.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:r.default,bufferController:o.default,capLevelController:i.default,fpsController:a.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess},t.hlsDefaultConfig.subtitleStreamController=p.SubtitleStreamController,t.hlsDefaultConfig.subtitleTrackController=d.default,t.hlsDefaultConfig.timelineController=f.default,t.hlsDefaultConfig.cueHandler=c,t.hlsDefaultConfig.enableCEA708Captions=!0,t.hlsDefaultConfig.enableWebVTT=!0,t.hlsDefaultConfig.captionsTextTrack1Label="English",t.hlsDefaultConfig.captionsTextTrack1LanguageCode="en",t.hlsDefaultConfig.captionsTextTrack2Label="Spanish",t.hlsDefaultConfig.captionsTextTrack2LanguageCode="es",t.hlsDefaultConfig.audioStreamController=u.default,t.hlsDefaultConfig.audioTrackController=l.default,t.hlsDefaultConfig.emeController=h.default},"./src/controller/abr-controller.js":
/*!******************************************!*\
  !*** ./src/controller/abr-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),l=n(/*! ../errors */"./src/errors.js"),u=n(/*! ../utils/logger */"./src/utils/logger.js"),c=n(/*! ../utils/ewma-bandwidth-estimator */"./src/utils/ewma-bandwidth-estimator.js"),f=window.performance,d=function(t){function n(e){var n=t.call(this,e,i.default.FRAG_LOADING,i.default.FRAG_LOADED,i.default.FRAG_BUFFERED,i.default.ERROR)||this;return n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=e,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(n),n}return o(n,t),n.prototype.destroy=function(){this.clearTimer(),a.default.prototype.destroy.call(this)},n.prototype.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var n=this.hls,r=n.config,o=t.level,i=void 0,a=void 0;n.levels[o].details.live?(i=r.abrEwmaFastLive,a=r.abrEwmaSlowLive):(i=r.abrEwmaFastVoD,a=r.abrEwmaSlowVoD),this._bwEstimator=new c.default(n,a,i,r.abrEwmaDefaultEstimate)}},n.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,n=this.fragCurrent;if(n){var r=n.loader,o=e.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var a=r.stats;if(t&&a&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&n.autoLevel&&n.level){var l=f.now()-a.trequest,c=Math.abs(t.playbackRate);if(l>500*n.duration/c){var d=e.levels,p=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/l),h=d[n.level],g=h.realBitrate?Math.max(h.realBitrate,h.bitrate):h.bitrate,m=a.total?a.total:Math.max(a.loaded,Math.round(n.duration*g/8)),v=t.currentTime,y=(m-a.loaded)/p,b=(s.BufferHelper.bufferInfo(t,v,e.config.maxBufferHole).end-v)/c;if(b<2*n.duration/c&&y>b){var A=void 0,C=void 0;for(C=n.level-1;C>o;C--){var I=d[C].realBitrate?Math.max(d[C].realBitrate,d[C].bitrate):d[C].bitrate;if((A=n.duration*I/(6.4*p))<b)break}A<y&&(u.logger.warn("loading too slow, abort fragment loading and switch to level "+C+":fragLoadedDelay["+C+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+A.toFixed(1)+"<"+y.toFixed(1)+":"+b.toFixed(1)),e.nextLoadLevel=C,this._bwEstimator.sample(l,a.loaded),r.abort(),this.clearTimer(),e.trigger(i.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:a}))}}}}},n.prototype.onFragLoaded=function(t){var n=t.frag;if("main"===n.type&&e.isFinite(n.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[n.level],o=(r.loaded?r.loaded.bytes:0)+t.stats.loaded,i=(r.loaded?r.loaded.duration:0)+t.frag.duration;r.loaded={bytes:o,duration:i},r.realBitrate=Math.round(8*o/i)}if(t.frag.bitrateTest){var a=t.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(t)}}},n.prototype.onFragBuffered=function(t){var n=t.stats,r=t.frag;if(!0!==n.aborted&&"main"===r.type&&e.isFinite(r.sn)&&(!r.bitrateTest||n.tload===n.tbuffered)){var o=n.tparsed-n.trequest;u.logger.log("latency/loading/parsing/append/kbps:"+Math.round(n.tfirst-n.trequest)+"/"+Math.round(n.tload-n.tfirst)+"/"+Math.round(n.tparsed-n.tload)+"/"+Math.round(n.tbuffered-n.tparsed)+"/"+Math.round(8*n.loaded/(n.tbuffered-n.trequest))),this._bwEstimator.sample(o,n.loaded),n.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}},n.prototype.onError=function(e){switch(e.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},n.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(n.prototype,"nextAutoLevel",{get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var n=this._nextABRAutoLevel;return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_nextABRAutoLevel",{get:function(){var e=this.hls,t=e.maxAutoLevel,n=e.levels,r=e.config,o=e.minAutoLevel,i=e.media,a=this.lastLoadedFragLevel,l=this.fragCurrent?this.fragCurrent.duration:0,c=i?i.currentTime:0,f=i&&0!==i.playbackRate?Math.abs(i.playbackRate):1,d=this._bwEstimator?this._bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,p=(s.BufferHelper.bufferInfo(i,c,r.maxBufferHole).end-c)/f,h=this._findBestLevel(a,l,d,o,t,p,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(h>=0)return h;u.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=l?Math.min(l,r.maxStarvationDelay):r.maxStarvationDelay,m=r.abrBandWidthFactor,v=r.abrBandWidthUpFactor;if(0===p){var y=this.bitrateTestDelay;y&&(g=(l?Math.min(l,r.maxLoadingDelay):r.maxLoadingDelay)-y,u.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),m=v=1)}return h=this._findBestLevel(a,l,d,o,t,p+g,m,v,n),Math.max(h,0)},enumerable:!0,configurable:!0}),n.prototype._findBestLevel=function(e,t,n,r,o,i,a,s,l){for(var c=o;c>=r;c--){var f=l[c];if(f){var d=f.details,p=d?d.totalduration/d.fragments.length:t,h=!!d&&d.live,g=void 0;g=c<=e?a*n:s*n;var m=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,v=m*p/g;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(g)+"/"+m+"/"+p+"/"+i+"/"+v),g>m&&(!v||h&&!this.bitrateTestDelay||v<i))return c}}return-1},n}(a.default);t.default=d}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/audio-stream-controller.js":
/*!***************************************************!*\
  !*** ./src/controller/audio-stream-controller.js ***!
  \***************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../utils/binary-search */"./src/utils/binary-search.js"),a=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),s=n(/*! ../demux/demuxer */"./src/demux/demuxer.js"),l=n(/*! ../events */"./src/events.js"),u=n(/*! ./level-helper */"./src/controller/level-helper.js"),c=n(/*! ../utils/time-ranges */"./src/utils/time-ranges.js"),f=n(/*! ../errors */"./src/errors.js"),d=n(/*! ../utils/logger */"./src/utils/logger.js"),p=n(/*! ../utils/discontinuities */"./src/utils/discontinuities.js"),h=n(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),g=n(/*! ../loader/fragment */"./src/loader/fragment.js"),m=n(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),v=window.performance,y=function(t){function n(e,n){var r=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.AUDIO_TRACKS_UPDATED,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_LOADED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.BUFFER_RESET,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED,l.default.INIT_PTS_FOUND)||this;return r.fragmentTracker=n,r.config=e.config,r.audioCodecSwap=!1,r._state=m.State.STOPPED,r.initPTS=[],r.waitingFragment=null,r.videoTrackCC=null,r}return o(n,t),n.prototype.onInitPtsFound=function(e){var t=e.id,n=e.frag.cc,r=e.initPTS;"main"===t&&(this.initPTS[n]=r,this.videoTrackCC=n,d.logger.log("InitPTS for cc: "+n+" found from video track: "+r),this.state===m.State.WAITING_INIT_PTS&&this.tick())},n.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(d.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=m.State.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=m.State.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=m.State.STOPPED},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,d.logger.log("audio stream:"+t+"->"+e)}},enumerable:!0,configurable:!0}),n.prototype.doTick=function(){var t,n,r,o=this.hls,s=o.config;switch(this.state){case m.State.ERROR:case m.State.PAUSED:case m.State.BUFFER_FLUSHING:break;case m.State.STARTING:this.state=m.State.WAITING_TRACK,this.loadedmetadata=!1;break;case m.State.IDLE:var u=this.tracks;if(!u)break;if(!this.media&&(this.startFragRequested||!s.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var c=this.mediaBuffer?this.mediaBuffer:this.media,f=this.videoBuffer?this.videoBuffer:this.media,g=a.BufferHelper.bufferInfo(c,t,s.maxBufferHole),y=a.BufferHelper.bufferInfo(f,t,s.maxBufferHole),b=g.len,A=g.end,C=this.fragPrevious,I=Math.min(s.maxBufferLength,s.maxMaxBufferLength),_=Math.max(I,y.len),E=this.audioSwitch,w=this.trackId;if((b<_||E)&&w<u.length){if(void 0===(r=u[w].details)){this.state=m.State.WAITING_TRACK;break}if(!E&&this._streamEnded(g,r))return this.hls.trigger(l.default.BUFFER_EOS,{type:"audio"}),void(this.state=m.State.ENDED);var S=r.fragments,T=S.length,k=S[0].start,x=S[T-1].start+S[T-1].duration,P=void 0;if(E)if(r.live&&!r.PTSKnown)d.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),A=0;else if(A=t,r.PTSKnown&&t<k){if(!(g.end>k||g.nextStart))return;d.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=k+.05}if(r.initSegment&&!r.initSegment.data)P=r.initSegment;else if(A<=k){if(P=S[0],null!==this.videoTrackCC&&P.cc!==this.videoTrackCC&&(P=p.findFragWithCC(S,this.videoTrackCC)),r.live&&P.loadIdx&&P.loadIdx===this.fragLoadIdx){var O=g.nextStart?g.nextStart:k;return d.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(O+.05)),void(this.media.currentTime=O+.05)}}else{var L=void 0,D=s.maxFragLookUpTolerance,j=C?S[C.sn-S[0].sn+1]:void 0,R=function(e){var t=Math.min(D,e.duration);return e.start+e.duration-t<=A?1:e.start-t>A&&e.start?-1:0};A<x?(A>x-D&&(D=0),L=j&&!R(j)?j:i.default.search(S,R)):L=S[T-1],L&&(P=L,k=L.start,C&&P.level===C.level&&P.sn===C.sn&&(P.sn<r.endSN?(P=S[P.sn+1-r.startSN],d.logger.log("SN just loaded, load next one: "+P.sn)):P=null))}P&&(P.encrypted?(d.logger.log("Loading key for "+P.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+w),this.state=m.State.KEY_LOADING,o.trigger(l.default.KEY_LOADING,{frag:P})):(d.logger.log("Loading "+P.sn+", cc: "+P.cc+" of ["+r.startSN+" ,"+r.endSN+"],track "+w+", currentTime:"+t+",bufferEnd:"+A.toFixed(3)),this.fragCurrent=P,(E||this.fragmentTracker.getState(P)===h.FragmentState.NOT_LOADED)&&(this.startFragRequested=!0,e.isFinite(P.sn)&&(this.nextLoadPosition=P.start+P.duration),o.trigger(l.default.FRAG_LOADING,{frag:P}),this.state=m.State.FRAG_LOADING)))}break;case m.State.WAITING_TRACK:(n=this.tracks[this.trackId])&&n.details&&(this.state=m.State.IDLE);break;case m.State.FRAG_LOADING_WAITING_RETRY:var M=v.now(),N=this.retryDate,F=(c=this.media)&&c.seeking;(!N||M>=N||F)&&(d.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=m.State.IDLE);break;case m.State.WAITING_INIT_PTS:var B=this.videoTrackCC;if(void 0===this.initPTS[B])break;var U=this.waitingFragment;if(U){var G=U.frag.cc;B!==G?(n=this.tracks[this.trackId]).details&&n.details.live&&(d.logger.warn("Waiting fragment CC ("+G+") does not match video track CC ("+B+")"),this.waitingFragment=null,this.state=m.State.IDLE):(this.state=m.State.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=m.State.IDLE;break;case m.State.STOPPED:case m.State.FRAG_LOADING:case m.State.PARSING:case m.State.PARSED:case m.State.ENDED:}},n.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},n.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(d.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},n.prototype.onAudioTracksUpdated=function(e){d.logger.log("audio tracks updated"),this.tracks=e.audioTracks},n.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=m.State.PAUSED,this.waitingFragment=null,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=m.State.IDLE),this.tick()},n.prototype.onAudioTrackLoaded=function(t){var n=t.details,r=t.id,o=this.tracks[r],i=n.totalduration,a=0;if(d.logger.log("track "+r+" loaded ["+n.startSN+","+n.endSN+"],duration:"+i),n.live){var s=o.details;s&&n.fragments.length>0?(u.mergeDetails(s,n),a=n.fragments[0].start,n.PTSKnown?d.logger.log("live audio playlist sliding:"+a.toFixed(3)):d.logger.log("live audio playlist - outdated PTS, unknown sliding")):(n.PTSKnown=!1,d.logger.log("live audio playlist - first load, unknown sliding"))}else n.PTSKnown=!1;if(o.details=n,!this.startFragRequested){if(-1===this.startPosition){var l=n.startTimeOffset;e.isFinite(l)?(d.logger.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===m.State.WAITING_TRACK&&(this.state=m.State.IDLE),this.tick()},n.prototype.onKeyLoaded=function(){this.state===m.State.KEY_LOADING&&(this.state=m.State.IDLE,this.tick())},n.prototype.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag;if(this.state===m.State.FRAG_LOADING&&t&&"audio"===n.type&&n.level===t.level&&n.sn===t.sn){var r=this.tracks[this.trackId],o=r.details,i=o.totalduration,a=t.level,u=t.sn,c=t.cc,f=this.config.defaultAudioCodec||r.audioCodec||"mp4a.40.2",p=this.stats=e.stats;if("initSegment"===u)this.state=m.State.IDLE,p.tparsed=p.tbuffered=v.now(),o.initSegment.data=e.payload,this.hls.trigger(l.default.FRAG_BUFFERED,{stats:p,frag:t,id:"audio"}),this.tick();else{this.state=m.State.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new s.default(this.hls,"audio"));var h=this.initPTS[c],g=o.initSegment?o.initSegment.data:[];o.initSegment||void 0!==h?(this.pendingBuffering=!0,d.logger.log("Demuxing "+u+" of ["+o.startSN+" ,"+o.endSN+"],track "+a),this.demuxer.push(e.payload,g,f,null,t,i,!1,h)):(d.logger.log("unknown video PTS for continuity counter "+c+", waiting for video PTS before demuxing audio frag "+u+" of ["+o.startSN+" ,"+o.endSN+"],track "+a),this.waitingFragment=e,this.state=m.State.WAITING_INIT_PTS)}}this.fragLoadError=0},n.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===m.State.PARSING){var r=e.tracks,o=void 0;if(r.video&&delete r.video,o=r.audio){o.levelCodec=o.codec,o.id=e.id,this.hls.trigger(l.default.BUFFER_CODECS,r),d.logger.log("audio track:audio,container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var i=o.initSegment;if(i){var a={type:"audio",data:i,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,a))}this.tick()}}},n.prototype.onFragParsingData=function(t){var n=this,r=this.fragCurrent,o=t.frag;if(r&&"audio"===t.id&&"audio"===t.type&&o.sn===r.sn&&o.level===r.level&&this.state===m.State.PARSING){var i=this.trackId,a=this.tracks[i],s=this.hls;e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+r.duration,t.endDTS=t.startDTS+r.duration),r.addElementaryStream(g.default.ElementaryStreamTypes.AUDIO),d.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),u.updateFragPTSDTS(a.details,r,t.startPTS,t.endPTS);var c=this.audioSwitch,p=this.media,h=!1;if(c&&p)if(p.readyState){var v=p.currentTime;d.logger.log("switching audio track : currentTime:"+v),v>=t.startPTS&&(d.logger.log("switching audio track : flushing all audio"),this.state=m.State.BUFFER_FLUSHING,s.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),h=!0,this.audioSwitch=!1,s.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:i}))}else this.audioSwitch=!1,s.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:i});var y=this.pendingData;if(!y)return d.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void s.trigger(l.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach((function(e){e&&e.length&&y.push({type:t.type,data:e,parent:"audio",content:"data"})})),!h&&y.length&&(y.forEach((function(e){n.state===m.State.PARSING&&(n.pendingBuffering=!0,n.hls.trigger(l.default.BUFFER_APPENDING,e))})),this.pendingData=[],this.appended=!0)),this.tick()}},n.prototype.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===m.State.PARSING&&(this.stats.tparsed=v.now(),this.state=m.State.PARSED,this._checkAppendedParsed())},n.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},n.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},n.prototype.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==m.State.PARSING&&t!==m.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},n.prototype._checkAppendedParsed=function(){if(!(this.state!==m.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,n=this.hls;if(e){this.fragPrevious=e,t.tbuffered=v.now(),n.trigger(l.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;d.logger.log("audio buffered : "+c.default.toString(r.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=m.State.IDLE}this.tick()}},n.prototype.onError=function(t){var n=t.frag;if(!n||"audio"===n.type)switch(t.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:var r=t.frag;if(r&&"audio"!==r.type)break;if(!t.fatal){var o=this.fragLoadError;if(o?o++:o=1,o<=(s=this.config).fragLoadingMaxRetry){this.fragLoadError=o;var i=Math.min(Math.pow(2,o-1)*s.fragLoadingRetryDelay,s.fragLoadingMaxRetryTimeout);d.logger.warn("AudioStreamController: frag loading failed, retry in "+i+" ms"),this.retryDate=v.now()+i,this.state=m.State.FRAG_LOADING_WAITING_RETRY}else d.logger.error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=m.State.ERROR}break;case f.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case f.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==m.State.ERROR&&(this.state=t.fatal?m.State.ERROR:m.State.IDLE,d.logger.warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case f.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===m.State.PARSING||this.state===m.State.PARSED)){var s,u=this.mediaBuffer,c=this.media.currentTime;u&&a.BufferHelper.isBuffered(u,c)&&a.BufferHelper.isBuffered(u,c+.5)?((s=this.config).maxMaxBufferLength>=s.maxBufferLength&&(s.maxMaxBufferLength/=2,d.logger.warn("AudioStreamController: reduce max buffer length to "+s.maxMaxBufferLength+"s")),this.state=m.State.IDLE):(d.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=m.State.BUFFER_FLUSHING,this.hls.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}))}}},n.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(d.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),t.forEach((function(t){e.hls.trigger(l.default.BUFFER_APPENDING,t)})),this.appended=!0,this.pendingData=[],this.state=m.State.PARSED):(this.state=m.State.IDLE,this.fragPrevious=null,this.tick())},n}(m.default);t.default=y}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/audio-track-controller.js":
/*!**************************************************!*\
  !*** ./src/controller/audio-track-controller.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../task-loop */"./src/task-loop.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),l=n(/*! ../errors */"./src/errors.js"),u=function(e){function t(t){var n=e.call(this,t,i.default.MANIFEST_LOADING,i.default.MANIFEST_PARSED,i.default.AUDIO_TRACK_LOADED,i.default.AUDIO_TRACK_SWITCHED,i.default.LEVEL_LOADED,i.default.ERROR)||this;return n._trackId=-1,n._selectDefaultTrack=!0,n.tracks=[],n.trackIdBlacklist=Object.create(null),n.audioGroupId=null,n}return o(t,e),t.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},t.prototype.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(i.default.AUDIO_TRACKS_UPDATED,{audioTracks:t})},t.prototype.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)s.logger.warn("Invalid audio track id:",e.id);else{if(s.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},t.prototype.onLevelLoaded=function(e){var t=this.hls.levels[e.level];if(t.audioGroupIds){var n=t.audioGroupIds[t.urlId];this.audioGroupId!==n&&(this.audioGroupId=n,this._selectInitialAudioTrack())}},t.prototype.onError=function(e){e.type===l.ErrorTypes.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(s.logger.warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},Object.defineProperty(t.prototype,"audioTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTrack",{get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1},enumerable:!0,configurable:!0}),t.prototype._setAudioTrack=function(e){if(this._trackId===e&&this.tracks[this._trackId].details)s.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(e<0||e>=this.tracks.length)s.logger.warn("Invalid id passed to audio-track controller");else{var t=this.tracks[e];s.logger.log("Now switching to audio-track index "+e),this.clearInterval(),this._trackId=e;var n=t.url,r=t.type,o=t.id;this.hls.trigger(i.default.AUDIO_TRACK_SWITCHING,{id:o,type:r,url:n}),this._loadTrackDetailsIfNeeded(t)}},t.prototype.doTick=function(){this._updateTrack(this._trackId)},t.prototype._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var n=this.tracks[this._trackId],r=null;if(n&&(r=n.name),this._selectDefaultTrack){var o=t.filter((function(e){return e.default}));o.length?t=o:s.logger.warn("No default audio tracks defined")}var a=!1,u=function(){t.forEach((function(t){a||e.audioGroupId&&t.groupId!==e.audioGroupId||r&&r!==t.name||(e._setAudioTrack(t.id),a=!0)}))};u(),a||(r=null,u()),a||(s.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},t.prototype._needsTrackLoading=function(e){var t=e.details,n=e.url;return!(t&&!t.live||!n)},t.prototype._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,n=e.id;s.logger.log("loading audio-track playlist for id: "+n),this.hls.trigger(i.default.AUDIO_TRACK_LOADING,{url:t,id:n})}},t.prototype._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this._trackId=e,s.logger.log("trying to update audio-track "+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},t.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var e=this._trackId,t=this.tracks[e],n=t.name,r=t.language,o=t.groupId;s.logger.warn("Loading failed on audio track id: "+e+", group-id: "+o+', name/language: "'+n+'" / "'+r+'"');for(var i=e,a=0;a<this.tracks.length;a++)if(!this.trackIdBlacklist[a]&&this.tracks[a].name===n){i=a;break}i!==e?(s.logger.log("Attempting audio-track fallback id:",i,"group-id:",this.tracks[i].groupId),this._setAudioTrack(i)):s.logger.warn('No fallback audio-track found for name/language: "'+n+'" / "'+r+'"')},t}(a.default);t.default=u},"./src/controller/base-stream-controller.js":
/*!**************************************************!*\
  !*** ./src/controller/base-stream-controller.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../task-loop */"./src/task-loop.js"),a=n(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),s=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js");t.State={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};var u=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return o(r,n),r.prototype.doTick=function(){},r.prototype.startLoad=function(){},r.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=t.State.STOPPED},r.prototype._streamEnded=function(e,t){var n=this.fragCurrent,r=this.fragmentTracker;if(!t.live&&n&&!n.backtracked&&n.sn===t.endSN&&!e.nextStart){var o=r.getState(n);return o===a.FragmentState.PARTIAL||o===a.FragmentState.OK}return!1},r.prototype.onMediaSeeking=function(){var n=this.config,r=this.media,o=this.mediaBuffer,i=this.state,a=r?r.currentTime:null,u=s.BufferHelper.bufferInfo(o||r,a,this.config.maxBufferHole);if(e.isFinite(a)&&l.logger.log("media seeking to "+a.toFixed(3)),i===t.State.FRAG_LOADING){var c=this.fragCurrent;if(0===u.len&&c){var f=n.maxFragLookUpTolerance,d=c.start-f,p=c.start+c.duration+f;a<d||a>p?(c.loader&&(l.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),c.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=t.State.IDLE):l.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else i===t.State.ENDED&&(0===u.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=t.State.IDLE);r&&(this.lastCurrentTime=a),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=a),this.tick()},r.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},r.prototype.onHandlerDestroying=function(){this.stopLoad(),n.prototype.onHandlerDestroying.call(this)},r.prototype.onHandlerDestroyed=function(){this.state=t.State.STOPPED,this.fragmentTracker=null},r}(i.default);t.default=u}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/buffer-controller.js":
/*!*********************************************!*\
  !*** ./src/controller/buffer-controller.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),l=n(/*! ../errors */"./src/errors.js"),u=n(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.js").getMediaSource(),c=function(t){function n(e){var n=t.call(this,e,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_RESET,i.default.BUFFER_APPENDING,i.default.BUFFER_CODECS,i.default.BUFFER_EOS,i.default.BUFFER_FLUSHING,i.default.LEVEL_PTS_UPDATED,i.default.LEVEL_UPDATED)||this;return n._msDuration=null,n._levelDuration=null,n._levelTargetDuration=10,n._live=null,n._objectUrl=null,n.bufferCodecEventsExpected=0,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return o(n,t),n.prototype.destroy=function(){a.default.prototype.destroy.call(this)},n.prototype.onLevelPtsUpdated=function(e){var t=e.type,n=this.tracks.audio;if("audio"===t&&n&&"audio/mpeg"===n.container){var r=this.sourceBuffer.audio;if(Math.abs(r.timestampOffset-e.start)>.1){var o=r.updating;try{r.abort()}catch(e){s.logger.warn("can not abort audio buffer: "+e)}o?this.audioTimestampOffset=e.start:(s.logger.warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+e.start),r.timestampOffset=e.start)}}},n.prototype.onManifestParsed=function(e){this.bufferCodecEventsExpected=e.altAudio?2:1,s.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},n.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var n=this.mediaSource=new u;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),t.src=window.URL.createObjectURL(n),this._objectUrl=t.src}},n.prototype.onMediaDetaching=function(){s.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){s.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):s.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(i.default.MEDIA_DETACHED)},n.prototype.onMediaSourceOpen=function(){s.logger.log("media source opened"),this.hls.trigger(i.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},n.prototype.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,n=Object.keys(t).length;(n&&!e||2===n)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},n.prototype.onMediaSourceClose=function(){s.logger.log("media source closed")},n.prototype.onMediaSourceEnded=function(){s.logger.log("media source ended")},n.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;s.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,n=this.segments.reduce((function(e,n){return n.parent===t?e+1:e}),0),r={},o=this.sourceBuffer;for(var a in o)r[a]=o[a].buffered;this.hls.trigger(i.default.BUFFER_APPENDED,{parent:t,pending:n,timeRanges:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===n&&this.flushLiveBackBuffer()},n.prototype.onSBUpdateError=function(e){s.logger.error("sourceBuffer error:",e),this.hls.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},n.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var n=e[t];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},n.prototype.onBufferCodecs=function(e){var t=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(e).forEach((function(n){t.pendingTracks[n]=e[n]}));var n=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),n&&"open"===n.readyState&&this.checkPendingTracks()}},n.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,n=this.mediaSource;for(var r in e)if(!t[r]){var o=e[r],a=o.levelCodec||o.codec,u=o.container+";codecs="+a;s.logger.log("creating sourceBuffer("+u+")");try{var c=t[r]=n.addSourceBuffer(u);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[r]={codec:a,container:o.container},o.buffer=c}catch(e){s.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:u})}}this.hls.trigger(i.default.BUFFER_CREATED,{tracks:e})},n.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},n.prototype.onBufferAppendFail=function(e){s.logger.error("sourceBuffer error:",e.event),this.hls.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},n.prototype.onBufferEos=function(e){var t=this.sourceBuffer,n=e.type;for(var r in t)n&&r!==n||t[r].ended||(t[r].ended=!0,s.logger.log(r+" sourceBuffer now EOS"));this.checkEos()},n.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var n in e){var r=e[n];if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}s.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){s.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},n.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},n.prototype.flushLiveBackBuffer=function(){if(this._live){var e=this.hls.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))for(var t=this.media.currentTime,n=this.sourceBuffer,r=Object.keys(n),o=t-Math.max(e,this._levelTargetDuration),i=r.length-1;i>=0;i--){var a=r[i],s=n[a].buffered;s.length>0&&o>s.start(0)&&this.removeBufferRange(a,n[a],0,o)}}},n.prototype.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},n.prototype.updateMediaElementDuration=function(){var t,n=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var r in this.sourceBuffer)if(!0===this.sourceBuffer[r].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===n.liveDurationInfinity?(s.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!e.isFinite(t))&&(s.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},n.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,n=this.sourceBuffer;try{for(var r in n)t+=n[r].buffered.length}catch(e){s.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(i.default.BUFFER_FLUSHED)}},n.prototype.doAppending=function(){var e=this.hls,t=this.segments,n=this.sourceBuffer;if(Object.keys(n).length){if(this.media.error)return this.segments=[],void s.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(t&&t.length){var r=t.shift();try{var o=n[r.type];o?o.updating?t.unshift(r):(o.ended=!1,this.parent=r.parent,o.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(n){s.logger.error("error while trying to append buffer:"+n.message),t.unshift(r);var a={type:l.ErrorTypes.MEDIA_ERROR,parent:r.parent};22!==n.code?(this.appendError?this.appendError++:this.appendError=1,a.details=l.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry?(s.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],a.fatal=!0,e.trigger(i.default.ERROR,a)):(a.fatal=!1,e.trigger(i.default.ERROR,a))):(this.segments=[],a.details=l.ErrorDetails.BUFFER_FULL_ERROR,a.fatal=!1,e.trigger(i.default.ERROR,a))}}}},n.prototype.flushBuffer=function(e,t,n){var r,o=this.sourceBuffer;if(Object.keys(o).length){if(s.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var i in o)if(!n||i===n){if((r=o[i]).ended=!1,r.updating)return s.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(i,r,e,t))return this.flushBufferCounter++,!1}}else s.logger.warn("abort flushing too many retries");s.logger.log("buffer flushed")}return!0},n.prototype.removeBufferRange=function(e,t,n,r){try{for(var o=0;o<t.buffered.length;o++){var i=t.buffered.start(o),a=t.buffered.end(o),l=Math.max(i,n),u=Math.min(a,r);if(Math.min(u,a)-l>.5)return s.logger.log("sb remove "+e+" ["+l+","+u+"], of ["+i+","+a+"], pos:"+this.media.currentTime),t.remove(l,u),!0}}catch(e){s.logger.warn("removeBufferRange failed",e)}return!1},n}(a.default);t.default=c}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/cap-level-controller.js":
/*!************************************************!*\
  !*** ./src/controller/cap-level-controller.js ***!
  \************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=function(t){function n(n){var r=t.call(this,n,i.default.FPS_DROP_LEVEL_CAPPING,i.default.MEDIA_ATTACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_CODECS,i.default.MEDIA_DETACHING)||this;return r.autoLevelCapping=e.POSITIVE_INFINITY,r.firstLevel=null,r.levels=[],r.media=null,r.restrictedLevels=[],r.timer=null,r}return o(n,t),n.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},n.prototype.onFpsDropLevelCapping=function(e){n.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},n.prototype.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},n.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this._startCapping()},n.prototype.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this._startCapping()},n.prototype.onLevelsUpdated=function(e){this.levels=e.levels},n.prototype.onMediaDetaching=function(){this._stopCapping()},n.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},n.prototype.getMaxLevel=function(e){var t=this;if(!this.levels)return-1;var r=this.levels.filter((function(r,o){return n.isLevelAllowed(o,t.restrictedLevels)&&o<=e}));return n.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)},n.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=e.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},n.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=e.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(n.prototype,"mediaWidth",{get:function(){var e,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=n.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaHeight",{get:function(){var e,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=n.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"contentScaleFactor",{get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e},enumerable:!0,configurable:!0}),n.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},n.getMaxLevelByMediaSize=function(e,t,n){if(!e||e&&!e.length)return-1;for(var r,o,i=e.length-1,a=0;a<e.length;a+=1){var s=e[a];if((s.width>=t||s.height>=n)&&(r=s,!(o=e[a+1])||r.width!==o.width||r.height!==o.height)){i=a;break}}return i},n}(n(/*! ../event-handler */"./src/event-handler.js").default);t.default=a}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/eme-controller.js":
/*!******************************************!*\
  !*** ./src/controller/eme-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../event-handler */"./src/event-handler.js"),a=n(/*! ../events */"./src/events.js"),s=n(/*! ../errors */"./src/errors.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js"),u=window.XMLHttpRequest,c="com.widevine.alpha",f="com.microsoft.playready",d=function(e){function t(t){var n=e.call(this,t,a.default.MEDIA_ATTACHED,a.default.MANIFEST_PARSED)||this;return n._widevineLicenseUrl=t.config.widevineLicenseUrl,n._licenseXhrSetup=t.config.licenseXhrSetup,n._emeEnabled=t.config.emeEnabled,n._requestMediaKeySystemAccess=t.config.requestMediaKeySystemAccessFunc,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._isMediaEncrypted=!1,n._requestLicenseFailureCount=0,n}return o(t,e),t.prototype.getLicenseServerUrl=function(e){var t;switch(e){case c:t=this._widevineLicenseUrl;break;default:t=null}return t||(l.logger.error('No license server URL configured for key-system "'+e+'"'),this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),t},t.prototype._attemptKeySystemAccess=function(e,t,n){var r=this,o=function(e,t,n){switch(e){case c:return function(e,t,n){var r={videoCapabilities:[]};return t.forEach((function(e){r.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"'})})),[r]}(0,n);default:throw Error("Unknown key-system: "+e)}}(e,0,n);o?(l.logger.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(e,o).then((function(t){r._onMediaKeySystemAccessObtained(e,t)})).catch((function(t){l.logger.error('Failed to obtain key-system "'+e+'" access:',t)}))):l.logger.warn("Can not create config for key-system (maybe because platform is not supported):",e)},Object.defineProperty(t.prototype,"requestMediaKeySystemAccess",{get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess},enumerable:!0,configurable:!0}),t.prototype._onMediaKeySystemAccessObtained=function(e,t){var n=this;l.logger.log('Access for key-system "'+e+'" obtained');var r={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(r),t.createMediaKeys().then((function(t){r.mediaKeys=t,l.logger.log('Media-keys created for key-system "'+e+'"'),n._onMediaKeysCreated()})).catch((function(e){l.logger.error("Failed to create media-keys:",e)}))},t.prototype._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach((function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))}))},t.prototype._onNewMediaKeySession=function(e){var t=this;l.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",(function(n){t._onKeySessionMessage(e,n.message)}),!1)},t.prototype._onKeySessionMessage=function(e,t){l.logger.log("Got EME message event, creating license request"),this._requestLicense(t,(function(t){l.logger.log("Received license data, updating key-session"),e.update(t)}))},t.prototype._onMediaEncrypted=function(e,t){l.logger.log('Media is encrypted using "'+e+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=e,this._mediaEncryptionInitData=t,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},t.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return l.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});l.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},t.prototype._generateRequestWithPreferredKeySession=function(){var e=this,t=this._mediaKeysList[0];if(!t)return l.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(t.mediaKeysSessionInitialized)l.logger.warn("Key-Session already initialized but requested again");else{var n=t.mediaKeysSession;n||(l.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));var r=this._mediaEncryptionInitDataType,o=this._mediaEncryptionInitData;l.logger.log('Generating key-session request for "'+r+'" init data type'),t.mediaKeysSessionInitialized=!0,n.generateRequest(r,o).then((function(){l.logger.debug("Key-session generation succeeded")})).catch((function(t){l.logger.error("Error generating key-session request:",t),e.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},t.prototype._createLicenseXhr=function(e,t,n){var r=new u,o=this._licenseXhrSetup;try{if(o)try{o(r,e)}catch(t){r.open("POST",e,!0),o(r,e)}r.readyState||r.open("POST",e,!0)}catch(e){return l.logger.error("Error setting up key-system license XHR",e),void this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,e,t,n),r},t.prototype._onLicenseRequestReadyStageChange=function(e,t,n,r){switch(e.readyState){case 4:if(200===e.status)this._requestLicenseFailureCount=0,l.logger.log("License request succeeded"),r(e.response);else{if(l.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var o=3-this._requestLicenseFailureCount+1;return l.logger.warn("Retrying license request, "+o+" attempts left"),void this._requestLicense(n,r)}this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},t.prototype._generateLicenseRequestChallenge=function(e,t){var n;return e.mediaKeySystemDomain===f?l.logger.error("PlayReady is not supported (yet)"):e.mediaKeySystemDomain===c?n=t:l.logger.error("Unsupported key-system:",e.mediaKeySystemDomain),n},t.prototype._requestLicense=function(e,t){l.logger.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return l.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});var r=this.getLicenseServerUrl(n.mediaKeySystemDomain),o=this._createLicenseXhr(r,e,t);l.logger.log("Sending license request to URL: "+r),o.send(this._generateLicenseRequestChallenge(n,e))},t.prototype.onMediaAttached=function(e){var t=this;if(this._emeEnabled){var n=e.media;this._media=n,n.addEventListener("encrypted",(function(e){t._onMediaEncrypted(e.initDataType,e.initData)}))}},t.prototype.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map((function(e){return e.audioCodec})),n=e.levels.map((function(e){return e.videoCodec}));this._attemptKeySystemAccess(c,t,n)}},t}(i.default);t.default=d},"./src/controller/fps-controller.js":
/*!******************************************!*\
  !*** ./src/controller/fps-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),l=window.performance,u=function(e){function t(t){return e.call(this,t,i.default.MEDIA_ATTACHING)||this}return o(t,e),t.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},t.prototype.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},t.prototype.checkFPS=function(e,t,n){var r=l.now();if(t){if(this.lastTime){var o=r-this.lastTime,a=n-this.lastDroppedFrames,u=t-this.lastDecodedFrames,c=1e3*a/o,f=this.hls;if(f.trigger(i.default.FPS_DROP,{currentDropped:a,currentDecoded:u,totalDroppedFrames:n}),c>0&&a>f.config.fpsDroppedMonitoringThreshold*u){var d=f.currentLevel;s.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===f.autoLevelCapping||f.autoLevelCapping>=d)&&(d-=1,f.trigger(i.default.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:f.currentLevel}),f.autoLevelCapping=d,f.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}},t.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(a.default);t.default=u},"./src/controller/fragment-finders.js":
/*!********************************************!*\
  !*** ./src/controller/fragment-finders.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/binary-search */"./src/utils/binary-search.js");function o(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0);var r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function i(e,t,n){var r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.endProgramDateTime-r>e}t.findFragmentByPDT=function(t,n,r){if(!Array.isArray(t)||!t.length||!e.isFinite(n))return null;if(n<t[0].programDateTime)return null;if(n>=t[t.length-1].endProgramDateTime)return null;r=r||0;for(var o=0;o<t.length;++o){var a=t[o];if(i(n,r,a))return a}return null},t.findFragmentByPTS=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var a=e?t[e.sn-t[0].sn+1]:null;return a&&!o(n,i,a)?a:r.default.search(t,o.bind(null,n,i))},t.fragmentWithinToleranceTest=o,t.pdtWithinToleranceTest=i}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/fragment-tracker.js":
/*!********************************************!*\
  !*** ./src/controller/fragment-tracker.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../event-handler */"./src/event-handler.js"),a=n(/*! ../events */"./src/events.js");t.FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};var s=function(n){function r(e){var t=n.call(this,e,a.default.BUFFER_APPENDED,a.default.FRAG_BUFFERED,a.default.FRAG_LOADED)||this;return t.bufferPadding=.2,t.fragments=Object.create(null),t.timeRanges=Object.create(null),t.config=e.config,t}return o(r,n),r.prototype.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,i.default.prototype.destroy.call(this),n.prototype.destroy.call(this)},r.prototype.getBufferedFrag=function(e,t){var n=this.fragments,r=Object.keys(n).filter((function(r){var o=n[r];if(o.body.type!==t)return!1;if(!o.buffered)return!1;var i=o.body;return i.startPTS<=e&&e<=i.endPTS}));if(0===r.length)return null;var o=r.pop();return n[o].body},r.prototype.detectEvictedFragments=function(e,t){var n,r,o=this;Object.keys(this.fragments).forEach((function(i){var a=o.fragments[i];if(!0===a.buffered){var s=a.range[e];if(s){n=s.time;for(var l=0;l<n.length;l++)if(r=n[l],!1===o.isTimeBuffered(r.startPTS,r.endPTS,t)){o.removeFragment(a.body);break}}}}))},r.prototype.detectPartialFragments=function(e){var t=this,n=this.getFragmentKey(e),r=this.fragments[n];r&&(r.buffered=!0,Object.keys(this.timeRanges).forEach((function(n){if(e.hasElementaryStream(n)){var o=t.timeRanges[n];r.range[n]=t.getBufferedTimes(e.startPTS,e.endPTS,o)}})))},r.prototype.getBufferedTimes=function(e,t,n){for(var r,o,i=[],a=!1,s=0;s<n.length;s++){if(r=n.start(s)-this.bufferPadding,o=n.end(s)+this.bufferPadding,e>=r&&t<=o){i.push({startPTS:Math.max(e,n.start(s)),endPTS:Math.min(t,n.end(s))});break}if(e<o&&t>r)i.push({startPTS:Math.max(e,n.start(s)),endPTS:Math.min(t,n.end(s))}),a=!0;else if(t<=r)break}return{time:i,partial:a}},r.prototype.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},r.prototype.getPartialFragment=function(e){var t,n,r,o=this,i=null,a=0;return Object.keys(this.fragments).forEach((function(s){var l=o.fragments[s];o.isPartial(l)&&(n=l.body.startPTS-o.bufferPadding,r=l.body.endPTS+o.bufferPadding,e>=n&&e<=r&&(t=Math.min(e-n,r-e),a<=t&&(i=l.body,a=t)))})),i},r.prototype.getState=function(e){var n=this.getFragmentKey(e),r=this.fragments[n],o=t.FragmentState.NOT_LOADED;return void 0!==r&&(o=r.buffered?!0===this.isPartial(r)?t.FragmentState.PARTIAL:t.FragmentState.OK:t.FragmentState.APPENDING),o},r.prototype.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},r.prototype.isTimeBuffered=function(e,t,n){for(var r,o,i=0;i<n.length;i++){if(r=n.start(i)-this.bufferPadding,o=n.end(i)+this.bufferPadding,e>=r&&t<=o)return!0;if(t<=r)return!1}return!1},r.prototype.onFragLoaded=function(t){var n=t.frag;e.isFinite(n.sn)&&!n.bitrateTest&&(this.fragments[this.getFragmentKey(n)]={body:n,range:Object.create(null),buffered:!1})},r.prototype.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach((function(e){var n=t.timeRanges[e];t.detectEvictedFragments(e,n)}))},r.prototype.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},r.prototype.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},r.prototype.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},r.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},r}(i.default);t.FragmentTracker=s}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/gap-controller.js":
/*!******************************************!*\
  !*** ./src/controller/gap-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),o=n(/*! ../errors */"./src/errors.js"),i=n(/*! ../events */"./src/events.js"),a=n(/*! ../utils/logger */"./src/utils/logger.js"),s=function(){function e(e,t,n,r){this.config=e,this.media=t,this.fragmentTracker=n,this.hls=r,this.stallReported=!1}return e.prototype.poll=function(e,t){var n=this.config,o=this.media,i=o.currentTime,s=window.performance.now();if(i!==e)return this.stallReported&&(a.logger.warn("playback not stuck anymore @"+i+", after "+Math.round(s-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(o.ended||!o.buffered.length||o.readyState>2||o.seeking&&r.BufferHelper.isBuffered(o,i))){var l=s-this.stalled,u=r.BufferHelper.bufferInfo(o,i,n.maxBufferHole);this.stalled?(l>=1e3&&this._reportStall(u.len),this._tryFixBufferStall(u,l)):this.stalled=s}},e.prototype._tryFixBufferStall=function(e,t){var n=this.config,r=this.fragmentTracker,o=this.media.currentTime,i=r.getPartialFragment(o);i&&this._trySkipBufferHole(i),e.len>.5&&t>1e3*n.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},e.prototype._reportStall=function(e){var t=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,a.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer"),t.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},e.prototype._trySkipBufferHole=function(e){for(var t=this.hls,n=this.media,r=n.currentTime,s=0,l=0;l<n.buffered.length;l++){var u=n.buffered.start(l);if(r>=s&&r<u)return n.currentTime=Math.max(u,n.currentTime+.1),a.logger.warn("skipping hole, adjusting currentTime from "+r+" to "+n.currentTime),this.stalled=null,void t.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+r+" to "+n.currentTime,frag:e});s=n.buffered.end(l)}},e.prototype._tryNudgeBuffer=function(){var e=this.config,t=this.hls,n=this.media,r=n.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<e.nudgeMaxRetry){var l=r+s*e.nudgeOffset;a.logger.log("adjust currentTime from "+r+" to "+l),n.currentTime=l,t.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else a.logger.error("still stuck in high buffer @"+r+" after "+e.nudgeMaxRetry+", raise fatal error"),t.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}();t.default=s},"./src/controller/id3-track-controller.js":
/*!************************************************!*\
  !*** ./src/controller/id3-track-controller.js ***!
  \************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../demux/id3 */"./src/demux/id3.js"),l=n(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.js"),u=function(e){function t(t){var n=e.call(this,t,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_METADATA)||this;return n.id3Track=void 0,n.media=void 0,n}return o(t,e),t.prototype.destroy=function(){a.default.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){this.media=e.media,this.media},t.prototype.onMediaDetaching=function(){l.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},t.prototype.getID3Track=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return l.sendAddTrackEvent(n,this.media),n}return this.media.addTextTrack("metadata","id3")},t.prototype.onFragParsingMetadata=function(e){var t=e.frag,n=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var r=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,o=0;o<n.length;o++){var i=s.default.getID3Frames(n[o].data);if(i){var a=n[o].pts,l=o<n.length-1?n[o+1].pts:t.endPTS;a===l&&(l+=1e-4);for(var u=0;u<i.length;u++){var c=i[u];if(!s.default.isTimeStampFrame(c)){var f=new r(a,l,"");f.value=c,this.id3Track.addCue(f)}}}}},t}(a.default);t.default=u},"./src/controller/level-controller.js":
/*!********************************************!*\
  !*** ./src/controller/level-controller.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(/*! ../events */"./src/events.js"),s=n(/*! ../event-handler */"./src/event-handler.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js"),u=n(/*! ../errors */"./src/errors.js"),c=n(/*! ../utils/codecs */"./src/utils/codecs.js"),f=n(/*! ./level-helper */"./src/controller/level-helper.js"),d=(window.performance,function(e){function t(t){var n=e.call(this,t,a.default.MANIFEST_LOADED,a.default.LEVEL_LOADED,a.default.AUDIO_TRACK_SWITCHED,a.default.FRAG_LOADED,a.default.ERROR)||this;return n.canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,i=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),n}return o(t,e),t.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},t.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach((function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)})),null!==this.timer&&this.loadLevel()},t.prototype.stopLoad=function(){this.canload=!1},t.prototype.onManifestLoaded=function(e){var t,n=[],r=[],o={},s=null,d=!1,p=!1;if(e.levels.forEach((function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,d=d||!!e.videoCodec,p=p||!!e.audioCodec,i&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(s=o[e.bitrate])?s.url.push(e.url):(e.url=[e.url],e.urlId=0,o[e.bitrate]=e,n.push(e)),t&&(t.AUDIO&&(p=!0,f.addGroupId(s||e,"audio",t.AUDIO)),t.SUBTITLES&&f.addGroupId(s||e,"text",t.SUBTITLES))})),d&&p&&(n=n.filter((function(e){return!!e.videoCodec}))),n=n.filter((function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||c.isCodecSupportedInMp4(t,"audio"))&&(!n||c.isCodecSupportedInMp4(n,"video"))})),e.audioTracks&&(r=e.audioTracks.filter((function(e){return!e.audioCodec||c.isCodecSupportedInMp4(e.audioCodec,"audio")}))).forEach((function(e,t){e.id=t})),n.length>0){t=n[0].bitrate,n.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=n;for(var h=0;h<n.length;h++)if(n[h].bitrate===t){this._firstLevel=h,l.logger.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+t);break}this.hls.trigger(a.default.MANIFEST_PARSED,{levels:n,audioTracks:r,firstLevel:this._firstLevel,stats:e.stats,audio:p,video:d,altAudio:r.some((function(e){return!!e.url}))})}else this.hls.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Object.defineProperty(t.prototype,"levels",{get:function(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))},enumerable:!0,configurable:!0}),t.prototype.setLevelInternal=function(e){var t=this._levels,n=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){l.logger.log("switching to level "+e),this.currentLevelIndex=e;var r=t[e];r.level=e,n.trigger(a.default.LEVEL_SWITCHING,r)}var o=t[e],i=o.details;if(!i||i.live){var s=o.urlId;n.trigger(a.default.LEVEL_LOADING,{url:o.url[s],level:e,id:s})}}else n.trigger(a.default.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},Object.defineProperty(t.prototype,"manualLevel",{get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstLevel",{get:function(){return this._firstLevel},set:function(e){this._firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLevel",{get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e},enumerable:!0,configurable:!0}),t.prototype.onError=function(e){if(e.fatal)e.type===u.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var t,n=!1,r=!1;switch(e.details){case u.ErrorDetails.FRAG_LOAD_ERROR:case u.ErrorDetails.FRAG_LOAD_TIMEOUT:case u.ErrorDetails.KEY_LOAD_ERROR:case u.ErrorDetails.KEY_LOAD_TIMEOUT:t=e.frag.level,r=!0;break;case u.ErrorDetails.LEVEL_LOAD_ERROR:case u.ErrorDetails.LEVEL_LOAD_TIMEOUT:t=e.context.level,n=!0;break;case u.ErrorDetails.REMUX_ALLOC_ERROR:t=e.level,n=!0}void 0!==t&&this.recoverLevel(e,t,n,r)}},t.prototype.recoverLevel=function(e,t,n,r){var o,i,a,s=this,u=this.hls.config,c=e.details,f=this._levels[t];if(f.loadError++,f.fragmentError=r,n){if(!(this.levelRetryCount+1<=u.levelLoadingMaxRetry))return l.logger.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);i=Math.min(Math.pow(2,this.levelRetryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return s.loadLevel()}),i),e.levelRetry=!0,this.levelRetryCount++,l.logger.warn("level controller, "+c+", retry in "+i+" ms, current retry count is "+this.levelRetryCount)}(n||r)&&((o=f.url.length)>1&&f.loadError<o?(f.urlId=(f.urlId+1)%o,f.details=void 0,l.logger.warn("level controller, "+c+" for level "+t+": switching to redundant URL-id "+f.urlId)):-1===this.manualLevelIndex?(a=0===t?this._levels.length-1:t-1,l.logger.warn("level controller, "+c+": switch to "+a),this.hls.nextAutoLevel=this.currentLevelIndex=a):r&&(l.logger.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},t.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var n=this._levels[t.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},t.prototype.onLevelLoaded=function(e){var t=this,n=e.level,r=e.details;if(n===this.currentLevelIndex){var o=this._levels[n];if(o.fragmentError||(o.loadError=0,this.levelRetryCount=0),r.live){var i=f.computeReloadInterval(o.details,r,e.stats.trequest);l.logger.log("live playlist, reload in "+Math.round(i)+" ms"),this.timer=setTimeout((function(){return t.loadLevel()}),i)}else this.clearTimer()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,o=0;o<n.audioGroupIds.length;o++)if(n.audioGroupIds[o]===t){r=o;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},t.prototype.loadLevel=function(){if(l.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"==typeof e&&e.url.length>0){var t=this.currentLevelIndex,n=e.urlId,r=e.url[n];l.logger.log("Attempt loading level index "+t+" with URL-id "+n),this.hls.trigger(a.default.LEVEL_LOADING,{url:r,level:t,id:n})}}},Object.defineProperty(t.prototype,"nextLoadLevel",{get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)},enumerable:!0,configurable:!0}),t}(s.default));t.default=d},"./src/controller/level-helper.js":
/*!****************************************!*\
  !*** ./src/controller/level-helper.js ***!
  \****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/logger */"./src/utils/logger.js");function o(t,n,o){var i=t[n],a=t[o],s=a.startPTS;e.isFinite(s)?o>n?(i.duration=s-i.start,i.duration<0&&r.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(a.duration=i.start-s,a.duration<0&&r.logger.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!")):a.start=o>n?i.start+i.duration:Math.max(i.start-a.duration,0)}function i(t,n,r,i,a,s){var l=r;if(e.isFinite(n.startPTS)){var u=Math.abs(n.startPTS-r);e.isFinite(n.deltaPTS)?n.deltaPTS=Math.max(u,n.deltaPTS):n.deltaPTS=u,l=Math.max(r,n.startPTS),r=Math.min(r,n.startPTS),i=Math.max(i,n.endPTS),a=Math.min(a,n.startDTS),s=Math.max(s,n.endDTS)}var c=r-n.start;n.start=n.startPTS=r,n.maxStartPTS=l,n.endPTS=i,n.startDTS=a,n.endDTS=s,n.duration=i-r;var f,d,p,h=n.sn;if(!t||h<t.startSN||h>t.endSN)return 0;for(f=h-t.startSN,(d=t.fragments)[f]=n,p=f;p>0;p--)o(d,p,p-1);for(p=f;p<d.length-1;p++)o(d,p,p+1);return t.PTSKnown=!0,c}function a(e,t,n){if(e&&t)for(var r=Math.max(e.startSN,t.startSN)-t.startSN,o=Math.min(e.endSN,t.endSN)-t.startSN,i=t.startSN-e.startSN,a=r;a<=o;a++){var s=e.fragments[i+a],l=t.fragments[a];if(!s||!l)break;n(s,l,a)}}function s(e,t){var n=t.startSN-e.startSN,r=e.fragments,o=t.fragments;if(!(n<0||n>r.length))for(var i=0;i<o.length;i++)o[i].start+=r[n].start}t.addGroupId=function(e,t,n){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(n);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(n)}},t.updatePTS=o,t.updateFragPTSDTS=i,t.mergeDetails=function(t,n){n.initSegment&&t.initSegment&&(n.initSegment=t.initSegment);var o,l=0;if(a(t,n,(function(t,r){l=t.cc-r.cc,e.isFinite(t.startPTS)&&(r.start=r.startPTS=t.startPTS,r.endPTS=t.endPTS,r.duration=t.duration,r.backtracked=t.backtracked,r.dropped=t.dropped,o=r),n.PTSKnown=!0})),n.PTSKnown){if(l){r.logger.log("discontinuity sliding from playlist, take drift into account");for(var u=n.fragments,c=0;c<u.length;c++)u[c].cc+=l}o?i(n,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS):s(t,n),n.PTSKnown=t.PTSKnown}},t.mergeSubtitlePlaylists=function(e,t,n){void 0===n&&(n=0);var r=-1;a(e,t,(function(e,t,n){t.start=e.start,r=n}));var o=t.fragments;if(r<0)o.forEach((function(e){e.start+=n}));else for(var i=r+1;i<o.length;i++)o[i].start=o[i-1].start+o[i-1].duration},t.mapFragmentIntersection=a,t.adjustSliding=s,t.computeReloadInterval=function(e,t,n){var r=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),o=r/2;return e&&t.endSN===e.endSN&&(r=o),n&&(r=Math.max(o,r-(window.performance.now()-n))),Math.round(r)}}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/stream-controller.js":
/*!*********************************************!*\
  !*** ./src/controller/stream-controller.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../utils/binary-search */"./src/utils/binary-search.js"),a=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),s=n(/*! ../demux/demuxer */"./src/demux/demuxer.js"),l=n(/*! ../events */"./src/events.js"),u=n(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),c=n(/*! ../loader/fragment */"./src/loader/fragment.js"),f=n(/*! ../loader/playlist-loader */"./src/loader/playlist-loader.js"),d=n(/*! ./level-helper */"./src/controller/level-helper.js"),p=n(/*! ../utils/time-ranges */"./src/utils/time-ranges.js"),h=n(/*! ../errors */"./src/errors.js"),g=n(/*! ../utils/logger */"./src/utils/logger.js"),m=n(/*! ../utils/discontinuities */"./src/utils/discontinuities.js"),v=n(/*! ./fragment-finders */"./src/controller/fragment-finders.js"),y=n(/*! ./gap-controller */"./src/controller/gap-controller.js"),b=n(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),A=function(t){function n(e,n){var r=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.MANIFEST_LOADING,l.default.MANIFEST_PARSED,l.default.LEVEL_LOADED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_LOAD_EMERGENCY_ABORTED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_SWITCHED,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED)||this;return r.fragmentTracker=n,r.config=e.config,r.audioCodecSwap=!1,r._state=b.State.STOPPED,r.stallReported=!1,r.gapController=null,r}return o(n,t),n.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(g.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=b.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=b.State.STOPPED},n.prototype.stopLoad=function(){this.forceStartLoad=!1,t.prototype.stopLoad.call(this)},n.prototype.doTick=function(){switch(this.state){case b.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case b.State.IDLE:this._doTickIdle();break;case b.State.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=b.State.IDLE);break;case b.State.FRAG_LOADING_WAITING_RETRY:var t=window.performance.now(),n=this.retryDate;(!n||t>=n||this.media&&this.media.seeking)&&(g.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=b.State.IDLE);break;case b.State.ERROR:case b.State.STOPPED:case b.State.FRAG_LOADING:case b.State.PARSING:case b.State.PARSED:case b.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},n.prototype._doTickIdle=function(){var e=this.hls,t=e.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&t.startFragPrefetch)){var r;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var o=e.nextLoadLevel,i=this.levels[o];if(i){var s,u=i.bitrate;s=u?Math.max(8*t.maxBufferSize/u,t.maxBufferLength):t.maxBufferLength,s=Math.min(s,t.maxMaxBufferLength);var c=a.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,t.maxBufferHole),f=c.len;if(!(f>=s)){g.logger.trace("buffer length of "+f.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=o;var d=i.details;if(!d||d.live&&this.levelLastLoaded!==o)this.state=b.State.WAITING_LEVEL;else{if(this._streamEnded(c,d)){var p={};return this.altAudio&&(p.type="video"),this.hls.trigger(l.default.BUFFER_EOS,p),void(this.state=b.State.ENDED)}this._fetchPayloadOrEos(r,c,d)}}}}},n.prototype._fetchPayloadOrEos=function(e,t,n){var r=this.fragPrevious,o=this.level,i=n.fragments,a=i.length;if(0!==a){var s,l=i[0].start,u=i[a-1].start+i[a-1].duration,c=t.end;if(n.initSegment&&!n.initSegment.data)s=n.initSegment;else if(n.live){var f=this.config.initialLiveManifestSize;if(a<f)return void g.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+f);if(null===(s=this._ensureFragmentAtLivePoint(n,c,l,u,r,i,a)))return}else c<l&&(s=i[0]);s||(s=this._findFragment(l,r,a,i,c,u,n)),s&&(s.encrypted?(g.logger.log("Loading key for "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+o),this._loadKey(s)):(g.logger.log("Loading "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+o+", currentTime:"+e.toFixed(3)+",bufferEnd:"+c.toFixed(3)),this._loadFragment(s)))}},n.prototype._ensureFragmentAtLivePoint=function(e,t,n,r,o,a,s){var l,u=this.hls.config,c=this.media,f=void 0!==u.liveMaxLatencyDuration?u.liveMaxLatencyDuration:u.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(n-u.maxFragLookUpTolerance,r-f)){var d=this.liveSyncPosition=this.computeLivePosition(n,e);g.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),t=d,c&&c.readyState&&c.duration>d&&(c.currentTime=d),this.nextLoadPosition=d}if(e.PTSKnown&&t>r&&c&&c.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(o)if(e.hasProgramDateTime)g.logger.log("live playlist, switching playlist, load frag with same PDT: "+o.programDateTime),l=v.findFragmentByPDT(a,o.endProgramDateTime,u.maxFragLookUpTolerance);else{var p=o.sn+1;if(p>=e.startSN&&p<=e.endSN){var h=a[p-e.startSN];o.cc===h.cc&&(l=h,g.logger.log("live playlist, switching playlist, load frag with next SN: "+l.sn))}l||(l=i.default.search(a,(function(e){return o.cc-e.cc})))&&g.logger.log("live playlist, switching playlist, load frag with same CC: "+l.sn)}l||(l=a[Math.min(s-1,Math.round(s/2))],g.logger.log("live playlist, switching playlist, unknown, load middle frag : "+l.sn))}return l},n.prototype._findFragment=function(e,t,n,r,o,i,a){var s,l=this.hls.config;if(o<i){var u=o>i-l.maxFragLookUpTolerance?0:l.maxFragLookUpTolerance;s=v.findFragmentByPTS(t,r,o,u)}else s=r[n-1];if(s){var c=s.sn-a.startSN,f=t&&s.level===t.level,d=r[c-1],p=r[c+1];if(t&&s.sn===t.sn)if(f&&!s.backtracked)if(s.sn<a.endSN){var h=t.deltaPTS;h&&h>l.maxBufferHole&&t.dropped&&c?(s=d,g.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(s=p,g.logger.log("SN just loaded, load next one: "+s.sn,s))}else s=null;else s.backtracked&&(p&&p.backtracked?(g.logger.warn("Already backtracked from fragment "+p.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+p.sn),s=p):(g.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,d?(s=d).backtracked=!0:c&&(s=null)))}return s},n.prototype._loadKey=function(e){this.state=b.State.KEY_LOADING,this.hls.trigger(l.default.KEY_LOADING,{frag:e})},n.prototype._loadFragment=function(t){var n=this.fragmentTracker.getState(t);this.fragCurrent=t,this.startFragRequested=!0,e.isFinite(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||n===u.FragmentState.NOT_LOADED||n===u.FragmentState.PARTIAL?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.hls.trigger(l.default.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new s.default(this.hls,"main")),this.state=b.State.FRAG_LOADING):n===u.FragmentState.APPENDING&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,g.logger.log("main stream:"+t+"->"+e),this.hls.trigger(l.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},enumerable:!0,configurable:!0}),n.prototype.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,f.default.LevelType.MAIN)},Object.defineProperty(n.prototype,"currentLevel",{get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nextBufferedFrag",{get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null},enumerable:!0,configurable:!0}),n.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},Object.defineProperty(n.prototype,"nextLevel",{get:function(){var e=this.nextBufferedFrag;return e?e.level:-1},enumerable:!0,configurable:!0}),n.prototype._checkFragmentChanged=function(){var e,t,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((t=n.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),a.BufferHelper.isBuffered(n,t)?e=this.getBufferedFrag(t):a.BufferHelper.isBuffered(n,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var r=e;if(r!==this.fragPlaying){this.hls.trigger(l.default.FRAG_CHANGED,{frag:r});var o=r.level;this.fragPlaying&&this.fragPlaying.level===o||this.hls.trigger(l.default.LEVEL_SWITCHED,{level:o}),this.fragPlaying=r}}},n.prototype.immediateLevelSwitch=function(){if(g.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,n=void 0;t?(n=t.paused,t.pause()):n=!0,this.previouslyPaused=n}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)},n.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,a.BufferHelper.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},n.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var n,r=void 0,o=void 0;if((n=this.getBufferedFrag(t.currentTime))&&n.startPTS>1&&this.flushMainBuffer(0,n.startPTS-1),t.paused)r=0;else{var i=this.hls.nextLoadLevel,a=this.levels[i],s=this.fragLastKbps;r=s&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*s)+1:0}if((o=this.getBufferedFrag(t.currentTime+r))&&(o=this.followingBufferedFrag(o))){var l=this.fragCurrent;l&&l.loader&&l.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(o.maxStartPTS,e.POSITIVE_INFINITY)}}},n.prototype.flushMainBuffer=function(e,t){this.state=b.State.BUFFER_FLUSHING;var n={startOffset:e,endOffset:t};this.altAudio&&(n.type="video"),this.hls.trigger(l.default.BUFFER_FLUSHING,n)},n.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition),this.gapController=new y.default(n,t,this.fragmentTracker,this.hls)},n.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(g.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach((function(e){e.details&&e.details.fragments.forEach((function(e){e.backtracked=void 0}))})),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},n.prototype.onMediaSeeked=function(){var t=this.media,n=t?t.currentTime:void 0;e.isFinite(n)&&g.logger.log("media seeked to "+n.toFixed(3)),this.tick()},n.prototype.onManifestLoading=function(){g.logger.log("trigger BUFFER_RESET"),this.hls.trigger(l.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},n.prototype.onManifestParsed=function(e){var t,n=!1,r=!1;e.levels.forEach((function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(n=!0),-1!==t.indexOf("mp4a.40.5")&&(r=!0))})),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&g.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;var o=this.config;(o.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(o.startPosition)},n.prototype.onLevelLoaded=function(t){var n=t.details,r=t.level,o=this.levels[this.levelLastLoaded],i=this.levels[r],a=n.totalduration,s=0;if(g.logger.log("level "+r+" loaded ["+n.startSN+","+n.endSN+"],duration:"+a),n.live){var u=i.details;u&&n.fragments.length>0?(d.mergeDetails(u,n),s=n.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(s,u),n.PTSKnown&&e.isFinite(s)?g.logger.log("live playlist sliding:"+s.toFixed(3)):(g.logger.log("live playlist - outdated PTS, unknown sliding"),m.alignStream(this.fragPrevious,o,n))):(g.logger.log("live playlist - first load, unknown sliding"),n.PTSKnown=!1,m.alignStream(this.fragPrevious,o,n))}else n.PTSKnown=!1;if(i.details=n,this.levelLastLoaded=r,this.hls.trigger(l.default.LEVEL_UPDATED,{details:n,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var c=n.startTimeOffset;e.isFinite(c)?(c<0&&(g.logger.log("negative start time offset "+c+", count from end of last fragment"),c=s+a+c),g.logger.log("start time offset found in playlist, adjust startPosition to "+c),this.startPosition=c):n.live?(this.startPosition=this.computeLivePosition(s,n),g.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===b.State.WAITING_LEVEL&&(this.state=b.State.IDLE),this.tick()},n.prototype.onKeyLoaded=function(){this.state===b.State.KEY_LOADING&&(this.state=b.State.IDLE,this.tick())},n.prototype.onFragLoaded=function(e){var t=this.fragCurrent,n=this.hls,r=this.levels,o=this.media,i=e.frag;if(this.state===b.State.FRAG_LOADING&&t&&"main"===i.type&&i.level===t.level&&i.sn===t.sn){var a=e.stats,u=r[t.level],c=u.details;if(this.bitrateTest=!1,this.stats=a,g.logger.log("Loaded "+t.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+t.level),i.bitrateTest&&n.nextLoadLevel)this.state=b.State.IDLE,this.startFragRequested=!1,a.tparsed=a.tbuffered=window.performance.now(),n.trigger(l.default.FRAG_BUFFERED,{stats:a,frag:t,id:"main"}),this.tick();else if("initSegment"===i.sn)this.state=b.State.IDLE,a.tparsed=a.tbuffered=window.performance.now(),c.initSegment.data=e.payload,n.trigger(l.default.FRAG_BUFFERED,{stats:a,frag:t,id:"main"}),this.tick();else{g.logger.log("Parsing "+t.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+t.level+", cc "+t.cc),this.state=b.State.PARSING,this.pendingBuffering=!0,this.appended=!1,i.bitrateTest&&(i.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:i}));var f=!(o&&o.seeking)&&(c.PTSKnown||!c.live),d=c.initSegment?c.initSegment.data:[],p=this._getAudioCodec(u);(this.demuxer=this.demuxer||new s.default(this.hls,"main")).push(e.payload,d,p,u.videoCodec,t,c.totalduration,f)}}this.fragLoadError=0},n.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===b.State.PARSING){var r=e.tracks,o=void 0,i=void 0;if(r.audio&&this.altAudio&&delete r.audio,i=r.audio){var a=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===s.indexOf("firefox")&&(a="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==i.container&&(a="mp4a.40.2",g.logger.log("Android: force audio codec to "+a)),i.levelCodec=a,i.id=e.id}for(o in(i=r.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),this.hls.trigger(l.default.BUFFER_CODECS,r),r){i=r[o],g.logger.log("main track:"+o+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var u=i.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,{type:o,data:u,parent:"main",content:"initSegment"}))}this.tick()}},n.prototype.onFragParsingData=function(t){var n=this,r=this.fragCurrent,o=t.frag;if(r&&"main"===t.id&&o.sn===r.sn&&o.level===r.level&&("audio"!==t.type||!this.altAudio)&&this.state===b.State.PARSING){var i=this.levels[this.level],a=r;if(e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+r.duration,t.endDTS=t.startDTS+r.duration),!0===t.hasAudio&&a.addElementaryStream(c.default.ElementaryStreamTypes.AUDIO),!0===t.hasVideo&&a.addElementaryStream(c.default.ElementaryStreamTypes.VIDEO),g.logger.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(a.dropped=t.dropped,a.dropped)if(a.backtracked)g.logger.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var s=i.details;if(!s||a.sn!==s.startSN)return g.logger.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=b.State.IDLE,this.fragPrevious=a,void this.tick();g.logger.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var u=d.updateFragPTSDTS(i.details,a,t.startPTS,t.endPTS,t.startDTS,t.endDTS),f=this.hls;f.trigger(l.default.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:u,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach((function(e){e&&e.length&&n.state===b.State.PARSING&&(n.appended=!0,n.pendingBuffering=!0,f.trigger(l.default.BUFFER_APPENDING,{type:t.type,data:e,parent:"main",content:"data"}))})),this.tick()}},n.prototype.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===b.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=b.State.PARSED,this._checkAppendedParsed())},n.prototype.onAudioTrackSwitching=function(t){var n=!!t.url,r=t.id;if(!n){if(this.mediaBuffer!==this.media){g.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var o=this.fragCurrent;o.loader&&(g.logger.log("switching to main audio track, cancel main fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=b.State.IDLE}var i=this.hls;i.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),i.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:r}),this.altAudio=!1}},n.prototype.onAudioTrackSwitched=function(e){var t=e.id,n=!!this.hls.audioTracks[t].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(g.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()},n.prototype.onBufferCreated=function(e){var t,n,r=e.tracks,o=!1;for(var i in r){var a=r[i];"main"===a.id?(n=i,t=a,"video"===i&&(this.videoBuffer=r[i].buffer)):o=!0}o&&t?(g.logger.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},n.prototype.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==b.State.PARSING&&t!==b.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},n.prototype._checkAppendedParsed=function(){if(!(this.state!==b.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;g.logger.log("main buffered : "+p.default.toString(t.buffered)),this.fragPrevious=e;var n=this.stats;n.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(l.default.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.state=b.State.IDLE}this.tick()}},n.prototype.onError=function(t){var n=t.frag||this.fragCurrent;if(!n||"main"===n.type){var r=!!this.media&&a.BufferHelper.isBuffered(this.media,this.media.currentTime)&&a.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case h.ErrorDetails.FRAG_LOAD_ERROR:case h.ErrorDetails.FRAG_LOAD_TIMEOUT:case h.ErrorDetails.KEY_LOAD_ERROR:case h.ErrorDetails.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var o=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);g.logger.warn("mediaController: frag loading failed, retry in "+o+" ms"),this.retryDate=window.performance.now()+o,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=b.State.FRAG_LOADING_WAITING_RETRY}else g.logger.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=b.State.ERROR;break;case h.ErrorDetails.LEVEL_LOAD_ERROR:case h.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==b.State.ERROR&&(t.fatal?(this.state=b.State.ERROR,g.logger.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==b.State.WAITING_LEVEL||(this.state=b.State.IDLE));break;case h.ErrorDetails.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==b.State.PARSING&&this.state!==b.State.PARSED||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=b.State.IDLE):(g.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)))}}},n.prototype._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,g.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},n.prototype._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,t)}},n.prototype.onFragLoadEmergencyAborted=function(){this.state=b.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},n.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(c.default.ElementaryStreamTypes.VIDEO,e.buffered),this.state=b.State.IDLE,this.fragPrevious=null},n.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},n.prototype.computeLivePosition=function(e,t){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-n)},n.prototype._seekToStartPos=function(){var e=this.media,t=e.currentTime,n=e.seeking?t:this.startPosition;t!==n&&(g.logger.log("target start position not buffered, seek to buffered.start(0) "+n+" from current time "+t+" "),e.currentTime=n)},n.prototype._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},Object.defineProperty(n.prototype,"liveSyncPosition",{get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e},enumerable:!0,configurable:!0}),n}(b.default);t.default=A}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/subtitle-stream-controller.js":
/*!******************************************************!*\
  !*** ./src/controller/subtitle-stream-controller.js ***!
  \******************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../utils/logger */"./src/utils/logger.js"),s=n(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),l=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),u=n(/*! ./fragment-finders */"./src/controller/fragment-finders.js"),c=n(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),f=n(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),d=n(/*! ./level-helper */"./src/controller/level-helper.js"),p=window.performance,h=function(e){function t(t,n){var r=e.call(this,t,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.ERROR,i.default.KEY_LOADED,i.default.FRAG_LOADED,i.default.SUBTITLE_TRACKS_UPDATED,i.default.SUBTITLE_TRACK_SWITCH,i.default.SUBTITLE_TRACK_LOADED,i.default.SUBTITLE_FRAG_PROCESSED,i.default.LEVEL_UPDATED)||this;return r.fragmentTracker=n,r.config=t.config,r.state=f.State.STOPPED,r.tracks=[],r.tracksBuffered=[],r.currentTrackId=-1,r.decrypter=new s.default(t,t.config),r.lastAVStart=0,r._onMediaSeeking=r.onMediaSeeking.bind(r),r}return o(t,e),t.prototype.onSubtitleFragProcessed=function(e){var t=e.frag,n=e.success;if(this.fragPrevious=t,this.state=f.State.IDLE,n){var r=this.tracksBuffered[this.currentTrackId];if(r){for(var o,i=t.start,a=0;a<r.length;a++)if(i>=r[a].start&&i<=r[a].end){o=r[a];break}var s=t.start+t.duration;o?o.end=s:(o={start:i,end:s},r.push(o))}}},t.prototype.onMediaAttached=function(e){var t=e.media;this.media=t,t.addEventListener("seeking",this._onMediaSeeking),this.state=f.State.IDLE},t.prototype.onMediaDetaching=function(){this.media.removeEventListener("seeking",this._onMediaSeeking),this.media=null,this.state=f.State.STOPPED},t.prototype.onError=function(e){var t=e.frag;t&&"subtitle"===t.type&&(this.state=f.State.IDLE)},t.prototype.onSubtitleTracksUpdated=function(e){var t=this;a.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=e.subtitleTracks,this.tracks.forEach((function(e){t.tracksBuffered[e.id]=[]}))},t.prototype.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,this.tracks&&-1!==this.currentTrackId){var t=this.tracks[this.currentTrackId];t&&t.details&&this.setInterval(500)}else this.clearInterval()},t.prototype.onSubtitleTrackLoaded=function(e){var t=e.id,n=e.details,r=this.currentTrackId,o=this.tracks,i=o[r];t>=o.length||t!==r||!i||(n.live&&d.mergeSubtitlePlaylists(i.details,n,this.lastAVStart),i.details=n,this.setInterval(500))},t.prototype.onKeyLoaded=function(){this.state===f.State.KEY_LOADING&&(this.state=f.State.IDLE)},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag.decryptdata,r=e.frag,o=this.hls;if(this.state===f.State.FRAG_LOADING&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&n&&n.key&&"AES-128"===n.method){var a=p.now();this.decrypter.decrypt(e.payload,n.key.buffer,n.iv.buffer,(function(e){var t=p.now();o.trigger(i.default.FRAG_DECRYPTED,{frag:r,payload:e,stats:{tstart:a,tdecrypt:t}})}))}},t.prototype.onLevelUpdated=function(e){var t=e.details.fragments;this.lastAVStart=t.length?t[0].start:0},t.prototype.doTick=function(){if(this.media)switch(this.state){case f.State.IDLE:var e=this,t=e.config,n=e.currentTrackId,r=e.fragmentTracker,o=e.media,s=e.tracks;if(!s||!s[n]||!s[n].details)break;var d=t.maxBufferHole,p=t.maxFragLookUpTolerance,h=Math.min(t.maxBufferLength,t.maxMaxBufferLength),g=l.BufferHelper.bufferedInfo(this._getBuffered(),o.currentTime,d),m=g.end,v=g.len,y=s[n].details,b=y.fragments,A=b.length,C=b[A-1].start+b[A-1].duration;if(v>h)return;var I=void 0,_=this.fragPrevious;m<C?(_&&y.hasProgramDateTime&&(I=u.findFragmentByPDT(b,_.endProgramDateTime,p)),I||(I=u.findFragmentByPTS(_,b,m,p))):I=b[A-1],I&&I.encrypted?(a.logger.log("Loading key for "+I.sn),this.state=f.State.KEY_LOADING,this.hls.trigger(i.default.KEY_LOADING,{frag:I})):I&&r.getState(I)===c.FragmentState.NOT_LOADED&&(this.fragCurrent=I,this.state=f.State.FRAG_LOADING,this.hls.trigger(i.default.FRAG_LOADING,{frag:I}))}else this.state=f.State.IDLE},t.prototype.stopLoad=function(){this.lastAVStart=0,e.prototype.stopLoad.call(this)},t.prototype._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},t.prototype.onMediaSeeking=function(){this.fragPrevious=null},t}(f.default);t.SubtitleStreamController=h},"./src/controller/subtitle-track-controller.js":
/*!*****************************************************!*\
  !*** ./src/controller/subtitle-track-controller.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),l=n(/*! ./level-helper */"./src/controller/level-helper.js"),u=function(t){function n(e){var n=t.call(this,e,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.MANIFEST_LOADED,i.default.SUBTITLE_TRACK_LOADED)||this;return n.tracks=[],n.trackId=-1,n.media=null,n.stopped=!0,n.subtitleDisplay=!0,n}return o(n,t),n.prototype.destroy=function(){a.default.prototype.destroy.call(this)},n.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval((function(){t.trackChangeListener()}),500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},n.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},n.prototype.onManifestLoaded=function(e){var t=this,n=e.subtitles||[];this.tracks=n,this.hls.trigger(i.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach((function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)}))},n.prototype.onSubtitleTrackLoaded=function(e){var t=this,n=e.id,r=e.details,o=this.trackId,i=this.tracks,a=i[o];if(n>=i.length||n!==o||!a||this.stopped)this._clearReloadTimer();else if(s.logger.log("subtitle track "+n+" loaded"),r.live){var u=l.computeReloadInterval(a.details,r,e.stats.trequest);s.logger.log("Reloading live subtitle playlist in "+u+"ms"),this.timer=setTimeout((function(){t._loadCurrentTrack()}),u)}else this._clearReloadTimer()},n.prototype.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},n.prototype.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},Object.defineProperty(n.prototype,"subtitleTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subtitleTrack",{get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this._setSubtitleTrackInternal(e))},enumerable:!0,configurable:!0}),n.prototype._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype._loadCurrentTrack=function(){var e=this.trackId,t=this.tracks,n=this.hls,r=t[e];e<0||!r||r.details&&!r.details.live||(s.logger.log("Loading subtitle track "+e),n.trigger(i.default.SUBTITLE_TRACK_LOADING,{url:r.url,id:e}))},n.prototype._toggleTrackModes=function(e){var t=this.media,n=this.subtitleDisplay,r=this.trackId;if(t){var o=c(t.textTracks);if(-1===e)[].slice.call(o).forEach((function(e){e.mode="disabled"}));else{var i=o[r];i&&(i.mode="disabled")}var a=o[e];a&&(a.mode=n?"showing":"hidden")}},n.prototype._setSubtitleTrackInternal=function(t){var n=this.hls,r=this.tracks;!e.isFinite(t)||t<-1||t>=r.length||(this.trackId=t,s.logger.log("Switching to subtitle track "+t),n.trigger(i.default.SUBTITLE_TRACK_SWITCH,{id:t}),this._loadCurrentTrack())},n.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=c(this.media.textTracks),n=0;n<t.length;n++)if("hidden"===t[n].mode)e=n;else if("showing"===t[n].mode){e=n;break}this.subtitleTrack=e}},n}(a.default);function c(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"subtitles"===r.kind&&r.label&&t.push(e[n])}return t}t.default=u}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/timeline-controller.js":
/*!***********************************************!*\
  !*** ./src/controller/timeline-controller.js ***!
  \***********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../utils/cea-608-parser */"./src/utils/cea-608-parser.js"),l=n(/*! ../utils/output-filter */"./src/utils/output-filter.js"),u=n(/*! ../utils/webvtt-parser */"./src/utils/webvtt-parser.js"),c=n(/*! ../utils/logger */"./src/utils/logger.js"),f=n(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.js");function d(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}var p=function(t){function n(e){var n=t.call(this,e,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_USERDATA,i.default.FRAG_DECRYPTED,i.default.MANIFEST_LOADING,i.default.MANIFEST_LOADED,i.default.FRAG_LOADED,i.default.LEVEL_SWITCHING,i.default.INIT_PTS_FOUND)||this;if(n.hls=e,n.config=e.config,n.enabled=!0,n.Cues=e.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=[],n.cueRanges=[],n.captionsTracks={},n.captionsProperties={textTrack1:{label:n.config.captionsTextTrack1Label,languageCode:n.config.captionsTextTrack1LanguageCode},textTrack2:{label:n.config.captionsTextTrack2Label,languageCode:n.config.captionsTextTrack2LanguageCode}},n.config.enableCEA708Captions){var r=new l.default(n,"textTrack1"),o=new l.default(n,"textTrack2");n.cea608Parser=new s.default(0,r,o)}return n}return o(n,t),n.prototype.addCues=function(e,t,n,r){for(var o,i,a,s,l=this.cueRanges,u=!1,c=l.length;c--;){var f=l[c],d=(o=f[0],i=f[1],a=t,s=n,Math.min(i,s)-Math.max(o,a));if(d>=0&&(f[0]=Math.min(f[0],t),f[1]=Math.max(f[1],n),u=!0,d/(n-t)>.5))return}u||l.push([t,n]),this.Cues.newCue(this.captionsTracks[e],t,n,r)},n.prototype.onInitPtsFound=function(e){var t=this;if("main"===e.id&&(this.initPTS[e.frag.cc]=e.initPTS),this.unparsedVttFrags.length){var n=this.unparsedVttFrags;this.unparsedVttFrags=[],n.forEach((function(e){t.onFragLoaded(e)}))}},n.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var r=t.textTracks[n];if(r[e])return r}return null},n.prototype.createCaptionsTrack=function(e){var t=this.captionsProperties[e],n=t.label,r=t.languageCode,o=this.captionsTracks;if(!o[e]){var i=this.getExistingTrack(e);if(i)o[e]=i,f.clearCurrentCues(o[e]),f.sendAddTrackEvent(o[e],this.media);else{var a=this.createTextTrack("captions",n,r);a&&(a[e]=!0,o[e]=a)}}},n.prototype.createTextTrack=function(e,t,n){var r=this.media;if(r)return r.addTextTrack(e,t,n)},n.prototype.destroy=function(){a.default.prototype.destroy.call(this)},n.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},n.prototype.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){f.clearCurrentCues(e[t]),delete e[t]}))},n.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},n.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)f.clearCurrentCues(t[n])}},n.prototype.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var n=this.media?this.media.textTracks:[];this.tracks.forEach((function(e,r){var o;if(r<n.length){for(var i=null,a=0;a<n.length;a++)if(d(n[a],e)){i=n[a];break}i&&(o=i)}o||(o=t.createTextTrack("subtitles",e.name,e.lang)),e.default?o.mode=t.hls.subtitleDisplay?"showing":"hidden":o.mode="disabled",t.textTracks.push(o)}))}},n.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},n.prototype.onFragLoaded=function(t){var n=t.frag,r=t.payload;if("main"===n.type){var o=n.sn;if(o!==this.lastSn+1){var a=this.cea608Parser;a&&a.reset()}this.lastSn=o}else if("subtitle"===n.type)if(r.byteLength){if(!e.isFinite(this.initPTS[n.cc]))return this.unparsedVttFrags.push(t),void(this.initPTS.length&&this.hls.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n}));var s=n.decryptdata;null!=s&&null!=s.key&&"AES-128"===s.method||this._parseVTTs(n,r)}else this.hls.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n})},n.prototype._parseVTTs=function(e,t){var n=this.vttCCs;n[e.cc]||(n[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var r=this.textTracks,o=this.hls;u.default.parse(t,this.initPTS[e.cc],n,e.cc,(function(t){var n=r[e.level];"disabled"!==n.mode?(t.forEach((function(e){if(!n.cues.getCueById(e.id))try{n.addCue(e)}catch(r){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,n.addCue(t)}})),o.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})):o.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})}),(function(t){c.logger.log("Failed to parse VTT cue: "+t),o.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})}))},n.prototype.onFragDecrypted=function(t){var n=t.payload,r=t.frag;if("subtitle"===r.type){if(!e.isFinite(this.initPTS[r.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(r,n)}},n.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var n=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,n)}},n.prototype.extractCea608Data=function(e){for(var t,n,r,o=31&e[0],i=2,a=[],s=0;s<o;s++)t=e[i++],n=127&e[i++],r=127&e[i++],0===n&&0===r||0!=(4&t)&&0==(3&t)&&(a.push(n),a.push(r));return a},n}(a.default);t.default=p}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/crypt/aes-crypto.js":
/*!*********************************!*\
  !*** ./src/crypt/aes-crypto.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}();t.default=r},"./src/crypt/aes-decryptor.js":
/*!************************************!*\
  !*** ./src/crypt/aes-decryptor.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";function r(e){var t=e.byteLength,n=t&&new DataView(e).getUint8(t-1);return n?e.slice(0,t-n):e}Object.defineProperty(t,"__esModule",{value:!0}),t.removePadding=r;var o=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],o=n[1],i=n[2],a=n[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],f=s[3],d=new Uint32Array(256),p=0,h=0,g=0;for(g=0;g<256;g++)d[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var m=h^h<<1^h<<2^h<<3^h<<4;m=m>>>8^255&m^99,e[p]=m,t[m]=p;var v=d[p],y=d[v],b=d[y],A=257*d[m]^16843008*m;r[p]=A<<24|A>>>8,o[p]=A<<16|A>>>16,i[p]=A<<8|A>>>24,a[p]=A,A=16843009*b^65537*y^257*v^16843008*p,l[m]=A<<24|A>>>8,u[m]=A<<16|A>>>16,c[m]=A<<8|A>>>24,f[m]=A,p?(p=v^d[d[d[b^v]]],h^=d[d[h]]):p=h=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var o=this.keySize=t.length;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size="+o);var i,a,s,l,u=this.ksRows=4*(o+6+1),c=this.keySchedule=new Uint32Array(u),f=this.invKeySchedule=new Uint32Array(u),d=this.sBox,p=this.rcon,h=this.invSubMix,g=h[0],m=h[1],v=h[2],y=h[3];for(i=0;i<u;i++)i<o?s=c[i]=t[i]:(l=s,i%o==0?(l=d[(l=l<<8|l>>>24)>>>24]<<24|d[l>>>16&255]<<16|d[l>>>8&255]<<8|d[255&l],l^=p[i/o|0]<<24):o>6&&i%o==4&&(l=d[l>>>24]<<24|d[l>>>16&255]<<16|d[l>>>8&255]<<8|d[255&l]),c[i]=s=(c[i-o]^l)>>>0);for(a=0;a<u;a++)i=u-a,l=3&a?c[i]:c[i-4],f[a]=a<4||i<=4?l:g[d[l>>>24]]^m[d[l>>>16&255]]^v[d[l>>>8&255]]^y[d[255&l]],f[a]=f[a]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,n,o){for(var i,a,s,l,u,c,f,d,p,h,g,m,v,y,b=this.keySize+6,A=this.invKeySchedule,C=this.invSBox,I=this.invSubMix,_=I[0],E=I[1],w=I[2],S=I[3],T=this.uint8ArrayToUint32Array_(n),k=T[0],x=T[1],P=T[2],O=T[3],L=new Int32Array(e),D=new Int32Array(L.length),j=this.networkToHostOrderSwap;t<L.length;){for(p=j(L[t]),h=j(L[t+1]),g=j(L[t+2]),m=j(L[t+3]),u=p^A[0],c=m^A[1],f=g^A[2],d=h^A[3],v=4,y=1;y<b;y++)i=_[u>>>24]^E[c>>16&255]^w[f>>8&255]^S[255&d]^A[v],a=_[c>>>24]^E[f>>16&255]^w[d>>8&255]^S[255&u]^A[v+1],s=_[f>>>24]^E[d>>16&255]^w[u>>8&255]^S[255&c]^A[v+2],l=_[d>>>24]^E[u>>16&255]^w[c>>8&255]^S[255&f]^A[v+3],u=i,c=a,f=s,d=l,v+=4;i=C[u>>>24]<<24^C[c>>16&255]<<16^C[f>>8&255]<<8^C[255&d]^A[v],a=C[c>>>24]<<24^C[f>>16&255]<<16^C[d>>8&255]<<8^C[255&u]^A[v+1],s=C[f>>>24]<<24^C[d>>16&255]<<16^C[u>>8&255]<<8^C[255&c]^A[v+2],l=C[d>>>24]<<24^C[u>>16&255]<<16^C[c>>8&255]<<8^C[255&f]^A[v+3],v+=3,D[t]=j(i^k),D[t+1]=j(l^x),D[t+2]=j(s^P),D[t+3]=j(a^O),k=p,x=h,P=g,O=m,t+=4}return o?r(D.buffer):D.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}();t.default=o},"./src/crypt/decrypter.js":
/*!********************************!*\
  !*** ./src/crypt/decrypter.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./aes-crypto */"./src/crypt/aes-crypto.js"),o=n(/*! ./fast-aes-key */"./src/crypt/fast-aes-key.js"),i=n(/*! ./aes-decryptor */"./src/crypt/aes-decryptor.js"),a=n(/*! ../errors */"./src/errors.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),l=n(/*! ../events */"./src/events.js"),u=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js").getSelfScope(),c=function(){function e(e,t,n){var r=(void 0===n?{}:n).removePKCS7Padding,o=void 0===r||r;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=o,o)try{var i=u.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}return e.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.prototype.decrypt=function(e,t,n,a){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var u=this.decryptor;u||(this.decryptor=u=new i.default),u.expandKey(t),a(u.decrypt(e,0,n,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new o.default(c,t)),this.fastAesKey.expandKey().then((function(o){new r.default(c,n).decrypt(e,o).catch((function(r){l.onWebCryptoError(r,e,t,n,a)})).then((function(e){a(e)}))})).catch((function(r){l.onWebCryptoError(r,e,t,n,a)}))}},e.prototype.onWebCryptoError=function(e,t,n,r,o){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,n,r,o)):(s.logger.error("decrypting error : "+e.message),this.observer.trigger(l.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},e.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}();t.default=c},"./src/crypt/fast-aes-key.js":
/*!***********************************!*\
  !*** ./src/crypt/fast-aes-key.js ***!
  \***********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}();t.default=r},"./src/demux/aacdemuxer.js":
/*!*********************************!*\
  !*** ./src/demux/aacdemuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./adts */"./src/demux/adts.js"),o=n(/*! ../utils/logger */"./src/utils/logger.js"),i=n(/*! ../demux/id3 */"./src/demux/id3.js"),a=function(){function t(e,t,n){this.observer=e,this.config=n,this.remuxer=t}return t.prototype.resetInitSegment=function(e,t,n,r){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(e){if(!e)return!1;for(var t=(i.default.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(r.probe(e,t))return o.logger.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,n,a,s){for(var l=this._audioTrack,u=i.default.getID3Data(t,0)||[],c=i.default.getTimeStamp(u),f=e.isFinite(c)?90*c:9e4*n,d=0,p=f,h=t.length,g=u.length,m=[{pts:p,dts:p,data:u}];g<h-1;)if(r.isHeader(t,g)&&g+5<h){r.initTrackConfig(l,this.observer,t,g,l.manifestCodec);var v=r.appendFrame(l,t,g,f,d);if(!v){o.logger.log("Unable to parse AAC frame");break}g+=v.length,p=v.sample.pts,d++}else i.default.isHeader(t,g)?(u=i.default.getID3Data(t,g),m.push({pts:p,dts:p,data:u}),g+=u.length):g++;this.remuxer.remux(l,{samples:[]},{samples:m,inputTimeScale:9e4},{samples:[]},n,a,s)},t.prototype.destroy=function(){},t}();t.default=a}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/demux/adts.js":
/*!***************************!*\
  !*** ./src/demux/adts.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/logger */"./src/utils/logger.js"),o=n(/*! ../errors */"./src/errors.js"),i=n(/*! ../events */"./src/events.js");function a(e,t,n,a){var s,l,u,c,f,d=navigator.userAgent.toLowerCase(),p=a,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(s=1+((192&t[n+2])>>>6),!((l=(60&t[n+2])>>>2)>h.length-1))return c=(1&t[n+2])<<2,c|=(192&t[n+3])>>>6,r.logger.log("manifest codec:"+a+",ADTS data:type:"+s+",sampleingIndex:"+l+"["+h[l]+"Hz],channelConfig:"+c),/firefox/i.test(d)?l>=6?(s=5,f=new Array(4),u=l-3):(s=2,f=new Array(2),u=l):-1!==d.indexOf("android")?(s=2,f=new Array(2),u=l):(s=5,f=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&l>=6?u=l-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(l>=6&&1===c||/vivaldi/i.test(d))||!a&&1===c)&&(s=2,f=new Array(2)),u=l)),f[0]=s<<3,f[0]|=(14&l)>>1,f[1]|=(1&l)<<7,f[1]|=c<<3,5===s&&(f[1]|=(14&u)>>1,f[2]=(1&u)<<7,f[2]|=8,f[3]=0),{config:f,samplerate:h[l],channelCount:c,codec:"mp4a.40."+s,manifestCodec:p};e.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+l})}function s(e,t){return 255===e[t]&&240==(246&e[t+1])}function l(e,t){return 1&e[t+1]?7:9}function u(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function c(e){return 9216e4/e}function f(e,t,n,r,o){var i,a,s=e.length;if(i=l(e,t),a=u(e,t),(a-=i)>0&&t+i+a<=s)return{headerLength:i,frameLength:a,stamp:n+r*o}}t.getAudioConfig=a,t.isHeaderPattern=s,t.getHeaderLength=l,t.getFullFrameLength=u,t.isHeader=function(e,t){return!!(t+1<e.length&&s(e,t))},t.probe=function(e,t){if(t+1<e.length&&s(e,t)){var n=l(e,t);t+5<e.length&&(n=u(e,t));var r=t+n;if(r===e.length||r+1<e.length&&s(e,r))return!0}return!1},t.initTrackConfig=function(e,t,n,o,i){if(!e.samplerate){var s=a(t,n,o,i);e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,r.logger.log("parsed codec:"+e.codec+",rate:"+s.samplerate+",nb channel:"+s.channelCount)}},t.getFrameDuration=c,t.parseFrameHeader=f,t.appendFrame=function(e,t,n,r,o){var i=f(t,n,r,o,c(e.samplerate));if(i){var a=i.stamp,s=i.headerLength,l=i.frameLength,u={unit:t.subarray(n+s,n+s+l),pts:a,dts:a};return e.samples.push(u),e.len+=l,{sample:u,length:l+s}}}},"./src/demux/demuxer-inline.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-inline.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(/*! ../events */"./src/events.js"),i=n(/*! ../errors */"./src/errors.js"),a=n(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),s=n(/*! ../demux/aacdemuxer */"./src/demux/aacdemuxer.js"),l=n(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.js"),u=n(/*! ../demux/tsdemuxer */"./src/demux/tsdemuxer.js"),c=n(/*! ../demux/mp3demuxer */"./src/demux/mp3demuxer.js"),f=n(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.js"),d=n(/*! ../remux/passthrough-remuxer */"./src/remux/passthrough-remuxer.js"),p=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),h=n(/*! ../utils/logger */"./src/utils/logger.js"),g=p.getSelfScope();try{r=g.performance.now.bind(g.performance)}catch(e){h.logger.debug("Unable to use Performance API on this environment"),r=g.Date.now}var m=function(){function e(e,t,n,r){this.observer=e,this.typeSupported=t,this.config=n,this.vendor=r}return e.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},e.prototype.push=function(e,t,n,i,s,l,u,c,f,d,p,h){var g=this;if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var m=this.decrypter;null==m&&(m=this.decrypter=new a.default(this.observer,this.config));var v=r();m.decrypt(e,t.key.buffer,t.iv.buffer,(function(e){var a=r();g.observer.trigger(o.default.FRAG_DECRYPTED,{stats:{tstart:v,tdecrypt:a}}),g.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),i,s,l,u,c,f,d,p,h)}))}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),i,s,l,u,c,f,d,p,h)},e.prototype.pushDecrypted=function(e,t,n,r,a,p,h,g,m,v,y,b){var A=this.demuxer;if(!A||(h||g)&&!this.probe(e)){for(var C=this.observer,I=this.typeSupported,_=this.config,E=[{demux:u.default,remux:f.default},{demux:l.default,remux:d.default},{demux:s.default,remux:f.default},{demux:c.default,remux:f.default}],w=0,S=E.length;w<S;w++){var T=E[w],k=T.demux.probe;if(k(e)){var x=this.remuxer=new T.remux(C,_,I,this.vendor);A=new T.demux(C,x,_,I),this.probe=k;break}}if(!A)return void C.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=A}var P=this.remuxer;(h||g)&&(A.resetInitSegment(n,r,a,v),P.resetInitSegment()),h&&(A.resetTimeStamp(b),P.resetTimeStamp(b)),"function"==typeof A.setDecryptData&&A.setDecryptData(t),A.append(e,p,m,y)},e}();t.default=m},"./src/demux/demuxer-worker.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-worker.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),o=n(/*! ../events */"./src/events.js"),i=n(/*! ../utils/logger */"./src/utils/logger.js"),a=n(/*! events */"./node_modules/node-libs-browser/node_modules/events/events.js");t.default=function(e){var t=new a.EventEmitter;t.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t.emit.apply(t,[e,e].concat(n))},t.off=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t.removeListener.apply(t,[e].concat(n))};var n=function(t,n){e.postMessage({event:t,data:n})};e.addEventListener("message",(function(o){var a=o.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);e.demuxer=new r.default(t,a.typeSupported,s,a.vendor),i.enableLogs(s.debug),n("init",null);break;case"demux":e.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}})),t.on(o.default.FRAG_DECRYPTED,n),t.on(o.default.FRAG_PARSING_INIT_SEGMENT,n),t.on(o.default.FRAG_PARSED,n),t.on(o.default.ERROR,n),t.on(o.default.FRAG_PARSING_METADATA,n),t.on(o.default.FRAG_PARSING_USERDATA,n),t.on(o.default.INIT_PTS_FOUND,n),t.on(o.default.FRAG_PARSING_DATA,(function(t,n){var r=[],o={event:t,data:n};n.data1&&(o.data1=n.data1.buffer,r.push(n.data1.buffer),delete n.data1),n.data2&&(o.data2=n.data2.buffer,r.push(n.data2.buffer),delete n.data2),e.postMessage(o,r)}))}},"./src/demux/demuxer.js":
/*!******************************!*\
  !*** ./src/demux/demuxer.js ***!
  \******************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! webworkify-webpack */"./node_modules/webworkify-webpack/index.js"),o=n(/*! ../events */"./src/events.js"),i=n(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),a=n(/*! ../utils/logger */"./src/utils/logger.js"),s=n(/*! ../errors */"./src/errors.js"),l=n(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.js"),u=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),c=n(/*! ../observer */"./src/observer.js"),f=u.getSelfScope(),d=l.getMediaSource(),p=function(){function t(e,t){var n=this;this.hls=e,this.id=t;var l=this.observer=new c.Observer,u=e.config,p=function(t,r){(r=r||{}).frag=n.frag,r.id=n.id,e.trigger(t,r)};l.on(o.default.FRAG_DECRYPTED,p),l.on(o.default.FRAG_PARSING_INIT_SEGMENT,p),l.on(o.default.FRAG_PARSING_DATA,p),l.on(o.default.FRAG_PARSED,p),l.on(o.default.ERROR,p),l.on(o.default.FRAG_PARSING_METADATA,p),l.on(o.default.FRAG_PARSING_USERDATA,p),l.on(o.default.INIT_PTS_FOUND,p);var h={mp4:d.isTypeSupported("video/mp4"),mpeg:d.isTypeSupported("audio/mpeg"),mp3:d.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(u.enableWorker&&"undefined"!=typeof Worker){a.logger.log("demuxing in webworker");var m=void 0;try{m=this.w=r(/*! ../demux/demuxer-worker.js */"./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),m.addEventListener("message",this.onwmsg),m.onerror=function(t){e.trigger(o.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},m.postMessage({cmd:"init",typeSupported:h,vendor:g,id:t,config:JSON.stringify(u)})}catch(e){a.logger.warn("Error in worker:",e),a.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),m&&f.URL.revokeObjectURL(m.objectURL),this.demuxer=new i.default(l,h,u,g),this.w=void 0}}else this.demuxer=new i.default(l,h,u,g)}return t.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,n,r,o,i,s,l,u){var c=this.w,f=e.isFinite(i.startPTS)?i.startPTS:i.start,d=i.decryptdata,p=this.frag,h=!(p&&i.cc===p.cc),g=!(p&&i.level===p.level),m=p&&i.sn===p.sn+1,v=!g&&m;if(h&&a.logger.log(this.id+":discontinuity detected"),g&&a.logger.log(this.id+":switch detected"),this.frag=i,c)c.postMessage({cmd:"demux",data:t,decryptdata:d,initSegment:n,audioCodec:r,videoCodec:o,timeOffset:f,discontinuity:h,trackSwitch:g,contiguous:v,duration:s,accurateTimeOffset:l,defaultInitPTS:u},t instanceof ArrayBuffer?[t]:[]);else{var y=this.demuxer;y&&y.push(t,d,n,r,o,f,h,g,v,s,l,u)}},t.prototype.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":f.URL.revokeObjectURL(this.w.objectURL);break;case o.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}},t}();t.default=p}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/demux/exp-golomb.js":
/*!*********************************!*\
  !*** ./src/demux/exp-golomb.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/logger */"./src/utils/logger.js"),o=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return e.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");r.set(e.subarray(n,n+o)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*o,this.bytesAvailable-=o},e.prototype.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},e.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?n<<t|this.readBits(t):n},e.prototype.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},e.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},e.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},e.prototype.readBoolean=function(){return 1===this.readBits(1)},e.prototype.readUByte=function(){return this.readBits(8)},e.prototype.readUShort=function(){return this.readBits(16)},e.prototype.readUInt=function(){return this.readBits(32)},e.prototype.skipScalingList=function(e){var t,n=8,r=8;for(t=0;t<e;t++)0!==r&&(r=(n+this.readEG()+256)%256),n=0===r?n:r},e.prototype.readSPS=function(){var e,t,n,r,o,i,a,s=0,l=0,u=0,c=0,f=this.readUByte.bind(this),d=this.readBits.bind(this),p=this.readUEG.bind(this),h=this.readBoolean.bind(this),g=this.skipBits.bind(this),m=this.skipEG.bind(this),v=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(f(),e=f(),d(5),g(3),f(),v(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=p();if(3===b&&g(1),v(),v(),g(1),h())for(i=3!==b?8:12,a=0;a<i;a++)h()&&y(a<6?16:64)}v();var A=p();if(0===A)p();else if(1===A)for(g(1),m(),m(),t=p(),a=0;a<t;a++)m();v(),g(1),n=p(),r=p(),0===(o=d(1))&&g(1),g(1),h()&&(s=p(),l=p(),u=p(),c=p());var C=[1,1];if(h()&&h())switch(f()){case 1:C=[1,1];break;case 2:C=[12,11];break;case 3:C=[10,11];break;case 4:C=[16,11];break;case 5:C=[40,33];break;case 6:C=[24,11];break;case 7:C=[20,11];break;case 8:C=[32,11];break;case 9:C=[80,33];break;case 10:C=[18,11];break;case 11:C=[15,11];break;case 12:C=[64,33];break;case 13:C=[160,99];break;case 14:C=[4,3];break;case 15:C=[3,2];break;case 16:C=[2,1];break;case 255:C=[f()<<8|f(),f()<<8|f()]}return{width:Math.ceil(16*(n+1)-2*s-2*l),height:(2-o)*(r+1)*16-(o?2:4)*(u+c),pixelRatio:C}},e.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=o},"./src/demux/id3.js":
/*!**************************!*\
  !*** ./src/demux/id3.js ***!
  \**************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,n){for(var r=n,o=0;e.isHeader(t,n);)o+=10,o+=e._readSize(t,n+6),e.isFooter(t,n+10)&&(o+=10),n+=o;if(o>0)return t.subarray(r,r+o)},e._readSize=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|=127&e[t+3]},e.getTimeStamp=function(t){for(var n=e.getID3Frames(t),r=0;r<n.length;r++){var o=n[r];if(e.isTimeStampFrame(o))return e._readTimeStamp(o)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var n=String.fromCharCode(t[0],t[1],t[2],t[3]),r=e._readSize(t,4);return{type:n,size:r,data:t.subarray(10,10+r)}},e.getID3Frames=function(t){for(var n=0,r=[];e.isHeader(t,n);){for(var o=e._readSize(t,n+6),i=(n+=10)+o;n+8<i;){var a=e._getFrameData(t.subarray(n)),s=e._decodeFrame(a);s&&r.push(s),n+=a.size+10}e.isFooter(t,n)&&(n+=10)}return r},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var n=e._utf8ArrayToStr(t.data,!0),r=new Uint8Array(t.data.subarray(n.length+1));return{key:t.type,info:n,data:r.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var n=1,r=e._utf8ArrayToStr(t.data.subarray(n));n+=r.length+1;var o=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:r,data:o}}var i=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:i}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var n=1,r=e._utf8ArrayToStr(t.data.subarray(n));n+=r.length+1;var o=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:r,data:o}}var i=e._utf8ArrayToStr(t.data);return{key:t.type,data:i}},e._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);for(var n,r,o,i=e.length,a="",s=0;s<i;){if(0===(n=e[s++])&&t)return a;if(0!==n&&3!==n)switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:r=e[s++],a+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=e[s++],o=e[s++],a+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&o)<<0)}}return a},e}(),o=r._utf8ArrayToStr;t.utf8ArrayToStr=o,t.default=r},"./src/demux/mp3demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp3demuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../demux/id3 */"./src/demux/id3.js"),o=n(/*! ../utils/logger */"./src/utils/logger.js"),i=n(/*! ./mpegaudio */"./src/demux/mpegaudio.js"),a=function(){function e(e,t,n){this.observer=e,this.config=n,this.remuxer=t}return e.prototype.resetInitSegment=function(e,t,n,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){var t,n,a=r.default.getID3Data(e,0);if(a&&void 0!==r.default.getTimeStamp(a))for(t=a.length,n=Math.min(e.length-1,t+100);t<n;t++)if(i.default.probe(e,t))return o.logger.log("MPEG Audio sync word found !"),!0;return!1},e.prototype.append=function(e,t,n,o){for(var a=r.default.getID3Data(e,0),s=r.default.getTimeStamp(a),l=s?90*s:9e4*t,u=a.length,c=e.length,f=0,d=0,p=this._audioTrack,h=[{pts:l,dts:l,data:a}];u<c;)if(i.default.isHeader(e,u)){var g=i.default.appendFrame(p,e,u,l,f);if(!g)break;u+=g.length,d=g.sample.pts,f++}else r.default.isHeader(e,u)?(a=r.default.getID3Data(e,u),h.push({pts:d,dts:d,data:a}),u+=a.length):u++;this.remuxer.remux(p,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},t,n,o)},e.prototype.destroy=function(){},e}();t.default=a},"./src/demux/mp4demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/logger */"./src/utils/logger.js"),o=n(/*! ../events */"./src/events.js"),i=Math.pow(2,32)-1,a=function(){function e(e,t){this.observer=e,this.remuxer=t}return e.prototype.resetTimeStamp=function(e){this.initPTS=e},e.prototype.resetInitSegment=function(t,n,r,i){if(t&&t.byteLength){var a=this.initData=e.parseInitSegment(t);null==n&&(n="mp4a.40.5"),null==r&&(r="avc1.42e01e");var s={};a.audio&&a.video?s.audiovideo={container:"video/mp4",codec:n+","+r,initSegment:i?t:null}:(a.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:i?t:null}),a.video&&(s.video={container:"video/mp4",codec:r,initSegment:i?t:null})),this.observer.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),r&&(this.videoCodec=r)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var n=e[t]<<8|e[t+1];return n<0?65536+n:n},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var n=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return n<0?4294967296+n:n},e.writeUint32=function(e,t,n){e.data&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},e.findBox=function(t,n){var r,o,i,a,s,l,u=[];if(t.data?(s=t.start,i=t.end,t=t.data):(s=0,i=t.byteLength),!n.length)return null;for(r=s;r<i;)l=(o=e.readUint32(t,r))>1?r+o:i,e.bin2str(t.subarray(r+4,r+8))===n[0]&&(1===n.length?u.push({data:t,start:r+8,end:l}):(a=e.findBox({data:t,start:r+8,end:l},n.slice(1))).length&&(u=u.concat(a))),r=l;return u},e.parseSegmentIndex=function(t){var n,r=e.findBox(t,["moov"])[0],o=r?r.end:null,i=0,a=e.findBox(t,["sidx"]);if(!a||!a[0])return null;n=[];var s=(a=a[0]).data[0];i=0===s?8:16;var l=e.readUint32(a,i);i+=4,i+=0===s?8:16,i+=2;var u=a.end+0,c=e.readUint16(a,i);i+=2;for(var f=0;f<c;f++){var d=i,p=e.readUint32(a,d);d+=4;var h=2147483647&p;if(1==(2147483648&p)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=e.readUint32(a,d);d+=4,n.push({referenceSize:h,subsegmentDuration:g,info:{duration:g/l,start:u,end:u+h-1}}),u+=h,i=d+=4}return{earliestPresentationTime:0,timescale:l,version:s,referencesCount:c,references:n,moovEndOffset:o}},e.parseInitSegment=function(t){var n=[];return e.findBox(t,["moov","trak"]).forEach((function(t){var o=e.findBox(t,["tkhd"])[0];if(o){var i=o.data[o.start],a=0===i?12:20,s=e.readUint32(o,a),l=e.findBox(t,["mdia","mdhd"])[0];if(l){a=0===(i=l.data[l.start])?12:20;var u=e.readUint32(l,a),c=e.findBox(t,["mdia","hdlr"])[0];if(c){var f={soun:"audio",vide:"video"}[e.bin2str(c.data.subarray(c.start+8,c.start+12))];if(f){var d=e.findBox(t,["mdia","minf","stbl","stsd"]);if(d.length){d=d[0];var p=e.bin2str(d.data.subarray(d.start+12,d.start+16));r.logger.log("MP4Demuxer:"+f+":"+p+" found")}n[s]={timescale:u,type:f},n[f]={timescale:u,id:s}}}}}})),n},e.getStartDTS=function(t,n){var r,o,i;return r=e.findBox(n,["moof","traf"]),o=[].concat.apply([],r.map((function(n){return e.findBox(n,["tfhd"]).map((function(r){var o,i;return o=e.readUint32(r,4),i=t[o].timescale||9e4,e.findBox(n,["tfdt"]).map((function(t){var n,r;return n=t.data[t.start],r=e.readUint32(t,4),1===n&&(r*=Math.pow(2,32),r+=e.readUint32(t,8)),r}))[0]/i}))}))),i=Math.min.apply(null,o),isFinite(i)?i:0},e.offsetStartDTS=function(t,n,r){e.findBox(n,["moof","traf"]).map((function(n){return e.findBox(n,["tfhd"]).map((function(o){var a=e.readUint32(o,4),s=t[a].timescale||9e4;e.findBox(n,["tfdt"]).map((function(t){var n=t.data[t.start],o=e.readUint32(t,4);if(0===n)e.writeUint32(t,4,o-r*s);else{o*=Math.pow(2,32),o+=e.readUint32(t,8),o-=r*s,o=Math.max(o,0);var a=Math.floor(o/(i+1)),l=Math.floor(o%(i+1));e.writeUint32(t,4,a),e.writeUint32(t,8,l)}}))}))}))},e.prototype.append=function(t,n,r,i){var a=this.initData;a||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),a=this.initData);var s,l=this.initPTS;if(void 0===l){var u=e.getStartDTS(a,t);this.initPTS=l=u-n,this.observer.trigger(o.default.INIT_PTS_FOUND,{initPTS:l})}e.offsetStartDTS(a,t,l),s=e.getStartDTS(a,t),this.remuxer.remux(a.audio,a.video,null,null,s,r,i,t)},e.prototype.destroy=function(){},e}();t.default=a},"./src/demux/mpegaudio.js":
/*!********************************!*\
  !*** ./src/demux/mpegaudio.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,n,r,o){if(!(n+24>t.length)){var i=this.parseHeader(t,n);if(i&&n+i.frameLength<=t.length){var a=r+o*(9e4*i.samplesPerFrame/i.sampleRate),s={unit:t.subarray(n,n+i.frameLength),pts:a,dts:a};return e.config=[],e.channelCount=i.channelCount,e.samplerate=i.sampleRate,e.samples.push(s),e.len+=i.frameLength,{sample:s,length:i.frameLength}}}},parseHeader:function(e,t){var n=e[t+1]>>3&3,o=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3,s=e[t+2]>>1&1;if(1!==n&&0!==i&&15!==i&&3!==a){var l=3===n?3-o:3===o?3:4,u=1e3*r.BitratesMap[14*l+i-1],c=3===n?0:2===n?1:2,f=r.SamplingRateMap[3*c+a],d=e[t+3]>>6==3?1:2,p=r.SamplesCoefficients[n][o],h=r.BytesInSlot[o],g=8*p*h;return{sampleRate:f,channelCount:d,frameLength:parseInt(p*u/f+s,10)*h,samplesPerFrame:g}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var n=this.parseHeader(e,t),r=4;n&&n.frameLength&&(r=n.frameLength);var o=t+r;if(o===e.length||o+1<e.length&&this.isHeaderPattern(e,o))return!0}return!1}};t.default=r},"./src/demux/sample-aes.js":
/*!*********************************!*\
  !*** ./src/demux/sample-aes.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),o=function(){function e(e,t,n,o){this.decryptdata=n,this.discardEPB=o,this.decrypter=new r.default(e,t,{removePKCS7Padding:!1})}return e.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},e.prototype.decryptAacSample=function(e,t,n,r){var o=e[t].unit,i=o.subarray(16,o.length-o.length%16),a=i.buffer.slice(i.byteOffset,i.byteOffset+i.length),s=this;this.decryptBuffer(a,(function(i){i=new Uint8Array(i),o.set(i,16),r||s.decryptAacSamples(e,t+1,n)}))},e.prototype.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,r),!r)return}}},e.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,o=32;o<=e.length-16;o+=160,r+=16)n.set(e.subarray(o,o+16),r);return n},e.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var n=0,r=32;r<=e.length-16;r+=160,n+=16)e.set(t.subarray(n,n+16),r);return e},e.prototype.decryptAvcSample=function(e,t,n,r,o,i){var a=this.discardEPB(o.data),s=this.getAvcEncryptedData(a),l=this;this.decryptBuffer(s.buffer,(function(s){o.data=l.getAvcDecryptedUnit(a,s),i||l.decryptAvcSamples(e,t,n+1,r)}))},e.prototype.decryptAvcSamples=function(e,t,n,r){for(;;t++,n=0){if(t>=e.length)return void r();for(var o=e[t].units;!(n>=o.length);n++){var i=o[n];if(!(i.length<=48||1!==i.type&&5!==i.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,r,i,a),!a)return}}}},e}();t.default=o},"./src/demux/tsdemuxer.js":
/*!********************************!*\
  !*** ./src/demux/tsdemuxer.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./adts */"./src/demux/adts.js"),o=n(/*! ./mpegaudio */"./src/demux/mpegaudio.js"),i=n(/*! ../events */"./src/events.js"),a=n(/*! ./exp-golomb */"./src/demux/exp-golomb.js"),s=n(/*! ./sample-aes */"./src/demux/sample-aes.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js"),u=n(/*! ../errors */"./src/errors.js"),c={video:1,audio:2,id3:3,text:4},f=function(){function e(e,t,n,r){this.observer=e,this.config=n,this.typeSupported=r,this.remuxer=t,this.sampleAes=null}return e.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new s.default(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var n=e._syncOffset(t);return!(n<0||(n&&l.logger.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),0))},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:c[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},e.prototype.resetInitSegment=function(t,n,r,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",o),this._audioTrack=e.createTrack("audio",o),this._id3Track=e.createTrack("id3",o),this._txtTrack=e.createTrack("text",o),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=r,this._duration=o},e.prototype.resetTimeStamp=function(){},e.prototype.append=function(t,n,r,o){var a,s,c,f,d,p=t.length,h=!1;this.contiguous=r;var g=this.pmtParsed,m=this._avcTrack,v=this._audioTrack,y=this._id3Track,b=m.pid,A=v.pid,C=y.pid,I=this._pmtId,_=m.pesData,E=v.pesData,w=y.pesData,S=this._parsePAT,T=this._parsePMT,k=this._parsePES,x=this._parseAVCPES.bind(this),P=this._parseAACPES.bind(this),O=this._parseMPEGPES.bind(this),L=this._parseID3PES.bind(this),D=e._syncOffset(t);for(p-=(p+D)%188,a=D;a<p;a+=188)if(71===t[a]){if(s=!!(64&t[a+1]),c=((31&t[a+1])<<8)+t[a+2],(48&t[a+3])>>4>1){if((f=a+5+t[a+4])===a+188)continue}else f=a+4;switch(c){case b:s&&(_&&(d=k(_))&&void 0!==d.pts&&x(d,!1),_={data:[],size:0}),_&&(_.data.push(t.subarray(f,a+188)),_.size+=a+188-f);break;case A:s&&(E&&(d=k(E))&&void 0!==d.pts&&(v.isAAC?P(d):O(d)),E={data:[],size:0}),E&&(E.data.push(t.subarray(f,a+188)),E.size+=a+188-f);break;case C:s&&(w&&(d=k(w))&&void 0!==d.pts&&L(d),w={data:[],size:0}),w&&(w.data.push(t.subarray(f,a+188)),w.size+=a+188-f);break;case 0:s&&(f+=t[f]+1),I=this._pmtId=S(t,f);break;case I:s&&(f+=t[f]+1);var j=T(t,f,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=j.avc)>0&&(m.pid=b),(A=j.audio)>0&&(v.pid=A,v.isAAC=j.isAAC),(C=j.id3)>0&&(y.pid=C),h&&!g&&(l.logger.log("reparse from beginning"),h=!1,a=D-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:h=!0}}else this.observer.trigger(i.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});_&&(d=k(_))&&void 0!==d.pts?(x(d,!0),m.pesData=null):m.pesData=_,E&&(d=k(E))&&void 0!==d.pts?(v.isAAC?P(d):O(d),v.pesData=null):(E&&E.size&&l.logger.log("last AAC PES packet truncated,might overlap between fragments"),v.pesData=E),w&&(d=k(w))&&void 0!==d.pts?(L(d),y.pesData=null):y.pesData=w,null==this.sampleAes?this.remuxer.remux(v,m,y,this._txtTrack,n,r,o):this.decryptAndRemux(v,m,y,this._txtTrack,n,r,o)},e.prototype.decryptAndRemux=function(e,t,n,r,o,i,a){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,(function(){s.decryptAndRemuxAvc(e,t,n,r,o,i,a)}))}else this.decryptAndRemuxAvc(e,t,n,r,o,i,a)},e.prototype.decryptAndRemuxAvc=function(e,t,n,r,o,i,a){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,(function(){s.remuxer.remux(e,t,n,r,o,i,a)}))}else this.remuxer.remux(e,t,n,r,o,i,a)},e.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},e.prototype._parsePMT=function(e,t,n,r){var o,i,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(o=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<o;){switch(i=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!r){l.logger.log("unkown stream type:"+e[t]);break}case 15:-1===a.audio&&(a.audio=i);break;case 21:-1===a.id3&&(a.id3=i);break;case 219:if(!r){l.logger.log("unkown stream type:"+e[t]);break}case 27:-1===a.avc&&(a.avc=i);break;case 3:case 4:n?-1===a.audio&&(a.audio=i,a.isAAC=!1):l.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:l.logger.warn("HEVC stream type found, not supported for now");break;default:l.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return a},e.prototype._parsePES=function(e){var t,n,r,o,i,a,s,u,c=0,f=e.data;if(!e||0===e.size)return null;for(;f[0].length<19&&f.length>1;){var d=new Uint8Array(f[0].length+f[1].length);d.set(f[0]),d.set(f[1],f[0].length),f[0]=d,f.splice(1,1)}if(1===((t=f[0])[0]<<16)+(t[1]<<8)+t[2]){if((r=(t[4]<<8)+t[5])&&r>e.size-6)return null;192&(n=t[7])&&((a=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)>4294967295&&(a-=8589934592),64&n?((s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(s-=8589934592),a-s>54e5&&(l.logger.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),u=(o=t[8])+9,e.size-=u,i=new Uint8Array(e.size);for(var p=0,h=f.length;p<h;p++){var g=(t=f[p]).byteLength;if(u){if(u>g){u-=g;continue}t=t.subarray(u),g-=u,u=0}i.set(t,c),c+=g}return r&&(r-=o+3),{data:i,pts:a,dts:s,len:r}}return null},e.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var n=t.samples,r=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(r||this.contiguous)?(e.id=r,n.push(e)):t.dropped++}e.debug.length&&l.logger.log(e.pts+"/"+e.dts+":"+e.debug)},e.prototype._parseAVCPES=function(e,t){var n,r,o,i=this,s=this._avcTrack,l=this._parseAVCNALu(e.data),u=this.avcSample,c=!1,f=this.pushAccesUnit.bind(this),d=function(e,t,n,r){return{key:e,pts:t,dts:n,units:[],debug:r}};e.data=null,u&&l.length&&!s.audFound&&(f(u,s),u=this.avcSample=d(!1,e.pts,e.dts,"")),l.forEach((function(t){switch(t.type){case 1:r=!0,u||(u=i.avcSample=d(!0,e.pts,e.dts,"")),u.frame=!0;var l=t.data;if(c&&l.length>4){var p=new a.default(l).readSliceType();2!==p&&4!==p&&7!==p&&9!==p||(u.key=!0)}break;case 5:r=!0,u||(u=i.avcSample=d(!0,e.pts,e.dts,"")),u.key=!0,u.frame=!0;break;case 6:r=!0,(n=new a.default(i.discardEPB(t.data))).readUByte();for(var h=0,g=0,m=!1,v=0;!m&&n.bytesAvailable>1;){h=0;do{h+=v=n.readUByte()}while(255===v);g=0;do{g+=v=n.readUByte()}while(255===v);if(4===h&&0!==n.bytesAvailable){if(m=!0,181===n.readUByte()&&49===n.readUShort()&&1195456820===n.readUInt()&&3===n.readUByte()){var y=n.readUByte(),b=31&y,A=[y,n.readUByte()];for(o=0;o<b;o++)A.push(n.readUByte()),A.push(n.readUByte()),A.push(n.readUByte());i._insertSampleInOrder(i._txtTrack.samples,{type:3,pts:e.pts,bytes:A})}}else if(g<n.bytesAvailable)for(o=0;o<g;o++)n.readUByte()}break;case 7:if(r=!0,c=!0,!s.sps){var C=(n=new a.default(t.data)).readSPS();s.width=C.width,s.height=C.height,s.pixelRatio=C.pixelRatio,s.sps=[t.data],s.duration=i._duration;var I=t.data.subarray(1,4),_="avc1.";for(o=0;o<3;o++){var E=I[o].toString(16);E.length<2&&(E="0"+E),_+=E}s.codec=_}break;case 8:r=!0,s.pps||(s.pps=[t.data]);break;case 9:r=!1,s.audFound=!0,u&&f(u,s),u=i.avcSample=d(!1,e.pts,e.dts,"");break;case 12:r=!1;break;default:r=!1,u&&(u.debug+="unknown NAL "+t.type+" ")}u&&r&&u.units.push(t)})),t&&u&&(f(u,s),this.avcSample=null)},e.prototype._insertSampleInOrder=function(e,t){var n=e.length;if(n>0){if(t.pts>=e[n-1].pts)e.push(t);else for(var r=n-1;r>=0;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)},e.prototype._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var n=this._avcTrack.samples;t=n[n.length-1]}if(t){var r=t.units;e=r[r.length-1]}return e},e.prototype._parseAVCNALu=function(e){var t,n,r,o,i=0,a=e.byteLength,s=this._avcTrack,l=s.naluState||0,u=l,c=[],f=-1;for(-1===l&&(f=0,o=31&e[0],l=0,i=1);i<a;)if(t=e[i++],l)if(1!==l)if(t)if(1===t){var d,p;f>=0?(r={data:e.subarray(f,i-l-1),type:o},c.push(r)):(d=this._getLastNalUnit())&&(u&&i<=4-u&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-u)),(n=i-l-1)>0&&((p=new Uint8Array(d.data.byteLength+n)).set(d.data,0),p.set(e.subarray(0,n),d.data.byteLength),d.data=p)),i<a?(f=i,o=31&e[i],l=0):l=-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;return f>=0&&l>=0&&(r={data:e.subarray(f,a),type:o,state:l},c.push(r)),0===c.length&&(d=this._getLastNalUnit())&&((p=new Uint8Array(d.data.byteLength+e.byteLength)).set(d.data,0),p.set(e,d.data.byteLength),d.data=p),s.naluState=l,c},e.prototype.discardEPB=function(e){for(var t,n,r=e.byteLength,o=[],i=1;i<r-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(o.push(i+2),i+=2):i++;if(0===o.length)return e;t=r-o.length,n=new Uint8Array(t);var a=0;for(i=0;i<t;a++,i++)a===o[0]&&(a++,o.shift()),n[i]=e[a];return n},e.prototype._parseAACPES=function(e){var t,n,o,a,s,c=this._audioTrack,f=e.data,d=e.pts,p=this.aacOverFlow,h=this.aacLastPTS;if(p){var g=new Uint8Array(p.byteLength+f.byteLength);g.set(p,0),g.set(f,p.byteLength),f=g}for(o=0,s=f.length;o<s-1&&!r.isHeader(f,o);o++);if(o){var m=void 0,v=void 0;if(o<s-1?(m="AAC PES did not start with ADTS header,offset:"+o,v=!1):(m="no ADTS header found in AAC PES",v=!0),l.logger.warn("parsing error:"+m),this.observer.trigger(i.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:v,reason:m}),v)return}if(r.initTrackConfig(c,this.observer,f,o,this.audioCodec),n=0,t=r.getFrameDuration(c.samplerate),p&&h){var y=h+t;Math.abs(y-d)>1&&(l.logger.log("AAC: align PTS for overlapping frames by "+Math.round((y-d)/90)),d=y)}for(;o<s;)if(r.isHeader(f,o)&&o+5<s){var b=r.appendFrame(c,f,o,d,n);if(!b)break;o+=b.length,a=b.sample.pts,n++}else o++;p=o<s?f.subarray(o,s):null,this.aacOverFlow=p,this.aacLastPTS=a},e.prototype._parseMPEGPES=function(e){for(var t=e.data,n=t.length,r=0,i=0,a=e.pts;i<n;)if(o.default.isHeader(t,i)){var s=o.default.appendFrame(this._audioTrack,t,i,a,r);if(!s)break;i+=s.length,r++}else i++},e.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},e}();t.default=f},"./src/errors.js":
/*!***********************!*\
  !*** ./src/errors.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},t.ErrorDetails={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},"./src/event-handler.js":
/*!******************************!*\
  !*** ./src/event-handler.js ***!
  \******************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./utils/logger */"./src/utils/logger.js"),o=n(/*! ./errors */"./src/errors.js"),i=n(/*! ./events */"./src/events.js"),a={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},s=function(){function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.hls=e,this.onEvent=this.onEvent.bind(this),this.handledEvents=t,this.useGenericHandler=!0,this.registerListeners()}return e.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.prototype.onHandlerDestroying=function(){},e.prototype.onHandlerDestroyed=function(){},e.prototype.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},e.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){if(a[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)}),this)},e.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){this.hls.off(e,this.onEvent)}),this)},e.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},e.prototype.onEventGeneric=function(e,t){try{(function(e,t){var n="on"+e.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,t)}).call(this,e,t).call()}catch(t){r.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.hls.trigger(i.default.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}();t.default=s},"./src/events.js":
/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},"./src/hls.js":
/*!********************!*\
  !*** ./src/hls.js ***!
  \********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),a=n(/*! ./errors */"./src/errors.js"),s=n(/*! ./loader/playlist-loader */"./src/loader/playlist-loader.js"),l=n(/*! ./loader/fragment-loader */"./src/loader/fragment-loader.js"),u=n(/*! ./loader/key-loader */"./src/loader/key-loader.js"),c=n(/*! ./controller/fragment-tracker */"./src/controller/fragment-tracker.js"),f=n(/*! ./controller/stream-controller */"./src/controller/stream-controller.js"),d=n(/*! ./controller/level-controller */"./src/controller/level-controller.js"),p=n(/*! ./controller/id3-track-controller */"./src/controller/id3-track-controller.js"),h=n(/*! ./is-supported */"./src/is-supported.js"),g=n(/*! ./utils/logger */"./src/utils/logger.js"),m=n(/*! ./config */"./src/config.js"),v=n(/*! ./events */"./src/events.js"),y=function(e){function t(n){void 0===n&&(n={});var r=e.call(this)||this,o=t.DefaultConfig;if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var i in o)i in n||(n[i]=o[i]);if(void 0!==n.liveMaxLatencyDurationCount&&n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(n.liveMaxLatencyDuration<=n.liveSyncDuration||void 0===n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');g.enableLogs(n.debug),r.config=n,r._autoLevelCapping=-1;var a=r.abrController=new n.abrController(r),h=new n.bufferController(r),m=new n.capLevelController(r),v=new n.fpsController(r),y=new s.default(r),b=new l.default(r),A=new u.default(r),C=new p.default(r),I=r.levelController=new d.default(r),_=new c.FragmentTracker(r),E=[I,r.streamController=new f.default(r,_)],w=n.audioStreamController;w&&E.push(new w(r,_)),r.networkControllers=E;var S=[y,b,A,a,h,m,v,C,_];if(w=n.audioTrackController){var T=new w(r);r.audioTrackController=T,S.push(T)}if(w=n.subtitleTrackController){var k=new w(r);r.subtitleTrackController=k,E.push(k)}if(w=n.emeController){var x=new w(r);r.emeController=x,S.push(x)}return(w=n.subtitleStreamController)&&E.push(new w(r,_)),(w=n.timelineController)&&S.push(new w(r)),r.coreComponents=S,r}return o(t,e),Object.defineProperty(t,"version",{get:function(){return"0.12.4"},enumerable:!0,configurable:!0}),t.isSupported=function(){return h.isSupported()},Object.defineProperty(t,"Events",{get:function(){return v.default},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ErrorTypes",{get:function(){return a.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ErrorDetails",{get:function(){return a.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DefaultConfig",{get:function(){return t.defaultConfig?t.defaultConfig:m.hlsDefaultConfig},set:function(e){t.defaultConfig=e},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){g.logger.log("destroy"),this.trigger(v.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(e){e.destroy()})),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(e){g.logger.log("attachMedia"),this.media=e,this.trigger(v.default.MEDIA_ATTACHING,{media:e})},t.prototype.detachMedia=function(){g.logger.log("detachMedia"),this.trigger(v.default.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(e){e=i.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),g.logger.log("loadSource:"+e),this.url=e,this.trigger(v.default.MANIFEST_LOADING,{url:e})},t.prototype.startLoad=function(e){void 0===e&&(e=-1),g.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},t.prototype.stopLoad=function(){g.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},t.prototype.swapAudioCodec=function(){g.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){g.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},Object.defineProperty(t.prototype,"levels",{get:function(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){return this.streamController.currentLevel},set:function(e){g.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextLevel",{get:function(){return this.streamController.nextLevel},set:function(e){g.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadLevel",{get:function(){return this.levelController.level},set:function(e){g.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextLoadLevel",{get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstLevel",{get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){g.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLevel",{get:function(){return this.levelController.startLevel},set:function(e){g.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLevelCapping",{get:function(){return this._autoLevelCapping},set:function(e){g.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLevelEnabled",{get:function(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"manualLevel",{get:function(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minAutoLevel",{get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,n=e?e.length:0,r=0;r<n;r++)if((e[r].realBitrate?Math.max(e[r].realBitrate,e[r].bitrate):e[r].bitrate)>t)return r;return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxAutoLevel",{get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextAutoLevel",{get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTracks",{get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTrack",{get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"liveSyncPosition",{get:function(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTracks",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTrack",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleDisplay",{get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)},enumerable:!0,configurable:!0}),t}(n(/*! ./observer */"./src/observer.js").Observer);t.default=y},"./src/is-supported.js":
/*!*****************************!*\
  !*** ./src/is-supported.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./utils/mediasource-helper */"./src/utils/mediasource-helper.js");t.isSupported=function(){var e=r.getMediaSource(),t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!o}},"./src/loader/fragment-loader.js":
/*!***************************************!*\
  !*** ./src/loader/fragment-loader.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../errors */"./src/errors.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js"),u=function(t){function n(e){var n=t.call(this,e,i.default.FRAG_LOADING)||this;return n.loaders={},n}return o(n,t),n.prototype.destroy=function(){var e=this.loaders;for(var n in e){var r=e[n];r&&r.destroy()}this.loaders={},t.prototype.destroy.call(this)},n.prototype.onFragLoading=function(t){var n=t.frag,r=n.type,o=this.loaders,i=this.hls.config,a=i.fLoader,s=i.loader;n.loaded=0;var u,c,f,d=o[r];d&&(l.logger.warn("abort previous fragment loader for type: "+r),d.abort()),d=o[r]=n.loader=i.fLoader?new a(i):new s(i),u={url:n.url,frag:n,responseType:"arraybuffer",progressData:!1};var p=n.byteRangeStartOffset,h=n.byteRangeEndOffset;e.isFinite(p)&&e.isFinite(h)&&(u.rangeStart=p,u.rangeEnd=h),c={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},d.load(u,c,f)},n.prototype.loadsuccess=function(e,t,n,r){void 0===r&&(r=null);var o=e.data,a=n.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(i.default.FRAG_LOADED,{payload:o,frag:a,stats:t,networkDetails:r})},n.prototype.loaderror=function(e,t,n){void 0===n&&(n=null);var r=t.frag,o=r.loader;o&&o.abort(),this.loaders[r.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:n})},n.prototype.loadtimeout=function(e,t,n){void 0===n&&(n=null);var r=t.frag,o=r.loader;o&&o.abort(),this.loaders[r.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:n})},n.prototype.loadprogress=function(e,t,n,r){void 0===r&&(r=null);var o=t.frag;o.loaded=e.loaded,this.hls.trigger(i.default.FRAG_LOAD_PROGRESS,{frag:o,stats:e,networkDetails:r})},n}(a.default);t.default=u}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/fragment.js":
/*!********************************!*\
  !*** ./src/loader/fragment.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),o=n(/*! ./level-key */"./src/loader/level-key.js"),i=function(){function t(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((e={})[t.ElementaryStreamTypes.AUDIO]=!1,e[t.ElementaryStreamTypes.VIDEO]=!1,e)}return Object.defineProperty(t,"ElementaryStreamTypes",{get:function(){return{AUDIO:"audio",VIDEO:"video"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return!this._url&&this.relurl&&(this._url=r.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRange",{get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var e=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var n=this.lastByteRangeEndOffset;e[0]=n||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0],this._byteRange=e}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRangeStartOffset",{get:function(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRangeEndOffset",{get:function(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decryptdata",{get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endProgramDateTime",{get:function(){if(!e.isFinite(this.programDateTime))return null;var t=e.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"encrypted",{get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),t.prototype.addElementaryStream=function(e){this._elementaryStreams[e]=!0},t.prototype.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},t.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t},t.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var n=e;return e&&e.method&&e.uri&&!e.iv&&((n=new o.default).method=e.method,n.baseuri=e.baseuri,n.reluri=e.reluri,n.iv=this.createInitializationVector(t)),n},t}();t.default=i}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/key-loader.js":
/*!**********************************!*\
  !*** ./src/loader/key-loader.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../errors */"./src/errors.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js"),u=function(e){function t(t){var n=e.call(this,t,i.default.KEY_LOADING)||this;return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return o(t,e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},a.default.prototype.destroy.call(this)},t.prototype.onKeyLoading=function(e){var t=e.frag,n=t.type,r=this.loaders[n],o=t.decryptdata,a=o.uri;if(a!==this.decrypturl||null===this.decryptkey){var s,u,c,f=this.hls.config;r&&(l.logger.warn("abort previous key loader for type:"+n),r.abort()),t.loader=this.loaders[n]=new f.loader(f),this.decrypturl=a,this.decryptkey=null,s={url:a,frag:t,responseType:"arraybuffer"},u={timeout:f.fragLoadingTimeOut,maxRetry:0,retryDelay:f.fragLoadingRetryDelay,maxRetryDelay:f.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(s,u,c)}else this.decryptkey&&(o.key=this.decryptkey,this.hls.trigger(i.default.KEY_LOADED,{frag:t}))},t.prototype.loadsuccess=function(e,t,n){var r=n.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(e.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(i.default.KEY_LOADED,{frag:r})},t.prototype.loaderror=function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})},t.prototype.loadtimeout=function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},t}(a.default);t.default=u},"./src/loader/level-key.js":
/*!*********************************!*\
  !*** ./src/loader/level-key.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),o=function(){function e(){this.method=null,this.key=null,this.iv=null,this._uri=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return!this._uri&&this.reluri&&(this._uri=r.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),e}();t.default=o},"./src/loader/level.js":
/*!*****************************!*\
  !*** ./src/loader/level.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function t(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}return Object.defineProperty(t.prototype,"hasProgramDateTime",{get:function(){return!(!this.fragments[0]||!e.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),t}();t.default=n}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/m3u8-parser.js":
/*!***********************************!*\
  !*** ./src/loader/m3u8-parser.js ***!
  \***********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),o=n(/*! ./fragment */"./src/loader/fragment.js"),i=n(/*! ./level */"./src/loader/level.js"),a=n(/*! ./level-key */"./src/loader/level-key.js"),s=n(/*! ../utils/attr-list */"./src/utils/attr-list.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js"),u=n(/*! ../utils/codecs */"./src/utils/codecs.js"),c=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,f=/#EXT-X-MEDIA:(.*)/g,d=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),p=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,h=/\.(mp4|m4s|m4v|m4a)$/i,g=function(){function t(){}return t.findGroup=function(e,t){if(!e)return null;for(var n=null,r=0;r<e.length;r++){var o=e[r];o.id===t&&(n=o)}return n},t.convertAVC1ToAVCOTI=function(e){var t,n=e.split(".");return n.length>2?(t=n.shift()+".",t+=parseInt(n.shift()).toString(16),t+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):t=e,t},t.resolve=function(e,t){return r.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,n){var r,o=[];function i(e,t){["video","audio"].forEach((function(n){var r=e.filter((function(e){return u.isCodecType(e,n)}));if(r.length){var o=r.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[n+"Codec"]=o.length>0?o[0]:r[0],e=e.filter((function(e){return-1===r.indexOf(e)}))}})),t.unknownCodecs=e}for(c.lastIndex=0;null!=(r=c.exec(e));){var a={},l=a.attrs=new s.default(r[1]);a.url=t.resolve(r[2],n);var f=l.decimalResolution("RESOLUTION");f&&(a.width=f.width,a.height=f.height),a.bitrate=l.decimalInteger("AVERAGE-BANDWIDTH")||l.decimalInteger("BANDWIDTH"),a.name=l.NAME,i([].concat((l.CODECS||"").split(/[ ,]+/)),a),a.videoCodec&&-1!==a.videoCodec.indexOf("avc1")&&(a.videoCodec=t.convertAVC1ToAVCOTI(a.videoCodec)),o.push(a)}return o},t.parseMasterPlaylistMedia=function(e,n,r,o){var i;void 0===o&&(o=[]);var a=[],l=0;for(f.lastIndex=0;null!==(i=f.exec(e));){var u={},c=new s.default(i[1]);if(c.TYPE===r){if(u.groupId=c["GROUP-ID"],u.name=c.NAME,u.type=r,u.default="YES"===c.DEFAULT,u.autoselect="YES"===c.AUTOSELECT,u.forced="YES"===c.FORCED,c.URI&&(u.url=t.resolve(c.URI,n)),u.lang=c.LANGUAGE,u.name||(u.name=u.lang),o.length){var d=t.findGroup(o,u.groupId);u.audioCodec=d?d.codec:o[0].codec}u.id=l++,a.push(u)}}return a},t.parseLevelPlaylist=function(t,n,r,u,c){var f,g,v=0,y=0,b=new i.default(n),A=new a.default,C=0,I=null,_=new o.default,E=null;for(d.lastIndex=0;null!==(f=d.exec(t));){var w=f[1];if(w){_.duration=parseFloat(w);var S=(" "+f[2]).slice(1);_.title=S||null,_.tagList.push(S?["INF",w,S]:["INF",w])}else if(f[3]){if(e.isFinite(_.duration)){var T=v++;_.type=u,_.start=y,_.levelkey=A,_.sn=T,_.level=r,_.cc=C,_.urlId=c,_.baseurl=n,_.relurl=(" "+f[3]).slice(1),m(_,I),b.fragments.push(_),I=_,y+=_.duration,_=new o.default}}else if(f[4]){if(_.rawByteRange=(" "+f[4]).slice(1),I){var k=I.byteRangeEndOffset;k&&(_.lastByteRangeEndOffset=k)}}else if(f[5])_.rawProgramDateTime=(" "+f[5]).slice(1),_.tagList.push(["PROGRAM-DATE-TIME",_.rawProgramDateTime]),null===E&&(E=b.fragments.length);else{for(f=f[0].match(p),g=1;g<f.length&&void 0===f[g];g++);var x=(" "+f[g+1]).slice(1),P=(" "+f[g+2]).slice(1);switch(f[g]){case"#":_.tagList.push(P?[x,P]:[x]);break;case"PLAYLIST-TYPE":b.type=x.toUpperCase();break;case"MEDIA-SEQUENCE":v=b.startSN=parseInt(x);break;case"TARGETDURATION":b.targetduration=parseFloat(x);break;case"VERSION":b.version=parseInt(x);break;case"EXTM3U":break;case"ENDLIST":b.live=!1;break;case"DIS":C++,_.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":C=parseInt(x);break;case"KEY":var O=x,L=new s.default(O),D=L.enumeratedString("METHOD"),j=L.URI,R=L.hexadecimalInteger("IV");D&&(A=new a.default,j&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(D)>=0&&(A.method=D,A.baseuri=n,A.reluri=j,A.key=null,A.iv=R));break;case"START":var M=x,N=new s.default(M).decimalFloatingPoint("TIME-OFFSET");e.isFinite(N)&&(b.startTimeOffset=N);break;case"MAP":var F=new s.default(x);_.relurl=F.URI,_.rawByteRange=F.BYTERANGE,_.baseurl=n,_.level=r,_.type=u,_.sn="initSegment",b.initSegment=_,(_=new o.default).rawProgramDateTime=b.initSegment.rawProgramDateTime;break;default:l.logger.warn("line parsed but not handled: "+f)}}}return(_=I)&&!_.relurl&&(b.fragments.pop(),y-=_.duration),b.totalduration=y,b.averagetargetduration=y/b.fragments.length,b.endSN=v-1,b.startCC=b.fragments[0]?b.fragments[0].cc:0,b.endCC=C,!b.initSegment&&b.fragments.length&&b.fragments.every((function(e){return h.test(e.relurl)}))&&(l.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(_=new o.default).relurl=b.fragments[0].relurl,_.baseurl=n,_.level=r,_.type=u,_.sn="initSegment",b.initSegment=_,b.needSidxRanges=!0),E&&function(e,t){for(var n=e[t],r=t-1;r>=0;r--){var o=e[r];o.programDateTime=n.programDateTime-1e3*o.duration,n=o}}(b.fragments,E),b},t}();function m(t,n){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):n&&n.programDateTime&&(t.programDateTime=n.endProgramDateTime),e.isFinite(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}t.default=g}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/playlist-loader.js":
/*!***************************************!*\
  !*** ./src/loader/playlist-loader.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../errors */"./src/errors.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js"),u=n(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.js"),c=n(/*! ./m3u8-parser */"./src/loader/m3u8-parser.js"),f=window.performance,d={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},p={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},h=function(t){function n(e){var n=t.call(this,e,i.default.MANIFEST_LOADING,i.default.LEVEL_LOADING,i.default.AUDIO_TRACK_LOADING,i.default.SUBTITLE_TRACK_LOADING)||this;return n.loaders={},n}return o(n,t),Object.defineProperty(n,"ContextType",{get:function(){return d},enumerable:!0,configurable:!0}),Object.defineProperty(n,"LevelType",{get:function(){return p},enumerable:!0,configurable:!0}),n.canHaveQualityLevels=function(e){return e!==d.AUDIO_TRACK&&e!==d.SUBTITLE_TRACK},n.mapContextToLevelType=function(e){switch(e.type){case d.AUDIO_TRACK:return p.AUDIO;case d.SUBTITLE_TRACK:return p.SUBTITLE;default:return p.MAIN}},n.getResponseUrl=function(e,t){var n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n},n.prototype.createInternalLoader=function(e){var t=this.hls.config,n=t.pLoader,r=t.loader,o=new(n||r)(t);return e.loader=o,this.loaders[e.type]=o,o},n.prototype.getInternalLoader=function(e){return this.loaders[e.type]},n.prototype.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},n.prototype.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},n.prototype.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},n.prototype.onManifestLoading=function(e){this.load(e.url,{type:d.MANIFEST,level:0,id:null})},n.prototype.onLevelLoading=function(e){this.load(e.url,{type:d.LEVEL,level:e.level,id:e.id})},n.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:d.AUDIO_TRACK,level:null,id:e.id})},n.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:d.SUBTITLE_TRACK,level:null,id:e.id})},n.prototype.load=function(e,t){var n=this.hls.config;l.logger.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var r,o,i,a,s=this.getInternalLoader(t);if(s){var u=s.context;if(u&&u.url===e)return l.logger.trace("playlist request ongoing"),!1;l.logger.warn("aborting previous loader for type: "+t.type),s.abort()}switch(t.type){case d.MANIFEST:r=n.manifestLoadingMaxRetry,o=n.manifestLoadingTimeOut,i=n.manifestLoadingRetryDelay,a=n.manifestLoadingMaxRetryTimeout;break;case d.LEVEL:r=0,o=n.levelLoadingTimeOut;break;default:r=n.levelLoadingMaxRetry,o=n.levelLoadingTimeOut,i=n.levelLoadingRetryDelay,a=n.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(t),t.url=e,t.responseType=t.responseType||"";var c={timeout:o,maxRetry:r,retryDelay:i,maxRetryDelay:a},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return l.logger.debug("Calling internal loader delegate for URL: "+e),s.load(t,c,f),!0},n.prototype.loadsuccess=function(e,t,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this._handleSidxRequest(e,n),void this._handlePlaylistLoaded(e,t,n,r);this.resetInternalLoader(n.type);var o=e.data;t.tload=f.now(),0===o.indexOf("#EXTM3U")?o.indexOf("#EXTINF:")>0||o.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,n,r):this._handleMasterPlaylist(e,t,n,r):this._handleManifestParsingError(e,n,"no EXTM3U delimiter",r)},n.prototype.loaderror=function(e,t,n){void 0===n&&(n=null),this._handleNetworkError(t,n,!1,e)},n.prototype.loadtimeout=function(e,t,n){void 0===n&&(n=null),this._handleNetworkError(t,n,!0)},n.prototype._handleMasterPlaylist=function(e,t,r,o){var a=this.hls,s=e.data,u=n.getResponseUrl(e,r),f=c.default.parseMasterPlaylist(s,u);if(f.length){var d=f.map((function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}})),p=c.default.parseMasterPlaylistMedia(s,u,"AUDIO",d),h=c.default.parseMasterPlaylistMedia(s,u,"SUBTITLES");if(p.length){var g=!1;p.forEach((function(e){e.url||(g=!0)})),!1===g&&f[0].audioCodec&&!f[0].attrs.AUDIO&&(l.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main"}))}a.trigger(i.default.MANIFEST_LOADED,{levels:f,audioTracks:p,subtitles:h,url:u,stats:t,networkDetails:o})}else this._handleManifestParsingError(e,r,"no level found in manifest",o)},n.prototype._handleTrackOrLevelPlaylist=function(t,r,o,a){var s=this.hls,l=o.id,u=o.level,p=o.type,h=n.getResponseUrl(t,o),g=e.isFinite(l)?l:0,m=e.isFinite(u)?u:g,v=n.mapContextToLevelType(o),y=c.default.parseLevelPlaylist(t.data,h,m,v,g);if(y.tload=r.tload,p===d.MANIFEST){var b={url:h,details:y};s.trigger(i.default.MANIFEST_LOADED,{levels:[b],audioTracks:[],url:h,stats:r,networkDetails:a})}if(r.tparsed=f.now(),y.needSidxRanges){var A=y.initSegment.url;this.load(A,{isSidxRequest:!0,type:p,level:u,levelDetails:y,id:l,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else o.levelDetails=y,this._handlePlaylistLoaded(t,r,o,a)},n.prototype._handleSidxRequest=function(e,t){var n=u.default.parseSegmentIndex(new Uint8Array(e.data));if(n){var r=n.references,o=t.levelDetails;r.forEach((function(e,t){var n=e.info,r=o.fragments[t];0===r.byteRange.length&&(r.rawByteRange=String(1+n.end-n.start)+"@"+String(n.start))})),o.initSegment.rawByteRange=String(n.moovEndOffset)+"@0"}},n.prototype._handleManifestParsingError=function(e,t,n,r){this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:n,networkDetails:r})},n.prototype._handleNetworkError=function(e,t,n,r){var o,a;void 0===n&&(n=!1),void 0===r&&(r=null),l.logger.info("A network error occured while loading a "+e.type+"-type playlist");var u=this.getInternalLoader(e);switch(e.type){case d.MANIFEST:o=n?s.ErrorDetails.MANIFEST_LOAD_TIMEOUT:s.ErrorDetails.MANIFEST_LOAD_ERROR,a=!0;break;case d.LEVEL:o=n?s.ErrorDetails.LEVEL_LOAD_TIMEOUT:s.ErrorDetails.LEVEL_LOAD_ERROR,a=!1;break;case d.AUDIO_TRACK:o=n?s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,a=!1;break;default:a=!1}u&&(u.abort(),this.resetInternalLoader(e.type));var c={type:s.ErrorTypes.NETWORK_ERROR,details:o,fatal:a,url:u.url,loader:u,context:e,networkDetails:t};r&&(c.response=r),this.hls.trigger(i.default.ERROR,c)},n.prototype._handlePlaylistLoaded=function(e,t,r,o){var a=r.type,s=r.level,l=r.id,u=r.levelDetails;if(u.targetduration)if(n.canHaveQualityLevels(r.type))this.hls.trigger(i.default.LEVEL_LOADED,{details:u,level:s||0,id:l||0,stats:t,networkDetails:o});else switch(a){case d.AUDIO_TRACK:this.hls.trigger(i.default.AUDIO_TRACK_LOADED,{details:u,id:l,stats:t,networkDetails:o});break;case d.SUBTITLE_TRACK:this.hls.trigger(i.default.SUBTITLE_TRACK_LOADED,{details:u,id:l,stats:t,networkDetails:o})}else this._handleManifestParsingError(e,r,"invalid target duration",o)},n}(a.default);t.default=h}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/observer.js":
/*!*************************!*\
  !*** ./src/observer.js ***!
  \*************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.emit.apply(this,[e,e].concat(t))},t}(n(/*! eventemitter3 */"./node_modules/eventemitter3/index.js").EventEmitter);t.Observer=i},"./src/polyfills/number.js":
/*!*********************************!*\
  !*** ./src/polyfills/number.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js").getSelfScope().Number;t.Number=r,r.isFinite=r.isFinite||function(e){return"number"==typeof e&&isFinite(e)}},"./src/remux/aac-helper.js":
/*!*********************************!*\
  !*** ./src/remux/aac-helper.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}();t.default=r},"./src/remux/mp4-generator.js":
/*!************************************!*\
  !*** ./src/remux/mp4-generator.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Math.pow(2,32)-1,o=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var o=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=i,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,l,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,o))},e.box=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),r=8,o=n.length,i=o;o--;)r+=n[o].byteLength;for((t=new Uint8Array(r))[0]=r>>24&255,t[1]=r>>16&255,t[2]=r>>8&255,t[3]=255&r,t.set(e,4),o=0,r=8;o<i;o++)t.set(n[o],r),r+=n[o].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,n){n*=t;var o=Math.floor(n/(r+1)),i=Math.floor(n%(r+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,o>>24,o>>16&255,o>>8&255,255&o,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))},e.moov=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))},e.mvex=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))},e.mvhd=function(t,n){n*=t;var o=Math.floor(n/(r+1)),i=Math.floor(n%(r+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,o>>24,o>>16&255,o>>8&255,255&o,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)},e.sdtp=function(t){var n,r,o=t.samples||[],i=new Uint8Array(4+o.length);for(r=0;r<o.length;r++)n=o[r].flags,i[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,i)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var n,r,o,i=[],a=[];for(n=0;n<t.sps.length;n++)o=(r=t.sps[n]).byteLength,i.push(o>>>8&255),i.push(255&o),i=i.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)o=(r=t.pps[n]).byteLength,a.push(o>>>8&255),a.push(255&o),a=a.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|t.sps.length].concat(i).concat([t.pps.length]).concat(a))),l=t.width,u=t.height,c=t.pixelRatio[0],f=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,f>>24,f>>16&255,f>>8&255,255&f])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var n=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var n=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var n=t.id,o=t.duration*t.timescale,i=t.width,a=t.height,s=Math.floor(o/(r+1)),l=Math.floor(o%(r+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))},e.traf=function(t,n){var o=e.sdtp(t),i=t.id,a=Math.floor(n/(r+1)),s=Math.floor(n%(r+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,o.length+16+20+8+16+8+8),o)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,n){var r,o,i,a,s,l,u=t.samples||[],c=u.length,f=12+16*c,d=new Uint8Array(f);for(n+=8+f,d.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)i=(o=u[r]).duration,a=o.size,s=o.flags,l=o.cts,d.set([i>>>24&255,i>>>16&255,i>>>8&255,255&i,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*r);return e.box(e.types.trun,d)},e.initSegment=function(t){e.types||e.init();var n,r=e.moov(t);return(n=new Uint8Array(e.FTYP.byteLength+r.byteLength)).set(e.FTYP),n.set(r,e.FTYP.byteLength),n},e}();t.default=o},"./src/remux/mp4-remuxer.js":
/*!**********************************!*\
  !*** ./src/remux/mp4-remuxer.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./aac-helper */"./src/remux/aac-helper.js"),o=n(/*! ./mp4-generator */"./src/remux/mp4-generator.js"),i=n(/*! ../events */"./src/events.js"),a=n(/*! ../errors */"./src/errors.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),l=function(){function e(e,t,n,r){this.observer=e,this.config=t,this.typeSupported=n;var o=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&o&&!o.match("CriOS"),this.ISGenerated=!1}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},e.prototype.resetInitSegment=function(){this.ISGenerated=!1},e.prototype.remux=function(e,t,n,r,o,a,l){if(this.ISGenerated||this.generateIS(e,t,o),this.ISGenerated){var u=e.samples.length,c=t.samples.length,f=o,d=o;if(u&&c){var p=(e.samples[0].pts-t.samples[0].pts)/t.inputTimeScale;f+=Math.max(0,p),d+=Math.max(0,-p)}if(u){e.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,o));var h=this.remuxAudio(e,f,a,l);if(c){var g=void 0;h&&(g=h.endPTS-h.startPTS),t.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,o)),this.remuxVideo(t,d,a,g,l)}}else if(c){var m=this.remuxVideo(t,d,a,0,l);m&&e.codec&&this.remuxEmptyAudio(e,f,a,m)}}n.samples.length&&this.remuxID3(n,o),r.samples.length&&this.remuxText(r,o),this.observer.trigger(i.default.FRAG_PARSED)},e.prototype.generateIS=function(e,t,n){var r,l,u=this.observer,c=e.samples,f=t.samples,d=this.typeSupported,p="audio/mp4",h={},g={tracks:h},m=void 0===this._initPTS;if(m&&(r=l=1/0),e.config&&c.length&&(e.timescale=e.samplerate,s.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(d.mpeg?(p="audio/mpeg",e.codec=""):d.mp3&&(e.codec="mp3")),h.audio={container:p,codec:e.codec,initSegment:!e.isAAC&&d.mpeg?new Uint8Array:o.default.initSegment([e]),metadata:{channelCount:e.channelCount}},m&&(r=l=c[0].pts-e.inputTimeScale*n)),t.sps&&t.pps&&f.length){var v=t.inputTimeScale;t.timescale=v,h.video={container:"video/mp4",codec:t.codec,initSegment:o.default.initSegment([t]),metadata:{width:t.width,height:t.height}},m&&(r=Math.min(r,f[0].pts-v*n),l=Math.min(l,f[0].dts-v*n),this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:r}))}Object.keys(h).length?(u.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,g),this.ISGenerated=!0,m&&(this._initPTS=r,this._initDTS=l)):u.trigger(i.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.prototype.remuxVideo=function(e,t,n,r,l){var u,c,f,d,p,h,g,m=8,v=e.timescale,y=e.samples,b=[],A=y.length,C=this._PTSNormalize,I=this._initPTS,_=this.nextAvcDts,E=this.isSafari;if(0!==A){E&&(n|=y.length&&_&&(l&&Math.abs(t-_/v)<.1||Math.abs(y[0].pts-_-I)<v/5)),n||(_=t*v),y.forEach((function(e){e.pts=C(e.pts-I,_),e.dts=C(e.dts-I,_)})),y.sort((function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r||e.id-t.id}));var w=y.reduce((function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)}),0);if(w<0){s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(w/90)+" ms to overcome this issue");for(var S=0;S<y.length;S++)y[S].dts+=w}var T=y[0];p=Math.max(T.dts,0),d=Math.max(T.pts,0);var k=Math.round((p-_)/90);n&&k&&(k>1?s.logger.log("AVC:"+k+" ms hole between fragments detected,filling it"):k<-1&&s.logger.log("AVC:"+-k+" ms overlapping between fragments detected"),p=_,y[0].dts=p,d=Math.max(d-k,_),y[0].pts=d,s.logger.log("Video/PTS/DTS adjusted: "+Math.round(d/90)+"/"+Math.round(p/90)+",delta:"+k+" ms")),T=y[y.length-1],g=Math.max(T.dts,0),h=Math.max(T.pts,0,g),E&&(u=Math.round((g-p)/(y.length-1)));var x=0,P=0;for(S=0;S<A;S++){for(var O=y[S],L=O.units,D=L.length,j=0,R=0;R<D;R++)j+=L[R].data.length;P+=j,x+=D,O.length=j,O.dts=E?p+S*u:Math.max(O.dts,p),O.pts=Math.max(O.pts,O.dts)}var M=P+4*x+8;try{c=new Uint8Array(M)}catch(e){return void this.observer.trigger(i.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:M,reason:"fail allocating video mdat "+M})}var N=new DataView(c.buffer);for(N.setUint32(0,M),c.set(o.default.types.mdat,4),S=0;S<A;S++){var F=y[S],B=F.units,U=0,G=void 0;for(R=0,D=B.length;R<D;R++){var H=B[R],V=H.data,W=H.data.byteLength;N.setUint32(m,W),m+=4,c.set(V,m),m+=W,U+=4+W}if(E)G=Math.max(0,u*Math.round((F.pts-F.dts)/u));else{if(S<A-1)u=y[S+1].dts-F.dts;else{var Y=this.config,z=F.dts-y[S>0?S-1:S].dts;if(Y.stretchShortVideoTrack){var K=Y.maxBufferHole,q=Math.floor(K*v),$=(r?d+r*v:this.nextAudioPts)-F.pts;$>q?((u=$-z)<0&&(u=z),s.logger.log("It is approximately "+$/90+" ms to the next segment; using duration "+u/90+" ms for the last video frame.")):u=z}else u=z}G=Math.round(F.pts-F.dts)}b.push({size:U,duration:u,cts:G,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:F.key?2:1,isNonSync:F.key?0:1}})}this.nextAvcDts=g+u;var X=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,b.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var Z=b[0].flags;Z.dependsOn=2,Z.isNonSync=0}e.samples=b,f=o.default.moof(e.sequenceNumber++,p,e),e.samples=[];var Q={data1:f,data2:c,startPTS:d/v,endPTS:(h+u)/v,startDTS:p/v,endDTS:this.nextAvcDts/v,type:"video",hasAudio:!1,hasVideo:!0,nb:b.length,dropped:X};return this.observer.trigger(i.default.FRAG_PARSING_DATA,Q),Q}},e.prototype.remuxAudio=function(e,t,n,l){var u,c,f,d,p,h,g,m=e.inputTimeScale,v=e.timescale,y=m/v,b=(e.isAAC?1024:1152)*y,A=this._PTSNormalize,C=this._initPTS,I=!e.isAAC&&this.typeSupported.mpeg,_=e.samples,E=[],w=this.nextAudioPts;if(n|=_.length&&w&&(l&&Math.abs(t-w/m)<.1||Math.abs(_[0].pts-w-C)<20*b),_.forEach((function(e){e.pts=e.dts=A(e.pts-C,t*m)})),0!==(_=_.filter((function(e){return e.pts>=0}))).length){if(n||(w=l?t*m:_[0].pts),e.isAAC)for(var S=this.config.maxAudioFramesDrift,T=0,k=w;T<_.length;){var x,P=_[T];x=(F=P.pts)-k;var O=Math.abs(1e3*x/m);if(x<=-S*b)s.logger.warn("Dropping 1 audio frame @ "+(k/m).toFixed(3)+"s due to "+Math.round(O)+" ms overlap."),_.splice(T,1),e.len-=P.unit.length;else if(x>=S*b&&O<1e4&&k){var L=Math.round(x/b);s.logger.warn("Injecting "+L+" audio frame @ "+(k/m).toFixed(3)+"s due to "+Math.round(1e3*x/m)+" ms gap.");for(var D=0;D<L;D++){var j=Math.max(k,0);(f=r.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),f=P.unit.subarray()),_.splice(T,0,{unit:f,pts:j,dts:j}),e.len+=f.length,k+=b,T++}P.pts=P.dts=k,k+=b,T++}else Math.abs(x),P.pts=P.dts=k,k+=b,T++}D=0;for(var R=_.length;D<R;D++){var M=_[D],N=M.unit,F=M.pts;if(void 0!==g)c.duration=Math.round((F-g)/y);else{var B=Math.round(1e3*(F-w)/m),U=0;if(n&&e.isAAC&&B){if(B>0&&B<1e4)U=Math.round((F-w)/b),s.logger.log(B+" ms hole between AAC samples detected,filling it"),U>0&&((f=r.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(f=N.subarray()),e.len+=U*f.length);else if(B<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(w/m).toFixed(3)+"s/"+(F/m).toFixed(3)+"s/"+-B+"ms"),e.len-=N.byteLength;continue}F=w}if(h=F,!(e.len>0))return;var G=I?e.len:e.len+8;u=I?0:8;try{d=new Uint8Array(G)}catch(e){return void this.observer.trigger(i.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:G,reason:"fail allocating audio mdat "+G})}for(I||(new DataView(d.buffer).setUint32(0,G),d.set(o.default.types.mdat,4)),T=0;T<U;T++)(f=r.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),f=N.subarray()),d.set(f,u),u+=f.byteLength,c={size:f.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(c)}d.set(N,u);var H=N.byteLength;u+=H,c={size:H,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(c),g=F}var V=0,W=E.length;if(W>=2&&(V=E[W-2].duration,c.duration=V),W){this.nextAudioPts=w=g+y*V,e.len=0,e.samples=E,p=I?new Uint8Array:o.default.moof(e.sequenceNumber++,h/y,e),e.samples=[];var Y=h/m,z=w/m,K={data1:p,data2:d,startPTS:Y,endPTS:z,startDTS:Y,endDTS:z,type:"audio",hasAudio:!0,hasVideo:!1,nb:W};return this.observer.trigger(i.default.FRAG_PARSING_DATA,K),K}return null}},e.prototype.remuxEmptyAudio=function(e,t,n,o){var i=e.inputTimeScale,a=i/(e.samplerate?e.samplerate:i),l=this.nextAudioPts,u=(void 0!==l?l:o.startDTS*i)+this._initDTS,c=o.endDTS*i+this._initDTS,f=1024*a,d=Math.ceil((c-u)/f),p=r.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(s.logger.warn("remux empty Audio"),p){for(var h=[],g=0;g<d;g++){var m=u+g*f;h.push({unit:p,pts:m,dts:m}),e.len+=p.length}e.samples=h,this.remuxAudio(e,t,n)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},e.prototype.remuxID3=function(e){var t,n=e.samples.length,r=e.inputTimeScale,o=this._initPTS,a=this._initDTS;if(n){for(var s=0;s<n;s++)(t=e.samples[s]).pts=(t.pts-o)/r,t.dts=(t.dts-a)/r;this.observer.trigger(i.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},e.prototype.remuxText=function(e){e.samples.sort((function(e,t){return e.pts-t.pts}));var t,n=e.samples.length,r=e.inputTimeScale,o=this._initPTS;if(n){for(var a=0;a<n;a++)(t=e.samples[a]).pts=(t.pts-o)/r;this.observer.trigger(i.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},e.prototype._PTSNormalize=function(e,t){var n;if(void 0===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e},e}();t.default=l},"./src/remux/passthrough-remuxer.js":
/*!******************************************!*\
  !*** ./src/remux/passthrough-remuxer.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../events */"./src/events.js"),o=function(){function e(e){this.observer=e}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(){},e.prototype.resetInitSegment=function(){},e.prototype.remux=function(e,t,n,o,i,a,s,l){var u=this.observer,c="";e&&(c+="audio"),t&&(c+="video"),u.trigger(r.default.FRAG_PARSING_DATA,{data1:l,startPTS:i,startDTS:i,type:c,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),u.trigger(r.default.FRAG_PARSED)},e}();t.default=o},"./src/task-loop.js":
/*!**************************!*\
  !*** ./src/task-loop.js ***!
  \**************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=e.apply(this,[t].concat(n))||this;return o._tickInterval=null,o._tickTimer=null,o._tickCallCount=0,o._boundTick=o.tick.bind(o),o}return o(t,e),t.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.prototype.hasInterval=function(){return!!this._tickInterval},t.prototype.hasNextTick=function(){return!!this._tickTimer},t.prototype.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,e),!0)},t.prototype.clearInterval=function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},t.prototype.doTick=function(){},t}(n(/*! ./event-handler */"./src/event-handler.js").default);t.default=i},"./src/utils/attr-list.js":
/*!********************************!*\
  !*** ./src/utils/attr-list.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=/^(\d+)x(\d+)$/,r=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function t(e){for(var n in"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(n)&&(this[n]=e[n])}return t.prototype.decimalInteger=function(t){var n=parseInt(this[t],10);return n>e.MAX_SAFE_INTEGER?1/0:n},t.prototype.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var n=parseInt(this[t],16);return n>e.MAX_SAFE_INTEGER?1/0:n},t.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.prototype.enumeratedString=function(e){return this[e]},t.prototype.decimalResolution=function(e){var t=n.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},t.parseAttrList=function(e){var t,n={};for(r.lastIndex=0;null!==(t=r.exec(e));){var o=t[2];0===o.indexOf('"')&&o.lastIndexOf('"')===o.length-1&&(o=o.slice(1,-1)),n[t[1]]=o}return n},t}();t.default=o}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/binary-search.js":
/*!************************************!*\
  !*** ./src/utils/binary-search.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={search:function(e,t){for(var n=0,r=e.length-1,o=null,i=null;n<=r;){var a=t(i=e[o=(n+r)/2|0]);if(a>0)n=o+1;else{if(!(a<0))return i;r=o-1}}return null}}},"./src/utils/buffer-helper.js":
/*!************************************!*\
  !*** ./src/utils/buffer-helper.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.isBuffered=function(e,t){try{if(e)for(var n=e.buffered,r=0;r<n.length;r++)if(t>=n.start(r)&&t<=n.end(r))return!0}catch(e){}return!1},e.bufferInfo=function(e,t,n){try{if(e){var r=e.buffered,o=[],i=void 0;for(i=0;i<r.length;i++)o.push({start:r.start(i),end:r.end(i)});return this.bufferedInfo(o,t,n)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,n){var r,o,i,a,s,l=[];for(e.sort((function(e,t){var n=e.start-t.start;return n||t.end-e.end})),s=0;s<e.length;s++){var u=l.length;if(u){var c=l[u-1].end;e[s].start-c<n?e[s].end>c&&(l[u-1].end=e[s].end):l.push(e[s])}else l.push(e[s])}for(s=0,r=0,o=i=t;s<l.length;s++){var f=l[s].start,d=l[s].end;if(t+n>=f&&t<d)o=f,r=(i=d)-t;else if(t+n<f){a=f;break}}return{len:r,start:o,end:i,nextStart:a}},e}();t.BufferHelper=r},"./src/utils/cea-608-parser.js":
/*!*************************************!*\
  !*** ./src/utils/cea-608-parser.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},o=function(e){var t=e;return r.hasOwnProperty(e)&&(t=r[e]),String.fromCharCode(t)},i={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},a={17:2,18:4,21:6,22:8,23:10,19:13,20:15},s={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},l={25:2,26:4,29:6,30:8,31:10,27:13,28:15},u=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],c={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e],this.verboseLevel}},f=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},d=function(){function e(e,t,n,r,o){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=o||!1}return e.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},e.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},e.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},e.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),p=function(){function e(e,t,n,r,o,i){this.uchar=e||" ",this.penState=new d(t,n,r,o,i)}return e.prototype.reset=function(){this.uchar=" ",this.penState.reset()},e.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},e.prototype.setPenState=function(e){this.penState.copy(e)},e.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},e.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},e.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),h=function(){function e(){this.chars=[];for(var e=0;e<100;e++)this.chars.push(new p);this.pos=0,this.currPenState=new d}return e.prototype.equals=function(e){for(var t=!0,n=0;n<100;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<100;t++)this.chars[t].copy(e.chars[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<100;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},e.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(c.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(c.log("ERROR","Too large cursor position "+this.pos),this.pos=100)},e.prototype.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},e.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.prototype.insertChar=function(e){e>=144&&this.backSpace();var t=o(e);this.pos>=100?c.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},e.prototype.clearFromPos=function(e){var t;for(t=e;t<100;t++)this.chars[t].reset()},e.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.prototype.getTextString=function(){for(var e=[],t=!0,n=0;n<100;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},e.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),g=function(){function e(){this.rows=[];for(var e=0;e<15;e++)this.rows.push(new h);this.currRow=14,this.nrRollUpRows=null,this.reset()}return e.prototype.reset=function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},e.prototype.equals=function(e){for(var t=!0,n=0;n<15;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},e.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},e.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},e.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},e.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},e.prototype.setCursor=function(e){c.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},e.prototype.setPAC=function(e){c.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<15;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){var i=o.rows[r].cueStartTime;if(i&&i<c.time)for(n=0;n<this.nrRollUpRows;n++)this.rows[t-this.nrRollUpRows+n+1].copy(o.rows[r+n])}}this.currRow=t;var a=this.rows[this.currRow];if(null!==e.indent){var s=e.indent,l=Math.max(s-1,0);a.setCursor(e.indent),e.color=a.chars[l].penState.foreground}var u={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(u)},e.prototype.setBkgData=function(e){c.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},e.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},e.prototype.rollUp=function(){if(null!==this.nrRollUpRows){c.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),c.log("INFO","Rolling up")}else c.log("DEBUG","roll_up but nrRollUpRows not set yet")},e.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],n="",r=-1,o=0;o<15;o++){var i=this.rows[o].getTextString();i&&(r=o+1,e?t.push("Row "+r+": '"+i+"'"):t.push(i.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},e.prototype.getTextAndFormat=function(){return this.rows},e}(),m=function(){function e(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new g,this.nonDisplayedMemory=new g,this.lastOutputScreen=new g,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return e.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},e.prototype.getHandler=function(){return this.outputFilter},e.prototype.setHandler=function(e){this.outputFilter=e},e.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},e.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},e.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,c.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},e.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";c.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(c.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.prototype.ccRCL=function(){c.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.prototype.ccBS=function(){c.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.prototype.ccAOF=function(){},e.prototype.ccAON=function(){},e.prototype.ccDER=function(){c.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.prototype.ccRU=function(e){c.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},e.prototype.ccFON=function(){c.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.prototype.ccRDC=function(){c.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.prototype.ccTR=function(){c.log("INFO","TR"),this.setMode("MODE_TEXT")},e.prototype.ccRTD=function(){c.log("INFO","RTD"),this.setMode("MODE_TEXT")},e.prototype.ccEDM=function(){c.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.prototype.ccCR=function(){c.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.prototype.ccENM=function(){c.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.prototype.ccEOC=function(){if(c.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,c.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.prototype.ccTO=function(e){c.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},e.prototype.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}c.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},e.prototype.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=c.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},e.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),v=function(){function e(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new m(1,t),new m(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return e.prototype.getHandler=function(e){return this.channels[e].getHandler()},e.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},e.prototype.addData=function(e,t){var n,r,o,i=!1;this.lastTime=e,c.setTime(e);for(var a=0;a<t.length;a+=2)r=127&t[a],o=127&t[a+1],0!==r||0!==o?(c.log("DATA","["+f([t[a],t[a+1]])+"] -> ("+f([r,o])+")"),(n=this.parseCmd(r,o))||(n=this.parseMidrow(r,o)),n||(n=this.parsePAC(r,o)),n||(n=this.parseBackgroundAttributes(r,o)),n||(i=this.parseChars(r,o))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(i):c.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:i?this.dataCounters.char+=2:(this.dataCounters.other+=2,c.log("WARNING","Couldn't parse cleaned data "+f([r,o])+" orig: "+f([t[a],t[a+1]])))):this.dataCounters.padding+=2},e.prototype.parseCmd=function(e,t){var n=null;if(!((20===e||28===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=33&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,c.log("DEBUG","Repeated command ("+f([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var r=this.channels[n-1];return 20===e||28===e?32===t?r.ccRCL():33===t?r.ccBS():34===t?r.ccAOF():35===t?r.ccAON():36===t?r.ccDER():37===t?r.ccRU(2):38===t?r.ccRU(3):39===t?r.ccRU(4):40===t?r.ccFON():41===t?r.ccRDC():42===t?r.ccTR():43===t?r.ccRTD():44===t?r.ccEDM():45===t?r.ccCR():46===t?r.ccENM():47===t&&r.ccEOC():r.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},e.prototype.parseMidrow=function(e,t){var n=null;return(17===e||25===e)&&t>=32&&t<=47&&((n=17===e?1:2)!==this.currChNr?(c.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(t),c.log("DEBUG","MIDROW ("+f([e,t])+")"),!0))},e.prototype.parsePAC=function(e,t){var n,r=null;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127||(16===e||24===e)&&t>=64&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=e<=23?1:2,r=t>=64&&t<=95?1===n?i[e]:s[e]:1===n?a[e]:l[e];var o=this.interpretPAC(r,t);return this.channels[n-1].setPAC(o),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},e.prototype.interpretPAC=function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},e.prototype.parseChars=function(e,t){var n=null,r=null,i=null;if(e>=25?(n=2,i=e-8):(n=1,i=e),i>=17&&i<=19){var a=t;a=17===i?t+80:18===i?t+112:t+144,c.log("INFO","Special char '"+o(a)+"' in channel "+n),r=[a]}else e>=32&&e<=127&&(r=0===t?[e]:[e,t]);if(r){var s=f(r);c.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r},e.prototype.parseBackgroundAttributes=function(e,t){var n,r,o;return((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=u[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),o=e<24?1:2,this.channels[o-1].setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)},e.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},e.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}();t.default=v},"./src/utils/codecs.js":
/*!*****************************!*\
  !*** ./src/utils/codecs.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};t.isCodecType=function(e,t){var n=r[t];return!!n&&!0===n[e.slice(0,4)]},t.isCodecSupportedInMp4=function(e,t){return window.MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.js":
/*!***************************!*\
  !*** ./src/utils/cues.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./vttparser */"./src/utils/vttparser.js");t.newCue=function(e,t,n,o){for(var i,a,s,l,u,c=window.VTTCue||window.TextTrackCue,f=0;f<o.rows.length;f++)if(s=!0,l=0,u="",!(i=o.rows[f]).isEmpty()){for(var d=0;d<i.chars.length;d++)i.chars[d].uchar.match(/\s/)&&s?l++:(u+=i.chars[d].uchar,s=!1);i.cueStartTime=t,t===n&&(n+=1e-4),a=new c(t,n,r.fixLineBreaks(u.trim())),l>=16?l--:l++,navigator.userAgent.match(/Firefox\//)?a.line=f+1:a.line=f>7?f-2:f+1,a.align="left",a.position=Math.max(0,Math.min(100,l/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(a)}}},"./src/utils/discontinuities.js":
/*!**************************************!*\
  !*** ./src/utils/discontinuities.js ***!
  \**************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./binary-search */"./src/utils/binary-search.js"),o=n(/*! ../utils/logger */"./src/utils/logger.js");function i(e,t){for(var n=null,r=0;r<e.length;r+=1){var o=e[r];if(o&&o.cc===t){n=o;break}}return n}function a(e,t,n){var r=!1;return t&&t.details&&n&&(n.endCC>n.startCC||e&&e.cc<n.startCC)&&(r=!0),r}function s(e,t){var n=e.fragments,r=t.fragments;if(r.length&&n.length){var a=i(n,r[0].cc);if(a&&(!a||a.startPTS))return a;o.logger.log("No frag in previous level to align on")}else o.logger.log("No fragments to align")}function l(e,t){t.fragments.forEach((function(t){if(t){var n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}})),t.PTSKnown=!0}function u(e,t,n){if(a(e,n,t)){var r=s(n.details,t);r&&(o.logger.log("Adjusting PTS using last level due to CC increase within current level"),l(r.start,t))}}function c(t,n){if(n&&n.fragments.length){if(!t.hasProgramDateTime||!n.hasProgramDateTime)return;var r=n.fragments[0].programDateTime,i=(t.fragments[0].programDateTime-r)/1e3+n.fragments[0].start;e.isFinite(i)&&(o.logger.log("adjusting PTS using programDateTime delta, sliding:"+i.toFixed(3)),l(i,t))}}t.findFirstFragWithCC=i,t.findFragWithCC=function(e,t){return r.default.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))},t.shouldAlignOnDiscontinuities=a,t.findDiscontinuousReferenceFrag=s,t.adjustPts=l,t.alignStream=function(e,t,n){u(e,n,t),!n.PTSKnown&&t&&c(n,t.details)},t.alignDiscontinuities=u,t.alignPDT=c}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/ewma-bandwidth-estimator.js":
/*!***********************************************!*\
  !*** ./src/utils/ewma-bandwidth-estimator.js ***!
  \***********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/ewma */"./src/utils/ewma.js"),o=function(){function e(e,t,n,o){this.hls=e,this.defaultEstimate_=o,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(t),this.fast_=new r.default(n)}return e.prototype.sample=function(e,t){var n=8e3*t/(e=Math.max(e,this.minDelayMs_)),r=e/1e3;this.fast_.sample(r,n),this.slow_.sample(r,n)},e.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},e.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.prototype.destroy=function(){},e}();t.default=o},"./src/utils/ewma.js":
/*!***************************!*\
  !*** ./src/utils/ewma.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return e.prototype.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},e.prototype.getTotalWeight=function(){return this.totalWeight_},e.prototype.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}();t.default=r},"./src/utils/get-self-scope.js":
/*!*************************************!*\
  !*** ./src/utils/get-self-scope.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelfScope=function(){return"undefined"==typeof window?self:window}},"./src/utils/logger.js":
/*!*****************************!*\
  !*** ./src/utils/logger.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./get-self-scope */"./src/utils/get-self-scope.js");function o(){}var i={trace:o,debug:o,log:o,warn:o,info:o,error:o},a=i;function s(e,t){return t="["+e+"] > "+t}var l=r.getSelfScope();function u(e){var t=l.console[e];return t?function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n[0]&&(n[0]=s(e,n[0])),t.apply(l.console,n)}:o}t.enableLogs=function(e){if(!0===e||"object"==typeof e){!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach((function(t){a[t]=e[t]?e[t].bind(e):u(t)}))}(e,"debug","log","info","warn","error");try{a.log()}catch(e){a=i}}else a=i},t.logger=a},"./src/utils/mediakeys-helper.js":
/*!***************************************!*\
  !*** ./src/utils/mediakeys-helper.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;t.requestMediaKeySystemAccess=r},"./src/utils/mediasource-helper.js":
/*!*****************************************!*\
  !*** ./src/utils/mediasource-helper.js ***!
  \*****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMediaSource=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},"./src/utils/output-filter.js":
/*!************************************!*\
  !*** ./src/utils/output-filter.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.timelineController=e,this.trackName=t,this.startTime=null,this.endTime=null,this.screen=null}return e.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},e.prototype.newCue=function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},e}();t.default=r},"./src/utils/texttrack-utils.js":
/*!**************************************!*\
  !*** ./src/utils/texttrack-utils.js ***!
  \**************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddTrackEvent=function(e,t){var n=null;try{n=new window.Event("addtrack")}catch(e){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)},t.clearCurrentCues=function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},"./src/utils/time-ranges.js":
/*!**********************************!*\
  !*** ./src/utils/time-ranges.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={toString:function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}}},"./src/utils/vttcue.js":
/*!*****************************!*\
  !*** ./src/utils/vttcue.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var e={"":!0,lr:!0,rl:!0},t={start:!0,middle:!0,end:!0,left:!0,right:!0};function n(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function o(t,o,i){var a=this,s=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),l={};s?a=document.createElement("custom"):l.enumerable=!0,a.hasBeenReset=!1;var u="",c=!1,f=t,d=o,p=i,h=null,g="",m=!0,v="auto",y="start",b=50,A="middle",C=50,I="middle";if(Object.defineProperty(a,"id",r({},l,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(a,"pauseOnExit",r({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(a,"startTime",r({},l,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",r({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",r({},l,{get:function(){return p},set:function(e){p=""+e,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",r({},l,{get:function(){return h},set:function(e){h=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",r({},l,{get:function(){return g},set:function(t){var n=function(t){return"string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");g=n,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",r({},l,{get:function(){return m},set:function(e){m=!!e,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",r({},l,{get:function(){return v},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",r({},l,{get:function(){return y},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",r({},l,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",r({},l,{get:function(){return A},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");A=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",r({},l,{get:function(){return C},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");C=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",r({},l,{get:function(){return I},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");I=t,this.hasBeenReset=!0}})),a.displayState=void 0,s)return a}return o.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},o}()},"./src/utils/vttparser.js":
/*!********************************!*\
  !*** ./src/utils/vttparser.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./vttcue */"./src/utils/vttcue.js"),o=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};function i(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new o,this.regionList=[]}function a(){this.values=Object.create(null)}function s(e,t,n,r){var o=r?e.split(r):[e];for(var i in o)if("string"==typeof o[i]){var a=o[i].split(n);2===a.length&&t(a[0],a[1])}}a.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l=new r.default(0,0,0),u="middle"===l.align?"middle":"center";function c(e,t,n){var r=e;function o(){var t=function(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function i(){e=e.replace(/^\s+/,"")}if(i(),t.startTime=o(),i(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),i(),t.endTime=o(),i(),function(e,t){var r=new a;s(e,(function(e,t){switch(e){case"region":for(var o=n.length-1;o>=0;o--)if(n[o].id===t){r.set(e,n[o].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),a=i[0];r.integer(e,a),r.percent(e,a)&&r.set("snapToLines",!1),r.alt(e,a,["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",u,"end"]);break;case"position":i=t.split(","),r.percent(e,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",u,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",u,"end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var o=r.get("line","auto");"auto"===o&&-1===l.line&&(o=-1),t.line=o,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",u);var i=r.get("position","auto");"auto"===i&&50===l.position&&(i="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=i}(e,t)}function f(e){return e.replace(/<br(?: \/)?>/gi,"\n")}t.fixLineBreaks=f,i.prototype={parse:function(e){var t=this;function n(){var e=t.buffer,n=0;for(e=f(e);n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var o=void 0;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i=(o=n()).match(/^(Ã¯Â»Â¿)?WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:o=n(),t.state){case"HEADER":/:/.test(o)?s(o,(function(e,t){}),/:/):o||(t.state="ID");continue;case"NOTE":o||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){t.state="NOTE";break}if(!o)continue;if(t.cue=new r.default(0,0,""),t.state="CUE",-1===o.indexOf("--\x3e")){t.cue.id=o;continue}case"CUE":try{c(o,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var l=-1!==o.indexOf("--\x3e");if(!o||l&&(a=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=o;continue;case"BADCUE":o||(t.state="ID");continue}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}},t.default=i},"./src/utils/webvtt-parser.js":
/*!************************************!*\
  !*** ./src/utils/webvtt-parser.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./vttparser */"./src/utils/vttparser.js"),o=n(/*! ../demux/id3 */"./src/demux/id3.js"),i=function(e,t,n){return e.substr(n||0,t.length)===t},a=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()},s={parse:function(t,n,s,l,u,c){var f,d=o.utf8ArrayToStr(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),p="00:00.000",h=0,g=0,m=0,v=[],y=!0,b=new r.default;b.oncue=function(e){var t=s[l],n=s.ccOffset;t&&t.new&&(void 0!==g?n=s.ccOffset=t.start:function(e,t,n){var r=e[t],o=e[r.prevCC];if(!o||!o.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;o&&o.new;)e.ccOffset+=r.start-o.start,r.new=!1,o=e[(r=o).prevCC];e.presentationOffset=n}(s,l,m)),m&&(n=m-s.presentationOffset),e.startTime+=n-g,e.endTime+=n-g,e.id=a(e.startTime.toString())+a(e.endTime.toString())+a(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&v.push(e)},b.onparsingerror=function(e){f=e},b.onflush=function(){f&&c?c(f):u(v)},d.forEach((function(t){if(y){if(i(t,"X-TIMESTAMP-MAP=")){y=!1,t.substr(16).split(",").forEach((function(e){i(e,"LOCAL:")?p=e.substr(6):i(e,"MPEGTS:")&&(h=parseInt(e.substr(7)))}));try{n+(9e4*s[l].start||0)<0&&(n+=8589934592),h-=n,r=p,o=parseInt(r.substr(-3)),a=parseInt(r.substr(-6,2)),u=parseInt(r.substr(-9,2)),c=r.length>9?parseInt(r.substr(0,r.indexOf(":"))):0,g=(e.isFinite(o)&&e.isFinite(a)&&e.isFinite(u)&&e.isFinite(c)?(o+=1e3*a,o+=6e4*u,o+=36e5*c):-1)/1e3,m=h/9e4,-1===g&&(f=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){f=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(y=!1)}var r,o,a,u,c;b.parse(t+"\n")})),b.flush()}};t.default=s}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/xhr-loader.js":
/*!*********************************!*\
  !*** ./src/utils/xhr-loader.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/logger */"./src/utils/logger.js"),o=window.performance,i=window.XMLHttpRequest,a=function(){function e(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return e.prototype.destroy=function(){this.abort(),this.loader=null},e.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.prototype.load=function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.stats={trequest:o.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},e.prototype.loadInternal=function(){var e,t=this.context;e=this.loader=new i;var n=this.stats;n.tfirst=0,n.loaded=0;var r=this.xhrSetup;try{if(r)try{r(e,t.url)}catch(n){e.open("GET",t.url,!0),r(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(n){return void this.callbacks.onError({code:e.status,text:n.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},e.prototype.readystatechange=function(e){var t=e.currentTarget,n=t.readyState,i=this.stats,a=this.context,s=this.config;if(!i.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(o.now(),i.trequest)),4===n){var l=t.status;if(l>=200&&l<300){i.tload=Math.max(i.tfirst,o.now());var u=void 0,c=void 0;c="arraybuffer"===a.responseType?(u=t.response).byteLength:(u=t.responseText).length,i.loaded=i.total=c;var f={url:t.responseURL,data:u};this.callbacks.onSuccess(f,i,a,t)}else i.retry>=s.maxRetry||l>=400&&l<499?(r.logger.error(l+" while loading "+a.url),this.callbacks.onError({code:l,text:t.statusText},a,t)):(r.logger.warn(l+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)},e.prototype.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.prototype.loadprogress=function(e){var t=e.currentTarget,n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total);var r=this.callbacks.onProgress;r&&r(n,this.context,null,t)},e}();t.default=a}}).default},e.exports=r())},function(e,t,n){var r=n(23);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},o=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],i=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],a=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],s="undefined"!=typeof window&&void 0!==window.document?window.document:{},l="fullscreenEnabled"in s&&Object.keys(r)||o[0]in s&&o||i[0]in s&&i||a[0]in s&&a||[];t.default={requestFullscreen:function(e){return e[l[r.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[l[r.requestFullscreen]]},get exitFullscreen(){return s[l[r.exitFullscreen]].bind(s)},get fullscreenPseudoClass(){return":"+l[r.fullscreen]},addEventListener:function(e,t,n){return s.addEventListener(l[r[e]],t,n)},removeEventListener:function(e,t,n){return s.removeEventListener(l[r[e]],t,n)},get fullscreenEnabled(){return Boolean(s[l[r.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return s[l[r.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return s[("on"+l[r.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return s[("on"+l[r.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return s[("on"+l[r.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return s[("on"+l[r.fullscreenerror]).toLowerCase()]=e}}},function(e,t,n){var r=n(7),o=n(5),i=n(61),a=n(68),s=n(18),l=n(10),u=Object.prototype.hasOwnProperty,c=i((function(e,t){if(s(t)||a(t))o(t,l(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])}));e.exports=c},function(e,t,n){var r=n(72);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},function(e,t,n){var r=n(7),o=n(15);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?o(n,u,c):r(n,u,c)}return n}},function(e,t,n){var r=n(14);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(15),o=n(14),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(11)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(9),o=n(24),i=n(26),a=n(28);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(37);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(29);e.exports=function(e){return r(e,5)}},function(e,t,n){var r,o;!function(i,a){"use strict";void 0===(o="function"==typeof(r=function(){var e=function(){},t="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function r(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function i(n){return"debug"===n&&(n="log"),"undefined"!=typeof console&&("trace"===n&&t?o:void 0!==console[n]?r(console,n):void 0!==console.log?r(console,"log"):e)}function a(t,r){for(var o=0;o<n.length;o++){var i=n[o];this[i]=o<t?e:this.methodFactory(i,t,r)}this.log=this.debug}function s(e,t,n){return function(){"undefined"!=typeof console&&(a.call(this,t,n),this[e].apply(this,arguments))}}function l(e,t,n){return i(e)||s.apply(this,arguments)}function u(e,t,r){var o,i=this,s="loglevel";function u(){var e;if("undefined"!=typeof window&&s){try{e=window.localStorage[s]}catch(e){}if(void 0===e)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(s)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===i.levels[e]&&(e=void 0),e}}"string"==typeof e?s+=":"+e:"symbol"==typeof e&&(s=void 0),i.name=e,i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},i.methodFactory=r||l,i.getLevel=function(){return o},i.setLevel=function(t,r){if("string"==typeof t&&void 0!==i.levels[t.toUpperCase()]&&(t=i.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=i.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(o=t,!1!==r&&function(e){var t=(n[e]||"silent").toUpperCase();if("undefined"!=typeof window&&s){try{return void(window.localStorage[s]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(s)+"="+t+";"}catch(e){}}}(t),a.call(i,t,e),"undefined"==typeof console&&t<i.levels.SILENT)return"No console available for logging"},i.setDefaultLevel=function(e){u()||i.setLevel(e,!1)},i.enableAll=function(e){i.setLevel(i.levels.TRACE,e)},i.disableAll=function(e){i.setLevel(i.levels.SILENT,e)};var c=u();null==c&&(c=null==t?"WARN":t),i.setLevel(c,!1)}var c=new u,f={};c.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new u(e,c.getLevel(),c.methodFactory)),t};var d="undefined"!=typeof window?window.log:void 0;return c.noConflict=function(){return"undefined"!=typeof window&&window.log===c&&(window.log=d),c},c.getLoggers=function(){return f},c.default=c,c})?r.call(t,n,t,e):r)||(e.exports=o)}()},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&l()}function s(){i(a)}function l(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},c=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},f=v(0,0,0,0);function d(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}function h(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=c(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=d(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=d(r.width),l=d(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=p(r,"left","right")+i),Math.round(l+a)!==n&&(l-=p(r,"top","bottom")+a)),!function(e){return e===c(e).document.documentElement}(e)){var u=Math.round(s+i)-t,h=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(h)&&(l-=h)}return v(o.left,o.top,s,l)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof c(e).SVGGraphicsElement}:function(e){return e instanceof c(e).SVGElement&&"function"==typeof e.getBBox};function m(e){return r?g(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):h(e):f}function v(e,t,n,r){return{x:e,y:t,width:n,height:r}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n,r,o,i,a,s,l,c=(r=(n=t).x,o=n.y,i=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),u(l,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),l);u(this,{target:e,contentRect:c})},A=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),C="undefined"!=typeof WeakMap?new WeakMap:new n,I=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new A(t,n,this);C.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){I.prototype[e]=function(){var t;return(t=C.get(this))[e].apply(t,arguments)}}));var _=void 0!==o.ResizeObserver?o.ResizeObserver:I;t.a=_}).call(this,n(17))},,function(e,t,n){var r=n(12),o=n(13);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(9),o=n(25),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(27),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(30),o=n(36),i=n(7),a=n(39),s=n(40),l=n(41),u=n(45),c=n(46),f=n(48),d=n(50),p=n(51),h=n(52),g=n(53),m=n(54),v=n(55),y=n(9),b=n(58),A=n(59),C=n(8),I=n(60),_=n(10),E=n(16),w={};w["[object Arguments]"]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object DataView]"]=w["[object Boolean]"]=w["[object Date]"]=w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Map]"]=w["[object Number]"]=w["[object Object]"]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object Symbol]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Error]"]=w["[object Function]"]=w["[object WeakMap]"]=!1,e.exports=function e(t,n,S,T,k,x){var P,O=1&n,L=2&n,D=4&n;if(S&&(P=k?S(t,T,k,x):S(t)),void 0!==P)return P;if(!C(t))return t;var j=y(t);if(j){if(P=g(t),!O)return u(t,P)}else{var R=h(t),M="[object Function]"==R||"[object GeneratorFunction]"==R;if(b(t))return l(t,O);if("[object Object]"==R||"[object Arguments]"==R||M&&!k){if(P=L||M?{}:v(t),!O)return L?f(t,s(P,t)):c(t,a(P,t))}else{if(!w[R])return k?t:{};P=m(t,R,O)}}x||(x=new r);var N=x.get(t);if(N)return N;x.set(t,P),I(t)?t.forEach((function(r){P.add(e(r,n,S,r,t,x))})):A(t)&&t.forEach((function(r,o){P.set(o,e(r,n,S,o,t,x))}));var F=j?void 0:(D?L?p:d:L?E:_)(t);return o(F||t,(function(r,o){F&&(r=t[o=r]),i(P,o,e(r,n,S,o,t,x))})),P}},function(e,t,n){var r=n(31),o=n(32),i=n(33),a=n(34),s=n(35);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(6),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(6);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(6);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(6);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(38),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(5),o=n(10);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(5),o=n(16);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){(function(e){var r=n(43),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(42)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(44),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(17))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(5),o=n(47);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(5),o=n(49);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(11)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(56),o=n(57),i=n(18);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(8),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(11)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(62),o=n(67);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}},function(e,t,n){var r=n(63),o=n(64),i=n(66);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(65),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(l),r(e,this,u)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(69),o=n(71);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(70),o=n(8);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(7),o=n(12),i=n(73),a=n(8),s=n(13);e.exports=function(e,t,n,l){if(!a(e))return e;for(var u=-1,c=(t=o(t,e)).length,f=c-1,d=e;null!=d&&++u<c;){var p=s(t[u]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(u!=f){var g=d[p];void 0===(h=l?l(g,p,d):void 0)&&(h=a(g)?g:i(t[u+1])?[]:{})}r(d,p,h),d=d[p]}return e}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){"use strict";n.r(t),n.d(t,"MediaPlayer",(function(){return Kt})),n.d(t,"MediaItem",(function(){return ze})),n.d(t,"PlayerType",(function(){return c})),n.d(t,"MediaPlayerConfig",(function(){return tt})),n.d(t,"PlayerTypeConfig",(function(){return $e})),n.d(t,"HLSJSPlayerConfig",(function(){return Oe})),n.d(t,"MediaConfigUtil",(function(){return Ze})),n.d(t,"Log",(function(){return s})),n.d(t,"AbstractPlugin",(function(){return Xt})),n.d(t,"PluginType",(function(){return Zt})),n.d(t,"MediaPlayerEvents",(function(){return E})),n.d(t,"PluginEvents",(function(){return qt})),n.d(t,"Messages",(function(){return Y})),n.d(t,"FeatureDetection",(function(){return Z}));var r=n(1),o=n.n(r),i=n(19),a=n.n(i),s=n(20),l=n(4),u=n.n(l),c={HTML5:"HTML5",HLSJS:"HLSJS"},f=n(2),d=n.n(f),p=n(21);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaPlayerConfig=t,this.playerTypeConfig=t.playerTypeConfig,this.parentEl=void 0,this.videoEl=void 0,this.observationCenter=n}var t,n,r;return t=e,(n=[{key:"initPlayer",value:function(e){throw new Error("Implement initPlayer()")}},{key:"findParentElement",value:function(){throw new Error("Implement findParentElement()")}},{key:"createPlayerElement",value:function(){throw new Error("Implement createPlayerElement()")}},{key:"attachPlayerElement",value:function(){throw new Error("Implement attachPlayerElement()")}},{key:"open",value:function(e){throw new Error("Implement open(media) ".concat(e))}},{key:"replay",value:function(){throw new Error("Implement replay()")}},{key:"stop",value:function(){throw new Error("Implement stop()")}},{key:"canPlay",value:function(e){throw new Error("Implement canPlay(src)")}},{key:"setPoster",value:function(e){throw new Error("Implement setPoster(imgUrl) ".concat(e))}},{key:"play",value:function(){throw new Error("Implement play()")}},{key:"pause",value:function(){throw new Error("Implement pause()")}},{key:"seek",value:function(){throw new Error("Implement seek()")}},{key:"mute",value:function(){throw new Error("Implement mute()")}},{key:"unMute",value:function(){throw new Error("Implement unMute()")}},{key:"setIsAdPlaying",value:function(e){throw new Error("Implement setIsAdPlaying(value)")}},{key:"log",value:function(e){throw new Error("Implement log(message) ".concat(e))}},{key:"getPlayerId",value:function(){throw new Error("Implement getPlayerId()")}},{key:"toString",value:function(){throw new Error("Implement toString()")}}])&&h(t.prototype,n),r&&h(t,r),e}(),m={MEDIA_PLAYER_CREATED:"MEDIA_PLAYER_CREATED",MEDIA_PLAYER_INITIALIZED:"MEDIA_PLAYER_INITIALIZED",MEDIA_REPLAY:"MEDIA_REPLAY",MEDIA_STOP:"MEDIA_STOP",PLAYER_RESIZED:"PLAYER_RESIZED",MEDIA_ITEM_SET:"MEDIA_ITEM_SET"},v={DURATION_CHANGE:"durationchange",MEDIA_COMPLETE:"ended",MEDIA_LOAD_START:"loadstart",CANPLAY:"canplay",MEDIA_LOADED_DATA:"loadeddata",MEDIA_LOADED_META:"loadedmetadata",MEDIA_START:"play",MEDIA_PAUSE:"pause",MEDIA_PLAYING:"playing",MEDIA_RESUME:"resume",MEDIA_SEEKING:"seeking",MEDIA_SEEKED:"seeked",MEDIA_STALLED:"stalled",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",TEXT_TRACKS_AVAILABLE:"texttracksavailable",TEXT_TRACK_ENABLED:"texttrackenabled",TEXT_TRACK_DISABLED:"texttrackdisabled",PROGRESS:"progress",WAITING:"waiting",ABORT:"abort",CANPLAYTHROUGH:"canplaythrough",EMPTIED:"emptied",HTML5_ERROR:"error",INTERRUPTBEGIN:"interruptbegin",INTERRUPTEND:"interruptend",RATECHANGE:"ratechange",SUSPEND:"suspend"},y=n(0),b=n.n(y);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=C(C({},v),b.a.Events),E={HTML5:v,MEDIA_PLAYER:m,HLSJS:_};function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var S=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;w(this,e),this.type=t,this.mediaPlayer=n,this.data=r};function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(n,e);var t=x(n);function n(e,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).event=r,o}return n}(S);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(n,e);var t=R(n);function n(e,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).plugin=r,o}return n}(S);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(n,e);var t=G(n);function n(e,r,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(i=t.call(this,e)).event=r,i.stateModel=o,i}return n}(S);W.PLAYER_STATE_UPDATE="PLAYER_STATE_UPDATE",W.PLAYER_TIME_STATE_UPDATE="PLAYER_TIME_STATE_UPDATE",W.RESET_PLAYER_STATE="RESET_PLAYER_STATE";var Y={BaseMessage:S,EventMessage:L,PluginReadyMessage:F,StateEventMessage:W};function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var K=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.objectPrefix="object!",this.sessionStorageAvailable=!0;try{sessionStorage.setItem("video-player-test",!0),sessionStorage.removeItem("video-player-test")}catch(e){this.sessionStorageAvailable=!1}this.sessionCache=[]}var t,n,r;return t=e,(n=[{key:"set",value:function(e,t){"string"!=typeof t&&(t=this.objectPrefix+JSON.stringify(t)),this.sessionStorageAvailable?sessionStorage.setItem(e,t):u()(this.sessionCache,e,t)}},{key:"get",value:function(e){var t;return(t=this.sessionStorageAvailable?sessionStorage.getItem(e):o()(this.sessionCache,e,null))&&0===t.indexOf(this.objectPrefix)&&(t=JSON.parse(t.substr(this.objectPrefix.length))),t}},{key:"remove",value:function(e){this.sessionStorageAvailable?sessionStorage.removeItem(e):u()(this.sessionCache,e,void 0)}},{key:"clear",value:function(){this.sessionStorageAvailable?sessionStorage.clear():this.sessionCache={}}}])&&z(t.prototype,n),r&&z(t,r),e}());function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sessionCache={}}var t,n,r;return t=e,(n=[{key:"setCachedFeature",value:function(e,t){K.set(e,t)}},{key:"getCachedFeature",value:function(e){return K.get(e)}},{key:"testAutoPlay",value:function(e,t){var n=this,r="autoplay-".concat(e?"muted":"unmuted"),o=this.getCachedFeature(r);if(o)return o;var i,a=(new Date).getTime(),s=["position: absolute","left: 0","bottom: 0","width: 1px","height: 1px"].join(";"),l=document.createElement("video");l.setAttribute("id","autoPlayVideoPlayerTest_".concat(a)),l.setAttribute("src",t||"https://www.mlbstatic.com/mlb.com/mlbtv/video/autoplay-test.mp4"),l.setAttribute("style",s),l.setAttribute("crossOrigin","anonymous"),l.setAttribute("playsinline",!0),l.muted=e,l.controls=!1,l.autoplay=!1,l.loop=!1,document.body.appendChild(l),l.volume=e?0:.1;try{i=l.play().then((function(){return!0}))}catch(e){i=Promise.resolve(!0),this.removeChildNode(l)}return i.then((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n.removeChildNode(l),n.setCachedFeature(r,e),Promise.resolve(e)})).catch((function(){return n.removeChildNode(l),!1}))}},{key:"removeChildNode",value:function(e){var t=e.parentNode;t&&t.removeChild(e)}},{key:"testHTML5Autoplay",value:function(e){return Promise.all([this.testAutoPlay(!1,e),this.testAutoPlay(!0,e)]).then((function(e){var t=q(e,2);return{regular:t[0],muted:t[1]}}))}}])&&X(t.prototype,n),r&&X(t,r),e}());function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.playing=!1,this.paused=!0,this.stopped=!0,this.loading=!1,this.mediaStarted=!1,this.volume={value:1,muted:!1,lastValue:1},this.bufferedValue=0,this.isAdPlaying=!1,this.isFullscreenEnabled=!0,this.isFullscreen=!1,this.closedCaptions={},this.closedCaptionsActive=!1,this.isAudioOnly=!1,this.selectedAudioTrack=void 0,this.selectedBitRate=-1}var t,n,r;return t=e,(n=[{key:"reset",value:function(){this.playing=!1,this.paused=!0}},{key:"setLoadingState",value:function(e){this.loading=e}},{key:"setMediaStartState",value:function(e,t){this.playing=!0,this.paused=!1,this.stopped=!1,this.mediaStarted=!0,this.volume.value=e||this.volume.value,this.volume.muted=t||this.volume.muted}},{key:"setMediaPauseState",value:function(){this.playing=!1,this.paused=!0,this.stopped=!1}},{key:"setMediaCompleteState",value:function(){this.playing=!1,this.paused=!0,this.stopped=!0}},{key:"setVolumeChangeState",value:function(e,t){this.volume.lastValue=this.volume.value,this.volume.value=e,this.volume.muted=t}},{key:"setFullscreenChangeState",value:function(e,t){this.isFullscreen=e,this.isFullscreenEnabled=t}},{key:"setIsAdPlayingState",value:function(e){this.isAdPlaying=e}},{key:"setClosedCaptions",value:function(e){this.closedCaptions=e||{}}},{key:"setClosedCaptionsActiveState",value:function(e){this.closedCaptionsActive=e}}])&&Q(t.prototype,n),r&&Q(t,r),e}();function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var te=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isLive=!1,this.isAtLivePoint=!1,this.seekableRange={start:0,end:0},this.currentTime=0,this.duration=0,this.bufferedValue=0,this.seeking=!1}var t,n,r;return t=e,(n=[{key:"setMediaSeekedState",value:function(){this.seeking=!1}},{key:"setMediaSeekingState",value:function(){this.seeking=!0}},{key:"setMediaTimeupdateState",value:function(e){this.currentTime=e,this.isLive&&this.updateIsAtLivePoint()}},{key:"setMediaDurationChangeState",value:function(e){this.duration=e,this.updateSeekableRange(this.duration),this.isLive&&this.updateIsAtLivePoint()}},{key:"setLevelLoadedState",value:function(e,t,n){this.isLive=e,this.targetduration=t,this.seekableRange.start=n}},{key:"updateSeekableRange",value:function(e){this.isLive?this.seekableRange.end=e-3*this.targetduration:this.seekableRange.end=e}},{key:"updateIsAtLivePoint",value:function(){this.isAtLivePoint=this.seekableRange.end-this.currentTime<8}}])&&ee(t.prototype,n),r&&ee(t,r),e}();function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var o=le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?se(e):t}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(a,e);var t,n,r,i=ie(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).log("BasePlayer constructor",e),n.onPlayerResize=n.onPlayerResize.bind(se(n)),n.stateModel=new J,n.timeStateModel=new te,n.resizeObserver=new p.a(n.onPlayerResize),n.subscriptions=[],n.currentMediaItem=void 0,n}return t=a,(n=[{key:"getPlayerId",value:function(){return this.playerTypeConfig.domTarget}},{key:"detectFeatures",value:function(e){var t=this;return this.log("Detect features"),Z.testHTML5Autoplay(e).then((function(e){t.log("features",e),t.features={autoplay:e}}))}},{key:"initPlayer",value:function(e){var t=this;return this.detectFeatures(e).then((function(){t.setAutoplayConfig(),t.findParentElement(),t.createPlayerElement(),t.attachPlayerElement(),t.subscribe(),t.initListeners();var e=o()(t.playerTypeConfig,"mediaItem");e&&e.src&&t.open(e),t.observationCenter.playerSubject.next(new Y.BaseMessage(E.MEDIA_PLAYER.MEDIA_PLAYER_INITIALIZED,t)),t.observationCenter.playerInitSubject.next(new Y.BaseMessage(E.MEDIA_PLAYER.MEDIA_PLAYER_INITIALIZED,t))}))}},{key:"setAutoplayConfig",value:function(){var e=this.playerTypeConfig,t=e.autoPlay,n=e.clickToPlay,r=o()(this.features,"autoplay.regular",!1),i=o()(this.features,"autoplay.muted",!1);t&&!r&&i&&!n&&(this.playerTypeConfig.mute=!0),this.stateModel.setVolumeChangeState(1,this.playerTypeConfig.mute)}},{key:"findParentElement",value:function(){this.parentEl=document.getElementById(this.getPlayerId())}},{key:"requestFullscreen",value:function(e){this.log("Request fullscreen"),d.a.requestFullscreen(e)}},{key:"exitFullscreen",value:function(){this.log("exit fullscreen"),d.a.exitFullscreen()}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift(),o=this.toString();s.log("".concat(o,": ").concat(r),t)}},{key:"initListeners",value:function(){d.a.fullscreenEnabled&&(d.a.addEventListener("fullscreenchange",this.onFullscreenChange.bind(this)),d.a.addEventListener("fullscreenerror",this.onFullscreenChange.bind(this))),this.resizeObserver.observe(this.parentEl.parentNode)}},{key:"onFullscreenChange",value:function(e){var t=!!d.a.fullscreenElement;this.stateModel.setFullscreenChangeState(t,d.a.fullscreenEnabled),this.observationCenter.stateSubject.next(new Y.StateEventMessage(Y.StateEventMessage.PLAYER_STATE_UPDATE,null,this.stateModel))}},{key:"onFullscreenError",value:function(e){this.log("There was a Fullscreen error ",e)}},{key:"onPlayerResize",value:function(e){var t=e[0].contentRect;this.observationCenter.playerSubject.next(new Y.BaseMessage(E.MEDIA_PLAYER.PLAYER_RESIZED,null,t))}},{key:"updateStateSubject",value:function(e){"empty"!==e.type&&this.observationCenter.stateSubject.next(new Y.StateEventMessage(Y.StateEventMessage.PLAYER_STATE_UPDATE,e,this.stateModel))}},{key:"updatePlayerTimeSubject",value:function(e){"empty"!==e.type&&this.observationCenter.playerTimeSubject.next(new Y.StateEventMessage(Y.StateEventMessage.PLAYER_TIME_STATE_UPDATE,e,this.timeStateModel))}},{key:"subscribe",value:function(){var e=this,t=this.getPlayerEvents(this.playerTypeConfig.playerType),n=this.observationCenter.playerSubject.subscribe((function(n){switch(n.type){case t.WAITING:e.stateModel.setLoadingState(!0),e.updateStateSubject(n);break;case t.CANPLAY:e.stateModel.setLoadingState(!1),e.updateStateSubject(n);break;case t.MEDIA_START:var r=o()(n,"event.target.volume"),i=o()(n,"event.target.muted");e.stateModel.mediaStarted&&e.observationCenter.playerSubject.next(new Y.BaseMessage(t.MEDIA_RESUME,null)),e.stateModel.setMediaStartState(r,i),e.updateStateSubject(n);break;case t.MEDIA_PAUSE:e.stateModel.setMediaPauseState(),e.updateStateSubject(n);break;case t.MEDIA_COMPLETE:e.stateModel.setMediaCompleteState(),e.updateStateSubject(n);break;case t.MEDIA_SEEKED:e.timeStateModel.setMediaSeekedState(),e.updatePlayerTimeSubject(n);break;case t.MEDIA_SEEKING:e.timeStateModel.setMediaSeekingState(),e.updatePlayerTimeSubject(n);break;case t.TIME_UPDATE:e.timeStateModel.setMediaTimeupdateState(o()(n,"event.target.currentTime")),e.updatePlayerTimeSubject(n);break;case t.DURATION_CHANGE:e.timeStateModel.setMediaDurationChangeState(o()(n,"event.target.duration")),e.updatePlayerTimeSubject(n);break;case t.VOLUME_CHANGE:var a=o()(n,"event.target.volume"),s=o()(n,"event.target.muted");e.stateModel.setVolumeChangeState(a,s),e.updateStateSubject(n);break;case t.LEVEL_LOADED:var l=o()(n,"data.details.live"),u=o()(n,"data.details.targetduration"),c=o()(n,"data.details.fragments[0].start");e.timeStateModel.setLevelLoadedState(l,u,c),e.updatePlayerTimeSubject(n);break;case t.TEXT_TRACKS_AVAILABLE:e.stateModel.setClosedCaptions(n.data),e.updateStateSubject(n);break;case t.TEXT_TRACK_ENABLED:e.stateModel.setClosedCaptionsActiveState(!0),e.updateStateSubject(n);break;case t.TEXT_TRACK_DISABLED:e.stateModel.setClosedCaptionsActiveState(!1),e.updateStateSubject(n)}}));this.subscriptions.push(n)}},{key:"unsubscribe",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))}},{key:"getPlayerEvents",value:function(e){return E[e]}},{key:"play",value:function(){var e=this;return this.videoEl?this.videoEl.play().catch((function(t){s.debug("There was an error calling play()",t),e.stateModel.reset(),e.updateStateSubject({type:Y.StateEventMessage.RESET_PLAYER_STATE})})):(s.debug("BasePlayer: videoEl not ready."),Promise.reject(new Error("BasePlayer: videoEl not ready.")))}},{key:"pause",value:function(){this.videoEl.pause()}},{key:"replay",value:function(){this.videoEl.currentTime=0,this.videoEl.play()}},{key:"stop",value:function(){this.videoEl.currentTime=0,this.videoEl.pause()}},{key:"setPoster",value:function(e){this.videoEl.setAttribute("poster",e)}},{key:"seek",value:function(e){this.videoEl.currentTime=e}},{key:"mute",value:function(){this.videoEl.muted=!0}},{key:"unMute",value:function(){this.videoEl.muted=!1}},{key:"setVolume",value:function(e){this.videoEl.volume=e}},{key:"setIsAdPlaying",value:function(e){this.stateModel.setIsAdPlayingState(e),this.observationCenter.stateSubject.next(new Y.StateEventMessage(Y.StateEventMessage.PLAYER_STATE_UPDATE,null,this.stateModel))}},{key:"destroy",value:function(){this.parentEl&&this.resizeObserver.unobserve(this.parentEl.parentNode),this.unsubscribe(),d.a.removeEventListener("fullscreenchange",this.onFullscreenChange),d.a.removeEventListener("fullscreenerror",this.onFullscreenError)}},{key:"toString",value:function(){return"BasePlayer"}}])&&re(t.prototype,n),r&&re(t,r),a}(g);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var o=he(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(n,e);var t=de(n);function n(e,r,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(i=t.call(this,e,null,o)).event=r,i.data=o,i}return n}(S);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t,n){return(ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ie(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ie(e);if(t){var o=Ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ce(this,n)}}function Ce(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(a,e);var t,n,r,i=Ae(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).playerSubject=n.observationCenter.playerSubject,n.playerInitSubject=n.observationCenter.playerInitSubject,n.playerTimeSubject=n.observationCenter.playerTimeSubject,n.playerSubject=n.observationCenter.playerSubject,n.currentVttItems=void 0,n.captionsIndex=0,n.captionsShowing=!1,n.boundListeners={},n.bindListeners(),n}return t=a,(n=[{key:"bindListeners",value:function(){this.boundListeners[E.HTML5.MEDIA_LOAD_START]=this.onMediaLoadStart.bind(this),this.boundListeners[E.HTML5.CANPLAY]=this.onMediaCanPlay.bind(this),this.boundListeners[E.HTML5.MEDIA_START]=this.onMediaStart.bind(this),this.boundListeners[E.HTML5.MEDIA_LOADED_DATA]=this.onLoadedData.bind(this),this.boundListeners[E.HTML5.MEDIA_LOADED_META]=this.onLoadedMetadata.bind(this),this.boundListeners[E.HTML5.PROGRESS]=this.onProgress.bind(this),this.boundListeners[E.HTML5.WAITING]=this.onWaiting.bind(this),this.boundListeners[E.HTML5.MEDIA_PAUSE]=this.onMediaPause.bind(this),this.boundListeners[E.HTML5.MEDIA_PLAYING]=this.onMediaPlaying.bind(this),this.boundListeners[E.HTML5.MEDIA_SEEKING]=this.onMediaSeeking.bind(this),this.boundListeners[E.HTML5.MEDIA_SEEKED]=this.onMediaSeeked.bind(this),this.boundListeners[E.HTML5.MEDIA_STALLED]=this.onMediaStalled.bind(this),this.boundListeners[E.HTML5.MEDIA_COMPLETE]=this.onMediaComplete.bind(this),this.boundListeners[E.HTML5.TIME_UPDATE]=this.onTimeUpdate.bind(this),this.boundListeners[E.HTML5.DURATION_CHANGE]=this.onDurationChange.bind(this),this.boundListeners[E.HTML5.VOLUME_CHANGE]=this.onVolumeChange.bind(this)}},{key:"createPlayerElement",value:function(){var e=document.createElement("video");e.controls=this.playerTypeConfig.controls,e.loop=this.playerTypeConfig.loop,e.muted=this.playerTypeConfig.mute,isNaN(this.playerTypeConfig.poster)||e.setAttribute("poster",this.playerTypeConfig.poster),isNaN(this.playerTypeConfig.width)||e.setAttribute("width",this.playerTypeConfig.width),isNaN(this.playerTypeConfig.height)||e.setAttribute("height",this.playerTypeConfig.height),this.playerTypeConfig.playsInline&&e.setAttribute("playsinline",this.playerTypeConfig.playsInline),this.playerTypeConfig.crossOrigin&&e.setAttribute("crossorigin",this.playerTypeConfig.crossOrigin),this.playerTypeConfig.preload&&e.setAttribute("preload",this.playerTypeConfig.preload),this.videoEl=e,this.initListeners()}},{key:"initListeners",value:function(){ye(Ie(a.prototype),"initListeners",this).call(this),this.videoEl.addEventListener(E.HTML5.MEDIA_LOAD_START,this.boundListeners[E.HTML5.MEDIA_LOAD_START]),this.videoEl.addEventListener(E.HTML5.CANPLAY,this.boundListeners[E.HTML5.CANPLAY]),this.videoEl.addEventListener(E.HTML5.MEDIA_START,this.boundListeners[E.HTML5.MEDIA_START]),this.videoEl.addEventListener(E.HTML5.MEDIA_LOADED_DATA,this.boundListeners[E.HTML5.MEDIA_LOADED_DATA]),this.videoEl.addEventListener(E.HTML5.MEDIA_LOADED_META,this.boundListeners[E.HTML5.MEDIA_LOADED_META]),this.videoEl.addEventListener(E.HTML5.PROGRESS,this.boundListeners[E.HTML5.PROGRESS]),this.videoEl.addEventListener(E.HTML5.WAITING,this.boundListeners[E.HTML5.WAITING]),this.videoEl.addEventListener(E.HTML5.MEDIA_PAUSE,this.boundListeners[E.HTML5.MEDIA_PAUSE]),this.videoEl.addEventListener(E.HTML5.MEDIA_PLAYING,this.boundListeners[E.HTML5.MEDIA_PLAYING]),this.videoEl.addEventListener(E.HTML5.MEDIA_SEEKING,this.boundListeners[E.HTML5.MEDIA_SEEKING]),this.videoEl.addEventListener(E.HTML5.MEDIA_SEEKED,this.boundListeners[E.HTML5.MEDIA_SEEKED]),this.videoEl.addEventListener(E.HTML5.MEDIA_STALLED,this.boundListeners[E.HTML5.MEDIA_STALLED]),this.videoEl.addEventListener(E.HTML5.MEDIA_COMPLETE,this.boundListeners[E.HTML5.MEDIA_COMPLETE]),this.videoEl.addEventListener(E.HTML5.TIME_UPDATE,this.boundListeners[E.HTML5.TIME_UPDATE]),this.videoEl.addEventListener(E.HTML5.DURATION_CHANGE,this.boundListeners[E.HTML5.DURATION_CHANGE]),this.videoEl.addEventListener(E.HTML5.VOLUME_CHANGE,this.boundListeners[E.HTML5.VOLUME_CHANGE])}},{key:"removeListeners",value:function(){this.videoEl.removeEventListener(E.HTML5.MEDIA_LOAD_START,this.boundListeners[E.HTML5.MEDIA_LOAD_START]),this.videoEl.removeEventListener(E.HTML5.CANPLAY,this.boundListeners[E.HTML5.CANPLAY]),this.videoEl.removeEventListener(E.HTML5.MEDIA_START,this.boundListeners[E.HTML5.MEDIA_START]),this.videoEl.removeEventListener(E.HTML5.MEDIA_LOADED_DATA,this.boundListeners[E.HTML5.MEDIA_LOADED_DATA]),this.videoEl.removeEventListener(E.HTML5.MEDIA_LOADED_META,this.boundListeners[E.HTML5.MEDIA_LOADED_META]),this.videoEl.removeEventListener(E.HTML5.WAITING,this.boundListeners[E.HTML5.WAITING]),this.videoEl.removeEventListener(E.HTML5.PROGRESS,this.boundListeners[E.HTML5.PROGRESS]),this.videoEl.removeEventListener(E.HTML5.MEDIA_PAUSE,this.boundListeners[E.HTML5.MEDIA_PAUSE]),this.videoEl.removeEventListener(E.HTML5.MEDIA_PLAYING,this.boundListeners[E.HTML5.MEDIA_PLAYING]),this.videoEl.removeEventListener(E.HTML5.MEDIA_SEEKING,this.boundListeners[E.HTML5.MEDIA_SEEKING]),this.videoEl.removeEventListener(E.HTML5.MEDIA_SEEKED,this.boundListeners[E.HTML5.MEDIA_SEEKED]),this.videoEl.removeEventListener(E.HTML5.MEDIA_STALLED,this.boundListeners[E.HTML5.MEDIA_STALLED]),this.videoEl.removeEventListener(E.HTML5.MEDIA_COMPLETE,this.boundListeners[E.HTML5.MEDIA_COMPLETE]),this.videoEl.removeEventListener(E.HTML5.TIME_UPDATE,this.boundListeners[E.HTML5.TIME_UPDATE]),this.videoEl.removeEventListener(E.HTML5.DURATION_CHANGE,this.boundListeners[E.HTML5.DURATION_CHANGE]),this.videoEl.removeEventListener(E.HTML5.VOLUME_CHANGE,this.boundListeners[E.HTML5.VOLUME_CHANGE])}},{key:"attachPlayerElement",value:function(){this.parentEl.insertBefore(this.videoEl,this.parentEl.firstChild)}},{key:"clearExistingTrackNodes",value:function(){for(var e=this.videoEl.querySelectorAll("track")||[],t=e.length,n=0;n<t;n++){var r=e[n];this.videoEl.removeChild(r)}}},{key:"createTrackNodes",value:function(e){var t=this,n=[];if(this.clearExistingTrackNodes(),this.currentVttItems!==e){this.currentVttItems=e;for(var r=e.length,i=0,a=function(){var r=e[i];n.push(new Promise((function(e){r.id="".concat(r.label," captions");var n=document.createElement("track");n.onload=e.bind(t,r),n.setAttribute("label",r.label),n.setAttribute("kind",r.kind),n.setAttribute("language",r.srclang),n.setAttribute("src",r.src),n.setAttribute("id",r.id),n.default=r.default,t.videoEl.appendChild(n)})))};i<r;i++)a();Promise.all(n).then((function(e){var n=o()(t.videoEl,"textTracks",[]),r=!1;if(n.length){for(var i=[].slice.call(n),a=i.length,s=0,l=function(){var t=i[s];if("disabled"!==t.mode){var n=e.findIndex((function(e){return o()(e,"id")===o()(t,"id")}));t.isVttFile=-1!==n,t.mode="hidden",r=!0}};s<a;s++)l();r&&t.playerSubject.next(new ge(E.HTML5.TEXT_TRACKS_AVAILABLE,null,n)),t.captionsShowing&&t.showClosedCaptions(t.captionsIndex)}}))}}},{key:"showClosedCaptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=o()(this.videoEl,"textTracks.".concat(e));t&&(this.captionsIndex=e,this.captionsShowing=!0,t.mode="showing",this.playerSubject.next(new ge(E.HTML5.TEXT_TRACK_ENABLED,null,t)))}},{key:"hideClosedCaptions",value:function(){var e=this,t=o()(this.videoEl,"textTracks",[]);Array.from(t).forEach((function(t){e.captionsShowing=!1,t.mode="hidden"})),this.playerSubject.next(new ge(E.HTML5.TEXT_TRACK_DISABLED,null,t))}},{key:"canPlay",value:function(e){return new RegExp("(.mp4|.ogg|.webm|.mp3)","i").test(e)}},{key:"open",value:function(e){if(!e.src)throw new Error('MediaItem must have a "src" property.');this.currentMediaItem=e,this.videoEl.setAttribute("src",this.currentMediaItem.src),this.setPoster(this.currentMediaItem.poster),this.playerSubject.next(new S(E.MEDIA_PLAYER.MEDIA_ITEM_SET,this,e)),this.playerInitSubject.next(new S(E.MEDIA_PLAYER.MEDIA_ITEM_SET,this,e))}},{key:"play",value:function(){var e=this.videoEl.play();return e?e.then((function(){return!0})).catch((function(e){return s.debug("Error calling play",e),!1})):(s.error("Error calling play (no promise)"),Promise.resolve(!1))}},{key:"pause",value:function(){this.videoEl.pause()}},{key:"replay",value:function(){this.videoEl.currentTime=0,this.videoEl.play()}},{key:"stop",value:function(){this.videoEl&&(this.videoEl.currentTime>0&&(this.videoEl.currentTime=0),this.videoEl.paused||this.videoEl.pause(),this.playerSubject.next(new ge(E.MEDIA_PLAYER.MEDIA_STOP,event)))}},{key:"setPoster",value:function(e){e&&""!==e&&this.videoEl.setAttribute("poster",e)}},{key:"seek",value:function(e){this.videoEl.currentTime=e}},{key:"destroy",value:function(){ye(Ie(a.prototype),"destroy",this).call(this),this.videoEl&&(this.removeListeners(),o()(this.videoEl,"parentNode").removeChild(this.videoEl))}},{key:"onMediaLoadStart",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_LOAD_START,e))}},{key:"onMediaCanPlay",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.CANPLAY,e))}},{key:"onMediaStart",value:function(e,t){var n=o()(this.currentMediaItem,"metaData",null);this.playerSubject.next(new ge(E.HTML5.MEDIA_START,e,n))}},{key:"onLoadedData",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_LOADED_DATA,e))}},{key:"onLoadedMetadata",value:function(e,t){this.createTrackNodes(this.currentMediaItem.vttItems),this.playerSubject.next(new ge(E.HTML5.MEDIA_LOADED_META,e))}},{key:"onProgress",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.PROGRESS,e))}},{key:"onWaiting",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.WAITING,e))}},{key:"onMediaPause",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_PAUSE,e))}},{key:"onMediaPlaying",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_PLAYING,e))}},{key:"onMediaSeeking",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_SEEKING,e))}},{key:"onMediaSeeked",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_SEEKED,e))}},{key:"onMediaStalled",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_STALLED,e))}},{key:"onMediaComplete",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_COMPLETE,e))}},{key:"onTimeUpdate",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.TIME_UPDATE,e))}},{key:"onDurationChange",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.DURATION_CHANGE,e))}},{key:"onVolumeChange",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.VOLUME_CHANGE,e))}},{key:"removeDefaultControls",value:function(){this.videoEl.controls=""}},{key:"toString",value:function(){return"HTML5Player"}}])&&ve(t.prototype,n),r&&ve(t,r),a}(ue);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Te(this,n)}}function Te(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(n,e);var t=Se(n);function n(e,r,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,e,r,o)}return n}(S),Pe=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Oe=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.autoStartLoad=!0,this.startPosition=-1,this.capLevelToPlayerSize=!1,this.debug=!1,this.defaultAudioCodec=void 0,this.initialLiveManifestSize=1,this.maxBufferLength=30,this.maxMaxBufferLength=600,this.maxBufferSize=6e7,this.maxBufferHole=.5,this.lowBufferWatchdogPeriod=.5,this.highBufferWatchdogPeriod=3,this.nudgeOffset=.1,this.nudgeMaxRetry=3,this.maxFragLookUpTolerance=.2,this.liveSyncDurationCount=3,this.liveMaxLatencyDurationCount=1/0,this.liveSyncDuration=void 0,this.liveMaxLatencyDuration=void 0,this.liveDurationInfinity=!1,this.liveBackBufferLength=1/0,this.enableWorker=!0,this.enableSoftwareAES=!0,this.manifestLoadingTimeOut=1e4,this.manifestLoadingMaxRetry=1,this.manifestLoadingRetryDelay=500,this.manifestLoadingMaxRetryTimeout=64e3,this.startLevel=void 0,this.levelLoadingTimeOut=1e4,this.levelLoadingMaxRetry=4,this.levelLoadingRetryDelay=500,this.levelLoadingMaxRetryTimeout=64e3,this.fragLoadingTimeOut=2e4,this.fragLoadingMaxRetry=6,this.fragLoadingRetryDelay=500,this.fragLoadingMaxRetryTimeout=64e3,this.startFragPrefetch=!1,this.appendErrorMaxRetry=3,t&&t.hasOwnProperty("loader")&&(this.loader=t.loader),t&&t.hasOwnProperty("fLoader")&&(this.fLoader=t.fLoader),t&&t.hasOwnProperty("pLoader")&&(this.pLoader=t.pLoader),t&&t.hasOwnProperty("xhrSetup")&&(this.xhrSetup=t.xhrSetup),t&&t.hasOwnProperty("fetchSetup")&&(this.fetchSetup=t.fetchSetup),t&&t.hasOwnProperty("abrController")&&(this.abrController=t.abrController),t&&t.hasOwnProperty("timelineController")&&(this.timelineController=t.timelineController),this.enableWebVTT=!0,this.enableCEA708Captions=!0,this.subtitleDisplay=!1,this.captionsTextTrack1Label="English",this.stretchShortVideoTrack=!1,this.maxAudioFramesDrift=1,this.forceKeyFrameOnDiscontinuity=!0,this.abrEwmaFastLive=5,this.abrEwmaSlowLive=9,this.abrEwmaFastVoD=4,this.abrEwmaSlowVoD=15,this.abrEwmaDefaultEstimate=5e5,this.abrBandWidthFactor=.95,this.abrBandWidthUpFactor=.7,this.minAutoBitrate=0,Pe(this,t)};function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t,n){return(je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fe(e);if(t){var o=Fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ne(this,n)}}function Ne(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ue={HTML5:_e,HLSJS:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(a,e);var t,n,r,i=Me(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).hls=void 0,n.playerSubject=n.observationCenter.playerSubject,n.playerInitSubject=n.observationCenter.playerInitSubject;var r=o()(n.playerTypeConfig,"hlsjsPlayerConfig",{});return n.hlsjsPlayerConfig=new Oe(r),n.recovering=!1,n.bindListeners(),n.hls=new b.a(n.hlsjsPlayerConfig),n}return t=a,(n=[{key:"bindListeners",value:function(){je(Fe(a.prototype),"bindListeners",this).call(this),this.boundListeners[b.a.Events.MEDIA_ATTACHING]=this.onMediaAttaching.bind(this),this.boundListeners[b.a.Events.MEDIA_ATTACHED]=this.onMediaAttached.bind(this),this.boundListeners[b.a.Events.MEDIA_DETACHING]=this.onMediaDetaching.bind(this),this.boundListeners[b.a.Events.MEDIA_DETACHED]=this.onMediaDetached.bind(this),this.boundListeners[b.a.Events.BUFFER_RESET]=this.onBufferReset.bind(this),this.boundListeners[b.a.Events.BUFFER_CREATED]=this.onBufferCreated.bind(this),this.boundListeners[b.a.Events.BUFFER_APPENDING]=this.onBufferAppending.bind(this),this.boundListeners[b.a.Events.BUFFER_APPENDED]=this.onBufferAppended.bind(this),this.boundListeners[b.a.Events.BUFFER_CODECS]=this.onBufferCodecs.bind(this),this.boundListeners[b.a.Events.BUFFER_EOS]=this.onBufferEos.bind(this),this.boundListeners[b.a.Events.BUFFER_FLUSHING]=this.onBufferFlushing.bind(this),this.boundListeners[b.a.Events.BUFFER_FLUSHED]=this.onBufferFlushed.bind(this),this.boundListeners[b.a.Events.ERROR]=this.onError.bind(this),this.boundListeners[b.a.Events.MANIFEST_LOADING]=this.onManifestLoading.bind(this),this.boundListeners[b.a.Events.MANIFEST_LOADED]=this.onManifestLoaded.bind(this),this.boundListeners[b.a.Events.MANIFEST_PARSED]=this.onManifestParsed.bind(this),this.boundListeners[b.a.Events.LEVEL_SWITCHING]=this.onLevelSwitching.bind(this),this.boundListeners[b.a.Events.LEVEL_SWITCHED]=this.onLevelSwitched.bind(this),this.boundListeners[b.a.Events.LEVEL_LOADING]=this.onLevelLoading.bind(this),this.boundListeners[b.a.Events.LEVEL_LOADED]=this.onLevelLoaded.bind(this),this.boundListeners[b.a.Events.LEVEL_UPDATED]=this.onLevelUpdated.bind(this),this.boundListeners[b.a.Events.LEVEL_PTS_UPDATED]=this.onLevelPtsUpdated.bind(this),this.boundListeners[b.a.Events.AUDIO_TRACKS_UPDATED]=this.onAudioTracksUpdated.bind(this),this.boundListeners[b.a.Events.AUDIO_TRACK_SWITCHING]=this.onAudioTrackSwitching.bind(this),this.boundListeners[b.a.Events.AUDIO_TRACK_SWITCHED]=this.onAudioTrackSwitched.bind(this),this.boundListeners[b.a.Events.AUDIO_TRACK_LOADING]=this.onAudioTrackLoading.bind(this),this.boundListeners[b.a.Events.AUDIO_TRACK_LOADED]=this.onAudioTrackLoaded.bind(this),this.boundListeners[b.a.Events.SUBTITLE_TRACKS_UPDATED]=this.onSubtitleTracksUpdated.bind(this),this.boundListeners[b.a.Events.SUBTITLE_TRACK_SWITCH]=this.onSubtitleTrackSwitch.bind(this),this.boundListeners[b.a.Events.SUBTITLE_TRACK_LOADING]=this.onSubtitleTrackLoading.bind(this),this.boundListeners[b.a.Events.SUBTITLE_TRACK_LOADED]=this.onSubtitleTrackLoaded.bind(this),this.boundListeners[b.a.Events.SUBTITLE_FRAG_PROCESSED]=this.onSubtitleFragProcessed.bind(this),this.boundListeners[b.a.Events.INIT_PTS_FOUND]=this.onInitPtsFound.bind(this),this.boundListeners[b.a.Events.FRAG_LOADING]=this.onFragLoading.bind(this),this.boundListeners[b.a.Events.FRAG_LOAD_PROGRESS]=this.onFragLoadProgress.bind(this),this.boundListeners[b.a.Events.FRAG_LOAD_EMERGENCY_ABORTED]=this.onFragLoadEmergencyAborted.bind(this),this.boundListeners[b.a.Events.FRAG_LOADED]=this.onFragLoaded.bind(this),this.boundListeners[b.a.Events.FRAG_DECRYPTED]=this.onFragDecrypted.bind(this),this.boundListeners[b.a.Events.FRAG_PARSING_INIT_SEGMENT]=this.onFragParsingInitSegment.bind(this),this.boundListeners[b.a.Events.FRAG_PARSING_USERDATA]=this.onFragParsingUserdata.bind(this),this.boundListeners[b.a.Events.FRAG_PARSING_METADATA]=this.onFragParsingMetadata.bind(this),this.boundListeners[b.a.Events.FRAG_PARSING_DATA]=this.onFragParsingData.bind(this),this.boundListeners[b.a.Events.FRAG_PARSED]=this.onFragParsed.bind(this),this.boundListeners[b.a.Events.FRAG_BUFFERED]=this.onFragBuffered.bind(this),this.boundListeners[b.a.Events.FRAG_CHANGED]=this.onFragChanged.bind(this),this.boundListeners[b.a.Events.FPS_DROP]=this.onFpsDrop.bind(this),this.boundListeners[b.a.Events.FPS_DROP_LEVEL_CAPPING]=this.onFpsDropLevelCapping.bind(this),this.boundListeners[b.a.Events.DESTROYING]=this.onDestroying.bind(this),this.boundListeners[b.a.Events.KEY_LOADING]=this.onKeyLoading.bind(this),this.boundListeners[b.a.Events.KEY_LOADED]=this.onKeyLoaded.bind(this),this.boundListeners[b.a.Events.STREAM_STATE_TRANSITION]=this.onStreamStateTransition.bind(this)}},{key:"createPlayerElement",value:function(){this.playerEvents=this.getPlayerEvents(this.playerTypeConfig.playerType),je(Fe(a.prototype),"createPlayerElement",this).call(this)}},{key:"attachPlayerElement",value:function(){this.parentEl.insertBefore(this.videoEl,this.parentEl.firstChild)}},{key:"canPlay",value:function(e){return new RegExp("(.m3u8|format=m3u8)","i").test(e)}},{key:"play",value:function(){return this.hls.config.autoStartLoad||this.hls.startLoad(),je(Fe(a.prototype),"play",this).call(this)}},{key:"open",value:function(e){e.src&&(this.hls&&(this.hls.detachMedia(),this.removeHlsListeners()),this.currentMediaItem=e,this.hls.subtitleDisplay=o()(this.hlsjsPlayerConfig,"subtitleDisplay",!0),this.initHlsListeners(),this.setPoster(e.poster),this.hls.loadSource(e.src),this.hls.attachMedia(this.videoEl),this.playerSubject.next(new S(m.MEDIA_ITEM_SET,this,e)),this.playerInitSubject.next(new S(m.MEDIA_ITEM_SET,this,e)))}},{key:"jumpToLive",value:function(){this.videoEl.currentTime=this.timeStateModel.seekableRange.end}},{key:"createTrackNodes",value:function(e){if(this.hls.subtitleTracks.length){var t=o()(this.videoEl,"textTracks",[]);this.playerSubject.next(new ge(E.HTML5.TEXT_TRACKS_AVAILABLE,null,t))}else this.currentMediaItem.vttItems.length&&(this.hls.subtitleTrack=-1,this.captionsShowing=!1,je(Fe(a.prototype),"createTrackNodes",this).call(this,this.currentMediaItem.vttItems))}},{key:"showClosedCaptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.hls.subtitleTracks.length&&(this.hls.subtitleTrack=e),je(Fe(a.prototype),"showClosedCaptions",this).call(this,e)}},{key:"hideClosedCaptions",value:function(){this.hls.subtitleTracks.length&&(this.hls.subtitleTrack=-1),je(Fe(a.prototype),"hideClosedCaptions",this).call(this)}},{key:"destroy",value:function(){this.hls&&(this.removeHlsListeners(),this.hls.destroy()),je(Fe(a.prototype),"destroy",this).call(this)}},{key:"initHlsListeners",value:function(){var e=this;this.hls&&Object.keys(b.a.Events).forEach((function(t){var n=e.boundListeners[b.a.Events[t]];n&&e.hls.on(b.a.Events[t],n)}))}},{key:"removeListeners",value:function(){je(Fe(a.prototype),"removeListeners",this).call(this),this.removeHlsListeners()}},{key:"removeHlsListeners",value:function(){var e=this;Object.keys(b.a.Events).forEach((function(t){e.hls.off(b.a.Events[t],e.boundListeners[b.a.Events[t]])}))}},{key:"recoverMediaError",value:function(){this.recovering=!0,this.hls.recoverMediaError()}},{key:"onError",value:function(e,t){switch(t.type,t.details,t.fatal,this.playerSubject.next(new xe(b.a.Events.ERROR,this,t)),t.type){case b.a.ErrorTypes.NETWORK_ERROR:this.hls.startLoad();break;case b.a.ErrorTypes.MEDIA_ERROR:this.recoverMediaError()}}},{key:"onLoadedMetadata",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_LOADED_META,e))}},{key:"onMediaAttaching",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.MEDIA_ATTACHING,this,t))}},{key:"onMediaAttached",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.MEDIA_ATTACHED,this,t)),this.recovering&&!this.stateModel.paused&&this.play(),this.recovering=!1}},{key:"onMediaDetaching",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.MEDIA_DETACHING,this,t))}},{key:"onMediaDetached",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.MEDIA_DETACHED,this,t))}},{key:"onBufferReset",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_RESET,this,t))}},{key:"onBufferCreated",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_CREATED,this,t))}},{key:"onBufferAppending",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_APPENDING,this,t))}},{key:"onBufferAppended",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_APPENDED,this,t))}},{key:"onBufferCodecs",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_CODECS,this,t))}},{key:"onBufferEos",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_EOS,this,t))}},{key:"onBufferFlushing",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_FLUSHING,this,t))}},{key:"onBufferFlushed",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_FLUSHED,this,t))}},{key:"onManifestLoading",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.MANIFEST_LOADING,this,t))}},{key:"onManifestLoaded",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.MANIFEST_LOADED,this,t))}},{key:"onManifestParsed",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.MANIFEST_PARSED,this,t))}},{key:"onLevelSwitching",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.LEVEL_SWITCHING,this,t))}},{key:"onLevelSwitched",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.LEVEL_SWITCHED,this,t))}},{key:"onLevelLoading",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.LEVEL_LOADING,this,t))}},{key:"onLevelLoaded",value:function(e,t){this.fragmentDuration=t.details.targetduration,this.playerSubject.next(new xe(b.a.Events.LEVEL_LOADED,this,t))}},{key:"onLevelUpdated",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.LEVEL_UPDATED,this,t))}},{key:"onLevelPtsUpdated",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.LEVEL_PTS_UPDATED,this,t))}},{key:"onAudioTracksUpdated",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.AUDIO_TRACKS_UPDATED,this,t))}},{key:"onAudioTrackSwitching",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.AUDIO_TRACK_SWITCHING,this,t))}},{key:"onAudioTrackSwitched",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.AUDIO_TRACK_SWITCHED,this,t))}},{key:"onAudioTrackLoading",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.AUDIO_TRACK_LOADING,this,t))}},{key:"onAudioTrackLoaded",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.AUDIO_TRACK_LOADED,this,t))}},{key:"onSubtitleTracksUpdated",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.SUBTITLE_TRACKS_UPDATED,this,t)),this.createTrackNodes()}},{key:"onSubtitleTrackSwitch",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.SUBTITLE_TRACK_SWITCH,this,t))}},{key:"onSubtitleTrackLoading",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.SUBTITLE_TRACK_LOADING,this,t))}},{key:"onSubtitleTrackLoaded",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.SUBTITLE_TRACK_LOADED,this,t))}},{key:"onSubtitleFragProcessed",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.SUBTITLE_FRAG_PROCESSED,this,t))}},{key:"onInitPtsFound",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.INIT_PTS_FOUND,this,t))}},{key:"onFragLoading",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_LOADING,this,t))}},{key:"onFragLoadProgress",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_LOAD_PROGRESS,this,t))}},{key:"onFragLoadEmergencyAborted",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_LOAD_EMERGENCY_ABORTED,this,t))}},{key:"onFragLoaded",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_LOADED,this,t))}},{key:"onFragDecrypted",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_DECRYPTED,this,t))}},{key:"onFragParsingInitSegment",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_PARSING_INIT_SEGMENT,this,t))}},{key:"onFragParsingUserdata",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_PARSING_USERDATA,this,t))}},{key:"onFragParsingMetadata",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_PARSING_METADATA,this,t))}},{key:"onFragParsingData",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_PARSING_DATA,this,t))}},{key:"onFragParsed",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_PARSED,this,t))}},{key:"onFragBuffered",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_BUFFERED,this,t))}},{key:"onFragChanged",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_CHANGED,this,t))}},{key:"onFpsDrop",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FPS_DROP,this,t))}},{key:"onFpsDropLevelCapping",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FPS_DROP_LEVEL_CAPPING,this,t))}},{key:"onDestroying",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.DESTROYING,this,t))}},{key:"onKeyLoaded",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.KEY_LOADED,this,t))}},{key:"onKeyLoading",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.KEY_LOADING,this,t))}},{key:"onStreamStateTransition",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.STREAM_STATE_TRANSITION,this,t))}},{key:"toString",value:function(){return"HLSJSPlayer"}}])&&De(t.prototype,n),r&&De(t,r),a}(_e)},Ge=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"create",value:function(t,n){return new(e.getPlayerToCreate(t.playerTypeConfig))(t,n)}},{key:"getPlayerObjectByType",value:function(e){return Ue[e]}},{key:"getPlayerTypeFromSource",value:function(e,t){var n=/(\.mp4|\.mp3|\.ogg|\.webm)/i.test(e),r=/(\.m3u8|format=m3u8)/i.test(e),o=t.is.ios;return!r||o||n?c.HTML5:c.HLSJS}},{key:"getPlayerToCreate",value:function(t){var n=o()(t,"mediaItem"),r=o()(t,"deviceInfo"),i=o()(t,"forcePlayerType",!1),a=o()(t,"playerType",c.HTML5);return i||(a=e.getPlayerTypeFromSource(n.src,r),u()(t,"playerType",a)),e.getPlayerObjectByType(a)}}],(n=null)&&Be(t.prototype,n),r&&Be(t,r),e}(),He=n(3),Ve=n.n(He),We=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.label=o()(t,"label","English"),this.kind=o()(t,"kind","subtitles"),this.srclang=o()(t,"srclang"),this.src=o()(t,"src"),this.default=o()(t,"default",!1)};function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ze=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.src=o()(t,"src"),this.type=o()(t,"type"),this.vttItems=this.getVttItems(o()(t,"vttItems",[])),this.poster=o()(t,"poster"),this.metaData=o()(t,"metaData")}var t,n,r;return t=e,(n=[{key:"getVttItems",value:function(e){var t=[];return e.forEach((function(e){t.push(new We(e))})),t}}])&&Ye(t.prototype,n),r&&Ye(t,r),e}();function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ke(this,e);var n={domTarget:"media-player",forcePlayerType:!1,playerType:c.HTML5,controls:!0,autoplay:!0,playsinline:!0,crossorigin:"anonymous",width:void 0,height:void 0,loop:!1,mediaItem:{src:void 0,type:void 0,poster:void 0},mute:!1,preload:"metadata",deviceInfo:{userAgent:void 0,is:{ios:void 0,blackberry:void 0,android:void 0,windowsphone:void 0,windows:void 0,linux:void 0,macintosh:void 0,webkit:void 0,gecko:void 0,trident:void 0,chrome:void 0,firefox:void 0,opera:void 0,operamini:void 0,msie:void 0,silk:void 0,safari:void 0,tablet:void 0,phone:void 0,desktop:void 0},platform:void 0,platformVersion:void 0,browser:void 0,browserVersion:void 0,formFactor:void 0}};this.config=Ve()(n,o()(t,"playerTypeConfig",{})),this._mediaItem=new ze(o()(this.config,"mediaItem")),this.playerType=o()(this.config,"playerType",c.HTML5),this.domTarget=o()(this.config,"domTarget","media-player"),this.controls=o()(this.config,"controls",!0),this.autoPlay=o()(this.config,"autoplay",!0),this.clickToPlay=o()(this.config,"clickToPlay",!1),this.playsInline=o()(this.config,"shouldPlayInline",!0),this.crossOrigin=o()(this.config,"crossorigin","anonymous"),this.width=o()(this.config,"width"),this.height=o()(this.config,"height"),this.loop=o()(this.config,"loop",!1),this.mute=o()(this.config,"mute",!1),this.preload=o()(this.config,"preload","metadata"),this.deviceInfo=o()(this.config,"deviceInfo",n.deviceInfo),this.hlsjsPlayerConfig=o()(this.config,"hlsjsPlayerConfig",void 0)}var t,n,r;return t=e,(n=[{key:"mediaItem",get:function(){return!this._mediaItem instanceof ze&&(this._mediaItem=new ze(this._mediaItem)),this._mediaItem},set:function(e){this._mediaItem=new ze(e)}}])&&qe(t.prototype,n),r&&qe(t,r),e}();function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ze=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"create",value:function(t){return e.createMediaPlayerConfig(t)}},{key:"createMediaPlayerConfig",value:function(e){return new tt(e)}},{key:"createPlayerTypeConfig",value:function(e){return new $e(e)}}],(n=null)&&Xe(t.prototype,n),r&&Xe(t,r),e}(),Qe=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=Ve()({},t),Pe(this,this.config),this.name=o()(t,"name"),this.type=o()(t,"type"),this.pluginReference=o()(t,"pluginReference"),!this.pluginReference)throw new Error("PluginConfig.pluginReference is required!")};function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Je(this,e),this.config=Ve()({},t),Pe(this,this.config),this.playerTypeConfig=Ze.createPlayerTypeConfig(this.config),this.pluginConfigs=this.getPluginConfigs(o()(this.config,"pluginConfigs",[]))}var t,n,r;return t=e,(n=[{key:"getPluginConfigs",value:function(e){var t=[];return e.forEach((function(e){t.push(new Qe(e))})),t}}])&&et(t.prototype,n),r&&et(t,r),e}();function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var rt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.observationCenter=n,this.plugins=[],this.pluginsMap={},this.createPlugins()}var t,n,r;return t=e,(n=[{key:"createPlugins",value:function(){var e=this,t=this.config.pluginConfigs;t.length&&t.forEach((function(t){try{var n=new t.pluginReference(Ve()({},t.config),e.observationCenter);e.plugins.push({plugin:n}),e.pluginsMap[o()(t,"config.name")]=n}catch(e){throw e}}))}},{key:"getPlugin",value:function(e){return this.pluginsMap[e]}}])&&nt(t.prototype,n),r&&nt(t,r),e}(),ot=function(e,t){return(ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function it(e,t){function n(){this.constructor=e}ot(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function at(e){return"function"==typeof e}var st=!1,lt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,st=e},get useDeprecatedSynchronousErrorHandling(){return st}};function ut(e){setTimeout((function(){throw e}),0)}var ct={closed:!0,next:function(e){},error:function(e){if(lt.useDeprecatedSynchronousErrorHandling)throw e;ut(e)},complete:function(){}},ft=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}(),dt=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),pt=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n,r=this._parentOrParents,o=this._ctorUnsubscribe,i=this._unsubscribe,a=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var s=0;s<r.length;++s)r[s].remove(this);if(at(i)){o&&(this._unsubscribe=void 0);try{i.call(this)}catch(e){t=e instanceof dt?ht(e.errors):[e]}}if(ft(a)){s=-1;for(var l=a.length;++s<l;){var u=a[s];if(null!==(n=u)&&"object"==typeof n)try{u.unsubscribe()}catch(e){t=t||[],e instanceof dt?t=t.concat(ht(e.errors)):t.push(e)}}}if(t)throw new dt(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function ht(e){return e.reduce((function(e,t){return e.concat(t instanceof dt?t.errors:t)}),[])}var gt=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),mt=function(e){function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=ct;break;case 1:if(!n){i.destination=ct;break}if("object"==typeof n){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new vt(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new vt(i,n,r,o)}return i}return it(t,e),t.prototype[gt]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(pt),vt=function(e){function t(t,n,r,o){var i,a=e.call(this)||this;a._parentSubscriber=t;var s=a;return at(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==ct&&(at((s=Object.create(n)).unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=i,a._error=r,a._complete=o,a}return it(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;lt.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=lt.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):ut(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;ut(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};lt.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),lt.useDeprecatedSynchronousErrorHandling)throw e;ut(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!lt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return lt.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(ut(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(mt),yt=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function bt(e){return e}function At(e){return 0===e.length?bt:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Ct=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=function(e,t,n){if(e){if(e instanceof mt)return e;if(e[gt])return e[gt]()}return e||t||n?new mt(e,t,n):new mt(ct)}(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||lt.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),lt.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){lt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof mt?r:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=It(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[yt]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:At(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=It(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function It(e){if(e||(e=lt.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var _t,Et=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),wt=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return it(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(pt),St=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return it(t,e),t}(mt),Tt=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return it(t,e),t.prototype[gt]=function(){return new St(this)},t.prototype.lift=function(e){var t=new kt(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new Et;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new Et;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Et;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new Et;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new Et;return this.hasError?(e.error(this.thrownError),pt.EMPTY):this.isStopped?(e.complete(),pt.EMPTY):(this.observers.push(e),new wt(this,e))},t.prototype.asObservable=function(){var e=new Ct;return e.source=this,e},t.create=function(e,t){return new kt(e,t)},t}(Ct),kt=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return it(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):pt.EMPTY},t}(Tt),xt=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return it(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Et;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Tt),Pt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return it(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return it(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return it(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(pt))),Ot=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),Lt=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return it(t,e),t}(function(e){function t(n,r){void 0===r&&(r=Ot.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return it(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Ot)))(Pt),Dt=new Ct((function(e){return e.complete()}));function jt(e){return e?function(e){return new Ct((function(t){return e.schedule((function(){return t.complete()}))}))}(e):Dt}function Rt(e){return e&&"function"==typeof e.schedule}function Mt(e,t){return new Ct((function(n){var r=new pt,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function Nt(e,t){return t?Mt(e,t):new Ct((n=e,function(e){for(var t=0,r=n.length;t<r&&!e.closed;t++)e.next(n[t]);e.complete()}));var n}function Ft(e){var t=e.error;e.subscriber.error(t)}_t||(_t={});var Bt=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e,t;switch(this.kind){case"N":return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Rt(n)?(e.pop(),Mt(e,n)):Nt(e)}(this.value);case"E":return e=this.error,new Ct(t?function(n){return t.schedule(Ft,0,{error:e,subscriber:n})}:function(t){return t.error(e)});case"C":return jt()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),Ut=function(e){function t(t,n,r){void 0===r&&(r=0);var o=e.call(this,t)||this;return o.scheduler=n,o.delay=r,o}return it(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new Gt(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Bt.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Bt.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Bt.createComplete()),this.unsubscribe()},t}(mt),Gt=function(){return function(e,t){this.notification=e,this.destination=t}}(),Ht=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=e.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return it(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new Vt(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new Et;if(this.isStopped||this.hasError?t=pt.EMPTY:(this.observers.push(e),t=new wt(this,e)),o&&e.add(e=new Ut(e,o)),n)for(var a=0;a<i&&!e.closed;a++)e.next(r[a]);else for(a=0;a<i&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||Lt).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(e-r[i].time<n);)i++;return o>t&&(i=Math.max(i,o-t)),i>0&&r.splice(0,i),r},t}(Tt),Vt=function(){return function(e,t){this.time=e,this.value=t}}(),Wt=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stateSubject=new xt({type:"empty"}),this.playerInitSubject=new Ht({type:"empty"}),this.playerSubject=new xt({type:"empty"}),this.playerTimeSubject=new xt({type:"empty"}),this.pluginSubject=new xt({type:"empty"}),this.controlsSubject=new xt({type:"empty"})};function Yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new tt;Yt(this,e),this.observationCenter=new Wt,this.config=void 0,this.pluginManager=void 0,this.player=this.createPlayer(t),this.currentMediaItem=void 0}var t,n,r;return t=e,(n=[{key:"initConfig",value:function(e){if(!(e instanceof tt))throw new Error("Config must be a MediaPlayerConfig object. For more information please see https://github.mlbam.net/pages/web-media/mlb-media-player/manual/examples.html");this.config=a()(e),this.currentMediaItem=o()(this.config,"mediaItem"),this.pluginManager=new rt(this.config,this.observationCenter)}},{key:"initPlayer",value:function(e){return this.player.initPlayer(e)}},{key:"createPlayer",value:function(e){return e&&this.initConfig(e),this.player=Ge.create(this.config,this.observationCenter),this.observationCenter.playerSubject.next(new Y.BaseMessage(m.MEDIA_PLAYER_CREATED,this)),this.observationCenter.playerInitSubject.next(new Y.BaseMessage(m.MEDIA_PLAYER_CREATED,this)),this.player}},{key:"canPlayNewMediaItem",value:function(e){var t=o()(this.config,"playerTypeConfig.deviceInfo");return Ge.getPlayerTypeFromSource(e.src,t)===o()(this.player,"playerTypeConfig.playerType")}},{key:"createNewPlayerForMediaItem",value:function(e){return e.src,this.player.destroy(),this.player=void 0,this.createPlayer(),this.initPlayer().catch((function(e){return s.error(e),e}))}},{key:"setMediaItem",value:function(e){return o()(this.currentMediaItem,"src")===o()(e,"src")?(s.info("Already playing this mediaItem"),s.info("Current MediaItem",this.currentMediaItem),s.info("New MediaItem",e),Promise.resolve()):(this.currentMediaItem=e,this.config.playerTypeConfig.mediaItem=e,this.player&&this.canPlayNewMediaItem(e)?(this.player.open(e),Promise.resolve()):this.player&&!this.canPlayNewMediaItem(e)?this.createNewPlayerForMediaItem(e):void 0)}},{key:"setPoster",value:function(e){this.config.poster=e,this.player.setPoster(e)}},{key:"pause",value:function(){this.player.pause()}},{key:"play",value:function(){return this.player.play()}},{key:"replay",value:function(){this.player.replay(),this.observationCenter.playerSubject.next(new Y.BaseMessage(m.MEDIA_REPLAY,this))}},{key:"stop",value:function(){this.player.stop()}},{key:"seek",value:function(e){this.player.seek(e)}},{key:"mute",value:function(){this.player.mute()}},{key:"unMute",value:function(){this.player.unMute()}},{key:"jumpToLive",value:function(e){this.player.jumpToLive(e)}},{key:"setVolume",value:function(e){this.player.setVolume(e)}},{key:"requestFullscreen",value:function(e){this.player.requestFullscreen(e)}},{key:"exitFullscreen",value:function(){this.player.exitFullscreen()}},{key:"setIsAdPlaying",value:function(e){this.player.setIsAdPlaying(e)}},{key:"removeDefaultControls",value:function(){this.player.removeDefaultControls()}},{key:"showClosedCaptions",value:function(e){this.player.showClosedCaptions(e)}},{key:"hideClosedCaptions",value:function(){this.player.hideClosedCaptions()}},{key:"getPlayerId",value:function(){return this.player.getPlayerId()}},{key:"Log",get:function(){return s}}])&&zt(t.prototype,n),r&&zt(t,r),e}(),qt={READY:"pluginReady"};function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.observationCenter=n,this.mediaPlayer=void 0,this.subscriptions=[],this.subscribe()}var t,n,r;return t=e,(n=[{key:"subscribe",value:function(){var e=this;this.subscriptions.push(this.observationCenter.playerInitSubject.subscribe((function(t){switch(o()(t,"type")){case m.MEDIA_PLAYER_CREATED:e.setMediaPlayer(t.mediaPlayer)}})))}},{key:"pluginReady",value:function(){this.observationCenter.pluginSubject.next(new F(qt.READY,this))}},{key:"setMediaPlayer",value:function(e){this.mediaPlayer=e,this.pluginReady()}},{key:"destroy",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))}}])&&$t(t.prototype,n),r&&$t(t,r),e}(),Zt={ADVERTISING:"ADVERTISING",ANALYTICS:"ANALYTICS",COMMUNICATION:"COMMUNICATION"}}])},e.exports=r()},"./src/js/entry.js":
/*!*************************!*\
  !*** ./src/js/entry.js ***!
  \*************************/
/*! exports provided: MarkTypes, perfApi */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./enums/mark-types */"./src/js/enums/mark-types.js");n.d(t,"MarkTypes",(function(){return r.default}));var o=n(/*! ./performance/performance-api */"./src/js/performance/performance-api.js");n.d(t,"perfApi",(function(){return o.default}))},"./src/js/enums/mark-types.js":
/*!************************************!*\
  !*** ./src/js/enums/mark-types.js ***!
  \************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),t.default={APP_READY:"__APP_READY_MARK",PLAYER_RENDERED:"__PLAYER_RENDERED_MARK",PLAYER_READY:"__PLAYER_READY_MARK"}},"./src/js/performance/performance-api.js":
/*!***********************************************!*\
  !*** ./src/js/performance/performance-api.js ***!
  \***********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n(/*! ./performance-polyfill */"./src/js/performance/performance-polyfill.js");var r=n(/*! lodash/get */"../../node_modules/lodash/get.js"),o=n.n(r),i=n(/*! mlb-media-player */"../mlb-media-player/dist/media-player.js"),a=n(/*! ../enums/mark-types */"./src/js/enums/mark-types.js"),s=n(/*! ../util/tracking-util */"./src/js/util/tracking-util.js"),l=n(/*! ../util/firebase-util */"./src/js/util/firebase-util.js");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.MarkTypes=a.default;var t={};"object"===f(window.webMediaPerformanceConfig)&&(t=window.webMediaPerformanceConfig),this.config=this.setConfig(t),this.adobeEnabled=o()(this.config,"adobe.enabled",!1),this.firebaseUtil=new l.default(o()(this.config,"firebase")),this.firebaseUtil.startAppReadyTrace(),this.firebaseUtil.startPlayerRenderedTrace(),this.marks=[]}var t,n,r;return t=e,(n=[{key:"setConfig",value:function(t){return this.config=Object.assign(e.DEFAULT_CONFIG,t),this.config}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.Log.debug.apply(i.Log,["PerformanceAPI"].concat(t))}},{key:"mark",value:function(e){if(this.adobeEnabled){if(this.config.ignoreDuplicates&&this.marks.indexOf(e)>-1)return void this.log("Mark already exists");this.config.debug&&(Object.values(a.default).indexOf(e)>-1?this.log("Marked with default mark:",e):this.log("Marked with custom mark:",e)),this.marks.push(e),performance.mark(e)}}},{key:"markAppReady",value:function(){this.firebaseUtil.stopAppReadyTrace(),this.firebaseUtil.startPlayerReadyTrace(),this.mark(a.default.APP_READY)}},{key:"markPlayerRendered",value:function(){this.firebaseUtil.stopPlayerRenderedTrace(),this.mark(a.default.PLAYER_RENDERED)}},{key:"markPlayerReady",value:function(){this.firebaseUtil.stopPlayerReadyTrace(),this.mark(a.default.PLAYER_READY)}},{key:"getMark",value:function(e){var t=performance.getEntriesByName(e,"mark");return t.length?t[0]:void this.log("".concat(e," did not exist."))}},{key:"measure",value:function(e){var t,n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0===i){if(n=e,!this._validMark(n))return void this.log("The requested mark does not exist:",n);t=void 0}else{if(t=e,!this._validMark(t))return void this.log("The requested mark does not exist:",t);if(n=i,!this._validMark(n))return void this.log("The requested mark does not exist:",n)}return o="".concat(t,"-").concat(n),performance.measure(o,t,n),r=performance.getEntriesByName(o,"measure"),r[0]}},{key:"track",value:function(e){return this.log("Track request for",e),this._track(e)}},{key:"trackPageLoadMetrics",value:function(){var e=this.measure(a.default.APP_READY),t=this.measure(a.default.APP_READY,a.default.PLAYER_RENDERED),n=this.measure(a.default.PLAYER_READY);if(e&&t&&n){var r={events:"event2",eVar74:e.duration,eVar75:t.duration,eVar76:n.duration};return this._track(r),!0}return!1}},{key:"_validMark",value:function(e){return Boolean(performance.getEntriesByName(e,"mark")[0])}},{key:"_track",value:function(e){var t=this,n=function(){return t.log("`trackAsync` not found")};"function"==typeof window.trackAsync&&(n=s.webMediaTrackAsync),n(e),this.log("Tracked performance for:",e)}}])&&d(t.prototype,n),r&&d(t,r),e}();p.DEFAULT_CONFIG={ignoreDuplicates:!1,debug:!0,firebase:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l.default.DEFAULT_CONFIG)},t.default=new p},"./src/js/performance/performance-polyfill.js":
/*!****************************************************!*\
  !*** ./src/js/performance/performance-polyfill.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r;!function(n){var o=Date.now?Date.now():+new Date,i=n.performance||{},a=[],s={},l=function(e,t){for(var n=0,r=a.length,o=[];n<r;n++)a[n][e]==t&&o.push(a[n]);return o},u=function(e,t){for(var n,r=a.length;r--;)(n=a[r]).entryType!=e||void 0!==t&&n.name!=t||a.splice(r,1)};i.now=i.webkitNow||i.mozNow||i.msNow||function(){return(Date.now?Date.now():+new Date)-o},i.mark=i.webkitMark||function(e){var t={name:e,entryType:"mark",startTime:i.now(),duration:0};a.push(t),s[e]=t},i.measure=i.webkitMeasure||function(e,t,n){var r,o;if(void 0!==n&&void 0===s[n])throw new SyntaxError("Failed to execute 'measure' on 'Performance': The mark '"+n+"' does not exist.");if(void 0!==t&&void 0===s[t])throw new SyntaxError("Failed to execute 'measure' on 'Performance': The mark '"+t+"' does not exist.");r=s[t]?s[t].startTime:0,o=s[n]?s[n].startTime:i.now(),a.push({name:e,entryType:"measure",startTime:r,duration:o-r})},i.getEntriesByType=i.webkitGetEntriesByType||function(e){return l("entryType",e)},i.getEntriesByName=i.webkitGetEntriesByName||function(e){return l("name",e)},i.clearMarks=i.webkitClearMarks||function(e){u("mark",e)},i.clearMeasures=i.webkitClearMeasures||function(e){u("measure",e)},n.performance=i,void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}(window)},"./src/js/util/firebase-util.js":
/*!**************************************!*\
  !*** ./src/js/util/firebase-util.js ***!
  \**************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! lodash/merge */"../../node_modules/lodash/merge.js"),o=n.n(r),i=n(/*! mlb-media-player */"../mlb-media-player/dist/media-player.js"),a=n(/*! ../enums/mark-types */"./src/js/enums/mark-types.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,e),this.config=o()(e.DEFAULT_CONFIG,t),this.app=void 0,this.performance=void 0,this.traces={},this.config.performance&&this.initialize()}var t,n,r;return t=e,(n=[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l({},o()(this.config,e));window.firebase&&(this.app=firebase.initializeApp(t),this.performance=firebase.performance(),this.traces[a.default.APP_READY]=this.performance.trace(a.default.APP_READY),this.traces[a.default.PLAYER_RENDERED]=this.performance.trace(a.default.PLAYER_RENDERED),this.traces[a.default.PLAYER_READY]=this.performance.trace(a.default.PLAYER_READY))}},{key:"startTrace",value:function(e){try{e.start()}catch(e){i.Log.error(e)}}},{key:"stopTrace",value:function(e){try{e.stop()}catch(e){i.Log.error(e)}}},{key:"startAppReadyTrace",value:function(){try{var e=this.traces[a.default.APP_READY];e&&this.startTrace(e)}catch(e){i.Log.error(e)}}},{key:"stopAppReadyTrace",value:function(){try{var e=this.traces[a.default.APP_READY];e&&e.state<=1&&e.stop(e)}catch(e){i.Log.error(e)}}},{key:"startPlayerRenderedTrace",value:function(){try{var e=this.traces[a.default.PLAYER_RENDERED];e&&this.startTrace(e)}catch(e){i.Log.error(e)}}},{key:"stopPlayerRenderedTrace",value:function(){try{var e=this.traces[a.default.PLAYER_RENDERED];e&&e.stop(e)}catch(e){i.Log.error(e)}}},{key:"startPlayerReadyTrace",value:function(){try{var e=this.traces[a.default.PLAYER_READY];e&&this.startTrace(e)}catch(e){i.Log.error(e)}}},{key:"stopPlayerReadyTrace",value:function(){try{var e=this.traces[a.default.PLAYER_READY];e&&e.stop(e)}catch(e){i.Log.error(e)}}},{key:"destroy",value:function(){return this.app&&!this.app.isDeleted_?this.app.delete():Promise.resolve()}}])&&f(t.prototype,n),r&&f(t,r),e}();d.TRACE_RUNNING=2,d.DEFAULT_CONFIG={enabled:!1,apiKey:"AIzaSyCiyQyauurcfu-tarxutEwv0tN8iXuT7rE",authDomain:"mlb-mediaeng-sbx-3e0c.firebaseapp.com",databaseURL:"https://mlb-mediaeng-sbx-3e0c.firebaseio.com",projectId:"mlb-mediaeng-sbx-3e0c",storageBucket:"mlb-mediaeng-sbx-3e0c.appspot.com",messagingSenderId:"914460453831",appId:"1:914460453831:web:d2976596cc33deab27c7e2",measurementId:"G-20L679SEDE"},t.default=d},"./src/js/util/tracking-util.js":
/*!**************************************!*\
  !*** ./src/js/util/tracking-util.js ***!
  \**************************************/
/*! exports provided: webMediaTrackAsync */function(e,t,n){"use strict";n.r(t),n.d(t,"webMediaTrackAsync",(function(){return i}));var r=n(/*! lodash/get */"../../node_modules/lodash/get.js"),o=n.n(r),i=function(e){var t=o()(window,"adobeAnalytics.account","mlbglobal08,mlbcom08"),n=window.s_gi(t),r=o()(window,"getStartupDeviceTypeString",(function(){return""}));if(n){n.clearVars(),function(e){var t=["eVar13","prop25","eVar28","prop26","prop27","prop28","prop29","prop30","prop32","prop33","prop34","prop43","prop49","eVar49","prop54"];for(var n in t)delete e[t[n]];e.events=""}(n);var i,a,s=o()(window,"adobeAnalytics.pageName","Default Page Name");for(var l in n.pageName=s,n.eVar73=t,n.prop11="Dynamic Page View",n.prop13=o()(e,"prop13",s),n.prop15=(a=r()).charAt(0).toUpperCase()+a.substr(1)+": "+(i=window.innerWidth||document.documentElement.clientWidth,(window.innerHeight||document.documentElement.clientHeight)>=i?"Portrait":"Landscape"),n.prop22=n.Util.cookieRead("oktaid")?n.Util.cookieRead("oktaid"):null,e)n[l]=e[l];n.usePlugins=!1,n.tl(!0,"o","http://myGenericURL"),n.usePlugins=!0}}}})},e.exports=r()},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(25)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(23),o=n(24),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(74),o=n(75),i=n(76),a=n(77),s=n(78);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(24);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(6),o=n(22),i=n(65),a=n(67);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(6),o=n(64),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=n(69);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(51),o=n(42);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(118),o=n(50)((function(e,t,n){r(e,t,n)}));e.exports=o},function(e,t){e.exports=o},function(e,t,n){var r=n(21),o=n(15);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(71),o=n(34),i=n(95),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:i(n);return l<0&&(l=a(s+l,0)),r(e,o(t,3),l)}},function(e,t,n){var r=n(72),o=n(88),i=n(43),a=n(6),s=n(92);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},function(e,t,n){var r=n(79),o=n(27);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},function(e,t,n){var r=n(25)(Object.keys,Object);e.exports=r},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(7);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return e}},function(e,t,n){(function(e){var r=n(45),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(100)(e))},function(e,t,n){var r=n(101),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(110),o=n(48),i=n(49);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(25)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(113),o=n(117);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}},function(e,t,n){var r=n(52),o=n(7);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(23),o=n(24);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var r,o,i,a,s;a=this,s=function(){var e=function(e,t){return new RegExp(e,t||"i")},t="iP(?:hone|ad|od)",n="(?:BlackBerry|BB10| RIM )",r="Windows",o=r+" Phone",i="Trident(?:.*?Touch(?:.*?Mobile))",a="Linux(?!.*Android)",s="Macintosh",l="CrOS",u="(?:"+[s,r,a,l].join("|")+")",c=/[\._]/,f={windowsphone:e(i+"|"+o+"|WPDesktop"),windows:e(r),ios:e(t),blackberry:e(n),android:e("Android"),linux:e(a),macintosh:e(s),chromebook:e(l)},d={desktop:/(?:Windows NT(?!.*WPDesktop)(?!.*Xbox))/i,tablet:e("("+["Tablet|iPad","\\sNT.*?"+i,"Android(?!.*Mobi)","silk",n+".*?Tablet","xbox"].join("|")+")"),phone:e("("+["Mobi|Mobile","WPDesktop",t,i,n].join("|")+")")},p={tablet:e("("+["Tablet|iPad","\\sNT.*?"+i,"Android(?!.*Mobi)","silk",n+".*?Tablet"].join("|")+")"),phone:e("("+["Mobi|Mobile",t,i,n].join("|")+")"),desktop:e(u)},h={msie:/msie|iemobile|trident/i,edge:/edge/i,android:/android(?!.+(?:chrome|silk))/i,chrome:/chrome|crios/i,firefox:/firefox/i,opera:/opera(?!.*?mini)\//i,operamini:/opera mini/i,silk:/silk/i,safari:/safari/i},g={webkit:/AppleWebKit/i,gecko:/gecko\//i,trident:/trident/i,edge:/Edge/i},m={desktop:"desktop",other:"desktop",phone:"phone",tablet:"tablet"},v={};function y(e){var t=e.split(c).slice(0,3);return e&&t.length<2&&t.push(0),t.join(".")}function b(e){return e=e||navigator.userAgent,v[e]?v[e]:this instanceof b?(v[e]=this,this.userAgent=e,this.is={},this.platform=this.getPlatform(),this.platformVersion=this.getPlatformVersion(),this.browser=this.getBrowser(),this.browserVersion=this.getBrowserVersion(),void(this.formFactor=this.getFormFactor())):new b(e)}return b.prototype={getPlatform:function(){return this.test(f)||"desktop"},getPlatformVersion:function(){return y(this.match(e("(?:"+(this.is.blackberry?"version":this.platform)+"|"+o+"|OS)[^\\d]+([\\d\\.\\_]+)","ig"),1))},getBrowser:function(){return this.test(g),this.test(h)||"desktop"},getFormFactor:function(){var e="";return e=this.is.msie?d:p,m[this.test(e)]||m.other},getBrowserVersion:function(){var t=this.browser,n="[\\/\\s]";return this.is.chrome&&this.is.ios?t="crios":this.is.opera?t="version":this.is.msie&&(t+="|IEMobile|rv",n="[\\/\\:\\s]"),y(this.match(e("(?:"+t+"|version)"+n+"([\\d\\.]+)","i"),1))},match:function(e,t){return function(e,t){return e&&t?e[t]:e}(e.exec(this.userAgent),t)||""},test:function(e){var t,n,r,o=this.userAgent;for(t in e)n=e[t].test(o),this.is[t]=this.is[t]||n&&!r,n&&!r&&(r=t);return r}},b},"undefined"==typeof bam||"function"!=typeof bam.define?(o=[],void 0===(i="function"==typeof(r=s)?r.apply(t,o):r)||(e.exports=i)):a.deviceBootstrap=s()},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t,n){var r=n(17),o=n(8),i=n(50),a=n(28),s=n(49),l=n(16),u=Object.prototype.hasOwnProperty,c=i((function(e,t){if(s(t)||a(t))o(t,l(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])}));e.exports=c},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(131)(n(33));e.exports=r},function(e){e.exports=JSON.parse('{"defaults":{"progress":{"eVar13":"@MEDIA_PLAYER_CONTEXT@","prop25":"@MEDIA_STREAM_ID@","eVar28":"@MEDIA_STREAM_ID@","prop26":"@MEDIA_PLAYER_VERSION@","prop27":"@MEDIA_PLAYER_CONTEXT@","prop28":"4.0","prop29":"Progressive Download","prop30":"@MEDIA_STREAM_TITLE@","prop32":"@MEDIA_INDEX_NAME@","prop33":"@GAMEDAY_GAME_ID@","prop34":"@GAMEDAY_GAME_PK@","prop35":"@CURRENT_TIME_STAMP@","prop43":"@MEDIA_TOPIC_NAME@","prop49":"@MEDIA_EMBED_HOST@","eVar49":"@MEDIA_EMBED_HOST@","prop54":"@MEDIA_SYSTEM_AUTO_PLAY@"}},"containers":{"${playerId}":[{"wire":{"defaults":"progress","pEventKey":"MEDIA_START"},"events":"event4,event2,event27"},{"wire":{"defaults":"progress","pEventKey":"PLAYBACK_PERCENT_25"},"events":"event67"},{"wire":{"defaults":"progress","pEventKey":"PLAYBACK_PERCENT_50"},"events":"event68"},{"wire":{"defaults":"progress","pEventKey":"PLAYBACK_PERCENT_75"},"events":"event69"},{"wire":{"pEventKey":"MEDIA_COMPLETE"},"events":"event2,event28","eVar13":"@MEDIA_PLAYER_CONTEXT@","prop25":"@MEDIA_STREAM_ID@","eVar28":"@MEDIA_STREAM_ID@","prop49":"@MEDIA_EMBED_HOST@","eVar49":"@MEDIA_EMBED_HOST@","prop54":"@MEDIA_SYSTEM_AUTO_PLAY@"}]}}')},function(e,t,n){"use strict";var r=n(63);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(66),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(17),o=n(21),i=n(32),a=n(7),s=n(15);e.exports=function(e,t,n,l){if(!a(e))return e;for(var u=-1,c=(t=o(t,e)).length,f=c-1,d=e;null!=d&&++u<c;){var p=s(t[u]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(u!=f){var g=d[p];void 0===(h=l?l(g,p,d):void 0)&&(h=a(g)?g:i(t[u+1])?[]:{})}r(d,p,h),d=d[p]}return e}},function(e,t,n){var r=n(70),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t,n){var r=n(73),o=n(87),i=n(40);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(18),o=n(35);e.exports=function(e,t,n,i){var a=n.length,s=a,l=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],f=e[c],d=u[1];if(l&&u[2]){if(void 0===f&&!(c in e))return!1}else{var p=new r;if(i)var h=i(f,d,c,e,t,p);if(!(void 0===h?o(d,f,3,i,p):h))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(19),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(19);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(19);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(19);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(18),o=n(80),i=n(85),a=n(86),s=n(37),l=n(6),u=n(26),c=n(38),f="[object Object]",d=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,h,g){var m=l(e),v=l(t),y=m?"[object Array]":s(e),b=v?"[object Array]":s(t),A=(y="[object Arguments]"==y?f:y)==f,C=(b="[object Arguments]"==b?f:b)==f,I=y==b;if(I&&u(e)){if(!u(t))return!1;m=!0,A=!1}if(I&&!A)return g||(g=new r),m||c(e)?o(e,t,n,p,h,g):i(e,t,y,n,p,h,g);if(!(1&n)){var _=A&&d.call(e,"__wrapped__"),E=C&&d.call(t,"__wrapped__");if(_||E){var w=_?e.value():e,S=E?t.value():t;return g||(g=new r),h(w,S,n,p,g)}}return!!I&&(g||(g=new r),a(e,t,n,p,h,g))}},function(e,t,n){var r=n(81),o=n(82),i=n(83);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var d=l.get(e),p=l.get(t);if(d&&p)return d==t&&p==e;var h=-1,g=!0,m=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++h<c;){var v=e[h],y=t[h];if(a)var b=u?a(y,v,h,t,e,l):a(v,y,h,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(v===e||s(v,e,n,a,l)))return m.push(t)}))){g=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},function(e,t,n){var r=n(6);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return r(e)?e:[e]}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(84);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(36),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var f=c;f--;){var d=u[f];if(!(l?d in t:o.call(t,d)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=l;++f<c;){var v=e[d=u[f]],y=t[d];if(i)var b=l?i(y,v,d,t,e,s):i(v,y,d,e,t,s);if(!(void 0===b?v===y||a(v,y,n,i,s):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var A=e.constructor,C=t.constructor;A==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof C&&C instanceof C||(g=!1)}return s.delete(e),s.delete(t),g}},function(e,t,n){var r=n(39),o=n(16);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},function(e,t,n){var r=n(35),o=n(0),i=n(89),a=n(22),s=n(39),l=n(40),u=n(15);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},function(e,t,n){var r=n(90),o=n(91);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(21),o=n(41),i=n(6),a=n(32),s=n(42),l=n(15);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,f=!1;++u<c;){var d=l(t[u]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&s(c)&&a(d,c)&&(i(e)||o(e))}},function(e,t,n){var r=n(93),o=n(94),i=n(22),a=n(15);e.exports=function(e){return i(e)?r(a(e)):o(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(31);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(18),o=n(97),i=n(17),a=n(98),s=n(99),l=n(44),u=n(46),c=n(103),f=n(105),d=n(36),p=n(107),h=n(37),g=n(108),m=n(109),v=n(47),y=n(6),b=n(26),A=n(111),C=n(7),I=n(112),_=n(16),E=n(20),w={};w["[object Arguments]"]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object DataView]"]=w["[object Boolean]"]=w["[object Date]"]=w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Map]"]=w["[object Number]"]=w["[object Object]"]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object Symbol]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Error]"]=w["[object Function]"]=w["[object WeakMap]"]=!1,e.exports=function e(t,n,S,T,k,x){var P,O=1&n,L=2&n,D=4&n;if(S&&(P=k?S(t,T,k,x):S(t)),void 0!==P)return P;if(!C(t))return t;var j=y(t);if(j){if(P=g(t),!O)return u(t,P)}else{var R=h(t),M="[object Function]"==R||"[object GeneratorFunction]"==R;if(b(t))return l(t,O);if("[object Object]"==R||"[object Arguments]"==R||M&&!k){if(P=L||M?{}:v(t),!O)return L?f(t,s(P,t)):c(t,a(P,t))}else{if(!w[R])return k?t:{};P=m(t,R,O)}}x||(x=new r);var N=x.get(t);if(N)return N;x.set(t,P),I(t)?t.forEach((function(r){P.add(e(r,n,S,r,t,x))})):A(t)&&t.forEach((function(r,o){P.set(o,e(r,n,S,o,t,x))}));var F=j?void 0:(D?L?p:d:L?E:_)(t);return o(F||t,(function(r,o){F&&(r=t[o=r]),i(P,o,e(r,n,S,o,t,x))})),P}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(8),o=n(16);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(8),o=n(20);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(102))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(8),o=n(104);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(8),o=n(106);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(7),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(43),o=n(114),i=n(116);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t,n){var r=n(115),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(l),r(e,this,u)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(18),o=n(53),i=n(119),a=n(121),s=n(7),l=n(20),u=n(54);e.exports=function e(t,n,c,f,d){t!==n&&i(n,(function(i,l){if(d||(d=new r),s(i))a(t,n,l,c,e,f,d);else{var p=f?f(u(t,l),i,l+"",t,n,d):void 0;void 0===p&&(p=i),o(t,l,p)}}),l)}},function(e,t,n){var r=n(120)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},function(e,t,n){var r=n(53),o=n(44),i=n(122),a=n(46),s=n(47),l=n(41),u=n(6),c=n(125),f=n(26),d=n(51),p=n(7),h=n(126),g=n(38),m=n(54),v=n(127);e.exports=function(e,t,n,y,b,A,C){var I=m(e,n),_=m(t,n),E=C.get(_);if(E)r(e,n,E);else{var w=A?A(I,_,n+"",e,t,C):void 0,S=void 0===w;if(S){var T=u(_),k=!T&&f(_),x=!T&&!k&&g(_);w=_,T||k||x?u(I)?w=I:c(I)?w=a(I):k?(S=!1,w=o(_,!0)):x?(S=!1,w=i(_,!0)):w=[]:h(_)||l(_)?(w=I,l(I)?w=v(I):p(I)&&!d(I)||(w=s(_))):S=!1}S&&(C.set(_,w),b(w,_,y,A,C),C.delete(_)),r(e,n,w)}}},function(e,t,n){var r=n(123);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(124);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(45).Uint8Array;e.exports=r},function(e,t,n){var r=n(28),o=n(27);e.exports=function(e){return o(e)&&r(e)}},function(e,t,n){var r=n(52),o=n(48),i=n(27),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},function(e,t,n){var r=n(8),o=n(20);e.exports=function(e){return r(e,o(e))}},function(e,t,n){var r=n(129);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(9)(!1)).push([e.i,".media-player{display:block;position:relative;flex:1;height:0;padding-bottom:56.25%}.media-player video,.media-player .ad-container{position:absolute;top:0;left:0;width:100%;height:100%}.media-player .ad-container{display:none}.media-player--ad-in-progress .ad-container{display:block}.media-player :focus{outline:0}.media-player ::-moz-focus-inner{border:0}\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t,n){var r=n(34),o=n(28),i=n(16);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!o(t)){var l=r(n,3);t=i(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,a);return u>-1?s[l?t[u]:u]:void 0}}},function(e,t,n){var r=n(133);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(9)(!1)).push([e.i,".leave-behind{display:flex;flex-direction:column;width:100%;height:100%;background:transparent;color:#333;font-family:'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;text-align:left}.leave-behind .title{font-size:17px;margin-top:0;margin-bottom:0;font-weight:bold}@media screen and (min-width: 768px){.leave-behind .title{font-size:26px}}.leave-behind small{font-size:14px;font-weight:lighter}@media screen and (min-width: 768px){.leave-behind small{font-size:16px}}.leave-behind .leave-behind-header{flex-grow:0;padding:30px 15px;background:#f7f7f7}.leave-behind .leave-behind-header .replay-action{cursor:pointer}.leave-behind .leave-behind-header .actions{text-transform:uppercase}.leave-behind .content{display:flex;flex:1 1 auto;flex-direction:column;overflow-y:auto;background-color:#fff}.leave-behind-playlist-item{position:relative;display:flex;padding:16px 14px;cursor:pointer}.leave-behind-playlist-item .image{display:none;flex-shrink:0;width:180px;margin-right:10px}.leave-behind-playlist-item img{display:block;width:100%}.leave-behind-playlist-item .information{display:flex;flex-direction:column;flex-grow:1}.leave-behind-playlist-item .actions{display:flex;flex-direction:column;flex-grow:0;justify-content:center;min-width:100px;text-align:center}.leave-behind-playlist-item i{font-size:30px}.leave-behind-tag{display:flex;position:relative;align-items:center;margin-right:10px;padding:1px;background:#00c0ff;box-shadow:0 3px 1px -2px #000;color:#fff;font:8px/12px 'benton_sans_cond_medium','mlb-primary','Helvetica Neue','Helvetica','Arial',sans-serif;font-size:8px;text-shadow:1px 1px 1px rgba(102,102,102,0.75);text-transform:uppercase}.leave-behind-tag::after{content:'';position:absolute;top:0;right:-1px;margin-right:-3px;border-width:7px 4px 7px 0;border-style:solid;border-color:#00c0ff transparent}.leave-behind-replay{position:relative;flex-grow:1;background:rgba(0,0,0,0.5);cursor:pointer}.leave-behind-replay .media-icon--recap{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:#fff;font-size:92px}@media screen and (min-width: 768px){.leave-behind-playlist .leave-behind-playlist-item .image{display:block}.playlist-item i{font-size:40px}}\n",""])},function(e,t,n){var r=n(135);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(9)(!1)).push([e.i,"object{width:100%}.overlay-play{width:40px;height:40px;opacity:0.9;cursor:pointer}.overlay-play.player-sm{width:30px;height:30px}.overlay-play.player-med{width:40px;height:40px}.overlay-play.player-lg{width:80px;height:80px}.overlay-play.player-xlg{width:80px;height:80px}.overlay-play:hover .overlay-play{opacity:1}.overlay-play:hover i{font-size:65px}.overlay-play .play-button>svg{width:40px;height:40px}.overlay-play .play-button.player-sm>svg{width:30px;height:30px}.overlay-play .play-button.player-med>svg{width:40px;height:40px}.overlay-play .play-button.player-lg>svg{width:80px;height:80px}.overlay-play .play-button.player-xlg>svg{width:80px;height:80px}\n",""])},function(e,t,n){var r=n(137);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(9)(!1)).push([e.i,".overlay{position:absolute;top:0;right:0;bottom:0;left:0;align-items:center;justify-content:center;background-color:#000;font-family:Helvetica;color:#fff}.overlay img{position:absolute;top:0;left:0;width:100%}.overlay:hover .overlay-play{opacity:1.0}.overlay:hover .play-button{opacity:1.0}.overlay:hover i{font-size:65px}.overlay h1{font-size:12px;font-weight:500;margin:2px auto;line-height:1.25}.overlay p{font-size:11px;font-weight:normal;margin:2px auto}.click-to-play-overlay{position:relative}.click-to-play-overlay img{opacity:.6}.click-to-play-overlay .overlay-metadata{position:absolute;left:50px;bottom:20px}.click-to-play-overlay .overlay-metadata h1{font-size:14px}.click-to-play-overlay .overlay-metadata p{display:inline;font-size:10px;font-weight:bold;letter-spacing:1px}.click-to-play-overlay .overlay-metadata.player-sm p{font-size:12px}.click-to-play-overlay .overlay-metadata.player-med{left:60px;bottom:25px}.click-to-play-overlay .overlay-metadata.player-med h1{font-size:18px}.click-to-play-overlay .overlay-metadata.player-med p{font-size:12px}.click-to-play-overlay .overlay-metadata.player-lg{left:112px;bottom:45px}.click-to-play-overlay .overlay-metadata.player-lg h1{font-size:20px}.click-to-play-overlay .overlay-metadata.player-lg p{font-size:14px}.click-to-play-overlay .overlay-metadata.player-lg .overlay-play{left:16px}.click-to-play-overlay .overlay-metadata.player-xlg{left:112px;bottom:45px}.click-to-play-overlay .overlay-metadata.player-xlg h1{font-size:20px}.click-to-play-overlay .overlay-metadata.player-xlg p{font-size:14px}.click-to-play-overlay .no-title{margin:12px auto}.click-to-play-overlay .no-datetime{margin:10px auto}.click-to-play-overlay .no-datetime.player-med{margin:5px auto}.click-to-play-overlay .overlay-play{position:absolute;left:10px;bottom:25px}.click-to-play-overlay .overlay-play.player-lg{left:16px}.click-to-play-overlay .overlay-play.player-xlg{left:16px}.click-to-play-overlay .centered-play-button{position:relative;left:auto;bottom:auto;margin:22% auto}.click-to-play-overlay-play{z-index:1;border-radius:50%;opacity:0.8;color:#fff;cursor:pointer}.click-to-play-overlay i{transition:font-size 0.2s;font-size:60px}\n",""])},function(e,t){},function(e,t,n){var r=n(140);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(9)(!1)).push([e.i,".overlay{position:absolute;top:0;right:0;bottom:0;left:0;align-items:center;justify-content:center;background-color:#000;font-family:Helvetica;color:#fff}.overlay img{position:absolute;top:0;left:0;width:100%}.overlay:hover .overlay-play{opacity:1.0}.overlay:hover .play-button{opacity:1.0}.overlay:hover i{font-size:65px}.overlay h1{font-size:12px;font-weight:500;margin:2px auto;line-height:1.25}.overlay p{font-size:11px;font-weight:normal;margin:2px auto}.leave-behind-overlay{display:flex;position:absolute;top:0;right:0;bottom:0;left:0;align-items:center;justify-content:center;text-align:center}.leave-behind-overlay img{opacity:.6}.leave-behind-overlay .overlay-play{margin:8px auto}.leave-behind-overlay .overlay-controls{position:relative}.leave-behind-overlay .overlay-controls.player-med h1{font-size:20px}.leave-behind-overlay .overlay-controls.player-med p{font-size:14px}.leave-behind-overlay .overlay-controls.player-lg h1{font-size:20px}.leave-behind-overlay .overlay-controls.player-lg p{font-size:14px}.leave-behind-overlay .overlay-controls.player-xlg h1{font-size:20px}.leave-behind-overlay .overlay-controls.player-xlg p{font-size:14px}.leave-behind-overlay .overlay-replay button{padding:6px 10px;border-radius:6px;background-color:rgba(255,255,255,0.8);color:#041e42;font-size:14px;font-stretch:normal;font-style:normal;font-weight:500;letter-spacing:0.75px;line-height:normal;text-align:center}.leave-behind-overlay .overlay-replay button.player-med{font-size:16px;padding:7px 14px}.leave-behind-overlay .overlay-replay button.player-lg{font-size:16px;padding:7px 14px}.leave-behind-overlay .overlay-replay button.player-xlg{font-size:16px;padding:7px 14px}.leave-behind-overlay i{transition:font-size 0.2s;font-size:60px}\n",""])},function(e,t,n){var r=n(142);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(9)(!1)).push([e.i,".app{display:flex;position:relative;align-items:center;justify-content:center;width:100%;height:100%}.app .leave-behind{display:flex;position:absolute;top:0;align-items:center;justify-content:center}:-webkit-full-screen{width:100%}\n",""])},function(e,t,n){"use strict";n.r(t),n.d(t,"EmbedApp",(function(){return vt})),n.d(t,"EmbedEvents",(function(){return j})),n.d(t,"MLBMediaItem",(function(){return Q})),n.d(t,"AbstractMediaItem",(function(){return O}));var r=n(1),o=n.n(r),i=n(2),a=n.n(i),s=n(55),l=n.n(s),u=n(0),c=n.n(u),f=n(3),d=n.n(f),p=(n(33),n(13)),h=n.n(p),g=n(56),m=n(57),v=n(5),y=n(30),b=n(14),A=n(4),C=n(58),I=n.n(C),_=n(59),E=n.n(_),w=n(29),S=n.n(w),T=n(12),k=n(11),x=n.n(k);function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.metaDataJson=void 0,this.requestParams=r,this.mediaConfig=n,this.locale=void 0,this.title=void 0,this.contentId=void 0,this.description=void 0,this.duration=void 0,this.tags=void 0,this.src=void 0,this.image=void 0,this.poster=void 0,this.date=void 0,this.isLive=void 0,this.prefetchNextItem=!0,this.vttItems=void 0}var t,n,r;return t=e,(n=[{key:"parseData",value:function(e){throw new Error("Implement parseData(data)")}},{key:"getPlaybackScenario",value:function(e,t){throw new Error("Implement getPlaybackScenario(playbacks, isLive)")}},{key:"getImage",value:function(e,t){throw new Error("Implement getImage(cuts, width)")}},{key:"getPoster",value:function(e,t){throw new Error("Implement getPoster(cuts, widthSizes)")}},{key:"getMetaData",value:function(){throw new Error("Implement getMetaData()")}},{key:"getAdConfig",value:function(e){throw new Error("Implement getAdConfig(data)")}}])&&P(t.prototype,n),r&&P(t,r),e}(),L=function(e){var t=e.playerId;return o.a.createElement("div",{id:"ad-container-".concat(t),className:"ad-container"})};L.propTypes={playerId:a.a.string.isRequired};var D=L,j={RESUME:"mediaResume",REPLAY:"mediaReplay",PAUSE:"mediaPaused",START:"mediaStart",COMPLETE:"mediaComplete",EMBED_USER_CLOSED:"embedUserClosed",AD_START:"adStart",AD_COMPLETE:"adComplete",META_DATA_LOADED:"metaDataLoaded",EMBED_PLAYER_CREATED:"embedPlayerCreated",EMBED_PLAYER_READY:"embedPlayerStart",EMBED_PREVIEW_READY:"embedVideoPreview",SHOW_CLICK_TO_PLAY:"showClickToPlay",SHOW_LEAVE_BEHIND:"showLeavebehind",SHOW_PLAYER:"showPlayer",STOP:"MEDIA_STOP",SET_CLIP_METADATA:"setClipMetadata",CLIP_METADATA_SET:"clipMetadataSet",UPDATE_PLAYLIST:"updatePlaylist",PLAYLIST_UPDATED:"playlistUpdated",LEAVE_BEHIND_COUNTDOWN_COMPLETE:"leaveBehindCountdownComplete",LEAVE_BEHIND_NEXT_CLIP_CLICK:"leaveBehindNextClipClick"};function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(128);var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(a,e);var t,n,r,i=G(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).bandwagonAdapter=void 0,t.playerIsReady=void 0,t.shouldRequestPreroll=!0,t.bandwagonAdapter,t.observationCenter=void 0,t.advertisingPlugin=void 0,t.adBlockedError=!1,t.state={adPlaying:!1,forcePlaybackAfterUpdate:!t.props.autoplay,sentTracking:!1,wasOnClick:!1},t}return t=a,(n=[{key:"componentDidMount",value:function(){this.createPlayer()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.state.adPlaying!==t.adPlaying,r=c()(this.props,"clip.src")!==c()(e,"clip.src"),o=this.props.children!==e.children;return n||r||o}},{key:"componentDidUpdate",value:function(e){var t=this.props.clip,n=c()(this.props,"clip.contentId")!=c()(e,"clip.contentId");this.playerIsReady&&n?(this.updatePlayerSource(),this.chartBeatPlugin&&this.chartBeatPlugin.setMetadata(t),this.publishMessage(j.META_DATA_LOADED,t)):this.playerIsReady&&this.props.wasClickToPlay&&(console.info("request ad or playback",this.playerIsReady,this.props.wasClickToPlay),this.requestAdOrPlayback(t))}},{key:"requestAdOrPlayback",value:function(e){console.info("requestAdOrPlayback() - shouldRequestPreroll, advertisingPlugin",!!this.shouldRequestPreroll,!!this.advertisingPlugin),this.shouldRequestPreroll&&this.advertisingPlugin?(this.mediaPlayer.setIsAdPlaying(!0),this.advertisingPlugin.requestAd(e)):this.mediaPlayer.play().then((function(e){console.info("requestAdOrPlayback() play then",e)})).catch((function(e){console.info("requestAdOrPlayback() play catch",e)}))}},{key:"setConvivaData",value:function(e){var t=this.mediaPlayer.pluginManager;this.convivaPlugin=t.getPlugin("ConvivaPlugin"),this.chartBeatPlugin&&this.chartBeatPlugin.setMetadata(e)}},{key:"updatePlayerSource",value:function(){var e=this,t=this.props,n=t.clip,r=t.wasClickToPlay,o=this.state.adPlaying,i={locale:c()(n,"locale"),poster:c()(n,"poster.src"),src:c()(n,"src"),metaData:c()(n,"data"),vttItems:c()(n,"vttItems")},a=new v.MediaItem(i),s=n&&r,l=c()(this.config,"playerTypeConfig.autoPlay",!1);return this.mediaPlayer.setMediaItem(a).then((function(){if(e.playerIsReady&&e.mediaPlayer.pause(),o||(e.shouldRequestPreroll=!e.adBlockedError),s&&!o||n&&l)return e.requestAdOrPlayback(n);console.info("set media item",s,o,!!n&&l)})).then((function(){c()(n,"isLive")&&e.mediaPlayer.jumpToLive()})).catch((function(e){console.info(e.name,e.message,e)}))}},{key:"getMediaPlayerConfig",value:function(){var e=this.props,t=e.mediaConfig,n=e.clip,r=e.preload,o=e.autoplay,i=e.shouldPlayInline,a=e.mute,s=e.loop,l=e.width,u=e.height,f=e.deviceInfo,d=e.playerId,p=["tablet","phone"].indexOf(f.formFactor)>-1,h={};return I()(h,t,{playerTypeConfig:N({domTarget:d,description:c()(n,"description"),subtitle:c()(n,"subtitle"),thumb:c()(n,"image.src"),title:c()(n,"title"),controls:p,preload:r,autoplay:o,shouldPlayInline:i,mute:a,loop:s,width:l,height:u,deviceInfo:f},t.playerTypeConfig)}),v.MediaConfigUtil.create(h)}},{key:"getAdPlugin",value:function(e,t){var n=this.props.playerId,r=c()(t,"videocore.advertising.freewheel.isFreeWheelSite")?"FreewheelPlugin":"DfpPlugin",o="".concat(r,"-").concat(n),i=e.getPlugin(o);return i||console.info("No plugin found for type ".concat(r,"!")),i}},{key:"publishMessage",value:function(e,t){var n=this.observationCenter.embedSubject;n&&n.next({type:e,data:t})}},{key:"createPlayer",value:function(){var e,t=this,n=this.props.clip,r=c()(n,"src");return this.config=this.getMediaPlayerConfig(),this.mediaPlayer=new v.MediaPlayer(this.config),this.observationCenter=this.mediaPlayer.observationCenter,this.subscribeToPlayerSubject(),this.subscribeToPlugInSubject(),this.props.onMediaPlayerReady(this.mediaPlayer),this.publishMessage(j.EMBED_PLAYER_CREATED,null),this.mediaPlayer.initPlayer(r).then((function(n){var r=t.props,o=r.mediaConfig,i=r.clip;e=t.mediaPlayer.pluginManager,t.bandwagonAdapter=e.getPlugin("BandwagonAdapter"),t.advertisingPlugin=t.getAdPlugin(e,o),t.chartBeatPlugin=e.getPlugin("ChartBeatPlugin"),t.updatePlayerSource().then((function(){t.playerIsReady=!0,b.perfApi.markPlayerReady(),t.state.sentTracking||(b.perfApi.trackPageLoadMetrics(),t.setState({sentTracking:!0})),t.props.autoplay?t.publishMessage(j.EMBED_PLAYER_READY,null):t.publishMessage(j.EMBED_PREVIEW_READY,null),i&&t.publishMessage(j.META_DATA_LOADED,i)})).catch((function(e){console.info("Error updating source",e)}))}))}},{key:"subscribeToPlayerSubject",value:function(){var e=this,t=v.MediaPlayerEvents.HTML5,n=v.MediaPlayerEvents.MEDIA_PLAYER;this.observationCenter.playerSubject.subscribe((function(r){switch(r.type){case t.MEDIA_COMPLETE:e.shouldRequestPreroll=!e.adBlockedError,e.props.onMediaComplete(),e.publishMessage(j.COMPLETE,r.data,!1);break;case t.MEDIA_PAUSE:e.publishMessage(j.PAUSE,r.data,!1);break;case t.MEDIA_RESUME:e.publishMessage(j.RESUME,r.data,!1);break;case n.MEDIA_REPLAY:e.shouldRequestPreroll=!1,e.publishMessage(j.REPLAY,r.data)}}))}},{key:"resumePlaybackAfterAd",value:function(e){var t=this.props.isVisible;this.setState({adPlaying:!1}),this.playerIsReady&&t&&(this.mediaPlayer.play().catch((function(e){console.info("call to play after ad block or error failed",e)})),this.publishMessage(j.START,e.data,!1))}},{key:"subscribeToPlugInSubject",value:function(){var e=this;this.observationCenter.pluginSubject.subscribe((function(t){if(t)switch(t.type){case"adLoaded":break;case"adRequestStarted":case"adStart":e.mediaPlayer.pause(),e.shouldRequestPreroll=!1,e.setState({adPlaying:!0});break;case"adRequestComplete":e.shouldRequestPreroll=!1,0===t.slots.length&&e.resumePlaybackAfterAd(t);break;case"adComplete":e.shouldRequestPreroll=!1,e.resumePlaybackAfterAd(t);break;case"adError":e.resumePlaybackAfterAd(t);break;case"adPluginError":case"adBlockDetected":e.adBlockedError=!0,e.shouldRequestPreroll=!1,e.resumePlaybackAfterAd(t)}}))}},{key:"replay",value:function(){this.mediaPlayer.replay()}},{key:"stop",value:function(){this.state.adPlaying&&this.advertisingPlugin&&(console.debug("MediaPlayer stop() ad"),this.advertisingPlugin.stop(),this.shouldRequestPreroll=!this.adBlockedError),console.debug("MediaPlayer stop() player"),this.mediaPlayer.stop(),this.mediaPlayer.observationCenter.playerSubject.next({type:j.SHOW_CLICK_TO_PLAY})}},{key:"render",value:function(){var e=this.props.playerId,t=E()("media-player",{"media-player--ad-in-progress":this.state.adPlaying});return b.perfApi.markPlayerRendered(),o.a.createElement("div",{id:e,className:t,tabIndex:"0",role:"group","aria-label":"MLB Media Player"},o.a.createElement(D,{playerId:e}),this.props.children)}}])&&B(t.prototype,n),r&&B(t,r),a}(r.Component);W.propTypes={onMediaPlayerReady:a.a.func,onMediaComplete:a.a.func,clip:a.a.instanceOf(O),autoplay:a.a.bool,shouldPlayInline:a.a.bool,mediaConfig:a.a.object,deviceInfo:a.a.object,playerId:a.a.string.isRequired,wasClickToPlay:a.a.bool,isVisible:a.a.bool},W.defaultProps={onMediaComplete:function(){return null},onMediaPlayerReady:function(){return null},clip:null,autoplay:!1,preload:!0,mute:!1,loop:!1,width:null,height:null,deviceInfo:void 0,locale:"en",wasClickToPlay:!1,isVisible:!0};var Y=W;function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}function X(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(i,e);var t,n,r,o=$(i);function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e,t,n)).parseData(e),r}return t=i,(n=[{key:"parseData",value:function(e){this.data=e,this.locale=c()(e,"locale","en");var t=this.getPlaybackScenario(c()(e,"playbacks",[]),"MEDIA_ON"===c()(e,"mediaState"),this.mediaConfig),n=c()(this.mediaConfig,"videocore.advertising.getMediaItemAdConfig"),r=c()(e,"image.cuts",[]),o=c()(e,"closedCaptions",[]);this.title=c()(e,"title"),this.contentId=c()(e,"contentId")||c()(e,"content_id")||c()(e,"id"),this.description=c()(e,"description"),this.duration=c()(e,"duration"),this.tags={},this.src=c()(t,"url"),this.image=this.getImage(r,372),this.poster=this.getPoster(r,[1024,960]),this.date=c()(e,"date"),this.isLive="MEDIA_ON"===c()(e,"mediaState"),this.prefetchNextItem=c()(e,"prefetchNextItem",!0),this.vttItems=o&&o.length>0?[{label:"English",src:o,srclang:"en",default:!0}]:[],this.adConfig=n?n(e):this.getAdConfig(e),this.data&&this.title&&this.description&&this.src&&(this.metaDataJson=e)}},{key:"getPlaybackScenario",value:function(e,t){var n;n=t?c()(this.mediaConfig,"global.livePlaybackScenarios",[]):c()(this.mediaConfig,"global.preferredPlaybackScenarios",[]);var r=[];return n.forEach((function(t){var n=e.filter((function(e){return e.name===t}))[0];n&&r.push(n)})),r[0]||{}}},{key:"getImage",value:function(e,t){return e.filter((function(e){return"16:9"===e.aspectRatio})).sort((function(e,t){return e.width<t.width?-1:1})).find((function(e){return e.width>=t}))}},{key:"getPoster",value:function(e,t){var n,r=this;if("object"===z(t)&&t.length>0)return t.find((function(t){var o=r.getImage(e,t);return void 0!==o&&(n=o,!0)})),n}},{key:"getMetaData",value:function(){var e=this,t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",r=e.metadataServiceBase;return"".concat(r,"/data-service/").concat(n,"/videos/").concat(t)}(this.mediaConfig,this.contentId,this.locale);return console.log("getMetaData() cmsDataURL",t),this.metaDataJson?(console.log("getMetaData() return cached data"),Promise.resolve(this)):(console.log("getMetaData() fetch"),fetch(t).then((function(e){return console.log("getMetaData().then()"),e.json()})).then((function(t){return console.log("getMetaData().then().then()"),e.metaDataJson=t,e.parseData(e.metaDataJson,e.mediaConfig),console.log("getMetaData().then().then() dataParsed"),e})))}},{key:"getAdConfig",value:function(e){var t=x.a.env,n={vid:c()(e,"id"),aam_uuid:Object(T.get)("aam_uuid")||"",env:t},r=c()(this.requestParams,"query.cust_params"),o={};if(r)try{o=JSON.parse(r)}catch(e){console.debug('WARNING: There was an issue parsing "cust_params". "cust_params" should be URL encoded JSON.',e)}return n=S()({},n,o),{vid:c()(e,"id"),cust_params:n}}}])&&K(t.prototype,n),r&&K(t,r),i}(O),J=n(60),ee=n.n(J);function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var re=function(e){return e.selected},oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;te(this,e),this.CustomMetaDataLoader=a,this.mediaConfig=o,this._items=void 0,this.items=t,this.topicId=r,this.requestParams=i,n&&this.setSelectedItem(n)}var t,n,r;return t=e,(n=[{key:"unsetSelectedItem",value:function(){this.items.forEach((function(e){d()(e,"selected",!1)}))}},{key:"setSelectedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=ee()(this.items,{contentId:e});if(this.getSelectedItem(),t){var n=c()(t,"data");if(this.unsetSelectedItem(),d()(t,"selected",!0),n&&d()(t,"metaDataJson",n),t.prefetchNextItem){var r=this.items[this.getSelectedItemIndex()+1]||this.items[0];r&&r.getMetaData()}}}},{key:"setSelectedItemByIndex",value:function(e){var t=this.getItemByIndex(e);return t&&this.setSelectedItem(t.contentId),t}},{key:"getItemByIndex",value:function(e){return this.items[e]}},{key:"getSelectedItem",value:function(){return this.items.find(re)}},{key:"getSelectedItemIndex",value:function(){return this.items.findIndex(re)}},{key:"getNextItem",value:function(){return this.items[this.getSelectedItemIndex()+1]||this.items[0]}},{key:"items",set:function(e){var t=this;this._items=e.map((function(e){return t.CustomMetaDataLoader?new t.CustomMetaDataLoader(e,t.mediaConfig,t.requestParams):new Q(e,t.mediaConfig,t.requestParams)}))},get:function(){return this._items}},{key:"length",get:function(){return this._items.length}}])&&ne(t.prototype,n),r&&ne(t,r),e}(),ie=function(e){var t,n=e.seconds,r=void 0===n?0:n,o=e.signal,i=void 0===o?function(){return null}:o,a=e.complete,s=void 0===a?function(){return null}:a,l=r,u=setInterval((function(){0===l?(t(),s()):i(--l)}),1e3);return{cancel:t=function(){return clearInterval(u)}}};function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fe(e);if(t){var o=fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(a,e);var t,n,r,i=ue(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={countdown:e.countdown},t.countdownInstance=ie({seconds:e.countdown,signal:function(e){return t.setState({countdown:e})},complete:function(){return e.onSelectItem(e.playlist.getNextItem())}}),t.listRefs={},t.onCreateListRef=function(e,n){t.listRefs[n]=e},t}return t=a,(n=[{key:"componentDidUpdate",value:function(e,t,n){var r=this.props.playlist.getSelectedItem(),o=this.listRefs[r.contentId];o.parentNode.parentNode.scrollTop=o.offsetTop-16}},{key:"componentWillUnmount",value:function(){this.countdownInstance&&this.countdownInstance.cancel()}},{key:"render",value:function(){var e=this,t=this.props,n=t.playlist,r=t.onSelectItem,i=this.state.countdown,a=n.getNextItem(),s=n.getSelectedItem();return o.a.createElement("div",{className:"leave-behind-playlist"},n.items.map((function(t){var n=t.contentId===s.contentId,l=t.contentId===a.contentId;return o.a.createElement("div",{key:t.contentId,ref:function(n){return e.onCreateListRef(n,t.contentId)},onClick:function(){return r(t)},className:"leave-behind-playlist-item"},o.a.createElement("div",{className:"image"},o.a.createElement("img",{src:t.image.src,alt:t.title})),o.a.createElement("div",{className:"information"},o.a.createElement("h1",{className:"title"},t.tags.statcast?o.a.createElement("span",{className:"leave-behind-tag statcast"},"Statcast â¢"):null,t.title),o.a.createElement("small",null,"| ",t.duration)),o.a.createElement("div",{className:"actions"},l?o.a.createElement("small",{className:"countdown"},"Next in: ",i):null,n?o.a.createElement("i",{className:"media-icon media-icon--recap"}):o.a.createElement("i",{className:"media-icon media-icon--play"})))})))}}])&&se(t.prototype,n),r&&se(t,r),a}(r.Component);de.propTypes={playlist:a.a.instanceOf(oe),countdown:a.a.number,onSelecItem:a.a.func},de.defaultProps={playlist:new oe([]),onSelectItem:function(){return null},countdown:7};var pe=de,he=function(e){var t=e.onClick,n=e.mediaItem;return o.a.createElement("div",{onClick:t,className:"leave-behind-replay"},o.a.createElement("h1",null,n.title),o.a.createElement("i",{className:"media-icon media-icon--recap"}))},ge="list";function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ce(e);if(t){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ae(this,n)}}function Ae(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(132);var Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(a,e);var t,n,r,i=be(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={countdown:e.countdown},t}return t=a,(n=[{key:"determineLeaveBehindType",value:function(){var e=this.props,t=e.playlist,n=e.onSelectItem,r=e.type,i={playlist:t,countdown:this.state.countdown,onSelectItem:n},a=t.getSelectedItem(),s=void 0;switch(r){case ge:s=o.a.createElement(pe,i);break;default:s=o.a.createElement(he,{onClick:function(){n(a)},mediaItem:a})}return s}},{key:"render",value:function(){return this.props.playlist.getSelectedItem(),o.a.createElement("div",{className:"leave-behind"},o.a.createElement("section",{className:"content"},this.determineLeaveBehindType()))}}])&&ve(t.prototype,n),r&&ve(t,r),a}(r.Component);function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Ie.propTypes={playlist:a.a.instanceOf(oe),countdown:a.a.number,onSelecItem:a.a.func,type:a.a.string},Ie.defaultProps={playlist:new oe([]),onSelectItem:function(){return null},countdown:7,type:ge};var Ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getDfpParams",value:function(t){var n=e.getPpid(),r=c()(t,"isEu",!1),o=e.getNpa(r),i=(window.dataBootstrap,x.a.env),a={iu:c()(t,"iu"),description_url:c()(t,"description_url","[description_url]"),env:c()(t,"env","vp"),correlator:c()(t,"correlator","[timestamp]"),gdfp_req:c()(t,"gdfp_req","1"),output:c()(t,"output","vmap"),sz:c()(t,"sz","640x480"),unviewed_position_start:c()(t,"unviewed_position_start","1"),url:c()(t,"url","[referrer_url]"),cmsid:c()(t,"cmsid",null),ad_rule:c()(t,"ad_rule","1"),pp:c()(t,"pp","mlb_csai_vod_desktop"),ciu_szs:c()(t,"ciu_szs","300x100")};return n&&d()(a,"ppid",n),void 0!==o&&d()(a,"npa",o),i&&(a.iu=a.iu.replace("{env}","qa"===i||"local"===i?"qa_":"")),a}},{key:"getPpid",value:function(){return Object(T.get)("ipid")}},{key:"getNpa",value:function(e){var t=Object(T.get)("notice_gdpr_prefs")||"";return e&&-1===t.indexOf("2")?"1":"0"}}],(n=null)&&_e(t.prototype,n),r&&_e(t,r),e}(),we=n(61);function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Te=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getBandwagonConfig",value:function(e,t){var n=c()(e,"videocore.events.bandwagonAdapter");if(n&&n.enabled){var r={name:"BandwagonAdapter",type:"COMMUNICATION",pluginReference:A.Communication.BandwagonAdapter,bandwagonKey:t,targetPlayerEvents:c()(n,"targetPlayerEvents",{}),targetPluginEvents:c()(n,"targetPluginEvents",{})};e.pluginConfigs.push(r)}}},{key:"getEventReplicatorConfig",value:function(e,t){var n=c()(e,"videocore.events.replicator");if(n&&n.enabled){var r={name:"EventReplicator",type:"COMMUNICATION",pluginReference:A.Communication.EventReplicator,parentWindow:window.parent,playerId:t,bandwagonKey:t,eventsToReplicate:c()(n,"eventsToReplicate",[])};e.pluginConfigs.push(r)}}},{key:"getAdvertisingPluginConfig",value:function(e,t){var n,r=c()(e,"videocore.advertising"),o=c()(r,"freewheel.isFreeWheelSite"),i=c()(r,"dfp.isDFPSite"),a=c()(r,"dfp.getDfpParams");if(i){var s=c()(r,"dfp"),l=c()(s,"autoPlay",!0),u=c()(s,"muted",!1);if(!s||!s.enabled)return;(n={name:"DfpPlugin-".concat(t),type:"ADVERTISING",pluginReference:A.DfpPlugin,videoAdContainerId:"ad-container-".concat(t),controls:!0,autoPlay:l,muted:u,playsinline:!0,customAdRequestBuilder:c()(r,"customAdRequestBuilder"),dfp:s}).dfp.getDfpParams=a||Ee.getDfpParams}else{if(!o)return void console.info("No advertising plugin configuration found.");var f=c()(r,"freewheel");if(!f||!f.enabled)return;n={name:"FreewheelPlugin-".concat(t),type:"ADVERTISING",pluginReference:A.FreewheelPlugin,videoAdContainerId:"ad-container-".concat(t),controls:!0,autoPlay:!0,muted:!0,playsinline:!0,customAdRequestBuilder:c()(r,"customAdRequestBuilder"),freewheel:c()(e,"videocore.advertising.freewheel")}}e.pluginConfigs.push(n)}},{key:"getWireTapConfigForPlayer",value:function(e,t){var n={};return n["#".concat(t)]=c()(e,"containers['${playerId}']"),d()(e,"containers",n),e}},{key:"getOmniturePluginConfig",value:function(t,n){var r=c()(t,"videocore.tracking.omniture"),o=c()(r,"wiretapVideoJson",we),i=e.getWireTapConfigForPlayer(h()(o),n);if(r&&r.enabled){d()(r,"wiretapVideoJson",i);var a={pluginReference:A.OmniturePlugin,name:"OmniturePlugin",type:"ANALYTICS",omniture:r};t.pluginConfigs.push(a)}}},{key:"getChartBeatPluginConfig",value:function(e){var t=c()(e,"videocore.tracking.chartBeat");t&&t.enabled&&(d()(t,"pluginReference",A.ChartBeatPlugin),e.pluginConfigs.push(t))}},{key:"generateConvivaAssetName",value:function(e){var t="{date} - {title} | {id}";for(var n in e){var r=e[n];if("date"===n){var o=(r=new Date(r)).getUTCFullYear(),i=(r.getUTCMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=r.getUTCDate().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1});r=o+"-"+i+"-"+a,t=t.replace(new RegExp("{"+n+"}","g"),r)}else t=t.replace(new RegExp("{"+n+"}","g"),r)}return t}},{key:"getConvivaPluginConfig",value:function(t){var n=c()(t,"videocore.tracking.conviva"),r=c()(n,"generateConvivaAssetName")||e.generateConvivaAssetName;if(n&&n.enabled){var o={name:"ConvivaPlugin",type:"ANALYTICS",pluginReference:A.ConvivaPlugin,generateConvivaAssetName:r,conviva:n};t.pluginConfigs.push(o)}}}],(n=null)&&Se(t.prototype,n),r&&Se(t,r),e}(),ke="clickToPlay",xe="leaveBehind";function Pe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n(134);var Le=function(e){e.styles;var t=Pe(e,["styles"]);return o.a.createElement("svg",Oe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 60"},t),o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("circle",{cx:"30",cy:"30",r:"30",fill:"#fff",fillOpacity:".8"}),o.a.createElement("path",{fill:"#222",d:"M41.707 28.226c1.819 1.256 1.816 3.293 0 4.547l-14.414 9.953C25.474 43.982 24 43.207 24 40.998V20.002c0-2.21 1.477-2.983 3.293-1.729l14.414 9.953z"})))},De=function(e){var t=e.onClick,n=(e.metaData,e.classes),r=e.buttonClasses;return o.a.createElement("div",{className:"overlay-play ".concat(n),onClick:t},o.a.createElement("div",{className:"play-button ".concat(r)},o.a.createElement(Le,null)))},je={0:{long:"January",short:"Jan"},1:{long:"February",short:"Feb"},2:{long:"March",short:"Mar"},3:{long:"April",short:"Apr"},4:{long:"May",short:"May"},5:{long:"June",short:"Jun"},6:{long:"July",short:"Jul"},7:{long:"August",short:"Aug"},8:{long:"September",short:"Sep"},9:{long:"October",short:"Oct"},10:{long:"November",short:"Nov"},11:{long:"December",short:"Dec"}},Re="player-sm",Me="player-med",Ne="player-lg",Fe="player-xlg",Be=function(e,t,n){return"overlay-metadata ".concat(e).concat(t?"":" no-title").concat(n?"":" no-datetime")},Ue=function(e,t,n){var r=!t&&!n;return"".concat(e).concat(r?" centered-play-button":"")},Ge=function(e){var t=e.clip,n=e.mediaConfig,r=e.playerSize,i=c()(n,"embed.metaDataDisplay",{title:!0,dateTimeDisplay:!0}),a=i.titleEnabled,s=i.dateTimeEnabled,l=c()(t,"poster.at3x",c()(t,"poster.src","")),u=c()(t,"title"),f=new Date(c()(t,"date")),d=function(e){if(e){var t=e.split(":"),n=parseInt(t[0]),r=parseInt(t[1]),o=t[2];return n>9?e:n<10&&n>0?"".concat(n,":").concat(t[1],":").concat(t[2]):(r<=0&&n>0&&(r=t[1]),n<=0?"".concat(r,":").concat(o):e)}}(c()(t,"duration"));return o.a.createElement("div",{className:"overlay click-to-play-overlay ".concat(r),onClick:e.onClick},o.a.createElement("img",{className:"scrim",src:l,alt:u}),o.a.createElement("div",{className:Be(r,a,s)},s?o.a.createElement("div",{className:"date-time"},o.a.createElement("p",{className:"date"},function(e){return"".concat(je[e.getMonth()].short," ").concat(e.getDate(),", ").concat(e.getFullYear())}(f)),o.a.createElement("p",null,"Â Â·Â "),d?o.a.createElement("p",{className:"duration"},d):null):null,a?o.a.createElement("h1",{className:"title"},u):null),o.a.createElement(De,{classes:Ue(r,a,s),buttonClasses:r}))};Ge.propTypes={mediaConfig:a.a.object,onClick:a.a.func,clip:a.a.object,playerSize:a.a.string},Ge.defaultProps={mediaConfig:{},onClick:function(){},clip:{},playerSize:Re};var He=Ge,Ve=(n(136),He);function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qe(this,n)}}function qe(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?$e(e):t}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(a,e);var t,n,r,i=Ke(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={countdown:t.props.countdown},t.countdownInstance=ie({seconds:t.props.countdown,signal:t.onUpdateCountdown.bind($e(t)),complete:t.onCountdownComplete.bind($e(t))}),t}return t=a,(n=[{key:"componentWillUnmount",value:function(){this.countdownInstance.cancel()}},{key:"onUpdateCountdown",value:function(e){this.setState({countdown:e})}},{key:"onCountdownComplete",value:function(){var e=this.props.playlist.getNextItem();this.props.onCountdownComplete(e)}},{key:"render",value:function(){var e=this.state.countdown;return o.a.createElement("div",{className:"countdown"},o.a.createElement("p",null,"Next Video in ",e))}}])&&Ye(t.prototype,n),r&&Ye(t,r),a}(r.Component);Ze.propTypes={countdown:a.a.number,playlist:a.a.instanceOf(oe),onCountdownComplete:a.a.func.isRequired},Ze.defaultProps={countdown:7,playlist:new oe([])};var Qe=Ze,Je=(n(138),Qe);function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=it(e);if(t){var o=it(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ot(this,n)}}function ot(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(a,e);var t,n,r,i=rt(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"onClickNextClip",value:function(){event.stopPropagation();var e=this.props,t=e.playlist,n=e.onClickNextClip,r=t.getNextItem();t.setSelectedItem(r.contentId),n(r)}},{key:"onClickReplay",value:function(e){e.stopPropagation();var t=this.props,n=t.playlist;(0,t.onClickReplayClip)(n.getSelectedItem())}},{key:"onCountdownComplete",value:function(){var e=this.props,t=e.playlist,n=e.onCountdownComplete,r=t.getNextItem();t.setSelectedItem(r.contentId),n(r)}},{key:"render",value:function(){var e=this.props,t=e.countdown,n=e.playlist,r=e.playerSize,i=n.getNextItem(),a=c()(i,"poster.at3x",c()(i,"poster.src","")),s=c()(i,"title");return o.a.createElement("div",{className:"overlay leave-behind-overlay ".concat(r),onClick:this.onClickNextClip.bind(this)},o.a.createElement("img",{src:a,alt:s}),o.a.createElement("div",{className:"scrim"}),o.a.createElement("div",{className:"overlay-controls ".concat(r)},o.a.createElement(Je,{countdown:t,playlist:n,onCountdownComplete:this.onCountdownComplete.bind(this)}),o.a.createElement("div",{className:"overlay-title"},o.a.createElement("h1",null,s)),o.a.createElement(De,{classes:r,buttonClasses:r}),o.a.createElement("div",{className:"overlay-replay"},o.a.createElement("button",{className:r,onClick:this.onClickReplay.bind(this)},"REPLAY"))))}}])&&tt(t.prototype,n),r&&tt(t,r),a}(r.Component);at.propTypes={countdown:a.a.number,playlist:a.a.instanceOf(oe),onCountdownComplete:a.a.func,onClickNextClip:a.a.func,onClickReplayClip:a.a.func,playerSize:a.a.string},at.defaultProps={countdown:7,playlist:new oe([]),onCountdownComplete:function(){return null},onClickNextClip:function(){return null},onClickReplayClip:function(){return null},playerSize:Re};var st=at,lt=(n(139),st);function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gt(e);if(t){var o=gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pt(this,n)}}function pt(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?ht(e):t}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(141);var mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(a,e);var t,n,r,i=dt(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=(t=i.call(this,e)).props,r=n.initialMedia,s=n.list,l=n.requestParams,u=n.topicId,f=l.query,d=h()(s),p=t.findInitialMediaMetadata(r),m=t.findInitialContentId(p);d.unshift(p),t.deviceInfo=void 0,t.autoPlay=void 0,t.mute=c()(f,"mute",!1),t.observationCenter=void 0,t.embedSubject=new g.BehaviorSubject({type:"empty"}),t.mediaConfig=t.setUpMediaConfig(),t.getNextItemMetadataOverride=c()(t.mediaConfig,"getNextItemMetadataOverride"),t.playlist=t.createPlaylist(d,m,u),t.mediaPlayerRef=o.a.createRef(),t.lbType=c()(f,"lb"),t.leaveBehindEnabled=c()(f,"leaveBehindEnabled",!1),t.autoPlayParam=c()(f,"autoPlay")||c()(f,"autoplay",!1),t.initAutoPlay(),t.initDevice();var v=t.playlist.getSelectedItem();return t.state={showOverlay:!t.autoPlay,overlayType:ke,mediaPlayer:void 0,clip:v,showControls:!1,playerSize:Re,sentTracking:!1,wasClickToPlay:!1},t.onClickToPlay=t.onClickToPlay.bind(ht(t)),t.onMediaPlayerReady=t.onMediaPlayerReady.bind(ht(t)),t.onMediaComplete=t.onMediaComplete.bind(ht(t)),t.onCountdownComplete=t.onCountdownComplete.bind(ht(t)),t.onClickReplayClip=t.onClickReplayClip.bind(ht(t)),t.onClickNextClip=t.onClickNextClip.bind(ht(t)),t}return t=a,(n=[{key:"componentDidMount",value:function(){this.state.sentTracking||(b.perfApi.markAppReady(),this.setState({sentTracking:!0}))}},{key:"componentDidUpdate",value:function(e,t){t.showOverlay&&!this.state.showOverlay&&this.embedSubject.next({type:j.EMBED_PLAYER_READY})}},{key:"createPlaylist",value:function(e,t,n){var r=this.props,o=r.requestParams,i=r.customMetaDataLoader;return new oe(e,t,n,this.mediaConfig,o||{},i)}},{key:"findInitialMediaMetadata",value:function(e){return c()(e,"metaData",c()(e,"data",e))}},{key:"findInitialContentId",value:function(e){return c()(e,"contentId",c()(e,"content_id",c()(e,"id")))}},{key:"initAutoPlay",value:function(){this.autoPlay=[!0,"true",1,"1"].indexOf(this.autoPlayParam)>-1}},{key:"initDevice",value:function(){this.deviceInfo=l()(),this.isMobile=["phone","tablet"].indexOf(this.deviceInfo.formFactor)>-1}},{key:"determinePlayerSize",value:function(e,t){return e>=512&&e<768?Me:e>=768&&e<830?Ne:e>=830?Fe:Re}},{key:"registerEmbedSubject",value:function(e,t){e.embedSubject=t}},{key:"createMediaItem",value:function(e,t){var n=c()(this.props,"customMetaDataLoader");return n?new n(e,t):new Q(e,t)}},{key:"updatePlayList",value:function(e,t,n){var r,o=h()(c()(e,"playlistData")),i=c()(e,"initialClipId"),a=c()(e,"topicId");this.state.clip;try{if(a&&(d()(this.props,"mediaConfig.advertising.dfp.topicId",a),this.mediaConfig=this.setUpMediaConfig()),this.playlist=this.createPlaylist(o,void 0,a),this.embedSubject.next({type:j.PLAYLIST_UPDATED,playlist:this.playlist}),i){var s=this.playlist.getSelectedItemIndex(i);s=s>0?s-1:this.playlist.items.length-1,r=this.playlist.setSelectedItemByIndex(s),!n&&r&&this.setState({clip:r})}}catch(e){console.log("There was a problem creating the playlist",e)}}},{key:"subscribeToEmbedSubject",value:function(){var e=this;this.observationCenter.embedSubject.subscribe((function(t){var n=c()(e.state,"mediaPlayer"),r=c()(n,"player.stateModel.playing",!1),o=c()(n,"player.stateModel.mediaStarted",!1);switch(c()(n,"player.stateModel.isAdPlaying",!1),t.type){case j.SHOW_PLAYER:e.state.showOverlay&&e.setState({clip:e.playlist.getSelectedItem(),showOverlay:!1,wasClickToPlay:!0});break;case j.SHOW_CLICK_TO_PLAY:e.setState({showOverlay:!0,overlayType:ke,wasClickToPlay:!1}),e.mediaPlayerRef.current.stop();break;case j.SET_CLIP_METADATA:var i=c()(t,"mediaItem");e.playlist.setSelectedItem(i.contentId),e.setState({showOverlay:!1,overlayType:null,clip:i,wasClickToPlay:!0}),e.embedSubject.next({type:j.CLIP_METADATA_SET,clip:i});break;case j.UPDATE_PLAYLIST:e.updatePlayList(t,o,r)}}))}},{key:"subscribeToPlayerSubject",value:function(){var e=this;this.observationCenter.playerSubject.subscribe((function(t){var n=v.MediaPlayerEvents.HTML5,r=v.MediaPlayerEvents.MEDIA_PLAYER;switch(t.type){case n.CANPLAY:e.setState({showControls:!0});break;case r.PLAYER_RESIZED:var o=t.data,i=o.width,a=o.height;e.setState({playerSize:e.determinePlayerSize(i,a)})}}))}},{key:"subscribeToControlsSubject",value:function(){var e=this;this.observationCenter.controlsSubject.pipe(Object(m.filter)((function(e){return e.type===y.ControlsEvents.STOP}))).subscribe((function(t){e.setState({showOverlay:!0,overlayType:ke,wasClickToPlay:!1})}))}},{key:"subscribeToPluginSubject",value:function(){var e=this,t=v.MediaPlayerEvents.HTML5;this.observationCenter.pluginSubject.subscribe((function(n){switch(n.type){case A.AdvertisingPluginEvents.AD_LOADED:case A.AdvertisingPluginEvents.AD_REQUEST_STARTED:case A.AdvertisingPluginEvents.AD_START:case A.AdvertisingPluginEvents.AD_ERROR:e.setState({showControls:!0,wasClickToPlay:!1});break;case t.CANPLAY:case t.CANPLAYTHROUGH:case t.RESUME:e.setState({showControls:!0})}}))}},{key:"setUpMediaConfig",value:function(){var e=this.props,t=e.mediaConfig,n=e.playerId,r=h()(t);return d()(r,"pluginConfigs",c()(r,"pluginConfigs",[])),Te.getEventReplicatorConfig(r,n),Te.getBandwagonConfig(r,n),Te.getAdvertisingPluginConfig(r,n),Te.getOmniturePluginConfig(r,n),Te.getChartBeatPluginConfig(r,n),Te.getConvivaPluginConfig(r,n),r.metadataServiceBase=this.props.metadataServiceBase,r}},{key:"showLeaveBehind",value:function(){this.setState({showOverlay:!0,overlayType:xe,wasClickToPlay:!1}),this.observationCenter.embedSubject.next({type:j.SHOW_LEAVE_BEHIND,prevClip:this.state.clip,nextClip:this.playlist.getNextItem()})}},{key:"getNextItemMetadata",value:function(e){var t=this;(this.getNextItemMetadataOverride?this.getNextItemMetadataOverride(e):e.getMetaData()).then((function(e){t.setState({clip:e,showOverlay:!1,wasClickToPlay:!0})})).catch((function(e){console.error("ERROR: onClickNextClip",e)}))}},{key:"getMediaPlayerChildren",value:function(){var e=this.state,t=e.showOverlay,n=e.overlayType,r=e.playerSize,i=this.playlist.getSelectedItem();if(!t)return null;switch(n){case ke:return this.playlist.getSelectedItem(),o.a.createElement(Ve,{mediaConfig:this.mediaConfig,onClick:this.onClickToPlay,clip:i,playerSize:r});case xe:return o.a.createElement(lt,{mediaConfig:this.mediaConfig,countdown:this.props.countdown,playlist:this.playlist,onClick:this.onOverlayClick,onCountdownComplete:this.onCountdownComplete,onClickNextClip:this.onClickNextClip,onClickReplayClip:this.onClickReplayClip,playerSize:r})}}},{key:"onClickToPlay",value:function(){var e=this.playlist.getSelectedItem()||this.playlist.getNextItem();this.playlist.setSelectedItem(e.contentId),this.observationCenter.embedSubject.next({type:j.SHOW_PLAYER})}},{key:"onClickReplayClip",value:function(e){this.mediaPlayerRef.current&&this.state.clip?(this.setState({showOverlay:!1,wasClickToPlay:!0}),this.mediaPlayerRef.current.replay(),this.observationCenter.embedSubject.next({type:j.REPLAY,prevClip:this.state.clip,nextClip:this.playlist.getNextItem()})):this.setState({clip:e})}},{key:"onCountdownComplete",value:function(e){this.getNextItemMetadata(e),this.embedSubject.next({type:j.LEAVE_BEHIND_COUNTDOWN_COMPLETE,prevClip:this.state.clip,nextClip:e})}},{key:"onClickNextClip",value:function(e){this.getNextItemMetadata(e),this.embedSubject.next({type:j.LEAVE_BEHIND_NEXT_CLIP_CLICK,prevClip:this.state.clip,nextClip:e})}},{key:"onMediaPlayerReady",value:function(e){var t=this;this.setState({mediaPlayer:e},(function(){t.observationCenter=e.observationCenter,t.registerEmbedSubject(t.observationCenter,t.embedSubject),t.subscribeToEmbedSubject(),t.subscribeToPlayerSubject(),t.subscribeToControlsSubject(),t.subscribeToPluginSubject(),t.props.onMediaPlayerReady(e)}))}},{key:"onMediaComplete",value:function(){this.leaveBehindEnabled&&1!==this.playlist.length?this.playlist.length>1&&this.showLeaveBehind():c()(this.state,"mediaPlayer.observationCenter.embedSubject",{next:function(){return null}}).next({type:j.SHOW_CLICK_TO_PLAY})}},{key:"render",value:function(){var e=this.state,t=e.clip,n=e.showOverlay,r=e.mediaPlayer,i=e.showControls,a=e.wasClickToPlay,s=this.props,l=s.fullscreenElementId,u=s.locale,c=s.webMediaApm,f=s.playerId,d=(s.countdown,s.shouldPlayInline);return o.a.createElement("div",{className:"app"},o.a.createElement(Y,{ref:this.mediaPlayerRef,isVisible:!n,clip:t,wasClickToPlay:a,autoplay:this.autoPlay,shouldPlayInline:d,mute:this.mute,mediaConfig:this.mediaConfig,onMediaPlayerReady:this.onMediaPlayerReady,onMediaComplete:this.onMediaComplete,deviceInfo:this.deviceInfo,webMediaApm:c,playerId:f,locale:u},this.getMediaPlayerChildren()),void 0!==r&&!n&&i?o.a.createElement(y.PlayerControls,{deviceInfo:this.deviceInfo,mediaPlayer:this.state.mediaPlayer,playerWrapper:document.querySelector("#media-player"),fullscreenElementId:l}):null)}}])&&ct(t.prototype,n),r&&ct(t,r),a}(r.Component);mt.propTypes={mediaConfig:a.a.shape({embed:a.a.object}),requestParams:a.a.shape({query:a.a.object}),list:a.a.arrayOf(a.a.object),topicId:a.a.string,fullscreenElementId:a.a.string,onMediaPlayerReady:a.a.func,playerId:a.a.string,countdown:a.a.number,shouldPlayInline:a.a.bool,metadataServiceBase:a.a.string,customMetaDataLoader:a.a.shape({getMetaData:a.a.func,parseData:a.a.func,data:a.a.string,requestParams:a.a.string,mediaConfig:a.a.string,locale:a.a.string,contentId:a.a.string,title:a.a.string,description:a.a.string,duration:a.a.string,tags:a.a.string,src:a.a.string,image:a.a.string,poster:a.a.string,date:a.a.string,isLive:a.a.bool})},mt.defaultProps={mediaConfig:{},requestParams:{query:{}},list:[],fullscreenElementId:"media-player",onMediaPlayerReady:function(){},locale:"en",playerId:"media-player",countdown:7,metadataServiceBase:""};var vt=mt}])},e.exports=o(r(73),r(212),r(39),r(213),r(136),r(106))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(9),o=n(56),i=n(27),a=n(45),s=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,s=this._ctorUnsubscribe,u=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f)n[f].remove(this);if(Object(i.a)(u)){s&&(this._unsubscribe=void 0);try{u.call(this)}catch(e){t=e instanceof a.a?l(e.errors):[e]}}if(Object(r.a)(c)){f=-1;for(var d=c.length;++f<d;){var p=c[f];if(Object(o.a)(p))try{p.unsubscribe()}catch(e){t=t||[],e instanceof a.a?t=t.concat(l(e.errors)):t.push(e)}}}if(t)throw new a.a(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce((function(e,t){return e.concat(t instanceof a.a?t.errors:t)}),[])}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return f}));var r=n(0),o=n(4),i=n(1),a=n(6),s=n(25),l=n(91),u=n(44),c=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.a(t,e),t}(i.a),f=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.a(t,e),t.prototype[u.a]=function(){return new c(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),a.a.EMPTY):this.isStopped?(e.complete(),a.a.EMPTY):(this.observers.push(e),new l.a(this,e))},t.prototype.asObservable=function(){var e=new o.a;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(o.a),d=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.a.EMPTY},t}(f)},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(34),o=new(n(31).a)(r.a),i=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(1);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}(),s=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.a)},function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(4),o=new r.a((function(e){return e.complete()}));function i(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),o=n(37),i=n(82);function a(e,t){return t?Object(i.a)(e,t):e instanceof r.a?e:new r.a(Object(o.a)(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return r.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(1).a),i=n(37),a=n(4);function s(e,t,n,r,s){if(void 0===s&&(s=new o(e,n,r)),!s.closed)return t instanceof a.a?t.subscribe(s):Object(i.a)(t)(s)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(1).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(1);function i(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(o.a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var r,o=n(12),i=n(40),a=n(51);r||(r={});var s=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(a.a)(this.error);case"C":return Object(o.b)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},function(e,t,n){var r=n(152);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",(function(){return o}));var o=r()},function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n(0),o=n(10),i=n(13),a=n(2);function s(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(s((function(n,r){return Object(i.a)(e(n,r)).pipe(Object(o.a)((function(e,o){return t(n,e,r,o)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new l(e,n))})}var l=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.concurrent))},e}(),u=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.a(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new a.a(this),n=this.destination;n.add(t);var r=Object(a.c)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.b),c=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(63),i=function(e){function t(n,r){void 0===r&&(r=o.a.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return r.a(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),o=n(89),i=n(58);function a(e,t){return t?Object(i.a)(e,t):new r.a(Object(o.a)(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(7),i=n(6),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return r.a(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),i.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),i.a.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return r.a(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(6).a))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(9);function o(e){return!Object(r.a)(e)&&e-parseFloat(e)+1>=0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(40),o=n(75);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o.a)()(r.a.apply(void 0,e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(89),o=n(38),i=n(22),a=n(24),s=n(88),l=n(90),u=n(56),c=function(e){if(e&&"function"==typeof e[a.a])return c=e,function(e){var t=c[a.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(r.a)(e);if(Object(l.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,o.a),e};if(e&&"function"==typeof e[i.a])return t=e,function(e){for(var n=t[i.a]();;){var r=void 0;try{r=n.next()}catch(t){return e.error(t),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,c,f=Object(u.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+f+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},function(e,t,n){var r;window,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=74)}([function(e,t,n){var r;"undefined"!=typeof window&&(r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s="./src/hls.js")}({"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,i),l=o?o+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},u.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,r,i,a){var s=o?o+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,i),!0;case 6:return c.fn.call(c.context,t,n,r,i,a),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,r);break;default:if(!l)for(d=1,l=new Array(f-1);d<f;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var i=o?o+e:e;if(!this._events[i])return this;if(!t)return l(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||l(this,i);else{for(var s=0,u=[],c=a.length;s<c;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[i]=1===u.length?u[0]:u:l(this,i)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&l(this,t)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=o,u.EventEmitter=u,e.exports=u},"./node_modules/node-libs-browser/node_modules/events/events.js":
/*!**********************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/events/events.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(i(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),a=(u=n.slice()).length,l=0;l<a;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(a=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(e,o),n||(n=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i,a,s;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,o=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=s.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var i=s.parseURL(t);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=s.normalizePath(i.path),s.buildURLFromParts(i)):t;var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=o.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(u.netLoc=a.netLoc,"/"!==i.path[0]))if(i.path){var c=a.path,f=c.substring(0,c.lastIndexOf("/")+1)+i.path;u.path=s.normalizePath(f)}else u.path=a.path,i.params||(u.params=a.params,i.query||(u.query=a.query));return null===u.path&&(u.path=n.alwaysNormalize?s.normalizePath(i.path):i.path),s.buildURLFromParts(u)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}function o(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function i(e,t,r){var i={};i[r]=[];var a=t.toString(),s=a.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return i;for(var l,u=s[1],c=new RegExp("(\\\\n|\\W)"+o(u)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");l=c.exec(a);)"dll-reference"!==l[3]&&i[r].push(l[3]);for(c=new RegExp("\\("+o(u)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");l=c.exec(a);)e[l[2]]||(i[r].push(l[1]),e[l[2]]=n(l[1]).m),i[l[2]]=i[l[2]]||[],i[l[2]].push(l[4]);for(var f,d=Object.keys(i),p=0;p<d.length;p++)for(var h=0;h<i[d[p]].length;h++)f=i[d[p]][h],isNaN(1*f)||(i[d[p]][h]=1*i[d[p]][h]);return i}function a(e){return Object.keys(e).reduce((function(t,n){return t||e[n].length>0}),!1)}e.exports=function(e,t){t=t||{};var o={main:n.m},s=t.all?{main:Object.keys(o.main)}:function(e,t){for(var n={main:[t]},r={main:[]},o={main:{}};a(n);)for(var s=Object.keys(n),l=0;l<s.length;l++){var u=s[l],c=n[u].pop();if(o[u]=o[u]||{},!o[u][c]&&e[u][c]){o[u][c]=!0,r[u]=r[u]||[],r[u].push(c);for(var f=i(e,e[u][c],u),d=Object.keys(f),p=0;p<d.length;p++)n[d[p]]=n[d[p]]||[],n[d[p]]=n[d[p]].concat(f[d[p]])}}return r}(o,e),l="";Object.keys(s).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;s[e][t];)t++;s[e].push(t),o[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s[e].map((function(t){return JSON.stringify(t)+": "+o[e][t].toString()})).join(",")+"});\n"})),l=l+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s.main.map((function(e){return JSON.stringify(e)+": "+o.main[e].toString()})).join(",")+"}))(self);";var u=new window.Blob([l],{type:"text/javascript"});if(t.bare)return u;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),f=new window.Worker(c);return f.objectURL=c,f}},"./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./controller/abr-controller */"./src/controller/abr-controller.js"),o=n(/*! ./controller/buffer-controller */"./src/controller/buffer-controller.js"),i=n(/*! ./controller/cap-level-controller */"./src/controller/cap-level-controller.js"),a=n(/*! ./controller/fps-controller */"./src/controller/fps-controller.js"),s=n(/*! ./utils/xhr-loader */"./src/utils/xhr-loader.js"),l=n(/*! ./controller/audio-track-controller */"./src/controller/audio-track-controller.js"),u=n(/*! ./controller/audio-stream-controller */"./src/controller/audio-stream-controller.js"),c=n(/*! ./utils/cues */"./src/utils/cues.js"),f=n(/*! ./controller/timeline-controller */"./src/controller/timeline-controller.js"),d=n(/*! ./controller/subtitle-track-controller */"./src/controller/subtitle-track-controller.js"),p=n(/*! ./controller/subtitle-stream-controller */"./src/controller/subtitle-stream-controller.js"),h=n(/*! ./controller/eme-controller */"./src/controller/eme-controller.js"),g=n(/*! ./utils/mediakeys-helper */"./src/utils/mediakeys-helper.js");t.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:r.default,bufferController:o.default,capLevelController:i.default,fpsController:a.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess},t.hlsDefaultConfig.subtitleStreamController=p.SubtitleStreamController,t.hlsDefaultConfig.subtitleTrackController=d.default,t.hlsDefaultConfig.timelineController=f.default,t.hlsDefaultConfig.cueHandler=c,t.hlsDefaultConfig.enableCEA708Captions=!0,t.hlsDefaultConfig.enableWebVTT=!0,t.hlsDefaultConfig.captionsTextTrack1Label="English",t.hlsDefaultConfig.captionsTextTrack1LanguageCode="en",t.hlsDefaultConfig.captionsTextTrack2Label="Spanish",t.hlsDefaultConfig.captionsTextTrack2LanguageCode="es",t.hlsDefaultConfig.audioStreamController=u.default,t.hlsDefaultConfig.audioTrackController=l.default,t.hlsDefaultConfig.emeController=h.default},"./src/controller/abr-controller.js":
/*!******************************************!*\
  !*** ./src/controller/abr-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),l=n(/*! ../errors */"./src/errors.js"),u=n(/*! ../utils/logger */"./src/utils/logger.js"),c=n(/*! ../utils/ewma-bandwidth-estimator */"./src/utils/ewma-bandwidth-estimator.js"),f=window.performance,d=function(t){function n(e){var n=t.call(this,e,i.default.FRAG_LOADING,i.default.FRAG_LOADED,i.default.FRAG_BUFFERED,i.default.ERROR)||this;return n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=e,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(n),n}return o(n,t),n.prototype.destroy=function(){this.clearTimer(),a.default.prototype.destroy.call(this)},n.prototype.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var n=this.hls,r=n.config,o=t.level,i=void 0,a=void 0;n.levels[o].details.live?(i=r.abrEwmaFastLive,a=r.abrEwmaSlowLive):(i=r.abrEwmaFastVoD,a=r.abrEwmaSlowVoD),this._bwEstimator=new c.default(n,a,i,r.abrEwmaDefaultEstimate)}},n.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,n=this.fragCurrent;if(n){var r=n.loader,o=e.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var a=r.stats;if(t&&a&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&n.autoLevel&&n.level){var l=f.now()-a.trequest,c=Math.abs(t.playbackRate);if(l>500*n.duration/c){var d=e.levels,p=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/l),h=d[n.level],g=h.realBitrate?Math.max(h.realBitrate,h.bitrate):h.bitrate,m=a.total?a.total:Math.max(a.loaded,Math.round(n.duration*g/8)),v=t.currentTime,y=(m-a.loaded)/p,b=(s.BufferHelper.bufferInfo(t,v,e.config.maxBufferHole).end-v)/c;if(b<2*n.duration/c&&y>b){var A=void 0,C=void 0;for(C=n.level-1;C>o;C--){var I=d[C].realBitrate?Math.max(d[C].realBitrate,d[C].bitrate):d[C].bitrate;if((A=n.duration*I/(6.4*p))<b)break}A<y&&(u.logger.warn("loading too slow, abort fragment loading and switch to level "+C+":fragLoadedDelay["+C+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+A.toFixed(1)+"<"+y.toFixed(1)+":"+b.toFixed(1)),e.nextLoadLevel=C,this._bwEstimator.sample(l,a.loaded),r.abort(),this.clearTimer(),e.trigger(i.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:a}))}}}}},n.prototype.onFragLoaded=function(t){var n=t.frag;if("main"===n.type&&e.isFinite(n.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[n.level],o=(r.loaded?r.loaded.bytes:0)+t.stats.loaded,i=(r.loaded?r.loaded.duration:0)+t.frag.duration;r.loaded={bytes:o,duration:i},r.realBitrate=Math.round(8*o/i)}if(t.frag.bitrateTest){var a=t.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(t)}}},n.prototype.onFragBuffered=function(t){var n=t.stats,r=t.frag;if(!0!==n.aborted&&"main"===r.type&&e.isFinite(r.sn)&&(!r.bitrateTest||n.tload===n.tbuffered)){var o=n.tparsed-n.trequest;u.logger.log("latency/loading/parsing/append/kbps:"+Math.round(n.tfirst-n.trequest)+"/"+Math.round(n.tload-n.tfirst)+"/"+Math.round(n.tparsed-n.tload)+"/"+Math.round(n.tbuffered-n.tparsed)+"/"+Math.round(8*n.loaded/(n.tbuffered-n.trequest))),this._bwEstimator.sample(o,n.loaded),n.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}},n.prototype.onError=function(e){switch(e.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},n.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(n.prototype,"nextAutoLevel",{get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var n=this._nextABRAutoLevel;return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_nextABRAutoLevel",{get:function(){var e=this.hls,t=e.maxAutoLevel,n=e.levels,r=e.config,o=e.minAutoLevel,i=e.media,a=this.lastLoadedFragLevel,l=this.fragCurrent?this.fragCurrent.duration:0,c=i?i.currentTime:0,f=i&&0!==i.playbackRate?Math.abs(i.playbackRate):1,d=this._bwEstimator?this._bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,p=(s.BufferHelper.bufferInfo(i,c,r.maxBufferHole).end-c)/f,h=this._findBestLevel(a,l,d,o,t,p,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(h>=0)return h;u.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=l?Math.min(l,r.maxStarvationDelay):r.maxStarvationDelay,m=r.abrBandWidthFactor,v=r.abrBandWidthUpFactor;if(0===p){var y=this.bitrateTestDelay;y&&(g=(l?Math.min(l,r.maxLoadingDelay):r.maxLoadingDelay)-y,u.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),m=v=1)}return h=this._findBestLevel(a,l,d,o,t,p+g,m,v,n),Math.max(h,0)},enumerable:!0,configurable:!0}),n.prototype._findBestLevel=function(e,t,n,r,o,i,a,s,l){for(var c=o;c>=r;c--){var f=l[c];if(f){var d=f.details,p=d?d.totalduration/d.fragments.length:t,h=!!d&&d.live,g=void 0;g=c<=e?a*n:s*n;var m=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,v=m*p/g;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(g)+"/"+m+"/"+p+"/"+i+"/"+v),g>m&&(!v||h&&!this.bitrateTestDelay||v<i))return c}}return-1},n}(a.default);t.default=d}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/audio-stream-controller.js":
/*!***************************************************!*\
  !*** ./src/controller/audio-stream-controller.js ***!
  \***************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../utils/binary-search */"./src/utils/binary-search.js"),a=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),s=n(/*! ../demux/demuxer */"./src/demux/demuxer.js"),l=n(/*! ../events */"./src/events.js"),u=n(/*! ./level-helper */"./src/controller/level-helper.js"),c=n(/*! ../utils/time-ranges */"./src/utils/time-ranges.js"),f=n(/*! ../errors */"./src/errors.js"),d=n(/*! ../utils/logger */"./src/utils/logger.js"),p=n(/*! ../utils/discontinuities */"./src/utils/discontinuities.js"),h=n(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),g=n(/*! ../loader/fragment */"./src/loader/fragment.js"),m=n(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),v=window.performance,y=function(t){function n(e,n){var r=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.AUDIO_TRACKS_UPDATED,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_LOADED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.BUFFER_RESET,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED,l.default.INIT_PTS_FOUND)||this;return r.fragmentTracker=n,r.config=e.config,r.audioCodecSwap=!1,r._state=m.State.STOPPED,r.initPTS=[],r.waitingFragment=null,r.videoTrackCC=null,r}return o(n,t),n.prototype.onInitPtsFound=function(e){var t=e.id,n=e.frag.cc,r=e.initPTS;"main"===t&&(this.initPTS[n]=r,this.videoTrackCC=n,d.logger.log("InitPTS for cc: "+n+" found from video track: "+r),this.state===m.State.WAITING_INIT_PTS&&this.tick())},n.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(d.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=m.State.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=m.State.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=m.State.STOPPED},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,d.logger.log("audio stream:"+t+"->"+e)}},enumerable:!0,configurable:!0}),n.prototype.doTick=function(){var t,n,r,o=this.hls,s=o.config;switch(this.state){case m.State.ERROR:case m.State.PAUSED:case m.State.BUFFER_FLUSHING:break;case m.State.STARTING:this.state=m.State.WAITING_TRACK,this.loadedmetadata=!1;break;case m.State.IDLE:var u=this.tracks;if(!u)break;if(!this.media&&(this.startFragRequested||!s.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var c=this.mediaBuffer?this.mediaBuffer:this.media,f=this.videoBuffer?this.videoBuffer:this.media,g=a.BufferHelper.bufferInfo(c,t,s.maxBufferHole),y=a.BufferHelper.bufferInfo(f,t,s.maxBufferHole),b=g.len,A=g.end,C=this.fragPrevious,I=Math.min(s.maxBufferLength,s.maxMaxBufferLength),_=Math.max(I,y.len),E=this.audioSwitch,w=this.trackId;if((b<_||E)&&w<u.length){if(void 0===(r=u[w].details)){this.state=m.State.WAITING_TRACK;break}if(!E&&this._streamEnded(g,r))return this.hls.trigger(l.default.BUFFER_EOS,{type:"audio"}),void(this.state=m.State.ENDED);var S=r.fragments,T=S.length,k=S[0].start,x=S[T-1].start+S[T-1].duration,P=void 0;if(E)if(r.live&&!r.PTSKnown)d.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),A=0;else if(A=t,r.PTSKnown&&t<k){if(!(g.end>k||g.nextStart))return;d.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=k+.05}if(r.initSegment&&!r.initSegment.data)P=r.initSegment;else if(A<=k){if(P=S[0],null!==this.videoTrackCC&&P.cc!==this.videoTrackCC&&(P=p.findFragWithCC(S,this.videoTrackCC)),r.live&&P.loadIdx&&P.loadIdx===this.fragLoadIdx){var O=g.nextStart?g.nextStart:k;return d.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(O+.05)),void(this.media.currentTime=O+.05)}}else{var L=void 0,D=s.maxFragLookUpTolerance,j=C?S[C.sn-S[0].sn+1]:void 0,R=function(e){var t=Math.min(D,e.duration);return e.start+e.duration-t<=A?1:e.start-t>A&&e.start?-1:0};A<x?(A>x-D&&(D=0),L=j&&!R(j)?j:i.default.search(S,R)):L=S[T-1],L&&(P=L,k=L.start,C&&P.level===C.level&&P.sn===C.sn&&(P.sn<r.endSN?(P=S[P.sn+1-r.startSN],d.logger.log("SN just loaded, load next one: "+P.sn)):P=null))}P&&(P.encrypted?(d.logger.log("Loading key for "+P.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+w),this.state=m.State.KEY_LOADING,o.trigger(l.default.KEY_LOADING,{frag:P})):(d.logger.log("Loading "+P.sn+", cc: "+P.cc+" of ["+r.startSN+" ,"+r.endSN+"],track "+w+", currentTime:"+t+",bufferEnd:"+A.toFixed(3)),this.fragCurrent=P,(E||this.fragmentTracker.getState(P)===h.FragmentState.NOT_LOADED)&&(this.startFragRequested=!0,e.isFinite(P.sn)&&(this.nextLoadPosition=P.start+P.duration),o.trigger(l.default.FRAG_LOADING,{frag:P}),this.state=m.State.FRAG_LOADING)))}break;case m.State.WAITING_TRACK:(n=this.tracks[this.trackId])&&n.details&&(this.state=m.State.IDLE);break;case m.State.FRAG_LOADING_WAITING_RETRY:var M=v.now(),N=this.retryDate,F=(c=this.media)&&c.seeking;(!N||M>=N||F)&&(d.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=m.State.IDLE);break;case m.State.WAITING_INIT_PTS:var B=this.videoTrackCC;if(void 0===this.initPTS[B])break;var U=this.waitingFragment;if(U){var G=U.frag.cc;B!==G?(n=this.tracks[this.trackId]).details&&n.details.live&&(d.logger.warn("Waiting fragment CC ("+G+") does not match video track CC ("+B+")"),this.waitingFragment=null,this.state=m.State.IDLE):(this.state=m.State.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=m.State.IDLE;break;case m.State.STOPPED:case m.State.FRAG_LOADING:case m.State.PARSING:case m.State.PARSED:case m.State.ENDED:}},n.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},n.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(d.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},n.prototype.onAudioTracksUpdated=function(e){d.logger.log("audio tracks updated"),this.tracks=e.audioTracks},n.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=m.State.PAUSED,this.waitingFragment=null,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=m.State.IDLE),this.tick()},n.prototype.onAudioTrackLoaded=function(t){var n=t.details,r=t.id,o=this.tracks[r],i=n.totalduration,a=0;if(d.logger.log("track "+r+" loaded ["+n.startSN+","+n.endSN+"],duration:"+i),n.live){var s=o.details;s&&n.fragments.length>0?(u.mergeDetails(s,n),a=n.fragments[0].start,n.PTSKnown?d.logger.log("live audio playlist sliding:"+a.toFixed(3)):d.logger.log("live audio playlist - outdated PTS, unknown sliding")):(n.PTSKnown=!1,d.logger.log("live audio playlist - first load, unknown sliding"))}else n.PTSKnown=!1;if(o.details=n,!this.startFragRequested){if(-1===this.startPosition){var l=n.startTimeOffset;e.isFinite(l)?(d.logger.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===m.State.WAITING_TRACK&&(this.state=m.State.IDLE),this.tick()},n.prototype.onKeyLoaded=function(){this.state===m.State.KEY_LOADING&&(this.state=m.State.IDLE,this.tick())},n.prototype.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag;if(this.state===m.State.FRAG_LOADING&&t&&"audio"===n.type&&n.level===t.level&&n.sn===t.sn){var r=this.tracks[this.trackId],o=r.details,i=o.totalduration,a=t.level,u=t.sn,c=t.cc,f=this.config.defaultAudioCodec||r.audioCodec||"mp4a.40.2",p=this.stats=e.stats;if("initSegment"===u)this.state=m.State.IDLE,p.tparsed=p.tbuffered=v.now(),o.initSegment.data=e.payload,this.hls.trigger(l.default.FRAG_BUFFERED,{stats:p,frag:t,id:"audio"}),this.tick();else{this.state=m.State.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new s.default(this.hls,"audio"));var h=this.initPTS[c],g=o.initSegment?o.initSegment.data:[];o.initSegment||void 0!==h?(this.pendingBuffering=!0,d.logger.log("Demuxing "+u+" of ["+o.startSN+" ,"+o.endSN+"],track "+a),this.demuxer.push(e.payload,g,f,null,t,i,!1,h)):(d.logger.log("unknown video PTS for continuity counter "+c+", waiting for video PTS before demuxing audio frag "+u+" of ["+o.startSN+" ,"+o.endSN+"],track "+a),this.waitingFragment=e,this.state=m.State.WAITING_INIT_PTS)}}this.fragLoadError=0},n.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===m.State.PARSING){var r=e.tracks,o=void 0;if(r.video&&delete r.video,o=r.audio){o.levelCodec=o.codec,o.id=e.id,this.hls.trigger(l.default.BUFFER_CODECS,r),d.logger.log("audio track:audio,container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var i=o.initSegment;if(i){var a={type:"audio",data:i,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,a))}this.tick()}}},n.prototype.onFragParsingData=function(t){var n=this,r=this.fragCurrent,o=t.frag;if(r&&"audio"===t.id&&"audio"===t.type&&o.sn===r.sn&&o.level===r.level&&this.state===m.State.PARSING){var i=this.trackId,a=this.tracks[i],s=this.hls;e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+r.duration,t.endDTS=t.startDTS+r.duration),r.addElementaryStream(g.default.ElementaryStreamTypes.AUDIO),d.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),u.updateFragPTSDTS(a.details,r,t.startPTS,t.endPTS);var c=this.audioSwitch,p=this.media,h=!1;if(c&&p)if(p.readyState){var v=p.currentTime;d.logger.log("switching audio track : currentTime:"+v),v>=t.startPTS&&(d.logger.log("switching audio track : flushing all audio"),this.state=m.State.BUFFER_FLUSHING,s.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),h=!0,this.audioSwitch=!1,s.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:i}))}else this.audioSwitch=!1,s.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:i});var y=this.pendingData;if(!y)return d.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void s.trigger(l.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach((function(e){e&&e.length&&y.push({type:t.type,data:e,parent:"audio",content:"data"})})),!h&&y.length&&(y.forEach((function(e){n.state===m.State.PARSING&&(n.pendingBuffering=!0,n.hls.trigger(l.default.BUFFER_APPENDING,e))})),this.pendingData=[],this.appended=!0)),this.tick()}},n.prototype.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===m.State.PARSING&&(this.stats.tparsed=v.now(),this.state=m.State.PARSED,this._checkAppendedParsed())},n.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},n.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},n.prototype.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==m.State.PARSING&&t!==m.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},n.prototype._checkAppendedParsed=function(){if(!(this.state!==m.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,n=this.hls;if(e){this.fragPrevious=e,t.tbuffered=v.now(),n.trigger(l.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;d.logger.log("audio buffered : "+c.default.toString(r.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=m.State.IDLE}this.tick()}},n.prototype.onError=function(t){var n=t.frag;if(!n||"audio"===n.type)switch(t.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:var r=t.frag;if(r&&"audio"!==r.type)break;if(!t.fatal){var o=this.fragLoadError;if(o?o++:o=1,o<=(s=this.config).fragLoadingMaxRetry){this.fragLoadError=o;var i=Math.min(Math.pow(2,o-1)*s.fragLoadingRetryDelay,s.fragLoadingMaxRetryTimeout);d.logger.warn("AudioStreamController: frag loading failed, retry in "+i+" ms"),this.retryDate=v.now()+i,this.state=m.State.FRAG_LOADING_WAITING_RETRY}else d.logger.error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=m.State.ERROR}break;case f.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case f.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==m.State.ERROR&&(this.state=t.fatal?m.State.ERROR:m.State.IDLE,d.logger.warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case f.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===m.State.PARSING||this.state===m.State.PARSED)){var s,u=this.mediaBuffer,c=this.media.currentTime;u&&a.BufferHelper.isBuffered(u,c)&&a.BufferHelper.isBuffered(u,c+.5)?((s=this.config).maxMaxBufferLength>=s.maxBufferLength&&(s.maxMaxBufferLength/=2,d.logger.warn("AudioStreamController: reduce max buffer length to "+s.maxMaxBufferLength+"s")),this.state=m.State.IDLE):(d.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=m.State.BUFFER_FLUSHING,this.hls.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}))}}},n.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(d.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),t.forEach((function(t){e.hls.trigger(l.default.BUFFER_APPENDING,t)})),this.appended=!0,this.pendingData=[],this.state=m.State.PARSED):(this.state=m.State.IDLE,this.fragPrevious=null,this.tick())},n}(m.default);t.default=y}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/audio-track-controller.js":
/*!**************************************************!*\
  !*** ./src/controller/audio-track-controller.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../task-loop */"./src/task-loop.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),l=n(/*! ../errors */"./src/errors.js"),u=function(e){function t(t){var n=e.call(this,t,i.default.MANIFEST_LOADING,i.default.MANIFEST_PARSED,i.default.AUDIO_TRACK_LOADED,i.default.AUDIO_TRACK_SWITCHED,i.default.LEVEL_LOADED,i.default.ERROR)||this;return n._trackId=-1,n._selectDefaultTrack=!0,n.tracks=[],n.trackIdBlacklist=Object.create(null),n.audioGroupId=null,n}return o(t,e),t.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},t.prototype.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(i.default.AUDIO_TRACKS_UPDATED,{audioTracks:t})},t.prototype.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)s.logger.warn("Invalid audio track id:",e.id);else{if(s.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},t.prototype.onLevelLoaded=function(e){var t=this.hls.levels[e.level];if(t.audioGroupIds){var n=t.audioGroupIds[t.urlId];this.audioGroupId!==n&&(this.audioGroupId=n,this._selectInitialAudioTrack())}},t.prototype.onError=function(e){e.type===l.ErrorTypes.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(s.logger.warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},Object.defineProperty(t.prototype,"audioTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTrack",{get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1},enumerable:!0,configurable:!0}),t.prototype._setAudioTrack=function(e){if(this._trackId===e&&this.tracks[this._trackId].details)s.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(e<0||e>=this.tracks.length)s.logger.warn("Invalid id passed to audio-track controller");else{var t=this.tracks[e];s.logger.log("Now switching to audio-track index "+e),this.clearInterval(),this._trackId=e;var n=t.url,r=t.type,o=t.id;this.hls.trigger(i.default.AUDIO_TRACK_SWITCHING,{id:o,type:r,url:n}),this._loadTrackDetailsIfNeeded(t)}},t.prototype.doTick=function(){this._updateTrack(this._trackId)},t.prototype._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var n=this.tracks[this._trackId],r=null;if(n&&(r=n.name),this._selectDefaultTrack){var o=t.filter((function(e){return e.default}));o.length?t=o:s.logger.warn("No default audio tracks defined")}var a=!1,u=function(){t.forEach((function(t){a||e.audioGroupId&&t.groupId!==e.audioGroupId||r&&r!==t.name||(e._setAudioTrack(t.id),a=!0)}))};u(),a||(r=null,u()),a||(s.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},t.prototype._needsTrackLoading=function(e){var t=e.details,n=e.url;return!(t&&!t.live||!n)},t.prototype._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,n=e.id;s.logger.log("loading audio-track playlist for id: "+n),this.hls.trigger(i.default.AUDIO_TRACK_LOADING,{url:t,id:n})}},t.prototype._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this._trackId=e,s.logger.log("trying to update audio-track "+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},t.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var e=this._trackId,t=this.tracks[e],n=t.name,r=t.language,o=t.groupId;s.logger.warn("Loading failed on audio track id: "+e+", group-id: "+o+', name/language: "'+n+'" / "'+r+'"');for(var i=e,a=0;a<this.tracks.length;a++)if(!this.trackIdBlacklist[a]&&this.tracks[a].name===n){i=a;break}i!==e?(s.logger.log("Attempting audio-track fallback id:",i,"group-id:",this.tracks[i].groupId),this._setAudioTrack(i)):s.logger.warn('No fallback audio-track found for name/language: "'+n+'" / "'+r+'"')},t}(a.default);t.default=u},"./src/controller/base-stream-controller.js":
/*!**************************************************!*\
  !*** ./src/controller/base-stream-controller.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../task-loop */"./src/task-loop.js"),a=n(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),s=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js");t.State={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};var u=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return o(r,n),r.prototype.doTick=function(){},r.prototype.startLoad=function(){},r.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=t.State.STOPPED},r.prototype._streamEnded=function(e,t){var n=this.fragCurrent,r=this.fragmentTracker;if(!t.live&&n&&!n.backtracked&&n.sn===t.endSN&&!e.nextStart){var o=r.getState(n);return o===a.FragmentState.PARTIAL||o===a.FragmentState.OK}return!1},r.prototype.onMediaSeeking=function(){var n=this.config,r=this.media,o=this.mediaBuffer,i=this.state,a=r?r.currentTime:null,u=s.BufferHelper.bufferInfo(o||r,a,this.config.maxBufferHole);if(e.isFinite(a)&&l.logger.log("media seeking to "+a.toFixed(3)),i===t.State.FRAG_LOADING){var c=this.fragCurrent;if(0===u.len&&c){var f=n.maxFragLookUpTolerance,d=c.start-f,p=c.start+c.duration+f;a<d||a>p?(c.loader&&(l.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),c.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=t.State.IDLE):l.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else i===t.State.ENDED&&(0===u.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=t.State.IDLE);r&&(this.lastCurrentTime=a),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=a),this.tick()},r.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},r.prototype.onHandlerDestroying=function(){this.stopLoad(),n.prototype.onHandlerDestroying.call(this)},r.prototype.onHandlerDestroyed=function(){this.state=t.State.STOPPED,this.fragmentTracker=null},r}(i.default);t.default=u}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/buffer-controller.js":
/*!*********************************************!*\
  !*** ./src/controller/buffer-controller.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),l=n(/*! ../errors */"./src/errors.js"),u=n(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.js").getMediaSource(),c=function(t){function n(e){var n=t.call(this,e,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_RESET,i.default.BUFFER_APPENDING,i.default.BUFFER_CODECS,i.default.BUFFER_EOS,i.default.BUFFER_FLUSHING,i.default.LEVEL_PTS_UPDATED,i.default.LEVEL_UPDATED)||this;return n._msDuration=null,n._levelDuration=null,n._levelTargetDuration=10,n._live=null,n._objectUrl=null,n.bufferCodecEventsExpected=0,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return o(n,t),n.prototype.destroy=function(){a.default.prototype.destroy.call(this)},n.prototype.onLevelPtsUpdated=function(e){var t=e.type,n=this.tracks.audio;if("audio"===t&&n&&"audio/mpeg"===n.container){var r=this.sourceBuffer.audio;if(Math.abs(r.timestampOffset-e.start)>.1){var o=r.updating;try{r.abort()}catch(e){s.logger.warn("can not abort audio buffer: "+e)}o?this.audioTimestampOffset=e.start:(s.logger.warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+e.start),r.timestampOffset=e.start)}}},n.prototype.onManifestParsed=function(e){this.bufferCodecEventsExpected=e.altAudio?2:1,s.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},n.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var n=this.mediaSource=new u;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),t.src=window.URL.createObjectURL(n),this._objectUrl=t.src}},n.prototype.onMediaDetaching=function(){s.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){s.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):s.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(i.default.MEDIA_DETACHED)},n.prototype.onMediaSourceOpen=function(){s.logger.log("media source opened"),this.hls.trigger(i.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},n.prototype.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,n=Object.keys(t).length;(n&&!e||2===n)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},n.prototype.onMediaSourceClose=function(){s.logger.log("media source closed")},n.prototype.onMediaSourceEnded=function(){s.logger.log("media source ended")},n.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;s.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,n=this.segments.reduce((function(e,n){return n.parent===t?e+1:e}),0),r={},o=this.sourceBuffer;for(var a in o)r[a]=o[a].buffered;this.hls.trigger(i.default.BUFFER_APPENDED,{parent:t,pending:n,timeRanges:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===n&&this.flushLiveBackBuffer()},n.prototype.onSBUpdateError=function(e){s.logger.error("sourceBuffer error:",e),this.hls.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},n.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var n=e[t];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},n.prototype.onBufferCodecs=function(e){var t=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(e).forEach((function(n){t.pendingTracks[n]=e[n]}));var n=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),n&&"open"===n.readyState&&this.checkPendingTracks()}},n.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,n=this.mediaSource;for(var r in e)if(!t[r]){var o=e[r],a=o.levelCodec||o.codec,u=o.container+";codecs="+a;s.logger.log("creating sourceBuffer("+u+")");try{var c=t[r]=n.addSourceBuffer(u);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[r]={codec:a,container:o.container},o.buffer=c}catch(e){s.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:u})}}this.hls.trigger(i.default.BUFFER_CREATED,{tracks:e})},n.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},n.prototype.onBufferAppendFail=function(e){s.logger.error("sourceBuffer error:",e.event),this.hls.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},n.prototype.onBufferEos=function(e){var t=this.sourceBuffer,n=e.type;for(var r in t)n&&r!==n||t[r].ended||(t[r].ended=!0,s.logger.log(r+" sourceBuffer now EOS"));this.checkEos()},n.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var n in e){var r=e[n];if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}s.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){s.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},n.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},n.prototype.flushLiveBackBuffer=function(){if(this._live){var e=this.hls.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))for(var t=this.media.currentTime,n=this.sourceBuffer,r=Object.keys(n),o=t-Math.max(e,this._levelTargetDuration),i=r.length-1;i>=0;i--){var a=r[i],s=n[a].buffered;s.length>0&&o>s.start(0)&&this.removeBufferRange(a,n[a],0,o)}}},n.prototype.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},n.prototype.updateMediaElementDuration=function(){var t,n=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var r in this.sourceBuffer)if(!0===this.sourceBuffer[r].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===n.liveDurationInfinity?(s.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!e.isFinite(t))&&(s.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},n.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,n=this.sourceBuffer;try{for(var r in n)t+=n[r].buffered.length}catch(e){s.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(i.default.BUFFER_FLUSHED)}},n.prototype.doAppending=function(){var e=this.hls,t=this.segments,n=this.sourceBuffer;if(Object.keys(n).length){if(this.media.error)return this.segments=[],void s.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(t&&t.length){var r=t.shift();try{var o=n[r.type];o?o.updating?t.unshift(r):(o.ended=!1,this.parent=r.parent,o.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(n){s.logger.error("error while trying to append buffer:"+n.message),t.unshift(r);var a={type:l.ErrorTypes.MEDIA_ERROR,parent:r.parent};22!==n.code?(this.appendError?this.appendError++:this.appendError=1,a.details=l.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry?(s.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],a.fatal=!0,e.trigger(i.default.ERROR,a)):(a.fatal=!1,e.trigger(i.default.ERROR,a))):(this.segments=[],a.details=l.ErrorDetails.BUFFER_FULL_ERROR,a.fatal=!1,e.trigger(i.default.ERROR,a))}}}},n.prototype.flushBuffer=function(e,t,n){var r,o=this.sourceBuffer;if(Object.keys(o).length){if(s.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var i in o)if(!n||i===n){if((r=o[i]).ended=!1,r.updating)return s.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(i,r,e,t))return this.flushBufferCounter++,!1}}else s.logger.warn("abort flushing too many retries");s.logger.log("buffer flushed")}return!0},n.prototype.removeBufferRange=function(e,t,n,r){try{for(var o=0;o<t.buffered.length;o++){var i=t.buffered.start(o),a=t.buffered.end(o),l=Math.max(i,n),u=Math.min(a,r);if(Math.min(u,a)-l>.5)return s.logger.log("sb remove "+e+" ["+l+","+u+"], of ["+i+","+a+"], pos:"+this.media.currentTime),t.remove(l,u),!0}}catch(e){s.logger.warn("removeBufferRange failed",e)}return!1},n}(a.default);t.default=c}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/cap-level-controller.js":
/*!************************************************!*\
  !*** ./src/controller/cap-level-controller.js ***!
  \************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=function(t){function n(n){var r=t.call(this,n,i.default.FPS_DROP_LEVEL_CAPPING,i.default.MEDIA_ATTACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_CODECS,i.default.MEDIA_DETACHING)||this;return r.autoLevelCapping=e.POSITIVE_INFINITY,r.firstLevel=null,r.levels=[],r.media=null,r.restrictedLevels=[],r.timer=null,r}return o(n,t),n.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},n.prototype.onFpsDropLevelCapping=function(e){n.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},n.prototype.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},n.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this._startCapping()},n.prototype.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this._startCapping()},n.prototype.onLevelsUpdated=function(e){this.levels=e.levels},n.prototype.onMediaDetaching=function(){this._stopCapping()},n.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},n.prototype.getMaxLevel=function(e){var t=this;if(!this.levels)return-1;var r=this.levels.filter((function(r,o){return n.isLevelAllowed(o,t.restrictedLevels)&&o<=e}));return n.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)},n.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=e.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},n.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=e.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(n.prototype,"mediaWidth",{get:function(){var e,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=n.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaHeight",{get:function(){var e,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=n.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"contentScaleFactor",{get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e},enumerable:!0,configurable:!0}),n.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},n.getMaxLevelByMediaSize=function(e,t,n){if(!e||e&&!e.length)return-1;for(var r,o,i=e.length-1,a=0;a<e.length;a+=1){var s=e[a];if((s.width>=t||s.height>=n)&&(r=s,!(o=e[a+1])||r.width!==o.width||r.height!==o.height)){i=a;break}}return i},n}(n(/*! ../event-handler */"./src/event-handler.js").default);t.default=a}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/eme-controller.js":
/*!******************************************!*\
  !*** ./src/controller/eme-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../event-handler */"./src/event-handler.js"),a=n(/*! ../events */"./src/events.js"),s=n(/*! ../errors */"./src/errors.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js"),u=window.XMLHttpRequest,c="com.widevine.alpha",f="com.microsoft.playready",d=function(e){function t(t){var n=e.call(this,t,a.default.MEDIA_ATTACHED,a.default.MANIFEST_PARSED)||this;return n._widevineLicenseUrl=t.config.widevineLicenseUrl,n._licenseXhrSetup=t.config.licenseXhrSetup,n._emeEnabled=t.config.emeEnabled,n._requestMediaKeySystemAccess=t.config.requestMediaKeySystemAccessFunc,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._isMediaEncrypted=!1,n._requestLicenseFailureCount=0,n}return o(t,e),t.prototype.getLicenseServerUrl=function(e){var t;switch(e){case c:t=this._widevineLicenseUrl;break;default:t=null}return t||(l.logger.error('No license server URL configured for key-system "'+e+'"'),this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),t},t.prototype._attemptKeySystemAccess=function(e,t,n){var r=this,o=function(e,t,n){switch(e){case c:return function(e,t,n){var r={videoCapabilities:[]};return t.forEach((function(e){r.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"'})})),[r]}(0,n);default:throw Error("Unknown key-system: "+e)}}(e,0,n);o?(l.logger.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(e,o).then((function(t){r._onMediaKeySystemAccessObtained(e,t)})).catch((function(t){l.logger.error('Failed to obtain key-system "'+e+'" access:',t)}))):l.logger.warn("Can not create config for key-system (maybe because platform is not supported):",e)},Object.defineProperty(t.prototype,"requestMediaKeySystemAccess",{get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess},enumerable:!0,configurable:!0}),t.prototype._onMediaKeySystemAccessObtained=function(e,t){var n=this;l.logger.log('Access for key-system "'+e+'" obtained');var r={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(r),t.createMediaKeys().then((function(t){r.mediaKeys=t,l.logger.log('Media-keys created for key-system "'+e+'"'),n._onMediaKeysCreated()})).catch((function(e){l.logger.error("Failed to create media-keys:",e)}))},t.prototype._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach((function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))}))},t.prototype._onNewMediaKeySession=function(e){var t=this;l.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",(function(n){t._onKeySessionMessage(e,n.message)}),!1)},t.prototype._onKeySessionMessage=function(e,t){l.logger.log("Got EME message event, creating license request"),this._requestLicense(t,(function(t){l.logger.log("Received license data, updating key-session"),e.update(t)}))},t.prototype._onMediaEncrypted=function(e,t){l.logger.log('Media is encrypted using "'+e+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=e,this._mediaEncryptionInitData=t,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},t.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return l.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});l.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},t.prototype._generateRequestWithPreferredKeySession=function(){var e=this,t=this._mediaKeysList[0];if(!t)return l.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(t.mediaKeysSessionInitialized)l.logger.warn("Key-Session already initialized but requested again");else{var n=t.mediaKeysSession;n||(l.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));var r=this._mediaEncryptionInitDataType,o=this._mediaEncryptionInitData;l.logger.log('Generating key-session request for "'+r+'" init data type'),t.mediaKeysSessionInitialized=!0,n.generateRequest(r,o).then((function(){l.logger.debug("Key-session generation succeeded")})).catch((function(t){l.logger.error("Error generating key-session request:",t),e.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},t.prototype._createLicenseXhr=function(e,t,n){var r=new u,o=this._licenseXhrSetup;try{if(o)try{o(r,e)}catch(t){r.open("POST",e,!0),o(r,e)}r.readyState||r.open("POST",e,!0)}catch(e){return l.logger.error("Error setting up key-system license XHR",e),void this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,e,t,n),r},t.prototype._onLicenseRequestReadyStageChange=function(e,t,n,r){switch(e.readyState){case 4:if(200===e.status)this._requestLicenseFailureCount=0,l.logger.log("License request succeeded"),r(e.response);else{if(l.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var o=3-this._requestLicenseFailureCount+1;return l.logger.warn("Retrying license request, "+o+" attempts left"),void this._requestLicense(n,r)}this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},t.prototype._generateLicenseRequestChallenge=function(e,t){var n;return e.mediaKeySystemDomain===f?l.logger.error("PlayReady is not supported (yet)"):e.mediaKeySystemDomain===c?n=t:l.logger.error("Unsupported key-system:",e.mediaKeySystemDomain),n},t.prototype._requestLicense=function(e,t){l.logger.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return l.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});var r=this.getLicenseServerUrl(n.mediaKeySystemDomain),o=this._createLicenseXhr(r,e,t);l.logger.log("Sending license request to URL: "+r),o.send(this._generateLicenseRequestChallenge(n,e))},t.prototype.onMediaAttached=function(e){var t=this;if(this._emeEnabled){var n=e.media;this._media=n,n.addEventListener("encrypted",(function(e){t._onMediaEncrypted(e.initDataType,e.initData)}))}},t.prototype.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map((function(e){return e.audioCodec})),n=e.levels.map((function(e){return e.videoCodec}));this._attemptKeySystemAccess(c,t,n)}},t}(i.default);t.default=d},"./src/controller/fps-controller.js":
/*!******************************************!*\
  !*** ./src/controller/fps-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),l=window.performance,u=function(e){function t(t){return e.call(this,t,i.default.MEDIA_ATTACHING)||this}return o(t,e),t.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},t.prototype.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},t.prototype.checkFPS=function(e,t,n){var r=l.now();if(t){if(this.lastTime){var o=r-this.lastTime,a=n-this.lastDroppedFrames,u=t-this.lastDecodedFrames,c=1e3*a/o,f=this.hls;if(f.trigger(i.default.FPS_DROP,{currentDropped:a,currentDecoded:u,totalDroppedFrames:n}),c>0&&a>f.config.fpsDroppedMonitoringThreshold*u){var d=f.currentLevel;s.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===f.autoLevelCapping||f.autoLevelCapping>=d)&&(d-=1,f.trigger(i.default.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:f.currentLevel}),f.autoLevelCapping=d,f.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}},t.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(a.default);t.default=u},"./src/controller/fragment-finders.js":
/*!********************************************!*\
  !*** ./src/controller/fragment-finders.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/binary-search */"./src/utils/binary-search.js");function o(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0);var r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function i(e,t,n){var r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.endProgramDateTime-r>e}t.findFragmentByPDT=function(t,n,r){if(!Array.isArray(t)||!t.length||!e.isFinite(n))return null;if(n<t[0].programDateTime)return null;if(n>=t[t.length-1].endProgramDateTime)return null;r=r||0;for(var o=0;o<t.length;++o){var a=t[o];if(i(n,r,a))return a}return null},t.findFragmentByPTS=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var a=e?t[e.sn-t[0].sn+1]:null;return a&&!o(n,i,a)?a:r.default.search(t,o.bind(null,n,i))},t.fragmentWithinToleranceTest=o,t.pdtWithinToleranceTest=i}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/fragment-tracker.js":
/*!********************************************!*\
  !*** ./src/controller/fragment-tracker.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../event-handler */"./src/event-handler.js"),a=n(/*! ../events */"./src/events.js");t.FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};var s=function(n){function r(e){var t=n.call(this,e,a.default.BUFFER_APPENDED,a.default.FRAG_BUFFERED,a.default.FRAG_LOADED)||this;return t.bufferPadding=.2,t.fragments=Object.create(null),t.timeRanges=Object.create(null),t.config=e.config,t}return o(r,n),r.prototype.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,i.default.prototype.destroy.call(this),n.prototype.destroy.call(this)},r.prototype.getBufferedFrag=function(e,t){var n=this.fragments,r=Object.keys(n).filter((function(r){var o=n[r];if(o.body.type!==t)return!1;if(!o.buffered)return!1;var i=o.body;return i.startPTS<=e&&e<=i.endPTS}));if(0===r.length)return null;var o=r.pop();return n[o].body},r.prototype.detectEvictedFragments=function(e,t){var n,r,o=this;Object.keys(this.fragments).forEach((function(i){var a=o.fragments[i];if(!0===a.buffered){var s=a.range[e];if(s){n=s.time;for(var l=0;l<n.length;l++)if(r=n[l],!1===o.isTimeBuffered(r.startPTS,r.endPTS,t)){o.removeFragment(a.body);break}}}}))},r.prototype.detectPartialFragments=function(e){var t=this,n=this.getFragmentKey(e),r=this.fragments[n];r&&(r.buffered=!0,Object.keys(this.timeRanges).forEach((function(n){if(e.hasElementaryStream(n)){var o=t.timeRanges[n];r.range[n]=t.getBufferedTimes(e.startPTS,e.endPTS,o)}})))},r.prototype.getBufferedTimes=function(e,t,n){for(var r,o,i=[],a=!1,s=0;s<n.length;s++){if(r=n.start(s)-this.bufferPadding,o=n.end(s)+this.bufferPadding,e>=r&&t<=o){i.push({startPTS:Math.max(e,n.start(s)),endPTS:Math.min(t,n.end(s))});break}if(e<o&&t>r)i.push({startPTS:Math.max(e,n.start(s)),endPTS:Math.min(t,n.end(s))}),a=!0;else if(t<=r)break}return{time:i,partial:a}},r.prototype.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},r.prototype.getPartialFragment=function(e){var t,n,r,o=this,i=null,a=0;return Object.keys(this.fragments).forEach((function(s){var l=o.fragments[s];o.isPartial(l)&&(n=l.body.startPTS-o.bufferPadding,r=l.body.endPTS+o.bufferPadding,e>=n&&e<=r&&(t=Math.min(e-n,r-e),a<=t&&(i=l.body,a=t)))})),i},r.prototype.getState=function(e){var n=this.getFragmentKey(e),r=this.fragments[n],o=t.FragmentState.NOT_LOADED;return void 0!==r&&(o=r.buffered?!0===this.isPartial(r)?t.FragmentState.PARTIAL:t.FragmentState.OK:t.FragmentState.APPENDING),o},r.prototype.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},r.prototype.isTimeBuffered=function(e,t,n){for(var r,o,i=0;i<n.length;i++){if(r=n.start(i)-this.bufferPadding,o=n.end(i)+this.bufferPadding,e>=r&&t<=o)return!0;if(t<=r)return!1}return!1},r.prototype.onFragLoaded=function(t){var n=t.frag;e.isFinite(n.sn)&&!n.bitrateTest&&(this.fragments[this.getFragmentKey(n)]={body:n,range:Object.create(null),buffered:!1})},r.prototype.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach((function(e){var n=t.timeRanges[e];t.detectEvictedFragments(e,n)}))},r.prototype.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},r.prototype.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},r.prototype.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},r.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},r}(i.default);t.FragmentTracker=s}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/gap-controller.js":
/*!******************************************!*\
  !*** ./src/controller/gap-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),o=n(/*! ../errors */"./src/errors.js"),i=n(/*! ../events */"./src/events.js"),a=n(/*! ../utils/logger */"./src/utils/logger.js"),s=function(){function e(e,t,n,r){this.config=e,this.media=t,this.fragmentTracker=n,this.hls=r,this.stallReported=!1}return e.prototype.poll=function(e,t){var n=this.config,o=this.media,i=o.currentTime,s=window.performance.now();if(i!==e)return this.stallReported&&(a.logger.warn("playback not stuck anymore @"+i+", after "+Math.round(s-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(o.ended||!o.buffered.length||o.readyState>2||o.seeking&&r.BufferHelper.isBuffered(o,i))){var l=s-this.stalled,u=r.BufferHelper.bufferInfo(o,i,n.maxBufferHole);this.stalled?(l>=1e3&&this._reportStall(u.len),this._tryFixBufferStall(u,l)):this.stalled=s}},e.prototype._tryFixBufferStall=function(e,t){var n=this.config,r=this.fragmentTracker,o=this.media.currentTime,i=r.getPartialFragment(o);i&&this._trySkipBufferHole(i),e.len>.5&&t>1e3*n.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},e.prototype._reportStall=function(e){var t=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,a.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer"),t.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},e.prototype._trySkipBufferHole=function(e){for(var t=this.hls,n=this.media,r=n.currentTime,s=0,l=0;l<n.buffered.length;l++){var u=n.buffered.start(l);if(r>=s&&r<u)return n.currentTime=Math.max(u,n.currentTime+.1),a.logger.warn("skipping hole, adjusting currentTime from "+r+" to "+n.currentTime),this.stalled=null,void t.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+r+" to "+n.currentTime,frag:e});s=n.buffered.end(l)}},e.prototype._tryNudgeBuffer=function(){var e=this.config,t=this.hls,n=this.media,r=n.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<e.nudgeMaxRetry){var l=r+s*e.nudgeOffset;a.logger.log("adjust currentTime from "+r+" to "+l),n.currentTime=l,t.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else a.logger.error("still stuck in high buffer @"+r+" after "+e.nudgeMaxRetry+", raise fatal error"),t.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}();t.default=s},"./src/controller/id3-track-controller.js":
/*!************************************************!*\
  !*** ./src/controller/id3-track-controller.js ***!
  \************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../demux/id3 */"./src/demux/id3.js"),l=n(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.js"),u=function(e){function t(t){var n=e.call(this,t,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_METADATA)||this;return n.id3Track=void 0,n.media=void 0,n}return o(t,e),t.prototype.destroy=function(){a.default.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){this.media=e.media,this.media},t.prototype.onMediaDetaching=function(){l.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},t.prototype.getID3Track=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return l.sendAddTrackEvent(n,this.media),n}return this.media.addTextTrack("metadata","id3")},t.prototype.onFragParsingMetadata=function(e){var t=e.frag,n=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var r=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,o=0;o<n.length;o++){var i=s.default.getID3Frames(n[o].data);if(i){var a=n[o].pts,l=o<n.length-1?n[o+1].pts:t.endPTS;a===l&&(l+=1e-4);for(var u=0;u<i.length;u++){var c=i[u];if(!s.default.isTimeStampFrame(c)){var f=new r(a,l,"");f.value=c,this.id3Track.addCue(f)}}}}},t}(a.default);t.default=u},"./src/controller/level-controller.js":
/*!********************************************!*\
  !*** ./src/controller/level-controller.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(/*! ../events */"./src/events.js"),s=n(/*! ../event-handler */"./src/event-handler.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js"),u=n(/*! ../errors */"./src/errors.js"),c=n(/*! ../utils/codecs */"./src/utils/codecs.js"),f=n(/*! ./level-helper */"./src/controller/level-helper.js"),d=(window.performance,function(e){function t(t){var n=e.call(this,t,a.default.MANIFEST_LOADED,a.default.LEVEL_LOADED,a.default.AUDIO_TRACK_SWITCHED,a.default.FRAG_LOADED,a.default.ERROR)||this;return n.canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,i=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),n}return o(t,e),t.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},t.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach((function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)})),null!==this.timer&&this.loadLevel()},t.prototype.stopLoad=function(){this.canload=!1},t.prototype.onManifestLoaded=function(e){var t,n=[],r=[],o={},s=null,d=!1,p=!1;if(e.levels.forEach((function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,d=d||!!e.videoCodec,p=p||!!e.audioCodec,i&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(s=o[e.bitrate])?s.url.push(e.url):(e.url=[e.url],e.urlId=0,o[e.bitrate]=e,n.push(e)),t&&(t.AUDIO&&(p=!0,f.addGroupId(s||e,"audio",t.AUDIO)),t.SUBTITLES&&f.addGroupId(s||e,"text",t.SUBTITLES))})),d&&p&&(n=n.filter((function(e){return!!e.videoCodec}))),n=n.filter((function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||c.isCodecSupportedInMp4(t,"audio"))&&(!n||c.isCodecSupportedInMp4(n,"video"))})),e.audioTracks&&(r=e.audioTracks.filter((function(e){return!e.audioCodec||c.isCodecSupportedInMp4(e.audioCodec,"audio")}))).forEach((function(e,t){e.id=t})),n.length>0){t=n[0].bitrate,n.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=n;for(var h=0;h<n.length;h++)if(n[h].bitrate===t){this._firstLevel=h,l.logger.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+t);break}this.hls.trigger(a.default.MANIFEST_PARSED,{levels:n,audioTracks:r,firstLevel:this._firstLevel,stats:e.stats,audio:p,video:d,altAudio:r.some((function(e){return!!e.url}))})}else this.hls.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Object.defineProperty(t.prototype,"levels",{get:function(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))},enumerable:!0,configurable:!0}),t.prototype.setLevelInternal=function(e){var t=this._levels,n=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){l.logger.log("switching to level "+e),this.currentLevelIndex=e;var r=t[e];r.level=e,n.trigger(a.default.LEVEL_SWITCHING,r)}var o=t[e],i=o.details;if(!i||i.live){var s=o.urlId;n.trigger(a.default.LEVEL_LOADING,{url:o.url[s],level:e,id:s})}}else n.trigger(a.default.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},Object.defineProperty(t.prototype,"manualLevel",{get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstLevel",{get:function(){return this._firstLevel},set:function(e){this._firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLevel",{get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e},enumerable:!0,configurable:!0}),t.prototype.onError=function(e){if(e.fatal)e.type===u.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var t,n=!1,r=!1;switch(e.details){case u.ErrorDetails.FRAG_LOAD_ERROR:case u.ErrorDetails.FRAG_LOAD_TIMEOUT:case u.ErrorDetails.KEY_LOAD_ERROR:case u.ErrorDetails.KEY_LOAD_TIMEOUT:t=e.frag.level,r=!0;break;case u.ErrorDetails.LEVEL_LOAD_ERROR:case u.ErrorDetails.LEVEL_LOAD_TIMEOUT:t=e.context.level,n=!0;break;case u.ErrorDetails.REMUX_ALLOC_ERROR:t=e.level,n=!0}void 0!==t&&this.recoverLevel(e,t,n,r)}},t.prototype.recoverLevel=function(e,t,n,r){var o,i,a,s=this,u=this.hls.config,c=e.details,f=this._levels[t];if(f.loadError++,f.fragmentError=r,n){if(!(this.levelRetryCount+1<=u.levelLoadingMaxRetry))return l.logger.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);i=Math.min(Math.pow(2,this.levelRetryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return s.loadLevel()}),i),e.levelRetry=!0,this.levelRetryCount++,l.logger.warn("level controller, "+c+", retry in "+i+" ms, current retry count is "+this.levelRetryCount)}(n||r)&&((o=f.url.length)>1&&f.loadError<o?(f.urlId=(f.urlId+1)%o,f.details=void 0,l.logger.warn("level controller, "+c+" for level "+t+": switching to redundant URL-id "+f.urlId)):-1===this.manualLevelIndex?(a=0===t?this._levels.length-1:t-1,l.logger.warn("level controller, "+c+": switch to "+a),this.hls.nextAutoLevel=this.currentLevelIndex=a):r&&(l.logger.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},t.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var n=this._levels[t.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},t.prototype.onLevelLoaded=function(e){var t=this,n=e.level,r=e.details;if(n===this.currentLevelIndex){var o=this._levels[n];if(o.fragmentError||(o.loadError=0,this.levelRetryCount=0),r.live){var i=f.computeReloadInterval(o.details,r,e.stats.trequest);l.logger.log("live playlist, reload in "+Math.round(i)+" ms"),this.timer=setTimeout((function(){return t.loadLevel()}),i)}else this.clearTimer()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,o=0;o<n.audioGroupIds.length;o++)if(n.audioGroupIds[o]===t){r=o;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},t.prototype.loadLevel=function(){if(l.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"==typeof e&&e.url.length>0){var t=this.currentLevelIndex,n=e.urlId,r=e.url[n];l.logger.log("Attempt loading level index "+t+" with URL-id "+n),this.hls.trigger(a.default.LEVEL_LOADING,{url:r,level:t,id:n})}}},Object.defineProperty(t.prototype,"nextLoadLevel",{get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)},enumerable:!0,configurable:!0}),t}(s.default));t.default=d},"./src/controller/level-helper.js":
/*!****************************************!*\
  !*** ./src/controller/level-helper.js ***!
  \****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/logger */"./src/utils/logger.js");function o(t,n,o){var i=t[n],a=t[o],s=a.startPTS;e.isFinite(s)?o>n?(i.duration=s-i.start,i.duration<0&&r.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(a.duration=i.start-s,a.duration<0&&r.logger.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!")):a.start=o>n?i.start+i.duration:Math.max(i.start-a.duration,0)}function i(t,n,r,i,a,s){var l=r;if(e.isFinite(n.startPTS)){var u=Math.abs(n.startPTS-r);e.isFinite(n.deltaPTS)?n.deltaPTS=Math.max(u,n.deltaPTS):n.deltaPTS=u,l=Math.max(r,n.startPTS),r=Math.min(r,n.startPTS),i=Math.max(i,n.endPTS),a=Math.min(a,n.startDTS),s=Math.max(s,n.endDTS)}var c=r-n.start;n.start=n.startPTS=r,n.maxStartPTS=l,n.endPTS=i,n.startDTS=a,n.endDTS=s,n.duration=i-r;var f,d,p,h=n.sn;if(!t||h<t.startSN||h>t.endSN)return 0;for(f=h-t.startSN,(d=t.fragments)[f]=n,p=f;p>0;p--)o(d,p,p-1);for(p=f;p<d.length-1;p++)o(d,p,p+1);return t.PTSKnown=!0,c}function a(e,t,n){if(e&&t)for(var r=Math.max(e.startSN,t.startSN)-t.startSN,o=Math.min(e.endSN,t.endSN)-t.startSN,i=t.startSN-e.startSN,a=r;a<=o;a++){var s=e.fragments[i+a],l=t.fragments[a];if(!s||!l)break;n(s,l,a)}}function s(e,t){var n=t.startSN-e.startSN,r=e.fragments,o=t.fragments;if(!(n<0||n>r.length))for(var i=0;i<o.length;i++)o[i].start+=r[n].start}t.addGroupId=function(e,t,n){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(n);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(n)}},t.updatePTS=o,t.updateFragPTSDTS=i,t.mergeDetails=function(t,n){n.initSegment&&t.initSegment&&(n.initSegment=t.initSegment);var o,l=0;if(a(t,n,(function(t,r){l=t.cc-r.cc,e.isFinite(t.startPTS)&&(r.start=r.startPTS=t.startPTS,r.endPTS=t.endPTS,r.duration=t.duration,r.backtracked=t.backtracked,r.dropped=t.dropped,o=r),n.PTSKnown=!0})),n.PTSKnown){if(l){r.logger.log("discontinuity sliding from playlist, take drift into account");for(var u=n.fragments,c=0;c<u.length;c++)u[c].cc+=l}o?i(n,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS):s(t,n),n.PTSKnown=t.PTSKnown}},t.mergeSubtitlePlaylists=function(e,t,n){void 0===n&&(n=0);var r=-1;a(e,t,(function(e,t,n){t.start=e.start,r=n}));var o=t.fragments;if(r<0)o.forEach((function(e){e.start+=n}));else for(var i=r+1;i<o.length;i++)o[i].start=o[i-1].start+o[i-1].duration},t.mapFragmentIntersection=a,t.adjustSliding=s,t.computeReloadInterval=function(e,t,n){var r=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),o=r/2;return e&&t.endSN===e.endSN&&(r=o),n&&(r=Math.max(o,r-(window.performance.now()-n))),Math.round(r)}}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/stream-controller.js":
/*!*********************************************!*\
  !*** ./src/controller/stream-controller.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../utils/binary-search */"./src/utils/binary-search.js"),a=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),s=n(/*! ../demux/demuxer */"./src/demux/demuxer.js"),l=n(/*! ../events */"./src/events.js"),u=n(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),c=n(/*! ../loader/fragment */"./src/loader/fragment.js"),f=n(/*! ../loader/playlist-loader */"./src/loader/playlist-loader.js"),d=n(/*! ./level-helper */"./src/controller/level-helper.js"),p=n(/*! ../utils/time-ranges */"./src/utils/time-ranges.js"),h=n(/*! ../errors */"./src/errors.js"),g=n(/*! ../utils/logger */"./src/utils/logger.js"),m=n(/*! ../utils/discontinuities */"./src/utils/discontinuities.js"),v=n(/*! ./fragment-finders */"./src/controller/fragment-finders.js"),y=n(/*! ./gap-controller */"./src/controller/gap-controller.js"),b=n(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),A=function(t){function n(e,n){var r=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.MANIFEST_LOADING,l.default.MANIFEST_PARSED,l.default.LEVEL_LOADED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_LOAD_EMERGENCY_ABORTED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_SWITCHED,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED)||this;return r.fragmentTracker=n,r.config=e.config,r.audioCodecSwap=!1,r._state=b.State.STOPPED,r.stallReported=!1,r.gapController=null,r}return o(n,t),n.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(g.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=b.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=b.State.STOPPED},n.prototype.stopLoad=function(){this.forceStartLoad=!1,t.prototype.stopLoad.call(this)},n.prototype.doTick=function(){switch(this.state){case b.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case b.State.IDLE:this._doTickIdle();break;case b.State.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=b.State.IDLE);break;case b.State.FRAG_LOADING_WAITING_RETRY:var t=window.performance.now(),n=this.retryDate;(!n||t>=n||this.media&&this.media.seeking)&&(g.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=b.State.IDLE);break;case b.State.ERROR:case b.State.STOPPED:case b.State.FRAG_LOADING:case b.State.PARSING:case b.State.PARSED:case b.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},n.prototype._doTickIdle=function(){var e=this.hls,t=e.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&t.startFragPrefetch)){var r;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var o=e.nextLoadLevel,i=this.levels[o];if(i){var s,u=i.bitrate;s=u?Math.max(8*t.maxBufferSize/u,t.maxBufferLength):t.maxBufferLength,s=Math.min(s,t.maxMaxBufferLength);var c=a.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,t.maxBufferHole),f=c.len;if(!(f>=s)){g.logger.trace("buffer length of "+f.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=o;var d=i.details;if(!d||d.live&&this.levelLastLoaded!==o)this.state=b.State.WAITING_LEVEL;else{if(this._streamEnded(c,d)){var p={};return this.altAudio&&(p.type="video"),this.hls.trigger(l.default.BUFFER_EOS,p),void(this.state=b.State.ENDED)}this._fetchPayloadOrEos(r,c,d)}}}}},n.prototype._fetchPayloadOrEos=function(e,t,n){var r=this.fragPrevious,o=this.level,i=n.fragments,a=i.length;if(0!==a){var s,l=i[0].start,u=i[a-1].start+i[a-1].duration,c=t.end;if(n.initSegment&&!n.initSegment.data)s=n.initSegment;else if(n.live){var f=this.config.initialLiveManifestSize;if(a<f)return void g.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+f);if(null===(s=this._ensureFragmentAtLivePoint(n,c,l,u,r,i,a)))return}else c<l&&(s=i[0]);s||(s=this._findFragment(l,r,a,i,c,u,n)),s&&(s.encrypted?(g.logger.log("Loading key for "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+o),this._loadKey(s)):(g.logger.log("Loading "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+o+", currentTime:"+e.toFixed(3)+",bufferEnd:"+c.toFixed(3)),this._loadFragment(s)))}},n.prototype._ensureFragmentAtLivePoint=function(e,t,n,r,o,a,s){var l,u=this.hls.config,c=this.media,f=void 0!==u.liveMaxLatencyDuration?u.liveMaxLatencyDuration:u.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(n-u.maxFragLookUpTolerance,r-f)){var d=this.liveSyncPosition=this.computeLivePosition(n,e);g.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),t=d,c&&c.readyState&&c.duration>d&&(c.currentTime=d),this.nextLoadPosition=d}if(e.PTSKnown&&t>r&&c&&c.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(o)if(e.hasProgramDateTime)g.logger.log("live playlist, switching playlist, load frag with same PDT: "+o.programDateTime),l=v.findFragmentByPDT(a,o.endProgramDateTime,u.maxFragLookUpTolerance);else{var p=o.sn+1;if(p>=e.startSN&&p<=e.endSN){var h=a[p-e.startSN];o.cc===h.cc&&(l=h,g.logger.log("live playlist, switching playlist, load frag with next SN: "+l.sn))}l||(l=i.default.search(a,(function(e){return o.cc-e.cc})))&&g.logger.log("live playlist, switching playlist, load frag with same CC: "+l.sn)}l||(l=a[Math.min(s-1,Math.round(s/2))],g.logger.log("live playlist, switching playlist, unknown, load middle frag : "+l.sn))}return l},n.prototype._findFragment=function(e,t,n,r,o,i,a){var s,l=this.hls.config;if(o<i){var u=o>i-l.maxFragLookUpTolerance?0:l.maxFragLookUpTolerance;s=v.findFragmentByPTS(t,r,o,u)}else s=r[n-1];if(s){var c=s.sn-a.startSN,f=t&&s.level===t.level,d=r[c-1],p=r[c+1];if(t&&s.sn===t.sn)if(f&&!s.backtracked)if(s.sn<a.endSN){var h=t.deltaPTS;h&&h>l.maxBufferHole&&t.dropped&&c?(s=d,g.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(s=p,g.logger.log("SN just loaded, load next one: "+s.sn,s))}else s=null;else s.backtracked&&(p&&p.backtracked?(g.logger.warn("Already backtracked from fragment "+p.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+p.sn),s=p):(g.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,d?(s=d).backtracked=!0:c&&(s=null)))}return s},n.prototype._loadKey=function(e){this.state=b.State.KEY_LOADING,this.hls.trigger(l.default.KEY_LOADING,{frag:e})},n.prototype._loadFragment=function(t){var n=this.fragmentTracker.getState(t);this.fragCurrent=t,this.startFragRequested=!0,e.isFinite(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||n===u.FragmentState.NOT_LOADED||n===u.FragmentState.PARTIAL?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.hls.trigger(l.default.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new s.default(this.hls,"main")),this.state=b.State.FRAG_LOADING):n===u.FragmentState.APPENDING&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,g.logger.log("main stream:"+t+"->"+e),this.hls.trigger(l.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},enumerable:!0,configurable:!0}),n.prototype.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,f.default.LevelType.MAIN)},Object.defineProperty(n.prototype,"currentLevel",{get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nextBufferedFrag",{get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null},enumerable:!0,configurable:!0}),n.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},Object.defineProperty(n.prototype,"nextLevel",{get:function(){var e=this.nextBufferedFrag;return e?e.level:-1},enumerable:!0,configurable:!0}),n.prototype._checkFragmentChanged=function(){var e,t,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((t=n.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),a.BufferHelper.isBuffered(n,t)?e=this.getBufferedFrag(t):a.BufferHelper.isBuffered(n,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var r=e;if(r!==this.fragPlaying){this.hls.trigger(l.default.FRAG_CHANGED,{frag:r});var o=r.level;this.fragPlaying&&this.fragPlaying.level===o||this.hls.trigger(l.default.LEVEL_SWITCHED,{level:o}),this.fragPlaying=r}}},n.prototype.immediateLevelSwitch=function(){if(g.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,n=void 0;t?(n=t.paused,t.pause()):n=!0,this.previouslyPaused=n}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)},n.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,a.BufferHelper.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},n.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var n,r=void 0,o=void 0;if((n=this.getBufferedFrag(t.currentTime))&&n.startPTS>1&&this.flushMainBuffer(0,n.startPTS-1),t.paused)r=0;else{var i=this.hls.nextLoadLevel,a=this.levels[i],s=this.fragLastKbps;r=s&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*s)+1:0}if((o=this.getBufferedFrag(t.currentTime+r))&&(o=this.followingBufferedFrag(o))){var l=this.fragCurrent;l&&l.loader&&l.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(o.maxStartPTS,e.POSITIVE_INFINITY)}}},n.prototype.flushMainBuffer=function(e,t){this.state=b.State.BUFFER_FLUSHING;var n={startOffset:e,endOffset:t};this.altAudio&&(n.type="video"),this.hls.trigger(l.default.BUFFER_FLUSHING,n)},n.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition),this.gapController=new y.default(n,t,this.fragmentTracker,this.hls)},n.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(g.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach((function(e){e.details&&e.details.fragments.forEach((function(e){e.backtracked=void 0}))})),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},n.prototype.onMediaSeeked=function(){var t=this.media,n=t?t.currentTime:void 0;e.isFinite(n)&&g.logger.log("media seeked to "+n.toFixed(3)),this.tick()},n.prototype.onManifestLoading=function(){g.logger.log("trigger BUFFER_RESET"),this.hls.trigger(l.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},n.prototype.onManifestParsed=function(e){var t,n=!1,r=!1;e.levels.forEach((function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(n=!0),-1!==t.indexOf("mp4a.40.5")&&(r=!0))})),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&g.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;var o=this.config;(o.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(o.startPosition)},n.prototype.onLevelLoaded=function(t){var n=t.details,r=t.level,o=this.levels[this.levelLastLoaded],i=this.levels[r],a=n.totalduration,s=0;if(g.logger.log("level "+r+" loaded ["+n.startSN+","+n.endSN+"],duration:"+a),n.live){var u=i.details;u&&n.fragments.length>0?(d.mergeDetails(u,n),s=n.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(s,u),n.PTSKnown&&e.isFinite(s)?g.logger.log("live playlist sliding:"+s.toFixed(3)):(g.logger.log("live playlist - outdated PTS, unknown sliding"),m.alignStream(this.fragPrevious,o,n))):(g.logger.log("live playlist - first load, unknown sliding"),n.PTSKnown=!1,m.alignStream(this.fragPrevious,o,n))}else n.PTSKnown=!1;if(i.details=n,this.levelLastLoaded=r,this.hls.trigger(l.default.LEVEL_UPDATED,{details:n,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var c=n.startTimeOffset;e.isFinite(c)?(c<0&&(g.logger.log("negative start time offset "+c+", count from end of last fragment"),c=s+a+c),g.logger.log("start time offset found in playlist, adjust startPosition to "+c),this.startPosition=c):n.live?(this.startPosition=this.computeLivePosition(s,n),g.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===b.State.WAITING_LEVEL&&(this.state=b.State.IDLE),this.tick()},n.prototype.onKeyLoaded=function(){this.state===b.State.KEY_LOADING&&(this.state=b.State.IDLE,this.tick())},n.prototype.onFragLoaded=function(e){var t=this.fragCurrent,n=this.hls,r=this.levels,o=this.media,i=e.frag;if(this.state===b.State.FRAG_LOADING&&t&&"main"===i.type&&i.level===t.level&&i.sn===t.sn){var a=e.stats,u=r[t.level],c=u.details;if(this.bitrateTest=!1,this.stats=a,g.logger.log("Loaded "+t.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+t.level),i.bitrateTest&&n.nextLoadLevel)this.state=b.State.IDLE,this.startFragRequested=!1,a.tparsed=a.tbuffered=window.performance.now(),n.trigger(l.default.FRAG_BUFFERED,{stats:a,frag:t,id:"main"}),this.tick();else if("initSegment"===i.sn)this.state=b.State.IDLE,a.tparsed=a.tbuffered=window.performance.now(),c.initSegment.data=e.payload,n.trigger(l.default.FRAG_BUFFERED,{stats:a,frag:t,id:"main"}),this.tick();else{g.logger.log("Parsing "+t.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+t.level+", cc "+t.cc),this.state=b.State.PARSING,this.pendingBuffering=!0,this.appended=!1,i.bitrateTest&&(i.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:i}));var f=!(o&&o.seeking)&&(c.PTSKnown||!c.live),d=c.initSegment?c.initSegment.data:[],p=this._getAudioCodec(u);(this.demuxer=this.demuxer||new s.default(this.hls,"main")).push(e.payload,d,p,u.videoCodec,t,c.totalduration,f)}}this.fragLoadError=0},n.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===b.State.PARSING){var r=e.tracks,o=void 0,i=void 0;if(r.audio&&this.altAudio&&delete r.audio,i=r.audio){var a=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===s.indexOf("firefox")&&(a="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==i.container&&(a="mp4a.40.2",g.logger.log("Android: force audio codec to "+a)),i.levelCodec=a,i.id=e.id}for(o in(i=r.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),this.hls.trigger(l.default.BUFFER_CODECS,r),r){i=r[o],g.logger.log("main track:"+o+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var u=i.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,{type:o,data:u,parent:"main",content:"initSegment"}))}this.tick()}},n.prototype.onFragParsingData=function(t){var n=this,r=this.fragCurrent,o=t.frag;if(r&&"main"===t.id&&o.sn===r.sn&&o.level===r.level&&("audio"!==t.type||!this.altAudio)&&this.state===b.State.PARSING){var i=this.levels[this.level],a=r;if(e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+r.duration,t.endDTS=t.startDTS+r.duration),!0===t.hasAudio&&a.addElementaryStream(c.default.ElementaryStreamTypes.AUDIO),!0===t.hasVideo&&a.addElementaryStream(c.default.ElementaryStreamTypes.VIDEO),g.logger.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(a.dropped=t.dropped,a.dropped)if(a.backtracked)g.logger.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var s=i.details;if(!s||a.sn!==s.startSN)return g.logger.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=b.State.IDLE,this.fragPrevious=a,void this.tick();g.logger.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var u=d.updateFragPTSDTS(i.details,a,t.startPTS,t.endPTS,t.startDTS,t.endDTS),f=this.hls;f.trigger(l.default.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:u,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach((function(e){e&&e.length&&n.state===b.State.PARSING&&(n.appended=!0,n.pendingBuffering=!0,f.trigger(l.default.BUFFER_APPENDING,{type:t.type,data:e,parent:"main",content:"data"}))})),this.tick()}},n.prototype.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===b.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=b.State.PARSED,this._checkAppendedParsed())},n.prototype.onAudioTrackSwitching=function(t){var n=!!t.url,r=t.id;if(!n){if(this.mediaBuffer!==this.media){g.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var o=this.fragCurrent;o.loader&&(g.logger.log("switching to main audio track, cancel main fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=b.State.IDLE}var i=this.hls;i.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),i.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:r}),this.altAudio=!1}},n.prototype.onAudioTrackSwitched=function(e){var t=e.id,n=!!this.hls.audioTracks[t].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(g.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()},n.prototype.onBufferCreated=function(e){var t,n,r=e.tracks,o=!1;for(var i in r){var a=r[i];"main"===a.id?(n=i,t=a,"video"===i&&(this.videoBuffer=r[i].buffer)):o=!0}o&&t?(g.logger.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},n.prototype.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==b.State.PARSING&&t!==b.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},n.prototype._checkAppendedParsed=function(){if(!(this.state!==b.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;g.logger.log("main buffered : "+p.default.toString(t.buffered)),this.fragPrevious=e;var n=this.stats;n.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(l.default.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.state=b.State.IDLE}this.tick()}},n.prototype.onError=function(t){var n=t.frag||this.fragCurrent;if(!n||"main"===n.type){var r=!!this.media&&a.BufferHelper.isBuffered(this.media,this.media.currentTime)&&a.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case h.ErrorDetails.FRAG_LOAD_ERROR:case h.ErrorDetails.FRAG_LOAD_TIMEOUT:case h.ErrorDetails.KEY_LOAD_ERROR:case h.ErrorDetails.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var o=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);g.logger.warn("mediaController: frag loading failed, retry in "+o+" ms"),this.retryDate=window.performance.now()+o,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=b.State.FRAG_LOADING_WAITING_RETRY}else g.logger.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=b.State.ERROR;break;case h.ErrorDetails.LEVEL_LOAD_ERROR:case h.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==b.State.ERROR&&(t.fatal?(this.state=b.State.ERROR,g.logger.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==b.State.WAITING_LEVEL||(this.state=b.State.IDLE));break;case h.ErrorDetails.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==b.State.PARSING&&this.state!==b.State.PARSED||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=b.State.IDLE):(g.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)))}}},n.prototype._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,g.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},n.prototype._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,t)}},n.prototype.onFragLoadEmergencyAborted=function(){this.state=b.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},n.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(c.default.ElementaryStreamTypes.VIDEO,e.buffered),this.state=b.State.IDLE,this.fragPrevious=null},n.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},n.prototype.computeLivePosition=function(e,t){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-n)},n.prototype._seekToStartPos=function(){var e=this.media,t=e.currentTime,n=e.seeking?t:this.startPosition;t!==n&&(g.logger.log("target start position not buffered, seek to buffered.start(0) "+n+" from current time "+t+" "),e.currentTime=n)},n.prototype._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},Object.defineProperty(n.prototype,"liveSyncPosition",{get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e},enumerable:!0,configurable:!0}),n}(b.default);t.default=A}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/subtitle-stream-controller.js":
/*!******************************************************!*\
  !*** ./src/controller/subtitle-stream-controller.js ***!
  \******************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../utils/logger */"./src/utils/logger.js"),s=n(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),l=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),u=n(/*! ./fragment-finders */"./src/controller/fragment-finders.js"),c=n(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),f=n(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),d=n(/*! ./level-helper */"./src/controller/level-helper.js"),p=window.performance,h=function(e){function t(t,n){var r=e.call(this,t,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.ERROR,i.default.KEY_LOADED,i.default.FRAG_LOADED,i.default.SUBTITLE_TRACKS_UPDATED,i.default.SUBTITLE_TRACK_SWITCH,i.default.SUBTITLE_TRACK_LOADED,i.default.SUBTITLE_FRAG_PROCESSED,i.default.LEVEL_UPDATED)||this;return r.fragmentTracker=n,r.config=t.config,r.state=f.State.STOPPED,r.tracks=[],r.tracksBuffered=[],r.currentTrackId=-1,r.decrypter=new s.default(t,t.config),r.lastAVStart=0,r._onMediaSeeking=r.onMediaSeeking.bind(r),r}return o(t,e),t.prototype.onSubtitleFragProcessed=function(e){var t=e.frag,n=e.success;if(this.fragPrevious=t,this.state=f.State.IDLE,n){var r=this.tracksBuffered[this.currentTrackId];if(r){for(var o,i=t.start,a=0;a<r.length;a++)if(i>=r[a].start&&i<=r[a].end){o=r[a];break}var s=t.start+t.duration;o?o.end=s:(o={start:i,end:s},r.push(o))}}},t.prototype.onMediaAttached=function(e){var t=e.media;this.media=t,t.addEventListener("seeking",this._onMediaSeeking),this.state=f.State.IDLE},t.prototype.onMediaDetaching=function(){this.media.removeEventListener("seeking",this._onMediaSeeking),this.media=null,this.state=f.State.STOPPED},t.prototype.onError=function(e){var t=e.frag;t&&"subtitle"===t.type&&(this.state=f.State.IDLE)},t.prototype.onSubtitleTracksUpdated=function(e){var t=this;a.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=e.subtitleTracks,this.tracks.forEach((function(e){t.tracksBuffered[e.id]=[]}))},t.prototype.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,this.tracks&&-1!==this.currentTrackId){var t=this.tracks[this.currentTrackId];t&&t.details&&this.setInterval(500)}else this.clearInterval()},t.prototype.onSubtitleTrackLoaded=function(e){var t=e.id,n=e.details,r=this.currentTrackId,o=this.tracks,i=o[r];t>=o.length||t!==r||!i||(n.live&&d.mergeSubtitlePlaylists(i.details,n,this.lastAVStart),i.details=n,this.setInterval(500))},t.prototype.onKeyLoaded=function(){this.state===f.State.KEY_LOADING&&(this.state=f.State.IDLE)},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag.decryptdata,r=e.frag,o=this.hls;if(this.state===f.State.FRAG_LOADING&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&n&&n.key&&"AES-128"===n.method){var a=p.now();this.decrypter.decrypt(e.payload,n.key.buffer,n.iv.buffer,(function(e){var t=p.now();o.trigger(i.default.FRAG_DECRYPTED,{frag:r,payload:e,stats:{tstart:a,tdecrypt:t}})}))}},t.prototype.onLevelUpdated=function(e){var t=e.details.fragments;this.lastAVStart=t.length?t[0].start:0},t.prototype.doTick=function(){if(this.media)switch(this.state){case f.State.IDLE:var e=this,t=e.config,n=e.currentTrackId,r=e.fragmentTracker,o=e.media,s=e.tracks;if(!s||!s[n]||!s[n].details)break;var d=t.maxBufferHole,p=t.maxFragLookUpTolerance,h=Math.min(t.maxBufferLength,t.maxMaxBufferLength),g=l.BufferHelper.bufferedInfo(this._getBuffered(),o.currentTime,d),m=g.end,v=g.len,y=s[n].details,b=y.fragments,A=b.length,C=b[A-1].start+b[A-1].duration;if(v>h)return;var I=void 0,_=this.fragPrevious;m<C?(_&&y.hasProgramDateTime&&(I=u.findFragmentByPDT(b,_.endProgramDateTime,p)),I||(I=u.findFragmentByPTS(_,b,m,p))):I=b[A-1],I&&I.encrypted?(a.logger.log("Loading key for "+I.sn),this.state=f.State.KEY_LOADING,this.hls.trigger(i.default.KEY_LOADING,{frag:I})):I&&r.getState(I)===c.FragmentState.NOT_LOADED&&(this.fragCurrent=I,this.state=f.State.FRAG_LOADING,this.hls.trigger(i.default.FRAG_LOADING,{frag:I}))}else this.state=f.State.IDLE},t.prototype.stopLoad=function(){this.lastAVStart=0,e.prototype.stopLoad.call(this)},t.prototype._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},t.prototype.onMediaSeeking=function(){this.fragPrevious=null},t}(f.default);t.SubtitleStreamController=h},"./src/controller/subtitle-track-controller.js":
/*!*****************************************************!*\
  !*** ./src/controller/subtitle-track-controller.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),l=n(/*! ./level-helper */"./src/controller/level-helper.js"),u=function(t){function n(e){var n=t.call(this,e,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.MANIFEST_LOADED,i.default.SUBTITLE_TRACK_LOADED)||this;return n.tracks=[],n.trackId=-1,n.media=null,n.stopped=!0,n.subtitleDisplay=!0,n}return o(n,t),n.prototype.destroy=function(){a.default.prototype.destroy.call(this)},n.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval((function(){t.trackChangeListener()}),500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},n.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},n.prototype.onManifestLoaded=function(e){var t=this,n=e.subtitles||[];this.tracks=n,this.hls.trigger(i.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach((function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)}))},n.prototype.onSubtitleTrackLoaded=function(e){var t=this,n=e.id,r=e.details,o=this.trackId,i=this.tracks,a=i[o];if(n>=i.length||n!==o||!a||this.stopped)this._clearReloadTimer();else if(s.logger.log("subtitle track "+n+" loaded"),r.live){var u=l.computeReloadInterval(a.details,r,e.stats.trequest);s.logger.log("Reloading live subtitle playlist in "+u+"ms"),this.timer=setTimeout((function(){t._loadCurrentTrack()}),u)}else this._clearReloadTimer()},n.prototype.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},n.prototype.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},Object.defineProperty(n.prototype,"subtitleTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subtitleTrack",{get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this._setSubtitleTrackInternal(e))},enumerable:!0,configurable:!0}),n.prototype._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype._loadCurrentTrack=function(){var e=this.trackId,t=this.tracks,n=this.hls,r=t[e];e<0||!r||r.details&&!r.details.live||(s.logger.log("Loading subtitle track "+e),n.trigger(i.default.SUBTITLE_TRACK_LOADING,{url:r.url,id:e}))},n.prototype._toggleTrackModes=function(e){var t=this.media,n=this.subtitleDisplay,r=this.trackId;if(t){var o=c(t.textTracks);if(-1===e)[].slice.call(o).forEach((function(e){e.mode="disabled"}));else{var i=o[r];i&&(i.mode="disabled")}var a=o[e];a&&(a.mode=n?"showing":"hidden")}},n.prototype._setSubtitleTrackInternal=function(t){var n=this.hls,r=this.tracks;!e.isFinite(t)||t<-1||t>=r.length||(this.trackId=t,s.logger.log("Switching to subtitle track "+t),n.trigger(i.default.SUBTITLE_TRACK_SWITCH,{id:t}),this._loadCurrentTrack())},n.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=c(this.media.textTracks),n=0;n<t.length;n++)if("hidden"===t[n].mode)e=n;else if("showing"===t[n].mode){e=n;break}this.subtitleTrack=e}},n}(a.default);function c(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"subtitles"===r.kind&&r.label&&t.push(e[n])}return t}t.default=u}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/timeline-controller.js":
/*!***********************************************!*\
  !*** ./src/controller/timeline-controller.js ***!
  \***********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../utils/cea-608-parser */"./src/utils/cea-608-parser.js"),l=n(/*! ../utils/output-filter */"./src/utils/output-filter.js"),u=n(/*! ../utils/webvtt-parser */"./src/utils/webvtt-parser.js"),c=n(/*! ../utils/logger */"./src/utils/logger.js"),f=n(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.js");function d(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}var p=function(t){function n(e){var n=t.call(this,e,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_USERDATA,i.default.FRAG_DECRYPTED,i.default.MANIFEST_LOADING,i.default.MANIFEST_LOADED,i.default.FRAG_LOADED,i.default.LEVEL_SWITCHING,i.default.INIT_PTS_FOUND)||this;if(n.hls=e,n.config=e.config,n.enabled=!0,n.Cues=e.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=[],n.cueRanges=[],n.captionsTracks={},n.captionsProperties={textTrack1:{label:n.config.captionsTextTrack1Label,languageCode:n.config.captionsTextTrack1LanguageCode},textTrack2:{label:n.config.captionsTextTrack2Label,languageCode:n.config.captionsTextTrack2LanguageCode}},n.config.enableCEA708Captions){var r=new l.default(n,"textTrack1"),o=new l.default(n,"textTrack2");n.cea608Parser=new s.default(0,r,o)}return n}return o(n,t),n.prototype.addCues=function(e,t,n,r){for(var o,i,a,s,l=this.cueRanges,u=!1,c=l.length;c--;){var f=l[c],d=(o=f[0],i=f[1],a=t,s=n,Math.min(i,s)-Math.max(o,a));if(d>=0&&(f[0]=Math.min(f[0],t),f[1]=Math.max(f[1],n),u=!0,d/(n-t)>.5))return}u||l.push([t,n]),this.Cues.newCue(this.captionsTracks[e],t,n,r)},n.prototype.onInitPtsFound=function(e){var t=this;if("main"===e.id&&(this.initPTS[e.frag.cc]=e.initPTS),this.unparsedVttFrags.length){var n=this.unparsedVttFrags;this.unparsedVttFrags=[],n.forEach((function(e){t.onFragLoaded(e)}))}},n.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var r=t.textTracks[n];if(r[e])return r}return null},n.prototype.createCaptionsTrack=function(e){var t=this.captionsProperties[e],n=t.label,r=t.languageCode,o=this.captionsTracks;if(!o[e]){var i=this.getExistingTrack(e);if(i)o[e]=i,f.clearCurrentCues(o[e]),f.sendAddTrackEvent(o[e],this.media);else{var a=this.createTextTrack("captions",n,r);a&&(a[e]=!0,o[e]=a)}}},n.prototype.createTextTrack=function(e,t,n){var r=this.media;if(r)return r.addTextTrack(e,t,n)},n.prototype.destroy=function(){a.default.prototype.destroy.call(this)},n.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},n.prototype.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){f.clearCurrentCues(e[t]),delete e[t]}))},n.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},n.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)f.clearCurrentCues(t[n])}},n.prototype.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var n=this.media?this.media.textTracks:[];this.tracks.forEach((function(e,r){var o;if(r<n.length){for(var i=null,a=0;a<n.length;a++)if(d(n[a],e)){i=n[a];break}i&&(o=i)}o||(o=t.createTextTrack("subtitles",e.name,e.lang)),e.default?o.mode=t.hls.subtitleDisplay?"showing":"hidden":o.mode="disabled",t.textTracks.push(o)}))}},n.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},n.prototype.onFragLoaded=function(t){var n=t.frag,r=t.payload;if("main"===n.type){var o=n.sn;if(o!==this.lastSn+1){var a=this.cea608Parser;a&&a.reset()}this.lastSn=o}else if("subtitle"===n.type)if(r.byteLength){if(!e.isFinite(this.initPTS[n.cc]))return this.unparsedVttFrags.push(t),void(this.initPTS.length&&this.hls.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n}));var s=n.decryptdata;null!=s&&null!=s.key&&"AES-128"===s.method||this._parseVTTs(n,r)}else this.hls.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n})},n.prototype._parseVTTs=function(e,t){var n=this.vttCCs;n[e.cc]||(n[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var r=this.textTracks,o=this.hls;u.default.parse(t,this.initPTS[e.cc],n,e.cc,(function(t){var n=r[e.level];"disabled"!==n.mode?(t.forEach((function(e){if(!n.cues.getCueById(e.id))try{n.addCue(e)}catch(r){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,n.addCue(t)}})),o.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})):o.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})}),(function(t){c.logger.log("Failed to parse VTT cue: "+t),o.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})}))},n.prototype.onFragDecrypted=function(t){var n=t.payload,r=t.frag;if("subtitle"===r.type){if(!e.isFinite(this.initPTS[r.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(r,n)}},n.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var n=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,n)}},n.prototype.extractCea608Data=function(e){for(var t,n,r,o=31&e[0],i=2,a=[],s=0;s<o;s++)t=e[i++],n=127&e[i++],r=127&e[i++],0===n&&0===r||0!=(4&t)&&0==(3&t)&&(a.push(n),a.push(r));return a},n}(a.default);t.default=p}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/crypt/aes-crypto.js":
/*!*********************************!*\
  !*** ./src/crypt/aes-crypto.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}();t.default=r},"./src/crypt/aes-decryptor.js":
/*!************************************!*\
  !*** ./src/crypt/aes-decryptor.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";function r(e){var t=e.byteLength,n=t&&new DataView(e).getUint8(t-1);return n?e.slice(0,t-n):e}Object.defineProperty(t,"__esModule",{value:!0}),t.removePadding=r;var o=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],o=n[1],i=n[2],a=n[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],f=s[3],d=new Uint32Array(256),p=0,h=0,g=0;for(g=0;g<256;g++)d[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var m=h^h<<1^h<<2^h<<3^h<<4;m=m>>>8^255&m^99,e[p]=m,t[m]=p;var v=d[p],y=d[v],b=d[y],A=257*d[m]^16843008*m;r[p]=A<<24|A>>>8,o[p]=A<<16|A>>>16,i[p]=A<<8|A>>>24,a[p]=A,A=16843009*b^65537*y^257*v^16843008*p,l[m]=A<<24|A>>>8,u[m]=A<<16|A>>>16,c[m]=A<<8|A>>>24,f[m]=A,p?(p=v^d[d[d[b^v]]],h^=d[d[h]]):p=h=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var o=this.keySize=t.length;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size="+o);var i,a,s,l,u=this.ksRows=4*(o+6+1),c=this.keySchedule=new Uint32Array(u),f=this.invKeySchedule=new Uint32Array(u),d=this.sBox,p=this.rcon,h=this.invSubMix,g=h[0],m=h[1],v=h[2],y=h[3];for(i=0;i<u;i++)i<o?s=c[i]=t[i]:(l=s,i%o==0?(l=d[(l=l<<8|l>>>24)>>>24]<<24|d[l>>>16&255]<<16|d[l>>>8&255]<<8|d[255&l],l^=p[i/o|0]<<24):o>6&&i%o==4&&(l=d[l>>>24]<<24|d[l>>>16&255]<<16|d[l>>>8&255]<<8|d[255&l]),c[i]=s=(c[i-o]^l)>>>0);for(a=0;a<u;a++)i=u-a,l=3&a?c[i]:c[i-4],f[a]=a<4||i<=4?l:g[d[l>>>24]]^m[d[l>>>16&255]]^v[d[l>>>8&255]]^y[d[255&l]],f[a]=f[a]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,n,o){for(var i,a,s,l,u,c,f,d,p,h,g,m,v,y,b=this.keySize+6,A=this.invKeySchedule,C=this.invSBox,I=this.invSubMix,_=I[0],E=I[1],w=I[2],S=I[3],T=this.uint8ArrayToUint32Array_(n),k=T[0],x=T[1],P=T[2],O=T[3],L=new Int32Array(e),D=new Int32Array(L.length),j=this.networkToHostOrderSwap;t<L.length;){for(p=j(L[t]),h=j(L[t+1]),g=j(L[t+2]),m=j(L[t+3]),u=p^A[0],c=m^A[1],f=g^A[2],d=h^A[3],v=4,y=1;y<b;y++)i=_[u>>>24]^E[c>>16&255]^w[f>>8&255]^S[255&d]^A[v],a=_[c>>>24]^E[f>>16&255]^w[d>>8&255]^S[255&u]^A[v+1],s=_[f>>>24]^E[d>>16&255]^w[u>>8&255]^S[255&c]^A[v+2],l=_[d>>>24]^E[u>>16&255]^w[c>>8&255]^S[255&f]^A[v+3],u=i,c=a,f=s,d=l,v+=4;i=C[u>>>24]<<24^C[c>>16&255]<<16^C[f>>8&255]<<8^C[255&d]^A[v],a=C[c>>>24]<<24^C[f>>16&255]<<16^C[d>>8&255]<<8^C[255&u]^A[v+1],s=C[f>>>24]<<24^C[d>>16&255]<<16^C[u>>8&255]<<8^C[255&c]^A[v+2],l=C[d>>>24]<<24^C[u>>16&255]<<16^C[c>>8&255]<<8^C[255&f]^A[v+3],v+=3,D[t]=j(i^k),D[t+1]=j(l^x),D[t+2]=j(s^P),D[t+3]=j(a^O),k=p,x=h,P=g,O=m,t+=4}return o?r(D.buffer):D.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}();t.default=o},"./src/crypt/decrypter.js":
/*!********************************!*\
  !*** ./src/crypt/decrypter.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./aes-crypto */"./src/crypt/aes-crypto.js"),o=n(/*! ./fast-aes-key */"./src/crypt/fast-aes-key.js"),i=n(/*! ./aes-decryptor */"./src/crypt/aes-decryptor.js"),a=n(/*! ../errors */"./src/errors.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),l=n(/*! ../events */"./src/events.js"),u=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js").getSelfScope(),c=function(){function e(e,t,n){var r=(void 0===n?{}:n).removePKCS7Padding,o=void 0===r||r;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=o,o)try{var i=u.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}return e.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.prototype.decrypt=function(e,t,n,a){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var u=this.decryptor;u||(this.decryptor=u=new i.default),u.expandKey(t),a(u.decrypt(e,0,n,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new o.default(c,t)),this.fastAesKey.expandKey().then((function(o){new r.default(c,n).decrypt(e,o).catch((function(r){l.onWebCryptoError(r,e,t,n,a)})).then((function(e){a(e)}))})).catch((function(r){l.onWebCryptoError(r,e,t,n,a)}))}},e.prototype.onWebCryptoError=function(e,t,n,r,o){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,n,r,o)):(s.logger.error("decrypting error : "+e.message),this.observer.trigger(l.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},e.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}();t.default=c},"./src/crypt/fast-aes-key.js":
/*!***********************************!*\
  !*** ./src/crypt/fast-aes-key.js ***!
  \***********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}();t.default=r},"./src/demux/aacdemuxer.js":
/*!*********************************!*\
  !*** ./src/demux/aacdemuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./adts */"./src/demux/adts.js"),o=n(/*! ../utils/logger */"./src/utils/logger.js"),i=n(/*! ../demux/id3 */"./src/demux/id3.js"),a=function(){function t(e,t,n){this.observer=e,this.config=n,this.remuxer=t}return t.prototype.resetInitSegment=function(e,t,n,r){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(e){if(!e)return!1;for(var t=(i.default.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(r.probe(e,t))return o.logger.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,n,a,s){for(var l=this._audioTrack,u=i.default.getID3Data(t,0)||[],c=i.default.getTimeStamp(u),f=e.isFinite(c)?90*c:9e4*n,d=0,p=f,h=t.length,g=u.length,m=[{pts:p,dts:p,data:u}];g<h-1;)if(r.isHeader(t,g)&&g+5<h){r.initTrackConfig(l,this.observer,t,g,l.manifestCodec);var v=r.appendFrame(l,t,g,f,d);if(!v){o.logger.log("Unable to parse AAC frame");break}g+=v.length,p=v.sample.pts,d++}else i.default.isHeader(t,g)?(u=i.default.getID3Data(t,g),m.push({pts:p,dts:p,data:u}),g+=u.length):g++;this.remuxer.remux(l,{samples:[]},{samples:m,inputTimeScale:9e4},{samples:[]},n,a,s)},t.prototype.destroy=function(){},t}();t.default=a}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/demux/adts.js":
/*!***************************!*\
  !*** ./src/demux/adts.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/logger */"./src/utils/logger.js"),o=n(/*! ../errors */"./src/errors.js"),i=n(/*! ../events */"./src/events.js");function a(e,t,n,a){var s,l,u,c,f,d=navigator.userAgent.toLowerCase(),p=a,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(s=1+((192&t[n+2])>>>6),!((l=(60&t[n+2])>>>2)>h.length-1))return c=(1&t[n+2])<<2,c|=(192&t[n+3])>>>6,r.logger.log("manifest codec:"+a+",ADTS data:type:"+s+",sampleingIndex:"+l+"["+h[l]+"Hz],channelConfig:"+c),/firefox/i.test(d)?l>=6?(s=5,f=new Array(4),u=l-3):(s=2,f=new Array(2),u=l):-1!==d.indexOf("android")?(s=2,f=new Array(2),u=l):(s=5,f=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&l>=6?u=l-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(l>=6&&1===c||/vivaldi/i.test(d))||!a&&1===c)&&(s=2,f=new Array(2)),u=l)),f[0]=s<<3,f[0]|=(14&l)>>1,f[1]|=(1&l)<<7,f[1]|=c<<3,5===s&&(f[1]|=(14&u)>>1,f[2]=(1&u)<<7,f[2]|=8,f[3]=0),{config:f,samplerate:h[l],channelCount:c,codec:"mp4a.40."+s,manifestCodec:p};e.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+l})}function s(e,t){return 255===e[t]&&240==(246&e[t+1])}function l(e,t){return 1&e[t+1]?7:9}function u(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function c(e){return 9216e4/e}function f(e,t,n,r,o){var i,a,s=e.length;if(i=l(e,t),a=u(e,t),(a-=i)>0&&t+i+a<=s)return{headerLength:i,frameLength:a,stamp:n+r*o}}t.getAudioConfig=a,t.isHeaderPattern=s,t.getHeaderLength=l,t.getFullFrameLength=u,t.isHeader=function(e,t){return!!(t+1<e.length&&s(e,t))},t.probe=function(e,t){if(t+1<e.length&&s(e,t)){var n=l(e,t);t+5<e.length&&(n=u(e,t));var r=t+n;if(r===e.length||r+1<e.length&&s(e,r))return!0}return!1},t.initTrackConfig=function(e,t,n,o,i){if(!e.samplerate){var s=a(t,n,o,i);e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,r.logger.log("parsed codec:"+e.codec+",rate:"+s.samplerate+",nb channel:"+s.channelCount)}},t.getFrameDuration=c,t.parseFrameHeader=f,t.appendFrame=function(e,t,n,r,o){var i=f(t,n,r,o,c(e.samplerate));if(i){var a=i.stamp,s=i.headerLength,l=i.frameLength,u={unit:t.subarray(n+s,n+s+l),pts:a,dts:a};return e.samples.push(u),e.len+=l,{sample:u,length:l+s}}}},"./src/demux/demuxer-inline.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-inline.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(/*! ../events */"./src/events.js"),i=n(/*! ../errors */"./src/errors.js"),a=n(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),s=n(/*! ../demux/aacdemuxer */"./src/demux/aacdemuxer.js"),l=n(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.js"),u=n(/*! ../demux/tsdemuxer */"./src/demux/tsdemuxer.js"),c=n(/*! ../demux/mp3demuxer */"./src/demux/mp3demuxer.js"),f=n(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.js"),d=n(/*! ../remux/passthrough-remuxer */"./src/remux/passthrough-remuxer.js"),p=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),h=n(/*! ../utils/logger */"./src/utils/logger.js"),g=p.getSelfScope();try{r=g.performance.now.bind(g.performance)}catch(e){h.logger.debug("Unable to use Performance API on this environment"),r=g.Date.now}var m=function(){function e(e,t,n,r){this.observer=e,this.typeSupported=t,this.config=n,this.vendor=r}return e.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},e.prototype.push=function(e,t,n,i,s,l,u,c,f,d,p,h){var g=this;if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var m=this.decrypter;null==m&&(m=this.decrypter=new a.default(this.observer,this.config));var v=r();m.decrypt(e,t.key.buffer,t.iv.buffer,(function(e){var a=r();g.observer.trigger(o.default.FRAG_DECRYPTED,{stats:{tstart:v,tdecrypt:a}}),g.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),i,s,l,u,c,f,d,p,h)}))}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),i,s,l,u,c,f,d,p,h)},e.prototype.pushDecrypted=function(e,t,n,r,a,p,h,g,m,v,y,b){var A=this.demuxer;if(!A||(h||g)&&!this.probe(e)){for(var C=this.observer,I=this.typeSupported,_=this.config,E=[{demux:u.default,remux:f.default},{demux:l.default,remux:d.default},{demux:s.default,remux:f.default},{demux:c.default,remux:f.default}],w=0,S=E.length;w<S;w++){var T=E[w],k=T.demux.probe;if(k(e)){var x=this.remuxer=new T.remux(C,_,I,this.vendor);A=new T.demux(C,x,_,I),this.probe=k;break}}if(!A)return void C.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=A}var P=this.remuxer;(h||g)&&(A.resetInitSegment(n,r,a,v),P.resetInitSegment()),h&&(A.resetTimeStamp(b),P.resetTimeStamp(b)),"function"==typeof A.setDecryptData&&A.setDecryptData(t),A.append(e,p,m,y)},e}();t.default=m},"./src/demux/demuxer-worker.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-worker.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),o=n(/*! ../events */"./src/events.js"),i=n(/*! ../utils/logger */"./src/utils/logger.js"),a=n(/*! events */"./node_modules/node-libs-browser/node_modules/events/events.js");t.default=function(e){var t=new a.EventEmitter;t.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t.emit.apply(t,[e,e].concat(n))},t.off=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t.removeListener.apply(t,[e].concat(n))};var n=function(t,n){e.postMessage({event:t,data:n})};e.addEventListener("message",(function(o){var a=o.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);e.demuxer=new r.default(t,a.typeSupported,s,a.vendor),i.enableLogs(s.debug),n("init",null);break;case"demux":e.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}})),t.on(o.default.FRAG_DECRYPTED,n),t.on(o.default.FRAG_PARSING_INIT_SEGMENT,n),t.on(o.default.FRAG_PARSED,n),t.on(o.default.ERROR,n),t.on(o.default.FRAG_PARSING_METADATA,n),t.on(o.default.FRAG_PARSING_USERDATA,n),t.on(o.default.INIT_PTS_FOUND,n),t.on(o.default.FRAG_PARSING_DATA,(function(t,n){var r=[],o={event:t,data:n};n.data1&&(o.data1=n.data1.buffer,r.push(n.data1.buffer),delete n.data1),n.data2&&(o.data2=n.data2.buffer,r.push(n.data2.buffer),delete n.data2),e.postMessage(o,r)}))}},"./src/demux/demuxer.js":
/*!******************************!*\
  !*** ./src/demux/demuxer.js ***!
  \******************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! webworkify-webpack */"./node_modules/webworkify-webpack/index.js"),o=n(/*! ../events */"./src/events.js"),i=n(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),a=n(/*! ../utils/logger */"./src/utils/logger.js"),s=n(/*! ../errors */"./src/errors.js"),l=n(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.js"),u=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),c=n(/*! ../observer */"./src/observer.js"),f=u.getSelfScope(),d=l.getMediaSource(),p=function(){function t(e,t){var n=this;this.hls=e,this.id=t;var l=this.observer=new c.Observer,u=e.config,p=function(t,r){(r=r||{}).frag=n.frag,r.id=n.id,e.trigger(t,r)};l.on(o.default.FRAG_DECRYPTED,p),l.on(o.default.FRAG_PARSING_INIT_SEGMENT,p),l.on(o.default.FRAG_PARSING_DATA,p),l.on(o.default.FRAG_PARSED,p),l.on(o.default.ERROR,p),l.on(o.default.FRAG_PARSING_METADATA,p),l.on(o.default.FRAG_PARSING_USERDATA,p),l.on(o.default.INIT_PTS_FOUND,p);var h={mp4:d.isTypeSupported("video/mp4"),mpeg:d.isTypeSupported("audio/mpeg"),mp3:d.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(u.enableWorker&&"undefined"!=typeof Worker){a.logger.log("demuxing in webworker");var m=void 0;try{m=this.w=r(/*! ../demux/demuxer-worker.js */"./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),m.addEventListener("message",this.onwmsg),m.onerror=function(t){e.trigger(o.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},m.postMessage({cmd:"init",typeSupported:h,vendor:g,id:t,config:JSON.stringify(u)})}catch(e){a.logger.warn("Error in worker:",e),a.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),m&&f.URL.revokeObjectURL(m.objectURL),this.demuxer=new i.default(l,h,u,g),this.w=void 0}}else this.demuxer=new i.default(l,h,u,g)}return t.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,n,r,o,i,s,l,u){var c=this.w,f=e.isFinite(i.startPTS)?i.startPTS:i.start,d=i.decryptdata,p=this.frag,h=!(p&&i.cc===p.cc),g=!(p&&i.level===p.level),m=p&&i.sn===p.sn+1,v=!g&&m;if(h&&a.logger.log(this.id+":discontinuity detected"),g&&a.logger.log(this.id+":switch detected"),this.frag=i,c)c.postMessage({cmd:"demux",data:t,decryptdata:d,initSegment:n,audioCodec:r,videoCodec:o,timeOffset:f,discontinuity:h,trackSwitch:g,contiguous:v,duration:s,accurateTimeOffset:l,defaultInitPTS:u},t instanceof ArrayBuffer?[t]:[]);else{var y=this.demuxer;y&&y.push(t,d,n,r,o,f,h,g,v,s,l,u)}},t.prototype.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":f.URL.revokeObjectURL(this.w.objectURL);break;case o.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}},t}();t.default=p}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/demux/exp-golomb.js":
/*!*********************************!*\
  !*** ./src/demux/exp-golomb.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/logger */"./src/utils/logger.js"),o=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return e.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");r.set(e.subarray(n,n+o)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*o,this.bytesAvailable-=o},e.prototype.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},e.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?n<<t|this.readBits(t):n},e.prototype.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},e.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},e.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},e.prototype.readBoolean=function(){return 1===this.readBits(1)},e.prototype.readUByte=function(){return this.readBits(8)},e.prototype.readUShort=function(){return this.readBits(16)},e.prototype.readUInt=function(){return this.readBits(32)},e.prototype.skipScalingList=function(e){var t,n=8,r=8;for(t=0;t<e;t++)0!==r&&(r=(n+this.readEG()+256)%256),n=0===r?n:r},e.prototype.readSPS=function(){var e,t,n,r,o,i,a,s=0,l=0,u=0,c=0,f=this.readUByte.bind(this),d=this.readBits.bind(this),p=this.readUEG.bind(this),h=this.readBoolean.bind(this),g=this.skipBits.bind(this),m=this.skipEG.bind(this),v=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(f(),e=f(),d(5),g(3),f(),v(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=p();if(3===b&&g(1),v(),v(),g(1),h())for(i=3!==b?8:12,a=0;a<i;a++)h()&&y(a<6?16:64)}v();var A=p();if(0===A)p();else if(1===A)for(g(1),m(),m(),t=p(),a=0;a<t;a++)m();v(),g(1),n=p(),r=p(),0===(o=d(1))&&g(1),g(1),h()&&(s=p(),l=p(),u=p(),c=p());var C=[1,1];if(h()&&h())switch(f()){case 1:C=[1,1];break;case 2:C=[12,11];break;case 3:C=[10,11];break;case 4:C=[16,11];break;case 5:C=[40,33];break;case 6:C=[24,11];break;case 7:C=[20,11];break;case 8:C=[32,11];break;case 9:C=[80,33];break;case 10:C=[18,11];break;case 11:C=[15,11];break;case 12:C=[64,33];break;case 13:C=[160,99];break;case 14:C=[4,3];break;case 15:C=[3,2];break;case 16:C=[2,1];break;case 255:C=[f()<<8|f(),f()<<8|f()]}return{width:Math.ceil(16*(n+1)-2*s-2*l),height:(2-o)*(r+1)*16-(o?2:4)*(u+c),pixelRatio:C}},e.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=o},"./src/demux/id3.js":
/*!**************************!*\
  !*** ./src/demux/id3.js ***!
  \**************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,n){for(var r=n,o=0;e.isHeader(t,n);)o+=10,o+=e._readSize(t,n+6),e.isFooter(t,n+10)&&(o+=10),n+=o;if(o>0)return t.subarray(r,r+o)},e._readSize=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|=127&e[t+3]},e.getTimeStamp=function(t){for(var n=e.getID3Frames(t),r=0;r<n.length;r++){var o=n[r];if(e.isTimeStampFrame(o))return e._readTimeStamp(o)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var n=String.fromCharCode(t[0],t[1],t[2],t[3]),r=e._readSize(t,4);return{type:n,size:r,data:t.subarray(10,10+r)}},e.getID3Frames=function(t){for(var n=0,r=[];e.isHeader(t,n);){for(var o=e._readSize(t,n+6),i=(n+=10)+o;n+8<i;){var a=e._getFrameData(t.subarray(n)),s=e._decodeFrame(a);s&&r.push(s),n+=a.size+10}e.isFooter(t,n)&&(n+=10)}return r},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var n=e._utf8ArrayToStr(t.data,!0),r=new Uint8Array(t.data.subarray(n.length+1));return{key:t.type,info:n,data:r.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var n=1,r=e._utf8ArrayToStr(t.data.subarray(n));n+=r.length+1;var o=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:r,data:o}}var i=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:i}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var n=1,r=e._utf8ArrayToStr(t.data.subarray(n));n+=r.length+1;var o=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:r,data:o}}var i=e._utf8ArrayToStr(t.data);return{key:t.type,data:i}},e._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);for(var n,r,o,i=e.length,a="",s=0;s<i;){if(0===(n=e[s++])&&t)return a;if(0!==n&&3!==n)switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:r=e[s++],a+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=e[s++],o=e[s++],a+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&o)<<0)}}return a},e}(),o=r._utf8ArrayToStr;t.utf8ArrayToStr=o,t.default=r},"./src/demux/mp3demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp3demuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../demux/id3 */"./src/demux/id3.js"),o=n(/*! ../utils/logger */"./src/utils/logger.js"),i=n(/*! ./mpegaudio */"./src/demux/mpegaudio.js"),a=function(){function e(e,t,n){this.observer=e,this.config=n,this.remuxer=t}return e.prototype.resetInitSegment=function(e,t,n,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){var t,n,a=r.default.getID3Data(e,0);if(a&&void 0!==r.default.getTimeStamp(a))for(t=a.length,n=Math.min(e.length-1,t+100);t<n;t++)if(i.default.probe(e,t))return o.logger.log("MPEG Audio sync word found !"),!0;return!1},e.prototype.append=function(e,t,n,o){for(var a=r.default.getID3Data(e,0),s=r.default.getTimeStamp(a),l=s?90*s:9e4*t,u=a.length,c=e.length,f=0,d=0,p=this._audioTrack,h=[{pts:l,dts:l,data:a}];u<c;)if(i.default.isHeader(e,u)){var g=i.default.appendFrame(p,e,u,l,f);if(!g)break;u+=g.length,d=g.sample.pts,f++}else r.default.isHeader(e,u)?(a=r.default.getID3Data(e,u),h.push({pts:d,dts:d,data:a}),u+=a.length):u++;this.remuxer.remux(p,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},t,n,o)},e.prototype.destroy=function(){},e}();t.default=a},"./src/demux/mp4demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/logger */"./src/utils/logger.js"),o=n(/*! ../events */"./src/events.js"),i=Math.pow(2,32)-1,a=function(){function e(e,t){this.observer=e,this.remuxer=t}return e.prototype.resetTimeStamp=function(e){this.initPTS=e},e.prototype.resetInitSegment=function(t,n,r,i){if(t&&t.byteLength){var a=this.initData=e.parseInitSegment(t);null==n&&(n="mp4a.40.5"),null==r&&(r="avc1.42e01e");var s={};a.audio&&a.video?s.audiovideo={container:"video/mp4",codec:n+","+r,initSegment:i?t:null}:(a.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:i?t:null}),a.video&&(s.video={container:"video/mp4",codec:r,initSegment:i?t:null})),this.observer.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),r&&(this.videoCodec=r)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var n=e[t]<<8|e[t+1];return n<0?65536+n:n},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var n=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return n<0?4294967296+n:n},e.writeUint32=function(e,t,n){e.data&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},e.findBox=function(t,n){var r,o,i,a,s,l,u=[];if(t.data?(s=t.start,i=t.end,t=t.data):(s=0,i=t.byteLength),!n.length)return null;for(r=s;r<i;)l=(o=e.readUint32(t,r))>1?r+o:i,e.bin2str(t.subarray(r+4,r+8))===n[0]&&(1===n.length?u.push({data:t,start:r+8,end:l}):(a=e.findBox({data:t,start:r+8,end:l},n.slice(1))).length&&(u=u.concat(a))),r=l;return u},e.parseSegmentIndex=function(t){var n,r=e.findBox(t,["moov"])[0],o=r?r.end:null,i=0,a=e.findBox(t,["sidx"]);if(!a||!a[0])return null;n=[];var s=(a=a[0]).data[0];i=0===s?8:16;var l=e.readUint32(a,i);i+=4,i+=0===s?8:16,i+=2;var u=a.end+0,c=e.readUint16(a,i);i+=2;for(var f=0;f<c;f++){var d=i,p=e.readUint32(a,d);d+=4;var h=2147483647&p;if(1==(2147483648&p)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=e.readUint32(a,d);d+=4,n.push({referenceSize:h,subsegmentDuration:g,info:{duration:g/l,start:u,end:u+h-1}}),u+=h,i=d+=4}return{earliestPresentationTime:0,timescale:l,version:s,referencesCount:c,references:n,moovEndOffset:o}},e.parseInitSegment=function(t){var n=[];return e.findBox(t,["moov","trak"]).forEach((function(t){var o=e.findBox(t,["tkhd"])[0];if(o){var i=o.data[o.start],a=0===i?12:20,s=e.readUint32(o,a),l=e.findBox(t,["mdia","mdhd"])[0];if(l){a=0===(i=l.data[l.start])?12:20;var u=e.readUint32(l,a),c=e.findBox(t,["mdia","hdlr"])[0];if(c){var f={soun:"audio",vide:"video"}[e.bin2str(c.data.subarray(c.start+8,c.start+12))];if(f){var d=e.findBox(t,["mdia","minf","stbl","stsd"]);if(d.length){d=d[0];var p=e.bin2str(d.data.subarray(d.start+12,d.start+16));r.logger.log("MP4Demuxer:"+f+":"+p+" found")}n[s]={timescale:u,type:f},n[f]={timescale:u,id:s}}}}}})),n},e.getStartDTS=function(t,n){var r,o,i;return r=e.findBox(n,["moof","traf"]),o=[].concat.apply([],r.map((function(n){return e.findBox(n,["tfhd"]).map((function(r){var o,i;return o=e.readUint32(r,4),i=t[o].timescale||9e4,e.findBox(n,["tfdt"]).map((function(t){var n,r;return n=t.data[t.start],r=e.readUint32(t,4),1===n&&(r*=Math.pow(2,32),r+=e.readUint32(t,8)),r}))[0]/i}))}))),i=Math.min.apply(null,o),isFinite(i)?i:0},e.offsetStartDTS=function(t,n,r){e.findBox(n,["moof","traf"]).map((function(n){return e.findBox(n,["tfhd"]).map((function(o){var a=e.readUint32(o,4),s=t[a].timescale||9e4;e.findBox(n,["tfdt"]).map((function(t){var n=t.data[t.start],o=e.readUint32(t,4);if(0===n)e.writeUint32(t,4,o-r*s);else{o*=Math.pow(2,32),o+=e.readUint32(t,8),o-=r*s,o=Math.max(o,0);var a=Math.floor(o/(i+1)),l=Math.floor(o%(i+1));e.writeUint32(t,4,a),e.writeUint32(t,8,l)}}))}))}))},e.prototype.append=function(t,n,r,i){var a=this.initData;a||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),a=this.initData);var s,l=this.initPTS;if(void 0===l){var u=e.getStartDTS(a,t);this.initPTS=l=u-n,this.observer.trigger(o.default.INIT_PTS_FOUND,{initPTS:l})}e.offsetStartDTS(a,t,l),s=e.getStartDTS(a,t),this.remuxer.remux(a.audio,a.video,null,null,s,r,i,t)},e.prototype.destroy=function(){},e}();t.default=a},"./src/demux/mpegaudio.js":
/*!********************************!*\
  !*** ./src/demux/mpegaudio.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,n,r,o){if(!(n+24>t.length)){var i=this.parseHeader(t,n);if(i&&n+i.frameLength<=t.length){var a=r+o*(9e4*i.samplesPerFrame/i.sampleRate),s={unit:t.subarray(n,n+i.frameLength),pts:a,dts:a};return e.config=[],e.channelCount=i.channelCount,e.samplerate=i.sampleRate,e.samples.push(s),e.len+=i.frameLength,{sample:s,length:i.frameLength}}}},parseHeader:function(e,t){var n=e[t+1]>>3&3,o=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3,s=e[t+2]>>1&1;if(1!==n&&0!==i&&15!==i&&3!==a){var l=3===n?3-o:3===o?3:4,u=1e3*r.BitratesMap[14*l+i-1],c=3===n?0:2===n?1:2,f=r.SamplingRateMap[3*c+a],d=e[t+3]>>6==3?1:2,p=r.SamplesCoefficients[n][o],h=r.BytesInSlot[o],g=8*p*h;return{sampleRate:f,channelCount:d,frameLength:parseInt(p*u/f+s,10)*h,samplesPerFrame:g}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var n=this.parseHeader(e,t),r=4;n&&n.frameLength&&(r=n.frameLength);var o=t+r;if(o===e.length||o+1<e.length&&this.isHeaderPattern(e,o))return!0}return!1}};t.default=r},"./src/demux/sample-aes.js":
/*!*********************************!*\
  !*** ./src/demux/sample-aes.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),o=function(){function e(e,t,n,o){this.decryptdata=n,this.discardEPB=o,this.decrypter=new r.default(e,t,{removePKCS7Padding:!1})}return e.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},e.prototype.decryptAacSample=function(e,t,n,r){var o=e[t].unit,i=o.subarray(16,o.length-o.length%16),a=i.buffer.slice(i.byteOffset,i.byteOffset+i.length),s=this;this.decryptBuffer(a,(function(i){i=new Uint8Array(i),o.set(i,16),r||s.decryptAacSamples(e,t+1,n)}))},e.prototype.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,r),!r)return}}},e.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,o=32;o<=e.length-16;o+=160,r+=16)n.set(e.subarray(o,o+16),r);return n},e.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var n=0,r=32;r<=e.length-16;r+=160,n+=16)e.set(t.subarray(n,n+16),r);return e},e.prototype.decryptAvcSample=function(e,t,n,r,o,i){var a=this.discardEPB(o.data),s=this.getAvcEncryptedData(a),l=this;this.decryptBuffer(s.buffer,(function(s){o.data=l.getAvcDecryptedUnit(a,s),i||l.decryptAvcSamples(e,t,n+1,r)}))},e.prototype.decryptAvcSamples=function(e,t,n,r){for(;;t++,n=0){if(t>=e.length)return void r();for(var o=e[t].units;!(n>=o.length);n++){var i=o[n];if(!(i.length<=48||1!==i.type&&5!==i.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,r,i,a),!a)return}}}},e}();t.default=o},"./src/demux/tsdemuxer.js":
/*!********************************!*\
  !*** ./src/demux/tsdemuxer.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./adts */"./src/demux/adts.js"),o=n(/*! ./mpegaudio */"./src/demux/mpegaudio.js"),i=n(/*! ../events */"./src/events.js"),a=n(/*! ./exp-golomb */"./src/demux/exp-golomb.js"),s=n(/*! ./sample-aes */"./src/demux/sample-aes.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js"),u=n(/*! ../errors */"./src/errors.js"),c={video:1,audio:2,id3:3,text:4},f=function(){function e(e,t,n,r){this.observer=e,this.config=n,this.typeSupported=r,this.remuxer=t,this.sampleAes=null}return e.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new s.default(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var n=e._syncOffset(t);return!(n<0||(n&&l.logger.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),0))},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:c[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},e.prototype.resetInitSegment=function(t,n,r,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",o),this._audioTrack=e.createTrack("audio",o),this._id3Track=e.createTrack("id3",o),this._txtTrack=e.createTrack("text",o),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=r,this._duration=o},e.prototype.resetTimeStamp=function(){},e.prototype.append=function(t,n,r,o){var a,s,c,f,d,p=t.length,h=!1;this.contiguous=r;var g=this.pmtParsed,m=this._avcTrack,v=this._audioTrack,y=this._id3Track,b=m.pid,A=v.pid,C=y.pid,I=this._pmtId,_=m.pesData,E=v.pesData,w=y.pesData,S=this._parsePAT,T=this._parsePMT,k=this._parsePES,x=this._parseAVCPES.bind(this),P=this._parseAACPES.bind(this),O=this._parseMPEGPES.bind(this),L=this._parseID3PES.bind(this),D=e._syncOffset(t);for(p-=(p+D)%188,a=D;a<p;a+=188)if(71===t[a]){if(s=!!(64&t[a+1]),c=((31&t[a+1])<<8)+t[a+2],(48&t[a+3])>>4>1){if((f=a+5+t[a+4])===a+188)continue}else f=a+4;switch(c){case b:s&&(_&&(d=k(_))&&void 0!==d.pts&&x(d,!1),_={data:[],size:0}),_&&(_.data.push(t.subarray(f,a+188)),_.size+=a+188-f);break;case A:s&&(E&&(d=k(E))&&void 0!==d.pts&&(v.isAAC?P(d):O(d)),E={data:[],size:0}),E&&(E.data.push(t.subarray(f,a+188)),E.size+=a+188-f);break;case C:s&&(w&&(d=k(w))&&void 0!==d.pts&&L(d),w={data:[],size:0}),w&&(w.data.push(t.subarray(f,a+188)),w.size+=a+188-f);break;case 0:s&&(f+=t[f]+1),I=this._pmtId=S(t,f);break;case I:s&&(f+=t[f]+1);var j=T(t,f,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=j.avc)>0&&(m.pid=b),(A=j.audio)>0&&(v.pid=A,v.isAAC=j.isAAC),(C=j.id3)>0&&(y.pid=C),h&&!g&&(l.logger.log("reparse from beginning"),h=!1,a=D-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:h=!0}}else this.observer.trigger(i.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});_&&(d=k(_))&&void 0!==d.pts?(x(d,!0),m.pesData=null):m.pesData=_,E&&(d=k(E))&&void 0!==d.pts?(v.isAAC?P(d):O(d),v.pesData=null):(E&&E.size&&l.logger.log("last AAC PES packet truncated,might overlap between fragments"),v.pesData=E),w&&(d=k(w))&&void 0!==d.pts?(L(d),y.pesData=null):y.pesData=w,null==this.sampleAes?this.remuxer.remux(v,m,y,this._txtTrack,n,r,o):this.decryptAndRemux(v,m,y,this._txtTrack,n,r,o)},e.prototype.decryptAndRemux=function(e,t,n,r,o,i,a){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,(function(){s.decryptAndRemuxAvc(e,t,n,r,o,i,a)}))}else this.decryptAndRemuxAvc(e,t,n,r,o,i,a)},e.prototype.decryptAndRemuxAvc=function(e,t,n,r,o,i,a){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,(function(){s.remuxer.remux(e,t,n,r,o,i,a)}))}else this.remuxer.remux(e,t,n,r,o,i,a)},e.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},e.prototype._parsePMT=function(e,t,n,r){var o,i,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(o=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<o;){switch(i=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!r){l.logger.log("unkown stream type:"+e[t]);break}case 15:-1===a.audio&&(a.audio=i);break;case 21:-1===a.id3&&(a.id3=i);break;case 219:if(!r){l.logger.log("unkown stream type:"+e[t]);break}case 27:-1===a.avc&&(a.avc=i);break;case 3:case 4:n?-1===a.audio&&(a.audio=i,a.isAAC=!1):l.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:l.logger.warn("HEVC stream type found, not supported for now");break;default:l.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return a},e.prototype._parsePES=function(e){var t,n,r,o,i,a,s,u,c=0,f=e.data;if(!e||0===e.size)return null;for(;f[0].length<19&&f.length>1;){var d=new Uint8Array(f[0].length+f[1].length);d.set(f[0]),d.set(f[1],f[0].length),f[0]=d,f.splice(1,1)}if(1===((t=f[0])[0]<<16)+(t[1]<<8)+t[2]){if((r=(t[4]<<8)+t[5])&&r>e.size-6)return null;192&(n=t[7])&&((a=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)>4294967295&&(a-=8589934592),64&n?((s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(s-=8589934592),a-s>54e5&&(l.logger.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),u=(o=t[8])+9,e.size-=u,i=new Uint8Array(e.size);for(var p=0,h=f.length;p<h;p++){var g=(t=f[p]).byteLength;if(u){if(u>g){u-=g;continue}t=t.subarray(u),g-=u,u=0}i.set(t,c),c+=g}return r&&(r-=o+3),{data:i,pts:a,dts:s,len:r}}return null},e.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var n=t.samples,r=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(r||this.contiguous)?(e.id=r,n.push(e)):t.dropped++}e.debug.length&&l.logger.log(e.pts+"/"+e.dts+":"+e.debug)},e.prototype._parseAVCPES=function(e,t){var n,r,o,i=this,s=this._avcTrack,l=this._parseAVCNALu(e.data),u=this.avcSample,c=!1,f=this.pushAccesUnit.bind(this),d=function(e,t,n,r){return{key:e,pts:t,dts:n,units:[],debug:r}};e.data=null,u&&l.length&&!s.audFound&&(f(u,s),u=this.avcSample=d(!1,e.pts,e.dts,"")),l.forEach((function(t){switch(t.type){case 1:r=!0,u||(u=i.avcSample=d(!0,e.pts,e.dts,"")),u.frame=!0;var l=t.data;if(c&&l.length>4){var p=new a.default(l).readSliceType();2!==p&&4!==p&&7!==p&&9!==p||(u.key=!0)}break;case 5:r=!0,u||(u=i.avcSample=d(!0,e.pts,e.dts,"")),u.key=!0,u.frame=!0;break;case 6:r=!0,(n=new a.default(i.discardEPB(t.data))).readUByte();for(var h=0,g=0,m=!1,v=0;!m&&n.bytesAvailable>1;){h=0;do{h+=v=n.readUByte()}while(255===v);g=0;do{g+=v=n.readUByte()}while(255===v);if(4===h&&0!==n.bytesAvailable){if(m=!0,181===n.readUByte()&&49===n.readUShort()&&1195456820===n.readUInt()&&3===n.readUByte()){var y=n.readUByte(),b=31&y,A=[y,n.readUByte()];for(o=0;o<b;o++)A.push(n.readUByte()),A.push(n.readUByte()),A.push(n.readUByte());i._insertSampleInOrder(i._txtTrack.samples,{type:3,pts:e.pts,bytes:A})}}else if(g<n.bytesAvailable)for(o=0;o<g;o++)n.readUByte()}break;case 7:if(r=!0,c=!0,!s.sps){var C=(n=new a.default(t.data)).readSPS();s.width=C.width,s.height=C.height,s.pixelRatio=C.pixelRatio,s.sps=[t.data],s.duration=i._duration;var I=t.data.subarray(1,4),_="avc1.";for(o=0;o<3;o++){var E=I[o].toString(16);E.length<2&&(E="0"+E),_+=E}s.codec=_}break;case 8:r=!0,s.pps||(s.pps=[t.data]);break;case 9:r=!1,s.audFound=!0,u&&f(u,s),u=i.avcSample=d(!1,e.pts,e.dts,"");break;case 12:r=!1;break;default:r=!1,u&&(u.debug+="unknown NAL "+t.type+" ")}u&&r&&u.units.push(t)})),t&&u&&(f(u,s),this.avcSample=null)},e.prototype._insertSampleInOrder=function(e,t){var n=e.length;if(n>0){if(t.pts>=e[n-1].pts)e.push(t);else for(var r=n-1;r>=0;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)},e.prototype._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var n=this._avcTrack.samples;t=n[n.length-1]}if(t){var r=t.units;e=r[r.length-1]}return e},e.prototype._parseAVCNALu=function(e){var t,n,r,o,i=0,a=e.byteLength,s=this._avcTrack,l=s.naluState||0,u=l,c=[],f=-1;for(-1===l&&(f=0,o=31&e[0],l=0,i=1);i<a;)if(t=e[i++],l)if(1!==l)if(t)if(1===t){var d,p;f>=0?(r={data:e.subarray(f,i-l-1),type:o},c.push(r)):(d=this._getLastNalUnit())&&(u&&i<=4-u&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-u)),(n=i-l-1)>0&&((p=new Uint8Array(d.data.byteLength+n)).set(d.data,0),p.set(e.subarray(0,n),d.data.byteLength),d.data=p)),i<a?(f=i,o=31&e[i],l=0):l=-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;return f>=0&&l>=0&&(r={data:e.subarray(f,a),type:o,state:l},c.push(r)),0===c.length&&(d=this._getLastNalUnit())&&((p=new Uint8Array(d.data.byteLength+e.byteLength)).set(d.data,0),p.set(e,d.data.byteLength),d.data=p),s.naluState=l,c},e.prototype.discardEPB=function(e){for(var t,n,r=e.byteLength,o=[],i=1;i<r-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(o.push(i+2),i+=2):i++;if(0===o.length)return e;t=r-o.length,n=new Uint8Array(t);var a=0;for(i=0;i<t;a++,i++)a===o[0]&&(a++,o.shift()),n[i]=e[a];return n},e.prototype._parseAACPES=function(e){var t,n,o,a,s,c=this._audioTrack,f=e.data,d=e.pts,p=this.aacOverFlow,h=this.aacLastPTS;if(p){var g=new Uint8Array(p.byteLength+f.byteLength);g.set(p,0),g.set(f,p.byteLength),f=g}for(o=0,s=f.length;o<s-1&&!r.isHeader(f,o);o++);if(o){var m=void 0,v=void 0;if(o<s-1?(m="AAC PES did not start with ADTS header,offset:"+o,v=!1):(m="no ADTS header found in AAC PES",v=!0),l.logger.warn("parsing error:"+m),this.observer.trigger(i.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:v,reason:m}),v)return}if(r.initTrackConfig(c,this.observer,f,o,this.audioCodec),n=0,t=r.getFrameDuration(c.samplerate),p&&h){var y=h+t;Math.abs(y-d)>1&&(l.logger.log("AAC: align PTS for overlapping frames by "+Math.round((y-d)/90)),d=y)}for(;o<s;)if(r.isHeader(f,o)&&o+5<s){var b=r.appendFrame(c,f,o,d,n);if(!b)break;o+=b.length,a=b.sample.pts,n++}else o++;p=o<s?f.subarray(o,s):null,this.aacOverFlow=p,this.aacLastPTS=a},e.prototype._parseMPEGPES=function(e){for(var t=e.data,n=t.length,r=0,i=0,a=e.pts;i<n;)if(o.default.isHeader(t,i)){var s=o.default.appendFrame(this._audioTrack,t,i,a,r);if(!s)break;i+=s.length,r++}else i++},e.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},e}();t.default=f},"./src/errors.js":
/*!***********************!*\
  !*** ./src/errors.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},t.ErrorDetails={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},"./src/event-handler.js":
/*!******************************!*\
  !*** ./src/event-handler.js ***!
  \******************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./utils/logger */"./src/utils/logger.js"),o=n(/*! ./errors */"./src/errors.js"),i=n(/*! ./events */"./src/events.js"),a={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},s=function(){function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.hls=e,this.onEvent=this.onEvent.bind(this),this.handledEvents=t,this.useGenericHandler=!0,this.registerListeners()}return e.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.prototype.onHandlerDestroying=function(){},e.prototype.onHandlerDestroyed=function(){},e.prototype.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},e.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){if(a[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)}),this)},e.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){this.hls.off(e,this.onEvent)}),this)},e.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},e.prototype.onEventGeneric=function(e,t){try{(function(e,t){var n="on"+e.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,t)}).call(this,e,t).call()}catch(t){r.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.hls.trigger(i.default.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}();t.default=s},"./src/events.js":
/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},"./src/hls.js":
/*!********************!*\
  !*** ./src/hls.js ***!
  \********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),a=n(/*! ./errors */"./src/errors.js"),s=n(/*! ./loader/playlist-loader */"./src/loader/playlist-loader.js"),l=n(/*! ./loader/fragment-loader */"./src/loader/fragment-loader.js"),u=n(/*! ./loader/key-loader */"./src/loader/key-loader.js"),c=n(/*! ./controller/fragment-tracker */"./src/controller/fragment-tracker.js"),f=n(/*! ./controller/stream-controller */"./src/controller/stream-controller.js"),d=n(/*! ./controller/level-controller */"./src/controller/level-controller.js"),p=n(/*! ./controller/id3-track-controller */"./src/controller/id3-track-controller.js"),h=n(/*! ./is-supported */"./src/is-supported.js"),g=n(/*! ./utils/logger */"./src/utils/logger.js"),m=n(/*! ./config */"./src/config.js"),v=n(/*! ./events */"./src/events.js"),y=function(e){function t(n){void 0===n&&(n={});var r=e.call(this)||this,o=t.DefaultConfig;if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var i in o)i in n||(n[i]=o[i]);if(void 0!==n.liveMaxLatencyDurationCount&&n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(n.liveMaxLatencyDuration<=n.liveSyncDuration||void 0===n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');g.enableLogs(n.debug),r.config=n,r._autoLevelCapping=-1;var a=r.abrController=new n.abrController(r),h=new n.bufferController(r),m=new n.capLevelController(r),v=new n.fpsController(r),y=new s.default(r),b=new l.default(r),A=new u.default(r),C=new p.default(r),I=r.levelController=new d.default(r),_=new c.FragmentTracker(r),E=[I,r.streamController=new f.default(r,_)],w=n.audioStreamController;w&&E.push(new w(r,_)),r.networkControllers=E;var S=[y,b,A,a,h,m,v,C,_];if(w=n.audioTrackController){var T=new w(r);r.audioTrackController=T,S.push(T)}if(w=n.subtitleTrackController){var k=new w(r);r.subtitleTrackController=k,E.push(k)}if(w=n.emeController){var x=new w(r);r.emeController=x,S.push(x)}return(w=n.subtitleStreamController)&&E.push(new w(r,_)),(w=n.timelineController)&&S.push(new w(r)),r.coreComponents=S,r}return o(t,e),Object.defineProperty(t,"version",{get:function(){return"0.12.4"},enumerable:!0,configurable:!0}),t.isSupported=function(){return h.isSupported()},Object.defineProperty(t,"Events",{get:function(){return v.default},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ErrorTypes",{get:function(){return a.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ErrorDetails",{get:function(){return a.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DefaultConfig",{get:function(){return t.defaultConfig?t.defaultConfig:m.hlsDefaultConfig},set:function(e){t.defaultConfig=e},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){g.logger.log("destroy"),this.trigger(v.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(e){e.destroy()})),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(e){g.logger.log("attachMedia"),this.media=e,this.trigger(v.default.MEDIA_ATTACHING,{media:e})},t.prototype.detachMedia=function(){g.logger.log("detachMedia"),this.trigger(v.default.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(e){e=i.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),g.logger.log("loadSource:"+e),this.url=e,this.trigger(v.default.MANIFEST_LOADING,{url:e})},t.prototype.startLoad=function(e){void 0===e&&(e=-1),g.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},t.prototype.stopLoad=function(){g.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},t.prototype.swapAudioCodec=function(){g.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){g.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},Object.defineProperty(t.prototype,"levels",{get:function(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){return this.streamController.currentLevel},set:function(e){g.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextLevel",{get:function(){return this.streamController.nextLevel},set:function(e){g.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadLevel",{get:function(){return this.levelController.level},set:function(e){g.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextLoadLevel",{get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstLevel",{get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){g.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLevel",{get:function(){return this.levelController.startLevel},set:function(e){g.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLevelCapping",{get:function(){return this._autoLevelCapping},set:function(e){g.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLevelEnabled",{get:function(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"manualLevel",{get:function(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minAutoLevel",{get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,n=e?e.length:0,r=0;r<n;r++)if((e[r].realBitrate?Math.max(e[r].realBitrate,e[r].bitrate):e[r].bitrate)>t)return r;return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxAutoLevel",{get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextAutoLevel",{get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTracks",{get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTrack",{get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"liveSyncPosition",{get:function(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTracks",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTrack",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleDisplay",{get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)},enumerable:!0,configurable:!0}),t}(n(/*! ./observer */"./src/observer.js").Observer);t.default=y},"./src/is-supported.js":
/*!*****************************!*\
  !*** ./src/is-supported.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./utils/mediasource-helper */"./src/utils/mediasource-helper.js");t.isSupported=function(){var e=r.getMediaSource(),t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!o}},"./src/loader/fragment-loader.js":
/*!***************************************!*\
  !*** ./src/loader/fragment-loader.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../errors */"./src/errors.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js"),u=function(t){function n(e){var n=t.call(this,e,i.default.FRAG_LOADING)||this;return n.loaders={},n}return o(n,t),n.prototype.destroy=function(){var e=this.loaders;for(var n in e){var r=e[n];r&&r.destroy()}this.loaders={},t.prototype.destroy.call(this)},n.prototype.onFragLoading=function(t){var n=t.frag,r=n.type,o=this.loaders,i=this.hls.config,a=i.fLoader,s=i.loader;n.loaded=0;var u,c,f,d=o[r];d&&(l.logger.warn("abort previous fragment loader for type: "+r),d.abort()),d=o[r]=n.loader=i.fLoader?new a(i):new s(i),u={url:n.url,frag:n,responseType:"arraybuffer",progressData:!1};var p=n.byteRangeStartOffset,h=n.byteRangeEndOffset;e.isFinite(p)&&e.isFinite(h)&&(u.rangeStart=p,u.rangeEnd=h),c={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},d.load(u,c,f)},n.prototype.loadsuccess=function(e,t,n,r){void 0===r&&(r=null);var o=e.data,a=n.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(i.default.FRAG_LOADED,{payload:o,frag:a,stats:t,networkDetails:r})},n.prototype.loaderror=function(e,t,n){void 0===n&&(n=null);var r=t.frag,o=r.loader;o&&o.abort(),this.loaders[r.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:n})},n.prototype.loadtimeout=function(e,t,n){void 0===n&&(n=null);var r=t.frag,o=r.loader;o&&o.abort(),this.loaders[r.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:n})},n.prototype.loadprogress=function(e,t,n,r){void 0===r&&(r=null);var o=t.frag;o.loaded=e.loaded,this.hls.trigger(i.default.FRAG_LOAD_PROGRESS,{frag:o,stats:e,networkDetails:r})},n}(a.default);t.default=u}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/fragment.js":
/*!********************************!*\
  !*** ./src/loader/fragment.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),o=n(/*! ./level-key */"./src/loader/level-key.js"),i=function(){function t(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((e={})[t.ElementaryStreamTypes.AUDIO]=!1,e[t.ElementaryStreamTypes.VIDEO]=!1,e)}return Object.defineProperty(t,"ElementaryStreamTypes",{get:function(){return{AUDIO:"audio",VIDEO:"video"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return!this._url&&this.relurl&&(this._url=r.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRange",{get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var e=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var n=this.lastByteRangeEndOffset;e[0]=n||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0],this._byteRange=e}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRangeStartOffset",{get:function(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRangeEndOffset",{get:function(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decryptdata",{get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endProgramDateTime",{get:function(){if(!e.isFinite(this.programDateTime))return null;var t=e.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"encrypted",{get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),t.prototype.addElementaryStream=function(e){this._elementaryStreams[e]=!0},t.prototype.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},t.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t},t.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var n=e;return e&&e.method&&e.uri&&!e.iv&&((n=new o.default).method=e.method,n.baseuri=e.baseuri,n.reluri=e.reluri,n.iv=this.createInitializationVector(t)),n},t}();t.default=i}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/key-loader.js":
/*!**********************************!*\
  !*** ./src/loader/key-loader.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../errors */"./src/errors.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js"),u=function(e){function t(t){var n=e.call(this,t,i.default.KEY_LOADING)||this;return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return o(t,e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},a.default.prototype.destroy.call(this)},t.prototype.onKeyLoading=function(e){var t=e.frag,n=t.type,r=this.loaders[n],o=t.decryptdata,a=o.uri;if(a!==this.decrypturl||null===this.decryptkey){var s,u,c,f=this.hls.config;r&&(l.logger.warn("abort previous key loader for type:"+n),r.abort()),t.loader=this.loaders[n]=new f.loader(f),this.decrypturl=a,this.decryptkey=null,s={url:a,frag:t,responseType:"arraybuffer"},u={timeout:f.fragLoadingTimeOut,maxRetry:0,retryDelay:f.fragLoadingRetryDelay,maxRetryDelay:f.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(s,u,c)}else this.decryptkey&&(o.key=this.decryptkey,this.hls.trigger(i.default.KEY_LOADED,{frag:t}))},t.prototype.loadsuccess=function(e,t,n){var r=n.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(e.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(i.default.KEY_LOADED,{frag:r})},t.prototype.loaderror=function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})},t.prototype.loadtimeout=function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},t}(a.default);t.default=u},"./src/loader/level-key.js":
/*!*********************************!*\
  !*** ./src/loader/level-key.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),o=function(){function e(){this.method=null,this.key=null,this.iv=null,this._uri=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return!this._uri&&this.reluri&&(this._uri=r.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),e}();t.default=o},"./src/loader/level.js":
/*!*****************************!*\
  !*** ./src/loader/level.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function t(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}return Object.defineProperty(t.prototype,"hasProgramDateTime",{get:function(){return!(!this.fragments[0]||!e.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),t}();t.default=n}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/m3u8-parser.js":
/*!***********************************!*\
  !*** ./src/loader/m3u8-parser.js ***!
  \***********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),o=n(/*! ./fragment */"./src/loader/fragment.js"),i=n(/*! ./level */"./src/loader/level.js"),a=n(/*! ./level-key */"./src/loader/level-key.js"),s=n(/*! ../utils/attr-list */"./src/utils/attr-list.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js"),u=n(/*! ../utils/codecs */"./src/utils/codecs.js"),c=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,f=/#EXT-X-MEDIA:(.*)/g,d=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),p=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,h=/\.(mp4|m4s|m4v|m4a)$/i,g=function(){function t(){}return t.findGroup=function(e,t){if(!e)return null;for(var n=null,r=0;r<e.length;r++){var o=e[r];o.id===t&&(n=o)}return n},t.convertAVC1ToAVCOTI=function(e){var t,n=e.split(".");return n.length>2?(t=n.shift()+".",t+=parseInt(n.shift()).toString(16),t+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):t=e,t},t.resolve=function(e,t){return r.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,n){var r,o=[];function i(e,t){["video","audio"].forEach((function(n){var r=e.filter((function(e){return u.isCodecType(e,n)}));if(r.length){var o=r.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[n+"Codec"]=o.length>0?o[0]:r[0],e=e.filter((function(e){return-1===r.indexOf(e)}))}})),t.unknownCodecs=e}for(c.lastIndex=0;null!=(r=c.exec(e));){var a={},l=a.attrs=new s.default(r[1]);a.url=t.resolve(r[2],n);var f=l.decimalResolution("RESOLUTION");f&&(a.width=f.width,a.height=f.height),a.bitrate=l.decimalInteger("AVERAGE-BANDWIDTH")||l.decimalInteger("BANDWIDTH"),a.name=l.NAME,i([].concat((l.CODECS||"").split(/[ ,]+/)),a),a.videoCodec&&-1!==a.videoCodec.indexOf("avc1")&&(a.videoCodec=t.convertAVC1ToAVCOTI(a.videoCodec)),o.push(a)}return o},t.parseMasterPlaylistMedia=function(e,n,r,o){var i;void 0===o&&(o=[]);var a=[],l=0;for(f.lastIndex=0;null!==(i=f.exec(e));){var u={},c=new s.default(i[1]);if(c.TYPE===r){if(u.groupId=c["GROUP-ID"],u.name=c.NAME,u.type=r,u.default="YES"===c.DEFAULT,u.autoselect="YES"===c.AUTOSELECT,u.forced="YES"===c.FORCED,c.URI&&(u.url=t.resolve(c.URI,n)),u.lang=c.LANGUAGE,u.name||(u.name=u.lang),o.length){var d=t.findGroup(o,u.groupId);u.audioCodec=d?d.codec:o[0].codec}u.id=l++,a.push(u)}}return a},t.parseLevelPlaylist=function(t,n,r,u,c){var f,g,v=0,y=0,b=new i.default(n),A=new a.default,C=0,I=null,_=new o.default,E=null;for(d.lastIndex=0;null!==(f=d.exec(t));){var w=f[1];if(w){_.duration=parseFloat(w);var S=(" "+f[2]).slice(1);_.title=S||null,_.tagList.push(S?["INF",w,S]:["INF",w])}else if(f[3]){if(e.isFinite(_.duration)){var T=v++;_.type=u,_.start=y,_.levelkey=A,_.sn=T,_.level=r,_.cc=C,_.urlId=c,_.baseurl=n,_.relurl=(" "+f[3]).slice(1),m(_,I),b.fragments.push(_),I=_,y+=_.duration,_=new o.default}}else if(f[4]){if(_.rawByteRange=(" "+f[4]).slice(1),I){var k=I.byteRangeEndOffset;k&&(_.lastByteRangeEndOffset=k)}}else if(f[5])_.rawProgramDateTime=(" "+f[5]).slice(1),_.tagList.push(["PROGRAM-DATE-TIME",_.rawProgramDateTime]),null===E&&(E=b.fragments.length);else{for(f=f[0].match(p),g=1;g<f.length&&void 0===f[g];g++);var x=(" "+f[g+1]).slice(1),P=(" "+f[g+2]).slice(1);switch(f[g]){case"#":_.tagList.push(P?[x,P]:[x]);break;case"PLAYLIST-TYPE":b.type=x.toUpperCase();break;case"MEDIA-SEQUENCE":v=b.startSN=parseInt(x);break;case"TARGETDURATION":b.targetduration=parseFloat(x);break;case"VERSION":b.version=parseInt(x);break;case"EXTM3U":break;case"ENDLIST":b.live=!1;break;case"DIS":C++,_.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":C=parseInt(x);break;case"KEY":var O=x,L=new s.default(O),D=L.enumeratedString("METHOD"),j=L.URI,R=L.hexadecimalInteger("IV");D&&(A=new a.default,j&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(D)>=0&&(A.method=D,A.baseuri=n,A.reluri=j,A.key=null,A.iv=R));break;case"START":var M=x,N=new s.default(M).decimalFloatingPoint("TIME-OFFSET");e.isFinite(N)&&(b.startTimeOffset=N);break;case"MAP":var F=new s.default(x);_.relurl=F.URI,_.rawByteRange=F.BYTERANGE,_.baseurl=n,_.level=r,_.type=u,_.sn="initSegment",b.initSegment=_,(_=new o.default).rawProgramDateTime=b.initSegment.rawProgramDateTime;break;default:l.logger.warn("line parsed but not handled: "+f)}}}return(_=I)&&!_.relurl&&(b.fragments.pop(),y-=_.duration),b.totalduration=y,b.averagetargetduration=y/b.fragments.length,b.endSN=v-1,b.startCC=b.fragments[0]?b.fragments[0].cc:0,b.endCC=C,!b.initSegment&&b.fragments.length&&b.fragments.every((function(e){return h.test(e.relurl)}))&&(l.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(_=new o.default).relurl=b.fragments[0].relurl,_.baseurl=n,_.level=r,_.type=u,_.sn="initSegment",b.initSegment=_,b.needSidxRanges=!0),E&&function(e,t){for(var n=e[t],r=t-1;r>=0;r--){var o=e[r];o.programDateTime=n.programDateTime-1e3*o.duration,n=o}}(b.fragments,E),b},t}();function m(t,n){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):n&&n.programDateTime&&(t.programDateTime=n.endProgramDateTime),e.isFinite(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}t.default=g}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/playlist-loader.js":
/*!***************************************!*\
  !*** ./src/loader/playlist-loader.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../errors */"./src/errors.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js"),u=n(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.js"),c=n(/*! ./m3u8-parser */"./src/loader/m3u8-parser.js"),f=window.performance,d={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},p={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},h=function(t){function n(e){var n=t.call(this,e,i.default.MANIFEST_LOADING,i.default.LEVEL_LOADING,i.default.AUDIO_TRACK_LOADING,i.default.SUBTITLE_TRACK_LOADING)||this;return n.loaders={},n}return o(n,t),Object.defineProperty(n,"ContextType",{get:function(){return d},enumerable:!0,configurable:!0}),Object.defineProperty(n,"LevelType",{get:function(){return p},enumerable:!0,configurable:!0}),n.canHaveQualityLevels=function(e){return e!==d.AUDIO_TRACK&&e!==d.SUBTITLE_TRACK},n.mapContextToLevelType=function(e){switch(e.type){case d.AUDIO_TRACK:return p.AUDIO;case d.SUBTITLE_TRACK:return p.SUBTITLE;default:return p.MAIN}},n.getResponseUrl=function(e,t){var n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n},n.prototype.createInternalLoader=function(e){var t=this.hls.config,n=t.pLoader,r=t.loader,o=new(n||r)(t);return e.loader=o,this.loaders[e.type]=o,o},n.prototype.getInternalLoader=function(e){return this.loaders[e.type]},n.prototype.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},n.prototype.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},n.prototype.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},n.prototype.onManifestLoading=function(e){this.load(e.url,{type:d.MANIFEST,level:0,id:null})},n.prototype.onLevelLoading=function(e){this.load(e.url,{type:d.LEVEL,level:e.level,id:e.id})},n.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:d.AUDIO_TRACK,level:null,id:e.id})},n.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:d.SUBTITLE_TRACK,level:null,id:e.id})},n.prototype.load=function(e,t){var n=this.hls.config;l.logger.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var r,o,i,a,s=this.getInternalLoader(t);if(s){var u=s.context;if(u&&u.url===e)return l.logger.trace("playlist request ongoing"),!1;l.logger.warn("aborting previous loader for type: "+t.type),s.abort()}switch(t.type){case d.MANIFEST:r=n.manifestLoadingMaxRetry,o=n.manifestLoadingTimeOut,i=n.manifestLoadingRetryDelay,a=n.manifestLoadingMaxRetryTimeout;break;case d.LEVEL:r=0,o=n.levelLoadingTimeOut;break;default:r=n.levelLoadingMaxRetry,o=n.levelLoadingTimeOut,i=n.levelLoadingRetryDelay,a=n.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(t),t.url=e,t.responseType=t.responseType||"";var c={timeout:o,maxRetry:r,retryDelay:i,maxRetryDelay:a},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return l.logger.debug("Calling internal loader delegate for URL: "+e),s.load(t,c,f),!0},n.prototype.loadsuccess=function(e,t,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this._handleSidxRequest(e,n),void this._handlePlaylistLoaded(e,t,n,r);this.resetInternalLoader(n.type);var o=e.data;t.tload=f.now(),0===o.indexOf("#EXTM3U")?o.indexOf("#EXTINF:")>0||o.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,n,r):this._handleMasterPlaylist(e,t,n,r):this._handleManifestParsingError(e,n,"no EXTM3U delimiter",r)},n.prototype.loaderror=function(e,t,n){void 0===n&&(n=null),this._handleNetworkError(t,n,!1,e)},n.prototype.loadtimeout=function(e,t,n){void 0===n&&(n=null),this._handleNetworkError(t,n,!0)},n.prototype._handleMasterPlaylist=function(e,t,r,o){var a=this.hls,s=e.data,u=n.getResponseUrl(e,r),f=c.default.parseMasterPlaylist(s,u);if(f.length){var d=f.map((function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}})),p=c.default.parseMasterPlaylistMedia(s,u,"AUDIO",d),h=c.default.parseMasterPlaylistMedia(s,u,"SUBTITLES");if(p.length){var g=!1;p.forEach((function(e){e.url||(g=!0)})),!1===g&&f[0].audioCodec&&!f[0].attrs.AUDIO&&(l.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main"}))}a.trigger(i.default.MANIFEST_LOADED,{levels:f,audioTracks:p,subtitles:h,url:u,stats:t,networkDetails:o})}else this._handleManifestParsingError(e,r,"no level found in manifest",o)},n.prototype._handleTrackOrLevelPlaylist=function(t,r,o,a){var s=this.hls,l=o.id,u=o.level,p=o.type,h=n.getResponseUrl(t,o),g=e.isFinite(l)?l:0,m=e.isFinite(u)?u:g,v=n.mapContextToLevelType(o),y=c.default.parseLevelPlaylist(t.data,h,m,v,g);if(y.tload=r.tload,p===d.MANIFEST){var b={url:h,details:y};s.trigger(i.default.MANIFEST_LOADED,{levels:[b],audioTracks:[],url:h,stats:r,networkDetails:a})}if(r.tparsed=f.now(),y.needSidxRanges){var A=y.initSegment.url;this.load(A,{isSidxRequest:!0,type:p,level:u,levelDetails:y,id:l,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else o.levelDetails=y,this._handlePlaylistLoaded(t,r,o,a)},n.prototype._handleSidxRequest=function(e,t){var n=u.default.parseSegmentIndex(new Uint8Array(e.data));if(n){var r=n.references,o=t.levelDetails;r.forEach((function(e,t){var n=e.info,r=o.fragments[t];0===r.byteRange.length&&(r.rawByteRange=String(1+n.end-n.start)+"@"+String(n.start))})),o.initSegment.rawByteRange=String(n.moovEndOffset)+"@0"}},n.prototype._handleManifestParsingError=function(e,t,n,r){this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:n,networkDetails:r})},n.prototype._handleNetworkError=function(e,t,n,r){var o,a;void 0===n&&(n=!1),void 0===r&&(r=null),l.logger.info("A network error occured while loading a "+e.type+"-type playlist");var u=this.getInternalLoader(e);switch(e.type){case d.MANIFEST:o=n?s.ErrorDetails.MANIFEST_LOAD_TIMEOUT:s.ErrorDetails.MANIFEST_LOAD_ERROR,a=!0;break;case d.LEVEL:o=n?s.ErrorDetails.LEVEL_LOAD_TIMEOUT:s.ErrorDetails.LEVEL_LOAD_ERROR,a=!1;break;case d.AUDIO_TRACK:o=n?s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,a=!1;break;default:a=!1}u&&(u.abort(),this.resetInternalLoader(e.type));var c={type:s.ErrorTypes.NETWORK_ERROR,details:o,fatal:a,url:u.url,loader:u,context:e,networkDetails:t};r&&(c.response=r),this.hls.trigger(i.default.ERROR,c)},n.prototype._handlePlaylistLoaded=function(e,t,r,o){var a=r.type,s=r.level,l=r.id,u=r.levelDetails;if(u.targetduration)if(n.canHaveQualityLevels(r.type))this.hls.trigger(i.default.LEVEL_LOADED,{details:u,level:s||0,id:l||0,stats:t,networkDetails:o});else switch(a){case d.AUDIO_TRACK:this.hls.trigger(i.default.AUDIO_TRACK_LOADED,{details:u,id:l,stats:t,networkDetails:o});break;case d.SUBTITLE_TRACK:this.hls.trigger(i.default.SUBTITLE_TRACK_LOADED,{details:u,id:l,stats:t,networkDetails:o})}else this._handleManifestParsingError(e,r,"invalid target duration",o)},n}(a.default);t.default=h}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/observer.js":
/*!*************************!*\
  !*** ./src/observer.js ***!
  \*************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.emit.apply(this,[e,e].concat(t))},t}(n(/*! eventemitter3 */"./node_modules/eventemitter3/index.js").EventEmitter);t.Observer=i},"./src/polyfills/number.js":
/*!*********************************!*\
  !*** ./src/polyfills/number.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js").getSelfScope().Number;t.Number=r,r.isFinite=r.isFinite||function(e){return"number"==typeof e&&isFinite(e)}},"./src/remux/aac-helper.js":
/*!*********************************!*\
  !*** ./src/remux/aac-helper.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}();t.default=r},"./src/remux/mp4-generator.js":
/*!************************************!*\
  !*** ./src/remux/mp4-generator.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Math.pow(2,32)-1,o=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var o=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=i,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,l,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,o))},e.box=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),r=8,o=n.length,i=o;o--;)r+=n[o].byteLength;for((t=new Uint8Array(r))[0]=r>>24&255,t[1]=r>>16&255,t[2]=r>>8&255,t[3]=255&r,t.set(e,4),o=0,r=8;o<i;o++)t.set(n[o],r),r+=n[o].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,n){n*=t;var o=Math.floor(n/(r+1)),i=Math.floor(n%(r+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,o>>24,o>>16&255,o>>8&255,255&o,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))},e.moov=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))},e.mvex=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))},e.mvhd=function(t,n){n*=t;var o=Math.floor(n/(r+1)),i=Math.floor(n%(r+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,o>>24,o>>16&255,o>>8&255,255&o,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)},e.sdtp=function(t){var n,r,o=t.samples||[],i=new Uint8Array(4+o.length);for(r=0;r<o.length;r++)n=o[r].flags,i[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,i)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var n,r,o,i=[],a=[];for(n=0;n<t.sps.length;n++)o=(r=t.sps[n]).byteLength,i.push(o>>>8&255),i.push(255&o),i=i.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)o=(r=t.pps[n]).byteLength,a.push(o>>>8&255),a.push(255&o),a=a.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|t.sps.length].concat(i).concat([t.pps.length]).concat(a))),l=t.width,u=t.height,c=t.pixelRatio[0],f=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,f>>24,f>>16&255,f>>8&255,255&f])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var n=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var n=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var n=t.id,o=t.duration*t.timescale,i=t.width,a=t.height,s=Math.floor(o/(r+1)),l=Math.floor(o%(r+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))},e.traf=function(t,n){var o=e.sdtp(t),i=t.id,a=Math.floor(n/(r+1)),s=Math.floor(n%(r+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,o.length+16+20+8+16+8+8),o)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,n){var r,o,i,a,s,l,u=t.samples||[],c=u.length,f=12+16*c,d=new Uint8Array(f);for(n+=8+f,d.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)i=(o=u[r]).duration,a=o.size,s=o.flags,l=o.cts,d.set([i>>>24&255,i>>>16&255,i>>>8&255,255&i,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*r);return e.box(e.types.trun,d)},e.initSegment=function(t){e.types||e.init();var n,r=e.moov(t);return(n=new Uint8Array(e.FTYP.byteLength+r.byteLength)).set(e.FTYP),n.set(r,e.FTYP.byteLength),n},e}();t.default=o},"./src/remux/mp4-remuxer.js":
/*!**********************************!*\
  !*** ./src/remux/mp4-remuxer.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./aac-helper */"./src/remux/aac-helper.js"),o=n(/*! ./mp4-generator */"./src/remux/mp4-generator.js"),i=n(/*! ../events */"./src/events.js"),a=n(/*! ../errors */"./src/errors.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),l=function(){function e(e,t,n,r){this.observer=e,this.config=t,this.typeSupported=n;var o=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&o&&!o.match("CriOS"),this.ISGenerated=!1}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},e.prototype.resetInitSegment=function(){this.ISGenerated=!1},e.prototype.remux=function(e,t,n,r,o,a,l){if(this.ISGenerated||this.generateIS(e,t,o),this.ISGenerated){var u=e.samples.length,c=t.samples.length,f=o,d=o;if(u&&c){var p=(e.samples[0].pts-t.samples[0].pts)/t.inputTimeScale;f+=Math.max(0,p),d+=Math.max(0,-p)}if(u){e.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,o));var h=this.remuxAudio(e,f,a,l);if(c){var g=void 0;h&&(g=h.endPTS-h.startPTS),t.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,o)),this.remuxVideo(t,d,a,g,l)}}else if(c){var m=this.remuxVideo(t,d,a,0,l);m&&e.codec&&this.remuxEmptyAudio(e,f,a,m)}}n.samples.length&&this.remuxID3(n,o),r.samples.length&&this.remuxText(r,o),this.observer.trigger(i.default.FRAG_PARSED)},e.prototype.generateIS=function(e,t,n){var r,l,u=this.observer,c=e.samples,f=t.samples,d=this.typeSupported,p="audio/mp4",h={},g={tracks:h},m=void 0===this._initPTS;if(m&&(r=l=1/0),e.config&&c.length&&(e.timescale=e.samplerate,s.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(d.mpeg?(p="audio/mpeg",e.codec=""):d.mp3&&(e.codec="mp3")),h.audio={container:p,codec:e.codec,initSegment:!e.isAAC&&d.mpeg?new Uint8Array:o.default.initSegment([e]),metadata:{channelCount:e.channelCount}},m&&(r=l=c[0].pts-e.inputTimeScale*n)),t.sps&&t.pps&&f.length){var v=t.inputTimeScale;t.timescale=v,h.video={container:"video/mp4",codec:t.codec,initSegment:o.default.initSegment([t]),metadata:{width:t.width,height:t.height}},m&&(r=Math.min(r,f[0].pts-v*n),l=Math.min(l,f[0].dts-v*n),this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:r}))}Object.keys(h).length?(u.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,g),this.ISGenerated=!0,m&&(this._initPTS=r,this._initDTS=l)):u.trigger(i.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.prototype.remuxVideo=function(e,t,n,r,l){var u,c,f,d,p,h,g,m=8,v=e.timescale,y=e.samples,b=[],A=y.length,C=this._PTSNormalize,I=this._initPTS,_=this.nextAvcDts,E=this.isSafari;if(0!==A){E&&(n|=y.length&&_&&(l&&Math.abs(t-_/v)<.1||Math.abs(y[0].pts-_-I)<v/5)),n||(_=t*v),y.forEach((function(e){e.pts=C(e.pts-I,_),e.dts=C(e.dts-I,_)})),y.sort((function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r||e.id-t.id}));var w=y.reduce((function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)}),0);if(w<0){s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(w/90)+" ms to overcome this issue");for(var S=0;S<y.length;S++)y[S].dts+=w}var T=y[0];p=Math.max(T.dts,0),d=Math.max(T.pts,0);var k=Math.round((p-_)/90);n&&k&&(k>1?s.logger.log("AVC:"+k+" ms hole between fragments detected,filling it"):k<-1&&s.logger.log("AVC:"+-k+" ms overlapping between fragments detected"),p=_,y[0].dts=p,d=Math.max(d-k,_),y[0].pts=d,s.logger.log("Video/PTS/DTS adjusted: "+Math.round(d/90)+"/"+Math.round(p/90)+",delta:"+k+" ms")),T=y[y.length-1],g=Math.max(T.dts,0),h=Math.max(T.pts,0,g),E&&(u=Math.round((g-p)/(y.length-1)));var x=0,P=0;for(S=0;S<A;S++){for(var O=y[S],L=O.units,D=L.length,j=0,R=0;R<D;R++)j+=L[R].data.length;P+=j,x+=D,O.length=j,O.dts=E?p+S*u:Math.max(O.dts,p),O.pts=Math.max(O.pts,O.dts)}var M=P+4*x+8;try{c=new Uint8Array(M)}catch(e){return void this.observer.trigger(i.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:M,reason:"fail allocating video mdat "+M})}var N=new DataView(c.buffer);for(N.setUint32(0,M),c.set(o.default.types.mdat,4),S=0;S<A;S++){var F=y[S],B=F.units,U=0,G=void 0;for(R=0,D=B.length;R<D;R++){var H=B[R],V=H.data,W=H.data.byteLength;N.setUint32(m,W),m+=4,c.set(V,m),m+=W,U+=4+W}if(E)G=Math.max(0,u*Math.round((F.pts-F.dts)/u));else{if(S<A-1)u=y[S+1].dts-F.dts;else{var Y=this.config,z=F.dts-y[S>0?S-1:S].dts;if(Y.stretchShortVideoTrack){var K=Y.maxBufferHole,q=Math.floor(K*v),$=(r?d+r*v:this.nextAudioPts)-F.pts;$>q?((u=$-z)<0&&(u=z),s.logger.log("It is approximately "+$/90+" ms to the next segment; using duration "+u/90+" ms for the last video frame.")):u=z}else u=z}G=Math.round(F.pts-F.dts)}b.push({size:U,duration:u,cts:G,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:F.key?2:1,isNonSync:F.key?0:1}})}this.nextAvcDts=g+u;var X=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,b.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var Z=b[0].flags;Z.dependsOn=2,Z.isNonSync=0}e.samples=b,f=o.default.moof(e.sequenceNumber++,p,e),e.samples=[];var Q={data1:f,data2:c,startPTS:d/v,endPTS:(h+u)/v,startDTS:p/v,endDTS:this.nextAvcDts/v,type:"video",hasAudio:!1,hasVideo:!0,nb:b.length,dropped:X};return this.observer.trigger(i.default.FRAG_PARSING_DATA,Q),Q}},e.prototype.remuxAudio=function(e,t,n,l){var u,c,f,d,p,h,g,m=e.inputTimeScale,v=e.timescale,y=m/v,b=(e.isAAC?1024:1152)*y,A=this._PTSNormalize,C=this._initPTS,I=!e.isAAC&&this.typeSupported.mpeg,_=e.samples,E=[],w=this.nextAudioPts;if(n|=_.length&&w&&(l&&Math.abs(t-w/m)<.1||Math.abs(_[0].pts-w-C)<20*b),_.forEach((function(e){e.pts=e.dts=A(e.pts-C,t*m)})),0!==(_=_.filter((function(e){return e.pts>=0}))).length){if(n||(w=l?t*m:_[0].pts),e.isAAC)for(var S=this.config.maxAudioFramesDrift,T=0,k=w;T<_.length;){var x,P=_[T];x=(F=P.pts)-k;var O=Math.abs(1e3*x/m);if(x<=-S*b)s.logger.warn("Dropping 1 audio frame @ "+(k/m).toFixed(3)+"s due to "+Math.round(O)+" ms overlap."),_.splice(T,1),e.len-=P.unit.length;else if(x>=S*b&&O<1e4&&k){var L=Math.round(x/b);s.logger.warn("Injecting "+L+" audio frame @ "+(k/m).toFixed(3)+"s due to "+Math.round(1e3*x/m)+" ms gap.");for(var D=0;D<L;D++){var j=Math.max(k,0);(f=r.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),f=P.unit.subarray()),_.splice(T,0,{unit:f,pts:j,dts:j}),e.len+=f.length,k+=b,T++}P.pts=P.dts=k,k+=b,T++}else Math.abs(x),P.pts=P.dts=k,k+=b,T++}D=0;for(var R=_.length;D<R;D++){var M=_[D],N=M.unit,F=M.pts;if(void 0!==g)c.duration=Math.round((F-g)/y);else{var B=Math.round(1e3*(F-w)/m),U=0;if(n&&e.isAAC&&B){if(B>0&&B<1e4)U=Math.round((F-w)/b),s.logger.log(B+" ms hole between AAC samples detected,filling it"),U>0&&((f=r.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(f=N.subarray()),e.len+=U*f.length);else if(B<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(w/m).toFixed(3)+"s/"+(F/m).toFixed(3)+"s/"+-B+"ms"),e.len-=N.byteLength;continue}F=w}if(h=F,!(e.len>0))return;var G=I?e.len:e.len+8;u=I?0:8;try{d=new Uint8Array(G)}catch(e){return void this.observer.trigger(i.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:G,reason:"fail allocating audio mdat "+G})}for(I||(new DataView(d.buffer).setUint32(0,G),d.set(o.default.types.mdat,4)),T=0;T<U;T++)(f=r.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),f=N.subarray()),d.set(f,u),u+=f.byteLength,c={size:f.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(c)}d.set(N,u);var H=N.byteLength;u+=H,c={size:H,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(c),g=F}var V=0,W=E.length;if(W>=2&&(V=E[W-2].duration,c.duration=V),W){this.nextAudioPts=w=g+y*V,e.len=0,e.samples=E,p=I?new Uint8Array:o.default.moof(e.sequenceNumber++,h/y,e),e.samples=[];var Y=h/m,z=w/m,K={data1:p,data2:d,startPTS:Y,endPTS:z,startDTS:Y,endDTS:z,type:"audio",hasAudio:!0,hasVideo:!1,nb:W};return this.observer.trigger(i.default.FRAG_PARSING_DATA,K),K}return null}},e.prototype.remuxEmptyAudio=function(e,t,n,o){var i=e.inputTimeScale,a=i/(e.samplerate?e.samplerate:i),l=this.nextAudioPts,u=(void 0!==l?l:o.startDTS*i)+this._initDTS,c=o.endDTS*i+this._initDTS,f=1024*a,d=Math.ceil((c-u)/f),p=r.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(s.logger.warn("remux empty Audio"),p){for(var h=[],g=0;g<d;g++){var m=u+g*f;h.push({unit:p,pts:m,dts:m}),e.len+=p.length}e.samples=h,this.remuxAudio(e,t,n)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},e.prototype.remuxID3=function(e){var t,n=e.samples.length,r=e.inputTimeScale,o=this._initPTS,a=this._initDTS;if(n){for(var s=0;s<n;s++)(t=e.samples[s]).pts=(t.pts-o)/r,t.dts=(t.dts-a)/r;this.observer.trigger(i.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},e.prototype.remuxText=function(e){e.samples.sort((function(e,t){return e.pts-t.pts}));var t,n=e.samples.length,r=e.inputTimeScale,o=this._initPTS;if(n){for(var a=0;a<n;a++)(t=e.samples[a]).pts=(t.pts-o)/r;this.observer.trigger(i.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},e.prototype._PTSNormalize=function(e,t){var n;if(void 0===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e},e}();t.default=l},"./src/remux/passthrough-remuxer.js":
/*!******************************************!*\
  !*** ./src/remux/passthrough-remuxer.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../events */"./src/events.js"),o=function(){function e(e){this.observer=e}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(){},e.prototype.resetInitSegment=function(){},e.prototype.remux=function(e,t,n,o,i,a,s,l){var u=this.observer,c="";e&&(c+="audio"),t&&(c+="video"),u.trigger(r.default.FRAG_PARSING_DATA,{data1:l,startPTS:i,startDTS:i,type:c,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),u.trigger(r.default.FRAG_PARSED)},e}();t.default=o},"./src/task-loop.js":
/*!**************************!*\
  !*** ./src/task-loop.js ***!
  \**************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=e.apply(this,[t].concat(n))||this;return o._tickInterval=null,o._tickTimer=null,o._tickCallCount=0,o._boundTick=o.tick.bind(o),o}return o(t,e),t.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.prototype.hasInterval=function(){return!!this._tickInterval},t.prototype.hasNextTick=function(){return!!this._tickTimer},t.prototype.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,e),!0)},t.prototype.clearInterval=function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},t.prototype.doTick=function(){},t}(n(/*! ./event-handler */"./src/event-handler.js").default);t.default=i},"./src/utils/attr-list.js":
/*!********************************!*\
  !*** ./src/utils/attr-list.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=/^(\d+)x(\d+)$/,r=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function t(e){for(var n in"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(n)&&(this[n]=e[n])}return t.prototype.decimalInteger=function(t){var n=parseInt(this[t],10);return n>e.MAX_SAFE_INTEGER?1/0:n},t.prototype.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var n=parseInt(this[t],16);return n>e.MAX_SAFE_INTEGER?1/0:n},t.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.prototype.enumeratedString=function(e){return this[e]},t.prototype.decimalResolution=function(e){var t=n.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},t.parseAttrList=function(e){var t,n={};for(r.lastIndex=0;null!==(t=r.exec(e));){var o=t[2];0===o.indexOf('"')&&o.lastIndexOf('"')===o.length-1&&(o=o.slice(1,-1)),n[t[1]]=o}return n},t}();t.default=o}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/binary-search.js":
/*!************************************!*\
  !*** ./src/utils/binary-search.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={search:function(e,t){for(var n=0,r=e.length-1,o=null,i=null;n<=r;){var a=t(i=e[o=(n+r)/2|0]);if(a>0)n=o+1;else{if(!(a<0))return i;r=o-1}}return null}}},"./src/utils/buffer-helper.js":
/*!************************************!*\
  !*** ./src/utils/buffer-helper.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.isBuffered=function(e,t){try{if(e)for(var n=e.buffered,r=0;r<n.length;r++)if(t>=n.start(r)&&t<=n.end(r))return!0}catch(e){}return!1},e.bufferInfo=function(e,t,n){try{if(e){var r=e.buffered,o=[],i=void 0;for(i=0;i<r.length;i++)o.push({start:r.start(i),end:r.end(i)});return this.bufferedInfo(o,t,n)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,n){var r,o,i,a,s,l=[];for(e.sort((function(e,t){var n=e.start-t.start;return n||t.end-e.end})),s=0;s<e.length;s++){var u=l.length;if(u){var c=l[u-1].end;e[s].start-c<n?e[s].end>c&&(l[u-1].end=e[s].end):l.push(e[s])}else l.push(e[s])}for(s=0,r=0,o=i=t;s<l.length;s++){var f=l[s].start,d=l[s].end;if(t+n>=f&&t<d)o=f,r=(i=d)-t;else if(t+n<f){a=f;break}}return{len:r,start:o,end:i,nextStart:a}},e}();t.BufferHelper=r},"./src/utils/cea-608-parser.js":
/*!*************************************!*\
  !*** ./src/utils/cea-608-parser.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},o=function(e){var t=e;return r.hasOwnProperty(e)&&(t=r[e]),String.fromCharCode(t)},i={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},a={17:2,18:4,21:6,22:8,23:10,19:13,20:15},s={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},l={25:2,26:4,29:6,30:8,31:10,27:13,28:15},u=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],c={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e],this.verboseLevel}},f=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},d=function(){function e(e,t,n,r,o){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=o||!1}return e.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},e.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},e.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},e.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),p=function(){function e(e,t,n,r,o,i){this.uchar=e||" ",this.penState=new d(t,n,r,o,i)}return e.prototype.reset=function(){this.uchar=" ",this.penState.reset()},e.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},e.prototype.setPenState=function(e){this.penState.copy(e)},e.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},e.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},e.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),h=function(){function e(){this.chars=[];for(var e=0;e<100;e++)this.chars.push(new p);this.pos=0,this.currPenState=new d}return e.prototype.equals=function(e){for(var t=!0,n=0;n<100;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<100;t++)this.chars[t].copy(e.chars[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<100;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},e.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(c.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(c.log("ERROR","Too large cursor position "+this.pos),this.pos=100)},e.prototype.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},e.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.prototype.insertChar=function(e){e>=144&&this.backSpace();var t=o(e);this.pos>=100?c.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},e.prototype.clearFromPos=function(e){var t;for(t=e;t<100;t++)this.chars[t].reset()},e.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.prototype.getTextString=function(){for(var e=[],t=!0,n=0;n<100;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},e.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),g=function(){function e(){this.rows=[];for(var e=0;e<15;e++)this.rows.push(new h);this.currRow=14,this.nrRollUpRows=null,this.reset()}return e.prototype.reset=function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},e.prototype.equals=function(e){for(var t=!0,n=0;n<15;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},e.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},e.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},e.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},e.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},e.prototype.setCursor=function(e){c.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},e.prototype.setPAC=function(e){c.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<15;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){var i=o.rows[r].cueStartTime;if(i&&i<c.time)for(n=0;n<this.nrRollUpRows;n++)this.rows[t-this.nrRollUpRows+n+1].copy(o.rows[r+n])}}this.currRow=t;var a=this.rows[this.currRow];if(null!==e.indent){var s=e.indent,l=Math.max(s-1,0);a.setCursor(e.indent),e.color=a.chars[l].penState.foreground}var u={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(u)},e.prototype.setBkgData=function(e){c.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},e.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},e.prototype.rollUp=function(){if(null!==this.nrRollUpRows){c.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),c.log("INFO","Rolling up")}else c.log("DEBUG","roll_up but nrRollUpRows not set yet")},e.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],n="",r=-1,o=0;o<15;o++){var i=this.rows[o].getTextString();i&&(r=o+1,e?t.push("Row "+r+": '"+i+"'"):t.push(i.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},e.prototype.getTextAndFormat=function(){return this.rows},e}(),m=function(){function e(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new g,this.nonDisplayedMemory=new g,this.lastOutputScreen=new g,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return e.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},e.prototype.getHandler=function(){return this.outputFilter},e.prototype.setHandler=function(e){this.outputFilter=e},e.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},e.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},e.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,c.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},e.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";c.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(c.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.prototype.ccRCL=function(){c.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.prototype.ccBS=function(){c.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.prototype.ccAOF=function(){},e.prototype.ccAON=function(){},e.prototype.ccDER=function(){c.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.prototype.ccRU=function(e){c.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},e.prototype.ccFON=function(){c.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.prototype.ccRDC=function(){c.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.prototype.ccTR=function(){c.log("INFO","TR"),this.setMode("MODE_TEXT")},e.prototype.ccRTD=function(){c.log("INFO","RTD"),this.setMode("MODE_TEXT")},e.prototype.ccEDM=function(){c.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.prototype.ccCR=function(){c.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.prototype.ccENM=function(){c.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.prototype.ccEOC=function(){if(c.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,c.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.prototype.ccTO=function(e){c.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},e.prototype.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}c.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},e.prototype.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=c.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},e.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),v=function(){function e(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new m(1,t),new m(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return e.prototype.getHandler=function(e){return this.channels[e].getHandler()},e.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},e.prototype.addData=function(e,t){var n,r,o,i=!1;this.lastTime=e,c.setTime(e);for(var a=0;a<t.length;a+=2)r=127&t[a],o=127&t[a+1],0!==r||0!==o?(c.log("DATA","["+f([t[a],t[a+1]])+"] -> ("+f([r,o])+")"),(n=this.parseCmd(r,o))||(n=this.parseMidrow(r,o)),n||(n=this.parsePAC(r,o)),n||(n=this.parseBackgroundAttributes(r,o)),n||(i=this.parseChars(r,o))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(i):c.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:i?this.dataCounters.char+=2:(this.dataCounters.other+=2,c.log("WARNING","Couldn't parse cleaned data "+f([r,o])+" orig: "+f([t[a],t[a+1]])))):this.dataCounters.padding+=2},e.prototype.parseCmd=function(e,t){var n=null;if(!((20===e||28===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=33&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,c.log("DEBUG","Repeated command ("+f([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var r=this.channels[n-1];return 20===e||28===e?32===t?r.ccRCL():33===t?r.ccBS():34===t?r.ccAOF():35===t?r.ccAON():36===t?r.ccDER():37===t?r.ccRU(2):38===t?r.ccRU(3):39===t?r.ccRU(4):40===t?r.ccFON():41===t?r.ccRDC():42===t?r.ccTR():43===t?r.ccRTD():44===t?r.ccEDM():45===t?r.ccCR():46===t?r.ccENM():47===t&&r.ccEOC():r.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},e.prototype.parseMidrow=function(e,t){var n=null;return(17===e||25===e)&&t>=32&&t<=47&&((n=17===e?1:2)!==this.currChNr?(c.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(t),c.log("DEBUG","MIDROW ("+f([e,t])+")"),!0))},e.prototype.parsePAC=function(e,t){var n,r=null;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127||(16===e||24===e)&&t>=64&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=e<=23?1:2,r=t>=64&&t<=95?1===n?i[e]:s[e]:1===n?a[e]:l[e];var o=this.interpretPAC(r,t);return this.channels[n-1].setPAC(o),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},e.prototype.interpretPAC=function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},e.prototype.parseChars=function(e,t){var n=null,r=null,i=null;if(e>=25?(n=2,i=e-8):(n=1,i=e),i>=17&&i<=19){var a=t;a=17===i?t+80:18===i?t+112:t+144,c.log("INFO","Special char '"+o(a)+"' in channel "+n),r=[a]}else e>=32&&e<=127&&(r=0===t?[e]:[e,t]);if(r){var s=f(r);c.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r},e.prototype.parseBackgroundAttributes=function(e,t){var n,r,o;return((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=u[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),o=e<24?1:2,this.channels[o-1].setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)},e.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},e.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}();t.default=v},"./src/utils/codecs.js":
/*!*****************************!*\
  !*** ./src/utils/codecs.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};t.isCodecType=function(e,t){var n=r[t];return!!n&&!0===n[e.slice(0,4)]},t.isCodecSupportedInMp4=function(e,t){return window.MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.js":
/*!***************************!*\
  !*** ./src/utils/cues.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./vttparser */"./src/utils/vttparser.js");t.newCue=function(e,t,n,o){for(var i,a,s,l,u,c=window.VTTCue||window.TextTrackCue,f=0;f<o.rows.length;f++)if(s=!0,l=0,u="",!(i=o.rows[f]).isEmpty()){for(var d=0;d<i.chars.length;d++)i.chars[d].uchar.match(/\s/)&&s?l++:(u+=i.chars[d].uchar,s=!1);i.cueStartTime=t,t===n&&(n+=1e-4),a=new c(t,n,r.fixLineBreaks(u.trim())),l>=16?l--:l++,navigator.userAgent.match(/Firefox\//)?a.line=f+1:a.line=f>7?f-2:f+1,a.align="left",a.position=Math.max(0,Math.min(100,l/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(a)}}},"./src/utils/discontinuities.js":
/*!**************************************!*\
  !*** ./src/utils/discontinuities.js ***!
  \**************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./binary-search */"./src/utils/binary-search.js"),o=n(/*! ../utils/logger */"./src/utils/logger.js");function i(e,t){for(var n=null,r=0;r<e.length;r+=1){var o=e[r];if(o&&o.cc===t){n=o;break}}return n}function a(e,t,n){var r=!1;return t&&t.details&&n&&(n.endCC>n.startCC||e&&e.cc<n.startCC)&&(r=!0),r}function s(e,t){var n=e.fragments,r=t.fragments;if(r.length&&n.length){var a=i(n,r[0].cc);if(a&&(!a||a.startPTS))return a;o.logger.log("No frag in previous level to align on")}else o.logger.log("No fragments to align")}function l(e,t){t.fragments.forEach((function(t){if(t){var n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}})),t.PTSKnown=!0}function u(e,t,n){if(a(e,n,t)){var r=s(n.details,t);r&&(o.logger.log("Adjusting PTS using last level due to CC increase within current level"),l(r.start,t))}}function c(t,n){if(n&&n.fragments.length){if(!t.hasProgramDateTime||!n.hasProgramDateTime)return;var r=n.fragments[0].programDateTime,i=(t.fragments[0].programDateTime-r)/1e3+n.fragments[0].start;e.isFinite(i)&&(o.logger.log("adjusting PTS using programDateTime delta, sliding:"+i.toFixed(3)),l(i,t))}}t.findFirstFragWithCC=i,t.findFragWithCC=function(e,t){return r.default.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))},t.shouldAlignOnDiscontinuities=a,t.findDiscontinuousReferenceFrag=s,t.adjustPts=l,t.alignStream=function(e,t,n){u(e,n,t),!n.PTSKnown&&t&&c(n,t.details)},t.alignDiscontinuities=u,t.alignPDT=c}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/ewma-bandwidth-estimator.js":
/*!***********************************************!*\
  !*** ./src/utils/ewma-bandwidth-estimator.js ***!
  \***********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/ewma */"./src/utils/ewma.js"),o=function(){function e(e,t,n,o){this.hls=e,this.defaultEstimate_=o,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(t),this.fast_=new r.default(n)}return e.prototype.sample=function(e,t){var n=8e3*t/(e=Math.max(e,this.minDelayMs_)),r=e/1e3;this.fast_.sample(r,n),this.slow_.sample(r,n)},e.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},e.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.prototype.destroy=function(){},e}();t.default=o},"./src/utils/ewma.js":
/*!***************************!*\
  !*** ./src/utils/ewma.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return e.prototype.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},e.prototype.getTotalWeight=function(){return this.totalWeight_},e.prototype.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}();t.default=r},"./src/utils/get-self-scope.js":
/*!*************************************!*\
  !*** ./src/utils/get-self-scope.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelfScope=function(){return"undefined"==typeof window?self:window}},"./src/utils/logger.js":
/*!*****************************!*\
  !*** ./src/utils/logger.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./get-self-scope */"./src/utils/get-self-scope.js");function o(){}var i={trace:o,debug:o,log:o,warn:o,info:o,error:o},a=i;function s(e,t){return t="["+e+"] > "+t}var l=r.getSelfScope();function u(e){var t=l.console[e];return t?function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n[0]&&(n[0]=s(e,n[0])),t.apply(l.console,n)}:o}t.enableLogs=function(e){if(!0===e||"object"==typeof e){!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach((function(t){a[t]=e[t]?e[t].bind(e):u(t)}))}(e,"debug","log","info","warn","error");try{a.log()}catch(e){a=i}}else a=i},t.logger=a},"./src/utils/mediakeys-helper.js":
/*!***************************************!*\
  !*** ./src/utils/mediakeys-helper.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;t.requestMediaKeySystemAccess=r},"./src/utils/mediasource-helper.js":
/*!*****************************************!*\
  !*** ./src/utils/mediasource-helper.js ***!
  \*****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMediaSource=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},"./src/utils/output-filter.js":
/*!************************************!*\
  !*** ./src/utils/output-filter.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.timelineController=e,this.trackName=t,this.startTime=null,this.endTime=null,this.screen=null}return e.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},e.prototype.newCue=function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},e}();t.default=r},"./src/utils/texttrack-utils.js":
/*!**************************************!*\
  !*** ./src/utils/texttrack-utils.js ***!
  \**************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddTrackEvent=function(e,t){var n=null;try{n=new window.Event("addtrack")}catch(e){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)},t.clearCurrentCues=function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},"./src/utils/time-ranges.js":
/*!**********************************!*\
  !*** ./src/utils/time-ranges.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={toString:function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}}},"./src/utils/vttcue.js":
/*!*****************************!*\
  !*** ./src/utils/vttcue.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var e={"":!0,lr:!0,rl:!0},t={start:!0,middle:!0,end:!0,left:!0,right:!0};function n(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function o(t,o,i){var a=this,s=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),l={};s?a=document.createElement("custom"):l.enumerable=!0,a.hasBeenReset=!1;var u="",c=!1,f=t,d=o,p=i,h=null,g="",m=!0,v="auto",y="start",b=50,A="middle",C=50,I="middle";if(Object.defineProperty(a,"id",r({},l,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(a,"pauseOnExit",r({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(a,"startTime",r({},l,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",r({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",r({},l,{get:function(){return p},set:function(e){p=""+e,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",r({},l,{get:function(){return h},set:function(e){h=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",r({},l,{get:function(){return g},set:function(t){var n=function(t){return"string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");g=n,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",r({},l,{get:function(){return m},set:function(e){m=!!e,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",r({},l,{get:function(){return v},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",r({},l,{get:function(){return y},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",r({},l,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",r({},l,{get:function(){return A},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");A=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",r({},l,{get:function(){return C},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");C=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",r({},l,{get:function(){return I},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");I=t,this.hasBeenReset=!0}})),a.displayState=void 0,s)return a}return o.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},o}()},"./src/utils/vttparser.js":
/*!********************************!*\
  !*** ./src/utils/vttparser.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./vttcue */"./src/utils/vttcue.js"),o=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};function i(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new o,this.regionList=[]}function a(){this.values=Object.create(null)}function s(e,t,n,r){var o=r?e.split(r):[e];for(var i in o)if("string"==typeof o[i]){var a=o[i].split(n);2===a.length&&t(a[0],a[1])}}a.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l=new r.default(0,0,0),u="middle"===l.align?"middle":"center";function c(e,t,n){var r=e;function o(){var t=function(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function i(){e=e.replace(/^\s+/,"")}if(i(),t.startTime=o(),i(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),i(),t.endTime=o(),i(),function(e,t){var r=new a;s(e,(function(e,t){switch(e){case"region":for(var o=n.length-1;o>=0;o--)if(n[o].id===t){r.set(e,n[o].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),a=i[0];r.integer(e,a),r.percent(e,a)&&r.set("snapToLines",!1),r.alt(e,a,["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",u,"end"]);break;case"position":i=t.split(","),r.percent(e,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",u,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",u,"end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var o=r.get("line","auto");"auto"===o&&-1===l.line&&(o=-1),t.line=o,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",u);var i=r.get("position","auto");"auto"===i&&50===l.position&&(i="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=i}(e,t)}function f(e){return e.replace(/<br(?: \/)?>/gi,"\n")}t.fixLineBreaks=f,i.prototype={parse:function(e){var t=this;function n(){var e=t.buffer,n=0;for(e=f(e);n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var o=void 0;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i=(o=n()).match(/^(Ã¯Â»Â¿)?WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:o=n(),t.state){case"HEADER":/:/.test(o)?s(o,(function(e,t){}),/:/):o||(t.state="ID");continue;case"NOTE":o||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){t.state="NOTE";break}if(!o)continue;if(t.cue=new r.default(0,0,""),t.state="CUE",-1===o.indexOf("--\x3e")){t.cue.id=o;continue}case"CUE":try{c(o,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var l=-1!==o.indexOf("--\x3e");if(!o||l&&(a=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=o;continue;case"BADCUE":o||(t.state="ID");continue}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}},t.default=i},"./src/utils/webvtt-parser.js":
/*!************************************!*\
  !*** ./src/utils/webvtt-parser.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./vttparser */"./src/utils/vttparser.js"),o=n(/*! ../demux/id3 */"./src/demux/id3.js"),i=function(e,t,n){return e.substr(n||0,t.length)===t},a=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()},s={parse:function(t,n,s,l,u,c){var f,d=o.utf8ArrayToStr(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),p="00:00.000",h=0,g=0,m=0,v=[],y=!0,b=new r.default;b.oncue=function(e){var t=s[l],n=s.ccOffset;t&&t.new&&(void 0!==g?n=s.ccOffset=t.start:function(e,t,n){var r=e[t],o=e[r.prevCC];if(!o||!o.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;o&&o.new;)e.ccOffset+=r.start-o.start,r.new=!1,o=e[(r=o).prevCC];e.presentationOffset=n}(s,l,m)),m&&(n=m-s.presentationOffset),e.startTime+=n-g,e.endTime+=n-g,e.id=a(e.startTime.toString())+a(e.endTime.toString())+a(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&v.push(e)},b.onparsingerror=function(e){f=e},b.onflush=function(){f&&c?c(f):u(v)},d.forEach((function(t){if(y){if(i(t,"X-TIMESTAMP-MAP=")){y=!1,t.substr(16).split(",").forEach((function(e){i(e,"LOCAL:")?p=e.substr(6):i(e,"MPEGTS:")&&(h=parseInt(e.substr(7)))}));try{n+(9e4*s[l].start||0)<0&&(n+=8589934592),h-=n,r=p,o=parseInt(r.substr(-3)),a=parseInt(r.substr(-6,2)),u=parseInt(r.substr(-9,2)),c=r.length>9?parseInt(r.substr(0,r.indexOf(":"))):0,g=(e.isFinite(o)&&e.isFinite(a)&&e.isFinite(u)&&e.isFinite(c)?(o+=1e3*a,o+=6e4*u,o+=36e5*c):-1)/1e3,m=h/9e4,-1===g&&(f=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){f=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(y=!1)}var r,o,a,u,c;b.parse(t+"\n")})),b.flush()}};t.default=s}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/xhr-loader.js":
/*!*********************************!*\
  !*** ./src/utils/xhr-loader.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ../utils/logger */"./src/utils/logger.js"),o=window.performance,i=window.XMLHttpRequest,a=function(){function e(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return e.prototype.destroy=function(){this.abort(),this.loader=null},e.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.prototype.load=function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.stats={trequest:o.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},e.prototype.loadInternal=function(){var e,t=this.context;e=this.loader=new i;var n=this.stats;n.tfirst=0,n.loaded=0;var r=this.xhrSetup;try{if(r)try{r(e,t.url)}catch(n){e.open("GET",t.url,!0),r(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(n){return void this.callbacks.onError({code:e.status,text:n.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},e.prototype.readystatechange=function(e){var t=e.currentTarget,n=t.readyState,i=this.stats,a=this.context,s=this.config;if(!i.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(o.now(),i.trequest)),4===n){var l=t.status;if(l>=200&&l<300){i.tload=Math.max(i.tfirst,o.now());var u=void 0,c=void 0;c="arraybuffer"===a.responseType?(u=t.response).byteLength:(u=t.responseText).length,i.loaded=i.total=c;var f={url:t.responseURL,data:u};this.callbacks.onSuccess(f,i,a,t)}else i.retry>=s.maxRetry||l>=400&&l<499?(r.logger.error(l+" while loading "+a.url),this.callbacks.onError({code:l,text:t.statusText},a,t)):(r.logger.warn(l+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)},e.prototype.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.prototype.loadprogress=function(e){var t=e.currentTarget,n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total);var r=this.callbacks.onProgress;r&&r(n,this.context,null,t)},e}();t.default=a}}).default},e.exports=r())},function(e,t,n){var r=n(23);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},o=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],i=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],a=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],s="undefined"!=typeof window&&void 0!==window.document?window.document:{},l="fullscreenEnabled"in s&&Object.keys(r)||o[0]in s&&o||i[0]in s&&i||a[0]in s&&a||[];t.default={requestFullscreen:function(e){return e[l[r.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[l[r.requestFullscreen]]},get exitFullscreen(){return s[l[r.exitFullscreen]].bind(s)},get fullscreenPseudoClass(){return":"+l[r.fullscreen]},addEventListener:function(e,t,n){return s.addEventListener(l[r[e]],t,n)},removeEventListener:function(e,t,n){return s.removeEventListener(l[r[e]],t,n)},get fullscreenEnabled(){return Boolean(s[l[r.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return s[l[r.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return s[("on"+l[r.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return s[("on"+l[r.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return s[("on"+l[r.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return s[("on"+l[r.fullscreenerror]).toLowerCase()]=e}}},function(e,t,n){var r=n(7),o=n(5),i=n(61),a=n(68),s=n(18),l=n(10),u=Object.prototype.hasOwnProperty,c=i((function(e,t){if(s(t)||a(t))o(t,l(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])}));e.exports=c},function(e,t,n){var r=n(72);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},function(e,t,n){var r=n(7),o=n(15);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?o(n,u,c):r(n,u,c)}return n}},function(e,t,n){var r=n(14);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(15),o=n(14),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(11)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(9),o=n(24),i=n(26),a=n(28);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(37);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(29);e.exports=function(e){return r(e,5)}},function(e,t,n){var r,o;!function(i,a){"use strict";void 0===(o="function"==typeof(r=function(){var e=function(){},t="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function r(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function i(n){return"debug"===n&&(n="log"),"undefined"!=typeof console&&("trace"===n&&t?o:void 0!==console[n]?r(console,n):void 0!==console.log?r(console,"log"):e)}function a(t,r){for(var o=0;o<n.length;o++){var i=n[o];this[i]=o<t?e:this.methodFactory(i,t,r)}this.log=this.debug}function s(e,t,n){return function(){"undefined"!=typeof console&&(a.call(this,t,n),this[e].apply(this,arguments))}}function l(e,t,n){return i(e)||s.apply(this,arguments)}function u(e,t,r){var o,i=this,s="loglevel";function u(){var e;if("undefined"!=typeof window&&s){try{e=window.localStorage[s]}catch(e){}if(void 0===e)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(s)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===i.levels[e]&&(e=void 0),e}}"string"==typeof e?s+=":"+e:"symbol"==typeof e&&(s=void 0),i.name=e,i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},i.methodFactory=r||l,i.getLevel=function(){return o},i.setLevel=function(t,r){if("string"==typeof t&&void 0!==i.levels[t.toUpperCase()]&&(t=i.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=i.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(o=t,!1!==r&&function(e){var t=(n[e]||"silent").toUpperCase();if("undefined"!=typeof window&&s){try{return void(window.localStorage[s]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(s)+"="+t+";"}catch(e){}}}(t),a.call(i,t,e),"undefined"==typeof console&&t<i.levels.SILENT)return"No console available for logging"},i.setDefaultLevel=function(e){u()||i.setLevel(e,!1)},i.enableAll=function(e){i.setLevel(i.levels.TRACE,e)},i.disableAll=function(e){i.setLevel(i.levels.SILENT,e)};var c=u();null==c&&(c=null==t?"WARN":t),i.setLevel(c,!1)}var c=new u,f={};c.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new u(e,c.getLevel(),c.methodFactory)),t};var d="undefined"!=typeof window?window.log:void 0;return c.noConflict=function(){return"undefined"!=typeof window&&window.log===c&&(window.log=d),c},c.getLoggers=function(){return f},c.default=c,c})?r.call(t,n,t,e):r)||(e.exports=o)}()},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&l()}function s(){i(a)}function l(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},c=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},f=v(0,0,0,0);function d(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}function h(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=c(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=d(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=d(r.width),l=d(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=p(r,"left","right")+i),Math.round(l+a)!==n&&(l-=p(r,"top","bottom")+a)),!function(e){return e===c(e).document.documentElement}(e)){var u=Math.round(s+i)-t,h=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(h)&&(l-=h)}return v(o.left,o.top,s,l)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof c(e).SVGGraphicsElement}:function(e){return e instanceof c(e).SVGElement&&"function"==typeof e.getBBox};function m(e){return r?g(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):h(e):f}function v(e,t,n,r){return{x:e,y:t,width:n,height:r}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n,r,o,i,a,s,l,c=(r=(n=t).x,o=n.y,i=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),u(l,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),l);u(this,{target:e,contentRect:c})},A=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),C="undefined"!=typeof WeakMap?new WeakMap:new n,I=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new A(t,n,this);C.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){I.prototype[e]=function(){var t;return(t=C.get(this))[e].apply(t,arguments)}}));var _=void 0!==o.ResizeObserver?o.ResizeObserver:I;t.a=_}).call(this,n(17))},,function(e,t,n){var r=n(12),o=n(13);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(9),o=n(25),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(27),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(30),o=n(36),i=n(7),a=n(39),s=n(40),l=n(41),u=n(45),c=n(46),f=n(48),d=n(50),p=n(51),h=n(52),g=n(53),m=n(54),v=n(55),y=n(9),b=n(58),A=n(59),C=n(8),I=n(60),_=n(10),E=n(16),w={};w["[object Arguments]"]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object DataView]"]=w["[object Boolean]"]=w["[object Date]"]=w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Map]"]=w["[object Number]"]=w["[object Object]"]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object Symbol]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Error]"]=w["[object Function]"]=w["[object WeakMap]"]=!1,e.exports=function e(t,n,S,T,k,x){var P,O=1&n,L=2&n,D=4&n;if(S&&(P=k?S(t,T,k,x):S(t)),void 0!==P)return P;if(!C(t))return t;var j=y(t);if(j){if(P=g(t),!O)return u(t,P)}else{var R=h(t),M="[object Function]"==R||"[object GeneratorFunction]"==R;if(b(t))return l(t,O);if("[object Object]"==R||"[object Arguments]"==R||M&&!k){if(P=L||M?{}:v(t),!O)return L?f(t,s(P,t)):c(t,a(P,t))}else{if(!w[R])return k?t:{};P=m(t,R,O)}}x||(x=new r);var N=x.get(t);if(N)return N;x.set(t,P),I(t)?t.forEach((function(r){P.add(e(r,n,S,r,t,x))})):A(t)&&t.forEach((function(r,o){P.set(o,e(r,n,S,o,t,x))}));var F=j?void 0:(D?L?p:d:L?E:_)(t);return o(F||t,(function(r,o){F&&(r=t[o=r]),i(P,o,e(r,n,S,o,t,x))})),P}},function(e,t,n){var r=n(31),o=n(32),i=n(33),a=n(34),s=n(35);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(6),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(6);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(6);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(6);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(38),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(5),o=n(10);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(5),o=n(16);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){(function(e){var r=n(43),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(42)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(44),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(17))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(5),o=n(47);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(5),o=n(49);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(11)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(56),o=n(57),i=n(18);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(8),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(11)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(62),o=n(67);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}},function(e,t,n){var r=n(63),o=n(64),i=n(66);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(65),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(l),r(e,this,u)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(69),o=n(71);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(70),o=n(8);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(7),o=n(12),i=n(73),a=n(8),s=n(13);e.exports=function(e,t,n,l){if(!a(e))return e;for(var u=-1,c=(t=o(t,e)).length,f=c-1,d=e;null!=d&&++u<c;){var p=s(t[u]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(u!=f){var g=d[p];void 0===(h=l?l(g,p,d):void 0)&&(h=a(g)?g:i(t[u+1])?[]:{})}r(d,p,h),d=d[p]}return e}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){"use strict";n.r(t),n.d(t,"MediaPlayer",(function(){return Kt})),n.d(t,"MediaItem",(function(){return ze})),n.d(t,"PlayerType",(function(){return c})),n.d(t,"MediaPlayerConfig",(function(){return tt})),n.d(t,"PlayerTypeConfig",(function(){return $e})),n.d(t,"HLSJSPlayerConfig",(function(){return Oe})),n.d(t,"MediaConfigUtil",(function(){return Ze})),n.d(t,"Log",(function(){return s})),n.d(t,"AbstractPlugin",(function(){return Xt})),n.d(t,"PluginType",(function(){return Zt})),n.d(t,"MediaPlayerEvents",(function(){return E})),n.d(t,"PluginEvents",(function(){return qt})),n.d(t,"Messages",(function(){return Y})),n.d(t,"FeatureDetection",(function(){return Z}));var r=n(1),o=n.n(r),i=n(19),a=n.n(i),s=n(20),l=n(4),u=n.n(l),c={HTML5:"HTML5",HLSJS:"HLSJS"},f=n(2),d=n.n(f),p=n(21);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaPlayerConfig=t,this.playerTypeConfig=t.playerTypeConfig,this.parentEl=void 0,this.videoEl=void 0,this.observationCenter=n}var t,n,r;return t=e,(n=[{key:"initPlayer",value:function(e){throw new Error("Implement initPlayer()")}},{key:"findParentElement",value:function(){throw new Error("Implement findParentElement()")}},{key:"createPlayerElement",value:function(){throw new Error("Implement createPlayerElement()")}},{key:"attachPlayerElement",value:function(){throw new Error("Implement attachPlayerElement()")}},{key:"open",value:function(e){throw new Error("Implement open(media) ".concat(e))}},{key:"replay",value:function(){throw new Error("Implement replay()")}},{key:"stop",value:function(){throw new Error("Implement stop()")}},{key:"canPlay",value:function(e){throw new Error("Implement canPlay(src)")}},{key:"setPoster",value:function(e){throw new Error("Implement setPoster(imgUrl) ".concat(e))}},{key:"play",value:function(){throw new Error("Implement play()")}},{key:"pause",value:function(){throw new Error("Implement pause()")}},{key:"seek",value:function(){throw new Error("Implement seek()")}},{key:"mute",value:function(){throw new Error("Implement mute()")}},{key:"unMute",value:function(){throw new Error("Implement unMute()")}},{key:"setIsAdPlaying",value:function(e){throw new Error("Implement setIsAdPlaying(value)")}},{key:"log",value:function(e){throw new Error("Implement log(message) ".concat(e))}},{key:"getPlayerId",value:function(){throw new Error("Implement getPlayerId()")}},{key:"toString",value:function(){throw new Error("Implement toString()")}}])&&h(t.prototype,n),r&&h(t,r),e}(),m={MEDIA_PLAYER_CREATED:"MEDIA_PLAYER_CREATED",MEDIA_PLAYER_INITIALIZED:"MEDIA_PLAYER_INITIALIZED",MEDIA_REPLAY:"MEDIA_REPLAY",MEDIA_STOP:"MEDIA_STOP",PLAYER_RESIZED:"PLAYER_RESIZED",MEDIA_ITEM_SET:"MEDIA_ITEM_SET"},v={DURATION_CHANGE:"durationchange",MEDIA_COMPLETE:"ended",MEDIA_LOAD_START:"loadstart",CANPLAY:"canplay",MEDIA_LOADED_DATA:"loadeddata",MEDIA_LOADED_META:"loadedmetadata",MEDIA_START:"play",MEDIA_PAUSE:"pause",MEDIA_PLAYING:"playing",MEDIA_RESUME:"resume",MEDIA_SEEKING:"seeking",MEDIA_SEEKED:"seeked",MEDIA_STALLED:"stalled",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",TEXT_TRACKS_AVAILABLE:"texttracksavailable",TEXT_TRACK_ENABLED:"texttrackenabled",TEXT_TRACK_DISABLED:"texttrackdisabled",PROGRESS:"progress",WAITING:"waiting",ABORT:"abort",CANPLAYTHROUGH:"canplaythrough",EMPTIED:"emptied",HTML5_ERROR:"error",INTERRUPTBEGIN:"interruptbegin",INTERRUPTEND:"interruptend",RATECHANGE:"ratechange",SUSPEND:"suspend"},y=n(0),b=n.n(y);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=C(C({},v),b.a.Events),E={HTML5:v,MEDIA_PLAYER:m,HLSJS:_};function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var S=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;w(this,e),this.type=t,this.mediaPlayer=n,this.data=r};function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(n,e);var t=x(n);function n(e,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).event=r,o}return n}(S);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(n,e);var t=R(n);function n(e,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).plugin=r,o}return n}(S);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(n,e);var t=G(n);function n(e,r,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(i=t.call(this,e)).event=r,i.stateModel=o,i}return n}(S);W.PLAYER_STATE_UPDATE="PLAYER_STATE_UPDATE",W.PLAYER_TIME_STATE_UPDATE="PLAYER_TIME_STATE_UPDATE",W.RESET_PLAYER_STATE="RESET_PLAYER_STATE";var Y={BaseMessage:S,EventMessage:L,PluginReadyMessage:F,StateEventMessage:W};function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var K=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.objectPrefix="object!",this.sessionStorageAvailable=!0;try{sessionStorage.setItem("video-player-test",!0),sessionStorage.removeItem("video-player-test")}catch(e){this.sessionStorageAvailable=!1}this.sessionCache=[]}var t,n,r;return t=e,(n=[{key:"set",value:function(e,t){"string"!=typeof t&&(t=this.objectPrefix+JSON.stringify(t)),this.sessionStorageAvailable?sessionStorage.setItem(e,t):u()(this.sessionCache,e,t)}},{key:"get",value:function(e){var t;return(t=this.sessionStorageAvailable?sessionStorage.getItem(e):o()(this.sessionCache,e,null))&&0===t.indexOf(this.objectPrefix)&&(t=JSON.parse(t.substr(this.objectPrefix.length))),t}},{key:"remove",value:function(e){this.sessionStorageAvailable?sessionStorage.removeItem(e):u()(this.sessionCache,e,void 0)}},{key:"clear",value:function(){this.sessionStorageAvailable?sessionStorage.clear():this.sessionCache={}}}])&&z(t.prototype,n),r&&z(t,r),e}());function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sessionCache={}}var t,n,r;return t=e,(n=[{key:"setCachedFeature",value:function(e,t){K.set(e,t)}},{key:"getCachedFeature",value:function(e){return K.get(e)}},{key:"testAutoPlay",value:function(e,t){var n=this,r="autoplay-".concat(e?"muted":"unmuted"),o=this.getCachedFeature(r);if(o)return o;var i,a=(new Date).getTime(),s=["position: absolute","left: 0","bottom: 0","width: 1px","height: 1px"].join(";"),l=document.createElement("video");l.setAttribute("id","autoPlayVideoPlayerTest_".concat(a)),l.setAttribute("src",t||"https://www.mlbstatic.com/mlb.com/mlbtv/video/autoplay-test.mp4"),l.setAttribute("style",s),l.setAttribute("crossOrigin","anonymous"),l.setAttribute("playsinline",!0),l.muted=e,l.controls=!1,l.autoplay=!1,l.loop=!1,document.body.appendChild(l),l.volume=e?0:.1;try{i=l.play().then((function(){return!0}))}catch(e){i=Promise.resolve(!0),this.removeChildNode(l)}return i.then((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n.removeChildNode(l),n.setCachedFeature(r,e),Promise.resolve(e)})).catch((function(){return n.removeChildNode(l),!1}))}},{key:"removeChildNode",value:function(e){var t=e.parentNode;t&&t.removeChild(e)}},{key:"testHTML5Autoplay",value:function(e){return Promise.all([this.testAutoPlay(!1,e),this.testAutoPlay(!0,e)]).then((function(e){var t=q(e,2);return{regular:t[0],muted:t[1]}}))}}])&&X(t.prototype,n),r&&X(t,r),e}());function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.playing=!1,this.paused=!0,this.stopped=!0,this.loading=!1,this.mediaStarted=!1,this.volume={value:1,muted:!1,lastValue:1},this.bufferedValue=0,this.isAdPlaying=!1,this.isFullscreenEnabled=!0,this.isFullscreen=!1,this.closedCaptions={},this.closedCaptionsActive=!1,this.isAudioOnly=!1,this.selectedAudioTrack=void 0,this.selectedBitRate=-1}var t,n,r;return t=e,(n=[{key:"reset",value:function(){this.playing=!1,this.paused=!0}},{key:"setLoadingState",value:function(e){this.loading=e}},{key:"setMediaStartState",value:function(e,t){this.playing=!0,this.paused=!1,this.stopped=!1,this.mediaStarted=!0,this.volume.value=e||this.volume.value,this.volume.muted=t||this.volume.muted}},{key:"setMediaPauseState",value:function(){this.playing=!1,this.paused=!0,this.stopped=!1}},{key:"setMediaCompleteState",value:function(){this.playing=!1,this.paused=!0,this.stopped=!0}},{key:"setVolumeChangeState",value:function(e,t){this.volume.lastValue=this.volume.value,this.volume.value=e,this.volume.muted=t}},{key:"setFullscreenChangeState",value:function(e,t){this.isFullscreen=e,this.isFullscreenEnabled=t}},{key:"setIsAdPlayingState",value:function(e){this.isAdPlaying=e}},{key:"setClosedCaptions",value:function(e){this.closedCaptions=e||{}}},{key:"setClosedCaptionsActiveState",value:function(e){this.closedCaptionsActive=e}}])&&Q(t.prototype,n),r&&Q(t,r),e}();function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var te=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isLive=!1,this.isAtLivePoint=!1,this.seekableRange={start:0,end:0},this.currentTime=0,this.duration=0,this.bufferedValue=0,this.seeking=!1}var t,n,r;return t=e,(n=[{key:"setMediaSeekedState",value:function(){this.seeking=!1}},{key:"setMediaSeekingState",value:function(){this.seeking=!0}},{key:"setMediaTimeupdateState",value:function(e){this.currentTime=e,this.isLive&&this.updateIsAtLivePoint()}},{key:"setMediaDurationChangeState",value:function(e){this.duration=e,this.updateSeekableRange(this.duration),this.isLive&&this.updateIsAtLivePoint()}},{key:"setLevelLoadedState",value:function(e,t,n){this.isLive=e,this.targetduration=t,this.seekableRange.start=n}},{key:"updateSeekableRange",value:function(e){this.isLive?this.seekableRange.end=e-3*this.targetduration:this.seekableRange.end=e}},{key:"updateIsAtLivePoint",value:function(){this.isAtLivePoint=this.seekableRange.end-this.currentTime<8}}])&&ee(t.prototype,n),r&&ee(t,r),e}();function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var o=le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?se(e):t}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(a,e);var t,n,r,i=ie(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).log("BasePlayer constructor",e),n.onPlayerResize=n.onPlayerResize.bind(se(n)),n.stateModel=new J,n.timeStateModel=new te,n.resizeObserver=new p.a(n.onPlayerResize),n.subscriptions=[],n.currentMediaItem=void 0,n}return t=a,(n=[{key:"getPlayerId",value:function(){return this.playerTypeConfig.domTarget}},{key:"detectFeatures",value:function(e){var t=this;return this.log("Detect features"),Z.testHTML5Autoplay(e).then((function(e){t.log("features",e),t.features={autoplay:e}}))}},{key:"initPlayer",value:function(e){var t=this;return this.detectFeatures(e).then((function(){t.setAutoplayConfig(),t.findParentElement(),t.createPlayerElement(),t.attachPlayerElement(),t.subscribe(),t.initListeners();var e=o()(t.playerTypeConfig,"mediaItem");e&&e.src&&t.open(e),t.observationCenter.playerSubject.next(new Y.BaseMessage(E.MEDIA_PLAYER.MEDIA_PLAYER_INITIALIZED,t)),t.observationCenter.playerInitSubject.next(new Y.BaseMessage(E.MEDIA_PLAYER.MEDIA_PLAYER_INITIALIZED,t))}))}},{key:"setAutoplayConfig",value:function(){var e=this.playerTypeConfig,t=e.autoPlay,n=e.clickToPlay,r=o()(this.features,"autoplay.regular",!1),i=o()(this.features,"autoplay.muted",!1);t&&!r&&i&&!n&&(this.playerTypeConfig.mute=!0),this.stateModel.setVolumeChangeState(1,this.playerTypeConfig.mute)}},{key:"findParentElement",value:function(){this.parentEl=document.getElementById(this.getPlayerId())}},{key:"requestFullscreen",value:function(e){this.log("Request fullscreen"),d.a.requestFullscreen(e)}},{key:"exitFullscreen",value:function(){this.log("exit fullscreen"),d.a.exitFullscreen()}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift(),o=this.toString();s.log("".concat(o,": ").concat(r),t)}},{key:"initListeners",value:function(){d.a.fullscreenEnabled&&(d.a.addEventListener("fullscreenchange",this.onFullscreenChange.bind(this)),d.a.addEventListener("fullscreenerror",this.onFullscreenChange.bind(this))),this.resizeObserver.observe(this.parentEl.parentNode)}},{key:"onFullscreenChange",value:function(e){var t=!!d.a.fullscreenElement;this.stateModel.setFullscreenChangeState(t,d.a.fullscreenEnabled),this.observationCenter.stateSubject.next(new Y.StateEventMessage(Y.StateEventMessage.PLAYER_STATE_UPDATE,null,this.stateModel))}},{key:"onFullscreenError",value:function(e){this.log("There was a Fullscreen error ",e)}},{key:"onPlayerResize",value:function(e){var t=e[0].contentRect;this.observationCenter.playerSubject.next(new Y.BaseMessage(E.MEDIA_PLAYER.PLAYER_RESIZED,null,t))}},{key:"updateStateSubject",value:function(e){"empty"!==e.type&&this.observationCenter.stateSubject.next(new Y.StateEventMessage(Y.StateEventMessage.PLAYER_STATE_UPDATE,e,this.stateModel))}},{key:"updatePlayerTimeSubject",value:function(e){"empty"!==e.type&&this.observationCenter.playerTimeSubject.next(new Y.StateEventMessage(Y.StateEventMessage.PLAYER_TIME_STATE_UPDATE,e,this.timeStateModel))}},{key:"subscribe",value:function(){var e=this,t=this.getPlayerEvents(this.playerTypeConfig.playerType),n=this.observationCenter.playerSubject.subscribe((function(n){switch(n.type){case t.WAITING:e.stateModel.setLoadingState(!0),e.updateStateSubject(n);break;case t.CANPLAY:e.stateModel.setLoadingState(!1),e.updateStateSubject(n);break;case t.MEDIA_START:var r=o()(n,"event.target.volume"),i=o()(n,"event.target.muted");e.stateModel.mediaStarted&&e.observationCenter.playerSubject.next(new Y.BaseMessage(t.MEDIA_RESUME,null)),e.stateModel.setMediaStartState(r,i),e.updateStateSubject(n);break;case t.MEDIA_PAUSE:e.stateModel.setMediaPauseState(),e.updateStateSubject(n);break;case t.MEDIA_COMPLETE:e.stateModel.setMediaCompleteState(),e.updateStateSubject(n);break;case t.MEDIA_SEEKED:e.timeStateModel.setMediaSeekedState(),e.updatePlayerTimeSubject(n);break;case t.MEDIA_SEEKING:e.timeStateModel.setMediaSeekingState(),e.updatePlayerTimeSubject(n);break;case t.TIME_UPDATE:e.timeStateModel.setMediaTimeupdateState(o()(n,"event.target.currentTime")),e.updatePlayerTimeSubject(n);break;case t.DURATION_CHANGE:e.timeStateModel.setMediaDurationChangeState(o()(n,"event.target.duration")),e.updatePlayerTimeSubject(n);break;case t.VOLUME_CHANGE:var a=o()(n,"event.target.volume"),s=o()(n,"event.target.muted");e.stateModel.setVolumeChangeState(a,s),e.updateStateSubject(n);break;case t.LEVEL_LOADED:var l=o()(n,"data.details.live"),u=o()(n,"data.details.targetduration"),c=o()(n,"data.details.fragments[0].start");e.timeStateModel.setLevelLoadedState(l,u,c),e.updatePlayerTimeSubject(n);break;case t.TEXT_TRACKS_AVAILABLE:e.stateModel.setClosedCaptions(n.data),e.updateStateSubject(n);break;case t.TEXT_TRACK_ENABLED:e.stateModel.setClosedCaptionsActiveState(!0),e.updateStateSubject(n);break;case t.TEXT_TRACK_DISABLED:e.stateModel.setClosedCaptionsActiveState(!1),e.updateStateSubject(n)}}));this.subscriptions.push(n)}},{key:"unsubscribe",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))}},{key:"getPlayerEvents",value:function(e){return E[e]}},{key:"play",value:function(){var e=this;return this.videoEl?this.videoEl.play().catch((function(t){s.debug("There was an error calling play()",t),e.stateModel.reset(),e.updateStateSubject({type:Y.StateEventMessage.RESET_PLAYER_STATE})})):(s.debug("BasePlayer: videoEl not ready."),Promise.reject(new Error("BasePlayer: videoEl not ready.")))}},{key:"pause",value:function(){this.videoEl.pause()}},{key:"replay",value:function(){this.videoEl.currentTime=0,this.videoEl.play()}},{key:"stop",value:function(){this.videoEl.currentTime=0,this.videoEl.pause()}},{key:"setPoster",value:function(e){this.videoEl.setAttribute("poster",e)}},{key:"seek",value:function(e){this.videoEl.currentTime=e}},{key:"mute",value:function(){this.videoEl.muted=!0}},{key:"unMute",value:function(){this.videoEl.muted=!1}},{key:"setVolume",value:function(e){this.videoEl.volume=e}},{key:"setIsAdPlaying",value:function(e){this.stateModel.setIsAdPlayingState(e),this.observationCenter.stateSubject.next(new Y.StateEventMessage(Y.StateEventMessage.PLAYER_STATE_UPDATE,null,this.stateModel))}},{key:"destroy",value:function(){this.parentEl&&this.resizeObserver.unobserve(this.parentEl.parentNode),this.unsubscribe(),d.a.removeEventListener("fullscreenchange",this.onFullscreenChange),d.a.removeEventListener("fullscreenerror",this.onFullscreenError)}},{key:"toString",value:function(){return"BasePlayer"}}])&&re(t.prototype,n),r&&re(t,r),a}(g);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var o=he(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(n,e);var t=de(n);function n(e,r,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(i=t.call(this,e,null,o)).event=r,i.data=o,i}return n}(S);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t,n){return(ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ie(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ie(e);if(t){var o=Ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ce(this,n)}}function Ce(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(a,e);var t,n,r,i=Ae(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).playerSubject=n.observationCenter.playerSubject,n.playerInitSubject=n.observationCenter.playerInitSubject,n.playerTimeSubject=n.observationCenter.playerTimeSubject,n.playerSubject=n.observationCenter.playerSubject,n.currentVttItems=void 0,n.captionsIndex=0,n.captionsShowing=!1,n.boundListeners={},n.bindListeners(),n}return t=a,(n=[{key:"bindListeners",value:function(){this.boundListeners[E.HTML5.MEDIA_LOAD_START]=this.onMediaLoadStart.bind(this),this.boundListeners[E.HTML5.CANPLAY]=this.onMediaCanPlay.bind(this),this.boundListeners[E.HTML5.MEDIA_START]=this.onMediaStart.bind(this),this.boundListeners[E.HTML5.MEDIA_LOADED_DATA]=this.onLoadedData.bind(this),this.boundListeners[E.HTML5.MEDIA_LOADED_META]=this.onLoadedMetadata.bind(this),this.boundListeners[E.HTML5.PROGRESS]=this.onProgress.bind(this),this.boundListeners[E.HTML5.WAITING]=this.onWaiting.bind(this),this.boundListeners[E.HTML5.MEDIA_PAUSE]=this.onMediaPause.bind(this),this.boundListeners[E.HTML5.MEDIA_PLAYING]=this.onMediaPlaying.bind(this),this.boundListeners[E.HTML5.MEDIA_SEEKING]=this.onMediaSeeking.bind(this),this.boundListeners[E.HTML5.MEDIA_SEEKED]=this.onMediaSeeked.bind(this),this.boundListeners[E.HTML5.MEDIA_STALLED]=this.onMediaStalled.bind(this),this.boundListeners[E.HTML5.MEDIA_COMPLETE]=this.onMediaComplete.bind(this),this.boundListeners[E.HTML5.TIME_UPDATE]=this.onTimeUpdate.bind(this),this.boundListeners[E.HTML5.DURATION_CHANGE]=this.onDurationChange.bind(this),this.boundListeners[E.HTML5.VOLUME_CHANGE]=this.onVolumeChange.bind(this)}},{key:"createPlayerElement",value:function(){var e=document.createElement("video");e.controls=this.playerTypeConfig.controls,e.loop=this.playerTypeConfig.loop,e.muted=this.playerTypeConfig.mute,isNaN(this.playerTypeConfig.poster)||e.setAttribute("poster",this.playerTypeConfig.poster),isNaN(this.playerTypeConfig.width)||e.setAttribute("width",this.playerTypeConfig.width),isNaN(this.playerTypeConfig.height)||e.setAttribute("height",this.playerTypeConfig.height),this.playerTypeConfig.playsInline&&e.setAttribute("playsinline",this.playerTypeConfig.playsInline),this.playerTypeConfig.crossOrigin&&e.setAttribute("crossorigin",this.playerTypeConfig.crossOrigin),this.playerTypeConfig.preload&&e.setAttribute("preload",this.playerTypeConfig.preload),this.videoEl=e,this.initListeners()}},{key:"initListeners",value:function(){ye(Ie(a.prototype),"initListeners",this).call(this),this.videoEl.addEventListener(E.HTML5.MEDIA_LOAD_START,this.boundListeners[E.HTML5.MEDIA_LOAD_START]),this.videoEl.addEventListener(E.HTML5.CANPLAY,this.boundListeners[E.HTML5.CANPLAY]),this.videoEl.addEventListener(E.HTML5.MEDIA_START,this.boundListeners[E.HTML5.MEDIA_START]),this.videoEl.addEventListener(E.HTML5.MEDIA_LOADED_DATA,this.boundListeners[E.HTML5.MEDIA_LOADED_DATA]),this.videoEl.addEventListener(E.HTML5.MEDIA_LOADED_META,this.boundListeners[E.HTML5.MEDIA_LOADED_META]),this.videoEl.addEventListener(E.HTML5.PROGRESS,this.boundListeners[E.HTML5.PROGRESS]),this.videoEl.addEventListener(E.HTML5.WAITING,this.boundListeners[E.HTML5.WAITING]),this.videoEl.addEventListener(E.HTML5.MEDIA_PAUSE,this.boundListeners[E.HTML5.MEDIA_PAUSE]),this.videoEl.addEventListener(E.HTML5.MEDIA_PLAYING,this.boundListeners[E.HTML5.MEDIA_PLAYING]),this.videoEl.addEventListener(E.HTML5.MEDIA_SEEKING,this.boundListeners[E.HTML5.MEDIA_SEEKING]),this.videoEl.addEventListener(E.HTML5.MEDIA_SEEKED,this.boundListeners[E.HTML5.MEDIA_SEEKED]),this.videoEl.addEventListener(E.HTML5.MEDIA_STALLED,this.boundListeners[E.HTML5.MEDIA_STALLED]),this.videoEl.addEventListener(E.HTML5.MEDIA_COMPLETE,this.boundListeners[E.HTML5.MEDIA_COMPLETE]),this.videoEl.addEventListener(E.HTML5.TIME_UPDATE,this.boundListeners[E.HTML5.TIME_UPDATE]),this.videoEl.addEventListener(E.HTML5.DURATION_CHANGE,this.boundListeners[E.HTML5.DURATION_CHANGE]),this.videoEl.addEventListener(E.HTML5.VOLUME_CHANGE,this.boundListeners[E.HTML5.VOLUME_CHANGE])}},{key:"removeListeners",value:function(){this.videoEl.removeEventListener(E.HTML5.MEDIA_LOAD_START,this.boundListeners[E.HTML5.MEDIA_LOAD_START]),this.videoEl.removeEventListener(E.HTML5.CANPLAY,this.boundListeners[E.HTML5.CANPLAY]),this.videoEl.removeEventListener(E.HTML5.MEDIA_START,this.boundListeners[E.HTML5.MEDIA_START]),this.videoEl.removeEventListener(E.HTML5.MEDIA_LOADED_DATA,this.boundListeners[E.HTML5.MEDIA_LOADED_DATA]),this.videoEl.removeEventListener(E.HTML5.MEDIA_LOADED_META,this.boundListeners[E.HTML5.MEDIA_LOADED_META]),this.videoEl.removeEventListener(E.HTML5.WAITING,this.boundListeners[E.HTML5.WAITING]),this.videoEl.removeEventListener(E.HTML5.PROGRESS,this.boundListeners[E.HTML5.PROGRESS]),this.videoEl.removeEventListener(E.HTML5.MEDIA_PAUSE,this.boundListeners[E.HTML5.MEDIA_PAUSE]),this.videoEl.removeEventListener(E.HTML5.MEDIA_PLAYING,this.boundListeners[E.HTML5.MEDIA_PLAYING]),this.videoEl.removeEventListener(E.HTML5.MEDIA_SEEKING,this.boundListeners[E.HTML5.MEDIA_SEEKING]),this.videoEl.removeEventListener(E.HTML5.MEDIA_SEEKED,this.boundListeners[E.HTML5.MEDIA_SEEKED]),this.videoEl.removeEventListener(E.HTML5.MEDIA_STALLED,this.boundListeners[E.HTML5.MEDIA_STALLED]),this.videoEl.removeEventListener(E.HTML5.MEDIA_COMPLETE,this.boundListeners[E.HTML5.MEDIA_COMPLETE]),this.videoEl.removeEventListener(E.HTML5.TIME_UPDATE,this.boundListeners[E.HTML5.TIME_UPDATE]),this.videoEl.removeEventListener(E.HTML5.DURATION_CHANGE,this.boundListeners[E.HTML5.DURATION_CHANGE]),this.videoEl.removeEventListener(E.HTML5.VOLUME_CHANGE,this.boundListeners[E.HTML5.VOLUME_CHANGE])}},{key:"attachPlayerElement",value:function(){this.parentEl.insertBefore(this.videoEl,this.parentEl.firstChild)}},{key:"clearExistingTrackNodes",value:function(){for(var e=this.videoEl.querySelectorAll("track")||[],t=e.length,n=0;n<t;n++){var r=e[n];this.videoEl.removeChild(r)}}},{key:"createTrackNodes",value:function(e){var t=this,n=[];if(this.clearExistingTrackNodes(),this.currentVttItems!==e){this.currentVttItems=e;for(var r=e.length,i=0,a=function(){var r=e[i];n.push(new Promise((function(e){r.id="".concat(r.label," captions");var n=document.createElement("track");n.onload=e.bind(t,r),n.setAttribute("label",r.label),n.setAttribute("kind",r.kind),n.setAttribute("language",r.srclang),n.setAttribute("src",r.src),n.setAttribute("id",r.id),n.default=r.default,t.videoEl.appendChild(n)})))};i<r;i++)a();Promise.all(n).then((function(e){var n=o()(t.videoEl,"textTracks",[]),r=!1;if(n.length){for(var i=[].slice.call(n),a=i.length,s=0,l=function(){var t=i[s];if("disabled"!==t.mode){var n=e.findIndex((function(e){return o()(e,"id")===o()(t,"id")}));t.isVttFile=-1!==n,t.mode="hidden",r=!0}};s<a;s++)l();r&&t.playerSubject.next(new ge(E.HTML5.TEXT_TRACKS_AVAILABLE,null,n)),t.captionsShowing&&t.showClosedCaptions(t.captionsIndex)}}))}}},{key:"showClosedCaptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=o()(this.videoEl,"textTracks.".concat(e));t&&(this.captionsIndex=e,this.captionsShowing=!0,t.mode="showing",this.playerSubject.next(new ge(E.HTML5.TEXT_TRACK_ENABLED,null,t)))}},{key:"hideClosedCaptions",value:function(){var e=this,t=o()(this.videoEl,"textTracks",[]);Array.from(t).forEach((function(t){e.captionsShowing=!1,t.mode="hidden"})),this.playerSubject.next(new ge(E.HTML5.TEXT_TRACK_DISABLED,null,t))}},{key:"canPlay",value:function(e){return new RegExp("(.mp4|.ogg|.webm|.mp3)","i").test(e)}},{key:"open",value:function(e){if(!e.src)throw new Error('MediaItem must have a "src" property.');this.currentMediaItem=e,this.videoEl.setAttribute("src",this.currentMediaItem.src),this.setPoster(this.currentMediaItem.poster),this.playerSubject.next(new S(E.MEDIA_PLAYER.MEDIA_ITEM_SET,this,e)),this.playerInitSubject.next(new S(E.MEDIA_PLAYER.MEDIA_ITEM_SET,this,e))}},{key:"play",value:function(){var e=this.videoEl.play();return e?e.then((function(){return!0})).catch((function(e){return s.debug("Error calling play",e),!1})):(s.error("Error calling play (no promise)"),Promise.resolve(!1))}},{key:"pause",value:function(){this.videoEl.pause()}},{key:"replay",value:function(){this.videoEl.currentTime=0,this.videoEl.play()}},{key:"stop",value:function(){this.videoEl&&(this.videoEl.currentTime>0&&(this.videoEl.currentTime=0),this.videoEl.paused||this.videoEl.pause(),this.playerSubject.next(new ge(E.MEDIA_PLAYER.MEDIA_STOP,event)))}},{key:"setPoster",value:function(e){e&&""!==e&&this.videoEl.setAttribute("poster",e)}},{key:"seek",value:function(e){this.videoEl.currentTime=e}},{key:"destroy",value:function(){ye(Ie(a.prototype),"destroy",this).call(this),this.videoEl&&(this.removeListeners(),o()(this.videoEl,"parentNode").removeChild(this.videoEl))}},{key:"onMediaLoadStart",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_LOAD_START,e))}},{key:"onMediaCanPlay",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.CANPLAY,e))}},{key:"onMediaStart",value:function(e,t){var n=o()(this.currentMediaItem,"metaData",null);this.playerSubject.next(new ge(E.HTML5.MEDIA_START,e,n))}},{key:"onLoadedData",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_LOADED_DATA,e))}},{key:"onLoadedMetadata",value:function(e,t){this.createTrackNodes(this.currentMediaItem.vttItems),this.playerSubject.next(new ge(E.HTML5.MEDIA_LOADED_META,e))}},{key:"onProgress",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.PROGRESS,e))}},{key:"onWaiting",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.WAITING,e))}},{key:"onMediaPause",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_PAUSE,e))}},{key:"onMediaPlaying",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_PLAYING,e))}},{key:"onMediaSeeking",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_SEEKING,e))}},{key:"onMediaSeeked",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_SEEKED,e))}},{key:"onMediaStalled",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_STALLED,e))}},{key:"onMediaComplete",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_COMPLETE,e))}},{key:"onTimeUpdate",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.TIME_UPDATE,e))}},{key:"onDurationChange",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.DURATION_CHANGE,e))}},{key:"onVolumeChange",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.VOLUME_CHANGE,e))}},{key:"removeDefaultControls",value:function(){this.videoEl.controls=""}},{key:"toString",value:function(){return"HTML5Player"}}])&&ve(t.prototype,n),r&&ve(t,r),a}(ue);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Te(this,n)}}function Te(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(n,e);var t=Se(n);function n(e,r,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,e,r,o)}return n}(S),Pe=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Oe=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.autoStartLoad=!0,this.startPosition=-1,this.capLevelToPlayerSize=!1,this.debug=!1,this.defaultAudioCodec=void 0,this.initialLiveManifestSize=1,this.maxBufferLength=30,this.maxMaxBufferLength=600,this.maxBufferSize=6e7,this.maxBufferHole=.5,this.lowBufferWatchdogPeriod=.5,this.highBufferWatchdogPeriod=3,this.nudgeOffset=.1,this.nudgeMaxRetry=3,this.maxFragLookUpTolerance=.2,this.liveSyncDurationCount=3,this.liveMaxLatencyDurationCount=1/0,this.liveSyncDuration=void 0,this.liveMaxLatencyDuration=void 0,this.liveDurationInfinity=!1,this.liveBackBufferLength=1/0,this.enableWorker=!0,this.enableSoftwareAES=!0,this.manifestLoadingTimeOut=1e4,this.manifestLoadingMaxRetry=1,this.manifestLoadingRetryDelay=500,this.manifestLoadingMaxRetryTimeout=64e3,this.startLevel=void 0,this.levelLoadingTimeOut=1e4,this.levelLoadingMaxRetry=4,this.levelLoadingRetryDelay=500,this.levelLoadingMaxRetryTimeout=64e3,this.fragLoadingTimeOut=2e4,this.fragLoadingMaxRetry=6,this.fragLoadingRetryDelay=500,this.fragLoadingMaxRetryTimeout=64e3,this.startFragPrefetch=!1,this.appendErrorMaxRetry=3,t&&t.hasOwnProperty("loader")&&(this.loader=t.loader),t&&t.hasOwnProperty("fLoader")&&(this.fLoader=t.fLoader),t&&t.hasOwnProperty("pLoader")&&(this.pLoader=t.pLoader),t&&t.hasOwnProperty("xhrSetup")&&(this.xhrSetup=t.xhrSetup),t&&t.hasOwnProperty("fetchSetup")&&(this.fetchSetup=t.fetchSetup),t&&t.hasOwnProperty("abrController")&&(this.abrController=t.abrController),t&&t.hasOwnProperty("timelineController")&&(this.timelineController=t.timelineController),this.enableWebVTT=!0,this.enableCEA708Captions=!0,this.subtitleDisplay=!1,this.captionsTextTrack1Label="English",this.stretchShortVideoTrack=!1,this.maxAudioFramesDrift=1,this.forceKeyFrameOnDiscontinuity=!0,this.abrEwmaFastLive=5,this.abrEwmaSlowLive=9,this.abrEwmaFastVoD=4,this.abrEwmaSlowVoD=15,this.abrEwmaDefaultEstimate=5e5,this.abrBandWidthFactor=.95,this.abrBandWidthUpFactor=.7,this.minAutoBitrate=0,Pe(this,t)};function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t,n){return(je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fe(e);if(t){var o=Fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ne(this,n)}}function Ne(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ue={HTML5:_e,HLSJS:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(a,e);var t,n,r,i=Me(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).hls=void 0,n.playerSubject=n.observationCenter.playerSubject,n.playerInitSubject=n.observationCenter.playerInitSubject;var r=o()(n.playerTypeConfig,"hlsjsPlayerConfig",{});return n.hlsjsPlayerConfig=new Oe(r),n.recovering=!1,n.bindListeners(),n.hls=new b.a(n.hlsjsPlayerConfig),n}return t=a,(n=[{key:"bindListeners",value:function(){je(Fe(a.prototype),"bindListeners",this).call(this),this.boundListeners[b.a.Events.MEDIA_ATTACHING]=this.onMediaAttaching.bind(this),this.boundListeners[b.a.Events.MEDIA_ATTACHED]=this.onMediaAttached.bind(this),this.boundListeners[b.a.Events.MEDIA_DETACHING]=this.onMediaDetaching.bind(this),this.boundListeners[b.a.Events.MEDIA_DETACHED]=this.onMediaDetached.bind(this),this.boundListeners[b.a.Events.BUFFER_RESET]=this.onBufferReset.bind(this),this.boundListeners[b.a.Events.BUFFER_CREATED]=this.onBufferCreated.bind(this),this.boundListeners[b.a.Events.BUFFER_APPENDING]=this.onBufferAppending.bind(this),this.boundListeners[b.a.Events.BUFFER_APPENDED]=this.onBufferAppended.bind(this),this.boundListeners[b.a.Events.BUFFER_CODECS]=this.onBufferCodecs.bind(this),this.boundListeners[b.a.Events.BUFFER_EOS]=this.onBufferEos.bind(this),this.boundListeners[b.a.Events.BUFFER_FLUSHING]=this.onBufferFlushing.bind(this),this.boundListeners[b.a.Events.BUFFER_FLUSHED]=this.onBufferFlushed.bind(this),this.boundListeners[b.a.Events.ERROR]=this.onError.bind(this),this.boundListeners[b.a.Events.MANIFEST_LOADING]=this.onManifestLoading.bind(this),this.boundListeners[b.a.Events.MANIFEST_LOADED]=this.onManifestLoaded.bind(this),this.boundListeners[b.a.Events.MANIFEST_PARSED]=this.onManifestParsed.bind(this),this.boundListeners[b.a.Events.LEVEL_SWITCHING]=this.onLevelSwitching.bind(this),this.boundListeners[b.a.Events.LEVEL_SWITCHED]=this.onLevelSwitched.bind(this),this.boundListeners[b.a.Events.LEVEL_LOADING]=this.onLevelLoading.bind(this),this.boundListeners[b.a.Events.LEVEL_LOADED]=this.onLevelLoaded.bind(this),this.boundListeners[b.a.Events.LEVEL_UPDATED]=this.onLevelUpdated.bind(this),this.boundListeners[b.a.Events.LEVEL_PTS_UPDATED]=this.onLevelPtsUpdated.bind(this),this.boundListeners[b.a.Events.AUDIO_TRACKS_UPDATED]=this.onAudioTracksUpdated.bind(this),this.boundListeners[b.a.Events.AUDIO_TRACK_SWITCHING]=this.onAudioTrackSwitching.bind(this),this.boundListeners[b.a.Events.AUDIO_TRACK_SWITCHED]=this.onAudioTrackSwitched.bind(this),this.boundListeners[b.a.Events.AUDIO_TRACK_LOADING]=this.onAudioTrackLoading.bind(this),this.boundListeners[b.a.Events.AUDIO_TRACK_LOADED]=this.onAudioTrackLoaded.bind(this),this.boundListeners[b.a.Events.SUBTITLE_TRACKS_UPDATED]=this.onSubtitleTracksUpdated.bind(this),this.boundListeners[b.a.Events.SUBTITLE_TRACK_SWITCH]=this.onSubtitleTrackSwitch.bind(this),this.boundListeners[b.a.Events.SUBTITLE_TRACK_LOADING]=this.onSubtitleTrackLoading.bind(this),this.boundListeners[b.a.Events.SUBTITLE_TRACK_LOADED]=this.onSubtitleTrackLoaded.bind(this),this.boundListeners[b.a.Events.SUBTITLE_FRAG_PROCESSED]=this.onSubtitleFragProcessed.bind(this),this.boundListeners[b.a.Events.INIT_PTS_FOUND]=this.onInitPtsFound.bind(this),this.boundListeners[b.a.Events.FRAG_LOADING]=this.onFragLoading.bind(this),this.boundListeners[b.a.Events.FRAG_LOAD_PROGRESS]=this.onFragLoadProgress.bind(this),this.boundListeners[b.a.Events.FRAG_LOAD_EMERGENCY_ABORTED]=this.onFragLoadEmergencyAborted.bind(this),this.boundListeners[b.a.Events.FRAG_LOADED]=this.onFragLoaded.bind(this),this.boundListeners[b.a.Events.FRAG_DECRYPTED]=this.onFragDecrypted.bind(this),this.boundListeners[b.a.Events.FRAG_PARSING_INIT_SEGMENT]=this.onFragParsingInitSegment.bind(this),this.boundListeners[b.a.Events.FRAG_PARSING_USERDATA]=this.onFragParsingUserdata.bind(this),this.boundListeners[b.a.Events.FRAG_PARSING_METADATA]=this.onFragParsingMetadata.bind(this),this.boundListeners[b.a.Events.FRAG_PARSING_DATA]=this.onFragParsingData.bind(this),this.boundListeners[b.a.Events.FRAG_PARSED]=this.onFragParsed.bind(this),this.boundListeners[b.a.Events.FRAG_BUFFERED]=this.onFragBuffered.bind(this),this.boundListeners[b.a.Events.FRAG_CHANGED]=this.onFragChanged.bind(this),this.boundListeners[b.a.Events.FPS_DROP]=this.onFpsDrop.bind(this),this.boundListeners[b.a.Events.FPS_DROP_LEVEL_CAPPING]=this.onFpsDropLevelCapping.bind(this),this.boundListeners[b.a.Events.DESTROYING]=this.onDestroying.bind(this),this.boundListeners[b.a.Events.KEY_LOADING]=this.onKeyLoading.bind(this),this.boundListeners[b.a.Events.KEY_LOADED]=this.onKeyLoaded.bind(this),this.boundListeners[b.a.Events.STREAM_STATE_TRANSITION]=this.onStreamStateTransition.bind(this)}},{key:"createPlayerElement",value:function(){this.playerEvents=this.getPlayerEvents(this.playerTypeConfig.playerType),je(Fe(a.prototype),"createPlayerElement",this).call(this)}},{key:"attachPlayerElement",value:function(){this.parentEl.insertBefore(this.videoEl,this.parentEl.firstChild)}},{key:"canPlay",value:function(e){return new RegExp("(.m3u8|format=m3u8)","i").test(e)}},{key:"play",value:function(){return this.hls.config.autoStartLoad||this.hls.startLoad(),je(Fe(a.prototype),"play",this).call(this)}},{key:"open",value:function(e){e.src&&(this.hls&&(this.hls.detachMedia(),this.removeHlsListeners()),this.currentMediaItem=e,this.hls.subtitleDisplay=o()(this.hlsjsPlayerConfig,"subtitleDisplay",!0),this.initHlsListeners(),this.setPoster(e.poster),this.hls.loadSource(e.src),this.hls.attachMedia(this.videoEl),this.playerSubject.next(new S(m.MEDIA_ITEM_SET,this,e)),this.playerInitSubject.next(new S(m.MEDIA_ITEM_SET,this,e)))}},{key:"jumpToLive",value:function(){this.videoEl.currentTime=this.timeStateModel.seekableRange.end}},{key:"createTrackNodes",value:function(e){if(this.hls.subtitleTracks.length){var t=o()(this.videoEl,"textTracks",[]);this.playerSubject.next(new ge(E.HTML5.TEXT_TRACKS_AVAILABLE,null,t))}else this.currentMediaItem.vttItems.length&&(this.hls.subtitleTrack=-1,this.captionsShowing=!1,je(Fe(a.prototype),"createTrackNodes",this).call(this,this.currentMediaItem.vttItems))}},{key:"showClosedCaptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.hls.subtitleTracks.length&&(this.hls.subtitleTrack=e),je(Fe(a.prototype),"showClosedCaptions",this).call(this,e)}},{key:"hideClosedCaptions",value:function(){this.hls.subtitleTracks.length&&(this.hls.subtitleTrack=-1),je(Fe(a.prototype),"hideClosedCaptions",this).call(this)}},{key:"destroy",value:function(){this.hls&&(this.removeHlsListeners(),this.hls.destroy()),je(Fe(a.prototype),"destroy",this).call(this)}},{key:"initHlsListeners",value:function(){var e=this;this.hls&&Object.keys(b.a.Events).forEach((function(t){var n=e.boundListeners[b.a.Events[t]];n&&e.hls.on(b.a.Events[t],n)}))}},{key:"removeListeners",value:function(){je(Fe(a.prototype),"removeListeners",this).call(this),this.removeHlsListeners()}},{key:"removeHlsListeners",value:function(){var e=this;Object.keys(b.a.Events).forEach((function(t){e.hls.off(b.a.Events[t],e.boundListeners[b.a.Events[t]])}))}},{key:"recoverMediaError",value:function(){this.recovering=!0,this.hls.recoverMediaError()}},{key:"onError",value:function(e,t){switch(t.type,t.details,t.fatal,this.playerSubject.next(new xe(b.a.Events.ERROR,this,t)),t.type){case b.a.ErrorTypes.NETWORK_ERROR:this.hls.startLoad();break;case b.a.ErrorTypes.MEDIA_ERROR:this.recoverMediaError()}}},{key:"onLoadedMetadata",value:function(e,t){this.playerSubject.next(new ge(E.HTML5.MEDIA_LOADED_META,e))}},{key:"onMediaAttaching",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.MEDIA_ATTACHING,this,t))}},{key:"onMediaAttached",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.MEDIA_ATTACHED,this,t)),this.recovering&&!this.stateModel.paused&&this.play(),this.recovering=!1}},{key:"onMediaDetaching",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.MEDIA_DETACHING,this,t))}},{key:"onMediaDetached",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.MEDIA_DETACHED,this,t))}},{key:"onBufferReset",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_RESET,this,t))}},{key:"onBufferCreated",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_CREATED,this,t))}},{key:"onBufferAppending",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_APPENDING,this,t))}},{key:"onBufferAppended",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_APPENDED,this,t))}},{key:"onBufferCodecs",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_CODECS,this,t))}},{key:"onBufferEos",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_EOS,this,t))}},{key:"onBufferFlushing",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_FLUSHING,this,t))}},{key:"onBufferFlushed",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.BUFFER_FLUSHED,this,t))}},{key:"onManifestLoading",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.MANIFEST_LOADING,this,t))}},{key:"onManifestLoaded",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.MANIFEST_LOADED,this,t))}},{key:"onManifestParsed",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.MANIFEST_PARSED,this,t))}},{key:"onLevelSwitching",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.LEVEL_SWITCHING,this,t))}},{key:"onLevelSwitched",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.LEVEL_SWITCHED,this,t))}},{key:"onLevelLoading",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.LEVEL_LOADING,this,t))}},{key:"onLevelLoaded",value:function(e,t){this.fragmentDuration=t.details.targetduration,this.playerSubject.next(new xe(b.a.Events.LEVEL_LOADED,this,t))}},{key:"onLevelUpdated",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.LEVEL_UPDATED,this,t))}},{key:"onLevelPtsUpdated",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.LEVEL_PTS_UPDATED,this,t))}},{key:"onAudioTracksUpdated",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.AUDIO_TRACKS_UPDATED,this,t))}},{key:"onAudioTrackSwitching",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.AUDIO_TRACK_SWITCHING,this,t))}},{key:"onAudioTrackSwitched",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.AUDIO_TRACK_SWITCHED,this,t))}},{key:"onAudioTrackLoading",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.AUDIO_TRACK_LOADING,this,t))}},{key:"onAudioTrackLoaded",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.AUDIO_TRACK_LOADED,this,t))}},{key:"onSubtitleTracksUpdated",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.SUBTITLE_TRACKS_UPDATED,this,t)),this.createTrackNodes()}},{key:"onSubtitleTrackSwitch",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.SUBTITLE_TRACK_SWITCH,this,t))}},{key:"onSubtitleTrackLoading",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.SUBTITLE_TRACK_LOADING,this,t))}},{key:"onSubtitleTrackLoaded",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.SUBTITLE_TRACK_LOADED,this,t))}},{key:"onSubtitleFragProcessed",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.SUBTITLE_FRAG_PROCESSED,this,t))}},{key:"onInitPtsFound",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.INIT_PTS_FOUND,this,t))}},{key:"onFragLoading",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_LOADING,this,t))}},{key:"onFragLoadProgress",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_LOAD_PROGRESS,this,t))}},{key:"onFragLoadEmergencyAborted",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_LOAD_EMERGENCY_ABORTED,this,t))}},{key:"onFragLoaded",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_LOADED,this,t))}},{key:"onFragDecrypted",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_DECRYPTED,this,t))}},{key:"onFragParsingInitSegment",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_PARSING_INIT_SEGMENT,this,t))}},{key:"onFragParsingUserdata",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_PARSING_USERDATA,this,t))}},{key:"onFragParsingMetadata",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_PARSING_METADATA,this,t))}},{key:"onFragParsingData",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_PARSING_DATA,this,t))}},{key:"onFragParsed",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_PARSED,this,t))}},{key:"onFragBuffered",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_BUFFERED,this,t))}},{key:"onFragChanged",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FRAG_CHANGED,this,t))}},{key:"onFpsDrop",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FPS_DROP,this,t))}},{key:"onFpsDropLevelCapping",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.FPS_DROP_LEVEL_CAPPING,this,t))}},{key:"onDestroying",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.DESTROYING,this,t))}},{key:"onKeyLoaded",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.KEY_LOADED,this,t))}},{key:"onKeyLoading",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.KEY_LOADING,this,t))}},{key:"onStreamStateTransition",value:function(e,t){this.playerSubject.next(new xe(b.a.Events.STREAM_STATE_TRANSITION,this,t))}},{key:"toString",value:function(){return"HLSJSPlayer"}}])&&De(t.prototype,n),r&&De(t,r),a}(_e)},Ge=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"create",value:function(t,n){return new(e.getPlayerToCreate(t.playerTypeConfig))(t,n)}},{key:"getPlayerObjectByType",value:function(e){return Ue[e]}},{key:"getPlayerTypeFromSource",value:function(e,t){var n=/(\.mp4|\.mp3|\.ogg|\.webm)/i.test(e),r=/(\.m3u8|format=m3u8)/i.test(e),o=t.is.ios;return!r||o||n?c.HTML5:c.HLSJS}},{key:"getPlayerToCreate",value:function(t){var n=o()(t,"mediaItem"),r=o()(t,"deviceInfo"),i=o()(t,"forcePlayerType",!1),a=o()(t,"playerType",c.HTML5);return i||(a=e.getPlayerTypeFromSource(n.src,r),u()(t,"playerType",a)),e.getPlayerObjectByType(a)}}],(n=null)&&Be(t.prototype,n),r&&Be(t,r),e}(),He=n(3),Ve=n.n(He),We=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.label=o()(t,"label","English"),this.kind=o()(t,"kind","subtitles"),this.srclang=o()(t,"srclang"),this.src=o()(t,"src"),this.default=o()(t,"default",!1)};function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ze=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.src=o()(t,"src"),this.type=o()(t,"type"),this.vttItems=this.getVttItems(o()(t,"vttItems",[])),this.poster=o()(t,"poster"),this.metaData=o()(t,"metaData")}var t,n,r;return t=e,(n=[{key:"getVttItems",value:function(e){var t=[];return e.forEach((function(e){t.push(new We(e))})),t}}])&&Ye(t.prototype,n),r&&Ye(t,r),e}();function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ke(this,e);var n={domTarget:"media-player",forcePlayerType:!1,playerType:c.HTML5,controls:!0,autoplay:!0,playsinline:!0,crossorigin:"anonymous",width:void 0,height:void 0,loop:!1,mediaItem:{src:void 0,type:void 0,poster:void 0},mute:!1,preload:"metadata",deviceInfo:{userAgent:void 0,is:{ios:void 0,blackberry:void 0,android:void 0,windowsphone:void 0,windows:void 0,linux:void 0,macintosh:void 0,webkit:void 0,gecko:void 0,trident:void 0,chrome:void 0,firefox:void 0,opera:void 0,operamini:void 0,msie:void 0,silk:void 0,safari:void 0,tablet:void 0,phone:void 0,desktop:void 0},platform:void 0,platformVersion:void 0,browser:void 0,browserVersion:void 0,formFactor:void 0}};this.config=Ve()(n,o()(t,"playerTypeConfig",{})),this._mediaItem=new ze(o()(this.config,"mediaItem")),this.playerType=o()(this.config,"playerType",c.HTML5),this.domTarget=o()(this.config,"domTarget","media-player"),this.controls=o()(this.config,"controls",!0),this.autoPlay=o()(this.config,"autoplay",!0),this.clickToPlay=o()(this.config,"clickToPlay",!1),this.playsInline=o()(this.config,"shouldPlayInline",!0),this.crossOrigin=o()(this.config,"crossorigin","anonymous"),this.width=o()(this.config,"width"),this.height=o()(this.config,"height"),this.loop=o()(this.config,"loop",!1),this.mute=o()(this.config,"mute",!1),this.preload=o()(this.config,"preload","metadata"),this.deviceInfo=o()(this.config,"deviceInfo",n.deviceInfo),this.hlsjsPlayerConfig=o()(this.config,"hlsjsPlayerConfig",void 0)}var t,n,r;return t=e,(n=[{key:"mediaItem",get:function(){return!this._mediaItem instanceof ze&&(this._mediaItem=new ze(this._mediaItem)),this._mediaItem},set:function(e){this._mediaItem=new ze(e)}}])&&qe(t.prototype,n),r&&qe(t,r),e}();function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ze=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"create",value:function(t){return e.createMediaPlayerConfig(t)}},{key:"createMediaPlayerConfig",value:function(e){return new tt(e)}},{key:"createPlayerTypeConfig",value:function(e){return new $e(e)}}],(n=null)&&Xe(t.prototype,n),r&&Xe(t,r),e}(),Qe=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=Ve()({},t),Pe(this,this.config),this.name=o()(t,"name"),this.type=o()(t,"type"),this.pluginReference=o()(t,"pluginReference"),!this.pluginReference)throw new Error("PluginConfig.pluginReference is required!")};function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Je(this,e),this.config=Ve()({},t),Pe(this,this.config),this.playerTypeConfig=Ze.createPlayerTypeConfig(this.config),this.pluginConfigs=this.getPluginConfigs(o()(this.config,"pluginConfigs",[]))}var t,n,r;return t=e,(n=[{key:"getPluginConfigs",value:function(e){var t=[];return e.forEach((function(e){t.push(new Qe(e))})),t}}])&&et(t.prototype,n),r&&et(t,r),e}();function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var rt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.observationCenter=n,this.plugins=[],this.pluginsMap={},this.createPlugins()}var t,n,r;return t=e,(n=[{key:"createPlugins",value:function(){var e=this,t=this.config.pluginConfigs;t.length&&t.forEach((function(t){try{var n=new t.pluginReference(Ve()({},t.config),e.observationCenter);e.plugins.push({plugin:n}),e.pluginsMap[o()(t,"config.name")]=n}catch(e){throw e}}))}},{key:"getPlugin",value:function(e){return this.pluginsMap[e]}}])&&nt(t.prototype,n),r&&nt(t,r),e}(),ot=function(e,t){return(ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function it(e,t){function n(){this.constructor=e}ot(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function at(e){return"function"==typeof e}var st=!1,lt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,st=e},get useDeprecatedSynchronousErrorHandling(){return st}};function ut(e){setTimeout((function(){throw e}),0)}var ct={closed:!0,next:function(e){},error:function(e){if(lt.useDeprecatedSynchronousErrorHandling)throw e;ut(e)},complete:function(){}},ft=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}(),dt=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),pt=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n,r=this._parentOrParents,o=this._ctorUnsubscribe,i=this._unsubscribe,a=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var s=0;s<r.length;++s)r[s].remove(this);if(at(i)){o&&(this._unsubscribe=void 0);try{i.call(this)}catch(e){t=e instanceof dt?ht(e.errors):[e]}}if(ft(a)){s=-1;for(var l=a.length;++s<l;){var u=a[s];if(null!==(n=u)&&"object"==typeof n)try{u.unsubscribe()}catch(e){t=t||[],e instanceof dt?t=t.concat(ht(e.errors)):t.push(e)}}}if(t)throw new dt(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function ht(e){return e.reduce((function(e,t){return e.concat(t instanceof dt?t.errors:t)}),[])}var gt=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),mt=function(e){function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=ct;break;case 1:if(!n){i.destination=ct;break}if("object"==typeof n){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new vt(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new vt(i,n,r,o)}return i}return it(t,e),t.prototype[gt]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(pt),vt=function(e){function t(t,n,r,o){var i,a=e.call(this)||this;a._parentSubscriber=t;var s=a;return at(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==ct&&(at((s=Object.create(n)).unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=i,a._error=r,a._complete=o,a}return it(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;lt.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=lt.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):ut(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;ut(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};lt.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),lt.useDeprecatedSynchronousErrorHandling)throw e;ut(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!lt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return lt.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(ut(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(mt),yt=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function bt(e){return e}function At(e){return 0===e.length?bt:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Ct=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=function(e,t,n){if(e){if(e instanceof mt)return e;if(e[gt])return e[gt]()}return e||t||n?new mt(e,t,n):new mt(ct)}(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||lt.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),lt.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){lt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof mt?r:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=It(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[yt]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:At(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=It(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function It(e){if(e||(e=lt.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var _t,Et=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),wt=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return it(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(pt),St=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return it(t,e),t}(mt),Tt=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return it(t,e),t.prototype[gt]=function(){return new St(this)},t.prototype.lift=function(e){var t=new kt(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new Et;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new Et;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Et;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new Et;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new Et;return this.hasError?(e.error(this.thrownError),pt.EMPTY):this.isStopped?(e.complete(),pt.EMPTY):(this.observers.push(e),new wt(this,e))},t.prototype.asObservable=function(){var e=new Ct;return e.source=this,e},t.create=function(e,t){return new kt(e,t)},t}(Ct),kt=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return it(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):pt.EMPTY},t}(Tt),xt=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return it(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Et;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Tt),Pt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return it(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return it(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return it(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(pt))),Ot=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),Lt=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return it(t,e),t}(function(e){function t(n,r){void 0===r&&(r=Ot.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return it(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Ot)))(Pt),Dt=new Ct((function(e){return e.complete()}));function jt(e){return e?function(e){return new Ct((function(t){return e.schedule((function(){return t.complete()}))}))}(e):Dt}function Rt(e){return e&&"function"==typeof e.schedule}function Mt(e,t){return new Ct((function(n){var r=new pt,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function Nt(e,t){return t?Mt(e,t):new Ct((n=e,function(e){for(var t=0,r=n.length;t<r&&!e.closed;t++)e.next(n[t]);e.complete()}));var n}function Ft(e){var t=e.error;e.subscriber.error(t)}_t||(_t={});var Bt=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e,t;switch(this.kind){case"N":return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Rt(n)?(e.pop(),Mt(e,n)):Nt(e)}(this.value);case"E":return e=this.error,new Ct(t?function(n){return t.schedule(Ft,0,{error:e,subscriber:n})}:function(t){return t.error(e)});case"C":return jt()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),Ut=function(e){function t(t,n,r){void 0===r&&(r=0);var o=e.call(this,t)||this;return o.scheduler=n,o.delay=r,o}return it(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new Gt(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Bt.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Bt.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Bt.createComplete()),this.unsubscribe()},t}(mt),Gt=function(){return function(e,t){this.notification=e,this.destination=t}}(),Ht=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=e.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return it(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new Vt(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new Et;if(this.isStopped||this.hasError?t=pt.EMPTY:(this.observers.push(e),t=new wt(this,e)),o&&e.add(e=new Ut(e,o)),n)for(var a=0;a<i&&!e.closed;a++)e.next(r[a]);else for(a=0;a<i&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||Lt).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(e-r[i].time<n);)i++;return o>t&&(i=Math.max(i,o-t)),i>0&&r.splice(0,i),r},t}(Tt),Vt=function(){return function(e,t){this.time=e,this.value=t}}(),Wt=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stateSubject=new xt({type:"empty"}),this.playerInitSubject=new Ht({type:"empty"}),this.playerSubject=new xt({type:"empty"}),this.playerTimeSubject=new xt({type:"empty"}),this.pluginSubject=new xt({type:"empty"}),this.controlsSubject=new xt({type:"empty"})};function Yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new tt;Yt(this,e),this.observationCenter=new Wt,this.config=void 0,this.pluginManager=void 0,this.player=this.createPlayer(t),this.currentMediaItem=void 0}var t,n,r;return t=e,(n=[{key:"initConfig",value:function(e){if(!(e instanceof tt))throw new Error("Config must be a MediaPlayerConfig object. For more information please see https://github.mlbam.net/pages/web-media/mlb-media-player/manual/examples.html");this.config=a()(e),this.currentMediaItem=o()(this.config,"mediaItem"),this.pluginManager=new rt(this.config,this.observationCenter)}},{key:"initPlayer",value:function(e){return this.player.initPlayer(e)}},{key:"createPlayer",value:function(e){return e&&this.initConfig(e),this.player=Ge.create(this.config,this.observationCenter),this.observationCenter.playerSubject.next(new Y.BaseMessage(m.MEDIA_PLAYER_CREATED,this)),this.observationCenter.playerInitSubject.next(new Y.BaseMessage(m.MEDIA_PLAYER_CREATED,this)),this.player}},{key:"canPlayNewMediaItem",value:function(e){var t=o()(this.config,"playerTypeConfig.deviceInfo");return Ge.getPlayerTypeFromSource(e.src,t)===o()(this.player,"playerTypeConfig.playerType")}},{key:"createNewPlayerForMediaItem",value:function(e){return e.src,this.player.destroy(),this.player=void 0,this.createPlayer(),this.initPlayer().catch((function(e){return s.error(e),e}))}},{key:"setMediaItem",value:function(e){return o()(this.currentMediaItem,"src")===o()(e,"src")?(s.info("Already playing this mediaItem"),s.info("Current MediaItem",this.currentMediaItem),s.info("New MediaItem",e),Promise.resolve()):(this.currentMediaItem=e,this.config.playerTypeConfig.mediaItem=e,this.player&&this.canPlayNewMediaItem(e)?(this.player.open(e),Promise.resolve()):this.player&&!this.canPlayNewMediaItem(e)?this.createNewPlayerForMediaItem(e):void 0)}},{key:"setPoster",value:function(e){this.config.poster=e,this.player.setPoster(e)}},{key:"pause",value:function(){this.player.pause()}},{key:"play",value:function(){return this.player.play()}},{key:"replay",value:function(){this.player.replay(),this.observationCenter.playerSubject.next(new Y.BaseMessage(m.MEDIA_REPLAY,this))}},{key:"stop",value:function(){this.player.stop()}},{key:"seek",value:function(e){this.player.seek(e)}},{key:"mute",value:function(){this.player.mute()}},{key:"unMute",value:function(){this.player.unMute()}},{key:"jumpToLive",value:function(e){this.player.jumpToLive(e)}},{key:"setVolume",value:function(e){this.player.setVolume(e)}},{key:"requestFullscreen",value:function(e){this.player.requestFullscreen(e)}},{key:"exitFullscreen",value:function(){this.player.exitFullscreen()}},{key:"setIsAdPlaying",value:function(e){this.player.setIsAdPlaying(e)}},{key:"removeDefaultControls",value:function(){this.player.removeDefaultControls()}},{key:"showClosedCaptions",value:function(e){this.player.showClosedCaptions(e)}},{key:"hideClosedCaptions",value:function(){this.player.hideClosedCaptions()}},{key:"getPlayerId",value:function(){return this.player.getPlayerId()}},{key:"Log",get:function(){return s}}])&&zt(t.prototype,n),r&&zt(t,r),e}(),qt={READY:"pluginReady"};function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.observationCenter=n,this.mediaPlayer=void 0,this.subscriptions=[],this.subscribe()}var t,n,r;return t=e,(n=[{key:"subscribe",value:function(){var e=this;this.subscriptions.push(this.observationCenter.playerInitSubject.subscribe((function(t){switch(o()(t,"type")){case m.MEDIA_PLAYER_CREATED:e.setMediaPlayer(t.mediaPlayer)}})))}},{key:"pluginReady",value:function(){this.observationCenter.pluginSubject.next(new F(qt.READY,this))}},{key:"setMediaPlayer",value:function(e){this.mediaPlayer=e,this.pluginReady()}},{key:"destroy",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))}}])&&$t(t.prototype,n),r&&$t(t,r),e}(),Zt={ADVERTISING:"ADVERTISING",ANALYTICS:"ANALYTICS",COMMUNICATION:"COMMUNICATION"}}])},e.exports=r()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11),o=n(32),i=n(58);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(r.a)(n)?(e.pop(),Object(i.a)(e,n)):Object(o.a)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(16);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)}function i(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n(0),o=1,i=function(){return Promise.resolve()}(),a={};function s(e){return e in a&&(delete a[e],!0)}var l=function(e){var t=o++;return a[t]=!0,i.then((function(){return s(t)&&e()})),t},u=function(e){s(e)},c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.a(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=l(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(u(n),t.scheduled=void 0)},t}(n(34).a),f=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(31).a))(c),d=f},function(e,t,n){var r=n(125),o=n(126),i=n(127),a=n(21);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){var r=n(65),o=n(93);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?o(n,u,c):r(n,u,c)}return n}},function(e,t,n){var r=n(97)(Object.keys,Object);e.exports=r},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return f}));var r=n(0),o=n(11),i=n(9),a=n(17),s=n(14),l=n(32),u={};function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return Object(o.a)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(i.a)(e[0])&&(e=e[0]),Object(l.a)(e,r).lift(new f(n))}var f=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.resultSelector))},e}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.a(t,e),t.prototype._next=function(e){this.values.push(u),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(s.a)(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,o=r[n],i=this.toRespond?o===u?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(29),o=n(16);function i(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(r.b)(o.a,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4);function o(e,t){return t?new r.a((function(n){return t.schedule(i,0,{error:e,subscriber:n})})):new r.a((function(t){return t.error(e)}))}function i(e){var t=e.error;e.subscriber.error(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(1);function i(){return function(e){return e.lift(new a(e))}}var a=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new s(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.a(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),o=n(7),i=n(62),a=n(6),s=n(78),l=n(25),u=n(91),c=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=e.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return r.a(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new f(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new l.a;if(this.isStopped||this.hasError?t=a.a.EMPTY:(this.observers.push(e),t=new u.a(this,e)),o&&e.add(e=new s.a(e,o)),n)for(var c=0;c<i&&!e.closed;c++)e.next(r[c]);else for(c=0;c<i&&!e.closed;c++)e.next(r[c].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||i.a).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(e-r[i].time<n);)i++;return o>t&&(i=Math.max(i,o-t)),i>0&&r.splice(0,i),r},t}(o.a),f=function(){return function(e,t){this.time=e,this.value=t}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),o=n(13),i=n(12);function a(e){return new r.a((function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?Object(o.a)(n):Object(i.b)()).subscribe(t)}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));var r=n(0),o=n(32),i=n(9),a=n(1),s=n(22),l=n(2);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),Object(o.a)(e,void 0).lift(new c(n))}var c=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}(),f=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var o=e.call(this,t)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector="function"==typeof n?n:void 0,o}return r.a(t,e),t.prototype._next=function(e){var t=this.iterators;Object(i.a)(e)?t.push(new p(e)):"function"==typeof e[s.a]?t.push(new d(e[s.a]())):t.push(new h(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++)if("function"==typeof(a=e[r]).hasValue&&!a.hasValue())return;var o=!1,i=[];for(r=0;r<t;r++){var a,s=(a=e[r]).next();if(a.hasCompleted()&&(o=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),o&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(a.a),d=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),p=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[s.a]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),h=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.parent=n,o.observable=r,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return r.a(t,e),t.prototype[s.a]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return Object(l.c)(this.observable,new l.a(this))},t}(l.b)},function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1);function o(e){for(;e;){var t=e,n=t.closed,o=t.destination,i=t.isStopped;if(n||i)return!1;e=o&&o instanceof r.a?o:null}return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),o=n(6);function i(e,t){return new r.a((function(n){var r=new o.a,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(15),o=n(38),i={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(o.a)(e)},complete:function(){}}},function(e,t,n){var r=n(67);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(0),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.a(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(34).a),i=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t}(n(31).a))(o),a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},function(e,t,n){var r=n(200);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(93),o=n(94),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(111),o=n(112);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(115),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){var r=n(156),o=n(157),i=n(158),a=n(159),s=n(160);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(94);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(0),o=n(1),i=n(6),a=n(4),s=n(7);function l(e,t,n,r){return function(o){return o.lift(new u(e,t,n,r))}}var u=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),c=function(e){function t(t,n,r,o,i){var a=e.call(this,t)||this;return a.keySelector=n,a.elementSelector=r,a.durationSelector=o,a.subjectSelector=i,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,o=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(e){this.error(e)}else r=e;if(!o){o=this.subjectSelector?this.subjectSelector():new s.a,n.set(t,o);var i=new d(t,o,this);if(this.destination.next(i),this.durationSelector){var a=void 0;try{a=this.durationSelector(new d(t,o))}catch(e){return void this.error(e)}this.add(a.subscribe(new f(t,o,this)))}}o.closed||o.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(o.a),f=function(e){function t(t,n,r){var o=e.call(this,n)||this;return o.key=t,o.group=n,o.parent=r,o}return r.a(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(o.a),d=function(e){function t(t,n,r){var o=e.call(this)||this;return o.key=t,o.groupSubject=n,o.refCountSubscription=r,o}return r.a(t,e),t.prototype._subscribe=function(e){var t=new i.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new p(n)),t.add(r.subscribe(e)),t},t}(a.a),p=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.a(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(i.a)},function(t,n){t.exports=e},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),o=n(8),i=n(35),a=n(11);function s(e,t,n){void 0===e&&(e=0);var s=-1;return Object(i.a)(t)?s=Number(t)<1?1:Number(t):Object(a.a)(t)&&(n=t),Object(a.a)(n)||(n=o.a),new r.a((function(t){var r=Object(i.a)(e)?e:+e-n.now();return n.schedule(l,r,{index:0,period:s,subscriber:t})}))}function l(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(50);function o(){return Object(r.a)(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),o=n(11),i=n(50),a=n(32);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,s=null,l=e[e.length-1];return Object(o.a)(l)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof l&&(n=e.pop()),null===s&&1===e.length&&e[0]instanceof r.a?e[0]:Object(i.a)(n)(Object(a.a)(e,s))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}));var r=n(0),o=n(7),i=n(4),a=n(1),s=n(6),l=n(52),u=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.a(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.a).add(this.source.subscribe(new f(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.a.EMPTY)),e},t.prototype.refCount=function(){return Object(l.a)()(this)},t}(i.a),c=function(){var e=u.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.a(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(o.b);a.a},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l}));var r=n(0),o=n(1),i=n(19);function a(e,t){return void 0===t&&(t=0),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))},e}(),l=function(e){function t(t,n,r){void 0===r&&(r=0);var o=e.call(this,t)||this;return o.scheduler=n,o.delay=r,o}return r.a(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new u(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(i.a.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(i.a.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()},t}(o.a),u=function(){return function(e,t){this.notification=e,this.destination=t}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(7),i=n(25),a=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),o=n(9),i=n(32),a=n(17),s=n(14);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(o.a)(e[0]))return e[0];e=e[0]}return Object(i.a)(e,void 0).lift(new u)}var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.a(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],o=Object(s.a)(this,r,void 0,n);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var o=this.subscriptions[r];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(t)},t}(a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),o=n(6),i=n(24),a=n(58),s=n(22),l=n(90),u=n(88);function c(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[i.a]}(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){var o=e[i.a]();r.add(o.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(l.a)(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(u.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"==typeof e[s.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[s.a](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},function(e,t,n){var r=n(65),o=n(46),i=n(95),a=n(66),s=n(113),l=n(47),u=Object.prototype.hasOwnProperty,c=i((function(e,t){if(s(t)||a(t))o(t,l(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])}));e.exports=c},function(e,t,n){var r=n(153)(n(177));e.exports=r},function(e,t,n){var r=n(100),o=0;e.exports=function(e){var t=++o;return r(e)+t}},function(e,t,n){var r,o,i;o=[n(181)],void 0===(i="function"==typeof(r=function(e){"use strict";var t,n={global:{}},r={};function o(){i()}var i=function(){};return o.prototype={registerEvents:function(e,t){e?n[e]?this.merge(t,e):n[e]=t:this.merge(t,e)},merge:function(e,t){for(var r in e)e.hasOwnProperty(r)&&(n[t||"global"][r]=e[r])},deleteEventsByKey:function(e){e&&n[e]?delete n[e]:console.log("bandwagon: specified namespace does not exist in events cache to delete",e)},getRegisteredEvents:function(){return n},getRegisteredEventsByKey:function(e){var t;return e&&n[e]?t=n[e]:console.log("please provide valid event key you want to retrieve from the events cache",e),t},getInstanceByKey:function(t){return t&&!r[t]?r[t]=e.create():r[t]},getInstancesAvailable:function(){return r},deleteInstanceByKey:function(e){e&&r[e]?delete r[e]:console.log("bandwagon: specified key does not exist in cache to delete",e)}},t=t||new o})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r=n(128),o=n(95)((function(e,t,n){r(e,t,n)}));e.exports=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(6).a)},function(e,t,n){"use strict";function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(140);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(142),o=n(146);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(21),o=n(99),i=n(147),a=n(100);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(21),o=n(67),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=n(149);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(154),o=n(170),i=n(110),a=n(21),s=n(174);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){(function(r){var o;!function(i){var a="undefined"!=typeof window?window:void 0!==r?r:this;void 0===(o=function(){return function(e){var t=document;if(e.MessageChannel)var n=MessageChannel;else(n=function(){this.port1=t.createElement("div")}).prototype={port1:null,port2:null};return n}(a)}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(48))},function(e,t,n){(function(r){var o;!function(i){var a=void 0!==typeof window?window:void 0!==typeof r?r:this;void 0===(o=function(){return function(e){var t={bubbles:!1,cancelable:!1},n=e.document;function r(){this.store={}}r.prototype={get:function(e){return this.store[(e||"").toString()]},set:function(e,t){this.store[(e||"").toString()]=t},has:function(e){return(e||"").toString()in this.store},delete:function(e){delete this.store[(e||"").toString()]},forEach:function(e,t){var n,r=this.store;for(n in r)e.call(t||this,r[n],n,this)}};var o=e.Map||r;function i(e,t,n,r,o){this.scope=e,this.originalConsumer=t,this.name=o,n&&(this.handleEvent=this.handleEventOnce,this.topics=r)}i.prototype={handleEvent:function(e){return this.originalConsumer.call(this.scope,e.data,e)},handleEventOnce:function(e){return u(this.scope,this.topics,this.name,this.originalConsumer),this.originalConsumer.call(this.scope,e.data,e)}};var a=s.createEvent="function"==typeof CustomEvent?function(e,n){var r=new CustomEvent(e,t);return r.originalType=n||e,r}:function(e,r){var o=n.createEvent("Events");return o.initEvent(e,t.bubbles,t.cancelable),o.originalType=r||e,o};function s(e,t){this.name=e,this.consumers=new o,this.consumerCount=0,this.hub=t}function l(e,t,n){for(var r=0,o=e.length,i=this.hub,a=this.name;r<o;r++)i.removeEventListener(a,e[r],!1,!0);n.delete(t)}function u(e,t,n,r){var o=t[n];o&&r&&(o.removeConsumer(e,r),o.consumerCount<=0&&delete t[n])}return s.prototype.publish=function(e,t){var n=a(this.name,t);n.data=e,this.hub.dispatchEvent(n)},s.prototype.addConsumer=function(e,t,n,r){var o=t,a=this.hub,s=this.consumers.get(o),l=new i(e,t,n,r,this.name);s?this.removeConsumer(e,t):s=[],s.push(l),this.consumerCount++,this.consumers.set(o,s),a.addEventListener(this.name,l,!1,!0)},s.prototype.removeConsumer=function(e,t){var n,r=t,o=this.consumers.get(r),i=this.name;if(o)for(var a=o.length,s=0;s<a;s++)if((n=o[s]).originalConsumer===t&&(!e||n.scope===e)){this.hub.removeEventListener(i,n,!1,!0),o.splice(s,1),o.length||this.consumers.delete(r),this.consumerCount--;break}},s.prototype.removeAllConsumers=function(){var e=this.consumers;this.name,e.forEach(l,this),this.consumerCount=0},s.publishTopic=function(e,t,n){return e&&e.publish(t,n)},s.addTopicListener=function(e,t,n,r,o,i){if(!o)throw new Error("message-service : no listener specified for topic : "+r);(n[r]||(n[r]=new s(r,t))).addConsumer(e,o,i,n)},s.removeTopicListener=u,s.removeAllTopicListeners=function(e,t){var n=e[t];n&&(n.removeAllConsumers(),delete e[t])},s}(a)}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(48))},function(e,t,n){var r=n(185)();e.exports=r},function(e,t,n){"use strict";n.r(t),n.d(t,"audit",(function(){return i})),n.d(t,"auditTime",(function(){return c})),n.d(t,"buffer",(function(){return f})),n.d(t,"bufferCount",(function(){return g})),n.d(t,"bufferTime",(function(){return A})),n.d(t,"bufferToggle",(function(){return P})),n.d(t,"bufferWhen",(function(){return D})),n.d(t,"catchError",(function(){return M})),n.d(t,"combineAll",(function(){return U})),n.d(t,"combineLatest",(function(){return V})),n.d(t,"concat",(function(){return Y})),n.d(t,"concatAll",(function(){return z.a})),n.d(t,"concatMap",(function(){return q})),n.d(t,"concatMapTo",(function(){return $})),n.d(t,"count",(function(){return X})),n.d(t,"debounce",(function(){return J})),n.d(t,"debounceTime",(function(){return ne})),n.d(t,"defaultIfEmpty",(function(){return ae})),n.d(t,"delay",(function(){return fe})),n.d(t,"delayWhen",(function(){return me})),n.d(t,"dematerialize",(function(){return Ce})),n.d(t,"distinct",(function(){return Ee})),n.d(t,"distinctUntilChanged",(function(){return Te})),n.d(t,"distinctUntilKeyChanged",(function(){return Pe})),n.d(t,"elementAt",(function(){return He})),n.d(t,"endWith",(function(){return We})),n.d(t,"every",(function(){return Ye})),n.d(t,"exhaust",(function(){return qe})),n.d(t,"exhaustMap",(function(){return Qe})),n.d(t,"expand",(function(){return tt})),n.d(t,"filter",(function(){return Le.a})),n.d(t,"finalize",(function(){return ot})),n.d(t,"find",(function(){return st})),n.d(t,"findIndex",(function(){return ct})),n.d(t,"first",(function(){return dt})),n.d(t,"groupBy",(function(){return pt.b})),n.d(t,"ignoreElements",(function(){return ht})),n.d(t,"isEmpty",(function(){return vt})),n.d(t,"last",(function(){return _t})),n.d(t,"map",(function(){return Ze.a})),n.d(t,"mapTo",(function(){return Et})),n.d(t,"materialize",(function(){return Tt})),n.d(t,"max",(function(){return Rt})),n.d(t,"merge",(function(){return Nt})),n.d(t,"mergeAll",(function(){return Ft.a})),n.d(t,"mergeMap",(function(){return K.b})),n.d(t,"flatMap",(function(){return K.a})),n.d(t,"mergeMapTo",(function(){return Bt})),n.d(t,"mergeScan",(function(){return Ut})),n.d(t,"min",(function(){return Vt})),n.d(t,"multicast",(function(){return Yt})),n.d(t,"observeOn",(function(){return Kt.b})),n.d(t,"onErrorResumeNext",(function(){return qt})),n.d(t,"pairwise",(function(){return Zt})),n.d(t,"partition",(function(){return tn})),n.d(t,"pluck",(function(){return nn})),n.d(t,"publish",(function(){return an})),n.d(t,"publishBehavior",(function(){return ln})),n.d(t,"publishLast",(function(){return cn})),n.d(t,"publishReplay",(function(){return dn})),n.d(t,"race",(function(){return hn})),n.d(t,"reduce",(function(){return jt})),n.d(t,"repeat",(function(){return gn})),n.d(t,"repeatWhen",(function(){return yn})),n.d(t,"retry",(function(){return Cn})),n.d(t,"retryWhen",(function(){return En})),n.d(t,"refCount",(function(){return Tn.a})),n.d(t,"sample",(function(){return kn})),n.d(t,"sampleTime",(function(){return On})),n.d(t,"scan",(function(){return Pt})),n.d(t,"sequenceEqual",(function(){return Rn})),n.d(t,"share",(function(){return Un})),n.d(t,"shareReplay",(function(){return Gn})),n.d(t,"single",(function(){return Hn})),n.d(t,"skip",(function(){return Yn})),n.d(t,"skipLast",(function(){return qn})),n.d(t,"skipUntil",(function(){return Zn})),n.d(t,"skipWhile",(function(){return er})),n.d(t,"startWith",(function(){return rr})),n.d(t,"subscribeOn",(function(){return sr})),n.d(t,"switchAll",(function(){return dr})),n.d(t,"switchMap",(function(){return ur})),n.d(t,"switchMapTo",(function(){return pr})),n.d(t,"take",(function(){return Be})),n.d(t,"takeLast",(function(){return At})),n.d(t,"takeUntil",(function(){return hr})),n.d(t,"takeWhile",(function(){return vr})),n.d(t,"tap",(function(){return Ir})),n.d(t,"throttle",(function(){return Sr})),n.d(t,"throttleTime",(function(){return xr})),n.d(t,"throwIfEmpty",(function(){return je})),n.d(t,"timeInterval",(function(){return jr})),n.d(t,"timeout",(function(){return Gr})),n.d(t,"timeoutWith",(function(){return Nr})),n.d(t,"timestamp",(function(){return Hr})),n.d(t,"toArray",(function(){return Yr})),n.d(t,"window",(function(){return zr})),n.d(t,"windowCount",(function(){return $r})),n.d(t,"windowTime",(function(){return Qr})),n.d(t,"windowToggle",(function(){return io})),n.d(t,"windowWhen",(function(){return lo})),n.d(t,"withLatestFrom",(function(){return fo})),n.d(t,"zip",(function(){return mo})),n.d(t,"zipAll",(function(){return vo}));var r=n(0),o=n(2);function i(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.durationSelector))},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.a(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(e){return this.destination.error(e)}var n=Object(o.c)(t,new o.a(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(o.b),l=n(8),u=n(74);function c(e,t){return void 0===t&&(t=l.a),i((function(){return Object(u.a)(e,t)}))}function f(e){return function(t){return t.lift(new d(e))}}var d=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.closingNotifier))},e}(),p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.buffer=[],r.add(Object(o.c)(n,new o.a(r))),r}return r.a(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}(o.b),h=n(1);function g(e,t){return void 0===t&&(t=null),function(n){return n.lift(new m(e,t))}}var m=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?y:v}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),v=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return r.a(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(h.a),y=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.bufferSize=n,o.startBufferEvery=r,o.buffers=[],o.count=0,o}return r.a(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,r=this.buffers,o=this.count;this.count++,o%n==0&&r.push([]);for(var i=r.length;i--;){var a=r[i];a.push(e),a.length===t&&(r.splice(i,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(h.a),b=n(11);function A(e){var t=arguments.length,n=l.a;Object(b.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return t>=3&&(o=arguments[2]),function(t){return t.lift(new C(e,r,o,n))}}var C=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new _(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),I=function(){return function(){this.buffer=[]}}(),_=function(e){function t(t,n,r,o,i){var a=e.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=r,a.maxBufferSize=o,a.scheduler=i,a.contexts=[];var s=a.openContext();if(a.timespanOnly=null==r||r<0,a.timespanOnly){var l={subscriber:a,context:s,bufferTimeSpan:n};a.add(s.closeAction=i.schedule(E,n,l))}else{var u={subscriber:a,context:s},c={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:a,scheduler:i};a.add(s.closeAction=i.schedule(S,n,u)),a.add(i.schedule(w,r,c))}return a}return r.a(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,o=0;o<r;o++){var i=n[o],a=i.buffer;a.push(e),a.length==this.maxBufferSize&&(t=i)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var r=t.shift();n.next(r.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(E,n,r))}},t.prototype.openContext=function(){var e=new I;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(h.a);function E(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function w(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,o=e.scheduler,i=r.openContext();r.closed||(r.add(i.closeAction=o.schedule(S,n,{subscriber:r,context:i})),this.schedule(e,t))}function S(e){var t=e.subscriber,n=e.context;t.closeContext(n)}var T=n(6),k=n(14),x=n(17);function P(e,t){return function(n){return n.lift(new O(e,t))}}var O=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new L(e,this.openings,this.closingSelector))},e}(),L=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.closingSelector=r,o.contexts=[],o.add(Object(k.a)(o,n)),o}return r.a(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new T.a,r={buffer:[],subscription:n};t.push(r);var o=Object(k.a)(this,e,r);!o||o.closed?this.closeBuffer(r):(o.context=r,this.add(o),n.add(o))},t}(x.a);function D(e){return function(t){return t.lift(new j(e))}}var j=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new R(e,this.closingSelector))},e}(),R=function(e){function t(t,n){var r=e.call(this,t)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r.a(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new T.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(o.c)(t,new o.a(this))),this.subscribing=!1},t}(o.b);function M(e){return function(t){var n=new N(e),r=t.lift(n);return n.caught=r}}var N=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new F(e,this.selector,this.caught))},e}(),F=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.selector=n,o.caught=r,o}return r.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var r=new o.a(this);this.add(r);var i=Object(o.c)(n,r);i!==r&&this.add(i)}},t}(o.b),B=n(49);function U(e){return function(t){return t.lift(new B.a(e))}}var G=n(9),H=n(13);function V(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(G.a)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(Object(H.a)([t].concat(e)),new B.a(n))}}var W=n(36);function Y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(W.a.apply(void 0,[t].concat(e)))}}var z=n(75),K=n(29);function q(e,t){return Object(K.b)(e,t,1)}function $(e,t){return q((function(){return e}),t)}function X(e){return function(t){return t.lift(new Z(e,t))}}var Z=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Q(e,this.predicate,this.source))},e}(),Q=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.source=r,o.count=0,o.index=0,o}return r.a(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(h.a);function J(e){return function(t){return t.lift(new ee(e))}}var ee=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new te(e,this.durationSelector))},e}(),te=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.a(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(o.c)(t,new o.a(this)))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(o.b);function ne(e,t){return void 0===t&&(t=l.a),function(n){return n.lift(new re(e,t))}}var re=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new oe(e,this.dueTime,this.scheduler))},e}(),oe=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.dueTime=n,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return r.a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ie,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(h.a);function ie(e){e.debouncedNext()}function ae(e){return void 0===e&&(e=null),function(t){return t.lift(new se(e))}}var se=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new le(e,this.defaultValue))},e}(),le=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.a(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(h.a);function ue(e){return e instanceof Date&&!isNaN(+e)}var ce=n(19);function fe(e,t){void 0===t&&(t=l.a);var n=ue(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new de(n,t))}}var de=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new pe(e,this.delay,this.scheduler))},e}(),pe=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.delay=n,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return r.a(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,o=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(o);if(n.length>0){var i=Math.max(0,n[0].time-r.now());this.schedule(e,i)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new he(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(ce.a.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(ce.a.createComplete()),this.unsubscribe()},t}(h.a),he=function(){return function(e,t){this.time=e,this.notification=t}}(),ge=n(4);function me(e,t){return t?function(n){return new be(n,t).lift(new ve(e))}:function(t){return t.lift(new ve(e))}}var ve=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new ye(e,this.delayDurationSelector))},e}(),ye=function(e){function t(t,n){var r=e.call(this,t)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(e),this.removeSubscription(o),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=Object(k.a)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(x.a),be=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=n,r}return r.a(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new Ae(e,this.source))},t}(ge.a),Ae=function(e){function t(t,n){var r=e.call(this)||this;return r.parent=t,r.source=n,r.sourceSubscribed=!1,r}return r.a(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(h.a);function Ce(){return function(e){return e.lift(new Ie)}}var Ie=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new _e(e))},e}(),_e=function(e){function t(t){return e.call(this,t)||this}return r.a(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(h.a);function Ee(e,t){return function(n){return n.lift(new we(e,t))}}var we=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new Se(e,this.keySelector,this.flushes))},e}(),Se=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=n,i.values=new Set,r&&i.add(Object(o.c)(r,new o.a(i))),i}return r.a(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(o.b);function Te(e,t){return function(n){return n.lift(new ke(e,t))}}var ke=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new xe(e,this.compare,this.keySelector))},e}(),xe=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.keySelector=r,o.hasKey=!1,"function"==typeof n&&(o.compare=n),o}return r.a(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(e){return this.destination.error(e)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(e){return this.destination.error(e)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(h.a);function Pe(e,t){return Te((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}var Oe=n(26),Le=n(18),De=n(30);function je(e){return void 0===e&&(e=Ne),function(t){return t.lift(new Re(e))}}var Re=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new Me(e,this.errorFactory))},e}(),Me=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.a(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(h.a);function Ne(){return new De.a}var Fe=n(12);function Be(e){return function(t){return 0===e?Object(Fe.b)():t.lift(new Ue(e))}}var Ue=function(){function e(e){if(this.total=e,this.total<0)throw new Oe.a}return e.prototype.call=function(e,t){return t.subscribe(new Ge(e,this.total))},e}(),Ge=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(h.a);function He(e,t){if(e<0)throw new Oe.a;var n=arguments.length>=2;return function(r){return r.pipe(Object(Le.a)((function(t,n){return n===e})),Be(1),n?ae(t):je((function(){return new Oe.a})))}}var Ve=n(40);function We(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Object(W.a)(t,Ve.a.apply(void 0,e))}}function Ye(e,t){return function(n){return n.lift(new ze(e,t,n))}}var ze=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new Ke(e,this.predicate,this.thisArg,this.source))},e}(),Ke=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.source=o,i.index=0,i.thisArg=r||i,i}return r.a(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(h.a);function qe(){return function(e){return e.lift(new $e)}}var $e=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Xe(e))},e}(),Xe=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r.a(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(o.c)(e,new o.a(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(o.b),Ze=n(10);function Qe(e,t){return t?function(n){return n.pipe(Qe((function(n,r){return Object(H.a)(e(n,r)).pipe(Object(Ze.a)((function(e,o){return t(n,e,r,o)})))})))}:function(t){return t.lift(new Je(e))}}var Je=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new et(e,this.project))},e}(),et=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r.a(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new o.a(this),n=this.destination;n.add(t);var r=Object(o.c)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(o.b);function tt(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new nt(e,t,n))}}var nt=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new rt(e,this.project,this.concurrent,this.scheduler))},e}(),rt=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.scheduler=o,i.index=0,i.active=0,i.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(i.buffer=[]),i}return r.a(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,o=e.index;t.subscribeToProjection(n,r,o)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(e);try{var o=(0,this.project)(e,r);if(this.scheduler){var i={subscriber:this,result:o,value:e,index:r};this.destination.add(this.scheduler.schedule(t.dispatch,0,i))}else this.subscribeToProjection(o,e,r)}catch(e){n.error(e)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add(Object(o.c)(e,new o.a(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this._next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(o.b);function ot(e){return function(t){return t.lift(new it(e))}}var it=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new at(e,this.callback))},e}(),at=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new T.a(n)),r}return r.a(t,e),t}(h.a);function st(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new lt(e,n,!1,t))}}var lt=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new ut(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),ut=function(e){function t(t,n,r,o,i){var a=e.call(this,t)||this;return a.predicate=n,a.source=r,a.yieldIndex=o,a.thisArg=i,a.index=0,a}return r.a(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,r=this.index++;try{t.call(n||this,e,r,this.source)&&this.notifyComplete(this.yieldIndex?r:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(h.a);function ct(e,t){return function(n){return n.lift(new lt(e,n,!0,t))}}var ft=n(16);function dt(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(Le.a)((function(t,n){return e(t,n,r)})):ft.a,Be(1),n?ae(t):je((function(){return new De.a})))}}var pt=n(72);function ht(){return function(e){return e.lift(new gt)}}var gt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new mt(e))},e}(),mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype._next=function(e){},t}(h.a);function vt(){return function(e){return e.lift(new yt)}}var yt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new bt(e))},e}(),bt=function(e){function t(t){return e.call(this,t)||this}return r.a(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(h.a);function At(e){return function(t){return 0===e?Object(Fe.b)():t.lift(new Ct(e))}}var Ct=function(){function e(e){if(this.total=e,this.total<0)throw new Oe.a}return e.prototype.call=function(e,t){return t.subscribe(new It(e,this.total))},e}(),It=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=t++%n;e.next(r[i])}e.complete()},t}(h.a);function _t(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(Le.a)((function(t,n){return e(t,n,r)})):ft.a,At(1),n?ae(t):je((function(){return new De.a})))}}function Et(e){return function(t){return t.lift(new wt(e))}}var wt=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new St(e,this.value))},e}(),St=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return r.a(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(h.a);function Tt(){return function(e){return e.lift(new kt)}}var kt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new xt(e))},e}(),xt=function(e){function t(t){return e.call(this,t)||this}return r.a(t,e),t.prototype._next=function(e){this.destination.next(ce.a.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(ce.a.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(ce.a.createComplete()),e.complete()},t}(h.a);function Pt(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ot(e,t,n))}}var Ot=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new Lt(e,this.accumulator,this.seed,this.hasSeed))},e}(),Lt=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return r.a(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(h.a),Dt=n(41);function jt(e,t){return arguments.length>=2?function(n){return Object(Dt.a)(Pt(e,t),At(1),ae(t))(n)}:function(t){return Object(Dt.a)(Pt((function(t,n,r){return e(t,n,r+1)})),At(1))(t)}}function Rt(e){return jt("function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}var Mt=n(76);function Nt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(Mt.a.apply(void 0,[t].concat(e)))}}var Ft=n(50);function Bt(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?Object(K.b)((function(){return e}),t,n):("number"==typeof t&&(n=t),Object(K.b)((function(){return e}),n))}function Ut(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new Gt(e,t,n))}}var Gt=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new Ht(e,this.accumulator,this.seed,this.concurrent))},e}(),Ht=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.accumulator=n,i.acc=r,i.concurrent=o,i.hasValue=!1,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,e,t)}catch(e){return n.error(e)}this.active++,this._innerSub(r)}else this.buffer.push(e)},t.prototype._innerSub=function(e){var t=new o.a(this),n=this.destination;n.add(t);var r=Object(o.c)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e){var t=this.destination;this.acc=e,this.hasValue=!0,t.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(o.b);function Vt(e){return jt("function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}var Wt=n(77);function Yt(e,t){return function(n){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new zt(r,t));var o=Object.create(n,Wt.b);return o.source=n,o.subjectFactory=r,o}}var zt=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),o=n(r).subscribe(e);return o.add(t.subscribe(r)),o},e}(),Kt=n(78);function qt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Object(G.a)(e[0])&&(e=e[0]),function(t){return t.lift(new $t(e))}}var $t=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new Xt(e,this.nextSources))},e}(),Xt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.nextSources=n,r}return r.a(t,e),t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new o.a(this),n=this.destination;n.add(t);var r=Object(o.c)(e,t);r!==t&&n.add(r)}else this.destination.complete()},t}(o.b);function Zt(){return function(e){return e.lift(new Qt)}}var Qt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Jt(e))},e}(),Jt=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return r.a(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(h.a),en=n(92);function tn(e,t){return function(n){return[Object(Le.a)(e,t)(n),Object(Le.a)(Object(en.a)(e,t))(n)]}}function nn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return Object(Ze.a)(rn(e,n))(t)}}function rn(e,t){return function(n){for(var r=n,o=0;o<t;o++){var i=null!=r?r[e[o]]:void 0;if(void 0===i)return;r=i}return r}}var on=n(7);function an(e){return e?Yt((function(){return new on.a}),e):Yt(new on.a)}var sn=n(79);function ln(e){return function(t){return Yt(new sn.a(e))(t)}}var un=n(33);function cn(){return function(e){return Yt(new un.a)(e)}}var fn=n(53);function dn(e,t,n,r){n&&"function"!=typeof n&&(r=n);var o="function"==typeof n?n:void 0,i=new fn.a(e,t,r);return function(e){return Yt((function(){return i}),o)(e)}}var pn=n(80);function hn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&Object(G.a)(e[0])&&(e=e[0]),t.lift.call(pn.a.apply(void 0,[t].concat(e)))}}function gn(e){return void 0===e&&(e=-1),function(t){return 0===e?Object(Fe.b)():e<0?t.lift(new mn(-1,t)):t.lift(new mn(e-1,t))}}var mn=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new vn(e,this.count,this.source))},e}(),vn=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.count=n,o.source=r,o}return r.a(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(h.a);function yn(e){return function(t){return t.lift(new bn(e))}}var bn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new An(e,this.notifier,t))},e}(),An=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.notifier=n,o.source=r,o.sourceIsBeingSubscribedTo=!0,o}return r.a(t,e),t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new on.a;try{t=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=Object(o.c)(t,new o.a(this))},t}(o.b);function Cn(e){return void 0===e&&(e=-1),function(t){return t.lift(new In(e,t))}}var In=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new _n(e,this.count,this.source))},e}(),_n=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.count=n,o.source=r,o}return r.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return e.prototype.error.call(this,t);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(h.a);function En(e){return function(t){return t.lift(new wn(e,t))}}var wn=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Sn(e,this.notifier,this.source))},e}(),Sn=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.notifier=n,o.source=r,o}return r.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new on.a;try{r=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}i=Object(o.c)(r,new o.a(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(o.b),Tn=n(52);function kn(e){return function(t){return t.lift(new xn(e))}}var xn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new Pn(e),r=t.subscribe(n);return r.add(Object(o.c)(this.notifier,new o.a(n))),r},e}(),Pn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return r.a(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(o.b);function On(e,t){return void 0===t&&(t=l.a),function(n){return n.lift(new Ln(e,t))}}var Ln=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new Dn(e,this.period,this.scheduler))},e}(),Dn=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.period=n,o.scheduler=r,o.hasValue=!1,o.add(r.schedule(jn,n,{subscriber:o,period:n})),o}return r.a(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(h.a);function jn(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}function Rn(e,t){return function(n){return n.lift(new Mn(e,t))}}var Mn=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new Nn(e,this.compareTo,this.comparator))},e}(),Nn=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.compareTo=n,o.comparator=r,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new Fn(t,o))),o}return r.a(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,n=this.comparator;e.length>0&&t.length>0;){var r=e.shift(),o=t.shift(),i=!1;try{i=n?n(r,o):r===o}catch(e){this.destination.error(e)}i||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(h.a),Fn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.parent=n,r}return r.a(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(h.a);function Bn(){return new on.a}function Un(){return function(e){return Object(Tn.a)()(Yt(Bn)(e))}}function Gn(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,o=void 0===r?Number.POSITIVE_INFINITY:r,i=e.windowTime,a=void 0===i?Number.POSITIVE_INFINITY:i,s=e.refCount,l=e.scheduler,u=0,c=!1,f=!1;return function(e){var r;u++,!t||c?(c=!1,t=new fn.a(o,a,l),r=t.subscribe(this),n=e.subscribe({next:function(e){t.next(e)},error:function(e){c=!0,t.error(e)},complete:function(){f=!0,n=void 0,t.complete()}})):r=t.subscribe(this),this.add((function(){u--,r.unsubscribe(),n&&!f&&s&&0===u&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(r))}}function Hn(e){return function(t){return t.lift(new Vn(e,t))}}var Vn=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Wn(e,this.predicate,this.source))},e}(),Wn=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.source=r,o.seenValue=!1,o.index=0,o}return r.a(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new De.a)},t}(h.a);function Yn(e){return function(t){return t.lift(new zn(e))}}var zn=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new Kn(e,this.total))},e}(),Kn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(h.a);function qn(e){return function(t){return t.lift(new $n(e))}}var $n=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new Oe.a}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new h.a(e)):t.subscribe(new Xn(e,this._skipCount))},e}(),Xn=function(e){function t(t,n){var r=e.call(this,t)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r.a(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,o=this._ring,i=o[r];o[r]=e,this.destination.next(i)}},t}(h.a);function Zn(e){return function(t){return t.lift(new Qn(e))}}var Qn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new Jn(e,this.notifier))},e}(),Jn=function(e){function t(t,n){var r=e.call(this,t)||this;r.hasValue=!1;var i=new o.a(r);r.add(i),r.innerSubscription=i;var a=Object(o.c)(n,i);return a!==i&&(r.add(a),r.innerSubscription=a),r}return r.a(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(o.b);function er(e){return function(t){return t.lift(new tr(e))}}var tr=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new nr(e,this.predicate))},e}(),nr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.a(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(h.a);function rr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(b.a)(n)?(e.pop(),function(t){return Object(W.a)(e,t,n)}):function(t){return Object(W.a)(e,t)}}var or=n(42),ir=n(35),ar=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=or.a);var o=e.call(this)||this;return o.source=t,o.delayTime=n,o.scheduler=r,(!Object(ir.a)(n)||n<0)&&(o.delayTime=0),r&&"function"==typeof r.schedule||(o.scheduler=or.a),o}return r.a(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=or.a),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(ge.a);function sr(e,t){return void 0===t&&(t=0),function(n){return n.lift(new lr(e,t))}}var lr=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new ar(t,this.delay,this.scheduler).subscribe(e)},e}();function ur(e,t){return"function"==typeof t?function(n){return n.pipe(ur((function(n,r){return Object(H.a)(e(n,r)).pipe(Object(Ze.a)((function(e,o){return t(n,e,r,o)})))})))}:function(t){return t.lift(new cr(e))}}var cr=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new fr(e,this.project))},e}(),fr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r.a(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new o.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(o.c)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(o.b);function dr(){return ur(ft.a)}function pr(e,t){return t?ur((function(){return e}),t):ur((function(){return e}))}function hr(e){return function(t){return t.lift(new gr(e))}}var gr=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new mr(e),r=Object(o.c)(this.notifier,new o.a(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),mr=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return r.a(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(o.b);function vr(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new yr(e,t))}}var yr=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new br(e,this.predicate,this.inclusive))},e}(),br=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.inclusive=r,o.index=0,o}return r.a(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(h.a),Ar=n(23),Cr=n(27);function Ir(e,t,n){return function(r){return r.lift(new _r(e,t,n))}}var _r=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new Er(e,this.nextOrObserver,this.error,this.complete))},e}(),Er=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i._tapNext=Ar.a,i._tapError=Ar.a,i._tapComplete=Ar.a,i._tapError=r||Ar.a,i._tapComplete=o||Ar.a,Object(Cr.a)(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||Ar.a,i._tapError=n.error||Ar.a,i._tapComplete=n.complete||Ar.a),i}return r.a(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(h.a),wr={leading:!0,trailing:!1};function Sr(e,t){return void 0===t&&(t=wr),function(n){return n.lift(new Tr(e,!!t.leading,!!t.trailing))}}var Tr=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new kr(e,this.durationSelector,this.leading,this.trailing))},e}(),kr=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.destination=t,i.durationSelector=n,i._leading=r,i._trailing=o,i._hasValue=!1,i}return r.a(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=Object(o.c)(t,new o.a(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(o.b);function xr(e,t,n){return void 0===t&&(t=l.a),void 0===n&&(n=wr),function(r){return r.lift(new Pr(e,t,n.leading,n.trailing))}}var Pr=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new Or(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),Or=function(e){function t(t,n,r,o,i){var a=e.call(this,t)||this;return a.duration=n,a.scheduler=r,a.leading=o,a.trailing=i,a._hasTrailingValue=!1,a._trailingValue=null,a}return r.a(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Lr,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(h.a);function Lr(e){e.subscriber.clearThrottle()}var Dr=n(54);function jr(e){return void 0===e&&(e=l.a),function(t){return Object(Dr.a)((function(){return t.pipe(Pt((function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}}),{current:e.now(),value:void 0,last:void 0}),Object(Ze.a)((function(e){var t=e.current,n=e.last,r=e.value;return new Rr(r,t-n)})))}))}}var Rr=function(){return function(e,t){this.value=e,this.interval=t}}(),Mr=n(81);function Nr(e,t,n){return void 0===n&&(n=l.a),function(r){var o=ue(e),i=o?+e-n.now():Math.abs(e);return r.lift(new Fr(i,o,t,n))}}var Fr=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new Br(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),Br=function(e){function t(t,n,r,o,i){var a=e.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=r,a.withObservable=o,a.scheduler=i,a.scheduleTimeout(),a}return r.a(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(o.c)(t,new o.a(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(o.b),Ur=n(51);function Gr(e,t){return void 0===t&&(t=l.a),Nr(e,Object(Ur.a)(new Mr.a),t)}function Hr(e){return void 0===e&&(e=l.a),Object(Ze.a)((function(t){return new Vr(t,e.now())}))}var Vr=function(){return function(e,t){this.value=e,this.timestamp=t}}();function Wr(e,t,n){return 0===n?[t]:(e.push(t),e)}function Yr(){return jt(Wr,[])}function zr(e){return function(t){return t.lift(new Kr(e))}}var Kr=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new qr(e),r=t.subscribe(n);return r.closed||n.add(Object(o.c)(this.windowBoundaries,new o.a(n))),r},e}(),qr=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new on.a,t.next(n.window),n}return r.a(t,e),t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new on.a;t.next(n)},t}(o.b);function $r(e,t){return void 0===t&&(t=0),function(n){return n.lift(new Xr(e,t))}}var Xr=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new Zr(e,this.windowSize,this.startWindowEvery))},e}(),Zr=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.destination=t,o.windowSize=n,o.startWindowEvery=r,o.windows=[new on.a],o.count=0,t.next(o.windows[0]),o}return r.a(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,o=this.windows,i=o.length,a=0;a<i&&!this.closed;a++)o[a].next(e);var s=this.count-r+1;if(s>=0&&s%t==0&&!this.closed&&o.shift().complete(),++this.count%t==0&&!this.closed){var l=new on.a;o.push(l),n.next(l)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(h.a);function Qr(e){var t=l.a,n=null,r=Number.POSITIVE_INFINITY;return Object(b.a)(arguments[3])&&(t=arguments[3]),Object(b.a)(arguments[2])?t=arguments[2]:Object(ir.a)(arguments[2])&&(r=Number(arguments[2])),Object(b.a)(arguments[1])?t=arguments[1]:Object(ir.a)(arguments[1])&&(n=Number(arguments[1])),function(o){return o.lift(new Jr(e,n,r,t))}}var Jr=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new to(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),eo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return r.a(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(on.a),to=function(e){function t(t,n,r,o,i){var a=e.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=r,a.maxWindowSize=o,a.scheduler=i,a.windows=[];var s=a.openWindow();if(null!==r&&r>=0){var l={subscriber:a,window:s,context:null},u={windowTimeSpan:n,windowCreationInterval:r,subscriber:a,scheduler:i};a.add(i.schedule(oo,n,l)),a.add(i.schedule(ro,r,u))}else{var c={subscriber:a,window:s,windowTimeSpan:n};a.add(i.schedule(no,n,c))}return a}return r.a(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var o=t[r];o.closed||(o.next(e),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new eo;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(h.a);function no(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function ro(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,o=e.windowCreationInterval,i=n.openWindow(),a={action:this,subscription:null},s={subscriber:n,window:i,context:a};a.subscription=r.schedule(oo,t,s),this.add(a.subscription),this.schedule(e,o)}function oo(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}function io(e,t){return function(n){return n.lift(new ao(e,t))}}var ao=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new so(e,this.openings,this.closingSelector))},e}(),so=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.openings=n,o.closingSelector=r,o.contexts=[],o.add(o.openSubscription=Object(k.a)(o,n,n)),o}return r.a(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,o=-1;++o<r;){var i=n[o];i.window.error(t),i.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,r=-1;++r<n;){var o=t[r];o.window.complete(),o.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,r,o){if(e===this.openings){var i=void 0;try{i=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var a=new on.a,s=new T.a,l={window:a,subscription:s};this.contexts.push(l);var u=Object(k.a)(this,i,l);u.closed?this.closeWindow(this.contexts.length-1):(u.context=l,s.add(u)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,o=n.subscription;t.splice(e,1),r.complete(),o.unsubscribe()}},t}(x.a);function lo(e){return function(t){return t.lift(new uo(e))}}var uo=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new co(e,this.closingSelector))},e}(),co=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.closingSelector=n,r.openWindow(),r}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.openWindow(o)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,r=this.window=new on.a;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=Object(k.a)(this,n))},t}(x.a);function fo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new po(r,n))}}var po=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new ho(e,this.observables,this.project))},e}(),ho=function(e){function t(t,n,r){var o=e.call(this,t)||this;o.observables=n,o.project=r,o.toRespond=[];var i=n.length;o.values=new Array(i);for(var a=0;a<i;a++)o.toRespond.push(a);for(a=0;a<i;a++){var s=n[a];o.add(Object(k.a)(o,s,void 0,a))}return o}return r.a(t,e),t.prototype.notifyNext=function(e,t,n){this.values[n]=t;var r=this.toRespond;if(r.length>0){var o=r.indexOf(n);-1!==o&&r.splice(o,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(x.a),go=n(55);function mo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(go.b.apply(void 0,[t].concat(e)))}}function vo(e){return function(t){return t.lift(new go.a(e))}}},function(e,t){e.exports=n},function(e,t,n){var r=n(105),o=n(127),i=n(61);e.exports=function(e,t){return null==e?e:r(e,o(t),i)}},function(e,t,n){var r=n(215),o=n(216),i=n(101),a=n(21);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(96),o=n(28);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(98),o=n(60);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(48))},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(161),o=n(71);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},function(e,t,n){var r=n(97)(Object.keys,Object);e.exports=r},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(28);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(28),o=n(67),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(184),o=n(186)(r);e.exports=o},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(69),o=n(129),i=n(105),a=n(190),s=n(28),l=n(61),u=n(135);e.exports=function e(t,n,c,f,d){t!==n&&i(n,(function(i,l){if(d||(d=new r),s(i))a(t,n,l,c,e,f,d);else{var p=f?f(u(t,l),i,l+"",t,n,d):void 0;void 0===p&&(p=i),o(t,l,p)}}),l)}},function(e,t,n){var r=n(93),o=n(94);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t,n){(function(e){var r=n(68),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(131)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(194),o=n(134),i=n(113);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(97)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){"use strict";n.r(t),n.d(t,"Observable",(function(){return r.a})),n.d(t,"ConnectableObservable",(function(){return o.a})),n.d(t,"GroupedObservable",(function(){return i.a})),n.d(t,"observable",(function(){return a.a})),n.d(t,"Subject",(function(){return s.a})),n.d(t,"BehaviorSubject",(function(){return l.a})),n.d(t,"ReplaySubject",(function(){return u.a})),n.d(t,"AsyncSubject",(function(){return c.a})),n.d(t,"asap",(function(){return f.a})),n.d(t,"asapScheduler",(function(){return f.b})),n.d(t,"async",(function(){return d.a})),n.d(t,"asyncScheduler",(function(){return d.b})),n.d(t,"queue",(function(){return p.a})),n.d(t,"queueScheduler",(function(){return p.b})),n.d(t,"animationFrame",(function(){return b})),n.d(t,"animationFrameScheduler",(function(){return y})),n.d(t,"VirtualTimeScheduler",(function(){return A})),n.d(t,"VirtualAction",(function(){return C})),n.d(t,"Scheduler",(function(){return I.a})),n.d(t,"Subscription",(function(){return _.a})),n.d(t,"Subscriber",(function(){return E.a})),n.d(t,"Notification",(function(){return w.a})),n.d(t,"NotificationKind",(function(){return w.b})),n.d(t,"pipe",(function(){return S.a})),n.d(t,"noop",(function(){return T.a})),n.d(t,"identity",(function(){return k.a})),n.d(t,"isObservable",(function(){return x})),n.d(t,"ArgumentOutOfRangeError",(function(){return P.a})),n.d(t,"EmptyError",(function(){return O.a})),n.d(t,"ObjectUnsubscribedError",(function(){return L.a})),n.d(t,"UnsubscriptionError",(function(){return D.a})),n.d(t,"TimeoutError",(function(){return j.a})),n.d(t,"bindCallback",(function(){return B})),n.d(t,"bindNodeCallback",(function(){return H})),n.d(t,"combineLatest",(function(){return z.b})),n.d(t,"concat",(function(){return K.a})),n.d(t,"defer",(function(){return q.a})),n.d(t,"empty",(function(){return $.b})),n.d(t,"forkJoin",(function(){return Q})),n.d(t,"from",(function(){return Z.a})),n.d(t,"fromEvent",(function(){return te})),n.d(t,"fromEventPattern",(function(){return ne})),n.d(t,"generate",(function(){return re})),n.d(t,"iif",(function(){return ie})),n.d(t,"interval",(function(){return se})),n.d(t,"merge",(function(){return ue.a})),n.d(t,"never",(function(){return fe})),n.d(t,"of",(function(){return de.a})),n.d(t,"onErrorResumeNext",(function(){return pe})),n.d(t,"pairs",(function(){return he})),n.d(t,"partition",(function(){return be})),n.d(t,"race",(function(){return Ae.a})),n.d(t,"range",(function(){return Ce})),n.d(t,"throwError",(function(){return _e.a})),n.d(t,"timer",(function(){return Ee.a})),n.d(t,"using",(function(){return we})),n.d(t,"zip",(function(){return Se.b})),n.d(t,"scheduled",(function(){return Te.a})),n.d(t,"EMPTY",(function(){return $.a})),n.d(t,"NEVER",(function(){return ce})),n.d(t,"config",(function(){return ke.a}));var r=n(4),o=n(77),i=n(72),a=n(24),s=n(7),l=n(79),u=n(53),c=n(33),f=n(42),d=n(8),p=n(62),h=n(0),g=n(34),m=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return h.a(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(g.a),v=n(31),y=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(v.a))(m),b=y,A=function(e){function t(t,n){void 0===t&&(t=C),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return h.a(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(v.a),C=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=r,o.active=!0,o.index=t.index=r,o}return h.a(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(g.a),I=n(63),_=n(6),E=n(1),w=n(19),S=n(41),T=n(23),k=n(16);function x(e){return!!e&&(e instanceof r.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var P=n(26),O=n(30),L=n(25),D=n(45),j=n(81),R=n(10),M=n(57),N=n(9),F=n(11);function B(e,t,n){if(t){if(!Object(F.a)(t))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return B(e,n).apply(void 0,r).pipe(Object(R.a)((function(e){return Object(N.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i,a=this,s={context:a,subject:i,callbackFunc:e,scheduler:n};return new r.a((function(r){if(n){var o={args:t,subscriber:r,params:s};return n.schedule(U,0,o)}if(!i){i=new c.a;try{e.apply(a,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.next(e.length<=1?e[0]:e),i.complete()}]))}catch(e){Object(M.a)(i)?i.error(e):console.warn(e)}}return i.subscribe(r)}))}}function U(e){var t=this,n=e.args,r=e.subscriber,o=e.params,i=o.callbackFunc,a=o.context,s=o.scheduler,l=o.subject;if(!l){l=o.subject=new c.a;try{i.apply(a,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(s.schedule(G,0,{value:r,subject:l}))}]))}catch(e){l.error(e)}}this.add(l.subscribe(r))}function G(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function H(e,t,n){if(t){if(!Object(F.a)(t))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return H(e,n).apply(void 0,r).pipe(Object(R.a)((function(e){return Object(N.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r.a((function(r){var o=i.context,a=i.subject;if(n)return n.schedule(V,0,{params:i,subscriber:r,context:o});if(!a){a=i.subject=new c.a;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?a.error(n):(a.next(e.length<=1?e[0]:e),a.complete())}]))}catch(e){Object(M.a)(a)?a.error(e):console.warn(e)}}return a.subscribe(r)}))}}function V(e){var t=this,n=e.params,r=e.subscriber,o=e.context,i=n.callbackFunc,a=n.args,s=n.scheduler,l=n.subject;if(!l){l=n.subject=new c.a;try{i.apply(o,a.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(s.schedule(Y,0,{err:r,subject:l}));else{var o=e.length<=1?e[0]:e;t.add(s.schedule(W,0,{value:o,subject:l}))}}]))}catch(e){this.add(s.schedule(Y,0,{err:e,subject:l}))}}this.add(l.subscribe(r))}function W(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function Y(e){var t=e.err;e.subject.error(t)}var z=n(49),K=n(36),q=n(54),$=n(12),X=n(56),Z=n(13);function Q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(Object(N.a)(n))return J(n,null);if(Object(X.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return J(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var o=e.pop();return J(e=1===e.length&&Object(N.a)(e[0])?e[0]:e,null).pipe(Object(R.a)((function(e){return o.apply(void 0,e)})))}return J(e,null)}function J(e,t){return new r.a((function(n){var r=e.length;if(0!==r)for(var o=new Array(r),i=0,a=0,s=function(s){var l=Object(Z.a)(e[s]),u=!1;n.add(l.subscribe({next:function(e){u||(u=!0,a++),o[s]=e},error:function(e){return n.error(e)},complete:function(){++i!==r&&u||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=o[n],e}),{}):o),n.complete())}}))},l=0;l<r;l++)s(l);else n.complete()}))}var ee=n(27);function te(e,t,n,o){return Object(ee.a)(n)&&(o=n,n=void 0),o?te(e,t,n).pipe(Object(R.a)((function(e){return Object(N.a)(e)?o.apply(void 0,e):o(e)}))):new r.a((function(r){!function e(t,n,r,o,i){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,r,i),a=function(){return s.removeEventListener(n,r,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var l=t;t.on(n,r),a=function(){return l.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var u=t;t.addListener(n,r),a=function(){return u.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,f=t.length;c<f;c++)e(t[c],n,r,o,i)}o.add(a)}(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function ne(e,t,n){return n?ne(e,t).pipe(Object(R.a)((function(e){return Object(N.a)(e)?n.apply(void 0,e):n(e)}))):new r.a((function(n){var r,o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(o)}catch(e){return void n.error(e)}if(Object(ee.a)(t))return function(){return t(o,r)}}))}function re(e,t,n,o,i){var a,s;if(1==arguments.length){var l=e;s=l.initialState,t=l.condition,n=l.iterate,a=l.resultSelector||k.a,i=l.scheduler}else void 0===o||Object(F.a)(o)?(s=e,a=k.a,i=o):(s=e,a=o);return new r.a((function(e){var r=s;if(i)return i.schedule(oe,0,{subscriber:e,iterate:n,condition:t,resultSelector:a,state:r});for(;;){if(t){var o=void 0;try{o=t(r)}catch(t){return void e.error(t)}if(!o){e.complete();break}}var l=void 0;try{l=a(r)}catch(t){return void e.error(t)}if(e.next(l),e.closed)break;try{r=n(r)}catch(t){return void e.error(t)}}}))}function oe(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}var o;try{o=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(o),!t.closed))return this.schedule(e)}}function ie(e,t,n){return void 0===t&&(t=$.a),void 0===n&&(n=$.a),Object(q.a)((function(){return e()?t:n}))}var ae=n(35);function se(e,t){return void 0===e&&(e=0),void 0===t&&(t=d.a),(!Object(ae.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=d.a),new r.a((function(n){return n.add(t.schedule(le,e,{subscriber:n,counter:0,period:e})),n}))}function le(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var ue=n(76),ce=new r.a(T.a);function fe(){return ce}var de=n(40);function pe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return $.a;var n=e[0],o=e.slice(1);return 1===e.length&&Object(N.a)(n)?pe.apply(void 0,n):new r.a((function(e){var t=function(){return e.add(pe.apply(void 0,o).subscribe(e))};return Object(Z.a)(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function he(e,t){return t?new r.a((function(n){var r=Object.keys(e),o=new _.a;return o.add(t.schedule(ge,0,{keys:r,index:0,subscriber:n,subscription:o,obj:e})),o})):new r.a((function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var o=n[r];e.hasOwnProperty(o)&&t.next([o,e[o]])}t.complete()}))}function ge(e){var t=e.keys,n=e.index,r=e.subscriber,o=e.subscription,i=e.obj;if(!r.closed)if(n<t.length){var a=t[n];r.next([a,i[a]]),o.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:o,obj:i}))}else r.complete()}var me=n(92),ve=n(37),ye=n(18);function be(e,t,n){return[Object(ye.a)(t,n)(new r.a(Object(ve.a)(e))),Object(ye.a)(Object(me.a)(t,n))(new r.a(Object(ve.a)(e)))]}var Ae=n(80);function Ce(e,t,n){return void 0===e&&(e=0),new r.a((function(r){void 0===t&&(t=e,e=0);var o=0,i=e;if(n)return n.schedule(Ie,0,{index:o,count:t,start:e,subscriber:r});for(;;){if(o++>=t){r.complete();break}if(r.next(i++),r.closed)break}}))}function Ie(e){var t=e.start,n=e.index,r=e.count,o=e.subscriber;n>=r?o.complete():(o.next(t),o.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}var _e=n(51),Ee=n(74);function we(e,t){return new r.a((function(n){var r,o;try{r=e()}catch(e){return void n.error(e)}try{o=t(r)}catch(e){return void n.error(e)}var i=(o?Object(Z.a)(o):$.a).subscribe(n);return function(){i.unsubscribe(),r&&r.unsubscribe()}}))}var Se=n(55),Te=n(82),ke=n(15)},function(e,t,n){var r=n(198),o=n(28);e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},function(e,t,n){var r=n(128),o=n(95)((function(e,t,n,o){r(e,t,n,o)}));e.exports=o},function(e,t,n){var r=n(217),o=n(218),i=n(219),a=i&&i.isDate,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(141),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(110),o=n(143),i=n(145);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t,n){var r=n(144),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(l),r(e,this,u)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(148),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(150),o=n(151),i=n(21),a=n(67),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){var r=n(68).Symbol;e.exports=r},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(65),o=n(98),i=n(116),a=n(28),s=n(60);e.exports=function(e,t,n,l){if(!a(e))return e;for(var u=-1,c=(t=o(t,e)).length,f=c-1,d=e;null!=d&&++u<c;){var p=s(t[u]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(u!=f){var g=d[p];void 0===(h=l?l(g,p,d):void 0)&&(h=a(g)?g:i(t[u+1])?[]:{})}r(d,p,h),d=d[p]}return e}},function(e,t,n){var r=n(101),o=n(66),i=n(47);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!o(t)){var l=r(n,3);t=i(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,a);return u>-1?s[l?t[u]:u]:void 0}}},function(e,t,n){var r=n(155),o=n(169),i=n(122);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(69),o=n(117);e.exports=function(e,t,n,i){var a=n.length,s=a,l=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],f=e[c],d=u[1];if(l&&u[2]){if(void 0===f&&!(c in e))return!1}else{var p=new r;if(i)var h=i(f,d,c,e,t,p);if(!(void 0===h?o(d,f,3,i,p):h))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(70),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(70);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(70);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(70);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(69),o=n(162),i=n(167),a=n(168),s=n(119),l=n(21),u=n(102),c=n(120),f="[object Object]",d=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,h,g){var m=l(e),v=l(t),y=m?"[object Array]":s(e),b=v?"[object Array]":s(t),A=(y="[object Arguments]"==y?f:y)==f,C=(b="[object Arguments]"==b?f:b)==f,I=y==b;if(I&&u(e)){if(!u(t))return!1;m=!0,A=!1}if(I&&!A)return g||(g=new r),m||c(e)?o(e,t,n,p,h,g):i(e,t,y,n,p,h,g);if(!(1&n)){var _=A&&d.call(e,"__wrapped__"),E=C&&d.call(t,"__wrapped__");if(_||E){var w=_?e.value():e,S=E?t.value():t;return g||(g=new r),h(w,S,n,p,g)}}return!!I&&(g||(g=new r),a(e,t,n,p,h,g))}},function(e,t,n){var r=n(163),o=n(164),i=n(165);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var d=l.get(e),p=l.get(t);if(d&&p)return d==t&&p==e;var h=-1,g=!0,m=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++h<c;){var v=e[h],y=t[h];if(a)var b=u?a(y,v,h,t,e,l):a(v,y,h,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(v===e||s(v,e,n,a,l)))return m.push(t)}))){g=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},function(e,t,n){var r=n(21);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return r(e)?e:[e]}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(166);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(118),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var f=c;f--;){var d=u[f];if(!(l?d in t:o.call(t,d)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=l;++f<c;){var v=e[d=u[f]],y=t[d];if(i)var b=l?i(y,v,d,t,e,s):i(v,y,d,e,t,s);if(!(void 0===b?v===y||a(v,y,n,i,s):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var A=e.constructor,C=t.constructor;A==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof C&&C instanceof C||(g=!1)}return s.delete(e),s.delete(t),g}},function(e,t,n){var r=n(121),o=n(47);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},function(e,t,n){var r=n(117),o=n(3),i=n(171),a=n(99),s=n(121),l=n(122),u=n(60);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},function(e,t,n){var r=n(172),o=n(173);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(98),o=n(123),i=n(21),a=n(116),s=n(112),l=n(60);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,f=!1;++u<c;){var d=l(t[u]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&s(c)&&a(d,c)&&(i(e)||o(e))}},function(e,t,n){var r=n(175),o=n(176),i=n(99),a=n(60);e.exports=function(e){return i(e)?r(a(e)):o(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(114);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(178),o=n(101),i=n(179),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:i(n);return l<0&&(l=a(s+l,0)),r(e,o(t,3),l)}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t,n){var r=n(180);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){var r=n(124);e.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){(function(r){var o;"undefined"!=typeof window&&window,void 0===(o=function(e,t,r){return function(e,t,n,r){function o(e){var t;return e&&e.postMessage?t=e:e instanceof Node&&(t=e.window||e.contentWindow),t}function i(e){var o,i=e||this;if(e)for(o in a)e[o]=this[o].bind(this);var s=this.switchboard=new t,l=this.hub=s.port1,u=(this.dock=s.port2,l=this.hub,this.topics={}),c=(new t).port1;(this.allTopicsRepeater=new n("*",c)).addConsumer(this,(function(e,t){n.publishTopic(u["*"],e,t.originalType)}),!1,{}),this.channelBroker=new r(this.dock,this),i.on=i.addListener=function(e,t){n.addTopicListener(this,l,u,e,t,!1)},i.off=i.removeListener=function(e,t){n.removeTopicListener(this,u,e,t)},i.one=i.once=function(e,t){n.addTopicListener(this,l,u,e,t,!0)}}var a=i.prototype={publish:function(e,t,r){var o=n.publishTopic(this.topics[e],t);return n.publishTopic(this.allTopicsRepeater,t,e),!0!==r&&this.channelBroker.publish(e,t),o},publishChannel:function(e,t){return this.channelBroker.publish(e,t)},removeAllListeners:function(e){var t,r=this.topics;if(e)n.removeAllTopicListeners(r,e);else for(t in r)n.removeAllTopicListeners(r,t)},getTopics:function(e){return this.topics},hasListeners:function(e){var t=this.topics[e];return!(!e||!t||!t.consumerCount)},openChannel:function(e,t,n){var r=o(e),i=t||"global";return!(!r||!r.postMessage)&&this.channelBroker.connect(r,i,n)},closeChannel:function(e,t){var n=o(e),r=t||"global";return!(!n||!n.postMessage||(this.channelBroker.disconnect(n,r),0))}},s=function(e){var t=new i(e);return t.sharedMessageService=l,e||t},l=s();return l.sharedMessageService=l,l.bind=function(e){if(!e)throw new Error("Binding object not specified");return s(e)},l.create=s,l}(0,n(103),n(104),n(182))}.call(t,n,t,e))||(e.exports=o)}).call(this,n(48))},function(e,t,n){(function(r){var o;void 0===(o=function(e,t,r){return function(e,t,n){"undefined"!=typeof window&&window;var r=e.events.CHANNELMESSAGE_REPEATER;function o(e){return!(!e.target||e.target!==this||(e.disconnect(),0))}function i(e,n){this.hub=e,this.topics=n.topics,this.messageService=n,null===e&&(this.isMessageChannel=!1,this.hub=(new t).port1),this.channelTopics={},this.channels={}}return i.prototype={isMessageChannel:!0,publish:function(e,t){var o=n.createEvent(r);o.data={topic:e,msg:t},this.hub.dispatchEvent(o)},connect:function(t,n,r){var o=this.channels,i=o[n]||(o[n]=[]),a=new e(t,n,r,this);return!!a.connect()&&(i.push(a),a)},disconnect:function(e,t){var n=this.channels[t];n&&n.length&&openChannels.some(o,e)}},i}(n(183),n(103),n(104))}.call(t,n,t,e))||(e.exports=o)}).call(this,n(48))},function(e,t,n){(function(r){var o;void 0===(o=function(e,t,o){return function(e,t){var n="undefined"!=typeof window?window:void 0!==r?r:this,o="MessageService::channel";function i(e,t,n,r){var o=this;this.target=e,this.handshake=t,this.initData=n,this.initDataFromTarget=null,this.hub=r.hub,this.messageService=r.messageService,this.topics=r.topics,this.channelTopics=r.channelTopics,this.status="pending",this.isMessageChannel=r.isMessageChannel,this.handshakeMessageCallback=function(e){o.handshakeMessage(e)},this.channelRepeaterCallback=function(e){o.channelRepeater(e)},this.channelConfirmationCallback=function(e){o.channelConfirmation(e)}}return i.events={CHANNELMESSAGE:o,CHANNELMESSAGE_REPEATER:"MessageService::channel::repeater",CHANNELMESSAGE_READY:"channel::ready",CHANNELMESSAGE_ERROR:"channel::error",CHANNELMESSAGE_COMPLETE:"MessageService::channel::complete",CHANNELMESSAGE_DISCONNECT:"MessageService::channel::disconnect",CHANNELMESSAGE_CLOSED:"channel::closed"},i.prototype={publish:function(e,t){this.repeatToChannel({topic:e,msg:t})},acceptInvitation:function(r,i){if(this.target&&this.handshake&&this.isMessageChannel){this.topics;var a,s=this.target;if(!r){var l=new e;r=l.port1,a=l.port2,this.initDataFromTarget=i}r.start(),this.port=r,r.addEventListener("message",this.channelRepeaterCallback,!1),t.addTopicListener(this,this.hub,this.channelTopics,"MessageService::channel::repeater",this.repeatToChannel,!1),a?(r.addEventListener("message",this.channelConfirmationCallback,!1),s.postMessage({type:o,handshake:this.handshake,initData:this.initData},"*",[a])):(this.status="ready",n.removeEventListener("message",this.handshakeMessage,!1),r.postMessage({type:"MessageService::channel::complete",handshake:this.handshake}),this.messageService.publish("channel::ready",{id:this.handshake,data:i},!0))}},handshakeMessage:function(e){var n=this.handshakeListener(this.target,e);if(n)if(n===o)this.acceptInvitation(e.ports&&e.ports[0],e.data&&e.data.initData);else if("MessageService::channel::repeater"===n){var r=e.data;r&&r.topic&&r.hasOwnProperty("msg")&&t.publishTopic(this.topics[r.topic],r.msg)}},channelRepeater:function(e){var n=e.data;n&&n.topic&&n.hasOwnProperty("msg")?t.publishTopic(this.topics[n.topic],n.msg):"MessageService::channel::disconnect"===this.handshakeListener(this.port,e)&&this.disconnect()},repeatToChannel:function(e,t){var n=this.target,r=this.port;n&&!0!==n.closed?e&&e.topic&&e.hasOwnProperty("msg")&&r.postMessage({topic:e.topic,msg:e.msg}):this.disconnect()},channelConfirmation:function(e){"MessageService::channel::complete"===this.handshakeListener(this.port,e)&&(n.removeEventListener("message",this.handshakeMessageCallback,!1),this.port.removeEventListener("message",this.channelConfirmationCallback,!1),this.status="ready",this.messageService.publish("channel::ready",{id:this.handshake,data:this.initDataFromTarget},!0))},connect:function(){var e,t=!0;this.target,n.addEventListener("message",this.handshakeMessageCallback,!1);try{this.target.postMessage({type:o,handshake:this.handshake,initData:this.initData},"*")}catch(e){t=!1,channelError=e}finally{t||(this.disconnect(),this.messageService.publish("channel::error",{id:this.handshake,data:channelError},!0))}return t},disconnect:function(){var e=this.port;n.removeEventListener("message",this.handshakeMessageCallback,!1),t.removeTopicListener(this,this.channelTopics,"MessageService::channel::repeater",this.repeatToChannel),this.status="closed",e&&(e.removeEventListener("message",this.channelRepeaterCallback,!1),e.postMessage({type:"MessageService::channel::disconnect",handshake:this.handshake}),e.close()),this.messageService.publish("channel::closed",{id:this.handshake,data:this},!0)},handshakeListener:function(e,t){var n=t.data,r=this.handshake;return!(!n||n.type!==o&&"MessageService::channel::repeater"!==n.type&&"MessageService::channel::complete"!==n.type&&"MessageService::channel::disconnect"!==n.type||r!==n.handshake||e!==(t.source||t.srcElement))&&n.type}},i}(n(103),n(104))}.call(t,n,t,e))||(e.exports=o)}).call(this,n(48))},function(e,t,n){var r=n(105),o=n(47);e.exports=function(e,t){return e&&r(e,t,o)}},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},function(e,t,n){var r=n(66);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},function(e,t,n){var r=n(188),o=n(100),i=/[&<>"']/g,a=RegExp(i.source);e.exports=function(e){return(e=o(e))&&a.test(e)?e.replace(i,r):e}},function(e,t,n){var r=n(189)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=r},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t,n){var r=n(129),o=n(130),i=n(191),a=n(132),s=n(133),l=n(123),u=n(21),c=n(195),f=n(102),d=n(111),p=n(28),h=n(196),g=n(120),m=n(135),v=n(197);e.exports=function(e,t,n,y,b,A,C){var I=m(e,n),_=m(t,n),E=C.get(_);if(E)r(e,n,E);else{var w=A?A(I,_,n+"",e,t,C):void 0,S=void 0===w;if(S){var T=u(_),k=!T&&f(_),x=!T&&!k&&g(_);w=_,T||k||x?u(I)?w=I:c(I)?w=a(I):k?(S=!1,w=o(_,!0)):x?(S=!1,w=i(_,!0)):w=[]:h(_)||l(_)?(w=I,l(I)?w=v(I):p(I)&&!d(I)||(w=s(_))):S=!1}S&&(C.set(_,w),b(w,_,y,A,C),C.delete(_)),r(e,n,w)}}},function(e,t,n){var r=n(192);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(193);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(68).Uint8Array;e.exports=r},function(e,t,n){var r=n(28),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(66),o=n(71);e.exports=function(e){return o(e)&&r(e)}},function(e,t,n){var r=n(96),o=n(134),i=n(71),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},function(e,t,n){var r=n(46),o=n(61);e.exports=function(e){return r(e,o(e))}},function(e,t,n){var r=n(28),o=n(199),i=n(124),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,f,d,p,h=0,g=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=u;return l=u=void 0,h=t,f=e.apply(r,n)}function b(e){return h=e,d=setTimeout(C,t),g?y(e):f}function A(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-h>=c}function C(){var e=o();if(A(e))return I(e);d=setTimeout(C,function(e){var n=t-(e-p);return m?s(n,c-(e-h)):n}(e))}function I(e){return d=void 0,v&&l?y(e):(l=u=void 0,f)}function _(){var e=o(),n=A(e);if(l=arguments,u=this,p=e,n){if(void 0===d)return b(p);if(m)return clearTimeout(d),d=setTimeout(C,t),y(p)}return void 0===d&&(d=setTimeout(C,t)),f}return t=i(t)||0,r(n)&&(g=!!n.leading,c=(m="maxWait"in n)?a(i(n.maxWait)||0,t):c,v="trailing"in n?!!n.trailing:v),_.cancel=function(){void 0!==d&&clearTimeout(d),h=0,l=p=u=d=void 0},_.flush=function(){return void 0===d?f:I(o())},_}},function(e,t,n){var r=n(68);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(69),o=n(125),i=n(65),a=n(201),s=n(202),l=n(130),u=n(132),c=n(203),f=n(205),d=n(118),p=n(207),h=n(119),g=n(208),m=n(209),v=n(133),y=n(21),b=n(102),A=n(210),C=n(28),I=n(211),_=n(47),E=n(61),w={};w["[object Arguments]"]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object DataView]"]=w["[object Boolean]"]=w["[object Date]"]=w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Map]"]=w["[object Number]"]=w["[object Object]"]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object Symbol]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Error]"]=w["[object Function]"]=w["[object WeakMap]"]=!1,e.exports=function e(t,n,S,T,k,x){var P,O=1&n,L=2&n,D=4&n;if(S&&(P=k?S(t,T,k,x):S(t)),void 0!==P)return P;if(!C(t))return t;var j=y(t);if(j){if(P=g(t),!O)return u(t,P)}else{var R=h(t),M="[object Function]"==R||"[object GeneratorFunction]"==R;if(b(t))return l(t,O);if("[object Object]"==R||"[object Arguments]"==R||M&&!k){if(P=L||M?{}:v(t),!O)return L?f(t,s(P,t)):c(t,a(P,t))}else{if(!w[R])return k?t:{};P=m(t,R,O)}}x||(x=new r);var N=x.get(t);if(N)return N;x.set(t,P),I(t)?t.forEach((function(r){P.add(e(r,n,S,r,t,x))})):A(t)&&t.forEach((function(r,o){P.set(o,e(r,n,S,o,t,x))}));var F=j?void 0:(D?L?p:d:L?E:_)(t);return o(F||t,(function(r,o){F&&(r=t[o=r]),i(P,o,e(r,n,S,o,t,x))})),P}},function(e,t,n){var r=n(46),o=n(47);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(46),o=n(61);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(46),o=n(204);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(46),o=n(206);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r;window,r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=138)}([function(e,t,n){var r=n(33);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(t,n){t.exports=e},function(e,t){var n=Array.isArray;e.exports=n},function(e,n){e.exports=t},function(e,t,n){var r,o,i;o=[n(127)],void 0===(i="function"==typeof(r=function(e){"use strict";var t,n={global:{}},r={};function o(){i()}var i=function(){};return o.prototype={registerEvents:function(e,t){e?n[e]?this.merge(t,e):n[e]=t:this.merge(t,e)},merge:function(e,t){for(var r in e)e.hasOwnProperty(r)&&(n[t||"global"][r]=e[r])},deleteEventsByKey:function(e){e&&n[e]?delete n[e]:console.log("bandwagon: specified namespace does not exist in events cache to delete",e)},getRegisteredEvents:function(){return n},getRegisteredEventsByKey:function(e){var t;return e&&n[e]?t=n[e]:console.log("please provide valid event key you want to retrieve from the events cache",e),t},getInstanceByKey:function(t){return t&&!r[t]?r[t]=e.create():r[t]},getInstancesAvailable:function(){return r},deleteInstanceByKey:function(e){e&&r[e]?delete r[e]:console.log("bandwagon: specified key does not exist in cache to delete",e)}},t=t||new o})?r.apply(t,o):r)||(e.exports=i)},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(72),o=n(89)((function(e,t,n){r(e,t,n)}));e.exports=o},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(69);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(21)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(23),o=n(24);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?o(n,u,c):r(n,u,c)}return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r,o,i;
/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */o="undefined"!=typeof window?window:this,i=function(n,o){var i=[],a=i.slice,s=i.concat,l=i.push,u=i.indexOf,c={},f=c.toString,d=c.hasOwnProperty,p={},h=n.document,g=function(e,t){return new g.fn.init(e,t)},m=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,v=/^-ms-/,y=/-([\da-z])/gi,b=function(e,t){return t.toUpperCase()};function A(e){var t="length"in e&&e.length,n=g.type(e);return"function"!==n&&!g.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}g.fn=g.prototype={jquery:"2.1.4",constructor:g,selector:"",length:0,toArray:function(){return a.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:a.call(this)},pushStack:function(e){var t=g.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return g.each(this,e,t)},map:function(e){return this.pushStack(g.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:l,sort:i.sort,splice:i.splice},g.extend=g.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||g.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(u&&r&&(g.isPlainObject(r)||(o=g.isArray(r)))?(o?(o=!1,i=n&&g.isArray(n)?n:[]):i=n&&g.isPlainObject(n)?n:{},a[t]=g.extend(u,i,r)):void 0!==r&&(a[t]=r));return a},g.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===g.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!g.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return!("object"!==g.type(e)||e.nodeType||g.isWindow(e)||e.constructor&&!d.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[f.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=g.trim(e))&&(1===e.indexOf("use strict")?((t=h.createElement("script")).text=e,h.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(v,"ms-").replace(y,b)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,o=e.length,i=A(e);if(n){if(i)for(;r<o&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(i)for(;r<o&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(m,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(A(Object(e))?g.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o=0,i=e.length,a=[];if(A(e))for(;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return s.apply([],a)},guid:1,proxy:function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),g.isFunction(e))return r=a.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(a.call(arguments)))}).guid=e.guid=e.guid||g.guid++,o},now:Date.now,support:p}),g.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){c["[object "+t+"]"]=t.toLowerCase()}));var C=
/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){var t,n,r,o,i,a,s,l,u,c,f,d,p,h,g,m,v,y,b,A="sizzle"+1*new Date,C=e.document,I=0,_=0,E=ie(),w=ie(),S=ie(),T=function(e,t){return e===t&&(f=!0),0},k={}.hasOwnProperty,x=[],P=x.pop,O=x.push,L=x.push,D=x.slice,j=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F=N.replace("w","w#"),B="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+M+"*\\]",U=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",G=new RegExp(M+"+","g"),H=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),V=new RegExp("^"+M+"*,"+M+"*"),W=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),Y=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),z=new RegExp(U),K=new RegExp("^"+F+"$"),q={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},$=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=function(){d()};try{L.apply(x=D.call(C.childNodes),C.childNodes),x[C.childNodes.length].nodeType}catch(e){L={apply:x.length?function(e,t){O.apply(e,D.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,r,o){var i,s,u,c,f,h,v,y,I,_;if((t?t.ownerDocument||t:C)!==p&&d(t),r=r||[],c=(t=t||p).nodeType,"string"!=typeof e||!e||1!==c&&9!==c&&11!==c)return r;if(!o&&g){if(11!==c&&(i=Q.exec(e)))if(u=i[1]){if(9===c){if(!(s=t.getElementById(u))||!s.parentNode)return r;if(s.id===u)return r.push(s),r}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(u))&&b(t,s)&&s.id===u)return r.push(s),r}else{if(i[2])return L.apply(r,t.getElementsByTagName(e)),r;if((u=i[3])&&n.getElementsByClassName)return L.apply(r,t.getElementsByClassName(u)),r}if(n.qsa&&(!m||!m.test(e))){if(y=v=A,I=t,_=1!==c&&e,1===c&&"object"!==t.nodeName.toLowerCase()){for(h=a(e),(v=t.getAttribute("id"))?y=v.replace(ee,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",f=h.length;f--;)h[f]=y+ge(h[f]);I=J.test(e)&&pe(t.parentNode)||t,_=h.join(",")}if(_)try{return L.apply(r,I.querySelectorAll(_)),r}catch(e){}finally{v||t.removeAttribute("id")}}}return l(e.replace(H,"$1"),t,r,o)}function ie(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ae(e){return e[A]=!0,e}function se(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),o=e.length;o--;)r.attrHandle[n[o]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return ae((function(t){return t=+t,ae((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},i=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=oe.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:C;return a!==p&&9===a.nodeType&&a.documentElement?(p=a,h=a.documentElement,(o=a.defaultView)&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",re,!1):o.attachEvent&&o.attachEvent("onunload",re)),g=!i(a),n.attributes=se((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=se((function(e){return e.appendChild(a.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(a.getElementsByClassName),n.getById=se((function(e){return h.appendChild(e).id=A,!a.getElementsByName||!a.getElementsByName(A).length})),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=Z.test(a.querySelectorAll))&&(se((function(e){h.appendChild(e).innerHTML="<a id='"+A+"'></a><select id='"+A+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+A+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+A+"+*").length||m.push(".#.+[+~]")})),se((function(e){var t=a.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+M+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=Z.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&se((function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),v.push("!=",U)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=Z.test(h.compareDocumentPosition),b=t||Z.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===a||e.ownerDocument===C&&b(C,e)?-1:t===a||t.ownerDocument===C&&b(C,t)?1:c?j(c,e)-j(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,s=[e],l=[t];if(!o||!i)return e===a?-1:t===a?1:o?-1:i?1:c?j(c,e)-j(c,t):0;if(o===i)return ue(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?ue(s[r],l[r]):s[r]===C?-1:l[r]===C?1:0},a):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),t=t.replace(Y,"='$1']"),n.matchesSelector&&g&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),b(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var o=r.attrHandle[t.toLowerCase()],i=o&&k.call(r.attrHandle,t.toLowerCase())?o(e,t,!g):void 0;return void 0!==i?i:n.attributes||!g?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],o=0,i=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(T),f){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return c=null,e},o=oe.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:ae,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=oe.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(G," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,d,p,h,g=i!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(m){if(i){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&y){for(p=(u=(c=m[A]||(m[A]={}))[e]||[])[0]===I&&u[1],d=u[0]===I&&u[2],f=p&&m.childNodes[p];f=++p&&f&&f[g]||(d=p=0)||h.pop();)if(1===f.nodeType&&++d&&f===t){c[e]=[I,p,d];break}}else if(y&&(u=(t[A]||(t[A]={}))[e])&&u[0]===I)d=u[1];else for(;(f=++p&&f&&f[g]||(d=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[A]||(f[A]={}))[e]=[I,d]),f!==t)););return(d-=o)===r||d%r==0&&d/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return o[A]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ae((function(e,n){for(var r,i=o(e,t),a=i.length;a--;)e[r=j(e,i[a])]=!(n[r]=i[a])})):function(e){return o(e,0,n)}):o}},pseudos:{not:ae((function(e){var t=[],n=[],r=s(e.replace(H,"$1"));return r[A]?ae((function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:ae((function(e){return function(t){return oe(e,t).length>0}})),contains:ae((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}})),lang:ae((function(e){return K.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return $.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de((function(){return[0]})),last:de((function(e,t){return[t-1]})),eq:de((function(e,t,n){return[n<0?n+t:n]})),even:de((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:de((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:de((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:de((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ce(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function he(){}function ge(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=_++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,l,u=[I,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if((s=(l=t[A]||(t[A]={}))[r])&&s[0]===I&&s[1]===i)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function ve(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function ye(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),u&&t.push(s)));return a}function be(e,t,n,r,o,i){return r&&!r[A]&&(r=be(r)),o&&!o[A]&&(o=be(o,i)),ae((function(i,a,s,l){var u,c,f,d=[],p=[],h=a.length,g=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)oe(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!i&&t?g:ye(g,d,e,s,l),v=n?o||(i?e:h||r)?[]:a:m;if(n&&n(m,v,s,l),r)for(u=ye(v,p),r(u,[],s,l),c=u.length;c--;)(f=u[c])&&(v[p[c]]=!(m[p[c]]=f));if(i){if(o||e){if(o){for(u=[],c=v.length;c--;)(f=v[c])&&u.push(m[c]=f);o(null,v=[],u,l)}for(c=v.length;c--;)(f=v[c])&&(u=o?j(i,f):d[c])>-1&&(i[u]=!(a[u]=f))}}else v=ye(v===a?v.splice(h,v.length):v),o?o(null,a,v,l):L.apply(a,v)}))}function Ae(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],l=a?1:0,c=me((function(e){return e===t}),s,!0),f=me((function(e){return j(t,e)>-1}),s,!0),d=[function(e,n,r){var o=!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,o}];l<i;l++)if(n=r.relative[e[l].type])d=[me(ve(d),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[A]){for(o=++l;o<i&&!r.relative[e[o].type];o++);return be(l>1&&ve(d),l>1&&ge(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(H,"$1"),n,l<o&&Ae(e.slice(l,o)),o<i&&Ae(e=e.slice(o)),o<i&&ge(e))}d.push(n)}return ve(d)}return he.prototype=r.filters=r.pseudos,r.setFilters=new he,a=oe.tokenize=function(e,t){var n,o,i,a,s,l,u,c=w[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=r.preFilter;s;){for(a in n&&!(o=V.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),n=!1,(o=W.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(H," ")}),s=s.slice(n.length)),r.filter)!(o=q[a].exec(s))||u[a]&&!(o=u[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):w(e,l).slice(0)},s=oe.compile=function(e,t){var n,o=[],i=[],s=S[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Ae(t[n]))[A]?o.push(s):i.push(s);(s=S(e,function(e,t){var n=t.length>0,o=e.length>0,i=function(i,a,s,l,c){var f,d,h,g=0,m="0",v=i&&[],y=[],b=u,A=i||o&&r.find.TAG("*",c),C=I+=null==b?1:Math.random()||.1,_=A.length;for(c&&(u=a!==p&&a);m!==_&&null!=(f=A[m]);m++){if(o&&f){for(d=0;h=e[d++];)if(h(f,a,s)){l.push(f);break}c&&(I=C)}n&&((f=!h&&f)&&g--,i&&v.push(f))}if(g+=m,n&&m!==g){for(d=0;h=t[d++];)h(v,y,a,s);if(i){if(g>0)for(;m--;)v[m]||y[m]||(y[m]=P.call(l));y=ye(y)}L.apply(l,y),c&&!i&&y.length>0&&g+t.length>1&&oe.uniqueSort(l)}return c&&(I=C,u=b),v};return n?ae(i):i}(i,o))).selector=e}return s},l=oe.select=function(e,t,o,i){var l,u,c,f,d,p="function"==typeof e&&e,h=!i&&a(e=p.selector||e);if(o=o||[],1===h.length){if((u=h[0]=h[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&n.getById&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return o;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(l=q.needsContext.test(e)?0:u.length;l--&&(c=u[l],!r.relative[f=c.type]);)if((d=r.find[f])&&(i=d(c.matches[0].replace(te,ne),J.test(u[0].type)&&pe(t.parentNode)||t))){if(u.splice(l,1),!(e=i.length&&ge(u)))return L.apply(o,i),o;break}}return(p||s(e,h))(i,t,!g,o,J.test(e)&&pe(t.parentNode)||t),o},n.sortStable=A.split("").sort(T).join("")===A,n.detectDuplicates=!!f,d(),n.sortDetached=se((function(e){return 1&e.compareDocumentPosition(p.createElement("div"))})),se((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||le("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&se((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||le("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),se((function(e){return null==e.getAttribute("disabled")}))||le(R,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),oe}(n);g.find=C,g.expr=C.selectors,g.expr[":"]=g.expr.pseudos,g.unique=C.uniqueSort,g.text=C.getText,g.isXMLDoc=C.isXML,g.contains=C.contains;var I=g.expr.match.needsContext,_=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;function w(e,t,n){if(g.isFunction(t))return g.grep(e,(function(e,r){return!!t.call(e,r,e)!==n}));if(t.nodeType)return g.grep(e,(function(e){return e===t!==n}));if("string"==typeof t){if(E.test(t))return g.filter(t,e,n);t=g.filter(t,e)}return g.grep(e,(function(e){return u.call(t,e)>=0!==n}))}g.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?g.find.matchesSelector(r,e)?[r]:[]:g.find.matches(e,g.grep(t,(function(e){return 1===e.nodeType})))},g.fn.extend({find:function(e){var t,n=this.length,r=[],o=this;if("string"!=typeof e)return this.pushStack(g(e).filter((function(){for(t=0;t<n;t++)if(g.contains(o[t],this))return!0})));for(t=0;t<n;t++)g.find(e,o[t],r);return(r=this.pushStack(n>1?g.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(w(this,e||[],!1))},not:function(e){return this.pushStack(w(this,e||[],!0))},is:function(e){return!!w(this,"string"==typeof e&&I.test(e)?g(e):e||[],!1).length}});var S,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(g.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:T.exec(e))||!n[1]&&t)return!t||t.jquery?(t||S).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof g?t[0]:t,g.merge(this,g.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:h,!0)),_.test(n[1])&&g.isPlainObject(t))for(n in t)g.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=h.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=h,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):g.isFunction(e)?void 0!==S.ready?S.ready(e):e(g):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),g.makeArray(e,this))}).prototype=g.fn,S=g(h);var k=/^(?:parents|prev(?:Until|All))/,x={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}g.extend({dir:function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&g(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),g.fn.extend({has:function(e){var t=g(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(g.contains(this,t[e]))return!0}))},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=I.test(e)||"string"!=typeof e?g(e,t||this.context):0;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&g.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?g.unique(i):i)},index:function(e){return e?"string"==typeof e?u.call(g(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(g.unique(g.merge(this.get(),g(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),g.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return g.dir(e,"parentNode")},parentsUntil:function(e,t,n){return g.dir(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return g.dir(e,"nextSibling")},prevAll:function(e){return g.dir(e,"previousSibling")},nextUntil:function(e,t,n){return g.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return g.dir(e,"previousSibling",n)},siblings:function(e){return g.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return g.sibling(e.firstChild)},contents:function(e){return e.contentDocument||g.merge([],e.childNodes)}},(function(e,t){g.fn[e]=function(n,r){var o=g.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=g.filter(r,o)),this.length>1&&(x[e]||g.unique(o),k.test(e)&&o.reverse()),this.pushStack(o)}}));var O,L=/\S+/g,D={};function j(){h.removeEventListener("DOMContentLoaded",j,!1),n.removeEventListener("load",j,!1),g.ready()}g.Callbacks=function(e){e="string"==typeof e?D[e]||function(e){var t=D[e]={};return g.each(e.match(L)||[],(function(e,n){t[n]=!0})),t}(e):g.extend({},e);var t,n,r,o,i,a,s=[],l=!e.once&&[],u=function(f){for(t=e.memory&&f,n=!0,a=o||0,o=0,i=s.length,r=!0;s&&a<i;a++)if(!1===s[a].apply(f[0],f[1])&&e.stopOnFalse){t=!1;break}r=!1,s&&(l?l.length&&u(l.shift()):t?s=[]:c.disable())},c={add:function(){if(s){var n=s.length;!function t(n){g.each(n,(function(n,r){var o=g.type(r);"function"===o?e.unique&&c.has(r)||s.push(r):r&&r.length&&"string"!==o&&t(r)}))}(arguments),r?i=s.length:t&&(o=n,u(t))}return this},remove:function(){return s&&g.each(arguments,(function(e,t){for(var n;(n=g.inArray(t,s,n))>-1;)s.splice(n,1),r&&(n<=i&&i--,n<=a&&a--)})),this},has:function(e){return e?g.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],i=0,this},disable:function(){return s=l=t=void 0,this},disabled:function(){return!s},lock:function(){return l=void 0,t||c.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!s||n&&!l||(t=[e,(t=t||[]).slice?t.slice():t],r?l.push(t):u(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},g.extend({Deferred:function(e){var t=[["resolve","done",g.Callbacks("once memory"),"resolved"],["reject","fail",g.Callbacks("once memory"),"rejected"],["notify","progress",g.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return g.Deferred((function(n){g.each(t,(function(t,i){var a=g.isFunction(e[t])&&e[t];o[i[1]]((function(){var e=a&&a.apply(this,arguments);e&&g.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[i[0]+"With"](this===r?n.promise():this,a?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?g.extend(e,r):r}},o={};return r.pipe=r.then,g.each(t,(function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith})),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,i=a.call(arguments),s=i.length,l=1!==s||e&&g.isFunction(e.promise)?s:0,u=1===l?e:g.Deferred(),c=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?a.call(arguments):o,r===t?u.notifyWith(n,r):--l||u.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);o<s;o++)i[o]&&g.isFunction(i[o].promise)?i[o].promise().done(c(o,r,i)).fail(u.reject).progress(c(o,n,t)):--l;return l||u.resolveWith(r,i),u.promise()}}),g.fn.ready=function(e){return g.ready.promise().done(e),this},g.extend({isReady:!1,readyWait:1,holdReady:function(e){e?g.readyWait++:g.ready(!0)},ready:function(e){(!0===e?--g.readyWait:g.isReady)||(g.isReady=!0,!0!==e&&--g.readyWait>0||(O.resolveWith(h,[g]),g.fn.triggerHandler&&(g(h).triggerHandler("ready"),g(h).off("ready"))))}}),g.ready.promise=function(e){return O||(O=g.Deferred(),"complete"===h.readyState?setTimeout(g.ready):(h.addEventListener("DOMContentLoaded",j,!1),n.addEventListener("load",j,!1))),O.promise(e)},g.ready.promise();var R=g.access=function(e,t,n,r,o,i,a){var s=0,l=e.length,u=null==n;if("object"===g.type(n))for(s in o=!0,n)g.access(e,t,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,g.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(g(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:u?t.call(e):l?t(e[0],n):i};function M(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=g.expando+M.uid++}g.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},M.uid=1,M.accepts=g.acceptData,M.prototype={key:function(e){if(!M.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=M.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,g.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,o=this.key(e),i=this.cache[o];if("string"==typeof t)i[t]=n;else if(g.isEmptyObject(i))g.extend(this.cache[o],t);else for(r in t)i[r]=t[r];return i},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,g.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,o,i=this.key(e),a=this.cache[i];if(void 0===t)this.cache[i]={};else{g.isArray(t)?r=t.concat(t.map(g.camelCase)):(o=g.camelCase(t),r=t in a?[t,o]:(r=o)in a?[r]:r.match(L)||[]),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!g.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var N=new M,F=new M,B=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,U=/([A-Z])/g;function G(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(U,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:B.test(n)?g.parseJSON(n):n)}catch(e){}F.set(e,t,n)}else n=void 0;return n}g.extend({hasData:function(e){return F.hasData(e)||N.hasData(e)},data:function(e,t,n){return F.access(e,t,n)},removeData:function(e,t){F.remove(e,t)},_data:function(e,t,n){return N.access(e,t,n)},_removeData:function(e,t){N.remove(e,t)}}),g.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=F.get(i),1===i.nodeType&&!N.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=g.camelCase(r.slice(5)),G(i,r,o[r]));N.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){F.set(this,e)})):R(this,(function(t){var n,r=g.camelCase(e);if(i&&void 0===t)return void 0!==(n=F.get(i,e))||void 0!==(n=F.get(i,r))||void 0!==(n=G(i,r,void 0))?n:void 0;this.each((function(){var n=F.get(this,r);F.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&F.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){F.remove(this,e)}))}}),g.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=N.get(e,t),n&&(!r||g.isArray(n)?r=N.access(e,t,g.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=g.queue(e,t),r=n.length,o=n.shift(),i=g._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,(function(){g.dequeue(e,t)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return N.get(e,n)||N.access(e,n,{empty:g.Callbacks("once memory").add((function(){N.remove(e,[t+"queue",n])}))})}}),g.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?g.queue(this[0],e):void 0===t?this:this.each((function(){var n=g.queue(this,e,t);g._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&g.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){g.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=g.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=N.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var H,V,W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Y=["Top","Right","Bottom","Left"],z=function(e,t){return e=t||e,"none"===g.css(e,"display")||!g.contains(e.ownerDocument,e)},K=/^(?:checkbox|radio)$/i;H=h.createDocumentFragment().appendChild(h.createElement("div")),(V=h.createElement("input")).setAttribute("type","radio"),V.setAttribute("checked","checked"),V.setAttribute("name","t"),H.appendChild(V),p.checkClone=H.cloneNode(!0).cloneNode(!0).lastChild.checked,H.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!H.cloneNode(!0).lastChild.defaultValue,p.focusinBubbles="onfocusin"in n;var q=/^key/,$=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Z=/^([^.]*)(?:\.(.+)|)$/;function Q(){return!0}function J(){return!1}function ee(){try{return h.activeElement}catch(e){}}g.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,u,c,f,d,p,h,m,v=N.get(e);if(v)for(n.handler&&(n=(i=n).handler,o=i.selector),n.guid||(n.guid=g.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==g&&g.event.triggered!==t.type?g.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(L)||[""]).length;u--;)p=m=(s=Z.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),p&&(f=g.event.special[p]||{},p=(o?f.delegateType:f.bindType)||p,f=g.event.special[p]||{},c=g.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&g.expr.match.needsContext.test(o),namespace:h.join(".")},i),(d=l[p])||((d=l[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a,!1)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),g.event.global[p]=!0)},remove:function(e,t,n,r,o){var i,a,s,l,u,c,f,d,p,h,m,v=N.hasData(e)&&N.get(e);if(v&&(l=v.events)){for(u=(t=(t||"").match(L)||[""]).length;u--;)if(p=m=(s=Z.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),p){for(f=g.event.special[p]||{},d=l[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=d.length;i--;)c=d[i],!o&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(i,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||g.removeEvent(e,p,v.handle),delete l[p])}else for(p in l)g.event.remove(e,p+t[u],n,r,!0);g.isEmptyObject(l)&&(delete v.handle,N.remove(e,"events"))}},trigger:function(e,t,r,o){var i,a,s,l,u,c,f,p=[r||h],m=d.call(e,"type")?e.type:e,v=d.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||h,3!==r.nodeType&&8!==r.nodeType&&!X.test(m+g.event.triggered)&&(m.indexOf(".")>=0&&(v=m.split("."),m=v.shift(),v.sort()),u=m.indexOf(":")<0&&"on"+m,(e=e[g.expando]?e:new g.Event(m,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=v.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:g.makeArray(t,[e]),f=g.event.special[m]||{},o||!f.trigger||!1!==f.trigger.apply(r,t))){if(!o&&!f.noBubble&&!g.isWindow(r)){for(l=f.delegateType||m,X.test(l+m)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||h)&&p.push(s.defaultView||s.parentWindow||n)}for(i=0;(a=p[i++])&&!e.isPropagationStopped();)e.type=i>1?l:f.bindType||m,(c=(N.get(a,"events")||{})[e.type]&&N.get(a,"handle"))&&c.apply(a,t),(c=u&&a[u])&&c.apply&&g.acceptData(a)&&(e.result=c.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),t)||!g.acceptData(r)||u&&g.isFunction(r[m])&&!g.isWindow(r)&&((s=r[u])&&(r[u]=null),g.event.triggered=m,r[m](),g.event.triggered=void 0,s&&(r[u]=s)),e.result}},dispatch:function(e){e=g.event.fix(e);var t,n,r,o,i,s=[],l=a.call(arguments),u=(N.get(this,"events")||{})[e.type]||[],c=g.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=g.event.handlers.call(this,e,u),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,void 0!==(r=((g.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(r=[],n=0;n<s;n++)void 0===r[o=(i=t[n]).selector+" "]&&(r[o]=i.needsContext?g(o,this).index(l)>=0:g.find(o,this,null,[l]).length),r[o]&&r.push(i);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||h).documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},fix:function(e){if(e[g.expando])return e;var t,n,r,o=e.type,i=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=$.test(o)?this.mouseHooks:q.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new g.Event(i),t=r.length;t--;)e[n=r[t]]=i[n];return e.target||(e.target=h),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,i):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ee()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ee()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&g.nodeName(this,"input"))return this.click(),!1},_default:function(e){return g.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var o=g.extend(new g.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?g.event.trigger(o,null,t):g.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},g.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},g.Event=function(e,t){if(!(this instanceof g.Event))return new g.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Q:J):this.type=e,t&&g.extend(this,t),this.timeStamp=e&&e.timeStamp||g.now(),this[g.expando]=!0},g.Event.prototype={isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Q,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Q,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Q,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){g.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||g.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),p.focusinBubbles||g.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){g.event.simulate(t,e.target,g.event.fix(e),!0)};g.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=N.access(r,t);o||r.addEventListener(e,n,!0),N.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=N.access(r,t)-1;o?N.access(r,t,o):(r.removeEventListener(e,n,!0),N.remove(r,t))}}})),g.fn.extend({on:function(e,t,n,r,o){var i,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],o);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=J;else if(!r)return this;return 1===o&&(i=r,(r=function(e){return g().off(e),i.apply(this,arguments)}).guid=i.guid||(i.guid=g.guid++)),this.each((function(){g.event.add(this,e,r,n,t)}))},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,g(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=J),this.each((function(){g.event.remove(this,e,n,t)}))},trigger:function(e,t){return this.each((function(){g.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return g.event.trigger(e,t,n,!0)}});var te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ne=/<([\w:]+)/,re=/<|&#?\w+;/,oe=/<(?:script|style|link)/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^$|\/(?:java|ecma)script/i,se=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ce(e,t){return g.nodeName(e,"table")&&g.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function fe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function de(e){var t=se.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function pe(e,t){for(var n=0,r=e.length;n<r;n++)N.set(e[n],"globalEval",!t||N.get(t[n],"globalEval"))}function he(e,t){var n,r,o,i,a,s,l,u;if(1===t.nodeType){if(N.hasData(e)&&(i=N.access(e),a=N.set(t,i),u=i.events))for(o in delete a.handle,a.events={},u)for(n=0,r=u[o].length;n<r;n++)g.event.add(t,o,u[o][n]);F.hasData(e)&&(s=F.access(e),l=g.extend({},s),F.set(t,l))}}function ge(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&g.nodeName(e,t)?g.merge([e],n):n}ue.optgroup=ue.option,ue.tbody=ue.tfoot=ue.colgroup=ue.caption=ue.thead,ue.th=ue.td,g.extend({clone:function(e,t,n){var r,o,i,a,s,l,u,c=e.cloneNode(!0),f=g.contains(e.ownerDocument,e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||g.isXMLDoc(e)))for(a=ge(c),r=0,o=(i=ge(e)).length;r<o;r++)s=i[r],l=a[r],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&K.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(t)if(n)for(i=i||ge(e),a=a||ge(c),r=0,o=i.length;r<o;r++)he(i[r],a[r]);else he(e,c);return(a=ge(c,"script")).length>0&&pe(a,!f&&ge(e,"script")),c},buildFragment:function(e,t,n,r){for(var o,i,a,s,l,u,c=t.createDocumentFragment(),f=[],d=0,p=e.length;d<p;d++)if((o=e[d])||0===o)if("object"===g.type(o))g.merge(f,o.nodeType?[o]:o);else if(re.test(o)){for(i=i||c.appendChild(t.createElement("div")),a=(ne.exec(o)||["",""])[1].toLowerCase(),s=ue[a]||ue._default,i.innerHTML=s[1]+o.replace(te,"<$1></$2>")+s[2],u=s[0];u--;)i=i.lastChild;g.merge(f,i.childNodes),(i=c.firstChild).textContent=""}else f.push(t.createTextNode(o));for(c.textContent="",d=0;o=f[d++];)if((!r||-1===g.inArray(o,r))&&(l=g.contains(o.ownerDocument,o),i=ge(c.appendChild(o),"script"),l&&pe(i),n))for(u=0;o=i[u++];)ae.test(o.type||"")&&n.push(o);return c},cleanData:function(e){for(var t,n,r,o,i=g.event.special,a=0;void 0!==(n=e[a]);a++){if(g.acceptData(n)&&(o=n[N.expando])&&(t=N.cache[o])){if(t.events)for(r in t.events)i[r]?g.event.remove(n,r):g.removeEvent(n,r,t.handle);N.cache[o]&&delete N.cache[o]}delete F.cache[n[F.expando]]}}}),g.fn.extend({text:function(e){return R(this,(function(e){return void 0===e?g.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return this.domManip(arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ce(this,e).appendChild(e)}))},prepend:function(){return this.domManip(arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ce(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},remove:function(e,t){for(var n,r=e?g.filter(e,this):this,o=0;null!=(n=r[o]);o++)t||1!==n.nodeType||g.cleanData(ge(n)),n.parentNode&&(t&&g.contains(n.ownerDocument,n)&&pe(ge(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(g.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return g.clone(this,e,t)}))},html:function(e){return R(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!oe.test(e)&&!ue[(ne.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(te,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(g.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,(function(t){e=this.parentNode,g.cleanData(ge(this)),e&&e.replaceChild(t,this)})),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=s.apply([],e);var n,r,o,i,a,l,u=0,c=this.length,f=this,d=c-1,h=e[0],m=g.isFunction(h);if(m||c>1&&"string"==typeof h&&!p.checkClone&&ie.test(h))return this.each((function(n){var r=f.eq(n);m&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)}));if(c&&(r=(n=g.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=r),r)){for(i=(o=g.map(ge(n,"script"),fe)).length;u<c;u++)a=n,u!==d&&(a=g.clone(a,!0,!0),i&&g.merge(o,ge(a,"script"))),t.call(this[u],a,u);if(i)for(l=o[o.length-1].ownerDocument,g.map(o,de),u=0;u<i;u++)a=o[u],ae.test(a.type||"")&&!N.access(a,"globalEval")&&g.contains(l,a)&&(a.src?g._evalUrl&&g._evalUrl(a.src):g.globalEval(a.textContent.replace(le,"")))}return this}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){g.fn[e]=function(e){for(var n,r=[],o=g(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),g(o[a])[t](n),l.apply(r,n.get());return this.pushStack(r)}}));var me,ve={};function ye(e,t){var r,o=g(t.createElement(e)).appendTo(t.body),i=n.getDefaultComputedStyle&&(r=n.getDefaultComputedStyle(o[0]))?r.display:g.css(o[0],"display");return o.detach(),i}function be(e){var t=h,n=ve[e];return n||("none"!==(n=ye(e,t))&&n||((t=(me=(me||g("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=ye(e,t),me.detach()),ve[e]=n),n}var Ae=/^margin/,Ce=new RegExp("^("+W+")(?!px)[a-z%]+$","i"),Ie=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):n.getComputedStyle(e,null)};function _e(e,t,n){var r,o,i,a,s=e.style;return(n=n||Ie(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||g.contains(e.ownerDocument,e)||(a=g.style(e,t)),Ce.test(a)&&Ae.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function Ee(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var e,t,r=h.documentElement,o=h.createElement("div"),i=h.createElement("div");function a(){i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",i.innerHTML="",r.appendChild(o);var a=n.getComputedStyle(i,null);e="1%"!==a.top,t="4px"===a.width,r.removeChild(o)}i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===i.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(i),n.getComputedStyle&&g.extend(p,{pixelPosition:function(){return a(),e},boxSizingReliable:function(){return null==t&&a(),t},reliableMarginRight:function(){var e,t=i.appendChild(h.createElement("div"));return t.style.cssText=i.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",i.style.width="1px",r.appendChild(o),e=!parseFloat(n.getComputedStyle(t,null).marginRight),r.removeChild(o),i.removeChild(t),e}}))}(),g.swap=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=n.apply(e,r||[]),t)e.style[i]=a[i];return o};var we=/^(none|table(?!-c[ea]).+)/,Se=new RegExp("^("+W+")(.*)$","i"),Te=new RegExp("^([+-])=("+W+")","i"),ke={position:"absolute",visibility:"hidden",display:"block"},xe={letterSpacing:"0",fontWeight:"400"},Pe=["Webkit","O","Moz","ms"];function Oe(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,o=Pe.length;o--;)if((t=Pe[o]+n)in e)return t;return r}function Le(e,t,n){var r=Se.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function De(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;i<4;i+=2)"margin"===n&&(a+=g.css(e,n+Y[i],!0,o)),r?("content"===n&&(a-=g.css(e,"padding"+Y[i],!0,o)),"margin"!==n&&(a-=g.css(e,"border"+Y[i]+"Width",!0,o))):(a+=g.css(e,"padding"+Y[i],!0,o),"padding"!==n&&(a+=g.css(e,"border"+Y[i]+"Width",!0,o)));return a}function je(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=Ie(e),a="border-box"===g.css(e,"boxSizing",!1,i);if(o<=0||null==o){if(((o=_e(e,t,i))<0||null==o)&&(o=e.style[t]),Ce.test(o))return o;r=a&&(p.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+De(e,t,n||(a?"border":"content"),r,i)+"px"}function Re(e,t){for(var n,r,o,i=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(i[a]=N.get(r,"olddisplay"),n=r.style.display,t?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&z(r)&&(i[a]=N.access(r,"olddisplay",be(r.nodeName)))):(o=z(r),"none"===n&&o||N.set(r,"olddisplay",o?n:g.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[a]||"":"none"));return e}function Me(e,t,n,r,o){return new Me.prototype.init(e,t,n,r,o)}g.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_e(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=g.camelCase(t),l=e.style;if(t=g.cssProps[s]||(g.cssProps[s]=Oe(l,s)),a=g.cssHooks[t]||g.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:l[t];"string"==(i=typeof n)&&(o=Te.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(g.css(e,t)),i="number"),null!=n&&n==n&&("number"!==i||g.cssNumber[s]||(n+="px"),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n))}},css:function(e,t,n,r){var o,i,a,s=g.camelCase(t);return t=g.cssProps[s]||(g.cssProps[s]=Oe(e.style,s)),(a=g.cssHooks[t]||g.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=_e(e,t,r)),"normal"===o&&t in xe&&(o=xe[t]),""===n||n?(i=parseFloat(o),!0===n||g.isNumeric(i)?i||0:o):o}}),g.each(["height","width"],(function(e,t){g.cssHooks[t]={get:function(e,n,r){if(n)return we.test(g.css(e,"display"))&&0===e.offsetWidth?g.swap(e,ke,(function(){return je(e,t,r)})):je(e,t,r)},set:function(e,n,r){var o=r&&Ie(e);return Le(0,n,r?De(e,t,r,"border-box"===g.css(e,"boxSizing",!1,o),o):0)}}})),g.cssHooks.marginRight=Ee(p.reliableMarginRight,(function(e,t){if(t)return g.swap(e,{display:"inline-block"},_e,[e,"marginRight"])})),g.each({margin:"",padding:"",border:"Width"},(function(e,t){g.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+Y[r]+t]=i[r]||i[r-2]||i[0];return o}},Ae.test(e)||(g.cssHooks[e+t].set=Le)})),g.fn.extend({css:function(e,t){return R(this,(function(e,t,n){var r,o,i={},a=0;if(g.isArray(t)){for(r=Ie(e),o=t.length;a<o;a++)i[t[a]]=g.css(e,t[a],!1,r);return i}return void 0!==n?g.style(e,t,n):g.css(e,t)}),e,t,arguments.length>1)},show:function(){return Re(this,!0)},hide:function(){return Re(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){z(this)?g(this).show():g(this).hide()}))}}),g.Tween=Me,Me.prototype={constructor:Me,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(g.cssNumber[n]?"":"px")},cur:function(){var e=Me.propHooks[this.prop];return e&&e.get?e.get(this):Me.propHooks._default.get(this)},run:function(e){var t,n=Me.propHooks[this.prop];return this.options.duration?this.pos=t=g.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Me.propHooks._default.set(this),this}},Me.prototype.init.prototype=Me.prototype,Me.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=g.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){g.fx.step[e.prop]?g.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[g.cssProps[e.prop]]||g.cssHooks[e.prop])?g.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Me.propHooks.scrollTop=Me.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},g.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},g.fx=Me.prototype.init,g.fx.step={};var Ne,Fe,Be=/^(?:toggle|show|hide)$/,Ue=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i"),Ge=/queueHooks$/,He=[function(e,t,n){var r,o,i,a,s,l,u,c=this,f={},d=e.style,p=e.nodeType&&z(e),h=N.get(e,"fxshow");for(r in n.queue||(null==(s=g._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always((function(){c.always((function(){s.unqueued--,g.queue(e,"fx").length||s.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(u=g.css(e,"display"))?N.get(e,"olddisplay")||be(e.nodeName):u)&&"none"===g.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",c.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),t)if(o=t[r],Be.exec(o)){if(delete t[r],i=i||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!h||void 0===h[r])continue;p=!0}f[r]=h&&h[r]||g.style(e,r)}else u=void 0;if(g.isEmptyObject(f))"inline"===("none"===u?be(e.nodeName):u)&&(d.display=u);else for(r in h?"hidden"in h&&(p=h.hidden):h=N.access(e,"fxshow",{}),i&&(h.hidden=!p),p?g(e).show():c.done((function(){g(e).hide()})),c.done((function(){var t;for(t in N.remove(e,"fxshow"),f)g.style(e,t,f[t])})),f)a=ze(p?h[r]:0,r,c),r in h||(h[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],Ve={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),o=Ue.exec(t),i=o&&o[3]||(g.cssNumber[e]?"":"px"),a=(g.cssNumber[e]||"px"!==i&&+r)&&Ue.exec(g.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==i){i=i||a[3],o=o||[],a=+r||1;do{a/=s=s||".5",g.style(n.elem,e,a+i)}while(s!==(s=n.cur()/r)&&1!==s&&--l)}return o&&(a=n.start=+a||+r||0,n.unit=i,n.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),n}]};function We(){return setTimeout((function(){Ne=void 0})),Ne=g.now()}function Ye(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=Y[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ze(e,t,n){for(var r,o=(Ve[t]||[]).concat(Ve["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function Ke(e,t,n){var r,o,i=0,a=He.length,s=g.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=Ne||We(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),i=0,a=u.tweens.length;i<a;i++)u.tweens[i].run(r);return s.notifyWith(e,[u,r,n]),r<1&&a?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:g.extend({},t),opts:g.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ne||We(),duration:n.duration,tweens:[],createTween:function(t,n){var r=g.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=g.camelCase(n)],i=e[n],g.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=g.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(c,u.opts.specialEasing);i<a;i++)if(r=He[i].call(u,e,c,u.opts))return r;return g.map(c,ze,u),g.isFunction(u.opts.start)&&u.opts.start.call(e,u),g.fx.timer(g.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}g.Animation=g.extend(Ke,{tweener:function(e,t){g.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,o=e.length;r<o;r++)n=e[r],Ve[n]=Ve[n]||[],Ve[n].unshift(t)},prefilter:function(e,t){t?He.unshift(e):He.push(e)}}),g.speed=function(e,t,n){var r=e&&"object"==typeof e?g.extend({},e):{complete:n||!n&&t||g.isFunction(e)&&e,duration:e,easing:n&&t||t&&!g.isFunction(t)&&t};return r.duration=g.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in g.fx.speeds?g.fx.speeds[r.duration]:g.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g.isFunction(r.old)&&r.old.call(this),r.queue&&g.dequeue(this,r.queue)},r},g.fn.extend({fadeTo:function(e,t,n,r){return this.filter(z).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=g.isEmptyObject(e),i=g.speed(t,n,r),a=function(){var t=Ke(this,g.extend({},e),i);(o||N.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",i=g.timers,a=N.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&Ge.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||g.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=N.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=g.timers,a=r?r.length:0;for(n.finish=!0,g.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),g.each(["toggle","show","hide"],(function(e,t){var n=g.fn[t];g.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Ye(t,!0),e,r,o)}})),g.each({slideDown:Ye("show"),slideUp:Ye("hide"),slideToggle:Ye("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){g.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),g.timers=[],g.fx.tick=function(){var e,t=0,n=g.timers;for(Ne=g.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||g.fx.stop(),Ne=void 0},g.fx.timer=function(e){g.timers.push(e),e()?g.fx.start():g.timers.pop()},g.fx.interval=13,g.fx.start=function(){Fe||(Fe=setInterval(g.fx.tick,g.fx.interval))},g.fx.stop=function(){clearInterval(Fe),Fe=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(e,t){return e=g.fx&&g.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}}))},function(){var e=h.createElement("input"),t=h.createElement("select"),n=t.appendChild(h.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=n.selected,t.disabled=!0,p.optDisabled=!n.disabled,(e=h.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var qe,$e=g.expr.attrHandle;g.fn.extend({attr:function(e,t){return R(this,g.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){g.removeAttr(this,e)}))}}),g.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(e&&3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?g.prop(e,t,n):(1===i&&g.isXMLDoc(e)||(t=t.toLowerCase(),r=g.attrHooks[t]||(g.expr.match.bool.test(t)?qe:void 0)),void 0===n?r&&"get"in r&&null!==(o=r.get(e,t))?o:null==(o=g.find.attr(e,t))?void 0:o:null!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void g.removeAttr(e,t))},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(L);if(i&&1===e.nodeType)for(;n=i[o++];)r=g.propFix[n]||n,g.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&g.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),qe={set:function(e,t,n){return!1===t?g.removeAttr(e,n):e.setAttribute(n,n),n}},g.each(g.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=$e[t]||g.find.attr;$e[t]=function(e,t,r){var o,i;return r||(i=$e[t],$e[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,$e[t]=i),o}}));var Xe=/^(?:input|select|textarea|button)$/i;g.fn.extend({prop:function(e,t){return R(this,g.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[g.propFix[e]||e]}))}}),g.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,o,i=e.nodeType;if(e&&3!==i&&8!==i&&2!==i)return(1!==i||!g.isXMLDoc(e))&&(t=g.propFix[t]||t,o=g.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Xe.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),p.optSelected||(g.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){g.propFix[this.toLowerCase()]=this}));var Ze=/[\t\r\n\f]/g;g.fn.extend({addClass:function(e){var t,n,r,o,i,a,s="string"==typeof e&&e,l=0,u=this.length;if(g.isFunction(e))return this.each((function(t){g(this).addClass(e.call(this,t,this.className))}));if(s)for(t=(e||"").match(L)||[];l<u;l++)if(r=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Ze," "):" ")){for(i=0;o=t[i++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=g.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,o,i,a,s=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(g.isFunction(e))return this.each((function(t){g(this).removeClass(e.call(this,t,this.className))}));if(s)for(t=(e||"").match(L)||[];l<u;l++)if(r=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Ze," "):"")){for(i=0;o=t[i++];)for(;r.indexOf(" "+o+" ")>=0;)r=r.replace(" "+o+" "," ");a=e?g.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):g.isFunction(e)?this.each((function(n){g(this).toggleClass(e.call(this,n,this.className,t),t)})):this.each((function(){if("string"===n)for(var t,r=0,o=g(this),i=e.match(L)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else"undefined"!==n&&"boolean"!==n||(this.className&&N.set(this,"__className__",this.className),this.className=this.className||!1===e?"":N.get(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ze," ").indexOf(t)>=0)return!0;return!1}});var Qe=/\r/g;g.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=g.isFunction(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,g(this).val()):e)?o="":"number"==typeof o?o+="":g.isArray(o)&&(o=g.map(o,(function(e){return null==e?"":e+""}))),(t=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=g.valHooks[o.type]||g.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(Qe,""):null==n?"":n:void 0}}),g.extend({valHooks:{option:{get:function(e){var t=g.find.attr(e,"value");return null!=t?t:g.trim(g.text(e))}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||o<0,a=i?null:[],s=i?o+1:r.length,l=o<0?s:i?o:0;l<s;l++)if(((n=r[l]).selected||l===o)&&(p.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!g.nodeName(n.parentNode,"optgroup"))){if(t=g(n).val(),i)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=g.makeArray(t),a=o.length;a--;)((r=o[a]).selected=g.inArray(r.value,i)>=0)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),g.each(["radio","checkbox"],(function(){g.valHooks[this]={set:function(e,t){if(g.isArray(t))return e.checked=g.inArray(g(e).val(),t)>=0}},p.checkOn||(g.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){g.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),g.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Je=g.now(),et=/\?/;g.parseJSON=function(e){return JSON.parse(e+"")},g.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+e),t};var tt=/#.*$/,nt=/([?&])_=[^&]*/,rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ot=/^(?:GET|HEAD)$/,it=/^\/\//,at=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,st={},lt={},ut="*/".concat("*"),ct=n.location.href,ft=at.exec(ct.toLowerCase())||[];function dt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(L)||[];if(g.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function pt(e,t,n,r){var o={},i=e===lt;function a(s){var l;return o[s]=!0,g.each(e[s]||[],(function(e,s){var u=s(t,n,r);return"string"!=typeof u||i||o[u]?i?!(l=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),l}return a(t.dataTypes[0])||!o["*"]&&a("*")}function ht(e,t){var n,r,o=g.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&g.extend(!0,e,r),e}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ct,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ft[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ht(ht(e,g.ajaxSettings),t):ht(g.ajaxSettings,e)},ajaxPrefilter:dt(st),ajaxTransport:dt(lt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,o,i,a,s,l,u,c=g.ajaxSetup({},t),f=c.context||c,d=c.context&&(f.nodeType||f.jquery)?g(f):g.event,p=g.Deferred(),h=g.Callbacks("once memory"),m=c.statusCode||{},v={},y={},b=0,A="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!i)for(i={};t=rt.exec(o);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||A;return n&&n.abort(t),I(0,t),this}};if(p.promise(C).complete=h.add,C.success=C.done,C.error=C.fail,c.url=((e||c.url||ct)+"").replace(tt,"").replace(it,ft[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=g.trim(c.dataType||"*").toLowerCase().match(L)||[""],null==c.crossDomain&&(s=at.exec(c.url.toLowerCase()),c.crossDomain=!(!s||s[1]===ft[1]&&s[2]===ft[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(ft[3]||("http:"===ft[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=g.param(c.data,c.traditional)),pt(st,c,t,C),2===b)return C;for(u in(l=g.event&&c.global)&&0==g.active++&&g.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!ot.test(c.type),r=c.url,c.hasContent||(c.data&&(r=c.url+=(et.test(r)?"&":"?")+c.data,delete c.data),!1===c.cache&&(c.url=nt.test(r)?r.replace(nt,"$1_="+Je++):r+(et.test(r)?"&":"?")+"_="+Je++)),c.ifModified&&(g.lastModified[r]&&C.setRequestHeader("If-Modified-Since",g.lastModified[r]),g.etag[r]&&C.setRequestHeader("If-None-Match",g.etag[r])),(c.data&&c.hasContent&&!1!==c.contentType||t.contentType)&&C.setRequestHeader("Content-Type",c.contentType),C.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+ut+"; q=0.01":""):c.accepts["*"]),c.headers)C.setRequestHeader(u,c.headers[u]);if(c.beforeSend&&(!1===c.beforeSend.call(f,C,c)||2===b))return C.abort();for(u in A="abort",{success:1,error:1,complete:1})C[u](c[u]);if(n=pt(lt,c,t,C)){C.readyState=1,l&&d.trigger("ajaxSend",[C,c]),c.async&&c.timeout>0&&(a=setTimeout((function(){C.abort("timeout")}),c.timeout));try{b=1,n.send(v,I)}catch(e){if(!(b<2))throw e;I(-1,e)}}else I(-1,"No Transport");function I(e,t,i,s){var u,v,y,A,I,_=t;2!==b&&(b=2,a&&clearTimeout(a),n=void 0,o=s||"",C.readyState=e>0?4:0,u=e>=200&&e<300||304===e,i&&(A=function(e,t,n){for(var r,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}(c,C,i)),A=function(e,t,n,r){var o,i,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=c.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=c.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=u[l+" "+i]||u["* "+i]))for(o in u)if((s=o.split(" "))[1]===i&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(i=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(c,A,C,u),u?(c.ifModified&&((I=C.getResponseHeader("Last-Modified"))&&(g.lastModified[r]=I),(I=C.getResponseHeader("etag"))&&(g.etag[r]=I)),204===e||"HEAD"===c.type?_="nocontent":304===e?_="notmodified":(_=A.state,v=A.data,u=!(y=A.error))):(y=_,!e&&_||(_="error",e<0&&(e=0))),C.status=e,C.statusText=(t||_)+"",u?p.resolveWith(f,[v,_,C]):p.rejectWith(f,[C,_,y]),C.statusCode(m),m=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[C,c,u?v:y]),h.fireWith(f,[C,_]),l&&(d.trigger("ajaxComplete",[C,c]),--g.active||g.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return g.get(e,t,n,"json")},getScript:function(e,t){return g.get(e,void 0,t,"script")}}),g.each(["get","post"],(function(e,t){g[t]=function(e,n,r,o){return g.isFunction(n)&&(o=o||r,r=n,n=void 0),g.ajax({url:e,type:t,dataType:o,data:n,success:r})}})),g._evalUrl=function(e){return g.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},g.fn.extend({wrapAll:function(e){var t;return g.isFunction(e)?this.each((function(t){g(this).wrapAll(e.call(this,t))})):(this[0]&&(t=g(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this)},wrapInner:function(e){return g.isFunction(e)?this.each((function(t){g(this).wrapInner(e.call(this,t))})):this.each((function(){var t=g(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g.isFunction(e);return this.each((function(n){g(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){g.nodeName(this,"body")||g(this).replaceWith(this.childNodes)})).end()}}),g.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},g.expr.filters.visible=function(e){return!g.expr.filters.hidden(e)};var gt=/%20/g,mt=/\[\]$/,vt=/\r?\n/g,yt=/^(?:submit|button|image|reset|file)$/i,bt=/^(?:input|select|textarea|keygen)/i;function At(e,t,n,r){var o;if(g.isArray(t))g.each(t,(function(t,o){n||mt.test(e)?r(e,o):At(e+"["+("object"==typeof o?t:"")+"]",o,n,r)}));else if(n||"object"!==g.type(t))r(e,t);else for(o in t)At(e+"["+o+"]",t[o],n,r)}g.param=function(e,t){var n,r=[],o=function(e,t){t=g.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=g.ajaxSettings&&g.ajaxSettings.traditional),g.isArray(e)||e.jquery&&!g.isPlainObject(e))g.each(e,(function(){o(this.name,this.value)}));else for(n in e)At(n,e[n],t,o);return r.join("&").replace(gt,"+")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=g.prop(this,"elements");return e?g.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!g(this).is(":disabled")&&bt.test(this.nodeName)&&!yt.test(e)&&(this.checked||!K.test(e))})).map((function(e,t){var n=g(this).val();return null==n?null:g.isArray(n)?g.map(n,(function(e){return{name:t.name,value:e.replace(vt,"\r\n")}})):{name:t.name,value:n.replace(vt,"\r\n")}})).get()}}),g.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Ct=0,It={},_t={0:200,1223:204},Et=g.ajaxSettings.xhr();n.attachEvent&&n.attachEvent("onunload",(function(){for(var e in It)It[e]()})),p.cors=!!Et&&"withCredentials"in Et,p.ajax=Et=!!Et,g.ajaxTransport((function(e){var t;if(p.cors||Et&&!e.crossDomain)return{send:function(n,r){var o,i=e.xhr(),a=++Ct;if(i.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)i[o]=e.xhrFields[o];for(o in e.mimeType&&i.overrideMimeType&&i.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)i.setRequestHeader(o,n[o]);t=function(e){return function(){t&&(delete It[a],t=i.onload=i.onerror=null,"abort"===e?i.abort():"error"===e?r(i.status,i.statusText):r(_t[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=t(),i.onerror=t("error"),t=It[a]=t("abort");try{i.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return g.globalEval(e),e}}}),g.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),g.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain)return{send:function(r,o){t=g("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),h.head.appendChild(t[0])},abort:function(){n&&n()}}}));var wt=[],St=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=wt.pop()||g.expando+"_"+Je++;return this[e]=!0,e}}),g.ajaxPrefilter("json jsonp",(function(e,t,r){var o,i,a,s=!1!==e.jsonp&&(St.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&St.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=g.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(St,"$1"+o):!1!==e.jsonp&&(e.url+=(et.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||g.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=n[o],n[o]=function(){a=arguments},r.always((function(){n[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,wt.push(o)),a&&g.isFunction(i)&&i(a[0]),a=i=void 0})),"script"})),g.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||h;var r=_.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=g.buildFragment([e],t,o),o&&o.length&&g(o).remove(),g.merge([],r.childNodes))};var Tt=g.fn.load;g.fn.load=function(e,t,n){if("string"!=typeof e&&Tt)return Tt.apply(this,arguments);var r,o,i,a=this,s=e.indexOf(" ");return s>=0&&(r=g.trim(e.slice(s)),e=e.slice(0,s)),g.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&g.ajax({url:e,type:o,dataType:"html",data:t}).done((function(e){i=arguments,a.html(r?g("<div>").append(g.parseHTML(e)).find(r):e)})).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){g.fn[t]=function(e){return this.on(t,e)}})),g.expr.filters.animated=function(e){return g.grep(g.timers,(function(t){return e===t.elem})).length};var kt=n.document.documentElement;function xt(e){return g.isWindow(e)?e:9===e.nodeType&&e.defaultView}g.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,u=g.css(e,"position"),c=g(e),f={};"static"===u&&(e.style.position="relative"),s=c.offset(),i=g.css(e,"top"),l=g.css(e,"left"),("absolute"===u||"fixed"===u)&&(i+l).indexOf("auto")>-1?(a=(r=c.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),g.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):c.css(f)}},g.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){g.offset.setOffset(this,e,t)}));var t,n,r=this[0],o={top:0,left:0},i=r&&r.ownerDocument;return i?(t=i.documentElement,g.contains(t,r)?(void 0!==r.getBoundingClientRect&&(o=r.getBoundingClientRect()),n=xt(i),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===g.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),g.nodeName(e[0],"html")||(r=e.offset()),r.top+=g.css(e[0],"borderTopWidth",!0),r.left+=g.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-g.css(n,"marginTop",!0),left:t.left-r.left-g.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||kt;e&&!g.nodeName(e,"html")&&"static"===g.css(e,"position");)e=e.offsetParent;return e||kt}))}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var r="pageYOffset"===t;g.fn[e]=function(o){return R(this,(function(e,o,i){var a=xt(e);if(void 0===i)return a?a[t]:e[o];a?a.scrollTo(r?n.pageXOffset:i,r?i:n.pageYOffset):e[o]=i}),e,o,arguments.length,null)}})),g.each(["top","left"],(function(e,t){g.cssHooks[t]=Ee(p.pixelPosition,(function(e,n){if(n)return n=_e(e,t),Ce.test(n)?g(e).position()[t]+"px":n}))})),g.each({Height:"height",Width:"width"},(function(e,t){g.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){g.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return R(this,(function(t,n,r){var o;return g.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?g.css(t,n,a):g.style(t,n,r,a)}),t,i?r:void 0,i,null)}}))})),g.fn.size=function(){return this.length},g.fn.andSelf=g.fn.addBack,void 0===(r=function(){return g}.apply(t,[]))||(e.exports=r);var Pt=n.jQuery,Ot=n.$;return g.noConflict=function(e){return n.$===g&&(n.$=Ot),e&&n.jQuery===g&&(n.jQuery=Pt),g},void 0===o&&(n.jQuery=n.$=g),g},"object"==typeof e.exports?e.exports=o.document?i(o,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(o)},function(e,t,n){var r=n(73),o=n(74),i=n(75),a=n(76),s=n(77);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(25);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(65);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){"use strict";var e=document.querySelectorAll("meta"),t=Array.prototype.slice.call(e),n={};return t.forEach((function(e,t){var r=e.getAttribute("name")||e.getAttribute("property");if(r){var o="bam-override-"+r+"=",i=window.location.href.indexOf(o);if(-1!==i){var a=window.location.href.substr(i+o.length),s=a.indexOf("&");-1!==s&&(a=a.substr(0,s)),n[r]=a}else n[r]=e.getAttribute("content");switch(e.getAttribute("data-type")){case"json":n[r]=JSON.parse(n[r])}}})),n})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r=n(2),o=n(19),i=n(63),a=n(16);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(2),o=n(62),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=n(67)();e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(36),o=n(38);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(24),o=n(25),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(70);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(96),o=n(107),i=n(50),a=n(2),s=n(111);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},function(e,t,n){(function(r){var o;!function(i){var a="undefined"!=typeof window?window:void 0!==r?r:this;void 0===(o=function(){return function(e){var t=document;if(e.MessageChannel)var n=MessageChannel;else(n=function(){this.port1=t.createElement("div")}).prototype={port1:null,port2:null};return n}(a)}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(7))},function(e,t,n){(function(r){var o;!function(i){var a=void 0!==typeof window?window:void 0!==typeof r?r:this;void 0===(o=function(){return function(e){var t={bubbles:!1,cancelable:!1},n=e.document;function r(){this.store={}}r.prototype={get:function(e){return this.store[(e||"").toString()]},set:function(e,t){this.store[(e||"").toString()]=t},has:function(e){return(e||"").toString()in this.store},delete:function(e){delete this.store[(e||"").toString()]},forEach:function(e,t){var n,r=this.store;for(n in r)e.call(t||this,r[n],n,this)}};var o=e.Map||r;function i(e,t,n,r,o){this.scope=e,this.originalConsumer=t,this.name=o,n&&(this.handleEvent=this.handleEventOnce,this.topics=r)}i.prototype={handleEvent:function(e){return this.originalConsumer.call(this.scope,e.data,e)},handleEventOnce:function(e){return u(this.scope,this.topics,this.name,this.originalConsumer),this.originalConsumer.call(this.scope,e.data,e)}};var a=s.createEvent="function"==typeof CustomEvent?function(e,n){var r=new CustomEvent(e,t);return r.originalType=n||e,r}:function(e,r){var o=n.createEvent("Events");return o.initEvent(e,t.bubbles,t.cancelable),o.originalType=r||e,o};function s(e,t){this.name=e,this.consumers=new o,this.consumerCount=0,this.hub=t}function l(e,t,n){for(var r=0,o=e.length,i=this.hub,a=this.name;r<o;r++)i.removeEventListener(a,e[r],!1,!0);n.delete(t)}function u(e,t,n,r){var o=t[n];o&&r&&(o.removeConsumer(e,r),o.consumerCount<=0&&delete t[n])}return s.prototype.publish=function(e,t){var n=a(this.name,t);n.data=e,this.hub.dispatchEvent(n)},s.prototype.addConsumer=function(e,t,n,r){var o=t,a=this.hub,s=this.consumers.get(o),l=new i(e,t,n,r,this.name);s?this.removeConsumer(e,t):s=[],s.push(l),this.consumerCount++,this.consumers.set(o,s),a.addEventListener(this.name,l,!1,!0)},s.prototype.removeConsumer=function(e,t){var n,r=t,o=this.consumers.get(r),i=this.name;if(o)for(var a=o.length,s=0;s<a;s++)if((n=o[s]).originalConsumer===t&&(!e||n.scope===e)){this.hub.removeEventListener(i,n,!1,!0),o.splice(s,1),o.length||this.consumers.delete(r),this.consumerCount--;break}},s.prototype.removeAllConsumers=function(){var e=this.consumers;this.name,e.forEach(l,this),this.consumerCount=0},s.publishTopic=function(e,t,n){return e&&e.publish(t,n)},s.addTopicListener=function(e,t,n,r,o,i){if(!o)throw new Error("message-service : no listener specified for topic : "+r);(n[r]||(n[r]=new s(r,t))).addConsumer(e,o,i,n)},s.removeTopicListener=u,s.removeAllTopicListeners=function(e,t){var n=e[t];n&&(n.removeAllConsumers(),delete e[t])},s}(a)}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(7))},function(e,t,n){e.exports=n(32)},function(e,t,n){var r=n(34),o=n(35),i=n(39),a=n(2);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},function(e,t,n){var r=n(18),o=n(9);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(66),o=n(68)(r);e.exports=o},function(e,t,n){var r=n(37),o=n(5);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return e}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(24),o=n(25);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t,n){(function(e){var r=n(43),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(79)(e))},function(e,t,n){var r=n(80),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(84),o=n(46),i=n(85);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(21)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(98),o=n(26);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},function(e,t,n){var r=n(21)(Object.keys,Object);e.exports=r},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(5);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var r=n(95),o=n(35),i=n(28),a=n(114),s=n(2);e.exports=function(e,t,n){var l=s(e)?r:a,u=arguments.length<3;return l(e,i(t,4),n,u,o)}},function(e,t,n){var r=n(115);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(20),o=n(39),i=n(12);e.exports=function(e,t){return null==e?e:r(e,o(t),i)}},function(e,t,n){var r,o,i;o=[n(13),n(130),n(132)],void 0===(i="function"==typeof(r=function(e,t,n,r){"use strict";function o(e,t,r){o.prototype.super.constructor.call(this,e,t,r),this.bandwagon=this.pageConfig.bandwagon,this.bandwagon&&(this.screens={},this.PlayerEvents=this.bandwagon.getRegisteredEventsByKey("PLAYER_EVENTS"),this.AdEvents=this.bandwagon.getRegisteredEventsByKey("AD_EVENTS"),this.ApplicationEvents=this.bandwagon.getRegisteredEventsByKey("APPLICATION_EVENTS"),a.call(this),this.trackingConfig.intervals&&(this.mediaTimer=new n(this)))}function i(t,n){var r;return t.match(/@\w+@/g).forEach(function(o){r=o.substr(1,o.length-2),t=t.replace(o,e.proxy(this.tokenHelpers[r],this,n))}.bind(this)),t}function a(){var t,n,r=this;e.each(r.trackingConfig.containers,(function(o,i){if(!(t=r.bandwagon.getInstanceByKey(o)))return!0;for(var a in i){var s=i[a];if(s.wire&&(r.PlayerEvents[s.wire.pEventKey]||r.AdEvents[s.wire.pEventKey]||r.ApplicationEvents[s.wire.pEventKey])){if(s.wire.events){var l=s.wire.events;for(var u in l)l.hasOwnProperty(u)&&l[u].wire&&l[u].wire.defaults&&e.extend(l[u],r.trackingConfig.defaults[l[u].wire.defaults]);s.wire.events=l}else s.wire.defaults&&e.extend(s,r.trackingConfig.defaults[s.wire.defaults]);n=e.proxy(r.trackEventHandler,r,{trackObj:s}),"AdEvents"===s.wire.eventsModel?t.on(r.AdEvents[s.wire.pEventKey],n):"ApplicationEvents"===s.wire.eventsModel?t.on(r.ApplicationEvents[s.wire.pEventKey],n):t.on(r.PlayerEvents[s.wire.pEventKey],n)}}}))}return o.prototype=Object.create(t),o.prototype.constructor=o,o.prototype.super=t.prototype,o.prototype.trackEventHandler=function(t,n,r){var o;if(!t.trackObj)return!1;if("trackingEvent"===r.type&&n.data&&n.data.impressionKey){var i=t.trackObj.wire.events;for(var a in i)if(i.hasOwnProperty(a)&&i[a].wire){if(i[a].wire.impressionKey===n.data.impressionKey){o=i[a];break}a++}if(!o)return!1}else o=t.trackObj;var s=this.setTrackingProps(e.extend(!0,{},o),n);s&&this.prototype.track(s)},o.prototype.setTrackingProps=function(t,n){var r=this,o={};return o.player=n?n.player:{},o.config=o.player.config||{},o.clip=o.player.currentMediaItem||{},o.meta=o.clip.metaData||{},o.dynamicVars={},o.meta.game_pk?o.dynamicVars=this.getScreenDataForContentId(String(o.meta.game_pk)):o.clip.content_id&&(o.dynamicVars=this.getScreenDataForContentId(String(o.clip.content_id))),e.each(t,(function(e,n){-1!==(n=n.toString()).indexOf("@")&&(t[e]=i.call(r,n,o)),"undefined"!=t[e]&&null!=t[e]||delete t[e]})),t},o.prototype.setScreenDataForContentId=function(e){if(e&&e.contentId){var t=String(e.contentId);this.screens[t]=e}},o.prototype.getScreenDataForContentId=function(e){var t={};if(e){var n=String(e);this.screens[n]&&(t=this.screens[n])}return t},o})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r,o,i;o=[n(13)],void 0===(i="function"==typeof(r=function(e){function t(e){var t;return window===window.parent&&window.parent.location?t=window.parent.location:(t=document.createElement("a")).href=document.referrer,this.embedParent={hostname:t.hostname,locale:"nil"},e?this.embedParent[e]:this.embedParent}return{SITE_NAME:function(e){return this.pageConfig.teamDisplay||"Major League Baseball"},AD_BLOCK_CONTEXT_ERROR:function(e){var t=this.pageConfig.teamAbbrev||"MLB",n=t+": "+this.pageConfig.playerContext;return n||(n=t+": Video Playback Page"),n=n.replace(/\+/g,"%20"),(n=decodeURIComponent(n))+": AdBlock On"},MEDIA_SPONSOR:function(e){return"MLB"},MEDIA_TOPIC_NAME:function(e){return this.pageConfig.topicName},MEDIA_SYSTEM_AUTO_PLAY:function(e){return this.pageConfig.systemAutoPlay},MEDIA_EMBED_HOST:function(e){return this.embedParent&&this.embedParent.hostname?this.embedParent.hostname:t.call(this,"hostname")},MEDIA_STREAM_TITLE:function(e){var t="";return e.meta&&Object.keys(e.meta).length?t=e.meta.seoTitle||e.meta.title||e.meta.blurb||"":e.clip&&Object.keys(e.clip).length&&(t=e.clip.seoTitle||e.clip.title||e.clip.blurb||""),""==t&&e.dynamicVars.title&&(t=e.dynamicVars.title),t},MEDIA_STREAM_ID:function(e){var t=null;return e.player.playerStateHelper?t=e.player.playerStateHelper._state.clip.content_id+"|"+e.player.playerStateHelper._state.clip.metaData.currentPlaybackScenario:e.clip&&e.meta&&(t=e.clip.content_id+"|"+e.meta.currentPlaybackScenario),t},MEDIA_PLAYER_CONTEXT:function(e){var t=this.pageConfig.teamAbbrev||"MLB",n=this.pageConfig.playerContext;return n?"string"==typeof n&&(n.indexOf("_articles")>-1?n="Embedded Article Player":n.indexOf("_mixed_feed")>-1?n=t+" Mixed Panel Player":n.indexOf("_video_tray")>-1&&(n=t+" Video Tray")):n="Video Playback Page",n=n.replace(/\+/g,"%20"),(n=decodeURIComponent(n))||null},MEDIA_PlAYER_LOCATION:function(e){this.pageConfig.teamAbbrev;var t=this.pageConfig.playerLocation||this.pageConfig.playerContext;return t||(t="Video Embed Player"),t=t.replace(/\+/g,"%20"),(t=decodeURIComponent(t))||null},MEDIA_INDEX_NAME:function(e){var t=e.meta.keywords||{};for(var n in t)if(t[n]&&"mlbtax"==t[n].type)return t[n].displayName;return null},CURRENT_TIME_STAMP:function(){var e=new Date;return e.getUTCMonth()+1+"/"+e.getUTCDate()+"/"+e.getUTCFullYear()+" "+(e.getUTCHours()-4)+":"+e.getUTCMinutes()+":"+e.getUTCSeconds()},MEDIA_EMBED_HOST:function(e){return this.embedParent&&this.embedParent.hostname?this.embedParent.hostname:t.call(this,"hostname")},GAMEDAY_GAME_ID:function(e){return e.meta.game_id?e.meta.game_id:null},GAMEDAY_GAME_PK:function(e){return e.meta.game_pk?e.meta.game_pk:null},MEDIA_PLAYER_VERSION:function(e){var t;switch(e.player.toString()){case"MultiViewFlashPlayer":case"FlashPlayer":t="flash";break;case"HTML5Player":t="html5";break;case"DashPlayer":t="html5:DashPlayer";break;case"PrimetimePlayer":t="html5:PrimetimePlayer";break;default:t="Player version not found"}return t},TRACKING_ID:function(e){return e.clip.uid?e.clip.uid:null}}})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r=n(134)(n(135));e.exports=r},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(64),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(20),o=n(10);e.exports=function(e,t){return e&&r(e,t,o)}},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},function(e,t,n){var r=n(22);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},function(e,t,n){var r=n(23),o=n(18),i=n(40),a=n(5),s=n(9);e.exports=function(e,t,n,l){if(!a(e))return e;for(var u=-1,c=(t=o(t,e)).length,f=c-1,d=e;null!=d&&++u<c;){var p=s(t[u]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(u!=f){var g=d[p];void 0===(h=l?l(g,p,d):void 0)&&(h=a(g)?g:i(t[u+1])?[]:{})}r(d,p,h),d=d[p]}return e}},function(e,t,n){var r=n(71),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(14),o=n(41),i=n(20),a=n(78),s=n(5),l=n(12),u=n(49);e.exports=function e(t,n,c,f,d){t!==n&&i(n,(function(i,l){if(d||(d=new r),s(i))a(t,n,l,c,e,f,d);else{var p=f?f(u(t,l),i,l+"",t,n,d):void 0;void 0===p&&(p=i),o(t,l,p)}}),l)}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(15),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(15);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(15);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(15);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(41),o=n(42),i=n(81),a=n(44),s=n(45),l=n(47),u=n(2),c=n(86),f=n(27),d=n(36),p=n(5),h=n(87),g=n(48),m=n(49),v=n(88);e.exports=function(e,t,n,y,b,A,C){var I=m(e,n),_=m(t,n),E=C.get(_);if(E)r(e,n,E);else{var w=A?A(I,_,n+"",e,t,C):void 0,S=void 0===w;if(S){var T=u(_),k=!T&&f(_),x=!T&&!k&&g(_);w=_,T||k||x?u(I)?w=I:c(I)?w=a(I):k?(S=!1,w=o(_,!0)):x?(S=!1,w=i(_,!0)):w=[]:h(_)||l(_)?(w=I,l(I)?w=v(I):p(I)&&!d(I)||(w=s(_))):S=!1}S&&(C.set(_,w),b(w,_,y,A,C),C.delete(_)),r(e,n,w)}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(7))},function(e,t,n){var r=n(82);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(83);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(43).Uint8Array;e.exports=r},function(e,t,n){var r=n(5),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(22),o=n(26);e.exports=function(e){return o(e)&&r(e)}},function(e,t,n){var r=n(37),o=n(46),i=n(26),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},function(e,t,n){var r=n(11),o=n(12);e.exports=function(e){return r(e,o(e))}},function(e,t,n){var r=n(90),o=n(94);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}},function(e,t,n){var r=n(50),o=n(91),i=n(93);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t,n){var r=n(92),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(l),r(e,this,u)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},function(e,t,n){var r=n(97),o=n(106),i=n(55);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(14),o=n(51);e.exports=function(e,t,n,i){var a=n.length,s=a,l=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],f=e[c],d=u[1];if(l&&u[2]){if(void 0===f&&!(c in e))return!1}else{var p=new r;if(i)var h=i(f,d,c,e,t,p);if(!(void 0===h?o(d,f,3,i,p):h))return!1}}return!0}},function(e,t,n){var r=n(14),o=n(99),i=n(104),a=n(105),s=n(53),l=n(2),u=n(27),c=n(48),f="[object Object]",d=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,h,g){var m=l(e),v=l(t),y=m?"[object Array]":s(e),b=v?"[object Array]":s(t),A=(y="[object Arguments]"==y?f:y)==f,C=(b="[object Arguments]"==b?f:b)==f,I=y==b;if(I&&u(e)){if(!u(t))return!1;m=!0,A=!1}if(I&&!A)return g||(g=new r),m||c(e)?o(e,t,n,p,h,g):i(e,t,y,n,p,h,g);if(!(1&n)){var _=A&&d.call(e,"__wrapped__"),E=C&&d.call(t,"__wrapped__");if(_||E){var w=_?e.value():e,S=E?t.value():t;return g||(g=new r),h(w,S,n,p,g)}}return!!I&&(g||(g=new r),a(e,t,n,p,h,g))}},function(e,t,n){var r=n(100),o=n(101),i=n(102);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var d=l.get(e),p=l.get(t);if(d&&p)return d==t&&p==e;var h=-1,g=!0,m=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++h<c;){var v=e[h],y=t[h];if(a)var b=u?a(y,v,h,t,e,l):a(v,y,h,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(v===e||s(v,e,n,a,l)))return m.push(t)}))){g=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},function(e,t,n){var r=n(2);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return r(e)?e:[e]}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(103);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(52),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var f=c;f--;){var d=u[f];if(!(l?d in t:o.call(t,d)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=l;++f<c;){var v=e[d=u[f]],y=t[d];if(i)var b=l?i(y,v,d,t,e,s):i(v,y,d,e,t,s);if(!(void 0===b?v===y||a(v,y,n,i,s):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var A=e.constructor,C=t.constructor;A==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof C&&C instanceof C||(g=!1)}return s.delete(e),s.delete(t),g}},function(e,t,n){var r=n(54),o=n(10);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},function(e,t,n){var r=n(51),o=n(0),i=n(108),a=n(19),s=n(54),l=n(55),u=n(9);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},function(e,t,n){var r=n(109),o=n(110);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(18),o=n(47),i=n(2),a=n(40),s=n(38),l=n(9);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,f=!1;++u<c;){var d=l(t[u]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&s(c)&&a(d,c)&&(i(e)||o(e))}},function(e,t,n){var r=n(112),o=n(113),i=n(19),a=n(9);e.exports=function(e){return i(e)?r(a(e)):o(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(33);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t){e.exports=function(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}},function(e,t,n){var r=n(14),o=n(34),i=n(23),a=n(116),s=n(117),l=n(42),u=n(44),c=n(118),f=n(120),d=n(52),p=n(122),h=n(53),g=n(123),m=n(124),v=n(45),y=n(2),b=n(27),A=n(125),C=n(5),I=n(126),_=n(10),E=n(12),w={};w["[object Arguments]"]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object DataView]"]=w["[object Boolean]"]=w["[object Date]"]=w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Map]"]=w["[object Number]"]=w["[object Object]"]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object Symbol]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Error]"]=w["[object Function]"]=w["[object WeakMap]"]=!1,e.exports=function e(t,n,S,T,k,x){var P,O=1&n,L=2&n,D=4&n;if(S&&(P=k?S(t,T,k,x):S(t)),void 0!==P)return P;if(!C(t))return t;var j=y(t);if(j){if(P=g(t),!O)return u(t,P)}else{var R=h(t),M="[object Function]"==R||"[object GeneratorFunction]"==R;if(b(t))return l(t,O);if("[object Object]"==R||"[object Arguments]"==R||M&&!k){if(P=L||M?{}:v(t),!O)return L?f(t,s(P,t)):c(t,a(P,t))}else{if(!w[R])return k?t:{};P=m(t,R,O)}}x||(x=new r);var N=x.get(t);if(N)return N;x.set(t,P),I(t)?t.forEach((function(r){P.add(e(r,n,S,r,t,x))})):A(t)&&t.forEach((function(r,o){P.set(o,e(r,n,S,o,t,x))}));var F=j?void 0:(D?L?p:d:L?E:_)(t);return o(F||t,(function(r,o){F&&(r=t[o=r]),i(P,o,e(r,n,S,o,t,x))})),P}},function(e,t,n){var r=n(11),o=n(10);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(11),o=n(12);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(11),o=n(119);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(11),o=n(121);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,n){(function(r){var o;"undefined"!=typeof window&&window,void 0===(o=function(e,t,r){return function(e,t,n,r){function o(e){var t;return e&&e.postMessage?t=e:e instanceof Node&&(t=e.window||e.contentWindow),t}function i(e){var o,i=e||this;if(e)for(o in a)e[o]=this[o].bind(this);var s=this.switchboard=new t,l=this.hub=s.port1,u=(this.dock=s.port2,l=this.hub,this.topics={}),c=(new t).port1;(this.allTopicsRepeater=new n("*",c)).addConsumer(this,(function(e,t){n.publishTopic(u["*"],e,t.originalType)}),!1,{}),this.channelBroker=new r(this.dock,this),i.on=i.addListener=function(e,t){n.addTopicListener(this,l,u,e,t,!1)},i.off=i.removeListener=function(e,t){n.removeTopicListener(this,u,e,t)},i.one=i.once=function(e,t){n.addTopicListener(this,l,u,e,t,!0)}}var a=i.prototype={publish:function(e,t,r){var o=n.publishTopic(this.topics[e],t);return n.publishTopic(this.allTopicsRepeater,t,e),!0!==r&&this.channelBroker.publish(e,t),o},publishChannel:function(e,t){return this.channelBroker.publish(e,t)},removeAllListeners:function(e){var t,r=this.topics;if(e)n.removeAllTopicListeners(r,e);else for(t in r)n.removeAllTopicListeners(r,t)},getTopics:function(e){return this.topics},hasListeners:function(e){var t=this.topics[e];return!(!e||!t||!t.consumerCount)},openChannel:function(e,t,n){var r=o(e),i=t||"global";return!(!r||!r.postMessage)&&this.channelBroker.connect(r,i,n)},closeChannel:function(e,t){var n=o(e),r=t||"global";return!(!n||!n.postMessage||(this.channelBroker.disconnect(n,r),0))}},s=function(e){var t=new i(e);return t.sharedMessageService=l,e||t},l=s();return l.sharedMessageService=l,l.bind=function(e){if(!e)throw new Error("Binding object not specified");return s(e)},l.create=s,l}(0,n(29),n(30),n(128))}.call(t,n,t,e))||(e.exports=o)}).call(this,n(7))},function(e,t,n){(function(r){var o;void 0===(o=function(e,t,r){return function(e,t,n){"undefined"!=typeof window&&window;var r=e.events.CHANNELMESSAGE_REPEATER;function o(e){return!(!e.target||e.target!==this||(e.disconnect(),0))}function i(e,n){this.hub=e,this.topics=n.topics,this.messageService=n,null===e&&(this.isMessageChannel=!1,this.hub=(new t).port1),this.channelTopics={},this.channels={}}return i.prototype={isMessageChannel:!0,publish:function(e,t){var o=n.createEvent(r);o.data={topic:e,msg:t},this.hub.dispatchEvent(o)},connect:function(t,n,r){var o=this.channels,i=o[n]||(o[n]=[]),a=new e(t,n,r,this);return!!a.connect()&&(i.push(a),a)},disconnect:function(e,t){var n=this.channels[t];n&&n.length&&openChannels.some(o,e)}},i}(n(129),n(29),n(30))}.call(t,n,t,e))||(e.exports=o)}).call(this,n(7))},function(e,t,n){(function(r){var o;void 0===(o=function(e,t,o){return function(e,t){var n="undefined"!=typeof window?window:void 0!==r?r:this,o="MessageService::channel";function i(e,t,n,r){var o=this;this.target=e,this.handshake=t,this.initData=n,this.initDataFromTarget=null,this.hub=r.hub,this.messageService=r.messageService,this.topics=r.topics,this.channelTopics=r.channelTopics,this.status="pending",this.isMessageChannel=r.isMessageChannel,this.handshakeMessageCallback=function(e){o.handshakeMessage(e)},this.channelRepeaterCallback=function(e){o.channelRepeater(e)},this.channelConfirmationCallback=function(e){o.channelConfirmation(e)}}return i.events={CHANNELMESSAGE:o,CHANNELMESSAGE_REPEATER:"MessageService::channel::repeater",CHANNELMESSAGE_READY:"channel::ready",CHANNELMESSAGE_ERROR:"channel::error",CHANNELMESSAGE_COMPLETE:"MessageService::channel::complete",CHANNELMESSAGE_DISCONNECT:"MessageService::channel::disconnect",CHANNELMESSAGE_CLOSED:"channel::closed"},i.prototype={publish:function(e,t){this.repeatToChannel({topic:e,msg:t})},acceptInvitation:function(r,i){if(this.target&&this.handshake&&this.isMessageChannel){this.topics;var a,s=this.target;if(!r){var l=new e;r=l.port1,a=l.port2,this.initDataFromTarget=i}r.start(),this.port=r,r.addEventListener("message",this.channelRepeaterCallback,!1),t.addTopicListener(this,this.hub,this.channelTopics,"MessageService::channel::repeater",this.repeatToChannel,!1),a?(r.addEventListener("message",this.channelConfirmationCallback,!1),s.postMessage({type:o,handshake:this.handshake,initData:this.initData},"*",[a])):(this.status="ready",n.removeEventListener("message",this.handshakeMessage,!1),r.postMessage({type:"MessageService::channel::complete",handshake:this.handshake}),this.messageService.publish("channel::ready",{id:this.handshake,data:i},!0))}},handshakeMessage:function(e){var n=this.handshakeListener(this.target,e);if(n)if(n===o)this.acceptInvitation(e.ports&&e.ports[0],e.data&&e.data.initData);else if("MessageService::channel::repeater"===n){var r=e.data;r&&r.topic&&r.hasOwnProperty("msg")&&t.publishTopic(this.topics[r.topic],r.msg)}},channelRepeater:function(e){var n=e.data;n&&n.topic&&n.hasOwnProperty("msg")?t.publishTopic(this.topics[n.topic],n.msg):"MessageService::channel::disconnect"===this.handshakeListener(this.port,e)&&this.disconnect()},repeatToChannel:function(e,t){var n=this.target,r=this.port;n&&!0!==n.closed?e&&e.topic&&e.hasOwnProperty("msg")&&r.postMessage({topic:e.topic,msg:e.msg}):this.disconnect()},channelConfirmation:function(e){"MessageService::channel::complete"===this.handshakeListener(this.port,e)&&(n.removeEventListener("message",this.handshakeMessageCallback,!1),this.port.removeEventListener("message",this.channelConfirmationCallback,!1),this.status="ready",this.messageService.publish("channel::ready",{id:this.handshake,data:this.initDataFromTarget},!0))},connect:function(){var e,t=!0;this.target,n.addEventListener("message",this.handshakeMessageCallback,!1);try{this.target.postMessage({type:o,handshake:this.handshake,initData:this.initData},"*")}catch(e){t=!1,channelError=e}finally{t||(this.disconnect(),this.messageService.publish("channel::error",{id:this.handshake,data:channelError},!0))}return t},disconnect:function(){var e=this.port;n.removeEventListener("message",this.handshakeMessageCallback,!1),t.removeTopicListener(this,this.channelTopics,"MessageService::channel::repeater",this.repeatToChannel),this.status="closed",e&&(e.removeEventListener("message",this.channelRepeaterCallback,!1),e.postMessage({type:"MessageService::channel::disconnect",handshake:this.handshake}),e.close()),this.messageService.publish("channel::closed",{id:this.handshake,data:this},!0)},handshakeListener:function(e,t){var n=t.data,r=this.handshake;return!(!n||n.type!==o&&"MessageService::channel::repeater"!==n.type&&"MessageService::channel::complete"!==n.type&&"MessageService::channel::disconnect"!==n.type||r!==n.handshake||e!==(t.source||t.srcElement))&&n.type}},i}(n(29),n(30))}.call(t,n,t,e))||(e.exports=o)}).call(this,n(7))},function(e,t,n){var r,o,i;o=[n(13),n(131)],void 0===(i="function"==typeof(r=function(e,t){"use strict";function n(n,r,o){this.pageContextData=window.adobeAnalytics&&window.adobeAnalytics.contextData||{},this.trackingConfig=("string"==typeof n?JSON.parse(n):n)||{},this.tokenHelpers=t,this.pageConfig=o||{},r&&("function"==typeof r?this.setTrackingProps=r:"object"==typeof r&&e.extend(this.tokenHelpers,r))}return n.prototype={constructor:n,track:function(e){delete e.wire,"function"==typeof window.trackAsync&&window.trackAsync(e)},trackEventHandler:function(e){this.track(e)},setTrackingProps:function(e){return e}},n})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r,o,i;o=[n(13)],void 0===(i="function"==typeof(r=function(e){return{SITE_TRAFFIC:function(e){return this.pageConfig.siteTraffic||"[Site traffic - unavailable]"},SITE_LANG_LOCALE:function(e){return this.pageConfig.langLocale||"[Lang locale - unavailable]"},TEAM_ABBREV:function(e){return this.pageConfig.teamAbbrev||"[Team - unavailable]"},GAMEDAY_GAME_ID:function(e){},GAMEDAY_GAME_PK:function(e){return(e.dynamicVars&&e.dynamicVars.game?e.dynamicVars.game.gamePk:e.meta.game_pk)||"none"},MEDIA_IPID:function(e){return e.player.clip.content_id},MEDIA_PLAYER_FORMAT:function(e){return e.player.toString()},MEDIA_PLAYER_VERSION:function(e){var t;switch(e.player.toString()){case"MultiViewFlashPlayer":case"FlashPlayer":t=e.config.flash?e.config.flash.name+"_"+e.config.flash.release:"fvp";break;case"HTML5Player":t="HTML5";break;case"DashPlayer":t="HTML5:DashPlayer";break;case"PrimetimePlayer":t="HTML5:PrimetimePlayer";break;default:t="Player version not found"}return t},MEDIA_PLAYER_CONTEXT:function(e){var t=this.pageConfig.playerContext||this.pageConfig.location;return t||(t="Video Playback Page"),t},MEDIA_COMPONENT_LOCATION:function(e){var t="",n=this.pageConfig.section;return"embed"===n?t=(t=this.pageConfig.playerContext?this.pageConfig.playerContext:this.pageConfig.location)||"Embedded Player":"vpp"===n?t="Video Playback Page":"nhltv"===n&&(t="Media Player"),t},MEDIA_STREAM_ID:function(e){return e.clip.content_id+"|"+e.config.playbackScenario},MEDIA_STREAM_VIDEO:function(t){var n="none";return Array.isArray(t.meta.keywordsDisplay)&&(n=e.map(t.meta.keywordsDisplay,(function(e,t){return e&&e.displayName?e.displayName:null})).join("|")),n},MEDIA_STREAM_PLAYER:function(e){return this.pageConfig.topic?this.pageConfig.topic.title:"none"},MEDIA_STREAM_TYPE:function(e){return e.clip.isHighlight?"VOD":e.clip.isAudioOnly?"Audio":!0===e.clip.isLive?"Live":!1===e.clip.isLive?"Archive":"VOD"}}})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r,o,i;o=[n(13)],void 0===(i="function"==typeof(r=function(e){function t(e){e&&(this.wiretapVideo=e,this.dispatcher=this.wiretapVideo.bandwagon.getInstanceByKey("#video-player"),this.intervalEvents=this.wiretapVideo.trackingConfig.intervals,this.eventDefaults=this.wiretapVideo.trackingConfig.defaults,o.call(this))}function n(e){var t=Math.floor(e/60).toString();return t<10?"0"+t:t}function r(e){var t=Math.floor(e%60).toString();return t<10?"0"+t:t}function o(){this.dispatcher.on(this.wiretapVideo.PlayerEvents.MEDIA_START,this.startTracking.bind(this)),this.dispatcher.on(this.wiretapVideo.PlayerEvents.MEDIA_RESUME,this.start.bind(this)),this.dispatcher.on(this.wiretapVideo.AdEvents.AD_COMPLETE,this.start.bind(this)),this.dispatcher.on(this.wiretapVideo.PlayerEvents.MEDIA_PAUSED,this.stop.bind(this)),this.dispatcher.on(this.wiretapVideo.AdEvents.AD_START,this.stop.bind(this)),this.dispatcher.on(this.wiretapVideo.PlayerEvents.MEDIA_COMPLETE,this.track.bind(this)),window.addEventListener("beforeunload",this.track.bind(this))}return t.prototype={init:function(){this.player&&this.player.clip&&(this.clip=this.player.clip,this.videoLength=this.player.clip.duration?1e3*this.player.clip.duration:0,this.isTracking=!1,this.totalTime=0,this.hasTracked=!1,this.mediaStarted=!0,this.start())},start:function(){!this.isTracking&&this.mediaStarted&&(this.startTime=new Date,this.isTracking=!0)},stop:function(){this.isTracking&&(this.stopTime=new Date,this.isTracking=!1,this.setInterval())},setInterval:function(){var e=0;this.startTime&&this.stopTime&&(e=this.stopTime-this.startTime),this.totalTime+=e,this.startTime=null,this.stopTime=null},startTracking:function(e,t){this.isTracking&&(this.stop(),this.track()),this.player=e.player||this.player,this.init()},track:function(){if(!this.hasTracked&&this.videoLength){var t=this;this.isTracking&&this.stop();var o=e.extend({},t.player);o.clip=t.clip;var i=o.clip.metaData.duration.split(":"),a=0;n(a=3===i.length?60*+i[0]*60+60*+i[1]+ +i[2]:2===i.length?60*+i[0]+ +i[1]:+i[1]),r(a),e.each(t.intervalEvents,(function(i,s){var l=a*s.wire.duration;if(n(l),r(l),t.videoLength>=t.videoLength*s.wire.duration){var u=e.extend({},t.eventDefaults[s.wire.defaults],s);t.wiretapVideo.setTrackingProps(u,{player:o}),u&&t.wiretapVideo.prototype.track(u)}})),this.isTracking=!1,this.hasTracked=!0,this.mediaStarted=!1}}},t})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Location",(function(){return s})),n.d(t,"parseQueryParameters",(function(){return l})),n.d(t,"parseEncodedQueryParameters",(function(){return u})),n.d(t,"parseFragmentIdentifiers",(function(){return c}));var r=new RegExp("([^&\\?]+?)=([^&]*)","ig"),o=decodeURIComponent,i={true:!0,false:!1,null:null};function a(e){var t=void 0;return"string"==typeof e&&(t=isNaN(e)?e in i?i[e]:e:parseFloat(e)),t}function s(e){var t=(e=function(e){for(var t=["constructor","hash","host","hostname","href","origin","pathname","port","protocol","search"],n={},r=0,o=t.length;r<o;r++)n[t[r]]=e?e[t[r]]:window.location[t[r]];return n.toString=function(){return this.href},n}(e)).search||"",n=l(t);return e.getParam=function(e){return""+e in n?n[e]:null},e.getParams=function(e){return l(t,e)},e.isSecure=function(){return/^https/i.test(e.protocol)},e.getDomain=function(){var t=e.hostname.split(".");return t[t.length-2]},e}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},i=void 0,s=void 0;return"string"==typeof e&&e.replace(r,(function(){i=arguments[1],s=t?a(o(arguments[2])):o(arguments[2]),i in n?Array.isArray(n[i])?n[i].push(s):n[i]=[n[i],s]:n[i]=s})),n}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},i=void 0,s=void 0;return"string"==typeof e&&e.replace(r,(function(){i=arguments[1],s=t?a(o(arguments[2])):o(arguments[2]),i in n?Array.isArray(n[i])?n[i].push(s):n[i]=[n[i],s]:n[i]=s})),n}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hash,t=arguments[1];return l(e.substring(e.indexOf("#")+1),t)}}])},function(e,t,n){var r=n(28),o=n(22),i=n(10);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!o(t)){var l=r(n,3);t=i(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,a);return u>-1?s[l?t[u]:u]:void 0}}},function(e,t,n){var r=n(136),o=n(28),i=n(137),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:i(n);return l<0&&(l=a(s+l,0)),r(e,o(t,3),l)}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";n.r(t),n.d(t,"BaseAdvertisingPlugin",(function(){return c})),n.d(t,"AdvertisingPluginEvents",(function(){return f})),n.d(t,"FreewheelPlugin",(function(){return $})),n.d(t,"DfpPlugin",(function(){return Ce})),n.d(t,"Communication",(function(){return Be})),n.d(t,"AnalyticsPluginEvents",(function(){return Ue})),n.d(t,"OmniturePlugin",(function(){return at})),n.d(t,"ChartBeatPlugin",(function(){return gt})),n.d(t,"ConvivaPlugin",(function(){return _t}));var r=n(1);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,o=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=o.call(this,e,t)).ready=!1,n.adManager=null,n.adPlaying=!1,n.pluginDidError=!1,n}return t=l,(n=[{key:"requestAd",value:function(e,t){this.adPlaying=!1}},{key:"startMidRoll",value:function(){throw new Error("Implement startMidRoll()")}},{key:"endMidRoll",value:function(){throw new Error("Implement endMidRoll()")}},{key:"endPreRoll",value:function(){throw new Error("Implement endPreRoll()")}},{key:"setClip",value:function(){throw new Error("Implement setClip()")}},{key:"resumeAd",value:function(){throw new Error("Implement resumeAd()")}},{key:"setSize",value:function(e,t,n){throw new Error("Implement setSize()")}},{key:"setVolume",value:function(e){throw new Error("Implement setVolume()")}},{key:"mute",value:function(){throw new Error("Implement mute()")}},{key:"unmute",value:function(){throw new Error("Implement unmute()")}},{key:"getCurrentTimeInSecs",value:function(){return 0}},{key:"getDurationInSecs",value:function(){return 0}},{key:"initializeForAutoPlayPermission",value:function(e,t){throw new Error("Implement initializeForAutoPlayPermission(adVideoElement, adContainer)")}},{key:"toString",value:function(){return"BaseAdvertisingPlugin"}}])&&i(t.prototype,n),r&&i(t,r),l}(r.AbstractPlugin),f={AD_AUTOPLAY_BLOCKED:"adAutoPlayBlocked",AD_PLUGIN_LOADED:"adPluginLoaded",AD_REQUEST_STARTED:"adRequestStarted",AD_REQUEST_COMPLETE:"adRequestComplete",AD_PLUGIN_ERROR:"adPluginError",AD_ERROR:"adError",AD_START:"adStart",AD_STARTED_EVENT:"adStartedEvent",AD_COMPLETE:"adComplete",AD_COMPLETE_EVENT:"adCompleteEvent",AD_PROGRESS_EVENT:"adProgressEvent",AD_PREROLL_START:"adPreRollStart",AD_PREROLL_COMPLETE:"adPreRollComplete",AD_DEFAULT_COMPANION:"adDefaultCompanion",AD_COMPANION:"adCompanion",AD_TIME_UPDATE_ELAPSED:"adTimeUpdateElapsed",AD_TIME_UPDATE_REMAINING:"adTimeUpdateRemaining",AD_BLOCK_DETECTED:"adBlockDetected",ALL_ADS_COMPLETED:"allAdsCompleted",AD_LOADED:"adLoaded"},d=n(0),p=n.n(d),h=n(16),g=n.n(h),m=n(31),v=n.n(m);function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(e,t){return new RegExp(e,t||"i")},A="iP(?:hone|ad|od)",C="(?:BlackBerry|BB10| RIM )",I="Windows",E=I+" Phone",w="Trident(?:.*?Touch(?:.*?Mobile))",S="Linux(?!.*Android)",T="Macintosh",k="CrOS",x="(?:"+[T,I,S,k].join("|")+")",P=/[\._]/,O={windowsphone:b(w+"|"+E+"|WPDesktop"),windows:b(I),ios:b(A),blackberry:b(C),android:b("Android"),linux:b(S),macintosh:b(T),chromebook:b(k)},L={desktop:/(?:Windows NT(?!.*WPDesktop)(?!.*Xbox))/i,tablet:b("("+["Tablet|iPad","\\sNT.*?"+w,"Android(?!.*Mobi)","silk",C+".*?Tablet","xbox"].join("|")+")"),phone:b("("+["Mobi|Mobile","WPDesktop",A,w,C].join("|")+")")},D={tablet:b("("+["Tablet|iPad","\\sNT.*?"+w,"Android(?!.*Mobi)","silk",C+".*?Tablet"].join("|")+")"),phone:b("("+["Mobi|Mobile",A,w,C].join("|")+")"),desktop:b(x)},j={msie:/msie|iemobile|trident/i,edge:/edge/i,android:/android(?!.+(?:chrome|silk))/i,chrome:/chrome|crios/i,firefox:/firefox/i,opera:/opera(?!.*?mini)\//i,operamini:/opera mini/i,silk:/silk/i,safari:/safari/i},R={webkit:/AppleWebKit/i,gecko:/gecko\//i,trident:/trident/i,edge:/Edge/i},M={desktop:"desktop",other:"desktop",phone:"phone",tablet:"tablet"},N={},F=function(e){var t=e.split(P).slice(0,3);return e&&t.length<2&&t.push(0),t.join(".")},B=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||navigator.userAgent,N[t]?N[t]:this instanceof e?(N[t]=this,this.userAgent=t,this.is={},this.platform=this.getPlatform(),this.platformVersion=this.getPlatformVersion(),this.browser=this.getBrowser(),this.browserVersion=this.getBrowserVersion(),void(this.formFactor=this.getFormFactor())):new e(t)}var t,n,r;return t=e,(n=[{key:"getPlatform",value:function(){return this.test(O)||"desktop"}},{key:"getPlatformVersion",value:function(){return F(this.match(b("(?:"+(this.is.blackberry?"version":this.platform)+"|"+E+"|OS)[^\\d]+([\\d\\.\\_]+)","ig"),1))}},{key:"getBrowser",value:function(){return this.test(R),this.test(j)||"desktop"}},{key:"getFormFactor",value:function(){var e="";return e=this.is.msie?L:D,M[this.test(e)]||M.other}},{key:"getBrowserVersion",value:function(){var e=this.browser,t="[\\/\\s]";return this.is.chrome&&this.is.ios?e="crios":this.is.opera?e="version":this.is.msie&&(e+="|IEMobile|rv",t="[\\/\\:\\s]"),F(this.match(b("(?:"+e+"|version)"+t+"([\\d\\.]+)","i"),1))}},{key:"match",value:function(e,t){return function(e,t){return e&&t?e[t]:e}(e.exec(this.userAgent),t)||""}},{key:"test",value:function(e){var t,n,r,o=this.userAgent;for(t in e)n=e[t].test(o),this.is[t]=this.is[t]||n&&!r,n&&!r&&(r=t);return r}}])&&y(t.prototype,n),r&&y(t,r),e}();function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getAPI",value:function(e,t){return new Promise((function(n,r){var o=document.createElement("script");document.querySelector('[src="'.concat(e,'"]')),o.src=e,o.onload=function(){var i=p()(window,t);return document.getElementsByTagName("body")[0].removeChild(o),i?n(i):r(new Error("Could not load script ".concat(e)))},o.onerror=r,o.type="text/javascript",document.getElementsByTagName("body")[0].appendChild(o)}))}}],(n=null)&&U(t.prototype,n),r&&U(t,r),e}();function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t,n){return(W="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(a,e);var t,n,o,i=z(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).pluginSubject=n.observationCenter.pluginSubject,n.videoAdContainerId=p()(n.config,"videoAdContainerId","ad-container"),n.adContainer=void 0,n.controls=p()(n.config,"controls",!1),n.autoplay=p()(n.config,"autoplay",!0),n.muted=p()(n.config,"muted",!0),n.playsInline=p()(n.config,"playsinline",!0),n.scriptUrl=p()(n.config,"freewheel.adManager","https://mssl.fwmrm.net/p/release/latest-JS/adm/prd/AdManager.js"),n.context=null,n.siteSection=p()(n.config,"freewheel.siteSection"),n.networkId=p()(n.config,"freewheel.siteSectionNetwork"),n.fallbackNetwork=p()(n.config,"freewheel.fallbackNetwork"),n.topicId=p()(n.config,"freewheel.topicId"),n.prerollSlots=[],n.midrollSlots=[],n.overlaySlots=[],n.postrollSlots=[],n.sourceUrlQueue=[],n.currentPlayingSlotType=null,n.deviceManager=new B,n.videoAdNode=void 0,n.endMidRolls=!1,n.initAdContainer(),n}return t=a,(n=[{key:"createVideoAdPlaybackNode",value:function(){var e=document.createElement("video");return e.setAttribute("id","paid-interruption-player"),e.controls=this.controls,e.autoplay=this.autoplay,e.muted=this.muted,e.playsinline=this.playsInline,e}},{key:"initAdContainer",value:function(){if(this.adContainer=document.getElementById(this.videoAdContainerId),!this.adContainer)throw new Error("An element with the id ".concat(this.videoAdContainerId," is required for ad playback"));this.videoAdNode=this.createVideoAdPlaybackNode(),this.adContainer.style.display="none",this.adContainer.innerHTML="",this.adContainer.appendChild(this.videoAdNode)}},{key:"subscribeToMessages",value:function(){var e=this,t=r.MediaPlayerEvents[this.mediaPlayer.player.playerTypeConfig.playerType],n=this.observationCenter.playerSubject.subscribe((function(n){switch(n.type){case t.VOLUME_CHANGE:var r=p()(n,"event.target.volume"),o=p()(n,"event.target.muted");e.onVolumeChanged(r,o);break;case t.MEDIA_COMPLETE:e.onContentVideoEnded();break;case t.TIME_UPDATE:e.onContentVideoTimeUpdated()}})),o=this.observationCenter.pluginSubject.subscribe((function(t){switch(t.type){case f.AD_START:e.mediaPlayer.setIsAdPlaying(!0),e.adContainer.style.display="";break;case f.AD_COMPLETE:e.mediaPlayer.setIsAdPlaying(!1),e.adContainer.style.display="none";break;case f.AD_ERROR:case f.AD_PLUGIN_ERROR:case f.AD_BLOCK_DETECTED:e.pluginDidError=!0,e.mediaPlayer.setIsAdPlaying(!1),e.destroy()}}));this.subscriptions.push(n),this.subscriptions.push(o)}},{key:"unsubscribe",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))}},{key:"setMediaPlayer",value:function(e){var t=this;return this.mediaPlayer&&this.unsubscribe(),this.mediaPlayer=e,this.init().then((function(){t.subscribeToMessages(),W(q(a.prototype),"setMediaPlayer",t).call(t,e)}))}},{key:"init",value:function(){var e=this;return Promise.resolve(p()(window,"tv.freewheel.SDK")).then((function(t){return t||G.getAPI(e.scriptUrl,"tv.freewheel.SDK")})).then((function(t){e.freewheelSDK||(e.freewheelSDK=t),e._onScriptLoaded()})).catch((function(t){console.log("ad manager error",t),e.pluginSubject.next({type:f.AD_PLUGIN_ERROR,error:t})}))}},{key:"requestAd",value:function(e){var t=this,n=this.videoAdNode;if(this.setClip(e),W(q(a.prototype),"requestAd",this).call(this,n),this.ready){if(!this.adManager)return this.shouldPlayPreroll=!1,console.error("NO AD MANAGER. Ad blocker enabled?"),void this.pluginSubject.next({type:f.AD_BLOCK_DETECTED,result:result});var r=p()(this,"config.freewheel.duration",600);if(this.context=this.adManager.newContext(),this.context.setProfile(this.config.freewheel.adProfile),this.context.setSiteSection(this.siteSection,this.networkId,Math.floor(1e4*Math.random()),this.freewheelSDK.ID_TYPE_CUSTOM,this.fallbackNetwork),this.context.setVideoAsset(p()(this.clip,"content_id","MP4"),r,this.networkId),void 0!==this.topicId){var o=this.topicId.substr(0,this.topicId.indexOf("/")),i=this.topicId.slice(this.topicId.lastIndexOf("/")+1,this.topicId.length),s=this.topicId.slice(this.topicId.indexOf("/")+1,this.topicId.lastIndexOf("/"));this.context.addKeyValue("topicID",this.topicId),this.context.addKeyValue("player",i),this.context.addKeyValue("site",o),this.context.addKeyValue("section",s)}else this.context.addKeyValue("player","embed"),this.context.addKeyValue("site",this.config.freewheel.site);this.context.addKeyValue("deviceType",this.deviceManager.formFactor.toLowerCase()),this.addCustomFreewheelProperties(),this.context.setContentVideoElement(n),this.context.addTemporalSlot("Preroll_1",this.freewheelSDK.ADUNIT_PREROLL,0);try{this.context.addEventListener(this.freewheelSDK.EVENT_REQUEST_COMPLETE,(function(e){t._onRequestComplete(e)})),this.context.addEventListener(this.freewheelSDK.EVENT_AD,(function(e){t._onAdEvent(e)})),this.pluginSubject.next({type:f.AD_REQUEST_STARTED}),this.context.submitRequest()}catch(e){console.log("requestAd error: ",e),this.pluginSubject.next({type:f.AD_ERROR,e:e})}}else{if(this.ready)return void this.pluginSubject.next({type:f.AD_COMPLETE,player:this.player});var l=this;window.setTimeout((function(){l.requestAd(n)}),500)}}},{key:"addCustomFreewheelProperties",value:function(){try{var e=this.player.utils.getClipReader().getFreewheelProps(this.clip)}catch(t){e=p()(this.clip,"freewheelProps")}v()(e,function(e,t){this.context.addKeyValue(t,g()(e))}.bind(this))}},{key:"_actualPlayback",value:function(){this.prerollSlots.length?this.prerollSlots[0].play():this.pluginSubject.next({type:f.AD_COMPLETE,player:this.player})}},{key:"onContentVideoEnded",value:function(){this.freewheelSDK&&this.currentPlayingSlotType===this.freewheelSDK.TIME_POSITION_CLASS_MIDROLL?console.log("Received content video ended event dispatched from midroll, ignore"):(this.sourceUrlQueue.shift(),this.context.setVideoState(this.freewheelSDK.VIDEO_STATE_STOPPED),this.midrollSlots.length?(this.currentPlayingSlotType=this.freewheelSDK.TIME_POSITION_CLASS_MIDROLL,this.midrollSlots[0].play()):this.sourceUrlQueue.length?this._actualPlayback.call(this):this.postrollSlots&&this.postrollSlots.length?this.postrollSlots[0].play():this.context.setVideoState(this.freewheelSDK.VIDEO_STATE_COMPLETED))}},{key:"onContentVideoTimeUpdated",value:function(){if(this.freewheelSDK&&this.currentPlayingSlotType===this.freewheelSDK.TIME_POSITION_CLASS_MIDROLL)console.log("Received content video timeUpdate event dispatched when midroll playing, ignore");else for(var e=0;e<this.overlaySlots.length;e++){var t=this.overlaySlots[e],n=t.getTimePosition(),r=this.player.currentTime;if(r-n>=0&&r-n<=1&&!this.currentPlayingSlotType)return this.overlaySlots.splice(e,1),void t.play()}}},{key:"onTimeUpdated",value:function(e){var t={currentTime:e.target.currentTime};this.pluginSubject.next({type:f.AD_TIME_UPDATE_ELAPSED,payload:t})}},{key:"onVolumeChanged",value:function(e,t){var n=this.videoAdNode;n&&(n.muted=t,n.volume=e)}},{key:"_onScriptLoaded",value:function(){this.adManager=new this.freewheelSDK.AdManager,this.adManager.setNetwork(this.config.freewheel.adNetwork),this.adManager.setServer(this.config.freewheel.adServer),this.ready=!0,this.pluginSubject.next({type:f.AD_PLUGIN_LOADED})}},{key:"_playMidRoll",value:function(){this.midrollSlots.length?this.midrollSlots[0].play():this.pluginSubject.next({type:f.AD_COMPLETE,player:this.player})}},{key:"updateAdPlaybackInfo",value:function(e,t){this.pluginSubject.next({type:f.AD_TIME_UPDATE_REMAINING,countdown:e-t,duration:e,currentTime:t}),this.pluginSubject.next({type:f.AD_TIME_UPDATE_ELAPSED,countdown:e-t,duration:e,currentTime:t})}},{key:"startSlotCountdown",value:function(e){var t=this;e.countdownInterval=setInterval((function(){var n=0,r=e.getPlayheadTime();t.prerollSlots.forEach((function(e){n+=e.getTotalDuration()})),t.updateAdPlaybackInfo(n,r)}),1e3)}},{key:"endSlotCountdown",value:function(e){clearInterval(e.countdownInterval),this.updateAdPlaybackInfo(0,0)}},{key:"_onSlotStarted",value:function(e){e.slot.getTimePositionClass(),this.prerollSlots.length&&this.startSlotCountdown(this.prerollSlots[0])}},{key:"_onAdEvent",value:function(e){if(e.subType===this.freewheelSDK.EVENT_AD_IMPRESSION){var t=0;this.prerollSlots.forEach((function(e){t+=e.getTotalDuration()})),this.pluginSubject.next({type:f.AD_START,duration:t,adDuration:e.slot.getTotalDuration(),player:this.player})}if(e.subType===this.freewheelSDK.EVENT_ERROR&&(this.pluginSubject.next({type:f.AD_ERROR,error:e}),this.endSlotCountdown(e.slot)),e.adInstance.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK).length>0){var n=e.target._temporalSlotBase;n&&n.parentElement&&n.parentElement.classList.add("freewheel_adClickthru")}e.subType===this.freewheelSDK.EVENT_AD_AUTO_PLAY_BLOCKED&&this.pluginSubject.next({type:f.AD_AUTOPLAY_BLOCKED})}},{key:"_onSlotEnded",value:function(e){var t,n=e.slot,r=n.getTimePositionClass();switch(this.endSlotCountdown(n),r){case this.freewheelSDK.TIME_POSITION_CLASS_PREROLL:this.prerollSlots.length&&(this.prerollSlots.shift(),this.prerollSlots.length?this.prerollSlots[0].play():(this.context.setVideoState(this.freewheelSDK.VIDEO_STATE_PLAYING),t={duration:e.slot?e.slot.getTotalDuration():null},this.pluginSubject.next({type:f.AD_COMPLETE,player:this.player,data:t})));break;case this.freewheelSDK.TIME_POSITION_CLASS_MIDROLL:this.midrollSlots.length&&(this.midrollSlots.shift(),this.midrollSlots.length&&!this.endMidRolls?this.midrollSlots[0].play():(this.currentPlayingSlotType=null,this.endMidRolls=!1,this.context.setVideoState(this.freewheelSDK.VIDEO_STATE_PLAYING),t={duration:e.slot?e.slot.getTotalDuration():null},this.pluginSubject.next({type:f.AD_COMPLETE,player:this.player,data:t})));break;case this.freewheelSDK.TIME_POSITION_CLASS_OVERLAY:this.currentPlayingSlotType=null;break;case this.freewheelSDK.TIME_POSITION_CLASS_POSTROLL:this.postrollSlots.length&&(this.postrollSlots.shift(),this.postrollSlots.length?this.postrollSlots[0].play():(this.context.setVideoState(this.freewheelSDK.VIDEO_STATE_COMPLETED),_onRequestComplete.call(this,{success:!0})))}var o=document.getElementsByClassName("freewheel_adClickthru");o.length>0&&o[0].classList.remove("freewheel_adClickthru")}},{key:"_onRequestComplete",value:function(e){var t=this;if(console.log("FreeWheelPlugin - _onRequestComplete",e),this.context.removeEventListener(this.freewheelSDK.EVENT_REQUEST_COMPLETE,(function(){})),e.success){this.prerollSlots=[],this.midrollSlots=[],this.overlaySlots=[],this.postrollSlots=[];for(var n=this.context.getTemporalSlots(),r=null,o=0;o<n.length;o++)switch((r=n[o]).getTimePositionClass()){case this.freewheelSDK.TIME_POSITION_CLASS_PREROLL:this.prerollSlots.push(r);break;case this.freewheelSDK.TIME_POSITION_CLASS_MIDROLL:this.midrollSlots.push(r);break;case this.freewheelSDK.TIME_POSITION_CLASS_OVERLAY:this.overlaySlots.push(r);break;case this.freewheelSDK.TIME_POSITION_CLASS_POSTROLL:this.postrollSlots.push(r)}switch(this.context.addEventListener(this.freewheelSDK.EVENT_SLOT_STARTED,(function(e){t._onSlotStarted(e)})),this.context.addEventListener(this.freewheelSDK.EVENT_SLOT_ENDED,(function(e){t._onSlotEnded(e)})),this.sourceUrlQueue=[this.clip],r?r.getTimePositionClass():"noAdSlot"){case"noAdSlot":case this.freewheelSDK.TIME_POSITION_CLASS_PREROLL:this._actualPlayback();break;case this.freewheelSDK.TIME_POSITION_CLASS_MIDROLL:this._playMidRoll();break;case this.freewheelSDK.TIME_POSITION_CLASS_OVERLAY:case this.freewheelSDK.TIME_POSITION_CLASS_POSTROLL:}this.pluginSubject.next({type:f.AD_REQUEST_COMPLETE,slots:n})}else this.pluginSubject.next({type:f.AD_ERROR,result:e})}},{key:"setClip",value:function(e){this.clip=e}},{key:"startMidRoll",value:function(e,t,n){var r=this;if(this.ready&&e){n||(n=new CuePointVO);var o=n.timePosition,i=n.breakLength,a=n.duration,s=this.networkId;this.clip&&(videoAssetCustomId=this.clip.content_id||videoAssetCustomId),this.context=this.adManager.newContext(),this.context.setProfile(this.config.freewheel.adProfile),this.context.setRequestMode(this.freewheelSDK.REQUEST_MODE_LIVE),this.context.setSiteSection(this.siteSection,s,Math.floor(1e4*Math.random()),this.freewheelSDK.ID_TYPE_CUSTOM,this.fallbackNetwork),this.context.setVideoAsset(p()(this.clip,"content_id","MP4"),a,s),this.context.setContentVideoElement(e),this.context.addTemporalSlot("Midroll_1",this.freewheelSDK.ADUNIT_MIDROLL,o,null,1,i,i,null);try{this.context.addEventListener(this.freewheelSDK.EVENT_REQUEST_COMPLETE,(function(e){r._onRequestComplete(e)})),this.context.addEventListener(this.freewheelSDK.EVENT_AD,(function(e){r._onAdEvent(e)})),this.context.submitRequest()}catch(e){this.pluginSubject.next({type:f.AD_ERROR,error:e})}}else{var l=this;window.setTimeout((function(){l.startMidRoll(e,n)}),500)}}},{key:"endMidRoll",value:function(){var e=this.midrollSlots[0];e&&(this.endMidRolls=!0,e.stop())}},{key:"endPreRoll",value:function(){var e=this.prerollSlots[0];e&&(this.endPreRolls=!0,e.stop())}},{key:"resumeAd",value:function(){try{var e=this.prerollSlots[0];e.play(),this.pluginSubject.next({type:f.AD_START,duration:e.getTotalDuration()})}catch(e){console.log("resumeAd failed. "+e.message)}}},{key:"destroy",value:function(){this.context&&this.context.dispose(),W(q(a.prototype),"destroy",this).call(this)}},{key:"toString",value:function(){return"FreewheelPlugin"}}])&&V(t.prototype,n),o&&V(t,o),a}(c),X=n(8),Z=n.n(X),Q=n(6),J=n.n(Q),ee=n(56),te=n.n(ee),ne=n(57),re=n.n(ne);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var le=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"build",value:function(t,n,r){var o=re()(p()(n,"adConfig",{})),i=p()(o,"url",p()(t,"url","https://pubads.g.doubleclick.net/gampad/live/ads")),a={sz:p()(t,"sz","400x300|640x480|1920x1280"),iu:p()(t,"iu"),impl:p()(t,"impl","s"),gdfp_req:p()(t,"gdfp_req",1),env:p()(t,"env","vp"),output:p()(t,"output","vast"),unviewed_position_start:p()(t,"unviewed_position_start","1"),url:p()(t,"url","[referrer_url]"),description_url:p()(t,"description_url","[description_url]"),correlator:p()(t,"correlator","[timestamp]"),pmnd:p()(t,"pmnd","0"),pmxd:p()(t,"pmxd","60000"),pmad:p()(t,"pmad","1"),vpos:p()(t,"vpos","preroll"),pp:p()(t,"pp","web"),pod:p()(t,"pod","1"),ad_rule:p()(t,"ad_rule","1"),asset:p()(t,"asset","")};t.getDfpParams&&(a=t.getDfpParams(t));var s=p()(t,"additionalParams",{}),l=p()(r,"event");void 0!==l&&Z()(o,"cust_params",J()({},p()(o,"cust_params",{}),{evnt:l}));var u=e.addCustomParams(o,t);return void 0!==u&&(o.cust_params=e.encodeCustomParams(u)),J()(a,o,s),i+"?"+te()(a,(function(e,t,n){return e+(e?"&":"")+n+"="+t}),"")}},{key:"encodeCustomParams",value:function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t=t+n+"%3D"+e[n]+"%26");return t.substring(0,t.length-3)}},{key:"addCustomParams",value:function(e,t){var n=p()(e,"cust_params",{}),r=p()(t,"cust_params",{});return ie(ie({},J()({},r,n)),{},{topic:p()(t,"topicId"),width:p()(t,"width"),height:p()(t,"height")})}}],(n=null)&&se(t.prototype,n),r&&se(t,r),e}();function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ce=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"initMoatTracking",value:function(e,t,n){if(!1===t.hasOwnProperty("partnerCode"))return!1;var r=document.createElement("script");n=n||e&&(void 0!==e.O?e.O.parentNode:document.body)||document.body;var o,i,a=[],s={adsManager:e,ids:t,imaSDK:!0,events:[],dispatchEvent:function(e){var t=this.sendEvent,n=this.events;t?(n&&(n.push(e),e=n),t(e)):n.push(e)}},l={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"};if(google&&google.ima&&e){var u,c="_moatApi"+Math.floor(1e8*Math.random());for(u in google.ima.AdEvent.Type){var f=function(t){if(s.sendEvent){for(t=a.length-1;t>=0;t--)e.removeEventListener(a[t].type,a[t].func);s.sendEvent(s.events)}else s.events.push({type:l[t.type]||t.type,adVolume:e.getVolume()})};e.addEventListener(google.ima.AdEvent.Type[u],f),a.push({type:google.ima.AdEvent.Type[u],func:f})}}c=void 0!==c?c:"";try{i=(o=n.ownerDocument).defaultView||o.parentWindow}catch(e){o=document,i=window}return i[c]=s,r.type="text/javascript",n&&n.appendChild(r),r.src="https://z.moatads.com/"+t.partnerCode+"/moatvideo.js#"+c,s}}],(n=null)&&ue(t.prototype,n),r&&ue(t,r),e}();function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t,n){return(ge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ae(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ae(e);if(t){var o=Ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?be(e):t}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(a,e);var t,n,o,i=ve(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).deviceManager=new B,n.googleIMA=void 0,n.scriptUrl=p()(n.config,"dfp.adManager","https://imasdk.googleapis.com/js/sdkloader/ima3.js"),n.pluginSubject=n.observationCenter.pluginSubject,n.videoAdContainerId=p()(n.config,"videoAdContainerId","ad-container"),n.adContainer=void 0,n.adsRequest=void 0,n.controls=p()(n.config,"controls",!1),n.autoplay=p()(n.config,"autoplay",!0),n.muted=p()(n.config,"muted",!0),n.initVolume=n.muted?0:1,n.playsInline=p()(n.config,"playsinline",!0),n.url=p()(n.config,"dfp.url"),n.output=p()(n.config,"dfp.output"),n.description_url=p()(n.config,"dfp.description_url"),n.cmsid=p()(n.config,"dfp.cmsid"),n.ad_rule=p()(n.config,"dfp.ad_rule"),n.pp=n.checkPlayerProfileValue(n.deviceManager.formFactor,p()(n.config,"dfp.pp")),Z()(n.config,"dfp.pp",n.pp),n.ciu_szs=p()(n.config,"dfp.ciu_szs"),n.gdfp_req=p()(n.config,"dfp.gdfp_req"),n.unviewed_position_start=p()(n.config,"dfp.unviewed_position_start"),n.iu=p()(n.config,"dfp.vpp.iu"),n.sz=p()(n.config,"dfp.vpp.sz"),n.cust_params=p()(n.config,"dfp.cust_params"),n.contentResumeCalled=!1,n.adDisplayContainer=null,n.adWasStopped=void 0,n.onAdsManagerLoaded=n.onAdsManagerLoaded.bind(be(n)),n.onAdError=n.onAdError.bind(be(n)),n}return t=a,(n=[{key:"init",value:function(e){var t=this;return Promise.resolve(p()(window,"window.google.ima")).then((function(e){return e||G.getAPI(t.scriptUrl,"window.google.ima")})).then((function(e){r.Log.log("DfpPlugin ad manager loaded"),t.googleIMA||(t.googleIMA=e),t.scriptLoaded()})).catch((function(e){r.Log.error("DfpPlugin ad manager error",e),t.pluginSubject.next({type:f.AD_PLUGIN_ERROR,error:e})}))}},{key:"scriptLoaded",value:function(){this.ready=!0,this.pluginSubject.next({type:f.AD_PLUGIN_LOADED})}},{key:"checkPlayerProfileValue",value:function(e,t){var n=t,r="desktop"===e;return r&&t.indexOf("mobile")>-1?n=t.replace("mobile","desktop"):!r&&t.indexOf("desktop")>-1&&(n=t.replace("desktop","mobile")),n}},{key:"setMediaPlayer",value:function(e){var t=this;return this.mediaPlayer&&this.unsubscribe(),this.mediaPlayer=e,this.init().then((function(){t.subscribeToMessages(),ge(Ae(a.prototype),"setMediaPlayer",t).call(t,e)}))}},{key:"setAdContainerDisplay",value:function(e){this.adContainer&&(this.adContainer.style.display=e?"":"none")}},{key:"subscribeToMessages",value:function(){var e=this;r.Log.debug("DfpPlugin subscribeToMessages");var t=r.MediaPlayerEvents[this.mediaPlayer.player.playerTypeConfig.playerType],n=r.MediaPlayerEvents.MEDIA_PLAYER,o=this.observationCenter.playerSubject.subscribe((function(r){switch(r.type){case t.VOLUME_CHANGE:var o=p()(r,"event.target.volume"),i=p()(r,"event.target.muted");e.playerVolumeChanged(o,i);break;case n.PLAYER_RESIZED:var a=p()(r,"data");e.setSize(a.width,a.height)}})),i=this.observationCenter.pluginSubject.subscribe((function(t){switch(t.type){case f.AD_REQUEST_STARTED:case f.AD_START:e.mediaPlayer.setIsAdPlaying(!0),e.setAdContainerDisplay(!0);break;case f.AD_COMPLETE:case f.AD_ERROR:e.mediaPlayer.setIsAdPlaying(!1),e.setAdContainerDisplay(!1);break;case f.AD_PLUGIN_ERROR:r.Log.debug("DfpPlugin ...AD_PLUGIN_ERROR..."),e.pluginDidError=!0,e.mediaPlayer.setIsAdPlaying(!1),e.setAdContainerDisplay(!1),e.destroy();break;case f.AD_BLOCK_DETECTED:r.Log.debug("DfpPlugin ...AD_BLOCK_DETECTED..."),e.mediaPlayer.setIsAdPlaying(!1),e.setAdContainerDisplay(!1),e.destroy()}}));this.subscriptions.push(o),this.subscriptions.push(i)}},{key:"unsubscribe",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))}},{key:"playerVolumeChanged",value:function(e,t){var n=this.adsManager;n&&n.setVolume(t?0:e)}},{key:"stop",value:function(){r.Log.debug("DfpPlugin stop!",this.adsManager),this.adsManager&&(this.adWasStopped=!0,this.adsManager.discardAdBreak(),this.adsManager.destroy(),this.mediaPlayer.setIsAdPlaying(!1),this.setAdContainerDisplay(!1))}},{key:"setVolume",value:function(e){this.initVolume=e,this.adsManager&&(this.mediaPlayer.setVolume(this.initVolume),this.adsManager.setVolume(this.initVolume))}},{key:"findParentSize",value:function(e){var t=e.parentNode,n=640,r=360;return t&&(n=p()(t,"clientWidth"),r=p()(t,"clientHeight")),n>0&&r>0?{width:n,height:r}:this.findParentSize(t)}},{key:"initializeAdContainer",value:function(){if(this.adContainer=document.getElementById(this.videoAdContainerId),this.setAdContainerDisplay(!1),!this.adContainer)throw new Error("An element with the id ".concat(this.videoAdContainerId," is required for ad playback"));var e=this.findParentSize(this.adContainer),t=e.width,n=e.height;this.setSize(t,n),this.googleIMA.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.adDisplayContainer=new this.googleIMA.AdDisplayContainer(this.adContainer,this.mediaPlayer.player.videoEl),this.adDisplayContainer.initialize()}},{key:"initializeAdsLoader",value:function(){this.adsLoader||(this.adsLoader=new this.googleIMA.AdsLoader(this.adDisplayContainer),this.adsLoader.addEventListener(this.googleIMA.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded,!1),this.adsLoader.addEventListener(this.googleIMA.AdErrorEvent.Type.AD_ERROR,this.onAdError,!1))}},{key:"requestAd",value:function(e){var t=this;r.Log.log("requestAd in DFP",this.ready,e),this.ready?(this.adWasStopped=!1,this.clip=e,this.currentAdDuration=0,this.adPodDuration=0,this.elapsedAdsInPodTime=0,this.initializeAdContainer(),this.initializeAdsLoader(),this.startAdsRequest()):this.adBlockedError||(this.requestAdTimeoutID=setTimeout((function(){t.requestAd(e)}),500))}},{key:"buildAdTagUrl",value:function(e){var t=p()(this.config,"dfp",{}),n=p()(this.config,"customAdRequestBuilder");return n?n(t,this.clip,e):le.build(t,this.clip,e)}},{key:"catchAndPlayAdsMuted",value:function(){this.mediaPlayer.pause(),this.mediaPlayer.mute(),this.adsRequest.setAdWillAutoPlay(!0),this.adsRequest.setAdWillPlayMuted(!0),this.adsLoader.requestAds(this.adsRequest)}},{key:"startAdsRequest",value:function(e){var t=this,n=this.buildAdTagUrl(e),o=p()(this.mediaPlayer,"player.stateModel"),i=p()(o,"volume.muted");this.adsRequest=new this.googleIMA.AdsRequest,this.adsRequest.adTagUrl=n,this.adsRequest.linearAdSlotWidth=640,this.adsRequest.linearAdSlotHeight=400,this.adsRequest.nonLinearAdSlotWidth=640,this.adsRequest.nonLinearAdSlotHeight=150,this.mediaPlayer.setVolume(1),this.mediaPlayer.play().then((function(e){e?(r.Log.log("ad should be playing.."),t.mediaPlayer.pause(),t.adsRequest.setAdWillAutoPlay(!0),t.adsRequest.setAdWillPlayMuted(i),r.Log.debug("DfpPlugin then, requestAds()"),t.adsLoader.requestAds(t.adsRequest)):t.catchAndPlayAdsMuted()})).catch((function(e){t.catchAndPlayAdsMuted(e)}))}},{key:"onAdsManagerLoaded",value:function(e){var t=new this.googleIMA.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.uiElements=[],this.adsManager=e.getAdsManager(this.mediaPlayer.player.videoEl,t),this.adsManager.addEventListener(this.googleIMA.AdErrorEvent.Type.AD_ERROR,this.onAdError),this.adsManager.addEventListener(this.googleIMA.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(this.googleIMA.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(this.googleIMA.AdEvent.Type.ALL_ADS_COMPLETED,this.onAdEvent.bind(this)),this.adsManager.addEventListener(this.googleIMA.AdEvent.Type.LOADED,this.onAdEvent.bind(this)),this.adsManager.addEventListener(this.googleIMA.AdEvent.Type.STARTED,this.onAdEvent.bind(this)),this.adsManager.addEventListener(this.googleIMA.AdEvent.Type.COMPLETE,this.onAdEvent.bind(this)),this.adsManager.addEventListener(this.googleIMA.AdEvent.Type.AD_PROGRESS,this.onAdEvent.bind(this));try{var n=p()(this.config,"dfp",{}),o=n.width,i=n.height;if(!o||!i){var a=this.findParentSize(this.adContainer);o=a.width,i=a.height}this.adsManager.init(o,i,this.googleIMA.ViewMode.NORMAL),this.adsManager.start()}catch(e){r.Log.log("DfpPlugin ERROR",e)}}},{key:"onAdEvent",value:function(e){var t=e.getAd();switch(e.type){case this.googleIMA.AdEvent.Type.LOADED:this.trackMoat(),this.contentResumeCalled=!1,this.pluginSubject.next({type:f.AD_LOADED,config:this.config,adEvent:e});break;case this.googleIMA.AdEvent.Type.STARTED:if(this.adWasStopped){this.adsManager.discardAdBreak(),this.adsManager.destroy(),this.pluginSubject.next({type:f.AD_COMPLETE,player:this.mediaPlayer});break}this.contentResumeCalled=!1,t.isLinear()&&(this.elapsedAdsInPodTime+=this.currentAdDuration,this.currentAdDuration=t.getDuration(),this.updateRemainingTimer()),this.pluginSubject.next({type:f.AD_STARTED_EVENT,config:this.config,adEvent:e});break;case this.googleIMA.AdEvent.Type.COMPLETE:this.observationCenter.controlsSubject.next({type:"SHOW_CONTROLS"}),this.pluginSubject.next({type:f.AD_COMPLETE_EVENT,config:this.config,adEvent:e});break;case this.googleIMA.AdEvent.Type.ALL_ADS_COMPLETED:this.observationCenter.controlsSubject.next({type:"SHOW_CONTROLS"});var n=p()(this.config,"preRollAdsEnabled",!1),r=p()(this.config,"midRollAdsEnabled",!1);(n||r)&&this.pluginSubject.next({type:f.ALL_ADS_COMPLETED,config:this.config,adEvent:e});break;case this.googleIMA.AdEvent.Type.AD_PROGRESS:this.updateRemainingTimer(),this.pluginSubject.next({type:f.AD_PROGRESS_EVENT,config:this.config,adEvent:e})}}},{key:"onAdError",value:function(e){var t,n=e.getError(),o=n.getInnerError();r.Log.debug("DfpPlugin onAdError",n,o);try{o&&(t=o.getErrorCode())}catch(n){r.Log.debug("DfpPlugin onAdError - innerError.getErrorCode()",n)}1205===t?(this.adBlockedError=!0,this.pluginSubject.next({type:f.AD_AUTOPLAY_BLOCKED})):this.pluginSubject.next({type:f.AD_ERROR,error:e})}},{key:"onContentPauseRequested",value:function(e){this.mediaPlayer.pause(),this.adsManager.getRemainingTime();var t=e.getAd().getAdPodInfo();this.adPodDuration=t.getMaxDuration(),this.elapsedAdsInPodTime=0,this.contentResumeCalled=!1,this.pluginSubject.next({type:f.AD_START,duration:this.adPodDuration,player:this.mediaPlayer})}},{key:"onContentResumeRequested",value:function(e){this.adBlockedError||this.adWasStopped||(this.mediaPlayer.play(),this.pluginSubject.next({type:f.AD_COMPLETE,player:this.mediaPlayer})),this.adWasStopped=!1}},{key:"updateRemainingTimer",value:function(){var e=this.adsManager.getRemainingTime(),t=Math.max(this.currentAdDuration,e),n=t-e,r=this.elapsedAdsInPodTime+n,o={countdown:e,currentTime:r,currentAdElapsedTime:n,currentPodElapsedTime:r,currentAdDuration:t};this.pluginSubject.next(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:f.AD_TIME_UPDATE_ELAPSED},o))}},{key:"trackMoat",value:function(){var e=p()(this.config,"dfp.moatTrackingEnabled",!1),t=p()(this.config,"dfp.moatPartnerCode",null),n=p()(this.config,"dfp.iu",null);if(e&&t){var r={partnerCode:t,viewMode:this.googleIMA.ViewMode.NORMAL,zMoatAdUnitPath:n};ce.initMoatTracking(this.adsManager,r,this.adContainer)}}},{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:640,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:360,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.width=e,this.height=t,this.isFullscreen=n,Z()(this.config,"dfp.width",e),Z()(this.config,"dfp.height",t),this.adsManager&&this.adsManager.resize(e,t,this.googleIMA.ViewMode.NORMAL)}},{key:"destroy",value:function(){r.Log.debug("DfpPlugin ...destroy"),clearTimeout(this.requestAdTimeoutID),this.unsubscribe(),this.adsManager&&(this.adDisplayContainer.destroy(),this.adsManager.destroy())}},{key:"toString",value:function(){return"DfpPlugin"}}])&&he(t.prototype,n),o&&he(t,o),a}(c),Ie=n(4),_e=n.n(Ie);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var o=xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(i,e);var t,n,r,o=Te(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t)).targetPlayerEvents=p()(e,"targetPlayerEvents",[]),n.targetPluginEvents=p()(e,"targetPluginEvents",[]),n.observationCenter=t,n.dispatcher=_e.a.getInstanceByKey("#".concat(p()(e,"bandwagonKey","video-player"))),n.subscribeToPlayerEvents(),n.subscribeToPluginEvents(),n}return t=i,(n=[{key:"subscribeToPlayerEvents",value:function(e){var t=this,n=this;this.observationCenter.playerSubject.subscribe((function(e){var r=n.targetPlayerEvents[e.type];r&&t.publishMessage(r)}))}},{key:"subscribeToPluginEvents",value:function(e){var t=this;this.observationCenter.pluginSubject.subscribe((function(e){var n=t.targetPluginEvents[e.type];n&&t.publishMessage(n)}))}},{key:"publishMessage",value:function(e,t){this.dispatcher.publish(e,t)}}])&&we(t.prototype,n),r&&we(t,r),i}(r.AbstractPlugin),Oe=n(58),Le=n.n(Oe);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fe(e);if(t){var o=Fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ne(this,n)}}function Ne(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Be={BandwagonAdapter:Pe,EventReplicator:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(i,e);var t,n,r,o=Me(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t)).parentWindow=p()(e,"parentWindow",window.parent),n.dispatcher=_e.a.getInstanceByKey("#".concat(p()(e,"bandwagonKey","video-player"))),n.playerId=p()(e,"playerId","video-player"),n.events=p()(e,"eventsToReplicate",[]),n.replicate(),n}return t=i,(n=[{key:"replicate",value:function(){var e=this;Le()(this.events,(function(t,n){e.dispatcher.on(n,(function(n,r){e.parentWindow.postMessage({type:t,playerId:e.playerId,payload:n?e.removeCircularReferences(t,n):void 0},"*")}))}))}},{key:"removeCircularReferences",value:function(e,t){var n=[];if(t&&t.player){var r=t.player.id;t.player={id:r}}try{return JSON.parse(JSON.stringify(t,(function(e,t){if(!("function"==typeof t||null==t||t instanceof Window)){if(t instanceof Object){if(n.indexOf(t)>-1)return;n.push(t)}return t}})))}catch(t){return console.log("removeCircularReferences: error replicating event: ",e,t),{}}}}])&&je(t.prototype,n),r&&je(t,r),i}(r.AbstractPlugin)},Ue={ANALYTICS_PLUGIN_LOADED:"analyticsPluginLoaded",ANALYTICS_PLUGIN_ERROR:"analyticsPluginError",ANALYTICS_ERROR:"analyticsError",ANALYTICS_LOADED:"analyticsLoaded"},Ge=n(32),He=n.n(Ge),Ve=n(3),We=n(59),Ye=n.n(We),ze=n(60),Ke=n.n(ze),qe=n(17),$e=n.n(qe),Xe={MEDIA_STREAM_ID:function(e){var t=p()(e,"player.currentMediaItem.metaData");return p()(e,"slug",p()(t,"content_id",p()(t,"contentId",p()(t,"id"))))}};function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t,n){return(Je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rt(e);if(t){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ot=r.MediaPlayerEvents.HTML5,it=n(133),at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(a,e);var t,n,o,i=tt(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).omnitureConf=p()(n.config,"omniture"),n.playerSubject=n.observationCenter.playerSubject,n.playerStateSubject=n.observationCenter.stateSubject,n.playerTimeSubject=n.observationCenter.playerTimeSubject,n.playerContext=p()(n.omnitureConf,"playerContext","UNKNOWN"),n.siteTraffic=p()(n.omnitureConf,"siteTraffic",""),n.section=p()(n.omnitureConf,"section",""),n.wiretapVideoJson=p()(n.omnitureConf,"wiretapVideoJson",{}),n.bandwagonPlayerEvents=p()(n.omnitureConf,"bandwagonPlayerEvents",{MEDIA_LOAD_START:"loadstart",MEDIA_START:"play",MEDIA_COMPLETE:"ended",PLAYBACK_PERCENT_25:"playbackPercent25",PLAYBACK_PERCENT_50:"playbackPercent50",PLAYBACK_PERCENT_75:"playbackPercent75"}),n.autoPlay=null,n.wiretapVideo=null,n.dispatcher=null,n.currentClip={contentId:void 0,playbackStart:!1,playback25:!1,playback50:!1,playback75:!1,playbackComplete:!1},n}return t=a,(n=[{key:"setMediaPlayer",value:function(e){var t=this;return this.mediaPlayer&&this.unsubscribe(),this.mediaPlayer=e,this.autoPlay=e.config.playerTypeConfig.autoPlay,this.init().then((function(){t.subscribeToMessages(),Je(rt(a.prototype),"setMediaPlayer",t).call(t,t.mediaPlayer)})).catch((function(e){return console.log("Error when calling setMediaPlayer(this.mediaPlayer)",e),e}))}},{key:"init",value:function(){var e=this;return new Promise((function(t,n){if(e.wiretapVideo)return t();_e.a.registerEvents("PLAYER_EVENTS",ot),_e.a.registerEvents("PLAYER_EVENTS",{PLAYBACK_PERCENT_25:"playbackPercent25",PLAYBACK_PERCENT_50:"playbackPercent50",PLAYBACK_PERCENT_75:"playbackPercent75"}),e.dispatcher=_e.a.getInstanceByKey("#".concat(e.mediaPlayer.getPlayerId()));var r=it.Location(),o=r.getParam("playerContext");e.playerContext=o||e.playerContext;var i={bandwagon:_e.a,siteTraffic:e.siteTraffic,property:p()(window,"videoProperty",""),topicName:p()(window,"dataBootstrap.title",""),playerContext:e.playerContext,location:r.getParam("location"),systemAutoPlay:e.autoPlay?"System Generated":"User Generated",section:e.section,topic:p()(window,"dataBootstrap",""),langLocale:$e.a.lang};if($e.a.team_id){var a=window.team_info,s=_.filter(a,(function(e){return e.id==$e.a.team_id}));i.teamAbbrev=s.abbreviation,i.teamDisplay=s.name}try{var l=Object.assign({},Ke.a,Xe);e.wiretapVideo=new Ye.a(e.wiretapVideoJson,l,i),t()}catch(e){n(e)}}))}},{key:"subscribeToMessages",value:function(){this.subscribeToPlayerState(),this.subscribeToBandwagon(),this.subscribeToPlayerTime()}},{key:"updateClip",value:function(e){var t=p()(e,"metaData.id",p()(e,"metaData.content_id"));this.currentClip={contentId:t,playbackStart:!1,playback25:!1,playback50:!1,playback75:!1,playbackComplete:!1}}},{key:"subscribeToBandwagon",value:function(){var e,t=this;He()(this.bandwagonPlayerEvents,(function(n){e=t.playerSubject.pipe(Object(Ve.filter)((function(e){return e.type===n||e.type===r.MediaPlayerEvents.MEDIA_PLAYER.MEDIA_ITEM_SET}))).subscribe((function(e){var n=e.type,o=n===t.bandwagonPlayerEvents.MEDIA_LOAD_START,i=n===t.bandwagonPlayerEvents.MEDIA_START;n!==r.MediaPlayerEvents.MEDIA_PLAYER.MEDIA_ITEM_SET?t.currentClip.playbackStart||!i&&!o?o||i||t.dispatchPlayerEvent(n):(t.dispatchPlayerEvent(n),t.currentClip.playbackStart=!0):t.updateClip(e.data)})),t.subscriptions.push(e)}))}},{key:"subscribeToPlayerTime",value:function(){var e=this,t=this.playerTimeSubject.pipe(Object(Ve.filter)((function(e){return"PLAYER_TIME_STATE_UPDATE"===e.type})),Object(Ve.filter)((function(t){return!p()(e.playerState,"isAdPlaying",void 0)})),Object(Ve.throttleTime)(1e3)).subscribe((function(t){var n=t.stateModel,r=n.duration,o=n.currentTime,i=Math.ceil(o/r*100);!e.currentClip.playback25&&i>=24&&i<26?(e.dispatchPlayerEvent(e.bandwagonPlayerEvents.PLAYBACK_PERCENT_25),e.currentClip.playback25=!0):!e.currentClip.playback50&&i>=49&&i<51&&(e.dispatchPlayerEvent(e.bandwagonPlayerEvents.PLAYBACK_PERCENT_50),e.currentClip.playback50=!0),!e.currentClip.playback75&&i>=74&&i<76&&(e.dispatchPlayerEvent(e.bandwagonPlayerEvents.PLAYBACK_PERCENT_75),e.currentClip.playback75=!0)}));this.subscriptions.push(t)}},{key:"subscribeToPlayerState",value:function(){var e=this,t=this.playerStateSubject.subscribe((function(t){e.playerState=t.stateModel}));this.subscriptions.push(t)}},{key:"unsubscribe",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))}},{key:"dispatchPlayerEvent",value:function(e){this.dispatcher.publish(e,{player:this.mediaPlayer})}},{key:"toString",value:function(){return"OmniturePlugin"}}])&&Qe(t.prototype,n),o&&Qe(t,o),a}(r.AbstractPlugin),st=n(61),lt=n.n(st);function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ht(e);if(t){var o=ht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pt(this,n)}}function pt(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(a,e);var t,n,o,i=dt(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).playerSubject=t.playerSubject,n.cbv=void 0,n.domPlayer=void 0,n.metaData=void 0,n.initPlugin(),n}return t=a,(n=[{key:"initPlugin",value:function(){try{this.checkChartBeatReady()}catch(e){console.error(e)}}},{key:"checkChartBeatReady",value:function(){if("complete"===document.readyState&&!window._cbv)throw new Error("ChartBeat library not found. Can not track the player");if("complete"===document.readyState||window._cbv)this.cbv=window._cbv,this.playerSubscription();else{var e=this.initPlugin.bind(this);window.addEventListener("load",(function(){e()}))}}},{key:"playerSubscription",value:function(){var e=this,t=r.MediaPlayerEvents.HTML5;this.playerSubject.pipe(Object(Ve.first)((function(e){return e.type===t.MEDIA_START}))).subscribe((function(t){var n=t.data;e.setMetadata(n),e.setVideoTagReference(),e.updateVideoDom(e.domPlayer,e.metaData),e.cbv.push(e.domPlayer)}))}},{key:"getPosterImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"16:9",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:960,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:540,o=p()(e,"poster.src","");if(o.length>0)return o;var i=p()(e,"image.cuts",[]),a=lt()(i,{aspectRatio:t,width:n,height:r});return p()(a,"src","")}},{key:"setMetadata",value:function(e){this.metaData={titleValue:e.title,posterValue:this.getPosterImage(e)},this.domPlayer&&this.updateVideoDom(this.domPlayer,this.metaData)}},{key:"setVideoTagReference",value:function(){if(!this.mediaPlayer.player.videoEl)throw new Error("Video Tag element not defined in media player");this.domPlayer=this.mediaPlayer.player.videoEl}},{key:"updateVideoDom",value:function(e,t){var n=p()(t,"titleValue"),r=p()(t,"posterValue");n&&e.setAttribute("title",n),r&&e.setAttribute("poster",r)}}])&&ct(t.prototype,n),o&&ct(t,o),a}(r.AbstractPlugin);function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t,n){return(yt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=It(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=It(e);if(t){var o=It(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ct(this,n)}}function Ct(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(a,e);var t,n,o,i=At(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).playerSubject=n.observationCenter.playerSubject,n.pluginSubject=n.observationCenter.pluginSubject,n.assetName=p()(n.config,"conviva.assetName",""),n.sdk=p()(n.config,"conviva.sdk",""),n.customerKey=p()(n.config,"conviva.customerKey",""),n.testCustomerKey=p()(n.config,"conviva.testCustomerKey",""),n.testNetwork=p()(n.config,"conviva.testNetwork",!1),n.testGatewayUrl=p()(n.config,"conviva.testGatewayUrl","https://mlb-baseball.testonly.conviva.com"),n.applicationName=p()(n.config,"conviva.applicationName",""),n.custom=p()(n.config,"conviva.custom",{}),n.trackLiveVideos=p()(n.config,"conviva.trackLiveVideos",!1),n.trackVodVideos=p()(n.config,"conviva.trackVodVideos",!1),n.shouldCallInitTracking=!1,n.Conviva=void 0,n.contentSessionKey=void 0,n.systemFactory=void 0,n.client=void 0,n.playerStateManager=void 0,n.trackingInitialized=void 0,n.viewerId=void 0,n.html5PlayerInterface=void 0,n.contentIsLive=void 0,n.streamUrl=void 0,n.resource=void 0,n.bitrate=void 0,n.duration=void 0,n.encodedFramerate=void 0,n.checkTestNetwork(),n}return t=a,(n=[{key:"checkTestNetwork",value:function(){this.testNetwork&&(this.gatewayUrl=this.testGatewayUrl,this.customerKey=this.testCustomerKey)}},{key:"subscribeToMessages",value:function(){var e=this,t=r.MediaPlayerEvents.MEDIA_PLAYER,n=r.MediaPlayerEvents.HLSJS,o=this.playerSubject.pipe(Object(Ve.filter)((function(e){return e.type===t.MEDIA_ITEM_SET}))).subscribe((function(t){e.trackingInitialized&&e.resetTracking(),e.trackVodVideos&&e.initTracking()})),i=this.playerSubject.pipe(Object(Ve.filter)((function(e){return e.type===n.LEVEL_LOADED}))).subscribe((function(t){var n=p()(t,"data.details.live",!1);e.contentIsLive,e.contentIsLive=n,e.duration=p()(t,"data.details.totalduration"),e.streamUrl=p()(t,"data.details.url"),e.trackingInitialized?e.updateTrackingMetadata():e.trackLiveVideos&&!e.trackingInitialized&&e.contentIsLive&&e.initTracking()}));this.subscriptions.push(o),this.subscriptions.push(i)}},{key:"unsubscribe",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))}},{key:"setMediaPlayer",value:function(e){var t=this;return this.mediaPlayer&&this.unsubscribe(),this.mediaPlayer=e,this.subscribeToMessages(),this.init().then((function(){yt(It(a.prototype),"setMediaPlayer",t).call(t,t.mediaPlayer)}))}},{key:"init",value:function(){var e=this,t=p()(window,"mediaConfig.app.runTimeConfig","prod");return Promise.resolve(G.getAPI(p()(this.sdk,"core."+t),"Conviva")).then((function(n){return G.getAPI(p()(e.sdk,"html5Impl."+t),"Conviva")})).then((function(t){e.Conviva=t,e._onScriptLoaded()})).catch((function(t){e.handleError(t,Ue.ANALYTICS_PLUGIN_ERROR,!0)}))}},{key:"initTracking",value:function(){if(this.Conviva)try{this.createTrackingSession(),this.attachTrackerToPlayer(),this.pluginSubject.next({type:Ue.ANALYTICS_LOADED}),this.trackingInitialized=!0}catch(e){this.handleError(e,Ue.ANALYTICS_ERROR)}else this.shouldCallInitTracking=!0}},{key:"getTrackingClient",value:function(){if(!this.client){var e=new this.Conviva.SystemSettings,t=new this.Conviva.SystemInterface(new this.Conviva.Impl.Html5Time,new this.Conviva.Impl.Html5Timer,new this.Conviva.Impl.Html5Http,new this.Conviva.Impl.Html5Storage,new this.Conviva.Impl.Html5Metadata,new this.Conviva.Impl.Html5Logging);this.systemFactory=new this.Conviva.SystemFactory(t,e);var n=new this.Conviva.ClientSettings(this.customerKey);this.gatewayUrl&&(n.gatewayUrl=this.gatewayUrl),this.client=new this.Conviva.Client(n,this.systemFactory)}return this.client}},{key:"createTrackingSession",value:function(){var e=this.createInitialTrackingMetadata();if(this.contentSessionKey=this.getTrackingClient().createSession(e),this.contentSessionKey===this.Conviva.Client.NO_SESSION_KEY)throw new Error("Unable to create Conviva Session");this.playerStateManager=this.getTrackingClient().getPlayerStateManager(),this.html5PlayerInterface=new this.Conviva.Impl.Html5PlayerInterface(this.playerStateManager,p()(this.mediaPlayer,"player.videoEl"),this.systemFactory)}},{key:"destroyTrackingSession",value:function(e){this.html5PlayerInterface.cleanup(),this.html5PlayerInterface=null,this.client.cleanupSession(e),this.contentSessionKey=null}},{key:"generateConvivaAssetName",value:function(e){var t=void 0;if(this.config.generateConvivaAssetName)t=this.config.generateConvivaAssetName(e);else for(var n in t="{date} - {title} | {id}",e){var r=e[n];if("date"===n){var o=(r=new Date(r)).getUTCFullYear(),i=(r.getUTCMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=r.getUTCDate().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1});r=o+"-"+i+"-"+a,t=t.replace(new RegExp("{"+n+"}","g"),r)}else t=t.replace(new RegExp("{"+n+"}","g"),r)}return t}},{key:"createInitialTrackingMetadata",value:function(){var e=new this.Conviva.ContentMetadata;if(e.applicationName=this.applicationName,e.assetName=this.generateConvivaAssetName(p()(this.mediaPlayer,"player.currentMediaItem.metaData")),e.streamType=this.trackingInitialized?this.contentIsLive?this.Conviva.ContentMetadata.StreamType.LIVE:this.Conviva.ContentMetadata.StreamType.VOD:this.Conviva.ContentMetadata.StreamType.UNKNOWN,this.viewerId&&(e.viewerId=this.viewerId),e.duration=this.duration,e.streamUrl=this.streamUrl||p()(this.mediaPlayer,"player.playerTypeConfig.mediaItem.src"),this.custom){var t=p()(this.mediaPlayer,"player.currentMediaItem.metaData.convivaTrackingProps",null);t&&J()(this.custom,t),e.custom=this.custom}return e}},{key:"createTrackingMetadataForUpdate",value:function(){var e=new this.Conviva.ContentMetadata;return e.streamUrl=this.streamUrl,e.resource=this.resource,e.bitrate=this.bitrate,e.duration=this.duration,e.encodedFramerate=this.encodedFramerate,this.custom&&(e.custom=this.custom),e}},{key:"updateTrackingMetadata",value:function(){if(this.client&&this.contentSessionKey!==this.Conviva.Client.NO_SESSION_KEY&&Number.isInteger(this.contentSessionKey)){var e=this.createTrackingMetadataForUpdate();this.client.updateContentMetadata(this.contentSessionKey,e)}}},{key:"attachTrackerToPlayer",value:function(){this.client.isPlayerAttached(this.contentSessionKey)||this.getTrackingClient().attachPlayer(this.contentSessionKey,this.playerStateManager)}},{key:"resetTracking",value:function(){this.trackingInitialized=!1,this.contentIsLive=null,this.viewerId=null,this.client&&(this.contentSessionKey!==this.Conviva.Client.NO_SESSION_KEY&&Number.isInteger(this.contentSessionKey)&&(this.client.isPlayerAttached(this.contentSessionKey)&&this.client.detachPlayer(this.contentSessionKey),this.destroyTrackingSession(this.contentSessionKey)),this.playerStateManager&&this.playerStateManager.reset())}},{key:"destroyConviva",value:function(){this.contentSessionKey=void 0,this.client&&this.client.release(),this.playerStateManager&&(this.client.releasePlayerStateManager(this.playerStateManager),this.playerStateManager=null),this.systemFactory&&(this.systemFactory.release(),this.systemFactory=null)}},{key:"handleError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=p()(e,"message");if(this.Conviva&&r){var o=p()(this.Conviva,"Client.ErrorSeverity.FATAL"),i=p()(this.Conviva,"Client.ErrorSeverity.WARNING"),a=(n?o:i)||"UNKNOWN";this.playerStateManager?this.playerStateManager.sendError(r,a):this.contentSessionKey&&this.getTrackingClient().reportError(this.contentSessionKey,r,a)}this.resetTracking(),this.pluginSubject.next({type:t,error:e}),n&&this.destroy()}},{key:"_onScriptLoaded",value:function(){this.shouldCallInitTracking&&(this.shouldCallInitTracking=!1,this.initTracking()),this.pluginSubject.next({type:Ue.ANALYTICS_PLUGIN_LOADED})}},{key:"disposeContext",value:function(){this.context&&this.context.dispose()}},{key:"destroy",value:function(){this.destroyConviva(),this.disposeContext(),yt(It(a.prototype),"destroy",this).call(this)}},{key:"attachLogger",value:function(e){this.logger=e}},{key:"toString",value:function(){return"ConvivaPlugin"}}])&&vt(t.prototype,n),o&&vt(t,o),a}(r.AbstractPlugin)}])},e.exports=r(n(39),n(106))},function(e,t,n){var r;window,r=function(e,t,n,r,o){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=133)}([function(t,n){t.exports=e},function(e,t,n){e.exports=n(34)()},function(e,t,n){var r=n(36);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(86).__importDefault(n(9));t.default=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=e.reduceRight((function(e,t){return t(e)}),t);return r.default(n,t)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r=e[1]||"",o=e[3];if(!o)return r;if(t&&"function"==typeof btoa){var i=(n=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=o.sources.map((function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"}));return[r].concat(a).concat([i]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e,t){return t?t.querySelector(e):document.querySelector(e)},l=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=s.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),u=null,c=0,f=[],d=n(33);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(b(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(b(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function g(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=l(e.insertAt.before,n);n.insertBefore(t,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);t>=0&&f.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=n.nc;r&&(e.attrs.nonce=r)}return y(t,e.attrs),g(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function b(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var a=c++;n=u||(u=v(t)),r=I.bind(null,n,a,!1),o=I.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),g(e,t),t}(t),r=E.bind(null,n,t),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=_.bind(null,n),o=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return p(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}for(e&&p(h(e,t),t),o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var A,C=(A=[],function(e,t){return A[e]=t,A.filter(Boolean).join("\n")});function I(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=C(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function _(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function E(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,n){e.exports=t},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r=n(82),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=l(t),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!(i[v]||r&&r[v]||g&&g[v]||s&&s[v])){var y=d(n,v);try{u(t,v,y)}catch(e){}}}}return t}},function(e,t){e.exports=n},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(13);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(51);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(58),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=r},function(e,t,n){var r=n(14),o=n(13);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(22)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(24),o=n(68);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(16),o=n(8);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(44),o=n(75)((function(e,t,n){r(e,t,n)}));e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(101),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default},function(e,t){e.exports=o},function(e,t,n){var r=n(124),o=n(23),i=n(125),a=n(126),s=n(127),l=Math.max;e.exports=function(e,t,n,u){e=o(e)?e:s(e),n=n&&!u?a(n):0;var c=e.length;return n<0&&(n=l(c+n,0)),i(e)?n<=c&&e.indexOf(t,n)>-1:!!c&&r(e,t,n)>-1}},function(e,t,n){var r=n(32);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".media-control--ad-countdown {\n  align-content: flex-end;\n}\n.media-control--ad-countdown p {\n  width: 175px;\n  margin: 0 8px 0 0;\n  color: #fff;\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  font-stretch: normal;\n  font-style: normal;\n  font-weight: normal;\n  letter-spacing: normal;\n  line-height: normal;\n  text-align: right;\n  text-transform: uppercase;\n}\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t,n){"use strict";var r=n(35);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var r=n(37),o=n(43);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(11),o=n(38),i=n(40),a=n(42);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(11),o=n(39),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(41),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(45),o=n(19),i=n(53),a=n(55),s=n(8),l=n(26),u=n(25);e.exports=function e(t,n,c,f,d){t!==n&&i(n,(function(i,l){if(d||(d=new r),s(i))a(t,n,l,c,e,f,d);else{var p=f?f(u(t,l),i,l+"",t,n,d):void 0;void 0===p&&(p=i),o(t,l,p)}}),l)}},function(e,t,n){var r=n(46),o=n(47),i=n(48),a=n(49),s=n(50);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(12),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(12);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(12);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(12);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(52),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(54)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},function(e,t,n){var r=n(19),o=n(56),i=n(59),a=n(62),s=n(63),l=n(66),u=n(11),c=n(67),f=n(69),d=n(24),p=n(8),h=n(70),g=n(71),m=n(25),v=n(72);e.exports=function(e,t,n,y,b,A,C){var I=m(e,n),_=m(t,n),E=C.get(_);if(E)r(e,n,E);else{var w=A?A(I,_,n+"",e,t,C):void 0,S=void 0===w;if(S){var T=u(_),k=!T&&f(_),x=!T&&!k&&g(_);w=_,T||k||x?u(I)?w=I:c(I)?w=a(I):k?(S=!1,w=o(_,!0)):x?(S=!1,w=i(_,!0)):w=[]:h(_)||l(_)?(w=I,l(I)?w=v(I):p(I)&&!d(I)||(w=s(_))):S=!1}S&&(C.set(_,w),b(w,_,y,A,C),C.delete(_)),r(e,n,w)}}},function(e,t,n){(function(e){var r=n(15),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(57)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(20))},function(e,t,n){var r=n(60);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(61);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(15).Uint8Array;e.exports=r},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(64),o=n(21),i=n(65);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(8),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(23),o=n(17);e.exports=function(e){return o(e)&&r(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(16),o=n(21),i=n(17),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(73),o=n(26);e.exports=function(e){return r(e,o(e))}},function(e,t,n){var r=n(74),o=n(14);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?o(n,u,c):r(n,u,c)}return n}},function(e,t,n){var r=n(14),o=n(13),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(76),o=n(81);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}},function(e,t,n){var r=n(77),o=n(78),i=n(80);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(79),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(l),r(e,this,u)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t,n){"use strict";e.exports=n(83)},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,A=r?Symbol.for("react.responder"):60118,C=r?Symbol.for("react.scope"):60119;function I(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case d:case a:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case v:case m:case u:return e;default:return t}}case i:return t}}}function _(e){return I(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||I(e)===f},t.isConcurrentMode=_,t.isContextConsumer=function(e){return I(e)===c},t.isContextProvider=function(e){return I(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return I(e)===p},t.isFragment=function(e){return I(e)===a},t.isLazy=function(e){return I(e)===v},t.isMemo=function(e){return I(e)===m},t.isPortal=function(e){return I(e)===i},t.isProfiler=function(e){return I(e)===l},t.isStrictMode=function(e){return I(e)===s},t.isSuspense=function(e){return I(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===l||e===s||e===h||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===p||e.$$typeof===b||e.$$typeof===A||e.$$typeof===C||e.$$typeof===y)},t.typeOf=I},function(e,t,n){var r=n(85);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".media-control {\n  display: inline;\n  border: 0;\n  background: none;\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  cursor: pointer;\n  pointer-events: all;\n}\n.media-control-label {\n  display: flex;\n  justify-content: center;\n  padding: 0;\n  border-radius: 2px;\n  color: #FFFFFF;\n  font-size: 12px;\n  font-weight: bold;\n  text-transform: uppercase;\n}\n.media-control path,\n.media-control g {\n  opacity: 0.7;\n  fill: #FFFFFF;\n}\n.media-control-disable {\n  cursor: default;\n  pointer-events: none;\n}\n.media-control-disable path,\n.media-control-disable g {\n  opacity: 0.3;\n}\n.media-control:hover svg,\n.media-control:hover path,\n.media-control:hover g {\n  opacity: 1;\n}\n.media-control:active path,\n.media-control.active path,\n.media-control:active g,\n.media-control.active g {\n  opacity: 1;\n}\n",""])},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return i})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return c})),n.d(t,"__generator",(function(){return f})),n.d(t,"__createBinding",(function(){return d})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return g})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return b})),n.d(t,"__asyncDelegator",(function(){return A})),n.d(t,"__asyncValues",(function(){return C})),n.d(t,"__makeTemplateObject",(function(){return I})),n.d(t,"__importStar",(function(){return _})),n.d(t,"__importDefault",(function(){return E})),n.d(t,"__classPrivateFieldGet",(function(){return w})),n.d(t,"__classPrivateFieldSet",(function(){return S}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,u):c(i[0][2],n)}catch(e){c(i[0][3],e)}var n}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function A(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){var r=n(88);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".media-control-full-screen {\n  width: 32px;\n  height: 24px;\n}\n",""])},function(e,t,n){var r=n(90);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".controls-button-live {\n  width: 46px;\n  height: 24px;\n  margin: 0 10px;\n  line-height: 24px;\n}\n.controls-button-live--on {\n  background-color: #FFA800;\n}\n.controls-button-live--off {\n  background-color: rgba(255, 255, 255, 0.3);\n}\n.controls-button-live--hide {\n  display: none;\n}\n",""])},function(e,t,n){var r=n(92);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".media-control--pause,\n.media-control--play {\n  width: 17px;\n  height: 24px;\n}\n",""])},function(e,t,n){var r=n(94);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".media-control-quick-forward {\n  width: 28px;\n  height: 24px;\n}\n",""])},function(e,t,n){var r=n(96);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".media-control-quick-rewind {\n  width: 28px;\n  height: 24px;\n}\n",""])},function(e,t,n){var r=n(98),o=n(8);e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},function(e,t,n){var r=n(8),o=n(99),i=n(100),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,f,d,p,h=0,g=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=u;return l=u=void 0,h=t,f=e.apply(r,n)}function b(e){return h=e,d=setTimeout(C,t),g?y(e):f}function A(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-h>=c}function C(){var e=o();if(A(e))return I(e);d=setTimeout(C,function(e){var n=t-(e-p);return m?s(n,c-(e-h)):n}(e))}function I(e){return d=void 0,v&&l?y(e):(l=u=void 0,f)}function _(){var e=o(),n=A(e);if(l=arguments,u=this,p=e,n){if(void 0===d)return b(p);if(m)return clearTimeout(d),d=setTimeout(C,t),y(p)}return void 0===d&&(d=setTimeout(C,t)),f}return t=i(t)||0,r(n)&&(g=!!n.leading,c=(m="maxWait"in n)?a(i(n.maxWait)||0,t):c,v="trailing"in n?!!n.trailing:v),_.cancel=function(){void 0!==d&&clearTimeout(d),h=0,l=p=u=d=void 0},_.flush=function(){return void 0===d?f:I(o())},_}},function(e,t,n){var r=n(15);e.exports=function(){return r.Date.now()}},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(3)),i=n(0),a=c(i),s=c(n(1)),l=c(n(102)),u=n(103);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={orientation:{horizontal:{dimension:"width",direction:"left",reverseDirection:"right",coordinate:"x"},vertical:{dimension:"height",direction:"top",reverseDirection:"bottom",coordinate:"y"}}},p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.handleFormat=function(e,t){var n=r.props.format;return n?n(e,t):e},r.handleUpdate=function(){if(r.slider){var e=r.props.orientation,t=(0,u.capitalize)(d.orientation[e].dimension),n=r.slider["offset"+t],o=r.handle["offset"+t];r.setState({limit:n-o,grab:o/2})}},r.handleStart=function(e){var t=r.props.onChangeStart;document.addEventListener("mousemove",r.handleDrag),document.addEventListener("mouseup",r.handleEnd),r.setState({active:!0},(function(){t&&t(e)}))},r.handleDrag=function(e){e.stopPropagation();var t=r.props.onChange,n=e.target,o=n.className,i=n.classList,a=n.dataset;if(t&&"rangeslider__labels"!==o){var s=r.position(e),l=r.getPercentFromPosition(s),u=r.getValueFromPosition(s);i&&i.contains("rangeslider__label-item")&&a.value&&(u=parseFloat(a.value)),t&&t(u,l,e)}},r.handleMouseOver=function(e){r.setState({active:!0})},r.handleMouseOut=function(e){r.setState({active:!1})},r.handleEnd=function(e){var t=r.props.onChangeComplete;r.setState({active:!1},(function(){t&&t(e)})),document.removeEventListener("mousemove",r.handleDrag),document.removeEventListener("mouseup",r.handleEnd)},r.handleKeyDown=function(e){e.preventDefault();var t=e.keyCode,n=r.props,o=n.value,i=n.min,a=n.max,s=n.step,l=n.onChange,u=void 0;switch(t){case 38:case 39:u=o+s>a?a:o+s,l&&l(u,e);break;case 37:case 40:u=o-s<i?i:o-s,l&&l(u,e)}},r.getPositionFromValue=function(e){var t=r.state.limit,n=r.props,o=n.min;return(e-o)/(n.max-o)*t},r.getPercentFromPosition=function(e){var t=r.state.limit;return(0,u.clamp)(e,0,t)/(t||1)},r.getValueFromPosition=function(e){var t=r.props,n=t.orientation,o=t.min,i=t.max,a=t.step,s=r.getPercentFromPosition(e),l=a*Math.round(s*(i-o)/a),c="horizontal"===n?l+o:i-l;return(0,u.clamp)(c,o,i)},r.position=function(e){var t=r.state.grab,n=r.props,o=n.orientation,i=n.reverse,a=r.slider,s=d.orientation[o].coordinate,l=i?d.orientation[o].reverseDirection:d.orientation[o].direction,c="client"+(0,u.capitalize)(s),f=e.touches?e.touches[0][c]:e[c],p=a.getBoundingClientRect()[l];return i?p-f-t:f-p-t},r.coordinates=function(e){var t=r.state,n=t.limit,o=t.grab,i=r.props.orientation,a=r.getValueFromPosition(e),s=r.getPositionFromValue(a),l="horizontal"===i?s+o:s;return{fill:"horizontal"===i?l:n-l,handle:l,label:l}},r.renderLabels=function(e){return a.default.createElement("ul",{ref:function(e){r.labels=e},className:(0,o.default)("rangeslider__labels"),tabIndex:-1},e)},r.state={active:!1,limit:0,grab:0,percent:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.handleUpdate(),new l.default(this.handleUpdate).observe(this.slider)}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.orientation,i=t.className,s=t.tooltip,l=t.reverse,u=t.labels,c=t.min,p=t.max,h=t.ariaLabel,g=t.ariaValueText,m=t.ariaMin,v=t.ariaMax,y=t.ariaNow,b=t.handleLabel,A=this.state.active,C=d.orientation[r].dimension,I=l?d.orientation[r].reverseDirection:d.orientation[r].direction,_=this.getPositionFromValue(n),E=this.coordinates(_),w=this.getPercentFromPosition(_),S=f({},C,E.fill+"px"),T=f({},I,E.handle+"px"),k=s&&A,x=[],P=Object.keys(u);if(P.length>0){P=P.sort((function(e,t){return l?e-t:t-e}));var O=!0,L=!1,D=void 0;try{for(var j,R=P[Symbol.iterator]();!(O=(j=R.next()).done);O=!0){var M=j.value,N=this.getPositionFromValue(M),F=f({},I,this.coordinates(N).label+"px");x.push(a.default.createElement("li",{key:M,className:(0,o.default)("rangeslider__label-item"),"data-value":M,onMouseDown:this.handleDrag,onTouchStart:this.handleStart,onTouchEnd:this.handleEnd,style:F},this.props.labels[M]))}}catch(e){L=!0,D=e}finally{try{!O&&R.return&&R.return()}finally{if(L)throw D}}}return a.default.createElement("div",{ref:function(t){e.slider=t},className:(0,o.default)("rangeslider","rangeslider-"+r,{"rangeslider-reverse":l},i),onMouseDown:this.handleDrag,onMouseUp:this.handleEnd,onTouchStart:this.handleStart,onTouchEnd:this.handleEnd,tabIndex:this.props.tabIndex||0,role:"slider","aria-label":h,"aria-valuetext":g,"aria-valuemin":m||c,"aria-valuemax":v||p,"aria-valuenow":y||n,"aria-orientation":r},a.default.createElement("div",{className:"rangeslider__fill",style:S}),a.default.createElement("div",{ref:function(t){e.handle=t},className:"rangeslider__handle",onMouseDown:this.handleStart,onTouchMove:this.handleDrag,onTouchEnd:this.handleEnd,onKeyDown:this.handleKeyDown,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,style:T,tabIndex:-1},k?a.default.createElement("div",{ref:function(t){e.tooltip=t},className:"rangeslider__handle-tooltip"},a.default.createElement("span",null,this.handleFormat(n,w))):null,a.default.createElement("div",{className:"rangeslider__handle-label"},b)),u?this.renderLabels(x):null)}}]),t}(i.Component);p.propTypes={min:s.default.number,max:s.default.number,ariaLabel:s.default.string,ariaValueText:s.default.string,ariaMin:s.default.any,ariaMax:s.default.any,ariaNow:s.default.any,step:s.default.number,value:s.default.number,orientation:s.default.string,tooltip:s.default.bool,reverse:s.default.bool,labels:s.default.object,tabIndex:s.default.number,handleLabel:s.default.string,format:s.default.func,onChangeStart:s.default.func,onChange:s.default.func,onChangeComplete:s.default.func},p.defaultProps={min:0,max:100,step:1,value:0,ariaLabel:"",ariaValueText:"",ariaMin:void 0,ariaMax:void 0,ariaNow:void 0,orientation:"horizontal",tooltip:!0,reverse:!1,labels:{},handleLabel:""},t.default=p},function(e,t,n){"use strict";n.r(t),function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&l()}function s(){i(a)}function l(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},c=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},f=v(0,0,0,0);function d(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}function h(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=c(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=d(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=d(r.width),l=d(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=p(r,"left","right")+i),Math.round(l+a)!==n&&(l-=p(r,"top","bottom")+a)),!function(e){return e===c(e).document.documentElement}(e)){var u=Math.round(s+i)-t,h=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(h)&&(l-=h)}return v(o.left,o.top,s,l)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof c(e).SVGGraphicsElement}:function(e){return e instanceof c(e).SVGElement&&"function"==typeof e.getBBox};function m(e){return r?g(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):h(e):f}function v(e,t,n,r){return{x:e,y:t,width:n,height:r}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n,r,o,i,a,s,l,c=(r=(n=t).x,o=n.y,i=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),u(l,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),l);u(this,{target:e,contentRect:c})},A=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),C="undefined"!=typeof WeakMap?new WeakMap:new n,I=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new A(t,n,this);C.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){I.prototype[e]=function(){var t;return(t=C.get(this))[e].apply(t,arguments)}}));var _=void 0!==o.ResizeObserver?o.ResizeObserver:I;t.default=_}.call(this,n(20))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.capitalize=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},t.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)}},function(e,t,n){var r=n(105);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".rangeslider {\n  position: relative;\n  top: 0;\n  flex: 1 1 auto;\n  height: 10px;\n  margin: 10px 0;\n  border-radius: 3px;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAKCAYAAAB10jRKAAAACXBIWXMAAAsTAAALEwEAmpwYAAA58WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxOC0wMi0xNlQxMDo0MjowOS0wNTowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE4LTAzLTA2VDE1OjQzOjQzLTA1OjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxOC0wMy0wNlQxNTo0Mzo0My0wNTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDo3MzUyZGEwZS1mNGE3LTRmMGEtYWRkOS1iYjk1Y2ZlMGZiZTI8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3MzQxZjZhMy02MjBkLTExN2ItOWYzNS05MDk0ZGI2ODkzYzE8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpiOWE0Yzg0OC0yZDUwLTRjNWYtYjcxNC00YmRlNjdkZTc4Mzg8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6YjlhNGM4NDgtMmQ1MC00YzVmLWI3MTQtNGJkZTY3ZGU3ODM4PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTAyLTE2VDEwOjQyOjA5LTA1OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NzM1MmRhMGUtZjRhNy00ZjBhLWFkZDktYmI5NWNmZTBmYmUyPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTAzLTA2VDE1OjQzOjQzLTA1OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT42NTUzNTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+MTwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4xMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+ch9nwwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAAI0lEQVR42mL4//8/AxMDAwOEYH7+/Pl/BJeJgYGBgQFVCWAAMIcJwAT6BV8AAAAASUVORK5CYII=') repeat-x;\n  cursor: pointer;\n}\n.rangeslider__fill {\n  height: 4px;\n  margin-top: 3px;\n  background: #1f7ac8;\n}\n.rangeslider__handle {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 10px;\n  height: 10px;\n  margin-left: -5px;\n  transition: visibility 100ms, opacity 100ms;\n  border-radius: 50%;\n  background-color: #fff;\n}\n.rangeslider__handle:hover {\n  cursor: pointer;\n}\n.rangeslider__fill_buffer {\n  /* stylelint-disable-line */\n  position: absolute;\n  top: 13px;\n  left: 20px;\n  z-index: 1;\n  box-sizing: border-box;\n  width: 0;\n  height: 4px;\n  padding-right: 20px;\n  padding-left: 20px;\n  background: #7a7e7a;\n  pointer-events: none;\n}\n.rangeslider__fill {\n  position: absolute;\n  z-index: 2;\n}\n.rangeslider__handle {\n  z-index: 3;\n}\n.rangeslider__handle-tooltip {\n  display: inline-block;\n  position: absolute;\n  top: -38px;\n  left: 50%;\n  width: 60px;\n  height: 26px;\n  transform: translate3d(-50%, 0, 0);\n  transition: all 100ms ease-in;\n  border: solid 2px #3f3f3f;\n  background-color: #000;\n  color: #fff;\n  font-size: 14px;\n  font-weight: normal;\n  text-align: center;\n}\n.rangeslider__handle-tooltip span {\n  display: inline-block;\n  margin-top: 6px;\n  font-size: 12px;\n  line-height: 100%;\n}\n.rangeslider__handle-tooltip::after,\n.rangeslider__handle-tooltip::before {\n  content: '  ';\n  position: absolute;\n  top: 21px;\n  z-index: 1;\n  width: 5px;\n  height: 5px;\n  margin: auto;\n  transform: rotate(45deg);\n  background-color: #000;\n}\n.rangeslider__handle-tooltip::before {\n  left: calc(50% - 8px);\n  z-index: 1;\n  border-right: 3px solid #000;\n  border-bottom: 3px solid #000;\n}\n.rangeslider__handle-tooltip::after {\n  top: 23px;\n  left: calc(50% - 8px);\n  z-index: 0;\n  border-right: 4px solid #3f3f3f;\n  border-bottom: 4px solid #3f3f3f;\n}\n",""])},function(e,t,n){var r=n(107);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".scrubber-bar-wrapper {\n  display: inline-flex;\n  position: relative;\n  box-sizing: border-box;\n  width: 100%;\n}\n",""])},function(e,t,n){var r=n(109);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".media-control--timecode-display.disabled {\n  color: #BBBBBB;\n}\n",""])},function(e,t,n){var r=n(111);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".media-control--mute {\n  width: 32px;\n  height: 24px;\n}\n",""])},function(e,t,n){var r=n(113);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".rangeslider {\n  display: flex;\n  position: relative;\n  top: 0;\n  flex: 1 1 auto;\n  height: 10px;\n  margin: 5px 0;\n  border-radius: 3px;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAKCAYAAAB10jRKAAAACXBIWXMAAAsTAAALEwEAmpwYAAA58WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxOC0wMi0xNlQxMDo0MjowOS0wNTowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE4LTAzLTA2VDE1OjQzOjQzLTA1OjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxOC0wMy0wNlQxNTo0Mzo0My0wNTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDo3MzUyZGEwZS1mNGE3LTRmMGEtYWRkOS1iYjk1Y2ZlMGZiZTI8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3MzQxZjZhMy02MjBkLTExN2ItOWYzNS05MDk0ZGI2ODkzYzE8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpiOWE0Yzg0OC0yZDUwLTRjNWYtYjcxNC00YmRlNjdkZTc4Mzg8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6YjlhNGM4NDgtMmQ1MC00YzVmLWI3MTQtNGJkZTY3ZGU3ODM4PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTAyLTE2VDEwOjQyOjA5LTA1OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NzM1MmRhMGUtZjRhNy00ZjBhLWFkZDktYmI5NWNmZTBmYmUyPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTAzLTA2VDE1OjQzOjQzLTA1OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT42NTUzNTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+MTwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4xMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+ch9nwwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAAI0lEQVR42mL4//8/AxMDAwOEYH7+/Pl/BJeJgYGBgQFVCWAAMIcJwAT6BV8AAAAASUVORK5CYII=') repeat-x;\n  cursor: pointer;\n}\n.rangeslider__fill {\n  height: 4px;\n  margin-top: 3px;\n  background: #1f7ac8;\n}\n.rangeslider__handle {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 10px;\n  height: 10px;\n  margin-left: -5px;\n  transition: visibility 100ms, opacity 100ms;\n  border-radius: 50%;\n  background-color: #fff;\n}\n.rangeslider__handle:hover {\n  cursor: pointer;\n}\n.rangeslider__fill_buffer {\n  /* stylelint-disable-line */\n  position: absolute;\n  top: 13px;\n  left: 20px;\n  z-index: 1;\n  box-sizing: border-box;\n  width: 0;\n  height: 4px;\n  padding-right: 20px;\n  padding-left: 20px;\n  background: #7a7e7a;\n  pointer-events: none;\n}\n.rangeslider__fill {\n  position: absolute;\n  z-index: 2;\n}\n.rangeslider__handle {\n  z-index: 3;\n}\n.rangeslider__handle-tooltip {\n  display: inline-block;\n  position: absolute;\n  top: -38px;\n  left: 50%;\n  width: 60px;\n  height: 26px;\n  transform: translate3d(-50%, 0, 0);\n  transition: all 100ms ease-in;\n  border: solid 2px #3f3f3f;\n  background-color: #000;\n  color: #fff;\n  font-size: 14px;\n  font-weight: normal;\n  text-align: center;\n}\n.rangeslider__handle-tooltip span {\n  display: inline-block;\n  margin-top: 6px;\n  font-size: 12px;\n  line-height: 100%;\n}\n.rangeslider__handle-tooltip::after,\n.rangeslider__handle-tooltip::before {\n  content: '  ';\n  position: absolute;\n  top: 21px;\n  z-index: 1;\n  width: 5px;\n  height: 5px;\n  margin: auto;\n  transform: rotate(45deg);\n  background-color: #000;\n}\n.rangeslider__handle-tooltip::before {\n  left: calc(50% - 8px);\n  z-index: 1;\n  border-right: 3px solid #000;\n  border-bottom: 3px solid #000;\n}\n.rangeslider__handle-tooltip::after {\n  top: 23px;\n  left: calc(50% - 8px);\n  z-index: 0;\n  border-right: 4px solid #3f3f3f;\n  border-bottom: 4px solid #3f3f3f;\n}\n.media-control-volume-slider {\n  width: 96px;\n}\n",""])},function(e,t,n){var r=n(115);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".default-controls-layout button {\n  padding: 0;\n}\n.default-controls-layout .top-controls-container {\n  display: flex;\n  position: absolute;\n  top: 0;\n  box-sizing: border-box;\n  align-items: center;\n  justify-content: flex-end;\n  width: 100%;\n  padding: 10px 10px 0;\n}\n.default-controls-layout .bottom-controls-container {\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  box-sizing: border-box;\n  flex-direction: column;\n  width: 100%;\n  padding: 0 10px 10px;\n  transition-property: padding;\n  transition-duration: 0.5s;\n}\n.default-controls-layout .bottom-controls-container::after {\n  bottom: 0;\n  transition-property: opacity height;\n  transition-duration: 0.5s;\n  transition-timing-function: ease-in;\n  background: linear-gradient(to top, rgba(0, 0, 0, 0.95) 4%, rgba(12, 13, 25, 0));\n  content: '';\n  display: block;\n  position: absolute;\n  left: 0;\n  z-index: -1;\n  width: 100%;\n  height: 110%;\n}\n.default-controls-layout .bottom-controls-container .bottom-controls {\n  display: flex;\n  height: 30px;\n  transition-property: opacity height;\n  transition-duration: 0.5s;\n}\n.default-controls-layout .bottom-controls-container.controls-hidden {\n  padding-bottom: 5px;\n  transition-property: padding;\n  transition-duration: 0.5s;\n}\n.default-controls-layout .bottom-controls-container .controls-hidden {\n  height: 0;\n  transition-property: opacity height;\n  transition-duration: 0.5s;\n  opacity: 0;\n}\n.default-controls-layout .duration-container {\n  display: flex;\n  justify-content: space-between;\n}\n.default-controls-layout .duration-container p {\n  margin: 0;\n  font-size: 14px;\n}\n.default-controls-layout .bottom-controls-left,\n.default-controls-layout .bottom-controls-right {\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n}\n.default-controls-layout .bottom-controls-left .media-control {\n  margin-right: 12px;\n}\n.default-controls-layout .bottom-controls-right {\n  justify-content: flex-end;\n}\n.default-controls-layout .bottom-controls-right .media-control {\n  margin-left: 12px;\n}\n.default-controls-layout .controls-hidden::after {\n  transition-property: opacity height;\n  transition-duration: 0.5s;\n  opacity: 0;\n}\n",""])},function(e,t,n){var r=n(117);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".closed-captions {\n  text-align: center;\n}\n.closed-captions .cue {\n  display: inline;\n  padding: 2px;\n  background-image: linear-gradient(to bottom, #000, #222);\n  color: #fff;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 1.3em;\n}\n",""])},function(e,t,n){var r=n(119);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".close-button {\n  width: 17px;\n  height: 17px;\n}\n.close-button svg {\n  width: 100%;\n  height: 100%;\n}\n",""])},function(e,t,n){var r=n(121);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".ad-controls-layout {\n  pointer-events: none;\n}\n.ad-controls-layout button {\n  padding: 0;\n}\n.ad-controls-layout .top-controls-container {\n  display: flex;\n  position: absolute;\n  top: 0;\n  box-sizing: border-box;\n  align-items: center;\n  width: 100%;\n}\n.ad-controls-layout .bottom-controls-container {\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  box-sizing: border-box;\n  flex-direction: column;\n  width: 100%;\n  padding: 0 10px 20px;\n}\n.ad-controls-layout .bottom-controls-container::after {\n  content: '';\n  display: block;\n  position: absolute;\n  left: 0;\n  z-index: -1;\n  width: 100%;\n  height: 150px;\n  bottom: 0;\n  background: linear-gradient(to top, rgba(0, 0, 0, 0.95) 4%, rgba(12, 13, 25, 0));\n}\n.ad-controls-layout .bottom-controls-container .duration-container {\n  display: flex;\n  justify-content: space-between;\n}\n.ad-controls-layout .bottom-controls-container .bottom-controls {\n  display: flex;\n}\n.ad-controls-layout .bottom-controls-container .bottom-controls-left {\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n}\n.ad-controls-layout .bottom-controls-container .bottom-controls-right {\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  justify-content: flex-end;\n}\n",""])},function(e,t,n){var r=n(123);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".hidden {\n  display: none;\n}\n@keyframes load3 {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.mlb-player-controls-loader--container {\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 9999;\n  width: 100%;\n  height: 100%;\n  background-color: #000;\n  pointer-events: none;\n}\n.mlb-player-controls--loader {\n  position: relative;\n  top: 50%;\n  left: 50%;\n  width: 11em;\n  height: 11em;\n  margin-top: -52px;\n  margin-left: -52px;\n  transform: translateZ(0);\n  animation: load3 1.4s infinite linear;\n  border-radius: 50%;\n  background: #fff;\n  background: linear-gradient(to right, #fff 10%, rgba(255, 255, 255, 0) 42%);\n  font-size: 10px;\n  pointer-events: none;\n}\n.mlb-player-controls--loader::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 50%;\n  height: 50%;\n  border-radius: 100% 0 0;\n  background: #fff;\n}\n.mlb-player-controls--loader::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 95%;\n  height: 95%;\n  margin: auto;\n  border-radius: 50%;\n  background: #000;\n}\n",""])},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(16),o=n(11),i=n(17);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(128),o=n(130);e.exports=function(e){return null==e?[]:r(e,o(e))}},function(e,t,n){var r=n(129);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(22)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(132);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".media-controls {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n}\n.media-controls-no-pointer-events {\n  pointer-events: none;\n}\n.media-controls p {\n  color: #FFFFFF;\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n}\n.media-controls .media-control {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.media-controls .media-control svg {\n  transform: scale(0.85);\n}\n",""])},function(e,t,n){"use strict";n.r(t),n.d(t,"AdCountdown",(function(){return D})),n.d(t,"ButtonControl",(function(){return F})),n.d(t,"ClosedCaptionsButton",(function(){return ge})),n.d(t,"FullscreenButton",(function(){return Oe})),n.d(t,"JumpToLive",(function(){return Ge})),n.d(t,"PlayPauseButton",(function(){return rt})),n.d(t,"QuickForwardButton",(function(){return yt})),n.d(t,"QuickRewindButton",(function(){return Dt})),n.d(t,"ScrubberBar",(function(){return an})),n.d(t,"Slider",(function(){return Yt})),n.d(t,"TimeDisplay",(function(){return gn})),n.d(t,"MuteButton",(function(){return On})),n.d(t,"VolumeSlider",(function(){return Gn})),n.d(t,"ControlsEvents",(function(){return Hn})),n.d(t,"DefaultLayout",(function(){return Cr})),n.d(t,"AdLayout",(function(){return xr})),n.d(t,"LoadingSpinner",(function(){return Mr})),n.d(t,"PlayerControls",(function(){return fo})),n(31);var r=n(0),o=n.n(r),i=n(7),a=n(1),s=n.n(a);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(s,e);var t,n,r,a=f(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={seconds:0},t.subscriptions=[],t}return t=s,(n=[{key:"componentDidMount",value:function(){this.subscribe()}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.subscriptions=[]}},{key:"subscribe",value:function(){var e=this,t=this.props.mediaPlayer.observationCenter.pluginSubject.pipe(Object(i.filter)((function(e){return"adTimeUpdateElapsed"===e.type}))).subscribe((function(t){e.setState({seconds:t.countdown})}));this.subscriptions.push(t)}},{key:"unsubscribe",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))}},{key:"render",value:function(){var e=Math.round(this.state.seconds),t=1===e?"second":"seconds",n="".concat(e," ").concat(t," remaining");return e>0?o.a.createElement("div",{className:"media-control media-control--ad-countdown"},o.a.createElement("p",{"aria-label":n},n)):null}}])&&u(t.prototype,n),r&&u(t,r),s}(r.Component);h.componentId="adCountdown",h.propTypes={mediaPlayer:s.a.object},h.defaultProps={mediaPlayer:void 0};var g=h,m=n(2),v=n.n(m),y=n(27),b=n.n(y),A=n(9),C=n.n(A);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n="mediaPlayer.config.controlsConfig.".concat(t.componentId),i=function(r){T(a,r);var i=x(a);function a(){return E(this,a),i.apply(this,arguments)}return S(a,[{key:"render",value:function(){var r=v()(this.props,n,{}),i=b()({},e,r);return v()(i,"enabled",!0)?o.a.createElement(t,_({config:i},this.props)):null}}]),a}(r.Component);return C()(i,t),i}},D=L()(g),j=n(3),R=n.n(j);function M(e){var t,n,r,i=e.onClick,a=e.active,s=(e.label,e.className),l=e.ariaLabel,u=e.ariaPressed,c=e.tabIndex,f=R()((r=!0,(n=s)in(t={"media-control":!0,active:a})?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));return o.a.createElement("button",{"aria-label":l,className:f,onClick:i,"aria-pressed":u,tabIndex:c||0},e.children)}M.propTypes={className:s.a.string,onClick:s.a.func,active:s.a.bool,label:s.a.string.isRequired,ariaLabel:s.a.string,ariaPressed:s.a.bool,tabIndex:s.a.number},M.defaultProps={className:"",onClick:null,active:!1,ariaLabel:"",ariaPressed:!1,tabIndex:0};var N=M,F=(n(84),N),B=n(4),U=n.n(B);function G(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var V=function(e){var t=e.styles,n=void 0===t?{}:t,r=G(e,["styles"]);return o.a.createElement("svg",H({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"24"},r),o.a.createElement("path",{className:n.st0||"st0",d:"M29 3v18H3V3h26m1-3H2C.9 0 0 .9 0 2v20c0 1.1.9 2 2 2h28c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2z"}),o.a.createElement("path",{className:n.st0||"st0",d:"M7 12c0-3 1.7-4.8 4.4-4.8 2.2 0 4 1.4 4.1 3.5h-1.9c-.2-1.1-1.1-1.9-2.2-1.9C9.9 8.8 9 10 9 12s.9 3.2 2.4 3.2c1.2 0 2-.7 2.2-1.8h1.9c-.2 2.1-1.8 3.4-4.1 3.4C8.7 16.8 7 15 7 12zm9.5 0c0-3 1.7-4.8 4.4-4.8 2.2 0 4 1.4 4.1 3.5h-1.9c-.2-1.1-1.1-1.9-2.2-1.9-1.5 0-2.4 1.2-2.4 3.2s.9 3.2 2.4 3.2c1.2 0 2-.7 2.2-1.8H25c-.2 2.1-1.8 3.4-4.1 3.4-2.7 0-4.4-1.8-4.4-4.8z"}))};function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $(this,n)}}function $(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?X(e):t}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(a,e);var t,n,r,i=q(a);function a(){var e;Y(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Q(X(e=i.call.apply(i,[this].concat(n))),"onClick",(function(){var t=e.props,n=t.closedCaptionsActive,r=t.mediaPlayer;n?r.hideClosedCaptions():r.showClosedCaptions()})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.hasClosedCaptions,n=e.closedCaptionsActive,r="Subtitles/Closed captions (c)",i=R()({"media-control-closed-captions":!0,active:n});return t?o.a.createElement(F,{onClick:this.onClick,label:r,ariaLabel:r,className:i,ariaPressed:n},o.a.createElement(V,null)):null}}])&&z(t.prototype,n),r&&z(t,r),a}(r.Component);J.componentId="closedCaptionsButton",J.propTypes={mediaPlayer:s.a.object,hasClosedCaptions:s.a.bool,closedCaptionsActive:s.a.bool},J.defaultProps={mediaPlayer:void 0,hasClosedCaptions:!1,closedCaptionsActive:!1};var ee=J;function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),e}function se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?fe(e):t}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pe=Object(r.createContext)({focusedId:null,playerId:null,isMediaPlayer:!1,usesArrowKeys:!1,isButton:!1,managedFocus:function(e){this.isMediaPlayer=e},focusSwitched:function(e,t,n){this.focusedId=e,this.playerId=t,this.usesArrowKeys=!!n.usesArrowKeys,this.isButton=!!n.isButton},focusLost:function(){this.focusedId=null,this.playerId=null,this.usesArrowKeys=!1,this.isButton=!1}}),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=function(n){se(i,n);var r=ue(i);function i(){var n;oe(this,i);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return ne(fe(n=r.call.apply(r,[this].concat(a))),"_onFocus",(function(){var r=n.props.mediaPlayer.getPlayerId();n.context.focusSwitched(t.componentId,r,e)})),ne(fe(n),"_onBlur",(function(){n.context.focusLost(t.componentId)})),n}return ae(i,[{key:"render",value:function(){return o.a.createElement("div",{onFocus:this._onFocus,onBlur:this._onBlur},o.a.createElement(t,this.props))}}]),i}(r.Component);return ne(n,"contextType",pe),C()(n,t),n}},ge=U()(L(),he({isButton:!0}))(ee);function me(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n(87);var ye=function(e){e.styles;var t=me(e,["styles"]);return o.a.createElement("svg",ve({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"24"},t),o.a.createElement("path",{d:"M32 15v9H19v-3h10v-6h3zm0-6h-3V3H19V0h13v9zM0 15h3v6h10v3H0v-9zm0-6V0h13v3H3v6H0z",fill:"#fff"}))};function be(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ce=function(e){e.styles;var t=be(e,["styles"]);return o.a.createElement("svg",Ae({version:"1.0",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"32",height:"24"},t),o.a.createElement("defs",null,o.a.createElement("path",{id:"a",d:"M-51.3 22.7h-4.9c-1 0-1.8-.7-1.8-1.5V15c0-.9.8-1.5 1.8-1.5h4.8L-46 9c.3-.2.5-.1.5.2V27c0 .3-.2.5-.5.2l-5.3-4.5z"})),o.a.createElement("clipPath",{id:"b"},o.a.createElement("use",{xlinkHref:"#a",overflow:"visible"})),o.a.createElement("defs",null,o.a.createElement("path",{id:"c",d:"M-53.5 6c.6-.6 1.5-.6 2.1 0l21.9 21.9c.6.6.6 1.5 0 2.1-.6.6-1.5.6-2.1 0L-53.5 8.1c-.6-.6-.6-1.5 0-2.1z"})),o.a.createElement("clipPath",{id:"d"},o.a.createElement("use",{xlinkHref:"#c",overflow:"visible"})),o.a.createElement("g",null,o.a.createElement("defs",null,o.a.createElement("path",{id:"e",d:"M0 0h32v24H0z"})),o.a.createElement("clipPath",{id:"f"},o.a.createElement("use",{xlinkHref:"#e",overflow:"visible"})),o.a.createElement("g",{clipPath:"url(#f)"},o.a.createElement("defs",null,o.a.createElement("path",{id:"g",d:"M22 6h10v3H19V0h3v6zM10 9H0V6h10V0h3v9h-3z"})),o.a.createElement("clipPath",{id:"h"},o.a.createElement("use",{xlinkHref:"#g",overflow:"visible"})),o.a.createElement("g",{clipPath:"url(#h)"},o.a.createElement("defs",null,o.a.createElement("path",{id:"i",d:"M0 0h32v24H0z"})),o.a.createElement("clipPath",{id:"j"},o.a.createElement("use",{xlinkHref:"#i",overflow:"visible"})),o.a.createElement("path",{clipPath:"url(#j)",fill:"#FFF",d:"M-5-5h42v19H-5z"}))),o.a.createElement("g",{clipPath:"url(#f)"},o.a.createElement("defs",null,o.a.createElement("path",{id:"k",d:"M22 15h10v3H22v6h-3v-9h3zm-12 3H0v-3h13v9h-3v-6z"})),o.a.createElement("clipPath",{id:"l"},o.a.createElement("use",{xlinkHref:"#k",overflow:"visible"})),o.a.createElement("g",{clipPath:"url(#l)"},o.a.createElement("defs",null,o.a.createElement("path",{id:"m",d:"M0 0h32v24H0z"})),o.a.createElement("clipPath",{id:"n"},o.a.createElement("use",{xlinkHref:"#m",overflow:"visible"})),o.a.createElement("path",{clipPath:"url(#n)",fill:"#FFF",d:"M-5 10h42v19H-5z"})))))};function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Se(this,n)}}function Se(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?Te(e):t}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(a,e);var t,n,r,i=we(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).onClick=t.onClick.bind(Te(t)),t}return t=a,(n=[{key:"onClick",value:function(){this.props.isFullscreen?this.props.mediaPlayer.exitFullscreen():this.props.mediaPlayer.requestFullscreen(this.props.fullscreenElement)}},{key:"render",value:function(){var e=this.props.isFullscreen,t="Fullscreen";return t=e?"Exit Full Screen":"Full Screen",o.a.createElement(F,{onClick:this.onClick,label:t,ariaLabel:"Fullscreen (f)",ariaPressed:e,className:"media-control-full-screen"},e?o.a.createElement(Ce,null):o.a.createElement(ye,null))}}])&&_e(t.prototype,n),r&&_e(t,r),a}(r.Component);xe.componentId="fullscreenButton",xe.propTypes={isFullscreen:s.a.bool,fullscreenElement:s.a.instanceOf(Element)},xe.defaultProps={isFullscreen:!1,fullscreenElement:void 0};var Pe=xe,Oe=U()(L(),he({isButton:!0}))(Pe);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fe(e);if(t){var o=Fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Me(this,n)}}function Me(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?Ne(e):t}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(89);var Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(a,e);var t,n,r,i=Re(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).onClick=t.onClick.bind(Ne(t)),t}return t=a,(n=[{key:"onClick",value:function(){this.props.mediaPlayer.jumpToLive()}},{key:"render",value:function(){var e=this.props,t=e.isLive,n=e.isAtLivePoint,r=R()("media-control-label","controls-button-live",{"controls-button-live--on":n,"controls-button-live--off":!n,"controls-button-live--hide":!t});return o.a.createElement(N,{onClick:this.onClick,label:"Live",ariaLabel:"Jump to live point",className:r,active:!n,tabIndex:n?-1:0},"Live")}}])&&De(t.prototype,n),r&&De(t,r),a}(r.Component);Be.componentId="jumpToLiveButton",Be.propTypes={mediaPlayer:s.a.object,isLive:s.a.bool,isAtLivePoint:s.a.bool},Be.defaultProps={mediaPlayer:void 0,isLive:!1,isAtLivePoint:!1};var Ue=Be,Ge=U()(L(),he({isButton:!0}))(Ue);function He(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n(91);var We=function(e){e.styles;var t=He(e,["styles"]);return o.a.createElement("svg",Ve({xmlns:"http://www.w3.org/2000/svg",width:"16.7",height:"25"},t),o.a.createElement("path",{d:"M1.6.2l14.3 10.7c.9.7 1.1 1.9.4 2.8-.1.2-.2.3-.4.4L1.6 24.8c-.4.3-1.1.2-1.4-.2-.1-.2-.2-.4-.2-.6V1c0-.6.4-1 1-1 .2 0 .4.1.6.2z",fill:"#fff",fillRule:"evenodd",clipRule:"evenodd",overflow:"visible"}))};function Ye(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ke=function(e){e.styles;var t=Ye(e,["styles"]);return o.a.createElement("svg",ze({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"24"},t),o.a.createElement("path",{d:"M11 0h2c.6 0 1 .4 1 1v22c0 .6-.4 1-1 1h-2c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1zM1 0h2c.6 0 1 .4 1 1v22c0 .6-.4 1-1 1H1c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1z",fill:"#fff"}))};function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=et(e);if(t){var o=et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qe(this,n)}}function Qe(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?Je(e):t}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(a,e);var t,n,r,i=Ze(a);function a(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this,e),n=Je(t),o=function(e){t.props.isPaused?t.props.mediaPlayer.play():t.props.mediaPlayer.pause()},(r="onClick")in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t}return t=a,(n=[{key:"render",value:function(){var e=this.props.isPaused,t=e?"Play":"Pause",n=e?"Play (space)":"Pause (space)",r=e?"media-control--play":"media-control--pause",i=e?o.a.createElement(We,null):o.a.createElement(Ke,null);return o.a.createElement(F,{onClick:this.onClick,label:t,ariaLabel:n,className:r},i)}}])&&$e(t.prototype,n),r&&$e(t,r),a}(r.Component);tt.componentId="playPauseButton",tt.propTypes={isPaused:s.a.bool},tt.defaultProps={isPaused:!1};var nt=tt,rt=U()(L(),he({isButton:!0}))(nt);function ot(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n(93);var at=function(e){e.styles;var t=ot(e,["styles"]);return o.a.createElement("svg",it({version:"1",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"24"},t),o.a.createElement("path",{d:"M6.7 11.6v-.7c.6-.1 1.1-.2 1.3-.3.2-.1.4-.5.6-1h.7v6.9h-1v-4.9H6.7zm5.3 3.1c.1.5.3.8.7 1 .2.1.4.1.7.1.5 0 .9-.2 1.1-.5.2-.3.4-.7.4-1.1 0-.5-.1-.9-.4-1.1-.3-.3-.7-.4-1.1-.4-.3 0-.6.1-.8.2-.2.1-.4.3-.6.5h-.8l.5-3.7h3.6v.8h-3l-.3 1.9c.2-.1.3-.2.5-.3.5-.1.8-.1 1.1-.1.6 0 1.2.2 1.6.6.4.4.7.9.7 1.6 0 .7-.2 1.2-.6 1.7-.4.5-1.1.8-1.9.8-.6 0-1.1-.2-1.5-.5-.4-.3-.7-.8-.7-1.5h.8z",fill:"#FFF"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#BBB",d:"M12.2 0c6.2 0 11.3 4.6 12 10.5l1.9-2c.4-.4 1-.4 1.4 0 .2.2.3.4.3.7 0 .3-.1.5-.3.7l-3.8 3.7c-.2.2-.5.3-.7.3-.2 0-.5-.1-.7-.2l-4.1-3.5c0-.2-.2-.4-.2-.7 0-.3.1-.5.2-.7.4-.4 1-.5 1.4-.1l2.1 1.9C21 6 17 2.4 12.1 2.4c-5.4 0-9.7 4.3-9.7 9.6s4.3 9.6 9.7 9.6c2.4 0 4.6-.9 6.3-2.3.2-.3.5-.4.9-.4.7 0 1.2.5 1.2 1.2 0 .3-.1.5-.2.7l-.1.1-.1.1c-2.1 1.9-5 3.1-8.1 3.1C5.5 24 .1 18.6.1 12S5.5 0 12.2 0z"}))};function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ht(e);if(t){var o=ht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dt(this,n)}}function dt(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?pt(e):t}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(a,e);var t,n,r,i=ft(a);function a(){var e;lt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gt(pt(e=i.call.apply(i,[this].concat(n))),"onClick",(function(){var t=e.props,n=t.forwardValue,r=t.mediaPlayer,o=t.currentTime;r.seek(o+n)})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.isEnabled,n=e.forwardValue,r=e.currentTime,i=e.duration,a=e.isMinimumDuration,s="Forward ".concat(n," seconds"),l=R()(gt({"media-control-quick-forward":!0,"media-control-disable":r+n>=i},"media-control-disable",!a));return t?o.a.createElement(F,{onClick:this.onClick,label:s,ariaLabel:s,className:l},o.a.createElement(at,null)):null}}])&&ut(t.prototype,n),r&&ut(t,r),a}(r.Component);mt.componentId="quickForwardButton",mt.propTypes={mediaPlayer:s.a.object,isEnabled:s.a.bool,forwardValue:s.a.number,duration:s.a.number},mt.defaultProps={mediaPlayer:void 0,isEnabled:!1,forwardValue:15,duration:0};var vt=mt,yt=U()(L(),he({isButton:!0}))(vt);function bt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n(95);var Ct=function(e){e.styles;var t=bt(e,["styles"]);return o.a.createElement("svg",At({version:"1",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"24"},t),o.a.createElement("path",{d:"M11.7 11.6v-.7c.6-.1 1.1-.2 1.3-.3.2-.1.4-.5.6-1h.7v6.9h-.9v-4.9h-1.7zm5.3 3.1c.1.5.3.8.7 1 .2.1.4.1.7.1.5 0 .9-.2 1.1-.5.2-.3.4-.7.4-1.1 0-.5-.1-.9-.4-1.1-.3-.3-.7-.4-1.1-.4-.3 0-.6.1-.8.2-.2.1-.4.3-.6.5h-.8l.5-3.7h3.6v.8h-3l-.3 1.9c.2-.1.3-.2.5-.3.5-.1.8-.1 1.1-.1.6 0 1.2.2 1.6.6.4.4.7.9.7 1.6 0 .7-.2 1.2-.6 1.7-.4.5-1.1.8-1.9.8-.6 0-1.1-.2-1.5-.5-.4-.3-.7-.8-.7-1.5h.8z",fill:"#FFF"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#BBB",d:"M15.8 0C9.6 0 4.5 4.6 3.7 10.5l-1.9-2c-.4-.4-1-.4-1.4 0-.2.2-.3.5-.3.8 0 .3.1.5.3.7l3.8 3.7c.1.2.4.3.7.3.2 0 .5-.1.7-.2l4.1-3.5c.1-.3.3-.5.3-.8 0-.2-.1-.5-.3-.7-.4-.4-1-.5-1.4-.1l-2.1 1.9c.7-4.6 4.7-8.2 9.6-8.2 5.4 0 9.7 4.3 9.7 9.6s-4.3 9.6-9.7 9.6c-2.4 0-4.6-.9-6.3-2.3-.2-.3-.5-.4-.9-.4-.7 0-1.2.5-1.2 1.2 0 .3.1.5.2.7l.1.1.1.1c2.1 1.9 5 3.1 8.1 3.1 6.7 0 12.1-5.4 12.1-12C27.9 5.4 22.5 0 15.8 0z"}))};function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xt(e);if(t){var o=xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?kt(e):t}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(a,e);var t,n,r,i=St(a);function a(){var e;_t(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pt(kt(e=i.call.apply(i,[this].concat(n))),"onClick",(function(){var t=e.props,n=t.rewindValue,r=t.mediaPlayer,o=t.currentTime;r.seek(o-n)})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.isEnabled,n=e.rewindValue,r=e.currentTime,i=e.isMinimumDuration,a="Back ".concat(n," seconds"),s=R()(Pt({"media-control-quick-rewind":!0,"media-control-disable":r-n<0},"media-control-disable",!i));return t?o.a.createElement(F,{onClick:this.onClick,label:a,ariaLabel:a,className:s},o.a.createElement(Ct,null)):null}}])&&Et(t.prototype,n),r&&Et(t,r),a}(r.Component);Ot.componentId="quickRewindButton",Ot.propTypes={mediaPlayer:s.a.object,isEnabled:s.a.bool,rewindValue:s.a.number,currentTime:s.a.number},Ot.defaultProps={mediaPlayer:void 0,isEnabled:!1,rewindValue:15,currentTime:0};var Lt=Ot,Dt=U()(L(),he({isButton:!0}))(Lt),jt=(n(97),n(28)),Rt=n.n(jt);function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ht(e);if(t){var o=Ht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ut(this,n)}}function Ut(e,t){return!t||"object"!==Mt(t)&&"function"!=typeof t?Gt(e):t}function Gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(104);var Wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(a,e);var t,n,r,i=Bt(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Vt(Gt(t=i.call(this,e)),"onChangeStart",(function(){var e=t.props.onChangeStart;t.setState({ignoreUpdates:!0}),e&&e()})),Vt(Gt(t),"onSliderChange",(function(e){var n=t.props.onValueChanging;t.setState({ignoreUpdates:!0,currentValue:e}),n&&n(e)})),Vt(Gt(t),"onChangeComplete",(function(){var e=t.state.currentValue,n=t.props.onAfterChange;t.setState({ignoreUpdates:!1}),n&&n(e)})),t.state={currentValue:e.value,ignoreUpdates:!1},t}return t=a,r=[{key:"getDerivedStateFromProps",value:function(e,t){return t.ignoreUpdates?null:{currentValue:e.value}}}],(n=[{key:"render",value:function(){var e=this.props,t=e.min,n=e.max,r=e.step,i=e.ariaLabel,a=e.ariaValueText,s=e.ariaMin,l=e.ariaNow,u=e.ariaMax,c=e.className,f=this.state.currentValue;return n>0?o.a.createElement(Rt.a,{className:c,tabIndex:0,min:t,max:n,value:f,step:r,tooltip:!1,ariaLabel:i,ariaValueText:a,ariaMin:s,ariaNow:l,ariaMax:u,onChangeStart:this.onChangeStart,onChange:this.onSliderChange,onChangeComplete:this.onChangeComplete}):null}}])&&Nt(t.prototype,n),r&&Nt(t,r),a}(r.Component);Wt.propTypes={min:s.a.number,max:s.a.number,step:s.a.number,ariaLabel:s.a.string,ariaValueText:s.a.string,ariaMin:s.a.any,ariaNow:s.a.any,ariaMax:s.a.any,onChangeStart:s.a.func,onSliderChange:s.a.func,onChangeComplete:s.a.func},Wt.defaultProps={min:0,max:0,step:.3,ariaLabel:"",ariaValueText:"",ariaMin:0,ariaNow:0,ariaMax:100,onChangeStart:function(){},onSliderChange:function(){},onChangeComplete:function(){}};var Yt=Wt;function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"padZero",value:function(e){var t=e;return e<10&&(t="0"+e),t}},{key:"formatSecondsToTimeCode",value:function(t){var n=parseInt(t,10)||0,r=Math.floor(n/3600),o=Math.floor((n-3600*r)/60),i=n-3600*r-60*o,a="00:00:00";return isNaN(t)?a:(r>0&&(o=e.padZero(o)),i=e.padZero(i),a=r>0?"".concat(r,":").concat(o,":").concat(i):"".concat(o,":").concat(i))}}],(n=null)&&zt(t.prototype,n),r&&zt(t,r),e}();function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t,n){return t&&$t(e.prototype,t),n&&$t(e,n),e}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tn(e);if(t){var o=tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jt(this,n)}}function Jt(e,t){return!t||"object"!==qt(t)&&"function"!=typeof t?en(e):t}function en(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(106);var rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(n,e);var t=Qt(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),nn(en(r=t.call(this,e)),"onChangeStart",(function(){var e=r.props.mediaPlayer,t=e.player.stateModel.playing;t&&e.player.pause(),r.setState({isSeeking:!0,wasPlaying:t})})),nn(en(r),"onSliderChange",(function(e){var t=r.props,o=t.startTime,i=t.endTime,a=t.mediaPlayer,s=n.getTimeFromPercent(o,i,e);r.setState({isSeeking:!0,selectedSeekTime:s}),a.player.seek(s)})),nn(en(r),"onAfterChange",(function(e){var t=r.props,o=t.startTime,i=t.endTime,a=t.isMinimumDuration,s=t.mediaPlayer,l=r.state.wasPlaying,u=n.getTimeFromPercent(o,i,e);a&&(r.setState({isSeeking:!0,selectedSeekTime:u}),console.log("onAfterChange() - seek to",u),s.seek(u),l&&s.play())})),r.state={isSeeking:!1,currentTime:0,selectedSeekTime:void 0},r}return Xt(n,null,[{key:"getCurrentTimeToUse",value:function(e,t,n,r,o,i){return n?i:!n&&r&&o?t:e}},{key:"getTimeFromPercent",value:function(e,t,r){return(e+t)*(r/n.SEEK_MULTIPLIER)}}]),Xt(n,[{key:"render",value:function(){var e=this.props,t=(e.startTime,e.endTime),r=e.isLive,i=e.isAtLivePoint,a=e.isMinimumDuration,s=(e.duration,this.state),l=s.isSeeking,u=s.currentTime,c=s.selectedSeekTime,f=n.getCurrentTimeToUse(u,t,l,r,i,c),d=f/t*n.SEEK_MULTIPLIER,p=Kt.formatSecondsToTimeCode(f),h=Kt.formatSecondsToTimeCode(t),g=R()({"media-control-disable":!a});return o.a.createElement("div",{className:"scrubber-bar-wrapper"},o.a.createElement(Yt,{className:g,value:d,min:0,max:n.SEEK_MULTIPLIER,step:.02,ariaLabel:"Seek slider",ariaValueText:"".concat(p," of ").concat(h),ariaMin:0,ariaNow:Math.round(f),ariaMax:Math.round(t),onChangeStart:this.onChangeStart,onValueChanging:this.onSliderChange,onAfterChange:this.onAfterChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.startTime,e.endTime,e.currentTime,e.seeking,e.isLive,e.isAtLivePoint,t.isSeeking?{currentTime:t.selectedSeekTime,isSeeking:e.seeking}:{currentTime:e.currentTime,isSeeking:e.seeking,selectedSeekTime:void 0}}}]),n}(r.Component);rn.SEEK_MULTIPLIER=5e3,rn.componentId="scrubberBar",rn.propTypes={mediaPlayer:s.a.object,startTime:s.a.number,endTime:s.a.number,duration:s.a.number,currentTime:s.a.number,seeking:s.a.bool,isLive:s.a.bool,isAtLivePoint:s.a.bool},rn.defaultProps={mediaPlayer:void 0,startTime:0,endTime:0,duration:0,currentTime:0,seeking:!1,isLive:!1,isAtLivePoint:!1};var on=rn,an=U()(L(),he({usesArrowKeys:!0}))(on);function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dn(e);if(t){var o=dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fn(this,n)}}function fn(e,t){return!t||"object"!==sn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(108);var pn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}(a,e);var t,n,r,i=cn(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"getClassNames",value:function(e){return"media-control media-control--timecode-display ".concat(this.props.className," ").concat(e?"":"disabled")}},{key:"render",value:function(){var e=this.props,t=e.enabled,n=e.timecode,r=e.ariaLabel;return t||(n="00:00:00",r="00:00:00"),o.a.createElement("p",{className:this.getClassNames(t),tabIndex:-1,"aria-label":r},n)}}])&&ln(t.prototype,n),r&&ln(t,r),a}(r.Component);pn.componentId="timecodeDisplay",pn.propTypes={className:s.a.string,enabled:s.a.bool,timecode:s.a.string.isRequired,ariaLabel:s.a.string},pn.defaultProps={className:"",enabled:!0,timecode:"00:00:00",ariaLabel:""};var hn=pn,gn=L()(hn);function mn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function vn(){return(vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n(110);var yn=function(e){e.styles;var t=mn(e,["styles"]);return o.a.createElement("svg",vn({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"24",version:"1.0"},t),o.a.createElement("g",{fill:"#FFF"},o.a.createElement("g",{opacity:".5"},o.a.createElement("path",{d:"M11.6 3.3L6.4 7.6H1.8c-1 0-1.8.7-1.8 1.5V15c0 .8.8 1.5 1.8 1.5h4.7l5.2 4.4c.3.2.5.1.5-.2V3.5c-.1-.3-.3-.4-.6-.2zm16-2.9c-.4-.5-1.2-.6-1.7-.2-.3.2-.4.5-.4.8 0 .3.1.6.3.9 5.1 6 5.1 14 0 20-.2.3-.3.6-.3.9 0 .3.2.6.4.8.2.2.5.3.8.3.4 0 .7-.2 1-.4 5.8-6.9 5.8-16.1-.1-23.1z"}),o.a.createElement("path",{d:"M22.3 3.4c-.4-.5-1.2-.6-1.7-.1-.3.2-.4.5-.4.8 0 .3.1.6.3.9 3.6 4.1 3.6 9.9 0 14-.2.3-.3.6-.3.9s.2.6.4.8c.2.2.5.3.8.3.4 0 .7-.2.9-.4 4.3-5.1 4.3-12.1 0-17.2zm-7.1 2.9c-.3.2-.4.5-.4.8 0 .3.1.6.3.9 2.1 2.3 2.1 5.6 0 7.9-.2.2-.3.6-.3.9 0 .3.2.6.4.8.2.2.5.3.8.3.4 0 .7-.2.9-.4 2.9-3.3 2.9-7.9 0-11.2-.4-.4-1.2-.4-1.7 0z"})),o.a.createElement("path",{d:"M4.3.5c.6-.6 1.5-.6 2 0l21.1 21c.6.6.6 1.5 0 2-.6.6-1.5.6-2 0L4.3 2.5c-.5-.6-.5-1.5 0-2z"})))};function bn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function An(){return(An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Cn=function(e){e.styles;var t=bn(e,["styles"]);return o.a.createElement("svg",An({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"24",version:"1.0"},t),o.a.createElement("g",{opacity:".5",fill:"#FFF"},o.a.createElement("path",{d:"M11.6 3.3L6.4 7.6H1.8c-1 0-1.8.7-1.8 1.5V15c0 .8.8 1.5 1.8 1.5h4.7l5.2 4.4c.3.2.5.1.5-.2V3.5c-.1-.3-.3-.4-.6-.2zm16-2.9c-.4-.5-1.2-.6-1.7-.2-.3.2-.4.5-.4.8 0 .3.1.6.3.9 5.1 6 5.1 14 0 20-.2.3-.3.6-.3.9 0 .3.2.6.4.8.2.2.5.3.8.3.4 0 .7-.2 1-.4 5.8-6.9 5.8-16.1-.1-23.1z"}),o.a.createElement("path",{d:"M22.3 3.4c-.4-.5-1.2-.6-1.7-.1-.3.2-.4.5-.4.8 0 .3.1.6.3.9 3.6 4.1 3.6 9.9 0 14-.2.3-.3.6-.3.9s.2.6.4.8c.2.2.5.3.8.3.4 0 .7-.2.9-.4 4.3-5.1 4.3-12.1 0-17.2zm-7.1 2.9c-.3.2-.4.5-.4.8 0 .3.1.6.3.9 2.1 2.3 2.1 5.6 0 7.9-.2.2-.3.6-.3.9 0 .3.2.6.4.8.2.2.5.3.8.3.4 0 .7-.2.9-.4 2.9-3.3 2.9-7.9 0-11.2-.4-.4-1.2-.4-1.7 0z"})))};function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kn(e);if(t){var o=kn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sn(this,n)}}function Sn(e,t){return!t||"object"!==In(t)&&"function"!=typeof t?Tn(e):t}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(a,e);var t,n,r,i=wn(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).onClick=t.onClick.bind(Tn(t)),t}return t=a,(n=[{key:"onClick",value:function(){var e=this.props,t=e.volume,n=e.mediaPlayer;if(console.log("mute button onclick",n,this.props),t.muted){n.unMute();var r=t.lastValue<=.1?.7:t.lastValue;n.setVolume(r)}else n.mute()}},{key:"render",value:function(){var e=this.props,t=e.muted,n=e.volume,r=(t=n.value<=0||n.muted)?"Un-mute (m)":"Mute (m)";return o.a.createElement(N,{onClick:this.onClick,label:r,ariaLabel:r,ariaPressed:t,className:"media-control--mute"},t?o.a.createElement(yn,null):o.a.createElement(Cn,null))}}])&&_n(t.prototype,n),r&&_n(t,r),a}(r.Component);xn.componentId="muteButton",xn.propTypes={mediaPlayer:s.a.object,mute:s.a.bool,volume:s.a.shape({volume:s.a.number,muted:s.a.bool,lastValue:s.a.number})},xn.defaultProps={mediaPlayer:void 0,mute:!1,volume:{value:0,muted:!1,lastValue:0}};var Pn=xn,On=U()(L(),he({isButton:!0}))(Pn);function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fn(e);if(t){var o=Fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mn(this,n)}}function Mn(e,t){return!t||"object"!==Ln(t)&&"function"!=typeof t?Nn(e):t}function Nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(112);var Bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(a,e);var t,n,r,i=Rn(a);function a(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this,e),n=Nn(t),o=function(e){var n=t.props,r=n.mediaPlayer,o=n.volume;r.setVolume(e/100),e>0&&o.muted?r.unMute():e<=0&&!o.muted&&r.mute()},(r="onValueChanging")in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t}return t=a,(n=[{key:"render",value:function(){var e=this.props.volume,t=e.muted?"Muted":"",n=100*e.value,r=e.muted?0:n;return o.a.createElement("div",{className:"media-control-volume-slider"},o.a.createElement(Yt,{tabIndex:0,min:0,max:100,value:r,ariaLabel:"",ariaValueText:"".concat(t," ").concat(Math.round(n),"% Volume"),ariaMin:"0",ariaNow:r,ariaMax:"100",step:.03,tooltip:!1,onValueChanging:this.onValueChanging}))}}])&&Dn(t.prototype,n),r&&Dn(t,r),a}(r.Component);Bn.componentId="volumeSlider",Bn.propTypes={mediaPlayer:s.a.object,volume:s.a.shape({value:s.a.number,muted:s.a.bool,lastValue:s.a.number})},Bn.defaultProps={mediaPlayer:void 0,volume:{value:0,muted:!1,lastValue:0}};var Un=Bn,Gn=U()(L(),he({usesArrowKeys:!0}))(Un),Hn={STOP:"playerControlsStop"},Vn=(n(114),n(18));function Wn(e){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t){return(zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xn(e);if(t){var o=Xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qn(this,n)}}function qn(e,t){return!t||"object"!==Wn(t)&&"function"!=typeof t?$n(e):t}function $n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xn(e){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zn(e,t)}(s,e);var t,n,r,a=Kn(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),Zn($n(t=a.call(this,e)),"pickClosedCaptions",(function(){var e=$n(t),n=t.findBestTextTrack(t.props.closedCaptions);n&&(n.mode="hidden",Array.from(n.cues).forEach((function(t){t.onenter=function(){e.cueEnter(this)},t.onexit=function(){e.cueExit(this)}})))})),Zn($n(t),"clenupCueText",(function(e){return e.replace(/\<[^\>]+\>/gim,"")})),Zn($n(t),"cueEnter",(function(e){t.setState({currentCue:t.clenupCueText(e.text)})})),Zn($n(t),"cueExit",(function(){t.setState({currentCue:""})})),t.state={currentCue:""},t.subscriptions=[],t.subscribe(),t}return t=s,(n=[{key:"componentDidMount",value:function(){this.pickClosedCaptions()}},{key:"componentWillUnmount",value:function(){this.unpickClosedCaptions(),this.unsubscribe()}},{key:"unsubscribe",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))}},{key:"findBestTextTrack",value:function(e){return e=e||[],Array.from(e).sort((function(e,t){return e.isVttFile&&!t.isVttFile?0:e.isVttFile&&!t.isVttFile?-1:1}))[0]}},{key:"unpickClosedCaptions",value:function(){var e=this.findBestTextTrack(this.props.closedCaptions),t=function(){};e&&e.cues&&Array.from(e.cues).forEach((function(e){e.onenter=t,e.onexit=t}))}},{key:"subscribe",value:function(){var e=this,t=this.props.mediaPlayer.observationCenter.playerSubject.pipe(Object(i.filter)((function(e){return e.type===Vn.MediaPlayerEvents.HTML5.TEXT_TRACK_ENABLED||e.type===Vn.MediaPlayerEvents.HLSJS.SUBTITLE_FRAG_PROCESSED}))).subscribe((function(){e.pickClosedCaptions()}));this.subscriptions.push(t)}},{key:"render",value:function(){var e=this.props.closedCaptionsActive,t=this.state.currentCue;return o.a.createElement("div",{className:"closed-captions"},e&&t?o.a.createElement("div",{className:"cue"},t):null)}}])&&Yn(t.prototype,n),r&&Yn(t,r),s}(r.PureComponent);Qn.componentId="closedCaptions",Qn.propTypes={mediaPlayer:s.a.object,closedCaptionsActive:s.a.bool,closedCaptions:s.a.object},Qn.defaultProps={mediaPlayer:void 0,closedCaptionsActive:!1,closedCaptions:{}};var Jn=Qn,er=(n(116),L()(Jn));function tr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function nr(){return(nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n(118);var rr=function(e){var t=e.styles,n=void 0===t?{}:t,r=tr(e,["styles"]);return o.a.createElement("svg",nr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r),o.a.createElement("path",{d:"M10.3 488.6c13.8 13.1 36.2 13.1 49.9 0l195.6-185.5 195.6 185.5c13.8 13.1 36.2 13.1 49.9 0 13.8-13.1 13.8-34.3 0-47.4L305.8 255.7 501.3 70.2c13.8-13.1 13.8-34.3 0-47.4-13.8-13.1-36.2-13.1-49.9 0L255.8 208.3 60.3 22.8c-13.8-13.1-36.2-13.1-49.9 0-13.8 13.1-13.8 34.3 0 47.4L206 255.7 10.3 441.2c-13.7 13.1-13.7 34.4 0 47.4z",className:n.bust0||"bust0"}))};function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e,t){return(ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cr(e);if(t){var o=cr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lr(this,n)}}function lr(e,t){return!t||"object"!==or(t)&&"function"!=typeof t?ur(e):t}function ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cr(e){return(cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}(a,e);var t,n,r,i=sr(a);function a(e){var t,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this,e),n=ur(t),o=function(){t.props.mediaPlayer.stop(),t.controlsSubject.next({type:Hn.STOP},t.props.mediaPlayer)},(r="onClick")in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o;var s=t.props.mediaPlayer.observationCenter;return t.observationCenter=s,t.controlsSubject=s.controlsSubject,t}return t=a,(n=[{key:"render",value:function(){return o.a.createElement(F,{onClick:this.onClick,label:"Close player",ariaLabel:"Close player",className:"close-button",ariaPressed:!0},o.a.createElement(rr,null))}}])&&ir(t.prototype,n),r&&ir(t,r),a}(r.Component);fr.componentId="closeButton",fr.propTypes={mediaPlayer:s.a.object},fr.defaultProps={mediaPlayer:void 0};var dr=fr,pr=U()(L({enabled:!1}),he({isButton:!0}))(dr);function hr(e){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mr(e,t){return(mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=br(e);if(t){var o=br(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yr(this,n)}}function yr(e,t){return!t||"object"!==hr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function br(e){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mr(e,t)}(a,e);var t,n,r,i=vr(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"getBottomControlsContainerClassNames",value:function(){return R()({"bottom-controls-container":!0,"controls-hidden":!this.props.controlsVisible})}},{key:"getBottomControlsClassNames",value:function(){return R()({"bottom-controls":!0,"controls-hidden":!this.props.controlsVisible})}},{key:"getTimeCodeDisplay",value:function(e,t,n,r,i){var a=t?i.end-i.start:r,s=t?n-i.start:n,l=Kt.formatSecondsToTimeCode(s),u=Kt.formatSecondsToTimeCode(a),c=o.a.createElement(o.a.Fragment,null,o.a.createElement(gn,{mediaPlayer:e,timecode:l,ariaLabel:"Current time: ".concat(l),className:"media-control-current-time"})),f=o.a.createElement(o.a.Fragment,null,o.a.createElement(gn,{mediaPlayer:e,timecode:u,ariaLabel:"Duration: ".concat(u),enabled:!t,className:"media-control-duration"}));return t?o.a.createElement(o.a.Fragment,null,f,c):o.a.createElement(o.a.Fragment,null,c,f)}},{key:"render",value:function(){var e=this.props,t=e.mediaPlayer,n=e.fullscreenElement,r=e.playerState,i=e.playerTimeState,a=r.paused,s=r.volume,l=r.isFullscreen,u=r.isFullscreenEnabled,c=r.currentBuffer,f=void 0===c?0:c,d=r.closedCaptions,p=r.closedCaptionsActive,h=i.currentTime,g=i.duration,m=i.isLive,v=i.isAtLivePoint,y=i.seeking,b=i.seekableRange,A=m?b.end-b.start:g,C=!(!d||!d.length),I=!0;return m&&(I=A>=60),o.a.createElement("div",{className:"default-controls-layout"},o.a.createElement("div",{className:"top-controls-container"},o.a.createElement(pr,{mediaPlayer:t})),o.a.createElement("div",{className:this.getBottomControlsContainerClassNames()},C?o.a.createElement(er,{mediaPlayer:t,closedCaptionsActive:p,closedCaptions:d}):null,o.a.createElement("div",{className:"seek-bar-container"},o.a.createElement("div",{className:"duration-container"},this.getTimeCodeDisplay(t,m,h,A,b)),o.a.createElement("div",{className:"seek-bar"},o.a.createElement(an,{mediaPlayer:t,startTime:b.start,endTime:b.end,duration:g,currentTime:h,seeking:y,buffer:f,isLive:m,isMinimumDuration:I,isAtLivePoint:v}))),o.a.createElement("div",{className:this.getBottomControlsClassNames()},o.a.createElement("div",{className:"bottom-controls-left"},o.a.createElement(Dt,{mediaPlayer:t,isEnabled:!0,rewindValue:15,duration:A,isMinimumDuration:I,currentTime:h}),o.a.createElement(rt,{mediaPlayer:t,isPaused:a,className:"media-control"}),o.a.createElement(yt,{mediaPlayer:t,isEnabled:!0,forwardValue:15,isMinimumDuration:I,currentTime:h}),o.a.createElement(On,{mediaPlayer:t,volume:s}),o.a.createElement(Gn,{mediaPlayer:t,volume:s}),m?o.a.createElement(Ge,{mediaPlayer:t,isLive:m,isAtLivePoint:v,className:"media-control"}):null),o.a.createElement("div",{className:"bottom-controls-right"},o.a.createElement(ge,{mediaPlayer:t,closedCaptionsActive:p,hasClosedCaptions:C}),u?o.a.createElement(Oe,{mediaPlayer:t,isFullscreen:l,fullscreenElement:n}):null))))}}])&&gr(t.prototype,n),r&&gr(t,r),a}(r.Component);Ar.propTypes={mediaPlayer:s.a.object,controlsVisible:s.a.bool,fullscreenElement:s.a.instanceOf(Element),playerState:s.a.shape({paused:s.a.bool,volume:s.a.shape({value:s.a.number,muted:s.a.bool,lastValue:s.a.number}),isFullscreen:s.a.bool,isFullscreenEnabled:s.a.bool,currentBuffer:s.a.number,hasClosedCaptions:s.a.bool,closedCaptionsActive:s.a.bool}),playerTimeState:s.a.shape({currentTime:s.a.number,duration:s.a.number,isLive:s.a.bool,isAtLivePoint:s.a.bool,seeking:s.a.bool,seekableRange:s.a.shape({start:s.a.number,end:s.a.number})})},Ar.defaultProps={mediaPlayer:void 0,controlsVisible:!0,fullscreenElement:void 0,playerState:{paused:!1,volume:{volume:0,muted:!1},isFullscreen:!1,isFullscreenEnabled:!1,currentBuffer:0,hasClosedCaptions:!1,closedCaptionsActive:!1},playerTimeState:{currentTime:0,duration:0,isLive:!1,isAtLivePoint:!1,seeking:!1,seekableRange:{start:0,end:0}}};var Cr=Ar;function Ir(e){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Er(e,t){return(Er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tr(e);if(t){var o=Tr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sr(this,n)}}function Sr(e,t){return!t||"object"!==Ir(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tr(e){return(Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(120);var kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Er(e,t)}(a,e);var t,n,r,i=wr(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"render",value:function(){var e=this.props.playerState.volume,t=this.props.mediaPlayer;return o.a.createElement("div",{className:"ad-controls-layout"},o.a.createElement("div",{className:"top-controls-container"}),o.a.createElement("div",{className:"bottom-controls-container"},o.a.createElement("div",{className:"seek-bar-container"},o.a.createElement("div",{className:"duration-container"}),o.a.createElement("div",{className:"seek-bar"})),o.a.createElement("div",{className:"bottom-controls"},o.a.createElement("div",{className:"bottom-controls-left"}),o.a.createElement("div",{className:"bottom-controls-right"},o.a.createElement(D,{mediaPlayer:t}),o.a.createElement(On,{mediaPlayer:t,volume:e})))))}}])&&_r(t.prototype,n),r&&_r(t,r),a}(r.Component);kr.propTypes={mediaPlayer:s.a.object,controlsVisible:s.a.bool,fullscreenElement:s.a.instanceOf(Element),playerState:s.a.shape({currentTime:s.a.number,duration:s.a.number,seekableRange:s.a.shape({start:s.a.number,end:s.a.number}),paused:s.a.bool,isLive:s.a.bool,isAtLivePoint:s.a.bool,volume:s.a.shape({value:s.a.number,muted:s.a.bool,lastValue:s.a.number}),isFullscreen:s.a.bool,isFullscreenEnabled:s.a.bool,seeking:s.a.bool,currentBuffer:s.a.number,hasClosedCaptions:s.a.bool,closedCaptionsActive:s.a.bool})},kr.defaultProps={mediaPlayer:void 0,controlsVisible:!0,fullscreenElement:void 0,playerState:{currentTime:0,duration:0,seekableRange:{start:0,end:0},paused:!1,isLive:!1,isAtLivePoint:!1,volume:{volume:0,muted:!1},isFullscreen:!1,isFullscreenEnabled:!1,seeking:!1,currentBuffer:0,hasClosedCaptions:!1,closedCaptionsActive:!1}};var xr=kr;function Pr(e){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rr(e);if(t){var o=Rr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}function jr(e,t){return!t||"object"!==Pr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(122);var Mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(a,e);var t,n,r,i=Dr(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"render",value:function(){var e=this.props.visible,t=R()({"mlb-player-controls-loader--container":!0,hidden:!e});return o.a.createElement("div",{className:t},o.a.createElement("div",{className:"mlb-player-controls--loader"}))}}])&&Or(t.prototype,n),r&&Or(t,r),a}(r.Component),Nr=n(29),Fr=n.n(Nr),Br=n(10),Ur=n(30),Gr=n.n(Ur);function Hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vr={TAB:9,ENTER:13,SPACE:32,ESC:27,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,CTRL:17,OPTION:18,C:67,F:70,K:75,M:77},Wr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaPlayer=t.mediaPlayer,this.mediaConfig=this.mediaPlayer.config,this.fullscreenTargetNode=t.fullscreenTargetNode,this.focusData=t.focusData,this.playerState={},this.playerTimeState={currentTime:0},this.controlsSubject=v()(this.mediaPlayer,"observationCenter.controlsSubject"),this.styleElement=document.createElement("STYLE"),document.getElementsByTagName("HEAD")[0].appendChild(this.styleElement),this.initializeEventListeners(),this.subscribeToPlayerState(),this.subscribeToPlayerTimeState()}var t,n,r;return t=e,(n=[{key:"setCss",value:function(e){this.styleElement.innerHTML=e}},{key:"handleMouseDown",value:function(t){this.controlsSubject.next({type:e.TABBING_DISABLED}),this.setCss(".media-player :focus{outline:0;} .media-player ::-moz-focus-inner{border:0;}")}},{key:"handleKeyDown",value:function(t){var n=t.keyCode;Gr()(Vr,n)&&(v()(this.mediaPlayer,"observationCenter.controlsSubject").next({type:e.TABBING_ENABLED}),this.setCss(".media-player :focus{outline: 1px solid #3DB3F8 !important;}\n            .media-player ::-moz-focus-inner{outline: 1px solid #3DB3F8 !important;}"))}},{key:"decodeKeystroke",value:function(e){var t=v()(this.mediaConfig,"config.playerTypeConfig.customKeyCodes",{}),n=v()(t,"ESC",Vr.ESC),r=v()(t,"SPACE",Vr.SPACE),o=v()(t,"ARROW_LEFT",Vr.ARROW_LEFT),i=v()(t,"ARROW_UP",Vr.ARROW_UP),a=v()(t,"ARROW_RIGHT",Vr.ARROW_RIGHT),s=v()(t,"ARROW_DOWN",Vr.ARROW_DOWN),l=v()(t,"C",Vr.C),u=v()(t,"F",Vr.F),c=(v()(t,"K",Vr.K),v()(t,"M",Vr.M)),f=null,d=!1,p=this.focusData,h=p.isButton,g=p.focusedId;if(e===Vr.SPACE&&h)return{command:f,preventDefault:d};switch(e){case r:f="PLAY/PAUSE",d=!0;break;case c:f="MUTE";break;case u:f="FULLSCREEN";break;case n:f="EXIT_FULLSCREEN";break;case l:f="CLOSED_CAPTIONS";break;case o:f="SEEK_BACKWARDS",d=!0,"volumeSlider"===g&&(f="VOLUME_DOWN");break;case a:f="SEEK_FORWARD",d=!0,"volumeSlider"===g&&(f="VOLUME_UP");break;case i:f="VOLUME_UP",d=!0,"scrubberBar"===g&&(f="SEEK_FORWARD");break;case s:f="VOLUME_DOWN",d=!0,"scrubberBar"===g&&(f="SEEK_BACKWARDS")}return{command:f,preventDefault:d}}},{key:"handleKeyUp",value:function(e){var t=this.fullscreenTargetNode,n=this.mediaPlayer,r=this.playerState,o=this.playerTimeState,i=this.focusData,a=r.volume,s=o.currentTime,l=this.decodeKeystroke(e.keyCode),u=l.command,c=l.preventDefault,f=n.getPlayerId();if(n&&i.focusedId&&i.playerId===f){switch(u){case"PLAY/PAUSE":r.paused?n.play():n.pause();break;case"MUTE":r.volume.muted?n.unMute():n.mute();break;case"FULLSCREEN":r.isFullscreenEnabled&&(r.isFullscreen?n.exitFullscreen():n.requestFullscreen(t));break;case"EXIT_FULLSCREEN":r.isFullscreenEnabled&&r.isFullscreen&&n.exitFullscreen();break;case"CLOSED_CAPTIONS":r.closedCaptionsActive?n.hideClosedCaptions():n.showClosedCaptions();break;case"SEEK_BACKWARDS":n.seek(s-15);break;case"SEEK_FORWARD":n.seek(s+15);break;case"VOLUME_UP":if(a.value<1){var d=(a.value+.1).toFixed(1);n.setVolume(d>1?1:d)}break;case"VOLUME_DOWN":if(r.volume.value>0){var p=(a.value-.1).toFixed(1);n.setVolume(p<0?0:p)}}c&&(e.preventDefault(),e.stopPropagation())}}},{key:"initializeEventListeners",value:function(){document.addEventListener("mousedown",this.handleMouseDown.bind(this)),document.addEventListener("keydown",this.handleKeyDown.bind(this)),document.addEventListener("keyup",this.handleKeyUp.bind(this))}},{key:"subscribeToPlayerState",value:function(){var e=this;this.mediaPlayer.observationCenter.stateSubject.subscribe((function(t){t.type&&"empty"!==t.type&&(e.playerState=t.stateModel)}))}},{key:"subscribeToPlayerTimeState",value:function(){var e=this;this.mediaPlayer.observationCenter.playerTimeSubject.subscribe((function(t){t.type&&"empty"!==t.type&&(e.playerTimeState=t.stateModel)}))}}])&&Hr(t.prototype,n),r&&Hr(t,r),e}();Wr.TABBING_ENABLED="TABBING_ENABLED",Wr.TABBING_DISABLED="TABBING_DISABLED";var Yr=Wr;function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e,t){return(qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zr(e);if(t){var o=Zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xr(this,n)}}function Xr(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(131);var Qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qr(e,t)}(s,e);var t,n,r,a=$r(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={controlsVisible:!0},t.ref=o.a.createRef(),t.timer=void 0,t.tabbingEnabled=!1,t}return t=s,(n=[{key:"componentDidMount",value:function(){this.startTimer(),this.subscribe()}},{key:"componentWillUnmount",value:function(){this.stopTimer(),this.unsubscribe()}},{key:"startTimer",value:function(){var e=this;this.timer=setInterval((function(){e.hideControls()}),8e3)}},{key:"stopTimer",value:function(){clearInterval(this.timer)}},{key:"resetTimer",value:function(){this.stopTimer(),this.startTimer()}},{key:"showControls",value:function(){this.setState({controlsVisible:!0})}},{key:"hideControls",value:function(){this.tabbingEnabled||this.setState({controlsVisible:!1})}},{key:"subscribe",value:function(){var e=this,t=Object(Br.fromEvent)(this.ref.current,"mouseenter").subscribe((function(t){e.resetTimer(),e.showControls()})),n=Object(Br.fromEvent)(this.ref.current,"mouseleave").subscribe((function(t){e.stopTimer(),e.hideControls()})),r=Object(Br.fromEvent)(this.ref.current,"mousemove").pipe(Object(i.throttleTime)(Object(Br.interval)(1e3))).subscribe((function(t){e.resetTimer(),e.state.controlsVisible||e.showControls()})),o=this.props.mediaPlayer.observationCenter.controlsSubject.subscribe((function(t){if("empty"!==t.type)switch(t.type){case Yr.TABBING_ENABLED:e.tabbingEnabled=!0,e.showControls(),e.stopTimer();break;case Yr.TABBING_DISABLED:e.tabbingEnabled=!1,e.resetTimer()}}));this.subscriptions=[t,n,r,o]}},{key:"unsubscribe",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))}},{key:"removeDefaultControls",value:function(){this.props.mediaPlayer.player.videoEl&&this.props.mediaPlayer.removeDefaultControls()}},{key:"getLayout",value:function(){var e=this.props,t=e.playerState,n=e.playerTimeState,r=e.isMobile,i=e.mediaPlayer,a=e.fullscreenElement,s=this.state.controlsVisible;return t.isAdPlaying&&v()(i,"config.controlsConfig.showAdControls",!0)?o.a.createElement(xr,{mediaPlayer:i,playerState:t,playerTimeState:n,fullscreenElement:a,controlsVisible:s}):t.isAdPlaying||r||!v()(i,"config.controlsConfig.showDesktopControls",!0)?null:o.a.createElement(Cr,{mediaPlayer:i,playerState:t,playerTimeState:n,fullscreenElement:a,controlsVisible:s})}},{key:"render",value:function(){var e=this.props,t=e.playerState,n=e.isMobile,r=t.isAdPlaying,i=!0;n?r||(i=!1):this.removeDefaultControls();var a=R()({"media-controls":i,"media-controls-no-pointer-events":r});return o.a.createElement("div",{className:a,ref:this.ref},this.getLayout())}}])&&Kr(t.prototype,n),r&&Kr(t,r),s}(r.Component);Qr.propTypes={mediaPlayer:s.a.object,controlsVisible:s.a.bool,fullscreenElement:s.a.instanceOf(Element),playerState:s.a.shape({paused:s.a.bool,volume:s.a.shape({value:s.a.number,muted:s.a.bool,lastValue:s.a.number}),isFullscreen:s.a.bool,isFullscreenEnabled:s.a.bool,currentBuffer:s.a.number,hasClosedCaptions:s.a.bool,closedCaptionsActive:s.a.bool}),playerTimeState:s.a.shape({currentTime:s.a.number,duration:s.a.number,isLive:s.a.bool,isAtLivePoint:s.a.bool,seeking:s.a.bool,seekableRange:s.a.shape({start:s.a.number,end:s.a.number})}),isMobile:s.a.bool},Qr.defaultProps={mediaPlayer:void 0,controlsVisible:!0,fullscreenElement:void 0,playerState:{paused:!1,volume:{volume:0,muted:!1},isFullscreen:!1,isFullscreenEnabled:!1,currentBuffer:0,hasClosedCaptions:!1,closedCaptionsActive:!1},playerTimeState:{currentTime:0,duration:0,isLive:!1,isAtLivePoint:!1,seeking:!1,seekableRange:{start:0,end:0}},isMobile:!1};var Jr=Qr;function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t){return(no=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ro(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ao(e);if(t){var o=ao(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oo(this,n)}}function oo(e,t){return!t||"object"!==eo(t)&&"function"!=typeof t?io(e):t}function io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ao(e){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&no(e,t)}(s,e);var t,n,r,a=ro(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),so(io(t=a.call(this,e)),"_onBlur",(function(){t.props.focus.managedFocus(!1),t.props.focus.focusLost()})),so(io(t),"_onFocus",(function(){t.props.focus.managedFocus(!0)})),t.accessibilityUtil,t.subscriptions=[],t._isMounted=!1,t.state={showControls:!0,playerState:{playing:!1,paused:!0,stopped:!0,mediaStarted:!1,volume:{value:0,muted:!1,lastVolume:70},seeking:!1,isFullscreenEnabled:!0,isFullscreen:!1,isAdPlaying:!1,isAudioOnly:!1,selectedAudioTrack:void 0,selectedBitRate:1},playerTimeState:{seekableRange:{start:0,end:0},isLive:!1,currentTime:0,duration:0,bufferedValue:0}},t}return t=s,(n=[{key:"componentDidMount",value:function(){this._isMounted=!0,this.subscribe()}},{key:"componentWillUnmount",value:function(){this._isMounted=!0,this.subscriptions.forEach((function(e){e.unsubscribe()}))}},{key:"createAccessibilityUtil",value:function(e,t,n){e&&t&&!this.accessibilityUtil&&(this.accessibilityUtil=new Yr({mediaPlayer:e,fullscreenTargetNode:t,focusData:n}))}},{key:"subscribe",value:function(){var e=this,t=this.props.mediaPlayer.observationCenter,n=t.playerTimeSubject,r=t.stateSubject,o=t.controlsSubject,a=n.pipe(Object(i.throttleTime)(300)).subscribe((function(t){e._isMounted&(t.type&&"empty"!==t.type)&&e.setState({playerTimeState:t.stateModel})}));this.subscriptions.push(a);var s=r.subscribe((function(t){t.type&&"empty"!==t.type&&e.setState({playerState:t.stateModel})}));this.subscriptions.push(s);var l=o.subscribe((function(t){switch(t.type){case"SHOW_CONTROLS":e.setState({showControls:!0});break;case"HIDE_CONTROLS":e.setState({showControls:!1})}}));this.subscriptions.push(l)}},{key:"render",value:function(){var e=this.props,t=e.deviceInfo,n=e.playerWrapper,r=e.fullscreenElementId,i=e.mediaPlayer,a=this.state,s=a.playerState,l=a.playerTimeState,u=a.showControls,c=i.player.parentEl,f=n||c,d=document.getElementById(r),p=s.loading,h=!1;return t&&t.formFactor&&(h=["phone","tablet"].indexOf(t.formFactor)>-1),this.createAccessibilityUtil(i,d,this.props.focus),f&&u?Fr.a.createPortal(o.a.createElement("div",{className:"mlb-player-controls",onBlur:this._onBlur,onFocus:this._onFocus},o.a.createElement(Jr,{isMobile:h,mediaPlayer:i,fullscreenElement:d,playerState:s,playerTimeState:l}),o.a.createElement(Mr,{visible:p})),f):null}}])&&to(t.prototype,n),r&&to(t,r),s}(r.Component);lo.propTypes={deviceInfo:s.a.object,mediaPlayer:s.a.object,fullscreenElementId:s.a.string},lo.defaultProps={deviceInfo:{},mediaPlayer:void 0,fullscreenElementId:"media-app-container"};var uo,co,fo=(uo=lo,co=function(e){se(n,e);var t=ue(n);function n(){return oe(this,n),t.apply(this,arguments)}return ae(n,[{key:"render",value:function(){var e=this;return o.a.createElement(pe.Consumer,null,(function(t){return o.a.createElement(uo,re({focus:t},e.props))}))}}]),n}(r.Component),C()(co,uo),co)}])},e.exports=r(n(73),n(106),n(136),n(39),n(107))},function(e,t,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){"use strict";var e=document.querySelectorAll("meta"),t=Array.prototype.slice.call(e),n={};return t.forEach((function(e,t){var r=e.getAttribute("name")||e.getAttribute("property");if(r){var o="bam-override-"+r+"=",i=window.location.href.indexOf(o);if(-1!==i){var a=window.location.href.substr(i+o.length),s=a.indexOf("&");-1!==s&&(a=a.substr(0,s)),n[r]=a}else n[r]=e.getAttribute("content");switch(e.getAttribute("data-type")){case"json":n[r]=JSON.parse(n[r])}}})),n})?r.apply(t,o):r)||(e.exports=i)},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t,n){var r=n(126);e.exports=function(e,t){var n=[];return r(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}},function(e,t,n){var r=n(96),o=n(71);e.exports=function(e){return o(e)&&"[object Date]"==r(e)}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(115),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(131)(e))},function(e,t,n){"use strict";n.r(t),n.d(t,"InternalEmbed",(function(){return Me})),n.d(t,"AbstractMediaItem",(function(){return Z.AbstractMediaItem})),n.d(t,"MLBMediaItem",(function(){return Z.MLBMediaItem})),n.d(t,"EmbedEvents",(function(){return Z.EmbedEvents})),n.d(t,"Log",(function(){return Ne.Log})),n.d(t,"AbstractPlugin",(function(){return Ne.AbstractPlugin})),n.d(t,"MediaPlayerEvents",(function(){return Ne.MediaPlayerEvents})),n.d(t,"PluginEvents",(function(){return Ne.PluginEvents}));var r=n(83),o=n.n(r),i=n(3),a=n.n(i),s=n(20),l=n.n(s),u=n(84),c=n.n(u),f=n(85),d=n.n(f),p=n(86),h=n.n(p),g="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==g&&g,m="URLSearchParams"in g,v="Symbol"in g&&"iterator"in Symbol,y="FileReader"in g&&"Blob"in g&&function(){try{return new Blob,!0}catch(e){return!1}}(),b="FormData"in g,A="ArrayBuffer"in g;if(A)var C=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],I=ArrayBuffer.isView||function(e){return e&&C.indexOf(Object.prototype.toString.call(e))>-1};function _(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function E(e){return"string"!=typeof e&&(e=String(e)),e}function w(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v&&(t[Symbol.iterator]=function(){return t}),t}function S(e){this.map={},e instanceof S?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function T(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function k(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function x(e){var t=new FileReader,n=k(t);return t.readAsArrayBuffer(e),n}function P(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function O(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:y&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:b&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:m&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():A&&y&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=P(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):A&&(ArrayBuffer.prototype.isPrototypeOf(e)||I(e))?this._bodyArrayBuffer=P(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y&&(this.blob=function(){var e=T(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=T(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(x)}),this.text=function(){var e,t,n,r=T(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=k(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}S.prototype.append=function(e,t){e=_(e),t=E(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},S.prototype.delete=function(e){delete this.map[_(e)]},S.prototype.get=function(e){return e=_(e),this.has(e)?this.map[e]:null},S.prototype.has=function(e){return this.map.hasOwnProperty(_(e))},S.prototype.set=function(e,t){this.map[_(e)]=E(t)},S.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},S.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),w(e)},S.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),w(e)},S.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),w(e)},v&&(S.prototype[Symbol.iterator]=S.prototype.entries);var L=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function D(e,t){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(t=t||{}).body;if(e instanceof D){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new S(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new S(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),L.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;i.test(this.url)?this.url=this.url.replace(i,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function j(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function R(e,t){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new S(t.headers),this.url=t.url||"",this._initBody(e)}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})},O.call(D.prototype),O.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},R.error=function(){var e=new R(null,{status:0,statusText:""});return e.type="error",e};var M=[301,302,303,307,308];R.redirect=function(e,t){if(-1===M.indexOf(t))throw new RangeError("Invalid status code");return new R(null,{status:t,headers:{location:e}})};var N=g.DOMException;try{new N}catch(e){(N=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),N.prototype.constructor=N}function F(e,t){return new Promise((function(n,r){var o=new D(e,t);if(o.signal&&o.signal.aborted)return r(new N("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var e,t,r={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new S,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in i?i.responseURL:r.headers.get("X-Request-URL");var o="response"in i?i.response:i.responseText;setTimeout((function(){n(new R(o,r))}),0)},i.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},i.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},i.onabort=function(){setTimeout((function(){r(new N("Aborted","AbortError"))}),0)},i.open(o.method,function(e){try{return""===e&&g.location.href?g.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&(y?i.responseType="blob":A&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(i.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof S?o.headers.forEach((function(e,t){i.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){i.setRequestHeader(e,E(t.headers[e]))})),o.signal&&(o.signal.addEventListener("abort",a),i.onreadystatechange=function(){4===i.readyState&&o.signal.removeEventListener("abort",a)}),i.send(void 0===o._bodyInit?null:o._bodyInit)}))}F.polyfill=!0,g.fetch||(g.fetch=F,g.Headers=S,g.Request=D,g.Response=R);var B=n(73),U=n.n(B),G=n(107),H=n.n(G),V=n(43),W=n.n(V),Y=(n(187),n(87)),z=n.n(Y),K=n(137),q=n.n(K),$=n(64),X=n.n($),Z=n(5);function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),e}n(214);var ee=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cmsDataRoot=a()(t,"cmsDataRoot",""),this.cmsDataEndpoint=a()(t,"cmsDataEndpoint","")}return J(e,null,[{key:"isForgeRequest",value:function(e){return/[a-z-]+/.test(e)}}]),J(e,[{key:"getTopicDataEndpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=a()(this,"cmsDataEndpoint",void 0);return t||"/unified-player/".concat(e,"/embed-data/topic")}},{key:"getTopicPlaylist",value:function(e,t){var n=this.getTopicDataEndpoint(t);return fetch("".concat(this.cmsDataRoot).concat(n,"/").concat(e)).then((function(e){return e.json()})).then((function(e){var t=[],n=a()(e,"topicData.list",[]);return W()(n,(function(e){e.slug?t.push({contentId:e.slug}):!e.slug&&e.content_id&&t.push({contentId:e.content_id})})),t.length>0?t:void 0}))}}]),e}();function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ne=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store={}}var t,n,r;return t=e,(n=[{key:"get",value:function(e){return this.store[e.toString()]}},{key:"set",value:function(e,t){this.store[e.toString()]=t}}])&&te(t.prototype,n),r&&te(t,r),e}();function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oe=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=X()(t),!this.config.container)throw new Error("container required for player");this.generalUtils=new ee(this.config),this.isDesktop=this.config.isDesktop,this.playerId=this.buildPlayerId(this.config),l()(this.config,"playerId",this.playerId),this.mediaPlayer=void 0,this.getObservationCenterDeferred=void 0,this.cacheStore=new ne,this.observationCenter=void 0,this.bandwagonAdapter=void 0,this.context=void 0,this.autoPlayed=void 0,this.playerShowing=void 0,this.playerShowPercent=a()(this.config,"autoPlayVisibilityThreshold",1),this.playerHidePercent=1-this.playerShowPercent,this.lastScrollTop=window.pageYOffset||document.documentElement.scrollTop,this.config.contentId||(this.config.content_id?(console.warn("Please use contentId in your this.config instead of content_id"),this.config.contentId=this.config.content_id):this.config.contentId=a()(this,"config.metaData.contentId",a()(this,"config.metaData.content_id"))),this.config.topicId||(this.config.topic_id?(console.warn("Please use topicId in your this.config instead of topic_id"),this.config.topicId=this.config.topic_id):this.config.topicId=a()(this,"config.metaData.topicId",a()(this,"config.metaData.topic_id"))),this.config.closeButtonEnabled&&(this.config.closeButtonEnabled=this.config.closeButtonEnabled&&this.isDesktop),this.dispatcher=h.a.getInstanceByKey(t.playerId),this.DEFAULT_REQUEST_CONFIG={query:{playerId:this.config.playerId,leaveBehindEnabled:!1,lb:"replay",autoPlay:!0,mute:!1}},this.insertPlayer()}var t,n,r;return t=e,(n=[{key:"checkAndLoadTopicData",value:function(){var e=this,t=this.config,n=t.contentId,r=t.list,o=t.locale,i=t.slug,a=t.topicId,s=!!(r&&r.length>0);return s&&(n||i)?Promise.resolve(!1):!s&&a?this.generalUtils.getTopicPlaylist(a,o).then((function(t){if(e.config.list=t,!n){var r=e.config.list.shift();e.config.contentId=r.contentId||r.slug}return!0})).catch((function(e){console.warn("Unable to load topic playlist.",e)})):Promise.resolve(!1)}},{key:"setRequestParams",value:function(){var e={query:{autoPlay:a()(this.config,"autoPlay",!0),mute:a()(this.config,"mute",!1),leaveBehindEnabled:a()(this.config,"leaveBehindEnabled",!1),lb:a()(this.config,"lb","replay")}},t=z()({},X()(this.DEFAULT_REQUEST_CONFIG),e);l()(this.config,"requestParams",t)}},{key:"insertPlayer",value:function(){var e=this;this.setRequestParams(),this.checkAndLoadTopicData().then((function(){if(e.config.metaData){var t=a()(e.config,"metaData"),n=a()(e.config,"mediaConfig"),r=a()(e.config,"requestParams"),o=e.getMediaItem(t,n,r);e.cacheStore.set(e.config.contentId,o),l()(e.config,"metaData",o),e.renderPlayer()}else e.config.topicId&&!e.config.contentId?(e.config.autoPlay=!0,e.renderPlayer()):e.config.contentId?e.loadMetaData(e.config.contentId).then((function(t){e.config.metaData=t,e.notifyMetaDataLoaded(e.config.metaData),e.renderPlayer()})):(console.warn("No content id or topic id provided."),e.config.topicId="default",e.renderPlayer())}))}},{key:"fixDataForDisplay",value:function(e){if(e.title=e.title?e.title:e.headline,e.image&&e.image.cuts&&!e.displayImage&&!e.displayImages){var t=e.image.cuts,n=this.config&&(this.config.contentId||this.config.topicId),r=ee.isForgeRequest(n),o=r?1024:1280,i=!r&&this.preview5x2?"5:2":"16:9",a=[];W()(t,(function(t){t.aspectRatio===i&&(t.width===o?e.displayImage=t.src:e.displayImage||(e.displayImage=t.at3x||t.src3x||t.src),a.push("".concat(t.src," ").concat(t.width,"w")))})),e.displayImages=a.join(",")}return e.displayImage||(e.displayImage="https://ui.bamstatic.com/clubs/mlb/images/silhouette_1280x720.png"),e.displayImages||(e.displayImages=""),e}},{key:"getMediaItem",value:function(e,t,n){return new(a()(this.config,"customMetaDataLoader",Z.MLBMediaItem))(e,t,n)}},{key:"buildPlayerId",value:function(e){var t=a()(e,"container"),n=(new Date).getTime().toString(16),r=d()("".concat(t,"-").concat(n,"-"));if(!t)throw console.error("Error:embed-wrapper",e),new Error("Container is required!");return r}},{key:"configureLogging",value:function(){var e=a()(this.config,"debug",{enabled:!1,level:"SILENT"}),t=e.enabled,n=e.level,r=a()(this.mediaPlayer,"Log.levels");t&&r?this.mediaPlayer.Log.setLevel(r[n]):r&&this.mediaPlayer.Log.setLevel(r.SILENT)}},{key:"onMediaPlayerReady",value:function(e){this.mediaPlayer=e,this.observationCenter=this.mediaPlayer.observationCenter,this.configureLogging(),this.getObservationCenterDeferred&&this.getObservationCenterDeferred.resolve(this.observationCenter),this.initWrapperListeners(),this.checkPlayerInViewport(),this.config.handleMediaPlayerReady&&this.config.handleMediaPlayerReady(e)}},{key:"renderPlayer",value:function(){this.setRequestParams(),H.a.render(U.a.createElement(Z.EmbedApp,{playerId:this.config.playerId,autoPlay:this.config.autoPlay,shouldPlayInline:this.config.shouldPlayInline,mediaConfig:this.config.mediaConfig,list:this.config.list,requestParams:this.config.requestParams,metadataServiceBase:a()(this.config,"mediaConfig.metadataServiceBase",""),initialMedia:this.config.metaData,fullscreenElementId:this.config.fullscreenElementId,locale:this.config.locale,webMediaApm:this.config.webMediaApm,onMediaPlayerReady:this.onMediaPlayerReady.bind(this),countdown:a()(this.config,"countdown",7),customMetaDataLoader:this.config.customMetaDataLoader}),document.getElementById(this.config.container))}},{key:"notifyMetaDataLoaded",value:function(e){this.dispatcher.publish(Z.EmbedEvents.META_DATA_LOADED,e),this.config.eventBus.publish(Z.EmbedEvents.META_DATA_LOADED,this.config.container)}},{key:"initWrapperListeners",value:function(){var e=this;this.context=document.getElementById("".concat(this.config.playerId)),this.initRegularListeners(),this.observationCenter.embedSubject.subscribe((function(t){switch(t.type){case Z.EmbedEvents.EMBED_PLAYER_CREATED:e.dispatcher.publish(Z.EmbedEvents.EMBED_PLAYER_CREATED,t.data),e.config.eventBus.publish(Z.EmbedEvents.EMBED_PLAYER_CREATED,e.config.playerId);break;case Z.EmbedEvents.EMBED_PLAYER_READY:e.dispatcher.publish(Z.EmbedEvents.EMBED_PLAYER_READY,t.data),e.config.eventBus.publish(Z.EmbedEvents.EMBED_PLAYER_READY,e.config.playerId);break;case Z.EmbedEvents.EMBED_PREVIEW_READY:e.dispatcher.publish(Z.EmbedEvents.EMBED_PREVIEW_READY,t.data),e.config.eventBus.publish(Z.EmbedEvents.EMBED_PREVIEW_READY,e.config.playerId);break;case Z.EmbedEvents.START:e.dispatcher.publish(Z.EmbedEvents.START,t.data),e.config.eventBus.publish(Z.EmbedEvents.START,e.config.playerId);break;case Z.EmbedEvents.COMPLETE:e.dispatcher.publish(Z.EmbedEvents.COMPLETE,t.data),e.config.eventBus.publish(Z.EmbedEvents.COMPLETE,e.config.playerId);break;case Z.EmbedEvents.RESUME:e.dispatcher.publish(Z.EmbedEvents.RESUME,t.data),e.config.eventBus.publish(Z.EmbedEvents.RESUME,e.config.playerId);break;case Z.EmbedEvents.PAUSE:e.dispatcher.publish(Z.EmbedEvents.PAUSE,t.data),e.config.eventBus.publish(Z.EmbedEvents.PAUSE,e.config.playerId);break;case Z.EmbedEvents.META_DATA_LOADED:var n=e.config.contentId,r=t.data,o=a()(r,"contentId");if(n&&o&&n.toString()===o.toString())return;e.config.metaData=r,e.config.contentId=r.contentId,e.config.alias=null,e.notifyMetaDataLoaded(r);break;case Z.EmbedEvents.STOP:e.dispatcher.publish(Z.EmbedEvents.STOP,t.data),e.displayVideoPreview();break;case Z.EmbedEvents.SHOW_CLICK_TO_PLAY:e.playerShowing=!1;break;case Z.EmbedEvents.SHOW_LEAVE_BEHIND:case Z.EmbedEvents.SHOW_PLAYER:e.playerShowing=!0}}))}},{key:"initRegularListeners",value:function(){this.config.scrollMonitor&&window.addEventListener("scroll",q()(this.checkPlayerInViewport.bind(this)),100)}},{key:"playerEnteredViewport",value:function(e){e.getAttribute("id"),this.autoPlayed||!this.config.wasConfiguredToAutoPlay||this.playerShowing||(this.autoPlayed=!0,this.displayVideoPlayer())}},{key:"playerExitedViewport",value:function(e){e.getAttribute("id"),this.playerShowing&&this.displayVideoPreview()}},{key:"checkPlayerInViewport",value:function(){var e=this.context.getBoundingClientRect(),t=e.height*this.playerShowPercent,n=e.height*this.playerHidePercent,r=-t,o=window.innerHeight||document.documentElement.clientHeight,i=e.top+t,a=e.top+n;(window.pageYOffset||document.documentElement.scrollTop)>this.lastScrollTop?e.top>=r&&i<=o?this.playerEnteredViewport(this.context):this.config.closePlayerOnExitViewPort&&this.playerExitedViewport(this.context):e.top>=r&&a<=o?this.playerEnteredViewport(this.context):this.config.closePlayerOnExitViewPort&&this.playerExitedViewport(this.context)}},{key:"playClipBySlug",value:function(e){var t=this;return new Promise((function(n,r){t.loadMetaData(e).then((function(e){t.observationCenter.embedSubject.next({type:Z.EmbedEvents.SET_CLIP_METADATA,mediaItem:e}),n(e)})).catch((function(e){console.error("Error loading metadata"),r(e)}))}))}},{key:"playClipWithMetadata",value:function(e){var t=this;return new Promise((function(n){var r=a()(t.config,"mediaConfig"),o=a()(t.config,"requestParams"),i=t.getMediaItem(e,r,o);t.observationCenter.embedSubject.next({type:Z.EmbedEvents.SET_CLIP_METADATA,mediaItem:i}),n(i)}))}},{key:"updatePlaylist",value:function(e,t,n){var r=this;return new Promise((function(o){r.config.list=e,r.config.metaData=void 0,t&&(r.config.contentid=t),n&&r.mediaConfig.videocore.advertising.dfp.topicId,r.observationCenter.embedSubject.next({type:Z.EmbedEvents.UPDATE_PLAYLIST,playlistData:e,currentClipId:t,topicId:n}),o(!0)}))}},{key:"loadMetaData",value:function(e){var t=this;if(!e)return Promise.resolve(void 0);var n=this.cacheStore.get(e);if(n)return Promise.resolve(n);var r=a()(this.config,"mediaConfig"),o=a()(this.config,"requestParams"),i={contentId:e,locale:a()(this.config,"locale","en")};return this.getMediaItem(i,r,o).getMetaData().then((function(n){return t.cacheStore.set(e,n),n})).catch((function(e){console.log("Error loading metadata",e)}))}},{key:"getDispatcher",value:function(){return this.dispatcher}},{key:"getObservationCenter",value:function(){var e=this;return new Promise((function(t,n){e.observationCenter?t(e.observationCenter):e.getObservationCenterDeferred={resolve:t,reject:n}}))}},{key:"displayVideoPlayer",value:function(){this.mediaPlayer&&this.mediaPlayer.observationCenter.embedSubject.next({type:Z.EmbedEvents.SHOW_PLAYER})}},{key:"displayVideoPreview",value:function(){this.mediaPlayer&&this.mediaPlayer.observationCenter.embedSubject.next({type:Z.EmbedEvents.SHOW_CLICK_TO_PLAY})}},{key:"resetPlayback",value:function(){this.displayVideoPreview()}}])&&re(t.prototype,n),r&&re(t,r),e}(),ie=n(108),ae=n.n(ie),se=n(109),le=n.n(se);function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ce=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.playersCollection=[],this.actions={embedPlayerStart:this.onEmbedPlayerStart.bind(this)}}var t,n,r;return t=e,(n=[{key:"init",value:function(e){this.playersCollection=e}},{key:"register",value:function(e){var t=a()(e,"config"),n=e.getDispatcher();ae()(this.actions,(function(e,r){n.on(r,(function(){e({playerId:a()(t,"playerId")})}))}))}},{key:"registerInternalEmbed",value:function(e){ae()(this.actions,(function(t,n){e.on(n,(function(e){t(e)}))}))}},{key:"onEmbedPlayerStart",value:function(e){var t=le()(this.playersCollection,(function(t){return t.player.config.playerId!==e.playerId}));W()(t,(function(e){a()(e,"player.config.singlePlayerMode")&&e.player.displayVideoPreview()}))}},{key:"onEmbedMediaStart",value:function(e){var t=le()(this.playersCollection,(function(t){return t.player.config.playerId!==e.playerId}));W()(t,(function(e){a()(e,"player.config.singlePlayerMode")&&setTimeout((function(){e.player.displayVideoPreview()}),250)}))}}])&&ue(t.prototype,n),r&&ue(t,r),e}(),fe=n(138),de=n.n(fe),pe=n(21),he=n.n(pe),ge=n(139),me=n.n(ge),ve={global:{preferredPlaybackScenarios:["hlsCloud","HTTP_CLOUD_WIRED_WEB","HTTP_CLOUD_TABLET","HTTP_CLOUD_MOBILE","mp4Avc","FLASH_1800K_960X540_HD","FLASH_1800K_960X540","FLASH_1200K_640X360","FLASH_1000K_640X360"],livePlaybackScenarios:["hlsCloud","HTTP_CLOUD_WIRED_WEB","HTTP_CLOUD_TABLET","HTTP_CLOUD_MOBILE"]},pluginConfigs:[],controlsConfig:{},videocore:{tracking:{omniture:{enabled:!1},chartBeat:{enabled:!1,name:"ChartBeatPlugin",type:"ANALYTICS"}},events:{bandwagonAdapter:{enabled:!1,targetPlayerEvents:{},targetPluginEvents:{}},replicator:{enabled:!1,eventsToReplicate:[]}},advertising:{freewheel:{enabled:!1,isFreewheelSite:!1},dfp:{enabled:!1,isDFPSite:!1}}}};function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var be=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configDefaults={container:"string",fullscreenElementId:"",mediaConfig:ve,autoPlay:!1,shouldPlayInline:!0,leaveBehindEnabled:!1,closeButtonEnabled:!1,preLoadEmbed:!1,list:[],isClubPage:!1,lang:"en",deviceInfo:{formFactor:"desktop",details:{android:!1,desktop:!0,tablet:!1}},requestParams:{query:{autoPlay:!0,leaveBehindEnabled:!1,lb:"list",mute:!1}},siteSection:"video_hub",isDesktop:!0,embedSkin:"default-embed"}}var t,n,r;return t=e,(n=[{key:"recursiveDefaults",value:function(e,t,n,r,o,i){if(he()(e)||me()(t))return t}},{key:"applyDefaults",value:function(e,t){return de()(t,e,this.recursiveDefaults)}},{key:"normalizeConfig",value:function(e){var t=X()(e),n=a()(t,"fullscreenElementId"),r=a()(t,"container");return""===n&&l()(t,"fullscreenElementId",r),t}},{key:"validateConfig",value:function(e){var t=this;return new Promise((function(n,r){try{var o=t.applyDefaults(e,t.configDefaults);n(t.normalizeConfig(o))}catch(e){console.log("Error Validating Config, error"),r(e)}}))}}])&&ye(t.prototype,n),r&&ye(t,r),e}();function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=we(e);if(t){var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ee(this,n)}}function Ee(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t,n){return t&&Te(e.prototype,t),n&&Te(e,n),e}var xe=function(){function e(t){Se(this,e),this.data=t,this.topicId=a()(t,"topicId")}return ke(e,[{key:"build",value:function(){return{}}}]),e}(),Pe=function(e){Ce(n,e);var t=_e(n);function n(e){var r;return Se(this,n),(r=t.call(this,e)).currentConfig=a()(r.data,"mediaConfig.videocore.advertising.dfp.vpp"),r}return ke(n,[{key:"build",value:function(){return{dfp:{iu:a()(this.currentConfig,"iu","/2605/mlb.video/{site_section}/{platform}/{device}"),sz:a()(this.currentConfig,"sz","640x480"),gameday:a()(this.currentConfig,"gameday",{teamname:"gameday",siteSection:"deskt.video"})},cust_params:{pageid:a()(this.currentConfig,"cust_params.pageid","topic_video_{topic_id}").replace("{topic_id}",this.topicId),env:a()(this.currentConfig,"cust_params.env","production")}}}}]),n}(xe),Oe=function(e){Ce(n,e);var t=_e(n);function n(e){var r;return Se(this,n),(r=t.call(this,e)).currentConfig=a()(r.data,"mediaConfig.videocore.advertising.dfp.team"),r}return ke(n,[{key:"build",value:function(){var e=a()(this.data,"teamId");return{dfp:{iu:a()(this.currentConfig,"iu","/2605/mlb.video/{site_section}/{platform}/{device}").replace("{team_id}",e),sz:a()(this.currentConfig,"sz","640x480"),gameday:a()(this.currentConfig,"gameday",{teamname:"gameday",siteSection:"deskt.video"})},cust_params:{pageid:a()(this.currentConfig,"cust_params.pageid","topic_video_{topic_id}").replace("{topic_id}",this.topicId),env:a()(this.currentConfig,"cust_params.env","production")}}}}]),n}(xe),Le=function(){function e(){Se(this,e)}return ke(e,null,[{key:"getBuilder",value:function(e,t){return e.isClubPage?new Oe(e,t):new Pe(e,t)}}]),e}(),De=function(){function e(){Se(this,e)}return ke(e,null,[{key:"getDevice",value:function(e){var t=e.details,n=t.android,r=t.desktop,o=t.tablet,i=[{isCurrent:r,id:""},{isCurrent:!r&&!n&&o,id:"/ipad"},{isCurrent:!r&&n,id:"/android"},{isCurrent:!r&&!n&&!o,id:"/iphone"}];return c()(i,(function(e){return e.isCurrent})).id}},{key:"buildSiteSection",value:function(e,t){var n=""===e?"mlb_":"".concat(e,"_");return t.replace(n,"")}},{key:"buildIU",value:function(e,t,n,r,o,i){var s=t,l=n,u=a()(e,"dfp.iu");return n.indexOf("gameday")>1&&(s=a()(e,"dfp.gameday.teamname","gameday"),l=a()(e,"dfp.gameday.siteSection","desktop_live")),u=u.replace("{team_name}",s).replace("{lang}",r).replace("{site_section}",l).replace("{platform}",o).replace("/{device}",i,"")}},{key:"buildAdConfig",value:function(t){var n=a()(t,"mediaConfig.videocore.advertising"),r=Le.getBuilder(t).build();z()(n,r);var o="es"===a()(t,"lang")?"es.":"",i=a()(t,"deviceFormFactor","desktop"),s=this.getDevice(a()(t,"deviceInfo")),u=a()(t,"club",""),c=a()(t,"siteSection","video_hub");return c=e.buildSiteSection(u,c),t.isEmbed&&l()(n,"dfp.iu",a()(n,"dfp.embed.iu")),n.dfp.iu=e.buildIU(n,u,c,o,i,s),n.dfp.description_url=e.getCurrentUrl(),n.dfp.correlator=(new Date).getTime(),n.dfp.npa=1,n.dfp.pp="desktop"!==a()(t,"deviceInfo.formFactor")?"mlb_csai_vod_mobile":"mlb_csai_vod_desktop",n.dfp.vid=a()(t,"videoId"),n.dfp.topicId=a()(t,"topicId"),n}},{key:"getCurrentUrl",value:function(){return window.location.href}}]),e}();function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Re=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=void 0,this.EVENT_BUS_KEY="embed-event-bus",this.PLAYER_EVENTS=Z.EmbedEvents,this.eventBus=h.a.getInstanceByKey(this.EVENT_BUS_KEY),this.playersMap=[],this.appCfg={cmsDataRoot:null,cmsDataEndpoint:null,locale:"en",scrollMonitor:!1,closePlayerOnExitViewPort:!1,singlePlayerMode:!1,leaveBehindEnabled:!1,closeButtonEnabled:!0},this.factoryActions=new ce,console.info("MLB PLAYER VERSION","4.9.0")}var t,n,r;return t=e,r=[{key:"staticInit",value:function(t){return e._instance||(e._instance=(new e).init(t)),e._instance}},{key:"resetStaticInit",value:function(){e._instance.config=null,e._instance.factoryActions.playersCollection=null,e._instance=null}}],(n=[{key:"init",value:function(e){return this.config=e||{},this.isDesktop=a()(this.config,"isDesktop",!0),this.factoryActions.init(this.playersMap),this.config.closeButtonEnabled&&(this.config.closeButtonEnabled=this.config.closeButtonEnabled&&this.isDesktop),this.config=o()(this.appCfg,this.config),this.listenToMessages(),this}},{key:"registerPlayer",value:function(e,t){this.factoryActions.register(t),this.playersMap.push({key:e,player:t})}},{key:"messageHandler",value:function(e){var t=e.data,n=t.type,r=this.getPlayer(t.playerId);r&&r.getDispatcher().publish(n,t.payload)}},{key:"listenToMessages",value:function(){var e=window.addEventListener?"addEventListener":"attachEvent";(0,window[e])("attachEvent"===e?"onmessage":"message",this.messageHandler.bind(this),!1)}},{key:"ensureAutoplayConfig",value:function(e){return e.scrollMonitor&&(e.singlePlayerMode=!0,e.wasConfiguredToAutoPlay=e.autoPlay,e.autoPlay=!1),e}},{key:"createNewPlayerConfig",value:function(e){var t=o()({},this.appCfg,e);t.fullscreenElementId=a()(e,"fullscreenElementId"),t.eventBus=this.eventBus,t.playerId=t.playerId?t.playerId:d()("embed_player_");var n=a()(t,"dynamicAdConfig.buildAdConfig.enabled",!0),r=a()(t,"dynamicAdConfig.buildAdConfig.callback"),i=a()(t,"dynamicAdConfig.customAdRequestBuilder"),s=a()(t,"dynamicAdConfig.buildMediaItemAdConfig");return l()(t,"mediaConfig.videocore.advertising.customAdRequestBuilder",i),l()(t,"mediaConfig.videocore.advertising.getMediaItemAdConfig",s),n&&r&&"function"==typeof r?l()(t,"mediaConfig.videocore.advertising",r(t)):n&&l()(t,"mediaConfig.videocore.advertising",De.buildAdConfig(t)),l()(t,"mediaConfig.metadataServiceBase",a()(this.config,"cmsDataRoot")),t}},{key:"createPlayer",value:function(e){var t=this;return(new be).validateConfig(e).then((function(e){var n=t.createNewPlayerConfig(e),r=t.ensureAutoplayConfig(n),o=new oe(r);return t.registerPlayer(e.playerId,o),o})).catch((function(t){console.log("Error validating the player config",t,e)}))}},{key:"insertPlayer",value:function(e){console.warn("embedPlayer.insertPlayer() is deprecated. use embedPlayer.createPlayer() instead"),this.createPlayer(e)}},{key:"getPlayer",value:function(e){return a()(c()(this.playersMap,{key:e}),"player")}},{key:"getEventBus",value:function(){return this.eventBus}},{key:"getAvailableEvents",value:function(){return Z.EmbedEvents}}])&&je(t.prototype,n),r&&je(t,r),e}();Re.prototype._instance=null;var Me=Re,Ne=n(39)}])},e.exports=r(n(345),n(706))}).call(this,n(2))},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)i.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}},,,function(e,t,n){"use strict";var r,o;r=[n(21)],void 0===(o=function(e){return function(t){var n,r,o,i,a,s,l=window.adobeAnalytics,u=e.page_name||"";t&&(t.url&&(i=t.url),t.component&&(a=t.component),t.location&&(s=t.location)),l&&(r=l.eVar34?l.eVar34:l.prop15?l.prop15.substr(0,l.prop15.indexOf(":")):"unknown",o=l.eVar35?l.eVar35:l.prop15?l.prop15.substr(l.prop15.indexOf(":")+2,l.prop15.length):"unknown",n=l.pageName?l.pageName:u);var c,f,d,p=[e.page_name||"unknown",e.page_section||"unknown",n||"na",a||"na",s||"x0",r||"unknown",o||"unknown"].map((function(e){return e.replace(/(\s|-)/g,"_")||"na"})).join("-");return i?(f=p,((d=!/^https?:\/\//.test(c=i)||/.mlb.com/.test(c.replace(/^(https?:)?\/\//,"").split("/")[0]))?"affiliateId":"tfl")+"="+(d?"tdl-":"")+f):p}}.apply(t,r))||(e.exports=o)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(16),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r.a?r.a.toStringTag:void 0;t.a=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t,n){"use strict";var r=Object.prototype.toString;t.a=function(e){return r.call(e)}},function(e,t,n){"use strict";var r=n(251),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=Object(r.a)((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));t.a=a},function(e,t,n){"use strict";var r=n(252);t.a=function(e){var t=Object(r.a)(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){"use strict";var r=n(84);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r.a),n}o.Cache=r.a,t.a=o},function(e,t,n){"use strict";var r=n(185),o=n(61),i=n(71);t.a=function(){this.size=0,this.__data__={hash:new r.a,map:new(i.a||o.a),string:new r.a}}},function(e,t,n){"use strict";var r=n(52);t.a=function(){this.__data__=r.a?Object(r.a)(null):{},this.size=0}},function(e,t,n){"use strict";t.a=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){"use strict";var r=n(101),o=n(257),i=n(19),a=n(55),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.a=function(e){return!(!Object(i.a)(e)||Object(o.a)(e))&&(Object(r.default)(e)?d:s).test(Object(a.a)(e))}},function(e,t,n){"use strict";var r,o=n(154),i=(r=/[^.]+$/.exec(o.a&&o.a.keys&&o.a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.a=function(e){return!!i&&i in e}},function(e,t,n){"use strict";t.a=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){"use strict";var r=n(52),o=Object.prototype.hasOwnProperty;t.a=function(e){var t=this.__data__;if(r.a){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){"use strict";var r=n(52),o=Object.prototype.hasOwnProperty;t.a=function(e){var t=this.__data__;return r.a?void 0!==t[e]:o.call(t,e)}},function(e,t,n){"use strict";var r=n(52);t.a=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r.a&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){"use strict";t.a=function(){this.__data__=[],this.size=0}},function(e,t,n){"use strict";var r=n(62),o=Array.prototype.splice;t.a=function(e){var t=this.__data__,n=Object(r.a)(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t,n){"use strict";var r=n(62);t.a=function(e){var t=this.__data__,n=Object(r.a)(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){"use strict";var r=n(62);t.a=function(e){return Object(r.a)(this.__data__,e)>-1}},function(e,t,n){"use strict";var r=n(62);t.a=function(e,t){var n=this.__data__,o=Object(r.a)(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){"use strict";var r=n(64);t.a=function(e){var t=Object(r.a)(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){"use strict";var r=n(64);t.a=function(e){return Object(r.a)(this,e).get(e)}},function(e,t,n){"use strict";var r=n(64);t.a=function(e){return Object(r.a)(this,e).has(e)}},function(e,t,n){"use strict";var r=n(64);t.a=function(e,t){var n=Object(r.a)(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){"use strict";var r=n(273);t.a=function(e){return null==e?"":Object(r.a)(e)}},function(e,t,n){"use strict";var r=n(16),o=n(142),i=n(7),a=n(42),s=r.a?r.a.prototype:void 0,l=s?s.toString:void 0;t.a=function e(t){if("string"==typeof t)return t;if(Object(i.a)(t))return Object(o.a)(t,e)+"";if(Object(a.a)(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){"use strict";var r=n(275);t.a=function(e){return e?(e=Object(r.a)(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){"use strict";var r=n(276),o=n(19),i=n(42),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;t.a=function(e){if("number"==typeof e)return e;if(Object(i.a)(e))return NaN;if(Object(o.a)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(o.a)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Object(r.a)(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){"use strict";var r=n(277),o=/^\s+/;t.a=function(e){return e?e.slice(0,Object(r.a)(e)+1).replace(o,""):e}},function(e,t,n){"use strict";var r=/\s/;t.a=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},function(e,t,n){"use strict";var r=n(72),o=n(144),i=n(291),a=n(294),s=n(37),l=n(7),u=n(86),c=n(143),f="[object Object]",d=Object.prototype.hasOwnProperty;t.a=function(e,t,n,p,h,g){var m=Object(l.a)(e),v=Object(l.a)(t),y=m?"[object Array]":Object(s.a)(e),b=v?"[object Array]":Object(s.a)(t),A=(y="[object Arguments]"==y?f:y)==f,C=(b="[object Arguments]"==b?f:b)==f,I=y==b;if(I&&Object(u.a)(e)){if(!Object(u.a)(t))return!1;m=!0,A=!1}if(I&&!A)return g||(g=new r.a),m||Object(c.a)(e)?Object(o.a)(e,t,n,p,h,g):Object(i.a)(e,t,y,n,p,h,g);if(!(1&n)){var _=A&&d.call(e,"__wrapped__"),E=C&&d.call(t,"__wrapped__");if(_||E){var w=_?e.value():e,S=E?t.value():t;return g||(g=new r.a),h(w,S,n,p,g)}}return!!I&&(g||(g=new r.a),Object(a.a)(e,t,n,p,h,g))}},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";var r=n(61);t.a=function(){this.__data__=new r.a,this.size=0}},function(e,t,n){"use strict";t.a=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t,n){"use strict";t.a=function(e){return this.__data__.get(e)}},function(e,t,n){"use strict";t.a=function(e){return this.__data__.has(e)}},function(e,t,n){"use strict";var r=n(61),o=n(71),i=n(84);t.a=function(e,t){var n=this.__data__;if(n instanceof r.a){var a=n.__data__;if(!o.a||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i.a(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){"use strict";var r=n(25),o=n(103),i=n(18),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.a=function(e){return Object(i.a)(e)&&Object(o.a)(e.length)&&!!a[Object(r.a)(e)]}},function(e,t,n){"use strict";var r=n(84),o=n(287),i=n(288);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r.a;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o.a,a.prototype.has=i.a,t.a=a},function(e,t,n){"use strict";t.a=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t,n){"use strict";t.a=function(e){return this.__data__.has(e)}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){"use strict";t.a=function(e,t){return e.has(t)}},function(e,t,n){"use strict";var r=n(16),o=n(109),i=n(63),a=n(144),s=n(292),l=n(293),u=r.a?r.a.prototype:void 0,c=u?u.valueOf:void 0;t.a=function(e,t,n,r,u,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o.a(e),new o.a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(i.a)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s.a;case"[object Set]":var h=1&r;if(p||(p=l.a),e.size!=t.size&&!h)return!1;var g=d.get(e);if(g)return g==t;r|=2,d.set(e,t);var m=Object(a.a)(p(e),p(t),r,u,f,d);return d.delete(e),m;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},function(e,t,n){"use strict";t.a=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t,n){"use strict";t.a=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){"use strict";var r=n(117),o=Object.prototype.hasOwnProperty;t.a=function(e,t,n,i,a,s){var l=1&n,u=Object(r.a)(e),c=u.length;if(c!=Object(r.a)(t).length&&!l)return!1;for(var f=c;f--;){var d=u[f];if(!(l?d in t:o.call(t,d)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=l;++f<c;){var v=e[d=u[f]],y=t[d];if(i)var b=l?i(y,v,d,t,e,s):i(v,y,d,e,t,s);if(!(void 0===b?v===y||a(v,y,n,i,s):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var A=e.constructor,C=t.constructor;A==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof C&&C instanceof C||(g=!1)}return s.delete(e),s.delete(t),g}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){"use strict";var r=n(148),o=Object(r.a)(Object.keys,Object);t.a=o},,,,,,,,,,function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&p())}function p(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||e.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(o,i)}}},function(e,t,n){"use strict";e.exports=function(){var e=null,t=null;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]}},,function(e,t,n){
/**!

 @license
 handlebars v4.7.7

Copyright (C) 2011-2019 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(){var e=d();return e.compile=function(t,n){return l.compile(t,n,e)},e.precompile=function(t,n){return l.precompile(t,n,e)},e.AST=a.default,e.Compiler=l.Compiler,e.JavaScriptCompiler=u.default,e.Parser=s.parser,e.parse=s.parse,e.parseWithoutProcessing=s.parseWithoutProcessing,e}var o=n(1).default;t.__esModule=!0;var i=o(n(2)),a=o(n(45)),s=n(46),l=n(51),u=o(n(52)),c=o(n(49)),f=o(n(44)),d=i.default.create,p=r();p.create=r,f.default(p),p.Visitor=c.default,p.default=p,t.default=p,e.exports=t.default},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(e,t,n){"use strict";function r(){var e=new a.HandlebarsEnvironment;return u.extend(e,a),e.SafeString=s.default,e.Exception=l.default,e.Utils=u,e.escapeExpression=u.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var o=n(3).default,i=n(1).default;t.__esModule=!0;var a=o(n(4)),s=i(n(37)),l=i(n(6)),u=o(n(5)),c=o(n(38)),f=i(n(44)),d=r();d.create=r,f.default(d),d.default=d,t.default=d,e.exports=t.default},function(e,t){"use strict";t.default=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.__esModule=!0},function(e,t,n){"use strict";function r(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},s.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var o=n(1).default;t.__esModule=!0,t.HandlebarsEnvironment=r;var i=n(5),a=o(n(6)),s=n(10),l=n(30),u=o(n(32)),c=n(33);t.VERSION="4.7.7",t.COMPILER_REVISION=8,t.LAST_COMPATIBLE_COMPILER_REVISION=7,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var f="[object Object]";r.prototype={constructor:r,logger:u.default,log:u.default.log,registerHelper:function(e,t){if(i.toString.call(e)===f){if(t)throw new a.default("Arg not supported with multiple helpers");i.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(i.toString.call(e)===f)i.extend(this.partials,e);else{if(void 0===t)throw new a.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(i.toString.call(e)===f){if(t)throw new a.default("Arg not supported with multiple decorators");i.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var d=u.default.log;t.log=d,t.createFrame=i.createFrame,t.logger=u.default},function(e,t){"use strict";function n(e){return o[e]}function r(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}t.__esModule=!0,t.extend=r,t.indexOf=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return a.test(e)?e.replace(i,n):e},t.isEmpty=function(e){return!e&&0!==e||!(!u(e)||0!==e.length)},t.createFrame=function(e){var t=r({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},i=/[&<>"'`=]/g,a=/[&<>"'`=]/,s=Object.prototype.toString;t.toString=s;var l=function(e){return"function"==typeof e};l(/x/)&&(t.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===s.call(e)}),t.isFunction=l;var u=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===s.call(e)};t.isArray=u},function(e,t,n){"use strict";function r(e,t){var n=t&&t.loc,a=void 0,s=void 0,l=void 0,u=void 0;n&&(a=n.start.line,s=n.end.line,l=n.start.column,u=n.end.column,e+=" - "+a+":"+l);for(var c=Error.prototype.constructor.call(this,e),f=0;f<i.length;f++)this[i[f]]=c[i[f]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{n&&(this.lineNumber=a,this.endLineNumber=s,o?(Object.defineProperty(this,"column",{value:l,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:u,enumerable:!0})):(this.column=l,this.endColumn=u))}catch(e){}}var o=n(7).default;t.__esModule=!0;var i=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];r.prototype=new Error,t.default=r,e.exports=t.default},function(e,t,n){e.exports={default:n(8),__esModule:!0}},function(e,t,n){var r=n(9);e.exports=function(e,t,n){return r.setDesc(e,t,n)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";var r=n(1).default;t.__esModule=!0,t.registerDefaultHelpers=function(e){o.default(e),i.default(e),a.default(e),s.default(e),l.default(e),u.default(e),c.default(e)},t.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var o=r(n(11)),i=r(n(12)),a=r(n(25)),s=r(n(26)),l=r(n(27)),u=r(n(28)),c=r(n(29))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5);t.default=function(e){e.registerHelper("blockHelperMissing",(function(t,n){var o=n.inverse,i=n.fn;if(!0===t)return i(this);if(!1===t||null==t)return o(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):o(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return i(t,n)}))},e.exports=t.default},function(e,t,n){(function(r){"use strict";var o=n(13).default,i=n(1).default;t.__esModule=!0;var a=n(5),s=i(n(6));t.default=function(e){e.registerHelper("each",(function(e,t){function n(t,n,r){f&&(f.key=t,f.index=n,f.first=0===n,f.last=!!r,d&&(f.contextPath=d+t)),c+=i(e[t],{data:f,blockParams:a.blockParams([e[t],t],[d+t,null])})}if(!t)throw new s.default("Must pass iterator to #each");var i=t.fn,l=t.inverse,u=0,c="",f=void 0,d=void 0;if(t.data&&t.ids&&(d=a.appendContextPath(t.data.contextPath,t.ids[0])+"."),a.isFunction(e)&&(e=e.call(this)),t.data&&(f=a.createFrame(t.data)),e&&"object"==typeof e)if(a.isArray(e))for(var p=e.length;u<p;u++)u in e&&n(u,u,u===e.length-1);else if(r.Symbol&&e[r.Symbol.iterator]){for(var h=[],g=e[r.Symbol.iterator](),m=g.next();!m.done;m=g.next())h.push(m.value);for(p=(e=h).length;u<p;u++)n(u,u,u===e.length-1)}else!function(){var t=void 0;o(e).forEach((function(e){void 0!==t&&n(t,u-1),t=e,u++})),void 0!==t&&n(t,u-1,!0)}();return 0===u&&(c=l(this)),c}))},e.exports=t.default}).call(t,function(){return this}())},function(e,t,n){e.exports={default:n(14),__esModule:!0}},function(e,t,n){n(15),e.exports=n(21).Object.keys},function(e,t,n){var r=n(16);n(18)("keys",(function(e){return function(t){return e(r(t))}}))},function(e,t,n){var r=n(17);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(19),o=n(21),i=n(24);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},function(e,t,n){var r=n(20),o=n(21),i=n(22),a="prototype",s=function(e,t,n){var l,u,c,f=e&s.F,d=e&s.G,p=e&s.S,h=e&s.P,g=e&s.B,m=e&s.W,v=d?o:o[t]||(o[t]={}),y=d?r:p?r[t]:(r[t]||{})[a];for(l in d&&(n=t),n)(u=!f&&y&&l in y)&&l in v||(c=u?y[l]:n[l],v[l]=d&&"function"!=typeof y[l]?n[l]:g&&u?i(c,r):m&&y[l]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(c):h&&"function"==typeof c?i(Function.call,c):c,h&&((v[a]||(v[a]={}))[l]=c))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(23);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r=n(1).default;t.__esModule=!0;var o=r(n(6));t.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},e.exports=t.default},function(e,t,n){"use strict";var r=n(1).default;t.__esModule=!0;var o=n(5),i=r(n(6));t.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new i.default("#if requires exactly one argument");return o.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new i.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),t[0]=o,e.log.apply(e,t)}))},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",(function(e,t,n){return e?n.lookupProperty(e,t):e}))},e.exports=t.default},function(e,t,n){"use strict";var r=n(1).default;t.__esModule=!0;var o=n(5),i=r(n(6));t.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new i.default("#with requires exactly one argument");o.isFunction(e)&&(e=e.call(this));var n=t.fn;if(o.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&((r=o.createFrame(t.data)).contextPath=o.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:o.blockParams([e],[r&&r.contextPath])})}))},e.exports=t.default},function(e,t,n){"use strict";var r=n(1).default;t.__esModule=!0,t.registerDefaultDecorators=function(e){o.default(e)};var o=r(n(31))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5);t.default=function(e){e.registerDecorator("inline",(function(e,t,n,o){var i=e;return t.partials||(t.partials={},i=function(o,i){var a=n.partials;n.partials=r.extend({},a,t.partials);var s=e(o,i);return n.partials=a,s}),t.partials[o.args[0]]=o.fn,i}))},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=r.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console[t].apply(console,r)}}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==u[e]&&(u[e]=!0,l.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}var o=n(34).default,i=n(13).default,a=n(3).default;t.__esModule=!0,t.createProtoAccessControl=function(e){var t=o(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=o(null);return n.__proto__=!1,{properties:{whitelist:s.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:s.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},t.resultIsAllowed=function(e,t,n){return r("function"==typeof e?t.methods:t.properties,n)},t.resetLoggedProperties=function(){i(u).forEach((function(e){delete u[e]}))};var s=n(36),l=a(n(32)),u=o(null)},function(e,t,n){e.exports={default:n(35),__esModule:!0}},function(e,t,n){var r=n(9);e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){"use strict";var r=n(34).default;t.__esModule=!0,t.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.extend.apply(void 0,[r(null)].concat(t))};var o=n(5)},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n,r,o,i,s){function l(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return!s||t==s[0]||t===e.nullContext&&null===s[0]||(a=[t].concat(s)),n(e,t,e.helpers,e.partials,o.data||r,i&&[o.blockParams].concat(i),a)}return(l=a(n,l,e,s,r,i)).program=t,l.depth=s?s.length:0,l.blockParams=o||0,l}function o(){return""}function i(e,t){return t&&"root"in t||((t=t?p.createFrame(t):{}).root=e),t}function a(e,t,n,r,o,i){if(e.decorator){var a={};t=e.decorator(t,a,n,r&&r[0],o,i,r),f.extend(t,a)}return t}var s=n(39).default,l=n(13).default,u=n(3).default,c=n(1).default;t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=p.COMPILER_REVISION;if(!(t>=p.LAST_COMPATIBLE_COMPILER_REVISION&&t<=p.COMPILER_REVISION)){if(t<p.LAST_COMPATIBLE_COMPILER_REVISION){var r=p.REVISION_CHANGES[n],o=p.REVISION_CHANGES[t];throw new d.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+o+").")}throw new d.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(e,t){function n(t){function r(t){return""+e.main(u,t,u.helpers,u.partials,s,c,l)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=o.data;n._setup(o),!o.partial&&e.useData&&(s=i(t,s));var l=void 0,c=e.useBlockParams?[]:void 0;return e.useDepths&&(l=o.depths?t!=o.depths[0]?[t].concat(o.depths):o.depths:[t]),(r=a(e.main,r,u,o.depths||[],s,c))(t,o)}if(!t)throw new d.default("No environment passed to template");if(!e||!e.main)throw new d.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var o=e.compiler&&7===e.compiler[0],u={strict:function(e,t,n){if(!e||!(t in e))throw new d.default('"'+t+'" not defined in '+e,{loc:n});return u.lookupProperty(e,t)},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||m.resultIsAllowed(n,u.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,r=0;r<n;r++)if(null!=(e[r]&&u.lookupProperty(e[r],t)))return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:f.escapeExpression,invokePartial:function(n,r,o){o.hash&&(r=f.extend({},r,o.hash),o.ids&&(o.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,o);var i=f.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),a=t.VM.invokePartial.call(this,n,r,i);if(null==a&&t.compile&&(o.partials[o.name]=t.compile(n,e.compilerOptions,t),a=o.partials[o.name](r,i)),null!=a){if(o.indent){for(var s=a.split("\n"),l=0,u=s.length;l<u&&(s[l]||l+1!==u);l++)s[l]=o.indent+s[l];a=s.join("\n")}return a}throw new d.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,o,i){var a=this.programs[e],s=this.fn(e);return t||i||o||n?a=r(this,e,s,t,n,o,i):a||(a=this.programs[e]=r(this,e,s)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=f.extend({},t,e)),n},nullContext:s({}),noop:t.VM.noop,compilerInfo:e.compiler};return n.isTop=!0,n._setup=function(n){if(n.partial)u.protoAccessControl=n.protoAccessControl,u.helpers=n.helpers,u.partials=n.partials,u.decorators=n.decorators,u.hooks=n.hooks;else{var r=f.extend({},t.helpers,n.helpers);(function(e,t){l(e).forEach((function(n){var r=e[n];e[n]=function(e,t){var n=t.lookupProperty;return g.wrapHelper(e,(function(e){return f.extend({lookupProperty:n},e)}))}(r,t)}))})(r,u),u.helpers=r,e.usePartial&&(u.partials=u.mergeIfNeeded(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(u.decorators=f.extend({},t.decorators,n.decorators)),u.hooks={},u.protoAccessControl=m.createProtoAccessControl(n);var i=n.allowCallsToHelperMissing||o;h.moveHelperToHooks(u,"helperMissing",i),h.moveHelperToHooks(u,"blockHelperMissing",i)}},n._child=function(t,n,o,i){if(e.useBlockParams&&!o)throw new d.default("must pass block params");if(e.useDepths&&!i)throw new d.default("must pass parent depths");return r(u,t,e[t],n,0,o,i)},n},t.wrapProgram=r,t.resolvePartial=function(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e},t.invokePartial=function(e,t,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==o&&function(){n.data=p.createFrame(n.data);var e=n.fn;i=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=p.createFrame(n.data),n.data["partial-block"]=r,e(t,n)},e.partials&&(n.partials=f.extend({},n.partials,e.partials))}(),void 0===e&&i&&(e=i),void 0===e)throw new d.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=o;var f=u(n(5)),d=c(n(6)),p=n(4),h=n(10),g=n(43),m=n(33)},function(e,t,n){e.exports={default:n(40),__esModule:!0}},function(e,t,n){n(41),e.exports=n(21).Object.seal},function(e,t,n){var r=n(42);n(18)("seal",(function(e){return function(t){return e&&r(t)?e(t):t}}))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){"use strict";t.__esModule=!0,t.wrapHelper=function(e,t){return"function"!=typeof e?e:function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=t(n),e.apply(this,arguments)}}},function(e,t){(function(n){"use strict";t.__esModule=!0,t.default=function(e){var t=void 0!==n?n:window,r=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=r),e}},e.exports=t.default}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return"Program"===e.type?e:(a.default.yy=c,c.locInfo=function(e){return new c.SourceLocation(t&&t.srcName,e)},a.default.parse(e))}var o=n(1).default,i=n(3).default;t.__esModule=!0,t.parseWithoutProcessing=r,t.parse=function(e,t){var n=r(e,t);return new s.default(t).accept(n)};var a=o(n(47)),s=o(n(48)),l=i(n(50)),u=n(5);t.parser=a.default;var c={};u.extend(c,l)},function(e,t){"use strict";t.__esModule=!0;var n=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,r,o,i,a){var s=i.length-1;switch(o){case 1:return i[s-1];case 2:this.$=r.prepareProgram(i[s]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=i[s];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(i[s]),strip:r.stripFlags(i[s],i[s]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:i[s],value:i[s],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(i[s-2],i[s-1],i[s],this._$);break;case 12:this.$={path:i[s-3],params:i[s-2],hash:i[s-1]};break;case 13:this.$=r.prepareBlock(i[s-3],i[s-2],i[s-1],i[s],!1,this._$);break;case 14:this.$=r.prepareBlock(i[s-3],i[s-2],i[s-1],i[s],!0,this._$);break;case 15:this.$={open:i[s-5],path:i[s-4],params:i[s-3],hash:i[s-2],blockParams:i[s-1],strip:r.stripFlags(i[s-5],i[s])};break;case 16:case 17:this.$={path:i[s-4],params:i[s-3],hash:i[s-2],blockParams:i[s-1],strip:r.stripFlags(i[s-5],i[s])};break;case 18:this.$={strip:r.stripFlags(i[s-1],i[s-1]),program:i[s]};break;case 19:var l=r.prepareBlock(i[s-2],i[s-1],i[s],i[s],!1,this._$),u=r.prepareProgram([l],i[s-1].loc);u.chained=!0,this.$={strip:i[s-2].strip,program:u,chain:!0};break;case 20:this.$=i[s];break;case 21:this.$={path:i[s-1],strip:r.stripFlags(i[s-2],i[s])};break;case 22:case 23:this.$=r.prepareMustache(i[s-3],i[s-2],i[s-1],i[s-4],r.stripFlags(i[s-4],i[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:i[s-3],params:i[s-2],hash:i[s-1],indent:"",strip:r.stripFlags(i[s-4],i[s]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(i[s-2],i[s-1],i[s],this._$);break;case 26:this.$={path:i[s-3],params:i[s-2],hash:i[s-1],strip:r.stripFlags(i[s-4],i[s])};break;case 27:case 28:this.$=i[s];break;case 29:this.$={type:"SubExpression",path:i[s-3],params:i[s-2],hash:i[s-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:i[s],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(i[s-2]),value:i[s],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(i[s-1]);break;case 33:case 34:this.$=i[s];break;case 35:this.$={type:"StringLiteral",value:i[s],original:i[s],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(i[s]),original:Number(i[s]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===i[s],original:"true"===i[s],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:case 41:this.$=i[s];break;case 42:this.$=r.preparePath(!0,i[s],this._$);break;case 43:this.$=r.preparePath(!1,i[s],this._$);break;case 44:i[s-2].push({part:r.id(i[s]),original:i[s],separator:i[s-1]}),this.$=i[s-2];break;case 45:this.$=[{part:r.id(i[s]),original:i[s]}];break;case 46:this.$=[];break;case 47:i[s-1].push(i[s]);break;case 48:this.$=[];break;case 49:i[s-1].push(i[s]);break;case 50:this.$=[];break;case 51:i[s-1].push(i[s]);break;case 58:this.$=[];break;case 59:i[s-1].push(i[s]);break;case 64:this.$=[];break;case 65:i[s-1].push(i[s]);break;case 70:this.$=[];break;case 71:i[s-1].push(i[s]);break;case 78:this.$=[];break;case 79:i[s-1].push(i[s]);break;case 82:this.$=[];break;case 83:i[s-1].push(i[s]);break;case 86:this.$=[];break;case 87:i[s-1].push(i[s]);break;case 90:this.$=[];break;case 91:i[s-1].push(i[s]);break;case 94:this.$=[];break;case 95:i[s-1].push(i[s]);break;case 98:this.$=[i[s]];break;case 99:i[s-1].push(i[s]);break;case 100:this.$=[i[s]];break;case 101:i[s-1].push(i[s])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return"number"!=typeof(e=n.lexer.lex()||1)&&(e=n.symbols_[e]||e),e}var n=this,r=[0],o=[null],i=[],a=this.table,s="",l=0,u=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var f=this.lexer.yylloc;i.push(f);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,h,g,m,v,y,b,A,C,I={};;){if(g=r[r.length-1],this.defaultActions[g]?m=this.defaultActions[g]:(null!=p||(p=t()),m=a[g]&&a[g][p]),void 0===m||!m.length||!m[0]){var _="";if(!c){for(y in C=[],a[g])this.terminals_[y]&&y>2&&C.push("'"+this.terminals_[y]+"'");_=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(_,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:f,expected:C})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+p);switch(m[0]){case 1:r.push(p),o.push(this.lexer.yytext),i.push(this.lexer.yylloc),r.push(m[1]),p=null,h?(p=h,h=null):(u=this.lexer.yyleng,s=this.lexer.yytext,l=this.lexer.yylineno,f=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[m[1]][1],I.$=o[o.length-b],I._$={first_line:i[i.length-(b||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(b||1)].first_column,last_column:i[i.length-1].last_column},d&&(I._$.range=[i[i.length-(b||1)].range[0],i[i.length-1].range[1]]),void 0!==(v=this.performAction.call(I,s,u,l,this.yy,m[1],o,i)))return v;b&&(r=r.slice(0,-1*b*2),o=o.slice(0,-1*b),i=i.slice(0,-1*b)),r.push(this.productions_[m[1]][0]),o.push(I.$),i.push(I._$),A=a[r[r.length-2]][r[r.length-1]],r.push(A);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,r,o;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length&&(!(n=this._input.match(this.rules[i[a]]))||t&&!(n[0].length>t[0].length)||(t=n,r=a,this.options.flex));a++);return t?((o=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,i[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,r){function o(e,n){return t.yytext=t.yytext.substring(e,t.yyleng-n+e)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(o(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(o(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(o(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=o(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=o(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return e}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function o(e,t,n){void 0===t&&(t=e.length);var r=e[t-1],o=e[t-2];return r?"ContentStatement"===r.type?(o||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:n}function i(e,t,n){void 0===t&&(t=-1);var r=e[t+1],o=e[t+2];return r?"ContentStatement"===r.type?(o||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:n}function a(e,t,n){var r=e[null==t?0:t+1];if(r&&"ContentStatement"===r.type&&(n||!r.rightStripped)){var o=r.value;r.value=r.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.value!==o}}function s(e,t,n){var r=e[null==t?e.length-1:t-1];if(r&&"ContentStatement"===r.type&&(n||!r.leftStripped)){var o=r.value;return r.value=r.value.replace(n?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.value!==o,r.leftStripped}}var l=n(1).default;t.__esModule=!0;var u=l(n(49));r.prototype=new u.default,r.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var r=e.body,l=0,u=r.length;l<u;l++){var c=r[l],f=this.accept(c);if(f){var d=o(r,l,n),p=i(r,l,n),h=f.openStandalone&&d,g=f.closeStandalone&&p,m=f.inlineStandalone&&d&&p;f.close&&a(r,l,!0),f.open&&s(r,l,!0),t&&m&&(a(r,l),s(r,l)&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(r[l-1].original)[1])),t&&h&&(a((c.program||c.inverse).body),s(r,l)),t&&g&&(a(r,l),s((c.inverse||c.program).body))}}return e},r.prototype.BlockStatement=r.prototype.DecoratorBlock=r.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,r=n,l=n;if(n&&n.chained)for(r=n.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var u={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:i(t.body),closeStandalone:o((r||t).body)};if(e.openStrip.close&&a(t.body,null,!0),n){var c=e.inverseStrip;c.open&&s(t.body,null,!0),c.close&&a(r.body,null,!0),e.closeStrip.open&&s(l.body,null,!0),!this.options.ignoreStandalone&&o(t.body)&&i(r.body)&&(s(t.body),a(r.body))}else e.closeStrip.open&&s(t.body,null,!0);return u},r.prototype.Decorator=r.prototype.MustacheStatement=function(e){return e.strip},r.prototype.PartialStatement=r.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(){this.parents=[]}function o(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function i(e){o.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function a(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}var s=n(1).default;t.__esModule=!0;var l=s(n(6));r.prototype={constructor:r,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!r.prototype[n.type])throw new l.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new l.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new l.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:o,Decorator:o,BlockStatement:i,DecoratorBlock:i,PartialStatement:a,PartialBlockStatement:function(e){a.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:o,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new i.default(e.path.original+" doesn't match "+t,n)}}var o=n(1).default;t.__esModule=!0,t.SourceLocation=function(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}},t.id=function(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e},t.stripFlags=function(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}},t.stripComment=function(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},t.preparePath=function(e,t,n){n=this.locInfo(n);for(var r=e?"@":"",o=[],a=0,s=0,l=t.length;s<l;s++){var u=t[s].part,c=t[s].original!==u;if(r+=(t[s].separator||"")+u,c||".."!==u&&"."!==u&&"this"!==u)o.push(u);else{if(o.length>0)throw new i.default("Invalid path: "+r,{loc:n});".."===u&&a++}}return{type:"PathExpression",data:e,depth:a,parts:o,original:r,loc:n}},t.prepareMustache=function(e,t,n,r,o,i){var a=r.charAt(3)||r.charAt(2),s="{"!==a&&"&"!==a;return{type:/\*/.test(r)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:s,strip:o,loc:this.locInfo(i)}},t.prepareRawBlock=function(e,t,n,o){r(e,n);var i={type:"Program",body:t,strip:{},loc:o=this.locInfo(o)};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:i,openStrip:{},inverseStrip:{},closeStrip:{},loc:o}},t.prepareBlock=function(e,t,n,o,a,s){o&&o.path&&r(e,o);var l=/\*/.test(e.open);t.blockParams=e.blockParams;var u=void 0,c=void 0;if(n){if(l)throw new i.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=o.strip),c=n.strip,u=n.program}return a&&(a=u,u=t,t=a),{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:u,openStrip:e.strip,inverseStrip:c,closeStrip:o&&o.strip,loc:this.locInfo(s)}},t.prepareProgram=function(e,t){if(!t&&e.length){var n=e[0].loc,r=e[e.length-1].loc;n&&r&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:e,strip:{},loc:t}},t.preparePartialBlock=function(e,t,n,o){return r(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(o)}};var i=o(n(6))},function(e,t,n){"use strict";function r(){}function o(e,t){if(e===t)return!0;if(u.isArray(e)&&u.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!o(e[n],t[n]))return!1;return!0}}function i(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var a=n(34).default,s=n(1).default;t.__esModule=!0,t.Compiler=r,t.precompile=function(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new l.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0),t.compat&&(t.useDepths=!0);var r=n.parse(e,t),o=(new n.Compiler).compile(r,t);return(new n.JavaScriptCompiler).compile(o,t)},t.compile=function(e,t,n){function r(){var r=n.parse(e,t),o=(new n.Compiler).compile(r,t),i=(new n.JavaScriptCompiler).compile(o,t,void 0,!0);return n.template(i)}function o(e,t){return i||(i=r()),i.call(this,e,t)}if(void 0===t&&(t={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new l.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in(t=u.extend({},t))||(t.data=!0),t.compat&&(t.useDepths=!0);var i=void 0;return o._setup=function(e){return i||(i=r()),i._setup(e)},o._child=function(e,t,n,o){return i||(i=r()),i._child(e,t,n,o)},o};var l=s(n(6)),u=n(5),c=s(n(45)),f=[].slice;r.prototype={compiler:r,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var r=this.opcodes[n],i=e.opcodes[n];if(r.opcode!==i.opcode||!o(r.args,i.args))return!1}for(t=this.children.length,n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[],t.knownHelpers=u.extend(a(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},t.knownHelpers),this.accept(e)},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[n]=t,this.useDepths=this.useDepths||t.useDepths,n},accept:function(e){if(!this[e.type])throw new l.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,r=0;r<n;r++)this.accept(t[r]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){i(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var r=this.classifySexpr(e);"helper"===r?this.helperSexpr(e,t,n):"simple"===r?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),r=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,r.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new l.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var r=e.name.original,o="SubExpression"===e.name.type;o&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var i=e.indent||"";this.options.preventIndent&&i&&(this.opcode("appendContent",i),i=""),this.opcode("invokePartial",o,r,i),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){i(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var r=e.path,o=r.parts[0],i=null!=t||null!=n;this.opcode("getContext",r.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),r.strict=!0,this.accept(r),this.opcode("invokeAmbiguous",o,i)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var r=this.setupFullMustacheParams(e,t,n),o=e.path,i=o.parts[0];if(this.options.knownHelpers[i])this.opcode("invokeKnownHelper",r.length,i);else{if(this.options.knownHelpersOnly)throw new l.default("You specified knownHelpersOnly, but used the unknown helper "+i,e);o.strict=!0,o.falsy=!0,this.accept(o),this.opcode("invokeHelper",r.length,o.original,c.default.helpers.simpleId(o))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=c.default.helpers.scopedId(e),r=!e.depth&&!n&&this.blockParamIndex(t);r?this.opcode("lookupBlockParam",r,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,r=t.length;for(this.opcode("pushHash");n<r;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:f.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=c.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),r=!n&&c.default.helpers.helperExpression(e),o=!n&&(r||t);if(o&&!r){var i=e.path.parts[0],a=this.options;a.knownHelpers[i]?r=!0:a.knownHelpersOnly&&(o=!1)}return r?"helper":o?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||c.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var r=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,r)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,r){var o=e.params;return this.pushParams(o),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",r),o},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var r=this.options.blockParams[t],o=r&&u.indexOf(r,e);if(r&&o>=0)return[t,o]}}}},function(e,t,n){"use strict";function r(e){this.value=e}function o(){}var i=n(13).default,a=n(1).default;t.__esModule=!0;var s=n(4),l=a(n(6)),u=n(5),c=a(n(53));o.prototype={nameLookup:function(e,t){return this.internalNameLookup(e,t)},depthedLookup:function(e){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(e),")"]},compilerInfo:function(){var e=s.COMPILER_REVISION;return[e,s.REVISION_CHANGES[e]]},appendToBuffer:function(e,t,n){return u.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(e,t){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",e,",",JSON.stringify(t),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(e,t,n,r){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!r,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var o=e.opcodes,i=void 0,a=void 0,s=void 0,u=void 0;for(s=0,u=o.length;s<u;s++)i=o[s],this.source.currentLocation=i.loc,a=a||i.loc,this[i.opcode].apply(this,i.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),r?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(r);if(this.isChild)return c;var f={compiler:this.compilerInfo(),main:c};this.decorators&&(f.main_d=this.decorators,f.useDecorators=!0);var d=this.context,p=d.programs,h=d.decorators;for(s=0,u=p.length;s<u;s++)p[s]&&(f[s]=p[s],h[s]&&(f[s+"_d"]=h[s],f.useDecorators=!0));return this.environment.usePartial&&(f.usePartial=!0),this.options.data&&(f.useData=!0),this.useDepths&&(f.useDepths=!0),this.useBlockParams&&(f.useBlockParams=!0),this.options.compat&&(f.compat=!0),r?f.compilerOptions=this.options:(f.compiler=JSON.stringify(f.compiler),this.source.currentLocation={start:{line:1,column:0}},f=this.objectLiteral(f),t.srcName?(f=f.toStringWithSourceMap({file:t.destName})).map=f.map&&f.map.toString():f=f.toString()),f},preamble:function(){this.lastContext=0,this.source=new c.default(this.options.srcName),this.decorators=new c.default(this.options.srcName)},createFunctionContext:function(e){var t=this,n="",r=this.stackVars.concat(this.registers.list);r.length>0&&(n+=", "+r.join(", "));var o=0;i(this.aliases).forEach((function(e){var r=t.aliases[e];r.children&&r.referenceCount>1&&(n+=", alias"+ ++o+"="+e,r.children[0]="alias"+o)})),this.lookupPropertyFunctionIsUsed&&(n+=", "+this.lookupPropertyFunctionVarDeclaration());var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var s=this.mergeSource(n);return e?(a.push(s),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",s,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,r=void 0,o=void 0,i=void 0,a=void 0;return this.source.each((function(e){e.appendToBuffer?(i?e.prepend("  + "):i=e,a=e):(i&&(o?i.prepend("buffer += "):r=!0,a.add(";"),i=a=void 0),o=!0,t||(n=!1))})),n?i?(i.prepend("return "),a.add(";")):o||this.source.push('return "";'):(e+=", buffer = "+(r?"":this.initializeBuffer()),i?(i.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(r?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(e){var t=this.aliasable("container.hooks.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var r=this.popStack();n.splice(1,0,r),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("container.hooks.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack((function(e){return[" != null ? ",e,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,r){var o=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[o++])),this.resolvePath("context",e,o,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,r,o){var i=this;if(this.options.strict||this.options.assumeObjects)this.push(function(e,t,n,r){var o=t.popStack(),i=0,a=n.length;for(e&&a--;i<a;i++)o=t.nameLookup(o,n[i],r);return e?[t.aliasable("container.strict"),"(",o,", ",t.quotedString(n[i]),", ",JSON.stringify(t.source.currentLocation)," )"]:o}(this.options.strict&&o,this,t,e));else for(var a=t.length;n<a;n++)this.replaceStack((function(o){var a=i.nameLookup(o,t[n],e);return r?[" && ",a]:[" != null ? ",a," : ",o]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),r=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",r])," || fn;"])},invokeHelper:function(e,t,n){var r=this.popStack(),o=this.setupHelper(e,t),i=[];n&&i.push(o.name),i.push(r),this.options.strict||i.push(this.aliasable("container.hooks.helperMissing"));var a=["(",this.itemsSeparatedBy(i,"||"),")"],s=this.source.functionCall(a,"call",o.callParams);this.push(s)},itemsSeparatedBy:function(e,t){var n=[];n.push(e[0]);for(var r=1;r<e.length;r++)n.push(t,e[r]);return n},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var r=this.setupHelper(0,e,t),o=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",n,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",o,r.paramsInit?["),(",r.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",r.callParams)," : helper))"])},invokePartial:function(e,t,n){var r=[],o=this.setupParams(t,1,r);e&&(t=this.popStack(),delete o.name),n&&(o.indent=JSON.stringify(n)),o.helpers="helpers",o.partials="partials",o.decorators="container.decorators",e?r.unshift(t):r.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(o.depths="depths"),o=this.objectLiteral(o),r.push(o),this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function(e){var t=this.popStack(),n=void 0,r=void 0,o=void 0;this.trackIds&&(o=this.popStack()),this.stringParams&&(r=this.popStack(),n=this.popStack());var i=this.hash;n&&(i.contexts[e]=n),r&&(i.types[e]=r),o&&(i.ids[e]=o),i.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:o,compileChildren:function(e,t){for(var n=e.children,r=void 0,o=void 0,i=0,a=n.length;i<a;i++){r=n[i],o=new this.compiler;var s=this.matchExistingProgram(r);if(null==s){this.context.programs.push("");var l=this.context.programs.length;r.index=l,r.name="program"+l,this.context.programs[l]=o.compile(r,t,this.context,!this.precompile),this.context.decorators[l]=o.decorators,this.context.environments[l]=r,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams,r.useDepths=this.useDepths,r.useBlockParams=this.useBlockParams}else r.index=s.index,r.name="program"+s.index,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var r=this.context.environments[t];if(r&&r.equals(e))return r}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof r||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new r(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,o=void 0,i=void 0;if(!this.isInline())throw new l.default("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof r)t=["(",n=[a.value]],i=!0;else{o=!0;var s=this.incrStack();t=["((",this.push(s)," = ",a,")"],n=this.topStack()}var u=e.call(this,n);i||this.popStack(),o&&this.stackSlot--,this.push(t.concat(u,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var o=e[t];if(o instanceof r)this.compileStack.push(o);else{var i=this.incrStack();this.pushSource([i," = ",o,";"]),this.compileStack.push(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof r)return n.value;if(!t){if(!this.stackSlot)throw new l.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof r?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var r=[];return{params:r,paramsInit:this.setupHelperArgs(t,e,r,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(r)}},setupParams:function(e,t,n){var r={},o=[],i=[],a=[],s=!n,l=void 0;s&&(n=[]),r.name=this.quotedString(e),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var u=this.popStack(),c=this.popStack();(c||u)&&(r.fn=c||"container.noop",r.inverse=u||"container.noop");for(var f=t;f--;)l=this.popStack(),n[f]=l,this.trackIds&&(a[f]=this.popStack()),this.stringParams&&(i[f]=this.popStack(),o[f]=this.popStack());return s&&(r.args=this.source.generateArray(n)),this.trackIds&&(r.ids=this.source.generateArray(a)),this.stringParams&&(r.types=this.source.generateArray(i),r.contexts=this.source.generateArray(o)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(e,t,n,r){var o=this.setupParams(e,t,n);return o.loc=JSON.stringify(this.source.currentLocation),o=this.objectLiteral(o),r?(this.useRegister("options"),n.push("options"),["options=",o]):n?(n.push(o),""):o}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=o.RESERVED_WORDS={},n=0,r=e.length;n<r;n++)t[e[n]]=!0}(),o.isValidJavaScriptVariableName=function(e){return!o.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){if(a.isArray(e)){for(var r=[],o=0,i=e.length;o<i;o++)r.push(t.wrap(e[o],n));return r}return"boolean"==typeof e||"number"==typeof e?e+"":e}function o(e){this.srcFile=e,this.source=[]}var i=n(13).default;t.__esModule=!0;var a=n(5),s=void 0;s||((s=function(e,t,n,r){this.src="",r&&this.add(r)}).prototype={add:function(e){a.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){a.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),o.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each((function(t){e.add(["  ",t,"\n"])})),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new s(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof s?e:(e=r(e,this,t),new s(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=this,n=[];i(e).forEach((function(o){var i=r(e[o],t);"undefined"!==i&&n.push([t.quotedString(o),":",i])}));var o=this.generateList(n);return o.prepend("{"),o.add("}"),o},generateList:function(e){for(var t=this.empty(),n=0,o=e.length;n<o;n++)n&&t.add(","),t.add(r(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=o,e.exports=t.default}])},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miÃ©rcoles_jueves_viernes_sÃ¡bado".split("_"),weekdaysShort:"dom._lun._mar._miÃ©._jue._vie._sÃ¡b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maÃ±ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un dÃ­a",dd:"%d dÃ­as",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un aÃ±o",yy:"%d aÃ±os"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:0,doy:6}})}(n(12))},function(e,t,n){var r;!function(){var o=window.CustomEvent;function i(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function a(e){e&&e.blur&&e!==document.body&&e.blur()}function s(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function l(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function u(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,r=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),o=function(o){if(o.target===e){var i="DOMNodeRemoved";n|=o.type.substr(0,i.length)===i,window.clearTimeout(t),t=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,o)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}o&&"object"!=typeof o||((o=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),u.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),c.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}a(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!c.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,c.needsCentering(this.dialog_)?(c.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new o("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var c={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],r=null;try{r=n.cssRules}catch(e){}if(r)for(var o=0;o<r.length;++o){var i=r[o],a=null;try{a=document.querySelectorAll(i.selectorText)}catch(e){}if(a&&s(a,e)){var l=i.style.getPropertyValue("top"),u=i.style.getPropertyValue("bottom");if(l&&"auto"!==l||u&&"auto"!==u)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!c.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new u(e)},registerDialog:function(e){e.showModal||c.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,r=0;t=e.removedNodes[r];++r)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(c.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},c.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},c.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},c.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=i(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},c.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),a(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},c.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new o("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},c.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},c.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},c.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},c.dm=new c.DialogManager,c.formSubmitter=null,c.useValue=null,void 0===window.HTMLDialogElement){var f=document.createElement("form");if(f.setAttribute("method","dialog"),"dialog"!==f.method){var d=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(d){var p=d.get;d.get=function(){return l(this)?"dialog":p.call(this)};var h=d.set;d.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):h.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",d)}}document.addEventListener("click",(function(e){if(c.formSubmitter=null,c.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&l(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;c.useValue=e.offsetX+","+e.offsetY}i(t)&&(c.formSubmitter=t)}}}),!1);var g=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!l(this))return g.call(this);var e=i(this);e&&e.close()},document.addEventListener("submit",(function(e){var t=e.target;if(l(t)){e.preventDefault();var n=i(t);if(n){var r=c.formSubmitter;r&&r.form===t?n.close(c.useValue||r.value):n.close(),c.formSubmitter=null}}}),!0)}c.forceRegisterDialog=c.forceRegisterDialog,c.registerDialog=c.registerDialog,"amd"in n(456)?void 0===(r=function(){return c}.call(t,n,t,e))||(e.exports=r):"object"==typeof e.exports?e.exports=c:window.dialogPolyfill=c}()},function(e,t,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){var e,t,n,r,o,i="undefined"==typeof window,a=!i,s={},l=[],u=["visibilityChange","enterViewport","fullyEnterViewport","exitViewport","partiallyExitViewport","locationChange","stateChange"],c={top:0,bottom:0},f=function(){return i?0:window.innerHeight||document.documentElement.clientHeight};function d(){if(s.viewportTop=i?0:window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,s.viewportBottom=s.viewportTop+s.viewportHeight,s.documentHeight=i?0:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),s.documentHeight!==e){for(n=l.length;n--;)l[n].recalculateLocation();e=s.documentHeight}}function p(){s.viewportHeight=f(),d(),g()}function h(){clearTimeout(r),r=setTimeout(p,100)}function g(){for(o=l.length;o--;)l[o].update();for(o=l.length;o--;)l[o].triggerCallbacks()}function m(e,n){var r,o,i,a,l,f,d=this;this.watchItem=e,this.offsets=n?n===+n?{top:n,bottom:n}:{top:n.top||c.top,bottom:n.bottom||c.bottom}:c,this.callbacks={};for(var p=0,h=u.length;p<h;p++)d.callbacks[u[p]]=[];function g(e){if(0!==e.length)for(l=e.length;l--;)(f=e[l]).callback.call(d,t),f.isOne&&e.splice(l,1)}this.locked=!1,this.triggerCallbacks=function(){switch(this.isInViewport&&!r&&g(this.callbacks.enterViewport),this.isFullyInViewport&&!o&&g(this.callbacks.fullyEnterViewport),this.isAboveViewport!==i&&this.isBelowViewport!==a&&(g(this.callbacks.visibilityChange),o||this.isFullyInViewport||(g(this.callbacks.fullyEnterViewport),g(this.callbacks.partiallyExitViewport)),r||this.isInViewport||(g(this.callbacks.enterViewport),g(this.callbacks.exitViewport))),!this.isFullyInViewport&&o&&g(this.callbacks.partiallyExitViewport),!this.isInViewport&&r&&g(this.callbacks.exitViewport),this.isInViewport!==r&&g(this.callbacks.visibilityChange),!0){case r!==this.isInViewport:case o!==this.isFullyInViewport:case i!==this.isAboveViewport:case a!==this.isBelowViewport:g(this.callbacks.stateChange)}r=this.isInViewport,o=this.isFullyInViewport,i=this.isAboveViewport,a=this.isBelowViewport},this.recalculateLocation=function(){if(!this.locked){var e=this.top,t=this.bottom;if(this.watchItem.nodeName){var n=this.watchItem.style.display;"none"===n&&(this.watchItem.style.display="");var r=this.watchItem.getBoundingClientRect();this.top=r.top+s.viewportTop,this.bottom=r.bottom+s.viewportTop,"none"===n&&(this.watchItem.style.display=n)}else this.watchItem===+this.watchItem?this.watchItem>0?this.top=this.bottom=this.watchItem:this.top=this.bottom=s.documentHeight-this.watchItem:(this.top=this.watchItem.top,this.bottom=this.watchItem.bottom);this.top-=this.offsets.top,this.bottom+=this.offsets.bottom,this.height=this.bottom-this.top,void 0===e&&void 0===t||this.top===e&&this.bottom===t||g(this.callbacks.locationChange)}},this.recalculateLocation(),this.update(),r=this.isInViewport,o=this.isFullyInViewport,i=this.isAboveViewport,a=this.isBelowViewport}s.viewportTop=null,s.viewportBottom=null,s.documentHeight=null,s.viewportHeight=f(),m.prototype={on:function(e,n,r){switch(!0){case"visibilityChange"===e&&!this.isInViewport&&this.isAboveViewport:case"enterViewport"===e&&this.isInViewport:case"fullyEnterViewport"===e&&this.isFullyInViewport:case"exitViewport"===e&&this.isAboveViewport&&!this.isInViewport:case"partiallyExitViewport"===e&&this.isAboveViewport:if(n.call(this,t),r)return}if(!this.callbacks[e])throw new Error("Tried to add a scroll monitor listener of type "+e+". Your options are: "+u.join(", "));this.callbacks[e].push({callback:n,isOne:r||!1})},off:function(e,t){if(!this.callbacks[e])throw new Error("Tried to remove a scroll monitor listener of type "+e+". Your options are: "+u.join(", "));for(var n,r=0;n=this.callbacks[e][r];r++)if(n.callback===t){this.callbacks[e].splice(r,1);break}},one:function(e,t){this.on(e,t,!0)},recalculateSize:function(){this.height=this.watchItem.offsetHeight+this.offsets.top+this.offsets.bottom,this.bottom=this.top+this.height},update:function(){this.isAboveViewport=this.top<s.viewportTop,this.isBelowViewport=this.bottom>s.viewportBottom,this.isInViewport=this.top<=s.viewportBottom&&this.bottom>=s.viewportTop,this.isFullyInViewport=this.top>=s.viewportTop&&this.bottom<=s.viewportBottom||this.isAboveViewport&&this.isBelowViewport},destroy:function(){var e=l.indexOf(this);l.splice(e,1);for(var t=0,n=u.length;t<n;t++)this.callbacks[u[t]].length=0},lock:function(){this.locked=!0},unlock:function(){this.locked=!1}};for(var v=function(e){return function(t,n){this.on.call(this,e,t,n)}},y=0,b=u.length;y<b;y++){var A=u[y];m.prototype[A]=v(A)}if(a)try{d()}catch(e){try{window.$(d)}catch(e){throw new Error("If you must put scrollMonitor in the <head>, you must use jQuery.")}}function C(e){t=e,d(),g()}return a&&(window.addEventListener?(window.addEventListener("scroll",C),window.addEventListener("resize",h)):(window.attachEvent("onscroll",C),window.attachEvent("onresize",h))),s.beget=s.create=function(e,t){"string"==typeof e?e=document.querySelector(e):e&&e.length>0&&(e=e[0]);var n=new m(e,t);return l.push(n),n.update(),n},s.update=function(){t=null,d(),g()},s.recalculateLocations=function(){s.documentHeight=0,s.update()},s})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){(function(n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){"use strict";var e=new RegExp("[A-Za-z0-9_-]+"),t="string",r=["name","expires","path","domain","secure"],o=new RegExp("number|string|boolean"),i=new RegExp("([A-Za-z0-9_-|@\\.]+)=([^;]*)","ig"),a=encodeURIComponent,s=decodeURIComponent,l={set:function(){var i,s=[],l=n.makeArray(arguments),u=2===l.length&&n.type(l[0])===t?{name:l[0],value:l[1]}:l[0];"object"===n.type(u)&&n.each(r,(function(l,c){if(i=c in u?u[c]:null,c!==r[2]||i||(i="/"),null!==i)switch(c){case r[0]:if(n.type(i)!==t||!e.test(i)||!o.test(n.type(u.value||null)))return!1;s.push(i+"="+a(u.value));break;case r[1]:"date"===n.type(i)&&s.push(c+"="+i.toGMTString());break;case r[2]:n.type(i)===t&&s.push(c+"="+(i||"/"));break;case r[4]:"boolean"===n.type(i)&&i&&s.push(c);break;default:n.type(i)===t&&i&&s.push(c+"="+i)}})),s.length&&(document.cookie=s.join(";"))},setBulk:function(){var e=n.makeArray(arguments),t=e.length&&n.isArray(e[0])?e[0]:e,r=t.length;if(r)for(;r--;)this.set(t[r])},get:function(e){return this.getAll()[e]||null},getAll:function(){var e={};return s(document.cookie).replace(i,(function(){e[arguments[1]]=arguments[2]})),e},remove:function(){var e=n.makeArray(arguments),r={expires:new Date,value:-1};if(r.expires.setTime(r.expires-1),e.length){switch(n.type(e[0])){case t:r.name=e[0];break;case"object":r=n.extend(e[0],r);break;default:return!1}this.set(r)}},removeBulk:function(){var e=n.makeArray(arguments),t=e.length&&n.isArray(e[0])?e[0]:e,r=t.length;if(r)for(;r--;)this.remove(t[r])}};return l})?r.apply(t,o):r)||(e.exports=i)}).call(this,n(2))},function(e,t,n){
/*!
 * Pikaday
 *
 * Copyright Â© 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */
!function(t,r){"use strict";var o;try{o=n(12)}catch(e){}e.exports=function(e){var t="function"==typeof e,n=!!window.addEventListener,r=window.document,o=window.setTimeout,i=function(e,t,r,o){n?e.addEventListener(t,r,!!o):e.attachEvent("on"+t,r)},a=function(e,t,r,o){n?e.removeEventListener(t,r,!!o):e.detachEvent("on"+t,r)},s=function(e,t,n){var o;r.createEvent?((o=r.createEvent("HTMLEvents")).initEvent(t,!0,!1),o=m(o,n),e.dispatchEvent(o)):r.createEventObject&&(o=r.createEventObject(),o=m(o,n),e.fireEvent("on"+t,o))},l=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},u=function(e){return/Array/.test(Object.prototype.toString.call(e))},c=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},f=function(e){var t=e.getDay();return 0===t||6===t},d=function(e){return e%4==0&&e%100!=0||e%400==0},p=function(e,t){return[31,d(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},h=function(e){c(e)&&e.setHours(0,0,0,0)},g=function(e,t){return e.getTime()===t.getTime()},m=function(e,t,n){var r,o;for(r in t)(o=void 0!==e[r])&&"object"==typeof t[r]&&null!==t[r]&&void 0===t[r].nodeName?c(t[r])?n&&(e[r]=new Date(t[r].getTime())):u(t[r])?n&&(e[r]=t[r].slice(0)):e[r]=m({},t[r],n):!n&&o||(e[r]=t[r]);return e},v=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},y={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},b=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},A=function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},C=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},I=function(e,t,n,r,o,i){var a,s,l,c,f,d=e._o,p=n===d.minYear,h=n===d.maxYear,g='<div id="'+i+'" class="pika-title" role="heading" aria-live="assertive">',m=!0,v=!0;for(l=[],a=0;a<12;a++)l.push('<option value="'+(n===o?a-t:12+a-t)+'"'+(a===r?' selected="selected"':"")+(p&&a<d.minMonth||h&&a>d.maxMonth?'disabled="disabled"':"")+">"+d.i18n.months[a]+"</option>");for(c='<div class="pika-label">'+d.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",u(d.yearRange)?(a=d.yearRange[0],s=d.yearRange[1]+1):(a=n-d.yearRange,s=1+n+d.yearRange),l=[];a<s&&a<=d.maxYear;a++)a>=d.minYear&&l.push('<option value="'+a+'"'+(a===n?' selected="selected"':"")+">"+a+"</option>");return f='<div class="pika-label">'+n+d.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",d.showMonthAfterYear?g+=f+c:g+=c+f,p&&(0===r||d.minMonth>=r)&&(m=!1),h&&(11===r||d.maxMonth<=r)&&(v=!1),0===t&&(g+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+d.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(g+='<button class="pika-next'+(v?"":" is-disabled")+'" type="button">'+d.i18n.nextMonth+"</button>"),g+"</div>"},_=function(a){var s=this,u=s.config(a);s._onMouseDown=function(e){if(s._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(l(t,"is-disabled")||(!l(t,"pika-button")||l(t,"is-empty")||l(t.parentNode,"is-disabled")?l(t,"pika-prev")?s.prevMonth():l(t,"pika-next")&&s.nextMonth():(s.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),u.bound&&o((function(){s.hide(),u.field&&u.field.blur()}),100))),l(t,"pika-select"))s._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},s._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(l(t,"pika-select-month")?s.gotoMonth(t.value):l(t,"pika-select-year")&&s.gotoYear(t.value))},s._onKeyChange=function(e){if(e=e||window.event,s.isVisible())switch(e.keyCode){case 13:case 27:u.field.blur();break;case 37:e.preventDefault(),s.adjustDate("subtract",1);break;case 38:s.adjustDate("subtract",7);break;case 39:s.adjustDate("add",1);break;case 40:s.adjustDate("add",7)}},s._onInputChange=function(n){var r;n.firedBy!==s&&(r=t?(r=e(u.field.value,u.format,u.formatStrict))&&r.isValid()?r.toDate():null:new Date(Date.parse(u.field.value)),c(r)&&s.setDate(r),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){var e=r.activeElement;do{if(l(e,"pika-single"))return}while(e=e.parentNode);s._c||(s._b=o((function(){s.hide()}),50)),s._c=!1},s._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,r=t;if(t){!n&&l(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),i(t,"change",s._onChange)));do{if(l(r,"pika-single")||r===u.trigger)return}while(r=r.parentNode);s._v&&t!==u.trigger&&r!==u.trigger&&s.hide()}},s.el=r.createElement("div"),s.el.className="pika-single"+(u.isRTL?" is-rtl":"")+(u.theme?" "+u.theme:""),i(s.el,"mousedown",s._onMouseDown,!0),i(s.el,"touchend",s._onMouseDown,!0),i(s.el,"change",s._onChange),i(r,"keydown",s._onKeyChange),u.field&&(u.container?u.container.appendChild(s.el):u.bound?r.body.appendChild(s.el):u.field.parentNode.insertBefore(s.el,u.field.nextSibling),i(u.field,"change",s._onInputChange),u.defaultDate||(t&&u.field.value?u.defaultDate=e(u.field.value,u.format).toDate():u.defaultDate=new Date(Date.parse(u.field.value)),u.setDefaultDate=!0));var f=u.defaultDate;c(f)?u.setDefaultDate?s.setDate(f,!0):s.gotoDate(f):s.gotoDate(new Date),u.bound?(this.hide(),s.el.className+=" is-bound",i(u.trigger,"click",s._onInputClick),i(u.trigger,"focus",s._onInputFocus),i(u.trigger,"blur",s._onInputBlur)):this.show()};return _.prototype={config:function(e){this._o||(this._o=m({},y,!0));var t=m(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,c(t.minDate)||(t.minDate=!1),c(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),u(t.yearRange)){var r=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||r,t.yearRange[1]=parseInt(t.yearRange[1],10)||r}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||y.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return c(this._d)?t?e(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,r){t&&e.isMoment(n)&&this.setDate(n.toDate(),r)},getDate:function(){return c(this._d)?new Date(this._d.getTime()):new Date},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",s(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),c(e)){var n=this._o.minDate,r=this._o.maxDate;c(n)&&e<n?e=n:c(r)&&e>r&&(e=r),this._d=new Date(e.getTime()),h(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),s(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(c(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=e.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),t=o<n.getTime()||r.getTime()<o}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(n,r){var o,i=this.getDate(),a=24*parseInt(r)*60*60*1e3;"add"===n?o=new Date(i.valueOf()+a):"subtract"===n&&(o=new Date(i.valueOf()-a)),t&&("add"===n?o=e(i).add(r,"days").toDate():"subtract"===n&&(o=e(i).subtract(r,"days").toDate())),this.setDate(o)},adjustCalendars:function(){this.calendars[0]=v(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=v({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(h(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=y.minDate,this._o.minYear=y.minYear,this._o.minMonth=y.minMonth,this._o.startRange=y.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(h(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=y.maxDate,this._o.maxYear=y.maxYear,this._o.maxMonth=y.maxMonth,this._o.endRange=y.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,n=this._o,r=n.minYear,i=n.maxYear,a=n.minMonth,s=n.maxMonth,l="";this._y<=r&&(this._y=r,!isNaN(a)&&this._m<a&&(this._m=a)),this._y>=i&&(this._y=i,!isNaN(s)&&this._m>s&&(this._m=s)),t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var u=0;u<n.numberOfMonths;u++)l+='<div class="pika-lendar">'+I(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year,t)+this.render(this.calendars[u].year,this.calendars[u].month,t)+"</div>";this.el.innerHTML=l,n.bound&&"hidden"!==n.field.type&&o((function(){n.trigger.focus()}),1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var e,t,n,o,i,a,s,l,u,c;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,n=this.el.offsetWidth,o=this.el.offsetHeight,i=window.innerWidth||r.documentElement.clientWidth,a=window.innerHeight||r.documentElement.clientHeight,s=window.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)l=(c=e.getBoundingClientRect()).left+window.pageXOffset,u=c.bottom+window.pageYOffset;else for(l=t.offsetLeft,u=t.offsetTop+t.offsetHeight;t=t.offsetParent;)l+=t.offsetLeft,u+=t.offsetTop;(this._o.reposition&&l+n>i||this._o.position.indexOf("right")>-1&&l-n+e.offsetWidth>0)&&(l=l-n+e.offsetWidth),(this._o.reposition&&u+o>a+s||this._o.position.indexOf("top")>-1&&u-o-e.offsetHeight>0)&&(u=u-o-e.offsetHeight),this.el.style.left=l+"px",this.el.style.top=u+"px"}},render:function(e,t,n){var r=this._o,o=new Date,i=p(e,t),a=new Date(e,t,1).getDay(),s=[],l=[];h(o),r.firstDay>0&&(a-=r.firstDay)<0&&(a+=7);for(var u,d,m,v,y=0===t?11:t-1,I=11===t?0:t+1,_=0===t?e-1:e,E=11===t?e+1:e,w=p(_,y),S=i+a,T=S;T>7;)T-=7;S+=7-T;for(var k=0,x=0;k<S;k++){var P=new Date(e,t,k-a+1),O=!!c(this._d)&&g(P,this._d),L=g(P,o),D=k<a||k>=i+a,j=k-a+1,R=t,M=e,N=r.startRange&&g(r.startRange,P),F=r.endRange&&g(r.endRange,P),B=r.startRange&&r.endRange&&r.startRange<P&&P<r.endRange;D&&(k<a?(j=w+j,R=y,M=_):(j-=i,R=I,M=E));var U={day:j,month:R,year:M,isSelected:O,isToday:L,isDisabled:r.minDate&&P<r.minDate||r.maxDate&&P>r.maxDate||r.disableWeekends&&f(P)||r.disableDayFn&&r.disableDayFn(P),isEmpty:D,isStartRange:N,isEndRange:F,isInRange:B,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths};l.push(A(U)),7==++x&&(r.showWeekNumber&&l.unshift((u=k-a,d=t,m=e,v=void 0,void 0,v=new Date(m,0,1),'<td class="pika-week">'+Math.ceil(((new Date(m,d,u)-v)/864e5+v.getDay()+1)/7)+"</td>")),s.push(C(l,r.isRTL)),l=[],x=0)}return function(e,t,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+function(e){var t,n=[];e.showWeekNumber&&n.push("<th></th>");for(t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+b(e,t)+'">'+b(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}(e)+(r=t,"<tbody>"+r.join("")+"</tbody></table>");var r}(r,s,n)},isVisible:function(){return this._v},show:function(){var e,t,n;this.isVisible()||(e=this.el,t="is-hidden",e.className=(n=(" "+e.className+" ").replace(" "+t+" "," ")).trim?n.trim():n.replace(/^\s+|\s+$/g,""),this._v=!0,this.draw(),this._o.bound&&(i(r,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e,t,n=this._v;!1!==n&&(this._o.bound&&a(r,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",e=this.el,l(e,t="is-hidden")||(e.className=""===e.className?t:e.className+" "+t),this._v=!1,void 0!==n&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),a(this.el,"mousedown",this._onMouseDown,!0),a(this.el,"touchend",this._onMouseDown,!0),a(this.el,"change",this._onChange),this._o.field&&(a(this._o.field,"change",this._onInputChange),this._o.bound&&(a(this._o.trigger,"click",this._onInputClick),a(this._o.trigger,"focus",this._onInputFocus),a(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},_}(o)}()},function(e,t,n){(function(e,r){var o;
/**
 * @license
 * lodash <https://lodash.com/>
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i="Expected a function",a="__lodash_placeholder__",s="[object Arguments]",l="[object Array]",u="[object Boolean]",c="[object Date]",f="[object Error]",d="[object Function]",p="[object GeneratorFunction]",h="[object Map]",g="[object Number]",m="[object Object]",v="[object RegExp]",y="[object Set]",b="[object String]",A="[object Symbol]",C="[object WeakMap]",I="[object ArrayBuffer]",_="[object DataView]",E="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",T="[object Int16Array]",k="[object Int32Array]",x="[object Uint8Array]",P="[object Uint16Array]",O="[object Uint32Array]",L=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,j=/(__e\(.*?\)|\b__t\)) \+\n'';/g,R=/&(?:amp|lt|gt|quot|#39|#96);/g,M=/[&<>"'`]/g,N=RegExp(R.source),F=RegExp(M.source),B=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,W=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,Y=/[\\^$.*+?()[\]{}|]/g,z=RegExp(Y.source),K=/^\s+|\s+$/g,q=/^\s+/,$=/\s+$/,X=/[a-zA-Z0-9]+/g,Z=/\\(\\)?/g,Q=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,J=/\w*$/,ee=/^0x/i,te=/^[-+]0x[0-9a-f]+$/i,ne=/^0b[01]+$/i,re=/^\[object .+?Constructor\]$/,oe=/^0o[0-7]+$/i,ie=/^(?:0|[1-9]\d*)$/,ae=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,se=/($^)/,le=/['\n\r\u2028\u2029\\]/g,ue="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ce="[\\ud800-\\udfff]",fe="["+ue+"]",de="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",pe="\\d+",he="[\\u2700-\\u27bf]",ge="[a-z\\xdf-\\xf6\\xf8-\\xff]",me="[^\\ud800-\\udfff"+ue+pe+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ve="\\ud83c[\\udffb-\\udfff]",ye="[^\\ud800-\\udfff]",be="(?:\\ud83c[\\udde6-\\uddff]){2}",Ae="[\\ud800-\\udbff][\\udc00-\\udfff]",Ce="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ie="(?:"+ge+"|"+me+")",_e="(?:"+Ce+"|"+me+")",Ee="(?:"+de+"|"+ve+")"+"?",we="[\\ufe0e\\ufe0f]?"+Ee+("(?:\\u200d(?:"+[ye,be,Ae].join("|")+")[\\ufe0e\\ufe0f]?"+Ee+")*"),Se="(?:"+[he,be,Ae].join("|")+")"+we,Te="(?:"+[ye+de+"?",de,be,Ae,ce].join("|")+")",ke=RegExp("['â]","g"),xe=RegExp(de,"g"),Pe=RegExp(ve+"(?="+ve+")|"+Te+we,"g"),Oe=RegExp([Ce+"?"+ge+"+(?:['â](?:d|ll|m|re|s|t|ve))?(?="+[fe,Ce,"$"].join("|")+")",_e+"+(?:['â](?:D|LL|M|RE|S|T|VE))?(?="+[fe,Ce+Ie,"$"].join("|")+")",Ce+"?"+Ie+"+(?:['â](?:d|ll|m|re|s|t|ve))?",Ce+"+(?:['â](?:D|LL|M|RE|S|T|VE))?",pe,Se].join("|"),"g"),Le=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),De=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,je=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","isFinite","parseInt","setTimeout"],Re=-1,Me={};Me[E]=Me[w]=Me[S]=Me[T]=Me[k]=Me[x]=Me["[object Uint8ClampedArray]"]=Me[P]=Me[O]=!0,Me[s]=Me[l]=Me[I]=Me[u]=Me[_]=Me[c]=Me[f]=Me[d]=Me[h]=Me[g]=Me[m]=Me[v]=Me[y]=Me[b]=Me[C]=!1;var Ne={};Ne[s]=Ne[l]=Ne[I]=Ne[_]=Ne[u]=Ne[c]=Ne[E]=Ne[w]=Ne[S]=Ne[T]=Ne[k]=Ne[h]=Ne[g]=Ne[m]=Ne[v]=Ne[y]=Ne[b]=Ne[A]=Ne[x]=Ne["[object Uint8ClampedArray]"]=Ne[P]=Ne[O]=!0,Ne[f]=Ne[d]=Ne[C]=!1;var Fe={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss"},Be={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ue={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ge={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},He=parseFloat,Ve=parseInt,We=t,Ye=We&&"object"==typeof e&&e,ze=Ye&&Ye.exports===We,Ke=wt("object"==typeof r&&r),qe=wt("object"==typeof self&&self),$e=wt("object"==typeof this&&this),Xe=Ke||qe||$e||Function("return this")();function Ze(e,t){return e.set(t[0],t[1]),e}function Qe(e,t){return e.add(t),e}function Je(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function et(e,t,n,r){for(var o=-1,i=e?e.length:0;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function tt(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function nt(e,t){for(var n=e?e.length:0;n--&&!1!==t(e[n],n,e););return e}function rt(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ot(e,t){for(var n=-1,r=e?e.length:0,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function it(e,t){return!!(e?e.length:0)&&ht(e,t,0)>-1}function at(e,t,n){for(var r=-1,o=e?e.length:0;++r<o;)if(n(t,e[r]))return!0;return!1}function st(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function lt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function ut(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function ct(e,t,n,r){var o=e?e.length:0;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function ft(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function dt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function pt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function ht(e,t,n){if(t!=t)return Pt(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function gt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function mt(e,t){var n=e?e.length:0;return n?yt(e,t)/n:NaN}function vt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function yt(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}function bt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function At(e){return function(t){return e(t)}}function Ct(e,t){return st(t,(function(t){return e[t]}))}function It(e,t){return e.has(t)}function _t(e,t){for(var n=-1,r=e.length;++n<r&&ht(t,e[n],0)>-1;);return n}function Et(e,t){for(var n=e.length;n--&&ht(t,e[n],0)>-1;);return n}function wt(e){return e&&e.Object===Object?e:null}function St(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function Tt(e){return Fe[e]}function kt(e){return Be[e]}function xt(e){return"\\"+Ge[e]}function Pt(e,t,n){for(var r=e.length,o=t+(n?1:-1);n?o--:++o<r;){var i=e[o];if(i!=i)return o}return-1}function Ot(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function Lt(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function Dt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function jt(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,i[o++]=n)}return i}function Rt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Mt(e){if(!e||!Le.test(e))return e.length;for(var t=Pe.lastIndex=0;Pe.test(e);)t++;return t}function Nt(e){return e.match(Pe)}function Ft(e){return Ue[e]}var Bt=function e(t){var n,r=(t=t?Bt.defaults({},t,Bt.pick(Xe,je)):Xe).Date,o=t.Error,ue=t.Math,ce=t.RegExp,fe=t.TypeError,de=t.Array.prototype,pe=t.Object.prototype,he=t.String.prototype,ge=t["__core-js_shared__"],me=(n=/[^.]+$/.exec(ge&&ge.keys&&ge.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ve=t.Function.prototype.toString,ye=pe.hasOwnProperty,be=0,Ae=ve.call(Object),Ce=pe.toString,Ie=Xe._,_e=ce("^"+ve.call(ye).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=ze?t.Buffer:void 0,we=t.Reflect,Se=t.Symbol,Te=t.Uint8Array,Pe=we?we.enumerate:void 0,Fe=Object.getOwnPropertySymbols,Be="symbol"==typeof(Be=Se&&Se.iterator)?Be:void 0,Ue=Object.create,Ge=pe.propertyIsEnumerable,We=de.splice,Ye=function(e,n){return t.setTimeout.call(Xe,e,n)},Ke=ue.ceil,qe=ue.floor,$e=Object.getPrototypeOf,wt=t.isFinite,Ut=de.join,Gt=Object.keys,Ht=ue.max,Vt=ue.min,Wt=t.parseInt,Yt=ue.random,zt=he.replace,Kt=de.reverse,qt=he.split,$t=bo(t,"DataView"),Xt=bo(t,"Map"),Zt=bo(t,"Promise"),Qt=bo(t,"Set"),Jt=bo(t,"WeakMap"),en=bo(Object,"create"),tn=Jt&&new Jt,nn=!Ge.call({valueOf:1},"valueOf"),rn={},on=Wo($t),an=Wo(Xt),sn=Wo(Zt),ln=Wo(Qt),un=Wo(Jt),cn=Se?Se.prototype:void 0,fn=cn?cn.valueOf:void 0,dn=cn?cn.toString:void 0;function pn(e){if(sa(e)&&!Qi(e)&&!(e instanceof mn)){if(e instanceof gn)return e;if(ye.call(e,"__wrapped__"))return Yo(e)}return new gn(e)}function hn(){}function gn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function mn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function vn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function yn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function bn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function An(e){var t=-1,n=e?e.length:0;for(this.__data__=new bn;++t<n;)this.add(e[t])}function Cn(e){this.__data__=new yn(e)}function In(e,t,n,r){return void 0===e||qi(e,pe[n])&&!ye.call(r,n)?t:e}function _n(e,t,n){(void 0!==n&&!qi(e[t],n)||"number"==typeof t&&void 0===n&&!(t in e))&&(e[t]=n)}function En(e,t,n){var r=e[t];ye.call(e,t)&&qi(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function wn(e,t){for(var n=e.length;n--;)if(qi(e[n][0],t))return n;return-1}function Sn(e,t,n,r){return jn(e,(function(e,o,i){t(r,e,n(e),i)})),r}function Tn(e,t){return e&&Gr(t,Ra(t),e)}function kn(e,t){for(var n=-1,r=null==e,o=t.length,i=Array(o);++n<o;)i[n]=r?void 0:Pa(e,t[n]);return i}function xn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Pn(e,t,n,r,o,i,a){var l;if(r&&(l=i?r(e,o,i,a):r(e)),void 0!==l)return l;if(!aa(e))return e;var f=Qi(e);if(f){if(l=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ye.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return Ur(e,l)}else{var C=_o(e),L=C==d||C==p;if(ta(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(C==m||C==s||L&&!i){if(Ot(e))return i?e:{};if(l=function(e){return"function"!=typeof e.constructor||Do(e)?{}:On(Ao(e))}(L?{}:e),!t)return function(e,t){return Gr(e,Co(e),t)}(e,Tn(l,e))}else{if(!Ne[C])return i?e:{};l=function(e,t,n,r){var o=e.constructor;switch(t){case I:return Mr(e);case u:case c:return new o(+e);case _:return function(e,t){var n=t?Mr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case E:case w:case S:case T:case k:case x:case"[object Uint8ClampedArray]":case P:case O:return function(e,t){var n=t?Mr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case h:return function(e,t,n){return ut(t?n(Dt(e),!0):Dt(e),Ze,new e.constructor)}(e,r,n);case g:case b:return new o(e);case v:return function(e){var t=new e.constructor(e.source,J.exec(e));return t.lastIndex=e.lastIndex,t}(e);case y:return function(e,t,n){return ut(t?n(Rt(e),!0):Rt(e),Qe,new e.constructor)}(e,r,n);case A:return i=e,fn?Object(fn.call(i)):{}}var i}(e,C,Pn,t)}}a||(a=new Cn);var D=a.get(e);if(D)return D;if(a.set(e,l),!f)var j=n?function(e){return zn(e,Ra,Co)}(e):Ra(e);return tt(j||e,(function(o,i){j&&(o=e[i=o]),En(l,i,Pn(o,t,n,r,i,e,a))})),l}function On(e){return aa(e)?Ue(e):{}}function Ln(e,t,n){if("function"!=typeof e)throw new fe(i);return Ye((function(){e.apply(void 0,n)}),t)}function Dn(e,t,n,r){var o=-1,i=it,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=st(t,At(n))),r?(i=at,a=!1):t.length>=200&&(i=It,a=!1,t=new An(t));e:for(;++o<s;){var c=e[o],f=n?n(c):c;if(c=r||0!==c?c:0,a&&f==f){for(var d=u;d--;)if(t[d]===f)continue e;l.push(c)}else i(t,f,r)||l.push(c)}return l}pn.templateSettings={escape:B,evaluate:U,interpolate:G,variable:"",imports:{_:pn}},pn.prototype=hn.prototype,pn.prototype.constructor=pn,gn.prototype=On(hn.prototype),gn.prototype.constructor=gn,mn.prototype=On(hn.prototype),mn.prototype.constructor=mn,vn.prototype.clear=function(){this.__data__=en?en(null):{}},vn.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},vn.prototype.get=function(e){var t=this.__data__;if(en){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ye.call(t,e)?t[e]:void 0},vn.prototype.has=function(e){var t=this.__data__;return en?void 0!==t[e]:ye.call(t,e)},vn.prototype.set=function(e,t){return this.__data__[e]=en&&void 0===t?"__lodash_hash_undefined__":t,this},yn.prototype.clear=function(){this.__data__=[]},yn.prototype.delete=function(e){var t=this.__data__,n=wn(t,e);return!(n<0)&&(n==t.length-1?t.pop():We.call(t,n,1),!0)},yn.prototype.get=function(e){var t=this.__data__,n=wn(t,e);return n<0?void 0:t[n][1]},yn.prototype.has=function(e){return wn(this.__data__,e)>-1},yn.prototype.set=function(e,t){var n=this.__data__,r=wn(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},bn.prototype.clear=function(){this.__data__={hash:new vn,map:new(Xt||yn),string:new vn}},bn.prototype.delete=function(e){return vo(this,e).delete(e)},bn.prototype.get=function(e){return vo(this,e).get(e)},bn.prototype.has=function(e){return vo(this,e).has(e)},bn.prototype.set=function(e,t){return vo(this,e).set(e,t),this},An.prototype.add=An.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},An.prototype.has=function(e){return this.__data__.has(e)},Cn.prototype.clear=function(){this.__data__=new yn},Cn.prototype.delete=function(e){return this.__data__.delete(e)},Cn.prototype.get=function(e){return this.__data__.get(e)},Cn.prototype.has=function(e){return this.__data__.has(e)},Cn.prototype.set=function(e,t){var n=this.__data__;return n instanceof yn&&200==n.__data__.length&&(n=this.__data__=new bn(n.__data__)),n.set(e,t),this};var jn=Wr(Hn),Rn=Wr(Vn,!0);function Mn(e,t){var n=!0;return jn(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function Nn(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(void 0===s?a==a&&!da(a):n(a,s)))var s=a,l=i}return l}function Fn(e,t){var n=[];return jn(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function Bn(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=So),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?Bn(s,t-1,n,r,o):lt(o,s):r||(o[o.length]=s)}return o}var Un=Yr(),Gn=Yr(!0);function Hn(e,t){return e&&Un(e,t,Ra)}function Vn(e,t){return e&&Gn(e,t,Ra)}function Wn(e,t){return ot(t,(function(t){return ra(e[t])}))}function Yn(e,t){for(var n=0,r=(t=Po(t,e)?[t]:jr(t)).length;null!=e&&n<r;)e=e[Vo(t[n++])];return n&&n==r?e:void 0}function zn(e,t,n){var r=t(e);return Qi(e)?r:lt(r,n(e))}function Kn(e,t){return e>t}function qn(e,t){return null!=e&&(ye.call(e,t)||"object"==typeof e&&t in e&&null===Ao(e))}function $n(e,t){return null!=e&&t in Object(e)}function Xn(e,t,n){for(var r=n?at:it,o=e[0].length,i=e.length,a=i,s=Array(i),l=1/0,u=[];a--;){var c=e[a];a&&t&&(c=st(c,At(t))),l=Vt(c.length,l),s[a]=!n&&(t||o>=120&&c.length>=120)?new An(a&&c):void 0}c=e[0];var f=-1,d=s[0];e:for(;++f<o&&u.length<l;){var p=c[f],h=t?t(p):p;if(p=n||0!==p?p:0,!(d?It(d,h):r(u,h,n))){for(a=i;--a;){var g=s[a];if(!(g?It(g,h):r(e[a],h,n)))continue e}d&&d.push(h),u.push(p)}}return u}function Zn(e,t,n){Po(t,e)||(e=No(e,t=jr(t)),t=ri(t));var r=null==e?e:e[Vo(t)];return null==r?void 0:Je(r,e,n)}function Qn(e,t,n,r,o){return e===t||(null==e||null==t||!aa(e)&&!sa(t)?e!=e&&t!=t:function(e,t,n,r,o,i){var a=Qi(e),d=Qi(t),p=l,C=l;a||(p=(p=_o(e))==s?m:p);d||(C=(C=_o(t))==s?m:C);var E=p==m&&!Ot(e),w=C==m&&!Ot(t),S=p==C;if(S&&!E)return i||(i=new Cn),a||pa(e)?uo(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!r(new Te(e),new Te(t)));case u:case c:return+e==+t;case f:return e.name==t.name&&e.message==t.message;case g:return e!=+e?t!=+t:e==+t;case v:case b:return e==t+"";case h:var s=Dt;case y:var l=2&i;if(s||(s=Rt),e.size!=t.size&&!l)return!1;var d=a.get(e);return d?d==t:(i|=1,a.set(e,t),uo(s(e),s(t),r,o,i,a));case A:if(fn)return fn.call(e)==fn.call(t)}return!1}(e,t,p,n,r,o,i);if(!(2&o)){var T=E&&ye.call(e,"__wrapped__"),k=w&&ye.call(t,"__wrapped__");if(T||k){var x=T?e.value():e,P=k?t.value():t;return i||(i=new Cn),n(x,P,r,o,i)}}if(!S)return!1;return i||(i=new Cn),function(e,t,n,r,o,i){var a=2&o,s=Ra(e),l=s.length,u=Ra(t).length;if(l!=u&&!a)return!1;var c=l;for(;c--;){var f=s[c];if(!(a?f in t:qn(t,f)))return!1}var d=i.get(e);if(d)return d==t;var p=!0;i.set(e,t);var h=a;for(;++c<l;){f=s[c];var g=e[f],m=t[f];if(r)var v=a?r(m,g,f,t,e,i):r(g,m,f,e,t,i);if(!(void 0===v?g===m||n(g,m,r,o,i):v)){p=!1;break}h||(h="constructor"==f)}if(p&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return i.delete(e),p}(e,t,n,r,o,i)}(e,t,Qn,n,r,o))}function Jn(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var l=(s=n[o])[0],u=e[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var f=new Cn;if(r)var d=r(u,c,l,e,t,f);if(!(void 0===d?Qn(c,u,r,3,f):d))return!1}}return!0}function er(e){return!(!aa(e)||(t=e,me&&me in t))&&(ra(e)||Ot(e)?_e:re).test(Wo(e));var t}function tr(e){return"function"==typeof e?e:null==e?as:"object"==typeof e?Qi(e)?ar(e[0],e[1]):ir(e):gs(e)}function(){}function rr(e,t){return e<t}function or(e,t){var n=-1,r=Ji(e)?Array(e.length):[];return jn(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}function ir(e){var t=yo(e);return 1==t.length&&t[0][2]?Ro(t[0][0],t[0][1]):function(n){return n===e||Jn(n,e,t)}}function ar(e,t){return Po(e)&&jo(t)?Ro(Vo(e),t):function(n){var r=Pa(n,e);return void 0===r&&r===t?Oa(n,e):Qn(t,r,void 0,3)}}function sr(e,t,n,r,o){if(e!==t){if(!Qi(t)&&!pa(t))var i=Ma(t);tt(i||t,(function(a,s){if(i&&(a=t[s=a]),aa(a))o||(o=new Cn),function(e,t,n,r,o,i,a){var s=e[n],l=t[n],u=a.get(l);if(u)return void _n(e,n,u);var c=i?i(s,l,n+"",e,t,a):void 0,f=void 0===c;f&&(c=l,Qi(l)||pa(l)?Qi(s)?c=s:ea(s)?c=Ur(s):(f=!1,c=Pn(l,!0)):ua(l)||Zi(l)?Zi(s)?c=Ca(s):!aa(s)||r&&ra(s)?(f=!1,c=Pn(l,!0)):c=s:f=!1);a.set(l,c),f&&o(c,l,r,i,a);a.delete(l),_n(e,n,c)}(e,t,s,n,sr,r,o);else{var l=r?r(e[s],a,s+"",e,t,o):void 0;void 0===l&&(l=a),_n(e,s,l)}}))}}function lr(e,t){var n=e.length;if(n)return ko(t+=t<0?n:0,n)?e[t]:void 0}function ur(e,t,n){var r=-1;return t=st(t.length?t:[as],At(go())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(or(e,(function(e,n,o){return{criteria:st(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var l=Nr(o[r],i[r]);if(l){if(r>=s)return l;var u=n[r];return l*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)}))}function cr(e,t){return e=Object(e),ut(t,(function(t,n){return n in e&&(t[n]=e[n]),t}),{})}function fr(e,t){for(var n=-1,r=co(e),o=r.length,i={};++n<o;){var a=r[n],s=e[a];t(s,a)&&(i[a]=s)}return i}function dr(e){return function(t){return null==t?void 0:t[e]}}function pr(e,t,n,r){var o=r?gt:ht,i=-1,a=t.length,s=e;for(e===t&&(t=Ur(t)),n&&(s=st(e,At(n)));++i<a;)for(var l=0,u=t[i],c=n?n(u):u;(l=o(s,c,l,r))>-1;)s!==e&&We.call(s,l,1),We.call(e,l,1);return e}function hr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;if(ko(o))We.call(e,o,1);else if(Po(o,e))delete e[Vo(o)];else{var a=jr(o),s=No(e,a);null!=s&&delete s[Vo(ri(a))]}}}return e}function gr(e,t){return e+qe(Yt()*(t-e+1))}function mr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=qe(t/2))&&(e+=e)}while(t);return n}function vr(e,t,n,r){for(var o=-1,i=(t=Po(t,e)?[t]:jr(t)).length,a=i-1,s=e;null!=s&&++o<i;){var l=Vo(t[o]);if(aa(s)){var u=n;if(o!=a){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=null==c?ko(t[o+1])?[]:{}:c)}En(s,l,u)}s=s[l]}return e}Pe&&!Ge.call({valueOf:1},"valueOf")&&(nr=function(e){return Lt(Pe(e))});var yr=tn?function(e,t){return tn.set(e,t),e}:as;function br(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}function Ar(e,t){var n;return jn(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function Cr(e,t,n){var r=0,o=e?e.length:r;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!da(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return Ir(e,t,as,n)}function Ir(e,t,n,r){t=n(t);for(var o=0,i=e?e.length:0,a=t!=t,s=null===t,l=da(t),u=void 0===t;o<i;){var c=qe((o+i)/2),f=n(e[c]),d=void 0!==f,p=null===f,h=f==f,g=da(f);if(a)var m=r||h;else m=u?h&&(r||d):s?h&&d&&(r||!p):l?h&&d&&!p&&(r||!g):!p&&!g&&(r?f<=t:f<t);m?o=c+1:i=c}return Vt(i,4294967294)}function _r(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!qi(s,l)){var l=s;i[o++]=0===a?0:a}}return i}function Er(e){return"number"==typeof e?e:da(e)?NaN:+e}function wr(e){if("string"==typeof e)return e;if(da(e))return dn?dn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Sr(e,t,n){var r=-1,o=it,i=e.length,a=!0,s=[],l=s;if(n)a=!1,o=at;else if(i>=200){var u=t?null:ao(e);if(u)return Rt(u);a=!1,o=It,l=new An}else l=t?[]:s;e:for(;++r<i;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var d=l.length;d--;)if(l[d]===f)continue e;t&&l.push(f),s.push(c)}else o(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}function Tr(e,t,n,r){return vr(e,t,n(Yn(e,t)),r)}function kr(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?br(e,r?0:i,r?i+1:o):br(e,r?i+1:0,r?o:i)}function xr(e,t){var n=e;return n instanceof mn&&(n=n.value()),ut(t,(function(e,t){return t.func.apply(t.thisArg,lt([e],t.args))}),n)}function Pr(e,t,n){for(var r=-1,o=e.length;++r<o;)var i=i?lt(Dn(i,e[r],t,n),Dn(e[r],i,t,n)):e[r];return i&&i.length?Sr(i,t,n):[]}function Or(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var s=r<i?t[r]:void 0;n(a,e[r],s)}return a}function Lr(e){return ea(e)?e:[]}function Dr(e){return"function"==typeof e?e:as}function jr(e){return Qi(e)?e:Ho(e)}function Rr(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:br(e,t,n)}function Mr(e){var t=new e.constructor(e.byteLength);return new Te(t).set(new Te(e)),t}function Nr(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=da(e),a=void 0!==t,s=null===t,l=t==t,u=da(t);if(!s&&!u&&!i&&e>t||i&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!l)return-1}return 0}function Fr(e,t,n,r){for(var o=-1,i=e.length,a=n.length,s=-1,l=t.length,u=Ht(i-a,0),c=Array(l+u),f=!r;++s<l;)c[s]=t[s];for(;++o<a;)(f||o<i)&&(c[n[o]]=e[o]);for(;u--;)c[s++]=e[o++];return c}function Br(e,t,n,r){for(var o=-1,i=e.length,a=-1,s=n.length,l=-1,u=t.length,c=Ht(i-s,0),f=Array(c+u),d=!r;++o<c;)f[o]=e[o];for(var p=o;++l<u;)f[p+l]=t[l];for(;++a<s;)(d||o<i)&&(f[p+n[a]]=e[o++]);return f}function Ur(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function(){}