!function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=11)}([function(e,t,n){"use strict";var r,o,i;t.__esModule=!0,r=t.Log||(t.Log={}),o=!1,i="[JIGUANG-JAnalytics]",r.setDebugMode=function(e){r.d(i,"setDebugMode:"+e),o=e},r.d=function(e,t){},r.dd=function(e,t){o&&window.console&&console.log(i+"["+e+"]"+t)},r.ww=function(e,t){window.console&&console.warn(i+"["+e+"]"+t)},r.ee=function(e,t){window.console&&console.error(i+"["+e+"]"+t)}},function(e,t,n){"use strict";function r(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function o(e){return!e||0==e.length}t.__esModule=!0,t.uuid=function(){return r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()},t.isEmpty=o,t.supportPostMessage=function(){return!!window.postMessage},t.jgEncrypto=function(e){if(o(e))return"";for(var t=String.fromCharCode(e.charCodeAt(0)+e.length),n=1;n<e.length;n++)t+=String.fromCharCode(111^e.charCodeAt(n));return escape(t)},t.jgDecrypto=function(e){if(o(e))return"";e=unescape(e);for(var t=String.fromCharCode(e.charCodeAt(0)-e.length),n=1;n<e.length;n++)t+=String.fromCharCode(111^e.charCodeAt(n));return t}},function(e,t,n){"use strict";t.__esModule=!0,t.APPKEY="APPKEY",t.DEVICEID="DEVICEID",t.ACTION_INIT="init",t.ACTION_ONEVENT="onEvent",t.ACTION_ONPAGE="onPage",t.ACTION_ONLOC="onLoc",t.ACTION_ONLOC_CHECK="onCheckLoc";var r=function(){this.lReg=0,this.lRep=0};t.LocalVariable=r,t.packageInterfaceMessageBody=function(e,t,n){return{action:e,data:t,callbackId:n}},t.packageIframeRespond=function(e,t,n,r,o){return{from:e,type:"onRespond",body:{action:t,callbackId:n,code:r,result:o}}}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(2),o=n(1),i=n(0),s=n(4),a="UserInfoHelper",c={uid:0,rId:"",pw:""},u="";function l(e){s.setLocal(r.DEVICEID,e)||s.setCookie(r.DEVICEID,e,3650)}function f(e){if(!o.isEmpty(e)){var t=e.split("|");c={uid:parseInt(t[0]),rId:t[1],pw:t[2]}}return c}t.getDeviceId=function(e){return o.isEmpty(u)?(u=s.getLocal(r.DEVICEID),o.isEmpty(u)?(u=s.getCookie(r.DEVICEID),o.isEmpty(u)?(l(u=o.isEmpty(e)?o.uuid()+Date.now():e),i.Log.d(a,"New devicdId:"+u)):i.Log.d(a,"getDeviceId from cookie:"+u)):i.Log.d(a,"getDeviceId from local:"+u)):i.Log.d(a,"getDeviceId from running:"+u),u},t.getDeviceIdWhitEmpty=function(){var e=s.getLocal(r.DEVICEID);return o.isEmpty(e)?(e=s.getCookie(r.DEVICEID),o.isEmpty(e)?"":e):e},t.setDeviceId=l,t.getUserInfo=function(e){return 0<c.uid?i.Log.d(a,"getUserInfo from running:"+c.uid):0<(c=f(s.getLocal(e+"_U"))).uid?i.Log.d(a,"getUserInfo from local:"+c.uid):0<(c=f(s.getCookie(e+"_U"))).uid?i.Log.d(a,"getUserInfo from Cookie:"+c.uid):i.Log.d(a,"No uid."),c},t.setUserInfo=function(e,t){if(t){var n=(c=t).uid+"|"+t.rId+"|"+t.pw;s.setLocal(e+"_U",n)||s.setCookie(e+"_U",n,3650)}}},function(e,t,n){"use strict";t.__esModule=!0;var s=n(0),i=n(1),a="WebStore";function c(e){try{var t=window.localStorage;if(t){var n=i.jgEncrypto(e),r=t.getItem("JG_"+n);return r?JSON.parse(i.jgDecrypto(r)):null}}catch(e){}return s.Log.d(a,"The browser does not support localStorage.GET"),null}function r(e,t,n){if(void 0===n&&(n=0),!navigator.cookieEnabled)return s.Log.d(a,"The browser does not support cookies.SET"),!1;var r="JG_"+e+"="+t;if(0==n)document.cookie=r;else{var o=new Date;o.setDate(o.getDate()+n);var i="expires="+o.toUTCString();document.cookie=r+"; "+i}return s.Log.d(a,"Cookie.SET："+r),!0}t.setLocal=function(e,t){try{var n=window.localStorage;if(n&&t){var r=i.jgEncrypto(e),o=i.jgEncrypto(JSON.stringify(t));if(n.setItem("JG_"+r,o),c(e))return s.Log.d(a,"LocalStorage.SET："+e+"="+JSON.stringify(t)),!0}}catch(e){}return s.Log.d(a,"The browser does not support localStorage.SET"),!1},t.getLocal=c,t.removeLocal=function(e){try{var t=window.localStorage;if(t){var n=i.jgEncrypto(e);return t.removeItem("JG_"+n),!0}}catch(e){return!1}},t.setCookie=r,t.getCookie=function(e){if(!navigator.cookieEnabled)return s.Log.d(a,"The browser does not support cookies.GET"),"";for(var t=document.cookie.replace(/\s/g,"").split(";"),n=0;n<t.length;n++){var r=t[n].split("=");if(r[0]=="JG_"+e)return decodeURIComponent(r[1])}return null},t.removeCookie=function(e){return r(name,"0",-1)}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(2),o=n(4),i=n(1);function s(e){if(i.isEmpty(e))return null;var t=e.split("|");return{lReg:parseInt(t[0]),lRep:parseInt(t[1])}}t.getLocalVariable=function(e){var t=s(o.getLocal(e+"_LV"));return t||(t=s(o.getCookie(e+"_LV")))||new r.LocalVariable},t.clearLocalVariable=function(e){o.removeLocal(e+"_LV")||o.removeCookie(e+"_LV")},t.setLocalVariable=function(e,t,n){var r=t+"|"+n;o.setLocal(e+"_LV",r)||o.setCookie(e+"_LV",r)},t.getPageVariable=function(e,t){if(!navigator.cookieEnabled)return{vId:"",lPage:t,duration:0};var n=function(e){if(i.isEmpty(e))return{vId:"",lPage:0};var t=e.split("|");return{vId:t[0],lPage:parseInt(t[1])}}(o.getCookie(e+"_PV"));return i.isEmpty(n.vId)||18e5<t-n.lPage||t-n.lPage<0?(n.vId=t+"",n.duration=0):n.duration=Math.round((t-n.lPage)/1e3),n.lPage=t,o.setCookie(e+"_PV",n.vId+"|"+n.lPage),n}},function(e){e.exports={JANALYTIC_REGISTER_URL:"https://web-stat.jpush.cn/v1/register/web",JANALYTIC_REPORT_URL:"https://web-stat.jpush.cn/web",REQUEST_TIMEOUT:15e3}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),o=n(6),i="RequestHelper",s=function(){function e(){}return e.prototype.request=function(e,t){var n=this.generateHttpRequest();n||r.Log.dd(i,"This browser is not support ajax"),n.onload=function(e){4===n.readyState&&t(n.status,n.responseText)},n.onloadstart=function(e){},n.onabort=function(e){t(2,{error:{desc:"request aborted"}})},n.onerror=function(e){t(2,{error:{desc:"request fail"}})},n.ontimeout=function(e){t(2,{error:{desc:"timeout"}})},"GET"==e.method?(n.open("GET",e.url+(null==e.param?"":"?"+e.param),e.async),n.send(null)):(n.open("POST",e.url,e.async),n.timeout=o.REQUEST_TIMEOUT,n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.header&&n.setRequestHeader("X-Jpush-AuthType","webregister"),n.send(e.param))},e.prototype.generateHttpRequest=function(){var t;if(XMLHttpRequest)try{t=new XMLHttpRequest}catch(e){}else if(ActiveXObject)try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=new ActiveXObject("Msxml2.XMLHTTP")}return t},e}();t.httpReport=function(t){return new Promise(function(n,e){(new s).request(t,function(e,t){r.Log.d(i,"httpReport:"+e+"_"+t),n({statusCode:e,result:t})})})}},,,,function(e,t,n){"use strict";t.__esModule=!0;var s=n(0);n(12);var a=n(2),c=n(16),u=n(3),i=n(17),o=n(5),l="JAnalytics",r=function(){function e(){this.mOrigin=void 0,s.Log.d(l,"JAnalytics loading"),window.addEventListener("message",this,!1),window.addEventListener("storage",this,!1),window.addEventListener("unload",this,!1)}return e.prototype.handleEvent=function(e){switch(e.type){case"unload":this.dealloc();break;case"storage":if(!this.mInitConfig)return;"JG_"+this.mInitConfig.appkey+"_U"==e.key&&c.isRegistered(this.mInitConfig.appkey)&&(c.stopTimeOut(),this.sendMsgToInterface(a.ACTION_INIT,this.mInitCallbackId,1));break;case"message":this.handleAction(e)}},e.prototype.handleAction=function(e){try{var t=JSON.parse(e.data)}catch(e){return}if("JAnalytics"==t.from){var n=t.body;switch(s.Log.d(l,"receive message:"+JSON.stringify(n)),n.action){case a.ACTION_INIT:this.init(n.data,n.callbackId,e.origin);break;case a.ACTION_ONEVENT:this.onEvent(n.data,n.callbackId,e.source,e.origin);break;case a.ACTION_ONPAGE:this.onPage(n.data);break;case a.ACTION_ONLOC_CHECK:this.onCheckLoc(n.data,n.callbackId,e.origin);break;case a.ACTION_ONLOC:this.onLoc(n.data)}}},e.prototype.init=function(e,n,t){var r=this;s.Log.setDebugMode(e.initConfig.debugMode),s.Log.d(l,"init with appkey:"+e.initConfig.appkey),this.mInitConfig=e.initConfig,"https:"==this.mInitConfig.protocal||"http:"==this.mInitConfig.protocal?this.mOrigin=t:this.mOrigin="*",this.mInitCallbackId=n;var o=this.mInitConfig.appkey,i=e.userInfo;u.getDeviceId(i.dId),c.isRegistered(o)?(this.logRegister(u.getUserInfo(o).rId),this.sendMsgToInterface(a.ACTION_INIT,n,1)):0<i.uid?(s.Log.d(l,"save interface userinfo"),this.logRegister(i.rId),u.setUserInfo(o,i),this.sendMsgToInterface(a.ACTION_INIT,n,1)):c.register(e.initConfig,function(e,t){s.Log.d(l,"register code:"+e),2!=e&&(t.deviceId=u.getDeviceId()),r.sendMsgToInterface(a.ACTION_INIT,n,e,t)},!0)},e.prototype.logRegister=function(){}