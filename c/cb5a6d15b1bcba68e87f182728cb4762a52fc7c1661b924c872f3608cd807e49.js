!function(global,factory){"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){var deletedIds=[],document=window.document,slice=deletedIds.slice,concat=deletedIds.concat,push=deletedIds.push,indexOf=deletedIds.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=jQuery.type(obj);return"function"!==type&&!jQuery.isWindow(obj)&&("array"===type||0===length||"number"==typeof length&&0<length&&length-1 in obj)}jQuery.fn=jQuery.prototype={jquery:"1.12.4",constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return null!=num?num<0?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(0<=j&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:deletedIds.sort,splice:deletedIds.splice},jQuery.extend=jQuery.fn.extend=function(){var copyIsArray,copy,name,options,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||jQuery.isFunction(target)||(target={}),i===length&&(target=this,i--);i<length;i++)if(null!=(options=arguments[i]))for(name in options)clone=target[name],target!==(copy=options[name])&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(clone=copyIsArray?(copyIsArray=!1,clone&&jQuery.isArray(clone)?clone:[]):clone&&jQuery.isPlainObject(clone)?clone:{},target[name]=jQuery.extend(deep,clone,copy)):copy!==undefined&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray||function(obj){return"array"===jQuery.type(obj)},isWindow:function(obj){return null!=obj&&obj==obj.window},isNumeric:function(obj){var realStringObj=obj&&obj.toString();return!jQuery.isArray(obj)&&0<=realStringObj-parseFloat(realStringObj)+1},isEmptyObject:function(obj){for(var name in obj)return!1;return!0},isPlainObject:function(obj){if(!obj||"object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj))return!1;try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!support.ownFirst)for(var key in obj)return hasOwn.call(obj,key);for(key in obj);return key===undefined||hasOwn.call(obj,key)},type:function(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(data){data&&jQuery.trim(data)&&(window.execScript||function(data){window.eval.call(window,data)})(data)},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback){var length,i=0;if(isArrayLike(obj))for(length=obj.length;i<length&&!1!==callback.call(obj[i],i,obj[i]);i++);else for(i in obj)if(!1===callback.call(obj[i],i,obj[i]))break;return obj},trim:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArrayLike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){var len;if(arr){if(indexOf)return indexOf.call(arr,elem,i);for(len=arr.length,i=i?i<0?Math.max(0,len+i):i:0;i<len;i++)if(i in arr&&arr[i]===elem)return i}return-1},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;j<len;)first[i++]=second[j++];if(len!=len)for(;second[j]!==undefined;)first[i++]=second[j++];return first.length=i,first},grep:function(elems,callback,invert){for(var matches=[],i=0,length=elems.length,callbackExpect=!invert;i<length;i++)!callback(elems[i],i)!=callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems))for(length=elems.length;i<length;i++)null!=(value=callback(elems[i],i,arg))&&ret.push(value);else for(i in elems)null!=(value=callback(elems[i],i,arg))&&ret.push(value);return concat.apply([],ret)},guid:1,proxy:function(fn,context){var args,proxy;return"string"==typeof context&&(proxy=fn[context],context=fn,fn=proxy),jQuery.isFunction(fn)?(args=slice.call(arguments,2),(proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))}).guid=fn.guid=fn.guid||jQuery.guid++,proxy):undefined},now:function(){return+new Date},support:support}),"function"==typeof Symbol&&(jQuery.fn[Symbol.iterator]=deletedIds[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var input=function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+ +new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){for(var i=0,len=list.length;i<len;i++)if(list[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+identifier+")"),CLASS:new RegExp("^\\.("+identifier+")"),TAG:new RegExp("^("+identifier+"|[*])"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!=high||escapedWhitespace?escaped:high<0?String.fromCharCode(65536+high):String.fromCharCode(high>>10|55296,1023&high|56320)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}function Sizzle(selector,context,results,seed){var m,i,elem,nid,nidselect,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;if(results=results||[],"string"!=typeof selector||!selector||1!==nodeType&&9!==nodeType&&11!==nodeType)return results;if(!seed&&((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,documentIsHTML)){if(11!==nodeType&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(!(elem=context.getElementById(m)))return results;if(elem.id===m)return results.push(elem),results}else if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&!compilerCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(1!==nodeType)newContext=context,newSelector=selector;else if("object"!==context.nodeName.toLowerCase()){for((nid=context.getAttribute("id"))?nid=nid.replace(rescape,"\\$&"):context.setAttribute("id",nid=expando),i=(groups=tokenize(selector)).length,nidselect=ridentifier.test(nid)?"#"+nid:"[id='"+nid+"']";i--;)groups[i]=nidselect+" "+toSelector(groups[i]);newSelector=groups.join(","),newContext=rsibling.test(selector)&&testContext(context.parentNode)||context}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{nid===expando&&context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){var keys=[];function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&&div.parentNode.removeChild(div)}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=arr.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||1<<31)-(~a.sourceIndex||1<<31);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&"undefined"!=typeof context.getElementsByTagName&&context}for(i in support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return!!documentElement&&"HTML"!==documentElement.nodeName},setDocument=Sizzle.setDocument=function(node){var hasCompare=node?node.ownerDocument||node:preferredDoc;return hasCompare!==document&&9===hasCompare.nodeType&&hasCompare.documentElement&&(docElem=(document=hasCompare).documentElement,documentIsHTML=!isXML(document),(hasCompare=document.defaultView)&&hasCompare.top!==hasCompare&&(hasCompare.addEventListener?hasCompare.addEventListener("unload",unloadHandler,!1):hasCompare.attachEvent&&hasCompare.attachEvent("onunload",unloadHandler)),support.attributes=assert(function(div){return div.className="i",!div.getAttribute("className")}),support.getElementsByTagName=assert(function(div){return div.appendChild(document.createComment("")),!div.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(document.getElementsByClassName),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!document.getElementsByName||!document.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if("undefined"!=typeof context.getElementById&&documentIsHTML){var m=context.getElementById(id);return m?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node="undefined"!=typeof elem.getAttributeNode&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return"undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName(tag):support.qsa?context.querySelectorAll(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"!==tag)return results;for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if("undefined"!=typeof context.getElementsByClassName&&documentIsHTML)return context.getElementsByClassName(className)},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(document.querySelectorAll))&&(assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a><select id='"+expando+"-\r\\' msallowcapture=''><option selected=''></option></select>",div.querySelectorAll("[msallowcapture^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll("[id~="+expando+"-]").length||rbuggyQSA.push("~="),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked"),div.querySelectorAll("a#"+expando+"+*").length||rbuggyQSA.push(".#.+[+~]")}),assert(function(div){var input=document.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("name","D"),div.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare||(1&(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===document||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)?-1:b===document||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===document?-1:b===document?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0}),document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),support.matchesSelector&&documentIsHTML&&!compilerCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return 0<Sizzle(expr,document,null,[elem]).length},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var val=Expr.attrHandle[name.toLowerCase()],val=val&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?val(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},(Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||"undefined"!=typeof elem.getAttribute&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:!operator||(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&-1<result.indexOf(check):"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?-1<(" "+result.replace(rwhitespace," ")+" ").indexOf(check):"|="===operator&&(result===check||result.slice(0,check.length+1)===check+"-"))}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!=forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=!1;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(diff=(nodeIndex=(cache=(uniqueCache=(outerCache=(node=parent)[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]||[])[0]===dirruns&&cache[1])&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}else if(!1===(diff=useCache?nodeIndex=(cache=(uniqueCache=(outerCache=(node=elem)[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]||[])[0]===dirruns&&cache[1]:diff))for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((uniqueCache=(outerCache=node[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]=[dirruns,diff]),node!==elem)););return(diff-=last)===first||diff%first==0&&0<=diff/first}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):1<fn.length?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)seed[idx=indexOf(seed,matched[i])]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}}),has:markFunction(function(selector){return function(elem){return 0<Sizzle(selector,elem).length}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return-1<(elem.textContent||elem.innerText||getText(elem)).indexOf(text)}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return(elemLang=elemLang.toLowerCase())===lang||0===elemLang.indexOf(lang+"-")}while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return!1===elem.disabled},disabled:function(elem){return!0===elem.disabled},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,!0===elem.selected},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;0<=--i;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}}).pseudos.nth=Expr.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=function(type){return function(elem){return"input"===elem.nodeName.toLowerCase()&&elem.type===type}}(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=function(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}(i);function setFilters(){}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";i<len;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var uniqueCache,oldCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements){if((oldCache=(uniqueCache=(oldCache=elem[expando]||(elem[expando]={}))[elem.uniqueID]||(oldCache[elem.uniqueID]={}))[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if((uniqueCache[dir]=newCache)[2]=matcher(elem,context,xml))return!0}}}function elementMatcher(matchers){return 1<matchers.length?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;i<len;i++)(elem=unmatched[i])&&(filter&&!filter(elem,context,xml)||(newUnmatched.push(elem),mapped&&map.push(i)));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||function(selector,contexts,results){for(var i=0,len=contexts.length;i<len;i++)Sizzle(selector,contexts[i],results);return results}(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&-1<(temp=postFinder?indexOf(seed,elem):preMap[i])&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){for(type in matched&&!(match=rcomma.exec(soFar))||(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length)),Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)},compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(i=(match=match||tokenize(selector)).length;i--;)((cached=function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return-1<indexOf(checkContext,elem)},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext:matchAnyContext)(elem,context,xml);return checkContext=null,ret}];i<len;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if((matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches))[expando]){for(j=++i;j<len&&!Expr.relative[tokens[j].type];j++);return setMatcher(1<i&&elementMatcher(matchers),1<i&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}(match[i]))[expando]?setMatchers:elementMatchers).push(cached);(cached=compilerCache(selector,function(elementMatchers,setMatchers){var bySet=0<setMatchers.length,byElement=0<elementMatchers.length,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context===document||context||outermost);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0,context||elem.ownerDocument===document||(setDocument(elem),xml=!documentIsHTML);matcher=elementMatchers[j++];)if(matcher(elem,context||document,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(0<matchedCount)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&0<setMatched.length&&1<matchedCount+setMatchers.length&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}(elementMatchers,setMatchers))).selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if(2<(tokens=match[0]=match[0].slice(0)).length&&"ID"===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(!(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0]))return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),!(selector=seed.length&&toSelector(tokens)))return push.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(document.createElement("div"))}),assert(function(div){return div.innerHTML="<a href='#'></a>","#"===div.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML)return elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(div){return div.innerHTML="<input/>",div.firstChild.setAttribute("value",""),""===div.firstChild.getAttribute("value")})||addHandle("value",function(elem,name,isXML){if(!isXML&&"input"===elem.nodeName.toLowerCase())return elem.defaultValue}),assert(function(div){return null==div.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;if(!isXML)return!0===elem[name]?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=input,jQuery.expr=input.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.uniqueSort=jQuery.unique=input.uniqueSort,jQuery.text=input.getText,jQuery.isXMLDoc=input.isXML,jQuery.contains=input.contains;var dir=function(elem,dir,until){for(var matched=[],truncate=until!==undefined;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},siblings=function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched},rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(risSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return-1<jQuery.inArray(elem,qualifier)!==not})}jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,ret=[],self=this,len=self.length;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;i<len;i++)jQuery.find(selector,self[i],ret);return(ret=this.pushStack(1<len?jQuery.unique(ret):ret)).selector=this.selector?this.selector+" "+selector:selector,ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector)return this;if(root=root||rootjQuery,"string"!=typeof selector)return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?"undefined"!=typeof root.ready?root.ready(selector):selector(jQuery):(selector.selector!==undefined&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this));if(!(match="<"===selector.charAt(0)&&">"===selector.charAt(selector.length-1)&&3<=selector.length?[null,selector,null]:rquickExpr.exec(selector))||!match[1]&&context)return(!context||context.jquery?context||root:this.constructor(context)).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}if((elem=document.getElementById(match[2]))&&elem.parentNode){if(elem.id!==match[2])return rootjQuery.find(selector);this.length=1,this[0]=elem}return this.context=document,this.selector=selector,this}).prototype=jQuery.fn;var rootjQuery=jQuery(document),rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}jQuery.fn.extend({has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;i<len;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;i<l;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?-1<pos.index(cur):1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(1<matched.length?jQuery.uniqueSort(matched):matched)},index:function(elem){return elem?"string"==typeof elem?jQuery.inArray(this[0],jQuery(elem)):jQuery.inArray(elem.jquery?elem[0]:elem,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return dir(elem,"nextSibling")},prevAll:function(elem){return dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return dir(elem,"previousSibling",until)},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return siblings(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);return(selector="Until"!==name.slice(-5)?until:selector)&&"string"==typeof selector&&(ret=jQuery.filter(selector,ret)),1<this.length&&(guaranteedUnique[name]||(ret=jQuery.uniqueSort(ret)),rparentsprev.test(name)&&(ret=ret.reverse())),this.pushStack(ret)}});var readyList,i,rnotwhite=/\S+/g;function detach(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",completed),window.removeEventListener("load",completed)):(document.detachEvent("onreadystatechange",completed),window.detachEvent("onload",completed))}function completed(){!document.addEventListener&&"load"!==window.event.type&&"complete"!==document.readyState||(detach(),jQuery.ready())}for(i in jQuery.Callbacks=function(options){options="string"==typeof options?function(options){var object={};return jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0}),object}(options):jQuery.extend({},options);var firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){for(locked=options.once,fired=firing=!0;queue.length;firingIndex=-1)for(memory=queue.shift();++firingIndex<list.length;)!1===list[firingIndex].apply(memory[0],memory[1])&&options.stopOnFalse&&(firingIndex=list.length,memory=!1);options.memory||(memory=!1),firing=!1,locked&&(list=memory?[]:"")},self={add:function(){return list&&(memory&&!firing&&(firingIndex=list.length-1,queue.push(memory)),function add(args){jQuery.each(args,function(_,arg){jQuery.isFunction(arg)?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==jQuery.type(arg)&&add(arg)})}(arguments),memory&&!firing&&fire()),this},remove:function(){return jQuery.each(arguments,function(_,arg){for(var index;-1<(index=jQuery.inArray(arg,list,index));)list.splice(index,1),index<=firingIndex&&firingIndex--}),this},has:function(fn){return fn?-1<jQuery.inArray(fn,list):0<list.length},empty:function(){return list=list&&[],this},disable:function(){return locked=queue=[],list=memory="",this},disabled:function(){return!list},lock:function(){return locked=!0,memory||self.disable(),this},locked:function(){return!!locked},fireWith:function(context,args){return locked||(args=[context,(args=args||[]).slice?args.slice():args],queue.push(args),firing||fire()),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject):newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=1<arguments.length?slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(1<length)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);i<length;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().progress(updateFunc(i,progressContexts,progressValues)).done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}}),jQuery.fn.ready=function(fn){return jQuery.ready.promise().done(fn),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){(!0===wait?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0)!==wait&&0<--jQuery.readyWait||(readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready")))}}),jQuery.ready.promise=function(obj){if(!readyList)if(readyList=jQuery.Deferred(),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll)window.setTimeout(jQuery.ready);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",completed),window.addEventListener("load",completed);else{document.attachEvent("onreadystatechange",completed),window.attachEvent("onload",completed);var top=!1;try{top=null==window.frameElement&&document.documentElement}catch(e){}top&&top.doScroll&&!function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left")}catch(e){return window.setTimeout(doScrollCheck,50)}detach(),jQuery.ready()}}()}return readyList.promise(obj)},jQuery.ready.promise(),jQuery(support))break;support.ownFirst="0"===i,support.inlineBlockNeedsLayout=!1,jQuery(function(){var val,container,body=document.getElementsByTagName("body")[0];body&&body.style&&(val=document.createElement("div"),(container=document.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",body.appendChild(container).appendChild(val),"undefined"!=typeof val.style.zoom&&(val.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",support.inlineBlockNeedsLayout=val=3===val.offsetWidth,val&&(body.style.zoom=1)),body.removeChild(container))}),function(){var div=document.createElement("div");support.deleteExpando=!0;try{delete div.test}catch(e){support.deleteExpando=!1}}();var shrinkWrapBlocksVal,acceptData=function(elem){var noData=jQuery.noData[(elem.nodeName+" ").toLowerCase()],nodeType=+elem.nodeType||1;return(1===nodeType||9===nodeType)&&(!noData||!0!==noData&&elem.getAttribute("classid")===noData)},rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;function dataAttr(elem,key,data){if(data===undefined&&1===elem.nodeType){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();if("string"==typeof(data=elem.getAttribute(name))){try{data="true"===data||"false"!==data&&("null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data)}catch(e){}jQuery.data(elem,key,data)}else data=undefined}return data}function isEmptyDataObject(obj){for(var name in obj)if(("data"!==name||!jQuery.isEmptyObject(obj[name]))&&"toJSON"!==name)return;return 1}function internalData(elem,name,data,pvt){if(acceptData(elem)){var ret,internalKey=jQuery.expando,isNode=elem.nodeType,thisCache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if(id&&thisCache[id]&&(pvt||thisCache[id].data)||data!==undefined||"string"!=typeof name)return thisCache[id=id||(isNode?elem[internalKey]=deletedIds.pop()||jQuery.guid++:internalKey)]||(thisCache[id]=isNode?{}:{toJSON:jQuery.noop}),"object"!=typeof name&&"function"!=typeof name||(pvt?thisCache[id]=jQuery.extend(thisCache[id],name):thisCache[id].data=jQuery.extend(thisCache[id].data,name)),thisCache=thisCache[id],pvt||(thisCache.data||(thisCache.data={}),thisCache=thisCache.data),data!==undefined&&(thisCache[jQuery.camelCase(name)]=data),"string"==typeof name?null==(ret=thisCache[name])&&(ret=thisCache[jQuery.camelCase(name)]):ret=thisCache,ret}}function internalRemoveData(elem,name,pvt){if(acceptData(elem)){var thisCache,i,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(cache[id]){if(name&&(thisCache=pvt?cache[id]:cache[id].data)){i=(name=jQuery.isArray(name)?name.concat(jQuery.map(name,jQuery.camelCase)):name in thisCache||(name=jQuery.camelCase(name))in thisCache?[name]:name.split(" ")).length;for(;i--;)delete thisCache[name[i]];if(pvt?!isEmptyDataObject(thisCache):!jQuery.isEmptyObject(thisCache))return}(pvt||(delete cache[id].data,isEmptyDataObject(cache[id])))&&(isNode?jQuery.cleanData([elem],!0):support.deleteExpando||cache!=cache.window?delete cache[id]:cache[id]=undefined)}}}jQuery.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(elem){return!!(elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando])&&!isEmptyDataObject(elem)},data:function(elem,name,data){return internalData(elem,name,data)},removeData:function(elem,name){return internalRemoveData(elem,name)},_data:function(elem,name,data){return internalData(elem,name,data,!0)},_removeData:function(elem,name){return internalRemoveData(elem,name,!0)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key!==undefined)return"object"==typeof key?this.each(function(){jQuery.data(this,key)}):1<arguments.length?this.each(function(){jQuery.data(this,key,value)}):elem?dataAttr(elem,key,jQuery.data(elem,key)):undefined;if(this.length&&(data=jQuery.data(elem),1===elem.nodeType&&!jQuery._data(elem,"parsedAttrs"))){for(i=attrs.length;i--;)attrs[i]&&0===(name=attrs[i].name).indexOf("data-")&&dataAttr(elem,name=jQuery.camelCase(name.slice(5)),data[name]);jQuery._data(elem,"parsedAttrs",!0)}return data},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;if(elem)return queue=jQuery._data(elem,type=(type||"fx")+"queue"),data&&(!queue||jQuery.isArray(data)?queue=jQuery._data(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type);"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,function(){jQuery.dequeue(elem,type)},hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery._removeData(elem,type+"queue"),jQuery._removeData(elem,key)})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=undefined),type=type||"fx";i--;)(tmp=jQuery._data(elements[i],type+"queueHooks"))&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}}),support.shrinkWrapBlocks=function(){return null!=shrinkWrapBlocksVal?shrinkWrapBlocksVal:(shrinkWrapBlocksVal=!1,(body=document.getElementsByTagName("body")[0])&&body.style?(div=document.createElement("div"),(container=document.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",body.appendChild(container).appendChild(div),"undefined"!=typeof div.style.zoom&&(div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",div.appendChild(document.createElement("div")).style.width="5px",shrinkWrapBlocksVal=3!==div.offsetWidth),body.removeChild(container),shrinkWrapBlocksVal):void 0);var div,body,container};var xhrSupported=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rcssNum=new RegExp("^(?:([+-])=|)("+xhrSupported+")([a-z%]*)$","i"),cssExpand=["Top","Right","Bottom","Left"],isHidden=function(elem,el){return"none"===jQuery.css(elem=el||elem,"display")||!jQuery.contains(elem.ownerDocument,elem)};function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale=1,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,"")},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=(jQuery.cssNumber[prop]||"px"!==unit&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit)for(unit=unit||initialInUnit[3],valueParts=valueParts||[],initialInUnit=+initial||1;initialInUnit/=scale=scale||".5",jQuery.style(elem,prop,initialInUnit+unit),scale!==(scale=currentValue()/initial)&&1!==scale&&--maxIterations;);return valueParts&&(initialInUnit=+initialInUnit||+initial||0,adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2],tween&&(tween.unit=unit,tween.start=initialInUnit,tween.end=adjusted)),adjusted}var div,fragment,access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,length=elems.length,bulk=null==key;if("object"===jQuery.type(key))for(i in chainable=!0,key)access(elems,fn,i,key[i],!0,emptyGet,raw);else if(value!==undefined&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),fn=bulk?raw?(fn.call(elems,value),null):(bulk=fn,function(elem,key,value){return bulk.call(jQuery(elem),value)}):fn))for(;i<length;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet},rcheckableType=/^(?:checkbox|radio)$/i,rtagName=/<([\w:-]+)/,rscriptType=/^$|\/(?:java|ecma)script/i,rleadingWhitespace=/^\s+/,nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement)for(;list.length;)safeFrag.createElement(list.pop());return safeFrag}div=document.createElement("div"),fragment=document.createDocumentFragment(),input=document.createElement("input"),div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",support.leadingWhitespace=3===div.firstChild.nodeType,support.tbody=!div.getElementsByTagName("tbody").length,support.htmlSerialize=!!div.getElementsByTagName("link").length,support.html5Clone="<:nav></:nav>"!==document.createElement("nav").cloneNode(!0).outerHTML,input.type="checkbox",input.checked=!0,fragment.appendChild(input),support.appendChecked=input.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue,fragment.appendChild(div),(input=document.createElement("input")).setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,support.noCloneEvent=!!div.addEventListener,div[jQuery.expando]=1,support.attributes=!div.getAttribute(jQuery.expando);var wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};function getAll(context,tag){var elems,elem,i=0,found="undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName(tag||"*"):"undefined"!=typeof context.querySelectorAll?context.querySelectorAll(tag||"*"):undefined;if(!found)for(found=[],elems=context.childNodes||context;null!=(elem=elems[i]);i++)!tag||jQuery.nodeName(elem,tag)?found.push(elem):jQuery.merge(found,getAll(elem,tag));return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],found):found}function setGlobalEval(elems,refElements){for(var elem,i=0;null!=(elem=elems[i]);i++)jQuery._data(elem,"globalEval",!refElements||jQuery._data(refElements[i],"globalEval"))}wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var rhtml=/<|&#?\w+;/,rtbody=/<tbody/i;function fixDefaultChecked(elem){rcheckableType.test(elem.type)&&(elem.defaultChecked=elem.checked)}function buildFragment(elems,context,scripts,selection,ignored){for(var j,elem,contains,tmp,tag,tbody,wrap,l=elems.length,safe=createSafeFragment(context),nodes=[],i=0;i<l;i++)if((elem=elems[i])||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||safe.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;if(!support.leadingWhitespace&&rleadingWhitespace.test(elem)&&nodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0])),!support.tbody)for(j=(elem="table"!==tag||rtbody.test(elem)?"<table>"!==wrap[1]||rtbody.test(elem)?0:tmp:tmp.firstChild)&&elem.childNodes.length;j--;)jQuery.nodeName(tbody=elem.childNodes[j],"tbody")&&!tbody.childNodes.length&&elem.removeChild(tbody);for(jQuery.merge(nodes,tmp.childNodes),tmp.textContent="";tmp.firstChild;)tmp.removeChild(tmp.firstChild);tmp=safe.lastChild}else nodes.push(context.createTextNode(elem));for(tmp&&safe.removeChild(tmp),support.appendChecked||jQuery.grep(getAll(nodes,"input"),fixDefaultChecked),i=0;elem=nodes[i++];)if(selection&&-1<jQuery.inArray(elem,selection))ignored&&ignored.push(elem);else if(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(safe.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts)for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return tmp=null,safe}var rformElems=/^(?:input|select|textarea)$/i,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function on(elem,types,selector,data,fn,one){var origFn,type;if("object"==typeof types){for(type in"string"!=typeof selector&&(data=data||selector,selector=undefined),types)on(elem,type,selector,data,types[type],one);return elem}if(null==data&&null==fn?(fn=selector,data=selector=undefined):null==fn&&("string"==typeof selector?(fn=data,data=undefined):(fn=data,data=selector,selector=undefined)),!1===fn)fn=returnFalse;else if(!fn)return elem;return 1===one&&(origFn=fn,(fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)}).guid=origFn.guid||(origFn.guid=jQuery.guid++)),elem.each(function(){jQuery.event.add(this,types,fn,data,selector)})}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var events,t,handleObjIn,special,eventHandle,handleObj,type,namespaces,handlers,elemData=jQuery._data(elem);if(elemData)for(handler.handler&&(handler=(handleObjIn=handler).handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||((eventHandle=elemData.handle=function(e){return void 0===jQuery||e&&jQuery.event.triggered===e.type?undefined:jQuery.event.dispatch.apply(eventHandle.elem,arguments)}).elem=elem),t=(types=(types||"").match(rnotwhite)||[""]).length;t--;)type=handlers=(handleObj=rtypenamespace.exec(types[t])||[])[1],namespaces=(handleObj[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:handlers,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||((handlers=events[type]=[]).delegateCount=0,special.setup&&!1!==special.setup.call(elem,data,namespaces,eventHandle)||(elem.addEventListener?elem.addEventListener(type,eventHandle,!1):elem.attachEvent&&elem.attachEvent("on"+type,eventHandle))),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,handleObj,tmp,origCount,t,events,special,handlers,type,namespaces,origType,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(elemData&&(events=elemData.events)){for(t=(types=(types||"").match(rnotwhite)||[""]).length;t--;)if(type=origType=(tmp=rtypenamespace.exec(types[t])||[])[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},handlers=events[type=(selector?special.delegateType:special.bindType)||type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&!1!==special.teardown.call(elem,namespaces,elemData.handle)||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&(delete elemData.handle,jQuery._removeData(elem,"events"))}},trigger:function(event,data,elem,onlyHandlers){var handle,ontype,bubbleType,special,tmp,i,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[],cur=tmp=elem=elem||document;if(3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(-1<type.indexOf(".")&&(type=(namespaces=type.split(".")).shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,(event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event)).isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=undefined,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||!1!==special.trigger.apply(elem,data))){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=1<i?bubbleType:special.bindType||type,(handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle"))&&handle.apply(cur,data),(handle=ontype&&cur[ontype])&&handle.apply&&acceptData(cur)&&(event.result=handle.apply(cur,data),!1===event.result&&event.preventDefault());if(event.type=type,!onlyHandlers&&!event.isDefaultPrevented()&&(!special._default||!1===special._default.apply(eventPath.pop(),data))&&acceptData(elem)&&ontype&&elem[type]&&!jQuery.isWindow(elem)){(tmp=elem[ontype])&&(elem[ontype]=null),jQuery.event.triggered=type;try{elem[type]()}catch(e){}jQuery.event.triggered=undefined,tmp&&(elem[ontype]=tmp)}return event.result}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,matched,ret,handlerQueue,args=slice.call(arguments),handlers=(jQuery._data(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if((args[0]=event).delegateTarget=this,!special.preDispatch||!1!==special.preDispatch.call(this,event)){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(ret=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)event.rnamespace&&!event.rnamespace.test(ret.namespace)||(event.handleObj=ret,event.data=ret.data,(ret=((jQuery.event.special[ret.origType]||{}).handle||ret.handler).apply(matched.elem,args))!==undefined&&!1===(event.result=ret)&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&("click"!==event.type||isNaN(event.button)||event.button<1))for(;cur!=this;cur=cur.parentNode||this)if(1===cur.nodeType&&(!0!==cur.disabled||"click"!==event.type)){for(matches=[],i=0;i<delegateCount;i++)matches[sel=(handleObj=handlers[i]).selector+" "]===undefined&&(matches[sel]=handleObj.needsContext?-1<jQuery(sel,this).index(cur):jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<handlers.length&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)event[prop=copy[i]]=originalEvent[prop];return event.target||(event.target=originalEvent.srcElement||document),3===event.target.nodeType&&(event.target=event.target.parentNode),event.metaKey=!!event.metaKey,fixHook.filter?fixHook.filter(event,originalEvent):event},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var body,doc,button=original.button,fromElement=original.fromElement;return null==event.pageX&&null!=original.clientX&&(doc=(body=event.target.ownerDocument||document).documentElement,body=body.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),!event.relatedTarget&&fromElement&&(event.relatedTarget=fromElement===event.target?original.toElement:fromElement),event.which||button===undefined||(event.which=1&button?1:2&button?3:4&button?2:0),event}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(jQuery.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){event.result!==undefined&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0});jQuery.event.trigger(e,null,elem),e.isDefaultPrevented()&&event.preventDefault()}},jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle)}:function(elem,type,handle){var name="on"+type;elem.detachEvent&&("undefined"==typeof elem[name]&&(elem[name]=null),elem.detachEvent(name,handle))},jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event))return new jQuery.Event(src,props);src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&!1===src.returnValue?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,related=event.relatedTarget,handleObj=event.handleObj;return related&&(related===this||jQuery.contains(this,related))||(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),support.submit||(jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form"))return!1;jQuery.event.add(this,"click._submit keypress._submit",function(e){var form=e.target,form=jQuery.nodeName(form,"input")||jQuery.nodeName(form,"button")?jQuery.prop(form,"form"):undefined;form&&!jQuery._data(form,"submit")&&(jQuery.event.add(form,"submit._submit",function(event){event._submitBubble=!0}),jQuery._data(form,"submit",!0))})},postDispatch:function(event){event._submitBubble&&(delete event._submitBubble,this.parentNode&&!event.isTrigger&&jQuery.event.simulate("submit",this.parentNode,event))},teardown:function(){if(jQuery.nodeName(this,"form"))return!1;jQuery.event.remove(this,"._submit")}}),support.change||(jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(jQuery.event.add(this,"propertychange._change",function(event){"checked"===event.originalEvent.propertyName&&(this._justChanged=!0)}),jQuery.event.add(this,"click._change",function(event){this._justChanged&&!event.isTrigger&&(this._justChanged=!1),jQuery.event.simulate("change",this,event)})),!1;jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;rformElems.test(elem.nodeName)&&!jQuery._data(elem,"change")&&(jQuery.event.add(elem,"change._change",function(event){!this.parentNode||event.isSimulated||event.isTrigger||jQuery.event.simulate("change",this.parentNode,event)}),jQuery._data(elem,"change",!0))})},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||"radio"!==elem.type&&"checkbox"!==elem.type)return event.handleObj.handler.apply(this,arguments)},teardown:function(){return jQuery.event.remove(this,"._change"),!rformElems.test(this.nodeName)}}),support.focusin||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event))};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=jQuery._data(doc,fix);attaches||doc.addEventListener(orig,handler,!0),jQuery._data(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=jQuery._data(doc,fix)-1;attaches?jQuery._data(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),jQuery._removeData(doc,fix))}}}),jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"!=typeof types)return!1!==selector&&"function"!=typeof selector||(fn=selector,selector=undefined),!1===fn&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)});for(type in types)this.off(type,selector,types[type]);return this},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem)return jQuery.event.trigger(type,data,elem,!0)}});var rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,fragmentDiv=createSafeFragment(document).appendChild(document.createElement("div"));function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(11!==content.nodeType?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(null!==jQuery.find.attr(elem,"type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function cloneCopyEvent(src,dest){if(1===dest.nodeType&&jQuery.hasData(src)){var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events)for(type in delete curData.handle,curData.events={},events)for(i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type,events[type][i]);curData.data&&(curData.data=jQuery.extend({},curData.data))}}function domManip(collection,args,callback,ignored){args=concat.apply([],args);var first,node,hasScripts,scripts,doc,fragment,i=0,l=collection.length,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||1<l&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return collection.each(function(index){var self=collection.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),domManip(self,args,callback,ignored)});if(l&&(first=(fragment=buildFragment(args,collection[0].ownerDocument,!1,collection,ignored)).firstChild,1===fragment.childNodes.length&&(fragment=first),first||ignored)){for(hasScripts=(scripts=jQuery.map(getAll(fragment,"script"),disableScript)).length;i<l;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(collection[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;i<hasScripts;i++)node=scripts[i],rscriptType.test(node.type||"")&&!jQuery._data(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl&&jQuery._evalUrl(node.src):jQuery.globalEval((node.text||node.textContent||node.innerHTML||"").replace(rcleanScript,"")));fragment=first=null}return collection}function remove(elem,selector,keepData){for(var node,elems=selector?jQuery.filter(selector,elem):elem,i=0;null!=(node=elems[i]);i++)keepData||1!==node.nodeType||jQuery.cleanData(getAll(node)),node.parentNode&&(keepData&&jQuery.contains(node.ownerDocument,node)&&setGlobalEval(getAll(node,"script")),node.parentNode.removeChild(node));return elem}jQuery.extend({htmlPrefilter:function(html){return html.replace(rxhtmlTag,"<$1></$2>")},clone:function(elem,dataAndEvents,deepDataAndEvents){var destElements,node,clone,i,srcElements,inPage=jQuery.contains(elem.ownerDocument,elem);if(support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")?clone=elem.cloneNode(!0):(fragmentDiv.innerHTML=elem.outerHTML,fragmentDiv.removeChild(clone=fragmentDiv.firstChild)),!(support.noCloneEvent&&support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),srcElements=getAll(elem),i=0;null!=(node=srcElements[i]);++i)destElements[i]&&function(src,dest){var nodeName,e,data;if(1===dest.nodeType){if(nodeName=dest.nodeName.toLowerCase(),!support.noCloneEvent&&dest[jQuery.expando]){for(e in(data=jQuery._data(dest)).events)jQuery.removeEvent(dest,e,data.handle);dest.removeAttribute(jQuery.expando)}"script"===nodeName&&dest.text!==src.text?(disableScript(dest).text=src.text,restoreScript(dest)):"object"===nodeName?(dest.parentNode&&(dest.outerHTML=src.outerHTML),support.html5Clone&&src.innerHTML&&!jQuery.trim(dest.innerHTML)&&(dest.innerHTML=src.innerHTML)):"input"===nodeName&&rcheckableType.test(src.type)?(dest.defaultChecked=dest.checked=src.checked,dest.value!==src.value&&(dest.value=src.value)):"option"===nodeName?dest.defaultSelected=dest.selected=src.defaultSelected:"input"!==nodeName&&"textarea"!==nodeName||(dest.defaultValue=src.defaultValue)}}(node,destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0;null!=(node=srcElements[i]);i++)cloneCopyEvent(node,destElements[i]);else cloneCopyEvent(elem,clone);return 0<(destElements=getAll(clone,"script")).length&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),destElements=srcElements=node=null,clone},cleanData:function(elems,forceAcceptData){for(var elem,type,id,data,i=0,internalKey=jQuery.expando,cache=jQuery.cache,attributes=support.attributes,special=jQuery.event.special;null!=(elem=elems[i]);i++)if((forceAcceptData||acceptData(elem))&&(data=(id=elem[internalKey])&&cache[id])){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);cache[id]&&(delete cache[id],attributes||"undefined"==typeof elem.removeAttribute?elem[internalKey]=undefined:elem.removeAttribute(internalKey),deletedIds.push(id))}}}),jQuery.fn.extend({domManip:domManip,detach:function(selector){return remove(this,selector,!0)},remove:function(selector){return remove(this,selector)},text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},append:function(){return domManip(this,arguments,function(elem){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,elem).appendChild(elem)})},prepend:function(){return domManip(this,arguments,function(elem){var target;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(target=manipulationTarget(this,elem)).insertBefore(elem,target.firstChild)})},before:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++){for(1===elem.nodeType&&jQuery.cleanData(getAll(elem,!1));elem.firstChild;)elem.removeChild(elem.firstChild);elem.options&&jQuery.nodeName(elem,"select")&&(elem.options.length=0)}return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null!=dataAndEvents&&dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined)return 1===elem.nodeType?elem.innerHTML.replace(rinlinejQuery,""):undefined;if("string"==typeof value&&!rnoInnerhtml.test(value)&&(support.htmlSerialize||!rnoshimcache.test(value))&&(support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++)1===(elem=this[i]||{}).nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;jQuery.inArray(this,ignored)<0&&(jQuery.cleanData(getAll(this)),parent&&parent.replaceChild(elem,this))},ignored)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,i=0,ret=[],insert=jQuery(selector),last=insert.length-1;i<=last;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var iframe,elemdisplay={HTML:"block",BODY:"block"};function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");return elem.detach(),display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||("none"!==(display=actualDisplay(nodeName,doc))&&display||((doc=((iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement))[0].contentWindow||iframe[0].contentDocument).document).write(),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}var rmargin=/^margin/,rnumnonpx=new RegExp("^("+xhrSupported+")(?!px)[a-z%]+$","i"),swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];for(name in ret=callback.apply(elem,args||[]),options)elem.style[name]=old[name];return ret},documentElement=document.documentElement;!function(){var pixelPositionVal,pixelMarginRightVal,boxSizingReliableVal,reliableHiddenOffsetsVal,reliableMarginRightVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");function computeStyleTests(){var contents,documentElement=document.documentElement;documentElement.appendChild(container),div.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",pixelPositionVal=boxSizingReliableVal=reliableMarginLeftVal=!1,pixelMarginRightVal=reliableMarginRightVal=!0,window.getComputedStyle&&(contents=window.getComputedStyle(div),pixelPositionVal="1%"!==(contents||{}).top,reliableMarginLeftVal="2px"===(contents||{}).marginLeft,boxSizingReliableVal="4px"===(contents||{width:"4px"}).width,div.style.marginRight="50%",pixelMarginRightVal="4px"===(contents||{marginRight:"4px"}).marginRight,(contents=div.appendChild(document.createElement("div"))).style.cssText=div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",contents.style.marginRight=contents.style.width="0",div.style.width="1px",reliableMarginRightVal=!parseFloat((window.getComputedStyle(contents)||{}).marginRight),div.removeChild(contents)),div.style.display="none",(reliableHiddenOffsetsVal=0===div.getClientRects().length)&&(div.style.display="",div.innerHTML="<table><tr><td></td><td>t</td></tr></table>",div.childNodes[0].style.borderCollapse="separate",(contents=div.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(reliableHiddenOffsetsVal=0===contents[0].offsetHeight)&&(contents[0].style.display="",contents[1].style.display="none",reliableHiddenOffsetsVal=0===contents[0].offsetHeight)),documentElement.removeChild(container)}div.style&&(div.style.cssText="float:left;opacity:.5",support.opacity="0.5"===div.style.opacity,support.cssFloat=!!div.style.cssFloat,div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,(container=document.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",div.innerHTML="",container.appendChild(div),support.boxSizing=""===div.style.boxSizing||""===div.style.MozBoxSizing||""===div.style.WebkitBoxSizing,jQuery.extend(support,{reliableHiddenOffsets:function(){return null==pixelPositionVal&&computeStyleTests(),reliableHiddenOffsetsVal},boxSizingReliable:function(){return null==pixelPositionVal&&computeStyleTests(),boxSizingReliableVal},pixelMarginRight:function(){return null==pixelPositionVal&&computeStyleTests(),pixelMarginRightVal},pixelPosition:function(){return null==pixelPositionVal&&computeStyleTests(),pixelPositionVal},reliableMarginRight:function(){return null==pixelPositionVal&&computeStyleTests(),reliableMarginRightVal},reliableMarginLeft:function(){return null==pixelPositionVal&&computeStyleTests(),reliableMarginLeftVal}}))}();var getStyles,curCSS,rposition=/^(top|right|bottom|left)$/;function addGetHookIf(conditionFn,hookFn){return{get:function(){if(!conditionFn())return(this.get=hookFn).apply(this,arguments);delete this.get}}}window.getComputedStyle?(getStyles=function(elem){var view=elem.ownerDocument.defaultView;return(view=!view||!view.opener?window:view).getComputedStyle(elem)},curCSS=function(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return""!==(ret=(computed=computed||getStyles(elem))?computed.getPropertyValue(name)||computed[name]:undefined)&&ret!==undefined||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),computed&&!support.pixelMarginRight()&&rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth),ret===undefined?ret:ret+""}):documentElement.currentStyle&&(getStyles=function(elem){return elem.currentStyle},curCSS=function(elem,name,computed){var left,rs,rsLeft,ret,style=elem.style;return null==(ret=(computed=computed||getStyles(elem))?computed[name]:undefined)&&style&&style[name]&&(ret=style[name]),rnumnonpx.test(ret)&&!rposition.test(name)&&(left=style.left,(rsLeft=(rs=elem.runtimeStyle)&&rs.left)&&(rs.left=elem.currentStyle.left),style.left="fontSize"===name?"1em":ret,ret=style.pixelLeft+"px",style.left=left,rsLeft&&(rs.left=rsLeft)),ret===undefined?ret:ret+""||"auto"});var ralpha=/alpha\([^)]*\)/i,ropacity=/opacity\s*=\s*([^)]*)/i,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+xhrSupported+")(.*)$","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"],emptyStyle=document.createElement("div").style;function vendorPropName(name){if(name in emptyStyle)return name;for(var capName=name.charAt(0).toUpperCase()+name.slice(1),i=cssPrefixes.length;i--;)if((name=cssPrefixes[i]+capName)in emptyStyle)return name}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;index<length;index++)(elem=elements[index]).style&&(values[index]=jQuery._data(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=jQuery._data(elem,"olddisplay",defaultDisplay(elem.nodeName)))):(hidden=isHidden(elem),(display&&"none"!==display||!hidden)&&jQuery._data(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;index<length;index++)(elem=elements[index]).style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;i<4;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=support.boxSizing&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(val<=0||null==val){if(((val=curCSS(elem,name,styles))<0||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;if(name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],value===undefined)return hooks&&"get"in hooks&&(ret=hooks.get(elem,!1,extra))!==undefined?ret:style[name];if("string"===(type=typeof value)&&(ret=rcssNum.exec(value))&&ret[1]&&(value=adjustCSS(elem,name,ret),type="number"),null!=value&&value==value&&("number"===type&&(value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px")),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),!(hooks&&"set"in hooks&&(value=hooks.set(elem,value,extra))===undefined)))try{style[name]=value}catch(e){}}},css:function(elem,name,extra,styles){var val,num=jQuery.camelCase(name);return name=jQuery.cssProps[num]||(jQuery.cssProps[num]=vendorPropName(num)||num),"normal"===(val=(val=(num=jQuery.cssHooks[name]||jQuery.cssHooks[num])&&"get"in num?num.get(elem,!0,extra):val)===undefined?curCSS(elem,name,styles):val)&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),!0===extra||isFinite(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed)return rdisplayswap.test(jQuery.css(elem,"display"))&&0===elem.offsetWidth?swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(0,value,extra?augmentWidthOrHeight(elem,name,extra,support.boxSizing&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles):0)}}}),support.opacity||(jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle:elem.style).filter||"")?.01*parseFloat(RegExp.$1)+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+100*value+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";((style.zoom=1)<=value||""===value)&&""===jQuery.trim(filter.replace(ralpha,""))&&style.removeAttribute&&(style.removeAttribute("filter"),""===value||currentStyle&&!currentStyle.filter)||(style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity)}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed)return swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"])}),jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed)return(parseFloat(curCSS(elem,"marginLeft"))||(jQuery.contains(elem.ownerDocument,elem)?elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left}):0))+"px"}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];i<4;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;i<len;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,1<arguments.length)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),((jQuery.Tween=Tween).prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||jQuery.easing._default,this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return(hooks&&hooks.get?hooks:Tween.propHooks._default).get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.options.duration?this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):this.pos=eased=percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(hooks&&hooks.set?hooks:Tween.propHooks._default).set(this),this}}).init.prototype=Tween.prototype,(Tween.propHooks={_default:{get:function(tween){var result;return 1!==tween.elem.nodeType||null!=tween.elem[tween.prop]&&null==tween.elem.style[tween.prop]?tween.elem[tween.prop]:(result=jQuery.css(tween.elem,tween.prop,""))&&"auto"!==result?result:0},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):1!==tween.elem.nodeType||null==tween.elem.style[jQuery.cssProps[tween.prop]]&&!jQuery.cssHooks[tween.prop]?tween.elem[tween.prop]=tween.now:jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}}}).scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;function createFxNow(){return window.setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function genFx(type,includeWidth){var which,attrs={height:type},i=0;for(includeWidth=includeWidth?1:0;i<4;i+=2-includeWidth)attrs["margin"+(which=cssExpand[i])]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;index<length;index++)if(tween=collection[index].call(animation,prop,value))return tween}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var remaining=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-remaining),percent=1-(remaining/animation.duration||0),index=0,length=animation.tweens.length;index<length;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),percent<1&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;index<length;index++)animation.tweens[index].run(1);return gotoEnd?(deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation,gotoEnd])):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(!function(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(easing=specialEasing[name=jQuery.camelCase(index)],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),(hooks=jQuery.cssHooks[name])&&"expand"in hooks)for(index in value=hooks.expand(value),delete props[name],value)index in props||(props[index]=value[index],specialEasing[index]=easing);else specialEasing[name]=easing}(props,animation.opts.specialEasing);index<length;index++)if(result=Animation.prefilters[index].call(animation,elem,props,animation.opts))return jQuery.isFunction(result.stop)&&(jQuery._queueHooks(animation.elem,animation.opts.queue).stop=jQuery.proxy(result.stop,result)),result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);return adjustCSS(tween.elem,prop,rcssNum.exec(value),tween),tween}]},tweener:function(props,callback){for(var prop,index=0,length=(props=jQuery.isFunction(props)?(callback=props,["*"]):props.match(rnotwhite)).length;index<length;index++)prop=props[index],Animation.tweeners[prop]=Animation.tweeners[prop]||[],Animation.tweeners[prop].unshift(callback)},prefilters:[function(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=jQuery._data(elem,"fxshow");for(prop in opts.queue||(null==(hooks=jQuery._queueHooks(elem,"fx")).unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],"inline"===("none"===(display=jQuery.css(elem,"display"))?jQuery._data(elem,"olddisplay")||defaultDisplay(elem.nodeName):display)&&"none"===jQuery.css(elem,"float")&&(support.inlineBlockNeedsLayout&&"inline"!==defaultDisplay(elem.nodeName)?style.zoom=1:style.display="inline-block")),opts.overflow&&(style.overflow="hidden",support.shrinkWrapBlocks()||anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]})),props)if(value=props[prop],rfxtypes.exec(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||dataShow[prop]===undefined)continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else display=undefined;if(jQuery.isEmptyObject(orig))"inline"===("none"===display?defaultDisplay(elem.nodeName):display)&&(style.display=display);else for(prop in dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=jQuery._data(elem,"fxshow",{}),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){for(var prop in jQuery._removeData(elem,"fxshow"),orig)jQuery.style(elem,prop,orig[prop])}),orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}],prefilter:function(callback,prepend){prepend?Animation.prefilters.unshift(callback):Animation.prefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,null!=opt.queue&&!0!==opt.queue||(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||jQuery._data(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||!1===optall.queue?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=undefined),clearQueue&&!1!==type&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));!dequeue&&gotoEnd||jQuery.dequeue(this,type)})},finish:function(type){return!1!==type&&(type=type||"fx"),this.each(function(){var index,data=jQuery._data(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;index<length;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;for(fxNow=jQuery.now();i<timers.length;i++)(timer=timers[i])()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),timer()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId=timerId||window.setInterval(jQuery.fx.tick,jQuery.fx.interval)},jQuery.fx.stop=function(){window.clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx&&jQuery.fx.speeds[time]||time,this.queue(type=type||"fx",function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}})},function(){var a,input=document.createElement("input"),div=document.createElement("div"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));(div=document.createElement("div")).setAttribute("className","t"),div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=div.getElementsByTagName("a")[0],input.setAttribute("type","checkbox"),div.appendChild(input),(a=div.getElementsByTagName("a")[0]).style.cssText="top:1px",support.getSetAttribute="t"!==div.className,support.style=/top/.test(a.getAttribute("style")),support.hrefNormalized="/a"===a.getAttribute("href"),support.checkOn=!!input.value,support.optSelected=opt.selected,support.enctype=!!document.createElement("form").enctype,select.disabled=!0,support.optDisabled=!opt.disabled,(input=document.createElement("input")).setAttribute("value",""),support.input=""===input.getAttribute("value"),input.value="t",input.setAttribute("type","radio"),support.radioValue="t"===input.value}();var rreturn=/\r/g,rspaces=/[\x20\t\r\n\f]+/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];return arguments.length?(isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(null==(val=isFunction?value.call(this,i,jQuery(this).val()):value)?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),(hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()])&&"set"in hooks&&hooks.set(this,val,"value")!==undefined||(this.value=val))})):elem?(hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()])&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined?ret:"string"==typeof(ret=elem.value)?ret.replace(rreturn,""):null==ret?"":ret:void 0}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:jQuery.trim(jQuery.text(elem)).replace(rspaces," ")}},select:{get:function(elem){for(var value,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;i<max;i++)if(((value=options[i]).selected||i===index)&&(support.optDisabled?!value.disabled:null===value.getAttribute("disabled"))&&(!value.parentNode.disabled||!jQuery.nodeName(value.parentNode,"optgroup"))){if(value=jQuery(value).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)if(option=options[i],-1<jQuery.inArray(jQuery.valHooks.option.get(option),values))try{option.selected=optionSet=!0}catch(_){option.scrollHeight}else option.selected=!1;return optionSet||(elem.selectedIndex=-1),options}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value))return elem.checked=-1<jQuery.inArray(jQuery(elem).val(),value)}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})});var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle,ruseDefault=/^(?:checked|selected)$/i,getSetAttribute=support.getSetAttribute,getSetInput=support.input;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,1<arguments.length)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return"undefined"==typeof elem.getAttribute?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)),value!==undefined?null===value?void jQuery.removeAttr(elem,name):hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:(elem.setAttribute(name,value+""),value):!(hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name)))&&null==(ret=jQuery.find.attr(elem,name))?undefined:ret)},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)?getSetInput&&getSetAttribute||!ruseDefault.test(name)?elem[propName]=!1:elem[jQuery.camelCase("default-"+name)]=elem[propName]=!1:jQuery.attr(elem,name,""),elem.removeAttribute(getSetAttribute?name:propName)}}),boolHook={set:function(elem,value,name){return!1===value?jQuery.removeAttr(elem,name):getSetInput&&getSetAttribute||!ruseDefault.test(name)?elem.setAttribute(!getSetAttribute&&jQuery.propFix[name]||name,name):elem[jQuery.camelCase("default-"+name)]=elem[name]=!0,name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;getSetInput&&getSetAttribute||!ruseDefault.test(name)?attrHandle[name]=function(elem,name,isXML){var ret,handle;return isXML||(handle=attrHandle[name],attrHandle[name]=ret,ret=null!=getter(elem,name,isXML)?name.toLowerCase():null,attrHandle[name]=handle),ret}:attrHandle[name]=function(elem,name,isXML){if(!isXML)return elem[jQuery.camelCase("default-"+name)]?name.toLowerCase():null}}),getSetInput&&getSetAttribute||(jQuery.attrHooks.value={set:function(elem,value,name){if(!jQuery.nodeName(elem,"input"))return nodeHook&&nodeHook.set(elem,value,name);elem.defaultValue=value}}),getSetAttribute||(nodeHook={set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(ret||elem.setAttributeNode(ret=elem.ownerDocument.createAttribute(name)),ret.value=value+="","value"===name||value===elem.getAttribute(name))return value}},attrHandle.id=attrHandle.name=attrHandle.coords=function(elem,name,isXML){var ret;if(!isXML)return(ret=elem.getAttributeNode(name))&&""!==ret.value?ret.value:null},jQuery.valHooks.button={get:function(elem,name){var ret=elem.getAttributeNode(name);if(ret&&ret.specified)return ret.value},set:nodeHook.set},jQuery.attrHooks.contenteditable={set:function(elem,value,name){nodeHook.set(elem,""!==value&&value,name)}},jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]={set:function(elem,value){if(""===value)return elem.setAttribute(name,"auto"),value}}})),support.style||(jQuery.attrHooks.style={get:function(elem){return elem.style.cssText||undefined},set:function(elem,value){return elem.style.cssText=value+""}});var rfocusable=/^(?:input|select|textarea|button|object)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,1<arguments.length)},removeProp:function(name){return name=jQuery.propFix[name]||name,this.each(function(){try{this[name]=undefined,delete this[name]}catch(e){}})}}),jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return 1===nType&&jQuery.isXMLDoc(elem)||(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),value!==undefined?hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),support.hrefNormalized||jQuery.each(["href","src"],function(i,name){jQuery.propHooks[name]={get:function(elem){return elem.getAttribute(name,4)}}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&(parent.selectedIndex,parent.parentNode&&parent.parentNode.selectedIndex),null},set:function(elem){var parent=elem.parentNode;parent&&(parent.selectedIndex,parent.parentNode&&parent.parentNode.selectedIndex)}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this}),support.enctype||(jQuery.propFix.enctype="encoding");var rclass=/[\t\r\n\f]/g;function getClass(elem){return jQuery.attr(elem,"class")||""}jQuery.fn.extend({addClass:function(value){var classes,elem,cur,clazz,j,finalValue,i=0;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))});if("string"==typeof value&&value)for(classes=value.match(rnotwhite)||[];elem=this[i++];)if(finalValue=getClass(elem),cur=1===elem.nodeType&&(" "+finalValue+" ").replace(rclass," ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");finalValue!==(finalValue=jQuery.trim(cur))&&jQuery.attr(elem,"class",finalValue)}return this},removeClass:function(value){var classes,elem,cur,clazz,j,finalValue,i=0;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof value&&value)for(classes=value.match(rnotwhite)||[];elem=this[i++];)if(finalValue=getClass(elem),cur=1===elem.nodeType&&(" "+finalValue+" ").replace(rclass," ")){for(j=0;clazz=classes[j++];)for(;-1<cur.indexOf(" "+clazz+" ");)cur=cur.replace(" "+clazz+" "," ");finalValue!==(finalValue=jQuery.trim(cur))&&jQuery.attr(elem,"class",finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value;return"boolean"==typeof stateVal&&"string"==type?stateVal?this.addClass(value):this.removeClass(value):jQuery.isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)}):this.each(function(){var className,i,self,classNames;if("string"==type)for(i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else value!==undefined&&"boolean"!=type||((className=getClass(this))&&jQuery._data(this,"__className__",className),jQuery.attr(this,"class",!className&&!1!==value&&jQuery._data(this,"__className__")||""))})},hasClass:function(selector){for(var elem,i=0,className=" "+selector+" ";elem=this[i++];)if(1===elem.nodeType&&-1<(" "+getClass(elem)+" ").replace(rclass," ").indexOf(className))return!0;return!1}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return 0<arguments.length?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}});var xhrSupported=window.location,nonce=jQuery.now(),rquery=/\?/,rvalidtokens=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;jQuery.parseJSON=function(data){if(window.JSON&&window.JSON.parse)return window.JSON.parse(data+"");var requireNonComma,depth=null,str=jQuery.trim(data+"");return str&&!jQuery.trim(str.replace(rvalidtokens,function(token,comma,open,close){return 0===(depth=requireNonComma&&comma?0:depth)?token:(requireNonComma=open||comma,depth+=!close-!open,"")}))?Function("return "+str)():jQuery.error("Invalid JSON: "+data)},jQuery.parseXML=function(data){var xml;if(!data||"string"!=typeof data)return null;try{window.DOMParser?xml=(new window.DOMParser).parseFromString(data,"text/xml"):((xml=new window.ActiveXObject("Microsoft.XMLDOM"))["async"]="false",xml.loadXML(data))}catch(e){xml=undefined}return xml&&xml.documentElement&&!xml.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+data),xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*"),ajaxLocation=xhrSupported.href,ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType.charAt(0)?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=structure===transports;function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var deep,key,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)src[key]!==undefined&&((flatOptions[key]?target:deep=deep||{})[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(!(conv=converters[prev+" "+current]||converters["* "+current]))for(conv2 in converters)if((tmp=conv2.split(" "))[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){!0===conv?conv=converters[conv2]:!0!==converters[conv2]&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(!0!==conv)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}function filterHidden(elem){if(!jQuery.contains(elem.ownerDocument||document,elem))return!0;for(;elem&&1===elem.nodeType;){if("none"===function(elem){return elem.style&&elem.style.display||jQuery.css(elem,"display")}(elem)||"hidden"===elem.type)return!0;elem=elem.parentNode}return!1}jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ajaxLocParts[1]),global:!0,processData:!0,"async":!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){"object"==typeof url&&(options=url,url=undefined);var parts,i,cacheURL,responseHeadersString,timeoutTimer,fireGlobals,transport,responseHeaders,s=jQuery.ajaxSetup({},options=options||{}),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){if(map)if(state<2)for(var code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""],null==s.crossDomain&&(parts=rurl.exec(s.url.toLowerCase()),s.crossDomain=!(!parts||parts[1]===ajaxLocParts[1]&&parts[2]===ajaxLocParts[2]&&(parts[3]||("http:"===parts[1]?"80":"443"))===(ajaxLocParts[3]||("http:"===ajaxLocParts[1]?"80":"443")))),s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;for(i in(fireGlobals=jQuery.event&&s.global)&&0==jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),!1===s.cache&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&!1!==s.contentType||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]),s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(!1===s.beforeSend.call(callbackContext,jqXHR,s)||2===state))return jqXHR.abort();for(i in strAbort="abort",{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){if(jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),2===state)return jqXHR;s["async"]&&0<s.timeout&&(timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(state<2))throw e;done(-1,e)}}else done(-1,"No Transport");function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&window.clearTimeout(timeoutTimer),transport=undefined,responseHeadersString=headers||"",jqXHR.readyState=0<status?4:0,isSuccess=200<=status&&status<300||304===status,responses&&(response=function(s,jqXHR,responses){for(var firstDataType,ct,finalDataType,type,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),ct===undefined&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType=firstDataType||type}finalDataType=finalDataType||firstDataType}if(finalDataType)return finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]}(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&((modified=jqXHR.getResponseHeader("Last-Modified"))&&(jQuery.lastModified[cacheURL]=modified),(modified=jqXHR.getResponseHeader("etag"))&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,isSuccess=!(error=response.error))):(error=statusText,!status&&statusText||(statusText="error",status<0&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=undefined,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=undefined),jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url))}}),jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",cache:!0,"async":!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(html){return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&&(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstChild&&1===elem.firstChild.nodeType;)elem=elem.firstChild;return elem}).append(this)),this);var wrap},wrapInner:function(html){return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(elem){return support.reliableHiddenOffsets()?elem.offsetWidth<=0&&elem.offsetHeight<=0&&!elem.getClientRects().length:filterHidden(elem)},jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)!function buildParams(prefix,obj,traditional,add){if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v&&null!=v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(var name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=window.ActiveXObject!==undefined?function(){return this.isLocal?createActiveXHR():8<document.documentMode?createStandardXHR():/^(get|post|head|put|delete|options)$/i.test(this.type)&&createStandardXHR()||createActiveXHR()}:createStandardXHR;var xhrId=0,xhrCallbacks={},xhrSupported=jQuery.ajaxSettings.xhr();function createStandardXHR(){try{return new window.XMLHttpRequest}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}window.attachEvent&&window.attachEvent("onunload",function(){for(var key in xhrCallbacks)xhrCallbacks[key](undefined,!0)}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,(xhrSupported=support.ajax=!!xhrSupported)&&jQuery.ajaxTransport(function(options){var callback;if(!options.crossDomain||support.cors)return{send:function(headers,complete){var i,xhr=options.xhr(),id=++xhrId;if(xhr.open(options.type,options.url,options["async"],options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];for(i in options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest"),headers)headers[i]!==undefined&&xhr.setRequestHeader(i,headers[i]+"");xhr.send(options.hasContent&&options.data||null),callback=function(_,isAbort){var status,statusText,responses;if(callback&&(isAbort||4===xhr.readyState))if(delete xhrCallbacks[id],callback=undefined,xhr.onreadystatechange=jQuery.noop,isAbort)4!==xhr.readyState&&xhr.abort();else{responses={},status=xhr.status,"string"==typeof xhr.responseText&&(responses.text=xhr.responseText);try{statusText=xhr.statusText}catch(e){statusText=""}status||!options.isLocal||options.crossDomain?1223===status&&(status=204):status=responses.text?200:404}responses&&complete(status,statusText,responses,xhr.getAllResponseHeaders())},options["async"]?4===xhr.readyState?window.setTimeout(callback):xhr.onreadystatechange=xhrCallbacks[id]=callback:callback()},abort:function(){callback&&callback(undefined,!0)}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){s.cache===undefined&&(s.cache=!1),s.crossDomain&&(s.type="GET",s.global=!1)}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||jQuery("head")[0]||document.documentElement;return{send:function(_,callback){(script=document.createElement("script"))["async"]=!0,s.scriptCharset&&(script.charset=s.scriptCharset),script.src=s.url,script.onload=script.onreadystatechange=function(_,isAbort){!isAbort&&script.readyState&&!/loaded|complete/.test(script.readyState)||(script.onload=script.onreadystatechange=null,script.parentNode&&script.parentNode.removeChild(script),script=null,isAbort||callback(200,"success"))},head.insertBefore(script,head.firstChild)},abort:function(){script&&script.onload(undefined,!0)}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=!1!==s.jsonp&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||"jsonp"===s.dataTypes[0])return callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):!1!==s.jsonp&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){overwritten===undefined?jQuery(window).removeProp(callbackName):window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=undefined}),"script"}),jQuery.parseHTML=function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))};var _load=jQuery.fn.load;function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&(elem.defaultView||elem.parentWindow)}jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,type,response,self=this,off=url.indexOf(" ");return-1<off&&(selector=jQuery.trim(url.slice(off,url.length)),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=undefined):params&&"object"==typeof params&&(type="POST"),0<self.length&&jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR])})}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length},jQuery.offset={setOffset:function(elem,options,i){var curCSSTop,curTop,curOffset,curLeft,curPosition=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===curPosition&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curLeft=jQuery.css(elem,"left"),curLeft=("absolute"===curPosition||"fixed"===curPosition)&&-1<jQuery.inArray("auto",[curCSSTop,curLeft])?(curTop=(curPosition=curElem.position()).top,curPosition.left):(curTop=parseFloat(curCSSTop)||0,parseFloat(curLeft)||0),null!=(options=jQuery.isFunction(options)?options.call(elem,i,jQuery.extend({},curOffset)):options).top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,box={top:0,left:0},elem=this[0],win=elem&&elem.ownerDocument;return win?(docElem=win.documentElement,jQuery.contains(docElem,elem)?("undefined"!=typeof elem.getBoundingClientRect&&(box=elem.getBoundingClientRect()),win=getWindow(win),{top:box.top+(win.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(win.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)}):box):void 0},position:function(){if(this[0]){var offsetParent,offset,parentOffset={top:0,left:0},elem=this[0];return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),(parentOffset=!jQuery.nodeName(offsetParent[0],"html")?offsetParent.offset():parentOffset).top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent;offsetParent&&!jQuery.nodeName(offsetParent,"html")&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||documentElement})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined)return win?prop in win?win[prop]:win.document.documentElement[method]:elem[method];win?win.scrollTo(top?jQuery(win).scrollLeft():val,top?val:jQuery(win).scrollTop()):elem[method]=val},method,val,arguments.length,null)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed)return computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(!0===margin||!0===value?"margin":"border");return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})}),jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)}}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},noGlobal||(window.jQuery=window.$=jQuery),jQuery}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return-h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){return(f/=g/2)<1?h/2*f*f+a:-h/2*(--f*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){return(f/=g/2)<1?h/2*f*f*f+a:h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return-h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){return(f/=g/2)<1?h/2*f*f*f*f+a:-h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){return(f/=g/2)<1?h/2*f*f*f*f*f+a:h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return-h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return-h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return 0==f?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return f==g?a+h:h*(1-Math.pow(2,-10*f/g))+a},easeInOutExpo:function(e,f,a,h,g){return 0==f?a:f==g?a+h:(f/=g/2)<1?h/2*Math.pow(2,10*(f-1))+a:h/2*(2-Math.pow(2,-10*--f))+a},easeInCirc:function(e,f,a,h,g){return-h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){return(f/=g/2)<1?-h/2*(Math.sqrt(1-f*f)-1)+a:h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158,j=0,g=l;return 0==h?e:1==(h/=k)?e+l:(j=j||.3*k,i=g<Math.abs(l)?(g=l,j/4):j/(2*Math.PI)*Math.asin(l/g),-(g*Math.pow(2,10*--h)*Math.sin((h*k-i)*(2*Math.PI)/j))+e)},easeOutElastic:function(f,h,e,l,k){var i=1.70158,j=0,g=l;return 0==h?e:1==(h/=k)?e+l:(j=j||.3*k,i=g<Math.abs(l)?(g=l,j/4):j/(2*Math.PI)*Math.asin(l/g),g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e)},easeInOutElastic:function(f,h,e,l,k){var i=1.70158,j=0,g=l;return 0==h?e:2==(h/=k/2)?e+l:(j=j||k*(.3*1.5),i=g<Math.abs(l)?(g=l,j/4):j/(2*Math.PI)*Math.asin(l/g),h<1?g*Math.pow(2,10*--h)*Math.sin((h*k-i)*(2*Math.PI)/j)*-.5+e:g*Math.pow(2,-10*--h)*Math.sin((h*k-i)*(2*Math.PI)/j)*.5+l+e)},easeInBack:function(e,f,a,i,h,g){return i*(f/=h)*f*(((g=g==undefined?1.70158:g)+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){return i*((f=f/h-1)*f*(((g=g==undefined?1.70158:g)+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){return g==undefined&&(g=1.70158),(f/=h/2)<1?i/2*(f*f*((1+(g*=1.525))*f-g))+a:i/2*((f-=2)*f*((1+(g*=1.525))*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){return(f/=g)<1/2.75?h*(7.5625*f*f)+a:f<2/2.75?h*(7.5625*(f-=1.5/2.75)*f+.75)+a:f<2.5/2.75?h*(7.5625*(f-=2.25/2.75)*f+.9375)+a:h*(7.5625*(f-=2.625/2.75)*f+.984375)+a},easeInOutBounce:function(e,f,a,h,g){return f<g/2?.5*jQuery.easing.easeInBounce(e,2*f,0,h,g)+a:.5*jQuery.easing.easeOutBounce(e,2*f-g,0,h,g)+.5*h+a}}),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof exports?module.exports=factory:factory(jQuery)}(function($){var nullLowestDeltaTimeout,lowestDelta,toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],slice=Array.prototype.slice;if($.event.fixHooks)for(var i=toFix.length;i;)$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;var special=$.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=toBind.length;i;)this.addEventListener(toBind[--i],handler,!1);else this.onmousewheel=handler;$.data(this,"mousewheel-line-height",special.getLineHeight(this)),$.data(this,"mousewheel-page-height",special.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=toBind.length;i;)this.removeEventListener(toBind[--i],handler,!1);else this.onmousewheel=null;$.removeData(this,"mousewheel-line-height"),$.removeData(this,"mousewheel-page-height")},getLineHeight:function(elem){var $elem=$(elem),$parent=$elem["offsetParent"in $.fn?"offsetParent":"parent"]();return $parent.length||($parent=$("body")),parseInt($parent.css("fontSize"),10)||parseInt($elem.css("fontSize"),10)||16},getPageHeight:function(elem){return $(elem).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function handler(event){var pageHeight,orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,boundingRect=0,offsetX=0,offsetY=0;if((event=$.event.fix(orgEvent)).type="mousewheel","detail"in orgEvent&&(deltaY=-1*orgEvent.detail),"wheelDelta"in orgEvent&&(deltaY=orgEvent.wheelDelta),"wheelDeltaY"in orgEvent&&(deltaY=orgEvent.wheelDeltaY),"wheelDeltaX"in orgEvent&&(deltaX=-1*orgEvent.wheelDeltaX),"axis"in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaX=-1*deltaY,deltaY=0),delta=0===deltaY?deltaX:deltaY,"deltaY"in orgEvent&&(delta=deltaY=-1*orgEvent.deltaY),"deltaX"in orgEvent&&(deltaX=orgEvent.deltaX,0===deltaY&&(delta=-1*deltaX)),0!==deltaY||0!==deltaX)return 1===orgEvent.deltaMode?(delta*=pageHeight=$.data(this,"mousewheel-line-height"),deltaY*=pageHeight,deltaX*=pageHeight):2===orgEvent.deltaMode&&(delta*=pageHeight=$.data(this,"mousewheel-page-height"),deltaY*=pageHeight,deltaX*=pageHeight),boundingRect=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDelta||boundingRect<lowestDelta)&&shouldAdjustOldDeltas(orgEvent,lowestDelta=boundingRect)&&(lowestDelta/=40),shouldAdjustOldDeltas(orgEvent,boundingRect)&&(delta/=40,deltaX/=40,deltaY/=40),delta=Math[1<=delta?"floor":"ceil"](delta/lowestDelta),deltaX=Math[1<=deltaX?"floor":"ceil"](deltaX/lowestDelta),deltaY=Math[1<=deltaY?"floor":"ceil"](deltaY/lowestDelta),special.settings.normalizeOffset&&this.getBoundingClientRect&&(boundingRect=this.getBoundingClientRect(),offsetX=event.clientX-boundingRect.left,offsetY=event.clientY-boundingRect.top),event.deltaX=deltaX,event.deltaY=deltaY,event.deltaFactor=lowestDelta,event.offsetX=offsetX,event.offsetY=offsetY,event.deltaMode=0,args.unshift(event,delta,deltaX,deltaY),nullLowestDeltaTimeout&&clearTimeout(nullLowestDeltaTimeout),nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200),($.event.dispatch||$.event.handle).apply(this,args)}function nullLowestDelta(){lowestDelta=null}function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&"mousewheel"===orgEvent.type&&absDelta%120==0}$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}})}),function(){"use strict";function Md5(t){var r;t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8):ARRAY_BUFFER?(r=new ArrayBuffer(68),this.buffer8=new Uint8Array(r),this.blocks=new Uint32Array(r)):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8,buffer,buffer8,blocks;ARRAY_BUFFER&&(buffer=new ArrayBuffer(68),buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)),!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t){return function(r){return new Md5(!0).update(r)[t]()}},createMethod=function(){var t=createOutputMethod("hex");(t=NODE_JS?nodeWrap(t):t).create=function(){return new Md5},t.update=function(r){return t.create().update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var e=OUTPUT_TYPES[r];t[e]=createOutputMethod(e)}return t},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if("string"==typeof t)return crypto.createHash("md5").update(t,"utf8").digest("hex");if(null==t)throw ERROR;return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash("md5").update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod};Md5.prototype.update=function(t){if(!this.finalized){var r,e=typeof t;if("string"!=e){if("object"!=e)throw ERROR;if(null===t)throw ERROR;if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw ERROR;r=!0}for(var s,i,o=0,h=t.length,f=this.blocks,a=this.buffer8;o<h;){if(this.hashed&&(this.hashed=!1,f[0]=f[16],f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0),r)if(ARRAY_BUFFER)for(i=this.start;o<h&&i<64;++o)a[i++]=t[o];else for(i=this.start;o<h&&i<64;++o)f[i>>2]|=t[o]<<SHIFT[3&i++];else if(ARRAY_BUFFER)for(i=this.start;o<h&&i<64;++o)(s=t.charCodeAt(o))<128?a[i++]=s:(s<2048?a[i++]=192|s>>6:(s<55296||57344<=s?a[i++]=224|s>>12:(s=65536+((1023&s)<<10|1023&t.charCodeAt(++o)),a[i++]=240|s>>18,a[i++]=128|s>>12&63),a[i++]=128|s>>6&63),a[i++]=128|63&s);else for(i=this.start;o<h&&i<64;++o)(s=t.charCodeAt(o))<128?f[i>>2]|=s<<SHIFT[3&i++]:(s<2048?f[i>>2]|=(192|s>>6)<<SHIFT[3&i++]:(s<55296||57344<=s?f[i>>2]|=(224|s>>12)<<SHIFT[3&i++]:(s=65536+((1023&s)<<10|1023&t.charCodeAt(++o)),f[i>>2]|=(240|s>>18)<<SHIFT[3&i++],f[i>>2]|=(128|s>>12&63)<<SHIFT[3&i++]),f[i>>2]|=(128|s>>6&63)<<SHIFT[3&i++]),f[i>>2]|=(128|63&s)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,64<=i?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){var t,r;this.finalized||(this.finalized=!0,(t=this.blocks)[(r=this.lastByteIndex)>>2]|=EXTRA[3&r],56<=r&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>29,this.hash())},Md5.prototype.hash=function(){var t,e,s,i,o,h=this.blocks,r=(this.first?r=((t=((t=h[0]-680876937)<<7|t>>>25)-271733879<<0)^(e=((e=(-271733879^(s=((s=(-1732584194^2004318071&t)+h[1]-117830708)<<12|s>>>20)+t<<0)&(-271733879^t))+h[2]-1126478375)<<17|e>>>15)+s<<0)&(s^t))+h[3]-1316259209:(t=this.h0,r=this.h1,e=this.h2,r+=((t=((t+=((s=this.h3)^r&(e^s))+h[0]-680876936)<<7|t>>>25)+r<<0)^(e=((e+=(r^(s=((s+=(e^t&(r^e))+h[1]-389564586)<<12|s>>>20)+t<<0)&(t^r))+h[2]+606105819)<<17|e>>>15)+s<<0)&(s^t))+h[3]-1044525330),(r<<22|r>>>10)+e<<0);r=((r+=((t=((t+=(s^r&(e^s))+h[4]-176418897)<<7|t>>>25)+r<<0)^(e=((e+=(r^(s=((s+=(e^t&(r^e))+h[5]+1200080426)<<12|s>>>20)+t<<0)&(t^r))+h[6]-1473231341)<<17|e>>>15)+s<<0)&(s^t))+h[7]-45705983)<<22|r>>>10)+e<<0,r=((r+=((t=((t+=(s^r&(e^s))+h[8]+1770035416)<<7|t>>>25)+r<<0)^(e=((e+=(r^(s=((s+=(e^t&(r^e))+h[9]-1958414417)<<12|s>>>20)+t<<0)&(t^r))+h[10]-42063)<<17|e>>>15)+s<<0)&(s^t))+h[11]-1990404162)<<22|r>>>10)+e<<0,r=((r+=((t=((t+=(s^r&(e^s))+h[12]+1804603682)<<7|t>>>25)+r<<0)^(e=((e+=(r^(s=((s+=(e^t&(r^e))+h[13]-40341101)<<12|s>>>20)+t<<0)&(t^r))+h[14]-1502002290)<<17|e>>>15)+s<<0)&(s^t))+h[15]+1236535329)<<22|r>>>10)+e<<0,r=((r+=((s=((s+=(r^e&((t=((t+=(e^s&(r^e))+h[1]-165796510)<<5|t>>>27)+r<<0)^r))+h[6]-1069501632)<<9|s>>>23)+t<<0)^t&((e=((e+=(t^r&(s^t))+h[11]+643717713)<<14|e>>>18)+s<<0)^s))+h[0]-373897302)<<20|r>>>12)+e<<0,r=((r+=((s=((s+=(r^e&((t=((t+=(e^s&(r^e))+h[5]-701558691)<<5|t>>>27)+r<<0)^r))+h[10]+38016083)<<9|s>>>23)+t<<0)^t&((e=((e+=(t^r&(s^t))+h[15]-660478335)<<14|e>>>18)+s<<0)^s))+h[4]-405537848)<<20|r>>>12)+e<<0,r=((r+=((s=((s+=(r^e&((t=((t+=(e^s&(r^e))+h[9]+568446438)<<5|t>>>27)+r<<0)^r))+h[14]-1019803690)<<9|s>>>23)+t<<0)^t&((e=((e+=(t^r&(s^t))+h[3]-187363961)<<14|e>>>18)+s<<0)^s))+h[8]+1163531501)<<20|r>>>12)+e<<0,r=((r+=((s=((s+=(r^e&((t=((t+=(e^s&(r^e))+h[13]-1444681467)<<5|t>>>27)+r<<0)^r))+h[2]-51403784)<<9|s>>>23)+t<<0)^t&((e=((e+=(t^r&(s^t))+h[7]+1735328473)<<14|e>>>18)+s<<0)^s))+h[12]-1926607734)<<20|r>>>12)+e<<0,r=((r+=((o=(s=((s+=((i=r^e)^(t=((t+=(i^s)+h[5]-378558)<<4|t>>>28)+r<<0))+h[8]-2022574463)<<11|s>>>21)+t<<0)^t)^(e=((e+=(o^r)+h[11]+1839030562)<<16|e>>>16)+s<<0))+h[14]-35309556)<<23|r>>>9)+e<<0,r=((r+=((o=(s=((s+=((i=r^e)^(t=((t+=(i^s)+h[1]-1530992060)<<4|t>>>28)+r<<0))+h[4]+1272893353)<<11|s>>>21)+t<<0)^t)^(e=((e+=(o^r)+h[7]-155497632)<<16|e>>>16)+s<<0))+h[10]-1094730640)<<23|r>>>9)+e<<0,r=((r+=((o=(s=((s+=((i=r^e)^(t=((t+=(i^s)+h[13]+681279174)<<4|t>>>28)+r<<0))+h[0]-358537222)<<11|s>>>21)+t<<0)^t)^(e=((e+=(o^r)+h[3]-722521979)<<16|e>>>16)+s<<0))+h[6]+76029189)<<23|r>>>9)+e<<0,r=((r+=((o=(s=((s+=((i=r^e)^(t=((t+=(i^s)+h[9]-640364487)<<4|t>>>28)+r<<0))+h[12]-421815835)<<11|s>>>21)+t<<0)^t)^(e=((e+=(o^r)+h[15]+530742520)<<16|e>>>16)+s<<0))+h[2]-995338651)<<23|r>>>9)+e<<0,r=((r+=((s=((s+=(r^((t=((t+=(e^(r|~s))+h[0]-198630844)<<6|t>>>26)+r<<0)|~e))+h[7]+1126891415)<<10|s>>>22)+t<<0)^((e=((e+=(t^(s|~r))+h[14]-1416354905)<<15|e>>>17)+s<<0)|~t))+h[5]-57434055)<<21|r>>>11)+e<<0,r=((r+=((s=((s+=(r^((t=((t+=(e^(r|~s))+h[12]+1700485571)<<6|t>>>26)+r<<0)|~e))+h[3]-1894986606)<<10|s>>>22)+t<<0)^((e=((e+=(t^(s|~r))+h[10]-1051523)<<15|e>>>17)+s<<0)|~t))+h[1]-2054922799)<<21|r>>>11)+e<<0,r=((r+=((s=((s+=(r^((t=((t+=(e^(r|~s))+h[8]+1873313359)<<6|t>>>26)+r<<0)|~e))+h[15]-30611744)<<10|s>>>22)+t<<0)^((e=((e+=(t^(s|~r))+h[6]-1560198380)<<15|e>>>17)+s<<0)|~t))+h[13]+1309151649)<<21|r>>>11)+e<<0,r=((r+=((s=((s+=(r^((t=((t+=(e^(r|~s))+h[4]-145523070)<<6|t>>>26)+r<<0)|~e))+h[11]-1120210379)<<10|s>>>22)+t<<0)^((e=((e+=(t^(s|~r))+h[2]+718787259)<<15|e>>>17)+s<<0)|~t))+h[9]-343485551)<<21|r>>>11)+e<<0,this.first?(this.h0=t+1732584193<<0,this.h1=r-271733879<<0,this.h2=e-1732584194<<0,this.h3=s+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+r<<0,this.h2=this.h2+e<<0,this.h3=this.h3+s<<0)},Md5.prototype.hex=function(){this.finalize();var t=this.h0,r=this.h1,e=this.h2,s=this.h3;return HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var t=this.h0,r=this.h1,e=this.h2,s=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255,255&e,e>>8&255,e>>16&255,e>>24&255,255&s,s>>8&255,s>>16&255,s>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),r=new Uint32Array(t);return r[0]=this.h0,r[1]=this.h1,r[2]=this.h2,r[3]=this.h3,t},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var t,r,e,s="",i=this.array(),o=0;o<15;)t=i[o++],r=i[o++],e=i[o++],s+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|r>>>4)]+BASE64_ENCODE_CHAR[63&(r<<2|e>>>6)]+BASE64_ENCODE_CHAR[63&e];return t=i[o],s+(BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+"==")};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&define(function(){return exports}))}(),(function(){var cardFromNumber,cardFromType,cards,defaultFormat,formatBackCardNumber,formatBackExpiry,formatCardNumber,formatExpiry,formatForwardExpiry,formatForwardSlashAndSpace,hasTextSelected,luhnCheck,reFormatCVC,reFormatCardNumber,reFormatExpiry,reFormatNumeric,replaceFullWidthChars,restrictCVC,restrictCardNumber,restrictExpiry,restrictNumeric,safeVal,setCardType,__slice=[].slice,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1},$=window.jQuery||window.Zepto||window.$;$.payment={},$.payment.fn={},$.fn.payment=function(){var method=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];return $.payment.fn[method].apply(this,args)},$.payment.cards=cards=[{type:"maestro",patterns:[5018,502,503,506,56,58,639,6220,67],format:defaultFormat=/(\d{1,4})/g,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",patterns:[600],format:defaultFormat,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",patterns:[5019],format:defaultFormat,length:[16],cvcLength:[3],luhn:!0},{type:"visa",patterns:[4],format:defaultFormat,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",patterns:[51,52,53,54,55,22,23,24,25,26,27],format:defaultFormat,length:[16],cvcLength:[3],luhn:!0},{type:"amex",patterns:[34,37],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[4],luhn:!0},{type:"dinersclub",patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",patterns:[60,64,65,622],format:defaultFormat,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",patterns:[62,88],format:defaultFormat,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",patterns:[35],format:defaultFormat,length:[16],cvcLength:[3],luhn:!0}],cardFromNumber=function(num){var card,p,_i,_j,_len,_len1,_ref;for(num=(num+"").replace(/\D/g,""),_i=0,_len=cards.length;_i<_len;_i++)for(_j=0,_len1=(_ref=(card=cards[_i]).patterns).length;_j<_len1;_j++)if(p=_ref[_j],num.substr(0,(p=p+"").length)===p)return card},cardFromType=function(type){for(var card,_i=0,_len=cards.length;_i<_len;_i++)if((card=cards[_i]).type===type)return card},luhnCheck=function(num){for(var digit,odd=!0,sum=0,digits=(num+"").split("").reverse(),_i=0,_len=digits.length;_i<_len;_i++)digit=digits[_i],digit=parseInt(digit,10),(odd=!odd)&&(digit*=2),9<digit&&(digit-=9),sum+=digit;return sum%10==0},hasTextSelected=function($target){var _ref;return null!=$target.prop("selectionStart")&&$target.prop("selectionStart")!==$target.prop("selectionEnd")||!(null==("undefined"!=typeof document&&null!==document&&null!=(_ref=document.selection)?_ref.createRange:void 0)||!document.selection.createRange().text)},safeVal=function(value,$target){var currPair,cursor,digit,prevPair;try{cursor=$target.prop("selectionStart")}catch(_error){cursor=null}if(digit=$target.val(),$target.val(value),null!==cursor&&$target.is(":focus"))return cursor===digit.length&&(cursor=value.length),digit!==value&&(prevPair=digit.slice(cursor-1,+cursor+1||9e9),currPair=value.slice(cursor-1,+cursor+1||9e9),digit=value[cursor],/\d/.test(digit)&&prevPair===digit+" "&&currPair===" "+digit&&(cursor+=1)),$target.prop("selectionStart",cursor),$target.prop("selectionEnd",cursor)},replaceFullWidthChars=function(str){for(var chars,chr,idx,value,_i=0,_len=(chars=(str=null==str?"":str).split(value="")).length;_i<_len;_i++)chr=chars[_i],value+=chr=-1<(idx="".indexOf(chr))?"0123456789"[idx]:chr;return value},reFormatNumeric=function(e){var $target=$(e.currentTarget);return setTimeout(function(){var value=$target.val();return value=(value=replaceFullWidthChars(value)).replace(/\D/g,""),safeVal(value,$target)})},reFormatCardNumber=function(e){var $target=$(e.currentTarget);return setTimeout(function(){var value=$target.val();return value=replaceFullWidthChars(value),value=$.payment.formatCardNumber(value),safeVal(value,$target)})},formatCardNumber=function(e){var $target,length,re,upperLength,value,digit=String.fromCharCode(e.which);if(/^\d+$/.test(digit)&&($target=$(e.currentTarget),value=$target.val(),re=cardFromNumber(value+digit),length=(value.replace(/\D/g,"")+digit).length,upperLength=16,!((upperLength=re?re.length[re.length.length-1]:upperLength)<=length||null!=$target.prop("selectionStart")&&$target.prop("selectionStart")!==value.length)))return(re=re&&"amex"===re.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/).test(value)?(e.preventDefault(),setTimeout(function(){return $target.val(value+" "+digit)})):re.test(value+digit)?(e.preventDefault(),setTimeout(function(){return $target.val(value+digit+" ")})):void 0},formatBackCardNumber=function(e){var $target=$(e.currentTarget),value=$target.val();if(8===e.which&&(null==$target.prop("selectionStart")||$target.prop("selectionStart")===value.length))return/\d\s$/.test(value)?(e.preventDefault(),setTimeout(function(){return $target.val(value.replace(/\d\s$/,""))})):/\s\d?$/.test(value)?(e.preventDefault(),setTimeout(function(){return $target.val(value.replace(/\d$/,""))})):void 0},reFormatExpiry=function(e){var $target=$(e.currentTarget);return setTimeout(function(){var value=$target.val();return value=replaceFullWidthChars(value),value=$.payment.formatExpiry(value),safeVal(value,$target)})},formatExpiry=function(e){var $target,val,digit=String.fromCharCode(e.which);if(/^\d+$/.test(digit))return $target=$(e.currentTarget),val=$target.val()+digit,/^\d$/.test(val)&&"0"!==val&&"1"!==val?(e.preventDefault(),setTimeout(function(){return $target.val("0"+val+" / ")})):/^\d\d$/.test(val)?(e.preventDefault(),setTimeout(function(){var m1=parseInt(val[0],10),m2=parseInt(val[1],10);return 2<m2&&0!==m1?$target.val("0"+m1+" / "+m2):$target.val(val+" / ")})):void 0},formatForwardExpiry=function(e){var $target,val=String.fromCharCode(e.which);if(/^\d+$/.test(val))return val=($target=$(e.currentTarget)).val(),/^\d\d$/.test(val)?$target.val(val+" / "):void 0},formatForwardSlashAndSpace=function(e){var $target,val=String.fromCharCode(e.which);if("/"===val||" "===val)return val=($target=$(e.currentTarget)).val(),/^\d$/.test(val)&&"0"!==val?$target.val("0"+val+" / "):void 0},formatBackExpiry=function(e){var $target=$(e.currentTarget),value=$target.val();if(8===e.which&&(null==$target.prop("selectionStart")||$target.prop("selectionStart")===value.length))return/\d\s\/\s$/.test(value)?(e.preventDefault(),setTimeout(function(){return $target.val(value.replace(/\d\s\/\s$/,""))})):void 0},reFormatCVC=function(e){var $target=$(e.currentTarget);return setTimeout(function(){var value=$target.val();return value=(value=replaceFullWidthChars(value)).replace(/\D/g,"").slice(0,4),safeVal(value,$target)})},restrictNumeric=function(e){var input;return!(!e.metaKey&&!e.ctrlKey)||32!==e.which&&(0===e.which||(e.which<33||(input=String.fromCharCode(e.which),!!/[\d\s]/.test(input))))},restrictCardNumber=function(e){var value=$(e.currentTarget),card=String.fromCharCode(e.which);if(/^\d+$/.test(card)&&!hasTextSelected(value))return value=(value.val()+card).replace(/\D/g,""),(card=cardFromNumber(value))?value.length<=card.length[card.length.length-1]:value.length<=16},restrictExpiry=function(e){var $target=$(e.currentTarget),digit=String.fromCharCode(e.which);if(/^\d+$/.test(digit)&&!hasTextSelected($target))return!(6<($target.val()+digit).replace(/\D/g,"").length)&&void 0},restrictCVC=function(e){var $target=$(e.currentTarget),digit=String.fromCharCode(e.which);if(/^\d+$/.test(digit)&&!hasTextSelected($target))return($target.val()+digit).length<=4},setCardType=function(e){var card,$target=$(e.currentTarget),allTypes=$target.val(),cardType=$.payment.cardType(allTypes)||"unknown";if(!$target.hasClass(cardType))return allTypes=function(){for(var _results=[],_i=0,_len=cards.length;_i<_len;_i++)card=cards[_i],_results.push(card.type);return _results}(),$target.removeClass("unknown"),$target.removeClass(allTypes.join(" ")),$target.addClass(cardType),$target.toggleClass("identified","unknown"!==cardType),$target.trigger("payment.cardType",cardType)},$.payment.fn.formatCardCVC=function(){return this.on("keypress",restrictNumeric),this.on("keypress",restrictCVC),this.on("paste",reFormatCVC),this.on("change",reFormatCVC),this.on("input",reFormatCVC),this},$.payment.fn.formatCardExpiry=function(){return this.on("keypress",restrictNumeric),this.on("keypress",restrictExpiry),this.on("keypress",formatExpiry),this.on("keypress",formatForwardSlashAndSpace),this.on("keypress",formatForwardExpiry),this.on("keydown",formatBackExpiry),this.on("change",reFormatExpiry),this.on("input",reFormatExpiry),this},$.payment.fn.formatCardNumber=function(){return this.on("keypress",restrictNumeric),this.on("keypress",restrictCardNumber),this.on("keypress",formatCardNumber),this.on("keydown",formatBackCardNumber),this.on("keyup",setCardType),this.on("paste",reFormatCardNumber),this.on("change",reFormatCardNumber),this.on("input",reFormatCardNumber),this.on("input",setCardType),this},$.payment.fn.restrictNumeric=function(){return this.on("keypress",restrictNumeric),this.on("paste",reFormatNumeric),this.on("change",reFormatNumeric),this.on("input",reFormatNumeric),this},$.payment.fn.cardExpiryVal=function(){return $.payment.cardExpiryVal($(this).val())},$.payment.cardExpiryVal=function(value){var year=value.split(/[\s\/]+/,2),month=year[0],year=year[1];return 2===(null!=year?year.length:void 0)&&/^\d+$/.test(year)&&(year=(new Date).getFullYear().toString().slice(0,2)+year),{month:parseInt(month,10),year:year=parseInt(year,10)}},$.payment.validateCardNumber=function(num){var card,_ref;return num=(num+"").replace(/\s+|-/g,""),!!/^\d+$/.test(num)&&(!!(card=cardFromNumber(num))&&(_ref=num.length,0<=__indexOf.call(card.length,_ref)&&(!1===card.luhn||luhnCheck(num))))},$.payment.validateCardExpiry=function(month,year){var expiry,currentTime;return"object"==typeof month&&"month"in month&&(month=(currentTime=month).month,year=currentTime.year),!(!month||!year)&&(month=$.trim(month),year=$.trim(year),!!/^\d+$/.test(month)&&(!!/^\d+$/.test(year)&&(1<=month&&month<=12&&(4===(year=2===year.length?year<70?"20"+year:"19"+year:year).length&&(expiry=new Date(year,month),currentTime=new Date,expiry.setMonth(expiry.getMonth()-1),expiry.setMonth(expiry.getMonth()+1,1),currentTime<expiry)))))},$.payment.validateCardCVC=function(cvc,type){var card,_ref;return cvc=$.trim(cvc),!!/^\d+$/.test(cvc)&&(null!=(card=cardFromType(type))?(_ref=cvc.length,0<=__indexOf.call(card.cvcLength,_ref)):3<=cvc.length&&cvc.length<=4)},$.payment.cardType=function(num){var _ref;return num&&(null!=(_ref=cardFromNumber(num))?_ref.type:void 0)||null},$.payment.formatCardNumber=function(num){var groups,_ref;return num=num.replace(/\D/g,""),(groups=cardFromNumber(num))?(_ref=groups.length[groups.length.length-1],num=num.slice(0,_ref),groups.format.global?null!=(_ref=num.match(groups.format))?_ref.join(" "):void 0:null!=(groups=groups.format.exec(num))?(groups.shift(),(groups=$.grep(groups,function(n){return n})).join(" ")):void 0):num},$.payment.formatExpiry=function(expiry){var mon,sep,year=expiry.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/);return year?(mon=year[1]||"",sep=year[2]||"",0<(year=year[3]||"").length?sep=" / ":" /"===sep?(mon=mon.substring(0,1),sep=""):2===mon.length||0<sep.length?sep=" / ":1===mon.length&&"0"!==mon&&"1"!==mon&&(mon="0"+mon,sep=" / "),mon+sep+year):""}}).call(this),"function"!=typeof Object.assign&&(Object.assign=function(target){"use strict";if(null==target)throw new TypeError("Cannot convert undefined or null to object");target=Object(target);for(var index=1;index<arguments.length;index++){var source=arguments[index];if(null!=source)for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory(global.WHATWGFetch={})}(this,function(exports){"use strict";var viewClasses,isArrayBufferView,support_searchParams="URLSearchParams"in self,support_iterable="Symbol"in self&&"iterator"in Symbol,support_blob="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),support_formData="FormData"in self,support_arrayBuffer="ArrayBuffer"in self;function normalizeName(name){if("string"!=typeof name&&(name=String(name)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name))throw new TypeError("Invalid character in header field name");return name.toLowerCase()}function normalizeValue(value){return value="string"!=typeof value?String(value):value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:value===undefined,value:value}}};return support_iterable&&(iterator[Symbol.iterator]=function(){return iterator}),iterator}function Headers(headers){this.map={},headers instanceof Headers?headers.forEach(function(value,name){this.append(name,value)},this):Array.isArray(headers)?headers.forEach(function(header){this.append(header[0],header[1])},this):headers&&Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}function consumed(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)},reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsArrayBuffer(blob),promise}function bufferClone(buf){if(buf.slice)return buf.slice(0);var view=new Uint8Array(buf.byteLength);return view.set(new Uint8Array(buf)),view.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(body){var obj;(this._bodyInit=body)?"string"==typeof body?this._bodyText=body:support_blob&&Blob.prototype.isPrototypeOf(body)?this._bodyBlob=body:support_formData&&FormData.prototype.isPrototypeOf(body)?this._bodyFormData=body:support_searchParams&&URLSearchParams.prototype.isPrototypeOf(body)?this._bodyText=body.toString():support_arrayBuffer&&support_blob&&((obj=body)&&DataView.prototype.isPrototypeOf(obj))?(this._bodyArrayBuffer=bufferClone(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))?this._bodyArrayBuffer=bufferClone(body):this._bodyText=body=Object.prototype.toString.call(body):this._bodyText="",this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support_searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support_blob&&(this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var blob,reader,promise=consumed(this);if(promise)return promise;if(this._bodyBlob)return blob=this._bodyBlob,reader=new FileReader,promise=fileReaderReady(reader),reader.readAsText(blob),promise;if(this._bodyArrayBuffer)return Promise.resolve(function(buf){for(var view=new Uint8Array(buf),chars=new Array(view.length),i=0;i<view.length;i++)chars[i]=String.fromCharCode(view[i]);return chars.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support_formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}support_arrayBuffer&&(viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&-1<viewClasses.indexOf(Object.prototype.toString.call(obj))}),Headers.prototype.append=function(name,value){name=normalizeName(name),value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+", "+value:value},Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]},Headers.prototype.get=function(name){return name=normalizeName(name),this.has(name)?this.map[name]:null},Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))},Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)},Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map)this.map.hasOwnProperty(name)&&callback.call(thisArg,this.map[name],name,this)},Headers.prototype.keys=function(){var items=[];return this.forEach(function(value,name){items.push(name)}),iteratorFor(items)},Headers.prototype.values=function(){var items=[];return this.forEach(function(value){items.push(value)}),iteratorFor(items)},Headers.prototype.entries=function(){var items=[];return this.forEach(function(value,name){items.push([name,value])}),iteratorFor(items)},support_iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(method,options){var upcased,body=(options=options||{}).body;if(method instanceof Request){if(method.bodyUsed)throw new TypeError("Already read");this.url=method.url,this.credentials=method.credentials,options.headers||(this.headers=new Headers(method.headers)),this.method=method.method,this.mode=method.mode,this.signal=method.signal,body||null==method._bodyInit||(body=method._bodyInit,method.bodyUsed=!0)}else this.url=String(method);if(this.credentials=options.credentials||this.credentials||"same-origin",!options.headers&&this.headers||(this.headers=new Headers(options.headers)),this.method=(method=options.method||this.method||"GET",upcased=method.toUpperCase(),-1<methods.indexOf(upcased)?upcased:method),this.mode=options.mode||this.mode||null,this.signal=options.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function decode(body){var form=new FormData;return body.trim().split("&").forEach(function(bytes){var name,value;bytes&&(name=(value=bytes.split("=")).shift().replace(/\+/g," "),value=value.join("=").replace(/\+/g," "),form.append(decodeURIComponent(name),decodeURIComponent(value)))}),form}function Response(bodyInit,options){options=options||{},this.type="default",this.status=options.status===undefined?200:options.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in options?options.statusText:"OK",this.headers=new Headers(options.headers),this.url=options.url||"",this._initBody(bodyInit)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var response=new Response(null,{status:0,statusText:""});return response.type="error",response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw new RangeError("Invalid status code");return new Response(null,{status:status,headers:{location:url}})},exports.DOMException=self.DOMException;try{new exports.DOMException}catch(err){exports.DOMException=function(message,name){this.message=message,this.name=name;var error=Error(message);this.stack=error.stack},exports.DOMException.prototype=Object.create(Error.prototype),exports.DOMException.prototype.constructor=exports.DOMException}function fetch(input,init){return new Promise(function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted)return reject(new exports.DOMException("Aborted","AbortError"));var xhr=new XMLHttpRequest;function abortXhr(){xhr.abort()}xhr.onload=function(){var rawHeaders,headers,options={status:xhr.status,statusText:xhr.statusText,headers:(rawHeaders=xhr.getAllResponseHeaders()||"",headers=new Headers,rawHeaders.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(line){var value=line.split(":"),key=value.shift().trim();key&&(value=value.join(":").trim(),headers.append(key,value))}),headers)};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))},xhr.onerror=function(){reject(new TypeError("Network request failed"))},xhr.ontimeout=function(){reject(new TypeError("Network request failed"))},xhr.onabort=function(){reject(new exports.DOMException("Aborted","AbortError"))},xhr.open(request.method,request.url,!0),"include"===request.credentials?xhr.withCredentials=!0:"omit"===request.credentials&&(xhr.withCredentials=!1),"responseType"in xhr&&support_blob&&(xhr.responseType="blob"),request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)}),request.signal&&(request.signal.addEventListener("abort",abortXhr),xhr.onreadystatechange=function(){4===xhr.readyState&&request.signal.removeEventListener("abort",abortXhr)}),xhr.send("undefined"==typeof request._bodyInit?null:request._bodyInit)})}fetch.polyfill=!0,self.fetch||(self.fetch=fetch,self.Headers=Headers,self.Request=Request,self.Response=Response),exports.Headers=Headers,exports.Request=Request,exports.Response=Response,exports.fetch=fetch,Object.defineProperty(exports,"__esModule",{value:!0})}),function(factory){("object"!=typeof exports||"undefined"==typeof module)&&"function"==typeof define&&define.amd?define(factory):factory()}(function(){"use strict";function finallyConstructor(callback){var constructor=this.constructor;return this.then(function(value){return constructor.resolve(callback()).then(function(){return value})},function(reason){return constructor.resolve(callback()).then(function(){return constructor.reject(reason)})})}function allSettled(arr){return new this(function(resolve,reject){if(!arr||"undefined"==typeof arr.length)return reject(new TypeError(typeof arr+" "+arr+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var args=Array.prototype.slice.call(arr);if(0===args.length)return resolve([]);var remaining=args.length;for(var i=0;i<args.length;i++)!function res(i,val){if(val&&("object"==typeof val||"function"==typeof val)){var then=val.then;if("function"==typeof then)return void then.call(val,function(val){res(i,val)},function(e){args[i]={status:"rejected",reason:e},0==--remaining&&resolve(args)})}args[i]={status:"fulfilled",value:val},0==--remaining&&resolve(args)}(i,args[i])})}var setTimeoutFunc=setTimeout;function isArray(x){return Boolean(x&&"undefined"!=typeof x.length)}function noop(){}function Promise(fn){if(!(this instanceof Promise))throw new TypeError("Promises must be constructed via new");if("function"!=typeof fn)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],doResolve(fn,this)}function handle(self,deferred){for(;3===self._state;)self=self._value;0!==self._state?(self._handled=!0,Promise._immediateFn(function(){var ret,cb=1===self._state?deferred.onFulfilled:deferred.onRejected;if(null!==cb){try{ret=cb(self._value)}catch(e){return void reject(deferred.promise,e)}resolve(deferred.promise,ret)}else(1===self._state?resolve:reject)(deferred.promise,self._value)})):self._deferreds.push(deferred)}function resolve(self,newValue){try{if(newValue===self)throw new TypeError("A promise cannot be resolved with itself.");if(newValue&&("object"==typeof newValue||"function"==typeof newValue)){var then=newValue.then;if(newValue instanceof Promise)return self._state=3,self._value=newValue,void finale(self);if("function"==typeof then)return void doResolve((fn=then,thisArg=newValue,function(){fn.apply(thisArg,arguments)}),self)}self._state=1,self._value=newValue,finale(self)}catch(e){reject(self,e)}var fn,thisArg}function reject(self,newValue){self._state=2,self._value=newValue,finale(self)}function finale(self){2===self._state&&0===self._deferreds.length&&Promise._immediateFn(function(){self._handled||Promise._unhandledRejectionFn(self._value)});for(var i=0,len=self._deferreds.length;i<len;i++)handle(self,self._deferreds[i]);self._deferreds=null}function Handler(onFulfilled,onRejected,promise){this.onFulfilled="function"==typeof onFulfilled?onFulfilled:null,this.onRejected="function"==typeof onRejected?onRejected:null,this.promise=promise}function doResolve(fn,self){var done=!1;try{fn(function(value){done||(done=!0,resolve(self,value))},function(reason){done||(done=!0,reject(self,reason))})}catch(ex){if(done)return;done=!0,reject(self,ex)}}Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);return handle(this,new Handler(onFulfilled,onRejected,prom)),prom},Promise.prototype["finally"]=finallyConstructor,Promise.all=function(arr){return new Promise(function(resolve,reject){if(!isArray(arr))return reject(new TypeError("Promise.all accepts an array"));var args=Array.prototype.slice.call(arr);if(0===args.length)return resolve([]);var remaining=args.length;function res(i,val){try{if(val&&("object"==typeof val||"function"==typeof val)){var then=val.then;if("function"==typeof then)return void then.call(val,function(val){res(i,val)},reject)}args[i]=val,0==--remaining&&resolve(args)}catch(ex){reject(ex)}}for(var i=0;i<args.length;i++)res(i,args[i])})},Promise.allSettled=allSettled,Promise.resolve=function(value){return value&&"object"==typeof value&&value.constructor===Promise?value:new Promise(function(resolve){resolve(value)})},Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})},Promise.race=function(arr){return new Promise(function(resolve,reject){if(!isArray(arr))return reject(new TypeError("Promise.race accepts an array"));for(var i=0,len=arr.length;i<len;i++)Promise.resolve(arr[i]).then(resolve,reject)})},Promise._immediateFn="function"==typeof setImmediate?function(fn){setImmediate(fn)}:function(fn){setTimeoutFunc(fn,0)},Promise._unhandledRejectionFn=function(err){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",err)};var globalNS=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof globalNS.Promise?globalNS.Promise=Promise:globalNS.Promise.prototype["finally"]?globalNS.Promise.allSettled||(globalNS.Promise.allSettled=allSettled):globalNS.Promise.prototype["finally"]=finallyConstructor}),function(){"use strict";var document,registry,crossOriginUpdater,crossOriginRect;function getFrameElement(doc){try{return doc.defaultView&&doc.defaultView.frameElement||null}catch(e){return null}}function IntersectionObserverEntry(entry){this.time=entry.time,this.target=entry.target,this.rootBounds=ensureDOMRect(entry.rootBounds),this.boundingClientRect=ensureDOMRect(entry.boundingClientRect),this.intersectionRect=ensureDOMRect(entry.intersectionRect||getEmptyRect()),this.isIntersecting=!!entry.intersectionRect;var intersectionArea=this.boundingClientRect,targetArea=intersectionArea.width*intersectionArea.height,intersectionArea=this.intersectionRect,intersectionArea=intersectionArea.width*intersectionArea.height;this.intersectionRatio=targetArea?Number((intersectionArea/targetArea).toFixed(4)):this.isIntersecting?1:0}function IntersectionObserver(callback,opt_options){var fn,timeout,timer,options=opt_options||{};if("function"!=typeof callback)throw new Error("callback must be a function");if(options.root&&1!=options.root.nodeType&&9!=options.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(fn=this._checkForIntersections.bind(this),timeout=this.THROTTLE_TIMEOUT,timer=null,function(){timer=timer||setTimeout(function(){fn(),timer=null},timeout)}),this._callback=callback,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(options.rootMargin),this.thresholds=this._initThresholds(options.threshold),this.root=options.root||null,this.rootMargin=this._rootMarginValues.map(function(margin){return margin.value+margin.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function addEvent(node,event,fn,opt_useCapture){"function"==typeof node.addEventListener?node.addEventListener(event,fn,opt_useCapture||!1):"function"==typeof node.attachEvent&&node.attachEvent("on"+event,fn)}function removeEvent(node,event,fn,opt_useCapture){"function"==typeof node.removeEventListener?node.removeEventListener(event,fn,opt_useCapture||!1):"function"==typeof node.detatchEvent&&node.detatchEvent("on"+event,fn)}function getBoundingClientRect(el){var rect;try{rect=el.getBoundingClientRect()}catch(err){}return rect?rect.width&&rect.height?rect:{top:rect.top,right:rect.right,bottom:rect.bottom,left:rect.left,width:rect.right-rect.left,height:rect.bottom-rect.top}:getEmptyRect()}function getEmptyRect(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function ensureDOMRect(rect){return!rect||"x"in rect?rect:{top:rect.top,y:rect.top,bottom:rect.bottom,left:rect.left,x:rect.left,right:rect.right,width:rect.width,height:rect.height}}function convertFromParentRect(parentBoundingRect,parentIntersectionRect){var top=parentIntersectionRect.top-parentBoundingRect.top,left=parentIntersectionRect.left-parentBoundingRect.left;return{top:top,left:left,height:parentIntersectionRect.height,width:parentIntersectionRect.width,bottom:top+parentIntersectionRect.height,right:left+parentIntersectionRect.width}}function containsDeep(parent,child){for(var node=child;node;){if(node==parent)return!0;node=getParentNode(node)}return!1}function getParentNode(node){var parent=node.parentNode;return 9==node.nodeType&&node!=document?getFrameElement(node):(parent=parent&&parent.assignedSlot?parent.assignedSlot.parentNode:parent)&&11==parent.nodeType&&parent.host?parent.host:parent}function isDoc(node){return node&&9===node.nodeType}"object"==typeof window&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(document=function(){for(var doc=window.document,frame=getFrameElement(doc);frame;)frame=getFrameElement(doc=frame.ownerDocument);return doc}(),registry=[],crossOriginRect=crossOriginUpdater=null,IntersectionObserver.prototype.THROTTLE_TIMEOUT=100,IntersectionObserver.prototype.POLL_INTERVAL=null,IntersectionObserver.prototype.USE_MUTATION_OBSERVER=!0,IntersectionObserver._setupCrossOriginUpdater=function(){return crossOriginUpdater=crossOriginUpdater||function(boundingClientRect,intersectionRect){crossOriginRect=boundingClientRect&&intersectionRect?convertFromParentRect(boundingClientRect,intersectionRect):getEmptyRect(),registry.forEach(function(observer){observer._checkForIntersections()})}},IntersectionObserver._resetCrossOriginUpdater=function(){crossOriginRect=crossOriginUpdater=null},IntersectionObserver.prototype.observe=function(target){if(!this._observationTargets.some(function(item){return item.element==target})){if(!target||1!=target.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:target,entry:null}),this._monitorIntersections(target.ownerDocument),this._checkForIntersections()}},IntersectionObserver.prototype.unobserve=function(target){this._observationTargets=this._observationTargets.filter(function(item){return item.element!=target}),this._unmonitorIntersections(target.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},IntersectionObserver.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},IntersectionObserver.prototype.takeRecords=function(){var records=this._queuedEntries.slice();return this._queuedEntries=[],records},IntersectionObserver.prototype._initThresholds=function(opt_threshold){var threshold=opt_threshold||[0];return(threshold=!Array.isArray(threshold)?[threshold]:threshold).sort().filter(function(t,i,a){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==a[i-1]})},IntersectionObserver.prototype._parseRootMargin=function(opt_rootMargin){var margins=(opt_rootMargin||"0px").split(/\s+/).map(function(margin){var parts=/^(-?\d*\.?\d+)(px|%)$/.exec(margin);if(!parts)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(parts[1]),unit:parts[2]}});return margins[1]=margins[1]||margins[0],margins[2]=margins[2]||margins[0],margins[3]=margins[3]||margins[1],margins},IntersectionObserver.prototype._monitorIntersections=function(doc){var callback,monitoringInterval,domObserver,frame=doc.defaultView;frame&&-1==this._monitoringDocuments.indexOf(doc)&&(callback=this._checkForIntersections,domObserver=monitoringInterval=null,this.POLL_INTERVAL?monitoringInterval=frame.setInterval(callback,this.POLL_INTERVAL):(addEvent(frame,"resize",callback,!0),addEvent(doc,"scroll",callback,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in frame&&(domObserver=new frame.MutationObserver(callback)).observe(doc,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(doc),this._monitoringUnsubscribes.push(function(){var win=doc.defaultView;win&&(monitoringInterval&&win.clearInterval(monitoringInterval),removeEvent(win,"resize",callback,!0)),removeEvent(doc,"scroll",callback,!0),domObserver&&domObserver.disconnect()}),frame=this.root&&(this.root.ownerDocument||this.root)||document,doc==frame||(frame=getFrameElement(doc))&&this._monitorIntersections(frame.ownerDocument))},IntersectionObserver.prototype._unmonitorIntersections=function(doc){var rootDoc,frame,index=this._monitoringDocuments.indexOf(doc);-1!=index&&(rootDoc=this.root&&(this.root.ownerDocument||this.root)||document,this._observationTargets.some(function(item){if((itemDoc=item.element.ownerDocument)==doc)return!0;for(;itemDoc&&itemDoc!=rootDoc;){var itemDoc,frame=getFrameElement(itemDoc);if((itemDoc=frame&&frame.ownerDocument)==doc)return!0}return!1})||(frame=this._monitoringUnsubscribes[index],this._monitoringDocuments.splice(index,1),this._monitoringUnsubscribes.splice(index,1),frame(),doc==rootDoc||(frame=getFrameElement(doc))&&this._unmonitorIntersections(frame.ownerDocument)))},IntersectionObserver.prototype._unmonitorAllIntersections=function(){var unsubscribes=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0;for(var i=this._monitoringUnsubscribes.length=0;i<unsubscribes.length;i++)unsubscribes[i]()},IntersectionObserver.prototype._checkForIntersections=function(){var rootIsInDom,rootRect;!this.root&&crossOriginUpdater&&!crossOriginRect||(rootIsInDom=this._rootIsInDom(),rootRect=rootIsInDom?this._getRootRect():getEmptyRect(),this._observationTargets.forEach(function(item){var target=item.element,targetRect=getBoundingClientRect(target),rootContainsTarget=this._rootContainsTarget(target),oldEntry=item.entry,newEntry=rootIsInDom&&rootContainsTarget&&this._computeTargetAndRootIntersection(target,targetRect,rootRect),rootBounds=null;this._rootContainsTarget(target)?crossOriginUpdater&&!this.root||(rootBounds=rootRect):rootBounds=getEmptyRect();newEntry=item.entry=new IntersectionObserverEntry({time:window.performance&&performance.now&&performance.now(),target:target,boundingClientRect:targetRect,rootBounds:rootBounds,intersectionRect:newEntry});oldEntry?rootIsInDom&&rootContainsTarget?this._hasCrossedThreshold(oldEntry,newEntry)&&this._queuedEntries.push(newEntry):oldEntry&&oldEntry.isIntersecting&&this._queuedEntries.push(newEntry):this._queuedEntries.push(newEntry)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this))},IntersectionObserver.prototype._computeTargetAndRootIntersection=function(target,targetRect,rootRect){if("none"!=window.getComputedStyle(target).display){for(var rect1,rect2,intersectionRect=targetRect,parent=getParentNode(target),atRoot=!1;!atRoot&&parent;){var top,bottom,left,right,height=null,width=1==parent.nodeType?window.getComputedStyle(parent):{};if("none"==width.display)return null;if(parent==this.root||9==parent.nodeType?(atRoot=!0,parent==this.root||parent==document?crossOriginUpdater&&!this.root?!crossOriginRect||0==crossOriginRect.width&&0==crossOriginRect.height?intersectionRect=height=parent=null:height=crossOriginRect:height=rootRect:(bottom=(top=getParentNode(parent))&&getBoundingClientRect(top),left=top&&this._computeTargetAndRootIntersection(top,bottom,rootRect),bottom&&left?(parent=top,height=convertFromParentRect(bottom,left)):intersectionRect=parent=null)):parent!=(right=parent.ownerDocument).body&&parent!=right.documentElement&&"visible"!=width.overflow&&(height=getBoundingClientRect(parent)),height&&(rect1=height,rect2=intersectionRect,height=width=right=left=bottom=top=void 0,top=Math.max(rect1.top,rect2.top),bottom=Math.min(rect1.bottom,rect2.bottom),left=Math.max(rect1.left,rect2.left),right=Math.min(rect1.right,rect2.right),height=bottom-top,intersectionRect=0<=(width=right-left)&&0<=height?{top:top,bottom:bottom,left:left,right:right,width:width,height:height}:null),!intersectionRect)break;parent=parent&&getParentNode(parent)}return intersectionRect}},IntersectionObserver.prototype._getRootRect=function(){var html,rootRect;return rootRect=this.root&&!isDoc(this.root)?getBoundingClientRect(this.root):(html=(rootRect=isDoc(this.root)?this.root:document).documentElement,rootRect=rootRect.body,{top:0,left:0,right:html.clientWidth||rootRect.clientWidth,width:html.clientWidth||rootRect.clientWidth,bottom:html.clientHeight||rootRect.clientHeight,height:html.clientHeight||rootRect.clientHeight}),this._expandRectByRootMargin(rootRect)},IntersectionObserver.prototype._expandRectByRootMargin=function(rect){var newRect=this._rootMarginValues.map(function(margin,i){return"px"==margin.unit?margin.value:margin.value*(i%2?rect.width:rect.height)/100}),newRect={top:rect.top-newRect[0],right:rect.right+newRect[1],bottom:rect.bottom+newRect[2],left:rect.left-newRect[3]};return newRect.width=newRect.right-newRect.left,newRect.height=newRect.bottom-newRect.top,newRect},IntersectionObserver.prototype._hasCrossedThreshold=function(oldEntry,newEntry){var oldRatio=oldEntry&&oldEntry.isIntersecting?oldEntry.intersectionRatio||0:-1,newRatio=newEntry.isIntersecting?newEntry.intersectionRatio||0:-1;if(oldRatio!==newRatio)for(var i=0;i<this.thresholds.length;i++){var threshold=this.thresholds[i];if(threshold==oldRatio||threshold==newRatio||threshold<oldRatio!=threshold<newRatio)return!0}},IntersectionObserver.prototype._rootIsInDom=function(){return!this.root||containsDeep(document,this.root)},IntersectionObserver.prototype._rootContainsTarget=function(target){var rootDoc=this.root&&(this.root.ownerDocument||this.root)||document;return containsDeep(rootDoc,target)&&(!this.root||rootDoc==target.ownerDocument)},IntersectionObserver.prototype._registerInstance=function(){registry.indexOf(this)<0&&registry.push(this)},IntersectionObserver.prototype._unregisterInstance=function(){var index=registry.indexOf(this);-1!=index&&registry.splice(index,1)},window.IntersectionObserver=IntersectionObserver,window.IntersectionObserverEntry=IntersectionObserverEntry))}();var MS_SECOND=1e3,MS_MINUTE=60*MS_SECOND,MS_HOUR=60*MS_MINUTE,MS_DAY=24*MS_HOUR,VectorStock=VectorStock||{};function gtag(){dataLayer.push(arguments)}VectorStock.js={analytics:"//www.google-analytics.com/ga.js",facebook:"//connect.facebook.net/en_US/all.js#xfbml=1&appId=241100862642313",googleplus:"//apis.google.com/js/plusone.js",pinterest:"//assets.pinterest.com/js/pinit.js",twitter:"//platform.twitter.com/widgets.js"},VectorStock.google_id="101753067915-kdnvvq7hnnmrkia4f8ld6vrsuuco80c0.apps.googleusercontent.com",VectorStock.google_sitekey="6Lfn4kMUAAAAAHUi20XSelxWN5uirLGwYHEMWKWw",VectorStock.google_merchant_id="03244693700224937031",VectorStock.ga_id_ua="UA-2180430-2",VectorStock.ga_id_g4="G-QBXWNL4G7Q",VectorStock.ga_id_adwords="AW-1056033416",VectorStock.host="//www.vectorstock.com",VectorStock.amazonHost="https://vectorstock-uploads.s3.amazonaws.com",VectorStock.domain="//cdn.vectorstock.com",VectorStock.time=(new Date).getTime(),VectorStock.defaultInputText=["Search any Keyword...","Search for Artist...","Search for Vector ID..."],VectorStock.cache={vectors:{}},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config",VectorStock.ga_id_ua,{cookie_domain:"none"}),gtag("config",VectorStock.ga_id_g4,{cookie_domain:"none"}),gtag("config",VectorStock.ga_id_adwords,{cookie_domain:"none"}),VectorStock.track=function(type,event,category,action,label){var parameters;VectorStock.isProduction()&&window.gtag?(parameters={event_category:category,event_label:label},"page_view"===event&&(action=event,parameters=category),gtag("event",action,parameters)):"dev"===window.location.host.toLowerCase().split(".")[0]&&window.console&&window.console.log&&console.log("TRACK",type,event,category,action,label)},VectorStock.trackAppEvent=function(event_label,event_details){VectorStock.track("send","event","Converter App",event_label,JSON.stringify(event_details))},VectorStock.trackPage=function(page,title){VectorStock.track("send","page_view",{page_path:page,page_title:title})},VectorStock.trackSearch=function(search,scope,page,title){var page_path=page+"?keywords="+encodeURIComponent(search.toLowerCase())+"&scope="+scope+"&type=internal";VectorStock.track("send","page_view",{page_path:page_path,page_title:title,send_to:VectorStock.ga_id_ua})},VectorStock.log=function(payload,type){try{switch(type){case"debug":case"info":case"notice":case"warning":case"error":case"critical":case"alert":case"emergency":$.post("/api/log/"+type,payload);break;default:$.post("/api/log/warning",payload)}}catch(e){var data=null;try{data=JSON.stringify(payload)}catch(err){}try{$.post("/api/log/error",{source:"Logger",issue:e.name,detail:{type:typeof payload,data:data,message:e.message}})}catch(err){}}},VectorStock.globalErrorTimeout=null,VectorStock.loadJS=function(){var nonce,paypal_button;function loadJS(){var csp_meta=$("meta[name=csp-nonce]");csp_meta.length&&(nonce=csp_meta.attr("content"),csp_meta.remove())}function getNonce(){return nonce}function closeButton(){try{paypal_button&&paypal_button.close()}catch(e){console.error(e)}}return loadJS.prototype.load=function(src,onload,onerror){try{if(src&&"string"==typeof src){var a=document.createElement("script");return a.src=src,onload&&"function"==typeof onload&&(a.onload=onload),onerror&&"function"==typeof onerror&&(a.onerror=onerror),a.type="text/javascript",document.head.insertBefore(a,document.head.firstElementChild),a}}catch(err){onerror&&"function"==typeof onerror&&onerror(err);try{VectorStock.log({source:"JSLoader",issue:"Failed to load "+src,detail:{error:{name:err.name,message:err.message}}})}catch(e){}}return null},loadJS.prototype.loadPayPal=function(transactionType,clientId,onload,onerror){try{closeButton.call(this),"order"===transactionType?window.paypalLoadScript({"client-id":clientId,"data-csp-nonce":getNonce.call(this)}).then(function(){$("script[data-csp-nonce]").removeAttr("data-csp-nonce").removeData("csp-nonce"),onload&&"function"==typeof onload&&onload()})["catch"](function(err){onerror&&"function"==typeof onerror&&onerror(err)}):"subscription"===transactionType&&window.paypalLoadScript({"client-id":clientId,vault:!0,intent:"subscription","data-csp-nonce":getNonce.call(this)}).then(function(){$("script[data-csp-nonce]").removeAttr("data-csp-nonce").removeData("csp-nonce"),onload&&"function"==typeof onload&&onload()})["catch"](function(err){onerror&&"function"==typeof onerror&&onerror(err)})}catch(err){try{VectorStock.log({source:"JSLoader",issue:"Failed to load PayPal JS library",detail:{error:{name:err.name,message:err.message}}})}catch(e){}}},loadJS.prototype.setPayPalButton=function(payPalButton){try{!(function(button){paypal_button=button}).call(this,payPalButton)}catch(e){console.error(e)}},loadJS}(),VectorStock.loadJS=new VectorStock.loadJS,VectorStock.loadPaddle=function(onload,onerror){VectorStock.loadJS.load("https://cdn.paddle.com/paddle/paddle.js",onload,function(err){err&&err.message&&VectorStock.log({source:"Paddle",issue:"Paddle Javascript - Paddle CDN Loading Error",error:err.message}),VectorStock.loadJS.load("https://www.vectorstock.com/cache/paddle.js",onload,function(err){err&&err.message&&VectorStock.log({source:"Paddle",issue:"Paddle Javascript - VectorStock CDN Loading Error",error:err.message}),onerror&&"function"==typeof onerror&&onerror(err)})})},VectorStock.loadBraintree=function(onload,onerror){VectorStock.loadJS.load("https://js.braintreegateway.com/web/dropin/1.33.1/js/dropin.min.js",onload,function(err){err&&err.message&&(VectorStock.log({source:"Braintree",issue:"Braintree Javascript - Braintree CDN Loading Error",error:err.message}),onerror&&"function"==typeof onerror&&onerror(err))})},VectorStock.loadGoogleRecaptcha=function(onload,onerror){window.grecaptcha?onload():(window.addEventListener("googleRecaptchaLoaded",onload),VectorStock.loadJS.load("https://www.google.com/recaptcha/api.js?onload=onGoogleRecaptchaLoaded&render=explicit",null,function(err){err&&err.message&&(VectorStock.log({source:"Google Recaptcha",issue:"Recaptcha Javascript - Recaptcha JS Loading Error",error:err.message}),onerror&&"function"==typeof onerror&&onerror(err))}))},VectorStock.loadDropBox=function(onload,onerror){try{var a;window.Dropbox?onload():((a=document.createElement("script")).src="https://www.dropbox.com/static/api/2/dropins.js",onload&&"function"==typeof onload&&(a.onload=onload),onerror&&"function"==typeof onerror&&(a.onerror=onerror),a.type="text/javascript",a.id="dropboxjs",a.setAttribute("data-app-key","8vpqxraozoklyno"),document.head.insertBefore(a,document.head.firstElementChild))}catch(e){onerror&&"function"==typeof onerror&&onerror(e)}},function(){function isFileRemote(file){return 0<=file.search(/https?:/i)&&file.search(/:\/\/[w.]*vectorstock\.com/i)<0}window.onerror=function(message,source,lineno,colno,error){if((!source||!isFileRemote(source))&&message&&message.match&&!message.match(/script error/i)&&window.JSON){null==VectorStock.globalErrorTimeout?VectorStock.globalErrorTimeout=setTimeout(function(){VectorStock.log({source:"GlobalError",issue:message,detail:{source:source,line:lineno,col:colno,error:error}})},0):(clearTimeout(VectorStock.globalErrorTimeout),VectorStock.globalErrorTimeout=setTimeout(function(){VectorStock.log({source:"GlobalErrorDelayed",issue:message,detail:{source:source,line:lineno,col:colno,error:error}})},1e3));var log={page:window.location.href,source:source,position:lineno?colno?lineno+":"+colno:lineno:"",user:$("#user_id").val()||$('input[name="account_timestamp"]').val()||"Unknown"};if(message.match(/nsresult:/i)){var match=/\exception[\.]+\s+"(.+?)"/i.exec(message);if(1<match.length){var line=/location:\s+"(.+?)"/i.exec(message);if(1<line.length){var url=/(https\S+)/i.exec(line[1]);if(url&&1<url.length){if(isFileRemote(url[1]))return;log.source=url[1]}line=/line (\d+)/i.exec(line[1]);line&&1<line.length&&(log.position=line[1])}message=match[1]}}if(error&&error.stack){match=/([^@(\s]+?):([:\d]+)/i.exec(error.stack);if(isFileRemote(source=match[1]||""))return;log.stack=error.stack}VectorStock.track("send","event","Error (JS)",message,JSON.stringify(log))}},$(document).ajaxError(function(event,request,settings){if((0!=request.status||"error"!=request.statusText)&&window.JSON){if(settings.data&&"string"==typeof settings.data)for(var params=settings.data.split("&"),i=0;i<params.length;i++){var param=params[i].split("=");if("login_password"==param[0].toLowerCase()){param[1]=Array(param[1].length+1).join("*"),params[i]=param.join("="),settings.data=params.join("&");break}}var log={page:event.target.URL,request:settings.url,data:settings.data,method:settings.type,code:request.status,user:$("#user_id").val()||$('input[name="account_timestamp"]').val()||"Unknown"};401==request.status&&window.SignupBox?new SignupBox({screen:"login"}):(200==request.status&&(log.response=request.responseText),VectorStock.track("send","event","Error (JS)","AJAXError: "+request.statusText,JSON.stringify(log)))}})}(),$.put=function(url,data){var ajax={url:url,type:"PUT"};return void 0!==data&&(ajax.data=data),$.ajax(ajax)},$["delete"]=function(url,data){var ajax={url:url,type:"DELETE"};return void 0!==data&&(ajax.data=data),$.ajax(ajax)},$.fn.forceNumericOnly=function(){return this.on("input keydown keyup mousedown mouseup select contextmenu drop",function(){/^\d*$/.test(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")&&(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd))})},$.fn.getCaretPosition=function(){var elem=this[0];if("selectionStart"in elem)return elem.selectionStart;if(document.selection){elem.focus();var sel=document.selection.createRange(),sel_length=document.selection.createRange().text.length;return sel.moveStart("character",-elem.value.length),sel.text.length-sel_length}return null},$.fn.setCaretPosition=function(pos){return this.each(function(index,elem){var range;elem.setSelectionRange?elem.setSelectionRange(pos,pos):elem.createTextRange&&((range=elem.createTextRange()).collapse(!0),range.moveEnd("character",pos),range.moveStart("character",pos),range.select())}),this},$.fn.isEmpty=function(){var val=this.val();return val==this.attr("placeholder")||""==val},$.fn.typeEvents=function(){this.each(function(){var timeout_typing,input=$(this);input.on("keydown paste",function(){var len=input.val().length;setTimeout(function(){input.val().length!==len&&input.trigger("value_change")},10)}),input.on("value_change",function(){timeout_typing?clearTimeout(timeout_typing):input.trigger("type_start"),timeout_typing=setTimeout(function(){input.trigger("type_stop"),clearTimeout(timeout_typing),timeout_typing=null},300)})})},$(window).each(function(){var timeout,init=!1,scope=$(this);scope.on("resize",function(){init||(scope.trigger("resizeStart"),init=!0),clearInterval(timeout),timeout=setTimeout(function(){scope.trigger("resizeStop"),init=!1},300)})}),Number.prototype.formatCommas=function(shorthand){if(shorthand){if(1e6<=this)return String(Math.floor(this/1e5)/10)+"m";if(1e4<=this)return String(Math.floor(this/1e3))+"k"}return String(this).replace(/(\d)(?=(\d{3})+\b)/g,"$1,")},String.prototype.zeroPad=function(len){var str=String(this);return str.length>=len?str:new Array(len-str.length+1).join("0")+str},Number.prototype.zeroPad=function(len){return String(this).zeroPad(len)},String.prototype.formatCommas=function(){var parts=this.split("."),whole=parseInt(parts.shift());return isNaN(whole)?this:parts.length?whole.formatCommas()+"."+parts.join():whole.formatCommas()},String.prototype.toTitleCase=function(){return this.toLowerCase().replace(/(?:^|\s)\w/g,function(match){return match.toUpperCase()})},String.prototype.toNumber=function(){var adj=this.match(/%\s?$/gi)?.01:1;return parseFloat(this.replace(/[\$,]/g,""))*adj},Array.prototype.filter||(Array.prototype.filter=function(method,scope){if(null==this||"function"!=typeof method)throw new TypeError;for(var val,arr=Object(this),len=arr.length>>>0,res=[],i=0;i<len;i++)i in arr&&(val=arr[i],method.call(scope,val,i,arr)&&res.push(val));return res}),Array.prototype.indexOf||(Array.prototype.indexOf=function(needle,index){index=index||0;for(var len=this.length;index<len;){if(this[index]===needle)return index;++index}return-1}),Array.prototype.remove=function(){for(var needle,index,len=arguments.length;len&&this.length;)for(needle=arguments[--len];-1!==(index=this.indexOf(needle));)this.splice(index,1);return this},window.onGoogleRecaptchaLoaded=function(){try{setTimeout(function(){var googleRecaptchaLoaded=document.createEvent("Event");googleRecaptchaLoaded.initEvent("googleRecaptchaLoaded",!0,!0),window.dispatchEvent(googleRecaptchaLoaded)},100)}catch(e){console.error(e)}};var VSModule=function(){var INSTANCE={},events={};return INSTANCE.dispatchEvent=function(eventtype,args){if(events[eventtype]){null==args||args==undefined?args=[]:args instanceof Array!=!0&&(args=[args]);for(var i=events[eventtype].length;i--;)events[eventtype][i].apply(INSTANCE,args)}return INSTANCE},INSTANCE.on=function(eventtype,method){var types;if((eventtype="string"==typeof eventtype?1<(types=eventtype.split(" ")).length?types:eventtype:eventtype)instanceof Array){for(var index in eventtype)INSTANCE.on(eventtype[index],method);return INSTANCE}return events[eventtype]||(events[eventtype]=[]),events[eventtype].push(method),INSTANCE},INSTANCE.off=function(eventtype,method){var types;if((eventtype="string"==typeof eventtype?1<(types=eventtype.split(" ")).length?types:eventtype:eventtype)instanceof Array){for(var index in eventtype)INSTANCE.off(eventtype[index],method);return INSTANCE}if(events[eventtype])for(var i=events[eventtype].length;i--;)if(events[eventtype][i]==method){events[eventtype].splice(i,1);break}return INSTANCE},INSTANCE};!function($){$.fn.loadingIcon=function(icon_type,icon_shade){var instances,icon_type=icon_type||"medium",icon_shade=icon_shade||"";return this.each(function(){var container,icon,film,int_animation,int_cleanup;function isFinished(){$.contains(window.document,icon[0])||(icon.remove(),clearInterval(int_animation),clearInterval(int_cleanup))}container=$(this),icon=$("<span></span>").addClass("vs_loadicon").addClass(icon_type).addClass(icon_shade).appendTo(container),film=$("<span></span>").appendTo(icon),$('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 40 40" style="enable-background:new 0 0 40 40;" xml:space="preserve"><g><path d="M12.436,35.229C6.843,32.445,3,26.671,3,20c0-9.39,7.611-17,17-17l-2.532,7.767"/><path d="M27.561,4.769C33.155,7.551,37,13.327,37,20c0,9.389-7.611,17-17,17l2.531-7.768"/></g></svg>').appendTo(film),icon.addClass("animate_css"),int_cleanup=setInterval(isFinished,1e3),instances=instances?instances.add(icon):icon}),instances}}(jQuery),function($){$.fn.dropdown=function(settings_custom){var settings=$.extend({},{classname:"dropdown",width:0},settings_custom);return this.each(function(){var original,module,button,label,options,area,list,icon,is_open,selected_index,scroll_position,open_height;function onMousewheel(event,delta){var top=list.scrollTop();(0<delta&&0==top||delta<0&&top==list[0].scrollHeight-list.innerHeight())&&event.preventDefault()}function toggleState(){(is_open?close:open)()}function open(){is_open||($("."+settings.classname).not(module).each(function(){$(this).trigger("close")}),$(document).on("mousedown",mouseDown),$(document).on("keydown",scrollTo),module.addClass("open"),list.scrollTop(scroll_position),is_open=!0)}function close(){var transitionEnd,transitionComplete;is_open&&($(document).off("mousedown",mouseDown),$(document).off("keydown",scrollTo),module.removeClass("open"),module.addClass("close"),transitionComplete=function(){module.removeClass("close"),module.off(transitionEnd,transitionComplete)},module.on(transitionEnd="webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend",transitionComplete),is_open=!1)}function mouseDown(event){0===$(event.target).parents("."+settings.classname).length&&close()}function onListClick(event){"LI"===event.target.tagName&&(selectItem($(event.target)),setTimeout(function(){close()},150))}function selectItem(item){var item_index=$("li",list).index(item);item_index!==selected_index&&($(".selected",list).removeClass("selected"),$(".dd_icon",list).remove(),item.prepend(icon).addClass("selected"),selected_index=item_index,label.html(item.text()),scroll_position=list.scrollTop()+item.position().top-1,original[0].selectedIndex=selected_index,original.change())}function checkDirection(){var module_bottom=$(window),boundary_top=module_bottom.scrollTop(),boundary_bottom=boundary_top+module_bottom.height(),module_top=module.offset().top,module_bottom=module_top+module.height();is_open||module_bottom<=boundary_bottom&&boundary_top<=module_top&&("up"==settings.direction?module_top-open_height<boundary_top?module.removeClass("dd_up"):module.addClass("dd_up"):boundary_bottom<module_bottom+open_height?module.addClass("dd_up"):module.removeClass("dd_up"))}function scrollTo(event){var adjust,offset,duration;0==$(":focus").length&&65<=event.keyCode&&event.keyCode<=90&&(duration=list[0].scrollHeight-list.height(),offset=adjust=0,$("li",list).each(function(){var code=$(this).text().charCodeAt(0);if(""==$(this).attr("data-val"))adjust=$(this).outerHeight(),offset+=adjust;else{if(code==event.keyCode)return!1;{if(code>event.keyCode)return offset-=adjust,!1;adjust=$(this).outerHeight(),offset+=adjust}}}),offset=Math.min(offset,duration),duration=Math.abs(list.scrollTop()-offset),duration=300+5*Math.round(duration/30),scroll_position=offset,list.stop().animate({scrollTop:scroll_position},duration,"easeOutCubic"))}original=$(this),function(){is_open=!1,module=$('<div class="'+settings.classname+' open"><div class="dd_button"><span class="dd_label"></span><span class="dd_icon"></span></div><div class="dd_options"><div class="dd_area"><ul></ul></div></div></div>'),button=$(".dd_button",module),label=$(".dd_label",module),options=$(".dd_options",module),area=$(".dd_area",options),list=$("ul",area),icon=$('<span class="dd_icon"></span>'),original.after(module).hide(),settings.size&&module.addClass("dd_"+settings.size),settings.direction&&module.addClass("dd_"+settings.direction),settings.theme&&module.addClass("dd_"+settings.theme),module.width(0<settings.width?settings.width:original.outerWidth());var scroll_tally=0;$("option",original).each(function(i){var item=$("<li>"+$(this).text()+"</li>").attr("data-val",$(this).val()).appendTo(list);$(this).is(":selected")&&(item.append(icon).addClass("selected"),label.html($(this).text()),scroll_position=scroll_tally,selected_index=i),scroll_tally+=item.outerHeight()}),open_height=options.height(),module.on("open",open).on("close",close),button.on("click",toggleState),list.on("mousewheel",onMousewheel).on("click",onListClick),$(window).on("scroll",checkDirection),original.on("change",function(){var item_index=$("option:selected",this).index();selectItem(list.find("li").eq(item_index))}),module.removeClass("open"),checkDirection()}()}),this}}(jQuery);var UserData=function(){var user_id,INSTANCE={},support_sessionstorage=!1,support_localstorage=!1,synced_cart=[],cart_updated=!1,purchased=[],galleries=[],following=[],notfollowing=[];function getProfile(){$.get("/auth/user_profile").done(function(response){response?setProfile(response):logIssue()}).fail(logIssue)}function logIssue(){try{$.get("/api/purchases/setup",function(response){VectorStock.track("send","event","Error (JS)","CustomError: JSON Profile","User ID: "+response.user_id)})}catch(e){}}function setProfile(data){data&&data.id&&(user_id=data.id,INSTANCE.checkCart(data.cart_update,data.cart_hash),purchased=data.purchased||[],galleries=formatGalleryContents(data.galleries||[]),following=data.following||[],notfollowing=data.notfollowing||[],save())}function save(type){try{support_sessionstorage&&JSON&&JSON.stringify&&(type&&"id"!=type||(sessionStorage.sid=JSON.stringify(user_id)),type&&"purchased"!=type||(sessionStorage.purchased=JSON.stringify(purchased)),type&&"galleries"!=type||(sessionStorage.galleries=JSON.stringify(galleries)),type&&"following"!=type||(sessionStorage.following=JSON.stringify(following)),type&&"notfollowing"!=type||(sessionStorage.notfollowing=JSON.stringify(notfollowing)))}catch(e){}try{support_localstorage&&JSON&&JSON.stringify&&(type&&"synced_cart"!=type||(localStorage.synced_cart=JSON.stringify(synced_cart)))}catch(e){}}function getGalleryIndexByID(gallery_id){for(var i=0;i<galleries.length;i++)if(galleries[i].id==gallery_id)return i;return null}function emptyGallery(gallery_id){var gallery_index=getGalleryIndexByID(gallery_id);galleries[gallery_index].contents=[]}function formatGalleryContents(galleries){if(!galleries||!galleries.length)return galleries;for(var i=0;i<galleries.length;i++)if(galleries[i].contents.length){for(var contents=[],j=0;j<galleries[i].contents.length;j++)galleries[i].contents[j]&&(galleries[i].contents[j].id?contents.push(galleries[i].contents[j].id):isNaN(galleries[i].contents[j])||contents.push(galleries[i].contents[j]));galleries[i].contents=contents}return galleries}function purge(){support_sessionstorage&&(sessionStorage.removeItem("sid"),sessionStorage.removeItem("cart"),sessionStorage.removeItem("purchased"),sessionStorage.removeItem("galleries"),sessionStorage.removeItem("following")),support_localstorage&&localStorage.removeItem("synced_cart"),INSTANCE.setSyncedCart([],md5(JSON.stringify([])))}return INSTANCE.destroy=purge,INSTANCE.refresh=getProfile,INSTANCE.setProfile=setProfile,INSTANCE.isInCart=function(vector_id){if(vector_id=parseInt(vector_id),synced_cart.length)for(var i=0;i<synced_cart.length;i++)if(synced_cart[i].id&&synced_cart[i].id===vector_id)return!0;return!1},INSTANCE.addToSyncedCart=function(vector_id,license,replace){vector_id=parseInt(vector_id),replace=void 0===replace||replace;for(var i=0;i<synced_cart.length;i++)if(synced_cart[i].id&&synced_cart[i].id===vector_id)return replace?(synced_cart.splice(i,1),synced_cart.push({id:vector_id,license:license})):synced_cart[i]={id:vector_id,license:license},save("synced_cart"),synced_cart.length;return synced_cart.push({id:vector_id,license:license}),save("synced_cart"),synced_cart.length},INSTANCE.removeFromSyncedCart=function(vector_id){vector_id=parseInt(vector_id);for(var i=0;i<synced_cart.length;i++)if(synced_cart[i].id&&synced_cart[i].id===vector_id){synced_cart.splice(i,1),save("synced_cart");break}return synced_cart.length},INSTANCE.emptySyncedCart=function(){synced_cart=[],save("synced_cart")},INSTANCE.getSyncedCart=function(){return synced_cart},INSTANCE.checkCart=function(cart_update,server_hash){support_localstorage&&cart_update&&server_hash&&md5(JSON.stringify(synced_cart))!==server_hash&&INSTANCE.setSyncedCart(cart_update,server_hash)},INSTANCE.setSyncedCart=function(cart_update,cart_hash){support_localstorage&&cart_update&&cart_hash&&($("meta[name=cart-hash]").attr("content",cart_hash),synced_cart=cart_update,save("synced_cart"),VectorStock.setCartTally(VectorStock.userData.reloadSyncedCart()))},INSTANCE.isCartSynced=function(){return!support_localstorage||$("meta[name=cart-hash]").attr("content")===md5(JSON.stringify(synced_cart))},INSTANCE.hasCartUpdated=function(){return cart_updated},INSTANCE.markCartUpdated=function(){cart_updated=!0},INSTANCE.reloadSyncedCart=function(){if(support_localstorage&&localStorage.synced_cart!==undefined){if(synced_cart=JSON.parse(localStorage.synced_cart)||synced_cart,synced_cart=$.isArray(synced_cart)?synced_cart:[],VectorStock.search_results&&VectorStock.search_results.syncCartButtons(),VectorStock.cart_page&&(VectorStock.cart_page.header.empty(),VectorStock.cart_page.page.attr("data-payment",""),VectorStock.cart_page.table.empty(),VectorStock.cart_page.footer.empty(),VectorStock.cart_page.table.reloadCartPage(synced_cart.length)),VectorStock.gallery_table&&VectorStock.gallery_table.syncCartButtons(),VectorStock.history_table&&VectorStock.history_table.syncCartButtons(),VectorStock.following_images&&VectorStock.following_images.syncCartButtons(),VectorStock.topic_tabs)for(var tab_id in VectorStock.topic_tabs)VectorStock.topic_tabs[tab_id].syncCartButtons();return VectorStock.syncCartButton&&VectorStock.syncCartButton(),synced_cart.length}return 0},INSTANCE.hasPurchased=function(vector_id){return vector_id=parseInt(vector_id),!!(purchased&&purchased.indexOf&&-1<purchased.indexOf(vector_id))},INSTANCE.addPurchase=function(vector_ids){for(var i=(vector_ids=vector_ids instanceof Array==0?[vector_ids]:vector_ids).length;i--;){var vector_id=parseInt(vector_ids[i]);INSTANCE.hasPurchased(vector_id)||purchased.push(vector_id)}save("purchased");try{VectorStock.setTally("myarchive",purchased.length)}catch(e){}},INSTANCE.isInGallery=function(vector_id,gallery_id){vector_id=parseInt(vector_id);var gallery_index=getGalleryIndexByID(gallery_id=parseInt(gallery_id));return!!(galleries[gallery_index]&&0<=galleries[gallery_index].contents.indexOf(vector_id))},INSTANCE.createGallery=function(gallery_id,gallery_name){gallery_id=parseInt(gallery_id),galleries.unshift({id:gallery_id,name:gallery_name,contents:[]}),save("galleries")},INSTANCE.renameGallery=function(gallery_id,gallery_name){var gallery_index=getGalleryIndexByID(parseInt(gallery_id));galleries[gallery_index].name=gallery_name,save("galleries")},INSTANCE.addToGallery=function(vector_id,gallery_id){vector_id=parseInt(vector_id),gallery_id=parseInt(gallery_id);var gallery_index=getGalleryIndexByID(parseInt(gallery_id));galleries[gallery_index]?(galleries[gallery_index].contents.push(vector_id),save("galleries")):getProfile()},INSTANCE.removeFromGallery=function(vector_id,gallery_id){vector_id=parseInt(vector_id),gallery_id=parseInt(gallery_id);var vector_index,gallery_index=getGalleryIndexByID(parseInt(gallery_id));!galleries[gallery_index]||-1<(vector_index=galleries[gallery_index].contents.indexOf(vector_id))&&galleries[gallery_index].contents.splice(vector_index,1),save("galleries")},INSTANCE.emptyGallery=function(gallery_id){emptyGallery(parseInt(gallery_id)),save("galleries")},INSTANCE.deleteGallery=function(gallery_id){emptyGallery(gallery_id=parseInt(gallery_id));var gallery_index=getGalleryIndexByID(gallery_id);gallery_index&&galleries.splice(gallery_index,1),save("galleries")},INSTANCE.isFollowing=function(artist_id){return!!(following&&following.indexOf&&-1<following.indexOf(artist_id))},INSTANCE.followArtist=function(artist_id){-1===following.indexOf(artist_id)&&(following.push(artist_id),save("following"))},INSTANCE.unfollowArtist=function(artist_id){var index=following.indexOf(artist_id);-1<index&&(following.splice(index,1),save("following"))},INSTANCE.isNotFollowing=function(artist_id){return!!(notfollowing&&notfollowing.indexOf&&-1<notfollowing.indexOf(artist_id))},INSTANCE.notFollowArtist=function(artist_id){-1===notfollowing.indexOf(artist_id)&&(notfollowing.push(artist_id),save("notfollowing"))},INSTANCE.unNotFollowArtist=function(artist_id){var index=notfollowing.indexOf(artist_id);-1<index&&(notfollowing.splice(index,1),save("notfollowing"))},INSTANCE.isArtist=function(artist_id){return artist_id=parseInt(artist_id),user_id&&artist_id&&user_id===artist_id},function(){try{sessionStorage.setItem("vs_sessionstorage_test","vs_sessionstorage_test"),sessionStorage.removeItem("vs_sessionstorage_test"),support_sessionstorage=!0}catch(e){}try{localStorage.setItem("vs_localstorage_test","vs_localstorage_test"),localStorage.removeItem("vs_localstorage_test"),support_localstorage=!0}catch(e){}support_sessionstorage&&("undefined"==sessionStorage.sid&&sessionStorage.removeItem("sid"),sessionStorage.sid!==undefined&&sessionStorage.purchased!==undefined?(user_id=JSON.parse(sessionStorage.sid),purchased=JSON.parse(sessionStorage.purchased)||purchased,galleries=sessionStorage.galleries&&JSON.parse(sessionStorage.galleries)||galleries,following=sessionStorage.following&&JSON.parse(sessionStorage.following)||following,notfollowing=sessionStorage.notfollowing&&JSON.parse(sessionStorage.notfollowing)||notfollowing,(galleries=formatGalleryContents(galleries)).length===undefined&&(purge(),getProfile())):VectorStock.isLoggedIn()&&getProfile()),support_localstorage&&localStorage.synced_cart!==undefined&&(synced_cart=JSON.parse(localStorage.synced_cart)||synced_cart,synced_cart=$.isArray(synced_cart)?synced_cart:[])}(),INSTANCE},MenuMobile=function(){var INSTANCE=new VSModule,icon=$("#mobilenav-icon"),menu=$("#mobilenav-menu"),logout=$("li.logout a",menu),is_open=(VectorStock.isMobile(),!1),int_closing=!1;function open(){is_open||(clearInterval(int_closing),menu.removeClass("close"),icon.addClass("open"),menu.addClass("open"),updateHeight(),$(window).on("resize",updateHeight),$(document).on("click",clickOutside),is_open=!0)}function close(){is_open&&(icon.removeClass("open"),menu.addClass("close"),int_closing=setTimeout(function(){menu.removeClass("open close"),menu.css({height:""})},750),$(document).off("click",clickOutside),is_open=!1)}function clickOutside(event){$(event.target).closest(menu).length||close()}function updateHeight(){var offset=$("body > header nav.top").outerHeight(),page=$(document).height();menu.css({height:page-offset})}return INSTANCE.open=open,INSTANCE.close=close,$('li[data-action="login"] a').on("click",function(){if(window.SignupBox){new SignupBox({screen:"login"});return!1}}),icon.on("click",function(event){(is_open?close:open)(),event.stopPropagation(),event.preventDefault()}),logout.on("click",function(){return VectorStock.userData.destroy(),$("form.logout",menu).submit(),!1}),INSTANCE};!function($){$.fn.popout=function(customSettings){$.fn.popout.defaultSettings={className:"popout",align:"left"};var settings=$.extend({},$.fn.popout.defaultSettings,customSettings);return this.each(function(){var isOpen,instance,button,panel;function open(){isOpen||($("."+settings.className).each(function(){$(this)[0]!==instance[0]&&$(this).trigger("close")}),$(document).on("mousedown",mouseDown),instance.addClass("open"),$(".po_content",panel).hide().slideDown(100,"easeOutExpo"),isOpen=!0)}function mouseDown(event){0===$(event.target).parents("."+settings.className).length&&instance.trigger("close")}function close(){isOpen&&($(document).off("mousedown",mouseDown),instance.removeClass("open"),isOpen=!1)}instance=$(this),isOpen=instance.hasClass("open"),button=$("a:first",instance).wrapInner('<span class="po_icon"></span>'),$("div:first",instance).wrap('<div class="po_panel"><div class="po_content"></div></div>'),panel=$(".po_panel",instance),instance.hasClass(settings.className)||instance.addClass(settings.className),"right"==settings.align?instance.addClass("alignr"):"center"==settings.align&&instance.addClass("alignc"),button.on("click",function(){return isOpen?instance.trigger("close"):instance.trigger("open"),!1}),instance.on("open",open),instance.on("close",close),isOpen&&$(document).on("mousedown",mouseDown),instance.addClass("ready")}),this}}(jQuery);var PreviewLink=function(element,vector_id,vector_title,is_pending){var src_thumb,src_preview,timeout_hover,pane,stem,area,grid,img,INSTANCE=VSModule(),SIZE_WIDE=237,SIZE_HIGH=250,TIME_HOVER=2e3,axis="horizontal",is_enabled=!0,is_text_only=!1,has_hovered=!1,src_cache={};function showPreviewPane(event){var errors,offset_x,win_space_left,mouse_y,perc_y;is_enabled&&($("#previewpane").remove(),element.attr("title",""),$("img",element).attr("title",""),element.parent().addClass("hover"),pane=$('<div id="previewpane"><span class="pp_title">'+vector_title+"</span></div>"),area=$("<div></div>").addClass("pp_imagearea"),stem=$("<div></div>"),pane.prepend(area).prepend(stem),img=new Image,src_cache[vector_id]||is_text_only?$(img).attr("src",src_preview).addClass("pp_preview").appendTo(area):(errors=0,win_space_left=function(event){$(event.target).remove().attr("src")==src_preview&&grid.fadeOut(200,"easeOutSine"),1<++errors&&$('<div class="pp_error"><p>Preview image could not be loaded...</p></div>').appendTo(area).hide().fadeIn(500)},grid=$('<div class="pp_grid"></div>').css("width",SIZE_WIDE),area.append(grid).append($('<img src="'+src_thumb+'" width="'+SIZE_WIDE+'" height="'+SIZE_HIGH+'" />').error(win_space_left)).css("width",SIZE_WIDE),$(img).load(function(){var scope=$(this).addClass("pp_preview").appendTo(area).addClass("hide");setTimeout(function(){scope.addClass("show")},10),src_cache[vector_id]=!0}).error(win_space_left).attr("src",src_preview)),pane.appendTo("body").hide().fadeIn(200,"easeOutSine"),perc_y=SIZE_WIDE+parseFloat(area.css("marginLeft"))+parseFloat(area.css("marginRight")),offset_x=pane.outerHeight(),pane.css("width",perc_y),"vertical"===axis?(event.pageY<$(window).height()/2?(buffer_top=60,stem.addClass("pp_stemtop")):(buffer_top=0-(offset_x+60),stem.addClass("pp_stembottom")),win_space_left=event.pageX-$(event.target).offset().left,mouse_y=$(event.target).width()-win_space_left,offset_x=Math.ceil(perc_y/2),buffer_left=0-offset_x,(win_space_left=event.pageX-(offset_x+win_space_left+5))<0&&(buffer_left=Math.abs(win_space_left)-offset_x),(mouse_y=$(window).width()-(event.pageX+offset_x+mouse_y+5))<0&&(buffer_left=0-offset_x-Math.abs(mouse_y)),mouse_y=Math.abs(buffer_left)-12,stem.css({left:mouse_y=SIZE_WIDE<mouse_y?SIZE_WIDE:mouse_y})):(event.pageX<$(window).width()/2?(buffer_left=60,stem.addClass("pp_stemleft")):(buffer_left=0-(perc_y+60),stem.addClass("pp_stemright")),perc_y=(mouse_y=event.pageY-$(window).scrollTop())/$(window).height(),mouse_y<130?perc_y=0:mouse_y>$(window).height()-130&&(perc_y=1),buffer_top=0-Math.floor(perc_y*(pane.height()-55))-20,stem.css({top:Math.abs(buffer_top)-7})),element.on("mousemove",followMouseCursor),followMouseCursor(event),has_hovered||(timeout_hover=setTimeout(function(){has_hovered=!0,INSTANCE.dispatchEvent("hover"),timeout_hover=null},TIME_HOVER)))}function hidePreviewPane(event){element.attr("title",vector_title),$("img",element).attr("title",vector_title),element.parent().removeClass("hover"),pane&&pane.remove(),element.off("mousemove",followMouseCursor),timeout_hover&&clearTimeout(timeout_hover)}function followMouseCursor(event){pane.css("left",event.pageX+buffer_left).css("top",event.pageY+buffer_top)}return INSTANCE.disable=function(){is_enabled=!1},INSTANCE.enable=function(){is_enabled=!0},vector_title=vector_title||"",is_text_only=!$("img",element).length,src_thumb=VectorStock.imagePath(vector_id,vector_title,"small",is_pending),src_preview=VectorStock.imagePath(vector_id,vector_title,"medium",is_pending),element.on("mouseenter",showPreviewPane).on("mouseleave click",hidePreviewPane),INSTANCE};$(function(){var QUESTIONNAIRE_ANSWERS={A:"A. Adobe Illustrator",B:"B. CorelDRAW",C:"C. Something else"},questionnaire=$("#vs_questionnaire");if(questionnaire.length){try{if(localStorage.vs_questionnaire_hide!==undefined)return void questionnaire.remove()}catch(e){}var has_answered=!1,but_close=$('button[data-action="close"]',questionnaire),radio_options=new VectorStock.FieldRadioboxes($('.body ul[role="radiogroup"] li',questionnaire)),but_submit=$('button[data-action="submit"]',questionnaire);but_close.on("click",function(){EventTracker.store("vs_questionnaire_hide",1),questionnaire.addClass("closed"),has_answered||VectorStock.track("send","event","Questionnaire Response","Not answered")}),radio_options.on("change",function(value){but_submit.prop("disabled",!1)}),but_submit.on("click",function(){has_answered=!0;var data_packet={answer:radio_options.value};$.post("/api/poll/answer",data_packet,function(){VectorStock.track("send","event","Questionnaire Response",QUESTIONNAIRE_ANSWERS[data_packet.answer]);try{localStorage.vs_questionnaire_hide=1}catch(e){}}),questionnaire.addClass("submitted")}),setTimeout(function(){questionnaire.addClass("revealed")},2e3)}});var EventTrackerLogger=function(tracking_id,tracking_url,settings){var timeout_process,INSTANCE=new VSModule,TIME_DELAY_PROCESSING=1e4,MAX_EVENTS_SEND=800,memory_events=[];function getLocalStorageEvents(){try{return JSON.parse(localStorage[tracking_id])}catch(e){return[]}}function getCookieEvents(){var cookie_value=EventTrackerLogger.getCookie(tracking_id);if(cookie_value!==undefined)try{return JSON.parse(cookie_value)}catch(e){return[]}return[]}function storeEvent(event){var stored_events_str;settings.localstorage||settings.cookies?((stored_events_str=settings.localstorage?getLocalStorageEvents():settings.cookies?getCookieEvents():memory_events).push(event),stored_events_str=JSON.stringify(stored_events_str),settings.localstorage?localStorage[tracking_id]=stored_events_str:settings.cookies&&(document.cookie=tracking_id+"="+stored_events_str+"; path=/")):memory_events.push(event),timeout_process=timeout_process||setTimeout(processStoredEvents,TIME_DELAY_PROCESSING)}function sendToServer(events){return $.ajax({url:tracking_url,method:"POST",data:{events:events,timestamp:Math.round((new Date).getTime()/1e3)}})}function processStoredEvents(){var stored_events,extra_events,on_success=settings.localstorage?(stored_events=getLocalStorageEvents()).length>MAX_EVENTS_SEND?(extra_events=stored_events.splice(MAX_EVENTS_SEND),function(){localStorage[tracking_id]=JSON.stringify(extra_events),timeout_process=timeout_process||setTimeout(processStoredEvents,TIME_DELAY_PROCESSING)}):function(){localStorage.removeItem(tracking_id)}:settings.cookies?(stored_events=getCookieEvents()).length>MAX_EVENTS_SEND?(extra_events=stored_events.splice(MAX_EVENTS_SEND),function(){document.cookie=tracking_id+"="+JSON.stringify(extra_events)+"; path=/",timeout_process=timeout_process||setTimeout(processStoredEvents,TIME_DELAY_PROCESSING)}):function(){document.cookie=tracking_id+"=[]; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/"}:(stored_events=memory_events).length>MAX_EVENTS_SEND?(extra_events=stored_events.splice(MAX_EVENTS_SEND),function(){memory_events=extra_events,timeout_process=timeout_process||setTimeout(processStoredEvents,TIME_DELAY_PROCESSING)}):function(){memory_events=[]};stored_events&&stored_events.length&&sendToServer(stored_events).success(on_success),timeout_process=timeout_process&&null}return INSTANCE.track=function(event_data,process_later){process_later?storeEvent(event_data):sendToServer([event_data])},processStoredEvents(),INSTANCE};EventTrackerLogger.ID_SEARCH="vs_events",EventTrackerLogger.ID_LOG="vs_log",EventTrackerLogger.getCookie=function(cookie_id){for(var cookies=document.cookie.split(";"),i=0;i<cookies.length;i++){var cookie_value=cookies[i].split("="),cookie_key=cookie_value.shift(),cookie_value=cookie_value.join("=");if(cookie_key===cookie_id)return cookie_value}};var EventTracker=function(){var track_search,track_log,INSTANCE=new VSModule,tracking_enabled=!0,support_localstorage=!1,support_sessionstorage=!1,support_cookies=!1;return INSTANCE.track=function(id_tracker,event_data,process_later){if(tracking_enabled&&("string"!=typeof id_tracker&&(process_later=event_data,event_data=id_tracker,id_tracker=EventTrackerLogger.ID_SEARCH),event_data))if(id_tracker===EventTrackerLogger.ID_SEARCH){if(event_data.action){event_data.timestamp||(event_data.timestamp=Math.round((new Date).getTime()/1e3));for(var event_arr=[event_data.action,event_data.image||"",event_data.search||"",event_data.timestamp,event_data.search_scope||null,event_data.search_artist||null,event_data.search_category||null];null==event_arr[event_arr.length-1];)event_arr.pop();track_search.track(event_arr,process_later)}}else id_tracker===EventTrackerLogger.ID_LOG&&track_log.track(event_data,process_later)},INSTANCE.store=function(event_id,event_value,event_is_session){tracking_enabled&&(support_localstorage&&support_sessionstorage?event_is_session?sessionStorage[event_id]=event_value:localStorage[event_id]=event_value:document.cookie=event_id+"="+event_value+"; path=/")},INSTANCE.retrieve=function(event_id,event_is_session){if(tracking_enabled){if(support_localstorage&&support_sessionstorage){if(event_is_session&&sessionStorage[event_id]!==undefined){var event_value=sessionStorage[event_id];return sessionStorage.removeItem(event_id),event_value}if(localStorage[event_id]!==undefined){event_value=localStorage[event_id];return localStorage.removeItem(event_id),event_value}}if(support_cookies)if((event_value=EventTrackerLogger.getCookie(event_id))!==undefined)return document.cookie=event_id+"=0; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/",event_value}},function(){try{localStorage.setItem("vs_localstorage_test","vs_localstorage_test"),localStorage.removeItem("vs_localstorage_test"),support_localstorage=!0;sessionStorage.setItem("vs_sessionstorage_test","vs_sessionstorage_test"),sessionStorage.removeItem("vs_sessionstorage_test"),support_sessionstorage=!0}catch(e){}if(!(support_cookies=navigator.cookieEnabled))try{document.cookie="vs_cookies_test=1",support_cookies=-1!==document.cookie.indexOf("vs_cookies_test="),document.cookie="vs_cookies_test=1; expires=Thu, 01-Jan-1970 00:00:01 GMT"}catch(e){}var settings;1==$('head meta[name="dev-env"]').attr("content")&&(tracking_enabled=!1),(tracking_enabled=!0)&&(settings={localstorage:support_localstorage,sessionstorage:support_sessionstorage,cookies:support_cookies},track_search=new EventTrackerLogger(EventTrackerLogger.ID_SEARCH,"/api/tracking",settings),track_log=new EventTrackerLogger(EventTrackerLogger.ID_LOG,"/api/log/events",settings))}(),INSTANCE}();VectorStock.FieldInput=function(input,format){var mod_fset,err_message,regex_alphanumeric,INSTANCE=new VSModule;function onFocus(){INSTANCE.dispatchEvent("focus")}function onBlur(){INSTANCE.dispatchEvent("blur")}function onUpdate(event){13==event.keyCode&&INSTANCE.dispatchEvent("return",INSTANCE.value),setTimeout(function(){var value=input.val();value!==INSTANCE.value&&(mod_fset.toggleClass("filled",""!==value),INSTANCE.value=value,INSTANCE.dispatchEvent("change",INSTANCE.value))},10)}function onChange(){var value=input.val();INSTANCE.value!==value&&(mod_fset.toggleClass("filled",""!==value),INSTANCE.value=input.val(),INSTANCE.dispatchEvent("change",INSTANCE.value))}function onAnimationStart(event){event&&event.originalEvent&&event.originalEvent.animationName&&"onAutoFillStart"==event.originalEvent.animationName&&onChange()}return INSTANCE.input=input,INSTANCE.name=input.attr("name"),INSTANCE.value=input.val(),INSTANCE.minlength=input.attr("minlength")?parseInt(input.attr("minlength")):null,INSTANCE.maxlength=input.attr("maxlength")?parseInt(input.attr("maxlength")):null,INSTANCE.disabled=input.prop("disabled"),INSTANCE.disable=function(){return mod_fset.addClass("disabled"),input.prop("disabled",!0),INSTANCE.disabled=!0,INSTANCE},INSTANCE.enable=function(){return mod_fset.removeClass("disabled"),input.prop("disabled",!1),INSTANCE.disabled=!1,INSTANCE},INSTANCE.focus=function(){return input.focus(),INSTANCE},INSTANCE.select=function(){return input.select(),INSTANCE},INSTANCE.blur=function(){return input.blur(),INSTANCE},INSTANCE.showError=function(message){function showError(){err_message.addClass("show"),icon.off("touchstart",showError),$("body").on("touchstart",hideError)}function hideError(){err_message.removeClass("show"),icon.on("touchstart",showError),$("body").off("touchstart",hideError)}var icon,wrap;return err_message?$(".explanation p",err_message).html(message):(mod_fset.addClass("error"),err_message=$('<div class="message" />').appendTo(mod_fset),icon=$('<div class="icon" />').appendTo(err_message),wrap=$('<div class="explanation" />').appendTo(err_message),$("<p />").html(message).appendTo(wrap),icon.on("touchstart",showError)),INSTANCE},INSTANCE.clearError=function(){if(err_message)return mod_fset.removeClass("error"),err_message.remove(),err_message=null,INSTANCE},INSTANCE.hasError=function(){return!!err_message},INSTANCE.setValue=function(value,suppress_event){return(value=value||"")==INSTANCE.value||(mod_fset.toggleClass("filled",""!==value),input.val(value),INSTANCE.value=value,suppress_event||INSTANCE.dispatchEvent("change",INSTANCE.value)),INSTANCE},mod_fset=input.closest("fieldset"),input.on("focus",onFocus),input.on("blur",onBlur),input.on("keydown cut paste",onUpdate),input.on("change input",onChange),input.on("animationstart",onAnimationStart),format&&(format==VectorStock.FieldInput.FORMAT_ALPHANUMERIC?(regex_alphanumeric=/[^a-zA-Z\d\- ]/g,input.on("keypress",function(event){if(event.metaKey||event.ctrlKey)return!0;if(0==event.which)return!0;if(event.which<33)return!0;var character=String.fromCharCode(event.which);return!regex_alphanumeric.test(character)}),input.on("paste change input",function(event){setTimeout(function(){var value_original=input.val(),value_stripped=value_original;(value_stripped=(value_stripped=(value_stripped=value_stripped.replace(regex_alphanumeric,"")).replace(/\-+/g,"-")).replace(/\s+/g," "))!==value_original&&input.val(value_stripped)})})):format==VectorStock.FieldInput.FORMAT_CARD_NUMBER?input.payment("formatCardNumber"):format==VectorStock.FieldInput.FORMAT_CARD_EXPIRY?input.payment("formatCardExpiry"):format==VectorStock.FieldInput.FORMAT_CARD_CVC&&input.payment("formatCardCVC")),INSTANCE},VectorStock.FieldInput.FORMAT_ALPHANUMERIC="alphanumeric",VectorStock.FieldInput.FORMAT_CARD_NUMBER="card_number",VectorStock.FieldInput.FORMAT_CARD_EXPIRY="card_expiry",VectorStock.FieldInput.FORMAT_CARD_CVC="card_cvc",VectorStock.FieldCheckbox=function(input){var container,label,err_message,INSTANCE=new VSModule;function onChange(prevent_bubbling){INSTANCE.checked=input.is(":checked"),label.toggleClass("checked",INSTANCE.checked),prevent_bubbling||INSTANCE.dispatchEvent("change",INSTANCE.checked)}return INSTANCE.input=input,INSTANCE.name=input.attr("name"),INSTANCE.checked=input.is(":checked"),INSTANCE.disabled=input.prop("disabled"),INSTANCE.value=input.val(),INSTANCE.toggle=function(checked,prevent_bubbling){checked=checked==undefined?!INSTANCE.checked:checked,input.prop("checked",checked),onChange(prevent_bubbling)},INSTANCE.disable=function(){label.addClass("disabled"),input.prop("disabled",!0),INSTANCE.disabled=!0},INSTANCE.enable=function(){label.removeClass("disabled"),input.prop("disabled",!1),INSTANCE.disabled=!1},INSTANCE.toggleDisabled=function(is_disabled){is_disabled!==INSTANCE.disabled&&(is_disabled?INSTANCE.disable():INSTANCE.enable())},INSTANCE.showError=function(message){var wrap,clearError;err_message||(container.addClass("error"),err_message=$('<div class="message" />').appendTo(container),wrap=$('<div class="explanation" />').appendTo(err_message),$("<p />").html(message).appendTo(wrap),clearError=function(){container.removeClass("error"),err_message.remove(),err_message=null,INSTANCE.off("change",clearError)},INSTANCE.on("change",clearError))},INSTANCE.hasError=function(){return!!err_message},label=input.closest("label"),container=label.parent(),input.on("change",function(){onChange()}),INSTANCE},VectorStock.FieldRadioboxes=function(items){var container,INSTANCE=new VSModule;function selectItem(item,suppress_bubbling){var input=$('input[type="radio"]',item);input.is(":checked")||input.prop("checked",!0),INSTANCE.value=input.val(),INSTANCE.selected=input,items.removeClass("checked"),item.addClass("checked"),suppress_bubbling||INSTANCE.dispatchEvent("change",INSTANCE.value)}return INSTANCE.value=null,INSTANCE.disabled=$('input[type="radio"]',items).prop("disabled"),INSTANCE.selected=null,INSTANCE.disable=function(){container.addClass("disabled"),$('input[type="radio"]',items).prop("disabled",!0),INSTANCE.disabled=!0},INSTANCE.enable=function(){container.removeClass("disabled"),$('input[type="radio"]',items).prop("disabled",!1),INSTANCE.disabled=!1},INSTANCE.set=function(value,suppress_bubbling){selectItem($('input[value="'+value+'"]',items).closest("label").parent(),suppress_bubbling)},INSTANCE.removeItem=function(value){var item=$('input[value="'+value+'"]',items).closest("li"),is_checked=item.hasClass("checked");item.length&&(item.remove(),items=$(items.selector),is_checked&&selectItem(items.first()))},INSTANCE.getItems=function(){return $.makeArray(items)},container=items.parent(),items.each(function(){var item=$(this),input=$('input[type="radio"]',item);input.is(":checked")?(INSTANCE.value=input.val(),INSTANCE.selected=input,item.addClass("checked")):item.removeClass("checked"),item.on("mouseup",function(){$(this).hasClass("checked")&&INSTANCE.dispatchEvent("click")}),input.on("change",function(){selectItem(item)})}),INSTANCE},VectorStock.FieldButton=function(button){var label,icon_area,load_icon,label_default,INSTANCE=new VSModule;function onClick(event){INSTANCE.dispatchEvent("click",event)}return INSTANCE.disabled=button.prop("disabled"),INSTANCE.disable=function(){button.prop("disabled",!0),INSTANCE.disabled=!0},INSTANCE.enable=function(){button.prop("disabled",!1),INSTANCE.disabled=!1},INSTANCE.setLoading=function(message,is_light){var shade=is_light?"light":"";button.addClass("loading").prop("disabled",!0),label.html(message),load_icon=icon_area.loadingIcon("medium",shade),INSTANCE.disabled=!0},INSTANCE.setLabel=function(value){label.html(value)},INSTANCE.revert=function(){button.removeClass("loading").prop("disabled",!1),label.html(label_default),load_icon&&load_icon.remove(),INSTANCE.disabled=!1},label=$(".label",button),icon_area=$(".icon span",button),label_default=label.html(),button.on("click",onClick),INSTANCE};var ProcessLogin=function(input_username,input_password){var INSTANCE=new VSModule,RESPONSE_UNKNOWN="Hmm. Unknown error sorry! Please contact our support staff who will help you further.",ERROR_FAILED="FAILED",ERROR_LOCKED="LOCKED",ERROR_BLOCKED="BLOCKED",ERROR_NOTFOUND="NOT_FOUND",ERROR_DISABLED="DISABLED",ERROR_FACEBOOK="FACEBOOK",ERROR_GOOGLE="GOOGLE",csrf_name=$('meta[name="csrf-name"]'),csrf_value=$('meta[name="csrf-value"]'),username=input_username.value,password=input_password.value;function sendLoginRequest(){var params={login_user:username,login_password:password};csrf_name.length&&csrf_value.length&&(params.csrf_name=csrf_name.attr("content"),params.csrf_value=csrf_value.attr("content")),$.ajax({type:"POST",url:"/api/json/login",data:params}).done(onDone).fail(onFail)}function refreshCSRFValues(name,value){csrf_name.attr("content",name),csrf_value.attr("content",value)}function onDone(response,text_status,xhr){if(response.success)response.profile&&VectorStock.userData.setProfile(response.profile),INSTANCE.dispatchEvent("success",[response]);else{switch(response.csrf_token&&refreshCSRFValues(response.csrf_token.csrf_name,response.csrf_token.csrf_value),response.error){case ERROR_FAILED:case ERROR_NOTFOUND:INSTANCE.dispatchEvent("error_username",[response.message]),INSTANCE.dispatchEvent("error_password",[response.message]);break;case ERROR_LOCKED:case ERROR_BLOCKED:case ERROR_DISABLED:case ERROR_FACEBOOK:case ERROR_GOOGLE:INSTANCE.dispatchEvent("error_username",[response.message])}var log;response.message||(log={username:username,status:text_status,code:xhr.status,response:JSON.stringify(response),headers:xhr.getAllResponseHeaders()},VectorStock.track("send","event","Error (JS)","CustomError: Login issue - Missing server message",JSON.stringify(log))),INSTANCE.dispatchEvent("revert")}}function onFail(xhr,text_status,xhr_error){if(400===xhr.status||429===xhr.status){try{var log=JSON.parse(xhr.responseText);if(log.csrf_token&&(refreshCSRFValues(log.csrf_token.csrf_name,log.csrf_token.csrf_value),!has_retried))return has_retried=!0,void sendLoginRequest();INSTANCE.dispatchEvent("revert"),INSTANCE.dispatchEvent("error_username",[log.message||RESPONSE_UNKNOWN])}catch(error){INSTANCE.dispatchEvent("error_username",[RESPONSE_UNKNOWN])}log={username:username,status:text_status,code:xhr.status,response:xhr.responseText,error:JSON.stringify(xhr_error),headers:xhr.getAllResponseHeaders()};VectorStock.track("send","event","Error (JS)","CustomError: Login issue - Blocked by server",JSON.stringify(log))}else 403==xhr.status?(INSTANCE.dispatchEvent("error_username",[RESPONSE_UNKNOWN]),log={username:username,status:text_status,code:xhr.status,error:JSON.stringify(xhr_error),headers:xhr.getAllResponseHeaders()},VectorStock.track("send","event","Error (JS)","CustomError: Login issue - Blocked by firewall",JSON.stringify(log))):(INSTANCE.dispatchEvent("error_username",[RESPONSE_UNKNOWN]),log={username:username,status:text_status,code:xhr.status,error:JSON.stringify(xhr_error),headers:xhr.getAllResponseHeaders()},VectorStock.track("send","event","Error (JS)","CustomError: Login issue - Failed for unknown reason",JSON.stringify(log)));INSTANCE.dispatchEvent("error",[xhr,text_status,xhr_error])}return has_retried=!1,sendLoginRequest(),INSTANCE},ScreenSelect=function(container,is_contributor){var but_email,but_google,but_facebook,but_close,link_login,INSTANCE=new VSModule;function switchToSignup(event){INSTANCE.hide(),INSTANCE.dispatchEvent("screen_signup"),event.preventDefault()}function switchToLogin(event){INSTANCE.hide(),INSTANCE.dispatchEvent("screen_login"),event.preventDefault()}function signupWithGoogle(){but_google.setLoading("Connecting",!0),but_close.hide(),INSTANCE.dispatchEvent("processing"),$.get("/api/google/auth",function(response){INSTANCE.dispatchEvent("response"),1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url)):(but_google.revert(),but_close.show())})}function signupWithFacebook(){but_facebook.setLoading("Connecting",!0),but_close.hide(),INSTANCE.dispatchEvent("processing"),$.get("/api/facebook/auth",function(response){INSTANCE.dispatchEvent("response"),1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url)):(but_facebook.revert(),but_close.show())})}function close(){INSTANCE.dispatchEvent("close")}return INSTANCE.show=function(is_instant){container.show(),is_instant?container.addClass("reveal"):setTimeout(function(){container.addClass("reveal")},100)},INSTANCE.hide=function(){container.hide().removeClass("reveal")},but_email=new VectorStock.FieldButton($('button[data-method="email"]',container)),but_google=new VectorStock.FieldButton($('button[data-method="google"]',container)),but_facebook=new VectorStock.FieldButton($('button[data-method="facebook"]',container)),but_close=$("> button",container),link_login=$(".footer p a",container),but_email.on("click",switchToSignup),but_google.on("click",signupWithGoogle),but_facebook.on("click",signupWithFacebook),but_close.on("click",close),link_login.on("click",switchToLogin),INSTANCE},ScreenSignup=function(container,is_contributor){var input_firstname,input_surname,input_email,input_password,radioboxes_account,area_company,input_company,input_billing,checkbox_terms,checkbox_mailinglist,fields_validate,but_submit,but_close,link_login,field_recaptcha,INSTANCE=new VSModule,REGEX_EMAIL=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,RESPONSE_FIRSTNAME_MISSING="First name is required",RESPONSE_FIRSTNAME_MINCHARS="First name needs at least 2 characters",RESPONSE_FIRSTNAME_INVALID="First name contains invalid characters",RESPONSE_SURNAME_MISSING="Surname is required",RESPONSE_SURNAME_MINCHARS="Surname needs at least 2 characters",RESPONSE_SURNAME_INVALID="Surname contains invalid characters",RESPONSE_EMAIL_INVALID="Enter a valid email",RESPONSE_EMAIL_REGISTERED="Address has already been registered",RESPONSE_PASSWORD_LENGTH="Use between 8 and 72 characters",RESPONSE_PASSWORD_CONSECUTIVE="No more than 4 consecutive characters allowed";RESPONSE_PASSWORD_COMPROMISED="Password must not be a commonly used password",RESPONSE_TERMS_NOT_AGREED="You must agree to our Terms to Signup",RESPONSE_UNKNOWN="Hmm. Unknown error sorry! Please contact our support staff who will help you create an account.";var email_validation_delay,email_responses={},monitor_firstname=!1,monitor_surname=!1,monitor_email=!1,monitor_password=!1,recaptcha_id=null,recaptcha_value=null;function changeAccountType(type){var is_expanded=type==ScreenSignup.ACCOUNT_TYPE_COMPANY;area_company.toggle(is_expanded),setTimeout(function(){INSTANCE.dispatchEvent("expand",is_expanded)})}function validateFirstname(value){return""==(value=$.trim(value))?(input_firstname.showError(RESPONSE_FIRSTNAME_MISSING),!1):value.length<input_firstname.minlength?(input_firstname.showError(RESPONSE_FIRSTNAME_MINCHARS),!1):(input_firstname.clearError(),!0)}function validateSurname(value){return""==(value=$.trim(value))?(input_surname.showError(RESPONSE_SURNAME_MISSING),!1):value.length<input_surname.minlength?(input_surname.showError(RESPONSE_SURNAME_MINCHARS),!1):(input_surname.clearError(),!0)}function emailServerValidation(value){var address_id;emailFormatValidation(value)&&(address_id=$.trim(value.toLowerCase()),email_responses[address_id]||(clearTimeout(email_validation_delay),setTimeout(function(){$.post("/api/signup/email/check",{email:address_id},function(response){var address_id_current=$.trim(input_email.value.toLowerCase());address_id==address_id_current&&(response.success?input_email.clearError():showEmailError(response.error)),email_responses[address_id]=response})},1e3)))}function emailFormatValidation(value){var address_id=$.trim(value.toLowerCase());return address_id.match(REGEX_EMAIL)?!email_responses[address_id]||(email_responses[address_id].success?(input_email.clearError(),!0):(showEmailError(email_responses[address_id].error),!1)):(input_email.showError(RESPONSE_EMAIL_INVALID),!1)}function showEmailError(error){switch(error){case ScreenSignup.ERROR_EMAIL_INVALID:input_email.showError(RESPONSE_EMAIL_INVALID);break;case ScreenSignup.ERROR_EMAIL_REGISTERED:input_email.showError(RESPONSE_EMAIL_REGISTERED);break;default:alert(RESPONSE_UNKNOWN)}}function validatePassword(value){return value.length<input_password.minlength||value.length>input_password.maxlength?(input_password.showError(RESPONSE_PASSWORD_LENGTH),!1):(input_password.clearError(),!0)}function validateFields(event){if(event.preventDefault(),clearTimeout(email_validation_delay),validateFirstname(input_firstname.value)||monitor_firstname||(input_firstname.on("change",validateFirstname),monitor_firstname=!0),validateSurname(input_surname.value)||monitor_surname||(input_surname.on("change",validateSurname),monitor_surname=!0),emailFormatValidation(input_email.value)||monitor_email||(input_email.on("change",function(){emailServerValidation(input_email.value)}),monitor_email=!0),validatePassword(input_password.value)||monitor_password||(input_password.on("change",validatePassword),monitor_password=!0),checkbox_terms.checked||checkbox_terms.showError(RESPONSE_TERMS_NOT_AGREED),0===(recaptcha_value=window.grecaptcha?grecaptcha.getResponse():"").length)return field_recaptcha.addClass("shake-slow shake-constant error"),setTimeout(function(){field_recaptcha.removeClass("shake-slow shake-constant")},800),VectorStock.track("send","event","Error (User)","Signup","Client: "+user_id+" - reCaptcha Failed"),!1;field_recaptcha.removeClass("error");for(var i=0,len=fields_validate.length;i<len;){if(fields_validate[i].hasError()){var field=fields_validate[i].name.toTitleCase(),user_id=input_email.value||"Unknown";return VectorStock.track("send","event","Error (User)","Signup","Client: "+user_id+" - Field: "+field),!1}i++}!function(){input_firstname.disable(),input_surname.disable(),input_email.disable(),input_password.disable(),checkbox_terms.disable(),checkbox_mailinglist.disable(),but_submit.setLoading("Processing"),but_close.hide(),INSTANCE.dispatchEvent("processing");var params={firstname:input_firstname.value,surname:input_surname.value,email:input_email.value,password:input_password.value,mailinglist:checkbox_mailinglist.checked,contributor:is_contributor?1:0};null!==recaptcha_value&&(params.captcha=recaptcha_value);var csrf_name=$('meta[name="csrf-name"]'),csrf_value=$('meta[name="csrf-value"]');csrf_name.length&&csrf_value.length&&(params.csrf_name=csrf_name.attr("content"),params.csrf_value=csrf_value.attr("content"));radioboxes_account.value==ScreenSignup.ACCOUNT_TYPE_COMPANY&&(params.company=input_company.value,params.address=input_billing.value);var onDone=function(response,textStatus,xhr){if(response.success)INSTANCE.dispatchEvent("signup",[response,params]);else{response.csrf_token&&(csrf_name.attr("content",response.csrf_token.csrf_name),csrf_value.attr("content",response.csrf_token.csrf_value)),input_firstname.enable(),input_surname.enable(),input_email.enable(),input_password.enable(),checkbox_terms.enable(),checkbox_mailinglist.enable(),but_submit.revert(),but_close.show();var error_label=response.error?response.error.toTitleCase().split("_").join(" "):JSON.stringify(response);switch(INSTANCE.dispatchEvent("response"),response.error){case ScreenSignup.ERROR_FIRSTNAME_MISSING:monitor_firstname||(input_firstname.on("change",validateFirstname),monitor_firstname=!0),params.firstname.length>input_firstname.minlength?input_firstname.showError(RESPONSE_FIRSTNAME_INVALID):input_firstname.showError(RESPONSE_FIRSTNAME_MISSING),error_label+=" ("+params.firstname+")";break;case ScreenSignup.ERROR_SURNAME_MISSING:monitor_surname||(input_surname.on("change",validateSurname),monitor_surname=!0),params.surname.length>input_surname.minlength?input_surname.showError(RESPONSE_SURNAME_INVALID):input_surname.showError(RESPONSE_SURNAME_MISSING),error_label+=" ("+params.surname+")";break;case ScreenSignup.ERROR_EMAIL_INVALID:monitor_email||(input_email.on("change",function(){emailServerValidation(input_email.value)}),monitor_email=!0),input_email.showError(RESPONSE_EMAIL_INVALID),error_label+=" ("+params.email+")";break;case ScreenSignup.ERROR_EMAIL_REGISTERED:monitor_email||(input_email.on("change",function(){emailServerValidation(input_email.value)}),monitor_email=!0),input_email.showError(RESPONSE_EMAIL_REGISTERED);break;case ScreenSignup.ERROR_PASSWORD_LENGTH:monitor_password||(input_password.on("change",validatePassword),monitor_password=!0),input_password.showError(RESPONSE_PASSWORD_LENGTH);break;case ScreenSignup.ERROR_PASSWORD_CONSECUTIVE:monitor_password||(input_password.on("change",validatePassword),monitor_password=!0),input_password.showError(RESPONSE_PASSWORD_CONSECUTIVE);break;case ScreenSignup.ERROR_PASSWORD_COMPROMISED:monitor_password||(input_password.on("change",validatePassword),monitor_password=!0),input_password.showError(RESPONSE_PASSWORD_COMPROMISED);break;case ScreenSignup.ERROR_RECAPTCHA_FAILED:field_recaptcha.addClass("shake-slow shake-constant error"),setTimeout(function(){field_recaptcha.removeClass("shake-slow shake-constant error"),null!==recaptcha_id&&grecaptcha.reset(recaptcha_id)},800);break;default:alert(RESPONSE_UNKNOWN)}VectorStock.track("send","event","Error (User)","Signup","Server: "+error_label)}},onFail=function(xhr,textStatus,errorThrown){var response;if(400==xhr.status||429==xhr.status){try{if((response=JSON.parse(xhr.responseText)).csrf_token&&(csrf_name.attr("content",response.csrf_token.csrf_name),csrf_value.attr("content",response.csrf_token.csrf_value),!retried))return retried=!0,params.csrf_name=response.csrf_token.csrf_name,params.csrf_value=response.csrf_token.csrf_value,void $.ajax({type:"POST",url:"/api/signup",data:params}).done(onDone).fail(onFail)}catch(e){}var log={user_id:input_email.value||"(Not set)",status:textStatus,code:xhr.status,response:xhr.responseText,error:errorThrown,headers:xhr.getAllResponseHeaders()};VectorStock.track("send","event","Error (JS)","CustomError: Signup issue (popup) - Blocked by server",JSON.stringify(log)),alert(RESPONSE_UNKNOWN)}else 403==xhr.status?(log={user_id:input_email.value||"(Not set)",status:textStatus,code:xhr.status,error:errorThrown,headers:xhr.getAllResponseHeaders()},VectorStock.track("send","event","Error (JS)","CustomError: Signup issue (popup) - Blocked by firewall",JSON.stringify(log)),alert(RESPONSE_UNKNOWN),window.location.reload(!0)):(log={user_id:input_email.value||"(Not set)",status:textStatus,code:xhr.status,error:errorThrown,headers:xhr.getAllResponseHeaders()},VectorStock.track("send","event","Error (JS)","CustomError: Signup issue (popup) - Failed for unknown reason",JSON.stringify(log)),alert(RESPONSE_UNKNOWN))};$.ajax({type:"POST",url:"/api/signup",data:params}).done(onDone).fail(onFail)}()}function show(){var is_expanded=radioboxes_account.value==ScreenSignup.ACCOUNT_TYPE_COMPANY;container.addClass("reveal"),INSTANCE.dispatchEvent("expand",is_expanded),""==input_firstname.value?input_firstname.focus():""==input_surname.value?input_surname.focus():""==input_email.value?input_email.focus():""==input_password.value&&input_password.focus()}function close(){INSTANCE.dispatchEvent("close")}function switchToLogin(event){INSTANCE.hide(),INSTANCE.dispatchEvent("screen_login"),event.preventDefault()}function loadRecaptcha(){grecaptcha.ready(function(){recaptcha_id=grecaptcha.render(field_recaptcha[0],{sitekey:VectorStock.google_sitekey,callback:function(response){field_recaptcha.removeClass("error")},"expired-callback":function(){field_recaptcha.addClass("shake-slow shake-constant error"),setTimeout(function(){field_recaptcha.removeClass("shake-slow shake-constant")},800)},"error-callback":function(){field_recaptcha.addClass("shake-slow shake-constant error"),setTimeout(function(){field_recaptcha.removeClass("shake-slow shake-constant")},800)}})})}return INSTANCE.show=function(is_instant){container.show(),is_instant?show():setTimeout(show,100)},INSTANCE.hide=function(){container.hide().removeClass("reveal")},input_firstname=new VectorStock.FieldInput($('input[name="firstname"]',container)),input_surname=new VectorStock.FieldInput($('input[name="surname"]',container)),input_email=new VectorStock.FieldInput($('input[name="email"]',container)),input_password=new VectorStock.FieldInput($('input[name="password"]',container)),radioboxes_account=new VectorStock.FieldRadioboxes($('fieldset[data-field="type"] li',container)),area_company=$('[data-area="company"]',container),input_company=new VectorStock.FieldInput($('input[name="company"]',area_company)),input_billing=new VectorStock.FieldInput($('textarea[name="billing"]',area_company)),checkbox_terms=new VectorStock.FieldCheckbox($('input[name="terms"]',container)),checkbox_mailinglist=new VectorStock.FieldCheckbox($('input[name="mailinglist"]',container)),but_submit=new VectorStock.FieldButton($('.footer button[type="submit"]',container)),but_close=$("> button",container),link_login=$(".footer p a",container),field_recaptcha=$("#signup-recaptcha",container),fields_validate=[input_firstname,input_surname,input_email,input_password,checkbox_terms],radioboxes_account.on("change",changeAccountType),but_submit.on("click",validateFields),but_close.on("click",close),link_login.on("click",switchToLogin),input_email.value&&emailServerValidation(input_email.value),window.grecaptcha?loadRecaptcha():(window.addEventListener("googleRecaptchaLoaded",function(){loadRecaptcha()}),VectorStock.loadJS.load("https://www.google.com/recaptcha/api.js?onload=onGoogleRecaptchaLoaded&render=explicit")),INSTANCE};ScreenSignup.ACCOUNT_TYPE_INDIVIDUAL="Individual",ScreenSignup.ACCOUNT_TYPE_COMPANY="Company",ScreenSignup.ERROR_FIRSTNAME_MISSING="FIRSTNAME_MISSING",ScreenSignup.ERROR_FIRSTNAME_MINCHARS="FIRSTNAME_MINCHARS",ScreenSignup.ERROR_SURNAME_MISSING="SURNAME_MISSING",ScreenSignup.ERROR_SURNAME_MINCHARS="SURNAME_MINCHARS",ScreenSignup.ERROR_EMAIL_INVALID="EMAIL_INVALID",ScreenSignup.ERROR_EMAIL_REGISTERED="EMAIL_REGISTERED",ScreenSignup.ERROR_PASSWORD_LENGTH="PASSWORD_LENGTH",ScreenSignup.ERROR_PASSWORD_CONSECUTIVE="PASSWORD_CONSECUTIVE",ScreenSignup.ERROR_PASSWORD_COMPROMISED="PASSWORD_COMPROMISED",ScreenSignup.ERROR_RECAPTCHA_FAILED="RECAPTCHA_FAILED";var ScreenLogin=function(container,hide_signup){var input_username,input_password,but_login,but_google,but_facebook,but_close,link_select,INSTANCE=new VSModule,RESPONSE_USERNAME_INVALID="Enter a valid username or email",RESPONSE_PASSWORD_INVALID="Use between 6 and 72 characters",monitor_username=!1,monitor_password=!1,credentials_changed=!0;function onFieldChange(){credentials_changed=!0}function validateUsername(value){return(value=$.trim(value)).length<4?(input_username.showError(RESPONSE_USERNAME_INVALID),!1):(input_username.clearError(),!0)}function validatePassword(value){return value.length<6||72<value.length?(input_password.showError(RESPONSE_PASSWORD_INVALID),!1):(input_password.clearError(),!0)}function validateFields(event){return event.preventDefault(),!!credentials_changed&&(validateUsername(input_username.value)||monitor_username||(input_username.on("change",validateUsername),monitor_username=!0),validatePassword(input_password.value)||monitor_password||(input_password.on("change",validatePassword),monitor_password=!0),input_username.hasError()?(VectorStock.track("send","event","Error (User)","Login","Client: Username"),!1):input_password.hasError()?(VectorStock.track("send","event","Error (User)","Login","Client: Password"),!1):void function(){input_username.disable(),input_password.disable(),but_login.setLoading("Logging in"),but_close.hide(),INSTANCE.dispatchEvent("processing");var login_process=new ProcessLogin(input_username,input_password);login_process.on("success",function(response){response.redirect?VectorStock.goToURL(response.redirect):window.location.reload(!0)}),login_process.on("revert",function(){input_username.enable(),input_password.enable(),but_login.revert(),but_close.show(),INSTANCE.dispatchEvent("response")}),login_process.on("error_username",function(message){input_username.showError(message)}),login_process.on("error_password",function(message){input_password.showError(message)}),login_process.on("error",function(xhr,text_status,xhr_error){403===xhr.status&&window.location.reload(!0)})}())}function googleLogin(){but_google.setLoading("Connecting",!0),$.get("/api/google/auth",function(response){1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url)):but_google.revert()})}function facebookLogin(){but_facebook.setLoading("Connecting",!0),$.get("/api/facebook/auth",function(response){1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url)):but_facebook.revert()})}function show(){container.addClass("reveal"),""==input_username.value?input_username.focus():""==input_password.value&&input_password.focus()}function close(){INSTANCE.dispatchEvent("close")}function switchToSelect(event){INSTANCE.hide(),INSTANCE.dispatchEvent("screen_select"),event.preventDefault()}return INSTANCE.show=function(is_instant){container.show(),is_instant?show():setTimeout(show,100)},INSTANCE.hide=function(){container.hide().removeClass("reveal")},input_username=new VectorStock.FieldInput($('form input[name="username"]',container)),input_password=new VectorStock.FieldInput($('form input[name="password"]',container)),but_login=new VectorStock.FieldButton($('form button[type="submit"]',container)),but_google=new VectorStock.FieldButton($('.footer button[data-method="google"]',container)),but_facebook=new VectorStock.FieldButton($('.footer button[data-method="facebook"]',container)),but_close=$("> button",container),link_select=$(".footer p a",container),hide_signup&&$(".footer p.signup",container).remove(),input_username.on("change",onFieldChange),input_password.on("change",onFieldChange),but_login.on("click",validateFields),but_google.on("click",googleLogin),but_facebook.on("click",facebookLogin),but_close.on("click",close),link_select.on("click",switchToSelect),INSTANCE};ScreenLogin.ERROR_FAILED="FAILED",ScreenLogin.ERROR_LOCKED="LOCKED",ScreenLogin.ERROR_BLOCKED="BLOCKED",ScreenLogin.ERROR_NOTFOUND="NOT_FOUND",ScreenLogin.ERROR_DISABLED="DISABLED",ScreenLogin.ERROR_FACEBOOK="FACEBOOK",ScreenLogin.ERROR_GOOGLE="GOOGLE";var ScreenLicenses=function(container){var header,INSTANCE=new VSModule;function onNextScreen(){INSTANCE.dispatchEvent("screen_next")}return INSTANCE.setName=function(name){var copy=header.text().replace(/{NAME}/i,name.toTitleCase());header.text(copy)},INSTANCE.show=function(){container.show(),setTimeout(function(){container.addClass("reveal")},100)},INSTANCE.hide=function(){container.hide().removeClass("reveal")},header=$("h1",container),$(".footer button",container).on("click",onNextScreen),INSTANCE},ScreenPricing=function(container){var INSTANCE=new VSModule;function onNextScreen(){INSTANCE.dispatchEvent("screen_next")}return INSTANCE.show=function(){container.show(),setTimeout(function(){container.addClass("reveal")},100)},INSTANCE.hide=function(){container.hide().removeClass("reveal")},$(".footer button",container).on("click",onNextScreen),INSTANCE},SignupBox=function(settings){var overlay,container,sidebar,sb_screens,sb_background_2,screens,screen_select,screen_signup,screen_login,screen_licenses,screen_pricing,INSTANCE=new VSModule;VectorStock.isMobile();function onClickOverlay(event){$(event.target)[0]==overlay[0]&&INSTANCE.close()}function build(){sidebar=$(".sb-sidebar",container),sb_screens=$(".sb-screen",sidebar),$('.sb-background [data-pattern="1"]',sidebar),sb_background_2=$('.sb-background [data-pattern="2"]',sidebar),screens=$(".sb-screens",container),screen_select=new ScreenSelect($('[data-screen="select"]',screens),settings.contributor),screen_signup=new ScreenSignup($('[data-screen="signup"]',screens),settings.contributor),screen_login=new ScreenLogin($('[data-screen="login"]',screens),!1===settings.signup),screen_licenses=new ScreenLicenses($('[data-screen="licenses"]',screens)),screen_pricing=new ScreenPricing($('[data-screen="pricing"]',screens)),settings.sidebar&&$(".sb-content",sb_screens).html(settings.sidebar),function(){var area_promo=new Date(Date.UTC(2017,10,28,11,0,0));date_ends=new Date(Date.UTC(2017,11,1,23,0,0)),time_now=(new Date).getTime(),promo_active=time_now>area_promo.getTime()&&time_now<date_ends.getTime();var area_promo=$(".sb-features .promo",sb_screens),area_countdown=$("p em",area_promo);{function promoCountdown(){var display=date_ends.getTime()-(new Date).getTime(),days=Math.floor(display/MS_DAY),hours=Math.floor((display-days*MS_DAY)/MS_HOUR),minutes=Math.floor((display-(days*MS_DAY+hours*MS_HOUR))/MS_MINUTE),seconds=Math.floor((display-(days*MS_DAY+hours*MS_HOUR+minutes*MS_MINUTE))/MS_SECOND),display=[];days&&display.push(days+" day"+(1==days?"":"s")),hours&&display.push(hours+" hour"+(1==hours?"":"s")),minutes&&display.push(minutes+" minute"+(1==minutes?"":"s")),seconds&&display.push(seconds+" second"+(1==seconds?"":"s")),area_countdown.text(display.join(", "))}promo_active?(setInterval(promoCountdown,1e3),promoCountdown()):area_promo.remove()}}(),screen_select.on("processing",disableOverlay).on("response",enableOverlay).on("screen_signup",showSignup).on("close",INSTANCE.close).on("screen_login",showLogin),screen_signup.on("expand",expandBox).on("processing",disableOverlay).on("response",enableOverlay).on("close",INSTANCE.close).on("signup",onSignup).on("screen_login",showLogin),screen_login.on("processing",disableOverlay).on("login",onLogin).on("response",enableOverlay).on("close",INSTANCE.close).on("screen_select",showSelect),screen_licenses.on("screen_next",showPricing),screen_pricing.on("screen_next",goToPurchase),$(document).on("keypress",onKeyPress),"login"==settings.screen?(sb_screens.hide().filter("[data-type=login]").show(),showLogin(!0)):showSelect(!0),setTimeout(function(){container.addClass("reveal")})}function onLogin(){INSTANCE.dispatchEvent("login")}function expandBox(is_expanded){container.toggleClass("expanded",is_expanded)}function disableOverlay(){overlay&&overlay.off("click",onClickOverlay)}function enableOverlay(){overlay&&overlay.on("click",onClickOverlay)}function showSelect(is_instant){sb_screens.hide().filter("[data-type=default]").show(),screen_select.show(is_instant)}function showSignup(is_instant){screen_signup.show(is_instant)}function showLogin(is_instant){expandBox(!1),screen_login.show(is_instant)}function onSignup(response,params){function nextStep(){settings.url_signup?VectorStock.goToURL(settings.url_signup):response.redirect?VectorStock.goToURL(response.redirect):settings.contributor?VectorStock.goToURL("/account/sell-vectors"):goToPurchase()}VectorStock.isProduction()&&window.gtag?gtag("event","conversion",{send_to:"AW-1056033416/dJfkCPOoo28QiJXH9wM",event_callback:nextStep}):nextStep()}function showPricing(){screen_licenses.hide(),screen_pricing.show(),sb_background_2.addClass("reveal")}function goToPurchase(){var vector_license,vector_payment,url="/purchase",vector_id=$("#vector_id").val();vector_id&&(vector_license=$('input[name="license"]:checked').val(),"credits"!=(vector_payment=$('input[name="payment_'+vector_license+'"]:checked').val())&&"subscription"!=vector_payment||(url+="/"+vector_payment),url+="?id="+vector_id,vector_license&&(url+="&license="+vector_license)),VectorStock.goToURL(url)}function onKeyPress(event){"Escape"===event.key&&(INSTANCE.close(),event.stopPropagation())}return INSTANCE.close=function(){container&&container.remove(),overlay&&overlay.remove(),$(document).on("keypress",onKeyPress),SignupBox.instance=null,INSTANCE.dispatchEvent("close")},INSTANCE.showSignupSelectScreen=function(){sb_screens.hide().filter("[data-type=select]").show(),$("> .screen",screens).hide(),showSelect(!0)},INSTANCE.showLoginScreen=function(){sb_screens.hide().filter("[data-type=login]").show(),$("> .screen",screens).hide(),showLogin(!0)},SignupBox.instance&&SignupBox.instance.close(),(settings=settings||{}).container?(container=settings.container,build()):(overlay=$('<div class="overlay" />').css({height:$(document).height()}).appendTo("body").on("click",onClickOverlay),setTimeout(function(){overlay.addClass("reveal")}),container=$('<div id="box-signup" class="overlay-box"><div class="sb-sidebar"><div class="sb-screen" data-type="default" style="display:block;"><div class="sb-content"><h1>VectorStock</h1><div class="sb-features" data-type="signup"><div class="promo"><p><strong>Cyber Monday deal extended!</strong><br>Signup now and get double the credits. 2 for 1 deal ends in: <em>2 days, 24 hours, 23 minutes, 23 seconds</em></p></div><h2 data-type="signup">Create your <strong>Free Account</strong> for access to:</h2><h2 data-type="login">Login for access to:</h2><ul><li>350,000 Free Vectors</li><li>Millions of Royalty-Free Images</li><li>20,000+ images added daily</li></ul></div><div class="sb-customers"><h3>Some of our customers </h3><ul><li class="co-disney">Disney</li><li class="co-oracle">Oracle</li><li class="co-nike">Nike</li><li class="co-warner">Warner Brothers</li></ul></div></div><div class="sb-background"><div class="bg" data-pattern="1"></div><div class="bg" data-pattern="2"></div></div></div><div class="sb-screen" data-type="login"><div class="sb-content"><h1>VectorStock</h1><div class="sb-features"><p><strong>Welcome back to VectorStock!</strong></p><p>Login to continue</p></div></div><div class="sb-background"><div class="bg reveal" data-pattern="1"></div></div></div></div><div class="sb-screens"><div class="screen" data-screen="select"><div class="header"><h1>Select Signup Method</h1><button type="button" data-method="email"><span class="label">Email Address</span><span class="icon"><span></span></span></button><button type="button" data-method="google"><span class="label">Google</span><span class="icon"><span></span></span></button><button type="button" data-method="facebook"><span class="label">Facebook</span><span class="icon"><span></span></span></button></div><div class="footer"><p>Already have an account? <a href="/">Log in</a></p></div><button data-action="close" type="button">Close</button></div><div class="screen" data-screen="signup"><form action="/api/signup" method="POST" novalidate><div class="header"><h1>Enter your details</h1><div class="fields"><div class="fieldgroup"><fieldset data-field="firstname"><input type="text" name="firstname" minlength="2" maxlength="45" placeholder="First name" autocomplete="on" tabindex="1001" /></fieldset><fieldset data-field="surname"><input type="text" name="surname" minlength="2" maxlength="45" placeholder="Surname" autocomplete="on" tabindex="1002" /></fieldset></div><fieldset data-field="email"><input type="email" name="email" maxlength="100" autocomplete="on" autocorrect="off" autocapitalize="off" placeholder="Email address" tabindex="1003" /></fieldset><fieldset data-field="password"><input type="password" name="password" minlength="8" maxlength="72" placeholder="Password" tabindex="1004"></fieldset><fieldset data-field="type"><h6>Account Type</h6><ul><li class="checked"><label for="f_type_individual"><span class="radio"><span></span><input type="radio" id="f_type_individual" name="account_type" value="Individual" checked="checked" tabindex="1005"></span><span class="title">Individual</span></label></li><li><label for="f_type_company"><span class="radio"><span></span><input type="radio" id="f_type_company" name="account_type" value="Company" tabindex="1006"></span><span class="title">Company</span></label></li></ul></fieldset><div data-area="company"><fieldset data-field="company"><input type="text" name="company" autocomplete="on" autocorrect="off" autocapitalize="off" placeholder="Company name" tabindex="1007"></fieldset><fieldset data-field="billing"><textarea name="billing" placeholder="Billing address" tabindex="1008"></textarea></fieldset></div></div><div class="agreements"><ul><li><label for="f_terms" class="checked"><span class="checkbox"><input type="checkbox" id="f_terms" name="terms" value="1" checked="checked" tabindex="1009" /></span><span class="title">Agree to our <a href="/faq/members/membership-agreement" target="_blank">Terms of Use</a> and <a href="/faq/members/privacy-policy" target="_blank">Privacy&nbsp;Policy</a></span></label></li><li><label for="f_mailinglist" class="checked"><span class="checkbox"><input type="checkbox" id="f_mailinglist" name="mailinglist" value="1" checked="checked" tabindex="1010" /></span><span class="title">Signup to the VectorStock mailing&nbsp;list</span></label></li><li><div id="signup-recaptcha"></div></li></ul></div></div><div class="footer"><button type="submit" tabindex="1011"><span class="label">Create Account</span><span class="icon"><span></span></span></button><p>Already have an account? <a href="/">Log in</a></p></div></form><button data-action="close" type="button">Close</button></div><div class="screen" data-screen="login"><form action="/api/json/login" method="POST" novalidate><h1>Login<span class="full"> to your account</span></h1><div class="fields"><fieldset data-field="username"><input type="text" name="username" autocomplete="on" autocorrect="off" autocapitalize="off" maxlength="100" placeholder="Username or Email" tabindex="1001" /></fieldset><fieldset data-field="password"><input type="password" name="password" maxlength="72" placeholder="Password" tabindex="1002"></fieldset></div><button type="submit" tabindex="1003"><span class="label">Login</span><span class="icon"><span></span></span></button><p><a href="/request/password">Forgot your password?</a></p></form><div class="footer"><h1>Or login with:</h1><div class="options"><button type="button" data-method="google" tabindex="1004"><span class="label">Google</span><span class="icon"><span></span></span></button><button type="button" data-method="facebook" tabindex="1005"><span class="label">Facebook</span><span class="icon"><span></span></span></button></div><p class="signup">New to VectorStock? <a href="/signup">Sign up for&nbsp;free!</a></p></div><button data-action="close" type="button">Close</button></div><div class="screen" data-screen="licenses"><h1>Welcome {NAME}!</h1><h2>Our images are available in 3 licenses:</h2><table cellpadding="0" cellspacing="0" border="0"><tbody><tr><td class="title">Free</td><td>For personal use</td></tr><tr><td class="title">Standard</td><td>For print, advertising, design etc.</td></tr><tr><td class="title">Expanded</td><td>For resale &amp; distribution</td></tr></tbody></table><div class="footer"><button type="button"><span class="label">Continue</span><span class="icon"><span></span></span></button></div></div><div class="screen" data-screen="pricing"><h1>Image Pricing</h1><h2>You can buy images using:<br><strong>Monthly Subscription</strong> (best price) or<br><strong>Pre-paid Credits</strong> (use anytime).</h2><table cellpadding="0" cellspacing="0" border="0"><thead><tr><th></th><th title="Free License">Free</th><th title="Standard License">Standard</th><th title="Expanded License">Expanded</th></tr></thead><tbody><tr><td class="title">Subscription</td><td><sup>$</sup>0</td><td><small>From</small> 69<sub></sub></td><td class="disabled" title="Not Available">N/A</td></tr><tr><td class="title">Credits</td><td><sup>$</sup>0</td><td><small>From</small> <sup>$</sup>1</td><td><sup>$</sup>25</td></tr></tbody></table><div class="footer"><button type="button"><span class="label">Get Started!</span><span class="icon"><span></span></span></button></div></div></div></div>').appendTo(overlay),build(),"absolute"==container.css("position")&&VectorStock.scrollTo(0),EventTracker.track(EventTrackerLogger.ID_LOG,{source:"Signup Popup",event:"Initiated"},!0),EventTracker.store("ctr_signup_popup","initiated",!0)),SignupBox.instance=INSTANCE};SignupBox.TIME_FAIL=1e4,SignupBox.TIME_EXPIRE=9e5,SignupBox.instance=null,SignupBox.extendSession=function(){$.getJSON("/api/loggedincheck").done(function(response){response.success?setTimeout(SignupBox.extendSession,SignupBox.TIME_EXPIRE):SignupBox.instance?SignupBox.instance.showLoginScreen():new SignupBox({screen:"login"})}).fail(function(event){setTimeout(SignupBox.extendSession,SignupBox.TIME_FAIL)})},$(function(){function launchSignupBox(url){for(var params=1<(url=url.split("?")).length?url[1].toLowerCase().split("&"):[],is_contributor=!1,i=params.length;i--;){var value=params[i].split("="),key=value[0],value=1<value.length?value[1]:"";if("contributor"==key&&0!==value){is_contributor=!0;break}}new SignupBox({contributor:is_contributor})}var is_contributor;"/signup"!==window.location.pathname.toLowerCase()&&($('a[href^="/signup"]').on("click",function(event){launchSignupBox($(this).attr("href")),event.preventDefault()}),$(window).on("redirect",function(event,url,path){"/signup"==path&&(launchSignupBox(url),event.preventDefault?event.preventDefault():event.isDefaultPrevented=function(){return!0})})),0<=window.location.search.search(/login=1/i)&&new SignupBox({screen:"login"}),0<=window.location.search.search(/signup=1/i)&&(is_contributor=0<=window.location.search.search(/contributor=1/i),new SignupBox({contributor:is_contributor}))});var GalleryBox=function(){var image_list,image_tally,is_cart,is_likes,image_id,image_title,image_artist,overlay,container,screens,imageset,header,hd_browse,hd_create,gl_list,INSTANCE=new VSModule;$.isArray(arguments[0])?(image_list=arguments[0],image_tally=arguments[1]||image_list.length,is_cart=arguments[2]||!1,is_likes=arguments[3]||!1):(image_id=arguments[0],image_title=arguments[1],image_artist=arguments[2]);VectorStock.isMobile();function addImage(image_id,image_title){var figure=$("<figure />").appendTo(imageset);$('<img width="238" height="250">').attr("src",VectorStock.imagePath(image_id,image_title,"medium")).attr("alt",image_title||"").appendTo(figure);$('<span class="inner" />').appendTo(figure)}function populate(galleries){hd_browse.on("filter",filterGalleries),hd_browse.setTotal(galleries.length),gl_list.populate(galleries);var search=hd_browse.getSearch();search&&filterGalleries(search)}function onClickOverlay(event){$(event.target)[0]==overlay[0]&&INSTANCE.close()}function onListUpdate(num_matches){hd_browse.setTotal(num_matches)}function filterGalleries(search){gl_list.filter(search)}function changeHeader(type,search_input){type==GalleryBox.HeaderCreate?(hd_browse.hide(),search_input&&hd_create.setName(search_input),hd_create.show(),gl_list.hide()):type==GalleryBox.HeaderBrowse&&(hd_browse.show(),hd_create.hide(),gl_list.show())}function changeHeaderCreate(gallery_name){gallery_name&&hd_create.setName(gallery_name),changeHeader(GalleryBox.HeaderCreate)}function createGallery(gallery_name,gallery_private){var onGalleryCreated;image_list?(onGalleryCreated=new GalleryBox.HeaderCreated(header,gallery_name,image_list,image_tally),hd_create.hide(),onGalleryCreated.show(),onGalleryCreated=function(response){response.success?(VectorStock.setTally("galleries",response.galleries),VectorStock.userData.refresh(),INSTANCE.dispatchEvent("gallery_created",[response.id,gallery_name,gallery_private])):response.message&&("max_galleries_reached"==response.message?(alert("Could not create gallery - total gallery limit reached"),INSTANCE.close()):"gallery_full"==response.message&&(alert("Could not create gallery - image limit reached"),INSTANCE.close())),response.csrf_token&&response.csrf_token.csrf_name&&response.csrf_token.csrf_value&&(GalleryBox.csrf_name=response.csrf_token.csrf_name,GalleryBox.csrf_value=response.csrf_token.csrf_value)},(is_cart?$.post("/api/cart/addtogallery",{name:gallery_name,"private":gallery_private,csrf_name:GalleryBox.csrf_name,csrf_value:GalleryBox.csrf_value},"json"):is_likes?$.post("/api/likes/addtogallery",{name:gallery_name,"private":gallery_private,csrf_name:GalleryBox.csrf_name,csrf_value:GalleryBox.csrf_value},"json"):$.post("/api/galleries",{name:gallery_name,"private":gallery_private,csrf_name:GalleryBox.csrf_name,csrf_value:GalleryBox.csrf_value},"json")).done(onGalleryCreated)):(gl_list.createGallery(gallery_name,gallery_private),changeHeader(GalleryBox.HeaderBrowse))}function cancelCreate(){image_list&&INSTANCE.close()}return INSTANCE.close=function(){container&&container.remove(),overlay.remove(),$("body").removeClass("pagelock"),INSTANCE.dispatchEvent("close")},overlay=$('<div class="overlay" />').css({height:$(document).height()}).appendTo("body").on("click",onClickOverlay).on("mousewheel",function(e){}),setTimeout(function(){overlay.addClass("reveal")}),function(html_template){var sb_content,sb_background,gl_pane;container=$(html_template).appendTo(overlay),gl_pane=$(".gb-sidebar",container),sb_screen=$(".gb-screen",gl_pane).show(),sb_content=$(".gb-content",sb_screen),sb_background=$(".gb-background",sb_screen),imageset=$(".imageset",sb_content),screens=$(".gb-screens",container),aside_title=$(".gb-screen",screens).show(),header=$(".header",aside_title),hd_browse=new GalleryBox.HeaderBrowse($(".header_browse",header),!image_list),hd_create=new GalleryBox.HeaderCreate($(".header_create",header),!!image_list),gl_pane=$(".panel",aside_title),gl_list=image_list?new GalleryBox.List($(".pane",gl_pane),image_list):new GalleryBox.List($(".pane",gl_pane),image_id,image_title);if(but_close=$('button[data-action="close"]',aside_title),image_list)if(imageset.attr("data-images",image_list.length),0<image_tally){for(var i=Math.min(5,image_list.length);i--;)addImage(image_list[i].id,image_list[i].title);var aside_title="Images";is_cart?aside_title="Cart Images":is_likes&&(aside_title="Liked Images"),$("<h1 />").text(aside_title+" ("+image_tally+")").appendTo(sb_content)}else sb_content.empty(),sb_background.addClass("empty");else imageset.attr("data-images",1),addImage(image_id,image_title),$("<h1 />").text(image_title+" vector image").appendTo(sb_content),image_artist&&$("<h2 />").text("by "+image_artist).appendTo(sb_content),(new Image).src=VectorStock.imagePath(image_id,image_title,"small");hd_browse.on("change_header",changeHeader),hd_create.on("change_header",changeHeader).on("create_gallery",createGallery).on("cancel",cancelCreate),gl_list.on("new_gallery",changeHeaderCreate).on("update",onListUpdate),but_close.on("click",INSTANCE.close),image_list?hd_create.show():(hd_browse.show(),gl_list.show());setTimeout(function(){container.addClass("reveal")})}(GalleryBox.template),GalleryBox.galleries?populate(GalleryBox.galleries):$.get("/api/galleries/byname").done(function(response){response.csrf_token&&response.csrf_token.csrf_name&&response.csrf_token.csrf_value&&(GalleryBox.csrf_name=response.csrf_token.csrf_name,GalleryBox.csrf_value=response.csrf_token.csrf_value),GalleryBox.galleries=response.galleries,populate(GalleryBox.galleries)}).fail(function(event){401==event.status&&INSTANCE.close()}),INSTANCE};GalleryBox.template='<div id="box-gallery" class="overlay-box"><div class="gb-sidebar"><div class="gb-screen" data-screen="image"><div class="gb-content"><div class="imageset" data-images="1"></div></div><div class="gb-background"></div></div></div><div class="gb-screens"><div class="gb-screen" data-screen="list"><div class="header"><div class="header_browse"><h1><span class="short">Galleries</span><span class="long">Add to Gallery</span> <data>(0)</data></h1><div class="fieldgroup"><fieldset data-field="filter"><span class="icon"></span><input type="text" name="gallery_search" placeholder="Search gallery names" autocomplete="off" tabindex="1"></fieldset><button type="button" data-action="create" tabindex="2"><span class="icon"></span><span class="label">New</span></button></div></div><div class="header_create"><h1>New Gallery</h1><div class="fieldgroup"><fieldset data-field="gallery_name"><input type="text" name="gallery_name" placeholder="Enter name" autocomplete="off" tabindex="1"></fieldset><label for="gallery_new_private"><span class="checkbox"><input type="checkbox" id="gallery_new_private" name="gallery_new_private"></span><span class="title">Private</span></label></div><button type="button" data-action="cancel" tabindex="2"><span class="label">Cancel</span></button><button type="button" data-action="create" tabindex="3"><span class="label">Create</span></button></div></div><div class="panel"><div class="pane"><div class="state"></div><ul></ul></div></div><button data-action="close" type="button">Close</button></div></div></div>',GalleryBox.galleries=null,GalleryBox.csrf_name=null,GalleryBox.csrf_value=null,GalleryBox.HeaderBrowse=function(container,is_showing){var header,header_tally,input_search,but_create,INSTANCE=new VSModule;function filterGalleries(){console.log("filter");var value=$.trim(input_search.value);INSTANCE.dispatchEvent("filter",[value])}function createNewGallery(){INSTANCE.dispatchEvent("change_header",[GalleryBox.HeaderCreate,input_search.value])}return INSTANCE.show=function(){return container.show(),header.css({height:container.outerHeight()}),setTimeout(function(){container.addClass("reveal"),input_search.focus()}),INSTANCE},INSTANCE.hide=function(){return container.hide().removeClass("reveal"),input_search.setValue(),INSTANCE},INSTANCE.setTotal=function(total){return header_tally.show().text("("+total+")"),INSTANCE},INSTANCE.getSearch=function(){return $.trim(input_search.value)},header=container.parent(),header_tally=$("h1 data",container),input_search=new VectorStock.FieldInput($('input[name="gallery_search"]',container),VectorStock.FieldInput.FORMAT_ALPHANUMERIC),but_create=new VectorStock.FieldButton($('button[data-action="create"]',container)),input_search.on("change",filterGalleries),but_create.on("click",createNewGallery),is_showing&&container.show().addClass("reveal"),INSTANCE},GalleryBox.HeaderCreate=function(container,is_showing){var header,input_name,cbox_private,but_cancel,but_create,INSTANCE=new VSModule;function onNameChange(value){value?but_create.enable():but_create.disable()}function onCancel(){INSTANCE.dispatchEvent("cancel"),INSTANCE.dispatchEvent("change_header",[GalleryBox.HeaderBrowse])}function onNewGallery(){var gallery_name=$.trim(input_name.value);gallery_name?(input_name.setValue("",!0),INSTANCE.dispatchEvent("create_gallery",[gallery_name,cbox_private.checked])):(but_create.disable(),input_name.focus())}return INSTANCE.show=function(){return container.show(),header.css({height:container.outerHeight()}),setTimeout(function(){container.addClass("reveal"),input_name.focus()}),INSTANCE},INSTANCE.hide=function(){return container.hide().removeClass("reveal"),INSTANCE},INSTANCE.setName=function(gallery_name){input_name.setValue(gallery_name)},header=container.parent(),input_name=new VectorStock.FieldInput($('input[name="gallery_name"]',container),VectorStock.FieldInput.FORMAT_ALPHANUMERIC),cbox_private=new VectorStock.FieldCheckbox($('input[name="gallery_new_private"]',container)),but_cancel=new VectorStock.FieldButton($('button[data-action="cancel"]',container)),but_create=new VectorStock.FieldButton($('button[data-action="create"]',container)),input_name.on("change",onNameChange).on("return",onNewGallery),but_cancel.on("click",onCancel),but_create.on("click",onNewGallery),is_showing&&container.show().addClass("reveal"),INSTANCE},GalleryBox.HeaderCreated=function(header,gallery_name,gallery_images,gallery_tally){var container,gallery_imageset,INSTANCE=new VSModule;return INSTANCE.show=function(){return container.show(),header.css({height:""}),setTimeout(function(){container.addClass("reveal")}),INSTANCE},INSTANCE.hide=function(){return container.hide().removeClass("reveal"),INSTANCE},function(){var gallery_imagewrap;container=$('<div class="header_created" />').appendTo(header),$("<h1>Gallery created!</h1>").appendTo(container),gallery_imagewrap=$('<div class="gallery" />').appendTo(container),$('<span class="title">'+gallery_name+"</span>").appendTo(gallery_imagewrap),$('<span class="subtitle">'+gallery_tally+" Image"+(1==gallery_tally?"":"s")+"</span>").appendTo(gallery_imagewrap),gallery_imagewrap=$('<span class="images">').appendTo(gallery_imagewrap),gallery_imageset=$('<span class="set">').appendTo(gallery_imagewrap);for(var i=0;i<gallery_images.length;i++)!function(image_index,image_id,image_title){var src="url("+VectorStock.imagePath(image_id,image_title,"small")+")",figure=$('<figure data-index="'+image_index+'" data-image="'+image_id+'" />');$("<span />").css({backgroundImage:src}).appendTo(figure);figure.appendTo(gallery_imageset)}(i,gallery_images[i].id,gallery_images[i].title)}(),INSTANCE},GalleryBox.List=function(){var image_list,image_id,image_title,INSTANCE=new VSModule,container=arguments[0];$.isArray(arguments[1])?image_list=arguments[1]:(image_id=arguments[1],image_title=arguments[2]);var state,list,state_none,temp_id=1e9,gallery_items=[];function updateGalleryLastModified(gallery_id){for(var i=0;i<GalleryBox.galleries.length;i++)if(GalleryBox.galleries[i].id===gallery_id){var gallery_entry=GalleryBox.galleries.splice(i,1);GalleryBox.galleries.unshift(gallery_entry[0]);break}}function createGalleryItem(gallery_id,gallery_name,gallery_private,gallery_images,gallery_checked){var item=new GalleryBox.ListItem(gallery_id,gallery_name,gallery_private,gallery_images,gallery_checked);item.getElement();return item.on("check",function(){image_list?item.addImages(image_list):item.addImage(image_id,image_title),function(gallery_id){image_id&&(VectorStock.userData.addToGallery(image_id,gallery_id),$.put("/api/galleries/"+gallery_id+"/"+image_id).success(function(response){response.success||(VectorStock.userData.removeFromGallery(image_id,gallery_id),setTimeout(function(){var gallery=function(gallery_id){for(var i=0;i<gallery_items.length;i++)if(gallery_items[i].id==gallery_id)return gallery_items[i];return null}(gallery_id);gallery&&gallery.removeImage(image_id)},10),response.message&&"gallery_full"==response.message&&alert("Could not add image #"+image_id+" to gallery - limit reached"+(response.gallery_total?" ("+response.gallery_total+")":"")))}),VectorStock.track("send","event","Add To Gallery","Image",JSON.stringify({image:image_id,gallery:gallery_id})));updateGalleryLastModified(gallery_id)}(gallery_id),INSTANCE.dispatchEvent("image_added",[gallery_id])}).on("uncheck",function(){image_list?item.removeImages(image_list):item.removeImage(image_id),function(gallery_id){image_id&&($["delete"]("/api/galleries/"+gallery_id+"/"+image_id),VectorStock.userData.removeFromGallery(image_id,gallery_id));updateGalleryLastModified(gallery_id)}(gallery_id),INSTANCE.dispatchEvent("image_removed",[gallery_id])}),item}function toggleScrolling(){var is_scrolling=list.outerHeight()>container.outerHeight();container.toggleClass("scrolling",is_scrolling)}return INSTANCE.populate=function(galleries){for(var i=0,len=galleries.length;i<len;i++){for(var is_checked=!1,j=galleries[i].contents.length;j--;)if(galleries[i].contents[j].id==image_id){is_checked=!0;break}var item=createGalleryItem(galleries[i].id,galleries[i].name,galleries[i]["private"],galleries[i].contents,is_checked);item.getElement().appendTo(list),gallery_items.push(item)}state.attr("data-state",0==len?"empty":""),toggleScrolling()},INSTANCE.filter=function(term){0;for(var i=gallery_items.length,count=0;i--;)count+=gallery_items[i].match(term);state.attr("data-state",0==count?"none":""),toggleScrolling(),INSTANCE.dispatchEvent("update",[count])},INSTANCE.createGallery=function(gallery_name,gallery_private){var gallery_id=temp_id++,gallery_private=Number(gallery_private),gallery_ids=[],gallery_images=[];if(image_list)for(var i=0;i<image_list.length;i++)gallery_ids.push(image_list[i].id),gallery_images.push({id:image_list[i].id,title:image_list[i].title});else gallery_ids.push({id:image_id,title:image_title}),gallery_images.push({id:image_id,title:image_title});var gallery_entry={id:gallery_id,"public":!gallery_private,name:gallery_name,contents:gallery_images},item=createGalleryItem(gallery_id,gallery_name,gallery_private,gallery_images,!0),item_element=item.getElement().addClass("faded");GalleryBox.galleries.unshift(gallery_entry),item_element.prependTo(list),gallery_items.unshift(item),toggleScrolling(),setTimeout(function(){container.scrollTop(item_element[0].offsetTop),item_element.removeClass("faded")},10),$.post("/api/galleries",{name:gallery_name,"private":gallery_private,images:gallery_ids,csrf_name:GalleryBox.csrf_name,csrf_value:GalleryBox.csrf_value},"json").done(function(response){response.success?(gallery_entry.id=response.id,item.updateId(response.id),VectorStock.setTally("galleries",response.galleries),VectorStock.userData.createGallery(response.id,gallery_name),VectorStock.userData.addToGallery(image_id,response.id)):(GalleryBox.galleries.shift(),item_element.remove(),gallery_items.shift(),response.message&&"max_galleries_reached"==response.message&&alert("Could not create gallery - max limit reached")),response.csrf_token&&response.csrf_token.csrf_name&&response.csrf_token.csrf_value&&(GalleryBox.csrf_name=response.csrf_token.csrf_name,GalleryBox.csrf_value=response.csrf_token.csrf_value)}),INSTANCE.dispatchEvent("update",[GalleryBox.galleries.length])},INSTANCE.show=function(){return container.show(),setTimeout(function(){container.addClass("reveal")}),INSTANCE},INSTANCE.hide=function(){return container.hide().removeClass("reveal"),INSTANCE},state=$(".state",container).attr("data-state","load"),(state_none=$('<div class="state_load" />').appendTo(state)).loadingIcon("small"),$("<p>Loading galleries</p>").appendTo(state_none),state_none=$('<div class="state_empty" />').appendTo(state),$("<p>No galleries exist yet</p>").appendTo(state_none),state_none=$('<div class="state_none" />').appendTo(state),$("<p>No matches</p>").appendTo(state_none),list=$("ul",container),INSTANCE},GalleryBox.ListItem=function(gallery_id,gallery_name,gallery_private,gallery_images,gallery_checked){var item,label,cbox_wrap,cbox_input,cbox_field,item_title,item_subtitle,item_images,INSTANCE=new VSModule;function updateTitle(title){item_title.html(title)}function updateSubtitle(){item_subtitle.html(INSTANCE.images.length+" Image"+(1==INSTANCE.images?"":"s"))}function onChecked(checked){INSTANCE.dispatchEvent(checked?"check":"uncheck",[INSTANCE.id])}return INSTANCE.id=gallery_id,INSTANCE.name=gallery_name,INSTANCE["private"]=gallery_private,INSTANCE.images=gallery_images,INSTANCE.checked=gallery_checked,INSTANCE.getElement=function(){return item},INSTANCE.updateId=function(gallery_id){INSTANCE.id=gallery_id,label.attr("for","in_gallery_"+INSTANCE.id),cbox_input.attr("id","in_gallery_"+INSTANCE.id)},INSTANCE.match=function(term){if(term){var regex=new RegExp("("+term+")","gi");if(INSTANCE.name.search(regex)<0)return item.hide(),!1;updateTitle(INSTANCE.name.replace(regex,"<em>$1</em>"))}else updateTitle(INSTANCE.name);return item.show(),!0},INSTANCE.addImage=function(image_id,image_title){item_images.addImage(image_id,image_title),updateSubtitle()},INSTANCE.addImages=function(image_list){for(var i=0;i<image_list.length;i++)item_images.addImage(image_list[i].id,image_list[i].title);updateSubtitle()},INSTANCE.removeImage=function(image_id){item_images.removeImage(image_id),cbox_field.toggle(!1,!0),updateSubtitle()},INSTANCE.removeImages=function(image_list){for(var i=0;i<image_list.length;i++)item_images.removeImage(image_list[i].id);cbox_field.toggle(!1,!0),updateSubtitle()},item=$('<li data-status="'+(INSTANCE["private"]?"private":"")+'" />'),label=$('<label for="in_gallery_'+INSTANCE.id+'">').appendTo(item),cbox_wrap=$('<span class="checkbox" />').appendTo(label),cbox_input=$('<input type="checkbox" id="in_gallery_'+INSTANCE.id+'">').appendTo(cbox_wrap),cbox_field=new VectorStock.FieldCheckbox(cbox_input),item_title=$('<span class="title" />').appendTo(label),item_subtitle=$('<span class="subtitle" />').appendTo(label),item_images=new GalleryBox.ListItemImages(label,INSTANCE.images),updateTitle(INSTANCE.name),updateSubtitle(),cbox_field.toggle(INSTANCE.checked),cbox_field.on("change",onChecked),INSTANCE},GalleryBox.ListItemImages=function(scope,images){var container,imageset,INSTANCE=new VSModule,image_lookup={};function createImage(image_id,image_title,image_index){var image_index=image_index||0,num_images="url("+VectorStock.imagePath(image_id,image_title,"small")+")",figure=$('<figure data-index="'+image_index+'" data-image="'+image_id+'" />'),num_images=($("<span />").css({backgroundImage:num_images}).appendTo(figure),imageset.children().length);return image_index==undefined||0==num_images||num_images<=image_index?figure.appendTo(imageset):imageset.children().eq(image_index).before(figure),image_lookup[image_id]=figure}return INSTANCE.addImage=function(image_id,image_title){images.push({id:image_id,title:image_title}),function(image_id,image_title,image_index,is_instant){var figure=createImage(image_id,image_title,image_index);is_instant||(figure.addClass("conceal"),setTimeout(function(){$("figure",imageset).each(function(index){$(this).attr("data-index",index)}),figure.removeClass("conceal")},10))}(image_id,image_title)},INSTANCE.removeImage=function(image_id){for(var index,i=images.length;i--;)if(images[i].id==image_id){index=i;break}index!==undefined&&(images.splice(index,1),function(image_id){var figure=image_lookup[image_id];figure&&(figure.addClass("conceal"),delete image_lookup[image_id],setTimeout(function(){$("figure",imageset).not(".conceal").each(function(index){$(this).attr("data-index",index)})}),setTimeout(function(){figure.remove()},550))}(image_id))},function(){container=$('<span class="images" />').appendTo(scope),imageset=$('<span class="set" />').appendTo(container);for(var range=images.length<=3?images.length:3,group=images.slice(images.length-range),i=range;i--;)createImage(group[i].id,group[i].title,range-i-1)}(),INSTANCE};var BannerAnimationShape=function(canvas_width,canvas_height,start_random){var INSTANCE=new VSModule,COLOR_GRADIENTS=[["#2b1eb9","#df8686"],["#643daa","#f09161"],["#bc639c","#f1a343"]];return INSTANCE.xpos=0,INSTANCE.ypos=0,INSTANCE.target_xpos=0,INSTANCE.target_ypos=0,INSTANCE.xmove=0,INSTANCE.ymove=0,INSTANCE.x=0,INSTANCE.y=0,INSTANCE.opacity=1,INSTANCE.frame=0,INSTANCE.frames=0,INSTANCE.updateCanvasWidth=function(width){canvas_width=width},INSTANCE.setSpeedAndPace=function(){INSTANCE.xmove=(INSTANCE.target_xpos-INSTANCE.xpos)/INSTANCE.frames,INSTANCE.ymove=(INSTANCE.target_ypos-INSTANCE.ypos)/INSTANCE.frames,INSTANCE.x=INSTANCE.xpos+INSTANCE.frame*INSTANCE.xmove,INSTANCE.y=INSTANCE.ypos+INSTANCE.frame*INSTANCE.ymove},INSTANCE.generateXpos=function(){return Math.round(Math.random()*canvas_width)},INSTANCE.generateGradientCoordinates=function(size){var coordinates=[[],[]];return.5<Math.random()?(coordinates[0][0]=Math.round(Math.random()*size),coordinates[0][1]=size-coordinates[0][0],coordinates[1][0]=.5<Math.random()?0:size,coordinates[1][1]=Math.abs(coordinates[1][0]-size)):(coordinates[0][0]=.5<Math.random()?0:size,coordinates[0][1]=Math.abs(coordinates[0][0]-size),coordinates[1][0]=Math.round(Math.random()*size),coordinates[1][1]=size-coordinates[1][0]),coordinates},INSTANCE.generateGradientSwatches=function(xmidpoint){var index=Math.floor(xmidpoint/(canvas_width/COLOR_GRADIENTS.length)),index=Math.min(index,COLOR_GRADIENTS.length-1);return index=Math.max(index,0),COLOR_GRADIENTS[index]},INSTANCE.avoidCollision=function(size,attempts){attempts=attempts||0;for(var collision=!1,i=0;i<BannerAnimationShape.instances.length;i++)if(Math.abs(BannerAnimationShape.instances[i].xpos-INSTANCE.xpos)<size){INSTANCE.xpos=INSTANCE.generateXpos(),collision=!0;break}collision&&attempts<5&&INSTANCE.avoidCollision(size,++attempts)},INSTANCE.draw=function(context){if(INSTANCE.frame+=BannerAnimationShape.speed,INSTANCE.frame>=INSTANCE.frames)for(var i=BannerAnimationShape.instances.length;i--;)if(BannerAnimationShape.instances[i]===INSTANCE){BannerAnimationShape.instances.splice(i,1);break}},INSTANCE};BannerAnimationShape.settings={density:500},BannerAnimationShape.speed=1,BannerAnimationShape.scale=1,BannerAnimationShape.instances=[],BannerAnimationShape.max_instances=0,BannerAnimationShape.updateCanvasWidth=function(){}