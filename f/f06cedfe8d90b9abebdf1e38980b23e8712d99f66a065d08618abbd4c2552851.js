define("OK/AjaxNavigationLog",["OK/logger"],(function(e){var t,n,r,o,i=!1;function s(e){if(e<0)return null;for(var t=[0,20,40,60,100,160,260,320,580,900],n=0;n<t.length-1;n++){var r=t[n],o=t[n+1];if(e>r&&e<=o)return r+"-"+o}return t[t.length-1]+"+"}function a(e,t){for(var n=t.substring(Math.max(0,t.indexOf("?")+1)).split("&"),r=0;r<n.length;r++){var o=n[r];if(0===o.indexOf(e+"="))return o.substr(e.length+1)}return""}return{log:function(o,c,u){if(i){var l=function(e){for(var n=a("st.cmd",e),r=a("cmd",e),o=0;o<t.length;o++){var i=t[o];if(i.indexOf("_")>-1){var s=i.split("_"),c=s[0],u=s[1];if("*"===c&&r===u)return u;if(n===c&&r===u)return n+"_"+r}else if(n===i)return i}return""}(c);if(l.length>0){e.duration("ajaxrequestdatatime.send.time",o,r+"_"+l,n);var d=(f=o)<100?1:(f>2e3&&(f=2e3),100*~~(f/100));d&&e.success("ad","ajax_"+r+"_"+l,d)}}var f;if(u){var h=u.split(":"),m=h[0],p=Number(h[1])/1e6,g=s(o),v=s(p);g&&v&&(e.success("ajaxrequestdatatime.client.measure",m,g),e.success("ajaxrequestdatatime.server.measure",m,v))}},activate:function(e){var s,a,c;o||(s=e.textContent,a=e.getAttribute("data-region"),c=e.getAttribute("data-countrycode"),n=a,r=c,t=JSON.parse(s),i=!0,o=!0)},deactivate:function(){t.length=0,n="",r="",o=!1}}})),define("OK/utils/screens",{apply:function(e){var t,n;"true"===document.body.getAttribute("data-uic")&&OK.getCurrentDesktopModelId&&(t=OK.getCurrentDesktopModelId(),OK.Layers&&OK.Layers.isAnyLayerOpened()&&(n=t,t=OK.Layers.getTopLayerId()),t&&e.setRequestHeader("OK-Screen",t),n&&e.setRequestHeader("OK-PrevScreen",n))}}),define("OK/utils/utils",["jquery","OK/logger","OK/AjaxNavigationLog","OK/utils/screens"],(function(e,t,n,r){"use strict";var o=document.getElementById("hook_Cfg_GwtExperimentsCfg"),i=o?OK.util.parseJSON(o.innerHTML):{},s="data-";function a(e,t,n){e.split(OK.navigation.SPLITER).forEach((function(e,t){n[t]&&OK.hookModel.setHookContent(n[t],e)}))}function c(r,o,i,s){var a=window.performance.now(),u=e.ajax(r);return s.xhr=u,s.fail((function(){u.abort()})),u.done((function(e,i,c){n.log(window.performance.now()-a,r.url,c.getResponseHeader("X-Render-Time")),e&&c.responseText&&0===e.length&&0!==c.responseText.length&&"[]"!=c.responseText&&(t.error("ajax",i),t.clob("ajax",JSON.stringify({requestData:r,response:c.responseText})));var u=c.getResponseHeader("TKN");u&&OK.tkn.set(u);var l=c.getResponseHeader("Redirect-Location");if(l)return o(l),void s.reject(c,i,"Redirect");OK.util.processCssHeaders(c).then((function(){s.resolve(e,i,c)}))})),u.fail((function(e,t,n){i>0?"timeout"!=t&&r.timeout?setTimeout((function(){c(r,o,--i,s)}),r.timeout):c(r,o,--i,s):s.reject(e,t,n)})),s}function u(e,t,n){var r=n.getResponseHeader(OK.navigation.HEADER);return r?r.split(","):null}function l(e){try{return e.getBoundingClientRect()}catch(e){return{top:0,right:0,bottom:0,left:0,width:0,height:0}}}return{ajax:function(t,n,o){arguments.length>1&&"function"!=typeof arguments[1]&&(o=n,n=void 0),o=o||0,n=n||function(e){OK.navigation.redirect?OK.navigation.redirect(e):document.location.href=decodeURIComponent(e)};var i=t.data||{},s=t.beforeSend;return t.type=t.type||"POST","POST"===t.type&&t.contentType&&-1!=t.contentType.indexOf("application/json")?"string"!=typeof i&&(i=JSON.stringify(i)):i["gwt.requested"]=window.pageCtx.gwtHash,t.data=i,t.beforeSend=function(e,t){e.setRequestHeader("TKN",OK.tkn.get()),e.setRequestHeader("STRD",OK.isStateRedesign()),e.setRequestHeader("STRV",OK.getRedesignVersion()),r.apply(e),s&&s.apply(this,arguments)},c(t,n,o,e.Deferred())},getBlockIds:u,updateBlockModelCallback:function(e,t,n){var r=u(0,0,n);r&&a(e,0,r)},updateBlocks:a,gwtExperimentsCfg:i,removeTags:function(e){return"string"==typeof e?e.replace(/<[^>]*>/g,""):e},isElementInViewport:function(e){var t=l(e);if(t.top<0||t.left<0||t.bottom>window.innerHeight||t.right>window.innerWidth)return!1;var n=(t.right+t.left)/2,r=(t.bottom+t.top)/2;return e.contains(document.elementFromPoint(n,t.top))||e.contains(document.elementFromPoint(t.right,r))||e.contains(document.elementFromPoint(n,t.bottom))||e.contains(document.elementFromPoint(t.left,r))},isElementPartiallyInViewport:function(e,t,n){if(!t)return this.isElementInViewport(e);var r=l(e),o=Math.min(r.bottom,window.innerHeight)-Math.max(0,r.top),i=Math.min(r.right,window.innerWidth)-Math.max(0,r.left),s=e.offsetHeight,a=e.offsetWidth;return s||void 0===n?s*t<=o&&a*t<=i:!n&&null},isElementPartiallyInViewportWithOverlapCheck:function(e,t,n){var r=l(e);if(this.isElementPartiallyInViewport(e,t,n)){var o=(r.right+r.left)/2,i=(r.bottom+r.top)/2;return e.contains(document.elementFromPoint(o,r.top))||e.contains(document.elementFromPoint(r.right,i))||e.contains(document.elementFromPoint(o,r.bottom))||e.contains(document.elementFromPoint(r.left,i))}return!1},extendDeep:function(e){e=e||{};for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var r in n)n.hasOwnProperty(r)&&("object"!=typeof n[r]||Array.isArray(n[r])?e[r]=n[r]:e[r]=this.extendDeep(e[r],n[r]))}return e},urlBase64ToUint8Array:function(e){for(var t=(e+function(e,t){var n="";for(;t-- >0;)n+=e;return n}("=",(4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r},deferred:function(){var e,t;return{promise:new Promise((function(n,r){e=n,t=r})),resolve:e,reject:t}},getAttributesFromElement:function(e,t){"string"==typeof e&&(e=document.getElementById(e));for(var n={},r=0;r<e.attributes.length;r++){var o=e.attributes[r];0==o.name.indexOf(s)&&(n[o.name.substring(s.length)]=o.value)}return t&&e.parentNode.removeChild(e),n},getFormData:function(e,t){var n={},r=Array.prototype.slice.call(e.elements);return t&&(r=r.filter(t)),r.forEach((function(e){var t=e.name;if(t)switch(e.type){case"checkbox":n[t]=e.checked?"on":"off";break;case"radio":e.checked&&(n[t]=e.value);break;default:n[t]=e.value}})),n},parseJson:function(e){var t=e?e.replace(/<!--/gi,"").replace(/-->/gi,""):null;return t?JSON.parse(t):null},positiveId:function(){return OK.util.nextId()||OK.util.nextId()}}})),define("OK/utils/vanilla",["OK/AjaxNavigationLog","OK/utils/screens"],(function(e,t){"use strict";function n(e){var t=[],n=function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];Array.isArray(o)?o.forEach(n.bind(null,r)):n(r,e[r])}return t.join("&")}function r(r,o){var i=r.type||"POST",s=r.data||{},a=r.contentType,c=r.dataType,u=r.responseType,l=r.url||"",d=/^(https?:)?\/\//.test(l),f={xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},h=r.headers||{},m={},p=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,g=r.beforeOpen,v=new XMLHttpRequest;if(o||(o=function(e){OK.navigation.redirect?OK.navigation.redirect(e):document.location.href=decodeURIComponent(e)}),"POST"===i&&"string"!=typeof s)if(r.isFileUpload){h["Content-Type"]="application/octet-stream";var y=(s.name||"1.jpg").replace(/[^\u0000-\u007F]+/gi,"_").substring(0,255);h["Content-Disposition"]='attachment; filename="'+y+'"'}else h["Content-Type"]="application/x-www-form-urlencoded",window.pageCtx.gwtHash&&(s["gwt.requested"]=window.pageCtx.gwtHash),s=n(s);a&&f.hasOwnProperty(a)&&!h.hasOwnProperty("Content-Type")&&(h["Content-Type"]=f[a]),c&&f.hasOwnProperty(c)&&!h.hasOwnProperty("Accept")&&(h.Accept="*"===c?f[c]:f[c]+", */*; q=0.01"),d||h.hasOwnProperty("TKN")||(h.TKN=OK.tkn.get()),d||h.hasOwnProperty("STRD")||(h.STRD=OK.isStateRedesign()),d||h.hasOwnProperty("STRV")||(h.STRV=OK.getRedesignVersion());var b=new Promise((function(n,a){var f=window.performance.now();for(var y in g&&g({xhr:v}),v.open(i,l,!0),h)h.hasOwnProperty(y)&&v.setRequestHeader(y,h[y]);d||t.apply(v),u&&(v.responseType=u),v.onreadystatechange=function(){if(v.readyState===XMLHttpRequest.HEADERS_RECEIVED){for(var t,r=v.getAllResponseHeaders();t=p.exec(r);)m[t[1].toLowerCase()]=t[2];if(!d&&m["redirect-location"])return o(m["redirect-location"]),void a(v,v.statusText,"Redirect")}if(v.readyState===XMLHttpRequest.DONE)if(v.status>=200&&v.status<300||304===v.status){e.log(window.performance.now()-f,l,v.getResponseHeader("X-Render-Time"));var i=u?v.response:v.responseText,s=i;if("json"===c)try{s=JSON.parse(i)}catch(e){a(e)}!d&&m.tkn&&OK.tkn.set(m.tkn),OK.util.processCssHeaders(v).then((function(){n({response:s,xhr:v})}))}else a(v)},v.onerror=function(){a(v)};var b=r.signal;b&&b.addEventListener("abort",(function(){v.abort(),a(v)})),v.send(s)}));return b.xhr=v,b}function o(e){var t=e.getResponseHeader(OK.navigation.HEADER);return t?t.split(","):null}function i(e,t){e.split(OK.navigation.SPLITER).forEach((function(e,n){t[n]&&OK.hookModel.setHookContent(t[n],e)}))}return{ajax:r,getJSON:function(e,t,n){return r(Object.assign({type:"GET",dataType:"json",url:e,data:t},n))},trigger:function(e,t,n){if(e&&3!==e.nodeType&&8!==e.nodeType){var r=document.createEvent("CustomEvent");r.initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)}},encodeHtml:function(e){var t=document.createElement("div");return e.split(" ").map((function(e){return t.innerText=e,t.innerHTML})).join(" ")},extractParams:function(e){var t={},n=e&&e.indexOf("?");return n>-1&&e.substr(n+1).split("&").forEach((function(e){if(e.indexOf("=")>-1){var n=e.split("="),r=n[0],o=n[1];o=decodeURIComponent(o.replace(/\+/g,"%20")),t[r]=o}})),t},stringifyParams:n,getBlockIds:o,updateBlocks:i,updateBlockModelCallback:function(e){var t=o(e.xhr);t&&i(e.response,t)},getFormData:function(e){return Array.prototype.slice.apply(e.getElementsByTagName("input")).reduce((function(e,t){return t.name&&(e[t.name]="checkbox"===t.type?t.checked?"on":"off":t.value),e}),{})},unescapeXml:function(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'")},escapeXml:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},stripTags:function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText},formatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}}})),define("OK/utils/throttle",[],(function(){"use strict";
/*!
     * jQuery throttle / debounce - v1.1 - 3/7/2010
     * http://benalman.com/projects/jquery-throttle-debounce-plugin/
     *
     * Copyright (c) 2010 "Cowboy" Ben Alman
     * Dual licensed under the MIT and GPL licenses.
     * http://benalman.com/about/license/
     */return function(e,t,n,r){var o,i=0;return"boolean"!=typeof t&&(r=n,n=t,t=void 0),function(){var s=this,a=Date.now()-i,c=arguments;function u(){i=Date.now(),n.apply(s,c)}function l(){o=void 0}r&&!o&&u(),o&&clearTimeout(o),void 0===r&&a>e?u():!0!==t&&(o=setTimeout(r?l:u,void 0===r?e-a:e))}}})),define("OK/utils/debounce",["OK/utils/throttle"],(function(e){"use strict";return function(t,n,r){return void 0===r?e(t,n,!1):e(t,r,!1!==n)}})),define("OK/utils/requireBlock",["OK/utils/utils"],(function(e){"use strict";function t(){e.ajax({url:this.getAttribute("data-url")}).done(e.updateBlockModelCallback)}return{activate:function(e){e.addEventListener("click",t)},deactivate:function(e){e.removeEventListener("click",t)}}})),define("OK/utils/dom",[],(function(){"use strict";function e(e,t){if(e){if(11===e.nodeType){for(var n=[],r=0;r<e.childNodes.length;r++){var o=e.childNodes[r];o.getElementsByClassName&&(n=n.concat(Array.prototype.slice.call(o.getElementsByClassName(t))))}return n}return Array.prototype.slice.call(e.getElementsByClassName(t))}return[]}function t(e,t,n,r){for(r||(e=e.parentElement);e;){if(t(e))return e;if(n&&n===e)return null;e=e.parentElement}return e}return{byClass:e,firstByClass:function(t,n){var r=e(t,n);return r.length?r[0]:null},querySelector:function(e,t){return e.querySelector(t)},querySelectorAll:function(e,t){return Array.prototype.slice.call(e.querySelectorAll(t))},parent:function(e,t,n,r){for(r||(e=e.parentElement);e;){if(!t||!e.classList||e.classList.contains(t))return e;if(n&&n===e)return null;e=e.parentElement}return e},traverseParents:t,getParentsAttrValue:function(e,n,r){var o=function(e){return e.getAttribute(n)},i=t(e,o,r,!0);return i?o(i):null},forEach:function(e,t){return Array.prototype.slice.call(e).forEach(t),e},innerHeight:function(e){try{return window.getComputedStyle(e,null).getPropertyValue("height")}catch(t){return e.currentStyle.height}},outerSize:function(e,t,n){var r;if("svg"===e.nodeName){var o=e.getBoundingClientRect();r=t?o.width:o.height}else r=t?e.offsetWidth:e.offsetHeight;if(null!==r){if(n){var i=window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle;r+=t?parseInt(i.marginLeft,10)+parseInt(i.marginRight,10):parseInt(i.marginTop,10)+parseInt(i.marginBottom,10)}return r}return 0},remove:function(e){var t;Array.isArray(e)||(e=[e]),e.forEach((function(e){(t=e.parentNode)&&t.removeChild(e)}))},one:function(e,t,n){e.addEventListener(t,(function e(t){return t.target.removeEventListener(t.type,e),n.call(this,t)}))},removeAllListeners:function(e){var t=e.cloneNode(!0);return e.parentNode.replaceChild(t,e),t}}})),define("OK/utils/delegate",[],(function(){"use strict";function e(t){this.listenerMap=[{},{}],t&&this.root(t),this.handle=e.prototype.handle.bind(this)}e.prototype.root=function(e){var t,n=this.listenerMap;if(this.rootElement){for(t in n[1])n[1].hasOwnProperty(t)&&this.rootElement.removeEventListener(t,this.handle,!0);for(t in n[0])n[0].hasOwnProperty(t)&&this.rootElement.removeEventListener(t,this.handle,!1)}if(!e||!e.addEventListener)return this.rootElement&&delete this.rootElement,this;for(t in this.rootElement=e,n[1])n[1].hasOwnProperty(t)&&this.rootElement.addEventListener(t,this.handle,!0);for(t in n[0])n[0].hasOwnProperty(t)&&this.rootElement.addEventListener(t,this.handle,!1);return this},e.prototype.captureForType=function(e){return-1!==["blur","error","focus","load","resize","scroll"].indexOf(e)},e.prototype.on=function(e,i,s,a){var c,u,l,d;if(!e)throw new TypeError("Invalid event type: "+e);if("function"==typeof i&&(a=s,s=i,i=null),void 0===a&&(a=this.captureForType(e)),"function"!=typeof s)throw new TypeError("Handler must be a type of Function");c=this.rootElement,(u=this.listenerMap[a?1:0])[e]||(c&&c.addEventListener(e,this.handle,a),u[e]=[]),i?/^[a-z]+$/i.test(i)?(d=i,l=n):/^#[a-z0-9\-_]+$/i.test(i)?(d=i.slice(1),l=o):(d=i,l=t):(d=null,l=r.bind(this));var f,h,m=u[e],p=!1;for(f=m.length-1;f>=0;f--)if(h=m[f],!(i&&i!==h.selector||s&&s!==h.handler)){p=!0;break}return p||m.push({selector:i,handler:s,matcher:l,matcherParam:d}),this},e.prototype.off=function(e,t,n,r){var o,i,s,a,c;if("function"==typeof t&&(r=n,n=t,t=null),void 0===r)return this.off(e,t,n,!0),this.off(e,t,n,!1),this;if(s=this.listenerMap[r?1:0],!e){for(c in s)s.hasOwnProperty(c)&&this.off(c,t,n);return this}if(!(a=s[e])||!a.length)return this;for(o=a.length-1;o>=0;o--)i=a[o],t&&t!==i.selector||n&&n!==i.handler||a.splice(o,1);return a.length||(delete s[e],this.rootElement&&this.rootElement.removeEventListener(e,this.handle,r)),this},e.prototype.handle=function(e){var t,n,r,o,i,s,a=e.type,c=[],u="ftLabsDelegateIgnore";if(!0!==e[u]){switch(3===(s=e.target).nodeType&&(s=s.parentNode),r=this.rootElement,e.eventPhase||(e.target!==e.currentTarget?3:2)){case 1:c=this.listenerMap[1][a];break;case 2:this.listenerMap[0]&&this.listenerMap[0][a]&&(c=c.concat(this.listenerMap[0][a])),this.listenerMap[1]&&this.listenerMap[1][a]&&(c=c.concat(this.listenerMap[1][a]));break;case 3:c=this.listenerMap[0][a]}for(n=c.length;s&&n;){for(t=0;t<n&&(o=c[t]);t++)if(o.matcher.call(s,o.matcherParam,s)&&(i=this.fire(e,s,o)),!1===i)return e[u]=!0,void e.preventDefault();if(s===r)break;n=c.length,s=s.parentElement}}},e.prototype.fire=function(e,t,n){return n.handler.call(t,e,t)};var t=function(e){if(e){var t=e.prototype;return t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector}}(Element);function n(e,t){return e.toLowerCase()===t.tagName.toLowerCase()}function r(e,t){return this.rootElement===window?t===document:this.rootElement===t}function o(e,t){return e===t.id}return e.prototype.destroy=function(){this.off(),this.root()},e})),define("OK/utils/copyText",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.copyText=void 0,e.copyText=function(e){var t=document.createElement("textarea");return t.value=e,document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy")?(document.body.removeChild(t),!0):(document.body.removeChild(t),!1)}})),define("OK/cookie",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DAY_MS=e.storeCookie=e.clearCookie=e.readCookie=e.setCookie=void 0;var t=864e5;function n(e,n,r,o,i){var s="";if(0===r)s=";expires=Thu, 01 Jan 1970 00:00:00 GMT";else if(r){r*=t;var a=new Date;a.setTime(a.getTime()+r),s=";expires="+a.toUTCString()}document.cookie=e+"="+encodeURIComponent(n)+s+(o?";path="+o:"")+(i?";domain="+i:"")}e.DAY_MS=t,e.setCookie=n,e.readCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1);if(o.startsWith(t))return o.substring(t.length)}return null},e.clearCookie=function(e,t){n(e,"",0,t)},e.storeCookie=function(e,t,n){document.cookie=e+"="+encodeURIComponent(t)+(n||"")}})),define("OK/utils/environment",["require","exports","OK/cookie"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTouchableMobile=e.isGecko=e.isSeleniumMode=e.isDebug=void 0;var n=window.navigator,r=n.userAgent.toLowerCase(),o=n.platform?n.platform.toLowerCase():"",i=null!==(0,t.readCookie)("_okSat");e.isSeleniumMode=i;var s="true"===(0,t.readCookie)("dme")||null!==document.getElementById("__gwtd__m");e.isDebug=s;var a=r.indexOf("chrome")>-1,c=!a&&(r.indexOf("webkit")>-1||r.indexOf("khtml")>-1),u=c&&r.indexOf("android")>-1,l=c&&r.indexOf("iphone")>-1,d=c&&(r.indexOf("ipad")>-1||o.indexOf("ipad")>-1),f=!c&&!a&&r.indexOf("gecko")>-1;e.isGecko=f;var h=l||d||u;e.isTouchableMobile=h})),define("OK/LogClicks",["OK/logger","OK/utils/dom"],(function(e,t){"use strict";var n,r="data-l",o="data-log-click",i="[data-l],[data-log-click]",s="click",a="log.click",c=null;function u(e,t,n){t&&Object.keys(t).length&&(e.push(t),t.target&&!n.okTarget&&(n.okTarget=t.target))}function l(t){OK.logging.alert(a+" "+t),e.error(a,t)}function d(e){if(!e)return null;var t=e.getAttribute(r);return t||(t=e.getAttribute(o)),t}var f={t:"target",ti:"targetId",mB:"mtBlockType",gA:"groupActionType",fF:"feedFeatures",fP:"feedPosition",fL:"feedLocation",fD:"feedDetails",fO:"feedOwners",fI:"feedId",".r":"remove",rM:"removeMenu",".c":"content",".k":"comment",re:"reshare",".l":"like",e1:"entity1",e2:"entity2",uL:"userLink",gL:"groupLink",".a":"action"};function h(e){var t=-2;try{if(!e||0==e.length||/^{|^null&/i.test(e))return t=-1,JSON.parse(e);t=0;for(var n={},r=!1,o=!0,i="",s="",a="",c=e.length,u=0,d=0,h=0;h<c;h++){t=1;var m=e.charAt(h);r?(r=!1,d++):"\\"==m?(d>0&&(o?(t=2,i+=e.substr(u,d)):(t=3,s+=e.substr(u,d)),d=0),u=h+1,r=!0):","==m?(o?(d>0&&(t=4,i+=e.substr(u,d),d=0),o=!1):(d>0&&(t=5,s+=e.substr(u,d),d=0),o=!0,(a=f[i])&&(i=a),(a=f[s])&&(s=a),n[i]=s,i="",s=""),u=h+1):d++}return t=6,r?l("err: escapeNow - "+e):o?u!=c&&l("err: keyNow - "+e):(u<c&&(t=7,s+=e.substr(u)),(a=f[i])&&(i=a),(a=f[s])&&(s=a),n[i]=s),n}catch(n){return l("unkn err: stepN = "+t+", data = "+e+", e = "+n),{}}}function m(e){if(null==c&&function(){c=0;try{var e,t,r=performance.getEntriesByType("navigation");if(r&&r.length&&(e=(n=r[0]).serverTiming),e&&e.length)for(t=0;t<e.length;t+=1)if("from"===e[t].name){c=e[t].duration;break}}catch(e){c=0}}(),c>0)try{var t=Math.round(performance.now()-n.responseStart+c);e.push({adjustedTime:t})}catch(e){}}function p(t){var n,r,o=!1,a=[];try{(n=d(t.target))&&u(a,h(n),t);for(var c=t.target.parentElement;c;)c.matches(i)&&(n=d(c))&&u(a,h(n),t),c.hasAttribute("data-force")&&(o=!0),c=c.parentElement;a.length&&(m(a),o?(r=JSON.stringify(a),OK.logging.info("click "+r),e.force(s,r)):function(t){OK.logging.info("click "+t),e.success(s,t)}(JSON.stringify(a)))}catch(e){l(e)}}return{activate:function(e){e.addEventListener("click",p,!0),OK.clickLog.incCounter()},deactivate:function(e){e.removeEventListener("click",p,!0),OK.clickLog.decCounter()},getLogDataAsString:d,parseLogData:h,getLogData:function(e){var t=d(e);if(t)return h(t)},updateLogData:function(e,t){var n=r;e.getAttribute(o)&&(n=o);var i=JSON.stringify(t);e.setAttribute(n,i)},copyLogData:function(e,t){var n=r;e.getAttribute(o)&&(n=o),t.setAttribute(n,e.getAttribute(n))},getClosestLogClickElement:function(e){return e.matches(i)?e:t.traverseParents(e,(function(e){return e.matches(i)}))},doLogOnElement:function(e){p({target:e})},LOG_ATTR_SELECTOR:i}})),define("OK/NewsFetchCoordinator",["OK/logger","OK/cookie"],(function(e,t){"use strict";var n,r,o,i,s,a="/push?cmd=PeriodicManager&gwt.requested="+window.pageCtx.gwtHash,c="\x3c!--SP--\x3e",u="\x3c!--SSP--\x3e",l={responseText:"",open:function(){},setRequestHeader:function(){},send:function(){},abort:function(){},getResponseHeader:function(){}},d={pos:0,size:0,adaptive:0,tmzOffset:0,sum:0,values:[],updateDiff:function(e){var t,n=new Date,r=n.getTime()-e;return this.tmzOffset=-n.getTimezoneOffset(),this.values[this.pos++]=r,this.pos%=20,this.sum+=r,this.size<20?this.size++:this.sum-=this.values[this.pos],t=~~(this.sum/this.size),this.adaptive!==t&&(this.adaptive=t,!0)},getTimeZoneHh:function(){var t=~~(this.tmzOffset/30);return(t<-24||t>28)&&e.error("NFCI_TZ"),t},getTimeDiff:function(){return isNaN(this.adaptive)&&e.error("NFCI_TD"),this.adaptive}},f=100,h=5e3,m=0,p=0,g=!1,v=2097152,y=2,b=[],w=0,k=15e4,_=18e4,O=18e4,C=0,E=6e4,S=18e4,x={},L=[],T=null,K=null,I=null,N=!1,A=l,B=0,M=0,H=0,P=0,R=0,D=0,j=0,q=0,F="LP",U=!1,W=!1,z=function(e){return e>=1e3?e=1e3:e>=500?e=500:e>=100?e=100:e>=50?e=50:e>=10&&(e=10),e},J=function(){return"p_sId="+m},V=function(){!N&&te()||X(h)},G=function(){if("SSE"===F){var t=Date.now();if(t-(0===H?E:S)<B)return S=ee(),void(I=setTimeout(G,S));0===H&&(ve("Restore connection"),e.success("push","restoresse")),U||!se(A.responseText||"")?(ce("heartbeat-sse-"+R),e.success("push","chunks",R+"_"+z(D)),e.success("push","chunks-all",R+"_"+z(j)),++R>=y&&(F="LP",M=t),Q(f)):(U=!0,T=setTimeout($,0),I=setTimeout(G,O),e.success("push","check"))}else N=!1,m=0,ce("heartbeat-lp"),Z(f)},X=function(e){clearTimeout(K),K=setTimeout(V,e)},$=function(){0!==H&&(3===A.readyState&&ie(),T=setTimeout($,1e3))},Z=function(e){X(f=e)},Y=function(){clearTimeout(K),K=null,clearTimeout(I),I=null,N=!1,0!==H&&ce("stop-sse"),ge()},Q=function(e){N=!1,K&&X(e)},ee=function(){return"SSE"===F?0==m?_:O:k},te=function(){try{ve("send"),"LP"===F&&C>0&&j>2&&g&&Date.now()-M>C&&(q++,e.success("push","recovery",q+"-"+z(j)),U=!1,R=0,m=0,F="SSE");var t="SSE"===F;if(n){if(n())return!1}else e.error("NFCI_ER","foe-udf");clearTimeout(I),S=ee(),I=setTimeout(G,S),N=!0,r?ne(t):(e.error("NFCI_ER","prc-udf"),Q(h))}catch(t){return N=!1,e.error("NFCI_ER","trc"),!1}return!0},ne=function(t){(A=function(){try{return new window.XMLHttpRequest}catch(t){e.success("push","xhr");try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){return e.error("NFCI_AXO"),l}}}()).open("POST",a+(t?"&sse=true":"")+"&"+J(),!0),A.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),A.setRequestHeader("Cache-Control","no-cache"),A.setRequestHeader("TKN",OK.tkn.get()),t?(A.onreadystatechange=A.onprogress=ie,P=0,D=0,H=1):A.onreadystatechange=re,A.send(function(){var e,t="";for(e in x)x.hasOwnProperty(e)&&(t+=e+"="+x[e]+"&");return(t+="blocks="+L.join(",")+"&")+"p_NLP="+p}()),t&&U&&(clearTimeout(T),T=setTimeout($,0))},re=function(){if(4===A.readyState)if(200===A.status){if(ue(A.getResponseHeader("Redirect-Location")))return e.success("push","redirect"),void Q(h);oe(A),Q(f)}else e.success("push","status",""+A.status),Q(h)},oe=function(e){var t=OK.lss&&OK.lss.isMaster(),n=""+[t?OK.lss.getId():"",e.responseText,e.getResponseHeader("Rendered-Blocks"),e.getResponseHeader("TKN")].join(c);t&&ae(n),r(n,!1)},ie=function(){if(!(A.readyState<3))if(1===H)if(200===A.status){if(ue(A.getResponseHeader("Redirect-Location")))return ce("redirect-sse"),void Q(h);H=2}else ce("status-sse-"+A.status),Q(h);else if(2===H)switch(A.readyState){case 3:se(A.responseText||"");break;case 4:var e=f;0===A.status?e=h:!se(A.responseText||"")&&A.getResponseHeader("Rendered-Blocks")&&oe(A),H=0,Q(e)}},se=function(t){for(var n,o,i,s=!1;~(n=t.indexOf(u,P));)(o=t.substring(P,n))&&(o=""+[(i=OK.lss&&OK.lss.isMaster())?OK.lss.getId():"",o].join(c),i&&ae(o),r(o,!1)),P=n+u.length,B=Date.now(),s=!0,D<1e3&&D++,j<1e3&&j++,R=0;return P>v&&e.success("push","overflow"),s},ae=function(t){try{localStorage.setItem("firePushContent",t)}catch(u){o?o():e.error("NFCI_ER","dop-udf");try{var n=u.message||"",r=t.length,i="pushData";for(var s in localStorage)if(localStorage.hasOwnProperty(s)){var a=localStorage.getItem(s).length;n+="\n"+s+"="+a,a>r&&(r=a,i=s)}var c=r;c=c>3e6?3e6:c>2e6?2e6:c>1e6?1e6:c>5e5?5e5:c>1e5?1e5:c>1e4?1e4:1e3,e.clob("push",n,"NFCI_LSIS_"+i,""+c)}catch(t){e.clob("push",t.stack,"NFCI_LSISE")}}},ce=function(t){"SSE"===F&&(H=0,m=0),A.abort(),e.success("push","abort",t)},ue=function(e){return!!e&&(OK.navigation.redirect?OK.navigation.redirect(e):document.location.href=decodeURIComponent(e),!0)},le=0,de=0,fe=0,he=null,me=function(){var t=Date.now();0!=le&&t-le>de&&I&&(clearTimeout(I),I=setTimeout(G,100),ve("wakeup")),0==le||I||"SSE"!==F||t-S>B&&(n&&n()||e.success("push","noconnection")),le=t},pe=function(e,t){e>0&&OK.lss&&OK.lss.isMaster()?e==fe&&he||(ge(),he=setInterval(me,e)):ge(),fe=e,de=t},ge=function(){he&&(clearInterval(he),he=null)},ve=function(e){var n;((n=t.readCookie("dme"))&&"true"===n.toLowerCase()||document.getElementById("__gwtd__m"))&&console&&console.log(new Date,e)};return{isMaster:function(){return OK.lss&&OK.lss.isMaster()},getClientServerTimeDiff:function(){return d.adaptive},getCurrentServerTime:function(){return Date.now()-this.getClientServerTimeDiff()},updateParam:function(e,t){x[e]=t},addBlock:function(e){L.push(e),i&&i();for(var t=0;t<b.length;t++)if(e===b[t])return;"SSE"===F&&(ce("upd-block-"+e),Q(f))},removeBlock:function(e){var t=L.indexOf(e);t>-1&&L.splice(t,1)},setConfiguration:function(n){var r,o;m=n.p_sId||m,p=n.p_NLP||p,k=n.p_LPR||15e4,f=n.fetchTime||100,h=n.p_DFF||5e3,v=n.p_PSB||2097152,O=n.p_SRT||18e4,_=n.p_SFRRT||18e4,C=n.p_SLPT||0,y=n.p_SMF||2,E=n.p_SWT||6e4,W=!0===n.sTZDc,b=(n.cBlocks||"").split(","),S=ee(),r=!0===n.p_PSE,g!==r&&(R=0,B=0,g&&0!==H&&(Y(),F="LP",Z(f)),F=(g=r)?"SSE":"LP"),n.serverTime&&function(n){try{if(d.updateDiff(n)){var r=d.getTimeZoneHh(),o=d.getTimeDiff();t.setCookie("TZD",r+"."+o,null,"/"),W&&(t.setCookie("TZ",r,null,"/"),t.setCookie("TD",o,null,"/"))}}catch(t){e.error("NFCI_AST")}}(n.serverTime),(o=n.p_CES||0)!==w&&s(w=o),pe(n.p_WDI||0,n.p_WDTL||12e4);var i,a=n.params;if(a)for(i in a)a.hasOwnProperty(i)&&(x[i]=a[i])},init:function(e,t,a,c,u){n=e,r=t,o=a,i=c,s=u,U=!1},getStateParamString:J,scheduleFetch:function(){m=0,Z(f),pe(fe,de)},stopScheduling:Y}})),define("OK/CommentWidgetsController",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addListener=e.unregisterCounter=e.registerCounter=e.setCount=e.updateCount=e.setOpenDiscussionFn=e.getOpenDiscussionFn=e.makeKey=void 0;var t,n={},r=[];function o(e,t){if(!isNaN(t)){var o=n[e];o&&o.count!==t&&(r.forEach((function(n){n.setCountInWidgets(e,t)})),o.count=t)}}function i(e,t){return t+"_"+e}e.makeKey=i,e.getOpenDiscussionFn=function(){return t},e.setOpenDiscussionFn=function(e){t=e},e.updateCount=function(e,t,r){r=parseInt(r,10);var s=i(e,t),a=n[s];if(a&&!isNaN(r)){var c=a.count;"number"!=typeof c||isNaN(c)||o(s,c+r)}},e.setCount=function(e,t,n){o(i(e,t),parseInt(n,10))},e.registerCounter=function(e,t){var r=n[e];t=parseInt(t,10),r||(r=n[e]={counters:0,count:t}),r.counters+=1,o(e,t)},e.unregisterCounter=function(e){var t=n[e];t&&(t.counters-=1,t.counters<1&&delete n[e])},e.addListener=function(e){r.push(e)}})),define("OK/CommentWidgets",["OK/utils/dom"],(function(e){var t,n={},r=function(e,t){return t+"_"+e},o=function(t,r){if(r=parseInt(r,10),!isNaN(r)&&n[t]&&n[t].count!==r){var o=n[t].elements;Array.isArray(o)&&o.forEach((function(o){var i=e.firstByClass(o,"js-count");if(i){e.parent(o,"widget").classList.toggle("__null",r<1),i.classList.toggle("__empty",r<1);var s=n[t].maxCount;i.textContent=s&&r>s?s+"+":r}})),n[t].count=r}};return{setOpenDiscussionFn:function(e){t=e},updateCount:function(e,t,i){i=parseInt(i,10);var s=r(e,t);if(n[s]){var a=n[s].count;void 0===a||isNaN(a)||o(s,a+i)}},setCount:function(e,t,n){n=parseInt(n,10);var i=r(e,t);o(i,n)},add:function(t,o,i){var s=r(t,o),a=e.firstByClass(i,"js-count");if(i&&a){n[s]||(n[s]={maxCount:a.getAttribute("data-maxCount")||1/0,elements:[]});var c=a.textContent.replace(/\s/g,"");if(!isNaN(+c)){var u=parseInt(c,10);isNaN(u)||(n[s].elements&&n[s].elements.push(i),n[s].count=u)}}},remove:function(e,t,o){var i=r(e,t),s=n[i];if(s&&o){var a=s.elements,c=a?a.indexOf(o):-1;c>-1&&(a.splice(c,1),0===a.length&&delete n[i])}},clickHandler:function(e){if(e.preventDefault(),t){var n=parseInt(this.getAttribute("data-id"),10),r=parseInt(this.getAttribute("data-type"),10),o=this.getAttribute("data-location");t(n,r,o)}},activate:function(e){if(e){var t=parseInt(e.getAttribute("data-id"),10),n=parseInt(e.getAttribute("data-type"),10),r="false"!==e.getAttribute("data-bind");this.add(t,n,e),r&&e.addEventListener("click",this.clickHandler)}},deactivate:function(e){e&&(e.removeEventListener("click",this.clickHandler),this.remove(parseInt(e.getAttribute("data-id"),10),parseInt(e.getAttribute("data-type"),10),e))}}})),define("OK/ReshareWidgetsController",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addListener=e.unregisterCounter=e.registerCounter=e.setCount=e.makeKey=void 0;var t={},n=[];function r(e,r){if(!isNaN(r)){var o=t[e];o&&o.count!==r&&(n.forEach((function(t){t.setCountInWidgets(e,r)})),o.count=r)}}function o(e,t,n){return n+"_"+e+"_"+t}e.makeKey=o,e.setCount=function(e,t,n,i){r(o(e,t,n),parseInt(i,10))},e.registerCounter=function(e,n){n=parseInt(n,10);var o=!1,i=t[e];i||(i=t[e]={counters:0,count:n},o=!0),i.counters+=1,(o||n>0)&&r(e,n)},e.unregisterCounter=function(e){var n=t[e];n&&(n.counters-=1,n.counters<1&&delete t[e])},e.addListener=function(e){n.push(e)}})),define("OK/scrollToTop",["OK/utils/dom","OK/utils/throttle"],(function(e,t){"use strict";var n="__bottom",r="__hidden",o="__active",i="__animated",s="__new",a="data-container";function c(){this.button=null,this.container=null}return c.prototype.activate=function(r){this.button=r,this.showBottom=this.button.hasAttribute(a),this.container=this.showBottom?document.getElementById(this.button.getAttribute(a)):window,this.container&&(this.scrollToTopHeight=parseInt(this.button.getAttribute("data-height")||0,10),this.activateHeight=parseInt(this.button.getAttribute("data-activate-height")||500,10),this.scrollToBottomHeight=this.scrollToTopHeight,this.isBottom=this.button.classList.contains(n),this.link=e.firstByClass(this.button,"scroll-arrow_lk"),this.newOnScrollUp=parseInt(this.button.getAttribute("data-check-up")||0,10),this.pauseToNew=parseInt(r.getAttribute("data-max-pause")||0,10),this.onScrollSeenTimer=null,this.scrollStartTime=0,this.lastScrollTopPosition=0,this.useHeightComponentSelector=this.button.getAttribute("data-use-height-component-selector"),this.boundClickHandler=this.onClick.bind(this),this.boundMouseEnterHandler=this.onMouseEnter.bind(this),this.boundMouseLeaveHandler=this.onMouseLeave.bind(this),this.boundScrollHandler=t(10,this.onScroll.bind(this)),this.boundHide=this.hide.bind(this),this.boundHighlightNew=this.highlightNew.bind(this),this.button.addEventListener("click",this.boundClickHandler),this.button.addEventListener("mouseenter",this.boundMouseEnterHandler),this.button.addEventListener("mouseleave",this.boundMouseLeaveHandler),this.button.addEventListener("hideScrollElement",this.boundHide),this.container.addEventListener("scroll",this.boundScrollHandler))},c.prototype.deactivate=function(){this.button.classList.remove(o,i),this.container&&(this.button.addEventListener("click",this.boundClickHandler),this.button.addEventListener("mouseenter",this.boundMouseEnterHandler),this.button.addEventListener("mouseleave",this.boundMouseLeaveHandler),this.button.addEventListener("hideScrollElement",this.boundHide),this.button=null,this.container.removeEventListener("scroll",this.boundScrollHandler))},c.prototype.getScrollTop=function(){return this.container===window?window.pageYOffset:this.container.scrollTop},c.prototype.setScrollTop=function(e){this.container===window?window.scrollTo(0,e):this.container.scrollTop=e},c.prototype.onMouseEnter=function(){this.isBottom&&this.getScrollTop()>=this.scrollToTopHeight&&this.button.classList.remove(r)},c.prototype.onMouseLeave=function(){this.isBottom&&this.button.classList.add(r)},c.prototype.highlightNew=function(){this.button.classList.add(s)},c.prototype.onScroll=function(){if(this.useHeightComponentSelector){var e=document.querySelector(this.useHeightComponentSelector);e&&(this.button.style.top=e.getBoundingClientRect().height+16+"px")}var t=this.getScrollTop(),s=Date.now();this.scrollStartTime&&this.newOnScrollUp&&this.scrollStartTime+this.newOnScrollUp<s?this.newOnScrollUp&&this.lastScrollTopPosition>t&&this.highlightNew():!this.scrollStartTime&&this.newOnScrollUp&&(this.scrollStartTime=s),this.lastScrollTopPosition=t,this.onScrollSeenTimer&&clearTimeout(this.onScrollSeenTimer),this.pauseToNew&&(this.onScrollSeenTimer=setTimeout(this.boundHighlightNew,this.pauseToNew)),t>this.activateHeight+50?(this.button.classList.remove(n,r),this.button.classList.add(o,i),this.isBottom=!1):t<this.activateHeight&&!this.isBottom&&this.hide()},c.prototype.hide=function(){this.button.classList.remove(o)},c.prototype.onClick=function(e){return this.isBottom?(this.setScrollTop(this.scrollToBottomHeight),this.button.classList.remove(n),this.isBottom=!1):(this.scrollToBottomHeight=this.getScrollTop(),this.setScrollTop(this.scrollToTopHeight),this.showBottom&&(this.button.classList.add(n),this.isBottom=!0)),this.onScroll(),this.button.classList.contains(s)&&this.link&&this.link.click(),OK.stop(e)},c})),define("OK/mrg/projects",[],(function(){"use strict";var e,t,n="x-ph__menu_open",r="x-ph__menu_open_right",o="x-ph__menu_open_left";function i(){var i=this;this.toggleMenu=function(e){e.stopPropagation(),clearTimeout(t),t=null,i.box.classList.contains(n)?i.hideMenu():i.showMenu()},this.hideMenu=function(){document.removeEventListener("click",i.hideMenu),i.box.classList.remove(n),i.box.classList.remove(r),i.box.classList.remove(o)},this.showMenu=function(){document.addEventListener("click",i.hideMenu),i.box.classList.add(n),document.documentElement.clientWidth<1200&&e.clientWidth>600?i.box.classList.add(r):i.box.classList.add(o)},this.onMouseOver=function(){clearTimeout(t),t=null},this.onMouseOut=function(){clearTimeout(t),t=setTimeout(i.hideMenu,4e3)}}return i.prototype={activate:function(t){var n=this;this.link=t.querySelector(".portal-headline__menulink"),this.menu=t.querySelector(".portal-headline__menu"),this.box=t,e=document.getElementsByClassName("portal-headline__left")[0],null!==this.link&&null!==this.menu&&null!==this.box&&(this.link.addEventListener("click",n.toggleMenu,!1),this.link.addEventListener("mouseout",n.onMouseOut,!1),this.link.addEventListener("mouseover",n.onMouseOver,!1),this.menu.addEventListener("mouseout",n.onMouseOut,!1),this.menu.addEventListener("mouseover",n.onMouseOver,!1))},deactivate:function(){var e=this;this.link&&(this.link.removeEventListener("click",e.toggleMenu,!1),this.link.removeEventListener("mouseout",e.onMouseOut,!1),this.link.removeEventListener("mouseover",e.onMouseOut,!1)),this.menu&&(this.menu.removeEventListener("mouseout",e.onMouseOut,!1),this.menu.removeEventListener("mouseover",e.onMouseOver,!1)),this.link=this.menu=this.box=null}},i})),define("OK/mrg/Updater",["OK/utils/dom"],(function(e){"use strict";var t=document.head||document.getElementsByTagName("head")[0];function n(){this.counterStorage={}}return n.prototype.createCounter=function(t,n){var r=Number(t.getAttribute("data-timeout")),o=t.getAttribute("data-selector"),i=t.getAttribute("data-name"),s=t.getAttribute("data-url");if(s&&r>0){var a=e.byClass(t,o);this.counterStorage.hasOwnProperty(i)?this.counterStorage[i].counters=this.counterStorage[i].counters.concat(a):(this.counterStorage[i]={extract:n,counters:a,url:s,script:null,timer:null},window[i]=this.process.bind(this,i)),this.update(i),this.counterStorage[i].timer||(this.counterStorage[i].timer=setInterval(this.update.bind(this,i),r))}},n.prototype.removeCounter=function(n){var r=n.getAttribute("data-name"),o=n.getAttribute("data-selector"),i=e.byClass(n,o);if(this.counterStorage.hasOwnProperty(r)){var s=this.counterStorage[r];i.forEach((function(e){var t=s.counters.indexOf(e);-1!==t&&s.counters.splice(t,1)})),s.counters.length||(s.timer&&(clearInterval(s.timer),s.timer=null),s.script&&(t.removeChild(s.script),s.script=null))}},n.prototype.update=function(e){var n=this.counterStorage[e],r=document.createElement("script");r.type="text/javascript",r.src=n.url+"&JSONP_call="+e+"&rnd="+Math.random(),n.script&&t.removeChild(n.script),t.appendChild(r),n.script=r},n.prototype.process=function(e,t){var n=this.counterStorage[e].counters,r=this.counterStorage[e].extract;n.slice().forEach((function(e){var n=r(t,e)||"";e.parentNode.classList.toggle("x-ph__link_ext",!!n),e.textContent=n}))},new n})),define("OK/mrg/counters",["OK/mrg/Updater"],(function(e){"use strict";function t(e,t){var n=t.getAttribute("data-cnt");if(e&&"ok"===e.status&&e.data&&e.data[n]&&(e.data[n]>0||"99+"===e.data[n]))return e.data[n]}return{activate:function(n){e.createCounter(n,t)},deactivate:function(t){e.removeCounter(t)}}})),define("OK/mrg/wamba",["OK/mrg/Updater"],(function(e){"use strict";function t(e){if(e&&e.counter)return e.counter}return{activate:function(n){e.createCounter(n,t)},deactivate:function(t){e.removeCounter(t)}}})),define("OK/HookModel",["OK/utils/utils"],(function(e){var t={},n=e.deferred();return{init:function(e){n.resolve(e)},hookActivated:function(e){var n,r,o=t[e],i=new Promise((function(t,o){var i=OK.hookModel.getHookById(e);i?t(i.getInstance?i.getInstance():void 0):(n=t,r=o)}));return n&&r&&(i.resolve=n,i.reject=r,o&&o.length||(o=[],t[e]=o),o.push(i)),i},removeObserver:function(e,n){var r=t[n];if(r&&r.length){var o=r.indexOf(e);-1!=o&&r.splice(o,1)}},activatedCallback:function(e,n){var r=t[e];r&&(delete t[e],r.forEach((function(e){e.resolve(n)})))},extractHookId:function(e){return e.substring(e.lastIndexOf("_")+1)},createHook:function(e,t){return n.promise.then((function(n){n.createHook(e,t)}))}}})),define("OK/ToolbarBubble",[],(function(){"use strict";var e={},t="notifications__hide",n="notifications__blink",r="notifications__reply",o="notifications__has-icon",i="notifications__emptySmall";function s(e,t){e.classList.add(t)}function a(e,t){e.classList.remove(t)}function c(e,t){return e.classList.contains(t)}function u(e){var t=document.getElementById(e);return t?new f(t):null}function l(t){var n=e[t];if(!n){if(!(n=u(t)))return null;e[t]=n}return n}function d(t){e[t]&&delete e[t]}function f(e){this.bubbleElement=e,this.textElement=e.children[0]||e,this.val=this.textElement.innerHTML&&parseInt(this.textElement.innerHTML,10)||0,this.isLong=e.classList.contains("js-long-counter"),this.isMsgCount=e.classList.contains("js-msg-count"),this.iconEl=e.querySelector(".js-icon")}return f.prototype={hide:function(){this.update(0)},decrease:function(e){this.update(this.val-e)},resetCustomIcon:function(){var e=this.bubbleElement;a(e,r),a(e,i),this.val||s(e,t)},update:function(e){e=e<0?0:e,this.val=e;var o,u=function(e,t){if(t){if(e>999)return"999+"}else if(e>99)return"99+";return e<=0?"":String(e)}(e,this.isLong),l=this.bubbleElement,d=this.textElement;u?d.innerHTML!==u&&(d.innerHTML=u,c(l,t)?(a(l,t),a(l,i)):(s(l,n),setTimeout((function(){a(l,n)}),300))):((o=l).classList.contains(r)||o.classList.contains(i)||s(l,t),d.innerHTML="")},showSmall:function(){a(this.bubbleElement,t),s(this.bubbleElement,i)},resolveCustomIcon:function(e,n,i){if(function(e,n){n&&(s(e,r),a(e,t)),n||a(e,r)}(this.bubbleElement,n),this.update(e),this.iconEl){var c=e<=0&&!n;!function(e,n,r){r?(n.style.backgroundImage="url("+r+")",s(e,o),a(e,t)):a(e,o)}(this.bubbleElement,this.iconEl,c?i:null)}},getCount:function(){return this.val},hasReply:function(){return c(this.bubbleElement,r)},hasIcon:function(){return c(this.bubbleElement,o)},hasBubble:function(){return this.hasReply()||this.getCount()>0||this.hasIcon()},countMsg:function(){return this.isMsgCount}},{wrap:l,unwrap:d,create:u,activate:function(e){var t=e.getAttribute("id");t&&l(t)},deactivate:function(e){var t=e.getAttribute("id");t&&d(t)}}})),define("OK/ToolbarGrowl",["OK/logger","OK/utils/dom"],(function(e,t){"use strict";var n="__active",r="growl",o="click",i="data-id",s=function(){var t,n,o=document.createElement("bootstrap"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(n in i)if(i.hasOwnProperty(n)&&void 0!==o.style[n]){t=i[n];break}return e.success(r,"transition",t),t}(),a=null,c={},u=document.getElementById("msg_toolbar_button"),l=!(!u||!u.getAttribute("data-growl-add-log")),d=!!document.querySelector(".js-msg-ok"),f=!!document.querySelector(".js-msg-tt");function h(e){return e&&parseInt(e.getAttribute("data-time"),10)||0}function m(){return!(OK.Layers&&OK.Layers.isAnyLayerOpened()||document.getElementById("CallApplication")||document.querySelector(".discovery-menu.with-search.__search-wide")||"appMain"===OK.getCurrentDesktopModelId())}function p(e){return t.firstByClass(e,"growl_close")}function g(e){this.hookId=e,this.hidden=!0,this.stash=null}return g.showAny=function(){var e,t;if(!a)for(e in c)if(c.hasOwnProperty(e)&&(t=c[e]).hidden&&(t.show(),!t.hidden))break},g.hideAll=function(){a&&a.hide()},g.destroyByLayerId=function(e){var t=c[e];t&&t.destroy()},g.getByLayerId=function(e){return c[e]},g.prototype={activate:function(e){this.hook=this.getContentHook(),this.layerId=e.getAttribute("data-layer"),this.exclusive="true"===e.getAttribute("data-exclusive"),this.priority=parseInt(e.getAttribute("data-priority"),10)||0,c[this.layerId]=this,this.hook&&(this.elem=this.hook.element.firstChild,this.elem&&(this.activateGrowl(),this.id=this.elem.getAttribute(i),this.time=h(this.elem))),this.show()},activateGrowl:function(){var e=p(this.elem);e&&e.addEventListener(o,this)},deactivateGrowl:function(){var e=p(this.elem);e&&e.removeEventListener(o,this)},show:function(){if(this.id&&m.call(this)){if(a){if(this.priority<=a.priority)return;e.success(r,"replace",this.layerId),a.hide()}if(this.elem.classList.add(n),this.hidden=!1,a=this,e.success(r,"show","music_app"===this.layerId?this.layerId+"-"+this.id:this.layerId),"messages"===this.layerId&&l){var t=f?"tt":d?"ok":"unknown";return e.success("messagesLayer","growl",t)}}},hide:function(){this.elem&&(this.elem.classList.remove(n),this.hidden=!0,this===a&&(a=null))},destroy:function(){this.elem&&(this.deactivateGrowl(),this.hide(),this.id=null,this.time=null,this.elem=null)},setNewContent:function(t){var n,o,a=this,c=function(e){var t=document.createElement("div");return t.innerHTML=e,t.children.length?t.children[0]:null}(t);if(OK.Layers&&OK.Layers.isLayerOpened(a.layerId))e.success(r,"ignore");else if(c){if(n=c.getAttribute(i),o=h(c),this.exclusive&&this.id&&this.id!==n)return;if(a.id===n&&a.time===o)return void e.success(r,"equal",1);a.hidden?this.setNewGrowl(t,n,o):(this.stash={html:t,id:n,time:o},this.elem.addEventListener(s,this,!1),a.destroy())}else a.destroy(),g.showAny()},applyNewContent:function(){this.hidden=!0,null===this.stash?OK.hookModel.setHookContent(this.getContentHookId(),""):(this.setNewGrowl(this.stash.html,this.stash.id,this.stash.time),e.success(r,"replace"),this.stash=null)},setNewGrowl:function(t,n,o){if(this.id!==n||this.time!==o){var i=this.getContentHook();OK.hookModel.setHookContent(i.id,t),this.elem=i.element.firstChild,this.id=n,this.time=o,this.activateGrowl(),setTimeout(this.show.bind(this),30)}else e.success(r,"equal",2)},handleEvent:function(e){var t=e.type;t===o?(this.time>this.crossTime&&(this.crossTime=this.time),this.destroy(),g.showAny()):t===s&&"opacity"===e.propertyName&&(e.target.removeEventListener(s,this),this.applyNewContent())},getContentHookId:function(){return this.hookId+"_Content"},getContentHook:function(){return this.hook||(this.hook=OK.hookModel.getHookById(this.getContentHookId())),this.hook}},g})),define("OK/css-loader",[],(function(){"use strict";function e(e,t,n){for(var r=document.getElementsByTagName("link"),o=0,i=r.length;o<i;o++)if(r[o].getAttribute("href")===e)return void(n&&n(r[o]));var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.href=e,n&&(s.addEventListener("load",(function(){n(e)})),s.addEventListener("error",(function(e){n.error(e)}))),(document.head||document.getElementsByTagName("head")[0]).appendChild(s)}return{load:e,activate:function(t){var n=t.getAttribute("data-url");n&&e(n)}}})),define("OK/banners/StickyBannerContainer",["OK/utils/throttle"],(function(e){"use strict";var t,n=OK.topPanelHeight()+12,r={};function o(e){if(this.hookEl=e,e&&e.hasChildNodes()){var t=e.getElementsByClassName("banner-sticky-container");this.bannerContainer=t.length>0?t[0]:e.firstElementChild}this.currBannerContainerMinHeight=0,this.doReflow()}function i(){for(var e in r){if(r.hasOwnProperty(e))r[e].doReflow()}}return o.prototype.doReflow=function(){if(this.bannerContainer){var e=this.bannerContainer.clientHeight;if(this.currBannerContainerMinHeight!==e&&(this.hookEl.style.minHeight=e+"px",this.currBannerContainerMinHeight=e),this.hookEl.getBoundingClientRect().top<=n){var t=document.getElementById("footer").getBoundingClientRect();this.bannerContainer.style.position="fixed",e+n+12<t.top?(this.bannerContainer.style.top=n+"px",this.bannerContainer.style.bottom="auto"):(this.bannerContainer.style.top="auto",this.bannerContainer.style.bottom=document.documentElement.clientHeight-t.top+"px")}else this.bannerContainer.style.position="static"}},{activate:function(n){n&&n.id&&(r[n.id]=new o(n),t||(t=e(10,i),window.addEventListener("scroll",t,!1),window.addEventListener("resize",t,!1)))},deactivate:function(e){e&&e.id&&(delete r[e.id],0===Object.keys(r).length&&(window.removeEventListener("scroll",t,!1),window.removeEventListener("resize",t,!1),t=null))}}})),define("OK/banners/SmokescreenImgStyle",[],(function(){function e(e){this.bannerPlace=e,this.stylesheetEl=null,this.styleData=[]}return e.prototype={updateStylesheet:function(e){if(this.stylesheetEl){var t=this.stylesheetEl.sheet;if(t){for(var n=t.cssRules.length-1;n>=0;n--)t.deleteRule(0);var r="",o=this.styleData;for(n=0;n<o.length;n++){var i="b-img-"+this.bannerPlace+n,s=o[n].width,a=o[n].height;s>90&&(a=90*a/s,s=90),r="."+e.transform(i)+" {width: "+s+"px; height: "+a+"px; background: url('"+o[n].imgSrc+"') no-repeat;} ",t.insertRule(r,n)}this.styleData=[]}}},registerImageStyle:function(e,t,n){var r=this.styleData.length;return this.styleData.push({width:e,height:t,imgSrc:n}),r},createStyleEl:function(){var e=document.createElement("style");this.stylesheetEl=document.head.appendChild(e)}},e})),define("mrg-smokescreen/Utils",[],(function(){var e,t=!1;try{t="http://example.com/"===new URL("http://example.com/").href}catch(e){}function n(e,t){return Math.random()*(t-e+1)+e|0}var r=function(e){return Array.prototype.slice.call(e)};return{random:n,calcString:function(t,r){if(t=parseInt(t,10),function(){if(void 0===e)try{if("function"==typeof window.getComputedStyle){var t=document.createElement("div");t.style.height="calc(30px + 30px)",document.getElementsByTagName("body")[0].appendChild(t),e="60px"===window.getComputedStyle(t,null).getPropertyValue("height"),t.parentNode.removeChild(t)}}catch(t){e=!1}return e}()){for(var o=[],i=0,s=0,a=n(1,6);s<a;s++)o.push(n(-100,100)),i+=o[o.length-1];return i!==t&&o.push(t-i),"calc("+o.map((function(e){return e.toString()+r})).join(" + ")+")"}return t+r},replaceUrl:function(e,n,r){if(t&&n){var o,i=e.charAt(0),s='"'===i||"'"===i,a=0+s;o=r?e.indexOf((s?i:"")+")"):s?e.indexOf(i,a+1):e.length;var c=e.slice(a,o);try{c=new URL(c,n).href}catch(e){}return e.slice(0,a)+c+e.slice(o)}return e},replaceContent:function(e){var t=e.charAt(0),n='"'===t||"'"===t,r=Number(n),o=n?e.indexOf(t,r):e.indexOf(";",r),i=e.slice(r,o),s="";if(/^\\[a-z0-9]+$/.test(i)||!n)s=i;else for(var a=0;a<i.length;a++){var c=i[a].charCodeAt(0);isNaN(c)||(s+="\\"+c.toString(16))}return e.slice(0,r)+s+e.slice(o)},iterate:function(e,t,n){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&"length"!==r&&t.call(n||this,e[r],r)},extend:function(){var e=r(arguments),t=e.shift();return e.forEach((function(e){for(var n in e)t[n]=e[n]})),t},merge:function(){var e=r(arguments),t=e.shift();return e.forEach((function(e){for(var n in e)t[n]||(t[n]=e[n])})),t},toArray:r,isUrlConstructorExists:function(){return t}}})),define("mrg-smokescreen/StyleSheets.Item",["mrg-smokescreen/Utils"],(function(e){function t(e){e&&this.__rules.push(e)}function n(t,n){this.__style=function(t){var n=document.createElement("style");return n.appendChild(document.createTextNode("")),(t=t||{}).rel="stylesheet",t.type="text/css",t.media=t.media||"screen",e.iterate(t,(function(e,t){e&&n.setAttribute(t,e)})),n}(t),this.__style.__created=!0,this.__rules=[],this.__originalNode=n}function r(){this.__rules.length&&this.__style.appendChild(document.createTextNode(this.__rules.join("\n")))}return n.prototype={constructor:n,insert:function(){t.apply(this,arguments)},insertBlock:function(e,n){t.apply(this,[e+"{"+n+"}"])},setContent:function(e){this.__style.appendChild(document.createTextNode(e))},apply:function(){var e,t,n,o;this.__originalNode&&this.__originalNode.parentNode?(e="id",t=this.__originalNode,n=this.__style,(o=t.getAttribute(e))&&n.setAttribute(e,o),this.__originalNode.parentNode.replaceChild(this.__style,this.__originalNode)):(function(){for(var e=document.styleSheets,t=e.length;t>0;t--){var n=e[t-1];if(n&&n.ownerNode&&n.ownerNode.parentNode)return n.ownerNode.parentNode}}()||document.head).appendChild(this.__style),r.apply(this)},getSheet:function(){return this.__style.sheet}},n})),define("mrg-smokescreen/StyleSheets.NativeParser",["mrg-smokescreen/Utils"],(function(e){var t=/content\s*:\s*/;function n(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}var r=/^(-?\d+)([a-z%]+)$/,o=/\s(?![*+\-/]|[^()]+\)+|\(+)/;function i(i,s,a,c){for(var u,l="",d=s(i.selectorText),f=0;f<i.style.length;f++){var h="important"===i.style.getPropertyPriority(i.style[f])?" !important":"",m=i.style[f];/background-(repeat|position)-[xy]/.test(m)&&(m=m.replace(/-[xy]$/,""));var p=i.style[m]||i.style[n(m)];if(void 0!==p&&p.length||(m=m.replace(/-(value|(ltr|rtl)-source)$/g,""),p=i.style[m]||i.style[n(m)]),void 0===p&&"float"===m&&(p=i.style.cssFloat),void 0!==p&&p.length){if(c.randomize&&c.randomize.length&&c.randomize.indexOf(m)>-1&&d!=i.selectorText){for(var g=p.split(o),v=g.length,y=[];v--;){var b=r.exec(g[v]);y.unshift(b?e.calcString(b[1],b[2]):g[v])}p=y.join(" ")}l+=m+": "+p+h+"; "}}return-1!==l.indexOf("url(")&&(l=function(t,n){var r=!0;return t.split("url(").map((function(t){return r?(r=!1,t):e.replaceUrl(t,n,!0)})).join("url(")}(l,a)),-1!==l.indexOf("content")&&(u=!0,l=l.split(t).map((function(t){return u?(u=!1,t):e.replaceContent(t)})).join("content:")),d+" { "+l+" }"}return{iterate:function(t,n,r,o,s){s=s||{},e.iterate(function(){}