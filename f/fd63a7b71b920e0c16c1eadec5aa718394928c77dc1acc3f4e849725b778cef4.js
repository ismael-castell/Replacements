"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(n){return n<10?"0"+n:n}function this_value(){return this.valueOf()}function quote(string){return rx_escapable.lastIndex=0,rx_escapable.test(string)?'"'+string.replace(rx_escapable,function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,partial,mind=gap,value=holder[key];switch(value&&"object"==typeof value&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),typeof(value="function"==typeof rep?rep.call(holder,key,value):value)){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;i<length;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"==typeof rep)for(length=rep.length,i=0;i<length;i+=1)"string"==typeof rep[i]&&(v=str(k=rep[i],value))&&partial.push(quote(k)+(gap?": ":":")+v);else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v);return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(value,replacer,space){var i;if(indent=gap="","number"==typeof space)for(i=0;i<space;i+=1)indent+=" ";else"string"==typeof space&&(indent=space);if((rep=replacer)&&"function"!=typeof replacer&&("object"!=typeof replacer||"number"!=typeof replacer.length))throw new Error("JSON.stringify");return str("",{"":value})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&((v=walk(value,k))!==undefined?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(a,b){function cy(a){return f.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}function cu(a){var b,d,e;return cj[a]||(b=c.body,e=(d=f("<"+a+">").appendTo(b)).css("display"),d.remove(),"none"!==e&&""!==e||(ck||((ck=c.createElement("iframe")).frameBorder=ck.width=ck.height=0),b.appendChild(ck),cl&&ck.createElement||((cl=(ck.contentWindow||ck.contentDocument).document).write((f.support.boxModel?"<!doctype html>":"")+"<html><body>"),cl.close()),d=cl.createElement(a),cl.body.appendChild(d),e=f.css(d,"display"),b.removeChild(ck)),cj[a]=e),cj[a]}function ct(a,b){var c={};return f.each(cp.concat.apply([],cp.slice(0,b)),function(){c[this]=a}),c}function cs(){cq=b}function cr(){return setTimeout(cs,0),cq=f.now()}function ch(){try{return new a.XMLHttpRequest}catch(b){}}function b$(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e=e||{})[d]=c[d]);e&&f.extend(!0,a,e)}function bZ(a,c,d,e,f,g){(g=g||{})[f=f||c.dataTypes[0]]=!0;for(var l,h=a[f],i=0,j=h?h.length:0,k=a===bS;i<j&&(k||!l);i++)"string"==typeof(l=h[i](c,d,e))&&(l=!k||g[l]?b:(c.dataTypes.unshift(l),bZ(a,c,d,e,l,g)));return l=!(!k&&l||g["*"])?bZ(a,c,d,e,"*",g):l}function bY(a){return function(b,c){if("string"!=typeof b&&(c=b,b="*"),f.isFunction(c))for(var h,j,d=b.toLowerCase().split(bO),e=0,g=d.length;e<g;e++)h=d[e],(j=/^\+/.test(h))&&(h=h.substr(1)||"*"),(a[h]=a[h]||[])[j?"unshift":"push"](c)}}function bB(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e="width"===b?1:0;if(0<d){if("border"!==c)for(;e<4;e+=2)c||(d-=parseFloat(f.css(a,"padding"+bx[e]))||0),"margin"===c?d+=parseFloat(f.css(a,c+bx[e]))||0:d-=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0;return d+"px"}if(((d=by(a,b))<0||null==d)&&(d=a.style[b]),bt.test(d))return d;if(d=parseFloat(d)||0,c)for(;e<4;e+=2)d+=parseFloat(f.css(a,"padding"+bx[e]))||0,"padding"!==c&&(d+=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0),"margin"===c&&(d+=parseFloat(f.css(a,c+bx[e]))||0);return d+"px"}function bo(a){var b=c.createElement("div");return bh.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();"input"===b?bm(a):"script"!==b&&"undefined"!=typeof a.getElementsByTagName&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){"checkbox"!==a.type&&"radio"!==a.type||(a.defaultChecked=a.checked)}function bl(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function bk(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),"object"===(c=b.nodeName.toLowerCase())?b.outerHTML=a.outerHTML:"input"!==c||"checkbox"!==a.type&&"radio"!==a.type?"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(f.expando),b.removeAttribute("_submit_attached"),b.removeAttribute("_change_attached"))}function bj(h,b){if(1===b.nodeType&&f.hasData(h)){var c,d,e,g=f._data(h),h=f._data(b,g),i=g.events;if(i)for(c in delete h.handle,h.events={},i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c,i[c][d]);h.data&&(h.data=f.extend({},h.data))}}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function T(a,b,c){if(b=b||0,f.isFunction(b))return f.grep(a,function(a,d){return!!b.call(a,d,a)===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if("string"==typeof b){var d=f.grep(a,function(a){return 1===a.nodeType});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return 0<=f.inArray(a,b)===c})}function S(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);!h||"queue"!==c&&f._data(a,e)||"mark"!==c&&f._data(a,g)||setTimeout(function(){f._data(a,e)||f._data(a,g)||(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a)if(("data"!==b||!f.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function l(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(k,"-$1").toLowerCase();if("string"==typeof(d=a.getAttribute(e))){try{d="true"===d||"false"!==d&&("null"===d?null:f.isNumeric(d)?+d:j.test(d)?f.parseJSON(d):d)}catch(g){}f.data(a,c,d)}else d=b}return d}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){return void setTimeout(J,1)}e.ready()}}var h,A,B,e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/gi,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},z=d.userAgent,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};return e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,k;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!d&&c.body)return this.context=c,this[0]=c.body,this.selector=a,this.length=1,this;if("string"!=typeof a)return e.isFunction(a)?f.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),e.makeArray(a,this));if(!(g="<"!==a.charAt(0)||">"!==a.charAt(a.length-1)||a.length<3?i.exec(a):[null,a,null])||!g[1]&&d)return(!d||d.jquery?d||f:this.constructor(d)).find(a);if(g[1])return k=(d=d instanceof e?d[0]:d)?d.ownerDocument||d:c,(h=m.exec(a))?e.isPlainObject(d)?(a=[c.createElement(h[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(h[1])]:a=((h=e.buildFragment([g[1]],[k])).cacheable?e.clone(h.fragment):h.fragment).childNodes,e.merge(this,a);if((h=c.getElementById(g[2]))&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}return this.context=c,this.selector=a,this},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return null==a?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();return e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return e.each(this,a,b)},ready:function(a){return e.bindReady(),A.add(a),this},eq:function(a){return-1===(a=+a)?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[1]||{},j=2),"object"==typeof i||e.isFunction(i)||(i={}),k===j&&(i=this,--j);j<k;j++)if(null!=(a=arguments[j]))for(c in a)h=i[c],i!==(f=a[c])&&(l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(h=g?(g=!1,h&&e.isArray(h)?h:[]):h&&e.isPlainObject(h)?h:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f));return i},e.extend({noConflict:function(b){return a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f),e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(!0===a&&!--e.readyWait||!0!==a&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);(e.isReady=!0)!==a&&0<--e.readyWait||(A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready"))}},bindReady:function(){if(!A){if(A=e.Callbacks("once memory"),"complete"===c.readyState)return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=null==a.frameElement}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return"function"===e.type(a)},isArray:Array.isArray||function(a){return"array"===e.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==e.type(a)||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){return"string"==typeof b&&b?(b=e.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):n.test(b.replace(o,"@").replace(p,"]").replace(q,""))?new Function("return "+b)():void e.error("Invalid JSON: "+b)):null},parseXML:function(c){if("string"!=typeof c||!c)return null;var d;try{a.DOMParser?d=(new DOMParser).parseFromString(c,"text/xml"):((d=new ActiveXObject("Microsoft.XMLDOM"))["async"]="false",d.loadXML(c))}catch(g){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||e.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d)if(i){for(f in a)if(!1===c.apply(a[f],d))break}else for(;g<h&&!1!==c.apply(a[g++],d););else if(i){for(f in a)if(!1===c.call(a[f],f,a[f]))break}else for(;g<h&&!1!==c.call(a[g],g,a[g++]););return a},trim:G?function(a){return null==a?"":G.call(a)}:function(a){return null==a?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,d){var c=d||[];return null!=a&&(d=e.type(a),null==a.length||"string"===d||"function"===d||"regexp"===d||e.isWindow(a)?E.call(c,a):e.merge(c,a)),c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if("number"==typeof c.length)for(var f=c.length;e<f;e++)a[d++]=c[e];else for(;c[e]!==b;)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d=[];c=!!c;for(var f=0,g=a.length;f<g;f++)c!==!!b(a[f],f)&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length;if(a instanceof e||j!==b&&"number"==typeof j&&(0<j&&a[0]&&a[j-1]||0===j||e.isArray(a)))for(;i<j;i++)null!=(f=c(a[i],i,d))&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),null!=f&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if("string"==typeof c&&(g=a[c],c=a,a=g),!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};return g.guid=a.guid=a.guid||g.guid||e.guid++,g},access:function(a,c,d,f,g,h,i){var j,k=null==d,l=0,m=a.length;if(d&&"object"==typeof d){for(l in d)e.access(a,c,l,d[l],1,h,f);g=1}else if(f!==b){if(j=i===b&&e.isFunction(f),c=k?j?(j=c,function(a,b,c){return j.call(e(a),c)}):(c.call(a,f),null):c)for(;l<m;l++)c(a[l],d,j?f.call(a[l],l,c(a[l],d)):f,i);g=1}return g?a:k?c.call(a):m?c(a[0],d):h},now:function(){return(new Date).getTime()},uaMatch:function(b){b=b.toLowerCase();b=r.exec(b)||s.exec(b)||t.exec(b)||b.indexOf("compatible")<0&&u.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),(a.fn.constructor=a).sub=this.sub,a.fn.init=function(d,f){return f&&f instanceof e&&!(f instanceof a)&&(f=a(f)),e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),(z=e.uaMatch(z)).browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){"complete"===c.readyState&&(c.detachEvent("onreadystatechange",B),e.ready())}),e}(),g={};f.Callbacks=function(a){a=a?g[a]||function(a){for(var b=g[a]={},c=0,d=(a=a.split(/\s+/)).length;c<d;c++)b[a[c]]=!0;return b}(a):{};var e,i,j,k,l,m,c=[],d=[],n=function(b){for(var g,h,d=0,e=b.length;d<e;d++)g=b[d],"array"===(h=f.type(g))?n(g):"function"!==h||a.unique&&p.has(g)||c.push(g)},o=function(b,f){for(f=f||[],e=!a.memory||[b,f],j=i=!0,m=k||0,k=0,l=c.length;c&&m<l;m++)if(!1===c[m].apply(b,f)&&a.stopOnFalse){e=!0;break}j=!1,c&&(a.once?!0===e?p.disable():c=[]:d&&d.length&&(e=d.shift(),p.fireWith(e[0],e[1])))},p={add:function(){var a;return c&&(a=c.length,n(arguments),j?l=c.length:e&&!0!==e&&(k=a,o(e[0],e[1]))),this},remove:function(){if(c)for(var b=arguments,d=0,e=b.length;d<e;d++)for(var f=0;f<c.length&&(b[d]!==c[f]||(j&&f<=l&&(l--,f<=m&&m--),c.splice(f--,1),!a.unique));f++);return this},has:function(a){if(c)for(var b=0,d=c.length;b<d;b++)if(a===c[b])return!0;return!1},empty:function(){return c=[],this},disable:function(){return c=d=e=b,this},disabled:function(){return!c},lock:function(){return d=b,e&&!0!==e||p.disable(),this},locked:function(){return!d},fireWith:function(b,c){return d&&(j?a.once||d.push([b,c]):a.once&&e||o(b,c)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p};var i=[].slice;f.extend({Deferred:function(a){var j,b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){return i.done(a).fail(b).progress(c),this},always:function(){return i.done.apply(i,arguments).fail.apply(i,arguments),this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var g,c=b[0],e=b[1];f.isFunction(c)?i[a](function(){(g=c.apply(this,arguments))&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(null==a)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({});for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;return i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i),i},when:function(a){var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(1<d){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(function(a){return function(c){b[a]=1<arguments.length?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}(c),j.reject,function(a){return function(b){e[a]=1<arguments.length?i.call(arguments,0):b,j.notifyWith(k,e)}}(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,g,h,i,j,k,m,n,o,p=c.createElement("div");c.documentElement;if(p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",i=p.getElementsByTagName("*"),j=p.getElementsByTagName("a")[0],!i||!i.length||!j)return{};h=(g=c.createElement("select")).appendChild(c.createElement("option")),i=p.getElementsByTagName("input")[0],b={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(j.getAttribute("style")),hrefNormalized:"/a"===j.getAttribute("href"),opacity:/^0.55/.test(j.style.opacity),cssFloat:!!j.style.cssFloat,checkOn:"on"===i.value,optSelected:h.selected,getSetAttribute:"t"!==p.className,enctype:!!c.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==c.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},f.boxModel=b.boxModel="CSS1Compat"===c.compatMode,i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete p.test}catch(r){b.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){b.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),(i=c.createElement("input")).value="t",i.setAttribute("type","radio"),b.radioValue="t"===i.value,i.setAttribute("checked","checked"),i.setAttribute("name","t"),p.appendChild(i),(j=c.createDocumentFragment()).appendChild(p.lastChild),b.checkClone=j.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,j.removeChild(i),j.appendChild(p),p.attachEvent)for(n in{submit:1,change:1,focusin:1})m="on"+n,o=m in p,o||(p.setAttribute(m,"return;"),o="function"==typeof p[m]),b[n+"Bubbles"]=o;return j.removeChild(p),j=g=p=i=null,f(function(){var l,d,g,j,e,u=c.getElementsByTagName("body")[0];u&&(j=(e="padding:0;margin:0;border:")+"0;visibility:hidden;",d="style='"+(g="position:absolute;top:0;left:0;width:1px;height:1px;")+e+"5px solid #000;",(d=c.createElement("div")).style.cssText=j+"width:0;height:0;position:static;top:0;margin-top:1px",u.insertBefore(d,u.firstChild),p=c.createElement("div"),d.appendChild(p),p.innerHTML="<table><tr><td style='"+e+"0;display:none'></td><td>t</td></tr></table>",k=p.getElementsByTagName("td"),o=0===k[0].offsetHeight,k[0].style.display="",k[1].style.display="none",b.reliableHiddenOffsets=o&&0===k[0].offsetHeight,a.getComputedStyle&&(p.innerHTML="",(l=c.createElement("div")).style.width="0",l.style.marginRight="0",p.style.width="2px",p.appendChild(l),b.reliableMarginRight=0===(parseInt((a.getComputedStyle(l,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof p.style.zoom&&(p.innerHTML="",p.style.width=p.style.padding="1px",p.style.border=0,p.style.overflow="hidden",p.style.display="inline",p.style.zoom=1,b.inlineBlockNeedsLayout=3===p.offsetWidth,p.style.display="block",p.style.overflow="visible",p.innerHTML="<div style='width:5px;'></div>",b.shrinkWrapBlocks=3!==p.offsetWidth),p.style.cssText=g+j,p.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",g=(e=p.firstChild).firstChild,j=e.nextSibling.firstChild.firstChild,j={doesNotAddBorder:5!==g.offsetTop,doesAddBorderForTableAndCells:5===j.offsetTop},g.style.position="fixed",g.style.top="20px",j.fixedPosition=20===g.offsetTop||15===g.offsetTop,g.style.position=g.style.top="",e.style.overflow="hidden",e.style.position="relative",j.subtractsBorderForOverflowNotVisible=-5===g.offsetTop,j.doesNotIncludeMarginInBodyOffset=1!==u.offsetTop,a.getComputedStyle&&(p.style.marginTop="1%",b.pixelMargin="1%"!==(a.getComputedStyle(p,null)||{marginTop:0}).marginTop),"undefined"!=typeof d.style.zoom&&(d.style.zoom=1),u.removeChild(d),l=p=d=null,f.extend(b,j))}),b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return!!(a=a.nodeType?f.cache[a[f.expando]]:a[f.expando])&&!m(a)},data:function(a,c,d,e){if(f.acceptData(a)){var i,j=f.expando,k="string"==typeof c,l=a.nodeType,h=l?f.cache:a,g=l?a[j]:a[j]&&j,o="events"===c;if(g&&h[g]&&(o||e||h[g].data)||!k||d!==b)return g||(l?a[j]=g=++f.uuid:g=j),h[g]||(h[g]={},l||(h[g].toJSON=f.noop)),"object"!=typeof c&&"function"!=typeof c||(e?h[g]=f.extend(h[g],c):h[g].data=f.extend(h[g].data,c)),g=h=h[g],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d),o&&!h[c]?g.events:(k?null==(i=h[c])&&(i=h[f.camelCase(c)]):i=h,i)}},removeData:function(a,b,c){if(f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(j[k]){if(b&&(d=c?j[k]:j[k].data)){for((e=0,g=(b=!f.isArray(b)?b in d?[b]:(b=f.camelCase(b))in d?[b]:b.split(" "):b).length);e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}(c||(delete j[k].data,m(j[k])))&&(f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null))}}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return!0!==b&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h,i,j=this[0],k=0,m=null;if(a!==b)return"object"==typeof a?this.each(function(){f.data(this,a)}):((d=a.split(".",2))[1]=d[1]?"."+d[1]:"",e=d[1]+"!",f.access(this,function(c){return c===b?((m=this.triggerHandler("getData"+e,[d[0]]))===b&&j&&(m=f.data(j,a),m=l(j,a,m)),m===b&&d[1]?this.data(d[0]):m):(d[1]=c,void this.each(function(){var b=f(this);b.triggerHandler("setData"+e,d),f.data(this,a,c),b.triggerHandler("changeData"+e,d)}))},null,c,1<arguments.length,null,!1));if(this.length&&(m=f.data(j),1===j.nodeType&&!f._data(j,"parsedAttrs"))){for(i=(g=j.attributes).length;k<i;k++)0===(h=g[k].name).indexOf("data-")&&(h=f.camelCase(h.substring(5)),l(j,h,m[h]));f._data(j,"parsedAttrs",!0)}return m},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&f._data(a,b=(b||"fx")+"mark",(f._data(a,b)||0)+1)},_unmark:function(e,b,c){var d;!0!==e&&(c=b,b=e,e=!1),b&&(d=(c=c||"fx")+"mark",(e=e?0:(f._data(b,d)||1)-1)?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark")))},queue:function(a,b,c){var d;if(a)return d=f._data(a,b=(b||"fx")+"queue"),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};(d="inprogress"===d?c.shift():d)&&("fx"===b&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?f.queue(this[0],a):c===b?this:this.each(function(){var b=f.queue(this,a,c);"fx"===a&&"inprogress"!==b[0]&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){return a=f.fx&&f.fx.speeds[a]||a,this.queue(b=b||"fx",function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}"string"!=typeof a&&(c=a,a=b),a=a||"fx";for(var l,d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark";g--;)(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))&&(h++,l.add(m));return m(),d.promise(c)}});var w,x,y,o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute;f.fn.extend({attr:function(a,b){return f.access(this,f.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,f.prop,a,b,1<arguments.length)},removeProp:function(a){return a=f.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(p),c=0,d=this.length;c<d;c++)if(1===(e=this[c]).nodeType)if(e.className||1!==b.length){for(g=" "+e.className+" ",h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}else e.className=a;return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(p),d=0,e=this.length;d<e;d++)if(1===(g=this[d]).nodeType&&g.className)if(a){for(h=(" "+g.className+" ").replace(o," "),i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className="";return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return f.isFunction(a)?this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"==c)for(var e,g=0,h=f(this),i=b,j=a.split(p);e=j[g++];)i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e);else"undefined"!=c&&"boolean"!=c||(this.className&&f._data(this,"__className__",this.className),this.className=!this.className&&!1!==a&&f._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&-1<(" "+this[c].className+" ").replace(o," ").indexOf(b))return!0;return!1},val:function(a){var c,d,e,g=this[0];return arguments.length?(e=f.isFunction(a),this.each(function(d){var h=f(this);1===this.nodeType&&(null==(h=e?a.call(this,d,h.val()):a)?h="":"number"==typeof h?h+="":f.isArray(h)&&(h=f.map(h,function(a){return null==a?"":a+""})),(c=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()])&&"set"in c&&c.set(this,h,"value")!==b||(this.value=h))})):g?(c=f.valHooks[g.type]||f.valHooks[g.nodeName.toLowerCase()])&&"get"in c&&(d=c.get(g,"value"))!==b?d:"string"==typeof(d=g.value)?d.replace(q,""):null==d?"":d:void 0}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var c,d,b,g=a.selectedIndex,h=[],i=a.options,j="select-one"===a.type;if(g<0)return null;for(c=j?g:0,d=j?g+1:i.length;c<d;c++)if((b=i[c]).selected&&(f.support.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!f.nodeName(b.parentNode,"optgroup"))){if(b=f(b).val(),j)return b;h.push(b)}return j&&!h.length&&i.length?f(i[g]).val():h},set:function(a,b){var c=f.makeArray(b);return f(a).find("option").each(function(){this.selected=0<=f.inArray(f(this).val(),c)}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return e&&c in f.attrFn?f(a)[c](d):"undefined"==typeof a.getAttribute?f.prop(a,c,d):((i=1!==i||!f.isXMLDoc(a))&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w)),d!==b?null===d?void f.removeAttr(a,c):h&&"set"in h&&i&&(g=h.set(a,d,c))!==b?g:(a.setAttribute(c,""+d),d):!(h&&"get"in h&&i&&null!==(g=h.get(a,c)))&&null===(g=a.getAttribute(c))?b:g)},removeAttr:function(a,b){var c,d,e,g,h,i=0;if(b&&1===a.nodeType)for(g=(d=b.toLowerCase().split(p)).length;i<g;i++)(e=d[i])&&(c=f.propFix[e]||e,(h=u.test(e))||f.attr(a,e,""),a.removeAttribute(v?e:c),h&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&"radio"===b&&f.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return w&&f.nodeName(a,"button")?w.get(a,b):b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return(1!==i||!f.isXMLDoc(a))&&(c=f.propFix[c]||c,g=f.propHooks[c]),d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&null!==(e=g.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return!0===e||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&!1!==d.nodeValue?c.toLowerCase():b},set:function(a,d,c){return!1===d?f.removeAttr(a,c):((d=f.propFix[c]||c)in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},v||(y={name:!0,id:!0,coords:!0},w=f.valHooks.button={get:function(d,c){d=d.getAttributeNode(c);return d&&(y[c]?""!==d.nodeValue:d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);return e||(e=c.createAttribute(d),a.setAttributeNode(e)),e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){w.set(a,b=""===b?"false":b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(d){d=d.getAttribute(c,2);return null===d?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(b){b=b.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=0<=f.inArray(f(a).val(),b)}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/(?:^|\s)hover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,m,n,o,p,r,s;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(h=f._data(a)))for(d.handler&&(d=(p=d).handler,g=p.selector),d.guid||(d.guid=f.guid++),(j=h.events)||(h.events=j={}),(i=h.handle)||(h.handle=i=function(a){return void 0===f||a&&f.event.triggered===a.type?b:f.event.dispatch.apply(i.elem,arguments)},i.elem=a),c=f.trim(I(c)).split(" "),k=0;k<c.length;k++)m=(r=A.exec(c[k])||[])[1],n=(r[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:r[1],data:e,handler:d,guid:d.guid,selector:g,quick:g&&function(b){b=F.exec(b);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b}(g),namespace:n.join(".")},p),(r=j[m])||((r=j[m]=[]).delegateCount=0,s.setup&&!1!==s.setup.call(a,e,n,i)||(a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i))),s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0},global:{},remove:function(a,b,c,d,e){var h,j,k,l,m,n,o,p,q,r,s,g=f.hasData(a)&&f._data(a);if(g&&(o=g.events)){for(b=f.trim(I(b||"")).split(" "),h=0;h<b.length;h++)if(j=k=(m=A.exec(b[h])||[])[1],l=m[2],j){for(p=f.event.special[j]||{},m=(r=o[j=(d?p.delegateType:p.bindType)||j]||[]).length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,n=0;n<r.length;n++)s=r[n],!e&&k!==s.origType||c&&c.guid!==s.guid||l&&!l.test(s.namespace)||d&&d!==s.selector&&("**"!==d||!s.selector)||(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));0===r.length&&m!==r.length&&(p.teardown&&!1!==p.teardown.call(a,l)||f.removeEvent(a,j,g.handle),delete o[j])}else for(j in o)f.event.remove(a,j+b[h],c,d,!0);f.isEmptyObject(o)&&((q=g.handle)&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||3!==e.nodeType&&8!==e.nodeType){var j,k,l,m,n,o,q,r,s,h=c.type||c,p=[];if(!E.test(h+f.event.triggered)&&(0<=h.indexOf("!")&&(h=h.slice(0,-1),k=!0),0<=h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),e&&!f.event.customEvent[h]||f.event.global[h]))if((c="object"==typeof c?c[f.expando]?c:new f.Event(h,c):new f.Event(h)).type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=p.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"",e){if(c.result=b,c.target||(c.target=e),(d=null!=d?f.makeArray(d):[]).unshift(c),!(p=f.event.special[h]||{}).trigger||!1!==p.trigger.apply(e,d)){if(r=[[e,p.bindType||h]],!g&&!p.noBubble&&!f.isWindow(e)){for(s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],(q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"))&&q.apply(m,d),(q=o&&m[o])&&f.acceptData(m)&&!1===q.apply(m,d)&&c.preventDefault();return c.type=h,g||c.isDefaultPrevented()||p._default&&!1!==p._default.apply(e.ownerDocument,d)||"click"===h&&f.nodeName(e,"a")||!f.acceptData(e)||!o||!e[h]||("focus"===h||"blur"===h)&&0===c.target.offsetWidth||f.isWindow(e)||((n=e[o])&&(e[o]=null),e[f.event.triggered=h](),f.event.triggered=b,n&&(e[o]=n)),c.result}}else for(l in j=f.cache)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0)}},dispatch:function(c){c=f.event.fix(c||a.event);var k,l,m,n,o,p,q,r,s,t,d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=f.event.special[c.type]||{},j=[];if((g[0]=c).delegateTarget=this,!i.preDispatch||!1!==i.preDispatch.call(this,c)){if(e&&(!c.button||"click"!==c.type))for((n=f(this)).context=this.ownerDocument||this,m=c.target;m!=this;m=m.parentNode||this)if(!0!==m.disabled){for(p={},r=[],n[0]=m,k=0;k<e;k++)p[t=(s=d[k]).selector]===b&&(p[t]=s.quick?function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))}(m,s.quick):n.is(t)),p[t]&&r.push(s);r.length&&j.push({elem:m,matches:r})}for(d.length>e&&j.push({elem:this,matches:d.slice(e)}),k=0;k<j.length&&!c.isPropagationStopped();k++)for(q=j[k],c.currentTarget=q.elem,l=0;l<q.matches.length&&!c.isImmediatePropagationStopped();l++)s=q.matches[l],(h||!c.namespace&&!s.namespace||c.namespace_re&&c.namespace_re.test(s.namespace))&&(c.data=s.data,c.handleObj=s,(o=((f.event.special[s.origType]||{}).handle||s.handler).apply(q.elem,g))===b||!1===(c.result=o)&&(c.preventDefault(),c.stopPropagation()));return i.postDispatch&&i.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var f,g,h=d.button,i=d.fromElement;return null==a.pageX&&null!=d.clientX&&(f=(g=a.target.ownerDocument||c).documentElement,g=g.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),a.which||h===b||(a.which=1&h?1:2&h?3:4&h?2:0),a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;for(a=f.Event(g),d=i.length;d;)a[e=i[--d]]=g[e];return a.target||(a.target=g.srcElement||c),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(e,b,c,d){e=f.extend(new f.Event,c,{type:e,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var h,d=a.relatedTarget,e=a.handleObj;e.selector;return d&&(d===this||f.contains(this,d))||(a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b),h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(d){d=d.target,d=f.nodeName(d,"input")||f.nodeName(d,"button")?d.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),d._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(f.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))})),!1;f.event.add(this,"beforeactivate._change",function(b){b=b.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){return f.event.remove(this,"._change"),z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){0==d++&&c.addEventListener(a,e,!0)},teardown:function(){0==--d&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if("object"==typeof a){for(i in"string"!=typeof c&&(d=d||c,c=b),a)this.on(i,c,d,a[i],g);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),!1===e)e=J;else if(!e)return this;return 1===g&&(h=e,(e=function(a){return f().off(a),h.apply(this,arguments)}).guid=h.guid||(h.guid=f.guid++)),this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return f(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this}if("object"!=typeof a)return!1!==c&&"function"!=typeof c||(d=c,c=b),!1===d&&(d=J),this.each(function(){f.event.remove(this,a,d,c)});for(var g in a)this.off(g,c,a[g]);return this},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return f(this.context).on(a,this.selector,b,c),this},die:function(a,b){return f(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;return f._data(this,"lastToggle"+a.guid,1+e),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){return null==c&&(c=a,a=null),0<arguments.length?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++)if(j=e[h]){for(var k=!1,j=j[a];j;){if(j[d]===c){k=e[j.sizset];break}if(1===j.nodeType)if(g||(j[d]=c,j.sizset=h),"string"!=typeof b){if(j===b){k=!0;break}}else if(0<m.filter(b,[j]).length){k=j;break}j=j[a]}e[h]=k}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++)if(j=e[h]){for(var k=!1,j=j[a];j;){if(j[d]===c){k=e[j.sizset];break}if(1!==j.nodeType||g||(j[d]=c,j.sizset=h),j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){return i=!1,0});var m=function(b,d,e,f){e=e||[];var h=d=d||c;if(1!==d.nodeType&&9!==d.nodeType)return[];if(!b||"string"!=typeof b)return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{if(a.exec(""),(i=a.exec(x))&&(x=i[3],w.push(i[1]),i[2])){l=i[3];break}}while(i);if(1<w.length&&p.exec(b))if(2===w.length&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else for(j=o.relative[w[0]]?[d]:m(w.shift(),d);w.length;)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f);else if(d=!f&&1<w.length&&9===d.nodeType&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])?((n=m.find(w.shift(),d,v)).expr?m.filter(n.expr,n.set):n.set)[0]:d)for(j=(n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!d.parentNode?d:d.parentNode,v)).expr?m.filter(n.expr,n.set):n.set,0<w.length?k=s(j):u=!1;w.length;)r=q=w.pop(),o.relative[q]?r=w.pop():q="",null==r&&(r=d),o.relative[q](k,r,v);else k=w=[];if((k=k||j)||m.error(q||b),"[object Array]"===g.call(k))if(u)if(d&&1===d.nodeType)for(t=0;null!=k[t];t++)k[t]&&(!0===k[t]||1===k[t].nodeType&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;null!=k[t];t++)k[t]&&1===k[t].nodeType&&e.push(j[t]);else e.push.apply(e,k);else s(k,e);return l&&(m(l,h,e,f),m.uniqueSort(e)),e};m.uniqueSort=function(a){if(u&&(h=i,a.sort(u),h))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return 0<m(b,null,null,[a]).length},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++)if(h=o.order[e],(g=o.leftMatch[h].exec(a))&&(i=g[1],g.splice(1,1),"\\"!==i.substr(i.length-1)&&(g[1]=(g[1]||"").replace(j,""),null!=(d=o.find[h](g,b,c))))){a=a.replace(o.match[h],"");break}return{set:d=d||("undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]),expr:a}},m.filter=function(a,c,d,e){for(var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);a&&c.length;){for(h in o.filter)if(null!=(f=o.leftMatch[h].exec(a))&&f[2]){if(k=o.filter[h],l=f[1],g=!1,f.splice(1,1),"\\"===l.substr(l.length-1))continue;if(s===r&&(r=[]),o.preFilter[h])if(f=o.preFilter[h](f,s,d,r,e,t)){if(!0===f)continue}else g=i=!0;if(f)for(n=0;null!=(j=s[n]);n++)j&&(p=e^(i=k(j,f,n,s)),d&&null!=i?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){if(d||(s=r),a=a.replace(o.match[h],""),!g)return[];break}}if(a===q){if(null!=g)break;m.error(a)}q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var r,n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(1===d||9===d||11===d){if("string"==typeof a.textContent)return a.textContent;if("string"==typeof a.innerText)return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(3===d||4===d)return a.nodeValue}else for(b=0;c=a[b];b++)8!==c.nodeType&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c="string"==typeof b,d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var h,f=0,g=a.length;f<g;f++)if(h=a[f]){for(;(h=h.previousSibling)&&1!==h.nodeType;);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var g,c,d="string"==typeof b,e=0,f=a.length;if(d&&!l.test(b))for(b=b.toLowerCase();e<f;e++)(c=a[e])&&(g=c.parentNode,a[e]=g.nodeName.toLowerCase()===b&&g);else{for(;e<f;e++)(c=a[e])&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;"string"!=typeof b||l.test(b)||(d=b=b.toLowerCase(),g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;"string"!=typeof b||l.test(b)||(d=b=b.toLowerCase(),g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(d,b,c){if("undefined"!=typeof b.getElementById&&!c){d=b.getElementById(d[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if("undefined"!=typeof b.getElementsByName){for(var c=[],d=b.getElementsByName(a[1]),e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return 0===c.length?null:c}},TAG:function(a,b){if("undefined"!=typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){if(a=" "+a[1].replace(j,"")+" ",f)return a;for(var h,g=0;null!=(h=b[g]);g++)h&&(e^(h.className&&0<=(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){var b;return"nth"===a[1]?(a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,""),b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(("even"===a[2]?"2n":"odd"===a[2]&&"2n+1")||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]),a[2]=+(b[1]+(b[2]||1)),a[3]=+b[3]):a[2]&&m.error(a[0]),a[0]=e++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");return!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),"~="===a[2]&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(b,c,d,e,g){if("not"===b[1]){if(!(1<(a.exec(b[3])||"").length||/^\w/.test(b[3]))){g=m.filter(b[3],c,d,!0^g);return d||e.push.apply(e,g),!1}b[3]=m(b[3],null,null,c)}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===c&&(b===c||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2==0},odd:function(a,b){return b%2==1},lt:function(a,b,c){return b<+c[3]},gt:function(a,b,c){return b>+c[3]},nth:function(a,b,c){return+c[3]===b},eq:function(a,b,c){return+c[3]===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if("contains"===e)return 0<=(a.textContent||a.innerText||n([a])||"").indexOf(b[3]);if("not"===e){for(var g=b[3],h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,f,g,i,j,k=b[1],l=a;switch(k){case"only":case"first":for(;l=l.previousSibling;)if(1===l.nodeType)return!1;if("first"===k)return!0;l=a;case"last":for(;l=l.nextSibling;)if(1===l.nodeType)return!1;return!0;case"nth":if(c=b[2],j=b[3],1===c&&0===j)return!0;if(f=b[0],(g=a.parentNode)&&(g[d]!==f||!a.nodeIndex)){for(i=0,l=g.firstChild;l;l=l.nextSibling)1===l.nodeType&&(l.nodeIndex=++i);g[d]=f}return j=a.nodeIndex-j,0===c?0==j:j%c==0&&0<=j/c}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(e,g){var f=g[1],d=m.attr?m.attr(e,f):o.attrHandle[f]?o.attrHandle[f](e):null!=e[f]?e[f]:e.getAttribute(f),e=d+"",f=g[2],g=g[4];return null==d?"!="===f:!f&&m.attr?null!=d:"="===f?e===g:"*="===f?0<=e.indexOf(g):"~="===f?0<=(" "+e+" ").indexOf(g):g?"!="===f?e!==g:"^="===f?0===e.indexOf(g):"$="===f?e.substr(e.length-g.length)===g:"|="===f&&(e===g||e.substr(0,g.length+1)===g+"-"):e&&!1!==d},POS:function(a,b,c,d){var f=b[2],f=o.setFilters[f];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(+b+1)};for(r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));o.match.globalPOS=p;var u,v,s=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if("[object Array]"===g.call(a))Array.prototype.push.apply(d,a);else if("number"==typeof a.length)for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}c.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(h=!0,0):a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b)?-1:1:a.compareDocumentPosition?-1:1}:(u=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)f.unshift(j),j=j.parentNode;for(var c=e.length,d=f.length,k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,e,d){if("undefined"!=typeof e.getElementById&&!d){e=e.getElementById(a[1]);return e?e.id===a[1]||"undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b}),e.removeChild(a)}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),0<a.getElementsByTagName("*").length&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var d=[],e=0;c[e];e++)1===c[e].nodeType&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&"undefined"!=typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href")&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)})}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div");if(b.innerHTML="<p class='TEST'></p>",!b.querySelectorAll||0!==b.querySelectorAll(".TEST").length)for(var e in m=function(b,e,f,g){if(e=e||c,!g&&!m.isXML(e)){var p=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(p&&(1===e.nodeType||9===e.nodeType)){if(p[1])return s(e.getElementsByTagName(b),f);if(p[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(p[2]),f)}if(9===e.nodeType){if("body"===b&&e.body)return s([e.body],f);if(p&&p[3]){var q=e.getElementById(p[3]);if(!q||!q.parentNode)return s([],f);if(q.id===p[3])return s([q],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(1===e.nodeType&&"object"!==e.nodeName.toLowerCase()){var k=e,l=e.getAttribute("id"),n=l||"__sizzle__",p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)},a)m[e]=a[e]}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){if(c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&11!==a.document.nodeType)return f}}catch(g){}return 0<m(c,null,null,[a]).length}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>",a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&(o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if("undefined"!=typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a[1])}))}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(!a.contains||a.contains(b))}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(16&a.compareDocumentPosition(b))}:m.contains=function(){return!1},m.isXML=function(b){b=(b?b.ownerDocument||b:0).documentElement;return!!b&&"HTML"!==b.nodeName};var y=function(a,b,c){for(var d,e=[],f="",g=b.nodeType?[b]:b;d=o.match.PSEUDO.exec(a);)f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.globalPOS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this;if("string"!=typeof a)return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});for(var g,h,i,e=this.pushStack("","find",a),c=0,d=this.length;c<d;c++)if(g=e.length,f.find(a,this[c],e),0<c)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?Q.test(a)?0<=f(a,this.context).index(this[0]):0<f.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){var c=[],g=this[0];if(f.isArray(a)){for(var h=1;g&&g.ownerDocument&&g!==b;){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}for(var i=Q.test(a)||"string"!=typeof a?f(a,b||this.context):0,d=0,e=this.length;d<e;d++)for(g=this[d];g;){if(i?-1<i.index(g):f.find.matchesSelector(g,a)){c.push(g);break}if(!(g=g.parentNode)||!g.ownerDocument||g===b||11===g.nodeType)break}return c=1<c.length?f.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return a?"string"==typeof a?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(d,c){c="string"==typeof d?f(d,c):f.makeArray(d&&d.nodeType?[d]:d),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(b){b=b.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);return(d=!L.test(a)?c:d)&&"string"==typeof d&&(e=f.filter(d,e)),e=1<this.length&&!R[a]?f.unique(e):e,(1<this.length||N.test(d))&&M.test(a)&&(e=e.reverse()),this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){for(var e=[],g=a[c];g&&9!==g.nodeType&&(d===b||1!==g.nodeType||!f(g).is(d));)1===g.nodeType&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;for(var e=0;a&&(1!==a.nodeType||++e!==b);a=a[c]);return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")[\\s/>]","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.access(this,function(a){return a===b?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){return f.isFunction(a)?this.each(function(b){f(this).wrapAll(a.call(this,b))}):(this[0]&&(b=f(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)),this);var b},wrapInner:function(a){return f.isFunction(a)?this.each(function(b){f(this).wrapInner(a.call(this,b))}):this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,f.clean(arguments)),a}},remove:function(a,b){for(var d,c=0;null!=(d=this[c]);c++)a&&!f.filter(a,[d]).length||(b||1!==d.nodeType||(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d));return this},empty:function(){for(var b,a=0;null!=(b=this[a]);a++)for(1===b.nodeType&&f.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return f.clone(this,a,b)})},html:function(a){return f.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(W,""):null;if("string"==typeof a&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(;d<e;d++)1===(c=this[d]||{}).nodeType&&(f.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(g){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return this[0]&&this[0].parentNode?f.isFunction(a)?this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=f(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})):this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,h,g,j=a[0],k=[];if(!f.support.checkClone&&3===arguments.length&&"string"==typeof j&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){if(g=j&&j.parentNode,g=1===(h=(e=f.support.parentNode&&g&&11===g.nodeType&&g.childNodes.length===this.length?{fragment:g}:f.buildFragment(a,this,k)).fragment).childNodes.length?h=h.firstChild:h.firstChild){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?function(a){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}(this[l]):this[l],e.cacheable||1<m&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,function(a,b){b.src?f.ajax({type:"GET",global:!1,url:b.src,"async":!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];return(i=b&&b[0]?b[0].ownerDocument||b[0]:i).createDocumentFragment||(i=c),!(1===a.length&&"string"==typeof j&&j.length<512&&i===c&&"<"===j.charAt(0))||bb.test(j)||!f.support.checkClone&&bd.test(j)||!f.support.html5Clone&&bc.test(j)||(g=!0,(h=f.fragments[j])&&1!==h&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1),{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(g){var d=[],e=f(g),g=1===this.length&&this[0].parentNode;if(g&&11===g.nodeType&&1===g.childNodes.length&&1===e.length)return e[b](this[0]),this;for(var h=0,i=e.length;h<i;h++){var j=(0<h?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||f.isXMLDoc(a)||!bc.test("<"+a.nodeName+">")?a.cloneNode(!0):bo(a);if(!(f.support.noCloneEvent&&f.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||f.isXMLDoc(a)))for(bk(a,h),d=bl(a),e=bl(h),g=0;d[g];++g)e[g]&&bk(d[g],e[g]);if(b&&(bj(a,h),c))for(d=bl(a),e=bl(h),g=0;d[g];++g)bj(d[g],e[g]);return d=e=null,h},clean:function(a,b,d,e){var g,j=[];"undefined"==typeof(b=b||c).createElement&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);for(var u,k=0;null!=(l=a[k]);k++)if("number"==typeof l&&(l+=""),l){if("string"==typeof l)if(_.test(l)){var l=l.replace(Y,"<$1></$2>"),m=(Z.exec(l)||["",""])[1].toLowerCase(),n=bg[m]||bg._default,o=n[0],p=b.createElement("div"),r=bh.childNodes;for((b===c?bh:U(b)).appendChild(p),p.innerHTML=n[1]+l+n[2];o--;)p=p.lastChild;if(!f.support.tbody)for(var s=$.test(l),t="table"!==m||s?"<table>"!==n[1]||s?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes,i=t.length-1;0<=i;--i)f.nodeName(t[i],"tbody")&&!t[i].childNodes.length&&t[i].parentNode.removeChild(t[i]);!f.support.leadingWhitespace&&X.test(l)&&p.insertBefore(b.createTextNode(X.exec(l)[0]),p.firstChild),l=p.childNodes,p&&(p.parentNode.removeChild(p),0<r.length&&((r=r[r.length-1])&&r.parentNode&&r.parentNode.removeChild(r)))}else l=b.createTextNode(l);if(!f.support.appendChecked)if(l[0]&&"number"==typeof(u=l.length))for(i=0;i<u;i++)bn(l[i]);else bn(l);l.nodeType?j.push(l):j=f.merge(j,l)}if(d)for(g=function(a){return!a.type||be.test(a.type)},k=0;j[k];k++){var v,h=j[k];e&&f.nodeName(h,"script")&&(!h.type||be.test(h.type))?e.push(h.parentNode?h.parentNode.removeChild(h):h):(1===h.nodeType&&(v=f.grep(h.getElementsByTagName("script"),g),j.splice.apply(j,[k+1,0].concat(v))),d.appendChild(h))}return j},cleanData:function(a){for(var b,c,i,d=f.cache,e=f.event.special,g=f.support.deleteExpando,h=0;null!=(i=a[h]);h++)if((!i.nodeName||!f.noData[i.nodeName.toLowerCase()])&&(c=i[f.expando])){if((b=d[c])&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}});var by,bz,bA,bp=/alpha\([^)]*\)/i,bq=/opacity=([^)]*)/,br=/([A-Z]|^ms)/g,bs=/^[\-+]?(?:\d*\.)?\d+$/i,bt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,bu=/^([\-+])=([\-+.\de]+)/,bv=/^margin/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Top","Right","Bottom","Left"];f.fn.css=function(a,c){return f.access(this,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)},a,c,1<arguments.length)},f.extend({cssHooks:{opacity:{get:function(a,c){if(c){c=by(a,"opacity");return""===c?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,h){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];if(c=f.cssProps[i]||i,d===b)return k&&"get"in k&&(g=k.get(a,!1,h))!==b?g:j[c];if("string"===(h=typeof d)&&(g=bu.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number"),!(null==d||"number"===h&&isNaN(d))&&("number"!==h||f.cssNumber[i]||(d+="px"),!(k&&"set"in k&&(d=k.set(a,d))===b)))try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;return c=f.camelCase(c),g=f.cssHooks[c],"cssFloat"===(c=f.cssProps[c]||c)&&(c="float"),g&&"get"in g&&(e=g.get(a,!0,d))!==b?e:by?by(a,c):void 0},swap:function(a,b,e){var f,d={};for(f in b)d[f]=a.style[f],a.style[f]=b[f];for(f in e=e.call(a),b)a.style[f]=d[f];return e}}),f.curCSS=f.css,c.defaultView&&c.defaultView.getComputedStyle&&(bz=function(a,g){var c,d,e,h=a.style;return g=g.replace(br,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(""!==(c=e.getPropertyValue(g))||f.contains(a.ownerDocument.documentElement,a)||(c=f.style(a,g))),!f.support.pixelMargin&&e&&bv.test(g)&&bt.test(c)&&(g=h.width,h.width=c,c=e.width,h.width=g),c}),c.documentElement.currentStyle&&(bA=function(a,b){var c,d,f=a.currentStyle&&a.currentStyle[b],g=a.style;return null==f&&g&&(d=g[b])&&(f=d),bt.test(f)&&(c=g.left,(d=a.runtimeStyle&&a.runtimeStyle.left)&&(a.runtimeStyle.left=a.currentStyle.left),g.left="fontSize"===b?"1em":f,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),""===f?"auto":f}),by=bz||bA,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){if(c)return 0!==a.offsetWidth?bB(a,b,d):f.swap(a,bw,function(){return bB(a,b,d)})},set:function(a,b){return bs.test(b)?b+"px":b}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return bq.test((b&&a.currentStyle?a.currentStyle:a.style).filter||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(g,b){var c=g.style,d=g.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+100*b+")":"",g=d&&d.filter||c.filter||"";(c.zoom=1)<=b&&""===f.trim(g.replace(bp,""))&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=bp.test(g)?g.replace(bp,e):g+" "+e)}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){return f.swap(a,{display:"inline-block"},function(){return b?by(a,"margin-right"):a.style.marginRight})}})}),f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return 0===b&&0===c||!f.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||f.css(a,"display"))},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)}),f.each({margin:"",padding:"",border:"Width"},function(a,b){f.cssHooks[a+b]={expand:function(c){for(var e="string"==typeof c?c.split(" "):[c],f={},d=0;d<4;d++)f[a+bx[d]+b]=e[d]||e[d-2]||e[0];return f}}});var bU,bV,bC=/%20/g,bD=/\[\]$/,bE=/\r?\n/g,bF=/#.*$/,bG=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,bH=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bJ=/^(?:GET|HEAD)$/,bK=/^\/\//,bL=/\?/,bM=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bN=/^(?:select|textarea)/i,bO=/\s+/,bP=/([?&])_=[^&]*/,bQ=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bR=f.fn.load,bS={},bT={},bW=["*/"]+["*"];try{bU=e.href}catch(bX){(bU=c.createElement("a")).href="",bU=bU.href}bV=bQ.exec(bU.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if("string"!=typeof a&&bR)return bR.apply(this,arguments);if(!this.length)return this;var g,h=a.indexOf(" ");0<=h&&(g=a.slice(h,a.length),a=a.slice(0,h));h="GET";c&&(f.isFunction(c)?(d=c,c=b):"object"==typeof c&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;return f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bM,"")).find(g):c)),d&&i.each(d,[c,b,a])}}),this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bN.test(this.nodeName)||bH.test(this.type))}).map(function(a,b){var c=f(this).val();return null==c?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bE,"\r\n")}}):{name:b.name,value:c.replace(bE,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){return f.isFunction(d)&&(g=g||e,e=d,d=b),f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?b$(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b$(a,b),a},ajaxSettings:{url:bU,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(bV[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,"async":!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bW},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bY(bS),ajaxTransport:bY(bT),ajax:function(x,c){function w(a,c,z,x){if(2!==s){s=2,q&&clearTimeout(q),p=b,n=x||"",v.readyState=0<a?4:0;var o,r,u,w=c,x=z?function(a,c,d){var h,i,j,k,e=a.contents,f=a.dataTypes,g=a.responseFields;for(i in g)i in d&&(c[g[i]]=d[i]);for(;"*"===f[0];)f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k=k||i}j=j||k}if(j)return j!==f[0]&&f.unshift(j),d[j]}(d,v,z):b;if(200<=a&&a<300||304===a)if(d.ifModified&&((z=v.getResponseHeader("Last-Modified"))&&(f.lastModified[k]=z),(z=v.getResponseHeader("Etag"))&&(f.etag[k]=z)),304===a)w="notmodified",o=!0;else try{r=function(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));for(var h,j,l,m,n,o,p,d=a.dataTypes,e={},i=d.length,k=d[0],g=1;g<i;g++){if(1===g)for(h in a.converters)"string"==typeof h&&(e[h.toLowerCase()]=a.converters[h]);if(l=k,"*"===(k=d[g]))k=l;else if("*"!==l&&l!==k){if(!(n=e[m=l+" "+k]||e["* "+k]))for(o in p=b,e)if(((j=o.split(" "))[0]===l||"*"===j[0])&&(p=e[j[1]+" "+k])){!0===(o=e[o])?n=p:!0===p&&(n=o);break}n||p||f.error("No conversion from "+m.replace(" "," to ")),!0!==n&&(c=n?n(c):p(o(c)))}}return c}(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}else(u=w)&&!a||(w="error",a<0&&(a=0));v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}"object"==typeof x&&(c=x,x=b);var k,n,o,p,q,t,u,y,d=f.ajaxSetup({},c=c||{}),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},l={},m={},s=0,v={readyState:0,setRequestHeader:function(a,b){var c;return s||(c=a.toLowerCase(),a=m[c]=m[c]||a,l[a]=b),this},getAllResponseHeaders:function(){return 2===s?n:null},getResponseHeader:function(a){var c;if(2===s){if(!o)for(o={};c=bG.exec(n);)o[c[1].toLowerCase()]=c[2];c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return s||(d.mimeType=a),this},abort:function(a){return a=a||"abort",p&&p.abort(a),w(0,a),this}};if(h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a)if(s<2)for(var b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b);return this},d.url=((x||d.url)+"").replace(bF,"").replace(bK,bV[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bO),null==d.crossDomain&&(y=bQ.exec(d.url.toLowerCase()),d.crossDomain=!(!y||y[1]==bV[1]&&y[2]==bV[2]&&(y[3]||("http:"===y[1]?80:443))==(bV[3]||("http:"===bV[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=f.param(d.data,d.traditional)),bZ(bS,d,c,v),2===s)return!1;for(u in t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bJ.test(d.type),t&&0==f.active++&&f.event.trigger("ajaxStart"),d.hasContent||(d.data&&(d.url+=(bL.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url,!1===d.cache&&(x=f.now(),y=d.url.replace(bP,"$1_="+x),d.url=y+(y===d.url?(bL.test(d.url)?"&":"?")+"_="+x:""))),(d.data&&d.hasContent&&!1!==d.contentType||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+bW+"; q=0.01":""):d.accepts["*"]),d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(!1===d.beforeSend.call(e,v,d)||2===s))return v.abort(),!1;for(u in{success:1,error:1,complete:1})v[u](d[u]);if(p=bZ(bT,d,c,v)){v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d["async"]&&0<d.timeout&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(!(s<2))throw z;w(-1,z)}}else w(-1,"No Transport");return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=f.ajaxSettings.traditional),f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)!function b_(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bD.test(a)?d(a,e):b_(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==f.type(b))d(a,b);else for(var e in b)b_(a+"["+e+"]",b[e],c,d)}(g,a[g],c,e);return d.join("&").replace(bC,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cc=f.now(),cd=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cc++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e="string"==typeof b.data&&/^application\/x\-www\-form\-urlencoded/.test(b.contentType);if("jsonp"===b.dataTypes[0]||!1!==b.jsonp&&(cd.test(b.url)||e&&cd.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";return!1!==b.jsonp&&(j=j.replace(cd,l),b.url===j&&(e&&(k=k.replace(cd,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){return g||f.error(h+" was not called"),g[0]},b.dataTypes[0]="json","script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return f.globalEval(a),a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){(d=c.createElement("script"))["async"]="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){!c&&d.readyState&&!/loaded|complete/.test(d.readyState)||(d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success"))},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cg,ce=!!a.ActiveXObject&&function(){for(var a in cg)cg[a](0,1)},cf=0;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ch()||function(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}()}:ch,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){var d;if(!c.crossDomain||f.support.cors)return{send:function(e,g){var i,j,h=c.xhr();if(c.username?h.open(c.type,c.url,c["async"],c.username,c.password):h.open(c.type,c.url,c["async"]),c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||4===h.readyState))if(d=b,i&&(h.onreadystatechange=f.noop,ce&&delete cg[i]),e)4!==h.readyState&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},(n=h.responseXML)&&n.documentElement&&(m.xml=n);try{m.text=h.responseText}catch(a){}try{k=h.statusText}catch(o){k=""}j||!c.isLocal||c.crossDomain?1223===j&&(j=204):j=m.text?200:404}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},c["async"]&&4!==h.readyState?(i=++cf,ce&&(cg||(cg={},f(a).unload(ce)),cg[i]=d),h.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}});var ck,cl,co,cq,cj={},cm=/^(?:toggle|show|hide)$/,cn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cp=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];f.fn.extend({show:function(a,b,c){var d,e;if(a||0===a)return this.animate(ct("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)(d=this[g]).style&&(e=d.style.display,(""!==(e=!f._data(d,"olddisplay")&&"none"===e?d.style.display="":e)||"none"!==f.css(d,"display"))&&f.contains(d.ownerDocument.documentElement,d)||f._data(d,"olddisplay",cu(d.nodeName)));for(g=0;g<h;g++)(d=this[g]).style&&(""!==(e=d.style.display)&&"none"!==e||(d.style.display=f._data(d,"olddisplay")||""));return this},hide:function(a,b,c){if(a||0===a)return this.animate(ct("hide",3),a,b,c);for(var d,e,g=0,h=this.length;g<h;g++)(d=this[g]).style&&("none"===(e=f.css(d,"display"))||f._data(d,"olddisplay")||f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d="boolean"==typeof a;return f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):null==a||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(ct("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){!1===e.queue&&f._mark(this);var g,h,i,j,k,l,m,n,o,p,b=f.extend({},e),c=1===this.nodeType,d=c&&f(this).is(":hidden");for(i in b.animatedProperties={},a)if(i!==(g=f.camelCase(i))&&(a[g]=a[i],delete a[i]),(k=f.cssHooks[g])&&"expand"in k)for(i in l=k.expand(a[g]),delete a[g],l)i in a||(a[i]=l[i]);for(g in a){if(h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing","hide"===h&&d||"show"===h&&!d)return b.complete.call(this);!c||"height"!==g&&"width"!==g||(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===f.css(this,"display")&&"none"===f.css(this,"float")&&(f.support.inlineBlockNeedsLayout&&"inline"!==cu(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}for(i in null!=b.overflow&&(this.style.overflow="hidden"),a)j=new f.fx(this,b,i),h=a[i],cm.test(h)?(p=f._data(this,"toggle"+i)||("toggle"===h?d?"show":"hide":0),p?(f._data(this,"toggle"+i,"show"===p?"hide":"show"),j[p]()):j[h]()):(m=cn.exec(h),n=j.cur(),m?(o=parseFloat(m[2]),p=m[3]||(f.cssNumber[i]?"":"px"),"px"!==p&&(f.style(this,i,(o||1)+p),n=(o||1)/j.cur()*n,f.style(this,i,n+p)),m[1]&&(o=("-="===m[1]?-1:1)*o+n),j.custom(n,o,p)):j.custom(n,h,""));return!0}var e=f.speed(b,c,d);return f.isEmptyObject(a)?this.each(e.complete,[!1]):(a=f.extend({},a),!1===e.queue?this.each(g):this.queue(e.queue,g))},stop:function(a,c,d){return"string"!=typeof a&&(d=c,c=a,a=b),c&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){function h(a,e,c){e=e[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);if(d||f._unmark(!0,this),null==a)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem!==this||null!=a&&e[b].queue!==a||(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));d&&c||f.dequeue(this,a)})}}),f.each({slideDown:ct("show",1),slideUp:ct("hide",1),slideToggle:ct("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&"object"==typeof a?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};return d.duration=f.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default,null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):!1!==a&&f._unmark(this)},d},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+.5}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?b&&"auto"!==b?b:0:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cq||cr(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){f._data(e.elem,"fxshow"+e.prop)===b&&(e.options.hide?f._data(e.elem,"fxshow"+e.prop,e.start):e.options.show&&f._data(e.elem,"fxshow"+e.prop,e.end))},h()&&f.timers.push(h)&&!co&&(co=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(d){var b,c=cq||cr(),g=!0,h=this.elem,i=this.options;if(d||c>=i.duration+this.startTime){for(b in this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0,i.animatedProperties)!0!==i.animatedProperties[b]&&(g=!1);if(g){if(null==i.overflow||f.support.shrinkWrapBlocks||f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide(),i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);(d=i.complete)&&(i.complete=!1,d.call(h))}return!1}return i.duration==Infinity?this.now=c:(c=c-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},f.extend(f.fx,{tick:function(){for(var a,b=f.timers,c=0;c<b.length;c++)(a=b[c])()||b[c]!==a||b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(co),co=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(cp.concat.apply([],cp),function(a,b){b.indexOf("margin")&&(f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)})}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i,cv="getBoundingClientRect"in c.documentElement?function(j,k,c,d){try{d=j.getBoundingClientRect()}catch(e){}if(!d||!f.contains(c,j))return d?{top:d.top,left:d.left}:{top:0,left:0};var l=k.body,h=cy(k),i=c.clientTop||l.clientTop||0,j=c.clientLeft||l.clientLeft||0,k=h.pageYOffset||f.support.boxModel&&c.scrollTop||l.scrollTop,l=h.pageXOffset||f.support.boxModel&&c.scrollLeft||l.scrollLeft;return{top:d.top+k-i,left:d.left+l-j}}:function(a,b,c){for(var d,e=a.offsetParent,h=b.body,i=b.defaultView,j=i?i.getComputedStyle(a,null):a.currentStyle,k=a.offsetTop,l=a.offsetLeft;(a=a.parentNode)&&a!==h&&a!==c&&(!f.support.fixedPosition||"fixed"!==j.position);)d=i?i.getComputedStyle(a,null):a.currentStyle,k-=a.scrollTop,l-=a.scrollLeft,a===e&&(k+=a.offsetTop,l+=a.offsetLeft,!f.support.doesNotAddBorder||f.support.doesAddBorderForTableAndCells&&cw.test(a.nodeName)||(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),e=a.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&"visible"!==d.overflow&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),j=d;return"relative"!==j.position&&"static"!==j.position||(k+=h.offsetTop,l+=h.offsetLeft),f.support.fixedPosition&&"fixed"===j.position&&(k+=Math.max(c.scrollTop,h.scrollTop),l+=Math.max(c.scrollLeft,h.scrollLeft)),{top:k,left:l}};f.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){f.offset.setOffset(this,a,b)});var c=this[0],d=c&&c.ownerDocument;return d?c===d.body?f.offset.bodyOffset(c):cv(c,d,d.documentElement):null},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");"static"===d&&(a.style.position="relative");var l,m,e=f(a),g=e.offset(),h=f.css(a,"top"),n=f.css(a,"left"),k={},n=("absolute"===d||"fixed"===d)&&-1<f.inArray("auto",[h,n])?(m=(l=e.position()).top,l.left):(m=parseFloat(h)||0,parseFloat(n)||0);null!=(b=f.isFunction(b)?b.call(a,c,g):b).top&&(k.top=b.top-g.top+m),null!=b.left&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||c.body;a&&!cx.test(a.nodeName)&&"static"===f.css(a,"position");)a=a.offsetParent;return a})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);f.fn[a]=function(e){return f.access(this,function(a,e,g){var h=cy(a);if(g===b)return h?c in h?h[c]:f.support.boxModel&&h.document.documentElement[e]||h.document.body[e]:a[e];h?h.scrollTo(d?f(h).scrollLeft():g,d?g:f(h).scrollTop()):a[e]=g},a,e,arguments.length,null)}}),f.each({Height:"height",Width:"width"},function(a,c){var d="client"+a,e="scroll"+a,g="offset"+a;f.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,c,"padding")):this[c]():null},f.fn["outer"+a]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,c,a?"margin":"border")):this[c]():null},f.fn[c]=function(a){return f.access(this,function(a,c,h){var k,l;return f.isWindow(a)?(k=(l=a.document).documentElement[d],f.support.boxModel&&k||l.body&&l.body[d]||k):9===a.nodeType?(l=a.documentElement)[d]>=l[e]?l[d]:Math.max(a.body[e],l[e],a.body[g],l[g]):h===b?(k=f.css(a,c),l=parseFloat(k),f.isNumeric(l)?l:k):void f(a).css(c,h)},c,a,arguments.length,null)}}),a.jQuery=a.$=f,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})}(window),function(root){var origin,modules={},_require=function(deps,callback){var args,len,i;if("string"==typeof deps)return getModule(deps);for(args=[],len=deps.length,i=0;i<len;i++)args.push(getModule(deps[i]));return callback.apply(null,args)},_define=function(id,deps,factory){2===arguments.length&&(factory=deps,deps=null),_require(deps||[],function(){setModule(id,factory,arguments)})},setModule=function(id,factory,returned){var module={exports:factory};"function"==typeof factory&&(returned.length||(returned=[_require,module.exports,module]),(returned=factory.apply(null,returned))!==undefined&&(module.exports=returned)),modules[id]=module.exports},getModule=function(id){var module=modules[id]||root[id];if(!module)throw new Error("`"+id+"` is undefined");return module},makeExport=function(define){return root.__dollar=define,function(obj){var key,host,parts,part,last,ucFirst=function(str){return str&&str.charAt(0).toUpperCase()+str.substr(1)};for(key in modules)if(host=obj,modules.hasOwnProperty(key)){for(last=ucFirst((parts=key.split("/")).pop());part=ucFirst(parts.shift());)host[part]=host[part]||{},host=host[part];host[last]=modules[key]}return obj}((window=root,require=_require,(define=_define)("dollar-third",[],function(){var $=window.__dollar||window.jQuery||window.Zepto;if(!$)throw new Error("jQuery or Zepto not found!");return $}),define("dollar",["dollar-third"],function(_){return _}),define("promise-third",["dollar"],function($){return{Deferred:$.Deferred,when:$.when,isPromise:function(anything){return anything&&"function"==typeof anything.then}}}),define("promise",["promise-third"],function(_){return _}),define("base",["dollar","promise"],function($,safari){var counter,fn,opera,ret,webkit,chrome,ie,firefox,noop=function(){},call=Function.call;function bindFn(fn,context){return function(){return fn.apply(context,arguments)}}return{version:"0.1.5",$:$,Deferred:safari.Deferred,isPromise:safari.isPromise,when:safari.when,browser:(opera=navigator.userAgent,ret={},webkit=opera.match(/WebKit\/([\d.]+)/),chrome=opera.match(/Chrome\/([\d.]+)/)||opera.match(/CriOS\/([\d.]+)/),ie=opera.match(/MSIE\s([\d\.]+)/)||opera.match(/(?:trident)(?:.*rv:([\w.]+))?/i),firefox=opera.match(/Firefox\/([\d.]+)/),safari=opera.match(/Safari\/([\d.]+)/),opera=opera.match(/OPR\/([\d.]+)/),webkit&&(ret.webkit=parseFloat(webkit[1])),chrome&&(ret.chrome=parseFloat(chrome[1])),ie&&(ret.ie=parseFloat(ie[1])),firefox&&(ret.firefox=parseFloat(firefox[1])),safari&&(ret.safari=parseFloat(safari[1])),opera&&(ret.opera=parseFloat(opera[1])),ret),os:function(ios){var ret={},android=ios.match(/(?:Android);?[\s\/]+([\d.]+)?/),ios=ios.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return android&&(ret.android=parseFloat(android[1])),ios&&(ret.ios=parseFloat(ios[1].replace(/_/g,"."))),ret}(navigator.userAgent),inherits:function(Super,protos,f){var child,proto;return"function"==typeof protos?(child=protos,protos=null):child=protos&&protos.hasOwnProperty("constructor")?protos.constructor:function(){return Super.apply(this,arguments)},$.extend(!0,child,Super,f||{}),child.__super__=Super.prototype,child.prototype=(proto=Super.prototype,Object.create?Object.create(proto):((f=function(){}).prototype=proto,new f)),protos&&$.extend(!0,child.prototype,protos),child},noop:noop,bindFn:bindFn,log:window.console?bindFn(console.log,console):noop,nextTick:function(cb){setTimeout(cb,1)},slice:(fn=[].slice,function(){return call.apply(fn,arguments)}),guid:(counter=0,function(prefix){for(var guid=(+new Date).toString(32),i=0;i<5;i++)guid+=Math.floor(65535*Math.random()).toString(32);return(prefix||"wu_")+guid+(counter++).toString(32)}),formatSize:function(size,pointLength,units){var unit;for(units=units||["B","K","M","G","TB"];(unit=units.shift())&&1024<size;)size/=1024;return("B"===unit?size:size.toFixed(pointLength||2))+unit}}}),define("mediator",["base"],function(Base){var protos,$=Base.$,slice=[].slice,separator=/\s+/;function findHandlers(arr,name,callback,context){return $.grep(arr,function(handler){return handler&&(!name||handler.e===name)&&(!callback||handler.cb===callback||handler.cb._cb===callback)&&(!context||handler.ctx===context)})}function eachEvent(events,callback,iterator){$.each((events||"").split(separator),function(_,key){iterator(key,callback)})}function triggerHanders(events,args){for(var handler,stoped=!1,i=-1,len=events.length;++i<len;)if(!1===(handler=events[i]).cb.apply(handler.ctx2,args)){stoped=!0;break}return!stoped}return protos={on:function(name,callback,context){var set,me=this;return callback&&(set=this._events||(this._events=[]),eachEvent(name,callback,function(handler,callback){handler={e:handler};handler.cb=callback,handler.ctx=context,handler.ctx2=context||me,handler.id=set.length,set.push(handler)})),this},once:function(name,callback,context){var me=this;return callback&&eachEvent(name,callback,function(name,callback){var once=function(){return me.off(name,once),callback.apply(context||me,arguments)};once._cb=callback,me.on(name,once,context)}),me},off:function(name,cb,ctx){var events=this._events;return events&&(name||cb||ctx?eachEvent(name,cb,function(name,cb){$.each(findHandlers(events,name,cb,ctx),function(){delete events[this.id]})}):this._events=[]),this},trigger:function(type){var args,events,allEvents;return this._events&&type?(args=slice.call(arguments,1),events=findHandlers(this._events,type),allEvents=findHandlers(this._events,"all"),triggerHanders(events,args)&&triggerHanders(allEvents,arguments)):this}},$.extend({installTo:function(obj){return $.extend(obj,protos)}},protos)}),define("uploader",["base","mediator"],function(Base,Mediator){var $=Base.$;function Uploader(opts){this.options=$.extend(!0,{},Uploader.options,opts),this._init(this.options)}return Uploader.options={},Mediator.installTo(Uploader.prototype),$.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(fn,command){Uploader.prototype[fn]=function(){return this.request(command,arguments)}}),$.extend(Uploader.prototype,{state:"pending",_init:function(opts){var me=this;me.request("init",opts,function(){me.state="ready",me.trigger("ready")})},option:function(key,val){var opts=this.options;if(!(1<arguments.length))return key?opts[key]:opts;$.isPlainObject(val)&&$.isPlainObject(opts[key])?$.extend(opts[key],val):opts[key]=val},getStats:function(){var stats=this.request("get-stats");return stats?{successNum:stats.numOfSuccess,progressNum:stats.numOfProgress,cancelNum:stats.numOfCancel,invalidNum:stats.numOfInvalid,uploadFailNum:stats.numOfUploadFailed,queueNum:stats.numOfQueue,interruptNum:stats.numofInterrupt}:{}},trigger:function(type){var args=[].slice.call(arguments,1),opts=this.options,name="on"+type.substring(0,1).toUpperCase()+type.substring(1);return!(!1===Mediator.trigger.apply(this,arguments)||$.isFunction(opts[name])&&!1===opts[name].apply(this,args)||$.isFunction(this[name])&&!1===this[name].apply(this,args)||!1===Mediator.trigger.apply(Mediator,[this,type].concat(args)))},destroy:function(){this.request("destroy",arguments),this.off()},request:Base.noop}),Base.create=Uploader.create=function(opts){return new Uploader(opts)},Base.Uploader=Uploader}),define("runtime/runtime",["base","mediator"],function(Base,Mediator){var $=Base.$,factories={},getFirstKey=function(obj){for(var key in obj)if(obj.hasOwnProperty(key))return key;return null};function Runtime(options){this.options=$.extend({container:document.body},options),this.uid=Base.guid("rt_")}return $.extend(Runtime.prototype,{getContainer:function(){var parent,container=this.options;return this._container||(parent=$(container.container||document.body),(container=$(document.createElement("div"))).attr("id","rt_"+this.uid),container.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),parent.append(container),parent.addClass("webuploader-container"),this._container=container,this._parent=parent,container)},init:Base.noop,exec:Base.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),Runtime.orders="html5,flash",Runtime.addRuntime=function(type,factory){factories[type]=factory},Runtime.hasRuntime=function(type){return!!(type?factories[type]:getFirstKey(factories))},Runtime.create=function(opts,orders){var type;if($.each((orders=orders||Runtime.orders).split(/\s*,\s*/g),function(){if(factories[this])return type=this,!1}),!(type=type||getFirstKey(factories)))throw new Error("Runtime Error");return new factories[type](opts)},Mediator.installTo(Runtime.prototype),Runtime}),define("runtime/client",["base","mediator","runtime/runtime"],function(Base,Mediator,Runtime){var cache,obj;function RuntimeClient(component,standalone){var runtime,destroy,deferred=Base.Deferred();this.uid=Base.guid("client_"),this.runtimeReady=function(cb){return deferred.done(cb)},this.connectRuntime=function(opts,cb){if(runtime)throw new Error("already connected!");return deferred.done(cb),(runtime=(runtime="string"==typeof opts&&cache.get(opts)?cache.get(opts):runtime)||cache.get(null,standalone))?(Base.$.extend(runtime.options,opts),runtime.__promise.then(deferred.resolve),runtime.__client++):((runtime=Runtime.create(opts,opts.runtimeOrder)).__promise=deferred.promise(),runtime.once("ready",deferred.resolve),runtime.init(),cache.add(runtime),runtime.__client=1),standalone&&(runtime.__standalone=standalone),runtime},this.getRuntime=function(){return runtime},this.disconnectRuntime=function(){runtime&&(runtime.__client--,runtime.__client<=0&&(cache.remove(runtime),delete runtime.__promise,runtime.destroy()),runtime=null)},this.exec=function(){if(runtime){var args=Base.slice(arguments);return component&&args.unshift(component),runtime.exec.apply(this,args)}},this.getRuid=function(){return runtime&&runtime.uid},this.destroy=(destroy=this.destroy,function(){destroy&&destroy.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()})}return obj={},cache={add:function(runtime){obj[runtime.uid]=runtime},get:function(ruid,standalone){if(ruid)return obj[ruid];for(var i in obj)if(!standalone||!obj[i].__standalone)return obj[i];return null},remove:function(runtime){delete obj[runtime.uid]}},Mediator.installTo(RuntimeClient.prototype),RuntimeClient}),define("lib/dnd",["base","mediator","runtime/client"],function(Base,Mediator,RuntimeClent){var $=Base.$;function DragAndDrop(opts){(opts=this.options=$.extend({},DragAndDrop.options,opts)).container=$(opts.container),opts.container.length&&RuntimeClent.call(this,"DragAndDrop")}return DragAndDrop.options={accept:null,disableGlobalDnd:!1},Base.inherits(RuntimeClent,{constructor:DragAndDrop,init:function(){var me=this;me.connectRuntime(me.options,function(){me.exec("init"),me.trigger("ready")})}}),Mediator.installTo(DragAndDrop.prototype),DragAndDrop}),define("widgets/widget",["base","uploader"],function(Base,Uploader){var $=Base.$,_init=Uploader.prototype._init,_destroy=Uploader.prototype.destroy,IGNORE={},widgetClass=[];function Widget(uploader){this.owner=uploader,this.options=uploader.options}return $.extend(Widget.prototype,{init:Base.noop,invoke:function(apiName,args){var map=this.responseMap;return map&&apiName in map&&map[apiName]in this&&$.isFunction(this[map[apiName]])?this[map[apiName]].apply(this,args):IGNORE},request:function(){return this.owner.request.apply(this.owner,arguments)}}),$.extend(Uploader.prototype,{_init:function(){var me=this,widgets=me._widgets=[],deactives=me.options.disableWidgets||"";return $.each(widgetClass,function(_,klass){deactives&&~deactives.indexOf(klass._name)||widgets.push(new klass(me))}),_init.apply(me,arguments)},request:function(apiName,args,callback){var rlt,key,i=0,widgets=this._widgets,len=widgets&&widgets.length,rlts=[],dfds=[];for(args=function(obj){if(obj){var length=obj.length,type=$.type(obj);return 1===obj.nodeType&&length||("array"===type||"function"!==type&&"string"!==type&&(0===length||"number"==typeof length&&0<length&&length-1 in obj))}}(args)?args:[args];i<len;i++)(rlt=widgets[i].invoke(apiName,args))!==IGNORE&&(Base.isPromise(rlt)?dfds:rlts).push(rlt);return callback||dfds.length?(key=Base.when.apply(Base,dfds))[key=key.pipe?"pipe":"then"](function(){var deferred=Base.Deferred(),args=arguments;return 1===args.length&&(args=args[0]),setTimeout(function(){deferred.resolve(args)},1),deferred.promise()})[callback?key:"done"](callback||Base.noop):rlts[0]},destroy:function(){_destroy.apply(this,arguments),this._widgets=null}}),Uploader.register=Widget.register=function(responseMap,widgetProto){var klass,map={init:"init",destroy:"destroy",name:"anonymous"};return 1===arguments.length?(widgetProto=responseMap,$.each(widgetProto,function(key){"_"!==key[0]&&"name"!==key?map[key.replace(/[A-Z]/g,"-$&").toLowerCase()]=key:"name"===key&&(map.name=widgetProto.name)})):map=$.extend(map,responseMap),widgetProto.responseMap=map,(klass=Base.inherits(Widget,widgetProto))._name=map.name,widgetClass.push(klass),klass},Uploader.unRegister=Widget.unRegister=function(name){if(name&&"anonymous"!==name)for(var i=widgetClass.length;i--;)widgetClass[i]._name===name&&widgetClass.splice(i,1)},Widget}),define("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(Base,Uploader,Dnd){var $=Base.$;return Uploader.options.dnd="",Uploader.register({name:"dnd",init:function(dnd){if(dnd.dnd&&"html5"===this.request("predict-runtime-type")){var me=this,deferred=Base.Deferred(),dnd=$.extend({},{disableGlobalDnd:dnd.disableGlobalDnd,container:dnd.dnd,accept:dnd.accept});return this.dnd=dnd=new Dnd(dnd),dnd.once("ready",deferred.resolve),dnd.on("drop",function(files){me.request("add-file",[files])}),dnd.on("accept",function(items){return me.owner.trigger("dndAccept",items)}),dnd.init(),deferred.promise()}},destroy:function(){this.dnd&&this.dnd.destroy()}})}),define("lib/filepaste",["base","mediator","runtime/client"],function(Base,Mediator,RuntimeClent){var $=Base.$;function FilePaste(opts){(opts=this.options=$.extend({},opts)).container=$(opts.container||document.body),RuntimeClent.call(this,"FilePaste")}return Base.inherits(RuntimeClent,{constructor:FilePaste,init:function(){var me=this;me.connectRuntime(me.options,function(){me.exec("init"),me.trigger("ready")})}}),Mediator.installTo(FilePaste.prototype),FilePaste}),define("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(Base,Uploader,FilePaste){var $=Base.$;return Uploader.register({name:"paste",init:function(paste){if(paste.paste&&"html5"===this.request("predict-runtime-type")){var me=this,deferred=Base.Deferred(),paste=$.extend({},{container:paste.paste,accept:paste.accept});return this.paste=paste=new FilePaste(paste),paste.once("ready",deferred.resolve),paste.on("paste",function(files){me.owner.request("add-file",[files])}),paste.init(),deferred.promise()}},destroy:function(){this.paste&&this.paste.destroy()}})}),define("lib/blob",["base","runtime/client"],function(Base,RuntimeClient){function Blob(ruid,source){this.source=source,this.ruid=ruid,this.size=source.size||0,!source.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?this.type="image/"+("jpg"===this.ext?"jpeg":this.ext):this.type=source.type||"application/octet-stream",RuntimeClient.call(this,"Blob"),this.uid=source.uid||this.uid,ruid&&this.connectRuntime(ruid)}return Base.inherits(RuntimeClient,{constructor:Blob,slice:function(start,end){return this.exec("slice",start,end)},getSource:function(){return this.source}}),Blob}),define("lib/file",["base","lib/blob"],function(Base,Blob){var uid=1,rExt=/\.([^.]+)$/;return Base.inherits(Blob,function(ruid,file){var ext;this.name=file.name||"untitled"+uid++,!(ext=rExt.exec(file.name)?RegExp.$1.toLowerCase():"")&&file.type&&(ext=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(file.type)?RegExp.$1.toLowerCase():"",this.name+="."+ext),this.ext=ext,this.lastModifiedDate=file.lastModifiedDate||(new Date).toLocaleString(),Blob.apply(this,arguments)})}),define("lib/filepicker",["base","runtime/client","lib/file"],function(Base,RuntimeClent,File){var $=Base.$;function FilePicker(opts){if((opts=this.options=$.extend({},FilePicker.options,opts)).container=$(opts.id),!opts.container.length)throw new Error("");opts.innerHTML=opts.innerHTML||opts.label||opts.container.html()||"",opts.button=$(opts.button||document.createElement("div")),opts.button.html(opts.innerHTML),opts.container.html(opts.button),RuntimeClent.call(this,"FilePicker",!0)}return FilePicker.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file"},Base.inherits(RuntimeClent,{constructor:FilePicker,init:function(){var me=this,opts=me.options,button=opts.button;button.addClass("webuploader-pick"),me.on("all",function(type){var files;switch(type){case"mouseenter":button.addClass("webuploader-pick-hover");break;case"mouseleave":button.removeClass("webuploader-pick-hover");break;case"change":files=me.exec("getFiles"),me.trigger("select",$.map(files,function(file){return(file=new File(me.getRuid(),file))._refer=opts.container,file}),opts.container)}}),me.connectRuntime(opts,function(){me.refresh(),me.exec("init",opts),me.trigger("ready")}),this._resizeHandler=Base.bindFn(this.refresh,this),$(window).on("resize",this._resizeHandler)},refresh:function(){var shimContainer=this.getRuntime().getContainer(),pos=this.options.button,width=pos.outerWidth?pos.outerWidth():pos.width(),height=pos.outerHeight?pos.outerHeight():pos.height(),pos=pos.offset();width&&height&&shimContainer.css({bottom:"auto",right:"auto",width:width+"px",height:height+"px"}).offset(pos)},enable:function(){this.options.button.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var btn=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),btn.addClass("webuploader-pick-disable")},destroy:function(){var btn=this.options.button;$(window).off("resize",this._resizeHandler),btn.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),FilePicker}),define("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(Base,Uploader,FilePicker){var $=Base.$;return $.extend(Uploader.options,{pick:null,accept:null}),Uploader.register({name:"picker",init:function(opts){return this.pickers=[],opts.pick&&this.addBtn(opts.pick)},refresh:function(){$.each(this.pickers,function(){this.refresh()})},addBtn:function(pick){var me=this,opts=me.options,accept=opts.accept,promises=[];if(pick)return $.isPlainObject(pick)||(pick={id:pick}),$(pick.id).each(function(){var deferred=Base.Deferred(),picker=$.extend({},pick,{accept:$.isPlainObject(accept)?[accept]:accept,swf:opts.swf,runtimeOrder:opts.runtimeOrder,id:this}),picker=new FilePicker(picker);picker.once("ready",deferred.resolve),picker.on("select",function(files){me.owner.request("add-file",[files])}),picker.init(),me.pickers.push(picker),promises.push(deferred.promise())}),Base.when.apply(Base,promises)},disable:function(){$.each(this.pickers,function(){this.disable()})},enable:function(){$.each(this.pickers,function(){this.enable()})},destroy:function(){$.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),define("lib/image",["base","runtime/client","lib/blob"],function(Base,RuntimeClient,Blob){var $=Base.$;function Image(opts){this.options=$.extend({},Image.options,opts),RuntimeClient.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}return Image.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},Base.inherits(RuntimeClient,{constructor:Image,info:function(val){return val?(this._info=val,this):this._info},meta:function(val){return val?(this._meta=val,this):this._meta},loadFromBlob:function(blob){var me=this,ruid=blob.getRuid();this.connectRuntime(ruid,function(){me.exec("init",me.options),me.exec("loadFromBlob",blob)})},resize:function(){var args=Base.slice(arguments);return this.exec.apply(this,["resize"].concat(args))},crop:function(){var args=Base.slice(arguments);return this.exec.apply(this,["crop"].concat(args))},getAsDataUrl:function(type){return this.exec("getAsDataUrl",type)},getAsBlob:function(blob){blob=this.exec("getAsBlob",blob);return new Blob(this.getRuid(),blob)}}),Image}),define("widgets/image",["base","uploader","lib/image","widgets/widget"],function(Base,Uploader,Image){var throttle,occupied,waiting,tick,$=Base.$;return occupied=0,waiting=[],tick=function(){for(var item;waiting.length&&occupied<5242880;)item=waiting.shift(),occupied+=item[0],item[1]()},throttle=function(emiter,size,cb){waiting.push([size,cb]),emiter.once("destroy",function(){occupied-=size,setTimeout(tick,1)}),setTimeout(tick,1)},$.extend(Uploader.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),Uploader.register({name:"image",makeThumb:function(file,cb,width,height){var opts,image;(file=this.request("get-file",file)).type.match(/^image/)?(opts=$.extend({},this.options.thumb),$.isPlainObject(width)&&(opts=$.extend(opts,width),width=null),width=width||opts.width,height=height||opts.height,(image=new Image(opts)).once("load",function(){file._info=file._info||image.info(),file._meta=file._meta||image.meta(),width<=1&&0<width&&(width=file._info.width*width),height<=1&&0<height&&(height=file._info.height*height),image.resize(width,height)}),image.once("complete",function(){cb(!1,image.getAsDataUrl(opts.type)),image.destroy()}),image.once("error",function(reason){cb(reason||!0),image.destroy()}),throttle(image,file.source.size,function(){file._info&&image.info(file._info),file._meta&&image.meta(file._meta),image.loadFromBlob(file.source)})):cb(!0)},beforeSendFile:function(file){var image,deferred,opts=this.options.compress||this.options.resize,compressSize=opts&&opts.compressSize||0,noCompressIfLarger=opts&&opts.noCompressIfLarger||!1;if(file=this.request("get-file",file),opts&&~"image/jpeg,image/jpg".indexOf(file.type)&&!(file.size<compressSize)&&!file._compressed)return opts=$.extend({},opts),deferred=Base.Deferred(),image=new Image(opts),deferred.always(function(){image.destroy(),image=null}),image.once("error",deferred.reject),image.once("load",function(){var width=opts.width,height=opts.height;file._info=file._info||image.info(),file._meta=file._meta||image.meta(),width<=1&&0<width&&(width=file._info.width*width),height<=1&&0<height&&(height=file._info.height*height),image.resize(width,height)}),image.once("complete",function(){var blob,size;try{blob=image.getAsBlob(opts.type),size=file.size,(!noCompressIfLarger||blob.size<size)&&(file.source=blob,file.size=blob.size,file.trigger("resize",blob.size,size)),file._compressed=!0,deferred.resolve()}catch(e){deferred.resolve()}}),file._info&&image.info(file._info),file._meta&&image.meta(file._meta),image.loadFromBlob(file.source),deferred.promise()}})}),define("file",["base","mediator"],function($,Mediator){var $=$.$,idPrefix="WU_FILE_",idSuffix=0,rExt=/\.([^.]+)$/,statusMap={};function WUFile(source){this.name=source.name||"Untitled",this.size=source.size||0,this.type=source.type||"application/octet-stream",this.lastModifiedDate=source.lastModifiedDate||+new Date,this.id=idPrefix+idSuffix++,this.ext=rExt.exec(this.name)?RegExp.$1:"",this.statusText="",statusMap[this.id]=WUFile.Status.INITED,this.source=source,this.loaded=0,this.on("error",function(msg){this.setStatus(WUFile.Status.ERROR,msg)})}return $.extend(WUFile.prototype,{setStatus:function(status,text){var prevStatus=statusMap[this.id];void 0!==text&&(this.statusText=text),status!==prevStatus&&(statusMap[this.id]=status,this.trigger("statuschange",status,prevStatus))},getStatus:function(){return statusMap[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete statusMap[this.id]}}),Mediator.installTo(WUFile.prototype),WUFile.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},WUFile}),define("queue",["base","mediator","file"],function(Base,Mediator,WUFile){var $=Base.$,STATUS=WUFile.Status;function Queue(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}return $.extend(Queue.prototype,{append:function(file){return this._queue.push(file),this._fileAdded(file),this},prepend:function(file){return this._queue.unshift(file),this._fileAdded(file),this},getFile:function(fileId){return"string"!=typeof fileId?fileId:this._map[fileId]},fetch:function(status){var i,file,len=this._queue.length;for(status=status||STATUS.QUEUED,i=0;i<len;i++)if(status===(file=this._queue[i]).getStatus())return file;return null},sort:function(fn){"function"==typeof fn&&this._queue.sort(fn)},getFiles:function(){for(var file,sts=[].slice.call(arguments,0),ret=[],i=0,len=this._queue.length;i<len;i++)file=this._queue[i],sts.length&&!~$.inArray(file.getStatus(),sts)||ret.push(file);return ret},removeFile:function(file){this._map[file.id]&&(delete this._map[file.id],file.destroy(),this.stats.numofDeleted++)},_fileAdded:function(file){var me=this;this._map[file.id]||(this._map[file.id]=file).on("statuschange",function(cur,pre){me._onFileStatusChange(cur,pre)})},_onFileStatusChange:function(curStatus,preStatus){var stats=this.stats;switch(preStatus){case STATUS.PROGRESS:stats.numOfProgress--;break;case STATUS.QUEUED:stats.numOfQueue--;break;case STATUS.ERROR:stats.numOfUploadFailed--;break;case STATUS.INVALID:stats.numOfInvalid--;break;case STATUS.INTERRUPT:stats.numofInterrupt--}switch(curStatus){case STATUS.QUEUED:stats.numOfQueue++;break;case STATUS.PROGRESS:stats.numOfProgress++;break;case STATUS.ERROR:stats.numOfUploadFailed++;break;case STATUS.COMPLETE:stats.numOfSuccess++;break;case STATUS.CANCELLED:stats.numOfCancel++;break;case STATUS.INVALID:stats.numOfInvalid++;break;case STATUS.INTERRUPT:stats.numofInterrupt++}}}),Mediator.installTo(Queue.prototype),Queue}),define("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(Base,Uploader,Queue,WUFile,File,RuntimeClient){var $=Base.$,rExt=/\.\w+$/,Status=WUFile.Status;return Uploader.register({name:"queue",init:function(opts){var deferred,len,i,item,arr,accept,runtime,me=this;if($.isPlainObject(opts.accept)&&(opts.accept=[opts.accept]),opts.accept){for(arr=[],i=0,len=opts.accept.length;i<len;i++)(item=opts.accept[i].extensions)&&arr.push(item);arr.length&&(accept="\\."+arr.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),me.accept=new RegExp(accept,"i")}if(me.queue=new Queue,me.stats=me.queue.stats,"html5"===this.request("predict-runtime-type"))return deferred=Base.Deferred(),this.placeholder=runtime=new RuntimeClient("Placeholder"),runtime.connectRuntime({runtimeOrder:"html5"},function(){me._ruid=runtime.getRuid(),deferred.resolve()}),deferred.promise()},_wrapFile:function(file){if(!(file instanceof WUFile)){if(!(file instanceof File)){if(!this._ruid)throw new Error("Can't add external files.");file=new File(this._ruid,file)}file=new WUFile(file)}return file},acceptFile:function(file){return!(!file||!file.size||this.accept&&rExt.exec(file.name)&&!this.accept.test(file.name))},_addFile:function(file){var me=this;if(file=me._wrapFile(file),me.owner.trigger("beforeFileQueued",file)){if(me.acceptFile(file))return me.queue.append(file),me.owner.trigger("fileQueued",file),file;me.owner.trigger("error","Q_TYPE_DENIED",file)}},getFile:function(fileId){return this.queue.getFile(fileId)},addFile:function(files){var me=this;files.length||(files=[files]),files=$.map(files,function(file){return me._addFile(file)}),me.owner.trigger("filesQueued",files),me.options.auto&&setTimeout(function(){me.request("start-upload")},20)},getStats:function(){return this.stats},removeFile:function(file,remove){file=file.id?file:this.queue.getFile(file),this.request("cancel-file",file),remove&&this.queue.removeFile(file)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(file,noForceStart){var files,i,len;if(file)return(file=file.id?file:this.queue.getFile(file)).setStatus(Status.QUEUED),void(noForceStart||this.request("start-upload"));for(i=0,len=(files=this.queue.getFiles(Status.ERROR)).length;i<len;i++)(file=files[i]).setStatus(Status.QUEUED);this.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new Queue,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),define("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(Uploader,Runtime){return Uploader.support=function(){return Runtime.hasRuntime.apply(Runtime,arguments)},Uploader.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var i,len,orders=this.options.runtimeOrder||Runtime.orders,type=this.type;if(!type)for(i=0,len=(orders=orders.split(/\s*,\s*/g)).length;i<len;i++)if(Runtime.hasRuntime(orders[i])){this.type=type=orders[i];break}return type}})}),define("lib/transport",["base","runtime/client","mediator"],function(Base,RuntimeClient,Mediator){var $=Base.$;function Transport(opts){var me=this;opts=me.options=$.extend(!0,{},Transport.options,opts||{}),RuntimeClient.call(this,"Transport"),this._blob=null,this._formData=opts.formData||{},this._headers=opts.headers||{},this.on("progress",this._timeout),this.on("load error",function(){me.trigger("progress",1),clearTimeout(me._timer)})}return Transport.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:12e4,formData:{},headers:{},sendAsBinary:!1},$.extend(Transport.prototype,{appendBlob:function(key,blob,filename){var me=this,opts=me.options;me.getRuid()&&me.disconnectRuntime(),me.connectRuntime(blob.ruid,function(){me.exec("init")}),me._blob=blob,opts.fileVal=key||opts.fileVal,opts.filename=filename||opts.filename},append:function(key,value){"object"==typeof key?$.extend(this._formData,key):this._formData[key]=value},setRequestHeader:function(key,value){"object"==typeof key?$.extend(this._headers,key):this._headers[key]=value},send:function(method){this.exec("send",method),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var me=this,duration=me.options.timeout;duration&&(clearTimeout(me._timer),me._timer=setTimeout(function(){me.abort(),me.trigger("error","timeout")},duration))}}),Mediator.installTo(Transport.prototype),Transport}),define("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(Base,Uploader,WUFile,Transport){var $=Base.$,isPromise=Base.isPromise,Status=WUFile.Status;$.extend(Uploader.options,{prepareNextFile:!1,chunked:!1,chunkSize:5242880,chunkRetry:2,threads:3,formData:{}}),Uploader.register({name:"upload",init:function(){var owner=this.owner,me=this;this.runing=!1,this.progress=!1,owner.on("startUpload",function(){me.progress=!0}).on("uploadFinished",function(){me.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=Base.bindFn(this._tick,this),owner.on("uploadComplete",function(file){file.blocks&&$.each(file.blocks,function(_,v){v.transport&&(v.transport.abort(),v.transport.destroy()),delete v.transport}),delete file.blocks,delete file.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(file){var me=this;if($.each(me.request("get-files",Status.INVALID),function(){me.request("remove-file",this)}),file)if((file=file.id?file:me.request("get-file",file)).getStatus()===Status.INTERRUPT)$.each(me.pool,function(_,v){v.file===file&&v.transport&&v.transport.send()}),file.setStatus(Status.QUEUED);else{if(file.getStatus()===Status.PROGRESS)return;file.setStatus(Status.QUEUED)}else $.each(me.request("get-files",[Status.INITED]),function(){this.setStatus(Status.QUEUED)});if(!me.runing){me.runing=!0;var files=[];for($.each(me.pool,function(_,v){var file=v.file;file.getStatus()===Status.INTERRUPT&&(files.push(file),me._trigged=!1,v.transport&&v.transport.send())});file=files.shift();)file.setStatus(Status.PROGRESS);file||$.each(me.request("get-files",Status.INTERRUPT),function(){this.setStatus(Status.PROGRESS)}),me._trigged=!1,Base.nextTick(me.__tick),me.owner.trigger("startUpload")}},stopUpload:function(file,interrupt){var me=this;if(!0===file&&(interrupt=file,file=null),!1!==me.runing){if(file)return(file=file.id?file:me.request("get-file",file)).getStatus()!==Status.PROGRESS&&file.getStatus()!==Status.QUEUED?void 0:(file.setStatus(Status.INTERRUPT),$.each(me.pool,function(_,v){v.file===file&&(v.transport&&v.transport.abort(),me._putback(v),me._popBlock(v))}),Base.nextTick(me.__tick));me.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(Status.INTERRUPT),interrupt&&$.each(me.pool,function(_,v){v.transport&&v.transport.abort(),v.file.setStatus(Status.INTERRUPT)}),me.owner.trigger("stopUpload")}},cancelFile:function(file){(file=file.id?file:this.request("get-file",file)).blocks&&$.each(file.blocks,function(_,v){var _tr=v.transport;_tr&&(_tr.abort(),_tr.destroy(),delete v.transport)}),file.setStatus(Status.CANCELLED),this.owner.trigger("fileDequeued",file)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(file,status){(file=file.id?file:this.request("get-file",file)).setStatus(status||Status.COMPLETE),file.skipped=!0,file.blocks&&$.each(file.blocks,function(_,v){var _tr=v.transport;_tr&&(_tr.abort(),_tr.destroy(),delete v.transport)}),this.owner.trigger("uploadSkip",file)},_tick:function(){var val,me=this,fn=me.options;if(me._promise)return me._promise.always(me.__tick);me.pool.length<fn.threads&&(val=me._nextBlock())?(me._trigged=!1,fn=function(val){me._promise=null,val&&val.file&&me._startSend(val),Base.nextTick(me.__tick)},me._promise=isPromise(val)?val.always(fn):fn(val)):me.remaning||me._getStats().numOfQueue||me._getStats().numofInterrupt||(me.runing=!1,me._trigged||Base.nextTick(function(){me.owner.trigger("uploadFinished")}),me._trigged=!0)},_putback:function(block){block.cuted.unshift(block),~this.stack.indexOf(block.cuted)||this.stack.unshift(block.cuted)},_getStack:function(){for(var act,i=0;act=this.stack[i++];){if(act.has()&&act.file.getStatus()===Status.PROGRESS)return act;act.has()&&(act.file.getStatus()===Status.PROGRESS||act.file.getStatus()===Status.INTERRUPT)||this.stack.splice(--i,1)}return null},_nextBlock:function(){var act,next,done,preparing,me=this,opts=me.options;return(act=this._getStack())?(opts.prepareNextFile&&!me.pending.length&&me._prepareNextFile(),act.shift()):me.runing?(!me.pending.length&&me._getStats().numOfQueue&&me._prepareNextFile(),next=me.pending.shift(),done=function(file){return file?(act=function(file,chunkSize){for(var len,pending=[],total=file.source.size,chunks=chunkSize?Math.ceil(total/chunkSize):1,start=0,index=0,api={file:file,has:function(){return!!pending.length},shift:function(){return pending.shift()},unshift:function(block){pending.unshift(block)}};index<chunks;)len=Math.min(chunkSize,total-start),pending.push({file:file,start:start,end:chunkSize?start+len:total,total:total,chunks:chunks,chunk:index++,cuted:api}),start+=len;return file.blocks=pending.concat(),file.remaning=pending.length,api}(file,opts.chunked?opts.chunkSize:0),me.stack.push(act),act.shift()):null},isPromise(next)?(preparing=next.file,(next=next[next.pipe?"pipe":"then"](done)).file=preparing,next):done(next)):void 0},_prepareNextFile:function(){var promise,me=this,file=me.request("fetch-file"),pending=me.pending;file&&(promise=me.request("before-send-file",file,function(){return file.getStatus()===Status.PROGRESS||file.getStatus()===Status.INTERRUPT?file:me._finishFile(file)}),me.owner.trigger("uploadStart",file),file.setStatus(Status.PROGRESS),promise.file=file,promise.done(function(){var idx=$.inArray(promise,pending);~idx&&pending.splice(idx,1,file)}),promise.fail(function(reason){file.setStatus(Status.ERROR,reason),me.owner.trigger("uploadError",file,reason),me.owner.trigger("uploadComplete",file)}),pending.push(promise))},_popBlock:function(block){var idx=$.inArray(block,this.pool);this.pool.splice(idx,1),block.file.remaning--,this.remaning--},_startSend:function(block){var me=this,file=block.file;file.getStatus()===Status.PROGRESS?(me.pool.push(block),me.remaning++,block.blob=1===block.chunks?file.source:file.source.slice(block.start,block.end),me.request("before-send",block,function(){file.getStatus()===Status.PROGRESS?me._doSend(block):(me._popBlock(block),Base.nextTick(me.__tick))}).fail(function(){1===file.remaning?me._finishFile(file).always(function(){block.percentage=1,me._popBlock(block),me.owner.trigger("uploadComplete",file),Base.nextTick(me.__tick)}):(block.percentage=1,me.updateFileProgress(file),me._popBlock(block),Base.nextTick(me.__tick))})):file.getStatus()===Status.INTERRUPT&&me._putback(block)},_doSend:function(block){var requestAccept,ret,me=this,owner=me.owner,opts=me.options,file=block.file,tr=new Transport(opts),data=$.extend({},opts.formData),headers=$.extend({},opts.headers);(block.transport=tr).on("destroy",function(){delete block.transport,me._popBlock(block),Base.nextTick(me.__tick)}),tr.on("progress",function(percentage){block.percentage=percentage,me.updateFileProgress(file)}),requestAccept=function(reject){var fn;return(ret=tr.getResponseAsJson()||{})._raw=tr.getResponse(),fn=function(value){reject=value},reject=!owner.trigger("uploadAccept",block,ret,fn)?reject||"server":reject},tr.on("error",function(type,flag){block.retried=block.retried||0,1<block.chunks&&~"http,abort".indexOf(type)&&block.retried<opts.chunkRetry?(block.retried++,tr.send()):(flag||"server"!==type||(type=requestAccept(type)),file.setStatus(Status.ERROR,type),owner.trigger("uploadError",file,type),owner.trigger("uploadComplete",file))}),tr.on("load",function(){var reason;(reason=requestAccept())?tr.trigger("error",reason,!0):1===file.remaning?me._finishFile(file,ret):tr.destroy()}),data=$.extend(data,{id:file.id,name:file.name,type:file.type,lastModifiedDate:file.lastModifiedDate,size:file.size}),1<block.chunks&&$.extend(data,{chunks:block.chunks,chunk:block.chunk}),owner.trigger("uploadBeforeSend",block,data,headers),tr.appendBlob(opts.fileVal,block.blob,file.name),tr.append(data),tr.setRequestHeader(headers),tr.send()},_finishFile:function(file,ret,hds){var owner=this.owner;return owner.request("after-send-file",arguments,function(){file.setStatus(Status.COMPLETE),owner.trigger("uploadSuccess",file,ret,hds)}).fail(function(reason){file.getStatus()===Status.PROGRESS&&file.setStatus(Status.ERROR,reason),owner.trigger("uploadError",file,reason)}).always(function(){owner.trigger("uploadComplete",file)})},updateFileProgress:function(file){var totalPercent,uploaded=0;file.blocks&&($.each(file.blocks,function(_,v){uploaded+=(v.percentage||0)*(v.end-v.start)}),totalPercent=uploaded/file.size,this.owner.trigger("uploadProgress",file,totalPercent||0))}})}),define("widgets/validator",["base","uploader","file","widgets/widget"],function(Base,Uploader,WUFile){var $=Base.$,validators={},api={addValidator:function(type,cb){validators[type]=cb},removeValidator:function(type){delete validators[type]}};return Uploader.register({name:"validator",init:function(){var me=this;Base.nextTick(function(){$.each(validators,function(){this.call(me.owner)})})}}),api.addValidator("fileNumLimit",function(){var opts=this.options,count=0,max=parseInt(opts.fileNumLimit,10),flag=!0;max&&(this.on("beforeFileQueued",function(file){return max<=count&&flag&&(flag=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",max,file),setTimeout(function(){flag=!0},1)),!(max<=count)}),this.on("fileQueued",function(){count++}),this.on("fileDequeued",function(){count--}),this.on("reset",function(){count=0}))}),api.addValidator("fileSizeLimit",function(){var opts=this.options,count=0,max=parseInt(opts.fileSizeLimit,10),flag=!0;max&&(this.on("beforeFileQueued",function(file){var invalid=count+file.size>max;return invalid&&flag&&(flag=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",max,file),setTimeout(function(){flag=!0},1)),!invalid}),this.on("fileQueued",function(file){count+=file.size}),this.on("fileDequeued",function(file){count-=file.size}),this.on("reset",function(){count=0}))}),api.addValidator("fileSingleSizeLimit",function(){var max=this.options.fileSingleSizeLimit;max&&this.on("beforeFileQueued",function(file){if(file.size>max)return file.setStatus(WUFile.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",max,file),!1})}),api.addValidator("duplicate",function(){var opts=this.options,mapping={};opts.duplicate||(this.on("beforeFileQueued",function(file){var hash=file.__hash||(file.__hash=function(str){for(var hash=0,i=0,len=str.length;i<len;i++)hash=str.charCodeAt(i)+(hash<<6)+(hash<<16)-hash;return hash}(file.name+file.size+file.lastModifiedDate));if(mapping[hash])return this.trigger("error","F_DUPLICATE",file),!1}),this.on("fileQueued",function(hash){hash=hash.__hash;hash&&(mapping[hash]=!0)}),this.on("fileDequeued",function(hash){hash=hash.__hash;hash&&delete mapping[hash]}),this.on("reset",function(){mapping={}}))}),api}),define("lib/md5",["runtime/client","mediator"],function(RuntimeClient,Mediator){function Md5(){RuntimeClient.call(this,"Md5")}return Mediator.installTo(Md5.prototype),Md5.prototype.loadFromBlob=function(blob){var me=this;me.getRuid()&&me.disconnectRuntime(),me.connectRuntime(blob.ruid,function(){me.exec("init"),me.exec("loadFromBlob",blob)})},Md5.prototype.getResult=function(){return this.exec("getResult")},Md5}),define("widgets/md5",["base","uploader","lib/md5","lib/blob","widgets/widget"],function(Base,Uploader,Md5,Blob){return Uploader.register({name:"md5",md5File:function(file,start,end){var md5=new Md5,deferred=Base.Deferred(),blob=file instanceof Blob?file:this.request("get-file",file).source;return md5.on("progress load",function(e){deferred.notify((e=e||{}).total?e.loaded/e.total:1)}),md5.on("complete",function(){deferred.resolve(md5.getResult())}),md5.on("error",function(reason){deferred.reject(reason)}),1<arguments.length&&((start=start||0)<0&&(start=blob.size+start),(end=end||0)<0&&(end=blob.size+end),end=Math.min(end,blob.size),blob=blob.slice(start,end)),md5.loadFromBlob(blob),deferred.promise()}})}),define("runtime/compbase",[],function(){return function(owner,runtime){this.owner=owner,this.options=owner.options,this.getRuntime=function(){return runtime},this.getRuid=function(){return runtime.uid},this.trigger=function(){return owner.trigger.apply(owner,arguments)}}}),define("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(Base,Runtime,CompBase){var components={};function Html5Runtime(){var pool={},me=this,destroy=this.destroy;Runtime.apply(me,arguments),me.type="html5",me.exec=function(comp,fn){var instance,uid=this.uid,args=Base.slice(arguments,2);if(components[comp]&&(instance=pool[uid]=pool[uid]||new components[comp](this,me))[fn])return instance[fn].apply(instance,args)},me.destroy=function(){return destroy&&destroy.apply(this,arguments)}}return Base.inherits(Runtime,{constructor:Html5Runtime,init:function(){var me=this;setTimeout(function(){me.trigger("ready")},1)}}),Html5Runtime.register=function(name,component){return components[name]=Base.inherits(CompBase,component)},window.Blob&&window.FileReader&&window.DataView&&Runtime.addRuntime("html5",Html5Runtime),Html5Runtime}),define("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(Html5Runtime,Blob){return Html5Runtime.register("Blob",{slice:function(start,end){var blob=((blob=this.owner.source).slice||blob.webkitSlice||blob.mozSlice).call(blob,start,end);return new Blob(this.getRuid(),blob)}})}),define("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(Base,Html5Runtime,File){var $=Base.$,prefix="webuploader-dnd-";return Html5Runtime.register("DragAndDrop",{init:function(){var elem=this.elem=this.options.container;this.dragEnterHandler=Base.bindFn(this._dragEnterHandler,this),this.dragOverHandler=Base.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=Base.bindFn(this._dragLeaveHandler,this),this.dropHandler=Base.bindFn(this._dropHandler,this),this.dndOver=!1,elem.on("dragenter",this.dragEnterHandler),elem.on("dragover",this.dragOverHandler),elem.on("dragleave",this.dragLeaveHandler),elem.on("drop",this.dropHandler),this.options.disableGlobalDnd&&($(document).on("dragover",this.dragOverHandler),$(document).on("drop",this.dropHandler))},_dragEnterHandler:function(e){var items,me=this,denied=me._denied||!1;return e=e.originalEvent||e,me.dndOver||(me.dndOver=!0,(items=e.dataTransfer.items)&&items.length&&(me._denied=denied=!me.trigger("accept",items)),me.elem.addClass(prefix+"over"),me.elem[denied?"addClass":"removeClass"](prefix+"denied")),e.dataTransfer.dropEffect=denied?"none":"copy",!1},_dragOverHandler:function(e){var parentElem=this.elem.parent().get(0);return parentElem&&!$.contains(parentElem,e.currentTarget)||(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,e)),!1},_dragLeaveHandler:function(){var me=this,handler=function(){me.dndOver=!1,me.elem.removeClass(prefix+"over "+prefix+"denied")};return clearTimeout(me._leaveTimer),me._leaveTimer=setTimeout(handler,100),!1},_dropHandler:function(dataTransfer){var data,me=this,ruid=me.getRuid(),parentElem=me.elem.parent().get(0);if(parentElem&&!$.contains(parentElem,dataTransfer.currentTarget))return!1;dataTransfer=(dataTransfer=dataTransfer.originalEvent||dataTransfer).dataTransfer;try{data=dataTransfer.getData("text/html")}catch(err){}return data?void 0:(me._getTansferFiles(dataTransfer,function(results){me.trigger("drop",$.map(results,function(file){return new File(ruid,file)}))}),me.dndOver=!1,me.elem.removeClass(prefix+"over"),!1)},_getTansferFiles:function(dataTransfer,callback){for(var file,item,results=[],promises=[],items=dataTransfer.items,files=dataTransfer.files,canAccessFolder=!(!items||!items[0].webkitGetAsEntry),i=0,len=files.length;i<len;i++)file=files[i],item=items&&items[i],canAccessFolder&&item.webkitGetAsEntry().isDirectory?promises.push(this._traverseDirectoryTree(item.webkitGetAsEntry(),results)):results.push(file);Base.when.apply(Base,promises).done(function(){results.length&&callback(results)})},_traverseDirectoryTree:function(entry,results){var deferred=Base.Deferred(),me=this;return entry.isFile?entry.file(function(file){results.push(file),deferred.resolve()}):entry.isDirectory&&entry.createReader().readEntries(function(entries){for(var len=entries.length,promises=[],arr=[],i=0;i<len;i++)promises.push(me._traverseDirectoryTree(entries[i],arr));Base.when.apply(Base,promises).then(function(){results.push.apply(results,arr),deferred.resolve()},deferred.reject)}),deferred.promise()},destroy:function(){var elem=this.elem;elem&&(elem.off("dragenter",this.dragEnterHandler),elem.off("dragover",this.dragOverHandler),elem.off("dragleave",this.dragLeaveHandler),elem.off("drop",this.dropHandler),this.options.disableGlobalDnd&&($(document).off("dragover",this.dragOverHandler),$(document).off("drop",this.dropHandler)))}})}),define("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(Base,Html5Runtime,File){return Html5Runtime.register("FilePaste",{init:function(){var arr,i,len,item,opts=this.options,elem=this.elem=opts.container,accept=".*";if(opts.accept){for(arr=[],i=0,len=opts.accept.length;i<len;i++)(item=opts.accept[i].mimeTypes)&&arr.push(item);arr.length&&(accept=(accept=arr.join(",")).replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=accept=new RegExp(accept,"i"),this.hander=Base.bindFn(this._pasteHander,this),elem.on("paste",this.hander)},_pasteHander:function(e){for(var items,item,blob,allowed=[],ruid=this.getRuid(),i=0,len=(items=(e=e.originalEvent||e).clipboardData.items).length;i<len;i++)"file"===(item=items[i]).kind&&(blob=item.getAsFile())&&allowed.push(new File(ruid,blob));allowed.length&&(e.preventDefault(),e.stopPropagation(),this.trigger("paste",allowed))},destroy:function(){this.elem.off("paste",this.hander)}})}),define("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(Base,Html5Runtime){var $=Base.$;return Html5Runtime.register("FilePicker",{init:function(){var arr,i,len,mouseHandler,container=this.getRuntime().getContainer(),me=this,owner=me.owner,opts=me.options,label=this.label=$(document.createElement("label")),input=this.input=$(document.createElement("input"));if(input.attr("type","file"),input.attr("name",opts.name),input.addClass("webuploader-element-invisible"),label.on("click",function(){input.trigger("click")}),label.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),opts.multiple&&input.attr("multiple","multiple"),opts.accept&&0<opts.accept.length){for(arr=[],i=0,len=opts.accept.length;i<len;i++)arr.push(opts.accept[i].mimeTypes);input.attr("accept",arr.join(","))}container.append(input),container.append(label),mouseHandler=function(e){owner.trigger(e.type)},input.on("change",function(e){var clone,fn=arguments.callee;me.files=e.target.files,(clone=this.cloneNode(!0)).value=null,this.parentNode.replaceChild(clone,this),input.off(),input=$(clone).on("change",fn).on("mouseenter mouseleave",mouseHandler),owner.trigger("change")}),label.on("mouseenter mouseleave",mouseHandler)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),define("runtime/html5/util",["base"],function(revokeObjectURL){var urlAPI=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL,createObjectURL=revokeObjectURL.noop,revokeObjectURL=createObjectURL;return urlAPI&&(createObjectURL=function(){return urlAPI.createObjectURL.apply(urlAPI,arguments)},revokeObjectURL=function(){return urlAPI.revokeObjectURL.apply(urlAPI,arguments)}),{createObjectURL:createObjectURL,revokeObjectURL:revokeObjectURL,dataURL2Blob:function(ab){for(var mimetype=ab.split(","),byteStr=(~mimetype[0].indexOf("base64")?atob:decodeURIComponent)(mimetype[1]),ab=new ArrayBuffer(byteStr.length),intArray=new Uint8Array(ab),i=0;i<byteStr.length;i++)intArray[i]=byteStr.charCodeAt(i);return mimetype=mimetype[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(ab,mimetype)},dataURL2ArrayBuffer:function(parts){for(var parts=parts.split(","),byteStr=(~parts[0].indexOf("base64")?atob:decodeURIComponent)(parts[1]),intArray=new Uint8Array(byteStr.length),i=0;i<byteStr.length;i++)intArray[i]=byteStr.charCodeAt(i);return intArray.buffer},arrayBufferToBlob:function(buffer,type){var bb=window.BlobBuilder||window.WebKitBlobBuilder;return bb?((bb=new bb).append(buffer),bb.getBlob(type)):new Blob([buffer],type?{type:type}:{})},canvasToDataUrl:function(canvas,type,quality){return canvas.toDataURL(type,quality/100)},parseMeta:function(blob,callback){callback(!1,{})},updateImageHead:function(data){return data}}}),define("runtime/html5/imagemeta",["runtime/html5/util"],function(Util){var api={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(blob,cb){var me=this,fr=new FileReader;fr.onload=function(){cb(!1,me._parse(this.result)),fr=fr.onload=fr.onerror=null},fr.onerror=function(e){cb(e.message),fr=fr.onload=fr.onerror=null},blob=blob.slice(0,me.maxMetaDataSize),fr.readAsArrayBuffer(blob.getSource())},_parse:function(buffer,noParse){if(!(buffer.byteLength<6)){var markerBytes,markerLength,parsers,i,dataview=new DataView(buffer),offset=2,maxOffset=dataview.byteLength-4,headLength=offset,ret={};if(65496===dataview.getUint16(0)){for(;offset<maxOffset&&(65504<=(markerBytes=dataview.getUint16(offset))&&markerBytes<=65519||65534===markerBytes)&&!(offset+(markerLength=dataview.getUint16(offset+2)+2)>dataview.byteLength);){if(parsers=api.parsers[markerBytes],!noParse&&parsers)for(i=0;i<parsers.length;i+=1)parsers[i].call(api,dataview,offset,markerLength,ret);headLength=offset+=markerLength}6<headLength&&(buffer.slice?ret.imageHead=buffer.slice(2,headLength):ret.imageHead=new Uint8Array(buffer).subarray(2,headLength))}return ret}},updateImageHead:function(buf2,head){var data=this._parse(buf2,!0),buf1=2;return data.imageHead&&(buf1=2+data.imageHead.byteLength),buf2=buf2.slice?buf2.slice(buf1):new Uint8Array(buf2).subarray(buf1),(buf1=new Uint8Array(head.byteLength+2+buf2.byteLength))[0]=255,buf1[1]=216,buf1.set(new Uint8Array(head),2),buf1.set(new Uint8Array(buf2),head.byteLength+2),buf1.buffer}};return Util.parseMeta=function(){return api.parse.apply(api,arguments)},Util.updateImageHead=function(){return api.updateImageHead.apply(api,arguments)},api}),define("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(Base,ImageMeta){var EXIF={ExifMap:function(){return this}};return EXIF.ExifMap.prototype.map={Orientation:274},EXIF.ExifMap.prototype.get=function(id){return this[id]||this[this.map[id]]},EXIF.exifTagTypes={1:{getValue:function(dataView,dataOffset){return dataView.getUint8(dataOffset)},size:1},2:{getValue:function(dataView,dataOffset){return String.fromCharCode(dataView.getUint8(dataOffset))},size:1,ascii:!0},3:{getValue:function(dataView,dataOffset,littleEndian){return dataView.getUint16(dataOffset,littleEndian)},size:2},4:{getValue:function(dataView,dataOffset,littleEndian){return dataView.getUint32(dataOffset,littleEndian)},size:4},5:{getValue:function(dataView,dataOffset,littleEndian){return dataView.getUint32(dataOffset,littleEndian)/dataView.getUint32(dataOffset+4,littleEndian)},size:8},9:{getValue:function(dataView,dataOffset,littleEndian){return dataView.getInt32(dataOffset,littleEndian)},size:4},10:{getValue:function(dataView,dataOffset,littleEndian){return dataView.getInt32(dataOffset,littleEndian)/dataView.getInt32(dataOffset+4,littleEndian)},size:8}},EXIF.exifTagTypes[7]=EXIF.exifTagTypes[1],EXIF.getExifValue=function(dataView,tiffOffset,offset,tagSize,length,littleEndian){var dataOffset,values,i,str,c,tagType=EXIF.exifTagTypes[tagSize];if(tagType){if(!((dataOffset=4<(tagSize=tagType.size*length)?tiffOffset+dataView.getUint32(offset+8,littleEndian):offset+8)+tagSize>dataView.byteLength)){if(1===length)return tagType.getValue(dataView,dataOffset,littleEndian);for(values=[],i=0;i<length;i+=1)values[i]=tagType.getValue(dataView,dataOffset+i*tagType.size,littleEndian);if(tagType.ascii){for(str="",i=0;i<values.length&&"\0"!==(c=values[i]);i+=1)str+=c;return str}return values}Base.log("Invalid Exif data: Invalid data offset.")}else Base.log("Invalid Exif data: Invalid tag type.")},EXIF.parseExifTag=function(dataView,tiffOffset,offset,littleEndian,data){var tag=dataView.getUint16(offset,littleEndian);data.exif[tag]=EXIF.getExifValue(dataView,tiffOffset,offset,dataView.getUint16(offset+2,littleEndian),dataView.getUint32(offset+4,littleEndian),littleEndian)},EXIF.parseExifTags=function(dataView,tiffOffset,dirOffset,littleEndian,data){var tagsNumber,dirEndOffset,i;if(dirOffset+6>dataView.byteLength)Base.log("Invalid Exif data: Invalid directory offset.");else{if(!((dirEndOffset=dirOffset+2+12*(tagsNumber=dataView.getUint16(dirOffset,littleEndian)))+4>dataView.byteLength)){for(i=0;i<tagsNumber;i+=1)this.parseExifTag(dataView,tiffOffset,dirOffset+2+12*i,littleEndian,data);return dataView.getUint32(dirEndOffset,littleEndian)}Base.log("Invalid Exif data: Invalid directory size.")}},EXIF.parseExifData=function(dataView,dirOffset,length,data){var littleEndian,tiffOffset=dirOffset+10;if(1165519206===dataView.getUint32(dirOffset+4))if(tiffOffset+8>dataView.byteLength)Base.log("Invalid Exif data: Invalid segment size.");else if(0===dataView.getUint16(dirOffset+8)){switch(dataView.getUint16(tiffOffset)){case 18761:littleEndian=!0;break;case 19789:littleEndian=!1;break;default:return void Base.log("Invalid Exif data: Invalid byte alignment marker.")}42===dataView.getUint16(tiffOffset+2,littleEndian)?(dirOffset=dataView.getUint32(tiffOffset+4,littleEndian),data.exif=new EXIF.ExifMap,EXIF.parseExifTags(dataView,tiffOffset,tiffOffset+dirOffset,littleEndian,data)):Base.log("Invalid Exif data: Missing TIFF marker.")}else Base.log("Invalid Exif data: Missing byte alignment offset.")},ImageMeta.parsers[65505].push(EXIF.parseExifData),EXIF}),define("runtime/html5/jpegencoder",[],function(require,exports,module){function JPEGEncoder(quality){Math.round;var YDC_HT,UVDC_HT,YAC_HT,UVAC_HT,currentQuality,ffloor=Math.floor,YTable=new Array(64),UVTable=new Array(64),fdtbl_Y=new Array(64),fdtbl_UV=new Array(64),bitcode=new Array(65535),category=new Array(65535),outputfDCTQuant=new Array(64),DU=new Array(64),byteout=[],bytenew=0,bytepos=7,YDU=new Array(64),UDU=new Array(64),VDU=new Array(64),clt=new Array(256),RGB_YUV_TABLE=new Array(2048),ZigZag=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],std_dc_luminance_nrcodes=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],std_dc_luminance_values=[0,1,2,3,4,5,6,7,8,9,10,11],std_ac_luminance_nrcodes=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],std_ac_luminance_values=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],std_dc_chrominance_nrcodes=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],std_dc_chrominance_values=[0,1,2,3,4,5,6,7,8,9,10,11],std_ac_chrominance_nrcodes=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],std_ac_chrominance_values=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function computeHuffmanTbl(nrcodes,std_table){for(var codevalue=0,pos_in_table=0,HT=new Array,k=1;k<=16;k++){for(var j=1;j<=nrcodes[k];j++)HT[std_table[pos_in_table]]=[],HT[std_table[pos_in_table]][0]=codevalue,HT[std_table[pos_in_table]][1]=k,pos_in_table++,codevalue++;codevalue*=2}return HT}function writeBits(bs){for(var value=bs[0],posval=bs[1]-1;0<=posval;)value&1<<posval&&(bytenew|=1<<bytepos),posval--,--bytepos<0&&(255==bytenew?(writeByte(255),writeByte(0)):writeByte(bytenew),bytepos=7,bytenew=0)}function writeByte(value){byteout.push(clt[value])}function writeWord(value){writeByte(value>>8&255),writeByte(255&value)}function processDU(CDU,Diff,DC,HTDC,HTAC){for(var pos,EOB=HTAC[0],M16zeroes=HTAC[240],DU_DCT=function(data,fdtbl){for(var fDCTQuant,dataOff=0,i=0;i<8;++i){var d7,d0=data[dataOff],d1=data[dataOff+1],d2=data[dataOff+2],d3=data[dataOff+3],d4=data[dataOff+4],d5=data[dataOff+5],d6=data[dataOff+6],tmp13=d0+(d7=data[dataOff+7]),tmp7=d0-d7,tmp12=d1+d6,z13=d1-d6,z1=d2+d5,tmp5=d2-d5,z11=d3+d4,z4=d3-d4,z2=tmp13+z11,tmp13=tmp13-z11,z11=tmp12+z1,tmp12=tmp12-z1;data[dataOff]=z2+z11,data[dataOff+4]=z2-z11;z1=.707106781*(tmp12+tmp13);data[dataOff+2]=tmp13+z1,data[dataOff+6]=tmp13-z1;z4=.382683433*((z2=z4+tmp5)-(tmp12=z13+tmp7)),z2=.5411961*z2+z4,z4=1.306562965*tmp12+z4,z13=.707106781*(z11=tmp5+z13),z11=tmp7+z13,z13=tmp7-z13;data[dataOff+5]=z13+z2,data[dataOff+3]=z13-z2,data[dataOff+1]=z11+z4,data[dataOff+7]=z11-z4,dataOff+=8}for(i=dataOff=0;i<8;++i){d0=data[dataOff],d1=data[dataOff+8],d2=data[dataOff+16],d3=data[dataOff+24],d4=data[dataOff+32],d5=data[dataOff+40],d6=data[dataOff+48];var tmp13p2=d0+(d7=data[dataOff+56]),tmp7p2=d0-d7,tmp12p2=d1+d6,z13p2=d1-d6,z1p2=d2+d5,tmp5p2=d2-d5,z11p2=d3+d4,z4p2=d3-d4,z2p2=tmp13p2+z11p2,tmp13p2=tmp13p2-z11p2,z11p2=tmp12p2+z1p2,tmp12p2=tmp12p2-z1p2;data[dataOff]=z2p2+z11p2,data[dataOff+32]=z2p2-z11p2;z1p2=.707106781*(tmp12p2+tmp13p2);data[dataOff+16]=tmp13p2+z1p2,data[dataOff+48]=tmp13p2-z1p2;z4p2=.382683433*((z2p2=z4p2+tmp5p2)-(tmp12p2=z13p2+tmp7p2)),z2p2=.5411961*z2p2+z4p2,z4p2=1.306562965*tmp12p2+z4p2,z13p2=.707106781*(z11p2=tmp5p2+z13p2),z11p2=tmp7p2+z13p2,z13p2=tmp7p2-z13p2;data[dataOff+40]=z13p2+z2p2,data[dataOff+24]=z13p2-z2p2,data[dataOff+8]=z11p2+z4p2,data[dataOff+56]=z11p2-z4p2,dataOff++}for(i=0;i<64;++i)fDCTQuant=data[i]*fdtbl[i],outputfDCTQuant[i]=0<fDCTQuant?.5+fDCTQuant|0:fDCTQuant-.5|0;return outputfDCTQuant}(CDU,Diff),j=0;j<64;++j)DU[ZigZag[j]]=DU_DCT[j];Diff=DU[0]-DC;DC=DU[0],0==Diff?writeBits(HTDC[0]):(writeBits(HTDC[category[pos=32767+Diff]]),writeBits(bitcode[pos]));for(var end0pos=63;0<end0pos&&0==DU[end0pos];end0pos--);if(0==end0pos)return writeBits(EOB),DC;for(var i=1;i<=end0pos;){for(var nrzeroes=i;0==DU[i]&&i<=end0pos;++i);nrzeroes=i-nrzeroes;if(16<=nrzeroes){for(var lng=nrzeroes>>4,nrmarker=1;nrmarker<=lng;++nrmarker)writeBits(M16zeroes);nrzeroes&=15}pos=32767+DU[i],writeBits(HTAC[(nrzeroes<<4)+category[pos]]),writeBits(bitcode[pos]),i++}return 63!=end0pos&&writeBits(EOB),DC}function setQuality(quality){100<(quality=quality<=0?1:quality)&&(quality=100),currentQuality!=quality&&(function(sf){for(var YQT=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;i<64;i++){var t=ffloor((YQT[i]*sf+50)/100);t<1?t=1:255<t&&(t=255),YTable[ZigZag[i]]=t}for(var UVQT=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],j=0;j<64;j++){var u=ffloor((UVQT[j]*sf+50)/100);u<1?u=1:255<u&&(u=255),UVTable[ZigZag[j]]=u}for(var aasf=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],k=0,row=0;row<8;row++)for(var col=0;col<8;col++)fdtbl_Y[k]=1/(YTable[ZigZag[k]]*aasf[row]*aasf[col]*8),fdtbl_UV[k]=1/(UVTable[ZigZag[k]]*aasf[row]*aasf[col]*8),k++}(quality<50?Math.floor(5e3/quality):Math.floor(200-2*quality)),currentQuality=quality)}this.encode=function(image,width){width&&setQuality(width),byteout=new Array,bytenew=0,bytepos=7,writeWord(65496),writeWord(65504),writeWord(16),writeByte(74),writeByte(70),writeByte(73),writeByte(70),writeByte(0),writeByte(1),writeByte(1),writeByte(0),writeWord(1),writeWord(1),writeByte(0),writeByte(0),function(){writeWord(65499),writeWord(132),writeByte(0);for(var i=0;i<64;i++)writeByte(YTable[i]);writeByte(1);for(var j=0;j<64;j++)writeByte(UVTable[j])}(),function(width,height){writeWord(65472),writeWord(17),writeByte(8),writeWord(height),writeWord(width),writeByte(3),writeByte(1),writeByte(17),writeByte(0),writeByte(2),writeByte(17),writeByte(1),writeByte(3),writeByte(17),writeByte(1)}(image.width,image.height),function(){writeWord(65476),writeWord(418),writeByte(0);for(var i=0;i<16;i++)writeByte(std_dc_luminance_nrcodes[i+1]);for(var j=0;j<=11;j++)writeByte(std_dc_luminance_values[j]);writeByte(16);for(var k=0;k<16;k++)writeByte(std_ac_luminance_nrcodes[k+1]);for(var l=0;l<=161;l++)writeByte(std_ac_luminance_values[l]);writeByte(1);for(var m=0;m<16;m++)writeByte(std_dc_chrominance_nrcodes[m+1]);for(var n=0;n<=11;n++)writeByte(std_dc_chrominance_values[n]);writeByte(17);for(var o=0;o<16;o++)writeByte(std_ac_chrominance_nrcodes[o+1]);for(var p=0;p<=161;p++)writeByte(std_ac_chrominance_values[p])}(),writeWord(65498),writeWord(12),writeByte(3),writeByte(1),writeByte(0),writeByte(2),writeByte(17),writeByte(3),writeByte(17),writeByte(0),writeByte(63),writeByte(0);var DCY=0,DCU=0,DCV=0;bytenew=0,bytepos=7,this.encode.displayName="_encode_";for(var x,r,g,b,start,p,col,row,pos,imageData=image.data,width=image.width,height=image.height,quadWidth=4*width,y=0;y<height;){for(x=0;x<quadWidth;){for(p=start=quadWidth*y+x,pos=0;pos<64;pos++)p=start+(row=pos>>3)*quadWidth+(col=4*(7&pos)),height<=y+row&&(p-=quadWidth*(y+1+row-height)),quadWidth<=x+col&&(p-=x+col-quadWidth+4),r=imageData[p++],g=imageData[p++],b=imageData[p++],YDU[pos]=(RGB_YUV_TABLE[r]+RGB_YUV_TABLE[g+256>>0]+RGB_YUV_TABLE[b+512>>0]>>16)-128,UDU[pos]=(RGB_YUV_TABLE[r+768>>0]+RGB_YUV_TABLE[g+1024>>0]+RGB_YUV_TABLE[b+1280>>0]>>16)-128,VDU[pos]=(RGB_YUV_TABLE[r+1280>>0]+RGB_YUV_TABLE[g+1536>>0]+RGB_YUV_TABLE[b+1792>>0]>>16)-128;DCY=processDU(YDU,fdtbl_Y,DCY,YDC_HT,YAC_HT),DCU=processDU(UDU,fdtbl_UV,DCU,UVDC_HT,UVAC_HT),DCV=processDU(VDU,fdtbl_UV,DCV,UVDC_HT,UVAC_HT),x+=32}y+=8}0<=bytepos&&((jpegDataUri=[])[1]=bytepos+1,jpegDataUri[0]=(1<<bytepos+1)-1,writeBits(jpegDataUri)),writeWord(65497);var jpegDataUri="data:image/jpeg;base64,"+btoa(byteout.join(""));return byteout=[],jpegDataUri},quality=quality||50,function(){for(var sfcc=String.fromCharCode,i=0;i<256;i++)clt[i]=sfcc(i)}(),YDC_HT=computeHuffmanTbl(std_dc_luminance_nrcodes,std_dc_luminance_values),UVDC_HT=computeHuffmanTbl(std_dc_chrominance_nrcodes,std_dc_chrominance_values),YAC_HT=computeHuffmanTbl(std_ac_luminance_nrcodes,std_ac_luminance_values),UVAC_HT=computeHuffmanTbl(std_ac_chrominance_nrcodes,std_ac_chrominance_values),function(){for(var nrlower=1,nrupper=2,cat=1;cat<=15;cat++){for(var nr=nrlower;nr<nrupper;nr++)category[32767+nr]=cat,bitcode[32767+nr]=[],bitcode[32767+nr][1]=cat,bitcode[32767+nr][0]=nr;for(var nrneg=-(nrupper-1);nrneg<=-nrlower;nrneg++)category[32767+nrneg]=cat,bitcode[32767+nrneg]=[],bitcode[32767+nrneg][1]=cat,bitcode[32767+nrneg][0]=nrupper-1+nrneg;nrlower<<=1,nrupper<<=1}}(),function(){for(var i=0;i<256;i++)RGB_YUV_TABLE[i]=19595*i,RGB_YUV_TABLE[i+256>>0]=38470*i,RGB_YUV_TABLE[i+512>>0]=7471*i+32768,RGB_YUV_TABLE[i+768>>0]=-11059*i,RGB_YUV_TABLE[i+1024>>0]=-21709*i,RGB_YUV_TABLE[i+1280>>0]=32768*i+8421375,RGB_YUV_TABLE[i+1536>>0]=-27439*i,RGB_YUV_TABLE[i+1792>>0]=-5329*i}(),setQuality(quality)}return JPEGEncoder.encode=function(data,quality){return new JPEGEncoder(quality).encode(data)},JPEGEncoder}),define("runtime/html5/androidpatch",["runtime/html5/util","runtime/html5/jpegencoder","base"],function(Util,encoder,Base){var supportJpeg,origin=Util.canvasToDataUrl;Util.canvasToDataUrl=function(canvas,type,quality){var w,ctx,h;return Base.os.android?("image/jpeg"===type&&void 0===supportJpeg&&(ctx=(ctx=(~(h=(ctx=origin.apply(null,arguments)).split(","))[0].indexOf("base64")?atob:decodeURIComponent)(h[1])).substring(0,2),supportJpeg=255===ctx.charCodeAt(0)&&216===ctx.charCodeAt(1)),"image/jpeg"!==type||supportJpeg?origin.apply(null,arguments):(w=canvas.width,h=canvas.height,ctx=canvas.getContext("2d"),encoder.encode(ctx.getImageData(0,0,w,h),quality))):origin.apply(null,arguments)}}),define("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(Base,Html5Runtime,Util){return Html5Runtime.register("Image",{modified:!1,init:function(){var me=this,img=new Image;img.onload=function(){me._info={type:me.type,width:this.width,height:this.height},me._metas||"image/jpeg"!==me.type?me.owner.trigger("load"):Util.parseMeta(me._blob,function(error,ret){me._metas=ret,me.owner.trigger("load")})},img.onerror=function(){me.owner.trigger("error")},me._img=img},loadFromBlob:function(blob){var img=this._img;this._blob=blob,this.type=blob.type,img.src=Util.createObjectURL(blob.getSource()),this.owner.once("load",function(){Util.revokeObjectURL(img.src)})},resize:function(width,height){var canvas=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,canvas,width,height),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(x,y,w,h,s){var cvs=this._canvas||(this._canvas=document.createElement("canvas")),opts=this.options,img=this._img,iw=img.naturalWidth,ih=img.naturalHeight,orientation=this.getOrientation();s=s||1,cvs.width=w,cvs.height=h,opts.preserveHeaders||this._rotate2Orientaion(cvs,orientation),this._renderImageToCanvas(cvs,img,-x,-y,iw*s,ih*s),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(type){var canvas,blob=this._blob,opts=this.options;if(type=type||this.type,this.modified||this.type!==type){if(canvas=this._canvas,"image/jpeg"===type){if(blob=Util.canvasToDataUrl(canvas,type,opts.quality),opts.preserveHeaders&&this._metas&&this._metas.imageHead)return blob=Util.dataURL2ArrayBuffer(blob),blob=Util.updateImageHead(blob,this._metas.imageHead),blob=Util.arrayBufferToBlob(blob,type)}else blob=Util.canvasToDataUrl(canvas,type);blob=Util.dataURL2Blob(blob)}return blob},getAsDataUrl:function(type){var opts=this.options;return"image/jpeg"===(type=type||this.type)?Util.canvasToDataUrl(this._canvas,type,opts.quality):this._canvas.toDataURL(type)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(val){return val?(this._info=val,this):this._info},meta:function(val){return val?(this._meta=val,this):this._meta},destroy:function(){var canvas=this._canvas;this._img.onload=null,canvas&&(canvas.getContext("2d").clearRect(0,0,canvas.width,canvas.height),canvas.width=canvas.height=0,this._canvas=null),this._img.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D",this._img=this._blob=null},_resize:function(img,cvs,h,y){var opts=this.options,x=img.width,w=img.height,orientation=this.getOrientation();~[5,6,7,8].indexOf(orientation)&&(h^=y,h^=y^=h),y=1,h=w*(y=!opts.allowMagnify?Math.min(1,y):y),cvs.width=w=x*y,cvs.height=h,x=(cvs.width-w)/2,y=(cvs.height-h)/2,opts.preserveHeaders||this._rotate2Orientaion(cvs,orientation),this._renderImageToCanvas(cvs,img,x,y,w,h)},_rotate2Orientaion:function(canvas,orientation){var width=canvas.width,height=canvas.height,ctx=canvas.getContext("2d");switch(orientation){case 5:case 6:case 7:case 8:canvas.width=height,canvas.height=width}switch(orientation){case 2:ctx.translate(width,0),ctx.scale(-1,1);break;case 3:ctx.translate(width,height),ctx.rotate(Math.PI);break;case 4:ctx.translate(0,height),ctx.scale(1,-1);break;case 5:ctx.rotate(.5*Math.PI),ctx.scale(1,-1);break;case 6:ctx.rotate(.5*Math.PI),ctx.translate(0,-height);break;case 7:ctx.rotate(.5*Math.PI),ctx.translate(width,-height),ctx.scale(-1,1);break;case 8:ctx.rotate(-.5*Math.PI),ctx.translate(-width,0)}},_renderImageToCanvas:Base.os.ios?7<=Base.os.ios?function(canvas,img,x,y,w,h){var iw=img.naturalWidth,ih=img.naturalHeight,vertSquashRatio=detectVerticalSquash(img,0,ih);return canvas.getContext("2d").drawImage(img,0,0,iw*vertSquashRatio,ih*vertSquashRatio,x,y,w,h)}:function(vertSquashRatio,img,x,y,width,height){var tmpCanvas,tmpCtx,dw,dh,sx,dx,iw=img.naturalWidth,ih=img.naturalHeight,ctx=vertSquashRatio.getContext("2d"),subsampled=function(img){var ctx,iw=img.naturalWidth;return 1048576<iw*img.naturalHeight&&((ctx=document.createElement("canvas")).width=ctx.height=1,(ctx=ctx.getContext("2d")).drawImage(img,1-iw,0),0===ctx.getImageData(0,0,1,1).data[3])}(img),vertSquashRatio="image/jpeg"===this.type,d=1024,sy=0,dy=0;for(subsampled&&(iw/=2,ih/=2),ctx.save(),(tmpCanvas=document.createElement("canvas")).width=tmpCanvas.height=d,tmpCtx=tmpCanvas.getContext("2d"),vertSquashRatio=vertSquashRatio?detectVerticalSquash(img,0,ih):1,dw=Math.ceil(d*width/iw),dh=Math.ceil(d*height/ih/vertSquashRatio);sy<ih;){for(dx=sx=0;sx<iw;)tmpCtx.clearRect(0,0,d,d),tmpCtx.drawImage(img,-sx,-sy),ctx.drawImage(tmpCanvas,0,0,d,d,x+dx,y+dy,dw,dh),sx+=d,dx+=dw;sy+=d,dy+=dh}ctx.restore()}:function(canvas){var args=Base.slice(arguments,1),ctx=canvas.getContext("2d");ctx.drawImage.apply(ctx,args)}});function detectVerticalSquash(img,iw,ratio){var data,canvas=document.createElement("canvas"),ctx=canvas.getContext("2d"),sy=0,ey=ratio,py=ratio;for(canvas.width=1,canvas.height=ratio,ctx.drawImage(img,0,0),data=ctx.getImageData(0,0,1,ratio).data;sy<py;)0===data[4*(py-1)+3]?ey=py:sy=py,py=ey+sy>>1;return 0==(ratio=py/ratio)?1:ratio}}),define("runtime/html5/transport",["base","runtime/html5/runtime"],function(Base,Html5Runtime){var noop=Base.noop,$=Base.$;return Html5Runtime.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var formData,binary,fr,owner=this.owner,opts=this.options,xhr=this._initAjax(),blob=owner._blob,server=opts.server;opts.sendAsBinary?(server+=(/\?/.test(server)?"&":"?")+$.param(owner._formData),binary=blob.getSource()):(formData=new FormData,$.each(owner._formData,function(k,v){formData.append(k,v)}),formData.append(opts.fileVal,blob.getSource(),opts.filename||owner._formData.name||"")),opts.withCredentials&&"withCredentials"in xhr?(xhr.open(opts.method,server,!0),xhr.withCredentials=!0):xhr.open(opts.method,server),this._setRequestHeader(xhr,opts.headers),binary?(xhr.overrideMimeType&&xhr.overrideMimeType("application/octet-stream"),Base.os.android?((fr=new FileReader).onload=function(){xhr.send(this.result),fr=fr.onload=null},fr.readAsArrayBuffer(binary)):xhr.send(binary)):xhr.send(JSON.stringify(opts.formData))},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var xhr=this._xhr;xhr&&(xhr.upload.onprogress=noop,xhr.onreadystatechange=noop,xhr.abort(),this._xhr=xhr=null)},destroy:function(){this.abort()},_initAjax:function(){var me=this,xhr=new XMLHttpRequest,opts=this.options;return(xhr=opts.withCredentials&&!("withCredentials"in xhr)&&"undefined"!=typeof XDomainRequest?new XDomainRequest:xhr).upload.onprogress=function(e){var percentage=0;return e.lengthComputable&&(percentage=e.loaded/e.total),me.trigger("progress",percentage)},xhr.onreadystatechange=function(){if(4===xhr.readyState)return xhr.upload.onprogress=noop,xhr.onreadystatechange=noop,me._xhr=null,me._status=xhr.status,200<=xhr.status&&xhr.status<300?(me._response=xhr.responseText,me.trigger("load")):500<=xhr.status&&xhr.status<600?(me._response=xhr.responseText,me.trigger("error","server")):me.trigger("error",me._status?"http":"abort")},me._xhr=xhr},_setRequestHeader:function(xhr,headers){$.each(headers,function(key,val){xhr.setRequestHeader(key,val)})},_parseJson:function(str){var json;try{json=JSON.parse(str)}catch(ex){json={}}return json}})}),define("runtime/html5/md5",["runtime/html5/runtime"],function(FlashRuntime){var add32=function(a,b){return a+b&4294967295},cmn=function(q,a,b,x,s,t){return a=add32(add32(a,q),add32(x,t)),add32(a<<s|a>>>32-s,b)},ff=function(a,b,c,d,x,s,t){return cmn(b&c|~b&d,a,b,x,s,t)},gg=function(a,b,c,d,x,s,t){return cmn(b&d|c&~d,a,b,x,s,t)},hh=function(a,b,c,d,x,s,t){return cmn(b^c^d,a,b,x,s,t)},ii=function(a,b,c,d,x,s,t){return cmn(c^(b|~d),a,b,x,s,t)},md5cycle=function(x,k){var a=x[0],b=x[1],c=x[2],d=x[3],a=ff(a,b,c,d,k[0],7,-680876936),d=ff(d,a,b,c,k[1],12,-389564586),c=ff(c,d,a,b,k[2],17,606105819),b=ff(b,c,d,a,k[3],22,-1044525330);a=ff(a,b,c,d,k[4],7,-176418897),d=ff(d,a,b,c,k[5],12,1200080426),c=ff(c,d,a,b,k[6],17,-1473231341),b=ff(b,c,d,a,k[7],22,-45705983),a=ff(a,b,c,d,k[8],7,1770035416),d=ff(d,a,b,c,k[9],12,-1958414417),c=ff(c,d,a,b,k[10],17,-42063),b=ff(b,c,d,a,k[11],22,-1990404162),a=ff(a,b,c,d,k[12],7,1804603682),d=ff(d,a,b,c,k[13],12,-40341101),c=ff(c,d,a,b,k[14],17,-1502002290),b=ff(b,c,d,a,k[15],22,1236535329),a=gg(a,b,c,d,k[1],5,-165796510),d=gg(d,a,b,c,k[6],9,-1069501632),c=gg(c,d,a,b,k[11],14,643717713),b=gg(b,c,d,a,k[0],20,-373897302),a=gg(a,b,c,d,k[5],5,-701558691),d=gg(d,a,b,c,k[10],9,38016083),c=gg(c,d,a,b,k[15],14,-660478335),b=gg(b,c,d,a,k[4],20,-405537848),a=gg(a,b,c,d,k[9],5,568446438),d=gg(d,a,b,c,k[14],9,-1019803690),c=gg(c,d,a,b,k[3],14,-187363961),b=gg(b,c,d,a,k[8],20,1163531501),a=gg(a,b,c,d,k[13],5,-1444681467),d=gg(d,a,b,c,k[2],9,-51403784),c=gg(c,d,a,b,k[7],14,1735328473),b=gg(b,c,d,a,k[12],20,-1926607734),a=hh(a,b,c,d,k[5],4,-378558),d=hh(d,a,b,c,k[8],11,-2022574463),c=hh(c,d,a,b,k[11],16,1839030562),b=hh(b,c,d,a,k[14],23,-35309556),a=hh(a,b,c,d,k[1],4,-1530992060),d=hh(d,a,b,c,k[4],11,1272893353),c=hh(c,d,a,b,k[7],16,-155497632),b=hh(b,c,d,a,k[10],23,-1094730640),a=hh(a,b,c,d,k[13],4,681279174),d=hh(d,a,b,c,k[0],11,-358537222),c=hh(c,d,a,b,k[3],16,-722521979),b=hh(b,c,d,a,k[6],23,76029189),a=hh(a,b,c,d,k[9],4,-640364487),d=hh(d,a,b,c,k[12],11,-421815835),c=hh(c,d,a,b,k[15],16,530742520),b=hh(b,c,d,a,k[2],23,-995338651),a=ii(a,b,c,d,k[0],6,-198630844),d=ii(d,a,b,c,k[7],10,1126891415),c=ii(c,d,a,b,k[14],15,-1416354905),b=ii(b,c,d,a,k[5],21,-57434055),a=ii(a,b,c,d,k[12],6,1700485571),d=ii(d,a,b,c,k[3],10,-1894986606),c=ii(c,d,a,b,k[10],15,-1051523),b=ii(b,c,d,a,k[1],21,-2054922799),a=ii(a,b,c,d,k[8],6,1873313359),d=ii(d,a,b,c,k[15],10,-30611744),c=ii(c,d,a,b,k[6],15,-1560198380),b=ii(b,c,d,a,k[13],21,1309151649),a=ii(a,b,c,d,k[4],6,-145523070),d=ii(d,a,b,c,k[11],10,-1120210379),c=ii(c,d,a,b,k[2],15,718787259),b=ii(b,c,d,a,k[9],21,-343485551),x[0]=add32(a,x[0]),x[1]=add32(b,x[1]),x[2]=add32(c,x[2]),x[3]=add32(d,x[3])},md5blk=function(s){for(var md5blks=[],i=0;i<64;i+=4)md5blks[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24);return md5blks},md5blk_array=function(a){for(var md5blks=[],i=0;i<64;i+=4)md5blks[i>>2]=a[i]+(a[i+1]<<8)+(a[i+2]<<16)+(a[i+3]<<24);return md5blks},md51=function(s){for(var length,tail,lo,hi,n=s.length,state=[1732584193,-271733879,-1732584194,271733878],i=64;i<=n;i+=64)md5cycle(state,md5blk(s.substring(i-64,i)));for(length=(s=s.substring(i-64)).length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<length;i+=1)tail[i>>2]|=s.charCodeAt(i)<<(i%4<<3);if(tail[i>>2]|=128<<(i%4<<3),55<i)for(md5cycle(state,tail),i=0;i<16;i+=1)tail[i]=0;return hi=(hi=8*n).toString(16).match(/(.*?)(.{0,8})$/),lo=parseInt(hi[2],16),hi=parseInt(hi[1],16)||0,tail[14]=lo,tail[15]=hi,md5cycle(state,tail),state},hex_chr=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],hex=function(x){for(var i=0;i<x.length;i+=1)x[i]=function(){}