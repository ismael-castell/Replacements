!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ht=t():e.ht=t()}(this,function(){return function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(e,t,r){"use strict";var n=r(1),i=r(15),o=r(6),a=r(4),s=r(19),c=r(32),u=r(18),d=r(33),l=r(34),f=r(11),p=r(8),h={version:a.version,host:a.api.track,aop_host:a.api.aop};p.extend(h,s);try{o.reset(),n.init(),h.sendTrack.triggered=!0,i.init(),d(),u.selection(),l.check()}catch(e){f.error(e," :: app error")}c.init(h),c.adapterSPA({routerChange:function(e,t){h.sendTrack.triggered=!1,h.sendTrack(e,t)}}),window._ht_global_=h,e.exports=h},function(e,t,r){"use strict";var n=r(2),i=r(5),o=r(14),a=r(6),s=function(){try{window.HJSDK.invoke&&window.HJSDK.invoke("service_getEnvironment",{},function(e){a.set({userId:e.user_id}),c()},function(e){c()})}catch(e){c()}},c=function(){a.resetCookie(),n.request();var e=i.querystring("ch_source");e&&o.request(e)},u={init:function(){window.HJSDK?s():c()}};e.exports=u},function(e,t,r){"use strict";var n=function(){function sliceIterator(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=r(3),o=r(4),a=r(6),s=r(12),c=r(13),u=r(8),d=r(9),l=(r(11),o.api),f=o.timeset,p={decode:function(e){},request:function(){var e=l.track+"/v4/track",t=c.getTrackQuery(),r=u.extend({},t);if(window.HJApp){JSON.stringify({url:window.location.href,ext_json:r})}var p=a.data(),h=p.domainRoot,v=p.siteId,m=p.domainDefault;".hujiang.com"===h||9===v||(r.is_sync=1);var g={d:encodeURIComponent(JSON.stringify(r)),t:+new Date},y=function(e){if(e){if(!(u.keys(e).length<=8)){var t=a.data(),r=t.sessionIdOfDomain,o=t.sessionIdOfSite,s=r!==e.HJ_SID,c=o!==e.HJ_SSID,d=(e._SC||"").split("|"),l=n(d,4),p=l[0],h=l[1],v=l[2],g=l[3];a.set({uuid:e.HJ_UID,sessionIdOfDomain:e.HJ_SID,sessionIdOfSite:e.HJ_SSID,sourceRefertoSite:e.HJ_SREF,sourceRefertoDomain:e._REF,sitemap:e.TRACKSITEMAP});a.data().visitorTypeOfSite!==e.HJ_VT&&(2===e.HJ_VT&&a.set({visitorTypeOfDomain:1,isNewAccessory:1}),1===e.HJ_VT&&a.set({isNewAccessory:1})),s&&a.set({sessionSourceOfDomain:{source:h,para:v,cate:p,paraType:g}}),c&&a.set({sessionSourceOfSite:{source:h,para:v,cate:p,paraType:g}}),a.resetCookie();var y=e.ch_source;y&&(a.set({chSource:y}),i.set("ch_source",y,{expires:f.halfHour,domain:m}))}}};if(u.lteIE9)s.jsonp({url:e,query:g,callback:y});else{(o.env.QA||o.env.YZ)&&o.raw&&console.log("REQUEST QUERY: ",g),g.d=d.encode(g.d),s.ajax({url:e,data:g,method:"POST",withCredentials:!0,complete:y})}}};e.exports=p},function(e,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function cookie(){return cookie.get.apply(cookie,arguments)},i=n.utils={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isPlainObject:function(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)},toArray:function(e){return Array.prototype.slice.call(e)},getKeys:Object.keys||function(e){var t=[],r="";for(r in e)e.hasOwnProperty(r)&&t.push(r);return t},encode:function(e){return String(e).replace(/[,;"\\=\s%]/g,function(e){return encodeURIComponent(e)})},decode:function(e){return decodeURIComponent(e)},retrieve:function(e,t){return null==e?t:e}};n.defaults={secure:!0},n.expiresMultiplier=86400,n.set=function(e,t,n){if(i.isPlainObject(e))for(var o in e)e.hasOwnProperty(o)&&this.set(o,e[o],t);else{n=i.isPlainObject(n)?n:{expires:n};var a=void 0!==n.expires?n.expires:this.defaults.expires||"",s=void 0===a?"undefined":r(a);"string"===s&&""!==a?a=new Date(a):"number"===s&&(a=new Date(+new Date+1e3*this.expiresMultiplier*a)),""!==a&&"toGMTString"in a&&(a=";expires="+a.toGMTString());var c=n.path||this.defaults.path;c=";path="+(c||"/");var u=n.domain||this.defaults.domain;u=u?";domain="+u:"";var d=n.secure||this.defaults.secure?";SameSite=None;secure":"";!1===n.secure&&(d=""),document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+c+u+d}return this},n.setDefault=function(e,t,r){if(i.isPlainObject(e)){for(var o in e)void 0===this.get(o)&&this.set(o,e[o],t);return n}if(void 0===this.get(e))return this.set.apply(this,arguments)},n.remove=function(e){e=i.isArray(e)?e:i.toArray(arguments);for(var t=0,r=e.length;t<r;t++)this.set(e[t],"",-1);return this},n.removeSpecific=function(e,t){if(!t)return this.remove(e);e=i.isArray(e)?e:[e],t.expires=-1;for(var r=0,n=e.length;r<n;r++)this.set(e[r],"",t);return this},n.empty=function(){return this.remove(i.getKeys(this.all()))},n.get=function(e,t){var r=this.all();if(i.isArray(e)){for(var n={},o=0,a=e.length;o<a;o++){var s=e[o];n[s]=i.retrieve(r[s],t)}return n}return i.retrieve(r[e],t)},n.all=function(){if(""===document.cookie)return{};for(var e=document.cookie.split("; "),t={},r=0,n=e.length;r<n;r++){var o=e[r].split("="),a=i.decode(o.shift()),s=i.decode(o.join("=")).replace(/^['"](\S*)['"]$/,"$1");t[a]=s}return t},n.enabled=function(){if(navigator.cookieEnabled)return!0;var e="_"===n.set("_","_").get("_");return n.remove("_"),e},e.exports=n},function(e,t,r){"use strict";var n=window.location.host,i=/^(qa|dev)/.test(n),o=/^yz/.test(n),a=r(5),s="1"===a.querystring("bi-raw"),c=window.location.protocol;c=/^https?/.test(c)?c:"https:";var u={env:{QA:i,YZ:o},raw:s,timeset:{halfHour:1/24/2,oneHour:1/24,oneDay:1,oneMonth:30,halfYear:182.5},maxUrlLength:256,version:"1.4.7",api:{track:c+(i?"//qatrack.hujiang.com":"//track.hujiang.com"),ut:c+(i?"//ut.qabi.hujiang.com":"//ut.hujiang.com"),aop:c+(i?"//qaaoptrack.hujiang.com":"//aoptrack.hujiang.com"),deeplink:"https://deeplink.hujiang.com"},hosts:["hujiang.com","hjenglish.com","cctalk.com","cctalk.net","hjclass.com","yeshj.com","hjbook.net","hujia.org","shangkedu.com","hitalk.com","xuejintech.com","xinmai100.com"],special:[["class.hujiang.com","www.hjclass.com","topic.s.hujiang.com/public","topic.s.hujiang.com/app/public","www.hitalk.com"],["m.hjclass.com","mc.hujiang.com"],["jp.hujiang.com","jp.hjenglish.com"],["dw.hujiang.com","do.hujiang.com","dop.hujiang.com"]],pass:["login.hujiang.com","pass.hujiang.com","pass2.hujiang.com","pass.hjclass.com","pass.cctalk.com","pass.cctalk.net","pass.yeshj.com"]};e.exports=u},function(e,t){"use strict";var r=function(e){for(var t={key:["url","protocol","host","userInfo","user","password","hostname","port","relative","path","pathname","file","querystring","hash"],parser:{loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=t.parser.loose.exec(e),n={},i=14;i--;)n[t.key[i]]=r[i]||"";return n},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i");t=t.replace(/^[^?]+\?/i,"").replace(/#.+$/,"");var n=t.match(r);return null!==n?a(n[2]):null},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,r=[];e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");for(var n=e+"=([^&#]*)",i=new RegExp(n,"ig");;){var o=i.exec(t);if(!o)break;r.push(o[1])}return r.length?1==r.length?r[0]:r:null},o=function(e){return e=e||"",encodeURIComponent(e)},a=function(e){e=e||"";try{return decodeURIComponent(e)}catch(t){return e}};e.exports={parse:r,querystring:n,getURLParam:i,encode:o,decode:a}},function(e,t,r){"use strict";var n=r(3),i=r(7),o=r(8),a=r(9),s=r(5),c=r(4),u=c.timeset,d=r(10);r(11);window.Cookies=n;var l=function(e){e&&o.each(e,function(e){var t=e[0],r=e[1],i=e[2];n.set(t,r,i)})},f=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.special,r=-1,n=0;n<t.length;n++){if(new RegExp(t[n].join("|"),"gi").test(e)){r=n;break}}return r},p=function(e,t){var r=!1;if(e&&t){var n=s.parse(e),i=s.parse(t);if(n.host===i.host)r=!0;else{var o=f(n.host),a=f(i.host);r=o>-1&&a>-1&&o===a}}return r},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.hosts,r="";if(e)for(var n=s.parse(e),i=n.host,o=0;o<t.length;o++)if(~i.indexOf(t[o])){r=t[o];break}return r},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.pass,r=!1;if(e){var n=s.parse(e),i=n.host;r=new RegExp(t.join("|"),"gi").test(i)}return r},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"site",t=N.data(),r=t.url,n=t.sourceRefertoDomain,i=t.sourceRefertoSite,o=t.ua,a="site"===e?i:n,s=d.get(r,a,o);return{source:s.source,para:s.sourceParameter,cate:s.sourceCate,paraType:s.sourceParameterType}},g=function(e){var t="direct",r="",n="",i="";if(e&&/\|/.test(e)){var o=e.split("|");t=R(o[0]),r=o[1]||"",n=o[2]||"",i=o[3]||""}return{source:t,para:r,cate:n,paraType:i}},y=function(){var e=N.data(),t=e.sourceRefertoDomain,r=e.refer,n=e.domainRoot,i=o.getUUID();if(N.set({sessionIdOfDomain:i}),!h(r)){var a=t||r;a=a.length>c.maxUrlLength?a.slice(0,c.maxUrlLength):a,N.set({sourceRefertoDomain:a})}N.set({sessionSourceOfDomain:m("domain")});var s=N.data(),d=s.sessionIdOfDomain,f=s.sessionSourceOfDomain,p=s.sourceRefertoDomain,v=[["HJ_SID",d,{expires:u.halfHour,domain:n}],["_REF",p,{expires:u.halfYear,domain:n}],["_REG",f.source+"|"+f.para+"|"+f.cate+"|"+f.paraType,{expires:u.halfYear,domain:n}]];l(v)},w=function(){var e=N.data(),t=e.refer,r=e.sourceRefertoSite,n=e.siteId,i=o.getUUID(),a=!p(window.location.host,t),s=!v(t);if(a&&s){var f=t||r;f=f.length>c.maxUrlLength?f.slice(0,c.maxUrlLength):f,N.set({sourceRefertoSite:f})}var h=d.getBiRegQuery(),g=h.source,y=h.para,w=h.cate,_=h.paraType;g=R(g),N.set({sessionIdOfSite:i,isNewSessionOfSite:1,sessionSourceOfSite:g?{source:g,para:y,cate:w,paraType:_}:m("site")});var S=N.data(),b=S.sessionIdOfSite,x=S.sessionSourceOfSite,j=S.sourceRefertoSite,C=S.domainRoot,O=[["HJ_SSID_"+n,b,{expires:u.halfHour,domain:C}],["_SREF_"+n,j,{expires:u.halfYear,domain:C}],["_SREG_"+n,x.source+"|"+x.para+"|"+x.cate+"|"+x.paraType,{expires:u.halfYear,domain:C}]];l(O)},_=function(){N.set({uuid:o.getUUID(),visitorTypeOfSite:2,visitorTypeOfDomain:1});var e=N.data(),t=e.uuid,r=e.visitorTypeOfDomain,n=e.domainRoot,i=[["HJ_UID",t,{expires:u.halfYear,domain:n}],["HJ_CST",r,{expires:u.halfHour,domain:n}]];l(i)},S=function(){var e=N.data(),t=e.sitemap,r=e.siteId;if(t){var n=t.split(",");return!o.find(n,function(e){return e===""+r})}return!0},b=function(){var e=N.data(),t=e.sitemap,r=e.siteId;t=t&&t.replace(/,+$/,"")||"",t=t&&t.split(",")||[],t.push(r),N.set({isNewAccessory:1,sitemap:t.join(",")});var n=N.data(),i=n.isNewAccessory,o=n.sitemap,a=n.domainRoot,s=[["HJ_CSST_"+r,i,{expires:u.halfHour,domain:a}],["TRACKSITEMAP",o,{expires:u.halfYear,domain:a}]];l(s)},x=function(){var e=N.data(),t=e.siteId,r=e.domainRoot,n=e.sessionIdOfDomain,i=e.sessionIdOfSite,o=e.isNewAccessory,a=e.visitorTypeOfDomain,s=e.uuid,c=e.sitemap,d=e.sourceRefertoDomain,f=e.sourceRefertoSite,p=e.sessionSourceOfDomain,h=e.sessionSourceOfSite,v=e.gdtVid,m=[["HJ_UID",s,{expires:u.halfYear,domain:r}],["_SREF_"+t,f,{expires:u.halfYear,domain:r}],["_REF",d,{expires:u.halfYear,domain:r}],["TRACKSITEMAP",c,{expires:u.halfYear,domain:r}],["HJ_SID",n,{expires:u.halfHour,domain:r}],["HJ_SSID_"+t,i,{expires:u.halfHour,domain:r}],["HJ_CST",a,{expires:u.halfHour,domain:r}],["HJ_CSST_"+t,o,{expires:u.halfHour,domain:r}],["_SREG_"+t,h.source+"|"+h.para+"|"+h.cate+"|"+h.paraType,{expires:u.halfYear,domain:r}],["_REG",p.source+"|"+p.para+"|"+p.cate+"|"+p.paraType,{expires:u.halfYear,domain:r}]];if(l(m),v&&l([["HJ_GDT_VID",v,{expires:u.oneHour,domain:r}]]),6===t||45===t){var g=6===t?45:6,y=[["HJ_SSID_"+g,i,{expires:u.halfHour,domain:r}],["HJ_CSST_"+g,o,{expires:u.halfHour,domain:r}],["_SREF_"+g,f,{expires:u.halfYear,domain:r}]];l(y)}},j=function(){var e=n.get("hj_token");if(!e||!~e.indexOf("|"))return 0;try{return parseInt(a.decode(e.split("|")[1]),16)}catch(e){return 0}},C=function(){var e={},t=n.get(),r=o.filter(o.keys(t),function(e){return/^HJC_/gi.test(e)});r&&o.each(r,function(r){e[r]=t[r]});var i=O();return o.extend(e,{res:i.screen.w+"*"+i.screen.h,wres:i.window.w+"*"+i.window.h,bdhm:k(),title:window.encodeURIComponent(document.title)}),JSON.stringify(e)},O=function(){return{screen:{w:window.screen.width||0,h:window.screen.height||0},window:{w:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}},k=function(){var e;return function(){for(var t in window)if(o.own(window,t)&&0===t.indexOf("_bdhm_loaded_")){e=t.replace("_bdhm_loaded_","");break}return!e&&window._hmt&&(e=window._hmt.account),e||window._hmt}()?{accout:e,loaded:window._hmt&&e||!1}:null},I=function(e){e=e.replace(/:\d+$/g,"");var t=e.match(/(\.?[^.]+\.[^.]+)$/g);return t&&t[0]},E=function(e){var t=void 0;try{t=new i({canvas:!0}).get()}catch(e){t=0}e&&e(t)},R=function(e){var t=/https?%/i;if(t.test(e)){var r=!1;do{try{e=decodeURIComponent(e),r=!t.test(e)}catch(e){r=!0}}while(!r)}return e},D=function(e){var t=/Android/i.test(e),r=/BlackBerry/i.test(e),n=/IEMobile/i.test(e),i=/iPhone|iPad|iPod/i.test(e),o=/HJApp/i.test(e),a=/CTpc/i.test(e),s=/CTmac/i.test(e),c=/micromessenger/i.test(e),u=t||i||r||n;return/miniProgram/i.test(e)||/miniProgram/i.test(window.__wxjs_environment)?"wechat_app_web":c?"wechat":a?"pc_client":s?"mac_client":o?"hjapp_web":u?"mobile":"pc"},T=function(){var e=window.location.hostname,t=I(e),r=window._siteid||0,i=window.location.href,o=document.referrer,a=window.navigator.userAgent.toLowerCase(),c=n.get("HJ_UID"),u=n.get("HJ_SID"),l=n.get("HJ_SSID_"+r),f="1"===n.get("HJ_CST")?1:0,p="1"===n.get("HJ_CSST_"+r)?1:0,h=n.get("_REF")||n.get("HJ_REF")||"",v=n.get("_SREF_"+r)||n.get("HJ_SREF_"+r)||"";h=R(h),v=R(v);var m=n.get("TRACKSITEMAP")||n.get("HJ_TRACKSITEMAP")||"",y=n.get("ch_source")||"",w=d.getBiRegQuery(),_={source:w.source,para:w.para,cate:w.cate,paraType:w.paraType},S=g(n.get("_REG")),b=_.source?_:g(n.get("_SREG_"+r));return{domain:e,domainRoot:t,domainDefault:window.ht&&window.ht.useParentDomain?t:e,siteId:r,url:i,refer:o,ua:a,uuid:c,clientParameter:C(),sessionIdOfDomain:u,sessionIdOfSite:l,sessionSourceOfDomain:S,sessionSourceOfSite:b,isNewAccessory:p,isNewSessionOfSite:0,isNewSessionOfDomain:0,visitorTypeOfSite:0,visitorTypeOfDomain:f,sourceRefertoDomain:h,sourceRefertoSite:v,sitemap:m,source:y,version:"1.4.7",userId:j(),fingerprint:"",terminalType:D(a),gdtVid:n.get("HJ_GDT_VID")||s.getURLParam("gdt_vid")}},A={},N={validateMainHJSite:h,fixMultipleEncodeUrl:R,resetCookie:x,getEnvSource:m,set:function(e){for(var t in e)A[t]=e[t]},data:function(e){return e?A[e]:A},reset:function(){A=T(),E(function(e){N.set({fingerprint:e})});var e=N.data(),t=e.siteId,r=e.uuid,n=e.sessionIdOfDomain,i=e.sessionIdOfSite;if(!t)return void(console&&console.error("Error: Global '_siteid' is not defined"));r||_(),S()&&b(),n||(y(),N.set({isNewSessionOfDomain:1})),i||(w(),N.set({isNewSessionOfSite:1}))}};e.exports=N},function(e,t,r){var n,i;!function(o,a,s){void 0!==e&&e.exports?e.exports=s():(n=s,void 0!==(i="function"==typeof n?n.call(t,r,t,e):n)&&(e.exports=i))}(0,0,function(){"use strict";var e=function(e){var t,r;t=Array.prototype.forEach,r=Array.prototype.map,this.each=function(){}