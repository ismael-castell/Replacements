(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[50993,9726,80372,52280],{624780:e=>{e.exports={"tv-spinner__container-rotate":"tv-spinner__container-rotate-z2AhmXBd"}},607436:(e,t,s)=>{"use strict";s.d(t,{DEFAULT_SIZE:()=>r,spinnerSizeMap:()=>i});const r="large",i={mini:"xsmall",xsmall:"xsmall",small:"small",medium:"medium",large:"large"}},941285:(e,t,s)=>{"use strict";s.d(t,{Spinner:()=>a});s(624780);var r=s(698969),i=s(607436);const n=(0,r.parseHtmlElement)(function(e=""){return`<div class="tv-spinner ${e}" role="progressbar"></div>`}());class a{constructor(e){this._shown=!1,this._el=n.cloneNode(!0),this.setSize(i.spinnerSizeMap[e||i.DEFAULT_SIZE])}spin(e){return this._el.classList.add("tv-spinner--shown"),void 0===this._container&&(this._container=e,void 0!==e&&e.appendChild(this._el)),this._shown=!0,this}stop(e){return e&&void 0!==this._container&&this._container.removeChild(this._el),this._el.classList.remove("tv-spinner--shown"),this._shown=!1,this}setStyle(e){return Object.keys(e).forEach(t=>{const s=e[t];void 0!==s&&this._el.style.setProperty(t,s)}),this}style(){return this._el.style}setSize(e){const t=void 0!==e?"tv-spinner--size_"+e:"";return this._el.className=`tv-spinner ${t} ${this._shown?"tv-spinner--shown":""}`,this}getEl(){return this._el}destroy(){this.stop(),delete this._el,delete this._container}}},377884:(e,t,s)=>{"use strict";function r(e,t){return e<t}function i(e,t,s,r,i){let n=i-r;for(;0<n;){const i=n>>1,a=r+i;s(e(a),t)?(r=a+1,n-=i+1):n=i}return r}function n(e,t,s,r=0,n=e.length){return i(t=>e[t],t,s,r,n)}function a(e,t,s=0,i=e.length){return n(e,t,r,s,i)}function o(e,t,s,r=0,i=e.length){let n=i-r;for(;0<n;){const i=n>>1,a=r+i;s(t,e[a])?n=i:(r=a+1,n-=i+1)}return r}function l(e,t){return e.filter(e=>!t.includes(e))}function h(e,t){const s=e.indexOf(t);return s<0?e.slice():[t].concat(e.slice(0,s)).concat(e.slice(s+1))}function d(e,t,s){const r=new Set(t),i=[],n=[],o=[];return e.forEach((e,t)=>{r.has(e)?n.push(e):(i.push(e),o.push(t))}),s=s<e.length-1?a(o,s+1):i.length,i.splice(s,0,...n),{newItems:i,movedItemsStartIndex:s}}function c(e,t,s){const r=new Set(t),i=[],n=[],o=[];return e.forEach((e,t)=>{r.has(e)?n.push(e):(i.push(e),o.push(t))}),s=s<=e.length-1?a(o,s):i.length,i.splice(s,0,...n),{newItems:i,movedItemsStartIndex:s}}function u(e,t){const s=new Set;return e.forEach(e=>{t.has(e)&&s.add(e)}),s}s.d(t,{lowerboundExt:()=>i,lowerbound:()=>n,upperbound:()=>o,subtract:()=>l,moveToHead:()=>h,moveAfter:()=>d,moveBefore:()=>c,intersect:()=>u})},15693:(e,t,s)=>{"use strict";function r(e){return Boolean(e.inputs)||function(e){return Boolean(e.replay)}(e)||e.session||e.adjustment||e["currency-id"]||e["unit-id"]?function(e){return"="+JSON.stringify(e)}(e):e.symbol}function i(e){return"="===e[0]}function n(e){if(!i(e))return{symbol:e};try{return JSON.parse(e.slice(1))}catch(t){return{symbol:e}}}function a(e){return"string"==typeof e?e:a(e.symbol)}s.d(t,{encodeExtendedSymbolOrGetSimpleSymbolString:()=>r,isEncodedExtendedSymbol:()=>i,decodeExtendedSymbol:()=>n,
unwrapSimpleSymbol:()=>a})},908803:(e,t,s)=>{"use strict";var r;s.d(t,{SymbolErrorPermissionDeniedReason:()=>r,permissionDenied:()=>i,invalidSymbol:()=>n}),function(e){e.Symbol="symbol",e.GroupPermission="group"}(r||(r={}));const i="permission denied",n="invalid symbol"},695078:(e,t,s)=>{"use strict";s.d(t,{ensureTimePointIndexIndex:()=>a,unpackNonSeriesData:()=>o});var r=s(706617),i=s(588537);function n(e){if(!(0,r.isObject)(e))throw new Error("Graphics commands should be wrapped in an object");if((0,r.hasProperty)(e,"create"),(0,r.hasProperty)(e,"erase")){const t=e.erase;(0,i.assert)(Array.isArray(t),"Collection of erase commands should be array");for(const e of t){if(!(0,r.isObject)(e)||!(0,r.hasProperty)(e,"action"))throw new Error("Command should be an object with 'action' property");(0,i.assert)("all"===e.action||"one"===e.action,"Erase command action should be 'all' or 'one'")}}return e}function a(e){if(e<0)throw new Error("TimePointIndexIndex should be non-negative integer");return e}async function o(e){if(""===e)return null;const t=JSON.parse(e);if(!(0,r.isObject)(t)||"function"==typeof t)throw new Error("Non-object content in the non-series envelope");if((0,r.hasProperty)(t,"indexes_replace"))return{indexes_replace:!0};const i={indexes_replace:!1};if((0,r.hasProperty)(t,"offsets")&&(i.offsets=t.offsets),(0,r.hasProperty)(t,"isUpdate")){if("boolean"!=typeof t.isUpdate)throw new Error('Invalid type of "isUpdate" field');i.isUpdate=t.isUpdate}if((0,r.hasProperty)(t,"data")&&(i.data=t.data),(0,r.hasProperty)(t,"graphicsCmds")&&(i.graphicsCmds=n(t.graphicsCmds)),(0,r.hasProperty)(t,"dataCompressed")||(0,r.hasProperty)(t,"graphicsCmdsCompressed")){const{default:e}=await Promise.all([s.e(93194),s.e(81578)]).then(s.t.bind(s,593194,23));if((0,r.hasProperty)(t,"dataCompressed")){const s=await(new e).loadAsync(t.dataCompressed,{base64:!0});i.data=JSON.parse(await s.file("").async("text"))}if((0,r.hasProperty)(t,"graphicsCmdsCompressed")){const s=await(new e).loadAsync(t.graphicsCmdsCompressed,{base64:!0});i.graphicsCmds=n(JSON.parse(await s.file("").async("text")))}return i}return i}},752280:(e,t,s)=>{"use strict";s.r(t),s.d(t,{PlotRowSearchMode:()=>o,PlotList:()=>d,mergeMinMax:()=>c,mergePlotRows:()=>u});var r=s(588537),i=s(377884),n=s(676745);const a=(0,s(911905).getLogger)("Chart.PlotList");var o;!function(e){e[e.NearestLeft=-1]="NearestLeft",e[e.Exact=0]="Exact",e[e.NearestRight=1]="NearestRight"}(o||(o={}));function l(e){return e.index}function h(e){return e.value[0]}class d{constructor(e=null,t=null){this._items=[],this._start=0,this._end=0,this._shareRead=!1,this._minMaxCache=new Map,this._rowSearchCacheByIndex=new Map,this._rowSearchCacheByIndexWithoutEmptyValues=new Map,this._rowSearchCacheByTime=new Map,this._rowSearchCacheByTimeWithoutEmptyValues=new Map,this._plotFunctions=e||new Map,this._emptyValuePredicate=t}clear(){this._items=[],this._start=0,this._end=0,this._shareRead=!1,this._minMaxCache.clear(),this._invalidateSearchCaches()}first(){return this.size()>0?this._items[this._start]:null}last(){
return this.size()>0?this._items[this._end-1]:null}firstIndex(){return this.size()>0?this._indexAt(this._start):null}lastIndex(){return this.size()>0?this._indexAt(this._end-1):null}size(){return this._end-this._start}isEmpty(){return 0===this.size()}contains(e){return null!==this.search(e,o.Exact)}valueAt(e){const t=this.search(e);return null!==t?t.value:null}add(e,t){if(this._shareRead)return a.logDebug("add: readonly collection modification attempt"),!1;const s={index:e,value:t},r=this._nonCachedSearch(e,o.Exact,l);return this._invalidateSearchCaches(),null===r?(this._items.splice(this._lowerbound(e,l),0,s),this._start=0,this._end=this._items.length,!0):(this._items[r]=s,!1)}search(e,t=o.Exact,s){return this._searchImpl(e,t,this._rowSearchCacheByIndex,this._rowSearchCacheByIndexWithoutEmptyValues,l,s)}searchByTime(e,t=o.Exact,s){return this._searchImpl(e,t,this._rowSearchCacheByTime,this._rowSearchCacheByTimeWithoutEmptyValues,h,s)}fold(e,t){let s=t;for(let t=this._start;t<this._end;++t){s=e(this._indexAt(t),this._valueAt(t),s)}return s}findFirst(e,t){const s=void 0!==t&&Math.min(this._start+t,this._end)||this._end;for(let t=this._start;t<s;++t){const s=this._indexAt(t),r=this._valueAt(t);if(e(s,r))return{index:s,value:r}}return null}findLast(e,t){const s=void 0!==t&&Math.max(this._end-t,this._start)||this._start;for(let t=this._end-1;t>=s;--t){const s=this._indexAt(t),r=this._valueAt(t);if(e(s,r))return{index:s,value:r}}return null}each(e){for(let t=this._start;t<this._end;++t){if(e(this._indexAt(t),this._valueAt(t)))break}}reduce(e,t){let s=t;for(let t=this._start;t<this._end;++t){s=e(s,this._indexAt(t),this._valueAt(t))}return s}range(e,t){const s=new d(this._plotFunctions,this._emptyValuePredicate);return s._items=this._items,s._start=this._lowerbound(e,l),s._end=this._upperbound(t),s._shareRead=!0,s}rangeIterator(e,t){const s=this._lowerbound(e,l),r=this._upperbound(t);if(s===r)return{hasNext:()=>!1,next:()=>{throw new Error("Invalid operation")}};let i=s-1;return{hasNext:()=>i<r-1,next:()=>(i+=1,this._items[i])}}minMaxOnRangeCached(e,t,s){if(this.isEmpty())return null;let r=null;for(const i of s){r=c(r,this._minMaxOnRangeCachedImpl(e-i.offset,t-i.offset,i.name))}return r}minMaxOnRange(e,t,s){if(this.isEmpty())return null;let r=null;for(const i of s){r=c(r,this._minMaxOnRange(e-i.offset,t-i.offset,i.name))}return r}merge(e){return this._shareRead?(a.logDebug("merge: readonly collection modification attempt"),null):0===e.length?null:this.isEmpty()||e[e.length-1].index<this._items[0].index?this._prepend(e):e[0].index>this._items[this._items.length-1].index?this._append(e):1===e.length&&e[0].index===this._items[this._items.length-1].index?(this._updateLast(e[0]),e[0]):this._merge(e)}addTail(e,t=!1){let s=0;t&&this._end-this._start>0&&(s=1,this._items[this._end-this._start-1].value=e[0].value);for(let t=s;t<e.length;++t){const s=e[t],r=this.lastIndex();if(null===r){a.logError("Can't add tail to the empty plotlist");break}this.add(r+1,s.value)}this._invalidateSearchCaches()}move(e){
if(this._shareRead)return void a.logDebug("move: readonly collection modification attempt");if(0===e.length)return;const t=this._items.slice();for(const s of e){const e=this._bsearch(s.old,l);if(null!==e&&void 0!==t[e])if(s.new===n.INVALID_TIME_POINT_INDEX)t[e]=void 0;else{t[e]={index:s.new,value:t[e].value};const r=this._bsearch(s.new,l);if(null!==r){const e=t[r];void 0!==e&&e.index===s.new&&(t[r]=void 0)}}}this._items=t.filter(e=>void 0!==e).sort((e,t)=>e.index-t.index),this._invalidateSearchCaches(),this._minMaxCache.clear(),this._start=0,this._end=this._items.length}remove(e){if(this._shareRead)return a.logDebug("remove: readonly collection modification attempt"),null;const t=this._nonCachedSearch(e,o.NearestRight,l);if(null===t)return null;const s=this._items.splice(t);return this._end=this._items.length,this._minMaxCache.clear(),this._invalidateSearchCaches(),s.length>0?s[0]:null}state(){return{start:this._start,end:this._end,data:this._items,shareread:this._shareRead}}restoreState(e){e?(this._start=e.start,this._end=e.end,this._shareRead=e.shareread,this._items=e.data,this._minMaxCache.clear(),this._invalidateSearchCaches()):this.clear()}_indexAt(e){return this._items[e].index}_valueAt(e){return this._items[e].value}_length(){return this._items.length}_searchImpl(e,t,s,r,i,n){const a=void 0!==n?s:r,o=void 0!==n?1e4*(t+1)+n:t;let l=a.get(e);if(void 0!==l){const e=l.get(o);if(void 0!==e)return e}const h=this._nonCachedSearch(e,t,i,n);if(null===h)return null;const d={index:this._indexAt(h),value:this._valueAt(h)};return void 0===l&&(l=new Map,a.set(e,l)),l.set(o,d),d}_nonCachedSearch(e,t,s,r){const i=this._lowerbound(e,s),n=i===this._end||e!==s(this._items[i]);if(n&&t!==o.Exact)switch(t){case o.NearestLeft:return this._searchNearestLeft(i,r);case o.NearestRight:return this._searchNearestRight(i,r);default:throw new TypeError("Unknown search mode")}if(void 0===r||n||t===o.Exact)return n?null:i;switch(t){case o.NearestLeft:return this._nonEmptyNearestLeft(i,r);case o.NearestRight:return this._nonEmptyNearestRight(i,r);default:throw new TypeError("Unknown search mode")}}_nonEmptyNearestRight(e,t){const s=(0,r.ensure)(this._emptyValuePredicate),i=(0,r.ensure)(t);for(;e<this._end&&s(this._valueAt(e),i);)e+=1;return e===this._end?null:e}_nonEmptyNearestLeft(e,t){const s=(0,r.ensureNotNull)(this._emptyValuePredicate),i=(0,r.ensure)(t);for(;e>=this._start&&s(this._valueAt(e),i);)e-=1;return e<this._start?null:e}_searchNearestLeft(e,t){if(e===this._start)return null;const s=e-1,r=s!==this._end?s:null;return void 0!==t&&null!==r?this._nonEmptyNearestLeft(r,t):r}_searchNearestRight(e,t){const s=e,r=s!==this._end?s:null;return void 0!==t&&null!==r?this._nonEmptyNearestRight(r,t):r}_bsearch(e,t){const s=this._lowerbound(e,t);return s!==this._end&&e===t(this._items[s])?s:null}_lowerbound(e,t){return(0,i.lowerbound)(this._items,e,(e,s)=>t(e)<s,this._start,this._end)}_upperbound(e){return(0,i.upperbound)(this._items,e,(e,t)=>t.index>e,this._start,this._end)}_plotMinMax(e,t,s){let r=null;const i=this._plotFunctions.get(s)
;if(void 0===i)throw new Error(`Plot "${s}" is not registered`);for(let s=e;s<t;s++){const e=i(this._items[s].value);null==e||Number.isNaN(e)||(null===r?r={min:e,max:e}:(e<r.min&&(r.min=e),e>r.max&&(r.max=e)))}return r}_invalidateCacheForRow(e){const t=Math.floor(e.index/30);this._minMaxCache.forEach(e=>e.delete(t))}_prepend(e){return(0,r.assert)(!this._shareRead,"collection should not be readonly"),(0,r.assert)(0!==e.length,"plotRows should not be empty"),this._invalidateSearchCaches(),this._minMaxCache.clear(),this._items=e.concat(this._items),this._start=0,this._end=this._items.length,e[0]}_append(e){return(0,r.assert)(!this._shareRead,"collection should not be readonly"),(0,r.assert)(0!==e.length,"plotRows should not be empty"),this._invalidateSearchCaches(),this._minMaxCache.clear(),this._items=this._items.concat(e),this._start=0,this._end=this._items.length,e[0]}_updateLast(e){(0,r.assert)(!this.isEmpty(),"plot list should not be empty");const t=this._items[this._end-1];(0,r.assert)(t.index===e.index,"last row index should match new row index"),this._invalidateCacheForRow(e),this._invalidateSearchCaches(),this._items[this._end-1]=e}_merge(e){return(0,r.assert)(0!==e.length,"plot rows should not be empty"),this._invalidateSearchCaches(),this._minMaxCache.clear(),this._items=u(this._items,e),this._start=0,this._end=this._items.length,e[0]}_minMaxOnRangeCachedImpl(e,t,s){if(this.isEmpty())return null;let i=null;const n=(0,r.ensureNotNull)(this.firstIndex()),a=(0,r.ensureNotNull)(this.lastIndex()),o=Math.max(e,n),l=Math.min(t,a),h=30*Math.ceil(o/30),d=Math.max(h,30*Math.floor(l/30));i=c(i,this._minMaxOnRange(o,Math.min(h,t,l),s));let u=this._minMaxCache.get(s);void 0===u&&(u=new Map,this._minMaxCache.set(s,u));for(let e=Math.max(h+1,o);e<d;e+=30){const t=Math.floor(e/30);let r=u.get(t);if(void 0===r){const e=30*t,i=30*(t+1)-1;r=this._minMaxOnRange(e,i,s),u.set(t,r)}i=c(i,r)}i=c(i,this._minMaxOnRange(d,l,s));return i}_minMaxOnRange(e,t,s){return this._plotMinMax(this._lowerbound(e,l),this._upperbound(t),s)}_invalidateSearchCaches(){this._rowSearchCacheByIndex.clear(),this._rowSearchCacheByIndexWithoutEmptyValues.clear(),this._rowSearchCacheByTime.clear(),this._rowSearchCacheByTimeWithoutEmptyValues.clear()}}function c(e,t){if(null===e)return t;if(null===t)return e;return{min:Math.min(e.min,t.min),max:Math.max(e.max,t.max)}}function u(e,t){const s=function(e,t){const s=e.length,r=t.length;let i=s+r,n=0,a=0;for(;n<s&&a<r;)e[n].index<t[a].index?n++:e[n].index>t[a].index?a++:(n++,a++,i--);return i}(e,t),r=new Array(s);let i=0,n=0;const a=e.length,o=t.length;let l=0;for(;i<a&&n<o;)e[i].index<t[n].index?(r[l]=e[i],i++):e[i].index>t[n].index?(r[l]=t[n],n++):(r[l]=t[n],i++,n++),l++;for(;i<a;)r[l]=e[i],i++,l++;for(;n<o;)r[l]=t[n],n++,l++;return r}},926281:(e,t,s)=>{"use strict";var r;s.d(t,{PriceAxisLastValueMode:()=>r}),function(e){e[e.LastPriceAndPercentageValue=0]="LastPriceAndPercentageValue",e[e.LastValueAccordingToScale=1]="LastValueAccordingToScale"}(r||(r={}))},103653:(e,t,s)=>{"use strict";s.d(t,{
seriesPlotFunctionMap:()=>l,barFunction:()=>h,SeriesData:()=>c});var r,i=s(588537),n=s(752280);!function(e){e[e.FromLeft=-1]="FromLeft",e[e.FromRight=1]="FromRight"}(r||(r={}));const a={open:e=>e[1],high:e=>e[2],low:e=>e[3],close:e=>e[4],hl2:e=>(e[2]+e[3])/2,hlc3:e=>(e[2]+e[3]+e[4])/3,ohlc4:e=>(e[1]+e[2]+e[3]+e[4])/4},o=["open","high","low","close","hl2","hlc3","ohlc4"];function l(){const e=new Map;return o.forEach((t,s)=>{e.set(t,h(t))}),e}function h(e){return a[e]}function d(e,t){return null==e[t]}class c{constructor(){this.m_bars=new n.PlotList(l(),d),this.m_nsBars=new n.PlotList(l(),d)}bars(){return this.m_bars}nsBars(){return this.m_nsBars}