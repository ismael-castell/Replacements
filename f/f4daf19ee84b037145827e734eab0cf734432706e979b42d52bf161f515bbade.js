/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/venom-player@0.2.56/dist/player.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VenomPlayer=t():e.VenomPlayer=t()}(self,function(){return i={},f.m=r={87757:function(e,t,n){e.exports=n(35666)},89666:function(){Object.setPrototypeOf||(Object.prototype.setPrototypeOf=function(t,e){if(t.__proto__)return t.__proto__=e,t;function n(){for(var e in t)Object.defineProperty(this,e,{value:t[e]})}return n.prototype=e,new n})},98249:function(){var e;window.performance||(window.performance={}),performance.now||(e=Date.now(),performance.now=performance.webkitNow||performance.mozNow||function(){return Date.now()-e})},21111:function(e,t,s){"use strict";s.d(t,{i8:function(){return d},ji:function(){return p},WU:function(){return y},h0:function(){return g},ro:function(){return b}});var a=s(29439),r=s(4942),n=s(41209),u=s(9293),i=s(75893),o=s(56688),c=s(969),l=s(86184);function f(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach(function(e){(0,r.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var d="0.2.56",p=function(){return/2g/i.test(o.Ek)?600:/3g/i.test(o.Ek)?120:30},v=i.or.has("dhls"),m={debug:v,maxBufferSize:0,maxBufferLength:o.xw?20:p(),maxFragLookUpTolerance:.25,fragLoadingMaxRetry:3,autoStartLoad:!1,fLoader:l.Wj};v&&(m.xhrSetup=function(e){return e.setRequestHeader("Cache-Control","no-cache")}),t.ZP={copyFrom:function(e){var t,n,r;e.publicPath&&(s.p=e.publicPath);for(var i=0,o=["dash","timeSearchParamName","hlsNativeParam","hlsNativeQuality","endedSoon","autoLandscape","fakeFullHD","oneSound","preventExternalSilencing","sw"];i<o.length;i++){var a=o[i];a in e&&(this[a]=e[a])}Object.assign(this.p2p,e.p2p),Object.assign(this.db,e.db),Object.assign(this.ui,e.ui),Object.assign(y,e.format),Object.assign(this.preview,e.preview),null!==(t=(n=this.preview).templateBySource)&&void 0!==t&&t.call(n,e.source),2===(null===(r=e.rewind)||void 0===r?void 0:r.length)&&(this.rewind=e.rewind),e.live&&(this.hls.autoStartLoad=!0,e.liveBuffer&&(this.hls.maxBufferLength=e.liveBuffer)),3<e.live&&(this.hls.liveSyncDurationCount=e.live),this.restrictQuality="function"==typeof e.restrictQuality?e.restrictQuality:function(){return!1},this.restrictSpeed="function"==typeof e.restrictSpeed?e.restrictSpeed:function(){return!1}},hls:h({},m),ui:{},preview:{interval:1},p2p:{},db:{on:!1,test:!1,cleanMark:.9,cleanCount:4,target:[1,100]},recoverThrottle:6e4,timeSearchParamName:"t",delayControlsTimeout:o.xw?9e3:3e3,longPressTime:1e3,triggerProgress:60,saveProgress:10,endedSoon:20,preventExternalSilencing:!1,pausePing:3e4,rewind:[5,20],speed:[1]};var y={quality:c.sK,skip:function(e){return e.title||n.fL[e.type]||e.type}},g={disable:i.or.has("santabarbaranoads"),debug:i.or.get("debug_ads")||i.or.has("debug_ads"),unreliablePreTimout:10,toLongSkip:30,flyOffset:600,coolDown:420,nonLinearOffset:600,middleOffset:300,postMinDuration:900,postOffset:function(e){return 3600<e?540:1800<e?240:120},testLinear:"https://4736.in/vpaid/?id=17834",testNonLinear:"https://tester.advertserve.com/servlet/vast2/media?mid=125&pid=0&random=%7B%7Brandom_int%7D%7D"};function b(e,t){if(!t.ignoreLast){var n=u.Z.getLast(t.id),r=(0,a.Z)(n,2),i=r[0];if(_(e,t,{id:i,season:i,episode:r[1]}))return}if(t.current){if(_(e,t,t.current))return;console.warn("playlist.current not found in playlist")}var o;t.flat?w(e,t.flat[0]):w(e,(o=t.seasons[0]).episodes[0],o)}function _(e,t,n){var r=t.flat,i=t.seasons,o=n.id,a=n.season,s=n.episode;if(r){var u=r.find(function(e){return e.id==o});if(u)return w(e,u),!0}else{var c=null==i?void 0:i.find(function(e){return e.season==a}),l=null==c?void 0:c.episodes.find(function(e){return e.episode==s});if(l)return w(e,l,c),!0}}function w(e,t,n){n&&(null==t.season&&(t.season=n.season),n.blocked&&(t.blocked=!0));var r=h({dash:t.dash,hls:t.hls,file:t.file,audio:t.audio,cc:t.cc},t.source),i=t.id,o=t.season,a=t.episode,s=t.title,u=t.poster,c=t.blocked,l=t.qbw,f=t.sections,d=t.download;Object.assign(e,{source:r,id:i,title:s,poster:u,blocked:c,qbw:l,sections:f,download:d}),e.playlist.current={id:i,season:o,episode:a}}},12669:function(e,t,n){"use strict";n.d(t,{db:function(){return A},DB:function(){return O}});var c=n(29439),i=n(15671),r=n(43144),o=n(79340),a=n(82963),s=n(61120),u=n(23493),l=n.n(u),f=n(97019),d=n.n(f),h=n(17365),p=n(21111),v=n(62214),m=n(63110),y=n(56688);function g(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function b(){}function _(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function w(e,t){return e&&e.then?e.then(t):t(e)}function k(r){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=(0,s.Z)(r);return t=i?(e=(0,s.Z)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,a.Z)(this,t)}}var A,x="frags",E=l()(h.ot,6e4),O=function(e){(0,o.Z)(u,e);var t=k(u);function u(){var r;return(0,i.Z)(this,u),(r=t.call(this,"db")).demand=new Map,!y.xw&&window.indexedDB&&u.estimate().then(function(e){var t=e.usage,n=e.quota;t&&(0,h.ot)({cat:"db",hit:"use",sub:"init",value:t}),n&&(r._lastQuotaMb=n/1024/1024,p.ZP.db.on&&50<r._lastQuotaMb&&r.open())}),r}return(0,r.Z)(u,[{key:"hasRichQuota",get:function(){return 400<this._lastQuotaMb}},{key:"open",value:function(){var e=this;(0,h.ot)({cat:"db",hit:"open",sub:"try"});var t=indexedDB.open("frags db",1);t.onerror=function(){return(0,h.ot)({cat:"db",hit:"open",sub:"err",label:t.errorCode})},t.onsuccess=function(){e._db=t.result,e._db.onclose=function(){return e._db=null},(0,h.ot)({cat:"db",hit:"open",sub:"ok"}),p.ZP.db.test&&e.__test().catch(function(e){return(0,h.ot)({cat:"db",hit:"test",sub:"err",label:e})})},t.onupgradeneeded=function(){e._db=t.result,e._db.createObjectStore(x,{keyPath:["c","n","t","l"]}).createIndex("channel","c")}}},{key:"state",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";try{var a=new m.I,t=function(e){var t=(0,c.Z)(e.primaryKey,4),n=t[0],r=t[1],i=t[2],o=t[3];a.add(n,i,o,r)};return g(e?this._readKeys(t,"channel",e):this._readKeys(t),function(){return a})}catch(e){return Promise.reject(e)}}},{key:"_readKeys",value:function(r,i,e,t){var o=this,a=2<arguments.length&&void 0!==e?e:null,s=3<arguments.length?t:void 0;if(!this._db)return Promise.resolve();var u=0,n=Date.now();return new Promise(function(t){var e=o._store(x);i&&(e=e.index(i));var n=e.openKeyCursor(a,s);n.onsuccess=function(){var e=n.result;if(!e)return t();r(e),u++,e.continue()}}).finally(function(){var e={cat:"db",hit:"scan",sub:i?"index":"full",label:s,time:Date.now()-n,value:u};(i?E:(0,h.ot))(e)})}},{key:"_getChannels",value:function(){try{var t=[];return g(this._readKeys(function(e){return t.push(e.key)},"channel",null,"nextunique"),function(){return t})}catch(e){return Promise.reject(e)}}},{key:"isWanted",value:function(e){var t=this.demand.get(e);if(!this.hasRichQuota)return 1<t;var n=(0,c.Z)(p.ZP.db.target,2),r=n[0],i=n[1];return r<t&&t<i}},{key:"saveFrag",value:function(i,o,a,s,u){var c=this;return this._db?(this._lastSaveChannel=i,new Promise(function(e,t){var n=c._db.transaction(x,"readwrite"),r=n.objectStore(x).add({c:i,t:o,l:a,n:s,d:u});n.onerror=n.onabort=function(){return t(n.error)},n.oncomplete=function(){return e(r.result)},r.onerror=function(){return t(r.error)}}).finally(function(){return c._clean()})):Promise.reject("not ready")}},{key:"hasFrag",value:function(e,t,n,r){if(!this._db)return Promise.resolve();var i=this._store(x),o=[e,r,t,n],a=i.getKey?i.getKey(o):i.openKeyCursor(o);return S(a)}},{key:"getFrag",value:function(e,t,n,r){return this._get(x,[e,r,t,n])}},{key:"_get",value:function(e,t){if(!this._db)return Promise.reject("not ready");var n=this._store(e).get(t);return S(n)}},{key:"_store",value:function(e,t){return this._db.transaction(e,t).objectStore(e)}},{key:"_clean",value:function(){try{var s=this;if(!s._db||s._cleaning)return;return g(u.estimate(),function(e){if(s._lastQuotaMb=e.quota/1024/1024,E({cat:"db",hit:"use",sub:"raw",value:e.usage}),!(e.usage/e.quota<p.ZP.db.cleanMark)){s._cleaning=!0;var a=Date.now();return g(s._getChannels(),function(e){var t=Math.ceil((Date.now()-a)/1e3);1<e.length&&d()(e,s._lastSaveChannel);var n=s._db.transaction(x,"readwrite");n.oncomplete=n.onerror=n.onabort=function(){s._cleaning=!1,r.forEach(function(e){var t=(0,c.Z)(e,4),n=t[0],r=t[1],i=t[2],o=t[3];return s.emit(u.events.REMOVED,{channel:n,type:i,level:o,sn:r})}),r=null,E({cat:"db",hit:"clean",label:t<=1?"scan-ok":"scan-long",time:Date.now()-a})};var r=[],i=p.ZP.db.cleanCount,o=n.objectStore(x).index("channel").openCursor(e.shift());o.onsuccess=function(){var e=o.result;i--&&e&&(e.delete().onsuccess=function(){return r.push(e.primaryKey)},e.continue())}})}})}catch(e){return Promise.reject(e)}}},{key:"__test",value:function(){try{var n=!1,r=this,i=["x","x",0,0,3];return w(_(function(){return function(e,t){if(!t)return e&&e.then?e.then(b):Promise.resolve()}(r.saveFrag.apply(r,i))},function(){n=!0}),function(e){var t=!1;return n?e:w(_(function(){return g(r.saveFrag.apply(r,i),function(){return t=!0,(0,h.ot)({cat:"db",hit:"test",sub:"err",label:"DUPE"})})},function(e){if("not ready"!==e){if("ConstraintError"!==e.name)throw e}else t=!0}),function(e){return t?e:g(r.hasFrag.apply(r,i),function(e){var t=e?"has":"hasn't";return g(r.getFrag.apply(r,i),function(e){if(3!=e.d)throw"get fail";(0,h.ot)({cat:"db",hit:"test",sub:"ok",label:t})})})})})}catch(e){return Promise.reject(e)}}}],[{key:"events",get:function(){return{REMOVED:"removed"}}},{key:"instance",value:function(){return A=A||new u}},{key:"estimate",value:function(){var e,t;return(null===(e=navigator.storage)||void 0===e||null===(t=e.estimate)||void 0===t?void 0:t.call(e))||new Promise(function(n,e){function t(e,t){return n({usage:e,quota:t})}var r;null!==(r=navigator.webkitTemporaryStorage)&&void 0!==r&&r.queryUsageAndQuota(t,e);var i=window.webkitStorageInfo;null!=i&&i.queryUsageAndQuota(null==i?void 0:i.TEMPORARY,t,e)})}}]),u}(v.Qz),S=function(e){return new Promise(function(t,n){e.onsuccess=function(e){return t(e.target.result)},e.onerror=function(e){return n(e.target.error)}})}},51122:function(e,t,n){"use strict";n.d(t,{vz:function(){return w},R3:function(){return k},dy:function(){return A},hi:function(){return x},If:function(){return E},_4:function(){return O},xj:function(){return S},Cp:function(){return T},$Z:function(){return P},bA:function(){return C},ZN:function(){return L},xv:function(){return j},WM:function(){return R},QZ:function(){return I},Od:function(){return z},ep:function(){return M},Ce:function(){return B},gx:function(){return Z},gR:function(){return N},X5:function(){return F},TJ:function(){return H},bp:function(){return U}});var r,i,f=n(29439),u=n(93433),o=n(4942),a=n(94184),c=n.n(a),d=n(18037),h=(n(56688),n(97741)),s=n(56053),p=n(67626);function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach(function(e){(0,o.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var m="opened",y="active",g="before-show",b="animate-hide",_=300;function w(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length,r=new Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if("function"==typeof e)return e(v(v({},t),{},{children:r}));var o=document.createElement(e);for(var a in t){var s=t[a];"ref"===a?s(o):"style"===a?Object.assign(o.style,t.style):a.startsWith("on")?o[a.toLowerCase()]=s:/[A-Z]/.test(a)||["volume","muted"].includes(a)?o[a]=s:"aria-checked"===a?o.setAttribute(a,s):!0===s?o.setAttribute(a,""):!1===s||void 0===s||("class"===a?o.setAttribute(a,c()(s)):o.setAttribute(a,s))}return k(o,r),o}function k(s,e){e.forEach(function(e){var t,n,r,i,o;function a(e){r.parentElement&&(Z(r,e),r=e)}!e&&0!==e||(Array.isArray(e)?k(s,e):e instanceof Node?s.appendChild(e):e instanceof Promise?s.appendChild((i=e,o=document.createTextNode(""),i.then(function(e){e&&o.parentElement&&Z(o,e)}),o)):"function"==typeof e.subscribe?s.appendChild((n=(t=e).value,r=n instanceof Element?n:document.createTextNode(n),t.subscribe(function(e){e instanceof Element?a(e):r instanceof Element?a(document.createTextNode(e)):r.textContent=e}),r)):e.toString().trim().startsWith("<")&&1<e.length?s.appendChild(A(e)):s.appendChild(document.createTextNode(e)))})}function A(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function x(e,t){var n=Array.isArray(e)||"string"==typeof e?{class:e}:e;return Array.isArray(t)||(t=[t]),w.apply(void 0,["div",n].concat((0,u.Z)(t)))}function E(e){function t(e){return s.parentElement.insertBefore(e,s)}function n(e){return e.parentElement&&z(e)}var r,i,o=e.rx,a=e.children,s=document.createTextNode("");return o.subscribe(function(e){return a.forEach(e?t:n)}),o.value?(r=[].concat((0,u.Z)(a),[s]),i=document.createDocumentFragment(),r.forEach(function(e){return i.appendChild(e)}),i):s}function O(e,t){(t?T:P)(e)}var S=function(e){return null==e?void 0:e.classList.contains(s.Z.hidden)};function T(e){null!=e&&e.classList.add(s.Z.hidden)}function P(e){e&&(e.classList.add(g),e.classList.remove(s.Z.hidden,b),setTimeout(function(){return e.classList.remove(g)},10))}function C(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:m;Array.from(e.parentNode.children).forEach(function(e){return j(e,t)}),e.classList.add(t)}function L(e,t){(e.classList.contains(t)?j:C)(e,t)}var j=function(e,t){return e.classList.remove(t)};function R(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(t)return![s.Z.hidden,b].some(function(e){return t.classList.contains(e)})&&((e?function(e,t){var n,r=1<arguments.length&&void 0!==t?t:_;e&&(n=e.classList,[s.Z.hidden,b].some(function(e){return n.contains(e)})||(n.add(b),setTimeout(function(){n.contains(b)&&(n.remove(b),n.add(s.Z.hidden))},r)))}:T)(t),!0)}function I(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:y;Array.from(e.parentNode.getElementsByClassName(t)).forEach(function(e){return e.classList.remove(t)}),e.classList.add(t)}var z=function(e){return e.parentElement.removeChild(e)};function M(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function B(e,t){e.insertBefore(t,e.firstChild)}function Z(e,t){e.parentElement.replaceChild(t,e)}var D=null===(r=window.CSS)||void 0===r||null===(i=r.supports)||void 0===i?void 0:i.call(r,"(--a: 0)");function N(){function e(i){return function(e){var t=(0,f.Z)(e,2),n=t[0],r=t[1];return c[i+n]=r}}var t,n,r,i,o,a,s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},u=1<arguments.length?arguments[1]:void 0,c={},l=null===(t=s["background-color-primary"])||void 0===t?void 0:t.match(/rgba\((\d+),\s?(\d+),\s?(\d+),\s?([\d.]+)\)/);l&&(r=(n=(0,f.Z)(l,5))[1],i=n[2],o=n[3],a=n[4],Object.entries(v({opacity:a},(0,h.lw)(r,i,o))).forEach(e("--vp-background-color-primary-"))),Object.entries(s).forEach(e("--vp-")),function(e){e["--vp-background-color-item-saturation"]="calc(var(--vp-background-color-primary-saturation) - 5%)",p.lr.venom?(e["--vp-background-color-item-lightness"]="calc(var(--vp-background-color-primary-lightness) + 10%)",e["--vp-button-icon-bg-hover"]="var(--vp-background-color-primary)"):e["--vp-background-color-item-lightness"]="calc(var(--vp-background-color-primary-lightness) + 15%)";e["--vp-background-color-item"]="hsla(var(--vp-background-color-primary-hue),var(--vp-background-color-item-saturation),var(--vp-background-color-item-lightness), var(--vp-background-color-primary-opacity))"}(c),D&&u?(0,d.Z)({variables:c,rootElement:u}):(0,d.Z)({variables:c})}var F=function(e){var t;return null===(t=e.scrollIntoView)||void 0===t?void 0:t.call(e,{block:"nearest",inline:"nearest"})};function H(e,t){var n=e.getElementsByTagName("svg")[0];n&&Z(n,t instanceof Element?t:A(t))}function U(e,t){var n=e.getElementsByTagName("text")[0];n&&(n.textContent=t)}},22201:function(e,t,n){"use strict";n.d(t,{Ps:function(){return o},Z$:function(){return d},qk:function(){return a},AW:function(){return h},nL:function(){return p},T1:function(){return v},Lm:function(){return m},yw:function(){return y}});var u=n(29439),s=n(93433),r=n(87757),i=n.n(r);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){return parseInt(e)-parseInt(t)}var o=function(e){return e[0]},d=function(e){return e[e.length-1]},a=function(n){return function(e,t){return e[n]-t[n]}},h=function(n){return function(e,t){return t[n]-e[n]}},p=function(e){var t,n=(0,s.Z)(e).sort(f),r=[[n.shift()]],i=c(n);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=d(r);parseInt(d(a))+1===parseInt(o)?a.push(o):r.push([o])}}catch(e){i.e(e)}finally{i.f()}return r},v=function(e){return p(e).map(function(e){return[e[0],d(e)]})},m=function(e,t){var n,r=c(e);try{for(r.s();!(n=r.n()).done;)for(var i=(0,u.Z)(n.value,2),o=i[0],a=i[1],s=o;s<=a;s++)t(s)}catch(e){r.e(e)}finally{r.f()}},y=function(e){return e.map(function(e){return 1===e.length?o(e):"".concat(o(e),"-").concat(d(e))})};Array.prototype[Symbol.iterator]||(Array.prototype[Symbol.iterator]=i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(t<this.length)return e.next=4,this[t];e.next=7;break;case 4:t++,e.next=1;break;case 7:case"end":return e.stop()}},e,this)}))},62214:function(e,t,n){"use strict";n.d(t,{Fb:function(){return h},GR:function(){return p},IH:function(){return v},Qz:function(){return m}});var i=n(15671),o=n(43144),a=n(11752),s=n(79340),u=n(82963),c=n(61120),r=n(17187),l=n.n(r),f=n(17365);function d(r){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=(0,c.Z)(r);return t=i?(e=(0,c.Z)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,u.Z)(this,t)}}var h=function(n,r){return new Promise(function(e,t){n.then(e,t),setTimeout(t,r)})},p=function(s,t,u){return new Promise(function(r,e){function i(t){return o.forEach(function(e){return s[t](e,n)})}var o=Array.isArray(t)?t:[t],n=function(){1<o.length&&i("off"),clearTimeout(a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r(t)};i("once");var a=setTimeout(function(){i("off"),e("timeout")},u)})},v=function(n,r,i){n.addEventListener(r,function e(t){n.removeEventListener(r,e),i(t)})},m=function(e){(0,s.Z)(r,e);var n=d(r);function r(e){var t;return(0,i.Z)(this,r),(t=n.call(this))._debugCode=e||"cn_".concat(t.constructor.name),t._listenErr("unhandled"),t}return(0,o.Z)(r,[{key:"removeAllListeners",value:function(e){var t=arguments.length;return t?(0,a.Z)((0,c.Z)(r.prototype),"removeAllListeners",this).call(this,e):(0,a.Z)((0,c.Z)(r.prototype),"removeAllListeners",this).call(this),t&&y!=e||this._listenErr("afterRmAll"),this}},{key:"_listenErr",value:function(n){var r=this;this.on(y,function(e){var t;1==r.listenerCount(y)&&(t=e||"<empty>",(0,f.ot)({cat:"err",hit:n,sub:r._debugCode,label:t.message||t}))})}}]),r}(l()),y="error"},19730:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=document.createElement("textarea");function i(e,t){if(!("execCommand"in document))return alert("copying is not supported");r.value=e,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),null!=t&&t()}},71890:function(e,t,n){"use strict";n.d(t,{jB:function(){return g},WD:function(){return w},S_:function(){return x},C5:function(){return O},bI:function(){return A},hO:function(){return E},Hv:function(){return b}});var f=n(83878),d=n(59199),h=n(40181),p=n(25267);var v=n(19730),r=n(17365),i=n(56688),o=n(26325),a=n(94466),s=n(75893),u=n(51122),c=n(21111),l=n(73421),m=n(9293),y=n(71105);"alert"==s.or.get("debug_player")&&addEventListener("error",function(e){return alert(e.message+"\n\n"+e.error.stack)});var g,b=s.or.has("hlsn"),_={};function w(e){if(!e)return!1;var t,n=e.split(" "),r=(t=n,(0,f.Z)(t)||(0,d.Z)(t)||(0,h.Z)(t)||(0,p.Z)()),i=r[0],o=r.slice(1);if("vast"==i)return g=window[o[0]],!0;if("ls"==i){var a=k(_,o)||{},s=Object.keys(a).join("\n");return s&&alert(s),!0}var u=k(_,o);if("log"==i)return console.log(u),!0;var c=JSON.stringify(u,null,2);if("cp"==i)return(0,v.J)(c),alert(c),!0;if("w"==i){var l=open("data:application/json","_blank");return l.document.write("<pre>".concat(c,"</pre>")),l.document.close(),!0}}function k(e,t){var n=1<arguments.length&&void 0!==t?t:[];return Array.isArray(n)||(n=n.split(".")),n.reduce(function(e,t){return null==e?void 0:e[t]},e)}function A(e){_.config=c.ZP,_.opts=e,_.o=e}i.xw&&(window.alert=function(e){return(0,u.Ce)(document.body,(0,u.hi)(null,e))});var x=function(e){var t=e.played?" / played ".concat((0,o.WU)((0,a.hk)(e.played))):"",n=m.Z.totalTime,r=n?" / total ".concat((0,o.WU)(n)):"";return e.currentTime+t+r},E=function(){return[y.nS&&"dash opus",y.dr&&"hls",y.FS&&"mpegurl: ".concat(y.FS),l.Z.isSupported&&"p2p"].filter(Boolean).join(", ")},O=function(){return["time: ".concat(x(document.getElementsByTagName("video")[0])),"support: ".concat(E()),r.nP?"sid: ".concat(r.nP):"",navigator.userAgent,location.href===(0,s.WX)()?location.href:location.href+"<br />"+(0,s.WX)()].filter(Boolean)}},56688:function(e,t,n){"use strict";n.d(t,{ua:function(){return i},xw:function(){return o},tq:function(){return a},vO:function(){return s},IN:function(){return u},vU:function(){return c},un:function(){return l},Gb:function(){return f},Ek:function(){return h},sq:function(){return p}});function r(e){return i.includes(e)}var i=navigator.userAgent.replace("Mozilla/5.0 ","").replace("(KHTML, like Gecko) ",""),o=["TV","NetCast","Linux; U","BRAVIA","Andr0id"].some(r)&&!r("Mobile")||r("Pristavka/")||r("MIBOX"),a=!o&&/Android|webOS|Phone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(i),s=o?"tv":a?"mobile":"pc",u=r("iPhone")&&!r("Windows"),c=r("Firefox"),l=r("Edge"),f=a&&r("OPR/"),d=navigator.connection||navigator.mozConnection||navigator.webkitConnection,h=(null==d?void 0:d.effectiveType)||"",p=navigator.deviceMemory},75893:function(e,t,n){"use strict";var r;n.d(t,{WX:function(){return i},Kn:function(){return a},or:function(){return s}});try{r=self!==top}catch(e){r=!0}var i=function(){return r&&function(){try{return top.location.href}catch(e){return document.referrer}}()||location.href},o=new URL(i()),a=o.hostname,s=o.searchParams;try{top.location.origin===location.origin&&0}catch(e){0}},97741:function(e,t,n){"use strict";function r(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=Math.round(e/t)*t;return"number"==typeof n?Math.min(r,n):r}function i(e,t){return Math.floor(e/t)*t}n.d(t,{Nb:function(){return r},zC:function(){return i},e$:function(){return o},lw:function(){return a},iB:function(){return c}});var o=function(e,t,n){return Math.max(e,Math.min(t,n))};function a(e,t,n){e/=255,t/=255,n/=255;var r=Math.min(e,t,n),i=Math.max(e,t,n),o=i-r,a=0==o?0:i==e?(t-n)/o%6:i==t?(n-e)/o+2:(e-t)/o+4;(a=Math.round(60*a))<0&&(a+=360);var s=(i+r)/2,u=0==o?0:o/(1-Math.abs(2*s-1)),s=c(s);return{hue:a,saturation:u=c(u),lightness:s}}var c=function(e){return(100*e).toFixed(1)+"%"}},24555:function(e,t,n){"use strict";function r(e,t,n){var r=new Image;r.onload=t,r.onerror=n,r.src=e}n.d(t,{Z:function(){return r}})},969:function(e,t,n){"use strict";n.d(t,{sK:function(){return c},pE:function(){return l},tx:function(){return f},YB:function(){return d},l7:function(){return v},uT:function(){return m}});var r=n(4942),i=n(93433),o=n(22201),a=n(21111);function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){(0,r.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var c=function(e){return isNaN(e)?"auto":e<2e3?"".concat(e,"p"):"".concat(Math.round(e/1e3),"K")},l=function(e,t){return(0,o.Z$)(e.filter(function(e){return e!==t&&+e<t}))};function f(e,t){var n=Object.keys(e),r=d(t,n);return{src:e[r]||"",list:n,active:r}}function d(t,e){t=+t||0;var n=e.filter(function(e){return!a.ZP.restrictQuality(e)});return n.length&&(e=n),(e=e.map(function(e){return+e})).includes(t)?t:(0,o.Z$)([].concat((0,i.Z)(e.filter(function(e){return t<e}).sort(function(e,t){return t-e})),(0,i.Z)(e.filter(function(e){return e<t}).sort(function(e,t){return e-t}))))}var h={160:120,320:240,352:240,426:240,480:360,640:480,720:480,888:480,960:720,1280:720,1440:1080,1620:1080,1920:1080,2160:1080,2560:1440,3440:1440,3840:4e3,3996:4e3,4096:4e3,6144:6e3,7680:8e3,8192:8e3,15360:16e3,16384:16e3,15552:16e3,16640:16e3},p=u({},h),v=function(e){return p=u(u({},h),e)},m=function(e){return t=e.width,p[t]||(4e3<t?t:null)||e.height;var t}},93867:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(21111),i=function(e){return o(e).includes(o(r.ZP.oneSound))},o=function(e){return e&&"string"==typeof e?e.toLowerCase():e}},26325:function(e,t,n){"use strict";n.d(t,{WU:function(){return r},Qc:function(){return i},Hg:function(){return o},gw:function(){return s},Ah:function(){return u}});var a=function(e){return isNaN(e)?"00":e.toString().padStart(2,"0")};function r(e){e=Math.floor(e);var t=Math.floor(e/3600),n=Math.floor(e/60)-60*t,r=a(e%60),i=a(n),o=t?"".concat(a(t),":"):"";return"".concat(o).concat(i,":").concat(r)}var i=function(e){return(e||"").split(":").reverse().reduce(function(e,t,n){return e+t*Math.pow(60,n)},0)},o=function(e,t){return Math.abs(e-t)},s=function(t){return new Promise(function(e){return setTimeout(e,t)})},u=function(e){return new Date(Date.now()-(performance.now()-e))}},67272:function(e,t,n){"use strict";n.d(t,{lX:function(){return i},b1:function(){return o},F1:function(){return a},II:function(){return l}});var u=n(29439),r=n(47037),s=n.n(r);function i(e,t){var n=c(e);return n.hostname=t,n.href}function o(e,t,n){var r=c(e);return r.searchParams.set(t,n),r.href}function a(e,t){for(var n=e instanceof URL?e:c(e),r=0,i=Object.entries(t);r<i.length;r++){var o=(0,u.Z)(i[r],2),a=o[0],s=o[1];void 0!==s&&n.searchParams.set(a,s)}return e===n?n:n.href}var c=function(e){return new URL(e,document.baseURI)};function l(e,t){if("https:"==location.protocol)for(var n=0,r=Object.entries(e);n<r.length;n++){var i=(0,u.Z)(r[n],2),o=i[0],a=i[1];a&&(s()(a)?a.startsWith("http://")&&console.warn("".concat(t,".").concat(o," mixed content")):l(a,t+"."+o))}}},94466:function(e,t,n){"use strict";n.d(t,{WG:function(){return r},hk:function(){return i},fT:function(){return a}});var o=n(24555);function r(e,t,n){function r(){return(0,o.Z)(n,function(){return e.poster=n})}var i;t?(i=n?r:null,(0,o.Z)(t,function(){return e.poster=t},i)):n&&r()}function i(e){for(var t=0,n=0;n<e.length;n++)t+=e.end(n)-e.start(n);return t}var a=function(e){var t;return(null===(t=e.getVideoPlaybackQuality)||void 0===t?void 0:t.call(e).droppedVideoFrames)||e.webkitDroppedFrameCount||0}},46039:function(e,t,n){"use strict";n.r(t),n.d(t,{cssVars:function(){return r.Z},isMobile:function(){return H.tq},make:function(){return Ri},stats:function(){return W.ot},version:function(){return Y.i8}});var r=n(18037),u=n(93433),Z=n(4942),D=n(15671),f=n(43144),i=n(11752),l=n(79340),c=n(82963),d=n(61120),N=n(29439),o=n(93379),a=n.n(o),s=n(34752),h=n.n(s),p={injectType:"singletonStyleTag",insert:"head",singleton:!0},v=(a()(h(),p),h().locals||{}),F=n(51122),m=n(23493),y=n.n(m),g=function(){function e(){(0,D.Z)(this,e),this._cleaners=[]}return(0,f.Z)(e,[{key:"free",get:function(){return this.destroy},set:function(e){this._cleaners.push(e)}},{key:"destroy",value:function(){for(;this._cleaners.length;)this._cleaners.pop()()}}]),e}(),H=n(56688);function b(e,t,n,r){var i=2<arguments.length&&void 0!==n?n:320,o=3<arguments.length&&void 0!==r?r:180;if(e.style.width="100%",e.offsetWidth<i&&(e.style.width=i+"px",e.scrollLeft=(i-e.offsetWidth)/2),"fill"===t)return e.style.height="100%",void(e.offsetHeight<o&&(e.style.height=o+"px"));var a,s,u,c,l,f,d=(u=(null==(a=t)||null===(s=a.split)||void 0===s?void 0:s.call(a,":"))||[],c=(0,N.Z)(u,2),l=c[0],f=c[1],isFinite(l)&&isFinite(f)?[l,f]:[16,9]),h=(0,N.Z)(d,2),p=h[0],v=h[1],m=Math.max(o,e.offsetWidth/p*v);e.style.height=m+"px"}var _=document;function w(){return _.fullscreenElement||_.webkitFullscreenElement||_.webkitCurrentFullScreenElement||_.webkitIsFullScreen||_.mozFullScreen||_.msFullscreenElement}function k(e){var t=x(e);return null!=t&&t.call(e,{navigationUI:"hide"}),t}function A(e){return x(e)}function x(e){return e.requestFullscreen||e.webkitRequestFullScreen||e.webkitEnterFullscreen||e.webkitEnterFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen}function E(){var e=_.exitFullscreen||_.webkitExitFullscreen||_.webkitCancelFullScreen||_.mozCancelFullScreen||_.msExitFullscreen;e&&(E=e.bind(_))()}function O(t){var e=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"];return e.forEach(function(e){return document.addEventListener(e,t)}),function(){return e.forEach(function(e){return document.removeEventListener(e,t)})}}function S(e,t){if(window.IntersectionObserver){var n=new IntersectionObserver(function(e){(e[0].isIntersecting||e[0].intersectionRatio)&&(t(),n.disconnect())},{threshold:[0]});return n.observe(e),n}}var T=n(71890),P=n(22201),U=n(67626),q=n(41209),C=n(6131),L=n.n(C),j={injectType:"singletonStyleTag",insert:"head",singleton:!0},R=(a()(L(),j),L().locals||{}),I=n(56053),z=function(){function r(e,t){var n=this;(0,D.Z)(this,r),this.errors=[],t&&(this.onShow=function(){return t.errorMode()},this.onHide=function(){return t.usualMode()},this.getQuality=function(){return t.settings.currentQuality}),this.el=(0,F.vz)("div",{class:[R.error,I.Z.hidden]},(0,F.vz)("div",{class:[R.inner,(0,Z.Z)({},R.tight,U.lr.venom)]},(0,F.vz)("div",{class:R.content,ref:function(e){return n.messageEl=e}},(0,F.vz)("div",{class:R.caption,onClick:function(){return n.showDebugInfo()}},q.fL.error),q.fL.tryToResolve))),e instanceof Element?e.appendChild(this.el):e.mount(e.BadNews,this.el)}return(0,f.Z)(r,[{key:"showDebugInfo",value:function(){var e=[].concat((0,u.Z)(this.errors),(0,u.Z)((0,T.C5)()));this.getQuality&&e.push("quality: ".concat(this.getQuality())),this.messageEl.innerHTML=e.join("<br/><br/>")}},{key:"add",value:function(e){var t=0<arguments.length&&void 0!==e?e:"unknown error";return t!==(0,P.Z$)(this.errors)&&this.messageEl.appendChild(document.createTextNode("\n\n"+t)),this.errors.push(t),this}},{key:"show",value:function(){var e;(0,F.$Z)(this.el),null!==(e=this.onShow)&&void 0!==e&&e.call(this)}},{key:"hide",value:function(){var e;(0,F.Cp)(this.el),null!==(e=this.onHide)&&void 0!==e&&e.call(this)}}]),r}(),M=function(){function o(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,n=1<arguments.length?arguments[1]:void 0,r=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0;(0,D.Z)(this,o),this._finalizer=new g,(0,F.ep)(t),this.el=(0,F.vz)("div",{class:["player-paused",v.player,v.init,(0,Z.Z)({},v.tv,H.xw)],onmouseleave:function(){return e.el.classList.remove("user-active")}}),t.appendChild(this.el),this._sizing(t,n,r,i)}return(0,f.Z)(o,[{key:"destroy",value:function(){this._finalizer.free()}},{key:"_sizing",value:function(t,n,r,e){var i=this,o=3<arguments.length&&void 0!==e?e:340,a=y()(function(){var e;b(t,n,r),(e=i.el).style.setProperty("--vp-vh","".concat(e.offsetHeight/100,"px")),e.style.setProperty("--vp-vw","".concat(e.offsetWidth/100,"px")),H.IN||s()},300),s=function(){t.offsetWidth<o?i.el.classList.add(I.Z.mini):i.el.classList.remove(I.Z.mini)},u=S(t,a);u||a(),addEventListener("resize",a),H.IN||(this._finalizer.free=O(s)),this._finalizer.free=function(){null!=u&&u.disconnect(),removeEventListener("resize",a)}}},{key:"showInitError",value:function(e,t){t?new z(this.el).add(e).show():(this.el.classList.add(v.error),this.el.appendChild(document.createTextNode(e)))}}]),o}(),B=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],V=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"],W=n(17365),G=n(73421),Y=n(21111),Q=n(71105);function X(r){var e,n=[],i=[];return{get value(){return r},set value(t){r!==t&&(e?i.length?console.warn("to many changes in reactive subs"):i.push(t):(e=!0,r=t,n.forEach(function(e){return e(t)}),e=!1,i.length&&(this.value=i.pop())))},dispose:function(){return n.splice(0)},subscribe:function(e){return n.push(e)},map:function(n){var e=this;return{get value(){return n(r)},subscribe:function(t){return e.subscribe(function(e){return t(n(e))})}}}}}var J=n(19730),K=n(75893),$=n(67272),ee=function(){function n(e,t){(0,D.Z)(this,n),this.ui=e,this._getTime=t,this.requestReport=null}return(0,f.Z)(n,[{key:"time",get:function(){return Math.floor(this._getTime())}},{key:"copyUrl",value:function(e,t){var n=this,r=e?(0,$.b1)((0,K.WX)(),Y.ZP.timeSearchParamName,this.time):(0,K.WX)();(0,J.J)(r,function(){n.ui.notify(q.fL.copied),null!=t&&t()})}}]),n}(),te=n(9293),ne=function(){function e(){(0,D.Z)(this,e),this._modals=[]}return(0,f.Z)(e,[{key:"visible",get:function(){return this._modals.some(function(e){return(e.el||e.dom)&&!(0,F.xj)(e.el||e.dom.el)})}},{key:"add",value:function(e,t){var n=this;e&&(this._modals.push(e),t||(e.beforeShow=function(){return n.hide(e.parentModal)}))}},{key:"hide",value:function(t){return this._modals.filter(function(e){return e!==t}).map(function(e){return e.hide()}).some(Boolean)}}]),e}(),re=n(20576),ie=n(83225),oe=n(40252),ae=n(82918),se=n.n(ae),ue={injectType:"singletonStyleTag",insert:"head",singleton:!0},ce=(a()(se(),ue),se().locals||{}),le={spinner:oe,triangle:[(0,F.vz)("div",{class:"".concat(ce.circle," ").concat(ce.circle1)}),(0,F.vz)("div",{class:"".concat(ce.circle," ").concat(ce.circle2)}),(0,F.vz)("div",{class:"".concat(ce.circle," ").concat(ce.circle3)})],blobs:[ie,(0,F.vz)("div",{class:ce.blob}),(0,F.vz)("div",{class:ce.blob})]},fe=function(){function t(e){(0,D.Z)(this,t),this.el=(0,F.vz)("div",{class:[ce.wrap,(0,Z.Z)({},ce.up,e.Loading.up)]},(0,F.vz)("div",{class:[ce.loader,(0,Z.Z)({},ce.sm,e.Loading.sm)]},le[e.Loading.kind]||le.blobs)),e.mount(e.Loading,this.el)}return(0,f.Z)(t,[{key:"show",value:function(){(0,F.$Z)(this.el)}},{key:"hide",value:function(){(0,F.Cp)(this.el)}}]),t}();function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function he(e){var t=e.onClick;return(0,F.vz)(Te,{class:Oe.close,onClick:t},ke)}var pe=n(94184),ve=n.n(pe),me=n(22558),ye=n.n(me),ge={injectType:"singletonStyleTag",insert:"head",singleton:!0},be=(a()(ye(),ge),ye().locals||{}),_e=function(e){var t;return(0,F.vz)("span",{class:ve()(be.tooltip,be[e.position],(t={},(0,Z.Z)(t,I.Z.hidden,H.xw),(0,Z.Z)(t,be.pre,e.pre),(0,Z.Z)(t,be.light,U.lr.simple),(0,Z.Z)(t,be.sizeSm,U.lr.simple),t))},(0,F.vz)("span",de({class:be.text},e.textProps),e.children))},we=n(44925),ke=n(72574),Ae=n(46173),xe=n.n(Ae),Ee={injectType:"singletonStyleTag",insert:"head",singleton:!0},Oe=(a()(xe(),Ee),xe().locals||{}),Se=["class","onClick","children"],Te=function(e){var t=e.class,n=e.onClick,r=e.children,i=(0,we.Z)(e,Se);return(0,F.vz)("button",de({class:[Oe.button,Oe.icon,t],onClick:n},i),r)},Pe=n(60641),Ce=n.n(Pe),Le={injectType:"singletonStyleTag",insert:"head",singleton:!0},je=(a()(Ce(),Le),Ce().locals||{}),Re=n(81423),Ie=n.n(Re),ze={injectType:"singletonStyleTag",insert:"head",singleton:!0},Me=(a()(Ie(),ze),Ie().locals||{});var Be=n(47647),Ze=n.n(Be),De={injectType:"singletonStyleTag",insert:"head",singleton:!0},Ne=(a()(Ze(),De),Ze().locals||{}),Fe=function(e){var t,n=e.action,r=e.icon,i=e.iconText,o=e.arrow,a=e.hidden,s=e.children,u=e.buttonRef,c={};a&&(c.visibility="hidden");var l=(0,F.vz)("div",{class:[Ne.item,Ne["radial-item-rotate"]],style:c},(0,F.vz)("div",{class:Ne["item-inner"]},(0,F.vz)("button",{onClick:n,ref:function(e){return t=e},class:[Oe.button,Ne["button-radial"],(0,Z.Z)({},Ne["has-arrow-".concat(o)],o)]},r),s));return r&&i&&(0,F.bp)(t,i),null!=u&&u(t),l},He=n(97741),Ue=n(26817),qe=n(173),Ve={480:"SD",720:"HD",1080:"FHD",4e3:"4K"},We=[.5,1,2],Ge=function(){function h(e,t,n,r,i,o,a,s){var u=this;(0,D.Z)(this,h),this.dom={};var c=t.list,l=void 0===c?[]:c,f=t.active,d=t.change;this.qualityList=l;this.el=(0,F.vz)("div",{class:[Ne.menu,Ne["radial-show"],I.Z.hidden]},(0,F.vz)("div",{class:Ne.center},(0,F.vz)("button",{onClick:n,class:[Oe.button,Ne["button-radial"]]},r.map(function(e){return(0,F.dy)(e?U.qv.pause:U.qv.play)}))),(0,F.vz)("div",{class:Ne.list},!s&&(0,F.vz)(Fe,{action:function(){return i(-i.time)},icon:U.qv.timeSub,iconText:i.time}),(0,F.vz)(Fe,{action:a,icon:qe,hidden:!a}),(0,F.vz)(Fe,{action:function(){return u.showQualityMenu()},buttonRef:function(e){return u.dom.qualityButton=e},icon:Ve[f],hidden:!l.length,arrow:"bottom"},(0,F.vz)("div",{ref:function(e){return u.dom.qualityList=e},class:[Ne.submenu,Ne["submenu-bottom"],I.Z.hidden]},(0,F.vz)("div",{class:Ne["submenu-inner"]},l.map(function(t){return(0,F.vz)("button",{ref:function(e){return u.dom["quality".concat(t)]=e},onClick:function(){return e=t,te.Z.set("player.quality",e),d(e),void u.hide();var e},class:[Oe.button,Ne["button-radial"],(0,Z.Z)({},Ne.active,t==f)]},(e=t,isNaN(e)?"auto":e<2e3?e:"".concat(Math.round(e/1e3),"K")));var e})))),(0,F.vz)("div",{class:[Ne.item,Ne["radial-item-rotate"]]}),(0,F.vz)(Fe,{action:function(){return u.showRateMenu()},buttonRef:function(e){return u.dom.rateButton=e},icon:Ue,arrow:"bottom",hidden:H.xw},(0,F.vz)("div",{ref:function(e){return u.dom.rateList=e},class:[Ne.submenu,Ne["submenu-bottom"],I.Z.hidden]},(0,F.vz)("div",{class:Ne["submenu-inner"]},We.map(function(t){return(0,F.vz)("button",{ref:function(e){return u.dom["rate".concat(t)]=e},onClick:function(){return o(t)},class:[Oe.button,Ne["button-radial"]]},t,"x")})))),(0,F.vz)("div",{class:[Ne.item,Ne["radial-item-rotate"]]}),!s&&(0,F.vz)(Fe,{action:function(){return i(i.time)},icon:U.qv.timeAdd,iconText:i.time}))),e.mount(e.RadialMenu,this.el)}return(0,f.Z)(h,[{key:"updateQuality",value:function(e){var t,n=this;this.qualityList.forEach(function(e){return n.dom["quality".concat(e)].classList.remove(Ne.active)}),null!==(t=this.dom["quality".concat(e)])&&void 0!==t&&t.classList.add(Ne.active),this.dom.qualityButton.innerHTML=Ve[e]}},{key:"updateRate",value:function(e){var t=this;We.forEach(function(e){return t.dom["rate".concat(e)].classList.remove(Ne.active)});var n=this.dom["rate".concat(e)]||this.dom.rate1;null!=n&&n.classList.add(Ne.active),(0,F.bp)(this.dom.rateButton,"".concat(e,"x"))}},{key:"hidden",get:function(){return(0,F.xj)(this.el)}},{key:"hide",value:function(){return this.dom.qualityButton.classList.remove(Ne.active),this.dom.rateButton.classList.remove(Ne.active),(0,F.Cp)(this.dom.rateList),(0,F.Cp)(this.dom.qualityList),(0,F.WM)(this.el)}},{key:"show",value:function(e){e.preventDefault();var t=this.el,n=t.parentElement.getBoundingClientRect();(0,F.$Z)(t);var r=1.5*t.clientWidth,i=1.5*t.clientHeight,o=(0,He.e$)(r,n.width-r,e.x-n.left),a=(0,He.e$)(i,n.height-i,e.y-n.top);t.style.left="".concat(o,"px"),t.style.top="".concat(a,"px")}},{key:"showRateMenu",value:function(){(0,F.$Z)(this.dom.rateList),(0,F.Cp)(this.dom.qualityList),this.dom.rateButton.classList.add(Ne.active),this.dom.qualityButton.classList.remove(Ne.active)}},{key:"showQualityMenu",value:function(){(0,F.$Z)(this.dom.qualityList),(0,F.Cp)(this.dom.rateList),this.dom.qualityButton.classList.add(Ne.active),this.dom.rateButton.classList.remove(Ne.active)}}]),h}(),Ye=n(56603),Qe=n.n(Ye),Xe={injectType:"singletonStyleTag",insert:"head",singleton:!0},Je=(a()(Qe(),Xe),Qe().locals||{}),Ke=n(2439),$e=n.n(Ke),et={injectType:"singletonStyleTag",insert:"head",singleton:!0},tt=(a()($e(),et),$e().locals||{}),nt=function(e){var t=e.action,n=e.children;return(0,F.vz)("div",{class:Je.item,role:"button",onClick:t},n)},rt=function(){function o(e,t,n){var r=this;(0,D.Z)(this,o);function i(){return r.hide()}this.el=(0,F.vz)("div",{class:[tt.menu,Je.menu,I.Z.hidden]},(0,F.vz)(nt,{action:function(){return t.copyUrl(!1,i)}},q.fL.copyUrl),(0,F.vz)(nt,{action:function(){return t.copyUrl(!0,i)}},q.fL.copyWithTime),t.requestReport&&(0,F.vz)(nt,{action:t.requestReport},q.fL.report),(0,F.vz)("div",{class:"".concat(Je.item," ").concat(Je.last)},!1===n?Y.i8:"Venom player ".concat(Y.i8))),e.mount(e.ContextMenu,this.el)}return(0,f.Z)(o,[{key:"show",value:function(e){e.preventDefault();var t=this.el,n=t.parentElement.getBoundingClientRect();(0,F.$Z)(t);var r=H.IN?e.changedTouches[0].clientX:e.x,i=H.IN?e.changedTouches[0].clientY:e.y,o=Math.min(r-n.left,n.width-t.clientWidth),a=Math.min(i-n.top,n.height-t.clientHeight);t.style.left="".concat(o,"px"),t.style.top="".concat(a,"px")}},{key:"hide",value:function(){return(0,F.WM)(this.el)}}]),o}(),it=n(59170),ot=n.n(it),at={injectType:"singletonStyleTag",insert:"head",singleton:!0},st=(a()(ot(),at),ot().locals||{}),ut=function(){function t(e){(0,D.Z)(this,t),this.left=(0,F.vz)("div",{class:[st.blink,st.left]}),this.right=(0,F.vz)("div",{class:[st.blink,st.right]}),this.el=(0,F.vz)("div",null),e.mount(e.TapAnimation,this.el)}return(0,f.Z)(t,[{key:"play",value:function(e){(0,F.ep)(this.el),this.el.appendChild(this[e])}}]),t}(),ct=n(23279),lt=n.n(ct),ft=n(93963),dt=n.n(ft),ht={injectType:"singletonStyleTag",insert:"head",singleton:!0},pt=(a()(dt(),ht),dt().locals||{}),vt=function(){function n(e){var t=this;(0,D.Z)(this,n),this.visible$=X(!1),this.hint$=X(""),e.mount(e.ActionNotifier,(0,F.vz)(F.If,{rx:this.visible$},(0,F.vz)("div",{class:[pt.wrap,(0,Z.Z)({},pt.up,e.ActionNotifier.up)]},this.hint$))),this.hideLater=lt()(function(){return t.visible$.value=!1},500)}return(0,f.Z)(n,[{key:"show",value:function(e,t){var n,r=e in U.qv,i=(0,F.vz)("div",{class:[pt.fade,(n={},(0,Z.Z)(n,pt.icon,r),(0,Z.Z)(n,pt.text,!r),n)]},r?U.qv[e]:e);r&&t&&(0,F.bp)(i,t),this.hint$.value=i,this.visible$.value=!0,this.hideLater()}}]),n}(),mt=n(26325),yt="&nbsp;".repeat(10),gt=function(){function i(e,t,n){var r=this;(0,D.Z)(this,i),this.isCountdown=!t&&te.Z.getParsed("player.isCountdown",!1),this.withTotal=!t&&te.Z.getParsed("player.withTotal",!0),this.el=(0,F.vz)("span",{class:[Me.time,I.Z.hideOnMini,(0,Z.Z)({},Me.muted,e.Remaining.muted)],onclick:function(){r._smartClick?(clearTimeout(r._smartClick),r._smartClick=null,n(prompt("Введите время",(0,mt.WU)(r.currentTime)))):r._smartClick=setTimeout(function(){r._smartClick=null,t||r.toggleTime()},200)}}),e.mount(e.Remaining,this.el)}return(0,f.Z)(i,[{key:"update",value:function(e,t){var n,r;this.duration=e,this.currentTime=t,this.isCountdown?(n=e-t,this.el.innerHTML=n?"-".concat((0,mt.WU)(n)):yt):this.withTotal&&e?(r=(0,mt.WU)(e),this.el.textContent=t?"".concat((0,mt.WU)(t)," / ").concat(r):r):this.el.innerHTML=t?(0,mt.WU)(t):yt}},{key:"toggleTime",value:function(){this.isCountdown?this.isCountdown=!1:this.withTotal?(this.withTotal=!1,this.isCountdown=!0):this.withTotal=!0,this.update(this.duration,this.currentTime),te.Z.set("player.isCountdown",this.isCountdown),te.Z.set("player.withTotal",this.withTotal)}}]),i}(),bt=n(50760),_t=n(32009),wt=n.n(_t),kt={injectType:"singletonStyleTag",insert:"head",singleton:!0},At=(a()(wt(),kt),wt().locals||{}),xt=function(){function r(e,t){var n=this;(0,D.Z)(this,r),e.mount(e.Live,(0,F.vz)("div",{class:At.main},(0,F.vz)("button",{class:"".concat(Oe.button," ").concat(At.button," ").concat(At.live),onClick:t,ref:function(e){return n.button=e}},bt,(0,F.vz)("span",{class:At.inner,ref:function(e){return n.label=e}},q.fL.online))))}return(0,f.Z)(r,[{key:"update",value:function(e){e?(this.label.textContent=q.fL.online,this.button.classList.add(At.live)):(this.label.textContent=q.fL.goLive,this.button.classList.remove(At.live))}}]),r}(),Et=function(){function i(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];(0,D.Z)(this,i),this.changeHandler=n,this.isVertical=r,this.makeHtml(e,t),this.addEventHandlers()}return(0,f.Z)(i,[{key:"makeHtml",value:function(){this.el=document.createElement("div"),this.progress=document.createElement("div")}},{key:"addEventHandlers",value:function(){var t=this,e=this.el;e.onmousedown=function(e){return t.onHover(e,!0)},e.onmousemove=function(e){return t.onHover(e)},e.onmouseup=e.onmouseleave=function(){return t.endDrag()}}},{key:"onHover",value:function(e,t){1<arguments.length&&void 0!==t&&t&&(this.isDragging=!0),this.isDragging&&this.change(e,this.changeHandler)}},{key:"endDrag",value:function(){this.isDragging=!1}},{key:"change",value:function(e,t){(1<arguments.length&&void 0!==t?t:function(e){return e})(this.getHoveredValue(e))}},{key:"getHoveredValue",value:function(e){var t=this.el,n=this.isVertical,r=t.getBoundingClientRect(),i=(n?e.clientY-r.top:e.clientX-r.left)/(n?t.clientHeight:t.clientWidth);return this.step(n?1-i:i)}},{key:"step",value:function(e){return 1<e?1:e}},{key:"update",value:function(e){this.progress.style[this.isVertical?"height":"width"]="".concat(100*e,"%")}}]),i}(),Ot=n(41661),St=n.n(Ot),Tt={injectType:"singletonStyleTag",insert:"head",singleton:!0},Pt=(a()(St(),Tt),St().locals||{});function Ct(r){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=(0,d.Z)(r);return t=i?(e=(0,d.Z)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,c.Z)(this,t)}}var Lt=function(){(0,l.Z)(n,Et);var e=Ct(n);function n(){return(0,D.Z)(this,n),e.apply(this,arguments)}return(0,f.Z)(n,[{key:"step",value:function(e){var t=(0,i.Z)((0,d.Z)(n.prototype),"step",this).call(this,e);return t<.1?0:t}},{key:"makeHtml",value:function(e,t){var n;this.progress=(0,F.hi)(Pt.progress);var r=(n={},(0,Z.Z)(n,Pt.vertical,this.isVertical),(0,Z.Z)(n,Pt.drop,e.Sound.drop),(0,Z.Z)(n,Pt.dropBgInherit,e.Sound.drop),(0,Z.Z)(n,I.Z.hidden,H.xw||"ontouchstart"in this.progress),n);this.el=(0,F.vz)("span",{class:[Pt.range,r]},(0,F.hi)(Pt.wrap,[(0,F.hi)(Pt.rail),this.progress])),t.appendChild(this.el)}},{key:"addEventHandlers",value:function(){function t(e){return n.onHover(e)}var n=this;this.el.onmousedown=function(e){e.preventDefault(),e.stopPropagation(),n.onHover(e,!0),n.el.classList.add(Pt.active);document.addEventListener("mouseup",function e(){n.isDragging=!1,document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",t),n.el.classList.remove(Pt.active)}),document.addEventListener("mousemove",t)}}}]),n}(),jt=function(){function u(e,t,n,r){var i=this,o=!(4<arguments.length&&void 0!==arguments[4])||arguments[4];(0,D.Z)(this,u),this.saveSettings=o;var a=y()(function(e){return r(-.03*Math.sign(e.deltaY))},30),s=(0,F.vz)("span",{class:Pt.sound,"aria-label":"sound",onWheel:function(e){return e.preventDefault()||a(e)}},(0,F.vz)("button",{class:"".concat(Oe.button," ").concat(Oe.icon," ").concat(Pt.muted),onClick:t,ref:function(e){return i.button=e}},(0,F.vz)(_e,{position:e.Sound.tip||"left",textProps:{ref:function(e){return i.tooltip=e}}}),U.qv.volumeOn));this.slider=new Lt(e,s,n,e.Sound.vertical),e.mount(e.Sound,s)}return(0,f.Z)(u,[{key:"update",value:function(e,t){this.saveSettings&&(te.Z.setVolume(t),e!==this.muted&&te.Z.set("player.muted",e));var n=(this.muted=e)||0===t;this.tooltip.innerText=n?q.fL.unMute:q.fL.mute;var r=n?U.qv.volumeOff:U.qv.volumeOn;(0,F.TJ)(this.button,r),this.button.classList[n?"add":"remove"](Pt.muted),this.slider.update(t)}}]),u}(),Rt=n(24555);function It(r){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=(0,d.Z)(r);return t=i?(e=(0,d.Z)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,c.Z)(this,t)}}var zt="var(--vp-color-primary)",Mt="var(--vp-background-color-slider-rail)",Bt=function(e){return Y.ZP.preview.template.replace("${spriteNum}",e)},Zt=function(){(0,l.Z)(u,Et);var s=It(u);function u(e,t,n,r,i){var o;if((0,D.Z)(this,u),(o=s.call(this,e,null,t))._sections=n||[],o.section$=X(),o.section$.subscribe(function(e){e&&e.skip&&o._duration-e.end<2&&r("endedSoon")}),o._playing$=i,!Y.ZP.preview.template)return(0,c.Z)(o,o._noPreview());var a=H.tq?null:function(){return o._noPreview()};return(0,Rt.Z)(Bt(0),function(){return o._sprite0Available=!0},a),o.loaded=[],o.loading=new Set,o}return(0,f.Z)(u,[{key:"time",set:function(t){this._time=t,this.update(t/this._duration),this._playing$.value&&(this.section$.value=this._sections.find(function(e){return e.start<=t&&t<e.end}))}},{key:"duration",set:function(e){this._duration=e,this.update(this._time/e),this._addDivs()}},{key:"makeHtml",value:function(e){var t,n,r;this._tipTime$=X(),this._mark$=X(),this.preview=(0,F.vz)("span",{class:be.thumbnail});var i=(0,F.vz)("span",{class:be.text},this._mark$.map(function(e){return e&&Y.WU.skip(e)||""}),(0,F.vz)(F.If,{rx:this._mark$},(0,F.vz)("br")),this._tipTime$);this.tooltip=(0,F.vz)("span",{class:[be.tooltip,be.timeLine,(t={},(0,Z.Z)(t,be.light,e.Timeline.tipLight),(0,Z.Z)(t,be.aboveBar,e.Timeline.tipUp),(0,Z.Z)(t,be.mobile,H.tq),t)],role:"tooltip"},this.preview,i),this.overlay=(0,F.hi)(ve()(Pt.seekOverlay,I.Z.hidden,(n={},(0,Z.Z)(n,Pt.transparent,e.Timeline.tipLight),(0,Z.Z)(n,Pt.aboveBar,e.Timeline.tipUp),(0,Z.Z)(n,Pt.down,e.Timeline.tipDown),(0,Z.Z)(n,Pt.mobile,H.tq),n))),this.el=(0,F.hi)(ve()(Pt.range,Pt.timeline,be.hasTip,(r={},(0,Z.Z)(r,Pt.dropBgInherit,e.Timeline.dropBgInherit),(0,Z.Z)(r,Pt.drop,e.Timeline.drop),(0,Z.Z)(r,Pt.handy,e.Timeline.handy),(0,Z.Z)(r,Pt.aboveControls,e.Timeline.up),(0,Z.Z)(r,Pt.belowControls,e.Timeline.down),(0,Z.Z)(r,Pt.widerClickArea,e.Timeline.wide),r)),[this.overlay,this.wrap=(0,F.hi)(Pt.wrap,[(0,F.hi)(Pt.rail),this.progress=(0,F.hi)(Pt.progress),this.tempProgress=(0,F.hi)(ve()(Pt.progress,I.Z.hidden)),this._section=(0,F.hi)(Pt.section)]),this.tooltip]),e.mount(e.Timeline,this.el),e.Timeline.short&&!H.tq&&this.listenResize(e.wrapper)}},{key:"_noPreview",value:function(){this.tooltip.classList.add(be.noPreview)}},{key:"listenResize",value:function(e){var t=this,n=y()(function(){t.el.classList.toggle(Pt.aboveControls,e.offsetWidth<600)},300),r=S(this.el,n);r||n(),addEventListener("resize",n),this._removeListeners=function(){null!=r&&r.disconnect(),removeEventListener("resize",n)}}},{key:"onHover",value:function(e,t){(0,i.Z)((0,d.Z)(u.prototype),"onHover",this).call(this,e,t);var n=this.getHoveredValue(e);this.isDragging&&this.update(n),this.updateTooltip(n,this.isDragging)}},{key:"endDrag",value:function(){(0,i.Z)((0,d.Z)(u.prototype),"endDrag",this).call(this),this._hideMark()}},{key:"updateTooltip",value:function(e,t){this.updateTooltipPosition(e),this.updatePreview(e);var n=this._duration*e,r=(0,He.Nb)(n,Y.ZP.preview.interval,this._duration);this._tipTime$.value=(0,mt.WU)(r),this._mark$.value=this._sections.find(function(e){return r>e.start&&r<e.end}),this._updateMark(r,t)}},{key:"updateTooltipPosition",value:function(e){var t,n;H.tq||(t=this.tooltip.clientWidth/this.el.clientWidth/2,n=(0,He.e$)(t,1-t,e),this.tooltip.style.left=(0,He.iB)(n))}},{key:"updatePreview",value:function(e){var t,n,r,i,o,a,s,u,c,l,f,d;this._sprite0Available&&this._duration&&(n=(t=Y.ZP.preview).interval,r=t.spriteSize,i=t.width,o=t.height,s=(a=this._duration/n)/r,u=Math.floor(s*e),this.updateThumb(Bt(u)),c=Math.round(a*e),l=Math.min(c%r,r-1),f=this.preview.clientWidth/i,d=(this.preview.clientHeight-o*f)/2,this.preview.style.backgroundPositionY="".concat(l*-o*f+d,"px"))}},{key:"updateThumb",value:function(e){var t=this,n='url("'.concat(e,'")');this.preview.style.backgroundImage=n,this.previewLoaded()||(this._noPreview(),this.loading.has(e)||(this.loading.add(e),(0,Rt.Z)(e,function(){t.loaded.push(n),t.previewLoaded(),t.loading.delete(e)},function(){return t.loading.delete(e)})))}},{key:"previewLoaded",value:function(){var e=this.preview.style.backgroundImage,t=this.loaded.includes(e);return t&&this.tooltip.classList.remove(be.noPreview),t}},{key:"_addDivs",value:function(){var t,n=this;!this._marked&&this._sections&&(this._marked=!0,t=function(e){var t=(0,F.hi)(Pt.div);t.style.left=(0,He.iB)(e/n._duration),t.style.left||(t.style.opacity="0"),n.wrap.append(t)},this._sections.forEach(function(e){t(e.start),t(e.end)}))}},{key:"_updateMark",value:function(e,t){var n,r,i,o,a,s,u;H.tq||((n=this._mark$.value)?(r=this._section,i=this._time,o=this._duration,a=n.start/o,s=n.end/o,u=(t?e:i)/o,r.style.left=(0,He.iB)(a),r.style.width=(0,He.iB)(s-a),r.style.background=u<a?Mt:s<u?zt:"linear-gradient(to right, ".concat(zt," ").concat((0,He.iB)((u-a)/(s-a)),", ").concat(Mt," 0)")):this._hideMark())}},{key:"_hideMark",value:function(){this._section.style.background="transparent"}},{key:"showOverlay",value:function(){(0,F.$Z)(this.overlay),this.tooltip.classList.add(be.visible),(0,F.$Z)(this.tempProgress),(0,F.Cp)(this.progress)}},{key:"hideOverlay",value:function(){(0,F.Cp)(this.overlay),this.tooltip.classList.remove(be.visible),(0,F.Cp)(this.tempProgress),(0,F.$Z)(this.progress)}},{key:"updateOverlay",value:function(e){this.overlay.style.width=(0,He.iB)(e),this.updateTooltip(e,!0),this.tempProgress.style.width=(0,He.iB)(e)}},{key:"show",value:function(){(0,F.$Z)(this.el)}},{key:"hide",value:function(){(0,F.Cp)(this.el)}},{key:"destroy",value:function(){var e;null!==(e=this._removeListeners)&&void 0!==e&&e.call(this),this.section$.dispose(),this._mark$.dispose(),this._tipTime$.dispose()}}]),u}(),Dt=function(){function t(e){(0,D.Z)(this,t),this.el=(0,F.hi)(Pt.buffer),e.parentElement.insertBefore(this.el,e)}return(0,f.Z)(t,[{key:"update",value:function(e){var a=this.el;a.childElementCount!=e.length&&((0,F.ep)(a),e.forEach(function(){a.appendChild((0,F.hi)(Pt.bufferItem))})),e.forEach(function(e,t){var n=(0,N.Z)(e,2),r=n[0],i=n[1],o=a.children[t].style;o.left=r+"%",o.right=i+"%"})}}]),t}(),Nt=function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(0,D.Z)(this,e);var r,i=n.src,o=n.width,a=void 0===o?"20%":o,s=n.height,u=void 0===s?"15%":s,c=n.margin,l={width:a,height:u,margin:void 0===c?"3%":c,top:0,right:0,position:"absolute",backgroundColor:"black",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPositionX:"center"};t.mount(t.LiveLogo,(0,F.vz)("div",{style:l,ref:function(e){return r=e.style}})),(0,Rt.Z)(i,function(){r.backgroundImage="url(".concat(i,")"),r.backgroundColor=""});function f(){var e=d.clientWidth/16*9;r.top=Math.max(0,(d.clientHeight-e)/2)+"px"}var d=t.wrapper.getElementsByTagName("video")[0];window.addEventListener("resize",y()(f,50)),f()},Ft=function(){function u(e,t,n,r){var i=this;(0,D.Z)(this,u);var o=w();e.mount(e.FullScreen,(0,F.vz)("button",{class:"".concat(Oe.button," ").concat(Oe.icon),onClick:function(){return i.toggle()},ref:function(e){return i.button=e}},o?U.qv.fullScreenLeave:U.qv.fullScreenEnter,(0,F.vz)(_e,{position:"top-right",textProps:{ref:function(e){return i.tooltip=e}}},o?q.fL.fullscreenExit:q.fL.fullscreenEnter))),this.wrapper=t,this.playerEmit=n,this.externalFullScreen=!("external"!==r||H.xw||H.vU||H.un||H.Gb);function a(e){return"fullScreen"===e.data.event&&i.update(e.data.enter)}var s=O(function(){return i.changeHandler()});window.addEventListener("message",a),this.removeHandlers=function(){s(),window.removeEventListener("message",a)},this.externalFullScreen||this.changeHandler(!1)}return(0,f.Z)(u,[{key:"toggle",value:function(){if(this.externalFullScreen)return this.playerEmit("toggleFullScreen"),parent.postMessage({event:"toggleFullScreen"},"*");if(w())E();else{var e=this.wrapper.parentNode;this._styleWidthBeforeFS=e.style.width,this._styleHeightBeforeFS=e.style.height;var t,n=k(e);if(H.tq&&Y.ZP.autoLandscape&&null!==(t=screen.orientation)&&void 0!==t&&t.lock("landscape"),n)return;this.isFakeOrNative=!0,k(this.wrapper.getElementsByTagName("video")[0])}}},{key:"changeHandler",value:function(e){var t,n=!(0<arguments.length&&void 0!==e)||e,r=w();this.update(r,n),r!==this.wrapper.parentNode||innerWidth==r.clientWidth&&r.clientHeight?!r&&this._sizeHacked&&((t=this.wrapper.parentNode).style.width=this._styleWidthBeforeFS,t.style.height=this._styleHeightBeforeFS,this._sizeHacked=!1):(console.warn("bad :fullscreen styles!"),r.style.width="100%",r.style.height="100%",this._sizeHacked=!0)}},{key:"update",value:function(e,t){this.tooltip.innerText=e?q.fL.fullscreenExit:q.fL.fullscreenEnter;var n=e?U.qv.fullScreenLeave:U.qv.fullScreenEnter;(0,F.TJ)(this.button,n),e?(this.wrapper.classList.add("player-fullscreen"),t&&this.playerEmit("fullscreenEnter")):(this.wrapper.classList.remove("player-fullscreen"),t&&this.playerEmit("fullscreenExit"))}},{key:"hide",value:function(){(0,F.Cp)(this.button)}},{key:"show",value:function(){(0,F.$Z)(this.button)}}]),u}(),Ht=n(41877),Ut=!H.ua.includes("VenomPlayer/")&&/Android/i.test(H.ua),qt=function(t,n){return t&&Ut?fetch("https://raw.githubusercontent.com/venom112020/venom1.1/main/venom_list_domens.json").then(function(e){return e.json()}).then(function(e){return(0,F.vz)(Vt,de({url:"".concat(e.webPlayer.downloadApp,"/").concat(t),label:t},n.AppLink))}).catch(console.warn):null},Vt=function(e){var t,n=e.url,r=e.label,i=e.up,o=e.top,a=e.touch;return(0,F.vz)("a",{href:n,target:"_blank",onClick:function(){return(0,W.Mi)("venom-desktop",{action:"landing.open",label:r})},class:[Oe.button,Oe.appLink,be.hasTip,(t={},(0,Z.Z)(t,Oe.up,i),(0,Z.Z)(t,Oe.top,o),(0,Z.Z)(t,Oe.touch,a),t)]},(0,F.vz)(_e,{pre:!0,position:o?"bottom":"right"},q.fL.appLinkTip),(0,F.vz)("span",{class:Oe.label},q.fL.appLink),(0,F.vz)("span",{class:Oe.icons},(0,F.vz)("span",{class:Oe.appIcon},Ht)))},Wt=function(){function a(e,t,n){var r,i=this;(0,D.Z)(this,a),this.url=t;var o=null===(r=e.Download)||void 0===r?void 0:r.tip;e.mount(e.Download,(0,F.vz)("button",{class:[Oe.button,Oe.icon,(0,Z.Z)({},be.hasTip,o)],onClick:function(){return i._action(n)}},U.qv.download,o&&(0,F.vz)(_e,{position:o},q.fL.download)))}return(0,f.Z)(a,[{key:"_action",value:function(e){e(),this.onConfirmed?this.onConfirm(q.fL.download,q.fL.downloadConfirm,this.onConfirmed):(window.open(this.url,"_blank"),(0,W.ot)({cat:"download",hit:"try"}))}},{key:"startLoad",value:function(){location.href=this.url,(0,W.ot)({cat:"download",hit:"try"})}}]),a}();var Gt=function(){function i(e,t,n){var r=this;(0,D.Z)(this,i),this._video=t,this.enabled$=X(),e.mount(e.Pip,(0,F.vz)(F.If,{rx:this.enabled$},(0,F.vz)(Te,{onClick:function(){return r._toggle(!0)},ref:function(e){return r._button=e}},this.inPicture?U.qv.pipOut:U.qv.pipIn,(0,F.vz)(_e,{position:"top-right",textProps:{ref:function(e){return r._tooltip=e}}},this.inPicture?q.fL.pipOut:q.fL.pipIn)))),this._unlisten=this._listen(t,function(){return r._update()}),this._observeVisibility(t,n)}return(0,f.Z)(i,[{key:"inPicture",get:function(){return document.pictureInPictureElement}},{key:"_listen",value:function(e,t){return e.addEventListener("enterpictureinpicture",t),e.addEventListener("leavepictureinpicture",t),function(){e.removeEventListener("enterpictureinpicture",t),e.removeEventListener("leavepictureinpicture",t)}}},{key:"_observeVisibility",value:function(e,t){var i=this;window.IntersectionObserver&&(0<t&&t<1||1===t)&&(this._observer=new IntersectionObserver(function(e){var t=(0,N.Z)(e,1)[0],n=t.isIntersecting,r=t.target;n&&i.inPicture&&!i._enteredByBtn?i._leave():n||i.inPicture||r.paused||i._enter()},{threshold:t}),this._observer.observe(e))}},{key:"videoReady",value:function(){this._videoReady=!0,null==this.enabled$.value&&(this.enabled$.value=!0)}},{key:"enable",value:function(){this.enabled$.value=!0}},{key:"disable",value:function(){this.enabled$.value=!1}},{key:"_enter",value:function(){this._videoReady&&this.enabled$.value&&this._video.requestPictureInPicture()}},{key:"_leave",value:function(){document.exitPictureInPicture()}},{key:"_toggle",value:function(e){this.inPicture?(this._leave(),this._enteredByBtn=!1):(this._enter(),e&&(this._enteredByBtn=!0))}},{key:"_update",value:function(){this._tooltip.innerText=this.inPicture?q.fL.pipOut:q.fL.pipIn,(0,F.TJ)(this._button,this.inPicture?U.qv.pipOut:U.qv.pipIn)}},{key:"destroy",value:function(){var e;this._unlisten(),null!==(e=this._observer)&&void 0!==e&&e.disconnect(),this.inPicture&&this._leave()}}],[{key:"isSupported",get:function(){return document.pictureInPictureEnabled}}]),i}();function Yt(e,t,n){var r,i=t.mini,o=(0,F.vz)(Te,{onClick:function(e){e.stopPropagation(),n(t)},class:["episode-".concat(e),I.Z.hideOnMini]},(0,F.vz)(_e,{position:"top-left"},(0,F.vz)("span",{class:be["preview-container"]},(0,F.vz)("span",{class:be["preview-thumbnail"]},i&&(0,F.vz)("img",{src:i,width:"160",height:"90",ref:function(e){return r=e},alt:"preview"})),(0,F.vz)("span",{class:be["preview-content"]},(0,F.vz)("span",{class:be["preview-footnote"]},"next"===e?q.fL.next:q.fL.prev," ",q.fL.episode),(0,F.vz)("br",null),(0,F.vz)("span",{class:be["preview-title"]},t.title)))),U.qv[e]);return i&&(0,Rt.Z)(i,function(){return r.src=i},function(){return r.parentElement.removeChild(r)}),o}function Qt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jt=function(){function s(e){(0,D.Z)(this,s);var t,n=e.current,r=e.seasons;if(this._seasons=[],Array.isArray(r)){null==n.season&&null!=n.id&&(n.season=null===(t=r.find(function(e){var t;return null===(t=e.episodes)||void 0===t?void 0:t.some(function(e){return e.id===n.id})}))||void 0===t?void 0:t.season);var i,o=Qt(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;!function(t){var e;null!==(e=t.episodes)&&void 0!==e&&e.forEach(function(e){e.season=t.season,t.blocked&&(e.blocked=!0)})}(a),this._seasons[a.season]=a}}catch(e){o.e(e)}finally{o.f()}}}return(0,f.Z)(s,[{key:"getSeasons",value:function(){return this._seasons.filter(Boolean)}},{key:"getEpisodes",value:function(e){var t;return(null===(t=this._seasons[e])||void 0===t?void 0:t.episodes)||[]}},{key:"getNextPrevEpisodes",value:function(e){var t=e.season,n=e.episode,r=this.getEpisodes(t);if(!r.length)return[];var i=r.findIndex(function(e){return e.episode===n});return[i+1<r.length?r[i+1]:(0,P.Ps)(this.getEpisodes(t+1)),0<=i-1?r[i-1]:(0,P.Z$)(this.getEpisodes(t-1))]}}]),s}();var Kt=n(16488),$t=n.n(Kt),en={injectType:"singletonStyleTag",insert:"head",singleton:!0},tn=(a()($t(),en),$t().locals||{});function nn(r){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=(0,d.Z)(r);return t=i?(e=(0,d.Z)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,c.Z)(this,t)}}function rn(e){return e}var on=function(e){var t;return(0,F.vz)("div",{onClick:e.disabled?rn:e.select,class:ve()(tn.item,(t={},(0,Z.Z)(t,tn.back,e.back),(0,Z.Z)(t,tn.active,e.active),(0,Z.Z)(t,tn.blocked,e.disabled),t))},(0,F.vz)("div",{class:tn.content},e.children))},an=function(){(0,l.Z)(s,Jt);var a=nn(s);function s(e,t){var n;(0,D.Z)(this,s),n=a.call(this,t);var r=t.current,i=t.changeEpisode,o=(0,F.vz)("div",{class:"".concat(tn.slider," ").concat(I.Z.hideOnMini)},(0,F.vz)("button",{class:ve()(Oe.button,tn.prev),onClick:function(){return n.slide(-1)},ref:function(e){return n.prevEl=e}}),(0,F.vz)("div",{class:tn.list,ref:function(e){return n.listEl=e},onTouchstart:function(e){return e.stopPropagation()},onScroll:y()(function(){return n.togglePrevNext()},300)},(0,F.vz)(on,null,r.season," ",q.fL.season),(0,F.vz)(on,null,r.episode," ",q.fL.episode)),(0,F.vz)("button",{class:ve()(Oe.button,tn.next),onClick:function(){return n.slide(1)},ref:function(e){return n.nextEl=e}}));return e.mount(e.Playlist,o),n.loadSeasons(r,i),n.loadEpisodes(r.season,r,i),n}return(0,f.Z)(s,[{key:"slide",value:function(e){var t,n,r=this.listEl;r&&r.children[1]&&(t=r.children[1].offsetLeft-r.firstChild.offsetLeft,n=Math.floor(r.clientWidth/t),r.scrollLeft+=e*n*t)}},{key:"togglePrevNext",value:function(){var e=this.listEl;(0,F._4)(this.prevEl,e.scrollLeft<5),(0,F._4)(this.nextEl,e.scrollLeft+10>e.scrollWidth-e.clientWidth)}},{key:"loadSeasons",value:function(t,n){var r=this,e=this.getSeasons();e.length<2||(this.seasonsItems=e.map(function(e){return(0,F.vz)(on,{select:function(){return r.changeSeason(e.season,t,n)},active:e.season===t.season,disabled:e.blocked},e.season," ",q.fL.season)}),this.update(this.seasonsItems))}},{key:"loadEpisodes",value:function(n,r,i){var e,t,o=this.getEpisodes(n);o.length&&(e=o.map(function(e){var t=n===r.season&&e.episode===r.episode;return(0,F.vz)(on,{select:function(){return t||i(e)},active:t,disabled:e.blocked},e.episode," ",q.fL.episode,(0,F.vz)("div",{class:tn.footnote},n," ",q.fL.season))}),this.update([this.backToSeasons(n)].concat((0,u.Z)(e))),(t=e.find(function(e){return e.classList.contains(tn.active)}))&&S(this.listEl,function(){return(0,F.X5)(t)}))}},{key:"changeSeason",value:function(e,t,n){this.update(this.backToSeasons(e)),this.loadEpisodes(e,t,n)}},{key:"backToSeasons",value:function(e){var t=this;if(this.seasonsItems)return(0,F.vz)(on,{back:!0,select:function(){return t.update(t.seasonsItems)}},e," ",q.fL.season,(0,F.vz)("div",{class:tn.footnote},q.fL.back))}},{key:"update",value:function(e){(0,F.ep)(this.listEl);var t=Array.isArray(e)?e:[e];(0,F.R3)(this.listEl,t),this.togglePrevNext()}},{key:"hide",value:function(){return!1}}]),s}(),sn=function(){function u(e,t){var n=this,r=t.flat,i=t.current,o=t.changeEpisode;(0,D.Z)(this,u);var a=(0,F.vz)("div",{class:tn.slider},(0,F.vz)("button",{class:ve()(Oe.button,tn.prev),onClick:function(){return n.slide(-1)},ref:function(e){return n.prevEl=e}}),(0,F.vz)("div",{class:tn.list,ref:function(e){return n.listEl=e},onScroll:y()(function(){return n.togglePrevNext()},300)},r.map(function(e,t){return(0,F.vz)("div",{class:ve()(tn.item,(0,Z.Z)({},tn.active,e.id===i.id)),onClick:function(){return o(e)}},(0,F.vz)("div",{class:tn.content},t+1," ",q.fL.episode))})),(0,F.vz)("button",{class:ve()(Oe.button,tn.next),onClick:function(){return n.slide(1)},ref:function(e){return n.nextEl=e}}));e.mount(e.Playlist,a),this.togglePrevNext();var s=this.listEl.getElementsByClassName(tn.active)[0];s&&S(this.listEl,function(){return(0,F.X5)(s)})}return(0,f.Z)(u,[{key:"slide",value:function(e){var t,n,r=this.listEl;r&&r.firstChild&&(t=r.firstChild.clientWidth+2*r.firstChild.offsetLeft,n=Math.floor(r.clientWidth/t),r.scrollLeft+=e*n*t)}},{key:"togglePrevNext",value:function(){var e=this.listEl;(0,F._4)(this.prevEl,e.scrollLeft<5),(0,F._4)(this.nextEl,e.scrollLeft+10>e.scrollWidth-e.clientWidth)}},{key:"hide",value:function(){return!1}}]),u}();function un(e,t){return(0,F.vz)("button",{onclick:e,class:[Oe.button,Oe.icon,Oe.close,t]},ke)}var cn=n(4356),ln=n.n(cn),fn={injectType:"singletonStyleTag",insert:"head",singleton:!0},dn=(a()(ln(),fn),ln().locals||{});function hn(r){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=(0,d.Z)(r);return t=i?(e=(0,d.Z)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,c.Z)(this,t)}}var pn=function(){(0,l.Z)(i,Jt);var r=hn(i);function i(e,t){var n;return(0,D.Z)(this,i),(n=r.call(this,t))._current=t.current,n.el=(0,F.vz)("div",{class:ve()(tt.menu,tt.right,I.Z.hidden)},(0,F.vz)("div",{class:tt.header},un(function(){return n.hide()})),(0,F.vz)("div",{class:tt.body},(0,F.vz)("ul",{class:ve()(dn.seasons,(0,Z.Z)({},dn.tv,H.xw)),ref:function(e){return n.listElement=e}},n._seasonsItems(t.changeEpisode)))),e.mount(e.Playlist,n.el),n}return(0,f.Z)(i,[{key:"_seasonsItems",value:function(r){var i=this;this.seasonsItems=[];var e=this.getSeasons();return e.length?e.map(function(e){var t=e.season,n=e.blocked;return(0,F.vz)("li",{ref:function(e){return i.seasonsItems[t]=e},class:ve()(dn.season,(0,Z.Z)({},dn.active,t===i._current.season))},(0,F.vz)("button",{class:ve()(Oe.button,dn.expand),onClick:function(){return i.showEpisodes(t)},disabled:n},q.fL.Season," ",t),(0,F.vz)("ul",{class:dn.episodes},i._episodesItems(t,r)))}):this._noItems()}},{key:"_episodesItems",value:function(e,n){var r=this,t=this.getEpisodes(e);return t.length?t.map(function(t){return(0,F.vz)("li",{class:ve()(dn.episode,(0,Z.Z)({},dn.active,r._isActive(e,t.episode))),onClick:function(e){e.stopPropagation(),r.hide()&&n(t)}},(0,F.vz)("button",{class:ve()(Oe.button,(0,Z.Z)({},dn.blocked,t.blocked))},t.episode))}):this._noItems()}},{key:"_noItems",value:function(){return[(0,F.vz)("li",null),(0,F.vz)("span",null,q.fL.emptyList)]}},{key:"_isActive",value:function(e,t){return e===this._current.season&&t===this._current.episode}},{key:"show",value:function(){var e,t;null!==(e=this.beforeShow)&&void 0!==e&&e.call(this),(0,F.$Z)(this.el),this.showEpisodes(this._current.season),null!==(t=this.listElement.getElementsByTagName("button")[0])&&void 0!==t&&t.focus()}},{key:"hide",value:function(){var e,t=(0,F.WM)(this.el,!0);return t&&null!==(e=this.onHide)&&void 0!==e&&e.call(this),t}},{key:"showEpisodes",value:function(e){var t=this.seasonsItems[e];t&&((0,F.bA)(t,dn.opened),S(this.el,function(){return(0,F.X5)(t)}))}}]),i}(),vn=function(){function a(e,t){var n=this,r=t.flat,i=t.current,o=t.changeEpisode;(0,D.Z)(this,a),this.el=(0,F.vz)("div",{class:ve()(tt.menu,tt.right,I.Z.hidden)},(0,F.vz)("div",{class:tt.header},un(function(){return n.hide()})),(0,F.vz)("div",{class:tt.body},(0,F.vz)("ul",{class:dn.seasons,ref:function(e){return n.listElement=e}},(0,F.vz)("li",{class:ve()(dn.season,dn.active,dn.opened,(0,Z.Z)({},dn.tv,H.xw))},(0,F.vz)("button",{class:ve()(Oe.button,dn.expand)},q.fL.episodes),(0,F.vz)("ul",{class:dn.episodes},r.map(function(t,e){return(0,F.vz)("li",{class:ve()(dn.episode,(0,Z.Z)({},dn.active,t.id===i.id)),onClick:function(e){e.stopPropagation(),n.hide()&&o(t)}},(0,F.vz)("button",{class:ve()(Oe.button,(0,Z.Z)({},dn.blocked,t.blocked))},t.episode||e+1))})))))),e.mount(e.Playlist,this.el)}return(0,f.Z)(a,[{key:"show",value:function(){var e,t;null!==(e=this.beforeShow)&&void 0!==e&&e.call(this),(0,F.$Z)(this.el),null!==(t=this.listElement.getElementsByTagName("button")[0])&&void 0!==t&&t.focus()}},{key:"hide",value:function(){var e,t=(0,F.WM)(this.el,!0);return t&&null!==(e=this.onHide)&&void 0!==e&&e.call(this),t}}]),a}(),mn=n(50601),yn=n(22193),gn=n.n(yn),bn={injectType:"singletonStyleTag",insert:"head",singleton:!0},_n=(a()(gn(),bn),gn().locals||{});function wn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var kn=function(){function l(t,n,e){var r,i=this,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(e){return e};(0,D.Z)(this,l),this.onChange=e,this.label=o,this.value=n,this.items={};function a(e){return Array.isArray(t.disabled)&&t.disabled.includes(e)}var s,u,c=Array.isArray(t)?t:t.list;H.tq?(s=c.every(function(e){return Number.isInteger(e)})?Number:function(e){return e},this.el=(0,F.vz)("div",{class:"".concat(_n.withArrow," ").concat(I.Z.hideOnMini)},(0,F.vz)("select",{onChange:function(e){return i.select(s(e.target.value))}},(!n||!c.length)&&(0,F.vz)("option",null,q.fL.select),c.map(function(e){return(0,F.vz)("option",{value:e,selected:e===n,disabled:a(e)},o(e))})))):(r={},(0,Z.Z)(r,_n.backgroundFill,U.$C.hoverBg),(0,Z.Z)(r,_n.textColor,!U.$C.hoverBg),u=r,this.el=(0,F.vz)("div",{class:[_n.dropdown,I.Z.hideOnMini,(0,Z.Z)({},_n.innerIndent,U.$C.innerIndent)]},(0,F.vz)("div",{onClick:function(){return(0,F.ZN)(i.el,_n.opened)},class:[_n.header,u]},(0,F.vz)("span",{class:_n.headerText,ref:function(e){return i.activeEl=e}},n?o(n):q.fL.select),(0,F.vz)("div",{class:_n.icon},mn)),(0,F.vz)("div",{class:_n.menu},c.map(function(t){var e;return(0,F.vz)("div",{class:[_n.item,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(n),!0).forEach(function(e){(0,Z.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}((e={},(0,Z.Z)(e,_n.active,t===n),(0,Z.Z)(e,_n.blocked,a(t)),(0,Z.Z)(e,_n.underline,U.$C.dropdownUnderline),e),u)],onClick:function(){return!a(t)&&i.select(t)},ref:function(e){return i.items[t]=e}},o(t))}))))}return(0,f.Z)(l,[{key:"mount",value:function(e){e.appendChild(this.el)}},{key:"select",value:function(e,t){var n=!(1<arguments.length&&void 0!==t)||t;this.close(),e!==this.value&&(this.value=e,H.tq||(this.activeEl.textContent=this.label(e),(0,F.QZ)(this.items[e],_n.active)),n&&this.onChange(e))}},{key:"close",value:function(){var e=this.el.classList.contains(_n.opened);return(0,F.xv)(this.el,_n.opened),e}}]),l}();function An(r){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=(0,d.Z)(r);return t=i?(e=(0,d.Z)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,c.Z)(this,t)}}var xn=function(){(0,l.Z)(c,Jt);var u=An(c);function c(e,t){var n;(0,D.Z)(this,c);var r=(n=u.call(this,t)).getSeasons(),i=n.withDisabled(r,"season"),o=t.current,a=t.changeEpisode;n.seasonCtrl=new kn(i,o.season,function(e){return n.loadEpisodes(e,o,a)},function(e){return"".concat(e," ").concat(q.fL.season)}),r.length<2&&(0,F.Cp)(n.seasonCtrl.el);var s=(0,F.vz)("div",{class:[_n.list,(0,Z.Z)({},_n.spaceMd,e.Playlist.spaceMd)]});return n.seasonCtrl.mount(s),n._makeEpisodeCtrl(o.season,o,a),n.episodeCtrl.mount(s),e.mount(e.Playlist,s),n}return(0,f.Z)(c,[{key:"loadEpisodes",value:function(e,t,n){var r=this.episodeCtrl;this._makeEpisodeCtrl(e,t,n),(0,F.gx)(r.el,this.episodeCtrl.el)}},{key:"_makeEpisodeCtrl",value:function(e,t,n){var r=this.getEpisodes(e);this.episodeCtrl=new kn(this.withDisabled(r,"episode"),e===t.season&&t.episode,function(t){return n(r.find(function(e){return t===e.episode}))},function(e){return"".concat(e," ").concat(q.fL.episode)})}},{key:"withDisabled",value:function(e,t){var n=e.map(function(e){return e[t]}),r=e.filter(function(e){return e.blocked}).map(function(e){return e[t]});return r.length?{list:n,disabled:r}:n}},{key:"hide",value:function(){return this.seasonCtrl.close()||this.episodeCtrl.close()}}]),c}(),En=function(){function t(e,n){(0,D.Z)(this,t),this.dropdown=new kn(n.flat.map(function(e){return e.id}),n.current.id,function(t){var e=n.flat.find(function(e){return t===e.id});n.changeEpisode(e)},function(t){return n.flat.find(function(e){return t===e.id}).title}),e.mount(e.Playlist,this.dropdown.el)}return(0,f.Z)(t,[{key:"hide",value:function(){return this.dropdown.close()}}]),t}();function On(e,t){var n=e.Playlist.kind;if("dropdown"==n)return new(t.seasons?xn:En)(e,t);if("slider"==n)return new(t.seasons?an:sn)(e,t);var r=new(t.seasons?pn:vn)(e,t);!H.tq&&t.open&&r.show();var i=(0,F.vz)(Te,{class:I.Z.hideOnMini,onClick:function(){return r.show()}},(0,F.vz)(_e,{position:"left"},q.fL.playlist),U.qv.episodes);return e.mount(e.PlaylistBtn,i),r.onHide=function(){return i.focus()},r}var Sn=n(57520),Tn=n(28518),Pn=n(67081),Cn=n(46884),Ln=n(8409),jn=function(){return[{name:q.fL.webPlayer,icon:Pn},{name:q.fL.proxyApp,icon:Sn},{name:q.fL.advertisingPlugin,icon:Ln},{name:q.fL.channelEconomy,icon:Cn}]},Rn=function(){function n(e){var t=this;(0,D.Z)(this,n),this.el=(0,F.vz)("div",{class:[tt.menu,tt.about,tt.center,I.Z.hidden],onClick:function(e){e.target==t.el&&t.hide()}},(0,F.vz)("div",{class:tt.inner},(0,F.vz)("div",{class:tt.header},(0,F.vz)("div",{class:tt.venomLogo},Tn),(0,F.vz)("span",{class:tt.text},q.fL.forDevelopers),un(function(){return t.hide()},tt.close)),(0,F.vz)("div",{class:tt.body},jn().map(function(e){return(0,F.vz)("div",{class:tt.item},e.icon,e.name)})),(0,F.vz)("div",{class:tt.footer},"Venom Player ",Y.i8))),e.mount(e.AboutMenu,this.el)}return(0,f.Z)(n,[{key:"show",value:function(){var e;null!==(e=this.beforeShow)&&void 0!==e&&e.call(this),(0,F.$Z)(this.el)}},{key:"hide",value:function(){return(0,F.WM)(this.el,!0)}}]),n}(),In=n(41709),zn=n(99607),Mn=n(17955),Bn=n(63599),Zn=n(12128),Dn=[{name:"facebook",icon:Bn,url:"https://www.facebook.com/sharer/sharer.php?u="},{name:"vkontakte",icon:Mn,url:"https://vk.com/share.php?url="},{name:"odnoklassniki",icon:zn,url:"https://connect.ok.ru/offer?url="}],Nn=function(){function r(e,t,n){(0,D.Z)(this,r),this.socials=Array.isArray(t)?Dn.filter(function(e){return t.includes(e.name)}):Dn,this.isCopyVisible=!Array.isArray(t)||t.includes("copy"),this.el=this.makePanel(n),e.mount(e.Share,this.el)}return(0,f.Z)(r,[{key:"makeButton",value:function(e){var t=this;this.button=(0,F.vz)(Te,{class:I.Z.hideOnMini,onClick:function(){return t.toggle()}},(0,F.vz)(_e,{position:e.ShareBtn.tip||"left"},q.fL.share),U.qv.share),e.mount(e.ShareBtn,this.button)}},{key:"makePanel",value:function(e){function i(){return t.hide()}var t=this;return(0,F.vz)("div",{class:[tt.share,I.Z.hidden,(0,Z.Z)({},tt.mob,H.tq)]},(0,F.vz)("div",{class:Oe.btnGroup},this.isCopyVisible&&H.tq&&(0,F.vz)(Te,{onClick:function(){return e.copyUrl(!0,i)}},Zn),this.isCopyVisible&&(0,F.vz)(Te,{onClick:function(){return e.copyUrl(!1,i)}},In),this.socials.map(function(e){var r=e.url+encodeURIComponent((0,K.WX)());return(0,F.vz)("a",{href:r,onClick:function(){return e=r,t=i,n=["innerWidth=420","innerHeight=325","left=".concat(outerWidth/2-210),"top=".concat(outerHeight/2-150)],open(e,"share",n.join(",")),void t();var e,t,n},target:"_blank",class:[Oe.button,Oe.icon]},e.icon)})))}},{key:"hide",value:function(){var e,t=(0,F.WM)(this.el,!0);return t&&(this.button.focus(),null!==(e=this.parentModal)&&void 0!==e&&e.hide()),t}},{key:"toggle",value:function(){var e;this.hide()||(null!==(e=this.beforeShow)&&void 0!==e&&e.call(this),(0,F.$Z)(this.el))}}]),r}();var Fn=n(22390),Hn=n(4353),Un=function(){function r(e,t){var n=this;(0,D.Z)(this,r),this.el=(0,F.vz)(qn,{row:e.Fold.row,left:e.Fold.left}),e.mount(e.Fold,this.el),t.requestReport&&e.mount(e.ReportBtn,(0,F.vz)(Te,{onClick:t.requestReport},Hn)),this.button=(0,F.vz)(Te,{onClick:function(){return n.toggle()}},Fn),this.el.parentNode.insertBefore(this.button,this.el),t.requestReport||this._observeChildrenForVisibility()}return(0,f.Z)(r,[{key:"hide",value:function(){return this.button.classList.remove(Oe.active),this.el.classList.remove(tt.open),(0,F.WM)(this.el,!0)}},{key:"toggle",value:function(){var e;this.hide()||(null!==(e=this.beforeShow)&&void 0!==e&&e.call(this),(0,F.$Z)(this.el),this.button.classList.add(Oe.active),this.el.classList.add(tt.open))}},{key:"_observeChildrenForVisibility",value:function(){var e,t;window.MutationObserver&&(e=this.button,(t=this.el).children.length||(0,F.Cp)(e),this._observer=new MutationObserver(function(){(t.children.length?(0,F.$Z):(0,F.Cp))(e)}),this._observer.observe(t,{childList:!0}))}},{key:"destroy",value:function(){var e;null!==(e=this._observer)&&void 0!==e&&e.disconnect(),delete this._observer}}]),r}(),qn=function(e){var t,n=e.row,r=e.left,i=e.children;return(0,F.vz)("div",{class:[tt.menu,tt.dot,Oe.btnGroup,I.Z.hidden,(t={},(0,Z.Z)(t,Oe.column,!n),(0,Z.Z)(t,tt.left,r),t)]},i)},Vn=function(){function n(e){var t=this;(0,D.Z)(this,n),this.el=(0,F.vz)("div",{class:[tt.menu,tt.center,I.Z.hidden]},(0,F.vz)("div",{class:[tt.inner,tt.message]},un(function(){return t.hide()}),(0,F.vz)("div",{ref:function(e){return t.textEl=e}}))),e.appendChild(this.el)}return(0,f.Z)(n,[{key:"show",value:function(e){this.textEl.innerHTML=e,(0,F.$Z)(this.el)}},{key:"confirm",value:function(e,t,n){var r=this;this.textEl.innerHTML="",this.textEl.appendChild((0,F.vz)(Wn,{title:e,decline:function(){return r.hide()},ok:function(){r.hide(),n()}},t)),(0,F.$Z)(this.el)}},{key:"hide",value:function(){return(0,F.WM)(this.el)}}]),n}(),Wn=function(e){var t=e.title,n=e.children,r=e.ok,i=e.decline;return(0,F.vz)("div",null,(0,F.vz)("div",{class:[I.Z.gutterBottom,I.Z.title]},t),(0,F.vz)("div",{class:[I.Z.gutterBottom,I.Z.footnote]},n),(0,F.vz)("div",{class:[Oe.btnGroup,Oe.twoButtons]},(0,F.vz)("button",{class:[Oe.button,Oe.default],onClick:i},q.fL.decline),(0,F.vz)("button",{class:[Oe.button,Oe.primary],onClick:r},q.fL.proceed)))},Gn=n(969),Yn=n(38976),Qn=n(12129),Xn=n(51280),Jn=n(91686),Kn=function(){function r(e,t){(0,D.Z)(this,r);var n=(0,F.vz)("button",{class:[Oe.button,Oe.icon,I.Z.hideOnMini],onClick:t},U.qv.settings,(0,F.vz)(_e,{position:e.SettingsBtn.tip||"top"},q.fL.settings),this.label=(0,F.vz)("span",null));e.mount(e.SettingsBtn,n),this._badge=e.SettingsBtn.badge}return(0,f.Z)(r,[{key:"setIcon",value:function(e){var t,n;this._badge&&(t={4e3:Yn,1080:Qn,720:Xn}[e],n=(0,F.vz)("span",{class:[Oe.quality,Oe[this._badge]]},t||Jn),(0,F.gx)(this.label,n),this.label=n)}}]),r}(),$n=n(35139),er=n(55711),tr=n(13288),nr=n(60652),rr=n(8658),ir=n.n(rr),or={injectType:"singletonStyleTag",insert:"head",singleton:!0},ar=(a()(ir(),or),ir().locals||{});function sr(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ur(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sr(Object(n),!0).forEach(function(e){(0,Z.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var cr=function(){function l(){var e,t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0,i=2<arguments.length?arguments[2]:void 0,o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0;(0,D.Z)(this,l),this.message={show:function(e){return alert(e)}},this.currentQuality=n.active||"-",this.changeQuality=n.change,this.qualities=n.list||[],this.changeSpeed=r.change,this.speeds=r.list,this.dom={quality:{},sound:{},speed:{},skip:{},cc:{},about:{}},this._layout=a.Settings;var s,u,c=a.Settings.big;c&&this.makeHeader(),this.makeSetting("quality",n.list,n.active,function(e){return t.selectQuality(e)}),a.AudioTracks||this.makeSetting("sound",[],"auto"),1<r.list.length&&this.makeSetting("speed",r.list,1,function(e){return t.selectSpeed(e)}),i.length&&(s=te.Z.skip,u=i.filter(function(e){return s.includes(e.type)}),this.makeSetting("skip",i,u,function(e){return t.toggleSkip(e,i)})),o&&this.makeSetting("about",o,"Venom"),this.dom.el=(0,F.vz)("div",{class:[ar.menu,I.Z.hidden,(e={},(0,Z.Z)(e,ar.right,c),(0,Z.Z)(e,ar.overlay,!c),(0,Z.Z)(e,ar.mobile,H.tq),e)]},this.dom.header,this.dom.skip.el,this.dom.quality.el,this.dom.sound.el,this.dom.speed.el,this.dom.about.el),a.mount(a.Settings,this.dom.el)}return(0,f.Z)(l,[{key:"makeHeader",value:function(){var e=this;this.dom.header=(0,F.vz)("div",{class:[ar.header,ar.gutterBottom,ar.divider]},(0,F.vz)("div",{class:ar.title},q.fL.settings),(0,F.vz)(he,{onClick:function(){return e.hide()}}))}},{key:"makeSetting",value:function(e,t,n,r){var i,o=this,a=1<arguments.length&&void 0!==t?t:[],s=2<arguments.length?n:void 0,u=3<arguments.length?r:void 0,c=!Array.isArray(a),l=c?function(){return a.show()}:function(){return a.length&&o.showSubMenu(h.menu)},f=Y.WU[e]||function(e){return e},d=Array.isArray(s)?s.length?q.fL.on:q.fL.off:f(s),h={};return h.el=(0,F.vz)("div",{class:ar.item},(0,F.vz)("div",{ref:function(e){return h.head=e},onClick:l,class:[ar.header,(i={},(0,Z.Z)(i,ar.backgroundFill,U.$C.hoverBg),(0,Z.Z)(i,ar.textColor,!U.$C.hoverBg),(0,Z.Z)(i,ar.row,this._layout.row),i)]},(0,F.vz)("div",{class:ar.headerInner},(0,F.vz)("div",{class:[ar.title,(0,Z.Z)({},ar.muted,this._layout.muted)]},q.fL[e]),(0,F.vz)("div",{class:ar.value,ref:function(e){return h.value=e}},d)),(0,F.vz)("span",{class:ar.icon},$n)),!c&&this.makeSubMenu(h,e,a,s,u,f)),this.dom[e]=h}},{key:"makeSubMenu",value:function(t,e,n,r,i,o){var a,s,u=this,c=Array.isArray(r),l=(a={},(0,Z.Z)(a,ar.backgroundFill,U.$C.hoverBg),(0,Z.Z)(a,ar.textColor,!U.$C.hoverBg),a),f=this._layout,d=f.marks,h=f.roundMark,p=f.divider,v=f.gap;return(0,F.vz)("div",{class:[ar.submenu,I.Z.hidden],ref:function(e){return t.menu=e}},(0,F.vz)("div",{onClick:function(){return u.showMenu()},class:[ar.header,ur((s={},(0,Z.Z)(s,ar.divider,p),(0,Z.Z)(s,ar.gutterBottom,v),s),l)]},(0,F.vz)("span",{class:ar.icon},er),q.fL[e]),(0,F.vz)("ul",{ref:function(e){return t.list=e}},n.map(function(e){var t;return(0,F.vz)("li",{onClick:function(){return i(e)},class:[ar.item,ur((t={},(0,Z.Z)(t,ar.multi,c),(0,Z.Z)(t,ar.active,c?r.includes(e):r==e),(0,Z.Z)(t,ar.checkMark,h),t),l)]},h&&(0,F.vz)("span",{class:ar.checkMarkIcon},tr),(d||c&&!h)&&(0,F.vz)("span",{class:ar.icon},nr),o(e))})),"skip"==e&&(0,F.vz)("div",{class:ar.description},q.fL.skipDescription))}},{key:"updateSetting",value:function(e,t,n,r){var i=this.dom,o=i.el,a=i[e],s=this.makeSetting(e,t,n,r);null!=a&&a.el?(0,F.gx)(a.el,s.el):o.appendChild(s.el)}},{key:"makeQuality",value:function(e){var t=this;this.updateSetting("quality",e.list,e.active,function(e){return t.selectQuality(e)}),this.qualities=e.list||[],this.currentQuality=e.active||"-",this.changeQuality=e.change}},{key:"makeSoundtrack",value:function(e,t,n){var r=this,i=0<arguments.length&&void 0!==e?e:[],o=1<arguments.length?t:void 0,a=i[2<arguments.length&&void 0!==n?n:0]||"auto";this.updateSetting("sound",i,a,function(t){var e=i.findIndex(function(e){return e===t});o(e),r.hide(),r.markSound(e,t),te.Z.set("player.track",t)})}},{key:"makeCC",value:function(e,t){var n=this;this.makeSetting("cc",[q.fL.off].concat((0,u.Z)(e)),q.fL.off,function(e){t(e),n.hide()}),this.dom.about.el?this.dom.el.insertBefore(this.dom.cc.el,this.dom.about.el):this.dom.el.appendChild(this.dom.cc.el)}},{key:"toggleSkip",value:function(t,e){var n=t.type,r=te.Z.skip;te.Z.skip=r.includes(n)?r.filter(function(e){return e!=n}):[].concat((0,u.Z)(r),[n]);var i=e.findIndex(function(e){return e==t}),o=this.dom.skip,a=o.list,s=o.value;a.children[i].classList.toggle(ar.active),s.textContent=a.getElementsByClassName(ar.active).length?q.fL.on:q.fL.off}},{key:"selectQuality",value:function(e){this.hide();var t=Y.ZP.restrictQuality(e);if(t)return this.message.show(t);this.changeQuality(e),this.updateQuality(e),te.Z.set("player.quality",e)}},{key:"selectSpeed",value:function(e){this.hide(),this.isSpeedRestricted(e)||(this.markSpeed(e),this.changeSpeed(e),te.Z.speed=e)}},{key:"isSpeedRestricted",value:function(e){var t=Y.ZP.restrictSpeed(e,this.currentQuality);if(t)return this.message.show(t),!0}},{key:"lowerQualityOnTV",value:function(){if(H.xw&&!(this.currentQuality<1080)&&this.changeQuality){var e=(0,Gn.pE)(this.qualities,this.currentQuality);if(e)return this.changeQuality(e),this.updateQuality(e),e}}},{key:"updateQuality",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;this.currentQuality=e,this.markQuality(n,e),this.button.setIcon(e)}},{key:"markQuality",value:function(e,t){e=this.findQualityItem(e,t),this.markItem(e,"quality",t)}},{key:"markSound",value:function(e,t){var n=this.indexToItem("sound",e);this.markItem(n,"sound",t)}},{key:"markSpeed",value:function(e){var t=this.findSpeedItem(e);this.markItem(t,"speed",e)}},{key:"markCC",value:function(e){e++;var t=this.dom.cc.list.children[e];this.markItem(t,"cc")}},{key:"markItem",value:function(e,t,n){var r;e&&(0,F.QZ)(e,ar.active),null==n&&!e||(r=Y.WU[t]||function(e){return e},this.dom[t].value.textContent=null!=n?r(n):e.textContent)}},{key:"findQualityItem",value:function(e,t){return null===e&&(e=this.qualities.findIndex(function(e){return e==t})),this.indexToItem("quality",e)}},{key:"findSpeedItem",value:function(t){return this.dom.speed.list&&this.indexToItem("speed",this.speeds.findIndex(function(e){return e==t}))}},{key:"indexToItem",value:function(e,t){return Number.isInteger(t)?this.dom[e].list.children[t]:t}},{key:"showSubMenu",value:function(e){(0,F.Cp)(this.dom.header),(0,F.Cp)(this.dom.skip.head),(0,F.Cp)(this.dom.quality.head),(0,F.Cp)(this.dom.sound.head),(0,F.Cp)(this.dom.speed.head),(0,F.Cp)(this.dom.cc.head),(0,F.Cp)(this.dom.about.head),(0,F.$Z)(e)}},{key:"showMenu",value:function(){(0,F.Cp)(this.dom.skip.menu),(0,F.Cp)(this.dom.quality.menu),(0,F.Cp)(this.dom.sound.menu),(0,F.Cp)(this.dom.speed.menu),(0,F.Cp)(this.dom.cc.menu),(0,F.$Z)(this.dom.header),(0,F.$Z)(this.dom.skip.head),(0,F.$Z)(this.dom.quality.head),(0,F.$Z)(this.dom.sound.head),(0,F.$Z)(this.dom.speed.head),(0,F.$Z)(this.dom.cc.head),(0,F.$Z)(this.dom.about.head)}},{key:"makeButton",value:function(e,t){var n=this;this.button=new Kn(e,function(){return n.toggle()}),t&&this.button.setIcon(t)}},{key:"toggle",value:function(){var e;this.hide()||(null!==(e=this.beforeShow)&&void 0!==e&&e.call(this),this.showMenu(),(0,F.$Z)(this.dom.el))}},{key:"hide",value:function(){return(0,F.WM)(this.dom.el,this._layout.big)}}]),l}();function lr(r){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=(0,d.Z)(r);return t=i?(e=(0,d.Z)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,c.Z)(this,t)}}var fr=function(){(0,l.Z)(s,cr);var a=lr(s);function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0,r=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;return(0,D.Z)(this,s),(e=a.call(this,t,n,r,i,o)).layout=o,e}return(0,f.Z)(s,[{key:"markSound",value:function(e){var t;null!==(t=this.soundtrackCtrl)&&void 0!==t&&t.select(this.tracks[e],!1)}},{key:"makeSoundtrack",value:function(e,t,n){var r=0<arguments.length&&void 0!==e?e:[],i=1<arguments.length?t:void 0,o=2<arguments.length&&void 0!==n?n:0,a=(this.tracks=r)[o]||"auto";!r.length||1===r.length&&Y.ZP.oneSound||this.renderSoundtrack(new kn(r,a,function(t){var e=r.findIndex(function(e){return e===t});i(e),te.Z.set("player.track",t)},function(e){return e}))}},{key:"renderSoundtrack",value:function(e){var t,n=this.soundtrackCtrl;this.soundtrackCtrl=e,null!=n&&n.el.parentNode?(0,F.gx)(n.el,e.el):(null!==(t=this.layout)&&void 0!==t&&t.mount(this.layout.AudioTracks,e.el),this.layout=null)}},{key:"hide",value:function(){var e,t=null===(e=this.soundtrackCtrl)||void 0===e?void 0:e.close();return(0,i.Z)((0,d.Z)(s.prototype),"hide",this).call(this)||t}}]),s}(),dr=function(){function B(e,t,n,r,i,o,a,s,u,c,l,f,d,h,p,v,m){var y,g,b,_,w,k,A,x,E,O,S,T,P,C,L,j,R=this,I=17<arguments.length&&void 0!==arguments[17]?arguments[17]:{};(0,D.Z)(this,B),this.container=this.constructor.makePanel(e,qt(I.downloadApp,e)),this.makeTitle(e,h,I.titleOnlyOnFullscreen),this.remaining=new gt(e,l,a),l&&(this.live=new xt(e,l)),I.liveLogo&&new Nt(e,I.liveLogo),f&&(this.playlist=On(e,f),g=f.seasons?this.playlist.getNextPrevEpisodes(f.current):(S=(O=f).flat,T=O.current,P=S.findIndex(function(e){return e.id===T.id}),[S[P+1],S[P-1]]),_=(b=(0,N.Z)(g,2))[0],w=b[1],f.next=_,!1!==I.prevNext&&(k=e,A=w,x=_,E=f.changeEpisode,A&&k.mount(k.Prev,Yt("prev",A,E)),x&&k.mount(k.Next,Yt("next",x,E)),k.mount(k.Spacer,(0,F.vz)("div",{class:Me.spacer})))),L=t,j=u,(C=e).Play&&C.mount(C.Play,(0,F.vz)(Te,{onClick:L},j.map(function(e){return(0,F.dy)(e?U.qv.pause:U.qv.play)}),(0,F.vz)(_e,{position:"top-left"},j.map(function(e){return e?q.fL.pause:q.fL.play})))),this.sound=new jt(e,r,i,o),e.Fold&&(this.fold=new Un(e,c)),!1===I.share||0===(null===(y=I.share)||void 0===y?void 0:y.length)||H.xw||(this.share=new Nn(e,I.share,c),this.share.makeButton(e),this.share.parentModal=this.fold),m&&(this.download=new Wt(e,m,function(){var e;return null===(e=R.fold)||void 0===e?void 0:e.hide()}),this.download.onConfirm=function(){var e;return(e=R.message).confirm.apply(e,arguments)}),!1!==I.about&&(this.aboutMenu=new Rn(e));var z=(v||[]).filter(function(e){return e.skip&&e==(t=e.type,v.find(function(e){return e.skip&&e.type==t}));var t});this.settings=new(e.AudioTracks?fr:cr)(d,s,z,this.aboutMenu,e),this.settings.makeButton(e,null==d?void 0:d.active),this.message=this.settings.message=new Vn(this.container),Gt.isSupported&&I.pip&&(this.pip=new Gt(e,p,I.pip)),this.fullscreen=new Ft(e,e.wrapper,n,I.fullscreen),this.timeLine=new Zt(e,a,v,n,u),this.buffered=new Dt(this.timeLine.progress);var M=f&&"slider"==e.Playlist.kind;!function(e,t,n,r){var i;t.subscribe(function(e){e&&e.skip&&((0,W.ot)({cat:"skip",hit:"show",sub:e.type}),te.Z.skip.includes(e.type)&&n(e.end))});var o=t.map(function(e){return e&&(e.title||q.fL[e.type])});e.mount(e.SkipSection,(0,F.vz)(F.If,{rx:t.map(function(e){return e&&e.skip})},(0,F.vz)("button",{class:[Oe.skip,(i={},(0,Z.Z)(i,Oe.tv,H.xw),(0,Z.Z)(i,Oe.up,r),i)],onClick:function(){var e=t.value;n(e.end),(0,W.ot)({cat:"skip",hit:"click",sub:e.type})}},(0,F.vz)("span",null,q.fL.skip," ",o),(0,F.vz)("span",{class:Oe.skipIcon},U.qv.skip))))}(e,this.timeLine.section$,function(e){return a(null,e)},M)}return(0,f.Z)(B,[{key:"updateLive",value:function(e){this.live&&this.live.update(e),(e?(0,F.Cp):(0,F.$Z))(this.remaining.el)}},{key:"makeTitle",value:function(e,t,n){t&&e.Title&&(this.titleEl=(0,F.vz)("div",{class:Me.title},t),this.titleMode(n),e.mount(e.Title,this.titleEl))}},{key:"titleMode",value:function(e){this.titleEl&&(e?this.titleEl.classList.add(I.Z.hidden):this.titleEl.classList.remove(I.Z.hidden))}},{key:"setDuration",value:function(e){this.duration=e,this.remaining.update(e,this.currentTime),this.timeLine.duration=e}},{key:"setCurrentTime",value:function(e){this.currentTime=e,this.remaining.update(this.duration,e),this.timeLine.time=e}},{key:"hide",value:function(){(0,F.Cp)(this.container)}},{key:"show",value:function(){(0,F.$Z)(this.container)}},{key:"errorMode",value:function(){var e,t;(0,F.Cp)(null===(e=this.share)||void 0===e?void 0:e.button),(0,F.Cp)(null===(t=this.sound)||void 0===t?void 0:t.button),this.show()}},{key:"usualMode",value:function(){var e,t;(0,F.$Z)(null===(e=this.share)||void 0===e?void 0:e.button),(0,F.$Z)(null===(t=this.sound)||void 0===t?void 0:t.button)}},{key:"destroy",value:function(){var e,t;null!==(e=this.pip)&&void 0!==e&&e.destroy(),delete this.pip,null!==(t=this.fold)&&void 0!==t&&t.destroy(),this.timeLine.destroy(),this.fullscreen.removeHandlers()}}],[{key:"makePanel",value:function(e,t){var n,r=(0,F.vz)("div",{class:[Me.controls,(n={},(0,Z.Z)(n,Me.tv,H.xw),(0,Z.Z)(n,Me.mobileOverlay,H.tq),(0,Z.Z)(n,Me.innerIndent,e.ControlsPanel.innerIndent),(0,Z.Z)(n,Me.gradient,e.ControlsPanel.gradient),n)]},t);return e.mount(e.ControlsPanel,r),this.makeBlocks(e),r}},{key:"makeBlocks",value:function(n){function e(e,t){return n.mount(n[e],(0,F.vz)("div",{class:t}))}var t;e("Top",Me.top),e("TopLeft",Me["top-left"]),e("TopRight",Me["top-right"]),e("NearCenter",Me.nearCenter),e("CenterRight",Me["center-right"]),e("BottomControls",Me.bottom),e("BottomInner",[Me["bottom-inner"],(0,Z.Z)({},Me.bottomUp,null===(t=n.BottomInner)||void 0===t?void 0:t.up)]),e("BottomLeft",[Me["bottom-left"],(0,Z.Z)({},Me.lower,n.BottomLeft.lower)]),e("BottomRight",[Me["bottom-right"],(0,Z.Z)({},Me.lower,n.BottomRight.lower)])}}]),B}(),hr=n(28916),pr=n(56358),vr=n.n(pr),mr={injectType:"singletonStyleTag",insert:"head",singleton:!0},yr=(a()(vr(),mr),vr().locals||{});var gr=n(36310),br=n.n(gr),_r={injectType:"singletonStyleTag",insert:"head",singleton:!0},wr=(a()(br(),_r),br().locals||{});var kr=n(94466);function Ar(e){for(var t in e){var n=e[t];(n||!1===n)&&0!=n.length&&"{}"!=JSON.stringify(n)||delete e[t]}}var xr=n(4970),Er=n.n(xr),Or={injectType:"singletonStyleTag",insert:"head",singleton:!0},Sr=(a()(Er(),Or),Er().locals||{});function Tr(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Pr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tr(Object(n),!0).forEach(function(e){(0,Z.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Cr=function(){function i(e,t){var n=this;(0,D.Z)(this,i),this._data={},this.url=t,this.ui=e;var r=this.ui.layout.BugReport.outlined;this.el=(0,F.vz)("div",{class:[tt.menu,tt.bug,tt.center,I.Z.hidden],onClick:function(e){e.target==n.el&&n.hide()}},(0,F.vz)("div",{class:tt.inner},(0,F.vz)("div",{class:tt.header},(0,F.vz)("span",{class:tt.text},q.fL.report),un(function(){return n.hide()},tt.close)),(0,F.vz)("div",{class:tt.body},(0,F.vz)("form",{onSubmit:function(e){return n.send(e)},noValidate:!0},(0,F.vz)("div",{class:Sr.control},(0,F.vz)("div",{class:[Sr.control,(0,Z.Z)({},Sr.outlined,r)]},(0,F.vz)("input",{type:"email",required:!0,class:Sr.input,onInput:Rr,ref:function(e){return n.email=e}}),(0,F.vz)(jr,{outlined:r},q.fL.email)),(0,F.vz)("p",{class:Sr.errorText,ref:function(e){return n.error=e}})),(0,F.vz)("div",{class:[Sr.control,(0,Z.Z)({},Sr.outlined,r)]},(0,F.vz)("textarea",{rows:3,class:Sr.input,onInput:Rr,ref:function(e){return n.message=e}}),(0,F.vz)(jr,{outlined:r},q.fL.describeProblem)),(0,F.vz)("div",{class:Sr.control},(0,F.vz)("button",{class:[Oe.button,Oe.block,Oe.primary],type:"submit"},q.fL.submit)))))),this.ui.layout.mount(this.ui.layout.BugReport,this.el)}return(0,f.Z)(i,[{key:"data",get:function(){var e=(0,K.WX)();return Pr({v:"".concat(Y.i8,"  sid: ").concat(W.nP),top:e===location.href?void 0:e,url:location.href,os:navigator.platform,ua:H.ua,support:(0,T.hO)()},this._data)}},{key:"show",value:function(){var e;null!==(e=this.beforeShow)&&void 0!==e&&e.call(this),(0,F.$Z)(this.el),this.email.focus()}},{key:"hide",value:function(){return(0,F.WM)(this.el,!0)}},{key:"showAndFill",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=n.season,i=n.episode;this.show(),this.fillFrom(e,r,i)}},{key:"send",value:function(e){var t=this;e.preventDefault();var n=this.email;if(n.checkValidity&&!n.checkValidity())return this.error.textContent=n.validationMessage.split(".")[0],n.parentElement.classList.add(Sr.error),void n.focus();var r=new FormData;r.append("email",n.value),r.append("message",this.message.value),r.append("data",JSON.stringify(this.data)),fetch(this.url,{mode:"no-cors",method:"POST",body:r}).then(function(){t.ui.notify(q.fL.sent),t.message.value="",t.message.parentElement.classList.remove(Sr.filled)}),this.hide()}},{key:"fillFrom",value:function(e,t,n){var r,i,o,a,s=e.videoElement,u=s.src,c=s.error;c&&(this._data.mediaErr="".concat(c.code,": ").concat(c.message)),this._data.sourceErr=e.ui.badNews.errors;var l=null===(r=e.source.hls)||void 0===r?void 0:r.bandwidthEstimate,f=l?" bwe ".concat(Lr(l/8/1e3)," kB/s"):"";Object.assign(this._data,{src:"".concat(e.source.type," ").concat(null===(i=e.cp)||void 0===i?void 0:i.settings.currentQuality),time:(0,T.S_)(e.videoElement),episode:null==n?void 0:"".concat(t,":").concat(n),waiting:e.waitings_+" preBuf: ".concat(Lr(e.preBuffer)).concat(f," ").concat(H.Ek),geo:null===(o=Y.ZP.p2p.geo)||void 0===o?void 0:o.join(),droppedFrames:(0,kr.fT)(e.videoElement),theme:e.theme.name}),Q.dr||(this._data.src+=" "+u);var d=null===(a=e.source.p2p)||void 0===a?void 0:a.fetcher;d&&Object.assign(this._data,{cons:"".concat(d.connections,", fail ").concat(d.failConnections," / ").concat(d.totalConnections),loaded:Pr({},d.totalDownloaded),ratio:d.p2pRatio}),Ar(this._data.loaded),Ar(this._data)}}]),i}(),Lr=function(e){return e?e.toFixed(2):0},jr=function(e){var t=e.outlined,n=e.children;return[(0,F.vz)("div",{class:Sr.label},n),t&&(0,F.vz)("fieldset",{"aria-hidden":"true",class:Sr.notchedOutline},(0,F.vz)("legend",{class:Sr.notchedOutlineLegend},(0,F.vz)("span",null,n)))]};function Rr(e){var t=e.target,n=t.value,r=t.parentNode;r.classList.remove(Sr.error),n?r.classList.add(Sr.filled):r.classList.remove(Sr.filled)}var Ir=function(){function i(e,t,n){var r=this;(0,D.Z)(this,i),this._finalizer=new g,this.errorsBeforeBadNews=[],this.modals=new ne,this.wrapper=e,this.player=t,this.layout=new re.A(e,n.layout),this._finalizer.free=function(){return r.layout.destroy()},this.layout.onError=function(e){return r.notify(e)},this.makeLoading(),H.tq||(e.onmousemove=function(){return r.temporaryShow()}),this.playing$=X(!t.videoElement.paused),this._subscribeToPlaying()}return(0,f.Z)(i,[{key:"hidden",get:function(){return this.playing$.value&&!this.wrapper.classList.contains("user-active")}},{key:"destroy",value:function(){this._finalizer.free(),clearTimeout(this._activeTimer)}},{key:"_subscribeToPlaying",value:function(){var t=this;this.player.on("playing",function(){return t.playing$.value=!0}),this.player.on("pause",function(){t.skipPauseEvent?t.skipPauseEvent=!1:t.playing$.value=!1}),this.playing$.subscribe(function(e){return t.wrapper.classList[e?"remove":"add"]("player-paused")})}},{key:"build2",value:function(e,t,n,r,i){var o,a,s,u,c,l,f,d=this,h=this.layout;this.bigVisible$=X(!0),o=h,a=function(){return d.player.playPause("button click")},s=this.bigVisible$,u=this.playing$,o.PlayBig&&o.mount(o.PlayBig,(0,F.vz)(F.If,{rx:s},(0,F.vz)("div",{class:je.playWrapper},(0,F.vz)("div",{class:(c={},(0,Z.Z)(c,Me.up,o.PlayBig.up),(0,Z.Z)(c,Me["center-left"],o.PlayBig.left),(0,Z.Z)(c,Me.center,o.PlayBig.center),c)},(0,F.vz)("button",{onClick:a,class:[Oe.button,Oe.iconMD,(l={},(0,Z.Z)(l,Oe.bgFillCircle,o.PlayBig.bg),(0,Z.Z)(l,Oe.iconStart,o.PlayBig.left),l)]},u.map(function(e){return(0,F.dy)(e?U.qv.pauseBig:U.qv.playBig)}),(0,F.vz)(_e,{position:"right",pre:!0},u.map(function(e){return e?q.fL.pause:q.fL.play}))))))),this.makeAutoNext(e),H.tq&&(this.tapAnimation=new ut(h)),this.loading.hide(),!H.xw&&h.ActionNotifier&&(this.actionNotifier=new vt(h)),h.PlayBig.center&&null!==(f=this.actionNotifier)&&void 0!==f&&f.visible$.subscribe(function(e){return d.bigVisible$.value=!e}),this.badNews=new z(h,t),this.errorsBeforeBadNews.forEach(function(e){return d.badNews.add("[".concat(e.code,"] ").concat(e.message))}),this.errorsBeforeBadNews.length&&this.badNews.show(),H.xw?this.makeRadialMenu(n,r):h.ContextMenu&&this.makeContextMenu(i)}},{key:"error",value:function(e){e&&(this.badNews?this.badNews.add("[".concat(e.code,"] ").concat(e.message)).show():this.errorsBeforeBadNews.push(e))}},{key:"notify",value:function(e){var t,n,r,i,o,a;null!==(t=this._clearPrevNote)&&void 0!==t&&t.call(this),this._clearPrevNote=(n=this.wrapper,r=e,i=n.appendChild((0,F.vz)("div",{class:wr.alert},r)),o=setTimeout(function(){return i.classList.add(wr.fadeOutTop)},3e3),a=setTimeout(function(){return(0,F.Od)(i)},3500),function(){clearTimeout(o),clearTimeout(a),i.parentElement&&(0,F.Od)(i)})}},{key:"showAction",value:function(e,t){var n,r,i;null!==(n=this.actionNotifier)&&void 0!==n&&n.show(e,t),"timeSub"==e&&null!==(r=this.tapAnimation)&&void 0!==r&&r.play("left"),"timeAdd"==e&&null!==(i=this.tapAnimation)&&void 0!==i&&i.play("right")}},{key:"temporaryShow",value:function(){var t=this;H.xw&&Date.now()-this._lastActivityEnd<500||(this.wrapper.classList.add("user-active"),clearTimeout(this._activeTimer),this._activeTimer=setTimeout(function(){var e;return H.tq&&t.modals.visible?t.temporaryShow():(t._lastActivityEnd=Date.now(),t.wrapper.classList.remove("user-active"),void(null!==(e=t.radialMenu)&&void 0!==e&&e.hide()))},Y.ZP.delayControlsTimeout))}},{key:"makeLoading",value:function(){var e=this,t=new fe(this.layout);this.player.on("waiting",function(){e.wrapper.classList.add("loading"),t.show()});function n(){e.wrapper.classList.remove("loading"),t.hide()}this.player.on("playing",n),this.player.on("canplay",n),this.player.on("seeked",n),this.loading=t}},{key:"makeBugReport",value:function(e){e&&(this.bugReport=new Cr(this,e),this.modals.add(this.bugReport))}},{key:"makeContextMenu",value:function(e){var t=this;this.contextMenu=new rt(this.layout,this.player.communication,e),this.wrapper.addEventListener("contextmenu",function(e){return t.contextMenu.show(e)}),this.modals.add(this.contextMenu,!0)}},{key:"makeAutoNext",value:function(e){var f=this,t=0<arguments.length&&void 0!==e?e:{},n=t.autoNext,r=void 0===n||n,d=t.next,h=t.changeEpisode;r&&d&&!H.tq&&this.player.once("endedSoon",function(){var e,t,n,r,i,o,a,s=f.player,u=s.remaining$,c=s.source;function l(){o||(o=!0,e.removeChild(a),i.onclick=null)}f._finalizer.free=(e=f.wrapper,t=h,n=d,r=u,a=(o=!1,F.vz)("div",{class:yr.wrap},(0,F.vz)("div",{class:yr.inner,onClick:function(e){e.stopPropagation(),l(),"BUTTON"!=e.target.tagName&&t(n)},ref:function(e){return i=e}},(0,F.vz)("span",{class:yr.content},(0,F.vz)("span",{class:yr.title,title:n.title},n.title),(0,F.vz)("span",{class:yr.footnote},q.fL.nextIn,(0,F.vz)("span",{class:yr.count}," ",r," ",q.fL.seconds))),(0,F.vz)("span",{class:yr.icon},U.qv.nextBig,(0,F.vz)("button",{class:yr.cancel},q.fL.cancel)))),e.appendChild(a),r.subscribe(function(e){!o&&e<1&&(l(),t(n))}),l),c.on(c.events.fixEND,function(){return u.value=0})})}},{key:"makeRadialMenu",value:function(e,t){function n(e){r.player.shift(e),(0,W.ot)({cat:"tmp",hit:"shift"})}var r=this,i=0<arguments.length&&void 0!==e?e:{},o=1<arguments.length&&void 0!==t&&t;n.time=Y.ZP.rewind[1],this.radialMenu=new Ge(this.layout,i,function(){return r.player.playPause("radial")},this.playing$,n,function(e){return r.player.videoElement.playbackRate=e},this.player.communication.requestReport,o),this.modals.add(this.radialMenu,!0);function a(){return r.radialMenu.updateRate(r.player.videoElement.playbackRate)}this.player.on("ratechange",a),a()}}],[{key:"makeBlockedPanel",value:function(e,t,n){var r=new re.A(e,t.layout);return function(e,t){var n=1<arguments.length&&void 0!==t?t:{};(0,F.Ce)(e.wrapper,(0,F.vz)("div",{class:R.error},(0,F.vz)("div",{class:R.inner},(0,F.vz)("div",{class:R.icon},hr),(0,F.vz)("div",{class:R.content},q.fL.blocked)))),n.seasons&&null!=n.current.episode&&(dr.makePanel(e),On(e,n))}(r,n),function(){return r.destroy()}}}]),i}(),zr=n(62214);function Mr(r){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=(0,d.Z)(r);return t=i?(e=(0,d.Z)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,c.Z)(this,t)}}function Br(e,t,n){function o(t){return function(e){e.preventDefault(),n(t)}}(0,D.Z)(this,Br);var r=(0,F.vz)("div",{className:ve()(qr.recommendations,(0,Z.Z)({},qr.tv,H.xw))},(0,F.vz)("div",{className:qr.inner},t.map(function(e){var t=e.id,n=e.name,r=e.poster,i=e.genre;return(0,F.vz)("div",{className:qr.item},(0,F.vz)("a",{href:"#",className:qr.thumbnail,onClick:o(t)},(0,F.vz)("div",{className:qr.thumb,style:{backgroundImage:"url(".concat(r,")")}})),(0,F.vz)("a",{href:"#",className:qr.title,onClick:o(t)},n),(0,F.vz)("div",{className:qr.genre},i.map(function(e){return e.name}).slice(0,2).join(", ")))})),un(function(){return(0,F.Cp)(r)}));e.appendChild(r)}var Zr,Dr,Nr=function(e){(0,l.Z)(u,e);var s=Mr(u);function u(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Y.ZP.triggerProgress,i=3<arguments.length?arguments[3]:void 0,o=4<arguments.length&&void 0!==arguments[4]&&arguments[4];(0,D.Z)(this,u),(n=s.call(this,"pt")).doNotSaveProgress=i,n.id=e,n.key="vp.".concat(n.id);var a=+K.or.get(Y.ZP.timeSearchParamName);return n.last=!o&&a||t||te.Z.getParsed(n.key,0),n.lastEmit=n.lastSaved=n.lastSeek=n.last,n.interval=r,n}return(0,f.Z)(u,[{key:"getCurrentTime",value:function(){return this.last}},{key:"update",value:function(e,t){function n(e){return(0,mt.Hg)(i,e)}var r,i=Math.floor(e),o=n(this.last);o&&(this.last=i,4<o?this.lastSeek=i:(te.Z.totalTime+=o,n(this.lastSeek)<60||(!this.doNotSaveProgress&&n(this.lastSaved)>Y.ZP.saveProgress&&(te.Z.set(this.key,i),this.lastSaved=i),n(this.lastEmit)>this.interval&&(this.lastEmit=i,this.emit("progress"),r=e/t*100,this.emit("relativeProgress",(0,He.zC)(r,25)),this.emit("relativeProgress",(0,He.zC)(r,33))))))}},{key:"clear",value:function(){this.doNotSaveProgress||(te.Z.remove(this.key),this.doNotSaveProgress=!0)}}]),u}(zr.Qz),Fr=n(8053),Hr=n.n(Fr),Ur={injectType:"singletonStyleTag",insert:"head",singleton:!0},qr=(a()(Hr(),Ur),Hr().locals||{}),Vr=n(93867),Wr=function(e){Zr=e.touches[0].clientY,Dr=Date.now()},Gr=function(e){return H.IN&&(e.touches.length||Zr!=e.changedTouches[0].clientY||Date.now()>Dr+Y.ZP.longPressTime)};function Yr(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Qr(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Xr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qr(Object(n),!0).forEach(function(e){(0,Z.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Jr(r){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=(0,d.Z)(r);return t=i?(e=(0,d.Z)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,c.Z)(this,t)}}var Kr=function(e){(0,l.Z)(o,e);var i=Jr(o);function o(t){var n;(0,D.Z)(this,o),(n=i.call(this,"pl"))._finalizer=new g;var r=new M(t.container,t.aspectRatio,t.minWidth,t.mini);return n._finalizer.free=function(){return r.destroy()},n.wrapper=r.el,(0,q.eP)(t.text,t.translations),("string"==typeof(n.config=t).playlist?fetch(t.playlist).then(function(e){return e.json()}):Promise.resolve(t.playlist)).then(function(e){return e&&(t.playlist=e,(0,Y.ro)(t,e),e.changeEpisode=function(e){return n.changeEpisode(e)}),Y.ZP.copyFrom(t),(0,Gn.l7)(Xr(Xr({},t.qualityByWidth),t.qbw)),H.xw&&(n.preventClick=!0),G.Z.preInit(Y.ZP.p2p),(0,T.bI)(t),n.wrapper.classList.remove(v.init),(0,U.jz)(t.theme)}).then(function(e){return n.theme=e,n.cssVars=t.cssVars,n._uiReady=!0,t.blocked?void(n._finalizer.free=Ir.makeBlockedPanel(n.wrapper,e,t.playlist)):n.init(t,t.playlist)}).catch(function(e){console.log(e.stack),n.stats("error",{cat:"init",label:e.name||e.code||e}),r.showInitError(e,n._uiReady)}),n}return(0,f.Z)(o,[{key:"cssVars",set:function(e){(0,F.gR)(e,this.wrapper)}},{key:"volume",set:function(e){this.videoElement.muted&&(this.videoElement.muted=!1,this._lastMuted=!1),this._lastVolume=(0,He.e$)(0,1,e),this.videoElement.volume=this._lastVolume}},{key:"time",set:function(e){var t=e<0?0:e,n=this.videoElement;n.src&&(n.currentTime=t,n.currentTime!=t&&this.once("timeupdate",function(){return n.currentTime=t})),n.paused&&this.cp&&this.cp.setCurrentTime(t)}},{key:"duration",get:function(){return this.source.isLiveDash?this.videoElement.currentTime+30:this.videoElement.duration}},{key:"buffered",get:function(){for(var e=this.videoElement.buffered,t=this.duration,n=[],r=0;r<e.length;r++)n.push([e.start(r)/t*100,100-e.end(r)/t*100]);return n}},{key:"preBuffer",get:function(){for(var e=this.videoElement,t=e.currentTime,n=e.buffered,r=0;r<n.length;r++){var i=n.end(r);if(n.start(r)<=t&&t<=i)return i-t}return 0}},{key:"init",value:function(i,o){try{var e,a,s=this,u=i.source,c=i.title,t=i.id,l=i.live;s.makeVideoElement(i.volume,l,i.poster,i.defaultPoster),s.ui=new Ir(s.wrapper,s,s.theme),s._finalizer.free=function(){return s.ui.destroy()},s.trackPlayed(),s.trackWaiting(),l||(a=s.makeProgressTracker(t||c,i.time,i.trackProgress,i.doNotSaveProgress,i.ignoreUrlTime)),i._fallFromDash&&(delete i._fallFromDash,delete u.dash);var n=s.initSource(u,a,i.quality,t);return null!==(e=i.soundBlock)&&void 0!==e&&e.split(",").forEach(function(e){return s.source.blockAudio(e)}),s.source.live=l,Yr(n,function(e){var t;s.ui.makeBugReport(i.reportUrl),s.communication=new ee(s.ui,function(){return s.source.time}),s.ui.bugReport&&(s.communication.requestReport=function(){var e;s.ui.bugReport.showAndFill(s,null===(e=i.playlist)||void 0===e?void 0:e.current)}),s.makeControls(e,c,l,o,i),s.videoElement.playbackRate=te.Z.speed;var n=s.cp,r=s.source.audioList;r&&s.makeSoundtracks(r,n.settings),Array.isArray(u.cc)&&s.addSubtitles(u.cc,n.settings),a&&!s.source.hls&&(s.source.on(Q.Hw.events.QUALITY,function(){return s.time=a}),s.time=a),setTimeout(function(){return n.setCurrentTime(a)}),s.once("canplay",function(){return s.bindNativeAudioToControls()}),H.xw||H.tq||s.listen(document,"keydown",function(e){return s.keysListener(e)}),s.ui.build2(i.playlist,n,e,l,null===(t=i.ui)||void 0===t?void 0:t.about),s.autoReplay(i.replay),(0,W.S8)(i.stats),s.initStats(),setTimeout(function(){return s.emit("ready")})})}catch(e){return Promise.reject(e)}}},{key:"listen",value:function(e,t,n){e.addEventListener(t,n),this._finalizer.free=function(){e.removeEventListener(t,n)}}},{key:"destroy",value:function(){var e;clearTimeout(this.pingTimer),this.removeAllListeners(),this._finalizer.free(),clearTimeout(this._deferredErrorTimer),null!==(e=this.theme)&&void 0!==e&&e.styles.unuse()}},{key:"initSource",value:function(e,t,n,r){var i=this,o=e.dash,a=e.hls,s=e.file,u=e.audio;if(!o&&!a&&!s)throw'no source provided (option "source")';var c=te.Z.get("player.quality")||n||0;return this.source=new Q.Hw(this.videoElement,{dash:o,hls:a,file:s,time:t,quality:c},null==u?void 0:u.names,null==u?void 0:u.order,function(){var e;return null===(e=i.cp)||void 0===e?void 0:e.settings.currentQuality},r),this._finalizer.free=function(){var e;return null===(e=i.source)||void 0===e?void 0:e.destroy(!0)},this.source.trackStats(),this.source.initHlsMap=this.initHlsMap.bind(this),this.deferSourceInit?Promise.resolve():this.source.init()}},{key:"initHlsMap",value:function(i,e,t){try{var o=this,n=(0,Gn.tx)(i,e),r=n.src,a=n.list,s=n.active;return o._tryIfSrcNotSupported=i.manifestUrl,Yr(o.source.initHls(r,t,i.manifestUrl),function(){o.source.ignoreLevels=!0;var n,e=(n=function(e){var t=o.videoElement,n=t.paused;o.source.emit(Q.Hw.events.QUALITY_CHANGING),n&&!Y.ZP.hls.autoStartLoad||o.ui.loading.show();var r=t.currentTime||o.source.time;return o.source.destroy(),o._tryIfSrcNotSupported=i.manifestUrl,Yr(o.source.initHls(i[e],r,i.manifestUrl),function(){o.source.hls?Y.ZP.hls.autoStartLoad||(o.once("timeupdate",function(){return setTimeout(function(){return o.cp.setCurrentTime(r)})}),n||t.play()):t.play(),o.once("canplay",function(){r&&(o.time=r),n||t.play(),o.cp.settings.markSpeed(t.playbackRate)}),o.updateQuality(e)})},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(e){return Promise.reject(e)}});return{list:a,active:s,change:e}})}catch(e){return Promise.reject(e)}}},{key:"makeVideoElement",value:function(e,t,n,r){var i=this,o=0<arguments.length&&void 0!==e?e:1,a=1<arguments.length&&void 0!==t&&t,s=2<arguments.length?n:void 0,u=3<arguments.length?r:void 0,c=te.Z.getParsed("player.volume",o);this._lastMuted=te.Z.getParsed("player.muted",!1),this._lastVolume=(0,He.e$)(0,1,c);var l=(0,F.vz)("video",{controls:!1,autoplay:!1,playsinline:!0,crossOrigin:!0,muted:this._lastMuted,volume:this._lastVolume});Y.ZP.preventExternalSilencing&&this.on("volumechange",function(){l.volume<i._lastVolume&&(i.volume=i._lastVolume),l.muted&&!i._lastMuted&&i.toggleMute()}),H.tq?this.listenClicksOnMobile(l):l.onclick=function(e){return i.handleClick(e)},B.forEach(function(t){i.listen(l,t,function(e){i.emit(t,e)})}),this.on("error",function(){i.handleError()}),this.remaining$=X(),this._finalizer.free=function(){i.remaining$.dispose()},a||this.on("timeupdate",function(){l.duration&&!l.paused&&(i.remaining$.value=Math.floor(l.duration-l.currentTime),i.remaining$.value<Y.ZP.endedSoon&&i.emit("endedSoon"))}),this.wrapper.appendChild((0,F.vz)("div",{class:v.video},l)),this.videoElement=l,(0,kr.WG)(this.videoElement,s,u)}},{key:"handleError",value:function(){var e,t,n=this.videoElement,r=n.error,i=n.src;if(4==(null==r?void 0:r.code)&&this._tryIfSrcNotSupported&&i.startsWith("data:"))return this.videoElement.src=this._tryIfSrcNotSupported,void(this._tryIfSrcNotSupported=null);this.ui.error(r),!this.cp||(t=this.cp.settings.lowerQualityOnTV())&&null!==(e=this.ui.radialMenu)&&void 0!==e&&e.updateQuality(t),this.recover()}},{key:"handleClick",value:function(e){var t;this.ui.modals.hide()||(null!==(t=this.ui.radialMenu)&&void 0!==t&&t.hidden&&!this.preventClick?this.ui.radialMenu.show(e):(this.playPause("area click"),this.preventClick=!1))}},{key:"listenClicksOnMobile",value:function(o){var a,s,u=this;H.IN&&(o.ontouchstart=function(e){return Wr(e)}),o[H.IN?"ontouchend":"onclick"]=function(e){var t,n,r,i;Gr(e)||(H.IN&&e.preventDefault(),u.ui.modals.hide()||(t=Date.now()-a<300,a=Date.now(),t?u.source.isLiveDash||(clearTimeout(s),n=(H.IN?e.changedTouches[0]:e).clientX,r=(0,N.Z)(Y.ZP.rewind,1)[0],u.shift(n<o.offsetWidth/2?-r:r)):(i=u.ui.hidden?function(){return u.ui.temporaryShow()}:function(){return u.playPause("area click")},s=setTimeout(i,300))))}}},{key:"trackWaiting",value:function(){var t=this;this.waitings_=0;var n=!1;this.on("seeking",function(){return n=!0}),this.on("seeked",function(){return n=!1}),this.on("waiting",function(){var e;n||t.stats("waiting",{type:null===(e=t.source)||void 0===e?void 0:e.type,value:++t.waitings_})})}},{key:"makeControls",value:function(e,t,n,r,i){var o=this,a=i.speed,s=i.sections,u=i.download,c=i.ui,l=this.videoElement,f=this.cp=new dr(this.ui.layout,function(){return o.playPause("button click")},this.emit.bind(this),function(){return o.toggleMute()},function(e){return o.volume=e},function(e){return o.volume=l.volume+e},function(e,t){return o.seek(e,t)},{list:Array.isArray(a)?a:Y.ZP.speed,change:function(e){return l.playbackRate=e}},this.ui.playing$,this.communication,n&&function(){return o.toLive()},r,e,t,l,s,u,c);this.bindToControls(f),this.bindSourceToUi(f.settings,f.timeLine),this.source.p2p&&(this.source.p2p.uiSlot=f.container),[f.settings,f.share,f.playlist,f.message,f.aboutMenu,f.fold].forEach(function(e){return o.ui.modals.add(e)}),this._finalizer.free=function(){return f.destroy()}}},{key:"bindToControls",value:function(r){var i=this,o=this.videoElement;this.on("timeupdate",function(){r.setCurrentTime(o.currentTime);var e=i.source,t=e.isLiveDash,n=e.hls;t?r.setDuration(i.duration):n&&r.updateLive(i.videoElement.currentTime>n.liveSyncPosition-30)}).on("durationchange",function(){r.setDuration(i.duration),i.duration||o.addEventListener("timeupdate",function e(){o.duration&&(r.setDuration(o.duration),o.removeEventListener("timeupdate",e))})}),this.on("progress",function(){return r.buffered.update(i.buffered)}).on("ratechange",function(){return r.settings.markSpeed(o.playbackRate)}).on("volumechange",function(){return r.sound.update(o.muted,o.volume)}),r.pip&&this.once("loadedmetadata",function(){return r.pip.videoReady()}),r.sound.update(o.muted,o.volume),H.tq||(o.ondblclick=function(){return r.fullscreen.toggle()}),H.xw||this.source.isLiveDash||this.addMobileFriendlyProgress(r)}},{key:"bindSourceToUi",value:function(r,e){var i,o=this,a=this.source;!1===Y.ZP.ui.timeline?e.hide():a.hls&&(e.hide(),this.once("loadedmetadata",function(){return e.show()})),a.on(Q.Hw.events.ERROR,function(e){var t,n;o.ui.loading.hide(),o.ui.badNews.add("".concat(e.by," [").concat(e.code,"] ").concat(e.message)),o._fallback(e)||(i||(o.deferSourceErrorUntilVideoBreak(),i=!0),(n=r.lowerQualityOnTV())&&null!==(t=o.ui.radialMenu)&&void 0!==t&&t.updateQuality(n),a.once(Q.Hw.events.FRAG_LOADED,function(e){"video"!==e.type&&"main"!==e.type||o.ui.badNews.hide()}))}).on(Q.Hw.events.AUDIO_LIST,function(e){return o.makeSoundtracks(e,r)}).on(Q.Hw.events.AUDIO_SWITCH,function(e){return r.markSound(e)}).on(Q.Hw.events.QUALITY,function(e){r.makeQuality(e),r.button.setIcon(e.active)}).on(Q.Hw.events.QUALITY_LIST,function(e){var t=te.Z.get("player.quality")||o.config.quality,n=(0,Gn.YB)(t,e);r.makeQuality({list:e,active:n,change:function(t){a.level=e.findIndex(function(e){return e==t}),o.ui.loading.show(),o.ui.skipPauseEvent=!0}}),o.updateQuality(n),a.level=e.findIndex(function(e){return e===n})}).on(Q.Hw.events.QUALITY_CHANGING,function(){return o.ui.badNews.hide()}).on(Q.Hw.events.LEVEL_SWITCH,function(e){r.markQuality(e),o.ui.loading.hide(),o.ui.badNews.hide(),i=!1,clearTimeout(o._deferredErrorTimer)})}},{key:"_fallback",value:function(e){if("dash"===e.by&&e.message.includes("PIPELINE_ERROR_DECODE")){var t=this.config.source,n=t.hls,r=t.file;if(!n&&!r)return!1;var i=this.videoElement,o=i.paused,a=i.currentTime,s=this.renew(Xr(Xr({},this.config),{},{time:a,_fallFromDash:!0}));return o||s.play(),!0}}},{key:"deferSourceErrorUntilVideoBreak",value:function(){function t(){var e=n.videoElement.currentTime;n._deferredErrorTimer=setTimeout(function(){e==n.videoElement.currentTime?n.ui.badNews.show():n.ui.badNews.hide(),t()},1e3)}var n=this;this.on("pause",function(){return clearTimeout(n._deferredErrorTimer)}),this.on("play",t),this.videoElement.paused||t()}},{key:"makeSoundtracks",value:function(e,t){var n=this.source,r=e.find(Vr.W);if(r)return n.defaultAudio=e.findIndex(Vr.W),t.makeSoundtrack([r],function(e){return e});n.defaultAudio=te.Z.getDefaultTrackIndex(e),t.makeSoundtrack(e,function(e){return n.audio=e},n.defaultAudio)}},{key:"bindNativeAudioToControls",value:function(){var e,t,n,r,i=this.videoElement.audioTracks,o=this.source;null!=i&&i.length&&!o.hls&&(o.transformAudioList(Array.from(i,function(e){return e.label})),(e=o.audioList).filter(Boolean).length&&(t=o.audioIndexToOriginal(te.Z.getDefaultTrackIndex(e)),n=function(e){return i[o.audioIndexToOriginal(e)].enabled=!0},(r=e.find(Vr.W))?this.cp.settings.makeSoundtrack([r],function(e){return e}):this.cp.settings.makeSoundtrack(e,n,t),e.length&&n(t)))}},{key:"addSubtitles",value:function(e,t){var n=this;e.forEach(function(e){return n.videoElement.appendChild((0,F.vz)("track",{label:e.name,src:e.url}))});var r,i,o,a=this.videoElement.textTracks;null!=a&&a.length&&(r=Array.from(a),i=function(t){r.forEach(function(e){return e.mode=e.label==t?"showing":"hidden"}),te.Z.set("player.cc",t)},t.makeCC(e.map(function(e){return e.name}),i),a.onchange=function(){var e=r.findIndex(function(e){return"showing"===e.mode});t.markCC(e),n.source.hls&&(n.source.hls.subtitleDisplay=-1<e)},(o=te.Z.get("player.cc"))&&i(o))}},{key:"updateQuality",value:function(e){var t,n,r;null!==(t=this.ui.radialMenu)&&void 0!==t&&t.updateQuality(e),null===(n=this.cp)||void 0===n||null!==(r=n.settings)&&void 0!==r&&r.updateQuality(e)}},{key:"play",value:function(){this.videoElement.play(),clearTimeout(this.pingTimer),H.xw&&k(this.wrapper.parentElement),this.ui.playing$.value=!0}},{key:"pause",value:function(){this.videoElement.pause(),this.stats("pause"),this.pausePing()}},{key:"playPause",value:function(e){this.videoElement.paused?(this.play(),this.emit("playBy",e)):this.pause(),this.ui.modals.hide(this.ui.radialMenu)}},{key:"pausePing",value:function(){var e=this;clearTimeout(this.pingTimer),this.pingTimer=setTimeout(function(){e.stats("pausePing"),e.pausePing()},Y.ZP.pausePing)}},{key:"toggleMute",value:function(){var e=this.videoElement,t=e.muted;0===e.volume&&(e.volume=.1,!t)||(e.muted=!t,this._lastMuted=!t)}},{key:"seek",value:function(e,t){if(t)return this.time=t;var n=this.videoElement;if("string"!=typeof e){if(!n.duration)return n.currentTime=0;var r=n.duration*e;isFinite(r)&&(this.time=(0,He.Nb)(r,Y.ZP.preview.interval,n.duration))}else{if((0,T.WD)(e))return;var i=(0,mt.Qc)(e);i&&(n.currentTime=i)}}},{key:"shift",value:function(e){this.source.isLiveDash||(this.time=this.videoElement.currentTime+e,e<0?this.ui.showAction("timeSub",-e):this.ui.showAction("timeAdd",e))}},{key:"toLive",value:function(){this.source.hls&&(this.videoElement.currentTime=this.source.hls.liveSyncPosition)}},{key:"keysListener",value:function(e){var t=e.target.nodeName;if("INPUT"!==t&&"TEXTAREA"!==t&&("BODY"===t||this.hasNode(e.target))){var n=this.ui,r=this.videoElement,i=e.shiftKey?Y.ZP.rewind[1]:Y.ZP.rewind[0];switch(e.code||e.key){case"ArrowUp":e.preventDefault(),this.volume=r.volume+.1,n.showAction("volumeUp");break;case"ArrowDown":e.preventDefault();var o=r.volume-.1;this.volume=o<.05?0:o,n.showAction(r.volume?"volumeDown":"volumeOff");break;case"ArrowRight":this.shift(i);break;case"ArrowLeft":this.shift(-i);break;case"KeyL":var a=this.source.audioList,s=void 0===a?[]:a;if(s.length<2||s.find(Vr.W))break;var u=this.source.nextAudio();n.showAction(s[u]);break;case"KeyM":this.toggleMute(),n.showAction(r.muted?"volumeOff":"volumeOn");break;case"KeyF":this.cp.fullscreen.toggle();break;case"Space":e.preventDefault(),this.playPause("key"),n.showAction(r.paused?"pause":"play")}}}},{key:"hasNode",value:function(e){for(var t=e;t.parentElement;){if(t===this.wrapper)return!0;t=t.parentElement}return!1}},{key:"makeProgressTracker",value:function(e,t,n,r,i){var o=this,a=new Nr(e,t,n,r,i);this.on("ended",function(){return a.clear()}),this.on("endedSoon",function(){return a.clear()});var s=this.videoElement;return this.on("timeupdate",function(){return a.update(s.currentTime,s.duration)}),a.on("progress",function(){return o.emit("viewProgress",s.currentTime,s.duration)}),a.on("relativeProgress",function(e){return o.emit("progress ".concat(e,"%"))}),a.getCurrentTime()}},{key:"trackPlayed",value:function(e){var i=this,o=0<arguments.length&&void 0!==e?e:25;this.on("timeupdate",function e(){var t=i.videoElement,n=t.played,r=t.duration;if(!n)return i.off("timeupdate",e);!r||(0,kr.hk)(n)/r*100<o||(i.emit("played ".concat(o,"%")),i.off("timeupdate",e))})}},{key:"addMobileFriendlyProgress",value:function(i){function o(){return Date.now()-f<400}var a,s,u,c,l,f,d=this,h=this.wrapper,p="ontouchstart"in h;h[p?"ontouchstart":"onmousedown"]=function(e){var t;p&&1<e.touches.length?a=!1:(s=a=!0,f=Date.now(),u=h.getBoundingClientRect(),t=p?e.changedTouches[0]:e,c=t.clientX-u.left,l=t.clientY-u.top)},this.listen(h,p?"touchmove":"mousemove",function(e){if(a){var t=p?e.changedTouches[0]:e,n=Math.abs(t.clientX-u.left-c),r=Math.abs(t.clientY-u.top-l);if(s){if(n<r)return void(a=!1);s=!1}e.preventDefault(),p&&d.ui.temporaryShow(),30<n&&!o()&&i.timeLine.showOverlay(),i.timeLine.updateOverlay((t.clientX-u.left)/h.clientWidth)}}),h[p?"ontouchend":"onmouseup"]=function(e){var t,n,r;a&&(a=!1,i.timeLine.hideOverlay(),t=u?u.left:0,n=(p?e.changedTouches[0]:e).clientX-t,H.IN&&n==c&&Date.now()>f+Y.ZP.longPressTime?d.ui.contextMenu.show(e):Math.abs(n-c)<30||(e.preventDefault(),o()||(r=n/h.clientWidth,d.seek(r),i.timeLine.update(r))))}}},{key:"changeEpisode",value:function(e){var t=!1!==this.config.playlist.autoPlay,n=Xr(Xr({},this.config),{},{time:.01,ignoreUrlTime:!0,autoplay:t}),r={id:e.id,season:e.season,episode:e.episode};Object.assign(n.playlist,{open:!1,current:r}),te.Z.saveLast(n.playlist,r),this.emit("playlistItem",e);var i=this.renew(n);t&&i.once("canplay",function(){return i.play()})}},{key:"recover",value:function(){var e=Date.now(),t=this.config.recovered,n=void 0===t?0:t;this.source.hls||this.source.dash||e-n<Y.ZP.recoverThrottle||this.renew(Xr(Xr({},this.config),{},{recovered:e,time:this.videoElement.currentTime}))}},{key:"renew",value:function(e){var t;this.destroy();var n=new this.constructor(e);return n.onRenew=this.onRenew,null!==(t=this.onRenew)&&void 0!==t&&t.call(this,n),n}},{key:"showRecommendations",value:function(e){var t,n=this;null!==(t=this.config.playlist)&&void 0!==t&&t.next||(new Br(this.wrapper,e,function(e){return n.emit("selectRecommendation",e)}),this._wasRecommended=!0)}},{key:"autoReplay",value:function(e){var t=this;e&&!this.cp.playlist&&this.on("ended",function(){t._wasRecommended||setTimeout(function(){return t.play()})})}},{key:"stats",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};(0,W.ot)(Xr({hit:e},n))}},{key:"initStats",value:function(){var t=this;this.stats("init",{type:this.source.type,label:this.source.p2p?"p2p":""});function n(){return{time:t.videoElement.currentTime}}this.once("play",function(){return t.stats("play",n())}),this.on("playing",function(){return t.stats("playing",n())}),this.on("playBy",function(e){return t.stats("playBy",Xr({sub:e},n()))});function r(e){return t.stats("error",{cat:"native",sub:e.code||e.name,label:e.message||"",time:t.videoElement.currentTime})}this.on("error",function(){var e=t.videoElement.error;e&&r(e)}),this.ui.errorsBeforeBadNews.forEach(r)}}]),o}(zr.Qz),$r=n(16134),ei=n.n($r),ti=n(51463),ni=n.n(ti),ri=function(){function e(){(0,D.Z)(this,e)}return(0,f.Z)(e,[{key:"destroy",value:function(){var e=this.el,t=this.container;e.parentNode===t&&t.removeChild(e)}}]),e}(),ii=n(10623),oi=n(56657),ai=n(27288),si=n.n(ai),ui={injectType:"singletonStyleTag",insert:"head",singleton:!0},ci=(a()(si(),ui),si().locals||{});function li(r){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=(0,d.Z)(r);return t=i?(e=(0,d.Z)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,c.Z)(this,t)}}var fi=function(e){return"".concat(q.fL.skipAd).concat(q.fL.after," ").concat(e," ").concat(q.fL.sec)},di=function(){(0,l.Z)(u,ri);var s=li(u);function u(e,t){var n,r=t.time,i=t.ready,o=t.skip;(0,D.Z)(this,u),(n=s.call(this)).container=e,n.remainingTime=r,n.tickPassed=0,n.ready=i,n.el=(0,F.vz)("div",{class:ci.skip},(0,F.vz)("div",{className:ci.progress},ii),(0,F.vz)("span",{ref:function(e){return n.remainingEl=e}},fi(r)));var a=n.el.getElementsByClassName("venom-player-slice")[0];return a&&(a.style.animationDuration="".concat(r,"s")),e.appendChild(n.el),n.button=(0,F.vz)("button",{className:ci.skip,onClick:o},(0,F.vz)("span",null,q.fL.skipAd),oi),n}return(0,f.Z)(u,[{key:"scheduleTick",value:function(){var t=this;this.tickStart=Date.now(),this.timer=setTimeout(function(){var e=--t.remainingTime;if(t.remainingEl.innerHTML=fi(e),e)return t.scheduleTick();t.ready(),(0,F.gx)(t.el,t.button),t.el=t.button},1e3-this.tickPassed),this.tickPassed=0,this.el.classList.remove(ci.paused)}},{key:"pause",value:function(){this.tickPassed=Date.now()-this.tickStart,clearTimeout(this.timer),this.el&&this.el.classList.add(ci.paused)}},{key:"destroy",value:function(){clearTimeout(this.timer),(0,i.Z)((0,d.Z)(u.prototype),"destroy",this).call(this)}}]),u}();function hi(r){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=(0,d.Z)(r);return t=i?(e=(0,d.Z)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,c.Z)(this,t)}}var pi=function(){(0,l.Z)(r,ri);var n=hi(r);function r(e){var t;return(0,D.Z)(this,r),(t=n.call(this)).container=e,t.el=(0,F.vz)("div",{style:{position:"absolute",height:"".concat(H.xw?8:4,"px"),bottom:0,backgroundColor:"yellow",transition:"width .1s linear"}}),e.appendChild(t.el),t}return(0,f.Z)(r,[{key:"update",value:function(e){this.el.style.width="".concat(100*e,"%")}}]),r}();function vi(r){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=(0,d.Z)(r);return t=i?(e=(0,d.Z)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,c.Z)(this,t)}}var mi=function(){(0,l.Z)(o,ri);var i=vi(o);function o(e,t,n){var r;return(0,D.Z)(this,o),(r=i.call(this)).container=e,r.imp=t,r.maxImp=n,r.el=(0,F.vz)("span",{class:ve()(ci.remaining,(0,Z.Z)({},ci.tv,H.xw))}),e.appendChild(r.el),r}return(0,f.Z)(o,[{key:"update",value:function(e){var t=1<e?Math.floor(e):"",n=this.maxImp?"/".concat(this.maxImp):"";this.el.textContent="".concat(q.fL.ad," ").concat(this.imp).concat(n," ").concat(t)}}]),o}();function yi(r){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=(0,d.Z)(r);return t=i?(e=(0,d.Z)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,c.Z)(this,t)}}function gi(){}var bi={position:"absolute",color:"#000000",cursor:"pointer",bottom:"18%",padding:"10px","font-size":"12px","background-color":"#ffffff","-webkit-box-shadow":"0 2px 8px 0 rgba(0, 0, 0, 0.4)","box-shadow":"0 2px 8px 0 rgba(0, 0, 0, 0.4)"},_i=function(){(0,l.Z)(a,ri);var o=yi(a);function a(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Y.h0.toLongSkip,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return(0,D.Z)(this,a),(n=o.call(this)).container=e,n.el=(0,F.vz)("button",{onClick:t,style:bi,class:I.Z.hidden},q.fL.skipAd),e.appendChild(n.el),n._wait=i*r*1e3,n.resume(),n}return(0,f.Z)(a,[{key:"resume",value:function(){var e=this;this._started=Date.now(),this.timer=setTimeout(function(){return e.el.classList.remove(I.Z.hidden)},this._wait)}},{key:"pause",value:function(){clearTimeout(this.timer),this._wait-=Date.now()-this._started}},{key:"destroy",value:function(){clearTimeout(this.timer),(0,i.Z)((0,d.Z)(a.prototype),"destroy",this).call(this)}}]),a}(),wi=function(e){return new re.A(e,(0,F.vz)(re.V.root,null,(0,F.vz)(re.V.Sound,{vertical:!0}),(0,F.vz)(re.V.FullScreen,null)))},ki=function(){function d(e,t,n,r,i){var o,a=this,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},u=6<arguments.length?arguments[6]:void 0,c=7<arguments.length?arguments[7]:void 0,l=8<arguments.length?arguments[8]:void 0;(0,D.Z)(this,d),this.container=e,this.toLongSkip=new _i(e,function(){return t.stopAd()},u,l),s.time?(this.skip=new di(e,s),t.on("AdPaused",function(){return a.skip.pause()}),o=function(){a.skip.scheduleTick(),a.toLongSkip.destroy()},t.on("AdPlaying",o),t.on("AdVideoStart",o)):(t.on("AdPaused",function(){return a.toLongSkip.pause()}),t.on("AdPlaying",function(){return a.toLongSkip.resume()})),this.progress=new pi(e),this.remaining=new mi(e,c,l),t.on("AdImpression",function(){return a.remaining.imp++}),this.right=(0,F.hi)(ve()(ci.right,(0,Z.Z)({},ci.tv,H.xw)));var f=wi(this.right);this.makeSound(t,n,f),A(r)&&(this.fullscreen=new Ft(f,r,i,Y.ZP.ui.fullscreen)),e.appendChild(this.right),this.interval=setInterval(function(){return a.update(t)},200)}return(0,f.Z)(d,[{key:"makeSound",value:function(t,e,n){var r=e,i=new jt(n,function(){0===t.adVolume?t.adVolume=0===r?1:r:(r=t.adVolume,t.adVolume=0)},function(e){return t.adVolume=e},function(e){return t.adVolume=(0,He.e$)(0,1,t.adVolume+e)},!1);i.update(!1,e),t.on("AdVolumeChange",function(){return i.update(!1,t.adVolume)})}},{key:"update",value:function(e){this.remaining.update(e.adRemainingTime);var t=-1<e.adRemainingTime&&0<e.adDuration?1-e.adRemainingTime/e.adDuration:0;this.progress.update(t)}},{key:"destroy",value:function(){var e,t;clearInterval(this.interval),null!==(e=this.skip)&&void 0!==e&&e.destroy(),this.toLongSkip.destroy(),this.progress.destroy(),this.remaining.destroy(),null!==(t=this.fullscreen)&&void 0!==t&&t.removeHandlers(),this.right.parentNode===this.container&&this.container.removeChild(this.right)}}]),d}(),Ai=Y.h0.debug?{log:console.log.bind(console,"[ad]"),warn:console.warn.bind(console,"[ad]")}:{log:gi,warn:gi},xi=n(75598),Ei=n.n(xi),Oi={injectType:"singletonStyleTag",insert:"head",singleton:!0},Si=(a()(Ei(),Oi),Ei().locals||{});function Ti(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Pi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ti(Object(n),!0).forEach(function(e){(0,Z.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ti(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ci(r){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=(0,d.Z)(r);return t=i?(e=(0,d.Z)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,c.Z)(this,t)}}var Li=function(){(0,l.Z)(o,Kr);var n=Ci(o);function o(r){var e,i;if((0,D.Z)(this,o),(i=n.call(this,r)).isPlayAllowed=!0,i.counters={impression:0,middleRoll:1,nonLinear:1},i._initBaseStats(null===(e=r.ads)||void 0===e?void 0:e.id),!r.ads||Y.h0.disable||H.xw&&!r.ads.tv)return i.once("ready",function(){return i._start(r.autoplay,"no-ads")}),(0,c.Z)(i);H.xw&&(i.deferSourceInit=!0),i.debugAdsMode=Y.h0.debug,i.ads=Pi({},r.ads),i.lastAd=0,parent.postMessage({event:"confirmAd"},"*");var t=new Promise(function(t){var e;if(null===(e=r.ads.confirmOn)||void 0===e||!e.includes(K.Kn))return t();i.debugAdsMode&&console.time("confirmAd");var n=setTimeout(t,i.ads.confirmTimeout||1e3);addEventListener("message",i.confirmAdListener=function(e){if("adFree"===e.data.event){if(i.debugAdsMode&&console.timeEnd("confirmAd"),!e.data.free)return t();clearTimeout(n),r.autoplay&&i.play()}})});return i.once("ready",function(){return t.then(function(){i._start(!1,"ok"),i._initAds(r.autoplay,r.live),r.autoplay&&i.play()})}),i}return(0,f.Z)(o,[{key:"suppressAdByPip",get:function(){var e,t;return null===(e=this.cp)||void 0===e||null===(t=e.pip)||void 0===t?void 0:t.inPicture}},{key:"_start",value:function(e,t){var n=this;e&&this.play();function r(){n._baseStats({action:"start",label:Y.i8}),(0,W.ot)({hit:"start",video_id:n.config.id,label:t}),n.emit("start")}this.videoElement.paused?this.onPlay=ni()(r):r()}},{key:"_initBaseStats",value:function(t){t&&(this._baseStats=function(e){return(0,W.co)(Pi(Pi({},e),{},{category:t}),["start","request","response","impression"])})}},{key:"_baseStats",value:function(e){var t;Math.random()<.01&&(t=Pi(Pi({},e),{},{category:"vp-no-id",label2:location.hostname}),(0,W.co)(t,["start"]))}},{key:"_adStats",value:function(e,t,n){this._baseStats({action:e}),(0,W.ot)(Pi({cat:"ad",hit:e,sub:t},n))}},{key:"_initAds",value:function(e,t){var n,r=this;if(Ai.log("init, v"+Y.i8),this.ads.labelCounters={},this.makeAdPanel(),this.configureForNativeFullScreen(),this.ads.seeds?(this.prepareRoll("seeds"),this.playAdChain(e)):this.initPre(e),this.ads.download&&null!==(n=this.cp)&&void 0!==n&&n.download&&(this.cp.download.onConfirmed=function(){return r.playDownloadRoll()}),!H.xw)if(this.initNonLinearAndMid(),t){if(H.xw||H.tq)return;var i=(this.ads.fly||{}).offset,o=void 0===i?Y.h0.flyOffset:i;this.scheduleFlyRoll(o)}else{this.on("durationchange",function e(){r.videoElement.duration&&(r.makePostRoll(),r.removeListener("durationchange",e))})}}},{key:"configureForNativeFullScreen",value:function(){var e,t,n,r,i=this;A(this.wrapper)||((t=this.cp.fullscreen).isFakeOrNative=!0,t.toggle=function(){if(!i.playWasCalled)return i.play(),void Ai.log("play by fullscreen button");try{var e;null!==(e=i.vastPlayer)&&void 0!==e&&e.stopAd()}catch(e){Ai.warn("stop ad error by full screen button",e)}t.constructor.prototype.toggle.call(t)},(n=this.ads.pre)&&n.doubleOnNativeFullScreen&&(n.maxImpressions<2&&(n.maxImpressions=2),1===(null===(e=n.urls)||void 0===e?void 0:e.length)&&((r=n.urls[0]).includes("maximp=")&&!r.includes("maximp=1")||(n.urls=[r,r]))))}},{key:"prepareRoll",value:function(e){"seeds"!==e?(this.ads.rolls=Pi({type:e},this.ads[e]),this._copyOrReplaceUrls()):this.ads.rolls={urls:[this.ads.seeds],isSeeds:!0}}},{key:"_copyOrReplaceUrls",value:function(){var e=this.ads.rolls.urls,t=void 0===e?[]:e;this.ads.rolls.urls="replace"==this.debugAdsMode?t.map(function(){return Y.h0.testLinear}):(0,u.Z)(t)}},{key:"_lazyGetUrls",value:function(){this.ads.rolls.getUrls&&(this.ads.rolls.urls=this.ads.rolls.getUrls(),this.ads.rolls.getUrls=null,this._copyOrReplaceUrls())}},{key:"initPre",value:function(e){var t,n=this;if(this.ads.unreliablePre)return this.schedulePre("unreliablePre",e);if(H.xw||null===(t=this.ads.pre)||void 0===t||!t.waitBlockingCheck||!window.adBlockingCheck)return this.schedulePre("pre",e);Promise.race([adBlockingCheck,(0,mt.gw)(this.ads.pre.waitBlockingCheck)]).then(function(){n.isAds||(n.videoElement.paused?n.schedulePre("pre",!n.playWasCalled&&e):(n.prepareRoll("pre"),n.playAdChain()))})}},{key:"initNonLinearAndMid",value:function(){var e=this,t=this.ads.nonLinear||{};(this.ads.nonLinear=t).url="replace"==this.debugAdsMode?Y.h0.testNonLinear:t.url;var n=this.ads.midThenNonLinear?function(){return e.scheduleMiddleRoll()}:function(){return e.scheduleNonLinear()};this.once("playing",n)}},{key:"schedulePre",value:function(e,t){var n=this;this.prepareRoll(e),this.playScheduledAd=function(){return n.playAdChain(t)}}},{key:"play",value:function(){var e,t;this.playWasCalled=!0,null!==(e=this.onPlay)&&void 0!==e&&e.call(this),this.playScheduledAd&&(t=this.playScheduledAd,this.playScheduledAd=null,t(),this.lastAd=Date.now(),H.xw&&k(this.wrapper.parentElement)),this.isPlayAllowed&&(0,i.Z)((0,d.Z)(o.prototype),"play",this).call(this)}},{key:"makeAdPanel",value:function(){var e=(0,F.hi)([Si.panel,Si.hidden]);this.wrapper.appendChild(e),this.adElement=e}},{key:"playAdChain",value:function(t){var e,n,r=this;this._lazyGetUrls();var i,o=this.ads.rolls,a=o.urls,s=o.label,u=o.isSeeds,c=o.type,l=o.maxImpressions,f=o.vast,d=a.shift();if(!d&&"unreliablePre"==c&&0===this.counters.impression)return Ai.log("fallback unreliablePre to pre"),this.prepareRoll("pre"),void this.playAdChain(t);if(!d||this.counters.impression>=l){Ai.warn("no_ads");var h,p,v=u&&0===this.counters.impression,m="middle"==c&&0===this.counters.impression;return this.resumeAfterAd(),v?(this.emit("no_seeds"),this.schedulePre("pre",t)):(this.emit("no_ads"),p=H.xw?this.source.deferredInit():Promise.resolve(),(this.isPlayedBeforeAds||t)&&p.then(function(){return r.play()}),this.cp.fullscreen.show(),null!==(h=this.cp.pip)&&void 0!==h&&h.enable()),m&&this._fallbackMiddleToNonLiner(),void("download"===c&&(this._leastOnceAdParsed?this.cp.download.startLoad():this.cp.message.show(q.fL.disableAdBlock)))}this.isAds=!0,this.lastAd=Date.now(),null===(e=this.cp)||void 0===e||null!==(n=e.pip)&&void 0!==n&&n.disable();var y=Pi(Pi({skipHandler:function(e,t,n,r){return i={time:t,ready:n,skip:r}},disableVolumeCheck:!0},f||this.ads.vast),{},{maxImp:l});Ai.log("instantiate",this.adElement,y);var g="function"==typeof T.jB?new T.jB(this.adElement,y):new(ei())(this.adElement,y);this.vastPlayer=g;var b,_=this.addLabel(d,s);this.setAdListeners(g,"linear",_);var w,k=!this.videoElement.paused||u||"pre"===c?this.ads.volume||1:.02;g.once("AdStarted",function(){if(!u){H.xw||r.playAdMode(c);try{b=new ki(r.adElement,g,k,r.wrapper,function(e){return r.emit(e)},i,r.ads.toLongSkip,r.counters.impression,l)}catch(e){Ai.warn("control's build error",e)}}}),"unreliablePre"===c&&(w=setTimeout(function(){Ai.warn("break to long unreliablePre selection"),r.prepareRoll("pre"),g.stopAd()},1e3*Y.h0.unreliablePreTimout));var A=ni()(function(e){Ai.warn("end",e),r.vastPlayer=null,clearTimeout(w),null!==b&&void 0!==b&&b.destroy(),r.adElement.classList.remove(Si.impression),r.playAdChain(t)});g.once("AdError",A),g.once("AdStopped",A),g.on("AdImpression",function(){r.cp.fullscreen.isFakeOrNative&&r.cp.fullscreen.hide(),r.counters.impression++,r.adElement.classList.add(Si.impression),clearTimeout(w)}),this.loadVAST(g,_,k,c,u)}},{key:"loadVAST",value:function(e,t,n,r,i){var o=this,a=4<arguments.length&&void 0!==i&&i;this.isPlayAllowed&&(this.isPlayedBeforeAds=!this.videoElement.paused),H.xw&&(this.isPlayedBeforeAds=!0,this.source.destroy(),this.ui.badNews.hide());var s=this._makeRollName(r);this._linearStats(e,s,t);var u=Date.now();this._adStats("request",s,{url:t}),e.load(t).then(function(){o._adStats("response",s,{url:t,time:Date.now()-u}),Ai.log("load ok"),e.adVolume=n,o.isPlayAllowed&&((a||H.xw)&&o.playAdMode(),(a||H.xw&&("pre"===r||"unreliablePre"===r))&&(o.isPlayedBeforeAds=!0),H.xw&&o.videoElement.removeAttribute("poster")),e.startAd().then(function(){return Ai.log("startAd ok")}).catch(function(e){return Ai.warn("startAd error",e)})}).catch(function(e){return Ai.warn("load error",e)})}},{key:"_makeRollName",value:function(e){if(e)return"middle"!==e?e:this.videoElement.paused?"pauseMiddle":"middle".concat(this.counters.middleRoll++)}},{key:"_linearStats",value:function(e,o,a){var s,u,t,c=this;e.once("AdParsed",function(){s=c._leastOnceAdParsed=!0,c._adStats("parsed",o,{url:a})}).once("preload",function(){t=Date.now(),c._adStats("jsLoad",o,{url:a})}).once("JSLoaded",function(){u=!0,c._adStats("jsLoaded",o,{url:a,time:Date.now()-t})}).once("AdError",function(e){function n(e){var t=e.data;t&&"playlist hooker is here"==t.response&&r(t.blocked)}var r,i,t;s?u||c._adStats("noJsErr",o,{url:a,label:e}):(c._adStats("reqErr",o,{url:a,label:e}),"pre"==o&&(t=new Promise(function(e,t){r=e,addEventListener("message",n),i=setTimeout(t,555)}).finally(function(){removeEventListener("message",n),clearTimeout(i)}),top.postMessage("is playlist hooker here?","*"),t.then(function(e){return c._adStats("bb",o,{url:a,label:e})}).catch(ji)))}).once("AdImpression",function(){return c._adStats("impression",o,{url:a})})}},{key:"addLabel",value:function(e,t){if(!e||!t)return e;var n=this.ads.labelCounters;n[t.val]||(n[t.val]=1);var r=t.counter?n[t.val]++:"",i=new URL(e);return i.searchParams.set(t.name,t.val+r),i.href}},{key:"playAdMode",value:function(e){if(this.isPlayAllowed)return H.xw||(this.isPlayedBeforeAds=!this.videoElement.paused),"fly"!==e&&this.pause(),this.adElement.classList.remove(Si.hidden),this.isPlayAllowed=!1,this.adElement}},{key:"resumeAfterAd",value:function(){this.isAds=!1,this.adElement.classList.add(Si.hidden),this.isPlayAllowed=!0,this.counters.impression=0}},{key:"setAdListeners",value:function(t,n,r){var i=this;V.forEach(function(e){return t.on(e,function(){Ai.log(n,e,r),i.emit(e,{type:n,url:r})})})}},{key:"playDownloadRoll",value:function(){this.suppressAdByPip||this.isAds||(Ai.log("downloadRoll"),this.prepareRoll("download"),this.playAdChain())}},{key:"scheduleMiddleRoll",value:function(){var e=this,t=(this.ads.middle||{}).offset,n=void 0===t?Y.h0.middleOffset:t;this.nextMiddleTimer=setTimeout(function(){return e.playMiddleRoll()},1e3*n)}},{key:"playMiddleRoll",value:function(){if(!this.suppressAdOnFakeFullScreen()&&(this.scheduleNonLinear(),!this.suppressAdByPip)){var e=this.ads.middle||{},t=e.pop,n=e.total;return n&&this.counters.middleRoll>n?(Ai.warn("prevent roll by middle.total (".concat(n,")")),this._fallbackMiddleToNonLiner()):!t&&this.videoElement.paused?Ai.warn("prevent middle roll on pause"):void(this.isAds||(Ai.log("middleRoll"),this.emit("middleRoll"),this.prepareRoll("middle"),this.playAdsAgain()))}}},{key:"_fallbackMiddleToNonLiner",value:function(){var e;null!==(e=this.ads.middle)&&void 0!==e&&e.nonLinearFallback&&(Ai.log("fallback middle to non linear"),this.nonLinear(!0))}},{key:"makePostRoll",value:function(){var e,t,n=this,r=this.videoElement.duration;!r||r<Y.h0.postMinDuration||(t=void 0===(e=(this.ads.post||{}).offset)?Y.h0.postOffset:e,this.afterTimeUntil(r-t(r),function(){return!(!n.suppressAdOnFakeFullScreen()&&!n.suppressAdByPip)||(n.isAds?void 0:(Ai.log("postRoll"),n.prepareRoll("post"),n.playAdsAgain(),!0))}))}},{key:"scheduleFlyRoll",value:function(e){var n=this;this.afterTimeUntil(e,function(){if(n.suppressAdOnFakeFullScreen()||n.suppressAdByPip)return!0;if(!n.isAds){n.adElement.classList.add(Si.fly),n.prepareRoll("fly"),n.playAdsAgain();var e=(n.ads.fly||{}).offset,t=void 0===e?Y.h0.flyOffset:e;return n.scheduleFlyRoll(n.videoElement.currentTime+t),!0}})}},{key:"afterTimeUntil",value:function(i,o){var a=this;this.on("timeupdate",function e(){var t=a.videoElement,n=t.paused,r=t.currentTime;!n&&i<r&&o()&&a.removeListener("timeupdate",e)})}},{key:"suppressAdOnFakeFullScreen",value:function(){var e;return this.ads.suppressOnFakeFullScreen&&(null===(e=this.cp)||void 0===e?void 0:e.fullscreen.isFakeOrNative)}},{key:"playAdsAgain",value:function(){Date.now()>this.lastAd+1e3*Y.h0.coolDown?this.playAdChain():Ai.warn("prevent roll (cool down)")}},{key:"scheduleNonLinear",value:function(){var e=this,t=this.ads.nonLinear.offset,n=void 0===t?Y.h0.nonLinearOffset:t;this.nextNonLinearTimer=setTimeout(function(){return e.nonLinear()},1e3*n)}},{key:"nonLinear",value:function(e){var t=this;if((e||(this.scheduleMiddleRoll(),!this.ads.nonLinear.fallbackOnly))&&!this.isAds&&this.ads.nonLinear.url&&!this.suppressAdByPip){var n=this.ads.nonLinear.total;if(n&&this.counters.nonLinear>n)return Ai.warn("prevent by nonLinear.total (".concat(n,")"));this.isAds=!0;var r=(0,F.hi)(Si.nonLinear);this.wrapper.appendChild(r);var i=new(ei())(r),o=function(e){t.isAds=!1,r.parentElement===t.wrapper&&(0,F.Od)(r),Ai.warn(e)};i.once("AdError",o),i.once("AdStopped",function(){r.parentElement===t.wrapper&&(0,F.Od)(r),t.resumeAfterAd(),t.isPlayedBeforeAds&&t.play()}),this.setAdListeners(i,"non linear",this.ads.nonLinear.url);var a=this.addLabel(this.ads.nonLinear.url,this.ads.nonLinear.label);i.load(a).then(function(){i.startAd(),t.counters.nonLinear++,t._adStats("response","overlay")}).catch(o),this._adStats("request","overlay"),i.on("AdImpression",function(){return t._adStats("impression","overlay")}),this.isPlayedBeforeAds=!1,i.on("AdLinearChange",function(){i.adLinear&&(r.classList.add(Si.changedToLinear),t.playAdMode())})}}},{key:"destroy",value:function(){removeEventListener("message",this.confirmAdListener),clearTimeout(this.nextNonLinearTimer),clearTimeout(this.nextMiddleTimer),(0,i.Z)((0,d.Z)(o.prototype),"destroy",this).call(this)}}]),o}();function ji(){}function Ri(e){var r=new Li(e),i={play:function(){return r.play()},destroy:function(){return r.destroy()},set cssVars(e){r.cssVars=e},titleMode:function(e){var t;null!==(t=r.cp)&&void 0!==t&&t.titleMode(e)},showRecommendations:function(e){r.showRecommendations(e)}};return r.onRenew=function(e){var t;r=e,null!==(t=i.onRenew)&&void 0!==t&&t.call(i,i)},["on","once","off"].forEach(function(n){i[n]=function(e,t){return r[n](e,t),i}}),i}},9293:function(e,t,n){"use strict";var r=n(23279),i=n.n(r),a=n(93867),o="localStorage unavailable";function u(e,t){if(void 0!==t)try{localStorage.setItem(e,t)}catch(e){console.log(o)}else console.warn("value is undefined. Use .remove('".concat(e,"') instead"))}t.Z={set totalTime(e){u("player.totalTime",e)},get totalTime(){return this.getParsed("player.totalTime",0)},get skip(){return this.getParsed("player.skip",[])},set skip(e){u("player.skip",JSON.stringify(e))},set speed(e){u("player.speed",e)},get speed(){return this.getParsed("player.speed",1)},set:u,setVolume:i()(function(e){return u("player.volume",e)},500),get:function(e){try{return localStorage.getItem(e)}catch(e){return console.log(o),null}},getParsed:function(e,t){try{var n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(e){return t}},getDefaultTrackIndex:function(e,t){var n=1<arguments.length&&void 0!==t?t:0,r=e.findIndex(a.W);if(-1!==r)return r;var i=this.get("player.track");if(!i)return n;var o=e.findIndex(function(e){return e===i});return-1===o?n:o},saveLast:function(e,t){var n,r=e.id,i=e.flat,o=t.id,a=t.season,s=t.episode;r&&(n=i?o:"".concat(a,":").concat(s),u("vp".concat(r),n))},getLast:function(e){return(this.get("vp".concat(e))||"").split(":")},remove:function(e){try{localStorage.removeItem(e)}catch(e){console.log(o)}}}},48728:function(e,t,n){"use strict";var r=n(56688),o=n(22201),i=1048576;t.Z={p2pEnabled:!0,tracker:"",wsReconnectInterval:5,longDownload:6e4,dcConnectTimeout:20,dcUploadTimeout:5,tolerance:3,dcPings:0,packetSize:16384,maxBufferSize:{pc:4<r.sq?600*i:300*i,mobile:4<=r.sq?200*i:100*i,tv:60*i,live:50*i},loadTimeoutRate:.9,loadTimeoutRateMax:.95,logLevel:"error",rtc:{peerConnection:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"},{urls:"turn:turn.zcvh.net:5349?transport=udp",username:"brucewayne",credential:"12345"}]},dataChannel:{},offer:{},answer:{}},p2pBlackList:["aac","mp3"],prefetch:r.xw?4:7,getPeersTimeout:13,connectionsPause:60,maxFailConnections:50,minFragments:4,channelId:function(e,t){if(t)return(0,o.Z$)(e.split("/")).split(".")[0];var n=new URL(e),r=n.searchParams.has("video")?new URL(n.searchParams.get("video")):n,i=r.pathname.match(/\/(\w+)\/(?:1080_)?(\w+)\.mp4(?:\/tracks\/)?(.*)\/master.m3u8/);return i?i.slice(1).filter(Boolean).join("/"):"".concat(r.pathname).concat(r.search)}}},10152:function(e,t,n){"use strict";n.d(t,{n:function(){return s}});var r=n(66379),o=n.n(r),i=n(82729),a=n.n(i),s={_:[],add:function(e,t){this._.push({status:c.request,req:e,fromId:t,tRequest:performance.now()})},receiveHead:function(t,n,e,r){var i=this._.find(function(e){return n==e.fromId&&o()(t,e.req)});i?(i.tHead=performance.now(),i.total=t.size,i.status=404==e?c.notFound:c.headersReceived):r||(this.add(t,n),this.receiveHead(t,n,e,!0))},complete:function(t,n){var e=this._.find(function(e){return n==e.fromId&&o()(t,e.req)});return e?(e.tLoaded=performance.now(),e.status=c.successful,u(e)):u()},getStats:function(t,n){var e=this._.find(function(e){return n==e.fromId&&o()(e.req,t)});return u(e)},whoLoading:function(t){return this._.filter(function(e){return o()(e.req,t)&&!l.includes(e.status)}).map(function(e){return e.fromId})}},u=function(e){var t=0<arguments.length&&void 0!==e?e:{};return{trequest:t.tRequest,tfirst:t.tHead,tload:t.tLoaded,loaded:t.total,total:t.total}};setTimeout(function e(){setTimeout(e,15e3);var t=performance.now()-15e3;a()(s._,function(e){return e.status==c.notFound&&e.tHead<t||e.status==c.successful&&e.tLoaded<t})},15e3);var c={request:0,headersReceived:1,notFound:4,successful:7},l=[c.notFound,c.successful]},87976:function(e,t){"use strict";t.Z={PEER_SIGNAL:"signal",DC_OPEN:"open",DC_CLOSE:"CLOSE",PEER_ERROR:"error",PC_NOT_SUPPORTED:"PC_NOT_SUPPORTED",PC_INIT_ERROR:"PC_INIT_ERROR",PC_SIGNAL:"signal",NEGOTIATOR_ERROR:"error",NEGOTIATOR_HAS:"has",PEER_BITS:"BITFIELD",PEER_STORAGE:"STORAGE",PEER_HAVE:"HAVE",PEER_LOST:"LOST",PEER_REQUEST:"request",PEER_NO_CHUNKS:"noChunks",PEER_CHUNKS:"chunks",PEER_LOADED:"loaded",PEER_ACK:"ack",LOAD_CHUNKS_REMAINING:"loadChunksRemaining",LOAD_TIMEOUT:"loadTimeout",LOSE_TOLERANCE:"loseTolerance"}},34909:function(e,t,n){"use strict";n.d(t,{Zv:function(){return u},fi:function(){return v},Ky:function(){return O},YD:function(){return S},IR:function(){return T},gG:function(){return C},uB:function(){return z}});var c=n(93433),r=n(4942),l=n(48764),i=n(97019),f=n.n(i),o=n(66379),d=n.n(o),h=n(24070),m=n(10152),y=n(55627),g=n(47005),a=n(22201),b=n(73421);function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){(0,r.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var w=[],k=[],p=[],u=function(t){return k.some(function(e){return d()(e.key,t)})};function v(n,r,i,o,e,t){var a={channel:n,type:r,level:i,sn:o},s=w.find(function(e){return d()(e.key,a)});if(s)return s.promise;var u=k.find(function(e){return d()(e.key,a)});if(u&&(f()(k,u),u.requested))return A(u,e);var c=y.V.getConnectedBy(function(e){var t;return null===(t=e.storage)||void 0===t?void 0:t.has(n,r,i,o)});return(0,g.AG)(r,i,o,c.length),c.length||t?A(u||E(a),e):Promise.reject()}function A(e,t){var n,r;return e.duration=t,R(e),r=1e3*t*.5,(n=e).promise.finally(function(){var e=w.findIndex(function(e){return e==n});~e&&w.splice(e,1),w.length&&O("finally"),clearTimeout(n.timeout)}),n.deadline=Date.now()+1e3*n.duration,n.timeoutTime=Date.now()+r,n.timeout=setTimeout(function(){return function e(t){var n=t.pieces.fullSize;if(n){var r=(n-P(t.pieces))/L;if(r<t.deadline-50-Date.now())return t.timeoutTime=t.deadline-50-r,t.timeout=setTimeout(function(){return e(t)},t.timeoutTime-Date.now()),void(b.H&&console.log("re timeout, need",r,"/",t.deadline-50-Date.now()))}var i=[];var o;for(;o=t.pieces.shift();)i.push(o);{var a;!b.H||(a=t.pieces.reduce(function(e){return e+1},0))&&console.warn("lose",a)}if(!i.length)return t.reject();var s=P(i);t.reject({fullSize:n,size:s,chunks:i})}(n)},r),w.push(e),x(e.key,1e3*t,1),"audio"==e.key.type&&x(e.key,1e3*t*2,2),O("add"),e.promise}function x(e,t,n){var r,i=_(_({},e),{},{sn:e.sn+n});u(i)||h.t.inMemory(i)||((r=E(i)).timeoutTime=Date.now()+t+1e3*n,k.push(r))}function E(e){var n={key:e,pieces:[],lastIndex:0,requested:!1};return n.promise=new Promise(function(e,t){n.resolve=e,n.reject=t}),n}function O(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=t>=w.length?k[t-w.length]:w[t];if(n){var r=Date.now();!n.timeout&&n.timeoutTime<r+1e3&&(n.timeoutTime=r+1e3);var i=n.key,o=i.channel,a=i.type,s=i.level,u=i.sn,c=y.V.getConnectedBy(function(e){var t;return null===(t=e.storage)||void 0===t?void 0:t.has(o,a,s,u)});(0,g.AG)(a,s,u,c.length);var l,f=c.filter(function(e){return e.isAvailable});if(f.length){for(n.pieces.length||f.sort(I);f.length&&(!n.pieces.length||n.lastIndex<n.pieces.length);){var d=n.lastIndex,h=f.shift(),p=n.pieces.length||j.get(n.key.type),v=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length?arguments[3]:void 0;if(!e.timeToFirstByte||!e.bytesPerMs)return 0;var i=t-Date.now()-e.timeToFirstByte;if(i<0)return-1;var o=Math.max(n-1-r,0),a=Math.floor(e.bytesPerMs*i/16e3),s=n<a?2:3,u=Math.max(Math.ceil(n/s),3);return Math.min(a,o,u)}(h,n.timeoutTime,p,d);l&&(l=!1,-1==v&&(v=0)),n.lastIndex+=v+1,-1==v&&(l=!(v=0)),h.requestFragment(_(_({},n.key),{},{range:[d,d+v]})),b.H&&console.log(a,s,u,"".concat(d,"-").concat(d+v," / ").concat(n.pieces.length-1),"cd",n.timeoutTime-r,"ms,",0|h.timeToFirstByte,"ttf"),n.requested||(m.n.add(n.key,"multi"),n.requested=!0)}t<w.length+k.length&&O("next",t+1)}}}function S(t,e){var n,r=w.find(function(e){return d()(t,e.key)})||k.find(function(e){return d()(t,e.key)});if(!r)return b.H&&(n=t,console.log("late",n.type,n.sn,"".concat(n.range,"/").concat(n.count),n.rangeSize,n.size)),void O("progress late");var i=r.pieces;if(i.length||(i.length=t.count,i.fullSize=t.size,m.n.receiveHead(_(_({},r.key),{},{size:t.size}),"multi",206),function(e,t){if(!t)return;{var n;j.has(e)?(n=j.get(e),j.set(e,Math.round((t+n)/2))):j.set(e,t)}}(t.type,t.count),R(r)),e){i.splice.apply(i,[t.range[0],e.length].concat((0,c.Z)(e)));var o=i.reduce(function(e){return e+1},0);if(i.length!==o)return O("progress"),i.length-o;var a,s=l.lW.concat(i),u=m.n.complete(r.key,"multi");return s.byteLength==t.size?(r.timeout||p.push({key:r.key,stats:u}),a=r.timeout?"multi":"preload",h.t.handleFrag(s,r.key,a),r.resolve([s,u])):(b.H&&console.warn("size mismatch",r.key),r.reject("size mismatch")),0}O("progress 204-206")}function T(t){var e;for(null!==(e=w.find(function(e){return d()(t,e.key)}))&&void 0!==e&&e.reject("abort");k.length;){var n=k.pop();n.promise.catch(M),n.reject("abort preload")}}var P=function(e){return e.reduce(function(e,t){return e+t.byteLength},0)},C=function(e){return L=e},L=0;var j=new Map;function R(e){var t,n;e.duration&&e.pieces.fullSize&&(n=e.pieces.fullSize/e.duration,null!==(t=window.bwChart)&&void 0!==t&&t.updateLine(e.key.type,n/1e3|0))}var I=function(e,t){return(null!=e.bytesPerMs&&null!=t.bytesPerMs?(0,a.AW)("bytesPerMs"):(0,a.qk)("timeToFirstByte"))(e,t)};function z(t){var e=p.find(function(){}