/*! For license information please see bundle.index.fef081ce3907f9aa605e.js.LICENSE.txt */
(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[826],{35009:e=>{e.exports={staticHost:"https://alpha.mirtesen.ru",server:{port:"3013"},api:{version:1,host:"127.0.0.1",path:"gqapi",protocol:"https"},chatApi:{version:1,host:"socket2.mirtesen.ru",path:"api",protocol:"https"},pollsApi:{version:1,host:"polls.mirtesen.ru",path:"graphql",protocol:"https"},testApi:{version:1,host:"gqapi-dev.mtml.ru",path:"gqapi",protocol:"http"},gqapiEndpoints:{blog:{url:"blogs"},user:{url:"user"},main:{url:"main"},upload:{url:"upload"},comments:{url:"comments"}},mode:"production",blogPostRecordsOnPage:20,postsPerPage:5,recordsPerPage:20,disableAdBlocks:!1,disableChat:!1,comet:{pathname:"/cmt/"},recaptcha:{sitekey:"6LedqiITAAAAAGA-lXX6eARmRY5BD9CJRbihD71b"},leftSidebarBreakpoints:{platform:1219,default:1423},headerSearch:{categories:{people:{urlLink:"https://mirtesen.ru/search/people",placeholder:"Поиск",icon:"users"},groups:{urlLink:"https://mirtesen.ru/search/groups",placeholder:"Поиск",icon:"briefcase"},posts:{urlLink:"https://mirtesen.ru/search/posts",placeholder:"Поиск",icon:"search"}},defaultCategory:"people"},comments:{prod:{css:"//static.mtml.ru/css/commentsBundle.css",js:"//static.mtml.ru/js/commentsBundle.js"},dev:{css:"//static.mtml.ru/css/commentsBundle.css",js:"//static.mtml.ru/js/commentsBundle.js"}},groups:{limit:20,defaultPeriod:"PERIOD_MONTH",defaultOrder:"ORDER_BY_UNIQUE_VISITORS"},errbit:{host:"https://errbit.mtml.ru",projectId:1,projectKey:"1780a68abc3c94ecccb4fdb3d2f5f3fd"},moviesCollections:{urlTpl:"https://kino.mirtesen.ru",moviesLimit:2,collectionsLimit:4,collectionsCount:48},feedTabs:[{title:"Для вас",name:"main",tooltip:"Лучшие рекомендованные посты"},{title:"ТОП",name:"top",tooltip:"Выбранные нейросетью Neuron посты"},{title:"Новое",name:"new",tooltip:"Посты пользователей для вывода в ТОП"},{title:"Друзья",name:"friends",tooltip:"Посты ваших друзей"}],mainProto:"https",mainDomain:"mirtesen.ru",iframeDomain:"gamma.mirtesen.ru",glagolDomain:"glagol.mirtesen.ru",topicDomain:"glagol.mirtesen.ru",infoDomain:"info.mirtesen.ru",arbitrationDomains:["sovetyspolzoi.mirtesen.ru","mysoccer.mirtesen.ru"],infoDomains:["info.mirtesen.ru","info.mirtesen.mt","info.localhost.ru"],glagolDomains:["glagol.mirtesen.ru","glagol.press"],baseDomains:["mirtesen.ru","olanola.com","v2.olnl.net","gamma.mirtesen.ru","delta.mirtesen.ru","mtest.ru","info.mirtesen.ru"],hiddenSubscribers:["russianredaktion.mirtesen.ru","bbt.mirtesen.ru","icherski.mirtesen.ru","aurenhabichev.mirtesen.ru","mt-blogs.test","glagol.mirtesen.ru","sovetyspolzoi.mirtesen.ru"],verifiedBlogs:["russianredaktion.mirtesen.ru","glagol.mirtesen.ru","sovetyspolzoi.mirtesen.ru"],profileUsers:[714433825,88364568],profilerRate:0,ignoreStickyButton:["maximarkets.mirtesen.ru","umarkets.mirtesen.ru","aliexpress.mirtesen.ru"],blogWithTopic:["mt.megamcpe.com"],blogWithoutTopic:["mt.milomarket.com"],v2comments:{person:{timestamp:1637756e3},30318046132:{timestamp:1635408e3},30554982694:{timestamp:1636382827},30157469623:{timestamp:1636382827},30037870100:{timestamp:1636382827},30228297841:{timestamp:1636382827},30944075840:{timestamp:1636382827},30534764302:{timestamp:1636382827},30544875260:{timestamp:1636382827},30805889517:{timestamp:1636382827},30669388060:{timestamp:1636382827},30331721417:{timestamp:1636382827},30195839399:{timestamp:1636382827},blogs:{timestamp:1636637400}},panda:{mode:1,videoUrl:"https://player.panda.video/video/"},disableAdDomains:["xn--80adgd5amgpfqs5k.xn--p1ai","s30496446919.mirtesen.ru"],elasticEndpoint:"http://10.8.8.38:9200/",showSmotriPlayer:!0}},87426:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67154),o=n.n(r),a=n(59713),i=n.n(a),s=n(6479),c=n.n(s),l=n(67294),u=n(94184),p=n.n(u),d=["isCompact","color","disabled","extraClasses","icon","label"],m=l.forwardRef((function(e,t){var n,r=e.isCompact,a=void 0!==r&&r,s=e.color,u=void 0===s?"primary":s,m=e.disabled,f=void 0!==m&&m,h=e.extraClasses,_=void 0===h?"":h,g=e.icon,v=void 0===g?"":g,y=e.label,b=c()(e,d),E=p()("btn",_,(n={compact:a},i()(n,"btn-".concat(u),!!u),i()(n,"disabled",f),n)),P=v&&l.createElement("svg",{className:"svg"},l.createElement("use",{href:"/images/icons.svg#".concat(v)}));return function(e){return!!e.href}(e)?l.createElement("a",o()({},b,{ref:t,className:E}),P,y):l.createElement("button",o()({},b,{ref:t,className:E}),P,y)}));const f=(0,l.memo)(m)},29160:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(59713),o=n.n(r),a=n(319),i=n.n(a),s=(n(92222),n(67294)),c=n(94184),l=n.n(c),u=function(e){var t=e.bar,n=e.value,r=void 0===n?0:n,a=e.color,c=e.label,u=e.extraClasses,p=void 0===u?[]:u,d=s.createElement("div",{className:l().apply(void 0,["progress__bar",o()({},"progress__bar_".concat(a),a)].concat(i()(p))),style:{width:"".concat(r,"%")}},c||"".concat(r,"%"));return t?d:s.createElement("div",{className:"progress"},d)};const p=(0,s.memo)(u)},30666:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(319),o=n.n(r),a=(n(92222),n(67294)),i=n(94184),s=n.n(i);const c=function(e){var t=e.children,n=e.extraClasses,r=void 0===n?[]:n;return a.createElement("div",{className:s().apply(void 0,["progress"].concat(o()(r)))},t)}},21768:(e,t,n)=>{"use strict";var r={};n.r(r),n.d(r,{groupsSetOrder:()=>Sm,groupsSetPage:()=>Tm,groupsSetPeriod:()=>wm,searchRatedGroups:()=>Om}),n(98898),n(66337);var o=n(67294),a=n(73935),i=n(37703),s=n(30381),c=n.n(s),l=n(5964),u=n.n(l),p=(n(80008),n(21793),n(23493)),d=n.n(p),m=n(91033),f=(n(12419),n(34575)),h=n.n(f),_=n(93913),g=n.n(_),v=n(81506),y=n.n(v),b=n(2205),E=n.n(b),P=n(78585),O=n.n(P),w=n(29754),S=n.n(w),T=n(59713),k=n.n(T),I=(n(32564),n(26699),n(92222),n(57327),n(94184)),M=n.n(I),C=n(45697),j=n.n(C),N=n(48926),R=n.n(N),A=n(87757),D=n.n(A),x=(n(41539),n(88674),n(82772),n(47941),n(82526),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(27361)),L=n.n(x),B=n(17161),U=n(319),F=n.n(U);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z={items:[],page:0,hasMore:!0};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W={site:{},person:{},siteBuilder:{},page:"",layout:null,originalUrl:null,hideAdBlocks:!1,isAdBlockerActive:!1};var Y=n(74764),K={};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(9653);var J={blogPost:[],sliders:[],currentSlider:{title:"",imageUrl:"",imageWidth:0,imageHeight:0},sliderIndex:0,sliderLoading:!1};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee={logoSwitcher:!1,titleSwitcher:!1,backgroundSwitcher:!1,logoEditor:!1,titleEditor:!1,backgroundEditor:!1};var te=n(18446),ne=n.n(te);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae={stop_tags:[],tags:[],url:"",title:"",type:"posts",html:"",seoTitle:"",seoKeywords:"",seoDescription:""},ie={isChanged:!1,menuItems:[],currentIndex:null,menuItem:{},staticWidgetsToRemove:[],context:{add:{title:"Добавление раздела",saveButton:"Добавить"},edit:{title:"Раздел: ",saveButton:"Сохранить",remove:"Удалить раздел"}},errors:{}};function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(21249),n(40561);var le={staff:[],popup:{popupType:null,userInfo:null},errors:{},radioBtnValue:null};function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(74916),n(64765),n(34553);var de={usedSearch:!1,activeTab:"rating",tabs:{},staff:{},search:{}},me={userList:[],hasMore:!0,page:0,initialPage:1};function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(68309),n(83710);var _e={imageId:null,imageUrl:null,text:null,status:"ok",error:null,isSlider:!1,canSlider:!1},ge={id:null,title:"",text:"",inProcess:!1,sign:"",disableComments:!1,tags:[],tagSuggestions:[],errors:[],publishTime:null,referenceUrl:"",nextBtnUrl:"",pushBtnUrl:"",pushBtnText:"",pulse:0,draft:!1,preloaderVisible:!0,sliders:[],slidersLength:0,errorMessage:{isVisible:!1,text:"Произошла ошибка. Попробуйте еще раз или свяжитесь со службой поддержки."},activeTab:"message",sentToModeration:!1};function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be={searchValue:"",search:{results:[],page:0,hasMore:!0,isLoading:!1},blogPostList:[],hasMoreItems:!0,page:1,title:"",tag:"",period:"",before:"",after:"",status:"",sort:""};function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe={posts:[],hasMoreItems:!0,page:0,sort:"latest"};var we={newsPost:[]};function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke={posts:[],nextOffset:0,hasMoreItems:!0,page:0};var Ie={topicKey:null,filter:"selected"};var Me={topicKey:null,filter:"selected"};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ne={image:null,type:"blog",allowZoomOut:!1,position:{x:.5,y:.5},scale:1,rotate:0,borderRadius:0,blogHeight:240,profileHeight:240,border:0,isEmpty:!0};var Re=n(941);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe={image:null,allowZoomOut:!1,position:{x:.5,y:.5},scale:1,rotate:0,borderRadius:0,width:100,height:100,border:0,isEmpty:!0,type:"blog"};function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ue={blocks:{}};var Fe=[];var He=[];function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge={total:0,images:[]};function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye={title:""};function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e={items:[],hasMoreItems:!0,page:0,userStatus:null,showModal:!1,modalCommentId:null};function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe={lightboxIsOpen:!1,currentImage:0,images:[],postId:null};var et=n(36968),tt=n.n(et);function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot={popup:{isOpen:!1,text:"Успешно сохранено",buttonText:"Ок"},activeTab:"about",sections:{about:{title:"Общие",isMenu:!0,changed:!1},permissions:{title:"Доступность",isMenu:!0,changed:!1},analytics:{title:"Аналитика",isMenu:!0,changed:!1},menu:{title:"Меню сайта",isMenu:!0,changed:!1},autoresponder:{title:"Автоответчик",isMenu:!0,changed:!1},menuEditor:{title:"Редактирование раздела",isMenu:!1,changed:!1},vk:{title:"Настройки Вконтакте",isMenu:!0,changed:!1},rssFeed:{title:"RSS-фид",isMenu:!0,changed:!1},rssEditor:{title:"Редактирование RSS",isMenu:!1,changed:!1},rssImport:{title:"RSS-импорт в блоге",isMenu:!0,changed:!1},smi2:{title:"Обмен МирТесен",isMenu:!0,changed:!1,forDevs:!0},html:{title:"HTML вставки",isMenu:!0,changed:!1,forDevs:!0},domain:{title:"Адреса на «Платформе» и «МирТесен»",isMenu:!1,changed:!1},notifications:{title:"Почтовые уведомления",changed:!1},adSettings:{title:"Реклама",isMenu:!0,changed:!1,forDevs:!0},adFox:{title:"AdFox блоки",isMenu:!0,changed:!1,forDevs:!0,selectedAdBlock:1010},robots:{title:"Robots.txt",isMenu:!0,changed:!1,forDevs:!1}},data:{about:{domain:"",name:"",logoUrl:"",description:"",keyWords:[],language:"",favicon:""},permissions:{join_is_open:void 0,vislvl_invitation:void 0,showFullVersionForMobile:void 0,allowContentVislvl:void 0,premoderation:void 0,allowVoteVislvl:void 0,allowViewCreatorVislvl:void 0,allowCommentVislvl:void 0},analytics:{googleAnalyticsAccountId:"",googleCheckingCode:"",yandexMetricaAccountId:"",yandexWebmasterCheckingMetatag:"",statMediaId:""},autoresponder:{enabled:!1,text:""},vk:{appId:"",secretKey:""},rssFeed:{linkToSource:void 0,load:void 0,reloadPostsFromRss:void 0},rssImport:{sourceLinkText:"",pregTemplateLinkSearch:"",pregTemplateLinkChange:"",showPagerForComments:void 0,list:[]},smi2:{smi2RightBlock:"",smi2BottomBlock2:"",smi2BottomBlock3:"",smi2BottomBlock4:""},html:{htmlHeaderText:"",htmlHeaderEnabled:"",htmlFooterText:"",htmlFooterEnabled:""},adSettings:{inpageVideoAtEnd:!1},adFox:{},domain:{mtDomain:"",ownDomain:""}},errors:{},valid:{}};function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st={sitesDropdown:!1};function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut={activeTab:"personal",sections:{personal:{title:"Мои данные",isMenu:!0,changed:!1},contacts:{title:"Контактная информация",isMenu:!0,changed:!1},privacy:{title:"Приватность и уведомления",isMenu:!0,changed:!1},password:{title:"Смена пароля",isMenu:!0,changed:!1},siteblacklist:{title:"Сайты в черном списке",isMenu:!0,changed:!1},peopleblacklist:{title:"Люди в черном списке",isMenu:!0,changed:!1},confirm:{title:"Подтвердите свой номер мобильного телефона",isMenu:!1,changed:!1}},data:{personal:{userName:"",userSurname:"",userPseudonym:"",userStatus:"",userBirthday:"",userBirthdayMonth:"",userBirthdayYear:"",userGender:"",education:"",familyStatus:"",profession:"",favoriteMusic:"",favoriteFilms:"",favoriteBooks:"",favoriteFood:"",favoriteGames:"",favoriteOther:""},contacts:{personEmail:"",addEmail:"",addMessengerICQ:"",addMessengerSkype:"",addMessengerYaOnline:"",addMessengerGooglePlus:"",addMessengerMailAgent:"",addMailSocial:"",addFacebookSocial:"",addVkSocial:"",addOkSocial:"",addMobilePhone:"",addHomePhone:"",addWorkPhone:"",otherInfoInput:"",otherSitesInput:"",socialNetworks:{},emails:{}},privacy:{canViewMyPage:void 0,canSeeMyFriends:void 0,canInviteMeOnSite:void 0,canPostOnMyWall:void 0,aboutTodayThemes:!0,aboutFriendsAndNewMessage:!0,aboutComments:!0,aboutPhotos:!0,aboutSites:!0,wasInvited:"",languageSelection:0},password:{oldPassword:"",nextPassword:"",nextPasswordRepeat:"",showPassword:!1},confirm:{phone:"",phoneConfirmCode:"",resending:!1,confirmSmsSent:!1},tools:{buttonCode:'<a href="https://mirtesen.ru/people/me?post=https://mirtesen.ru" style="text-decoration: none; display: inline-block; position: relative; top: 4px;"><div style="display: table-cell; vertical-align: middle;"><img src="https://static.mtml.ru/images/share_button.png"/></div><b style="color: black; font-family: Arial; font-size: 14px; display: table-cell; padding-left: 3px; vertical-align: middle;">МирТесен</b></a>'},invitefriends:{searchInput:""},siteblacklist:{},peopleblacklist:{}},errors:{},valid:{}};function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mt={publications:[],page:0,hasMoreItems:!0};var ft={};var ht=n(50361),_t=n.n(ht);function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yt={id:null,groupId:void 0,status:"STATUS_PENDING",dateStart:null,dateEnd:null,fullClicksLimit:null,dayClicksLimit:null,clickPrice:null,utmSource:null,utmMedium:null,utmCampaign:null,targetGeoIds:null,targetIsMale:null,targetAgeMin:null,targetAgeMax:null,targetTime:null,title:null,canChangeStatus:null,inRotation:!1,fullClicks:0,dayClicks:0},bt={popup:{},activeTab:"platform",sections:{platform:{title:"Реклама на Платформе",isMenu:!0,changed:!1,forDevs:!0},settings:{title:"Настройки рекламы",isMenu:!0,changed:!1,forDevs:!0},item:{title:"Редактирование объекта",isMenu:!1,changed:!1,forDevs:!0},itemAdd:{title:"Добавление объекта",isMenu:!1,changed:!1,forDevs:!0},deposit:{title:"Пополнение баланса",isMenu:!1,changed:!1,forDevs:!0},stats:{title:"Статистика рекламы",isMenu:!0,changed:!1,forDevs:!0}},changed:{platform:!1,settings:!1,item:!1,stats:!1},data:{platform:"",settings:{currentBalance:0,spentBalance:0,groupItem:_t()(yt),blogpostItems:[]},item:_t()(yt),itemAdd:{url:null},deposit:{value:""},stats:{periodFrom:c()().subtract(20,"d").format("YYYY-MM-DD"),periodTo:c()().format("YYYY-MM-DD")}},errors:{}};function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ot={activeTab:"stats",sections:{stats:{title:"Статистика",isMenu:!0,changed:!1,forDevs:!0},settings:{title:"Настройки",isMenu:!0,changed:!1,forDevs:!0}},changed:{stats:!1,settings:!1},data:{stats:{periodFrom:c()().subtract(7,"d").format("YYYY-MM-DD"),periodTo:c()().format("YYYY-MM-DD")},settings:{applyForCommentsEnabled:0,commonEnabled:0,siteEnabled:0,keyWords:[]}},errors:{}};function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tt={ratedGroups:[],page:1,hasMore:!0,period:"PERIOD_MONTH",order:"ORDER_BY_UNIQUE_VISITORS",searchValue:""};var kt={};var It={title:"",html:""};function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(47042);var jt={search:"",tab:"friends",tabData:{friends:{title:"Друзья",url:"/people/[MT_USER_ID]/friends",data:[],page:1,hasMore:!1,count:0,tooltip:"Ваши друзья"},"incoming-requests":{title:"Входящие",url:"/people/[MT_USER_ID]/friends/incoming-requests",data:[],page:1,hasMore:!1,count:0,tooltip:"Люди хотят добавить вас в друзья"},"outgoing-requests":{title:"Исходящие",url:"/people/[MT_USER_ID]/friends/outgoing-requests",data:[],page:1,hasMore:!1,count:0,tooltip:"Ваши предложения дружить"},recommended:{title:"Рекомендуемые",url:"/people/[MT_USER_ID]/friends/recommended",data:[],page:1,hasMore:!1,count:0,tooltip:"Вы можете знать этих людей"}}};function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var At={profileInfo:{},friends:[],sites:[],photos:[],videos:[],popup:{isOpen:!1,text:"Успешно сохранено",buttonText:"ОК",reload:!0,redirect:!1}};function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lt={items:[],page:1,hasMoreItems:!1};function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft={page:1,hasMoreItems:!0};function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zt={events:[],hasMoreItems:!0,page:1};function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wt={page:1,hasMoreItems:!0,comments:[]};var Yt="FOOTER_CATFISH_SET_POSTS_SCROLLED",Kt=function(){return function(e,t){var n=t();return e({type:Yt,postsScrolled:Number(n.footerCatFish.postsScrolled)+1})}};function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jt={postsScrolled:0};var Xt={consolidationCode:null};var Qt={};var en={};function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(66992),n(33948);var rn={editKey:void 0,type:"add",loading:{defaultImage:!1},values:{maxTextLength:0,publicationDelay:0,useFullText:void 0,useShortDesctiption:void 0,ignoreMediaTags:void 0,rssSourceLink:"",autoRefreshImportedThemes:void 0,pregTemplateTextSearch:"",pregTemplateTextChange:"",xpathLongText:"",xpathImage:"",showCategory:"",keepImages:void 0,keepLinks:void 0,keepIframes:void 0,useEmbedCode:void 0,useYandexTurbo:void 0,addYandexGenreTags:void 0,loadingTimout:0,hideSourceLink:void 0,defaultImage:""}},on=nn(nn({},rn),{},{rssList:[],context:{add:{title:"Добавление",saveButton:"Добавить"},edit:{title:"Редактирование: ",saveButton:"Сохранить",remove:"Удалить раздел"}}});var an={};function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ln={updatedAt:"",expandOptions:!1,expandList:!1,hasMore:!1,isEmpty:null,page:0,list:[],offset:0};function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dn={post:null,isOpen:!1};function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hn={polls:[],currentFilter:"new",page:0,hasMore:!0,recordsOnPage:0,hiddenPolls:{}};var _n={attachments:[],text:null,title:null};var gn=n(35009),vn=n.n(gn);function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var En=vn().mainDomain,Pn=vn().infoDomain,On=vn().mainProto,wn={listTopics:[],menuItems:[{text:"Мессенджер МТ",link:On+"://"+Pn+"/apps",icon:"IconApp"},{text:"О компании",link:On+"://"+Pn+"/about",icon:"IconAbout"},{text:"Новости",link:On+"://"+Pn+"/news",icon:"IconNews"},{text:"Партнерам",link:On+"://"+Pn+"/partners",icon:"IconPartners"},{text:"Рекламодателям",link:On+"://"+Pn+"/promo",icon:"IconAdvertizing"},{text:"Обратная связь",link:On+"://"+En+"/feedback/report",icon:"IconFeedback"},{text:"Пожаловаться на спам",link:On+"://"+En+"/feedback/report/spam",icon:"IconSpam"},{text:"Соглашение",link:On+"://"+Pn+"/agreement",icon:"IconAgreement"}]};function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kn={},In={isMember:!1,isSubscribed:!1};function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jn={items:[],page:0,hasMore:!0};function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var An={items:[],nextFrom:"",hasMore:!0};function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ln={domain:"",similarDomains:[],name:"",tagLine:"",description:"",keywords:"",logo:null,inProcess:!1,successMessage:{},errorMessage:{}};function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fn={};const Hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn,t=arguments.length>1?arguments[1]:void 0,n=t.id||"default",r={};switch(t.type&&(r=Un({},e)),t.type){case"POST_TILES_HIDE_POST":return r[n]=Un(Un({},r[n]),{},{hiddenPosts:[].concat(F()(r[n].hiddenPosts),[t.hiddenPost])}),r;case"POST_TILES_LOAD_MORE":return r[n]=Un(Un({},r[n]),{},{hasMore:t.hasMore,page:t.page}),t.posts2&&(r[n].posts2=t.posts2),t.posts&&(r[n].posts=t.posts),r;default:return e}};var qn={id:null,type:"",country:"",region:"",city:"",street:"",house:"",tag:"",siblings:[]};function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vn={recommendedFriends:[]};function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kn={userList:[],hasMore:!0,offset:0,showCount:4};var zn=n(14191);function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xn={isEmailSent:!1,emailError:"",inputValue:{pass1:"",pass2:"",email:""}};function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tr={items:[],hasMoreItems:!0,count:6,nextOffset:0,isLoading:!1};function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var or={posts:[],nonFriendPostIds:[],hasMore:!1,nextOffset:0,feedId:null,activeTab:"main",todayBirthdays:[],personVislvl:"",hiddenPosts:[]};n(91038),n(78783),n(41817),n(32165),n(79753);var ar=n(63038),ir=n.n(ar);function sr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pr={hasMoreItems:!0,recordsOnPage:50,page:0};var dr={reply:{text:"",attachments:[],attachmentLoading:!1,statusCommentSend:!1,showForm:!1,loading:!1,active:!1},main:{text:"",attachments:[],attachmentLoading:!1,statusCommentSend:!1,showForm:!1,loading:!1,active:!1},edit:{text:"",attachments:[],attachmentLoading:!1,statusCommentSend:!1,showForm:!1,loading:!1,active:!1}},mr={instances:{0:_t()(dr)}};var fr=n(29266);function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gr={activeTab:"all",searchValue:"",isLoading:!1,tabs:{all:{title:"Все",url:"/search"},people:{title:"Люди",url:"/search/people"},groups:{title:"Каналы",url:"/search/groups"},posts:{title:"Публикации",url:"/search/posts"}},tabData:{people:{data:[],page:1,hasMore:!0},groups:{data:[],page:1,hasMore:!0},posts:{data:[],page:1,hasMore:!0}}};function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yr(e){return void 0===e.locals.initialState?{}:e.locals.initialState}function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?br(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pr(e){return{app:e.app,auth:e.auth}}function Or(e){return!/^\/(aggregator|mtop|cmt|mt-iframe|covid-informer|infinite-scrolling)$/i.test(e.path)&&!/^\/(robots\.txt|favicon\.ico|infinite-scrolling|bgt\/)/i.test(e.path)}const wr=function(){function e(){h()(this,e)}var t;return g()(e,null,[{key:"isLogged",value:function(){return B.gx.isLogged()}},{key:"isDeveloper",value:function(){return B.gx.isDeveloper()}},{key:"isEditor",value:function(){return B.gx.isEditor()}},{key:"getCurrentUser",value:function(){return B.gx.getCurrentUser()}},{key:"getCurrentUserId",value:function(){return B.gx.getCurrentUserId()}},{key:"canAddPost",value:function(){var e=Pr(B.Bz.getStore().getState()),t=e.app;return!(!e.auth.user||!t.site.canAddPost)}},{key:"canStaff",value:function(){return B.gx.canStaff()}},{key:"canAdminBlog",value:function(){return B.gx.canAdminBlog()}},{key:"canEditProfile",value:function(){var t=Pr(B.Bz.getStore().getState()).app;return e.getCurrentUserId()===L()(t,"person.id")}},{key:"canModerate",value:function(){return B.gx.canModerate()}},{key:"reload",value:function(){"undefined"!=typeof window&&window.location.reload()}},{key:"applyLoginMiddleware",value:function(e,t,n){return Or(e)?B.gx.applyLoginMiddleware(e,t,n):n()}},{key:"getAuth",value:function(e,t){var n=!(Or(e)&&(e.cookies.told||e.cookies.htold&&(e.cookies.user_id||e.cookies.mirtesen))),r=L()(yr(t),"app.site.id");return Promise.resolve(B.gx.getAuthInfo(n,r,{res:t})).then((function(n){L()(n,"user.isSelfDeleted")&&"/recovery"!==e.originalUrl&&-1===e.originalUrl.indexOf(".js")&&-1===e.originalUrl.indexOf(".css")&&t.redirect(302,"/recovery");var o=yr(t);return t.locals.initialState=Er(Er({},o),{},{auth:Er(Er({},o.auth),n)}),r&&(t.locals.initialState.app.site=Er(Er({},t.locals.initialState.app.site),n.groupPrivileges)),n})).catch(B.qL.promiseHandler("/index.js"))}},{key:"sendMessengerToken",value:(t=R()(D().mark((function e(){var t;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof window){e.next=2;break}return e.abrupt("return");case 2:if(null===window.opener){e.next=9;break}return e.next=6,B.gx.getAuthTokenFromApi("comments");case 6:e.t0=e.sent,t={type:"mtMessengerToken",token:e.t0},window.opener.postMessage(t,"*");case 9:window.close();case 10:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"getClientInfo",value:function(e){return B.gx.getClientInfo(e)}}]),e}();var Sr="/index.js";function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ir="mutation ($objectId: Float!) {\n        registerBlockView(\n            objectId: $objectId\n        )\n    }",Mr=function e(){h()(this,e)};k()(Mr,"registerSingleView",(function(e,t,n){var r=t?Object.keys(t).map((function(e){return{key:e,value:t[e]}})):void 0,o={project:"blog",body:JSON.stringify({variables:{objectId:e,paramsList:r},query:"mutation ($objectId: Float!, $paramsList: [ViewParam]) {\n        registerSingleView(\n            objectId: $objectId\n            params: $paramsList\n        )\n    }"})};return(0,B.$2)(kr(kr({},n),o)).then((function(e){return!!L()(e,"data.registerSingleView")})).catch(B.qL.promiseHandler(Sr))})),k()(Mr,"registerBlockView",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={project:"blog",body:JSON.stringify({variables:{objectId:e},query:Ir})};return(0,B.$2)(kr(kr({},t),n)).then((function(e){return!!L()(e,"data.registerBlockView")})).catch(B.qL.promiseHandler(Sr))}));const Cr=Mr,jr=30981529439,Nr=30,Rr=54,Ar={googleAnalytics:{accountId:"UA-26297990-1"},googleAnalytics2:{accountId:"UA-139311272-1"},globalYaMetrics:{version:1,id:[91685],options:{webvisor:!1,clickmap:!0,trackLinks:!0,type:1,accurateTrackBounce:!0}},newYaMetrics:{version:2,id:[54481189],options:{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!1}},topicYaMetrics:{version:2,id:[53422285],options:{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!1}}};function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lr=function(e){return R()(D().mark((function t(){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Cr.registerBlockView(e);case 2:case"end":return t.stop()}}),t)})))};const Br={listTopics:[{key:"cooking",text:"Кулинария",theme:!0},{key:"family",text:"Дети и семья",theme:!0},{key:"show",text:"Шоу-бизнес",theme:!0},{key:"politics",text:"Политика",theme:!0},{key:"health",text:"Здоровье",theme:!0},{key:"crysis",text:"Кризис - 2020",theme:!1},{key:"coronavirus",text:"Коронавирус",theme:!1},{key:"IT",text:"IT",theme:!0},{key:"auto",text:"Авто-мото",theme:!0},{key:"finance",text:"Бизнес и финансы",theme:!0},{key:"animals",text:"В мире животных",theme:!0},{key:"military",text:"Военное дело",theme:!0},{key:"home",text:"Дом/Дача",theme:!0},{key:"entertainment",text:"Игры",theme:!0},{key:"history",text:"История",theme:!0},{key:"cinema",text:"Кино",theme:!0},{key:"beauty",text:"Красота",theme:!0},{key:"culture",text:"Культура",theme:!0},{key:"realty",text:"Недвижимость",theme:!0},{key:"society",text:"Общество",theme:!0},{key:"fishing",text:"Охота и рыбалка",theme:!0},{key:"technology",text:"Прогресс",theme:!0},{key:"career",text:"Работа",theme:!0},{key:"humor",text:"Развлечения",theme:!0},{key:"ad",text:"Реклама",theme:!0},{key:"religion",text:"Религия",theme:!0},{key:"sport",text:"Спорт",theme:!0},{key:"tourism",text:"Туризм",theme:!0},{key:"photo",text:"Фото",theme:!0},{key:"all",text:"Разное",theme:!1}]};var Ur=n(67154),Fr=n.n(Ur),Hr=(n(32023),n(9996)),qr=n.n(Hr);const Zr={ad:{1010:{params:{p1:"cblrf",p2:"fwea"},ownerId:211731,minWidth:700,width:620,height:300,containerId:"adfox_159429822802698225"},1011:{params:{p1:"cblsp",p2:"fpaj"},ownerId:211731,maxWidth:699,width:300,height:300,containerId:"adfox_153261773090236151"},1020:{params:{p1:"cblte",p2:"fwea"},ownerId:211731,maxWidth:699,width:300,containerId:"adfox_153261769560342631"},1025:{params:{p1:"cmzcb",p2:"esmz"},minWidth:700,ownerId:211731,containerId:"adfox_16451888303477360"},1030:{params:{p1:"bzoss",p2:"esmz"},width:620,height:250,minWidth:650,ownerId:211731,containerId:"adfox_159429650131779245",devices:["desktop","tablet"]},1031:{params:{p1:"civlu",p2:"grtf"},height:120,maxWidth:649,ownerId:211731,containerId:"adfox_158082916500264555",devices:["phone"]},1090:{params:{p1:"clpwf",p2:"grzi"},ownerId:211731,width:620,height:332,containerId:"adfox_159430028978029262",minWidth:700},1091:{params:{p1:"civlz",p2:"grtf"},ownerId:211731,maxWidth:699,containerId:"adfox_158143586123779111"},1200:{params:{p1:"ckcpq",p2:"esmz"},ownerId:211731,width:620,height:250,containerId:"adfox_158816369696317443",minWidth:700},1201:{params:{p1:"ckclb",p2:"fpaj"},ownerId:211731,maxWidth:699,width:300,height:250,containerId:"adfox_158815834169345967"},2010:{params:{p1:"caalu",p2:"fwea"},ownerId:211731,minWidth:700,width:600,height:250,containerId:"adfox_153261703242952252"},2011:{params:{p1:"bzorn",p2:"fpaj"},ownerId:211731,maxWidth:699,height:250,containerId:"adfox_153261750181386805"},3010:{params:{p1:"citgo",p2:"fpde"},ownerId:211731,width:300,height:300,containerId:"adfox_158030932359224632"},3020:{params:{p1:"bzmax",p2:"fpde"},width:300,height:600,ownerId:211731,containerId:"adfox_162426852395715"},3030:{params:{p1:"bzosr",p2:"fpde"},width:300,height:600,ownerId:211731,containerId:"adfox_153261106089264988"},3040:{params:{p1:"bzzws",p2:"fhgy"},width:320,height:120,maxWidth:599,ownerId:211731,containerId:"adfox_153261737790015262"},3041:{params:{p1:"cning",p2:"grtf"},width:320,height:120,maxWidth:599,ownerId:211731,containerId:"adfox_160759824631961310"},3050:{params:{p1:"cblrg",p2:"gazo"},width:160,height:640,ownerId:211731,containerId:"adfox_153261728039077306"},3060:{params:{p1:"cnimx",p2:"gazo"},width:160,height:600,ownerId:211731,containerId:"adfox_160759801192382154"},5010:{params:{p1:"cfahi",p2:"fpaj"},width:300,height:300,ownerId:211731,containerId:"adfox_156015420426244017"},6010:{params:{p1:"cnimu",p2:"fpaj"},width:300,height:300,ownerId:211731,containerId:"adfox_160759789380913537"},6011:{params:{p1:"cnimy",p2:"grtf"},width:300,height:300,ownerId:211731,containerId:"adfox_160759811371521293"},6020:{params:{p1:"cnimv",p2:"fpaj"},width:300,height:300,ownerId:211731,containerId:"adfox_160759791658131338"},6021:{params:{p1:"cnimz",p2:"grtf"},width:300,height:300,ownerId:211731,containerId:"adfox_160759813599859794"},6030:{params:{p1:"cnimw",p2:"fpaj"},width:300,height:300,ownerId:211731,containerId:"adfox_160759793356277562"},6031:{params:{p1:"cnina",p2:"grtf"},width:300,height:300,ownerId:211731,containerId:"adfox_160759814523661016"},6040:{params:{p1:"cnila",p2:"hatx"},ownerId:211731,containerId:"adfox_16178802810826457",width:300,height:300},6041:{params:{p1:"cnile",p2:"hatx"},width:300,height:300,ownerId:211731,containerId:"adfox_161788037299728964"},6050:{params:{p1:"cotxe",p2:"hatx"},ownerId:211731,containerId:"adfox_161798102082384984",width:300,height:300},6051:{params:{p1:"cotxf",p2:"hatx"},width:300,height:300,ownerId:211731,containerId:"adfox_161798119101195397"},6060:{params:{p1:"cowia",p2:"hatx"},ownerId:211731,containerId:"adfox_161917179634472859",width:300,height:600},6070:{params:{p1:"cowib",p2:"hatx"},ownerId:211731,containerId:"adfox_161917181893012281",width:600,height:300},7060:{params:{p1:"cpdmt",p2:"hatx"},ownerId:211731,containerId:"adfox_162149686771323941",width:300,height:600},7070:{params:{p1:"cpdmu",p2:"hatx"},ownerId:211731,width:600,height:300,containerId:"adfox_162149690270823188"},7061:{params:{p1:"cpdmv",p2:"hatx"},ownerId:211731,width:"300",height:"300",containerId:"adfox_162149692961859809"},10010:{params:{p1:"cjufh",p2:"frfe"},ownerId:211731,minWidth:1,width:1,height:1,containerId:"adfox_158652426386511765"},10020:{params:{p1:"cfsre",p2:"y"},width:300,height:300,ownerId:211731,containerId:"adfox_159776300578812645"},10030:{params:{p1:"cjwgm",p2:"frfe"},ownerId:211731,minWidth:1,width:1,height:1,containerId:"adfox_15869638319907596"},10040:{params:{p1:"cmsrs",p2:"frfe"},ownerId:211731,minWidth:1,width:1,height:1,containerId:"adfox_160277711955552207"},10050:{ownerId:211731,minWidth:1,width:1,height:1,containerId:"adfox_156026294155411287",params:{p1:"cfchx",p2:"frfe"}}}};function Gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(24812);var Wr=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;h()(this,a);var n=(t=r.call(this,e)).props,o=n.subCounter,i=n.containerId;return t.subContainerId=i,o&&(t.subContainerId="".concat(i,"_").concat(o)),t.state={isLoaded:!1},t.reloadAdFox=t.reloadAdFox.bind(y()(t)),t}return g()(a,[{key:"componentDidMount",value:function(){this.loadAdFox()}},{key:"loadAdFox",value:function(){var e=this,t=this.props,n=t.ownerId,r=t.reload,o=this.props.params,a=this.subContainerId;if("undefined"==typeof window)return null;B.cQ.lazyLoad((function(){return void 0!==window.Ya&&void 0!==window.Ya.adfoxCode}),(function(){if("undefined"==typeof window||!document.getElementById(a))return null;e.setState({isLoaded:!0},e.props.onLoad),e.headerBidding(),"string"==typeof o&&(o=JSON.parse(o)),window.yaContextCb.push((function(){window.Ya.adfoxCode.create({ownerId:n,containerId:a,params:o})})),r&&setInterval(e.reloadAdFox,1e3*r)}),(function(){console.log("Couldn't load AdFox")}))}},{key:"headerBidding",value:function(){var e=this.props,t=e.containerId,n=e.subCounter,r=this.subContainerId;if(t&&n&&r&&"undefined"!=typeof window&&void 0!==window.Ya&&void 0!==window.Ya.adfoxCode&&void 0!==window.Ya.headerBidding&&void 0!==window.YaHeaderBiddingSettings&&document.getElementById(r)){var o=null,a=null;window.YaHeaderBiddingSettings.adUnits.map((function(e){e.code===t&&(o=Vr({},e)),e.code===r&&(a=Vr({},e))})),!a&&o&&((o=Vr({},o)).code=r,window.Ya.headerBidding.pushAdUnits([o]))}}},{key:"reloadAdFox",value:function(){try{if("undefined"==typeof window||void 0===window.Ya||void 0===window.Ya.adfoxCode||!document.getElementById(this.subContainerId))return;window.Ya.adfoxCode.reload(this.subContainerId)}catch(e){B.qL.promiseHandler("/index.js")(e)}}},{key:"render",value:function(){return o.createElement("div",{id:this.subContainerId,ref:this.props.wrapperRef})}}]),a}(o.PureComponent);k()(Wr,"defaultProps",{ownerId:0,containerId:"",localId:"",subCounter:null,params:{p1:"",p2:"",puid1:"",puid2:"",puid3:"",puid4:"",puid5:"",puid6:""}}),Wr.propTypes={ownerId:j().number,containerId:j().string,localId:j().oneOfType([j().string,j().number]),params:j().oneOfType([j().string,j().object,j().array]),subCounter:j().number,reload:j().number,onLoad:j().func,wrapperRef:j().object};const Yr=Wr;var Kr=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;h()(this,a);var n=(t=r.call(this,e)).props,o=n.subCounter,i=n.criterioId;return t.subContainerId="crt-".concat(i),o&&(t.subContainerId="crt-".concat(i,"_").concat(o)),t.state={isLoaded:!1},t}return g()(a,[{key:"loadAdFox",value:function(){var e=this,t=this.props.criterioId,n=this.subContainerId;if("undefined"==typeof window)return null;B.cQ.lazyLoad((function(){return void 0!==window.Criteo.DisplayAcceptableAdIfAdblocked}),(function(){if("undefined"==typeof window||!document.getElementById(n))return null;e.setState({isLoaded:!0}),window.Criteo=window.Criteo||{},window.Criteo.events=window.Criteo.events||[],window.Criteo.events.push((function(){window.Criteo.DisplayAcceptableAdIfAdblocked({zoneid:t,containerid:n,overrideZoneFloor:!1}),window.addEventListener("message",(function(e){e.data&&e.data==="criteo-adblock-passback-"+t&&(document.getElementById(n).style.display="none")}),!1)}))}),(function(){console.log("Couldn't load Criterio")}))}},{key:"render",value:function(){return this.state.isLoaded||"undefined"==typeof window||this.loadAdFox(),o.createElement("div",{id:this.subContainerId})}}]),a}(o.PureComponent);k()(Kr,"defaultProps",{ownerId:0,criterioId:"",localId:"",subCounter:null}),Kr.propTypes={criterioId:j().string,localId:j().oneOfType([j().string,j().number]),params:j().oneOfType([j().object,j().array]),subCounter:j().number};const zr=Kr;function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xr=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;h()(this,a),t=r.call(this,e),k()(y()(t),"handleLoad",(function(){try{var e=t.wrapperRef.current;if(!t.props.isResize||!e)return;var n=new ResizeObserver((function(e){var r=ir()(e,1)[0].borderBoxSize[0].blockSize;r>1?(t.setState({adHeight:r}),n.disconnect()):setTimeout((function(){n.disconnect()}),7e3)}));n.observe(e)}catch(e){B.qL.promiseHandler("/index.js")(e)}})),k()(y()(t),"handleShow",(function(){t.timeOut&&clearTimeout(t.timeOut);var e=t.adBlockConfig,n=e.minWidth,r=e.maxWidth;t.timeOut=setTimeout((function(){var e=!0;if(n>=0||r>=0){var o=window,a=document,i=a.documentElement,s=a.getElementsByTagName("body")[0],c=o.innerWidth||i.clientWidth||s.clientWidth;(c<n&&n>=0||c>r&&r>=0)&&(e=!1)}t.setState({isSuitableWidth:e})}),70)})),k()(y()(t),"timeOut",null);var n=t.props,i=n.siteBuilder,s=n.adId,c=n.deviceType;return t.adBlockConfig=qr()(L()(Zr,"ad.".concat(s),{}),L()(i,"adFox.".concat(s),{})),t.wrapperRef=o.createRef(),t.state={isSuitableWidth:L()(t.adBlockConfig,"devices",[]).includes(c),adHeight:null},t}return g()(a,[{key:"componentDidMount",value:function(){if(this.props.hideAdBlocks)return null;this.handleShow(),window.addEventListener("resize",this.handleShow)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleShow)}},{key:"render",value:function(){var e=this.props,t=e.adId,n=e.className,r=e.subCounter,a=e.isAdBlockerActive,i=e.reload,s=e.deviceType,c=e.isDebug,l=e.hideAdBlocks,u=this.state,p=u.isSuitableWidth,d=u.adHeight,m=this.adBlockConfig,f=m.width,h=m.height,_=m.ymGoal;if(l)return null;var g=Jr(Jr({},f&&{maxWidth:f+"px"}),h&&"auto"!==h&&Jr(Jr({},!(null!==d)&&{height:h+"px"}),{},{maxHeight:h+"px"})),v={adfox:!0,hidden:!p,"test-ad-block":c};n&&(v[n]=!0);var y=this.adBlockConfig.containerId;return r&&(y="".concat(y,"_").concat(r)),o.createElement("div",{id:"wrapper_".concat(y),className:M()(v),style:g,onClick:function(){_&&B.gy.ym("reachGoal",_)}},c&&p&&o.createElement("div",null,o.createElement("p",null,"Ad Block ",t),o.createElement("p",null,"Ad Block Type: ",a?"Criterio":"AdFox"),o.createElement("p",null,"Params: ",JSON.stringify(this.adBlockConfig)),o.createElement("p",null,"Device Type: ",s)),!c&&a&&p&&o.createElement(zr,Fr()({localId:t,subCounter:r},this.adBlockConfig)),!c&&!a&&p&&o.createElement(Yr,Fr()({wrapperRef:this.wrapperRef,onLoad:this.handleLoad,localId:t,subCounter:r,reload:i},this.adBlockConfig)))}}]),a}(o.PureComponent);Xr.defaultProps={adId:null,subCounter:null,className:null},Xr.propTypes={siteBuilder:j().object,adId:j().oneOfType([j().number,j().string]),subCounter:j().number,className:j().string,ymGoal:j().string,isAdBlockerActive:j().bool,reload:j().number,deviceType:j().string,isResize:j().bool,hideAdBlocks:j().bool,isDebug:j().bool};const Qr=(0,i.$j)((function(e){var t,n;return{isAdBlockerActive:L()(e,"app.isAdBlockerActive"),deviceType:L()(e,"app.req.deviceType"),siteBuilder:L()(e,"app.siteBuilder")||{},isDebug:null==e||null===(t=e.app)||void 0===t?void 0:t.disableAdFox,hideAdBlocks:null==e||null===(n=e.app)||void 0===n?void 0:n.hideAdBlocks}}))(Xr);var eo=n(87426);const to=function(e){E()(s,e);var t,n,r,a,i=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S()(r);if(a){var n=S()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O()(this,e)});function s(e){var t;return h()(this,s),(t=i.call(this,e)).state={show:!1},t}return g()(s,[{key:"componentDidMount",value:function(){var e=this,t=window.innerWidth-(document.documentElement.clientWidth||document.body.clientWidth);document.documentElement.style.paddingRight=t+"px",setTimeout((function(){var t=B.M0.canView("APP_FULLSCREEN_PROMO");t&&(e.setState({show:t}),B.M0.setView("APP_FULLSCREEN_PROMO"),B.gy.ym("reachGoal","show_full_screen_mt"))}),2e3)}},{key:"app",value:(n=R()(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.documentElement.style.overflowY="auto",document.documentElement.style.paddingRight="auto",document.documentElement.style.overscrollBehaviorY="none",e.next=5,B.M0.setView("APP_FULLSCREEN_PROMO");case 5:window.location.href="https://k41tv.app.link/mt-messenger-5";case 6:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"close",value:(t=R()(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.documentElement.style.paddingRight="auto",e.next=3,B.M0.setView("APP_FULLSCREEN_PROMO");case 3:this.setState({show:!1});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this;return this.state.show?o.createElement(o.Fragment,null,o.createElement("div",{className:"app-promotion-fullscreen"},o.createElement("div",{className:"app-promotion-fullscreen__banner"},o.createElement("i",{className:"app-promotion-fullscreen__close",onClick:function(){e.close()}}),o.createElement("h3",{className:"app-promotion-fullscreen__title"},"МирТесен — читайте,",o.createElement("br",null)," дружите, общайтесь!"),o.createElement("div",{className:"app-promotion-fullscreen__description"},"Ваша социальная сеть — знакомства, друзья, общение и новостная лента")),o.createElement("div",{className:"app-promotion-fullscreen__actions"},o.createElement(eo.Z,{href:"https://k41tv.app.link/mt-messenger-5",extraClasses:"app-promotion-fullscreen__actions-download",icon:"logo-sm",onClick:function(t){t.preventDefault(),B.gy.ym("reachGoal","click_full_screen_mt"),e.app()},label:"Перейти в приложение"}),o.createElement(eo.Z,{color:"secondary",type:"button",extraClasses:"app-promotion-fullscreen__actions-close",onClick:function(){e.close()},label:"Продолжить на сайте"}))),o.createElement("div",{style:{opacity:0,position:"absolute",width:"1px",height:"1px"}},o.createElement(Qr,{adId:10030}))):null}}]),s}(o.PureComponent);const no=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),(t=r.call(this,e)).state={currentMessage:null},t.messagePool=[],t.messageTimer=null,t.poolTimer=null,t.autoClose=4,t.hideCurrentMessage=t.hideCurrentMessage.bind(y()(t)),t.handleGetMessage=t.handleGetMessage.bind(y()(t)),t.handlePool=t.handlePool.bind(y()(t)),t}return g()(a,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleGetMessage,!1),this.poolTimer=setInterval(this.handlePool,300)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleGetMessage),clearTimeout(this.messageTimer),clearInterval(this.poolTimer)}},{key:"handlePool",value:function(){var e=this,t=this.state.currentMessage;0===this.messagePool.length||t||((t=this.messagePool.shift()).autoClose=t.autoClose||this.autoClose,this.setState({currentMessage:t},(function(){e.messageTimer=setTimeout(e.hideCurrentMessage,1e3*(t.autoClose+1.2))})))}},{key:"handleGetMessage",value:function(e){var t=e.data,n=t.type,r=t.text,o=t.className,a=t.autoClose;"MT_APP_SHOW_SYSTEM_POPUP"===n&&this.messagePool.push({text:r,autoClose:a,className:o})}},{key:"hideCurrentMessage",value:function(){this.setState({currentMessage:null})}},{key:"render",value:function(){var e=this.state.currentMessage;if(!e)return null;var t=e.className,n=void 0===t?"":t,r=e.text,a=void 0===r?"":r,i=e.autoClose,s=void 0===i?10:i;return o.createElement(B.zX,{className:n,autoClose:s},o.createElement("div",{dangerouslySetInnerHTML:{__html:a}}))}}]),a}(o.PureComponent);var ro=n(50008),oo=n.n(ro);n(60285),n(15306);var ao=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"hasYmGoal",(function(e){return["new_userpost","new_message","new_poll_vote","new_like","new_comment"].indexOf(e)>-1})),t.state={currentMessage:null,isMessengerPage:null},t.messagePool=[],t.messageTimer=null,t.poolTimer=null,t.autoClose=60,t.hideCurrentMessage=t.hideCurrentMessage.bind(y()(t)),t.handleGetMessage=t.handleGetMessage.bind(y()(t)),t.handlePool=t.handlePool.bind(y()(t)),t}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props.userId;if(e&&(B.x0.subscribe("navigation_update_"+e,this.handleGetMessage),window.addEventListener("message",this.handleGetMessage,!1)),this.poolTimer=setInterval(this.handlePool,2e3),"undefined"!=typeof window){var t=new URL(document.URL),n=t.pathname,r=t.host;this.setState({isMessengerPage:"/messenger"===n&&/chat\.mirtesen\.(mt)|(ru)/.test(r)})}}},{key:"componentDidUpdate",value:function(e){var t=this.props.userId,n=e.userId;"undefined"!=typeof window&&n!==t&&(n&&B.x0.unsubscribe("navigation_update_"+n,this.handleGetMessage),t&&B.x0.subscribe("navigation_update_"+t,this.handleGetMessage))}},{key:"componentWillUnmount",value:function(){var e=this.props.userId;e&&(B.x0.unsubscribe("navigation_update_"+e,this.handleGetMessage),window.removeEventListener("message",this.handleGetMessage)),clearTimeout(this.messageTimer),clearInterval(this.poolTimer)}},{key:"handlePool",value:function(){var e=this,t=this.state.currentMessage;0===this.messagePool.length||t||this.setState({currentMessage:this.messagePool.shift()},(function(){e.messageTimer=setTimeout(e.hideCurrentMessage,1e3*e.autoClose)}))}},{key:"handleGetMessage",value:function(e){var t,n,r=null;if("MT_APP_SHOW_NOTIFICATION_POPUP"===(null==e||null===(t=e.data)||void 0===t?void 0:t.type)?(r=e.data.data).event=e.data.event:"object"===oo()(e)&&"number"==typeof e.count&&["new_reply","new_comment_in_commented_post","new_comment","new_fame_action","new_like","new_friend","accept_friend","new_userpost","new_repost","new_poll_vote","new_message"].includes(e.event)&&((r=e.data).event=e.event),wr.isDeveloper()&&"object"===oo()(e)&&"number"==typeof e.count&&(console.log("--socket.io message--"),console.log(e)),r){var o=r,a=o.event,i=o.person_img,s=o.person_name,c=o.obj_link,l=o.obj_title,u=o.fame_action,p=o.action,d=o.msg;n={event:a,personImg:i,personName:s,objLink:c,objTitle:l,objExtraMessage:o.feedback_text,objSuffixMessage:o.suffix,fameAction:u,action:p,msg:d},this.messagePool.push(n)}}},{key:"hideCurrentMessage",value:function(){var e=this;setTimeout((function(){clearTimeout(e.messageTimer),e.setState({currentMessage:null})}),2e3)}},{key:"render",value:function(){var e=this,t=this.state.currentMessage;if(!t)return null;var n=t.personName,r=t.personImg,a=t.fameAction,i=t.msg,s=t.event,c=t.objExtraMessage,l=t.objSuffixMessage,u=t.objLink,p=void 0===u?"":u,d=t.action,m=void 0===d?null:d,f=t.objTitle;-1!==(p=p.replace(/utm_medium=[a-z0-9_]+/i,"").replace("?&","?").replace(/(&|\?)+$/,"")).indexOf("?")?p+="&utm_medium=push_system":p+="?utm_medium=push_system",!m&&["new_reply","new_userpost","new_repost","new_poll_vote"].includes(s)&&(m=s),f&&(f=f.replace(/(&#171;|&#187;)/g,'"'),f="&#171;"+B.E6.truncateString(f,32)+"&#187;");var h=M()(k()({"notification-popup_fame":!0,notification:!0},"notification-popup_".concat(m),m&&"new_like"===s)),_="",g=!this.state.isMessengerPage||"new_message"!==s;switch(s){case"new_reply":case"new_comment_in_commented_post":case"new_comment":case"new_friend":case"accept_friend":case"new_like":case"new_userpost":case"new_repost":case"new_poll_vote":case"new_message":_=o.createElement(B.sH,{className:h,autoClose:this.autoClose,onClose:function(){e.hideCurrentMessage()},onClick:function(t){t.target.className.includes("popup-close")||(e.hasYmGoal(s)&&B.gy.ym("reachGoal","click_push_"+s),g?window.open(p,"_blank"):window.location.href=p,e.hideCurrentMessage())},buttons:[{type:"submit",title:"Посмотреть"}]},o.createElement(B.Hl,{logoInfo:{userName:n,logoImg:r,logoClassName:"avatar",title:n}}),m&&o.createElement("i",{className:"emoji emoji_".concat(m),title:m}),o.createElement("div",{className:"title"},o.createElement("i",null,n)," ",i,f&&o.createElement(o.Fragment,null," ",o.createElement("i",{dangerouslySetInnerHTML:{__html:f}})),(c||l)&&o.createElement(o.Fragment,null,": ",o.createElement("span",{dangerouslySetInnerHTML:{__html:c||l}}))));break;case"new_fame_action":var v="//mirtesen.ru/static/images/v4/inventory/reactions/".concat(a,".svg");_=o.createElement(B.sH,{className:h,autoClose:this.autoClose,onClose:function(){e.hideCurrentMessage()},onClick:function(t){t.target.className.includes("popup-close")||(g?window.open(p,"_blank"):window.location.href=p,e.hideCurrentMessage())},buttons:[{type:"submit",title:"Посмотреть"}]},o.createElement("img",{className:"logo",src:v,alt:a}),o.createElement("div",{className:"title"},o.createElement("i",null,n)," ",i,f&&o.createElement(o.Fragment,null," ",o.createElement("i",{dangerouslySetInnerHTML:{__html:f}})),(c||l)&&o.createElement(o.Fragment,null,": ",o.createElement("span",{dangerouslySetInnerHTML:{__html:c||l}}))));break;default:_=null}return _}}]),a}(o.PureComponent);ao.propTypes={userId:j().number};const io=ao;n(24603),n(39714),n(26833),n(5212);var so=n(84564),co=n.n(so);const lo={rev:"1.01",head:{meta:['<meta http-equiv="X-UA-Compatible" content="IE=edge"/>','<meta name="yandex_direct" content="1"/>','<meta name="yandex-verification" content=""/>']},layout:{props:{},style:{},elements:{}},header:{props:{},style:{},elements:{}},footer:{props:{},style:{},elements:{}},veryLeftColumn:{props:{},style:{},elements:{}},veryRightColumn:{props:{},style:{},elements:{}},mainLogo:{props:{image:null},style:{}},mainHeader:{props:{title:null,slogan:null},style:{}},mainMenu:{items:[{url:"/",title:"Главная",active:!0}]},mainContent:{props:{},style:{},elements:{}},mainDomain:"mirtesen.ru",yaMetricsGlobal:{ver:1,params:{id:91685,webvisor:!1,clickmap:!0,trackLinks:!0,type:1,accurateTrackBounce:!0},userParams:{interests:"cooking"}},smi2:{blockId:82631,siteId:null}};var uo="/index.js";function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fo=function(){function e(){h()(this,e)}return g()(e,null,[{key:"setServerConfig",value:function(e,t){return"object"===oo()(t)&&(t=JSON.stringify(t)),t=JSON.stringify(t),(0,B.$2)({project:"blog",body:JSON.stringify({query:"mutation\n                    {\n                      setSiteConfig(id: ".concat(e,", json: ").concat(t,")\n                    }")})}).catch(B.qL.promiseHandler(uo))}},{key:"setStaticPage",value:function(e,t){var n=t.pageId,r=t.seoDescription,o=t.seoKeywords,a=t.seoTitle,i=JSON.stringify(t.pageUrl),s=JSON.stringify(t.pageTitle),c=JSON.stringify(t.pageHtml),l=JSON.stringify({seoDescription:r,seoKeywords:o,seoTitle:a}).replace(/"/gi,'\\"');return(0,B.$2)({project:"blog",body:JSON.stringify({query:"mutation\n                    {\n                        setStaticPage(\n                            siteId: ".concat(e,",\n                            ").concat(n?"pageId: ".concat(n):"",",\n                            pageUrl: ").concat(i,",\n                            pageTitle: ").concat(s,",\n                            pageHtml: ").concat(c,',\n                            seoData: "').concat(l,'"\n                        )\n                    }')})}).catch(B.qL.promiseHandler(uo))}},{key:"getStaticPage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,B.$2)(mo(mo({},{project:"blog",body:JSON.stringify({query:"query\n                    {\n                        getStaticPage(siteId: ".concat(e,', pageId: "').concat(t,'")\n                    }')})}),n)).then((function(e){return JSON.parse(e.data.getStaticPage)})).catch(B.qL.promiseHandler(uo))}},{key:"deleteStaticPage",value:function(e){return(0,B.$2)({project:"blog",body:JSON.stringify({query:"mutation\n                    {\n                        deleteStaticPage(pageId: ".concat(e,")\n                    }")})}).catch(B.qL.promiseHandler(uo))}}]),e}();k()(fo,"getConfig",(function(e){return fo.getServerConfig(e).then((function(e){return mo(mo({},fo.getDefaultConfig()),e)}))})),k()(fo,"getDefaultConfig",(function(){return lo})),k()(fo,"getServerConfig",(function(e){return(0,B.$2)({project:"blog",body:JSON.stringify({query:"query\n                {\n                  siteConfig(id: ".concat(e,")\n                }")})}).then((function(e){return JSON.parse(e.data.siteConfig)})).catch(B.qL.promiseHandler(uo))}));const ho=fo;function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vo=function(e){E()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function o(){return h()(this,o),r.apply(this,arguments)}return g()(o,null,[{key:"getMtHost",value:function(e){return"mirtesen.ru"!==vn().mainDomain&&(e=e.replace(new RegExp(".".concat(vn().mainDomain,"$"),"i"),".mirtesen.ru")),e}},{key:"getSite",value:function(e,t,n){var r,a=this,i=ho.getDefaultConfig();return r=B.E6.isNumeric(e)?o.getById(e,{res:n}):o.getByUrl(e,!0,{res:n}),Promise.resolve(r).then((function(e){var r;if(!e)throw new Error("Couldn't determine the site");e.site&&(e.site.mainDomain=e.site.url,e.site.url=t.originalProtocol+"://"+a.getMtHost(t.get("host"))+t.originalUrl),e.siteBuilder&&"object"===oo()(JSON.parse(e.siteBuilder))?e.siteBuilder=go(go({},i),JSON.parse(e.siteBuilder)):e.siteBuilder=go({},i),e.originalUrl=t.originalUrl;var s=L()(e,"siteBuilder.mainMenu.items",[]);"object"!==oo()(s)||Array.isArray(s)||(e.siteBuilder.mainMenu.items=Object.values(s));var c=yr(n);e.hideAdBlocks=e.hideAdBlocks||c.app.hideAdBlocks||(null==e||null===(r=e.site)||void 0===r?void 0:r.hideBanners);var l=qr()(B.Gu,c.leftMenu||{});l.blogMenu=o._getBlogMenu(e,t),n.locals.initialState=go(go({},c),{app:go(go({},c.app),e),leftMenu:l})})).catch(B.qL.promiseHandler("/index.js"))}},{key:"addUtmToUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"!=typeof e||e.indexOf("utm_referrer=mirtesen.ru")>-1||vn().glagolDomains.some((function(t){return e.indexOf(t)>-1}))||o.isSiteMatch("glagolDomains")?e:e.indexOf("?")>-1?"".concat(e,"&utm_referrer=mirtesen.ru"):"".concat(e,"?utm_referrer=mirtesen.ru")}}]),o}(B.Tt);k()(vo,"_getBlogMenu",(function(e,t){var n=go({},B.Gu.blogMenu),r=e.siteBuilder.mainMenu||{};if(0===Object.keys(r).length)return null;r=r.items||[];for(var o=[],a=0;a<r.length;a++)r[a].selected&&(n.activeItem=a),r[a].secondary=!1,r[a].width=0,o.push(r[a]);if(!n.activeItem)for(var i=new(co())(t.url),s=decodeURIComponent(i.pathname.toLowerCase()),c=t.hostname.toLowerCase(),l=0;l<o.length;l++){var u=o[l],p=u.type||null,d=u.url||null;if(d&&p){var m=new(co())(d.toLowerCase()),f=decodeURIComponent(m.pathname.toLowerCase()),h=m.host.toLowerCase();if(s===f&&("url"!==p||"url"===p&&(!h||c===h))){u.selected=!0,n.activeItem=l;break}}}return n.menuItems=o,n})),k()(vo,"isSiteMatch",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=L()(vn(),e,[]);if(t)return n.includes(t.toLowerCase());var r=B.Bz.getStore();if(r){var o=r.getState(),a=o.app,i=L()(a,"req.host");return!!i&&n.includes(i.toLowerCase())}}));const yo=vo;function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Po=function(e){var t=e.scope,n=e.mobileApp,r=e.setHeader,a=(0,o.useState)(!1),i=ir()(a,2),s=i[0],c=i[1],l=(0,o.useState)(""),u=ir()(l,2),p=u[0],m=u[1],f=(0,o.useState)(0),h=ir()(f,2),_=h[0],g=h[1],v=(0,o.useRef)(),y=(0,o.useRef)(null);(0,o.useEffect)((function(){var e=vn().leftSidebarBreakpoints,n=vn().headerSearch,o=vn().glagolDomain;r(Eo(Eo({searchConfig:n,settingsEnabled:!1,sidebarEnabled:!0,sidebarBreakpoint:e[t]?e[t]:e.default},"platform"===t&&{logoConfig:{title:"Перейти на главную страницу",imageStyle:{large:{backgroundImage:"url(https://static.mtml.ru/images/logos/logo_main.svg)",width:"139px"}}},extraLogoConfig:{url:"//info.mirtesen.ru",title:"Перейти на главную страницу О компании - Миртесен",imageStyle:{large:{width:"118px",backgroundImage:'url("https://static.mtml.ru/images/logos/logo_company.svg")'}}}}),yo.isSiteMatch("glagolDomains")&&{logoConfig:{title:"Перейти на главную страницу",imageStyle:{large:{backgroundImage:"url(https://static.mtml.ru/images/logos/logo_main.svg)",width:"139px"}}},extraLogoConfig:{url:"//"+o,title:"Перейти на главную страницу - ГлагоL",imageStyle:{large:{width:"75px",backgroundImage:'url("https://static.mtml.ru/images/logos/logo_glagol.svg")'}}}}))}),[]),(0,o.useEffect)((function(){return v.current=0,window.addEventListener("scroll",b),function(){return window.removeEventListener("scroll",b)}}),[]),(0,o.useEffect)((function(){return E(),window.addEventListener("resize",E),function(){return window.removeEventListener("resize",E)}}),[]);var b=d()((function(){var e=window.pageYOffset,t=v.current>e?"top":"down";if(!(Math.abs(v.current-e)<60)){var n=y.current.getBoundingClientRect().bottom+60,r={type:"MT_APP_STICKY_HEADER"};r.data="down"===t&&e>n?{sticky:0}:{sticky:70},window.postMessage(r,"*"),"top"===t&&e<=0&&c(!1),"down"===t&&e>n&&c(!0),m(t),v.current=e}}),80),E=d()((function(){var e;g(null==y||null===(e=y.current)||void 0===e?void 0:e.offsetWidth)}),80);return!n&&o.createElement("header",{id:"header",ref:y},o.createElement("div",{className:M()({"header-wrapper":!0,"scrolled-top":s&&"top"===p,"scrolled-down":s&&"down"===p}),style:{width:_?"".concat(_,"px"):"auto"}},o.createElement(Re.h4,null)))};Po.propTypes={scope:j().string,mobileApp:j().bool,setHeader:j().func};const Oo=(0,i.$j)((function(e){var t,n,r;return{scope:(null==e||null===(t=e.app)||void 0===t?void 0:t.scope)||"blog",mobileApp:(null==e||null===(n=e.app)||void 0===n||null===(r=n.req)||void 0===r?void 0:r.mobileApp)||!1}}),(function(e){return{setHeader:function(t){e((0,Re.Ec)(t))}}}))((0,o.memo)((0,B.Pf)(Po,"header")));n(29254);var wo=n(64593),So=n(30653),To=function(){function e(){h()(this,e)}return g()(e,null,[{key:"getMeta",value:function(e,t){var n,r,o,a,i,s,c,l,u,p,d;switch(e){case"index":d={title:this.getIndexTitle(t.tab),description:this.getIndexDescription(t.tab)};break;case"topic":d={title:this.getTopicTitle(t.mainPost,t.topic),description:this.getTopicDescription(t.topicKey,t.isGlagol,t.mainPost),canonical:this.getTopicCanonical(vn(),t.topicKey,t.isGlagol)};break;case"profile":d={title:this.getProfileTitle(t.mainPost,t.person,t.tab),description:this.getProfileDescription(t.mainPost,t.person,t.tab),link:null===(n=t.mainPost)||void 0===n?void 0:n.url,image:null===(r=t.mainPost)||void 0===r||null===(o=r.images)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.url};break;case"dispute":d={title:this.getDisputeTitle(t.blogPost),description:this.getPostDescription(t.blogPost),link:t.seoUrl,image:(null===(i=t.blogPost.images)||void 0===i||null===(s=i[0])||void 0===s?void 0:s.url)||"",canonical:t.seoUrl};break;case"blog":d={title:B.cQ.stripTags("".concat(t.blogPost.title," - ").concat(t.display_name)+" - ".concat(this.getFormattedDate(t.blogPost.date))+" - ".concat(t.blogPost.id)),description:this.getPostDescription(t.blogPost),link:t.blogPost.canonical_url||t.blogPost.url,image:(null===(c=t.blogPost.images)||void 0===c||null===(l=c[0])||void 0===l?void 0:l.url)||"",canonical:t.blogPost.canonical_url};break;case"chats":d={title:"Публичные чаты",description:"Секс, политика, сад, рецепты, знакомства, семья... \n                    Чаты, доступные для всех пользователей МирТесен. \n                    Жмите на то, что вам понравилось, присоединяйтесь, \n                    будьте активны, знакомьтесь и общайтесь с единомышленниками.\n                    Создать свой чат по любой теме — нажимайте кнопку ниже:"};break;case"bloggers":d={title:"Блогеры",description:"Читайте и комментируйте самые интересные авторские посты, \n                    репортажи и интервью по всем общественно-значимым темам"};break;case"polls":d={title:"Опросы",description:"Голосуйте в созданных опросах МирТесен \n                    и придумывайте свои варианты вопросов и ответов на этой странице"};break;case"popular":d={title:this.getPopularTitle(t.isMostCommented),description:this.getPopularDescription(t.isMostCommented)};break;case"pad":d={title:"".concat(null===(u=t.mainPost)||void 0===u?void 0:u.title," - ").concat(t.topic.title),description:"".concat(null===(p=t.mainPost)||void 0===p?void 0:p.preview_text," - Тематические каналы и сообщества,\n                    личные сообщения и чаты, лента рекомендаций и стены друзей, официальный мессенджер,\n                    собственные сайты и подписчики, эксклюзив от редакции ГлагоL")};break;case"site":d={title:this.getSiteTitle(t.page,t.siteTitle,t.section),description:this.getSiteDescription(t.page,t.siteTitle,t.section)};break;case"friends":d={title:this.getFriendsTitle(t.tab,t.person),description:this.getFriendsDescription(t.tab,t.person)};break;default:d={title:this.defaultTitle}}return d.title=d.title+this.commonTitle,d}},{key:"getTopicTitle",value:function(e,t){return null!=e&&e.title?"".concat(e.title,"\n             - ").concat(this.getFormattedDate(e.date),"\n             - ").concat(null==t?void 0:t.title):null!=t&&t.title?t.title:"Наиболее популярные новости"}},{key:"getTopicDescription",value:function(e,t,n){return t?"ГлагоL — это новое медиа на базе платформы МирТесен. Основная миссия: информировать, просвещать и развлекать аудиторию. Основной продукт для конечного пользователя — качественные новости на все самые острые темы, интересные и полезные материалы на самые важные темы. Мы считаем, что краткость — сестра таланта, — поэтому короткие новости будут основой нашего медиа. Большие тексты тоже не будут длинными непонятными полотнищами, которые никто не дочитывает. Также надеемся на плодотворное сотрудничество с разными брендами в плане спецпроектов.":{coronavirus:"Последние новости и статьи по теме симптомов коронавируса, распространения коронавируса в России и мире, возможности заразиться коронавирусом человеку или животном и по статистике заражения и смерти от коронавируса.",crysis:"Кризис в экономике России и мира в 2020 году по версии медиа ГлагоL — курс доллара, стоимость нефти, падение цен на нефть и ценные бумаги, курс нефти онлайн, прогнозы состояния финансов."}[e]||"".concat(null==n?void 0:n.preview_text," - ").concat(this.getFormattedDate(n.date)," - Тематические каналы и сообщества,\n            личные сообщения и чаты, лента рекомендаций и стены друзей, официальный мессенджер,\n            собственные сайты и подписчики, эксклюзив от редакции ГлагоL")}},{key:"getTopicCanonical",value:function(e,t,n){return"".concat(e.mainProto,"://")+(n?e.glagolDomain:e.mainDomain)+"/topic/".concat(t)}},{key:"getProfileTitle",value:function(e,t,n){var r="".concat(t.display_name," - ").concat(t.id),o="Профиль - ".concat(r),a={blogposts:"Публикации - ".concat(r),comments:"Комментарии - ".concat(r),profile:"Профиль - ".concat(r),sites:"Сайты - ".concat(r),photos:"Фото - ".concat(r),"private-photos":"Фото пользователя ".concat(r),videos:"Видео - ".concat(r),places:"Места пользователя ".concat(r),events:"События пользователя ".concat(r)}[n];return e?(r=" - ".concat(this.getFormattedDate(e.date)," - ").concat(t.display_name," - ").concat(t.id),e.title?e.title+r:e.previewText?B.E6.truncateString(e.previewText,30)+r:e.from_id&&e.date?this.getPostType(e)+r:o):null!=a?a:o}},{key:"getProfileDescription",value:function(e,t,n){var r=" пользователя ".concat(t.display_name," - ").concat(t.id,"\n             - в медиаплатформе МирТесен. Подписывайтесь, читайте, комментируйте, ставьте лайки"),o="Профиль"+r,a={blogposts:"Список публикаций ".concat(r),comments:"Комментарии ".concat(r),profile:"Профиль пользователя ".concat(r),sites:"Список сайтов ".concat(r),photos:"Фотографии ".concat(r),videos:"Видеозаписи ".concat(r)}[n];return e?e.previewText?this.getPostDescription(e):"".concat(this.getPostType(e),"\n         - ").concat(t.display_name,"\n         - ").concat(t.id,"\n         - ").concat(this.getFormattedDate(e.date),"\n         - Медиаплатформа МирТесен. Подписывайтесь, читайте, комментируйте, ставьте лайки"):null!=a?a:o}},{key:"getDisputeTitle",value:function(e){return e?B.cQ.stripTags("".concat(e.title," - Обсуждение статьи \n        - ").concat(this.getFormattedDate(e.date)," \n        - ").concat(e.id)):this.defaultTitle}},{key:"getFormattedDate",value:function(e){return c().unix(e).format("D MMMM")}},{key:"getPostDescription",value:function(e){return B.cQ.stripTags("".concat(e.preview_text||e.preview||e.previewText)+" - ".concat(this.getFormattedDate(e.date))+" - ".concat(e.id)+" ".concat(this.commonTitle))}},{key:"getPostType",value:function(e){var t,n,r,o;return e.foreignPollId?"Опрос":null!==(t=e.images)&&void 0!==t&&t.length&&null!==(n=e.videos)&&void 0!==n&&n.length?"Фото и видео":null!==(r=e.images)&&void 0!==r&&r.length?"Фото":null!==(o=e.videos)&&void 0!==o&&o.length?"Видео":"МирТесен"}},{key:"getIndexTitle",value:function(e){return{main:"Лента - Новости",top:"Лента - Новости - Посты пользователей для вывода в ТОП",new:"Лента - Новости - Выбранные нейросетью Neuron посты","user-posts":"Глас народа - Самые свежие посты пользователей",feed:"Друзья - Фото - Лента"}[e]}},{key:"getIndexDescription",value:function(e){return{main:"Лента - Новости - MirTesen.ru - Главная страница рекомендательной социальной сети. \n            Следите за самой интересной и актуальной информацией, найдите собеседников по любой важной для вас теме. \n            Создайте свой сайт и соберите на нем множество читателей. \n            Участвуйте в социальной сети и будьте всегда в курсе событий.",top:"Лента - Новости - Mirtesen.ru - Страница с постами пользователей для вывода в ТОП.\n            Рекомендательная социальная сеть. Следите за самой интересной и актуальной информацией, \n            найдите собеседников по любой важной для вас теме.",new:"Лента - Новости - Mirtesen.ru - Страница с выбранными нейросетью Neuron постами.\n            Рекомендательная социальная сеть.\n            Следите за самой интересной и актуальной информацией, найдите собеседников по любой важной для вас теме.","user-posts":"Пользователи МирТесен пишут посты в реальном времени - читать. \n            Поздравления с днем рождения, комментарии и лайки, личные сообщения и чаты, \n            актуальные репосты и собственные идеи и мысли",feed:"Лента - Новости - Mirtesen.ru - Страница со свежими постами друзей. \n            Рекомендательная социальная сеть МирТесен. Следите за самой интересной и актуальной информацией, \n            найдите собеседников по любой важной для вас теме."}[e]}},{key:"getPopularTitle",value:function(e){return e?"Самые обсуждаемые новости":"Наиболее популярные новости"}},{key:"getPopularDescription",value:function(e){return e?"Лента наиболее обсуждаемых новостей в медиаплатформе МирТесен. \n                Диспуты, споры, дискуссии, прения. Подписывайтесь, читайте, комментируйте, ставьте лайки.":"Лента наиболее популярных новостей в медиаплатформе МирТесен. \n                Подписывайтесь, читайте, комментируйте, ставьте лайки."}},{key:"getSiteTitle",value:function(e,t,n){return{sections:"".concat(n," - ").concat(t),mainPage:"".concat(t," - Главная страница"),blogs:"".concat(t," - Список материалов"),blogCommentPage:"".concat(t," - Комментарии"),interesting:"".concat(t," - Лучшее"),commented:"".concat(t," - Обсуждаемое"),people:"".concat(t," - Список участников")}[e]}},{key:"getSiteDescription",value:function(e,t,n){var r='"'.concat(t,'" в медиаплатформе МирТесен. Подписывайтесь, читайте, комментируйте, ставьте лайки.');return{sections:'Раздел "'.concat(n,'" тематического канала ').concat(r),mainPage:"Главная страница тематического канала ".concat(r),blogs:'Свежие материалы тематического канала "'.concat(t,'"" в медиаплатформе МирТесен. \n            Подписывайтесь, читайте, комментируйте, ставьте лайки'),blogCommentPage:"Комментарии и обсуждения материалов тематического канала ".concat(r),interesting:'Самые популярные материалы тематического канала "'.concat(t,'" в медиаплатформе МирТесен. \n            Интересное, лучшее, избранное и увлекательное'),commented:"Самые обсуждаемые материалы тематического канала ".concat(t," в медиаплатформе МирТесен. \n            Диспуты, комментарии, споры, дискуссии, прения"),people:"Список участников тематического канала ".concat(r)}[e]}},{key:"getFriendsTitle",value:function(e,t){var n="".concat(t.display_name," - медиаплатформа МирТесен - ").concat(t.id);return{friends:"Друзья - ".concat(t.display_name," - ").concat(t.id),"incoming-requests":"Запросы друзей ".concat(n),"outgoing-requests":"Предложения дружбы ".concat(n),recommended:"Рекомендуемые друзья ".concat(n)}[e]}},{key:"getFriendsDescription",value:function(e,t){var n=" пользователя ".concat(t.display_name,"\n        Подписывайтесь, читайте, комментируйте, ставьте лайки.")+" - "+t.id;return{friends:"Список друзей пользователя ".concat(t.display_name," - ").concat(t.id," - в медиаплатформе МирТесен.\n            Подписывайтесь, читайте, комментируйте, ставьте лайки"),"incoming-requests":"Запросы друзей ".concat(n),"outgoing-requests":"Предложения дружбы ".concat(n),recommended:"Рекомендуемые друзья ".concat(n)}[e]}}]),e}();k()(To,"defaultTitle","МирТесен"),k()(To,"commonTitle"," - Медиаплатформа МирТесен");const ko=To;function Io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Co=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"_fixGetParams",(function(e){if(!e)return"";var t=e.replace(/^\?/,"").replace(/utm_.+?=[^&]+&?/gi,"").replace(/mirtesenKey=[^&]+&?/g,"").replace(/mirtesenAuth=[^&]+&?/g,"").replace(/r(1|2)=[^&]+?&/g,"").replace(/rss_mirtesen=[^&]+&?/g,"").replace(/from=[^&]+?&/g,"").replace(/&$/,"");return t&&"?"+t})),e}return g()(a,[{key:"_createTagWithAttrs",value:function(e,t){return o.createElement(e.tag,Fr()({},e.params,{key:t}))}},{key:"_isVisible",value:function(e){return!e.options||!1!==e.options.show}},{key:"_getMainMeta",value:function(e){e=Mo({},e);var t=this.props.app,n=t.scope||null,r=B.Bz.getConfig(),o=B.cQ.getStaticHost(),a=t.site||null,i=t.siteBuilder||null,s=L()(i,"mainHeader.props.title",null),c=L()(i,"mainHeader.props.slogan",null),l=L()(a,"display_name",null),u=L()(a,"slogan",null);e.title=e.title||s||l||"Рекомендательная социальная сеть - медиаплатформа МирТесен","platform"===n&&(e.title=e.title.replace(/ - медиаплатформа МирТесен$/,"")+" - медиаплатформа МирТесен"),e.description=e.description||c||u||"Тематические каналы и сообщества, личные сообщения и чаты, лента рекомендаций и стены друзей, официальный мессенджер, собственные сайты и подписчики, эксклюзив от редакции ГлагоL";var p=e.metaPage;if(e.keywords=e.keywords||"одноклассники, однокурсники, соседи, сослуживцы, мир тесен, земляки, старые друзья, география, блоги домов, события вокруг, социальная сеть, карта, дом, работа, web 2.0",p&&l){var d=ko.getMeta("site",{page:p,section:e.sectionTitle,siteTitle:l}),m=d.title,f=d.description;e.title=m,e.description=f}var h=L()(t,"req.originalUrl"),_=L()(t,"req.host");h&&(h=new(co())(h),e.link=e.link||"".concat(r.mainProto,"://").concat(_).concat(h.pathname)+"".concat(h.query).concat(h.hash),e.index=e.index||"".concat(r.mainProto,"://").concat(_)),e.image=e.image||"".concat(o,"/images/mirtesen.jpg"),a&&a.display_name?e.siteName=a.display_name+" - МирТесен":e.siteName="МирТесен";var g=B.cQ.format99Plus(this.props.newNotifies);return 0!==g&&(e.title="(".concat(g,") ").concat(e.title)),e}},{key:"_getFavicon",value:function(e){e=Mo({},e);var t=this.props.app.scope||null,n=B.cQ.getStaticHost();return e.favicon="blog"===t?[{rel:"icon",href:"/favicon.ico"},{rel:"shortcut icon",href:"/favicon.ico"}]:e.favicon||[{rel:"icon",href:"".concat(n,"/images/favicon/mt.png"),sizes:"64x64",type:"image/png"},{rel:"icon",href:"".concat(n,"/images/favicon/mt.svg"),sizes:"any",type:"image/svg+xml"}],e}},{key:"_getExtraMeta",value:function(e){var t=[],n=this.props.app.scope||null;(e=Mo({},e)).otherMeta=e.otherMeta||[];var r=e,o=r.title,a=r.siteName,i=r.twitterId,s=r.twitterSite,c=r.image,l=r.index,u=r.canonical,p=e,d=p.description,m=p.link;if(!o||!m)return[];if(m=B.E6.fixProtocol(m),m=(m=new(co())(m)).origin+m.pathname+this._fixGetParams(m.query),c){var f=B.E6.fixProtocol(B.E6.cropImage2(c));t.push({tag:"meta",params:{property:"og:image",content:f}},{tag:"meta",params:{property:"og:image:width",content:1200}},{tag:"meta",params:{property:"og:image:height",content:628}},{tag:"meta",params:{property:"og:image:alt",content:o}},{tag:"meta",params:{property:"twitter:image",content:f}},{tag:"meta",params:{property:"vk:image",content:f}},{tag:"link",params:{rel:"image_src",href:f}})}return d&&(d=B.E6.normalizeString(d),t.push({tag:"meta",params:{property:"og:description",content:d}},{tag:"meta",params:{property:"twitter:description",content:d}})),a&&t.push({tag:"meta",params:{property:"og:site_name",content:a}},{tag:"meta",params:{property:"og:site",content:a}}),s&&i&&t.push({tag:"meta",params:{property:"twitter:site",content:s}},{tag:"meta",params:{property:"twitter:site:id",content:i}}),t.push({tag:"meta",params:{property:"og:type",content:"article"}},{tag:"meta",params:{property:"og:url",content:m}},{tag:"meta",params:{property:"og:title",content:o}},{tag:"meta",params:{property:"twitter:card",content:"summary_large_image"}},{tag:"meta",params:{property:"twitter:title",content:o}},{tag:"link",params:{rel:"canonical",href:u||m}}),e.amp&&t.push({tag:"link",params:{rel:"amphtml",href:e.amp}}),"blog"===n&&t.push({tag:"link",params:{rel:"index",href:l}},{tag:"link",params:{rel:"alternate",type:"application/atom+xml",title:a,href:"".concat(l,"/blog/atom")}},{tag:"link",params:{rel:"alternate",type:"application/atom+xml",title:a,href:"".concat(l,"/blog/rss")}}),e.otherMeta=[].concat(F()(e.otherMeta),t),e}},{key:"render",value:function(){var e=this,t=this.props.app,n=t.scope||null,r=t.siteBuilder||null,a=L()(t,"meta",{});a=this._getMainMeta(a),a=this._getFavicon(a),a=this._getExtraMeta(a);var i=[];"blog"===n&&L()(r,"head.meta",[]).forEach((function(e){e.includes('rel="icon"')||e.includes('rel="shortcut icon"')||e.includes('charset="utf-8"')||i.push((0,So.ZP)(e))}));var s=a,c=s.title,l=void 0===c?"":c,u=s.description,p=s.keywords,d=s.favicon,m=s.otherMeta;return o.createElement(wo.q,null,l&&o.createElement("title",null,l),u&&o.createElement("meta",{name:"description",content:B.E6.normalizeString(u)}),p&&o.createElement("meta",{name:"keywords",content:B.E6.normalizeString(p)}),Array.isArray(m)&&m.filter((function(t){return e._isVisible(t)})).map((function(t,n){return e._createTagWithAttrs(t,n)})),Array.isArray(d)&&d.map((function(e,t){return o.createElement("link",{key:t,rel:e.rel,href:e.href,type:e.type||"image/x-icon",sizes:e.sizes||"16x16"})})),i,";")}}]),a}(o.PureComponent);Co.propTypes={app:j().object,newNotifies:j().number};const jo=(0,i.$j)((function(e){var t;return{newNotifies:(null===(t=e.auth)||void 0===t?void 0:t.newNotifies)||0}}))((0,B.Pf)(Co,"head"));n(23123),n(69600);var No=function(e,t){return function(n){n({type:"SECONDARY_HEADER_TOGGLE",block:e,show:t})}},Ro=(n(54678),n(27011)),Ao=n.n(Ro),Do=n(41389),xo=n(6230),Lo=n.n(xo);var Bo=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"setEditorRef",(function(t){t&&(e.editor=t)})),e}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.initState,n=e.type,r=e.image;t({image:r,type:n,isEmpty:!r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.logoEditor,r=t.onToggleEditor,a=t.onScale,i=t.onRotateLeft,s=t.onSaveImage,c=t.onDropImage,l=t.onChangePosition,u=t.onNewImage,p=t.onRemove;return"undefined"!=typeof window&&"undefined"!=typeof navigator&&o.createElement("div",{className:"logo-editor"},o.createElement("svg",{onClick:function(){return r(!1)},style:{width:23,height:23},className:"svg-icon logo-editor__close"},o.createElement("use",{href:"/images/icons.svg#times-circle-solid"})),o.createElement(Do.Z,{onDrop:function(e){return c(e)},noClick:!0,multiple:!1,style:{width:n.width,height:n.height}},(function(){return o.createElement("div",{className:"logo-editor__canvas"},o.createElement(Ao(),{ref:e.setEditorRef,scale:parseFloat(n.scale),width:n.width,height:n.height,position:n.position,onPositionChange:function(e){return l(e)},rotate:parseFloat(n.rotate),borderRadius:parseFloat(n.borderRadius),image:n.image,border:parseFloat(n.border),crossOrigin:"anonymous"}))})),o.createElement("div",{className:"logo-editor__tune"},o.createElement("input",{type:"file",name:"newImage",onChange:function(e){return u(e)}}),o.createElement("div",{className:"logo-editor__scale-rotate"},o.createElement("input",{name:"scale",type:"range",onChange:function(e){return a(e)},min:"1",max:"2",step:"0.01",defaultValue:"1",className:"logo-editor__scale"}),o.createElement("svg",{onClick:function(e){return i(e)},style:{width:23,height:23},className:"svg-icon logo-editor__rotate"},o.createElement("use",{href:"/images/icons.svg#undo"})),o.createElement("svg",{onClick:function(){return p()},style:{width:23,height:23},className:"svg-icon logo-editor__remove"},o.createElement("use",{href:"/images/icons.svg#times-circle-solid"}))),o.createElement("div",{className:"logo-editor__submit"},o.createElement(eo.Z,{onClick:function(){return s(e.editor)},label:"Сохранить"}))))}}]),a}(o.Component);Bo.propTypes={logoEditor:j().object,image:j().string,type:j().string,onToggleEditor:j().func,initState:j().func,onScale:j().func,onRotateLeft:j().func,onChangePosition:j().func,onSaveImage:j().func,onDropImage:j().func,onNewImage:j().func,onRemove:j().func};const Uo=(0,i.$j)((function(e){return{logoEditor:e.logoEditor}}),(function(e){return{onToggleEditor:function(t){e(No("logoEditor",t))},initState:function(t){e(function(e){return function(t){t({type:"LOGO_EDITOR_INIT_STATE",object:e})}}(t))},onScale:function(t){e(function(e){var t=parseFloat(e.target.value);return function(e){e({type:"LOGO_EDITOR_SET_SCALE",scale:t})}}(t))},onRotateLeft:function(t){e(function(e){return e.preventDefault(),function(e,t){e({type:"LOGO_EDITOR_SET_ROTATE",rotate:t().logoEditor.rotate-90})}}(t))},onRemove:function(){e((function(e){e({type:"LOGO_EDITOR_SET_IMAGE",image:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",isEmpty:!0})}))},onSaveImage:function(t){e(function(e){return function(t,n){var r=n(),o=r.logoEditor.type,a=null,i=r.logoEditor.isEmpty,s=e.getImage().toDataURL();fetch(s).then((function(e){return e.blob()})).then((function(e){if(i)return null;var t=new(Lo());t.append("query","mutation {uploadPhoto {id, photo_original}}"),t.append("photo",e);var n={project:"comments",body:t};return(0,B.$2)(n)})).then((function(e){var t,n;if(i)return null;if(!e)throw new Error("image bad response");if(!(a=null==e||null===(t=e.data)||void 0===t||null===(n=t.uploadPhoto)||void 0===n?void 0:n.photo_original))throw B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:"Не удалось загрузить изображение. Попробуйте еще раз или свяжитесь со службой поддержки."}),new Error("image bad response")})).then((function(){if("blog"===o){var e=r.app.site.id;return Promise.resolve(yo.setSiteSettings(e,{about:{logoImg:a}}))}if("profile"===o){var t=r.app.person.id;return Promise.resolve(B.Fc.setPersonSettings(t,{personal:{logo:a}}))}})).then((function(){t({type:"SECONDARY_HEADER_TOGGLE",block:"logoEditor",show:!1}),t({type:"APP_SET_LOGO",scope:o,image:a})})).catch(B.qL.promiseHandler("/index.js"))}}(t))},onDropImage:function(t){e(function(e){return function(t){t({type:"LOGO_EDITOR_DROP_IMAGE",image:e[0],isEmpty:!1})}}(t))},onChangePosition:function(t){e(function(e){return function(t){t({type:"LOGO_EDITOR_SET_POSITION",position:e})}}(t))},onNewImage:function(t){e(function(e){return function(t){t({type:"LOGO_EDITOR_SET_IMAGE",image:e.target.files[0],isEmpty:!1})}}(t))}}}))(Bo);n(73210);var Fo="/index.js";function Ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ho(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zo=function(e){return{type:"SITE_SETTINGS_CHANGE_TAB",tabName:e}},Go=function(e,t,n){return{type:"SITE_SETTINGS_CHANGE_VALUE",tabName:e,name:t,value:n}},Vo=function(e){return function(t,n){var r=n(),o=r.app.site.id,a=r.siteSettings.data,i={};if((e=e||"about")&&(i[e]=a[e]),"about"===e&&(i[e].name=i[e].name.trim()),"adFox"===e)for(var s in i[e])if(i[e].hasOwnProperty(s)){var c=Zr.ad[s];B.cQ.compare(c,i[e][s])&&delete i[e][s]}t({type:"SITE_SETTINGS_SAVE_SETTINGS",tabName:e}),Promise.all([yo.setSiteSettings(o,i)]).then((function(e){var n=ir()(e,1)[0];t(Wo(n))})).catch((function(e){B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler(Fo)(e)}))}},Wo=function(e){return function(t){if(e.errors)B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:(null==e?void 0:e.message)||"При сохранении произошла ошибка"}),t({type:"SITE_SETTINGS_SET_INPUTS_ERRORS",errors:e.errors});else{if(e.error)return e.title?void B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:e.title||"При сохранении произошла ошибка"}):void B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:(null==e?void 0:e.errorMap)||"При сохранении произошла ошибка"});B.v0.sendSystemMessage("save")}}},Yo="/index.js";var Ko=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.handleInitState,n=e.app,r=e.isBlog,o=e.primaryTitle,a=r?yo.getTitle(n):o;this.titleInput.focus(),t({title:a})}},{key:"render",value:function(){var e=this,t=this.props,n=t.titleEditor,r=t.handleSave,a=t.handleSaveUserName,i=t.handleOnChange,s=t.handleKeyDown,c=t.isBlog?r:a;return"undefined"!=typeof window&&"undefined"!=typeof navigator&&o.createElement("div",{className:"blog-title-editor"},o.createElement("input",{type:"text",name:"title",value:n.title,onBlur:c,onKeyDown:function(e){return s(e.keyCode,c)},onChange:function(e){i(e.target.name,e.target.value)},ref:function(t){e.titleInput=t}}))}}]),a}(o.Component);Ko.defaultProps={isBlog:!0},Ko.propTypes={app:j().object,titleEditor:j().object,handleInitState:j().func,handleSave:j().func,handleSaveUserName:j().func,handleOnChange:j().func,handleKeyDown:j().func,primaryTitle:j().string,isBlog:j().bool};const zo=(0,i.$j)((function(e){return{app:e.app,titleEditor:e.titleEditor}}),(function(e){return{handleInitState:function(t){e(function(e){return function(t){t({type:"TITLE_EDITOR_INIT_STATE",object:e})}}(t))},handleOnChange:function(t,n){e(function(e,t){return function(n){n({type:"TITLE_EDITOR_CHANGE_VALUE",name:e,value:t})}}(t,n))},handleSave:function(){e((function(e,t){var n=t(),r=n.app.site.id,o=n.titleEditor.title,a={about:{name:o}};return Promise.resolve(yo.setSiteSettings(r,a)).then((function(){e({type:"SECONDARY_HEADER_TOGGLE",block:"titleEditor",show:!1}),e({type:"APP_SET_TITLE",title:o}),"siteSettings"===n.app.page&&e(Go("about","name",o))})).catch(B.qL.promiseHandler(Yo))}))},handleSaveUserName:function(){e(function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),o=r.app.person.id,a=r.titleEditor.title.split(" "),i=ir()(a,2),s=i[0],c=i[1],l={personal:{name:s,lastname:c||null}},e.prev=4,e.next=7,B.Fc.setPersonSettings(o,l);case 7:u=e.sent,t({type:"SECONDARY_HEADER_TOGGLE",block:"titleEditor",show:!1}),u.result&&location.reload(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler(Yo);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}())},handleKeyDown:function(t,n){e(function(e,t){return function(n){27===e&&n({type:"SECONDARY_HEADER_TOGGLE",block:"titleEditor",show:!1}),13===e&&t()}}(t,n))}}}))(Ko);var $o=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"handleResize",(function(){t.setState({editorWidth:t.editorContainer.current.offsetWidth})})),k()(y()(t),"setEditorRef",(function(e){e&&(t.editor=e)})),k()(y()(t),"throttleResize",d()((function(){return t.handleResize()}),80)),t.state={editorWidth:0},t.editorContainer=o.createRef(),t}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.handleInitState,n=e.image;t({image:n,type:e.type,isEmpty:!n}),window.addEventListener("resize",this.throttleResize),this.handleResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.throttleResize)}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerBackgroundEditor,r=t.handleToggleEditor,a=t.handleScale,i=t.handleRotateLeft,s=t.handleSaveImage,c=t.handleDropImage,l=t.handleChangePosition,u=t.handleNewImage,p=t.handleRemove,d=t.type,m=this.state.editorWidth;return"undefined"!=typeof window&&"undefined"!=typeof navigator&&o.createElement("div",{className:"header-background-editor",ref:this.editorContainer},o.createElement(Do.Z,{onDrop:function(e){return c(e)},noClick:!0,multiple:!1,style:{width:m,height:"profile"===d?n.profileHeight:n.blogHeight}},(function(){return o.createElement("div",{className:M()({"header-background-editor__canvas":!0,"header-background-editor__canvas_profile":"profile"===d})},o.createElement(Ao(),{ref:e.setEditorRef,scale:parseFloat(n.scale),width:m,height:"profile"===d?n.profileHeight:n.blogHeight,position:n.position,onPositionChange:function(e){return l(e)},rotate:parseFloat(n.rotate),borderRadius:parseFloat(n.borderRadius),image:n.image,border:parseFloat(n.border),crossOrigin:"anonymous"}))})),o.createElement("div",{className:"header-background-editor__tune"},o.createElement("input",{type:"file",name:"newImage",onChange:function(e){return u(e)}}),o.createElement("div",{className:"header-background-editor__scale-rotate"},o.createElement("input",{name:"scale",type:"range",onChange:function(e){return a(e)},min:"1",max:"2",step:"0.01",defaultValue:"1",className:"header-background-editor__scale"}),o.createElement("svg",{onClick:function(e){return i(e)},style:{width:23,height:23},className:"svg-icon header-background-editor__rotate"},o.createElement("use",{href:"/images/icons.svg#undo"})),o.createElement("svg",{onClick:function(){return p()},style:{width:23,height:23},className:"svg-icon header-background-editor__remove"},o.createElement("use",{href:"/images/icons.svg#times-circle-solid"}))),o.createElement("div",{className:"header-background-editor__submit"},o.createElement(eo.Z,{type:"button",onClick:function(){return s(e.editor)},label:"Сохранить"}),o.createElement(eo.Z,{type:"button",extraClasses:"btn-outline-secondary",onClick:function(){return r(!1)},label:"Отменить"}))))}}]),a}(o.Component);$o.propTypes={headerBackgroundEditor:j().object,image:j().string,type:j().string,handleToggleEditor:j().func,handleInitState:j().func,handleScale:j().func,handleRotateLeft:j().func,handleChangePosition:j().func,handleSaveImage:j().func,handleDropImage:j().func,handleNewImage:j().func,handleRemove:j().func};const Jo=(0,i.$j)((function(e){return{headerBackgroundEditor:e.headerBackgroundEditor}}),(function(e){return{handleToggleEditor:function(t){e(No("backgroundEditor",t))},handleInitState:function(t){e(function(e){return function(t){t({type:"BACKGROUND_EDITOR_INIT_STATE",object:e})}}(t))},handleScale:function(t){e(function(e){var t=parseFloat(e.target.value);return function(e){e({type:"BACKGROUND_EDITOR_SET_SCALE",scale:t})}}(t))},handleRotateLeft:function(t){e(function(e){return e.preventDefault(),function(e,t){e({type:"BACKGROUND_EDITOR_SET_ROTATE",rotate:t().headerBackgroundEditor.rotate-90})}}(t))},handleRemove:function(){e((function(e){e({type:"BACKGROUND_EDITOR_SET_IMAGE",image:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",isEmpty:!0})}))},handleSaveImage:function(t){e(function(e){return function(t,n){var r=n(),o=null,a=r.headerBackgroundEditor.isEmpty,i=r.headerBackgroundEditor.type,s=e.getImage().toDataURL();fetch(s).then((function(e){return e.blob()})).then((function(e){if(a)return null;var t=new(Lo());t.append("query","mutation {uploadPhoto {id, photo_original}}"),t.append("photo",e);var n={project:"comments",body:t};return(0,B.$2)(n)})).then((function(e){if(a)return null;if(!e)throw new Error("image bad response");o=e.data.uploadPhoto.photo_original})).then((function(){if("blog"===i){var e=r.app.site.id;return Promise.resolve(yo.setSiteSettings(e,{about:{background:o}}))}if("profile"===i){var t=r.app.person.id;return Promise.resolve(B.Fc.setPersonSettings(t,{personal:{background:o}}))}})).then((function(){t({type:"SECONDARY_HEADER_TOGGLE",block:"backgroundEditor",show:!1}),t({type:"APP_SET_BACKGROUND",scope:i,image:o})})).catch(B.qL.promiseHandler("/index.js"))}}(t))},handleDropImage:function(t){e(function(e){return function(t){t({type:"BACKGROUND_EDITOR_DROP_IMAGE",image:e[0],isEmpty:!1})}}(t))},handleChangePosition:function(t){e(function(e){return function(t){t({type:"BACKGROUND_EDITOR_SET_POSITION",position:e})}}(t))},handleNewImage:function(t){e(function(e){return function(t){t({type:"BACKGROUND_EDITOR_SET_IMAGE",image:e.target.files[0],isEmpty:!1})}}(t))}}}))($o);var Xo="/index.js";const Qo=function e(){h()(this,e),k()(this,"joinToSite",(function(e,t){return(0,B.$2)({project:"blog",body:JSON.stringify({query:"mutation {\n                  joinToSite(siteId: ".concat(e,", join: ").concat(t,")\n                }")})}).then((function(e){if(e.data)return e.data.joinToSite})).catch(B.qL.promiseHandler(Xo))})),k()(this,"subscribeToSite",(function(e,t){return(0,B.$2)({project:"blog",body:JSON.stringify({query:"mutation {\n                  subscribeToSite(siteId: ".concat(e,", subscribe: ").concat(t,")\n                }")})}).then((function(e){if(e.data)return e.data.subscribeToSite})).catch(B.qL.promiseHandler(Xo))}))};var ea="/index.js",ta=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){n({type:"ACTION_SUBSCRIBE_INIT_STATE",objectId:e,state:{isMember:t.is_member,isSubscribed:t.is_subscribed,isStaff:t.is_staff,isModerator:t.is_moderator,isSuperadmin:t.is_superadmin,isOwner:t.is_owner}})}},na=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return function(r){(new Qo).joinToSite(e,t).then((function(n){"undefined"!==n&&(r({type:"ACTION_SUBSCRIBE_JOIN_TO_SITE",isMember:t,objectId:e}),r({type:"ACTION_JOIN_TO_SITE",isMember:t,success:n}),t?(r(B.kU.refreshSiteList("FILTER_MEMBER")),r({type:"LEFT_MENU_INCREMENT_SITE",filter:"FILTER_MEMBER"})):(r(B.kU.refreshSiteList("FILTER_MEMBER")),r({type:"LEFT_MENU_DECREMENT_SITE",filter:"FILTER_MEMBER"})))})).then(n).catch(B.qL.promiseHandler(ea))}},ra=function(e,t){return function(n){(new Qo).subscribeToSite(e,t).then((function(r){"undefined"!==r&&(n({type:"ACTION_SUBSCRIBE_SUBSCRIBE_TO_SITE",isSubscribed:t,objectId:e}),n({type:"ACTION_SUBSCRIBE_TO_SITE",isSubscribe:t,success:r}))})).catch(B.qL.promiseHandler(ea))}};var oa=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"getActionSubscribeList",(function(){var e=t.props,n=e.onJoinToSite,r=e.siteId,a=e.onSubscribeToSite,i=e.onClickHandler,s=e.actionSubscribe[r]||In,c=s.isMember,l=s.isSubscribed,u=s.isStaff;return c?wr.canModerate()||u?o.createElement("div",{className:"secondary-header__subscribe__list"},o.createElement("span",{className:"secondary-header__subscribe__list__sub-btn disabled"},"Вы - сотрудник сайта")):o.createElement("div",{className:"secondary-header__subscribe__list"},o.createElement("span",{className:"secondary-header__subscribe__list__sub-btn",onClick:function(){a(r,!l)}},!l&&o.createElement("svg",{className:"svg-icon"},o.createElement("use",{href:"/images/icons.svg#check"})),"Не получать рассылку"),o.createElement("span",{className:"secondary-header__subscribe__list__sub-btn",onClick:function(){n(r,!1,i)}},"Не читать")):null})),k()(y()(t),"getButton",(function(){var e=t.props,n=e.onJoinToSite,r=e.siteId,a=e.onClickHandler,i=e.actionSubscribe,s=i[r]||In;if(!wr.isLogged()||!i[r])return null;var c=s.isMember,l=s.isStaff,u=t.state.isButtonHover,p="Подписаться",d="cross";return c&&(u&&!l?(p="Отписаться",d="close"):(p="Подписаны",d="check")),o.createElement("div",{onClick:function(){n(r,!c,a)},className:M()("btn",{"secondary-header__subscribe":!0,"btn-primary":!c,"btn-secondary":c}),id:"secondary-header__subscribe",title:p,onMouseEnter:t.mouseEnterHandler,onMouseLeave:t.mouseLeaveHandler},o.createElement("svg",{className:"svg"},o.createElement("use",{href:"/images/icons.svg#".concat(d)})),p)})),k()(y()(t),"mouseEnterHandler",(function(){t.setState({isButtonHover:!0})})),k()(y()(t),"mouseLeaveHandler",(function(){t.setState({isButtonHover:!1})})),t.state={isButtonHover:!1},t}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.siteId,n=e.object,r=e.actionSubscribe,o=e.onInitState;r[t]||o(t,n)}},{key:"render",value:function(){var e=this.props,t=e.siteId,n=e.actionSubscribe;return wr.isLogged()&&n[t]?o.createElement(B.GV,{customDropdownClasses:"secondary-header__subscribe-wrap",customListClasses:"secondary-header__subscribe__list",placement:"auto-left",buttonValue:this.getButton(),openByHover:!0},this.getActionSubscribeList()):null}}]),a}(o.PureComponent);k()(oa,"propTypes",{isMember:j().bool,isSubscribed:j().bool,siteId:j().number,onJoinToSite:j().func,onSubscribeToSite:j().func,onClickHandler:j().func,onInitState:j().func,object:j().object,actionSubscribe:j().object}),k()(oa,"defaultProps",{object:{}});const aa=(0,i.$j)((function(e){return{actionSubscribe:e.actionSubscribe}}),(function(e){return{onInitState:function(t,n){e(ta(t,n))},onJoinToSite:function(t,n,r){e(na(t,n,r))},onSubscribeToSite:function(t,n){e(ra(t,n))}}}))(oa);var ia=(0,o.memo)((function(e){return e.isAuthentic&&o.createElement(o.Fragment,null,o.createElement("div",{className:"secondary-header__authentic-account",id:"tooltip-authentic"},o.createElement("div",{className:"secondary-header__authentic-account-ico-bg"},o.createElement("div",{className:"secondary-header__authentic-account-ico-сheck"}))),o.createElement(B.u,{target:"tooltip-authentic",placeId:"tooltip-authentic",placement:"right-center",content:"Подлинная учетная запись публичной личности или страницы",offset:"0,8"}))}));ia.propTypes={isAuthentic:j().bool};const sa=ia;var ca=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"monthNames",{1:"января",2:"февраля",3:"марта",4:"апреля",5:"мая",6:"июня",7:"июля",8:"августа",9:"сентября",10:"октября",11:"ноября",12:"декабря"}),k()(y()(t),"prepareOnlineStatus",(function(){var e=t.props.onlineStatus;return"online"===e?o.createElement("div",{className:"secondary-header__visit-status__online"},"Онлайн"):"offline"===e?"":(t.prepareVisitDate(e),o.createElement("div",{className:"secondary-header__visit-status__date"},t.state.visitTime))})),k()(y()(t),"prepareVisitDate",(function(e){var n=c()(e).local().format("YYYY-MM-DD H:mm").split(" "),r=ir()(n,2),o=r[0],a=r[1],i=c()(c()().local().format("YYYY-MM-DD")).diff(c()(o),"days");if(i)if(1===i)t.setState({visitTime:"Последний визит — вчера в ".concat(a)});else{var s=o.split("-"),l=+s[1],u=t.monthNames[l],p=+s[2];t.setState({visitTime:"Последний визит — ".concat(p," ").concat(u," в ").concat(a)})}else t.setState({visitTime:"Последний визит — сегодня в ".concat(a)})})),t.state={visitTime:""},t}return g()(a,[{key:"render",value:function(){var e=this.props.onlineStatus;return o.createElement("div",{className:"secondary-header__visit-status"},e&&this.prepareOnlineStatus())}}]),a}(o.PureComponent);ca.propTypes={onlineStatus:j().string,sex:j().number};const la=(0,i.$j)((function(e){return{onlineStatus:L()(e,"app.person.profileInfo.onlineStatus")}}))(ca);var ua=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),(t=r.call(this,e)).state={sendMessagePopup:!1},t}return g()(a,[{key:"render",value:function(){var e,t=this.props,n=t.secondaryHeader,r=t.toggleEditor,a=t.canEdit,i=t.type,s=t.mini,c=t.primaryTitle,l=t.subscribers,u=t.headerImage,p=t.logoImage,d=t.logoUrl,m=t.authenticAccount,f=t.personId,h=t.onlineStatus,_=t.isArbitrationBlog,g=t.layout,v=t.blogMenuItems,y=t.showSubscribersAmount,b=t.site,E=b.id,P=v.findIndex((function(e){return e.selected})),O=null===(e=v[P])||void 0===e?void 0:e.seoTitle,w="PostListLayout"===g&&-1===P?"h1":"h2",S={"secondary-header":!0,"mobile-show":30496446919===E};S["secondary-header_".concat(i)]=!0;var T={},k={"secondary-header__top":!0};u&&(T.backgroundImage="url(".concat(u,")"),k["secondary-header__top_has-background"]=!0);var I=!s&&(u||a);return o.createElement(o.Fragment,null,o.createElement("div",{id:"secondary-header",className:M()(S)},o.createElement(o.Fragment,null,I&&o.createElement("div",{className:M()(k),style:T},a&&o.createElement("div",{className:"header-background-editor__switcher"+(!u||n.backgroundSwitcher?" active":""),onClick:function(){return r("backgroundEditor",!0)}},o.createElement("svg",{className:"svg-icon large",id:"background-switcher-desktop"},o.createElement("use",{href:"/images/icons.svg#edit"})),o.createElement("svg",{className:"svg-icon large",id:"background-switcher-mobile"},o.createElement("use",{href:"/images/icons.svg#cross"})),o.createElement("span",null,"Загрузить обои профиля")),n.backgroundEditor&&o.createElement(Jo,{image:u,type:i})),o.createElement("div",{className:M()("secondary-header__middle",{"secondary-header__middle_no-border":_&&"BlogPostLayout"===g,"secondary-header__middle_user-profile":"PeopleTwoColumnLayout"===g,"secondary-header__middle_with-top":I})},o.createElement("div",{id:"secondary-header-logo",className:M()({"secondary-header__logo-outer":!0,"secondary-header__online":"online"===h}),onClick:function(){a&&r("logoEditor",!0)}},a&&o.createElement("div",{className:"secondary-header__logo-editor-button"},o.createElement("svg",{className:"svg-icon"},o.createElement("use",{href:"/images/icons.svg#cross"}))),o.createElement("div",{className:"secondary-header__logo-wrap"},o.createElement(B.Hl,{logoInfo:{userName:c,logoImg:p,logoUrl:a?void 0:yo.addUtmToUrl(d),logoClassName:"userlogo_xl",size:"av80"}}))),n.logoEditor&&o.createElement(B.zG,{target:"secondary-header-logo",show:!0,onClose:function(){return r("logoEditor",!1)}},o.createElement(Uo,{image:p,type:i})),o.createElement("div",{className:"secondary-header__title-wrap",onMouseOver:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),r("titleSwitcher",!0)},onMouseOut:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),r("titleSwitcher",!1)}},o.createElement("div",{className:"secondary-header__title-subscribers"},c&&!n.titleEditor&&o.createElement(w,{className:"secondary-header__title"},o.createElement("a",{className:"secondary-header__title-link",href:yo.addUtmToUrl(d),style:{color:"profile"===i?B.Il.getHslColorByName(c):"#000"},rel:"nofollow"},c),o.createElement(sa,{isAuthentic:yo.isSiteMatch("verifiedBlogs")||m})),n.titleEditor&&o.createElement(zo,{primaryTitle:c,isBlog:"blog"===i}),"blog"===i&&!1!==y&&o.createElement("i",{className:"secondary-header__subscribers"},l),"profile"===i&&o.createElement(la,null)),a&&!n.titleEditor&&o.createElement("svg",{className:"svg-icon large blog-title-editor__switcher"+(n.titleSwitcher?" active":""),onClick:function(){return r("titleEditor",!0)}},o.createElement("use",{href:"/images/icons.svg#edit"}))),"blog"===i&&o.createElement(aa,{siteId:E,object:b}),"profile"===i&&!a&&wr.isLogged()&&o.createElement(B.hi,{userId:f}))),O&&o.createElement("h2",{className:"secondary-header__section-name"},O)))}}]),a}(o.PureComponent);ua.defaultProps={type:"blog",canEdit:!1,mini:!1,primaryTitle:null,primaryUrl:null,secondaryTitle:null,subscribers:null,headerImage:null,logoImage:null,logoUrl:null},ua.propTypes={secondaryHeader:j().object,toggleEditor:j().func,canEdit:j().bool,type:j().string,mini:j().bool,primaryTitle:j().string,subscribers:j().string,headerImage:j().string,logoImage:j().string,logoUrl:j().string,authenticAccount:j().bool,personId:j().oneOfType([j().string,j().number]),lastName:j().string,onlineStatus:j().string,isArbitrationBlog:j().bool,layout:j().string,blogMenuItems:j().array,showSubscribersAmount:j().bool,site:j().object};const pa=(0,i.$j)((function(e){return{secondaryHeader:e.secondaryHeader,personId:e.app.userId,onlineStatus:L()(e,"app.person.profileInfo.onlineStatus"),isArbitrationBlog:e.app.isArbitrationBlog,layout:e.app.layout,blogMenuItems:e.leftMenu.blogMenu.menuItems,site:L()(e,"app.site",{})}}),(function(e){return{toggleEditor:function(t,n){e(No(t,n))}}}))(ua);function da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?da(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fa=n(8778).pluralize,ha=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){return h()(this,a),r.call(this,e)}return g()(a,[{key:"getValues",value:function(){var e,t=this.props,n=t.app,r=t.type,o=t.blogPost,a=null,i=null,s=null,c=null,l=null,u=null,p=null,d=!1,m=!1,f=!1,h=null===(e=n.site)||void 0===e?void 0:e.showSubscribersAmount;if("blog"===r){var _=ma({},L()(n,"siteBuilder.mainLogo.props")),g=ma({},L()(n,"siteBuilder.mainHeader.props",{}));i=L()(_,"imageUrl","/")||"/",s=L()(_,"image")||L()(n,"site.photo")||null,null!==(c=g.image||null)&&"object"===oo()(c)&&(c=c.src||null),l=yo.getTitle(n),u="/",a=L()(n,"site.members_count"),a=this.normalizeSpace(a).concat(" ",fa(a,"подписчик","подписчика","подписчиков")),d=wr.canAdminBlog(),(m=["blogPost","blogPostDispute"].includes(L()(n,"page")))&&(p=o.title)}else"profile"===r&&(i=L()(n,"person.url")||"/",s=L()(n,"person.photo_original"),l=L()(n,"person.display_name"),u=L()(n,"person.url")||"/",a=L()(n,"person.count_friends"),c=L()(n,"person.cover"),f=L()(n,"person.isAuthenticAccount"),a=this.normalizeSpace(a).concat(" ",fa(a,"друг","друга","друзей")),d=wr.canEditProfile());return{subscribers:a,logoUrl:i,logoImage:s,headerImage:c,primaryTitle:l,primaryUrl:u,secondaryTitle:p,canEdit:d,mini:m,authenticAccount:f,showSubscribersAmount:h}}},{key:"normalizeSpace",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=e.toString().split(""),r=n.length-t,o=0;r>o;r-=t+1)n.splice(r,0," "),r++;return n.join("")}},{key:"render",value:function(){var e=this.getValues();return o.createElement(pa,Fr()({},this.props,this.state,e))}}]),a}(o.PureComponent);ha.defaultProps={type:"blog"},ha.propTypes={app:j().object,type:j().string,blogPost:j().object};const _a=(0,i.$j)((function(e){return{app:e.app,blogPost:e.blogPost}}),(function(){return{}}))((0,B.Pf)(ha,"secondaryHeaderDecorator"));const ga=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),(t=r.call(this,e)).state={currentPathname:null},t}return g()(a,[{key:"componentDidMount",value:function(){"undefined"!=typeof window&&this.setState({currentPathname:window.location.pathname})}},{key:"render",value:function(){var e=this.state.currentPathname;return o.createElement(o.Fragment,null,o.createElement("div",{className:"about-platform__menu"},[{text:"Мессенджер МТ",path:"/apps",className:"about-platform__menu_app"},{text:"О компании",path:"/",className:"about-platform__menu_about"},{text:"О редакции ГлагоL",path:"/glagol",className:"about-platform__menu_glagol"},{text:"Новости",path:"/news",className:"about-platform__menu_news"},{text:"Партнерам",path:"/partners",className:"about-platform__menu_partners"},{text:"Рекламодателям",path:"/promo",className:"about-platform__menu_promo"},{text:"Соглашение",path:"/agreement",className:"about-platform__menu_agreement"},{text:"Создать сайт",path:"//mirtesen.ru/create/",className:"about-platform__menu_site about-platform__menu_separated"},{text:"Вернуться в социальную сеть",path:"//mirtesen.ru",className:""}].map((function(t,n){var r,a=(r={},k()(r,t.className,!0),k()(r,"current",e===t.path),r);return o.createElement("a",{key:n,className:M()(a),href:t.path},t.text)}))))}}]),a}(o.PureComponent);var va={type:"SITE_SETTINGS_LEFT_MENU_SHOW_DROPDOWN"},ya={type:"SITE_SETTINGS_LEFT_MENU_HIDE_DROPDOWN"};var ba=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"linkElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.props,i=a.handleClick,s=a.siteSettings,c=s.activeTab;"menuEditor"===c?c="menu":"rssEditor"===c?c="rssImport":"domain"===c&&(c="about");var l={"left-menu__item_element":!0,active:n===c};return r&&(l[r]=!0),n===c?o.createElement("span",{className:M()(l),key:t},B.E6.truncateString(e)):o.createElement("a",{className:M()(l),href:t,key:n,onClick:function(e){e.preventDefault(),window.history.pushState(null,"",t),i(n)}},B.E6.truncateString(e))}},{key:"render",value:function(){var e=this.props.siteSettings.sections,t=this;return o.createElement("div",{className:"left-menu"},o.createElement("div",{className:"left-menu__item"},o.createElement("a",{className:"left-menu__item_element",href:"/"},o.createElement("svg",{className:"svg-icon back-to-main"},o.createElement("use",{href:"/images/icons.svg#arrow-left"})),"Выйти")),o.createElement("div",{className:"left-menu__item"},o.createElement("div",{className:"left-menu__item_title"},"Настройки"),Object.keys(e).map((function(n){var r=e[n];if(!0===r.isMenu&&(!r.forDevs||wr.isDeveloper()))return t.linkElement(r.title,"/edit/"+n,n,r.forDevs?"devs-only":null)}))))}}]),a}(o.Component);ba.propTypes={app:j().object,siteSettingsLeftMenu:j().object,siteSettings:j().object,handleShowSitesDropdown:j().func,handleHideSitesDropdown:j().func,handleClick:j().func};const Ea=(0,i.$j)((function(e){return{app:e.app,siteSettingsLeftMenu:e.siteSettingsLeftMenu,siteSettings:e.siteSettings}}),(function(e){return{handleClick:function(t){e(Zo(t))},handleShowSitesDropdown:function(){e(va)},handleHideSitesDropdown:function(){e(ya)}}}),null,{forwardRef:!0})(ba);n(85827),n(26541);var Pa="/index.js";function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sa=B.cQ.loadModule((function(){return n.e(764).then(n.bind(n,83537))}),"libphonenumber-js"),Ta=function(e){return{type:"PERSON_SETTINGS_CHANGE_TAB",tabName:e}},ka=function(e){return{type:"PERSON_SETTINGS_SET_INPUT_ERRORS",errors:e}},Ia=function(e){return{type:"PERSON_SETTINGS_SET_INPUT_valid",valid:e}},Ma=function(e,t,n){return{type:"PERSON_SETTINGS_CHANGE_VALUE",tabName:e,name:t,value:n}},Ca=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var n=R()(D().mark((function n(r){var o,a;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sa();case 2:if(n.t0=n.sent.parsePhoneNumberFromString(e),n.t0){n.next=5;break}n.t0="";case 5:if(o=n.t0,a=(0,zn.R6)(B.Bz.getStore().getState().localize),!o||!o.isValid()){n.next=12;break}r(Ma("confirm","confirmSmsSent",!1)),Promise.resolve(B.Fc.savePhoneWithConfirm(o.number)).then((function(e){if("code"===e.params.step)t&&(r(Ma("confirm","resending",!0)),setTimeout((function(){return r(Ma("confirm","resending",!1))}),5e3)),r(Ma("confirm","confirmSmsSent",!0)),r(Ma("confirm","phone",o.number)),r(Ta("confirm")),r(Ia({phoneMobile:!0}));else{r(Ia({phoneMobile:!1}));var n=a("authErrorServer");e.params.errorMap&&e.params.errorMap.phone&&(n=e.params.errorMap.phone,r(ka({phone:n}))),B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:n})}})).catch((function(e){B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:e}),console.log(e)})),n.next=15;break;case 12:return r(Ia({phoneMobile:!1})),B.v0.sendSystemMessage("incorrectPhoneNumber"),n.abrupt("return",!1);case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ja=function(e){return function(t,n){var r=n().app.person.id,o={contacts:{}},a=[];return a.push(e.default||""),a=(a=a.concat(e.confirmed||[])).concat(e.pending),o.contacts.emails=a,Promise.all([B.Fc.setPersonSettings(r,o)]).then((function(n){var r=ir()(n,1)[0];r.error?B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:r.title||"При сохранении произошла ошибка."}):t({type:"PERSON_SETTINGS_SET_EMAILS",emails:e})})).catch((function(e){B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:e}),B.qL.promiseHandler(Pa)(e)}))}},Na=function(e){return function(t){!e||e.errors?(t(ka(e.errors)),B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:e.message||B.v0.systemMessages.saveError})):B.v0.sendSystemMessage("save")}};var Ra=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"linkElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.props,i=a.handleClick,s=a.personSettings,c=s.activeTab,l={"left-menu__item_element left-menu__text-item":!0,active:n===c};return r&&(l[r]=!0),n===c?o.createElement("span",{className:M()(l),key:t},e):o.createElement("a",{className:M()(l),href:t,key:n,onClick:function(e){e.preventDefault(),window.history.pushState(null,"",t),i(n)}},e)}},{key:"render",value:function(){var e=this.props.personSettings.sections,t=this,n=wr.getCurrentUserId();return o.createElement("div",{className:"left-menu"},o.createElement("div",{className:"left-menu__item"},o.createElement("a",{className:"left-menu__item_element",href:"/people/".concat(n)},o.createElement("svg",{className:"svg-icon back-to-main"},o.createElement("use",{href:"/images/icons.svg#arrow-left"})),"Выйти")),o.createElement("div",{className:"left-menu__item"},o.createElement("div",{className:"left-menu__item_title"},"Настройки"),Object.keys(e).map((function(n){var r=e[n];if(!0===r.isMenu&&(!r.forDevs||wr.isDeveloper()))return t.linkElement(r.title,"/settings/"+n,n,r.forDevs?"devs-only":null)}))))}}]),a}(o.Component);Ra.propTypes={app:j().object,personSettingsLeftMenu:j().object,personSettings:j().object,handleClick:j().func};const Aa=(0,i.$j)((function(e){return{app:e.app,personSettingsLeftMenu:e.personSettingsLeftMenu,personSettings:e.personSettings}}),(function(e){return{handleClick:function(t){e(Ta(t))}}}),null,{forwardRef:!0})(Ra);n(65069),n(56977);var Da="/index.js";function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ba="query getSiteAdPromoList(\n        $siteId: Float!,\n        $types: [object_type]!\n        $limit: Int!,\n        $offset: Int\n    ) {\n        getSiteAdPromoList(\n            siteId: $siteId\n            types: $types\n            status: [STATUS_ACTIVE, STATUS_PENDING]\n            offset: $offset\n            limit: $limit\n        ) {\n            items {\n                id\n                siteId\n                status\n                dateStart\n                dateEnd\n                fullClicks\n                fullClicksLimit\n                dayClicks\n                dayClicksLimit\n                inRotation\n                clickPrice\n                utmSource\n                utmMedium\n                utmCampaign\n                targetGeoIds\n                targetIsMale\n                targetAgeMin\n                targetAgeMax\n                targetTime\n                title\n                canChangeStatus\n            }\n        }\n    }",Ua="query getSiteAdSettings(\n        $siteId: Float!\n    ) {\n        getSiteAdSettings(\n            siteId: $siteId\n        )\n    }",Fa="query getSiteAdStats(\n        $siteId: Float!,\n        $periodFrom: String!,\n        $periodTo: String! \n    ) {\n        getSiteAdStats(\n            siteId: $siteId\n            startDate: $periodFrom\n            endDate: $periodTo\n        )\n    }",Ha="query getSiteModerateState(\n        $siteId: Float!\n    ) {\n        getSiteModerateState(\n            siteId: $siteId\n        )\n    }",qa="mutation setSiteModerateState(\n        $siteId: Float!,\n        $moderateState: moderate_state\n    ) {\n        setSiteModerateState(\n            siteId: $siteId,\n            moderateState: $moderateState\n        )\n    }";const Za=function(){function e(){h()(this,e)}return g()(e,null,[{key:"getPromotionStat",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=JSON.stringify(t.periodFrom||bt.data.stats.periodFrom),o=JSON.stringify(t.periodTo||bt.data.stats.periodTo),a={project:"blog",body:JSON.stringify({query:Fa,variables:{siteId:e,periodFrom:r,periodTo:o}})};return(0,B.$2)(La(La({},n),a)).then((function(e){var t=L()(e,"data.getSiteAdStats");if(t)return JSON.parse(t).tableData})).catch((function(e){return B.qL.promiseHandler(Da)(e),null}))}},{key:"setSiteAdPromo",value:function(e,t,n,r){var o={};o.id=e||null,o.siteId=t||null,o.update=n||!1,["status","dateStart","dateEnd","fullClicksLimit","dayClicksLimit","clickPrice","utmSource","utmMedium","utmCampaign","targetGeoIds","targetIsMale","targetAgeMin","targetAgeMax","targetTime"].forEach((function(e){o[e]=r[e]}));var a={project:"blog",body:JSON.stringify({query:"mutation setSiteAdPromo(\n        $id: Float!,\n        $siteId: Float!,\n        $update: Boolean,\n        $status: status,\n        $dateStart: String,\n        $dateEnd: String,\n        $fullClicksLimit: Float,\n        $dayClicksLimit: Float,\n        $clickPrice: Float,\n        $utmSource: String,\n        $utmMedium: String,\n        $utmCampaign: String,\n        $targetGeoIds: [Float],\n        $targetIsMale: Boolean,\n        $targetAgeMin: Int,\n        $targetAgeMax: Int,\n        $targetTime: String\n    ) {\n        setSiteAdPromo(\n            id: $id,\n            siteId: $siteId,\n            update: $update,\n            status: $status,\n            dateStart: $dateStart,\n            dateEnd: $dateEnd,\n            fullClicksLimit: $fullClicksLimit,\n            dayClicksLimit: $dayClicksLimit,\n            clickPrice: $clickPrice,\n            utmSource: $utmSource,\n            utmMedium: $utmMedium,\n            utmCampaign: $utmCampaign,\n            targetGeoIds: $targetGeoIds,\n            targetIsMale: $targetIsMale,\n            targetAgeMin: $targetAgeMin,\n            targetAgeMax: $targetAgeMax,\n            targetTime: $targetTime\n        ) {\n            status\n            errors {\n                key\n                message\n            }\n        }\n    }",variables:o})};return(0,B.$2)(La({},a))}},{key:"setSiteModerateState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MODERATE_STATE_PROCESSING",n={project:"blog",body:JSON.stringify({query:qa,variables:{siteId:e,moderateState:t}})};return(0,B.$2)(La({},n)).then((function(e){var t=L()(e,"data.setSiteModerateState");if(t)return JSON.parse(t)})).catch(B.qL.promiseHandler(Da))}},{key:"refillSiteAdBalance",value:function(e,t){var n={project:"blog",body:JSON.stringify({query:"mutation refillSiteAdBalance(\n        $siteId: Float!,\n        $amount: Float!\n    ) {\n        refillSiteAdBalance(\n            siteId: $siteId,\n            amount: $amount\n        )\n    }",variables:{siteId:e,amount:t}})};return(0,B.$2)(La({},n)).then((function(e){var t=L()(e,"data.refillSiteAdBalance");if(t)return JSON.parse(t)})).catch(B.qL.promiseHandler(Da))}},{key:"getSiteAdSettings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={project:"blog",body:JSON.stringify({query:Ua,variables:{siteId:e}})};return(0,B.$2)(La(La({},t),n)).then((function(e){var t=L()(e,"data.getSiteAdSettings");if(t)return JSON.parse(t).settings})).catch(B.qL.promiseHandler(Da))}},{key:"getSiteModerateState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={project:"blog",body:JSON.stringify({query:Ha,variables:{siteId:e}})};return(0,B.$2)(La(La({},t),n)).then((function(e){var t=L()(e,"data.getSiteModerateState");if(t)return JSON.parse(t).moderateState})).catch(B.qL.promiseHandler(Da))}},{key:"makeSiteAsBusiness",value:function(e){var t={project:"blog",body:JSON.stringify({query:"mutation makeSiteAsBusiness(\n        $siteId: Float!\n    ) {\n        makeSiteAsBusiness(\n            siteId: $siteId\n        )\n    }",variables:{siteId:e}})};return(0,B.$2)(La({},t)).then((function(e){var t=L()(e,"data.makeSiteAsBusiness");if(t)return JSON.parse(t).moderateState})).catch(B.qL.promiseHandler(Da))}},{key:"getSiteAdPromoList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=La({siteId:e,types:["OBJECT_TYPE_BLOG_POST"],limit:10,offset:0},t),o={project:"blog",body:JSON.stringify({query:Ba,variables:r})};return(0,B.$2)(La(La({},n),o)).then((function(e){return L()(e,"data.getSiteAdPromoList.items",null)})).catch(B.qL.promiseHandler(Da))}}]),e}();var Ga=n(13218),Va=n.n(Ga),Wa=n(35161),Ya=n.n(Wa),Ka=n(78718),za=n.n(Ka),$a="/index.js";function Ja(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Xa={itemAdd:{id:{error_doesnt_match:"Объект не найден",error_uniqueness_violated:"Этот объект уже добавлен"}}},Qa=function(e){return{type:"PROMOTION_CHANGE_TAB",tabName:e}},ei=function(e,t){return{type:"PROMOTION_INIT_TAB",tabName:e,data:t}},ti=function(e){return{type:"PROMOTION_SET_INPUTS_ERRORS",errors:e}},ni=function(e){return function(t,n){if(e.errors)if(e.message&&B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:e.message||"При сохранении произошла ошибка"}),Array.isArray(e.errors)){var r={},o=n().promotion.activeTab;e.errors.forEach((function(e){r[e.key]=L()(Xa,o+"."+e.key+"."+e.message,e.message)})),t(ti(r))}else t(ti(e.errors));else{if(e.error)return void B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:(null==e?void 0:e.title)||(null==e?void 0:e.errorMap)||"При сохранении произошла ошибка"});B.v0.sendSystemMessage("save")}}};var ri=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"linkElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.props,i=a.handleClick,s=a.promotion,c=s.activeTab,l={"left-menu__item_element":!0};return r&&(l[r]=!0),n===c?(l.active=!0,o.createElement("span",{className:M()(l),key:t},B.E6.truncateString(e))):o.createElement("a",{className:M()(l),href:t,key:n,onClick:function(e){e.preventDefault(),window.history.pushState(null,"",t),i(n)}},B.E6.truncateString(e))}},{key:"render",value:function(){var e=this.props.promotion,t=e.data,n=e.sections,r=this;return o.createElement("div",{className:"left-menu"},o.createElement("div",{className:"left-menu__item"},o.createElement("a",{className:"left-menu__item_element",href:"/"},o.createElement("svg",{className:"svg-icon back-to-main"},o.createElement("use",{href:"/images/icons.svg#arrow-left"})),"Выйти")),o.createElement("div",{className:"left-menu__item"},o.createElement("div",{className:"left-menu__item_title"},"Продвижение"),Object.keys(n).filter((function(e,n){return!(n>0&&("none"===t.platform||"rejected"===t.platform))})).map((function(e){var t=n[e];if(!0===t.isMenu)return r.linkElement(t.title,"/promotion/"+e,e)}))))}}]),a}(o.Component);ri.propTypes={app:j().object,promotion:j().object,handleClick:j().func};const oi=(0,i.$j)((function(e){return{app:e.app,promotion:e.promotion}}),(function(e){return{handleClick:function(t){e(Qa(t))}}}),null,{forwardRef:!0})(ri);var ai="/index.js";function ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var si=function(e){return{type:"EDIT_COMMENTS_CHANGE_TAB",tabName:e}},ci=function(e){return function(t){if(e.errors)B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:(null==e?void 0:e.message)||"При сохранении произошла ошибка"}),t({type:"EDIT_COMMENTS_SET_INPUTS_ERRORS",errors:e.errors});else{if(e.error)return void B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:(null==e?void 0:e.title)||(null==e?void 0:e.errorMap)||"При сохранении произошла ошибка"});B.v0.sendSystemMessage("save")}}},li=function(e){return Va()(e)&&Va()(e.commentators)?Ya()(e.commentators,(function(e,t){return{label:"total"===t?"Итог":"unique"===t?"Уникальных":c()(t).format("DD.MM.YYYY"),commentators:e}})):[]};var ui=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"linkElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.props,i=a.handleClick,s=a.editComments,c=s.activeTab,l={"left-menu__item_element":!0};return r&&(l[r]=!0),n===c?(l.active=!0,o.createElement("span",{className:M()(l),key:t},B.E6.truncateString(e))):o.createElement("a",{className:M()(l),href:t,key:n,onClick:function(e){e.preventDefault(),window.history.pushState(null,"",t),i(n)}},B.E6.truncateString(e))}},{key:"render",value:function(){var e=this.props.editComments.sections,t=this;return o.createElement("div",{className:"left-menu"},o.createElement("div",{className:"left-menu__item"},o.createElement("a",{className:"left-menu__item_element",href:"/"},o.createElement("svg",{className:"svg-icon back-to-main"},o.createElement("use",{href:"/images/icons.svg#arrow-left"})),"Выйти")),o.createElement("div",{className:"left-menu__item"},o.createElement("div",{className:"left-menu__item_title"},"Комментарии"),Object.keys(e).map((function(n){var r=e[n];if(!0===r.isMenu)return t.linkElement(r.title,"/edit/comments/"+n,n)}))))}}]),a}(o.Component);ui.propTypes={app:j().object,editComments:j().object,handleClick:j().func};const pi=(0,i.$j)((function(e){return{app:e.app,editComments:e.editComments}}),(function(e){return{handleClick:function(t){e(si(t))}}}),null,{forwardRef:!0})(ui),di=JSON.parse('{"O":[{"text":"Мессенджер МТ","link":"https://k41tv.app.link/sidebarlink","target":"_blank","icon":"IconApp","w":"14","h":"14"},{"text":"О компании","link":"https://info.mirtesen.ru/about","target":"_blank","icon":"IconAbout","w":"9","h":"14"},{"text":"О редакции ГлагоL","link":"https://info.mirtesen.ru/glagol","target":"_blank","icon":"icon-glagol","w":"8","h":"13"},{"text":"Новости","link":"https://info.mirtesen.ru/news","target":"_blank","icon":"IconNews","w":"16","h":"14"},{"text":"Партнерам","link":"https://info.mirtesen.ru/partners","target":"_blank","icon":"IconPartners","w":"16","h":"13"},{"text":"Рекламодателям","link":"https://info.mirtesen.ru/promo","target":"_blank","icon":"IconAdvertizing","w":"17","h":"16"},{"text":"Обратная связь","link":"https://mirtesen.ru/feedback/report","target":"_blank","icon":"IconFeedback","w":"16","h":"13"},{"text":"Пожаловаться на спам","link":"https://mirtesen.ru/feedback/report/spam","target":"_blank","icon":"IconSpam","w":"15","h":"14"},{"text":"Соглашение","link":"https://info.mirtesen.ru/agreement","target":"_blank","icon":"IconAgreement","w":"15","h":"16"}]}');var mi=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;h()(this,a);var n=(t=r.call(this,e)).props,o=n.subCounter,i=n.rtbId;return t.containerId="yandex_rtb_".concat(i),o&&(t.containerId="".concat(t.containerId,"_").concat(o)),t.state={isLoaded:!1},t}return g()(a,[{key:"componentDidMount",value:function(){this.loadAd()}},{key:"loadAd",value:function(){var e=this,t=this.props.rtbId;B.cQ.lazyLoad((function(){var e,t,n;return null===(e=window)||void 0===e||null===(t=e.Ya)||void 0===t||null===(n=t.Context)||void 0===n?void 0:n.AdvManager}),(function(){e.setState({isLoaded:!0}),window.Ya.Context.AdvManager.render({blockId:t,renderTo:e.containerId,async:!0}),console.log("-- YaRTB ".concat(t," rendered to ").concat(e.containerId," --"))}),(function(){console.log("Couldn't load Yandex RTB")}))}},{key:"render",value:function(){var e=this.props.className;return o.createElement("div",{id:this.containerId,className:e})}}]),a}(o.PureComponent);mi.propTypes={subCounter:j().number,rtbId:j().string,className:j().string};const fi=mi;const hi=function(e){E()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function o(){return h()(this,o),r.apply(this,arguments)}return g()(o,[{key:"addScript",value:function(e){var t=e.src,n=e.onload,r=void 0===n?null:n,o=e.onerror,a=void 0===o?null:o,i=e.id,s=void 0===i?"":i;B.cQ.loadScript(t,{onload:r,onerror:a,id:s})}}]),o}(o.PureComponent);var _i=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props.id,t=new Date,n="https://jsc.lentainform.com/g/l/glagol.mirtesen.ru."+e+".js?t="+(t?""+t.getUTCFullYear()+t.getUTCMonth()+t.getUTCDate()+t.getUTCHours():"");this.addScript({src:n})}},{key:"render",value:function(){var e=this.props.id;return o.createElement("div",{id:"M497387ScriptRootC".concat(e)},o.createElement("div",{id:"M497387PreloadC".concat(e)}," Загрузка..."))}}]),a}(hi);_i.propTypes={id:j().oneOfType([j().string,j().number])};const gi=_i;const vi=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"init",(function(){(window.smiq=window.smiq||[]).push({})})),e}return g()(a,[{key:"componentDidMount",value:function(){this.addScript({src:"https://jsn.24smi.net/smi.js",onload:this.init})}},{key:"render",value:function(){return o.createElement("div",{className:"smi24__informer","data-smi-templatesrc":"https://jsn.24smi.net/b/5/13084.js"})}}]),a}(hi);const yi=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"init",(function(){(window.smiq=window.smiq||[]).push({})})),e}return g()(a,[{key:"componentDidMount",value:function(){this.addScript({src:"https://jsn.24smi.net/smi.js",onload:this.init})}},{key:"render",value:function(){return o.createElement("div",{style:{paddingTop:"30px"}},o.createElement("div",{className:"smi24__informer","data-smi-templatesrc":"https://jsn.24smi.net/a/6/12899.js"}))}}]),a}(hi);const bi=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"componentDidMount",value:function(){var e=this;this.addScript({src:"https://mirror.smi.fm/js/100099.js",onerror:function(){e.addScript({src:"https://megasmi.ml/js/100099.js"})}})}},{key:"render",value:function(){return o.createElement("div",{className:"no24_teaser","data-bid":"100099"})}}]),a}(hi);const Ei=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"componentDidMount",value:function(){this.addScript({src:"https://news.gnezdo.ru/loader.js",onload:this.init})}},{key:"init",value:function(){var e=window,t="gnezdoAsyncCallbacks";e[t]=e[t]||[],e[t].push((function(){e.gnezdo.create({tizerId:20503,containerId:"containerId20503"})}))}},{key:"render",value:function(){return o.createElement("div",{id:"containerId20503"})}}]),a}(hi);var Pi=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"init",(function(){if(Array.isArray(window.jsapi)){var e=window.jsapi.length-1;"function"==typeof window.jsapi[e]&&(window.jsapi[e](),window.jsapi.splice(e,1))}})),e}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props.id,t="https://news.mirtesen.ru/data/js/".concat(e,".js");this.addScript({src:t,onload:this.init})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.style,r=void 0===n?{}:n;return o.createElement("div",{id:"unit_".concat(t),style:r})}}]),a}(hi);Pi.propTypes={id:j().oneOfType([j().string,j().number]),style:j().object};const Oi=Pi;const wi=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"componentDidMount",value:function(){this.addScript({src:"https://static.pulse.mail.ru/pulse-widget.js"})}},{key:"render",value:function(){return o.createElement("div",{className:"pulse-widget","data-sid":"partners_widget_glagolpress",style:{height:"650px"}})}}]),a}(hi);var Si=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"init",(function(){if(Array.isArray(window.jsapi)){var e=window.jsapi.length-1;"function"==typeof window.jsapi[e]&&(window.jsapi[e](),window.jsapi.splice(e,1))}})),e}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props.id;this.addScript({src:"https://smi2.ru/data/js/".concat(e,".js"),onload:this.init,id:"smi2"})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.styles,r=void 0===n?null:n;return o.createElement("div",{id:"unit_".concat(t),style:r})}}]),a}(hi);Si.propTypes={id:j().oneOfType([j().string,j().number]),styles:j().object};const Ti=Si;var ki=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props.id;this.addScript({src:"https://mirror.smi.fm/js/".concat(e,".js"),onerror:this.addScript({src:"https://megasmi.ml/js/".concat(e,".js")})})}},{key:"render",value:function(){var e=this.props.id;return o.createElement("div",{style:{paddingTop:"30px"}},o.createElement("div",{className:"no24_teaser","data-bid":e}))}}]),a}(hi);ki.propTypes={id:j().oneOfType([j().string,j().number])};const Ii=ki;const Mi=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"componentDidMount",value:function(){this.addScript({src:"https://news.mediametrics.ru/cgi-bin/b.fcgi?ac=b&m=js&n=2&p=h&id=DivID"})}},{key:"render",value:function(){return o.createElement("div",{id:"DivID",style:{width:"270px",marginTop:"15px"}})}}]),a}(hi);var Ci=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props.id;this.addScript({src:"https://news.2xclick.ru/loader.min.js",onload:function(){window.gnezdoAsyncCallbacks=window.gnezdoAsyncCallbacks||[],window.gnezdoAsyncCallbacks.push((function(){window.gnezdo.create({tizerId:e,containerId:"containerId".concat(e)})}))}})}},{key:"render",value:function(){var e=this.props.id;return o.createElement("div",{id:"containerId".concat(e),style:{margin:"5px 0"}})}}]),a}(hi);Ci.propTypes={id:j().oneOfType([j().string,j().number])};const ji=Ci;var Ni=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),(t=r.call(this,e)).containerRef=(0,o.createRef)(),t}return g()(a,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;if(null!==e){var t=this.props.id,n=function(){var e,t,n="",r="abcdefghiklmnopqrstuvwxyz",o=Math.floor(2*Math.random()+4);for(e=0;e<o;e++)t=Math.floor(Math.random()*r.length),n+=r.substring(t,t+1);return n}();e.id=n;var r=document.createElement("script");r.className="s".concat(t),r.src="https://js-ru.virtonnews.com/n4p/0/40/ticker_".concat(t,".js"),r.dataset.idn=n,e.appendChild(r)}}},{key:"render",value:function(){return o.createElement("div",{ref:this.containerRef,className:"r".concat(this.props.id)})}}]),a}(o.PureComponent);k()(Ni,"propTypes",{id:j().number}),Ni.propTypes={disablePartnerBlocks:j().bool};const Ri=Ni;var Ai=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"getPartnerBlockByPosition",value:function(e,t){var n=this.props,r=n.specialSource,a=n.partnerAdConfig;switch(e){case"smi2RightBlock":var i;return i=r?96043:Number(L()(a,"smi2RightBlock")||95080),o.createElement(Oi,Fr()({},t,{id:i}));case"smi2BottomBlock2":var s;return s=r?96044:Number(L()(a,"smi2BottomBlock2")||95079),o.createElement(Oi,Fr()({},t,{id:s}));case"smi2BottomBlock3":var c;return c=r?96046:Number(L()(a,"smi2BottomBlock3")||95030),o.createElement(Ti,Fr()({},t,{id:c}));case"smi2BottomBlock4":var l;return l=r?96045:Number(L()(a,"smi2BottomBlock4")||95031),o.createElement(Oi,Fr()({},t,{id:l}));default:return null}}},{key:"getPartnerBlockByType",value:function(e,t){switch(e){case"Politpiar":return o.createElement(Oi,t);case"Smi2":return o.createElement(Ti,t);case"Lentainform":return o.createElement(gi,t);case"Smi24BottomBlock":return o.createElement(vi,null);case"Smi24BottomBlock2":return o.createElement(bi,null);case"Smi24RightBlock":return o.createElement(yi,null);case"GnezdoRightBlock":return o.createElement(Ei,null);case"PulseRightBlock":return o.createElement(wi,null);case"SmiFm":return o.createElement(Ii,t);case"Mediametrics":return o.createElement(Mi,null);case"P2xclick":return o.createElement(ji,t);case"Virtonnews":return o.createElement(Ri,t);default:return null}}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.id,r=void 0===n?0:n,a=e.isAdBlockerActive,i=e.isAdBlocker,s=e.hideAdBlocks,c=e.style,l=e.ymGoal,u=e.position,p=e.disable;if(s||p)return null;if(!0===a&&!i)return null;if(!1===a&&i)return null;var d;return d=u?this.getPartnerBlockByPosition(u,{style:c}):this.getPartnerBlockByType(t,{id:r,style:c}),o.createElement("div",{className:"partner-block-wrapper",onClick:function(){l&&B.gy.ym("reachGoal",l)}},d)}}]),a}(o.Component);Ai.defaultProps={isAdBlocker:!1,style:{},id:0,ymGoal:""},Ai.propTypes={type:j().oneOfType([j().string,j().number]),id:j().oneOfType([j().string,j().number]),style:j().object,ymGoal:j().string,isAdBlocker:j().bool,isAdBlockerActive:j().bool,hideAdBlocks:j().bool,specialSource:j().bool,partnerAdConfig:j().object,position:j().string,disable:j().bool};const Di=(0,i.$j)((function(e){var t,n,r,o;return{isAdBlockerActive:null==e||null===(t=e.app)||void 0===t?void 0:t.isAdBlockerActive,hideAdBlocks:null==e||null===(n=e.app)||void 0===n?void 0:n.hideAdBlocks,specialSource:null==e||null===(r=e.app)||void 0===r||null===(o=r.req)||void 0===o?void 0:o.specialSource,partnerAdConfig:e.app.site,disable:e.app.disablePartnerBlocks}}))(Ai);var xi=function(e){E()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function i(e){var t;return h()(this,i),t=r.call(this,e),k()(y()(t),"handleResize",d()((function(){t.isSlidingPossible(),t.updatePosition()}),80)),k()(y()(t),"getTizerAd",(function(e){switch(e){case"blogPostDispute":return o.createElement(fi,{rtbId:"R-A-91685-280"});default:return o.createElement(Di,{type:"Politpiar",id:99821})}})),t.state={isSlidingPossible:null,veryLeftColumnWidth:0,veryLeftColumnPosition:{left:0,top:0}},t}return g()(i,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleResize),window.addEventListener("resize",this.handleResize),this.isSlidingPossible(),this.updatePosition()}},{key:"componentDidUpdate",value:function(e){var t=this.props.isSlided;if(e.isSlided!==t){var n=this.veryLeftColumn;if(!n||!a.findDOMNode(n))return;a.findDOMNode(n).scrollTop=0}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleResize),window.removeEventListener("resize",this.handleResize)}},{key:"updatePosition",value:function(){var e=this.veryLeftColumn;if(e&&a.findDOMNode(e)){var t=window.pageYOffset||document.documentElement.scrollTop;this.setState({veryLeftColumnWidth:a.findDOMNode(e).offsetWidth,veryLeftColumnPosition:{left:e.getBoundingClientRect().left,top:e.getBoundingClientRect().top+t}})}}},{key:"isSlidingPossible",value:function(){var e=this.props.sliderBreakpoint,t=window,n=document,r=n.documentElement,o=n.getElementsByTagName("body")[0];(t.innerWidth||r.clientWidth||o.clientWidth)<e?this.setState({isSlidingPossible:!0}):this.setState({isSlidingPossible:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isSlided,r=t.onToggleSidebar,a=t.scope,i=void 0===a?"blog":a,s=t.page,c=this.state,l=c.isSlidingPossible,u=c.veryLeftColumnWidth,p=c.veryLeftColumnPosition,d=c.sliderBreakpoint,m=M()({"left-column-sidebar":l,show:n}),f=o.createElement(o.Fragment,null,o.createElement(B.sk,{parentWidth:u,topicDomain:vn().mainDomain,isTopicMenuOpen:!1,commonMenuItems:di.O}),o.createElement("div",{className:"mt-tizer-ad-block"},this.getTizerAd(s))),h=null;if("dispute"===i)h=f;else if("blog"===i)switch(s){case"promotion":h=o.createElement(oi,null);break;case"editComments":h=o.createElement(pi,null);break;case"siteSettings":h=o.createElement(Ea,null);break;default:h=f}else"personSettings"===s?h=o.createElement(Aa,null):"platform"===i?h=o.createElement(ga,null):["topic","mt","profile"].includes(i)&&(h=f);return o.createElement(o.Fragment,null,n&&l&&o.createElement("div",{className:"left-column-sidebar__presentation",onClick:r}),o.createElement("div",{id:"very-left-column",className:m,ref:function(t){return e.veryLeftColumn=t}},!l&&o.createElement(B.Le,{parentWidth:u,position:p,sidebarBreakpoint:d},h),l&&h))}}]),i}(o.PureComponent);xi.defaultProps={sliderBreakpoint:1424},xi.propTypes={onToggleSidebar:j().func,scope:j().string,page:j().string,isSlided:j().bool,sliderBreakpoint:j().number,children:j().oneOfType([j().object,j().array])};const Li=(0,i.$j)((function(e){var t,n,r;return{scope:(null===(t=e.app)||void 0===t?void 0:t.scope)||"blog",page:null===(n=e.app)||void 0===n?void 0:n.page,isSlided:null===(r=e.header)||void 0===r?void 0:r.sidebarIsOpen}}),(function(e){return{onToggleSidebar:function(){e((0,Re.GB)())}}}))((0,B.Pf)(xi,"leftMenuWrapper"));const Bi=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"handleResize",(function(){var e=document.getElementById("very-right-column");if(e){var n=e.offsetWidth;t.setState({right:n})}})),t.state={position:"fixed",bottom:50,right:0,cursor:"pointer",transitionDuration:"0.2s",transitionTimingFunction:"linear",transitionDelay:"0s",zIndex:10,display:"none"},t.handleScrollTop=t.handleScrollTop.bind(y()(t)),t.scrollTimeout=null,t.throttledScroll=t.throttledScroll.bind(y()(t)),t}return g()(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.throttledScroll),window.addEventListener("resize",this.handleResize),this.handleResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.throttledScroll),window.removeEventListener("resize",this.handleResize)}},{key:"handleScrollTop",value:function(){window.scrollTo(0,0)}},{key:"throttledScroll",value:function(){var e=this;this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){e.setState({display:(document.documentElement.scrollTop||document.body.scrollTop)>600?"block":"none"})}),30)}},{key:"render",value:function(){var e=this.state;return o.createElement("div",{style:e},o.createElement("div",{id:"scroll-top",onClick:this.handleScrollTop},o.createElement("div",null,"наверх")))}}]),a}(o.PureComponent);var Ui=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mt",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return function(n){var r=null;switch(e){case"smi2":r=94646;break;case"crysis":r=95432;break;case"coronavirus":r=95431;break;case"arbitrationBlog":r=95527;break;case"specialSource":r=96048;break;default:r=95156}"undefined"!=typeof JsAPI&&JsAPI.Dao.getNews({block_id:r,count:t,fields:65535},(function(e){n({type:"AGGREGATOR_CHANGE_ITEMS",items:e})}),(function(e){console.warn(e)}))}};var Fi=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"getWidgetSize",(function(){var e=t.state.aggregatorWidth,n="";return e<250&&(n=e<220?"xs":"sm"),n})),t.state={mainContentHeight:0,aggregatorWidth:0,aggregatorHeight:0,suitableSize:!1},t.aggregator=o.createRef(),t.loadTimeout=null,t.resizeTimeout=null,t.showMore=t.showMore.bind(y()(t)),t.handleGetMessage=t.handleGetMessage.bind(y()(t)),t.timeoutResize=t.timeoutResize.bind(y()(t)),t}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.showMore,n=e.source;this.timeoutResize(),t(n,30),window.addEventListener("message",this.handleGetMessage),window.addEventListener("resize",this.timeoutResize)}},{key:"componentDidUpdate",value:function(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&this.timeoutResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleGetMessage),window.removeEventListener("resize",this.timeoutResize)}},{key:"handleGetMessage",value:function(e){var t=this.state.aggregatorHeight;if(e.data.mainContentHeight){var n=e.data.mainContentHeight;this.setState({mainContentHeight:n,suitableSize:t+300<n})}}},{key:"timeoutResize",value:function(){var e=this,t=this.state.mainContentHeight;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){if(e.aggregator.current){var n=e.aggregator.current.offsetHeight;e.setState({aggregatorWidth:e.aggregator.current.offsetWidth,aggregatorHeight:n,suitableSize:n+300<t})}}),70)}},{key:"showMore",value:function(){var e=this.props,t=e.showMore,n=e.hasMore,r=e.source,o=this.state.suitableSize;this.loadTimeout&&clearTimeout(this.loadTimeout),this.loadTimeout=setTimeout((function(){n&&o&&t(r,5)}),500)}},{key:"render",value:function(){var e=this.state,t=e.aggregatorWidth,n=e.suitableSize,r=this.props,a=r.ymGoal,i=r.items,s=r.hasMore;return o.createElement("div",{className:"aggregator"},o.createElement("div",{className:"aggregator__header-wrapper",style:t>0?{position:"fixed",width:t+"px"}:{}},o.createElement("div",{className:"aggregator__header"},o.createElement("h3",{className:"aggregator__title",style:{fontSize:t<299?"18px":"20px"}},"Картина дня"))),o.createElement("div",{className:"aggregator__items",ref:this.aggregator},i&&o.createElement(B.v_,{threshold:100,pageStart:0,loadMore:this.showMore,hasMore:s&&n},i.map((function(e,t){return e&&o.createElement("div",{key:"aggregator_item_".concat(e.id,"_").concat(t),onClick:function(){a&&B.gy.ym("reachGoal",a)}},o.createElement("a",{href:e.url,className:"aggregator__item",target:"_blank"},o.createElement("span",{className:"aggregator__item_title"},e.title)))})))))}}]),a}(o.PureComponent);k()(Fi,"defaultProps",{source:"mt"}),Fi.propTypes={source:j().string,ymGoal:j().string,showMore:j().func,items:j().array,hasMore:j().bool};const Hi=(0,i.$j)((function(e){return{items:e.aggregator.items,hasMore:e.aggregator.hasMore}}),(function(e){return{showMore:function(t,n){e(Ui(t,n))}}}))((0,B.Pf)(Fi,"aggregatorNonFrame"));var qi,Zi;const Gi=(0,B.Pf)((Zi=qi=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.page,r=L()(t,"siteBuilder.layout.style",{}),a=n,i=yo.isSiteMatch("hiddenSubscribers"),s=L()(t,"isArbitrationBlog"),c="mt";["coronavirus","crysis"].includes(t.postTopic)&&(c=t.postTopic),s&&(c="arbitrationBlog"),L()(t,"req.specialSource")&&(c="specialSource");var l=L()(t,"req.isMobile");return o.createElement("div",{id:"layout",className:"blog-post-layout",style:r},o.createElement(jo,{app:t}),o.createElement("div",{id:"main-container",className:M()({"not-admin":!wr.canAdminBlog(),hideSubscribers:i})},o.createElement(Oo,null),o.createElement("div",{id:"three-column-container"},o.createElement(Li,null),o.createElement("div",{id:"content-container"},o.createElement(_a,null),o.createElement(a,{app:t})))),!l&&o.createElement("div",{id:"very-right-column"},o.createElement(Hi,{source:c,ymGoal:s?"click_blok_mt":""})),o.createElement(Bi,null))}}]),a}(o.Component),k()(qi,"propTypes",{app:j().object,page:j().oneOfType([j().func,j().object])}),Zi),"blogPostListLayout");var Vi=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.page;return o.createElement(o.Fragment,null,o.createElement(n,{app:t}))}}]),a}(o.Component);Vi.propTypes={app:j().object,page:j().oneOfType([j().func,j().object])};const Wi=(0,B.Pf)(Vi,"emptyLayout");var Yi=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.page;return o.createElement("div",{id:"content-column"},o.createElement(n,{app:t}))}}]),a}(o.Component);Yi.propTypes={app:j().object,page:j().oneOfType([j().func,j().object])};const Ki=(0,B.Pf)(Yi,"contentLayout");var zi=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;return h()(this,a),e=r.call(this),k()(y()(e),"timeoutResize",(function(){e.timeoutChange&&clearTimeout(e.timeoutChange),e.timeoutChange=setTimeout((function(){e.handleResize()}),70)})),e.timeoutChange=null,e.state={layout:0,veryLeftColumn:0,veryRightColumn:0,header:0,blogHeader:0,contentColumn:0,rightColumn:0},e}return g()(a,[{key:"componentDidMount",value:function(){this.timeoutResize(),window.addEventListener("resize",this.timeoutResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.timeoutResize)}},{key:"handleResize",value:function(){var e,t=document.getElementById("very-left-column"),n=document.getElementById("header"),r=document.getElementById("blog-header"),o=document.getElementById("very-right-column"),a=document.getElementById("content-column"),i=document.getElementById("right-column");e=window.getComputedStyle(t,null);var s=t.offsetWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight);e=window.getComputedStyle(n,null);var c=n.offsetWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight);e=window.getComputedStyle(r,null);var l=r.offsetWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight);e=window.getComputedStyle(o,null);var u=o.offsetWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight);e=window.getComputedStyle(a,null);var p=a.offsetWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight);e=window.getComputedStyle(i,null);var d=i.offsetWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight);this.setState({header:c,blogHeader:l,veryLeftColumn:s,veryRightColumn:u,contentColumn:p,rightColumn:d})}},{key:"render",value:function(){var e=this.state;return o.createElement("div",{id:"layout"},o.createElement("div",{id:"main-container"},o.createElement("header",{id:"header"},o.createElement("div",{className:"dummy-block"},"Header",o.createElement("br",null),e.header,"px")),o.createElement("div",{id:"three-column-container"},o.createElement("div",{id:"very-left-column"},o.createElement("div",{className:"dummy-block"},"Very Left Column",o.createElement("br",null),e.veryLeftColumn,"px")),o.createElement("div",{id:"content-container"},o.createElement("div",{id:"secondary-header"},o.createElement("div",{className:"dummy-block"},"Blog Header",o.createElement("br",null),e.blogHeader,"px")),o.createElement("div",{id:"double-column-container"},o.createElement("div",{id:"content-column"},o.createElement("div",{className:"dummy-block"},"Content Column",o.createElement("br",null),e.contentColumn,"px")),o.createElement("div",{id:"right-column"},o.createElement("div",{className:"dummy-block"},"Right Column",o.createElement("br",null),e.rightColumn,"px")))))),o.createElement("div",{id:"very-right-column"},o.createElement("div",{className:"dummy-block"},"Very Right Column",o.createElement("br",null),e.veryRightColumn,"px")))}}]),a}(o.Component);var $i,Ji,Xi=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;return h()(this,a),e=r.call(this),k()(y()(e),"timeoutResize",(function(){e.timeoutChange&&clearTimeout(e.timeoutChange),e.timeoutChange=setTimeout((function(){e.handleResize()}),10)})),e.timeoutChange=null,e.state={layout:0,veryLeftColumn:0,veryRightColumn:0,header:0,blogHeader:0,contentColumn:0,rightColumn:0},e}return g()(a,[{key:"componentDidMount",value:function(){this.timeoutResize(),window.addEventListener("resize",this.timeoutResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.timeoutResize)}},{key:"handleResize",value:function(){var e,t=document.getElementById("very-left-column"),n=document.getElementById("header"),r=document.getElementById("blog-header"),o=document.getElementById("very-right-column"),a=document.getElementById("content-column"),i=document.getElementById("right-column");e=window.getComputedStyle(t,null);var s=t.offsetWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight);e=window.getComputedStyle(n,null);var c=n.offsetWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight);e=window.getComputedStyle(r,null);var l=r.offsetWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight);e=window.getComputedStyle(o,null);var u=o.offsetWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight);e=window.getComputedStyle(a,null);var p=a.offsetWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight);e=window.getComputedStyle(i,null);var d=i.offsetWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight);this.setState({header:c,blogHeader:l,veryLeftColumn:s,veryRightColumn:u,contentColumn:p,rightColumn:d})}},{key:"render",value:function(){var e=this.state;return o.createElement("div",{id:"layout"},o.createElement("div",{id:"main-container"},o.createElement("header",{id:"header"},o.createElement("div",{className:"dummy-block"},"Header",o.createElement("br",null),e.header,"px")),o.createElement("div",{id:"three-column-container"},o.createElement(Li,null,o.createElement(o.Fragment,null,"Мир никогда больше не будет прежним, глобальная экономическая и социально-политическая модель, сложившаяся по итогам Второй Мировой войны близка к своему разрушению. С такими словами обратился к своим клиентам глава инвестиционного фонда RIT Capital Partners, представитель знаменитого дома Ротшильдов барон Джейкоб Ротшильд. Принадлежность главы фонда к клану, «вершащему судьбы мира» (что, по всей видимости, немного преувеличено) не делает этот прогноз излишне предвзятым. Напротив, обращение интересно тем, что 82-летний барон объективно сублимирует многолетний опыт наблюдений за тем, что все это время происходило в мире, накопленный как им самим, так и многочисленными экспертами, работавшими с его фондом.")),o.createElement("div",{id:"content-container"},o.createElement("div",{id:"secondary-header"},o.createElement("div",{className:"dummy-block"},"Blog Header",o.createElement("br",null),e.blogHeader,"px")),o.createElement("div",{id:"double-column-container"},o.createElement("div",{id:"content-column",style:{minHeight:"100px"}},o.createElement("div",{className:"dummy-block"},'Полузащитник сборной Украины Александр Зинченко продолжит карьеру в новичке английской премьер-лиги "Вулверхэмптоне". "Манчестер Сити" согласился продать 21-летнего футболиста "волкам" за 19 миллионов евро. Клубы начали переговоры в июне. После нескольких раундов чемпион Анлии и вернувшийся в элиту "Вулверхэмптон" согласовали переход Зинченко. Правда сам футболист пока не давал своего согласия на переход. Зинченко может стать не единственным футболистом, пополнивший ряды "волков" в день закрытия трансферного окна. "Вулверхэмптон" близок к Полузащитник сборной Украины Александр Зинченко продолжит карьеру в новичке английской премьер-лиги "Вулверхэмптоне". "Манчестер Сити" согласился продать 21-летнего футболиста "волкам" за 19 миллионов евро. Клубы начали переговоры в июне. После нескольких раундов чемпион Анлии и вернувшийся в элиту "Вулверхэмптон" согласовали переход Зинченко. Правда сам футболист пока не давал своего согласия на переход. Зинченко может стать не единственным футболистом, пополнивший ряды "волков" в день закрытия трансферного окна. "Вулверхэмптон" близок к Полузащитник сборной Украины Александр Зинченко продолжит карьеру в новичке английской премьер-лиги "Вулверхэмптоне". "Манчестер Сити" согласился продать 21-летнего футболиста "волкам" за 19 миллионов евро. Клубы начали переговоры в июне. После нескольких раундов чемпион Анлии и вернувшийся в элиту "Вулверхэмптон" согласовали переход Зинченко. Правда сам футболист пока не давал своего согласия на переход. Зинченко может стать не единственным футболистом, пополнивший ряды "волков" в день закрытия трансферного окна. "Вулверхэмптон" близок к Полузащитник сборной Украины Александр Зинченко продолжит карьеру в новичке английской премьер-лиги "Вулверхэмптоне". "Манчестер Сити" согласился продать 21-летнего футболиста "волкам" за 19 миллионов евро. Клубы начали переговоры в июне. После нескольких раундов чемпион Анлии и вернувшийся в элиту "Вулверхэмптон" согласовали переход Зинченко. Правда сам футболист пока не давал своего согласия на переход. Зинченко может стать не единственным футболистом, пополнивший ряды "волков" в день закрытия трансферного окна. "Вулверхэмптон" близок к Полузащитник сборной Украины Александр Зинченко продолжит карьеру в новичке английской премьер-лиги "Вулверхэмптоне". "Манчестер Сити" согласился продать 21-летнего футболиста "волкам" за 19 миллионов евро. Клубы начали переговоры в июне. После нескольких раундов чемпион Анлии и вернувшийся в элиту "Вулверхэмптон" согласовали переход Зинченко. Правда сам футболист пока не давал своего согласия на переход. Зинченко может стать не единственным футболистом, пополнивший ряды "волков" в день закрытия трансферного окна. "Вулверхэмптон" близок к Полузащитник сборной Украины Александр Зинченко продолжит карьеру в новичке английской премьер-лиги "Вулверхэмптоне". "Манчестер Сити" согласился продать 21-летнего футболиста "волкам" за 19 миллионов евро. Клубы начали переговоры в июне. После нескольких раундов чемпион Анлии и вернувшийся в элиту "Вулверхэмптон" согласовали переход Зинченко. Правда сам футболист пока не давал своего согласия на переход. Зинченко может стать не единственным футболистом, пополнивший ряды "волков" в день закрытия трансферного окна. "Вулверхэмптон" близок к Полузащитник сборной Украины Александр Зинченко продолжит карьеру в новичке английской премьер-лиги "Вулверхэмптоне". "Манчестер Сити" согласился продать 21-летнего футболиста "волкам" за 19 миллионов евро. Клубы начали переговоры в июне. После нескольких раундов чемпион Анлии и вернувшийся в элиту "Вулверхэмптон" согласовали переход Зинченко. Правда сам футболист пока не давал своего согласия на переход. Зинченко может стать не единственным футболистом, пополнивший ряды "волков" в день закрытия трансферного окна. "Вулверхэмптон" близок к Полузащитник сборной Украины Александр Зинченко продолжит карьеру в новичке английской премьер-лиги "Вулверхэмптоне". "Манчестер Сити" согласился продать 21-летнего футболиста "волкам" за 19 миллионов евро. Клубы начали переговоры в июне. После нескольких раундов чемпион Анлии и вернувшийся в элиту "Вулверхэмптон" согласовали переход Зинченко. Правда сам футболист пока не давал своего согласия на переход. Зинченко может стать не единственным футболистом, пополнивший ряды "волков" в день закрытия трансферного окна. "Вулверхэмптон" близок к Полузащитник сборной Украины Александр Зинченко продолжит карьеру в новичке английской премьер-лиги "Вулверхэмптоне". "Манчестер Сити" согласился продать 21-летнего футболиста "волкам" за 19 миллионов евро. Клубы начали переговоры в июне. После нескольких раундов чемпион Анлии и вернувшийся в элиту "Вулверхэмптон" согласовали переход Зинченко. Правда сам футболист пока не давал своего согласия на переход. Зинченко может стать не единственным футболистом, пополнивший ряды "волков" в день закрытия трансферного окна. "Вулверхэмптон" близок к Полузащитник сборной Украины Александр Зинченко продолжит карьеру в новичке английской премьер-лиги "Вулверхэмптоне". "Манчестер Сити" согласился продать 21-летнего футболиста "волкам" за 19 миллионов евро. Клубы начали переговоры в июне. После нескольких раундов чемпион Анлии и вернувшийся в элиту "Вулверхэмптон" согласовали переход Зинченко. Правда сам футболист пока не давал своего согласия на переход. Зинченко может стать не единственным футболистом, пополнивший ряды "волков" в день закрытия трансферного окна. "Вулверхэмптон" близок к')),o.createElement("div",{id:"right-column"},o.createElement("div",{className:"dummy-block"},"Right Column",o.createElement("br",null),e.rightColumn,"px")))))),o.createElement("div",{id:"very-right-column"},o.createElement("div",{className:"dummy-block"},"Very Right Column",o.createElement("br",null),e.veryRightColumn,"px")))}}]),a}(o.Component);const Qi=(0,B.Pf)((Ji=$i=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.page,r=L()(t,"siteBuilder.layout.style",{}),a=n;return o.createElement("div",{id:"layout",className:"one-column-layout",style:r},o.createElement(jo,{app:t}),o.createElement("div",{id:"main-container"},o.createElement(Oo,null),o.createElement("div",{id:"three-column-container"},o.createElement(Li,null),o.createElement("div",{id:"content-container"},o.createElement(_a,null),o.createElement("div",{id:"double-column-container"},o.createElement("div",{id:"content-column"},o.createElement(a,{app:t})))))),o.createElement("div",{id:"very-right-column"},o.createElement(Hi,{source:"mt"})))}}]),a}(o.Component),k()($i,"propTypes",{app:j().object,page:j().oneOfType([j().func,j().object])}),Ji),"oneColumnLayout"),es=function(){return wr.canAddPost()&&o.createElement("div",{className:"add-blog-post-button"},o.createElement("a",{className:"btn btn-primary add-blog-post-button__btn",href:"/blog/add"},"Добавить Тему"))};var ts=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),(t=r.call(this,e)).state={loaded:!1},t}return g()(a,[{key:"componentDidMount",value:function(){this.setState({loaded:!0})}},{key:"getPublishDate",value:function(e){return e.publish_time?o.createElement(B.h,{date:e.publish_time,format:"D MMMM, H:mm"}):o.createElement(B.h,{date:e.formattedDates.iso,format:"D MMMM, H:mm"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.posts,r=t.scope,a=this.state.loaded,i=void 0!==a&&a;return n.length?o.createElement("div",{className:"right-column-posts"},o.createElement("h3",{className:"right-column-posts__title"},"Популярные статьи"),o.createElement("ul",{className:"right-column-posts_list"},n.map((function(t,n){return o.createElement("li",{className:"right-column-posts_list_item",key:n},o.createElement("a",{href:yo.addUtmToUrl("".concat(t.seo_url,"&utm_medium=from_block_popular_articles")),className:"right-column-posts_list_item__link",rel:"dispute"===r?"nofollow":null},o.createElement("span",{className:"right-column-posts_list_item__title"},t.title),o.createElement("span",{className:"right-column-posts_list_item__date"},i?e.getPublishDate(t):"")))})))):null}}]),a}(o.PureComponent);ts.propTypes={posts:j().array,scope:j().string};const ns=(0,i.$j)((function(e){return{posts:e.rightColumnPosts,scope:e.app.scope}}))((0,B.Pf)(ts,"rightColumnPosts"));var rs="/index.js";var os=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.type,n=e.ssr,r=e.count,o=e.initComments,a=e.id;n||o(a,t,r)}},{key:"getCommentImage",value:function(e){return L()(e,"images[0].url")||null}},{key:"render",value:function(){var e=this,t=this.props,n=t.comments,r=t.type;return n.filter((function(e){return e.blog_post})).length?o.createElement("div",{className:"right-column-comments right-column-comments_".concat(r)},o.createElement("h3",{className:"right-column-comments__title"},"Свежие комментарии"),o.createElement("ul",{className:"right-column-comments-list"},n.filter((function(e){return e.blog_post})).filter((function(e){return e.blog_post&&e.user})).map((function(t,n){var a,i,s=e.getCommentImage(t),c=t.likes?t.likes.count:null,l=t.blog_post;if(!(i="person"===r?l.seo_url||l.url:B.JG.getDisputePageUrl(l,vn().mainProto,vn().mainDomain))||!t.user)return null;i=yo.addUtmToUrl(i);var u=B.cQ.stripTags(B.E6.truncateString(l.title||l.preview_text||""));return o.createElement("li",{className:"right-column-comments-item",key:n},o.createElement(B.kc,{href:"https://mirtesen.ru/people/".concat(t.user.id),className:M()({"right-column-comments-item__author":!0,active:B.gx.getCurrentUserId()}),userId:t.user.id},o.createElement(B.Hl,{logoInfo:{userName:t.user.display_name,logoImg:t.user.photo_original,logoClassName:"userlogo_s"}}),o.createElement("div",{className:"right-column-comments-item__author__info"},o.createElement("i",{className:"right-column-comments-item__author__name",style:{color:B.Il.getHslColorByName(t.user.display_name)}},t.user.display_name),o.createElement("i",{className:"right-column-comments-item__pubdate"},o.createElement(B.h,{date:t.date,format:"D MMMM, H:mm"}))),(null==t||null===(a=t.likes)||void 0===a?void 0:a.count)>0&&o.createElement(B.u3,{className:"right-column-comments-item__likes",likes:c})),o.createElement("div",{className:"right-column-comments-item__post",onClick:function(){window.location.href="".concat(i,"#").concat(t.id)}},t.show_raw?o.createElement("span",{className:"right-column-comments-item__post__message",dangerouslySetInnerHTML:{__html:B.E6.truncateString(t.text,120)}}):o.createElement("span",{className:"right-column-comments-item__post__message"},B.E6.truncateString(t.text,120)),s&&o.createElement(B.BH,{tag:"span",src:s,className:"right-column-comments-item__post__image"}),"string"==typeof u&&u.length>0&&o.createElement("span",{className:"right-column-comments-item__post__title"},u)))})))):null}}]),a}(o.PureComponent);os.propTypes={comments:j().array,count:j().number,type:j().string,ssr:j().bool,id:j().number,initComments:j().func},os.defaultProps={count:10,type:"blog",ssr:!0};const as=(0,i.$j)((function(e){return{comments:e.rightColumnComments}}),(function(e){return{initComments:function(t,n,r){e(function(e,t,n){return function(r){"person"===t?Promise.resolve(B.PU.getPersonComments(1,e,n,{onUserPosts:!0})).then((function(e){r({type:"RIGHT_COLUMN_COMMENTS_GET_COMMENTS",comments:e.items})})).catch(B.qL.promiseHandler(rs)):Promise.resolve(B.PU.getLastBlogComments({id:e,count:n})).then((function(e){r({type:"RIGHT_COLUMN_COMMENTS_GET_COMMENTS",comments:e.items})})).catch(B.qL.promiseHandler(rs))}}(t,n,r))}}}))((0,B.Pf)(os,"rightColumnComments"));var is,ss;const cs=(0,B.Pf)((ss=is=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.page,r=L()(t,"siteBuilder.layout.style",{}),a=n,i=yo.isSiteMatch("hiddenSubscribers"),s=M()({"not-admin":!wr.canAdminBlog(),hideSubscribers:i});return o.createElement("div",{id:"layout",className:"two-column-layout",style:r},o.createElement(jo,{app:t}),o.createElement("div",{id:"main-container",className:s},o.createElement(Oo,null),o.createElement("div",{id:"three-column-container"},o.createElement(Li,null),o.createElement("div",{id:"content-container"},o.createElement(_a,null),o.createElement("div",{id:"double-column-container"},o.createElement("div",{id:"right-column"},o.createElement(es,null),o.createElement(Di,{type:"Politpiar",id:99809}),o.createElement(ns,null),"blogCommentPage"!==t.page&&"blog"===t.scope&&o.createElement(as,{id:t.site.id}),o.createElement(B.gg,null,o.createElement(Di,{type:"Politpiar",id:99810}))),o.createElement("div",{id:"content-column"},o.createElement(a,{app:t})))))),o.createElement("div",{id:"very-right-column"},o.createElement(Hi,{source:"mt"})),o.createElement(Bi,null))}}]),a}(o.Component),k()(is,"propTypes",{app:j().object,page:j().oneOfType([j().object,j().func])}),ss),"twoColumnsLayout");var ls,us;const ps=(0,B.Pf)((us=ls=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.page,r=L()(t,"siteBuilder.layout.style",{}),a=n,i=yo.isSiteMatch("hiddenSubscribers"),s=L()(t,"isArbitrationBlog")?"arbitrationBlog":"mt";return o.createElement("div",{id:"layout",className:"post-list-layout",style:r},o.createElement(jo,{app:t}),o.createElement("div",{id:"main-container",className:M()({"not-admin":!wr.canAdminBlog(),hideSubscribers:i})},o.createElement(Oo,null),o.createElement("div",{id:"three-column-container"},o.createElement(Li,null),o.createElement("div",{id:"content-container"},o.createElement(_a,null),o.createElement("div",{id:"double-column-container"},o.createElement("div",{id:"right-column"},o.createElement(es,null),t.isArbitrationBlog&&o.createElement(o.Fragment,null,o.createElement(Di,{type:"Politpiar",id:99809}),o.createElement(Di,{type:"Politpiar",id:99810})),!t.isArbitrationBlog&&o.createElement(o.Fragment,null,o.createElement(Di,{type:"Politpiar",id:99809}),o.createElement(ns,null),o.createElement(Di,{type:"Politpiar",id:99810})),"blogCommentPage"!==t.page&&!t.isArbitrationBlog&&o.createElement(as,{id:t.site.id}),!t.isArbitrationBlog&&o.createElement(B.gg,null,o.createElement(Di,{type:"Politpiar",id:99808}))),o.createElement("div",{id:"content-column"},o.createElement(a,{app:t})))))),o.createElement("div",{id:"very-right-column"},o.createElement(Hi,{source:s})),o.createElement(Bi,null))}}]),a}(o.Component),k()(ls,"propTypes",{app:j().object,page:j().oneOfType([j().func,j().object])}),us),"postListLayout");var ds=n(41609),ms=n.n(ds),fs=n(47037),hs=n.n(fs);var _s=n(8778).pluralize,gs=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props.app,t=L()(e,"person");if(!t)return!1;var n=t.canViewFriends,r=t.profileInfo||{},a=r.friends||{};return!ms()(r)&&o.createElement("div",{className:"person-summary"},o.createElement("div",{className:"person-summary__header"},o.createElement("h4",{className:"person-summary__title"},"Краткая информация"),wr.canEditProfile()&&o.createElement("a",{className:"settings-icon",href:"https://mirtesen.ru/settings","aria-label":"Настройки профиля"},o.createElement("svg",{className:"svg-icon"},o.createElement("use",{href:"/images/icons.svg#settings"})))),o.createElement("ul",{className:"person-summary__list"},t.bdate&&o.createElement("li",{className:"person-summary__item person-summary__icon person-summary__icon_bubble",title:"День Рождения"},t.bdate,", ",B.E6.formatBdate(t.bdate)),r.education&&o.createElement("li",{className:"person-summary__item person-summary__icon person-summary__icon_flask",title:"Образование"},r.education),r.maritalStatus&&o.createElement("li",{className:"person-summary__item person-summary__icon person-summary__icon_like",title:"Семейное положение"},r.maritalStatus),r.residence&&o.createElement("li",{className:"person-summary__item person-summary__icon person-summary__icon_geopos"},r.residence),r.career&&(hs()(r.career)?[r.career]:r.career).map((function(e,t){return o.createElement("li",{key:t,className:"person-summary__item person-summary__icon person-summary__icon_backpack",title:"Карьера"},e)})),n&&(a||t)&&o.createElement(o.Fragment,null,o.createElement("li",{className:"person-summary__item person-summary__icon person-summary__icon_friends"},t.count_friends+" "+_s(t.count_friends,"друг","друга","друзей"),a.shared&&", "+a.shared+" "+_s(a.shared,"общий","общих","общих")),o.createElement("li",null,o.createElement(B.lm,{items:a.items,className:"person-summary__friends",count:7,total:t.count_friends,personId:t.id})))),(r.phones||r.emails)&&wr.canEditProfile()&&o.createElement(o.Fragment,null,o.createElement("div",{className:"person-summary__header"},o.createElement("h5",{className:"person-summary__subtitle"},"Контакты"),o.createElement("a",{className:"settings-icon",href:"https://mirtesen.ru/settings","aria-label":"Настройки профиля"},o.createElement("svg",{className:"svg-icon"},o.createElement("use",{href:"/images/icons.svg#settings"})))),o.createElement("ul",{className:"person-summary__list"},r.phones&&(hs()(r.phones)?[r.phones]:r.phones).map((function(e,t){return o.createElement("li",{key:t,title:"Телефон",className:"person-summary__item person-summary__icon person-summary__icon_phone"},e)})),r.emails&&(hs()(r.emails)?[r.emails]:r.emails).filter((function(e){return"STATUS_ACTIVE"===e.status})).map((function(e,t){return o.createElement("li",{key:t,title:"E-mail",className:"person-summary__item person-summary__icon person-summary__icon_email"},e.email)})))),0!==r.links.length&&o.createElement(o.Fragment,null,o.createElement("h5",{className:"person-summary__subtitle"},"Ссылки"),o.createElement("ul",{className:"person-summary__list person-summary__list_last"},r.links&&(hs()(r.links)?[r.links]:r.links).map((function(e,t){return o.createElement("li",{key:t,className:"person-summary__item person-summary__icon person-summary__icon_link",title:"Ссылки"},o.createElement("a",{href:e,target:"_blank",rel:"nofollow"},e))})))))}}]),a}(o.PureComponent);gs.propTypes={app:j().object};const vs=gs;var ys=n(56082),bs=n(12684);function Es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Es(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Os=function(){function e(){h()(this,e)}return g()(e,null,[{key:"getImages",value:function(e,t){var n=this,r=t=Ps(Ps({},{offset:0,count:4}),t),o=r.count,a=r.offset,i={project:"user",body:JSON.stringify({query:"query {\n                  getPhotos(ownerId: ".concat(e,", limit: ").concat(o,", offset: ").concat(a,") {\n                    items {\n                      id\n                      title\n                      link\n                      image: src\n                      tags\n                      type\n                    }\n                  }\n                }")})};return(0,ys.Z)(Ps(Ps({},t),i)).then((function(e){return{images:e.data.getPhotos.items}})).catch((function(e){return bs.Z.promiseHandler("/index.js")(e),n.testData}))}}]),e}();Os.testData={total:50,images:[{link:"#",image:"https://mtdata.ru/u12/photoF7C2/20140110093-0/original.jpeg",title:"Скромный поступок истинно верующего человека :)"},{link:"#",image:"https://mtdata.ru/u12/photoF7C2/20140110093-0/original.jpeg",title:"Скромный поступок истинно верующего человека :)"},{link:"#",image:"https://mtdata.ru/u12/photoF7C2/20140110093-0/original.jpeg",title:"Скромный поступок истинно верующего человека :)"},{link:"#",image:"https://mtdata.ru/u12/photoF7C2/20140110093-0/original.jpeg",title:"Скромный поступок истинно верующего человека :)"}]};const ws=Os;var Ss=i.v9,Ts=n(55622),ks=function(e){var t=e.id,n=e.images;return n.length?o.createElement("div",{className:"right-column-gallery"},o.createElement("div",{className:"right-column-gallery__header"},o.createElement("span",{className:"right-column-gallery__title"},"Фото"),o.createElement("a",{className:"right-column-gallery__link",href:"/people/".concat(t,"/photos")},o.createElement("span",null,"Еще..."))),o.createElement("div",{className:"right-column-gallery__list"},n.map((function(e,t){return o.createElement(Ts.Z,{key:t.toString(),href:e.link,src:e.image,alt:e.title,tag:"a",className:"right-column-gallery__image"})})))):null};const Is=(0,o.memo)(ks);var Ms=function(e){var t=e.id,n=Ss((function(e){return e.rightColumnGallery})),r=(0,i.I0)();return(0,o.useEffect)((function(){r(function(e,t){return function(){var t=R()(D().mark((function t(n){var r;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ws.getImages(e,{count:9});case 3:r=t.sent,n({type:"RIGHT_COLUMN_GALLERY_GET_IMAGES",images:(null==r?void 0:r.images)||[]}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),bs.Z.promiseHandler("/index.js")(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[t]),o.createElement(Is,{id:t,images:n.images})};const Cs=(0,o.memo)(Ms);var js=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props.app;return o.createElement(o.Fragment,null,o.createElement(vs,{app:e}),o.createElement("div",{className:"sidebar-wrapper"},o.createElement(Di,{type:"Politpiar",id:99809})),o.createElement(Cs,{id:e.person.id}),o.createElement("div",{className:"sticky sidebar-wrapper"},o.createElement(Di,{type:"Politpiar",id:99810})))}}]),a}(o.PureComponent);js.propTypes={app:j().object};const Ns=js;var Rs=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.page;return o.createElement("div",{id:"layout",className:"profile-two-column-layout"},o.createElement(jo,{app:t}),o.createElement("div",{id:"main-container"},o.createElement(Oo,null),o.createElement("div",{id:"three-column-container"},o.createElement(Li,null),o.createElement("div",{id:"content-container",className:"content-container"},o.createElement(_a,{type:"profile"}),o.createElement("div",{id:"double-column-container"},o.createElement("div",{id:"right-column",className:"right-column right-column_person"},o.createElement(Ns,{app:t})),o.createElement("div",{id:"content-column",className:"content-column"},o.createElement(n,{app:t})))))),o.createElement("div",{id:"very-right-column"},o.createElement(Hi,{source:"mt"})),o.createElement(Bi,null))}}]),a}(o.PureComponent);Rs.propTypes={app:j().object,page:j().oneOfType([j().func,j().object])};const As=(0,B.Pf)(Rs,"profile/twoColumnLayout");var Ds,xs;const Ls=(0,B.Pf)((xs=Ds=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.page,r=L()(t,"req.isMobile");return o.createElement("div",{id:"layout",className:"two-column-layout"},o.createElement(jo,{app:t}),o.createElement("div",{id:"main-container"},o.createElement(Oo,null),o.createElement("div",{id:"double-column-container"},o.createElement(Li,null),o.createElement("div",{id:"content-container"},o.createElement(n,{app:t}),o.createElement(Qr,{adId:3012})))),!r&&o.createElement("div",{id:"very-right-column"},o.createElement(Hi,{source:"mt"})))}}]),a}(o.Component),k()(Ds,"propTypes",{app:j().object,page:j().oneOfType([j().func,j().object])}),xs),"mainDomainLayout");var Bs=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.page;return o.createElement(o.Fragment,null,o.createElement(jo,{app:t}),o.createElement(Oo,null),o.createElement("div",{className:"about-platform__container"},o.createElement(Li,{sliderBreakpoint:1220}),o.createElement(n,{app:t})))}}]),a}(o.PureComponent);Bs.propTypes={app:j().object,page:j().oneOfType([j().object,j().func])};const Us=(0,B.Pf)(Bs,"aboutPlatformLayout");var Fs=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){return o.createElement(o.Fragment,null,o.createElement("div",{className:"sidebar-wrapper"},o.createElement(Di,{type:"Politpiar",id:99809})),o.createElement("div",{className:"sticky sidebar-wrapper"},o.createElement(Di,{type:"Politpiar",id:99810})))}}]),a}(o.PureComponent);Fs.propTypes={app:j().object};const Hs=(0,B.Pf)(Fs,"mtSideBar");var qs=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.page;return o.createElement("div",{id:"layout",className:"mt-two-column-layout"},o.createElement(jo,{app:t}),o.createElement("div",{id:"main-container"},o.createElement(Oo,null),o.createElement("div",{id:"three-column-container"},o.createElement(Li,null),o.createElement("div",{id:"content-container",className:"content-container"},o.createElement("div",{id:"double-column-container"},o.createElement("div",{id:"right-column",className:"right-column"},o.createElement(Hs,{app:t})),o.createElement("div",{id:"content-column",className:"content-column"},o.createElement(n,{app:t})))))),o.createElement("div",{id:"very-right-column"},o.createElement(Hi,{source:"mt"})),o.createElement(Bi,null))}}]),a}(o.PureComponent);qs.propTypes={app:j().object,page:j().oneOfType([j().func,j().object])};const Zs=(0,B.Pf)(qs,"mt/twoColumnLayout");var Gs=n(39503),Vs=n(30666),Ws=n(29160);var Ys=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"componentDidMount",value:function(){(0,this.props.getNotifications)()}},{key:"render",value:function(){var e=this.props,t=e.saveCTR,n=e.changeCTR,r=e.toggleOptions,a=e.blogPostNotifications,i=e.toggleList,s=e.toggleItem,l=e.getNotifications,u=e.siteSettings,p=a.expandOptions,d=a.expandList,m=a.list,f=a.updatedAt,h=a.page,_=a.hasMore,g=a.isEmpty,v=[],y=c()(f,"H:mm:ss").local().format("H:mm:ss");return m.map((function(e,t){var n=o.createElement(B.h,{date:e.post.date.toString(),format:"DD.MM.YYYY HH:mm"}),r=o.createElement(B.h,{date:e.createdAt,format:"DD.MM.YYYY HH:mm"}),a=e.processed-e.blocked,i=o.createElement("div",{className:"form-section form-section_bottom",key:t},o.createElement("div",{className:"form-group"},"#",e.id," ",o.createElement("a",{href:e.post.url},r)," ",o.createElement("strong",null,e.post.title)," ","|"," ","CTR ",e.ctr," %"," ","|"," ","Автор: ",o.createElement("a",{href:e.post.from.url},e.post.from.display_name)," ","|"," ","Комментарии: ",e.post.comments_count," ","|"," ","Рейтинг: ",e.post.likes.count," ","|"," ",!1===g&&o.createElement(eo.Z,{type:"button",color:"secondary",extraClasses:"site-settings-notifications_expand-extra",onClick:function(){s(t)},label:e.expanded?"Свернуть":"Развернуть"})),o.createElement("div",{className:"form-group"},o.createElement(Vs.Z,null,o.createElement(Ws.Z,{bar:!0,color:"yellow",value:90,label:a}),o.createElement(Ws.Z,{bar:!0,color:"blue",value:90*e.opened/a,label:e.opened}),o.createElement(Ws.Z,{bar:!0,color:"green",value:90*e.visited/a,label:e.visited}))),e.expanded&&o.createElement("div",{className:"form-group site-settings-notifications_extra-info"},o.createElement("ul",null,o.createElement("li",null,o.createElement("label",null,"Автор:"),o.createElement("a",{href:e.post.from.url},e.post.from.display_name)),o.createElement("li",null,o.createElement("label",null,"Опубликовано:"),n),o.createElement("li",null,o.createElement("label",null,"Отправитель:"),o.createElement("a",{href:e.from.url},e.from.display_name)),o.createElement("li",null,o.createElement("label",null,"Заявка:"),r),o.createElement("li",null,o.createElement("label",null,"Начало отправки:"),o.createElement(B.h,{date:e.startedAt,format:"DD.MM.YYYY HH:mm"}))),o.createElement("ul",null,o.createElement("li",null,o.createElement("label",null,"Обработано:"),e.processed," из ",e.records," ","(",Math.round(e.processed/e.records*100),"%)"),o.createElement("li",null,o.createElement("label",null,"Заблокировано:"),e.blocked," ","(",Math.round(e.blocked/e.processed*100,10),"%)"),o.createElement("li",null,o.createElement("label",null,"Прочитали письмо:"),e.opened," ","(",Math.round(e.opened/a*100,10),"%)"),o.createElement("li",null,o.createElement("label",null,"Перешли на сайт:"),e.visited," ","(",Math.round(e.visited/a*100,10),"%)"),o.createElement("li",null,o.createElement("label",null,"CTR:"),e.ctr))),o.createElement(Gs.Z,{className:"align-right",rating:e.rate,starRatedColor:"blue",numberOfStars:5,name:"rating",starDimension:"18px",starSpacing:"4px"}));v.push(i)})),o.createElement("form",{className:"site-settings__form site-settings-notifications"},o.createElement("h1",{className:"form-title"},"Статистика отправки почтовых уведомлений о новой теме"),o.createElement("div",{className:"form-section"},o.createElement("div",{className:"form-group"},o.createElement("small",{className:"form-text text-muted"},"Статистика отправки почтовых уведомлений о новой теме участникам сайта. Письма отправляются только тем пользователям, которые разрешили отправку уведомлений о новой теме на свой email.")),o.createElement("div",{className:"form-group"},"Порог CTR составляет ",u.data.notifications.ctr||0,"%"," ",o.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),r()}},"настройка"),p&&o.createElement(o.Fragment,null,o.createElement("small",{className:"form-text text-muted"},o.createElement("p",null,"CTR (Click-Through Rate) — процентное отношение людей, нажавших на ссылку в письме, ко всем людям, которые прочитали (открыли) письмо с уведомлением о теме."),o.createElement("p",null,"Порог CTR — минимальное значение CTR, которое обеспечивает полную отправку уведомлений о темах. Если после отправки небольшого количества уведомлений значение CTR оказывается ниже порогового, дальнейшая отправка прекращается. Таким образом, когда стоит задача более бережного обращения с аудиторией сайта (доставлять до широкой публики только самое интересное), необходимо выставить более высокий порог CTR. И наоборот, если нужно доставлять абсолютно все уведомления абсолютно всем пользователям, значение порога CTR должно быть нулевым.")),o.createElement("div",{className:"form-group form-group_inline"},o.createElement("label",{className:"site-settings-notifications_ctr-input"},"Порог CTR: (0-99%)"),o.createElement("div",{style:{flex:1}},o.createElement("input",{type:"text",className:"form-control",value:u.data.notifications.ctr||0,onChange:function(e){n(e.target.value)},invalid:!!u.errors.ctr}),u.errors.ctr?o.createElement("div",{className:"invalid-feedback"},u.errors.ctr):null)),o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:function(e){e.preventDefault(),t()},label:"Сохранить"})))),(f||!1===g)&&o.createElement("div",{className:"form-group form-group_inline-between"},f&&o.createElement("span",null,"Обновлено ",o.createElement("strong",null,y),", данные обновляются каждые пять минут"),!1===g&&o.createElement(eo.Z,{type:"button",color:"secondary",onClick:i,label:d?"Свернуть все":"Развернуть все"}))),g&&o.createElement("div",{className:"form-section form-section_bottom"},"На данный момент не было почтовых уведомлений о новой теме"),v,_&&o.createElement("div",{className:"form-section form-section_bottom"},o.createElement(eo.Z,{type:"button",onClick:function(){window.history.pushState(null,"","/edit/notifications/?page="+h),l()},label:"Показать еще"})))}}]),a}(o.Component);Ys.propTypes={handleTogglePopup:j().func,blogPostNotifications:j().object,siteSettings:j().object,getNotifications:j().func,changeCTR:j().func,saveCTR:j().func,toggleOptions:j().func,toggleItem:j().func,toggleList:j().func};const Ks=(0,i.$j)((function(e){return{app:e.app,blogPostNotifications:e.blogPostNotifications,siteSettings:e.siteSettings}}),(function(e){return{getNotifications:function(){e((function(e,t){var n=t(),r=n.app.site.id,o=n.blogPostNotifications.page,a=20*(o-1);B.TC.getList(r,{offset:a,count:20}).then((function(t){var r=t.lastUpdated,a=t.items,i=[];a.forEach((function(e){e.expanded=!1,i.push(e)}));var s=[].concat(F()(n.blogPostNotifications.list),i);e({type:"EMAIL_NOTIFICATIONS_GET_LIST",list:s,updatedAt:r,isEmpty:s.length<1,hasMore:a.length>=20,page:o+1})}))}))},changeCTR:function(t){e(Go("notifications","ctr",t))},saveCTR:function(){e(Vo("notifications"))},toggleOptions:function(){e((function(e){e({type:"EMAIL_NOTIFICATIONS_TOGGLE_OPTIONS"})}))},toggleItem:function(t){e(function(e){return function(t,n){var r=n().blogPostNotifications.list,o=r[e];o.expanded=!o.expanded,t({type:"EMAIL_NOTIFICATIONS_TOGGLE_ITEM",list:r})}}(t))},toggleList:function(){e((function(e,t){var n=t(),r=n.blogPostNotifications.list,o=!n.blogPostNotifications.expandList;r.forEach((function(e){e.expanded=o})),e({type:"EMAIL_NOTIFICATIONS_TOGGLE_LIST",list:r,expandList:o})}))}}}))((0,B.Pf)(Ys,"blogPostNotifications"));var zs=function(e,t){return function(){var n=R()(D().mark((function n(r,o){var a,i,s,c,l,u;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=o(),i=a.app.site.id,s=a.blogMember.activeTab,c=a.blogMember.tabs[s],l=c.page,n.next=8,B.Nw.getMembers(i,{filter:s,offset:e,count:t});case 8:return u=n.sent,n.abrupt("return",r({type:"BLOG_MEMBER_GET_PAGE",userList:[].concat(F()(c.userList),F()(u)),activeTab:s,page:l+1,hasMore:u.length>=vn().recordsPerPage}));case 12:n.prev=12,n.t0=n.catch(0),B.qL.promiseHandler("/index.js")(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e,t){return n.apply(this,arguments)}}()},$s={type:"BLOG_MEMBER_SHOW_TABS"},Js=function(e){var t=e.tabs,n=e.activeTab,r=e.handleChangeTab,a=e.hiddenTabs,i=e.isHideTabs,s=e.defaultValue,c=e.handleSearch,l=i?" people-list-navbar-nav__hide":"";return o.createElement("div",{className:"people-list-navbar"},o.createElement(B.Mj,{defaultValue:s,handleSearch:c,searchUrl:"/people"}),o.createElement(B.GV,{customButtonClasses:"people-list-navbar-nav__btn btn btn-empty",customDropdownClasses:"people-list-navbar-nav ".concat(l),customListClasses:"people-list-navbar-nav__tabs",placement:"auto-left",buttonValue:t[n],openByHover:!0},Object.keys(t).map((function(e){var i=a.includes(e),s=M()({active:n===e});return i?null:o.createElement("span",{key:e,className:"people-list-navbar-nav__tab ".concat(s),onClick:function(){return r(e)}},n===e&&o.createElement("svg",{style:{width:10,height:10},className:"svg-icon"},o.createElement("use",{href:"/images/icons.svg#check"})),t[e])}))))};Js.propTypes={tabs:j().object,activeTab:j().string,hiddenTabs:j().array,handleChangeTab:j().func,handleSearch:j().func,showTabs:j().func,isHideTabs:j().any,isUserAdmin:j().any,defaultValue:j().string};const Xs=(0,o.memo)(Js);var Qs=n(8778),ec=n(23279),tc=n.n(ec);var nc=function(e){E()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function i(){var e;return h()(this,i),(e=r.call(this)).elemRef=o.createRef(),e.state={isIntersecting:!0,height:null,isDelayedHeight:!1},e.timer=null,e}return g()(i,[{key:"componentDidMount",value:function(){var e=this;if("undefined"!=typeof IntersectionObserver&&!B.cQ.isIframe()){var t=new IntersectionObserver(tc()((function(t){var n=!1;if(t.forEach((function(e){e.isIntersecting&&(n=!0)})),e.elemRef.current&&e.state.isIntersecting!==n){var r={isIntersecting:n};a.findDOMNode(e.elemRef.current)&&(r.height=a.findDOMNode(e.elemRef.current).offsetHeight),!0===n&&(r.isDelayedHeight=!0,e.timer&&clearTimeout(e.timer),e.timer=setTimeout((function(){e.timer=null,e.setState({isDelayedHeight:!1})}),2e3)),e.setState(r)}}),300),{root:null,rootMargin:"2000px",threshold:.01}),n=a.findDOMNode(this.elemRef.current);t.observe(n)}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.state,t=e.isIntersecting,n=e.height,r=e.isDelayedHeight,a=this.props,i=a.id,s=a.className,c=a.tag;return o.createElement(c,{id:i,className:M()(k()({inft:!0,inft_hdn:!t},s,!!s&&"true")),ref:this.elemRef,style:!t||r?{minHeight:n}:null},t?this.props.children:null)}}]),i}(o.PureComponent);nc.defaultProps={id:null,className:null,tag:"div"},nc.propTypes={children:j().any,id:j().string,className:j().string,tag:j().string};const rc=nc;var oc=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props.person;return o.createElement(rc,{className:"people-list-item"},o.createElement("a",{href:e.url,className:"people-list-item__user",target:"_blank"},o.createElement(B.Hl,{logoInfo:{userName:e.display_name,logoImg:e.photo_original,logoClassName:"userlogo_l2",size:"av80"}}),o.createElement("span",{className:"people-list-item__user-info"},o.createElement("div",{className:"people-list-item__user-name",style:{color:B.Il.getHslColorByName(e.display_name)}},e.display_name),e.bdate&&o.createElement("div",{className:"people-list-item__user-age"},B.E6.bdateToAge(e.bdate).toString().concat(" "),(0,Qs.pluralize)(B.E6.bdateToAge(e.bdate),"год","года","лет")))),o.createElement(B.hi,{userId:e.id,compact:!0}))}}]),a}(o.PureComponent);oc.propTypes={person:j().object};const ac=oc;var ic=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.peopleList,n=e.itemsPerPage,r=e.initialPage,a=e.enablePagination,i=0;return o.createElement("div",{className:"people-list"},t.length>0&&t.map((function(e){var t=++i%n==0,s=r-1+Math.floor(i/n);return o.createElement(o.Fragment,{key:e.id},o.createElement(ac,{person:e}),a&&t&&o.createElement(B.hp,{id:s,initialPage:r,threshold:.5}))})))}}]),a}(o.Component);ic.propTypes={peopleList:j().array,itemsPerPage:j().number,initialPage:j().number,enablePagination:j().bool};const sc=ic;var cc=function(e){var t=e.children;return o.createElement("div",{className:"mt-list"},t)};cc.propTypes={children:j().oneOfType([j().object,j().array])};const lc=(0,o.memo)(cc);var uc=(0,o.memo)((function(e){var t=e.blogMember,n=e.handleShowMore,r=e.handleChangeTab,a=e.handleSearch,i=e.memberCount,s=e.showTabs,c=t.usedSearch,l=t.activeTab,u=t.search,p=c?u:t.tabs[l],d=p.hasMore,m=p.userList,f=p.page,h=p.initialPage,_=!d&&!m.length,g=vn().recordsPerPage,v=g+(f-1)*g,y=!B.Nw.hiddenTabs.includes(l);return o.createElement("div",{className:"blog-people"},y&&o.createElement(o.Fragment,null,o.createElement("div",{className:"people-list-header"},o.createElement("h1",null,"Участники: ",i)),o.createElement(Xs,{handleChangeTab:r,tabs:B.Nw.tabs,activeTab:l,isUserAdmin:wr.canAdminBlog(),handleSearch:a,hiddenTabs:B.Nw.hiddenTabs,isHideTabs:c,showTabs:s,defaultValue:u.needle||""})),!y&&o.createElement("div",{className:"people-list-header"},o.createElement("h1",null,B.Nw.tabs[l])),_&&o.createElement("div",{className:"user-card__no-result"},"К сожалению, ничего не найдено"),o.createElement(B.v_,{pageStart:0,loadMore:function(){if(d)return n(v,g)},hasMore:d,loader:o.createElement(B.nt,null),threshold:500},o.createElement(lc,null,o.createElement(sc,{peopleList:m,itemsPerPage:g,initialPage:h,enablePagination:!0}))))}));uc.propTypes={blogMember:j().object,handleChangeTab:j().func,handleShowMore:j().func,handleSearch:j().func,showTabs:j().func,memberCount:j().number};const pc=(0,i.$j)((function(e){var t,n;return{memberCount:null==e||null===(t=e.app)||void 0===t||null===(n=t.site)||void 0===n?void 0:n.members_count,blogMember:e.blogMember}}),(function(e){return{handleChangeTab:function(t){e(function(e){return function(t,n){t({type:"BLOG_MEMBER_CHANGE_TAB",tab:e});var r=n().blogMember.tabs[e];0===r.page&&r.hasMore&&t(zs(0,vn().recordsPerPage))}}(t))},handleShowMore:function(t,n){e(function(e,t){return function(n,r){n(r().blogMember.usedSearch?function(e,t){return function(){var n=R()(D().mark((function n(r,o){var a,i,s,c,l,u;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=o(),i=a.app.site.id,s=a.blogMember.search,c=s.page,l=s.needle,n.next=6,B.lv.search(l,"GROUP_MEMBER",{siteId:i,offset:e,count:t});case 6:u=n.sent,r({type:"BLOG_MEMBER_GET_SEARCH_RESULTS",userList:[].concat(F()(s.userList),F()(u)),page:c+1,hasMore:u.length>=vn().recordsPerPage});case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(e,t):zs(e,t))}}(t,n))},handleSearch:function(t,n,r){e(function(e){return function(){var t=R()(D().mark((function t(n,r){var o,a,i,s,c,l,u;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.app.site.id,i=o.blogMember.search.page,e){t.next=8;break}return l=o.blogMember.activeTab,((null===(s=o.blogMember.tabs)||void 0===s||null===(c=s[l])||void 0===c?void 0:c.userList)||[]).length||n(zs(0,vn().recordsPerPage)),t.abrupt("return",n($s));case 8:return t.next=10,B.lv.search(e,"GROUP_MEMBER",{siteId:a});case 10:u=t.sent,n({type:"BLOG_MEMBER_DO_SEARCH",needle:e,userList:F()(u),hasMore:u.length>=vn().recordsPerPage,page:i+1});case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))},showTabs:function(){e($s)}}}))((0,B.Pf)(uc,"blogMember"));var dc=n(13691),mc=function(e){var t=e.popupData,n=e.onToggleModeratorsPopup,r=e.onDeleteModerator;return"delete"===t.popupType&&o.createElement(dc.Z,{onClose:n,className:"site-moderators__popup"},o.createElement(dc.Z.Header,{toggle:n,extraClasses:"site-moderators__popup__title"},o.createElement(dc.Z.Title,null,"Вы действительно хотите исключить пользователя «",t.userInfo?t.userInfo.name:null,"»?")),o.createElement(dc.Z.Footer,null,o.createElement(eo.Z,{onClick:function(){r(t.userInfo.id),n()},label:"Исключить"}),o.createElement(eo.Z,{color:"secondary",onClick:n,label:"Отменить"})))};mc.propTypes={onToggleModeratorsPopup:j().func,popupData:j().object,onDeleteModerator:j().func},mc.defaultProps={popupData:{}};var fc=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;return h()(this,a),(e=r.call(this)).state={role:"moderator",email:null},e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.popupData,r=t.onToggleModeratorsPopup,a=t.onAddModerator;return"add"===n.popupType&&o.createElement(dc.Z,{onClose:r,className:"site-moderators__popup"},o.createElement(dc.Z.Header,{extraClasses:"site-moderators__popup__title"},o.createElement(dc.Z.Title,null,"Добавление сотрудника")),o.createElement(dc.Z.Body,null,o.createElement("div",{className:"form-group"},o.createElement("legend",null,"E-mail:"),o.createElement("input",{className:"form-control",type:"email",name:"email",placeholder:"Введите e-mail нового сотрудника...",onChange:function(t){e.setState({email:t.target.value})}})),o.createElement("div",{className:"form-group"},o.createElement("legend",null,"Статус:"),o.createElement("div",{className:"site-moderators__popup__radio__wrap"},Object.keys(B.Nw.roles).map((function(t,n){return"god"!==t?o.createElement("label",{checked:!0,key:n},o.createElement("input",{type:"radio",name:"role",ref:"role",value:t,defaultChecked:"moderator"===t,onChange:function(t){e.setState({role:t.target.value})}})," ".concat(B.Nw.roles[t])):null}))))),o.createElement(dc.Z.Footer,null,o.createElement(eo.Z,{onClick:function(){a(e.state.email,e.state.role),r()},label:"Добавить"}),o.createElement(eo.Z,{color:"secondary",onClick:r,label:"Отменить"})))}}]),a}(o.Component);fc.propTypes={onToggleModeratorsPopup:j().func,onAddModerator:j().func,popupData:j().object},fc.defaultProps={popupData:{}};const hc=fc;var _c=function(e){var t=e.popupData,n=e.onToggleModeratorsPopup,r=e.onEditModerator,a=e.onChangeRadio,i=e.radioBtnValue,s=function(e){return t.userInfo?t.userInfo[e]:null};return"edit"===t.popupType&&o.createElement(dc.Z,{onClose:n,className:"site-moderators__popup"},o.createElement(dc.Z.Header,{toggle:n,className:"site-moderators__popup__title"},o.createElement(dc.Z.Title,null,"Редактирование статуса сотрудника «",s("name"),"»")),o.createElement(dc.Z.Body,null,o.createElement("div",{className:"form-group"},o.createElement("legend",null,"Статус:"),o.createElement("div",{className:"site-moderators__popup__radio__wrap"},Object.keys(B.Nw.roles).map((function(e,t){return"god"!==e?o.createElement("label",{key:t},o.createElement("input",{type:"radio",name:"role",onChange:function(){a(e)},defaultChecked:s("role")===e})," ".concat(B.Nw.roles[e])):null}))))),o.createElement(dc.Z.Footer,null,o.createElement(eo.Z,{onClick:function(){r(s("id"),i||s("role")),n()},label:"Сохранить"}),o.createElement(eo.Z,{color:"secondary",onClick:n,label:"Отменить"})))};_c.propTypes={onToggleModeratorsPopup:j().func,onEditModerator:j().func,onChangeRadio:j().func,radioBtnValue:j().string,popupData:j().object},_c.defaultProps={popupData:{}};var gc="/index.js";var vc=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleClosePopup",(function(){(0,e.props.onToggleModeratorsPopup)()})),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.blogModerators,n=e.onToggleModeratorsPopup,r=e.onAddModerator,a=e.onDeleteModerator,i=e.onEditModerator,s=e.onChangeRadio,c=t.popup;return wr.canStaff()&&o.createElement("div",{className:"site-moderators content-block"},o.createElement("div",{className:"site-moderators__header"},o.createElement("h3",{className:"site-moderators__title"},"Сотрудники сайта"),o.createElement(eo.Z,{onClick:function(){n("add")},label:"Добавить"})),o.createElement("div",{className:"site-moderators__item__wrap"},t.staff.map((function(e){return o.createElement("div",{className:"site-moderators__item",key:e.id},o.createElement("a",{href:"//mirtesen.ru/people/".concat(e.id),target:"_blank"},e.name),o.createElement("span",null,B.Nw.roles[e.role]),"god"!==e.role&&o.createElement("div",null,o.createElement(eo.Z,{onClick:function(){n("edit",e)},label:"Редактировать"})," ",o.createElement(eo.Z,{color:"secondary",onClick:function(){n("delete",e)},label:"Удалить"})))}))),o.createElement("div",{className:"site-moderators__desc"},o.createElement("p",null,"Вы можете пригласить супер администраторов, администраторов и модераторов для своего сайта.")),"delete"===c.popupType&&o.createElement(mc,{popupData:c,onToggleModeratorsPopup:n,onDeleteModerator:a}),"add"===c.popupType&&o.createElement(hc,{popupData:c,onToggleModeratorsPopup:n,onAddModerator:r}),"edit"===c.popupType&&o.createElement(_c,{popupData:c,radioBtnValue:t.radioBtnValue,onToggleModeratorsPopup:n,onEditModerator:i,onChangeRadio:s}))}}]),a}(o.Component);vc.propTypes={blogModerators:j().object,onToggleModeratorsPopup:j().func,onDeleteModerator:j().func,onEditModerator:j().func,onAddModerator:j().func,onChangeRadio:j().func};const yc=(0,i.$j)((function(e){return{blogModerators:e.blogModerators}}),(function(e){return{onToggleModeratorsPopup:function(t,n,r){e(function(){return{type:"BLOG_MODERATORS_TOGGLE_POPUP",popupType:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,userInfo:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}}(t,n,r))},onDeleteModerator:function(t){var n;e((n=t,function(e,t){var r=t().app.site.id;Promise.resolve(B.Nw.setStaff(r,n,null)).then((function(t){if(null!=t&&t.result)return e({type:"BLOG_MODERATORS_DELETE_MODERATOR",userId:n,role:undefined});B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:(null==t?void 0:t.message)||"При сохранении произошла ошибка"})})).catch((function(e){B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler(gc)(e)}))}))},onAddModerator:function(t,n){e(function(e,t){return function(n,r){var o=r().app.site.id;Promise.resolve(B.Nw.setStaff(o,e,t)).then((function(e){if(e.result)return Promise.resolve(B.Nw.getStaff(o)).then((function(e){var t=[];return Object.keys(e).forEach((function(n){e[n]&&e[n].forEach((function(e){t.push({name:e.display_name,id:e.id,role:n})}))})),n({type:"BLOG_MODERATORS_ADD_MODERATOR",staff:t})})).catch(B.qL.promiseHandler(gc));B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:(null==e?void 0:e.message)||"При сохранении произошла ошибка"})})).catch((function(e){B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler(gc)(e)}))}}(t,n))},onEditModerator:function(t,n){e(function(e,t){return function(n,r){var o=r().app.site.id;Promise.resolve(B.Nw.setStaff(o,e,t)).then((function(r){if(null!=r&&r.result)return n({type:"BLOG_MODERATORS_EDIT_MODERATOR",userId:e,role:t});B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:(null==r?void 0:r.message)||"При сохранении произошла ошибка"})})).catch((function(e){B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler(gc)(e)}))}}(t,n))},onChangeRadio:function(t){e(function(e){return{type:"BLOG_MODERATORS_CHANGE_RADIO",value:e}}(t))}}}))((0,B.Pf)(vc,"blogMederators")),{infoDomain:bc,mainProto:Ec,mainDomain:Pc}=vn(),Oc={menuItems:[{text:"Мессенджер МТ",link:Ec+"://"+bc+"/apps"},{text:"О компании",link:Ec+"://"+bc+"/about"},{text:"Новости",link:Ec+"://"+bc+"/news"},{text:"Партнерам",link:Ec+"://"+bc+"/partners"},{text:"Рекламодателям",link:Ec+"://"+bc+"/promo"},{text:"Обратная связь",link:Ec+"://"+Pc+"/feedback/report"},{text:"Пожаловаться на спам",link:Ec+"://"+Pc+"/feedback/report/spam"},{text:"Соглашение",link:Ec+"://"+bc+"/agreement"}]};var wc=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.nextPostUrl,n=e.prevPostUrl;return o.createElement("nav",{className:M()({pagination:!0})},o.createElement("ul",{className:"blog-post__pagination"},t&&o.createElement("li",null,o.createElement("a",{href:t},o.createElement("span",{className:"blog-post__pagination__arrow"},"←"),"Предыдущая тема")),n&&t&&o.createElement("li",{className:"blog-post__pagination__symbol"}," | "),n&&o.createElement("li",null,o.createElement("a",{href:n},"Следующая тема",o.createElement("span",{className:"blog-post__pagination__arrow"},"→")))))}}]),a}(o.PureComponent);wc.propTypes={prevPostUrl:j().string,nextPostUrl:j().string};const Sc=wc;n(4723);var Tc=n(7187),kc=n.n(Tc),Ic=function(){return function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u,p;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),o=r.postTiles.blogPostBottom,a=o.topicKey,i=o.page,s=o.filter,c=r.postTiles.blogPostBottom.posts,l=i+1,u=Rr,e.next=8,B.Zf.getBlogPostsByTopic({topic:a,offset:(l-1)*u,count:u,filter:s,withBusinessPosts:!1,fieldList:"tile"});case 8:p=e.sent,c=(c=[].concat(F()(c),F()(p))).filter((function(e){return e.images.length>0})),c=B.Zf.removeDuplicates(c,"title"),t({type:"POST_TILES_LOAD_MORE",id:"blogPostBottom",posts:c,hasMore:p.length>=u,page:l}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),B.qL.promiseHandler("/index.js")(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}()},Mc="/index.js";function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nc=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"setBlogPostSlider",(function(t){var n=e.props,r=n.setBlogPostSlider,o=n.reloadCounters,a=n.blogPost,i=a.sliders,s=a.sliderIndex;"next"===t?t=s+1:"prev"===t&&(t=s-1),t<0&&(t=i.length-1),t>i.length-1&&(t=0);var c="slider="+t,l=window.location.href,u=window.location.href;l=-1!==(l=l.replace(/slider=[^&]+/i,"").replace("?&","?").replace(/(&|\?)+$/,"")).indexOf("?")?l+"&"+c:l+"?"+c,window.history.pushState(null,"",l),r(t),window.scrollTo({top:0,behavior:"smooth"}),o({url:l,referrer:u,title:a.title,post:a}),e._reloadIframe("aggregator"),e._reloadPartners(),e._reloadAdfox(1200),e._reloadAdfox(1201)})),k()(y()(e),"_reloadPartners",(function(){window.jsapi=null,B.cQ.loadScript("https://smi2.ru/data/js/95448.js"),B.cQ.loadScript("https://smi2.ru/data/js/95530.js"),B.cQ.loadScript("https://news.mirtesen.ru/data/js/95486.js"),B.cQ.loadScript("https://news.mirtesen.ru/data/js/95529.js"),B.cQ.lazyLoad((function(){return Array.isArray(window.jsapi)&&4===window.jsapi.length}),(function(){window.jsapi.map((function(e){"function"==typeof e&&e()}))}),(function(){console.log("Couldn't update SMI2 blocks")}))})),k()(y()(e),"_reloadAdfox",(function(e){try{if(!e||"undefined"==typeof window||void 0===window.Ya||void 0===window.Ya.adfoxCode)return;var t=jc({},L()(Zr,"ad.".concat(e),{}));window.Ya.adfoxCode.reload(t.containerId)}catch(e){B.qL.promiseHandler(Mc)(e)}})),k()(y()(e),"_reloadIframe",(function(e){var t=document.getElementById(e);t&&(t.src=t.src)})),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props.blogPost,n=t.currentSlider,r=t.sliderLoading,a=t.sliderIndex,i=t.sliders,s=t.id,c=t.extraData.nextBtnUrl,l=n.imageWidth,u=void 0===l?0:l,p=n.imageHeight,d=void 0===p?0:p,m=n.imageUrl,f=n.title,h="horizontal";return u&&d&&u/d<1.33333&&(h="vertical"),o.createElement("div",{className:"blog-post-sliders blog-post__sliders"},o.createElement("div",{className:"blog-post-sliders__adfox"},o.createElement(Qr,{adId:1200}),o.createElement(Qr,{adId:1201})),o.createElement("div",{className:"blog-post-sliders__current"},"Фото ",a+1," из ",i.length),o.createElement(B.BH,{tag:"div",className:M()({"blog-post-sliders__image":!0,"blog-post-sliders__image_vertical":"vertical"===h,"blog-post-sliders__image_loading":r}),src:m,alt:f}),o.createElement("h3",{className:"blog-post-sliders__title"},f),o.createElement(Di,{type:"Politpiar",id:95486,style:{margin:"0 auto"},ymGoal:"click_blok_mt"}),o.createElement("div",{className:M()({"blog-post-sliders__nav":!0,"blog-post-sliders__nav_last":a===i.length-1})},o.createElement(eo.Z,{disabled:r||0===a,onClick:function(){return e.setBlogPostSlider("prev")},label:"Назад"}),o.createElement("button",{id:"slider-next-button-".concat(s),className:M()({btn:!0,"btn-primary":!0,btn_disabled:!c&&a===i.length-1,btn_highlighted:c&&a===i.length-1}),disabled:r||!c&&a===i.length-1,onClick:function(){c&&a===i.length-1?window.open(c,"_self"):e.setBlogPostSlider("next")}},c&&a===i.length-1?"Смотреть ещё!":"Вперед"),c&&a===i.length-1&&o.createElement(B.u,{target:"slider-next-button-".concat(s),placeId:"slider-next-button-".concat(s),placement:"top-center",content:"Интересные материалы для Вас",offset:"0,8"})))}}]),a}(o.PureComponent);Nc.propTypes={blogPost:j().object,setBlogPostSlider:j().func,reloadCounters:j().func};const Rc=(0,i.$j)((function(){return{}}),(function(e){return{setBlogPostSlider:function(t){e(function(e){return function(){var t=R()(D().mark((function t(n){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"BLOG_POST_SET_SLIDER_STEP_1",sliderIndex:e}),setTimeout((function(){n({type:"BLOG_POST_SET_SLIDER_STEP_2"})}),500),setTimeout((function(){n({type:"BLOG_POST_SET_SLIDER_STEP_3"})}),4e3);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},reloadCounters:function(t){e(function(e){return function(){var t=R()(D().mark((function t(n,r){var o,a,i,s,c,l,u,p,d,m,f,h,_,g,v;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!=typeof window){t.next=2;break}return t.abrupt("return");case 2:o=Ar.globalYaMetrics,a=e.post,i=void 0===a?null:a,s=e.referrer,c=void 0===s?"":s,l=e.url,u=e.title,p=void 0===u?"":u,d=r(),m=d.app,f=L()(m,"site.id"),h=L()(m,"metrics.statMediaId"),(_=document.getElementById("licntF4D1"))&&((g=document.createElement("img")).id="licntF4D1",g.src="https://counter.yadro.ru/hit;NovostnoyAgregatorSMI2?t44.6;r"+escape(document.referrer)+("undefined"==typeof screen?"":";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+";h"+escape(document.title.substring(0,150))+";"+Math.random(),g.width="1",g.heigth="1",g.style="position:absolute; left:-9999px;",_.replaceWith(g)),i&&Cr.registerSingleView(i.id),h&&f&&i&&!m.disableStatMedia&&(v={site:f,user:wr.getCurrentUser(),post:i,statMediaId:h,refresh:!0},n(B.Kv.setCounters(v))),B.gy.ym("hit",l,{title:p,referer:c,params:xr(xr(xr({},o.params),o.userParams),{},{id:null})});case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(Nc);var Ac=function(e){E()(s,e);var t,n,r=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function s(e){var t;h()(this,s),t=r.call(this,e),k()(y()(t),"getClearLength",(function(e){return e?e.replace(/(<[^>]+>)/gi,"").length:0})),k()(y()(t),"getAdWrapper",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=t.props,r=n.blogPost,o=n.hideAdBlocks;return o||r.isSlider||e>0?"":'<div id="blog-post-item-text-ad" class="blog-post__text-ad"></div>'})),k()(y()(t),"splitText",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;if(t.getClearLength(e)<n)return[e,""];var r="\\.\\!\\?";return B.E6.splitByDelimiter(e,n,r)})),t.state={pandaVideoFound:null};var n=t.props,o=n.blogPost,a=n.siteBuilder,i=n.mobileApp;t.splitPoint=1200,t.splitPoint2=300;var c=t._preformatText(o.formattedText||o.text,o);i||t.props.disableVideo||(c+='<div id="panda_player" class="panda-player"></div>');var l={0:!1,1:!1};if(L()(a,"adSettings.inpageVideoAtEnd"))c=[c,"",""],l[0]=!0,l[1]=!1;else{var u="\x3c!-- ######adblock##### --\x3e",p="\x3c!-- ######adblock2##### --\x3e";c.includes(u)?((c=c.split(u))[1]=c[1]||"",l[0]=!0,c[1].includes(p)?((c=[c[0]].concat(F()(c[1].split(p))))[2]=c[2]||"",l[1]=!0):(c[2]="",l[1]=!1)):((c=t.splitText(c,t.splitPoint))[1]=c[1]||"",(c=[c[0]].concat(F()(t.splitText(c[1],t.splitPoint2))))[2]=c[2]||"",l[0]=!0,l[1]=!0)}return t.inTextAd=l,t.text=c,t}return g()(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.hideAdBlocks,r=t.blogPost;if(t.disableVideo||B.cQ.lazyLoad((function(){return"function"==typeof window.loadCluster}),(function(){window.loadCluster("panda_player",r.canonical_url,(function(t){e.setState({pandaVideoFound:t})}))}),(function(){console.log("Couldn't load panda player"),e.setState({pandaVideoFound:!1})})),!n){if(document.getElementById("blog-post-item-text-ad")){var s=o.createElement(i.zt,{store:B.Bz.getStore()},o.createElement(Di,{type:"Politpiar",id:99814}));a.render(s,document.getElementById("blog-post-item-text-ad"))}if(document.getElementById("blog-post-item-glagol0")){var c=o.createElement(i.zt,{store:B.Bz.getStore()},o.createElement(Di,{type:"Politpiar",id:95739}));a.render(c,document.getElementById("blog-post-item-glagol0"))}if(document.getElementById("blog-post-item-glagol1")){var l=o.createElement(i.zt,{store:B.Bz.getStore()},o.createElement(Di,{type:"Politpiar",id:95739}));a.render(l,document.getElementById("blog-post-item-glagol1"))}}}},{key:"_preformatText",value:function(e,t){var n=this.props,r=n.browserName,o=n.disableVideo,a=["youtu.be","youtube.com","video.mirtesen.ru","rutube.ru","vimeo.com","vnmsa.mirtesen.ru","player.vimeo.com","out.pladform.ru","ivi.ru"];[43614924039,43534515745].includes(t.id)&&(e=e.replace(/rel="nofollow"/gi,"")),e=(e=e.replace(/<a [^>]*?lightbox_labuda[^>]*?>.*?<\/a>/gi,"")).replace(/[\r\n]+/g," ");var i=[],s=null;return s=/(<div class="embed-container"[^>]*>.*?<\/div>)/,i=e.split(s),e=[],i.forEach((function(t){if(-1!==t.search(s)){var n=(s=/<iframe\s+.*src=['"]?([^'"\s]+)/).exec(t);if(n){n=B.E6.fixProtocol(n[1]);var r=new(co())(n).hostname.toLowerCase().replace(/^www\./,"");a.includes(r)?o||e.push('<div class="embed-container"><iframe class="adaptive-iframe" src="'+n+'" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe></div>'):e.push(t)}else e.push(t)}else e.push(t)})),e=e.join(""),s=/(<iframe[^>]*>.*?<\/iframe>)/i,i=e.split(s),e=[],i.forEach((function(t){if(-1!==t.search(s)&&-1===t.search("adaptive-iframe")){var n=(s=/<iframe\s+.*src=['"]?([^'"\s]+)/).exec(t);if(n){n=n[1];var r=new(co())(n).hostname.toLowerCase().replace(/^www\./,"");a.includes(r)?o||e.push('<div class="embed-container"><iframe class="adaptive-iframe" src="'+n+'" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe></div>'):e.push(t)}else e.push(t)}else e.push(t)})),e=e.join(""),s=/(<img[^>]*\/>)/,i=e.split(s),e=[],i.forEach((function(n){var o;if(-1!==n.search(s)){-1===n.search(/alt\s?=\s?["']?[а-яА-Яa-zA-Z0-9_]+/i)&&(n=n.replace(/alt\s?=\s?["']?[^>]*?["']?/i,"").replace(/\/>/,'alt="'+kc()(t.title)+'"/>'));var a=n.match(/src\s?=\s?["']?([^\s"']+)/i),i=(null===(o=n.match(/class\s?=\s?["']?([^\s"']+)/i))||void 0===o?void 0:o[1])||"";if(a){var c=B.E6.fixProtocol(B.E6.cropImage2(a[1],{browser:r}));n=n.replace(a[1],c)}n=(n=(n=(n=n.replace("<img",'<img class="POST_IMAGE '.concat(i,'"'))).replace(/width\s?=\s?["']?[а-яА-Яa-zA-Z0-9_]+["']?/i,"").replace(/\/>/,'width="620"/>')).replace(/height\s?=\s?["']?[а-яА-Яa-zA-Z0-9_]+["']?/i,"").replace(/\/>/,'height="auto"/>')).replace(/loading\s?=\s?["']?[^>]*?["']?/i,"").replace(/\/>/,'loading="lazy"/>'),e.push(n)}else e.push(n)})),e=e.join("")}},{key:"render",value:function(){var e=this.props.blogPost;return o.createElement(o.Fragment,null,e.text&&o.createElement("div",{className:"blog-post__text",itemProp:"articleBody",dangerouslySetInnerHTML:{__html:(this.text[0]||"")+(this.inTextAd[0]?this.getAdWrapper(0):"")+(this.text[1]||"")+(this.inTextAd[1]?this.getAdWrapper(1):"")+(this.text[2]||"")}}),e.isSlider&&e.sliders&&o.createElement(Rc,{blogPost:e}),e.foreignPollId&&o.createElement(B.J3,{pollId:e.foreignPollId,postUrl:e.url}))}}]),s}(o.PureComponent);Ac.propTypes={blogPost:j().object,siteBuilder:j().object,hideAdBlocks:j().bool,mobileApp:j().bool,browserName:j().string,disableVideo:j().bool,disableAdFox:j().bool};const Dc=(0,i.$j)((function(e){var t;return{hideAdBlocks:e.app.hideAdBlocks,mobileApp:e.app.req.mobileApp,browserName:e.app.req.browser.name,disableVideo:e.app.disableVideo,disableAdFox:null==e||null===(t=e.app)||void 0===t?void 0:t.disableAdFox}}))(Ac);var xc=function(e){var t=e.blogPost,n=e.app,r=t.group,a=void 0===r?{}:r,i=t.from,s=t.post_type,c=L()(a,"canViewBlogPostCreator"),l=n.page,u="user_post"===s||c&&"indexMainAuthorized"!==l?"person":"blog",p="person"===u?i:a;p||(p={});var d=p,m=d.url,f=d.photo_original,h=d.id,_=p.display_name||p.name,g=c?"_blank":"_self",v="span",y={className:M()({"blog-post__author-avatar":!0})};return"person"===u&&(v=B.kc,y.userId=h,y.tagName="span"),o.createElement(v,y,o.createElement(B.Hl,{logoInfo:{userName:_,logoImg:f||L()(n,"siteBuilder.mainLogo.props.image")||L()(n,"site.photo",null),logoUrl:yo.addUtmToUrl(m),linkTarget:g}}))};xc.propTypes={blogPost:j().oneOfType([j().object,j().array]),app:j().object};const Lc=xc;var Bc=[{name:"twitter",shareUrl:"https://twitter.com/share?url=",tooltip:"Поделиться в Twitter"},{name:"vk",shareUrl:"https://vkontakte.ru/share.php?url=",tooltip:"Поделиться Вконтакте"},{name:"ok",shareUrl:"https://connect.ok.ru/offer?url=",tooltip:"Поделиться в Одноклассниках"}],Uc=function(e){var t=e.url,n=void 0===t?null:t,r=e.text,a=void 0===r?null:r,i=e.id,s=void 0===i?null:i;return s=s||B.E6.generateRandomtext(7),o.createElement("div",{className:"blog-post__share"},o.createElement("div",{className:"blog-post__share__wrap",id:"blog-post-share-".concat(s)},Bc.map((function(e){var t=e.name,r=e.shareUrl,i=e.tooltip;return o.createElement(o.Fragment,{key:t},o.createElement(B.FF,{name:t,url:n,shareUrl:r,text:a,id:"blog-post-share-".concat(t,"-").concat(s),classes:"btn btn-action blog-post__share-btn blog-post__share-btn_".concat(t)}),o.createElement(B.u,{target:"blog-post-share-".concat(t,"-").concat(s),placeId:"blog-post-share-".concat(s),placement:"top-center",content:i,offset:"0,8"}))}))))};Uc.propTypes={url:j().oneOfType([j().string,j().object]),text:j().string,id:j().number};const Fc=Uc;n(69826);var Hc=(0,o.memo)((function(e){var t,n=e.listTopics,r=void 0===n?[]:n,a=e.topic,i=e.topicUtm,s=r.find((function(e){return e.key===a}));if(null==s||!s.key)return null;var c="coronavirus"===(null==s||null===(t=s.key)||void 0===t?void 0:t.toLowerCase()),l="//".concat(vn().mainDomain,"/topic/").concat(null==s?void 0:s.key,"?utm_medium=from_headline_topic_button");return i&&(l+="&".concat(i)),o.createElement("h3",{className:"blog-post__topic-category-wrapper"},o.createElement("a",{className:"blog-post__topic-category",href:l},o.createElement("span",null,c?s.text.toUpperCase():s.text)))}));Hc.propTypes={listTopics:j().array,topic:j().string,topicUtm:j().string};const qc=Hc;var Zc=function(e){var t=e.isMember,n=e.isSubscribed,r=e.onClick,a=e.hasDropdown,i=e.onDropdownItemClick,s=e.leftIcon,c=e.subscribeText,l=e.unsubscribeText,u=e.hoveredUnsubscribeText,p=(0,o.useState)(!1),d=ir()(p,2),m=d[0],f=d[1],h=(0,o.useState)(c),_=ir()(h,2),g=_[0],v=_[1];(0,o.useEffect)((function(){v(t&&m?u:t?l:c)}),[t,m,u,l,c]);var y=function(){return o.createElement("button",{className:M()("btn btn-subscribe",{"btn-primary":!t,"btn-secondary":t}),onClick:function(){return r(!t)},onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)}},s&&o.createElement("svg",{className:"svg"},o.createElement("use",{href:"/images/icons.svg#".concat(t?"check":"cross")})),g)};return a&&t?o.createElement(B.GV,{customDropdownClasses:"secondary-header__subscribe-wrap",customListClasses:"secondary-header__subscribe__list",placement:"auto-left",buttonValue:y(),openByHover:!0},o.createElement("span",{className:"secondary-header__subscribe__list__sub-btn",onClick:function(){return i(!n)}},!n&&o.createElement("svg",{className:"svg-icon"},o.createElement("use",{href:"/images/icons.svg#check"})),"Не получать рассылку")):y()};Zc.propTypes={isMember:j().bool,isSubscribed:j().bool,onClick:j().func,hasDropdown:j().bool,onDropdownItemClick:j().func,subscribeText:j().string,unsubscribeText:j().string,hoveredUnsubscribeText:j().string,leftIcon:j().bool},Zc.defaultProps={subscribeText:"Подписаться",unsubscribeText:"Подписаны",hoveredUnsubscribeText:"Отписаться",leftIcon:!1};const Gc=(0,o.memo)(Zc);var Vc=function(e){var t=e.siteId,n=e.initSubscription,r=e.subscriptions,a=e.onInitState,i=e.onJoinToSite,s=e.onSubscribeToSite,c=e.onInitAuth,l=e.openAuthForm,u=e.ymGoal,p=e.leftIcon,d=e.hasDropdown,m=e.subscribeText,f=e.unsubscribeText,h=e.hoveredUnsubscribeText,_=(0,o.useState)(!1),g=ir()(_,2),v=g[0],y=g[1],b=(0,o.useState)(!1),E=ir()(b,2),P=E[0],O=E[1];(0,o.useEffect)((function(){var e,o;r[t]||a(t,n),y(null===(e=r[t])||void 0===e?void 0:e.isMember),O(null===(o=r[t])||void 0===o?void 0:o.isSubscribed)}),[r,t,a,n]);var w=(0,o.useCallback)((function(e){if(u&&B.gy.ym("reachGoal",u),!B.gx.isLogged())return c({onBeforeChange:function(){return function(){return i(t,!0),!0}}}),void l("login");i(t,e)}),[c,i,l,t,u]),S=(0,o.useCallback)((function(e){s(t,e)}),[s,t]);return o.createElement(Gc,{isMember:v,isSubscribed:P,onClick:w,onDropdownItemClick:S,leftIcon:p,hasDropdown:d,subscribeText:m,unsubscribeText:f,hoveredSubscribedText:h})};Vc.propTypes={siteId:j().number.isRequired,initSubscription:j().object.isRequired,subscriptions:j().object,onJoinToSite:j().func,openAuthForm:j().func,onInitAuth:j().func,ymGoal:j().string,leftIcon:j().bool,subscribeText:j().string,unsubscribeText:j().string,hoveredUnsubscribeText:j().string,hasDropdown:j().bool,onInitState:j().func,onSubscribeToSite:j().func},Vc.defaultProps={ymGoal:""};const Wc=(0,i.$j)((function(e){return{subscriptions:e.actionSubscribe}}),(function(e){return{onInitState:function(t,n){return e(ta(t,n))},onJoinToSite:function(t,n,r){return e(na(t,n,r))},onSubscribeToSite:function(t,n){return e(ra(t,n))},onInitAuth:function(t){return e(B.YV.initAuth(t))},openAuthForm:function(){return e(B.we.openAuthForm("login"))}}}))(Vc);var Yc=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"getPublicationDate",(function(e){var t=e.formattedDates.iso;return e.is_draft?"Черновик":e.is_queued?o.createElement(o.Fragment,null,"Дата публикации: ",o.createElement(B.h,{date:e.publish_time,format:"D MMMM, H:mm"})):t&&B.E6.isPastYear(t)?o.createElement(B.h,{date:t,format:"DD.MM.YYYY в H:mm"}):o.createElement(B.h,{date:t,format:"D MMMM, H:mm"})})),k()(y()(e),"getEditorStatusHtml",(function(e){if("EDITOR_STATUS_NONE"!==e){var t="EDITOR_STATUS_AUTHOR"===e?"Авторский материал":"Отборный материал";return o.createElement("div",{className:M()({"blog-post__status":!0,"blog-post__status_author":"EDITOR_STATUS_AUTHOR"===e,"blog-post__status_selected":"EDITOR_STATUS_SELECTED"===e})},o.createElement("div",{className:"blog-post__status-tooltip"},o.createElement("div",null,t),o.createElement("div",null,"Наши редакторы постоянно отбирают для вас лучшие материалы")))}return null})),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.blogPost,n=e.app,r=e.listTopics,a=void 0===r?[]:r,i=e.isMainPost,s=yo.isSiteMatch("verifiedBlogs"),c=i?"h1":"h2",l=n.isArbitrationBlog;return o.createElement(o.Fragment,null,n.site&&o.createElement("div",{className:"blog-post__header"},o.createElement("div",{className:"blog-post__author",rel:"author"},!l&&o.createElement(Lc,{app:n,blogPost:t}),o.createElement("div",null,o.createElement("a",{className:"blog-post__author-name",href:n.site.canViewBlogPostCreator?t.from.url:n.site.mainDomain,target:"_blank",rel:"dispute"===n.scope?"nofollow":null},o.createElement("span",{itemProp:"author"},!n.site.canViewBlogPostCreator&&o.createElement(o.Fragment,null,yo.getTitle(n),s&&o.createElement(B.SF,{color:"dark"})),n.site.canViewBlogPostCreator&&o.createElement(o.Fragment,null,t.from.display_name,(t.from.isAuthenticAccount||s)&&o.createElement(B.SF,{color:"dark"})))),o.createElement("div",{className:"blog-post__info"},o.createElement("div",{className:"blog-post__pubdate"},this.getEditorStatusHtml(t.editorStatus),this.getPublicationDate(t)),o.createElement(qc,{topic:t.topic,listTopics:a})))),!n.site.is_member&&o.createElement(Wc,{siteId:n.site.id,initSubscription:{isMember:n.site.is_member,isSubscribed:n.site.is_subscribed},subscribeText:"Читать",ymGoal:"click_read_mob_blogpost",leftIcon:!0}),o.createElement(Fc,{url:t.seo_url||t.url,id:t.id}),wr.isLogged()&&o.createElement(o.Fragment,null,o.createElement(B.aN,{post:t}))),o.createElement(c,{className:"blog-post__title",itemProp:"headline"},i?t.title:o.createElement("a",{href:t.seo_url||t.url},t.title)),wr.canAdminBlog()&&o.createElement("div",{className:"blog-post__notifications"},o.createElement(B.e5,{blogPost:t})))}}]),a}(o.Component);Yc.propTypes={blogPost:j().oneOfType([j().object,j().array]),app:j().object,listTopics:j().array,isMainPost:j().bool};const Kc=Yc;var zc=function(e){var t=e.tags,n=void 0===t?[]:t,r=e.isAmp;return Array.isArray(n)&&n.length>0&&o.createElement("div",{className:"blog-post-tags"},n.map((function(e,t){return o.createElement(o.Fragment,{key:t},o.createElement("a",{className:"blog-post-tags__item badge badge-secondary",href:"/blog/?t="+encodeURIComponent(e)},e),!r&&o.createElement("meta",{itemProp:"about",content:e}))})))};zc.propTypes={tags:j().array,isAmp:j().bool};const $c=zc;var Jc=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;h()(this,a),t=r.call(this,e),k()(y()(t),"handleSubscribe",(function(e){var n=t.props,r=n.onJoinToSite,o=n.onSubscribeToSite,a=n.onOpenAuthForm,i=n.app;e.preventDefault(),wr.isLogged()?(r(i.site.id,!0),o(i.site.id,!0)):a("login")}));var n=t.props.blogPost;return t.referenceUrl=n.reference_url,t}return g()(a,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.blogPost,a=n.isMember,i=n.user,s=n.siteBuilder,c=n.actionModifyPostPopup,l=n.onRestoreBlogPost,u=n.app,p=/^4vkusa.mirtesen.(mt|ru)$/.test(null===(e=u.req)||void 0===e?void 0:e.host);return o.createElement(o.Fragment,null,o.createElement(B.qr,{maxCount:10,object:r}),!a&&!u.isArbitrationBlog&&o.createElement("div",{className:M()({"blog-post__subscribe":!0})},o.createElement("p",{className:"blog-post__subscribe-text"},"Понравилась статья? Подпишитесь на канал, чтобы быть в курсе самых интересных материалов"),o.createElement("a",{href:"#",className:"btn btn-primary",onClick:function(e){return t.handleSubscribe(e)}},"Подписаться")),o.createElement($c,{tags:r.tags}),p&&o.createElement(Di,{type:"Smi2",id:98428}),o.createElement("div",{className:"blog-post__footer"},o.createElement("div",{className:"blog-post-actions"},o.createElement(B.Hy,{blogPost:r,currentUser:i,className:"blog-post-item__actions",siteBuilder:s,postPage:!0,commentsClickHandler:function(e){var t=e.target.closest(".content-column").querySelector(".comment__reply__form__textarea");t&&(t.scrollIntoView({block:"center"}),t.focus())}}))),!!c.deletedList[r.id]&&o.createElement("div",{className:"blog-post__deleted"},"Пост удален...",o.createElement(eo.Z,{onClick:function(){l(r.id)},label:"Восстановить"})))}}]),a}(o.Component);Jc.propTypes={blogPost:j().oneOfType([j().object,j().array]),app:j().object,magic:j().object,isMember:j().bool,user:j().object,siteBuilder:j().object,actionModifyPostPopup:j().object,onRestoreBlogPost:j().func,onJoinToSite:j().func,onSubscribeToSite:j().func,onOpenAuthForm:j().func};const Xc=Jc;var Qc=function(e){var t=e.blogPost,n=B.E6.cropImage2(L()(t,"images[0].url")),r=B.Bz.getConfig();return o.createElement(o.Fragment,null,o.createElement("meta",{itemScope:!0,itemProp:"mainEntityOfPage",itemType:"https://schema.org/WebPage",itemID:(t.canonical_url||t.url).replace(/^\/\//,"https://"),content:""}),o.createElement("meta",{itemProp:"datePublished",content:t.formattedDates.iso}),o.createElement("meta",{itemProp:"dateModified",content:t.formattedDates.iso}),o.createElement("span",{itemScope:!0,itemType:"https://schema.org/Organization",itemProp:"publisher"},o.createElement("meta",{itemProp:"name",content:t.group.name}),o.createElement("span",{itemScope:!0,itemType:"https://schema.org/ImageObject",itemProp:"logo"},o.createElement("meta",{itemProp:"url",content:t.group.photo_original||"".concat(r.staticHost,"/images/mirtesen.jpg")}))),n&&o.createElement("meta",{itemProp:"image",content:n.replace(/^\/\//,"https://")}))};Qc.propTypes={blogPost:j().oneOfType([j().object,j().array])};const el=Qc;var tl=function(e){var t=e.todayBirthdays,n=void 0===t?[]:t,r=(0,o.useState)([]),a=ir()(r,2),i=a[0],s=a[1];return(0,o.useEffect)((function(){if("undefined"!=typeof window){var e=n.filter((function(e){return"1"!==window.sessionStorage.getItem("congratulated_".concat(e.id))}));s(e)}}),[]),i.length>0&&o.createElement("div",{className:"birthday-widget"},o.createElement("h3",{className:"birthday-widget__title"},"Сегодня ",i.length>1?"празднуют":"празднует"," День рождения:"),o.createElement("ul",{className:"birthday-widget__list"},i.map((function(e){return o.createElement("li",{className:"birthday-widget__person",key:e.id},o.createElement(B.kc,{userId:e.id,tagName:"span"},o.createElement(B.Hl,{logoInfo:{userName:e.display_name,logoImg:e.photo_original,logoUrl:B.V5.addParameterToUrl(e.url,"birthday","true"),logoClassName:"userlogo_m",linkTarget:"_blank"}})),o.createElement("div",{className:"birthday-widget__person-info"},o.createElement("a",{href:B.V5.addParameterToUrl(e.url,"birthday","true"),className:"birthday-widget__person-name",target:"_blank"},o.createElement(B.kc,{userId:e.id,tagName:"span"},e.display_name)),o.createElement("a",{href:B.V5.addParameterToUrl(e.url,"birthday","true"),className:"btn btn-primary"},"Поздравить")))}))))};tl.propTypes={todayBirthdays:j().array};const nl=(0,o.memo)(tl);var rl=function(e){var t=e.app,n=e.todayBirthdays,r=void 0===n?[]:n;return o.createElement("div",{id:"right-column"},"blog"===t.scope&&o.createElement(es,null),r.length>0&&o.createElement(nl,{todayBirthdays:r}),o.createElement(ns,null),"blogPostDispute"===t.page?o.createElement(fi,{rtbId:"R-A-91685-276"}):o.createElement(Di,{type:"Politpiar",id:99809}),o.createElement(as,{id:t.site.id}),"blogPostDispute"===t.page?o.createElement(fi,{rtbId:"R-A-91685-277"}):o.createElement(Di,{type:"Politpiar",id:99810}),o.createElement(B.gg,null,"blogPostDispute"===t.page?o.createElement(fi,{rtbId:"R-A-91685-278",className:"adfox"}):o.createElement(Di,{type:"Politpiar",id:99808}),o.createElement(Di,{position:"smi2RightBlock"})))};rl.propTypes={app:j().object,subCounter:j().number,todayBirthdays:j().array};const ol=rl;var al=function(e){var t=e.size,n=e.className,r=void 0===n?"":n,a=e.children,i=e.style,s=k()({"topic-block":!0,"topic-block_md":2===t,"topic-block_lg":3===t},r,!0);return o.createElement("div",{className:M()(s),style:i},a)};al.propTypes={size:j().number,children:j().node,className:j().string,style:j().object};const il=al;var sl=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"throttleAppearHandler",d()((function(){return t.appearHandler()}),t.props.delayTime)),k()(y()(t),"throttleDisappearHandler",d()((function(){return t.disappearHandler()}),t.props.delayTime)),t.element=o.createRef(),t.dom=new B.SO,t}return g()(a,[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.throttleAppearHandler),this.appearHandler(),this.disappearHandler()}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.throttleAppearHandler),document.removeEventListener("scroll",this.throttleDisappearHandler)}},{key:"appearHandler",value:function(){var e=this.props,t=e.onAppear,n=e.offsetTopToTrigger,r=e.appearOnly,o=this.element.current;o&&this.dom.getOffsetByPage(o).y<window.pageYOffset+document.documentElement.clientHeight+n&&(document.removeEventListener("scroll",this.throttleAppearHandler),r||document.addEventListener("scroll",this.throttleDisappearHandler),t())}},{key:"disappearHandler",value:function(){var e=this.props.onDisappear,t=this.element.current;t&&this.dom.getOffsetByPage(t).y+t.offsetHeight<window.pageYOffset&&(document.removeEventListener("scroll",this.throttleDisappearHandler),e())}},{key:"render",value:function(){return o.createElement("span",{ref:this.element})}}]),a}(o.Component);k()(sl,"propTypes",{offsetTopToTrigger:j().number,delayTime:j().number,onAppear:j().func,onDisappear:j().func,appearOnly:j().bool}),k()(sl,"defaultProps",{offsetTopToTrigger:0,delayTime:400,onAppear:function(){return null},onDisappear:function(){return null},appearOnly:!0});const cl=sl;var ll=function(e){var t=e.posts,n=e.hiddenPosts,r=e.topicKey,a=void 0===r?"society":r,i=e.dispute,s=e.hasMore,c=e.onLoadMore,l=e.gridView,u=e.onShowModal,p=e.onPostAppear,d=e.enableModeration,m=0,f=0,h=null,_=(0,o.useState)("desktop"),g=ir()(_,2),v=g[0],y=g[1];(0,o.useEffect)((function(){return window.addEventListener("resize",b),E(),function(){window.removeEventListener("resize",b)}}),[]);var b=function(){h&&clearTimeout(h),h=setTimeout((function(){E()}),80)},E=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t="desktop";e<616?t="mobile":e<1016&&(t="tablet"),y(t)},P={common:{desktop:[{type:"post",className:"double"},{type:"partnerBlock",className:"main-ad",params:{type:"Politpiar",id:99811}},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:98072}},{type:"post"},{type:"post"},{type:"popularPosts"},{type:"partnerBlock",className:"double",params:{type:"Politpiar",id:99817}},{type:"post"},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:98072}},{type:"post"},{type:"partnerBlock",className:"double",params:{type:"Politpiar",id:99817}},{type:"post"},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:98072}},{type:"post"},{type:"partnerBlock",className:"double",params:{type:"Politpiar",id:99817}},{type:"post"},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:98072}},{type:"post"},{type:"partnerBlock",className:"double",params:{type:"Politpiar",id:99817}},{type:"post"},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:98072}},{type:"post"}],tablet:[{type:"post",className:"double"},{type:"partnerBlock",className:"main-ad",params:{type:"Politpiar",id:99811}},{type:"post"},{type:"post"},{type:"post"},{type:"partnerBlock",className:"double",params:{type:"Politpiar",id:99817}},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:98072}},{type:"partnerBlock",className:"double",params:{type:"Politpiar",id:99817}},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:98072}},{type:"partnerBlock",className:"double",params:{type:"Politpiar",id:99817}},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:98072}},{type:"partnerBlock",className:"double",params:{type:"Politpiar",id:99817}},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:98072}}],mobile:[{type:"post"},{type:"partnerBlock",className:"main-ad",params:{type:"Politpiar",id:99811,style:{display:"flex",justifyContent:"center"}}},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:98072}},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:99810,style:{display:"flex",justifyContent:"center"}}},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:98072}},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:99810,style:{display:"flex",justifyContent:"center"}}},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:98072}},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:99810,style:{display:"flex",justifyContent:"center"}}},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:98072}},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:99810,style:{display:"flex",justifyContent:"center"}}},{type:"post"},{type:"partnerBlock",params:{type:"Politpiar",id:98072}},{type:"post"}]},postsOnly:{desktop:[{type:"post",className:"double"},{type:"post"},{type:"post"},{type:"post"},{type:"post"},{type:"post"},{type:"post"},{type:"post"},{type:"post"}],tablet:[{type:"post"},{type:"post"},{type:"post"},{type:"post"},{type:"post"},{type:"post"},{type:"post"},{type:"post"},{type:"post"}],mobile:[{type:"post"},{type:"post"},{type:"post"},{type:"post"},{type:"post"},{type:"post"},{type:"post"},{type:"post"},{type:"post"}]}},O={common:{desktop:[{type:"post"}],tablet:[{type:"post"}],mobile:[{type:"post"}]},postsOnly:{desktop:[{type:"post"}],tablet:[{type:"post"}],mobile:[{type:"post"}]}},w=function(e){var t=L()(e,"images[0].url");if(t||(t=L()(e,"shared_post.images[0].url")),"chat"===e.post_type&&(t=e.avatar),!t){var n=L()(e,"attachments[0].poll.fileUri",null);t=B.E6.cropImage(n,1280)}if(!t){var r=L()(e,"shared_post.attachments[0].poll.fileUri",null);t=B.E6.cropImage(r,1280)}return t},S=function(e){if(!e)return null;var t=w(e),r=n.indexOf(e.id)>-1;return o.createElement(o.Fragment,null,o.createElement(B.wt,{post:e,imageUrl:t,showModal:u,isHiddenPost:r,enableModeration:d,dispute:i}),e.isBusiness&&wr.isLogged()&&o.createElement(cl,{onAppear:function(){return p(e.id)}}))},T=function(e,t){if(!t)return null;f++;var r,i=null;if(!t)return null;switch(e.type){case"popularPosts":i=o.createElement(B.aR,{topicKey:a,dummyPost:{post:t,imageUrl:w(t),showModal:u,isHiddenPost:n.indexOf(t.id)>-1,enableModeration:d}}),m++;break;case"partnerBlock":r=e.params,i=o.createElement(Di,r);break;case"post":i=S(t),m++;break;case"adFox":i=o.createElement(Qr,{adId:e.params.id,subCounter:f});break;case"yaRtb":i=o.createElement(fi,{rtbId:e.params.id,subCounter:f});break;case"component":i=e.component;break;default:i=S(t),m++}return i};return o.createElement(o.Fragment,null,o.createElement(B.v_,{loadMore:function(){return c()},hasMore:s,threshold:800,loader:null},o.createElement("div",{className:"grid-tiles"},function(e){if(!e)return null;var t=void 0!==P[l]?P[l]:P.common;return(t=t[v]||t.desktop).map((function(t){var n=T(t,e[m]);return n?o.createElement(il,{key:f,className:t.className},n):null}))}(t),function(e){if(!e)return null;var t=void 0!==O[l]?O[l]:O.common;return(e=function(e,t){var n=e.length;if(n<t)return e;for(;n%t&&0!==n;)n--;return e.slice(0,n)}(e,(t=t[v]||t.desktop).length-1)).map((function(e,n){var r=n%t.length,a=t[r],i=T(a,e);return i?o.createElement(il,{key:n,className:a.className},i):null}))}(t.slice(m+1)))),o.createElement(B.xX,null))};ll.propTypes={posts:j().array,hasMore:j().bool,gridView:j().string,onShowModal:j().func,onPostAppear:j().func,onLoadMore:j().func,hiddenPosts:j().array,enableModeration:j().bool,topicKey:j().string,dispute:j().bool},ll.defaultProps={posts:[],hiddenPosts:[],hasMore:!0,gridView:"common",enableModeration:!0,onShowModal:function(){},onPostAppear:function(){},onLoadMore:function(){}};const ul=(0,o.memo)(ll);function pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ml=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),(t=r.call(this,e)).handleGetMessage=t.handleGetMessage.bind(y()(t)),t}return g()(a,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleGetMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleGetMessage)}},{key:"handleGetMessage",value:function(e){var t,n=this.props.onHidePost;"MT_APP_HIDE_POST"===(null==e||null===(t=e.data)||void 0===t?void 0:t.type)&&n(e.data.id,this.props.id)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.postTiles,r=e.isMobile;return o.createElement(ul,dl(dl(dl({},this.props),n[t]||Hn),{},{isMobile:r}))}}]),a}(o.PureComponent);ml.defaultProps={id:"default",gridView:"common",enableModeration:!0,topicKey:null,onShowModal:function(){},onPostAppear:function(){},onLoadMore:function(){}},ml.propTypes={id:j().string,postTiles:j().object,isMobile:j().bool,onHidePost:j().func,topicKey:j().string};const fl=(0,i.$j)((function(e){var t;return{isMobile:null===(t=e.app)||void 0===t?void 0:t.isMobile,postTiles:e.postTiles}}),(function(e){return{onHidePost:function(t,n){e(function(e,t){return{type:"POST_TILES_HIDE_POST",hiddenPost:e,id:t}}(t,n))}}}))((0,B.Pf)(ml,"postTiles"));var hl=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.onShowMore)(e.topBlogPostId,e.nextOffset,e.count)}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.topBlogPostId,r=e.nextOffset,a=e.hasMoreItems,i=e.onShowMore,s=e.count,c=e.isLoading;return t.length<1?null:o.createElement("div",{className:"blog-post-recommended"},o.createElement("h2",{className:"blog-post-recommended__title"},"Рекомендуем:"),o.createElement("div",{className:"blog-post-recommended__list"},t.map((function(e,t){return o.createElement("a",{className:"blog-post-recommended__item",href:e.seo_url,key:t},L()(e,"images[0]")&&o.createElement(B.BH,{tag:"div",className:"blog-post-recommended__image",src:e.images[0].url,alt:e.title}),o.createElement("h3",{className:"blog-post-recommended__item-title"},e.title))}))),a&&!c&&o.createElement("div",{className:"blog-post-recommended__more"},o.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return i(n,r,s)}},"Нажмите, чтобы увидеть больше!")),c&&o.createElement("div",{className:"blog-post-list__loader"},o.createElement("img",{className:"blog-post-list__loader-img",src:"//static.mtml.ru/images/loader.svg",alt:"Загружается..."})))}}]),a}(o.PureComponent);hl.propTypes={items:j().array,nextOffset:j().number,hasMoreItems:j().bool,count:j().number,topBlogPostId:j().oneOfType([j().number,j().string]),isLoading:j().bool,onShowMore:j().func};const _l=(0,i.$j)((function(e){return{items:e.blogPostRecommended.items,nextOffset:e.blogPostRecommended.nextOffset,hasMoreItems:e.blogPostRecommended.hasMoreItems,count:e.blogPostRecommended.count,topBlogPostId:e.blogPost.id,isLoading:e.blogPostRecommended.isLoading}}),(function(e){return{onShowMore:function(t,n,r){e(function(e,t,n){return function(){var r=R()(D().mark((function r(o,a){var i,s,c,l,u,p;return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=a(),s=i.app.site.id,c=i.blogPostRecommended.items,l=i.blogPostRecommended.nextOffset,u={siteId:s,offset:t,count:n,fieldList:"list"},o({type:"BLOG_POST_RECOMMENDED_LOADING"}),r.next=8,B.JG.getBlogPostList(u);case 8:if(!((p=r.sent).length>0&&(p[0].id===e||c.findIndex((function(e){return e.id===p[0].id}))>-1))){r.next=15;break}return++u.offset,r.next=13,B.JG.getBlogPostList(u);case 13:p=r.sent,++l;case 15:return r.abrupt("return",o({type:"BLOG_POST_RECOMMENDED_GET_LIST",items:[].concat(F()(c),F()(p)),hasMoreItems:p.length>=n,nextOffset:l+n}));case 16:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}(t,n,r))}}}))(hl);var gl=function(e){var t=e.items.map((function(e,t){return o.createElement("a",{key:t,href:e.link,target:"_blank"},e.text)}));return o.createElement("footer",{className:"ng-footer"},o.createElement("a",{href:"/",className:"ng-footer__logo"}),o.createElement("div",{className:"ng-footer__menu"},o.createElement("div",null,t)))};gl.propTypes={items:j().arrayOf(j().object).isRequired},gl.defaultProps={items:[]};const vl=gl;var yl=!1,bl=function(){if(!1===yl&&(yl=!0,void 0===window.mtMessenger)){var e=B.cQ.getStaticHost()||"",t=document.createElement("script");t.src="".concat(e,"/messenger/loader.js?v=23"),t.async=!0,document.head.appendChild(t)}},El=function e(){h()(this,e)};k()(El,"mount",(function(e){bl(),window.mtMessenger=window.mtMessenger||[],window.mtMessenger.push(["mount",e])})),k()(El,"mountChatExternal",(function(e){bl(),window.mtMessenger=window.mtMessenger||[],window.mtMessenger.push(["mountChatExternal",e])})),k()(El,"unmountChat",(function(e){bl(),window.mtMessenger=window.mtMessenger||[],window.mtMessenger.push(["unmountChat",e])}));const Pl=El;var Ol=n(99032),wl=n(81827),Sl=function(e){var t=e.chatId,n=e.chatType,r=e.perPageLimit,a=e.firstPageLimit,i=e.showListTitle,s=e.messages,c=(0,o.useRef)(),l=(0,o.useState)(!1),u=ir()(l,2),p=u[0],d=u[1],m=void 0!==s;return(0,o.useEffect)((function(){if("undefined"!=typeof window){var e=c.current;return p||Pl.mountChatExternal({container:e,id:t,type:n,perPageLimit:r,firstPageLimit:a,showListTitle:i,inputId:"comment-reply".concat(t),onLoad:function(){var e=window.document.getElementById(wl.Z.getParameterByName("id",window.location.href));e&&e.focus(),d(!0)}}),function(){p&&Pl.unmountChat({container:e})}}}),[p,t,n,r,a,i]),o.createElement(o.Fragment,null,!p&&m&&o.createElement(Ol.ZP,{messages:s,embedded:!0}),o.createElement("div",{ref:c,id:"comment_widget_".concat(t)}))};Sl.propTypes={messages:j().array,chatId:j().number,chatType:j().oneOf(["mt","smi2"]),perPageLimit:j().number,firstPageLimit:j().number,showListTitle:j().bool};const Tl=(0,i.$j)((function(e,t){var n=e.v2Comments,r=t.chatId,o=t.chatType;return{messages:r?n["".concat(o,":").concat(r)]:Object.values(n)[0]}}))(Sl);var kl=function(e){var t=e.showV2Comments,n=e.blogPostId,r=e.siteId,a=e.disableComments,i=void 0!==a&&a,s=e.lightApp,c=void 0!==s&&s,l=e.allowCommentVislvl,u=void 0===l?9:l,p=e.smi2Id,d=void 0===p?null:p,m=e.firstPageLimit,f=void 0===m?3:m,h=e.perPageLimit,_=void 0===h?20:h,g=e.showListTitle,v=void 0!==g&&g,y=(0,o.useState)(!1),b=ir()(y,2),E=b[0],P=b[1],O=null,w=null,S=!0;return n?(O=n,w="mt",S=!1):d&&(O=d,w="smi2",S=!0),c||u===B.cQ.allowLevels.none||i?null:o.createElement(o.Fragment,null,E&&o.createElement(o.Fragment,null,t&&o.createElement(Tl,{chatId:O,chatType:w,firstPageLimit:f,perPageLimit:_,showListTitle:v}),!t&&!S&&o.createElement(o.Fragment,null,o.createElement("div",{id:"comments".concat(n),className:"__comments__anchor__"}),o.createElement(B.HW,{sectionId:r,discussionId:n,previewCount:f}))),o.createElement(cl,{onAppear:function(){P(!0)},offsetTopToTrigger:600}))};kl.propTypes={showV2Comments:j().bool,blogPostId:j().number,siteId:j().number,firstPageLimit:j().number,perPageLimit:j().number,showListTitle:j().bool,disableComments:j().bool,lightApp:j().bool,allowCommentVislvl:j().number,smi2Id:j().number};const Il=(0,i.$j)((function(e){var t,n,r,o;return{lightApp:null==e||null===(t=e.app)||void 0===t||null===(n=t.req)||void 0===n?void 0:n.lightApp,allowCommentVislvl:null==e||null===(r=e.app)||void 0===r||null===(o=r.groupBlogPostsModule)||void 0===o?void 0:o.allowCommentVislvl}}),null)((0,B.Pf)((0,o.memo)(kl),"Comments"));var Ml=B.vc.restoreBlogPost,Cl=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"initSpecialLinks",(function(){var e=window.location.search.replace(/^[?&]+|[?&]+$/,"");window.location.search&&document.getElementsByClassName("blog-post__text")&&0!==document.getElementsByClassName("blog-post__text").length&&F()(document.getElementsByClassName("blog-post__text").item(0).getElementsByClassName("append-get-params")).forEach((function(t){var n,r=t.getAttribute("href");n=r.includes("?")?r+"&"+e:r+"?"+e,t.setAttribute("href",n)}))})),t.state={userScrolled:!1,adsRotator:null},t}return g()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.blogPost,r=t.app,o=this.state.userScrolled;Cr.registerSingleView(n.id,r.req.query),setTimeout((function(){e.initSpecialLinks()}),300),document.addEventListener("scroll",d()((function(){o||e.setState({userScrolled:!0})}),80));var a=Number(B.cQ.getCookie("_mt_rotator")||0),i=window.location.hostname.split(".");i=".".concat(i[i.length-2],".").concat(i[i.length-1]),B.cQ.setCookie("_mt_rotator",a+1,{expires:94608e3,domain:i}),this.setState({adsRotator:a})}},{key:"render",value:function(){var e=this.props,t=e.blogPost,n=e.app,r=e.user,a=e.siteBuilder,i=e.onRestoreBlogPost,s=e.onJoinToSite,c=e.actionModifyPostPopup,l=e.isMember,u=e.magic,p=e.onSubscribeToSite,d=e.onOpenAuthForm,m=e.onShowMorePosts,f=this.state,h=f.userScrolled,_=f.adsRotator,g=L()(n,"req.deviceType"),v=L()(t,"isSlider"),y=n.hideAdBlocks,b=n.showV2Comments;return o.createElement("div",{className:M()({"blog-post-item":!0,"blog-post-item_tile":!0,"blog-post-item_arbitration-blog":v})},o.createElement("div",{id:"double-column-container"},"phone"!==g&&o.createElement(ol,{app:n,subCounter:_}),o.createElement("div",{id:"content-column",className:"content-column"},o.createElement("div",{className:"adfox-top"},"phone"!==g?o.createElement(Di,{type:"Politpiar",id:99815}):o.createElement(Di,{type:"Politpiar",id:99819})),o.createElement("article",{className:"blog-post",id:"post_".concat(t.id),key:t.id,itemScope:!0,itemType:"http://schema.org/NewsArticle"},o.createElement(el,{blogPost:t,app:n}),o.createElement(Kc,{blogPost:t,app:n,listTopics:Br.listTopics,isMainPost:!0}),v&&o.createElement("div",{style:{opacity:0}},o.createElement(Qr,{adId:10010})),o.createElement(Dc,{blogPost:t,siteBuilder:a}),t.reference_url&&o.createElement("div",{className:"blog-post__source"},o.createElement("a",{href:t.reference_url,target:"_blank"},"Ссылка на первоисточник")),!n.disablePartnerBlocks&&!n.hideAdBlocks&&o.createElement("div",{className:"sportrecs"},o.createElement("iframe",{src:"https://sportrecs.com/redirect/embed/Valsn8cPQjBplhe9VlRhLQ/HoSO2czsno0GJBbr45g4UQ?autoplay=1&muted=1",referrerPolicy:"unsafe-url",frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0})),o.createElement(Xc,{app:n,blogPost:t,magic:u,isMember:l,user:r,siteBuilder:a,actionModifyPostPopup:c,onRestoreBlogPost:i,onJoinToSite:s,onSubscribeToSite:p,onOpenAuthForm:d})),o.createElement(Sc,{prevPostUrl:t.prevPostUrl,nextPostUrl:t.nextPostUrl}),o.createElement(Il,{showV2Comments:b,blogPostId:t.id,smi2Id:t.smi2_id,siteId:n.site.id,firstPageLimit:5,disableComments:t.close_comments}),o.createElement("div",{className:"adfox-outer blog-post-item__ad-block"},"phone"!==g?o.createElement(Di,{type:"Politpiar",id:99816}):o.createElement(Di,{type:"Politpiar",id:99812})))),v&&o.createElement(_l,null),v&&o.createElement(vl,{items:Oc.menuItems}),!v&&o.createElement("div",{className:"blog-post-bottom-partners"},o.createElement(Di,{position:"smi2BottomBlock2"}),o.createElement(Di,{position:"smi2BottomBlock4"})),!v&&h&&o.createElement("div",{className:"blog-post-bottom",onClick:function(){B.gy.ym("reachGoal","click_bottom_site_A")}},o.createElement(fl,{topicKey:t.topicKey,onLoadMore:m,gridView:y?"postsOnly":"common",id:"blogPostBottom"})),o.createElement(B._7,null),o.createElement(B.g3,null),o.createElement(B.xX,null),o.createElement(B.Wp,null),o.createElement(Di,{type:"Politpiar",id:100156}))}}]),a}(o.Component);Cl.propTypes={onShowMorePosts:j().func,blogPost:j().oneOfType([j().object,j().array]),app:j().object,user:j().object,siteBuilder:j().object,magic:j().object,actionModifyPostPopup:j().object,onRestoreBlogPost:j().func,isMember:j().bool,onJoinToSite:j().func,onSubscribeToSite:j().func,onOpenAuthForm:j().func};const jl=(0,i.$j)((function(e){return{isMember:e.app.site.is_member,blogPost:e.blogPost,app:e.app,user:e.auth.user,siteBuilder:e.app.siteBuilder,actionModifyPostPopup:e.actionModifyPostPopup,magic:e.magic}}),(function(e){return{onRestoreBlogPost:function(t){e(Ml(t))},onJoinToSite:function(t,n){e(na(t,n))},onSubscribeToSite:function(t,n){e(ra(t,n))},onOpenAuthForm:function(t){e(B.we.openAuthForm(t))},onShowMorePosts:function(){B.gy.ym("reachGoal","doscroll_site_A"),e(Ic())}}}))((0,B.Pf)(Cl,"blogPost"));var Nl=function(e){var t=e.src,n=e.reply,r=e.replyUserName,a=e.currentUser,i=e.userUrl,s=e.linkTarget;return n?o.createElement("div",{className:"comment__header__user__reply__wrapper"},o.createElement(B.Hl,{logoInfo:{userName:a,logoImg:t||"",logoClassName:"userlogo_xxm",userUrl:i,linkTarget:s}}),!!r&&o.createElement("p",{className:"comment__header__user__reply"},"Вы отвечаете пользователю ",o.createElement("span",null,r))):o.createElement(B.Hl,{logoInfo:{userName:a,logoImg:t||"",logoClassName:"userlogo_xxm"}})};Nl.propTypes={src:j().string,reply:j().bool,replyUserName:j().string,currentUser:j().string,userUrl:j().string,linkTarget:j().string};const Rl=Nl;var Al=n(6479),Dl=n.n(Al),xl=["tagName","html"];var Ll=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"handleClick",(function(){t.elem&&t.elem.focus()})),t.handleChange=t.handleChange.bind(y()(t)),t.handlePaste=t.handlePaste.bind(y()(t)),t}return g()(a,[{key:"shouldComponentUpdate",value:function(e){var t=this.getInnerMethod();return e.html!==this.elem[t]}},{key:"handleChange",value:function(){var e=this.getInnerMethod(),t=this.elem[e];this.props.onChange(t)}},{key:"handlePaste",value:function(e){var t=this.props,n=t.onPaste;if("plaintext-only"===t.contentEditable){e.preventDefault();var r=e.clipboardData.getData("text");document.execCommand("insertText",!1,r)}n&&n(e)}},{key:"getInnerMethod",value:function(){return"plaintext-only"===this.props.contentEditable?"innerText":"innerHTML"}},{key:"render",value:function(){var e=this,t=this.props,n=t.tagName,r=t.html,a=Dl()(t,xl),i=n||"div";return this.elem&&""===r&&(this.elem.innerHTML=""),o.createElement(i,Fr()({},a,{ref:function(t){e.elem=t},dangerouslySetInnerHTML:{__html:r},contentEditable:!0,onInput:this.handleChange,onPaste:this.handlePaste,onClick:this.handleClick}))}}]),a}(o.Component);Ll.propTypes={onChange:j().func,onPaste:j().func,contentEditable:j().string,html:j().string,tagName:j().string},n(91058);const Bl=function(){function e(){h()(this,e)}return g()(e,null,[{key:"loadImage",value:function(e){var t=new FormData;return t.append("query","mutation {uploadPhoto {id, photo_original}}"),t.append("photo",e),(0,B.$2)({project:"main",body:t,jwt:!0}).then((function(e){if(e.data)return e.data.uploadPhoto})).catch((function(e){console.log(e)}))}}]),e}();function Ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ul(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hl=function(e){return{type:"COMMENT_FORM_SHOW_MAIN_FORM",widgetId:e}},ql=function(e,t){return{type:"COMMENT_FORM_RESET",widgetId:e,formEntity:t}};var Zl=B.sE.closeAuthAlert,Gl=B.we.openAuthForm,Vl=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),(t=r.call(this,e)).wrapTextarea=o.createRef(),t}return g()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.formEntity,r=t.commentId;"reply"===n&&this.replyComment("#comment-reply".concat(r)),-1!==location.hash.indexOf("comment-reply")&&setTimeout((function(){e.replyComment(location.hash)}),0)}},{key:"handleOnFocus",value:function(){var e=this.props;(0,e.onFocusAction)(e.formEntity),this.forceUpdate()}},{key:"handleOnBlur",value:function(){var e=this.props;(0,e.onBlurAction)(e.formEntity),this.forceUpdate()}},{key:"handleOnClick",value:function(){var e=this.props,t=e.commentForm,n=e.formEntity,r=e.onEditComment,o=e.onAddComment,a=e.commentId,i=e.closeAuthAlert,s=e.openAuthForm,c=e.currentUser,l=e.maxLength,u=void 0===l?2e3:l,p=e.position,d=void 0===p?"top":p,m=t[n];if(!m)return!1;var f=m.text,h=m.attachments&&m.attachments[0]&&m.attachments[0].photo?m.attachments[0].photo.id:null,_=f.replace(/\r?\n+|\r|<br\/>|\\n|\\r/g,"");f=(f=f.replace(/\r?\n+|\r|<br\/>/g,"\n")).trim(),u-m.text.length<0||!(f.length>0||h)||""===_&&!h||("edit"===n?r(a,f,h,n):c?o({message:f,attachId:h||null,replyCommentId:a||null,repost:!1,position:d},n):(i(),s("login")))}},{key:"replyComment",value:function(e){var t=document.querySelector(e);t&&t.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentUser,r=t.commentForm,a=t.onShowMainForm,i=t.onChangeText,s=t.onClearPreview,c=t.formEntity,l=t.onGetPreview,u=t.commentId,p=t.discussionId,d=t.authFormIsOpen,m=t.userName,f=t.levelComment,h=t.maxLength,_=void 0===h?2e3:h,g=t.canComment,v=void 0===g||g,y=r[c],b=r[c],E=b.showForm,P=b.active,O=L()(r,"".concat(c,".text"),"").trim();return!v||d?null:o.createElement("div",{className:"comment__wrap ".concat("reply"!==c||1!==f&&2!==f?"":"comment__wrap_level-".concat(f))},o.createElement("div",{className:"comment__reply"},n&&o.createElement(Rl,{src:n?n.photo_original:"",currentUser:n?n.display_name:"",reply:"reply"===c,replyUserName:m}),o.createElement("div",{className:"comment__reply__form__wrap",onClick:function(){"main"===c&&a()}},o.createElement("div",{className:"comment__reply__form__wrap__textarea".concat(P?" active":""),ref:this.wrapTextarea},o.createElement(Ll,{id:"comment-reply".concat(u||p),ref:"textarea",html:y.text,className:"comment__reply__form__textarea",tagName:"div",onChange:function(e){i(e,c)},onKeyDown:function(t){if(13===t.keyCode)if(t.preventDefault(),t.ctrlKey){var n=t.target.innerHTML,r=t.target.selectionStart,o="\n"+n.slice(0,r).split("\n").pop().match(/^\s*/)[0];document.execCommand("insertText",!1,o)}else e.handleOnClick()},onFocus:function(){return e.handleOnFocus()},onBlur:function(){return e.handleOnBlur()},contentEditable:"plaintext-only",placeholder:{main:"Напишите комментарий",edit:"Напишите отредактированный комментарий",reply:"Ответить на комментарий"}[c]||"Напишите комментарий"}),n&&o.createElement("label",{className:"comment__reply__action-btn__photo"},o.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("circle",{cx:"14",cy:"14",r:"14",fill:"white"}),o.createElement("path",{d:"M7.2 12.9406V17C7.2 18.5464 8.4536 19.8 10 19.8H18C19.5464 19.8 20.8 18.5464 20.8 17V12.9406C20.8 11.427 19.573 10.2 18.0594 10.2C17.6714 10.2 17.3099 10.0027 17.1 9.67621L16.9777 9.48588C16.4625 8.68446 15.5751 8.2 14.6224 8.2H13.3776C12.4249 8.2 11.5375 8.68446 11.0223 9.48588L10.9 9.67621C10.6901 10.0027 10.3286 10.2 9.94055 10.2C8.42699 10.2 7.2 11.427 7.2 12.9406Z",stroke:"#A1A1A1",strokeWidth:"1.6"}),o.createElement("circle",{cx:"14",cy:"15",r:"2",stroke:"#A1A1A1",strokeWidth:"1.6"})),o.createElement("input",{onChange:function(e){l(e.target.files[0],c)},id:"comment__reply__action-btn__photo",type:"file"}))),o.createElement("svg",{onClick:function(){return e.handleOnClick()},className:"comment__reply__form__submit-btn",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("rect",{width:"40",height:"40",rx:"20",fill:O.length?"#2E6BD8":"#F9F9F9"}),o.createElement("path",{d:"M20 28V12M20 12L27 19M20 12L13 19",stroke:O.length?"white":"#A1A1A1",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),_-y.text.length<0&&o.createElement("p",{className:"comment__reply__form__textarea__limit"},"Вы превысили лимит символов: ",_-y.text.length))),("main"!==c||!!E)&&y.attachments&&y.attachments.length>0&&!!y.attachments[0].photo&&!!y.attachments[0].photo.id&&o.createElement("div",{className:"comment__preview"},o.createElement("div",{className:"comment__preview__img__wrap"},o.createElement("span",{className:"comment__preview__img__remove",onClick:function(){s(c)}}),o.createElement("img",{className:"comment__preview__img",src:y.attachments[0].photo?y.attachments[0].photo.photo_original:""}))),("main"!==c||!!E)&&y.attachments&&y.attachments.length>0&&(!y.attachments[0].photo||!y.attachments[0].photo.id)&&o.createElement("div",{className:"comment__preview"},o.createElement("span",{className:"comment__preview--error"},"Попробуйте загрузить другое фото (привышен размер файла)")),("main"!==c||!!E)&&o.createElement("div",{ref:"actionBtn"},y.attachmentLoading&&o.createElement("img",{src:"//static.mtml.ru/images/loader-dots.gif",alt:"",className:"comment__preloader--img"})))}}]),a}(o.Component);Vl.propTypes={widgetId:j().string,currentUser:j().object,commentForm:j().object,onShowMainForm:j().func,onChangeText:j().func,onClearPreview:j().func,onAddComment:j().func,onResetForm:j().func,formEntity:j().string,onGetPreview:j().func,onEditComment:j().func,commentId:j().number,closeAuthAlert:j().func,openAuthForm:j().func,userName:j().string,position:j().string,levelComment:j().number,onFocusAction:j().func,onBlurAction:j().func,maxLength:j().number,discussionId:j().number,authFormIsOpen:j().bool,canComment:j().bool};const Wl=B.$L.connect((0,i.$j)((function(e,t){return{currentUser:e.auth.user,authFormIsOpen:e.authForm.instances[t.widgetId].isOpen,commentForm:e.commentForm.instances[t.widgetId]}}),(function(e,t){return{onShowMainForm:function(){e(Hl(t.widgetId))},onChangeText:function(n,r){e(function(e,t,n){return{type:"COMMENT_FORM_CHANGE_TEXT",widgetId:e,text:t,formEntity:n}}(t.widgetId,n,r))},onClearPreview:function(n){e(function(e,t){return{type:"COMMENT_FORM_CLEAR_PREVIEW",widgetId:e,formEntity:t}}(t.widgetId,n))},onChangePublishStatus:function(){e({type:"COMMENTS_CHANGE_PUBLISH_STATUS",widgetId:t.widgetId})},onAddComment:function(n,r){e(function(e,t,n){return function(r,o){r({type:"COMMENT_FORM_LOADING_STATUS",widgetId:e,status:!0,formEntity:n});var a=o().disputeCommentList,i=o().app.scope,s=a.resourceId,c=a.sectionId,l=a.discussionId,u=a.discussionStringId;B.RQ.shareEvent("comment",l,"profile"===i?"up":"bp"),B.PU.addComment(Fl(Fl({},t),{},{resourceId:s,sectionId:c,discussionId:l,discussionStringId:u})).then((function(o){r(ql(e,n)),r(Hl(e)),o.likes={can_like:1,count:0,user_likes:0},o.can_delete=!0,o.fame_actions=[],o.fame_actions_positive_count=0,o.fame_actions_negative_count=0,o.date=parseInt(o.date,10)||0,r({type:"DISPUTE_COMMENT_LIST_COMMENT",position:t.position,comment:o}),B.v0.sendMessage({type:"MT_APP_CHANGE_COMMENTS_COUNT",id:l,count:1})})).catch((function(e){console.log(e)}))}}(t.widgetId,n,r))},onResetForm:function(n){e(ql(t.widgetId,n))},onGetPreview:function(n,r){e(function(e,t,n){return function(r){r({type:"COMMENT_FORM_CHANGE_ATTACH_LOADING",widgetId:e,status:!0,formEntity:n}),Bl.loadImage(t).then((function(t){r({type:"COMMENT_FORM_ADD_ATTACH",widgetId:e,attachments:t,formEntity:n})}))}}(t.widgetId,n,r))},onEditComment:function(n,r,o,a){e(function(e,t,n,r,o){return function(t){t({type:"COMMENT_FORM_LOADING_STATUS",widgetId:e,status:!0,formEntity:o})}}(t.widgetId,0,0,0,a))},openAuthForm:function(n){e(Gl(n,t.widgetId))},closeAuthAlert:function(){e(Zl())},onFocusAction:function(n){e(function(e,t){return{type:"COMMENT_FORM_FOCUS",widgetId:e,formEntity:t}}(t.widgetId,n))},onBlurAction:function(n){e(function(e,t){return{type:"COMMENT_FORM_BLUR",widgetId:e,formEntity:t}}(t.widgetId,n))}}}))(Vl));var Yl=function(e){var t,n=e.postId,r=e.postUrl,a=e.disputeCommentList,i=e.onShowMore,s=e.openAuthForm,c=(0,o.useState)(null),l=ir()(c,2),u=l[0],p=l[1];return o.createElement("div",{className:"messenger-block__message-list message-list mirtesen__widget__comments blog-post__comments",id:"comments"},a.can_comment&&o.createElement(Wl,{formEntity:"main",discussionId:n,position:"top"}),o.createElement(B.v_,{pageStart:a.page,loadMore:i,hasMore:a.hasMoreItems,threshold:500,loader:null},a.items.map((function(e,t){var n=e.id,i=e.user.id,s=e.user.display_name,c=e.user.photo_original;return i?o.createElement("div",{className:"messenger-block__message message",id:"main-comments-item-author-".concat(n),key:t},o.createElement("div",{className:"message__row"},o.createElement(B.kc,{href:"https://mirtesen.ru/people/".concat(i),className:M()({"message__logo-wrapper":!0}),userId:i},o.createElement(B.Hl,{logoInfo:{userName:s,logoImg:c,logoClassName:"userlogo_xxm"}})),o.createElement("div",{className:"message__content"},o.createElement(B.kc,{href:"https://mirtesen.ru/people/".concat(i),className:"message_name",userId:i,target:"_blank"},s),o.createElement("div",{className:"message__text"},o.createElement("div",{className:"message__text-content"},o.createElement("div",{dangerouslySetInnerHTML:{__html:B.E6.stripTags(e.text)}}),e.attachments&&!!e.attachments[0].photo.photo_original&&o.createElement(B.BH,{src:e.attachments[0].photo.photo_original}))),o.createElement("div",{className:"message__footer"},a.can_comment&&o.createElement(o.Fragment,null,o.createElement("a",{className:"message__reply",href:"".concat(r,"#").concat(e.id),rel:"nofollow",target:"__blank",onClick:function(t){var n;t.preventDefault(),n=e.id,p(n!==u?n:null)}},"Ответить"),o.createElement("i",{className:"message__date"},o.createElement(B.h,{date:e.date,format:"D MMMM, H:mm"})),u===e.id&&o.createElement(Wl,{formEntity:"reply",commentId:e.id})))))):null}))),Number(null==a||null===(t=a.items)||void 0===t?void 0:t.length)>5&&a.can_comment&&o.createElement(Wl,{formEntity:"main",discussionId:n,position:"bottom"}),!wr.isLogged()&&o.createElement(eo.Z,{extraClasses:"messenger-block__login-button",onClick:function(){return s("login")},label:"Комментировать"}))};Yl.propTypes={disputeCommentList:j().object,postUrl:j().string,onShowMore:j().func,postId:j().number,openAuthForm:j().func};const Kl=(0,i.$j)((function(e){return{disputeCommentList:e.disputeCommentList}}),(function(e){return{onShowMore:function(){e(function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u,p,d,m;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),o=r.disputeCommentList,a=o.page,i=o.recordsOnPage,s=o.siteId,c=o.postId,l=a+1,e.next=6,B.PU.getCommentsByPostId({resourceId:1,sectionId:s,discussionId:c,offset:l*i,count:i,sort:"ASC"});case 6:u=e.sent,l>0&&(p="page="+l,d=window.location.href,m=/page=\d+/i,d=-1!==(d=d.replace(m,"").replace("?&","?").replace(/(&|\?)+$/,"")).indexOf("?")?d+"&"+p:d+"?"+p,window.history.pushState(null,"",d)),t({type:"DISPUTE_COMMENT_LIST_SHOW_MORE",items:[].concat(F()(r.disputeCommentList.items||[]),F()(u.items||[])),hasMoreItems:u.items.length>=i,page:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),B.qL.promiseHandler("/index.js")(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}())},openAuthForm:function(t){return e(B.we.openAuthForm(t))}}}))((0,o.memo)(Yl));var zl=B.vc.restoreBlogPost,$l=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),(t=r.call(this,e)).state={userScrolled:!1},t}return g()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.blogPost,r=t.app,o=this.state.userScrolled;Cr.registerSingleView(n.id,r.req.query),document.addEventListener("scroll",d()((function(){o||e.setState({userScrolled:!0})}),80))}},{key:"render",value:function(){var e=this.props,t=e.blogPost,n=e.app,r=e.user,a=e.siteBuilder,i=e.onRestoreBlogPost,s=e.actionModifyPostPopup,c=e.browserName,l=n.showV2Comments,u=L()(n,"req.deviceType"),p=t.seo_url||t.url,d=n.isMobile,m=L()(t,"images[0].url");return m&&(m=B.E6.fixProtocol(B.E6.cropImage2(m,{browser:c}))),o.createElement("div",{className:M()({"blog-post-item":!0,"blog-post-item_tile":!0})},o.createElement("div",{id:"double-column-container"},"phone"!==u&&o.createElement(ol,{app:n,disableAd:!0}),o.createElement("div",{id:"content-column",className:"content-column"},o.createElement(o.Fragment,null,d&&o.createElement(fi,{rtbId:"R-A-91685-281"}),!d&&o.createElement(fi,{rtbId:"R-A-91685-275"})),o.createElement("article",{className:"blog-post",id:"post_".concat(t.id),key:t.id,itemScope:!0,itemType:"http://schema.org/NewsArticle"},o.createElement(el,{blogPost:t,app:n}),o.createElement(Kc,{blogPost:t,app:n,listTopics:Br.listTopics,isMainPost:!0}),o.createElement("div",{className:"blog-post__text",itemProp:"articleBody"},m&&o.createElement("img",{className:"POST_IMAGE",alt:t.title,width:"620",height:"364",loading:"lazy",src:m}),o.createElement("p",{className:"blog-post__text",dangerouslySetInnerHTML:{__html:B.E6.truncateString2(B.E6.stripTags(t.text),100,".","")}}),o.createElement("div",{className:"messenger-block__link-to-post"},o.createElement("a",{href:p,className:"btn btn-primary",rel:"nofollow",target:"_blank"},"Вернуться к статье"))),o.createElement(B.qr,{maxCount:10,object:t}),o.createElement("div",{className:"blog-post__footer"},o.createElement("div",{className:"blog-post-actions"},o.createElement(B.Hy,{blogPost:t,currentUser:r,className:"blog-post-item__actions",siteBuilder:a,postPage:!0,commentsClickHandler:function(e){var t=e.target.closest(".content-column").querySelector(".comment__reply__form__textarea");t&&(t.scrollIntoView({block:"center"}),t.focus())}}))),!!s.deletedList[t.id]&&o.createElement("div",{className:"blog-post__deleted"},"Пост удален...",o.createElement(eo.Z,{onClick:function(){i(t.id)},label:"Восстановить"})),l?o.createElement(Il,{blogPostId:t.id,smi2Id:t.smi2_id,siteId:t.group.id,showV2Comments:l,disableComments:t.close_comments,firstPageLimit:10}):o.createElement(Kl,{postUrl:B.E6.fixProtocol(t.seo_url||t.url).replace(/\?.+/,""),postId:t.id}),d&&o.createElement(fi,{rtbId:"R-A-91685-284",className:"blog-post__yartb"}),!d&&o.createElement(fi,{rtbId:"R-A-91685-279",className:"blog-post__yartb"})))),o.createElement(B._7,null),o.createElement(B.g3,null),o.createElement(B.xX,null),o.createElement(B.Wp,null))}}]),a}(o.Component);$l.propTypes={onShowMorePosts:j().func,blogPost:j().oneOfType([j().object,j().array]),app:j().object,user:j().object,siteBuilder:j().object,magic:j().object,actionModifyPostPopup:j().object,onRestoreBlogPost:j().func,isMember:j().bool,onJoinToSite:j().func,onSubscribeToSite:j().func,onOpenAuthForm:j().func,browserName:j().string,disableVideo:j().bool};const Jl=(0,i.$j)((function(e){return{isMember:e.app.site.is_member,blogPost:e.blogPost,app:e.app,user:e.auth.user,siteBuilder:e.app.siteBuilder,actionModifyPostPopup:e.actionModifyPostPopup,magic:e.magic,disableVideo:e.app.disableVideo,browserName:e.app.req.browser.name}}),(function(e){return{onRestoreBlogPost:function(t){e(zl(t))},onJoinToSite:function(t,n){e(na(t,n))},onSubscribeToSite:function(t,n){e(ra(t,n))},onOpenAuthForm:function(t){e(B.we.openAuthForm(t))},onShowMorePosts:function(){B.gy.ym("reachGoal","doscroll_site_A"),e(Ic())}}}))((0,B.Pf)($l,"blogPostDispute"));var Xl=n(23501),Ql=n.n(Xl);const eu=function(){return o.createElement("div",{className:"preloader__full-screen"},o.createElement("img",{src:"//static.mtml.ru/images/loader.svg",alt:"Загружается..."}))};var tu="/index.js";function nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nu(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ou=B.cQ.loadModule((function(){return n.e(353).then(n.bind(n,99613))}),"mt-polls"),au=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){t({type:"BLOG_POST_EDITOR_COMPLETE",inProcess:!1}),t({type:"BLOG_POST_EDITOR_SHOW_ERROR",text:e})}},iu=function(e,t,n){return function(r){if(t)return r({type:"BLOG_POST_EDITOR_SENT_TO_MODERATION"}),n();window.location.href="/blog/"+e}},su=function(e,t){return function(n){n({type:"BLOG_POST_EDITOR_CHANGE_VALUE",name:e,value:t})}};var cu=(0,B.oM)((function(){return console.log("load polls")||n.e(353).then(n.bind(n,99613))}),"mt-polls","MainForm"),lu=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.addPoll,n=e.deletePoll,r=(this.props.blogPostEditor||ge).activeTab;return o.createElement("div",{className:M()({"blog-post-editor__poll-settings":!0,"blog-post-editor__poll-settings_active":"poll"===r})},o.createElement("svg",{className:"svg-icon large mt-post-editor__text-settings__close",onClick:function(){n()}},o.createElement("use",{href:"/images/icons.svg#times-circle"})),o.createElement(cu,{onAddPoll:function(e){t(e)}}))}}]),a}(o.PureComponent);lu.propTypes={blogPostEditor:j().object,addPoll:j().func,deletePoll:j().func};const uu=(0,i.$j)((function(e){return{blogPostEditor:e.blogPostEditor}}),(function(e){return{addPoll:function(t){e(function(e){return function(t){t({type:"BLOG_POST_EDITOR_ADD_POLL",pollId:e})}}(t))},deletePoll:function(){e((function(e){e({type:"BLOG_POST_EDITOR_DELETE_POLL"})}))}}}))(lu);var pu=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"changeSliderText",(function(t,n){var r=e.props.changeSliderText;e.timeout&&clearTimeout(e.timeout),r(t,n)})),k()(y()(e),"promoFields",[{name:"nextBtnUrl",label:"Вставьте ссылку на один из свежих популярных материалов проекта для последнего слайда"},{name:"pushBtnUrl",label:"Вставьте ссылку на один из свежих популярных материалов проекта для пуша"},{name:"pushBtnText",label:"Вставьте текст для пуша"}]),e}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.addSliders,n=e.blogPostEditor;0===(void 0===n?ge:n).sliders.length&&t()}},{key:"render",value:function(){var e=this,t=this.props,n=t.blogPostEditor,r=void 0===n?ge:n,a=t.addSliders,i=t.deleteSlider,s=t.addSliderImage,c=t.removeSliderImage,l=t.onChangeInputText,u=r.activeTab,p=r.sliders;return o.createElement("div",{className:M()({"blog-post-editor__slider-settings":!0,"blog-post-editor__slider-settings_active":"slider"===u})},o.createElement("div",{className:"blog-post-editor__slider-promo"},this.promoFields.map((function(e,t){var n=e.name,a=e.label;return o.createElement(B.dU,{key:t,value:r[n],input:{type:"text",name:n,label:a},onChangeHandle:function(e){l(e.target.name,e.target.value)}})}))),p.map((function(t,n){return o.createElement("div",{key:n,className:M()({"blog-post-editor__slider":!0,"blog-post-editor__slider_active":"ok"===t.status,"blog-post-editor__slider_error":"error"===t.status})},!t.imageUrl&&o.createElement(B.sU,{className:M()({"blog-post-editor__slider-uploader":!0}),name:"blog_post_editor_slider_image_"+n,id:"blog-post-editor-slider-image-"+n,onChange:function(e,t){s(n,e,t)},accept:"image/*"},"+ ФОТО"),t.imageUrl&&o.createElement("div",{className:"blog-post-editor__slider-img"},o.createElement("svg",{onClick:function(){c(n)},style:{width:20,height:20},className:"svg-icon blog-post-editor__slider-img-remove"},o.createElement("use",{href:"/images/icons.svg#times-circle"})),o.createElement("img",{src:t.imageUrl})),o.createElement("div",{className:"blog-post-editor__slider-text"},o.createElement(B.dU,{value:t.text,input:{type:"textarea",initVal:t.text,name:"blog_post_editor_slider_text_".key},onChangeHandle:function(t){e.changeSliderText(n,t.target.value)},error:t.error})),o.createElement("div",{className:"blog-post-editor__slider-actions"},o.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){i(n)}},"Удалить")))})),o.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){a()}},"Добавить 10 слайдов"))}}]),a}(o.PureComponent);pu.propTypes={blogPostEditor:j().object,addSliders:j().func,deleteSlider:j().func,changeSliderText:j().func,saveSliderText:j().func,addSliderImage:j().func,removeSliderImage:j().func,onChangeInputText:j().func};const du=(0,i.$j)((function(e){return{blogPostEditor:e.blogPostEditor}}),(function(e){return{addSliders:function(t){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return function(t,n){var r=n().blogPostEditor.sliders;if(!(r.length>100)){r.length+e>100&&(e=100-r.length);for(var o=0;o<e-1;o++)r.push(ru({},_e));t({type:"BLOG_POST_EDITOR_UPDATE_SLIDERS",sliders:r})}}}(t))},deleteSlider:function(t){var n;e((n=t,function(e,t){var r=t().blogPostEditor.sliders;r.splice(n,1),e({type:"BLOG_POST_EDITOR_UPDATE_SLIDERS",sliders:r}),e((function(e,t){var n=t().blogPostEditor.sliders,r=0;n.map((function(e){e.imageUrl&&r++})),e({type:"BLOG_POST_EDITOR_UPDATE_SLIDERS_LENGTH",slidersLength:r})}))}))},changeSliderText:function(t,n){e(function(e,t){return function(){var n=R()(D().mark((function n(r,o){var a,i,s;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=o(),i=a.blogPostEditor.sliders,(s=i[e]).status="changed",s.text=t,s.error=null,i[e]=s,r({type:"BLOG_POST_EDITOR_UPDATE_SLIDERS",sliders:i}),r((function(e,t){var n=t().blogPostEditor.sliders,r=0;n.map((function(e){e.imageUrl&&r++})),e({type:"BLOG_POST_EDITOR_UPDATE_SLIDERS_LENGTH",slidersLength:r})}));case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},saveSliderText:function(t){var n;e((n=t,function(){var e=R()(D().mark((function e(t,r){var o,a,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r(),a=o.blogPostEditor.sliders,i=a[n],e.next=5,B.Ee.setImageTitle(i.imageId,i.text||"*");case 5:e.sent&&(i.status="ok"),a[n]=i,t({type:"BLOG_POST_EDITOR_UPDATE_SLIDERS",sliders:a}),t((function(e,t){var n=t().blogPostEditor.sliders,r=0;n.map((function(e){e.imageUrl&&r++})),e({type:"BLOG_POST_EDITOR_UPDATE_SLIDERS_LENGTH",slidersLength:r})}));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))},addSliderImage:function(t,n,r){e(function(e,t){return function(){var n=R()(D().mark((function n(r,o){var a,i,s,c;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=o(),i=a.blogPostEditor.sliders,s=window.URL.createObjectURL(t[0]),n.next=5,B.Ee.uploadImageToStorage(s);case 5:(c=n.sent)&&(i[e].imageId=c.id,i[e].imageUrl=c.photo_original,r({type:"BLOG_POST_EDITOR_UPDATE_SLIDERS",sliders:i})),r((function(e,t){var n=t().blogPostEditor.sliders,r=0;n.map((function(e){e.imageUrl&&r++})),e({type:"BLOG_POST_EDITOR_UPDATE_SLIDERS_LENGTH",slidersLength:r})}));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,r))},removeSliderImage:function(t){var n;e((n=t,function(e,t){var r=t().blogPostEditor.sliders;r[n].imageUrl=null,r[n].imageId=null,e({type:"BLOG_POST_EDITOR_UPDATE_SLIDERS",sliders:r}),e((function(e,t){var n=t().blogPostEditor.sliders,r=0;n.map((function(e){e.imageUrl&&r++})),e({type:"BLOG_POST_EDITOR_UPDATE_SLIDERS_LENGTH",slidersLength:r})}))}))},onChangeInputText:function(t,n){e(su(t,n))}}}))(pu);var mu=(0,B.oM)((function(){return Promise.all([n.e(186).then(n.t.bind(n,9198,23)),n.e(202).then(n.bind(n,44308))]).then((function(e){return ir()(e,1)[0]}))}),"reactDatepicker"),fu=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;h()(this,a),t=r.call(this,e),k()(y()(t),"handleChangeDate",(function(e){var n=c()(e),r=t.props.onChange;t.setState({startDate:n}),r("publishTime",'"'.concat(n.tz(c().tz.guess()).format("DD.MM.YYYY HH:mm:00"),'"'))})),k()(y()(t),"handleBlurDateInput",(function(e){var n=e.target.value,r=c()(n,"DD.MM.YYYY HH:mm:00");r.isValid()&&c()().isBefore(r)&&t.handleChangeDate(r)})),k()(y()(t),"handleChangeTag",(function(e,n){var r=t.props,o=r.onAddTag,a=r.onDeleteTag,i=r.blogPostEditor;e.checked?o(n):i.tags.map((function(e,t){e===n&&a(t)}))})),k()(y()(t),"handleSubmit",(function(e,n){var r,o,a=t.props,i=a.onChangeDraftValue,s=a.blogPostEditor,c=a.onErrorProcessing,l=a.onSave;n.preventDefault(),s.slidersLength>0&&!s.text&&(s.text=s.title);var u=null===(r=s.title)||void 0===r?void 0:r.trim(),p=null===(o=s.text)||void 0===o?void 0:o.trim();i(e),p&&u?l():(c("emptyTitle",!u),c("emptyText",!p))})),k()(y()(t),"handlePublishDateChange",(function(e){var n=t.props.onChange,r=B.JG.publishDates,o=e.target.value;t.setState({inputDate:o}),"custom"===e.target.value?n("publishTime",'"'.concat(t.state.startDate.format("DD.MM.YYYY HH:mm:00"),'"')):n("publishTime",r[o].date)})),k()(y()(t),"initDateСonversion",(function(){var e=t.props,n=e.onChange,r=e.blogPostEditor.publishTime;if(r){var o=c()(r).tz(t.tz);n("publishTime",'"'.concat(o.format("DD.MM.YYYY HH:mm:00"),'"'))}}));var n=t.props.blogPostEditor;return t.draftPage=n.draft,t.editPage=!!n.id,t.tz=c().tz.guess(),t.state={startDate:n.publishTime?c()(n.publishTime).tz(t.tz):c()().tz(t.tz),inputDate:n.publishTime?"custom":"now"},t}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props.onPreloaderToggle;this.initDateСonversion(),e(!1)}},{key:"setTab",value:function(e){this.props.setTab(e)}},{key:"checkError",value:function(e){return-1!==this.props.blogPostEditor.errors.indexOf(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.app,r=t.blogPostEditor,a=n.site.tags||[],i=!n.site.canAddPostWithoutApprove,s=r.canSlider,l=this.props,u=l.onChange,p=l.onAddTag,d=l.onDeleteTag,m=l.onErrorProcessing,f=l.onToggleDisableComments,h=l.onGetSuggestionsTags,_=B.JG.publishDates,g=[];return r.tags.map((function(e){g.push({id:+new Date,name:e})})),o.createElement("div",{className:"blog-post-editor"},r.preloaderVisible&&o.createElement(eu,null),!r.sentToModeration&&o.createElement(o.Fragment,null,o.createElement("h3",{className:"blog-post-editor__title"},this.editPage&&"Редактировать тему",!this.editPage&&"Добавить тему"),o.createElement("form",null,o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"blog-post-editor__title"},"Заголовок",o.createElement("span",{className:"blog-post-editor__required"},"*")),o.createElement("input",{type:"text",name:"title",id:"blog-post-editor__title",placeholder:"Заголовок...",className:M()("form-control",{"is-invalid":this.checkError("emptyTitle")}),value:r.title,onChange:function(e){""!==e.target.value.trim()&&m("emptyTitle",!1),u(e.target.name,e.target.value)}}),o.createElement("div",{className:"invalid-feedback"},B.JG.errorsMap.emptyTitle)),o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"blog-post-editor__text"},"Текст",o.createElement("span",{className:"blog-post-editor__required"},"*")),o.createElement(B.ML,{initialValue:r.text,isDeveloper:wr.isDeveloper(),init:{min_height:350,max_height:700,toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent blockquote | paste | removeformat | image code | typograf eyofixator",default_link_target:"_blank"},plugins:"typograf",onChange:function(e){""!==e.target.getContent().trim()&&m("emptyText",!1),u("text",e.target.getContent())}}),this.checkError("emptyText")&&o.createElement("div",{className:"blog-post-editor__invalid-feedback"},B.JG.errorsMap.emptyText)),o.createElement("div",{className:"form-group blog-post-editor__poll"},o.createElement("div",{className:"blog-post-editor__content-type"},!r.id&&o.createElement("button",{type:"button",className:"content-type content-type_poll svg-poll",onClick:function(){e.setTab("poll")}},"Опрос"),s&&o.createElement("button",{type:"button",className:"content-type content-type_slider svg-slider",onClick:function(){e.setTab("slider")}},"Слайдер (",r.slidersLength,")")),!r.id&&o.createElement(uu,null),s&&o.createElement(du,null)),o.createElement("div",{className:"form-group blog-post-editor__keywords"},o.createElement("legend",null,"Ключевые слова"),o.createElement("div",{className:"blog-post-editor__keyword-list"},a.map((function(t,n){return o.createElement("label",{className:"form-check-label",key:n},o.createElement("input",{className:"form-check-input",checked:-1!==r.tags.indexOf(t),type:"checkbox",onChange:function(n){e.handleChangeTag(n.target,t)}}),t)}))),o.createElement("p",{className:"form-text text-muted"},"Вы можете указать свои собственные теги. Используйте Tab или Enter чтобы завершить ввод."),o.createElement(Ql(),{tags:g,allowNew:!0,suggestions:r.tagSuggestions,onDelete:function(t){d.bind(e)(t)},onAddition:function(t){p.bind(e)(t.name)},onInput:function(e){h(e)},autofocus:!1,allowBackspace:!1,placeholderText:"Введите 2 или более начальных символа...",delimiters:["Enter","Tab",","],delimiterChars:[","]}),o.createElement("div",{className:"invalid-feedback"},"error")),o.createElement("div",{className:"form-group blog-post-editor__publish-date"},o.createElement("legend",null,"Опубликовать:"),o.createElement("div",{className:"blog-post-editor__publish-date__wrap"},o.createElement("select",{className:"form-control",type:"select",name:"select",value:this.state.inputDate,onChange:this.handlePublishDateChange},Object.keys(_).map((function(e,t){return o.createElement("option",{value:e,key:t},_[e].ru)}))),"custom"===this.state.inputDate&&o.createElement(mu,{selected:this.state.startDate.toDate(),minDate:c()().tz(this.tz).toDate(),onChange:this.handleChangeDate,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"dd.MM.yyyy HH:mm",timeCaption:"Время",onBlur:this.handleBlurDateInput}))),o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"blog-post-editor__source-link"},"Ссылка на источник"),o.createElement("input",{type:"text",name:"referenceUrl",className:"form-control",id:"blog-post-editor__source-link",placeholder:"Ссылка на источник...",value:r.referenceUrl,onChange:function(e){u(e.target.name,e.target.value)}}),o.createElement("div",{className:"invalid-feedback"},"error")),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-check-label"},o.createElement("input",{className:"form-check-input",type:"checkbox",name:"disableComments",onChange:f,checked:r.disableComments})," ","Запретить комментарии")),o.createElement("div",{className:M()("form-group",{"blog-post-editor__save":!0,"blog-post-editor__save_loading":r.inProcess})},r.errorMessage.isVisible&&o.createElement("div",{className:"blog-post-save-error"},r.errorMessage.text),o.createElement("div",{className:M()({"blog-post-save-load":!0,"blog-post-save-load_active":r.inProcess})},o.createElement("span",null,o.createElement("img",{src:"//static.mtml.ru/images/loader.svg",alt:"Загружается..."})),o.createElement("p",null,"Идет сохранение. ",o.createElement("br",null)," Пожалуйста, не перезагружайте страницу")),o.createElement("div",{className:"blog-post-editor__save-controls"},o.createElement(eo.Z,{className:"blog-post-editor__submit",onClick:function(t){e.handleSubmit(!1,t)},label:i?"На модерацию":"Опубликовать",disabled:r.inProcess}),!i&&o.createElement(eo.Z,{onClick:function(t){e.handleSubmit(!0,t)},label:this.draftPage?"Сохранить":"В черновики",disabled:r.inProcess}))))),r.sentToModeration&&o.createElement("div",{className:"blog-post-editor__moderation-message"},o.createElement("p",null,"Согласно правилам группы, ваш пост направлен на модерацию и появится на сайте в ближайшее время."),o.createElement("a",{href:"/",className:"btn btn-primary"},"OK")))}}]),a}(o.Component);fu.propTypes={app:j().object,blogPostEditor:j().object,setTab:j().func,onSave:j().func,onChange:j().func,onAddTag:j().func,onDeleteTag:j().func,onErrorProcessing:j().func,onToggleDisableComments:j().func,onChangeDraftValue:j().func,onGetSuggestionsTags:j().func,onPreloaderToggle:j().func};const hu=(0,i.$j)((function(e){return{app:e.app,blogPostEditor:e.blogPostEditor}}),(function(e){return{setTab:function(t){e(function(e){return function(t){t({type:"BLOG_POST_EDITOR_SET_TAB",tab:e})}}(t))},onSave:function(){e(function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,l,u,p,d,m,f,h,_,g,v,y,b,E,P,O,w,S,T,k,I,M,C,j,N,A,x;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new B.JG,i=n(),s=i.app.site.id,l=!(null!==(r=i.app)&&void 0!==r&&null!==(o=r.site)&&void 0!==o&&o.canAddPostWithoutApprove),u=i.blogPostEditor,p=i.blogPostEditor.sliders,d=void 0===p?[]:p,m=c().tz.guess(),(f=u.publishTime)&&(f=f.replace(/"/g,""),u.publishTime=c().tz(f,"DD.MM.YYYY HH:mm:00",m).format("DD.MM.YYYY HH:mm:00 ZZ")),h=null,u.id||!L()(i,"mtPoll.pollFormData.title")||!L()(i,"mtPoll.pollFormData.valid")){e.next=23;break}return e.next=13,Promise.all([B.gx.fetchAuthToken(),ou()]);case 13:return _=e.sent,g=ir()(_,2),v=g[0],y=g[1].createPoll,e.next=19,t(y(i.mtPoll.pollFormData,v));case 19:if(i=n(),h=i.mtPoll.poll.id){e.next=23;break}return e.abrupt("return");case 23:if(u.errorMessage.isVisible&&t({type:"BLOG_POST_EDITOR_HIDE_ERROR"}),t({type:"BLOG_POST_EDITOR_IN_PROCESS",inProcess:!0}),b=[],!(d.length>0)){e.next=37;break}return E=!1,P=d.map(function(){var e=R()(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ok"!==t.status){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,B.Ee.setImageTitle(t.imageId,t.text||"*");case 4:return e.sent?t.status="ok":(E=!0,t.status="error",t.error="Текст слайдера не был сохранен"),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=31,Promise.all(P);case 31:if(d=e.sent,!E){e.next=36;break}return t({type:"BLOG_POST_EDITOR_SHOW_ERROR"}),t({type:"BLOG_POST_EDITOR_UPDATE_SLIDERS",sliders:d}),e.abrupt("return",t({type:"BLOG_POST_EDITOR_COMPLETE",inProcess:!1}));case 36:d.map((function(e){e.imageId&&"ok"===e.status&&b.push(e.imageId)}));case 37:if(O={ed_arb_popup_url:u.pushBtnUrl,ed_arb_popup_text:u.pushBtnText,ed_arb_next_btn_url:u.nextBtnUrl,ed_pulse:u.pulse},u.text="string"==typeof u.text?u.text.substring(0,9e4):u.text,w={title:u.title,text:u.text,tags:u.tags,disableComments:u.disableComments,referenceUrl:u.referenceUrl,publishTime:u.publishTime,draft:u.draft,photoIds:b,extraData:O},e.prev=40,!u.id){e.next=48;break}return e.next=44,a.edit(u.id,w);case 44:(T=e.sent)&&!T.errors&&null!=T&&null!==(S=T.data)&&void 0!==S&&S.editBlogPost?t(iu(u.id,l)):t(au()),e.next=53;break;case 48:return e.next=50,a.add(s,ru(ru({},w),{},{pollId:h}));case 50:M=e.sent,C=null==M||null===(k=M.data)||void 0===k||null===(I=k.addBlogPost)||void 0===I?void 0:I.id,M&&!M.errors&&C?t(iu(C,l,(function(){"undefined"!=typeof window&&window.scrollTo(0,0)}))):(A=null==M||null===(j=M.data)||void 0===j||null===(N=j.addBlogPost)||void 0===N?void 0:N.errors,x=Array.isArray(A)&&"undefined"!==A[0].text?A[0].text:null,t(au(x)));case 53:e.next=59;break;case 55:e.prev=55,e.t0=e.catch(40),t(au()),B.qL.promiseHandler(tu)(e.t0);case 59:case"end":return e.stop()}}),e,null,[[40,55]])})));return function(t,n){return e.apply(this,arguments)}}())},onChange:function(t,n){e(su(t,n))},onAddTag:function(t){var n;e((n=t,function(e,t){var r=t().blogPostEditor.tags;e({type:"BLOG_POST_EDITOR_CHANGE_TAGS",tags:[].concat(r,n)})}))},onDeleteTag:function(t){var n;e((n=t,function(e,t){var r=t().blogPostEditor.tags;e({type:"BLOG_POST_EDITOR_CHANGE_TAGS",tags:r=r.filter((function(e,t){return t!==n}))})}))},onErrorProcessing:function(t,n){e(function(e,t){return function(n){n({type:"BLOG_POST_EDITOR_ERROR_PROCESSING",name:e,adding:t})}}(t,n))},onToggleDisableComments:function(){e((function(e){e({type:"BLOG_POST_EDITOR_DISABLE_COMMENTS"})}))},onChangeDraftValue:function(t){e(function(e){return function(t){t({type:"BLOG_POST_EDITOR_CHANGE_DRAFT_VALUE",value:e})}}(t))},onGetSuggestionsTags:function(t){e(function(e){return function(t){(new B.JG).searchTags(e).then((function(n){"undefined"!==n&&t({type:"BLOG_POST_EDITOR_CHANGE_SUGGESTIONS_DATA",tags:n,text:e})})).catch(B.qL.promiseHandler(tu))}}(t))},onPreloaderToggle:function(t){e(function(e){return function(t){t({type:"BLOG_POST_EDITOR_PRELOADER_TOGGLE",state:e})}}(t))}}}))((0,B.Pf)(fu,"blogPostEditor"));var _u=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;return h()(this,a),(e=r.call(this)).state={isLoaded:!1},e}return g()(a,[{key:"componentDidMount",value:function(){this.setState({isLoaded:!0})}},{key:"render",value:function(){var e=this.props,t=e.hasMoreItems,n=e.page,r=null;n+1>=2&&(r="page="+(n+1));var a=null;n-1>=2&&(a="page="+(n-1));var i=e.url,s=i=(i=(i=i.replace(/(?:[^a-z]+)page=\d+/i,"")).replace(/&+$/,"")).replace(/\?+$/,""),c=i;return r&&(-1!==s.indexOf("?")?s+="&"+r:s+="?"+r),a&&(-1!==c.indexOf("?")?c+="&"+a:c+="?"+a),o.createElement("nav",{className:M()({pagination:!0,hidden:this.state.isLoaded})},o.createElement("ul",{className:"blog-post-list__pagination"},n>1&&o.createElement("li",null,o.createElement("a",{href:c},"Назад ")),o.createElement("li",null,"Страница: ",n," "),t&&o.createElement("li",null,o.createElement("a",{href:s},"Вперед"))))}}]),a}(o.PureComponent);k()(_u,"defaultProps",{hasMoreItems:!0,page:1,url:""}),_u.propTypes={hasMoreItems:j().bool,page:j().number,url:j().string};const gu=_u;var vu=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.images,n=e.title,r=e.url,a=e.imgCounter,i=e.target,s=void 0===i?"_self":i,c=e.disableRetina,l=t.filter((function(e){return e.url}));if((l.length<=4?l.length:4)<1)return null;var u=l.shift(),p=u.width>=u.height,d=L()(u,"url",null),m=r?"a":"span";return o.createElement("div",{className:"image-gallery image-gallery_"+(p?"h":"v")},d&&o.createElement(m,{href:r,className:"image-gallery__link",title:n,target:s},o.createElement(B.BH,{className:"image-gallery__image",src:d,alt:n,disableRetina:c}),a&&t.length>1&&o.createElement("span",{className:"image-gallery__image__counter"},"".concat(t.length," фото"))))}}]),a}(o.PureComponent);k()(vu,"defaultProps",{images:[],title:"",url:"",imgCounter:!1}),vu.propTypes={images:j().array,url:j().string,target:j().string,title:j().string,imgCounter:j().bool,disableRetina:j().bool};const yu=vu;n(2707);var bu="/index.js",Eu=function(e,t){return function(n,r){var o=r(),a=o.app.site.id,i=o.blogPostList,s=i.tag,c=i.status,l=i.period,u=i.sort,p=i.before,d=i.after,m=i.page,f={siteId:a,offset:e,count:t,tag:s,status:c,period:l,sort:u,fieldList:"list"};return"no_val2"===l&&(f.before=p,f.after=d),Promise.all([B.JG.getBlogPostList(f)]).then((function(e){var t=e[0];return n({type:"BLOG_POST_LIST_GET_PAGE",blogPostList:[].concat(F()(o.blogPostList.blogPostList),F()(t)),hasMoreItems:t.length>=vn().postsPerPage,page:m+1})})).catch(B.qL.promiseHandler(bu)),n({type:"BLOG_POST_LIST_DEFAULT"})}},Pu=function(){return function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(),i=a.blogPostList,s=i.searchValue,c=i.search.page,l=null===(r=a.app)||void 0===r||null===(o=r.site)||void 0===o?void 0:o.id,s){e.next=5;break}return e.abrupt("return");case 5:return t({type:"BLOG_POST_LIST_TOOGLE_SEARCH_LOADING",isLoading:!0}),e.prev=6,e.next=9,B.lv.search(s,"BLOG_POSTS_BY_BLOG",{offset:c*vn().recordsPerPage,count:vn().recordsPerPage,ownerId:l});case 9:return u=e.sent,t({type:"BLOG_POST_LIST_GET_SEARCH_RESULTS",page:c+1,results:u,hasMore:u.length>=vn().recordsPerPage}),e.abrupt("return",t({type:"BLOG_POST_LIST_TOOGLE_SEARCH_LOADING",isLoading:!1}));case 14:e.prev=14,e.t0=e.catch(6),t({type:"BLOG_POST_LIST_TOOGLE_SEARCH_LOADING",isLoading:!1}),B.qL.promiseHandler(bu)(e.t0);case 18:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t,n){return e.apply(this,arguments)}}()};var Ou=(0,B.oM)((function(){return Promise.all([n.e(186).then(n.t.bind(n,9198,23)),n.e(202).then(n.bind(n,44308))]).then((function(e){return ir()(e,1)[0]}))}),"reactDatepicker"),wu=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleChangeDate",(function(t,n){var r=c()(t),o=e.props,a=o.blogPostList,i=o.onChangePeriod;a[n]=r.tz(c().tz.guess()).format("YYYY-MM-DD");var s=a.before,l=a.after;e.changePeriodGetParam("".concat(l,"__").concat(s)),i(l,s)})),k()(y()(e),"handleClick",(function(t){var n=e.props.blogPostList.period;if("".concat(n)===t)return null;var r=B.JG.listOfPeriods[t].short;if("period"===r){var o=e.props.blogPostList,a=o.before,i=o.after;r="".concat(i,"__").concat(a)}e.changePeriodGetParam(r),e.props.handleChangePeriod(t)})),k()(y()(e),"getClass",(function(t){var n=e.props.blogPostList.period;return"".concat(n)===t?"btn btn-primary":"btn btn-secondary"})),e}return g()(a,[{key:"changePeriodGetParam",value:function(e){e="period="+e;var t=window.location.href;t=(t=t.replace(/\?.*/,""))+"?"+e,window.history.pushState(null,"",t)}},{key:"render",value:function(){var e=this,t=this.props.blogPostList,n=t.before,r=t.after,a=t.period;return o.createElement("div",{className:"period__button-group btn-group",role:"group"},Object.keys(B.JG.listOfPeriods).map((function(t){return o.createElement("button",{key:t,className:e.getClass(t),onClick:function(){return e.handleClick(t)}},B.JG.listOfPeriods[t].title)})),"no_val2"===a?o.createElement("div",{className:"stat__pickers"},o.createElement("span",{className:"stat__pickers__picker"},"От: ",o.createElement(Ou,{timeFormat:"HH:mm",timeIntervals:60,dateFormat:"dd.MM.yyyy",timeCaption:"Время",onChange:function(t){return e.handleChangeDate(t,"after")},selected:c()(r).toDate()})),o.createElement("span",{className:"stat__pickers__picker"},"До: ",o.createElement(Ou,{timeFormat:"HH:mm",timeIntervals:60,dateFormat:"dd.MM.yyyy",timeCaption:"Время",onChange:function(t){return e.handleChangeDate(t,"before")},selected:c()(n).toDate()}))):null)}}]),a}(o.PureComponent);wu.propTypes={blogPostList:j().object,onChangePeriod:j().func,handleChangePeriod:j().any};const Su=(0,i.$j)((function(e){return{blogPostList:e.blogPostList}}),(function(e){return{handleChangePeriod:function(t){e(function(e){return function(t){t({type:"BLOG_POST_LIST_CHANGE_PERIOD",period:e}),t(Eu(0,vn().postsPerPage))}}(t))},onChangePeriod:function(t,n){e(function(e,t){return function(n){n({type:"BLOG_POST_LIST_SET_PERIOD",after:e,before:t}),e<t&&n(Eu(0,vn().postsPerPage))}}(t,n))}}}))(wu);var Tu=function(e){var t=e.onJoinToSite,n=e.actionSubscribe,r=e.siteId,a=e.onClickHandler,i=e.wrapperClasses,s=e.onInitState,c=e.object,l=(n[r]||In).isMember;return(0,o.useEffect)((function(){n[r]||s(r,c)}),[]),o.createElement("div",{className:i},o.createElement("div",{onClick:function(){t(r,!0,a)},className:"btn btn-primary",title:l?"Вы подписаны":"Подписаться"},l?"Вы подписаны":"Подписаться"))};Tu.propTypes={onJoinToSite:j().func,onClickHandler:j().func,actionSubscribe:j().object,siteId:j().number,wrapperClasses:j().string,onInitState:j().func,object:j().object};const ku=(0,i.$j)((function(e){return{actionSubscribe:e.actionSubscribe}}),(function(e){return{onJoinToSite:function(t,n,r){e(na(t,n,r))},onInitState:function(t,n){e(ta(t,n))}}}))((0,o.memo)(Tu));var Iu=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"getEditorStatusHtml",(function(e){if(e&&"EDITOR_STATUS_NONE"!==e){var t="EDITOR_STATUS_AUTHOR"===e?"Авторский материал":"Отборный материал";return o.createElement("div",{className:M()({"blog-post__status":!0,"blog-post__status_author":"EDITOR_STATUS_AUTHOR"===e,"blog-post__status_selected":"EDITOR_STATUS_SELECTED"===e})},o.createElement("div",{className:"blog-post__status-tooltip"},o.createElement("div",null,t),o.createElement("div",null,"Наши редакторы постоянно отбирают для вас лучшие материалы")))}return null})),k()(y()(t),"getPublicationDate",(function(e,t){if(!t)return"";var n=e.formattedDates.iso,r=e.is_draft,a=e.is_queued,i=e.publish_time;return r?"Черновик":a?o.createElement(o.Fragment,null,o.createElement("span",null,"Дата публикации:"),o.createElement(B.h,{date:i,format:"D MMMM, H:mm"})):o.createElement(B.h,{date:n,format:t})})),k()(y()(t),"getRecommendedSection",(function(){var e=t.props,n=e.post,r=e.nonFriendPostIds,a=n.id,i=n.post_type,s=n.group,c=void 0===s?{}:s,l=c.is_member,u=c.is_subscribed,p="";return"post"!==i||l||u||(p="МирТесен рекомендует"),r&&r.indexOf(a)>-1&&(p="Ваш друг отреагировал на этот пост"),p?o.createElement("div",{className:"post-list-item__recommended"},p):null})),k()(y()(t),"checkDateFormat",(function(){var e,n,r,o=null===(e=t.props)||void 0===e||null===(n=e.post)||void 0===n||null===(r=n.formattedDates)||void 0===r?void 0:r.iso,a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=o&&B.E6.isPastYear(o)?"DD.MM.YYYY в H:mm":"D MMMM, H:mm";a<t.breakPoint.md&&a>=t.breakPoint.sm&&(i="D MMM H:mm"),a<t.breakPoint.sm&&(i="D MMM"),o&&B.E6.isToday(o)&&(i="H:mm"),t.state.dateFormat!==i&&t.setState({dateFormat:i})})),t.breakPoint={md:600,sm:375},t.state={dateFormat:"",checkRepostFormat:"full"},t}return g()(a,[{key:"componentDidMount",value:function(){this.checkDateFormat(),window.addEventListener("resize",d()(this.checkDateFormat,70))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",d()(this.checkDateFormat,70))}},{key:"render",value:function(){var e=this.state.dateFormat,t=this.props,n=t.app,r=t.post,a=t.topicList,i=t.index,s=t.isCurrentPost,c=void 0!==s&&s,l=t.isSmi2Post,u=r.editorStatus,p=r.group,d=void 0===p?{}:p,m=r.from,f=void 0===m?{}:m,h=r.topic,_=r.post_type,g=r.shared_post,v=void 0===g?null:g,y=r.owner_id,b=r.owner_display_name,E=void 0===b?"":b,P=r.is_queued,O=r.url,w=r.id,S=d.canViewBlogPostCreator,T=void 0===S||S,k=d.is_member,I=d.is_subscribed,C=d.id,j="indexMainAuthorized"===n.page,N="user_post"===_||T&&!j?"person":"blog",R="person"===N?f:d;if(!(R=R||{}).id&&!l)return null;var A,D=R,x=D.display_name,L=D.name,U=D.isAuthenticAccount,F=void 0!==U&&U,H=D.url,q=void 0===H?"":H,Z=x||L,G=yo.isSiteMatch("verifiedBlogs"),V=yo.isSiteMatch("arbitrationDomains"),W=yo.addUtmToUrl(r.seo_url),Y=yo.addUtmToUrl(q),K=!k&&!I&&wr.isLogged()&&"post"===_&&j,z="profile"===n.scope?{color:B.Il.getHslColorByName(Z)}:{},$=l?null:o.createElement(o.Fragment,null,o.createElement(B.aN,{post:r,postIndex:i})),J={className:"post-list-item__author-name",href:Y,target:T?"_blank":"_self",style:z},X="a";"person"===N&&(X=B.kc,J.userId=null===(A=R)||void 0===A?void 0:A.id);var Q=o.createElement(o.Fragment,null,o.createElement("div",{className:"post-list-item__hedaer-top"},!l&&j&&this.getRecommendedSection(r),!l&&K&&o.createElement(ku,{siteId:C,object:r.group,wrapperClasses:"post-list-item__subscribe"})),o.createElement("div",{className:"post-list-item__header-bottom"},!V&&o.createElement(Lc,{app:n,blogPost:r}),o.createElement("div",{className:"post-list-item__info"},!V&&o.createElement(X,{userId:"a"!==X?R.id:null,className:"post-list-item__author-name",href:Y,target:T?"_blank":"_self",style:z},o.createElement("span",{itemProp:c?"author":null},Z),(G||F)&&o.createElement(B.SF,{color:"dark"}),this.getEditorStatusHtml(u)),o.createElement("div",{className:"post-list-item__params"},v&&o.createElement("a",{href:v.url,target:"_blank",className:"post-list-item__repost-handler"},R.sex>1?"поделился":"поделилась",o.createElement("span",null," постом")),E&&y!==R.id&&!v&&o.createElement(B.kc,{userId:y,tagName:"span",className:"post-list-item__owner"},E),o.createElement("a",{className:M()({"post-list-item__pubdate":!0,"post-list-item__pubdate_queued":P}),href:W},this.getPublicationDate(r,e)),o.createElement(qc,{topic:h,listTopics:a}))),V&&o.createElement(Fc,{url:O,id:w}),wr.isLogged()&&$));return o.createElement("div",{className:"post-list-item__header"},Q)}}]),a}(o.PureComponent);Iu.propTypes={post:j().object,app:j().object,topicList:j().array,nonFriendPostIds:j().array,index:j().number,isCurrentPost:j().bool,isSmi2Post:j().bool};const Mu=Iu;var Cu=function(e){var t=e.item,n=t.formattedDates.iso,r=void 0===n?null:n;return o.createElement(rc,{className:"article-list-item"},o.createElement("div",{className:"article-list-item__header"},o.createElement("a",{href:t.group.url,className:"article-list-item__source",target:"_blank"},o.createElement(B.Hl,{logoInfo:{userName:t.group.display_name||t.group.name,logoImg:t.group.photo_original,logoClassName:"userlogo_l2",size:"av80"}}),o.createElement("div",{className:"article-list-item__source-info"},o.createElement("span",{className:"article-list-item__name"},t.group.display_name||t.group.name),r&&o.createElement("span",{className:"article-list-item__pubdate"},o.createElement(B.h,{date:r,format:"DD.MM.YYYY"}))))),o.createElement("a",{href:t.url,className:"article-list-item__text",target:"_blank"},t.title&&o.createElement("h4",{dangerouslySetInnerHTML:{__html:t.title}}),o.createElement("p",{dangerouslySetInnerHTML:{__html:t.preview_text}})))};Cu.propTypes={item:j().object};const ju=(0,o.memo)(Cu);var Nu=B.vc.restoreBlogPost,Ru=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"getPublicationDate",(function(e){var t=e.formattedDates.iso;return e.is_draft?"Черновик":e.is_queued?o.createElement(o.Fragment,null," Дата публикации:",o.createElement(B.h,{date:e.publish_time,format:"D MMMM, H:mm"})):t&&B.E6.isPastYear(t)?o.createElement(B.h,{date:t,format:"DD.MM.YYYY в H:mm"}):o.createElement(B.h,{date:t,format:"D MMMM, H:mm"})})),k()(y()(e),"getEditorStatusHtml",(function(e){if("EDITOR_STATUS_NONE"!==e){var t="EDITOR_STATUS_AUTHOR"===e?"Авторский материал":"Отборный материал";return o.createElement("div",{className:M()({"blog-post__status":!0,"blog-post__status_author":"EDITOR_STATUS_AUTHOR"===e,"blog-post__status_selected":"EDITOR_STATUS_SELECTED"===e})},o.createElement("div",{className:"blog-post__status-tooltip"},o.createElement("div",null,t),o.createElement("div",null,"Наши редакторы постоянно отбирают для вас лучшие материалы")))}return null})),e}return g()(a,[{key:"render",value:function(){var e,t,n=this.props,r=n.blogPostList,a=n.hasMoreItems,i=n.onShowMore,s=n.page,c=n.siteBuilder,l=void 0===c?{}:c,u=n.app,p=n.user,d=n.actionModifyPostPopup,m=n.onRestoreBlogPost,f=n.increaseScrolledPosts,h=n.searchValue,_=n.search,g=n.onChangeSearch,v=n.showMoreSearchResults,y=L()(u,"isArbitrationBlog"),b=0,E=null,P=parseInt((null==u||null===(e=u.req)||void 0===e||null===(t=e.query)||void 0===t?void 0:t.page)||"1",10),O=L()(u,"req.deviceType");return o.createElement("div",{className:"blog-post-list"},y&&o.createElement("div",{className:"adfox-outer blog-post-list__ad-block"},o.createElement(Qr,{adId:1200,subCounter:E}),o.createElement(Qr,{adId:1201,subCounter:E})),o.createElement(B.Mj,{handleSearch:g,defaultValue:h,searchUrl:B.V5.getCleanUrl("".concat(u.req.protocol,"://").concat(u.req.host).concat(u.req.originalUrl))}),h?o.createElement(B.v_,{pageStart:0,loadMore:v,hasMore:_.hasMore,loader:o.createElement(B.nt,null),threshold:500},o.createElement(lc,null,_.results.map((function(e,t){return o.createElement(ju,{key:t,item:e})})),0===_.results.length&&!_.isLoading&&o.createElement("p",{className:"mt-list__empty"},"Ничего не найдено"))):o.createElement(o.Fragment,null,u.listWithPepriod&&o.createElement(Su,null),o.createElement(B.v_,{pageStart:0,loadMore:function(){if(a)return i(vn().postsPerPage+(s-1)*vn().postsPerPage,vn().postsPerPage)},hasMore:a,loader:o.createElement(B.nt,null),threshold:400},r.blogPostList.length<1&&!a&&o.createElement("article",{className:"blog-post blog-post__no-posts",key:0},"Здесь пока ничего нет"),r.blogPostList.length>0&&r.blogPostList.map((function(e){if(d.approveList[e.id])return null;b++,E=(b+1)/3-1;var t=yo.addUtmToUrl(e.seo_url),n=b%vn().postsPerPage==0,r=P-1+Math.floor(b/vn().postsPerPage);return o.createElement(o.Fragment,{key:b},(b+1)%3==0&&!y&&o.createElement("div",{className:"adfox-outer blog-post-list__ad-block"},"phone"!==O?o.createElement(Di,{type:"Politpiar",id:99818}):o.createElement(Di,{type:"Politpiar",id:99813})),o.createElement(rc,{key:e.id,tag:"article",className:"blog-post"},u.site&&o.createElement(Mu,{app:u,post:e,topicList:Br.listTopics,index:b}),o.createElement("div",{className:"blog-post__content",onClick:function(){return window.location.href=e.url},onMouseEnter:function(e){return e.currentTarget.classList.add("active")},onMouseLeave:function(e){return e.currentTarget.classList.remove("active")}},o.createElement("h3",{className:"blog-post__title"},o.createElement("a",{href:t},e.title)),o.createElement("a",{className:"blog-post__description",href:t},o.createElement("span",{className:"blog-post__description__preview-text blog-post__description__preview-text_fade",dangerouslySetInnerHTML:{__html:B.E6.disinfection(e.preview_text)}}),e.preview_text&&o.createElement("span",{className:"read-more-btn"},"Читать далее")),o.createElement(yu,{images:e.images,title:e.title}),o.createElement(B.qr,{maxCount:10,object:e}),!!d.deletedList[e.id]&&o.createElement("div",{className:"blog-post__deleted"},"Пост удален...",o.createElement(eo.Z,{onClick:function(){m(e.id)},label:"Восстановить"}))),o.createElement(cl,{onAppear:f}),o.createElement("div",{className:"blog-post__footer"},o.createElement("div",{style:{width:"100%"}},!e.is_draft&&o.createElement(B.Hy,{blogPost:e,siteBuilder:l,currentUser:p,commentsClickHandler:function(t){var n=t.target.closest("#content-column").querySelector("#comment-reply".concat(e.id));n&&(n.scrollIntoView({block:"center"}),n.focus())}}))),o.createElement(Il,{showV2Comments:yo.isV2Comments(e.group.id,e.date),blogPostId:e.id,smi2Id:e.smi2_id,siteId:e.group.id,showListTitle:!1,disableComments:e.close_comments})),n&&o.createElement(B.hp,{id:r,initialPage:P,threshold:.5}))})))),o.createElement(gu,{hasMoreItems:a,page:s,url:u.originalUrl}),o.createElement(B.g3,null),o.createElement(B._7,null),o.createElement(B.xX,null),o.createElement(B.Wp,null))}}]),a}(o.PureComponent);Ru.propTypes={blogPostList:j().object,hasMoreItems:j().bool,onShowMore:j().func,page:j().number,title:j().string,siteBuilder:j().object,app:j().object,user:j().object,magic:j().object,actionModifyPostPopup:j().object,onRestoreBlogPost:j().func,increaseScrolledPosts:j().func,searchValue:j().string,search:j().object,onChangeSearch:j().func,showMoreSearchResults:j().func};const Au=(0,i.$j)((function(e){return{title:e.blogPostList.title,blogPostList:e.blogPostList,hasMoreItems:e.blogPostList.hasMoreItems,searchValue:e.blogPostList.searchValue,search:e.blogPostList.search,actionModifyPostPopup:e.actionModifyPostPopup,page:e.blogPostList.page,siteBuilder:e.app.siteBuilder,app:e.app,user:e.auth.user,magic:e.magic}}),(function(e){return{onShowMore:function(t,n){e(Eu(t,n))},onRestoreBlogPost:function(t){e(Nu(t))},increaseScrolledPosts:function(){return e(Kt())},onChangeSearch:function(t){e(function(e){return function(t){return t({type:"BLOG_POST_LIST_SET_SEARCH",searchValue:e}),t(Pu())}}(t))},showMoreSearchResults:function(){e(Pu())}}}))((0,B.Pf)(Ru,"blogPostLst"));var Du=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"form",{group1:[{type:"textarea",rows:10,name:"htmlHeaderText",label:"HTML код после <body>"},{type:"checkbox",name:"htmlHeaderEnabled",label:"активировать блок после <body>"}],group2:[{type:"textarea",rows:10,name:"htmlFooterText",label:"HTML код перед </body>"},{type:"checkbox",name:"htmlFooterEnabled",label:"активировать блок перед </body>"}]}),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.onChangeInput,n=e.onSaveSettings,r=e.data,a=e.active,i=e.errors,s={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!a};return o.createElement("div",{className:M()(s)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"HTML вставки"),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},this.form.group1.map((function(e,n){return o.createElement(B.dU,{error:i[e.name],key:n,input:e,value:r[e.name],onChangeHandle:function(n){t(n,e.name)}})}))),o.createElement("div",{className:"form-group"},this.form.group2.map((function(e,n){return o.createElement(B.dU,{error:i[e.name],key:n,input:e,value:r[e.name],onChangeHandle:function(n){t(n,e.name)}})})))),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:n,label:"Сохранить"})))))}}]),a}(o.Component);Du.propTypes={data:j().object,onChangeInput:j().func,onSaveSettings:j().func,active:j().bool,errors:j().any};const xu=Du;function Lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lu(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Uu=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"handleAddTag",(function(e){var n=t.props.siteSettings.data.about;n.keyWords.push(e.name),t.handleChangeInput(n.keyWords,"keyWords")})),k()(y()(t),"handleDeleteTag",(function(e){var n=t.props.siteSettings.data.about;n.keyWords=n.keyWords.filter((function(t,n){return n!==e})),t.handleChangeInput(n.keyWords,"keyWords")})),k()(y()(t),"handleChangeInput",(function(e,n){var r=t.props.onChangeInput,o=t.props.siteSettings.activeTab,a=e.target;r(o,n,a?"checkbox"===a.type?a.checked:a.value:e)})),k()(y()(t),"form",{group1:[{type:"text",name:"name",label:"Название",isRequired:!0},{type:"text",name:"logoUrl",label:"Адрес перехода по клику на логотип",forDevs:!0},{type:"textarea",rows:3,name:"description",label:"Описание",labelMuted:"Также используется для повышения рейтинга в поисковых системах"}],group2:[{type:"radio",name:"language",label:"Русский",initVal:"ru",forDevs:!0},{type:"radio",name:"language",label:"Английский",initVal:"en",forDevs:!0}]}),t.favicon=o.createRef(),t}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.onSaveSettings,r=t.onChangeTab,a=t.siteSettings,i=t.isDev,s=t.onSetFavicon,c=t.onRemoveFavicon,l=a.errors,u=a.data.about;return o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"Общие настройки сайта"),o.createElement("div",{className:"form-section"},o.createElement("div",{className:"form-group form-group_inline-between"},o.createElement("label",null,"Адрес сайта"),o.createElement("a",{href:"/edit/domain/",className:"btn btn-outline-secondary align-right",onClick:function(e){e.preventDefault(),window.history.pushState(null,"","/edit/domain/"),r("domain")}},"Настроить"))),o.createElement("div",{className:"form-section form-section_none"},this.form.group1.map((function(t,n){return o.createElement(B.dU,{key:n,input:Bu(Bu({},t),{},{isDev:i}),error:l[t.name],value:u[t.name],onChangeHandle:function(n){e.handleChangeInput(n,t.name)}})})),o.createElement("div",{className:"form-group"},o.createElement("label",null,"Ключевые слова",o.createElement("p",{className:"form-text text-muted"},"Используются для повышения рейтинга в поисковых системах. Перечислите через запятую или используйте Tab или Enter чтобы завершить ввод.")),o.createElement(Ql(),{tags:u.keyWords.map((function(e){return{id:e,name:e}})),allowNew:!0,allowBackspace:!1,onDelete:this.handleDeleteTag,onAddition:this.handleAddTag,autofocus:!1,placeholderText:"Новый тег...",delimiters:["Enter","Tab",","],delimiterChars:[","]})),i&&o.createElement("div",{className:"form-group yellow-form"},o.createElement("label",null,"Язык интерфейса"),this.form.group2.map((function(t,n){return o.createElement(B.dU,{error:l[t.name],key:n,input:Bu(Bu({},t),{},{isDev:i}),value:u[t.name],onChangeHandle:function(n){e.handleChangeInput(n,t.name)}})}))),o.createElement("div",{className:"position-relative form-group"},o.createElement("label",null,"Установить favicon для сайта."),o.createElement("div",{className:"form-group_inline-between position-relative form-group"},o.createElement("input",{name:"favicon",type:"file",ref:this.favicon,className:"form-control-file",onChange:s}),u.favicon&&o.createElement("div",{className:"site-favicon",style:{backgroundImage:"url('".concat(u.favicon,"')")}},o.createElement("div",{className:"remove-favicon-btn fas fa-times-circle",onClick:function(){c(),e.favicon.current.value=""}}))))),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:function(e){e.preventDefault(),n()},label:"Сохранить"}))))}}]),a}(o.Component);Uu.propTypes={siteSettings:j().object,onSetFavicon:j().func,onChangeInput:j().func,onChangeTab:j().func,onSaveSettings:j().func,onRemoveFavicon:j().func,isDev:j().bool};const Fu=(0,i.$j)((function(e){return{siteSettings:e.siteSettings}}),(function(e){return{onSaveSettings:function(){e(Vo("about"))},onChangeTab:function(t){e(Zo(t))},onChangeInput:function(t,n,r){e(Go(t,n,r))},onSetFavicon:function(t){e(function(e){return function(t){var n=new FileReader;n.readAsDataURL(e.target.files[0]),n.onload=function(){fetch(n.result).then((function(e){return e.blob()})).then((function(e){var t=new window.FormData;t.append("query","mutation {uploadPhoto {id, photo_original}}"),t.append("photo",e);var n={project:"comments",body:t};return(0,B.$2)(n)})).then((function(e){if(!e)throw new Error("image bad response");return e.data.uploadPhoto.photo_original})).then((function(e){e&&t(Go("about","favicon",e))})).catch(B.qL.promiseHandler("/index.js"))}}}(t))},onRemoveFavicon:function(){e((function(e,t){var n=t().app.site.id;e(Go("about","favicon","")),e({type:"SITE_SETTINGS_SAVE_SETTINGS",tabName:"about"}),Promise.all([yo.setSiteSettings(n,{about:{favicon:""}})]).then((function(t){var n=ir()(t,1)[0];n.result||e(Wo(n))})).catch((function(e){B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler(Fo)(e)}))}))}}}))(Uu);var Hu=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!this.props.active};return o.createElement("div",{className:M()(e)},o.createElement(Fu,{isDev:this.props.isDev}))}}]),a}(o.Component);Hu.propTypes={isDev:j().bool,active:j().bool};const qu=Hu;var Zu=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"radioInputs",{join_is_open:[{title:"любой желающий",value:1},{title:"только получивший приглашение",value:0}],vislvl_invitation:[{title:"только участники",value:B.cQ.allowLevels.member},{title:"только владелец",value:B.cQ.allowLevels.god}],allowContentVislvl:[{title:"никто (новые темы запрещены)",value:B.cQ.allowLevels.none},{title:"только владелец",value:B.cQ.allowLevels.god},{title:"только администраторы",value:B.cQ.allowLevels.moderator},{title:"все участники",value:B.cQ.allowLevels.member}],allowVoteVislvl:[{title:"никто (новые оценки запрещены)",value:B.cQ.allowLevels.none},{title:"только владелец",value:B.cQ.allowLevels.god},{title:"члены группы",value:B.cQ.allowLevels.member},{title:"все зарегистрировавшиеся",value:B.cQ.allowLevels.registered}],allowViewCreatorVislvl:[{title:"только владелец",value:B.cQ.allowLevels.god},{title:"только администраторы",value:B.cQ.allowLevels.moderator},{title:"все участники",value:B.cQ.allowLevels.member},{title:"все",value:B.cQ.allowLevels.any}],allowCommentVislvl:[{title:"никто (комментарии запрещены и скрыты)",value:B.cQ.allowLevels.none},{title:"только владелец",value:B.cQ.allowLevels.god},{title:"все участники",value:B.cQ.allowLevels.member},{title:"все",value:B.cQ.allowLevels.registered}]}),t._makeRadio=t._makeRadio.bind(y()(t)),t}return g()(a,[{key:"_makeRadio",value:function(e,t,n){var r=[],a=this.props.onChangeInput;return t="number"==typeof t?t.toString():t,this.radioInputs[e].map((function(i){var s=i.value;s="number"==typeof s?s.toString():s,r.push(o.createElement(B.dU,{error:n[e],key:s,input:{type:"radio",initVal:s,label:i.title,name:e},value:t,onChangeHandle:function(t){a(t,e)}}))})),r}},{key:"render",value:function(){var e=this.props,t=e.onSaveSettings,n=e.onChangeInput,r=e.data,a=e.active,i=e.errors,s={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!a};return o.createElement("div",{className:M()(s)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"Доступность"),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Присоединиться может"),this._makeRadio("join_is_open",r.join_is_open,i))),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Приглашать могут"),this._makeRadio("vislvl_invitation",r.vislvl_invitation,i))),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Добавлять темы в блог могут"),this._makeRadio("allowContentVislvl",r.allowContentVislvl,i)),o.createElement("div",{className:"form-check"},o.createElement("label",null,o.createElement("input",{className:"form-check-input",type:"checkbox",name:"language",checked:r.premoderation,onChange:function(e){n(e,"premoderation")}}),"новые темы должны быть одобрены модератором перед публикацией"))),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Комментировать могут"),this._makeRadio("allowCommentVislvl",r.allowCommentVislvl,i))),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Голосовать могут"),this._makeRadio("allowVoteVislvl",r.allowVoteVislvl,i))),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Видеть авторов материалов могут"),this._makeRadio("allowViewCreatorVislvl",r.allowViewCreatorVislvl,i))),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:t,label:"Сохранить"})))))}}]),a}(o.Component);Zu.propTypes={data:j().object,onChangeInput:j().func,onSaveSettings:j().func,active:j().bool,errors:j().any};const Gu=Zu;var Vu=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"form",{group2:[{type:"text",name:"yandexMetricaAccountId",label:"Идентификатор аккаунта Яндекс.Метрика",labelMuted:o.createElement(o.Fragment,null,"Добавление счетчика Яндекс.Метрика. Предварительно Вам необходимо"," ",o.createElement("a",{href:"http://passport.yandex.ru/passport?mode=register&retpath=http%3A%2F%2Fmetrika.yandex.ru",target:"_blank"},"зарегистрироваться"),". Идентификатор аккаунта можно найти в коде счетчика, введите только цифры (см. пример)",o.createElement("br",null),o.createElement("br",null),o.createElement("a",{href:"http://mtdata.ru/u17/photoCF0B/20525251076-0/huge.jpeg",target:"_blank"},o.createElement("img",{src:"http://mtdata.ru/u17/photoC29E/20094416660-0/big.jpeg",border:"1"})))},{type:"text",name:"yandexWebmasterCheckingMetatag",label:"Яндекс.Вебмастер",labelMuted:"Укажите значение проверочного метатега для Яндекс.Вебмастер"}],group3:[{type:"text",name:"statMediaId",label:"Идентификатор аккаунта StatMedia"}]}),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.onSaveSettings,n=e.onChangeInput,r=e.data,a=e.active,i=e.errors,s={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!a};return o.createElement("div",{className:M()(s)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"Аналитика",o.createElement("p",{className:"form-text text-muted"},"В этом разделе Вы можете включить различные системы сбора статистики посещаемости Вашего сайта, а также инструменты для оценки сайта с точки зрения поисковых систем Google и Яндекс.")),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Инструменты Яндекс")),this.form.group2.map((function(e,t){return o.createElement(B.dU,{error:i[e.name],key:t,input:e,value:r[e.name],onChangeHandle:function(t){n(t,e.name)}})}))),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Liveinternet"),o.createElement("p",{className:"form-text text-muted"},"Для размещения сайта в системе"," ",o.createElement("a",{href:"http://www.liveinternet.ru/",target:"_blank"},"Liveinternet.ru")," просто зарегистрируйте его на странице"," ",o.createElement("a",{href:"http://www.liveinternet.ru/add",target:"_blank"}," добавления сайта"),"."," ","Невидимый счетчик будет установлен на Ваш сайт автоматически. Никакого кода больше размещать не надо."))),wr.isDeveloper()&&o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"StatMedia"),this.form.group3.map((function(e,t){return o.createElement(B.dU,{error:i[e.name],key:t,input:e,value:r[e.name],onChangeHandle:function(t){n(t,e.name)}})})))),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:t,label:"Сохранить"})))))}}]),a}(o.Component);Vu.propTypes={data:j().object,onChangeInput:j().func,onSaveSettings:j().func,active:j().bool,errors:j().any};const Wu=Vu;var Yu=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"form",{group1:[{type:"text",name:"appId",label:"ID приложения"},{type:"text",name:"secretKey",label:"Секретный ключ"}]}),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.onChangeInput,n=e.onSaveSettings,r=e.data,a=e.active,i=e.errors,s={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!a};return o.createElement("div",{className:M()(s)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"Настройки ВКонтакте"),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},"Требуется выполнить следующие действия:",o.createElement("br",null),"1. ",o.createElement("a",{href:"http://vkontakte.ru/apps.php?act=add&site=1",target:"_blank"},"создать приложение ВКонтакте"),o.createElement("br",null),"2. перейти в настройки, где указать адрес сайта и базовый домен",o.createElement("br",null),"3. скопировать ID приложения и ввести его в поле ввода ниже"),this.form.group1.map((function(e,n){return o.createElement(B.dU,{error:i[e.name],key:n,input:e,value:r[e.name],onChangeHandle:function(n){t(n,e.name)}})}))),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:n,label:"Сохранить"})))))}}]),a}(o.Component);Yu.propTypes={data:j().object,onChangeInput:j().func,onSaveSettings:j().func,active:j().bool,errors:j().any};const Ku=Yu;var zu=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"form",{group1:[{type:"checkbox",name:"linkToSource",label:"Cсылка на источник"}],group2:[{type:"radio",name:"load",initVal:"keywords",label:"Ключевые слова"},{type:"radio",name:"load",initVal:"topics",label:"Tематики"},{type:"radio",name:"load",initVal:"keywords_and_topics",label:"Ключевые слова и тематики"}],group3:[{type:"checkbox",name:"reloadPostsFromRss",label:"Перезагрузить посты из RSS"}]}),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.onChangeInput,r=t.onSaveSettings,a=t.data,i=t.active,s=t.errors,c={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!i};return o.createElement("div",{className:M()(c)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"RSS-фид"),o.createElement("div",{className:"form-section form-section_top"},o.createElement(B.dU,{error:s[this.form.group1[0].name],input:this.form.group1[0],value:a[this.form.group1[0].name],onChangeHandle:function(t){n(t,e.form.group1[0].name)}})),o.createElement("div",{className:"form-group"},this.form.group2.map((function(e,t){return o.createElement(B.dU,{error:s[e.name],key:t,input:e,value:a[e.name],onChangeHandle:function(t){n(t,e.name)}})}))),o.createElement("div",{className:"form-section form-section_top"},o.createElement(B.dU,{error:s[this.form.group3[0].name],input:this.form.group3[0],value:a[this.form.group3[0].name],onChangeHandle:function(t){n(t,e.form.group3[0].name)}})),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:r,label:"Сохранить"})))))}}]),a}(o.Component);zu.propTypes={data:j().object,onChangeInput:j().func,onSaveSettings:j().func,active:j().bool,errors:j().any};const $u=zu;n(17727);var Ju="/index.js";var Xu=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;return h()(this,a),e=r.call(this),k()(y()(e),"handleBeforeUnload",(function(t){return!e.state.changed||(t.returnValue="Changed","Changed")})),k()(y()(e),"handleChangeInput",(function(t){e.setState({robotsText:t.target.value,changed:!0})})),k()(y()(e),"handleSaveSettings",(function(t){t.preventDefault();var n=e.props.app,r=e.state.robotsText,o=n.site.id,a="";Promise.resolve(yo.setRobotsTxt(o,r)).then((function(e){a=!0===e.result?"Успешно сохранено":e.message||"При сохранении произошла ошибка.",B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:a})})).catch((function(e){B.v0.sendMessage("saveError"),B.qL.promiseHandler(Ju)(e)})).finally((function(){e.setState({changed:!1})}))})),e.state={robotsText:"",changed:!1},e}return g()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.app.site.id;Promise.resolve(yo.getRobotsTxt(t)).then((function(t){var n=t.robotstxt;if(null===t.robotstxt){var r=new(co())(window.location.href);n=yo.getDefaultRobotsTxt(r.hostname)}e.setState({robotsText:n})})).catch(B.qL.promiseHandler(Ju)),window.addEventListener("beforeunload",this.handleBeforeUnload)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.handleBeforeUnload)}},{key:"render",value:function(){var e=this.state.robotsText,t={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!this.props.active};return o.createElement("div",{className:M()(t)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"Настройки Robots.txt"),o.createElement("div",{className:"form-section form-section_top"},o.createElement(B.dU,{error:"",input:{type:"textarea",rows:30,name:"robotsText",label:"Файл Robots.txt"},value:e,onChangeHandle:this.handleChangeInput})),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:this.handleSaveSettings,label:"Сохранить"})))))}}]),a}(o.PureComponent);Xu.propTypes={app:j().object,active:j().bool};const Qu=Xu;var ep=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"form",{group1:[{type:"text",name:"smi2RightBlock",label:"Блок справа",default:"95080"},{type:"text",name:"smi2BottomBlock2",label:"Блок под статьей 1",default:"95079"},{type:"text",name:"smi2BottomBlock3",label:"Блок под статьей 2",default:"95030"},{type:"text",name:"smi2BottomBlock4",label:"Блок под статьей 3",default:"95031"}]}),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.onChangeInput,n=e.onSaveSettings,r=e.data,a=e.active,i=e.errors,s={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!a};return o.createElement("div",{className:M()(s)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"Обмен МирТесен"),o.createElement("div",{className:"form-section form-section_top"},this.form.group1.map((function(e,n){return o.createElement(B.dU,{error:i[e.name],key:n,input:e,value:r[e.name]||e.default,onChangeHandle:function(n){t(n,e.name)}})}))),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:n,label:"Сохранить"})))))}}]),a}(o.Component);ep.propTypes={data:j().object,onChangeInput:j().func,onSaveSettings:j().func,active:j().bool,errors:j().any};const tp=ep;var np=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!this.props.active};return o.createElement("div",{className:M()(e)},o.createElement(Ks,null))}}]),a}(o.Component);np.propTypes={data:j().object,onChangeInput:j().func,onChangeTab:j().func,onSaveSettings:j().func,active:j().bool};const rp=np;var op=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.onChangeInput,n=e.onSaveSettings,r=e.data,a={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!e.active};return o.createElement("div",{className:M()(a)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"Настройки рекламы"),o.createElement("div",{className:"form-section form-section_top"},o.createElement(B.dU,{key:"inpageVideoAtEnd",input:{type:"checkbox",name:"inpageVideoAtEnd",label:"Показывать рекламу в конце страницы"},value:r.inpageVideoAtEnd,onChangeHandle:function(e){t(e,"inpageVideoAtEnd")}})),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:n,label:"Сохранить"})))))}}]),a}(o.Component);op.propTypes={data:j().object,onChangeInput:j().func,onSaveSettings:j().func,active:j().bool,errors:j().any};const ap=op;var ip="/index.js";function sp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sp(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lp=function e(){h()(this,e)};k()(lp,"checkSiteDomain",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t=JSON.stringify(t),(0,B.$2)({project:"blog",body:JSON.stringify({query:"query {\n                  checkSiteDomain(siteId: ".concat(e,", prefix: ").concat(t,")\n                }")})}).then((function(e){var t,n=(null==e||null===(t=e.data)||void 0===t?void 0:t.checkSiteDomain)||{};if(n.errors&&!n.errors.prefix)throw new Error("Bad response");return JSON.parse(n)})).catch(B.qL.promiseHandler(ip))})),k()(lp,"addGroupDomain",(function(e,t){var n=JSON.stringify(t.prefix),r=t.ignoreDomainNs;return(0,B.$2)({project:"blog",body:JSON.stringify({query:"mutation {\n                  addGroupDomain(\n                    siteId: ".concat(e,",\n                    prefix: ").concat(n,",\n                    ").concat(r?"ignoreDomainNs: ".concat(r):"","\n                  )\n                }")})}).then((function(e){if(e.data)return JSON.parse(e.data.addGroupDomain)})).catch(B.qL.promiseHandler(ip))})),k()(lp,"setGroupMainDomain",(function(e,t){return t=JSON.stringify(t),(0,B.$2)({project:"blog",body:JSON.stringify({query:"mutation {\n                  setGroupMainDomain(siteId: ".concat(e,", prefix: ").concat(t,")\n                }")})}).then((function(e){if(e.data)return JSON.parse(e.data.setGroupMainDomain)})).catch(B.qL.promiseHandler(ip))})),k()(lp,"deleteGroupDomain",(function(e,t){return t=JSON.stringify(t),(0,B.$2)({project:"blog",body:JSON.stringify({query:"mutation {\n                  deleteGroupDomain(siteId: ".concat(e,", prefix: ").concat(t,")\n                }")})}).then((function(e){if(e.data)return JSON.parse(e.data.deleteGroupDomain)})).catch(B.qL.promiseHandler(ip))})),k()(lp,"getGroupDomains",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,B.$2)(cp({project:"blog",body:JSON.stringify({query:"query {\n                  getGroupDomains(siteId: ".concat(e,")\n                }")})},t)).then((function(e){if(e.data)return JSON.parse(e.data.getGroupDomains).domains})).catch(B.qL.promiseHandler(ip))}));const up=lp;var pp=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleChangeInput",(function(t,n){(0,e.props.handleChangeInput)(e.props.siteSettings.activeTab,n,t.target?"checkbox"===t.target.type?t.target.checked:t.target.value:t)})),k()(y()(e),"form",{group1:[{className:"form-group_inline",type:"text",name:"mtDomain",labelAfter:".mirtesen.ru"}],group2:[{type:"text",name:"ownDomain",label:"Ваш собственный адрес",labelMuted:o.createElement(o.Fragment,null,"Также Вы можете самостоятельно купить адрес в Интернете.")}]}),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.siteSettings,r=t.handleAddDomain,a=t.handleCheckDomain,i=t.handleDeleteDomain,s=t.handleSetDomain,c=t.blogDomain,l=n.errors,u=n.valid,p=n.data.domain,d=this.handleChangeInput;return o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"Адреса сайта"),o.createElement("div",{className:"form-section"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Адреса на «МирТесен»",o.createElement("p",{className:"form-text text-muted",color:"muted"},"Вы можете добавить несколько адресов, и по каждому из них пользователи смогут зайти на ваш сайт.")),o.createElement(B.dU,{error:l[this.form.group1[0].name],valid:u[this.form.group1[0].name],input:this.form.group1[0],value:p[this.form.group1[0].name],onChangeHandle:function(t){d(t,e.form.group1[0].name)}}),o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{type:"button",onClick:function(){return a(p[e.form.group1[0].name])},label:"Проверить"}),o.createElement(eo.Z,{type:"button",onClick:function(){return r(p[e.form.group1[0].name],e.form.group1[0].name)},label:"Добавить"})),!ms()(c.thirdLevel)&&o.createElement("ul",{className:"list-group"},c.thirdLevel.map((function(e,t){return o.createElement("li",{key:t,className:"list-group-item"},e.domain,o.createElement("div",{className:"form-group form-group_inline-between"},"main"===e.status?o.createElement("label",null,"Основной"):o.createElement(eo.Z,{type:"button",color:"secondary",onClick:function(){return s(e.domain)},label:"Сделать основным"}),o.createElement(eo.Z,{type:"button",color:"secondary",onClick:function(){return i(e.domain)},label:"Удалить"})))}))))),o.createElement("div",{className:"form-section form-section_bottom"},o.createElement(B.dU,{error:l[this.form.group2[0].name],input:this.form.group2[0],value:p[this.form.group2[0].name],onChangeHandle:function(t){d(t,e.form.group2[0].name)}}),o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:function(t){t.preventDefault(),r(p[e.form.group2[0].name],e.form.group2[0].name,!0)},label:"Сохранить"}),c.technical&&"main"===c.technical.status?o.createElement("label",{className:"align-right"},"Основной"):o.createElement(eo.Z,{type:"button",extraClasses:"align-right",color:"secondary",onClick:function(){return s(p[e.form.group2[0].name])},label:"Сделать основным"})),!ms()(c.secondLevel)&&o.createElement("ul",{className:"list-group"},c.secondLevel.map((function(e,t){return o.createElement("li",{key:t,className:"list-group-item"},e.domain,o.createElement("div",{className:"form-group form-group_inline-between align-right"},"main"===e.status&&o.createElement("label",null,"Основной"),"pending"===e.status&&o.createElement("label",null,"На рассмотрении"),!e.status&&o.createElement(eo.Z,{type:"button",color:"secondary",onClick:function(){return s(e.domain)},label:"Сделать основным"}),o.createElement(eo.Z,{type:"button",color:"secondary",onClick:function(){return i(e.domain)},label:"Удалить"})))})))),o.createElement("div",{className:"form-section form-section_bottom"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Технический адрес",o.createElement("p",{className:"form-text text-muted"},"Если другие адреса будут недоступны, по этому адресу вы всегда сможете получить доступ к вашему сайту.")),o.createElement("div",{className:"form-group form-group_inline-between"},c.technical.domain,c.technical&&"main"===c.technical.status?o.createElement("label",{className:"align-right"},"Основной"):o.createElement(eo.Z,{type:"button",extraClasses:"align-right",color:"secondary",onClick:function(){return s(c.technical.domain)},label:"Сделать основным"})))))}}]),a}(o.Component);pp.propTypes={onChangeInput:j().func,handleCheckDomain:j().func,handleAddDomain:j().func,handleSetDomain:j().func,handleDeleteDomain:j().func,handleChangeInput:j().func,siteSettings:j().object,blogDomain:j().object};const dp=(0,i.$j)((function(e){return{siteSettings:e.siteSettings,blogDomain:e.blogDomain}}),(function(e){return{handleCheckDomain:function(t){e(function(e){return function(t,n){var r=n().app.site.id;Promise.resolve(up.checkSiteDomain(r,e)).then((function(e){if(e.result)t({type:"SITE_SETTINGS_SET_VALIDATION",key:"mtDomain",title:"Домен свободен"});else{var n=Ya()(e.alternatives,"prefix").join(", "),r=L()(e,"errors.prefix",""),o="".concat(r?r+".":""," ").concat(n?"Альтернативные варианты: "+n:"");t({type:"SITE_SETTINGS_SET_ERROR",key:"mtDomain",title:o})}}))}}(t))},handleAddDomain:function(t,n,r){e(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,o){var a=o().app.site.id;Promise.resolve(up.addGroupDomain(a,{prefix:e,ignoreDomainNs:n})).then((function(e){if(e.result)window.location.reload();else{var n=Ya()(e.alternatives,"prefix").join(", "),o=L()(e,"errors.prefix",""),a="".concat(o?o+".":""," ").concat(n?"Альтернативные варианты: "+n:"");r({type:"SITE_SETTINGS_SET_ERROR",key:t,title:a})}}))}}(t,n,r))},handleDeleteDomain:function(t){e(function(e){return function(t,n){var r=n().app.site.id;Promise.resolve(up.deleteGroupDomain(r,e)).then((function(e){e.result&&window.location.reload()}))}}(t))},handleSetDomain:function(t){e(function(e){return function(t,n){var r=n().app.site.id;Promise.resolve(up.setGroupMainDomain(r,e)).then((function(e){e.result&&window.location.reload()}))}}(t))},handleChangeInput:function(t,n,r){e(Go(t,n,r))}}}))(pp);var mp=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!this.props.active};return o.createElement("div",{className:M()(e)},o.createElement(dp,null))}}]),a}(o.Component);mp.propTypes={active:j().bool};const fp=mp;var hp=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"form",{group:[{type:"text",name:"containerId",label:"AdFox Container Id",labelMuted:"ID рекламного блока (adfox_159171272546925854)"},{type:"textarea",name:"params",label:"AdFox Params",labelMuted:'Параметры рекламного блока из конфига YM (Важно!!! В формате {"p1":"cblrf","p2":"fwea"})'},{type:"text",name:"ownerId",label:"AdFox Owner Id",labelMuted:"Владелец рекламного блока из конфига YM"},{type:"text",name:"maxWidth",label:"Max Width",labelMuted:"Максимальная ширина экрана при которой блок будет отображаться (опицонально)"},{type:"text",name:"minWidth",label:"Min Width",labelMuted:"Минимальная ширина экрана при которой блок будет отображаться (опицонально)"},{type:"text",name:"width",label:"Width",labelMuted:"Принудительное задание ширины блока (опицонально)"},{type:"text",name:"height",label:"Height",labelMuted:"Принудительное задание высоты блока (опицонально)"},{type:"text",name:"criterioId",label:"Criterio Id",labelMuted:"ID блока Criterio (опционально). Отображается при включенном AdBlock вместо основного блока"},{type:"text",name:"ymGoal",label:"YmGoal",labelMuted:"Цель yandex metrics (опционально)."}]}),e}return g()(a,[{key:"getAdBlockMenu",value:function(){var e=this,t=this.props,n=t.data,r=t.selectedAdBlock,a={1e3:[],2e3:[],3e3:[]};for(var i in n)({}).hasOwnProperty.call(n,i)&&function(){var t=Number(i);t>=1e3&&t<2e3&&a[1e3].push(o.createElement("i",{key:t,onClick:function(n){n.preventDefault(),e.selectAdBlock(t)},className:r===t?"selected":null},"#",t)),t>=2e3&&t<3e3&&a[2e3].push(o.createElement("i",{key:t,onClick:function(n){n.preventDefault(),e.selectAdBlock(t)},className:r===t?"selected":null},"#",t)),t>=3e3&&t<4e3&&a[3e3].push(o.createElement("i",{key:t,onClick:function(n){n.preventDefault(),e.selectAdBlock(t)},className:r===t?"selected":null},"#",t))}();return o.createElement("ul",{className:"site-settings-adfox__select-block"},o.createElement("li",null,"Страница поста: ",a[1e3]),o.createElement("li",null,"Список постов: ",a[2e3]),o.createElement("li",null,"Общие блоки: ",a[3e3]))}},{key:"selectAdBlock",value:function(e){var t=this.props.selectAdBlock,n=window.location.href;n=-1!==(n=n.replace(/key=\d+/i,"").replace("?&","?").replace(/(&|\?)+$/,"")).indexOf("?")?n+"&key="+e:n+"?key="+e,window.history.pushState(null,"",n),t(e)}},{key:"render",value:function(){var e=this.props,t=e.onSaveSettings,n=e.onChangeInput,r=e.active,a=e.errors,i=e.selectedAdBlock,s=e.blockData,c=e.resetBlockToDefault,l={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!r,"site-settings-adfox":!0};return o.createElement("div",{className:M()(l)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"AdFox блоки"),o.createElement("span",null,"Выберите номер рекламного блока (",o.createElement("a",{href:"#",target:"_blank"},"см. схему размещения рекламных мест"),"), чтобы посмотреть или изменить его настройки"),o.createElement("div",{className:"form-section form-section_top"},this.getAdBlockMenu()),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Настройки рекламного блока #",i,"  |  ",o.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),c(i)}},"Сбросить в начальные"))),this.form.group.map((function(e,t){var r=s[e.name];return"string"!=typeof r&&(r=JSON.stringify(r)),o.createElement(B.dU,{error:a[e.name],key:t,input:e,value:r,onChangeHandle:function(t){n(t,"".concat(i,".").concat(e.name))}})}))),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:t,label:"Сохранить"})))))}}]),a}(o.PureComponent);hp.propTypes={data:j().object,onChangeInput:j().func,onSaveSettings:j().func,active:j().bool,errors:j().any,selectAdBlock:j().func,resetBlockToDefault:j().func,selectedAdBlock:j().number,blockData:j().object};const _p=(0,i.$j)(null,(function(e){return{selectAdBlock:function(t){e(function(e){return function(t){t({type:"SITE_SETTINGS_SELECT_ADFOX_BLOCK",id:e})}}(t))},resetBlockToDefault:function(t){e(function(e){return function(t){t({type:"SITE_SETTINGS_RESET_ADFOX_TO_DEFAULT",id:e,data:qo({},Zr.ad[e])})}}(t))}}}))(hp);var gp=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleKeyClick",(function(t,n){t.preventDefault();var r=e.props,o=r.handleAddKey,a=r.data,i=e.textarea,s=a.text;if(n===e.initialText&&confirm("Вы уверены, что хотите заменить Ваш текст текстом по умолчанию?")&&(s=n),n!==e.initialText){var c=e.getCaretPos(i);s=i.value.slice(0,c)+n+i.value.slice(c),e.caretOffset=c+n.length}i.focus(),o(s)})),k()(y()(e),"getCaretPos",(function(e){var t=0;if(document.selection){var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}else(e.selectionStart||"0"===e.selectionStart.toString())&&(t=e.selectionStart);return t})),k()(y()(e),"setCaretPos",(function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}})),k()(y()(e),"initialText","Привет, [user_name]!\nДобро пожаловать на сайт [group_name]! Надеюсь, Вам он понравится. Если будут какие-то вопросы -- пишите :-)"),k()(y()(e),"caretOffset",0),k()(y()(e),"form",{group1:[{type:"radio",name:"enabled",initVal:"true",label:"Включить"},{type:"radio",name:"enabled",initVal:"false",label:"Выключить"}],group2:[{type:"textarea",rows:5,name:"text",label:"Текст сообщения:",labelMuted:o.createElement(o.Fragment,null,o.createElement("p",null,"Вводить только ключи и письменный текст."),o.createElement("p",null,"Ключи (текст в квадратных скобках) позволяют автоматически вставлять в текст фамилию и имя пользователя присоединившегося к сайту."))}]}),k()(y()(e),"keys",[{label:"Текст по умолчанию",value:e.initialText},{label:"Имя пользователя",value:"[user_name]"},{label:"Фамилия пользователя",value:"[user_lastname]"},{label:"Адрес сайта",value:"[group_url]"}]),e}return g()(a,[{key:"componentDidUpdate",value:function(){this.caretOffset>0&&(this.setCaretPos(this.textarea,this.caretOffset,this.caretOffset),this.caretOffset=0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onSaveSettings,r=t.onChangeInput,a=t.data,i=t.active,s=t.errors,c={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!i};return o.createElement("div",{className:M()(c)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"Личное сообщение от вашего имени",o.createElement("p",{className:"form-text text-muted"},"Это сообщение автоматически отправляется пользователю сразу после того, как он присоединился к сайту.")),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Автоответчик:")),this.form.group1.map((function(e,t){return o.createElement(B.dU,{error:s[e.name],key:t,input:e,value:a[e.name].toString(),onChangeHandle:function(t){r(t,e.name)}})}))),a.enabled&&o.createElement("div",{className:"form-section form-section_top form-section_autoresponder"},this.form.group2[0]&&o.createElement(B.dU,{innerRef:function(t){return e.textarea=t},error:s[this.form.group2[0].name],input:this.form.group2[0],value:a[this.form.group2[0].name],onChangeHandle:function(t){r(t,e.form.group2[0].name)}}),o.createElement("div",{className:"form-group"},o.createElement("label",null,"Вставить в текст ключ"),this.keys.map((function(t,n){return o.createElement("button",{key:n,onClick:function(n){return e.handleKeyClick(n,t.value)},className:"site-settings__key-btn",type:"button"},t.label)})))),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:n,label:"Сохранить"})))))}}]),a}(o.Component);gp.propTypes={data:j().object,onChangeInput:j().func,onSaveSettings:j().func,active:j().bool,errors:j().any,handleAddKey:j().func};const vp=(0,i.$j)((function(e){return{siteSettings:e.siteSettings}}),(function(e){return{handleAddKey:function(t){e(function(e){return function(t){t(Go("autoresponder","text",e))}}(t))}}}))(gp);function yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yp(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ep=function(e,t){return function(n,r){var o,a=r().rssEditor.values,i=e.target;o=i?"checkbox"===i.type?i.checked:i.value:e,a[t]=o,n({type:"RSS_EDITOR_CHANGE_VALUE",values:a})}},Pp=function(e,t){return function(n,r){var o=r().rssEditor.loading;o[t]=e,n({type:"RSS_EDITOR_CHANGE_LOADING",loading:o})}};function Op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Op(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Op(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sp=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"form",{group1:[{type:"text",name:"sourceLinkText",label:"Текст ссылки на источник",forDevs:!0},{type:"text",name:"pregTemplateLinkSearch",label:"Preg-шаблон поиска в ссылке RSS",forDevs:!0},{type:"text",name:"pregTemplateLinkChange",label:"Preg-шаблон замены в ссылке RSS",forDevs:!0}]}),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.onChangeInput,n=e.onSaveSettings,r=e.data,a=e.active,i=e.handleChangeTab,s=e.siteSettings,c=e.isDev,l=e.errors,u=e.setInitialValues,p=s.data.rssImport,d={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!a};return o.createElement("div",{className:M()(d)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"RSS-импорт в блоге"),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Здесь вы можете создавать, настраивать, а также менять порядок существующих RSS"),o.createElement("div",null,o.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){u(),i()}},"Добавить ссылку на RSS-фид")))),Va()(p)&&!ms()(p.list)&&o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Список RSS"),o.createElement("ul",{className:"list-group"},p.list.map((function(e,t){return o.createElement("li",{key:t,className:"rss-list__item list-group-item"},o.createElement("span",{className:"rss-list__item__title"},e.rssSourceLink&&B.E6.truncateString(e.rssSourceLink,45)),o.createElement("button",{type:"button",className:"btn btn-secondary rss-list__item__button",onClick:function(){u(e,t)}},"Настройка"))}))))),c&&o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},this.form.group1.map((function(e,n){return o.createElement(B.dU,{error:l[e.name],key:n,input:wp(wp({},e),{},{isDev:c}),value:r[e.name],onChangeHandle:function(n){t(n,e.name)}})})))),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement("button",{className:"btn btn-primary",onClick:function(){return n()}},"Сохранить")))))}}]),a}(o.Component);Sp.propTypes={data:j().object,onChangeInput:j().func,onSaveSettings:j().func,active:j().bool,handleChangeTab:j().func,siteSettings:j().object,errors:j().any,isDev:j().bool,setInitialValues:j().func};const Tp=(0,i.$j)((function(e){return{siteSettings:e.siteSettings}}),(function(e){return{handleChangeTab:function(){e(Zo("rssEditor"))},setInitialValues:function(t,n){e(function(e,t){return{type:"RSS_EDITOR_SET_INITIAL",state:"number"==typeof t?{type:"edit",values:bp({},e),editKey:t}:bp({},rn)}}(t,n)),e(Zo("rssEditor"))}}}))(Sp);function kp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ip(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kp(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mp=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"form",{group1:[{type:"text",name:"rssSourceLink",label:"Ссылка на rss"}],group2:[{type:"checkbox",name:"useFullText",label:"Использовать полный текст записи при его наличии"},{type:"checkbox",name:"useShortDesctiption",label:"Использовать краткое описание как лид-абзац"},{type:"checkbox",name:"ignoreMediaTags",label:"Игнорировать media теги"},{type:"checkbox",name:"autoRefreshImportedThemes",label:"Автоматически обновлять импортированные темы",forDevs:!0}],group3:[{type:"text",name:"maxTextLength",label:"Обрезать текст (количество символов)"},{type:"text",name:"publicationDelay",label:"Задержка публикации (в секундах)"},{type:"text",name:"pregTemplateTextSearch",label:"Preg-шаблон поиска в тексте RSS",forDevs:!0},{type:"text",name:"pregTemplateTextChange",label:"Preg-шаблон замены в тексте RSS",forDevs:!0},{type:"text",name:"xpathLongText",label:"XPath-выражение для полного текста",forDevs:!0}],group4:[{type:"checkbox",name:"keepImages",label:"Не вырезать картинки",forDevs:!0},{type:"checkbox",name:"keepLinks",label:"Не вырезать ссылки",forDevs:!0},{type:"checkbox",name:"keepIframes",label:"Не вырезать iframe-ы",forDevs:!0},{type:"checkbox",name:"useEmbedCode",label:"Использовать тег embed_code",forDevs:!0},{type:"checkbox",name:"useYandexTurbo",label:"Использовать Турбо-страницы",forDevs:!0},{type:"checkbox",name:"addYandexGenreTags",label:"Добавлять yandex:genre в ключевые слова",forDevs:!0}],group5:[{type:"text",name:"xpathImage",label:"XPath-выражение для картинки",forDevs:!0},{type:"text",name:"showCategory",label:"Выставить категорию",forDevs:!0},{type:"text",name:"loadingTimout",label:"Таймаут загрузки (сек)",forDevs:!0}]}),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.handleChangeEvent,r=t.active,a=t.handleChangeTab,i=t.onChangeRss,s=t.errors,c=t.onRemove,l=t.isDev,u=t.onSetDefaultImage,p={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!r},d=this.props.rssEditor,m=d.type,f=d.values,h=d.loading,_=d.editKey,g=this.props.rssEditor.context[m];return o.createElement("div",{className:M()(p)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},g.title),o.createElement("div",{className:"form-section form-section_top"},o.createElement(B.dU,{error:s[this.form.group1[0].name],input:Ip(Ip({},this.form.group1[0]),{},{isDev:l}),value:f[this.form.group1[0].name],onChangeHandle:function(t){n(t,e.form.group1[0].name)}}),o.createElement("div",{className:"form-group"},this.form.group2.map((function(e,t){return o.createElement(B.dU,{error:s[e.name],key:t,input:Ip(Ip({},e),{},{isDev:l}),value:f[e.name],onChangeHandle:function(t){n(t,e.name)}})}))),this.form.group3.map((function(e,t){return o.createElement(B.dU,{error:s[e.name],key:t,input:Ip(Ip({},e),{},{isDev:l}),value:f[e.name],onChangeHandle:function(t){n(t,e.name)}})})),o.createElement("div",{className:"form-group"},this.form.group4.map((function(e,t){return o.createElement(B.dU,{error:s[e.name],key:t,input:Ip(Ip({},e),{},{isDev:l}),value:f[e.name],onChangeHandle:function(t){n(t,e.name)}})}))),this.form.group5.map((function(e,t){return o.createElement(B.dU,{error:s[e.name],key:t,input:Ip(Ip({},e),{},{isDev:l}),value:f[e.name],onChangeHandle:function(t){n(t,e.name)}})})),o.createElement("div",{className:"position-relative form-group"},o.createElement("label",null,"Картинка по умолчанию"),(f.defaultImage||h.defaultImage)&&o.createElement("div",{className:"site-settings__image"},o.createElement("div",{className:"site-settings__image__thumb",style:{backgroundImage:f.defaultImage?"url("+f.defaultImage+")":"none"}},h.defaultImage&&o.createElement("div",{className:"site-settings__image__loading"},o.createElement("svg",{style:{width:32,height:32}},o.createElement("use",{href:"/images/icons.svg#spinner"})),"Загрузка..."),o.createElement("svg",{className:"svg-icon large site-settings__image__remove",onClick:function(){n("","defaultImage")}},o.createElement("use",{href:"/images/icons.svg#times-circle"})))),o.createElement("div",{className:"form-group_inline-between position-relative form-group"},o.createElement("input",{name:"defaultImage",type:"file",className:"form-control-file",onChange:u})))),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement("button",{className:"site-settings__submit btn btn-primary",onClick:function(e){e.preventDefault(),i(f,_)}},g.saveButton),o.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return a("rssImport")}},"Отменить"),"number"==typeof _?o.createElement("button",{type:"button",className:"btn btn-secondary right",onClick:function(){return c(_)}},"Удалить RSS"):null))))}}]),a}(o.Component);Mp.propTypes={isDev:j().bool,rssEditor:j().object,active:j().bool,handleChangeEvent:j().func,handleChangeTab:j().func,onChangeRss:j().func,errors:j().any,onRemove:j().func,onSetDefaultImage:j().func};const Cp=(0,i.$j)((function(e){return{rssEditor:e.rssEditor}}),(function(e){return{handleChangeTab:function(t){e(Zo(t))},handleChangeEvent:function(t,n){e(Ep(t,n))},onChangeRss:function(t,n){e(function(e,t){return function(n,r){var o=r().siteSettings.data.rssImport.list;"number"==typeof t?o[t]=e:(o.push(e),n({type:"SITE_SETTINGS_CHANGE_RSS_LIST",list:o})),n(Vo("rssImport"))}}(t,n))},onRemove:function(t){e(function(e){return function(t,n){var r=n().siteSettings.data.rssImport.list;t({type:"SITE_SETTINGS_CHANGE_RSS_LIST",list:r=r.filter((function(t,n){return n!==e}))}),t(Vo("rssImport"))}}(t))},onSetDefaultImage:function(t){e(function(e){return function(t){var n="defaultImage",r=new FileReader,o=e.target;t(Pp(!0,n)),r.readAsDataURL(o.files[0]),r.onload=function(){fetch(r.result).then((function(e){return e.blob()})).then((function(e){var t=new window.FormData;t.append("query","mutation {uploadPhoto {id, photo_original}}"),t.append("photo",e);var n={project:"main",body:t};return(0,B.$2)(n)})).then((function(e){if(!e)throw new Error("image bad response");return e.data.uploadPhoto.photo_original})).then((function(e){e&&t(Ep(e,n)),o.value="",t(Pp(!1,n))})).catch((function(e){B.qL.promiseHandler("/index.js")(e),o.value="",t(Pp(!1,n))}))}}}(t))}}}))(Mp);var jp=n(40564),Np=n.n(jp),Rp=n(49064),Ap=n.n(Rp),Dp=(n(70189),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865),n(45220)),xp=n.n(Dp),Lp="/index.js";function Bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bp(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fp=function(e){return function(){var t=R()(D().mark((function t(n,r){var o,a,i,s,c,l,u,p,d,m,f,h,_;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.app,i=o.blogMenuSettings.menuItems,s=o.blogDomain,c=a.site.id,l=Up({},ae),xp()(e)||(l=Up(Up({},l),i[e])),!l.main_widget_id){t.next=10;break}return t.next=8,Promise.resolve(ho.getStaticPage(c,l.main_widget_id));case 8:u=t.sent,l=Up(Up({},l),u);case 10:l.url&&(p=l.url,"url"===l.type?(d=new(co())(p),p=d.href,(s.thirdLevel||[]).map((function(e){e.domain.toLowerCase()===d.hostname&&(p=d.pathname+d.query+d.hash)}))):(p.match(/^http[s]?/)&&(m=new(co())(p),p=m.pathname),p=(p=p.replace(/^\//,"")).replace(/^_\//,"")),l.url=p),f=L()(l,"tags",[]),h=L()(l,"stop_tags",[]),f=Array.isArray(f)?f:f.split(","),h=Array.isArray(h)?h:h.split(","),f=f.filter((function(e){return e&&0!==e.length})),h=h.filter((function(e){return e&&0!==e.length})),l.tags=f,l.stop_tags=h;try{_=JSON.parse(l.seo_data)}catch(e){_={}}return _=_||{},l=Up(Up({},l),_),t.next=24,n({type:"BLOG_MENU_SETTINGS_INIT_EDITOR",menuItem:l,currentIndex:e});case 24:n(Zo("menuEditor"));case 25:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Hp=function(){return function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),o=r.app,a=r.blogMenuSettings,i=a.menuItems,s=a.staticWidgetsToRemove,c=o.siteBuilder,l=L()(o,"site.id"),c.mainMenu.items=i,s&&s.map(function(){var e=R()(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(ho.deleteStaticPage(t));case 2:u=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=10,Promise.resolve(ho.setServerConfig(l,c));case 10:u=e.sent,t(Gp(u)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler(Lp)(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}()},qp=function(e){return function(t,n){var r=n().blogMenuSettings,o=r.staticWidgetsToRemove,a=r.menuItems,i=a[e];t({type:"BLOG_MENU_SETTINGS_SET_MENU_ITEMS",menuItems:a=a.filter((function(t,n){return e!==n}))}),i.main_widget_id&&(o.push(i.main_widget_id),t({type:"BLOG_MENU_SETTINGS_REMOVE_STATIC",staticWidgetsToRemove:F()(new Set(o))}))}},Zp=function(e){return{type:"BLOG_MENU_SETTINGS_SET_INPUT_ERRORS",errors:e}},Gp=function(e){return function(t){!e||e.errors?(t(Zp(e.errors)),B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:e.message||"При сохранении произошла ошибка"})):(t({type:"BLOG_MENU_SETTINGS_SAVE_SUCCESS"}),setTimeout((function(){return window.location.reload()}),500))}};var Vp=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleBeforeUnload",(function(t){return!e.props.blogMenuSettings.isChanged||(t.returnValue="Changed","Changed")})),e}return g()(a,[{key:"componentDidMount",value:function(){(0,this.props.handleInit)(),window.addEventListener("beforeunload",this.handleBeforeUnload)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.handleBeforeUnload)}},{key:"render",value:function(){var e=this.props,t=e.active,n=e.blogMenuSettings,r=e.handleSaveMenu,a=e.handleSortByDrag,i=e.handleSortByClick,s=e.handleEditMenuItem,c=e.handleDeleteMenuItem,l=n.menuItems,u=n.isChanged,p={"site-settings__wrapper2":!0,"site-settings__wrapper_hidden":!t};return o.createElement("div",{className:M()(p)},o.createElement("div",{className:"site-settings-blog-menu"},o.createElement("h1",{className:"form-title"},"Меню сайта"),o.createElement("div",{className:"form-group"},o.createElement("label",null,"Здесь вы можете создавать, настраивать, а также менять порядок разделов сайта"),o.createElement("div",null,o.createElement(eo.Z,{onClick:function(){s(),window.scrollTo(0,0)},label:"Добавить раздел"})))),o.createElement("div",{className:""},o.createElement(Np(),{onSort:function(e){a(e)},dynamic:!0,className:"sortable-container"},l.map((function(e,t){return"-1"===e.main_widget_id?null:o.createElement(jp.SortableContainer,{key:t,sortData:e,className:"sortable-container__item"},o.createElement("div",null,o.createElement("div",{className:"sortable-container__item-left"},e.title),o.createElement("div",{className:"sortable-container__item-right"},o.createElement(eo.Z,{extraClasses:"sortable-container__item-delete",onClick:function(){c(t)},label:"Удалить"}),o.createElement(eo.Z,{color:"secondary",onClick:function(){s(t),window.scrollTo(0,0)},label:"Настройка"}),o.createElement("div",{className:"sortable-container__item-arrows"},o.createElement("div",{className:"sortable-container__arrow-up",onClick:function(){i(t,"toUp")}}),o.createElement("div",{className:"sortable-container__arrow-down",onClick:function(){i(t,"toDown")}})))))}))),u&&o.createElement("div",{className:"sortable-container__save-actions"},o.createElement(eo.Z,{onClick:r,label:"Сохранить"}),o.createElement(eo.Z,{color:"secondary",onClick:function(){return window.location.reload()},label:"Отменить"}))))}}]),a}(o.Component);Vp.propTypes={active:j().bool,handleSaveMenu:j().func,handleSortByDrag:j().func,handleSortByClick:j().func,blogMenuSettings:j().object,handleDeleteMenuItem:j().func,handleInit:j().func,handleEditMenuItem:j().func};const Wp=(0,i.$j)((function(e){return{blogMenuSettings:e.blogMenuSettings}}),(function(e){return{handleInit:function(){e((function(e,t){var n=t().app;return e({type:"BLOG_MENU_SETTINGS_INIT",menuItems:L()(n,"siteBuilder.mainMenu.items")})}))},handleEditMenuItem:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e(Fp(t))},handleSaveMenu:function(){e(Hp())},handleSortByDrag:function(t){e({type:"BLOG_MENU_SETTINGS_SET_MENU_ITEMS",menuItems:t})},handleSortByClick:function(t,n){e(function(e,t){return function(n,r){var o,a=r().blogMenuSettings.menuItems,i=a.length;o="toUp"===t?0===e?i-1:e-1:e+1===i?0:e+1;var s=a[e];return a[e]=Up({},a[o]),a[o]=Up({},s),n({type:"BLOG_MENU_SETTINGS_SET_MENU_ITEMS",menuItems:a})}}(t,n))},handleDeleteMenuItem:function(t){e(qp(t))}}}))(Vp);var Yp=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.onAddTag,n=e.onDeleteTag,r=e.onSaveMenuItem,a=e.onChangeTab,i=e.onDeleteMenuItem,s=e.onChangeText,c=e.blogMenuSettings,l=e.active,u=e.onChangeInput,p=c.menuItem,d=c.currentIndex,m=c.errors,f=null,h={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!l},_=c.context[xp()(d)?"add":"edit"],g={group1:[{type:"text",name:"title",label:"Заголовок",isRequired:!0}],group2:[{type:"radio",name:"type",label:"Cписок постов",initVal:"posts"},{type:"radio",name:"type",label:"Текстовый раздел",initVal:"page"},{type:"radio",name:"type",label:"Ссылка на страницу",initVal:"url"}],group3:[{type:"text",name:"url",label:"Адрес страницы",isRequired:!0,labelMuted:o.createElement(o.Fragment,null,"Ссылка на внешнюю страницу. Например: https://www.youtube.com/")}],group4:[{type:"textarea",rows:3,name:"seoDescription",label:"Описание раздела"}],group5:[{type:"textarea",rows:3,name:"seoKeywords",label:"Ключевые слова раздела"}],group6:[{type:"textarea",rows:3,name:"seoTitle",label:"Название раздела"}]};return"posts"===p.type?(g.group3[0].labelMuted=o.createElement(o.Fragment,null,"Идентификатор внутренней страницы вашего сайта. Например: st-petersburg, cookies, sport, moon..."),f=o.createElement("div",{className:"form-group"},o.createElement("label",null,"Фильтр по категориям"),o.createElement("p",{className:"form-text text-muted"},"Список категорий через запятую, в разрезе которых будет отображаться содержимое блока. Пустой список - фильтр выключен."),o.createElement("div",{className:"form-group"},o.createElement("label",null,"Контент, только содержащий ключевые слова:"),o.createElement(Ql(),{tags:p.tags.map((function(e){return{id:e,name:e}})),allowNew:!0,allowBackspace:!1,onDelete:function(e){return n(e,"tags")},onAddition:function(e){return t(e,"tags")},autofocus:!1,placeholderText:"Новый тег...",delimiters:["Enter","Tab",","],delimiterChars:[","]})),o.createElement("div",{className:"form-group"},o.createElement("label",null,"Всё, кроме контента, содержащего ключевые слова:"),o.createElement(Ql(),{tags:p.stop_tags.map((function(e){return{id:e,name:e}})),allowNew:!0,allowBackspace:!1,onDelete:function(e){return n(e,"stop_tags")},onAddition:function(e){return t(e,"stop_tags")},autofocus:!1,placeholderText:"Новый тег...",delimiters:["Enter","Tab",","],delimiterChars:[","]})))):"page"===p.type&&(g.group3[0].labelMuted=o.createElement(o.Fragment,null,"Идентификатор внутренней страницы вашего сайта. Например: st-petersburg, cookies, sport, moon..."),f=o.createElement("div",{className:"form-group"},o.createElement("label",null,"Содержание страницы:"),o.createElement(B.ML,{initialValue:p.html,init:{min_height:350,max_height:700,toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent blockquote | paste | removeformat | image code"},onChange:s}))),o.createElement("div",{className:M()(h)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"number"==typeof p.itemId?"".concat(_.title," ").concat(p.title):_.title),o.createElement("div",{className:"form-section form-section_top"},o.createElement(B.dU,{error:m[g.group1[0].name],input:g.group1[0],value:p[g.group1[0].name],onChangeHandle:u}),o.createElement("div",{className:"form-group"},o.createElement("label",null,"Тип раздела"),g.group2.map((function(e,t){return o.createElement(B.dU,{error:m[e.name],key:t,input:e,value:p[e.name],onChangeHandle:u})}))),o.createElement(B.dU,{error:m[g.group3[0].name],input:g.group3[0],value:p[g.group3[0].name],onChangeHandle:u}),f),wr.isDeveloper()&&"url"!==p.type&&o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group yellow-form"},o.createElement("label",null,"Настройки SEO"),o.createElement(B.dU,{error:m[g.group6[0].name],input:g.group6[0],value:p[g.group6[0].name],onChangeHandle:u}),o.createElement(B.dU,{error:m[g.group4[0].name],input:g.group4[0],value:p[g.group4[0].name],onChangeHandle:u}),o.createElement(B.dU,{error:m[g.group5[0].name],input:g.group5[0],value:p[g.group5[0].name],onChangeHandle:u}))),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:function(e){e.preventDefault(),r()},label:_.saveButton}),o.createElement(eo.Z,{color:"secondary",onClick:function(){a("menu"),window.scrollTo(0,0)},label:"Отменить"}),d?o.createElement(eo.Z,{extraClasses:"site-settings__back-btn right",onClick:function(){return i(d)},label:"Удалить раздел"}):null))))}}]),a}(o.Component);Yp.propTypes={active:j().bool,blogMenuSettings:j().object,onAddTag:j().func,onChangeInput:j().func,onDeleteTag:j().func,onSaveMenuItem:j().func,onDeleteMenuItem:j().func,onChangeTab:j().func,errors:j().any,onChangeText:j().func,handleTogglePopup:j().func};const Kp=(0,i.$j)((function(e){return{blogMenuSettings:e.blogMenuSettings}}),(function(e){return{onChangeTab:function(t){e(Zo(t))},onChangeInput:function(t){var n;e((n=t,function(e,t){var r=t().blogMenuSettings,o=r.menuItem,a=r.errors,i=n.target,s=i.name,c=i.value;a[s]=void 0,o[s]=c,e({type:"BLOG_MENU_SETTINGS_CHANGE_VALUE",errors:a,menuItem:o})}))},onDeleteTag:function(t,n){e(function(e,t){return function(n,r){var o=r().blogMenuSettings.menuItem;o[t]=o[t].filter((function(t,n){return n!==e})),n({type:"BLOG_MENU_SETTINGS_CHANGE_VALUE",menuItem:o})}}(t,n))},onAddTag:function(t,n){e(function(e,t){return function(n,r){var o=r().blogMenuSettings.menuItem;o[t].push(e.name),n({type:"BLOG_MENU_SETTINGS_CHANGE_VALUE",menuItem:o})}}(t,n))},onSaveMenuItem:function(){e(function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u,p,d,m,f,h,_,g,v,y;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),o=r.blogDomain,a=r.app,i=r.blogMenuSettings,s=i.menuItems,c=i.menuItem,l=i.currentIndex,Ap()(i),u=a.siteBuilder,p=L()(a,"site.id"),d=Up({},c),m=F()(s),d.title){e.next=12;break}return t(Zp({title:"Заголовок не может быть пустым"})),e.abrupt("return");case 12:if(d.url){e.next=15;break}return t(Zp({url:"Адрес страницы не может быть пустым"})),e.abrupt("return");case 15:if(f=new(co())(d.url)){e.next=19;break}return t(Zp({url:"Проверьте формат адреса страницы"})),e.abrupt("return");case 19:if("url"===d.type||!d.url.match(/^http[s]?|^[\/]{2}/)){e.next=22;break}return t(Zp({url:"Не используйте ссылки href://youtube.com/... в качестве идентификатора страницы"})),e.abrupt("return");case 22:if("url"===d.type?(h=f.href,(o.thirdLevel||[]).map((function(e){e.domain.toLowerCase()===f.hostname&&(h=f.pathname+f.query+f.hash)})),d.url=h):d.url="/_/"+d.url.replace(/^\//,""),_=d.tags.map((function(e){return e.trim()})).filter((function(e){return e&&e.length>0})).join(","),g=d.stop_tags.map((function(e){return e.trim()})).filter((function(e){return e&&e.length>0})).join(","),d.tags=_,d.stop_tags=g,xp()(l)?m.push(d):m[l]=d,u.mainMenu.items=m,"page"!==d.type){e.next=36;break}return y={pageId:d.main_widget_id||null,pageTitle:d.title,pageUrl:d.url,pageHtml:B.E6.toBase64(d.html),seoDescription:d.seoDescription,seoKeywords:d.seoKeywords,seoTitle:d.seoTitle},e.next=33,ho.setStaticPage(p,y);case 33:v=e.sent,e.next=39;break;case 36:return e.next=38,Promise.resolve(ho.setServerConfig(p,u));case 38:v=e.sent;case 39:t(Gp(v)),e.next=46;break;case 42:e.prev=42,e.t0=e.catch(0),B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler(Lp)(e.t0);case 46:case"end":return e.stop()}}),e,null,[[0,42]])})));return function(t,n){return e.apply(this,arguments)}}())},onDeleteMenuItem:function(t){e(qp(t)),e(Hp())},onChangeText:function(t){e(function(e){return{html:e.target.getContent(),type:"BLOG_MENU_SETTINGS_CHANGE_HTML"}}(t))}}}))(Yp);function zp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zp(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jp=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleChangeInput",(function(t,n){var r=e.props.handleChangeInput,o=e.props.siteSettings.activeTab,a=t.target;r(o,n,a?"checkbox"===a.type?a.checked:"true"===a.value||"false"===a.value?JSON.parse(a.value):a.value:t)})),k()(y()(e),"handleChangeTab",(function(t){(0,e.props.handleChangeTab)(t)})),k()(y()(e),"handleSaveSettings",(function(t){t.preventDefault(),(0,e.props.handleSaveSettings)(e.props.siteSettings.activeTab)})),k()(y()(e),"handleBeforeUnload",(function(t){var n=e.props.siteSettings.sections,r=!1;return Object.keys(n).map((function(e){n[e].changed&&(r=!0)})),!r||((t||window.event).returnValue=null,null)})),k()(y()(e),"containers",{about:qu,permissions:Gu,analytics:Wu,menu:Wp,autoresponder:vp,menuEditor:Kp,vk:Ku,rssFeed:$u,rssEditor:Cp,rssImport:Tp,smi2:tp,html:xu,domain:fp,notifications:rp,adSettings:ap,adFox:_p,robots:Qu}),e}return g()(a,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.handleBeforeUnload)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.handleBeforeUnload)}},{key:"render",value:function(){var e=this,t=this.props.siteSettings,n=t.data,r=t.sections,a=t.activeTab,i=t.errors,s=t.valid,c=this.props.app,l=this.containers;return o.createElement("div",{className:"site-settings"},Object.keys(r).map((function(t){var u=r[t],p=l[t];return!p||u.forDevs&&!wr.isDeveloper()?null:o.createElement(o.Fragment,{key:t},"adFox"===t&&o.createElement(p,{key:t,active:t===a,data:n[t],blockData:$p({},n[t][r[t].selectedAdBlock]),selectedAdBlock:r[t].selectedAdBlock,valid:s,errors:i,onChangeInput:e.handleChangeInput,onChangeTab:e.handleChangeTab,onSaveSettings:e.handleSaveSettings,isDev:wr.isDeveloper(),app:c}),"adFox"!==t&&o.createElement(p,{key:t,active:t===a,data:n[t],valid:s,errors:i,onChangeInput:e.handleChangeInput,onChangeTab:e.handleChangeTab,onSaveSettings:e.handleSaveSettings,isDev:wr.isDeveloper(),app:c}))})))}}]),a}(o.Component);Jp.propTypes={handleChangeInput:j().func,handleChangeTab:j().func,handleSaveSettings:j().func,app:j().object,siteSettings:j().object};const Xp=(0,i.$j)((function(e){return{siteSettings:e.siteSettings,app:e.app}}),(function(e){return{handleChangeInput:function(t,n,r){e(Go(t,n,r))},handleChangeTab:function(t){e(Zo(t))},handleSaveSettings:function(t){e(Vo(t))}}}))((0,B.Pf)(Jp,"siteSetting"));var Qp=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props.staticPage,t=e.html,n=e.title;return o.createElement("div",{className:"static-page"},o.createElement("h1",{className:"static-page__title"},n),o.createElement("div",{className:"static-page__content",dangerouslySetInnerHTML:{__html:t}}))}}]),a}(o.Component);Qp.propTypes={staticPage:j().object,app:j().object};const ed=(0,i.$j)((function(e){return{staticPage:e.staticPage,app:e.app}}),(function(){return{}}))((0,B.Pf)(Qp,"staticPage"));var td="/index.js",nd={},rd=function(e){var t;return null===(t=e[e.length-1])||void 0===t?void 0:t.id},od={type:"BLOG_COMMENT_PAGE_HIDE_MODAL"};var ad=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"componentDidMount",value:function(){(0,this.props.handleInitializeLongPool)()}},{key:"getCommentImage",value:function(e){return L()(e,"images[0].url")}},{key:"render",value:function(){var e=this,t=this.props,n=t.blogCommentPage,r=t.onShowMoreComments,a=n.items,i=n.hasMoreItems,s=n.page,c=o.createElement("div",{className:"blog-post-list__loader"},o.createElement("img",{src:"//static.mtml.ru/images/loader.svg",alt:"Загружается..."}));return o.createElement(B.v_,{pageStart:0,loadMore:function(){if(i)return r(25+25*(s-1),25)},hasMore:i,loader:c,threshold:400},o.createElement("div",{className:"comment-list"},a.length<1&&!i&&o.createElement("article",{className:"blog-post blog-post__no-posts",key:0},"Здесь пока ничего нет"),a.map((function(t,n){var r,a,i,s,c,l,u,p=e.getCommentImage(t);return o.createElement(rc,{key:n,className:"comment"},o.createElement("div",{className:"comment_header"},o.createElement("div",{className:"comment_header__info"},o.createElement(B.kc,{className:"comment_header__user",userId:null===(r=t.user)||void 0===r?void 0:r.id,tagName:"span"},o.createElement(B.Hl,{logoInfo:{userName:null===(a=t.user)||void 0===a?void 0:a.display_name,logoImg:null===(i=t.user)||void 0===i?void 0:i.photo_original,logoUrl:"//mirtesen.ru/people/".concat(null===(s=t.user)||void 0===s?void 0:s.id),linkTarget:"_blank",logoClassName:"userlogo_s"}}),o.createElement("span",{className:"comment_header__user__name"},o.createElement("a",{href:"//mirtesen.ru/people/".concat(null===(c=t.user)||void 0===c?void 0:c.id),target:"_blank"},null===(l=t.user)||void 0===l?void 0:l.display_name))),o.createElement("a",{href:"/comments/".concat(t.id,"/page"),className:"comment_header__date"},o.createElement(B.h,{date:t.date,format:"D MMMM, H:mm"})))),o.createElement("div",{onClick:function(){var e;window.location.href=null===(e=t.blog_post)||void 0===e?void 0:e.seo_url},className:"comment_content"},t.show_raw?o.createElement("span",{className:"comment_content__text",dangerouslySetInnerHTML:{__html:t.text}}):o.createElement("span",{className:"comment_content__text"},t.text),p&&o.createElement(B.BH,{src:p,className:"comment_content__image"}),o.createElement("span",{className:"comment_content__post-title"},null===(u=t.blog_post)||void 0===u?void 0:u.title)))}))))}}]),a}(o.Component);ad.propTypes={blogCommentPage:j().object,onShowMoreComments:j().func,handleHidePopover:j().func,onAbuseUser:j().func,onDeleteComment:j().func,onBanUser:j().func,handleCloseInteractivePopup:j().func,onRestoreComment:j().func,handleInitializeLongPool:j().func};const id=(0,i.$j)((function(e){return{blogCommentPage:e.blogCommentPage,auth:e.auth}}),(function(e){return{onShowMoreComments:function(t,n){e(function(e){return function(t,n){var r=n(),o=r.app.site.id,a=r.blogCommentPage.page,i=r.blogCommentPage.items;Promise.resolve(B.PU.getLastBlogComments({siteId:o,count:e,fromMessageId:rd(i)})).then((function(e){return t({type:"BLOG_COMMENT_PAGE_GET",items:[].concat(F()(r.blogCommentPage.items),F()(e.items)),page:a+1,hasMoreItems:e.items.length>=25})})).catch(B.qL.promiseHandler(td))}}(t))},handleHidePopover:function(){e(od)},onAbuseUser:function(t){e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){B.Nw.abuseUser(e).then((function(e){e&&"undefined"!==e&&n({type:"BLOG_COMMENT_PAGE_ABUSE_USER",commentId:t})})).catch(B.qL.promiseHandler(td))}}(t))},onDeleteComment:function(t,n){e(function(e,t){return function(n,r){var o=-1*r().app.site.id;B.PU.deleteComment(1,o,t,e).then((function(t){t&&"undefined"!==t&&n({type:"BLOG_COMMENT_PAGE_DELETE_COMMENT",commentId:e})})).catch(B.qL.promiseHandler(td))}}(t,n))},onBanUser:function(t,n,r){e(function(e,t,n){return function(r,o){var a=o().app.site.id;(new B.Vp).banUser(e,a,n).then((function(e){e&&"undefined"!==e&&r({type:"BLOG_COMMENT_PAGE_BAN_USER",commentId:t})})).catch(B.qL.promiseHandler(td))}}(t,n,r))},handleCloseInteractivePopup:function(t,n){e(function(e,t){return{type:"BLOG_COMMENT_PAGE_CLOSE_INTERACTIVE_POPUP",popupSort:e,commentId:t}}(t,n))},onRestoreComment:function(t){e(function(e){return function(t){B.PU.restoreComment(e).then((function(n){n&&"undefined"!==n&&t({type:"BLOG_COMMENT_PAGE_CLOSE_INTERACTIVE_POPUP",popupSort:"isDeleted",commentId:e})})).catch(B.qL.promiseHandler(td))}}(t))},handleInitializeLongPool:function(){e((function(e,t){var n=t().app.site.id,r="comments_".concat(n);nd[r]||"undefined"==typeof window||(nd[r]=!0,"development"!==vn().mode&&B.x0.subscribe(r,(function(){e((function(e,t){var n=t().app.site.id;Promise.resolve(B.PU.getLastBlogComments({id:n,count:1})).then((function(t){e({type:"BLOG_COMMENT_PAGE_NEW_COMMENT",comments:t.items})})).catch(B.qL.promiseHandler(td))}))})))}))}}}))((0,B.Pf)(ad,"cpmmentsList"));var sd=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleToggleStatus",(function(t){var n=e.props.onSaveSettings,r="STATUS_ACTIVE"===t.status?"STATUS_PENDING":"STATUS_ACTIVE";n({id:t.id,update:!0,status:r},"item")})),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.currentBalance,a=t.spentBalance,i=t.groupItem,s=t.blogpostItems,c=t.onItemForm,l=t.onItemAddForm,u=t.onDepositForm,p={"promotion-settings__wrapper":!0,"promotion-settings__wrapper_hidden":!n},d={"promotion-settings__balance__header__title":!0,"promotion-settings-status":!0,"promotion-settings-status__active":"STATUS_ACTIVE"===i.status,"promotion-settings-status__inactive":"STATUS_ACTIVE"!==i.status};return o.createElement("div",{className:M()(p)},o.createElement("div",{className:"promotion-settings__section"},o.createElement("h1",{className:"promotion-settings__section__title"},"Общие настройки сайта"),o.createElement("div",{className:"promotion-settings__group2"},o.createElement("div",{className:"promotion-settings__group2__col-6"},o.createElement("div",{className:"promotion-settings__balance__header"},o.createElement("div",{className:"promotion-settings__balance__header__title"},"Баланс"),o.createElement("div",{className:"promotion-settings__balance__header__form"},o.createElement(eo.Z,{color:"secondary",type:"button",onClick:function(){return u()},label:"Пополнить"}))),o.createElement("div",{className:"promotion-settings__balance__value"},r.toFixed(2)," кр."),o.createElement("div",{className:"promotion-settings__balance__info"},o.createElement("div",{className:"promotion-settings__balance__info__title"},"Потрачено:"),o.createElement("div",{className:"promotion-settings__balance__info__content"},o.createElement("span",null,"Всего:")," ",a.toFixed(2)," кр."))),o.createElement("div",{className:"promotion-settings__group2__col-6"},o.createElement("div",{className:"promotion-settings__balance__header"},o.createElement("div",{className:M()(d)},"STATUS_ACTIVE"===i.status?"Активен":"Неактивен"),o.createElement("div",{className:"promotion-settings__balance__header__form"},o.createElement(eo.Z,{color:"secondary",type:"button",onClick:function(){c(i)},label:"Настроить"}))),o.createElement("div",{className:"promotion-settings-info"},o.createElement("table",null,o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",null,"Общий лимит"),o.createElement("td",null,i.fullClicksLimit)),o.createElement("tr",null,o.createElement("td",null,"Суточный лимит"),o.createElement("td",null,i.dayClicksLimit)),o.createElement("tr",null,o.createElement("td",null,"Стоимость перехода"),o.createElement("td",null,i.clickPrice)))))))),o.createElement("div",{className:"promotion-settings__section"},o.createElement("h1",{className:"promotion-settings__section__title"},"Объекты продвижения"),o.createElement("div",{className:"promotion-settings-actionsbar"},o.createElement("div",{className:"promotion-settings-actionsbar__status"}),o.createElement("div",{className:"promotion-settings-actionsbar__add"},o.createElement(eo.Z,{type:"button",onClick:function(){return l()},label:"Добавить объект"}))),s.length>0&&o.createElement("table",{className:"promotion-settings__table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Объект"),o.createElement("th",null,"Статус"),o.createElement("th",null,"Клики"),o.createElement("th",null,"Ротация"))),o.createElement("tbody",null,s.map((function(t,n){return o.createElement("tr",{key:n},o.createElement("td",null,t.title),o.createElement("td",null,o.createElement("div",{className:"STATUS_ACTIVE"===t.status?"promotion-settings-status promotion-settings-status__active":"promotion-settings-status promotion-settings-status__inactive"})),o.createElement("td",null,t.fullClicks),o.createElement("td",null,o.createElement("div",{className:"promotion-settings-tooltip-placeholder"},t.inRotation?"Да":"Нет"),o.createElement("div",{className:"promotion-settings-tooltip"},o.createElement("button",{type:"button",className:"promotion-settings-tooltip__button"},o.createElement("span",null),o.createElement("span",null),o.createElement("span",null)),o.createElement("div",{className:"promotion-settings-tooltip__list"},o.createElement("div",{className:"promotion-settings-tooltip__list__wrap"},o.createElement("span",{onClick:function(){c(t)}},"Настроить"),t.canChangeStatus&&o.createElement("span",{onClick:function(){e.handleToggleStatus(t)}},"STATUS_ACTIVE"===t.status?"Остановить ротацию":"Запустить ротацию"))))))}))))))}}]),a}(o.Component);sd.propTypes={currentBalance:j().number,spentBalance:j().number,groupItem:j().object,blogpostItems:j().array,user:j().object,onItemForm:j().func,onItemAddForm:j().func,onDepositForm:j().func,onSaveSettings:j().func,active:j().bool,errors:j().any};const cd=(0,i.$j)((function(e){return{currentBalance:e.promotion.data.settings.currentBalance,spentBalance:e.promotion.data.settings.spentBalance,groupItem:e.promotion.data.settings.groupItem,blogpostItems:e.promotion.data.settings.blogpostItems,user:e.auth.user}}),null)(sd);n(82481),n(43290);var ld=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,r=e.type,a=e.value,i=e.onChange,s=e.onClick,c=e.error,l=e.label,u=e.min,p=e.max,d=e.multiple,m=e.children,f=null==a?void 0:a+"",h={"promotion-settings-input":!0,"is-invalid":!!c,"is-empty":!f,"is-no-label":!l},_={className:"form-control",type:r,name:n,value:f,id:t,onChange:i,onClick:s,multiple:d,required:"text"===r};return o.createElement("div",{className:M()("form-group",h),onClick:s},m?o.createElement("select",_,m):o.createElement("input",Fr()({min:u,max:p},_)),o.createElement("label",{className:"promotion-settings-input-label promotion-settings-input-label-default",htmlFor:t},l),o.createElement("div",{className:"promotion-settings-input-label promotion-settings-input-label-error"},c))}}]),a}(o.Component);k()(ld,"propTypes",{id:j().string,name:j().string,type:j().string,value:j().oneOfType([j().string,j().number]),onChange:j().func,onClick:j().func,error:j().string,label:j().string,min:j().number,max:j().number,multiple:j().bool,children:j().node});const ud=ld;function pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pd(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var md=(0,B.oM)((function(){return Promise.all([n.e(186).then(n.t.bind(n,9198,23)),n.e(202).then(n.bind(n,44308))]).then((function(e){return ir()(e,1)[0]}))}),"reactDatepicker"),fd=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleChangeTimeTargeting",(function(t,n,r){var o=e.props,a=o.data,i=o.onChangeInput,s=(a.targetTime||e.targetTimeDefault).split(""),c=s.length,l=r?"1":"0";if(null===t&&null===n)for(var u=0;u<c;u++)s[u]=l;else if(null===n)for(var p=0;p<7;p++)s[24*p+t]=l;else if(null===t)for(var d=0;d<24;d++)s[24*n+d]=l;else s[24*n+t]=l;(s=s.join(""))===e.targetTimeDefault&&(s=null),i(s,"targetTime")})),k()(y()(e),"handleChangeDate",(function(t,n){var r=c()(t);(0,e.props.onChangeInput)(r?r.tz(c().tz.guess()).format("YYYY-MM-DD"):null,n)})),k()(y()(e),"handleChangeGeo",(function(t){for(var n=e.props.onChangeInput,r=t.target.options,o=[],a=0,i=r.length;a<i;a++)r[a].selected&&o.push(parseInt(r[a].value,10));n(o,"targetGeoIds")})),k()(y()(e),"handleToggleStatus",(function(){var t=e.props,n=t.data,r=t.onSaveSettings,o="STATUS_ACTIVE"===n.status?"STATUS_PENDING":"STATUS_ACTIVE";r({id:n.id,update:!0,status:o})})),k()(y()(e),"handleSaveSettings",(function(){var t=e.props,n=t.data;(0,t.onSaveSettings)(dd(dd({},n),{},{update:!0}))})),k()(y()(e),"targetTime",{days:["ПН","ВТ","СР","ЧТ","ПТ","СБ","ВС"],time:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"]}),k()(y()(e),"targetTimeDefault","0".repeat(168)),k()(y()(e),"clickPriceDev",[.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,2,2.5,3,5]),k()(y()(e),"clickPrice",[.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5]),k()(y()(e),"targetGeoIds",{60095249758:"Россия",60318322607:"Украина",60138331168:"Москва",60933422037:"Москва и Московская область",60740971752:"Санкт-Петербург",60964044601:"Новосибирск",60254672793:"Владивосток",60863991638:"Воронеж",60187117450:"Екатеринбург",60268058388:"Иркутск",60559502376:"Йошкар-Ола",60204165110:"Калининград",60087064487:"Краснодар",60417845940:"Красноярск",60602640584:"Красноярский край",60640918789:"Саратов",60878151208:"Сочи",60310137336:"Тольятти",60851717696:"Томск",60748627393:"Уфа",60426661222:"Хабаровск",60302481695:"Челябинск",60334215912:"Ярославль",60520040329:"Крым",60734905001:"Севастополь"}),k()(y()(e),"targetIsMale",[[null,"Не важно"],[!0,"Мужской"],[!1,"Женский"]]),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.data,a=t.user,i=t.errors,s=t.onChangeInput,l=t.onChangeTab,u=this.targetTime,p=u.time,d=u.days,m={"promotion-settings__wrapper":!0,"promotion-settings__wrapper_hidden":!n},f={"promotion-settings-statusbar":!0,active:"STATUS_ACTIVE"===r.status,inactive:"STATUS_ACTIVE"!==r.status},h={"promotion-settings-statusbar__status":!0,"promotion-settings-status":!0,"promotion-settings-status__active":"STATUS_ACTIVE"===r.status,"promotion-settings-status__inactive":"STATUS_ACTIVE"!==r.status},_=a&&a.isDeveloper?this.clickPriceDev:this.clickPrice,g=r.targetTime||this.targetTimeDefault;return o.createElement("div",{className:M()(m)},o.createElement("form",null,o.createElement("div",{className:"promotion-settings__section"},o.createElement("h1",{className:"promotion-settings__section__title"},r.title),o.createElement("div",{className:M()(f)},o.createElement("div",{className:M()(h)},"STATUS_ACTIVE"===r.status?"Активен":"Неактивен"),r.canChangeStatus&&o.createElement("div",{className:"promotion-settings-statusbar__submit"},o.createElement(eo.Z,{type:"button",onClick:this.handleToggleStatus,label:"STATUS_ACTIVE"===r.status?"Остановить ротацию":"Запустить ротацию"})))),o.createElement("div",{className:"promotion-settings__section"},o.createElement("h1",{className:"promotion-settings__section__title"},"Общие настройки"),o.createElement("h2",{className:"promotion-settings__section__subtitle"},"Дата проведения"),o.createElement("div",{className:"promotion-settings__group"},o.createElement("div",{className:"promotion-settings__group__input-6"},o.createElement(md,{dateFormat:"dd.MM.yyyy",onChange:function(t){return e.handleChangeDate(t,"dateStart")},selected:r.dateStart&&c()(r.dateStart,"YYYY-MM-DD").toDate()||void 0,customInput:o.createElement(ud,{id:"dateStart",name:"dateStart",type:"text",label:"Дата старта"})})),o.createElement("div",{className:"promotion-settings__group__input-6"},o.createElement(md,{dateFormat:"dd.MM.yyyy",onChange:function(t){return e.handleChangeDate(t,"dateEnd")},selected:r.dateEnd&&c()(r.dateEnd,"YYYY-MM-DD").toDate()||void 0,customInput:o.createElement(ud,{id:"dateEnd",name:"dateEnd",type:"text",label:"Дата окончания"})}))),o.createElement("h2",{className:"promotion-settings__section__subtitle"},"Лимиты"),o.createElement("div",{className:"promotion-settings__group"},o.createElement("div",{className:"promotion-settings__group__input-6"},o.createElement(ud,{id:"fullClicksLimit",name:"fullClicksLimit",type:"text",value:r.fullClicksLimit,error:i.fullClicksLimit,onChange:function(e){s(e,"fullClicksLimit","int")},label:"Общий лимит"})),o.createElement("div",{className:"promotion-settings__group__input-6"},o.createElement(ud,{id:"dayClicksLimit",name:"dayClicksLimit",type:"text",value:r.dayClicksLimit,error:i.dayClicksLimit,onChange:function(e){s(e,"dayClicksLimit","int")},label:"Cуточный лимит"}))),o.createElement("h2",{className:"promotion-settings__section__subtitle"},"Стоимость"),o.createElement("div",{className:"promotion-settings__group"},o.createElement("div",{className:"promotion-settings__group__input-6"},o.createElement(ud,{id:"clickPrice",name:"clickPrice",type:"select",error:i.clickPrice,onChange:function(e){s(e,"clickPrice","float")},label:"Цена за переход"},_.map((function(e){return o.createElement("option",{key:e,value:e,selected:r.clickPrice===e&&"selected"},e.toFixed(2))})),-1===_.indexOf(r.clickPrice)&&o.createElement("option",{value:r.clickPrice,selected:"selected"},r.clickPrice))))),o.createElement("div",{className:"promotion-settings__section"},o.createElement("h1",{className:"promotion-settings__section__title"},"UTM-метки"),o.createElement("h2",{className:"promotion-settings__section__subtitle"},"Настройка utm-меток"),o.createElement("div",{className:"promotion-settings__group3"},o.createElement("div",{className:"promotion-settings__group3__input-4"},o.createElement(ud,{id:"utmSource",name:"utmSource",type:"text",value:r.utmSource,error:i.utmSource,onChange:function(e){s(e,"utmSource")},label:"utm_source"})),o.createElement("div",{className:"promotion-settings__group3__input-4"},o.createElement(ud,{id:"utmMedium",name:"utmMedium",type:"text",value:r.utmMedium,error:i.utmMedium,onChange:function(e){s(e,"utmMedium")},label:"utm_medium"})),o.createElement("div",{className:"promotion-settings__group3__input-4"},o.createElement(ud,{id:"utmCampaign",name:"utmCampaign",type:"text",value:r.utmCampaign,error:i.utmCampaign,onChange:function(e){s(e,"utmCampaign")},label:"utm_campaign"})))),o.createElement("div",{className:"promotion-settings__section"},o.createElement("h1",{className:"promotion-settings__section__title"},"Настройки таргетинга"),o.createElement("h2",{className:"promotion-settings__section__subtitle"},"Геотаргетинг"),o.createElement("div",{className:"promotion-settings__group"},o.createElement("div",{className:"promotion-settings__group__input"},o.createElement(ud,{id:"targetGeoIds",name:"targetGeoIds",type:"select",error:i.targetIsMale,onChange:this.handleChangeGeo,multiple:!0},Object.keys(this.targetGeoIds).map((function(t){return o.createElement("option",{key:t,value:t,selected:!!r.targetGeoIds&&-1!==r.targetGeoIds.indexOf(parseInt(t,10))&&"selected"},e.targetGeoIds[t])}))))),o.createElement("h2",{className:"promotion-settings__section__subtitle"},"Демография"),o.createElement("div",{className:"promotion-settings__group3"},o.createElement("div",{className:"promotion-settings__group3__input-4"},o.createElement(ud,{id:"targetIsMale",name:"targetIsMale",type:"select",error:i.targetIsMale,onChange:function(e){s(e,"targetIsMale","boolean")},label:"Пол"},this.targetIsMale.map((function(e,t){return o.createElement("option",{key:t,value:null===e[0]?"":e[0],selected:r.targetIsMale===e[0]&&"selected"},e[1])})))),o.createElement("div",{className:"promotion-settings__group3__input-4"},o.createElement(ud,{id:"targetAgeMin",name:"targetAgeMin",type:"text",value:r.targetAgeMin,error:i.targetAgeMin,onChange:function(e){s(e,"targetAgeMin","int")},label:"Возраст от"})),o.createElement("div",{className:"promotion-settings__group3__input-4"},o.createElement(ud,{id:"targetAgeMax",name:"targetAgeMax",type:"text",value:r.targetAgeMax,error:i.targetAgeMax,onChange:function(e){s(e,"targetAgeMax","int")},label:"Возраст до"}))),o.createElement("h2",{className:"promotion-settings__section__subtitle"},"Календарь"),o.createElement("table",{className:"promotion-settings__timetable"},o.createElement("tbody",null,d.map((function(t,n){return o.createElement("tr",{key:"row-".concat(n)},o.createElement("td",null,t),o.createElement("td",{className:"promotion-settings__timetable__all-hours"},o.createElement("label",null,o.createElement("input",{type:"checkbox",checked:Array(p.length).fill(0).every((function(e,t){return"1"===g[24*n+t]})),onChange:function(t){return e.handleChangeTimeTargeting(null,n,t.target.checked)}}),o.createElement("span",null))),p.map((function(t,r){return o.createElement("td",{className:"promotion-settings__timetable__cell",key:"".concat(n,"-").concat(r)},o.createElement("label",null,o.createElement("input",{type:"checkbox",checked:"1"===g[24*n+r],onChange:function(t){return e.handleChangeTimeTargeting(r,n,t.target.checked)}}),o.createElement("span",null)))})))})),o.createElement("tr",null,o.createElement("td",null),o.createElement("td",null),p.map((function(t,n){return o.createElement("td",{className:"promotion-settings__timetable__all-days",key:"all-"+n},o.createElement("label",null,o.createElement("input",{type:"checkbox",checked:Array(d.length).fill(0).every((function(e,t){return"1"===g[24*t+n]})),onChange:function(t){return e.handleChangeTimeTargeting(n,null,t.target.checked)}}),o.createElement("span",null)))}))),o.createElement("tr",null,o.createElement("td",null),o.createElement("td",null),p.map((function(e,t){return o.createElement("td",{key:"all-".concat(t)},e)})))))),o.createElement("div",{className:"promotion-settings__submit"},o.createElement(eo.Z,{onClick:this.handleSaveSettings,label:"Сохранить"}),o.createElement(eo.Z,{color:"secondary",type:"button",onClick:function(){return l("settings")},label:"Отмена"}))))}}]),a}(o.Component);fd.propTypes={data:j().object,user:j().object,onChangeInput:j().func,onSaveSettings:j().func,onChangeTab:j().func,active:j().bool,errors:j().any};const hd=(0,i.$j)((function(e){return{data:e.promotion.data.item,user:e.auth.user}}),null)(fd);var _d=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleSaveSettings",(function(){var t=e.props,n=t.data,r=t.onSaveSettings,o=t.onSetFieldsErrors,a=null;if(n.url){var i=n.url.match(/^(https?:)?\/\/[^\/]+\/blog\/(\d{11,18})(\/.*|$)/i);i&&(a=parseInt(i[2],10))}a?r({id:a,update:!1,status:"STATUS_PENDING"},"item"):o({id:"Неправильный адрес"})})),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.data,r=e.errors,a=e.onChangeInput,i=e.onChangeTab,s={"promotion-settings__wrapper":!0,"promotion-settings__wrapper_hidden":!t};return o.createElement("div",{className:M()(s)},o.createElement("form",null,o.createElement("div",{className:"promotion-settings__section"},o.createElement("h1",{className:"promotion-settings__section__title"},"Добавление нового объекта"),o.createElement("div",{className:"promotion-settings__group"},o.createElement("div",{className:"promotion-settings__group__input"},o.createElement(ud,{id:"url",name:"url",type:"text",value:n.url||"",error:r.id,onChange:function(e){a(e,"url")},label:"URL-адрес"})))),o.createElement("div",{className:"promotion-settings__submit"},o.createElement(eo.Z,{type:"button",onClick:this.handleSaveSettings,label:"Далее"}),o.createElement(eo.Z,{color:"secondary",type:"button",onClick:function(){return i("settings")},label:"Отмена"}))))}}]),a}(o.Component);_d.propTypes={data:j().object,onChangeInput:j().func,onSaveSettings:j().func,onSetFieldsErrors:j().func,onChangeTab:j().func,active:j().bool,errors:j().any};const gd=(0,i.$j)((function(e){return{data:e.promotion.data.itemAdd}}),null)(_d);var vd=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleSaveSettings",(function(){var t=e.props,n=t.value;(0,t.handleAddBalance)(n)})),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.value,r=e.onChangeInput,a=e.onChangeTab,i={"promotion-settings__wrapper":!0,"promotion-settings__wrapper_hidden":!t};return o.createElement("div",{className:M()(i)},o.createElement("form",null,o.createElement("div",{className:"promotion-settings__section"},o.createElement("h1",{className:"promotion-settings__section__title"},"Пополнение баланса"),o.createElement("div",{className:"promotion-settings__group"},o.createElement("div",{className:"promotion-settings__group__input"},o.createElement(ud,{id:"deposit",name:"deposit",type:"text",value:n||"",onChange:function(e){r(e,"value")},label:"Сумма"})))),o.createElement("div",{className:"promotion-settings__submit"},o.createElement(eo.Z,{type:"button",onClick:this.handleSaveSettings,label:"Далее"}),o.createElement(eo.Z,{color:"secondary",type:"button",onClick:function(){return a("settings")},label:"Отмена"}))))}}]),a}(o.Component);vd.propTypes={value:j().string,onChangeInput:j().func,handleAddBalance:j().func,onChangeTab:j().func,active:j().bool};const yd=(0,i.$j)((function(e){return{value:e.promotion.data.deposit.value}}),(function(e){return{handleAddBalance:function(t){e(function(e){return function(t,n){var r=n().app.site.id;Promise.all([Za.refillSiteAdBalance(r,e)]).then((function(e){var n=ir()(e,1)[0];n.result?window.location.reload():t(ni(n))})).catch((function(e){B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler($a)(e)}))}}(t))}}}))(vd);function bd(e){var t=e.structure;return o.createElement("table",{className:"standard-table table table-striped"},o.createElement("thead",null,o.createElement("tr",null,t.thead.map((function(e,t){return o.createElement("th",{className:"text-".concat(0===t?"left":"right"),key:t},e)})))),o.createElement("tbody",null,t.tbody.map((function(e,t){return o.createElement("tr",{key:t},Object.values(e).map((function(e,t){return o.createElement("th",{className:"text-".concat(0===t?"left":"right"," standard-table__total"),key:t},e)})))}))))}bd.propTypes={structure:j().object};const Ed=bd;var Pd=(0,B.oM)((function(){return Promise.all([n.e(186).then(n.t.bind(n,9198,23)),n.e(202).then(n.bind(n,44308))]).then((function(e){return ir()(e,1)[0]}))}),"reactDatepicker"),Od=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleChangeDate",(function(t,n){var r=c()(t),o=e.props,a=o.promotion,i=o.onChangePeriod,s=a.data.stats;s[n]=r.tz(c().tz.guess()).format("YYYY-MM-DD"),i(s.periodFrom,s.periodTo)})),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.promotion.data.stats,a={"promotion-settings__wrapper":!0,"promotion-settings__wrapper_hidden":!n},i=F()(r.rows);return i.pop(),o.createElement("div",{className:M()(a)},o.createElement("h1",{className:"promotion-settings__section__title"},"Статистика"),o.createElement("div",{className:"stat__pickers"},o.createElement("span",{className:"stat__pickers__picker"},"От: ",o.createElement(Pd,{timeFormat:"HH:mm",timeIntervals:60,dateFormat:"dd.MM.yyyy",timeCaption:"Время",onChange:function(t){return e.handleChangeDate(t,"periodFrom")},selected:c()(r.periodFrom).toDate()})),o.createElement("span",{className:"stat__pickers__picker"},"До: ",o.createElement(Pd,{timeFormat:"HH:mm",timeIntervals:60,dateFormat:"dd.MM.yyyy",timeCaption:"Время",onChange:function(t){return e.handleChangeDate(t,"periodTo")},selected:c()(r.periodTo).toDate()}))),!ms()(r.rows)&&o.createElement(o.Fragment,null,o.createElement("div",{className:"stat__chart-wrapper"},o.createElement(B.Xl,{chartData:i,chartOptions:[{name:"visitors",label:"Переходов"},{name:"credits",label:"Кредитов"}]})),o.createElement(Ed,{structure:{thead:["Дата","Переходов","Кредитов"],tbody:r.rows}})))}}]),a}(o.Component);Od.propTypes={promotion:j().object,active:j().bool,onChangePeriod:j().func,errors:j().any};const wd=(0,i.$j)((function(e){return{promotion:e.promotion}}),(function(e){return{onChangePeriod:function(t,n){e(function(e,t){return function(n,r){if(n({type:"PROMOTION_SET_PERIOD",periodFrom:e,periodTo:t}),e<t){var o=r().app.site.id;Promise.all([Za.getPromotionStat(o,{periodFrom:e,periodTo:t})]).then((function(e){var t,r=ir()(e,1)[0];n({type:"PROMOTION_INIT_STATE",rows:(t=r,Va()(t)?Ya()(t,(function(e,t){return{label:"total"===t?"Итог":c()(t).format("DD.MM.YYYY"),visitors:e.clicksCount,credits:e.moneyCount.toFixed(2)}})).reverse():[])})})).catch(B.qL.promiseHandler($a))}}}(t,n))}}}))(Od);var Sd=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"leftContent",{BUSINESS:o.createElement(o.Fragment,null,o.createElement("p",null,'Ваш сайт имеет статус "Бизнес" и автоматически имеет статус "доверенный".'),o.createElement("div",null,"Теперь анонсы самых интересных статей будут проявляться на главной странице МирТесен.")),REJECTED:o.createElement(o.Fragment,null,o.createElement("p",null,"Ежедневно несколько сотен тысяч пользователей посещают сайты, созданные на Платформе МирТесен. Самую большую аудиторию собирают сайты с качественными актуальными статьями на заданную тему. Владельцы лучших сайтов внимательно следят за удобством своего проекта, регулярно добавляют новую информацию и ведут диалог со своей аудиторией."),o.createElement("div",null,'Правильным сайтам, созданным на МирТесен, мы предлагаем бесплатную услугу продвижения своих проектов. Для этого достаточно пройти модерацию и получить статус "Доверенный". Сразу после этого мы начнем анонсировать самые интересные статьи вашего ресурса на всех страницах системы МирТесен, и вы сможете получать тысячи новых читателей ежедневно.')),NONE:o.createElement(o.Fragment,null,o.createElement("p",null,"Ежедневно несколько сотен тысяч пользователей посещают сайты, созданные на Платформе МирТесен. Самую большую аудиторию собирают сайты с качественными актуальными статьями на заданную тему. Владельцы лучших сайтов внимательно следят за удобством своего проекта, регулярно добавляют новую информацию и ведут диалог со своей аудиторией."),o.createElement("div",null,'Правильным сайтам, созданным на МирТесен, мы предлагаем бесплатную услугу продвижения своих проектов. Для этого достаточно пройти модерацию и получить статус "Доверенный". Сразу после этого мы начнем анонсировать самые интересные статьи вашего ресурса на всех страницах системы МирТесен, и вы сможете получать тысячи новых читателей ежедневно.')),PROCESSING:o.createElement(o.Fragment,null,o.createElement("p",null,"По вашему сайту сейчас накапливается статистика. Обычно этот процесс занимает не более месяца. Но, главное, чтобы на сайте уже была активная аудитория, а также несколько десятков качественных материалов. Только тогда мы сможем изменить статус вашего сайта."),o.createElement("div",null,"Если у вас остались вопросы или модерация, на ваш взгляд, слишком затянулась — задайте вопрос на эту тему через ",o.createElement("a",{href:"http://mirtesen.ru/feedback/report"},"форму обратной связи")," или в нашем публичном сообществе ",o.createElement("a",{href:"http://platforma.mirtesen.ru/_/claim"},'"Платформа МирТесен"'),".")),SUCCESS:o.createElement(o.Fragment,null,o.createElement("p",null,'Ваш сайт получил статус "доверенный". Поздравляем!',o.createElement("br",null),"Теперь анонсы самых интересных статей будут появляться на главной странице МирТесен."),o.createElement("p",null,"Получите дополнительную аудиторию, используя рекомендательную рекламную сеть МирТесен! Это более эффективный инструмент, чем простые приглашения на сайт, и вы можете попробовать его бесплатно."),o.createElement(eo.Z,{onClick:function(){e.props.handleMakeAsBusiness()},label:"Получить 500 тестовых кредитов"}))}),k()(y()(e),"rightContent",{BUSINESS:null,REJECTED:o.createElement("div",null,o.createElement("p",null,"Обычно запрос на модерацию сайта обрабатывается в течение месяца."),o.createElement(eo.Z,{onClick:function(){e.props.handleSetState()},label:"Отправить запрос"})),NONE:o.createElement("div",null,o.createElement("p",null,"Обычно запрос на модерацию сайта обрабатывается в течение месяца."),o.createElement(eo.Z,{onClick:function(){e.props.handleSetState()},label:"Отправить запрос"})),PROCESSING:o.createElement("div",null,o.createElement("strong",null,"Сайт на модерации...")),SUCCESS:null}),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.promotion.data.platform,r={"promotion-settings__wrapper":!0,"promotion-settings__wrapper_hidden":!t,"promotion-platform":!0};return o.createElement("div",{className:M()(r)},o.createElement("div",{className:"promotion-settings__section"},o.createElement("h1",{className:"promotion-settings__section__title"},"Отображение на главной странице МирТесен"),o.createElement("div",{className:"form-section promotion-platform__description"},this.leftContent[n.toUpperCase()]),this.rightContent[n.toUpperCase()]&&o.createElement("div",{className:"form-section form-section_bottom promotion-platform__status"},this.rightContent[n.toUpperCase()])))}}]),a}(o.Component);Sd.propTypes={promotion:j().object,handleSetState:j().func,handleMakeAsBusiness:j().func,active:j().bool,errors:j().any};const Td=(0,i.$j)((function(e){return{promotion:e.promotion}}),(function(e){return{handleSetState:function(){e((function(e,t){var n=t().app.site.id;Promise.all([Za.setSiteModerateState(n)]).then((function(t){var n=ir()(t,1)[0];n.result?window.location.reload():e(ni(n))})).catch((function(e){B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler($a)(e)}))}))},handleMakeAsBusiness:function(){e((function(e,t){var n=t().app.site.id;Promise.all([Za.makeSiteAsBusiness(n)]).then((function(t){var n=ir()(t,1)[0];n.result?window.location.reload():e(ni(n))})).catch((function(e){B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler($a)(e)}))}))}}}))(Sd);var kd=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleChangeInput",(function(t,n,r){var o=e.props.handleChangeInput,a=e.props.promotion.activeTab,i=null;if(t&&t.target){var s=t.target;i="checkbox"===s.type?t.target.checked:t.target.value,r||"number"!==s.type||(r="int")}else i=t;"float"===r?(i=parseFloat(i),isNaN(i)&&(i=null)):"int"===r?(i=parseInt(i,10),isNaN(i)&&(i=null)):"boolean"===r&&(i=i?"0"!==i&&"false"!==i:null),o(a,n,i)})),k()(y()(e),"containers",{settings:cd,item:hd,itemAdd:gd,deposit:yd,stats:wd,platform:Td}),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.promotion,r=t.handleSaveSettings,a=t.handleSetFieldsErrors,i=t.handleItemForm,s=t.handleItemAddForm,c=t.handleDepositForm,l=t.handleChangeTab,u=this.containers,p=n.data,d=n.errors,m=n.sections,f=n.activeTab;return o.createElement("div",{className:"promotion-settings"},Object.keys(m).map((function(t){var n=u[t];return n?o.createElement(n,{key:t,active:t===f,data:p[t],errors:d,onChangeInput:e.handleChangeInput,onSaveSettings:r,onSetFieldsErrors:a,onItemForm:i,onItemAddForm:s,onDepositForm:c,onChangeTab:l}):null})))}}]),a}(o.Component);kd.propTypes={app:j().object,promotion:j().object,handleChangeInput:j().func,handleItemForm:j().func,handleItemAddForm:j().func,handleDepositForm:j().func,handleChangeTab:j().func,handleSaveSettings:j().func,handleSetFieldsErrors:j().func,handleTogglePopup:j().func};const Id=(0,i.$j)((function(e){return{app:e.app,promotion:e.promotion}}),(function(e){return{handleChangeInput:function(t,n,r){e(function(e,t,n){return{type:"PROMOTION_CHANGE_VALUE",tabName:e,name:t,value:n}}(t,n,r))},handleItemForm:function(t){e(ei("item",t)),e(Qa("item"))},handleItemAddForm:function(){e(ei("itemAdd",{url:null})),e(Qa("itemAdd"))},handleDepositForm:function(){e(ei("deposit",{value:""})),e(Qa("deposit"))},handleChangeTab:function(t){e(Qa(t))},handleSaveSettings:function(t,n){e(function(e,t){return function(n,r){var o=r(),a=o.app.site.id;t||(t=o.promotion.activeTab);var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ja(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);if("item"!==t);else{var s=i.id,c=!!i.update||!1;Za.setSiteAdPromo(s,a,c,za()(i,["status","dateStart","dateEnd","fullClicksLimit","dayClicksLimit","clickPrice","utmSource","utmMedium","utmCampaign","targetGeoIds","targetIsMale","targetAgeMin","targetAgeMax","targetTime"])).then((function(e){var t=L()(e,"data.setSiteAdPromo",{});t.status?window.location.reload():n(ni(t))})).catch((function(e){B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler($a)(e)}))}}}(t,n))},handleSetFieldsErrors:function(t){e(ti(t))}}}))((0,B.Pf)(kd,"promotion"));var Md=(0,B.oM)((function(){return Promise.all([n.e(186).then(n.t.bind(n,9198,23)),n.e(202).then(n.bind(n,44308))]).then((function(e){return ir()(e,1)[0]}))}),"reactDatepicker"),Cd=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleChangeDate",(function(t,n){var r=c()(t),o=e.props,a=o.editComments,i=o.onChangePeriod,s=a.data.stats;s[n]=r.tz(c().tz.guess()).format("YYYY-MM-DD"),i(s.periodFrom,s.periodTo)})),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.editComments.data.stats,a={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!n},i=F()(r.commentsRows);i.pop();var s=F()(r.commentatorsRows);return s.splice(-2,2),o.createElement("div",{className:M()(a)},o.createElement("h1",{className:"form-title"},"Статистика"),o.createElement("div",{className:"stat__pickers"},o.createElement("span",{className:"stat__pickers__picker"},"От: ",o.createElement(Md,{timeFormat:"HH:mm",timeIntervals:60,dateFormat:"dd.MM.yyyy",timeCaption:"Время",onChange:function(t){return e.handleChangeDate(t,"periodFrom")},selected:c()(r.periodFrom).toDate()})),o.createElement("span",{className:"stat__pickers__picker"},"До: ",o.createElement(Md,{timeFormat:"HH:mm",timeIntervals:60,dateFormat:"dd.MM.yyyy",timeCaption:"Время",onChange:function(t){return e.handleChangeDate(t,"periodTo")},selected:c()(r.periodTo).toDate()}))),!ms()(r.commentsRows)&&o.createElement(o.Fragment,null,o.createElement("p",null),o.createElement("center",null,"Комментарии"),o.createElement("div",{className:"stat__chart-wrapper col"},o.createElement(B.Xl,{chartData:i,chartOptions:[{name:"active",label:"Активных"},{name:"inactive",label:"Неактивных"}]})),o.createElement(Ed,{structure:{thead:["Дата","Активных","Неактивных"],tbody:r.commentsRows}})),!ms()(r.commentatorsRows)&&o.createElement(o.Fragment,null,o.createElement("p",null),o.createElement("center",null,"Комментаторы"),o.createElement("div",{className:"stat__chart-wrapper col"},o.createElement(B.Xl,{chartData:s,chartOptions:[{name:"commentators",label:"Комментаторов"}]})),o.createElement(Ed,{structure:{thead:["Дата","Комментаторов"],tbody:r.commentatorsRows}})))}}]),a}(o.Component);Cd.propTypes={editComments:j().object,active:j().bool,onChangePeriod:j().func,errors:j().any};const jd=(0,i.$j)((function(e){return{editComments:e.editComments}}),(function(e){return{onChangePeriod:function(t,n){e(function(e,t){return function(n,r){if(n({type:"EDIT_COMMENTS_SET_PERIOD",periodFrom:e,periodTo:t}),e<t){var o=r().app.site.id;Promise.all([B.PU.getSiteCommentsStats(o,{periodFrom:e,periodTo:t})]).then((function(e){var t,r=ir()(e,1)[0];n({type:"EDIT_COMMENTS_INIT_STATE",commentsRows:(t=r,Va()(t)&&Va()(t.comments)?Ya()(t.comments,(function(e,t){return{label:"total"===t?"Итог":c()(t).format("DD.MM.YYYY"),active:e.active,inactive:e.inactive}})):[]),commentatorsRows:li(r)})})).catch(B.qL.promiseHandler(ai))}}}(t,n))}}}))(Cd);var Nd=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"handleAddTag",(function(e){for(var n=0;n<e.name.length;n++)if(!/[a-zа-я0-9_]+/.test(e.name[n]))return!1;t.props.handleAddSiteCommentsStopWord(e.name)})),k()(y()(t),"handleDeleteTag",(function(e){var n=t.props.editComments.data.settings;t.props.removeSiteCommentsStopWord(n.keyWords[e].id)})),k()(y()(t),"radioInputs",{applyForCommentsEnabled:[{title:"да",value:1},{title:"нет",value:0}],commonEnabled:[{title:"да",value:1},{title:"нет",value:0}],siteEnabled:[{title:"да",value:1},{title:"нет",value:0}]}),t._makeRadio=t._makeRadio.bind(y()(t)),t}return g()(a,[{key:"_makeRadio",value:function(e,t,n){var r=[],a=this.props.onChangeInput;return t="number"==typeof(t="boolean"==typeof t?+t:t)?t.toString():t,this.radioInputs[e].map((function(i){var s=i.value;s="number"==typeof s?s.toString():s,r.push(o.createElement(B.dU,{error:n[e],key:s,input:{type:"radio",initVal:s,label:i.title,name:e},value:t,onChangeHandle:function(t){a(t,e)}}))})),r}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.active,r=e.errors,a=e.editComments.activeTab,i={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!n};return o.createElement("div",{className:M()(i)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"Управление"),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Скрывать комментарии с неуместными словами"),this._makeRadio("applyForCommentsEnabled",t.applyForCommentsEnabled,r))),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Использовать список слов Миртесен"),this._makeRadio("commonEnabled",t.commonEnabled,r))),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Использовать собственный список слов"),this._makeRadio("siteEnabled",t.siteEnabled,r)),"settings"===a&&!!+t.siteEnabled&&o.createElement("div",{className:"form-group"},o.createElement("label",null,"Неуместные слова",o.createElement("div",{className:"form-text text-muted"},"Перечислите через запятую или на новой строке."),o.createElement("div",{className:"form-text text-muted"},"Слова должны начинаться с маленькой буквы или цифры и содержать только символы a-z, а-я, 0-9 или нижнего подчеркивания.")),o.createElement(Ql(),{tags:t.keyWords.map((function(e){return{id:e.id,name:e.text}})),allowNew:!0,allowBackspace:!1,onDelete:this.handleDeleteTag,onAddition:this.handleAddTag,autofocus:!1,placeholderText:"Новое слово...",delimiters:["Enter","Tab",","],delimiterChars:[","]})))))}}]),a}(o.Component);Nd.propTypes={onChangeInput:j().func,handleAddSiteCommentsStopWord:j().func,removeSiteCommentsStopWord:j().func,data:j().object,editComments:j().object,active:j().bool,errors:j().any};const Rd=(0,i.$j)((function(e){return{editComments:e.editComments}}),(function(e){return{handleAddSiteCommentsStopWord:function(t){e(function(e){return function(t,n){var r=n().app.site.id;Promise.all([B.PU.addSiteCommentsStopWord(r,e)]).then((function(e){var n=ir()(e,1)[0];if(n)return t({type:"ADD_SITE_COMMENTS_STOP_WORD",stopWord:n});B.v0.sendSystemMessage("saveError")})).catch((function(e){B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler(ai)(e)}))}}(t))},removeSiteCommentsStopWord:function(t){e(function(e){return function(t,n){var r=n().app.site.id;Promise.all([B.PU.removeSiteCommentsStopWord(r,e)]).then((function(n){if(n)return t({type:"REMOVE_SITE_COMMENTS_STOP_WORD",id:e});B.v0.sendSystemMessage("saveError")})).catch((function(e){B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler(ai)(e)}))}}(t))}}}))(Nd);var Ad=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleChangeInput",(function(t,n){(0,e.props.handleChangeInput)(e.props.editComments.activeTab,n,t.target?"checkbox"===t.target.type?t.target.checked:t.target.value:t)})),k()(y()(e),"handleChangeTab",(function(t){(0,e.props.handleChangeTab)(t)})),k()(y()(e),"handleSaveSettings",(function(){(0,e.props.handleSaveSettings)(e.props.editComments.activeTab)})),k()(y()(e),"containers",{stats:jd,settings:Rd}),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props.editComments,n=this.containers,r=t.data,a=t.errors,i=t.sections,s=t.activeTab;return o.createElement("div",{className:"site-settings"},Object.keys(i).map((function(t){var i=n[t];return i?o.createElement(i,{key:t,active:t===s,data:r[t],errors:a,onChangeInput:e.handleChangeInput,onSaveSettings:e.handleSaveSettings}):null})))}}]),a}(o.Component);Ad.propTypes={app:j().object,editComments:j().object,handleChangeInput:j().func,handleChangeTab:j().func,handleSaveSettings:j().func};const Dd=(0,i.$j)((function(e){return{app:e.app,editComments:e.editComments}}),(function(e){return{handleChangeInput:function(t,n,r){e(function(e,t,n){return function(r,o){var a=o(),i=a.app.site.id;if("settings"===e){var s=a.editComments.data.settings;s[t]=n,Promise.all([B.PU.setSiteCommentsStopWordsSettings(i,!!+s.commonEnabled,!!+s.siteEnabled,!!+s.applyForCommentsEnabled)]).then((function(e){var o=ir()(e,1)[0];if(console.log(o),o)return B.v0.sendSystemMessage("save"),r({type:"SET_SITE_COMMENTS_STOP_WORD_SETTINGS",name:t,value:n});B.v0.sendSystemMessage("saveError")})).catch((function(e){B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler(ai)(e)}))}r({type:"EDIT_COMMENTS_CHANGE_VALUE",tabName:e,name:t,value:n})}}(t,n,r))},handleChangeTab:function(t){e(si(t))},handleSaveSettings:function(t){e(function(e){return function(t,n){var r=n(),o=r.app.site.id,a=r.editComments,i=a.activeTab,s=a.data,c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s[i]);e&&s[e],t({type:"EDIT_COMMENTS_SAVE_SETTINGS",tabName:e}),"settings"===i&&Promise.all([B.PU.setCommentsSettings(o,JSON.stringify(c))]).then((function(e){var n=ir()(e,1)[0];n.result?window.location.reload():t(ci(n))})).catch((function(e){B.v0.sendSystemMessage("saveError"),B.qL.promiseHandler(ai)(e)}))}}(t))}}}))((0,B.Pf)(Ad,"editComments"));var xd=n(63282);var Ld=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.page;return o.createElement("div",{id:"layout",className:"error-page-layout"},o.createElement(jo,{app:t}),o.createElement("div",{className:"error-page-container"},o.createElement(Oo,null),o.createElement("div",{className:"error-page-content"},o.createElement(n,{app:t})),o.createElement(xd.OR,{accounts:[55305619],version:"2",options:{clickmap:!0,webvisor:!1,trackLinks:!0,accurateTrackBounce:!0}})))}}]),a}(o.Component);Ld.propTypes={app:j().object,page:j().oneOfType([j().func,j().object])};const Bd=(0,B.Pf)(Ld,"ErrorPageLayout");var Ud=(0,o.memo)((function(e){var t=e.app,n=e.pad,r=e.onShowMorePosts,a=e.onPostAppear,i=n.topicTitle,s=n.topicKey;return o.createElement(o.Fragment,null,i&&o.createElement("h1",{className:"topic-post-list-title"},i),o.createElement(B.pM,{app:t}),o.createElement(fl,{topicKey:s,onLoadMore:r,onPostAppear:a,id:"pad"}))}));Ud.propTypes={posts:j().oneOfType([j().object,j().array]),onShowMorePosts:j().func,app:j().object,pad:j().object,onPostAppear:j().func};const Fd=(0,i.$j)((function(e){return{pad:e.pad,app:e.app}}),(function(e){return{onShowMorePosts:function(){e(function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u,p,d,m;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),o=r.postTiles.pad,a=o.page,i=o.recordsOnPage,s=r.postTiles.pad.posts,c=r.pad.topicKey,l=a+1,e.next=8,B.Zf.getBlogPostsByTopic({topic:c,offset:(l-1)*i,count:i,filter:"unselected",withBusinessPosts:!0,fieldList:"tile"});case 8:u=e.sent,s=(s=[].concat(F()(s),F()(u))).filter((function(e){return e.images.length>0})),s=B.Zf.removeDuplicates(s,"title"),l>0&&(p="page="+l,d=window.location.href,m=/page=\d+/i,d=-1!==(d=d.replace(m,"").replace("?&","?").replace(/(&|\?)+$/,"")).indexOf("?")?d+"&"+p:d+"?"+p,window.history.pushState(null,"",d)),t({type:"POST_TILES_LOAD_MORE",id:"pad",posts:s,hasMore:u.length>0,page:l}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),B.qL.promiseHandler("/index.js")(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}())},onPostAppear:function(t){e(Lr(t))}}}))((0,B.Pf)(Ud,"pad"));var Hd=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.page,r=(L()(t,"topic.brandingCode")||"").trim(),a={"index-three-column-container":!0,"index-three-column-container_branding":!!r},i={"index-layout":!0,"index-layout_branding":!!r},s=L()(t,"req.isMobile"),c="mt",l=(L()(t,"topic.key")||"").toLowerCase();return["coronavirus","crysis"].includes(l)&&(c=l),o.createElement("div",{id:"layout",className:M()(i)},o.createElement(jo,{app:t}),o.createElement("div",{id:"main-container"},o.createElement(Oo,null),r?o.createElement("div",{dangerouslySetInnerHTML:{__html:r}}):null,o.createElement("div",{id:"three-column-container",className:M()(a)},o.createElement(Li,null),o.createElement("div",{id:"index-content-container",className:"content-container"},o.createElement("div",{id:"index-inner-container"},o.createElement("div",{id:"index-content-column",className:"content-column"},o.createElement(n,{app:t})))))),!s&&o.createElement("div",{id:"very-right-column",className:"right-column"},o.createElement(Hi,{source:c})))}}]),a}(o.PureComponent);Hd.propTypes={app:j().object,page:j().oneOfType([j().func,j().object])};const qd=(0,B.Pf)(Hd,"indexLayout");var Zd=function(e){var t=e.app,n=(0,o.useRef)(),r=(0,o.useState)(!1),a=ir()(r,2),i=a[0],s=a[1];return(0,o.useEffect)((function(){if("undefined"!=typeof window){var e=n.current;i||Pl.mount({container:e,onLoad:function(){return s(!0)}})}}),[i]),vn().disableChat||L()(t,"req.lightApp")?null:o.createElement("div",{ref:n})};Zd.propTypes={app:j().object};const Gd=(0,i.$j)((function(e){return{app:e.app}}))(Zd);var Vd,Wd;const Yd=(0,B.Pf)((Wd=Vd=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props.app,t=L()(e,"siteBuilder.layout.style",{});return o.createElement("div",{id:"layout",className:"one-column-layout",style:t},o.createElement(jo,{app:e}),o.createElement("div",{id:"main-container"},o.createElement(Oo,null)),o.createElement(Gd,null))}}]),a}(o.Component),k()(Vd,"propTypes",{app:j().object}),Wd),"messengerLayout");var Kd="/index.js";function zd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $d=function(e){return{type:"CREATE_SITE_TOGGLE_PROCESS",inProcess:e}},Jd=function(e,t){return{type:"CREATE_SITE_SET_VALUE",name:e,value:t}},Xd=function(e){return function(t){var n,r={},o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return zd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zd(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;r[a.name]=a.key?B.v0.systemMessages[a.key]:""}}catch(e){o.e(e)}finally{o.f()}return t({type:"CREATE_SITE_PROCESS_ERRORS",errorMessage:r})}};function Qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qd(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nm=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"handleInput",(function(e,n){var r=t.props,o=r.onCheckSiteDomain,a=r.onChangeValue,i=r.onAddImage,s=r.onProcessErrors,c=n.value,l=n.files;s([{name:e,key:""}]),"domain"===e&&(t.checkTimer&&(clearTimeout(t.checkTimer),t.checkTimer=null),t.checkTimer=setTimeout((function(){o(c),t.checkTimer=null}),1e3)),"logo"!==e?a(e,c):i(e,l[0])})),k()(y()(t),"handleSubmit",(function(e){e.preventDefault();var n=t.props.onCreateSite;t.validateForm()&&n()})),k()(y()(t),"validateForm",(function(){var e=t.props,n=e.onProcessErrors,r=e.siteData;if(Object.keys(r.errorMessage).some((function(e){return!!r.errorMessage[e]})))return!1;var o,a=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return tm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tm(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}(t.state.fields);try{for(i.s();!(o=i.n()).done;){var s=o.value;s.maxLength&&r[s.name].trim().length>s.maxLength&&a.push({name:s.name,key:"tooLong"}),s.isRequired&&!r[s.name].trim()&&a.push({name:s.name,key:"requiredField"})}}catch(e){i.e(e)}finally{i.f()}return a.length>0&&n(a),!a.length})),t.checkTimer=null,t.state={fields:[{name:"domain",label:"Адрес сайта",labelAfter:"Этот адрес можно изменить или добавить дополнительный.\n                        Собственный домен также устанавливается в настройках.",type:"text",isRequired:!0},{name:"name",label:"Название",labelAfter:null,type:"text",isRequired:!0},{name:"tagLine",label:"Слоган",labelAfter:null,type:"text",isRequired:!1},{name:"description",label:"Описание",labelAfter:null,type:"textarea",isRequired:!0},{name:"keywords",label:"Ключевые слова",labelAfter:"Слова, по которым Ваш сайт будут находить в поисковиках\n                        (максимум 168 символов)",type:"textarea",isRequired:!0,maxLength:168},{name:"logo",label:"Логотип",labelAfter:"Логотип можно добавить позже",type:"file",isRequired:!1}]},t}return g()(a,[{key:"componentWillUnmount",value:function(){clearTimeout(this.checkTimer)}},{key:"render",value:function(){var e=this,t=this.state.fields,n=this.props.siteData,r=n.similarDomains,a=n.errorMessage,i=n.successMessage,s=n.inProcess;return o.createElement("div",{id:"index-main-inner-container"},o.createElement("div",{id:"double-column-container"},o.createElement("div",{id:"right-column"},o.createElement(B.gg,null,o.createElement(Di,{type:"Politpiar",id:99808}),o.createElement(Di,{position:"smi2RightBlock"}))),o.createElement("div",{id:"content-column"},o.createElement("div",{className:"create-site-page"},o.createElement("h1",null,"Создание сайта (канала) в МирТесен"),o.createElement("form",{className:"create-site-page__form",onSubmit:this.handleSubmit},o.createElement("div",{className:"create-site-page__fields-list"},t.map((function(t){var s=null;return"domain"===t.name&&(null==r?void 0:r.length)>0&&(s=o.createElement("div",{className:"create-site-page__similar-names"},o.createElement("div",{className:"create-site-page__similar-names-title"},"Похожие адреса:"),o.createElement("ul",{className:"create-site-page__similar-names-list"},r.map((function(n,r){return o.createElement("li",{key:r,className:"create-site-page__similar-names-item",onClick:function(){e.handleInput(t.name,{value:n.prefix})}},n.prefix,o.createElement("span",null,".",n.domain))}))))),o.createElement(B.dU,{onChangeHandle:function(n){e.handleInput(t.name,n.target)},type:t.type,error:a[t.name],valid:i[t.name],key:t.name,input:em({extraElem:s},t),value:n[t.name],extraElem:!0})}))),o.createElement("input",{type:"text",className:"hdn",name:"hdn"}),o.createElement("input",{type:"submit",value:"Создать сайт",className:"btn btn-primary",disabled:s}),o.createElement("input",{type:"text",className:"hdn",name:"hdn"}))))))}}]),a}(o.Component);nm.propTypes={siteData:j().object,onCheckSiteDomain:j().func,onChangeValue:j().func,onAddImage:j().func,onCreateSite:j().func,onProcessErrors:j().func};const rm=(0,i.$j)((function(e){return{siteData:e.createSitePage}}),(function(e){return{onCheckSiteDomain:function(t){e(function(e){return function(){var t=R()(D().mark((function t(n){var r,o,a;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length<=0)){t.next=2;break}return t.abrupt("return",n({type:"CREATE_SITE_RESET_MESSAGES",name:"domain"}));case 2:return t.next=4,up.checkSiteDomain(null,e);case 4:if(!(o=t.sent).result){t.next=7;break}return t.abrupt("return",n({type:"CREATE_SITE_CHECK_DOMAIN",errorMessage:"",successMessage:B.v0.systemMessages.freeDomain,similarDomains:[]}));case 7:a=null==o||null===(r=o.errors)||void 0===r?void 0:r.prefix,n({type:"CREATE_SITE_CHECK_DOMAIN",successMessage:"",errorMessage:a||B.v0.systemMessages.incorrectField,similarDomains:o.alternatives||[]});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},onChangeValue:function(t,n){e(Jd(t,n))},onAddImage:function(t,n){e(function(e,t){return function(n){if(t){var r=window.URL.createObjectURL(t);return B.Ee.uploadImageToStorage(r).then((function(t){if(!t)return n(Xd([{name:e,key:"imageError"}]));n(Jd(e,t))})).catch(B.qL.promiseHandler(Kd))}}}(t,n))},onCreateSite:function(){e(function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u,p,d,m,f;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),o=r.createSitePage,a=o.domain,i=o.name,s=o.tagLine,c=o.description,l=o.keywords,u=o.logo,p={prefix:a,name:i,tags:l,description:c,photoId:(null==u?void 0:u.id)||null,slogan:s},e.prev=3,t($d(!0)),e.next=7,B.Tt.createSite(p);case 7:null!=(d=e.sent)&&d.id&&null!=d&&d.url?window.location.href=d.url:(f=(null===(m=d.errors[0])||void 0===m?void 0:m.text)||B.v0.systemMessages.exception,B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:f})),t($d(!1)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),B.v0.sendSystemMessage("exception"),t($d(!1)),B.qL.promiseHandler(Kd)(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,n){return e.apply(this,arguments)}}())},onProcessErrors:function(t){e(Xd(t))}}}))((0,B.Pf)(nm,"createSitePage"));var om=n(6596),am=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:"IMAGE_SLIDER_TOGGLE",currentImage:e,postId:t}},im=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"IMAGE_SLIDER_SET_IMAGES",images:e}};var sm=function(e){E()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function i(){var e;h()(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"state",{enable:!1,isAdBannerExists:!1}),k()(y()(e),"handleClick",(function(t){var n,r=t.target;if(r&&r.classList.contains("POST_IMAGE")){var o=r.getAttribute("src"),a=e.props,i=a.imageSlider,s=a.setImages,c=a.handleToggleSlider;(null===(n=i.images[0])||void 0===n?void 0:n.src)!==o&&s([{src:o}]),i.lightboxIsOpen||c()}})),k()(y()(e),"handleClickImage",(function(){var t=e.props,n=t.handleChangeImage,r=t.handleToggleSlider,o=e.props.imageSlider,a=o.currentImage,i=o.postId,s=(i?e.props.imageSlider.images[i]:e.props.imageSlider.images)||[],c=a+1;1===s.length&&r(),s.length!==c?n(c):n(0)})),k()(y()(e),"appendAdBanner",(function(){var t,n=null===(t=document.getElementById("lightboxBackdrop"))||void 0===t?void 0:t.getElementsByTagName("figure")[0];if(n&&!document.getElementById("ad-banner")){var r=document.createElement("div");r.id="ad-banner",n.appendChild(r),e.setState({isAdBannerExists:!0})}})),e}return g()(i,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick),this.setState({enable:!0})}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.disableBanner,n=e.app.hideAdBlocks;t||n||setTimeout(this.appendAdBanner,500)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=this,t=this.props,n=t.imageSlider,r=t.handleToggleSlider,i=t.handleChangeImage,s=t.app.hideAdBlocks,c=n.lightboxIsOpen,l=n.currentImage,u=n.postId,p=(u?n.images[u]:n.images)||[];return this.state.enable?o.createElement(o.Fragment,null,o.createElement(om.Z,{currentImage:l,images:c?p:[],isOpen:c,backdropClosesModal:!0,showThumbnails:(null==p?void 0:p.length)>1,showCloseButton:!1,showImageCount:!1,onClickImage:this.handleClickImage,onClickThumbnail:function(e){i(e)},onClickNext:function(){i(l+1)},onClickPrev:function(){i(l-1)},onClose:function(){e.setState({isAdBannerExists:!1}),r()}}),this.state.isAdBannerExists&&!s&&(0,a.createPortal)(o.createElement(Di,{type:"Politpiar",id:99811}),document.getElementById("ad-banner"))):null}}]),i}(o.Component);sm.propTypes={app:j().object,handleChangeImage:j().func,handleToggleSlider:j().func,imageSlider:j().object,disableBanner:j().bool,setImages:j().func};const cm=(0,i.$j)((function(e){return{app:e.app,imageSlider:e.imageSlider}}),(function(e){return{handleToggleSlider:function(){e(am())},handleChangeImage:function(t){e(function(){return{type:"IMAGE_SLIDER_CHANGE_CURRENT",currentImage:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0}}(t))},setImages:function(t){return e(im(t))}}}))(sm),lm=function(){return o.createElement("div",null,"тестовая страница для отображения новых комментариев",o.createElement("br",null),o.createElement(Tl,null))};const um=function(e){E()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function o(){return h()(this,o),r.apply(this,arguments)}return g()(o,[{key:"componentDidMount",value:function(){B.LD.initializeMessaging({apiKey:"AIzaSyB2DtPljRIaX5lfCLlD81fiyQn2MG7QPNo",authDomain:"v2mobile.firebaseapp.com",databaseURL:"https://v2mobile.firebaseio.com",projectId:"v2mobile",storageBucket:"v2mobile.appspot.com",messagingSenderId:"1036267401806",appId:"1:1036267401806:web:be2e9bfa3107df66"},"mirtesen.ru")}},{key:"render",value:function(){return null}}]),o}(o.PureComponent);var pm="/index.js",dm=function(e,t){return{type:"RECOVERY_PASSWORD_SET_INPUT_VALUE",name:e,value:t}},mm=(0,o.memo)((function(e){var t=e.recoveryPassword,n=e.restorePassword,r=e.setInputValue,a=(0,o.useState)(!1),i=ir()(a,2),s=i[0],c=i[1],l=t.isEmailSent,u=t.inputValue.email,p=s||t.emailError,d=function(e){var t=B.E6.isEmail(e)?"":"Введите корректный email адрес";return c(t),!0};return o.createElement("div",{className:"container"},o.createElement("div",{className:"recovery-pass__wrap"},!l&&o.createElement("div",{className:"recovery-pass__form"},o.createElement("div",{className:"recovery-pass__form__title"},"Восстановление пароля"),o.createElement("form",null,o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"recoverPasswordEmail"},"Email:"),o.createElement("input",{id:"recoverPasswordEmail",className:M()({"form-control":!0,"is-invalid":!!p}),type:"email",name:"login",onChange:function(e){r("email",e.target.value)},value:u,onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),d(u.trim()),n(u.trim()))}}),o.createElement("div",{className:"invalid-feedback"},p)),o.createElement(eo.Z,{type:"submit",onClick:function(e){e.preventDefault(),d(u.trim()),n(u.trim())},label:"Восстановить"}))),l&&o.createElement("div",{className:"recovery-pass__email-sent-block"},o.createElement("h1",null,"Мы отправили письмо со ссылкой для восстановления пароля на email: ",u),o.createElement("a",{href:"//mirtesen.ru"},"Перейти на главную"))))}));mm.propTypes={recoveryPassword:j().object,restorePassword:j().func,setInputValue:j().func};const fm=(0,i.$j)((function(e){return{recoveryPassword:e.recoveryPassword}}),(function(e){return{restorePassword:function(t){e(function(e){return function(){var t=R()(D().mark((function t(n){var r,o,a,i;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.Fc.restorePassword(e);case 3:r=t.sent,o=r.status,a=r.errors,o?n({type:"RECOVERY_PASSWORD_EMAIL_SENT"}):(i="Ошибка при восстановлении пароля.",a&&a.forEach((function(e){"email"===e.key&&"error_doesnt_match"===e.message&&(i="E-mail не зарегистрирован.")})),n({type:"RECOVERY_PASSWORD_SET_EMAIL_ERROR",message:i})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),B.qL.promiseHandler(pm)(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},setInputValue:function(t,n){e(dm(t,n))}}}))((0,B.Pf)(mm,"recoveryPasswordStep1"));var hm=(0,o.memo)((function(e){var t=e.recoveryPassword,n=e.savePassword,r=e.setInputValue,a=(0,o.useState)(!1),i=ir()(a,2),s=i[0],c=i[1],l=(0,o.useState)(!1),u=ir()(l,2),p=u[0],d=u[1],m=(0,o.useState)(!1),f=ir()(m,2),h=f[0],_=f[1],g=(0,o.useState)({pass1:!1,pass2:!1}),v=ir()(g,2),y=v[0],b=v[1],E=t.key,P=t.errorMessage,O=t.passwordError,w=t.inputValue,S=function(e){var t=!1,n=!1,r=!1;if(e.length<6)return!1;var o=e.match(/^[A-z@#-_$^&+=§!?]+/);return L()(o,"0")===L()(o,"input")&&(e.split("").map((function(e){-1!==e.search(/[A-Z]/)&&(t=!0),-1!==e.search(/[a-z]/)&&(n=!0),-1!==e.search(/[0-9]/)&&(r=!0)})),t&&n&&r)};return o.createElement("div",{className:"container"},o.createElement("div",{className:"recovery-pass__wrap"},P&&o.createElement("div",{className:"recovery-pass__email-sent-block"},o.createElement("h1",null,P),o.createElement("a",{href:"//mirtesen.ru"},"Перейти на главную")),!P&&o.createElement("div",{className:"recovery-pass__form recovery-pass__change-password"},o.createElement("div",{className:"recovery-pass__form__title"},"Сохранение пароля"),o.createElement("form",null,o.createElement("div",null,o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"pass1"},"Новый пароль (не менее 6 символов):"),o.createElement("input",{className:M()({"form-control":!0,"is-invalid":y.pass1}),id:"pass1",type:"".concat(h?"text":"password"),name:"pass1",onChange:function(e){r("pass1",e.target.value)},value:w.pass1})),o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"pass2"},"Еще раз новый пароль:"),o.createElement("input",{className:M()({"form-control":!0,"is-invalid":y.pass2}),id:"pass2",type:"".concat(h?"text":"password"),name:"pass2",onChange:function(e){r("pass2",e.target.value)},value:w.pass2})),o.createElement("div",{className:" form-group recovery-pass__show-password"},o.createElement("input",{className:"form-check-input",id:"showPass",type:"checkbox",name:"showPass",checked:h,onChange:function(){return _((function(e){return!e})),!0}}),o.createElement("label",{htmlFor:"showPass"},"показать пароль"))),o.createElement("div",{className:"recovery-pass__error-block error-block"},s&&o.createElement("div",{className:"error-block__compare-error"},"Пароли не совпадают"),O&&!s&&o.createElement("div",{dangerouslySetInnerHTML:{__html:O}}),p&&o.createElement(o.Fragment,null,o.createElement("div",null,"Пароль должен быть длиной от 6 символов и состоять из букв латинского алфавита и цифр"),o.createElement("div",null,"Допускаются символы @ # - _ $ ^ & + = § ! ?"),o.createElement("div",null,"Пароль должен содержать минимум одну цифру и по одной букве верхнего и нижнего регистра"))),o.createElement(eo.Z,{type:"submit",onClick:function(e){e.preventDefault();var t=function(e){var t=e.pass1!==e.pass2;return c(t),b({pass1:t,pass2:t}),t}(w),r=function(e){var t=!(S(e.pass1)&&S(e.pass2));return d(t),t}(w);t||r||n(w.pass1,E)},label:"Сохранить"})))))}));hm.propTypes={recoveryPassword:j().object,savePassword:j().func,setInputValue:j().func};const _m=(0,i.$j)((function(e){return{recoveryPassword:e.recoveryPassword}}),(function(e){return{savePassword:function(t,n){e(function(e,t){return function(){var n=R()(D().mark((function n(r){var o;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,B.Fc.setUserPasswordByActionKey(e,t);case 3:(o=n.sent).result?(B.v0.sendSystemMessage("successPasswordChange"),r({type:"RECOVERY_PASSWORD_RESET_FORM"})):r({type:"RECOVERY_PASSWORD_SET_PASSWORD_ERROR",message:o.message}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),B.qL.promiseHandler(pm)(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},setInputValue:function(t,n){e(dm(t,n))}}}))((0,B.Pf)(hm,"RecoveryPasswordStep2"));var gm=0,vm=function(e){var t=e.authTab,n=e.hasUser,r=e.initAuth,a=e.openAuthForm,i=(0,o.useState)(null),s=ir()(i,2),c=s[0],l=s[1];if((0,o.useEffect)((function(){if(r({onBeforeChange:function(){return function(){return wr.sendMessengerToken(),!1}}}),n)wr.sendMessengerToken();else{var e="authPage"+gm++;B.$L.init(e),a(t,e),l(e)}}),[]),null===c)return null;var u=B.$L.getContext();return o.createElement(u.Provider,{value:c},o.createElement(B.Ti,{isModal:!1}))};vm.propTypes={hasUser:j().bool,authTab:j().string,initAuth:j().func,openAuthForm:j().func};const ym=(0,i.$j)((function(e){return{hasUser:!!L()(e,"auth.user.id"),authTab:L()(e,"app.req.params.authTab"),openAuthForm:j().func}}),(function(e){return{initAuth:function(t){return e(B.YV.initAuth(t))},openAuthForm:function(t,n){return e(B.we.openAuthForm(t,n))}}}))(vm);var bm=n(14890),Em="/index.js",Pm=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(o,a){var i=a(),s=vn().groups.limit;t||(t=i.groups.page),n||(n=i.groups.period),r||(r=i.groups.order),B.Tt.getRatedGroups({page:t,limit:s,period:n,orderBy:r}).then((function(n){var r,a=(null==n?void 0:n.length)>=s;r=e&&Array.isArray(n)?[].concat(F()(i.groups.ratedGroups),F()(n)):n,o({type:"GROUPS_SET",groups:r,hasMore:a,searchValue:""}),o({type:"GROUPS_SET_PAGE",page:t})})).catch((function(e){B.qL.promiseHandler(Em)(e)}))}},Om=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){var o=r();if(t||(t=o.groups.period),!e)return n(wm(t));Promise.resolve(B.lv.search(e,"RATED_GROUPS",{period:t})).then((function(t){n({type:"GROUPS_SET",groups:t,hasMore:!1,searchValue:e})})).catch((function(e){B.qL.promiseHandler(Em)(e)}))}},wm=function(e){return function(t){t({type:"GROUPS_SET_PERIOD",period:e}),t({type:"GROUPS_SET_PAGE",page:1}),t(Pm())}},Sm=function(e){return function(t){t({type:"GROUPS_SET_ORDER",order:e}),t({type:"GROUPS_SET_PAGE",page:1}),t(Pm())}},Tm=function(e){return function(t,n){var r=n();r.groups.ratedGroups.length<e*vn().groups.limit||!r.groups.ratedGroups[(e-1)*vn().groups.limit]?t(Pm(!0,e)):t({type:"GROUPS_SET_PAGE",page:e})}},km=function(e){var t,n=e.currentItem,r=e.items,a=e.onChange,i=null===(t=r.find((function(e){return n===e.value})))||void 0===t?void 0:t.title;return o.createElement(B.GV,{customButtonClasses:"groups-select__current",customDropdownClasses:"groups-select",customListClasses:"groups-select__dropdown",placement:"auto-left",buttonValue:i,offset:[0,-10]},r.map((function(e,t){if(e.value!==n)return o.createElement("button",{type:"button",key:t,onClick:function(){e.uri&&window.history.pushState(null,"",e.uri),a(e.value)}},e.title)})))};km.propTypes={currentItem:j().string,items:j().array,onChange:j().func};const Im=(0,o.memo)(km);var Mm=function(e){var t=e.group,n=e.showMembers,r=e.showViewStat;return o.createElement(rc,{className:"group-list-item"},o.createElement("a",{href:t.url,className:"group-list-item__link",target:"_blank"},o.createElement(B.Hl,{logoInfo:{userName:t.display_name,logoImg:t.photo_original,logoClassName:"userlogo_l2",size:"av80"}}),o.createElement("div",{className:"group-list-item__info"},o.createElement("span",{className:"group-list-item__name"},t.display_name),o.createElement("div",{className:"group-list-item__stat"},n&&o.createElement("span",null,B.E6.numWithSpaces(t.members_count)+" "+B.E6.num2string(t.members_count,["подписчик","подписчика","подписчиков"])),r&&o.createElement(o.Fragment,null,o.createElement("span",null,B.E6.numWithSpaces(t.unique_visitors)+" "+B.E6.num2string(t.unique_visitors,["посетитель","посетителя","посетителей"])),o.createElement("span",null,B.E6.numWithSpaces(t.views)+" "+B.E6.num2string(t.views,["просмотр","просмотра","просмотров"])))))),o.createElement(aa,{siteId:t.id,object:t}))};Mm.propTypes={group:j().object,showMembers:j().bool,showViewStat:j().bool};const Cm=(0,o.memo)(Mm);var jm=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"handlePeriodChange",(function(e){if(e!==t.props.currentPeriod)return t.clearInput(),t.props.actions.groupsSetPeriod(e)})),k()(y()(t),"handleOrderChange",(function(e){if(e!==t.props.order)return t.searchRef.current.value="",t.props.actions.groupsSetOrder(e)})),k()(y()(t),"getCurrentOrder",(function(){return t.ordersConfig.find((function(e){return e.value===t.props.order}))})),k()(y()(t),"clearInput",(function(){var e;t.searchRef.current.value="",window.history.pushState(null,"",(null===(e=t.getCurrentOrder())||void 0===e?void 0:e.uri)||"")})),t.searchRef=o.createRef(),t.periodsConfig=[{title:"За день",value:"PERIOD_YESTERDAY"},{title:"За неделю",value:"PERIOD_WEEK"},{title:"За месяц",value:"PERIOD_MONTH"},{title:"За квартал",value:"PERIOD_QUARTER"}],t.ordersConfig=[{title:"Популярные каналы",value:"ORDER_BY_UNIQUE_VISITORS",uri:"/rating"},{title:"Рекомендуемые каналы",value:"ORDER_BY_RECOMMEND",uri:"/rating/recommended"},{title:"Мои каналы",value:"ORDER_BY_MY",uri:"/rating/my-sites"},{title:"Мои подписки",value:"ORDER_BY_MEMBER",uri:"/rating/my-subscriptions"}],t}return g()(a,[{key:"render",value:function(){var e,t=this.props,n=t.page,r=t.currentPeriod,a=t.groups,i=t.order,s=t.hasMore,c=t.searchValue,l=this.props.actions,u=l.groupsSetPage,p=l.searchRatedGroups;return o.createElement("div",{className:"rated-groups"},o.createElement("div",{className:"rated-groups__header"},o.createElement(B.Mj,{placeholder:"Начните вводить название сайта",handleSearch:p,searchUrl:null===(e=this.getCurrentOrder())||void 0===e?void 0:e.uri,defaultValue:c,ref:this.searchRef}),o.createElement("div",{className:"rated-groups__controls"},wr.isLogged()&&o.createElement(Im,Fr()({items:this.ordersConfig,onChange:this.handleOrderChange},function(){switch(i){case"ORDER_BY_VIEWS":return{currentItem:"ORDER_BY_UNIQUE_VISITORS"};default:return{currentItem:i}}}())),!wr.isLogged()&&o.createElement("div",{className:"groups-select_disable"},"Популярные сайты"),o.createElement(Im,{currentItem:r,items:this.periodsConfig,onChange:this.handlePeriodChange}))),o.createElement(B.v_,{pageStart:0,loadMore:function(){u(n+1)},hasMore:s,loader:o.createElement(B.nt,null),threshold:500},o.createElement(lc,null,a.map((function(e){return o.createElement(Cm,{key:e.id,group:e,showViewStat:!0})})),0===a.length&&o.createElement("p",{className:"mt-list__empty"},"Сайтов не найдено"))))}}]),a}(o.PureComponent);jm.propTypes={actions:j().object,groups:j().arrayOf(j().object),page:j().number,hasMore:j().bool,currentPeriod:j().string,order:j().string,searchValue:j().string};const Nm=(0,i.$j)((function(e){return{groups:e.groups.ratedGroups,page:e.groups.page,hasMore:e.groups.hasMore,currentPeriod:e.groups.period,order:e.groups.order,preloaderVisible:e.groups.preloaderVisible,searchValue:e.groups.searchValue}}),(function(e){return{actions:(0,bm.DE)(r,e)}}))((0,B.Pf)(jm,"groups"));var Rm=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props.billing,t='Ваш аккаунт привязан к  <a href="https://moneymove.mirtesen.ru/">Moneymove.ru</a>. Что-бы отвязать нажмите <a target="_blank" href="'+e.bindingUrl+'">сюда</a>',n='Для того чтобы зарабатывать деньги вместе с нами Вы должны авторизироваться на <a href="https://moneymove.mirtesen.ru/">Moneymove.ru</a> и <a target="_blank" href="'+e.bindingUrl+'">привязать</a> аккаунт';return o.createElement("div",{className:"billing-message"},e.isBound&&o.createElement("div",{dangerouslySetInnerHTML:{__html:t}}),!e.isBound&&o.createElement("div",{dangerouslySetInnerHTML:{__html:n}}))}}]),a}(o.PureComponent);Rm.propTypes={billing:j().object};const Am=(0,i.$j)((function(e){return{billing:e.billing}}),(function(){return{}}))((0,B.Pf)(Rm,"billing"));var Dm=n(14144),xm=n.n(Dm);var Lm=(0,B.oM)((function(){return Promise.all([n.e(526).then(n.bind(n,88667)),n.e(743).then(n.bind(n,83651))]).then((function(e){return ir()(e,1)[0]}))}),"reactIdSwiper"),Bm=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;h()(this,a);var n=(t=r.call(this,e)).props.app;return t.resizeTimeout=null,t.timeoutUpdate=t.timeoutUpdate.bind(y()(t)),t.isSlider=n.req.orientation&&"slider"===n.req.orientation,t.blockId=n.req.blockId,t}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onShow,n=e.onGetNativeAdvertList;this.isSlider?n(this.blockId):t(this.blockId),window.addEventListener("resize",this.timeoutUpdate),"undefined"!=typeof window&&"undefined"!=typeof navigator&&this.timeoutUpdate()}},{key:"componentDidUpdate",value:function(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&this.timeoutUpdate()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.timeoutUpdate)}},{key:"timeoutUpdate",value:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){var t=window.document.body.scrollHeight,n={};n["mtTop"+e.blockId]=t,window.parent.postMessage(n,"*")}),500)}},{key:"render",value:function(){var e=this.props,t=e.mtop,n=e.app,r=t.blocks[this.blockId]||[],a={},i="vertical";if(n.req.orientation&&(i=n.req.orientation,a["mirtesen-top-".concat(i)]=!0),n.req.modifier){var s=n.req.modifier;a["mirtesen-top-".concat(i,"_").concat(s)]=!0}return r&&r.length?this.isSlider?o.createElement("div",{className:"native-posts-widget"},o.createElement(Lm,Fr()({},{loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",type:"bullets",dynamicBullets:!0,dynamicMainBullets:6,clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},{shouldSwiperUpdate:!0}),r.map((function(e,t){return o.createElement("div",{className:"swiper-slide",key:t},o.createElement("div",{className:"native-posts-widget__slide"},o.createElement("div",null,"Читайте и выбирайте"),o.createElement("a",{href:e.url,target:"_blank"},o.createElement("img",{src:e.img,alt:e.title})),o.createElement("a",{href:e.url,target:"_blank",className:"native-posts-widget__titile"},e.title),o.createElement("a",{href:e.url,target:"_blank",className:"native-posts-widget__announce"},e.announce),o.createElement("a",{href:e.url,target:"_blank",className:"native-posts-widget__button"},"Подробнее")))})))):o.createElement("div",{className:M()(a)},o.createElement("div",{className:"mirtesen-top-affix"},o.createElement("h3",{className:"mirtesen-top__title"},"Новости партнеров"),o.createElement("div",{className:"mirtesen-top"},r.map((function(e){return e&&o.createElement("div",{className:"mirtesen-top__item",key:e.id},o.createElement("a",{href:e.url,className:"mirtesen-top__item__link",target:"_blank"},o.createElement("img",{className:"mirtesen-top__item__img",src:e.img}),o.createElement("span",{className:"mirtesen-top__item__title"},e.title)))}))))):null}}]),a}(o.Component);Bm.propTypes={mtop:j().object,horizontal:j().any,onShow:j().func,onGetNativeAdvertList:j().func,app:j().object};const Um=(0,i.$j)((function(e){return{mtop:e.mirtesenTop,app:e.app}}),(function(e){return{onShow:function(t){e(function(e){return function(t){xm()("https://mirtesen.ru/pad/js/".concat(e,".js"),{jsonpCallbackFunction:"news_".concat(e),timeout:5e3}).then((function(e){return e.json()})).then((function(n){var r=n.news;t({blockId:e,type:"MIRTESEN_TOP_GET_POSTS",posts:r.slice(0,3)})})).catch((function(e){console.warn("MIRTESEN_TOP_GET_POSTS",e)}))}}(t))},onGetNativeAdvertList:function(t){e(function(e){return function(){var t=R()(D().mark((function t(n){var r,o,a;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xm()("https://news.mirtesen.ru/data/js/".concat(e,".js"),{jsonpCallbackFunction:"news_".concat(e),timeout:5e3});case 3:return r=t.sent,t.next=6,r.json();case 6:if(o=t.sent,a=o.news){t.next=10;break}return t.abrupt("return",n({blockId:e,type:"NATIVE_ADVERT_GET_POSTS",posts:[]}));case 10:a.forEach((function(e){e.dt=c()(e.dt).format("X")})),a.sort((function(e,t){return t.dt-e.dt})),n({blockId:e,type:"NATIVE_ADVERT_GET_POSTS",posts:a.slice(0,20)}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),B.qL.promiseHandler("/index.js")(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((0,B.Pf)(Bm,"mirtesenTop"));var Fm=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;return h()(this,a),e=r.call(this),k()(y()(e),"handleGetMessage",(function(t){var n=e.props.onShowMore;t.data.aggregatorShowMore&&n(e.source,5)})),e.resizeTimeout=null,e.timeoutUpdate=e.timeoutUpdate.bind(y()(e)),e}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props.onShowMore;this.source=B.V5.getParameterByName("source")||"smi2",this.ymGoal=B.V5.getParameterByName("ymGoal")||"",e(this.source,30),window.addEventListener("message",this.handleGetMessage),window.addEventListener("resize",this.timeoutUpdate)}},{key:"componentDidUpdate",value:function(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&this.timeoutUpdate()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.timeoutUpdate),window.removeEventListener("message",this.handleGetMessage)}},{key:"timeoutUpdate",value:function(){var e=this.props.hasMore;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){var t=window.document.body.scrollHeight,n={};n.aggregatorHeight=t,n.aggregatorHasMore=e,window.parent.postMessage(n,"*")}),140)}},{key:"render",value:function(){var e=this,t=this.props.items;return t&&t.length?o.createElement(o.Fragment,null,t.map((function(t,n){return t&&o.createElement("div",{key:"aggregator_item_".concat(t.id,"_").concat(n),onClick:function(){e.ymGoal&&B.gy.ym("reachGoal",e.ymGoal)}},o.createElement("a",{href:t.url,className:"aggregator__item",target:"_blank"},o.createElement("span",{className:"aggregator__item_title"},t.title),o.createElement("span",{className:"aggregator__item_publisher"},o.createElement("img",{className:"aggregator__item_publisher-logo-url",src:t.logo?t.logo:"//mirtesen.ru/static/images/platforma/favicon.ico"}),o.createElement("span",{className:"aggregator__item_publisher-name"},t.domain))))}))):null}}]),a}(o.Component);Fm.propTypes={items:j().array,onShowMore:j().func,hasMore:j().bool};const Hm=(0,i.$j)((function(e){return{items:e.aggregator.items,hasMore:e.aggregator.hasMore}}),(function(e){return{onShowMore:function(t,n){e(Ui(t,n))}}}))((0,B.Pf)(Fm,"aggregator"));var qm=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"linkRef",o.createRef()),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.actionModifyPostPopup,r=t.onRestoreBlogPost,a=t.post,i=a.id,s=a.title,c=a.images,l=a.preview_text,u=a.smi2_id,p=yo.addUtmToUrl(a.seo_url);return o.createElement("div",{className:"blog-post__content",onClick:function(){return e.linkRef.current.click()},onMouseEnter:function(e){return e.currentTarget.classList.add("active")},onMouseLeave:function(e){return e.currentTarget.classList.remove("active")}},o.createElement("a",{href:p,target:"_blank",ref:this.linkRef}),o.createElement(yu,{images:c,title:s,disableRetina:!!u,imgCounter:!0}),o.createElement("h3",{className:"blog-post__title"},s),o.createElement("div",{className:"blog-post__description"},o.createElement("span",{className:"blog-post__description__preview-text blog-post__description__preview-text_fade",dangerouslySetInnerHTML:{__html:B.E6.disinfection(l)}}),o.createElement("span",{className:"read-more-btn"},"Читать далее")),o.createElement(B.qr,{maxCount:10,object:a}),!!n.deletedList[i]&&o.createElement("div",{className:"blog-post__deleted"},"Пост удален...",o.createElement(eo.Z,{onClick:function(){r(i)},label:"Восстановить"})))}}]),a}(o.PureComponent);qm.propTypes={post:j().object,index:j().number,siteBuilder:j().object,app:j().object,user:j().object,magic:j().object,actionModifyPostPopup:j().object,onRestoreBlogPost:j().func},qm.defaultProps={siteBuilder:{}};const Zm=qm;var Gm=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.siteBuilder,n=e.user,r=e.post,a=r.is_draft;return o.createElement("div",{className:"blog-post__footer"},o.createElement("div",{style:{width:"100%"}},!a&&o.createElement(B.Hy,{blogPost:r,siteBuilder:t,currentUser:n,commentsClickHandler:function(e){var t=e.target.closest(".content-column").querySelector("#comment-reply".concat(r.id));t&&(t.scrollIntoView({block:"center"}),t.focus())}})))}}]),a}(o.PureComponent);Gm.propTypes={post:j().object,index:j().number,siteBuilder:j().object,user:j().object},Gm.defaultProps={siteBuilder:{}};const Vm=Gm;var Wm=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props.post.smi2_id;if(e){if(a.viewedPostIds[e])return;a.viewedPostIds[e]=!0,fetch("https://a.mt.ru/clinc/story:".concat(e,"/lead/1")).catch(B.qL.promiseHandler("Post item, component did mount"))}}},{key:"render",value:function(){var e=this.props,t=e.siteBuilder,n=e.app,r=e.user,a=e.actionModifyPostPopup,i=e.onRestoreBlogPost,s=e.onPostAppear,c=e.magic,l=e.post,u=e.index,p=e.hideBottomBorder,d=e.topicList,m=e.nonFriendPostIds,f=e.isPostHidden,h=l.id,_=l.smi2_id,g=L()(l,"group.id"),v=!!_;return g||v?o.createElement("article",{className:M()({"blog-post":!0,"blog-post_fade":f}),key:h,style:p?{borderBottom:"none"}:{}},n.site&&o.createElement(Mu,{app:n,post:l,topicList:d,nonFriendPostIds:m,isSmi2Post:v}),o.createElement(Zm,{siteBuilder:t,user:r,actionModifyPostPopup:a,onRestoreBlogPost:i,magic:c,post:l,index:u}),o.createElement(cl,{onAppear:function(){return s(h)}}),o.createElement(Vm,{siteBuilder:t,user:r,post:l,index:u}),o.createElement(Il,{showV2Comments:yo.isV2Comments(g,l.date),blogPostId:l.id,smi2Id:l.smi2_id,siteId:l.group.id,showListTitle:!1,disableComments:l.close_comments})):null}}]),a}(o.PureComponent);k()(Wm,"viewedPostIds",[]),Wm.propTypes={post:j().object,index:j().number,siteBuilder:j().object,app:j().object,topicList:j().array,user:j().object,magic:j().object,actionModifyPostPopup:j().object,onRestoreBlogPost:j().func,onPostAppear:j().func,hideBottomBorder:j().bool,nonFriendPostIds:j().array,isPostHidden:j().bool,activeTab:j().string},Wm.defaultProps={siteBuilder:{}};const Ym=Wm;var Km=function(e){var t=e.src,n=e.imgCount,r=e.handleOnClick,a=e.postUrl;return o.createElement("div",{className:"blog-post__attachments__photo"},o.createElement("a",{target:"_blank",href:a,onClick:function(e){return r(e)}},o.createElement(B.BH,{src:t}),n>1&&o.createElement("span",{className:"photo-count"},"".concat(n," фото"))))};Km.propTypes={src:j().string,imgCount:j().number,postUrl:j().string,handleOnClick:j().func};const zm=Km;var $m=function(e){var t=e.link,n=t.url,r=t.title,a=t.photo,i=t.embed,s=t.caption;return o.createElement("div",null,a&&o.createElement("a",{href:n},o.createElement(B.BH,{src:a.photo_original})),i&&o.createElement("span",{className:M()({"blog-post__attachments__link-embed":!0}),dangerouslySetInnerHTML:{__html:i}}),o.createElement("div",{className:M()({footer:!0,"without-preview":!(a||i)})},o.createElement("div",{className:"caption"},s),o.createElement("a",{target:"_blank",href:n,className:"title"},r)))};$m.propTypes={link:j().object};const Jm=$m;var Xm=function(e){var t,n=e.video,r=n.url,a=n.caption,i=n.title,s=n.player_html;return o.createElement("div",null,o.createElement("span",{className:M()({"social-repost":(t=s,!(/^<iframe\s*/.test(t)||/^<div class=\"embed-container\"><iframe\s*/.test(t)||/^<object\s*/.test(t)))}),dangerouslySetInnerHTML:{__html:s}}),o.createElement("div",{className:"footer"},o.createElement("a",{target:"_blank",className:"caption",href:"//".concat(a)},a),o.createElement("a",{target:"_blank",className:"title",href:r},i)))};Xm.propTypes={video:j().object};const Qm=Xm;var ef=function(e){var t,n=e.post,r=e.repost,a=e.attachments,i=e.currentUserPostId,s=e.postUrl,c=e.imageGallery,l=0,u=a.filter((function(e){return void 0!==e.photo})).length,p=+n.id==+i;if(!r&&c&&u&&!a[0].video&&!a[0].link)return null;if(0===a.length)return null;var d=!(null==n||null===(t=n.shared_post)||void 0===t||!t.smi2_id);return o.createElement("div",{className:M()({"blog-post__attachments":!0,"blog-post__attachments__link":a[0].link,"blog-post__attachments__video":a[0].video,"blog-post__attachments__photo":a[0].photo,"blog-post__attachments__post_wall":p})},a.map((function(e,t){var a=n.id+t;return void 0!==e.link?o.createElement(Jm,{link:e.link,key:a}):void 0!==e.video?o.createElement(Qm,{video:e.video,key:a}):!c&&void 0!==e.photo&&l++<1?o.createElement(zm,{src:e.photo.photo_original,imgCount:u,postUrl:r?r.url:s,key:a,handleOnClick:function(e){e.preventDefault(),r&&(window.location.href=s)}}):r&&c&&void 0!==e.photo&&l++<1?o.createElement(yu,{images:r.images,title:r.title,url:yo.addUtmToUrl(r.url),key:a,imgCounter:!0,disableRetina:d}):void 0})))};ef.propTypes={post:j().object,repost:j().object,attachments:j().array,currentUserPostId:j().number,postUrl:j().string,imageGallery:j().bool};const tf=ef;var nf=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"getFormattedDate",(function(e){var t=e.formattedDates;e.shared_post&&(t=e.shared_post.formattedDates);var n=t.iso;return n&&B.E6.isPastYear(n)?o.createElement(B.h,{date:n,format:"DD.MM.YYYY в H:mm"}):o.createElement(B.h,{date:n,format:"DD MMMM, H:mm"})})),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.post,n=e.currentUserPostId,r=t.shared_post,a=B.cQ.getRepostSource(t),i=a||{},s=i.display_name,c=i.photo_original,l=i.url;return o.createElement("div",{className:"blog-post__repost__content"},o.createElement("div",{className:"blog-post__author"},o.createElement(B.Hl,{logoInfo:{userName:s,logoImg:c,logoUrl:l,logoClassName:"userlogo_xm"}}),o.createElement("div",{className:"blog-post__author-name-with-time"},o.createElement("a",{className:"blog-post__author-name",href:a.url,target:"_blank"},a.display_name,a.isAuthenticAccount&&o.createElement(B.SF,{color:"dark"})),o.createElement("div",{className:"blog-post__author-time"},o.createElement("a",{href:r.url,className:"blog-post__pubdate"},this.getFormattedDate(r))))),o.createElement("a",{className:"blog-post__description",href:"user_post"===r.post__type?"/people/".concat(a.id,"/blog/").concat(r.id):r.url},r.title&&o.createElement("h3",{className:"blog-post__description__title",dangerouslySetInnerHTML:{__html:B.E6.disinfection(r.title)}}),"user_post"===r.post_type&&o.createElement("p",{dangerouslySetInnerHTML:{__html:B.E6.disinfection(B.cQ.prepareRepostPreview(n,r))}})))}}]),a}(o.PureComponent);nf.propTypes={post:j().object,currentUserPostId:j().number};const rf=nf;var of=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;h()(this,a),t=r.call(this,e),k()(y()(t),"readMore",(function(e,n){var r=t.props.post.mentionedPersons,o=n.id,a=n.previewText,i=n.text,s=n.body;if(n.isTopPost)return!0;var c=(s||i||"").length>300;return!(+e==+o||!a&&!s||!c||r)}));var n=t.props,i=n.currentUserPostId,s=n.post;return t.state={},t.description=B.cQ.preparePersonPostPreview(i,s),t.linkRef=o.createRef(),t}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.post,r=t.actionModifyPostPopup,a=t.onRestoreBlogPost,i=t.currentUserPostId,s=t.imageGallery,c=n.id,l=n.url,u=n.preview,p=n.title,d=n.isTopPost,m=n.shared_post,f=n.images,h=n.title,_=B.cQ.getAttachments(n),g=yo.addUtmToUrl(n.seo_url),v=d?u:this.description,y=this.readMore(i,n),b=i===c;return o.createElement("div",{itemProp:b?"articleBody":null,className:"blog-post__content",onMouseEnter:function(e){return e.currentTarget.classList.add("active")},onMouseLeave:function(e){return e.currentTarget.classList.remove("active")}},o.createElement("a",{href:l,target:"_blank",ref:this.linkRef}),o.createElement("div",{className:"blog-post__content-link",onClick:function(){b||e.linkRef.current.click()}},s&&o.createElement(yu,{images:f,sharedPostTitle:h,url:g,target:"_blank",imgCounter:!0}),p&&o.createElement("h3",{className:"blog-post__title"},p),v&&o.createElement("div",{className:"blog-post__description"},o.createElement("span",{className:M()({"blog-post__description__preview-text":!0,"blog-post__description__preview-text_fade":y&&!d}),dangerouslySetInnerHTML:{__html:B.E6.disinfection(v)}}),y&&!b&&o.createElement("span",{className:"read-more-btn"},"Читать далее")),d&&b&&o.createElement("div",{className:"blog-post__description",dangerouslySetInnerHTML:{__html:B.E6.disinfection(this.description)}})),(_||m)&&!(null!=f&&f.length)&&o.createElement("div",{className:M()({"blog-post__repost__wrapper":m})},null!==_&&o.createElement(tf,{post:n,repost:m,attachments:_,currentUserPostId:i,imageGallery:s,postUrl:l}),m&&o.createElement(rf,{post:n,currentUserPostId:i})),(null==n?void 0:n.foreignPollId)&&o.createElement(B.J3,{postUrl:n.url,pollId:n.foreignPollId}),o.createElement(B.qr,{maxCount:10,object:n}),!!r.deletedList[c]&&o.createElement("div",{className:"blog-post__deleted"},"Пост удален...",o.createElement(eo.Z,{onClick:function(){a(c)},label:"Восстановить"})))}}]),a}(o.PureComponent);of.propTypes={post:j().object,currentUserPostId:j().number,magic:j().object,actionModifyPostPopup:j().object,onRestoreBlogPost:j().func,imageGallery:j().bool};const af=of;var sf=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.siteBuilder,n=e.user,r=e.post,a=e.isCurrentPost,i=r.is_draft;return o.createElement("div",{className:"blog-post__footer"},!i&&o.createElement(B.Hy,{blogPost:r,siteBuilder:t,currentUser:n,showCommentsBtn:!1,postPage:a,tooltip:{behavior:"tooltip"},newMode:!0,commentsClickHandler:function(e){var t=e.target.closest(".content-column").querySelector("#comment-reply".concat(r.id));t?(t.scrollIntoView({block:"center"}),t.focus()):window.location.href="".concat(r.url,"#comment-reply").concat(r.id)}}))}}]),a}(o.PureComponent);sf.propTypes={post:j().object,siteBuilder:j().object,user:j().object,isCurrentPost:j().bool},sf.defaultProps={siteBuilder:{}};const cf=sf;var lf=n(28610);var uf=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.siteBuilder,n=e.app,r=e.user,a=e.post,i=e.currentUserPostId,s=e.isCurrentPost,c=e.index,l=e.magic,u=e.onPostAppear,p=e.actionModifyPostPopup,d=e.onRestoreBlogPost,m=e.imageGallery,f=e.nonFriendPostIds,h=e.hideBottomBorder,_=e.topicList,g=e.isPostHidden,v=a.shared_post,y=a.preview_text,b=a.canonical_url,E=a.owner_id,P=a.id,O=a.from,w=a.from_id,S=a.formattedDates,T=a.url,I=a.isTopPost,C=O&&O.id||w,j=B.E6.cropImage2(L()(a,"images[0].url")),N=(O||{}).display_name,R="Блог пользователя ".concat(N);y&&(R=B.E6.truncateString(y,30)+" - блог пользователя ".concat(N));var A=E===n.pageOwnerId&&C!==n.pageOwnerId,D=E;E||(D=A?r.id:C);var x=s?o.createElement(o.Fragment,null,o.createElement("meta",{itemScope:!0,itemProp:"mainEntityOfPage",itemType:"https://schema.org/WebPage",itemID:(b||T).replace(/^\/\//,"https://"),content:""}),o.createElement("meta",{itemProp:"datePublished",content:S.iso}),o.createElement("meta",{itemProp:"dateModified",content:S.iso}),o.createElement("meta",{itemProp:"headline",content:R}),j&&o.createElement("meta",{itemProp:"image",content:j.replace(/^\/\//,"https://")})):"";return o.createElement("article",{className:M()({"blog-post":!0,"blog-post__user_post":!0,"blog-post__repost":v,"blog-post_top":I,"blog-post_fade":g}),key:P,itemScope:s,itemType:s?"http://schema.org/NewsArticle":null,style:h?{borderBottom:"none"}:{}},x,o.createElement(Mu,{app:n,post:a,topicList:_,nonFriendPostIds:f,index:c}),o.createElement(af,k()({app:n,post:a,actionModifyPostPopup:p,onRestoreBlogPost:d,magic:l,currentUserPostId:i,imageGallery:m},"imageGallery",!0)),o.createElement(cl,{onAppear:function(){return u(a.id)}}),o.createElement(cf,{siteBuilder:t,user:r,post:a,isCurrentPost:s}),o.createElement(Il,{showV2Comments:lf.Z.isV2Comments(C,a.date),blogPostId:P,siteId:D,showListTitle:!1}))}}]),a}(o.PureComponent);uf.propTypes={index:j().number,post:j().object,siteBuilder:j().object,app:j().object,user:j().object,currentUserPostId:j().number,isCurrentPost:j().bool,topicList:j().array,onPostAppear:j().func,actionModifyPostPopup:j().object,magic:j().object,onRestoreBlogPost:j().func,imageGallery:j().bool,nonFriendPostIds:j().array,hideBottomBorder:j().bool,isPostHidden:j().bool},uf.defaultProps={siteBuilder:{}};const pf=uf;function df(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return mf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mf(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function mf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ff=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleClick",(function(){var t=e.props,n=t.isLogged,r=t.openAuthForm,o=t.user,a=t.personVislvl;if(!n)return r("login");e.props.onShowMtPostEditor({isTopPost:!0,author:{id:o.id,name:o.display_name,image:o.photo_original||""},target:{type:"wall",id:o.id,birthday:o.bdate},personVislvl:a})})),k()(y()(e),"getWidget",(function(t){var n=e.props,r=n.widgets,o=n.user,a=n.activeTab,i=(null==o?void 0:o.id)&&("main"===a||"feed"===a);if(!r.length||!i)return null;var s,c=df(r);try{for(c.s();!(s=c.n()).done;){var l=s.value,u=ir()(l,2),p=u[0],d=u[1];if(p===t)return d}}catch(e){c.e(e)}finally{c.f()}return null})),k()(y()(e),"getEmptyPost",(function(){var t=e.props,n=t.activeTab,r=t.user,a=t.posts,i=r||{},s=i.count_friends,c=i.id;if(a.length>0&&"new"===!n)return null;var l="Здесь пока ничего нет";return"new"===n&&(l=o.createElement(o.Fragment,null,o.createElement("p",null,"Пользователи МирТесен ждут ваш ТОП-пост!"),o.createElement(eo.Z,{label:"Создать ТОП-пост",type:"button",onClick:e.handleClick}))),"feed"!==n||s||(l=o.createElement(o.Fragment,null,o.createElement("h3",null,"К сожалению, у вас ещё нет друзей в МирТесен... Что делать?"),o.createElement("ol",null,o.createElement("li",null,"Загляните в ",o.createElement("a",{href:"".concat(vn().mainProto,"://").concat(vn().mainDomain,"/people/").concat(c,"/friends/incoming-requests")},"раздел со входящими заявками на дружбу"),"."),o.createElement("li",null,"Вернитесь на ",o.createElement("a",{href:"".concat(vn().mainProto,"://").concat(vn().mainDomain,"/main")},"главную страницу МирТесен")," с лентой рекомендованных материалов."),o.createElement("li",null,"Подпишитесь на самых активных участников МирТесен 👇")))),o.createElement("article",{className:"blog-post blog-post__no-posts"},l)})),k()(y()(e),"rtbIds",{0:"R-A-91685-293",1:"R-A-91685-261",2:"R-A-91685-290",3:"R-A-91685-291",4:"R-A-91685-292"}),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.posts,r=t.nonFriendPostIds,a=t.siteBuilder,i=t.app,s=t.user,c=t.actionModifyPostPopup,l=t.onRestoreBlogPost,u=t.magic,p=t.onPostAppear,d=t.hasMore,m=t.handleLoadMore,f=t.topicList,h=t.activeTab,_=t.onShowMtPostEditor,g=t.hiddenPosts,v=t.widgetCode,y=(s||{}).count_friends,b=0;i.site=i.site||{};var E=L()(i,"req.isMobile"),P={siteBuilder:a,app:i,user:s,actionModifyPostPopup:c,onRestoreBlogPost:l,magic:u,onPostAppear:p,topicList:f,onShowMtPostEditor:_,nonFriendPostIds:r,activeTab:h};return o.createElement(B.v_,{pageStart:0,loadMore:m,hasMore:d,loader:o.createElement(B.nt,null),threshold:800},n.length>0&&n.map((function(t,n){if(c.approveList[t.id])return null;var r=++b>0&&b%3==0,a=b/3,s=g.indexOf(t.id)>-1;return o.createElement(rc,{key:t.id},e.getWidget(b),t.id&&"user_post"===t.post_type&&o.createElement(pf,Fr()({},P,{post:t,index:n,isPostHidden:s,imageGallery:!0,hideBottomBorder:r})),"user_post"!==t.post_type&&o.createElement(Ym,Fr()({},P,{post:t,index:n,isPostHidden:s,hideBottomBorder:r})),r&&o.createElement("div",{className:"adfox-outer blog-post-list__ad-block"},"indexMainAuthorized"===i.page&&o.createElement(o.Fragment,null,E&&o.createElement(Di,{type:"Politpiar",id:99813}),!E&&o.createElement(Di,{type:"Politpiar",id:99815})),"indexMainAuthorized"!==i.page&&o.createElement(o.Fragment,null,o.createElement(Qr,{adId:2010,subCounter:a}),o.createElement(Qr,{isResize:!0,adId:2011,subCounter:a}))))})),this.getEmptyPost(),"feed"===h&&!y&&this.getWidget(v.TOP_BLOGGERS))}}]),a}(o.Component);ff.propTypes={posts:j().array,nonFriendPostIds:j().array,topicList:j().array,siteBuilder:j().object,app:j().object,user:j().object,activeTab:j().string,actionModifyPostPopup:j().object,magic:j().object,onRestoreBlogPost:j().func,onPostAppear:j().func,hasMore:j().bool,handleLoadMore:j().func,onShowMtPostEditor:j().func,isLogged:j().bool,openAuthForm:j().func,personVislvl:j().string,hiddenPosts:j().array,widgets:j().array,widgetCode:j().object};const hf=ff;n(69720);var _f=function(e){var t,n=e.tabs,r=e.onSetTab,a=e.activeTab,i=e.isLogged;return o.createElement("div",{className:"person-feed-switcher",id:"feed-switcher"},o.createElement("div",{className:"person-feed-switcher__inner"},(t=[],Object.entries(n).forEach((function(e){var n=ir()(e,2),s=n[0],c=n[1];if(c.switcher){var l=c.auth&&!i?"Авторизуйтесь, чтобы увидеть!":c.tooltip;t.push(o.createElement(o.Fragment,{key:"feed-switcher-".concat(s)},o.createElement("button",{type:"button",id:"feed-switcher-".concat(s),className:M()({"person-feed-switcher__btn":!0,"person-feed-switcher__btn_active":a===s}),onClick:function(){("friends"!==s||i)&&r(s)}},c.title),o.createElement(B.u,{target:"feed-switcher-".concat(s),placeId:"feed-switcher",placement:"bottom-center",content:l,offset:"0,8"})))}})),t)))};_f.propTypes={tabs:j().object,activeTab:j().string,isLogged:j().bool,onSetTab:j().func};const gf=(0,o.memo)(_f);var vf=n(8778).pluralize,yf=function(){var e=B.gx.getCurrentUser(),t=B.Bz.getConfig(),n=(0,o.useState)(null),r=ir()(n,2),a=r[0],i=r[1];(0,o.useEffect)((function(){s()}),[]);var s=function(){var e=R()(D().mark((function e(){var t,n,r;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,B.g8.getFriendshipRequests();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:if(e.t0.map((function(e){"INCOME"===e.type.toUpperCase()&&(t=e.items||[])})),!(t.length<1)){e.next=11;break}return i(null),e.abrupt("return");case 11:return n=t.shift(),e.next=14,B.Fc.getById(n.id);case 14:r=e.sent,i(r);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=R()(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B.gy.ym("reachGoal","click_add_friend_block_main"),e.next=3,B.Nw.addToFriends(t,"join_accept");case 3:"undefined"!==e.sent&&(B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:"Новый друг успешно добавлен"}),s());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=R()(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B.gy.ym("reachGoal","click_close_friend_block_main"),e.next=3,B.Nw.deleteFriend(t,"join_reject");case 3:"undefined"!==e.sent&&(B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:"Предложение дружбы отклонено"}),s());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=L()(a,"profileInfo");return B.gx.isLogged()&&L()(a,"id")?o.createElement("div",{className:"card widget-incoming-friend-request"},o.createElement("div",{className:"widget-incoming-friend-request__header"},"С вами хотят дружить"),o.createElement("div",{className:"widget-incoming-friend-request__content"},o.createElement(B.kc,{userId:a.id,tagName:"span"},o.createElement(B.Hl,{logoInfo:{userName:a.display_name,logoImg:a.photo_original,logoClassName:"userlogo_l2",logoUrl:"/"}})),o.createElement("div",null,o.createElement(B.kc,{userId:a.id,tagName:"span"},o.createElement("a",{className:"widget-incoming-friend-request__nickname",href:B.Fc.getUrl(a.id,t.mainProto,t.mainDomain)},a.display_name)),u&&o.createElement("div",{className:"widget-incoming-friend-request__friends-count"},u.mutualFriendsNum," общих"," ",vf(u.mutualFriendsNum,"друг","друга","друзей")))),o.createElement("div",{className:"widget-incoming-friend-request__actions"},o.createElement(eo.Z,{type:"button",onClick:function(){c(a.id)},label:"Дружить"}),o.createElement(eo.Z,{color:"secondary",type:"button",onClick:function(){l(a.id)},label:"Игнорировать"})),o.createElement("div",{className:"widget-incoming-friend-request__footer"},o.createElement("a",{href:B.Fc.getUrl(e.id,t.mainProto,t.mainDomain)+"/friends/incoming-requests"},"Посмотреть все запросы"))):null};const bf=(0,o.memo)(yf);var Ef="/index.js",Pf=(0,o.memo)((function(e){var t=e.title,n=void 0===t?"":t,r=e.userList,a=void 0===r?[]:r,i=e.onAdd,s=e.onDelete,c=e.addButtonText;return o.createElement("div",{className:"recommended-users"},o.createElement("h3",{className:"recommended-users__title"},n),o.createElement("ul",{className:"recommended-users__list"},a.map((function(e){var t=e.mutualFriends,n=void 0===t?[]:t,r=n.slice(0,7);return o.createElement("li",{className:"recommended-users__item",key:e.id},o.createElement(B.kc,{userId:e.id,tagName:"span"},o.createElement(B.Hl,{logoInfo:{userName:e.display_name,logoImg:e.photo_original,logoClassName:"userlogo_m",logoUrl:"https://mirtesen.ru/people/".concat(e.id)}})),o.createElement("div",{className:"recommended-users__item-desc"},o.createElement("div",{className:"recommended-users__user-info"},o.createElement(B.kc,{userId:e.id,tagName:"span"},o.createElement("a",{href:"https://mirtesen.ru/people/".concat(e.id),className:"recommended-users__name"},e.display_name)),n.length>0&&o.createElement("a",{className:"recommended-users__counter",href:"https://mirtesen.ru/people/".concat(e.id,"/friends")},n.length+" "+B.E6.num2string(n.length,["общий","общих","общих"])+" "+B.E6.num2string(n.length,["друг","друга","друзей"]))),o.createElement("div",{className:"recommended-users__friends"},r.map((function(e,t){return o.createElement(B.kc,{userId:e.id,tagName:"span",className:"recommended-users__friends-item",style:{zIndex:r.length-t},key:e.id},o.createElement(B.Hl,{logoInfo:{userName:e.display_name,logoImg:e.photo_original,logoClassName:"userlogo_s",logoUrl:"https://mirtesen.ru/people/".concat(e.id)}}))}))),o.createElement("div",{className:"recommended-users__controls"},o.createElement(eo.Z,{label:c,type:"button",onClick:function(){return i(e.id)}}),o.createElement(eo.Z,{color:"secondary",icon:"close",type:"button",onClick:function(){return s(e.id)},isCompact:!0}))))}))))}));Pf.propTypes={title:j().string,userList:j().array,onAdd:j().func,onDelete:j().func,addButtonText:j().string};const Of=Pf;var wf=(0,o.memo)((function(e){var t=e.recommendedFriends,n=e.getPymk,r=e.setPymkStatus;return(0,o.useEffect)((function(){n(2)}),[n]),t.length?o.createElement(Of,{title:"Вы можете их знать",userList:t,onAdd:function(e){B.gy.ym("reachGoal","click_friend_pymk"),r(e,"add")},onDelete:function(e){B.gy.ym("reachGoal","click_cancel_pymk"),r(e,"delete")},addButtonText:"Дружить"}):null}));wf.propTypes={recommendedFriends:j().array,getPymk:j().func,setPymkStatus:j().func};const Sf=(0,i.$j)((function(e){var t;return{recommendedFriends:null==e||null===(t=e.pymk)||void 0===t?void 0:t.recommendedFriends}}),(function(e){return{getPymk:function(t){e(function(e){return function(){var t=R()(D().mark((function t(n){var r;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.g8.getPymk(e);case 3:return r=t.sent,t.abrupt("return",n({type:"PYMK_GET_RECOMMENDED_FRIENDS",recommendedFriends:r}));case 7:t.prev=7,t.t0=t.catch(0),B.qL.promiseHandler(Ef)(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},setPymkStatus:function(t,n){e(function(e,t){return function(){var n=R()(D().mark((function n(r){return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,B.g8.setPymkStatus(e,t);case 3:n.sent?(r({type:"PYMK_SET_STATUS",id:e}),"add"===t&&B.v0.sendSystemMessage("addFriend")):B.v0.sendSystemMessage("exception"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),B.qL.promiseHandler(Ef)(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((0,B.Pf)(wf,"PymkWidget"));var Tf="/index.js",kf=(0,o.memo)((function(e){var t=e.topAuthors,n=e.getTopAuthors,r=e.setTopAuthorStatus,a=e.showCount;if((0,o.useEffect)((function(){t.length<a&&n()}),[n,a,t]),!t.length)return null;var i=t.slice(0,a);return o.createElement(Of,{title:"Самые активные в МирТесен",userList:i,onAdd:function(e){return r(e,"add")},addButtonText:"Подписаться",onDelete:function(e){return r(e,"delete")},showCount:a})}));kf.propTypes={topAuthors:j().arrayOf(j().object),getTopAuthors:j().func,setTopAuthorStatus:j().func,showCount:j().number};const If=(0,i.$j)((function(e){var t,n;return{topAuthors:null==e||null===(t=e.topAuthors)||void 0===t?void 0:t.userList,showCount:null==e||null===(n=e.topAuthors)||void 0===n?void 0:n.showCount}}),(function(e){return{getTopAuthors:function(){e(function(){var e=R()(D().mark((function e(t,n){var r,o,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n().topAuthors,o=r.offset,r.hasMore){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,B.g8.getTopAuthors(10,o);case 7:return a=e.sent,e.abrupt("return",t({type:"TOP_AUTHORS_GET_LIST",userList:a,offset:o+a.length,hasMore:a.length>=10}));case 11:e.prev=11,e.t0=e.catch(0),B.qL.promiseHandler(Tf)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}())},setTopAuthorStatus:function(t,n){e(function(e,t){return function(){var n=R()(D().mark((function n(r){return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,B.g8.setTopAuthorStatus(e,t);case 3:n.sent?(r({type:"TOP_AUTHORS_SET_STATUS",id:e}),"add"===t&&B.v0.sendSystemMessage("subscribed")):B.v0.sendSystemMessage("exception"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),B.qL.promiseHandler(Tf)(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((0,B.Pf)(kf,"TopAuthorsWidget")),Mf=function(e){var t=e.type,n=e.onClick,r=e.extraClasses,a=e.disabled,i=void 0!==a&&a;return o.createElement(eo.Z,{color:"secondary",onClick:n,extraClasses:M()("swiper-button-".concat(t," arrow-btn_").concat(t),r,{"swiper-button-prev_disabled":i}),isCompact:!0})};var Cf=(0,B.oM)((function(){return Promise.all([n.e(526).then(n.bind(n,88667)),n.e(743).then(n.bind(n,83651))]).then((function(e){return ir()(e,1)[0]}))}),"reactIdSwiper"),jf=(0,o.memo)((function(e){var t=e.children,n=e.title,r=(0,o.useState)(!0),a=ir()(r,2),i=a[0],s=a[1],c=(0,o.useState)(!1),l=ir()(c,2),u=l[0],p=l[1],d=(0,o.useRef)(null),m={slidesPerView:"auto",spaceBetween:10,on:{fromEdge:function(){s(!1),p(!1)},reachBeginning:function(){return s(!0)},reachEnd:function(){return p(!0)},observerUpdate:function(){d.current&&d.current.swiper&&d.current.swiper.slideTo(0),s(!0)}}};return o.createElement("div",{className:"recommendation-swiper"},o.createElement("h3",{className:"recommendation-swiper__title"},n),o.createElement(Cf,Fr()({},m,{ref:d,observer:!0}),t),o.createElement(Mf,{type:"prev",onClick:function(){d.current&&d.current.swiper&&d.current.swiper.slidePrev()},disabled:i}),o.createElement(Mf,{type:"next",onClick:function(){d.current&&d.current.swiper&&d.current.swiper.slideNext()},disabled:u}))}));jf.propTypes={children:j().element,title:j().string};const Nf=jf;var Rf=(0,o.memo)((function(e){var t=e.id,n=e.label,r=e.logoUrl,a=e.isSubscribed,i=e.isMember,s=(0,o.useState)(""),c=ir()(s,2),l=c[0],u=c[1];return(0,o.useEffect)((function(){B.Tt.getSiteSettings(t).then((function(e){var t;return u(null==e||null===(t=e.about)||void 0===t?void 0:t.description)})).catch((function(e){return B.qL.promiseHandler("/index.js")(e)}))}),[t]),o.createElement("div",{className:"recommended-site"},o.createElement(B.Hl,{logoInfo:{logoClassName:"recommended-site__logo",userName:n,logoImg:r}}),o.createElement("h3",{className:"recommended-site__title"},n),o.createElement("p",{className:"recommended-site__text"},l),o.createElement(ku,{wrapperClasses:"recommended-site__subscribe-wrap",onClickHandler:function(){return B.gy.ym("reachGoal","click_recom_chan_lenta")},siteId:t,object:{is_member:i,is_subscribed:a}}))}));Rf.propTypes={id:j().number,label:j().string,logoUrl:j().string,isSubscribed:j().bool,isMember:j().bool};const Af=Rf,Df=function(){var e=(0,o.useState)(null),t=ir()(e,2),n=t[0],r=t[1];return(0,o.useEffect)((function(){!function(){var e=R()(D().mark((function e(){var t;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.Tt.getRatedGroups({page:1,limit:20,period:"PERIOD_MONTH",orderBy:"ORDER_BY_RECOMMEND"});case 3:t=e.sent,r(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),B.qL.promiseHandler("/index.js")(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[]),n?o.createElement(o.Fragment,null,n.map((function(e){var t=e.id,n=e.label,r=e.logo_url,a=e.isSubscribed,i=e.isMember;return o.createElement("div",{className:"swiper-slide",key:t},o.createElement(Af,{id:t,label:n,logoUrl:r,isSubscribed:a,isMember:i}))}))):null};var xf=n(93162);var Lf=B.vc.restoreBlogPost,Bf=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"handleGetMessage",(function(e){var n,r=t.props.onHidePost;"MT_APP_HIDE_POST"===(null==e||null===(n=e.data)||void 0===n?void 0:n.type)&&r(e.data.id)})),k()(y()(t),"handleLoadMore",(function(){var e=t.props.indexMainAuthorized.hasMore,n=t.props.onShowMore;e&&n()})),k()(y()(t),"handleChangeTab",(function(e){var n=t.props,r=n.onSetTab,o=n.onShowMore,a=n.openAuthForm;if(!wr.isLogged()&&B._m.feeds[e].auth)return a("login");window.scrollTo(0,t.feed.current.offsetTop-t.FEED_OFFSET),window.history.pushState(null,"","/".concat(e)),r(e),o()})),t.feed=o.createRef(),t.FEED_OFFSET=16,t.widgetCode={PYMK:3,TOP_BLOGGERS:5,RECOMMENDED_SITES:9},t}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.app,n=e.openAuthForm,r=L()(t,"req.query.auth",null);!wr.isLogged()&&r&&n(r),window.addEventListener("message",this.handleGetMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleGetMessage)}},{key:"render",value:function(){var e=this.props,t=e.indexMainAuthorized,n=e.siteBuilder,r=e.app,a=e.user,i=e.actionModifyPostPopup,s=e.onRestoreBlogPost,c=e.magic,l=e.onPostAppear,u=e.onShowMtPostEditor,p=e.openAuthForm,d=e.personVislvl,m=L()(r,"req.deviceType"),f=t.posts,h=t.hasMore,_=t.nonFriendPostIds,g=t.activeTab,v=t.todayBirthdays,y=t.hiddenPosts,b=[[this.widgetCode.PYMK,o.createElement("div",{className:"blog-post-list__widget-wrap"},o.createElement(Sf,null),o.createElement(xf.Z,null))],[this.widgetCode.TOP_BLOGGERS,o.createElement(If,null)],[this.widgetCode.RECOMMENDED_SITES,o.createElement(Nf,{title:"МирТесен рекомендует"},o.createElement(Df,null))]],E={personVislvl:d,activeTab:g,posts:f,nonFriendPostIds:_,siteBuilder:n,app:r,user:a,actionModifyPostPopup:i,onRestoreBlogPost:s,magic:c,onPostAppear:l,hasMore:h,onShowMtPostEditor:u,handleLoadMore:this.handleLoadMore,topicList:Br.listTopics,isLogged:wr.isLogged(),openAuthForm:p,hiddenPosts:y,widgets:b,widgetCode:this.widgetCode};return o.createElement("div",{id:"index-main-inner-container"},o.createElement("div",{id:"double-column-container"},"phone"!==m&&o.createElement("div",{id:"right-column"},v.length>0&&o.createElement(nl,{todayBirthdays:v}),o.createElement(bf,null),o.createElement(B.gg,null,o.createElement(Di,{type:"Politpiar",id:99808}),o.createElement(Di,{position:"smi2RightBlock"}))),o.createElement("div",{id:"content-column"},o.createElement("div",{className:"blog-post-list blog-post-list_index-main"},wr.isLogged()&&o.createElement(B.G7,{identifier:"default",author:{id:a.id,name:a.display_name,image:a.photo_original||""},target:{type:"wall",id:a.id,birthday:a.bdate},params:{showHoliday:!0,showPoll:!0},topicList:Br.listTopics.filter((function(e){return e.theme})),personVislvl:d}),o.createElement("div",{className:"person-feed",ref:this.feed},"user-posts"!==g&&o.createElement(gf,{tabs:B._m.feeds,activeTab:g,onSetTab:this.handleChangeTab,isLogged:wr.isLogged()}),o.createElement(hf,E)),o.createElement(B.g3,null),o.createElement(B._7,null),o.createElement(B.xX,null),o.createElement(B.Wp,null)))))}}]),a}(o.Component);Bf.propTypes={indexMainAuthorized:j().object,onShowMorePosts:j().func,page:j().number,title:j().string,siteBuilder:j().object,app:j().object,user:j().object,actionModifyPostPopup:j().object,personVislvl:j().string,magic:j().object,onRestoreBlogPost:j().func,onPostAppear:j().func,onShowMore:j().func,onSetTab:j().func,onShowMtPostEditor:j().func,openAuthForm:j().func,onHidePost:j().func},Bf.defaultProps={siteBuilder:{}};const Uf=(0,i.$j)((function(e){return{app:e.app,title:e.indexMainAuthorized.title,indexMainAuthorized:e.indexMainAuthorized,actionModifyPostPopup:e.actionModifyPostPopup,page:e.indexMainAuthorized.page,siteBuilder:e.app.siteBuilder,user:e.auth.user,magic:e.magic,personVislvl:e.personSettings.vislvl}}),(function(e){return{onRestoreBlogPost:function(t){e(Lf(t))},onPostAppear:function(t){return e(Lr(t))},onShowMore:function(t,n,r){e(function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u,p,d,m,f,h,_,g;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n(),a=L()(o,"auth.user.id"),i=o.indexMainAuthorized,s=i.posts,c=i.nonFriendPostIds,l=i.feedId,u=i.nextOffset,p=i.activeTab,d=B._m.getFeedParams(p,!!a),m="main"===p?3:vn().postsPerPage,f={offset:u,limit:m,filter:d.filter,feedId:l,userId:a,disabledIds:s.filter((function(e){return e.disabled_id})).map((function(e){return e.disabled_id}))},e.next=8,d.loader(f);case 8:return h=e.sent,_=L()(h,"items",[]),g=L()(h,"nonFriendPostIds",[]),"main"===p&&"function"==typeof(null===(r=window)||void 0===r?void 0:r.loadMessangerBlocks)&&window.loadMessangerBlocks(_.map((function(e){var t=e.id,n=e.smi2_id;return{id:t||n,postType:n?"smi2":"mt"}}))),e.abrupt("return",t({type:"MAIN_POST_LIST_GET_LIST",nextOffset:u+m,hasMore:_.length>0,posts:[].concat(F()(s),F()(_)),nonFriensPostIds:[].concat(F()(c),F()(g))}));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},onSetTab:function(t){e(function(e){return{type:"MAIN_POST_LIST_SET_TAB",activeTab:e}}(t))},onShowMtPostEditor:function(t){e(B.Yg.showModal("default",null,t))},openAuthForm:function(t){return e(B.we.openAuthForm(t))},onHidePost:function(t){e(function(e){return{type:"MAIN_POST_LIST_HIDE_POST",hiddenPost:e}}(t))}}}))((0,B.Pf)(Bf,"indexMainAuthorized"));n(60086);var Ff=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;h()(this,a);var n=(t=r.call(this,e)).props.req;return t.id=n.id,t.sub=n.sub,t.type=n.type,t}return g()(a,[{key:"render",value:function(){switch(this.type){case"Politpiar":return o.createElement(Oi,{id:this.id});case"Smi2":return o.createElement(Ti,{id:this.id});case"Lentainform":return o.createElement(gi,{scriptId:this.id});case"Smi24BottomBlock":return o.createElement(vi,null);case"Smi24BottomBlock2":return o.createElement(bi,null);case"Smi24RightBlock":return o.createElement(yi,null);case"GnezdoRightBlock":return o.createElement(Ei,null);case"PulseRightBlock":return o.createElement(wi,null);case"SmiFm":return o.createElement(Ii,null);default:return null}}}]),a}(o.PureComponent);Ff.propTypes={req:j().object};const Hf=(0,i.$j)((function(e){return{req:e.app.req}}),null)((0,B.Pf)(Ff,"mtIframe"));var qf=n(1210);function Zf(e){var t;if(!e){var n;if("undefined"==typeof window||null===(n=window)||void 0===n||!n.navigator)return null;e=window.navigator.userAgent}return/iphone|ipad|ipod/gi.test(e)||"undefined"!=typeof window&&/Macintosh/gi.test(e)&&(null===(t=window.navigator)||void 0===t?void 0:t.maxTouchPoints)>1?"ios":/android/gi.test(e)?"android":/linux/gi.test(e)?"linux":/win/gi.test(e)?"windows":/mac/gi.test(e)?"mac":null}var Gf=(0,o.memo)((function(e){var t=e.popularPostsList,n=e.onShowMorePosts,r=t.listType;return o.createElement(o.Fragment,null,o.createElement("h1",{className:"topic-post-list-title"},"commented"===r.toLowerCase()?"Самые обсуждаемые новости МирТесен":"Наиболее популярные новости"),o.createElement(fl,{onLoadMore:n,dispute:"commented"===r.toLowerCase()}))}));Gf.propTypes={popularPostsList:j().object,onShowMorePosts:j().func};const Vf=(0,i.$j)((function(e){return{popularPostsList:e.popularPostsList}}),(function(e){return{onShowMorePosts:function(){e(function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u,p,d,m;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),o=r.popularPostsList.listType,a=r.postTiles.default,i=a.page,s=a.recordsOnPage,c=r.postTiles.default.posts,l=i+1,e.next=8,B.x9.getPopularBlogPosts({type:o,limit:s,offset:(l-1)*s,params:{fieldList:"tile"}});case 8:u=e.sent,c=(c=[].concat(F()(c),F()(u))).filter((function(e){return e.images.length>0})),l>0&&(p="page="+l,d=window.location.href,m=/page=\d+/i,d=-1!==(d=d.replace(m,"").replace("?&","?").replace(/(&|\?)+$/,"")).indexOf("?")?d+"&"+p:d+"?"+p,window.history.pushState(null,"",d)),t({type:"POST_TILES_LOAD_MORE",posts:c,hasMore:u.length>=s,page:l}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),B.qL.promiseHandler("/index.js")(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))((0,B.Pf)(Gf,"popularPostsList"));var Wf=(0,o.memo)((function(e){var t=e.onShowMorePosts;return o.createElement(o.Fragment,null,o.createElement("h1",{className:"topic-post-list-title"},"Блогеры МирТесен",o.createElement("span",null,"Читайте эксклюзивные материалы лучших авторов")),o.createElement("a",{href:"mailto:partners@corp.mirtesen.ru?subject=Хочу стать Блогером в МТ",className:"btn btn-primary",style:{marginBottom:"20px"}},"Стать блогером"),o.createElement(fl,{onLoadMore:t}))}));Wf.propTypes={onShowMorePosts:j().func};const Yf=(0,i.$j)((function(e){return{bloggersPostsList:e.bloggersPostsList}}),(function(e){return{onShowMorePosts:function(){e(function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u,p,d;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),o=r.postTiles.default,a=o.page,i=o.recordsOnPage,s=r.postTiles.default.posts,c=a+1,e.next=7,B.x9.getBloggerPosts({offset:(c-1)*i,limit:i,params:{fieldList:"tile"}});case 7:l=e.sent,s=(s=[].concat(F()(s),F()(l))).filter((function(e){return e.images.length>0})),c>0&&(u="page="+c,p=window.location.href,d=/page=\d+/i,p=-1!==(p=p.replace(d,"").replace("?&","?").replace(/(&|\?)+$/,"")).indexOf("?")?p+"&"+u:p+"?"+u,window.history.pushState(null,"",p)),t({type:"POST_TILES_LOAD_MORE",posts:s,hasMore:l.length>=i,page:c}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),B.qL.promiseHandler("/index.js")(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))((0,B.Pf)(Wf,"bloggersPostsList"));var Kf=(0,o.memo)((function(e){var t=e.compositionPostList;return o.createElement(o.Fragment,null,o.createElement("h1",{className:"topic-post-list-title"},t.title),o.createElement(fl,null))}));Kf.propTypes={compositionPostList:j().object};const zf=(0,i.$j)((function(e){return{compositionPostList:e.compositionPostList}}))((0,B.Pf)(Kf,"CompositionPostList"));var $f=(0,o.memo)((function(e){var t=e.user,n=e.userBalance,r=e.billingList,a=e.onLoadMore;return o.createElement("div",{className:"billing-list"},o.createElement("div",{className:"billing-list__header"},o.createElement("h1",{className:"billing-list__title"},"История операций"),o.createElement("div",{className:"billing-list__info"},t.display_name,", на Вашем счёте",o.createElement("br",null),o.createElement("b",null,n.toFixed(2))," кред.",o.createElement("a",{href:"/payment",className:"billing-list__btn btn btn-primary"},"Пополнить счет"))),o.createElement("div",{className:"billing-list__items"},r.items.length>0&&o.createElement(B.v_,{pageStart:0,loadMore:function(){return a(r.page)},hasMore:r.hasMore,threshold:800,loader:o.createElement(B.nt,null)},o.createElement("div",{className:"table"},o.createElement("div",{className:"th"},o.createElement("div",null,"Дата"),o.createElement("div",null,"Операция"),o.createElement("div",null,"Приход"),o.createElement("div",null,"Расход")),r.items.map((function(e,t){return o.createElement("div",{key:t,className:"tr"},o.createElement("div",null,o.createElement(B.h,{date:e.date,format:"DD.MM.YYYY, H:mm"})),o.createElement("div",null,e.description,o.createElement("br",null),e.article&&o.createElement(o.Fragment,null,o.createElement("i",null,"за ",e.article),o.createElement("br",null)),e.groupName&&o.createElement(o.Fragment,null,"Сайт: ",o.createElement("a",{href:e.groupUrl},e.groupName)),e.remark),o.createElement("div",null,e.income||"0"),o.createElement("div",null,e.outcome||"0"))})))),0===r.items.length&&o.createElement("p",{className:"mt-list__empty"},"Операций не найдено")))}));$f.propTypes={billingList:j().object,user:j().object,userBalance:j().number,onLoadMore:j().func};const Jf=(0,i.$j)((function(e){var t,n;return{billingList:e.billingList,user:(null==e||null===(t=e.auth)||void 0===t?void 0:t.user)||{},userBalance:(null==e||null===(n=e.auth)||void 0===n?void 0:n.userBalance)||0}}),(function(e){return{onLoadMore:function(t){var n;e((n=t,function(){var e=R()(D().mark((function e(t){var r;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.Nj.getBillingHistory(n+1);case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",t({type:"BILLING_LIST_LOAD_MORE",page:n+1,billingList:r,hasMore:!!r.length}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}}))((0,B.Pf)($f,"BillingList"));var Xf=(0,o.memo)((function(){return o.createElement("div",{className:"paymaster"},o.createElement("h1",null,"Пополнить счет"),o.createElement("p",null,"По техническим причинам прием платежей через PayMaster временно приостановлен"))}));Xf.propTypes={userId:j().number};const Qf=(0,i.$j)((function(e){var t,n;return{userId:null==e||null===(t=e.auth)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id}}))((0,B.Pf)(Xf,"paymaster"));var eh=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"formatPublicationTime",(function(e){if(!e)return"";var t=1e3*e;return B.E6.isToday(t)?"Ceгодня":B.E6.isYesterday(t)?"Вчера":B.cQ.getLocalDate(e,"D MMMM")})),t.state={isMounted:!1},t.linkRef=o.createRef(),t}return g()(a,[{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"render",value:function(){var e=this;if(!this.state.isMounted)return null;var t=this.props,n=t.deviceType,r=t.activitiesList,a=r.items,i=r.hasMore,s=t.onLoadMore,c=a.reduce((function(t,n){var r=e.formatPublicationTime(n.date),o=t[r]||[];return o.push(n),t[r]=o,t}),{});return o.createElement("div",{id:"index-main-inner-container"},o.createElement("div",{id:"double-column-container"},"phone"!==n&&o.createElement("div",{id:"right-column"},o.createElement(B.gg,null,o.createElement(Di,{type:"Politpiar",id:99808}),o.createElement(Di,{position:"smi2RightBlock"}))),o.createElement("div",{id:"content-column"},o.createElement("div",{className:"activity-list"},o.createElement("h1",{className:"activity-list__title"},"Уведомления"),o.createElement(B.v_,{pageStart:1,loadMore:s,hasMore:i,threshold:800,loader:o.createElement(B.nt,null)},o.createElement("div",{className:"activity-list__items"},Object.keys(c).map((function(e,t){return o.createElement("div",{className:"activity-list__group",key:t},o.createElement("p",{className:"activity-list__group-title"},e),o.createElement("div",{className:"activity-list__items"},c[e].map((function(e){return o.createElement(B.kz,{item:e,key:e.id,dateFormat:"HH:mm"})}))))}))))))))}}]),a}(o.PureComponent);eh.propTypes={deviceType:j().string,user:j().object,activitiesList:j().object,onLoadMore:j().func};const th=(0,i.$j)((function(e){var t,n;return{activitiesList:e.activitiesList,user:(null==e||null===(t=e.auth)||void 0===t?void 0:t.user)||{},deviceType:null==e||null===(n=e.req)||void 0===n?void 0:n.deviceType}}),(function(e){return{onLoadMore:function(){e(function(){var e=R()(D().mark((function e(t,n){var r,o,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),o=r.activitiesList.nextFrom,e.prev=2,e.next=5,B.Tx.getNotifications(vn().recordsPerPage,o);case 5:(a=e.sent)&&t({type:"ACTIVITIES_LIST_LOAD_MORE",items:a.items,nextFrom:a.next_from,hasMore:!!a.items.length}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),B.qL.promiseHandler("/index.js")(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))((0,B.Pf)(eh,"activitiesList"));var nh=function(e){var t=e.isModalMode;return void 0!==t&&t?o.createElement(B.x2,{isModalMode:!0}):o.createElement("div",{id:"index-main-inner-container"},o.createElement("div",{id:"double-column-container"},o.createElement("div",{id:"right-column"},o.createElement(B.gg,null,o.createElement(Di,{type:"Politpiar",id:99808}),o.createElement(Di,{position:"smi2RightBlock"}))),o.createElement("div",{id:"content-column"},o.createElement(B.x2,null))))};nh.propTypes={isModalMode:j().bool};const rh=(0,o.memo)(nh);var oh=(0,o.memo)((function(e){var t=e.onShowMorePosts;return o.createElement(o.Fragment,null,o.createElement("div",{className:"topic-post-list__header-wrapper"},o.createElement("h1",{className:"topic-post-list-title"},"Публичные чаты МирТесен"),o.createElement("p",null,"Чаты, доступные для всех пользователей МирТесен. Жмите на то, что вам понравилось, присоединяйтесь к чатам, будьте активны, знакомьтесь и общайтесь с единомышленниками. Если вы хотите создать свой чат по любой теме, нажимайте кнопку ниже:"),o.createElement("a",{className:"btn btn-primary",href:"https://chat.mirtesen.ru/messenger/newGroup"},"Создать свой чат")),o.createElement(fl,{onLoadMore:t,gridType:"grid",enableModeration:!1}))}));oh.propTypes={onShowMorePosts:j().func};const ah=(0,i.$j)(null,(function(e){return{onShowMorePosts:function(){e(function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u,p,d;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),o=r.postTiles.default,a=o.page,i=o.recordsOnPage,s=r.postTiles.default.posts,c=a+1,e.next=7,B.x9.getPublicChats({offset:(c-1)*i,limit:i,params:{headers:{"content-type":"application/json"}}});case 7:l=e.sent,s=[].concat(F()(s),F()(l)),c>0&&(u="page="+c,p=window.location.href,d=/page=\d+/i,p=-1!==(p=p.replace(d,"").replace("?&","?").replace(/(&|\?)+$/,"")).indexOf("?")?p+"&"+u:p+"?"+u,window.history.pushState(null,"",p)),t({type:"POST_TILES_LOAD_MORE",posts:s,hasMore:l.length>=i,page:c}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),B.qL.promiseHandler("/index.js")(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))((0,B.Pf)(oh,"PublicChatsList"));var ih=(0,o.memo)((function(e){var t=e.place,n=e.onLoadMore;return o.createElement(o.Fragment,null,o.createElement("h1",{className:"topic-post-list-title"},"".concat(t.house?t.house+", ":"").concat(t.city||"")),o.createElement(fl,{onLoadMore:n,enableModeration:!1}))}));ih.propTypes={place:j().object,onLoadMore:j().func};const sh=(0,i.$j)((function(e){return{place:e.place}}),(function(e){return{onLoadMore:function(){e(function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u,p,d,m;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),o=r.postTiles.default,a=o.page,i=o.recordsOnPage,s=r.postTiles.default.posts,c=r.place.tag,l=a+1,e.next=8,B.x9.getPostsByTag({tag:c,offset:(a-1)*i,limit:i,params:{fieldList:"tile"}});case 8:u=e.sent,s=(s=[].concat(F()(s),F()(u))).filter((function(e){return e.images.length>0})),s=B.Zf.removeDuplicates(s,"title"),l>0&&(p="page="+l,d=window.location.href,m=/page=\d+/i,d=-1!==(d=d.replace(m,"").replace("?&","?").replace(/(&|\?)+$/,"")).indexOf("?")?d+"&"+p:d+"?"+p,window.history.pushState(null,"",d)),t({type:"POST_TILES_LOAD_MORE",posts:s,hasMore:u.length>=i,page:l}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),B.qL.promiseHandler("/index.js")(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))((0,B.Pf)(ih,"place"));var ch=function(e){var t=e.activeTab,n=e.menuConfig,r=e.searchValue,a=e.handleChangeTab,i=Object.keys(n).map((function(e){var i=n[e],s=t===e?"span":"a",c=r?i.url+"/?q="+encodeURIComponent(r):i.url;return o.createElement("li",{className:"mt-search-menu__item",key:e},o.createElement(s,{href:t!==e?c:null,onClick:function(t){t.preventDefault(),a(e),window.history.pushState(null,"",c)}},i.title))}));return o.createElement("ul",{className:"mt-search-menu"},i)};ch.propTypes={menuConfig:j().object,activeTab:j().string,searchValue:j().string,handleChangeTab:j().func};const lh=(0,o.memo)(ch);var uh=function(e){var t=e.mtSearch,n=e.onChangeSearch,r=e.onChangeTab,a=t.activeTab,i=t.tabs,s=t.searchValue;return o.createElement("div",{className:"mt-search-header"},o.createElement("h1",null,"Результаты поиска"),o.createElement(B.Mj,{defaultValue:s,handleSearch:n,searchUrl:i[a].url}),o.createElement(lh,{activeTab:a,searchValue:s,menuConfig:i,handleChangeTab:r}))};uh.propTypes={mtSearch:j().object,onChangeSearch:j().func,onChangeTab:j().func};const ph=(0,o.memo)(uh);function dh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dh(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fh=function(){return function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u,p,d,m,f,h,_,g,v,y,b;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"MT_SEARCH_TOGGLE_LOADING"}),o=n().mtSearch,a=o.searchValue,i=o.activeTab,s=o.tabData,c=null==s||null===(r=s[i])||void 0===r?void 0:r.page,l="all"===i,u={count:vn().recordsPerPage,offset:l?0:c*vn().recordsPerPage},p={page:l?1:c+1,limit:vn().recordsPerPage,period:vn().groups.defaultPeriod,orderBy:vn().groups.defaultOrder},d={type:"LIKED",limit:vn().recordsPerPage,offset:0,params:{fieldList:"tile"}},m=[],e.t0=i,e.next="people"===e.t0?12:"groups"===e.t0?16:"posts"===e.t0?20:24;break;case 12:return m.push(B.lv.search(a,"ALL_PEOPLE",u)),m.push(Promise.resolve([])),m.push(Promise.resolve([])),e.abrupt("break",27);case 16:return m.push(Promise.resolve([])),a?m.push(B.lv.search(a,"ALL_SITES",u)):m.push(B.Tt.getRatedGroups(p)),m.push(Promise.resolve([])),e.abrupt("break",27);case 20:return m.push(Promise.resolve([])),m.push(Promise.resolve([])),a?m.push(B.lv.search(a,"ALL_POSTS",u)):m.push(B.x9.getPopularBlogPosts(d)),e.abrupt("break",27);case 24:return m.push(B.lv.search(a,"ALL_PEOPLE",u)),a?(m.push(B.lv.search(a,"ALL_SITES",u)),m.push(B.lv.search(a,"ALL_POSTS",u))):(m.push(B.Tt.getRatedGroups(p)),m.push(B.x9.getPopularBlogPosts(d))),e.abrupt("break",27);case 27:return e.prev=27,e.next=30,Promise.all(m);case 30:return f=e.sent,h=ir()(f,3),_=h[0],g=h[1],v=h[2],y={people:_,groups:Array.isArray(g)?g:(null==g?void 0:g.items)||[],posts:v},b={},Object.keys(s).forEach((function(e){b[e]=mh(mh({},s[e]),{},{data:[].concat(F()(s[e].data),F()(y[e])),page:e===i?c+1:0,hasMore:e===i&&y[e].length>=vn().recordsPerPage})})),t({type:"MT_SEARCH_TOGGLE_LOADING"}),e.abrupt("return",t({type:"MT_SEARCH_GET_RESULTS",tabData:b,searchValue:a}));case 42:e.prev=42,e.t1=e.catch(27),t({type:"MT_SEARCH_TOGGLE_LOADING"}),B.qL.promiseHandler("/index.js")(e.t1);case 46:case"end":return e.stop()}}),e,null,[[27,42]])})));return function(t,n){return e.apply(this,arguments)}}()},hh=(0,o.memo)((function(e){var t,n,r,a,i=e.mtSearch,s=e.onSearch,c=e.onChangeTab,l=e.onChangeSearch,u=i.tabData,p=i.activeTab,d=i.tabs,m=i.isLoading,f=i.searchValue;return o.createElement("div",{className:"mt-search"},o.createElement(ph,{mtSearch:i,onChangeSearch:l,onChangeTab:c}),o.createElement("div",{className:"mt-search__results"},Object.keys(u).map((function(e){var t,n=u[e],r=d[e];if(null==n||null===(t=n.data)||void 0===t||!t.length)return null;var a="posts"===e?10:2,i="all"===p?n.data.slice(0,a):n.data;return o.createElement(B.v_,{key:e,pageStart:0,loadMore:function(){s()},hasMore:n.hasMore,loader:o.createElement(B.nt,null),threshold:500},o.createElement(lc,null,o.createElement("header",{className:"mt-search__group-header"},o.createElement("h4",{className:"mt-search__group-title"},r.title)),o.createElement("div",{className:"mt-search__group-list"},i.map((function(t){var n;switch(e){case"people":n=o.createElement(ac,{person:t,key:t.id});break;case"groups":n=o.createElement(Cm,{group:t,key:t.id,showMembers:!0});break;case"posts":n=o.createElement(ju,{item:t,key:t.id});break;default:n=null}return n}))),"all"===p&&o.createElement("div",{className:"mt-search__group-footer"},o.createElement("a",{href:r.url+"/?q="+encodeURIComponent(f),className:"btn btn-secondary mt-search__group-link"},"Показать все"))))})),"all"!==p&&0===(null===(t=u[p])||void 0===t||null===(n=t.data)||void 0===n?void 0:n.length)&&!m&&o.createElement(lc,null,o.createElement("p",{className:"mt-list__empty"},"По Вашему запросу ничего не найдено")),(0===(null===(r=u[p])||void 0===r||null===(a=r.data)||void 0===a?void 0:a.length)&&m||"all"===p&&m)&&o.createElement(B.nt,null)))}));hh.propTypes={mtSearch:j().object,onSearch:j().func,onChangeTab:j().func,onChangeSearch:j().func};const _h=(0,i.$j)((function(e){return{mtSearch:e.mtSearch}}),(function(e){return{onSearch:function(){e(fh())},onChangeTab:function(t){e(function(e){return function(t){return t({type:"MT_SEARCH_SET_TAB",activeTab:e}),t(fh())}}(t))},onChangeSearch:function(t){e(function(e){return function(t){return t({type:"MT_SEARCH_SET_SEARCH",searchValue:e}),t(fh())}}(t))}}}))(hh),gh=function(){return o.createElement("div",null,"Module content TS v2")},vh=function(){return o.createElement("div",null,"Module content TS v2-modules")};var yh=function(){return o.createElement("div",{className:"test-js"},o.createElement("div",null,"Module content JS v2-modules"),o.createElement("div",null,"Import TS inside JS v2-modules"),o.createElement(vh,null))};const bh=(0,o.memo)(yh);const Eh=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){return o.createElement(o.Fragment,null,o.createElement("h1",null,"Test TypeScript Page"),o.createElement("h3",null,"Test import from v2 Ts"),o.createElement(gh,null),o.createElement("h3",null,"Test import from v2-modules Js"),o.createElement(bh,null),o.createElement("h3",null,"Test import from V2-modules Ts"),o.createElement(vh,null))}}]),a}(o.PureComponent),Ph=function(){return o.createElement("section",{className:"about-platform-contacts"},o.createElement("h2",{className:"about-platform__title"},"Контакты"),o.createElement("div",{className:"about-platform-contacts__container"},o.createElement("div",{className:"about-platform-contacts__map"},o.createElement("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2244.9741082257747!2d37.644065216402964!3d55.75895198055501!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x46b54a8ac40233d7%3A0xa1a6afabe750c23a!2z0YPQuy4g0J_QvtC60YDQvtCy0LrQsCwgMTgvMTgsINCc0L7RgdC60LLQsCwgMTAxMDAw!5e0!3m2!1sru!2sru!4v1556552802484!5m2!1sru!2sru",allowFullScreen:!0})),o.createElement("div",{className:"about-platform-contacts__desc"},o.createElement("div",{className:"about-platform-contacts__row"},o.createElement("p",null,"Россия, Москва,",o.createElement("br",null)," ул. Покровка, 18/18, с.1")),o.createElement("div",{className:"about-platform-contacts__row"},o.createElement("p",null,o.createElement("span",{className:"about-platform-contacts__tel"},"+7 (495) 626-43-91")),o.createElement("p",{className:"about-platform-contacts__text"},"Заполните бриф, и мы вам перезвоним"),o.createElement("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSe5HXE1zx4SKll5qKq9KNWikpdEjercfCqwtwzVWeX1Wd4Mkg/viewform",className:"about-platform__btn",target:"_blank"},"Заполнить бриф")),o.createElement("div",{className:"about-platform-contacts__row"},o.createElement("p",{className:"about-platform-contacts__subtitle"},"По вопросам партнёрства и спецпроектов"),o.createElement("a",{href:"mailto:adv@corp.mirtesen.ru"},"partners@corp.mirtesen.ru"),o.createElement("p",{className:"about-platform-contacts__subtitle"},"По вопросам рекламы"),o.createElement("a",{href:"mailto:adv@corp.mirtesen.ru"},"adv@corp.mirtesen.ru"),o.createElement("p",{className:"about-platform-contacts__subtitle"},"Помощь и форма обратной связи"),o.createElement("a",{href:"//mirtesen.ru/feedback/report",target:"_blank"},"mirtesen.ru/feedback/report")))))},Oh=function(){return o.createElement("section",{className:"about-platform__stats"},o.createElement("h2",{className:"about-platform__title"},"Миртесен в цифрах"),o.createElement("table",null,o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",null,"Просмотры"),o.createElement("td",null,"262 000 000 / мес")),o.createElement("tr",null,o.createElement("td",null,"Посетители"),o.createElement("td",null,"30 000 000 / мес")),o.createElement("tr",null,o.createElement("td",null,"Возраст аудитории"),o.createElement("td",null,"30-45 лет")),o.createElement("tr",null,o.createElement("td",null,"Пол"),o.createElement("td",{className:"about-platform__stats-gender"},o.createElement("span",null,"Женщины: 55%")," ",o.createElement("span",null,"Мужчины: 45%"))),o.createElement("tr",null,o.createElement("td",null,"Преобладающие интересы"),o.createElement("td",null,o.createElement("span",null,"Дом"),o.createElement("span",null,"Семья"),o.createElement("span",null,"Финансы"),o.createElement("span",null,"Путешествия"),o.createElement("span",null,"Развлечения"))),o.createElement("tr",null,o.createElement("td",null,"Доход"),o.createElement("td",null,"B+")))))};var wh=function(e){E()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function i(e){var t;h()(this,i),t=r.call(this,e),k()(y()(t),"handleScroll",(function(){var e=t.state,n=e.offsetTop,r=e.isSticked,o=document.documentElement.scrollTop||document.body.scrollTop;o>n&&!r&&t.setState({isSticked:!0}),o<n&&r&&t.setState({isSticked:!1})})),k()(y()(t),"setOffsetTop",(function(){if(a.findDOMNode(t.sideBlock)){var e=a.findDOMNode(t.sideBlock).getBoundingClientRect().top,n=t.state.isMenu?e+window.pageYOffset-90:e+window.pageYOffset-25;t.setState({offsetTop:n})}})),k()(y()(t),"updateResize",(function(){t.resizeTimeout&&clearTimeout(t.resizeTimeout),t.resizeTimeout=setTimeout((function(){t.handleScroll()}),80)}));var n=t.props.isMenu,o=void 0!==n&&n;return t.state={isSticked:!1,offsetTop:0,isMenu:o},t.resizeTimeout=null,t.files={presentation:{label:"Презентация",format:"PPTX",size:"2.6Mb",link:"Mirtesen_Mediakit_2019.pptx"},logo:{label:"Логотип ",format:"ZIP",size:"375Kb",link:"MirtesenLogo.zip"},price:{label:"Прайс-лист",format:"XLS",size:"75Kb",link:"Mirtesen_price_2021.xls"},mediaKit:{label:"Медиа-кит МТ",format:"PPTX",size:"3.9Mb",link:"Mirtesen_Mediakit_2021.pdf"},mediaKitGlagol:{label:'Медиа-кит "ГлагоL"',format:"PDF",size:"3.1Mb",link:"Mirtesen_Glagol_Mediakit_2021.pdf"},smiRegistration:{label:"Выписка из реестра СМИ",format:"PDF",size:"65Kb",link:"Glagol_smi_reg.pdf"},partnership1:{label:"Партнерство 1.0",format:"PPTX",size:"1.8Mb",link:"Mirtesen_Partnership_1.0_2019.pptx"},partnership2:{label:"Партнерство 2.0",format:"PPTX",size:"5.6Mb",link:"Mirtesen_Partnership_2.0_2019.pptx"},video:{label:"Видеосеть МТ",format:"PDF",size:"5.9Mb",link:"Panda_P.pdf"},video2:{label:"Видеосеть МТ Продакшн",format:"PDF",size:"4.7Mb",link:"Panda_PR.pdf"},appGooglePlay:{label:"Для Android",buttonLabel:"Установить",link:"https://play.google.com/store/apps/details?id=ru.mirtesen.mobile&hl=ru",target:"_blank",format:"Google Play"},appWindow:{label:"Для Windows",format:"Установ. файл .exe",size:"44.0Mb",link:"http://app.mtml.ru/desktop/stable/0.7.6/MirTesen%20Setup%200.7.6.exe",buttonLabel:"Установить"},appLinux:{label:"Для Linux",format:"Уст. файл .appimage",size:"53.1Mb",link:"http://app.mtml.ru/desktop/stable/0.7.6/MirTesen-0.7.6.AppImage",buttonLabel:"Установить"},appStore:{label:"Для iOS",link:"https://apps.apple.com/ru/app/%D0%BC%D0%B8%D1%80%D1%82%D0%B5%D1%81%D0%B5%D0%BD-%D0%B4%D1%80%D1%83%D0%B7%D1%8C%D1%8F-%D1%80%D1%8F%D0%B4%D0%BE%D0%BC/id1229626373",buttonLabel:"Установить",target:"_blank",format:"Apple Store"}},t.contactInfo={advertisement:{text:"Написать в рекламный отдел",link:"mailto:adv@corp.mirtesen.ru",linkText:"adv@corp.mirtesen.ru"},partnership:{text:"Написать в партнерский отдел",link:"mailto:partners@corp.mirtesen.ru",linkText:"partners@corp.mirtesen.ru"},help:{text:"Помощь и форма обратной связи",link:"//mirtesen.ru/feedback/report",linkText:"mirtesen.ru/feedback/report"},support:{text:"Обратиться в техподдержку",link:"mailto:support@mirtesen.ru",linkText:"support@mirtesen.ru"},appSupport:{text:"Помощь и форма обратной связи",link:"mirtesen.ru/feedback/report",linkText:"mirtesen.ru/feedback/report"}},t}return g()(i,[{key:"componentDidMount",value:function(){this.setOffsetTop(),window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.updateResize),setTimeout(this.handleScroll,0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.updateResize)}},{key:"render",value:function(){var e=this,t=this.props,n=t.save,r=void 0===n?[]:n,a=t.contacts,i=void 0===a?[]:a,s=t.isMobile,c={sticked:this.state.isSticked,"offset-lg":this.state.isMenu};return o.createElement("div",{className:s?null:M()(c),ref:function(t){return e.sideBlock=t}},r.length>0&&o.createElement("div",{className:"about-platform__side-block"},r.map((function(t,n){var r=e.files[t],a=r.label,i=r.size,s=r.format,c=r.link,l=r.buttonLabel,u=r.target;return o.createElement("div",{className:"about-platform__save",key:n},o.createElement("div",{className:"about-platform__save_name"},o.createElement("p",null,a),(s||i)&&o.createElement("p",null,s&&o.createElement("span",null,s),i&&o.createElement("span",null,i))),o.createElement("a",{href:/^http/.test(c)?c:"/b2b/".concat(c),className:"about-platform__btn",download:!0,target:u||null},l||"Скачать"))}))),i>0&&o.createElement("div",{className:"about-platform__side-block"},i.map((function(t,n){var r=e.contactInfo[t],a=r.text,i=r.link,s=r.linkText;return o.createElement("div",{className:"about-platform__contact-info",key:n},o.createElement("p",null,a),o.createElement("a",{href:i},s))}))))}}]),i}(o.PureComponent);wh.propTypes={save:j().array,contacts:j().array,isMenu:j().bool,isMobile:j().bool};const Sh=wh;var Th=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"handleScroll",(function(){var e=y()(t),n=e.headerHeight,r=e.secondaryHeaderHeight,o=t.state.isHeaderSticked,a=document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.clientHeight||document.body.clientHeight,s=document.documentElement.scrollHeight||document.documentElement.scrollHeight,c=t.sectionsRef.map((function(e){return t.getPosition(e)}));if(a>(o?r:n+r)?t.setState({isMenuSticked:!0}):t.setState({isMenuSticked:!1}),a+i+40>s)t.setState({currentNavButtonIndex:c.length-1});else{var l=c.reduce((function(e,t,n){return a>t-250?n:e}),0);t.setState({currentNavButtonIndex:l})}})),k()(y()(t),"handleResize",(function(){t.headerRef&&t.setState({isHeaderSticked:"sticky"===getComputedStyle(t.headerRef).position})})),k()(y()(t),"handleScrollToElement",(function(e){var n=y()(t).sectionsRef;if(n&&n.length){var r=t.state.isHeaderSticked?150:80;window.scrollTo(0,t.getPosition(n[e])-r)}})),k()(y()(t),"debounceResize",tc()(t.handleResize,400)),k()(y()(t),"throttleScroll",d()(t.handleScroll,80)),t.state={isMenuSticked:!1,isHeaderSticked:!1,currentNavButtonIndex:0},t.topMenuRef=o.createRef(),t.sectionsRef=null,t.headerRef=null,t.secondaryHeaderRef=o.createRef(),t.headerHeight=null,t.secondaryHeaderHeight=null,t}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props.sections;e&&e.length&&(window.addEventListener("scroll",this.throttleScroll),window.addEventListener("resize",this.debounceResize),this.setRefs(),this.setHeight(),this.handleScroll(),this.handleResize())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.throttleScroll),window.removeEventListener("resize",this.debounceResize)}},{key:"setRefs",value:function(){this.sectionsRef=this.props.sections.map((function(e,t){return document.getElementById("aboutPlatformSection-".concat(t))})),this.headerRef=document.getElementById("header")}},{key:"setHeight",value:function(){var e;this.headerHeight=(null===(e=this.headerRef)||void 0===e?void 0:e.clientHeight)||0,this.secondaryHeaderHeight=this.secondaryHeaderRef.current.clientHeight}},{key:"getPosition",value:function(e){return e.getBoundingClientRect().top+(document.documentElement.scrollTop||document.body.scrollTop)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.page,a=n.sections,i=this.state,s=i.isMenuSticked,c=i.currentNavButtonIndex,l={"about-platform__scroll-tabs-wrap":!0,"about-platform__scroll-tabs_sticked":s},u="",p="",d="default";switch(r){case"newsListPlatform":case"newsItemPlatform":u="Новости",p="about-platform__page-header_news";break;case"partnersPlatform":u="Партнёрам",p="about-platform__page-header_partners";break;case"promoPlatform":u="Рекламодателям",p="about-platform__page-header_promo";break;case"agreementPlatform":u="Пользовательское соглашение",p="about-platform__page-header_agreement";break;case"glagolPlatform":u="Что такое ГлагоL?",p="about-platform__page-header_glagol";break;case"appPlatform":u="Читайте. Дружите.\nОбщайтесь!",p="about-platform__page-header_app",d="app";break;default:u="Что такое Миртесен?",p="about-platform__page-header_about"}var m=(e={"about-platform__page-header":!0},k()(e,p,!0),k()(e,"about-platform__page-header_sticked",s),e);return o.createElement(o.Fragment,null,"app"===d&&o.createElement("div",{className:M()(m),ref:this.secondaryHeaderRef},o.createElement("div",{className:"about-platform__page-header_app-content"},o.createElement("div",null,u),o.createElement("p",null,"Используйте новое приложение МирТесен\nс каналами, чатами и сообщениями!"),o.createElement("div",null,o.createElement("a",{className:"about-platform__page-header_app-button",href:"https://play.google.com/store/apps/details?id=ru.mirtesen.mobile",target:"_blank"}),o.createElement("a",{className:"about-platform__page-header_app-button",href:"https://apps.apple.com/ru/app/%D0%BC%D0%B8%D1%80%D1%82%D0%B5%D1%81%D0%B5%D0%BD/id1229626373",target:"_blank"})),o.createElement("span",{className:"about-platform__page-header_app-slider"}))),"default"===d&&o.createElement("div",{className:M()(m),ref:this.secondaryHeaderRef},o.createElement("div",null,u)),o.createElement("div",{className:M()(l)},o.createElement("div",{id:"aboutPlatformScrollTabs",className:"about-platform__scroll-tabs"},a&&a.map((function(e,n){return o.createElement("button",{key:n,className:M()({current:n===c}),onClick:function(){t.handleScrollToElement(n)}},e)})))))}}]),a}(o.PureComponent);Th.defaultProps={href:null,target:null},Th.propTypes={page:j().string,sections:j().array,href:j().oneOfType([j().string,j().object]),target:j().oneOfType([j().object,j().string])};const kh=Th;var Ih=(0,B.oM)((function(){return Promise.all([n.e(526).then(n.bind(n,88667)),n.e(743).then(n.bind(n,83651))]).then((function(e){return ir()(e,1)[0]}))}),"reactIdSwiper"),Mh=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"handleResize",(function(){var e=t.state.currentIndex,n=t.getVisibleThumbs();if(n!==t.state.visibleThumbs){var r=t.getInitialPosition(n,e),o=t.getBorderEl(r,n);t.setState({visibleThumbs:n,position:r,borderEl:o})}})),k()(y()(t),"handleArrowClick",(function(e){var n=t.state.gallery;"prev"===e&&n.slidePrev(),"next"===e&&n.slideNext()})),k()(y()(t),"handleThumbClick",(function(e){t.state.gallery.slideTo(e)})),k()(y()(t),"handleSlideChange",(function(){var e=t.state,n=e.gallery,r=e.currentIndex,o=e.visibleThumbs;if(n&&r!==n.activeIndex){var a=n.activeIndex,i=t.getNewPosition(a),s=t.getBorderEl(i,o);t.setState({currentIndex:n.activeIndex,position:i,borderEl:s})}})),k()(y()(t),"getInitialPosition",(function(e,n){var r=t.state.step,o=-(t.props.history.thumbs.length-e)*r,a=-(n-(e-1))*r;return a>0&&(a=0),a<o&&(a=o),a})),k()(y()(t),"getNewPosition",(function(e){var n=t.state,r=n.step,o=n.position,a=n.currentIndex,i=n.borderEl,s=t.props.history.thumbs;return a<e&&a===i.right&&e<s.length?o-r:a>e&&a===i.left&&e>=0?o+r:o})),k()(y()(t),"getVisibleThumbs",(function(){var e=t.thumbsContainer.offsetWidth;return Math.floor(e/t.state.step)})),k()(y()(t),"getBorderEl",(function(e,n){var r=t.state.step;return{left:-e/r,right:-e/r+n-1}})),t.state={visibleThumbs:0,currentIndex:0,step:64,position:0,gallery:null,borderEl:{right:0,left:0}},t.galleryRef=t.galleryRef.bind(y()(t)),t}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props.history.initialSlide;window.addEventListener("resize",this.handleResize);var t=this.getVisibleThumbs(),n=this.getInitialPosition(t,e),r=this.getBorderEl(n,t);this.setState({currentIndex:e,position:n,visibleThumbs:t,borderEl:r})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"galleryRef",value:function(e){e&&this.setState({gallery:e.swiper})}},{key:"render",value:function(){var e=this,t=this.state,n=t.position,r=t.currentIndex,a=this.props.history,i=a.initialSlide,s=a.slides,c=a.thumbs,l={spaceBetween:10,touchEventsTarget:"wrapper",slidesPerView:1,initialSlide:i,on:{slideChange:this.handleSlideChange}},u={transform:"translateX(".concat(n,"px)")},p=r<=0,d=r>=c.length-1;return o.createElement("div",{className:"about-platform__history"},o.createElement("div",{className:"about-platform__history-thumbs"},o.createElement("button",{className:"about-platform__arrow about-platform__arrow_prev",onClick:function(){return e.handleArrowClick("prev")},disabled:p},"prev"),o.createElement("div",{className:"about-platform__history-thumbs-wrap",ref:function(t){return e.thumbsContainer=t}},o.createElement("div",{className:"about-platform__history-thumbs-content",style:u},c.map((function(t,n){var a=r===n?"about-platform__history-thumb about-platform__history-thumb_active":"about-platform__history-thumb";return o.createElement("button",{type:"button",className:a,key:n,onClick:function(){return e.handleThumbClick(n)}},t)})))),o.createElement("button",{className:"about-platform__arrow about-platform__arrow_next",onClick:function(){return e.handleArrowClick("next")},disabled:d},"next")),o.createElement(Ih,Fr()({},l,{ref:this.galleryRef}),s.map((function(e,t){return o.createElement("div",{key:t},e)}))))}}]),a}(o.PureComponent);Mh.propTypes={history:j().object};const Ch=Mh;var jh=function(e){var t=e.team;return o.createElement("div",{className:"about-platform__team"},t.map((function(e,t){return o.createElement("div",{className:"about-platform__team-item",key:t},o.createElement("div",{className:"about-platform__team-item-img"},o.createElement("img",{src:e.imageUrl,alt:"".concat(e.name," ").concat(e.lastName)})),o.createElement("div",{className:"about-platform__team-item-info"},o.createElement("div",null,e.name,o.createElement("br",null),e.lastName),o.createElement("div",null,e.position)))})))};jh.propTypes={team:j().array};const Nh=jh;var Rh=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props.app,t=["Краткое описание","Статистика","История компании","Команда","Контакты"],n=e.req&&e.req.deviceType&&("phone"===e.req.deviceType||"tablet"===e.req.deviceType),r=n?["mediaKit"]:["logo","mediaKit","price","video","video2"],a=n?[]:["advertisement","support"];return o.createElement("div",{className:"about-platform__content-wrapper"},o.createElement(kh,{page:e.page,sections:t}),o.createElement("div",{className:"about-platform__content"},o.createElement("div",null,o.createElement("section",{id:"aboutPlatformSection-0"},o.createElement("h2",{className:"about-platform__title"},"Краткое описание"),o.createElement("p",null,"Миртесен — это медиаплатформа с тематическим контентом от медиа, коммерческих брендов, организаций и пользователей, объединенных в соцсеть."),o.createElement("p",null,"Основной продукт для конечного пользователя — новостная лента, материалы в которой подбираются индивидуально."),o.createElement("p",null,"Форма присутствия для юрлиц в МирТесен — представительство. Это сайт, контент которого импортируется из официальной площадки автоматически и нативно распространяется внутри МирТесен. Каждая единица контента представительства показывается пользователям в зависимости от их интересов."),o.createElement("p",null,"Медиаплатформа Миртесен оснащена всеми рекламными механиками, а также включает в себя видеосеть, автоматическую рекламную сеть, ежесуточная рассылка по 16 млн адресатов и возможность размещения спецпроектов с высокой вовлеченностью аудитории.")),n&&o.createElement("section",null,o.createElement(Sh,{save:r,contacts:a,isMobile:!0})),o.createElement("div",{id:"aboutPlatformSection-1"},o.createElement(Oh,null)),o.createElement("section",{className:"about-platform__history-wrapper",id:"aboutPlatformSection-2"},o.createElement("h2",{className:"about-platform__title"},"История компании"),o.createElement(Ch,{history:{thumbs:["2006","2007","2008","2012","2013","2014","2015","2016","2017","2018","2019"],slides:["Появление соцсети 'МирТесен' как ресурса для связи с одноклассниками","Переформатирование 'МирТесен' в геолокационный сервис для поиска друзей","Приобретение 'МирТесен' инвестиционным холдингом 'Финам'","Смена команды, слияние со СМИ2, переход в управление холдинга 'Е-Генератор'","Слияние с медицинской соцсетью 'Полон сил' и информационным ресурсом 'Финам.инфо'","Превращение из геолокационного сервиса в социальную медиаплатформу 'МирТесен'","Интеграция в 'МирТесен' собственной рекомендательной системы контента Neuron","Посещаемость 'МирТесен' составила 12 млн пользователей и 140 млн показов в месяц","Старт динамической монетизации, перезапуск блогов и создание новостной видеосети","Начало программы 'Партнерство 2.0' по слиянию с тематическими ресурсами Рунета","Посещаемость 'МирТесен' составила 30 млн пользователей и 260 млн показов в месяц"],initialSlide:10}})),o.createElement("section",{id:"aboutPlatformSection-3"},o.createElement("h2",{className:"about-platform__team-title"},"Команда"),o.createElement(Nh,{team:[{name:"Мария",lastName:"Рубцова",position:"Генеральный директор",imageUrl:"/images/aboutPlatform/team/Maria.png"},{name:"Ольга",lastName:"Арцева",position:"Руководитель партнерского отдела",imageUrl:"/images/aboutPlatform/team/arceva.png"},{name:"Роман",lastName:"Плаксинов",position:"Руководитель отдела рекламных технологий",imageUrl:"/images/aboutPlatform/team/roman.png"},{name:"Максим",lastName:"Золотарёв",position:"Директор по стратегии",imageUrl:"/images/aboutPlatform/team/Maksim.png"},{name:"Ольга",lastName:"Борисова",position:"Менеджер по рекламе",imageUrl:"/images/aboutPlatform/team/Olga.png"},{name:"Михаил",lastName:"Беляев",position:"Замруководителя партнерского отдела",imageUrl:"/images/aboutPlatform/team/Mihail.png"},{name:"Наран",lastName:"Джальджиреев",position:"Руководитель отдела электронной коммерции",imageUrl:"/images/aboutPlatform/team/Naran.png"}]})),o.createElement("div",{id:"aboutPlatformSection-4"},o.createElement(Ph,null))),o.createElement(Sh,{save:r,contacts:a,isMenu:!!t})))}}]),a}(o.Component);Rh.propTypes={app:j().object};const Ah=(0,B.Pf)(Rh,"aboutPlatform");var Dh=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"getPublicationDate",(function(e){var t=e.formattedDates.iso;return e.is_draft?"Черновик":e.is_queued?o.createElement(o.Fragment,null," Дата публикации: ",o.createElement(B.h,{date:e.publish_time,format:"D MMMM, H:mm"})):t&&B.E6.isPastYear(t)?o.createElement(B.h,{date:t,format:"DD.MM.YYYY в H:mm"}):o.createElement(B.h,{date:t,format:"D MMMM, H:mm"})})),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.postList,r=t.hasMoreItems,a=t.onShowMore,i=t.page,s=t.originalUrl,c=o.createElement("div",{className:"blog-post-list__loader"},o.createElement("img",{src:"//static.mtml.ru/images/loader.svg",alt:"Загружается..."}));return o.createElement("div",{className:"platform-post-list"},o.createElement(B.v_,{pageStart:0,loadMore:function(){if(r){if(i>0){var e="page="+(i+1),t=window.location.href;t=-1!==(t=t.replace(/page=\d+/i,"").replace("?&","?").replace(/(&|\?)+$/,"")).indexOf("?")?t+"&"+e:t+"?"+e,window.history.pushState(null,"",t)}return a(Nr+i*Nr,Nr)}},hasMore:r,loader:c,threshold:400},n.length<1&&!r&&o.createElement("article",{className:"platform-post-list__no-posts",key:0},"Здесь пока ничего нет"),n.length>0&&n.map((function(t){var n=t.seo_url.replace("//platforma.mirtesen.ru/blog","/news");return o.createElement(rc,{tag:"article",className:"platform-post",key:t.id},o.createElement("div",{className:"platform-post__header"},o.createElement("a",{className:"platform-post__author",rel:"author",href:"//info.mirtesen.ru",target:"_blank"},o.createElement("div",{className:"platform-post__author-avatar"}),o.createElement("div",null,o.createElement("div",{className:"platform-post__author-name"},"Миртесен",o.createElement("i",{className:"platform-post__author-real"})),o.createElement("div",{className:"platform-post__pubdate"},e.getPublicationDate(t))))),o.createElement("div",{className:"platform-post__content"},o.createElement("h3",{className:"platform-post__title"},o.createElement("a",{href:n},t.title)),o.createElement("div",{className:"platform-post__description"},o.createElement("span",{dangerouslySetInnerHTML:{__html:t.preview_text}})),o.createElement("a",{href:n,className:"platform-post__read-more"},"Читать далее")))}))),o.createElement(gu,{hasMoreItems:r,page:i,url:s}))}}]),a}(o.PureComponent);Dh.propTypes={postList:j().array,hasMoreItems:j().bool,onShowMore:j().func,page:j().number,originalUrl:j().string};const xh=(0,i.$j)((function(e){return{postList:e.platformPostList.posts,hasMoreItems:e.platformPostList.hasMoreItems,page:e.platformPostList.page,originalUrl:e.app.originalUrl}}),(function(e){return{onShowMore:function(t,n){e(function(e,t){return function(n,r){var o=r(),a=o.platformPostList.page,i={siteId:jr,offset:e,count:t,tag:"новость,новости,статья,статьи",sort:"latest"};return Promise.all([B.JG.getBlogPostList(i)]).then((function(e){var t=e[0];return n({type:"PLATFORM_POST_LIST_GET_PAGE",posts:[].concat(F()(o.platformPostList.posts),F()(t)),page:a+1,hasMoreItems:t.length>=Nr,fieldList:"tile"})})).catch(B.qL.promiseHandler("/index.js")),n({type:"BLOG_POST_LIST_DEFAULT"})}}(t,n))}}}))(Dh);var Lh=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){return h()(this,a),r.call(this,e)}return g()(a,[{key:"render",value:function(){var e=this.props.app,t=["Все новости"];return o.createElement("div",{className:"about-platform__content-wrapper"},o.createElement(kh,{page:e.page,sections:t}),o.createElement("div",{className:"about-platform__content"},o.createElement("div",null,o.createElement("section",{id:"aboutPlatformSection-0"},o.createElement(xh,null))),o.createElement(Sh,{save:["presentation"],contacts:["advertisement","partnership","help","support"],isMenu:!!t})))}}]),a}(o.Component);Lh.propTypes={app:j().object};const Bh=(0,B.Pf)(Lh,"newsListPlatform");var Uh=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"getPublicationDate",(function(e){var t=e.formattedDates.iso;return e.is_draft?"Черновик":e.is_queued?o.createElement(o.Fragment,null," Дата публикации: ",o.createElement(B.h,{date:e.publish_time,format:"D MMMM, H:mm"})):t&&B.E6.isPastYear(t)?o.createElement(B.h,{date:t,format:"DD.MM.YYYY в H:mm"}):o.createElement(B.h,{date:t,format:"D MMMM, H:mm"})})),e}return g()(a,[{key:"render",value:function(){var e=this.props.blogPost;return o.createElement("div",{className:"platform-post-item blog-post-item"},o.createElement("article",{className:"platform-post"},o.createElement("h1",{className:"blog-post__title"},e.title),o.createElement("div",{className:"platform-post__header"},o.createElement("a",{className:"platform-post__author",rel:"author",href:"//info.mirtesen.ru",target:"_blank"},o.createElement("div",{className:"platform-post__author-avatar"}),o.createElement("div",null,o.createElement("div",{className:"platform-post__author-name"},"Миртесен",o.createElement("i",{className:"platform-post__author-real"})),o.createElement("div",{className:"platform-post__pubdate"},this.getPublicationDate(e))))),o.createElement("div",{className:"blog-post__text",dangerouslySetInnerHTML:{__html:e.text}}),o.createElement("div",{className:"platform-post__footer"},o.createElement(Fc,{id:e.id}),o.createElement("div",{className:"blog-post-actions__stats"},o.createElement(B.KK,{id:e.id,className:"post-item__views",counter:"force-all"})))))}}]),a}(o.PureComponent);Uh.propTypes={blogPost:j().object};const Fh=(0,i.$j)((function(e){return{blogPost:e.platformPost.newsPost}}),null)(Uh);var Hh=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){return h()(this,a),r.call(this,e)}return g()(a,[{key:"render",value:function(){var e=this.props.app;return o.createElement("div",{className:"about-platform__content-wrapper"},o.createElement(kh,{page:e.page}),o.createElement("div",{className:"about-platform__content"},o.createElement("div",null,o.createElement(Fh,null)),o.createElement(Sh,{save:["presentation"],contacts:["advertisement","partnership","help","support"]})))}}]),a}(o.Component);Hh.propTypes={app:j().object};const qh=(0,B.Pf)(Hh,"newsPlatform");var Zh=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props.app,t=["Издателям","Статистика","Преимущества","Как начать работу","Контакты"],n=e.req&&e.req.deviceType&&("phone"===e.req.deviceType||"tablet"===e.req.deviceType),r=n?["mediaKit"]:["partnership1","partnership2"],a=n?[]:["partnership","support"];return o.createElement("div",{className:"about-platform__content-wrapper partners-platform"},o.createElement(kh,{page:e.page,sections:t}),o.createElement("div",{className:"about-platform__content"},o.createElement("div",null,o.createElement("section",{className:"partners-platform__info",id:"aboutPlatformSection-0"},o.createElement("h2",{className:"about-platform__title"},"Миртесен для издателей"),o.createElement("p",null,"Объединенный партнерский отдел Миртесен и СМИ2 предоставляет сетевым изданиям качественные инструменты и доступ к огромной аудитории социальной медиаплатформы и новостной сети."),o.createElement("p",null,"Создавайте канал своего СМИ в Миртесен с полнотекстовыми материалами и получайте не просто читателей, а активную аудиторию, которая комментирует, лайкает и делится материалами в соцсетях."),o.createElement("p",null,"СМИ2 в свою очередь анализирует вашу аудиторию и подбирает для нее самые релевантные материалы из партнерской сети. Ищете как увеличить трафик? Используйте СМИ2 для роста своей аудитории.")),n&&o.createElement("section",null,o.createElement(Sh,{save:r,contacts:a,isMobile:!0})),o.createElement("div",{id:"aboutPlatformSection-1"},o.createElement(Oh,null)),o.createElement("section",{className:"partners-platform__adv",id:"aboutPlatformSection-2"},o.createElement("h2",{className:"about-platform__title"},"Наши преимущества"),o.createElement("ul",{className:"partners-platform__adv_list"},o.createElement("li",{className:"partners-platform__adv_flag"},"В отличие от других социальных сетей на МирТесен создается полноценный сайт, который может размещаться на уникальном доменном имени, с логотипом и фирменным стилем СМИ или издателя."),o.createElement("li",{className:"partners-platform__adv_rss"},"Контент автоматически публикуется через RSS"),o.createElement("li",{className:"partners-platform__adv_promo"},"Возможности для прямой рекламы на канале, создания промоблоков и отдельных страниц для спецпроектов;"),o.createElement("li",{className:"partners-platform__adv_magic"},"Удобный инструмент для работы с аудиторией: возможности для проведения конкурсов, опросов и других активностей"),o.createElement("li",{className:"partners-platform__adv_counters"},"За счет читателей представительства на МирТесен СМИ получают дополнительный охват аудитории, поскольку мы даем возможность объединить счетчики"))),o.createElement("section",{className:"partners-platform__steps",id:"aboutPlatformSection-3"},o.createElement("h2",{className:"about-platform__title"},"Как начать с нами работать"),o.createElement("ol",{className:"partners-platform__steps_list"},o.createElement("li",null,"Присылаете свою RSS (полнотекст)"),o.createElement("li",null,"Логотип 100х100 и Шапку 1000х240"),o.createElement("li",null,"Создаете субдомен"),o.createElement("li",null,"Присылаете id своих счетчиков"),o.createElement("li",null,"Ставите наш виджет к себе на сайт"),o.createElement("li",null,"Зарабатываете процент с нашей монетизации."))),o.createElement("div",{id:"aboutPlatformSection-4"},o.createElement(Ph,null))),o.createElement(Sh,{save:r,contacts:a,isMenu:!!t})))}}]),a}(o.PureComponent);Zh.propTypes={app:j().object};const Gh=(0,B.Pf)(Zh,"PartnersPlatform");function Vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vh(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yh=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),(t=r.call(this,e)).state={items:t.props.items.map((function(e){return Wh(Wh({},e),{},{isOpen:!1})}))},t}return g()(a,[{key:"shouldComponentUpdate",value:function(e,t){return t.items!==this.state.items}},{key:"handlerToggleInventory",value:function(e){this.setState((function(t){return{items:t.items.map((function(t,n){return e===n?Wh(Wh({},t),{},{isOpen:!t.isOpen}):t}))}}))}},{key:"render",value:function(){var e=this,t=this.state.items;return t.length>0&&o.createElement("ul",{className:"about-platform__inventory"},t.map((function(t,n){var r=t.name,a=t.title,i=t.text,s=t.isOpen;return o.createElement("li",{key:n,className:M()({"is-open":s})},o.createElement("button",{className:"about-platform__inventory_".concat(r),onClick:function(){return e.handlerToggleInventory(n)}},a),s&&o.createElement("p",null,i))})))}}]),a}(o.Component);k()(Yh,"propTypes",{items:j().arrayOf(j().object)}),k()(Yh,"defaultProps",{items:[]});const Kh=Yh;var zh=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props.app,t=["Главное","Статистика","Схема работы","Рекламный инвентарь","Контакты"],n=e.req&&e.req.deviceType&&("phone"===e.req.deviceType||"tablet"===e.req.deviceType),r=n?["mediaKit"]:["price","mediaKit","video","video2"],a=n?[]:["advertisement","support"];return o.createElement("div",{className:"about-platform__content-wrapper promo-platform"},o.createElement(kh,{page:e.page,sections:t}),o.createElement("div",{className:"about-platform__content"},o.createElement("div",null,o.createElement("section",{className:"promo-platform__info",id:"aboutPlatformSection-0"},o.createElement("h2",{className:"about-platform__title"},"Главное"),o.createElement("p",null,"МирТесен — это платформа для публикации контента, внутри которой интегрирована соцсеть для пользователей. Входит в ТОП-10 российских сайтов в категории «соцсети» по версии Яндекс. Радар.")),n&&o.createElement("section",null,o.createElement(Sh,{save:r,contacts:a,isMobile:!0})),o.createElement("div",{id:"aboutPlatformSection-1"},o.createElement(Oh,null)),o.createElement("section",{className:"promo-platform__scheme",id:"aboutPlatformSection-2"},o.createElement("h2",{className:"about-platform__title"},"Пошаговая схема работы Миртесен"),o.createElement("ol",null,o.createElement("li",null,"Медиа, бренды, организации и пользователи размещают контент на своих страницах"),o.createElement("li",null,"Контент попадает в ленты пользователей в зависимости от их интересов"),o.createElement("li",null,"Зарегистрированные пользователи видят рекомендованный контент в своих лентах"),o.createElement("li",null,"Незарегистрированные пользователи попадают внутрь статей через поисковики"))),o.createElement("section",{id:"aboutPlatformSection-3"},o.createElement("h2",{className:"about-platform__title"},"Наш рекламный инвентарь"),o.createElement(Kh,{items:[{name:"banner",title:"Баннеры",text:"Форматы: 300х600, 240х400, 320х100, 300х250, 900х250, 500х300,160х600."},{name:"push",title:"Пуши",text:"Рекламные уведомления в мобильных и десктопных браузерах для любой операционной системы."},{name:"mailing",title:"Email-рассылки",text:"В сутки мы отправляем 16 млн индивидуально подобранных под каждого пользователя полезных и развлекательных писем."},{name:"native",title:"Нативная реклама",text:"Промо, которое попадает в ленты пользователей в обход стандартных рекламных размещений. Выглядят, как обычные посты."},{name:"tgb",title:"ТГБ",text:"Нативные текстово-графические блоки под статьями внутри МирТесен с заголовками, лидами и фотографиями. Размещаются с помощью встроенного рекламного движка Адверт.МирТесен по аукционной модели внутри медиаплатформы, а также на сайтах-партнерах МирТесен."},{name:"rent",title:"Контент-рент",text:'Текстовые промо-блоки со ссылками внутри готовых статей по различным тематикам, которые подходят под суть рекламного размещения. Например, врезаем рекламный блок "Капли для носа" в материал "Народные средства лечения простуды". Пользователь, который читает этот материал, получает прямую ссылку на продукт, связанный с его потребностями в данный момент.'},{name:"story",title:"Саксесс-стори",text:"Посты пользователей МирТесен об успешном использовании продукта и услуги с возможностью их широкого анонсирования и продвижения внутри платформы."},{name:"comments",title:"Отзывы и комментарии",text:"Целевая работа с обсуждениями пользователей внутри комьюнити и в статьях, интервьюирование лояльных пользователей продукта или услуги."},{name:"video",title:"Видео",text:"CPM от 250 руб., a) pre-roll, b) in-page."},{name:"special",title:"Спецпроекты",text:"Индивидуально разработанные рекламные интеграции в продукт под запрос клиента: от лидогенерирующих квизов до охватных трэвел-историй под PR."}]})),o.createElement("div",{id:"aboutPlatformSection-4"},o.createElement(Ph,null))),o.createElement(Sh,{save:r,contacts:a,isMenu:!!t})))}}]),a}(o.PureComponent);zh.propTypes={app:j().object,inventory:j().array};const $h=(0,B.Pf)(zh,"PromoPlatform");var Jh=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props.app;return o.createElement("div",{className:"about-platform__content-wrapper agreement-platform"},o.createElement(kh,{page:e.page}),o.createElement("div",{className:"about-platform__content"},o.createElement("div",null,o.createElement("section",{className:"agreement-platform__content"},o.createElement("h2",{className:"about-platform__title"},"Соглашение об использовании материалов и сервисов интернет-сайта (пользовательское соглашение)"),o.createElement("ol",null,o.createElement("li",null,"Термины",o.createElement("p",null,"Пользователь – посетитель Сайта, прошедший процедуру регистрации на Сайте в установленном порядке."),o.createElement("p",null,"Сайт – расположенный по адресу ",o.createElement("a",{href:"/"},"mirtesen.ru")," сервис."),o.createElement("p",null,"Контент – сведения (сообщения, данные, материалы) независимо от формы их представления, музыкальные произведения, литературные произведения, программы для ЭВМ, мобильных телефонов, аудиовизуальные произведения, фонограммы, изображения, тексты, товарные знаки, логотипы, гипертекстовые ссылки, их фрагменты, информация, иные объекты добровольно и безвозмездно размещаемые Пользователем на Сайте."),o.createElement("p",null,"Личные данные – информация, содержание и объем которой позволяет идентифицировать Пользователя в целях доступа к сервисам Сайта, в том числе контактная информация, добровольно и безвозмездно свободно, своей волей и в своем интересе размещаемая Пользователем на Сайте."),o.createElement("p",null,"Администрация Сайта (Общество с ограниченной ответственностью «МТ», ОГРН 1127747206949) – группа сотрудников компании, самостоятельно и по своему усмотрению устанавливающая порядок использования Сайта, управляющая его работой, контролирующая выполнение Пользователями настоящего Соглашения, в том числе порядок размещения информации на Сайте.")),o.createElement("li",null,"Общие положения. Предмет соглашения.",o.createElement("ol",null,o.createElement("li",null,"Настоящее Соглашение с пользователем (далее «Соглашение») является публичной офертой и определяет условия использования материалов и сервисов, размещенных на Сайте."),o.createElement("li",null,"Сайт является рекомендательной социальной сетью."),o.createElement("li",null," Использование материалов и сервисов Сайта регулируется нормами действующего законодательства Российской Федерации."),o.createElement("li",null,"Регистрацией на Сайте Пользователь подтверждает свое полное конкретное, информированное и сознательное согласие с условиями настоящего Соглашения."),o.createElement("li",null,"В случае несогласия с какими-либо условиями Соглашения Пользователь обязуется незамедлительно прекратить пользование Сайтом."),o.createElement("li",null," Администрация Сайта оставляет за собой право в любое время изменить условия настоящего Соглашения. При этом Пользователь принимает на себя обязательство своевременно знакомится с изменениями условий Соглашения."),o.createElement("li",null,"Регистрацией на Сайте Пользователь подтверждает, что обладает необходимой правоспособностью и полномочиями для принятия настоящего Соглашения, способен исполнять условия Соглашения и нести ответственность за нарушение Соглашения, в том числе по правоотношениям, возникшим вследствие пользования Сайтом."),o.createElement("li",null,"Пользователь несет персональную ответственность за Контент и все последствия, связанные с его публикацией."),o.createElement("li",null,"Размещая Контент, Пользователь гарантирует что, обладает всеми правами и полномочиями, необходимыми для передачи прав в соответствии с п.5.5. настоящего Соглашения."),o.createElement("li",null,"Размещая Контент, Пользователь предоставляет право любому другому Пользователю Сайта на доступ к Контенту."),o.createElement("li",null,o.createElement("p",null,"Пользователь может использовать материалы Сайта и предоставляемые на Сайте сервисы следующими способами:"),o.createElement("ul",null,o.createElement("li",null,"— получать рекомендации по интересующим материалам;"),o.createElement("li",null,"— делиться ссылками, фотографиями и видео в своей ленте с друзьями;"),o.createElement("li",null,"— осуществлять подписку на сайты и других Пользователей;"),o.createElement("li",null,"— писать отзывы и участвовать в дискуссиях на Сайте;"),o.createElement("li",null,"— создать свой собственный сайт и получать доход;"))))),o.createElement("li",null,"Права и обязанности Пользователя",o.createElement("ol",null,o.createElement("li",null,"Пользователь обязуется не оставлять комментарии и записи, которые могут рассматриваться как нарушающие российское законодательство или нормы международного права, в том числе в сфере интеллектуальной собственности, авторских и/или смежных прав, общепринятые нормы морали и нравственности, а также любых действий, которые приводят или могут привести к нарушению нормальной работы Сайта и сервисов Сайта."),o.createElement("li",null," Пользователь обязуется не размещать Контент провокационного, грубого, оскорбительного и агрессивного характера, противоречащий моральным и этическим нормам, нарушающий действующее российское или международное законодательство, нарушающий права, в том числе интеллектуальные, третьих лиц."),o.createElement("li",null,"Пользователь вправе размещать на Сайте Контент в соответствии с условиями настоящего Соглашения."),o.createElement("li",null,"При регистрации Пользователь обязуется указать достоверные Личные данные."),o.createElement("li",null,"На весь Контент, публикуемый на Сайте в записях или комментариях, распространяется действие авторского права. Все заимствованные материалы должны иметь указание имени автора, если оно указано на сайте-источнике, а при невозможности его установления — значок копирайта (с). Гиперссылки на заимствованные материалы, размещенные ранее в Интернете, приветствуются, а в том случае, если автор заявит об их необходимости, — требуются обязательно. Пользователь обязуется не приписывать себе авторство чужих текстов или изображений."),o.createElement("li",null,"Пользователь несёт ответственность за нарушение данного Соглашения в соответствии с законодательством Российской Федерации."),o.createElement("li",null,"В случае нанесения ущерба третьим лицам, другим Пользователям или Сайту Пользователь обязуется возместить причиненный ущерб в полном объёме и в размере в соответствии с действующим законодательством Российской Федерации."),o.createElement("li",null,"Пользователь несет ответственность и все расходы (включая возмещение убытков, вреда, штрафов, судебных и иных расходов и издержек) в случае предъявления третьими лицами каких-либо претензий, включая, но не ограничиваясь претензиями связанными с защитой интеллектуальных прав третьих лиц, и за какие-либо обязательства, возникшие у Сайта в связи с требованиями третьих сторон, связанные или возникшие вследствие нарушения Пользователем условий настоящего Соглашения. Пользователь обязуется принять все необходимые и возможные меры, направленные на исключение Сайта из числа ответчиков."),o.createElement("li",null,"Пользуясь сервисами и материалами Сайта, Пользователь подтверждает, что принимает условия настоящего Соглашения, а также Политики конфиденциальности Сайта, являющейся неотъемлемой частью настоящего Соглашения и размещенной на странице по адресу: ",o.createElement("a",{href:"http://mirtesen.ru/privacy"},"mirtesen.ru/privacy")))),o.createElement("li",null,"Права и обязанности Администрации Сайта",o.createElement("ol",null,o.createElement("li",null,"Администрация Сайта не несет ответственности за посещение и использование Пользователем внешних ресурсов, ссылки на которые могут содержаться на Сайте."),o.createElement("li",null," Администрация Сайта обязуется не разглашать контактную информацию Пользователя третьим лицам, кроме случаев, предусмотренных действующим законодательством и настоящим Соглашением."),o.createElement("li",null," Пользователь согласен с тем, что Администрация Сайта не несет какой-либо ответственности и не имеет каких-либо обязательств в связи с рекламой, которая может быть размещена на Сайте."),o.createElement("li",null,"Администрация Сайта не занимается рассмотрением и разрешением споров и конфликтных ситуаций, возникающих между Пользователями Сайта, однако оставляет за собой право заблокировать страницу Пользователя в случае получения от других Пользователей мотивированных жалоб на некорректное поведение данного Пользователя на Сайте."),o.createElement("li",null,"Администрация Сайта не несёт ответственности за самостоятельное раскрытие Пользователем своей контактной информации другим Пользователям. При этом Пользователь получает оповещение от Сайта о раскрытии этой информации."),o.createElement("li",null,"Администрация Сайта вправе, но не обязана осуществлять модерацию текста, фотографий, комментариев и иных материалов, размещаемых Пользователями на Сайте."),o.createElement("li",null,"Администрация Сайта вправе удалить любой текст, фотографию, комментарий Пользователя без уведомления и объяснения причин."),o.createElement("li",null,o.createElement("p",null,"Администрация Сайта не контролирует соблюдение авторских прав на интеллектуальную собственность и не несет ответственности за нарушение их Пользователями Сайта."),o.createElement("p",null,"Правообладатель в случае обнаружения на Сайте, размещенную без его разрешения или иного законного основания информацию, которая содержит объекты авторских и (или) смежных прав, или информацию, необходимую для их получения с использованием Сайта вправе направить Администрации Сайта в письменной или электронной форме заявление о нарушении авторских и (или) смежных прав (далее - заявление). Заявление может быть направлено лицом, уполномоченным правообладателем в соответствии с законодательством Российской Федерации."),o.createElement("p",null,"Заявление должно содержать:"),o.createElement("ul",null,o.createElement("li",null,o.createElement("p",null,"1) сведения о правообладателе или лице, уполномоченном правообладателем (если заявление направляется таким лицом) (далее - заявитель):"),o.createElement("ul",null,o.createElement("li",null,"а) для физического лица - фамилию, имя, отчество, паспортные данные (серия и номер, кем выдан, дата выдачи), контактную информацию (номера телефона и (или) факса, адрес электронной почты);"),o.createElement("li",null,"б) для юридического лица - наименование, место нахождения и адрес, контактную информацию (номера телефона и (или) факса, адрес электронной почты);"))),o.createElement("li",null,"информацию об объекте авторских и (или) смежных прав, размещенном на Сайте без разрешения правообладателя или иного законного основания;"),o.createElement("li",null,"указание на доменное имя и (или) сетевой адрес Сайта, на котором без разрешения правообладателя или иного законного основания размещена информация, содержащая объект авторских и (или) смежных прав, или информация, необходимая для его получения с использованием Сайта;"),o.createElement("li",null,"указание на наличие у правообладателя прав на объект авторских и (или) смежных прав, размещенный на Сайте без разрешения правообладателя или иного законного основания;"),o.createElement("li",null," указание на отсутствие разрешения правообладателя на размещение на Сайте информации, содержащей объект авторских и (или) смежных прав, или информации, необходимой для его получения с использованием cайта;"),o.createElement("li",null," согласие заявителя на обработку его персональных данных (для заявителя - физического лица).")),o.createElement("p",null,"В случае, если заявление подается уполномоченным лицом, к заявлению прикладывается копия документа (в письменной или электронной форме), подтверждающего его полномочия."),o.createElement("p",null,"В случае обнаружения неполноты сведений, неточностей или ошибок в заявлении Администрация Сайта вправе направить заявителю в течение двадцати четырех часов с момента получения заявления уведомление об уточнении представленных сведений. Указанное уведомление может быть направлено заявителю однократно."),o.createElement("p",null,"В течение 24-х часов с момента получения вышеуказанного уведомления, заявитель принимает меры, направленные на восполнение недостающих сведений, устранение неточностей и ошибок, и направляет в адрес Администрации Сайта уточненные сведения."),o.createElement("p",null,"В течение 24-х часов с момента получения заявления или уточненных заявителем сведений Администрация Сайта удаляет неправомерно размещенную информацию, или отказывает в удалении информации, указанной заявителем при условии наличия доказательств, подтверждающих правомерность размещения на Сайте информации, содержащей объект авторских и (или) смежных прав, или информации, необходимой для его получения с использованием Сайта, а также направления заявителю соответствующего уведомления с приложением указанных доказательств."),o.createElement("p",null,"Права на направление заявления о нарушении авторских и (или) смежных прав в равной степени распространяются на правообладателя и на лицензиата, получившего исключительную лицензию на объект авторских и (или) смежных прав.")),o.createElement("li",null,"Администрация Сайта не дает никаких гарантий, выраженных явно или подразумеваемых, что материалы, публикуемые на Сайте, полезны и интересны."),o.createElement("li",null,"Администрация Сайта использует информацию о действиях Пользователя в целях улучшения работы Сайта."),o.createElement("li",null,"Администрация Сайта оставляет за собой право приостановить либо прекратить доступ к Сайту при достаточных основаниях предполагать, что Личные данные указаны не полно либо не верно."),o.createElement("li",null,"В случае нарушения Пользователем условий данного Соглашения Администрация Сайта вправе заблокировать страницу Пользователя."),o.createElement("li",null,"Администрация Сайта оставляет за собой право вводить любые ограничения в отношении пользования Сайта."),o.createElement("li",null,"Администрация Сайта либо компания-владелец оставляет за собой право закрыть, приостановить, изменить Сайт либо его часть без предварительного уведомления Пользователя."))),o.createElement("li",null,"Прочее",o.createElement("ol",null,o.createElement("li",null,"Все возможные споры, вытекающие из настоящего Соглашения или связанные с ним, подлежат разрешению в соответствии с действующим законодательством Российской Федерации."),o.createElement("li",null,"Признание судом какого-либо положения Соглашения недействительным или не подлежащим принудительному исполнению не влечет недействительности иных положений Соглашения."),o.createElement("li",null,o.createElement("p",null,"Администрация Сайта и компания-владелец не несут ответственности за Контент, размещенный на Сайте. Так же, Сайт и компания-владелец не несут никакой ответственности:"),o.createElement("ul",null,o.createElement("li",null,"— За неточность и не полноту Контента;"),o.createElement("li",null,"— За ущерб, вред и убытки любого характера, причиненные вследствие пользования Сайтом либо нарушения его работы;"),o.createElement("li",null,"— За разглашение Личных данных произошедших вследствие нарушения работы Сайта."))),o.createElement("li",null,"Администрация Сайта вправе в любое время в одностороннем порядке изменять условия настоящего Соглашения. Такие изменения вступают в силу по истечении 3 (трех) дней с момента размещения новой версии Соглашения на сайте. При несогласии Пользователя с внесенными изменениями он обязан отказаться от доступа к Сайту, прекратить использование материалов и сервисов Сайта."),o.createElement("li",null,"Пользователь добровольно добавляет Контент на Сайт, при этом Пользователь сохраняет интеллектуальные и любые иные права, которые принадлежат ему в отношении Контента."),o.createElement("li",null,"Размещая Контент, Пользователь подтверждает, что этим безвозмездно предоставляет Сайту право на показ, воспроизведение, изменение, хранение, открытую демонстрацию, адаптирование, публикацию, распространение, архивирование, перевод и любое иное использование Контента или любой его части без ограничения срока и территории действия."),o.createElement("li",null,"Пользователь признает за компанией-владельцем все права на Сайт как единый объект, включая все его составляющие."),o.createElement("li",null,o.createElement("p",null,"Принимая настоящее Соглашение, Пользователь выражает свое согласие с тем, что:"),o.createElement("ul",null,o.createElement("li",null,"— При размещении Контента Пользователь не становится соавтором Сайта и отказывается от каких либо претензий на такое авторство в будущем;"),o.createElement("li",null,"— В случае передачи компании-владельцу каких-либо прав на Контент в соответствии с п.5.5. настоящего Соглашения Пользователь лишается права на отзыв произведения, как оно определено ст. 1269 ГК РФ."),o.createElement("li",null,"— В случае размещения Контента, специально созданного Пользователем для размещения на Сайте, исключительное право на такой Контент сохраняется за Пользователем."))),o.createElement("li",null,"Доступ к материалам Сайта, в том числе к Контенту предоставляется Пользователю исключительно для личного использования и ознакомления. Без предварительного письменного согласия владельцев соответствующих прав Пользователь не имеет права использовать, воспроизводить, распространять любым способом, копировать, публично показывать, передавать в эфир для всеобщего сведения, переводить, переделывать, или использовать любым иным способами в каких-либо иных целях материалы Сайта."),o.createElement("li",null,"Администрация Сайта не несет никакой ответственности за целостность и сохранность Контента, размещенного на Сайте."),o.createElement("li",null," Условия п.п.5.5-5.8. настоящего Соглашения остаются в силе после прекращения действия настоящего Соглашения."),o.createElement("li",null,"В случае, если Администрация Сайта в какой-либо момент не требует от Пользователя выполнения каких-либо условий настоящего Соглашения, это не отменяет права Администрации Сайта или компании-владельца требовать такого выполнения позднее, равно как и принимать меры, направленные на выполнение Пользователем условий настоящего Соглашения."),o.createElement("li",null,"После прекращения действия Соглашения, Администрация Сайта продолжает владеть всеми переданными правами на Контент, без каких-либо обязательств оплаты Пользователю за его использование."),o.createElement("li",null,"Никакие положения настоящего Соглашения не ограничивают права Администрации Сайта или Пользователя заключать аналогичные соглашения с любым другим лицом.")))))),o.createElement(Sh,{contacts:["advertisement","partnership","help"]})))}}]),a}(o.PureComponent);Jh.propTypes={app:j().object};const Xh=(0,B.Pf)(Jh,"AgreementPlatform");var Qh=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props.app,t=["Краткое описание","Команда проекта","Контакты"],n=e.isMobile,r=n?["mediaKitGlagol"]:["logo","mediaKit","mediaKitGlagol","price","video","video2","smiRegistration"],a=n?[]:["advertisement","support"];return o.createElement("div",{className:"about-platform__content-wrapper"},o.createElement(kh,{page:e.page,sections:t}),o.createElement("div",{className:"about-platform__content"},o.createElement("div",null,o.createElement("section",{id:"aboutPlatformSection-0"},o.createElement("h2",{className:"about-platform__title"},"Краткое описание"),o.createElement("p",null,o.createElement("a",{href:"//".concat(vn().glagolDomain),target:"_blank"},"«ГлагоL»")," — это новое медиа на базе платформы МирТесен. Основная миссия: информировать, просвещать и развлекать аудиторию."),o.createElement("p",null,"Основной продукт для конечного пользователя — качественные новости на все самые острые темы, интересные и полезные материалы на самые важные темы. "),o.createElement("p",null,"Мы считаем, что краткость — сестра таланта, — поэтому короткие новости будут основой нашего медиа. Большие тексты тоже не будут длинными непонятными полотнищами, которые никто не дочитывает. Также надеемся на плодотворное сотрудничество с разными брендами в плане спецпроектов.")),o.createElement("section",{id:"aboutPlatformSection-1"},n&&o.createElement("section",null,o.createElement(Sh,{save:r,contacts:a,isMobile:!0})),o.createElement("h2",{className:"about-platform__team-title"},"Команда проекта"),o.createElement(Nh,{team:[{name:"Ольга",lastName:"Арцева",position:"Главный редактор",imageUrl:"/images/aboutPlatform/glagol-team/arceva.jpg"},{name:"Даниил",lastName:"Данченко",position:"Заместитель главного редактора",imageUrl:"/images/aboutPlatform/glagol-team/danchenko.jpg"},{name:"Василий",lastName:"Шевченко",position:"Выпускающий редактор",imageUrl:"/images/aboutPlatform/glagol-team/shevchenko.jpg"},{name:"Екатерина",lastName:"Измайлова",position:"Фоторедактор",imageUrl:"/images/aboutPlatform/glagol-team/izmaylova.jpg"},{name:"Игорь",lastName:"Черский",position:"Редактор рубрики «Мужское» ",imageUrl:"/images/aboutPlatform/glagol-team/chersky.jpg"},{name:"Аурен",lastName:"Хабичев",position:"Редактор рубрики «Отношения» ",imageUrl:"/images/aboutPlatform/glagol-team/habichev.jpg"}]})),o.createElement("div",{id:"aboutPlatformSection-2"},o.createElement(Ph,null))),o.createElement(Sh,{save:r,contacts:a,isMenu:!!t})))}}]),a}(o.Component);Qh.propTypes={app:j().object};const e_=(0,B.Pf)(Qh,"GlagolPlatform");var t_=function(e){var t=e.items;return o.createElement("div",{className:"about-platform__cards-wrapper"},t&&t.length>0&&t.map((function(e,t){var n=e.itemClass,r=e.text;return o.createElement("div",{key:t,className:n},r)})))};t_.propTypes={items:j().arrayOf(j().object)};const n_=(0,o.memo)(t_);var r_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),(t=r.call(this,e)).state={userSystem:null},t.sections=["Преимущества","Вопросы и ответы"],t.faq=[{name:"idea",title:"Могу ли я сразу начать пользоваться приложением, если я зарегистрирован в МирТесен?",text:"Да, вначале указываете номер вашего мобильного телефона,\n                потом почтовый адрес, к которому привязан аккаунт Миртесен.\n                На почту вам придет код, который вы введете на экране\n                регистрации приложения и можете пользоваться МирТесен через приложение."},{name:"social",title:"Как мне внутри приложения подписаться на интересующие меня каналы МирТесен?",text:"Воспользуйтесь поиском по каналам внутри приложения МирТесен или\n            кнопками Подписаться на плитках в ленте Рекомендованное."},{name:"devices",title:"Для каких операционных систем выпущено приложение МирТесен?",text:"Приложение МирТесен может работать на следующих \n                операционных системах: MacOS, iOS, Android, Windows, Linux.\n                Но пока возможно скачать только десктопные версии приложения МирТесен для MacOS, Linux и Windows."},{name:"speed",title:"Требуется ли прокси-сервер для работы приложения МирТесен?",text:"Нет, никаких обходных путей для приложения не требуется,\n                все работает быстро и прозрачно."},{name:"share",title:"Что делать, если я раньше не был пользователем МирТесен?",text:"Скачиваете приложение МирТесен для любого вашего устройства,\n                устанавливаете, стартуете и следуете инструкциям."},{name:"stats",title:"Данные версии приложения являются финальными и больше не будут развиваться?",text:"Нет, у нас запланированы новые возможности и обновления,\n                которые будут постоянно улучшать как дизайн, так и функционал приложения МирТесен."}],t.cards=[{text:"Личная переписка с друзьями внутри соцсети",itemClass:"fiends"},{text:"Подписка и чтение тематических каналов МирТесен",itemClass:"subscribe"},{text:"Удобное представление контента и сообщений в виде мессенджера",itemClass:"post"},{text:"Своя стена и стены друзей для отправки постов",itemClass:"posting"},{text:"Удобный просмотр ленты новостей из всех доступных источников",itemClass:"source"},{text:"Автоматическое обновление приложения",itemClass:"update"},{text:"Встроенный браузер для быстрого просмотра контента",itemClass:"browser"},{text:"Алгоритмически рекомендованные материалы лично под Вас",itemClass:"gems"}],t.contacts=["appSupport"],t.files=["appGooglePlay","appStore"],t.systems={mobile:["ios","android"],desktop:["linux","mac","windows"],ios:{title:"Скачать для Iphone",link:"https://apps.apple.com/ru/app/%D0%BC%D0%B8%D1%80%D1%82%D0%B5%D1%81%D0%B5%D0%BD/id1229626373",target:"_blank"},android:{title:"Скачать для Android",link:"https://play.google.com/store/apps/details?id=ru.mirtesen.mobile",target:"_blank"},linux:{title:"Скачать для Linux",link:"http://app.mtml.ru/desktop/stable/0.7.6/MirTesen-0.7.6.AppImage",target:null},mac:{title:"Скачать для Mac",link:"https://apps.apple.com/us/app/%D0%BC%D0%B8%D1%80%D1%82%D0%B5%D1%81%D0%B5%D0%BD/id1490859426?l=ru&ls=1&mt=12",target:"_blank"},windows:{title:"Скачать для Windows",link:"http://app.mtml.ru/desktop/stable/0.7.6/MirTesen%20Setup%200.7.6.exe",target:null}},t}return g()(a,[{key:"componentDidMount",value:function(){this.setState({userSystem:Zf()})}},{key:"render",value:function(){var e=this.props.app,t=this.sections,n=this.cards,r=this.faq,a=this.files,i=this.contacts,s=e.isMobile;return o.createElement("div",{className:"about-platform__content-wrapper app-platform"},o.createElement(kh,{page:e.page,sections:t}),o.createElement("div",{className:"about-platform__content"},o.createElement("div",null,o.createElement("section",null,o.createElement("h2",{className:"about-platform__title"},"МирТесен. Мессенджер"),o.createElement("p",null,"Новое приложение социальной медиаплатформы МирТесен с тематическими каналами, личными сообщениями, умной лентой и стенами друзей — в разных вкладках мессенджера."),o.createElement("p",null,"Основные источники контента — пользователи, крупнейшие СМИ России, популярные бренды, организации, спортивные клубы и собственная редакция медиа «ГлагоL», где профессиональные журналисты пишут эксклюзивные материалы для пользователей МирТесен и всего Рунета.")),s&&o.createElement(Sh,{isMenu:!0,save:a,contacts:i}),o.createElement("section",{id:"aboutPlatformSection-0"},o.createElement("h2",{className:"about-platform__title"},"Новые возможности приложения"),o.createElement(n_,{items:n})),o.createElement("section",{id:"aboutPlatformSection-1"},o.createElement("h2",{className:"about-platform__title"},"Вопросы и ответы"),o.createElement(Kh,{items:r}))),o.createElement(Sh,{isMenu:!0,save:a,contacts:i})))}}]),a}(o.PureComponent);k()(r_,"propTypes",{app:j().object});const o_=(0,B.Pf)(r_,"appPlatform");var a_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"handleConfirmPhone",(function(){var e=t.props,n=e.phoneMobile;(0,e.onSavePhoneWithConfirm)(n)})),t.addEmailInput=o.createRef(),t.socialNetworks=t.props.socialNetworks,t.state={socialNetworks:{mailru:!!t.socialNetworks.Mailru,fb:!!t.socialNetworks.Facebook,vk:!!t.socialNetworks.Vkontakte,ok:!!t.socialNetworks.Odnoklassnik},isPhoneConfirmed:t.props.isPhoneConfirmed},t.form={messengers:[{type:"text",name:"whatsapp",label:"WhatsApp:",inline:!0},{type:"text",name:"telegram",label:"Telegram:",inline:!0},{type:"text",name:"skype",label:"Skype:",inline:!0},{type:"text",name:"viber",label:"Viber:",inline:!0},{type:"text",name:"tamtam",label:"Tamtam:",inline:!0},{type:"text",name:"yamb",label:"Yamb:",inline:!0}],anotherSocial:[{images:"mailru",name:"addMailSocial",link:"https://mirtesen.ru/exauth/Mailru?init=1&backurl=https%3A%2F%2Fmirtesen.ru%2Fsettings%2Fcontacts%3Falert_msg%3Dsoc_network_enabled",active:t.state.socialNetworks.mailru},{images:"vk",name:"addVkSocial",link:"https://mirtesen.ru/exauth/Vkontakte?init=1&backurl=https%3A%2F%2Fmirtesen.ru%2Fsettings%2Fcontacts%3Falert_msg%3Dsoc_network_enabled",active:t.state.socialNetworks.vk},{images:"ok",name:"addOkSocial",link:"https://mirtesen.ru/exauth/Odnoklassniki?init=1&backurl=https%3A%2F%2Fmirtesen.ru%2Fsettings%2Fcontacts%3Falert_msg%3Dsoc_network_enabled",active:t.state.socialNetworks.ok}],phones:[{type:"text",name:"phoneMobile",label:"Мобильный:",placeholder:"Номер в международном формате (Например +7_)",inline:!0,wrap:!0,classNameInput:t.state.isPhoneConfirmed?"person-settings__phone-confirmed":"",extraElem:t.getConfirmPhoneBtn()},{type:"text",name:"phoneWork",label:"Рабочий:",inline:!0},{type:"text",name:"phoneHome",label:"Домашний:",inline:!0}]},t}return g()(a,[{key:"componentDidMount",value:function(){var e=document.getElementsByName("phoneMobile")[0],t=document.getElementById("person-settings__phone-confirm-btn");e&&e.addEventListener("input",(function(n){if(n.target.value.substr(-1).match(/[^0-9()+\-\s]/g))return!1;e.classList.remove("person-settings__phone-confirmed"),t.style.display="inline-block"})),this.form.phones[0].classNameInput="",-1!==window.location.href.indexOf("alert_msg")&&history.pushState("","","/settings/contacts")}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.confirmedPhone,n=e.confirmSmsSent,r=document.getElementsByName("phoneMobile")[0],o=r.value.trim(),a=document.getElementById("person-settings__phone-confirm-btn");t!==o||n||(a.style.display="none",r.classList.add("person-settings__phone-confirmed")),o||(a.style.display="none",r.classList.remove("person-settings__phone-confirmed"))}},{key:"getConfirmPhoneBtn",value:function(){var e=this.props,t=e.phoneMobile,n=e.isPhoneConfirmed,r=t&&!n;return o.createElement("div",{className:"site-settings__extra-elem",id:"person-settings__phone-confirm-btn",style:{display:r?"inline-block":"none"}},o.createElement(eo.Z,{onClick:this.handleConfirmPhone,label:"Подтвердить"}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.onChangeInput,r=t.onSaveSettings,a=t.onAddEmail,i=t.onConfirmEmail,s=t.onDeleteEmail,c=t.onSetPrimaryEmail,l=t.onDetachSocialNetwork,u=t.onSetFieldValidValue,p=t.userId,d=t.active,m=t.data,f=void 0===m?{}:m,h=t.errors,_=void 0===h?{}:h,g=t.valid,v=void 0===g?{}:g,y={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!d};return o.createElement("div",{className:M()(y)},o.createElement("h1",{className:"form-title"},"Контактная информация"),o.createElement("div",{className:"form-group site-settings__subtitle"},"Ваша контактная информация будет доступна только друзьям Номер вашего мобильного телефона не виден никому, включая друзей"),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("h1",{className:"form-title"},"Ваши телефоны:"),this.form.phones.map((function(e,t){return o.createElement(B.dU,{extraElem:e.extraElem,error:_[e.name],invalid:!1===v[e.name],key:t,input:e,value:f[e.name],onChangeHandle:function(t){if(t.target.value.substr(-1).match(/[^0-9()+\-\s]/g))return!1;n(t,e.name),"phoneMobile"===e.name&&u({phoneMobile:!0})}})}))),o.createElement("div",{className:"form-group"},o.createElement("h1",{className:"form-title"},"Настройка почты:"),o.createElement("div",{className:"site-settings__form-group_inline position-relative form-group"},o.createElement("label",{className:"site-settings__label_inline"},"Основной email:"),o.createElement("span",{className:"site-settings__input_inline"},f.emails.default)),Array.isArray(f.emails.confirmed)&&f.emails.confirmed.length>0&&o.createElement("div",{className:"site-settings__form-group_inline position-relative form-group"},o.createElement("label",{className:"site-settings__label_inline"},"Подтвержденные адреса:"),o.createElement("div",{className:"site-settings__input_inline site-settings-email-list"},f.emails.confirmed.map((function(e,t){return o.createElement("div",{className:"site-settings-email-list__item",key:t},o.createElement("div",{className:"site-settings-email-list__email"},e),o.createElement("div",{className:"site-settings-email-list__actions"},o.createElement("a",{href:"#primary",onClick:function(t){t.preventDefault(),c(e)}},"Сделать основным")," | ",o.createElement("a",{href:"#delete",onClick:function(t){t.preventDefault(),s(e)}},"Удалить")))})))),Array.isArray(f.emails.pending)&&f.emails.pending.length>0&&o.createElement("div",{className:"site-settings__form-group_inline position-relative form-group"},o.createElement("label",{className:"site-settings__label_inline"},"Ожидают подтверждения:"),o.createElement("div",{className:"site-settings__input_inline site-settings-email-list"},f.emails.pending.map((function(e,t){return o.createElement("div",{className:"site-settings-email-list",key:t},o.createElement("div",{className:"site-settings-email-list__email"},e),o.createElement("div",{className:"site-settings-email-list__actions"},o.createElement("a",{href:"#confirm",onClick:function(t){t.preventDefault(),i(e)}},"Подтвердить")," | ",o.createElement("a",{href:"#delete",onClick:function(t){t.preventDefault(),s(e)}},"Удалить")))})))),o.createElement("div",{className:"site-settings__form-group_inline position-relative form-group"},o.createElement("label",{className:"site-settings__label_inline"},"Добавить email:"),o.createElement("div",{className:"site-settings__input_inline site-settings-email-list"},o.createElement("input",{type:"email",name:"add_email",className:"form-control",ref:this.addEmailInput}),o.createElement("div",{className:"site-settings-email-list__actions"},o.createElement(eo.Z,{type:"button",label:"Добавить",onClick:function(){var t=e.addEmailInput.current.value;a(t),B.E6.isEmail(t)&&(e.addEmailInput.current.value="")}})))))),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("h1",{className:"form-title"},"Я в мессенджерах:"),this.form.messengers.map((function(e,t){return o.createElement(B.dU,{error:_[e.name],key:t,input:e,value:f[e.name],onChangeHandle:function(t){n(t,e.name)}})})))),o.createElement("div",{className:"form-section form-section_top"},o.createElement("h1",{className:"form-title"},"Я в других социальных сетях:"),o.createElement("div",{className:"form-group"},this.form.anotherSocial.map((function(e,t){return o.createElement("div",{className:"site-settings__social",key:t},o.createElement("a",{className:"site-settings__social-outer",href:e.link,onClick:function(t){t.preventDefault(),e.active?l(p,e.name):window.location.href=e.link}},o.createElement("span",{className:"site-settings__social-img \n                                                site-settings__social-img-pack-".concat(e.images)}),o.createElement("span",{className:"site-settings__social-active"},!0===e.active?"Отключить":"Подключить")))})))),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:r,label:"Сохранить"}))))}}]),a}(o.PureComponent);a_.propTypes={isDev:j().bool,active:j().bool,onChangeInput:j().func,onSaveSettings:j().func,onAddEmail:j().func,onDeleteEmail:j().func,onSetPrimaryEmail:j().func,onConfirmEmail:j().func,onSetFieldValidValue:j().func,onSavePhoneWithConfirm:j().func,data:j().object,errors:j().object,valid:j().object,socialNetworks:j().oneOfType([j().object,j().array]),onDetachSocialNetwork:j().func,userId:j().number,confirmedPhone:j().string,isPhoneConfirmed:j().bool,phoneMobile:j().string,confirmSmsSent:j().bool};const i_=(0,i.$j)((function(e){return{userId:e.app.person.id,socialNetworks:e.personSettings.data.contacts.socialNetworks,isPhoneConfirmed:e.personSettings.data.contacts.isPhoneConfirmed,confirmedPhone:e.personSettings.data.confirm.phone,confirmSmsSent:e.personSettings.data.confirm.confirmSmsSent,phoneMobile:e.personSettings.data.contacts.phoneMobile}}),(function(e){return{onDetachSocialNetwork:function(t,n){e(function(e,t){return function(){var n=R()(D().mark((function n(r){var o,a;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B.Fc.getPersonSettings(e);case 2:(o=n.sent).result&&(a=o.settings.contacts,"addMailSocial"===t&&delete a.socialNetworks.Mailru,"addFacebookSocial"===t&&delete a.socialNetworks.Facebook,"addVkSocial"===t&&delete a.socialNetworks.Vkontakte,"addOkSocial"===t&&delete a.socialNetworks.Odnoklassniki,Promise.all([B.Fc.setPersonSettings(e,{contacts:a})]).then((function(e){var t=ir()(e,1)[0];r(Na(t))})).catch((function(e){B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:e}),B.qL.promiseHandler(Pa)(e)})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},onSetFieldValidValue:function(t){e(Ia(t))},onSavePhoneWithConfirm:function(t){e(Ca(t))}}}))(a_);var s_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"state",{inputs:[{type:"password",name:"oldPassword",label:"Старый пароль"},{type:"password",name:"nextPassword",label:"Новый пароль (не менее 6 символов)"},{type:"password",name:"nextPasswordRepeat",label:"Повторите новый пароль"},{type:"checkbox",name:"showPassword",label:"показать пароль"}]}),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.onChangeInput,n=e.onSaveSettings,r=e.active,a=e.personSettings,i=e.data,s=void 0===i?{}:i,c=e.errors,l=void 0===c?{}:c,u=this.state.inputs,p=L()(a,"activeTab"),d={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!r};return o.createElement("div",{className:M()(d)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"Смена пароля"),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},u.map((function(e,n){return o.createElement(B.dU,{error:l[e.name],key:n,input:e,type:"password"===e.type&&L()(a,"data.".concat(p,".showPassword"))?"text":e.type,value:s[e.name],onChangeHandle:function(n){return t(n,e.name)}})})))),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{onClick:function(e){e.preventDefault(),n()},label:"Сохранить"})))))}}]),a}(o.Component);s_.propTypes={isDev:j().bool,data:j().object,onChangeInput:j().func,onSaveSettings:j().func,active:j().bool,errors:j().any,showPassword:j().bool,personSettings:j().object};const c_=s_;var l_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleAddTag",(function(t,n){var r=e.props,o=r.data,a=r.onChangeInput,i=e.tagsToArray(o,n);i.push(t.name),a(i.join(","),n)})),k()(y()(e),"handleDeleteTag",(function(t,n){var r=e.props,o=r.data,a=r.onChangeInput,i=e.tagsToArray(o,n);a((i=i.filter((function(e,n){return n!==t}))).join(","),n)})),k()(y()(e),"tagsToArray",(function(e,t){return(L()(e,t)||"").split(",").filter((function(e){return e&&""!==e}))})),k()(y()(e),"form",{fullName:[{type:"text",name:"name",label:"Имя:",inline:!0,isRequired:!0},{type:"text",name:"lastname",label:"Фамилия:",inline:!0},{type:"text",name:"nickname",label:"Псевдоним:",inline:!0}],status:[{type:"text",name:"description",label:"Статус:",inline:!0}],birthday:[{label:"День рождения:",classNameOuter:"site-settings_tree-column-grid"},{type:"text",name:"userBirthday",label:"День:",inline:!0,placeholder:"XX"},{type:"text",name:"userBirthdayMonth",label:"Месяц:",inline:!0,placeholder:"XX"},{type:"text",name:"userBirthdayYear",label:"Год:",inline:!0,placeholder:"XXXX"}],gender:[{type:"radiogroup",name:"isMale",label:"Пол:",group:[{id:0,text:"Мужской",initVal:"t"},{id:1,text:"Женский",initVal:"f"}]}],educationAndFamilyStatus:[{type:"select",name:"education",label:"Образование:",list:[{text:"Выберите ваше образование"},{text:"Студент"},{text:"Среднее"},{text:"Специальное"},{text:"Неоконченное высшее"},{text:"Высшее"},{text:"Кандидат наук"},{text:"Доктор наук"}]},{type:"select",name:"maritalStatus",label:"Семейное положение:",list:[{text:"--Выберите ваше семейное положение--"},{text:"Ничего серьёзного"},{text:"Есть пара"},{text:"Помолвлены"},{text:"В браке"},{text:"Всё сложно"},{text:"В активном поиске"}]},{type:"text",name:"career",label:"Профессия:"}],otherInfo:[{type:"textarea",name:"music",label:"Любимая музыка"},{type:"textarea",name:"movies",label:"Любимые фильмы"},{type:"textarea",name:"books",label:"Любимые книги"},{type:"textarea",name:"foods",label:"Любимая еда"},{type:"textarea",name:"games",label:"Любимые игры"},{type:"textarea",name:"tags",labelMuted:"Перечислите свои интересы через запятую,\n                            например: «автомобили, кино, музыка, самолеты».",label:"Интересы:"}]}),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=void 0===n?{}:n,a=t.errors,i=void 0===a?{}:a,s=t.active,c=t.onChangeInput,l=t.onSaveSettings,u={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!s};return o.createElement("div",{className:M()(u)},o.createElement("h1",{className:"form-title"},"Мои данные"),Object.keys(this.form).map((function(t,n){return"otherInfo"!==t&&o.createElement("div",{className:"form-section form-section_top",key:n},o.createElement("div",{className:M()("form-group",e.form[t][0].classNameOuter)},e.form[t].map((function(e,t){return o.createElement(B.dU,{error:i[e.name],key:t,input:e,value:r[e.name],onChangeHandle:function(t){c(t,e.name)}})}))))})),this.form.otherInfo.map((function(t,n){return o.createElement("div",{className:"form-group",key:n},o.createElement("label",null,t.label,o.createElement("p",{className:"form-text text-muted"},"Перечислите через запятую или используйте Tab или Enter чтобы завершить ввод.")),o.createElement(Ql(),{tags:e.tagsToArray(r,t.name).map((function(e){return{id:e,name:e}})),allowNew:!0,allowBackspace:!1,onDelete:function(n){e.handleDeleteTag(n,t.name)},onAddition:function(n){e.handleAddTag(n,t.name)},addOnBlur:!0,autofocus:!1,placeholderText:"Добавить...",delimiters:["Enter","Tab",","],delimiterChars:[","]}))})),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{label:"Сохранить",onClick:l}))))}}]),a}(o.PureComponent);l_.propTypes={isDev:j().bool,active:j().bool,onChangeInput:j().func,onSaveSettings:j().func,data:j().object,errors:j().object};const u_=l_;var p_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"radiobutton",{vislvl:[{title:"все",value:9},{title:"все зарегистрированные пользователи",value:4},{title:"только друзья",value:1},{title:"никто (удаление анкеты)",value:-2}],vislvl_friends:[{title:"только я",value:0},{title:"только друзья",value:1},{title:"все зарегистрированные пользователи",value:4},{title:"все",value:9}],vislvl_user_post:[{title:"только я",value:0},{title:"только друзья",value:1},{title:"все зарегистрированные пользователи",value:4}]}),k()(y()(e),"radiobuttonTitle",{vislvl:"Мою страницу видят:",vislvl_friends:"Список друзей видят:",vislvl_user_post:"На мою стену могу постить:"}),k()(y()(e),"checkbox",[{type:"checkbox",name:"allow_daily",label:"о темах дня"},{type:"checkbox",name:"meta_allow_friends_and_messages",label:"о друзьях и о новых личных сообщениях"},{type:"checkbox",name:"meta_allow_comments",label:"о комментариях"},{type:"checkbox",name:"meta_allow_photos_and_places",label:"о фотографиях и местах"},{type:"checkbox",name:"meta_allow_groups",label:"о сайтах"}]),k()(y()(e),"input",[{type:"text",name:"inviter_person_url",label:"Меня пригласил:"}]),e}return g()(a,[{key:"makeRadio",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.currentObject,i=void 0===a?this.radiobutton:a,s=r.type,c=void 0===s?"radio":s,l=[],u=this.props.onChangeInput;return t="number"==typeof t?t.toString():t,i[e].map((function(r){var a=r.value;a="number"==typeof a?a.toString():a,l.push(o.createElement(B.dU,{error:n[e],key:a,input:{type:c,initVal:a,label:r.title,name:e},value:t,onChangeHandle:function(t){u(t,e)}}))})),l}},{key:"render",value:function(){var e=this,t=this.props,n=t.onChangeInput,r=t.onSaveSettings,a=t.active,i=t.data,s=void 0===i?{}:i,c=t.errors,l=void 0===c?{}:c,u={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!a};return o.createElement("div",{className:M()(u)},o.createElement("form",{className:"site-settings__form"},o.createElement("h1",{className:"form-title"},"Приватность и уведомления"),o.createElement("div",{className:"form-section form-section_top"},Object.keys(this.radiobuttonTitle).map((function(t,n){return o.createElement("div",{className:"form-group",key:n},o.createElement("label",null,e.radiobuttonTitle[t]),e.makeRadio(String(t),s[t],l))}))),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Я хочу получать письма:"),this.checkbox.map((function(e,t){return o.createElement(B.dU,{error:l[e.name],key:t,input:e,type:e.type,value:s[e.name],onChangeHandle:function(t){return n(t,e.name)}})})))),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},this.input.map((function(e,t){return o.createElement(B.dU,{error:l[e.name],key:t,input:e,type:e.type,value:s[e.name],onChangeHandle:function(t){return n(t,e.name)}})})))),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{label:"Сохранить",onClick:function(e){e.preventDefault(),r()}})))))}}]),a}(o.Component);p_.propTypes={isDev:j().bool,data:j().object,onChangeInput:j().func,onSaveSettings:j().func,active:j().bool,errors:j().any,showPassword:j().bool,personSettings:j().object};const d_=p_;var m_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"form",{buttonCode:[{type:"textarea",name:"buttonCode",label:"Исходный код кнопки МирТесен:",labelMuted:"В параметре post укажите текст или ссылку",classNameInput:"site-settings__input_big-height"}]}),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.data,r=void 0===n?{}:n,a=e.errors,i=void 0===a?{}:a,s=e.onChangeInput,c={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!t};return o.createElement("div",{className:M()(c)},o.createElement("h1",{className:"form-title"},"Персональная информация"),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},this.form.buttonCode.map((function(e,t){return o.createElement(B.dU,{error:i[e.name],key:t,input:e,value:r[e.name],onChangeHandle:function(t){s(t,e.name)}})})))))}}]),a}(o.PureComponent);m_.propTypes={isDev:j().bool,active:j().bool,onChangeInput:j().func,data:j().object,errors:j().object};const f_=m_;var h_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"form",{socials:[{name:"MirTesen",image:"https://static.mtml.ru/images/v4/bg-social-buttons-alt.png?v=068d525d6c7d6ce850b55e0e27a3f1b4"},{name:"MailRu",image:"https://static.mtml.ru/images/v4/bg-social-buttons-alt.png?v=068d525d6c7d6ce850b55e0e27a3f1b4"},{name:"Twitter",image:"https://static.mtml.ru/images/v4/bg-social-buttons-alt.png?v=068d525d6c7d6ce850b55e0e27a3f1b4"}],searchInput:[{type:"text",name:"searchInput",placeholder:"Поиск"}],userList:[{userphoto:"https://r.mtdata.ru/c50x50/u33/photoDADA/20143455938-0/original.jpeg",username:"Oleg Yasdffasdfasdfasdfasd"},{userphoto:"https://r.mtdata.ru/c50x50/u33/photoDADA/20143455938-0/original.jpeg",username:"Oleg Yasdffasdfasdfasdfasd"},{userphoto:"https://r.mtdata.ru/c50x50/u33/photoDADA/20143455938-0/original.jpeg",username:"Oleg Yasdffasdfasdfasdfasd"},{userphoto:"https://r.mtdata.ru/c50x50/u33/photoDADA/20143455938-0/original.jpeg",username:"Oleg Yasdffasdfasdfasdfasd"},{userphoto:"https://r.mtdata.ru/c50x50/u33/photoDADA/20143455938-0/original.jpeg",username:"Oleg Yasdffasdfasdfasdfasd"},{userphoto:"https://r.mtdata.ru/c50x50/u33/photoDADA/20143455938-0/original.jpeg",username:"Oleg Yasdffasdfasdfasdfasd"}]}),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.onChangeInput,n=e.active,r=e.data,a=void 0===r?{}:r,i=e.errors,s=void 0===i?{}:i,c={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!n};return o.createElement("div",{className:M()(c)},o.createElement("h1",{className:"form-title"},"Начни общение прямо сейчас!"),o.createElement("div",{className:"form-group site-settings__subtitle position-relative form-group"},"Используйте свой аккаунт в Мой Мир или Twitter, чтобы найти друзей:"),o.createElement("div",{className:"site-settings__social-outer_grid"},this.form.socials.map((function(e,t){return o.createElement("div",{className:"site-settings__social-button",key:t},o.createElement("div",{className:"site-settings__social-img site-settings__social-img_".concat(e.name)},o.createElement("img",{className:"site-settings__social-img-inner site-settings__social-img-inner_".concat(e.name),src:e.image,alt:e.name})),o.createElement("div",{className:"site-settings__social-name"},e.name))}))),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},this.form.searchInput.map((function(e,n){return o.createElement(B.dU,{error:s[e.name],key:n,input:e,type:e.type,value:a[e.name],onChangeHandle:function(n){return t(n,e.name)}})})))),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},this.form.userList.map((function(e,t){return o.createElement("div",{className:"site-settings__add-user",key:t},o.createElement("div",{className:"site-settings__add-user-photo"},o.createElement("img",{className:"site-settings__add-user-photo-img",src:e.userphoto,alt:e.username})),o.createElement("div",{className:"site-settings__add-user-name"},e.username),o.createElement("div",{className:"site-settings__add-user-button-group"}))})))))}}]),a}(o.PureComponent);h_.propTypes={isDev:j().bool,active:j().bool,onChangeInput:j().func,data:j().object,errors:j().object};const __=h_;var g_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"dataAdapter",value:function(e){return{id:e.id,type:"checkbox",name:"key".concat(e.id,".value"),label:e.display_name,value:e.value||"",classNameInput:"site-settings__big-checkbox"}}},{key:"dataAdapterIterator",value:function(e,t){return Object.values(e).map(t)}},{key:"render",value:function(){var e=this.props,t=e.data,n=void 0===t?{}:t,r=e.active,a=e.onChangeInput,i=e.onSaveSettings,s=this.dataAdapterIterator(n,this.dataAdapter),c={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!r};return o.createElement("div",{className:M()(c)},o.createElement("h1",{className:"form-title"},"Сайты в черном списке"),o.createElement("div",{className:"form-group site-settings__subtitle position-relative form-group"},"Cайты, находящиеся в «чёрном списке», не показываются в Вашей ленте. Добавить сайт в «чёрный список» можно в ленте."),0!==s.length?s.map((function(e,t){return o.createElement("div",{className:"form-section form-section_top",key:t},o.createElement("div",{className:"form-group"},o.createElement(B.dU,{input:e,value:e.value,onChangeHandle:function(t){a(t,e.name)}})))})):o.createElement("div",{className:"site-settings__empty-list"},"Список пуст"),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{label:"Исключить",onClick:i}))))}}]),a}(o.PureComponent);g_.propTypes={isDev:j().bool,active:j().bool,onChangeInput:j().func,onSaveSettings:j().func,data:j().oneOfType([j().array,j().object])};const v_=g_;var y_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"dataAdapter",value:function(e){return{id:e.id,type:"checkbox",name:"key".concat(e.id,".value"),label:e.display_name,value:e.value||"",classNameInput:"site-settings__big-checkbox"}}},{key:"dataAdapterIterator",value:function(e,t){return Object.values(e).map(t)}},{key:"render",value:function(){var e=this.props,t=e.data,n=void 0===t?{}:t,r=e.active,a=e.onChangeInput,i=e.onSaveSettings,s=this.dataAdapterIterator(n,this.dataAdapter),c={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!r};return o.createElement("div",{className:M()(c)},o.createElement("h1",{className:"form-title"},"Люди в черном списке"),o.createElement("div",{className:"form-group site-settings__subtitle position-relative form-group"},"Пользователи, находящиеся в «чёрном списке», не могут предлагать Вам дружбу, отправлять личные сообщения, комментировать на Вашей стене, приглашать Вас на сайты. Добавить пользователя в «чёрный список» можно с его личной страницы."),0!==s.length?s.map((function(e,t){return o.createElement("div",{className:"form-section form-section_top",key:t},o.createElement("div",{className:"form-group"},o.createElement(B.dU,{input:e,value:e.value,onChangeHandle:function(t){a(t,e.name)}})))})):o.createElement("div",{className:"site-settings__empty-list"},"Список пуст"),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{label:"Исключить",onClick:i}))))}}]),a}(o.PureComponent);y_.propTypes={isDev:j().bool,active:j().bool,onChangeInput:j().func,onSaveSettings:j().func,data:j().object};const b_=y_;var E_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"confirmPhone",{type:"text",name:"phone",label:"Номер мобильного телефона:",placeholder:"Номер в международном формате (Например +7_)",inline:!0}),k()(y()(e),"confirmCode",{type:"text",name:"phoneConfirmCode",label:"Код подтверждения:",inline:!0}),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.onSendPhoneConfirmation,r=t.onChangeInput,a=t.onConfirmPhone,i=t.onSetFieldValidValue,s=t.active,c=t.data,l=void 0===c?{}:c,u=t.errors,p=void 0===u?{}:u,d=t.valid,m=void 0===d?{}:d,f={"site-settings__wrapper":!0,"site-settings__wrapper_hidden":!s,"site-settings__phone-confirmation":!0};return o.createElement("div",{className:M()(f)},o.createElement("h1",{className:"form-title"},"Подтвердите свой номер мобильного телефона."),o.createElement("p",null,'Вам отправлено SMS с кодом подтверждения, после получения введите в поле "Код подтверждения".'),o.createElement("div",{className:"form-group site-settings__subtitle"},'Если потребуется, номер телефона можно будет изменить в настройках профиля в разделе "Контактная информация".',o.createElement("br",null),"Номер мобильного телефона необходимо указывать в международном формате (Например +7_)."),o.createElement("div",{className:"form-section form-section_top"},o.createElement("div",{className:"form-group"},o.createElement(B.dU,{error:p[this.confirmPhone.name],invalid:!1===m[this.confirmPhone.name],input:this.confirmPhone,value:l[this.confirmPhone.name],onChangeHandle:function(t){if(t.target.value.substr(-1).match(/[^0-9()+\-\s]/g))return!1;r(t,e.confirmPhone.name),i({phoneMobile:!0})}}),o.createElement(B.dU,{error:p[this.confirmCode.name],invalid:!1===m[this.confirmCode.name],input:this.confirmCode,value:l[this.confirmCode.name],onChangeHandle:function(t){if(t.target.value.substr(-1).match(/[^0-9]/g))return!1;r(t,e.confirmCode.name),i({phoneConfirmCode:!0})}}))),o.createElement("div",{className:"form-section form-section_top form-section_submit"},o.createElement("div",{className:"form-group"},o.createElement(eo.Z,{label:"Подтвердить",onClick:function(){a(l.phone,l.phoneConfirmCode.trim())}}),o.createElement(eo.Z,{label:"Повторная отправка SMS",onClick:function(){n(l.phone,!0)}}),l.resending&&o.createElement("span",{className:"phone-confirmation-code-resending"},"SMS c кодом отправлено"))))}}]),a}(o.Component);E_.propTypes={active:j().bool,onChangeInput:j().func,onConfirmPhone:j().func,onSendPhoneConfirmation:j().func,onSetFieldValidValue:j().func,data:j().object,errors:j().object,valid:j().object};const P_=(0,i.$j)(null,(function(e){return{onSendPhoneConfirmation:function(t){e(Ca(t,!0))},onConfirmPhone:function(t,n){e(function(e,t){return function(){var n=R()(D().mark((function n(r){var o;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=4;break}return r(Ia({phoneConfirmCode:!1})),B.v0.sendSystemMessage("confirmCode"),n.abrupt("return",!1);case 4:return n.next=6,Sa();case 6:if(n.t0=n.sent.parsePhoneNumberFromString(e),n.t0){n.next=9;break}n.t0="";case 9:if((o=n.t0)&&o.isValid()){n.next=14;break}return r(Ia({phone:!1})),B.v0.sendSystemMessage("incorrectPhoneNumber"),n.abrupt("return",!1);case 14:return n.abrupt("return",Promise.resolve(B.Fc.confirmPhone(e,t)).then((function(e){var t=e.status,n=e.errors,o=(0,zn.R6)(B.Bz.getStore().getState().localize),a=!1;t?(r(Ia({phoneConfirmCode:!0})),B.v0.sendSystemMessage("confirmedPhoneNumber")):n?n.forEach((function(e){var t=e.key,n=e.message;a="phone"===t&&"error_required_missed"===n?o("authErrorMissedPhone"):"phone"===t&&"error_invalid_format"===n?o("authErrorPhoneInvalidFormat"):"phone"===t&&"error_doesnt_match"===n?o("authErrorAccountNotFound"):"phone"===t&&"error_disallowed"===n?o("authErrorAccountBlocked"):"code"===t&&"error_required_missed"===n?o("authErrorMissedCode"):"code"===t&&"error_doesnt_match"===n?o("authErrorCodeMismatch"):"code"===t&&"error_exceed_limit"===n?o("authErrorRequestsLimit"):"code"===t&&"error_person_phone_confirmed_other"===n?o("phoneErrorAlreadyTaken"):n})):a=o("authErrorServer"),a&&(r(Ia({phoneConfirmCode:!1})),B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:a}))})).catch((function(e){B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:e}),B.qL.promiseHandler(Pa)(e)})));case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},onSetFieldValidValue:function(t){e(Ia(t))}}}))(E_);var O_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleChangeInput",(function(t,n){var r=e.props.handleChangeInput,o=e.props.personSettings.activeTab,a=t.target;r(o,n,a?"checkbox"===a.type?a.checked?"on":"":(a.type,a.value):t)})),k()(y()(e),"handleSaveSettings",(function(){var t=e.props,n=t.app,r=t.handleSaveSettings,o=e.props.personSettings,a=o.activeTab,i=o.data;r(n.person.id,a,i)})),k()(y()(e),"containers",{contacts:i_,password:c_,personal:u_,privacy:d_,tools:f_,invitefriends:__,siteblacklist:v_,peopleblacklist:b_,confirm:P_}),e}return g()(a,[{key:"render",value:function(){var e=this,t=this.props,n=t.personSettings,r=t.handleAddEmail,a=t.handleConfirmEmail,i=t.handleDeleteEmail,s=t.handleSetPrimaryEmail,c=this.containers;return o.createElement("div",{className:"person-settings"},Object.keys(n.sections).map((function(t){var l=n.sections[t],u=c[t];return!u||l.forDevs&&!wr.isDeveloper()?null:o.createElement(u,{key:t,active:t===n.activeTab,data:n.data[t],errors:n.errors,valid:n.valid,onChangeInput:e.handleChangeInput,onSaveSettings:e.handleSaveSettings,onAddEmail:r,onDeleteEmail:i,onSetPrimaryEmail:s,onConfirmEmail:a,personSettings:n})})))}}]),a}(o.Component);O_.propTypes={personSettings:j().object,handleChangeInput:j().func,handleSaveSettings:j().func,handleConfirmEmail:j().func,handleSetPrimaryEmail:j().func,handleAddEmail:j().func,handleDeleteEmail:j().func,app:j().object};const w_=(0,i.$j)((function(e){return{app:e.app,personSettings:e.personSettings}}),(function(e){return{handleChangeInput:function(t,n,r){e(Ma(t,n,r))},handleSaveSettings:function(t,n,r){e(function(e,t,n){return function(){var r=R()(D().mark((function r(o){var a,i,s,c,l,u,p,d,m,f,h,_,g;return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a={},t?a[t]=wa({},n[t]):a.about=wa({},n.about),o({type:"PERSON_SETTINGS_SAVE_CHANGES",tabName:t}),"password"!==t){r.next=12;break}if(a.privacy=a.privacy||{},n.password.nextPassword===n.password.nextPasswordRepeat){r.next=9;break}return B.v0.sendSystemMessage("passwordChageError"),o(ka({nextPassword:"Несоответстие между паролями",nextPasswordRepeat:"Новые пароли должны быть одинаковыми"})),r.abrupt("return");case 9:a.privacy.password=[n.password.oldPassword,n.password.nextPassword],r.next=58;break;case 12:if("peopleblacklist"!==t){r.next=18;break}(i={ignore:{people:{},sites:{}}}).ignore.people=Object.values(a.peopleblacklist).reduce((function(e,t){return[].concat(F()(e),["on"===t.value?k()({},t.id,"f"):k()({},t.id,"t")])}),[]),a=i,r.next=58;break;case 18:if("siteblacklist"!==t){r.next=24;break}(s={ignore:{people:{},sites:{}}}).ignore.sites=Object.values(a.siteblacklist).reduce((function(e,t){return[].concat(F()(e),["on"===t.value?k()({},t.id,"f"):k()({},t.id,"t")])}),[]),a=s,r.next=58;break;case 24:if("privacy"!==t){r.next=28;break}a.privacy.inviter_person=a.privacy.inviter_person_url,r.next=58;break;case 28:if("personal"!==t){r.next=35;break}c=a.personal,l=c.userBirthdayYear,u=c.userBirthdayMonth,p=c.userBirthday,d=1==="".concat(p).length?"0".concat(p):p,m=1==="".concat(u).length?"0".concat(u):u,a.personal.birthday=d&&m&&l?"".concat(l,"-").concat(m,"-").concat(d):"",r.next=58;break;case 35:if("contacts"!==t){r.next=58;break}return a.contacts.phoneMobile=a.contacts.phoneMobile||"",r.next=39,Sa();case 39:if(r.t0=r.sent.parsePhoneNumberFromString(a.contacts.phoneMobile),r.t0){r.next=42;break}r.t0="";case 42:if(h=r.t0,_=null===(f=a)||void 0===f?void 0:f.contacts.isPhoneConfirmed,!h||!h.isValid()){r.next=49;break}a.contacts.phoneMobile=h.number,o(Ia({phoneMobile:!0})),r.next=57;break;case 49:if(a.contacts.phoneMobile||_){r.next=54;break}a.contacts.phoneMobile="",o(Ia({phoneMobile:!0})),r.next=57;break;case 54:return o(Ia({phoneMobile:!1})),B.v0.sendSystemMessage("incorrectPhoneNumber"),r.abrupt("return",!1);case 57:delete a.contacts.emails;case 58:return r.next=60,B.Fc.getPersonSettings(e);case 60:g=r.sent,Promise.all([B.Fc.setPersonSettings(e,a)]).then(function(){var e=R()(D().mark((function e(n){var r,i,s,c;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ir()(n,1),!(i=r[0])||!i.result||"contacts"!==t){e.next=6;break}if(s=a.contacts.phoneMobile,c=g.settings.contacts.phoneMobile,!s||s===c){e.next=6;break}return e.abrupt("return",o(Ca(s)));case 6:o(Na(i));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:e}),B.qL.promiseHandler(Pa)(e)}));case 62:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},handleConfirmEmail:function(t){e(function(e){return function(){return Promise.all([B.Fc.confirmEmail(e)]).then((function(e){var t=ir()(e,1)[0];t.error?B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:t.title||B.v0.systemMessages.saveError}):B.v0.sendSystemMessage("sendLetter")})).catch((function(e){B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:e}),B.qL.promiseHandler(Pa)(e)}))}}(t))},handleSetPrimaryEmail:function(t){e(function(e){return function(t,n){var r=wa({},n().personSettings.data.contacts.emails),o=r.default;r.confirmed.push(o),r.default=e,r.pending=r.pending.filter((function(t){return t!==e})),r.confirmed=r.confirmed.filter((function(t){return t!==e})),t(ja(r))}}(t))},handleAddEmail:function(t){e(function(e){return function(t,n){var r,o,a;if(e=e.toLowerCase(),!B.E6.isEmail(e))return B.v0.sendSystemMessage("incorrectEmail");var i=n(),s=wa({},(null==i||null===(r=i.personSettings)||void 0===r||null===(o=r.data)||void 0===o||null===(a=o.contacts)||void 0===a?void 0:a.emails)||{}),c=s.default,l=void 0===c?"":c,u=s.confirmed,p=void 0===u?[]:u,d=s.pending,m=void 0===d?[]:d;if(l.toLowerCase()===e||!p.every((function(t){return t.toLowerCase()!==e}))||!m.every((function(t){return t.toLowerCase()!==e})))return B.v0.sendSystemMessage("reservedEmail");m.push(e),s.pending=m.filter((function(e,t,n){return n.indexOf(e)===t})),t(ja(s))}}(t))},handleDeleteEmail:function(t){e(function(e){return function(t,n){var r,o,a,i=n(),s=wa({},(null==i||null===(r=i.personSettings)||void 0===r||null===(o=r.data)||void 0===o||null===(a=o.contacts)||void 0===a?void 0:a.emails)||{}),c=s.pending,l=void 0===c?[]:c,u=s.confirmed,p=void 0===u?[]:u;s.pending=l.filter((function(t){return t!==e})),s.confirmed=p.filter((function(t){return t!==e})),t(ja(s))}}(t))}}}))((0,B.Pf)(O_,"personSetting"));var S_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleClick",(function(){var t=e.props,n=t.images,r=void 0===n?[]:n,o=t.imageSlider,a=t.setImages,i=t.toggleSlider;a(r),o.lightboxIsOpen||i()})),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.tagName,n=void 0===t?"div":t,r=e.children,a=n;return o.createElement(a,{onClick:this.handleClick,className:"image-slider-trigger"},r)}}]),a}(o.PureComponent);k()(S_,"propTypes",{setImages:j().func,toggleSlider:j().func,imageSlider:j().object,images:j().arrayOf(j().object),tagName:j().string,children:j().element});const T_=(0,i.$j)((function(e){return{imageSlider:e.imageSlider}}),(function(e){return{setImages:function(t){return e(im(t))},toggleSlider:function(){return e(am())}}}))(S_);var k_=function(e){var t,n=e.post,r=e.repost,a=e.attachments,i=e.currentUserPostId,s=e.postUrl,c=e.imageGallery,l=0,u=a.filter((function(e){return void 0!==e.photo})).length,p=+n.id==+i,d=!(null==n||null===(t=n.shared_post)||void 0===t||!t.smi2_id);if(0===a.length)return null;var m=a.map((function(e){var t;return{src:null==e||null===(t=e.photo)||void 0===t?void 0:t.photo_original}}));return o.createElement("div",{className:M()({"blog-post__attachments":!0,"blog-post__attachments__link":a[0].link,"blog-post__attachments__video":a[0].video,"blog-post__attachments__photo":a[0].photo,"blog-post__attachments__post_wall":p})},a.map((function(e,t){return void 0!==e.link?o.createElement("div",{key:n.id+t},e.link.photo&&o.createElement("a",{href:e.link.url},o.createElement(B.BH,{src:e.link.photo.photo_original,disableRetina:d})),e.link.embed&&o.createElement("span",{className:M()({"blog-post__attachments__link-embed":!0}),dangerouslySetInnerHTML:{__html:e.link.embed}}),o.createElement("div",{className:M()({footer:!0,"without-preview":!(e.link.photo||e.link.embed)})},o.createElement("div",{className:"caption"},e.link.caption),o.createElement("a",{target:"_blank",href:e.link.url,className:"title"},e.link.title))):!c&&void 0!==e.photo&&l++<1?o.createElement(T_,{images:m,key:n.id+t},o.createElement("div",{className:"blog-post__attachments__photo"},o.createElement("a",{target:"_blank",href:r?r.url:s,onClick:function(e){e.preventDefault(),r&&(window.location.href=r.url)}},o.createElement(B.BH,{src:e.photo.photo_original,disableRetina:d}),u>1&&o.createElement("span",{className:"photo-count"},"".concat(u," фото"))))):void 0!==e.video?o.createElement("div",{key:n.id+t},o.createElement("span",{className:M()({"social-repost":(a=e.video.player_html,!(/^<iframe\s*/.test(a)||/^<div class=\"embed-container\"><iframe\s*/.test(a)||/^<object\s*/.test(a)))}),dangerouslySetInnerHTML:{__html:e.video.player_html}}),o.createElement("div",{className:"footer"},o.createElement("a",{target:"_blank",className:"caption",href:"//".concat(e.video.caption)},e.video.caption),o.createElement("a",{target:"_blank",className:"title",href:e.video.url},e.video.title))):void 0;var a})))};k_.propTypes={post:j().object,repost:j().object,attachments:j().array,currentUserPostId:j().number,postUrl:j().string,imageGallery:j().bool};const I_=k_;var M_="/index.js";function C_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C_(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,o){var a=o(),i=a.personPostList.posts,s=a.personPostList.page;B._m.getList(j_({userId:e},t)).then((function(e){void 0!==e&&r({type:"PERSON_POST_LIST_GET",hasMoreItems:e.items.length>=(vn().postsPerPage||20),page:++s,nextOffset:e.nextOffset,posts:n?[].concat(F()(i),F()(e.items)):e.items})})).catch(B.qL.promiseHandler(M_))}};var R_=B.vc.restoreBlogPost,A_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"getFormattedDate",(function(e){var t=e.formattedDates;e.shared_post&&(t=e.shared_post.formattedDates);var n=t.iso;return n&&B.E6.isPastYear(n)?o.createElement(B.h,{date:n,format:"DD.MM.YYYY в H:mm"}):o.createElement(B.h,{date:n,format:"DD MMMM, H:mm"})})),k()(y()(t),"readMore",(function(e,t){var n=t.mentionedPersons;return!!(t.isTopPost||+e!=+t.id&&t.previewText&&t.text.length>300&&!n)})),t.state={},t.description=B.cQ.preparePersonPostPreview(t.props.currentUserPostId,t.props.blogPost),t}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.blogPost,r=e.actionModifyPostPopup,a=e.onRestoreBlogPost,i=e.currentUserPostId,s=n.title,c=n.preview,l=n.isTopPost,u=n.shared_post,p=B.cQ.getRepostSource(n),d=B.cQ.getAttachments(n),m=l?c:this.description,f=this.readMore(i,n),h=i===n.id;return o.createElement("div",{itemProp:h?"articleBody":null,className:"blog-post__content"},s&&o.createElement("h3",{className:"blog-post__title"},s),m&&o.createElement("div",{className:"blog-post__description"},o.createElement("div",{className:M()({"blog-post__description__preview-text":!0,"blog-post__description__preview-text_fade":f&&!l}),dangerouslySetInnerHTML:{__html:m}}),f&&!h&&o.createElement("a",{className:"read-more-btn",href:n.seo_url},"Читать далее")),h&&null!==d&&o.createElement(I_,{post:n,repost:u,attachments:d,currentUserPostId:i,postUrl:"/people/".concat(t.userId,"/blog/").concat(n.id)}),l&&h&&this.description&&o.createElement("div",{className:"blog-post__description",dangerouslySetInnerHTML:{__html:this.description}}),o.createElement(B.J3,{pollId:n.foreignPollId,postUrl:n.url}),o.createElement("div",{className:M()({"blog-post__repost__wrapper":u})},null!==d&&!h&&o.createElement(I_,{post:n,repost:u,attachments:d,currentUserPostId:i,postUrl:"/people/".concat(t.userId,"/blog/").concat(n.id)}),u&&u.foreignPollId&&o.createElement(B.J3,{pollId:u.foreignPollId,postUrl:u.url}),u&&p&&o.createElement("div",{className:"blog-post__repost__content"},o.createElement("div",{className:"blog-post__author"},o.createElement(B.Hl,{logoInfo:{userName:p.display_name,logoImg:p.photo_original,logoClassName:"userlogo_xm",logoUrl:B.E6.fixProtocol(p.url),linkTarget:"_blank"}}),o.createElement("div",{className:"blog-post__author-name-with-time"},o.createElement("a",{className:"blog-post__author-name",href:p.url,target:"_blank"},p.display_name,p.isAuthenticAccount&&o.createElement(B.SF,{color:"dark"})),o.createElement("div",{className:"blog-post__author-time"},o.createElement("a",{href:u.url,className:"blog-post__pubdate"},this.getFormattedDate(u))))),o.createElement("a",{className:"blog-post__description",href:"user_post"===u.post__type?"/people/".concat(p.id,"/blog/").concat(u.id):u.url},u.title&&o.createElement("h3",{className:"blog-post__description__title",dangerouslySetInnerHTML:{__html:B.E6.disinfection(u.title)}}),"user_post"===u.post_type&&o.createElement("p",{dangerouslySetInnerHTML:{__html:B.cQ.prepareRepostPreview(i,u)}})))),n.topPostLink&&h&&o.createElement("div",{className:"blog-post__source"},o.createElement("a",{href:n.topPostLink,target:"_blank"},"Ссылка на первоисточник")),o.createElement(B.qr,{maxCount:10,object:n}),!!r.deletedList[n.id]&&o.createElement("div",{className:"blog-post__deleted"},"Пост удален...",o.createElement(eo.Z,{label:"Восстановить",onClick:function(){a(n.id)}})))}}]),a}(o.PureComponent);A_.propTypes={app:j().object,blogPost:j().object,currentUserPostId:j().number,magic:j().object,actionModifyPostPopup:j().object,onRestoreBlogPost:j().func};const D_=(0,i.$j)((function(e){return{actionModifyPostPopup:e.actionModifyPostPopup,app:e.app,magic:e.magic}}),(function(e){return{onRestoreBlogPost:function(t){e(R_(t))},onShowMorePosts:function(t,n){e(N_(t,n,!0))}}}))(A_);var x_=function(e){var t=e.user,n=e.openAuthForm,r="TIME_LINE_NOTIFICATION",a=(0,o.useState)(!1),i=ir()(a,2),s=i[0],c=i[1];return(0,o.useEffect)((function(){var e=B.M0.canView(r);c(e)}),[]),s&&o.createElement("div",{className:"blog-post-list__notification"},o.createElement("h1",{className:"blog-post-list__notification__title"},"Посмотрите новые идеи в своей ленте"),o.createElement("a",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),B.gy.ym("reachGoal","click_lenta_profile"),B.M0.setView(r),window.location.href="https://mirtesen.ru/main",t||n()},href:"https://mirtesen.ru/main"},"Смотреть ленту"))};x_.propTypes={user:j().object,openAuthForm:j().func};const L_=(0,i.$j)((function(e){return{user:e.auth.user}}),(function(e){return{openAuthForm:function(){return e(B.we.openAuthForm("login"))}}}))(x_);var B_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"componentDidMount",(function(){var t,n,r=e.props,o=r.app,a=r.user,i=r.person,s=r.personVislvl,c=r.showPostEditor;null!==(t=o.req)&&void 0!==t&&null!==(n=t.query)&&void 0!==n&&n.birthday&&null!=a&&a.id&&c("default",null,{author:{id:a.id,name:a.display_name,image:a.photo_original||""},target:{type:"wall",id:i.id,birthday:i.bdate},personVislvl:s})})),k()(y()(e),"getFormattedDate",(function(e){var t=e.formattedDates.iso;return t&&B.E6.isPastYear(t)?o.createElement(B.h,{date:t,format:"DD.MM.YYYY в H:mm"}):o.createElement(B.h,{date:t,format:"D MMMM, H:mm"})})),k()(y()(e),"_getPostFilter",(function(e){switch(e){case"personPhotos":return"USER_POSTS_PHOTO";case"personVideos":return"USER_POSTS_VIDEO";default:return"USER_POSTS_LAST_ALL"}})),e}return g()(a,[{key:"isCurrentPost",value:function(e){return this.props.personPostList.currentUserPostId===e}},{key:"render",value:function(){var e,t,n,r=this,a=this.props,i=a.personPostList,s=a.page,c=a.siteBuilder,l=void 0===c?{}:c,u=a.hasMoreItems,p=a.app,d=a.user,m=a.actionModifyPostPopup,f=a.onShowMorePosts,h=a.person,_=a.increaseScrolledPosts,g=a.personVislvl,v=parseInt((null==p||null===(e=p.req)||void 0===e||null===(t=e.query)||void 0===t?void 0:t.page)||"1",10),y=0;p.site=p.site||{};var b=p.meta,E=i.posts,P=i.currentUserPostId,O={behavior:"tooltip"},w=null==p||null===(n=p.req)||void 0===n?void 0:n.deviceType;return o.createElement(B.v_,{pageStart:0,loadMore:function(){if(u)return f(p.person.id,{filter:r._getPostFilter(p.page),limit:vn().postsPerPage,offset:i.nextOffset,currentUserPostId:i.currentUserPostId||null})},hasMore:u,loader:o.createElement(B.nt,null),threshold:400},o.createElement("div",{className:"blog-post-list blog-post-list_person"},wr.isLogged()&&h.canPostToWall&&o.createElement(B.G7,{identifier:"default",author:{id:d.id,name:d.display_name,image:d.photo_original||""},target:{type:"wall",id:h.id,birthday:h.bdate},params:{showHoliday:!0,showPoll:!0},topicList:Br.listTopics.filter((function(e){return e.theme})),personVislvl:g}),o.createElement(L_,null),E.length<1&&!u&&o.createElement("article",{className:"blog-post blog-post__no-posts",key:0},"Здесь пока ничего нет"),E.length>0&&E.map((function(e,t){var n;if(m.approveList[e.id])return null;var a=e.shared_post,i=B.E6.cropImage2(L()(e,"images[0].url")),s=++y%vn().postsPerPage==0,c=v-1+Math.floor(y/vn().postsPerPage),u=(null==e||null===(n=e.from)||void 0===n?void 0:n.id)||(null==e?void 0:e.from_id);return o.createElement(rc,{key:y},(y+1)%3==0&&o.createElement("div",{className:"adfox-outer blog-post-list__ad-block"},"phone"!==w?o.createElement(Di,{type:"Politpiar",id:99818}):o.createElement(Di,{type:"Politpiar",id:99813})),o.createElement("article",{className:M()({"blog-post":!0,"blog-post__repost":a}),key:e.id,itemScope:r.isCurrentPost(e.id),itemType:r.isCurrentPost(e.id)?"http://schema.org/NewsArticle":null},r.isCurrentPost(e.id)&&o.createElement(o.Fragment,null,o.createElement("meta",{itemScope:!0,itemProp:"mainEntityOfPage",itemType:"https://schema.org/WebPage",itemID:(e.canonical_url||e.url).replace(/^\/\//,"https://"),content:""}),o.createElement("meta",{itemProp:"datePublished",content:e.formattedDates.iso}),o.createElement("meta",{itemProp:"dateModified",content:e.formattedDates.iso}),o.createElement("meta",{itemProp:"headline",content:b.title}),i&&o.createElement("meta",{itemProp:"image",content:i.replace(/^\/\//,"https://")})),o.createElement(Mu,{app:p,post:e,isCurrentPost:r.isCurrentPost(e.id),index:t,topicList:Br.listTopics}),o.createElement(D_,{blogPost:e,currentUserPostId:P}),o.createElement(cl,{onAppear:_}),o.createElement("div",{className:"blog-post__footer"},!e.is_draft&&o.createElement(B.Hy,{blogPost:e,siteBuilder:l,currentUser:d,showCommentsBtn:!1,postPage:r.isCurrentPost(),tooltip:O,commentsClickHandler:function(e){var t=e.target.closest(".blog-post").querySelector(".comment__reply__form__textarea");t&&(t.scrollIntoView({block:"center"}),t.focus())},commentsBtnDefault:!0})),o.createElement(Il,{showV2Comments:lf.Z.isV2Comments(u,e.date),blogPostId:e.id,siteId:h.id,showListTitle:!1}),s&&o.createElement(B.hp,{id:c,initialPage:v,threshold:.5})))})),o.createElement(gu,{hasMoreItems:u,page:s,url:p.originalUrl}),o.createElement(B._7,null),o.createElement(B.xX,null),o.createElement(B.Wp,null)))}}]),a}(o.PureComponent);B_.propTypes={personPostList:j().object,person:j().object,hasMoreItems:j().bool,onShowMorePosts:j().func,page:j().number,title:j().string,siteBuilder:j().object,app:j().object,user:j().object,personVislvl:j().string,actionModifyPostPopup:j().object,increaseScrolledPosts:j().func,showPostEditor:j().func};const U_=(0,i.$j)((function(e){return{title:e.personPostList.title,personPostList:e.personPostList,hasMoreItems:e.personPostList.hasMoreItems,actionModifyPostPopup:e.actionModifyPostPopup,page:e.personPostList.page,siteBuilder:e.app.siteBuilder,app:e.app,user:e.auth.user,person:e.app.person,personVislvl:e.personSettings.vislvl}}),(function(e){return{onShowMorePosts:function(t,n){e(N_(t,n,!0))},increaseScrolledPosts:function(){return e(Kt())},showPostEditor:function(t,n,r){e(B.Yg.showModal(t,n,r))}}}))(B_);var F_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){return o.createElement("div",{className:"person-wall"},o.createElement(U_,null))}}]),a}(o.Component);const H_=(0,B.Pf)((0,B.Pf)((0,B.Pf)(F_,"personWall")));var q_=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e,t,n=this.props,r=n.publications,a=n.app,i=n.siteBuilder,s=void 0===i?{}:i,c=n.onShowMore,l=n.hasMoreItems,u=n.page,p=vn().postsPerPage,d=p+(u-1)*p;a.site=a.site||{};var m=parseInt((null==a||null===(e=a.req)||void 0===e||null===(t=e.query)||void 0===t?void 0:t.page)||"1",10),f=0,h={behavior:"tooltip"};return o.createElement(B.v_,{pageStart:0,loadMore:function(){if(l)return c(p,d)},hasMore:l,loader:o.createElement(B.nt,null),threshold:400},o.createElement("div",{className:"blog-post-list blog-post-list_person"},r.length<1&&!l&&o.createElement("article",{className:"blog-post blog-post__no-posts",key:0},"Здесь пока ничего нет"),r.length>0&&r.map((function(e,t){var n=++f%vn().postsPerPage==0,r=m-1+Math.floor(f/vn().postsPerPage);return o.createElement(o.Fragment,{key:e.id},o.createElement(rc,{tag:"article",className:"blog-post blog-post__publication"},o.createElement(Mu,{app:a,post:e,index:t,topicList:Br.listTopics}),o.createElement("div",{className:"blog-post__content"},o.createElement("div",{className:""},null!==e.attachments&&o.createElement(I_,{post:e,repost:e,attachments:e.attachments,currentUserPostId:a.currentUserPostId,postUrl:"/people/".concat(a.userId,"/blog/").concat(e.id)}),o.createElement("div",{className:"blog-post__repost__content"},o.createElement("div",{className:"blog-post__description"},o.createElement("a",{href:e.url,target:"_blank",className:"blog-post__description__title",dangerouslySetInnerHTML:{__html:e.title},rel:"nofollow"}),o.createElement("div",{className:"blog-post__description__preview-text blog-post__description__preview-text_fade",dangerouslySetInnerHTML:{__html:B.E6.disinfection(e.preview_text)}}))))),o.createElement("div",{className:"blog-post__footer"},!e.is_draft&&o.createElement(B.Hy,{blogPost:e,siteBuilder:s,currentUser:a.person,showCommentsBtn:!1,tooltip:h}))),n&&o.createElement(B.hp,{id:r,initialPage:m,threshold:.5}))})),o.createElement(gu,{hasMoreItems:l,page:u,url:a.originalUrl}),o.createElement(B._7,null),o.createElement(B.Wp,null)))}}]),a}(o.PureComponent);q_.propTypes={app:j().object,onShowMore:j().func,count:j().number,page:j().number,hasMoreItems:j().bool,className:j().string,publications:j().array,children:j().object,siteBuilder:j().object};const Z_=(0,i.$j)((function(e){return{app:e.app,siteBuilder:e.app.siteBuilder,publications:e.personPublications.publications,hasMoreItems:e.personPublications.hasMoreItems,page:e.personPublications.page}}),(function(e){return{onShowMore:function(t,n){e(function(e,t){return function(n,r){var o=r(),a=o.app.userId,i=o.personPublications.page;Promise.resolve(B._m.getPublications(a,e,t)).then((function(t){t&&(t.forEach((function(e){e.image=e.img})),n({type:"PERSON_PUBLICATIONS_LIST_GET",publications:[].concat(F()(o.personPublications.publications),F()(t)),page:++i,hasMoreItems:t.length>=e}))})).catch(B.qL.promiseHandler("/index.js"))}}(t,n))}}}))((0,B.Pf)(q_,"PersonPublications"));var G_="/index.js";function V_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V_(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y_=function(){return function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u,p,d,m;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n(),i=a.personFriends,s=i.search,c=i.tab,l=i.tabData,u=null==a||null===(r=a.app)||void 0===r||null===(o=r.person)||void 0===o?void 0:o.id,p=50*l[c].page,e.prev=5,e.next=8,K_(u,c,{search:s,offset:p,limit:50});case 8:return d=e.sent,e.next=11,B.Fc.getUsersRelationStatus(d.map((function(e){return e.id})));case 11:return m=e.sent,t({type:"PERSON_RELATIONSHIPS_SET_LIST",userFriendActions:W_(W_({},a.userFriendActions),m)}),l[c]=W_(W_({},l[c]),{},{data:[].concat(F()(l[c].data),F()(d)),hasMore:d.length>0,page:l[c].page+1}),e.abrupt("return",t({type:"FRIENDS_LIST_GET",tabData:l}));case 17:e.prev=17,e.t0=e.catch(5),B.qL.promiseHandler(G_)(e.t0);case 20:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t,n){return e.apply(this,arguments)}}()},K_=function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u=arguments;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=u.length>2&&void 0!==u[2]?u[2]:{},o=W_(W_({},{search:null,res:void 0,offset:0,limit:20}),r),a=o.search,i=o.offset,s=o.limit,c=o.res,l=null,e.t0=n,e.next="incoming-requests"===e.t0?7:"outgoing-requests"===e.t0?13:"recommended"===e.t0?19:23;break;case 7:return e.next=9,B.g8.getFriendshipRequests(r);case 9:return(e.sent||[]).map((function(e){"INCOME"===e.type.toUpperCase()&&(l=e.items)})),e.abrupt("break",32);case 13:return e.next=15,B.g8.getFriendshipRequests(r);case 15:return(e.sent||[]).map((function(e){"OUTCOME"===e.type.toUpperCase()&&(l=e.items)})),e.abrupt("break",32);case 19:return e.next=21,B.g8.getPymk(s,i,r);case 21:return l=e.sent,e.abrupt("break",32);case 23:if(!a){e.next=29;break}return e.next=26,B.lv.search(a,"FRIENDS",{offset:i,count:s,scope:"friends",userId:t,res:c});case 26:l=e.sent,e.next=32;break;case 29:return e.next=31,B.Fc.getPersonFriends(t,s,i,r);case 31:l=e.sent;case 32:return e.abrupt("return",l||[]);case 33:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z_=(0,o.memo)((function(e){var t=e.personFriends,n=e.onShowMoreFriends,r=e.pageOwnerId,a=e.authUserId,i=e.handleSearch,s=e.changeFriendMenu,c=e.setPymkStatus,l=t.search,u=t.tab,p=t.tabData,d=p[u].data,m=p[u].hasMore;return o.createElement("div",null,o.createElement("div",{className:"people-list-header"},function(e){var n=t.tabData,i=[];return Object.keys(n).forEach((function(t){var c=n[t];t===e?i.push(o.createElement("li",{className:"people-list-header__menu-title",key:e},o.createElement("h1",{id:"people-list-header-menu-item-".concat(t)},n[e].title),c.count>0&&o.createElement("i",null,"(",B.cQ.format99Plus(c.count),")"),c.tooltip&&o.createElement(B.u,{target:"people-list-header-menu-item-".concat(t),content:c.tooltip,placement:"top-center",offset:"0,8"}))):t!==e&&r===a&&i.push(o.createElement("li",{className:"people-list-header__menu-item",key:t},o.createElement("a",{href:c.url.replace("[MT_USER_ID]",r),id:"people-list-header-menu-item-".concat(t),onClick:function(e){e.preventDefault(),function(e){window.history.pushState(null,"",p[e].url.replace("[MT_USER_ID]",r)),document.title=p[e].meta.title,document.description=p[e].meta.description,s(e)}(t)}},o.createElement("span",{className:"ellipsis"},c.title),c.count>0&&o.createElement("i",null,"(",B.cQ.format99Plus(c.count),")")),c.tooltip&&o.createElement(B.u,{target:"people-list-header-menu-item-".concat(t),content:c.tooltip,placement:"top-center",offset:"0,8"})))})),o.createElement("ul",{className:"mt-horizontal-menu"},i)}(u)),"friends"===u&&o.createElement("div",{className:"people-list-navbar"},o.createElement(B.Mj,{defaultValue:l,handleSearch:i,searchUrl:"/people/".concat(r,"/friends")}),o.createElement("div",{className:"people-list-navbar_empty"})),o.createElement(B.v_,{pageStart:0,loadMore:function(){if(m)return n()},hasMore:m,loader:o.createElement(B.nt,null),threshold:500},d.length<1&&!m&&o.createElement("div",{className:"infinite-scroll-empty"},"Здесь пока ничего нет"),"recommended"===u&&o.createElement(Of,{userList:d,onAdd:function(e){c(e,"add")},onDelete:function(e){c(e,"delete")},addButtonText:"Дружить"}),"recommended"!==u&&o.createElement(lc,null,o.createElement(sc,{peopleList:d}))))}));z_.propTypes={pageOwnerId:j().number,authUserId:j().number,personFriends:j().object,onShowMoreFriends:j().func,handleSearch:j().func,changeFriendMenu:j().func,setPymkStatus:j().func};const $_=(0,i.$j)((function(e){var t,n,r,o;return{personFriends:e.personFriends||[],pageOwnerId:null===(t=e.app)||void 0===t||null===(n=t.person)||void 0===n?void 0:n.id,authUserId:(null===(r=e.auth)||void 0===r||null===(o=r.user)||void 0===o?void 0:o.id)||null}}),(function(e){return{onShowMoreFriends:function(){e(Y_())},handleSearch:function(t){e(function(e){return function(t,n){var r=n().personFriends.tabData;return r.friends=W_(W_({},r.friends),{},{data:[],hasMore:!0,page:0}),t({type:"FRIENDS_LIST_NEW_SEARCH",search:e,tabData:r}),t(Y_())}}(t))},changeFriendMenu:function(t){e(function(e){return function(t){t({type:"FRIENDS_LIST_CHANGE_FRIEND_MENU",tab:e})}}(t))},setPymkStatus:function(t,n){e(function(e,t){return function(){var n=R()(D().mark((function n(r){return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,B.g8.setPymkStatus(e,t);case 3:n.sent?(r({type:"FRIENDS_LIST_SET_PYMK_STATUS",id:e}),"add"===t&&B.v0.sendSystemMessage("addFriend")):B.v0.sendSystemMessage("exception"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),B.qL.promiseHandler(G_)(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((0,B.Pf)(z_,"personFriends"));function J_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J_(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q_(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tg=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"getHeader",(function(t){var n=e.getHeaderData(t),r="foreign_obj"===t.post_type||"ext_resource_obj"===t.post_type;return o.createElement("div",{className:"person-comments__post__header"},o.createElement("div",{className:M()({"blog-post__repost__wrapper":!0,"blog-post__foreign_site":r})},o.createElement("div",{className:"blog-post__repost__content"},o.createElement("div",{className:"blog-post__author"},o.createElement("div",{className:"blog-post__author-avatar-wrapper"},o.createElement(B.Hl,{logoInfo:{userName:n.fromName,logoImg:n.photo_original,logoClassName:"userlogo_xxm",logoUrl:B.E6.fixProtocol(n.fromUrl||""),linkTarget:"_blank"}}),r&&o.createElement("a",{href:B.E6.fixProtocol(n.fromUrl),className:"blog-post__author-avatar",target:"_blank"},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18.01 24.01"},o.createElement("title",null,"Asset 2"),o.createElement("g",{id:"Layer_2","data-name":"Layer 2"},o.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},o.createElement("path",{className:"cls-1",d:"M5.91,23A8.47,8.47,0,0,1,0,14.88,8.21,8.21,0,0,1,3.51,8.36,13,13,0,0,0,8.47,0a13,13,0,0,1,3.64,12.28,5.23,5.23,0,0,0,3.51-5.42s3.25,4.45,2.18,9.72A13.75,13.75,0,0,1,13.91,24a13.5,13.5,0,0,1-7.19-9.42A8.14,8.14,0,0,0,5.91,23Z"})))))),o.createElement("div",{className:"blog-post__author-name-with-time"},o.createElement("a",{href:"//".concat(n.fromUrl),target:"_blank",className:"blog-post__author-name"},n.fromName,n.isAuthenticAccount&&o.createElement(B.SF,{color:"dark"})),o.createElement("div",{className:"blog-post__author-time"},o.createElement("a",{className:"blog-post__pubdate",href:"//".concat(n.postUrl)},e.getFormattedDate(n))))),o.createElement("div",{className:"blog-post__description"+(n.preview?"":" blog-post__description_disabled")},o.createElement("a",{href:"//".concat(n.postUrl),target:"_blank",dangerouslySetInnerHTML:{__html:B.E6.disinfection(n.preview)||"Предпросмотр недоступен"}})))))})),k()(y()(e),"getHeaderData",(function(t){var n=null;switch(t.post_type){case"blog_post":return eg(eg({},t.blog_post.group),{},{postUrl:t.blog_post.seo_url.replace("//",""),fromUrl:t.blog_post.group.url.replace("//",""),fromName:t.blog_post.group.display_name,formattedDates:t.blog_post.formattedDates,preview:t.blog_post.title||t.blog_post.preview_text});case"user_post":return eg(eg({},t.blog_post.from),{},{postUrl:t.blog_post.url.replace("//",""),fromUrl:t.blog_post.from?t.blog_post.from.url.replace("//",""):"",fromName:t.blog_post.from?t.blog_post.from.display_name:"",formattedDates:t.blog_post.formattedDates,preview:t.blog_post.title||t.blog_post.preview_text});case"foreign_obj":case"ext_resource_obj":return n=e.getForeignSite(t.blog_post.url),eg(eg({},t.blog_post),{},{postUrl:t.blog_post.url?t.blog_post.url.replace("//",""):null,fromUrl:n.url,fromName:n.title,className:n.className,preview:t.blog_post.url?t.blog_post.url.replace("//",""):null});default:return{}}})),k()(y()(e),"getForeignSite",(function(e){var t={title:"",url:"",className:""};return(/movies\/movie/.test(e)||/kino\.mirtesen\.ru/.test(e))&&(t.title="Миртесен.Кино",t.url="kino.mirtesen.ru",t.className="person-comments__kino-mt"),(/video\.mirtesen\.ru/.test(e)||/videos\/user\/video/.test(e))&&(t.title="Миртесен.Видео",t.url="video.mirtesen.ru",t.className="person-comments__video-mt"),t})),k()(y()(e),"getFormattedDate",(function(e){var t=e.formattedDates.iso;return t&&B.E6.isPastYear(t)?o.createElement(B.h,{date:t,format:"DD.MM.YYYY в H:mm"}):o.createElement(B.h,{date:t,format:"D MMMM, H:mm"})})),e}return g()(a,[{key:"render",value:function(){var e,t,n,r=this,a=this.props,i=a.commentsInfo,s=a.comments;return o.createElement("div",{key:i.id,className:"person-comments__post"},this.getHeader(i),o.createElement("div",{className:"person-comments__post__content"},o.createElement(B.Hl,{logoInfo:{userName:null===(e=i.user)||void 0===e?void 0:e.display_name,logoImg:null===(t=i.user)||void 0===t?void 0:t.photo_original,logoClassName:"userlogo_xm",logoUrl:B.E6.fixProtocol(null===(n=i.user)||void 0===n?void 0:n.url),linkTarget:"_blank"}}),o.createElement("div",{className:"person-comments__content person-comment"},s.map((function(e){return o.createElement("div",{key:e.id,className:"person-comment"},o.createElement("div",{className:"person-comment__pubdate"},o.createElement("a",{className:"person-comment__comment-date",href:"//mirtesen.ru/action/comments/".concat(e.id),target:"_blank"},r.getFormattedDate(e)),e.reply_to_user&&o.createElement("div",{className:"person-comment__reply-to-user"},o.createElement("svg",{className:"svg"},o.createElement("use",{href:"/images/icons.svg#angle-right"})),o.createElement("a",{target:"_blank",href:e.reply_to_user.url},e.reply_to_user.display_name))),o.createElement("div",{className:"person-comment__content-wrap"},o.createElement("div",{className:"person-comment__content"},o.createElement("a",{target:"_blank",href:"//mirtesen.ru/action/comments/".concat(e.id)},o.createElement("span",{dangerouslySetInnerHTML:{__html:B.W_.textToHtml(e.text,null)}})),e.attachments&&o.createElement("a",{className:"person-comment__attachments",target:"_blank",href:"//mirtesen.ru/action/comments/".concat(e.id)},o.createElement("img",{alt:"Прикрепленное изображение",src:e.attachments[0].photo.photo_original}))),e.likes&&o.createElement(B.u3,{likes:e.likes.count})))})))))}}]),a}(o.PureComponent);tg.propTypes={commentsInfo:j().object,comments:j().array};const ng=tg;var rg=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"appendComments",(function(e,t){var n=0,r=[],a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(!e[i][0].blog_post.url&&!e[i][0].blog_post.seo_url)continue;if(void 0!==e[i]){e[i].filter((function(e){return e.images&&e.images.length})).forEach((function(e){a[e.id]=e.images.map((function(e){return{src:e.url}}))}));var s=++n%vn().recordsPerPage==0,c=t-1+Math.floor(n/vn().recordsPerPage),l=s?o.createElement(o.Fragment,{key:i},o.createElement(ng,{commentsInfo:e[i][0],comments:e[i]}),o.createElement(B.hp,{id:c,initialPage:t,threshold:.5})):o.createElement(ng,{key:i,commentsInfo:e[i][0],comments:e[i]});r.push(l)}}return r})),e}return g()(a,[{key:"render",value:function(){var e,t,n=this.props,r=n.personComments,a=n.onShowMore,i=n.app,s=r.comments,c=r.page,l=r.hasMoreItems,u=vn().recordsPerPage,p=u+(c-1)*u,d=parseInt((null==i||null===(e=i.req)||void 0===e||null===(t=e.query)||void 0===t?void 0:t.page)||"1",10),m=this.appendComments(s.items,d);return o.createElement(o.Fragment,null,o.createElement(B.v_,{pageStart:0,loadMore:function(){if(l)return a(p,u)},hasMore:l,loader:o.createElement(B.nt,null),threshold:500},!m.length&&o.createElement("article",{className:"blog-post blog-post__no-posts",key:0},"Здесь пока ничего нет"),o.createElement("div",{className:"person-comments"},o.createElement("div",{className:"person-comments__outer"},m))))}}]),a}(o.PureComponent);rg.propTypes={personComments:j().object,page:j().number,onShowMore:j().func,app:j().object};const og=(0,i.$j)((function(e){return{personComments:e.personComments,app:e.app}}),(function(e){return{onShowMore:function(t,n){return e(function(e,t){return function(n,r){var o,a=r(),i=a.app.userId,s=a.personComments,c=s.page,l=s.comments,u=null===(o=l[l.length-1])||void 0===o?void 0:o.id;Promise.resolve(B.Fc.getLastPersonComments({personId:i,count:t,offset:e,lastCommentId:u}).then((function(e){return n({type:"PERSON_COMMENTS_LIST_GET",comments:{count:e.count,total:e.total,items:X_(X_({},a.personComments.comments.items),e.items)},page:c+1,hasMoreItems:e.count>=t})})).catch(B.qL.promiseHandler("/index.js")))}}(t,n))}}}))((0,B.Pf)(rg,"personComments"));var ag="/index.js";function ig(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ig(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ig(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cg=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"getEventsByMonth",(function(){var t=e.props.personEvents.events,n=[];return e.getSortedMonths().forEach((function(r){var a="today"===r,i=a?t.todayBirthdays:t.byMonthBirthdays[r];i&&i.length&&n.push(o.createElement("div",{className:"person-events__month",key:r},o.createElement("div",{className:"person-events__month-title"},o.createElement("span",null,a&&t.todayBirthdays.length?"сегодня":e.monthNameByMonthNum(parseInt(r,10)))),o.createElement("div",{className:"person-events__persons"},i.map((function(t){return e.getEventPersons(t.personList)})))))})),n})),k()(y()(e),"getEventPersons",(function(e){var t=[];if(Array.isArray(e))return e.map((function(e){var n=e.bdate.slice(0,-5).replace("-",".");t.push(o.createElement("div",{className:"person-events__person-wrap",key:e.id},o.createElement("div",{className:"person-events__user-photo-wrap"},o.createElement(B.Hl,{logoInfo:{userName:e.display_name,logoImg:e.photo_original,logoUrl:e.url,logoClassName:"userlogo_m person-events__user-photo"}})),o.createElement("span",{className:"person-events__user-info"},e.display_name," (",n,")")))})),t})),k()(y()(e),"getSortedMonths",(function(){for(var t=["today"],n=!1,r=(new Date).getMonth()+1,o=r;o<=12&&(o!==r||!n);o++)t.push(e.toTwoDigitMonth(o)),12===o&&(o=0,n=!0);return t})),k()(y()(e),"monthNameByMonthNum",(function(e){var t={1:"январь",2:"февраль",3:"март",4:"апрель",5:"май",6:"июнь",7:"июль",8:"август",9:"сентябрь",10:"октябрь",11:"ноябрь",12:"декабрь"};return e===(new Date).getMonth()+1?"".concat(t[e]," - позже в этом месяце"):t[e]})),k()(y()(e),"toTwoDigitMonth",(function(e){return e<10?"0".concat(e):e.toString(10)})),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.personEvents,n=e.onShowMore,r=t.hasMoreItems,a=t.nextMonth,i=o.createElement("div",{className:"blog-post-list__loader"},o.createElement("img",{className:"blog-post-list__loader-img",src:"//static.mtml.ru/images/loader.svg",alt:"Загружается..."}));return o.createElement(o.Fragment,null,o.createElement(B.v_,{pageStart:0,loadMore:function(){n(a)},hasMore:r,loader:i,threshold:500},o.createElement("div",{className:"person-events"},o.createElement("div",{className:"person-events__title"},"Дни рождения ваших друзей"),o.createElement("div",{className:"person-events__wrap"},this.getEventsByMonth()))))}}]),a}(o.PureComponent);cg.propTypes={personEvents:j().object,page:j().number,onShowMore:j().func,hasMoreItems:j().bool};const lg=(0,i.$j)((function(e){return{personEvents:e.personEvents}}),(function(e){return{onShowMore:function(t){return e(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,r){var o=r().personEvents.events;B.Fc.getPersonEvents(e).then((function(r){var a={todayBirthdays:r.todayBirthdays,byMonthBirthdays:sg(sg({},o.byMonthBirthdays),r.byMonthBirthdays)};void 0!==r&&n({type:"PERSON_EVENTS_GET",events:t?a:r,nextMonth:e<12?++e:1})})).catch(B.qL.promiseHandler(ag))}}(t))}}}))((0,B.Pf)(cg,"personEvents"));function ug(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ug(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ug(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dg=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialData,n=e.initState;t&&n(t)}},{key:"render",value:function(){var e=this.props.personPrivateMedia.items||[];return o.createElement("div",{className:"person-private-media"},o.createElement("div",{className:"person-private-media__outer"},e.map((function(e,t){return o.createElement("div",{className:"person-private-media__item media-item",key:t},o.createElement("a",{className:"media-item__photo",href:e.link,target:"_blank"},o.createElement("img",{src:e.src}),o.createElement("span",{className:"media-item__item-info"})))}))))}}]),a}(o.PureComponent);dg.propTypes={initialData:j().object,initState:j().func,personPrivateMedia:j().object};const mg=(0,i.$j)((function(e){return{personPrivateMedia:e.personPrivateMedia}}),(function(e){return{initState:function(t,n){e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"photo";return function(n){return n(pg(pg({type:"PERSON_PRIVATE_MEDIA_LIST_GET"},e),{},{itemsType:t}))}}(t,n))}}}))((0,B.Pf)(dg,"PersonPrivateMedia"));var fg=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"prepareLink",(function(e){return/^(http[s]?:\/\/(www\.)?|ftp:\/\/(www\.)?|www\.){1}([0-9A-Za-z-\.@:%_\+~#=]+)+((\.[a-zA-Z]{2,3})+)(\/(.)*)?(\?(.)*)?/g.test(e)?o.createElement("a",{href:e,target:"_blank"},e):e})),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.personProfile,r=t.person,a=r.profileInfo||{},i=n.friends,s=n.sites,c=L()(n,"photos.items",[]),l=L()(n,"photos.hasMoreItems"),u=L()(n,"videos.items",[]),p=L()(n,"videos.hasMoreItems");return o.createElement(o.Fragment,null,o.createElement("div",{className:"person-profile"},o.createElement("div",{className:"person-profile__outer"},o.createElement("div",{className:"person-profile__person-info"},wr.canEditProfile()&&o.createElement("a",{href:"/settings",className:"person-profile__person-settings"},o.createElement("svg",{className:"svg-icon"},o.createElement("use",{href:"/images/icons.svg#fog"}))),r.description&&o.createElement("div",{className:"person-profile__person-about"},o.createElement("span",{className:"person-info__title"},"О пользователе ",t.person.first_name),o.createElement("span",null,this.prepareLink(r.description))),o.createElement("div",{className:"person-info__common-info person-info"},o.createElement("div",{className:"person-info__title"},o.createElement("span",null,"Общие сведения")),o.createElement("div",{className:"person-info__content"},r.bdate&&o.createElement("div",null,o.createElement("span",{className:"person-info__subtitle"},"Дата Рождения"),o.createElement("span",{className:"person-info__item-content"},r.bdate,", ",B.E6.formatBdate(r.bdate))),r.sex&&o.createElement("div",null,o.createElement("span",{className:"person-info__subtitle"},"Пол"),o.createElement("span",{className:"person-info__item-content"},2===r.sex?"Мужской":"Женский")),a.education&&o.createElement("div",null,o.createElement("span",{className:"person-info__subtitle"},"Образование"),o.createElement("span",{className:"person-info__item-content"},a.education)),a.maritalStatus&&o.createElement("div",null,o.createElement("span",{className:"person-info__subtitle"},"Семейное положение"),o.createElement("span",{className:"person-info__item-content"},a.maritalStatus)),a.residence&&o.createElement("div",null,o.createElement("span",{className:"person-info__subtitle"},"Местоположение"),o.createElement("span",{className:"person-info__item-content"},a.residence)),a.career&&o.createElement("div",null,o.createElement("span",{className:"person-info__subtitle"},"Карьера"),(hs()(a.career)?[a.career]:a.career).map((function(e,t){return o.createElement("span",{key:t,className:"person-info__item-content",title:"Карьера"},e)}))))),(a.phones||a.emails)&&wr.canEditProfile()&&o.createElement("div",{className:"person-info__contact-info person-info"},o.createElement("div",{className:"person-info__title"},"Контактная информация"),o.createElement("div",{className:"person-info__content"},a.phones&&o.createElement("div",null,o.createElement("span",{className:"person-info__subtitle"},"    Телефоны"),o.createElement("div",{className:"person-info__content__right-column"},(hs()(a.phones)?[a.phones]:a.phones).map((function(e,t){return o.createElement("span",{key:t},e)})))),a.emails&&o.createElement("div",null,o.createElement("span",{className:"person-info__subtitle"},"Email"),o.createElement("div",{className:"person-info__content__right-column"},(hs()(a.emails)?[a.emails]:a.emails).filter((function(e){return"STATUS_ACTIVE"===e.status})).map((function(e,t){return o.createElement("span",{key:t},e.email)})))))),!!a.links.length&&o.createElement("div",{className:"person-info__contact-info person-info"},o.createElement("div",{className:"person-info__title"},"ВЕБ-САЙТЫ И СОЦИАЛЬНЫЕ СЕТИ"),o.createElement("div",{className:"person-info__content"},o.createElement("div",null,o.createElement("span",{className:"person-info__subtitle"},"Веб-сайты"),o.createElement("div",{className:"person-info__content__right-column"},(hs()(a.links)?[a.links]:a.links).map((function(e,t){return o.createElement("a",{href:e,key:t},e)})))))))),Array.isArray(i.items)&&i.items.length>0&&o.createElement("div",{className:"person-profile__outer"},o.createElement("div",{className:"person-profile__person-friends person-friends"},o.createElement("a",{className:"person-info__title",target:"_blank",href:"/people/".concat(t.userId,"/friends")},"Друзья(",t.person.count_friends,")"),o.createElement(lc,null,o.createElement(sc,{peopleList:i.items}),i.hasMoreItems&&o.createElement("a",{className:"person-profile__see-all",href:"/people/".concat(t.userId,"/friends/")},"Посмотреть все")))),!!s.items&&!!s.items.length&&o.createElement("div",{className:"person-profile__outer"},o.createElement("div",{className:"person-profile__person-sites"},o.createElement("a",{className:"person-info__title",target:"_blank",href:"/people/".concat(t.userId,"/sites")},"Сайты(",t.person.count_sites,")"),o.createElement(lc,null,s.items.map((function(e){return o.createElement(Cm,{key:e.id,group:e,showMembers:!0})})),s.hasMoreItems&&o.createElement("a",{className:"person-profile__see-all",href:"/people/".concat(t.userId,"/sites/")},"Посмотреть все")))),!!c.length&&o.createElement("div",{className:"person-profile__outer"},o.createElement("div",{className:"person-profile__person-photos person-photos"},o.createElement("a",{href:"/people/".concat(t.userId,"/photos/"),target:"_blank",className:"person-info__title"},o.createElement("span",null,"Фото")),o.createElement(mg,{initialData:{items:c,hasMorePhotos:!1}})),l&&o.createElement("a",{className:"person-profile__see-all",href:"/people/".concat(t.userId,"/photos/")},"Посмотреть все")),!!u.length&&o.createElement("div",{className:"person-profile__outer"},o.createElement("div",{className:"person-profile__person-videos"},o.createElement("a",{href:"/people/".concat(t.userId,"/videos/"),className:"person-info__title",target:"_blank"},o.createElement("span",null,"Видео")),o.createElement("div",{className:"person-videos"},o.createElement("div",{className:"person-videos__outer"},u.map((function(e,t){return o.createElement("div",{className:"person-videos__video",key:t},o.createElement("span",{dangerouslySetInnerHTML:{__html:e.attachments.filter((function(e){return e.video}))[0].video.player_html}}))}))))),p&&o.createElement("a",{className:"person-profile__see-all",href:"/people/".concat(t.userId,"/videos/")},"Посмотреть все"))))}}]),a}(o.PureComponent);fg.propTypes={personProfile:j().object,app:j().object};const hg=(0,i.$j)((function(e){return{app:e.app,personProfile:e.personProfile}}),(function(e){return{}}))((0,B.Pf)(fg,"personProfile"));var _g=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.pageOffset,n=e.maxPageOffset,r=e.url,a=e.page,i=e.hasMoreItems,s="";if(s="undefined"!=typeof window?window.location.href:r,t>=n){var c="page="+(a+1);-1!==(s=s.replace(/page=\d+/i,"").replace("?&","?").replace(/(&|\?)+$/,"")).indexOf("?")?s+="&"+c:s+="?"+c}return o.createElement(o.Fragment,null,t>=n&&i&&o.createElement("div",{className:"infinite-show-more"},o.createElement("a",{className:"btn",href:s},"Показать еще")))}}]),a}(o.PureComponent);_g.propTypes={hasMoreItems:j().bool,page:j().number,pageOffset:j().number,maxPageOffset:j().number,url:j().string};const gg=_g;var vg=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e,t,n=this.props,r=n.personSites,a=n.onShowMoreSites,i=n.app,s=r.sites,c=r.page,l=r.hasMoreItems,u=r.pageOffset,p=r.currentUrl,d=parseInt((null==i||null===(e=i.req)||void 0===e||null===(t=e.query)||void 0===t?void 0:t.page)||"1",10),m=vn().recordsPerPage,f=m+(c-1)*m,h=0;return o.createElement(o.Fragment,null,o.createElement(B.v_,{pageStart:0,loadMore:function(){l&&a(m,f)},hasMore:l&&u<20,loader:o.createElement(B.nt,null),threshold:500},o.createElement("div",{className:"person-friends"},o.createElement("div",{className:"person-friends__title"},"Подписки на сайты"),o.createElement(lc,null,s&&s.map((function(e){var t=++h%m==0,n=d-1+Math.floor(h/m);return o.createElement(o.Fragment,{key:e.id},o.createElement(Cm,{group:e,showMembers:!0}),t&&o.createElement(B.hp,{id:n,initialPage:d,threshold:.5}))}))))),o.createElement(gg,{hasMoreItems:l,pageOffset:u,maxPageOffset:20,url:p,page:c}))}}]),a}(o.PureComponent);vg.propTypes={personSites:j().object,page:j().number,onShowMoreSites:j().func,app:j().object};const yg=(0,i.$j)((function(e){return{personSites:e.personSites,app:e.app}}),(function(e){return{onShowMoreSites:function(t,n){return e(function(e,t){return function(n,r){var o=r(),a=o.app.userId,i=o.personSites,s=i.page,c=i.pageOffset;Promise.resolve(B.Fc.getPersonSites(a,e,t)).then((function(t){return n({type:"PERSON_GET_SITE_LIST",sites:[].concat(F()(o.personSites.sites),F()(t)),page:++s,pageOffset:++c,hasMoreItems:t.length>=e})})).catch(B.qL.promiseHandler("/index.js"))}}(t,n))}}}))((0,B.Pf)(vg,"PersonSites"));var bg=(0,o.memo)((function(e){var t=e.consolidationCode;return o.createElement("div",{className:"account-consolidation"},o.createElement("h2",{className:"account-consolidation__title"},"Объединение аккаунтов"),o.createElement("p",null,"Если вы заходили ранее на сайт МирТесен через стороннюю соцсеть, а в ",o.createElement("a",{href:"https://info.mirtesen.ru/apps",target:"_blank"},"приложении МирТесен")," зарегистрировали новый аккаунт, то для объединения ваших профилей выполните следующие шаги:"),o.createElement("ol",null,o.createElement("li",null,"Нажмите, чтобы скопировать, или запомните код, который здесь крупно выведен:",o.createElement(B.ly,{classes:"account-consolidation__code",text:t},t)),o.createElement("li",null,"Зайдите в приложение МирТесен ",">"," Настройки ",">"," Объединение аккаунтов."),o.createElement("li",null,"Введите данный 4-значный код в поле, указанное в ",o.createElement("a",{href:"https://info.mirtesen.ru/apps",target:"_blank"},"приложении МирТесен"),".")))}));bg.propTypes={consolidationCode:j().number};const Eg=(0,i.$j)((function(e){return{consolidationCode:e.accountConsolidation}}))((0,B.Pf)(bg,"accountConsolidation"));var Pg=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.pageOwnerId,n=e.friendshipStatus,r=e.onUnsubscribeUser,a=["friend","fellow","confederate","opponent"],i=n.filter((function(e){return a.indexOf(e)>-1}));return o.createElement("div",{className:"unsubscribe"},i.length>0&&o.createElement(o.Fragment,null,o.createElement("p",null,"Нажмите на кнопку, чтобы больше не получать уведомления на почту."),o.createElement("button",{type:"button",className:"unsubscribe__btn",onClick:function(){return r(t)}},"Отписаться")),i.length<1&&o.createElement("p",{className:"usubscribe__message"},"Вы успешно отписаны."))}}]),a}(o.Component);Pg.propTypes={pageOwnerId:j().number,friendshipStatus:j().array,onUnsubscribeUser:j().func};const Og=(0,i.$j)((function(e){var t=e.app,n=e.userFriendActions,r=L()(t,"person.id",null);return{pageOwnerId:r,friendshipStatus:L()(n,"".concat(r,".friendshipStatus"),[])}}),(function(e){return{onUnsubscribeUser:function(t){e(B.Rq.unsubscribe(t))}}}))((0,B.Pf)(Pg,"unsubscribyByEmail"));function wg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wg(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tg=function(e){var t=e.recommendations;return t.length?o.createElement("div",null,o.createElement("strong",null,"Читайте также:"),o.createElement("ul",{className:"blog-post-recommendations"},t.map((function(e){return o.createElement("li",{key:e.id},o.createElement("strong",null,o.createElement("a",{target:"_blank",rel:"noopener",href:e.url},e.title)))})))):""};Tg.propTypes={recommendations:j().array};const kg=Tg;var Ig=n(87229);function Mg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Cg=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;h()(this,a),t=r.call(this,e),k()(y()(t),"componentDidMount",(function(){var e=t.props,n=e.topicPartnerPost,r=e.onSetMeta,o=n.post,a=n.displayType;r(t.getPartnerPostMeta(o)),setTimeout((function(){t.initSpecialLinks()}),300),"undefined"!=typeof window&&"window"===a&&document.getElementsByTagName("html")[0].classList.add("overflow")})),k()(y()(t),"componentWillUnmount",(function(){var e=t.props,n=e.app,r=e.topicPartnerPost,o=e.onSetMeta,a=r.post,i="/topic/".concat(a.topic,"/"),s="".concat(n.topic.title," - МирТеcен");o({title:s,otherMeta:[{title:s}]}),window.history.pushState(null,"",i),document.getElementsByTagName("html")[0].classList.remove("overflow")})),k()(y()(t),"getPartnerPostMeta",(function(e){return{title:B.cQ.stripTags(e.title),description:B.cQ.stripTags(e.preview_text),link:e.url,image:L()(e,"images[0].url")}})),k()(y()(t),"getLogo",(function(){var e=t.props.topicPartnerPost.post.site,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mg(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},L()(e,"siteBuilder.mainLogo.props"));return L()(n,"image")||L()(e,"photo")||null})),k()(y()(t),"clickHandler",(function(){"/topic/IT/43126556204/glago-l-postigaet-dzen/tab"===t.props.app.originalUrl&&B.gy.ym("reachGoal","knopka_zen")})),k()(y()(t),"initSpecialLinks",(function(){var e=window.location.search.replace(/^[?&]+|[?&]+$/,"");window.location.search&&document.getElementsByClassName("blog-post__text")&&0!==document.getElementsByClassName("blog-post__text").length&&F()(document.getElementsByClassName("blog-post__text").item(0).getElementsByClassName("append-get-params")).forEach((function(t){var n,r=t.getAttribute("href");n=r.includes("?")?r+"&"+e:r+"?"+e,t.setAttribute("href",n)}))}));var n=t.props.topicPartnerPost;t.modal=o.createRef();var i=n.post,s=n.displayType,c=i.text,l=B.E6.escapeRegex(i.images[0].url).replace(/\//g,"\\/"),u=new RegExp('(<div>\\n?)?<img[\\W\\w]*src=\\"'+l+"[^>]*\\/\\>(<\\/div>)?"),p=/(<a[^>]*>.*?<\/a>)/,d=(c=(c=c.replace(u,"")).replace(/[\r\n]+/g," ")).split(p);if(c=[],d.forEach((function(e){e.match(p)?c.push(e):c.push(e.replace(/(<img [^>]*?>)/g,'<span class="img-wrapper">$1</span>'))})),c=c.join(""),c+='<div data-pblid="1" id="vplayer_iframe_wrap"></div>',t.text=c,"undefined"!=typeof window){var m=i.id,f=i.topic,_=B.E6.toSlug((0,Ig.Ro)(i.title)),g="/topic/".concat(f,"/").concat(m,"/").concat(_,"/").concat(s);window.history.pushState(null,"",g+document.location.search)}return t}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.topicPartnerPost,r=e.toggleModal,a=n.post,i=n.isOpen,s=n.displayType,c=a.partner,l="post"===a.post_type?this.getLogo():a.from.photo_original,u="post"===a.post_type?a.group.name:a.from.display_name,p="post"===a.post_type?a.group.url:a.from.url,d=JSON.parse(c.buttonCTA),m="window"===s,f="tab"===s,h=a.recommendations?JSON.parse(a.recommendations):[],_=L()(a,"images[0].url");return o.createElement(o.Fragment,null,i&&c&&o.createElement("div",{className:M()({"blog-post-item":!0,"topic-partner-post__window":"window"===s,"topic-partner-post__tab":"tab"===s}),onClick:function(){f||r(!1)},ref:this.modal},o.createElement("div",{className:"topic-partner-post__inner",onClick:function(e){e.stopPropagation()}},m&&o.createElement("svg",{className:"topic-partner-post__close",onClick:function(){r(!1)},width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("circle",{cx:"12",cy:"12",r:"12",fill:"#FFF"}),o.createElement("path",{d:"M16.851 7.23431C16.5385 6.9219 16.032 6.92189 15.7196 7.23431L12.0426 10.9113L8.36569 7.23431C8.05327 6.92189 7.54673 6.9219 7.23431 7.23431C6.9219 7.54673 6.92189 8.05327 7.23431 8.36569L10.9113 12.0426L7.23431 15.7196C6.9219 16.032 6.9219 16.5385 7.23431 16.851C7.54673 17.1634 8.05327 17.1634 8.36569 16.851L12.0426 13.174L15.7196 16.851C16.032 17.1634 16.5385 17.1634 16.851 16.851C17.1634 16.5385 17.1634 16.032 16.851 15.7196L13.174 12.0426L16.851 8.36569C17.1634 8.05327 17.1634 7.54673 16.851 7.23431Z",fill:"#3C4147"})),o.createElement("div",{className:"topic-partner-post__header"},o.createElement("div",{className:"topic-partner-post__header__inner"},c.showGroupTitle&&o.createElement("span",{href:p,className:"topic-partner-post__author-logo author-logo"},o.createElement("span",null,o.createElement("a",{href:p},o.createElement("img",{className:"author-logo__photo",src:l,alt:u})),o.createElement("div",{className:"author-logo__inner"},o.createElement("a",{className:"author-logo__title",href:p},u),c.showAuthor&&o.createElement("a",{className:"topic-partner-post__author-name",href:a.from.url,target:"_blank"},a.from.display_name)))),c.showPromoLabel&&o.createElement("a",{className:"topic-partner-post__partner-label",href:"https://info.mirtesen.ru/promo",target:"_blank"},"Партнерский материал"))),o.createElement("div",{className:"blog-post__text"},o.createElement("div",{className:"topic-partner-post__title"},o.createElement("div",{className:"topic-partner-post__title__inner"},a.title)),_&&o.createElement("div",{className:"topic-partner-post__big-img"},o.createElement("span",{className:"img-wrapper"},o.createElement(B.BH,{src:_,className:"topic-partner-post__big-img__inner"}))),o.createElement("div",{className:"topic-partner-post__text-wrapper"},o.createElement("div",{dangerouslySetInnerHTML:{__html:this.text}}),o.createElement("div",null,o.createElement(kg,{recommendations:h})))),d.url&&o.createElement("div",{className:"topic-partner-post__action-button"},o.createElement("a",{href:d.url,className:"topic-partner-post__action-button-text",target:"_blank",onClick:this.clickHandler},d.text)),o.createElement("div",{className:"topic-partner-post__footer"},o.createElement("div",{className:"topic-partner-post__footer__inner"},o.createElement("div",{className:"topic-partner-post__footer__actions"},o.createElement(B.Hy,{blogPost:a,currentUser:t,className:"blog-post-item__actions",magicEnabled:!1,shareEnabled:c.shareEnabled,viewsEnabled:c.countersEnable,voteEnabled:c.likesEnabled,commentsCountEnabled:c.commentsEnabled,commentsClickHandler:function(){return!1},postPage:!0}))),c.commentsEnabled&&o.createElement("div",{className:"topic-partner-post__comments"},o.createElement(Il,{showV2Comments:yo.isV2Comments(a.site.id),smi2Id:a.smi2_id,disableComments:!!c.commentsEnabled,blogPostId:a.id,siteId:a.site.id}))))))}}]),a}(o.Component);Cg.propTypes={app:j().object,user:j().object,siteBuilder:j().object,topicPartnerPost:j().object,toggleModal:j().func,onSetMeta:j().func};const jg=(0,i.$j)((function(e){return{app:e.app,user:e.auth.user,siteBuilder:e.app.siteBuilder,topicPartnerPost:e.topicPartnerPost}}),(function(e){return{toggleModal:function(t){e(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){t({type:"TOPIC_PARTNER_POST_TOGGLE_MODAL",isOpen:e})}}(t))},onSetMeta:function(t){e(function(e){return{type:"APP_SET_META",meta:e}}(t))}}}))((0,B.Pf)(Cg,"TopicPartnerPost"));var Ng=function(e){var t=e.firstButton,n=e.secondButton,r=e.currentFilter;return o.createElement("div",{className:"post-list-filter-switcher"},o.createElement("div",{className:"post-list-filter-switcher__content"},o.createElement("div",{className:M()({"post-list-filter-switcher__switcher":!0,"post-list-filter-switcher__switcher_switched":r===n.filter})}),o.createElement("button",{className:M()({"post-list-filter-switcher__button":!0,"post-list-filter-switcher__button_active":r===t.filter}),onClick:t.cb},t.text),o.createElement("button",{className:M()({"post-list-filter-switcher__button":!0,"post-list-filter-switcher__button_active":r===n.filter}),onClick:n.cb},n.text)))};Ng.propTypes={firstButton:j().object,secondButton:j().object,currentFilter:j().string};const Rg=Ng,Ag=function(){return o.createElement("div",{className:"covid-map"},o.createElement("a",{href:"https://yandex.ru/maps?utm_medium=mapframe&utm_source=maps"},"Яндекс.Карты"),o.createElement("a",{href:"https://yandex.ru/maps/covid19?ll=41.775590%2C54.89402&scroll=false&utm_medium=mapframe&utm_source=maps&z=3"},"Карта распространения коронавируса в России и мире"),o.createElement("iframe",{src:"https://yandex.ru/maps/covid19?embed=covid-map",allowFullScreen:!0}))};var Dg=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.topicPostList,n=e.isModalPostOpen,r=e.onShowMorePosts,a=e.onShowModal,i=e.onPostAppear,s=t.topicTitle,c=t.topicKey;return o.createElement(o.Fragment,null,s&&o.createElement("h1",{className:"topic-post-list-title"},s,"coronavirus"===c.toLowerCase()&&o.createElement("span",null,"Новости и карта распространения")),"promokod"!==c&&o.createElement(Rg,{currentFilter:t.filter,firstButton:{text:"ГлагоL",filter:"selected",cb:function(){window.location.href=vn().mainProto+"://"+vn().glagolDomain+"/topic/".concat(c)}},secondButton:{text:"Популярное",filter:"unselected",cb:function(){window.location.href=vn().mainProto+"://"+vn().mainDomain+"/topic/".concat(c)}}}),"coronavirus"===c.toLowerCase()&&o.createElement(Ag,null),o.createElement(fl,{topicKey:c,onLoadMore:r,onShowModal:a,onPostAppear:i,id:"topicPostList",gridView:"promokod"===c?"postsOnly":"common"}),n&&o.createElement(jg,null),o.createElement(Di,{type:"Politpiar",id:100156}))}}]),a}(o.PureComponent);Dg.propTypes={onShowMorePosts:j().func,onShowModal:j().func,isModalPostOpen:j().bool,topicPostList:j().object,onPostAppear:j().func};const xg=(0,i.$j)((function(e){return{topicPostList:e.topicPostList,isModalPostOpen:e.topicPartnerPost.isOpen}}),(function(e){return{onShowMorePosts:function(){e(function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u,p,d,m,f,h;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),o=r.postTiles.topicPostList,a=o.page,i=o.recordsOnPage,s=r.postTiles.topicPostList.posts,c=r.topicPostList,l=c.topicKey,u=c.filter,p=a+1,e.next=8,B.Zf.getBlogPostsByTopic({topic:l,offset:(p-1)*i,count:i,filter:u,withBusinessPosts:!1,fieldList:"tile"});case 8:d=e.sent,s=(s=[].concat(F()(s),F()(d))).filter((function(e){return e.images.length>0})),s=B.Zf.removeDuplicates(s,"title"),p>0&&(m="page="+p,f=window.location.href,h=/page=\d+/i,f=-1!==(f=f.replace(h,"").replace("?&","?").replace(/(&|\?)+$/,"")).indexOf("?")?f+"&"+m:f+"?"+m,window.history.pushState(null,"",f)),t({type:"POST_TILES_LOAD_MORE",id:"topicPostList",posts:s,hasMore:d.length>=i,page:p}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),B.qL.promiseHandler("/index.js")(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}())},onShowModal:function(t){e(function(e){return function(){var t=R()(D().mark((function t(n){var r;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yo.getByUrl(/^http/.test(e.url)?e.url:"http:".concat(e.url));case 2:r=t.sent,n({type:"TOPIC_PARTNER_POST_MODAL_SET_POST",post:Sg(Sg({},e),{},{site:Sg(Sg({},r.site),{},{siteBuilder:r.siteBuilder})})});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},onPostAppear:function(t){e(Lr(t))}}}))((0,B.Pf)(Dg,"TopicPostList"));var Lg=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.page;return o.createElement("div",{id:"topic-partner-post-layout",className:M()({"topic-partner-post-layout":!0})},o.createElement(jo,{app:t}),o.createElement(n,{app:t}))}}]),a}(o.PureComponent);Lg.propTypes={app:j().object,page:j().oneOfType([j().func,j().object])};const Bg=(0,B.Pf)(Lg,"platform/topicPartnerPostLayout");var Ug="/index.js";var Fg=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"handleGetMessage",(function(t){var n,r,o=e.props.onTogglePollVisibility;"MT_APP_HIDE_POLL"===(null==t||null===(n=t.data)||void 0===n?void 0:n.type)&&o(t.data.id,"hide"),"MT_APP_HIDE_POST"===(null==t||null===(r=t.data)||void 0===r?void 0:r.type)&&o(t.data.id,"abuse")})),k()(y()(e),"infinitePollList",o.createRef()),e}return g()(a,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleGetMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleGetMessage)}},{key:"render",value:function(){for(var e=this.props,t=e.polls,n=void 0===t?[]:t,r=e.hasMore,a=e.onShowMorePolls,i=e.onShowMtPostEditor,s=e.personVislvl,c=e.currentFilter,l=e.hiddenPolls,u=e.onTogglePollVisibility,p=e.isMobile,d=e.user,m=e.openAuthForm,f=[],h=0,_=0;h<n.length;_++){var g,v,y;if(_>8){f=[].concat(F()(f),F()(n.slice(5).map((function(e){var t,n,r;return o.createElement(il,{key:e.id},o.createElement(B.wt,{isPoll:!0,imageUrl:B.E6.cropImage((null===(t=e.attachments)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.poll)||void 0===r?void 0:r.fileUri)||null,1280),post:e,hideStatus:l[e.id]||"",onTogglePollVisibility:u}))}))));break}var b=Math.floor(_/3)%3,E=_%3,P=null;switch(!0){case 0===b&&2===E:P=6010;break;case 1===b&&1===E:P=6020;break;case 2===b&&0===E:P=6030}if(P)f.push(o.createElement(Di,{type:"Politpiar",id:99810,style:{width:300,height:300}}));else{var O=n[h];f.push(o.createElement(il,{key:O.id},o.createElement(B.wt,{isPoll:!0,imageUrl:B.E6.cropImage((null===(g=O.attachments)||void 0===g||null===(v=g[0])||void 0===v||null===(y=v.poll)||void 0===y?void 0:y.fileUri)||null,1280),post:O,hideStatus:l[O.id]||"",onTogglePollVisibility:u}))),++h}}return o.createElement(o.Fragment,null,o.createElement("div",{className:"topic-post-list__header-wrapper"},o.createElement("h1",{className:"topic-post-list-title"},"Опросы в МирТесен"),p?o.createElement("p",null,"Голосуйте в созданных опросах и придумывайте свои варианты вопросов и ответов на этой странице."):o.createElement(o.Fragment,null,o.createElement("p",null,"Чтобы быть объективным, иногда нужно понимать, как относятся к тому или иному вопросу другие люди, например, читатели статьи или простого поста на своей страничке в соцсети. Для этого используются опросы — выяснения мнения сообщества по разным темам."),o.createElement("p",null,'Как вы знаете, в МирТесен тоже есть возможность создания простой "голосовалки".'," ",o.createElement("a",{href:"https://i.gyazo.com/ce22236c9afb909801647db6ab44a5f4.gif",target:"_blank"},'Для этого достаточно нажать кнопку "Опрос" при создании публикации.')," Выбираете оформление, цвет, подгружаете, если нужно, фото и опрос готов. На этой странице собраны популярные и самые свежие опросы, созданные в МирТесен. Узнайте мнение друзей и подписчиков! Создайте свой опрос!")),o.createElement("div",{className:"btn btn-primary topic-post-list__create-poll-btn",onClick:function(){null!=d&&d.id||m(),i({author:{id:d.id,name:d.display_name,image:d.photo_original||""},target:{type:"wall",id:d.id,birthday:d.bdate},personVislvl:s,activeTab:"poll"})}},"Создать опрос")),o.createElement(Rg,{currentFilter:c,firstButton:{text:"Популярное",filter:"popular",cb:function(){window.location.href=vn().mainProto+"://"+vn().mainDomain+"/polls/popular"}},secondButton:{text:"Новое",filter:"new",cb:function(){window.location.href=vn().mainProto+"://"+vn().mainDomain+"/polls/new"}}}),o.createElement("div",{className:"topic-post-list",ref:this.infinitePollList},o.createElement(B.v_,{loadMore:function(){return a()},hasMore:r,threshold:800},f)))}}]),a}(o.PureComponent);Fg.propTypes={polls:j().array,polls2:j().array,hasMore:j().bool,hiddenPolls:j().object,currentFilter:j().string,onShowMorePolls:j().func,onTogglePollVisibility:j().func,openAuthForm:j().func,user:j().object,personVislvl:j().string,isMobile:j().bool,onShowMtPostEditor:j().func};const Hg=(0,i.$j)((function(e){var t;return{polls:e.pollList.polls,hasMore:e.pollList.hasMore,hiddenPolls:e.pollList.hiddenPolls,currentFilter:e.pollList.currentFilter,user:e.auth.user,personVislvl:null==e||null===(t=e.personSettings)||void 0===t?void 0:t.vislvl,isMobile:e.app.isMobile}}),(function(e){return{onShowMorePolls:function(){e(function(){var e=R()(D().mark((function e(t,n){var r,o,a,i,s,c,l,u;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),o=r.pollList,a=o.recordsOnPage,i=o.page,s=o.currentFilter,c=o.polls,e.next=5,B.X3.getList({type:s,count:a,offset:i*a});case 5:l=e.sent,u=B.X3.removeDuplicates([].concat(F()(c),F()(l)),"id"),t({type:"POLLS_POST_LIST_LOAD_MORE",page:i+1,hasMore:!!l.length,polls:F()(u)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),B.qL.promiseHandler(Ug)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}())},onTogglePollVisibility:function(t,n){e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide";return function(n){if("abuse"===t)return n({type:"POLLS_POST_LIST_TOOGLE_POLL_VISIBILITY",params:t,pollId:e});B.X3.togglePollVisibility(e,t).then((function(r){r&&n({type:"POLLS_POST_LIST_TOOGLE_POLL_VISIBILITY",params:t,pollId:e})})).catch(B.qL.promiseHandler(Ug))}}(t,n))},openAuthForm:function(){e(B.we.openAuthForm("login"))},onShowMtPostEditor:function(t){e(B.Yg.showModal("default",null,t))}}}))((0,B.Pf)(Fg,"pollList"));const qg=function(e){E()(i,e);var t,n,r,a=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S()(n);if(r){var o=S()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return O()(this,e)});function i(e){var t;return h()(this,i),(t=a.call(this,e)).state={popularPosts:[]},t}return g()(i,[{key:"componentDidMount",value:(t=R()(D().mark((function e(){var t,n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.x9.getPopularBlogPosts({type:"COMMENTED",limit:5,offset:Math.floor(Math.random()*Math.floor(20)),params:{fieldList:"tile"}});case 2:t=e.sent,n=t.filter((function(e){return e.images.length>0})),this.setState({popularPosts:n});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t,n,r,a=this.state.popularPosts,i=void 0===a?[]:a;return o.createElement("div",{className:"topic-post-list"},i.length>1&&o.createElement(o.Fragment,null,o.createElement(il,{size:1},o.createElement(B.wt,{post:i[0],imageUrl:B.E6.cropImage2(null===(e=i[0])||void 0===e||null===(t=e.images[0])||void 0===t?void 0:t.url),enableModeration:!1})),o.createElement("div",{className:"error-ad-blocks__item"},o.createElement(Di,{type:"Politpiar",id:99810,style:{width:300,height:300}})),o.createElement(il,{size:1},o.createElement(B.wt,{post:i[1],imageUrl:B.E6.cropImage2(null===(n=i[1])||void 0===n||null===(r=n.images[0])||void 0===r?void 0:r.url),enableModeration:!1}))))}}]),i}(o.PureComponent);var Zg=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props.app,t=e.errorMessage,n=e.errorSubMessage,r=void 0===n?"Уточните адрес или почитайте интересные материалы нашей соцсети:":n;return o.createElement(o.Fragment,null,o.createElement("h1",{className:"error-page__title"},t),o.createElement("p",{className:"error-page__subtitle"},r),o.createElement(qg,null))}}]),a}(o.PureComponent);Zg.propTypes={app:j().object};const Gg=(0,B.Pf)(Zg,"error4xx"),Vg={filters:[{filter:"topclusters",title:"Что произошло?",order:5}],urlTpl:"https://video.mirtesen.ru/videos/personal/",hours:24,perPage:4,limit:5,postImageWidth:640},Wg={filters:[{filter:"popular",title:"Фильмы и сериалы",order:4}],urlTpl:"https://kino.mirtesen.ru",moviesLimit:2,collectionsLimit:8,collectionsCount:48,perPage:5};var Yg="/index.js";function Kg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kg(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $g=function e(){h()(this,e)};k()($g,"getList",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=Wg.moviesLimit,o={project:"video",body:JSON.stringify({query:"query {\n                    getMoviesCollections(\n                        movies_limit: ".concat(r,"\n                        collections_limit: ").concat(t,"\n                        collections_offset: ").concat(e,"\n                    ) {\n                        title\n                        url\n                        image\n                        more_movies\n                        movies {\n                            title\n                            url\n                        }\n                    }\n                }")})};return(0,B.$2)(zg(zg({},n),o)).then((function(e){return e.data.getMoviesCollections})).catch(B.qL.promiseHandler(Yg))})),k()($g,"getVideos",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Vg,o=r.postImageWidth,a=r.hours,i=r.limit,s={project:"video",body:JSON.stringify({query:'query {\n                  getVideos(\n                    filter:"'+e+'",\n                    hours:'+a+",\n                    limit:"+i+",\n                    id:"+t+"\n                  ) {\n                    id, url, title, image, video_hash, description, created\n                  }\n                }"})};return(0,B.$2)(zg(zg({},n),s)).then((function(e){var t=[],n=[],r=e.data.getVideos;return r&&r.map((function(e){n.includes(e.video_hash)||(n.push(e.video_hash),o&&e.image&&(e.image=e.image.replace(/\/\/([^\/]+)/,"//r$1/r"+o+"x-")),e.link=Vg.urlTpl+e.id,t.push(e))})),t})).catch(B.qL.promiseHandler(Yg))}));const Jg=$g;var Xg=function(e){E()(i,e);var t,n,r,a=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S()(n);if(r){var o=S()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return O()(this,e)});function i(e){var t;return h()(this,i),(t=a.call(this,e)).state={moviesCollections:[]},t}return g()(i,[{key:"componentDidMount",value:(t=R()(D().mark((function e(){var t,n,r,o,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=vn().moviesCollections,n=t.collectionsCount,r=t.collectionsLimit,o=Math.floor(Math.random()*(n-r)),e.next=4,Jg.getList(o,r);case 4:a=e.sent,this.setState({moviesCollections:a});case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state.moviesCollections;return o.createElement("div",{className:"movies-collections"},e.map((function(e,t){var n=vn().moviesCollections.urlTpl+e.url;return o.createElement("div",{className:"movies-collection",key:t},o.createElement("div",{className:"movies-collection__content"},o.createElement("div",{className:"movies-collection__list",style:{backgroundImage:"url('".concat(e.image,"')")}},e.movies.map((function(e,t){return o.createElement("a",{href:"".concat(vn().moviesCollections.urlTpl).concat(e.url),key:t},e.title)})),o.createElement("a",{href:n},"Еще ",e.more_movies," фильмов")),o.createElement("a",{className:"movies-collection__title",href:n},o.createElement("h3",null,e.title))))})))}}]),i}(o.PureComponent);Xg.propTypes={moviesCollections:j().array};const Qg=Xg;var ev=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props.app.errorMessage;return o.createElement(o.Fragment,null,o.createElement("h1",{className:"error-page__title"},e),o.createElement("p",{className:"error-page__subtitle"},"Если вы видите это сообщение, значит, команда МирТесен работает над улучшением сайта и скоро всё будет хорошо."),o.createElement("p",{className:"error-page__subtitle"},"А пока предлагаем посмотреть подборку интересных фильмов:"),o.createElement(Qg,null))}}]),a}(o.PureComponent);ev.propTypes={app:j().object};const tv=(0,B.Pf)(ev,"error5xx");var nv=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;h()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),k()(y()(e),"propTypes",{userName:j().string,logoImg:j().oneOf([j().string,j().object]),logoUrl:j().string,errorMessage:j().string,errorSubMessage:j().string,isPhoneVerified:j().bool,personId:j().number,userFriendActions:j().object,addToFriend:j().func,isLogged:j().bool,onUnsubscribeFromUser:j().func,onSubscribeToUser:j().func}),e}return g()(a,[{key:"render",value:function(){var e=this.props,t=e.userName,n=e.logoImg,r=e.logoUrl,a=e.errorMessage,i=e.errorSubMessage,s=e.isLogged,c=e.personId;return o.createElement("div",{className:"error-page__person-restriction person-restriction"},r&&o.createElement(B.Hl,{logoInfo:{userName:t,logoImg:n,logoUrl:yo.addUtmToUrl(r),logoClassName:"person-restriction__user-logo",size:"av80"}}),!r&&o.createElement("img",{src:"".concat(B.cQ.getStaticHost(),"/images/empty-user.png"),alt:"User not found",className:"person-restriction__user-logo"}),t&&o.createElement("h3",{className:"error-page__person-restriction person-restriction__user-name"},t),s&&o.createElement("div",{className:"person-restriction__actions"},o.createElement(B.hi,{userId:c})),a&&o.createElement("h1",{className:"person-restriction__error-title"},a),o.createElement("div",{className:"person-restriction__message"},i),o.createElement(qg,null))}}]),a}(o.PureComponent);const rv=(0,i.$j)((function(e){var t,n=(null===(t=e.app)||void 0===t?void 0:t.person)||{},r=n.photo_original,o=n.display_name,a=n.url;return{logoImg:r,userName:o,logoUrl:void 0===a?null:a,personId:n.id,errorMessage:e.app.errorMessage,errorSubMessage:e.app.errorSubMessage,isLogged:!!e.auth.user}}),null)((0,B.Pf)(nv,"personRestrictions"));var ov=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props.restoreProfile;return o.createElement(o.Fragment,null,o.createElement("h1",{className:"error-page__title"},"Ваша страница была удалена!"),o.createElement("div",{className:"error-page__restore-page-btn"},o.createElement(eo.Z,{onClick:e,label:"Восстановить"})))}}]),a}(o.PureComponent);ov.propTypes={restoreProfile:j().func,popup:j().object,handleTogglePopup:j().func};const av=(0,i.$j)(null,(function(e){return{restoreProfile:function(){return e(Promise.resolve(B.Fc.restoreSelf().then((function(e){e?window.location.href="/settings/privacy":B.v0.sendSystemMessage("recoveryError")}))).catch(B.qL.promiseHandler("/index.js")))}}}))((0,B.Pf)(ov,"recoveryPage"));var iv=function(e){var t=e.app,n=t.req.query,r=void 0===n?{}:n,a=r.id||"",i=t.statId,s=[];Object.keys(r).forEach((function(e){["utm_content","utm_medium","utm_source","utm_campaign"].indexOf(e)>-1&&s.push("".concat(e,"=").concat(r[e]))}));var c="https://f.mt.ru/r/".concat(i,"?id=").concat(a,"&").concat(s.join("&"));return(0,o.useEffect)((function(){B.gy.ym("reachGoal","view_fullscreen_mob_banner_cont")}),[]),o.createElement("div",{className:"app-promotion-landing"},o.createElement("div",{className:"app-promotion-landing__banner"},o.createElement("i",{className:"app-promotion-landing__logo"}),o.createElement("h3",{className:"app-promotion-landing__title"},"Читать статью в удобном приложении"),o.createElement("a",{href:c,className:"btn app-promotion-landing__actions-btn",onClick:function(e){e.preventDefault(),B.gy.ym("reachGoal","click_CTA_fullscreen_mob_banner_cont"),window.location.href=c}},"Читать в приложении")),o.createElement("a",{href:"https://mirtesen.ru/url?e=pad_click&pad_page=0&blog_post_id=".concat(a),className:"app-promotion-landing__actions-close",onClick:function(e){e.preventDefault(),B.gy.ym("reachGoal","click_grey_text_fullscreen_mob_banner_cont"),window.location.href="https://mirtesen.ru/url?e=pad_click&pad_page=0&blog_post_id=".concat(a)}},"Читать в браузере"))};iv.propTypes={app:j().object};const sv=(0,o.memo)(iv);function cv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var lv=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){var e;return h()(this,a),(e=r.call(this)).state={show:!1,closedAtPost:0},e}return g()(a,[{key:"componentDidMount",value:function(){this.init()}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.show,n=e.closedAtPost;t||this.props.postsScrolled>=n+3&&this.init()}},{key:"canShow",value:function(){var e=this.props,t=e.mobileApp,n=e.scope,r=e.page,o=e.isMobile;return!(t||!o||"indexMainAuthorized"===r||"blogPostList"!==r&&"profile"!==n)}},{key:"init",value:function(){var e=this;this.canShow()&&setTimeout((function(){var t=!0,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cv(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{minWidth:-1,maxWidth:-1}),r=n.minWidth,o=n.maxWidth;if(r>=0||o>=0){var a=window,i=document,s=i.documentElement,c=i.getElementsByTagName("body")[0],l=a.innerWidth||s.clientWidth||c.clientWidth;(l<r&&r>=0||l>o&&o>=0)&&(t=!1)}e.setState({show:t})}),200)}},{key:"render",value:function(){var e=this,t=this.props,n=t.postsScrolled,r=t.page;return this.canShow()?o.createElement("div",{className:M()({"footer-ad-block":!0,show:this.state.show})},"blogPostDispute"===r?o.createElement(fi,{rtbId:"R-A-91685-283"}):o.createElement(Di,{type:"Politpiar",id:99820}),o.createElement("div",{className:"footer-ad-block__close",onClick:function(){e.setState({show:!1,closedAtPost:n})}})):null}}]),a}(o.PureComponent);k()(lv,"defaultProps",{postsScrolled:0}),lv.propTypes={postsScrolled:j().number,mobileApp:j().bool,page:j().string,scope:j().string,isMobile:j().bool};const uv=(0,i.$j)((function(e){var t,n,r,o,a,i;return{postsScrolled:e.footerCatFish.postsScrolled,mobileApp:(null===(t=e.app)||void 0===t||null===(n=t.req)||void 0===n?void 0:n.mobileApp)||!1,page:(null===(r=e.app)||void 0===r?void 0:r.page)||null,scope:(null===(o=e.app)||void 0===o?void 0:o.scope)||null,isMobile:"phone"===(null===(a=e.app)||void 0===a||null===(i=a.req)||void 0===i?void 0:i.deviceType)}}))(lv);var pv=function(e){var t=e.disable,n=e.partnerYaMetrics,r=e.globalYaMetrics,a=e.newYaMetrics,i=e.topicYaMetrics;return t?null:o.createElement(o.Fragment,null,!ms()(null==r?void 0:r.id)&&o.createElement(xd.OR,{accounts:r.id,version:r.version.toString(),options:r.options,userParams:r.userParams}),!ms()(null==a?void 0:a.id)&&o.createElement(xd.OR,{accounts:a.id,version:a.version.toString(),options:a.options,userParams:r.userParams}),!ms()(null==n?void 0:n.id)&&o.createElement(xd.OR,{accounts:n.id,version:n.version.toString(),options:n.options}),!ms()(null==i?void 0:i.id)&&o.createElement(xd.OR,{accounts:i.id,version:i.version.toString(),options:i.options,userParams:r.userParams}))};pv.propTypes={disable:j().bool,partnerYaMetrics:j().object,newYaMetrics:j().object,globalYaMetrics:j().object,topicYaMetrics:j().object};const dv=(0,i.$j)((function(e){return{disable:e.app.disableYandexAnalytics}}))((0,o.memo)(pv));function mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mv(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hv=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(){return h()(this,a),r.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e,t,n=this.props,r=n.scope,a=n.siteId,i=n.siteMetrics,s=n.blogPost,c=n.mobileApp,l=n.topicPartnerPost,u=Ar,p=u.globalYaMetrics,d=u.newYaMetrics,m=u.topicYaMetrics,f={id:[],version:"2",options:{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!1}},h=wr.getCurrentUser(),_=null;if(h){var g=1;2===parseInt(h.sex,10)&&(g=2),1===parseInt(h.sex,10)&&(g=3);var v="00";h.bdate&&((v=B.E6.bdateToAge(h.bdate))<10&&(v="0".concat(v)),v>99&&(v="99")),_="9".concat(g,v,v),_=parseInt(_,10).toString(30)}var y={};if(h){if(y.visitorType="registered",2===parseInt(h.sex,10)&&(y.gender="male"),1===parseInt(h.sex,10)&&(y.gender="female"),h.bdate){var b=B.E6.bdateToAge(h.bdate);b<10?y.ageGroup="<10":b>=10&&b<15?y.ageGroup="10-15":b>=15&&b<20?y.ageGroup="15-20":b>=20&&b<25?y.ageGroup="20-25":b>=25&&b<30?y.ageGroup="25-30":b>=30&&b<35?y.ageGroup="30-35":b>=35&&b<40?y.ageGroup="35-40":b>=40&&b<45?y.ageGroup="40-45":b>=45&&b<50?y.ageGroup="45-50":b>=50&&b<55?y.ageGroup="50-55":b>=55&&b<60?y.ageGroup="55-60":b>=60&&b<65?y.ageGroup="65-65":b>=65&&b<70?y.ageGroup="65-70":b>=70&&(y.ageGroup=">70")}}else y.visitorType="guest";p.options=fv(fv({},p.options),y),m.options=fv(fv({},m.options),y),d.options=fv(fv({},d.options),y),p.options.userParams=fv({},y),m.options.userParams=fv({},y),d.options.userParams=fv({},y),p.userParams=fv({},y),m.userParams=fv({},y),d.userParams=fv({},y),c&&d.id.push(72695488),yo.isSiteMatch("glagolDomains")&&f.id.push(56036593),i.yandexMetricaAccountId&&f.id.push(Number(i.yandexMetricaAccountId));var E=null==l||null===(e=l.post)||void 0===e||null===(t=e.partner)||void 0===t?void 0:t.yandexMetricaCounterId;return E&&f.id.push(Number(E)),o.createElement(o.Fragment,null,o.createElement(dv,{globalYaMetrics:p,newYaMetrics:d,topicYaMetrics:"topic"===r?m:null,partnerYaMetrics:f}),o.createElement(B.RQ,{site:a,user:h,post:s,statMediaId:i.statMediaId}),_&&o.createElement("img",{className:"smi2-social",src:"https://target.smi2.net/social/?x="+_}),a&&o.createElement(B.Vq,{siteId:a}))}}]),a}(o.PureComponent);hv.propTypes={siteId:j().number,siteMetrics:j().object,blogPost:j().object,siteUrl:j().string,scope:j().string,mobileApp:j().bool,topicPartnerPost:j().object};const _v=(0,i.$j)((function(e){var t,n,r,o,a,i,s;return{siteId:(null==e||null===(t=e.app)||void 0===t||null===(n=t.site)||void 0===n?void 0:n.id)||null,siteMetrics:(null==e||null===(r=e.app)||void 0===r?void 0:r.metrics)||{},blogPost:(null==e?void 0:e.blogPost)||null,siteUrl:(null==e||null===(o=e.app)||void 0===o?void 0:o.originalUrl)||null,scope:(null==e||null===(a=e.app)||void 0===a?void 0:a.scope)||"blog",mobileApp:(null==e||null===(i=e.app)||void 0===i||null===(s=i.req)||void 0===s?void 0:s.mobileApp)||!1,topicPartnerPost:(null==e?void 0:e.topicPartnerPost)||{}}}))((0,B.Pf)(hv,"counter"));const gv=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;return h()(this,a),t=r.call(this,e),k()(y()(t),"handleClickCloseButton",R()(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.M0.setView("STICKY_BUTTON_2");case 2:t.setState({isOpen:!1});case 3:case"end":return e.stop()}}),e)})))),t.state={isOpen:!0},t}return g()(a,[{key:"componentDidMount",value:function(){B.gy.ym("reachGoal","view_sticky_ali")}},{key:"render",value:function(){if(!this.state.isOpen)return null;var e="https://aliexpress.mirtesen.ru/topic/society/43128956187/kak-vygodno-zakupitsya-podarkami-pered-novym-godom/tab?utm_source=aliexpress_mirtesen&utm_medium=aliexpress_stikibatton&utm_campaign=aliexpress_article";return o.createElement("div",{className:"sticky-button",onClick:this.handleClickCloseButton},o.createElement("a",{className:"sticky-button__link",target:"_blank",href:e,onClick:function(t){t.preventDefault(),B.gy.ym("reachGoal","click_sticky_ali"),window.location.href=e}},o.createElement("div",{className:"ali-express-button"},o.createElement("div",{className:"ali-express-button__back"},o.createElement("i",{className:"ali-express-button__icon"})),o.createElement("div",{className:"ali-express-button__front"}))),o.createElement("button",{className:"sticky-button__close-button"}),o.createElement("div",{style:{opacity:0,position:"absolute",width:"1px",height:"1px"}},o.createElement(Qr,{adId:10040})))}}]),a}(o.PureComponent);var vv=function(e){E()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S()(t);if(n){var o=S()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O()(this,e)});function a(e){var t;if(h()(this,a),t=r.call(this,e),k()(y()(t),"handleGetMessage",(function(e){var n=t.props.onChangeMemberCount;"MT_APP_CHANGE_MEMBER_COUNT"===e.data.type&&n(e.data.value)})),k()(y()(t),"layouts",{OneColumnLayout:Qi,TwoColumnLayout:cs,BlogPostLayout:Gi,EmptyLayout:Wi,ContentLayout:Ki,MockLayout3:zi,MockLayout31:Xi,MainDomainLayout:Ls,PostListLayout:ps,PeopleTwoColumnLayout:As,MtTwoColumnLayout:Zs,AboutPlatformLayout:Us,TopicPartnerPostLayout:Bg,ErrorPageLayout:Bd,IndexLayout:qd,MessengerLayout:Yd}),k()(y()(t),"pages",{appPlatform:o_,blogPostList:Au,blogPost:jl,blogPostDispute:Jl,staticPage:ed,blogPostEditor:hu,blogMember:pc,siteSettings:Xp,personSettings:w_,promotion:Id,editComments:Dd,blogModerators:yc,stat:B.kN,groups:Nm,billing:Am,blogCommentPage:id,blogPostNotifications:Ks,mtTop:Um,mtIframe:Hf,aggregator:Hm,personWall:H_,personPosts:Z_,personComments:og,personFriends:$_,personSites:yg,personPhotos:H_,personProfile:hg,personPrivateMedia:mg,personEvents:lg,personVideos:H_,aboutPlatform:Ah,newsListPlatform:Bh,newsItemPlatform:qh,partnersPlatform:Gh,promoPlatform:$h,agreementPlatform:Xh,glagolPlatform:e_,testPageForComments:lm,topicPostList:xg,topicPartnerPost:jg,error4xx:Gg,error5xx:tv,recoveryPage:av,personRestriction:rv,indexMainAuthorized:Uf,accountConsolidation:Eg,pollList:Hg,unsubscribeByEmail:Og,popularPostsList:Vf,bloggersPostsList:Yf,appPromotionLanding:sv,createSitePage:rm,feedback:rh,compositionPostList:zf,billingList:Jf,paymaster:Qf,activitiesList:th,pad:Fd,publicChatsList:ah,place:sh,mtSearchPage:_h,recoveryPasswordStep1:fm,recoveryPasswordStep2:_m,authPage:ym,testTsPage:Eh}),!t.props.app.noAuth){var n={onBeforeChange:function(){return function(){return wr.reload(),!1}}};t.props.initAuth(n)}return t.state={canViewStickyButton:!1},t}return g()(a,[{key:"componentDidMount",value:function(){var e=this.props.checkAdBlocker;(0,Y.j)();var t=document.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox",document.body.appendChild(t),window.setTimeout((function(){0===t.offsetHeight?e(!0):e(!1),t.remove()}),1e3),window.addEventListener("message",this.handleGetMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleGetMessage)}},{key:"render",value:function(){var e=this.props,t=e.app,n=e.mobileApp,r=e.isMobile,a=e.userId,i=e.host,s=this.state.canViewStickyButton,c=t.layout||"OneColumnLayout",l=t.page||"",u={app:!0};u[B.E6.toSlug(l)+"-page"]=!0;var p=this.layouts[c],d=this.pages[l],m=Zf(L()(t,"req.headers.user-agent"));return o.createElement("div",{className:M()(u)},o.createElement(p,{app:t,page:d}),o.createElement(_v,null),o.createElement(B.Vy,null),o.createElement(cm,null),o.createElement(B.Ti,null),o.createElement(no,null),!n&&!r&&o.createElement(io,{userId:a}),!n&&["ios","android"].includes(m)&&"appPromotionLanding"!==l&&o.createElement(to,null),o.createElement(qf.Z,{handleHeight:!0,onResize:function(){if(document.getElementById("three-column-container")){var e={};e.mainContentHeight=document.getElementById("three-column-container").offsetHeight,window.parent.postMessage(e,"*")}},refreshRate:70}),wr.isLogged()&&o.createElement(B.fK,{identifier:"default",callbacks:{add:function(e,t){if(t.repostId){var n,r="Материал размещен на вашей странице и доступен по этой "+'<a href="/people/'.concat(null==t||null===(n=t.author)||void 0===n?void 0:n.id,"/blog/").concat(e,'">ссылке</a>');return B.v0.sendMessage({type:"MT_APP_CHANGE_REPOSTS_COUNT",id:t.repostId,count:1,postType:t.repostType}),void B.v0.sendMessage({type:"MT_APP_SHOW_SYSTEM_POPUP",text:r,className:"mt-post-editor__repost-tooltip"})}window.location.href="/people/".concat(t.target.id,"/blog/").concat(e)},edit:function(e,t){window.location.href="/people/".concat(t.target.id,"/blog/").concat(e)}},params:{showHoliday:!0,showPoll:!0},topicList:Br.listTopics.filter((function(e){return e.theme}))}),!n&&!r&&s&&"aliexpress.mirtesen.ru"!==i&&o.createElement(gv,null),o.createElement(rh,{isModalMode:!0}),o.createElement(B.P9,null),o.createElement(um,null),o.createElement(uv,null))}}]),a}(o.Component);vv.propTypes={app:j().object,initAuth:j().func,checkAdBlocker:j().func,mobileApp:j().bool,isMobile:j().bool,host:j().string,userId:j().number,onChangeMemberCount:j().func};const yv=(0,i.$j)((function(e){return{app:e.app,userId:L()(e,"auth.user.id"),mobileApp:L()(e,"app.req.mobileApp"),isMobile:L()(e,"app.isMobile"),host:L()(e,"app.req.host")}}),(function(e){return{initAuth:function(t){e(B.YV.initAuth(t))},checkAdBlocker:function(t){e(function(e){return{type:"APP_SET_AD_BLOCKER",status:e}}(t))},onChangeMemberCount:function(t){e({type:"ACTION_CHANGE_MEMBER_COUNT",addMember:t})}}}))((0,B.Pf)(vv,"APP"));var bv,Ev,Pv;n(32820),null===(bv=window.JsAPI)||void 0===bv||null===(Ev=bv.Config)||void 0===Ev||null===(Pv=Ev.setDomain)||void 0===Pv||Pv.call(Ev,"news.mirtesen.ru"),window.ResizeObserver=window.ResizeObserver||m.Z,vn().api.host=void 0,B.Bz.setConfig(vn()),c().locale("ru"),c().tz.setDefault("Europe/Moscow"),window.addEventListener("load",u());var Ov=function(){return window.visualViewport?window.visualViewport.height:Math.max(document.documentElement.clientHeight,window.innerHeight||0)},wv=function(){return window.visualViewport?window.visualViewport.width:Math.max(document.documentElement.clientWidth,window.innerWidth||0)},Sv=Ov(),Tv=wv();window.history.scrollRestoration="manual",document.body.style.setProperty("--viewport-height","".concat(Sv,"px")),document.body.dataset.viewportHeight=Sv,document.body.style.setProperty("--viewport-width","".concat(Tv,"px")),document.body.dataset.viewportWidth=Tv;var kv=function(){var e=Ov(),t=wv();getComputedStyle(document.body).getPropertyValue("--viewport-height")!=="".concat(e,"px")&&(document.body.style.setProperty("--viewport-height","".concat(e,"px")),document.body.dataset.viewportHeight=e),getComputedStyle(document.body).getPropertyValue("--viewport-width")!=="".concat(t,"px")&&(document.body.style.setProperty("--viewport-width","".concat(t,"px")),document.body.dataset.viewportWidth=t)};window.addEventListener("resize",d()(kv,300)),window.addEventListener("focus",d()(kv,300));var Iv=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({blogDomain:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;return t.type,e},promotion:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"PROMOTION_CHANGE_TAB":return(e=vt({},t)).errors={},e.activeTab=n.tabName,e;case"PROMOTION_INIT_TAB":return(e=vt({},t)).data[n.tabName]=vt(vt({},bt.data[n.tabName]),n.data),e;case"PROMOTION_INIT_STATE":return(e=vt({},t)).data.stats.rows=n.rows,e;case"PROMOTION_SET_PERIOD":return(e=vt({},t)).data.stats.periodFrom=n.periodFrom,e.data.stats.periodTo=n.periodTo,e;case"PROMOTION_CHANGE_VALUE":return(e=vt({},t)).data[n.tabName]=vt({},e.data[n.tabName]),e.data[n.tabName][n.name]=n.value,e.changed[n.tabName]=!0,e;case"PROMOTION_SAVE_SETTINGS":return(e=vt({},t)).changed[n.tabName]=!1,e;case"PROMOTION_TOGGLE_POPUP":return(e=vt({},t)).popup.isOpen=!e.popup.isOpen,e;case"PROMOTION_SUCCESS_POPUP":return(e=vt({},t)).popup.text="Успешно сохранено",e;case"PROMOTION_ERROR_POPUP":return(e=vt({},t)).popup.text=n.message,e;case"PROMOTION_SET_INPUTS_ERRORS":return(e=vt({},t)).errors=n.errors,e;default:return t}},editComments:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"EDIT_COMMENTS_CHANGE_TAB":return(e=Pt({},t)).activeTab=n.tabName,e;case"EDIT_COMMENTS_INIT_STATE":return(e=Pt({},t)).data.stats.commentsRows=n.commentsRows,e.data.stats.commentatorsRows=n.commentatorsRows,e;case"EDIT_COMMENTS_SET_PERIOD":return(e=Pt({},t)).data.stats.periodFrom=n.periodFrom,e.data.stats.periodTo=n.periodTo,e;case"EDIT_COMMENTS_CHANGE_VALUE":return(e=Pt({},t)).data[n.tabName][n.name]=n.value,e.changed[n.tabName]=!0,e;case"EDIT_COMMENTS_SAVE_SETTINGS":return(e=Pt({},t)).changed[n.tabName]=!1,e;case"EDIT_COMMENTS_TOGGLE_POPUP":return(e=Pt({},t)).popup.isOpen=!e.popup.isOpen,e;case"EDIT_COMMENTS_SUCCESS_POPUP":return(e=Pt({},t)).popup.text="Успешно сохранено",e;case"EDIT_COMMENTS_ERROR_POPUP":return(e=Pt({},t)).popup.text=n.message,e;case"EDIT_COMMENTS_SET_INPUTS_ERRORS":return(e=Pt({},t)).errors=n.errors,e;case"ADD_SITE_COMMENTS_STOP_WORD":return(e=Pt({},t)).data.settings.keyWords=[].concat(F()(e.data.settings.keyWords),[{id:n.stopWord.id,text:n.stopWord.text}]),e.changed.settings=!0,e;case"REMOVE_SITE_COMMENTS_STOP_WORD":return(e=Pt({},t)).data.settings.keyWords=e.data.settings.keyWords.filter((function(e){return e.id!==n.id})),e.changed.settings=!0,e;case"SET_SITE_COMMENTS_STOP_WORD_SETTINGS":return(e=Pt({},t)).data.settings[n.name]=!!+n.value,e.changed.settings=!1,e;default:return t}},imageSlider:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGE_SLIDER_TOGGLE":return Xe(Xe({},e),{},{lightboxIsOpen:!e.lightboxIsOpen,currentImage:t.currentImage,postId:t.postId});case"IMAGE_SLIDER_CHANGE_CURRENT":return Xe(Xe({},e),{},{currentImage:t.currentImage});case"IMAGE_SLIDER_SET_IMAGES":return Xe(Xe({},e),{},{images:t.images});default:return e}},actionVote:B.w4,header:Re.ew,rssEditor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RSS_EDITOR_CHANGE_VALUE":return nn(nn({},e),{},{values:t.values});case"RSS_EDITOR_CHANGE_LOADING":return nn(nn({},e),{},{loading:t.loading});case"RSS_EDITOR_SET_INITIAL":return nn(nn({},e),t.state);default:return e}},votersList:B.g1,auth:B.dX,authAlert:B.M5,authForm:B.Vw,coreAlert:B.oC,blogModerators:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BLOG_MODERATORS_TOGGLE_POPUP":var n=ce({},e);return n.popup={popupType:t.popupType,userInfo:t.userInfo},t.userInfo&&(n.radioBtnValue=null),n;case"BLOG_MODERATORS_DELETE_MODERATOR":var r=ce({},e);return r.staff.map((function(e,n){e.id===t.userId&&r.staff.splice(n,1)})),r;case"BLOG_MODERATORS_ADD_ERRORS":return ce(ce({},e),{},{errors:t.errors});case"BLOG_MODERATORS_EDIT_MODERATOR":var o=ce({},e);return o.staff.map((function(e){e.id===t.userId&&(e.role=t.role)})),o;case"BLOG_MODERATORS_ADD_MODERATOR":return ce(ce({},e),{},{staff:t.staff});case"BLOG_MODERATORS_CHANGE_RADIO":var a=ce({},e);return a.radioBtnValue=t.value,a;default:return e}},logoEditor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGO_EDITOR_INIT_STATE":return De(De({},e),t.object);case"LOGO_EDITOR_DROP_IMAGE":return De(De({},e),{},{image:t.image});case"LOGO_EDITOR_SET_POSITION":return De(De({},e),{},{position:t.position});case"LOGO_EDITOR_SET_SCALE":return De(De({},e),{},{scale:t.scale});case"LOGO_EDITOR_SET_ROTATE":return De(De({},e),{},{rotate:t.rotate});case"LOGO_EDITOR_SET_IMAGE":return De(De({},e),{},{isEmpty:!!t.isEmpty&&t.isEmpty,image:t.image});default:return e}},headerBackgroundEditor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BACKGROUND_EDITOR_INIT_STATE":return je(je({},e),t.object);case"BACKGROUND_EDITOR_DROP_IMAGE":return je(je({},e),{},{image:t.image});case"BACKGROUND_EDITOR_SET_POSITION":return je(je({},e),{},{position:t.position});case"BACKGROUND_EDITOR_SET_SCALE":return je(je({},e),{},{scale:t.scale});case"BACKGROUND_EDITOR_SET_ROTATE":return je(je({},e),{},{rotate:t.rotate});case"BACKGROUND_EDITOR_SET_IMAGE":return je(je({},e),{},{isEmpty:!!t.isEmpty&&t.isEmpty,image:t.image});default:return e}},titleEditor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TITLE_EDITOR_INIT_STATE":return We(We({},e),t.object);case"TITLE_EDITOR_CHANGE_VALUE":var n=We({},e);return n[t.name]=t.value,n;default:return e}},secondaryHeader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SECONDARY_HEADER_TOGGLE":var n=Q({},e);return!0===t.show&&-1!==t.block.indexOf("Switcher")&&(n.logoSwitcher=!1,n.titleSwitcher=!1,n.backgroundSwitcher=!1),!0===t.show&&-1!==t.block.indexOf("Editor")&&(n.logoEditor=!1,n.titleEditor=!1,n.backgroundEditor=!1),n[t.block]=t.show,n;default:return e}},blogMenuSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,n=oe({},e);switch(t.type){case"BLOG_MENU_SETTINGS_INIT":return oe(oe({},e),{},{menuItems:t.menuItems});case"BLOG_MENU_SETTINGS_INIT_EDITOR":return oe(oe({},e),{},{menuItem:t.menuItem,currentIndex:t.currentIndex});case"BLOG_MENU_SETTINGS_SET_MENU_ITEMS":return ne()(n.menuItems,t.menuItems)?n:oe(oe({},e),{},{menuItems:t.menuItems,isChanged:!0});case"BLOG_MENU_SETTINGS_REMOVE_STATIC":return oe(oe({},e),{},{staticWidgetsToRemove:t.staticWidgetsToRemove});case"BLOG_MENU_SETTINGS_CHANGE_VALUE":return n.menuItem=t.menuItem,t.errors&&(n.errors=t.errors),n;case"BLOG_MENU_SETTINGS_CHANGE_HTML":return n.menuItem.html=t.html,n;case"BLOG_MENU_SETTINGS_TOGGLE_POPUP":return n.popup.isOpen=!n.popup.isOpen,n;case"BLOG_MENU_SETTINGS_SET_POPUP":return n.popup.text=t.message,n.popup.reload=t.reload,n.popup.redirect=t.redirect,n;case"BLOG_MENU_SETTINGS_SET_INPUT_ERRORS":return n.errors=t.errors,n;case"BLOG_MENU_SETTINGS_SAVE_SUCCESS":return n.isChanged=!1,n;default:return e}},siteSettings:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SITE_SETTINGS_CHANGE_TAB":return(e=rt({},t)).activeTab=n.tabName,e;case"SITE_SETTINGS_CHANGE_RSS_LIST":return(e=rt({},t)).data.rssImport.list=n.list,e;case"SITE_SETTINGS_CHANGE_VALUE":return e=rt({},t),tt()(e,"data.".concat(n.tabName,".").concat(n.name),n.value),e.sections[n.tabName].changed=!0,e;case"SITE_SETTINGS_SAVE_SETTINGS":return(e=rt({},t)).sections[n.tabName].changed=!1,e;case"SITE_SETTINGS_TOGGLE_POPUP":return(e=rt({},t)).popup.isOpen=!e.popup.isOpen,e;case"SITE_SETTINGS_SUCCESS_POPUP":return(e=rt({},t)).popup.text="Успешно сохранено",e;case"SITE_SETTINGS_ERROR_POPUP":return(e=rt({},t)).popup.text=n.message,e;case"SITE_SETTINGS_SET_INPUTS_ERRORS":return(e=rt({},t)).errors=n.errors,e;case"SITE_SETTINGS_SET_VALIDATION":return delete(e=rt({},t)).errors[n.key],e.valid[n.key]=n.title,e;case"SITE_SETTINGS_SET_ERROR":return delete(e=rt({},t)).valid[n.key],e.errors[n.key]||(e.errors[n.key]={}),e.errors[n.key].title=n.title,e;case"SITE_SETTINGS_SELECT_ADFOX_BLOCK":return(e=rt({},t)).sections.adFox.selectedAdBlock=n.id,e;case"SITE_SETTINGS_RESET_ADFOX_TO_DEFAULT":return(e=rt({},t)).data.adFox[n.id]=n.data,e;default:return t}},siteSettingsLeftMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SITE_SETTINGS_LEFT_MENU_SHOW_DROPDOWN":return it(it({},e),{},{sitesDropdown:!0});case"SITE_SETTINGS_LEFT_MENU_HIDE_DROPDOWN":return it(it({},e),{},{sitesDropdown:!1});default:return e}},promotionLeftMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;return t.type,e},editCommentsLeftMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;return t.type,e},magic:B.VW,blogPostList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BLOG_POST_LIST_GET_PAGE":return ye(ye({},e),{},{blogPostList:t.blogPostList,hasMoreItems:t.hasMoreItems,page:t.page});case"BLOG_POST_LIST_CHANGE_PERIOD":var n=ye({},e);return n.period=t.period,n.page=0,n.hasMoreItems=!0,n.blogPostList=[],n;case"BLOG_POST_LIST_SET_PERIOD":var r=ye({},e);return r.after=t.after,r.before=t.before,r.page=0,r.hasMoreItems=!0,r.blogPostList=[],r;case"BLOG_POST_LIST_CHANGE":return ye(ye({},e),{},{blogPostList:t.blogPostList});case"BLOG_POST_LIST_NOTIFY_SEND":var o=e.blogPostList.findIndex((function(e){return e.id===t.id})),a=e.blogPostList[o];return a.notificationsCanBeSent=!1,a.notificationsWillBeSent=!0,a.notificationsLimit=a.notificationsLimit-1,ye({},e);case"BLOG_POST_LIST_SET_SEARCH":return ye(ye({},e),{},{searchValue:t.searchValue,search:ye(ye({},e.serach),{},{page:0,hasMore:!0,results:[]})});case"BLOG_POST_LIST_TOOGLE_SEARCH_LOADING":return ye(ye({},e),{},{search:ye(ye({},e.search),{},{isLoading:t.isLoading})});case"BLOG_POST_LIST_GET_SEARCH_RESULTS":return ye(ye({},e),{},{search:ye(ye({},e.search),{},{results:[].concat(F()(e.search.results),F()(t.results)),page:t.page,hasMore:t.hasMore})});default:return e}},blogPostEditor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0,n=he({},e);switch(t.type){case"BLOG_POST_EDITOR_IN_PROCESS":return he(he({},e),{},{inProcess:t.inProcess});case"BLOG_POST_EDITOR_SET_TAB":return he(he({},e),{},{activeTab:t.tab});case"BLOG_POST_EDITOR_COMPLETE":return he(he({},e),{},{inProcess:t.inProcess});case"BLOG_POST_EDITOR_CHANGE_VALUE":var r=he({},e);return r[t.name]=t.value,r;case"BLOG_POST_EDITOR_ERROR_PROCESSING":var o=he({},e),a=o.errors.indexOf(t.name);return t.adding&&-1===a?o.errors.push(t.name):t.adding||-1===a||o.errors.splice(a,1),o;case"BLOG_POST_EDITOR_CHANGE_TAGS":return he(he({},e),{},{tags:t.tags});case"BLOG_POST_EDITOR_DISABLE_COMMENTS":return n.disableComments=!n.disableComments,n;case"BLOG_POST_EDITOR_CHANGE_DRAFT_VALUE":return n.draft=t.value,n;case"BLOG_POST_EDITOR_CHANGE_SUGGESTIONS_DATA":return t.tags.length>0?n.tagSuggestions=t.tags:n.tagSuggestions[0]={id:+new Date,name:t.text},n;case"BLOG_POST_EDITOR_PRELOADER_TOGGLE":return n.preloaderVisible=t.state,n;case"BLOG_POST_EDITOR_SHOW_ERROR":return n.errorMessage.isVisible=!0,t.text&&(n.errorMessage.text=t.text),n;case"BLOG_POST_EDITOR_HIDE_ERROR":return n.errorMessage.isVisible=!1,n;case"BLOG_POST_EDITOR_ADD_POLL":return n.poll=t.pollId,n;case"BLOG_POST_EDITOR_DELETE_POLL":return n.poll=null,n.activeTab="message",n;case"BLOG_POST_EDITOR_UPDATE_SLIDERS":return n.sliders=t.sliders,n;case"BLOG_POST_EDITOR_UPDATE_SLIDERS_LENGTH":return n.slidersLength=t.slidersLength,n;case"BLOG_POST_EDITOR_SENT_TO_MODERATION":return n.sentToModeration=!0,n;default:return e}},inventoryPopup:B.vr,actionModifyPostPopup:B.yI,rightColumnPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;return t.type,e},rightColumnComments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RIGHT_COLUMN_COMMENTS_GET_COMMENTS":return[].concat(t.comments);default:return e}},rightColumnGallery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RIGHT_COLUMN_GALLERY_GET_IMAGES":return Ze(Ze({},e),{},{images:t.images});default:return e}},blogPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BLOG_POST_NOTIFY_SEND":var n=$({},e);return n.notificationsCanBeSent&&(n.notificationsCanBeSent=!1,n.notificationsWillBeSent=!0,n.notificationsLimit--),n;case"BLOG_POST_CHANGE":return $($({},e),{},{blogPost:t.blogPost});case"BLOG_POST_SET_SLIDER_STEP_1":var r=$({},e),o=Number(t.sliderIndex),a=e.sliders[o];return r.sliderLoading=!0,r.sliderIndex=o,r.currentSlider.title=a.title,r;case"BLOG_POST_SET_SLIDER_STEP_2":var i=$({},e),s=i.sliders[i.sliderIndex];return i.currentSlider.imageUrl=s.imageUrl,i.currentSlider.imageWidth=s.imageWidth,i.currentSlider.imageHeight=s.imageHeight,i;case"BLOG_POST_SET_SLIDER_STEP_3":var c=$({},e);return c.sliderLoading=!1,c;default:return e}},blogMember:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BLOG_MEMBER_CHANGE_TAB":var n=pe({},e);return n.activeTab!==t.tab&&(n.tabs[n.activeTab]=pe({},me),n.activeTab=t.tab),n;case"BLOG_MEMBER_GET_PAGE":var r=pe({},e),o=t.activeTab;return r.tabs[o]=pe(pe({},r.tabs[o]),{},{userList:t.userList,page:t.page,hasMore:t.hasMore}),r;case"BLOG_MEMBER_DO_SEARCH":var a=pe({},e);return a.usedSearch=!0,a.tabs[a.activeTab]=pe({},me),a.search={needle:t.needle,userList:t.userList,page:1,initialPage:1,hasMore:t.hasMore},a;case"BLOG_MEMBER_GET_SEARCH_RESULTS":var i=pe({},e);return i.search=pe(pe({},i.search),t),i;case"BLOG_MEMBER_ADD_MODERATOR":var s=pe({},e);return s.staff[t.userId]=t.role,s;case"BLOG_MEMBER_SHOW_TABS":var c=pe({},e);return c.usedSearch=!1,c;case"BLOG_MEMBER_UPDATE_LIST":var l=pe({},e),u=t.tabs;return u.map((function(e){l.tabs[e]={userList:[],hasMore:!0,page:0}})),l;case"BLOG_MEMBER_REMOVE_USER_FROM_LIST":var p=pe({},e);for(var d in p.tabs)if(t.tabs.indexOf(d)>-1&&p.tabs[d].userList.length>0){var m,f,h=(null==p||null===(m=p.tabs)||void 0===m||null===(f=m[d])||void 0===f?void 0:f.userList)||[],_=h.findIndex((function(e){return Number(e.id)===Number(t.userId)}));_>-1&&h.splice(_,1)}return p;case"BLOG_MEMBER_ADD_USER_TO_LIST":var g=pe({},e);for(var v in g.tabs)if(t.tabs.indexOf(v)>-1){var y,b,E=(null==g||null===(y=g.tabs)||void 0===y||null===(b=y[v])||void 0===b?void 0:b.userList)||[];E.push({id:t.userId})}return g;default:return e}},aggregator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AGGREGATOR_CHANGE_ITEMS":return q(q({},e),{},{items:[].concat(F()(e.items),F()(t.items)),page:e.page+1,hasMore:t.items.length>0});default:return e}},mirtesenTop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MIRTESEN_TOP_GET_POSTS":var n=Be({},e);return n.blockId=t.blockId,n.blocks[t.blockId]=F()(t.posts),n;case"NATIVE_ADVERT_GET_POSTS":return Be(Be({},e),{},{blocks:k()({blockId:t.blockId},t.blockId,t.posts)});default:return e}},leftMenu:B.gd,actionBlogPostNotify:B.wG,blogCommentPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BLOG_COMMENT_PAGE_GET":return ze(ze({},e),t);case"BLOG_COMMENT_PAGE_GET_USER_STATUS":return ze(ze(ze({},e),t),{},{showModal:!0});case"BLOG_COMMENT_PAGE_HIDE_MODAL":return ze(ze({},e),{},{showModal:!1});case"BLOG_COMMENT_PAGE_ABUSE_USER":var n=F()(e.items);return n=n.map((function(e){return e.id===t.commentId?(e.isAbused=!0,e):e})),ze(ze({},e),{},{items:n});case"BLOG_COMMENT_PAGE_DELETE_COMMENT":var r=F()(e.items);return r=r.map((function(e){return e.id===t.commentId?(e.isDeleted=!0,e):e})),ze(ze({},e),{},{items:r});case"BLOG_COMMENT_PAGE_BAN_USER":var o=F()(e.items);return o=o.map((function(e){return e.id===t.commentId?(e.isBanned=!0,e):e})),ze(ze({},e),{},{items:o});case"BLOG_COMMENT_PAGE_CLOSE_INTERACTIVE_POPUP":var a=F()(e.items);return a=a.map((function(e){return e.id===t.commentId?(e[t.popupSort]=!1,e):e})),ze(ze({},e),{},{items:a});default:return e}},groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GROUPS_SET":return St(St({},e),{},{ratedGroups:t.groups,hasMore:t.hasMore,searchValue:t.searchValue});case"GROUPS_SET_PERIOD":return St(St({},e),{},{period:t.period});case"GROUPS_SET_ORDER":return St(St({},e),{},{order:t.order});case"GROUPS_SET_PAGE":return St(St({},e),{},{page:t.page});default:return e}},billing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;return t.type,e},stat:B.pN,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP_SET":return V(V({},e),t.app);case"ACTION_JOIN_TO_SITE":var n=V({},e);return n.site?("undefined"!==n.site.is_member&&(n.site.is_member=t.isMember),t.success&&!0===t.isMember?n.site.members_count+=1:t.success&&!1===t.isMember&&(n.site.members_count-=1),n):n;case"ACTION_SUBSCRIBE_TO_SITE":var r=V({},e);return"undefined"!==r.site.is_member&&(r.site.is_subscribed=t.isSubscribe),r;case"ACTION_CHANGE_MEMBER_COUNT":var o=V({},e);return t.addMember?o.site.members_count+=1:o.site.members_count-=1,o;case"APP_SET_LOGO":var a=V({},e);return"blog"===t.scope?a.siteBuilder.mainLogo.props.image=t.image:"profile"===t.scope&&(a.person.photo_original=t.image),a;case"APP_SET_BACKGROUND":var i=V({},e);return"blog"===t.scope?i.siteBuilder.mainHeader.props.image=t.image:"profile"===t.scope&&(i.person.cover=t.image),i;case"APP_SET_TITLE":var s=V({},e);return s.siteBuilder.mainHeader.props.title=t.title,s;case"APP_SET_META":var c=V({},e);return c.meta=t.meta,c;case"APP_SET_AD_BLOCKER":return e.isAdBlockerActive=t.status,e;default:return e}},localize:zn.xz,staticPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;return t.type,e},blogPostNotifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EMAIL_NOTIFICATIONS_GET_LIST":return cn(cn({},e),{},{list:t.list,updatedAt:t.updatedAt,page:t.page,isEmpty:t.isEmpty,hasMore:t.hasMore});case"EMAIL_NOTIFICATIONS_TOGGLE_OPTIONS":return cn(cn({},e),{},{expandOptions:!e.expandOptions});case"EMAIL_NOTIFICATIONS_TOGGLE_LIST":return cn(cn({},e),{},{expandList:t.expandList,list:t.list});case"EMAIL_NOTIFICATIONS_TOGGLE_ITEM":return cn(cn({},e),{},{list:t.list});default:return e}},blogPostNotification:B.bw,mtPostEditor:B.og,mtTextEditor:B.Gd,mtPoll:fr.Yy,personSettings:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"PERSON_SETTINGS_CHANGE_TAB":return(e=lt({},t)).activeTab=n.tabName,e;case"PERSON_SETTINGS_CHANGE_VALUE":return e=lt({},t),tt()(e.data[n.tabName],n.name,n.value),e.sections[n.tabName].changed=!0,e;case"PERSON_SETTINGS_CHANGE_CHECKBOX_VALUE":return lt({},t);case"PERSON_SETTINGS_SET_EMAILS":return(e=lt({},t)).data.contacts.emails=n.emails,e;case"PERSON_SETTINGS_SAVE_CHANGES":return(e=lt({},t)).sections[n.tabName].changed=!1,e;case"PERSON_SETTINGS_TOGGLE_POPUP":return(e=lt({},t)).popup.isOpen=!e.popup.isOpen,e;case"PERSON_SETTINGS_SET_INPUT_ERRORS":return(e=lt({},t)).errors=n.errors,e;case"PERSON_SETTINGS_SET_INPUT_valid":return(e=lt({},t)).valid=n.valid,e;default:return t}},personSettingsLeftMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;return t.type,e},personPostList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PERSON_POST_LIST_GET":return Te(Te({},e),t);default:return e}},personFriends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FRIENDS_LIST_GET":return Ct(Ct({},e),{},{tabData:t.tabData});case"FRIENDS_LIST_NEW_SEARCH":return Ct(Ct({},e),{},{search:t.search,tab:"friends",tabData:t.tabData});case"FRIENDS_LIST_CHANGE_FRIEND_MENU":return Ct(Ct({},e),{},{tab:t.tab});case"FRIENDS_LIST_SET_PYMK_STATUS":var n,r,o=Ct({},e),a=(null==o||null===(n=o.tabData)||void 0===n||null===(r=n.recommended)||void 0===r?void 0:r.data)||[],i=a.findIndex((function(e){return e.id===t.id}));return o.tabData.recommended.data=[].concat(F()(a.slice(0,i)),F()(a.slice(i+1))),o;default:return e}},personPublications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PERSON_PUBLICATIONS_LIST_GET":return dt(dt({},e),t);default:return e}},personEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PERSON_EVENTS_GET":return qt(qt({},e),t);default:return e}},personProfile:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"PERSON_PROFILE_TOGGLE_POPUP":return(e=Rt({},t)).popup=Rt(Rt({},e.popup),{},{isOpen:!e.popup.isOpen}),e;case"PERSON_PROFILE_SET_POPUP":return(e=Rt({},t)).popup=Rt(Rt({},e.popup),{},{text:n.message,reload:n.reload,redirect:n.redirect}),e;default:return t}},personPrivateMedia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PERSON_PRIVATE_MEDIA_LIST_GET":return xt(xt({},e),t);default:return e}},personSites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PERSON_GET_SITE_LIST":return Ut(Ut({},e),t);case"SITES_SET":return Ut(Ut({},e),{},{sites:t.sites});default:return e}},personComments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PERSON_COMMENTS_LIST_GET":return Vt(Vt({},e),t);default:return e}},accountConsolidation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;return t.type,e},pad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;return t.type,e},platformPostList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLATFORM_POST_LIST_GET_PAGE":return Pe(Pe({},e),{},{posts:t.posts,hasMoreItems:t.hasMoreItems,page:t.page});default:return e}},platformPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we;return e},topicPostList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return t.type,e},topicPartnerPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOPIC_PARTNER_POST_MODAL_SET_POST":var n=pn({},e);return n.post=t.post,n.isOpen=!0,n.displayType="window",n;case"TOPIC_PARTNER_POST_TOGGLE_MODAL":var r=pn({},e);return t.isOpen?(r.isOpen=t.isOpen,r.displayType="window"):r=dn,r;default:return e}},topicModeration:B.Tn,recoveryPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments.length>1?arguments[1]:void 0,n=Jn({},e);switch(t.type){case"RECOVERY_PASSWORD_EMAIL_SENT":return Jn(Jn({},n),{},{isEmailSent:!0});case"RECOVERY_PASSWORD_SET_EMAIL_ERROR":return Jn(Jn({},n),{},{emailError:t.message});case"RECOVERY_PASSWORD_SET_PASSWORD_ERROR":return Jn(Jn({},n),{},{passwordError:t.message});case"RECOVERY_PASSWORD_SET_INPUT_VALUE":return n.inputValue=Jn(Jn({},n.inputValue),{},k()({},t.name,t.value)),n;case"RECOVERY_PASSWORD_RESET_FORM":return Jn({},Xn);default:return e}},statMedia2:B.rf,footerCatFish:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yt:return $t($t({},e),{},{postsScrolled:t.postsScrolled});default:return e}},indexMainAuthorized:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAIN_POST_LIST_GET_LIST":return rr(rr({},e),t);case"MAIN_POST_LIST_SET_TAB":return rr(rr({},e),{},{activeTab:t.activeTab,nextOffset:0,hasMore:!0,nonFriendsPostIds:[],posts:[]});case"MAIN_POST_LIST_HIDE_POST":return rr(rr({},e),{},{hiddenPosts:[].concat(F()(e.hiddenPosts),[t.hiddenPost])});default:return e}},pollList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POLLS_POST_LIST_LOAD_MORE":return fn(fn({},e),{},{polls:t.polls,page:t.page,hasMore:t.hasMore});case"POLLS_POST_LIST_TOOGLE_POLL_VISIBILITY":if("hide"===t.params||"abuse"===t.params)return fn(fn({},e),{},{hiddenPolls:fn(fn({},e.hiddenPolls),{},k()({},t.pollId,t.params))});var n=fn({},e.hiddenPolls);return delete n[t.pollId],fn(fn({},e),{},{hiddenPolls:n});default:return e}},ampBlogPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;return e},ampLeftMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn;return bn(bn({},e),{},{menuItems:wn.menuItems})},blogPostRecommended:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BLOG_POST_RECOMMENDED_GET_LIST":return er(er({},e),{},{items:t.items,hasMoreItems:t.hasMoreItems,nextOffset:t.nextOffset,isLoading:!1});case"BLOG_POST_RECOMMENDED_LOADING":return er(er({},e),{},{isLoading:!0});default:return e}},blogPostReactions:B.RM,voterList2:B.wR,actionSubscribe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,t=arguments.length>1?arguments[1]:void 0,n=Tn({},e),r=n[t.objectId]||In;switch(t.type){case"ACTION_SUBSCRIBE_INIT_STATE":return n[t.objectId]=Tn(Tn(Tn({},In),r),t.state),n;case"ACTION_SUBSCRIBE_JOIN_TO_SITE":return n[t.objectId]=Tn(Tn(Tn({},In),r),{},{isMember:t.isMember}),n;case"ACTION_SUBSCRIBE_SUBSCRIBE_TO_SITE":return n[t.objectId]=Tn(Tn(Tn({},In),r),{},{isSubscribed:t.isSubscribed}),n;default:return e}},popularPostsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},bloggersPostsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},actionModeration:B.I_,commentatorList:B.NC,reposterList:B.Jh,userCard:B.tH,feedback:B.BW,userFriendActions:B.Fh,compositionPostList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},billingList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BILLING_LIST_LOAD_MORE":return Cn(Cn({},e),{},{items:[].concat(F()(e.items),F()(t.billingList)),hasMore:t.hasMore,page:t.page});default:return e}},activitiesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVITIES_LIST_LOAD_MORE":return Rn(Rn({},e),{},{items:[].concat(F()(e.items),F()(t.items)),nextFrom:t.nextFrom,hasMore:t.hasMore});default:return e}},createSitePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1?arguments[1]:void 0,n=xn({},e);switch(t.type){case"CREATE_SITE_SET_VALUE":n[t.name]=t.value;break;case"CREATE_SITE_CHECK_DOMAIN":n.successMessage.domain=t.successMessage,n.errorMessage.domain=t.errorMessage,n.similarDomains=t.similarDomains;break;case"CREATE_SITE_RESET_MESSAGES":n.successMessage[t.name]=null,n.errorMessage[t.name]=null,n.similarDomains=[];break;case"CREATE_SITE_PROCESS_ERRORS":n.errorMessage=xn(xn({},n.errorMessage),t.errorMessage);break;case"CREATE_SITE_TOGGLE_PROCESS":n.inProcess=t.inProcess;break;default:return e}return n},postTiles:Hn,disputeCommentList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DISPUTE_COMMENT_LIST_SHOW_MORE":return ur(ur({},e),{},{items:t.items,hasMoreItems:t.hasMoreItems,page:t.page});case"DISPUTE_COMMENT_LIST_COMMENT":var n=t.comment,r=e.items;if(!n.id)return e;if(n.reply_to_comment){var o,a=sr(r.entries());try{for(a.s();!(o=a.n()).done;){var i=ir()(o.value,2),s=i[0],c=i[1];if(Number(c.id)===Number(n.reply_to_comment)){r.splice(s+1,0,t.comment);break}}}catch(e){a.e(e)}finally{a.f()}}else"top"===t.position?r.unshift(n):r.push(n);return e.total++,ur(ur({},e),{},{items:r});default:return e}},commentForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr,t=arguments.length>1?arguments[1]:void 0;switch(e=B.$L.reducer(e,t,dr),t.type){case"COMMENT_FORM_SHOW_MAIN_FORM":return B.$L.instanceReducer(e,t.widgetId,(function(e){e.main.showForm=!0}));case"COMMENT_FORM_CHANGE_TEXT":return B.$L.instanceReducer(e,t.widgetId,(function(e){e[t.formEntity].text=t.text}));case"COMMENT_FORM_CLEAR_PREVIEW":return B.$L.instanceReducer(e,t.widgetId,(function(e){e[t.formEntity].attachments=[]}));case"COMMENT_FORM_LOADING_STATUS":return B.$L.instanceReducer(e,t.widgetId,(function(e){e[t.formEntity].loading=t.status}));case"COMMENT_FORM_RESET":return B.$L.instanceReducer(e,t.widgetId,(function(e){e[t.formEntity].showForm=!1,e[t.formEntity].text="",e[t.formEntity].attachments=[],e[t.formEntity].attachmentLoading=!1,e[t.formEntity].statusCommentSend=!1,e[t.formEntity].loading=!1}));case"COMMENT_FORM_FOCUS":return B.$L.instanceReducer(e,t.widgetId,(function(e){e[t.formEntity].active=!0}));case"COMMENT_FORM_BLUR":return B.$L.instanceReducer(e,t.widgetId,(function(e){e[t.formEntity].active=!1}));case"COMMENT_FORM_CHANGE_ATTACH_LOADING":return B.$L.instanceReducer(e,t.widgetId,(function(e){e[t.formEntity].attachmentLoading=t.status}));case"COMMENT_FORM_ADD_ATTACH":return B.$L.instanceReducer(e,t.widgetId,(function(e){e[t.formEntity].attachments[0]={photo:t.attachments},e[t.formEntity].attachmentLoading=!1}));case"COMMENT_FORM_SHOW_REPLY_FORM":return B.$L.instanceReducer(e,t.widgetId,(function(e){e.reply.showForm=t.commentId,e.edit.showForm=!1}));case"COMMENT_FORM_SHOW_EDIT_FORM":return B.$L.instanceReducer(e,t.widgetId,(function(e){e.edit.text=t.text,e.edit.attachments=t.attachments||[],e.edit.showForm=t.id,e.reply.showForm=!1,e.reply.text=""}));default:return e}},v2Comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;return e},place:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=arguments.length>1?arguments[1]:void 0;return t.type,e},logoutModal:B.$S,pymk:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PYMK_GET_RECOMMENDED_FRIENDS":return Gn(Gn({},e),{},{recommendedFriends:t.recommendedFriends});case"PYMK_SET_STATUS":var n=e.recommendedFriends.findIndex((function(e){return e.id===t.id}));return Gn(Gn({},e),{},{recommendedFriends:[].concat(F()(e.recommendedFriends.slice(0,n)),F()(e.recommendedFriends.slice(n+1)))});default:return e}},topAuthors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOP_AUTHORS_GET_LIST":return Yn(Yn({},e),{},{userList:[].concat(F()(e.userList),F()(t.userList)),offset:t.offset,hasMore:t.hasMore});case"TOP_AUTHORS_SET_STATUS":var n=e.userList.findIndex((function(e){return e.id===t.id}));return Yn(Yn({},e),{},{userList:[].concat(F()(e.userList.slice(0,n)),F()(e.userList.slice(n+1)))});default:return e}},mtSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr,t=arguments.length>1?arguments[1]:void 0,n=_r({},e);switch(t.type){case"MT_SEARCH_GET_RESULTS":n.tabData=t.tabData,n.searchValue=t.searchValue;break;case"MT_SEARCH_GET_RESULT":var r=n.tabData[t.activeTab];n.tabData[t.activeTab]=_r(_r({},r),{},{data:[].concat(F()(r.data),F()(t.data)),page:t.page,hasMore:t.hasMore}),n.searchValue=t.searchValue;break;case"MT_SEARCH_SET_TAB":var o={};Object.keys(n.tabData).forEach((function(e){o[e]=_r(_r({},n.tabData[e]),{},{data:[],page:0,hasMore:!1})})),n.tabData=o,n.activeTab=t.activeTab;break;case"MT_SEARCH_SET_SEARCH":var a={};Object.keys(n.tabData).forEach((function(e){a[e]=_r(_r({},n.tabData[e]),{},{data:[],page:0,hasMore:!1})})),n.tabData=a,n.searchValue=t.searchValue;break;case"MT_SEARCH_TOGGLE_LOADING":n.isLoading=!n.isLoading;break;default:return n}return n}},Y.l),Mv=window.__PRELOADED_STATE__,Cv=B.Bz.initStore(Iv,Mv);window.blogStore=Cv,a.hydrate(o.createElement(i.zt,{store:Cv},o.createElement(yv,null)),document.getElementById("root"))},32820:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(50008),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(56977),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_function_bind_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24812),core_js_modules_es_function_bind_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_function_bind_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(69600),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(21249),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(32564),core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(69070),core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5212),core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(57327),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(47042),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_array_is_array_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(79753),core_js_modules_es_array_is_array_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_array_is_array_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2707),core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(74916),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(23123),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_parse_float_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(54678),core_js_modules_es_parse_float_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_parse_float_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(82772),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(40561),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(89554),core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(54747),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(82526),core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(41817),core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(41539),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(32165),core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_23__),core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(66992),core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_24__),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(78783),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_25__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(33948),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_26__),core_js_modules_es_object_create_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(78011),core_js_modules_es_object_create_js__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(core_js_modules_es_object_create_js__WEBPACK_IMPORTED_MODULE_27__),core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(33321),core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_28__),core_js_modules_esnext_global_this_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(65743),core_js_modules_esnext_global_this_js__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(core_js_modules_esnext_global_this_js__WEBPACK_IMPORTED_MODULE_29__),core_js_modules_es_object_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(68304),core_js_modules_es_object_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_30___default=__webpack_require__.n(core_js_modules_es_object_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_30__),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(24603),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_31___default=__webpack_require__.n(core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_31__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(39714),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_32___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_32__),core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(83710),core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_33___default=__webpack_require__.n(core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_33__),core_js_modules_es_object_is_extensible_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(41825),core_js_modules_es_object_is_extensible_js__WEBPACK_IMPORTED_MODULE_34___default=__webpack_require__.n(core_js_modules_es_object_is_extensible_js__WEBPACK_IMPORTED_MODULE_34__),core_js_modules_es_object_seal_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(60514),core_js_modules_es_object_seal_js__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(core_js_modules_es_object_seal_js__WEBPACK_IMPORTED_MODULE_35__),core_js_modules_es_weak_map_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(4129),core_js_modules_es_weak_map_js__WEBPACK_IMPORTED_MODULE_36___default=__webpack_require__.n(core_js_modules_es_weak_map_js__WEBPACK_IMPORTED_MODULE_36__),core_js_modules_esnext_weak_map_delete_all_js__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(78206),core_js_modules_esnext_weak_map_delete_all_js__WEBPACK_IMPORTED_MODULE_37___default=__webpack_require__.n(core_js_modules_esnext_weak_map_delete_all_js__WEBPACK_IMPORTED_MODULE_37__),core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(51532),core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_38___default=__webpack_require__.n(core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_38__),core_js_modules_esnext_map_delete_all_js__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(10072),core_js_modules_esnext_map_delete_all_js__WEBPACK_IMPORTED_MODULE_39___default=__webpack_require__.n(core_js_modules_esnext_map_delete_all_js__WEBPACK_IMPORTED_MODULE_39__),core_js_modules_esnext_map_every_js__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(99137),core_js_modules_esnext_map_every_js__WEBPACK_IMPORTED_MODULE_40___default=__webpack_require__.n(core_js_modules_esnext_map_every_js__WEBPACK_IMPORTED_MODULE_40__),core_js_modules_esnext_map_filter_js__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(71957),core_js_modules_esnext_map_filter_js__WEBPACK_IMPORTED_MODULE_41___default=__webpack_require__.n(core_js_modules_esnext_map_filter_js__WEBPACK_IMPORTED_MODULE_41__),core_js_modules_esnext_map_find_js__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(96306),core_js_modules_esnext_map_find_js__WEBPACK_IMPORTED_MODULE_42___default=__webpack_require__.n(core_js_modules_esnext_map_find_js__WEBPACK_IMPORTED_MODULE_42__),core_js_modules_esnext_map_find_key_js__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(103),core_js_modules_esnext_map_find_key_js__WEBPACK_IMPORTED_MODULE_43___default=__webpack_require__.n(core_js_modules_esnext_map_find_key_js__WEBPACK_IMPORTED_MODULE_43__),core_js_modules_esnext_map_includes_js__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(74592),core_js_modules_esnext_map_includes_js__WEBPACK_IMPORTED_MODULE_44___default=__webpack_require__.n(core_js_modules_esnext_map_includes_js__WEBPACK_IMPORTED_MODULE_44__),core_js_modules_esnext_map_key_of_js__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(58276),core_js_modules_esnext_map_key_of_js__WEBPACK_IMPORTED_MODULE_45___default=__webpack_require__.n(core_js_modules_esnext_map_key_of_js__WEBPACK_IMPORTED_MODULE_45__),core_js_modules_esnext_map_map_keys_js__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(35082),core_js_modules_esnext_map_map_keys_js__WEBPACK_IMPORTED_MODULE_46___default=__webpack_require__.n(core_js_modules_esnext_map_map_keys_js__WEBPACK_IMPORTED_MODULE_46__),core_js_modules_esnext_map_map_values_js__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(12813),core_js_modules_esnext_map_map_values_js__WEBPACK_IMPORTED_MODULE_47___default=__webpack_require__.n(core_js_modules_esnext_map_map_values_js__WEBPACK_IMPORTED_MODULE_47__),core_js_modules_esnext_map_merge_js__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__(18222),core_js_modules_esnext_map_merge_js__WEBPACK_IMPORTED_MODULE_48___default=__webpack_require__.n(core_js_modules_esnext_map_merge_js__WEBPACK_IMPORTED_MODULE_48__),core_js_modules_esnext_map_reduce_js__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__(38563),core_js_modules_esnext_map_reduce_js__WEBPACK_IMPORTED_MODULE_49___default=__webpack_require__.n(core_js_modules_esnext_map_reduce_js__WEBPACK_IMPORTED_MODULE_49__),core_js_modules_esnext_map_some_js__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__(50336),core_js_modules_esnext_map_some_js__WEBPACK_IMPORTED_MODULE_50___default=__webpack_require__.n(core_js_modules_esnext_map_some_js__WEBPACK_IMPORTED_MODULE_50__),core_js_modules_esnext_map_update_js__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__(7512),core_js_modules_esnext_map_update_js__WEBPACK_IMPORTED_MODULE_51___default=__webpack_require__.n(core_js_modules_esnext_map_update_js__WEBPACK_IMPORTED_MODULE_51__),core_js_modules_es_date_now_js__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__(3843),core_js_modules_es_date_now_js__WEBPACK_IMPORTED_MODULE_52___default=__webpack_require__.n(core_js_modules_es_date_now_js__WEBPACK_IMPORTED_MODULE_52__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_53__=__webpack_require__(68309),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_53___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_53__),core_js_modules_es_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_54__=__webpack_require__(94986),core_js_modules_es_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_54___default=__webpack_require__.n(core_js_modules_es_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_54__),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_55__=__webpack_require__(85827),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_55___default=__webpack_require__.n(core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_55__),core_js_modules_es_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_56__=__webpack_require__(96644),core_js_modules_es_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_56___default=__webpack_require__.n(core_js_modules_es_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_56__),core_js_modules_es_array_every_js__WEBPACK_IMPORTED_MODULE_57__=__webpack_require__(26541),core_js_modules_es_array_every_js__WEBPACK_IMPORTED_MODULE_57___default=__webpack_require__.n(core_js_modules_es_array_every_js__WEBPACK_IMPORTED_MODULE_57__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_58__=__webpack_require__(92222),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_58___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_58__),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_59__=__webpack_require__(73210),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_59___default=__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_59__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_60__=__webpack_require__(15306),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_60___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_60__),core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_61__=__webpack_require__(91058),core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_61___default=__webpack_require__.n(core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_61__),core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_62__=__webpack_require__(88674),core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_62___default=__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_62__),core_js_modules_web_immediate_js__WEBPACK_IMPORTED_MODULE_63__=__webpack_require__(84633),core_js_modules_web_immediate_js__WEBPACK_IMPORTED_MODULE_63___default=__webpack_require__.n(core_js_modules_web_immediate_js__WEBPACK_IMPORTED_MODULE_63__),core_js_modules_es_array_buffer_slice_js__WEBPACK_IMPORTED_MODULE_64__=__webpack_require__(39575),core_js_modules_es_array_buffer_slice_js__WEBPACK_IMPORTED_MODULE_64___default=__webpack_require__.n(core_js_modules_es_array_buffer_slice_js__WEBPACK_IMPORTED_MODULE_64__),core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_65__=__webpack_require__(82472),core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_65___default=__webpack_require__.n(core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_65__),core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_66__=__webpack_require__(92990),core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_66___default=__webpack_require__.n(core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_66__),core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_67__=__webpack_require__(18927),core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_67___default=__webpack_require__.n(core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_67__),core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_68__=__webpack_require__(33105),core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_68___default=__webpack_require__.n(core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_68__),core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_69__=__webpack_require__(35035),core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_69___default=__webpack_require__.n(core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_69__),core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_70__=__webpack_require__(74345),core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_70___default=__webpack_require__.n(core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_70__),core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_71__=__webpack_require__(7174),core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_71___default=__webpack_require__.n(core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_71__),core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_72__=__webpack_require__(32846),core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_72___default=__webpack_require__.n(core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_72__),core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_73__=__webpack_require__(44731),core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_73___default=__webpack_require__.n(core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_73__),core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_74__=__webpack_require__(77209),core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_74___default=__webpack_require__.n(core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_74__),core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_75__=__webpack_require__(96319),core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_75___default=__webpack_require__.n(core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_75__),core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_76__=__webpack_require__(58867),core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_76___default=__webpack_require__.n(core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_76__),core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_77__=__webpack_require__(37789),core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_77___default=__webpack_require__.n(core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_77__),core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_78__=__webpack_require__(33739),core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_78___default=__webpack_require__.n(core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_78__),core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_79__=__webpack_require__(29368),core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_79___default=__webpack_require__.n(core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_79__),core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_80__=__webpack_require__(14483),core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_80___default=__webpack_require__.n(core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_80__),core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_81__=__webpack_require__(12056),core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_81___default=__webpack_require__.n(core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_81__),core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_82__=__webpack_require__(3462),core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_82___default=__webpack_require__.n(core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_82__),core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_83__=__webpack_require__(30678),core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_83___default=__webpack_require__.n(core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_83__),core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_84__=__webpack_require__(27462),core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_84___default=__webpack_require__.n(core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_84__),core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_85__=__webpack_require__(33824),core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_85___default=__webpack_require__.n(core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_85__),core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_86__=__webpack_require__(55021),core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_86___default=__webpack_require__.n(core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_86__),core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_87__=__webpack_require__(12974),core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_87___default=__webpack_require__.n(core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_87__),core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_88__=__webpack_require__(15016),core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_88___default=__webpack_require__.n(core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_88__),core_js_modules_es_array_buffer_constructor_js__WEBPACK_IMPORTED_MODULE_89__=__webpack_require__(18264),core_js_modules_es_array_buffer_constructor_js__WEBPACK_IMPORTED_MODULE_89___default=__webpack_require__.n(core_js_modules_es_array_buffer_constructor_js__WEBPACK_IMPORTED_MODULE_89__),core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_90__=__webpack_require__(38880),core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_90___default=__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_90__),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_91__=__webpack_require__(4723),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_91___default=__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_91__),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_92__=__webpack_require__(70189),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_92___default=__webpack_require__.n(core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_92__),core_js_modules_esnext_set_add_all_js__WEBPACK_IMPORTED_MODULE_93__=__webpack_require__(88921),core_js_modules_esnext_set_add_all_js__WEBPACK_IMPORTED_MODULE_93___default=__webpack_require__.n(core_js_modules_esnext_set_add_all_js__WEBPACK_IMPORTED_MODULE_93__),core_js_modules_esnext_set_delete_all_js__WEBPACK_IMPORTED_MODULE_94__=__webpack_require__(96248),core_js_modules_esnext_set_delete_all_js__WEBPACK_IMPORTED_MODULE_94___default=__webpack_require__.n(core_js_modules_esnext_set_delete_all_js__WEBPACK_IMPORTED_MODULE_94__),core_js_modules_esnext_set_difference_js__WEBPACK_IMPORTED_MODULE_95__=__webpack_require__(13599),core_js_modules_esnext_set_difference_js__WEBPACK_IMPORTED_MODULE_95___default=__webpack_require__.n(core_js_modules_esnext_set_difference_js__WEBPACK_IMPORTED_MODULE_95__),core_js_modules_esnext_set_every_js__WEBPACK_IMPORTED_MODULE_96__=__webpack_require__(11477),core_js_modules_esnext_set_every_js__WEBPACK_IMPORTED_MODULE_96___default=__webpack_require__.n(core_js_modules_esnext_set_every_js__WEBPACK_IMPORTED_MODULE_96__),core_js_modules_esnext_set_filter_js__WEBPACK_IMPORTED_MODULE_97__=__webpack_require__(64362),core_js_modules_esnext_set_filter_js__WEBPACK_IMPORTED_MODULE_97___default=__webpack_require__.n(core_js_modules_esnext_set_filter_js__WEBPACK_IMPORTED_MODULE_97__),core_js_modules_esnext_set_find_js__WEBPACK_IMPORTED_MODULE_98__=__webpack_require__(15389),core_js_modules_esnext_set_find_js__WEBPACK_IMPORTED_MODULE_98___default=__webpack_require__.n(core_js_modules_esnext_set_find_js__WEBPACK_IMPORTED_MODULE_98__),core_js_modules_esnext_set_intersection_js__WEBPACK_IMPORTED_MODULE_99__=__webpack_require__(90401),core_js_modules_esnext_set_intersection_js__WEBPACK_IMPORTED_MODULE_99___default=__webpack_require__.n(core_js_modules_esnext_set_intersection_js__WEBPACK_IMPORTED_MODULE_99__),core_js_modules_esnext_set_is_disjoint_from_js__WEBPACK_IMPORTED_MODULE_100__=__webpack_require__(45164),core_js_modules_esnext_set_is_disjoint_from_js__WEBPACK_IMPORTED_MODULE_100___default=__webpack_require__.n(core_js_modules_esnext_set_is_disjoint_from_js__WEBPACK_IMPORTED_MODULE_100__),core_js_modules_esnext_set_is_subset_of_js__WEBPACK_IMPORTED_MODULE_101__=__webpack_require__(91238),core_js_modules_esnext_set_is_subset_of_js__WEBPACK_IMPORTED_MODULE_101___default=__webpack_require__.n(core_js_modules_esnext_set_is_subset_of_js__WEBPACK_IMPORTED_MODULE_101__),core_js_modules_esnext_set_is_superset_of_js__WEBPACK_IMPORTED_MODULE_102__=__webpack_require__(54837),core_js_modules_esnext_set_is_superset_of_js__WEBPACK_IMPORTED_MODULE_102___default=__webpack_require__.n(core_js_modules_esnext_set_is_superset_of_js__WEBPACK_IMPORTED_MODULE_102__),core_js_modules_esnext_set_join_js__WEBPACK_IMPORTED_MODULE_103__=__webpack_require__(87485),core_js_modules_esnext_set_join_js__WEBPACK_IMPORTED_MODULE_103___default=__webpack_require__.n(core_js_modules_esnext_set_join_js__WEBPACK_IMPORTED_MODULE_103__),core_js_modules_esnext_set_map_js__WEBPACK_IMPORTED_MODULE_104__=__webpack_require__(56767),core_js_modules_esnext_set_map_js__WEBPACK_IMPORTED_MODULE_104___default=__webpack_require__.n(core_js_modules_esnext_set_map_js__WEBPACK_IMPORTED_MODULE_104__),core_js_modules_esnext_set_reduce_js__WEBPACK_IMPORTED_MODULE_105__=__webpack_require__(76651),core_js_modules_esnext_set_reduce_js__WEBPACK_IMPORTED_MODULE_105___default=__webpack_require__.n(core_js_modules_esnext_set_reduce_js__WEBPACK_IMPORTED_MODULE_105__),core_js_modules_esnext_set_some_js__WEBPACK_IMPORTED_MODULE_106__=__webpack_require__(61437),core_js_modules_esnext_set_some_js__WEBPACK_IMPORTED_MODULE_106___default=__webpack_require__.n(core_js_modules_esnext_set_some_js__WEBPACK_IMPORTED_MODULE_106__),core_js_modules_esnext_set_symmetric_difference_js__WEBPACK_IMPORTED_MODULE_107__=__webpack_require__(35285),core_js_modules_esnext_set_symmetric_difference_js__WEBPACK_IMPORTED_MODULE_107___default=__webpack_require__.n(core_js_modules_esnext_set_symmetric_difference_js__WEBPACK_IMPORTED_MODULE_107__),core_js_modules_esnext_set_union_js__WEBPACK_IMPORTED_MODULE_108__=__webpack_require__(39865),core_js_modules_esnext_set_union_js__WEBPACK_IMPORTED_MODULE_108___default=__webpack_require__.n(core_js_modules_esnext_set_union_js__WEBPACK_IMPORTED_MODULE_108__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_109__=__webpack_require__(47941),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_109___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_109__),core_js_modules_es_string_ends_with_js__WEBPACK_IMPORTED_MODULE_110__=__webpack_require__(27852),core_js_modules_es_string_ends_with_js__WEBPACK_IMPORTED_MODULE_110___default=__webpack_require__.n(core_js_modules_es_string_ends_with_js__WEBPACK_IMPORTED_MODULE_110__),core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_111__=__webpack_require__(91038),core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_111___default=__webpack_require__.n(core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_111__),core_js_modules_es_string_repeat_js__WEBPACK_IMPORTED_MODULE_112__=__webpack_require__(82481),core_js_modules_es_string_repeat_js__WEBPACK_IMPORTED_MODULE_112___default=__webpack_require__.n(core_js_modules_es_string_repeat_js__WEBPACK_IMPORTED_MODULE_112__),core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_113__=__webpack_require__(30489),core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_113___default=__webpack_require__.n(core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_113__),Buffer=__webpack_require__(48764).Buffer;window.jsapi_||(window.jsapi_={},function(){function e(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function t(e){this.time=e.time,this.target=e.target,this.rootBounds=i(e.rootBounds),this.boundingClientRect=i(e.boundingClientRect),this.intersectionRect=i(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect,e=(e=this.boundingClientRect).width*e.height;var t=this.intersectionRect;t=t.width*t.height,this.intersectionRatio=e?Number((t/e).toFixed(4)):this.isIntersecting?1:0}function n(e,t){var n=t||{};if("function"!=typeof e)throw Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw Error("root must be an Element");this.g=function(e,t){var n=null;return function(){n||(n=setTimeout((function(){e(),n=null}),t))}}(this.g.bind(this),this.v),this.B=e,this.a=[],this.b=[],this.l=this.H(n.rootMargin),this.thresholds=this.G(n.threshold),this.root=n.root||null,this.rootMargin=this.l.map((function(e){return e.value+e.u})).join(" "),this.c=[],this.f=[]}function r(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function o(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.M&&e.M("on"+t,n)}function a(e){try{var t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function i(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function s(e,t){for(var n=t;n;){if(n==e)return!0;n=c(n)}return!1}function c(t){var n=t.parentNode;return 9==t.nodeType&&t!=l?e(t):n&&11==n.nodeType&&n.host?n.host:n&&n.assignedSlot?n.assignedSlot.parentNode:n}if("object"===("undefined"==typeof window?"undefined":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(window)))if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var l=function(t){for(var n=e(t);n;)n=e(t=n.ownerDocument);return t}(window.document),u=[];n.prototype.v=100,n.prototype.h=null,n.prototype.A=!0,n.prototype.observe=function(e){if(!this.a.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw Error("target must be an Element");this.I(),this.a.push({element:e,s:null}),this.j(e.ownerDocument),this.g()}},n.prototype.unobserve=function(e){this.a=this.a.filter((function(t){return t.element!=e})),this.m(e.ownerDocument),0==this.a.length&&this.o()},n.prototype.disconnect=function(){this.a=[],this.L(),this.o()},n.prototype.takeRecords=function(){var e=this.b.slice();return this.b=[],e},n.prototype.G=function(e){return e=e||[0],Array.isArray(e)||(e=[e]),e.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||0>e||1<e)throw Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},n.prototype.H=function(e){return(e=(e||"0px").split(/\s+/).map((function(e){if(!(e=/^(-?\d*\.?\d+)(px|%)$/.exec(e)))throw Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),u:e[2]}})))[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},n.prototype.j=function(t){var n=t.defaultView;if(n&&-1==this.c.indexOf(t)){var a=this.g,i=null,s=null;this.h?i=n.setInterval(a,this.h):(r(n,"resize",a,!0),r(t,"scroll",a,!0),this.A&&"MutationObserver"in n&&(s=new n.MutationObserver(a)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this.c.push(t),this.f.push((function(){var e=t.defaultView;e&&(i&&e.clearInterval(i),o(e,"resize",a,!0)),o(t,"scroll",a,!0),s&&s.disconnect()})),t!=(this.root&&this.root.ownerDocument||l)&&(n=e(t))&&this.j(n.ownerDocument)}},n.prototype.m=function(t){var n=this.c.indexOf(t);if(-1!=n){var r=this.root&&this.root.ownerDocument||l;if(!this.a.some((function(n){if((n=n.element.ownerDocument)==t)return!0;for(;n&&n!=r;)if((n=(n=e(n))&&n.ownerDocument)==t)return!0;return!1}))){var o=this.f[n];this.c.splice(n,1),this.f.splice(n,1),o(),t!=r&&(n=e(t))&&this.m(n.ownerDocument)}}},n.prototype.L=function(){var e=this.f.slice(0);this.c.length=0;for(var t=this.f.length=0;t<e.length;t++)e[t]()},n.prototype.g=function(){var e=this.K(),n=e?this.D():{top:0,bottom:0,left:0,right:0,width:0,height:0};this.a.forEach((function(r){var o=r.element,i=a(o),s=this.J(o),c=r.s,l=e&&s&&this.i(o,i,n);r=r.s=new t({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:i,rootBounds:n,intersectionRect:l}),c?e&&s?this.F(c,r)&&this.b.push(r):c&&c.isIntersecting&&this.b.push(r):this.b.push(r)}),this),this.b.length&&this.B(this.takeRecords(),this)},n.prototype.i=function(e,t,n){if("none"!=window.getComputedStyle(e).display){var r=t;for(t=c(e),e=!1;!e&&t;){var o=null,i=1==t.nodeType?window.getComputedStyle(t):{};if("none"==i.display)return null;if(t==this.root||9==t.nodeType)if(e=!0,t==this.root||t==l)o=n;else{var s=(t=c(t))&&a(t);i=t&&this.i(t,s,n),s&&i?o={top:o=i.top-s.top,left:s=i.left-s.left,height:i.height,width:i.width,bottom:o+i.height,right:s+i.width}:r=t=null}else t!=(s=t.ownerDocument).body&&t!=s.documentElement&&"visible"!=i.overflow&&(o=a(t));if(o){i=Math.max(o.top,r.top),s=Math.min(o.bottom,r.bottom);var u=Math.max(o.left,r.left),p=s-i;r=0<=(o=(r=Math.min(o.right,r.right))-u)&&0<=p&&{top:i,bottom:s,left:u,right:r,width:o,height:p}||null}if(!r)break;t=t&&c(t)}return r}},n.prototype.D=function(){if(this.root)var e=a(this.root);else{e=l.documentElement;var t=l.body;e={top:0,left:0,right:e.clientWidth||t.clientWidth,width:e.clientWidth||t.clientWidth,bottom:e.clientHeight||t.clientHeight,height:e.clientHeight||t.clientHeight}}return this.C(e)},n.prototype.C=function(e){var t=this.l.map((function(t,n){return"px"==t.u?t.value:t.value*(n%2?e.width:e.height)/100}));return(t={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]}).width=t.right-t.left,t.height=t.bottom-t.top,t},n.prototype.F=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var a=this.thresholds[o];if(a==n||a==r||a<n!=a<r)return!0}},n.prototype.K=function(){return!this.root||s(l,this.root)},n.prototype.J=function(e){return s(this.root||l,e)&&(!this.root||this.root.ownerDocument==e.ownerDocument)},n.prototype.I=function(){0>u.indexOf(this)&&u.push(this)},n.prototype.o=function(){var e=u.indexOf(this);-1!=e&&u.splice(e,1)},window.IntersectionObserver=n,window.IntersectionObserverEntry=t}}(),function(){var l;function ba(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function ca(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:ba(e)}}var da="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t},ea="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function fa(e){e=["object"==("undefined"==typeof globalThis?"undefined":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(globalThis))&&globalThis,e,"object"==("undefined"==typeof window?"undefined":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(window))&&window,"object"==("undefined"==typeof self?"undefined":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(self))&&self,"object"==(void 0===__webpack_require__.g?"undefined":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(__webpack_require__.g))&&__webpack_require__.g];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var ha=fa(this),ja;function ia(e,t){if(t)e:{for(var n=ha,r=e.split("."),o=0;o<r.length-1;o++){var a=r[o];if(!(a in n))break e;n=n[a]}(a=t(o=n[r=r[r.length-1]]))!=o&&null!=a&&ea(n,r,{configurable:!0,writable:!0,value:a})}}if("function"==typeof Object.setPrototypeOf)ja=Object.setPrototypeOf;else{var ka;e:{var na={Mb:!0},oa={};try{oa.__proto__=na,ka=oa.Mb;break e}catch(a){}ka=!1}ja=ka?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var pa=ja;function qa(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function ra(e,t){return Object.prototype.hasOwnProperty.call(e,t)}ia("String.prototype.endsWith",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.endsWith must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.endsWith must not be a regular expression");void 0===t&&(t=this.length);for(var n=Math.max(0,Math.min(0|t,this.length)),r=e.length;0<r&&0<n;)if(this[--n]!=e[--r])return!1;return 0>=r}})),ia("Symbol",(function(e){function t(e,t){this.a=e,ea(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.a};var n=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t("jscomp_symbol_"+(r||"")+"_"+n++,r)}})),ia("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=ha[t[n]];"function"==typeof r&&"function"!=typeof r.prototype[e]&&ea(r.prototype,e,{configurable:!0,writable:!0,value:function(){return qa(ba(this))}})}return e})),ia("WeakMap",(function(e){function t(e){if(this.L=(s+=Math.random()+1).toString(),e){e=ca(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function r(e){var t=_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e);return"object"===t&&null!==e||"function"===t}function o(e){if(!ra(e,i)){var t=new n;ea(e,i,{value:t})}}function a(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&o(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(e){return!1}}())return e;var i="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var s=0;return t.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(o(e),!ra(e,i))throw Error("WeakMap key fail: "+e);return e[i][this.L]=t,this},t.prototype.get=function(e){return r(e)&&ra(e,i)?e[i][this.L]:void 0},t.prototype.has=function(e){return r(e)&&ra(e,i)&&ra(e[i],this.L)},t.prototype.delete=function(e){return!!(r(e)&&ra(e,i)&&ra(e[i],this.L))&&delete e[i][this.L]},t})),ia("Map",(function(e){function t(){var e={};return e.ma=e.next=e.head=e}function n(e,t){var n=e.a;return qa((function(){if(n){for(;n.head!=e.a;)n=n.ma;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t);"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++i,a.set(t,n)):n="p_"+t;var r=e.b[n];if(r&&ra(e.b,n))for(var o=0;o<r.length;o++){var s=r[o];if(t!=t&&s.key!=s.key||t===s.key)return{id:n,list:r,index:o,V:s}}return{id:n,list:r,index:-1,V:void 0}}function o(e){if(this.b={},this.a=t(),this.size=0,e){e=ca(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(ca([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),o=r.next();return!o.done&&o.value[0]==t&&"s"==o.value[1]&&!((o=r.next()).done||4!=o.value[0].x||"t"!=o.value[1]||!r.next().done)}catch(e){return!1}}())return e;var a=new WeakMap;o.prototype.set=function(e,t){var n=r(this,e=0===e?0:e);return n.list||(n.list=this.b[n.id]=[]),n.V?n.V.value=t:(n.V={next:this.a,ma:this.a.ma,head:this.a,key:e,value:t},n.list.push(n.V),this.a.ma.next=n.V,this.a.ma=n.V,this.size++),this},o.prototype.delete=function(e){return!(!(e=r(this,e)).V||!e.list||(e.list.splice(e.index,1),e.list.length||delete this.b[e.id],e.V.ma.next=e.V.next,e.V.next.ma=e.V.ma,e.V.head=null,this.size--,0))},o.prototype.clear=function(){this.b={},this.a=this.a.ma=t(),this.size=0},o.prototype.has=function(e){return!!r(this,e).V},o.prototype.get=function(e){return(e=r(this,e).V)&&e.value},o.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},o.prototype.keys=function(){return n(this,(function(e){return e.key}))},o.prototype.values=function(){return n(this,(function(e){return e.value}))},o.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},o.prototype[Symbol.iterator]=o.prototype.entries;var i=0;return o})),ia("Set",(function(e){function t(e){if(this.a=new Map,e){e=ca(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.a.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(ca([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),o=r.next();return!o.done&&o.value[0]==t&&o.value[1]==t&&!(o=r.next()).done&&o.value[0]!=t&&4==o.value[0].x&&o.value[1]==o.value[0]&&r.next().done}catch(e){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.a.set(e,e),this.size=this.a.size,this},t.prototype.delete=function(e){return e=this.a.delete(e),this.size=this.a.size,e},t.prototype.clear=function(){this.a.clear(),this.size=0},t.prototype.has=function(e){return this.a.has(e)},t.prototype.entries=function(){return this.a.entries()},t.prototype.values=function(){return this.a.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.a.forEach((function(r){return e.call(t,r,r,n)}))},t)})),ia("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var r=[],o="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof o){e=o.call(e);for(var a=0;!(o=e.next()).done;)r.push(t.call(n,o.value,a++))}else for(o=e.length,a=0;a<o;a++)r.push(t.call(n,e[a],a));return r}}));var sa=sa||{},n=this||self,ua=/^[\w+/_-]+[=]{0,2}$/,va=null;function wa(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&ua.test(e)?e:""}function xa(){}function ya(e){e.fb=void 0,e.l=function(){return e.fb?e.fb:e.fb=new e}}function za(e){var t=_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e);return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function Aa(e){var t=za(e);return"array"==t||"object"==t&&"number"==typeof e.length}function Ba(e){return"function"==za(e)}function q(e){var t=_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e);return"object"==t&&null!=e||"function"==t}function Ca(e){return Object.prototype.hasOwnProperty.call(e,Da)&&e[Da]||(e[Da]=++Ea)}var Da="closure_uid_"+(1e9*Math.random()>>>0),Ea=0;function Fa(e,t,n){return e.call.apply(e.bind,arguments)}function Ga(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ha(e,t,n){return(Ha=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fa:Ga).apply(null,arguments)}function Ia(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var Ja=Date.now||function(){return+new Date},Na;function r(e,t){var r,o=e.split("."),a=n;o[0]in a||void 0===a.execScript||a.execScript("var "+o[0]);for(;o.length&&(r=o.shift());)o.length||void 0===t?a=a[r]&&a[r]!==Object.prototype[r]?a[r]:a[r]={}:a[r]=t}function t(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e}function Ka(e){return e}function La(e){if(Error.captureStackTrace)Error.captureStackTrace(this,La);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function Oa(e,t){for(var n=e.split("%s"),r="",o=n.length-1,a=0;a<o;a++)r+=n[a]+(a<t.length?t[a]:"%s");La.call(this,r+n[o])}t(La,Error),La.prototype.name="CustomError",t(Oa,La),Oa.prototype.name="AssertionError";var Pa=Array.prototype.indexOf?function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,"string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,n);for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Qa=Array.prototype.lastIndexOf?function(e,t,n){return Array.prototype.lastIndexOf.call(e,t,null==n?e.length-1:n)}:function(e,t,n){if(0>(n=null==n?e.length-1:n)&&(n=Math.max(0,e.length+n)),"string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.lastIndexOf(t,n);for(;0<=n;n--)if(n in e&&e[n]===t)return n;return-1},u=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o="string"==typeof e?e.split(""):e,a=0;a<r;a++)a in o&&t.call(n,o[a],a,e)};function Ra(e,t,n){for(var r="string"==typeof e?e.split(""):e,o=e.length-1;0<=o;--o)o in r&&t.call(n,r[o],o,e)}var Sa=Array.prototype.filter?function(e,t,n){return Array.prototype.filter.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=[],a=0,i="string"==typeof e?e.split(""):e,s=0;s<r;s++)if(s in i){var c=i[s];t.call(n,c,s,e)&&(o[a++]=c)}return o},Ta=Array.prototype.map?function(e,t,n){return Array.prototype.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=Array(r),a="string"==typeof e?e.split(""):e,i=0;i<r;i++)i in a&&(o[i]=t.call(n,a[i],i,e));return o},Ua=Array.prototype.reduce?function(e,t,n,r){return r&&(t=Ha(t,r)),Array.prototype.reduce.call(e,t,n)}:function(e,t,n,r){var o=n;return u(e,(function(n,a){o=t.call(r,o,n,a,e)})),o},Va=Array.prototype.reduceRight?function(e,t,n,r){return r&&(t=Ha(t,r)),Array.prototype.reduceRight.call(e,t,n)}:function(e,t,n,r){var o=n;return Ra(e,(function(n,a){o=t.call(r,o,n,a,e)})),o},Wa=Array.prototype.some?function(e,t,n){return Array.prototype.some.call(e,t,n)}:function(e,t,n){for(var r=e.length,o="string"==typeof e?e.split(""):e,a=0;a<r;a++)if(a in o&&t.call(n,o[a],a,e))return!0;return!1},Xa=Array.prototype.every?function(e,t,n){return Array.prototype.every.call(e,t,n)}:function(e,t,n){for(var r=e.length,o="string"==typeof e?e.split(""):e,a=0;a<r;a++)if(a in o&&!t.call(n,o[a],a,e))return!1;return!0};function Ya(e,t,n){return 0>(t=Za(e,t,n))?null:"string"==typeof e?e.charAt(t):e[t]}function Za(e,t,n){for(var r=e.length,o="string"==typeof e?e.split(""):e,a=0;a<r;a++)if(a in o&&t.call(n,o[a],a,e))return a;return-1}function $a(e,t,n){for(var r="string"==typeof e?e.split(""):e,o=e.length-1;0<=o;o--)if(o in r&&t.call(n,r[o],o,e))return o;return-1}function ab(e,t){return 0<=Pa(e,t)}function bb(e){return 0==e.length}function cb(e,t,n){db(e,n,0,t)}function eb(e,t){var n,r=Pa(e,t);return(n=0<=r)&&fb(e,r),n}function fb(e,t){return 1==Array.prototype.splice.call(e,t,1).length}function gb(e){return Array.prototype.concat.apply([],arguments)}function hb(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function db(e,t,n,r){return Array.prototype.splice.apply(e,ib(arguments,1))}function ib(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}function jb(e,t,n){return kb(e,n||lb,!1,t)}function kb(e,t,n,r,o){for(var a,i=0,s=e.length;i<s;){var c,l=i+(s-i>>>1);0<(c=n?t.call(o,e[l],l,e):t(r,e[l]))?i=l+1:(s=l,a=!c)}return a?i:-i-1}function mb(e,t){e.sort(t||lb)}function nb(e,t,n){var r=n||lb;mb(e,(function(e,n){return r(t(e),t(n))}))}function lb(e,t){return e>t?1:e<t?-1:0}function ob(e,t){return e===t}function pb(e,t){return gb.apply([],Ta(e,t,void 0))}function qb(e){return void 0!==e}function w(e){return"string"==typeof e}function rb(e){return"boolean"==typeof e}function x(e){return"number"==typeof e}function sb(e){return"array"===za(e)}function B(e){return"function"===za(e)}function tb(){return null}function ub(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function vb(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n}function wb(){var e,t=xb;for(e in t)return!1;return!0}function yb(e,t){return null!==e&&t in e?e[t]:void 0}function zb(e){var t,n={};for(t in e)n[t]=e[t];return n}r("JsAPI.Array.indexOf",Pa),r("JsAPI.Array.lastIndexOf",Qa),r("JsAPI.Array.forEach",u),r("JsAPI.Array.forEachRight",Ra),r("JsAPI.Array.filter",Sa),r("JsAPI.Array.map",Ta),r("JsAPI.Array.reduce",Ua),r("JsAPI.Array.reduceRight",Va),r("JsAPI.Array.some",Wa),r("JsAPI.Array.every",Xa),r("JsAPI.Array.count",(function(e,t,n){var r=0;return u(e,(function(e,o,a){t.call(n,e,o,a)&&++r}),n),r})),r("JsAPI.Array.find",Ya),r("JsAPI.Array.findIndex",Za),r("JsAPI.Array.findRight",(function(e,t,n){return 0>(t=$a(e,t,n))?null:"string"==typeof e?e.charAt(t):e[t]})),r("JsAPI.Array.findIndexRight",$a),r("JsAPI.Array.contains",ab),r("JsAPI.Array.isEmpty",bb),r("JsAPI.Array.clear",(function(e){if(!Array.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0})),r("JsAPI.Array.insert",(function(e,t){ab(e,t)||e.push(t)})),r("JsAPI.Array.insertAt",cb),r("JsAPI.Array.insertArrayAt",(function(e,t,n){Ia(db,e,n,0).apply(null,t)})),r("JsAPI.Array.insertBefore",(function(e,t,n){var r;2==arguments.length||0>(r=Pa(e,n))?e.push(t):cb(e,t,r)})),r("JsAPI.Array.remove",eb),r("JsAPI.Array.removeAt",fb),r("JsAPI.Array.removeIf",(function(e,t,n){return 0<=(t=Za(e,t,n))&&(fb(e,t),!0)})),r("JsAPI.Array.removeAllIf",(function(e,t,n){var r=0;return Ra(e,(function(o,a){t.call(n,o,a,e)&&fb(e,a)&&r++})),r})),r("JsAPI.Array.concat",gb),r("JsAPI.Array.join",(function(e){return Array.prototype.concat.apply([],arguments)})),r("JsAPI.Array.clone",hb),r("JsAPI.Array.splice",db),r("JsAPI.Array.slice",ib),r("JsAPI.Array.removeDuplicates",(function(e,t,n){t=t||e,n=n||function(e){return q(e)?"o"+Ca(e):_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e).charAt(0)+e};for(var r={},o=0,a=0;a<e.length;){var i=e[a++],s=n(i);Object.prototype.hasOwnProperty.call(r,s)||(r[s]=!0,t[o++]=i)}t.length=o})),r("JsAPI.Array.binarySearch",jb),r("JsAPI.Array.binarySelect",(function(e,t,n){return kb(e,t,!0,void 0,n)})),r("JsAPI.Array.binaryInsert",(function(e,t,n){return 0>(n=jb(e,t,n))&&(cb(e,t,-(n+1)),!0)})),r("JsAPI.Array.binaryRemove",(function(e,t,n){return 0<=(t=jb(e,t,n))&&fb(e,t)})),r("JsAPI.Array.sort",mb),r("JsAPI.Array.sortByKey",nb),r("JsAPI.Array.sortObjectsByKey",(function(e,t,n){nb(e,(function(e){return e[t]}),n)})),r("JsAPI.Array.isSorted",(function(e,t,n){t=t||lb;for(var r=1;r<e.length;r++){var o=t(e[r-1],e[r]);if(0<o||0==o&&n)return!1}return!0})),r("JsAPI.Array.equals",(function(e,t,n){if(!Aa(e)||!Aa(t)||e.length!=t.length)return!1;var r=e.length;n=n||ob;for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1;return!0})),r("JsAPI.Array.defaultCompare",lb),r("JsAPI.Array.inverseDefaultCompare",(function(e,t){return-lb(e,t)})),r("JsAPI.Array.defaultCompareEquality",ob),r("JsAPI.Array.range",(function(e,t,n){var r=[],o=0,a=e;if(void 0!==t&&(o=e,a=t),0>(n=n||1)*(a-o))return[];if(0<n)for(e=o;e<a;e+=n)r.push(e);else for(e=o;e>a;e+=n)r.push(e);return r})),r("JsAPI.Array.repeat",(function(e,t){for(var n=[],r=0;r<t;r++)n[r]=e;return n})),r("JsAPI.Array.shuffle",(function(e,t){for(var n=t||Math.random,r=e.length-1;0<r;r--){var o=Math.floor(n()*(r+1)),a=e[r];e[r]=e[o],e[o]=a}}));var Ab="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Cb;function Bb(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var a=0;a<Ab.length;a++)n=Ab[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Db(){if(void 0===Cb){var e=null,t=n.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:Ka,createScript:Ka,createScriptURL:Ka})}catch(e){n.console&&n.console.error(e.message)}Cb=e}else Cb=e}return Cb}function Fb(e,t){this.a=e===Gb&&t||"",this.b=Hb}function Ib(e){return e instanceof Fb&&e.constructor===Fb&&e.b===Hb?e.a:"type_error:Const"}Fb.prototype.la=!0,Fb.prototype.fa=function(){return this.a};var Hb={},Gb={};function Jb(e,t){this.b=e===Kb&&t||"",this.c=Lb}function Mb(e){return e instanceof Jb&&e.constructor===Jb&&e.c===Lb?e.b:"type_error:TrustedResourceUrl"}Jb.prototype.la=!0,Jb.prototype.fa=function(){return this.b.toString()},Jb.prototype.eb=!0,Jb.prototype.a=function(){return 1};var Lb={},Kb={};function Nb(e){return/^[\s\xa0]*$/.test(e)}var D=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ob(e,t){if(t)e=e.replace(Pb,"&amp;").replace(Qb,"&lt;").replace(Rb,"&gt;").replace(Sb,"&quot;").replace(Tb,"&#39;").replace(Ub,"&#0;");else{if(!Vb.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(Pb,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(Qb,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(Rb,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(Sb,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(Tb,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(Ub,"&#0;"))}return e}var Pb=/&/g,Qb=/</g,Rb=/>/g,Sb=/"/g,Tb=/'/g,Ub=/\x00/g,Vb=/[\x00&<>"']/;function Wb(e,t){return e<t?-1:e>t?1:0}function Xb(e,t){this.b=e===Yb&&t||"",this.c=Zb}function $b(e){return e instanceof Xb&&e.constructor===Xb&&e.c===Zb?e.b:"type_error:SafeUrl"}Xb.prototype.la=!0,Xb.prototype.fa=function(){return this.b.toString()},Xb.prototype.eb=!0,Xb.prototype.a=function(){return 1};var ac=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function bc(e){return e instanceof Xb?e:(e="object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)&&e.la?e.fa():String(e),ac.test(e)||(e="about:invalid#zClosurez"),new Xb(Yb,e))}function cc(e){return e instanceof Xb?e:(e="object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)&&e.la?e.fa():String(e),ac.test(e)||(e="about:invalid#zClosurez"),new Xb(Yb,e))}var Zb={},Yb={};function dc(){this.a="",this.b=ec}dc.prototype.la=!0;var ec={};function fc(e){var t=new dc;return t.a=e,t}dc.prototype.fa=function(){return this.a};var gc=fc("");function hc(e){if(e instanceof Xb)return'url("'+$b(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e instanceof Fb)e=Ib(e);else{var t=(e=String(e)).replace(ic,"$1").replace(ic,"$1").replace(jc,"url");if(kc.test(t)){if(t=!lc.test(e)){for(var n=t=!0,r=0;r<e.length;r++){var o=e.charAt(r);"'"==o&&n?t=!t:'"'==o&&t&&(n=!n)}t=t&&n&&mc(e)}e=t?nc(e):"zClosurez"}else e="zClosurez"}if(/[{;}]/.test(e))throw new Oa("Value does not allow [{;}], got: %s.",[e]);return e}function mc(e){for(var t=!0,n=/^[-_a-zA-Z0-9]$/,r=0;r<e.length;r++){var o=e.charAt(r);if("]"==o){if(t)return!1;t=!0}else if("["==o){if(!t)return!1;t=!1}else if(!t&&!n.test(o))return!1}return t}var kc=/^[-,."'%_!# a-zA-Z0-9\[\]]+$/,jc=RegExp("\\b(url\\([ \t\n]*)('[ -&(-\\[\\]-~]*'|\"[ !#-\\[\\]-~]*\"|[!#-&*-\\[\\]-~]*)([ \t\n]*\\))","g"),ic=RegExp("\\b(calc|cubic-bezier|fit-content|hsl|hsla|linear-gradient|matrix|minmax|repeat|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?)\\([-+*/0-9a-z.%\\[\\], ]+\\)","g"),lc=/\/\*/;function nc(e){return e.replace(jc,(function(e,t,n,r){var o="";return e=bc(n=n.replace(/^(['"])(.*)\1$/,(function(e,t,n){return o=t,n}))).fa(),t+o+e+o+r}))}function oc(){this.a="",this.b=pc}oc.prototype.la=!0;var pc={};function qc(e,t){if(-1!=e.indexOf("<"))throw Error("Selector does not allow '<', got: "+e);var n=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(n))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);e:{for(var r={"(":")","[":"]"},o=[],a=0;a<n.length;a++){var i=n[a];if(r[i])o.push(r[i]);else{t:{var s=void 0;for(s in r)if(r[s]==i){s=!0;break t}s=!1}if(s&&o.pop()!=i){n=!1;break e}}}n=0==o.length}if(!n)throw Error("() and [] in selector must be balanced, got: "+e);if(!(t instanceof dc)){for(var c in r="",n=t){if(!/^[-_a-zA-Z0-9]+$/.test(c))throw Error("Name allows only [-_a-zA-Z0-9], got: "+c);null!=(o=n[c])&&(r+=c+":"+(o=Array.isArray(o)?Ta(o,hc).join(" "):hc(o))+";")}t=r?fc(r):gc}return rc(e+"{"+(t instanceof dc&&t.constructor===dc&&t.b===ec?t.a:"type_error:SafeStyle").replace(/</g,"\\3C ")+"}")}function sc(e){function t(e){Array.isArray(e)?u(e,t):n+=tc(e)}var n="";return u(arguments,t),rc(n)}function tc(e){return e instanceof oc&&e.constructor===oc&&e.b===pc?e.a:"type_error:SafeStyleSheet"}function rc(e){var t=new oc;return t.a=e,t}oc.prototype.fa=function(){return this.a};var uc=rc(""),vc;e:{var wc=n.navigator;if(wc){var xc=wc.userAgent;if(xc){vc=xc;break e}}vc=""}function E(e){return-1!=vc.indexOf(e)}function yc(){return E("Firefox")||E("FxiOS")}function zc(){return(E("Chrome")||E("CriOS"))&&!E("Edge")}function Ac(){this.b="",this.f=Bc,this.c=null}function Cc(e){return e instanceof Ac&&e.constructor===Ac&&e.f===Bc?e.b:"type_error:SafeHtml"}function Dc(e){if(e instanceof Ac)return e;var t="object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e),n=null;return t&&e.eb&&(n=e.a()),Ec(e=Ob(t&&e.la?e.fa():String(e)),n)}function Fc(e){var t=Dc(Gc),n=t.a(),r=[];return u(e,(function e(t){Array.isArray(t)?u(t,e):(t=Dc(t),r.push(Cc(t).toString()),t=t.a(),0==n?n=t:0!=t&&n!=t&&(n=null))})),Ec(r.join(Cc(t).toString()),n)}function Hc(e){return Fc(Array.prototype.slice.call(arguments))}Ac.prototype.eb=!0,Ac.prototype.a=function(){return this.c},Ac.prototype.la=!0,Ac.prototype.fa=function(){return this.b.toString()};var Bc={};function Ec(e,t){var n=new Ac,r=Db();return n.b=r?r.createHTML(e):e,n.c=t,n}var Ic=new Ac;Ic.b=n.trustedTypes&&n.trustedTypes.emptyHTML?n.trustedTypes.emptyHTML:"",Ic.c=0;var Gc=Ic,Jc=Ec("<br>",0),Kc=(b=!1,function(){return b||(c=function(){var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),t=e.firstChild.firstChild,e.innerHTML=Cc(Gc),!t.parentElement}(),b=!0),c}),c,b;function Lc(e,t){if(Kc())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=Cc(t)}function Mc(e,t){var r;e.src=Mb(t),(r=e.ownerDocument&&e.ownerDocument.defaultView)&&r!=n?r=wa(r.document):(null===va&&(va=wa(n.document)),r=va),r&&e.setAttribute("nonce",r)}function Nc(e,t,r,o){return e=e instanceof Xb?e:cc(e),(t||n).open($b(e),r instanceof Fb?Ib(r):r||"",o,void 0)}function Oc(e){return 0==e.length}function Pc(e){return Ob(e,void 0)}function Qc(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ja()).toString(36)}function Rc(e){return String(e).replace(/\-([a-z])/g,(function(e,t){return t.toUpperCase()}))}function Sc(e){return e.replace(RegExp("(^|[\\s]+)([a-z])","g"),(function(e,t,n){return t+n.toUpperCase()}))}function Tc(){this.a=Uc("smi2.ru"),this.b=Uc("exad.stat.media")}function Vc(){return"JsAPI Library 5.0.0-5"}function Wc(e){return e.a[Math.random()*e.a.length>>0]}function Xc(e){return e.b[Math.random()*e.b.length>>0]}function Uc(e){var t=[];e=sb(e)?e:e.split(",");for(var n=0;n<e.length;n++){var r=e[n];w(r)&&!Nb(r)&&t.push(D(r))}return t}function Yc(){for(var e=Array(128),t=0;128>t;t++)e[t]=0;this.a=e}function Zc(){this.a=new Yc}function $c(e,t){for(var n=ad(8*e.a.a.length),r=t.b,o=t.a,a=0;2>a;a++)e.a.set(bd(o.and(cd),n).H),o=o.add(r)}function dd(e){return dd[" "](e),e}function ed(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}function fd(e,t){this.H=0|e,this.a=0|t}function gd(e){return 4294967296*e.a+(e.H>>>0)}function ld(e){return 0==e.H&&0==e.a}function md(e,t){return e.H==t.H&&e.a==t.a}function nd(e,t){return e.a==t.a?e.H==t.H?0:e.H>>>0>t.H>>>0?1:-1:e.a>t.a?1:-1}function jd(e){var t=1+~e.H|0;return hd(t,~e.a+!t|0)}function kd(e,t){if(ld(e))return e;if(ld(t))return t;var n=e.a>>>16,r=65535&e.a,o=e.H>>>16,a=65535&e.H,i=t.a>>>16,s=65535&t.a,c=t.H>>>16,l=65535&t.H,u=a*l,p=(u>>>16)+o*l,d=p>>>16;d+=(p=(65535&p)+a*c)>>>16;var m=(d+=r*l)>>>16;return hd((65535&p)<<16|65535&u,(m=(m+=(d=(65535&d)+o*c)>>>16)+((d=(65535&d)+a*s)>>>16)+(n*l+r*c+o*s+a*i)&65535)<<16|65535&d)}function id(e,t){if(ld(t))throw Error("division by zero");if(0>e.a){if(md(e,od)){if(md(t,pd)||md(t,qd))return od;if(md(t,od))return pd;var n=rd(id(sd(e,1),t),1);if(md(n,td))return 0>t.a?pd:qd;var r=e.add(jd(kd(t,n)));return n.add(id(r,t))}return 0>t.a?id(jd(e),jd(t)):jd(id(jd(e),t))}if(ld(e))return td;if(0>t.a)return md(t,od)?td:jd(id(e,jd(t)));var o=td;for(r=e;0<=nd(r,t);){n=Math.max(1,Math.floor(gd(r)/gd(t)));var a=Math.ceil(Math.log(n)/Math.LN2);a=48>=a?1:Math.pow(2,a-48);for(var i=ud(n),s=kd(i,t);0>s.a||0<nd(s,r);)s=kd(i=ud(n-=a),t);ld(i)&&(i=pd),o=o.add(i),r=r.add(jd(s))}return o}function bd(e,t){var n=kd(id(e,t),t);return e.add(jd(n))}function rd(e,t){if(0==(t&=63))return e;var n=e.H;return 32>t?hd(n<<t,e.a<<t|n>>>32-t):hd(0,n<<t-32)}function sd(e,t){if(0==(t&=63))return e;var n=e.a;return 32>t?hd(e.H>>>t|n<<32-t,n>>t):hd(n>>t-32,0<=n?0:-1)}function vd(e,t){if(0==(t&=63))return e;var n=e.a;return 32>t?hd(e.H>>>t|n<<32-t,n>>>t):hd(32==t?n:n>>>t-32,0)}function ad(e){return-128<=(e|=0)&&128>e?wd(e):new fd(e,0>e?-1:0)}function ud(e){return 0<e?0x8000000000000000<=e?cd:new fd(e,e/4294967296):0>e?-0x8000000000000000>=e?od:jd(new fd(-e,-e/4294967296)):td}function hd(e,t){return new fd(e,t)}ya(Tc),r("JsAPI.Config.getAppName",(function(){return Tc.l(),"JsAPI Library"})),r("JsAPI.Config.getAppVersion",(function(){return Tc.l(),"5.0.0-5"})),r("JsAPI.Config.getAppNameVersion",(function(){return Vc(Tc.l())})),r("JsAPI.Config.getDomain",(function(){return Wc(Tc.l())})),r("JsAPI.Config.setDomain",(function(e){Tc.l().a=Uc(e)})),r("JsAPI.Config.getRtbDomain",(function(){return Xc(Tc.l())})),r("JsAPI.Config.setRtbDomain",(function(e){Tc.l().b=Uc(e)})),Yc.prototype.get=function(e){return 0!=(this.a[e/8>>0]&1<<e%8)},Yc.prototype.set=function(e){return!this.get(e)&&(this.a[e/8>>0]|=1<<e%8,!0)},dd[" "]=xa,l=fd.prototype,l.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);var t=this.a>>21;if(0==t||-1==t&&(0!=this.H||-2097152!=this.a))return t=gd(this),10==e?""+t:t.toString(e);t=14-(e>>2);var n=Math.pow(e,t),r=hd(n,n/4294967296);n=id(this,r),r=Math.abs(gd(this.add(jd(kd(n,r)))));var o=10==e?""+r:r.toString(e);return o.length<t&&(o="0000000000000".substr(o.length-t)+o),r=gd(n),(10==e?r:r.toString(e))+o},l.add=function(e){var t=this.a>>>16,n=65535&this.a,r=this.H>>>16,o=e.a>>>16,a=65535&e.a,i=e.H>>>16;return r=(i=((e=(65535&this.H)+(65535&e.H))>>>16)+(r+i))>>>16,hd((65535&i)<<16|65535&e,(t=((r+=n+a)>>>16)+(t+o)&65535)<<16|65535&r)},l.and=function(e){return hd(this.H&e.H,this.a&e.a)},l.or=function(e){return hd(this.H|e.H,this.a|e.a)},l.xor=function(e){return hd(this.H^e.H,this.a^e.a)};var xd={};function wd(e){return ed(xd,e,(function(e){return new fd(e,0>e?-1:0)}))}var td=hd(0,0),pd=hd(1,0),qd=hd(-1,-1),cd=hd(4294967295,2147483647),od=hd(0,2147483648);function yd(){this.a=ad(0),this.b=ad(0),this.c=td}var zd=ad(16),Ad=new fd(289559509,2277735313),Bd=new fd(658871167,1291169091),Cd=new fd(3981806797,4283543511),Dd=new fd(444984403,3301882366),Ed=ad(1390208809),Fd=ad(944331445),Gd=ad(5);function Hd(e){var t=new yd;e=null!=e?e:0;for(var n=[],r=0;4>r;r++)n[r]=e>>>8*r&255;for(e=hb(n);0<=nd(ad(e.length),zd);){n=t;var o=e;r=Id(o),o=Id(o),n.a=n.a.xor(Jd(r)),n.a=Kd(n.a,27),n.a=n.a.add(n.b),n.a=kd(n.a,Gd).add(Ed),n.b=n.b.xor(Ld(o)),n.b=Kd(n.b,31),n.b=n.b.add(n.a),n.b=kd(n.b,Gd).add(Fd),n.c=n.c.add(zd)}if(0<e.length){switch(r=n=td,t.c=t.c.add(ad(e.length)),e.length){case 15:r=r.xor(rd(ad(e[14]),48));case 14:r=r.xor(rd(ad(e[13]),40));case 13:r=r.xor(rd(ad(e[12]),32));case 12:r=r.xor(rd(ad(e[11]),24));case 11:r=r.xor(rd(ad(e[10]),16));case 10:r=r.xor(rd(ad(e[9]),8));case 9:r=r.xor(ad(e[8]));case 8:n=n.xor(Id(e));break;case 7:n=n.xor(rd(ad(e[6]),48));case 6:n=n.xor(rd(ad(e[5]),40));case 5:n=n.xor(rd(ad(e[4]),32));case 4:n=n.xor(rd(ad(e[3]),24));case 3:n=n.xor(rd(ad(e[2]),16));case 2:n=n.xor(rd(ad(e[1]),8));case 1:n=n.xor(ad(e[0]));break;default:throw Error("Should never get here.")}t.a=t.a.xor(Jd(n)),t.b=t.b.xor(Ld(r))}return t.a=t.a.xor(t.c),t.b=t.b.xor(t.c),t.a=t.a.add(t.b),t.b=t.b.add(t.a),t.a=Md(t.a),t.b=Md(t.b),t.a=t.a.add(t.b),t.b=t.b.add(t.a),new Nd(t.a,t.b)}function Md(e){return e=kd(e=e.xor(vd(e,33)),Cd),(e=kd(e=e.xor(vd(e,33)),Dd)).xor(vd(e,33))}function Jd(e){return e=kd(e,Ad),kd(e=Kd(e,31),Bd)}function Ld(e){return e=kd(e,Bd),kd(e=Kd(e,33),Ad)}function Kd(e,t){return rd(e,t).or(vd(e,-t))}function Id(e){return new fd(Od(e),Od(e))}function Od(e){return 255&e.shift()|(255&e.shift())<<8|(255&e.shift())<<16|(255&e.shift())<<24}function Nd(e,t){this.a=e,this.b=t}function Pd(e){if(e.ga&&"function"==typeof e.ga)return e.ga();if("string"==typeof e)return e.split("");if(Aa(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Qd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Aa(e)||"string"==typeof e)u(e,t,void 0);else{if(e.ja&&"function"==typeof e.ja)var n=e.ja();else if(e.ga&&"function"==typeof e.ga)n=void 0;else if(Aa(e)||"string"==typeof e){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else n=vb(e);o=(r=Pd(e)).length;for(var a=0;a<o;a++)t.call(void 0,r[a],n&&n[a],e)}}function Rd(e,t,n){return Math.min(Math.max(e,t),n)}function Sd(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Sd)for(n=e.ja(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Td(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Vd(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var o={};for(n=t=0;t<e.a.length;)Vd(o,r=e.a[t])||(e.a[n++]=r,o[r]=1),t++;e.a.length=n}}function Vd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}l=Sd.prototype,l.ga=function(){Td(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},l.ja=function(){return Td(this),this.a.concat()},l.get=function(e,t){return Vd(this.b,e)?this.b[e]:t},l.set=function(e,t){Vd(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},l.forEach=function(e,t){for(var n=this.ja(),r=0;r<n.length;r++){var o=n[r],a=this.get(o);e.call(t,a,o,this)}};var Wd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xd(e,t){if(e)for(var n=e.split("&"),r=0;r<n.length;r++){var o=n[r].indexOf("="),a=null;if(0<=o){var i=n[r].substring(0,o);a=n[r].substring(o+1)}else i=n[r];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}function Yd(){this.f=this.b="",this.c=!1,this.a=new Zd(null,this.c)}function $d(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ce),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ce(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Yd.prototype.toString=function(){var e=[],t=this.b;return t&&(e.push("//"),e.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"))),(t=this.f)&&(this.b&&"/"!=t.charAt(0)&&e.push("/"),e.push($d(t,"/"==t.charAt(0)?ae:be,!0))),(t=this.a.toString())&&e.push("?",t),e.join("")};var be=/[#\?:]/g,ae=/[#\?]/g,de=/[#\?@]/g;function Zd(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function ee(e){e.a||(e.a=new Sd,e.b=0,e.c&&Xd(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ge(e,t){if(ee(e),t=fe(e,t),Vd(e.a.b,t)){e.c=null,e.b-=e.a.get(t).length;var n=e.a,r=t;Vd(n.b,r)&&(delete n.b[r],n.c--,n.a.length>2*n.c&&Td(n))}}function he(e,t){return ee(e),t=fe(e,t),Vd(e.a.b,t)}function fe(e,t){var n=String(t);return e.f&&(n=n.toLowerCase()),n}function ie(e,t){t&&!e.f&&(ee(e),e.c=null,e.a.forEach((function(){}),e)),e.f=t}function je(){return E("iPhone")&&!E("iPod")&&!E("iPad")}function ke(){return je()||E("iPad")||E("iPod")}l=Zd.prototype,l.add=function(e,t){ee(this),this.c=null,e=fe(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},l.forEach=function(e,t){ee(this),this.a.forEach((function(n,r){u(n,(function(n){e.call(t,n,r,this)}),this)}),this)},l.ja=function(){ee(this);for(var e=this.a.ga(),t=this.a.ja(),n=[],r=0;r<t.length;r++)for(var o=e[r],a=0;a<o.length;a++)n.push(t[r]);return n},l.ga=function(e){ee(this);var t=[];if("string"==typeof e)he(this,e)&&(t=gb(t,this.a.get(fe(this,e))));else{e=this.a.ga();for(var n=0;n<e.length;n++)t=gb(t,e[n])}return t},l.set=function(e,t){return ee(this),this.c=null,he(this,e=fe(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},l.get=function(e,t){if(!e)return t;var n=this.ga(e);return 0<n.length?String(n[0]):t},l.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.ja(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.ga(r);for(var a=0;a<r.length;a++){var i=o;""!==r[a]&&(i+="="+encodeURIComponent(String(r[a]))),e.push(i)}}return this.c=e.join("&")};var le=E("Opera"),F=E("Trident")||E("MSIE"),me=E("Edge"),ne=me||F,oe=E("Gecko")&&!(-1!=vc.toLowerCase().indexOf("webkit")&&!E("Edge"))&&!(E("Trident")||E("MSIE"))&&!E("Edge"),pe=-1!=vc.toLowerCase().indexOf("webkit")&&!E("Edge"),qe=E("Macintosh"),re=E("Windows"),se=E("Linux")||E("CrOS"),te=E("Android"),ue=je(),ve=E("iPad"),we=E("iPod"),ye,a;function xe(){var e=n.document;return e?e.documentMode:void 0}e:{var ze="",Ae=(a=vc,oe?/rv:([^\);]+)(\)|;)/.exec(a):me?/Edge\/([\d\.]+)/.exec(a):F?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):pe?/WebKit\/(\S+)/.exec(a):le?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Ae&&(ze=Ae?Ae[1]:""),F){var Be=xe();if(null!=Be&&Be>parseFloat(ze)){ye=String(Be);break e}}ye=ze}var Ce={},Ee;function De(e){return ed(Ce,e,(function(){for(var t=0,n=D(String(ye)).split("."),r=D(String(e)).split("."),o=Math.max(n.length,r.length),a=0;0==t&&a<o;a++){var i=n[a]||"",s=r[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=Wb(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Wb(0==i[2].length,0==s[2].length)||Wb(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}))}if(n.document&&F){var Fe=xe();Ee=Fe||parseInt(ye,10)||void 0}else Ee=void 0;var Ge=Ee,He=!F||9<=Number(Ge),Ie=F||le||pe;function Je(e,t){this.x=void 0!==e?e:0,this.y=void 0!==t?t:0}function Ke(e,t){this.width=e,this.height=t}function Le(e){return e?new Me(Ne(e)):Na||(Na=new Me)}function Oe(e,t){var n=t||document;if(n.getElementsByClassName)n=n.getElementsByClassName(e)[0];else{n=document;var r=t||n;n=r.querySelectorAll&&r.querySelector&&e?r.querySelector(e?"."+e:""):Pe(n,"*",e,t)[0]||null}return n||null}function Pe(e,t,n,r){if(e=r||e,t=t&&"*"!=t?String(t).toUpperCase():"",e.querySelectorAll&&e.querySelector&&(t||n))return e.querySelectorAll(t+(n?"."+n:""));if(n&&e.getElementsByClassName){if(e=e.getElementsByClassName(n),t){r={};for(var o,a=0,i=0;o=e[i];i++)t==o.nodeName&&(r[a++]=o);return r.length=a,r}return e}if(e=e.getElementsByTagName(t||"*"),n){for(r={},i=a=0;o=e[i];i++)"function"==typeof(t=o.className).split&&ab(t.split(/\s+/),n)&&(r[a++]=o);return r.length=a,r}return e}function Qe(e,t){ub(t,(function(t,n){t&&"object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t)&&t.la&&(t=t.fa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Re.hasOwnProperty(n)?e.setAttribute(Re[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}Je.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},Je.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},Je.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},Ke.prototype.aspectRatio=function(){return this.width/this.height},Ke.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},Ke.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},Ke.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var Re={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Se(){var e=window.document;return new Ke((e="CSS1Compat"==e.compatMode?e.documentElement:e.body).clientWidth,e.clientHeight)}function Te(e){var t=e.scrollingElement?e.scrollingElement:(pe||"CSS1Compat"!=e.compatMode)&&e.body||e.documentElement;return e=e.parentWindow||e.defaultView,F&&De("10")&&e.pageYOffset!=t.scrollTop?new Je(t.scrollLeft,t.scrollTop):new Je(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)}function Ue(e,t,n){return Ve(document,arguments)}function Ve(e,t){var n=String(t[0]),r=t[1];if(!He&&r&&(r.name||r.type)){if(n=["<",n],r.name&&n.push(' name="',Pc(r.name),'"'),r.type){n.push(' type="',Pc(r.type),'"');var o={};Bb(o,r),delete o.type,r=o}n.push(">"),n=n.join("")}return n=We(e,n),r&&("string"==typeof r?n.className=r:Array.isArray(r)?n.className=r.join(" "):Qe(n,r)),2<t.length&&Xe(e,n,t),n}function Xe(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var o=2;o<n.length;o++){var a=n[o];if(!Aa(a)||q(a)&&0<a.nodeType)r(a);else{e:{if(a&&"number"==typeof a.length){if(q(a)){var i="function"==typeof a.item||"string"==typeof a.item;break e}if(Ba(a)){i="function"==typeof a.item;break e}}i=!1}u(i?hb(a):a,r)}}}function We(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function Ye(e,t){e.appendChild(t)}function Ze(e){for(var t;t=e.firstChild;)e.removeChild(t)}function $e(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function af(e){return q(e)&&1==e.nodeType}function bf(e){var t;return!Ie||F&&De("9")&&!De("10")&&n.SVGElement&&e instanceof n.SVGElement||!(t=e.parentElement)?af(t=e.parentNode)?t:null:t}function cf(e,t){if(!e||!t)return!1;if(e.contains&&1==t.nodeType)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||!!(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e}function Ne(e){return 9==e.nodeType?e:e.ownerDocument||e.document}function df(e,t){if("textContent"in e)e.textContent=t;else if(3==e.nodeType)e.data=String(t);else if(e.firstChild&&3==e.firstChild.nodeType){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(t)}else Ze(e),e.appendChild(Ne(e).createTextNode(String(t)))}function ef(e){return F&&!De("9")?null!=(e=e.getAttributeNode("tabindex"))&&e.specified:e.hasAttribute("tabindex")}function ff(e){return"number"==typeof(e=e.tabIndex)&&0<=e&&32768>e}function Me(e){this.b=e||n.document||document}function gf(){this.a=Tc.l()}function hf(e,t,n,r,o){var a=gf.l();try{if(n(),r)try{r()}catch(e){}}catch(l){try{var i=jf(l);n="",l.fileName&&(n=l.fileName),r=-1,l.lineNumber&&(r=l.lineNumber);var s=-1;l.columnNumber&&(s=l.columnNumber),kf(a,"error",e,t,i,n,r,s)}catch(o){try{var c=jf(o);i="",o.fileName&&(i=o.fileName),n=-1,o.lineNumber&&(n=o.lineNumber),r=-1,o.columnNumber&&(r=o.columnNumber),kf(a,"error",e,t,c,i,n,r)}catch(n){kf(a,"error",e,t,n.toString()+"\n"+(n.stack||""))}}finally{if(o)try{o(l)}catch(e){}}}}function jf(e){var t=e.toString();if(e.name&&-1==t.indexOf(e.name)&&(t+=": "+e.name),e.message&&-1==t.indexOf(e.message)&&(t+=": "+e.message),e.stack){e=e.stack.toString();var n=t;try{-1==e.indexOf(n)&&(e=n+"\n"+e);for(var r;e!=r;)r=e,e=e.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,"$1");t=e.replace(/\n */g,"\n")}catch(e){t=n}}return t}function kf(e,t,n,r,o,a,i,s){var c=new Zd;qb(n)&&c.add("a",n.substr(0,64)),qb(r)&&c.add("c",r.substr(0,64)),qb(o)&&c.add("m",o.substr(0,1024)),qb(a)&&c.add("fn",a.substr(0,256)),qb(i)&&0<i&&c.add("ln",i),qb(s)&&0<s&&c.add("cn",s),c.add("u",document.URL.substr(0,1024)),n=document?document.parentWindow||document.defaultView:window;try{n.jsapi_image_requests||(n.jsapi_image_requests=[]);var l=new Yd;l.b=Wc(e.a),l.f="/newdata/jsapi/"+t,(e=c)instanceof Zd?(l.a=e,ie(l.a,l.c)):(e=$d(e,de),l.a=new Zd(e,l.c));var u=Ue("img",{src:l,alt:""});n.jsapi_image_requests.push(u)}catch(e){}}function lf(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function mf(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function nf(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function of(){this.b=this.a=null}Me.prototype.g=function(e){return"string"==typeof e?this.b.getElementById(e):e},Me.prototype.a=function(e,t,n){return Ve(this.b,arguments)},Me.prototype.appendChild=Ye,ya(gf),gf.prototype.info=function(e,t,n){kf(this,"info",e,t,n)},gf.prototype.error=function(e,t,n){kf(this,"error",e,t,n)},mf.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var qf=new mf((function(){return new pf}),(function(e){e.reset()})),uf,xf;function rf(){var e=sf,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function pf(){this.next=this.b=this.a=null}function tf(e){n.setTimeout((function(){throw e}),0)}function vf(){var e=n.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!E("Presto")&&(e=function(){var e=We(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=Ha((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!E("Trident")&&!E("MSIE")){var t=new e,r={},o=r;return t.port1.onmessage=function(){if(void 0!==r.next){var e=(r=r.next).ub;r.ub=null,e()}},function(e){o.next={ub:e},o=o.next,t.port2.postMessage(0)}}return function(e){n.setTimeout(e,0)}}function wf(e,t){xf||yf(),zf||(xf(),zf=!0),sf.add(e,t)}function yf(){if(n.Promise&&n.Promise.resolve){var e=n.Promise.resolve(void 0);xf=function(){e.then(Af)}}else xf=function(){var e=Af;!Ba(n.setImmediate)||n.Window&&n.Window.prototype&&!E("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(uf||(uf=vf()),uf(e)):n.setImmediate(e)}}of.prototype.add=function(e,t){var n=qf.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},pf.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},pf.prototype.reset=function(){this.next=this.b=this.a=null};var zf=!1,sf=new of;function Af(){for(var e;e=rf();){try{e.a.call(e.b)}catch(e){tf(e)}nf(qf,e)}zf=!1}function Bf(e){if(this.a=Cf,this.h=void 0,this.f=this.b=this.c=null,this.i=this.m=!1,e!=xa)try{var t=this;e.call(void 0,(function(e){Df(t,Ef,e)}),(function(e){Df(t,Ff,e)}))}catch(e){Df(this,Ff,e)}}var Cf=0,Ef=2,Ff=3;function Gf(){this.next=this.f=this.b=this.i=this.a=null,this.c=!1}Gf.prototype.reset=function(){this.f=this.b=this.i=this.a=null,this.c=!1};var Hf=new mf((function(){return new Gf}),(function(e){e.reset()}));function If(e,t,n){var r=Hf.get();return r.i=e,r.b=t,r.f=n,r}function Jf(){var e=new Bf(xa);return Df(e,Ef,void 0),e}function Lf(e,t){var n=If(t,t,void 0);return n.c=!0,Mf(e,n),e}function Nf(e,t){return Kf(e,null,t,void 0)}function Pf(e,t){if(e.a==Cf)if(e.c){var n=e.c;if(n.b){for(var r=0,o=null,a=null,i=n.b;i&&(i.c||(r++,i.a==e&&(o=i),!(o&&1<r)));i=i.next)o||(a=i);o&&(n.a==Cf&&1==r?Pf(n,t):(a?((r=a).next==n.f&&(n.f=r),r.next=r.next.next):Qf(n),Rf(n,o,Ff,t)))}e.c=null}else Df(e,Ff,t)}function Mf(e,t){e.b||e.a!=Ef&&e.a!=Ff||Sf(e),e.f?e.f.next=t:e.b=t,e.f=t}function Kf(e,t,n,r){var o=If(null,null,null);return o.a=new Bf((function(e,a){o.i=t?function(n){try{var o=t.call(r,n);e(o)}catch(e){a(e)}}:e,o.b=n?function(t){try{var o=n.call(r,t);void 0===o&&t instanceof Of?a(t):e(o)}catch(e){a(e)}}:a})),o.a.c=e,Mf(e,o),o.a}function Df(e,t,n){if(e.a==Cf){e===n&&(t=Ff,n=new TypeError("Promise cannot resolve to itself")),e.a=1;e:{var r=n,o=e.D,a=e.o;if(r instanceof Bf){Mf(r,If(o||xa,a||null,e));var i=!0}else if(lf(r))r.then(o,a,e),i=!0;else{if(q(r))try{var s=r.then;if(Ba(s)){Tf(r,s,o,a,e),i=!0;break e}}catch(t){a.call(e,t),i=!0;break e}i=!1}}i||(e.h=n,e.a=t,e.c=null,Sf(e),t!=Ff||n instanceof Of||Uf(e,n))}}function Tf(e,t,n,r,o){function a(e){i||(i=!0,r.call(o,e))}var i=!1;try{t.call(e,(function(e){i||(i=!0,n.call(o,e))}),a)}catch(e){a(e)}}function Sf(e){e.m||(e.m=!0,wf(e.j,e))}function Qf(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Rf(e,t,n,r){if(n==Ff&&t.b&&!t.c)for(;e&&e.i;e=e.c)e.i=!1;if(t.a)t.a.c=null,Vf(t,n,r);else try{t.c?t.i.call(t.f):Vf(t,n,r)}catch(e){Wf.call(null,e)}nf(Hf,t)}function Vf(e,t,n){t==Ef?e.i.call(e.f,n):e.b&&e.b.call(e.f,n)}function Uf(e,t){e.i=!0,wf((function(){e.i&&Wf.call(null,t)}))}Bf.prototype.then=function(e,t,n){return Kf(this,Ba(e)?e:null,Ba(t)?t:null,n)},Bf.prototype.$goog_Thenable=!0,Bf.prototype.cancel=function(e){if(this.a==Cf){var t=new Of(e);wf((function(){Pf(this,t)}),this)}},Bf.prototype.D=function(e){this.a=Cf,Df(this,Ef,e)},Bf.prototype.o=function(e){this.a=Cf,Df(this,Ff,e)},Bf.prototype.j=function(){for(var e;e=Qf(this);)Rf(this,e,this.a,this.h);this.m=!1};var Wf=tf;function Of(e){La.call(this,e)}function Xf(e,t){this.i=[],this.M=e,this.v=t||null,this.f=this.a=!1,this.c=void 0,this.D=this.C=this.h=!1,this.m=0,this.b=null,this.j=0}function Zf(e,t,n){e.a=!0,e.c=n,e.f=!t,$f(e)}function ag(e){if(e.a){if(!e.D)throw new bg(e);e.D=!1}}function cg(e,t){ag(e),Zf(e,!0,t)}function I(e,t){ag(e),Zf(e,!1,t)}function dg(e,t){eg(e,t,null,void 0)}function fg(e,t){eg(e,null,t,void 0)}function gg(e,t){eg(e,t,t,void 0)}function eg(e,t,n,r){e.i.push([t,n,r]),e.a&&$f(e)}function hg(e){return Wa(e.i,(function(e){return Ba(e[1])}))}function $f(e){if(e.m&&e.a&&hg(e)){var t=e.m,r=ig[t];r&&(n.clearTimeout(r.L),delete ig[t]),e.m=0}e.b&&(e.b.j--,delete e.b),t=e.c;for(var o=r=!1;e.i.length&&!e.h;){var a=e.i.shift(),i=a[0],s=a[1];if(a=a[2],i=e.f?s:i)try{var c=i.call(a||e.v,t);void 0!==c&&(e.f=e.f&&(c==t||c instanceof Error),e.c=t=c),(lf(t)||"function"==typeof n.Promise&&t instanceof n.Promise)&&(o=!0,e.h=!0)}catch(n){t=n,e.f=!0,hg(e)||(r=!0)}}e.c=t,o&&(c=Ha(e.o,e,!0),o=Ha(e.o,e,!1),t instanceof Xf?(eg(t,c,o),t.C=!0):t.then(c,o)),r&&(t=new jg(t),ig[t.L]=t,e.m=t.L)}function bg(){La.call(this)}function Yf(){La.call(this)}function jg(e){this.L=n.setTimeout(Ha(this.b,this),0),this.a=e}t(Of,La),Of.prototype.name="cancel",Xf.prototype.cancel=function(e){if(this.a)this.c instanceof Xf&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.j--,0>=t.j&&t.cancel())}this.M?this.M.call(this.v,this):this.D=!0,this.a||I(this,new Yf(this))}},Xf.prototype.o=function(e,t){this.h=!1,Zf(this,e,t)},Xf.prototype.then=function(e,t,n){var r,o,a=new Bf((function(e,t){r=e,o=t}));return eg(this,r,(function(e){e instanceof Yf?a.cancel():o(e)})),a.then(e,t,n)},Xf.prototype.$goog_Thenable=!0,t(bg,La),bg.prototype.message="Deferred has already fired",bg.prototype.name="AlreadyCalledError",t(Yf,La),Yf.prototype.message="Deferred was canceled",Yf.prototype.name="CanceledError",jg.prototype.b=function(){throw delete ig[this.L],this.a};var ig={};function kg(e,t){var n=t||{},r=n.document||document,o=Mb(e).toString(),a=We(document,"SCRIPT"),i={Ib:a,ta:void 0},s=new Xf(lg,i),c=null,l=null!=n.timeout?n.timeout:5e3;return 0<l&&(c=window.setTimeout((function(){mg(a,!0),I(s,new ng(og,"Timeout reached for loading script "+o))}),l),i.ta=c),a.onload=a.onreadystatechange=function(){a.readyState&&"loaded"!=a.readyState&&"complete"!=a.readyState||(mg(a,n.Ob||!1,c),cg(s,null))},a.onerror=function(){mg(a,!0,c),I(s,new ng(pg,"Error while loading script "+o))},Bb(i=n.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Qe(a,i),Mc(a,e),qg(r).appendChild(a),s}function qg(e){var t=(e||document).getElementsByTagName("HEAD");return!t||bb(t)?e.documentElement:t[0]}function lg(){if(this&&this.Ib){var e=this.Ib;e&&"SCRIPT"==e.tagName&&mg(e,!0,this.ta)}}function mg(e,t,r){null!=r&&n.clearTimeout(r),e.onload=xa,e.onerror=xa,e.onreadystatechange=xa,t&&window.setTimeout((function(){$e(e)}),0)}var pg=0,og=1;function ng(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),La.call(this,n),this.code=e}function rg(){this.ta=1e4}t(ng,La);var sg=0;function tg(e,t,r,o,a){r="_"+r,n._jsapi_callbacks_||(n._jsapi_callbacks_={}),o&&(n._jsapi_callbacks_[r]=ug(r,o)),t=(o=Db())?o.createScriptURL(t):t,fg(e=kg(new Jb(Kb,t),{timeout:e.ta,Ob:!0}),vg(r,a))}function ug(e,t){return function(n){wg(e,!0),t.apply(void 0,arguments)}}function vg(e,t){return function(){wg(e,!1),t&&t()}}function wg(e,t){n._jsapi_callbacks_[e]&&(t?delete n._jsapi_callbacks_[e]:n._jsapi_callbacks_[e]=function(){})}rg.prototype.cancel=function(e){e&&(e.Rb&&e.Rb.cancel(),e.L&&wg(e.L,!1))};var xg=yc(),yg=je()||E("iPod"),zg=E("iPad"),Ag=E("Android")&&!(zc()||yc()||E("Opera")||E("Silk")),Bg=zc(),Cg=E("Safari")&&!(zc()||E("Coast")||E("Opera")||E("Edge")||E("Edg/")||E("OPR")||yc()||E("Silk")||E("Android"))&&!ke(),Dg={},Eg=null;function Fg(e){var t=4;void 0===t&&(t=0),Gg(),t=Dg[t];for(var n=[],r=0;r<e.length;r+=3){var o=e[r],a=r+1<e.length,i=a?e[r+1]:0,s=r+2<e.length,c=s?e[r+2]:0,l=o>>2;o=(3&o)<<4|i>>4,i=(15&i)<<2|c>>6,c&=63,s||(c=64,a||(i=64)),n.push(t[l],t[o],t[i]||"",t[c]||"")}return n.join("")}function Hg(e){var t=[];return Ig(e,(function(e){t.push(e)})),t}function Jg(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),o=0;return Ig(e,(function(e){r[o++]=e})),r.subarray(0,o)}function Ig(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),o=Eg[n];if(null!=o)return o;if(!Nb(n))throw Error("Unknown base64 encoding at char: "+n)}return t}Gg();for(var r=0;;){var o=n(-1),a=n(0),i=n(64),s=n(64);if(64===s&&-1===o)break;t(o<<2|a>>4),64!=i&&(t(a<<4&240|i>>2),64!=s&&t(i<<6&192|s))}}function Gg(){if(!Eg){Eg={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));Dg[n]=r;for(var o=0;o<r.length;o++){var a=r[o];void 0===Eg[a]&&(Eg[a]=o)}}}}function Kg(e){this.c=null,this.a=this.f=this.i=0,this.m=!1,e&&Lg(this,e)}var Mg=[];function Lg(e,t){var n=t.constructor===Uint8Array?t:t.constructor===ArrayBuffer||void 0!==Buffer&&t.constructor===Buffer||t.constructor===Array?new Uint8Array(t):t.constructor===String?Jg(t):new Uint8Array(0);e.c=n,e.i=0,e.f=e.c.length,e.a=e.i}function Ng(e){if(Mg.length){var t=Mg.pop();e&&Lg(t,e),e=t}else e=new Kg(e);this.a=e,this.b=this.c=-1,this.f=!1}function Og(e){var t=e.a;if((t=t.a==t.f)||(t=e.f)||(t=(t=e.a).m||0>t.a||t.a>t.f),t)return!1;var n=7&(t=e.a.b());return 0!=n&&5!=n&&1!=n&&2!=n&&3!=n&&4!=n?(e.f=!0,!1):(e.c=t>>>3,e.b=n,!0)}function Pg(e){switch(e.b){case 0:if(0!=e.b)Pg(e);else{for(e=e.a;128&e.c[e.a];)e.a++;e.a++}break;case 1:1!=e.b?Pg(e):(e=e.a).a+=8;break;case 2:if(2!=e.b)Pg(e);else{var t=e.a.b();(e=e.a).a+=t}break;case 5:5!=e.b?Pg(e):(e=e.a).a+=4;break;case 3:for(t=e.c;;){if(!Og(e)){e.f=!0;break}if(4==e.b){e.c!=t&&(e.f=!0);break}Pg(e)}}}function Qg(e,t,n){var r=e.a.f,o=e.a.b();o=e.a.a+o,e.a.f=o,n(t,e),e.a.a=o,e.a.f=r}function Rg(e){return e.a.b()}function Sg(e){var t=e.a.b(),n=(e=e.a).c,r=e.a,o=r+t,a=[];for(t="";r<o;){var i=n[r++];if(128>i)a.push(i);else{if(192>i)continue;if(224>i){var s=n[r++];a.push((31&i)<<6|63&s)}else if(240>i){s=n[r++];var c=n[r++];a.push((15&i)<<12|(63&s)<<6|63&c)}else 248>i&&(i=(7&i)<<18|(63&(s=n[r++]))<<12|(63&(c=n[r++]))<<6|63&n[r++],i-=65536,a.push(55296+(i>>10&1023),56320+(1023&i)))}8192<=a.length&&(t+=String.fromCharCode.apply(null,a),a.length=0)}if(8192>=a.length)a=String.fromCharCode.apply(null,a);else{for(n="",o=0;o<a.length;o+=8192)n+=String.fromCharCode.apply(null,ib(a,o,o+8192));a=n}return e.a=r,t+a}function Tg(){this.a=[]}function Ug(e){var t=e.a;return e.a=[],t}function Vg(e,t){for(;127<t;)e.a.push(127&t|128),t>>>=7;e.a.push(t)}function Wg(e,t){if(0<=t)Vg(e,t);else{for(var n=0;9>n;n++)e.a.push(127&t|128),t>>=7;e.a.push(1)}}function Xg(){this.c=[],this.b=0,this.a=new Tg}function Yg(e,t){Vg(e.a,8*t+2);var n=Ug(e.a);return e.c.push(n),e.b+=n.length,n.push(e.b),n}function Zg(e,t){var n=t.pop();for(n=e.b+e.a.length()-n;127<n;)t.push(127&n|128),n>>>=7,e.b++;t.push(n),e.b++}function $g(e){for(var t=new Uint8Array(e.b+e.a.length()),n=e.c,r=n.length,o=0,a=0;a<r;a++){var i=n[a];t.set(i,o),o+=i.length}return n=Ug(e.a),t.set(n,o),e.c=[t],t}function ah(e,t,n){null!=n&&null!=n&&(Vg(e.a,8*t),Wg(e.a,n))}function bh(e,t,n){null!=n&&null!=n&&(Vg(e.a,8*t),Vg(e.a,n))}function ch(e,t,n){null!=n&&(Vg(e.a,8*t),e.a.a.push(n?1:0))}function dh(e,t,n){if(null!=n){t=Yg(e,t);for(var r=e.a,o=0;o<n.length;o++){var a=n.charCodeAt(o);if(128>a)r.a.push(a);else if(2048>a)r.a.push(a>>6|192),r.a.push(63&a|128);else if(65536>a)if(55296<=a&&56319>=a&&o+1<n.length){var i=n.charCodeAt(o+1);56320<=i&&57343>=i&&(a=1024*(a-55296)+i-56320+65536,r.a.push(a>>18|240),r.a.push(a>>12&63|128),r.a.push(a>>6&63|128),r.a.push(63&a|128),o++)}else r.a.push(a>>12|224),r.a.push(a>>6&63|128),r.a.push(63&a|128)}Zg(e,t)}}function eh(e,t,n,r){null!=n&&(t=Yg(e,t),r(n,e),Zg(e,t))}function fh(e,t,n,r){if(null!=n)for(var o=0;o<n.length;o++){var a=Yg(e,t);r(n[o],e),Zg(e,a)}}function J(){}Kg.prototype.reset=function(){this.a=this.i},Kg.prototype.b=function(){var e=this.c,t=e[this.a],n=127&t;return 128>t?(this.a+=1,n):(n|=(127&(t=e[this.a+1]))<<7,128>t?(this.a+=2,n):(n|=(127&(t=e[this.a+2]))<<14,128>t?(this.a+=3,n):(n|=(127&(t=e[this.a+3]))<<21,128>t?(this.a+=4,n):(n|=(15&(t=e[this.a+4]))<<28,128>t?(this.a+=5,n>>>0):(this.a+=5,128<=e[this.a++]&&128<=e[this.a++]&&128<=e[this.a++]&&128<=e[this.a++]&&this.a++,n)))))},Kg.prototype.h=Kg.prototype.b,Ng.prototype.reset=function(){this.a.reset(),this.b=this.c=-1},Tg.prototype.length=function(){return this.a.length},Xg.prototype.reset=function(){this.c=[],Ug(this.a),this.b=0};var gh="function"==typeof Uint8Array;function M(e,t,n,r){e.a=null,t||(t=[]),e.m=void 0,e.c=-1,e.Y=t;e:{if(t=e.Y.length){--t;var o=e.Y[t];if(!(null===o||"object"!=_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(o)||Array.isArray(o)||gh&&o instanceof Uint8Array)){e.f=t-e.c,e.b=o;break e}}e.f=Number.MAX_VALUE}if(e.i={},n)for(t=0;t<n.length;t++)(o=n[t])<e.f?(o+=e.c,e.Y[o]=e.Y[o]||hh):(ih(e),e.b[o]=e.b[o]||hh);if(r&&r.length)for(t=0;t<r.length;t++)jh(e,r[t])}var hh=[];function ih(e){var t=e.f+e.c;e.Y[t]||(e.b=e.Y[t]={})}function N(e,t){if(t<e.f){var n=t+e.c,r=e.Y[n];return r===hh?e.Y[n]=[]:r}if(e.b)return(r=e.b[t])===hh?e.b[t]=[]:r}function P(e,t,n){return null==(e=N(e,t))?n:e}function kh(e,t){var n=N(e,t);return null!=(n=null==n?n:!!n)&&n}function lh(e,t,n){t<e.f?e.Y[t+e.c]=n:(ih(e),e.b[t]=n)}function R(e,t,n){return mh(e,t,n,0)}function U(e,t,n){mh(e,t,n,"")}function mh(e,t,n,r){return n!==r?lh(e,t,n):t<e.f?e.Y[t+e.c]=null:(ih(e),delete e.b[t]),e}function jh(e,t){for(var n,r,o=0;o<t.length;o++){var a=t[o],i=N(e,a);null!=i&&(n=a,r=i,lh(e,a,void 0))}return n?(lh(e,n,r),n):0}function nh(e,t,n){if(e.a||(e.a={}),!e.a[n]){var r=N(e,n);r&&(e.a[n]=new t(r))}return e.a[n]}function oh(e,t,n){return ph(e,t,n),(t=e.a[n])==hh&&(t=e.a[n]=[]),t}function ph(e,t,n){if(e.a||(e.a={}),!e.a[n]){for(var r=N(e,n),o=[],a=0;a<r.length;a++)o[a]=new t(r[a]);e.a[n]=o}}function V(e,t,n){e.a||(e.a={});var r=n?n.Y:n;e.a[t]=n,lh(e,t,r)}function qh(e,t,n){var r=rh[0];e.a||(e.a={});var o=n?n.Y:n;e.a[t]=n,(n=jh(e,r))&&n!==t&&void 0!==o&&(e.a&&n in e.a&&(e.a[n]=void 0),lh(e,n,void 0)),lh(e,t,o)}function sh(e,t){e.a||(e.a={}),t=t||[];for(var n=[],r=0;r<t.length;r++)n[r]=t[r].Y;e.a[2]=t,lh(e,2,n)}function W(e,t,n,r){ph(e,r,t);var o=e.a[t];o||(o=e.a[t]=[]),n=n||new r,e=N(e,t),o.push(n),e.push(n.Y)}function th(e){M(this,e,null,null)}function uh(e){M(this,e,vh,null)}function wh(e){M(this,e,null,null)}function xh(e,t){var n=P(e,1,"");0<n.length&&dh(t,1,n),0!==(n=P(e,2,0))&&bh(t,2,n),0<(n=P(e,3,"")).length&&dh(t,3,n),0<(n=P(e,4,"")).length&&dh(t,4,n),0<(n=P(e,5,"")).length&&dh(t,5,n),(n=kh(e,6))&&ch(t,6,n)}J.prototype.toString=function(){return this.Y.toString()},t(th,J),t(uh,J),t(wh,J);var vh=[2];function yh(e){var t=new Xg,n=nh(e,th,3);return null!=n&&eh(t,3,n,xh),0!==(n=P(e,1,0))&&ah(t,1,n),0<(n=oh(e,wh,2)).length&&fh(t,2,n,zh),$g(t)}function zh(e,t){var n=nh(e,th,9);null!=n&&eh(t,9,n,xh),0!==(n=P(e,1,0))&&ah(t,1,n),0!==(n=P(e,2,0))&&ah(t,2,n),0!==(n=P(e,3,0))&&ah(t,3,n),0!==(n=P(e,4,0))&&bh(t,4,n),0!==(n=P(e,5,0))&&ah(t,5,n),0<(n=P(e,6,"")).length&&dh(t,6,n),(n=kh(e,7))&&ch(t,7,n),0<(n=P(e,8,"")).length&&dh(t,8,n)}function Ah(e){return x(e)&&-2147483648<=e&&2147483648>e?e:0}function Bh(e){return x(e)&&0<=e&&4294967296>e?e:0}function Ch(e){return!!rb(e)&&e}function Dh(e){return w(e)?e:""}function Eh(e,t){this.a=e,this.b=t}function Fh(){var e=new Uint8Array(16),t=window.crypto;if(null!=t)t.getRandomValues(e);else for(t=0;16>t;t++)e[t]=255*Math.random()>>>0&255;return e[6]&=15,e[6]|=64,e[8]&=63,e[8]|=128,new Eh(t=Gh(e,0),e=Gh(e,8))}function Hh(e,t){var n=rd(pd,4*t);return n.or(e.and(n.add(jd(pd)))).toString(16).substring(1)}function Gh(e,t){for(var n=td,r=t,o=t+8;r<o;r++)n=rd(n,8).or(ad(255&e[r]));return n}function Ih(e){M(this,e,Jh,null)}function Kh(e){M(this,e,null,null)}function Lh(e){M(this,e,null,null)}function Mh(e){M(this,e,null,null)}function Nh(e){M(this,e,null,null)}function Oh(e){M(this,e,null,null)}function Ph(e){M(this,e,null,null)}function Qh(e){M(this,e,null,null)}Eh.prototype.version=function(){return sd(this.a,12).and(ad(15)).H},Eh.prototype.toString=function(){return Hh(sd(this.a,32),8)+"-"+Hh(sd(this.a,16),4)+"-"+Hh(this.a,4)+"-"+Hh(sd(this.b,48),4)+"-"+Hh(this.b,12)},t(Ih,J),t(Kh,J),t(Lh,J),t(Mh,J),t(Nh,J),t(Oh,J),t(Ph,J),t(Qh,J);var Jh=[7,8];function Rh(e){e=new Ng(e);for(var t=new Ih;Og(e)&&4!=e.b;)switch(e.c){case 1:var n=e.a.h();R(t,1,n);break;case 2:Sh(t,n=Sg(e));break;case 3:Qg(e,n=new Kh,Th),Uh(t,n);break;case 4:Qg(e,n=new Lh,Vh),Wh(t,n);break;case 5:Qg(e,n=new Mh,Xh),Yh(t,n);break;case 6:Qg(e,n=new Nh,Zh),$h(t,n);break;case 7:n=e;var r=e.a.b,o=n.a.b();o=n.a.a+o;for(var a=[];n.a.a<o;)a.push(r.call(n.a));lh(t,7,(n=a)||[]);break;case 8:Qg(e,n=new Oh,ai),W(t,8,n,Oh);break;case 9:Qg(e,n=new Ph,bi),ci(t,n);break;case 10:di(t,n=Rg(e));break;case 11:ei(t,n=Rg(e));break;case 12:fi(t,n=Rg(e));break;case 13:gi(t,n=Sg(e));break;default:Pg(e)}return t}function hi(e){var t=new Xg,n=P(e,1,0);if(0!==n&&ah(t,1,n),0<(n=P(e,2,"")).length&&dh(t,2,n),null!=(n=ii(e))&&eh(t,3,n,ji),null!=(n=ki(e))&&eh(t,4,n,li),null!=(n=mi(e))&&eh(t,5,n,ni),null!=(n=oi(e))&&eh(t,6,n,pi),0<(n=N(e,7)).length&&null!=n&&n.length){for(var r=Yg(t,7),o=0;o<n.length;o++)Vg(t.a,n[o]);Zg(t,r)}return 0<(n=oh(e,Oh,8)).length&&fh(t,8,n,qi),null!=(n=ri(e))&&eh(t,9,n,si),0!==(n=P(e,10,0))&&bh(t,10,n),0!==(n=P(e,11,0))&&bh(t,11,n),0!==(n=P(e,12,0))&&bh(t,12,n),0<(n=P(e,13,"")).length&&dh(t,13,n),$g(t)}function Th(e,t){for(;Og(t)&&4!=t.b;)switch(t.c){case 1:var n=Sg(t);ti(e,n);break;case 2:ui(e,n=Rg(t));break;case 3:vi(e,n=Sg(t));break;case 4:wi(e,n=Sg(t));break;case 5:xi(e,n=Sg(t));break;case 6:yi(e,n=!!t.a.b());break;default:Pg(t)}return e}function ji(e,t){var n=P(e,1,"");0<n.length&&dh(t,1,n),0!==(n=P(e,2,0))&&bh(t,2,n),0<(n=P(e,3,"")).length&&dh(t,3,n),0<(n=P(e,4,"")).length&&dh(t,4,n),0<(n=P(e,5,"")).length&&dh(t,5,n),(n=kh(e,6))&&ch(t,6,n)}function ti(e,t){U(e,1,t)}function ui(e,t){R(e,2,t)}function vi(e,t){U(e,3,t)}function wi(e,t){U(e,4,t)}function xi(e,t){U(e,5,t)}function yi(e,t){mh(e,6,t,!1)}function Vh(e,t){for(;Og(t)&&4!=t.b;)switch(t.c){case 1:var n=Rg(t);zi(e,n);break;case 2:Ai(e,n=Rg(t));break;case 3:Bi(e,n=Sg(t));break;default:Pg(t)}return e}function li(e,t){var n=P(e,1,0);0!==n&&bh(t,1,n),0!==(n=P(e,2,0))&&bh(t,2,n),0<(n=P(e,3,"")).length&&dh(t,3,n)}function zi(e,t){R(e,1,t)}function Ai(e,t){R(e,2,t)}function Bi(e,t){U(e,3,t)}function Xh(e,t){for(;Og(t)&&4!=t.b;)switch(t.c){case 1:var n=Rg(t);Ci(e,n);break;case 2:Di(e,n=Sg(t));break;case 3:Ei(e,n=Sg(t));break;default:Pg(t)}return e}function ni(e,t){var n=P(e,1,0);0!==n&&bh(t,1,n),0<(n=P(e,2,"")).length&&dh(t,2,n),0<(n=P(e,3,"")).length&&dh(t,3,n)}function Ci(e,t){R(e,1,t)}function Di(e,t){U(e,2,t)}function Ei(e,t){U(e,3,t)}function Zh(e,t){for(;Og(t)&&4!=t.b;)switch(t.c){case 1:var n=Sg(t);Fi(e,n);break;case 2:Gi(e,n=Sg(t));break;case 3:Hi(e,n=Sg(t));break;default:Pg(t)}return e}function pi(e,t){var n=P(e,1,"");0<n.length&&dh(t,1,n),0<(n=P(e,2,"")).length&&dh(t,2,n),0<(n=P(e,3,"")).length&&dh(t,3,n)}function Fi(e,t){U(e,1,t)}function Gi(e,t){U(e,2,t)}function Hi(e,t){U(e,3,t)}function ai(e,t){for(;Og(t)&&4!=t.b;)switch(t.c){case 1:var n=Rg(t);R(e,1,n);break;case 2:U(e,2,n=Sg(t));break;case 3:R(e,3,n=Rg(t));break;case 4:R(e,4,n=Rg(t));break;case 5:R(e,5,n=Rg(t));break;case 6:R(e,6,n=Rg(t));break;case 7:mh(e,7,n=!!t.a.b(),!1);break;case 8:for(var r=t.a,o=128,a=0,i=n=0;4>i&&128<=o;i++)a|=(127&(o=r.c[r.a++]))<<7*i;if(128<=o&&(a|=(127&(o=r.c[r.a++]))<<28,n|=(127&o)>>4),128<=o)for(i=0;5>i&&128<=o;i++)n|=(127&(o=r.c[r.a++]))<<7*i+3;128>o?(r=a>>>0,(n=2147483648&(o=n>>>0))&&(o=~o>>>0,0==(r=1+~r>>>0)&&(o=o+1>>>0)),r=4294967296*o+(r>>>0),n=n?-r:r):(r.m=!0,n=void 0),mh(e,8,n,0);break;default:Pg(t)}return e}function qi(e,t){var n=P(e,1,0);0!==n&&bh(t,1,n),0<(n=P(e,2,"")).length&&dh(t,2,n),0!==(n=P(e,3,0))&&bh(t,3,n),0!==(n=P(e,4,0))&&bh(t,4,n),0!==(n=P(e,5,0))&&bh(t,5,n),0!==(n=P(e,6,0))&&bh(t,6,n),(n=kh(e,7))&&ch(t,7,n),0!==(n=P(e,8,0))&&null!=n&&(Vg(t.a,64),Wg(t.a,n))}function bi(e,t){for(;Og(t)&&4!=t.b;)switch(t.c){case 1:var n=Rg(t);Ii(e,n);break;case 2:Ji(e,n=Rg(t));break;default:Pg(t)}return e}function si(e,t){var n=P(e,1,0);0!==n&&bh(t,1,n),0!==(n=P(e,2,0))&&bh(t,2,n)}function Ii(e,t){R(e,1,t)}function Ji(e,t){R(e,2,t)}function Sh(e,t){U(e,2,t)}function ii(e){return nh(e,Kh,3)}function Uh(e,t){V(e,3,t)}function Ki(e){return null!=N(e,3)}function ki(e){return nh(e,Lh,4)}function Wh(e,t){V(e,4,t)}function mi(e){return nh(e,Mh,5)}function Yh(e,t){V(e,5,t)}function oi(e){return nh(e,Nh,6)}function $h(e,t){V(e,6,t)}function ri(e){return nh(e,Ph,9)}function ci(e,t){V(e,9,t)}function di(e,t){R(e,10,t)}function ei(e,t){R(e,11,t)}function fi(e,t){R(e,12,t)}function gi(e,t){U(e,13,t)}function Li(e){var t=new Xg,n=P(e,1,0);return 0!==n&&ah(t,1,n),0<(n=P(e,2,"")).length&&dh(t,2,n),$g(t)}function Mi(e,t){U(e,2,t)}function Ni(){0!=Oi&&(Pi[Ca(this)]=this),this.na=this.na,this.ia=this.ia}var Oi=0,Pi={};function Qi(e,t){e.na?t():(e.ia||(e.ia=[]),e.ia.push(t))}function Ri(e){e&&"function"==typeof e.pa&&e.pa()}function Si(e){for(var t=0,n=arguments.length;t<n;++t){var r=arguments[t];Aa(r)?Si.apply(null,r):Ri(r)}}Ni.prototype.na=!1,Ni.prototype.pa=function(){if(!this.na&&(this.na=!0,this.J(),0!=Oi)){var e=Ca(this);if(0!=Oi&&this.ia&&0<this.ia.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Pi[e]}},Ni.prototype.J=function(){if(this.ia)for(;this.ia.length;)this.ia.shift()()};var Ti=!F||9<=Number(Ge),Ui=!F||9<=Number(Ge),Vi=F&&!De("9"),Wi=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{n.addEventListener("test",xa,t),n.removeEventListener("test",xa,t)}catch(e){}return e}();function Xi(e,t){this.type=e,this.c=this.target=t,this.defaultPrevented=this.i=!1}Xi.prototype.m=function(){this.i=!0},Xi.prototype.b=function(){this.defaultPrevented=!0};var Yi={Ta:"mousedown",Ua:"mouseup",rb:"mousecancel",zc:"mousemove",Bc:"mouseover",Ac:"mouseout",xc:"mouseenter",yc:"mouseleave"};function Zi(e,t){if(Xi.call(this,e?e.type:""),this.relatedTarget=this.c=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.f=0,this.h=this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.c=t;var o=e.relatedTarget;if(o){if(oe){e:{try{dd(o.nodeName);var a=!0;break e}catch(e){}a=!1}a||(o=null)}}else"mouseover"==n?o=e.fromElement:"mouseout"==n&&(o=e.toElement);this.relatedTarget=o,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.f=e.keyCode||0,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.h=qe?e.metaKey:e.ctrlKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:$i[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.b()}}t(Zi,Xi);var aj=[1,4,2],$i={2:"touch",3:"pen",4:"mouse"};function bj(e){return Ti?0==e.a.button:"click"==e.type||!!(e.a.button&aj[0])}Zi.prototype.m=function(){Zi.F.m.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Zi.prototype.b=function(){Zi.F.b.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Vi)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var cj="closure_listenable_"+(1e6*Math.random()|0);function dj(e){return!(!e||!e[cj])}var ej=0;function fj(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.La=o,this.key=++ej,this.za=this.Ga=!1}function gj(e){e.za=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function hj(e){this.src=e,this.a={},this.b=0}function jj(e,t){var n=t.type;if(!(n in e.a))return!1;var r=eb(e.a[n],t);return r&&(gj(t),0==e.a[n].length&&(delete e.a[n],e.b--)),r}function kj(e,t,n,r,o){return e=e.a[t.toString()],t=-1,e&&(t=ij(e,n,r,o)),-1<t?e[t]:null}function ij(e,t,n,r){for(var o=0;o<e.length;++o){var a=e[o];if(!a.za&&a.listener==t&&a.capture==!!n&&a.La==r)return o}return-1}hj.prototype.add=function(e,t,n,r,o){var a=e.toString();(e=this.a[a])||(e=this.a[a]=[],this.b++);var i=ij(e,t,r,o);return-1<i?(t=e[i],n||(t.Ga=!1)):((t=new fj(t,this.src,a,!!r,o)).Ga=n,e.push(t)),t};var lj="closure_lm_"+(1e6*Math.random()|0),mj={},nj=0;function oj(e,t,n,r,o){if(r&&r.once)return pj(e,t,n,r,o);if(Array.isArray(t)){for(var a=0;a<t.length;a++)oj(e,t[a],n,r,o);return null}return n=qj(n),dj(e)?e.M.add(String(t),n,!1,q(r)?!!r.capture:!!r,o):rj(e,t,n,!1,r,o)}function rj(e,t,n,r,o,a){if(!t)throw Error("Invalid event type");var i=q(o)?!!o.capture:!!o,s=sj(e);if(s||(e[lj]=s=new hj(e)),(n=s.add(t,n,r,i,a)).proxy)return n;if(r=tj(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Wi||(o=i),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(uj(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return nj++,n}function tj(){var e=vj,t=Ui?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}function pj(e,t,n,r,o){if(Array.isArray(t)){for(var a=0;a<t.length;a++)pj(e,t[a],n,r,o);return null}return n=qj(n),dj(e)?e.M.add(String(t),n,!0,q(r)?!!r.capture:!!r,o):rj(e,t,n,!0,r,o)}function wj(e,t,n,r,o){if(Array.isArray(t)){for(var a=0;a<t.length;a++)wj(e,t[a],n,r,o);return null}return r=q(r)?!!r.capture:!!r,n=qj(n),dj(e)?(e=e.M,(t=String(t).toString())in e.a&&-1<(n=ij(a=e.a[t],n,r,o))?(gj(a[n]),fb(a,n),0==a.length&&(delete e.a[t],e.b--),n=!0):n=!1,n):!!e&&!(!(e=sj(e))||!(n=kj(e,t,n,r,o)))&&xj(n)}function xj(e){if("number"==typeof e||!e||e.za)return!1;var t=e.src;if(dj(t))return jj(t.M,e);var n=e.type,r=e.proxy;return t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(uj(n),r):t.addListener&&t.removeListener&&t.removeListener(r),nj--,(n=sj(t))?(jj(n,e),0==n.b&&(n.src=null,t[lj]=null)):gj(e),!0}function uj(e){return e in mj?mj[e]:mj[e]="on"+e}function yj(e,t,n,r){var o=!0;if((e=sj(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var a=t[e];a&&a.capture==n&&!a.za&&(a=zj(a,r),o=o&&!1!==a)}return o}function zj(e,t){var n=e.listener,r=e.La||e.src;return e.Ga&&xj(e),n.call(r,t)}function vj(e,t){if(e.za)return!0;if(!Ui){var r;if(!(r=t))e:{r=["window","event"];for(var o=n,a=0;a<r.length;a++)if(null==(o=o[r[a]])){r=null;break e}r=o}if(r=new Zi(a=r,this),o=!0,!(0>a.keyCode||null!=a.returnValue)){e:{var i=!1;if(0==a.keyCode)try{a.keyCode=-1;break e}catch(e){i=!0}(i||null==a.returnValue)&&(a.returnValue=!0)}for(a=[],i=r.c;i;i=i.parentNode)a.push(i);i=e.type;for(var s=a.length-1;!r.i&&0<=s;s--){r.c=a[s];var c=yj(a[s],i,!0,r);o=o&&c}for(s=0;!r.i&&s<a.length;s++)r.c=a[s],c=yj(a[s],i,!1,r),o=o&&c}return o}return zj(e,new Zi(t,this))}function sj(e){return(e=e[lj])instanceof hj?e:null}var Aj="__closure_events_fn_"+(1e9*Math.random()>>>0);function qj(e){return Ba(e)?e:(e[Aj]||(e[Aj]=function(t){return e.handleEvent(t)}),e[Aj])}function Bj(){Ni.call(this),this.M=new hj(this),this.Qb=this,this.Ea=null}function X(e,t){var n,r=e.Ea;if(r)for(n=[];r;r=r.Ea)n.push(r);r=e.Qb;var o=t,a=o.type||o;if("string"==typeof o)o=new Xi(o,r);else if(o instanceof Xi)o.target=o.target||r;else{var i=o;Bb(o=new Xi(a,r),i)}if(i=!0,n)for(var s=n.length-1;!o.i&&0<=s;s--){var c=o.c=n[s];i=Cj(c,a,!0,o)&&i}if(o.i||(i=Cj(c=o.c=r,a,!0,o)&&i,o.i||(i=Cj(c,a,!1,o)&&i)),n)for(s=0;!o.i&&s<n.length;s++)i=Cj(c=o.c=n[s],a,!1,o)&&i;return i}function Cj(e,t,n,r){if(!(t=e.M.a[String(t)]))return!0;t=t.concat();for(var o=!0,a=0;a<t.length;++a){var i=t[a];if(i&&!i.za&&i.capture==n){var s=i.listener,c=i.La||i.src;i.Ga&&jj(e.M,i),o=!1!==s.call(c,r)&&o}}return o&&!r.defaultPrevented}function Dj(e,t){Bj.call(this),this.b=e||1,this.a=t||n,this.c=Ha(this.kc,this),this.f=Ja()}function Ej(e){e.Ia=!1,e.ka&&(e.a.clearTimeout(e.ka),e.ka=null)}function Fj(e,t,r){if(Ba(e))r&&(e=Ha(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ha(e.handleEvent,e)}return 2147483647<Number(t)?-1:n.setTimeout(e,t||0)}function Gj(e,t,n){Ni.call(this),this.i=null!=n?e.bind(n):e,this.f=t,this.b=null,this.c=!1,this.a=null}if(t(Bj,Ni),Bj.prototype[cj]=!0,Bj.prototype.qb=function(e){this.Ea=e},Bj.prototype.addEventListener=function(e,t,n,r){oj(this,e,t,n,r)},Bj.prototype.removeEventListener=function(e,t,n,r){wj(this,e,t,n,r)},Bj.prototype.J=function(){if(Bj.F.J.call(this),this.M){var e,t=this.M;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)gj(n[r]);delete t.a[e],t.b--}}this.Ea=null},t(Dj,Bj),l=Dj.prototype,l.Ia=!1,l.ka=null,l.kc=function(){if(this.Ia){var e=Ja()-this.f;0<e&&e<.8*this.b?this.ka=this.a.setTimeout(this.c,this.b-e):(this.ka&&(this.a.clearTimeout(this.ka),this.ka=null),X(this,"tick"),this.Ia&&(Ej(this),this.start()))}},l.start=function(){this.Ia=!0,this.ka||(this.ka=this.a.setTimeout(this.c,this.b),this.f=Ja())},l.J=function(){Dj.F.J.call(this),Ej(this),delete this.a},Gj.prototype=da(Ni.prototype),Gj.prototype.constructor=Gj,pa)pa(Gj,Ni);else for(var Hj in Ni)if("prototype"!=Hj)if(Object.defineProperties){var Ij=Object.getOwnPropertyDescriptor(Ni,Hj);Ij&&Object.defineProperty(Gj,Hj,Ij)}else Gj[Hj]=Ni[Hj];function Jj(e){e.a=Fj((function(){e.a=null,e.c&&(e.c=!1,Jj(e))}),e.f);var t=e.b;e.b=null,e.i.apply(null,t)}function Kj(a){if(a=String(a),!/^\s*$/.test(a)&&/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(e){}throw Error("Invalid JSON string: "+a)}function Lj(e){var t=[];return Mj(new Nj,e,t),t.join("")}function Nj(){}function Mj(e,t,n){if(null==t)n.push("null");else{if("object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t)){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var o="",a=0;a<t;a++)n.push(o),Mj(e,r[a],n),o=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),o="",t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(a=t[r])&&(n.push(o),Oj(r,n),n.push(":"),Mj(e,a,n),o=",");return void n.push("}")}t=t.valueOf()}switch(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t)){case"string":Oj(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t))}}}Gj.F=Ni.prototype,Gj.prototype.m=function(e){this.b=arguments,this.a?this.c=!0:Jj(this)},Gj.prototype.J=function(){Ni.prototype.J.call(this),this.a&&(n.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)};var Pj={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Qj=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,Uj;function Oj(e,t){t.push('"',e.replace(Qj,(function(e){var t=Pj[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Pj[e]=t),t})),'"')}function Rj(){}function Sj(e){var t;return(t=e.a)||(t={},Tj(e)&&(t[0]=!0,t[1]=!0),t=e.a=t),t}function Vj(){}function Wj(e){return(e=Tj(e))?new ActiveXObject(e):new XMLHttpRequest}function Tj(e){if(!e.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.b=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.b}function Xj(e){Bj.call(this),this.headers=new Sd,this.j=e||null,this.b=!1,this.h=this.a=null,this.v="",this.c=this.o=this.f=this.D=!1,this.m=0,this.i=null,this.G=Yj,this.C=this.N=!1}Rj.prototype.a=null,t(Vj,Rj),Uj=new Vj,t(Xj,Bj);var Yj="",Zj=/^https?$/i,ak=["POST","PUT"],bk=[];function ck(e,t,n,r,o,a){var i=new Xj;bk.push(i),t&&i.M.add("complete",t,!1,void 0,void 0),i.M.add("ready",i.Nb,!0,void 0,void 0),i.m=1e4,a&&(i.N=a),dk(i,e,n,r,o)}function dk(e,t,r,o,a){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.v+"; newUri="+t);r=r?r.toUpperCase():"GET",e.v=t,e.D=!1,e.b=!0,e.a=e.j?Wj(e.j):Wj(Uj),e.h=e.j?Sj(e.j):Sj(Uj),e.a.onreadystatechange=Ha(e.Gb,e);try{e.o=!0,e.a.open(r,String(t),!0),e.o=!1}catch(t){return void ek(e)}t=o||"";var i=new Sd(e.headers);a&&Qd(a,(function(e,t){i.set(t,e)})),a=Ya(i.ja(),fk),o=n.FormData&&t instanceof n.FormData,!ab(ak,r)||a||o||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.G&&(e.a.responseType=e.G),"withCredentials"in e.a&&e.a.withCredentials!==e.N&&(e.a.withCredentials=e.N);try{gk(e),0<e.m&&(e.C=hk(e.a),e.C?(e.a.timeout=e.m,e.a.ontimeout=Ha(e.ta,e)):e.i=Fj(e.ta,e.m,e)),e.f=!0,e.a.send(t),e.f=!1}catch(t){ek(e)}}function hk(e){return F&&De(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function fk(e){return"content-type"==e.toLowerCase()}function ek(e){e.b=!1,e.a&&(e.c=!0,e.a.abort(),e.c=!1),ik(e),jk(e)}function ik(e){e.D||(e.D=!0,X(e,"complete"),X(e,"error"))}function kk(e){if(e.b&&void 0!==sa&&(!e.h[1]||4!=(e.a?e.a.readyState:0)||2!=lk(e)))if(e.f&&4==(e.a?e.a.readyState:0))Fj(e.Gb,0,e);else if(X(e,"readystatechange"),4==(e.a?e.a.readyState:0)){e.b=!1;try{var t,r=lk(e);e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}if(!(t=o)){var a;if(a=0===r){var i=String(e.v).match(Wd)[1]||null;if(!i&&n.self&&n.self.location){var s=n.self.location.protocol;i=s.substr(0,s.length-1)}a=!Zj.test(i?i.toLowerCase():"")}t=a}t?(X(e,"complete"),X(e,"success")):ik(e)}finally{jk(e)}}}function jk(e,t){if(e.a){gk(e);var n=e.a,r=e.h[0]?xa:null;e.a=null,e.h=null,t||X(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function gk(e){e.a&&e.C&&(e.a.ontimeout=null),e.i&&(n.clearTimeout(e.i),e.i=null)}function lk(e){try{return 2<(e.a?e.a.readyState:0)?e.a.status:-1}catch(e){return-1}}function mk(e){if(e.a){e:{if(e=e.a.responseText,n.JSON)try{var t=n.JSON.parse(e);break e}catch(e){}t=Kj(e)}return t}}function nk(){this.j=Tc.l(),this.m=window,this.C=this.m.document,this.G=this.m.navigator,this.N=this.m.location,this.o=new rg,this.i=Jf(),this.b=new Set,this.c=[],this.v=new Zc,this.f=Jf(),this.D=[],this.a=new Map,this.h=new Set,this.M=[],this.K=new Gj((function(){ok(this)}),1e3,this)}l=Xj.prototype,l.Nb=function(){this.pa(),eb(bk,this)},l.ta=function(){void 0!==sa&&this.a&&(X(this,"timeout"),this.abort(8))},l.abort=function(){},l.J=function(){this.a&&(this.b&&(this.b=!1,this.c=!0,this.a.abort(),this.c=!1),jk(this,!0)),Xj.F.J.call(this)},l.Gb=function(){this.na||(this.o||this.f||this.c?kk(this):this.ic())},l.ic=function(){kk(this)},ya(nk);var pk=new Map([["Content-Type","multipart/form-data"]]),qk=Qc();function rk(e,t,n,r){var o=new Xf;null!=n&&B(n)&&dg(o,n),null!=r&&B(r)&&fg(o,r);var a,i={};if(r=!1,null!=(n=t.init)&&rb(n)&&(r=n),null==(n=t.block_id)||!x(n)||0>n)I(o,Y("block_id"));else{if(i.block_id=a=n,null!=(n=t.source_block_id)){if(!x(n)||0>n)return void I(o,Y("source_block_id"));i.source_block_id=n}if(null!=(n=t.topic_id)){if(!x(n)||0>n)return void I(o,Y("topic_id"));i.topic_id=n}if(null!=(n=t.strategy_id)){if(!x(n)||0>n)return void I(o,Y("strategy_id"));i.strategy_id=n}null!=(n=t.source_id)&&x(n)&&0<n&&(i.source_id=n);var s=10;if(null!=(n=t.count)){if(!x(n)||0>n||100<n)return void I(o,Y("count"));i.count=s=n}if(null!=(n=t.fields)){if(!x(n))return void I(o,Y("fields"));i.fields=n}var c=null;if(null!=(n=t.filter_news)){if(!sb(n))return void I(o,Y("filter_news"));c=n}var l=null;if(null!=(n=window["jsapi_local_news_"+a])){if(!sb(n))return void I(o,Y("local_news"));l=n}r&&(e.b.delete(a),e.h.delete(a)),e.i=e.i.then((function(){return new Bf((function(t){gg(o,t),hf(Vc(),"jsapi.dao.Dao#getNews",(function(){if(null!=l){for(var t=[],n=0,r=l.length;n<r&&!(t.length>=s);n++){var p=l[n];if(null!=p&&q(p)){var d=p.id;if(null!=d&&x(d)){if(null!=c){if(ab(c,d))continue}else{if(ab(e.c,d))continue;e.c.push(d)}t.push(p)}}}e.b.add(a),cg(o,t)}else e.b.has(a)&&(i.block_ignore_view=!0),i.filter_news=null!=c?c:e.c,t=Lj(i),ck(sk(e,"news"),(function(t){if(200===lk(t=t.target)){var n=void 0;try{n=mk(t)}catch(e){return void I(o,e)}n&&0<n.length&&u(n,(function(t){null==c&&(t=t.id)&&(e.c.push(t),$c(e.v,Hd(t)))})),e.b.add(a),cg(o,n)}else I(o,Error("Failed to get news"))}),"POST",t,pk,!0)}),(function(){}),(function(e){I(o,e)}))}))}))}}function tk(e,t,n,r){var o=new Xf;null!=n&&B(n)&&dg(o,n),null!=r&&B(r)&&fg(o,r);var a={};if(null==(n=t.block_id)||!x(n)||0>n)I(o,Y("block_id"));else if(a.block_id=n,null==(n=t.news_id)||!x(n)||0>n)I(o,Y("news_id"));else{if(a.news_id=n,null!=(n=t.image_width)){if(!x(n)||0>n)return void I(o,Y("image_width"));a.image_width=n}if(null!=(n=t.image_height)){if(!x(n)||0>n)return void I(o,Y("image_height"));a.image_height=n}if(null!=(n=t.fields)){if(!x(n))return void I(o,Y("fields"));a.fields=n}if(null!=(n=t.strategy_id)){if(!x(n)||0>n)return void I(o,Y("strategy_id"));a.strategy_id=n}null!=(n=t.source_id)&&x(n)&&0<n&&(a.source_id=n),e.f=e.f.then((function(){return new Bf((function(t){gg(o,t),hf(Vc(),"jsapi.dao.Dao#getNewsDetails",(function(){var t=Lj(a);ck(sk(e,"news_details"),(function(t){var n=t.target;if(200===lk(n)){t=void 0;try{t=mk(n)}catch(e){return void I(o,e)}t&&(n=t.id)&&(e.c.push(n),$c(e.v,Hd(n))),cg(o,t)}else I(o,Error("Failed to get news details"))}),"POST",t,pk,!0)}),(function(){}),(function(e){I(o,e)}))}))}))}}function uk(e,t,n,r){var o=new Xf;null!=n&&B(n)&&dg(o,n),null!=r&&B(r)&&fg(o,r);var a=new Qh;if(r=null,null!=(n=window.jsapi_rtb_ctx))try{r=Rh(Hg(n))}catch(e){}if(null!=(n=t.user_id)){if(!w(n))return void I(o,Y("user_id"));Mi(a,Dh(n))}else{if(null==r||!Ki(r)||Oc(P(ii(r),1,"")))return void I(o,Y("user_id"));Mi(a,P(ii(r),1,""))}e.i=e.i.then((function(){return new Bf((function(t){gg(o,t),hf(Vc(),"jsapi.dao.Dao#getRtbCookieMatching",(function(){var t=sg++%65535;R(a,1,t);var n=Fg(Li(a));tg(e.o,"https://"+Xc(e.j)+"/jsapi?action=rtb_cookie_matching&payload="+n,t,(function(e){q(e)&&Array.isArray(e.urls)&&u(e.urls,(function(e){w(e)&&vk(e)})),cg(o,e)}),(function(){I(o,Error("Failed to handle RTB CookieMatching"))}))}),(function(){}),(function(e){I(o,e)}))}))}))}function wk(e,t,n,r){var o=new Xf;null!=n&&B(n)&&dg(o,n),null!=r&&B(r)&&fg(o,r);var a=new Ih;n=null;var i=window.jsapi_rtb_ctx;if(null!=i)try{n=Rh(Hg(i))}catch(e){}if(r=!1,null!=(i=t.init)&&rb(i)&&(r=i),null!=(i=t.request_id)){if(!w(i))return void I(o,Y("request_id"));Sh(a,Dh(i))}else Sh(a,Fh().toString());if(null!=(i=t.user)){if(!q(i))return void I(o,Y("user"));Uh(a,new Kh);var s=i;if(null!=(i=s.id)){if(!w(i))return void I(o,Y("user.id"));ti(ii(a),Dh(i))}else null!=n&&Ki(n)&&!Oc(P(ii(n),1,""))&&ti(ii(a),P(ii(n),1,""));if(null!=(i=s.created)){if(!x(i)||0>i)return void I(o,Y("user.created"));ui(ii(a),Bh(i))}else null!=n&&Ki(n)&&0!==P(ii(n),2,0)&&ui(ii(a),P(ii(n),2,0));if(null!=(i=s.session_id)){if(!w(i))return void I(o,Y("user.session_id"));vi(ii(a),Dh(i))}else null!=n&&Ki(n)&&!Oc(P(ii(n),3,""))&&vi(ii(a),P(ii(n),3,""));if(null!=(i=s.locale)){if(!w(i))return void I(o,Y("user.locale"));wi(ii(a),Dh(i))}else null!=n&&Ki(n)&&!Oc(P(ii(n),4,""))&&wi(ii(a),P(ii(n),4,""));if(null!=(i=s.ip)){if(!w(i))return void I(o,Y("user.ip"));xi(ii(a),Dh(i))}else null!=n&&Ki(n)&&!Oc(P(ii(n),5,""))&&xi(ii(a),P(ii(n),5,""));if(null!=(i=s.is_robot)){if(!rb(i))return void I(o,Y("user.is_robot"));yi(ii(a),Ch(i))}else null!=n&&Ki(n)&&yi(ii(a),kh(ii(n),6))}else null!=n&&Ki(n)&&Uh(a,ii(n));if(null!=(i=t.device)){if(!q(i))return void I(o,Y("device"));if(Wh(a,new Lh),null!=(i=(s=i).screen_width)){if(!x(i)||0>i)return void I(o,Y("device.screen_width"));zi(ki(a),Bh(i))}else null!=n&&null!=N(n,4)&&0!==P(ki(n),1,0)&&zi(ki(a),P(ki(n),1,0));if(null!=(i=s.screen_height)){if(!x(i)||0>i)return void I(o,Y("device.screen_height"));Ai(ki(a),Bh(i))}else null!=n&&null!=N(n,4)&&0!==P(ki(n),2,0)&&Ai(ki(a),P(ki(n),2,0));if(null!=(i=s.user_agent)){if(!w(i))return void I(o,Y("device.user_agent"));Bi(ki(a),Dh(i))}else null!=n&&null!=N(n,4)&&!Oc(P(ki(n),3,""))&&Bi(ki(a),P(ki(n),3,""))}else null!=n&&null!=N(n,4)&&Wh(a,ki(n));if(null!=N(a,4)||Wh(a,new Lh),0===P(ki(a),1,0)&&null!=(s=xk(e))&&0!==s&&zi(ki(a),s),0===P(ki(a),2,0)&&null!=(s=yk(e))&&0!==s&&Ai(ki(a),s),Oc(P(ki(a),3,""))&&(null==(s=e.G.userAgent)||Oc(s)||Bi(ki(a),s)),null!=(i=t.site)){if(!q(i))return void I(o,Y("site"));if(Yh(a,new Mh),null!=(i=(s=i).id)){if(!x(i)||0>i)return void I(o,Y("site.id"));Ci(mi(a),Bh(i))}else null!=n&&null!=N(n,5)&&0!==P(mi(n),1,0)&&Ci(mi(a),P(mi(n),1,0));if(null!=(i=s.name)){if(!w(i))return void I(o,Y("site.name"));Di(mi(a),Dh(i))}else null!=n&&null!=N(n,5)&&!Oc(P(mi(n),2,""))&&Di(mi(a),P(mi(n),2,""));if(null!=(i=s.domain)){if(!w(i))return void I(o,Y("site.domain"));Ei(mi(a),Dh(i))}else null!=n&&null!=N(n,5)&&!Oc(P(mi(n),3,""))&&Ei(mi(a),P(mi(n),3,""))}else null!=n&&null!=N(n,5)&&Yh(a,mi(n));if(null!=(i=t.page)){if(!q(i))return void I(o,Y("page"));if($h(a,new Nh),null!=(i=(s=i).url)){if(!w(i))return void I(o,Y("page.url"));Fi(oi(a),Dh(i))}else null!=n&&null!=N(n,6)&&!Oc(P(oi(n),1,""))&&Fi(oi(a),P(oi(n),1,""));if(null!=(i=s.canonical)){if(!w(i))return void I(o,Y("page.canonical"));Gi(oi(a),Dh(i))}else null!=n&&null!=N(n,6)&&!Oc(P(oi(n),2,""))&&Gi(oi(a),P(oi(n),2,""));if(null!=(i=s.referrer)){if(!w(i))return void I(o,Y("page.referrer"));Hi(oi(a),Dh(i))}else null!=n&&null!=N(n,6)&&!Oc(P(oi(n),3,""))&&Hi(oi(a),P(oi(n),3,""))}else null!=n&&null!=N(n,6)&&$h(a,oi(n));null!=N(a,6)||$h(a,new Nh),Oc(P(oi(a),1,""))&&(null==(s=e.N.href)||Oc(s)||Fi(oi(a),s)),Oc(P(oi(a),2,""))&&(null==(s=zk())||Oc(s)||Gi(oi(a),s)),Oc(P(oi(a),3,""))&&(null==(s=e.C.referrer)||Oc(s)||Hi(oi(a),s));var c=null;if(null!=(i=t.filter_ids)){if(!Array.isArray(i))return void I(o,Y("filter_ids"));c=i}if(null!=(i=t.blocks)){if(!Array.isArray(i))return void I(o,Y("blocks"));u(i,(function(t,n){if(q(t)){var r=new Oh;if(null!=(i=t.block_type))switch(i){case"DEFAULT":mh(r,8,0,0);break;case"VIDEO":mh(r,8,1,0);break;default:return void I(o,Y("blocks["+n+"].block_type"))}if(null!=(i=t.block_id)){if(!x(i)||0>i)return void I(o,Y("blocks["+n+"].block_id"));R(r,1,Bh(i))}if(null!=(i=t.tag_id)){if(!w(i))return void I(o,Y("blocks["+n+"].tag_id"));U(r,2,Dh(i))}if(null!=(i=t.fields)){if(!x(i)||0>i)return void I(o,Y("blocks["+n+"].fields"));R(r,3,Bh(i))}if(null!=(i=t.count)){if(!x(i)||0>i)return void I(o,Y("blocks["+n+"].count"));R(r,4,Bh(i))}if(null!=(i=t.image_width)){if(!x(i)||0>i)return void I(o,Y("blocks["+n+"].image_width"));R(r,5,Bh(i))}if(null!=(i=t.image_height)){if(!x(i)||0>i)return void I(o,Y("blocks["+n+"].image_height"));R(r,6,Bh(i))}if(null!=(i=t.ignore_block_view)){if(!rb(i))return void I(o,Y("blocks["+n+"].ignore_block_view"));mh(r,7,Ch(i),!1)}else mh(r,7,Ch(e.b.has(P(r,1,0))),!1);W(a,8,r,Oh)}}))}if(null!=(i=t.adpreview)){if(!q(i))return void I(o,Y("adpreview"));if(ci(a,new Ph),null!=(i=(s=i).main_news_id)){if(!x(i)||0>i)return void I(o,Y("adpreview.main_news_id"));Ii(ri(a),Bh(i))}else null!=n&&null!=N(n,9)&&0!==P(ri(n),1,0)&&Ii(ri(a),P(ri(n),1,0));if(null!=(i=s.body_id)){if(!x(i)||0>i)return void I(o,Y("adpreview.body_id"));Ji(ri(a),Bh(i))}else null!=n&&null!=N(n,9)&&0!==P(ri(n),2,0)&&Ji(ri(a),P(ri(n),2,0))}else null!=n&&null!=N(n,9)&&ci(a,ri(n));if(null!=(i=t.source_block_id)){if(!x(i)||0>i)return void I(o,Y("source_block_id"));di(a,Bh(i))}else null!=n&&0!==P(n,10,0)&&di(a,P(n,10,0));if(null!=(i=t.source_id)){if(!x(i)||0>i)return void I(o,Y("source_id"));ei(a,Bh(i))}else null!=n&&0!==P(n,11,0)&&ei(a,P(n,11,0));if(null!=(i=t.strategy_id)){if(!x(i)||0>i)return void I(o,Y("strategy_id"));fi(a,Bh(i))}else null!=n&&0!==P(n,12,0)&&fi(a,P(n,12,0));if(null!=(i=t.ab_test)){if(!w(i))return void I(o,Y("ab_test"));gi(a,Dh(i))}else null==n||Oc(P(n,13,""))||gi(a,P(n,13,""));r&&u(oh(a,Oh,8),(function(t){e.b.delete(P(t,1,0)),e.h.delete(P(t,1,0))})),e.i=e.i.then((function(){return new Bf((function(t){gg(o,t),hf(Vc(),"jsapi.dao.Dao#getRtbNews",(function(){var t=sg++%65535;R(a,1,t),lh(a,7,(null!=c&&qb(c)?c:e.c)||[]);var n=Fg(hi(a));tg(e.o,"https://"+Xc(e.j)+"/jsapi?action=rtb_news&payload="+n,t,(function(t){if(q(t)&&(Array.isArray(t.blocks)&&u(t.blocks,(function(t){q(t)&&(x(t.block_id)&&e.b.add(t.block_id),Array.isArray(t.items)&&u(t.items,(function(t){x(t.id)&&(t=t.id,e.c.push(t),$c(e.v,Hd(t)))})))})),Array.isArray(t.trace)))try{u(t.trace,(function(e){if(q(e)&&w(e.type)&&qb(e.value)){var t=e.value;switch(e.type){case"info":e=console.info;break;case"warn":e=console.warn;break;case"error":e=console.error;break;case"table":e=console.table;break;default:e=console.log}e.call(this,t)}}))}catch(e){console.error("Failed to process RTB trace object")}cg(o,t)}),(function(){I(o,Error("Failed to get RTB news"))}))}),(function(){}),(function(e){I(o,e)}))}))}))}function Ak(e,t,n,r){var o=new Xf;null!=n&&B(n)&&dg(o,n),null!=r&&B(r)&&fg(o,r);var a,i={};if(r=!1,null!=(n=t.init)&&rb(n)&&(r=n),null==(n=t.block_id)||!x(n)||0>n)I(o,Y("block_id"));else{i.block_id=a=n;var s="RANK";if(null!=(n=t.sort_type)&&(w(n)?s=n:I(o,Y("sort_type"))),i.sort_type=s,null!=(n=t.count)){if(!x(n)||0>n||100<n)return void I(o,Y("count"));i.count=n}if(null!=(n=t.fields)){if(!x(n))return void I(o,Y("fields"));i.fields=n}if(null!=(n=t.has_images)){if(!rb(n))return void I(o,Y("has_images"));i.has_images=n}if(null!=(n=t.has_amp_url)){if(!rb(n))return void I(o,Y("has_amp_url"));i.has_amp_url=n}if(null!=(n=t.has_recommend)){if(!rb(n))return void I(o,Y("has_recommend"));i.has_recommend=n}if(null!=(n=t.is_good_feed)){if(!rb(n))return void I(o,Y("is_good_feed"));i.is_good_feed=n}if(null!=(n=t.ctx)){if(!x(n))return void I(o,Y("ctx"));i.ctx=n}if(null!=(n=t.story)){if(!x(n))return void I(o,Y("story"));i.story=n}if(null!=(n=t.story_article)){if(!x(n))return void I(o,Y("story_article"));i.story_article=n}var c=null;if(null!=(n=t.filter_ids)){if(!sb(n))return void I(o,Y("filter_ids"));c=n}if(null!=(n=t.topics)){if(!sb(n))return void I(o,Y("topics"));i.topics=n}if(null!=(n=t.publisher)){if(!x(n))return void I(o,Y("publisher"));i.publisher=n}if(null!=(n=t.filter_publishers)){if(!sb(n))return void I(o,Y("filter_publishers"));i.filter_publishers=n}if(s=null,null!=(n=t.loc_id)){if(!x(n))return void I(o,Y("loc_id"));s=n}if(i.loc_id=null!=s?s:-1,null!=(n=t.strategy_id)){if(!x(n)||0>n)return void I(o,Y("strategy_id"));i.strategy_id=n}if(null!=(n=t.trend_id)){if(!x(n))return void I(o,Y("trend_id"));i.trend_id=n}if(null!=(n=t.tag_id)){if(!x(n))return void I(o,Y("tag_id"));i.tag_id=n}if(null!=(n=t.image_width)){if(!x(n)||0>n)return void I(o,Y("image_width"));i.image_width=n}if(null!=(n=t.image_height)){if(!x(n)||0>n)return void I(o,Y("image_height"));i.image_height=n}if(null!=(n=t.similar_article_id)){if(!x(n))return void I(o,Y("similar_article_id"));i.similar_article_id=n}r&&(e.a.delete(a),e.h.delete(a)),e.f=e.f.then((function(){return new Bf((function(t){gg(o,t),hf(Vc(),"jsapi.dao.Dao#getArticles",(function(){e.a.has(a)&&(i.block_ignore_view=!0);var t=null!=c?c.length:e.a.has(a)?e.a.get(a):0;i.offset=t,i.filter_ids=null!=c?c:e.D,t=Lj(i),ck(sk(e,"articles"),(function(t){if(200===lk(t=t.target)){var n=void 0;try{n=mk(t)}catch(e){return void I(o,e)}null==c&&n&&0<n.length&&(u(n,(function(t){(t=t.id)&&e.D.push(t)})),e.a.set(a,(e.a.has(a)?e.a.get(a):0)+n.length)),cg(o,n)}else I(o,Error("Failed to get articles"))}),"POST",t,pk,!0)}),(function(){}),(function(e){I(o,e)}))}))}))}}function Bk(e,t,n,r){var o=new Xf;null!=n&&B(n)&&dg(o,n),null!=r&&B(r)&&fg(o,r);var a={};if(null==(n=t.block_id)||!x(n)||0>n)I(o,Y("block_id"));else if(a.block_id=n,null==(n=t.article_id)||!x(n)||0>n)I(o,Y("article_id"));else{if(a.article_id=n,null!=(n=t.image_width)){if(!x(n)||0>n)return void I(o,Y("image_width"));a.image_width=n}if(null!=(n=t.image_height)){if(!x(n)||0>n)return void I(o,Y("image_height"));a.image_height=n}if(null!=(n=t.fields)){if(!x(n))return void I(o,Y("fields"));a.fields=n}if(null!=(n=t.strategy_id)){if(!x(n)||0>n)return void I(o,Y("strategy_id"));a.strategy_id=n}e.f=e.f.then((function(){return new Bf((function(t){gg(o,t),hf(Vc(),"jsapi.dao.Dao#getArticleDetails",(function(){var t=Lj(a);ck(sk(e,"article_details"),(function(t){var n=t.target;if(200===lk(n)){t=void 0;try{t=mk(n)}catch(e){return void I(o,e)}t&&(n=t.id)&&e.D.push(n),cg(o,t)}else I(o,Error("Failed to get article details"))}),"POST",t,pk,!0)}),(function(){}),(function(e){I(o,e)}))}))}))}}function Ck(e,t,n,r){var o=new Xf;null!=n&&B(n)&&dg(o,n),null!=r&&B(r)&&fg(o,r);var a={};if(null==(n=t.block_id)||!x(n)||0>n)I(o,Y("block_id"));else{if(a.block_id=n,null!=(n=t.tags_count)&&(!x(n)||0>n?I(o,Y("tags_count")):a.tags_count=n),null!=(n=t.tags_type)&&(w(n)?a.tags_type=n:I(o,Y("tags_type"))),null!=(n=t.fields)){if(!x(n))return void I(o,Y("fields"));a.fields=n}hf(Vc(),"jsapi.dao.Dao#getProperties",(function(){var t=Lj(a);ck(sk(e,"properties"),(function(e){if(200===lk(e=e.target)){var t=void 0;try{t=mk(e)}catch(e){return void I(o,e)}cg(o,t)}else I(o,Error("Failed to get properties"))}),"POST",t,pk,!0)}),(function(){}),(function(e){I(o,e)}))}}function Dk(e,t,n,r){var o=new Xf;null!=n&&B(n)&&dg(o,n),null!=r&&B(r)&&fg(o,r);var a={};null==(n=t.block_id)||!x(n)||0>n?I(o,Y("block_id")):(a.block_id=n,null==(n=t.tag_id)||!x(n)||0>n?I(o,Y("tag_id")):(a.tag_id=n,hf(Vc(),"jsapi.dao.Dao#getTagDetails",(function(){var t=Lj(a);ck(sk(e,"tag_details"),(function(e){if(200===lk(e=e.target)){var t=void 0;try{t=mk(e)}catch(e){return void I(o,e)}cg(o,t)}else I(o,Error("Failed to get tag details"))}),"POST",t,pk,!0)}),(function(){}),(function(e){I(o,e)}))))}function Ek(e,t,n,r){var o=new Xf;null!=n&&B(n)&&dg(o,n),null!=r&&B(r)&&fg(o,r);var a={};null==(t=t.block_id)||!x(t)||0>t?I(o,Y("block_id")):(a.block_id=t,hf(Vc(),"jsapi.dao.Dao#getLocation",(function(){var t=Lj(a);ck(sk(e,"location"),(function(e){if(200===lk(e=e.target)){var t=void 0;try{t=mk(e)}catch(e){return void I(o,e)}cg(o,t)}else I(o,Error("Failed to get location"))}),"POST",t,pk,!0)}),(function(){}),(function(e){I(o,e)})))}function Fk(e,t,n,r){var o=new Xf;null!=n&&B(n)&&dg(o,n),null!=r&&B(r)&&fg(o,r);var a={};null==(t=t.block_id)||!x(t)||0>t?I(o,Y("block_id")):(a.block_id=t,hf(Vc(),"jsapi.dao.Dao#getCurrency",(function(){var t=Lj(a);ck(sk(e,"currency"),(function(e){if(200===lk(e=e.target)){var t=void 0;try{t=mk(e)}catch(e){return void I(o,e)}cg(o,t)}else I(o,Error("Failed to get currency"))}),"POST",t,pk,!0)}),(function(){}),(function(e){I(o,e)})))}function Gk(e){var t;return q(e)&&Array.isArray(t=e.blocks)&&0!==t.length&&q(t[0])&&(e=t[0],Array.isArray(e.items))?e.items:[]}function Hk(e){Array.isArray(e)&&u(e,(function(e){var t,n;q(e)&&q(t=e.trackers)&&Array.isArray(n=t.view)&&u(n,(function(e){w(e)&&vk(e)}))}))}function Ik(e){var t,n;q(e)&&q(t=e.trackers)&&Array.isArray(n=t.viewability)&&u(n,(function(e){w(e)&&vk(e)}))}function Jk(e){var t,n;q(e)&&q(t=e.trackers)&&Array.isArray(n=t.click)&&u(n,(function(e){w(e)&&vk(e)}))}function vk(e){try{var t=window;t[qk]||(t[qk]=[]);var n=Ue("img",{src:e,alt:""});t[qk].push(n)}catch(e){}}function Kk(e,t){null!=t&&(sb(t)?u(t,(function(t){q(t)&&Lk(e,t)})):q(t)&&Lk(e,t))}function Lk(e,t){var n=0,r=t.news_id;if(null!=r){if(!x(r))return;n=r}var o=0;if(null!=(r=t.article_id)){if(!x(r))return;o=r}var a=0;if(null!=(r=t.block_id)){if(!x(r))return;a=r}var i=0;if(null!=(r=t.strategy_id)){if(!x(r)||0>r)return;i=r}var s=0;if(null!=(r=t.source_id)){if(!x(r))return;s=r}var c=null;if(null!=(r=t.bvuuid)){if(!w(r))return;c=r}var l=null;null!=(r=t.ignore_block_view)&&rb(r)&&(l=r);var u=null;if(null!=(r=t.ab_test)){if(!w(r))return;u=r}r=new wh,0!==n&&R(r,1,Ah(n)),0!==o&&R(r,2,Ah(o)),0!==a&&(R(r,3,Ah(a)),mh(r,7,null!=l?Ch(l):n=Ch(e.h.has(a)),!1),e.h.add(a)),0!==i&&R(r,4,Bh(i)),0!==s&&R(r,5,Ah(s)),null==c||Oc(c)||U(r,6,Dh(c)),null==u||Oc(u)||U(r,8,Dh(u)),e.M.push(r),e.K.m()}function ok(e){for(var t,n=[];null!=(t=e.M.pop());)n.push(t);0!==n.length&&hf(Vc(),"jsapi.dao.Dao#viewability",(function(){var t=sg++%65535,r=new uh;R(r,1,Ah(t)),sh(r,n),r=Fg(yh(r)),tg(e.o,"https://"+Wc(e.j)+"/newdata/jsapi?action=viewability&payload="+r,t,(function(){}),(function(){}))}),(function(){}),(function(){}))}function Y(e){return Error("The '"+e+"' parameter is invalid")}function zk(){try{var e=Pe(document,"link",void 0,void 0);if(null!=e&&Aa(e)){var t,n=Sa(e,(function(e){return"canonical"===e.getAttribute("rel")&&null!=e.getAttribute("href")}));if(!bb(n)&&!Oc(t=n[0].getAttribute("href")))return t}}catch(e){}return null}function xk(e){return qb(e=e.m.screen)&&qb(e=e.width)?e:0}function yk(e){return qb(e=e.m.screen)&&qb(e=e.height)?e:0}function sk(e,t){return"https://"+Wc(e.j)+"/newdata/jsapi?action="+t}r("JsAPI.Dom.appendChild",Ye),r("JsAPI.Dom.createDom",Ue),r("JsAPI.Dom.createTextNode",(function(e){return document.createTextNode(String(e))})),r("JsAPI.Dom.getElement",(function(e){return"string"==typeof e?document.getElementById(e):e})),r("JsAPI.Dom.getParentElement",bf),r("JsAPI.Dom.removeChildren",Ze),r("JsAPI.Event.listen",oj),r("JsAPI.Event.listenOnce",pj),r("JsAPI.Event.unlisten",wj);var Mk={"* ARIA-CHECKED":!0,"* ARIA-COLCOUNT":!0,"* ARIA-COLINDEX":!0,"* ARIA-CONTROLS":!0,"* ARIA-DESCRIBEDBY":!0,"* ARIA-DISABLED":!0,"* ARIA-EXPANDED":!0,"* ARIA-GOOG-EDITABLE":!0,"* ARIA-HASPOPUP":!0,"* ARIA-HIDDEN":!0,"* ARIA-LABEL":!0,"* ARIA-LABELLEDBY":!0,"* ARIA-MULTILINE":!0,"* ARIA-MULTISELECTABLE":!0,"* ARIA-ORIENTATION":!0,"* ARIA-PLACEHOLDER":!0,"* ARIA-READONLY":!0,"* ARIA-REQUIRED":!0,"* ARIA-ROLEDESCRIPTION":!0,"* ARIA-ROWCOUNT":!0,"* ARIA-ROWINDEX":!0,"* ARIA-SELECTED":!0,"* ABBR":!0,"* ACCEPT":!0,"* ACCESSKEY":!0,"* ALIGN":!0,"* ALT":!0,"* AUTOCOMPLETE":!0,"* AXIS":!0,"* BGCOLOR":!0,"* BORDER":!0,"* CELLPADDING":!0,"* CELLSPACING":!0,"* CHAROFF":!0,"* CHAR":!0,"* CHECKED":!0,"* CLEAR":!0,"* COLOR":!0,"* COLSPAN":!0,"* COLS":!0,"* COMPACT":!0,"* COORDS":!0,"* DATETIME":!0,"* DIR":!0,"* DISABLED":!0,"* ENCTYPE":!0,"* FACE":!0,"* FRAME":!0,"* HEIGHT":!0,"* HREFLANG":!0,"* HSPACE":!0,"* ISMAP":!0,"* LABEL":!0,"* LANG":!0,"* MAX":!0,"* MAXLENGTH":!0,"* METHOD":!0,"* MULTIPLE":!0,"* NOHREF":!0,"* NOSHADE":!0,"* NOWRAP":!0,"* OPEN":!0,"* READONLY":!0,"* REQUIRED":!0,"* REL":!0,"* REV":!0,"* ROLE":!0,"* ROWSPAN":!0,"* ROWS":!0,"* RULES":!0,"* SCOPE":!0,"* SELECTED":!0,"* SHAPE":!0,"* SIZE":!0,"* SPAN":!0,"* START":!0,"* SUMMARY":!0,"* TABINDEX":!0,"* TITLE":!0,"* TYPE":!0,"* VALIGN":!0,"* VALUE":!0,"* VSPACE":!0,"* WIDTH":!0},Nk={"* USEMAP":!0,"* ACTION":!0,"* CITE":!0,"* HREF":!0,"* LONGDESC":!0,"* SRC":!0,"LINK HREF":!0,"* FOR":!0,"* HEADERS":!0,"* NAME":!0,"A TARGET":!0,"* CLASS":!0,"* ID":!0,"* STYLE":!0},Ok={};function Pk(e){if(F&&!De(9))return[0,0,0,0];var t=Ok.hasOwnProperty(e)?Ok[e]:null;if(t)return t;65536<Object.keys(Ok).length&&(Ok={});var n=[0,0,0,0],r=RegExp("\\\\[0-9A-Fa-f]{1,5}\\s","g");return t=Qk(e,RegExp("\\\\[0-9A-Fa-f]{6}\\s?","g")),t=Qk(t,r),t=Rk(t=(t=(t=Qk(t,/\\./g)).replace(RegExp(":not\\(([^\\)]*)\\)","g"),"     $1 ")).replace(RegExp("{[^]*","gm"),""),n,RegExp("(\\[[^\\]]+\\])","g"),2),t=Rk(t,n,RegExp("(#[^\\#\\s\\+>~\\.\\[:]+)","g"),1),t=Rk(t,n,RegExp("(\\.[^\\s\\+>~\\.\\[:]+)","g"),2),t=Rk(t,n,/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,3),t=Rk(t,n,/(:[\w-]+\([^\)]*\))/gi,2),t=Rk(t,n,/(:[^\s\+>~\.\[:]+)/g,2),Rk(t=(t=t.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),n,/([^\s\+>~\.\[:]+)/g,3),t=n,Ok[e]=t}function Rk(e,t,n,r){return e.replace(n,(function(e){return t[r]+=1,Array(e.length+1).join(" ")}))}function Qk(e,t){return e.replace(t,(function(e){return Array(e.length+1).join("A")}))}var Sk={rgb:!0,rgba:!0,alpha:!0,rect:!0,image:!0,"linear-gradient":!0,"radial-gradient":!0,"repeating-linear-gradient":!0,"repeating-radial-gradient":!0,"cubic-bezier":!0,matrix:!0,perspective:!0,rotate:!0,rotate3d:!0,rotatex:!0,rotatey:!0,steps:!0,rotatez:!0,scale:!0,scale3d:!0,scalex:!0,scaley:!0,scalez:!0,skew:!0,skewx:!0,skewy:!0,translate:!0,translate3d:!0,translatex:!0,translatey:!0,translatez:!0},Tk=/[\n\f\r"'()*<>]/g,Uk={"\n":"%0a","\f":"%0c","\r":"%0d",'"':"%22","'":"%27","(":"%28",")":"%29","*":"%2a","<":"%3c",">":"%3e"};function Vk(e){return Uk[e]}function Wk(e,t,n){if(""==(t=D(t)))return null;var r=String(t.substr(0,4)).toLowerCase();if(0==("url("<r?-1:"url("==r?0:1)){if(!t.endsWith(")")||1<(t?t.split("(").length-1:0)||1<(t?t.split(")").length-1:0)||!n)e=null;else{e:for(t=t.substring(4,t.length-1),r=0;2>r;r++){var o="\"'".charAt(r);if(t.charAt(0)==o&&t.charAt(t.length-1)==o){t=t.substring(1,t.length-1);break e}}e=n&&(e=n(t,e))&&"about:invalid#zClosurez"!=$b(e)?'url("'+$b(e).replace(Tk,Vk)+'")':null}return e}if(0<t.indexOf("(")){if(/"|'/.test(t))return null;for(e=/([\-\w]+)\(/g;n=e.exec(t);)if(!(n[1].toLowerCase()in Sk))return null}return t}function Xk(e,t){var r=n[e];return r&&r.prototype&&(r=Object.getOwnPropertyDescriptor(r.prototype,t))&&r.get||null}function Yk(e,t){var r=n[e];return r&&r.prototype&&r.prototype[t]||null}var Zk=Xk("Element","attributes")||Xk("Node","attributes"),$k=Yk("Element","hasAttribute"),al=Yk("Element","getAttribute"),bl=Yk("Element","setAttribute"),cl=Yk("Element","removeAttribute");Xk("Element","innerHTML")||Xk("HTMLElement","innerHTML");var dl=Yk("Element","getElementsByTagName"),el=Yk("Element","matches")||Yk("Element","msMatchesSelector"),fl=Xk("Node","nodeName"),gl=Xk("Node","nodeType"),hl=Xk("Node","parentNode");Xk("Node","childNodes");var il=Xk("HTMLElement","style")||Xk("Element","style"),jl=Xk("HTMLStyleElement","sheet"),kl=Yk("CSSStyleDeclaration","getPropertyValue"),ll=Yk("CSSStyleDeclaration","setProperty");function ml(e,t,n,r){if(e)return e.apply(t);if(!r(e=t[n]))throw Error("Clobbering detected");return e}function nl(e,t,n,r){if(e)return e.apply(t,r);if(F&&10>document.documentMode){if(!t[n].call)throw Error("IE Clobbering detected")}else if("function"!=typeof t[n])throw Error("Clobbering detected");return t[n].apply(t,r)}function ol(e){return ml(Zk,e,"attributes",(function(e){return e instanceof NamedNodeMap}))}function pl(e,t,n){try{nl(bl,e,"setAttribute",[t,n])}catch(e){if(-1==e.message.indexOf("A security problem occurred"))throw e}}function ql(e){return ml(il,e,"style",(function(e){return e instanceof CSSStyleDeclaration}))}function rl(e){return ml(jl,e,"sheet",(function(e){return e instanceof CSSStyleSheet}))}function sl(e){return ml(fl,e,"nodeName",(function(e){return"string"==typeof e}))}function tl(e){return ml(gl,e,"nodeType",(function(e){return"number"==typeof e}))}function ul(e){return ml(hl,e,"parentNode",(function(e){return!(e&&"string"==typeof e.name&&e.name&&"parentnode"==e.name.toLowerCase())}))}function vl(e,t){return nl(kl,e,e.getPropertyValue?"getPropertyValue":"getAttribute",[t])||""}function wl(e,t,n){nl(ll,e,e.setProperty?"setProperty":"setAttribute",[t,n])}var xl=F&&10>document.documentMode?null:RegExp("\\s*([^\\s'\",]+[^'\",]*(('([^'\\r\\n\\f\\\\]|\\\\[^])*')|(\"([^\"\\r\\n\\f\\\\]|\\\\[^])*\")|[^'\",])*)","g"),yl={"-webkit-border-horizontal-spacing":!0,"-webkit-border-vertical-spacing":!0};function zl(e,t,n){var r=[];return e=Al(hb(e.cssRules)),u(e,(function(e){if(t&&!/[a-zA-Z][\w-:\.]*/.test(t))throw Error("Invalid container id");if(!(t&&F&&10==document.documentMode&&/\\['"]/.test(e.selectorText))){var o=t?e.selectorText.replace(xl,"#"+t+" $1"):e.selectorText;r.push(qc(o,Bl(e.style,n)))}})),sc(r)}function Al(e){return Sa(e,(function(e){return e instanceof CSSStyleRule||e.type==CSSRule.STYLE_RULE}))}function Cl(e,t,n){return null==(e=Dl("<style>"+e+"</style>"))||null==e.sheet?uc:zl(e.sheet,null!=t?t:null,n)}function Dl(e){return F&&!De(10)||"function"!=typeof n.DOMParser?null:(e=Ec("<html><head></head><body>"+e+"</body></html>",null),(new DOMParser).parseFromString(Cc(e),"text/html").body.children[0])}function Bl(e,t){if(!e)return gc;var n=document.createElement("div").style,r=El(e);return u(r,(function(r){var o=pe&&r in yl?r:r.replace(/^-(?:apple|css|epub|khtml|moz|mso?|o|rim|wap|webkit|xv)-(?=[a-z])/i,"");0!=o.lastIndexOf("--",0)&&0!=o.lastIndexOf("var",0)&&null!=(r=Wk(o,r=vl(e,r),t))&&wl(n,o,r)})),fc(n.cssText||"")}function Fl(e){var t,n=Array.from(nl(dl,e,"getElementsByTagName",["STYLE"])),r=pb(n,(function(e){return hb(rl(e).cssRules)}));for((r=Al(r)).sort((function(e,t){var n=Pk(e.selectorText);e:{for(var r=Pk(t.selectorText),o=lb,a=Math.min(n.length,r.length),i=0;i<a;i++){var s=o(n[i],r[i]);if(0!=s){n=s;break e}}n=lb(n.length,r.length)}return-n})),e=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null,!1);t=e.nextNode();)u(r,(function(e){nl(el,t,t.matches?"matches":"msMatchesSelector",[e.selectorText])&&e.style&&Gl(t,e.style)}));u(n,$e)}function Gl(e,t){var n=El(e.style),r=El(t);u(r,(function(r){if(!(0<=n.indexOf(r))){var o=vl(t,r);wl(e.style,r,o)}}))}function El(e){return Aa(e)?e=hb(e):eb(e=vb(e),"cssText"),e}var Hl="undefined"!=typeof WeakMap&&-1!=WeakMap.toString().indexOf("[native code]"),Il=0;function Jl(){this.c=[],this.b=[],this.a="data-elementweakmap-index-"+Il++}Jl.prototype.set=function(e,t){if(nl($k,e,"hasAttribute",[this.a])){var n=parseInt(nl(al,e,"getAttribute",[this.a])||null,10);this.b[n]=t}else n=this.b.push(t)-1,pl(e,this.a,n.toString()),this.c.push(e);return this},Jl.prototype.get=function(e){if(nl($k,e,"hasAttribute",[this.a]))return e=parseInt(nl(al,e,"getAttribute",[this.a])||null,10),this.b[e]},Jl.prototype.clear=function(){this.c.forEach((function(e){nl(cl,e,"removeAttribute",[this.a])}),this),this.c=[],this.b=[]};var Kl=!F||10<=Number(Ge),Ll=!F||null==document.documentMode;function Ml(){}var Nl={APPLET:!0,AUDIO:!0,BASE:!0,BGSOUND:!0,EMBED:!0,FORM:!0,IFRAME:!0,ISINDEX:!0,KEYGEN:!0,LAYER:!0,LINK:!0,META:!0,OBJECT:!0,SCRIPT:!0,SVG:!0,STYLE:!0,TEMPLATE:!0,VIDEO:!0},Ol={A:!0,ABBR:!0,ACRONYM:!0,ADDRESS:!0,AREA:!0,ARTICLE:!0,ASIDE:!0,B:!0,BDI:!0,BDO:!0,BIG:!0,BLOCKQUOTE:!0,BR:!0,BUTTON:!0,CAPTION:!0,CENTER:!0,CITE:!0,CODE:!0,COL:!0,COLGROUP:!0,DATA:!0,DATALIST:!0,DD:!0,DEL:!0,DETAILS:!0,DFN:!0,DIALOG:!0,DIR:!0,DIV:!0,DL:!0,DT:!0,EM:!0,FIELDSET:!0,FIGCAPTION:!0,FIGURE:!0,FONT:!0,FOOTER:!0,FORM:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HEADER:!0,HGROUP:!0,HR:!0,I:!0,IMG:!0,INPUT:!0,INS:!0,KBD:!0,LABEL:!0,LEGEND:!0,LI:!0,MAIN:!0,MAP:!0,MARK:!0,MENU:!0,METER:!0,NAV:!0,NOSCRIPT:!0,OL:!0,OPTGROUP:!0,OPTION:!0,OUTPUT:!0,P:!0,PRE:!0,PROGRESS:!0,Q:!0,S:!0,SAMP:!0,SECTION:!0,SELECT:!0,SMALL:!0,SOURCE:!0,SPAN:!0,STRIKE:!0,STRONG:!0,STYLE:!0,SUB:!0,SUMMARY:!0,SUP:!0,TABLE:!0,TBODY:!0,TD:!0,TEXTAREA:!0,TFOOT:!0,TH:!0,THEAD:!0,TIME:!0,TR:!0,TT:!0,U:!0,UL:!0,VAR:!0,WBR:!0},Pl={"ANNOTATION-XML":!0,"COLOR-PROFILE":!0,"FONT-FACE":!0,"FONT-FACE-SRC":!0,"FONT-FACE-URI":!0,"FONT-FACE-FORMAT":!0,"FONT-FACE-NAME":!0,"MISSING-GLYPH":!0};function Ql(e){Sl(e=e||new Rl),this.a=zb(e.a),this.i=zb(e.M),this.c=zb(e.c),this.j=e.o,u(e.j,(function(e){if(0!=e.lastIndexOf("data-",0))throw new Oa('Only "data-" attributes allowed, got: %s.',[e]);if(0==e.lastIndexOf("data-sanitizer-",0))throw new Oa('Attributes with "%s" prefix are not allowed, got: %s.',["data-sanitizer-",e]);this.a["* "+e.toUpperCase()]=Tl}),this),u(e.h,(function(e){if(-1==(e=e.toUpperCase()).indexOf("-")||Pl[e])throw new Oa("Only valid custom element tag names allowed, got: %s.",[e]);this.c[e]=!0}),this),this.h=e.f,this.f=e.v,this.b=null,this.m=e.D}function Ul(e){return function(t,n){var r=e(D(t),n);return r&&"about:invalid#zClosurez"!=$b(r)?$b(r):null}}function Rl(){this.a={},u([Mk,Nk],(function(e){u(vb(e),(function(e){this.a[e]=Tl}),this)}),this),this.b={},this.j=[],this.h=[],this.M=zb(Nl),this.c=zb(Ol),this.o=!1,this.G=bc,this.N=this.m=this.C=this.f=tb,this.v=null,this.i=this.D=!1}function Vl(e,t){return e.c={SPAN:!0},u(t,(function(e){if(e=e.toUpperCase(),!Ol[e])throw Error("Only whitelisted tags can be allowed. See goog.html.sanitizer.TagWhitelist.");this.c[e]=!0}),e),e}function Wl(e,t){var n=e.a;return e.a={},u(t,(function(e){"string"==typeof e&&(e={tagName:"*",attributeName:e.toUpperCase(),Hb:null});var t=Xl(e.tagName,e.attributeName);if(!n[t])throw Error("Only whitelisted attributes can be allowed.");this.a[t]=e.Hb?e.Hb:Tl}),e),e}function Yl(e,t){return function(n,r,o,a){return null==(n=e(n,r,o,a))?null:t(n,r,o,a)}}function Zl(e,t,n,r){e[n]&&!t[n]&&(e[n]=Yl(e[n],r))}function Sl(e){if(e.i)throw Error("HtmlSanitizer.Builder.build() can only be used once.");Zl(e.a,e.b,"* USEMAP",$l);var t=Ul(e.G);u(["* ACTION","* CITE","* HREF"],(function(e){Zl(this.a,this.b,e,t)}),e);var n=Ul(e.f);u(["* LONGDESC","* SRC","LINK HREF"],(function(e){Zl(this.a,this.b,e,n)}),e),u(["* FOR","* HEADERS","* NAME"],(function(e){Zl(this.a,this.b,e,Ia(am,this.C))}),e),Zl(e.a,e.b,"A TARGET",Ia(bm,["_blank","_self"])),Zl(e.a,e.b,"* CLASS",Ia(cm,e.m)),Zl(e.a,e.b,"* ID",Ia(dm,e.m)),Zl(e.a,e.b,"* STYLE",Ia(e.N,n)),e.i=!0}function Xl(e,t){return e||(e="*"),(e+" "+t).toUpperCase()}function Tl(e){return D(e)}function bm(e,t){var n=D(t);return ab(e,n.toLowerCase())?n:null}function $l(e){return(e=D(e))&&"#"==e.charAt(0)?e:null}function am(e,t,n){return e(D(t),n)}function cm(e,t,n){t=t.split(/(?:\s+)/);for(var r=[],o=0;o<t.length;o++){var a=e(t[o],n);a&&r.push(a)}return 0==r.length?null:r.join(" ")}function dm(e,t,n){return e(D(t),n)}function em(e,t){var n=t.data,r=ul(t);return r&&"style"==sl(r).toLowerCase()&&!("STYLE"in e.i)&&"STYLE"in e.c&&(n=tc(Cl(n,e.b,Ha((function(e,t){return this.h(e,{Tc:t})}),e)))),document.createTextNode(n)}t(Ql,Ml),r("JsAPI.Html.sanitizeWithOnlyAllowTags",(function(e,t,n){if(n=!("STYLE"in(t=new Ql(Wl(Vl(new Rl,t),n))).i)&&"STYLE"in t.c,n="*"==t.f&&n?"sanitizer-"+Qc():t.f,t.b=n,Kl){if(n=e,Kl){e=We(document,"SPAN"),t.b&&"*"==t.f&&(e.id=t.b),t.m&&(Fl(n=Dl("<div>"+n+"</div>")),n=n.innerHTML),n=Ec(n,null);var r=document.createElement("template");if(Ll&&"content"in r)Lc(r,n),r=r.content;else{var o=document.implementation.createHTMLDocument("x");r=o.body,Lc(o.body,n)}for(n=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null,!1),r=Hl?new WeakMap:new Jl;o=n.nextNode();){e:{var a=t,i=o;switch(tl(i)){case 3:a=em(a,i);break e;case 1:if("TEMPLATE"==sl(i).toUpperCase())a=null;else{var s=sl(i).toUpperCase();if(s in a.i)var c=null;else a.c[s]?c=document.createElement(s):(c=We(document,"SPAN"),a.j&&pl(c,"data-sanitizer-original-tag",s.toLowerCase()));if(c){var l=c,u=ol(i);if(null!=u)for(var p=0;s=u[p];p++)if(s.specified){var d=a,m=i,f=s,h=f.name;if(0==h.lastIndexOf("data-sanitizer-",0))d=null;else{var _=sl(m);f=f.value;var g={tagName:D(_).toLowerCase(),attributeName:D(h).toLowerCase()},v={Pb:void 0};"style"==g.attributeName&&(v.Pb=ql(m)),d=(m=Xl(_,h))in d.a?(d=d.a[m])(f,g,v):(h=Xl(null,h))in d.a?(d=d.a[h])(f,g,v):null}null!==d&&pl(l,s.name,d)}a=c}else a=null}break e;default:a=null}}a?(1==tl(a)&&r.set(o,a),i=!1,(o=ul(o))&&(s=tl(o),c=sl(o).toLowerCase(),l=ul(o),11!=s||l?"body"==c&&l&&(s=ul(l))&&!ul(s)&&(i=!0):i=!0,s=null,i||!o?s=e:1==tl(o)&&(s=r.get(o)),s.content&&(s=s.content),s.appendChild(a))):Ze(o)}r.clear&&r.clear(),t=e}else t=We(document,"SPAN");0<ol(t).length&&((e=We(document,"SPAN")).appendChild(t),t=e),t=(t=(new XMLSerializer).serializeToString(t)).slice(t.indexOf(">")+1,t.lastIndexOf("</"))}else t="";if(n=Ec(t,null),t=We(e=document,"DIV"),F?(Lc(t,n=Hc(Jc,n)),t.removeChild(t.firstChild)):Lc(t,n),1==t.childNodes.length)t=t.removeChild(t.firstChild);else{for(e=e.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);t=e}return t}));var fm=new Set("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~".split("")),hm;function gm(e){for(var t=(e=e.replace(/[\s\xa0]+$/,"").split("")).length-1;0<=t&&fm.has(e[t]);t--)e.pop();return e.join("")}function im(e,t,n){Array.isArray(n)&&(n=n.join(" "));var r="aria-"+t;""===n||null==n?(hm||(hm={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),t in(n=hm)?e.setAttribute(r,n[t]):e.removeAttribute(r)):e.setAttribute(r,n)}function jm(e){return"string"==typeof e.className?e.className:e.getAttribute&&e.getAttribute("class")||""}function km(e){return e.classList?e.classList:jm(e).match(/\S+/g)||[]}function lm(e,t){"string"==typeof e.className?e.className=t:e.setAttribute&&e.setAttribute("class",t)}function mm(e,t){return e.classList?e.classList.contains(t):ab(km(e),t)}function nm(e,t){if(e.classList)e.classList.add(t);else if(!mm(e,t)){var n=jm(e);lm(e,n+(0<n.length?" "+t:t))}}function om(e,t){if(e.classList)u(t,(function(t){nm(e,t)}));else{var n={};u(km(e),(function(e){n[e]=!0})),u(t,(function(e){n[e]=!0}));var r,o="";for(r in n)o+=0<o.length?" "+r:r;lm(e,o)}}function pm(e,t){e.classList?e.classList.remove(t):mm(e,t)&&lm(e,Sa(km(e),(function(e){return e!=t})).join(" "))}function qm(e,t){e.classList?u(t,(function(t){pm(e,t)})):lm(e,Sa(km(e),(function(e){return!ab(t,e)})).join(" "))}function rm(e,t,n,r){this.top=e,this.right=t,this.bottom=n,this.left=r}function sm(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}function Z(e,t,n){if("string"==typeof t)(t=tm(e,t))&&(e.style[t]=n);else for(var r in t){n=e;var o=t[r],a=tm(n,r);a&&(n.style[a]=o)}}r("JsAPI.String.truncate",(function(e,t,n,r){if(null==e)return"";if(r)return e.length>t&&(e=e.substring(0,t-3)+"..."),e;if(e.length<=t)return e;for(r=(n=n||"...").length,e=gm(e);e.length+r>t;){var o=e.lastIndexOf(" ");if(-1==o)break;e=gm(e.substring(0,o))}return e+n})),rm.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},rm.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},rm.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},sm.prototype.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},sm.prototype.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},sm.prototype.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this};var um={};function tm(e,t){var n=um[t];if(!n){var r=Rc(t);n=r,void 0===e.style[r]&&(r=(pe?"Webkit":oe?"Moz":F?"ms":le?"O":null)+Sc(r),void 0!==e.style[r]&&(n=r)),um[t]=n}return n}function vm(e,t){var n=e.style[Rc(t)];return void 0!==n?n:e.style[tm(e,t)]||""}function wm(e,t){var n=Ne(e);return n.defaultView&&n.defaultView.getComputedStyle&&(n=n.defaultView.getComputedStyle(e,null))&&(n[t]||n.getPropertyValue(t))||""}function xm(e,t){return wm(e,t)||(e.currentStyle?e.currentStyle[t]:null)||e.style&&e.style[t]}function ym(e){return new Je(e.offsetLeft,e.offsetTop)}function zm(e){return"number"==typeof e&&(e=Math.round(e)+"px"),e}function Am(e,t){e.style.height=zm(t)}function(){}function Cm(e){var t=Dm;if("none"!=xm(e,"display"))return t(e);var n=e.style,r=n.display,o=n.visibility,a=n.position;return n.visibility="hidden",n.position="absolute",n.display="inline",e=t(e),n.display=r,n.position=a,n.visibility=o,e}function Dm(e){var t=e.offsetWidth,n=e.offsetHeight;if((void 0===t||pe&&!t&&!n)&&e.getBoundingClientRect){try{var r=e.getBoundingClientRect()}catch(e){r={left:0,top:0,right:0,bottom:0}}return new Ke(r.right-r.left,r.bottom-r.top)}return new Ke(t,n)}function Em(e,t){e.style.display=t?"":"none"}var Fm=oe?"MozUserSelect":pe||me?"WebkitUserSelect":null;function Gm(e){var t=Ne(e),n=F&&e.currentStyle;if(n&&"CSS1Compat"==Le(t).b.compatMode&&"auto"!=n.width&&"auto"!=n.height&&!n.boxSizing)return new Ke(t=Hm(e,n.width,"width","pixelWidth"),e=Hm(e,n.height,"height","pixelHeight"));if(n=new Ke(e.offsetWidth,e.offsetHeight),F){t=Im(e,"paddingLeft");var r=Im(e,"paddingRight"),o=Im(e,"paddingTop"),a=Im(e,"paddingBottom");t=new rm(o,r,a,t)}else t=wm(e,"paddingLeft"),r=wm(e,"paddingRight"),o=wm(e,"paddingTop"),a=wm(e,"paddingBottom"),t=new rm(parseFloat(o),parseFloat(r),parseFloat(a),parseFloat(t));return!F||9<=Number(Ge)?(r=wm(e,"borderLeftWidth"),o=wm(e,"borderRightWidth"),a=wm(e,"borderTopWidth"),e=wm(e,"borderBottomWidth"),e=new rm(parseFloat(a),parseFloat(o),parseFloat(e),parseFloat(r))):(r=Jm(e,"borderLeft"),o=Jm(e,"borderRight"),e=new rm(a=Jm(e,"borderTop"),o,e=Jm(e,"borderBottom"),r)),new Ke(n.width-e.left-t.left-t.right-e.right,n.height-e.top-t.top-t.bottom-e.bottom)}function Hm(e,t,n,r){if(/^\d+px?$/.test(t))return parseInt(t,10);var o=e.style[n],a=e.runtimeStyle[n];return e.runtimeStyle[n]=e.currentStyle[n],e.style[n]=t,t=e.style[r],e.style[n]=o,e.runtimeStyle[n]=a,+t}function Im(e,t){var n=e.currentStyle?e.currentStyle[t]:null;return n?Hm(e,n,"left","pixelLeft"):0}var Km={thin:2,medium:4,thick:6};function Jm(e,t){if("none"==(e.currentStyle?e.currentStyle[t+"Style"]:null))return 0;var n=e.currentStyle?e.currentStyle[t+"Width"]:null;return n in Km?Km[n]:Hm(e,n,"left","pixelLeft")}function Lm(e){e.style[F?"styleFloat":"cssFloat"]="left"}function Mm(e){Ni.call(this),this.b=e,this.a={}}t(Mm,Ni);var Nm=[];function Om(e,t,n,r,o){return Pm(e,t,n,r,o)}function Pm(e,t,n,r,o){Array.isArray(n)||(n&&(Nm[0]=n.toString()),n=Nm);for(var a=0;a<n.length;a++){var i=oj(t,n[a],r||e.handleEvent,o||!1,e.b||e);if(!i)break;e.a[i.key]=i}return e}function Qm(e,t,n){Rm(e,t,"H",n,void 0)}function Rm(e,t,n,r,o,a){if(Array.isArray(n))for(var i=0;i<n.length;i++)Rm(e,t,n[i],r,o,a);else(t=pj(t,n,r||e.handleEvent,o,a||e.b||e))&&(e.a[t.key]=t)}function Sm(e,t,n,r,o,a){if(Array.isArray(n))for(var i=0;i<n.length;i++)Sm(e,t,n[i],r,o,a);else r=r||e.handleEvent,o=q(o)?!!o.capture:!!o,a=a||e.b||e,r=qj(r),o=!!o,(n=dj(t)?kj(t.M,String(n),r,o,a):t&&(t=sj(t))?kj(t,n,r,o,a):null)&&(xj(n),delete e.a[n.key]);return e}function Tm(e){ub(e.a,(function(e,t){this.a.hasOwnProperty(t)&&xj(e)}),e),e.a={}}function Um(){}function Vm(e){Bj.call(this),this.f=e||Le(),this.Va=Wm,this.L=null,this.s=!1,this.i=null,this.oa=void 0,this.N=this.m=this.D=this.a=null}Mm.prototype.J=function(){Mm.F.J.call(this),Tm(this)},Mm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ya(Um),Um.prototype.a=0,t(Vm,Bj),Vm.prototype.Tb=Um.l();var Wm=null,jn;function Xm(e,t){switch(e){case 1:return t?"disable":"enable";case 2:return t?"highlight":"unhighlight";case 4:return t?"activate":"deactivate";case 8:return t?"select":"unselect";case 16:return t?"check":"uncheck";case 32:return t?"focus":"blur";case 64:return t?"open":"close"}throw Error("Invalid component state")}function Ym(e){return e.L||(e.L=":"+(e.Tb.a++).toString(36))}function Zm(e){return e.oa||(e.oa=new Mm(e)),e.oa}function $m(e,t){if(e==t)throw Error("Unable to set parent component");var n;if(n=t&&e.D&&e.L){n=e.D;var r=e.L;n=n.N&&r&&yb(n.N,r)||null}if(n&&e.D!=t)throw Error("Unable to set parent component");e.D=t,Vm.F.qb.call(e,t)}function an(e,t,n){if(e.s)throw Error("Component already rendered");e.i||e.Za(),t?t.insertBefore(e.i,n||null):e.f.b.body.appendChild(e.i),e.D&&!e.D.s||e.O()}function cn(e,t){dn(e,t,e.m?e.m.length:0)}function dn(e,t,n){if(t.s)throw Error("Component already rendered");if(0>n||n>(e.m?e.m.length:0))throw Error("Child component index out of bounds");if(e.N&&e.m||(e.N={},e.m=[]),t.D==e){var r=Ym(t);e.N[r]=t,eb(e.m,t)}else{r=e.N;var o=Ym(t);if(null!==r&&o in r)throw Error('The object already contains the key "'+o+'"');r[o]=t}$m(t,e),cb(e.m,t,n),t.s&&e.s&&t.D==e?(n=(e=e.$a()).childNodes[n]||null)!=t.g()&&e.insertBefore(t.g(),n):(e.i||e.Za(),n=en(e,n+1),an(t,e.$a(),n?n.i:null))}function en(e,t){return e.m&&e.m[t]||null}function bn(e,t){e.m&&u(e.m,t,void 0)}function fn(e,t){if(t){var n="string"==typeof t?t:Ym(t);if(t=e.N&&n&&yb(e.N,n)||null,n&&t){var r=e.N;n in r&&delete r[n],eb(e.m,t),t.W(),t.i&&$e(t.i),$m(t,null)}}if(!t)throw Error("Child is not in parent component");return t}function gn(e){for(var t=[];e.m&&0!=e.m.length;)t.push(fn(e,en(e,0)))}function hn(){}l=Vm.prototype,l.g=function(){return this.i},l.qb=function(e){if(this.D&&this.D!=e)throw Error("Method not supported");Vm.F.qb.call(this,e)},l.cc=function(){return this.s},l.Za=function(){this.i=We(this.f.b,"DIV")},l.O=function(){this.s=!0,bn(this,(function(e){!e.s&&e.g()&&e.O()}))},l.W=function(){bn(this,(function(e){e.s&&e.W()})),this.oa&&Tm(this.oa),this.s=!1},l.J=function(){this.s&&this.W(),this.oa&&(this.oa.pa(),delete this.oa),bn(this,(function(e){e.pa()})),this.i&&$e(this.i),this.D=this.a=this.i=this.N=this.m=null,Vm.F.J.call(this)},l.$a=function(){return this.i},ya(hn);var kn={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};function mn(e,t,n){if(e=e.g?e.g():e){var r=[t];F&&!De("7")&&(r=nn(km(e),t)).push(t),(n?om:qm)(e,r)}}function on(e,t){var n;if(32&e.ca&&(n=e.g())){if(!t&&32&e.T){try{n.blur()}catch(e){}32&e.T&&e.wb(null)}(ef(n)&&ff(n))!=t&&(t?n.tabIndex=0:(n.tabIndex=-1,n.removeAttribute("tabIndex")))}}function pn(e,t,n){jn||(jn={1:"disabled",8:"selected",16:"checked",64:"expanded"}),t=jn[t];var r=e.getAttribute("role")||null;r&&(r=kn[r]||t,t="checked"==t||"selected"==t?r:t),t&&im(e,t,n)}function ln(e,t){var n=e.ba(),r=[n],o=e.ba();for(o!=n&&r.push(o),n=t.T,o=[];n;){var a=n&-n;o.push(qn(e,a)),n&=~a}return r.push.apply(r,o),(n=t.vb)&&r.push.apply(r,n),F&&!De("7")&&r.push.apply(r,nn(r)),r}function nn(e,t){var n=[];return t&&(e=gb(e,[t])),u([],(function(r){!Xa(r,Ia(ab,e))||t&&!ab(r,t)||n.push(r.join("_"))})),n}function qn(e,t){if(!e.a){var n=e.ba();e.a={1:n+"-disabled",2:n+"-hover",4:n+"-active",8:n+"-selected",16:n+"-checked",32:n+"-focused",64:n+"-open"}}return e.a[t]}function rn(){}function sn(){}function tn(e,t){e&&t&&Am(e,t)}function un(){}function vn(){}function wn(e){return e?Cm(e).height:0}function xn(e,t,n,r,o,a){if(pe&&!De("525"))return!0;if(qe&&o)return yn(e);if(o&&!r)return!1;if(!oe&&("number"==typeof t&&(t=zn(t)),(!n||qe)&&(17==t||18==t||qe&&91==t)||qe&&16==t&&(r||a)))return!1;if((pe||me)&&r&&n)switch(e){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(F&&r&&t==e)return!1;switch(e){case 13:return!(oe&&(a||o||n&&r));case 27:return!(pe||me||oe)}return(!oe||!(r||o||a))&&yn(e)}function yn(e){if(48<=e&&57>=e||96<=e&&106>=e||65<=e&&90>=e||(pe||me)&&0==e)return!0;switch(e){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:case 58:return!0;case 173:return oe;default:return!1}}function zn(e){if(oe)e=An(e);else if(qe&&pe)switch(e){case 93:e=91}return e}function An(e){switch(e){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return e}}function Bn(e,t){Bj.call(this),e&&Cn(this,e,t)}hn.prototype.X=function(e){return e.f.a("DIV",ln(this,e).join(" "),e.Ya)},hn.prototype.ba=function(){return"goog-control"},t(rn,hn),t(sn,rn),ya(sn),sn.prototype.ba=function(){return"fluidgrid-container"},sn.prototype.X=function(e){try{var t=e.f.a("DIV",ln(this,e).join(" "));return Z(t,"position","relative"),this.u(t,e.b),t}catch(e){}},sn.prototype.u=function(e,t){e&&t&&Bm(e,t)},t(un,hn),t(vn,un),ya(vn),l=vn.prototype,l.ba=function(){return"fluidgrid-container-item"},l.X=function(e){var t=e.f.a("DIV",ln(this,e).join(" "));try{(0,e.v)(t,e.a,e.o)}catch(e){}return Z(t,"position","absolute"),Z(t,"overflow-x","hidden"),this.u(t,e.j),this.Ma(t,e.b),this.Na(t,e.h),t},l.u=function(e,t){e&&Bm(e,t)},l.Ma=function(e,t){e&&Z(e,"left",Math.floor(t)+"px")},l.Na=function(e,t){e&&Z(e,"top",Math.floor(t)+"px")},t(Bn,Bj),l=Bn.prototype,l.ya=null,l.Qa=null,l.ob=null,l.Ra=null,l.aa=-1,l.ha=-1,l.Xa=!1;var Dn={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},En={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Fn=!pe||De("525"),Gn=qe&&oe;function Cn(e,t,n){e.Ra&&In(e),e.ya=t,e.Qa=oj(e.ya,"keypress",e,n),e.ob=oj(e.ya,"keydown",e.Wb,n,e),e.Ra=oj(e.ya,"keyup",e.Yb,n,e)}function In(e){e.Qa&&(xj(e.Qa),xj(e.ob),xj(e.Ra),e.Qa=null,e.ob=null,e.Ra=null),e.ya=null,e.aa=-1,e.ha=-1}function Hn(e,t,n,r){Zi.call(this,r),this.type="key",this.f=e,this.repeat=n}l=Bn.prototype,l.Wb=function(e){(pe||me)&&(17==this.aa&&!e.ctrlKey||18==this.aa&&!e.altKey||qe&&91==this.aa&&!e.metaKey)&&(this.ha=this.aa=-1),-1==this.aa&&(e.ctrlKey&&17!=e.f?this.aa=17:e.altKey&&18!=e.f?this.aa=18:e.metaKey&&91!=e.f&&(this.aa=91)),Fn&&!xn(e.f,this.aa,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.ha=zn(e.f),Gn&&(this.Xa=e.altKey))},l.Yb=function(e){this.ha=this.aa=-1,this.Xa=e.altKey},l.handleEvent=function(e){var t=e.a,n=t.altKey;if(F&&"keypress"==e.type)var r=this.ha,o=13!=r&&27!=r?t.keyCode:0;else(pe||me)&&"keypress"==e.type?(r=this.ha,o=0<=t.charCode&&63232>t.charCode&&yn(r)?t.charCode:0):le&&!pe?o=yn(r=this.ha)?t.keyCode:0:("keypress"==e.type?(Gn&&(n=this.Xa),t.keyCode==t.charCode?32>t.keyCode?(r=t.keyCode,o=0):(r=this.ha,o=t.charCode):(r=t.keyCode||this.ha,o=t.charCode||0)):(r=t.keyCode||this.ha,o=t.charCode||0),qe&&63==o&&224==r&&(r=191));var a=r=zn(r);r?63232<=r&&r in Dn?a=Dn[r]:25==r&&e.shiftKey&&(a=9):t.keyIdentifier&&t.keyIdentifier in En&&(a=En[t.keyIdentifier]),oe&&Fn&&"keypress"==e.type&&!xn(a,this.aa,e.shiftKey,e.ctrlKey,n,e.metaKey)||(e=a==this.aa,this.aa=a,(t=new Hn(a,o,e,t)).altKey=n,X(this,t))},l.g=function(){return this.ya},l.J=function(){Bn.F.J.call(this),In(this)},t(Hn,Zi);var Jn={};function Kn(e,t,n){if(Vm.call(this,n),!t){for(t=this.constructor;t;){var r=Ca(t);if(r=Jn[r])break;t=(t=Object.getPrototypeOf(t.prototype))&&t.constructor}t=r?Ba(r.l)?r.l():new r:null}this.c=t,this.Ya=void 0!==e?e:null}function Ln(e){e.s&&0!=e.bb&&Mn(e,!1),e.bb=!1}function Mn(e,t){var n=Zm(e),r=e.g();t?(Om(Om(Om(Pm(n,r,Yi.Ta,e.ab,void 0),r,[Yi.Ua,Yi.rb],e.cb),r,"mouseover",e.Ab),r,"mouseout",e.zb),e.Ka!=xa&&Pm(n,r,"contextmenu",e.Ka,void 0),F&&(De(9)||Pm(n,r,"dblclick",e.xb,void 0),e.Aa||(e.Aa=new Nn(e),Qi(e,Ia(Ri,e.Aa))))):(Sm(Sm(Sm(Sm(n,r,Yi.Ta,e.ab),r,[Yi.Ua,Yi.rb],e.cb),r,"mouseover",e.Ab),r,"mouseout",e.zb),e.Ka!=xa&&Sm(n,r,"contextmenu",e.Ka),F&&(De(9)||Sm(n,r,"dblclick",e.xb),Ri(e.Aa),e.Aa=null))}function On(e,t){Pn(e,2,t)&&Qn(e,2,t)}function Qn(e,t,n,r){if(r||1!=t){if(e.ca&t&&n!=!!(e.T&t)){var o=e.c;(r=e.g())&&((o=qn(o,t))&&mn(e,o,n),pn(r,t,n)),e.T=n?e.T|t:e.T&~t}}else t=!n,(n=e.D)&&"function"==typeof n.ea&&!n.ea()||!Pn(e,1,!t)||(t||(e.qa(!1),On(e,!1)),e.isVisible()&&on(e,t),Qn(e,1,!t,!0))}function Rn(e,t,n){if(e.s&&e.T&t&&!n)throw Error("Component already rendered");!n&&e.T&t&&Qn(e,t,!1),e.ca=n?e.ca|t:e.ca&~t}function Sn(e,t){return!!(e.Fa&t)&&!!(e.ca&t)}function Tn(e,t,n){e.Fa=n?e.Fa|t:e.Fa&~t}function Pn(e,t,n){return!!(e.ca&t)&&!!(e.T&t)!=n&&(!(0&t)||X(e,Xm(t,n)))&&!e.na}function Un(e,t){if(Sn(e,16)){var n=!(16&e.T);Pn(e,16,n)&&Qn(e,16,n)}return Sn(e,8)&&Pn(e,8,!0)&&Qn(e,8,!0),Sn(e,64)&&Pn(e,64,n=!(64&e.T))&&Qn(e,64,n),n=new Xi("action",e),t&&(n.altKey=t.altKey,n.ctrlKey=t.ctrlKey,n.metaKey=t.metaKey,n.shiftKey=t.shiftKey,n.h=t.h),X(e,n)}if(t(Kn,Vm),l=Kn.prototype,l.Ya=null,l.T=0,l.ca=39,l.Fa=255,l.vb=null,l.bb=!0,l.Za=function(){var e=this.c.X(this);this.i=e;var t=F||le?e.getElementsByTagName("*"):null;if(Fm){var n="none";if(e.style&&(e.style[Fm]=n),t)for(var r,o=0;r=t[o];o++)r.style&&(r.style[Fm]=n)}else if((F||le)&&(n="on",e.setAttribute("unselectable",n),t))for(o=0;r=t[o];o++)r.setAttribute("unselectable",n);this.isVisible()||(Em(e,!1),e&&im(e,"hidden",!0))},l.$a=function(){return this.g()},l.O=function(){Kn.F.O.call(this);var e=this.i;if(this.isVisible()||im(e,"hidden",!this.isVisible()),this.ea()||pn(e,1,!this.ea()),8&this.ca&&pn(e,8,!!(8&this.T)),16&this.ca&&pn(e,16,!!(16&this.T)),64&this.ca&&pn(e,64,!!(64&this.T)),e=this.c,null==this.Va&&(this.Va="rtl"==xm(this.s?this.i:this.f.b.body,"direction")),this.Va&&mn(this.g(),e.ba()+"-rtl",!0),this.ea()&&on(this,this.isVisible()),-2&this.ca&&(this.bb&&Mn(this,!0),32&this.ca&&(e=this.g()))){var t=this.ua||(this.ua=new Bn);Cn(t,e),Om(Om(Om(Zm(this),t,"key",this.Xb),e,"focus",this.Vb),e,"blur",this.wb)}},l.W=function(){Kn.F.W.call(this),this.ua&&In(this.ua),this.isVisible()&&this.ea()&&on(this,!1)},l.J=function(){Kn.F.J.call(this),this.ua&&(this.ua.pa(),delete this.ua),delete this.c,this.Aa=this.vb=this.Ya=null},l.isVisible=function(){return!0},l.ea=function(){return!(1&this.T)},l.Ja=function(){return!!(4&this.T)},l.qa=function(e){Pn(this,4,e)&&Qn(this,4,e)},l.Ab=function(e){(!e.relatedTarget||!cf(this.g(),e.relatedTarget))&&X(this,"enter")&&this.ea()&&Sn(this,2)&&On(this,!0)},l.zb=function(e){e.relatedTarget&&cf(this.g(),e.relatedTarget)||!X(this,"leave")||(Sn(this,4)&&this.qa(!1),Sn(this,2)&&On(this,!1))},l.Ka=xa,l.ab=function(e){var t,n;!this.ea()||(Sn(this,2)&&On(this,!0),!bj(e)||qe&&e.ctrlKey)||(Sn(this,4)&&this.qa(!0),(t=this.c)&&(t=!!(32&this.ca&&(n=this.g()))&&ef(n)&&ff(n)),t&&this.g().focus());!bj(e)||qe&&e.ctrlKey||e.b()},l.cb=function(e){this.ea()&&(Sn(this,2)&&On(this,!0),this.Ja()&&Un(this,e)&&Sn(this,4)&&this.qa(!1))},l.xb=function(e){this.ea()&&Un(this,e)},l.Vb=function(){Sn(this,32)&&Pn(this,32,!0)&&Qn(this,32,!0)},l.wb=function(){Sn(this,4)&&this.qa(!1),Sn(this,32)&&Pn(this,32,!1)&&Qn(this,32,!1)},l.Xb=function(e){return!!(this.isVisible()&&this.ea()&&13==e.f&&Un(this,e))&&(e.b(),e.m(),!0)},!Ba(Kn))throw Error("Invalid component class "+Kn);if(!Ba(hn))throw Error("Invalid renderer class "+hn);var Vn=Ca(Kn);function Wn(){return new Kn(null)}if(Jn[Vn]=hn,!Ba(Wn))throw Error("Invalid decorator function "+Wn);function Nn(e){Ni.call(this),this.b=e,this.a=!1,this.c=new Mm(this),Qi(this,Ia(Ri,this.c)),e=this.b.i,Om(Om(Pm(this.c,e,Yi.Ta,this.i,void 0),e,Yi.Ua,this.m),e,"click",this.f)}t(Nn,Ni);var Xn=!F||9<=Number(Ge);function Yn(e,t){if(!Xn)return e.button=0,e.type=t,e;var n=document.createEvent("MouseEvents");return n.initMouseEvent(t,e.bubbles,e.cancelable,e.view||null,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,e.relatedTarget||null),n}function Zn(e,t,n,r,o){Kn.call(this,null,vn.l(),o),Rn(this,255,!1),Rn(this,2,!0),Tn(this,255,!1),Tn(this,2,!0),this.a=e,this.o=t,this.j=n,this.v=r,this.h=this.b=0}function $n(e,t){e.b=t,e.s&&e.c.Ma(e.g(),t)}function ao(e,t){e.h=t,e.s&&e.c.Na(e.g(),t)}function bo(){Tc.l(),this.f=0,this.a=new Map,this.c={root:null,rootMargin:"0px",threshold:.5};var e=this;this.b=new IntersectionObserver((function(t){co(e,t)}),this.c)}function eo(e,t){this.a=null,this.c=e,this.b=t}function fo(e,t,n,r){var o="viewability-"+e.f++;t.setAttribute("data-viewability-id",o),e.a.set(o,new eo(n,r)),e.b.observe(t)}function go(e,t){if(e.b.unobserve(t),t.hasAttribute("data-viewability-id")){var r=t.getAttribute("data-viewability-id"),o=e.a.get(r);null!=o&&(null!=o.a&&n.clearTimeout(o.a),e.a.delete(r)),t.removeAttribute("data-viewability-id")}}function co(e,t){u(t,(function(t){var r=t.target,o=r.getAttribute("data-viewability-id"),a=e.a.get(o);null==o||Oc(o)||null==a?go(e,r):(o=a.a,t.isIntersecting?null==o&&(a.a=Fj((function(){go(e,r),null!=a.b&&a.b(a.c)}),1e3)):null!=o&&(n.clearTimeout(o),a.a=null))}))}function ho(e,t,n,r,o,a,i,s){Kn.call(this,null,sn.l(),s),Rn(this,255,!1),Tn(this,255,!1),Ln(this),this.a=i||[],this.C=o,this.v=a,this.va=e,this.Z=t,this.$=n,this.K=r,this.G=0,this.h=null,this.b=this.o=this.j=0}function jo(e){return e.$.item.width}function ko(e){return e.$.item.margin}function no(e,t){if(t){var n=e.G++,r=Number.MAX_VALUE,o=0;u(e.h,(function(e,t){e.height<r&&(r=e.height,o=t)}));var a=e.h[o],i=new Zn(t,n,jo(e),e.K);cn(e,i),fo(bo.l(),i.g(),t,e.C),null!=e.v&&oo(e,i,n),$n(i,a.left),ao(i,(0!==a.height?ko(e):0)+a.height),a.height+=(0!==a.height?ko(e):0)+(i.s?wn(i.g()):0),a.a.push(i);var s=0;u(e.h,(function(e){e.height>s&&(s=e.height)})),e.s&&tn(e.g(),s)}}function oo(e,t,n){var r=oj(t.g(),"click",(function(o){var a=0;for(o=o.target;af(o)&&o!==document.body&&128>a++;){if(o.tagName==="A".toString()){xj(r),e.v(t.a,(function(r){var o=t.j,a=t.b,i=t.h;fn(e,en(e,n));var s=new Zn(r,n,jo(e),e.K);s.u(o),$n(s,a),ao(s,i),dn(e,s,n),fo(bo.l(),s.g(),r,e.C),oo(e,s,n)}));break}o=bf(o)}}))}function io(e){e.G=0,e.b=Gm(e.Z).width,e.j=lo(e),e.o=mo(e),e.h=[];for(var t=0;t<e.j;t++)e.h.push(new po(e.o+t*(jo(e)+ko(e))));e.s&&tn(e.g(),0),u(e.a,(function(t){no(e,t)}))}function lo(e){return Math.max(1,(e.b+ko(e))/(jo(e)+ko(e))>>0)}function mo(e){var t=e.j*(jo(e)+ko(e))-ko(e);switch(e.va){case"left":return 0;case"right":return e.b-t;default:return(e.b-t)/2>>0}}function po(e){this.a=[],this.left=e,this.height=0}function qo(e,t,n){var r=new Xf;null!=t&&B(t)&&dg(r,t),null!=n&&B(n)&&fg(r,n);var o=nk.l();if(null!=(t=e.parent_element)&&t instanceof HTMLElement){var a=t,i="center";if(null!=(t=e.align)){if(!w(t))return void I(r,ro("align"));switch(t){case"center":i="center";break;case"left":i="left";break;case"right":i="right";break;default:return void I(r,ro("align"))}}var s=10;if(null!=(t=e.page_size)){if(!x(t)||0>t||100<t)return void I(r,ro("page_size"));s=t}var c=1/0;if(null!=(t=e.max_page_count)){if(!x(t)||0>t)return void I(r,ro("max_page_count"));c=t}var l=function(){};if(null!=(t=e.item_content_renderer)){if(!B(t))return void I(r,ro("item_content_renderer"));l=t}var p=null;if(null!=(t=e.properties)){if(!q(t))return void I(r,ro("properties"));p=t}var d=2;if(null!=(t=e.ctx)){if(!x(t))return void I(r,ro("ctx"));d=t}if(null==(t=e.block_id)||!x(t)||0>t)I(r,ro("block_id"));else{var m=t,f="RANK";null!=(t=e.sort_type)&&(w(t)?f=t:I(r,ro("sort_type")));var h=0;if(null!=(t=e.fields)){if(!x(t))return void I(r,ro("fields"));h=t}var _=!1;if(null!=(t=e.has_images)){if(!rb(t))return void I(r,ro("has_images"));_=t}var g=!1;if(null!=(t=e.has_recommend)){if(!rb(t))return void I(r,ro("has_recommend"));g=t}var v=null;if(null!=(t=e.topics)){if(!sb(t))return void I(r,ro("topics"));v=t}var y=0;if(null!=(t=e.publisher)){if(!x(t))return void I(r,ro("publisher"));y=t}var b=null;if(null!=(t=e.filter_publishers)){if(!sb(t))return void I(r,ro("filter_publishers"));b=t}var E=null;if(null!=(t=e.loc_id)){if(!x(t))return void I(r,ro("loc_id"));E=t}var P=0;if(null!=(t=e.strategy_id)){if(!x(t)||0>t)return void I(r,ro("strategy_id"));P=t}var O=0;if(null!=(t=e.trend_id)){if(!x(t))return void I(r,ro("trend_id"));O=t}hf("jsapi.ui.block.AggregatorFluidGridBlock","create",(function(){try{var e=!1,t=!1,n={init:!0,ctx:d,block_id:m,sort_type:f,fields:h,has_images:_,has_recommend:g,topics:v,publisher:y,filter_publishers:b,loc_id:E,strategy_id:P,trend_id:O};n.count=s,Ak(o,n,(function(d){try{var m=new ho(i,a,p,l,(function(e){var t;null!=e&&q(e)&&null!=(t=e.viewability)&&q(t)&&Kk(o,t)}),(function(r,a){n.count=1,Ak(o,n,(function(n){n&&0<n.length?a.call(this,n[0]):t=!0,e=!1}),(function(){e=!1}))}),d)}catch(e){return void I(r,e)}try{an(m,a)}catch(e){return void I(r,e)}1<c&&oj(window,"scroll",(function(){n.init=!1,!t&&!e&&0>=ym(a).y+Cm(m.g()).height-(Te(document).y+Se().height)-500&&(e=!0,n.count=s,Ak(o,n,(function(n){n&&0<n.length?(u(n,(function(e){var t=m;t.a.push(e),no(t,e)})),m.a.length/s>=c&&(t=!0)):t=!0,e=!1}),(function(){e=!1})))})),cg(r,m)}),(function(){}))}catch(e){I(r,e)}}),(function(){}),(function(e){I(r,e)}))}}else I(r,ro("parent_element"))}function ro(e){return Error("The '"+e+"' parameter is invalid")}function so(){}function to(){}function uo(e,t,n,r){Kn.call(this,null,to.l(),r),Rn(this,255,!1),Rn(this,2,!0),Tn(this,255,!1),Tn(this,2,!0),this.a=e,this.b=t,this.h=n}function vo(e,t,n,r,o,a,i){Kn.call(this,null,so.l(),i),Rn(this,255,!1),Tn(this,255,!1),Ln(this),this.a=a||[],this.h=r,this.b=o,this.j=n,this.o=0}function xo(e,t){e.a.push(t),e.cc&&wo(e,t)}function wo(e,t){if(t){var n=e.o++,r=new uo(t,n,e.j);cn(e,r),fo(bo.l(),r.g(),t,e.h),null!=e.b&&yo(e,r,n)}}function yo(e,t,n){var r=oj(t.g(),"click",(function(o){var a=0;for(o=o.target;af(o)&&o!==document.body&&128>a++;){if(o.tagName==="A".toString()){xj(r),e.b(t.a,(function(t){fn(e,en(e,n));var r=new uo(t,n,e.j);dn(e,r,n),fo(bo.l(),r.g(),t,e.h),yo(e,r,n)}));break}o=bf(o)}}))}function zo(e,t,n){var r=new Xf;null!=t&&B(t)&&dg(r,t),null!=n&&B(n)&&fg(r,n);var o=nk.l();if(null!=(t=e.parent_element)&&t instanceof HTMLElement){var a=t,i=10;if(null!=(t=e.page_size)){if(!x(t)||0>t||100<t)return void I(r,Ao("page_size"));i=t}var s=1/0;if(null!=(t=e.max_page_count)){if(!x(t)||0>t)return void I(r,Ao("max_page_count"));s=t}var c=function(){};if(null!=(t=e.item_content_renderer)){if(!B(t))return void I(r,Ao("item_content_renderer"));c=t}var l=null;if(null!=(t=e.properties)){if(!q(t))return void I(r,Ao("properties"));l=t}var p=2;if(null!=(t=e.ctx)){if(!x(t))return void I(r,Ao("ctx"));p=t}if(null==(t=e.block_id)||!x(t)||0>t)I(r,Ao("block_id"));else{var d=t,m="RANK";null!=(t=e.sort_type)&&(w(t)?m=t:I(r,Ao("sort_type")));var f=0;if(null!=(t=e.fields)){if(!x(t))return void I(r,Ao("fields"));f=t}var h=!1;if(null!=(t=e.has_images)){if(!rb(t))return void I(r,Ao("has_images"));h=t}var _=!1;if(null!=(t=e.has_recommend)){if(!rb(t))return void I(r,Ao("has_recommend"));_=t}var g=null;if(null!=(t=e.topics)){if(!sb(t))return void I(r,Ao("topics"));g=t}var v=0;if(null!=(t=e.publisher)){if(!x(t))return void I(r,Ao("publisher"));v=t}var y=null;if(null!=(t=e.filter_publishers)){if(!sb(t))return void I(r,Ao("filter_publishers"));y=t}var b=null;if(null!=(t=e.loc_id)){if(!x(t))return void I(r,Ao("loc_id"));b=t}var E=0;if(null!=(t=e.strategy_id)){if(!x(t)||0>t)return void I(r,Ao("strategy_id"));E=t}var P=0;if(null!=(t=e.trend_id)){if(!x(t))return void I(r,Ao("trend_id"));P=t}hf("jsapi.ui.block.AggregatorListBlock","create",(function(){try{var e=!1,t=!1,n={init:!0,ctx:p,block_id:d,sort_type:m,fields:f,has_images:h,has_recommend:_,topics:g,publisher:v,filter_publishers:y,loc_id:b,strategy_id:E,trend_id:P};n.count=i,Ak(o,n,(function(p){try{var d=new vo(a,l,c,(function(e){var t;null!=e&&q(e)&&null!=(t=e.viewability)&&q(t)&&Kk(o,t)}),(function(r,a){n.count=1,Ak(o,n,(function(n){n&&0<n.length?a.call(this,n[0]):t=!0,e=!1}),(function(){e=!1}))}),p)}catch(e){return void I(r,e)}try{an(d,a)}catch(e){return void I(r,e)}1<s&&oj(window,"scroll",(function(){n.init=!1,!t&&!e&&0>=ym(a).y+Cm(d.g()).height-(Te(document).y+Se().height)-500&&(e=!0,n.count=i,Ak(o,n,(function(n){n&&0<n.length?(u(n,(function(e){xo(d,e)})),d.a.length/i>=s&&(t=!0)):t=!0,e=!1}),(function(){e=!1})))})),cg(r,d)}),(function(){}))}catch(e){I(r,e)}}),(function(){}),(function(e){I(r,e)}))}}else I(r,Ao("parent_element"))}function Ao(e){return Error("The '"+e+"' parameter is invalid")}function Bo(){this.b=this.a=this.f=this.c=0}function Co(){Bj.call(this),this.c=Do,this.endTime=this.b=null}Nn.prototype.i=function(){this.a=!1},Nn.prototype.m=function(){this.a=!0},Nn.prototype.f=function(e){if(this.a)this.a=!1;else{var t=e.a,n=t.button,r=t.type,o=Yn(t,"mousedown");this.b.ab(new Zi(o,e.c)),o=Yn(t,"mouseup"),this.b.cb(new Zi(o,e.c)),Xn||(t.button=n,t.type=r)}},Nn.prototype.J=function(){this.b=null,Nn.F.J.call(this)},t(Zn,Kn),Zn.prototype.u=function(e){this.j=e,this.s&&this.c.u(this.g(),e)},ya(bo),t(ho,Kn),ho.prototype.O=function(){ho.F.O.call(this),this.da=new Dj(50);var e=Zm(this);Pm(e,this.da,"tick",this.xa,void 0),Pm(e,this,"a",this.wa,void 0),this.da.start(),io(this)},ho.prototype.xa=function(){var e=Gm(this.Z);e.width!=this.b&&(this.u(e.width),X(this,"a"))},ho.prototype.wa=function(){var e=this,t=lo(e);this.j!=t?(bn(e,(function(e){gn(e)})),gn(e),io(e)):(e.j=t,e.o=mo(e),u(e.h,(function(t,n){t.left=e.o+n*(jo(e)+ko(e)),u(t.a,(function(e){$n(e,t.left)}))})))},ho.prototype.u=function(e){this.b=e,this.s&&this.c.u(this.g(),e)},t(so,rn),ya(so),so.prototype.ba=function(){return"list-container"},so.prototype.X=function(e){return e.f.a("DIV",ln(this,e).join(" "))},t(to,un),ya(to),to.prototype.ba=function(){return"list-container-item"},to.prototype.X=function(e){var t=e.f.a("DIV",ln(this,e).join(" "));try{(0,e.h)(t,e.a,e.b)}catch(e){}return t},t(uo,Kn),t(vo,Kn),vo.prototype.O=function(){vo.F.O.call(this);var e=this;u(e.a,(function(t){wo(e,t)}))},t(Co,Bj);var Do=0;function Eo(e,t,n){Ni.call(this),this.a=e,this.f=t||0,this.b=n,this.c=Ha(this.i,this)}function Fo(e){0!=e.L&&n.clearTimeout(e.L),e.L=0}Co.prototype.j=function(){this.a("begin")},Co.prototype.i=function(){this.a("end")},Co.prototype.a=function(e){X(this,e)},t(Eo,Ni),Eo.prototype.L=0,Eo.prototype.J=function(){Eo.F.J.call(this),Fo(this),delete this.a,delete this.b},Eo.prototype.start=function(e){Fo(this),this.L=Fj(this.c,void 0!==e?e:this.f)},Eo.prototype.i=function(){this.L=0,this.a&&this.a.call(this.b)};var xb={},Go=null;function Ho(e){e=Ca(e),delete xb[e],wb()&&Go&&Fo(Go)}function Io(){Go||(Go=new Eo((function(){Jo()}),20));var e=Go;0!=e.L||e.start()}function Jo(){var e=Ja();ub(xb,(function(t){Ko(t,e)})),wb()||Io()}function Lo(e,t,n,r){if(Co.call(this),!Array.isArray(e)||!Array.isArray(t))throw Error("Start and end parameters must be arrays");if(e.length!=t.length)throw Error("Start and end points must be the same length");this.f=e,this.v=t,this.duration=n,this.D=r,this.coords=[],this.progress=0}function Mo(e){if(e.c==Do)e.progress=0,e.coords=e.f;else if(1==e.c)return;Ho(e);var t=Ja();e.b=t,-1==e.c&&(e.b-=e.duration*e.progress),e.endTime=e.b+e.duration,e.progress||e.j(),e.a("play"),-1==e.c&&e.a("resume"),e.c=1;var n=Ca(e);n in xb||(xb[n]=e),Io(),Ko(e,t)}function Ko(e,t){t<e.b&&(e.endTime=t+e.endTime-e.b,e.b=t),e.progress=(t-e.b)/(e.endTime-e.b),1<e.progress&&(e.progress=1),No(e,e.progress),1==e.progress?(e.c=Do,Ho(e),e.a("finish"),e.i()):1==e.c&&e.h()}function No(e,t){Ba(e.D)&&(t=e.D(t)),e.coords=Array(e.f.length);for(var n=0;n<e.f.length;n++)e.coords[n]=(e.v[n]-e.f[n])*t+e.f[n]}function Oo(e,t){Xi.call(this,e),this.coords=t.coords,this.x=t.coords[0],this.y=t.coords[1],this.z=t.coords[2],this.duration=t.duration,this.progress=t.progress}function Po(e){return(e=e.exec(vc))?e[1]:""}function Qo(e,t,n,r,o){Lo.call(this,t,n,r,o),this.o=e}function Ro(e,t,n,r,o){if(2!==t.length||2!==n.length)throw Error("Start and end points must be 2D");Qo.call(this,e,t,n,r,o)}function So(){}function To(e,t,n,r,o,a){Kn.call(this,null,So.l(),a),Rn(this,255,!1),Rn(this,2,!0),Tn(this,255,!1),Tn(this,2,!0),this.a=e,this.j=t,this.h=n,this.b=r,this.o=o}function Uo(){}function Vo(){}function Wo(e,t,n){Kn.call(this,null,Vo.l(),n),Rn(this,255,!1),Tn(this,255,!1),Ln(this),this.h=e,this.b=t}function Xo(e,t){if(e.b=t,e.s){var n=e.g();n&&Am(n,t)}}function Yo(e){return 1-Math.pow(1-e,3)}function Zo(e){return 3*e*e-2*e*e*e}function $o(){}function ap(e,t){return t.b<bp(t)-1?e.ra(t,t.b*e.R(t),!0,Zo):e.pb(t,!0)}function cp(e,t){return 0<t.b?e.ra(t,t.b*e.R(t),!1,Zo):e.pb(t,!1)}function dp(e){var t=0;return bn(e,(function(e,n){e instanceof Wo&&0==n%2&&bn(e,(function(e,n){0==n%2&&e instanceof To&&t++}))})),t}function ep(){}function fp(){}function hp(e,t,n,r,o){Kn.call(this,null,t,o),Rn(this,255,!1),Tn(this,255,!1),Ln(this),this.b=e,this.j=n||0,this.h=r||0}function ip(e,t){e.h=t,e.s&&e.c.Pa(e.g(),e.b.padding,t)}function gp(e){return e.b.padding}function jp(){}function kp(){}function np(e,t,n,r,o,a,i,s){var c=oj(n.g(),"click",(function(l){var u=0;for(l=l.target;af(l)&&l!==document.body&&128>u++;){if(l.tagName==="A".toString()){xj(c),(0,t.xa)(n.a,(function(n){fn(i,en(i,s));var c=new To(n,r,lp(t,o),mp(t,a),t.Da,t.f);dn(i,c,s),fo(bo.l(),c.g(),n,t.Ca),np(e,t,c,r,o,a,i,s)}));break}l=bf(l)}}))}function pp(){}function qp(e,t,n,r,o,a,i,s){var c=oj(n.g(),"click",(function(l){var u=0;for(l=l.target;af(l)&&l!==document.body&&128>u++;){if(l.tagName==="A".toString()){xj(c),(0,t.xa)(n.a,(function(n){fn(i,en(i,s));var c=new To(n,r,lp(t,o),mp(t,a),t.Da,t.f);dn(i,c,s),fo(bo.l(),c.g(),n,t.Ca),qp(e,t,c,r,o,a,i,s)}));break}l=bf(l)}}))}function rp(){}function sp(e,t){var n=e.g();n&&n.firstChild&&Z(n.firstChild,"border-radius",Math.round(t/2)+"px")}function tp(e,t){var n=e.g();n&&n.firstChild&&Z(n.firstChild,"background-color",t)}function up(e,t){var n;t&&(n=e.g())&&(Z(n,"padding-top",t.top?t.top+"px":0),Z(n,"padding-bottom",t.bottom?t.bottom+"px":0),Z(n,"padding-left",t.left?t.left+"px":0),Z(n,"padding-right",t.right?t.right+"px":0))}function vp(e,t){var n;t&&(n=e.g())&&(Z(n,"margin-top",t.top?t.top+"px":0),Z(n,"margin-bottom",t.bottom?t.bottom+"px":0),Z(n,"margin-left",t.left?t.left+"px":0),Z(n,"margin-right",t.right?t.right+"px":0))}function wp(e,t,n){Bj.call(this),this.target=e,this.m=t||e,this.f=n||new sm(NaN,NaN,NaN,NaN),this.c=Ne(e),this.a=new Mm(this),Qi(this,Ia(Ri,this.a)),this.deltaY=this.deltaX=this.o=this.D=this.screenY=this.screenX=this.clientY=this.clientX=0,this.b=!1,this.h=0,oj(this.m,["touchstart","mousedown"],this.Jb,!1,this),this.i=xp}t(Lo,Co),Lo.prototype.J=function(){this.c!=Do&&(Ho(this),this.c=Do,No(this,this.progress),this.a("stop"),this.i()),this.a("destroy"),Lo.F.J.call(this)},Lo.prototype.h=function(){this.a("animate")},Lo.prototype.a=function(e){X(this,new Oo(e,this))},t(Oo,Xi),function(){if(re){var e=/Windows NT ([0-9.]+)/;return(e=e.exec(vc))?e[1]:"0"}qe?(e=(e=/10[_.][0-9_.]+/).exec(vc))&&e[0].replace(/_/g,"."):te?(e=(e=/Android\s+([^\);]+)(\)|;)/).exec(vc))&&e[1]:(ue||ve||we)&&(e=(e=/(?:iPhone|CPU)\s+OS\s+(\S+)/).exec(vc))&&e[1].replace(/_/g,".")}(),function(){if(xg)return Po(/Firefox\/([0-9.]+)/);if(F||me||le)return ye;if(Bg)return ke()?Po(/CriOS\/([0-9.]+)/):Po(/Chrome\/([0-9.]+)/);if(Cg&&!ke())return Po(/Version\/([0-9.]+)/);if(yg||zg){var e=/Version\/(\S+).*Mobile\/(\S+)/.exec(vc);if(e)e[1],e[2]}else if(Ag)(e=Po(/Android\s+([0-9.]+)/))||Po(/Version\/([0-9.]+)/)}(),t(Qo,Lo),Qo.prototype.m=xa,Qo.prototype.h=function(){this.m(),Qo.F.h.call(this)},Qo.prototype.i=function(){this.m(),Qo.F.i.call(this)},Qo.prototype.j=function(){this.m(),Qo.F.j.call(this)},t(Ro,Qo),Ro.prototype.m=function(){Z(this.o,"left",-Math.floor(this.coords[0])+"px"),Z(this.o,"top",-Math.floor(this.coords[1])+"px")},t(So,un),ya(So),l=So.prototype,l.ba=function(){return"scroll-container-item"},l.X=function(e){var t=e.f.a("DIV",ln(this,e).join(" "));try{(0,e.o)(t,e.a,e.j)}catch(e){}return Lm(t),Z(t,"overflow","hidden"),this.u(t,e.h),t&&Am(t,e.b),this.Ma(t,0),this.Na(t,0),t},l.u=function(e,t){e&&Bm(e,t)},l.Ma=function(e,t){e&&Z(e,"left",Math.floor(t)+"px")},l.Na=function(e,t){e&&Z(e,"top",Math.floor(t)+"px")},t(To,Kn),To.prototype.u=function(e){this.h=e,this.s&&this.c.u(this.g(),e)},t(Uo,hn),t(Vo,Uo),ya(Vo),Vo.prototype.X=function(e){var t=We(e.f.b,"DIV");return Z(t,"overflow","hidden"),this.u(t,e.h),t&&Am(t,e.b),t},Vo.prototype.u=function(e,t){e&&Bm(e,t)},t(Wo,Kn),Wo.prototype.u=function(e){this.h=e,this.s&&this.c.u(this.g(),e)},t($o,hn),$o.prototype.ba=function(){return"scroll-container"},$o.prototype.u=function(e,t){e&&Bm(e,t)},t(ep,hn),t(fp,ep),ya(fp),l=fp.prototype,l.X=function(e){var t=e.f;return Z(t=t.a("DIV",void 0,t.a("DIV")),"position","relative"),Z(t.firstChild,"position","absolute"),Z(t.firstChild,"top",(gp(e)?gp(e).top:0)+"px"),Z(t.firstChild,"left",(gp(e)?gp(e).left:0)+"px"),this.mb(t,e.b.size),this.nb(t,e.b.style),this.kb(t,e.b.color),this.lb(t,gp(e)),this.u(t,gp(e),e.j),this.Pa(t,gp(e),gp(e)?gp(e).top+gp(e).bottom:0),t},l.u=function(e,t,n){e&&(Bm(e,n),t&&(n-=t.left,n-=t.right),Bm(e.firstChild,n))},l.Pa=function(e,t,n){e&&(Am(e,n),t&&(n-=t.top),Am(e.firstChild,n))},l.mb=function(e,t){e&&Z(e.firstChild,"border-top-width",t+"px")},l.nb=function(e,t){e&&Z(e.firstChild,"border-top-style",t)},l.kb=function(e,t){e&&Z(e.firstChild,"border-top-color",t)},l.lb=function(e,t){e&&(t||Z(e,"margin","none"))},t(hp,Kn),hp.prototype.u=function(e){this.j=e,this.s&&this.c.u(this.g(),this.b.padding,e)},t(jp,ep),ya(jp),l=jp.prototype,l.X=function(e){var t=e.f;return Lm(t=t.a("DIV",void 0,t.a("DIV"))),Z(t,"position","relative"),Z(t.firstChild,"position","absolute"),Z(t.firstChild,"top",(gp(e)?gp(e).top:0)+"px"),Z(t.firstChild,"left",(gp(e)?gp(e).left:0)+"px"),Bm(t,(e.b.size||0)+(gp(e)?gp(e).left+gp(e).right:0)),this.mb(t,e.b.size),this.nb(t,e.b.style),this.kb(t,e.b.color),this.lb(t,gp(e)),this.Pa(t,gp(e),e.h),t},l.Pa=function(e,t,n){e&&(Am(e,n),t&&(n-=t.top,n-=t.bottom),Am(e.firstChild,n))},l.mb=function(e,t){e&&Z(e.firstChild,"border-left-width",t+"px")},l.nb=function(e,t){e&&Z(e.firstChild,"border-left-style",t)},l.kb=function(e,t){e&&Z(e.firstChild,"border-left-color",t)},l.lb=function(e,t){e&&(t||Z(e,"margin","none"))},t(kp,$o),ya(kp),l=kp.prototype,l.X=function(e){var t=e.f.a("DIV",ln(this,e).join(" "));return e.i=t,Z(t,"position","absolute"),this.u(t,e.h),t&&Am(t,e.o),t},l.Oa=function(e,t){var n=e.f,r=dp(e),o=r,a=e.v,i=r%a;r=r/a>>0;for(var s,c=0;c<t.length;){for(;i<a&&c<t.length;i++){for(var l,u=en(e,2*i),p=en(e,2*i+1),d=l=0;d<=r;d++)0!=d&&(l+=e.da),l+=lp(e,d);u?(u.u(l),p&&(s=en(p,0))&&(p.u(l),s.u(l))):(0!==i&&(cn(p=new Wo(l,e.Z),new hp(e.$.hs,fp.l(),l,void 0)),cn(e,p)),cn(e,u=new Wo(l,mp(e,i)))),0!==r&&cn(u,s=new hp(e.$.vs,jp.l(),void 0,mp(e,i))),cn(u,l=new To(p=t[c],++o,lp(e,r),mp(e,i),e.Da,n)),fo(bo.l(),l.g(),p,e.Ca),null!=e.xa&&np(this,e,l,o,r,i,u,(u.m?u.m.length:0)-1),c++}r++,i=0}},l.Db=function(e){var t=e.h*bp(e)+e.da*(bp(e)-1),n=0;bn(e,(function(r,o){var a=0;r instanceof Wo&&(r.u(t),0==o%2?(Xo(r,mp(e,n)),bn(r,(function(t,r){if(0==r%2){if(t instanceof To){t.u(lp(e,a++));var o=mp(e,n);if(t.b=o,t.s){var i=t.g();i&&Am(i,o)}}}else t instanceof hp&&ip(t,mp(e,n))})),n++):bn(r,(function(e){e instanceof hp&&e.u(t)})))}));var r=vm(e.g(),"left");(r=r?-parseInt(r,10):0)!=e.b*this.R(e)?this.sa(e,r):new Bf((function(e){e()}))},l.Cb=function(e){gn(e),this.Oa(e,e.a);var t=vm(e.g(),"left");(t=t?-parseInt(t,10):0)!=e.b*this.R(e)?this.sa(e,t):new Bf((function(e){e()}))},l.Lb=function(e,t){var n=e.b*this.R(e),r=t.a-t.c,o=n-r;0==e.b?0<r&&(o=n-25*(1-Math.pow(Math.E,-r/25))):e.b==bp(e)-1&&0>r&&(o=n- -25*(1-Math.pow(Math.E,-r/-25))),Z(e.g(),"left",-o+"px")},l.Kb=function(e,t){var n=this.R(e);if(n=Rd(Math.floor(e.b*n-(t.a-t.c)),-25,(bp(e)-1)*n+25),25<Math.abs(t.a-t.c))if(0>t.a-t.c){if(e.b<bp(e)-1)return this.ra(e,n+30,!0,Yo)}else if(0<e.b)return this.ra(e,n-30,!1,Yo);return this.sa(e,n)},l.ra=function(e,t,n,r){var o=this;return new Bf((function(a){var i=new Ro(e.g(),[t,0],[(e.b+(n?1:-1))*o.R(e),0],lp(e,0)*e.j,r);pj(i,"end",(function(){op(e,e.b+(n?1:-1)),a()})),Mo(i)}))},l.pb=function(e,t){var n=this;return new Bf((function(r){var o=e.b*n.R(e),a=o+25*(t?1:-1),i=new Ro(e.g(),[o,0],[a,0],200);pj(i,"end",(function(){pj(i=new Ro(e.g(),[a,0],[o,0],300),"end",(function(){r()})),Mo(i)})),Mo(i)}))},l.sa=function(e,t){var n=this;return new Bf((function(r){var o=new Ro(e.g(),[t,0],[e.b*n.R(e),0],500,Yo);pj(o,"end",(function(){r()})),Mo(o)}))},l.R=function(e){return e.h+e.da},t(pp,$o),ya(pp),l=pp.prototype,l.X=function(e){var t=e.f.a("DIV",ln(this,e).join(" "));return e.i=t,Z(t,"position","absolute"),this.u(t,e.h),t&&Am(t,e.o),t},l.Oa=function(e,t){var n=e.f,r=dp(e),o=r,a=e.j,i=r/a>>0;r%=a;for(var s=0;s<t.length;){var c=en(e,2*i);for(c||(0!==i&&(cn(c=new Wo(e.h,e.Z),new hp(e.$.hs,fp.l(),e.h,void 0)),cn(e,c)),cn(e,c=new Wo(e.h,mp(e,i))));r<a&&s<t.length;r++,s++){if(0!==r){var l=new hp(e.$.vs,jp.l(),void 0,mp(e,i));cn(c,l)}var u=new To(l=t[s],o,lp(e,r),mp(e,i),e.Da,n);cn(c,u),fo(bo.l(),u.g(),l,e.Ca),null!=e.xa&&qp(this,e,u,o,r,i,c,(c.m?c.m.length:0)-1),o++}i++,r=0}},l.Db=function(e){var t=0;bn(e,(function(n,r){var o=0;n instanceof Wo&&(n.u(e.h),0==r%2?(Xo(n,mp(e,t)),bn(n,(function(n,r){if(0==r%2){if(n instanceof To){n.u(lp(e,o++));var a=mp(e,t);if(n.b=a,n.s){var i=n.g();i&&Am(i,a)}}}else n instanceof hp&&ip(n,mp(e,t))})),t++):bn(n,(function(t){t instanceof hp&&t.u(e.h)})))}));var n=vm(e.g(),"top");(n=n?-parseInt(n,10):0)!=e.b*this.R(e)?this.sa(e,n):new Bf((function(e){e()}))},l.Cb=function(e){gn(e),this.Oa(e,e.a);var t=vm(e.g(),"top");(t=t?-parseInt(t,10):0)!=e.b*this.R(e)?this.sa(e,t):new Bf((function(e){e()}))},l.Lb=function(e,t){var n=e.b*this.R(e),r=t.b-t.f,o=n-r;0==e.b?0<r&&(o=n-25*(1-Math.pow(Math.E,-r/25))):e.b==bp(e)-1&&0>r&&(o=n- -25*(1-Math.pow(Math.E,-r/-25))),Z(e.g(),"top",-o+"px")},l.Kb=function(e,t){var n=this.R(e);if(n=Rd(Math.floor(e.b*n-(t.b-t.f)),-25,(bp(e)-1)*n+25),25<Math.abs(t.b-t.f))if(0>t.b-t.f){if(e.b<bp(e)-1)return this.ra(e,n+30,!0,Yo)}else if(0<e.b)return this.ra(e,n-30,!1,Yo);return this.sa(e,n)},l.ra=function(e,t,n,r){var o=this;return new Bf((function(a){var i=new Ro(e.g(),[0,t],[0,(e.b+(n?1:-1))*o.R(e)],3.5*mp(e,0)*e.v,r);pj(i,"end",(function(){op(e,e.b+(n?1:-1)),a()})),Mo(i)}))},l.pb=function(e,t){var n=this;return new Bf((function(r){var o=e.b*n.R(e),a=o+25*(t?1:-1),i=new Ro(e.g(),[0,o],[0,a],200);pj(i,"end",(function(){pj(i=new Ro(e.g(),[0,a],[0,o],300),"end",(function(){r()})),Mo(i)})),Mo(i)}))},l.sa=function(e,t){var n=this;return new Bf((function(r){var o=new Ro(e.g(),[0,t],[0,e.b*n.R(e)],500,Yo);pj(o,"end",(function(){r()})),Mo(o)}))},l.R=function(e){return e.o+e.Z},t(rp,hn),rp.prototype.u=xa,rp.prototype.ib=xa,t(wp,Bj);var xp=n.document&&n.document.documentElement&&!!n.document.documentElement.setCapture&&!!n.document.releaseCapture;function Bp(e,t,n){var r=Te(Le(e.c).b);return t+=r.x-e.j.x,n+=r.y-e.j.y,e.j=r,e.deltaX+=t,e.deltaY+=n,new Je(zp(e,e.deltaX),Ap(e,e.deltaY))}function Cp(e,t,n,r){e.target.style.left=n+"px",e.target.style.top=r+"px",X(e,new yp("drag",e,t.clientX,t.clientY,t,n,r))}function zp(e,t){var n=e.f,r=isNaN(n.left)?null:n.left;return n=isNaN(n.width)?0:n.width,Math.min(null!=r?r+n:1/0,Math.max(null!=r?r:-1/0,t))}function Ap(e,t){var n=e.f,r=isNaN(n.top)?null:n.top;return n=isNaN(n.height)?0:n.height,Math.min(null!=r?r+n:1/0,Math.max(null!=r?r:-1/0,t))}function yp(e,t,n,r,o,a,i){Xi.call(this,e),this.clientX=n,this.clientY=r,this.left=void 0!==a?a:t.deltaX,this.top=void 0!==i?i:t.deltaY}function Dp(e,t,n,r,o){Kn.call(this,null,r,o),Rn(this,255,!1),Tn(this,255,!1),Ln(this),this.b=e,this.G=!1,this.C=t,this.v=n,this.o=this.Z=this.j=this.K=0}function Fp(e){var t=e.Z,n=e.o,r=!1,o=Math.floor(("horizontal"==e.c.Ba()?e.C:e.v)/n),a=o*t;if(o!=e.K&&(e.K=o,e.s&&e.c.Eb(e,o),r=!0),a!=e.j&&(e.j=a,e.s&&e.c.Fb(e,a),r=!0),a=Math.max(0,a-(0!=t?o:0)),t=o+(0!=t&&t!=n-1?o:0),r)switch(e.c.Ba()){case"horizontal":e.h.f=new sm(a,0,t,0);break;case"vertical":e.h.f=new sm(0,a,0,t)}}function Ep(e,t,n){Xi.call(this,e,t),this.direction=n}function Gp(){}function Hp(){}function Ip(e,t){Bj.call(this),this.a=e;var n=af(this.a)?this.a:this.a?this.a.body:null;this.i=!!n&&"rtl"==xm(n,"direction"),this.b=oj(this.a,oe?"DOMMouseScroll":"mousewheel",this,t)}function Jp(e){return pe&&(qe||se)&&0!=e%40?e:e/40}function Kp(e,t,n,r){Zi.call(this,t),this.type="mousewheel",this.detail=e,this.deltaX=n,this.deltaY=r}function Lp(e,t,n,r,o,a,i,s){Kn.call(this,null,r,s),Rn(this,255,!1),Tn(this,255,!1),Ln(this),this.a=[],this.Ca=o,this.xa=a,this.Sa=e,this.$=t,this.Da=n,this.sb=r instanceof kp?Mp:r instanceof pp?Np:null,e=Gm(this.Sa),this.h=e.width,this.o=e.height,this.C=null,e=0,(n=t.vs)&&(e+=n.size||0,(n=n.padding)&&(e+=(n.left||0)+(n.right||0))),this.da=e,e=t.hs,t=0,e&&(t+=e.size||0,(e=e.padding)&&(t+=(e.top||0)+(e.bottom||0))),this.Z=t,this.j=Op(this),this.v=Pp(this),this.wa=Qp(this),this.va=Rp(this),this.b=0,this.G=!1,this.K=new Bo,this.Sb=null!=i&&i}l=wp.prototype,l.J=function(){wp.F.J.call(this),wj(this.m,["touchstart","mousedown"],this.Jb,!1,this),Tm(this.a),this.i&&this.c.releaseCapture(),this.m=this.target=null},l.Jb=function(e){var t="mousedown"==e.type;if(this.b||t&&(!bj(e)||qe&&e.ctrlKey))X(this,"earlycancel");else{if(0==this.h){if(!X(this,new yp("start",this,e.clientX,e.clientY,e)))return;this.b=!0,t&&e.b()}else t&&e.b();var n=(t=this.c).documentElement,r=!this.i;Om(this.a,t,["touchmove","mousemove"],this.Zb,{capture:r,passive:!1}),Om(this.a,t,["touchend","mouseup"],this.Ha,r),this.i?(n.setCapture(!1),Pm(this.a,n,"losecapture",this.Ha,void 0)):Pm(this.a,t?t.parentWindow||t.defaultView:window,"blur",this.Ha,void 0),this.v&&Pm(this.a,this.v,"scroll",this.jc,r),this.clientX=this.D=e.clientX,this.clientY=this.o=e.clientY,this.screenX=e.screenX,this.screenY=e.screenY,this.deltaX=this.target.offsetLeft,this.deltaY=this.target.offsetTop,this.j=Te(Le(this.c).b)}},l.Ha=function(e,t){Tm(this.a),this.i&&this.c.releaseCapture(),this.b?(this.b=!1,X(this,new yp("end",this,e.clientX,e.clientY,e,zp(this,this.deltaX),Ap(this,this.deltaY),t||"touchcancel"==e.type))):X(this,"earlycancel")},l.Zb=function(e){var t=e.clientX-this.clientX,n=e.clientY-this.clientY;if(this.clientX=e.clientX,this.clientY=e.clientY,this.screenX=e.screenX,this.screenY=e.screenY,!this.b){var r=this.D-this.clientX,o=this.o-this.clientY;if(r*r+o*o>this.h){if(!X(this,new yp("start",this,e.clientX,e.clientY,e)))return void(this.na||this.Ha(e));this.b=!0}}t=(n=Bp(this,t,n)).x,n=n.y,this.b&&X(this,new yp("beforedrag",this,e.clientX,e.clientY,e,t,n))&&(Cp(this,e,t,n),e.b())},l.jc=function(e){var t=Bp(this,0,0);e.clientX=this.clientX,e.clientY=this.clientY,Cp(this,e,t.x,t.y)},t(yp,Xi),t(Dp,Kn),l=Dp.prototype,l.O=function(){Dp.F.O.call(this);var e=this;e.h=new wp(e.g().firstChild,null,new sm(0,0,0,0)),e.h.h=Math.pow(5,2),oj(e.h,"start",(function(){e.$=!1})),oj(e.h,"beforedrag",(function(t){e.$&&t.b()})),oj(e.h,"drag",(function(t){(t="horizontal"==e.c.Ba()?t.left:t.top)!=e.j&&X(e,new Ep("b",e,t>e.j))}))},l.W=function(){Dp.F.W.call(this),Si(this.h)},l.Ja=function(){return this.G},l.qa=function(e){if(this.G=e,this.s){var t=this.g();t&&Em(t,e)}},l.u=function(e){this.C=e,this.s&&this.c.u(this,e)},t(Ep,Xi),t(Gp,rp),ya(Gp),l=Gp.prototype,l.X=function(e){var t,n=e.f;return n=n.a("DIV",void 0,t=n.a("DIV")),e.i=n,Z(n,"position","absolute"),Z(n,"bottom","0px"),Z(n,"left","0px"),Z(n,"z-index","100"),Z(t,"position","relative"),Z(t,"top","0px"),Z(t,"left","0px"),Z(t,"cursor","pointer"),(t=e.g())&&Em(t,!1),this.jb(e,e.b.size),sp(e,e.b.rounded?e.b.size:0),(t=e.g())&&Z(t,"background-color",e.b.background),tp(e,e.b.color),up(e,e.b.padding),vp(e,e.b.margin),this.u(e,e.C),n},l.Ba=function(){return"horizontal"},l.u=function(e,t){var n=e.g();if(n){var r=t,o=e.b;if(o){var a=o.padding;a&&(r-=(a.left||0)+(a.right||0)),(o=o.margin)&&(r-=(o.left||0)+(o.right||0))}Bm(n,r)}},l.jb=function(e,t){var n=e.g();n&&n.firstChild&&(Am(n,t),Am(n.firstChild,t))},l.Eb=function(e,t){var n=e.g();if(n&&n.firstChild){var r=t,o=e.b;if(o){var a=o.padding;a&&(r-=(a.left||0)+(a.right||0)),(o=o.margin)&&(r-=(o.left||0)+(o.right||0))}Bm(n.firstChild,r)}},l.Fb=function(e,t){var n=e.g();n&&n.firstChild&&Z(n.firstChild,"left",t+"px")},t(Hp,rp),ya(Hp),l=Hp.prototype,l.X=function(e){var t,n=e.f;return n=n.a("DIV",void 0,t=n.a("DIV")),e.i=n,Z(n,"position","absolute"),Z(n,"top","0px"),Z(n,"right","0px"),Z(n,"z-index","100"),Z(t,"position","relative"),Z(t,"top","0px"),Z(t,"right","0px"),Z(t,"cursor","pointer"),(t=e.g())&&Em(t,!1),this.jb(e,e.b.size),sp(e,e.b.rounded?e.b.size:0),(t=e.g())&&Z(t,"background-color",e.b.background),tp(e,e.b.color),up(e,e.b.padding),vp(e,e.b.margin),this.ib(e,e.v),n},l.Ba=function(){return"vertical"},l.ib=function(e,t){var n=e.g();if(n){var r=t,o=e.b;if(o){var a=o.padding;a&&(r-=(a.top||0)+(a.bottom||0)),(o=o.margin)&&(r-=(o.top||0)+(o.bottom||0))}Am(n,r)}},l.jb=function(e,t){var n=e.g();n&&n.firstChild&&(Bm(n,t),Bm(n.firstChild,t))},l.Eb=function(e,t){var n=e.g();if(n&&n.firstChild){var r=t,o=e.b;if(o){var a=o.padding;a&&(r-=(a.top||0)+(a.bottom||0)),(o=o.margin)&&(r-=(o.top||0)+(o.bottom||0))}Am(n.firstChild,r)}},l.Fb=function(e,t){var n=e.g();n&&n.firstChild&&Z(n.firstChild,"top",t+"px")},t(Ip,Bj),Ip.prototype.handleEvent=function(e){var t=0,n=0,r=e.a;"mousewheel"==r.type?(e=Jp(-r.wheelDelta),void 0!==r.wheelDeltaX?(t=Jp(-r.wheelDeltaX),n=Jp(-r.wheelDeltaY)):n=e):(100<(e=r.detail)?e=3:-100>e&&(e=-3),void 0!==r.axis&&r.axis===r.HORIZONTAL_AXIS?t=e:n=e),"number"==typeof this.c&&(t=Rd(t,-this.c,this.c)),"number"==typeof this.f&&(n=Rd(n,-this.f,this.f)),this.i&&(t=-t),X(this,t=new Kp(e,r,t,n))},Ip.prototype.J=function(){Ip.F.J.call(this),xj(this.b),this.b=null},t(Kp,Zi),t(Lp,Kn);var Mp="horizontal",Np="vertical";function lp(e,t){var n=e.wa;return t%e.j==e.j-1&&(n+=e.h-(e.j*e.wa+(e.j-1)*e.da)),n}function mp(e,t){var n=e.va;return t%e.v==e.v-1&&(n+=e.o-(e.v*e.va+(e.v-1)*e.Z)),n}function Sp(e){var t=(e.b+3)*e.j*e.v-e.a.length;0<t&&X(e,new Tp("f",e,t))}function op(e,t){e.b=Rd(t,0,bp(e)-1);var n=e.C;n.Z=Rd(e.b,0,n.o-1),Fp(n),Sp(e)}function bp(e){return Math.max(1,Math.ceil(e.a.length/(e.j*e.v)))}function Vp(e,t){if(null!=t&&0<t.length){e.a=gb(e.a,t),e.s&&e.c.Oa(e,t);var n=e.C;n.o=bp(e),1<n.o&&!n.Ja()&&n.qa(!0),n.Ja&&Fp(n)}}function Up(e,t){e.s&&!e.G&&(e.G=!0,Lf(Nf(Jf().then((function(){return new Bf((function(n){t?Wp(e).then((function(){n()})):Xp(e).then((function(){n()}))}))})),(function(){})),(function(){e.G=!1,e.C.$=!0})))}function Wp(e){return e.s?ap(e.c,e):new Bf((function(t){e.G=!1,t()}))}function Xp(e){return e.s?cp(e.c,e):new Bf((function(t){e.G=!1,t()}))}function Op(e){return Math.max(1,Math.floor((e.h+e.da)/(e.$.item.size.width+e.da)))}function Pp(e){return Math.max(1,Math.floor((e.o+e.Z)/(e.$.item.size.height+e.Z)))}function Qp(e){return Math.floor((e.h+e.da-e.j*e.da)/e.j)}function Rp(e){return Math.round((e.o+e.Z-e.v*e.Z)/e.v)}function Tp(e,t,n){Xi.call(this,e,t),this.a=n}function Yp(e,t,n){var r=new Xf;null!=t&&B(t)&&dg(r,t),null!=n&&B(n)&&fg(r,n);var o=nk.l();if(null!=(t=e.parent_element)&&t instanceof HTMLElement){var a=t;if(n="vertical",null!=(t=e.orientation)){if(!w(t))return void I(r,Zp("orientation"));switch(t){case"vertical":n="vertical";break;case"horizontal":n="horizontal";break;default:return void I(r,Zp("orientation"))}}switch(n){case"horizontal":var i=kp.l();break;case"vertical":i=pp.l();break;default:throw Error("Unknown orientation")}var s=function(){};if(null!=(t=e.item_content_renderer)){if(!B(t))return void I(r,Zp("item_content_renderer"));s=t}var c=null;if(null!=(t=e.properties)){if(!q(t))return void I(r,Zp("properties"));c=t}var l=2;if(null!=(t=e.ctx)){if(!x(t))return void I(r,Zp("ctx"));l=t}var u=void 0;if(null!=(t=e.allow_external_touch_scroll)){if(!rb(t))return void I(r,Zp("allow_external_touch_scroll"));u=t}if(null==(t=e.block_id)||!x(t)||0>t)I(r,Zp("block_id"));else{var p=t,d="RANK";null!=(t=e.sort_type)&&(w(t)?d=t:I(r,Zp("sort_type")));var m=0;if(null!=(t=e.fields)){if(!x(t))return void I(r,Zp("fields"));m=t}var f=!1;if(null!=(t=e.has_images)){if(!rb(t))return void I(r,Zp("has_images"));f=t}var h=!1;if(null!=(t=e.has_recommend)){if(!rb(t))return void I(r,Zp("has_recommend"));h=t}var _=null;if(null!=(t=e.topics)){if(!sb(t))return void I(r,Zp("topics"));_=t}var g=0;if(null!=(t=e.publisher)){if(!x(t))return void I(r,Zp("publisher"));g=t}var v=null;if(null!=(t=e.filter_publishers)){if(!sb(t))return void I(r,Zp("filter_publishers"));v=t}var y=null;if(null!=(t=e.loc_id)){if(!x(t))return void I(r,Zp("loc_id"));y=t}var b=0;if(null!=(t=e.strategy_id)){if(!x(t)||0>t)return void I(r,Zp("strategy_id"));b=t}var E=0;if(null!=(t=e.trend_id)){if(!x(t))return void I(r,Zp("trend_id"));E=t}hf("jsapi.ui.block.AggregatorScrollBlock","create",(function(){try{Z(a,"position","relative"),Z(a,"overflow","hidden");var e=!1,t=!1,n=new Lp(a,c,s,i,(function(e){var t;null!=e&&q(e)&&null!=(t=e.viewability)&&q(t)&&Kk(o,t)}),(function(n,r){P.count=1,Ak(o,P,(function(n){null!=n&&0<n.length?r.call(this,n[0]):t=!0,e=!1}),(function(){e=!1}))}),u),P={init:!0,ctx:l,block_id:p,sort_type:d,fields:m,has_images:f,has_recommend:h,topics:_,publisher:g,filter_publishers:v,loc_id:y,strategy_id:b,trend_id:E};oj(n,"f",(function(r){t||e||(e=!0,P.count=r.a,Ak(o,P,(function(r){P.init=!1,null!=r&&0<r.length?Vp(n,r):t=!0,e=!1}),(function(){e=!1})))})),an(n,a),cg(r,n)}catch(e){I(r,e)}}),(function(){}),(function(e){I(r,e)}))}}else I(r,Zp("parent_element"))}function Zp(e){return Error("The '"+e+"' parameter is invalid")}function $p(e,t,n){var r=new Xf;null!=t&&B(t)&&dg(r,t),null!=n&&B(n)&&fg(r,n);var o=nk.l();if(null!=(t=e.block_type))switch(t){case 1:case 2:case 4:break;default:return void I(r,aq("block_type"))}if(null!=(t=e.parent_element)&&t instanceof HTMLElement){var a=t,i="center";if(null!=(t=e.align)){if(!w(t))return void I(r,aq("align"));switch(t){case"center":i="center";break;case"left":i="left";break;case"right":i="right";break;default:return void I(r,aq("align"))}}var s=10;if(null!=(t=e.page_size)){if(!x(t)||0>t||100<t)return void I(r,aq("page_size"));s=t}var c=1/0;if(null!=(t=e.max_page_count)){if(!x(t)||0>t)return void I(r,aq("max_page_count"));c=t}var l=function(){};if(null!=(t=e.item_content_renderer)){if(!B(t))return void I(r,aq("item_content_renderer"));l=t}var p=null;if(null!=(t=e.properties)){if(!q(t))return void I(r,aq("properties"));p=t}if(null==(t=e.block_id)||!x(t)||0>t)I(r,aq("block_id"));else{var d=t,m=0;if(null!=(t=e.source_block_id)){if(!x(t)||0>t)return void I(r,aq("source_block_id"));m=t}var f=0;if(null!=(t=e.topic_id)){if(!x(t)||0>t)return void I(r,aq("topic_id"));f=t}var h=0;if(null!=(t=e.strategy_id)){if(!x(t)||0>t)return void I(r,aq("strategy_id"));h=t}var _=0;null!=(t=e.source_id)&&(!x(t)||0>t||(_=t));var g=0;if(null!=(t=e.fields)){if(!x(t))return void I(r,aq("fields"));g=t}hf("jsapi.ui.block.FluidGridBlock","create",(function(){try{var e=!1,t=!1,n={init:!0,block_id:d,source_block_id:m,topic_id:f,strategy_id:h,source_id:_,fields:g};n.count=s,rk(o,n,(function(d){try{var m=new ho(i,a,p,l,(function(e){var t;null!=e&&q(e)&&null!=(t=e.viewability)&&q(t)&&Kk(o,t)}),(function(r,a){n.count=1,rk(o,n,(function(n){n&&0<n.length?a.call(this,n[0]):t=!0,e=!1}),(function(){e=!1}))}),d)}catch(e){return void I(r,e)}try{an(m,a)}catch(e){return void I(r,e)}1<c&&oj(window,"scroll",(function(){n.init=!1,!t&&!e&&0>=ym(a).y+Cm(m.g()).height-(Te(document).y+Se().height)-500&&(e=!0,n.count=s,rk(o,n,(function(n){n&&0<n.length?(u(n,(function(e){var t=m;t.a.push(e),no(t,e)})),m.a.length/s>=c&&(t=!0)):t=!0,e=!1}),(function(){e=!1})))})),cg(r,m)}),(function(){}))}catch(e){I(r,e)}}),(function(){}),(function(e){I(r,e)}))}}else I(r,aq("parent_element"))}function aq(e){return Error("The '"+e+"' parameter is invalid")}function bq(e,t,n){var r=new Xf;null!=t&&B(t)&&dg(r,t),null!=n&&B(n)&&fg(r,n);var o=nk.l();if(null!=(t=e.block_type))switch(t){case 1:case 2:case 4:break;default:return void I(r,cq("block_type"))}if(null!=(t=e.parent_element)&&t instanceof HTMLElement){var a=t,i=10;if(null!=(t=e.page_size)){if(!x(t)||0>t||100<t)return void I(r,cq("page_size"));i=t}var s=1/0;if(null!=(t=e.max_page_count)){if(!x(t)||0>t)return void I(r,cq("max_page_count"));s=t}var c=function(){};if(null!=(t=e.item_content_renderer)){if(!B(t))return void I(r,cq("item_content_renderer"));c=t}var l=null;if(null!=(t=e.properties)){if(!q(t))return void I(r,cq("properties"));l=t}if(null==(t=e.block_id)||!x(t)||0>t)I(r,cq("block_id"));else{var p=t,d=0;if(null!=(t=e.source_block_id)){if(!x(t)||0>t)return void I(r,cq("source_block_id"));d=t}var m=0;if(null!=(t=e.topic_id)){if(!x(t)||0>t)return void I(r,cq("topic_id"));m=t}var f=0;if(null!=(t=e.strategy_id)){if(!x(t)||0>t)return void I(r,cq("strategy_id"));f=t}var h=0;null!=(t=e.source_id)&&(!x(t)||0>t||(h=t));var _=0;if(null!=(t=e.fields)){if(!x(t))return void I(r,cq("fields"));_=t}hf("jsapi.ui.block.ListBlock","create",(function(){try{var e=!1,t=!1,n={init:!0,block_id:p,source_block_id:d,topic_id:m,strategy_id:f,source_id:h,fields:_};n.count=i,rk(o,n,(function(p){try{var d=new vo(a,l,c,(function(e){var t;null!=e&&q(e)&&null!=(t=e.viewability)&&q(t)&&Kk(o,t)}),(function(r,a){n.count=1,rk(o,n,(function(n){n&&0<n.length?a.call(this,n[0]):t=!0,e=!1}),(function(){e=!1}))}),p)}catch(e){return void I(r,e)}try{an(d,a)}catch(e){return void I(r,e)}1<s&&oj(window,"scroll",(function(){n.init=!1,!t&&!e&&0>=ym(a).y+Cm(d.g()).height-(Te(document).y+Se().height)-500&&(e=!0,n.count=i,rk(o,n,(function(n){n&&0<n.length?(u(n,(function(e){xo(d,e)})),d.a.length/i>=s&&(t=!0)):t=!0,e=!1}),(function(){e=!1})))})),cg(r,d)}),(function(){}))}catch(e){I(r,e)}}),(function(){}),(function(e){I(r,e)}))}}else I(r,cq("parent_element"))}function cq(e){return Error("The '"+e+"' parameter is invalid")}function dq(e,t,n){var r=new Xf;null!=t&&B(t)&&dg(r,t),null!=n&&B(n)&&fg(r,n);var o=nk.l();if(null!=(t=e.block_type))switch(t){case 1:case 2:case 4:break;default:return void I(r,eq("block_type"))}if(null!=(t=e.parent_element)&&t instanceof HTMLElement){var a=t;if(n="vertical",null!=(t=e.orientation)){if(!w(t))return void I(r,eq("orientation"));switch(t){case"vertical":n="vertical";break;case"horizontal":n="horizontal";break;default:return void I(r,eq("orientation"))}}switch(n){case"horizontal":var i=kp.l();break;case"vertical":i=pp.l();break;default:throw Error("Unknown orientation")}var s=function(){};if(null!=(t=e.item_content_renderer)){if(!B(t))return void I(r,eq("item_content_renderer"));s=t}var c=void 0;if(null!=(t=e.allow_external_touch_scroll)){if(!rb(t))return void I(r,eq("allow_external_touch_scroll"));c=t}var l=null;if(null!=(t=e.properties)){if(!q(t))return void I(r,eq("properties"));l=t}if(null==(t=e.block_id)||!x(t)||0>t)I(r,eq("block_id"));else{var u=t,p=0;if(null!=(t=e.source_block_id)){if(!x(t)||0>t)return void I(r,eq("source_block_id"));p=t}var d=0;if(null!=(t=e.topic_id)){if(!x(t)||0>t)return void I(r,eq("topic_id"));d=t}var m=0;if(null!=(t=e.strategy_id)){if(!x(t)||0>t)return void I(r,eq("strategy_id"));m=t}var f=0;null!=(t=e.source_id)&&(!x(t)||0>t||(f=t));var h=0;if(null!=(t=e.fields)){if(!x(t))return void I(r,eq("fields"));h=t}hf("jsapi.ui.block.ScrollBlock","create",(function(){try{Z(a,"position","relative"),Z(a,"overflow","hidden");var e=!1,t=!1,n=new Lp(a,l,s,i,(function(e){var t;null!=e&&q(e)&&null!=(t=e.viewability)&&q(t)&&Kk(o,t)}),(function(n,r){_.count=1,rk(o,_,(function(n){null!=n&&0<n.length?r.call(this,n[0]):t=!0,e=!1}),(function(){e=!1}))}),c),_={init:!0,block_id:u,source_block_id:p,topic_id:d,strategy_id:m,source_id:f,fields:h};oj(n,"f",(function(r){t||e||(e=!0,_.count=r.a,rk(o,_,(function(r){_.init=!1,null!=r&&0<r.length?Vp(n,r):t=!0,e=!1}),(function(){e=!1})))})),an(n,a),cg(r,n)}catch(e){I(r,e)}}),(function(){}),(function(e){I(r,e)}))}}else I(r,eq("parent_element"))}function eq(e){return Error("The '"+e+"' parameter is invalid")}function fq(e,t,n){var r=new Xf;null!=t&&B(t)&&dg(r,t),null!=n&&B(n)&&fg(r,n);var o=nk.l();if(null!=(t=e.parent_element)&&t instanceof HTMLElement){var a=t,i="center";if(null!=(t=e.align)){if(!w(t))return void I(r,gq("align"));switch(t){case"center":i="center";break;case"left":i="left";break;case"right":i="right";break;default:return void I(r,gq("align"))}}var s=10;if(null!=(t=e.page_size)){if(!x(t)||0>t||100<t)return void I(r,gq("page_size"));s=t}var c=1/0;if(null!=(t=e.max_page_count)){if(!x(t)||0>t)return void I(r,gq("max_page_count"));c=t}var l=function(){};if(null!=(t=e.item_content_renderer)){if(!B(t))return void I(r,gq("item_content_renderer"));l=t}var p=null;if(null!=(t=e.properties)){if(!q(t))return void I(r,gq("properties"));p=t}hf("jsapi.ui.block.RtbFluidGridBlock","create",(function(){try{e.init=!0,e.blocks=[{block_id:e.block_id,tag_id:"slot_"+e.block_id,fields:e.fields}],e.blocks[0].count=s,wk(o,e,(function(t){try{var n=Gk(t);Hk(n);var d=new ho(i,a,p,l,(function(e){q(e)&&Ik(e)}),(function(t,n){q(t)&&Jk(t),e.blocks[0].count=1,wk(o,e,(function(e){Hk(e=Gk(e)),e&&0<e.length?n.call(this,e[0]):f=!0,m=!1}),(function(){m=!1}))}),n)}catch(e){return void I(r,e)}try{an(d,a)}catch(e){return void I(r,e)}var m=!1,f=!1;1<c&&oj(window,"scroll",(function(){e.init=!1,!f&&!m&&0>=ym(a).y+Cm(d.g()).height-(Te(document).y+Se().height)-500&&(m=!0,e.blocks[0].count=s,wk(o,e,(function(e){Hk(e=Gk(e)),e&&0<e.length?(u(e,(function(e){var t=d;t.a.push(e),no(t,e)})),d.a.length/s>=c&&(f=!0)):f=!0,m=!1}),(function(){m=!1})))})),cg(r,d)}),(function(){}))}catch(e){I(r,e)}}),(function(){}),(function(e){I(r,e)}))}else I(r,gq("parent_element"))}function gq(e){return Error("The '"+e+"' parameter is invalid")}function hq(e,t,n){var r=new Xf;null!=t&&B(t)&&dg(r,t),null!=n&&B(n)&&fg(r,n);var o=nk.l();if(null!=(t=e.parent_element)&&t instanceof HTMLElement){var a=t,i=10;if(null!=(t=e.page_size)){if(!x(t)||0>t||100<t)return void I(r,iq("page_size"));i=t}var s=1/0;if(null!=(t=e.max_page_count)){if(!x(t)||0>t)return void I(r,iq("max_page_count"));s=t}var c=function(){};if(null!=(t=e.item_content_renderer)){if(!B(t))return void I(r,iq("item_content_renderer"));c=t}var l=null;if(null!=(t=e.properties)){if(!q(t))return void I(r,iq("properties"));l=t}hf("jsapi.ui.block.RtbListBlock","create",(function(){try{var t=!1,n=!1;e.init=!0,e.blocks=[{block_id:e.block_id,tag_id:"slot_"+e.block_id,fields:e.fields}],e.blocks[0].count=i,wk(o,e,(function(p){try{var d=Gk(p);Hk(d);var m=new vo(a,l,c,(function(e){q(e)&&Ik(e)}),(function(r,a){q(r)&&Jk(r),e.blocks[0].count=1,wk(o,e,(function(e){Hk(e=Gk(e)),e&&0<e.length?a.call(this,e[0]):n=!0,t=!1}),(function(){t=!1}))}),d)}catch(e){return void I(r,e)}try{an(m,a)}catch(e){return void I(r,e)}1<s&&oj(window,"scroll",(function(){e.init=!1,!n&&!t&&0>=ym(a).y+Cm(m.g()).height-(Te(document).y+Se().height)-500&&(t=!0,e.blocks[0].count=i,wk(o,e,(function(e){Hk(e=Gk(e)),e&&0<e.length?(u(e,(function(e){xo(m,e)})),m.a.length/i>=s&&(n=!0)):n=!0,t=!1}),(function(){t=!1})))})),cg(r,m)}),(function(){}))}catch(e){I(r,e)}}),(function(){}),(function(e){I(r,e)}))}else I(r,iq("parent_element"))}function iq(e){return Error("The '"+e+"' parameter is invalid")}function jq(e,t,n){var r=new Xf;null!=t&&B(t)&&dg(r,t),null!=n&&B(n)&&fg(r,n);var o=nk.l();if(null!=(t=e.parent_element)&&t instanceof HTMLElement){var a=t;if(n="vertical",null!=(t=e.orientation)){if(!w(t))return void I(r,kq("orientation"));switch(t){case"vertical":n="vertical";break;case"horizontal":n="horizontal";break;default:return void I(r,kq("orientation"))}}switch(n){case"horizontal":var i=kp.l();break;case"vertical":i=pp.l();break;default:throw Error("Unknown orientation")}var s=function(){};if(null!=(t=e.item_content_renderer)){if(!B(t))return void I(r,kq("item_content_renderer"));s=t}var c=void 0;if(null!=(t=e.allow_external_touch_scroll)){if(!rb(t))return void I(r,kq("allow_external_touch_scroll"));c=t}var l=null;if(null!=(t=e.properties)){if(!q(t))return void I(r,kq("properties"));l=t}hf("jsapi.ui.block.RtbScrollBlock","create",(function(){try{Z(a,"position","relative"),Z(a,"overflow","hidden");var t=!1,n=!1,u=new Lp(a,l,s,i,(function(e){q(e)&&Ik(e)}),(function(r,a){q(r)&&Jk(r),e.blocks[0].count=1,wk(o,e,(function(e){Hk(e=Gk(e)),null!=e&&0<e.length?a.call(this,e[0]):n=!0,t=!1}),(function(){t=!1}))}),c);e.init=!0,e.blocks=[{block_id:e.block_id,tag_id:"slot_"+e.block_id,fields:e.fields}],oj(u,"f",(function(r){n||t||(t=!0,e.blocks[0].count=r.a,wk(o,e,(function(r){e.init=!1,Hk(r=Gk(r)),null!=r&&0<r.length?Vp(u,r):n=!0,t=!1}),(function(){t=!1})))})),an(u,a),cg(r,u)}catch(e){I(r,e)}}),(function(){}),(function(e){I(r,e)}))}else I(r,kq("parent_element"))}function kq(e){return Error("The '"+e+"' parameter is invalid")}l=Lp.prototype,l.O=function(){Lp.F.O.call(this);var e=this,t=e.Sa;switch(e.sb){case Mp:e.C=new Dp(e.$.scroll,e.h,-1,Gp.l()),an(e.C,t);break;case Np:e.C=new Dp(e.$.scroll,-1,e.o,Hp.l()),an(e.C,t)}e.Wa=new Dj(200),e.tb=new Ip(t);var n=Zm(e);Pm(n,e.Wa,"tick",e.fc,void 0),Om(n,e,["c","d","e"],e.ec),Pm(n,e.tb,"mousewheel",e.hc,void 0),Pm(n,t,"touchstart",e.nc,void 0),Pm(n,t,"touchmove",e.mc,void 0),Pm(n,t,"touchend",e.lc,void 0),Om(n,e.C,"b",(function(t){t.direction?e.hb():e.gb()})),e.Wa.start(),Sp(e)},l.W=function(){Lp.F.W.call(this),Si(this.Wa,this.tb)},l.u=function(e){this.h=e,this.s&&this.c.u(this.g(),e)},l.hb=function(){Up(this,!0)},l.gb=function(){Up(this,!1)},l.fc=function(){var e=Gm(this.Sa);this.h!=e.width&&this.o!=e.height?(this.h=e.width,this.o=e.height,X(this,"c")):this.h!=e.width?(this.h=e.width,X(this,"d")):this.o!=e.height&&(this.o=e.height,X(this,"e"))},l.ec=function(){switch(this.C.c.Ba()){case"horizontal":this.C.u(this.h);break;case"vertical":var e=this.C,t=this.o;e.v=t,e.s&&e.c.ib(e,t)}e=Op(this),t=Pp(this),this.j!==e||this.v!==t?(this.j=e,this.v=t,this.wa=Qp(this),this.va=Rp(this),this.b=0,this.s&&(e=this.c).Cb(this),Sp(this)):(this.wa=Qp(this),this.va=Rp(this),this.s&&(e=this.c).Db(this))},l.hc=function(e){0<e.deltaY?this.hb():this.gb(),e.b()},l.nc=function(e){var t;this.G||(e=e.a)&&e.targetTouches&&(t=e.targetTouches[0])&&(this.K.c=t.pageX,this.K.f=t.pageY,this.K.a=this.K.c,this.K.b=this.K.f)},l.mc=function(e){if(!this.G){var t,n=e.a;n&&n.targetTouches&&(t=n.targetTouches[0])&&(this.K.a=t.pageX,this.K.b=t.pageY,this.c.Lb(this,this.K))}this.Sb&&this.sb==Mp||e.b()},l.lc=function(){var e=this;e.G||(e.G=!0,Lf(Nf(Jf().then((function(){return e.c.Kb(e,e.K)})),(function(){})),(function(){e.G=!1})))},t(Tp,Xi),Lp.prototype.scrollBack=Lp.prototype.gb,Lp.prototype.scrollForward=Lp.prototype.hb;var lq,mq=Le().b.documentElement;function nq(){var e=Le().b,t=e.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&e.mozFullScreenEnabled||t.msRequestFullscreen&&e.msFullscreenEnabled||t.requestFullscreen&&e.fullscreenEnabled)}function oq(){var e=Le().b;return!!(e.webkitIsFullScreen||e.mozFullScreen||e.msFullscreenElement||e.fullscreenElement)}function pq(){}function qq(e){return Oe("jsapi-player-skip-ad",e.g())}function rq(e){return Oe("jsapi-player-controls",e.g()).firstChild.nextSibling}function sq(e){return Oe("jsapi-player-controls",e.g()).firstChild.nextSibling.nextSibling}function tq(e){return Oe("jsapi-player-panel-top",e.g()).firstChild}function uq(e){var t=Oe("jsapi-player-controls",e.g()).firstChild;e.s&&!e.b.paused?(pm(t,"jsapi-player-control-play"),nm(t,"jsapi-player-control-pause")):(pm(t,"jsapi-player-control-pause"),nm(t,"jsapi-player-control-play"))}function vq(e,t){this.b=e,this.a=t}function wq(e,t){this.a=e,this.b=t}function xq(e,t,n){Kn.call(this,null,pq.l(),n),Rn(this,255,!1),Tn(this,255,!1),Ln(this),this.a=e,this.K=t,this.G=this.h=this.j=this.v=this.C=this.o=this.b=void 0}function(){}