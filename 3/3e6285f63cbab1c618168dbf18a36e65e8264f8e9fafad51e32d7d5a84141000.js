(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{203:function(e,t,r){"use strict";r.r(t),r.d(t,"deepAccess",(function(){return c})),r.d(t,"deepSetValue",(function(){return d})),r.d(t,"internal",(function(){return j})),r.d(t,"getPrebidInternal",(function(){return E})),r.d(t,"bind",(function(){return S})),r.d(t,"getUniqueIdentifierStr",(function(){return T})),r.d(t,"generateUUID",(function(){return w})),r.d(t,"getBidIdParameter",(function(){return x})),r.d(t,"tryAppendQueryString",(function(){return k})),r.d(t,"parseQueryStringParameters",(function(){return R})),r.d(t,"transformAdServerTargetingObj",(function(){return D})),r.d(t,"getAdUnitSizes",(function(){return P})),r.d(t,"parseSizesInput",(function(){return U})),r.d(t,"parseGPTSingleSizeArray",(function(){return B})),r.d(t,"parseGPTSingleSizeArrayToRtbSize",(function(){return N})),r.d(t,"getWindowTop",(function(){return M})),r.d(t,"getWindowSelf",(function(){return z})),r.d(t,"getWindowLocation",(function(){return F})),r.d(t,"logMessage",(function(){return W})),r.d(t,"logInfo",(function(){return G})),r.d(t,"logWarn",(function(){return L})),r.d(t,"logError",(function(){return V})),r.d(t,"prefixLog",(function(){return K})),r.d(t,"hasConsoleLogger",(function(){return H})),r.d(t,"debugTurnedOn",(function(){return J})),r.d(t,"createInvisibleIframe",(function(){return X})),r.d(t,"getParameterByName",(function(){return Q})),r.d(t,"isA",(function(){return $})),r.d(t,"isFn",(function(){return Z})),r.d(t,"isStr",(function(){return ee})),r.d(t,"isArray",(function(){return te})),r.d(t,"isNumber",(function(){return re})),r.d(t,"isPlainObject",(function(){return ne})),r.d(t,"isBoolean",(function(){return ie})),r.d(t,"isEmpty",(function(){return ae})),r.d(t,"isEmptyStr",(function(){return oe})),r.d(t,"_each",(function(){return se})),r.d(t,"contains",(function(){return ce})),r.d(t,"_map",(function(){return de})),r.d(t,"hasOwn",(function(){return ue})),r.d(t,"insertElement",(function(){return le})),r.d(t,"waitForElementToLoad",(function(){return pe})),r.d(t,"triggerPixel",(function(){return fe})),r.d(t,"callBurl",(function(){return be})),r.d(t,"insertHtmlIntoIframe",(function(){return ge})),r.d(t,"insertUserSyncIframe",(function(){return me})),r.d(t,"createTrackPixelHtml",(function(){return ve})),r.d(t,"createTrackPixelIframeHtml",(function(){return ye})),r.d(t,"getValueString",(function(){return he})),r.d(t,"uniques",(function(){return Oe})),r.d(t,"flatten",(function(){return je})),r.d(t,"getBidRequest",(function(){return Ie})),r.d(t,"getKeys",(function(){return Ee})),r.d(t,"getValue",(function(){return Ae})),r.d(t,"getKeyByValue",(function(){return _e})),r.d(t,"getBidderCodes",(function(){return Se})),r.d(t,"isGptPubadsDefined",(function(){return Ce})),r.d(t,"isApnGetTagDefined",(function(){return Te})),r.d(t,"getHighestCpm",(function(){return we})),r.d(t,"getOldestHighestCpmBid",(function(){return xe})),r.d(t,"getLatestHighestCpmBid",(function(){return ke})),r.d(t,"shuffle",(function(){return De})),r.d(t,"adUnitsFilter",(function(){return Pe})),r.d(t,"deepClone",(function(){return Ue})),r.d(t,"inIframe",(function(){return Be})),r.d(t,"isSafariBrowser",(function(){return Ne})),r.d(t,"replaceAuctionPrice",(function(){return qe})),r.d(t,"replaceClickThrough",(function(){return Me})),r.d(t,"timestamp",(function(){return ze})),r.d(t,"getPerformanceNow",(function(){return Fe})),r.d(t,"hasDeviceAccess",(function(){return We})),r.d(t,"checkCookieSupport",(function(){return Ge})),r.d(t,"delayExecution",(function(){return Le})),r.d(t,"groupBy",(function(){return Ve})),r.d(t,"getDefinedParams",(function(){return Ke})),r.d(t,"isValidMediaTypes",(function(){return Ye})),r.d(t,"getUserConfiguredParams",(function(){return He})),r.d(t,"getOrigin",(function(){return Je})),r.d(t,"getDNT",(function(){return Xe})),r.d(t,"isAdUnitCodeMatchingSlot",(function(){return $e})),r.d(t,"isSlotMatchingAdUnitCode",(function(){return Ze})),r.d(t,"getGptSlotInfoForAdUnitCode",(function(){return et})),r.d(t,"unsupportedBidderMessage",(function(){return tt})),r.d(t,"isInteger",(function(){return rt})),r.d(t,"convertCamelToUnderscore",(function(){return nt})),r.d(t,"cleanObj",(function(){return it})),r.d(t,"pick",(function(){return at})),r.d(t,"transformBidderParamKeywords",(function(){return ot})),r.d(t,"convertTypes",(function(){return st})),r.d(t,"isArrayOfNums",(function(){return ct})),r.d(t,"fill",(function(){return dt})),r.d(t,"chunk",(function(){return ut})),r.d(t,"getMinValueFromArray",(function(){return lt})),r.d(t,"getMaxValueFromArray",(function(){return pt})),r.d(t,"compareOn",(function(){return ft})),r.d(t,"parseQS",(function(){return bt})),r.d(t,"formatQS",(function(){return gt})),r.d(t,"parseUrl",(function(){return mt})),r.d(t,"buildUrl",(function(){return vt})),r.d(t,"deepEqual",(function(){return yt})),r.d(t,"mergeDeep",(function(){return ht})),r.d(t,"cyrb53Hash",(function(){return Ot}));var n=r(0),i=r(204),a=r(240),o=r.n(a),s=r(205);function c(e,t,r,n,i){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:i;return e===i?r:e}var d=function(e,t,r){t.split&&(t=t.split("."));for(var n,i=0,a=t.length,o=e;i<a;++i)n=o[t[i]],o=o[t[i]]=i===a-1?r:null!=n?n:!~t[i+1].indexOf(".")&&+t[i+1]>-1?[]:{}};function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p,f=r(206),b=Object.prototype.toString,g=Boolean(window.console),m=Boolean(g&&window.console.log),v=Boolean(g&&window.console.info),y=Boolean(g&&window.console.warn),h=Boolean(g&&window.console.error),O=function(){return null==p&&(p=r(210)),p.emit.apply(p,arguments)},j={checkCookieSupport:Ge,createTrackPixelIframeHtml:ye,getWindowSelf:z,getWindowTop:M,getWindowLocation:F,insertUserSyncIframe:me,insertElement:le,isFn:Z,triggerPixel:fe,logError:V,logWarn:L,logMessage:W,logInfo:G,parseQS:bt,formatQS:gt,deepEqual:yt},I={};function E(){return I}var A,_={},S=function(e,t){return t}.bind(null,1,_)()===_?Function.prototype.bind:function(e){var t=this,r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,r.concat(Array.prototype.slice.call(arguments)))}},C=(A=0,function(){return++A});function T(){return C()+Math.random().toString(16).substr(2)}function w(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,w)}function x(e,t){return t&&t[e]?t[e]:""}function k(e,t,r){return r?e+t+"="+encodeURIComponent(r)+"&":e}function R(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t+=r+"="+encodeURIComponent(e[r])+"&");return t=t.replace(/&$/,"")}function D(e){return e&&Object.getOwnPropertyNames(e).length>0?Ee(e).map((function(t){return t+"="+encodeURIComponent(Ae(e,t))})).join("&"):""}function P(e){if(e){var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var r=e.mediaTypes.banner.sizes;Array.isArray(r[0])?t=r:t.push(r)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}}function U(e){var t=[];if("string"==typeof e){var r=e.split(","),n=/^(\d)+x(\d)+$/i;if(r)for(var i in r)ue(r,i)&&r[i].match(n)&&t.push(r[i])}else if("object"===l(e)){var a=e.length;if(a>0)if(2===a&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(B(e));else for(var o=0;o<a;o++)t.push(B(e[o]))}return t}function B(e){if(q(e))return e[0]+"x"+e[1]}function N(e){if(q(e))return{w:e[0],h:e[1]}}function q(e){return te(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function M(){return window.top}function z(){return window.self}function F(){return window.location}function W(){J()&&m&&console.log.apply(console,Y(arguments,"MESSAGE:"))}function G(){J()&&v&&console.info.apply(console,Y(arguments,"INFO:"))}function L(){J()&&y&&console.warn.apply(console,Y(arguments,"WARNING:")),O(f.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function V(){J()&&h&&console.error.apply(console,Y(arguments,"ERROR:")),O(f.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function K(e){function t(t){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t.apply(void 0,Object(n.__spreadArray)([e],Object(n.__read)(r)))}}return{logError:t(V),logWarn:t(L),logMessage:t(W),logInfo:t(G)}}function Y(e,t){e=[].slice.call(e);var r=i.b.getCurrentBidder();return t&&e.unshift(t),r&&e.unshift(n("#aaa")),e.unshift(n("#3b88c3")),e.unshift("%cPrebid"+(r?"%c"+r:"")),e;function n(e){return"display: inline-block; color: #fff; background: "+e+"; padding: 1px 4px; border-radius: 3px;"}}function H(){return m}function J(){return!!i.b.getConfig("debug")}function X(){var e=document.createElement("iframe");return e.id=T(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e}function Q(e){return bt(F().search)[e]||""}function $(e,t){return b.call(e)==="[object "+t+"]"}function Z(e){return $(e,"Function")}function ee(e){return $(e,"String")}function te(e){return $(e,"Array")}function re(e){return $(e,"Number")}function ne(e){return $(e,"Object")}function ie(e){return $(e,"Boolean")}function ae(e){if(!e)return!0;if(te(e)||ee(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function oe(e){return ee(e)&&(!e||0===e.length)}function se(e,t){if(!ae(e)){if(Z(e.forEach))return e.forEach(t,this);var r=0,n=e.length;if(n>0)for(;r<n;r++)t(e[r],r,e);else for(r in e)hasOwnProperty.call(e,r)&&t.call(this,e[r],r)}}function ce(e,t){if(ae(e))return!1;if(Z(e.indexOf))return-1!==e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return!0;return!1}function de(e,t){if(ae(e))return[];if(Z(e.map))return e.map(t);var r=[];return se(e,(function(n,i){r.push(t(n,i,e))})),r}function ue(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function le(e,t,r,n){var i;t=t||document,i=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var a=n?null:i.firstChild;return i.insertBefore(e,a)}}catch(e){}}function pe(e,t){var r=null;return new Promise((function(n){var i=function t(){e.removeEventListener("load",t),e.removeEventListener("error",t),null!=r&&window.clearTimeout(r),n()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(r=window.setTimeout(i,t))}))}function fe(e,t,r){var n=new Image;t&&j.isFn(t)&&pe(n,r).then(t),n.src=e}function be(e){var t=e.source,r=e.burl;t===f.S2S.SRC&&r&&j.triggerPixel(r)}function ge(e){if(e){var t=document.createElement("iframe");t.id=T(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",j.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}}function me(e,t,r){var n=j.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=n;var a=i.firstChild;t&&j.isFn(t)&&pe(a,r).then(t),j.insertElement(a,document,"html",!0)}function ve(e){if(!e)return"";var t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>'}function ye(e,t,r){return void 0===t&&(t=!0),void 0===r&&(r=""),e?(t&&(e=encodeURI(e)),r&&(r='sandbox="'+r+'"'),"<iframe "+r+' id="'+T()+'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="'+e+'">\n    </iframe>'):""}function he(e,t,r){return null==t?r:ee(t)?t:re(t)?t.toString():void j.logWarn("Unsuported type for param: "+e+" required type: String")}function Oe(e,t,r){return r.indexOf(e)===t}function je(e,t){return e.concat(t)}function Ie(e,t){var r;if(e)return t.some((function(t){var n=Object(s.b)(t.bids,(function(t){return["bidId","adId","bid_id"].some((function(r){return t[r]===e}))}));return n&&(r=n),n})),r}function Ee(e){return Object.keys(e)}function Ae(e,t){return e[t]}function _e(e,t){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t)return r}function Se(e){return void 0===e&&(e=pbjs.adUnits),e.map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(je,[])})).reduce(je,[]).filter(Oe)}function Ce(){if(window.googletag&&Z(window.googletag.pubads)&&Z(window.googletag.pubads().getSlots))return!0}function Te(){if(window.apntag&&Z(window.apntag.getTag))return!0}var we=Re("timeToRespond",(function(e,t){return e>t})),xe=Re("responseTimestamp",(function(e,t){return e>t})),ke=Re("responseTimestamp",(function(e,t){return e<t}));function Re(e,t){return function(r,n){return r.cpm===n.cpm?t(r[e],n[e])?n:r:r.cpm<n.cpm?n:r}}function De(e){for(var t=e.length;t>0;){var r=Math.floor(Math.random()*t),n=e[--t];e[t]=e[r],e[r]=n}return e}function Pe(e,t){return Object(s.c)(e,t&&t.adUnitCode)}function Ue(e){return o()(e)}function Be(){try{return j.getWindowSelf()!==j.getWindowTop()}catch(e){return!0}}function Ne(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function qe(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)}function Me(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)}function ze(){return(new Date).getTime()}function Fe(){return window.performance&&window.performance.now&&window.performance.now()||0}function We(){return!1!==i.b.getConfig("deviceAccess")}function Ge(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Le(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got "+t);var r=0;return function(){++r===t&&e.apply(this,arguments)}}function Ve(e,t){return e.reduce((function(e,r){return(e[r[t]]=e[r[t]]||[]).push(r),e}),{})}function Ke(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,r){var n;return u(t,((n={})[r]=e[r],n))}),{})}function Ye(e){var t=["banner","native","video"];return!!Object.keys(e).every((function(e){return Object(s.c)(t,e)}))&&(!e.video||!e.video.context||Object(s.c)(["instream","outstream","adpod"],e.video.context))}function He(e,t,r){return e.filter((function(e){return e.code===t})).map((function(e){return e.bids})).reduce(je,[]).filter((function(e){return e.bidder===r})).map((function(e){return e.params||{}}))}function Je(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function Xe(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}var Qe=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function $e(e){return function(t){return Qe(e,t)}}function Ze(e){return function(t){return Qe(t,e)}}function et(e){var t;return Ce()&&(t=Object(s.b)(window.googletag.pubads().getSlots(),Ze(e))),t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}function tt(e,t){var r=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    "+e.code+" is a "+r+" ad unit\n    containing bidders that don't support "+r+": "+t+".\n    This bidder won't fetch demand.\n  "}function rt(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function nt(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")}function it(e){return Object.keys(e).reduce((function(t,r){return void 0!==e[r]&&(t[r]=e[r]),t}),{})}function at(e,t){return"object"!==l(e)?{}:t.reduce((function(r,n,i){if("function"==typeof n)return r;var a=n,o=n.match(/^(.+?)\sas\s(.+?)$/i);o&&(n=o[1],a=o[2]);var s=e[n];return"function"==typeof t[i+1]&&(s=t[i+1](s,r)),void 0!==s&&(r[a]=s),r}),{})}function ot(e,t){void 0===t&&(t="keywords");var r=[];return se(e,(function(e,n){if(te(e)){var i=[];se(e,(function(e){((e=he(t+"."+n,e))||""===e)&&i.push(e)})),e=i}else{if(!ee(e=he(t+"."+n,e)))return;e=[e]}r.push({key:n,value:e})})),r}function st(e,t){return Object.keys(e).forEach((function(r){var n,i;t[r]&&(Z(e[r])?t[r]=e[r](t[r]):t[r]=(n=e[r],i=t[r],"string"===n?i&&i.toString():"number"===n?Number(i):i),isNaN(t[r])&&delete t.key)})),t}function ct(e,t){return te(e)&&(!t||e.length===t)&&e.every((function(e){return rt(e)}))}function dt(e,t){for(var r=[],n=0;n<t;n++){var i=ne(e)?Ue(e):e;r.push(i)}return r}function ut(e,t){for(var r=[],n=0;n<Math.ceil(e.length/t);n++){var i=n*t,a=i+t;r.push(e.slice(i,a))}return r}function lt(e){return Math.min.apply(Math,Object(n.__spreadArray)([],Object(n.__read)(e)))}function pt(e){return Math.max.apply(Math,Object(n.__spreadArray)([],Object(n.__read)(e)))}function ft(e){return function(t,r){return t[e]<r[e]?1:t[e]>r[e]?-1:0}}function bt(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var r=Object(n.__read)(t.split("="),2),i=r[0],a=r[1];return/\[\]$/.test(i)?(e[i=i.replace("[]","")]=e[i]||[],e[i].push(a)):e[i]=a||"",e}),{}):{}}function gt(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return t+"[]="+e})).join("&"):t+"="+e[t]})).join("&")}function mt(e,t){var r=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?r.href=e:r.href=decodeURIComponent(e);var n=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:r.href,protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:n?r.search:j.parseQS(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}}function vt(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+j.formatQS(e.search||""):"")+(e.hash?"#"+e.hash:"")}function yt(e,t,r){var n=(void 0===r?{}:r).checkTypes,i=void 0!==n&&n;if(e===t)return!0;if("object"!==l(e)||null===e||"object"!==l(t)||null===t||i&&e.constructor!==t.constructor)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var a in e){if(!t.hasOwnProperty(a))return!1;if(!yt(e[a],t[a],{checkTypes:i}))return!1}return!0}function ht(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!t.length)return e;var i=t.shift();if(ne(e)&&ne(i)){var a=function(t){var r,a,o;ne(i[t])?(e[t]||u(e,((r={})[t]={},r)),ht(e[t],i[t])):te(i[t])?e[t]?te(e[t])&&i[t].forEach((function(r){for(var n=1,i=0;i<e[t].length;i++)if(yt(e[t][i],r)){n=0;break}n&&e[t].push(r)})):u(e,((a={})[t]=Object(n.__spreadArray)([],Object(n.__read)(i[t])),a)):u(e,((o={})[t]=i[t],o))};for(var o in i)a(o)}return ht.apply(void 0,Object(n.__spreadArray)([e],Object(n.__read)(t)))}function Ot(e,t){void 0===t&&(t=0);for(var r=function(e,t){if(Z(Math.imul))return Math.imul(e,t);var r=(4194303&e)*(t|=0);return 4290772992&e&&(r+=(4290772992&e)*t|0),0|r},n=3735928559^t,i=1103547991^t,a=0,o=void 0;a<e.length;a++)n=r(n^(o=e.charCodeAt(a)),2654435761),i=r(i^o,1597334677);return n=r(n^n>>>16,2246822507)^r(i^i>>>13,3266489909),(4294967296*(2097151&(i=r(i^i>>>16,2246822507)^r(n^n>>>13,3266489909)))+(n>>>0)).toString()}},204:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return m}));var n=r(0),i=r(226),a=r(205),o=r(203);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=r(206),u="TRUE"===Object(o.getParameterByName)(d.DEBUG_MODE).toUpperCase(),l=window.location.origin,p="random",f={};f[p]=!0,f.fixed=!0;var b=p,g={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"};var m=function(){var e,t,r,d=[],p=null;function m(){e={};var s={_debug:u,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:l,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:g.MEDIUM,set priceGranularity(e){d(e)&&("string"==typeof e?this._priceGranularity=c(e)?e:g.MEDIUM:Object(o.isPlainObject)(e)&&(this._customPriceBucket=e,this._priceGranularity=g.CUSTOM,Object(o.logMessage)("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(e){var t=this;this._mediaTypePriceGranularity=Object.keys(e).reduce((function(r,n){return d(e[n])?"string"==typeof e?r[n]=c(e[n])?e[n]:t._priceGranularity:Object(o.isPlainObject)(e)&&(r[n]=e[n],Object(o.logMessage)("Using custom price granularity for "+n)):Object(o.logWarn)("Invalid price granularity for media type: "+n),r}),{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:b,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){f[e]?this._bidderSequence=e:Object(o.logWarn)("Invalid order: "+e+". Bidder Sequence was not set.")},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:!1,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e},_maxNestedIframes:10,get maxNestedIframes(){return this._maxNestedIframes},set maxNestedIframes(e){this._maxNestedIframes=e},_auctionOptions:{},get auctionOptions(){return this._auctionOptions},set auctionOptions(e){(function(e){var t,r;if(!Object(o.isPlainObject)(e))return Object(o.logWarn)("Auction Options must be an object"),!1;try{for(var i=Object(n.__values)(Object.keys(e)),a=i.next();!a.done;a=i.next()){var s=a.value;if("secondaryBidders"!==s&&"suppressStaleRender"!==s)return Object(o.logWarn)("Auction Options given an incorrect param: "+s),!1;if("secondaryBidders"===s){if(!Object(o.isArray)(e[s]))return Object(o.logWarn)("Auction Options "+s+" must be of type Array"),!1;if(!e[s].every(o.isStr))return Object(o.logWarn)("Auction Options "+s+" must be only string"),!1}else if("suppressStaleRender"===s&&!Object(o.isBoolean)(e[s]))return Object(o.logWarn)("Auction Options "+s+" must be of type boolean"),!1}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return!0})(e)&&(this._auctionOptions=e)}};function c(e){return Object(a.b)(Object.keys(g),(function(t){return e===g[t]}))}function d(e){if(!e)return Object(o.logError)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)c(e)||Object(o.logWarn)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(Object(o.isPlainObject)(e)&&!Object(i.b)(e))return Object(o.logError)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}t&&I(Object.keys(t).reduce((function(e,r){return t[r]!==s[r]&&(e[r]=s[r]||{}),e}),{})),t=s,r={}}function v(){if(p&&r&&Object(o.isPlainObject)(r[p])){var e=r[p],n=new Set(Object.keys(t).concat(Object.keys(e)));return Object(a.a)(n).reduce((function(r,n){return void 0===e[n]?r[n]=t[n]:void 0===t[n]?r[n]=e[n]:Object(o.isPlainObject)(e[n])?r[n]=Object(o.mergeDeep)({},t[n],e[n]):r[n]=e[n],r}),{})}return c({},t)}function y(e){var t={};return Object.keys(e).forEach((function(r){var n="context"===r?"site":r;t[n]="site"===n||"user"===n?Object.keys(e[r]).reduce((function(t,n){var i;return"data"===n?Object(o.mergeDeep)(t,{ext:{data:e[r][n]}}):Object(o.mergeDeep)(t,((i={})[n]=e[r][n],i)),t}),{}):e[r]})),t}function h(e){var t={};return Object.keys(e).filter((function(e){return"context"===e})).forEach((function(r){Object.keys(e[r]).forEach((function(n){var i;"data"===n?Object(o.mergeDeep)(t,{ext:{data:e[r][n]}}):"object"!==s(e[r][n])||Array.isArray(e[r][n])?Object(o.mergeDeep)(t,{ext:{data:(i={},i[n.toLowerCase()]=e[r][n],i)}}):Object.keys(e[r][n]).forEach((function(i){var a,s;Object(o.mergeDeep)(t,{ext:{data:(a={},a[n.toLowerCase()]=(s={},s[i.toLowerCase()]=e[r][n][i],s),a)}})}))}))})),t}function O(r){if(Object(o.isPlainObject)(r)){var n=Object.keys(r),i={};n.forEach((function(n){var a="fpd"===n?"ortb2":n,s="fpd"===n?y(r[n]):r[n];Object(o.isPlainObject)(e[a])&&Object(o.isPlainObject)(s)&&(s=c({},e[a],s)),i[a]=t[a]=s})),I(i)}else Object(o.logError)("setConfig options must be an object")}function j(e,t){var r=t;if("string"!=typeof e&&(r=e,e="*"),"function"==typeof r){var n={topic:e,callback:r};return d.push(n),function(){d.splice(d.indexOf(n),1)}}Object(o.logError)("listener must be a function")}function I(e){var t=Object.keys(e);d.filter((function(e){return Object(a.c)(t,e.topic)})).forEach((function(t){var r;t.callback(((r={})[t.topic]=e[t.topic],r))})),d.filter((function(e){return"*"===e.topic})).forEach((function(t){return t.callback(e)}))}function E(e,t){void 0===t&&(t=!1);try{!function(e){if(!Object(o.isPlainObject)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!Object(o.isPlainObject)(e.config))throw"setBidderConfig bidder options must contain a config object"}(e),e.bidders.forEach((function(n){r[n]||(r[n]={}),Object.keys(e.config).forEach((function(i){var a="fpd"===i?"ortb2":i,s="fpd"===i?y(e.config[i]):e.config[i];if(Object(o.isPlainObject)(s)){var c=t?o.mergeDeep:Object.assign;r[n][a]=c({},r[n][a]||{},s)}else r[n][a]=s}))}))}catch(e){Object(o.logError)(e)}}function A(e,t){p=e;try{return t()}finally{_()}}function _(){p=null}return m(),{getCurrentBidder:function(){return p},resetBidder:_,getConfig:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length<=1&&"function"!=typeof e[0]){var r=e[0];return r?Object(o.deepAccess)(v(),r):v()}return j.apply(void 0,Object(n.__spreadArray)([],Object(n.__read)(e)))},readConfig:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length<=1&&"function"!=typeof e[0]){var r=e[0],i=Object(o.deepClone)(v());return r?Object(o.deepAccess)(i,r):i}return j.apply(void 0,Object(n.__spreadArray)([],Object(n.__read)(e)))},setConfig:O,mergeConfig:function(e){if(Object(o.isPlainObject)(e)){var t=Object.keys(e).reduce((function(t,r){var n=v()[r]||{};return t[r]=Object(o.mergeDeep)(n,e[r]),t}),{});return O(Object(n.__assign)({},t)),t}Object(o.logError)("mergeConfig input must be an object")},setDefaults:function(r){Object(o.isPlainObject)(e)?(c(e,r),c(t,r)):Object(o.logError)("defaults must be an object")},resetConfig:m,runWithBidder:A,callbackWithBidder:function(e){return function(t){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if("function"==typeof t)return A(e,o.bind.call.apply(o.bind,Object(n.__spreadArray)([t,this],Object(n.__read)(r))));Object(o.logWarn)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:E,getBidderConfig:function(){return r},mergeBidderConfig:function(e){return E(e,!0)},convertAdUnitFpd:function(e){var t=[];return e.forEach((function(e){e.fpd?(e.ortb2Imp?Object(o.mergeDeep)(e.ortb2Imp,h(e.fpd)):e.ortb2Imp=h(e.fpd),t.push(function(e){e.fpd;return Object(n.__rest)(e,["fpd"])}(e))):t.push(e)})),t},getLegacyFpd:function(e){if("object"===s(e)){var t={};return Object.keys(e).forEach((function(r){var n="site"===r?"context":r;t[n]="context"===n||"user"===n?Object.keys(e[r]).filter((function(e){return"data"!==e})).reduce((function(t,n){var i;return"ext"===n?Object(o.mergeDeep)(t,e[r][n]):Object(o.mergeDeep)(t,((i={})[n]=e[r][n],i)),t}),{}):e[r]})),t}},getLegacyImpFpd:function(e){if("object"===s(e)){var t={};return Object(o.deepAccess)(e,"ext.data")&&Object.keys(e.ext.data).forEach((function(r){var n;"pbadslot"===r?Object(o.mergeDeep)(t,{context:{pbAdSlot:e.ext.data[r]}}):"adserver"===r?Object(o.mergeDeep)(t,{context:{adServer:e.ext.data[r]}}):Object(o.mergeDeep)(t,{context:{data:(n={},n[r]=e.ext.data[r],n)}})})),t}}}}()},205:function(e,t,r){"use strict";function n(e,t,r){return e&&e.includes(t,r)||!1}function i(){return Array.from.apply(Array,arguments)}function a(e,t,r){return e&&e.find(t,r)}r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}))},206:function(e){e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","NO_BID":"noBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"}}')},207:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));r(0);var n=r(241),i=r.n(n),a=i()({ready:i.a.SYNC|i.a.ASYNC|i.a.QUEUE}),o=a.get},208:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n="native",i="video",a="banner",o="adpod"},209:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(203),i=r(239),a=r(205);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e){o(this,{getAuction:function(t){var r=t.auctionId;if(null!=r)return e().find((function(e){return e.getAuctionId()===r}))},getAdUnit:function(t){var r=t.transactionId;if(null!=r)return e().flatMap((function(e){return e.getAdUnits()})).find((function(e){return e.transactionId===r}))},getMediaTypes:function(e){var t=e.transactionId,r=e.requestId;if(null!=r){var n=this.getBidRequest({requestId:r});if(null!=n&&(null==t||n.transactionId===t))return n.mediaTypes}else if(null!=t){var i=this.getAdUnit({transactionId:t});if(null!=i)return i.mediaTypes}},getBidderRequest:function(t){var r=t.requestId,n=t.bidderRequestId;if(null!=r||null!=n){var i=e().flatMap((function(e){return e.getBidRequests()}));return null!=n&&(i=i.filter((function(e){return e.bidderRequestId===n}))),null==r?i[0]:i.find((function(e){return e.bids&&null!=e.bids.find((function(e){return e.bidId===r}))}))}},getBidRequest:function(t){var r=t.requestId;if(null!=r)return e().flatMap((function(e){return e.getBidRequests()})).flatMap((function(e){return e.bids})).find((function(e){return e&&e.bidId===r}))}})}var c=r(206);var d,u,l=(d=[],(u={}).addWinningBid=function(e){var t=Object(a.b)(d,(function(t){return t.getAuctionId()===e.auctionId}));t?(e.status=c.BID_STATUS.RENDERED,t.addWinningBid(e)):Object(n.logWarn)("Auction not found when adding winning bid")},u.getAllWinningBids=function(){return d.map((function(e){return e.getWinningBids()})).reduce(n.flatten,[])},u.getBidsRequested=function(){return d.map((function(e){return e.getBidRequests()})).reduce(n.flatten,[])},u.getNoBids=function(){return d.map((function(e){return e.getNoBids()})).reduce(n.flatten,[])},u.getBidsReceived=function(){return d.map((function(e){if(e.getAuctionStatus()===i.a)return e.getBidsReceived()})).reduce(n.flatten,[]).filter((function(e){return e}))},u.getAllBidsForAdUnitCode=function(e){return d.map((function(e){return e.getBidsReceived()})).reduce(n.flatten,[]).filter((function(t){return t&&t.adUnitCode===e}))},u.getAdUnits=function(){return d.map((function(e){return e.getAdUnits()})).reduce(n.flatten,[])},u.getAdUnitCodes=function(){return d.map((function(e){return e.getAdUnitCodes()})).reduce(n.flatten,[]).filter(n.uniques)},u.createAuction=function(e){var t=e.adUnits,r=e.adUnitCodes,n=e.callback,a=e.cbTimeout,o=e.labels,s=e.auctionId,c=Object(i.e)({adUnits:t,adUnitCodes:r,callback:n,cbTimeout:a,labels:o,auctionId:s});return function(e){d.push(e)}(c),c},u.findBidByAdId=function(e){return Object(a.b)(d.map((function(e){return e.getBidsReceived()})).reduce(n.flatten,[]),(function(t){return t.adId===e}))},u.getStandardBidderAdServerTargeting=function(){return Object(i.d)()[c.JSON_MAPPING.ADSERVER_TARGETING]},u.setStatusForBids=function(e,t){var r=u.findBidByAdId(e);if(r&&(r.status=t),r&&t===c.BID_STATUS.BID_TARGETING_SET){var n=Object(a.b)(d,(function(e){return e.getAuctionId()===r.auctionId}));n&&n.setBidTargeting(r)}},u.getLastAuctionId=function(){return d.length&&d[d.length-1].getAuctionId()},u.clearAllAuctions=function(){d.length=0},u.index=new s((function(){return d})),u)},210:function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=r(203),a=r(206),o=Array.prototype.slice,s=Array.prototype.push,c=i._map(a.EVENTS,(function(e){return e})),d=a.EVENT_ID_PATHS,u=[];e.exports=function(){var e={},t={};function r(t,r){i.logMessage("Emitting event for: "+t);var n=r[0]||{},a=n[d[t]],o=e[t]||{que:[]},c=i._map(o,(function(e,t){return t})),l=[];u.push({eventType:t,args:n,id:a,elapsedTime:i.getPerformanceNow()}),a&&i.contains(c,a)&&s.apply(l,o[a].que),s.apply(l,o.que),i._each(l,(function(e){if(e)try{e.apply(null,r)}catch(e){i.logError("Error executing handler:","events.js",e)}}))}return t.on=function(t,r,n){if(function(e){return i.contains(c,e)}(t)){var a=e[t]||{que:[]};n?(a[n]=a[n]||{que:[]},a[n].que.push(r)):a.que.push(r),e[t]=a}else i.logError("Wrong event name : "+t+" Valid event names :"+c)},t.emit=function(e){var t=o.call(arguments,1);r(e,t)},t.off=function(t,r,n){var a=e[t];i.isEmpty(a)||i.isEmpty(a.que)&&i.isEmpty(a[n])||n&&(i.isEmpty(a[n])||i.isEmpty(a[n].que))||(n?i._each(a[n].que,(function(e){var t=a[n].que;e===r&&t.splice(t.indexOf(e),1)})):i._each(a.que,(function(e){var t=a.que;e===r&&t.splice(t.indexOf(e),1)})),e[t]=a)},t.get=function(){return e},t.getEvents=function(){var e=[];return i._each(u,(function(t){var r=n({},t);e.push(r)})),e},t}()},212:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return u}));var n=r(205),i=r(203),a={},o=["adloox","criteo","outstream","adagio","browsi","brandmetrics","justtag"];function s(e,t,r){if(t&&e){if(Object(n.c)(o,t))return a[e]?(r&&"function"==typeof r&&(a[e].loaded?r():a[e].callbacks.push(r)),a[e].tag):(a[e]={loaded:!1,tag:null,callbacks:[]},r&&"function"==typeof r&&a[e].callbacks.push(r),Object(i.logWarn)("module "+t+" is loading external JavaScript"),function(t,r){var n=document.createElement("script");n.type="text/javascript",n.async=!0,a[e].tag=n,n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,r())}:n.onload=function(){r()};return n.src=t,Object(i.insertElement)(n),n}(e,(function(){a[e].loaded=!0;try{for(var t=0;t<a[e].callbacks.length;t++)a[e].callbacks[t]()}catch(e){Object(i.logError)("Error executing callback","adloader.js:loadExternalScript",e)}})));Object(i.logError)(t+" not whitelisted for loading external JavaScript")}else Object(i.logError)("cannot load external script without url and moduleCode")}function c(e){var t=this,r=e.url,n=e.config,a=e.id,o=e.callback,c=e.loaded,d=e.adUnitCode;this.url=r,this.config=n,this.handlers={},this.id=a,this.loaded=c,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):Object(i.logError)("Commands given to Renderer.push must be wrapped in a function")},this.callback=o||function(){t.loaded=!0,t.process()},this.render=function(){var e=this,t=arguments,n=function(){e._render?e._render.apply(e,t):Object(i.logWarn)("No render function was provided, please use .setRender on the renderer")};l(d)?(Object(i.logWarn)("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit "+d),n()):(this.cmd.unshift(n),s(r,"outstream",this.callback))}.bind(this)}function d(e){return!(!e||!e.url)}function u(e,t){e.render(t)}function l(e){var t=pbjs.adUnits,r=Object(n.b)(t,(function(t){return t.code===e}));if(!r)return!1;var a=Object(i.deepAccess)(r,"renderer"),o=!!(a&&a.url&&a.render),s=Object(i.deepAccess)(r,"mediaTypes.video.renderer"),c=!!(s&&s.url&&s.render);return!!(o&&!0!==a.backupOnly||c&&!0!==s.backupOnly)}c.install=function(e){return new c({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},c.prototype.getConfig=function(){return this.config},c.prototype.setRender=function(e){this._render=e},c.prototype.setEventHandlers=function(e){this.handlers=e},c.prototype.handleVideoEvent=function(e){var t=e.id,r=e.eventName;"function"==typeof this.handlers[r]&&this.handlers[r](),Object(i.logMessage)("Prebid Renderer event for id "+t+" type "+r)},c.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){Object(i.logError)("Error processing Renderer command: ",e)}}},213:function(e,t,r){"use strict";r.d(t,"c",(function(){return _})),r.d(t,"b",(function(){return S})),r.d(t,"a",(function(){return w}));var n=r(0);function i(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}var a=r(214),o=r(204),s=r(223),c=r(222),d=r(215),u=r(217),l=r(206),p=r(210),f=r.n(p),b=r(205),g=r(219),m=r(203),v=r(208),y=r(207),h=r(216),O=r(209);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(){return(I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var E=Object(h.a)("bidderFactory"),A=["cpm","ttl","creativeId","netRevenue","currency"];function _(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function r(e){var r=S(e);a.default.registerBidAdapter(r,e.code,t)}r(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(t){var n,i,o=t;Object(m.isPlainObject)(t)&&(o=t.code,n=t.gvlid,i=t.skipPbsAliasing),a.default.aliasRegistry[o]=e.code,r(I({},e,{code:o,gvlid:n,skipPbsAliasing:i}))}))}function S(e){return I(new i(e.code),{getSpec:function(){return Object.freeze(e)},registerSyncs:t,callBids:function(i,c,p,g,v,y){if(Array.isArray(i.bids)){var h={},j=[],E=i.bids.filter(r);if(0!==E.length){var _={};E.forEach((function(e){_[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),C(e,E,i,g,y,{onRequest:function(e){return f.a.emit(l.EVENTS.BEFORE_BIDDER_HTTP,i,e)},onResponse:function(t){v(e.code),j.push(t)},onError:function(t,r){v(e.code),a.default.callBidderError(e.code,r,i),f.a.emit(l.EVENTS.BIDDER_ERROR,{error:r,bidderRequest:i}),Object(m.logError)("Server call for "+e.code+" failed: "+t+" "+r.status+". Continuing without bids.")},onBid:function(t){var r=_[t.requestId];if(r){t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||I({},t[r.bidder]);var n=I(Object(s.a)(l.STATUS.GOOD,r),t);S(r.adUnitCode,n)}else Object(m.logWarn)("Bidder "+e.code+" made bid for unknown request ID: "+t.requestId+". Ignoring.")},onCompletion:T})}else T()}function S(e,t){h[e]=!0,function(e,t,r){var i=(void 0===r?{}:r).index,a=void 0===i?O.a.index:i;function o(e){return"Invalid bid from "+t.bidderCode+". Ignoring bid: "+e}if(!e)return Object(m.logWarn)("No adUnitCode was supplied to addBidResponse."),!1;if(!t)return Object(m.logWarn)("Some adapter tried to add an undefined bid for "+e+"."),!1;if(s=Object.keys(t),!A.every((function(e){return Object(b.c)(s,e)&&!Object(b.c)([void 0,null],t[e])})))return Object(m.logError)(o("Bidder "+t.bidderCode+" is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params.")),!1;var s;if("native"===t.mediaType&&!Object(d.h)(t,{index:a}))return Object(m.logError)(o("Native bid missing some required properties.")),!1;if("video"===t.mediaType&&!Object(u.c)(t,{index:a}))return Object(m.logError)(o("Video bid does not have required vastUrl or renderer property")),!1;if("banner"===t.mediaType&&!function(e,t,r){var i=(void 0===r?{}:r).index,a=void 0===i?O.a.index:i;if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var o=a.getBidRequest(t),s=a.getMediaTypes(t),c=o&&o.sizes||s&&s.banner&&s.banner.sizes,d=Object(m.parseSizesInput)(c);if(1===d.length){var u=Object(n.__read)(d[0].split("x"),2),l=u[0],p=u[1];return t.width=parseInt(l,10),t.height=parseInt(p,10),!0}return!1}(0,t,{index:a}))return Object(m.logError)(o("Banner bids require a width and height")),!1;return!0}(e,t)&&c(e,t)}function T(){p(),o.b.runWithBidder(e.code,(function(){f.a.emit(l.EVENTS.BIDDER_DONE,i),t(j,i.gdprConsent,i.uspConsent)}))}}});function t(t,r,n){T(e,t,r,n)}function r(t){return!!e.isBidRequestValid(t)||(Object(m.logWarn)("Invalid bid sent to bidder "+e.code+": "+JSON.stringify(t)),!1)}}var C=Object(y.b)("sync",(function(e,t,r,n,i,a){var o=a.onRequest,s=a.onResponse,c=a.onError,d=a.onBid,u=a.onCompletion,l=e.buildRequests(t,r);if(l&&0!==l.length){Array.isArray(l)||(l=[l]);var p=Object(m.delayExecution)(u,l.length);l.forEach((function(t){var r=i((function(r,n){try{r=JSON.parse(r)}catch(e){}var i;r={body:r,headers:{get:n.getResponseHeader.bind(n)}},s(r);try{i=e.interpretResponse(r,t)}catch(t){return Object(m.logError)("Bidder "+e.code+" failed to interpret the server's response. Continuing without bids",null,t),void p()}i&&(Object(m.isArray)(i)?i.forEach(d):d(i)),p()})),a=i((function(e,t){c(e,t),p()}));switch(o(t),t.method){case"GET":n(""+t.url+function(e){if(e)return"?"+("object"===j(e)?Object(m.parseQueryStringParameters)(e):e);return""}(t.data),{success:r,error:a},void 0,I({method:"GET",withCredentials:!0},t.options));break;case"POST":n(t.url,{success:r,error:a},"string"==typeof t.data?t.data:JSON.stringify(t.data),I({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:Object(m.logWarn)("Skipping invalid request from "+e.code+". Request type "+t.type+" must be GET or POST"),p()}}))}else u()}),"processBidderRequests"),T=Object(y.b)("async",(function(e,t,r,n){var i=o.b.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(i||!a.default.aliasRegistry[e.code])){var s=o.b.getConfig("userSync.filterSettings"),d=e.getUserSyncs({iframeEnabled:!(!s||!s.iframe&&!s.all),pixelEnabled:!(!s||!s.image&&!s.all)},t,r,n);d&&(Array.isArray(d)||(d=[d]),d.forEach((function(t){c.a.registerSync(t.type,e.code,t.url)})))}}),"registerSyncs");function w(e,t){var r=a.default.getBidAdapter(e);if(r.getSpec().getMappingFileInfo){var n=r.getSpec().getMappingFileInfo(),i=n.localStorageKey?n.localStorageKey:r.getBidderCode(),o=E.getDataFromLocalStorage(i);if(o){try{o=JSON.parse(o)}catch(t){Object(m.logError)("Failed to parse "+e+" mapping data stored in local storage")}return o.mapping[t]?o.mapping[t]:null}}}Object(y.a)("checkAdUnitSetup").before((function(e,t){if(!o.b.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter((function(e){return Object(m.deepAccess)(e,"mediaTypes.video.context")===v.a})).map((function(e){return e.bids.map((function(e){return e.bidder}))})).reduce(m.flatten,[]).filter(m.uniques).forEach((function(e){var t=a.default.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var r=t.getSpec().getMappingFileInfo(),n=r.refreshInDays?r.refreshInDays:1,i=r.localStorageKey?r.localStorageKey:t.getSpec().code,o=E.getDataFromLocalStorage(i);try{(!(o=o?JSON.parse(o):void 0)||Object(m.timestamp)()>o.lastUpdated+24*n*60*60*1e3)&&Object(g.a)(r.url,{success:function(t){try{t=JSON.parse(t);var r={lastUpdated:Object(m.timestamp)(),mapping:t.mapping};E.setDataInLocalStorage(i,JSON.stringify(r))}catch(t){Object(m.logError)("Failed to parse "+e+" bidder translation mapping file")}},error:function(){Object(m.logError)("Failed to load "+e+" bidder translation file")}})}catch(t){Object(m.logError)("Failed to parse "+e+" bidder translation mapping file")}}})),e.call(this,t)}))},214:function(e,t,r){"use strict";r.r(t),r.d(t,"gdprDataHandler",(function(){return R})),r.d(t,"uspDataHandler",(function(){return D})),r.d(t,"coppaDataHandler",(function(){return P})),r.d(t,"clientTestAdapters",(function(){return U})),r.d(t,"allS2SBidders",(function(){return B})),r.d(t,"getAllS2SBidders",(function(){return N})),r.d(t,"setupAdUnitMediaTypes",(function(){return q})),r.d(t,"setS2STestingModule",(function(){return z}));var n=r(0),i=r(203),a=r(227),o=r(215),s=r(213),c=r(219),d=r(204),u=r(207),l=r(205),p=r(228);var f,b,g,m,v,y=function(e){function t(e){var t=d.b.getConfig("pageUrl");if(t)return t;try{var r=e.querySelector("link[rel='canonical']");if(null!==r)return r.href}catch(e){}return null}return function(){var r,n,a,o=[],s=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(e),c=d.b.getConfig("maxNestedIframes"),u=!1,l=0,p=!1,f=!1;do{var b=r,g=f,m=void 0,v=!1,y=null;f=!1,r=r?r.parent:e;try{m=r.location.href||null}catch(e){v=!0}if(v)if(g){var h=b.context;try{n=y=h.sourceUrl,p=!0,r===e.top&&(u=!0),h.canonicalUrl&&(a=h.canonicalUrl)}catch(e){}}else{Object(i.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{var O=b.document.referrer;O&&(y=O,r===e.top&&(u=!0))}catch(e){}!y&&s&&s[l-1]&&(y=s[l-1]),y&&!p&&(n=y)}else{if(m&&(n=y=m,p=!1,r===e.top)){u=!0;var j=t(r.document);j&&(a=j)}r.context&&r.context.sourceUrl&&(f=!0)}o.push(y),l++}while(r!==e.top&&l<c);return o.reverse(),{referer:n||null,reachedTop:u,isAmp:p,numIframes:l-1,stack:o,canonicalUrl:a||null}}}(window),h=function(){function e(){f.set(this,void 0),b.set(this,void 0),g.set(this,void 0),m.set(this,void 0),v.set(this,void 0),this.reset()}return e.prototype.reset=function(){var e=this;Object(n.__classPrivateFieldSet)(this,g,new Promise((function(t){Object(n.__classPrivateFieldSet)(e,m,(function(r){Object(n.__classPrivateFieldSet)(e,v,!0,"f"),Object(n.__classPrivateFieldSet)(e,b,r,"f"),t(r)}),"f")})),"f"),Object(n.__classPrivateFieldSet)(this,f,!1,"f"),Object(n.__classPrivateFieldSet)(this,b,null,"f"),Object(n.__classPrivateFieldSet)(this,v,!1,"f"),this.generatedTime=null},e.prototype.enable=function(){Object(n.__classPrivateFieldSet)(this,f,!0,"f")},Object.defineProperty(e.prototype,"enabled",{get:function(){return Object(n.__classPrivateFieldGet)(this,f,"f")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return Object(n.__classPrivateFieldGet)(this,v,"f")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return Object(n.__classPrivateFieldGet)(this,f,"f")||Object(n.__classPrivateFieldGet)(this,m,"f").call(this,null),Object(n.__classPrivateFieldGet)(this,g,"f")},enumerable:!1,configurable:!0}),e.prototype.setConsentData=function(e,t){void 0===t&&(t=Object(i.timestamp)()),this.generatedTime=t,Object(n.__classPrivateFieldGet)(this,m,"f").call(this,e)},e.prototype.getConsentData=function(){return Object(n.__classPrivateFieldGet)(this,b,"f")},e}();f=new WeakMap,b=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap;var O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.getConsentMeta=function(){var e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}},t}(h),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.getConsentMeta=function(){var e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:Object(i.isStr)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}},t}(h);function I(){return(I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var E,A=r(206),_=r(210),S={},C=S.bidderRegistry={},T=S.aliasRegistry={},w=[];d.b.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(w=Object(i.isArray)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var x={};var k=Object(u.b)("sync",(function(e){var t=e.bidderCode,r=e.auctionId,n=e.bidderRequestId,a=e.adUnits,o=e.src;return a.reduce((function(e,a){return e.push(a.bids.filter((function(e){return e.bidder===t})).reduce((function(e,t){var s=null==(t=I({},t,Object(i.getDefinedParams)(a,["nativeParams","ortb2Imp","mediaType","renderer","storedAuctionResponse"]))).mediaTypes?a.mediaTypes:t.mediaTypes;return Object(i.isValidMediaTypes)(s)?t=I({},t,{mediaTypes:s}):Object(i.logError)("mediaTypes is not correctly configured for adunit "+a.code),e.push(I({},t,{adUnitCode:a.code,transactionId:a.transactionId,sizes:Object(i.deepAccess)(s,"banner.sizes")||Object(i.deepAccess)(s,"video.playerSize")||[],bidId:t.bid_id||Object(i.getUniqueIdentifierStr)(),bidderRequestId:n,auctionId:r,src:o,bidRequestsCount:p.a.getRequestsCounter(a.code),bidderRequestsCount:p.a.getBidderRequestsCounter(a.code,t.bidder),bidderWinsCount:p.a.getBidderWinsCounter(a.code,t.bidder)})),e}),[])),e}),[]).reduce(i.flatten,[]).filter((function(e){return""!==e}))}),"getBids");var R=new j,D=new O,P={getCoppa:function(){return!!d.b.getConfig("coppa")}},U=[],B=[];function N(){S.s2STestingEnabled=!1,w.forEach((function(e){e&&e.enabled&&e.bidders&&e.bidders.length&&B.push.apply(B,Object(n.__spreadArray)([],Object(n.__read)(e.bidders)))}))}var q=Object(u.b)("sync",(function(e,t){return Object(a.a)(e,t)}),"setupAdUnitMediaTypes");function M(e){return e&&e.enabled&&e.testing&&E}function z(e){E=e}function F(e,t,r){try{var n=C[e].getSpec();n&&n[t]&&"function"==typeof n[t]&&(Object(i.logInfo)("Invoking "+e+"."+t),d.b.runWithBidder(e,i.bind.call(n[t],n,r)))}catch(r){Object(i.logWarn)("Error calling "+t+" of "+e)}}S.makeBidRequests=Object(u.b)("sync",(function(e,t,r,n,a){_.emit(A.EVENTS.BEFORE_REQUEST_BIDS,e),Object(o.b)(e),e=q(e,a);var s=Object(i.getBidderCodes)(e);d.b.getConfig("bidderSequence")===d.a&&(s=Object(i.shuffle)(s));var c=y(),u=s,p=[];0===B.length&&N(),w.forEach((function(t){t&&t.enabled&&(M(t)&&(E.calculateBidSources(t),E.getSourceBidderMap(e,B)[E.CLIENT].forEach((function(e){Object(l.c)(U,e)||U.push(e)}))))})),u=s.filter((function(e){return!Object(l.c)(B,e)||Object(l.c)(U,e)}));var f=B;w.forEach((function(n){if(n&&n.enabled){(function(e){return Boolean(M(e)&&e.testServerOnly)})(n)&&function(e,t){return Boolean(Object(l.b)(e,(function(e){return Object(l.b)(e.bids,(function(e){return(e.bidSource||t.bidderControl&&t.bidderControl[e.bidder])&&e.finalSource===E.SERVER}))})))}(e,n)&&(Object(i.logWarn)("testServerOnly: True.  All client requests will be suppressed."),u.length=0);var a=function(e,t){var r=t.bidders,n=Object(i.deepClone)(e);return n.forEach((function(e){e.bids=e.bids.filter((function(e){return Object(l.c)(r,e.bidder)&&(!M(t)||e.finalSource!==E.CLIENT)})).map((function(e){return e.bid_id=Object(i.getUniqueIdentifierStr)(),e}))})),n=n.filter((function(e){return 0!==e.bids.length}))}(e,n),o=Object(i.generateUUID)();f.forEach((function(e){var s=Object(i.getUniqueIdentifierStr)(),d={bidderCode:e,auctionId:r,bidderRequestId:s,uniquePbsTid:o,bids:k({bidderCode:e,auctionId:r,bidderRequestId:s,adUnits:Object(i.deepClone)(a),src:A.S2S.SRC}),auctionStart:t,timeout:n.timeout,src:A.S2S.SRC,refererInfo:c};0!==d.bids.length&&p.push(d)})),a.forEach((function(e){var t=e.bids.filter((function(e){return Object(l.b)(p,(function(t){return Object(l.b)(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),p.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=a.filter((function(e){return e.bids.length>0})))}))}}));var b=function(e){var t=Object(i.deepClone)(e);return t.forEach((function(e){e.bids=e.bids.filter((function(e){return!U.length||e.finalSource!==E.SERVER}))})),t=t.filter((function(e){return 0!==e.bids.length}))}(e);return u.forEach((function(e){var o=Object(i.getUniqueIdentifierStr)(),s={bidderCode:e,auctionId:r,bidderRequestId:o,bids:k({bidderCode:e,auctionId:r,bidderRequestId:o,adUnits:Object(i.deepClone)(b),labels:a,src:"client"}),auctionStart:t,timeout:n,refererInfo:c},d=C[e];d||Object(i.logError)("Trying to make a request for bidder that does not exist: "+e),d&&s.bids&&0!==s.bids.length&&p.push(s)})),R.getConsentData()&&p.forEach((function(e){e.gdprConsent=R.getConsentData()})),D.getConsentData()&&p.forEach((function(e){e.uspConsent=D.getConsentData()})),p}),"makeBidRequests"),S.callBids=function(e,t,r,a,o,s,u){if(t.length){var p=Object(n.__read)(t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===A.S2S.SRC)].push(t),e}),[[],[]]),2),f=p[0],b=p[1],g=[];b.forEach((function(e){for(var t=-1,r=0;r<g.length;++r)if(e.uniquePbsTid===g[r].uniquePbsTid){t=r;break}t<=-1&&g.push(e)}));var m=0,v=Object(i.generateUUID)();w.forEach((function(e){if(e&&g[m]&&Object(l.c)(e.bidders,g[m].bidderCode)){var t=Object(c.b)(s,o?{request:o.request.bind(null,"s2s"),done:o.done}:void 0),d=e.bidders,u=C[e.adapter],p=g[m].uniquePbsTid,f=g[m].adUnitsS2SCopy,y=b.filter((function(e){return e.uniquePbsTid===p}));if(u){var h={tid:v,ad_units:f,s2sConfig:e};if(h.ad_units.length){var O=y.map((function(e){return e.start=Object(i.timestamp)(),a.bind(e)})),j=h.ad_units.reduce((function(e,t){return e.concat((t.bids||[]).reduce((function(e,t){return e.concat(t.bidder)}),[]))}),[]);Object(i.logMessage)("CALLING S2S HEADER BIDDERS ==== "+d.filter((function(e){return Object(l.c)(j,e)})).join(",")),y.forEach((function(e){_.emit(A.EVENTS.BID_REQUESTED,Object(n.__assign)(Object(n.__assign)({},e),{tid:v}))})),u.callBids(h,b,r,(function(){return O.forEach((function(e){return e()}))}),t)}}else Object(i.logError)("missing "+e.adapter);m++}})),f.forEach((function(e){e.start=Object(i.timestamp)();var t=C[e.bidderCode];d.b.runWithBidder(e.bidderCode,(function(){Object(i.logMessage)("CALLING BIDDER"),_.emit(A.EVENTS.BID_REQUESTED,e)}));var n=Object(c.b)(s,o?{request:o.request.bind(null,e.bidderCode),done:o.done}:void 0),l=a.bind(e);try{d.b.runWithBidder(e.bidderCode,i.bind.call(t.callBids,t,e,r,l,n,u,d.b.callbackWithBidder(e.bidderCode)))}catch(t){Object(i.logError)(e.bidderCode+" Bid Adapter emitted an uncaught error when parsing their bidRequest",{e:t,bidRequest:e}),l()}}))}else Object(i.logWarn)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},S.videoAdapters=[],S.registerBidAdapter=function(e,t,r){var n=(void 0===r?{}:r).supportedMediaTypes,a=void 0===n?[]:n;e&&t?"function"==typeof e.callBids?(C[t]=e,Object(l.c)(a,"video")&&S.videoAdapters.push(t),Object(l.c)(a,"native")&&o.g.push(t)):Object(i.logError)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):Object(i.logError)("bidAdapter or bidderCode not specified")},S.aliasBidAdapter=function(e,t,r){if(void 0===C[t]){var n=C[e];if(void 0===n){var a=[];w.forEach((function(r){if(r.bidders&&r.bidders.length){var n=r&&r.bidders;r&&Object(l.c)(n,t)?T[t]=e:a.push(e)}})),a.forEach((function(e){Object(i.logError)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var c=void 0,d=function(e){var t=[];return Object(l.c)(S.videoAdapters,e)&&t.push("video"),Object(l.c)(o.g,e)&&t.push("native"),t}(e);if(n.constructor.prototype!=Object.prototype)(c=new n.constructor).setBidderCode(t);else{var u=n.getSpec(),p=r&&r.gvlid,f=r&&r.skipPbsAliasing;c=Object(s.b)(I({},u,{code:t,gvlid:p,skipPbsAliasing:f})),T[t]=e}S.registerBidAdapter(c,t,{supportedMediaTypes:d})}catch(t){Object(i.logError)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else Object(i.logMessage)('alias name "'+t+'" has been already specified.')},S.registerAnalyticsAdapter=function(e){var t=e.adapter,r=e.code,n=e.gvlid;t&&r?"function"==typeof t.enableAnalytics?(t.code=r,x[r]={adapter:t,gvlid:n}):Object(i.logError)('Prebid Error: Analytics adaptor error for analytics "'+r+'"\n        analytics adapter must implement an enableAnalytics() function'):Object(i.logError)("Prebid Error: analyticsAdapter or analyticsCode not specified")},S.enableAnalytics=function(e){Object(i.isArray)(e)||(e=[e]),Object(i._each)(e,(function(e){var t=x[e.provider].adapter;t?t.enableAnalytics(e):Object(i.logError)("Prebid Error: no analytics adapter found in registry for\n        "+e.provider+".")}))},S.getBidAdapter=function(e){return C[e]},S.getAnalyticsAdapter=function(e){return x[e]},S.callTimedOutBidders=function(e,t,r){t=t.map((function(t){return t.params=Object(i.getUserConfiguredParams)(e,t.adUnitCode,t.bidder),t.timeout=r,t})),t=Object(i.groupBy)(t,"bidder"),Object.keys(t).forEach((function(e){F(e,"onTimeout",t[e])}))},S.callBidWonBidder=function(e,t,r){t.params=Object(i.getUserConfiguredParams)(r,t.adUnitCode,t.bidder),p.a.incrementBidderWinsCounter(t.adUnitCode,t.bidder),F(e,"onBidWon",t)},S.callSetTargetingBidder=function(e,t){F(e,"onSetTargeting",t)},S.callBidViewableBidder=function(e,t){F(e,"onBidViewable",t)},S.callBidderError=function(e,t,r){F(e,"onBidderError",{error:t,bidderRequest:r})};t.default=S},215:function(e,t,r){"use strict";r.d(t,"g",(function(){return d})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return f})),r.d(t,"h",(function(){return b})),r.d(t,"c",(function(){return g})),r.d(t,"f",(function(){return m})),r.d(t,"e",(function(){return v})),r.d(t,"d",(function(){return y}));var n=r(0),i=r(203),a=r(205),o=r(209);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=r(206),d=[],u=Object.keys(c.NATIVE_KEYS).map((function(e){return c.NATIVE_KEYS[e]})),l={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};function p(e){return e&&e.type&&function(e){if(!e||!Object(a.c)(Object.keys(l),e))return Object(i.logError)(e+" nativeParam is not supported"),!1;return!0}(e.type)?l[e.type]:e}function f(e){e.forEach((function(e){var t=e.nativeParams||Object(i.deepAccess)(e,"mediaTypes.native");t&&(e.nativeParams=p(t))}))}function b(e,t){var r=(void 0===t?{}:t).index,n=void 0===r?o.a.index:r;if(!Object(i.deepAccess)(e,"native.clickUrl"))return!1;var s=n.getAdUnit(e).nativeParams;if(!s)return!0;var c=Object.keys(s).filter((function(e){return s[e].required})),d=Object.keys(e.native).filter((function(t){return e.native[t]}));return c.every((function(e){return Object(a.c)(d,e)}))}function g(e,t){var r;return"click"===e.action?r=t.native&&t.native.clickTrackers:(r=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&Object(i.insertHtmlIntoIframe)(t.native.javascriptTrackers)),(r||[]).forEach(i.triggerPixel),e.action}function m(e,t){var r=(void 0===t?{}:t).index,a=void 0===r?o.a.index:r,s={},d=a.getAdUnit(e);Object(i.deepAccess)(d,"nativeParams.rendererUrl")?e.native.rendererUrl=h(d.nativeParams.rendererUrl):Object(i.deepAccess)(d,"nativeParams.adTemplate")&&(e.native.adTemplate=h(d.nativeParams.adTemplate));var u=!1!==Object(i.deepAccess)(d,"nativeParams.sendTargetingKeys"),l=function(e){var t={};Object(i.deepAccess)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((function(e){t[e]="hb_native_"+e}));return Object(n.__assign)(Object(n.__assign)({},c.NATIVE_KEYS),t)}(d),p=Object(n.__assign)(Object(n.__assign)({},e.native),e.native.ext);return delete p.ext,Object.keys(p).forEach((function(t){var r=l[t],n=h(e.native[t])||h(Object(i.deepAccess)(e,"native.ext."+t));if("adTemplate"!==t&&r&&n){var a=Object(i.deepAccess)(d,"nativeParams."+t+".sendId");if("boolean"!=typeof a&&(a=Object(i.deepAccess)(d,"nativeParams.ext."+t+".sendId")),a)n=r+":"+e.adId;var o=Object(i.deepAccess)(d,"nativeParams."+t+".sendTargetingKeys");"boolean"!=typeof o&&(o=Object(i.deepAccess)(d,"nativeParams.ext."+t+".sendTargetingKeys")),("boolean"==typeof o?o:u)&&(s[r]=n)}})),s}function v(e,t){var r={message:"assetResponse",adId:e.adId,assets:[]};return t.native.hasOwnProperty("adTemplate")&&(r.adTemplate=h(t.native.adTemplate)),t.native.hasOwnProperty("rendererUrl")&&(r.rendererUrl=h(t.native.rendererUrl)),e.assets.forEach((function(e){var n=Object(i.getKeyByValue)(c.NATIVE_KEYS,e),a=h(t.native[n]);r.assets.push({key:n,value:a})})),r}function y(e,t){var r={message:"assetResponse",adId:e.adId,assets:[]};return Object.keys(t.native).forEach((function(e,n){if("adTemplate"===e&&t.native[e])r.adTemplate=h(t.native[e]);else if("rendererUrl"===e&&t.native[e])r.rendererUrl=h(t.native[e]);else if("ext"===e)Object.keys(t.native[e]).forEach((function(n){if(t.native[e][n]){var i=h(t.native[e][n]);r.assets.push({key:n,value:i})}}));else if(t.native[e]&&c.NATIVE_KEYS.hasOwnProperty(e)){var i=h(t.native[e]);r.assets.push({key:e,value:i})}})),r}function h(e){return"object"===s(e)&&e.url?e.url:e}},216:function(e,t,r){"use strict";r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return u})),r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return p}));var n=r(207),i=r(203),a=r(205),o=r(220),s=["core","prebid-module"],c=[];function d(e,t){var r=void 0===e?{}:e,n=r.gvlid,d=r.moduleName,l=r.bidderCode,p=r.moduleType,f=(void 0===t?{}:t).bidderSettings,b=void 0===f?o.a:f;function g(e){if(Object(a.c)(s,p))return e({valid:!0});if(function(){if(null==l)return!1;var e=b.get(l,"storageAllowed");return null!=e&&!e}())return Object(i.logInfo)("bidderSettings denied access to device storage for bidder '"+l+"'"),e({valid:!1});var t;return u(n,l||d,{hasEnforcementHook:!1},(function(r){if(r&&r.hasEnforcementHook)t=e(r);else{var n={hasEnforcementHook:!1,valid:Object(i.hasDeviceAccess)()};t=e(n)}})),t}var m=function(e){var t=function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){Object(i.logError)("Local storage api disabled")}return!1};if(!e||"function"!=typeof e)return g(t);c.push((function(){var r=g(t);e(r)}))};return{setCookie:function(e,t,r,n,i,a){var o=function(a){if(a&&a.valid){var o=i&&""!==i?" ;domain="+encodeURIComponent(i):"",s=r&&""!==r?" ;expires="+r:"",c=null!=n&&"none"==n.toLowerCase()?"; Secure":"";document.cookie=e+"="+encodeURIComponent(t)+s+"; path=/"+o+(n?"; SameSite="+n:"")+c}};if(!a||"function"!=typeof a)return g(o);c.push((function(){var e=g(o);a(e)}))},getCookie:function(e,t){var r=function(t){if(t&&t.valid){var r=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return r?decodeURIComponent(r[2]):null}return null};if(!t||"function"!=typeof t)return g(r);c.push((function(){var e=g(r);t(e)}))},localStorageIsEnabled:function(e){var t=function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1};if(!e||"function"!=typeof e)return g(t);c.push((function(){var r=g(t);e(r)}))},cookiesAreEnabled:function(e){var t=function(e){return!(!e||!e.valid)&&(!!Object(i.checkCookieSupport)()||(window.document.cookie="prebid.cookieTest",-1!==window.document.cookie.indexOf("prebid.cookieTest")))};if(!e||"function"!=typeof e)return g(t);c.push((function(){var r=g(t);e(r)}))},setDataInLocalStorage:function(e,t,r){var n=function(r){r&&r.valid&&m()&&window.localStorage.setItem(e,t)};if(!r||"function"!=typeof r)return g(n);c.push((function(){var e=g(n);r(e)}))},getDataFromLocalStorage:function(e,t){var r=function(t){return t&&t.valid&&m()?window.localStorage.getItem(e):null};if(!t||"function"!=typeof t)return g(r);c.push((function(){var e=g(r);t(e)}))},removeDataFromLocalStorage:function(e,t){var r=function(t){t&&t.valid&&m()&&window.localStorage.removeItem(e)};if(!t||"function"!=typeof t)return g(r);c.push((function(){var e=g(r);t(e)}))},hasLocalStorage:m,findSimilarCookies:function(e,t){var r=function(t){if(t&&t.valid){var r=[];if(Object(i.hasDeviceAccess)())for(var n=document.cookie.split(";");n.length;){var a=n.pop(),o=a.indexOf("=");o=o<0?a.length:o,decodeURIComponent(a.slice(0,o).replace(/^\s+/,"")).indexOf(e)>=0&&r.push(decodeURIComponent(a.slice(o+1)))}return r}};if(!t||"function"!=typeof t)return g(r);c.push((function(){var e=g(r);t(e)}))}}}var u=Object(n.b)("async",(function(e,t,r,n){n(r)}),"validateStorageEnforcement");function l(e){return d({moduleName:e,moduleType:"core"})}function p(e){var t=void 0===e?{}:e,r=t.gvlid,n=t.moduleName,a=t.bidderCode;if(arguments.length>1||arguments.length>0&&!Object(i.isPlainObject)(arguments[0]))throw new Error("Invalid invocation for getStorageManager");return d({gvlid:r,moduleName:n,bidderCode:a})}},217:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return d}));r(214);var n=r(203),i=r(204),a=(r(205),r(207)),o=r(209),s="outstream",c="instream";function d(e,t){var r=(void 0===t?{}:t).index,i=void 0===r?o.a.index:r,a=Object(n.deepAccess)(i.getMediaTypes(e),"video"),s=a&&Object(n.deepAccess)(a,"context"),c=i.getAdUnit(e);return u(e,c,a,s)}var u=Object(a.b)("sync",(function(e,t,r,a){return r&&a!==s?i.b.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(Object(n.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):a!==s||!!(e.renderer||t&&t.renderer||r.renderer)}),"checkVideoBidSetup")},218:function(e,t,r){"use strict";function n(){return window.pbjs}r.d(t,"a",(function(){return n})),window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pbjs")},219:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c}));var n=r(204),i=r(203);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=c();function c(e,t){void 0===e&&(e=3e3);var r=void 0===t?{}:t,s=r.request,c=r.done;return function(t,r,d,u){void 0===u&&(u={});try{var l,p=u.method||(d?"POST":"GET"),f=document.createElement("a");f.href=t;var b="object"===o(r)&&null!==r?r:{success:function(){Object(i.logMessage)("xhr success")},error:function(e){Object(i.logError)("xhr error",null,e)}};if("function"==typeof r&&(b.success=r),(l=new window.XMLHttpRequest).onreadystatechange=function(){if(4===l.readyState){"function"==typeof c&&c(f.origin);var e=l.status;e>=200&&e<300||304===e?b.success(l.responseText,l):b.error(l.statusText,l)}},n.b.getConfig("disableAjaxTimeout")||(l.ontimeout=function(){Object(i.logError)("  xhr timeout after ",l.timeout,"ms")}),"GET"===p&&d){var g=Object(i.parseUrl)(t,u);a(g.search,d),t=Object(i.buildUrl)(g)}l.open(p,t,!0),n.b.getConfig("disableAjaxTimeout")||(l.timeout=e),u.withCredentials&&(l.withCredentials=!0),Object(i._each)(u.customHeaders,(function(e,t){l.setRequestHeader(t,e)})),u.preflight&&l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Content-Type",u.contentType||"text/plain"),"function"==typeof s&&s(f.origin),"POST"===p&&d?l.send(d):l.send()}catch(e){Object(i.logError)("xhr construction",e),"object"===o(r)&&null!==r&&r.error(e)}}}},220:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n,i,a=r(0),o=r(203),s=r(218),c=r(206),d=function(){function e(e,t){n.add(this),this.getSettings=e,this.defaultScope=t}return e.prototype.get=function(e,t){var r=this.getOwn(e,t);return void 0===r&&(r=this.getOwn(null,t)),r},e.prototype.getOwn=function(e,t){return e=Object(a.__classPrivateFieldGet)(this,n,"m",i).call(this,e),Object(o.deepAccess)(this.getSettings(),e+"."+t)},e.prototype.getScopes=function(){var e=this;return Object.keys(this.getSettings()).filter((function(t){return t!==e.defaultScope}))},e.prototype.settingsFor=function(e){return Object(o.mergeDeep)({},this.ownSettingsFor(null),this.ownSettingsFor(e))},e.prototype.ownSettingsFor=function(e){return e=Object(a.__classPrivateFieldGet)(this,n,"m",i).call(this,e),this.getSettings()[e]||{}},e}();n=new WeakSet,i=function(e){return null==e?this.defaultScope:e};var u=new d((function(){return Object(s.a)().bidderSettings||{}}),c.JSON_MAPPING.BD_SETTING_STANDARD)},222:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(0),i=r(203),a=r(204),o=r(205),s=r(216);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}a.b.setDefaults({userSync:Object(i.deepClone)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var d=Object(s.a)("usersync");var u=!Object(i.isSafariBrowser)()&&d.cookiesAreEnabled(),l=function(e){var t={},r={image:[],iframe:[]},s=new Set,d={},u={image:!0,iframe:!1},l=e.config;function p(){if(l.syncEnabled&&e.browserSupportsCookies){try{!function(){if(!u.iframe)return;f(r.iframe,(function(e){var t=Object(n.__read)(e,2),a=t[0],o=t[1];Object(i.logMessage)("Invoking iframe user sync for bidder: "+a),Object(i.insertUserSyncIframe)(o),function(e,t){e.image=e.image.filter((function(e){return e[0]!==t}))}(r,a)}))}(),function(){if(!u.image)return;f(r.image,(function(e){var t=Object(n.__read)(e,2),r=t[0],a=t[1];Object(i.logMessage)("Invoking image pixel user sync for bidder: "+r),Object(i.triggerPixel)(a)}))}()}catch(e){return Object(i.logError)("Error firing user syncs",e)}r={image:[],iframe:[]}}}function f(e,t){Object(i.shuffle)(e).forEach((function(e){t(e),s.add(e[0])}))}function b(e,t){var r=l.filterSettings;if(function(e,t){if(e.all&&e[t])return Object(i.logWarn)('Detected presence of the "filterSettings.all" and "filterSettings.'+t+'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.'),!1;var r=e.all?e.all:e[t],n=e.all?"all":t;if(!r)return!1;var a=r.filter,o=r.bidders;if(a&&"include"!==a&&"exclude"!==a)return Object(i.logWarn)('UserSync "filterSettings.'+n+".filter\" setting '"+a+"' is not a valid option; use either 'include' or 'exclude'."),!1;if("*"!==o&&!(Array.isArray(o)&&o.length>0&&o.every((function(e){return Object(i.isStr)(e)&&"*"!==e}))))return Object(i.logWarn)('Detected an invalid setup in userSync "filterSettings.'+n+".bidders\"; use either '*' (to represent all bidders) or an array of bidders."),!1;return!0}(r,e)){u[e]=!0;var n=r.all?r.all:r[e],a="*"===n.bidders?[t]:n.bidders;return{include:function(e,t){return!Object(o.c)(e,t)},exclude:function(e,t){return Object(o.c)(e,t)}}[n.filter||"include"](a,t)}return!u[e]}return a.b.getConfig("userSync",(function(e){if(e.userSync){var t=e.userSync.filterSettings;Object(i.isPlainObject)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}l=c(l,e.userSync)})),t.registerSync=function(e,n,a){return s.has(n)?Object(i.logMessage)('already fired syncs for "'+n+'", ignoring registerSync call'):l.syncEnabled&&Object(i.isArray)(r[e])?n?0!==l.syncsPerBidder&&Number(d[n])>=l.syncsPerBidder?Object(i.logWarn)('Number of user syncs exceeded for "'+n+'"'):t.canBidderRegisterSync(e,n)?(r[e].push([n,a]),void(d=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(d,n))):Object(i.logWarn)('Bidder "'+n+'" not permitted to register their "'+e+'" userSync pixels.'):Object(i.logWarn)("Bidder is required for registering sync"):Object(i.logWarn)('User sync type "'+e+'" not supported')},t.syncUsers=function(e){if(void 0===e&&(e=0),e)return setTimeout(p,Number(e));p()},t.triggerUserSyncs=function(){l.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){return!l.filterSettings||!b(e,t)},t}({config:a.b.getConfig("userSync"),browserSupportsCookies:u})},223:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(203);function i(e,t){var r=void 0===t?{}:t,i=r.src,a=void 0===i?"client":i,o=r.bidder,s=void 0===o?"":o,c=r.bidId,d=r.transactionId,u=r.auctionId,l=a,p=e||0;this.bidderCode=s,this.width=0,this.height=0,this.statusMessage=function(){switch(p){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=Object(n.getUniqueIdentifierStr)(),this.requestId=c,this.transactionId=d,this.auctionId=u,this.mediaType="banner",this.source=l,this.getStatusCode=function(){return p},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function a(e,t){return new i(e,t)}},226:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return p}));var n=r(205),i=r(203),a={buckets:[{max:5,increment:.5}]},o={buckets:[{max:20,increment:.1}]},s={buckets:[{max:20,increment:.01}]},c={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},d={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function u(e,t,r){void 0===r&&(r=1);var n=parseFloat(e);return isNaN(n)&&(n=""),{low:""===n?"":l(e,a,r),med:""===n?"":l(e,o,r),high:""===n?"":l(e,s,r),auto:""===n?"":l(e,d,r),dense:""===n?"":l(e,c,r),custom:""===n?"":l(e,t,r)}}function l(e,t,r){var i="";if(!p(t))return i;var a=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),o=0,s=Object(n.b)(t.buckets,(function(t){if(e>a.max*r){var n=t.precision;void 0===n&&(n=2),i=(t.max*r).toFixed(n)}else{if(e<=t.max*r&&e>=o*r)return t.min=o,t;o=t.max}}));return s&&(i=function(e,t,r){var n=void 0!==t.precision?t.precision:2,i=t.increment*r,a=t.min*r,o=Math.pow(10,n+2),s=(e*o-a*o)/(i*o),c=Math.floor(s)*i+a;return(c=Number(c.toFixed(10))).toFixed(n)}(e,s,r)),i}function p(e){if(Object(i.isEmpty)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t}},227:function(e,t,r){"use strict";r.d(t,"b",(function(){return d})),r.d(t,"a",(function(){return p}));var n=r(204),i=r(203),a=r(205);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=[];function c(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function d(e,t){void 0===t&&(t=s);var r=l(t);return!r.shouldFilter||!!r.sizesSupported[e]}function u(e,t,r,n){var o=void 0===e?{}:e,c=o.labels,d=void 0===c?[]:c,u=o.labelAll,p=void 0!==u&&u,f=o.activeLabels,b=void 0===f?[]:f;void 0===n&&(n=s);var g=l(n);t=Object(i.isPlainObject)(t)?Object(i.deepClone)(t):r?{banner:{sizes:r}}:{};var m=Object(i.deepAccess)(t,"banner.sizes");g.shouldFilter&&m&&(t.banner.sizes=m.filter((function(e){return g.sizesSupported[e]})));var v=Object.keys(t),y={active:v.every((function(e){return"banner"!==e}))||v.some((function(e){return"banner"===e}))&&Object(i.deepAccess)(t,"banner.sizes.length")>0&&(0===d.length||!p&&(d.some((function(e){return g.labels[e]}))||d.some((function(e){return Object(a.c)(b,e)})))||p&&d.reduce((function(e,t){return e?g.labels[t]||Object(a.c)(b,t):e}),!0)),mediaTypes:t};return m&&m.length!==t.banner.sizes.length&&(y.filterResults={before:m,after:t.banner.sizes}),y}function l(e){return e.reduce((function(e,t){if("object"===o(t)&&"string"==typeof t.mediaQuery&&t.mediaQuery.length>0){var r=!1;try{r=Object(i.getWindowTop)().matchMedia(t.mediaQuery).matches}catch(e){Object(i.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),r=matchMedia(t.mediaQuery).matches}r&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach((function(r){return(t[r]||[]).forEach((function(t){return e[r][t]=!0}))})))}else Object(i.logWarn)('sizeConfig rule missing required property "mediaQuery"');return e}),{labels:{},sizesSupported:{},shouldFilter:!1})}function p(e,t){return e.reduce((function(e,r){var n=u(c(r,t),r.mediaTypes,r.sizes),a=n.active,o=n.mediaTypes,s=n.filterResults;return a?(s&&Object(i.logInfo)('Size mapping filtered adUnit "'+r.code+'" banner sizes from ',s.before,"to ",s.after),r.mediaTypes=o,r.bids=r.bids.reduce((function(e,n){var a=u(c(n,t),r.mediaTypes),o=a.active,s=a.mediaTypes,d=a.filterResults;return o?(d&&(Object(i.logInfo)('Size mapping filtered adUnit "'+r.code+'" bidder "'+n.bidder+'" banner sizes from ',d.before,"to ",d.after),n.mediaTypes=s),e.push(n)):Object(i.logInfo)('Size mapping deactivated adUnit "'+r.code+'" bidder "'+n.bidder+'"'),e}),[]),e.push(r)):Object(i.logInfo)('Size mapping disabled adUnit "'+r.code+'"'),e}),[])}n.b.getConfig("sizeConfig",(function(e){return function(e){s=e}(e.sizeConfig)}))},228:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(203),i={};function a(e,t,r){var n=function(e,t){var r=i[e]=i[e]||{bidders:{}};return t?r.bidders[t]=r.bidders[t]||{}:r}(e,r);return n[t]=(n[t]||0)+1,n[t]}var o={incrementRequestsCounter:function(e){return a(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return a(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return a(e,"winsCounter",t)},getRequestsCounter:function(e){return Object(n.deepAccess)(i,e+".requestsCounter")||0},getBidderRequestsCounter:function(e,t){return Object(n.deepAccess)(i,e+".bidders."+t+".requestsCounter")||0},getBidderWinsCounter:function(e,t){return Object(n.deepAccess)(i,e+".bidders."+t+".winsCounter")||0}}},238:function(e,t,r){"use strict";var n=r(0),i=r(218),a=r(203),o=r(210),s=r.n(o),c=r(215),d=r(206),u=r(209),l=r(205),p=r(212),f=r(204),b=d.EVENTS,g=b.AD_RENDER_FAILED,m=b.AD_RENDER_SUCCEEDED;function v(e){var t=e.reason,r=e.message,n=e.bid,i=e.id,o={reason:t,message:r};n&&(o.bid=n),i&&(o.adId=i),Object(a.logError)(r),s.a.emit(g,o)}function y(e){var t=e.doc,r=e.bid,n=e.id,i={doc:t};r&&(i.bid=r),n&&(i.adId=n),s.a.emit(m,i)}var h=d.EVENTS.BID_WON,O=d.EVENTS.STALE_RENDER,j={"Prebid Request":function(e,t,r){if(null==r)return void v({reason:d.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:"Cannot find ad '"+t.adId+"' for cross-origin render request",id:t.adId});if(r.status===d.BID_STATUS.RENDERED&&(Object(a.logWarn)("Ad id "+r.adId+" has been rendered before"),s.a.emit(O,r),Object(a.deepAccess)(f.b.getConfig("auctionOptions"),"suppressStaleRender")))return;try{!function(e,t){var r=e.adId,n=e.ad,i=e.adUrl,o=e.width,s=e.height,c=e.renderer,d=e.cpm;Object(p.c)(c)?Object(p.b)(c,e):r&&(E(e),t({message:"Prebid Response",ad:Object(a.replaceAuctionPrice)(n,d),adUrl:Object(a.replaceAuctionPrice)(i,d),adId:r,width:o,height:s}))}(r,e)}catch(e){return void v({reason:d.AD_RENDER_FAILED_REASON.EXCEPTION,message:e.message,id:t.adId,bid:r})}u.a.addWinningBid(r),s.a.emit(h,r)},"Prebid Native":function(e,t,r){if(null==r)return void Object(a.logError)("Cannot find ad '"+t.adId+"' for x-origin event request");switch(t.action){case"assetRequest":e(Object(c.e)(t,r));break;case"allAssetRequest":e(Object(c.d)(t,r));break;case"resizeNativeHeight":r.height=t.height,r.width=t.width,E(r);break;default:if("click"===Object(c.c)(t,r))return;u.a.addWinningBid(r),s.a.emit(h,r)}},"Prebid Event":function(e,t,r){if(null==r)return void Object(a.logError)("Cannot find ad '"+t.adId+"' for x-origin event request");if(r.status!==d.BID_STATUS.RENDERED)return void Object(a.logWarn)("Received x-origin event request without corresponding render request for ad '"+t.adId+"'");switch(t.event){case d.EVENTS.AD_RENDER_FAILED:v({bid:r,id:t.adId,reason:t.info.reason,message:t.info.message});break;case d.EVENTS.AD_RENDER_SUCCEEDED:y({doc:null,bid:r,id:t.adId});break;default:Object(a.logError)("Received x-origin event request for unsupported event: '"+t.event+"' (adId: '"+t.adId+"')")}}};function I(e){var t=e.message?"message":"data",r={};try{r=JSON.parse(e[t])}catch(e){return}if(r&&r.adId&&r.message){var n=Object(l.b)(u.a.getBidsReceived(),(function(e){return e.adId===r.adId}));j.hasOwnProperty(r.message)&&j[r.message](function(e){return null==e.origin&&0===e.ports.length?function(){var e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw Object(a.logError)(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),r,n)}}function E(e){var t=e.adId,r=e.adUnitCode,n=e.width,i=e.height;["div","iframe"].forEach((function(e){var o=function(e){var n=function(e,t){return Object(a.isGptPubadsDefined)()?function(e){var t=Object(l.b)(window.googletag.pubads().getSlots(),(function(t){return Object(l.b)(t.getTargetingKeys(),(function(r){return Object(l.c)(t.getTargeting(r),e)}))}));return t?t.getSlotElementId():null}(e):Object(a.isApnGetTagDefined)()?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,r),i=document.getElementById(n);return i&&i.querySelector(e)}(e+':not([style*="display: none"])');if(o){var s=o.style;s.width=n+"px",s.height=i+"px"}else Object(a.logWarn)("Unable to locate matching page element for adUnitCode "+r+".  Can't resize it to ad's dimensions.  Please review setup.")}))}var A=r(222),_=r(227),S=r(208),C=r(207),T=r(220);function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var x=r(206),k=[],R=Object.keys(x.TARGETING_KEYS).map((function(e){return x.TARGETING_KEYS[e]})),D=function(e){return e.responseTimestamp+1e3*e.ttl-1e3>Object(a.timestamp)()},P=function(e){return e&&(e.status&&!Object(l.c)([x.BID_STATUS.RENDERED],e.status)||!e.status)},U=Object(C.b)("sync",(function(e,t,r,i){if(void 0===r&&(r=0),void 0===i&&(i=!1),!i){var o=[],s=f.b.getConfig("sendBidsControl.dealPrioritization"),c=Object(a.groupBy)(e,"adUnitCode");return Object.keys(c).forEach((function(e){var i=[],d=Object(a.groupBy)(c[e],"bidderCode");Object.keys(d).forEach((function(e){return i.push(d[e].reduce(t))})),r>0?(i=s?i.sort(B(!0)):i.sort((function(e,t){return t.cpm-e.cpm})),o.push.apply(o,Object(n.__spreadArray)([],Object(n.__read)(i.slice(0,r))))):o.push.apply(o,Object(n.__spreadArray)([],Object(n.__read)(i)))})),o}return e}));function B(e){return void 0===e&&(e=!1),function(t,r){return void 0!==t.adserverTargeting.hb_deal&&void 0===r.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==r.adserverTargeting.hb_deal?1:e?r.cpm-t.cpm:r.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var N,q,M=function(e){var t={},r={};function i(e,t){return e.adserverTargeting&&t&&(Object(a.isArray)(t)&&Object(l.c)(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function o(t){return"string"==typeof t?[t]:Object(a.isArray)(t)?t:e.getAdUnitCodes()||[]}function s(){var t=e.getBidsReceived();if(f.b.getConfig("useBidCache")){var n=f.b.getConfig("bidCacheFilterFunction");"function"==typeof n&&(t=t.filter((function(e){return r[e.adUnitCode]===e.auctionId||!!n(e)})))}else t=t.filter((function(e){return r[e.adUnitCode]===e.auctionId}));return t=t.filter((function(e){return Object(a.deepAccess)(e,"video.context")!==S.a})).filter((function(e){return"banner"!==e.mediaType||Object(_.b)([e.width,e.height])})).filter(P).filter(D),U(t,a.getOldestHighestCpmBid)}function d(e,r){var i=t.getWinningBids(e,r),a=u();return i=i.map((function(e){var t;return(t={})[e.adUnitCode]=Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===a.indexOf(t)})).reduce((function(t,r){var i,a,o=[e.adserverTargeting[r]],s=((i={})[r.substring(0,20)]=o,i);if(r===x.TARGETING_KEYS.DEAL){var c=((a={})[(r+"_"+e.bidderCode).substring(0,20)]=o,a);return Object(n.__spreadArray)(Object(n.__spreadArray)([],Object(n.__read)(t)),[s,c])}return Object(n.__spreadArray)(Object(n.__spreadArray)([],Object(n.__read)(t)),[s])}),[]),t}))}function u(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(R).filter(a.uniques)}function p(e,t,r,n){return Object.keys(t.adserverTargeting).filter(b()).forEach((function(r){e.length&&e.filter(function(e){return function(r){return r.adUnitCode===t.adUnitCode&&r.adserverTargeting[e]}}(r)).forEach(function(e){return function(r){Object(a.isArray)(r.adserverTargeting[e])||(r.adserverTargeting[e]=[r.adserverTargeting[e]]),r.adserverTargeting[e]=r.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(a.uniques),delete t.adserverTargeting[e]}}(r))})),e.push(t),e}function b(){var e=u().concat(c.a);return function(t){return-1===e.indexOf(t)}}function g(e){var t;return(t={})[e.adUnitCode]=Object.keys(e.adserverTargeting).filter(b()).map((function(t){var r;return(r={})[t.substring(0,20)]=[e.adserverTargeting[t]],r})),t}function m(e,t){return t.map((function(t){var r;return(r={})[(t+"_"+e.bidderCode).substring(0,20)]=[e.adserverTargeting[t]],r}))}return t.setLatestAuctionForAdUnit=function(e,t){r[e]=t},t.resetPresetTargeting=function(t,r){if(Object(a.isGptPubadsDefined)()){var n=o(t),i=e.getAdUnits().filter((function(e){return Object(l.c)(n,e.code)})),s=k.reduce((function(e,t){return e[t]=null,e}),{});window.googletag.pubads().getSlots().forEach((function(e){var t=Object(a.isFn)(r)&&r(e);i.forEach((function(r){(r.code===e.getAdUnitPath()||r.code===e.getSlotElementId()||Object(a.isFn)(t)&&t(r.code))&&e.updateTargetingFromMap(s)}))}))}},t.resetPresetTargetingAST=function(e){o(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var r=Object.keys(t.keywords),n={};r.forEach((function(e){Object(l.c)(k,e.toLowerCase())||(n[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:n})}}))},t.getAllTargeting=function(t,r){void 0===r&&(r=s());var n=o(t),u=d(n,r).concat(function(e,t){return t.filter((function(t){return Object(l.c)(e,t.adUnitCode)})).map((function(e){return w({},e)})).reduce(p,[]).map(g).filter((function(e){return e}))}(n,r)).concat(f.b.getConfig("enableSendAllBids")?function(e,t){var r=R.concat(c.a),n=f.b.getConfig("sendBidsControl.bidLimit"),o=U(t,a.getHighestCpm,n),s=f.b.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),d=s?s.map((function(e){return x.TARGETING_KEYS[e]})):r;return o.map((function(t){var n;if(i(t,e))return(n={})[t.adUnitCode]=m(t,r.filter((function(e){return void 0!==t.adserverTargeting[e]&&-1!==d.indexOf(e)}))),n})).filter((function(e){return e}))}(n,r):function(e,t){if(!0===f.b.getConfig("targetingControls.alwaysIncludeDeals")){var r=R.concat(c.a);return U(t,a.getHighestCpm).map((function(t){var n;if(t.dealId&&i(t,e))return(n={})[t.adUnitCode]=m(t,r.filter((function(e){return void 0!==t.adserverTargeting[e]}))),n})).filter((function(e){return e}))}return[]}(n,r)).concat(function(t){function r(e){return Object(a.deepAccess)(e,x.JSON_MAPPING.ADSERVER_TARGETING)}return e.getAdUnits().filter((function(e){return Object(l.c)(t,e.code)&&r(e)})).map((function(e){var t;return(t={})[e.code]=function(e){var t=r(e);return Object.keys(t).map((function(e){var r;return Object(a.isStr)(t[e])&&(t[e]=t[e].split(",").map((function(e){return e.trim()}))),Object(a.isArray)(t[e])||(t[e]=[t[e]]),(r={})[e]=t[e],r}))}(e),t}))}(n));u.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===k.indexOf(Object.keys(e)[0])&&(k=Object.keys(e).concat(k))}))}))}));var b=Object.keys(w({},x.DEFAULT_TARGETING_KEYS,x.NATIVE_KEYS)),v=f.b.getConfig("targetingControls.allowTargetingKeys"),y=f.b.getConfig("targetingControls.addTargetingKeys");if(null!=y&&null!=v)throw new Error('Only one of "targetingControls.allowTargetingKeys" or "targetingControls.addTargetingKeys" can be set');v=null!=y?b.concat(y):v||b,Array.isArray(v)&&v.length>0&&(u=function(e,t){var r=w({},x.TARGETING_KEYS,x.NATIVE_KEYS),n=Object.keys(r),i={};Object(a.logInfo)("allowTargetingKeys - allowed keys [ "+t.map((function(e){return r[e]})).join(", ")+" ]"),e.map((function(e){var a=Object.keys(e)[0],o=e[a].filter((function(e){var a=Object.keys(e)[0],o=0===n.filter((function(e){return 0===a.indexOf(r[e])})).length||Object(l.b)(t,(function(e){var t=r[e];return 0===a.indexOf(t)}));return i[a]=!o,o}));e[a]=o}));var o=Object.keys(i).filter((function(e){return i[e]}));return Object(a.logInfo)("allowTargetingKeys - removed keys [ "+o.join(", ")+" ]"),e.filter((function(e){return e[Object.keys(e)[0]].length>0}))}(u,v)),u=function(e){return e.map((function(e){var t;return(t={})[Object.keys(e)[0]]=e[Object.keys(e)[0]].map((function(e){var t;return(t={})[Object.keys(e)[0]]=e[Object.keys(e)[0]].join(","),t})).reduce((function(e,t){return w(t,e)}),{}),t})).reduce((function(e,t){var r=Object.keys(t)[0];return e[r]=w({},e[r],t[r]),e}),{})}(u);var h=f.b.getConfig("targetingControls.auctionKeyMaxChars");return h&&(Object(a.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of "+h+" characters.  Running checks on auction keys..."),u=function(e,t){var r=Object(a.deepClone)(e);return Object.keys(r).map((function(e){return{adUnitCode:e,adserverTargeting:r[e]}})).sort(B()).reduce((function(e,n,i,o){var s,c=(s=n.adserverTargeting,Object.keys(s).reduce((function(e,t){return e+(t+"%3d")+encodeURIComponent(s[t])+"%26"}),""));i+1===o.length&&(c=c.slice(0,-3));var d=n.adUnitCode,u=c.length;return u<=t?(t-=u,Object(a.logInfo)("AdUnit '"+d+"' auction keys comprised of "+u+" characters.  Deducted from running threshold; new limit is "+t,r[d]),e[d]=r[d]):Object(a.logWarn)("The following keys for adUnitCode '"+d+"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was "+u+", the current allotted amount was "+t+".\n",r[d]),i+1===o.length&&0===Object.keys(e).length&&Object(a.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}(u,h)),n.forEach((function(e){u[e]||(u[e]={})})),u},f.b.getConfig("targetingControls",(function(e){null!=Object(a.deepAccess)(e,"targetingControls.allowTargetingKeys")&&null!=Object(a.deepAccess)(e,"targetingControls.addTargetingKeys")&&Object(a.logError)('Only one of "targetingControls.allowTargetingKeys" or "targetingControls.addTargetingKeys" can be set')})),t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((function(r){Object.keys(e).filter(t?t(r):Object(a.isAdUnitCodeMatchingSlot)(r)).forEach((function(t){Object.keys(e[t]).forEach((function(r){var n=e[t][r];"string"==typeof n&&-1!==n.indexOf(",")&&(n=n.split(",")),e[t][r]=n})),Object(a.logMessage)("Attempting to set targeting-map for slot: "+r.getSlotElementId()+" with targeting-map:",e[t]),r.updateTargetingFromMap(e[t])}))}))},t.getWinningBids=function(e,t){void 0===t&&(t=s());var r=o(e);return t.filter((function(e){return Object(l.c)(r,e.adUnitCode)})).filter((function(e){return!0===T.a.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0})).map((function(e){return e.adUnitCode})).filter(a.uniques).map((function(e){return t.filter((function(t){return t.adUnitCode===e?t:null})).reduce(a.getHighestCpm)}))},t.setTargetingForAst=function(e){var r=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){Object(a.logError)("unable to reset targeting for AST"+e)}Object.keys(r).forEach((function(e){return Object.keys(r[e]).forEach((function(t){if(Object(a.logMessage)("Attempting to set targeting for targetId: "+e+" key: "+t+" value: "+r[e][t]),Object(a.isStr)(r[e][t])||Object(a.isArray)(r[e][t])){var n={};t.search(/pt[0-9]/)<0?n[t.toUpperCase()]=r[e][t]:n[t]=r[e][t],window.apntag.setKeywords(e,n,{overrideKeyValue:!0})}}))}))},t.isApntagDefined=function(){if(window.apntag&&Object(a.isFn)(window.apntag.setKeywords))return!0},t}(u.a),z=r(239),F=Object(a.prefixLog)("DEBUG:"),W=F.logWarn,G=F.logMessage,L=[function(e){K(),function(e){N=Q.bind(e),z.b.before(N,5),q=$.bind(e),z.c.before(q,5)}(e)}],V=[K];function K(){z.b.getHooks({hook:N}).remove(),z.c.getHooks({hook:q}).remove()}function Y(e,t){void 0===t&&(t=!1),f.b.setConfig({debug:!0}),L.forEach((function(t){return t(e)})),G("bidder overrides enabled"+(t?" from session":""))}function H(e,t,r){return!(!e.bidder||e.bidder===t)||!(!e.adUnitCode||e.adUnitCode===r)}function J(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function X(e,t,r){return Object.keys(e).filter((function(e){return-1===["adUnitCode","bidder"].indexOf(e)})).reduce((function(t,n){return G("bidder overrides changed '"+t.adUnitCode+"/"+t.bidderCode+"' "+r+"."+n+" from '"+t[n]+".js' to '"+e[n]+"'"),t[n]=e[n],t.isDebug=!0,t}),t)}function Q(e,t,r){J(this.bidders,r.bidderCode)?W("bidder '"+r.bidderCode+"' excluded from auction by bidder overrides"):(Array.isArray(this.bids)&&this.bids.forEach((function(e){H(e,r.bidderCode,t)||X(e,r,"bidder")})),e(t,r))}function $(e,t){var r=this,n=t.filter((function(e){return!J(r.bidders,e.bidderCode)||(W("bidRequest '"+e.bidderCode+"' excluded from auction by bidder overrides"),!1)}));Array.isArray(r.bidRequests)&&n.forEach((function(e){r.bidRequests.forEach((function(t){e.bids.forEach((function(r){H(t,e.bidderCode,r.adUnitCode)||X(t,r,"bidRequest")}))}))})),e(n)}var Z=Object(C.b)("sync",(function(e,t){var r=(void 0===t?{}:t).sessionStorage,n=void 0===r?window.sessionStorage:r;if(e.enabled)try{n.setItem("pbjs:debugging",JSON.stringify(e))}catch(e){}else try{n.removeItem("pbjs:debugging")}catch(e){}}));function ee(e,t){var r=(void 0===t?{}:t).sessionStorage,n=void 0===r?window.sessionStorage:r;Z(e,{sessionStorage:n}),e.enabled?Y(e):(V.forEach((function(e){return e()})),G("bidder overrides disabled"))}f.b.getConfig("debugging",(function(e){return ee(e.debugging)}));var te=r(228),re=r(223),ne=r(216),ie=r(214);function ae(){return(ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var oe=Object(i.a)(),se=r(206),ce=r(214).default,de=r(210),ue=A.a.triggerUserSyncs,le=se.EVENTS,pe=le.ADD_AD_UNITS,fe=le.BID_WON,be=le.REQUEST_BIDS,ge=le.SET_TARGETING,me=le.STALE_RENDER,ve=se.AD_RENDER_FAILED_REASON,ye=ve.PREVENT_WRITING_ON_MAIN_DOCUMENT,he=ve.NO_AD,Oe=ve.EXCEPTION,je=ve.CANNOT_FIND_AD,Ie=ve.MISSING_DOC_OR_ADID,Ee={bidWon:function(e){var t=u.a.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(a.flatten).filter(a.uniques);if(!Object(a.contains)(t,e))return void Object(a.logError)('The "'+e+'" placement is not defined.');return!0}};function Ae(e,t,r){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=r)}function _e(e,t){var r=[];return Object(a.isArray)(e)&&(t?e.length===t:e.length>0)&&(e.every((function(e){return Object(a.isArrayOfNums)(e,2)}))?r=e:Object(a.isArrayOfNums)(e,2)&&r.push(e)),r}function Se(e){var t=Object(a.deepClone)(e),r=t.mediaTypes.banner,n=_e(r.sizes);return n.length>0?(r.sizes=n,t.sizes=n):(Object(a.logError)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function Ce(e){var t=Object(a.deepClone)(e),r=t.mediaTypes.video;if(r.playerSize){var n="number"==typeof r.playerSize[0]?2:1,i=_e(r.playerSize,n);i.length>0?(2===n&&Object(a.logInfo)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),r.playerSize=i,t.sizes=i):(Object(a.logError)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function Te(e){var t=Object(a.deepClone)(e),r=t.mediaTypes.native;return r.image&&r.image.sizes&&!Array.isArray(r.image.sizes)&&(Object(a.logError)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),r.image&&r.image.aspect_ratios&&!Array.isArray(r.image.aspect_ratios)&&(Object(a.logError)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),r.icon&&r.icon.sizes&&!Array.isArray(r.icon.sizes)&&(Object(a.logError)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function we(e,t){var r=Object(a.deepAccess)(e,"mediaTypes."+t+".pos");if(!Object(a.isNumber)(r)||isNaN(r)||!isFinite(r)){var n="Value of property 'pos' on ad unit "+e.code+" should be of type: Number";Object(a.logWarn)(n),de.emit(se.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:n}),delete e.mediaTypes[t].pos}return e}!function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem("pbjs:debugging"))}catch(e){}t&&Y(t,!0)}(),oe.bidderSettings=oe.bidderSettings||{},oe.libLoaded=!0,oe.version="v6.15.0",Object(a.logInfo)("Prebid.js v6.15.0 loaded"),oe.installedModules=oe.installedModules||[],oe.adUnits=oe.adUnits||[],oe.triggerUserSyncs=ue;var xe=Object(C.b)("sync",(function(e){var t=[];return e.forEach((function(e){var r,n,i,o=e.mediaTypes,s=e.bids;if(s&&Object(a.isArray)(s))if(o&&0!==Object.keys(o).length){o.banner&&(r=Se(e),o.banner.hasOwnProperty("pos")&&(r=we(r,"banner"))),o.video&&(n=Ce(r||e),o.video.hasOwnProperty("pos")&&(n=we(n,"video"))),o.native&&(i=Te(n||(r||e)));var c=ae({},r,n,i);t.push(c)}else Object(a.logError)("Detected adUnit.code '"+e.code+"' did not have a 'mediaTypes' object defined.  This is a required field for the auction, so this adUnit has been removed.");else Object(a.logError)("Detected adUnit.code '"+e.code+"' did not have 'adUnit.bids' defined or 'adUnit.bids' is not an array. Removing adUnit from auction.")})),t}),"checkAdUnitSetup");function ke(e){var t=u.a[e]().filter(a.bind.call(a.adUnitsFilter,this,u.a.getAdUnitCodes())),r=u.a.getLastAuctionId();return t.map((function(e){return e.adUnitCode})).filter(a.uniques).map((function(e){return t.filter((function(t){return t.auctionId===r&&t.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){var t;return(t={})[e[0].adUnitCode]={bids:e},t})).reduce((function(e,t){return ae(e,t)}),{})}function Re(e,t,r){var n=t.querySelector(r);e.parentNode&&e.parentNode===n||Object(a.insertElement)(e,t,r)}oe.getAdserverTargetingForAdUnitCodeStr=function(e){if(Object(a.logInfo)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=oe.getAdserverTargetingForAdUnitCode(e);return Object(a.transformAdServerTargetingObj)(t)}Object(a.logMessage)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},oe.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var t=u.a.getAllBidsForAdUnitCode(e).filter(P).filter(D);return t.length?t.reduce(a.getHighestCpm):{}}Object(a.logMessage)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},oe.getAdserverTargetingForAdUnitCode=function(e){return oe.getAdserverTargeting(e)[e]},oe.getAdserverTargeting=function(e){return Object(a.logInfo)("Invoking pbjs.getAdserverTargeting",arguments),M.getAllTargeting(e)},oe.getConsentMetadata=function(){return Object(a.logInfo)("Invoking pbjs.getConsentMetadata"),{gdpr:ie.gdprDataHandler.getConsentMeta(),usp:ie.uspDataHandler.getConsentMeta(),coppa:!!f.b.getConfig("coppa")}},oe.getNoBids=function(){return Object(a.logInfo)("Invoking pbjs.getNoBids",arguments),ke("getNoBids")},oe.getNoBidsForAdUnitCode=function(e){return{bids:u.a.getNoBids().filter((function(t){return t.adUnitCode===e}))}},oe.getBidResponses=function(){return Object(a.logInfo)("Invoking pbjs.getBidResponses",arguments),ke("getBidsReceived")},oe.getBidResponsesForAdUnitCode=function(e){return{bids:u.a.getBidsReceived().filter((function(t){return t.adUnitCode===e}))}},oe.setTargetingForGPTAsync=function(e,t){if(Object(a.logInfo)("Invoking pbjs.setTargetingForGPTAsync",arguments),Object(a.isGptPubadsDefined)()){var r=M.getAllTargeting(e);M.resetPresetTargeting(e,t),M.setTargetingForGPT(r,t),Object.keys(r).forEach((function(e){Object.keys(r[e]).forEach((function(t){"hb_adid"===t&&u.a.setStatusForBids(r[e][t],se.BID_STATUS.BID_TARGETING_SET)}))})),de.emit(ge,r)}else Object(a.logError)("window.googletag is not defined on the page")},oe.setTargetingForAst=function(e){Object(a.logInfo)("Invoking pbjs.setTargetingForAn",arguments),M.isApntagDefined()?(M.setTargetingForAst(e),de.emit(ge,M.getAllTargeting())):Object(a.logError)("window.apntag is not defined on the page")},oe.renderAd=Object(C.b)("async",(function(e,t,r){if(Object(a.logInfo)("Invoking pbjs.renderAd",arguments),Object(a.logMessage)("Calling renderAd with adId :"+t),e&&t)try{var n=u.a.findBidByAdId(t);if(n){var i=!0;if(n&&n.status===se.BID_STATUS.RENDERED&&(Object(a.logWarn)("Ad id "+n.adId+" has been rendered before"),de.emit(me,n),Object(a.deepAccess)(f.b.getConfig("auctionOptions"),"suppressStaleRender")&&(i=!1)),i){if(n.ad=Object(a.replaceAuctionPrice)(n.ad,n.cpm),n.adUrl=Object(a.replaceAuctionPrice)(n.adUrl,n.cpm),r&&r.clickThrough){var o=r.clickThrough;n.ad=Object(a.replaceClickThrough)(n.ad,o),n.adUrl=Object(a.replaceClickThrough)(n.adUrl,o)}u.a.addWinningBid(n),de.emit(fe,n);var s=n.height,c=n.width,d=n.ad,l=n.mediaType,b=n.adUrl,g=n.renderer,m=document.createComment("Creative "+n.creativeId+" served by "+n.bidder+" Prebid.js Header Bidding");if(Object(a.insertElement)(m,e,"html"),Object(p.c)(g))Object(p.b)(g,n),Re(m,e,"html"),y({doc:e,bid:n,id:t});else if(e===document&&!Object(a.inIframe)()||"video"===l){v({reason:ye,message:I="Error trying to write ad. Ad render call ad id "+t+" was prevented from writing to the main document.",bid:n,id:t})}else if(d){if(navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox/")>-1){var h=/firefox\/([\d\.]+)/,O=navigator.userAgent.toLowerCase().match(h)[1];O&&parseInt(O,10)<67&&e.open("text/html","replace")}e.write(d),e.close(),Ae(e,c,s),Re(m,e,"html"),Object(a.callBurl)(n),y({doc:e,bid:n,id:t})}else if(b){var j=Object(a.createInvisibleIframe)();j.height=s,j.width=c,j.style.display="inline",j.style.overflow="hidden",j.src=b,Object(a.insertElement)(j,e,"body"),Ae(e,c,s),Re(m,e,"html"),Object(a.callBurl)(n),y({doc:e,bid:n,id:t})}else{v({reason:he,message:I="Error trying to write ad. No ad for bid response id: "+t,bid:n,id:t})}}}else{v({reason:je,message:I="Error trying to write ad. Cannot find ad by given id : "+t,id:t})}}catch(e){var I="Error trying to write ad Id :"+t+" to the page:"+e.message;v({reason:Oe,message:I,id:t})}else v({reason:Ie,message:I="Error trying to write ad Id :"+t+" to the page. Missing document or adId",id:t})})),oe.removeAdUnit=function(e){(Object(a.logInfo)("Invoking pbjs.removeAdUnit",arguments),e)?(Object(a.isArray)(e)?e:[e]).forEach((function(e){for(var t=oe.adUnits.length-1;t>=0;t--)oe.adUnits[t].code===e&&oe.adUnits.splice(t,1)})):oe.adUnits=[]},oe.requestBids=Object(C.b)("async",(function(e){var t=void 0===e?{}:e,r=t.bidsBackHandler,i=t.timeout,o=t.adUnits,s=t.adUnitCodes,c=t.labels,d=t.auctionId;de.emit(be);var p=i||f.b.getConfig("bidderTimeout");o=o&&f.b.convertAdUnitFpd(Object(a.isArray)(o)?o:[o])||oe.adUnits,Object(a.logInfo)("Invoking pbjs.requestBids",arguments);var b=[],g=[];if(f.b.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(b=Array.isArray(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])})),b.forEach((function(e){g.push.apply(g,Object(n.__spreadArray)([],Object(n.__read)(e.bidders)))})),o=xe(o),s&&s.length?o=o.filter((function(e){return Object(l.c)(s,e.code)})):s=o&&o.map((function(e){return e.code})),o.forEach((function(e){var t=Object.keys(e.mediaTypes||{banner:"banner"}),r=e.bids.map((function(e){return e.bidder})),n=ce.bidderRegistry,i=g?r.filter((function(e){return!Object(l.c)(g,e)})):r;e.transactionId=Object(a.generateUUID)(),i.forEach((function(r){var i=n[r],o=i&&i.getSpec&&i.getSpec(),s=o&&o.supportedMediaTypes||["banner"];t.some((function(e){return Object(l.c)(s,e)}))?te.a.incrementBidderRequestsCounter(e.code,r):(Object(a.logWarn)(Object(a.unsupportedBidderMessage)(e,r)),e.bids=e.bids.filter((function(e){return e.bidder!==r})))})),te.a.incrementRequestsCounter(e.code)})),o&&0!==o.length){var m=u.a.createAuction({adUnits:o,adUnitCodes:s,callback:r,cbTimeout:p,labels:c,auctionId:d}),v=o.length;v>15&&Object(a.logInfo)("Current auction "+m.getAuctionId()+" contains "+v+" adUnits.",o),s.forEach((function(e){return M.setLatestAuctionForAdUnit(e,m.getAuctionId())})),m.callBids()}else if(Object(a.logMessage)("No adUnits configured. No bids requested."),"function"==typeof r)try{r()}catch(e){Object(a.logError)("Error executing bidsBackHandler",null,e)}})),oe.requestBids.before((function(e,t){function r(e){for(var t;t=e.shift();)t()}r(ne.c),r(De),e.call(this,t)}),49),oe.addAdUnits=function(e){Object(a.logInfo)("Invoking pbjs.addAdUnits",arguments),oe.adUnits.push.apply(oe.adUnits,f.b.convertAdUnitFpd(Object(a.isArray)(e)?e:[e])),de.emit(pe)},oe.onEvent=function(e,t,r){Object(a.logInfo)("Invoking pbjs.onEvent",arguments),Object(a.isFn)(t)?!r||Ee[e].call(null,r)?de.on(e,t,r):Object(a.logError)('The id provided is not valid for event "'+e+'" and no handler was set.'):Object(a.logError)('The event handler provided is not a function and was not set on event "'+e+'".')},oe.offEvent=function(e,t,r){Object(a.logInfo)("Invoking pbjs.offEvent",arguments),r&&!Ee[e].call(null,r)||de.off(e,t,r)},oe.getEvents=function(){return Object(a.logInfo)("Invoking pbjs.getEvents"),de.getEvents()},oe.registerBidAdapter=function(e,t){Object(a.logInfo)("Invoking pbjs.registerBidAdapter",arguments);try{ce.registerBidAdapter(e(),t)}catch(e){Object(a.logError)("Error registering bidder adapter : "+e.message)}},oe.registerAnalyticsAdapter=function(e){Object(a.logInfo)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{ce.registerAnalyticsAdapter(e)}catch(e){Object(a.logError)("Error registering analytics adapter : "+e.message)}},oe.createBid=function(e){return Object(a.logInfo)("Invoking pbjs.createBid",arguments),Object(re.a)(e)};var De=[],Pe=Object(C.b)("async",(function(e){e&&!Object(a.isEmpty)(e)?(Object(a.logInfo)("Invoking pbjs.enableAnalytics for: ",e),ce.enableAnalytics(e)):Object(a.logError)("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");function Ue(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){Object(a.logError)("Error processing command :","prebid.js",e)}}))}oe.enableAnalytics=function(e){De.push(Pe.bind(this,e))},oe.aliasBidder=function(e,t,r){Object(a.logInfo)("Invoking pbjs.aliasBidder",arguments),e&&t?ce.aliasBidAdapter(e,t,r):Object(a.logError)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},oe.getAllWinningBids=function(){return u.a.getAllWinningBids()},oe.getAllPrebidWinningBids=function(){return u.a.getBidsReceived().filter((function(e){return e.status===se.BID_STATUS.BID_TARGETING_SET}))},oe.getHighestCpmBids=function(e){return M.getWinningBids(e)},oe.markWinningBidAsUsed=function(e){var t=[];e.adUnitCode&&e.adId?t=u.a.getBidsReceived().filter((function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode})):e.adUnitCode?t=M.getWinningBids(e.adUnitCode):e.adId?t=u.a.getBidsReceived().filter((function(t){return t.adId===e.adId})):Object(a.logWarn)("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),t.length>0&&(t[0].status=se.BID_STATUS.RENDERED)},oe.getConfig=f.b.getConfig,oe.readConfig=f.b.readConfig,oe.mergeConfig=f.b.mergeConfig,oe.mergeBidderConfig=f.b.mergeBidderConfig,oe.setConfig=f.b.setConfig,oe.setBidderConfig=f.b.setBidderConfig,oe.que.push((function(){window.addEventListener("message",I,!1)})),oe.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){Object(a.logError)("Error processing command :",e.message,e.stack)}else Object(a.logError)("Commands written into pbjs.cmd.push must be wrapped in a function")},oe.que.push=oe.cmd.push,oe.processQueue=function(){C.b.ready(),Ue(oe.que),Ue(oe.cmd)};t.a=oe},239:function(e,t,r){"use strict";r.d(t,"a",(function(){return A})),r.d(t,"e",(function(){return T})),r.d(t,"b",(function(){return w})),r.d(t,"c",(function(){return x})),r.d(t,"d",(function(){return q}));var n=r(203),i=r(226),a=r(215),o=r(219),s=r(204),c=r(209);function d(e,t){var r,n,i=(void 0===t?{}:t).index,a=void 0===i?c.a.index:i,o=e.vastXml?e.vastXml:(r=e.vastUrl,n=e.vastImpUrl,'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['+r+"]]></VASTAdTagURI>\n        <Impression>"+(n?"<![CDATA["+n+"]]>":"")+"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>"),d=a.getAuction(e),u={type:"xml",value:o,ttlseconds:Number(e.ttl)};return s.b.getConfig("cache.vasttrack")&&(u.bidder=e.bidder,u.bidid=e.requestId,u.aid=e.auctionId),null!=d&&(u.timestamp=d.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(u.key=e.customCacheKey),u}function u(e,t){var r={puts:e.map(d)};Object(o.a)(s.b.getConfig("cache.url"),function(e){return{success:function(t){var r;try{r=JSON.parse(t).responses}catch(t){return void e(t,[])}r?e(null,r):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,r){e(new Error("Error storing video ad in the cache: "+t+": "+JSON.stringify(r)),[])}}}(t),JSON.stringify(r),{contentType:"text/plain",withCredentials:!0})}var l=r(212),p=r(222),f=r(207),b=r(205),g=r(217),m=r(208),v=r(220);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var O=p.a.syncUsers,j=r(214).default,I=r(210),E=r(206),A="completed";I.on(E.EVENTS.BID_ADJUSTMENT,(function(e){!function(e){var t=e.bidderCode,r=e.cpm,i=v.a.get(t||null,"bidCpmAdjustment");if(i&&"function"==typeof i)try{r=i(e.cpm,h({},e))}catch(e){Object(n.logError)("Error during bid adjustment","bidmanager.js",e)}r>=0&&(e.cpm=r)}(e)}));var _={},S={},C=[];function T(e){var t,r,a,o,d=e.adUnits,u=e.adUnitCodes,p=e.callback,f=e.cbTimeout,m=e.labels,v=e.auctionId,T=d,R=m,B=u,N=[],q=[],M=[],F=v||Object(n.generateUUID)(),W=p,G=f,L=[],V=new Set;function K(){return{auctionId:F,timestamp:t,auctionEnd:r,auctionStatus:a,adUnits:T,adUnitCodes:B,labels:R,bidderRequests:N,noBids:M,bidsReceived:q,winningBids:L,timeout:G}}function Y(e,t){if(t&&clearTimeout(o),void 0===r){var i=[];e&&(Object(n.logMessage)("Auction "+F+" timedOut"),c=V,(i=N.map((function(e){return(e.bids||[]).filter((function(e){return!c.has(e.bidder)}))})).reduce(n.flatten,[]).map((function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}}))).length&&I.emit(E.EVENTS.BID_TIMEOUT,i)),a=A,r=Date.now(),I.emit(E.EVENTS.AUCTION_END,K()),k(T,(function(){try{if(null!=W){var t=B,r=q.filter(n.bind.call(n.adUnitsFilter,this,t)).reduce(z,{});W.apply(pbjs,[r,e,F]),W=null}}catch(e){Object(n.logError)("Error executing bidsBackHandler",null,e)}finally{i.length&&j.callTimedOutBidders(d,i,G);var a=s.b.getConfig("userSync")||{};a.enableOverride||O(a.syncDelay)}}))}var c}function H(){s.b.resetBidder(),Object(n.logInfo)("Bids Received for Auction with id: "+F,q),a=A,Y(!1,!0)}function J(e){V.add(e)}function X(e){var t=this;e.forEach((function(e){var t;t=e,N=N.concat(t)}));var r={},d={bidRequests:e,run:function(){var d,f;d=Y.bind(null,!0),f=setTimeout(d,G),o=f,a="inProgress",I.emit(E.EVENTS.AUCTION_INIT,K());var m=function(e,t,r){var a=(void 0===r?{}:r).index,o=void 0===a?c.a.index:a,d=0,u=!1,p=new Set,f={},m={};function v(){d--,u&&0===d&&e()}function O(e,r){f[r.requestId]=!0,d++;var a=function(e,t){var r=e.adUnitCode,a=e.bid,o=e.auctionId,d=(void 0===t?{}:t).index,u=void 0===d?c.a.index:d,p=u.getBidderRequest(a),f=p&&p.start||a.requestTimestamp,b=h({},a,{auctionId:o,responseTimestamp:Object(n.timestamp)(),requestTimestamp:f,cpm:parseFloat(a.cpm)||0,bidder:a.bidderCode,adUnitCode:r});b.timeToRespond=b.responseTimestamp-b.requestTimestamp,I.emit(E.EVENTS.BID_ADJUSTMENT,b);var g=u.getAdUnit(b).renderer,m=b.mediaType,v=u.getMediaTypes(b),O=v&&v[m],j=O&&O.renderer,A=null;j&&j.url&&j.render&&(!0!==j.backupOnly||!a.renderer)?A=j:g&&g.url&&g.render&&(!0!==g.backupOnly||!a.renderer)&&(A=g);A&&(b.renderer=l.a.install({url:A.url}),b.renderer.setRender(A.render));var _=U(a.mediaType,v,s.b.getConfig("mediaTypePriceGranularity")),S=Object(i.a)(b.cpm,"object"===y(_)?_:s.b.getConfig("customPriceBucket"),s.b.getConfig("currency.granularityMultiplier"));return b.pbLg=S.low,b.pbMg=S.med,b.pbHg=S.high,b.pbAg=S.auto,b.pbDg=S.dense,b.pbCg=S.custom,b}({adUnitCode:e,bid:r,auctionId:t.getAuctionId()});"video"===a.mediaType?function(e,t,r,i){var a=(void 0===i?{}:i).index,o=void 0===a?c.a.index:a,d=!0,u=Object(n.deepAccess)(o.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),l=u&&Object(n.deepAccess)(u,"context");s.b.getConfig("cache.url")&&l!==g.b&&(!t.videoCacheKey||s.b.getConfig("cache.ignoreBidderCacheKey")?(d=!1,P(e,t,r,u)):t.vastUrl||(Object(n.logError)("videoCacheKey specified but not required vastUrl for video bid"),d=!1));d&&(D(e,t),r())}(t,a,v):(D(t,a),v())}function j(){var r=t.getBidRequests(),i=s.b.getConfig("auctionOptions");if(p.add(this),i&&!Object(n.isEmpty)(i)){var a=i.secondaryBidders;a&&!r.every((function(e){return Object(b.c)(a,e.bidderCode)}))&&(r=r.filter((function(e){return!Object(b.c)(a,e.bidderCode)})))}u=r.every((function(e){return p.has(e)})),this.bids.forEach((function(e){f[e.bidId]||(t.addNoBid(e),I.emit(E.EVENTS.NO_BID,e))})),u&&0===d&&e()}return{addBidResponse:function(e,t){var r,n,i=o.getBidderRequest(t);r=i&&i.bidderRequestId||"",n=w.call({dispatch:O},e,t),null==m[r]&&(m[r]=Promise.resolve()),m[r]=m[r].then((function(){return Promise.resolve(n).catch((function(){}))}))},adapterDone:function(){!function(e,r){var n=e.timeout;(null==n||n>t.getTimeout())&&(n=t.getTimeout());var i=t.getAuctionStart()+n-Date.now(),a=m[e.bidderRequestId],o=m[""];(null!=a||null!=o)&&i>0?Promise.race([new Promise((function(e){return setTimeout(e,i)})),Promise.resolve(o).then((function(){return a}))]).then(r):r()}(this,j.bind(this))}}}(H,t);j.callBids(T,e,m.addBidResponse,m.adapterDone,{request:function(e,t){p(_,t),p(r,e),S[e]||(S[e]={SRA:!0,origin:t}),r[e]>1&&(S[e].SRA=!1)},done:function(e){_[e]--,C[0]&&u(C[0])&&C.shift()}},G,J)}};function u(e){var t=!0,r=s.b.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((function(e){var n=1,i=void 0!==e.src&&e.src===E.S2S.SRC?"s2s":e.bidderCode;return S[i]&&(!1===S[i].SRA&&(n=Math.min(e.bids.length,r)),_[S[i].origin]+n>r&&(t=!1)),!t})),t&&e.run(),t}function p(e,t){void 0===e[t]?e[t]=1:e[t]++}u(d)||(Object(n.logWarn)("queueing auction due to limited endpoint capacity"),C.push(d))}return{addBidReceived:function(e){q=q.concat(e)},addNoBid:function(e){M=M.concat(e)},executeCallback:Y,callBids:function(){a="started",t=Date.now();var e=j.makeBidRequests(T,t,F,G,R);Object(n.logInfo)("Bids Requested for Auction with id: "+F,e),e.length<1?(Object(n.logWarn)("No valid bid requests returned for auction"),H()):x.call({dispatch:X,context:this},e)},addWinningBid:function(e){L=L.concat(e),j.callBidWonBidder(e.bidder,e,d)},setBidTargeting:function(e){j.callSetTargetingBidder(e.bidder,e)},getWinningBids:function(){return L},getAuctionStart:function(){return t},getTimeout:function(){return G},getAuctionId:function(){return F},getAuctionStatus:function(){return a},getAdUnits:function(){return T},getAdUnitCodes:function(){return B},getBidRequests:function(){return N},getBidsReceived:function(){return q},getNoBids:function(){return M}}}var w=Object(f.b)("sync",(function(e,t){this.dispatch.call(null,e,t)}),"addBidResponse"),x=Object(f.b)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),k=Object(f.b)("async",(function(e,t){t&&t()}),"bidsBackCallback");function R(e,t){t.timeToRespond>e.getTimeout()+s.b.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function D(e,t){!function(e){var t,r=!0===v.a.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(r||e.dealId)&&(t=function(e,t,r){var n=(void 0===r?{}:r).index,i=void 0===n?c.a.index:n;if(!t)return{};var o=i.getBidRequest(t),s={},d=q(t.mediaType,e);M(s,d,t,o),e&&v.a.getOwn(e,E.JSON_MAPPING.ADSERVER_TARGETING)&&(M(s,v.a.ownSettingsFor(e),t,o),t.sendStandardTargeting=v.a.get(e,"sendStandardTargeting"));t.native&&(s=h({},s,Object(a.f)(t)));return s}(e.bidderCode,e));e.adserverTargeting=h(e.adserverTargeting||{},t)}(t),I.emit(E.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),R(e,t)}var P=Object(f.b)("async",(function(e,t,r,i){u([t],(function(i,a){var o;i?(Object(n.logWarn)("Failed to save to the video cache: "+i+". Video bid must be discarded."),R(e,t)):""===a[0].uuid?(Object(n.logWarn)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),R(e,t)):(t.videoCacheKey=a[0].uuid,t.vastUrl||(t.vastUrl=(o=t.videoCacheKey,s.b.getConfig("cache.url")+"?uuid="+o)),D(e,t),r())}))}),"callPrebidCache");function U(e,t,r){if(e&&r){if(e===m.d){var i=Object(n.deepAccess)(t,m.d+".context","instream");if(r[m.d+"-"+i])return r[m.d+"-"+i]}return r[e]}}var B=function(e){return function(t){var r=e||function(e,t){var r=(void 0===t?{}:t).index,n=void 0===r?c.a.index:r,i=U(e.mediaType,n.getMediaTypes(e),s.b.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&i?"string"==typeof i?i:"custom":s.b.getConfig("priceGranularity")}(t);return r===E.GRANULARITY_OPTIONS.AUTO?t.pbAg:r===E.GRANULARITY_OPTIONS.DENSE?t.pbDg:r===E.GRANULARITY_OPTIONS.LOW?t.pbLg:r===E.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:r===E.GRANULARITY_OPTIONS.HIGH?t.pbHg:r===E.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0}};function N(e,t){return{key:e,val:"function"==typeof t?function(e,r){return t(e,r)}:function(e){return Object(n.getValue)(e,t)}}}function q(e,t){var r=E.TARGETING_KEYS,i=h({},v.a.settingsFor(null));if(i[E.JSON_MAPPING.ADSERVER_TARGETING]||(i[E.JSON_MAPPING.ADSERVER_TARGETING]=function(){var e=E.TARGETING_KEYS;return[N(e.BIDDER,"bidderCode"),N(e.AD_ID,"adId"),N(e.PRICE_BUCKET,B()),N(e.SIZE,"size"),N(e.DEAL,"dealId"),N(e.SOURCE,"source"),N(e.FORMAT,"mediaType"),N(e.ADOMAIN,(function(e){return e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?e.meta.advertiserDomains[0]:""}))]}()),"video"===e){var a=i[E.JSON_MAPPING.ADSERVER_TARGETING].slice();if(i[E.JSON_MAPPING.ADSERVER_TARGETING]=a,[r.UUID,r.CACHE_ID].forEach((function(e){void 0===Object(b.b)(a,(function(t){return t.key===e}))&&a.push(N(e,"videoCacheKey"))})),s.b.getConfig("cache.url")&&(!t||!1!==v.a.get(t,"sendStandardTargeting"))){var o=Object(n.parseUrl)(s.b.getConfig("cache.url"));void 0===Object(b.b)(a,(function(e){return e.key===r.CACHE_HOST}))&&a.push(N(r.CACHE_HOST,(function(e){return Object(n.deepAccess)(e,"adserverTargeting."+r.CACHE_HOST)?e.adserverTargeting[r.CACHE_HOST]:o.hostname})))}}return i}function M(e,t,r,i){var a=t[E.JSON_MAPPING.ADSERVER_TARGETING];return r.size=r.getSize(),Object(n._each)(a,(function(a){var o=a.key,s=a.val;if(e[o]&&Object(n.logWarn)("The key: "+o+" is being overwritten"),Object(n.isFn)(s))try{s=s(r,i)}catch(e){Object(n.logError)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&o!==E.TARGETING_KEYS.DEAL||!Object(n.isEmptyStr)(s)&&null!=s?e[o]=s:Object(n.logInfo)("suppressing empty key '"+o+"' from adserver targeting")})),e}function z(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}},240:function(e,t,r){"use strict";e.exports=function e(t){var r=Array.isArray(t)?[]:{};for(var n in t){var i=t[n];r[n]=i&&"object"==typeof i?e(i):i}return r}},241:function(e,t,r){"use strict";
/*
* @license MIT
* Fun Hooks v0.9.10
* (c) @snapwich
*/c.SYNC=1,c.ASYNC=2,c.QUEUE=4;var n=Object.freeze({useProxy:!0,ready:0}),i=new WeakMap,a="2,1,0"===[1].reduce((function(e,t,r){return[e,t,r]}),2).toString()?Array.prototype.reduce:function(e,t){var r,n=Object(this),i=n.length>>>0,a=0;if(t)r=t;else{for(;a<i&&!(a in n);)a++;r=n[a++]}for(;a<i;)a in n&&(r=e(r,n[a],a,n)),a++;return r};function o(e,t){return Array.prototype.slice.call(e,t)}var s=Object.assign||function(e){return a.call(o(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(r){e[r]=t[r]})),e}),e)};function c(e){var t,r={},d=[];function u(e,t){return"function"==typeof e?b.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?b.apply(null,arguments):"object"==typeof e?l.apply(null,arguments):void 0}function l(e,t,r){var n=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),n=!1);var i={},a=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==a.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var n=t.split(":"),a=n[0],o=n[1]||"sync";if(!i[a]){var s=e[a];i[a]=e[a]=b(o,s,r?[r,a]:void 0)}})),e=Object.getPrototypeOf(e)}while(n&&e);return i}function p(e){var n=Array.isArray(e)?e:e.split(".");return a.call(n,(function(r,i,a){var o=r[i],s=!1;return o||(a===n.length-1?(t||d.push((function(){s||console.warn("fun-hooks: referenced '"+e+"' but it was never created")})),r[i]=f((function(e){r[i]=e,s=!0}))):r[i]={})}),r)}function f(e){var t=[],r=[],n=function(){},a={before:function(e,r){return c.call(this,t,"before",e,r)},after:function(e,t){return c.call(this,r,"after",e,t)},getHooks:function(e){var n=t.concat(r);"object"==typeof e&&(n=n.filter((function(t){return Object.keys(e).every((function(r){return t[r]===e[r]}))})));try{s(n,{remove:function(){return n.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return n},removeAll:function(){return this.getHooks().remove()}},o={install:function(i,a,o){this.type=i,n=o,o(t,r),e&&e(a)}};return i.set(a.after,o),a;function c(e,i,a,o){var s={hook:a,type:i,priority:o||10,remove:function(){var i=e.indexOf(s);-1!==i&&(e.splice(i,1),n(t,r))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),n(t,r),this}}function b(r,n,a){var u=n.after&&i.get(n.after);if(u){if(u.type!==r)throw"fun-hooks: recreated hookable with different type";return n}var l,b,g=a?p(a):f(),m={get:function(e,t){return g[t]||Reflect.get.apply(Reflect,arguments)}};return t||d.push(v),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?b=new Proxy(n,m):s(b=function(){return m.apply?m.apply(n,this,o(arguments)):n.apply(this,arguments)},g),i.get(b.after).install(r,b,(function(e,t){var n,i=[];e.length||t.length?(e.forEach(a),n=i.push(void 0)-1,t.forEach(a),l=function(e,t,a){var s,c=0,d="async"===r&&"function"==typeof a[a.length-1]&&a.pop();function u(e){"sync"===r?s=e:d&&d.apply(null,arguments)}function l(e){if(i[c]){var n=o(arguments);return l.bail=u,n.unshift(l),i[c++].apply(t,n)}"sync"===r?s=e:d&&d.apply(null,arguments)}return i[n]=function(){var n=o(arguments,1);"async"===r&&d&&(delete l.bail,n.push(l));var i=e.apply(t,n);"sync"===r&&l(i)},l.apply(null,a),s}):l=void 0;function a(e){i.push(e.hook)}v()})),b;function v(){!t&&("sync"!==r||e.ready&c.SYNC)&&("async"!==r||e.ready&c.ASYNC)?"sync"!==r&&e.ready&c.QUEUE?m.apply=function(){var e=arguments;d.push((function(){b.apply(e[1],e[2])}))}:m.apply=function(){throw"fun-hooks: hooked function not ready"}:m.apply=l}}return(e=s({},n,e)).ready?u.ready=function(){t=!0,function(e){for(var t;t=e.shift();)t()}(d)}:t=!0,u.get=p,u}e.exports=c},242:function(e,t,r){"use strict";var n=r(0),i=r(203),a=r(212),o=r(204),s=r(213),c=r(208),d=r(209),u=r(205),l=r(217),p=r(216),f=r(220);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var m=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],v=["minduration","maxduration","skip","skipafter","playbackmethod","api"],y=["age","externalUid","segments","gender","dnt","language"],h=["geo","device_id"],O=["enabled","dongle","member_id","debug_timeout"],j={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},I={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},E=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,A=Object(p.b)({gvlid:32,bidderCode:"appnexus"}),_={code:"appnexus",gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[c.b,c.d,c.c],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var r=e.map(x),a=Object(u.b)(e,R),s={};!0===o.b.getConfig("coppa")&&(s={coppa:!0}),a&&Object.keys(a.params.user).filter((function(e){return Object(u.c)(y,e)})).forEach((function(e){var t=Object(i.convertCamelToUnderscore)(e);if("segments"===e&&Object(i.isArray)(a.params.user[e])){var r=[];a.params.user[e].forEach((function(e){Object(i.isNumber)(e)?r.push({id:e}):Object(i.isPlainObject)(e)&&r.push(e)})),s[t]=r}else"segments"!==e&&(s[t]=a.params.user[e])}));var c,d=Object(u.b)(e,P);d&&d.params&&d.params.app&&(c={},Object.keys(d.params.app).filter((function(e){return Object(u.c)(h,e)})).forEach((function(e){return c[e]=d.params.app[e]})));var l,p=Object(u.b)(e,U);p&&p.params&&d.params.app&&d.params.app.id&&(l={appid:p.params.app.id});var f={},b={},g=A.getCookie("apn_prebid_debug")||null;if(g)try{f=JSON.parse(g)}catch(e){Object(i.logError)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var m=Object(u.b)(e,B);m&&m.debug&&(f=m.debug)}f&&f.enabled&&Object.keys(f).filter((function(e){return Object(u.c)(O,e)})).forEach((function(e){b[e]=f[e]}));var v=Object(u.b)(e,D),j=v?parseInt(v.params.member,10):0,I=e[0].schain,E=Object(u.b)(e,q),_={tags:Object(n.__spreadArray)([],Object(n.__read)(r)),user:s,sdk:{source:"pbjs",version:"6.15.0"},schain:I};E&&(_.iab_support={omidpn:"Appnexus",omidpv:"6.15.0"}),j>0&&(_.member_id=j),d&&(_.device=c),p&&(_.app=l);var S=o.b.getConfig("appnexusAuctionKeywords");if(Object(i.isPlainObject)(S)){var T=Object(i.transformBidderParamKeywords)(S);T.length>0&&T.forEach(C),_.keywords=T}if(o.b.getConfig("adpod.brandCategoryExclusion")&&(_.brand_category_uniqueness=!0),b.enabled&&(_.debug=b,Object(i.logInfo)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(b,null,4))),t&&t.gdprConsent&&(_.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){var k=t.gdprConsent.addtlConsent,z=k.substring(k.indexOf("~")+1);_.gdpr_consent.addtl_consent=z.split(".").map((function(e){return parseInt(e,10)}))}if(t&&t.uspConsent&&(_.us_privacy=t.uspConsent),t&&t.refererInfo){var F={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")};_.referrer_detection=F}if(Object(u.b)(e,N)&&e.filter(N).forEach((function(e){var t=function(e,t){var r=t.mediaTypes.video,a=r.durationRangeSec,o=r.requireExactDuration,s=function(e){var t=e.adPodDurationSec,r=e.durationRangeSec,n=e.requireExactDuration,a=Object(i.getMinValueFromArray)(r),o=Math.floor(t/a);return n?Math.max(o,r.length):o}(t.mediaTypes.video),c=Object(i.getMaxValueFromArray)(a),d=e.filter((function(e){return e.uuid===t.bidId})),u=i.fill.apply(void 0,Object(n.__spreadArray)(Object(n.__spreadArray)([],Object(n.__read)(d)),[s]));if(o){var l=Math.ceil(s/a.length),p=Object(i.chunk)(u,l);a.forEach((function(e,t){p[t].map((function(t){M(t,"minduration",e),M(t,"maxduration",e)}))}))}else u.map((function(e){return M(e,"maxduration",c)}));return u}(r,e),a=_.tags.filter((function(t){return t.uuid!==e.bidId}));_.tags=Object(n.__spreadArray)(Object(n.__spreadArray)([],Object(n.__read)(a)),Object(n.__read)(t))})),e[0].userId){var G=[];W(G,Object(i.deepAccess)(e[0],"userId.flocId.id"),"chrome.com",null),W(G,Object(i.deepAccess)(e[0],"userId.criteoId"),"criteo.com",null),W(G,Object(i.deepAccess)(e[0],"userId.netId"),"netid.de",null),W(G,Object(i.deepAccess)(e[0],"userId.idl_env"),"liveramp.com",null),W(G,Object(i.deepAccess)(e[0],"userId.tdid"),"adserver.org","TDID"),W(G,Object(i.deepAccess)(e[0],"userId.uid2.id"),"uidapi.com","UID2"),e[0].userId.pubProvidedId&&e[0].userId.pubProvidedId.forEach((function(e){e.uids.forEach((function(t){G.push({source:e.source,id:t.id})}))})),G.length&&(_.eids=G)}return r[0].publisher_id&&(_.publisher_id=r[0].publisher_id),function(e,t){var r=[],n={withCredentials:!0},a="https://ib.adnxs.com/ut/v3/prebid";w(t)||(a="https://ib.adnxs-simple.com/ut/v3/prebid");"TRUE"!==Object(i.getParameterByName)("apn_test").toUpperCase()&&!0!==o.b.getConfig("apn_test")||(n.customHeaders={"X-Is-Test":1});if(e.tags.length>15){var s=Object(i.deepClone)(e);Object(i.chunk)(e.tags,15).forEach((function(e){s.tags=e;var i=JSON.stringify(s);r.push({method:"POST",url:a,data:i,bidderRequest:t,options:n})}))}else{var c=JSON.stringify(e);r={method:"POST",url:a,data:c,bidderRequest:t,options:n}}return r}(_,t)},interpretResponse:function(e,t){var r=this,n=t.bidderRequest;e=e.body;var o=[];if(!e||e.error){var d="in response for "+n.bidderCode+" adapter";return e&&e.error&&(d+=": "+e.error),Object(i.logError)(d),o}if(e.tags&&e.tags.forEach((function(e){var t,d=(t=e)&&t.ads&&t.ads.length&&Object(u.b)(t.ads,(function(e){return e.rtb}));if(d&&((!0===f.a.get(n.bidderCode,"allowZeroCpmBids")?d.cpm>=0:d.cpm>0)&&Object(u.c)(r.supportedMediaTypes,d.ad_type))){var p=function(e,t,r){var n=Object(i.getBidRequest)(e.uuid,[r]),o={requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:n.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};t.adomain&&(o.meta=g({},o.meta,{advertiserDomains:[]}));t.advertiser_id&&(o.meta=g({},o.meta,{advertiserId:t.advertiser_id}));t.buyer_member_id&&(o.meta=g({},o.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(t)}));t.brand_id&&(o.meta=g({},o.meta,{brandId:t.brand_id}));if(t.rtb.video){switch(g(o,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),Object(i.deepAccess)(n,"mediaTypes.video.context")){case c.a:var d=Object(s.a)(n.bidder,t.brand_category_id);o.meta=g({},o.meta,{primaryCatId:d});var p=t.deal_priority;o.video={context:c.a,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:p},o.vastUrl=t.rtb.video.asset_url;break;case l.b:if(o.adResponse=e,o.adResponse.ad=o.adResponse.ads[0],o.adResponse.ad.video=o.adResponse.ad.rtb.video,o.vastXml=t.rtb.video.content,t.renderer_url){var f=Object(u.b)(r.bids,(function(t){return t.bidId===e.uuid})),b=Object(i.deepAccess)(f,"renderer.options");o.renderer=function(e,t,r){void 0===r&&(r={});var n=a.a.install({id:t.renderer_id,url:t.renderer_url,config:r,loaded:!1,adUnitCode:e});try{n.setRender(z)}catch(e){Object(i.logWarn)("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:function(){return Object(i.logMessage)("AppNexus outstream video impression event")},loaded:function(){return Object(i.logMessage)("AppNexus outstream video loaded event")},ended:function(){Object(i.logMessage)("AppNexus outstream renderer video event"),document.querySelector("#"+e).style.display="none"}}),n}(o.adUnitCode,t,b)}break;case l.a:o.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}}else if(t.rtb[c.c]){var m=t.rtb[c.c],v=t.viewability.config.replace("src=","data-src="),y=m.javascript_trackers;null==y?y=v:Object(i.isStr)(y)?y=[y,v]:y.push(v),o[c.c]={title:m.title,body:m.desc,body2:m.desc2,cta:m.ctatext,rating:m.rating,sponsoredBy:m.sponsored,privacyLink:m.privacy_link,address:m.address,downloads:m.downloads,likes:m.likes,phone:m.phone,price:m.price,salePrice:m.saleprice,clickUrl:m.link.url,displayUrl:m.displayurl,clickTrackers:m.link.click_trackers,impressionTrackers:m.impression_trackers,javascriptTrackers:y},m.main_img&&(o.native.image={url:m.main_img.url,height:m.main_img.height,width:m.main_img.width}),m.icon&&(o.native.icon={url:m.icon.url,height:m.icon.height,width:m.icon.width})}else{g(o,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(var h=0;h<t.rtb.trackers[0].impression_urls.length;h++){var O=t.rtb.trackers[0].impression_urls[h],j=Object(i.createTrackPixelHtml)(O);o.ad+=j}}catch(e){Object(i.logError)("Error appending tracking pixel",e)}}return o}(e,d,n);p.mediaType=function(e){var t=e.ad_type;return t===c.d?c.d:t===c.c?c.c:c.b}(d),o.push(p)}})),e.debug&&e.debug.debug_info){var p="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;p=p.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),Object(i.logMessage)("https://console.appnexus.com/docs/understanding-the-debug-auction"),Object(i.logMessage)(p)}return o},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,r){if(e.iframeEnabled&&w({gdprConsent:r}))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t){var r=i.transformBidderParamKeywords;if(!0===t){var n=o.b.getConfig("s2sConfig"),a=Object(i.deepAccess)(n,"endpoint.p1Consent");a&&a.match("/openrtb2/prebid")&&(r=G)}return e=Object(i.convertTypes)({member:"string",invCode:"string",placementId:"number",keywords:r,publisherId:"number"},e),t&&(e.use_pmt_rule="boolean"==typeof e.usePaymentRule&&e.usePaymentRule,e.usePaymentRule&&delete e.usePaymentRule,S(e.keywords)&&e.keywords.forEach(C),Object.keys(e).forEach((function(t){var r=Object(i.convertCamelToUnderscore)(t);r!==t&&(e[r]=e[t],delete e[t])}))),e},onBidWon:function(e){e.native&&function(e){var t=function(e){var t;if(Object(i.isStr)(e)&&T(e))t=e;else if(Object(i.isArray)(e))for(var r=0;r<e.length;r++){var n=e[r];T(n)&&(t=n)}return t}(e.native.javascriptTrackers);if(t)for(var r="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,n=function(e){var t=e.indexOf('src="')+5,r=e.indexOf('"',t);return e.substring(t,r)}(t),a=n.replace("dom_id=%native_dom_id%",r),o=document.getElementsByTagName("iframe"),s=!1,c=0;c<o.length&&!s;c++){var d=o[c];try{var u=d.contentDocument||d.contentWindow.document;if(u)for(var l=u.getElementsByTagName("script"),p=0;p<l.length&&!s;p++){var f=l[p];f.getAttribute("data-src")==n&&(f.setAttribute("src",a),f.setAttribute("data-src",""),f.removeAttribute&&f.removeAttribute("data-src"),s=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function S(e){return!!(Object(i.isArray)(e)&&e.length>0)}function C(e){S(e.value)&&""===e.value[0]&&delete e.value}function T(e){var t=e.match(E),r=null!=t&&t.length>=1,n=e.match("trk.js"),i=null!=n&&n.length>=1;return e.startsWith("<script")&&i&&r}function w(e){var t=!0;return e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion&&(t=!(!0!==Object(i.deepAccess)(e.gdprConsent,"vendorData.purpose.consents.1"))),t}function x(e){var t={};t.sizes=k(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placementId?t.id=parseInt(e.params.placementId,10):t.code=e.params.invCode,t.allow_smaller_sizes=e.params.allowSmallerSizes||!1,t.use_pmt_rule=e.params.usePaymentRule||!1,t.prebid=!0,t.disable_psa=!0;var r=function(e){if(!Object(i.isFn)(e.getFloor))return e.params.reserve?e.params.reserve:null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});if(Object(i.isPlainObject)(t)&&!isNaN(t.floor)&&"USD"===t.currency)return t.floor;return null}(e);if(r&&(t.reserve=r),e.params.position&&(t.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(t.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(t.private_sizes=k(e.params.privateSizes)),e.params.supplyType&&(t.supply_type=e.params.supplyType),e.params.pubClick&&(t.pubclick=e.params.pubClick),e.params.extInvCode&&(t.ext_inv_code=e.params.extInvCode),e.params.publisherId&&(t.publisher_id=parseInt(e.params.publisherId,10)),e.params.externalImpId&&(t.external_imp_id=e.params.externalImpId),!Object(i.isEmpty)(e.params.keywords)){var n=Object(i.transformBidderParamKeywords)(e.params.keywords);n.length>0&&n.forEach(C),t.keywords=n}var a,o,s=Object(i.deepAccess)(e,"ortb2Imp.ext.data.pbadslot");if(s&&(t.gpid=s),(e.mediaType===c.c||Object(i.deepAccess)(e,"mediaTypes."+c.c))&&(t.ad_types.push(c.c),0===t.sizes.length&&(t.sizes=k([1,1])),e.nativeParams)){var l=(a=e.nativeParams,o={},Object.keys(a).forEach((function(e){var t=I[e]&&I[e].serverName||I[e]||e,r=I[e]&&I[e].requiredParams;if(o[t]=g({},r,a[e]),(t===I.image.serverName||t===I.icon.serverName)&&o[t].sizes){var n=o[t].sizes;(Object(i.isArrayOfNums)(n)||Object(i.isArray)(n)&&n.length>0&&n.every((function(e){return Object(i.isArrayOfNums)(e)})))&&(o[t].sizes=k(o[t].sizes))}t===I.privacyLink&&(o.privacy_supported=!0)})),o);t[c.c]={layouts:[l]}}var p=Object(i.deepAccess)(e,"mediaTypes."+c.d),f=Object(i.deepAccess)(e,"mediaTypes.video.context");t.hb_source=p&&"adpod"===f?7:1,(e.mediaType===c.d||p)&&t.ad_types.push(c.d),(e.mediaType===c.d||p&&"outstream"!==f)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((function(e){return Object(u.c)(m,e)})).forEach((function(r){switch(r){case"context":case"playback_method":var n=e.params.video[r];n=Object(i.isArray)(n)?n[0]:n,t.video[r]=j[r][n];break;case"frameworks":break;default:t.video[r]=e.params.video[r]}})),e.params.video.frameworks&&Object(i.isArray)(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),p&&(t.video=t.video||{},Object.keys(p).filter((function(e){return Object(u.c)(v,e)})).forEach((function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof t.video[e]&&(t.video[e]=p[e]);break;case"skip":"boolean"!=typeof t.video.skippable&&(t.video.skippable=1===p[e]);break;case"skipafter":"number"!=typeof t.video.skipoffset&&(t.video.skippoffset=p[e]);break;case"playbackmethod":if("number"!=typeof t.video.playback_method){var r=p[e];(r=Object(i.isArray)(r)?r[0]:r)>=1&&r<=4&&(t.video.playback_method=r)}break;case"api":if(!t.video_frameworks&&Object(i.isArray)(p[e])){var n=p[e].map((function(e){var t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t})).filter((function(e){return e}));t.video_frameworks=n}}}))),e.renderer&&(t.video=g({},t.video,{custom_renderer_present:!0})),e.params.frameworks&&Object(i.isArray)(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks);var b=Object(u.b)(d.a.getAdUnits(),(function(t){return e.transactionId===t.transactionId}));return b&&b.mediaTypes&&b.mediaTypes.banner&&t.ad_types.push(c.b),0===t.ad_types.length&&delete t.ad_types,t}function k(e){var t=[],r={};if(Object(i.isArray)(e)&&2===e.length&&!Object(i.isArray)(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),t.push(r);else if("object"===b(e))for(var n=0;n<e.length;n++){var a=e[n];(r={}).width=parseInt(a[0],10),r.height=parseInt(a[1],10),t.push(r)}return t}function R(e){return!!e.params.user}function D(e){return!!parseInt(e.params.member,10)}function P(e){if(e.params)return!!e.params.app}function U(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function B(e){return!!e.debug}function N(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===c.a}function q(e){var t=!1,r=e.params,n=e.params.video;return r.frameworks&&Object(i.isArray)(r.frameworks)&&(t=Object(u.c)(e.params.frameworks,6)),!t&&n&&n.frameworks&&Object(i.isArray)(n.frameworks)&&(t=Object(u.c)(e.params.video.frameworks,6)),t}function M(e,t,r){Object(i.isEmpty)(e.video)&&(e.video={}),e.video[t]=r}function z(e){var t,r;t=e.adUnitCode,(r=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&r[0].style.setProperty("display","none"),function(e){try{var t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},F.bind(null,e))}))}function F(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}function W(e,t,r,n){return t&&(n?e.push({source:r,id:t,rti_partner:n}):e.push({source:r,id:t})),e}function G(e){var t="";return Object.keys(e).forEach((function(r){Object(i.isStr)(e[r])?""!==e[r]?t+=r+"="+e[r]+",":t+=r+",":Object(i.isArray)(e[r])&&(""===e[r][0]?t+=r+",":e[r].forEach((function(e){t+=r+"="+e+","})))})),t=t.substring(0,t.length-1)}Object(s.c)(_),window.pbjs.installedModules.push("appnexusBidAdapter")},243:function(e,t,r){"use strict";var n=r(203),i=r(204),a=r(214),o=r(205);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c,d,u,l,p,f={value:!0,definedInConfig:!1},b=0,g=!1,m={iab:function(e,t,r){function i(i,a){Object(n.logInfo)("Received a response from CMP",i),a?!1!==i.gdprApplies&&"tcloaded"!==i.eventStatus&&"useractioncomplete"!==i.eventStatus||e(i,r):t("CMP unable to register callback function.  Please check CMP setup.",r)}var a=function(){var t={};function i(){t.getConsentData&&t.getVendorConsents&&(Object(n.logInfo)("Received all requested responses from CMP",t),e(t,r))}return{consentDataCallback:function(e){t.getConsentData=e,i()},vendorConsentsCallback:function(e){t.getVendorConsents=e,i()}}}(),s={},c=function(){for(var e,t,r=window;!e;){try{if("function"==typeof r.__tcfapi||"function"==typeof r.__cmp){"function"==typeof r.__tcfapi?(b=2,t=r.__tcfapi):(b=1,t=r.__cmp),e=r;break}}catch(e){}try{if(r.frames.__tcfapiLocator){b=2,e=r;break}}catch(e){}try{if(r.frames.__cmpLocator){b=1,e=r;break}}catch(e){}if(r===window.top)break;r=r.parent}return{cmpFrame:e,cmpFunction:t}}(),d=c.cmpFrame,u=c.cmpFunction;if(!d)return t("CMP not found.",r);Object(n.isFn)(u)?(Object(n.logInfo)("Detected CMP API is directly accessible, calling it now..."),1===b?(u("getConsentData",null,a.consentDataCallback),u("getVendorConsents",null,a.vendorConsentsCallback)):2===b&&u("addEventListener",b,i)):1===b&&window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp?(Object(n.logInfo)("Detected Prebid.js is encased in a SafeFrame and CMP is registered, calling it now..."),l("getConsentData",a.consentDataCallback),l("getVendorConsents",a.vendorConsentsCallback)):(Object(n.logInfo)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),1===b?(p("getConsentData",d,a.consentDataCallback),p("getVendorConsents",d,a.vendorConsentsCallback)):2===b&&p("addEventListener",d,i));function l(e,t){var i=r.adUnits,a=1,o=1;if(Array.isArray(i)&&i.length>0){var s=Object(n.getAdUnitSizes)(i[0]);a=s[0][0],o=s[0][1]}window.$sf.ext.register(a,o,(function(r,n){if("cmpReturn"===r){var i="getConsentData"===e?n.vendorConsentData:n.vendorConsents;t(i)}})),window.$sf.ext.cmp(e)}function p(e,t,r){var n=2===b?"__tcfapi":"__cmp",i=n+"Call";function a(e){var t=n+"Return",r="string"==typeof e.data&&Object(o.c)(e.data,t)?JSON.parse(e.data):e.data;if(r[t]&&r[t].callId){var i=r[t];void 0!==s[i.callId]&&s[i.callId](i.returnValue,i.success)}}2===b?(window[n]=function(e,r,n,a){var o,c=Math.random()+"",d=((o={})[i]={command:e,version:r,parameter:a,callId:c},o);s[c]=n,t.postMessage(d,"*")},window.addEventListener("message",a,!1),window[n](e,b,r)):(window[n]=function(e,r,n){var a,o=Math.random()+"",c=((a={})[i]={command:e,parameter:r,callId:o},a);s[o]=n,t.postMessage(c,"*")},window.addEventListener("message",a,!1),window[n](e,void 0,r))}},static:function(e,t,r){e(l,r)}};function v(e,t){var r={context:this,args:[t],nextFn:e,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};return p?(Object(n.logInfo)("User consent information already known.  Pulling internally stored information..."),I(null,r)):Object(o.c)(Object.keys(m),c)?(m[c].call(this,y,O,r),void(r.haveExited||(0===d?y(void 0,r):r.timer=setTimeout(h.bind(null,r),d)))):(Object(n.logWarn)("CMP framework ("+c+") is not a supported framework.  Aborting consentManagement module and resuming auction."),a.gdprDataHandler.setConsentData(null),r.nextFn.apply(r.context,r.args))}function y(e,t){"static"===c&&2===(b=e.getConsentData?1:e.getTCData?2:0)&&(e=e.getTCData);var r=1===b?function(e){var t=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||Object(n.isStr)(e.getConsentData.consentData)&&Object(n.isPlainObject)(e.getVendorConsents)&&Object.keys(e.getVendorConsents).length>1))}:2===b?function(){var t=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:u,r=e&&e.tcString;return!("boolean"==typeof t&&(!0!==t||Object(n.isStr)(r)))}:null;f.definedInConfig&&2===b?Object(n.logWarn)("'allowAuctionWithoutConsent' ignored for TCF 2"):f.definedInConfig||1!==b||Object(n.logInfo)("'allowAuctionWithoutConsent' using system default: (true)."),Object(n.isFn)(r)?r(e)?O("CMP returned unexpected value during lookup process.",t,e):(clearTimeout(t.timer),j(e),I(null,t)):O("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.",t,e)}function h(e){2===b?(Object(n.logWarn)("No response from CMP, continuing auction..."),j(void 0),I(null,e)):O("CMP workflow exceeded timeout threshold.",e)}function O(e,t,r){clearTimeout(t.timer),f.value&&1===b&&j(void 0),I(e,t,r)}function j(e){1===b?p={consentString:e?e.getConsentData.consentData:void 0,vendorData:e?e.getVendorConsents:void 0,gdprApplies:e?e.getConsentData.gdprApplies:u}:(p={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:u},e&&e.addtlConsent&&Object(n.isStr)(e.addtlConsent)&&(p.addtlConsent=e.addtlConsent)),p.apiVersion=b,a.gdprDataHandler.setConsentData(p)}function I(e,t,r){if(!1===t.haveExited){t.haveExited=!0;var i=t.context,o=t.args,s=t.nextFn;e?f.value&&1===b?(Object(n.logWarn)(e+" 'allowAuctionWithoutConsent' activated.",r),s.apply(i,o)):(Object(n.logError)(e+" Canceling auction as per consentManagement config.",r),a.gdprDataHandler.setConsentData(null),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():Object(n.logError)("Error executing bidsBackHandler")):s.apply(i,o)}}i.b.getConfig("consentManagement",(function(e){return function(e){(e=e&&(e.gdpr||e.usp?e.gdpr:e))&&"object"===s(e)?(Object(n.isStr)(e.cmpApi)?c=e.cmpApi:(c="iab",Object(n.logInfo)("consentManagement config did not specify cmp.  Using system default setting (iab).")),Object(n.isNumber)(e.timeout)?d=e.timeout:(d=1e4,Object(n.logInfo)("consentManagement config did not specify timeout.  Using system default setting (10000).")),"boolean"==typeof e.allowAuctionWithoutConsent&&(f.value=e.allowAuctionWithoutConsent,f.definedInConfig=!0),u=!0===e.defaultGdprScope,Object(n.logInfo)("consentManagement module has been activated..."),a.gdprDataHandler.enable(),"static"===c&&(Object(n.isPlainObject)(e.consentData)?(l=e.consentData,d=0):Object(n.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),g||pbjs.requestBids.before(v,50),g=!0):Object(n.logWarn)("consentManagement config not defined, exiting consent manager")}(e.consentManagement)})),window.pbjs.installedModules.push("consentManagement")},244:function(e,t,r){"use strict";var n=r(0),i=r(203),a=r(218),o=r(223),s=r(206),c=r(219),d=r(204),u=r(207);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p,f="https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json?date=$$TODAY$$",b=[],g={},m=!1,v=!0,y="USD",h=!1,O={},j={},I=function(){var e,t,r;function n(){e=!1,t=null,r=new Promise((function(r){t=r,e&&r()}))}return n(),{done:function(){e=!0,null!=t&&t()},reset:n,promise:function(){return r}}}();function E(e){p?(Object(i.logWarn)(e),Object(i.logWarn)("Currency failed loading rates, falling back to currency.defaultRates")):Object(i.logError)(e)}function A(e){g={},h=!0,Object(i.logInfo)("Installing addBidResponse decorator for currency module",arguments),Object(a.a)().convertCurrency=function(e,t,r){return parseFloat(e)*T(t,r)},Object(u.a)("addBidResponse").before(S,100),v&&(v=!1,Object(c.a)(e,{success:function(e){try{O=JSON.parse(e),Object(i.logInfo)("currencyRates set to "+JSON.stringify(O)),m=!0,C(),I.done()}catch(t){E("Failed to parse currencyRates response: "+e)}},error:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];E.apply(void 0,Object(n.__spreadArray)([],Object(n.__read)(e))),I.done()}}))}function _(){Object(i.logInfo)("Uninstalling addBidResponse decorator for currency module",arguments),Object(u.a)("addBidResponse").getHooks({hook:S}).remove(),delete Object(a.a)().convertCurrency,y="USD",g={},h=!1,m=!1,v=!0,O={},j={}}function S(e,t,r){if(!r)return e.call(this,t);var n=r.bidderCode||r.bidder;if(j[n]){var a=j[n];r.currency&&a!==r.currency?Object(i.logWarn)("Currency default '"+n+": "+a+"' ignored. adapter specified '"+r.currency+"'"):r.currency=a}if(r.currency||(Object(i.logWarn)('Currency not specified on bid.  Defaulted to "USD"'),r.currency="USD"),r.getCpmInNewCurrency=function(e){return(parseFloat(this.cpm)*T(this.currency,e)).toFixed(3)},r.currency===y)return e.call(this,t,r);b.push(function(e,t,r){return function(){var n=r[1];if(void 0!==n&&"currency"in n&&"cpm"in n){var a=n.currency;try{var c=T(a);1!==c&&(n.cpm=(parseFloat(n.cpm)*c).toFixed(4),n.currency=y)}catch(e){Object(i.logWarn)("Returning NO_BID, getCurrencyConversion threw error: ",e),r[1]=Object(o.a)(s.STATUS.NO_BID,n.getIdentifiers())}}return e.apply(t,r)}}(e,this,[t,r])),!h||m?C():e.bail(I.promise())}function C(){for(;b.length>0;)b.shift()()}function T(e,t){void 0===t&&(t=y);var r,n=null,a=e+"->"+t;if(a in g)n=g[a],Object(i.logMessage)("Using conversionCache value "+n+" for "+a);else if(!1===h){if("USD"!==e)throw new Error("Prebid currency support has not been enabled and fromCurrency is not USD");n=1}else if(e===t)n=1;else if(e in O.conversions){if(!(t in(r=O.conversions[e])))throw new Error("Specified adServerCurrency in config '"+t+"' not found in the currency rates file");n=r[t],Object(i.logInfo)("getCurrencyConversion using direct "+e+" to "+t+" conversionRate "+n)}else if(t in O.conversions){if(!(e in(r=O.conversions[t])))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");n=w(1/r[e],4),Object(i.logInfo)("getCurrencyConversion using reciprocal "+e+" to "+t+" conversionRate "+n)}else{var o=Object.keys(O.conversions)[0];if(!(e in O.conversions[o]))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");var s=1/O.conversions[o][e];if(!(t in O.conversions[o]))throw new Error("Specified adServerCurrency in config '"+t+"' not found in the currency rates file");n=w(s*O.conversions[o][t],4),Object(i.logInfo)("getCurrencyConversion using intermediate "+e+" thru "+o+" to "+t+" conversionRate "+n)}return a in g||(Object(i.logMessage)("Adding conversionCache value "+n+" for "+a),g[a]=n),n}function w(e,t){for(var r=1,n=0;n<t;n++)r+="0";return Math.round(e*r)/r}d.b.getConfig("currency",(function(e){return function(e){var t=f;if("object"===l(e.rates)&&(O.conversions=e.rates,m=!0,v=!1),"object"===l(e.defaultRates)&&(p=e.defaultRates,O.conversions=p,m=!0),"string"==typeof e.adServerCurrency){Object(i.logInfo)("enabling currency support",arguments),y=e.adServerCurrency,e.conversionRateFile&&(Object(i.logInfo)("currency using override conversionRateFile:",e.conversionRateFile),t=e.conversionRateFile);var r=t.indexOf("$$TODAY$$");if(-1!==r){var n=new Date,a=""+(n.getMonth()+1),o=""+n.getDate();a.length<2&&(a="0"+a),o.length<2&&(o="0"+o);var s=""+n.getFullYear()+a+o;t=""+t.substring(0,r)+s+t.substring(r+9,t.length)}A(t)}else Object(i.logInfo)("disabling currency support"),_();"object"===l(e.bidderCurrencyDefault)&&(j=e.bidderCurrencyDefault)}(e.currency)})),window.pbjs.installedModules.push("currency")},245:function(e,t,r){"use strict";var n=r(0),i=r(203),a=r(208),o=r(204),s=r(206),c=r(216),d=r(210),u=r.n(d),l=r(205),p=r(213),f=r(217),b=r(212);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=[a.b,a.d],v={JPY:1},y="p",h="x",O=1,j=2,I=3,E=4,A=5,_=6,S=7,C=8,T=9,w={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},x={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","trustpid.com":""},k=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","flocId","pubProvidedId"],R=["mimes","minduration","maxduration"],D=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"],P=!1,U=Object(c.b)({gvlid:10,bidderCode:"ix"}),B=2;function N(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId.toString(),!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(t.ext.sid=String(e.params.id)),t}function q(e,t,r){var n=null,a=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(n={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),Object(i.isFn)(e.getFloor)){var o="*",s="*";if(r&&Object(i.contains)(m,r)){var c=t[r];o=r,s=[c.w,c.h]}try{a=e.getFloor({mediaType:o,size:s})}catch(e){Object(i.logWarn)("priceFloors module call getFloor failed, error : ",e)}}a?(t.bidfloor=a.floor,t.bidfloorcur=a.currency,t.ext.fl=y):n&&(t.bidfloor=n.floor,t.bidfloorcur=n.currency,t.ext.fl=h)}function M(e,t,r){var n={},o=!(!Object(i.deepAccess)(e,"exp")||!Object(i.isInteger)(e.exp)),s=Object(i.deepAccess)(e,"dealid")||Object(i.deepAccess)(e,"ext.dealid");return v.hasOwnProperty(t)?n.cpm=e.price/v[t]:n.cpm=e.price/100,n.requestId=e.impid,s&&(n.dealId=s),n.netRevenue=!0,n.currency=t,n.creativeId=e.hasOwnProperty("crid")?e.crid:"-",e.mtype==B?n.vastXml=e.adm:e.ext&&e.ext.vasturl&&(n.vastUrl=e.ext.vasturl),e.ext&&e.ext.vasturl||e.mtype==B?(n.width=r.video.w,n.height=r.video.h,n.mediaType=a.d,n.mediaTypes=r.mediaTypes,n.ttl=o?e.exp:3600):(n.ad=e.adm,n.width=e.w,n.height=e.h,n.mediaType=a.b,n.ttl=o?e.exp:300),n.meta={},n.meta.networkId=Object(i.deepAccess)(e,"ext.dspid"),n.meta.brandId=Object(i.deepAccess)(e,"ext.advbrandid"),n.meta.brandName=Object(i.deepAccess)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(n.meta.advertiserDomains=e.adomain),n}function z(e){return Array.isArray(e)&&2===e.length&&Object(i.isInteger)(e[0])&&Object(i.isInteger)(e[1])}function F(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=[]),z(e))return e[0]===t[0]&&e[1]===t[1];for(var r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return!0;return!1}function W(e,t){var r,a,o=[];e||Object(i.logWarn)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");try{for(var s=Object(n.__values)(R),c=s.next();!c.done;c=s.next()){var d=c.value,u=e&&e.hasOwnProperty(d),l=t&&t.hasOwnProperty(d);u||l||o.push("IX Bid Adapter: "+d+" is not included in either the adunit or params level")}}catch(e){r={error:e}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}var p=e&&e.hasOwnProperty("protocol"),f=e&&e.hasOwnProperty("protocols"),b=t&&t.hasOwnProperty("protocol"),g=t&&t.hasOwnProperty("protocols");return p||f||b||g||o.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),o}function G(e){return void 0===e&&(e=[]),z(e)?e:!!z(e[0])&&e[0]}function L(e,t,r){if(e)return Object(n.__assign)(Object(n.__assign)({},Object(l.b)(r,(function(t){return t.bidId===e}))),Object(l.b)(t,(function(t){return t.id===e})))}function V(e,t,r,s){var c="https://htlb.casalemedia.com/cygnus",d=function(e,t){var r,a,o=[],s={};if(Object(i.isArray)(e))try{for(var c=Object(n.__values)(e),d=c.next();!d.done;d=c.next()){var u=d.value;x.hasOwnProperty(u.source)&&Object(i.deepAccess)(u,"uids.0")&&(s[u.source]=!0,""!=x[u.source]&&(u.uids[0].ext={rtiPartner:x[u.source]}),delete u.uids[0].atype,o.push(u))}}catch(e){r={error:e}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}if(t&&t.id&&t.version){var l={source:"chrome.com",uids:[{id:t.id,ext:{rtiPartner:"flocId",ver:t.version}}]};o.push(l),s["chrome.com"]=!0}return{toSend:o,seenSources:s}}(Object(i.deepAccess)(e,"0.userIdAsEids"),Object(i.deepAccess)(e,"0.userId.flocId")),u=d.toSend,l=function(){var e=o.b.getConfig("pageUrl");try{return new URL(e).href}catch(t){return void Object(i.logWarn)("IX Bid Adapter: invalid pageUrl config property value set: "+e)}}()||Object(i.deepAccess)(t,"refererInfo.referer");if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var p=window.headertag.getIdentityInfo();if(p&&"object"===g(p))for(var f in p)if(p.hasOwnProperty(f)){var b=p[f];!b.responsePending&&b.data&&"object"===g(b.data)&&Object.keys(b.data).length&&!d.seenSources[b.data.source]&&u.push(b.data)}}if(t&&"roundel"===t.bidderCode&&!d.seenSources["liveramp.com"])return[];var m={};m.id=e[0].bidderRequestId.toString(),m.site={},m.ext={},m.ext.source="prebid",m.ext.ixdiag={},m.ext.ixdiag.msd=0,m.ext.ixdiag.msi=0,m.imp=[],m.at=1;var v=function(e){for(var t,r=e.map((function(e){return e.transactionId})).filter((function(e,t,r){return r.indexOf(e)===t})),n={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"6.15.0",userIds:K(e[0])},a=function(a){if(t=e.filter((function(e){return e.transactionId===r[a]}))[0],Object(i.deepAccess)(t,"mediaTypes")){if(Object.keys(t.mediaTypes).length>1&&n.mfu++,Object(i.deepAccess)(t,"mediaTypes.native")&&n.nu++,Object(i.deepAccess)(t,"mediaTypes.banner")&&n.bu++,"outstream"===Object(i.deepAccess)(t,"mediaTypes.video.context")){n.ou++;var o="object"===g(Object(i.deepAccess)(t,"renderer")||Object(i.deepAccess)(t,"mediaTypes.video.renderer"));n.ren=n.ren&&o?Object(i.deepAccess)(n,"ren"):o}"instream"===Object(i.deepAccess)(t,"mediaTypes.video.context")&&n.iu++,n.allu++}},o=0;o<r.length;o++)a(o);return n}(e);for(var y in v)m.ext.ixdiag[y]=v[y];var h=function(){if(!U.localStorageIsEnabled())return;var e,t={};try{e=JSON.parse(U.getDataFromLocalStorage("ixdiag")||"{}")}catch(e){return Object(i.logError)("ix can not read ixdiag from localStorage."),null}return Object.keys(e).forEach((function(r){Object.keys(e[r]).forEach((function(n){"number"==typeof e[r][n]&&(t[n]=t[n]?t[n]+e[r][n]:e[r][n])}))})),t}();if(Object(i.isEmpty)(h)||(m.ext.ixdiag.err=h),e[0].schain&&(m.source={ext:{schain:e[0].schain}}),u.length>0&&(m.user={},m.user.eids=u),document.referrer&&""!==document.referrer&&(m.site.ref=document.referrer),t){if(t.gdprConsent){var O=t.gdprConsent;O.hasOwnProperty("gdprApplies")&&(m.regs={ext:{gdpr:O.gdprApplies?1:0}}),O.hasOwnProperty("consentString")&&(m.user=m.user||{},m.user.ext={consent:O.consentString||""},O.hasOwnProperty("addtlConsent")&&O.addtlConsent&&(m.user.ext.consented_providers_settings={consented_providers:O.addtlConsent}))}t.uspConsent&&Object(i.deepSetValue)(m,"regs.ext.us_privacy",t.uspConsent),l&&(m.site.page=l)}o.b.getConfig("coppa")&&Object(i.deepSetValue)(m,"regs.coppa",1);var j={};j.s=e[0].params.siteId,j.v=s,j.ac="j",j.sd=1,8.1===s&&(j.nf=1);var I=t&&t.bidderCode||"ix",E=o.b.getConfig(I),A=[],T=0,k=Object.keys(r),R=(""+c+Object(i.parseQueryStringParameters)(Object(n.__assign)(Object(n.__assign)({},j),{r:JSON.stringify(m)}))).length;if(R>8e3)return Object(i.logError)("IX Bid Adapter: Base request size has exceeded maximum request size.",{bidder:"ix",code:S}),A;var D=R,P=0,B=!1;if(E){if("object"===g(E.firstPartyData)){var N=E.firstPartyData,q="?";for(var M in N)N.hasOwnProperty(M)&&(q+=encodeURIComponent(M)+"="+encodeURIComponent(N[M])+"&");q=q.slice(0,-1),(P=encodeURIComponent(q).length)<8e3?("page"in m.site?m.site.page+=q:m.site.page=q,D+=P):Object(i.logError)("IX Bid Adapter: IX config FPD request size has exceeded maximum request size.",{bidder:"ix",code:_})}"number"==typeof E.timeout&&(j.t=E.timeout),"boolean"==typeof E.detectMissingSizes?m.ext.ixdiag.dms=E.detectMissingSizes:m.ext.ixdiag.dms=!0}for(var z=function(t){var s;if(D>=8e3||A.length>=4)return"break";for(var d=r[k[t]],u=d.missingCount,l=void 0===u?0:u,p=d.missingImps,f=void 0===p?[]:p,b=d.ixImps,g=!1,v=8e3-D,y={ixImps:void 0===b?[]:b,missingBannerImpressions:f},h=Object.keys(y).map((function(e){return y[e]})).filter((function(e){return Array.isArray(e)})).reduce((function(e,t){return e.concat.apply(e,Object(n.__spreadArray)([],Object(n.__read)(t)))}),[]),O=encodeURIComponent(JSON.stringify({impressionObjects:h})).length;h.length&&O>v;)g=!0,h.pop(),O=encodeURIComponent(JSON.stringify({impressionObjects:h})).length;var I=r[k[t]].gpid,E=r[k[t]].dfp_ad_unit_code;if(h.length&&a.b in h[0]){var _=h[0],S={id:_.id,banner:{topframe:_.banner.topframe,format:h.map((function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}}))}};(E||I)&&(S.ext={},S.ext.dfp_ad_unit_code=E,S.ext.gpid=I),"bidfloor"in h[0]&&(S.bidfloor=h[0].bidfloor),"bidfloorcur"in h[0]&&(S.bidfloorcur=h[0].bidfloorcur),m.imp.push(S),m.ext.ixdiag.msd+=l,m.ext.ixdiag.msi+=f.length}else h.forEach((function(e){return Object(i.deepSetValue)(e,"ext.gpid",I)})),(s=m.imp).push.apply(s,Object(n.__spreadArray)([],Object(n.__read)(h)));D+=O;var x=o.b.getConfig("ortb2")||{};if(!Object(i.isEmpty)(x)&&!B){m.ext.ixdiag.fpd=!0;var P=Object(n.__assign)({},x.site||x.context);Object.keys(P).forEach((function(e){-1===w.SITE.indexOf(e)&&delete P[e]}));var U=Object(n.__assign)({},x.user);Object.keys(U).forEach((function(e){-1===w.USER.indexOf(e)&&delete U[e]}));var N=Object(i.deepClone)(m);if(N.site=Object(i.mergeDeep)({},N.site,P),N.user=Object(i.mergeDeep)({},N.user,U),(""+c+Object(i.parseQueryStringParameters)(Object(n.__assign)(Object(n.__assign)({},j),{r:JSON.stringify(N)}))).length<8e3){m.site=Object(i.mergeDeep)({},m.site,P),m.user=Object(i.mergeDeep)({},m.user,U),B=!0;var q=encodeURIComponent(JSON.stringify(Object(n.__assign)(Object(n.__assign)({},P),U))).length;D+=q}else Object(i.logError)("IX Bid Adapter: FPD request size has exceeded maximum request size.",{bidder:"ix",code:C})}var M=t===k.length-1;if(g||M){var z=Object(i.deepClone)(j);M&&!T||(m.ext.ixdiag.sn=T,z.sn=T),T++,z.r=JSON.stringify(m),A.push({method:"GET",url:c,data:z,validBidRequests:e}),D=R,m.imp=[],m.ext.ixdiag.msd=0,m.ext.ixdiag.msi=0,B=!1}},F=0;F<k.length;F++){if("break"===z(F))break}return A}function K(e){var t=e.userId||{};return k.filter((function(e){return t[e]}))}function Y(e,t){if(t)for(var r=0;r<e.length;r++){var n=e[r];if(t[0]===n[0]&&t[1]===n[1]){e.splice(r,1);break}}}function H(e,t){var r=function(e){var t=N(e),r=Object(i.deepAccess)(e,"mediaTypes.video"),n=Object(i.deepAccess)(e,"params.video");if(W(r,n).length)return{};for(var o in t.video=n?Object(i.deepClone)(e.params.video):{},r)-1===D.indexOf(o)||t.video.hasOwnProperty(o)||(t.video[o]=r[o]);if(t.video.minduration>t.video.maxduration)return Object(i.logError)("IX Bid Adapter: video minduration ["+t.video.minduration+"] cannot be greater than video maxduration ["+t.video.maxduration+"]",{bidder:"ix",code:T}),{};var s=n&&n.context||r&&r.context;if(s&&!t.video.hasOwnProperty("placement")&&(s===f.a?t.video.placement=1:s===f.b?t.video.placement=4:Object(i.logWarn)("IX Bid Adapter: Video context '"+s+"' is not supported")),!t.video.w||!t.video.h){var c=G(Object(i.deepAccess)(t,"video.playerSize"))||G(Object(i.deepAccess)(e,"params.size"));if(!c)return Object(i.logWarn)("IX Bid Adapter: Video size is missing in [mediaTypes.video] missing"),{};t.video.w=c[0],t.video.h=c[1],Object(i.deepAccess)(t,"ext.sid")||(t.ext.sid=Object(i.parseGPTSingleSizeArray)(c))}return q(e,t,a.d),t}(e);0!=Object.keys(r).length&&(t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(r),t[e.transactionId].gpid=Object(i.deepAccess)(e,"ortb2Imp.ext.gpid"))}function J(e,t,r){var s=Object(n.__assign)(Object(n.__assign)({},{detectMissingSizes:!0}),o.b.getConfig("ix")),c=function(e){var t=N(e);t.banner={};var r=Object(i.deepAccess)(e,"params.size");return r&&(t.banner.w=r[0],t.banner.h=r[1],Object(i.deepAccess)(t,"ext.sid")||(t.ext.sid=Object(i.parseGPTSingleSizeArray)(r))),t.banner.topframe=Object(i.inIframe)()?0:1,q(e,t,a.b),t}(e),d=F(Object(i.deepAccess)(e,"mediaTypes.banner.sizes"),Object(i.deepAccess)(e,"params.size"));r.hasOwnProperty(e.transactionId)||(r[e.transactionId]={}),r[e.transactionId].gpid=Object(i.deepAccess)(e,"ortb2Imp.ext.gpid"),r[e.transactionId].dfp_ad_unit_code=Object(i.deepAccess)(e,"ortb2Imp.ext.data.adserver.adslot"),d&&(r[e.transactionId].hasOwnProperty("ixImps")||(r[e.transactionId].ixImps=[]),r[e.transactionId].ixImps.push(c)),s.hasOwnProperty("detectMissingSizes")&&s.detectMissingSizes&&function(e,t,r){var n=e.transactionId;if(t.hasOwnProperty(n)){var a=[];t[n].hasOwnProperty("missingSizes")&&(a=t[n].missingSizes),Y(a,e.params.size),t[n].missingSizes=a}else if(Object(i.deepAccess)(e,"mediaTypes.banner.sizes")){var o=Object(i.deepClone)(e.mediaTypes.banner.sizes);Y(o,e.params.size);var s={missingSizes:o,impression:r};t[n]=s}}(e,t,c)}function X(e,t,r){var n=Object(i.deepClone)(t);return n.ext.sid=Object(i.parseGPTSingleSizeArray)(r),n.banner.w=r[0],n.banner.h=r[1],q(e,n,a.b),n}function Q(e){if("ERROR"===e.type&&e.arguments&&e.arguments[1]&&"ix"===e.arguments[1].bidder){var t={hasEnforcementHook:!1,valid:Object(i.hasDeviceAccess)()};Object(c.d)(10,"ix",t,(function(t){t.valid&&function(e){if(U.localStorageIsEnabled()){var t;try{t=JSON.parse(U.getDataFromLocalStorage("ixdiag")||"{}")}catch(e){Object(i.logWarn)("ix can not read ixdiag from localStorage.")}var r=new Date;if(Object.keys(t).map((function(e){var n=new Date(e);n.setDate(n.getDate()+7)-r<0&&delete t[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&"ix"===e.arguments[1].bidder){var n=r.toISOString().slice(0,10),a=e.arguments[1].code;a&&(t[n]=t[n]||{},Number(t[n][a])||(t[n][a]=0),t[n][a]++)}U.setDataInLocalStorage("ixdiag",JSON.stringify(t))}}(e)}))}}function $(e){e.renderer.push((function(){var t={width:e.width,height:e.height,timeout:3e3};e.vastXml?window.IXOutstreamPlayer(e.vastXml,e.adUnitCode,t):window.IXOutstreamPlayer(e.vastUrl,e.adUnitCode,t)}))}function Z(e){var t=b.a.install({id:e,url:"https://js-sec.indexww.com/htv/video-player.js",loaded:!1});try{t.setRender($)}catch(e){Object(i.logWarn)("Prebid Error calling setRender on renderer",e)}return t}var ee={code:"ix",gvlid:10,aliases:[{code:"roundel",gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:m,isBidRequestValid:function(e){P||(u.a.on(s.EVENTS.AUCTION_DEBUG,Q),u.a.on(s.EVENTS.AD_RENDER_FAILED,Q),P=!0);var t,r,n=Object(i.deepAccess)(e,"params.video"),a=Object(i.deepAccess)(e,"params.size"),o=Object(i.deepAccess)(e,"mediaTypes.banner.sizes"),c=Object(i.deepAccess)(e,"mediaTypes.video"),d=Object(i.deepAccess)(e,"mediaTypes.video.playerSize"),l=e.params.hasOwnProperty("bidFloor"),p=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!Object(i.contains)(m,e.mediaType))return Object(i.logWarn)("IX Bid Adapter: media type is not supported."),!1;if(Object(i.deepAccess)(e,"mediaTypes.banner")&&!o)return!1;if(a){var f=G(a);if(!f)return Object(i.logError)("IX Bid Adapter: size has invalid format.",{bidder:"ix",code:O}),!1;if(!F(e.sizes,f)&&!F(d,f)&&!F(o,f))return Object(i.logError)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:"ix",code:j}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return Object(i.logError)("IX Bid Adapter: siteId must be string or number type.",{bidder:"ix",code:E}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return Object(i.logError)("IX Bid Adapter: siteId must valid value",{bidder:"ix",code:E}),!1;if((l||p)&&!(l&&p&&(t=e.params.bidFloor,r=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof r&&r.match(/^[A-Z]{3}$/)))))return Object(i.logError)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:"ix",code:A}),!1;if(c&&n){var b=W(c,n);if(b.length)return b.forEach((function(e){Object(i.logError)(e,{bidder:"ix",code:I})})),!1}return!0},buildRequests:function(e,t){var r=[],o={},s={},c={},d={};for(var u in e.forEach((function(e){var t=Object.keys(Object(i.deepAccess)(e,"mediaTypes",{}));switch(function(e){return Object(i.deepAccess)(e,"params.video")&&Object(i.deepAccess)(e,"mediaTypes.video")?a.d:a.b}(e)){case a.b:J(e,d,o);break;case a.d:H(e,s)}Object(l.c)(t,a.b)&&Object(l.c)(t,a.d)&&(c[e.transactionId]=e)})),Object.keys(c).forEach((function(e){var t=c[e];o[e]||J(t,d,o),s[e]||H(t,s)})),d)if(d.hasOwnProperty(u)){var p=d[u].missingSizes;o.hasOwnProperty(u)||(o[u]={}),o[u].hasOwnProperty("missingImps")||(o[u].missingImps=[],o[u].missingCount=0);for(var f=d[u].impression,b=0;b<p.length;b++){var g=X(e[0],f,p[b]);o[u].missingImps.push(g),o[u].missingCount++}}return Object.keys(o).length>0&&r.push.apply(r,Object(n.__spreadArray)([],Object(n.__read)(V(e,t,o,7.2)))),Object.keys(s).length>0&&r.push.apply(r,Object(n.__spreadArray)([],Object(n.__read)(V(e,t,s,8.1)))),r},interpretResponse:function(e,t){var r=[],n=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return r;for(var a=e.body,o=a.seatbid,s=0;s<o.length;s++)if(o[s].hasOwnProperty("bid")){for(var c=o[s].bid,d=JSON.parse(t.data.r),u=0;u<c.length;u++){var l=L(c[u].impid,d.imp,t.validBidRequests);n=M(c[u],a.cur,l),Object(i.deepAccess)(n,"mediaTypes.video.renderer")||"outstream"!==Object(i.deepAccess)(n,"mediaTypes.video.context")||(n.renderer=Z(c[u].bidId)),r.push(n)}if(Object(i.deepAccess)(d,"ext.ixdiag.err")&&U.localStorageIsEnabled())try{U.removeDataFromLocalStorage("ixdiag")}catch(e){Object(i.logError)("ix can not clear ixdiag from localStorage.")}}return r},transformBidParams:function(e,t){return Object(i.convertTypes)({siteID:"number"},e)},getUserSyncs:function(e,t){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};Object(p.c)(ee),window.pbjs.installedModules.push("ixBidAdapter")},246:function(e,t,r){"use strict";var n=r(0),i=r(203),a=r(213),o=r(208),s=r(204),c=r(212);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),p={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},f="number",b="string",g="boolean",m="array",v={mimes:m,minduration:f,maxduration:f,startdelay:f,playbackmethod:m,api:m,protocols:m,w:f,h:f,battr:m,linearity:f,placement:f,minbitrate:f,maxbitrate:f,skip:f},y={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},h=1,O=2,j=3,I=[{id:y.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:y.TITLE.ID,required:!0},{id:y.IMAGE.ID,required:!0}],E={1:"PMP",5:"PREF",6:"PMPG"},A=1,_=2,S={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var r,n=S.getRendererId("pubmatic",e.rendererCode),a=document.getElementById(e.adUnitCode),o=0;o<window.bluebillywig.renderers.length;o++)if(window.bluebillywig.renderers[o]._id===n){r=window.bluebillywig.renderers[o];break}r?r.bootstrap(t,a):Object(i.logWarn)("PubMatic: : Couldn't find a renderer with "+n)}else Object(i.logWarn)("PubMatic: : No vastXml or vastUrl on bid, bailing...")},newRenderer:function(e,t){var r=l.replace("$RENDERER",e),n=c.a.install({url:r,loaded:!1,adUnitCode:t});try{n.setRender(S.outstreamRender)}catch(e){Object(i.logWarn)("PubMatic: : Error tying to setRender on renderer",e)}return n},outstreamRender:function(e){e.renderer.push((function(){S.bootstrapPlayer(e)}))},getRendererId:function(e,t){return e+"-"+t}},C=[o.b,o.d,o.c],T=0,w=!1,x={},k={};function R(e,t){if(Object(i.isStr)(t))switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||void 0;case"yob":return parseInt(t)||void 0;default:return t}else t&&Object(i.logWarn)("PubMatic: Ignoring param key: "+e+", expects string-value, found "+u(t))}function D(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,Object(i.isStr)(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&Object(i.logWarn)("pubmatic: adSlot must be a string. Ignoring adSlot"),""));var r=e.params.adSlot,n=r.split(":");if(r=n[0],2==n.length&&(e.params.adUnitIndex=n[1]),n=r.split("@"),e.params.adUnit=n[0],n.length>1){if(2!=(n=n[1].split("x")).length)return void Object(i.logWarn)("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(n[0],10),e.params.height=parseInt(n[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(o.b)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var a=0,s=[];a<e.mediaTypes.banner.sizes.length;a++)2===e.mediaTypes.banner.sizes[a].length&&s.push(e.mediaTypes.banner.sizes[a]);e.mediaTypes.banner.sizes=s,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}function P(e,t,r){var n,a="Ignoring param key: "+e+", expects "+r+", found "+u(t);switch(r){case g:n=i.isBoolean;break;case f:n=i.isNumber;break;case b:n=i.isStr;break;case m:n=i.isArray}if(n(t))return t;Object(i.logWarn)("PubMatic: "+a)}function U(e,t){var r=e.KEY;return{id:e.ID,required:t[r].required?1:0,data:{type:e.TYPE,len:t[r].len,ext:t[r].ext}}}function B(e){var t={assets:[]};for(var r in e){if(e.hasOwnProperty(r)){var n={};if(!(t.assets&&t.assets.length>0&&t.assets.hasOwnProperty(r)))switch(r){case y.TITLE.KEY:e[r].len||e[r].length?n={id:y.TITLE.ID,required:e[r].required?1:0,title:{len:e[r].len||e[r].length,ext:e[r].ext}}:Object(i.logWarn)("PubMatic: Error: Title Length is required for native ad: "+JSON.stringify(e));break;case y.IMAGE.KEY:e[r].sizes&&e[r].sizes.length>0?n={id:y.IMAGE.ID,required:e[r].required?1:0,img:{type:j,w:e[r].w||e[r].width||(e[r].sizes?e[r].sizes[0]:void 0),h:e[r].h||e[r].height||(e[r].sizes?e[r].sizes[1]:void 0),wmin:e[r].wmin||e[r].minimumWidth||(e[r].minsizes?e[r].minsizes[0]:void 0),hmin:e[r].hmin||e[r].minimumHeight||(e[r].minsizes?e[r].minsizes[1]:void 0),mimes:e[r].mimes,ext:e[r].ext}}:Object(i.logWarn)("PubMatic: Error: Image sizes is required for native ad: "+JSON.stringify(e));break;case y.ICON.KEY:e[r].sizes&&e[r].sizes.length>0?n={id:y.ICON.ID,required:e[r].required?1:0,img:{type:h,w:e[r].w||e[r].width||(e[r].sizes?e[r].sizes[0]:void 0),h:e[r].h||e[r].height||(e[r].sizes?e[r].sizes[1]:void 0)}}:Object(i.logWarn)("PubMatic: Error: Icon sizes is required for native ad: "+JSON.stringify(e));break;case y.VIDEO.KEY:n={id:y.VIDEO.ID,required:e[r].required?1:0,video:{minduration:e[r].minduration,maxduration:e[r].maxduration,protocols:e[r].protocols,mimes:e[r].mimes,ext:e[r].ext}};break;case y.EXT.KEY:n={id:y.EXT.ID,required:e[r].required?1:0};break;case y.LOGO.KEY:n={id:y.LOGO.ID,required:e[r].required?1:0,img:{type:O,w:e[r].w||e[r].width||(e[r].sizes?e[r].sizes[0]:void 0),h:e[r].h||e[r].height||(e[r].sizes?e[r].sizes[1]:void 0)}};break;case y.SPONSOREDBY.KEY:case y.BODY.KEY:case y.RATING.KEY:case y.LIKES.KEY:case y.DOWNLOADS.KEY:case y.PRICE.KEY:case y.SALEPRICE.KEY:case y.PHONE.KEY:case y.ADDRESS.KEY:case y.DESC2.KEY:case y.DISPLAYURL.KEY:case y.CTA.KEY:n=U(k[r],e)}}n&&n.id&&(t.assets[t.assets.length]=n)}var a=I.length,o=0;return I.forEach((function(e){for(var r=t.assets.length,n=0;n<r;n++)if(e.id==t.assets[n].id){o++;break}})),w=a!=o,t}function N(e){var t,r=e.mediaTypes.banner.sizes,n=[];if(void 0!==r&&Object(i.isArray)(r)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===r.length)return t=void 0,Object(i.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(r[0][0],10),t.h=parseInt(r[0][1],10),r=r.splice(1,r.length-1)}r.length>0&&(n=[],r.forEach((function(e){e.length>1&&n.push({w:e[0],h:e[1]})})),n.length>0&&(t.format=n)),t.pos=0,t.topframe=Object(i.inIframe)()?0:1}else Object(i.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=void 0;return t}function q(e){var t,r=Object(i.mergeDeep)(Object(i.deepAccess)(e.mediaTypes,"video"),e.params.video);if(void 0!==r){for(var n in t={},function(e,t){Object(i.deepAccess)(e,"placement")||Object(i.logWarn)("Video.Placement param missing for "+t)}(r,e.adUnitCode),v)r.hasOwnProperty(n)&&(t[n]=P(n,r[n],v[n]));Object(i.isArray)(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):Object(i.isNumber)(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=void 0,Object(i.logWarn)("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function M(e,t,r){var n=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,i="";if(void 0!==n&&""!==n&&n.hasOwnProperty("segments")){var a,o=n.segments.length;i+="jw-id="+n.content.id;for(var s=0;s<o;s++)i+="|jw-"+n.segments[s]+"=1";r?void 0===e.dctr||0==e.dctr.length?e.dctr=i:e.dctr+="|"+i:(a=e.ext)&&void 0===a.key_val?a.key_val=i:a.key_val+="|"+i}}function z(e,t){var r,a,c={},d={},l=e.hasOwnProperty("sizes")?e.sizes:[],p="",f=[];if(function(e,t){t.params.deals&&(Object(i.isArray)(t.params.deals)?t.params.deals.forEach((function(t){Object(i.isStr)(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):Object(i.logWarn)("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):Object(i.logWarn)("PubMatic: Error: bid.params.deals should be an array of strings."))}(c={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:R("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:R("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?R("currency",e.params.currency):"USD"},e),function(e,t){var r,n="";if(t.params.dctr)if(n=t.params.dctr,Object(i.isStr)(n)&&n.length>0){var a=n.split("|");n="",a.forEach((function(e){n+=e.length>0?e.trim()+"|":""})),r=n.length,"|"===n.substring(r,r-1)&&(n=n.substring(0,r-1)),e.ext.key_val=n.trim()}else Object(i.logWarn)("PubMatic: Ignoring param : dctr with value : "+n+", expects string-value, found empty or non-string value")}(c,e),M(c,e),e.hasOwnProperty("mediaTypes"))for(p in e.mediaTypes)switch(p){case o.b:void 0!==(r=N(e))&&(c.banner=r);break;case o.c:d.request=JSON.stringify(B(e.nativeParams)),w?Object(i.logWarn)("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):c.native=d;break;case o.d:void 0!==(a=q(e))&&(c.video=a)}else r={pos:0,w:e.params.width,h:e.params.height,topframe:Object(i.inIframe)()?0:1},Object(i.isArray)(l)&&l.length>1&&((l=l.splice(1,l.length-1)).forEach((function(e){f.push({w:e[0],h:e[1]})})),r.format=f),c.banner=r;return function(e,t){var r=Object(n.__assign)({},Object(i.deepAccess)(t,"ortb2Imp.ext.data"));Object.keys(r).forEach((function(t){"pbadslot"===t?"string"==typeof r[t]&&r[t]&&Object(i.deepSetValue)(e,"ext.data.pbadslot",r[t]):"adserver"===t?["name","adslot"].forEach((function(t){var n=Object(i.deepAccess)(r,"adserver."+t);"string"==typeof n&&n&&(Object(i.deepSetValue)(e,"ext.data.adserver."+t.toLowerCase(),n),"adslot"===t&&Object(i.deepSetValue)(e,"ext.dfp_ad_unit_code",n))})):Object(i.deepSetValue)(e,"ext.data."+t,r[t])}))}(c,e),function(e,t){var r=-1;"function"!=typeof t.getFloor||s.b.getConfig("pubmatic.disableFloors")||[o.b,o.d,o.c].forEach((function(n){if(e.hasOwnProperty(n)){var a=[];"banner"===n&&(e[n].w&&e[n].h&&a.push([e[n].w,e[n].h]),Object(i.isArray)(e[n].format)&&e[n].format.forEach((function(e){return a.push([e.w,e.h])}))),0===a.length&&a.push("*"),a.forEach((function(a){var o=t.getFloor({currency:e.bidfloorcur,mediaType:n,size:a});if(Object(i.logInfo)("PubMatic: ","floor from floor module returned for mediatype:",n," and size:",a," is: currency",o.currency,"floor",o.floor),"object"===u(o)&&o.currency===e.bidfloorcur&&!isNaN(parseInt(o.floor))){var s=parseFloat(o.floor);Object(i.logInfo)("PubMatic: ","floor from floor module:",s,"previous floor value",r,"Min:",Math.min(s,r)),r=-1===r?s:Math.min(s,r),Object(i.logInfo)("PubMatic: ","new floor value:",r)}}))}}));e.bidfloor&&(Object(i.logInfo)("PubMatic: ","floor from floor module:",r,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(r,e.bidfloor)),r=Math.max(r,e.bidfloor));e.bidfloor=!isNaN(r)&&r>0?r:void 0,Object(i.logInfo)("PubMatic: ","new impObj.bidfloor value:",e.bidfloor)}(c,e),c.hasOwnProperty(o.b)||c.hasOwnProperty(o.c)||c.hasOwnProperty(o.d)?c:void 0}function F(e,t){var r=null,n=Object(i.deepAccess)(e,"0.userId.flocId");if(n&&n.id)switch(t){case _:r={id:"FLOC",name:"FLOC",ext:{ver:n.version},segment:[{id:n.id,name:"chrome.com",value:n.id.toString()}]};break;case A:default:r={source:"chrome.com",uids:[{atype:1,id:n.id,ext:{ver:n.version}}]}}return r}function W(e){return!0===Object(i.isArray)(e)&&e.length>0}Object(i._each)(y,(function(e){x[e.ID]=e.KEY})),Object(i._each)(y,(function(e){k[e.KEY]=e}));var G={code:"pubmatic",gvlid:76,supportedMediaTypes:[o.b,o.d,o.c],aliases:[{code:"groupm",gvlid:98}],isBidRequestValid:function(e){if(e&&e.params){if(!Object(i.isStr)(e.params.publisherId))return Object(i.logWarn)("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(o.d)){var t=Object(i.deepAccess)(e.mediaTypes,"video.mimes"),r=Object(i.deepAccess)(e,"params.video.mimes");if(!1===W(t)&&!1===W(r))return Object(i.logWarn)("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[o.d].hasOwnProperty("context"))return Object(i.logError)("PubMatic: : no context specified in bid. Rejecting bid: ",e),!1;if("outstream"===e.mediaTypes[o.d].context&&!Object(i.isStr)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[o.d].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(o.b)||e.mediaTypes.hasOwnProperty(o.c)?(delete e.mediaTypes[o.d],Object(i.logWarn)('PubMatic: : for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: ',e),!0):(Object(i.logError)('PubMatic: : for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: ',e),!1)}return!0}return!1},buildRequests:function(e,t){var r;t&&t.refererInfo&&(r=t.refererInfo);var n,a=function(e){return{pageURL:e&&e.referer?e.referer:window.location.href,refURL:window.document.referrer}}(r),c=function(e){return{id:""+(new Date).getTime(),at:1,cur:["USD"],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(a),l="",f=[],b=[];if(e.forEach((function(e){if((n=Object(i.deepClone)(e)).params.adSlot=n.params.adSlot||"",D(n),n.mediaTypes&&n.mediaTypes.hasOwnProperty("video")||n.params.hasOwnProperty("video"));else if(!(n.hasOwnProperty("mediaTypes")&&n.mediaTypes.hasOwnProperty(o.c)||0!==n.params.width||0!==n.params.height))return void Object(i.logWarn)("PubMatic: Skipping the non-standard adslot: ",n.params.adSlot,JSON.stringify(n));a.pubId=a.pubId||n.params.publisherId,(a=function(e,t){var r,n,a;for(r in t.kadpageurl||(t.kadpageurl=t.pageURL),p)p.hasOwnProperty(r)&&(n=e[r])&&("object"===u(a=p[r])&&(n=a.f(n,t)),Object(i.isStr)(n)?t[r]=n:Object(i.logWarn)("PubMatic: Ignoring param : "+r+" with value : "+p[r]+", expects string-value, found "+u(n)));return t}(n.params,a)).transactionId=n.transactionId,""===l?l=n.params.currency||void 0:n.params.hasOwnProperty("currency")&&l!==n.params.currency&&Object(i.logWarn)("PubMatic: Currency specifier ignored. Only one currency permitted."),n.params.currency=l,n.params.hasOwnProperty("dctr")&&Object(i.isStr)(n.params.dctr)&&f.push(n.params.dctr),n.params.hasOwnProperty("bcat")&&Object(i.isArray)(n.params.bcat)&&(b=b.concat(n.params.bcat));var t=z(n);t&&c.imp.push(t)})),0!=c.imp.length){var g,m;c.site.publisher.id=a.pubId.trim(),T=a.pubId.trim(),c.ext.wrapper={},c.ext.wrapper.profile=parseInt(a.profId)||void 0,c.ext.wrapper.version=parseInt(a.verId)||void 0,c.ext.wrapper.wiid=a.wiid||t.auctionId,c.ext.wrapper.wv="prebid_prebid_6.15.0",c.ext.wrapper.transactionId=a.transactionId,c.ext.wrapper.wp="pbjs",c.user.gender=a.gender?a.gender.trim():void 0,c.user.geo={},c.user.geo.lat=R("lat",a.lat),c.user.geo.lon=R("lon",a.lon),c.user.yob=R("yob",a.yob),c.device.geo=c.user.geo,c.site.page=a.kadpageurl.trim()||c.site.page.trim(),c.site.domain=(g=c.site.page,(m=document.createElement("a")).href=g,m.hostname),"object"===u(s.b.getConfig("content"))&&(c.site.content=s.b.getConfig("content")),"object"===u(s.b.getConfig("device"))&&(c.device=d(c.device,s.b.getConfig("device"))),Object(i.deepSetValue)(c,"source.tid",a.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(c.test=1),e[0].schain&&Object(i.deepSetValue)(c,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(Object(i.deepSetValue)(c,"user.ext.consent",t.gdprConsent.consentString),Object(i.deepSetValue)(c,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&Object(i.deepSetValue)(c,"regs.ext.us_privacy",t.uspConsent),!0===s.b.getConfig("coppa")&&Object(i.deepSetValue)(c,"regs.coppa",1),function(e,t){var r=Object(i.deepAccess)(t,"0.userIdAsEids"),n=F(t,A);n&&(r||(r=[]),r.push(n)),Object(i.isArray)(r)&&r.length>0&&Object(i.deepSetValue)(e,"user.eids",r)}(c,e),function(e,t){(t=t.filter((function(e){return"string"==typeof e||(Object(i.logWarn)("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,r){if(e.length>3)return r.indexOf(e)===t;Object(i.logWarn)("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&(Object(i.logWarn)("PubMatic: bcat: Selected: ",t),e.bcat=t)}(c,b),function(e,t){var r=F(t,_);r&&(e.user||(e.user={}),e.user.data||(e.user.data=[]),e.user.data.push(r))}(c,e);var v=s.b.getConfig("ortb2")||{};return v.site&&Object(i.mergeDeep)(c,{site:v.site}),v.user&&Object(i.mergeDeep)(c,{user:v.user}),"object"===u(s.b.getConfig("app"))&&(c.app=s.b.getConfig("app"),c.app.publisher=c.site.publisher,c.app.ext=c.site.ext||void 0,"object"!==u(c.app.content)&&(c.app.content=c.site.content||void 0),delete c.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(c),bidderRequest:t}}},interpretResponse:function(e,t){var r=[],n="USD",a=JSON.parse(t.data),s=a.site&&a.site.ref?a.site.ref:"";try{e.body&&e.body.seatbid&&Object(i.isArray)(e.body.seatbid)&&(n=e.body.cur||n,e.body.seatbid.forEach((function(e){e.bid&&Object(i.isArray)(e.bid)&&e.bid.forEach((function(c){var d={requestId:c.impid,cpm:(parseFloat(c.price)||0).toFixed(2),width:c.w,height:c.h,creativeId:c.crid||c.id,dealId:c.dealid,currency:n,netRevenue:!0,ttl:300,referrer:s,ad:c.adm,pm_seat:e.seat||null,pm_dspid:c.ext&&c.ext.dspid?c.ext.dspid:null,partnerImpId:c.id||""};a.imp&&a.imp.length>0&&a.imp.forEach((function(e){if(c.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=C[e.ext.bidtype];else{Object(i.logInfo)("PubMatic: bid.ext.bidtype does not exist, checking alternatively for mediaType");var r=e.adm,n="",a=new RegExp(/VAST\s+version/);if(r.indexOf('span class="PubAPIAd"')>=0)t.mediaType=o.b;else if(a.test(r))t.mediaType=o.d;else try{(n=JSON.parse(r.replace(/\\/g,"")))&&n.native&&(t.mediaType=o.c)}catch(e){Object(i.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+r)}}}(c,d),d.mediaType){case o.b:break;case o.d:d.width=c.hasOwnProperty("w")?c.w:e.video.w,d.height=c.hasOwnProperty("h")?c.h:e.video.h,d.vastXml=c.adm,function(e,t){var r,n,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var a=0;a<t.bidderRequest.bids.length;a++)t.bidderRequest.bids[a].bidId===e.requestId&&(r=t.bidderRequest.bids[a].params,n=t.bidderRequest.bids[a].mediaTypes[o.d].context,i=t.bidderRequest.bids[a].adUnitCode);n&&"outstream"===n&&r&&r.outstreamAU&&i&&(e.rendererCode=r.outstreamAU,e.renderer=S.newRenderer(e.rendererCode,i))}}(d,t);break;case o.c:!function(e,t){if(t.native={},e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void Object(i.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}if(r&&r.native&&r.native.assets&&r.native.assets.length>0){t.mediaType=o.c;for(var n=0,a=r.native.assets.length;n<a;n++)switch(r.native.assets[n].id){case y.TITLE.ID:t.native.title=r.native.assets[n].title&&r.native.assets[n].title.text;break;case y.IMAGE.ID:t.native.image={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case y.ICON.ID:t.native.icon={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case y.SPONSOREDBY.ID:case y.BODY.ID:case y.LIKES.ID:case y.DOWNLOADS.ID:case y.PRICE:case y.SALEPRICE.ID:case y.PHONE.ID:case y.ADDRESS.ID:case y.DESC2.ID:case y.CTA.ID:case y.RATING.ID:case y.DISPLAYURL.ID:t.native[x[r.native.assets[n].id]]=r.native.assets[n].data&&r.native.assets[n].data.value}t.native.clickUrl=r.native.link&&r.native.link.url,t.native.clickTrackers=r.native.link&&r.native.link.clicktrackers||[],t.native.impressionTrackers=r.native.imptrackers||[],t.native.jstracker=r.native.jstracker||[],t.width||(t.width=0),t.height||(t.height=0)}}}(c,d)}})),c.ext&&c.ext.deal_channel&&(d.dealChannel=E[c.ext.deal_channel]||null),d.meta={},c.ext&&c.ext.dspid&&(d.meta.networkId=c.ext.dspid),c.ext&&c.ext.advid&&(d.meta.buyerId=c.ext.advid),c.adomain&&c.adomain.length>0&&(d.meta.advertiserDomains=c.adomain,d.meta.clickUrl=c.adomain[0]),e.ext&&e.ext.buyid&&(d.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),r.push(d)}))})))}catch(e){Object(i.logError)(e)}return r},getUserSyncs:function(e,t,r,n){var i=""+T;return r&&(i+="&gdpr="+(r.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),n&&(i+="&us_privacy="+encodeURIComponent(n)),!0===s.b.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function(e,t,r,n){return M(e,r.bids[0],!0),Object(i.convertTypes)({publisherId:"string",adSlot:"string"},e)}};Object(a.c)(G),window.pbjs.installedModules.push("pubmaticBidAdapter")},247:function(e,t,r){"use strict";var n=r(0),i=r(203),a=r(213),o=r(204),s=r(208),c=r(205),d=r(212),u=r(218);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f={};o.b.getConfig("rubicon",(function(e){Object(i.mergeDeep)(f,e.rubicon)}));var b={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656"};Object(i._each)(b,(function(e,t){return b[e]=t}));var g={code:"rubicon",gvlid:52,supportedMediaTypes:[s.b,s.d],isBidRequestValid:function(e){if("object"!==p(e.params))return!1;for(var t=0,r=["accountId","siteId","zoneId"];t<r.length;t++)if(e.params[r[t]]=parseInt(e.params[r[t]]),isNaN(e.params[r[t]]))return Object(i.logError)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var n=j(e,!0);return!!n&&("video"!==n||function(e){var t=!0,r=Object.prototype.toString.call([]),n=Object.prototype.toString.call(0),a={mimes:r,protocols:r,linearity:n,api:r};return Object.keys(a).forEach((function(r){Object.prototype.toString.call(Object(i.deepAccess)(e,"mediaTypes.video."+r))!==a[r]&&(t=!1,Object(i.logError)("Rubicon: mediaTypes.video."+r+" is required and must be of type: "+a[r]))})),t}(e))},buildRequests:function(e,t){var r=[],n=e.filter((function(e){return"video"===j(e)})).map((function(e){var r,n;e.startTime=(new Date).getTime();var a,c={id:e.transactionId,test:o.b.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:t.timeout,imp:[{exp:o.b.getConfig("s2sConfig.defaultTtl"),id:e.adUnitCode,secure:1,ext:(r={},r[e.bidder]=e.params,r),video:Object(i.deepAccess)(e,"mediaTypes.video")||{}}],ext:{prebid:{channel:{name:"pbjs",version:pbjs.version},cache:{vastxml:{returnCreative:!0===f.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:(a=o.b,{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:a.getConfig("customPriceBucket")&&a.getConfig("customPriceBucket").buckets}[a.getConfig("priceGranularity")]})},bidders:{rubicon:{integration:f.int_type||"pbjs"}}}}};"rubicon"!==e.bidder&&(c.ext.prebid.aliases=((n={})[e.bidder]="rubicon",n));var d,b=Object(u.a)().installedModules;if(!b||b.length&&-1===b.indexOf("rubiconAnalyticsAdapter")||Object(i.deepSetValue)(c,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),"function"!=typeof e.getFloor||f.disableFloors)d=parseFloat(Object(i.deepAccess)(e,"params.floor"));else{var g=void 0;try{g=e.getFloor({currency:"USD",mediaType:"video",size:y(e,"video")})}catch(e){Object(i.logError)("Rubicon: getFloor threw an error: ",e)}d="object"!==p(g)||"USD"!==g.currency||isNaN(parseInt(g.floor))?void 0:parseFloat(g.floor)}if(isNaN(d)||(c.imp[0].bidfloor=d),c.imp[0].ext[e.bidder].video.size_id=function(e){var t=parseInt(Object(i.deepAccess)(e,"params.video.size_id"));if(!isNaN(t))return t;return"outstream"===Object(i.deepAccess)(e,"mediaTypes."+s.d+".context")?203:201}(e),function(e,t,r){if(!e)return;"object"===p(o.b.getConfig("app"))?e.app=o.b.getConfig("app"):e.site={page:m(t,r)};"object"===p(o.b.getConfig("device"))&&(e.device=o.b.getConfig("device"));t.params.video.language&&["site","device"].forEach((function(r){e[r]&&("site"===r?e[r].content=l({language:t.params.video.language},e[r].content):e[r]=l({language:t.params.video.language},e[r]))}))}(c,e,t),function(e,t){"object"===p(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip);"object"===p(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay);"object"===p(e.imp[0].video)&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));var r=y(t,"video");e.imp[0].video.w=r[0],e.imp[0].video.h=r[1]}(c,e),t.gdprConsent){var v=void 0;"boolean"==typeof t.gdprConsent.gdprApplies&&(v=t.gdprConsent.gdprApplies?1:0),Object(i.deepSetValue)(c,"regs.ext.gdpr",v),Object(i.deepSetValue)(c,"user.ext.consent",t.gdprConsent.consentString)}t.uspConsent&&Object(i.deepSetValue)(c,"regs.ext.us_privacy",t.uspConsent);var O=Object(i.deepAccess)(t,"bids.0.userIdAsEids");O&&O.length&&Object(i.deepSetValue)(c,"user.ext.eids",O);var j=o.b.getConfig("user.id");j&&Object(i.deepSetValue)(c,"user.id",j),!0===o.b.getConfig("coppa")&&Object(i.deepSetValue)(c,"regs.coppa",1),e.schain&&I(e.schain)&&Object(i.deepSetValue)(c,"source.ext.schain",e.schain);var E=o.b.getConfig("multibid");return E&&Object(i.deepSetValue)(c,"ext.prebid.multibid",E.reduce((function(e,t){var r={};return Object.keys(t).forEach((function(e){r[e.toLowerCase()]=t[e]})),e.push(r),e}),[])),h(e,s.d,c),e.storedAuctionResponse&&Object(i.deepSetValue)(c.imp[0],"ext.prebid.storedauctionresponse.id",e.storedAuctionResponse.toString()),Object(i.deepSetValue)(c.imp[0],"ext.prebid.auctiontimestamp",t.auctionStart),{method:"POST",url:"https://"+(f.videoHost||"prebid-server")+".rubiconproject.com/openrtb2/auction",data:c,bidRequest:e}}));if(!0!==f.singleRequest)r=n.concat(e.filter((function(e){return"banner"===j(e)})).map((function(e){var r=g.createSlotParams(e,t);return{method:"GET",url:"https://"+(f.bannerHost||"fastlane")+".rubiconproject.com/a/api/fastlane.json",data:g.getOrderedParams(r).reduce((function(e,t){var n=r[t];return Object(i.isStr)(n)&&""!==n||Object(i.isNumber)(n)?""+e+E(t,n)+"&":e}),"")+"slots=1&rand="+Math.random(),bidRequest:e}})));else{var a=e.filter((function(e){return"banner"===j(e)})).reduce((function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e}),{});r=n.concat(Object.keys(a).reduce((function(e,r){var n,o;return(n=a[r],o=10,n.map((function(e,t){return t%o==0?n.slice(t,t+o):null})).filter((function(e){return e}))).forEach((function(r){var n=g.combineSlotUrlParams(r.map((function(e){return g.createSlotParams(e,t)})));e.push({method:"GET",url:"https://"+(f.bannerHost||"fastlane")+".rubiconproject.com/a/api/fastlane.json",data:g.getOrderedParams(n).reduce((function(e,t){var r=n[t];return Object(i.isStr)(r)&&""!==r||Object(i.isNumber)(r)?""+e+E(t,r)+"&":e}),"")+"slots="+r.length+"&rand="+Math.random(),bidRequest:r})})),e}),[]))}return r},getOrderedParams:function(e){var t=/^tg_v/,r=/^tg_i/,n=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter((function(e){return n.test(e)}))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((function(e){return t.test(e)}))).concat(Object.keys(e).filter((function(e){return r.test(e)}))).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter((function(e){return-1===i.indexOf(e)})))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var t=e.reduce((function(t,r,n){return Object.keys(r).forEach((function(i){t.hasOwnProperty(i)||(t[i]=new Array(e.length)),t[i].splice(n,1,r[i])})),t}),{}),r=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){var n=t[e].join(";"),i=n.match(r);t[e]=i?i[1]:n})),t},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var r=e.params,a=y(e,"banner"),d=Object(n.__read)(r.latLong||[],2),u=d[0],l=d[1],b={account_id:r.accountId,site_id:r.siteId,zone_id:r.zoneId,size_id:a[0],alt_size_ids:a.slice(1).join(",")||void 0,rp_floor:(r.floor=parseFloat(r.floor))>=.01?r.floor:void 0,rp_secure:"1",tk_flint:(f.int_type||"pbjs_lite")+"_v6.15.0","x_source.tid":e.transactionId,"x_source.pchain":r.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:r.userId,"p_geo.latitude":isNaN(parseFloat(u))?void 0:parseFloat(u).toFixed(4),"p_geo.longitude":isNaN(parseFloat(l))?void 0:parseFloat(l).toFixed(4),"tg_fl.eid":e.code,rf:m(e,t)};if("function"==typeof e.getFloor&&!f.disableFloors){var v=void 0;try{v=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){Object(i.logError)("Rubicon: getFloor threw an error: ",e)}b.rp_hard_floor="object"!==p(v)||"USD"!==v.currency||isNaN(parseInt(v.floor))?void 0:v.floor}var O={1:"atf",3:"btf"}[Object(i.deepAccess)(e,"mediaTypes.banner.pos")]||"";b.p_pos="atf"===r.position||"btf"===r.position?r.position:O;var j=o.b.getConfig("user.id");return j&&(b.ppuid=j),e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if("adserver.org"===e.source?(b.tpid_tdid=e.uids[0].id,b["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(b["tpid_liveintent.com"]=e.uids[0].id,b["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(b["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?b.x_liverampidl=e.uids[0].id:"id5-sync.com"===e.source?b["eid_id5-sync.com"]=e.uids[0].id+"^"+e.uids[0].atype+"^"+(e.uids[0].ext&&e.uids[0].ext.linkType||""):b["eid_"+e.source]=e.uids[0].id+"^"+(e.uids[0].atype||""),!b.ppuid){var t=Object(c.b)(e.uids,(function(e){return e.ext&&"ppuid"===e.ext.stype}));t&&t.id&&(b.ppuid=t.id)}}catch(t){Object(i.logWarn)("Rubicon: error reading eid:",e,t)}})),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(b.gdpr=Number(t.gdprConsent.gdprApplies)),b.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(b.us_privacy=encodeURIComponent(t.uspConsent)),b.rp_maxbids=t.bidLimit||1,h(e,s.b,b),!0===o.b.getConfig("coppa")&&(b.coppa=1),e.schain&&I(e.schain)&&(b.rp_schain=g.serializeSupplyChain(e.schain)),b},serializeSupplyChain:function(e){if(!I(e))return"";var t=e.ver,r=e.complete,n=e.nodes;return t+","+r+"!"+g.serializeSupplyChainNodes(n)},serializeSupplyChainNodes:function(e){var t=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return t.map((function(t){return encodeURIComponent(e[t]||"")})).join(",")})).join("!")},interpretResponse:function(e,t){var r=t.bidRequest;if(!(e=e.body)||"object"!==p(e))return[];if(e.seatbid){var a=Object(i.deepAccess)(e,"ext.errors.rubicon");Array.isArray(a)&&a.length>0&&Object(i.logWarn)("Rubicon: Error in video response");var o=[];return e.seatbid.forEach((function(t){(t.bid||[]).forEach((function(n){var a={requestId:r.bidId,currency:e.cur||"USD",creativeId:n.crid,cpm:n.price||0,bidderCode:t.seat,ttl:300,netRevenue:!1!==f.netRevenue,width:n.w||Object(i.deepAccess)(r,"mediaTypes.video.w")||Object(i.deepAccess)(r,"params.video.playerWidth"),height:n.h||Object(i.deepAccess)(r,"mediaTypes.video.h")||Object(i.deepAccess)(r,"params.video.playerHeight")};n.id&&(a.seatBidId=n.id),n.dealid&&(a.dealId=n.dealid),n.adomain&&Object(i.deepSetValue)(a,"meta.advertiserDomains",Array.isArray(n.adomain)?n.adomain:[n.adomain]),Object(i.deepAccess)(n,"ext.bidder.rp.advid")&&Object(i.deepSetValue)(a,"meta.advertiserId",n.ext.bidder.rp.advid);var c=Object(i.deepAccess)(e,"ext.responsetimemillis.rubicon");if(r&&c&&(r.serverResponseTimeMs=c),Object(i.deepAccess)(n,"ext.prebid.type")===s.d){a.mediaType=s.d,Object(i.deepSetValue)(a,"meta.mediaType",s.d);var u=Object(i.deepAccess)(n,"ext.prebid.targeting");u&&"object"===p(u)&&(a.adserverTargeting=u),n.ext.prebid.cache&&"object"===p(n.ext.prebid.cache.vastXml)&&n.ext.prebid.cache.vastXml.cacheId&&n.ext.prebid.cache.vastXml.url?(a.videoCacheKey=n.ext.prebid.cache.vastXml.cacheId,a.vastUrl=n.ext.prebid.cache.vastXml.url):u&&u.hb_uuid&&u.hb_cache_host&&u.hb_cache_path&&(a.videoCacheKey=u.hb_uuid,a.vastUrl="https://"+u.hb_cache_host+u.hb_cache_path+"?uuid="+u.hb_uuid),n.adm&&(a.vastXml=n.adm),n.nurl&&(a.vastUrl=n.nurl),!a.vastUrl&&n.nurl&&(a.vastUrl=n.nurl),"outstream"===Object(i.deepAccess)(r,"mediaTypes.video.context").toLowerCase()&&(a.renderer=function(e){var t=d.a.install({id:e.adId,url:f.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.2.1.js",config:f.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(v)}catch(e){Object(i.logWarn)("Prebid Error calling setRender on renderer",e)}return t}(a))}else Object(i.logWarn)("Rubicon: video response received non-video media type");o.push(a)}))})),o}var c,u=e.ads,l=0;return"object"!==p(r)||Array.isArray(r)||"video"!==j(r)||"object"!==p(u)||(u=u[r.adUnitCode]),!Array.isArray(u)||u.length<1?[]:u.reduce((function(t,a,o){var d;if(a.impression_id&&c===a.impression_id?l++:c=a.impression_id,"ok"!==a.status)return t;var u,g=Array.isArray(r)?r[o-l]:r;if(g&&"object"===p(g)){var m={requestId:g.bidId,currency:"USD",creativeId:a.creative_id||(a.network||"")+"-"+(a.advertiser||""),cpm:a.cpm||0,dealId:a.deal,ttl:300,netRevenue:!1!==f.netRevenue,rubicon:{advertiserId:a.advertiser,networkId:a.network},meta:{advertiserId:a.advertiser,networkId:a.network,mediaType:s.b}};a.creative_type&&(m.mediaType=a.creative_type),a.adomain&&(m.meta.advertiserDomains=Array.isArray(a.adomain)?a.adomain:[a.adomain]),a.creative_type===s.d?(m.width=g.params.video.playerWidth,m.height=g.params.video.playerHeight,m.vastUrl=a.creative_depot_url,m.impression_id=a.impression_id,m.videoCacheKey=a.impression_id):(m.ad=(u=a.script,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='"+a.impression_id+"'>\n<script type='text/javascript'>"+u+"<\/script>\n</div>\n</body>\n</html>"),d=Object(n.__read)(b[a.size_id].split("x").map((function(e){return Number(e)})),2),m.width=d[0],m.height=d[1]),m.rubiconTargeting=(Array.isArray(a.targeting)?a.targeting:[]).reduce((function(e,t){return e[t.key]=t.values[0],e}),{rpfl_elemid:g.adUnitCode}),t.push(m)}else Object(i.logError)("Rubicon: bidRequest undefined at index position:"+o,r,e);return t}),[]).sort((function(e,t){return(t.cpm||0)-(e.cpm||0)}))},getUserSyncs:function(e,t,r,n){if(!A&&e.iframeEnabled){var a={};return r&&("boolean"==typeof r.gdprApplies&&(a.gdpr=Number(r.gdprApplies)),"string"==typeof r.consentString&&(a.gdpr_consent=r.consentString)),n&&(a.us_privacy=encodeURIComponent(n)),a=Object.keys(a).length?"?"+Object(i.formatQS)(a):"",A=!0,{type:"iframe",url:"https://"+(f.syncHost||"eus")+".rubiconproject.com/usync.html"+a}}},transformBidParams:function(e,t){return Object(i.convertTypes)({accountId:"number",siteId:"number",zoneId:"number"},e)}};function m(e,t){var r=o.b.getConfig("pageUrl");return e.params.referrer?r=e.params.referrer:r||(r=t.refererInfo.referer),e.params.secure?r.replace(/^http:/i,"https:"):r}function v(e){var t,r=document.getElementById(e.adUnitCode);(t=r.querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),function(e){var t=e.querySelector("script[id^='sas_script']"),r=t&&t.nextSibling;r&&"iframe"===r.localName&&r.style.setProperty("display","none")}(r);var n=e.renderer.getConfig();e.renderer.push((function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:r,align:n.align||"center",position:n.position||"append"},closeButton:n.closeButton||!1,label:n.label||void 0,collapse:n.collapse||!0})}))}function y(e,t){var r=e.params;if("video"===t){var n=[];return r.video&&r.video.playerWidth&&r.video.playerHeight?n=[r.video.playerWidth,r.video.playerHeight]:Array.isArray(Object(i.deepAccess)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?n=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(n=e.sizes[0]),n}var a=[];return Array.isArray(r.sizes)?a=r.sizes:void 0!==Object(i.deepAccess)(e,"mediaTypes.banner.sizes")?a=O(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?a=O(e.sizes):Object(i.logWarn)("Rubicon: no sizes are setup or found"),function(e){var t=[15,2,9];return e.sort((function(e,r){var n=t.indexOf(e),i=t.indexOf(r);return n>-1||i>-1?-1===n?1:-1===i?-1:n-i:e-r}))}(a)}function h(e,t,r){var a={user:{ext:{data:Object(n.__assign)({},e.params.visitor)}},site:{ext:{data:Object(n.__assign)({},e.params.inventory)}}};e.params.keywords&&(a.site.keywords=Object(i.isArray)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var c=Object(i.mergeDeep)({},o.b.getConfig("ortb2")||{},a),d=Object(i.deepAccess)(e.ortb2Imp,"ext.data")||{},u=Object(i.deepAccess)(e,"ortb2Imp.ext.gpid"),l={user:[4],site:[1,2,5,6]},f={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},b=function(e,t,n,a){void 0===a&&(a=!0);var o=function(e,t,r){if("data"===t&&Array.isArray(e))return e.filter((function(e){return e.segment&&Object(i.deepAccess)(e,"ext.segtax")&&l[r]&&-1!==l[r].indexOf(Object(i.deepAccess)(e,"ext.segtax"))})).map((function(e){var t=e.segment.filter((function(e){return e.id})).reduce((function(e,t){return e.push(t.id),e}),[]);if(t.length>0)return t.toString()})).toString();if("object"!==p(e)||Array.isArray(e)){if(void 0!==e)return Array.isArray(e)?e.filter((function(e){if("object"!==p(e)&&void 0!==e)return e.toString();Object(i.logWarn)("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString()}else Object(i.logWarn)("Rubicon: Filtered FPD key: ",t,": Expected value to be string, integer, or an array of strings/ints")}(e,n,t),s=f[n]&&a?""+f[n]:"data"===n?f[t]+"iab":""+f[t]+n;r[s]=r[s]?r[s].concat(",",o):o};t===s.b?(["site","user"].forEach((function(e){Object.keys(c[e]).forEach((function(t){"site"===e&&"content"===t&&c[e][t].data?b(c[e][t].data,e,"data"):"ext"!==t?b(c[e][t],e,t):c[e][t].data&&Object.keys(c[e].ext.data).forEach((function(t){b(c[e].ext.data[t],e,t,!1)}))}))})),Object.keys(d).forEach((function(e){"adserver"!==e?b(d[e],"site",e):"gam"===d[e].name&&b(d[e].adslot,name,e)})),u&&(r.p_gpid=u),r["tg_i.pbadslot"]&&delete r["tg_i.dfp_ad_unit_code"]):(Object.keys(d).length&&Object(i.mergeDeep)(r.imp[0].ext,{data:d}),u&&(r.imp[0].ext.gpid=u),Object(i.mergeDeep)(r,c))}function O(e){return Object(i.parseSizesInput)(e).reduce((function(e,t){var r=parseInt(b[t],10);return r&&e.push(r),e}),[])}function j(e,t){return void 0===t&&(t=!1),r=e,"object"===p(Object(i.deepAccess)(r,"params.video"))&&void 0!==Object(i.deepAccess)(r,"mediaTypes."+s.d)?-1===["outstream","instream"].indexOf(Object(i.deepAccess)(e,"mediaTypes."+s.d+".context"))?void(t&&Object(i.logError)("Rubicon: mediaTypes.video.context must be outstream or instream")):y(e,"video").length<2?void(t&&Object(i.logError)("Rubicon: could not determine the playerSize of the video")):(t&&Object(i.logMessage)("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===y(e,"banner").length?void(t&&Object(i.logError)("Rubicon: could not determine the sizes for banner request")):(t&&Object(i.logMessage)("Rubicon: making banner request for adUnit",e.adUnitCode),"banner");var r}function I(e){var t=!1,r=["asi","sid","hp"];return e.nodes?((t=e.nodes.reduce((function(e,t){return e?r.every((function(e){return t.hasOwnProperty(e)})):e}),!0))||Object(i.logError)("Rubicon: required schain params missing"),t):t}function E(e,t){return"rp_schain"===e?"rp_schain="+t:e+"="+encodeURIComponent(t)}var A=!1;Object(a.c)(g),window.pbjs.installedModules.push("rubiconBidAdapter")},248:function(e,t,r){"use strict";var n=r(0),i=r(203),a=r(208),o=r(213),s=r(204);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=!0,l=null,p={gvlid:28,code:"triplelift",supportedMediaTypes:[a.b,a.d],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var r="https://tlx.3lift.com/header/auction?",a=function(e){var t={},r=e[0].schain,a=function(){var e={},t={},r={},n=s.b.getLegacyFpd(s.b.getConfig("ortb2"))||{},a=c({},n.context),o=c({},n.user);g(t,a),g(r,o),Object(i.isEmpty)(t)||(e.context=t);Object(i.isEmpty)(r)||(e.user=r);return e}();t.imp=e.map((function(e,t){var r,a,o={id:t,tagid:e.params.inventoryCode,floor:b(e)};return f(e)?o.video=function(e){var t=Object(n.__assign)(Object(n.__assign)({},e.params.video),e.mediaTypes.video);t.w||(t.w=t.playerSize[0][0]);t.h||(t.h=t.playerSize[0][1]);"instream"===t.context&&(t.placement=1);return delete t.playerSize,t}(e):e.mediaTypes.banner&&(o.banner={format:(r=e.sizes,a=r.filter(y),a.map((function(e){return{w:e[0],h:e[1]}})))}),Object(i.isEmpty)(e.ortb2Imp)||(o.fpd=function(e){var t={},r={};g(r,e.ext),Object(i.isEmpty)(r)||(t.context=r);return t}(e.ortb2Imp)),o}));var o=Object(n.__spreadArray)(Object(n.__spreadArray)(Object(n.__spreadArray)(Object(n.__spreadArray)([],Object(n.__read)((d=[e[0]],m(d,"tdid","adserver.org","TDID")))),Object(n.__read)(function(e){return m(e,"idl_env","liveramp.com","idl")}([e[0]]))),Object(n.__read)(function(e){return m(e,"criteoId","criteo.com","criteoId")}([e[0]]))),Object(n.__read)(function(e){return m(e,"pubcid","pubcid.org","pubcid")}([e[0]])));var d;o.length>0&&(t.user={ext:{eids:o}});var u=function(e,t){var r={};Object(i.isEmpty)(e)||(r.schain=Object(n.__assign)({},e));Object(i.isEmpty)(t)||(r.fpd=Object(n.__assign)({},t));return r}(r,a);Object(i.isEmpty)(u)||(t.ext=u);return t}(e);if(r=Object(i.tryAppendQueryString)(r,"lib","prebid"),r=Object(i.tryAppendQueryString)(r,"v","6.15.0"),t&&t.refererInfo){var o=t.refererInfo.referer;r=Object(i.tryAppendQueryString)(r,"referrer",o)}return t&&t.timeout&&(r=Object(i.tryAppendQueryString)(r,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(u=t.gdprConsent.gdprApplies,r=Object(i.tryAppendQueryString)(r,"gdpr",u.toString())),void 0!==t.gdprConsent.consentString&&(l=t.gdprConsent.consentString,r=Object(i.tryAppendQueryString)(r,"cmp_cs",l))),t&&t.uspConsent&&(r=Object(i.tryAppendQueryString)(r,"us_privacy",t.uspConsent)),!0===s.b.getConfig("coppa")&&(r=Object(i.tryAppendQueryString)(r,"coppa",!0)),r.lastIndexOf("&")===r.length-1&&(r=r.substring(0,r.length-1)),Object(i.logMessage)("tlCall request built: "+r),{method:"POST",url:r,data:a,bidderRequest:t}},interpretResponse:function(e,t){var r=t.bidderRequest;return(e.body.bids||[]).map((function(){}