/*! For license information please see prebid-core.js.LICENSE.txt */
!function(){var e,t={4877:function(e,t,n){"use strict";n.d(t,{Pd:function(){return u},Th:function(){return c},_U:function(){return d}});var r=n(6996),i=n(9853),o=n(265),a=n(1879),s="outstream";function c(e){var t=this,n=e.url,o=e.config,a=e.id,c=e.callback,u=e.loaded,d=e.adUnitCode;this.url=n,this.config=o,this.handlers={},this.id=a,this.loaded=u,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):(0,i.logError)("Commands given to Renderer.push must be wrapped in a function")},this.callback=c||function(){t.loaded=!0,t.process()},this.render=function(){var e=this,t=arguments,o=function(){e._render?e._render.apply(e,t):(0,i.logWarn)("No render function was provided, please use .setRender on the renderer")};l(d)?((0,i.logWarn)("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(d)),o()):(this.cmd.unshift(o),(0,r.B)(n,s,this.callback,this.documentContext))}.bind(this)}function u(e){return!(!e||!e.url)}function d(e,t,n){var r=null;e.config&&e.config.documentResolver&&(r=e.config.documentResolver(t,document,n)),r||(r=document),e.documentContext=r,e.render(t,e.documentContext)}function l(e){var t=pbjs.adUnits,n=(0,a.sE)(t,(function(t){return t.code===e}));if(!n)return!1;var r=(0,o.Z)(n,"renderer"),i=!!(r&&r.url&&r.render),s=(0,o.Z)(n,"mediaTypes.video.renderer"),c=!!(s&&s.url&&s.render);return!!(i&&!0!==r.backupOnly||c&&!0!==s.backupOnly)}c.install=function(e){return new c({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},c.prototype.getConfig=function(){return this.config},c.prototype.setRender=function(e){this._render=e},c.prototype.setEventHandlers=function(e){this.handlers=e},c.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),(0,i.logMessage)("Prebid Renderer event for id ".concat(t," type ").concat(n))},c.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){(0,i.logError)("Error processing Renderer command: ",e)}}},7263:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(265),i={};function o(e,t,n){var r=function(e,t){var n=i[e]=i[e]||{bidders:{}};return t?n.bidders[t]=n.bidders[t]||{}:n}(e,n);return r[t]=(r[t]||0)+1,r[t]}var a={incrementRequestsCounter:function(e){return o(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return o(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return o(e,"winsCounter",t)},getRequestsCounter:function(e){return(0,r.Z)(i,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return(0,r.Z)(i,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return(0,r.Z)(i,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}}},2801:function(e,t,n){"use strict";function r(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}n.d(t,{Z:function(){return r}})},7602:function(e,t,n){"use strict";n.d(t,{qJ:function(){return F},VP:function(){return Q},ZP:function(){return re},JO:function(){return Y},rp:function(){return J},uV:function(){return ee},Ct:function(){return te},nX:function(){return X}});var r=n(9853),i=n(265),o=n(1269),a=n(9017),s=n(1609),c=n(5755),u=n(8962),d=n(3494),l=n(1879),f=n(7263),p=n(2661);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function S(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,A(e,t,"get"))}function C(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,A(e,t,"set"),n),n}function A(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var w=new WeakMap,O=new WeakMap,D=new WeakMap,R=new WeakMap,B=new WeakMap,k=function(){function e(){var t,n;_(this,e),T(this,w,{writable:!0,value:void 0}),T(this,O,{writable:!0,value:void 0}),T(this,D,{writable:!0,value:void 0}),T(this,R,{writable:!0,value:void 0}),T(this,B,{writable:!0,value:void 0}),n=void 0,(t="generatedTime")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.reset()}return I(e,[{key:"reset",value:function(){var e=this;C(this,D,new Promise((function(t){C(e,R,(function(n){C(e,B,!0),C(e,O,n),t(n)}))}))),C(this,w,!1),C(this,O,null),C(this,B,!1),this.generatedTime=null}},{key:"enable",value:function(){C(this,w,!0)}},{key:"enabled",get:function(){return S(this,w)}},{key:"ready",get:function(){return S(this,B)}},{key:"promise",get:function(){return S(this,B)?Promise.resolve(S(this,O)):(S(this,w)||S(this,R).call(this,null),S(this,D))}},{key:"setConsentData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,r.timestamp)();this.generatedTime=t,S(this,R).call(this,e)}},{key:"getConsentData",value:function(){return S(this,O)}}]),e}(),P=function(e){v(n,e);var t=h(n);function n(){return _(this,n),t.apply(this,arguments)}return I(n,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}}]),n}(k),U=function(e){v(n,e);var t=h(n);function n(){return _(this,n),t.apply(this,arguments)}return I(n,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:(0,r.isStr)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}}]),n}(k);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}var F={CLIENT:"client",SERVER:"server"},W=n(5644),z=n(2319),L={},G=L.bidderRegistry={},K=L.aliasRegistry={},V=[];u.vc.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(V=(0,r.isArray)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var Z={},H=(0,d.z3)("sync",(function(e){var t=e.bidderCode,n=e.auctionId,o=e.bidderRequestId,a=e.adUnits,s=e.src;return a.reduce((function(e,a){return e.push(a.bids.filter((function(e){return e.bidder===t})).reduce((function(e,t){var c=null==(t=q({},t,(0,r.getDefinedParams)(a,["nativeParams","ortb2Imp","mediaType","renderer","storedAuctionResponse"]))).mediaTypes?a.mediaTypes:t.mediaTypes;return(0,r.isValidMediaTypes)(c)?t=q({},t,{mediaTypes:c}):(0,r.logError)("mediaTypes is not correctly configured for adunit ".concat(a.code)),e.push(q({},t,{adUnitCode:a.code,transactionId:a.transactionId,sizes:(0,i.Z)(c,"banner.sizes")||(0,i.Z)(c,"video.playerSize")||[],bidId:t.bid_id||(0,r.getUniqueIdentifierStr)(),bidderRequestId:o,auctionId:n,src:s,bidRequestsCount:f.f.getRequestsCounter(a.code),bidderRequestsCount:f.f.getBidderRequestsCounter(a.code,t.bidder),bidderWinsCount:f.f.getBidderWinsCounter(a.code,t.bidder)})),e}),[])),e}),[]).reduce(r.flatten,[]).filter((function(e){return""!==e}))}),"getBids"),Y=(0,d.z3)("sync",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getS2SBidders,i=void 0===r?ee:r;if(null==t)return e;var o=i(t);return e.filter((function(e){return o.has(e.bidder)}))}),"filterBidsForAdUnit"),J=new U,X=new P,Q={getCoppa:function(){return!!u.vc.getConfig("coppa")}},$=(0,d.z3)("sync",(function(e,t){return(0,o.UB)(e,t)}),"setupAdUnitMediaTypes");function ee(e){(0,r.isArray)(e)||(e=[e]);var t=new Set([null]);return e.filter((function(e){return e&&e.enabled})).flatMap((function(e){return e.bidders})).forEach((function(e){return t.add(e)})),t}var te=(0,d.z3)("sync",(function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.getS2SBidders,a=void 0===o?ee:o,s=a(t);return(0,r.getBidderCodes)(e).reduce((function(e,t){return e[s.has(t)?F.SERVER:F.CLIENT].push(t),e}),(M(n={},F.CLIENT,[]),M(n,F.SERVER,[]),n))}),"partitionBidders");function ne(e,t,n){try{var i=G[e].getSpec();i&&i[t]&&"function"==typeof i[t]&&((0,r.logInfo)("Invoking ".concat(e,".").concat(t)),u.vc.runWithBidder(e,r.bind.call(i[t],i,n)))}catch(n){(0,r.logWarn)("Error calling ".concat(t," of ").concat(e))}}L.makeBidRequests=(0,d.z3)("sync",(function(e,t,n,i,o){z.emit(W.EVENTS.BEFORE_REQUEST_BIDS,e),(0,a.Fb)(e),e=$(e,o);var s=te(e,V),c=s[F.CLIENT],d=s[F.SERVER];u.vc.getConfig("bidderSequence")===u.FD&&(c=(0,r.shuffle)(c));var f=(0,p.n)(),g=[];V.forEach((function(i){if(i&&i.enabled){var o=function(e,t){var n=(0,r.deepClone)(e);return n.forEach((function(e){e.bids=Y(e.bids,t).map((function(e){return e.bid_id=(0,r.getUniqueIdentifierStr)(),e}))})),n.filter((function(e){return 0!==e.bids.length}))}(e,i),a=(0,r.generateUUID)();d.forEach((function(e){var s=(0,r.getUniqueIdentifierStr)(),c={bidderCode:e,auctionId:n,bidderRequestId:s,uniquePbsTid:a,bids:H({bidderCode:e,auctionId:n,bidderRequestId:s,adUnits:(0,r.deepClone)(o),src:W.S2S.SRC}),auctionStart:t,timeout:i.timeout,src:W.S2S.SRC,refererInfo:f};0!==c.bids.length&&g.push(c)})),o.forEach((function(e){var t=e.bids.filter((function(e){return(0,l.sE)(g,(function(t){return(0,l.sE)(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),g.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=o.filter((function(e){return e.bids.length>0})))}))}}));var v=function(e){var t=(0,r.deepClone)(e);return t.forEach((function(e){e.bids=Y(e.bids,null)})),t.filter((function(e){return 0!==e.bids.length}))}(e);return c.forEach((function(e){var a=(0,r.getUniqueIdentifierStr)(),s={bidderCode:e,auctionId:n,bidderRequestId:a,bids:H({bidderCode:e,auctionId:n,bidderRequestId:a,adUnits:(0,r.deepClone)(v),labels:o,src:"client"}),auctionStart:t,timeout:i,refererInfo:f},c=G[e];c||(0,r.logError)("Trying to make a request for bidder that does not exist: ".concat(e)),c&&s.bids&&0!==s.bids.length&&g.push(s)})),J.getConsentData()&&g.forEach((function(e){e.gdprConsent=J.getConsentData()})),X.getConsentData()&&g.forEach((function(e){e.uspConsent=X.getConsentData()})),g}),"makeBidRequests"),L.callBids=function(){}