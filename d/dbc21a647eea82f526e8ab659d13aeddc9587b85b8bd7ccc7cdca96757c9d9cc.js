(self.webpackChunk=self.webpackChunk||[]).push([["PostLoad"],{"./js/handlers/PostLoad.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s("../node_modules/react/index.js"),n=s("../node_modules/react-redux/es/index.js"),o=s("../node_modules/lodash/isEmpty.js"),a=s.n(o),l=s("../node_modules/lodash/isArray.js"),i=s.n(l),c=s("../node_modules/lodash/sample.js"),d=s.n(c),u=s("../node_modules/lodash/get.js"),m=s.n(u),p=s("../node_modules/lodash/shuffle.js"),h=s.n(p),g=s("./js/constants/index.js"),f=s("./js/actions/index.js"),A=s("./js/selectors/index.js"),y=s("./js/utils/index.js"),v=s("./js/utils/loadScript.js");const b=()=>{Array.from(document.querySelectorAll(".tablesaw")).forEach((e=>{e.querySelector("tr");const t=Array.from(e.querySelectorAll("th")).map((e=>e.getAttribute("data-label")||e.innerHTML));Array.from(e.querySelectorAll("td")).forEach(((e,s)=>{const r=t[s%t.length];e.setAttribute("data-label",r?""+r:"")}))}))},_=(e=[".sponsors",".advertisement",".js-ads",".col--article__grid--ad",".advertisement-container",".sponsor__homepage",".article--grid__sponsors"])=>e.forEach((e=>{[].forEach.call(document.querySelectorAll(e),(e=>!e.classList.contains("sponsors__native")&&!e.classList.contains("sponsors__video")&&e.classList.add("hidden")))})),j=(e,t)=>{let s=0;e=(e=>[...e,{html:'\n      <a href="/contact/">\n        <picture>\n          <source srcset="/images/banners/smashing-friskies-300x250.png" media="(max-width: 600px)">\n          <img\n            srcset="/images/banners/smashing-friskies-'+(1===e.length?"900x200":"300x250")+'.svg"\n            alt="Advertise with Smashing Magazine"\n            loading="lazy"\n            decoding="async"\n            fetchpriority="low"\n            '+(1===e.length?'width="850"':'width="325"')+'"\n          />\n        </picture>\n      </a>\n    '}])(h()(e)),(()=>{const e=[".sponsors-leaderboard",".sponsors__lead"],t=document.querySelector(".article__content .c-garfield-the-cat");if(t){const s=t.querySelectorAll(".article__content .c-garfield-the-cat > p");e.forEach((e=>{const r=document.querySelectorAll(e),n=t.querySelectorAll(e+"-place");[].forEach.call(r,((e,r)=>{const o=m()(n,r);if(o)t.insertBefore(e,o),o.remove();else{let n=!1;[].forEach.call(s,((s,o)=>{!n&&o>15+10*r&&(t.insertBefore(e,s),n=!0)})),n||e.remove()}}))}))}})(),(e=>{const t=document.createElement("style");t.type="text/css",e.forEach((e=>{if(!e.backgroundColor||!e.textColor)return!1;const s="linear-gradient(-30deg, "+e.backgroundColor+"E5, "+e.backgroundColor+"E5 45%, "+e.backgroundColor+" 45%) #fff";t.innerHTML+="\n      .sponsors-"+e.external_id+" {\n        background: "+(e.background||s)+";\n      }\n\n      .sponsors-"+e.external_id+" .sponsors--title,\n      .sponsors-"+e.external_id+" .sponsors--text {\n        color: "+e.textColor+" !important;\n      }\n\n      .sponsors-"+e.external_id+" .sponsors--title:hover,\n      .sponsors-"+e.external_id+" .sponsors--text:hover {\n        color: "+e.textColorHover+" !important;\n      }\n\n      .sponsors-"+e.external_id+" .sponsors--cta {\n        color: "+e.ctaTextColor+" !important;\n        background-color: "+e.ctaBackgroundColor+" !important;\n      }\n\n      .sponsors-"+e.external_id+" .sponsors--cta:hover {\n        color: "+e.ctaTextColorHover+" !important;\n        background-color: "+e.ctaBackgroundHoverColor+" !important;\n      }\n    "})),document.body.appendChild(t)})(e),[].forEach.call(document.querySelectorAll(".sponsors"),(r=>{if(r.getAttribute("data-rendered"))return!1;const n=r.getAttribute("data-amount")?1*r.getAttribute("data-amount"):g.Z.ADS_PER_AREA,o=e.slice(s,s+n);if(s+=n,!o.length)return!1;let a="<ul>";o.forEach((e=>{if((e=(e=>{const t=["link","image"].filter((t=>i()(e[t])))[0]||"link",s=d()((i()(e[t])?e[t]:[e[t]]).map(((e,t)=>t)));return Object.keys(e).forEach((t=>{e[t]=i()(e[t])?e[t]:[e[t]],e[t]=e[t][s]||d()(e[t])})),e})(e)).html)return a+=e.html,!0;const s='\n        <img\n          src="'+e.image+'"\n          alt="'+(e.alt||e.title)+'"\n          '+(parseInt(e.width)?'width="'+e.width+'"':"")+"\n          "+(parseInt(e.height)?'height="'+e.height+'"':"")+"\n        />\n      ";a+='\n        <li class="sponsors-'+e.external_id+" "+(e.className||"")+'">\n          <a href="'+e.link+'">\n            <div class="sponsors--image-wrapper" data-title="'+e.title+'">\n              '+(e.image_avif?'<picture>\n                  <source type="image/avif" srcset="'+e.image_avif+'" />\n                  '+s+"\n                </picture>":s)+'\n            </div>\n            <div class="sponsors--content-wrapper">\n              <div class="sponsors--title">'+e.company+'</div>\n              <div class="sponsors--text" data-title="'+e.title+'">'+e.description+'</div>\n            </div>\n            <span class="sponsors--cta">'+e.callToAction+"</span>\n          </a>\n          "+((e,t,s)=>{let r="";return e&&e.split("||").forEach((e=>{r+='<img class="pixel" src="'+e.replace("[timestamp]",t||(new Date).getTime()/1e3).replace("${GDPR}",s?2:1)+'" style="display:none;" height="0" width="0" />'})),r})(e.pixel,e.timestamp,t)+"\n        </li>\n      "})),a+="</ul>",r.innerHTML=a,r.classList.remove("hidden"),r.setAttribute("data-rendered","true")})),[].forEach.call(document.querySelectorAll(".sponsors a"),(e=>e.addEventListener("click",(t=>!t.preventDefault()&&window.location.assign(e.getAttribute("href")))))),["#sponsors-article-end"].map((e=>document.querySelectorAll(e))).forEach((e=>Array.from(e).forEach((e=>!e.hasChildNodes()&&e.remove())))),document.querySelector("#sponsors-article-end")||document.querySelector("#promo-article-end")&&document.querySelector("#promo-article-end").classList.remove("hidden")};class E extends r.Component{constructor(...e){super(...e),this.state={initedAds:!1},this.render=()=>null}componentDidMount(){const{fetchAds:e,setAdBlocked:t}=this.props;document.querySelectorAll(".sponsors").length&&e(),(e=>{const t=document.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox",document.body.appendChild(t),window.setTimeout((()=>{0===t.offsetHeight&&e&&e(!0),t.remove()}),100)})((()=>{[].forEach.call(document.querySelectorAll(".noads"),(e=>e.classList.remove("hidden"))),t()})),PAGE_TYPE&&"articles"===PAGE_TYPE&&Array.from(document.querySelectorAll("h2,h3,h4,h5")).forEach((e=>{e.getAttribute("id")&&(e.innerHTML=e.innerHTML+'&nbsp;<a class="anchor" href="#'+e.getAttribute("id")+'">#</a>')})),(0,y.t7)(),Array.from(document.querySelectorAll(".codepen")).length&&(0,v.Z)("/js/codepen.js"),Array.from(document.querySelectorAll('[class^="language-"]')).length&&(0,v.Z)("/js/prism.js"),Array.from(document.querySelectorAll("lite-youtube")).length&&(0,v.Z)("/js/lite-youtube.js"),Array.from(document.querySelectorAll("lite-vimeo")).length&&(0,v.Z)("/js/lite-vimeo.js"),b();const s=document.querySelector(".auth-modal-wrapper.auth-modal-wrapper--tilted");s&&s.addEventListener("click",(()=>s.classList.add("hover")))}static getDerivedStateFromProps(e,t){const{articleAds:s,sidebarAds:r,loaded:n,hide:o,doTracking:l}=e;let{initedAds:i}=t;if(o)_(),localStorage.removeItem("no_sw");else if(n)return i||(((e,t)=>{if(!t)return!1;const s=document.querySelectorAll(".sponsors.sponsors__native .dot");Array.from(s).forEach((e=>{if(e.src)return!1;e.src=e.getAttribute("data-dot").replace("[timestamp]",(new Date).getTime()/1e3),e.removeAttribute("data-dot")}))})(0,l),j(s,l),i=!0),n&&a()(s)&&_(),{initedAds:i};return t}}const x=(0,n.$j)((e=>({ads:m()(e,"ad.items")||[],articleAds:(0,A.yx)(e),sidebarAds:(0,A.Nq)(e),loaded:m()(e,"ad.loaded"),blocked:m()(e,"ad.blocked"),hide:m()(e,"ad.hide"),doTracking:m()(e,"privacy.accepted")})),(e=>({setAdBlocked:()=>e((0,f.PL)()),fetchAds:()=>e((0,f.Tt)())})))(E)},"./js/selectors/index.js":