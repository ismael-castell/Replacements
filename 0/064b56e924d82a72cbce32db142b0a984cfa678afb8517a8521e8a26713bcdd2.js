(window.webpackJsonp=window.webpackJsonp||[]).push([[1084],{325:function(e,t,n){e.exports=function(){"use strict";var e,t;function n(t){this.name="__st"+(1e9*Math.random()>>>0)+e+"__",null==t||t.forEach(this.add,this),e+=1}Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,value:function(e){if(null===this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],o=0;o<n;){var r=t[o];if(e.call(i,r,o,t))return r;o+=1}}}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){return this.substring(t=!t||t<0?0:+t,t+e.length)===e}}),window.WeakSet||(e=Date.now()%1e9,n.prototype.add=function(e){var t=this.name;return e[t]||Object.defineProperty(e,t,{value:!0,writable:!0}),this},n.prototype.delete=function(e){return!!e[this.name]&&!(e[this.name]=void 0)},n.prototype.has=function(e){return!!e[this.name]},t=n,Object.defineProperty(window,"WeakSet",{value:function(e){return new t(e)}})),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++)if(null!=(i=arguments[n]))for(var i=Object(i),o=Object.keys(Object(i)),r=0,s=o.length;r<s;r++){var a=o[r],c=Object.getOwnPropertyDescriptor(i,a);null!=c&&c.enumerable&&(t[a]=i[a])}return t}});var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}function c(e){try{return encodeURIComponent(decodeURIComponent(e))}catch(t){return e}}var l,g=(d.prototype.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n].callback===t)return n;return-1},d.prototype.on=function(e,t,n){if(void 0===n&&(n=0),this){var i=this.eventsList[e];return i||(this.eventsList[e]=[],i=this.eventsList[e]),-1!==this.indexOf(i,t)||i.push({name:e,type:n||0,callback:t}),this}},d.prototype.one=function(e,t){this.on(e,t,1)},d.prototype.remove=function(e,t){if(this){var n=this.eventsList[e];if(!n)return null;if(t)return n.length&&(t=this.indexOf(n,t),n.splice(t,1)),this;try{delete this.eventsList[e]}catch(e){}return null}},d.prototype.clear=function(){this.eventsList={}},d),f=function(e){return(e=Array.isArray(e)?e:[e]).map((function(e,t){return Object.getOwnPropertyNames(e).map((function(n){return c(n)+"["+t+"]="+(void 0===e[n]?"":c(e[n]))})).join("&")})).join("&")+(e.length?"&count="+e.length:"")};function d(){var s=this;this.emit=function(e,t){if(s){var n;if(null!=(i=s.eventsList[e])&&i.length)for(var i=i.slice(),o=0;o<i.length;o++){n=i[o];try{var r=n.callback.apply(s,[t]);if(1===n.type&&s.remove(e,n.callback),!1===r)break}catch(e){throw e}}return s}},this.eventsList={}}function s(e,t){return"number"==typeof e||"string"==typeof e?e:t?l.string:l.number}function h(e,t){return"string"==typeof e?e.split("?")[t?1:0]||"":e}function v(e){return"string"==typeof e&&e.startsWith("//")?"undefined"!=typeof location&&"https:"===location.protocol:/^https/.test(e)}function m(e){return a.some((function(t){return-1!==e.indexOf(t)}))}function y(e,t,n){var i;try{if("function"==typeof(null==t?void 0:t.retCodeHandler)){var o=t.retCodeHandler(e,null==n?void 0:n.url,null==n?void 0:n.ctx)||{};return{code:void 0===(r=o.code)?"unknown":r,isErr:o.isErr}}"string"==typeof e&&(e=JSON.parse(e)),"function"==typeof(null===(i=null==t?void 0:t.ret)||void 0===i?void 0:i.join)&&(O=[].concat(t.ret.map((function(e){return e.toLowerCase()}))));var r,s=Object.getOwnPropertyNames(e).filter((function(e){return-1!==O.indexOf(e.toLowerCase())}));return s.length?{code:""+(r=Number(e[s[0]])),isErr:0!==r}:{code:"unknown",isErr:!1}}catch(e){return{code:"unknown",isErr:!1}}}function w(e,s){void 0===s&&(s=3);var t,a,n,u="";return Array.isArray(e)?(u+="[",t=e.length,e.forEach((function(e,n){var o,i;u+="object"==typeof e&&1<s?w(e,s-1):(i="",i+="undefined"==(e=typeof(o=e))||"symbol"==e||"function"==e?"null":"string"==e||"object"==e?'"'+o+'"':o),u+=n===t-1?"":","})),u+="]"):e instanceof Object?(u="{",a=Object.keys(e),n=a.length,a.forEach((function(t,o){var r,i,c;"object"==typeof e[t]&&1<s?u+='"'+t+'":'+w(e[t],s-1):u+=(c="","string"==(t=typeof(i=e[r=t]))||"object"==t?c+='"'+r+'":"'+i+'"':"function"==typeof i?c+='"'+r+'":"function '+i.name+'"':"symbol"==typeof i?c+='"'+r+'":"symbol"':"number"!=typeof i&&"boolean"!=t||(c+='"'+r+'": '+i),c),u+=o===n-1||o<n-1&&void 0===e[a[o+1]]?"":","})),u+="}"):u+=e,u}(qe=l=l||{})[qe.number=-1]="number",qe.string="";var E,R,u,a=["application/octet-stream","application/xhtml+xml","application/xml","application/pdf","application/pkcs12","application/javascript","application/ecmascript","application/vnd.mspowerpoint","application/ogg","text/html","text/css","text/javascript","image","audio","video"],O=["ret","retcode","code","errcode"],T=function(e){if("string"==typeof e)return e;try{return(JSON.stringify(e,(i=[],t=[],function(e,n){if(n instanceof Error)return"Error.message: "+n.message+" \n  Error.stack: "+n.stack;if("object"==typeof n&&null!==n){var o=i.indexOf(n);if(-1!==o)return"[Circular "+t[o]+"]";i.push(n),t.push(e||"root")}return n}),4)||"undefined").replace(/"/gim,"")}catch(e){return"error happen when aegis stringify: \n "+e.message+" \n "+e.stack}var i,t},b=(L.prototype.sourceURL=function(){return this.data.responseURL},L.prototype.status=function(){return Number(this.data.status)},L.prototype.headers=function(){var e=this.data.getAllResponseHeaders().split("\n"),t={};return e.forEach((function(e){var n;e&&(e=(n=e.split(": "))[0],n=n[1].trim(),t[e]=n)})),t},L),p=(S.prototype.sourceURL=function(){return this.data.url},S.prototype.status=function(){return Number(this.data.status)},S.prototype.headers=function(){var e={};return this.data.headers.forEach((function(t,n){e[n]=t})),e},S);function S(e,t){this.type="fetch",this.data=e||{},this.data.response=t}function L(e){this.type="xhr",this.data=e}function P(e,t){var i,n=[],o=e.config;return e.lifeCycle.on("destroy",(function(){n.length=0})),function(e,r){if(n.push(e),t&&n.length>=t)return n=F(n),r(n.splice(0,n.length)),void(i&&clearTimeout(i));i&&clearTimeout(i),i=setTimeout((function(){i=null,0<(n=F(n)).length&&r(n.splice(0,n.length))}),o.delay)}}function x(e,t){return Array.isArray(e)?t(e.map((function(e){return o(o({},e),{msg:"string"==typeof e.msg?e.msg:[].concat(e.msg).map(T).join(" ")})}))):t(o(o({},e),{msg:"string"==typeof e.msg?e.msg:T(e.msg)}))}function C(e){return function(t,n){e.lifeCycle.emit("modifyRequest",t);var o=e.config.modifyRequest;if("function"==typeof o)try{var i=o(t);"object"==typeof i&&"url"in i&&(t=i)}catch(t){console.error(t)}n(t)}}function I(i){return function(e,t){i.lifeCycle.emit("afterRequest",e);var n=i.config.afterRequest;"function"==typeof n&&!1===n(e)||t(e)}}function A(e){if(!e||!e.reduce||!e.length)throw new TypeError("createPipeline need at least one function param");return 1===e.length?function(t,n){e[0](t,n||M)}:e.reduce((function(e,i){return function(t,n){return void 0===n&&(n=M),e(t,(function(e){return null==i?void 0:i(e,n)}))}}))}function N(e,t){Object.getOwnPropertyNames(e).forEach((function(n){"function"==typeof e[n]&&"constructor"!==n&&(t?t[n]="sendPipeline"===n?function(){return function(){}}:function(){}:e[n]=function(){})}))}function k(){return void 0!==window.performance&&"function"==typeof performance.clearResourceTimings&&"function"==typeof performance.getEntriesByType&&"function"==typeof performance.now}function _(e){if(K.find((function(t){return t.name===e.name})))throw new Error("name '"+e.name+"' is already in hackXHR option list");var t,i;K.push(e),!$&&window.XMLHttpRequest&&($=!0,t=window.XMLHttpRequest.prototype.send,i=window.XMLHttpRequest.prototype.open,window.XMLHttpRequest.prototype.open=function(){if(this.aegisMethod=arguments[0],this.aegisUrl=arguments[1],this.aegisXhrStartTime=Date.now(),!this.sendByAegis)for(var e=0;e<K.length;e++){var t=K[e];try{"function"==typeof t.open&&t.open(this)}catch(e){}}return i.apply(this,arguments)},window.XMLHttpRequest.prototype.send=function(){if(!this.sendByAegis)for(var e=0;e<K.length;e++){var n=K[e];try{"function"==typeof n.send&&n.send(this,arguments[0])}catch(e){}}return t.apply(this,arguments)})}function U(e){var t=K.findIndex((function(t){return t.name===e.name}));-1!==t&&K.splice(t,1)}(le=E=E||{}).INFO_ALL="-1",le.API_RESPONSE="1",le.INFO="2",le.ERROR="4",le.PROMISE_ERROR="8",le.AJAX_ERROR="16",le.SCRIPT_ERROR="32",le.IMAGE_ERROR="64",le.CSS_ERROR="128",le.CONSOLE_ERROR="256",le.MEDIA_ERROR="512",le.RET_ERROR="1024",le.REPORT="2048",le.PV="4096",le.EVENT="8192",le.PAGE_NOT_FOUND_ERROR="16384",(pe=R=R||{}).LOG="log",pe.SPEED="speed",pe.PERFORMANCE="performance",pe.OFFLINE="offline",pe.WHITE_LIST="whiteList",pe.VITALS="vitals",pe.PV="pv",pe.CUSTOM_PV="customPV",pe.EVENT="event",pe.CUSTOM="custom",pe.SDK_ERROR="sdkError",pe.SET_DATA="setData",(ge=u=u||{}).production="production",ge.gray="gray",ge.pre="pre",ge.daily="daily",ge.local="local",ge.test="test",ge.others="others";var j,q,F=function(e){return e.filter((function(t,i){return"static"!==t.type||!e.find((function(e,n){return i!==n&&t.url===e.url&&200===t.status}))}))},D=function(e){e.level===E.INFO_ALL&&(e.level=E.INFO)},H=function(i){return function(e){return i.sendPipeline([function(e,t){return t({url:i.config.url||"",data:f(e),method:"post",contentType:"application/x-www-form-urlencoded",type:R.LOG,log:e,requestConfig:{timeout:5e3},success:function(){var n=i.config.onReport;"function"==typeof n&&e.forEach((function(e){n(e)})),"function"==typeof t&&t([])},fail:function(e){"403 forbidden"===e&&i.destroy()}})}],R.LOG)(e)}},M=function(){},B=(Object.defineProperty(ee.prototype,"__version__",{get:function(){return console.warn("__version__ has discard, please use version"),"1.35.18"},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"LogType",{get:function(){return console.warn("LogType has discard, please use logType"),E},enumerable:!1,configurable:!0}),ee.prototype.init=function(e){this.setConfig(e);for(var t=0;t<ee.installedPlugins.length;t++)try{ee.installedPlugins[t].patch(this)}catch(e){this.sendSDKError(e)}this.lifeCycle.emit("onInited")},ee.prototype.setConfig=function(e){Object.assign(this.config,e);var t=(c=this.config).id,i=c.uin,n=c.version,o=c.ext1,s=c.ext2,a=c.ext3,r=(e=c.aid,void 0===(c=c.env)?"production":c),c=this.bean.id!==t||this.bean.uin!==i||this.bean.aid!==e;return this.bean.id=t||"",this.bean.uin=i||"",this.bean.version=n||"1.35.18",this.bean.aid=e||"",this.bean.env=function(){switch(r){case u.production:case u.gray:case u.pre:case u.daily:case u.local:case u.test:case u.others:return 1;default:return}}()?r:u.others,o&&(this.bean.ext1=encodeURIComponent(o)),s&&(this.bean.ext2=encodeURIComponent(s)),a&&(this.bean.ext3=encodeURIComponent(a)),c&&this.lifeCycle.emit("onConfigChange",this.config),this.config},ee.use=function(e){-1===ee.installedPlugins.indexOf(e)&&e.aegisPlugin&&ee.installedPlugins.push(e)},ee.unuse=function(e){-1!==(e=ee.installedPlugins.indexOf(e))&&ee.installedPlugins.splice(e,1)},ee.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:E.INFO,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0]),{level:E.INFO}),this.normalLogPipeline(n)},ee.prototype.infoAll=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:E.INFO_ALL,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0]),{level:E.INFO_ALL}),this.normalLogPipeline(n)},ee.prototype.report=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:E.REPORT,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0])),this.normalLogPipeline(n)},ee.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:E.ERROR,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0]),{level:E.ERROR}),this.normalLogPipeline(n)},ee.prototype.speedLogPipeline=function(e){throw new Error('You need to override "speedLogPipeline" method')},ee.prototype.reportPv=function(e){var i,t=this;e&&(console.warn("reportPv is deprecated, please use reportEvent"),i=""+Object.getOwnPropertyNames(this.bean).filter((function(e){return"id"!==e})).map((function(e){return e+"="+t.bean[e]})).join("&"),this.sendPipeline([function(n,o){o({url:t.config.url+"/"+e+"?"+i,addBean:!1,type:R.CUSTOM_PV,fail:function(e){"403 forbidden"===e&&t.destroy()}})}],R.CUSTOM_PV)(null))},ee.prototype.reportEvent=function(e){e&&((e="string"==typeof e?{name:e,ext1:this.config.ext1||"",ext2:this.config.ext2||"",ext3:this.config.ext3||""}:e).name?this.eventPipeline(e):console.warn("reportEvent params error"))},ee.prototype.reportTime=function(e,t){if("object"==typeof e)return this.reportT(e);"string"==typeof e?"number"==typeof t?t<0||6e4<t?console.warn("reportTime: duration must between 0 and 60000"):this.submitCustomTime(e,t):console.warn("reportTime: second param must be number"):console.warn("reportTime: first param must be a string")},ee.prototype.reportT=function(e){var t=e.name,n=e.duration,o=void 0===(i=e.ext1)?"":i,i=void 0===(r=e.ext2)?"":r,r=void 0===(r=e.ext3)?"":r;if(e=e.from,"string"==typeof t&&"number"==typeof n&&"string"==typeof o&&"string"==typeof i&&"string"==typeof r){if(!(n<0||6e4<n))return this.submitCustomTime(t,n,o,i,r,void 0===e?"":e);console.warn("reportTime: duration must between 0 and 60000")}else console.warn("reportTime: params error")},ee.prototype.time=function(e){"string"==typeof e?this.timeMap[e]?console.warn("Timer "+e+" already exists"):this.timeMap[e]=Date.now():console.warn("time: first param must be a string")},ee.prototype.timeEnd=function(e){"string"==typeof e?this.timeMap[e]?(this.submitCustomTime(e,Date.now()-this.timeMap[e]),delete this.timeMap[e]):console.warn("Timer "+e+" does not exist"):console.warn("timeEnd: first param must be a string")},ee.prototype.submitCustomTime=function(e,t,n,i,o,r){this.customTimePipeline({name:e,duration:t,ext1:n||this.config.ext1,ext2:i||this.config.ext2,ext3:o||this.config.ext3,from:r||void 0})},ee.prototype.extendBean=function(e,t){this.bean[e]=t},ee.prototype.sendPipeline=function(e,t){var n,c,s,a=this;return A(r([function(e,t){if("number"!=typeof n.config.random&&(console.warn("random must in [0, 1], default is 1."),n.config.random=1),!n.isHidden||!n.isGetSample)if(n.isGetSample)n.isHidden||t(e);else{if(n.isGetSample=!0,Math.random()<n.config.random)return n.isHidden=!1,t(e);n.isHidden=!0}},(s=t,function(e,t){var n=Array.isArray(e),i=n?e:[e];c.lifeCycle.emit("beforeRequest",e);var r=c.config.beforeRequest;(i="function"==typeof r?i.map((function(e){try{var t=r({logs:e,logType:s});return(null==t?void 0:t.logType)===s&&null!=t&&t.logs?t.logs:!1!==t&&e}catch(t){return e}})).filter((function(e){return!1!==e})):i).length&&(i=function(e,t){if(!Array.isArray(e)||e.length<=1)return e;var n=[],i=[];return!(i="string"==typeof t?[t]:t)||i.length<=0||(i.forEach((function(t){e.forEach((function(e){null!=e&&e[t]&&n.push(t)}))})),0<n.length&&(e=e.map((function(e){var t={};return n.forEach((function(e){t[e]=""})),o(o({},t),e)})))),e}(i,["ext1","ext2","ext3"]),t(n?i:i[0]))})],e,[C(c=n=this),function(i,e){a.request(i,(function(){for(var t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];e({isErr:!1,result:n,logType:null==i?void 0:i.type,logs:null==i?void 0:i.log}),null===(t=null==i?void 0:i.success)||void 0===t||t.call.apply(t,r([i],n))}),(function(){for(var t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];e({isErr:!0,result:n,logType:null==i?void 0:i.type,logs:null==i?void 0:i.log}),null===(t=null==i?void 0:i.fail)||void 0===t||t.call.apply(t,r([i],n))}))},I(this)]))},ee.prototype.send=function(e,t,n){var o=this;return A([C(this),function(e,i){o.request(e,(function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];i({isErr:!1,result:n,logType:e.type,logs:e.log}),null==t||t.apply(void 0,n)}),(function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];i({isErr:!0,result:t,logType:e.type,logs:e.log}),null==n||n.apply(void 0,t)}))},I(this)])(e)},ee.prototype.request=function(e,t,n){throw new Error('You need to override "request" method')},ee.prototype.sendSDKError=function(e){var t=this;this.sendPipeline([function(e,n){n({url:t.config.url+"?id=1085&msg[0]="+encodeURIComponent(T(e))+"&level[0]=2&from="+t.config.id+"&count=1&version="+t.config.id+"(1.35.18)",addBean:!1,method:"get",type:R.SDK_ERROR,log:e})}],R.SDK_ERROR)(e)},ee.prototype.destroy=function(e){void 0===e&&(e=!1);var t,n,i=ee.instances.indexOf(this);-1!==i&&ee.instances.splice(i,1);for(var o=ee.installedPlugins.length-1;0<=o;o--)try{ee.installedPlugins[o].unpatch(this)}catch(e){this.sendSDKError(e)}if(this.lifeCycle.emit("destroy"),this.lifeCycle.clear(),e)t=this,n=Object.getOwnPropertyDescriptors(t),Object.keys(n).forEach((function(e){n[e].writable&&(t[e]=null)})),Object.setPrototypeOf(this,null);else{for(var r=this;r.constructor!==Object&&N(r,this),r=Object.getPrototypeOf(r););0===ee.instances.length&&(N(e=Object.getPrototypeOf(this).constructor),N(ee))}},ee.version="1.35.18",ee.instances=[],ee.logType=E,ee.environment=u,ee.installedPlugins=[],ee),V=(Z.prototype.patch=function(e){this.canUse(e)&&this.exist(e)&&(this.instances.push(e),this.triggerInit(e),this.triggerOnNewAegis(e))},Z.prototype.unpatch=function(e){-1!==(e=this.instances.indexOf(e))&&this.instances.splice(e,1)},Z.prototype.countInstance=function(){return this.instances.length},Z.prototype.uninstall=function(){var e;null===(e=null===(e=this.option)||void 0===e?void 0:e.destroy)||void 0===e||e.apply(this)},Z.prototype.walk=function(e){var i=this;this.instances.forEach((function(){}