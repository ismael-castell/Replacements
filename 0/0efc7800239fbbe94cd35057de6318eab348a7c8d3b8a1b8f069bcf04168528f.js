!function(){"use strict";var e={385:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EcommerceIntegration=t.ANALYTICS_ADDED_PAYMENT=t.ANALYTICS_PERFORMED_SEARCH=t.ANALYTICS_STARTED_ORDER=t.ANALYTICS_COMPLETED_ORDER=t.ANALYTICS_ADDED_PRODUCT=t.ANALYTICS_VIEWED_PRODUCT_CATEGORY=t.ANALYTICS_VIEWED_PRODUCT=t.ANALYTICS_PAGE_VIEW=t.ANALYTICS_GENERIC_EVENT=void 0;var i=n(454),a=n(542),c=n(997),s=n(102),u=n(372),p=n(930),d={viewedProduct:/^[ _]?viewed[ _]?product[ _]?$/i,viewedProductCategory:/^[ _]?viewed[ _]?product[ _]?category[ _]?$/i,viewedProductVariant:/^[ _]?viewed[ _]?product[ _]?variant[ _]?$/i,addedProduct:/^[ _]?added[ _]?product[ _]?$/i,completedOrder:/^[ _]?completed[ _]?order[ _]?$/i,startedOrder:/^[ _]?started[ _]?order[ _]?$/i,performedSearch:/^[ _]?performed[ _]?search[ _]?$/i,addedPayment:/^[ _]?added[ _]?payment[ _]?$/i};t.ANALYTICS_GENERIC_EVENT="genericEvent",t.ANALYTICS_PAGE_VIEW="pageView",t.ANALYTICS_VIEWED_PRODUCT="viewedProduct",t.ANALYTICS_VIEWED_PRODUCT_CATEGORY="viewedProductCategory",t.ANALYTICS_ADDED_PRODUCT="addedProduct",t.ANALYTICS_COMPLETED_ORDER="completedOrder",t.ANALYTICS_STARTED_ORDER="startedOrder",t.ANALYTICS_PERFORMED_SEARCH="performedSearch",t.ANALYTICS_ADDED_PAYMENT="addedPayment";var v=function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i.shopId=void 0,i.checkoutToken=void 0,i.visitToken=void 0,i.uniqueToken=void 0,i.appName=void 0,i.wrapTrack(),o&&(i.shopId=o.shopId,i.appName=o.appName,i.checkoutToken=o.checkoutToken,i.visitToken=o.visitToken,i.uniqueToken=o.uniqToken),i.setPixelStub(),i.ensureTrackingConsent((function(){i.initialize(r)}),r),i}return o(t,e),t.prototype.ensureTrackingConsent=function(e,t){c.privacyApiMethods.userCanBeTracked()?e():(document.addEventListener(a.TrackingConsentEvents.TRACKING_ACCEPTED,e),t())},t.prototype.wrapTrack=function(){var e=this.track;this.track=function(t){var n=t.event,r=!1;for(var o in d){var i=d[o];if(this[o]&&i.test(n)){this[o].apply(this,[t]),r=!0;break}}r||e.apply(this,Array.prototype.slice.call(arguments))}},t.prototype.addMonorailBatchEvent=function(e){if(this.appName&&this.appName in p.appNameToEcommerceEventSchemaId){var t=this.getEcommercePixelIds();i.addBatchEvent({schemaId:e.schemaId?e.schemaId:p.appNameToEcommerceEventSchemaId[this.appName],payload:s.objectAssignFilterUndefined({shop_id:this.shopId,partner_name:this.getEcommerceMetricsTag(),event_name:e.eventName,unique_token:this.uniqueToken,visit_token:this.visitToken,integration_id:this.getIntegrationId()},{pixel_id:t&&t.length>0?t[0]:void 0,event_properties:e.eventProperties,checkout_token:this.checkoutToken,event_id:e.eventId})})}},t}(u.Integration);t.EcommerceIntegration=v},372:function(e,t){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Integration=void 0;var r=function(){function e(e,t){this.options={},this.options=n(n({},e),t)}return e.flatten=function(e){var t=n({},e);return t.properties={},n(n({},t),e.properties)},e.isEqual=function(e,t){for(var n in e)if(e[n]!==t[n])return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0},e}();t.Integration=r},930:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.extractSchemaIdFromEventName=t.trekkieAssetContextSchemaId=t.storefrontAnalyticsSchemaId=t.deprecatedStorefrontAnalyticsSchemaId=t.appNameToEcommerceEventSchemaId=t.appNameToPageViewSchemaId=void 0,t.appNameToPageViewSchemaId={admin:"trekkie_admin_page_view/1.0",appstore:"trekkie_appstore_page_view/1.2",blog:"trekkie_blog_page_view/1.2",brochure:"trekkie_brochure_page_view/1.2",checkout:"trekkie_checkout_page_view/1.2","compass-web":"trekkie_compass_web_page_view/1.2",docs:"trekkie_docs_page_view/1.2",development:"edge_test/1.0",exchange:"trekkie_exchange_page_view/1.2",experts:"trekkie_experts_page_view/1.0",handshake:"trekkie_handshake_page_view/1.0",identity:"trekkie_identity_page_view/1.2",linkpop:"trekkie_linkpop_page_view/2.0","marketing-misc":"trekkie_marketing_misc_page_view/1.2",oberlo:"trekkie_oberlo_app_page_view/1.0","oberlo-home":"trekkie_oberlo_home_page_view/1.3","oberlo-courses":"trekkie_oberlo_courses_page_view/1.0",opinions:"trekkie_opinions_page_view/1.2",partners:"trekkie_partners_page_view/1.2","shopify-ping-web":"trekkie_shopify_ping_web_page_view/1.0",portal:"trekkie_portal_page_view/1.0",smiley:"trekkie_smiley_page_view/1.2",storefront:"trekkie_storefront_page_view/1.2",testing:"edge_test/1.0",themestore:"trekkie_themestore_page_view/1.2"},t.appNameToEcommerceEventSchemaId={storefront:"trekkie_storefront_ecommerce_event_emit/4.0",checkout:"trekkie_checkout_ecommerce_event_emit/4.0",test:"edge_test_ecommerce_event_emit/1.0"},t.deprecatedStorefrontAnalyticsSchemaId="storefront_customer_tracking/2.3",t.storefrontAnalyticsSchemaId="storefront_customer_tracking/4.1",t.trekkieAssetContextSchemaId="trekkie_asset_context/1.1",t.extractSchemaIdFromEventName=function(e){var t="monorail://",n=e.toLowerCase();if(0===n.lastIndexOf(t)&&n.length>t.length)return n.substr(t.length)}},793:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TrackingConsentEvents=void 0,(t.TrackingConsentEvents||(t.TrackingConsentEvents={})).TRACKING_ACCEPTED="trackingConsentAccepted"},291:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TrackingRegulations=void 0,(n=t.TrackingRegulations||(t.TrackingRegulations={})).GDPR="GDPR",n.CCPA="CCPA",n.NO_VALUE=""},542:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TrackingRegulations=t.TrackingConsentEvents=void 0;var r=n(793);Object.defineProperty(t,"TrackingConsentEvents",{enumerable:!0,get:function(){return r.TrackingConsentEvents}});var o=n(291);Object.defineProperty(t,"TrackingRegulations",{enumerable:!0,get:function(){return o.TrackingRegulations}})},878:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.FacebookPixel=void 0;var a=n(385),c=n(503),s=n(997),u=n(102),p=n(724),d=function(e){function t(n,r,o){var a=e.call(this,t.defaultOptions,i(i({},n),{agent:"shopify"}),o,r.defaultAttributes)||this;return a.campaignManager=new p.CampaignManager,a}return o(t,e),t.prototype.isEssential=function(){return!1},t.prototype.identify=function(e){throw new Error("identify is not supported")},t.prototype.page=function(e){this.emitEvent("PageView",e.eventId,a.ANALYTICS_PAGE_VIEW)},t.prototype.track=function(e){var t={};for(var n in e.properties)"revenue"===n?t.value=this.formatRevenue(e.properties.revenue):t[n]=e.properties[n]},t.prototype.viewedProductCategory=function(e){},t.prototype.viewedProductVariant=function(e){},t.prototype.viewedProduct=function(e){var t=e.properties,n={content_ids:this.getProductContentIds(t),content_type:this.getProductContentType(t),content_name:t.name||"",content_category:t.category||"",currency:this.getCurrency(t.currency),value:this.formatRevenue(t.price)};this.emitEvent("ViewContent",e.eventId,a.ANALYTICS_VIEWED_PRODUCT,n)},t.prototype.addedProduct=function(e){var t=e.properties,n={content_ids:this.getProductContentIds(t),content_type:this.getProductContentType(t),content_name:t.name||"",content_category:t.category||"",currency:this.getCurrency(t.currency),value:this.formatRevenue(t.price),num_items:this.getProductNumItems(t)};this.emitEvent("AddToCart",e.eventId,a.ANALYTICS_ADDED_PRODUCT,n)},t.prototype.addedPayment=function(e){var t=e.properties,n={currency:this.getCurrency(t.currency),value:this.formatRevenue(t.total)};this.emitEvent("AddPaymentInfo",e.eventId,a.ANALYTICS_ADDED_PAYMENT,n)},t.prototype.performedSearch=function(e){var t={search_string:e.properties.query||""};this.emitEvent("Search",e.eventId,a.ANALYTICS_PERFORMED_SEARCH,t)},t.prototype.startedOrder=function(e){var t=e.properties,n={content_ids:this.getOrderContentIds(t),content_type:this.getOrderContentType(t),currency:this.getCurrency(t.currency),value:this.formatRevenue(t.revenue),num_items:this.getOrderNumItems(t)};this.emitEvent("InitiateCheckout",e.eventId,a.ANALYTICS_STARTED_ORDER,n)},t.prototype.completedOrder=function(e){var t=e.properties,n={content_ids:this.getOrderContentIds(t),content_type:this.getOrderContentType(t),currency:this.getCurrency(t.currency),value:this.formatRevenue(t.revenue),num_items:this.getOrderNumItems(t)};this.emitEvent("Purchase",e.eventId,a.ANALYTICS_COMPLETED_ORDER,n)},t.prototype.emitEvent=function(e,t,n,r){void 0===r&&(r={}),window.fbq("track",e,r,{eventID:t}),this.addMonorailBatchEvent(u.objectAssignFilterUndefined({eventName:n},{eventId:t,eventProperties:JSON.stringify(r)}))},t.prototype.setLimitedDataUseMode=function(){window.fbq("dataProcessingOptions",["LDU"],1,1e3)},t.prototype.initialize=function(e){this.setPixelStub(),this.loadFacebookScript();for(var t=this.options,n=0,r=this.getFacebookPixelIds(t);n<r.length;n++){var o=r[n];s.privacyApiMethods.userDataCannotBeSold()&&this.setLimitedDataUseMode(),window.fbq("init",o),""!==t.agent&&window.fbq("set","agent",t.agent,o)}e()},t.prototype.setPixelStub=function(){window.fbq&&"function"==typeof window.fbq||(window.fbq=function(){window.fbq.callMethod?window.fbq.callMethod.apply(window.fbq,arguments):window.fbq.queue.push(arguments)},window._fbq||(window._fbq=window.fbq),window.fbq.push=window.fbq,window.fbq.loaded=!0,window.fbq.version="2.0",window.fbq.queue=[])},t.prototype.generateScriptTag=function(){var e=c.virtualDocument().createElement("script");return e.async=!0,e.src="https://connect.facebook.net/en_US/fbevents.js",e},t.prototype.getFacebookPixelIds=function(e){for(var t=[],n=0,r=e.pixelIds.concat([e.pixelId]);n<r.length;n++){var o=r[n];null!==o&&""!==o&&t.push(o)}return t},t.prototype.loadFacebookScript=function(){var e=c.virtualDocument().getElementsByTagName("script")[0];void 0===e?document.head.appendChild(this.generateScriptTag()):e.parentNode.insertBefore(this.generateScriptTag(),e)},t.prototype.formatRevenue=function(e){return Number(e||0).toFixed(2)},t.prototype.getCurrency=function(e){return e||"USD"},t.prototype.getProductContentIds=function(e){var t=e.productId||e.variantId||e.sku;return t?[t]:[]},t.prototype.getProductContentType=function(e){return e.productId?"product_group":"product"},t.prototype.getProductNumItems=function(e){return e.quantity||this.getProductContentIds(e).length},t.prototype.getProductKey=function(e){return e.productId||e.variantId||e.sku},t.prototype.getOrderContentIds=function(e){for(var t=[],n=0,r=e.products||[];n<r.length;n++){var o=r[n],i=this.getProductKey(o);i&&-1===t.indexOf(i)&&t.push(i)}return t},t.prototype.getOrderContentType=function(e){for(var t=0,n=e.products||[];t<n.length;t++)if(n[t].productId)return"product_group";return"product"},t.prototype.getOrderNumItems=function(e){for(var t=0,n=0,r=e.products||[];n<r.length;n++){var o=r[n];this.getProductKey(o)&&(t+=o.quantity||1)}return t},t.prototype.getEcommerceMetricsTag=function(){return"facebook"},t.prototype.getIntegrationId=function(){return"FacebookPixel"},t.prototype.getEcommercePixelIds=function(){var e=this.options;return this.getFacebookPixelIds(e)},t.defaultOptions={pixelId:"",pixelIds:[],agent:"shopify"},t}(a.EcommerceIntegration);t.FacebookPixel=d},575:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleAnalytics=void 0;var a=n(385),c=n(725),s=n(503),u=function(e){function t(n,r,o){var i=e.call(this,t.defaultOptions,n,o,r.defaultAttributes)||this;return i.pageCalled=!1,i.ecommerce=!1,i.enhancedEcommerceLoaded=!1,i}return o(t,e),t.prototype.identify=function(e){throw new Error("identify is not supported")},t.prototype.isEssential=function(){return!1},t.prototype.page=function(e){this.overrideDefaultPageProperties(e);var t=this.options,n=this.path(e),r=e.name||e.title,o={page:n,title:r};window.ga("set",o);var i={page:n,title:r,location:e.url};if(this.pageCalled&&delete i.location,window.ga("send","pageview",i),this.addMonorailBatchEvent({eventName:a.ANALYTICS_PAGE_VIEW,eventProperties:JSON.stringify(i)}),e.name&&t.trackNamedPages){var c=this.convertPageToTrack(e);c.properties.nonInteraction=!0,this.trackInternal(c)}this.pageCalled=!0},t.prototype.track=function(e){},t.prototype.trackInternal=function(e){var t=this.options,n=e.properties,r={eventAction:e.event,eventCategory:n.category||"All",eventLabel:n.label,eventValue:this.formatValue(n.value||n.revenue),nonInteraction:Boolean(n.hasOwnProperty("nonInteraction")?n.nonInteraction:t.nonInteraction)};window.ga("send","event",r),this.addMonorailBatchEvent({eventName:a.ANALYTICS_GENERIC_EVENT,eventProperties:JSON.stringify(r)})},t.prototype.completedOrder=function(e){var t=e.properties,n=t.total||t.revenue||0,r=t.orderName||t.checkoutId,o=t.products||[];if(r){this.ecommerce||(window.ga("require","ecommerce"),this.ecommerce=!0);var i={affiliation:t.affiliation,shipping:t.shipping,revenue:n,tax:t.tax,id:r,currency:this.getCurrency(t.currency)};window.ga("ecommerce:addTransaction",i);for(var c=[],s=0,u=o;s<u.length;s++){var p=u[s],d=this.createProductTrack(t,p),v={category:d.category,quantity:this.getProductQuantity(d),price:d.price,name:d.name,sku:d.sku||d.variantId,id:r,currency:this.getCurrency(d.currency)};window.ga("ecommerce:addItem",v),c.push(v)}window.ga("ecommerce:send"),this.addMonorailBatchEvent({eventName:a.ANALYTICS_COMPLETED_ORDER,eventProperties:JSON.stringify({orderInfo:i,items:c})})}},t.prototype.viewedProductVariant=function(e){},t.prototype.viewedProductEnhanced=function(e){var t=e.properties;this.loadEnhancedEcommerce(e);var n=this.enhancedEcommerceTrackProduct(t);window.ga("ec:setAction","detail");var r=this.pushEnhancedEcommerce(e);this.addMonorailBatchEvent({eventName:a.ANALYTICS_VIEWED_PRODUCT,eventProperties:JSON.stringify({item:n,event:r})})},t.prototype.addedProductEnhanced=function(e){var t=e.properties;this.loadEnhancedEcommerce(e);var n=this.enhancedEcommerceTrackProduct(t);window.ga("ec:setAction","add");var r=this.pushEnhancedEcommerce(e);this.addMonorailBatchEvent({eventName:a.ANALYTICS_ADDED_PRODUCT,eventProperties:JSON.stringify({item:n,event:r})})},t.prototype.startedOrderEnhanced=function(e){var t=e.properties,n=t.products||[];this.loadEnhancedEcommerce(e);for(var r=[],o=0,i=n;o<i.length;o++){var c=i[o],s=this.createProductTrack(t,c),u=this.enhancedEcommerceTrackProduct(s);r.push(u)}var p=t.step||1;window.ga("ec:setAction","checkout",{step:p});var d=this.pushEnhancedEcommerce(e);this.addMonorailBatchEvent({eventName:a.ANALYTICS_STARTED_ORDER,eventProperties:JSON.stringify({items:r,checkoutStep:p,event:d})})},t.prototype.completedOrderEnhanced=function(e){var t=e.properties,n=t.total||t.revenue||0,r=t.orderName||t.checkoutId,o=t.products||[];if(r){this.loadEnhancedEcommerce(e);for(var i=[],c=0,s=o;c<s.length;c++){var u=s[c],p=this.createProductTrack(t,u),d=this.enhancedEcommerceTrackProduct(p);i.push(d)}var v={id:r,affiliation:t.affiliation,revenue:n,tax:t.tax,shipping:t.shipping,coupon:t.coupon};window.ga("ec:setAction","purchase",v);var l=this.pushEnhancedEcommerce(e);this.addMonorailBatchEvent({eventName:a.ANALYTICS_COMPLETED_ORDER,eventProperties:JSON.stringify({orderInfo:v,items:i,event:l})})}},t.prototype.initialize=function(e){this.pageCalled=!1,this.setPixelStub(),this.loadGAScript();var n=this.options;"localhost"===c.hostname()&&(n.domain="none"),n.enhancedEcommerce&&this.enhancedEcommerce(),window.ga("create",n.trackingId,{cookieDomain:n.domain||t.defaultOptions.domain,siteSpeedSampleRate:n.siteSpeedSampleRate,sampleRate:n.sampleRate,allowLinker:!0}),n.doubleClick&&window.ga("require","displayfeatures"),n.enhancedLinkAttribution&&window.ga("require","linkid"),n.anonymizeIp&&window.ga("set","anonymizeIp",!0),e()},t.prototype.setPixelStub=function(){window.ga&&"function"==typeof window.ga||(window.ga=function(){(window.ga.q=window.ga.q||[]).push(arguments)})},t.prototype.loadGAScript=function(){window.GoogleAnalyticsObject="ga",window.ga.l=(new Date).getTime();var e=s.virtualDocument().createElement("script");e.async=!0,e.src="https://www.google-analytics.com/analytics.js";var t=s.virtualDocument().getElementsByTagName("script")[0];void 0===t?document.head.appendChild(e):t.parentNode.insertBefore(e,t)},t.prototype.enhancedEcommerce=function(){this.viewedProduct=this.viewedProductEnhanced,this.addedProduct=this.addedProductEnhanced,this.startedOrder=this.startedOrderEnhanced,this.completedOrder=this.completedOrderEnhanced},t.prototype.path=function(e){var t=e.path;return this.options.includeSearch&&e.search&&(t+=e.search),t},t.prototype.formatValue=function(e){return!e||e<0?0:Math.round(e)},t.prototype.getProductQuantity=function(e){return e.quantity||1},t.prototype.getCurrency=function(e){return e||"USD"},t.prototype.createProductTrack=function(e,t){var n=i({},t);return n.currency=t.currency||this.getCurrency(e.currency),n},t.prototype.loadEnhancedEcommerce=function(e){this.enhancedEcommerceLoaded||(window.ga("require","ec"),this.enhancedEcommerceLoaded=!0);var t=e.properties;window.ga("set","&cu",this.getCurrency(t.currency))},t.prototype.enhancedEcommerceTrackProduct=function(e){var t={id:e.sku||e.variantId,name:e.name,category:e.category,quantity:this.getProductQuantity(e),price:e.price,brand:e.brand,variant:e.variant,currency:this.getCurrency(e.currency)};return e.coupon&&(t.coupon=e.coupon),window.ga("ec:addProduct",t),t},t.prototype.pushEnhancedEcommerce=function(e){var t=e.properties,n={eventCategory:t.category||"EnhancedEcommerce",eventAction:e.event||"Action not defined",eventLabel:t.label,nonInteraction:!0};return window.ga("send","event",n),n},t.prototype.convertPageToTrack=function(e){return{event:e.name?"Viewed "+e.name+" Page":"Loaded a Page",properties:e.properties,eventId:e.eventId}},t.prototype.overrideDefaultPageProperties=function(e){for(var t in e.properties)"properties"!==t&&"name"!==t&&t in e&&(e[t]=e.properties[t])},t.prototype.getEcommerceMetricsTag=function(){return"google_analytics"},t.prototype.getIntegrationId=function(){return"GoogleAnalytics"},t.prototype.getEcommercePixelIds=function(){return[this.options.trackingId]},t.defaultOptions={anonymizeIp:!1,domain:"auto",doubleClick:!1,enhancedEcommerce:!1,enhancedLinkAttribution:!1,includeSearch:!1,nonInteraction:!1,siteSpeedSampleRate:1,sampleRate:100,trackNamedPages:!0,trackingId:""},t}(a.EcommerceIntegration);t.GoogleAnalytics=u},87:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleGtag=void 0;var a=n(385),c=n(522),s=n(997),u=function(e){function t(t,n,r){return e.call(this,{},t,r,n.defaultAttributes)||this}return o(t,e),t.prototype.isEssential=function(){return!0},t.prototype.identify=function(e){throw new Error("identify is not supported")},t.prototype.track=function(e){},t.prototype.setLimitedDataUseMode=function(e){var t=i({},e);return t.restricted_data_processing=!0,t},t.prototype.initialize=function(e){var t=this.options,n={send_page_view:!1};this.setPixelStub(),this.loadGtagScript(),s.privacyApiMethods.userDataCannotBeSold()&&(n=this.setLimitedDataUseMode(n)),window.gtag("config",t.conversionId,n),e()},t.prototype.setPixelStub=function(){(!window.dataLayer||window.dataLayer&&!Array.isArray(window.dataLayer))&&(window.dataLayer=[]),(!window.gtag||window.gtag&&"function"!=typeof window.gtag)&&(window.gtag=function(){window.dataLayer.push(arguments)})},t.prototype.loadGtagScript=function(){var e=this.options;this.setPixelStub(),window.gtag("js",new Date),c.script({src:"https://www.googletagmanager.com/gtag/js?id="+e.conversionId})},t.prototype.page=function(e){var t="page_view",n={send_to:this.gtagEventLabelFor(t),page_path:e.path||"",page_title:e.name||e.title,page_location:e.url};window.gtag("event",t,n),this.addMonorailBatchEvent({eventName:a.ANALYTICS_PAGE_VIEW,eventProperties:JSON.stringify(n)})},t.prototype.viewedProduct=function(e){var t="view_item",n=e.properties,r={send_to:this.gtagEventLabelFor(t),ecomm_prodid:this.generateProductIds([n]),ecomm_totalvalue:n.price*n.quantity,ecomm_pagetype:"product",items:[{id:n.productId||n.variantId,name:n.name,brand:n.brand,category:n.category,coupon:n.coupon,price:n.price.toString(),quantity:n.quantity,variant:n.variant}]};window.gtag("event",t,r),this.addMonorailBatchEvent({eventName:a.ANALYTICS_VIEWED_PRODUCT,eventProperties:JSON.stringify(r)})},t.prototype.addedProduct=function(e){var t="add_to_cart",n=e.properties,r={send_to:this.gtagEventLabelFor(t),ecomm_prodid:this.generateProductIds([n]),ecomm_totalvalue:n.price*n.quantity,ecomm_pagetype:"cart",value:n.price*n.quantity,currency:n.currency||"USD",items:[{id:n.productId||n.variantId,name:n.name,brand:n.brand,category:n.category,coupon:n.coupon,price:n.price.toString(),quantity:n.quantity,variant:n.variant}]};window.gtag("event",t,r),this.addMonorailBatchEvent({eventName:a.ANALYTICS_ADDED_PRODUCT,eventProperties:JSON.stringify(r)})},t.prototype.completedOrder=function(e){var t="purchase",n=e.properties,r={send_to:this.gtagEventLabelFor(t),transaction_id:n.orderName||n.checkoutId,value:n.revenue,currency:n.currency||"USD",tax:n.tax.toString(),shipping:n.shipping.toString(),items:n.products.map((function(e){return{id:e.productId||e.variantId,name:e.name,brand:e.brand,category:e.category,coupon:e.coupon,price:e.price.toString(),quantity:e.quantity,variant:e.variant}}))};window.gtag("event",t,r),this.addMonorailBatchEvent({eventName:a.ANALYTICS_COMPLETED_ORDER,eventProperties:JSON.stringify(r)})},t.prototype.startedOrder=function(e){var t="begin_checkout",n=e.properties,r={send_to:this.gtagEventLabelFor(t),ecomm_prodid:this.generateProductIds(n.products),ecomm_totalvalue:this.cartTotalValue(n.products),ecomm_pagetype:"cart",value:n.revenue,currency:n.currency||"USD",items:n.products.map((function(e){return{id:e.productId||e.variantId,name:e.name,brand:e.brand,category:e.category,coupon:e.coupon,price:e.price.toString(),quantity:e.quantity,variant:e.variant}})),coupon:n.coupon};window.gtag("event",t,r),this.addMonorailBatchEvent({eventName:a.ANALYTICS_STARTED_ORDER,eventProperties:JSON.stringify(r)})},t.prototype.performedSearch=function(e){var t="search",n=e.properties,r={send_to:this.gtagEventLabelFor(t),search_term:n.query};window.gtag("event",t,r),this.addMonorailBatchEvent({eventName:a.ANALYTICS_PERFORMED_SEARCH,eventProperties:JSON.stringify(r)})},t.prototype.addedPayment=function(e){var t="add_payment_info",n=e.properties,r={send_to:this.gtagEventLabelFor(t),currency:n.currency,total:n.total};window.gtag("event",t,r),this.addMonorailBatchEvent({eventName:a.ANALYTICS_ADDED_PAYMENT,eventProperties:JSON.stringify(r)})},t.prototype.generateProductIds=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n],i="shopify_"+this.targetCountry()+"_"+o.productId+"_"+o.variantId;t.push(i)}return t},t.prototype.cartTotalValue=function(e){for(var t=0,n=0,r=e;n<r.length;n++){var o=r[n];t+=o.price*o.quantity}return t},t.prototype.targetCountry=function(){return this.options.targetCountry||"US"},t.prototype.gtagEventLabelFor=function(e){for(var t=0,n=this.options.eventLabels;t<n.length;t++){var r=n[t];if(r.type===e)return r.action_label}},t.prototype.getEcommerceMetricsTag=function(){return"google_gtag"},t.prototype.getEcommercePixelIds=function(){return[this.options.conversionId]},t.prototype.getIntegrationId=function(){return"GoogleGtag"},t}(a.EcommerceIntegration);t.GoogleGtag=u},142:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Pinterest=void 0;var a=n(385),c=n(102),s=function(e){function t(n,r,o){return e.call(this,t.defaultOptions,n,o,r.defaultAttributes)||this}return o(t,e),t.prototype.identify=function(e){},t.prototype.track=function(e){},t.prototype.page=function(e){var t=e.properties;t&&"product"===t.pageType||this.emitEvent("PageVisit",e.eventId,a.ANALYTICS_PAGE_VIEW)},t.prototype.isEssential=function(){return!1},t.prototype.viewedProduct=function(e){var t=e.properties,n={currency:t.currency,line_items:[{product_id:t.productId,product_variant_id:t.variantId,product_name:t.name,product_price:t.price,product_quantity:t.quantity}]};this.emitEvent("PageVisit",e.eventId,a.ANALYTICS_VIEWED_PRODUCT,n)},t.prototype.viewedProductCategory=function(){}