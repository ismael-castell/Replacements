!function(){function Bi(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={exports:{}};return r[e].call(t.exports,t,t.exports,Bi),t.exports}var r,n;r={331:e=>{function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function c(e){return"function"==typeof e}function u(e){return"object"==typeof e&&null!==e}function l(e){return void 0===e}(e.exports=n).prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,i,a,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var o=new Error('Uncaught, unspecified "error" event. ('+t+")");throw o.context=t,o}if(l(r=this._events[e]))return!1;if(c(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(u(r))for(i=Array.prototype.slice.call(arguments,1),n=(s=r.slice()).length,a=0;a<n;a++)s[a].apply(this,i);return!0},n.prototype.on=n.prototype.addListener=function(e,t){var r;if(!c(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,c(t.listener)?t.listener:t),this._events[e]?u(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,u(this._events[e])&&!this._events[e].warned&&(r=l(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&0<r&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(e,t){if(!c(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var r,n,i,a;if(!c(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(r=this._events[e]).length,n=-1,r===t||c(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(u(r)){for(a=i;0<a--;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(c(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?c(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){e=this._events[e];if(c(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},131:(e,t,r)=>{"use strict";var n=r(374),i=r(775),a=r(76);function s(e,t,r){return new n(e,t,r)}s.version=r(336),s.AlgoliaSearchHelper=n,s.SearchParameters=i,s.SearchResults=a,e.exports=s},78:(e,t,r)=>{"use strict";var n=r(331);function i(e,t){this.main=e,this.fn=t,this.lastResults=null}r(853)(i,n),i.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},i.prototype.getModifiedState=function(e){return this.fn(e)},e.exports=i},437:(e,t,r)=>{"use strict";var i=r(344),n=r(803),c=r(116),a={addRefinement:function(e,t,r){if(a.isRefined(e,t,r))return e;var n=""+r,r=e[t]?e[t].concat(n):[n],n={};return n[t]=r,i({},n,e)},removeRefinement:function(e,r,t){if(void 0===t)return a.clearRefinement(e,function(e,t){return r===t});var n=""+t;return a.clearRefinement(e,function(e,t){return r===t&&n===e})},toggleRefinement:function(e,t,r){if(void 0===r)throw new Error("toggleRefinement should be used with a value");return a.isRefined(e,t,r)?a.removeRefinement(e,t,r):a.addRefinement(e,t,r)},clearRefinement:function(i,a,s){if(void 0===a)return c(i)?{}:i;if("string"==typeof a)return n(i,[a]);if("function"==typeof a){var o=!1,e=Object.keys(i).reduce(function(e,t){var r=i[t]||[],n=r.filter(function(e){return!a(e,t,s)});return n.length!==r.length&&(o=!0),e[t]=n,e},{});return o?e:i}},isRefined:function(e,t,r){var n=!!e[t]&&0<e[t].length;return void 0!==r&&n?-1!==e[t].indexOf(""+r):n}};e.exports=a},775:(e,t,r)=>{"use strict";var s=r(185),i=r(344),n=r(686),a=r(888),o=r(23),c=r(803),u=r(116),l=r(801),h=r(437);function d(e,r){return Array.isArray(e)&&Array.isArray(r)?e.length===r.length&&e.every(function(e,t){return d(r[t],e)}):e===r}function p(e){var n=e?p._parseNumbers(e):{};void 0===n.userToken||l(n.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=n.facets||[],this.disjunctiveFacets=n.disjunctiveFacets||[],this.hierarchicalFacets=n.hierarchicalFacets||[],this.facetsRefinements=n.facetsRefinements||{},this.facetsExcludes=n.facetsExcludes||{},this.disjunctiveFacetsRefinements=n.disjunctiveFacetsRefinements||{},this.numericRefinements=n.numericRefinements||{},this.tagRefinements=n.tagRefinements||[],this.hierarchicalFacetsRefinements=n.hierarchicalFacetsRefinements||{};var i=this;Object.keys(n).forEach(function(e){var t=-1!==p.PARAMETERS.indexOf(e),r=void 0!==n[e];!t&&r&&(i[e]=n[e])})}p.PARAMETERS=Object.keys(new p),p._parseNumbers=function(i){if(i instanceof p)return i;var a,n={};return["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach(function(e){var t,r=i[e];"string"==typeof r&&(t=parseFloat(r),n[e]=isNaN(t)?r:t)}),Array.isArray(i.insideBoundingBox)&&(n.insideBoundingBox=i.insideBoundingBox.map(function(e){return Array.isArray(e)?e.map(function(e){return parseFloat(e)}):e})),i.numericRefinements&&(a={},Object.keys(i.numericRefinements).forEach(function(r){var n=i.numericRefinements[r]||{};a[r]={},Object.keys(n).forEach(function(e){var t=n[e].map(function(e){return Array.isArray(e)?e.map(function(e){return"string"==typeof e?parseFloat(e):e}):"string"==typeof e?parseFloat(e):e});a[r][e]=t})}),n.numericRefinements=a),s({},i,n)},p.make=function(e){var r=new p(e);return(e.hierarchicalFacets||[]).forEach(function(e){var t;!e.rootPath||0===(t=(r=0<(t=r.getHierarchicalRefinement(e.name)).length&&0!==t[0].indexOf(e.rootPath)?r.clearRefinements(e.name):r).getHierarchicalRefinement(e.name)).length&&(r=r.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}),r},p.validate=function(e,t){t=t||{};return e.tagFilters&&t.tagRefinements&&0<t.tagRefinements.length?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):0<e.tagRefinements.length&&t.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&t.numericRefinements&&u(t.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):u(e.numericRefinements)&&t.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},p.prototype={constructor:p,clearRefinements:function(e){e={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:h.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:h.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:h.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:h.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return e.numericRefinements===this.numericRefinements&&e.facetsRefinements===this.facetsRefinements&&e.facetsExcludes===this.facetsExcludes&&e.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&e.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(e)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,r){var n=o(r);if(this.isNumericRefined(e,t,n))return this;r=s({},this.numericRefinements);return r[e]=s({},r[e]),r[e][t]?(r[e][t]=r[e][t].slice(),r[e][t].push(n)):r[e][t]=[n],this.setQueryParameters({numericRefinements:r})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(r,n,i){return void 0!==i?this.isNumericRefined(r,n,i)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r&&e.op===n&&d(e.val,o(i))})}):this:void 0!==n?this.isNumericRefined(r,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r&&e.op===n})}):this:this.isNumericRefined(r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(s){if(void 0===s)return u(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof s)return c(this.numericRefinements,[s]);if("function"==typeof s){var o=!1,t=this.numericRefinements,e=Object.keys(t).reduce(function(e,n){var i=t[n],a={},i=i||{};return Object.keys(i).forEach(function(t){var e=i[t]||[],r=[];e.forEach(function(e){s({val:e,op:t},n,"numeric")||r.push(e)}),r.length!==e.length&&(o=!0),a[t]=r}),e[n]=a,e},{});return o?e:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:h.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:h.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return h.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:h.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;e={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(e)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(e){return e!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(e){return e!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(e){return e.name!==t})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:h.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:h.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return h.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:h.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var e={tagRefinements:this.tagRefinements.filter(function(e){return e!==t})};return this.setQueryParameters(e)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:h.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:h.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:h.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n={};return void 0!==this.hierarchicalFacetsRefinements[e]&&0<this.hierarchicalFacetsRefinements[e].length&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+r))?-1===t.indexOf(r)?n[e]=[]:n[e]=[t.slice(0,t.lastIndexOf(r))]:n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:i({},n,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var r={};return r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:i({},r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:i({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return-1<this.disjunctiveFacets.indexOf(e)},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return-1<this.facets.indexOf(e)},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&h.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&h.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&h.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;e=this.getHierarchicalRefinement(e);return t?-1!==e.indexOf(t):0<e.length},isNumericRefined:function(e,t,r){if(void 0===r&&void 0===t)return!!this.numericRefinements[e];var n=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===r||!n)return n;var i,r=o(r),t=void 0!==(t=this.numericRefinements[e][t],i=r,a(t,function(e){return d(e,i)}));return n&&t},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var t=this,e=n(Object.keys(this.numericRefinements).filter(function(e){return 0<Object.keys(t.numericRefinements[e]).length}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(e){return 0<t.disjunctiveFacetsRefinements[e].length}).concat(e).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var t=this;return n(this.hierarchicalFacets.map(function(e){return e.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(e){return 0<t.hierarchicalFacetsRefinements[e].length}))},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(e){return-1===t.indexOf(e)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var r=this.managedParameters,n={},i=this;return Object.keys(this).forEach(function(e){var t=i[e];-1===r.indexOf(e)&&void 0!==t&&(n[e]=t)}),n},setQueryParameter:function(e,t){if(this[e]===t)return this;var r={};return r[e]=t,this.setQueryParameters(r)},setQueryParameters:function(e){if(!e)return this;var t=p.validate(this,e);if(t)throw t;var r=this,i=p._parseNumbers(e),e=Object.keys(this).reduce(function(e,t){return e[t]=r[t],e},{}),e=Object.keys(i).reduce(function(e,t){var r=void 0!==e[t],n=void 0!==i[t];return r&&!n?c(e,[t]):(n&&(e[t]=i[t]),e)},e);return new this.constructor(e)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(t){return a(this.hierarchicalFacets,function(e){return e.name===t})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];e=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(e).map(function(e){return e.trim()})},toString:function(){return JSON.stringify(this,null,2)}},e.exports=p},210:(e,t,r)=>{"use strict";e.exports=function(p){return function(e,t){var a,c,u,l,h,r=p.hierarchicalFacets[t],n=p.hierarchicalFacetsRefinements[r.name]&&p.hierarchicalFacetsRefinements[r.name][0]||"",i=p._getHierarchicalFacetSeparator(r),s=p._getHierarchicalRootPath(r),o=p._getHierarchicalShowParentLevel(r),d=g(p._getHierarchicalFacetSortBy(r)),r=e.every(function(e){return e.exhaustive}),o=(a=d,c=i,l=o,h=n,function(e,s,t){var r,o=e;if(0<t){var n=0;for(o=e;n<t;){var i=o&&Array.isArray(o.data)?o.data:[],o=m(i,function(e){return e.isRefined});n++}}return o&&(r=Object.keys(s.data).map(function(e){return[e,s.data[e]]}).filter(function(e){return t=e[0],r=o.path||u,n=h,i=c,a=l,(!(e=u)||0===t.indexOf(e)&&e!==t)&&(!e&&-1===t.indexOf(i)||e&&t.split(i).length-e.split(i).length==1||-1===t.indexOf(i)&&-1===n.indexOf(i)||0===n.indexOf(t)||0===t.indexOf(r+i)&&(a||0===t.indexOf(n)));var t,r,n,i,a}),o.data=f(r.map(function(e){var t,r,n,i,a=e[0];return t=e[1],r=a,n=c,i=v(h),e=s.exhaustive,{name:(a=r.split(n))[a.length-1].trim(),path:r,escapedValue:y(r),count:t,isRefined:i===r||0===i.indexOf(r+n),exhaustive:e,data:null}}),a[0],a[1])),e}),n=e;return(n=(u=s)?e.slice(s.split(i).length):n).reduce(o,{name:p.hierarchicalFacets[t].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:r,data:null})}};var f=r(148),m=r(888),g=r(293),r=r(39),y=r.escapeFacetValue,v=r.unescapeFacetValue},76:(e,t,r)=>{"use strict";var o=r(185),f=r(344),a=r(148),i=r(587),m=r(888),g=r(725),s=r(293),n=r(39),c=n.escapeFacetValue,y=n.unescapeFacetValue,v=r(210);function b(e){var r={};return e.forEach(function(e,t){r[e]=t}),r}function _(e,t,r){t&&t[r]&&(e.stats=t[r])}function u(l,t,r){var c=t[0];this._rawResults=t;var h=this;Object.keys(c).forEach(function(e){h[e]=c[e]}),Object.keys(r||{}).forEach(function(e){h[e]=r[e]}),this.processingTimeMS=t.reduce(function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=l.hierarchicalFacets.map(function(){return[]}),this.facets=[];var e=l.getRefinedDisjunctiveFacets(),u=b(l.facets),d=b(l.disjunctiveFacets),n=1,p=c.facets||{};Object.keys(p).forEach(function(e){var t,r,n,i,a,s=p[e],o=(t=l.hierarchicalFacets,r=e,m(t,function(e){return-1<(e.attributes||[]).indexOf(r)}));o?(a=o.attributes.indexOf(e),i=g(l.hierarchicalFacets,function(e){return e.name===o.name}),h.hierarchicalFacets[i][a]={attribute:e,data:s,exhaustive:c.exhaustiveFacetsCount}):(i=-1!==l.disjunctiveFacets.indexOf(e),a=-1!==l.facets.indexOf(e),i&&(n=d[e],h.disjunctiveFacets[n]={name:e,data:s,exhaustive:c.exhaustiveFacetsCount},_(h.disjunctiveFacets[n],c.facets_stats,e)),a&&(n=u[e],h.facets[n]={name:e,data:s,exhaustive:c.exhaustiveFacetsCount},_(h.facets[n],c.facets_stats,e)))}),this.hierarchicalFacets=i(this.hierarchicalFacets),e.forEach(function(e){var i=t[n],a=i&&i.facets?i.facets:{},s=l.getHierarchicalFacetByName(e);Object.keys(a).forEach(function(t){var r,e,n=a[t];s?(r=g(l.hierarchicalFacets,function(e){return e.name===s.name}),-1!==(e=g(h.hierarchicalFacets[r],function(e){return e.attribute===t}))&&(h.hierarchicalFacets[r][e].data=o({},h.hierarchicalFacets[r][e].data,n))):(r=d[t],e=c.facets&&c.facets[t]||{},h.disjunctiveFacets[r]={name:t,data:f({},n,e),exhaustive:i.exhaustiveFacetsCount},_(h.disjunctiveFacets[r],i.facets_stats,t),l.disjunctiveFacetsRefinements[t]&&l.disjunctiveFacetsRefinements[t].forEach(function(e){!h.disjunctiveFacets[r].data[e]&&-1<l.disjunctiveFacetsRefinements[t].indexOf(y(e))&&(h.disjunctiveFacets[r].data[e]=0)}))}),n++}),l.getRefinedHierarchicalFacets().forEach(function(e){var s,o=l.getHierarchicalFacetByName(e),c=l._getHierarchicalFacetSeparator(o),u=l.getHierarchicalRefinement(e);0===u.length||u[0].split(c).length<2||(e=t[n],s=e&&e.facets?e.facets:{},Object.keys(s).forEach(function(t){var e,r,n=s[t],i=g(l.hierarchicalFacets,function(e){return e.name===o.name}),a=g(h.hierarchicalFacets[i],function(e){return e.attribute===t});-1!==a&&(e={},0<u.length&&(e[r=u[0].split(c)[0]]=h.hierarchicalFacets[i][a].data[r]),h.hierarchicalFacets[i][a].data=f(e,n,h.hierarchicalFacets[i][a].data))}),n++)}),Object.keys(l.facetsExcludes).forEach(function(t){var e=l.facetsExcludes[t],r=u[t];h.facets[r]={name:t,data:c.facets[t],exhaustive:c.exhaustiveFacetsCount},e.forEach(function(e){h.facets[r]=h.facets[r]||{name:t},h.facets[r].data=h.facets[r].data||{},h.facets[r].data[e]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(v(l)),this.facets=i(this.facets),this.disjunctiveFacets=i(this.disjunctiveFacets),this._state=l}function l(e,t){e=m(e,function(e){return e.name===t});return e&&e.stats}function h(e,t,r,n,i){var a=m(i,function(e){return e.name===r}),i=a&&a.data&&a.data[n]?a.data[n]:0,a=a&&a.exhaustive||!1;return{type:t,attributeName:r,name:n,count:i,exhaustive:a}}u.prototype.getFacetByName=function(t){function e(e){return e.name===t}return m(this.facets,e)||m(this.disjunctiveFacets,e)||m(this.hierarchicalFacets,e)},u.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],u.prototype.getFacetValues=function(e,t){var r=function(r,n){function e(e){return e.name===n}if(r._state.isConjunctiveFacet(n)){var i=m(r.facets,e);return i?Object.keys(i.data).map(function(e){var t=c(e);return{name:e,escapedValue:t,count:i.data[e],isRefined:r._state.isFacetRefined(n,t),isExcluded:r._state.isExcludeRefined(n,e)}}):[]}if(r._state.isDisjunctiveFacet(n)){var a=m(r.disjunctiveFacets,e);return a?Object.keys(a.data).map(function(e){var t=c(e);return{name:e,escapedValue:t,count:a.data[e],isRefined:r._state.isDisjunctiveFacetRefined(n,t)}}):[]}if(r._state.isHierarchicalFacet(n))return m(r.hierarchicalFacets,e)}(this,e);if(r){var n=f({},t,{sortBy:u.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this;return function t(r,e,n,i){if(i=i||0,Array.isArray(e))return r(e,n[i]);if(!e.data||0===e.data.length)return e;var a=e.data.map(function(e){return t(r,e,n,i+1)}),a=r(a,n[i]);return f({data:a},e)}(function(e,t){if(n.facetOrdering){t=i.renderingContent&&i.renderingContent.facetOrdering&&i.renderingContent.facetOrdering.values&&i.renderingContent.facetOrdering.values[t];if(Boolean(t))return function(e,t){var r=[],n=[],i=(t.order||[]).reduce(function(e,t,r){return e[t]=r,e},{});e.forEach(function(e){var t=e.path||e.name;void 0!==i[t]?r[i[t]]=e:n.push(e)});var r=r.filter(function(e){return e}),t=t.sortRemainingBy;return"hidden"===t?r:r.concat(a(n,(t="alpha"===t?[["path","name"],["asc","asc"]]:[["count"],["desc"]])[0],t[1]))}(e,t)}if(Array.isArray(n.sortBy)){var r=s(n.sortBy,u.DEFAULT_SORT);return a(e,r[0],r[1])}if("function"==typeof n.sortBy)return r=n.sortBy,e.sort(r);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},r,Array.isArray(r)?[e]:i._state.getHierarchicalFacetByName(r.name).attributes)}},u.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?l(this.facets,e):this._state.isDisjunctiveFacet(e)?l(this.disjunctiveFacets,e):void 0},u.prototype.getRefinements=function(){var s=this._state,o=this,c=[];return Object.keys(s.facetsRefinements).forEach(function(t){s.facetsRefinements[t].forEach(function(e){c.push(h(0,"facet",t,e,o.facets))})}),Object.keys(s.facetsExcludes).forEach(function(t){s.facetsExcludes[t].forEach(function(e){c.push(h(0,"exclude",t,e,o.facets))})}),Object.keys(s.disjunctiveFacetsRefinements).forEach(function(t){s.disjunctiveFacetsRefinements[t].forEach(function(e){c.push(h(0,"disjunctive",t,e,o.disjunctiveFacets))})}),Object.keys(s.hierarchicalFacetsRefinements).forEach(function(a){s.hierarchicalFacetsRefinements[a].forEach(function(e){var t,r,n,i;c.push((t=s,r=a,n=e,i=o.hierarchicalFacets,e=t.getHierarchicalFacetByName(r),e=t._getHierarchicalFacetSeparator(e),n=n.split(e),e=m(i,function(e){return e.name===r}),n=(i=n.reduce(function(e,t){var r=e&&m(e.data,function(e){return e.name===t});return void 0!==r?r:e},e))&&i.count||0,e=i&&i.exhaustive||!1,i=i&&i.path||"",{type:"hierarchical",attributeName:r,name:i,count:n,exhaustive:e}))})}),Object.keys(s.numericRefinements).forEach(function(r){var e=s.numericRefinements[r];Object.keys(e).forEach(function(t){e[t].forEach(function(e){c.push({type:"numeric",attributeName:r,name:e,numericValue:e,operator:t})})})}),s.tagRefinements.forEach(function(e){c.push({type:"tag",attributeName:"_tags",name:e})}),c},e.exports=u},374:(e,t,r)=>{"use strict";var n=r(775),i=r(76),a=r(78),c=r(394),s=r(331),o=r(853),u=r(116),l=r(803),h=r(185),d=r(336),p=r(39).escapeFacetValue;function f(e,t,r){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+d+")"),this.setClient(e);r=r||{};r.index=t,this.state=n.make(r),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function m(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function g(){return this.state.page}o(f,s),f.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},f.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},f.prototype.getQuery=function(){var e=this.state;return c._getHitsSearchParams(e)},f.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,e=c._getQueries(r.index,r),n=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),!t)return this.client.search(e).then(function(e){return n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),{content:new i(r,e.results),state:r,_originalResponse:e}},function(e){throw n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),e});this.client.search(e).then(function(e){n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),t(null,new i(r,e.results),r)}).catch(function(e){n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),t(e,null,r)})},f.prototype.findAnswers=function(e){var t=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var n=r.getModifiedState(t),i=h({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:l(c._getHitsSearchParams(n),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),r="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(r);t=this.client.initIndex(n.index);if("function"!=typeof t.findAnswers)throw new Error(r);return t.findAnswers(n.query,e.queryLanguages,i)},f.prototype.searchForFacetValues=function(t,e,r,n){var i="function"==typeof this.client.searchForFacetValues;if(!i&&"function"!=typeof this.client.initIndex)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(n||{}),s=a.isDisjunctiveFacet(t),r=c.getSearchForFacetQuery(t,e,r,a);this._currentNbQueries++;var o=this;return this.emit("searchForFacetValues",{state:a,facet:t,query:e}),(i?this.client.searchForFacetValues([{indexName:a.index,params:r}]):this.client.initIndex(a.index).searchForFacetValues(r)).then(function(e){return o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),(e=Array.isArray(e)?e[0]:e).facetHits.forEach(function(e){e.escapedValue=p(e.value),e.isRefined=s?a.isDisjunctiveFacetRefined(t,e.escapedValue):a.isFacetRefined(t,e.escapedValue)}),e},function(e){throw o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),e})},f.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},f.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},f.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},f.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},f.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},f.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},f.prototype.addNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,r),isPageReset:!0}),this},f.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},f.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},f.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},f.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},f.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},f.prototype.removeNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,r),isPageReset:!0}),this},f.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},f.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},f.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},f.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},f.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},f.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},f.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},f.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},f.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},f.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},f.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},f.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},f.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},f.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},f.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},f.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},f.prototype.setCurrentPage=m,f.prototype.setPage=m,f.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},f.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},f.prototype.setState=function(e){return this._change({state:n.make(e),isPageReset:!1}),this},f.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new n(e),this},f.prototype.hasRefinements=function(e){return!!u(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},f.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},f.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},f.prototype.hasTag=function(e){return this.state.isTagRefined(e)},f.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},f.prototype.getIndex=function(){return this.state.index},f.prototype.getCurrentPage=g,f.prototype.getPage=g,f.prototype.getTags=function(){return this.state.tagRefinements},f.prototype.getRefinements=function(e){var r=[];this.state.isConjunctiveFacet(e)?(this.state.getConjunctiveRefinements(e).forEach(function(e){r.push({value:e,type:"conjunctive"})}),this.state.getExcludeRefinements(e).forEach(function(e){r.push({value:e,type:"exclude"})})):this.state.isDisjunctiveFacet(e)&&this.state.getDisjunctiveRefinements(e).forEach(function(e){r.push({value:e,type:"disjunctive"})});var n=this.state.getNumericRefinements(e);return Object.keys(n).forEach(function(e){var t=n[e];r.push({value:t,operator:e,type:"numeric"})}),r},f.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},f.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},f.prototype._search=function(e){var n=this.state,i=[],t=[];e.onlyWithDerivedHelpers||(t=c._getQueries(n.index,n),i.push({state:n,queriesCount:t.length,helper:this}),this.emit("search",{state:n,results:this.lastResults}));var r=this.derivedHelpers.map(function(e){var t=e.getModifiedState(n),r=c._getQueries(t.index,t);return i.push({state:t,queriesCount:r.length,helper:e}),e.emit("search",{state:t,results:e.lastResults}),r}),t=Array.prototype.concat.apply(t,r),r=this._queryId++;this._currentNbQueries++;try{this.client.search(t).then(this._dispatchAlgoliaResponse.bind(this,i,r)).catch(this._dispatchAlgoliaError.bind(this,r))}catch(e){this.emit("error",{error:e})}},f.prototype._dispatchAlgoliaResponse=function(e,t,r){var n;t<this._lastQueryIdReceived||(this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty"),n=r.results.slice(),e.forEach(function(e){var t=e.state,r=e.queriesCount,e=e.helper,r=n.splice(0,r),r=e.lastResults=new i(t,r);e.emit("result",{results:r,state:t})}))},f.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},f.prototype.containsRefinement=function(e,t,r,n){return e||0!==t.length||0!==r.length||0!==n.length},f.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&0<this.state.disjunctiveRefinements[e].length},f.prototype._change=function(e){var t=e.state,e=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:e}))},f.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},f.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+d+")"),this.client=e),this},f.prototype.getClient=function(){return this.client},f.prototype.derive=function(e){e=new a(this,e);return this.derivedHelpers.push(e),e},f.prototype.detachDerivedHelper=function(e){e=this.derivedHelpers.indexOf(e);if(-1===e)throw new Error("Derived helper already detached");this.derivedHelpers.splice(e,1)},f.prototype.hasPendingRequests=function(){return 0<this._currentNbQueries},e.exports=f},587:e=>{"use strict";e.exports=function(e){return Array.isArray(e)?e.filter(Boolean):[]}},344:e=>{"use strict";e.exports=function(){return Array.prototype.slice.call(arguments).reduceRight(function(t,r){return Object.keys(Object(r)).forEach(function(e){void 0!==r[e]&&(void 0!==t[e]&&delete t[e],t[e]=r[e])}),t},{})}},39:e=>{"use strict";e.exports={escapeFacetValue:function(e){return"string"!=typeof e?e:String(e).replace(/^-/,"\\-")},unescapeFacetValue:function(e){return"string"!=typeof e?e:e.replace(/^\\-/,"-")}}},888:e=>{"use strict";e.exports=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}},725:e=>{"use strict";e.exports=function(e,t){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}},293:(e,t,r)=>{"use strict";var i=r(888);e.exports=function(e,t){var n=(t||[]).map(function(e){return e.split(":")});return e.reduce(function(e,t){var r=t.split(":"),t=i(n,function(e){return e[0]===r[0]});return 1<r.length||!t?(e[0].push(r[0]),e[1].push(r[1])):(e[0].push(t[0]),e[1].push(t[1])),e},[[],[]])}},853:e=>{"use strict";e.exports=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}},686:e=>{"use strict";e.exports=function(r,n){return r.filter(function(e,t){return-1<n.indexOf(e)&&r.indexOf(e)===t})}},185:e=>{"use strict";function s(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){s(e)||(e={});for(var t=1,r=arguments.length;t<r;t++){var n=arguments[t];s(n)&&function e(t,r){if(t===r)return t;for(var n in r){var i;Object.prototype.hasOwnProperty.call(r,n)&&"__proto__"!==n&&(a=r[n],void 0!==(i=t[n])&&void 0===a||(s(i)&&s(a)?t[n]=e(i,a):t[n]="object"==typeof a&&null!==a?e(Array.isArray(a)?[]:{},a):a))}var a;return t}(e,n)}return e}},116:e=>{"use strict";e.exports=function(e){return e&&0<Object.keys(e).length}},803:e=>{"use strict";e.exports=function(e,t){if(null===e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}},148:e=>{"use strict";e.exports=function(e,r,i){if(!Array.isArray(e))return[];Array.isArray(i)||(i=[]);e=e.map(function(t,e){return{criteria:r.map(function(e){return t[e]}),index:e,value:t}});return e.sort(function(e,t){for(var r=-1;++r<e.criteria.length;){var n=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=void 0!==t,a=null===t;if(!a&&t<e||n&&i||!r)return 1;if(!n&&e<t||a&&r||!i)return-1}return 0}(e.criteria[r],t.criteria[r]);if(n)return!(r>=i.length)&&"desc"===i[r]?-n:n}return e.index-t.index}),e.map(function(e){return e.value})}},23:e=>{"use strict";e.exports=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")}},394:(e,t,r)=>{"use strict";var o=r(185),c={_getQueries:function(n,i){var a=[];return a.push({indexName:n,params:c._getHitsSearchParams(i)}),i.getRefinedDisjunctiveFacets().forEach(function(e){a.push({indexName:n,params:c._getDisjunctiveFacetSearchParams(i,e)})}),i.getRefinedHierarchicalFacets().forEach(function(e){var t=i.getHierarchicalFacetByName(e),r=i.getHierarchicalRefinement(e),t=i._getHierarchicalFacetSeparator(t);0<r.length&&1<r[0].split(t).length&&a.push({indexName:n,params:c._getDisjunctiveFacetSearchParams(i,e,!0)})}),a},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(c._getHitsHierarchicalFacetsAttributes(e)),r=c._getFacetFilters(e),n=c._getNumericFilters(e),i=c._getTagFilters(e),i={facets:-1<t.indexOf("*")?["*"]:t,tagFilters:i};return 0<r.length&&(i.facetFilters=r),0<n.length&&(i.numericFilters=n),o({},e.getQueryParams(),i)},_getDisjunctiveFacetSearchParams:function(e,t,r){var n=c._getFacetFilters(e,t,r),i=c._getNumericFilters(e,t),a={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:c._getTagFilters(e),analytics:!1,clickAnalytics:!1},s=e.getHierarchicalFacetByName(t);return a.facets=s?c._getDisjunctiveHierarchicalFacetAttribute(e,s,r):t,0<i.length&&(a.numericFilters=i),0<n.length&&(a.facetFilters=n),o({},e.getQueryParams(),a)},_getNumericFilters:function(e,i){if(e.numericFilters)return e.numericFilters;var a=[];return Object.keys(e.numericRefinements).forEach(function(n){var t=e.numericRefinements[n]||{};Object.keys(t).forEach(function(r){var e=t[r]||[];i!==n&&e.forEach(function(e){var t;Array.isArray(e)?(t=e.map(function(e){return n+r+e}),a.push(t)):a.push(n+r+e)})})}),a},_getTagFilters:function(e){return e.tagFilters||e.tagRefinements.join(",")},_getFacetFilters:function(o,c,u){var l=[],e=o.facetsRefinements||{};Object.keys(e).forEach(function(t){(e[t]||[]).forEach(function(e){l.push(t+":"+e)})});var r=o.facetsExcludes||{};Object.keys(r).forEach(function(t){(r[t]||[]).forEach(function(e){l.push(t+":-"+e)})});var n=o.disjunctiveFacetsRefinements||{};Object.keys(n).forEach(function(t){var r,e=n[t]||[];t!==c&&e&&0!==e.length&&(r=[],e.forEach(function(e){r.push(t+":"+e)}),l.push(r))});var h=o.hierarchicalFacetsRefinements||{};return Object.keys(h).forEach(function(e){var t=(h[e]||[])[0];if(void 0!==t){var r,n,i=o.getHierarchicalFacetByName(e),a=o._getHierarchicalFacetSeparator(i),s=o._getHierarchicalRootPath(i);if(c===e){if(-1===t.indexOf(a)||!s&&!0===u||s&&s.split(a).length===t.split(a).length)return;t=s?(n=s.split(a).length-1,s):(n=t.split(a).length-2,t.slice(0,t.lastIndexOf(a))),r=i.attributes[n]}else n=t.split(a).length-1,r=i.attributes[n];r&&l.push([r+":"+t])}}),l},_getHitsHierarchicalFacetsAttributes:function(i){return i.hierarchicalFacets.reduce(function(e,t){var r=i.getHierarchicalRefinement(t.name)[0];if(!r)return e.push(t.attributes[0]),e;var n=i._getHierarchicalFacetSeparator(t),n=r.split(n).length,n=t.attributes.slice(0,n+1);return e.concat(n)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n=e._getHierarchicalFacetSeparator(t);if(!0===r){var i=e._getHierarchicalRootPath(t),r=0;return i&&(r=i.split(n).length),[t.attributes[r]]}n=(e.getHierarchicalRefinement(t.name)[0]||"").split(n).length-1;return t.attributes.slice(0,1+n)},getSearchForFacetQuery:function(e,t,r,n){n=n.isDisjunctiveFacet(e)?n.clearRefinements(e):n,e={facetQuery:t,facetName:e};return"number"==typeof r&&(e.maxFacetHits=r),o({},c._getHitsSearchParams(n),e)}};e.exports=c},801:e=>{"use strict";e.exports=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)}},336:e=>{"use strict";e.exports="3.8.2"},955:function(e){e.exports=function(){"use strict";function t(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function y(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?t(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function h(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e){var a=0<arguments.length&&void 0!==e?e:{serializable:!0},s={};return{get:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},e=JSON.stringify(e);if(e in s)return Promise.resolve(a.serializable?JSON.parse(s[e]):s[e]);var n=t(),i=r&&r.miss||function(){return Promise.resolve()};return n.then(function(e){return i(e)}).then(function(){return n})},set:function(e,t){return s[JSON.stringify(e)]=a.serializable?JSON.stringify(t):t,Promise.resolve(t)},delete:function(e){return delete s[JSON.stringify(e)],Promise.resolve()},clear:function(){return s={},Promise.resolve()}}}function m(e,t,r){var n={"x-algolia-api-key":r,"x-algolia-application-id":t};return{headers:function(){return e===_.WithinHeaders?n:{}},queryParameters:function(){return e===_.WithinQueryParameters?n:{}}}}function o(r){var n=0;return r(function t(){return n++,new Promise(function(e){setTimeout(function(){e(r(t))},Math.min(100*n,1e3))})})}function d(e,t){var r=1<arguments.length&&void 0!==t?t:function(e,t){return Promise.resolve()};return Object.assign(e,{wait:function(t){return d(e.then(function(e){return Promise.all([r(e,t),e])}).then(function(e){return e[1]}))}})}function g(t,r){return r&&Object.keys(r).forEach(function(e){t[e]=r[e](t)}),t}function b(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0;return e.replace(/%s/g,function(){return encodeURIComponent(r[i++])})}var _={WithinQueryParameters:0,WithinHeaders:1};function w(e,t){var r=e||{},n=r.data||{};return Object.keys(r).forEach(function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(n[e]=r[e])}),{data:0<Object.entries(n).length?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var S={Read:1,Write:2,Any:3};function O(e,t){t=1<arguments.length&&void 0!==t?t:1;return y(y({},e),{},{status:t,lastUpdate:Date.now()})}function P(e){return"string"==typeof e?{protocol:"https",url:e,accept:S.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||S.Any}}var i="DELETE",s="GET",R="POST";function I(o,e,c,u){function l(r,n){var i=r.pop();if(void 0===i)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:A(h)};function a(e){return e={request:t,response:e,host:i,triesLeft:r.length},h.push(e),e}var t={data:d,headers:p,method:f,url:function(e,t,r){r=E(r),t="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return r.length&&(t+="?".concat(r)),t}(i,c.path,m),connectTimeout:n(g,o.timeouts.connect),responseTimeout:n(g,u.timeout)},s={onSuccess:function(t){try{return JSON.parse(t.content)}catch(e){throw{name:"DeserializationError",message:e.message,response:t}}},onRetry:function(e){var t=a(e);return e.isTimedOut&&g++,Promise.all([o.logger.info("Retryable failure",x(t)),o.hostsCache.set(i,O(i,e.isTimedOut?3:2))]).then(function(){return l(r,n)})},onFail:function(e){throw a(e),function(e,t){var r=e.content,n=e.status,i=r;try{i=JSON.parse(r).message}catch(e){}return{name:"ApiError",message:i,status:n,transporterStackTrace:t}}(e,A(h))}};return o.requester.send(t).then(function(e){return r=s,i=(n=t=e).status,n.isTimedOut||(e=n.isTimedOut,n=n.status,!e&&0==~~n)||2!=~~(i/100)&&4!=~~(i/100)?r.onRetry(t):2==~~(t.status/100)?r.onSuccess(t):r.onFail(t);var t,r,n,i})}var t,r,n,i,a,h=[],d=function(e,t){if(e.method!==s&&(void 0!==e.data||void 0!==t.data)){t=Array.isArray(e.data)?e.data:y(y({},e.data),t.data);return JSON.stringify(t)}}(c,u),p=(t=u,r=y(y({},o.headers),t.headers),n={},Object.keys(r).forEach(function(e){var t=r[e];n[e.toLowerCase()]=t}),n),f=c.method,t=c.method!==s?{}:y(y({},c.data),u.data),m=y(y(y({"x-algolia-agent":o.userAgent.value},o.queryParameters),t),u.queryParameters),g=0;return i=o.hostsCache,a=e,Promise.all(a.map(function(e){return i.get(e,function(){return Promise.resolve(O(e))})})).then(function(e){var t=e.filter(function(e){return 1===(e=e).status||12e4<Date.now()-e.lastUpdate}),r=e.filter(function(e){return 3===(e=e).status&&Date.now()-e.lastUpdate<=12e4}),t=[].concat(v(t),v(r));return{getTimeout:function(e,t){return(0===r.length&&0===e?1:r.length+3+e)*t},statelessHosts:0<t.length?t.map(P):a}}).then(function(e){return l(v(e.statelessHosts).reverse(),e.getTimeout)})}function j(e){var t=e.hostsCache,r=e.logger,n=e.requester,i=e.requestsCache,a=e.responsesCache,s=e.timeouts,o=e.userAgent,c=e.hosts,u=e.queryParameters,l={hostsCache:t,logger:r,requester:n,requestsCache:i,responsesCache:a,timeouts:s,userAgent:o,headers:e.headers,queryParameters:u,hosts:c.map(P),read:function(e,t){function r(){return I(l,l.hosts.filter(function(e){return 0!=(e.accept&S.Read)}),e,n)}var n=w(t,l.timeouts.read);if(!0!==(void 0!==n.cacheable?n:e).cacheable)return r();var i={request:e,mappedRequestOptions:n,transporter:{queryParameters:l.queryParameters,headers:l.headers}};return l.responsesCache.get(i,function(){return l.requestsCache.get(i,function(){return l.requestsCache.set(i,r()).then(function(e){return Promise.all([l.requestsCache.delete(i),e])},function(e){return Promise.all([l.requestsCache.delete(i),Promise.reject(e)])}).then(function(e){e=p(e,2);return e[0],e[1]})})},{miss:function(e){return l.responsesCache.set(i,e)}})},write:function(e,t){return I(l,l.hosts.filter(function(e){return 0!=(e.accept&S.Write)}),e,w(t,l.timeouts.write))}};return l}function E(r){return Object.keys(r).map(function(e){return b("%s=%s",e,(t=r[e],"[object Object]"===Object.prototype.toString.call(t)||"[object Array]"===Object.prototype.toString.call(t)?JSON.stringify(r[e]):r[e]));var t}).join("&")}function A(e){return e.map(x)}function x(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return y(y({},e),{},{request:y(y({},e.request),{},{headers:y(y({},e.request.headers),t)})})}function k(r){return function(e,t){return r.transporter.write({method:R,path:"2/abtests",data:e},t)}}function T(r){return function(e,t){return r.transporter.write({method:i,path:b("2/abtests/%s",e)},t)}}function D(r){return function(e,t){return r.transporter.read({method:s,path:b("2/abtests/%s",e)},t)}}function C(t){return function(e){return t.transporter.read({method:s,path:"2/abtests"},e)}}function F(r){return function(e,t){return r.transporter.write({method:R,path:b("2/abtests/%s/stop",e)},t)}}function N(t){return function(e){return t.transporter.read({method:s,path:"1/strategies/personalization"},e)}}function H(r){return function(e,t){return r.transporter.write({method:R,path:"1/strategies/personalization",data:e},t)}}function n(n){return function t(r){return n.request(r).then(function(e){if(void 0!==n.batch&&n.batch(e.hits),!n.shouldStop(e))return e.cursor?t({cursor:e.cursor}):t({page:(r.page||0)+1})})}({})}function U(n){return function(e,t){var r=t||{},t=r.queryParameters,r=h(r,["queryParameters"]),t=y({acl:e},void 0!==t?{queryParameters:t}:{});return d(n.transporter.write({method:R,path:"1/keys",data:t},r),function(e,r){return o(function(t){return Je(n)(e.key,r).catch(function(e){if(404!==e.status)throw e;return t()})})})}}function L(n){return function(e,t,r){r=w(r);return r.queryParameters["X-Algolia-User-ID"]=e,n.transporter.write({method:R,path:"1/clusters/mapping",data:{cluster:t}},r)}}function q(n){return function(e,t,r){return n.transporter.write({method:R,path:"1/clusters/mapping/batch",data:{users:e,cluster:t}},r)}}function M(r){return function(e,t){return d(r.transporter.write({method:R,path:b("/1/dictionaries/%s/batch",e),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},t),function(e,t){return ze(r)(e.taskID,t)})}}function B(n){return function(r,e,t){return d(n.transporter.write({method:R,path:b("1/indexes/%s/operation",r),data:{operation:"copy",destination:e}},t),function(e,t){return Ke(n)(r,{methods:{waitTask:at}}).waitTask(e.taskID,t)})}}function W(n){return function(e,t,r){return B(n)(e,t,y(y({},r),{},{scope:[a.Rules]}))}}function Q(n){return function(e,t,r){return B(n)(e,t,y(y({},r),{},{scope:[a.Settings]}))}}function V(n){return function(e,t,r){return B(n)(e,t,y(y({},r),{},{scope:[a.Synonyms]}))}}function J(r){return function(e,t){return e.method===s?r.transporter.read(e,t):r.transporter.write(e,t)}}function K(n){return function(r,e){return d(n.transporter.write({method:i,path:b("1/keys/%s",r)},e),function(e,t){return o(function(e){return Je(n)(r,t).then(e).catch(function(e){if(404!==e.status)throw e})})})}}function z(n){return function(e,t,r){t=t.map(function(e){return{action:"deleteEntry",body:{objectID:e}}});return d(n.transporter.write({method:R,path:b("/1/dictionaries/%s/batch",e),data:{clearExistingDictionaryEntries:!1,requests:t}},r),function(e,t){return ze(n)(e.taskID,t)})}}function G(t){return function(e){return t.transporter.read({method:s,path:"/1/dictionaries/*/settings"},e)}}function $(t){return function(e){return t.transporter.read({method:s,path:"1/logs"},e)}}function Y(t){return function(e){return t.transporter.read({method:s,path:"1/clusters/mapping/top"},e)}}function Z(r){return function(e,t){return r.transporter.read({method:s,path:b("1/task/%s",e.toString())},t)}}function X(r){return function(e,t){return r.transporter.read({method:s,path:b("1/clusters/mapping/%s",e)},t)}}function ee(r){return function(e){var t=e||{},e=t.retrieveMappings,t=h(t,["retrieveMappings"]);return!0===e&&(t.getClusters=!0),r.transporter.read({method:s,path:"1/clusters/mapping/pending"},t)}}function te(t){return function(e){return t.transporter.read({method:s,path:"1/keys"},e)}}function re(t){return function(e){return t.transporter.read({method:s,path:"1/clusters"},e)}}function ne(t){return function(e){return t.transporter.read({method:s,path:"1/indexes"},e)}}function ie(t){return function(e){return t.transporter.read({method:s,path:"1/clusters/mapping"},e)}}function ae(n){return function(r,e,t){return d(n.transporter.write({method:R,path:b("1/indexes/%s/operation",r),data:{operation:"move",destination:e}},t),function(e,t){return Ke(n)(r,{methods:{waitTask:at}}).waitTask(e.taskID,t)})}}function se(n){return function(e,t){return d(n.transporter.write({method:R,path:"1/indexes/*/batch",data:{requests:e}},t),function(t,r){return Promise.all(Object.keys(t.taskID).map(function(e){return Ke(n)(e,{methods:{waitTask:at}}).waitTask(t.taskID[e],r)}))})}}function oe(r){return function(e,t){return r.transporter.read({method:R,path:"1/indexes/*/objects",data:{requests:e}},t)}}function ce(r){return function(e,t){e=e.map(function(e){return y(y({},e),{},{params:E(e.params||{})})});return r.transporter.read({method:R,path:"1/indexes/*/queries",data:{requests:e},cacheable:!0},t)}}function ue(a){return function(e,i){return Promise.all(e.map(function(e){var t=e.params,r=t.facetName,n=t.facetQuery,t=h(t,["facetName","facetQuery"]);return Ke(a)(e.indexName,{methods:{searchForFacetValues:rt}}).searchForFacetValues(r,n,y(y({},i),t))}))}}function le(r){return function(e,t){t=w(t);return t.queryParameters["X-Algolia-User-ID"]=e,r.transporter.write({method:i,path:"1/clusters/mapping"},t)}}function he(n){return function(e,t,r){t=t.map(function(e){return{action:"addEntry",body:e}});return d(n.transporter.write({method:R,path:b("/1/dictionaries/%s/batch",e),data:{clearExistingDictionaryEntries:!0,requests:t}},r),function(e,t){return ze(n)(e.taskID,t)})}}function de(i){return function(n,e){return d(i.transporter.write({method:R,path:b("1/keys/%s/restore",n)},e),function(e,r){return o(function(t){return Je(i)(n,r).catch(function(e){if(404!==e.status)throw e;return t()})})})}}function pe(n){return function(e,t,r){t=t.map(function(e){return{action:"addEntry",body:e}});return d(n.transporter.write({method:R,path:b("/1/dictionaries/%s/batch",e),data:{clearExistingDictionaryEntries:!1,requests:t}},r),function(e,t){return ze(n)(e.taskID,t)})}}function fe(n){return function(e,t,r){return n.transporter.read({method:R,path:b("/1/dictionaries/%s/search",e),data:{query:t},cacheable:!0},r)}}function me(r){return function(e,t){return r.transporter.read({method:R,path:"1/clusters/mapping/search",data:{query:e}},t)}}function ge(r){return function(e,t){return d(r.transporter.write({method:"PUT",path:"/1/dictionaries/*/settings",data:e},t),function(e,t){return ze(r)(e.taskID,t)})}}function ye(s){return function(n,e){var i=Object.assign({},e),t=e||{},e=t.queryParameters,t=h(t,["queryParameters"]),e=e?{queryParameters:e}:{},a=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return d(s.transporter.write({method:"PUT",path:b("1/keys/%s",n),data:e},t),function(e,t){return o(function(r){return Je(s)(n,t).then(function(e){return t=e,Object.keys(i).filter(function(e){return-1!==a.indexOf(e)}).every(function(e){return t[e]===i[e]})?Promise.resolve():r();var t})})})}}function ve(r){return function(e,t){return d(r.transporter.write({method:R,path:b("1/indexes/%s/batch",r.indexName),data:{requests:e}},t),function(e,t){return at(r)(e.taskID,t)})}}function be(r){return function(t){return n(y(y({shouldStop:function(e){return void 0===e.cursor}},t),{},{request:function(e){return r.transporter.read({method:R,path:b("1/indexes/%s/browse",r.indexName),data:e},t)}}))}}function _e(r){return function(e){var t=y({hitsPerPage:1e3},e);return n(y(y({shouldStop:function(e){return e.hits.length<t.hitsPerPage}},t),{},{request:function(e){return nt(r)("",y(y({},t),e)).then(function(e){return y(y({},e),{},{hits:e.hits.map(function(e){return delete e._highlightResult,e})})})}}))}}function we(r){return function(e){var t=y({hitsPerPage:1e3},e);return n(y(y({shouldStop:function(e){return e.hits.length<t.hitsPerPage}},t),{},{request:function(e){return it(r)("",y(y({},t),e)).then(function(e){return y(y({},e),{},{hits:e.hits.map(function(e){return delete e._highlightResult,e})})})}}))}}function u(c){return function(n,i,e){var e=e||{},a=e.batchSize,s=h(e,["batchSize"]),o={taskIDs:[],objectIDs:[]};return d(function t(){for(var e=[],r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;r<n.length&&(e.push(n[r]),e.length!==(a||1e3));r++);return 0===e.length?Promise.resolve(o):ve(c)(e.map(function(e){return{action:i,body:e}}),s).then(function(e){return o.objectIDs=o.objectIDs.concat(e.objectIDs),o.taskIDs.push(e.taskID),t(++r)})}(),function(e,t){return Promise.all(e.taskIDs.map(function(e){return at(c)(e,t)}))})}}function Se(r){return function(e){return d(r.transporter.write({method:R,path:b("1/indexes/%s/clear",r.indexName)},e),function(e,t){return at(r)(e.taskID,t)})}}function Oe(r){return function(e){var t=e||{},e=t.forwardToReplicas,t=w(h(t,["forwardToReplicas"]));return e&&(t.queryParameters.forwardToReplicas=1),d(r.transporter.write({method:R,path:b("1/indexes/%s/rules/clear",r.indexName)},t),function(e,t){return at(r)(e.taskID,t)})}}function Pe(r){return function(e){var t=e||{},e=t.forwardToReplicas,t=w(h(t,["forwardToReplicas"]));return e&&(t.queryParameters.forwardToReplicas=1),d(r.transporter.write({method:R,path:b("1/indexes/%s/synonyms/clear",r.indexName)},t),function(e,t){return at(r)(e.taskID,t)})}}function Re(r){return function(e,t){return d(r.transporter.write({method:R,path:b("1/indexes/%s/deleteByQuery",r.indexName),data:e},t),function(e,t){return at(r)(e.taskID,t)})}}function Ie(r){return function(e){return d(r.transporter.write({method:i,path:b("1/indexes/%s",r.indexName)},e),function(e,t){return at(r)(e.taskID,t)})}}function je(r){return function(e,t){return d(Ge(r)([e],t).then(function(e){return{taskID:e.taskIDs[0]}}),function(e,t){return at(r)(e.taskID,t)})}}function Ee(n){return function(e,t){var r=t||{},t=r.forwardToReplicas,r=w(h(r,["forwardToReplicas"]));return t&&(r.queryParameters.forwardToReplicas=1),d(n.transporter.write({method:i,path:b("1/indexes/%s/rules/%s",n.indexName,e)},r),function(e,t){return at(n)(e.taskID,t)})}}function Ae(n){return function(e,t){var r=t||{},t=r.forwardToReplicas,r=w(h(r,["forwardToReplicas"]));return t&&(r.queryParameters.forwardToReplicas=1),d(n.transporter.write({method:i,path:b("1/indexes/%s/synonyms/%s",n.indexName,e)},r),function(e,t){return at(n)(e.taskID,t)})}}function xe(t){return function(e){return $e(t)(e).then(function(){return!0}).catch(function(e){if(404!==e.status)throw e;return!1})}}function ke(n){return function(e,t,r){return n.transporter.read({method:R,path:b("1/answers/%s/prediction",n.indexName),data:{query:e,queryLanguages:t},cacheable:!0},r)}}function Te(n){return function(s,e){var e=e||{},t=e.query,o=e.paginate,r=h(e,["query","paginate"]),c=0;return function a(){return tt(n)(t||"",y(y({},r),{},{page:c})).then(function(e){for(var t=0,r=Object.entries(e.hits);t<r.length;t++){var n=p(r[t],2),i=n[0],n=n[1];if(s(n))return{object:n,position:parseInt(i,10),page:c}}if(c++,!1===o||c>=e.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return a()})}()}}function De(r){return function(e,t){return r.transporter.read({method:s,path:b("1/indexes/%s/%s",r.indexName,e)},t)}}function Ce(){return function(e,t){for(var r=0,n=Object.entries(e.hits);r<n.length;r++){var i=p(n[r],2),a=i[0];if(i[1].objectID===t)return parseInt(a,10)}return-1}}function Fe(n){return function(e,t){var t=t||{},r=t.attributesToRetrieve,t=h(t,["attributesToRetrieve"]),e=e.map(function(e){return y({indexName:n.indexName,objectID:e},r?{attributesToRetrieve:r}:{})});return n.transporter.read({method:R,path:"1/indexes/*/objects",data:{requests:e}},t)}}function Ne(r){return function(e,t){return r.transporter.read({method:s,path:b("1/indexes/%s/rules/%s",r.indexName,e)},t)}}function He(r){return function(e,t){return r.transporter.read({method:s,path:b("1/indexes/%s/synonyms/%s",r.indexName,e)},t)}}function Ue(r){return function(e,t){return d(Ye(r)([e],t).then(function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}}),function(e,t){return at(r)(e.taskID,t)})}}function Le(l){return function(t,e){function r(e,t,r,n){return d(l.transporter.write({method:R,path:b("1/indexes/%s/operation",e),data:{operation:r,destination:t}},n),function(e,t){return at(l)(e.taskID,t)})}var e=e||{},n=e.safe,i=e.autoGenerateObjectIDIfNotExist,a=e.batchSize,s=h(e,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),e=Math.random().toString(36).substring(7),o="".concat(l.indexName,"_tmp_").concat(e),c=Ze({appId:l.appId,transporter:l.transporter,indexName:o}),u=[],e=r(l.indexName,o,"copy",y(y({},s),{},{scope:["settings","synonyms","rules"]}));return u.push(e),d((n?e.wait(s):e).then(function(){var e=c(t,y(y({},s),{},{autoGenerateObjectIDIfNotExist:i,batchSize:a}));return u.push(e),n?e.wait(s):e}).then(function(){var e=r(o,l.indexName,"move",s);return u.push(e),n?e.wait(s):e}).then(function(){return Promise.all(u)}).then(function(e){var t=p(e,3),r=t[0],e=t[1],t=t[2];return{objectIDs:e.objectIDs,taskIDs:[r.taskID].concat(v(e.taskIDs),[t.taskID])}}),function(e,t){return Promise.all(u.map(function(e){return e.wait(t)}))})}}function qe(r){return function(e,t){return Xe(r)(e,y(y({},t),{},{clearExistingRules:!0}))}}function Me(r){return function(e,t){return et(r)(e,y(y({},t),{},{clearExistingSynonyms:!0}))}}function Be(r){return function(e,t){return d(Ze(r)([e],t).then(function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}}),function(e,t){return at(r)(e.taskID,t)})}}function We(r){return function(e,t){return Xe(r)([e],t)}}function Qe(r){return function(e,t){return et(r)([e],t)}}function Ve(n){return function(e,t){var r=t||{},t=r.forwardToReplicas,r=w(h(r,["forwardToReplicas"]));return t&&(r.queryParameters.forwardToReplicas=1),d(n.transporter.write({method:"PUT",path:b("1/indexes/%s/settings",n.indexName),data:e},r),function(e,t){return at(n)(e.taskID,t)})}}var Je=function(r){return function(e,t){return r.transporter.read({method:s,path:b("1/keys/%s",e)},t)}},Ke=function(t){return function(e){return g({transporter:t.transporter,appId:t.appId,indexName:e},(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).methods)}},ze=function(n){return function(e,r){return o(function(t){return Z(n)(e,r).then(function(e){return"published"!==e.status?t():void 0})})}},Ge=function(r){return function(e,t){e=e.map(function(e){return{objectID:e}});return u(r)(e,l.DeleteObject,t)}},$e=function(t){return function(e){return t.transporter.read({method:s,path:b("1/indexes/%s/settings",t.indexName),data:{getVersion:2}},e)}},Ye=function(n){return function(e,t){var r=t||{},t=r.createIfNotExists,r=h(r,["createIfNotExists"]),t=t?l.PartialUpdateObject:l.PartialUpdateObjectNoCreate;return u(n)(e,t,r)}},Ze=function(c){return function(e,t){var r=t||{},n=r.autoGenerateObjectIDIfNotExist,i=h(r,["autoGenerateObjectIDIfNotExist"]),t=n?l.AddObject:l.UpdateObject;if(t===l.UpdateObject){var a=!0,r=!1,n=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done);a=!0)if(void 0===s.value.objectID)return d(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(e){r=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(r)throw n}}}return u(c)(e,t,i)}},Xe=function(i){return function(e,t){var r=t||{},n=r.forwardToReplicas,t=r.clearExistingRules,r=w(h(r,["forwardToReplicas","clearExistingRules"]));return n&&(r.queryParameters.forwardToReplicas=1),t&&(r.queryParameters.clearExistingRules=1),d(i.transporter.write({method:R,path:b("1/indexes/%s/rules/batch",i.indexName),data:e},r),function(e,t){return at(i)(e.taskID,t)})}},et=function(a){return function(e,t){var r=t||{},n=r.forwardToReplicas,i=r.clearExistingSynonyms,t=r.replaceExistingSynonyms,r=w(h(r,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return n&&(r.queryParameters.forwardToReplicas=1),(t||i)&&(r.queryParameters.replaceExistingSynonyms=1),d(a.transporter.write({method:R,path:b("1/indexes/%s/synonyms/batch",a.indexName),data:e},r),function(e,t){return at(a)(e.taskID,t)})}},tt=function(r){return function(e,t){return r.transporter.read({method:R,path:b("1/indexes/%s/query",r.indexName),data:{query:e},cacheable:!0},t)}},rt=function(n){return function(e,t,r){return n.transporter.read({method:R,path:b("1/indexes/%s/facets/%s/query",n.indexName,e),data:{facetQuery:t},cacheable:!0},r)}},nt=function(r){return function(e,t){return r.transporter.read({method:R,path:b("1/indexes/%s/rules/search",r.indexName),data:{query:e}},t)}},it=function(r){return function(e,t){return r.transporter.read({method:R,path:b("1/indexes/%s/synonyms/search",r.indexName),data:{query:e}},t)}},at=function(i){return function(e,n){return o(function(t){return r=i,function(e,t){return r.transporter.read({method:s,path:b("1/indexes/%s/task/%s",r.indexName,e.toString())},t)}(e,n).then(function(e){return"published"!==e.status?t():void 0});var r})}},l={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},a={Settings:"settings",Synonyms:"synonyms",Rules:"rules"};function e(e,t,r){function n(){return function(e){return t=y(y(y({},u),e),{},{methods:{getPersonalizationStrategy:N,setPersonalizationStrategy:H}}),r=t.region||"us",e=m(_.WithinHeaders,t.appId,t.apiKey),e=j(y(y({hosts:[{url:"personalization.".concat(r,".algolia.com")}]},t),{},{headers:y(y(y({},e.headers()),{"content-type":"application/json"}),t.headers),queryParameters:y(y({},e.queryParameters()),t.queryParameters)})),g({appId:t.appId,transporter:e},t.methods);var t,r}}var i,a,s,o,c,u={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(a){return new Promise(function(r){var n=new XMLHttpRequest;n.open(a.method,a.url,!0),Object.keys(a.headers).forEach(function(e){return n.setRequestHeader(e,a.headers[e])});function e(e,t){return setTimeout(function(){n.abort(),r({status:0,content:t,isTimedOut:!0})},1e3*e)}var t,i=e(a.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===t&&(clearTimeout(i),t=e(a.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(i),clearTimeout(t),r({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(i),clearTimeout(t),r({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(a.data)})}},logger:{debug:function(e,t){return Promise.resolve()},info:function(e,t){return Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}},responsesCache:f(),requestsCache:f({serializable:!1}),hostsCache:function n(e){var i=v(e.caches),a=i.shift();return void 0===a?{get:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then(function(e){return Promise.all([e,r.miss(e)])}).then(function(e){return p(e,1)[0]})},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return a.get(e,t,r).catch(function(){return n({caches:i}).get(e,t,r)})},set:function(e,t){return a.set(e,t).catch(function(){return n({caches:i}).set(e,t)})},delete:function(e){return a.delete(e).catch(function(){return n({caches:i}).delete(e)})},clear:function(){return a.clear().catch(function(){return n({caches:i}).clear()})}}}({caches:[(a={key:"".concat("4.11.0","-").concat(e)},o="algoliasearch-client-js-".concat(a.key),{get:function(t,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var e=JSON.stringify(t),e=d()[e];return Promise.all([e||r(),void 0!==e])}).then(function(e){var t=p(e,2),e=t[0],t=t[1];return Promise.all([e,t||n.miss(e)])}).then(function(e){return p(e,1)[0]})},set:function(t,r){return Promise.resolve().then(function(){var e=d();return e[JSON.stringify(t)]=r,h().setItem(o,JSON.stringify(e)),r})},delete:function(t){return Promise.resolve().then(function(){var e=d();delete e[JSON.stringify(t)],h().setItem(o,JSON.stringify(e))})},clear:function(){return Promise.resolve().then(function(){h().removeItem(o)})}}),f()]}),userAgent:(i={value:"Algolia for JavaScript (".concat("4.11.0",")"),add:function(e){e="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===i.value.indexOf(e)&&(i.value="".concat(i.value).concat(e)),i}}).add({segment:"Browser"})},l=y(y({},u),r);function h(){return s=void 0===s?a.localStorage||window.localStorage:s}function d(){return JSON.parse(h().getItem(o)||"{}")}return t=y(y({},l),{},{methods:{search:ce,searchForFacetValues:ue,multipleBatch:se,multipleGetObjects:oe,multipleQueries:ce,copyIndex:B,copySettings:Q,copySynonyms:V,copyRules:W,moveIndex:ae,listIndices:ne,getLogs:$,listClusters:re,multipleSearchForFacetValues:ue,getApiKey:Je,addApiKey:U,listApiKeys:te,updateApiKey:ye,deleteApiKey:K,restoreApiKey:de,assignUserID:L,assignUserIDs:q,getUserID:X,searchUserIDs:me,listUserIDs:ie,getTopUserIDs:Y,removeUserID:le,hasPendingMappings:ee,clearDictionaryEntries:M,deleteDictionaryEntries:z,getDictionarySettings:G,getAppTask:Z,replaceDictionaryEntries:he,saveDictionaryEntries:pe,searchDictionaryEntries:fe,setDictionarySettings:ge,waitAppTask:ze,customRequest:J,initIndex:function(t){return function(e){return Ke(t)(e,{methods:{batch:ve,delete:Ie,findAnswers:ke,getObject:De,getObjects:Fe,saveObject:Be,saveObjects:Ze,search:tt,searchForFacetValues:rt,waitTask:at,setSettings:Ve,getSettings:$e,partialUpdateObject:Ue,partialUpdateObjects:Ye,deleteObject:je,deleteObjects:Ge,deleteBy:Re,clearObjects:Se,browseObjects:be,getObjectPosition:Ce,findObject:Te,exists:xe,saveSynonym:Qe,saveSynonyms:et,getSynonym:He,searchSynonyms:it,browseSynonyms:we,deleteSynonym:Ae,clearSynonyms:Pe,replaceAllObjects:Le,replaceAllSynonyms:Me,searchRules:nt,getRule:Ne,deleteRule:Ee,saveRule:We,saveRules:Xe,replaceAllRules:qe,browseRules:_e,clearRules:Oe}})}},initAnalytics:function(){return function(e){return t=y(y(y({},u),e),{},{methods:{addABTest:k,getABTest:D,getABTests:C,stopABTest:F,deleteABTest:T}}),r=t.region||"us",e=m(_.WithinHeaders,t.appId,t.apiKey),e=j(y(y({hosts:[{url:"analytics.".concat(r,".algolia.com")}]},t),{},{headers:y(y(y({},e.headers()),{"content-type":"application/json"}),t.headers),queryParameters:y(y({},e.queryParameters()),t.queryParameters)})),g({appId:t.appId,transporter:e},t.methods);var t,r}},initPersonalization:n,initRecommendation:function(){return function(e){return l.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),n()(e)}}}}),e=t.appId,r=m(void 0!==t.authMode?t.authMode:_.WithinHeaders,e,t.apiKey),g({transporter:c=j(y(y({hosts:[{url:"".concat(e,"-dsn.algolia.net"),accept:S.Read},{url:"".concat(e,".algolia.net"),accept:S.Write}].concat(function(e){for(var t=e.length-1;0<t;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}([{url:"".concat(e,"-1.algolianet.com")},{url:"".concat(e,"-2.algolianet.com")},{url:"".concat(e,"-3.algolianet.com")}]))},t),{},{headers:y(y(y({},r.headers()),{"content-type":"application/x-www-form-urlencoded"}),t.headers),queryParameters:y(y({},r.queryParameters()),t.queryParameters)})),appId:e,addAlgoliaAgent:function(e,t){c.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([c.requestsCache.clear(),c.responsesCache.clear()]).then(function(){})}},t.methods)}return e.version="4.11.0",e}()},184:(e,t)=>{var r;!function(){"use strict";var s={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var n=typeof r;if("string"==n||"number"==n)e.push(r);else if(Array.isArray(r)&&r.length){var i=o.apply(null,r);i&&e.push(i)}else if("object"==n)for(var a in r)s.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},249:function(e,t,f){e.exports=function(u){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),!(n=!(n=!(n="undefined"!=typeof globalThis&&globalThis.crypto?globalThis.crypto:n)&&"undefined"!=typeof window&&window.msCrypto?window.msCrypto:n)&&void 0!==f.g&&f.g.crypto?f.g.crypto:n))try{n=f(480)}catch(u){}var r=Object.create||function(e){return p.prototype=e,e=new p,p.prototype=null,e},e={},t=e.lib={},i=t.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=t.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var a=0;a<i;a++){var s=r[a>>>2]>>>24-a%4*8&255;t[n+a>>>2]|=s<<24-(n+a)%4*8}else for(var o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=u.ceil(t/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new l.init(t,e)}}),a=e.enc={},s=a.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var a=t[i>>>2]>>>24-i%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(r,t/2)}},o=a.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var a=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(r,t)}},c=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(o.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return o.parse(unescape(encodeURIComponent(e)))}},h=t.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t,r=this._data,n=r.words,i=r.sigBytes,a=this.blockSize,s=i/(4*a),o=(s=e?u.ceil(s):u.max((0|s)-this._minBufferSize,0))*a,i=u.min(4*o,i);if(o){for(var c=0;c<o;c+=a)this._doProcessBlock(n,c);t=n.splice(0,o),r.sigBytes-=i}return new l.init(t,i)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(t.Hasher=h.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(r){return function(e,t){return new r.init(t).finalize(e)}},_createHmacHelper:function(r){return function(e,t){return new d.HMAC.init(r,t).finalize(e)}}}),e.algo={});function p(){}return e}(Math)},10:function(e,t,r){e.exports=(e=r(249),r(153),r(824),e.HmacSHA256)},824:function(e,t,r){var o;e.exports=(r=(e=r(249)).lib.Base,o=e.enc.Utf8,void(e.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var r=e.blockSize,n=4*r;(t=t.sigBytes>n?e.finalize(t):t).clamp();for(var e=this._oKey=t.clone(),t=this._iKey=t.clone(),i=e.words,a=t.words,s=0;s<r;s++)i[s]^=1549556828,a[s]^=909522486;e.sigBytes=t.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}})))},153:function(e,t,r){var s;e.exports=(s=r(249),function(i){var e=s,t=e.lib,r=t.WordArray,n=t.Hasher,t=e.algo,a=[],f=[];!function(){function e(e){return 4294967296*(e-(0|e))|0}for(var t=2,r=0;r<64;)!function(e){for(var t=i.sqrt(e),r=2;r<=t;r++)if(!(e%r))return;return 1}(t)||(r<8&&(a[r]=e(i.pow(t,.5))),f[r]=e(i.pow(t,1/3)),r++),t++}();var m=[],t=t.SHA256=n.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],c=r[5],u=r[6],l=r[7],h=0;h<64;h++){h<16?m[h]=0|e[t+h]:(d=m[h-15],p=m[h-2],m[h]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+m[h-7]+((p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+m[h-16]);var d=n&i^n&a^i&a,p=l+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&c^~o&u)+f[h]+m[h],l=u,u=c,c=o,o=s+p|0,s=a,a=i,i=n,n=p+(((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+d)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+o|0,r[5]=r[5]+c|0,r[6]=r[6]+u|0,r[7]=r[7]+l|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(64+n>>>9<<4)]=i.floor(r/4294967296),t[15+(64+n>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA256=n._createHelper(t),e.HmacSHA256=n._createHmacHelper(t)}(Math),s.SHA256)},397:(e,t)=>{!function(_){var w=/\S/,t=/\"/g,r=/\n/g,n=/\r/g,i=/\\/g,a=/\u2028/,s=/\u2029/;function S(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function O(e,t,r){if(t.charAt(r)==e.charAt(0)){for(var n=1,i=e.length;n<i;n++)if(t.charAt(r+n)!=e.charAt(n))return;return 1}}_.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},_.scan=function(e,t){var r,n,i,a,s,o,c=e.length,u=0,l=null,h="",d=[],p=!1,f=0,m=0,g="{{",y="}}";function v(){0<h.length&&(d.push({tag:"_t",text:new String(h)}),h="")}function b(e,t){if(v(),e&&function(){for(var e=!0,t=m;t<d.length;t++)if(!(e=_.tags[d[t].tag]<_.tags._v||"_t"==d[t].tag&&null===d[t].text.match(w)))return;return e}())for(var r,n=m;n<d.length;n++)d[n].text&&((r=d[n+1])&&">"==r.tag&&(r.indent=d[n].text.toString()),d.splice(n,1));else t||d.push({tag:"\n"});p=!1,m=d.length}for(t&&(t=t.split(" "),g=t[0],y=t[1]),f=0;f<c;f++)0==u?O(g,e,f)?(--f,v(),u=1):"\n"==e.charAt(f)?b(p):h+=e.charAt(f):1==u?(f+=g.length-1,u="="==(l=(n=_.tags[e.charAt(f+1)])?e.charAt(f+1):"_v")?(a=f,o=s=void 0,s="="+y,o=(i=e).indexOf(s,a),a=S(i.substring(i.indexOf("=",a)+1,o)).split(" "),g=a[0],y=a[a.length-1],f=o+s.length-1,0):(n&&f++,2),p=f):O(y,e,f)?(d.push({tag:l,n:S(h),otag:g,ctag:y,i:"/"==l?p-g.length:f+y.length}),h="",f+=y.length-1,u=0,"{"==l&&("}}"==y?f++:"}"===(r=d[d.length-1]).n.substr(r.n.length-1)&&(r.n=r.n.substring(0,r.n.length-1)))):h+=e.charAt(f);return b(p,!0),d};var c={_t:!0,"\n":!0,$:!0,"/":!0};function u(e,t,r,n){for(var i=[],a=null,s=null,o=r[r.length-1];0<e.length;){if(s=e.shift(),o&&"<"==o.tag&&!(s.tag in c))throw new Error("Illegal content in < super tag.");if(_.tags[s.tag]<=_.tags.$||function(e,t){for(var r=0,n=t.length;r<n;r++)if(t[r].o==e.n)return e.tag="#",!0}(s,n))r.push(s),s.nodes=u(e,s.tag,r,n);else{if("/"==s.tag){if(0===r.length)throw new Error("Closing tag without opener: /"+s.n);if(a=r.pop(),s.n!=a.n&&!function(e,t,r){for(var n=0,i=r.length;n<i;n++)if(r[n].c==e&&r[n].o==t)return!0}(s.n,a.n,n))throw new Error("Nesting error: "+a.n+" vs. "+s.n);return a.end=s.i,i}"\n"==s.tag&&(s.last=0==e.length||"\n"==e[0].tag)}i.push(s)}if(0<r.length)throw new Error("missing closing tag: "+r.pop().n);return i}_.stringify=function(e,t,r){return"{code: function (c,p,i) { "+_.wrapMain(e.code)+" },"+function e(t){var r,n=[];for(r in t.partials)n.push('"'+l(r)+'":{name:"'+l(t.partials[r].name)+'", '+e(t.partials[r])+"}");return"partials: {"+n.join(",")+"}, subs: "+function(e){var t,r=[];for(t in e)r.push('"'+l(t)+'": function(c,p,t,i) {'+e[t]+"}");return"{ "+r.join(",")+" }"}(t.subs)}(e)+"}"};var o=0;function l(e){return e.replace(i,"\\\\").replace(t,'\\"').replace(r,"\\n").replace(n,"\\r").replace(a,"\\u2028").replace(s,"\\u2029")}function h(e){return~e.indexOf(".")?"d":"f"}function d(e,t){var r="<"+(t.prefix||"")+e.n+o++;return t.partials[r]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+l(r)+'",c,p,"'+(e.indent||"")+'"));',r}function e(e,t){t.code+="t.b(t.t(t."+h(e.n)+'("'+l(e.n)+'",c,p,0)));'}function p(e){return"t.b("+e+");"}_.generate=function(e,t,r){o=0;var n={code:"",subs:{},partials:{}};return _.walk(e,n),r.asString?this.stringify(n,t,r):this.makeTemplate(n,t,r)},_.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},_.template=_.Template,_.makeTemplate=function(e,t,r){var n=this.makePartials(e);return n.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(n,t,this,r)},_.makePartials=function(e){var t,r={subs:{},partials:e.partials,name:e.name};for(t in r.partials)r.partials[t]=this.makePartials(r.partials[t]);for(t in e.subs)r.subs[t]=new Function("c","p","t","i",e.subs[t]);return r},_.codegen={"#":function(e,t){t.code+="if(t.s(t."+h(e.n)+'("'+l(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',_.walk(e.nodes,t),t.code+="});c.pop();}"},"^":function(e,t){t.code+="if(!t.s(t."+h(e.n)+'("'+l(e.n)+'",c,p,1),c,p,1,0,0,"")){',_.walk(e.nodes,t),t.code+="};"},">":d,"<":function(e,t){var r={partials:{},code:"",subs:{},inPartial:!0};_.walk(e.nodes,r);t=t.partials[d(e,t)];t.subs=r.subs,t.partials=r.partials},$:function(e,t){var r={subs:{},code:"",partials:t.partials,prefix:e.n};_.walk(e.nodes,r),t.subs[e.n]=r.code,t.inPartial||(t.code+='t.sub("'+l(e.n)+'",c,p,i);')},"\n":function(e,t){t.code+=p('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+h(e.n)+'("'+l(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=p('"'+l(e.text)+'"')},"{":e,"&":e},_.walk=function(e,t){for(var r,n=0,i=e.length;n<i;n++)(r=_.codegen[e[n].tag])&&r(e[n],t);return t},_.parse=function(e,t,r){return u(e,0,[],(r=r||{}).sectionTags||[])},_.cache={},_.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},_.compile=function(e,t){var r=_.cacheKey(e,t=t||{}),n=this.cache[r];if(n){var i,a=n.partials;for(i in a)delete a[i].instance;return n}return n=this.generate(this.parse(this.scan(e,t.delimiters),e,t),e,t),this.cache[r]=n}}(t)},485:(e,t,r)=>{var n=r(397);n.Template=r(882).Template,n.template=n.Template,e.exports=n},882:(e,t)=>{!function(e){function l(e,t,r){var n;return t&&"object"==typeof t&&(void 0!==t[e]?n=t[e]:r&&t.get&&"function"==typeof t.get&&(n=t.get(e))),n}e.Template=function(e,t,r,n){this.r=(e=e||{}).code||this.r,this.c=r,this.options=n||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,r){return""},v:function(e){return e=o(e),s.test(e)?e.replace(t,"&amp;").replace(r,"&lt;").replace(n,"&gt;").replace(i,"&#39;").replace(a,"&quot;"):e},t:o,render:function(e,t,r){return this.ri([e],t||{},r)},ri:function(e,t,r){return this.r(e,t,r)},ep:function(e,t){var r=this.partials[e],n=t[r.name];if(r.instance&&r.base==n)return r.instance;if("string"==typeof n){if(!this.c)throw new Error("No compiler available.");n=this.c.compile(n,this.options)}if(!n)return null;if(this.partials[e].base=n,r.subs){for(key in t.stackText||(t.stackText={}),r.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);n=function(e,t,r,n,i,a){function s(){}function o(){}o.prototype=(s.prototype=e).subs;var c=new s;for(var u in c.subs=new o,c.subsText={},c.buf="",c.stackSubs=n=n||{},c.subsText=a,t)n[u]||(n[u]=t[u]);for(u in n)c.subs[u]=n[u];for(u in c.stackPartials=i=i||{},r)i[u]||(i[u]=r[u]);for(u in i)c.partials[u]=i[u];return c}(n,r.subs,r.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=n},rp:function(e,t,r,n){e=this.ep(e,r);return e?e.ri(t,r,n):""},rs:function(e,t,r){var n=e[e.length-1];if(h(n))for(var i=0;i<n.length;i++)e.push(n[i]),r(e,t,this),e.pop();else r(e,t,this)},s:function(e,t,r,n,i,a,s){return(!h(e)||0!==e.length)&&(s=!!(e="function"==typeof e?this.ms(e,t,r,n,i,a,s):e),!n&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,t,r,n){var i,a=e.split("."),s=this.f(a[0],t,r,n),o=this.options.modelGet,c=null;if("."===e&&h(t[t.length-2]))s=t[t.length-1];else for(var u=1;u<a.length;u++)s=void 0!==(i=l(a[u],s,o))?(c=s,i):"";return!(n&&!s)&&(n||"function"!=typeof s||(t.push(c),s=this.mv(s,t,r),t.pop()),s)},f:function(e,t,r,n){for(var i=!1,a=!1,s=this.options.modelGet,o=t.length-1;0<=o;o--)if(void 0!==(i=l(e,t[o],s))){a=!0;break}return a?i=!n&&"function"==typeof i?this.mv(i,t,r):i:!n&&""},ls:function(e,t,r,n,i){var a=this.options.delimiters;return this.options.delimiters=i,this.b(this.ct(o(e.call(t,n)),t,r)),this.options.delimiters=a,!1},ct:function(e,t,r){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,r)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,r,n,i,a,s){t=t[t.length-1],e=e.call(t);return"function"==typeof e?!!n||(n=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(e,t,r,n.substring(i,a),s)):e},mv:function(e,t,r){t=t[t.length-1],e=e.call(t);return"function"==typeof e?this.ct(o(e.call(t)),t,r):e},sub:function(e,t,r,n){var i=this.subs[e];i&&(this.activeSub=e,i(t,r,this,n),this.activeSub=!1)}};var t=/&/g,r=/</g,n=/>/g,i=/\'/g,a=/\"/g,s=/[&<>\"\']/;function o(e){return String(null==e?"":e)}var h=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(t)},798:e=>{"use strict";var t=String.prototype.replace,r=/%20/g,n="RFC3986";e.exports={default:n,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:n}},129:(e,t,r)=>{"use strict";var n=r(261),i=r(235),r=r(798);e.exports={formats:r,parse:i,stringify:n}},235:(e,t,r)=>{"use strict";function h(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e}var d=r(769),p=Object.prototype.hasOwnProperty,f=Array.isArray,m={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:d.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1};e.exports=function(e,t){var r=function(e){if(!e)return m;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=(void 0===e.charset?m:e).charset;return{allowDots:void 0===e.allowDots?m.allowDots:!!e.allowDots,allowPrototypes:("boolean"==typeof e.allowPrototypes?e:m).allowPrototypes,arrayLimit:("number"==typeof e.arrayLimit?e:m).arrayLimit,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:m).charsetSentinel,comma:("boolean"==typeof e.comma?e:m).comma,decoder:("function"==typeof e.decoder?e:m).decoder,delimiter:("string"==typeof e.delimiter||d.isRegExp(e.delimiter)?e:m).delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:m.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof e.interpretNumericEntities?e:m).interpretNumericEntities,parameterLimit:("number"==typeof e.parameterLimit?e:m).parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:("boolean"==typeof e.plainObjects?e:m).plainObjects,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:m).strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?function(e,t){var r,n,i,a,s={},o=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,e=t.parameterLimit===1/0?void 0:t.parameterLimit,c=o.split(t.delimiter,e),u=-1,l=t.charset;if(t.charsetSentinel)for(r=0;r<c.length;++r)0===c[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===c[r]?l="utf-8":"utf8=%26%2310003%3B"===c[r]&&(l="iso-8859-1"),u=r,r=c.length);for(r=0;r<c.length;++r)r!==u&&((a=-1===(a=-1===(a=(i=c[r]).indexOf("]="))?i.indexOf("="):a+1)?(n=t.decoder(i,m.decoder,l,"key"),t.strictNullHandling?null:""):(n=t.decoder(i.slice(0,a),m.decoder,l,"key"),d.maybeMap(h(i.slice(a+1),t),function(e){return t.decoder(e,m.decoder,l,"value")})))&&t.interpretNumericEntities&&"iso-8859-1"===l&&(a=a.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),-1<i.indexOf("[]=")&&(a=f(a)?[a]:a),p.call(s,n)?s[n]=d.combine(s[n],a):s[n]=a);return s}(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),s=0;s<a.length;++s)var o=a[s],o=function(e,c,t,u){if(e){var r=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,n=/(\[[^[\]]*])/g,i=0<t.depth&&/(\[[^[\]]*])/.exec(r),e=i?r.slice(0,i.index):r,a=[];if(e){if(!t.plainObjects&&p.call(Object.prototype,e)&&!t.allowPrototypes)return;a.push(e)}for(var s=0;0<t.depth&&null!==(i=n.exec(r))&&s<t.depth;){if(s+=1,!t.plainObjects&&p.call(Object.prototype,i[1].slice(1,-1))&&!t.allowPrototypes)return;a.push(i[1])}return i&&a.push("["+r.slice(i.index)+"]"),function(e,t){for(var r=u?c:h(c,t),n=e.length-1;0<=n;--n){var i,a,s,o=e[n];"[]"===o&&t.parseArrays?i=[].concat(r):(i=t.plainObjects?Object.create(null):{},a="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,s=parseInt(a,10),t.parseArrays||""!==a?!isNaN(s)&&o!==a&&String(s)===a&&0<=s&&t.parseArrays&&s<=t.arrayLimit?(i=[])[s]=r:i[a]=r:i={0:r}),r=i}return r}(a,t)}}(o,n[o],r,"string"==typeof e),i=d.merge(i,o,r);return d.compact(i)}},261:(e,t,r)=>{"use strict";function _(e,t){n.apply(e,O(t)?t:[t])}function w(e,t,r,n,i,a,s,o,c,u,l,h,d,p){var f=e;if("function"==typeof s?f=s(t,f):f instanceof Date?f=u(f):"comma"===r&&O(f)&&(f=S.maybeMap(f,function(e){return e instanceof Date?u(e):e})),null===f){if(n)return a&&!d?a(t,P.encoder,p,"key",l):t;f=""}if("string"==typeof f||"number"==typeof f||"boolean"==typeof f||"symbol"==typeof f||"bigint"==typeof f||S.isBuffer(f))return a?[h(d?t:a(t,P.encoder,p,"key",l))+"="+h(a(f,P.encoder,p,"value",l))]:[h(t)+"="+h(String(f))];var m,g=[];if(void 0===f)return g;m="comma"===r&&O(f)?[{value:0<f.length?f.join(",")||null:void 0}]:O(s)?s:(e=Object.keys(f),o?e.sort(o):e);for(var y=0;y<m.length;++y){var v=m[y],b="object"==typeof v&&void 0!==v.value?v.value:f[v];i&&null===b||(v=O(f)?"function"==typeof r?r(t,v):t:t+(c?"."+v:"["+v+"]"),_(g,w(b,v,r,n,i,a,s,o,c,u,l,h,d,p)))}return g}var S=r(769),u=r(798),l=Object.prototype.hasOwnProperty,h={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},O=Array.isArray,n=Array.prototype.push,i=Date.prototype.toISOString,r=u.default,P={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:S.encode,encodeValuesOnly:!1,format:r,formatter:u.formatters[r],indices:!1,serializeDate:function(e){return i.call(e)},skipNulls:!1,strictNullHandling:!1};e.exports=function(e,t){var r=e,n=function(e){if(!e)return P;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||P.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=u.default;if(void 0!==e.format){if(!l.call(u.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=u.formatters[r],i=P.filter;return"function"!=typeof e.filter&&!O(e.filter)||(i=e.filter),{addQueryPrefix:("boolean"==typeof e.addQueryPrefix?e:P).addQueryPrefix,allowDots:void 0===e.allowDots?P.allowDots:!!e.allowDots,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:P).charsetSentinel,delimiter:(void 0===e.delimiter?P:e).delimiter,encode:("boolean"==typeof e.encode?e:P).encode,encoder:("function"==typeof e.encoder?e:P).encoder,encodeValuesOnly:("boolean"==typeof e.encodeValuesOnly?e:P).encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:("function"==typeof e.serializeDate?e:P).serializeDate,skipNulls:("boolean"==typeof e.skipNulls?e:P).skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:P).strictNullHandling}}(t);"function"==typeof n.filter?r=(0,n.filter)("",r):O(n.filter)&&(s=n.filter);var i=[];if("object"!=typeof r||null===r)return"";var e=t&&t.arrayFormat in h?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat",a=h[e],s=s||Object.keys(r);n.sort&&s.sort(n.sort);for(var o=0;o<s.length;++o){var c=s[o];n.skipNulls&&null===r[c]||_(i,w(r[c],c,a,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset))}t=i.join(n.delimiter),e=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?e+="utf8=%26%2310003%3B&":e+="utf8=%E2%9C%93&"),0<t.length?e+t:""}},769:(e,t,r)=>{"use strict";function o(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r}var u=r(798),c=Object.prototype.hasOwnProperty,l=Array.isArray,h=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();e.exports={arrayToObject:o,assign:function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],s=Object.keys(a),o=0;o<s.length;++o){var c=s[o],u=a[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:a,prop:c}),r.push(u))}return function(e){for(;1<e.length;){var t=e.pop(),r=t.obj[t.prop];if(l(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,n,i){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var s="",o=0;o<a.length;++o){var c=a.charCodeAt(o);45===c||46===c||95===c||126===c||48<=c&&c<=57||65<=c&&c<=90||97<=c&&c<=122||i===u.RFC1738&&(40===c||41===c)?s+=a.charAt(o):c<128?s+=h[c]:c<2048?s+=h[192|c>>6]+h[128|63&c]:c<55296||57344<=c?s+=h[224|c>>12]+h[128|c>>6&63]+h[128|63&c]:(o+=1,c=65536+((1023&c)<<10|1023&a.charCodeAt(o)),s+=h[240|c>>18]+h[128|c>>12&63]+h[128|c>>6&63]+h[128|63&c])}return s},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(l(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function n(i,a,s){if(!a)return i;if("object"!=typeof a){if(l(i))i.push(a);else{if(!i||"object"!=typeof i)return[i,a];(s&&(s.plainObjects||s.allowPrototypes)||!c.call(Object.prototype,a))&&(i[a]=!0)}return i}if(!i||"object"!=typeof i)return[i].concat(a);var e=i;return l(i)&&!l(a)&&(e=o(i,s)),l(i)&&l(a)?(a.forEach(function(e,t){var r;c.call(i,t)?(r=i[t])&&"object"==typeof r&&e&&"object"==typeof e?i[t]=n(r,e,s):i.push(e):i[t]=e}),i):Object.keys(a).reduce(function(e,t){var r=a[t];return c.call(e,t)?e[t]=n(e[t],r,s):e[t]=r,e},e)}}},998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});function s(e){return void 0===e}function o(e){return"string"==typeof e}function c(e){return"number"==typeof e}function i(e){return"function"==typeof e}var r="insights-js (2.0.3)";var a,u,l,h,n=["de","us"];function d(){var e;!function(){try{return Boolean(navigator.cookieEnabled)}catch(e){return}}()||((e=function(){for(var e="_ALGOLIA=",t=document.cookie.split(";"),r=0;r<t.length;r++){for(var n=t[r];" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(e))return n.substring(e.length,n.length)}return""}())&&""!==e&&0===e.indexOf("anonymous-")?this.setUserToken(e):(this.setUserToken("anonymous-"+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),function(e,t){var r=new Date;r.setTime(r.getTime()+t);r="expires="+r.toUTCString();document.cookie="_ALGOLIA="+e+";"+r+";path=/"}(this._userToken,this._cookieDuration)))}Object.keys||(Object.keys=(a=Object.prototype.hasOwnProperty,u=!{toString:null}.propertyIsEnumerable("toString"),h=(l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("function"!=typeof e&&("object"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,r,n=[];for(t in e)a.call(e,t)&&n.push(t);if(u)for(r=0;r<h;r++)a.call(e,l[r])&&n.push(l[r]);return n})),"function"!=typeof Object.assign&&(Object.assign=function(e,t){var r=arguments;if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var a=r[i];if(null!=a)for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])}return n});function p(e){var a,e=e.requestFn;this._ua="",this._uaURIEncoded="",this.version="2.0.3",this._hasCredentials=!1,this.sendEvent=(a=e,function(e,t){if(!this._userHasOptedOut){if(!this._hasCredentials)throw new Error("Before calling any methods on the analytics, you first need to call the 'init' function with appId and apiKey parameters");if(""===t.userToken||""===this._userToken)throw new Error("`userToken` cannot be an empty string.");var r=t.userToken||this._userToken;if(s(r))throw new Error("Before calling any methods on the analytics, you first need to call 'setUserToken' function or include 'userToken' in the event payload.");if(!o(t.index))throw new TypeError("expected required parameter `index` to be a string");if(!o(t.eventName))throw new TypeError("expected required parameter `eventName` to be a string");if(!s(t.userToken)&&!o(t.userToken))throw new TypeError("expected optional parameter `userToken` to be a string");var n={eventType:e,eventName:t.eventName,userToken:r,index:t.index};if(!s(t.timestamp)){if(!c(t.timestamp))throw new TypeError("expected optional parameter `timestamp` to be a number");n.timestamp=t.timestamp}if(!s(t.queryID)){if(!o(t.queryID))throw new TypeError("expected optional parameter `queryID` to be a string");n.queryID=t.queryID}if(!s(t.objectIDs)){if(!Array.isArray(t.objectIDs))throw new TypeError("expected optional parameter `objectIDs` to be an array");n.objectIDs=t.objectIDs}if(!s(t.positions)){if(!Array.isArray(t.positions))throw new TypeError("expected optional parameter `positions` to be an array");if(s(t.objectIDs))throw new Error("cannot use `positions` without providing `objectIDs`");if(t.objectIDs.length!==t.positions.length)throw new Error("objectIDs and positions need to be of the same size");n.positions=t.positions}if(!s(t.filters)){if(!s(t.objectIDs))throw new Error("cannot use `objectIDs` and `filters` for the same event");if(!Array.isArray(t.filters))throw new TypeError("expected optional parameter `filters` to be an array");n.filters=t.filters}if(s(t.objectIDs)&&s(t.filters))throw new Error("expected either `objectIDs` or `filters` to be provided");return i=this._appId,e=this._apiKey,r=this._uaURIEncoded,t=this._endpointOrigin,a(t+"/1/events?X-Algolia-Application-Id="+i+"&X-Algolia-API-Key="+e+"&X-Algolia-Agent="+r,{events:[n]})}var i}.bind(this)),this.init=function(e){var t;if(!e)throw new Error("Init function should be called with an object argument containing your apiKey and appId");if(s(e.apiKey)||!o(e.apiKey))throw new Error("apiKey is missing, please provide it so we can authenticate the application");if(s(e.appId)||!o(e.appId))throw new Error("appId is missing, please provide it, so we can properly attribute data to your application");if(!s(e.region)&&-1===n.indexOf(e.region))throw new Error("optional region is incorrect, please provide either one of: "+n.join(", ")+".");if(!(s(e.cookieDuration)||c(e.cookieDuration)&&isFinite(e.cookieDuration)&&Math.floor(e.cookieDuration)===e.cookieDuration))throw new Error("optional cookieDuration is incorrect, expected an integer.");this._apiKey=e.apiKey,this._appId=e.appId,this._userHasOptedOut=!!e.userHasOptedOut,this._region=e.region,this._endpointOrigin=e.region?"https://insights."+e.region+".algolia.io":"https://insights.algolia.io",this._useCookie=null!==(t=e.useCookie)&&void 0!==t&&t,this._cookieDuration=e.cookieDuration||15552e6,this._hasCredentials=!0,this._ua=r,this._uaURIEncoded=encodeURIComponent(r),e.userToken?this.setUserToken(e.userToken):this._userToken||this._userHasOptedOut||!this._useCookie||this.setAnonymousUserToken()}.bind(this),this.initSearch=function(e){if(!this._hasCredentials)throw new Error("Before calling any methods on the analytics, you first need to call the 'init' function with appId and apiKey parameters");if(!e)throw new Error("initSearch function requires an argument with getQueryID and hitsContainer arguments");if(!e.getQueryID||"function"!=typeof e.getQueryID)throw new Error("getQueryID must be a function that returns the queryID of the last search operation");this.getQueryID=e.getQueryID}.bind(this),this.addAlgoliaAgent=function(e){-1===this._ua.indexOf("; "+e)&&(this._ua+="; "+e,this._uaURIEncoded=encodeURIComponent(this._ua))}.bind(this),this.setUserToken=function(e){this._userToken=e,i(this._onUserTokenChangeCallback)&&this._onUserTokenChangeCallback(this._userToken)}.bind(this),this.setAnonymousUserToken=d.bind(this),this.getUserToken=function(e,t){return i(t)&&t(null,this._userToken),this._userToken}.bind(this),this.onUserTokenChange=function(e,t){this._onUserTokenChangeCallback=e,t&&t.immediate&&i(this._onUserTokenChangeCallback)&&this._onUserTokenChangeCallback(this._userToken)}.bind(this),this.clickedObjectIDsAfterSearch=function(e){if(!e)throw new Error("No params were sent to clickedObjectIDsAfterSearch function, please provide `queryID`,  `objectIDs` and `positions` to be reported");if(!e.queryID)throw new Error("required queryID parameter was not sent, click event can not be properly sent without");if(!e.objectIDs)throw new Error("required objectIDs parameter was not sent, click event can not be properly sent without");if(!e.positions)throw new Error("required positions parameter was not sent, click event can not be properly sent without");this.sendEvent("click",e)}.bind(this),this.clickedObjectIDs=function(e){if(!e)throw new Error("No params were sent to clickedObjectIDs function, please provide `objectIDs` to be reported");if(!e.objectIDs)throw new Error("required `objectIDs` parameter was not sent, click event can not be properly sent without");this.sendEvent("click",e)}.bind(this),this.clickedFilters=function(e){if(!e)throw new Error("No params were sent to clickedFilters function, please provide `filters` to be reported");if(!e.filters)throw new Error("required `filters` parameter was not sent, click event can not be properly sent without");this.sendEvent("click",e)}.bind(this),this.convertedObjectIDsAfterSearch=function(e){if(!e)throw new Error("No params were sent to convertedObjectIDsAfterSearch function, please provide `queryID` and `objectIDs` to be reported");if(!e.queryID)throw new Error("required queryID parameter was not sent, conversion event can not be properly sent without");if(!e.objectIDs)throw new Error("required objectIDs parameter was not sent, conversion event can not be properly sent without");this.sendEvent("conversion",e)}.bind(this),this.convertedObjectIDs=function(e){if(!e)throw new Error("No params were sent to convertedObjectIDs function, please provide `objectIDs` to be reported");if(!e.objectIDs)throw new Error("required objectIDs parameter was not sent, conversion event can not be properly sent without");this.sendEvent("conversion",e)}.bind(this),this.convertedFilters=function(e){if(!e)throw new Error("No params were sent to convertedFilters function, please provide `filters` to be reported");if(!e.filters)throw new Error("required filters parameter was not sent, conversion event can not be properly sent without");this.sendEvent("conversion",e)}.bind(this),this.viewedObjectIDs=function(e){if(!e)throw new Error("No params were sent to viewedObjectIDs function, please provide `objectIDs` to be reported");if(!e.objectIDs)throw new Error("required objectIDs parameter was not sent, view event can not be properly sent without");this.sendEvent("view",e)}.bind(this),this.viewedFilters=function(e){if(!e)throw new Error("No params were sent to viewedFilters function, please provide `filters` to be reported");if(!e.filters)throw new Error("required filters parameter was not sent, view event can not be properly sent without");this.sendEvent("view",e)}.bind(this),this.getVersion=function(e){i(e)&&e(this.version)}.bind(this)}function f(e,t){t=JSON.stringify(t),navigator.sendBeacon(e,t)}function m(e,t){var r=JSON.stringify(t);(t=new XMLHttpRequest).open("POST",e),t.send(r)}function g(){if(function(){try{return Boolean(navigator.sendBeacon)}catch(e){return}}())return f;if(function(){try{return Boolean(XMLHttpRequest)}catch(e){return}}())return m;throw new Error("Could not find a supported HTTP request client in this environment.")}function y(e){return n=new p({requestFn:e}),function(e){for(var t=[],r=arguments.length-1;0<r--;)t[r]=arguments[r+1];e&&i(n[e])?n[e].apply(n,t):console.warn("The method `"+e+"` doesn't exist.")};var n}var v=y(g());t.createInsightsClient=y,t.default=v,t.getRequesterForBrowser=g},137:(t,e,r)=>{const n=r(998);t.exports=n.default,Object.keys(n).forEach(e=>{"default"!==e&&(t.exports[e]=n[e])})},421:()=>{window.bp_algolia_templates={"mobile-header-template":'\n        <div class="searchHeaderContent__mainContainer resultContainer su-row su-col-xs-6 su-col-lg-18 su-offset-lg-3 su-filling-lg-3">\n            \n            \x3c!-- Bloc E : contenus vnementiels. Pour le moment, seulement un slider d\'items --\x3e\n            <div id="bpAlgolia_searchHeader_blocE" class="searchHeaderContent__container su-relative su-row su-col-xs-6 su-hidden">\n                <div id="bpAlgolia_blocE_title" class="searchHeaderContent__titleContainer"></div>\n                <div id="bpAlgolia_blocE_content" class="searchHeaderContent__contentContainer"></div>\n                <div class="overlay searchHeaderContent__overlay searchHeaderContent__overlay--elections su-hidden-md su-hidden-lg su-hidden-xl"></div>\n            </div>\n            \n            \x3c!-- Bloc Suggest : tags et suggestions --\x3e\n            <div id="bpAlgolia_searchHeader_blocSuggest" class="searchHeaderContent__container searchHeaderContent__container--suggestions su-relative su-row su-col-xs-6 su-col-md-24">\n                <div id="bpAlgolia_searchHeader_suggestionList" class="suggestionContainer su-col-xs-6 su-col-md-24">\n                    <div id="bpAlgolia_searchHeader_historyList" class="searchHeaderContent__suggestionContainer"></div>\n                    <div id="bpAlgolia_searchHeader_tagList" class="searchHeaderContent__suggestionContainer"></div>\n                </div>\n                <div class="overlay searchHeaderContent__overlay su-hidden-md su-hidden-lg su-hidden-xl"></div>\n            </div>\n            \n            \x3c!-- Bloc B : recherche sur des donnes autres--\x3e\n            <div id="bpAlgolia_searchHeader_blocB" class="searchHeaderContent__container su-col-xs-6 su-col-md-8 su-hidden">\n                <div id="bpAlgolia_blocB_title" class="searchHeaderContent__titleContainer"></div>\n                <div id="bpAlgolia_blocB_content" class="searchHeaderContent__contentContainer"></div>\n            </div>\n        \n            \x3c!-- Bloc A : recherches sur les articles--\x3e\n            <div id="bpAlgolia_searchHeader_blocA" class="searchHeaderContent__container searchHeaderContent__container--noBottomMargin su-col-xs-6 su-col-md-15 su-filling-md-1 su-col-xl-14 su-filling-xl-2">\n                <div id="bpAlgolia_blocA_title" class="searchHeaderContent__titleContainer"></div>\n                <div id="bpAlgolia_blocA-Fermant_content" class="searchHeaderContent__contentContainer"></div>\n                <div id="bpAlgolia_blocA-Ouvrant_content" class="searchHeaderContent__contentContainer"></div>\n                <div id="bpAlgolia_blocA_showMore" class="searchHeaderContent__showMoreContainer"></div>\n            </div>\n            \n            \x3c!-- Bloc C : contenus connexes--\x3e\n            <div id="bpAlgolia_searchHeader_blocC" class="searchHeaderContent__container searchHeaderContent__container--no-horizontal-margin  su-col-xs-6 su-col-md-8">\n                <div id="bpAlgolia_blocC_title" class="searchHeaderContent__titleContainer su-hidden"></div>\n                <div id="bpAlgolia_blocC_content" class="searchHeaderContent__contentContainer su-row"></div>\n            </div>\n        </div>\n    ',"result-header-template":'\n        <div class="resultHeaderItem__container  {{#isShopping}}resultHeaderItem--shopping{{/isShopping}}">\n            <a href="{{url}}" class="resultHeaderItem__link su-row su-grid-auto su-wrap"\n               data-trk-resultat-algolia="{{type}}" {{{analytics}}}>\n                <div class="resultHeaderItem__imageContainer {{#fullSizeImage}}resultHeaderItem__imageContainer--fullsize{{/fullSizeImage}}">\n                    <figure>\n                        <img class="resultHeaderItem__image" src="{{image}}" alt="{{alt}}" loading="lazy">\n                        {{#isVideo}}\n                        <i class="videoIcon su-icon">video</i>\n                        {{/isVideo}}\n                    </figure>\n                </div>\n                <div class="resultHeaderItem__contentContainer">\n                    <h2 class="resultHeaderItem__titre">\n                        {{#payant}}\n                            {{#isAccessible}}\n                                <i class="su-icon resultHeaderItem__cadenas articleHeaderItem__cadenas--ouvert">dbloqu</i>\n                            {{/isAccessible}}\n                            {{^isAccessible}}\n                                {{#issubscribed}}\n                                    {{#isPepite}}\n                                        <i class="resultHeaderItem__cadenas icon icon-pepite-cadenas-ouvert"></i>\n                                     {{/isPepite}}\n                                     {{^isPepite}}\n                                        <i class="su-icon resultHeaderItem__cadenas resultHeaderItem__cadenas--ouvert">dbloqu</i>\n                                     {{/isPepite}}\n                                {{/issubscribed}}\n                                {{^issubscribed}}\n                                    {{#isPepite}}\n                                        <i class="resultHeaderItem__cadenas icon icon-pepite-cadenas-ferme"></i>\n                                     {{/isPepite}}\n                                     {{^isPepite}}\n                                        <i class="su-icon resultHeaderItem__cadenas">bloqu</i>\n                                     {{/isPepite}}\n                                {{/issubscribed}}\n                            {{/isAccessible}}\n                        {{/payant}}\n                        {{{titre}}}\n                    </h2>\n                    <div class="resultHeaderItem__footer">\n                        {{#texteUne}}<p>{{texteUne}}</p>{{/texteUne}}\n                        {{#dateUTC}}\n                        <span class="icon-date"></span>\n                        <time class="resultHeaderItem__date" datetime="{{dateUTC}}">{{date}}</time>\n                        <span class="resultHeaderItem__tag">{{#tag}}{{#withTag}}#{{/withTag}}{{tag}}{{/tag}}</span>\n                        {{/dateUTC}}\n                        {{#iconTextSource}}\n                        <div class="su-source {{iconSource}} resultHeaderItem__source">{{textSource}}</div>\n                        {{/iconTextSource}}\n                    </div>\n                </div>\n            </a>\n        </div>',"block-title-template":'\n        <p class="su-h3">\n            {{title}}\n        </p>',"suggest-tag-template":'\n        <a class="suggestionItem__link" href="{{suggestionUrl}}" {{{analytics}}}>\n            {{{suggestionContent}}}\n        </a>',"articles-partner-template":'\n        <div class="su-articles-area partner partner--articles su-col-xs-6">\n            <a class="su-h3 partner__title partner__title--articles partner__link {{#isOnClick}}partner__link--onglet{{/isOnClick}}"\n               {{#isOnClick}}href="javascript:void(0)" targetClick="{{clickTarget}}"{{/isOnClick}}\n               {{^isOnClick}}href="{{url}}" {{^isSameDomain}}target="_blank" rel="noreferrer noopener"{{/isSameDomain}}{{/isOnClick}}\n               data-trk-cta-algolia="{{id}}"\n               data-trk-algolia-partner-position="{{analyticsPartnerPosition}}"\n               data-algolia-source="{{sourceName}}">\n                {{name}} <i class="partner__icon su-icon" data-algolia="icon">suivant</i></span>\n            </a>\n            <ul class="su-articles-list su-row partner__list partner__list--articles">\n                {{{itemsWithTemplateRendered}}}\n            </ul>\n        </div>',"articles-standard-partner-template":'\n        {{#itemsToRender}}\n        <li class="partnerItem partnerItem--articles {{#type}}partnerItem--{{{type}}}{{/type}} su-col-xs-3 su-col-sm-3 su-col-md-10 su-col-lg-6">\n            <a href="{{url}}"\n               data-trk-cta-algolia="{{source}}"\n               data-trk-algolia-partner-position="{{analyticsPartnerPosition}}"\n               {{^isSameDomain}}target="_blank" rel="noreferrer noopener"{{/isSameDomain}}\n               class="partnerItem__link">\n\n                <div class="partnerItem__container partnerItem__container--articles">\n                    <div class="partnerItem__imgContainer {{^isNotArticle}}partnerItem__imgContainer--articles{{/isNotArticle}}">\n                        <figure>\n                            <img src="{{imageUrl}}"\n                                 alt="{{titre}}" class="partnerItem__img {{^isNotArticle}}partnerItem__img--articles{{/isNotArticle}} {{#autoHeightImg}}partnerItem__img--auto{{/autoHeightImg}} {{#hasSmallerPicture}}partnerItem__img--smaller{{/hasSmallerPicture}}">\n                                {{#isVideo}}<i class="videoIcon su-icon">video</i>{{/isVideo}}\n                        </figure>\n                    </div>\n                    <div class="partnerItem__content partnerItem__content--articles">\n                        <h2 class="partnerItem__title partnerItem__title--articles">{{{titre}}}</h2>\n                        {{#description}}\n                        <p class="partnerItem__description su-row">\n                            {{{description}}}\n                        </p>\n                        {{/description}}\n                    </div>\n\n                </div>\n            </a>\n        </li>\n        {{/itemsToRender}}',"cc-publidoc-template":'\n        <li class="ccPublidocItem">\n            <div class="ccPublidocItem__container su-row">\n                <div class="ccPublidocItem__imgContainer su-col-xs-3 su-col-sm-2 su-col-md-6">\n                    <figure>\n                        <img src="{{imageUrl}}" alt="{{titre}}" class="ccPublidocItem__img">\n                    </figure>\n                </div>\n                <div class="su-row su-col-xs-3 su-col-sm-4 su-col-md-18">\n                    <a href="{{url}}"\n                       data-trk-cta-algolia="{{source}}"\n                       data-trk-algolia-partner-position="{{analyticsPartnerPosition}}"\n                       target="_blank" rel="noreferrer noopener"\n                       class="">\n                        <h2 class="ccPublidocItem__titre su-col-xs-6">{{{titre}}}</h2>\n                        <p class="ccPublidocItem__description su-col-xs-6">{{{description}}}</p>\n                    </a>\n                    <div class="ccPublidocItem__footer su-row su-col-xs-6 su-vertical-end">\n                        <div class="su-col-xs-6">\n                            <div class="ccPublidocItem__dateContainer">\n                                <span class="icon-date"></span>\n                                <time class="ccPublidocItem__date" datetime="{{dateUTC}}">{{date}}</time>\n                            </div>\n                            <div class="ccPublidocItem__tagContainer su-visible-lg su-visible-xl">\n                                <span class="tag"><a href="https://www.ouest-france.fr/publi-info/">#publi-info</a></span>\n                            </div>\n                        </div>\n                     </div>\n                </div>\n            </div>\n        </li>',"articles-smallImage-partner-template":'\n        {{#itemsToRender}}\n        <li class="partnerItem partnerItem--articles su-col-xs-3 su-col-sm-3 su-col-md-10 su-col-lg-6">\n            <a href="{{url}}"\n               data-trk-cta-algolia="{{source}}"\n               data-trk-algolia-partner-position="{{analyticsPartnerPosition}}"\n               target="_blank" rel="noreferrer noopener"\n               class="partnerItem__link">\n\n                    <div class="partnerItem__container su-row">\n                        <div class="partnerItem__imgContainer partnerItem__imgContainer--smallImage su-col-xs-3">\n                            <figure>\n                                <img src="{{imageUrl}}" alt="{{titre}}" class="partnerItem__img partnerItem__img--smallImage">\n                            </figure>\n                        </div>\n                        <div class="partnerItem__content partnerItem__content--smallImage su-col-xs-3">\n                            <h2 class="partnerItem__title">{{{titre}}}</h2>\n                            {{#description}}\n                                <p class="partnerItem__description su-row">\n                                    {{{description}}}\n                                </p>\n                            {{/description}}\n                        </div>\n                        <div class="partnerItem__subContent su-col-xs-6">\n                            <p class="partnerItem__description su-row">\n                                {{{subDescription}}}\n                            </p>\n                        </div>\n                    </div>\n                </a>\n            </li>\n            {{/itemsToRender}}',"articles-noImage-partner-template":'\n        {{#itemsToRender}}\n        <li class="partnerItem partnerItem--articles su-col-xs-3 su-col-sm-3 su-col-md-10 su-col-lg-6">\n            <a href="{{url}}"\n               data-trk-cta-algolia="{{source}}"\n               data-trk-algolia-partner-position="{{analyticsPartnerPosition}}"\n               {{^isSameDomain}}target="_blank" rel="noreferrer noopener"{{/isSameDomain}}\n               class="partnerItem__link">\n\n                    <div class="su-row partnerItem__container">\n                        <div class="su-col-md-24 partnerItem__content partnerItem__content--articles partnerItem__content--articlesNoImage">\n                            <h2 class="partnerItem__title partnerItem__title--articles">{{{titre}}}</h2>\n                            {{#description}}\n                                <p class="partnerItem__description su-row">\n                                    {{{description}}}\n                                </p>\n                            {{/description}}\n                        </div>\n\n                    </div>\n                </a>\n            </li>\n            {{/itemsToRender}}',"articles-culture-partner-template":'\n        {{#itemsToRender}}\n        <li class="partnerItem partnerItem--articles su-col-xs-3 su-col-sm-3 su-col-md-10 su-col-lg-6">\n            <a href="{{url}}"\n               data-trk-cta-algolia="{{source}}"\n               data-trk-algolia-partner-position="{{analyticsPartnerPosition}}"\n               target="_blank"\n               rel="noreferrer noopener"\n               class="partnerItem__link">\n\n                    <div class="su-row partnerItem__container">\n                        <div class="su-col-md-24 partnerItem__imgContainer">\n                            <figure>\n                                <img src="{{imageUrl}}"\n                                     alt="{{titre}}" class="partnerItem__img partnerItem__img--articles" loading="lazy">\n                             </figure>\n                        </div>\n                        <div class="su-col-md-24 partnerItem__content partnerItem__content--articles partnerItem__content--articlesNoImage">\n                            <h2 class="partnerItem__title partnerItem__title--articles">{{{titre}}}</h2>\n                            {{#withCategorie}}\n                            <p class="partnerItem__description su-row">\n                                {{{description}}}\n                            </p>\n                            {{/withCategorie}}\n                            <div>\n                                {{#ratingNote}}\n                                    <span class="partnerItem__descriptionStar">&#9733;</span>\n                                {{/ratingNote}}\n                            </div>\n                            <div class="partnerItem__description">{{ratingMot}}</div>\n                        </div>\n\n                    </div>\n                </a>\n            </li>\n            {{/itemsToRender}}',"articles-empty-partner-template":'\n        <li class="partnerButton">\n            <div class="partnerButton__content">\n                <a class="su-button su-primary"\n                   title="Voir tous les contenus du partenaire"\n                   href="{{url}}"\n                   {{^isSameDomain}}target="_blank" rel="noreferrer noopener"{{/isSameDomain}}\n                   data-trk-cta-algolia="{{id}}"\n                   data-trk-algolia-partner-position="{{analyticsPartnerPosition}}">\n                    <i class="partnerButton__icon su-icon">suivant</i>\n                </a>\n                <p class="partnerButton__text">Tout afficher</p>\n            </div>\n        </li>',"articles-empty-archives-partner-template":'\n        <li class="partnerItem partnerItem--articles partnerItem--empty su-col-xs-3 su-col-sm-3 su-col-md-10 su-col-lg-6">\n            <a class="partnerItem__link partnerItem__link--empty partner__link--onglet" href="javascript:void(0)" targetClick="{{clickTarget}}"\n               rel="noreferrer noopener"\n               data-trk-cta-algolia="{{id}}"\n               data-trk-algolia-partner-position="{{analyticsPartnerPosition}}">\n                <i class="partnerItem__icon--empty su-icon">suivant</i>\n                <h2 class="partnerItem__title partnerItem__title--empty">Voir les <b>{{nbHits}}</b> {{id}}</h2>\n            </a>\n        </li>',"prog-tv-description-template":'\n        </figure>\n            <img src="{{chaineLogoUrl}}" alt="Logo {{chaine}}"\n                 class="partnerItem__descriptionImg partnerItem__descriptionImg--progtv"><span>{{chaine}}</span><br/>\n         </figure>\n        <i class="icon-date"></i> {{{dateStr}}}',"no-results-template":'\n        <div id="no-results-message">\n            <p>Aucun rsultat trouv pour <em>"{{query}}"</em>.</p>\n            <p>Vrifiez l\'orthographe des termes de recherche.</p>\n        </div>',"promotion-template":'\n        <div class="promotion"\n             data-algolia-objectid-autopromo="{{objectID}}"\n             data-algolia-position-autopromo="{{hitPosition}}"\n             data-algolia-queryid-autopromo="{{queryID}}"\n            >\n            <h2 class="promotion__title">{{{titre}}}</h2>\n            <a id="" class="su-button {{#isForHeader}}su-secondary{{/isForHeader}}{{^isForHeader}}su-primary{{/isForHeader}} su-small promotion__button {{#isOnClick}}partner__link--onglet{{/isOnClick}}" \n                {{#isOnClick}}href="javascript:void(0)" targetClick="{{clickTarget}}"{{/isOnClick}}\n                {{^isOnClick}}href="{{url}}" target="_blank" rel="noreferrer noopener"{{/isOnClick}}\n               {{#trackId}}\n                    data-trk-cta-algolia="{{trackId}}"\n                    data-trk-algolia-partner-position="1"\n                {{/trackId}}>\n                {{description}}\n            </a>\n            <p class="su-source promotion__source">{{source}}</p>\n        </div>'}},317:()=>{window.bp_algolia_templates["desktop-partner-template"]='\n        <div class="su-articles-area partner su-col-xs-3 su-col-sm-2 su-col-md-24">\n            <a class="sans-icone su-h3 partner__title partner__link "\n               href="{{url}}"\n               data-trk-cta-algolia="{{id}}"\n               data-trk-algolia-partner-position="{{analyticsPartnerPosition}}"\n               data-algolia-source="{{sourceName}}"\n               {{^isSameDomain}}target="_blank" rel="noreferrer noopener"{{/isSameDomain}}>\n                {{name}} <i class="partner__icon su-icon">suivant</i>\n            </a>\n            <ul class="su-articles-list partner__list">\n                {{{itemsWithTemplateRendered}}}\n            </ul>\n        </div>',window.bp_algolia_templates["programme-tv-template"]='\n        <a {{#columnView}}{{{analytics}}}{{/columnView}}\n           {{^columnView}}data-algolia-objectid-{{source}}="{{objectID}}"\n           data-algolia-position-{{source}}="{{hitPosition}}"\n           data-algolia-queryid-{{source}}="{{queryID}}"\n           data-trk-cta-algolia="{{source}}"\n           data-trk-algolia-partner-position="{{analyticsPartnerPosition}}"{{/columnView}}\n           href="{{url}}"\n           class="partnerItem__link su-row su-vertical-start"\n           {{^isSameDomain}}target="_blank" rel="noreferrer noopener"{{/isSameDomain}}>\n\n            <div class="su-col-xs-2 su-col-md-10 partnerItem__imgContainer">\n                <figure>\n                    <img src="{{imageUrl}}"\n                         alt="vignette" class="partnerItem__img {{#hasSmallerPicture}}partnerItem__img--smaller{{/hasSmallerPicture}}">\n                </figure>\n            </div>\n            <div class="su-col-xs-4 su-col-md-14">\n                <h2 class="partnerItem__title">{{{titre}}}</h2>\n                {{#description}}\n                <p class="partnerItem__description">\n                    {{{description}}}\n                </p>\n                {{/description}}\n            </div>\n        </a>',window.bp_algolia_templates["desktop-standard-partner-template"]='\n        {{#itemsToRender}}\n        <li class="partnerItem {{#type}}partnerItem--{{{type}}}{{/type}}">\n            <a data-algolia-objectid-{{source}}="{{objectID}}"\n               data-algolia-position-{{source}}="{{hitPosition}}"\n               data-algolia-queryid-{{source}}="{{queryID}}"\n               data-trk-cta-algolia="{{source}}"\n               data-trk-algolia-partner-position="{{analyticsPartnerPosition}}"\n               href="{{url}}"\n               class="partnerItem__link su-row su-vertical-start"\n               {{^isSameDomain}}target="_blank" rel="noreferrer noopener"{{/isSameDomain}}>\n\n                <div class="su-col-md-10 partnerItem__imgContainer">\n                    <figure>\n                        <img src="{{imageUrl}}"\n                             alt="vignette" class="partnerItem__img {{#hasSmallerPicture}}partnerItem__img--smaller{{/hasSmallerPicture}}">\n                    </figure>\n                    {{#isVideo}}<i class="partnerItem__play su-icon">video</i>{{/isVideo}}\n                </div>\n                <div class="su-col-md-14">\n                    <h2 class="partnerItem__title">{{{titre}}}</h2>\n                    {{#description}}\n                    <p class="partnerItem__description">\n                        {{{description}}}\n                    </p>\n                    {{/description}}\n                </div>\n            </a>\n        </li>\n        {{/itemsToRender}}',window.bp_algolia_templates["desktop-citation-partner-template"]='\n        {{#itemsToRender}}\n        <li class="partnerItem partnerItem--citation">\n            <a data-algolia-objectid-{{source}}="{{objectID}}"\n               data-algolia-position-{{source}}="{{hitPosition}}"\n               data-algolia-queryid-{{source}}="{{queryID}}"\n               data-trk-cta-algolia="{{source}}"\n               data-trk-algolia-partner-position="{{analyticsPartnerPosition}}"\n               href="{{url}}"\n               class="partnerItem__link">\n\n                <p class="partnerItem__title partnerItem__title--citation">\n                    {{{titre}}}\n                </p>\n                {{#description}}\n                <p class="partnerItem__description partnerItem__description--citation">\n                    {{{description}}}\n                </p>\n                {{/description}}\n            </a>\n        </li>\n        {{/itemsToRender}}',window.bp_algolia_templates["desktop-noImage-partner-template"]='\n        {{#itemsToRender}}\n        <li class="partnerItem">\n            <a data-algolia-objectid-{{source}}="{{objectID}}"\n               data-algolia-position-{{source}}="{{hitPosition}}"\n               data-algolia-queryid-{{source}}="{{queryID}}"\n               data-trk-cta-algolia="{{source}}"\n               data-trk-algolia-partner-position="{{analyticsPartnerPosition}}"\n               href="{{url}}"\n               class="partnerItem__link"\n               {{^isSameDomain}}target="_blank" rel="noreferrer noopener"{{/isSameDomain}}>\n\n                <h2 class="partnerItem__title">{{{titre}}}</h2>\n                {{#description}}\n                <p class="partnerItem__description">\n                    {{{description}}}\n                </p>\n                {{/description}}\n\n            </a>\n        </li>\n        {{/itemsToRender}}',window.bp_algolia_templates["desktop-culture-partner-template"]='\n        {{#itemsToRender}}\n        <li class="partnerItem">\n            <a data-algolia-objectid-{{source}}="{{objectID}}"\n               data-algolia-position-{{source}}="{{hitPosition}}"\n               data-algolia-queryid-{{source}}="{{queryID}}"\n               data-trk-cta-algolia="{{source}}"\n               data-trk-algolia-partner-position="{{analyticsPartnerPosition}}"\n               href="{{url}}"\n               class="partnerItem__link su-row su-vertical-start"\n               target="_blank"\n               rel="noreferrer noopener">\n\n                <div class="su-col-md-10 partnerItem__imgContainer">\n                    <figure>\n                        <img src="{{imageUrl}}" alt="vignette" class="partnerItem__img">\n                    </figure>\n                </div>\n                <div class="su-col-md-14">\n                    {{#withCategorie}}\n                    <p class="partnerItem__description">#{{description}}</p>\n                    {{/withCategorie}}\n                    <h2 class="partnerItem__title">{{{titre}}}</h2>\n                    <div>\n                        {{#ratingNote}}\n                        <span class="partnerItem__descriptionStar">&#9733;</span>\n                        {{/ratingNote}}\n                    </div>\n                    <div class="partnerItem__description">{{ratingMot}}</div>\n                </div>\n            </a>\n        </li>\n        {{/itemsToRender}}',window.bp_algolia_templates["button-more-template"]='\n        <a href="{{urlRecherche}}" class="su-button su-primary su-small">\n            {{#hasNoResults}}Effectuer une autre recherche{{/hasNoResults}}\n            {{#hasOneResult}}Voir la rponse{{/hasOneResult}}\n            {{#hasManyResults}}Voir les <b>{{nbHits}}</b> rponses{{/hasManyResults}}\n        </a>'},480:()=>{}},n={},Bi.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return Bi.d(t,{a:t}),t},Bi.d=(e,t)=>{for(var r in t)Bi.o(t,r)&&!Bi.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},Bi.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),Bi.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map(function(e){return e=(t=e).name,t=t.connector,["https://www.algolia.com/doc/api-reference/widgets/",e,"/js/",void 0!==t&&t?"#connector":""].join("");var t}).join(", ");return function(e){return[e,"See documentation: ".concat(n)].filter(Boolean).join("\n\n")}}var f=Bi(131),e=Bi(331);const d=function(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})};function t(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function n(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?t(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function i(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce(function(e,r){var t=function(e){if(!Array.isArray(e))return-1;for(var t=0;t<e.length;t++)if(e[t].name===r.name)return t;return-1}(e);if(-1===t)return e.concat(r);e=e.slice();return e.splice(t,1,r),e},e.hierarchicalFacets)})}const m=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){var r,e=(r=t,(e=e).setQueryParameters({hierarchicalFacetsRefinements:n(n({},e.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)})),r=i(e,t),r=(e=r,t.tagRefinements.reduce(function(e,t){return e.addTagRefinement(t)},e)),r=(e=t,(r=r).setQueryParameters({numericRefinements:n(n({},r.numericRefinements),e.numericRefinements)})),r=(e=t,(r=r).setQueryParameters({disjunctiveFacetsRefinements:n(n({},r.disjunctiveFacetsRefinements),e.disjunctiveFacetsRefinements)})),r=(e=t,(r=r).setQueryParameters({facetsExcludes:n(n({},r.facetsExcludes),e.facetsExcludes)})),e=(e=t,(r=r).setQueryParameters({facetsRefinements:n(n({},r.facetsRefinements),e.facetsRefinements)})),e=function(e,t){t=d([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return 0<t.length?e.setQueryParameters({ruleContexts:t}):e}((e=e,t.disjunctiveFacets.reduce(function(e,t){return e.addDisjunctiveFacet(t)},e)),t);return function(e,t){t.facets,t.disjunctiveFacets,t.facetsRefinements,t.facetsExcludes,t.disjunctiveFacetsRefinements,t.numericRefinements,t.tagRefinements,t.hierarchicalFacets,t.hierarchicalFacetsRefinements,t.ruleContexts;t=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(t,["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"]);return e.setQueryParameters(t)}((e=e,t.facets.reduce(function(e,t){return e.addFacet(t)},e)),t)})};function a(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach(function(e){y(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return r(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=h({name:"index-widget"});function _(e){return"ais.index"===e.$$type}function w(e,t){var r=t.state,n=t.isPageReset,t=t._uiState;r!==e.state&&(e.state=r,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:n,_uiState:t}))}function S(e,r,t){return e.reduce(function(e,t){return!_(t)&&(t.getWidgetUiState||t.getWidgetState)?t.getWidgetUiState?t.getWidgetUiState(e,r):t.getWidgetState(e,r):e},2<arguments.length&&void 0!==t?t:{})}function O(e,t){var r=t.initialSearchParameters,n=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(t,["initialSearchParameters"]);return e.filter(function(e){return!_(e)}).reduce(function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,n):e},r)}const p=function(e){if(void 0===e||void 0===e.indexName)throw new Error(b("The `indexName` option is required."));var s=e.indexName,e=e.indexId,o=void 0===e?s:e,c=[],u={},l=null,h=null,d=null,p=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return s},getIndexId:function(){return o},getHelper:function(){return d},getResults:function(){return p&&p.lastResults},getScopedResults:function(){var e=this.getParent();return function r(e){return e.filter(_).reduce(function(e,t){return e.concat.apply(e,[{indexId:t.getIndexId(),results:t.getResults(),helper:t.getHelper()}].concat(v(r(t.getWidgets()))))},[])}(e?e.getWidgets():[this])},getParent:function(){return h},createURL:function(e){return l._createURL(y({},o,S(c,{searchParameters:e,helper:d})))},getWidgets:function(){return c},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(b("The `addWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(b("The widget definition expects a `render` and/or an `init` method."));return c=c.concat(e),l&&Boolean(e.length)&&(w(d,{state:O(c,{uiState:u,initialSearchParameters:d.state}),_uiState:u}),e.forEach(function(e){e.getRenderState&&P({renderState:e.getRenderState(l.renderState[t.getIndexId()]||{},{uiState:l._initialUiState,helper:t.getHelper(),parent:t,instantSearchInstance:l,state:d.state,renderState:l.renderState,templatesConfig:l.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:l._isSearchStalled}}),instantSearchInstance:l,parent:t})}),e.forEach(function(e){e.init&&e.init({helper:d,parent:t,uiState:l._initialUiState,instantSearchInstance:l,state:d.state,renderState:l.renderState,templatesConfig:l.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:l._isSearchStalled}})}),l.scheduleSearch()),this},removeWidgets:function(t){var e,r=this;if(!Array.isArray(t))throw new Error(b("The `removeWidgets` method expects an array of widgets."));if(t.some(function(e){return"function"!=typeof e.dispose}))throw new Error(b("The widget definition expects a `dispose` method."));return c=c.filter(function(e){return-1===t.indexOf(e)}),l&&Boolean(t.length)&&(e=t.reduce(function(e,t){return t.dispose({helper:d,state:e,parent:r})||e},d.state),u=S(c,{searchParameters:e,helper:d}),d.setState(O(c,{uiState:u,initialSearchParameters:e})),c.length&&l.scheduleSearch()),this},init:function(e){var i,t=this,r=e.instantSearchInstance,n=e.parent,a=e.uiState;null===d&&(l=r,h=n,u=a[o]||{},i=r.mainHelper,e=O(c,{uiState:u,initialSearchParameters:new f.SearchParameters({index:s})}),(d=f({},e.index,e)).search=function(){return r.onStateChange?(r.onStateChange({uiState:r.mainIndex.getWidgetUiState({}),setUiState:r.setUiState.bind(r)}),i):i.search()},d.searchWithoutTriggeringOnStateChange=function(){return i.search()},d.searchForFacetValues=function(e,t,r,n){n=d.state.setQueryParameters(n);return i.searchForFacetValues(e,t,r,n)},p=i.derive(function(){return m.apply(void 0,v(function(e){for(var t=e.getParent(),r=[e.getHelper().state];null!==t;)r=[t.getHelper().state].concat(r),t=t.getParent();return r}(t)))}),(e=null===(n=r._initialResults)||void 0===n?void 0:n[this.getIndexId()])&&(n=new f.SearchResults(new f.SearchParameters(e.state),e.results),p.lastResults=n,d.lastResults=n),d.on("change",function(e){e.isPageReset&&function r(e){e=e.filter(_);0!==e.length&&e.forEach(function(e){var t=e.getHelper();w(t,{state:t.state.resetPage(),isPageReset:!0}),r(e.getWidgets())})}(c)}),p.on("search",function(){r.scheduleStalledRender()}),p.on("result",function(e){e=e.results;r.scheduleRender(),d.lastResults=e}),c.forEach(function(e){e.getRenderState&&P({renderState:e.getRenderState(r.renderState[t.getIndexId()]||{},{uiState:a,helper:d,parent:t,instantSearchInstance:r,state:d.state,renderState:r.renderState,templatesConfig:r.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:r._isSearchStalled}}),instantSearchInstance:r,parent:t})}),c.forEach(function(e){e.init&&e.init({uiState:a,helper:d,parent:t,instantSearchInstance:r,state:d.state,renderState:r.renderState,templatesConfig:r.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:r._isSearchStalled}})}),d.on("change",function(e){var t=e.state,e=e._uiState;u=S(c,{searchParameters:t,helper:d},e||{}),r.onStateChange||r.onInternalStateChange()}),e&&r.scheduleRender())},render:function(e){var t=this,r=e.instantSearchInstance;this.getResults()&&(c.forEach(function(e){e.getRenderState&&P({renderState:e.getRenderState(r.renderState[t.getIndexId()]||{},{helper:t.getHelper(),parent:t,instantSearchInstance:r,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:r.renderState,templatesConfig:r.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:r._isSearchStalled}}),instantSearchInstance:r,parent:t})}),c.forEach(function(e){e.render&&e.render({helper:d,parent:t,instantSearchInstance:r,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:r.renderState,templatesConfig:r.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:r._isSearchStalled}})}))},dispose:function(){var t=this;c.forEach(function(e){e.dispose&&e.dispose({helper:d,state:d.state,parent:t})}),h=l=null,d.removeAllListeners(),d=null,p.detach(),p=null},getWidgetUiState:function(e){return c.filter(_).reduce(function(e,t){return t.getWidgetUiState(e)},g(g({},e),{},y({},this.getIndexId(),u)))},getWidgetState:function(e){return this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){t=t.uiState;return O(c,{uiState:t,initialSearchParameters:e})},refreshUiState:function(){u=S(c,{searchParameters:this.getHelper().state,helper:this.getHelper()},u)}}};function P(e){var t=e.renderState,r=e.instantSearchInstance,e=e.parent,e=(e||r.mainIndex).getIndexId();r.renderState=g(g({},r.renderState),{},y({},e,g(g({},r.renderState[e]),t)))}const R="4.40.5";function s(r){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.descendantName,e=e.modifierName,t=t?"-".concat(t):"",e=e?"--".concat(e):"";return"".concat("ais","-").concat(r).concat(t).concat(e)}}const o=function(e,t){return(Array.isArray(t)?t:t.split(".")).reduce(function(e,t){return e&&e[t]},e)};var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=/[&<>"']/g,l=RegExp(u.source);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}const j=function(e){if("object"!==I(t=e)||null===t||"[object Object]"!==(null===e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;for(var r=e;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r};function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach(function(e){k(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},D="<mark>",C="</mark>";function F(r){return j(r)&&"string"!=typeof r.value?Object.keys(r).reduce(function(e,t){return x(x({},e),{},k({},t,F(r[t])))},{}):Array.isArray(r)?r.map(F):x(x({},r),{},{value:((e=e=r.value)&&l.test(e)?e.replace(u,function(e){return c[e]}):e).replace(new RegExp(T.highlightPreTag,"g"),D).replace(new RegExp(T.highlightPostTag,"g"),C)});var e}var N=s("Highlight");function H(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,r=e.hit,e=e.cssClasses,e=void 0===e?{}:e,t=(o(r._highlightResult,t)||{}).value,t=void 0===t?"":t,e=N({descendantName:"highlighted"})+(e.highlighted?" ".concat(e.highlighted):"");return t.replace(new RegExp(D,"g"),"<".concat(n,' class="').concat(e,'">')).replace(new RegExp(C,"g"),"</".concat(n,">"))}function U(e){return e.map(function(e){return e.isHighlighted?"<mark>"+e.value+"</mark>":e.value}).join("")}var L={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},q=/&(amp|quot|lt|gt|#39);/g,M=RegExp(q.source),B=new RegExp(/\w/i);function W(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Q(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?W(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):W(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function V(i){return i.some(function(e){return e.isHighlighted})?i.map(function(e,t){return Q(Q({},e),{},{isHighlighted:(e=(r=i)[n=t],t=(null===(t=r[n+1])||void 0===t?void 0:t.isHighlighted)||!0,n=(null===(r=r[n-1])||void 0===r?void 0:r.isHighlighted)||!0,!(B.test((r=e.value)&&M.test(r)?r.replace(q,function(e){return L[e]}):r)||n!==t?e.isHighlighted:n))});var r,n}):i.map(function(e){return Q(Q({},e),{},{isHighlighted:!1})})}function J(e){var t=e.split("<mark>"),e=t.shift(),r=e?[{value:e,isHighlighted:!1}]:[];return t.forEach(function(e){e=e.split("</mark>");r.push({value:e[0],isHighlighted:!0}),""!==e[1]&&r.push({value:e[1],isHighlighted:!1})}),r}var K=s("ReverseHighlight");function z(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,r=e.hit,e=e.cssClasses,e=void 0===e?{}:e,t=(o(r._highlightResult,t)||{}).value,t=void 0===t?"":t,e=K({descendantName:"highlighted"})+(e.highlighted?" ".concat(e.highlighted):"");return U(V(J(t))).replace(new RegExp(D,"g"),"<".concat(n,' class="').concat(e,'">')).replace(new RegExp(C,"g"),"</".concat(n,">"))}var G=s("Snippet");function $(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,r=e.hit,e=e.cssClasses,e=void 0===e?{}:e,t=(o(r._snippetResult,t)||{}).value,t=void 0===t?"":t,e=G({descendantName:"highlighted"})+(e.highlighted?" ".concat(e.highlighted):"");return t.replace(new RegExp(D,"g"),"<".concat(n,' class="').concat(e,'">')).replace(new RegExp(C,"g"),"</".concat(n,">"))}var Y=s("ReverseSnippet");function Z(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,r=e.hit,e=e.cssClasses,e=void 0===e?{}:e,t=(o(r._snippetResult,t)||{}).value,t=void 0===t?"":t,e=Y({descendantName:"highlighted"})+(e.highlighted?" ".concat(e.highlighted):"");return U(V(J(t))).replace(new RegExp(D,"g"),"<".concat(n,' class="').concat(e,'">')).replace(new RegExp(C,"g"),"</".concat(n,">"))}function X(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function ee(e){return JSON.parse(decodeURIComponent(atob(e)))}function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){return function(e){var t,r=e.method,n=e.payload;if("object"!==te(n))throw new Error("The insights helper expects the payload to be an object.");try{t=X(n)}catch(e){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(r,'" data-insights-payload="').concat(t,'"')}({method:e,payload:t})}function ne(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ie(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ne(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var ae=Promise.resolve();const se=function(n){function e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];null===i&&(i=ae.then(function(){i=null,a?a=!1:n.apply(void 0,t)}))}var i=null,a=!1;return e.wait=function(){if(null===i)throw new Error("The deferred function should be called before calling `wait()`");return i},e.cancel=function(){null!==i&&(a=!0)},e},oe=function(){};function ce(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ue(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ce(Object(r),!0).forEach(function(e){le(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function he(e){return e.configure,function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(e,["configure"])}var de=Bi(129);function pe(e,t){t=(1<arguments.length&&void 0!==t?t:{fallback:function(){}}).fallback;return"undefined"==typeof window?t():e({window:window})}function fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var me=function(e){e&&(window.document.title=e)},ge=(function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(ye.prototype,[{key:"read",value:function(){return this.parseURL({qsModule:de,location:this.getLocation()})}},{key:"write",value:function(i){var a=this;pe(function(e){var t=e.window,r=a.createURL(i),n=a.windowTitle&&a.windowTitle(i);a.writeTimer&&clearTimeout(a.writeTimer),a.writeTimer=setTimeout(function(){me(n),a.shouldWrite(r)&&(t.history.pushState(i,n||"",r),a.latestAcknowledgedHistory=t.history.length),a.inPopState=!1,a.writeTimer=void 0},a.writeDelay)})}},{key:"onUpdate",value:function(t){var r=this;this._onPopState=function(e){r.writeTimer&&(clearTimeout(r.writeTimer),r.writeTimer=void 0),r.inPopState=!0;e=e.state;t(e||r.read())},pe(function(e){e.window.addEventListener("popstate",r._onPopState)})}},{key:"createURL",value:function(e){return this._createURL({qsModule:de,routeState:e,location:this.getLocation()})}},{key:"dispose",value:function(){var t=this;this.isDisposed=!0,pe(function(e){e=e.window;t._onPopState&&e.removeEventListener("popstate",t._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}},{key:"shouldWrite",value:function(r){var n=this;return pe(function(e){var t=e.window,e=!(n.isDisposed&&n.latestAcknowledgedHistory!==t.history.length);return!n.inPopState&&e&&r!==t.location.href})}}]),ye);function ye(e){var r=this,t=e.windowTitle,n=e.writeDelay,i=void 0===n?400:n,a=e.createURL,n=e.parseURL,e=e.getLocation;!function(e){if(!(e instanceof ye))throw new TypeError("Cannot call a class as a function")}(this),fe(this,"windowTitle",void 0),fe(this,"writeDelay",void 0),fe(this,"_createURL",void 0),fe(this,"parseURL",void 0),fe(this,"getLocation",void 0),fe(this,"writeTimer",void 0),fe(this,"inPopState",!1),fe(this,"isDisposed",!1),fe(this,"latestAcknowledgedHistory",0),this.windowTitle=t,this.writeTimer=void 0,this.writeDelay=i,this._createURL=a,this.parseURL=n,this.getLocation=e,pe(function(e){var t=e.window,e=r.windowTitle&&r.windowTitle(r.read());me(e),r.latestAcknowledgedHistory=t.history.length})}function ve(e){return e!==Object(e)}const be=function e(t,r){if(t===r)return!0;if(ve(t)||ve(r)||"function"==typeof t||"function"==typeof r)return t===r;if(Object.keys(t).length!==Object.keys(r).length)return!1;for(var n=0,i=Object.keys(t);n<i.length;n++){var a=i[n];if(!(a in r))return!1;if(!e(t[a],r[a]))return!1}return!0};function _e(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function we(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(r),!0).forEach(function(e){Se(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oe(){return function(e){var t=e.instantSearchInstance,r={widgets:[]},n=document.createElement("meta"),i=document.querySelector("head");return n.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout(function(){var e=t.client;r.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,function n(e,i,a){var t=i.mainIndex,s={instantSearchInstance:i,parent:t,scopedResults:[],state:t.getHelper().state,helper:t.getHelper(),createURL:t.createURL,uiState:i._initialUiState,renderState:i.renderState,templatesConfig:i.templatesConfig,searchMetadata:{isSearchStalled:i._isSearchStalled}};e.forEach(function(e){var t={};!e.getWidgetRenderState||(r=e.getWidgetRenderState(s))&&r.widgetParams&&(t=r.widgetParams);var r=Object.keys(t).filter(function(e){return void 0!==t[e]});a.widgets.push({type:e.$$type,widgetType:e.$$widgetType,params:r}),"ais.index"===e.$$type&&n(e.getWidgets(),i,a)})}(t.mainIndex.getWidgets(),t,r),n.content=JSON.stringify(r),i.appendChild(n)},0)},unsubscribe:function(){n.remove()}}}}function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xe=h({name:"instantsearch"});function ke(){return"#"}const Te=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(d,e);var r,n,h=(r=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Ee(r);return e=n?(e=Ee(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Pe(e)&&"function"!=typeof e?je(t):e});function d(e){var r;!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),Ae(je(r=h.call(this)),"client",void 0),Ae(je(r),"indexName",void 0),Ae(je(r),"insightsClient",void 0),Ae(je(r),"onStateChange",null),Ae(je(r),"helper",void 0),Ae(je(r),"mainHelper",void 0),Ae(je(r),"mainIndex",void 0),Ae(je(r),"started",void 0),Ae(je(r),"templatesConfig",void 0),Ae(je(r),"renderState",{}),Ae(je(r),"_stalledSearchDelay",void 0),Ae(je(r),"_searchStalledTimer",void 0),Ae(je(r),"_isSearchStalled",void 0),Ae(je(r),"_initialUiState",void 0),Ae(je(r),"_initialResults",void 0),Ae(je(r),"_createURL",void 0),Ae(je(r),"_searchFunction",void 0),Ae(je(r),"_mainHelperSearch",void 0),Ae(je(r),"middleware",[]),Ae(je(r),"sendEventToInsights",void 0),Ae(je(r),"scheduleSearch",se(function(){r.started&&r.mainHelper.search()})),Ae(je(r),"scheduleRender",se(function(){r.mainHelper.hasPendingRequests()||(clearTimeout(r._searchStalledTimer),r._searchStalledTimer=null,r._isSearchStalled=!1),r.mainIndex.render({instantSearchInstance:je(r)}),r.emit("render")})),Ae(je(r),"onInternalStateChange",se(function(){var t=r.mainIndex.getWidgetUiState({});r.middleware.forEach(function(e){e.instance.onStateChange({uiState:t})})}));var n,t=e.indexName,i=void 0===t?null:t,a=e.numberLocale,s=e.initialUiState,o=void 0===s?{}:s,c=e.routing,u=void 0===c?null:c,l=e.searchFunction,t=e.stalledSearchDelay,s=void 0===t?200:t,c=e.searchClient,t=void 0===c?null:c,c=e.insightsClient,c=void 0===c?null:c,e=e.onStateChange,e=void 0===e?null:e;if(null===i)throw new Error(xe("The `indexName` option is required."));if(null===t)throw new Error(xe("The `searchClient` option is required."));if("function"!=typeof t.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof t.addAlgoliaAgent&&t.addAlgoliaAgent("instantsearch.js (".concat(R,")")),c&&"function"!=typeof c)throw new Error(xe("The `insightsClient` option should be a function."));return r.client=t,r.insightsClient=c,r.indexName=i,r.helper=null,r.mainHelper=null,r.mainIndex=p({indexName:i}),r.onStateChange=e,r.started=!1,r.templatesConfig={helpers:(n={numberLocale:a}.numberLocale,{formatNumber:function(e,t){return Number(t(e)).toLocaleString(n)},highlight:function(e,t){try{return t(H(ie(ie({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(e,t){try{return t(z(ie(ie({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t($(ie(ie({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(e,t){try{return t(Z(ie(ie({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var r=JSON.parse(e),n=r.method,i=r.payload;return t(re(n,ie({objectIDs:[this.objectID]},i)))}catch(e){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}),compileOptions:{}},r._stalledSearchDelay=s,r._searchStalledTimer=null,r._isSearchStalled=!1,r._createURL=ke,r._initialUiState=o,r._initialResults=null,l&&(r._searchFunction=l),r.sendEventToInsights=oe,u&&r.use(function(e){var t=0<arguments.length&&void 0!==e?e:{},e=t.router,i=void 0===e?function(e){var t=(i=0<arguments.length&&void 0!==e?e:{}).createURL,r=i.parseURL,n=i.writeDelay,e=i.windowTitle,i=i.getLocation;return new ge({createURL:void 0===t?function(e){var t=e.qsModule,r=e.routeState,n=e.location,i=n.protocol,a=n.hostname,s=n.port,e=void 0===s?"":s,s=n.pathname,n=n.hash,r=t.stringify(r),e=""===e?"":":".concat(e);return(r?"".concat(i,"//").concat(a).concat(e).concat(s,"?").concat(r):"".concat(i,"//").concat(a).concat(e).concat(s)).concat(n)}:t,parseURL:void 0===r?function(e){var t=e.qsModule,e=e.location;return t.parse(e.search.slice(1),{arrayLimit:99})}:r,writeDelay:void 0===n?400:n,windowTitle:e,getLocation:void 0===i?function(){return pe(function(e){return e.window.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:i})}():e,t=t.stateMapping,a=void 0===t?{stateToRoute:function(r){return Object.keys(r).reduce(function(e,t){return ue(ue({},e),{},le({},t,he(r[t])))},{})},routeToState:function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(r).reduce(function(e,t){return ue(ue({},e),{},le({},t,he(r[t])))},{})}}:t;return function(e){var t=e.instantSearchInstance;t._createURL=function(r){var e=Object.keys(r).reduce(function(e,t){return we(we({},e),{},Se({},t,r[t]))},t.mainIndex.getWidgetUiState({})),e=a.stateToRoute(e);return i.createURL(e)};var r=void 0,n=t._initialUiState;return{onStateChange:function(e){e=e.uiState,e=a.stateToRoute(e);void 0!==r&&be(r,e)||(i.write(e),r=e)},subscribe:function(){t._initialUiState=we(we({},n),a.routeToState(i.read())),i.onUpdate(function(e){t.setUiState(a.routeToState(e))})},unsubscribe:function(){i.dispose()}}}}("boolean"==typeof u?void 0:u)),pe(function(e){var t;return-1<(null===(e=e.window.navigator)||void 0===e||null===(t=e.userAgent)||void 0===t?void 0:t.indexOf("Algolia Crawler"))},{fallback:function(){return!1}})&&r.use(Oe()),r}return function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(d.prototype,[{key:"use",value:function(){for(var r=this,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.map(function(e){var t=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(r),!0).forEach(function(e){Ae(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({subscribe:oe,unsubscribe:oe,onStateChange:oe},e({instantSearchInstance:r}));return r.middleware.push({creator:e,instance:t}),t});return this.started&&i.forEach(function(e){e.subscribe()}),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.middleware.filter(function(e){return t.includes(e.creator)}).forEach(function(e){return e.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(e){return!t.includes(e.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(xe("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(xe("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(xe("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw new Error(xe("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var r=this;if(this.started)throw new Error(xe("The `start` method has already been called once."));var n,e,i=this.mainHelper||f(this.client,this.indexName);i.search=function(){return i.searchOnlyWithDerivedHelpers()},this._searchFunction&&(n={search:function(){return new Promise(oe)}},this._mainHelperSearch=i.search.bind(i),i.search=function(){var t=r.mainIndex.getHelper(),e=f(n,t.state.index,t.state);return e.once("search",function(e){e=e.state;t.overrideStateWithoutTriggeringChangeEvent(e),r._mainHelperSearch()}),e.on("change",function(e){e=e.state;t.setState(e)}),r._searchFunction(e),i}),i.on("error",function(e){e=e.error;e.error=e,r.emit("error",e)}),this.mainHelper=i,this.middleware.forEach(function(e){e.instance.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults?(e=this.scheduleSearch,this.scheduleSearch=se(oe),se(function(){r.scheduleSearch=e})()):this.scheduleSearch(),this.helper=this.mainIndex.getHelper(),this.started=!0}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(e){e.instance.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){e._isSearchStalled=!0,e.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(e){if(!this.mainHelper)throw new Error(xe("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var n="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;!function e(t){var r=n[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:r})),t.getWidgets().filter(_).forEach(e)}(this.mainIndex),this.scheduleSearch(),this.onInternalStateChange()}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(xe("The `start` method needs to be called before `createURL`."));return this._createURL(e)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(xe("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),d}();function De(){return function(){for(var e="".concat("_ALGOLIA","="),t=document.cookie.split(";"),r=0;r<t.length;r++){for(var n=t[r];" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(e))return n.substring(e.length,n.length)}}()}function Ce(e){e=e||{};return e.page,function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(e,["page"])}var Fe="ais.infiniteHits",Ne=function(e){return new Te(e)};Ne.version=R,Ne.createInfiniteHitsSessionStorageCache=function(){return{read:function(e){var t=e.state,r=pe(function(e){return e.window.sessionStorage});if(!r)return null;try{var n=JSON.parse(r.getItem(Fe));return n&&be(n.state,Ce(t))?n.hits:null}catch(e){if(e instanceof SyntaxError)try{r.removeItem(Fe)}catch(e){}return null}},write:function(e){var t=e.state,r=e.hits,n=pe(function(e){return e.window.sessionStorage});if(n)try{n.setItem(Fe,JSON.stringify({state:Ce(t),hits:r}))}catch(e){}}}},Ne.highlight=H,Ne.reverseHighlight=z,Ne.snippet=$,Ne.reverseSnippet=Z,Ne.insights=re,Ne.getInsightsAnonymousUserToken=De,Object.defineProperty(Ne,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(Ne,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}});const He=Ne;function Ue(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Le(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(r),!0).forEach(function(e){qe(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Me=h({name:"configure",connector:!0});function Be(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(e,t){return Le(Le({},e),{},qe({},t,void 0))},{}))}const We=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:oe,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:oe;return function(n){if(!n||!j(n.searchParameters))throw new Error(Me("The `searchParameters` option expects an object."));var t={};return{$$type:"ais.configure",init:function(e){var t=e.instantSearchInstance;r(Le(Le({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(Le(Le({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return i(),Be(e,n)},getRenderState:function(e,t){t=this.getWidgetRenderState(t);return Le(Le({},e),{},{configure:Le(Le({},t),{},{widgetParams:Le(Le({},t.widgetParams),{},{searchParameters:m(new f.SearchParameters(null===(e=e.configure)||void 0===e?void 0:e.widgetParams.searchParameters),new f.SearchParameters(t.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(e){var r,e=e.helper;return t.refine||(t.refine=(r=e,function(e){var t=Be(r.state,n),t=m(t,new f.SearchParameters(e));n.searchParameters=e,r.setState(t).search()})),{refine:t.refine,widgetParams:n}},getWidgetSearchParameters:function(e,t){t=t.uiState;return m(e,new f.SearchParameters(Le(Le({},t.configure),n.searchParameters)))},getWidgetUiState:function(e){return Le(Le({},e),{},{configure:Le(Le({},e.configure),n.searchParameters)})}}}};function Qe(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ve(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Qe(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Qe(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}const Je=function(e){return Ve(Ve({},We(oe)({searchParameters:e})),{},{$$widgetType:"ais.configure"})};var Ke=Object.prototype.toString,ze=Array.isArray||function(e){return"[object Array]"===Ke.call(e)};function Ge(e){return"function"==typeof e}function $e(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Ye(e,t){return null!=e&&"object"==typeof e&&t in e}var Ze=RegExp.prototype.test,Xe=/\S/,et={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},tt=/\s*/,rt=/\s+/,nt=/\s*=/,it=/\s*\}/,at=/#|\^|\/|>|\{|&|=|!/;function st(e){this.string=e,this.tail=e,this.pos=0}function ot(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function ct(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}st.prototype.eos=function(){return""===this.tail},st.prototype.scan=function(e){e=this.tail.match(e);if(!e||0!==e.index)return"";e=e[0];return this.tail=this.tail.substring(e.length),this.pos+=e.length,e},st.prototype.scanUntil=function(e){var t,r=this.tail.search(e);switch(r){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=t.length,t},ot.prototype.push=function(e){return new ot(e,this)},ot.prototype.lookup=function(e){var t,r,n=this.cache;if(n.hasOwnProperty(e))t=n[e];else{for(var i,a,s,o=this,c=!1;o;){if(0<e.indexOf("."))for(i=o.view,a=e.split("."),s=0;null!=i&&s<a.length;)s===a.length-1&&(c=Ye(i,a[s])||(r=a[s],null!=i&&"object"!=typeof i&&i.hasOwnProperty&&i.hasOwnProperty(r))),i=i[a[s++]];else i=o.view[e],c=Ye(o.view,e);if(c){t=i;break}o=o.parent}n[e]=t}return t=Ge(t)?t.call(this.view):t},ct.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},ct.prototype.parse=function(e,P){var t=this.templateCache,r=e+":"+(P||ut.tags).join(":"),n=void 0!==t,i=n?t.get(r):void 0;return null==i&&(i=function(e){if(!e)return[];var t,r,n,i,a=!1,s=[],o=[],c=[],u=!1,l=!1,h="",d=0;function p(){if(u&&!l)for(;c.length;)delete o[c.pop()];else c=[];l=u=!1}function f(e){if("string"==typeof e&&(e=e.split(rt,2)),!ze(e)||2!==e.length)throw new Error("Invalid tags: "+e);t=new RegExp($e(e[0])+"\\s*"),r=new RegExp("\\s*"+$e(e[1])),n=new RegExp("\\s*"+$e("}"+e[1]))}f(P||ut.tags);for(var m,g,y,v,b,_,w=new st(e);!w.eos();){if(m=w.pos,y=w.scanUntil(t))for(var S=0,O=y.length;S<O;++S)i=v=y.charAt(S),Ze.call(Xe,i)?(a=l=!0,h+=" "):(c.push(o.length),h+=v),o.push(["text",v,m,m+1]),m+=1,"\n"===v&&(p(),h="",d=0,a=!1);if(!w.scan(t))break;if(u=!0,g=w.scan(at)||"name",w.scan(tt),"="===g?(y=w.scanUntil(nt),w.scan(nt),w.scanUntil(r)):"{"===g?(y=w.scanUntil(n),w.scan(it),w.scanUntil(r),g="&"):y=w.scanUntil(r),!w.scan(r))throw new Error("Unclosed tag at "+w.pos);if(b=">"==g?[g,y,m,w.pos,h,d,a]:[g,y,m,w.pos],d++,o.push(b),"#"===g||"^"===g)s.push(b);else if("/"===g){if(!(_=s.pop()))throw new Error('Unopened section "'+y+'" at '+m);if(_[1]!==y)throw new Error('Unclosed section "'+_[1]+'" at '+m)}else"name"===g||"{"===g||"&"===g?l=!0:"="===g&&f(y)}if(p(),_=s.pop())throw new Error('Unclosed section "'+_[1]+'" at '+w.pos);return function(e){for(var t,r=[],n=r,i=[],a=0,s=e.length;a<s;++a)switch((t=e[a])[0]){case"#":case"^":n.push(t),i.push(t),n=t[4]=[];break;case"/":i.pop()[5]=t[2],n=0<i.length?i[i.length-1][4]:r;break;default:n.push(t)}return r}(function(e){for(var t,r,n=[],i=0,a=e.length;i<a;++i)(t=e[i])&&("text"===t[0]&&r&&"text"===r[0]?(r[1]+=t[1],r[3]=t[3]):(n.push(t),r=t));return n}(o))}(e),n&&t.set(r,i)),i},ct.prototype.render=function(e,t,r,n){var i=this.getConfigTags(n),i=this.parse(e,i),t=t instanceof ot?t:new ot(t,void 0);return this.renderTokens(i,t,r,e,n)},ct.prototype.renderTokens=function(e,t,r,n,i){for(var a,s,o,c="",u=0,l=e.length;u<l;++u)o=void 0,"#"===(s=(a=e[u])[0])?o=this.renderSection(a,t,r,n,i):"^"===s?o=this.renderInverted(a,t,r,n,i):">"===s?o=this.renderPartial(a,t,r,i):"&"===s?o=this.unescapedValue(a,t):"name"===s?o=this.escapedValue(a,t,i):"text"===s&&(o=this.rawValue(a)),void 0!==o&&(c+=o);return c},ct.prototype.renderSection=function(e,t,r,n,i){var a=this,s="",o=t.lookup(e[1]);if(o){if(ze(o))for(var c=0,u=o.length;c<u;++c)s+=this.renderTokens(e[4],t.push(o[c]),r,n,i);else if("object"==typeof o||"string"==typeof o||"number"==typeof o)s+=this.renderTokens(e[4],t.push(o),r,n,i);else if(Ge(o)){if("string"!=typeof n)throw new Error("Cannot use higher-order sections without the original template");null!=(o=o.call(t.view,n.slice(e[3],e[5]),function(e){return a.render(e,t,r,i)}))&&(s+=o)}else s+=this.renderTokens(e[4],t,r,n,i);return s}},ct.prototype.renderInverted=function(e,t,r,n,i){var a=t.lookup(e[1]);if(!a||ze(a)&&0===a.length)return this.renderTokens(e[4],t,r,n,i)},ct.prototype.indentPartial=function(e,t,r){for(var n=t.replace(/[^ \t]/g,""),i=e.split("\n"),a=0;a<i.length;a++)i[a].length&&(0<a||!r)&&(i[a]=n+i[a]);return i.join("\n")},ct.prototype.renderPartial=function(e,t,r,n){if(r){var i=this.getConfigTags(n),a=Ge(r)?r(e[1]):r[e[1]];if(null!=a){var s=e[6],o=e[5],c=e[4],e=a;0==o&&c&&(e=this.indentPartial(a,c,s));i=this.parse(e,i);return this.renderTokens(i,t,r,e,n)}}},ct.prototype.unescapedValue=function(e,t){e=t.lookup(e[1]);if(null!=e)return e},ct.prototype.escapedValue=function(e,t,r){r=this.getConfigEscape(r)||ut.escape,e=t.lookup(e[1]);if(null!=e)return("number"==typeof e&&r===ut.escape?String:r)(e)},ct.prototype.rawValue=function(e){return e[1]},ct.prototype.getConfigTags=function(e){return ze(e)?e:e&&"object"==typeof e?e.tags:void 0},ct.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!ze(e)?e.escape:void 0};var ut={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){lt.templateCache=e},get templateCache(){return lt.templateCache}},lt=new ct;ut.clearCache=function(){return lt.clearCache()},ut.parse=function(e,t){return lt.parse(e,t)},ut.render=function(e,t,r,n){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(ze(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return lt.render(e,t,r,n)},ut.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return et[e]})},ut.Scanner=st,ut.Context=ot,ut.Writer=ct;const ht=ut;var dt,pt,ft,mt,gt,yt,vt={},bt=[],_t=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function wt(e,t){for(var r in t)e[r]=t[r];return e}function St(e){var t=e.parentNode;t&&t.removeChild(e)}function Ot(e,t,r){var n,i,a,s={};for(a in t)"key"==a?n=t[a]:"ref"==a?i=t[a]:s[a]=t[a];if(2<arguments.length&&(s.children=3<arguments.length?dt.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return Pt(e,s,n,i,null)}function Pt(e,t,r,n,i){n={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++ft:i};return null==i&&null!=pt.vnode&&pt.vnode(n),n}function Rt(e){return e.children}function It(e,t){this.props=e,this.context=t}function jt(e,t){if(null==t)return e.__?jt(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?jt(e):null}function Et(e){(!e.__d&&(e.__d=!0)&&mt.push(e)&&!At.__r++||yt!==pt.debounceRendering)&&((yt=pt.debounceRendering)||gt)(At)}function At(){for(var e;At.__r=mt.length;)e=mt.sort(function(e,t){return e.__v.__b-t.__v.__b}),mt=[],e.some(function(e){var t,r,n,i,a;e.__d&&(i=(n=(t=e).__v).__e,(a=t.__P)&&(r=[],(e=wt({},n)).__v=n.__v+1,Nt(a,n,e,t.__n,void 0!==a.ownerSVGElement,null!=n.__h?[i]:null,r,null==i?jt(n):i,n.__h),Ht(r,n),n.__e!=i&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(n)))})}function xt(e,t,r,n,i,a,s,o,c,u){var l,h,d,p,f,m,g,y=n&&n.__k||bt,v=y.length;for(r.__k=[],l=0;l<t.length;l++)if(null!=(p=r.__k[l]=null==(p=t[l])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?Pt(null,p,null,null,p):Array.isArray(p)?Pt(Rt,{children:p},null,null,null):0<p.__b?Pt(p.type,p.props,p.key,null,p.__v):p)){if(p.__=r,p.__b=r.__b+1,null===(d=y[l])||d&&p.key==d.key&&p.type===d.type)y[l]=void 0;else for(h=0;h<v;h++){if((d=y[h])&&p.key==d.key&&p.type===d.type){y[h]=void 0;break}d=null}Nt(e,p,d=d||vt,i,a,s,o,c,u),f=p.__e,(h=p.ref)&&d.ref!=h&&(g=g||[],d.ref&&g.push(d.ref,null,p),g.push(h,p.__c||f,p)),null!=f?(null==m&&(m=f),"function"==typeof p.type&&p.__k===d.__k?p.__d=c=function e(t,r,n){for(var i,a=t.__k,s=0;a&&s<a.length;s++)(i=a[s])&&(i.__=t,r="function"==typeof i.type?e(i,r,n):kt(n,i,i,a,i.__e,r));return r}(p,c,e):c=kt(e,p,d,y,f,c),"function"==typeof r.type&&(r.__d=c)):c&&d.__e==c&&c.parentNode!=e&&(c=jt(d))}for(r.__e=m,l=v;l--;)null!=y[l]&&("function"==typeof r.type&&null!=y[l].__e&&y[l].__e==r.__d&&(r.__d=jt(n,l+1)),function e(t,r,n){var i,a;if(pt.unmount&&pt.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||Ut(i,null,r)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(t){pt.__e(t,r)}i.base=i.__P=null}if(i=t.__k)for(a=0;a<i.length;a++)i[a]&&e(i[a],r,"function"!=typeof t.type);n||null==t.__e||St(t.__e),t.__e=t.__d=void 0}(y[l],y[l]));if(g)for(l=0;l<g.length;l++)Ut(g[l],g[++l],g[++l])}function kt(e,t,r,n,i,a){var s,o,c;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==r||i!=a||null==i.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(i),s=null;else{for(o=a,c=0;(o=o.nextSibling)&&c<n.length;c+=2)if(o==i)break e;e.insertBefore(i,a),s=a}return void 0!==s?s:i.nextSibling}function Tt(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||_t.test(t)?r:r+"px"}function Dt(e,t,r,n,i){var a;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||Tt(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||Tt(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=(t.toLowerCase()in e?t.toLowerCase():t).slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n||e.addEventListener(t,a?Ft:Ct,a):e.removeEventListener(t,a?Ft:Ct,a);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null!=r&&(!1!==r||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,r):e.removeAttribute(t))}}function Ct(e){this.l[e.type+!1](pt.event?pt.event(e):e)}function Ft(e){this.l[e.type+!0](pt.event?pt.event(e):e)}function Nt(e,t,r,n,i,a,s,o,c){var u,l,h,d,p,f,m,g,y,v,b,_=t.type;if(void 0===t.constructor){null!=r.__h&&(c=r.__h,o=t.__e=r.__e,t.__h=null,a=[o]),(u=pt.__b)&&u(t);try{e:if("function"==typeof _){if(g=t.props,y=(u=_.contextType)&&n[u.__c],v=u?y?y.props.value:u.__:n,r.__c?m=(l=t.__c=r.__c).__=l.__E:("prototype"in _&&_.prototype.render?t.__c=l=new _(g,v):(t.__c=l=new It(g,v),l.constructor=_,l.render=Lt),y&&y.sub(l),l.props=g,l.state||(l.state={}),l.context=v,l.__n=n,h=l.__d=!0,l.__h=[]),null==l.__s&&(l.__s=l.state),null!=_.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=wt({},l.__s)),wt(l.__s,_.getDerivedStateFromProps(g,l.__s))),d=l.props,p=l.state,h)null==_.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==_.getDerivedStateFromProps&&g!==d&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(g,v),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(g,l.__s,v)||t.__v===r.__v){l.props=g,l.state=l.__s,t.__v!==r.__v&&(l.__d=!1),(l.__v=t).__e=r.__e,t.__k=r.__k,t.__k.forEach(function(e){e&&(e.__=t)}),l.__h.length&&s.push(l);break e}null!=l.componentWillUpdate&&l.componentWillUpdate(g,l.__s,v),null!=l.componentDidUpdate&&l.__h.push(function(){l.componentDidUpdate(d,p,f)})}l.context=v,l.props=g,l.state=l.__s,(u=pt.__r)&&u(t),l.__d=!1,l.__v=t,l.__P=e,u=l.render(l.props,l.state,l.context),l.state=l.__s,null!=l.getChildContext&&(n=wt(wt({},n),l.getChildContext())),h||null==l.getSnapshotBeforeUpdate||(f=l.getSnapshotBeforeUpdate(d,p)),b=null!=u&&u.type===Rt&&null==u.key?u.props.children:u,xt(e,Array.isArray(b)?b:[b],t,r,n,i,a,s,o,c),l.base=t.__e,t.__h=null,l.__h.length&&s.push(l),m&&(l.__E=l.__=null),l.__e=!1}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,n,i,a,s,o){var c,u,l,h=r.props,d=t.props,p=t.type,f=0;if("svg"===p&&(i=!0),null!=a)for(;f<a.length;f++)if((c=a[f])&&"setAttribute"in c==!!p&&(p?c.localName===p:3===c.nodeType)){e=c,a[f]=null;break}if(null==e){if(null===p)return document.createTextNode(d);e=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,d.is&&d),a=null,o=!1}if(null===p)h===d||o&&e.data===d||(e.data=d);else{if(a=a&&dt.call(e.childNodes),u=(h=r.props||vt).dangerouslySetInnerHTML,l=d.dangerouslySetInnerHTML,!o){if(null!=a)for(h={},f=0;f<e.attributes.length;f++)h[e.attributes[f].name]=e.attributes[f].value;(l||u)&&(l&&(u&&l.__html==u.__html||l.__html===e.innerHTML)||(e.innerHTML=l&&l.__html||""))}if(function(e,t,r,n,i){for(var a in r)"children"===a||"key"===a||a in t||Dt(e,a,null,r[a],n);for(a in t)i&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||r[a]===t[a]||Dt(e,a,t[a],r[a],n)}(e,d,h,i,o),l)t.__k=[];else if(f=t.props.children,xt(e,Array.isArray(f)?f:[f],t,r,n,i&&"foreignObject"!==p,a,s,a?a[0]:r.__k&&jt(r,0),o),null!=a)for(f=a.length;f--;)null!=a[f]&&St(a[f]);o||("value"in d&&void 0!==(f=d.value)&&(f!==e.value||"progress"===p&&!f||"option"===p&&f!==h.value)&&Dt(e,"value",f,h.value,!1),"checked"in d&&void 0!==(f=d.checked)&&f!==e.checked&&Dt(e,"checked",f,h.checked,!1))}return e}(r.__e,t,r,n,i,a,s,c);(u=pt.diffed)&&u(t)}catch(e){t.__v=null,!c&&null==a||(t.__e=o,t.__h=!!c,a[a.indexOf(o)]=null),pt.__e(e,t,r)}}}function Ht(e,t){pt.__c&&pt.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){pt.__e(e,t.__v)}})}function Ut(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){pt.__e(e,r)}}function Lt(e,t,r){return this.constructor(e,r)}function qt(e,t,r){var n,i,a;pt.__&&pt.__(e,t),i=(n="function"==typeof r)?null:r&&r.__k||t.__k,a=[],Nt(t,e=(!n&&r||t).__k=Ot(Rt,null,[e]),i||vt,vt,void 0!==t.ownerSVGElement,!n&&r?[r]:!i&&t.firstChild?dt.call(t.childNodes):null,a,!n&&r?r:i?i.__e:t.firstChild,n),Ht(a,e)}dt=bt.slice,pt={__e:function(e,t,r,n){for(var i,a,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},ft=0,It.prototype.setState=function(e,t){var r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=wt({},this.state);(e="function"==typeof e?e(wt({},r),this.props):e)&&wt(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),Et(this))},It.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Et(this))},It.prototype.render=Rt,mt=[],gt="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,At.__r=0;var Mt=Bi(184);const Bt=function(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat(Object.prototype.toString.call(e).slice(8,-1),").\n\n").concat(t))};function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e){var r=e.index,n=e.widgetType,t=(e.methodName,e.args);if(1===t.length&&"object"===Wt(t[0]))return[t[0]];var i=t[0],e=t[1],a=t[2];if(!e)return[];if(("click"===i||"conversion"===i)&&!a)return[];if(0===(e=Array.isArray(e)?e.slice():[e]).length)return[];var s=e[0].__queryID,o=(e=function(e,t){for(var r=1<arguments.length&&void 0!==t?t:20,n=[],i=0;i<Math.ceil(e.length/r);i++)n.push(e.slice(i*r,(i+1)*r));return n}(e)).map(function(e){return e.map(function(e){return e.objectID})}),c=e.map(function(e){return e.map(function(e){return e.__position})});return"view"===i?e.map(function(e,t){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:i,payload:{eventName:a||"Hits Viewed",index:r,objectIDs:o[t]},hits:e}}):"click"===i?e.map(function(e,t){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:i,payload:{eventName:a,index:r,queryID:s,objectIDs:o[t],positions:c[t]},hits:e}}):"conversion"===i?e.map(function(e,t){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:i,payload:{eventName:a,index:r,queryID:s,objectIDs:o[t]},hits:e}}):[]}function Vt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Jt(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Vt(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Kt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function zt(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Kt(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Gt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function $t(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(r),!0).forEach(function(e){Yt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zt=h({name:"hits",connector:!0});const Xt=function(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:oe;return Bt(r,Zt()),function(d){var p,f,e=d||{},t=e.escapeHTML,m=void 0===t||t,e=e.transformItems,g=void 0===e?function(e){return e}:e;return{$$type:"ais.hits",init:function(e){r($t($t({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){var t=this.getWidgetRenderState(e);r($t($t({},t),{},{instantSearchInstance:e.instantSearchInstance}),!1),t.sendEvent("view",t.hits)},getRenderState:function(e,t){return $t($t({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var i,a,n,s,o,t=e.results,r=e.helper,e=e.instantSearchInstance;if(p||(e={instantSearchInstance:e,index:r.getIndex(),widgetType:this.$$type},n=e.instantSearchInstance,s=e.index,o=e.widgetType,p=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Qt({widgetType:o,index:s,methodName:"sendEvent",args:t}).forEach(function(e){return n.sendEventToInsights(e)})}),f||(r={index:r.getIndex(),widgetType:this.$$type},i=r.index,a=r.widgetType,f=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Qt({widgetType:a,index:i,methodName:"bindEvent",args:t});return n.length?"data-insights-event=".concat(X(n)):""}),!t)return{hits:[],results:void 0,sendEvent:p,bindEvent:f,widgetParams:d};m&&0<t.hits.length&&(t.hits=(void 0===(u=t.hits).__escaped&&((u=u.map(function(e){e=E({},e);return e._highlightResult&&(e._highlightResult=F(e._highlightResult)),e._snippetResult&&(e._snippetResult=F(e._snippetResult)),e})).__escaped=!0),u));var c,u,l,h,u=(u=t.hits,l=t.page,h=t.hitsPerPage,u=u.map(function(e,t){return Jt(Jt({},e),{},{__position:h*l+t+1})}),(c=t.queryID)?u.map(function(e){return zt(zt({},e),{},{__queryID:c})}):u);return{hits:g(u,{results:t}),results:t,sendEvent:p,bindEvent:f,widgetParams:d}},dispose:function(e){e=e.state;return n(),m?e.setQueryParameters(Object.keys(T).reduce(function(e,t){return $t($t({},e),{},Yt({},t,void 0))},{})):e},getWidgetSearchParameters:function(e){return m?e.setQueryParameters(T):e}}}};var er=Bi(485);function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function nr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rr(Object(r),!0).forEach(function(e){ir(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ir(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ar(e){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(){return(sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function or(e,t){return(or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cr(e){return(cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ur,lr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),or(e,t)}(t,It);var r,n,e=(r=t,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=cr(r);return e=n?(e=cr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==ar(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e});function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.apply(this,arguments)}return function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,[{key:"shouldComponentUpdate",value:function(e){return!be(this.props.data,e.data)||this.props.templateKey!==e.templateKey||!be(this.props.rootProps,e.rootProps)}},{key:"render",value:function(){var e=this.props.rootTagName,t=this.props.useCustomCompileOptions[this.props.templateKey]?this.props.templatesConfig.compileOptions:{},t=function(e){var t=e.templateKey,r=e.compileOptions,n=e.helpers,i=e.data,a=e.bindEvent,e=e.templates[t];if("string"!=typeof e&&"function"!=typeof e)throw new Error("Template must be 'string' or 'function', was '".concat(tr(e),"' (key: ").concat(t,")"));if("function"==typeof e)return e(i,a);n=function(e,t,r){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length?t:void 0,a=2<arguments.length?r:void 0;return Object.keys(n).reduce(function(e,r){return nr(nr({},e),{},ir({},r,function(){var t=this;return function(e){return n[r].call(a,e,function(e){return er.compile(e,i).render(t)})}}))},{})}(n,r,i);return er.compile(e,r).render(nr(nr({},i),{},{helpers:n})).replace(/[ \n\r\t\f\xA0]+/g,function(e){return e.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")}).trim()}({templates:this.props.templates,templateKey:this.props.templateKey,compileOptions:t,helpers:this.props.templatesConfig.helpers,data:this.props.data,bindEvent:this.props.bindEvent});return null===t?null:Ot(e,sr({},this.props.rootProps,{dangerouslySetInnerHTML:{__html:t}}))}}]),t}();_n={data:{},rootTagName:"div",useCustomCompileOptions:{},templates:{},templatesConfig:{}},(ur="defaultProps")in(Ne=lr)?Object.defineProperty(Ne,ur,{value:_n,enumerable:!0,configurable:!0,writable:!0}):Ne[ur]=_n;const hr=lr;function dr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function pr(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?dr(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):dr(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function fr(){return(fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const mr={empty:"No results",item:function(e){return JSON.stringify(e,null,2)}};function gr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function yr(e){return function(e){if(Array.isArray(e))return vr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return vr(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?vr(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const br=function(e){var t,r="string"==typeof e,n=r?document.querySelector(e):e;if((t=n)instanceof HTMLElement||Boolean(t)&&0<t.nodeType)return n;n="Container must be `string` or `HTMLElement`.";throw r&&(n+=" Unable to find ".concat(e)),new Error(n)};function _r(e,t,r){for(var n=e;n&&!r(n);){if(n===t)return null;n=n.parentElement}return n}const wr=function(e,t){for(var r,n=0;n<e.length;n++)if(t(r=e[n],n,e))return r};function Sr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Or(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Sr(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Sr(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Pr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Rr(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Pr(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Pr(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var Ir,jr=h({name:"hits"}),Er=s("Hits"),Ar=(Ir=function(e){var t=e.results,r=e.hits,n=e.bindEvent,i=e.cssClasses,a=e.templateProps;return 0===t.hits.length?Ot(hr,fr({},a,{templateKey:"empty",rootProps:{className:Mt(i.root,i.emptyRoot)},data:t})):Ot("div",{className:i.root},Ot("ol",{className:i.list},r.map(function(e,t){return Ot(hr,fr({},a,{templateKey:"item",rootTagName:"li",rootProps:{className:i.item},key:e.objectID,data:pr(pr({},e),{},{__hitIndex:t}),bindEvent:n}))})))},function(n){return Ot("div",{onClick:function(e){var t;!n.sendEvent||(t=_r(e.target,e.currentTarget,function(e){return e.hasAttribute("data-insights-event")}))&&function(){var e=t.getAttribute("data-insights-event");if("string"!=typeof e)throw new Error("The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.");try{return ee(e)}catch(e){throw new Error("The insights middleware was unable to parse `data-insights-event`.")}}().forEach(function(e){return n.sendEvent(e)});var r=_r(e.target,e.currentTarget,function(e){return e.hasAttribute("data-insights-method")});r&&(r=(e=function(e){var t=e.getAttribute("data-insights-method"),r=e.getAttribute("data-insights-payload");if("string"!=typeof r)throw new Error("The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.");try{return{method:t,payload:ee(r)}}catch(e){throw new Error("The insights helper was unable to parse `data-insights-payload`.")}}(r)).method,e=e.payload,n.insights(r,e))}},Ot(Ir,n))});const xr=function(e){var t=e||{},r=t.container,n=t.escapeHTML,i=t.transformItems,e=t.templates,e=void 0===e?{}:e,t=t.cssClasses,t=void 0===t?{}:t;if(!r)throw new Error(jr("The `container` option is required."));var s,o,c,u,a,l=br(r),t={root:Mt(Er(),t.root),emptyRoot:Mt(Er({modifierName:"empty"}),t.emptyRoot),list:Mt(Er({descendantName:"list"}),t.list),item:Mt(Er({descendantName:"item"}),t.item)},e=(s=(t={containerNode:l,cssClasses:t,renderState:{},templates:e}).renderState,o=t.cssClasses,c=t.containerNode,u=t.templates,function(e,t){var r=e.hits,n=e.results,i=e.instantSearchInstance,a=e.insights,e=e.bindEvent;t?s.templateProps=function(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?gr(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):gr(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}({templatesConfig:(t={defaultTemplates:mr,templatesConfig:i.templatesConfig,templates:u}).templatesConfig},function(a,e){var s=1<arguments.length&&void 0!==e?e:{};return d([].concat(yr(Object.keys(a||{})),yr(Object.keys(s)))).reduce(function(e,t){var r=a?a[t]:void 0,n=s[t],i=void 0!==n&&n!==r;return e.templates[t]=i?n:r,e.useCustomCompileOptions[t]=i,e},{templates:{},useCustomCompileOptions:{}})}(t.defaultTemplates,t.templates)):qt(Ot(Ar,{cssClasses:o,hits:r,results:n,templateProps:s.templateProps,insights:a,sendEvent:function(e){i.sendEventToInsights(e)},bindEvent:e}),c)});return Rr(Rr({},(t=Xt,a=e,t(function(e,t){var s,o,c,r=e.results,n=e.hits,i=e.instantSearchInstance;if(r&&n&&i){n=(s=i.insightsClient,o=r,c=n,function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=r[0];if(!s){var a=h({name:"instantsearch"});throw new Error(a("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(i.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");a=function(e){var r,t=e.method,n=e.results,i=e.hits,a=e.objectIDs,s=n.index,o=(r=i,a.map(function(t){var e=wr(r,function(e){return e.objectID===t});if(void 0===e)throw new Error('Could not find objectID "'.concat(t,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return e})),c=function(e){e=d(e.map(function(e){return e.__queryID}));if(1<e.length)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");e=e[0];if("string"!=typeof e)throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return e}(o);switch(t){case"clickedObjectIDsAfterSearch":return{index:s,queryID:c,objectIDs:a,positions:o.map(function(e){return e.__position})};case"convertedObjectIDsAfterSearch":return{index:s,queryID:c,objectIDs:a};default:throw new Error('Unsupported method passed to insights: "'.concat(t,'".'))}}({method:e,results:o,hits:c,objectIDs:i.objectIDs});s(e,Or(Or({},a),i))});return a(Or(Or({},e),{},{insights:n}),t)}return a(e,t)},function(){return qt(null,l)})({escapeHTML:n,transformItems:i}))),{},{$$widgetType:"ais.hits"})};var kr=Bi(137);function Tr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Dr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fr(e){var u=(e=e||{}).insightsClient,l=e.insightsInitParams,h=e.onEvent;if(null!==u&&!u)throw new Error("The `insightsClient` option is required. To disable, set it to `null`.");var d=Boolean(u),p=null===u?oe:u;return function(e){var r=e.instantSearchInstance,t=Dr(function(e){if(e.transporter){var t=e.transporter,r=t.headers,n=t.queryParameters,i="x-algolia-application-id",t="x-algolia-api-key";return[r[i]||n[i],r[t]||n[t]]}return[e.applicationID,e.apiKey]}(r.client),2),n=t[0],e=t[1],i=void 0,a=void 0;Array.isArray(p.queue)&&(t=wr(p.queue.slice().reverse(),function(){}