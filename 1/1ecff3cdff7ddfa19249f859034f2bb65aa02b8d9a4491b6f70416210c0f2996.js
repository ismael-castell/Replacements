/*! For license information please see vn_module.js.LICENSE.txt */
!function(t){var e={};function r(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(i,o,function(e){return t[e]}.bind(null,o));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=43)}([function(t,e,r){"use strict";r.d(e,"d",(function(){return h})),r.d(e,"p",(function(){return p})),r.d(e,"t",(function(){return g})),r.d(e,"c",(function(){return f})),r.d(e,"q",(function(){return v})),r.d(e,"e",(function(){return m})),r.d(e,"b",(function(){return b})),r.d(e,"o",(function(){return y})),r.d(e,"a",(function(){return A})),r.d(e,"v",(function(){return O})),r.d(e,"m",(function(){return _})),r.d(e,"u",(function(){return S})),r.d(e,"l",(function(){return P})),r.d(e,"k",(function(){return C})),r.d(e,"j",(function(){return j})),r.d(e,"f",(function(){return E})),r.d(e,"n",(function(){return D})),r.d(e,"r",(function(){return I})),r.d(e,"g",(function(){return T})),r.d(e,"w",(function(){return V})),r.d(e,"i",(function(){return R})),r.d(e,"h",(function(){return M})),r.d(e,"s",(function(){return x}));var i,o=r(2),n=r(19),a=r.n(n),s=r(7);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c="DOM",u=(null===o.a||void 0===o.a||null===(i=o.a.getChildWriter)||void 0===i?void 0:i.call(o.a,c))||o.a,h=function(t){t.preventDefault(),t.stopPropagation()},p=function(t,e){return t&&("object"==typeof t||"function"==typeof t)&&"string"==typeof t.innerHTML&&(!e||e.toUpperCase()===t.tagName)},g=function(t){return t&&t.parentNode&&t.parentNode.removeChild(t),null},f=function(t,e){var r=[].concat(t).filter((function(t){return t&&t.style}));return Object.keys(e).forEach((function(t){var i=e[t];void 0!==i&&r.forEach((function(e){var r=e.style;if(r[t]=i,-1!==["transform","transition","userSelect"].indexOf(t)){var o=""+t[0].toUpperCase()+t.substr(1);["Webkit","Moz","Ms","O"].forEach((function(t){r[""+t+o]=i}))}}))})),t},v=function(t,e){if(void 0===e&&(e=!1),p(t,"video")||p(t,"audio")){u.trace("mediaSafePlay() element.volume="+t.volume+" element.muted="+t.muted,2,"pink");var r=t.play();return void 0!==r?r.then((function(){return u.trace("DOM.mediaSafePlay() Autoplay started! element.volume="+t.volume+" element.muted="+t.muted),r})).catch((function(i){if(e)throw u.warn("DOM.mediaSafePlay() element.volume="+t.volume+" element.muted="+t.muted+" error:"+(i.message||i)),i;return r})):void 0}return!1},m=function(t,e,r,i){var o=document.createElement(t);switch(typeof e){case"object":f(o,e);break;case"string":o.className=e}return o.innerHTML=r||"",o.addEventListener("click",i),o},b=function(t,e,r,i,o){var n=m(e,r,i,o);return t.appendChild(n)},y=function(t,e,r,i,o){var n=m(e,r,i,o);return t.parentElement.insertBefore(n,t.nextSibling)},A=function(t,e){var r=t.ownerDocument||t.document,i=r.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(r.createTextNode(e)),r.head.appendChild(i)},O=function(t,e){t&&"object"==typeof e&&Object.keys(e).forEach((function(r){return t.setAttribute(r,e[r])}))},w=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1},_=function(t,e){for(;t;){if(w(t,e))return!0;t=t.parentNode}return!1},S=function(t,e){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(t){return-1!==[].indexOf.call(document.querySelectorAll(t),undefined)}).call(t,e)},P=function(t,e,r){if(void 0===e&&(e=document.body),void 0===r&&(r=1),!t)return u.warn("DOM.getElementsByComplexSelector: Invalid complexSelector ("+t+")"),[];if(!p(e))return u.warn("DOM.getElementsByComplexSelector: Invalid lookupNode ("+e+")"),[];var i=[];return t.split("|").some((function(t){if(S(e,t))return i=[e],!0;var o=e.querySelectorAll(t);if(o.length>0){if(!(o.length<r))return i=Array.from(o),!0;u.trace("DOM.getElementsByComplexSelector: Found target nodes "+o.length+" < "+r)}return!1})),i},C=function(t,e,r,i){if(void 0===e&&(e="100%"),void 0===r&&(r=document.body),void 0===i&&(i=1),!t)return null;if(p(t))return u.trace("DOM.getElementFromOptions() Returning provided DOM node"),t;if("string"==typeof t){var o=P(t,r,i),n=parseInt(e,10)/100;return isNaN(n)?(u.warn("DOM.getElementFromOptions() Invalid playerSelectorPercent ("+n+")"),null):o[n?Math.ceil(o.length*n)-1:0]}return u.warn("DOM.getElementFromOptions() Invalid selector ("+t+")"),null},j=function(t,e){var r=t.parentNode,i=getComputedStyle(t),o=r.style.display;r.style.display="none";var n=i.getPropertyValue(e);return r.style.display=o,n},E=function(t){return b(t,"div",{position:"absolute",transform:"translate(-50%, -50%)",top:"50%",left:"50%"},a.a)},D={position:"absolute",visibility:"hidden"},I={position:"absolute",visibility:"initial"},T=function(t,e){for(var r=[];t.parentNode;)if(r.push(t.parentNode),(t=t.parentNode)===e)return r;return r},V=function(t,e){void 0===e&&(e={});var r,i,o=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},{iframeLoadedTimeout:50,maxAttempt:10,manualCheck:!1,onloadCheck:!0},{},e),n=o.iframeLoadedTimeout,a=o.maxAttempt,c=o.onload,u=o.onerror,h=o.manualCheck,p=o.onloadCheck,g=a;if(c){if(k(t))return c(),null;s.i&&(h=!0,p=!1),h&&(r=setInterval((function(){--g;var e=k(t);if(e&&(i&&t.removeEventListener("load",i),c()),(0==--g||e)&&clearInterval(r),!g&&!e)throw new Error(".setIframeEventsHandlers() fail loading iframe")}),n)),p&&(i=function(){clearInterval(r),c()},t.addEventListener("load",i))}return t.addEventListener("error",(function(e){if(clearInterval(r),!s.e)throw console.error(e),u&&u(),new Error(".setIframeEventsHandlers() fail loading iframe");c(),i&&t.removeEventListener("load",i),clearInterval(r)})),r};function k(t){return p(t,"IFRAME")&&t.contentWindow&&"complete"===t.contentWindow.document.readyState||p(t,"DIV")&&t}function R(t,e){return M(t,e&&e.offsetParent)}function M(t,e){var r=0,i=0,o=document;if(e){var n=window,a=e.closest&&e.closest("body"),s=x(document,a);s&&s.length&&(n=s.pop().contentWindow),o=n.document;var l=(getComputedStyle(e)||{}).position;if(~["absolute","relative","fixed"].indexOf(l)){var d=e.getBoundingClientRect(),c=d.top,u=d.left;r=c+n.pageYOffset,i=u+n.pageXOffset}}var h=function(t,e){void 0===e&&(e=document);var r,i={top:0,left:0},o=t&&t.getBoundingClientRect&&t.getBoundingClientRect()||i,n=o.top,a=o.left;if(document===e)r=window;else{var s=x(document,e.body);r=s.length&&s.pop().contentWindow}if(r){var l=r,d=l.pageXOffset;n+=l.pageYOffset,a+=d}var c=t&&t.closest&&t.closest("body"),u=x(e,c);if(u.length){var h=u.reduceRight((function(t,e){var r=e&&e.getBoundingClientRect()||i,o=r.top,n=r.left;t||(t={top:0,left:0});var a=e&&getComputedStyle(e)||{},s=a.paddingLeft,l=a.paddingTop;return t.top+=o+(e&&e.clientTop||0)+(s&&parseFloat(s)||0)+(e&&e.scrollTop||0),t.left+=n+(e&&e.clientLeft||0)+(l&&parseFloat(l)||0)+(e&&e.scrollLeft||0),t}),null);n+=h.top,a+=h.left}return{top:n,left:a}}(t,o);return h.top-=r,h.left-=i,h}function x(t,e){return!e||t&&t.body===e?[]:N(t,e)}function N(t,e,r){void 0===r&&(r={}),r||(r={}),r.children||(r.children=[]);var i=t.querySelectorAll("iframe"),o=!1;return i.length&&Array.from(i).some((function(t){var i;try{i=(t.contentWindow||{}).document}catch(t){return!1}if(i){if(i.body===e){o=[t];for(var n=r;n&&n.element;){o.push(n.element),n=n.parent}return!0}var a={element:t,children:[]};if(a.parent=r,r.children.push(a),(o=N(i,e,a)).length)return!0}return!1})),o}},function(t,e,r){"use strict";r.d(e,"b",(function(){return h})),r.d(e,"g",(function(){return p})),r.d(e,"d",(function(){return g})),r.d(e,"p",(function(){return f})),r.d(e,"t",(function(){return v})),r.d(e,"s",(function(){return m})),r.d(e,"m",(function(){return b})),r.d(e,"j",(function(){return y})),r.d(e,"k",(function(){return A})),r.d(e,"c",(function(){return O})),r.d(e,"i",(function(){return w})),r.d(e,"o",(function(){return P})),r.d(e,"y",(function(){return C})),r.d(e,"x",(function(){return j})),r.d(e,"l",(function(){return E})),r.d(e,"h",(function(){return I})),r.d(e,"a",(function(){return T})),r.d(e,"e",(function(){return V})),r.d(e,"r",(function(){return k})),r.d(e,"u",(function(){return R})),r.d(e,"q",(function(){return x})),r.d(e,"f",(function(){return N})),r.d(e,"n",(function(){return L})),r.d(e,"w",(function(){return F})),r.d(e,"v",(function(){return H}));var i,o=r(0),n=r(11),a=r(2);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c="utils",u=(null===a.a||void 0===a.a||null===(i=a.a.getChildWriter)||void 0===i?void 0:i.call(a.a,c))||a.a,h=function(t,e){return t.reduce((function(t,e){return t.then(e)}),Promise.resolve(e))},p=function(t,e){var r=t&&t.length;if(!r)return Promise.resolve(!1);var i=[];return new Promise((function(o,n){var a=0,s=function(t){if(t>=r)if(i.length){var e=i.filter((function(t){return t.fatal}));n(e.length&&e[0]||i[0])}else o()};t.forEach((function(t){t(e).then((function(){return s(++a)})).catch((function(e){var r=e.message;r&&(e.message=(t&&t.name&&'Extension "'.concat(t.name).concat('": '))+" "+r+". "+(t&&!t.name&&t.toString&&t.toString())),i.push(e),s(++a)}))}))}))},g=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),Math.max(e,Math.min(r,t))},f=function(t){return t.mozHasAudio||t.webkitAudioDecodedByteCount||t.audioTracks&&t.audioTracks.length},v=function(t){return void 0===t&&(t=""),0===(""+t).length||/%|px/.test(""+t)?""+t:t+"px"},m=function(t){return void 0===t&&(t=""),""+t&&!/ms|s/.test(""+t)?t+"ms":""+t};function b(t,e){try{return t.top.location.href}catch(t){}try{var r=t.location.ancestorOrigins;if(r.length>0)return r[r.length-1]}catch(t){}try{if(e.referrer)return e.referrer}catch(t){}return null}function y(t,e){return t||(t=window),e||(e=t.document),b(t,e)||t.location.href}function A(t,e,r){void 0===r&&(r=null),r||(r=t);var i=document.documentElement,o=null,n=null,a=null,s=null;try{o=r.offsetHeight||r.innerHeight||window.innerHeight,n=r.innerWidth||window.innerWidth,s=(a=!isNaN(r.scrollTop)&&r.scrollTop||(window.pageYOffset||i.scrollTop)-(i.clientTop||0))+o}catch(t){u.error("getModuleDimensions() "+t+" ")}var l=e.getBoundingClientRect(),d=t.getBoundingClientRect&&t.getBoundingClientRect().top||0;return{viewportHeight:o,viewportWidth:n,viewportTop:a,viewportBottom:s,moduleTop:l.top+d}}function O(t,e){t&&Object(o.c)(t,{width:v(e.width),height:v(e.height)})}function w(t){if(!Object(o.p)(t))return{};var e=getComputedStyle(t),r=e.paddingTop,i=e.paddingRight,n=e.paddingBottom,a=e.paddingLeft,s=e.marginTop,l=e.marginRight,d=e.marginBottom,c=e.marginLeft,u=e.borderTopWidth,h=e.borderRightWidth,p=e.borderBottomWidth,g=e.borderLeftWidth,f=e.width,v=e.height,m=t.getBoundingClientRect(),b=m.width,y=m.height;f=parseFloat(f)||0,v=parseFloat(v)||0,u=parseFloat(u)||0,h=parseFloat(h)||0,p=parseFloat(p)||0,g=parseFloat(g)||0,r=parseFloat(r)||0,i=parseFloat(i)||0,n=parseFloat(n)||0,a=parseFloat(a)||0,s=parseFloat(s)||0,l=parseFloat(l)||0,d=parseFloat(d)||0,c=parseFloat(c)||0;var A=t.clientWidth,O=t.clientHeight,w=t.offsetHeight,_=t.offsetWidth,S=function(t){return t<0?0:t};return{paddingTop:r,paddingRight:i,paddingBottom:n,paddingLeft:a,marginTop:s,marginRight:l,marginBottom:d,marginLeft:c,top:r+S(s),right:i+S(l),bottom:n+S(d),left:a+S(c),clientWidth:A,clientHeight:O,width:b,height:y,offsetHeight:w,offsetWidth:_,insideWidth:_-a-i-g-h,insideHeight:w-r-n-u-p,outsideWidth:_?_+S(c)+S(l):Math.max(S(c),S(l)),outsideHeight:w?w+S(s)+S(d):Math.max(S(s),S(d)),borderTopWidth:u,borderRightWidth:h,borderBottomWidth:p,borderLeftWidth:g,widthFromStyle:f,heightFromStyle:v,rect:t.getBoundingClientRect()}}function _(t,e){var r=t.getBoundingClientRect(),i=r.bottom-r.top,o=[C(r)];o[0].element=t,j(window,(function(t){if(t){var e=C(t.getBoundingClientRect());e.win=t,o.push(e)}})),o.reverse();var n=o[0].win&&I(o[0].win),a=n&&n.clientWidth||null,s=n&&n.clientHeight||null,l=s?s+o[0].top:null,d=a?a+o[0].left:null;o.reduce((function(t,e){return e.bottom+=t.top,e.top+=t.top,e.right+=t.left,e.left+=t.left,e}));var c=Math.max.apply(null,o.map((function(t){return t.top}))),h=Math.max.apply(null,o.map((function(t){return t.left}))),p=Math.min.apply(null,o.map((function(t){return t.bottom})));null!==l&&(p=Math.min(p,l));var g=Math.min.apply(null,o.map((function(t){return t.right})));null!==d&&(g=Math.min(g,d));var f=c,v=h,m=p,b=g,y=(r.bottom-r.top)*(r.right-r.left),A=(m-f)*(b-v),O=A<=0?0:A/y,w=a*s;if(!A&&!i){var _=o.filter((function(t){return t.element})),S=o.filter((function(t){return!t.element}));_.length&&S.length&&S.some((function(t){return t.top<=_[0].top}))&&S.some((function(t){return t.bottom>=_[0].bottom}))&&(O=1)}u.none(".getVisibilityByRect() intersectionRatio="+O,1);var P={intersectionRatio:O,visibility:100*O^0,moduleSquare:y,screenSquare:w,relationSize:y/w*100^0,boundingClientRect:r};return u.none(".getVisibilityByRect() result="+JSON.stringify(P)),e&&e(P),P;function C(t){return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}}function S(t,e,r){u.none("._getVisibilityByIntersectionObserver");var i=l({},{continueWatch:!1,threshold:[]},{},r).threshold;W&&u.trace("._getVisibilityByIntersectionObserver threshold="+i.join(",")+" ");var o=new IntersectionObserver(function(t){t.forEach((function(t){var r=t.boundingClientRect,i=t.rootBounds,o=t.intersectionRatio,n=t.target,a=M(r.width)*M(r.height),s=i?i.width*i.height:null;if(null!==s){W&&u.trace(".onEntry() entry.intersectionRatio="+o+" target="+N(n)+" screenSquare="+s,1,"pink");var l={intersectionRatio:o,visibility:0^Math.round(100*o),moduleSquare:a,screenSquare:s,relationSize:s?a/s*100^0:null,boundingClientRect:r};e(l)}}))}.bind(this),{threshold:i.sort()});return o.observe(t),o}function P(t,e){var r=this;void 0===e&&(e=100);var i=new Promise((function(t){return setTimeout(t,e,null)})),o=new Promise((function(e){window.IntersectionObserver?S.call(r,t,e,{threshold:[0,1]}):_.call(null,t,e)}));return Promise.race([i,o]).then((function(t){return n.call(r,t)})).catch((function(t){var e=t&&(t.message||t);return u.error(".getVisibility() "+e),n.call(r)}));function n(e){return void 0===e&&(e=null),(e&&Promise.resolve(e)||window.IntersectionObserver&&(e=_.call(null,t))&&Promise.resolve(e)||Promise.resolve(null)).catch((function(t){var e=t&&(t.message||t);return u.error(".getVisibility() "+e),null}))}}function C(t,e,r){var i=l({},{threshold:[],continueWatch:!0,registerHandle:function(){throw Error("utils watchVisibility() registerHandle must be defined")}},{},e),o=i.threshold,n=i.registerHandle,a=i.continueWatch;if(W&&u.trace(".watchVisibility() window.IntersectionObserver="+window.IntersectionObserver+" threshold=["+o.join(",")+"] "),window.IntersectionObserver)return S.call(this,t,r,{continueWatch:a,threshold:o});var s=n(_.bind(null,t,r)),d=s.handler,c=s.event,h=s.scrollNode;return _.call(null,t,r),{disconnect:function(){W&&u.trace("watchVisibility():disconnect() event="+c+" element="+t,1,"pink"),h&&h.removeEventListener(c,d)}}}function j(t,e){for(var r=t,i=t;;){try{r=i.parent&&i.parent.document||i.parent&&i.parent.contentWindow?i.parent:i,r=i,i=i.parent}catch(t){return e&&e(null),I(i)}if(e&&e(D(i,r)),i===r)return I(r)}}function E(t){try{if(t.top&&I(t.top))return t.top}catch(t){return null}return null}function D(t,e){if(!t||!t.frames)return null;if(t===e)return I(t);var r=I(t).querySelectorAll("iframe"),i=[].filter.call(r,(function(t){return t.contentWindow===e}));return i.length?i[0]:null}function I(t){return t&&t.document&&t.document.documentElement||t&&t.contentWindow&&t.contentWindow.document.documentElement||t}var T=function(){var t=null,e=null;this.promise=new Promise((function(r,i){t=r,e=i})),this.resolve=t,this.reject=e};function V(t,e,r){var i=Error(e+" ("+(t&&t.message)+")");return r?i.code=r:t&&t.code&&(i.code=t.code),t&&t.name&&(i.name=t.name),i}var k=function(t){return!t||"object"==typeof t&&(Array.isArray(t)&&!t.length||!Object.keys(t).length)},R=function(t){return t&&(!0===t||"true"===t||"1"===t||1===t)||!1};function M(t,e,r){return void 0===e&&(e=.1),void 0===r&&(r=0),Math.abs(t)>=e?t:r}function x(t,e,r){return void 0===r&&(r=.1),Math.abs(t-e)>r}function N(t,e){void 0===e&&(e=["display","visibility"]);var r=t&&getComputedStyle(t)||{},i=e&&e.length&&Object.keys(r).filter((function(t){return e.includes(t)})).map((function(t){return t+"='"+r[t]+"'"})).join(" ")||"";return t&&t.tagName&&"("+t+")("+t.tagName+"."+(t.className&&t.className.split&&t.className.split(" ").join("."))+") "+i||"[not HTMLElement]"}function L(t,e){if("string"==typeof t){if(t.includes("%")){var r=t.split("%")[0];return parseFloat(r)*parseFloat(e)*.01}return parseFloat(t)}return parseFloat(t)}function F(t,e,r){e&&e.trace("."+(r||"")+". restoreSavedAdParams() Restoring containers");var i=t||[];return i.forEach((function(t){if("function"==typeof t)t();else{var i=t||{},n=i.node,a=i.styles;n&&a&&(Object(o.c)(n,a||{}),e&&e.trace("."+(r||"")+" restoreSavedAdParams() node:"+N(n)+" was restores with styles:\n"+JSON.stringify(a,null,2)+")"))}})),i.length}var W=R(Object(n.b)("intersections.trace")),H=function(t){t&&"function"!=typeof(null==t?void 0:t._subscribe)&&"function"!=typeof(null==t?void 0:t._subscribeOnce)&&(t._subscribe=t.subscribe,t._subscribeOnce=t.subscribeOnce)}},function(t,e,r){"use strict";r.d(e,"b",(function(){return p}));var i,o=r(11),n=r(14);try{i=window.location.search;try{i=window.top.location.search}catch(t){}}catch(t){}var a,s,l=i?/[?&]vn_debug\b(?:=(\d+))?/.exec(i):null,d=l&&l[1];null==d||Object(o.a)(n.b)?(d=parseInt(Object(o.b)(n.c),10)||0)&&(s=" logger: vn_debug("+d+") was restored from localStorage"):(a=" logger: vn_debug="+(d=parseInt(d,10)||0)+" is using and saved to localStorage",Object(o.d)(n.c,d));var c;try{c=window.videonow=window.videonow||{}}catch(t){c={}}if(!c.logger){var u=function(t,e,r){void 0===r&&(r=!0);var i=new n.d({maxLevel:t,header:e}),o=(new Date).getTimezoneOffset()/60,a=o>0?"-":"+";return r&&i.write(n.a.LOG," Videonow logger started with log level "+t+" ("+function(t){return Object.keys(n.a).find((function(e){return n.a[e]==t}))}(t)+") v2.39.26 built "+new Date(1653054708916).toLocaleDateString()+" user timezone UTC"+a+Math.abs(o),"font-weight: bold"),i}(d);a&&u.warn(a,2,"color:#ff5722;font-size:1.5em;font-weight:bold"),s&&u.warn(s,2,"color:#ff5722; font-size:1.5em"),c.logger=u}var h=c.logger;e.a=h;var p=d},function(t,e,r){"use strict";r.d(e,"l",(function(){return h})),r.d(e,"e",(function(){return p})),r.d(e,"d",(function(){return g})),r.d(e,"h",(function(){return f})),r.d(e,"a",(function(){return v})),r.d(e,"j",(function(){return m})),r.d(e,"k",(function(){return b})),r.d(e,"i",(function(){return y})),r.d(e,"g",(function(){return O})),r.d(e,"f",(function(){return w})),r.d(e,"c",(function(){return _})),r.d(e,"b",(function(){return S}));var i,o=r(2),n=r(1),a=r(5);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c="parse",u=(null===o.a||void 0===o.a||null===(i=o.a.getChildWriter)||void 0===i?void 0:i.call(o.a,c))||o.a,h=["global","orderIndex","overwrite","important",a.a,a.b,a.e,a.c],p=function(t,e,r){var i=t&&e?t.querySelector(e):t,o=i&&i.textContent;return"string"==typeof o?o.trim():r},g=function(t,e,r){var i=p(t,e,r);try{return JSON.parse(i)}catch(t){return i}},f=function(t){void 0===t&&(t="");var e=t.includes("?")?t.split("?")[1]||"":t,r=e?e.split("&"):[];return r&&r.length&&r.reduce((function(t,e){var r=e.split("="),i=r[0]&&decodeURIComponent(r[0]),o=r[1]&&decodeURIComponent(r[1]);return(i||o)&&(t[i]=o&&o.replace(/\+/g," ")),t}),{})||{}},v=function(t,e){void 0===t&&(t=""),void 0===e&&(e={});var r=[];Object.keys(e).forEach((function(t){var i=e[t],o=[encodeURIComponent(t)];null!=i&&o.push(encodeURIComponent(i)),r.push(o.join("="))}));var i=t.indexOf("?")>-1?"&":"?";return r.length?t+i+r.join("&"):t},m=function(t){if(!t)return null;if(window.DOMParser){var e=(new window.DOMParser).parseFromString(t,"application/xml");return!e||e.querySelector("parsererror")?(u.warn("parse.parseXml() Parse error"),null):e}if(void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")){var r=new window.ActiveXObject("Microsoft.XMLDOM");return r.async="false",r.loadXML(t),r}return u.warn("parse.parseXml() XML Parser not available"),null},b=function(t,e){if(void 0===e&&(e={}),!t)return null;var r=l({optionName:"option",onlyTopLevel:!1},e),i=r.optionName,o=r.onlyTopLevel,s=t&&(g(t,"important")||t.getAttribute("important")),d=t.querySelector(i+"s"),c=d&&(g(d,"important")||d.getAttribute("important")),u=d&&d.getAttribute("overwrite"),h=t.querySelectorAll(i+"s > "+i);if(!h||!h.length)return null;if(o)return Array.from(h);var f=Array.from(h).reduce((function(t,e){var r,i=e.getAttribute("name"),o=e.getAttribute("important"),l=t[i]=((r={})[a.e]=p(e),r[a.c]=!0,r);return A(e,l),null!=o?l[a.a]=Object(n.u)(o):null!=c?l[a.a]=Object(n.u)(c):null!=s&&(l[a.a]=Object(n.u)(s)),t}),{});return u&&(f[a.b]=u),c?f[a.a]=Object(n.u)(c):s&&(f[a.a]=Object(n.u)(s)),f};"undefined"!=typeof exports&&(exports.parseXmlOptions=b);function y(t,e,r,i){var o=this,n=i||{},a=n.parentPrefix,s=n.multipleOptionName,d=function(t,e,r){void 0===r&&(r="");var i=r+'Extension[type="'+e+'"]',o=t&&t.querySelector(i),n=0;if(o){var a=t.querySelectorAll(r+"Extension"),s=t.querySelectorAll(i+" ~ Extension");n=a.length-s.length-1}return{xml:o,orderIndex:n}}(t,e,a||""),c=d.xml,u=d.orderIndex;if(c){var h=s&&b(c,{optionName:s,onlyTopLevel:!0});return h?A(c,h.reduce((function(t,e){return p.call(o,e,u,t)}),{})):p.call(this,c,u)}return null;function p(t,e,r){var i=g.call(this,t)||{};void 0!==e&&(i.orderIndex=e);var o=i.name;if(!o&&!r)return i;if(!o&&r)throw Error(" getToContainer() the name property does not found");return o&&!r&&(r={}),o&&o.length&&(r[o]=i),r}function g(t){var e=r.call(this,t);if(!e)return null;var i=A(t)||{};return l({},e,{orderIndex:u},i)}}function A(t,e){void 0===e&&(e={});var r=g(t,"global")||Object(n.u)(t.getAttribute("global"));r&&(e.global=r);var i=g(t,"important")||Object(n.u)(t.getAttribute("important"));i&&(e[a.a]=i);var o=g(t,"overwrite")||t.getAttribute("overwrite");null!=o&&(e[a.b]=o);var s=g(t,"remove")||Object(n.u)(t.getAttribute("remove"));return s&&(e[a.d]=s),e}var O=function(t){var e=/^\s*(?:(?:(\d\d):)?(\d\d):)?(\d\d)(?:[.,](\d+))?\s*$/.exec(t);return e?60*(+e[1]||0)*60+60*(+e[2]||0)+(+e[3]||0)+ +("0."+(e[4]||0)):1/0},w=function(t){var e=/^\s*([\d.]+)%\s*$/.exec(t);return e?(+e[1]||0)/100:null},_=function(t){var e=t&&t.querySelectorAll("Ad");if(!e||!e.length)return[];var r=t&&t.querySelectorAll("Extensions > Extension > Ad");return r&&r.length?(e=Array.from(e),r=Array.from(r),e.reduce((function(t,e){return r.includes(e)||t.push(e),t}),[])):Array.from(e)};function S(t){var e=t&&t.querySelector("InLine > Creatives > Creative > Linear > AdParameters");return e?p(e):null}},function(t,e,r){"use strict";e.a={GENERAL_WRAPPER_ERROR:300,TIMEOUT_OF_VAST_URI:301,NO_ADS_RESPONSE:303,GENERAL_LINEAR_ERROR:400,TIMEOUT_OF_MEDIA:402,MEDIA_FILE_NOT_FOUND:403,FAIL_MEDIA_DISPLAY:405,GENERAL_VPAID_ERROR:901,VPAID_JS_ERROR:1010,GLOBAL_TIMEOUT_HAPPENED:1011,VPAID_INIT_AD_TIMEOUT_HAPPENED:1012,START_AD_TIMEOUT_HAPPENED:1013,FORMAT_ERROR:1020,AD_SIZE_ERROR:1030,AD_IMPRESSION_NOT_HAPPENED_ERROR:1040,AD_STARTED_NOT_HAPPENED_ERROR:1041,AD_STAT_ERROR:1050,DEFAULT_AD_NEXT_WITHOUT_ERROR_CODE:1060,FAIL_MEDIA_START:3e3}},function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return a})),r.d(e,"e",(function(){return s})),r.d(e,"c",(function(){return l})),r.d(e,"d",(function(){return c})),r.d(e,"g",(function(){return h})),r.d(e,"h",(function(){return p})),r.d(e,"f",(function(){return g}));var i=r(0),o=r(1),n="__overwrite_type";"undefined"!=typeof exports&&(exports.OVERWRITE_FLAG=n);var a="__important";"undefined"!=typeof exports&&(exports.IMPORTANT_FLAG=a);var s="__value";"undefined"!=typeof exports&&(exports.VALUE_FLAG=s);var l="__primitive";"undefined"!=typeof exports&&(exports.PRIMITIVE_FLAG=l);var d=function(t){var e=(t||{})[n];return e&&e.toLowerCase&&"solid"===e.toLowerCase()},c="__remove";"undefined"!=typeof exports&&(exports.REMOVE_FLAG=c);var u=function(t){return t&&!0===t[a]},h=function t(e){if(void 0===e&&(e={}),e){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];a.forEach((function(r){void 0===r&&(r={});var a=!u(e)||u(r),s=d(r);s&&a?e=r:Array.isArray(e)&&Array.isArray(r)?e=Array.from(new Set(e.concat(r))):Object.keys(r).forEach((function(l){var c=r[l];if(void 0!==c&&c!==n)if(!c||"object"!=typeof c||Object(o.r)(c)||Object(i.p)(c))l!==n&&a&&(e[l]=c);else{var h=Object.prototype.hasOwnProperty.call(e,l)&&e[l]||(e[l]=Array.isArray(c)?[]:{}),p=typeof h;e[l]="string"===p||"number"===p||(!u(h)||u(c))&&(s||d(c))?c:t(h,c)}}))}))}return e};"undefined"!=typeof exports&&(exports.extend=h);var p=function t(e,r){return void 0===r&&(r={}),!e||Array.isArray(e)||"object"!=typeof e?e:!0===e[c]?null:!0===e[l]?e[s]:(Object.keys(e).forEach((function(n){var a=e[n],d=null!=a&&!0===a[l];if(a&&!0===a[c])delete r[n];else if(d&&null!=a[s])r[n]=a[s];else if(void 0!==a)if(!a||Array.isArray(a)||"object"!=typeof a||Object(o.r)(a)||Object(i.p)(a))r[n]=a;else{var u=Object.prototype.hasOwnProperty.call(r,n)&&r[n]||(r[n]={});t(a,u)}})),r&&r[l]?r[s]:r)};function g(t,e,r,i){if("global"===e)return t[e]=!0===r,t;var n=r.global,d=null!=n,u=Object(o.u)(n);if(i=d&&u||i,"remove"===e)t[c]=!0===r;else{if("object"==typeof r&&null!==r)return t[e]=Object.entries(r).reduce((function(t,e){return g(t,e[0],e[1],i)}),{}),t;var h;t[e]=((h={})[s]=r,h[l]=!0,h)}return i&&(t[e][a]=!0),t}"undefined"!=typeof exports&&(exports.finalize=p)},function(t,e,r){"use strict";function i(t){this.logger.trace(".setState("+t+")"),this.state=t}function o(t){return-1!==[].concat(t).indexOf(this.state)}function n(){return!o.call(this,["stopped","destroyed","destroying"])}function a(){return!o.call(this,["complete","completing","stopped","destroyed","destroying"])}r.d(e,"d",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return a}))},function(t,e,r){"use strict";r.d(e,"g",(function(){return f})),r.d(e,"a",(function(){return v})),r.d(e,"i",(function(){return m})),r.d(e,"c",(function(){return b})),r.d(e,"e",(function(){return y})),r.d(e,"h",(function(){return A})),r.d(e,"f",(function(){return O})),r.d(e,"d",(function(){return w})),r.d(e,"b",(function(){return S}));var i="undefined"!=typeof window&&window||{},o="undefined"!=typeof navigator&&navigator||{},n=o.userAgent,a=o.vendor,s=o.plugins,l=o.appVersion,d=i.opera,c=i.MSStream,u=(i.devicePixelRatio,i.VN&&i.VN.debug&&i.VN.debug.userAgent||n||a||d||""),h=/iPod/.test(u)&&!c,p=/iPhone/.test(u)&&!c,g=/iPad/.test(u)&&!c,f=h||p||g,v=/android/i.test(u),m=/safari/i.test(u)&&/apple/i.test(a),b=/chrome/i.test(u),y=/firefox|mozilla/i.test(u)&&(!a||!/google/i.test(a)),A=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(u)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(u.substr(0,4)),O=void 0===s||0===s.length?!("undefined"==typeof ActiveXObject||!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")):s["Shockwave Flash"],w=function(){if(!b)return!1;var t=l.match(/Chrome\/(\d+)\.(\d+)/i);return t&&t.length&&t.length>2?parseFloat(t[1]+"."+t[2]):84}(),_=function(){if(!f)return!1;if("string"!=typeof l)return!1;var t=l.match(/OS (\d+)_(\d+)_?(\d+)?/);return t&&t.length&&t.length>2?parseFloat(t[1]+"."+t[2]):11}(),S=!A||f&&_>10.2;i.document&&i.document.addEventListener("touchstart",(function(){!0})),i.document&&i.document.addEventListener("touchend",(function(){!1}))},function(t,e,r){"use strict";r.d(e,"e",(function(){return p})),r.d(e,"i",(function(){return g})),r.d(e,"h",(function(){return f})),r.d(e,"b",(function(){return v})),r.d(e,"o",(function(){return m})),r.d(e,"c",(function(){return b})),r.d(e,"m",(function(){return A})),r.d(e,"n",(function(){return O})),r.d(e,"l",(function(){return w})),r.d(e,"d",(function(){return _})),r.d(e,"a",(function(){return S})),r.d(e,"j",(function(){return P})),r.d(e,"k",(function(){return C})),r.d(e,"f",(function(){return j})),r.d(e,"g",(function(){return E}));var i,o=r(9),n=r(6),a=r(4),s=r(3),l=r(1),d=r(0),c=r(2),u=(null===c.a||void 0===c.a||null===(i=c.a.getChildWriter)||void 0===i?void 0:i.call(c.a,"ModuleStatistics"))||c.a;function h(t,e){var r=this.getControlUnionData("vnAdErrorsRules","include"),i=this.getControlUnionData("vnAdErrorsRules","exclude"),o=r&&Object.keys(r).map((function(t){return parseInt(t,10)})),n=i&&Object.keys(i).map((function(t){return parseInt(t,10)})),a=this.getControlUnionData("vnAdErrorsRules","availableUrlsPattern");if(this.logger.trace(".filterUrlWithVnAdErrorsRules() url="+t),t&&(this.logger.trace(".filterUrlWithVnAdErrorsRules() availableUrlsPattern="+a),!a||new RegExp(a).test(t)))if(o){if(o.indexOf(e)<0)return null}else if(n&&~n.indexOf(e))return null;return t}function p(t){var e=this,r=t.code,i=t.message,n=void 0===i?"":i,a=this.data.slice().reverse().find((function(t){var e;return Boolean(null==t||null===(e=t.parameters)||void 0===e?void 0:e.id)}))||this.data.slice(-1)[0]||{},l=a.dataXml,d=a.parameters,c=Object(s.c)(l),u=c&&c.length&&c[c.length-1].querySelectorAll("Error"),p=(u&&Array.from(u).map((function(t){var i=Object(s.e)(t);return h.call(e,i,r)})).filter(Boolean)||[]).map((function(t){return t.replace("[ERRORCODE]",encodeURIComponent(r)).replace("[MESSAGE]",encodeURIComponent(n))}));this.logger.trace(".pingCurrentAdError() error="+JSON.stringify(t)+" AdId="+((null==d?void 0:d.id)||null)+" urlsToPingCount="+(null==p?void 0:p.length));var g=(b.call(this,"vnCreative:select")||{}).uniqueId;Object(o.d)(p,(function(t){return e.replaceMacros.call(e,t,g)}))}function g(t,e){var r=this;if(_.call(this)){var i=t.code,l=t.message,d=void 0===l?"":l,c=t.format,u=t.errorUrls,p=function(t){var e=h.call(r,t,i);return e?Object(o.d)([e.replace("[ERRORCODE]",encodeURIComponent(i)).replace("[MESSAGE]",encodeURIComponent(d))],r.replaceMacros.bind(r)):Promise.resolve()},g=function(){return e&&n.b.call(r)&&r.trigger("AdError",d,i)};i===a.a.FORMAT_ERROR&&c&&(this._trackedErrorsFormats[c]||(this._trackedErrorsFormats[c]=!0,g()));var f=function(t,e){var r=(t||{}).dataXml,i=Object(s.c)(r),o=i&&i.length&&i[0].querySelectorAll(e);o&&Array.from(o).forEach((function(t){return p(Object(s.e)(t))}))};u&&u.length&&u.forEach(p),this.data.forEach((function(t){f(t,"InLine>Error"),f(t,"Wrapper>Error")})),g()}}function f(t){var e=this;if(!_.call(this))return Promise.resolve();this.logger.track(".track("+t+")");var r=S.call(this)&&g.bind(this);return Promise.all(this.data.reduce((function(i,n){var a=n.dataXml;return i.concat(Object(o.e)(a,t,e.replaceMacros.bind(e),r))}),[]))}function v(t){var e=this;return Promise.all(this.data.reduce((function(r,i){var o,n=i.parameters;return(null==n||null===(o=n.Trackings)||void 0===o?void 0:o[t])&&r.concat(n.Trackings[t].map((function(t){return e.replaceMacros.call(e,t,n.uniqueId)})))||r}),[]))}function m(t){var e=this;if(!_.call(this))return Promise.resolve();this.logger.track(".trackUrls("+t+")");var r=S.call(this)&&g.bind(this);return Promise.all(this.data.reduce((function(i,n){var a=n.parameters,s=a.Trackings,l=a.uniqueId;return s&&s[t]&&i.concat(Object(o.d)(s[t],(function(t){return e.replaceMacros.call(e,t,l)}),r))||i}),[]))}function b(t){return _.call(this)?(this.logger.none(".getLastExistsTrackUrls("+t+")"),this.data.reduceRight((function(e,r){var i=r.parameters||{},o=i.Trackings,n=i.uniqueId,a=o&&o[t];return e&&e.urls||!a?e:{urls:a,uniqueId:n}}),{})||null):null}function y(t,e,r){var i=this;if(void 0===e&&(e=null),void 0===r&&(r=!0),!_.call(this))return Promise.resolve();this.logger.track(".trackStrongUrls ("+(t&&t.length)+")");var n=S.call(this)&&g.bind(this);return Promise.all(Object(o.d)(t,r&&function(t){return i.replaceMacros.call(i,t,e)},n))}function A(t,e){return void 0===e&&(e=null),y.call(this,t,e,!0)}function O(t,e){return void 0===e&&(e=null),y.call(this,t,e,!1)}function w(){var t=this,e=this.getAdDuration(),r=this.getAdRemainingTime(),i=(e-r)/e,n=this.progressValue;this.progressTrackingEvents.forEach((function(r){var a=r.offset,s=void 0!==r.timeValue?r.timeValue/e:r.percentValue;void 0!==s&&i>=s&&(void 0===n||n<s)&&(t.logger.track(".trackProgress("+a+")"),r&&Object(o.c)(r.url))})),this.progressValue=i}function _(){return!this.getControlUnionData("vnShowViqeo")}function S(){var t=(this.options||{}).checkTrackingResponse;return Object(l.u)(t)}function P(t){var e=this;if(!_.call(this))return Promise.resolve(!1);this._trackPassed=!0;var r=t||this._getLastParameters()||{},i=r.Trackings,o=r.uniqueId,n=i&&i["vnCreative:passed"];return n?(n.forEach((function(t){return e.logger.trace(" trackPassed() url="+t)})),A.call(this,n,o)):Promise.resolve(!1)}function C(){var t=this;if(!_.call(this))return Promise.resolve(!1);this._track2Passed=!0;var e=[],r=function(r){var i=t._getLastData(r);if(!i)return"break";var o=i.parameters;if(!o)return"continue";var n=o||{},a=n.Trackings,s=n.uniqueId,l=a&&a["vnCreative:passed2"];l&&(l.forEach((function(e){return t.logger.trace(" trackPassed2() url="+e+" uniqueId="+s)})),e.push(A.call(t,l,s)))};t:for(var i=0;;i++){switch(r(i)){case"break":break t;case"continue":continue}}return Promise.all(e)}function j(t,e,r){var i,n,a;if(this.logger.track(" vnCreative:debug post("+e+")"),e){var s=this.getControlUnionData("vnMacros"),l=s&&s["[ASSETADPARAMS]"]||this.getControlUnionData("vnMacros","[ASSETADPARAMS]"),c=s&&s["[ASSETURI]"]||this.getControlUnionData("vnMacros","[ASSETURI]"),h=this._getLastDataXml(),p=this.format&&this.format.getModuleNode&&this.format.getModuleNode(),g=Object(d.p)(p)&&p.outerHTML||"",f=this.getControlNode("iframe"),v=(null==f||null===(i=f.contentWindow)||void 0===i||null===(n=i.document)||void 0===n||null===(a=n.body)||void 0===a?void 0:a.outerHTML)||"",m=this.getControlNode("container"),b=m&&Array.from(m.querySelectorAll("iframe")).map((function(t){try{return t.contentWindow.document.body.outerHTML}catch(t){return null}}));this.replaceMacros(e,r).then((function(e){return Object(o.f)(e,{method:"POST",requestHeaders:{"Content-Type":"application/json"},body:JSON.stringify({id:t,log:u.archive.join("\n"),logs:null==u?void 0:u.logs,vast:h&&(h.innerHTML||h.documentElement.innerHTML),params:l,media:c,node:g,iframe:v,iframes:b&&b.length?b.filter((function(t){return!!t})):[]})})}))}}function E(){var t=b.call(this,"vnCreative:impression")||{},e=t.urls,r=t.uniqueId,i=(e||[])[0];if(this.logger.track(" vnCreative:impression post("+i+")"),i){var n=this.getControlUnionData("vnMacros"),a=n&&n["[ASSETADPARAMS]"]||this.getControlUnionData("vnMacros","[ASSETADPARAMS]"),l=n&&n["[ASSETURI]"]||this.getControlUnionData("vnMacros","[ASSETURI]"),d=n&&n["[ASSETDURATION]"]||this.getControlUnionData("vnMacros","[ASSETDURATION]"),c=this._getLastDataXml(),u=c&&Object(s.d)(c,"VideoClicks > ClickThrough","");this.replaceMacros(i,r).then((function(t){return Object(o.f)(t,{method:"POST",requestHeaders:{"Content-Type":"application/json"},body:JSON.stringify({params:a,duration:d,media:l,clickthrough:u})})}))}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return u})),r.d(e,"f",(function(){return h})),r.d(e,"c",(function(){return p})),r.d(e,"e",(function(){return g})),r.d(e,"d",(function(){return f}));var i,o=r(5),n=r(3),a=r(7),s=r(2),l="requests",d=(null===s.a||void 0===s.a||null===(i=s.a.getChildWriter)||void 0===i?void 0:i.call(s.a,l))||s.a,c=function(t,e){return void 0===e&&(e=window.document),new Promise((function(r,i){if(!t)throw new Error("requests.loadScript("+t+", "+e+") Invalid url");var o=e.getElementsByTagName("head")[0],n=e.createElement("script");n.src=t,n.type="text/javascript",n.addEventListener("load",r),n.addEventListener("error",i),o.appendChild(n)}))},u=function(t,e){if(void 0===e&&(e=!1),t)if(a.g||e){var r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("target","_blank");var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0),r.dispatchEvent(i)}else d.trace("requests.openUrl() window.open("+t+")"),window.open(t,"_blank");else d.warn("requests.openUrl("+t+") invalid url")},h=function(t,e){return void 0===e&&(e={}),new Promise((function(r,i){if(!t)throw new Error("Invalid url ("+t+")");var n=e,a=n.overrideMimeType,s=n.options,l=n.body,d=n.timeout,c=void 0===d?5e3:d,u=n.requestHeaders,h=void 0===u?{}:u,p=n.method,g=void 0===p?"GET":p,f=n.withCredentials,v=void 0===f||f,m=new XMLHttpRequest;m.addEventListener("load",r),m.addEventListener("error",i),m.addEventListener("timeout",i),m.withCredentials=v,a&&m.overrideMimeType(a),s&&Object(o.g)(m,s),m.open(g,t,!0),m.timeout=c,h&&Object.getOwnPropertyNames(h).forEach((function(t){m.setRequestHeader(t,h[t])})),m.send(l)}))},p=function(t){return new Promise((function(e){var r=t.startsWith("data:")?"":(~t.indexOf("?")?"#":"?vn=")+Math.random().toString(10).substring(2,5),i=document.createElement("img");i.onload=e,i.onerror=function(){e()},i.src=""+t+r}))},g=function(t,e,r,i){void 0===r&&(r=function(t){return Promise.resolve(t)});var o=e?t.querySelectorAll(e):[t];return Array.from(o).map((function(t){return r(Object(n.e)(t)).then((function(t){return p(t,i)}))}))},f=function(t,e,r){return t&&t.map((function(t){return(e||function(t){return Promise.resolve(t)})(t).then((function(t){return p(t,r)}))}))}},function(t,e,r){"use strict";r.d(e,"a",(function(){return u})),r.d(e,"c",(function(){return p})),r.d(e,"e",(function(){return g})),r.d(e,"b",(function(){return f})),r.d(e,"d",(function(){return v})),r.d(e,"f",(function(){return y}));var i=r(15),o=r(3),n=r(2),a=r(1);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c="Vpaid",u=function(t){var e,r;function i(e){var r;void 0===e&&(e={});var i=e&&e.ancestor&&""+e.ancestor||"Module::Vpaid",o=e&&(e.logger||e.moduleAPI&&e.moduleAPI.logger)||n.a;return o.trace(i+".constructor() options.ancestor="+i),(r=t.call(this,l({},e,{ancestor:i,logger:o}))||this).Vpaid=i,r.options=e,r.logger=o,r.adLinear=!0,r.adWidth=0,r.adHeight=0,r.adExpanded=!1,r.adSkippableState=!0,r.adRemainingTime=0,r.adDuration=0,r.adVolume=0,r.adCompanions="",r.adIcons=!1,r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.getAdLinear=function(){return this.adLinear},o.getAdWidth=function(){return this.adWidth},o.getAdHeight=function(){return this.adHeight},o.getAdAspectRatio=function(){var t=this.getAdWidth(),e=this.getAdHeight();return isNaN(t)||isNaN(e)||0===t?9/16:e/t},o.getAdExpanded=function(){return this.adExpanded},o.getAdSkippableState=function(){return this.adSkippableState},o.getAdRemainingTime=function(){return this.adRemainingTime},o.getAdDuration=function(){return this.adDuration},o.getAdElapsedTime=function(){var t=this.getAdDuration(),e=this.getAdRemainingTime();return t===1/0||e===1/0?0:t-e},o.getAdVolume=function(){return this.adVolume},o.getAdCompanions=function(){return this.adCompanions},o.getAdIcons=function(){return this.adIcons},o.handshakeVersion=function(t){return"2.0"},o.initAd=function(t,e,r,i,o,n){return void 0===o&&(o={}),void 0===n&&(n={}),this.adLinear=!0,this.adWidth=t,this.adHeight=e,this.adExpanded=!1,this.adSkippableState=!0,this.adRemainingTime=0,this.adDuration=0,this.adVolume=this.adVolume||0,this.adCompanions="",this.adIcons=!1,this.viewMode=r,this.desiredBitrate=i,this.creativeData=o,this.environmentVars=n,this.useExistsVideoSlot=n.useExistsVideoSlot,this.options=l({},this.options,{},n.options),Promise.resolve()},o.resizeAd=function(t,e,r){void 0===r&&(r=this.viewMode),this.adWidth=t,this.adHeight=e,this.viewMode=r,this.trigger("AdSizeChange")},o.startAd=function(){this.trigger("AdStarted")},o.stopAd=function(){this.trigger("AdStopped")},o.pauseAd=function(){this.trigger("AdPaused")},o.resumeAd=function(){this.trigger("AdResumed"),this.trigger("AdPlaying")},o.expandAd=function(){this.setAdExpanded(!0)},o.collapseAd=function(){this.setAdExpanded(!1)},o.skipAd=function(){this.trigger("AdSkipped")},o.setAdExpanded=function(t){this.adExpanded!==t&&(this.adExpanded=t,this.trigger("AdExpandedChange"))},o.setAdSkippableState=function(t){return this.adSkippableState!==t&&(this.logger.trace("."+this.Vpaid+" setAdSkippableState("+t+") prev="+this.adSkippableState),this.adSkippableState=t,this.trigger("AdSkippableStateChange"),!0)},o.setAdVolume=function(t,e){var r=this;return void 0===e&&(e={}),this.adVolume!==t?(this.adVolume=t,setTimeout((function(){return r.trigger("AdVolumeChange")}),1),t):(e.forceTrigger&&this.trigger("AdVolumeChange"),null)},o._destroy=function(){this.logger.trace(this.Vpaid+"._destroy()"),t.prototype._destroy.call(this),this.trigger("AdDestroyed"),this.creativeData=null,this.environmentVars=null,this.options=null},i.create=function(){throw new Error("Abstract method call Vpaid.create()")},o.getMediaInfo=function(){return Promise.resolve(this.media||{})},o.getDebugInfo=function(){return Promise.resolve({options:this.options})},o.getAdIframes=function(){return Promise.resolve(null)},o.toString=function(){return c},i}(i.a),h="InLine > Creatives > Creative > Linear > MediaFiles",p=function(t,e,r){void 0===r&&(r=!1);var i=t&&t.querySelectorAll(h+' > MediaFile[type="'+e+'"]');if(!i||!i.length)return null;var n=Array.from(r?i:[i[0]]).map((function(t){return{src:Object(o.e)(t),width:Number(t.getAttribute("width"))||0,height:Number(t.getAttribute("height"))||0,bitrate:Number(t.getAttribute("bitrate"))||0,scalable:void 0===t.getAttribute("scalable")||Object(a.u)(t.getAttribute("scalable")),maintainAspectRatio:null!==t.getAttribute("maintainAspectRatio")?"true"===t.getAttribute("maintainAspectRatio"):t.getAttribute("maintainAspectRatio"),delivery:t.getAttribute("delivery"),type:e}}));return r?n:n[0]},g=function(t){var e=t&&t.querySelectorAll(h+" > MediaFile");return!e||!e.length},f=function(t){return t&&Object(o.e)(t,"InLine>Creatives>Creative>Linear>Duration")},v=function(t){return t&&["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd"].every((function(e){return"function"==typeof t[e]}))},m="video",b=[m,"audio","hybrid"],y=function(t){var e=t.getAttribute("adType");return b.includes(e)?e:m}},function(t,e,r){"use strict";r.d(e,"b",(function(){return c})),r.d(e,"d",(function(){return u})),r.d(e,"a",(function(){return h})),r.d(e,"c",(function(){return p}));var i,o,n,a,s="videonow-config";try{i=localStorage,o=sessionStorage}catch(t){o=i={getItem:function(){return""},setItem:function(){return""}}}try{n=top.localStorage,a=top.sessionStorage}catch(t){a=n=null}var l=(n?[n]:[]).concat(i),d=(a?[a]:[]).concat(o);function c(t,e){var r;return void 0===e&&(e=l),[].concat(e).some((function(t){try{var e=t.getItem(s);return r=JSON.parse(e)}catch(t){r=null}})),(r||{})[t]}function u(t,e,r){var i,o;void 0===r&&(r=l),(r=[].concat(r)).some((function(t){try{var e=t.getItem(s);if(e)return o=t,i=JSON.parse(e)}catch(t){i=null}})),i||(i={}),(!(i[t]=""+e)||!i[t].length)&&delete i[t],(o||r[0]).setItem(s,JSON.stringify(i))}var h=function(t){return c(t,d)},p=function(t,e){return u(t,e,d)}},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var i=r(15),o=r(2),n=r(0);var a=function(t){var e,r;function i(e,r,i){var n,a;void 0===i&&(i=!1);var s="::Control["+e+"] ",l=r&&r.getAPI&&r.getAPI().logger||o.a,d=(null==l||null===(n=l.getChildWriter)||void 0===n?void 0:n.call(l,s))||l;d.trace(".constructor()"),(a=t.call(this,{ancestor:s,logger:d})||this).name=e,a.module=r,a.moduleId=s;var c=r.getControlUnionData(e);if(null===c)throw a.logger.warn(s+" Disabled"),new Error(s+" disabled");if(i&&void 0===c)throw new Error(s+" is not available");return r._addDestroyableObject(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(a)),a}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=i.prototype;return a._destroy=function(){var e=this.moduleId,r=this.node;this.logger.trace(":"+e+".destroy()"),t.prototype._destroy.call(this),r&&Object(n.t)(r)},a.getName=function(){return this.name},i}(i.a)},function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return n})),r.d(e,"d",(function(){return a})),r.d(e,"c",(function(){return s}));var i=r(1);function o(){return Object(i.i)(this.getControlNode("wrapper"))}function n(t){var e=this._savedAdParams;return e&&e[t]}function a(t,e){return this._savedAdParams||(this._savedAdParams={}),this._savedAdParams[t]=e,e}function s(){return!this._videoSlotRemoved&&this.getControlNode("videoSlot")}},function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"c",(function(){return u})),r.d(e,"b",(function(){return h})),r.d(e,"d",(function(){return y}));var i,o=r(11);function n(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s="background: #f2f2f2; color: #564545",l="background: #f6f1cd; color: #414042",d="L"+Math.random().toString(36).substring(2,4),c={NONE:0,ERROR:1,WARN:2,LOG:3,TRACK:4,TRACE:5},u="logLevel",h="loglevel-changed",p=0,g=1,f=2,v="color:{{color}}",m=((i={})[p]="",i[g]=v,i[f]=v+";font-weight:bold",i);function b(t,e,r){void 0===e&&(e="black");var i=m[t]||"";return r&&(~r.indexOf(":")?i+=";"+r:(e=r,~i.indexOf(v)||(i+=v))),i&&i.replace("{{color}}",e)||""}var y=function(){function t(e){var r=this,i=e.maxLevel,n=void 0===i?0:i,v=e.header,m=void 0===v?d:v,y=e.archive,A=void 0===y?[]:y,O=e.logs,w=void 0===O?[]:O,_=e.rootLogger,S=void 0===_?null:_;a(this,"write",(function(t,e,i){var o=new Date,n="%c["+o.toLocaleTimeString("ru")+"."+o.getMilliseconds()+"]%c"+r._header+"%c"+e;r.archive.push(n),r.logs.push({date:o.toISOString(),level:t,header:r._header,message:e,css:i}),t<=r._maxLevel&&(console.info(n,s,l,""+i),t===c.ERROR&&console.error("Stack trace"))})),a(this,"writeArchive",(function(){console.groupCollapsed(r._header+" Logger messages hidden by previous logLevel:"),r.archive.forEach((function(t,e){return console.info(t,s,l,""+r.logs[e].css)})),console.groupEnd()})),a(this,"getChildWriter",(function(e){var i=new t({maxLevel:r._maxLevel,header:r._header+">"+e,archive:r.archive,logs:r.logs,rootLogger:r.rootLogger||r});return r.children.push(i),i})),a(this,"none",(function(){})),a(this,"error",(function(t,e,i){return void 0===e&&(e=f),r.write(c.ERROR,t,b(e,"red",i))})),a(this,"warn",(function(t,e,i){return void 0===e&&(e=g),r.write(c.WARN,t,b(e,"red",i))})),a(this,"log",(function(t,e,i){return void 0===e&&(e=p),r.write(c.LOG,t,b(e,e===g?"green":"#333",i))})),a(this,"track",(function(t,e,i){return void 0===e&&(e=g),r.write(c.TRACK,t,b(e,"darkblue",i))})),a(this,"trace",(function(t,e,i){return void 0===e&&(e=g),r.write(c.TRACE,t,b(e,e>g?"#aaa":"lightgray",i))})),a(this,"getLevel",(function(){return r._maxLevel})),a(this,"setLevel",(function(t){r.isRootLogger&&(r.write(c.TRACE,"Log level set to "+t),Object(o.d)(u,t),Object(o.c)(h,!0),t>r._maxLevel&&r.writeArchive()),r.children.forEach((function(e){e.setLevel(t)})),r._maxLevel=t})),this.rootLogger=S,this._header=m,this._maxLevel=n,this.archive=A,this.logs=w,this.children=[]}var e,r,i;return e=t,(r=[{key:"isRootLogger",get:function(){return null===this.rootLogger}}])&&n(e.prototype,r),i&&n(e,i),t}()},function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var i=r(22),o=r(0),n=r(11),a=r(2),s=r(1);var l="Managed",d=function(t){var e,r;function i(e){var r;void 0===e&&(e={});var i=Object(s.u)(Object(n.b)("managed.trace")),o=e&&e.ancestor&&""+e.ancestor||l,d=e&&(e.logger||e.moduleAPI&&e.moduleAPI.logger)||a.a;return i&&d.trace(o+".constrictor()"),(r=t.call(this)||this).logger=d,r.Managed=o,r.traceLogEnabled=i,r._vpaidEventListeners=[],r._domEventListeners=[],r._patchedMethods=[],r._domNodes=[],r._timeouts=[],r._destroyableObjects=[],r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var d=i.prototype;return d._addDOMNode=function(t,e){return void 0===e&&(e=0),this._domNodes.push({node:t,removeDelay:e}),t},d._removeDOMNode=function(t){Object(o.t)(t),this._domNodes=this._domNodes.filter((function(e){return e!==t}))},d._addDOMEventListener=function(t,e,r,i){return this.traceLogEnabled&&this.logger.trace(this.Managed+".addDOMEventListener("+e+")"),this._domEventListeners.push({node:t,name:e,listener:r}),t.addEventListener(e,r,i),r},d._removeDOMEventListener=function(t,e,r){this.traceLogEnabled&&this.logger.trace(this.Managed+".removeDOMEventListener("+e+")"),this._domEventListeners=this._domEventListeners.filter((function(i){return i.node!==t||i.name!==e||i.listener!==r||(t.removeEventListener(e,r),!1)}))},d._addVPAIDEventListener=function(t,e,r){return Object(s.v)(t),this.traceLogEnabled&&this.logger.trace(this.Managed+".addVPAIDEventListener("+e+")"),this._vpaidEventListeners.push({vpaid:t,name:e,listener:r}),t._subscribe(r,e),r},d._removeVPAIDEventListener=function(t,e,r){this.traceLogEnabled&&this.logger.trace(this.Managed+".removeVPAIDEventListener("+e+")"),this._vpaidEventListeners=this._vpaidEventListeners.filter((function(i){return i.vpaid!==t||i.name!==e||i.listener!==r||(t.unsubscribe(r,e),!1)}))},d._patchMethod=function(t,e,r){this.traceLogEnabled&&this.logger.trace(this.Managed+".patchMethod("+e+")");var i=t[e];return r._originalHandler=i,t[e]=r,this._patchedMethods.push({object:t,method:e}),i.bind(t)},d._restoreMethod=function(t,e){this.traceLogEnabled&&this.logger.trace(this.Managed+".restoreMethod("+e+")"),this._patchedMethods=this._patchedMethods.filter((function(r){return r.object!==t||r.method!==e||(t[e]=t[e]._originalHandler,!1)}))},d._removeEventListeners=function(){var t=this;this.traceLogEnabled&&this.logger.trace(this.Managed+"._removeEventListeners");var e=this._vpaidEventListeners,r=this._domEventListeners;e.length&&(this.traceLogEnabled&&this.logger.trace(this.Managed+".destroy() Removing VPAID event listeners ("+e.length+")"),e.forEach((function(e){var r=e.vpaid,i=e.name,o=e.listener;t._removeVPAIDEventListener(r,i,o)}))),r.length&&(this.traceLogEnabled&&this.logger.trace(this.Managed+".destroy() Removing DOM event listeners ("+r.length+")"),r.forEach((function(e){var r=e.node,i=e.name,o=e.listener;t._removeDOMEventListener(r,i,o)})))},d._destroy=function(){var t=this;this.traceLogEnabled&&this.logger.trace(this.Managed+"._destroy()");var e=this._patchedMethods,r=this._domNodes,i=this._timeouts,n=this._destroyableObjects;if(this._removeEventListeners(),e.length&&(this.traceLogEnabled&&this.logger.trace(this.Managed+".destroy() Restoring patched methods ("+e.length+")"),e.forEach((function(e){var r=e.object,i=e.method;t._restoreMethod(r,i)}))),r.length&&(this.traceLogEnabled&&this.logger.trace(this.Managed+".destroy() Removing DOM elements ("+r.length+")"),r.forEach((function(e){var r=e||{},i=r.node,n=r.removeDelay;n>0?(t.traceLogEnabled&&t.logger.trace(t.Managed+".destroy() Removing DOM element {"+i+") after "+n+" ms"),setTimeout((function(){t.traceLogEnabled&&t.logger.trace(t.Managed+".destroy() timeout "+n+" ms is finished. Removing DOM element {"+i+")"),Object(o.t)(i)}),n)):Object(o.t)(i)}))),i.length&&(this.traceLogEnabled&&this.logger.trace(this.Managed+".destroy() Removing timeouts ("+i.length+")"),i.forEach((function(e){t._removeTimeout(e.name)}))),n.length){var a=this._delayRemovingControls;this.traceLogEnabled&&this.logger.trace(this.Managed+".destroy() Removing destroyableObjects ("+n.length+")"),n.forEach((function(e){var r=e.getName&&e.getName(),i=(r&&a&&a[r]||{}).delay;i&&i>0?(t.traceLogEnabled&&t.logger.trace(t.Managed+".destroy() Removing destroyableObject ("+r+") with delay "+i+" ms"),setTimeout((function(){t._removeDestroyableObject(e),t.traceLogEnabled&&t.logger.trace(t.Managed+".destroy() Removed destroyableObject ("+r+") after delay "+i+" ms")}),i)):t._removeDestroyableObject(e)}))}},d._addTimeout=function(t,e,r){this.logger.none(this.Managed+".addTimeout("+t+")"),this._removeTimeout(t);var i=setTimeout(e,r);return this._timeouts.push({name:t,timeoutId:i}),e},d._removeTimeout=function(t){this.logger.none(this.Managed+".removeTimeout("+t+")"),this._timeouts=this._timeouts.filter((function(e){return e.name!==t||(clearTimeout(e.timeoutId),!1)}))},d._addDestroyableObject=function(t){this.logger.none(this.Managed+"._addDestroyableObject("+t+")"),t&&t._destroy&&this._destroyableObjects.push(t)},d._removeDestroyableObject=function(t){this._destroyableObjects=this._destroyableObjects.filter((function(e){var r=e===t;return r&&e&&e._destroy&&e._destroy(),!r}))},i}(i.a)},function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"c",(function(){return n})),r.d(e,"e",(function(){return a})),r.d(e,"d",(function(){return s}));var i="ModuleGlobalRemainingTimeChangeTimeId",o=500,n="ModuleStartAdTimerId",a="vpaidInitAdTimeoutId",s="AdStoppedWaitAdVideoCompleteTimerId"},function(t,e,r){"use strict";var i=r(1),o=r(0),n=r(4),a=r(9),s=r(16);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t){var e=this,r=null,n=t.starterUrl,s=(this.options||{}).viqeoStarterUrl;function c(){var e=this;r&&window.removeEventListener("onViqeoLoad",r);try{var n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t);n.parent=Object(o.p)(n.parent)&&n.parent.tagName+"."+n.parent.className||"",this.logger.log(".showViqeo() -> VIQEO.createPlayer("+JSON.stringify(n,null,"\t")+")\n viqeoOptions.parent="+Object(i.f)(t.parent))}catch(t){this.logger.error(".appendViqeo can not show VIQEO start parameters: "+t)}window.VIQEO.createPlayer(t,t.parent).catch((function(t){e.logger.error("showViqeo "+t)}))}Object(a.a)(n||s).then((function(){window.VIQEO?c.call(e):(window.onViqeoLoad=c.bind(e),window.addEventListener("onViqeoLoad",r=c.bind(e)))}))}var u=r(6),h=r(8),p=r(13);function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v(t,e){Object(i.v)(e),e._subscribe(m.bind(t),"AdLoaded"),e._subscribe(b.bind(t),"AdStarted"),e._subscribe(y.bind(t),"AdStopped"),e._subscribe(A.bind(t),"AdSkipped"),e._subscribe(O.bind(t),"AdSkippableStateChange"),e._subscribe(w.bind(t),"AdSizeChange"),e._subscribe(P.bind(t),"AdLinearChange"),e._subscribe(C.bind(t),"AdDurationChange"),e._subscribe(j.bind(t),"AdExpandedChange"),e._subscribe(E.bind(t),"AdRemainingTimeChange"),e._subscribe(D.bind(t),"AdVolumeChange"),e._subscribe(I.bind(t),"AdImpression"),e._subscribe(T.bind(t),"AdAudioImpression"),e._subscribe(V.bind(t),"AdVideoStart"),e._subscribe(k.bind(t),"AdVideoFirstQuartile"),e._subscribe(R.bind(t),"AdVideoMidpoint"),e._subscribe(M.bind(t),"AdVideoThirdQuartile"),e._subscribe(N.bind(t),"AdVideoComplete"),e._subscribe(x.bind(t),"AdVideoCompleteTrackOnly"),e._subscribe(L.bind(t),"AdClickThru"),e._subscribe(F.bind(t),"AdInteraction"),e._subscribe(W.bind(t),"AdUserAcceptInvitation"),e._subscribe(H.bind(t),"AdUserMinimize"),e._subscribe(z.bind(t),"AdUserClose"),e._subscribe(B.bind(t),"AdPaused"),e._subscribe(U.bind(t),"AdPlaying"),e._subscribe(q.bind(t),"AdLog"),e._subscribe(G.bind(t),"AdError"),e._subscribe(X.bind(t),"AdAudioOnlyStart"),e._subscribe(J.bind(t),"AdReadyToShow"),e._subscribe(_.bind(t),"AdSizeForceChange"),e._subscribe(S.bind(t),"vn_VideoSlotRemoved")}function m(){var t=this;if(this.globalTimeoutProvider&&this.globalTimeoutProvider.pause(),!u.c.call(this,["destroying","destroyed"])){u.d.call(this,"loaded"),this._adHasBeenLoaded=!0,this._adVideoFirstQuartileWasHappened=!1,this._adVideoMidpointWasHappened=!1,this._adVideoThirdQuartileWasHappened=!1,this._vpaidStartAdWasInvoked=!1;var e=this.lastPendingCommands.resizeAd;e&&(e(),this.logger.log(" @onAdLoaded execute last resizeAd pending command: "+e),delete this.lastPendingCommands.resizeAd),this.logger.log(" @AdLoaded adVolume="+this.adVolume,2),$.call(this,"AdLoaded");var r=this.getControlUnionData("videobackground","css");if(!Object(i.r)(r)){var n=p.c.call(this);n&&Object(o.c)(n,r)}var a=this.options,s=this.format,l=(a||{}).viqeoParentSlotClassName,d=this.vnShowViqeo=this.getControlUnionData("vnShowViqeo");if(!d||l&&document.getElementsByClassName(l).length)this.startAdShouldBeInvoked&&(this.startAdShouldBeInvoked=!1,this.startAd());else{var h=this.getControlNode("slot"),v="instream"===(s&&s.toString().slice(7,-1)).toLowerCase(),m=v?h.insertAdjacentElement("afterbegin",document.createElement("div")):Object(o.o)(h&&h.parentElement||h,"div",{});m.className=l+" vn-module__"+this.mainModuleId,Object(o.c)(m,{position:"relative",textAlign:"center"}),v&&Object(o.c)(m,{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1});var b=this.data.map((function(t){return t.parameters})),y={},A="vn_module_"+this.mainModuleId,O=JSON.stringify(b);try{sessionStorage.setItem(A,O),y.key=A}catch(t){}if(y.parameters=b,y.disableExtensions=["vnShowViqeo"],c.call(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},d.options,{parent:m},{vnData:JSON.stringify(y)})),this.state="destroyed",this._useExistsVideoSlot)this._restoreVideoSlotParams();else{var w=p.c.call(this);w&&Object(o.c)(w,{display:"none"})}var _=this.destroyControls();_&&_.length&&_.forEach((function(e){t.getControlNode(e)&&t.setControlData(e,{node:null})})),this.environmentVars.slot||h&&Object(o.c)(h,{display:"none"}),this._destroyIframe(),setTimeout((function(){t.logger.log(".onAdLoaded() viqeo was created. send @AdStarted"),t.trigger("AdStarted")}),1)}}}function b(){if(this.logger.log(" @AdStarted state="+this.state,2),this.globalTimeoutProvider&&this.globalTimeoutProvider.stop(),this._lastExternalSEQ&&!u.c.call(this,"starting")){var t=" @AdStarted inappropriate state="+this.state+". Should be 'starting'";this.logger.log(t,2),h.i.call(this,{code:1042,message:t})}if(!u.c.call(this,["stopping","stopped","destroying","destroyed"])){if(this._adStarted=!0,this.trigger("AdStarted"),u.d.call(this,"started"),h.o.call(this,"creativeView"),this.data.some((function(t){return t.parameters.ClickThrough}))){var e=this.getControlNode("vpaidSlot");e&&Object(o.c)(e,{cursor:"pointer"})}Q.call(this)}}function y(){var t=this,e=this.vnAfterplay;if(this.logger.log(" @AdStopped",2),this._adStoppedWasCalled=!0,u.c.call(this,"completing")){var r=(this.options||{beforeStopAdTimeout:200}).beforeStopAdTimeout;this.logger.log("@AdStopped was received before command vpaid.stopAd() state="+this.state+". Awaiting @AdVideoComplete tracking for "+r+" ms",2,"pink"),Object(i.v)(this);var o=n.bind(this);this._subscribeOnce(o,"AdVideoComplete"),this._adVideoCompletedWasPropagated?(this.unsubscribe(o,"AdVideoComplete"),n.call(this)):this._addTimeout(s.d,(function(){t.logger.warn("@AdStopped Awaiting @AdVideoComplete("+r+"ms) expired."),t.unsubscribe(o,"AdVideoComplete"),n.call(t)}),r)}else u.a.call(this)?e&&u.c.call(this,"afterplay")||n.call(this):this._adStoppedTriggered||(this._adStoppedTriggered=!0,this.trigger("AdStopped"));function n(){if(!u.c.call(this,"destroying","destroyed","stopped","stopping")){var t=this.vnAfterplay;t&&t.shouldContinue()||t&&t.shouldShowStub()||(u.d.call(this,"stopped"),this._useExistsVideoSlot||this.setControlData("videoSlot",{node:null}),$.call(this,"AdStopped"),K.call(this,["AdDestroyed"]),this._adStoppedTriggered||(this._adStoppedTriggered=!0,this.trigger("AdStopped")))}}}function A(){var t=this;this.logger.log(" @AdSkipped",2),h.o.call(this,"skip"),$.call(this,"AdSkipped"),this.logger.log(".onAdSkipped() trigger(AdSkipped)",1),this.trigger("AdSkipped");var e=this.vnAfterplay,r=this._useExistsVideoSlot,i=this.format;if(!r){var o=this.getControlNode("vpaidSlot");o&&(o.innerHTML="");var n=p.c.call(this);n&&n.pause&&n.pause()}if((!e||!e.shouldShowStub()&&!e.shouldContinue())&&i&&i.hide&&i.hide(),!e||!e.shouldShowStub()||e.shouldContinue()){K.call(this);var a=(this.options||{}).triggerAdStoppedAfterAdSkipped,s=i&&i.toString().slice(7,-1);!a&&"InStream"!==s||this._adStoppedTriggered||(this._adStoppedTriggered=!0,this.logger.log(".onAdSkipped() trigger('AdStopped')",1),setTimeout((function(){return t.trigger("AdStopped")}),1)),!r&&this.setControlData("videoSlot",{node:null}),h.o.call(this,"close"),this._destroy()}}function O(){var t=this.vpaid;t&&this.setAdSkippableState(t.getAdSkippableState()),this.logger.trace(" @AdSkippableStateChange adSkippableState="+this.adSkippableState+" got from the VPAID",2)}function w(){var t=this.vpaid;if(t){var e=t.getAdWidth(),r=t.getAdHeight(),i=this.adWidth,o=this.adHeight,n=this.viewMode;this.logger.trace(" @AdSizeChange vpaid: adWidth="+e+" adHeight="+r+"; current: adWidth="+i+" adHeight="+o),r=r&&r<=o?r:o,(e=e&&e<=i?e:i)<=i&&r<=o&&(e<i||r<o)&&(this.logger.trace(" @AdSizeChange call resizeAd("+e+", "+r+")",2),this.resizeAd(e,r,n,!1))}}function _(){this.logger.log(" @onAdSizeForceChange");var t=this.vpaid.getAdWidth(),e=this.vpaid.getAdHeight();if(t!==this.getAdWidth()||e!==this.getAdHeight()){var r,i=this.format;null==i||null===(r=i.setAdSizeForceChange)||void 0===r||r.call(i,t,e),this.logger.trace(" @onAdSizeForceChange invokes resizeAd() width="+t+", height="+e,2),this.resizeAd(t,e)}}function S(){this.logger.log(" @vn_VideoSlotRemoved"),this._videoSlotRemoved=!0}function P(){var t=this.vpaid.getAdLinear();this.logger.trace(" @AdLinearChange adLinear="+t,2)}function C(){}function j(){var t=this.adExpanded=this.vpaid.getAdExpanded();this.logger.trace(" @AdExpandedChange adExpanded="+t,2)}function E(){this.logger.none(" @AdRemainingTimeChange",2),this.adRemainingTime=this.getAdRemainingTime()||0,this.adDuration=this.getAdDuration()||0}function D(){var t=this.vpaid;if(t){var e=t.getAdVolume();(0===e||1===e?this.logger.log:this.logger.trace)(" @AdVolumeChange adVolume="+e.toFixed(2),2),this.adVolume.toFixed(2)!==(100*e).toFixed(2)&&(u.c.call(this,"playing")&&(this.adVolume>0&&0===e&&h.o.call(this,"mute"),0===this.adVolume&&e>0&&h.o.call(this,"unmute")),this.adVolume=e)}}function I(t){var e=(t||{}).vnExternalSEQ;function r(){this.logger.log(" @AdImpression",2),this.trigger("AdImpression"),$.call(this,"AdImpression"),h.o.call(this,"Impression"),h.g.call(this)}this.logger.log(" @AdImpression state="+this.state+" _adImpressionHappened="+this._adImpressionHappened+" vnExternalSEQ="+e),this._adImpressionHappened||!u.c.call(this,["starting","started","playing"])?e&&(this._lastExternalSEQ!==e&&this._manualAdditionalSEQ++,this._lastExternalSEQ=e,this.logger.log(" @AdImpression state="+this.state+" _adImpressionHappened="+this._adImpressionHappened+" _manualAdditionalSEQ="+this._manualAdditionalSEQ),r.call(this)):(this._adImpressionHappened=!0,r.call(this))}function T(){this.logger.log(" @AdAudioImpression state="+this.state+" _adImpressionHappened="+this._adImpressionHappened),this._adImpressionHappened=!0,function(){this.logger.log(" @AdAudioImpression",2),this.trigger("AdAudioImpression"),$.call(this,"AdAudioImpression"),h.o.call(this,"Impression"),h.g.call(this)}.call(this)}function V(t){var e=(t||{}).vnExternalSEQ;function r(){this.logger.log(" @AdVideoStart",2),u.d.call(this,"playing"),this.trigger("AdVideoStart"),$.call(this,"AdVideoStart"),h.o.call(this,"start").then();var t=this.getAdDuration(),e=this.progressControlWasHidden;!e&&(t<=0||t===1/0)?(this.hideControl("progress"),this.progressControlWasHidden=!0):e&&t>0&&(this.restoreControl("progress"),this.progressControlWasHidden=!1)}this.logger.log(" @AdVideoStart state="+this.state+" _adVideoWasStarted="+this._adVideoWasStarted+" vnExternalSEQ="+e),this._adVideoWasStarted||!u.c.call(this,["starting","started","playing"])?e&&(this._lastExternalSEQ!==e&&this._manualAdditionalSEQ++,this._lastExternalSEQ=e,this.logger.log(" @AdVideoStart state="+this.state+" _adVideoWasStarted="+this._adVideoWasStarted+" _manualAdditionalSEQ="+this._manualAdditionalSEQ),r.call(this)):(this._adVideoWasStarted=!0,this._AdVideoStartWasHappenedAtLeastOnce=!0,r.call(this))}function k(){this.logger.log(" @AdVideoFirstQuartile",2),this._adVideoFirstQuartileWasHappened=!0,$.call(this,"AdVideoFirstQuartile"),h.o.call(this,"firstQuartile")}function R(){this.logger.log(" @AdVideoMidpoint",2),this._adVideoMidpointWasHappened=!0,$.call(this,"AdVideoMidpoint"),h.o.call(this,"midpoint")}function M(){this.logger.log(" @AdVideoThirdQuartile",2),this._adVideoThirdQuartileWasHappened=!0,$.call(this,"AdVideoThirdQuartile"),h.o.call(this,"thirdQuartile")}function x(){this.logger.log(" @AdVideoCompleteTrackOnly",2),h.o.call(this,"complete"),this._completeWasTracked=!0}function N(t){var e=this;void 0===t&&(t={}),Object(i.v)(this),t||(t={}),this.logger.log(" @AdVideoComplete state="+this.state,2);var r=this.state;if(u.c.call(this,["complete","completing","destroy","destroying","stopping","stopped"]))this.logger.warn(" @AdVideoComplete was invoked during state="+r);else{u.d.call(this,"completing"),$.call(this,"AdVideoComplete"),this.logger.trace(" @AdVideoComplete (propagating delayed by trackers)");var o=this._adStarted,a=this._adImpressionHappened,s=this._adVideoWasStarted,l=this._vpaidStartAdInvokesTime,d=this._vpaidStartAdWasInvoked,c=this._adVideoFirstQuartileWasHappened,p=this._adVideoMidpointWasHappened,g=this._adVideoThirdQuartileWasHappened,f=Date.now()-l;if(!a&&o){var v="Get @AdVideoComplete but not get @AdImpression state="+r;this.logger.error(".onAdVideoFirstQuartile() "+v),h.i.call(this,{code:n.a.AD_IMPRESSION_NOT_HAPPENED_ERROR,message:v})}if(!o){var m="Get @AdVideoComplete but not get @AdStarted. state="+r,b=this.vpaid,y=(b||{})._countdown,A=y||{},O=A._duration,w=A._elapsedTime,_=A.adRemainingTime,S=(new Error).stack||"";return(b&&b.getDebugInfo?b.getDebugInfo():Promise.resolve({})).then((function(t){var r=JSON.stringify(t||{},(function(t,e){return!["moduleAPI","logger","module"].includes(t)&&e||void 0})),i=m+" _adVideoWasStarted="+s+" _vpaidStartAdWasInvoked=["+d+":"+f+"] _adVideoFirstQuartileWasHappened="+c+" _adVideoMidpointWasHappened="+p+" _adVideoThirdQuartileWasHappened="+g+" media="+e._media+"\nstack="+S+" vpaidInfo="+r+"\n_countdown="+y+" adRemainingTime="+_+" _duration="+O+" _elapsedTime="+w;e.logger.error(".onAdVideoFirstQuartile() "+i);var o=n.a.AD_STARTED_NOT_HAPPENED_ERROR;h.i.call(e,{code:o,message:i})})),this.trigger("vnVpaidAdError",m),void this._failedData({shouldDestroyVpaid:!0})}var P=!1!==t.shouldDestroy,C=this._completeWasTracked,j=this.format,E=this.vnAfterplay,D=h.b.call(this,"complete");E&&E._incSuccessfulPlays(),(!E||!E.shouldShowStub()&&!E.shouldContinue())&&j&&j.hide&&j.hide(),(C&&Promise.resolve()||D.then((function(t){return h.n.call(e,t)}))).then((function(){if(e.logger.trace(" @AdVideoComplete (propagating AdVideoComplete)"),e._completeWasTracked=!0,e.trigger("AdVideoComplete"),e._adVideoCompletedWasPropagated=!0,u.c.call(e,"stopped")&&P)e._destroy();else if(E&&E.shouldContinue())e._failedData({logMessage:" @AdVideoComplete() played "+E._getTotalSuccessfulPlays()+" ads from "+E._getContinueNumber()+". Trying play next ad.",shouldResetPlugins:!0,shouldDestroyVpaid:!0});else if(e.logger.log(" @AdVideoComplete all advanced ads have been shown",2,"color:green; font-size:1.2em"),!E||!E.shouldShowStub()){j&&j.hide&&j.hide();var t=(e.options||{}).beforeStopAdTimeout,r="AdStopped",i=function t(){e.unsubscribe(t,r),e._removeTimeout("beforeAdStoppedTimeout"),u.c.call(e,"stopped")&&P&&e._destroy()};e._addTimeout("beforeStopAdTimeout",(function(){e.unsubscribe(i,r),u.c.call(e,"stopped")&&P&&e._destroy(),u.c.call(e,"stopping")&&P&&e._subscribeOnce((function(){return e._destroy()}),"AdStopped")}),t),e._subscribe(i,r),e.stopAd()}}))}}function L(t,e,r){this.logger.log(" @AdClickThru("+t+", "+e+", "+r+") pauseStartedByVPAID="+this.pauseWasStartedByVPAID,2),h.o.call(this,"ClickTracking");var i=this.getControlUnionData("videoclick","action");!u.c.call(this,["paused","paused"])||this.pauseWasStartedByVPAID||this.pausedWasStartedByVisibilityChange?(u.c.call(this,"playing")&&this.pauseAd(),r&&(t?Object(a.b)(t):this.data.forEach((function(t){var e=t.parameters;return Object(a.b)(e.ClickThrough)}))),this.trigger("AdClickThru",t,e,!1),"close"===i&&this.skipAd()):this.resumeAd()}function F(){this.logger.trace(" @AdInteraction",2)}function W(){this.logger.trace(" @AdUserAcceptInvitation",2)}function H(){this.logger.trace(" @AdUserMinimize",2)}function z(){this.logger.trace(" @AdUserClose",2);var t=this.getAdSkippableState();t?(this.trigger("AdSkipped"),$.call(this,"AdSkipped"),this._destroy()):this.logger.trace(" got @AdUserClose but skippableState="+t+". doing nothing.",2)}function B(){u.a.call(this)&&!u.c.call(this,"afterplay")?(this.pauseWasStartedByVPAID=!u.c.call(this,"pausing"),this.logger.log(" @AdPaused pauseWasStartedByVPAID="+this.pauseWasStartedByVPAID,2),u.d.call(this,"paused"),h.o.call(this,"pause"),$.call(this,"AdPaused")):this.logger.log(" @AdPaused ignore because state="+this.state,2)}function U(){u.a.call(this)&&!u.c.call(this,"afterplay")?(this.logger.log(" @AdPlaying",2),$.call(this,"AdPlaying"),u.c.call(this,"resuming")&&(u.d.call(this,"playing"),h.o.call(this,"resume"))):this.logger.trace(" @AdPlaying ignore because state="+this.state,2)}function q(t){this.logger.log(" @AdLog("+t+")",2),this.trigger("AdLog",t)}function G(t,e){void 0===e&&(e=""),t||(t="");var r=+e;(!r||r<100||r>901)&&(r=901),this.logger.warn(" got @AdError("+r+", "+t+")"),h.i.call(this,{code:r,message:t}),this.trigger("vnVpaidAdError",t,e),this._failedData({shouldDestroyVpaid:!0})}function X(){this.logger.trace("@AdAudioOnlyStart",2)}function J(){this.logger.trace("@AdReadyToShow",2),this.trigger("AdReadyToShow")}function Q(){var t=this;this._addTimeout(s.b,(function(){Y.call(t)&&Q.call(t)}),s.a)}function Y(){var t=this.getAdRemainingTime();if(this.adRemainingTime!==t){var e=this.vpaid;this.adRemainingTime=t,e&&e.trigger("AdRemainingTimeChange")}return!0}r.d(e,"f",(function(){return v})),r.d(e,"d",(function(){return y})),r.d(e,"c",(function(){return A})),r.d(e,"a",(function(){return Z})),r.d(e,"g",(function(){return K})),r.d(e,"e",(function(){return $})),r.d(e,"b",(function(){return tt}));var Z=["AdLoaded","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdResumed","AdPlaying","AdAudioDisabled","AdAudioEnabled","AdLoadedVideoData","slotSizeChanged","vn_hideOverlayFormatWrapper","vn_setOverlayZIndex","vn_FormatChanged","vn_VideoSlotRemoved","vn_VPAIDCreated","AdAudioOnlyStart"];function K(t){var e=this.vpaid;this.logger.trace(".unsubscribeVpaidEvents() vpaid="+e),e&&Z.forEach((function(r){return(!t||!t.includes(r))&&e.unsubscribeType(r)}))}function $(t){window!==window.top&&parent.postMessage(t,"*")}function tt(){var t=this,e=["startAd","stopAd","pauseAd","resumeAd","skipAd"];this._messagesListener||window!==window.top&&(this._messagesListener=this._addDOMEventListener(window,"message",(function(r){var i=r.data;e.filter((function(t){return t===i})).forEach((function(e){t.logger.log("window listener get command ["+e+"]"),t[e].call(t)}))})))}},function(t,e,r){"use strict";r.d(e,"b",(function(){return c})),r.d(e,"c",(function(){return u})),r.d(e,"a",(function(){return p}));var i=r(1),o=r(17),n=r(3),a=r(11);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t){void 0===t&&(t={}),this.savedOptions||(this.savedOptions=l({},this.options)),this.options=l({},this.savedOptions,{},t),h.call(this)}function u(t){var e=this;this.logger.trace(".updateOptionsFromVpaid options="+JSON.stringify(t,null,"\t")+" vpaid="+this.vpaid),t.format&&(this.format&&this.format.updateOptions&&this.format.updateOptions(t.format),delete t.format),this.options=l({},this.options,{},t);var r=this.options,i=r.controlsActions,o=r.destroyControls;o&&o.forEach((function(t){return t&&e.destroyControl(t)})),i&&i.forEach((function(t){var r=t.name,i=t.action,o=e.getControlNode(r);o&&i&&i(o,e)}));var n=(t||{}).forceStartingVolume;if(void 0!==n)this.setAdVolume(n);else if("startingVolume"in t){var a=t.startingVolume;0!==a&&!a||a===this.adVolume||this.setAdVolume(a)}h.call(this)}function h(){var t=this.options,e=t||{},r=e.maxAds,n=e.forceStartingVolume,a=(t||{}).startingVolume,s=!1!==this.options.isInsideTextContent;this.options.disableHoverAudio=void 0!==this.options.disableHoverAudio?this.options.disableHoverAudio:s,this.options.triggerAdStoppedAfterAdSkipped=Object(i.u)(this.options.triggerAdStoppedAfterAdSkipped),this.options.canExecuteNoAd=Object(i.u)(this.options.canExecuteNoAd),a=this.options.startingVolume=void 0!==n?n:void 0!==a?a:s?0:1;var l="";try{l=JSON.stringify(this.options,(function(t,e){return"logger"!==t?e:void 0}))}catch(t){}this.logger.trace(" applyOptions() isInsideTextContent="+s+" disableHoverAudio="+this.options.disableHoverAudio+" startingVolume="+a+" options="+l),this._adsLeft=r,this.adVolume=a,this.options.listenWindowMessages&&!this._messagesListener&&o.b.call(this)}function p(){var t=Object(n.h)(Object(i.j)(window,document))||{},e=t.startAdTimeout,r=t.vpaidInitAdTimeout,o=t.dataRequestTimeout,s=t.triggerAdStoppedAfterAdSkipped,l=t.timeout,d=t.disableSmoothVolumeChange,c=t.viqeoStarterUrl,u=t.mainContainerIsIframe,h=t.iframeRemoveDelay,p=t.forceStartingVolume,g=t.vn_show_containers,f=t.vn_flyroll_trace,v=t.vn_intersections_trace,m=t.vn_data_url;e&&(this.options.startAdTimeout=e),r&&(this.options.vpaidInitAdTimeout=r),o&&(this.options.dataRequestTimeout=o),c&&(this.options.viqeoStarterUrl=c),l&&(this.options.timeout=l),s&&(this.options.triggerAdStoppedAfterAdSkipped=s),null!==d&&(this.options.disableSmoothVolumeChange=Object(i.u)(d)),void 0!==u&&(this.options.mainContainerIsIframe=Object(i.u)(u)),void 0!==h&&(this.options.iframeRemoveDelay=h),void 0!==p&&(this.options.forceStartingVolume=parseFloat(p)),void 0!==g&&Object(a.d)("show.containers",Object(i.u)(g)),void 0!==f&&Object(a.d)("flyroll.trace",Object(i.u)(f)),void 0!==v&&Object(a.d)("intersections.trace",Object(i.u)(v)),void 0!==m&&Object(a.c)("dataUrl",m)}},function(t,e){t.exports='<style>@keyframes videonow-spin{0%{transform:rotate(0deg);-webkit-transform:rotate(0deg)}to{transform:rotate(360deg);-webkit-transform:rotate(360deg)}}</style><svg style="animation:videonow-spin 1s linear infinite" viewBox="0 0 128 128"><path fill="none" stroke="url(#a)" stroke-width="2.77" d="M1252.52 595.235a31.93 31.93 0 01-17.5 5.2c-17.7 0-32.07-14.368-32.07-32.064 0-17.694 14.37-32.06 32.07-32.06 15.31 0 28.13 10.756 31.3 25.118" transform="translate(-2164.94 -961.788) scale(1.8048)"/><defs><radialGradient id="a" cx="0" cy="0" r="1" gradientTransform="rotate(-3.67 9382.41 -18979.953) scale(36.57698)" gradientUnits="userSpaceOnUse"><stop offset="0%" stop-color="#79669C" stop-opacity="0"/><stop offset="95%" stop-color="#79669C"/><stop offset="100%" stop-color="#fff"/></radialGradient></defs></svg>'},function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var i,o=r(2),n=r(23);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l="::ManualCountdown",d=(null===o.a||void 0===o.a||null===(i=o.a.getChildWriter)||void 0===i?void 0:i.call(o.a,l))||o.a,c={increasePieceOfTime:1e3},u=function(t){var e,r;function i(e){var r;return void 0===e&&(e={}),r=t.call(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},c,{},e,{tickHandler:h}))||this,r.logger=e&&(e.logger||e.module&&e.module.logger||e.moduleAPI&&e.moduleAPI.logger)||d,r.logger.log(""+l),r}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.prototype.start=function(){var e=this.getAdDuration(),r=this.getAdElapsedTime();!e||void 0!==r&&r>e||t.prototype.start.call(this)},i}(n.a);function h(t){var e=t.elapsedTime,r=t.remainingTime,i=t.adRemainingTime,o=t.duration;if(this._trigger("AdDurationChange"),r<.75*o&&i>=.75*o&&this._trigger("AdVideoFirstQuartile"),r<.5*o&&i>=.5*o&&this._trigger("AdVideoMidpoint"),r<.25*o&&i>=.25*o&&this._trigger("AdVideoThirdQuartile"),r<=0&&i>0)return this.stop(),void this._trigger("AdVideoComplete");e>o&&(this.stop(),this._trigger("AdVideoComplete"))}},function(t,e,r){"use strict";e.a={VERSION:"1.0.0",BASE_DOMAIN:"static.videonow.ru",DATA_DOMAIN:"init.videonow.ru",STAT_DOMAIN:"stat.videonow.ru",ERRORS_TRACKING_DOMAIN:"videonow.ru",HOME_URL:"http://www.videonow.ru",CLIENT_INFO_DOMAINS:["init.videonow.ru","data.videonow.ru"]}},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var i=function(){function t(){this._eventListeners={},this._internalEventListeners={}}var e=t.prototype;return e._subscribe=function(t,e,r){void 0===r&&(r=null),t=r&&t.bind(r)||t,this._eventListeners[e]=[].concat(this._eventListeners[e]||[],t),this._internalEventListeners[e]=[].concat(this._internalEventListeners[e]||[],t)},e.subscribe=function(t,e,r){var i,o;void 0===r&&(r=null),null==this||null===(i=this.logger)||void 0===i||null===(o=i.trace)||void 0===o||o.call(i,"External subscribe on event type "+e),t=r&&t.bind(r)||t,this._eventListeners[e]=[].concat(this._eventListeners[e]||[],t)},e._subscribeOnce=function(t,e){var r=this;this._subscribe((function i(){t.apply(void 0,arguments),r.unsubscribe(i,e)}),e)},e.subscribeOnce=function(t,e){var r,i,o=this;null==this||null===(r=this.logger)||void 0===r||null===(i=r.trace)||void 0===i||i.call(r,"External subscribeOnce on event type "+e);this.subscribe((function r(){t.apply(void 0,arguments),o.unsubscribe(r,e)}),e)},e.unsubscribe=function(t,e){this&&(this._eventListeners[e]=[].concat(this._eventListeners[e]||[]).filter((function(e){return e!==t})),this._internalEventListeners[e]=[].concat(this._internalEventListeners[e]||[]).filter((function(e){return e!==t})))},e.unsubscribeType=function(t){this&&(this._eventListeners[t]=[],this._internalEventListeners[t]=[])},e.unsubscribeAll=function(){this._eventListeners={},this._internalEventListeners={}},e._trigger=function(t,e){for(var r=this,i=arguments.length,o=new Array(i>2?i-2:0),n=2;n<i;n++)o[n-2]=arguments[n];(t[e]||[]).forEach((function(t){try{t.apply(r,o)}catch(o){var i,n,a,s;null==r||null===(i=r.logger)||void 0===i||null===(n=i.warn)||void 0===n||n.call(i,'Error in the handler of event "'+e+'" '+t),null==r||null===(a=r.logger)||void 0===a||null===(s=a.warn)||void 0===s||s.call(a,o.stack)}}))},e.trigger=function(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];(t=this._trigger).call.apply(t,[this,this._eventListeners].concat(r))},e.triggerInternal=function(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];(t=this._trigger).call.apply(t,[this,this._internalEventListeners].concat(r))},t}()},function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var i=r(2);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a="::ManualCountdownBase",s={increasePieceOfTime:250},l=function(){function t(t){var e;void 0===t&&(t={}),this.options=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},s,{},t);var r=t&&(t.logger||t.module&&t.module.logger||t.moduleAPI&&t.moduleAPI.logger)||i.a;this.logger=(null==r||null===(e=r.getChildWriter)||void 0===e?void 0:e.call(r,a))||r;var l=t,d=l.duration,c=l.VPAID_API,u=l.tickHandler;this.logger.log(a+" duration="+d),this._trigger=c&&c.trigger,this._duration=d,this._timeoutId=null,this._elapsedTime=0,this._tickHandler=u}var e=t.prototype;return e.getAdRemainingTime=function(){var t=this.getAdDuration();return t?t-this.getAdElapsedTime():0},e.getAdElapsedTime=function(){return this._elapsedTime||0},e.getAdDuration=function(){return this._duration||0},e.start=function(){var t=this;if(!this._timeoutId){var e=this.options.increasePieceOfTime,r=this.getAdDuration();this._timeoutId=setInterval((function(){var i=t.adRemainingTime,o=t.getAdRemainingTime();t.adRemainingTime=o;var n=d.call(t,e/1e3);t._tickHandler.call(t,{elapsedTime:n,remainingTime:o,adRemainingTime:i,duration:r})}),e)}},e.stop=function(){clearInterval(this._timeoutId),this._timeoutId=null},e._destroy=function(){this.stop()},t}();function d(t){return this._elapsedTime+=t,this._elapsedTime}},function(t,e,r){"use strict";(function(t){r.d(e,"b",(function(){return l}));var i=r(2),o=r(3),n=r(5),a="vnCreativeBlock",s="::Extension["+a+"]";function l(e){var r=t&&t.getAPI&&t.getAPI().logger||i.a;r.trace(s+".parseVnCreativeBlock()");var n=e&&e.querySelector('Extension[type="'+a+'"]'),l=n&&Array.from(n.querySelectorAll("urls > url"));if(l&&l.length){var d=Object(o.d)(n,"global"),c=Object(o.d)(n,"important"),u=l.map((function(t){return Object(o.d)(t).split("?")[0].replace(/^(https*:)*\/\//,"").toLowerCase()}));return r.trace(s+" set control data "+u+" global="+d),{urls:u,global:d,important:c}}return null}e.a=function(t){return new Promise((function(e){var r,o=t&&t.getAPI&&t.getAPI().logger||i.a;((null==o||null===(r=o.getChildWriter)||void 0===r?void 0:r.call(o,s))||o).trace(""+s);var l,d=(t._getLastParameters()||{})[a]||{},c=d.urls,u=d.global,h=d.important;(c&&c.length||u||h)&&t.setControlData(a,((l={urls:c})[n.a]=h,l),u);e(t)}))}}).call(this,r(40)(t))},function(t,e){t.exports='<svg viewBox="0 0 64 64"><circle cx="32" cy="32" r="30" fill="none" stroke-width="3"/><path stroke-width="0" d="M17.534 41.553l29.334.01-.952 1.373-27.418-.033-.964-1.35zm.202-18.25l28.942-.034.84 1.405-30.634.01.852-1.385zm-2.856 9.144l34.632-.033-.046 1.408-34.564-.022-.022-1.353zm34.66.13c0 9.318-7.774 16.9-17.33 16.9-9.555 0-17.327-7.583-17.327-16.9 0-9.316 7.774-16.896 17.326-16.896 9.554 0 17.33 7.58 17.33 16.9zm-17.33-18.25c-10.316 0-18.71 8.187-18.71 18.25s8.394 18.25 18.71 18.25c10.32 0 18.714-8.187 18.714-18.25s-8.393-18.25-18.714-18.25zm5.25 18.25c0 9.958-2.765 16.9-5.25 16.9-2.482 0-5.248-6.942-5.248-16.9 0-9.96 2.765-16.896 5.248-16.896s5.25 6.94 5.25 16.9zm-5.25-18.25c-4.31 0-6.635 9.403-6.635 18.25 0 8.848 2.326 18.25 6.635 18.25 4.31 0 6.64-9.403 6.64-18.25-.002-8.847-2.33-18.25-6.64-18.25zm12.297 18.25c0 9.318-5.52 16.9-12.297 16.9-6.777 0-12.292-7.583-12.292-16.9 0-9.316 5.515-16.896 12.292-16.896 6.778 0 12.297 7.58 12.297 16.9zM32.21 14.327c-7.542 0-13.68 8.188-13.68 18.25s6.138 18.25 13.68 18.25c7.543 0 13.68-8.186 13.68-18.25s-6.137-18.25-13.68-18.25z"/></svg>'},function(t,e){t.exports='<svg width="96" height="24" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" clip-rule="evenodd" viewBox="0 0 128 32"><path fill-opacity=".298" d="M120.368 28.943c-.464 1.503-1.606 2.72-3.108 2.72H2.766c-1.502 0-3.208-1.217-2.72-2.72L9.11 3.02C9.758.923 10.557.3 12.06.3h113.18a2.72 2.72 0 012.72 2.72l-7.592 25.923z"/><path fill="#fff" d="M20.303 23.29c-.05.13-.11.238-.178.32a.678.678 0 01-.32.185c-.14.042-.33.07-.573.08-.24.01-.552.018-.938.018-.31 0-.573-.003-.793-.007-.21-.004-.4-.014-.55-.03a1.754 1.754 0 01-.37-.068.73.73 0 01-.23-.117c-.06-.04-.1-.1-.13-.16s-.05-.15-.07-.25l-3.3-13.27c-.06-.27-.1-.49-.11-.66 0-.16.05-.28.15-.36.11-.08.28-.13.51-.15.24-.02.56-.03.98-.03.36 0 .64.01.83.02.2.02.36.05.46.08.11.04.18.1.21.18.04.08.07.18.1.29L18.6 20.9h.012l4.58-11.49c.04-.13.09-.23.145-.31.05-.08.137-.14.254-.19.12-.04.28-.07.49-.09.21-.01.5-.02.86-.02s.63.01.83.03c.2.03.33.08.39.17.07.09.08.218.04.38s-.12.377-.24.647L20.31 23.29zm7.95.114a.361.361 0 01-.094.21.608.608 0 01-.27.15c-.12.04-.28.07-.47.093-.2.024-.45.036-.75.036s-.54-.012-.74-.036c-.2-.022-.35-.054-.46-.093a.45.45 0 01-.24-.15.263.263 0 01-.06-.21l1.23-14.14c0-.077.04-.145.09-.208.05-.06.14-.112.27-.15.12-.038.28-.07.47-.094.19-.022.44-.033.73-.033.3 0 .54.01.73.03.19.02.34.05.45.09.114.04.19.09.24.15.044.06.064.13.06.21l-1.2 14.14zM39.78 16.22a7.37 7.37 0 00-.076-1.978 3.855 3.855 0 00-.66-1.587 3.275 3.275 0 00-1.32-1.046c-.553-.26-1.296-.38-2.23-.38h-1.538l-.89 10.18h1.583c.83 0 1.54-.11 2.13-.33a3.95 3.95 0 001.51-.98c.42-.44.75-.98.99-1.63.24-.65.4-1.41.48-2.27zm3.156-.105c-.12 1.373-.403 2.55-.846 3.524-.445.97-1.03 1.77-1.754 2.38-.725.62-1.58 1.07-2.567 1.36-.99.29-2.15.43-3.47.43h-3.58c-.26 0-.47-.08-.63-.23-.16-.15-.23-.4-.2-.74L31.03 9.8c.03-.34.14-.583.326-.734a1.02 1.02 0 01.662-.223h3.84c1.335 0 2.452.153 3.354.465.9.312 1.643.775 2.23 1.39.58.613 1 1.37 1.25 2.273.253.9.33 1.95.223 3.14zm9.15 6.515c-.02.225-.047.412-.08.562-.032.152-.07.273-.118.365a.532.532 0 01-.163.202.349.349 0 01-.197.06h-7.52a.88.88 0 01-.624-.23c-.16-.15-.225-.4-.196-.74l1.14-13.05c.03-.34.14-.59.327-.74.187-.15.408-.23.662-.23h7.476c.07 0 .13.02.18.06.05.04.09.1.12.2.032.09.05.22.055.37.005.15 0 .34-.02.57-.02.21-.046.4-.078.55-.03.15-.072.27-.12.36a.508.508 0 01-.156.2.323.323 0 01-.19.06h-5.346l-.32 3.66h4.524c.07 0 .133.02.186.06.055.04.096.11.127.2.032.09.05.21.056.36.01.15 0 .33-.01.55-.02.22-.04.41-.08.55-.03.14-.07.26-.11.35-.05.08-.1.15-.16.19a.32.32 0 01-.19.05h-4.53l-.37 4.22h5.4c.07 0 .13.02.19.06.06.04.1.11.13.2.03.09.05.21.06.36.01.15 0 .34-.01.56z"/><path fill="#DADADA" d="M81.01 22.408a1.209 1.209 0 01-.417.82 1.05 1.05 0 01-.386.203c-.148.05-.294.07-.44.07H78.47c-.268 0-.5-.03-.692-.08a1.21 1.21 0 01-.518-.29 2.153 2.153 0 01-.43-.58 8.739 8.739 0 01-.437-.94l-3.113-7c-.18-.41-.36-.86-.542-1.35-.18-.48-.342-.95-.48-1.4h-.023c-.018.56-.044 1.11-.076 1.66-.04.55-.08 1.12-.13 1.71l-.69 7.84c-.01.08-.03.15-.08.21-.05.07-.13.12-.24.16-.11.05-.25.08-.43.1-.18.02-.41.04-.69.04-.27 0-.49-.01-.67-.03-.18-.02-.32-.05-.41-.1a.406.406 0 01-.2-.15c-.04-.06-.05-.13-.04-.21L69.76 9.6c.034-.368.164-.64.39-.82.23-.18.497-.27.806-.27h1.63c.295 0 .54.024.735.073.2.053.37.135.52.25.15.118.28.278.4.48.12.207.24.46.37.76l2.44 5.474c.15.33.28.658.42.977.14.32.27.64.4.96.13.32.25.635.37.944.12.31.24.61.35.92h.02a66.734 66.734 0 01.22-3.368l.62-7.026a.423.423 0 01.09-.21c.05-.06.13-.11.25-.16.12-.047.26-.08.44-.1.18-.02.41-.03.69-.03.26 0 .48.01.66.03.18.02.31.05.4.1.09.046.16.1.19.16.04.064.05.13.04.21L81 22.414zm12.444-6.436c.07-.787.07-1.503.003-2.147-.068-.643-.23-1.195-.485-1.654a2.705 2.705 0 00-1.094-1.06c-.47-.25-1.078-.37-1.82-.37-.748 0-1.385.14-1.91.42-.525.29-.965.66-1.314 1.13-.35.48-.615 1.03-.8 1.65-.18.63-.302 1.3-.363 2-.07.82-.07 1.56 0 2.21.07.65.23 1.21.48 1.67.25.47.62.82 1.09 1.06.47.24 1.09.37 1.83.37s1.39-.14 1.91-.41c.53-.28.97-.65 1.32-1.13.35-.48.62-1.03.8-1.67.18-.63.31-1.31.37-2.03zm3.208-.162c-.108 1.243-.36 2.353-.756 3.334-.392.978-.924 1.812-1.594 2.492a6.692 6.692 0 01-2.4 1.565c-.93.36-1.984.54-3.163.54-1.17 0-2.18-.15-3.02-.45-.84-.3-1.53-.77-2.05-1.39-.53-.62-.89-1.42-1.1-2.38-.21-.96-.25-2.1-.14-3.42.1-1.21.35-2.3.74-3.27.39-.97.92-1.79 1.59-2.47a6.65 6.65 0 012.4-1.56c.92-.36 1.98-.54 3.17-.54 1.13 0 2.12.15 2.96.45.84.31 1.52.77 2.05 1.4.52.62.89 1.41 1.11 2.36.21.96.26 2.08.15 3.38zm15.77 6.886c-.06.184-.14.334-.23.445-.09.12-.22.2-.386.26s-.378.1-.634.12c-.257.02-.582.03-.977.03-.44 0-.79-.01-1.055-.02-.263-.02-.47-.06-.62-.11-.15-.06-.254-.14-.314-.25-.058-.11-.1-.26-.124-.44l-1.565-9.49h-.022l-3.1 9.49c-.052.18-.12.33-.198.44a.77.77 0 01-.353.26c-.155.06-.363.11-.623.13-.26.02-.6.03-1.02.03-.44 0-.8-.01-1.07-.03-.26-.02-.47-.06-.61-.12a.57.57 0 01-.31-.25c-.06-.11-.1-.26-.13-.44l-2.28-13.1a3.37 3.37 0 01-.05-.65c0-.15.06-.28.16-.36.1-.08.27-.13.49-.15.22-.02.53-.03.92-.03.36 0 .65.006.86.018.21.014.37.04.48.08.11.04.18.106.21.185.03.08.05.193.06.34l1.63 11.47h.01l3.72-11.39c.04-.15.09-.27.15-.36a.557.557 0 01.278-.215c.12-.05.29-.086.5-.1.21-.02.483-.03.83-.03.37 0 .665.004.884.02.22.014.38.05.5.1.11.05.19.12.24.212.04.09.07.21.09.37l1.83 11.38h.02l3.63-11.43c.03-.12.07-.23.11-.315.04-.09.12-.16.236-.21.11-.05.27-.09.47-.11.2-.02.48-.03.843-.03.34 0 .607.01.79.03.19.01.32.07.4.15.08.08.107.21.077.37s-.085.39-.18.67l-4.58 13.03zM59.99 19.37l.61-7.003 3.883 3.5-4.494 3.502z"/><path fill="#fff" d="M67.66 16.702c-.128 1.026-.36 1.957-.698 2.793-.393.98-.925 1.812-1.595 2.492a6.692 6.692 0 01-2.4 1.565c-.93.356-1.984.536-3.163.536-1.166 0-2.17-.15-3.013-.457-.83-.3-1.52-.76-2.04-1.39-.52-.62-.88-1.42-1.09-2.38-.21-.96-.25-2.1-.13-3.42.11-1.21.36-2.3.75-3.27.4-.96.93-1.79 1.6-2.47.67-.68 1.47-1.2 2.4-1.56.93-.36 1.99-.54 3.18-.54 1.14 0 2.12.15 2.97.45.85.3 1.53.77 2.06 1.39.53.63.9 1.42 1.11 2.37.19.85.25 1.84.18 2.97l-3.94-3.56c-.23-.3-.52-.54-.87-.73-.47-.25-1.07-.37-1.82-.37-.74 0-1.38.14-1.91.42-.52.29-.96.66-1.31 1.13-.35.47-.61 1.02-.8 1.65-.18.63-.3 1.3-.36 2-.07.82-.07 1.56-.01 2.21.07.65.23 1.21.48 1.67.26.47.62.82 1.09 1.06.47.25 1.09.37 1.83.37s1.39-.14 1.91-.42c.1-.05.2-.1.29-.16v.04l5.36-4.34z"/></svg>'},function(t,e){t.exports='<style>@keyframes videonow-pull{0%,10%,30%,to{transform:translateY(0);-webkit-transform:translateY(0)}20%{transform:translateY(2px);-webkit-transform:translateY(2px)}}</style><svg style="animation:videonow-pull 1s infinite" width="64" height="24" viewBox="0 0 64 10"><path fill="none" stroke="#fff" stroke-width="2.001" d="M.996 2.99L32.39 14.74M63 2.99L31.606 14.74"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 64 64" style="width:100%;height:100%"><path fill="#333" d="M23.817 49V17L50 33 23.817 49z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 64 64"><circle cx="32" cy="32" r="30" fill="none" stroke-width="3"/><path stroke-width="0" d="M32.503 12.794V8.75l9 7.75-9 8.5v-4.45c-7.583-.5-13.383 5.267-13.3 11.85.083 6.583 4.083 12.65 12.3 12.6 8.217-.05 12.6-6.596 12.5-13.5l6.106-5.845c.383.61 1.384 2.437 1.392 8.245-.483 8.817-7.717 18.683-19.75 18.95-12.033.267-20.524-9.77-20.35-20.65.174-10.88 9.73-19.738 21.1-19.406z"/></svg>'},function(t,e){t.exports='<svg style="width:100%" class="vn-afterplay-play" viewBox="0 0 64 64"><circle cx="32" cy="32" r="30" fill="none" stroke-width="3"/><path stroke-width="0" d="M17.25 24.402l7.152-7.152L32 24.848l7.598-7.598 7.152 7.152L39.152 32l7.598 7.598-7.152 7.152L32 39.152l-7.598 7.598-7.152-7.152L24.848 32l-7.598-7.598z"/></svg>'},function(t,e){t.exports='<svg width="50" height="50" viewBox="0 0 64 64"><circle cx="32" cy="32" r="30" fill="none" stroke-width="3"/><path stroke-width="0" d="M17.25 24.402l7.152-7.152L32 24.848l7.598-7.598 7.152 7.152L39.152 32l7.598 7.598-7.152 7.152L32 39.152l-7.598 7.598-7.152-7.152L24.848 32l-7.598-7.598z"/></svg>'},function(t,e){t.exports='<svg id="skipAd" width="25" height="25" viewBox="0 0 64 64"><style>g#vnSkipAd:hover&gt;path#cross{opacity:1}g#vnSkipAd:hover&gt;path#background{fill-opacity:0.5}</style><g id="vnSkipAd"><path id="background" fill-opacity=".298" d="M64.055 16c0-8.832-7.173-16-16.017-16h-31.99C7.204 0 .03 7.167.03 16v32c0 8.83 7.174 16 16.018 16h31.99c8.844 0 16.017-7.17 16.017-16V16z"/><path id="cross" fill="#fff" d="M32.605 27.734L47.91 12.427l3.62 3.62L36.223 31.35 51.53 46.66l-3.62 3.617L32.606 34.97 17.298 50.278 13.68 46.66l15.306-15.31L13.68 16.046l3.618-3.62 15.307 15.308z" opacity=".5"/></g></svg>'},function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return g}));var i=r(0),o=r(9),n=r(7),a=r(34),s=r.n(a),l=r(35),d=r.n(l),c=r(12);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p="logo",g=function(e){var r,a;function l(r){var a;a=e.call(this,p,r)||this;var l=r.getControlNode("wrapper"),c=r.getControlUnionData(p,"customerlogo")||{},g=c.logoSrc,f=c.logoHeight,v=c.logoWidth,m=g&&"<img src='"+g+"' "+function(t,e,r){void 0===e&&(e="=");void 0===r&&(r=" ");return t.reduce((function(t,r){var i=Object.keys(r)[0],o=r[i];return o&&t.push(""+i+e+o),t}),[]).join(r)}([{width:v},{height:f}])+">",b=r.getControlUnionData(p,"css"),y=a.node=Object(i.b)(l,"div",function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({position:"absolute",zIndex:1,bottom:0,left:0,padding:"5px",cursor:"pointer"},b),m||r.getControlUnionData(p,"content")||""+s.a+d.a,o.b.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(a),t.HOME_URL));return m||(n.h?(y.firstElementChild.style.display="none",y.lastElementChild.style.display=""):(y.lastElementChild.style.display="none",y.firstElementChild.style.display="",a._addDOMEventListener(y,"mouseenter",(function(){y.firstElementChild.style.display="none",y.lastElementChild.style.display=""})),a._addDOMEventListener(y,"mouseleave",(function(){y.lastElementChild.style.display="none",y.firstElementChild.style.display=""})))),r.setControlData(p,{node:y}),a}return a=e,(r=l).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a,l.getName=function(){return p},l}(c.a)}).call(this,r(41))},function(t,e){t.exports='<svg width="60" height="20" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" clip-rule="evenodd" viewBox="0 0 60 20"><path fill="#aaa" d="M54.205 15.227c-.203.658-.703 1.19-1.36 1.19H2.697c-1.196 0-1.467-.5-1.192-1.19l3.97-11.354c.284-.918.634-1.19 1.292-1.19H56.34c1.183 0 1.337.598 1.19 1.19l-3.325 11.354z"/><path fill="#fff" d="M10.38 12.75a.496.496 0 01-.08.14.279.279 0 01-.14.082c-.06.018-.144.03-.25.035a8.882 8.882 0 01-.41.008c-.136 0-.252 0-.348-.003A3.677 3.677 0 018.907 13a.966.966 0 01-.162-.03.349.349 0 01-.102-.052.183.183 0 01-.06-.073.641.641 0 01-.032-.11L7.11 6.923a1.613 1.613 0 01-.05-.29c0-.07.02-.123.066-.158a.413.413 0 01.22-.065c.104-.01.246-.015.428-.015.156 0 .277.004.364.01a.84.84 0 01.2.036c.046.02.077.05.09.08a.79.79 0 01.044.13l1.154 5.06h.005l2.01-5.03c.02-.05.04-.1.07-.14.03-.03.06-.06.11-.08.05-.02.13-.03.22-.04.09 0 .22-.01.38-.01s.28.01.36.02c.09.01.15.04.18.08s.03.09.02.16c-.02.07-.05.17-.1.28l-2.47 5.82zm3.48.05a.149.149 0 01-.04.092.24.24 0 01-.115.067c-.053.01-.122.03-.206.04-.09.01-.2.01-.33.01s-.24-.01-.32-.02c-.09-.01-.16-.03-.2-.04-.05-.02-.09-.04-.11-.07a.161.161 0 01-.03-.09l.54-6.19c0-.04.01-.07.04-.09.02-.03.06-.05.11-.07.05-.02.12-.03.21-.04.08-.01.19-.02.32-.02s.24 0 .32.01c.08.01.15.02.2.04.05.01.08.04.1.06.02.02.02.05.02.09l-.54 6.19zm5.05-3.145c.027-.31.015-.6-.034-.867a1.683 1.683 0 00-.29-.695 1.427 1.427 0 00-.577-.458c-.25-.11-.57-.165-.98-.165h-.68l-.39 4.46h.69c.36 0 .67-.047.93-.142.26-.094.48-.237.66-.428.18-.19.33-.43.43-.712.11-.283.18-.615.21-.993zm1.382-.046c-.053.6-.177 1.11-.37 1.54-.196.43-.452.77-.77 1.04-.317.27-.69.47-1.123.59-.44.12-.94.19-1.52.19h-1.57c-.12 0-.21-.04-.28-.1-.07-.07-.1-.18-.09-.32l.5-5.72c.01-.15.06-.26.14-.33.08-.07.18-.1.29-.1h1.69c.58 0 1.07.07 1.47.2.39.13.72.34.97.61.25.26.44.6.55.99.11.39.14.85.09 1.37zm4.008 2.85c-.01.09-.02.18-.036.24a.683.683 0 01-.052.16.256.256 0 01-.07.09c-.028.02-.056.02-.087.02H20.76c-.11 0-.202-.04-.272-.1s-.1-.18-.086-.33l.5-5.72c.013-.15.06-.26.143-.33.082-.07.178-.1.29-.1h3.274c.03 0 .05 0 .07.02.02.02.04.05.05.09.01.04.02.09.02.16s0 .15-.01.25c-.01.09-.02.17-.04.24-.01.07-.03.12-.05.16-.02.04-.05.07-.07.09-.03.02-.05.03-.08.03h-2.34l-.14 1.6H24c.03 0 .06.01.083.03.02.02.04.05.052.09.012.04.02.09.023.15 0 .06 0 .14-.01.24-.005.09-.02.18-.03.24a.691.691 0 01-.05.15c-.02.04-.045.07-.07.08-.03.01-.057.02-.09.02h-1.98l-.16 1.85h2.36c.03 0 .06.01.085.03.023.02.042.05.055.09.02.04.027.09.03.16.002.06 0 .15-.01.24z"/><path fill="#eee" d="M36.967 12.52a.531.531 0 01-.182.358.504.504 0 01-.17.09.706.706 0 01-.192.027h-.568c-.118 0-.22-.013-.303-.036-.085-.03-.16-.07-.227-.13s-.13-.15-.188-.26c-.06-.11-.122-.25-.192-.42l-1.363-3.06a12.01 12.01 0 01-.448-1.21h-.01c-.008.24-.02.48-.033.72-.01.25-.03.49-.05.75l-.3 3.43c0 .04-.01.07-.03.09-.02.03-.05.05-.1.07a.64.64 0 01-.19.05c-.07.01-.17.01-.3.01-.11 0-.21-.01-.29-.02a.655.655 0 01-.18-.05c-.04-.02-.07-.04-.08-.07-.01-.03-.02-.06-.01-.09l.52-5.9c.01-.16.07-.28.17-.36.1-.08.22-.12.35-.12h.72c.13 0 .24.01.32.03.09.02.16.06.23.11s.13.12.18.21c.06.09.11.2.16.33l1.07 2.39.18.42.18.42.17.41.15.41h.01c.01-.24.03-.49.04-.74.02-.26.04-.51.06-.74l.27-3.07a.3.3 0 01.04-.1c.03-.03.06-.05.11-.07a.83.83 0 01.2-.05c.08-.01.18-.01.3-.01.11 0 .21 0 .29.01.08.01.13.02.17.04.04.02.07.04.09.07.018.03.02.06.02.09l-.516 5.9zm5.45-2.82c.03-.345.032-.658.002-.94a1.925 1.925 0 00-.22-.725c-.11-.2-.27-.356-.48-.466-.21-.11-.47-.17-.8-.17-.33 0-.61.06-.84.18-.23.12-.43.28-.58.49-.16.2-.27.45-.35.72-.08.27-.14.56-.16.87-.03.36-.03.68-.01.96.03.28.1.53.21.73.11.2.27.35.47.46.21.1.47.16.8.16.33 0 .61-.06.84-.19.23-.12.42-.29.57-.5.15-.21.27-.46.35-.74.08-.28.13-.58.16-.89zm1.406-.07a5.071 5.071 0 01-.332 1.46c-.17.428-.4.793-.69 1.09-.29.3-.64.528-1.05.686-.41.156-.87.235-1.38.235-.51 0-.95-.06-1.32-.2-.36-.13-.66-.33-.89-.61-.23-.27-.39-.62-.47-1.04-.09-.42-.11-.92-.06-1.5.05-.53.16-1.01.33-1.43.18-.42.41-.78.7-1.08.3-.3.65-.52 1.05-.68.41-.16.87-.24 1.4-.24.5 0 .93.07 1.3.2s.67.34.9.61c.23.27.39.62.49 1.04.1.42.12.91.07 1.48zm6.907 3.015a.624.624 0 01-.1.195.35.35 0 01-.17.11 1.064 1.064 0 01-.278.053 7.818 7.818 0 01-.89 0 1.015 1.015 0 01-.272-.052.226.226 0 01-.137-.11.551.551 0 01-.054-.19l-.69-4.15h-.01l-1.36 4.16c-.03.08-.05.14-.09.19-.04.05-.09.09-.16.12s-.16.05-.28.05c-.12.01-.27.02-.45.02-.2 0-.36 0-.47-.01a.809.809 0 01-.27-.05.227.227 0 01-.14-.11.473.473 0 01-.06-.19l-.99-5.72c-.02-.12-.03-.21-.03-.28 0-.07.02-.12.07-.16.04-.04.11-.06.21-.07.1-.01.23-.01.4-.01.16 0 .28.01.38.01.09.01.16.02.2.04.04.02.07.05.09.08.01.04.02.09.02.15l.71 5.02 1.63-4.98c.02-.07.04-.12.07-.16.02-.04.06-.07.12-.09.05-.02.12-.04.22-.04.09-.01.21-.016.36-.016.16 0 .29 0 .38.01.09.007.17.02.22.04.05.02.08.057.1.098.02.04.03.1.04.168l.8 4.987h.01l1.59-5.01c.01-.06.03-.1.05-.14.02-.04.06-.07.11-.09.05-.03.12-.04.21-.05.08-.01.21-.01.37-.01.15 0 .26.01.34.017.08.01.14.03.17.07.04.034.05.09.032.16-.01.078-.034.17-.08.3l-1.99 5.7zm-22.97-1.457l.27-3.067 1.7 1.54-1.97 1.54z"/><path fill="#fff" d="M31.12 9.866c-.055.45-.157.857-.305 1.223-.172.42-.405.79-.698 1.09-.294.3-.644.52-1.052.68-.407.15-.87.23-1.385.23-.51 0-.95-.07-1.32-.2a2.155 2.155 0 01-.896-.61 2.37 2.37 0 01-.478-1.05c-.09-.42-.11-.92-.06-1.5.048-.53.156-1.01.328-1.43.173-.43.406-.79.698-1.08.293-.3.643-.53 1.05-.69.408-.16.872-.24 1.393-.24.497 0 .93.06 1.298.19.37.13.668.33.9.61.23.27.393.61.487 1.03.083.37.11.8.08 1.3-.7-.73-1.194-1.39-2.06-1.84a1.762 1.762 0 00-.908-.22c-.327 0-.546.06-.775.18-.23.12-.423.29-.576.49-.15.2-.26.45-.34.72a5.111 5.111 0 00-.16 1.83c.03.28.1.53.21.73.11.2.27.36.48.46.21.103.48.16.8.16.33 0 .62-.05.84-.187 1.18-.707 1.41-.99 2.47-1.95z"/></svg>'},function(t,e){t.exports='<svg width="60" height="20" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" clip-rule="evenodd" viewBox="0 0 60 20"><path fill="#262053" d="M54.205 15.227c-.203.658-.703 1.19-1.36 1.19H2.697c-1.196 0-1.467-.5-1.192-1.19l3.97-11.354c.284-.918.634-1.19 1.292-1.19H56.34c1.183 0 1.337.598 1.19 1.19l-3.325 11.354z"/><path fill="#fff" d="M10.38 12.75a.496.496 0 01-.08.14.279.279 0 01-.14.082c-.06.018-.144.03-.25.035a8.882 8.882 0 01-.41.008c-.136 0-.252 0-.348-.003A3.677 3.677 0 018.907 13a.966.966 0 01-.162-.03.349.349 0 01-.102-.052.183.183 0 01-.06-.073.641.641 0 01-.032-.11L7.11 6.923a1.613 1.613 0 01-.05-.29c0-.07.02-.123.066-.158a.413.413 0 01.22-.065c.104-.01.246-.015.428-.015.156 0 .277.004.364.01a.84.84 0 01.2.036c.046.02.077.05.09.08a.79.79 0 01.044.13l1.154 5.06h.005l2.01-5.03c.02-.05.04-.1.07-.14.03-.03.06-.06.11-.08.05-.02.13-.03.22-.04.09 0 .22-.01.38-.01s.28.01.36.02c.09.01.15.04.18.08s.03.09.02.16c-.02.07-.05.17-.1.28l-2.47 5.82zm3.48.05a.149.149 0 01-.04.092.24.24 0 01-.115.067c-.053.01-.122.03-.206.04-.09.01-.2.01-.33.01s-.24-.01-.32-.02c-.09-.01-.16-.03-.2-.04-.05-.02-.09-.04-.11-.07a.161.161 0 01-.03-.09l.54-6.19c0-.04.01-.07.04-.09.02-.03.06-.05.11-.07.05-.02.12-.03.21-.04.08-.01.19-.02.32-.02s.24 0 .32.01c.08.01.15.02.2.04.05.01.08.04.1.06.02.02.02.05.02.09l-.54 6.19zm5.05-3.145c.027-.31.015-.6-.034-.867a1.683 1.683 0 00-.29-.695 1.427 1.427 0 00-.577-.458c-.25-.11-.57-.165-.98-.165h-.68l-.39 4.46h.69c.36 0 .67-.047.93-.142.26-.094.48-.237.66-.428.18-.19.33-.43.43-.712.11-.283.18-.615.21-.993zm1.382-.046c-.053.6-.177 1.11-.37 1.54-.196.43-.452.77-.77 1.04-.317.27-.69.47-1.123.59-.44.12-.94.19-1.52.19h-1.57c-.12 0-.21-.04-.28-.1-.07-.07-.1-.18-.09-.32l.5-5.72c.01-.15.06-.26.14-.33.08-.07.18-.1.29-.1h1.69c.58 0 1.07.07 1.47.2.39.13.72.34.97.61.25.26.44.6.55.99.11.39.14.85.09 1.37zm4.008 2.85c-.01.09-.02.18-.036.24a.683.683 0 01-.052.16.256.256 0 01-.07.09c-.028.02-.056.02-.087.02H20.76c-.11 0-.202-.04-.272-.1s-.1-.18-.086-.33l.5-5.72c.013-.15.06-.26.143-.33.082-.07.178-.1.29-.1h3.274c.03 0 .05 0 .07.02.02.02.04.05.05.09.01.04.02.09.02.16s0 .15-.01.25c-.01.09-.02.17-.04.24-.01.07-.03.12-.05.16-.02.04-.05.07-.07.09-.03.02-.05.03-.08.03h-2.34l-.14 1.6H24c.03 0 .06.01.083.03.02.02.04.05.052.09.012.04.02.09.023.15 0 .06 0 .14-.01.24-.005.09-.02.18-.03.24a.691.691 0 01-.05.15c-.02.04-.045.07-.07.08-.03.01-.057.02-.09.02h-1.98l-.16 1.85h2.36c.03 0 .06.01.085.03.023.02.042.05.055.09.02.04.027.09.03.16.002.06 0 .15-.01.24z"/><path fill="#b1bb45" d="M36.967 12.52a.531.531 0 01-.182.358.504.504 0 01-.17.09.706.706 0 01-.192.027h-.568c-.118 0-.22-.013-.303-.036-.085-.03-.16-.07-.227-.13s-.13-.15-.188-.26c-.06-.11-.122-.25-.192-.42l-1.363-3.06a12.01 12.01 0 01-.448-1.21h-.01c-.008.24-.02.48-.033.72-.01.25-.03.49-.05.75l-.3 3.43c0 .04-.01.07-.03.09-.02.03-.05.05-.1.07a.64.64 0 01-.19.05c-.07.01-.17.01-.3.01-.11 0-.21-.01-.29-.02a.655.655 0 01-.18-.05c-.04-.02-.07-.04-.08-.07-.01-.03-.02-.06-.01-.09l.52-5.9c.01-.16.07-.28.17-.36.1-.08.22-.12.35-.12h.72c.13 0 .24.01.32.03.09.02.16.06.23.11s.13.12.18.21c.06.09.11.2.16.33l1.07 2.39.18.42.18.42.17.41.15.41h.01c.01-.24.03-.49.04-.74.02-.26.04-.51.06-.74l.27-3.07a.3.3 0 01.04-.1c.03-.03.06-.05.11-.07a.83.83 0 01.2-.05c.08-.01.18-.01.3-.01.11 0 .21 0 .29.01.08.01.13.02.17.04.04.02.07.04.09.07.018.03.02.06.02.09l-.516 5.9zm5.45-2.82c.03-.345.032-.658.002-.94a1.925 1.925 0 00-.22-.725c-.11-.2-.27-.356-.48-.466-.21-.11-.47-.17-.8-.17-.33 0-.61.06-.84.18-.23.12-.43.28-.58.49-.16.2-.27.45-.35.72-.08.27-.14.56-.16.87-.03.36-.03.68-.01.96.03.28.1.53.21.73.11.2.27.35.47.46.21.1.47.16.8.16.33 0 .61-.06.84-.19.23-.12.42-.29.57-.5.15-.21.27-.46.35-.74.08-.28.13-.58.16-.89zm1.406-.07a5.071 5.071 0 01-.332 1.46c-.17.428-.4.793-.69 1.09-.29.3-.64.528-1.05.686-.41.156-.87.235-1.38.235-.51 0-.95-.06-1.32-.2-.36-.13-.66-.33-.89-.61-.23-.27-.39-.62-.47-1.04-.09-.42-.11-.92-.06-1.5.05-.53.16-1.01.33-1.43.18-.42.41-.78.7-1.08.3-.3.65-.52 1.05-.68.41-.16.87-.24 1.4-.24.5 0 .93.07 1.3.2s.67.34.9.61c.23.27.39.62.49 1.04.1.42.12.91.07 1.48zm6.907 3.015a.624.624 0 01-.1.195.35.35 0 01-.17.11 1.064 1.064 0 01-.278.053 7.818 7.818 0 01-.89 0 1.015 1.015 0 01-.272-.052.226.226 0 01-.137-.11.551.551 0 01-.054-.19l-.69-4.15h-.01l-1.36 4.16c-.03.08-.05.14-.09.19-.04.05-.09.09-.16.12s-.16.05-.28.05c-.12.01-.27.02-.45.02-.2 0-.36 0-.47-.01a.809.809 0 01-.27-.05.227.227 0 01-.14-.11.473.473 0 01-.06-.19l-.99-5.72c-.02-.12-.03-.21-.03-.28 0-.07.02-.12.07-.16.04-.04.11-.06.21-.07.1-.01.23-.01.4-.01.16 0 .28.01.38.01.09.01.16.02.2.04.04.02.07.05.09.08.01.04.02.09.02.15l.71 5.02 1.63-4.98c.02-.07.04-.12.07-.16.02-.04.06-.07.12-.09.05-.02.12-.04.22-.04.09-.01.21-.016.36-.016.16 0 .29 0 .38.01.09.007.17.02.22.04.05.02.08.057.1.098.02.04.03.1.04.168l.8 4.987h.01l1.59-5.01c.01-.06.03-.1.05-.14.02-.04.06-.07.11-.09.05-.03.12-.04.21-.05.08-.01.21-.01.37-.01.15 0 .26.01.34.017.08.01.14.03.17.07.04.034.05.09.032.16-.01.078-.034.17-.08.3l-1.99 5.7zm-22.97-1.457l.27-3.067 1.7 1.54-1.97 1.54z"/><path fill="#fff" d="M31.12 9.866c-.055.45-.157.857-.305 1.223-.172.42-.405.79-.698 1.09-.294.3-.644.52-1.052.68-.407.15-.87.23-1.385.23-.51 0-.95-.07-1.32-.2a2.155 2.155 0 01-.896-.61 2.37 2.37 0 01-.478-1.05c-.09-.42-.11-.92-.06-1.5.048-.53.156-1.01.328-1.43.173-.43.406-.79.698-1.08.293-.3.643-.53 1.05-.69.408-.16.872-.24 1.393-.24.497 0 .93.06 1.298.19.37.13.668.33.9.61.23.27.393.61.487 1.03.083.37.11.8.08 1.3-.7-.73-1.194-1.39-2.06-1.84a1.762 1.762 0 00-.908-.22c-.327 0-.546.06-.775.18-.23.12-.423.29-.576.49-.15.2-.26.45-.34.72a5.111 5.111 0 00-.16 1.83c.03.28.1.53.21.73.11.2.27.36.48.46.21.103.48.16.8.16.33 0 .62-.05.84-.187 1.18-.707 1.41-.99 2.47-1.95z"/></svg>'},function(t,e){t.exports='<svg width="40" height="40" viewBox="0 0 64 64"><style>g#vnVolumeOn:hover&gt;ellipse{opacity:1;fill-opacity:0.45}g#vnVolumeOn:hover&gt;path{opacity:1}</style><g id="vnVolumeOn" fill="none" stroke-width="2"><circle cx="32" cy="32" r="30" fill="#000" fill-opacity=".298" opacity=".7"/><path d="M38.5 39.885h13.047M26.14 52.95l13.518-13.52M26.14 12.703L39.66 26.22m-1.16-.517h12.596m-1.12-1.473v17.235M26.63 51.885v-38.22m-6.124 9.002v20.965m-5.8-24.265v28.065" opacity=".7"/></g></svg>'},function(t,e){t.exports='<svg width="40" height="40" viewBox="0 0 64 64"><style>g#vnVolumeOff:hover&gt;ellipse{opacity:1;fill-opacity:0.45}g#vnVolumeOff:hover&gt;path{opacity:1}</style><g id="vnVolumeOff" fill="none" stroke-width="2"><circle cx="32" cy="32" r="30" fill="#000" fill-opacity=".298" opacity=".7"/><path d="M36 39.885h13.047M23.64 52.95l13.518-13.52M23.64 12.703L37.16 26.22M36 25.703h12.596m-1.12-1.473v17.235M24.13 51.885v-38.22M11.61 53.417l41.772-41.77" opacity=".7"/></g></svg>'},function(t,e){t.exports='<svg width="64" height="64"><circle cx="30.868" cy="31.255" r="30.066" fill="none" stroke="#fff" transform="translate(1.2 .813)"/><path fill="#fff" d="M23.817 49V17L50 33 23.817 49z"/></svg>'},,function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},,function(t,e,r){"use strict";r.r(e);var i=r(10),o=r(4),n=r(15),a=r(2);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c="Vpaid",u="Format[Vpaid]",h=u,p=function(t){var e,r;function i(e,r){var i,o=r&&r.ancestor&&r.ancestor+":"+u||"Module::"+u,n=r&&(r.logger||r.moduleAPI&&r.moduleAPI.logger)||a.a;n.trace(o+".constructor()");var s=l({},r,{ancestor:o});return(i=t.call(this,s)||this)[h]=o,i.options=s,i.module=e,i.logger=n,i}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.toString=function(){return u},o.waitBeforeLoadUrl=function(t){return this.logger.trace(this[h]+".waitBeforeLoadUrl("+t+")"),Promise.resolve(t)},o._initDataXml=function(){return this.logger.trace(this[h]+".initDataXml()"),Promise.resolve()},o._vpaidInitAd=function(){return this.logger.trace(this[h]+".vpaidInitAd()"),Promise.resolve()},o.getReachInventoryFactory=function(){return null},o.hasReachInventoryFactory=function(){return!1},o._destroy=function(){this.logger.trace(this[h]+".destroy()"),t.prototype._destroy.call(this)},o.abort=function(){},o.isFloatingMode=function(){return!1},o.getModuleOptions=function(){return{isInsideTextContent:!1,startingVolume:0}},o.getSlotSize=function(){return{width:0,height:0}},o.correctAdSize=function(t,e){return{adWidth:t,adHeight:e}},o.getOptions=function(){return l({},this.options)},o.getBaseName=function(){return c.toLowerCase()},i}(n.a),g=r(1);var f,v=function(t){var e,r;function i(e,r){var i,o=(i=t.call(this,e,r)||this).options.moduleAPI||{},n=o.addVPAIDEventListener,a=o.resizeAd;return n("slotSizeChanged",(function(t){var e=t||{},r=e.height,i=e.width,o=e.src,n=o&&o.toLowerCase();n&&("vpaidgoogletag"===n||"vpaidyandexcontext"===n)&&r&&i&&setTimeout((function(){return a(i,r)}))}),function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i)),i}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.getSlotSize=function(){var t=(this.options||{}).moduleAPI,e=t.getControlNode,r=t.getVideoSlot,i=e("slot")||e("vpaidSlot")||r(),o=Object(g.i)(i);return{width:o.insideWidth,height:o.insideHeight}},o.toString=function(){return"Format[InStream]"},o.getBaseName=function(){return"InStream".toLowerCase()},i}(p),m=r(0),b=r(7),y="initModuleNode",A=(null===a.a||void 0===a.a||null===(f=a.a.getChildWriter)||void 0===f?void 0:f.call(a.a,y))||a.a;function O(t,e){try{return function(t){var e=t.initScriptParentNode,r=t.lookupNode,i=t.lookupElement,o=t.playerElement,n=t.playerAfter,a=t.playerBefore,s=t.playerSelectorPercent,l=t.playerSelectorTotalMin,d=t.playerDefaultClass,c=t.transitionDuration,u=t.extraSelector,h=t.ignoreCreatePlayerElement,p=t.forceFillingBoundariesModel;r=r||Object(m.k)(i)||document.body;var f,v,y,O,w=function(){var t=!1;window!==window.top&&(window.document.documentElement.clientHeight>0||b.e)&&(t=!0,A.log("initModuleNode.initModuleNode(). Module entered inside iframe and can not change height of the document.",1));return t}(),_=Object(g.u)(p)||w,S=document.createElement("div");if(o||n||a)if(f=Object(m.k)(o,s,r,l),Object(m.p)(f))f.appendChild(S);else if(o&&A.trace("initModuleNode.initModuleNode() playerElement not found ("+o+")"),y=Object(m.k)(n,s,r,l),Object(m.p)(y))y.parentNode.insertBefore(S,y.nextSibling);else if(A.trace("initModuleNode.initModuleNode() playerAfter not found ("+n+")"),v=Object(m.k)(a,s,r,l),Object(m.p)(v))v.parentNode.insertBefore(S,v);else if(A.trace("initModuleNode.initModuleNode() playerBefore not found ("+a+")"),y=Object(m.k)(u,s,r,l),Object(m.p)(y))y.parentNode.insertBefore(S,y.nextSibling),A.trace("initModuleNode.initModuleNode(). inserting after extraSelector ("+u+")");else{if(!h)throw new Error("initModuleNode Could not create player element");document.body.appendChild(S)}else{var P=e&&e.tagName;if(P&&"HEAD"!==P){e.appendChild(S);var C=w?"Module entered inside iframe and can not change height of the document.":"";A.log("initModuleNode.initModuleNode() moduleNode was initialized at parent node of init script. "+C,1),O=e}else{if(!h)throw new Error("initModuleNode Could not create player element. "+("HEAD"===P?" An attempt was detected to include the tag in the HEAD of a page (playerElement="+o+", playerAfter="+n+" playerBefore="+a+")":""));document.body.appendChild(S)}}Object(m.c)(S,{boxSizing:"content-box",overflow:"hidden",width:"100%",height:0,transition:"height "+c+"ms ease-out"}),d&&S.classList.add(d);var j=Object(m.b)(S,"div",{position:"absolute",top:0,right:0,bottom:0,left:0,fontSize:0,lineHeight:0,margin:0,textAlign:"center"});return{lookupNode:r,moduleNode:S,moduleInnerNode:j,boundariesExists:_,insideIframe:w,elementNode:f,beforeNode:v,afterNode:y,widthNode:O}}(t)}catch(l){var r=t||{},i=r.playerElement,n=r.playerAfter,a=r.playerBefore,s=new Error(l+' (format: "'+e+'" playerElement:"'+i+'" playerAfter:"'+n+'" playerBefore:"'+a+'" url('+window.top.location.href+"))");throw s.code=o.a.FORMAT_ERROR,s.options=t,s.format=e,s}}var w=r(3),_=r(5),S=function(){function t(t){void 0===t&&(t={}),this.API=t.API,this.showObservableNode=t.showObservableNode,this.isIframe=t.isIframe,this.logger=t.logger,this.forceHeight=t.forceHeight,this.expandingDuration=t.expandingDuration}var e=t.prototype;return e.setAdSizeForceChange=function(){},e.updateModuleNodeSize=function(){throw Error("Not implemented")},e.moduleResizeAd=function(){throw Error("Not implemented")},e._canUpdateModuleNodeSize=function(t){var e=this.API,r=e.isAdHasBeenStarted,i=e.getOptions,o=e.moduleAPI.getAdHeight,n=(i&&i()||{}).expandOnAdLoaded,a=o&&o(),s=t||a&&(r()||n);return this.logger.trace(" _canUpdateModuleNodeSize() ["+s+"] forceUpdate="+t+" adHeight="+a+" isAdHasBeenStarted="+r()+" expandOnAdLoaded="+n),s},e.correctAdSize=function(t,e){return{adWidth:t,adHeight:e}},e.setForceHeight=function(t){return this.forceHeight!==t&&(this.forceHeight=t,!0)},e.getForceHeight=function(){return this.forceHeight},t}();function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var C=function(t){var e,r;function i(e){var r;return(r=t.call(this,e)||this).parentElement=null,P(r)||P(r)}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var n=i.prototype;return n.updateModuleNodeSize=function(t){void 0===t&&(t=!1);var e,r,i=this.isIframe,o=this.API,n=o.getModuleNode,a=o.moduleAPI.trigger;if(!this._canUpdateModuleNodeSize(t))return null;var s=n&&n(),l=s.clientWidth,d=s.clientHeight,c=this.parentElement=i?document.body:s&&s.parentElement;if(c){var u=Object(g.i)(c);e=u.insideWidth,r=u.insideHeight}return s&&Object(m.c)(s,{width:Object(g.t)(e),height:Object(g.t)(r)}),(Object(g.q)(d,r,1.2)||Object(g.q)(l,e,1.2))&&setTimeout((function(){return a("slotSizeChanged")})),{width:e,height:r}},n.moduleResizeAd=function(t){var e=this.isIframe,r=this.API,i=r.getModuleNode,n=r.moduleAPI,a=n.getControlNode,s=n.resizeAd,l=n.setWrapperSize,d=n.getAdHeight,c=n.getAdWidth,u=n.getIndents,h=n.fail,p=a&&a("wrapper");if(!this.parentElement){var f=i&&i();this.parentElement=e?document.body:f&&f.parentElement}var v=this.parentElement,b=E.call(this,t),y=b.width,A=b.height,O=j.call(this,y,A,t),w=O.width,_=O.height,S=O.availableHeightForAd;if(w<0||_<0)y>0&&(null==h||h({code:o.a.GENERAL_VPAID_ERROR,message:"OutsideBoundariesUpdateStrategy.moduleResizeAd() slot has no width or height to show ad. failing to error."}));else if(d&&d()!==_||d&&c()!==w){var P=getComputedStyle(p).width,C=parseFloat(P);this.logger.none(".moduleResizeAd() resizeAd("+w+", "+_+")");var I=D.call(this),T=I.outsideWrapperHeight,V=I.insideWrapperHeight;if((S!==V||t>1&&w<C)&&(this.logger.log(".moduleResizeAd() setWrapperSize("+(t>1&&C||w)+", "+S+")"),l(S+T-V)),v&&"BODY"===v.tagName){var k=Object(g.i)(v),R=k.borderTopWidth,M=k.borderRightWidth,x=k.borderBottomWidth,N=k.borderLeftWidth,L=v.clientHeight-R-x,F=v.clientWidth-N-M,W=u(),H=W.outsideHeight,z=W.outsideWidth;p&&L&&Object(m.c)(p,{top:Object(g.t)(L/2-H/2),left:Object(g.t)(F/2-z/2)})}s&&s(0^w,0^_)}},n.correctAdSize=function(t,e){var r=j.call(this,t,e,e/t);return{adWidth:r.width,adHeight:r.height}},i}(S);function j(t,e,r){var i=this.API,o=i.getWidthNode,n=i.moduleAPI.getControlNode,a=n&&n("wrapper"),s=o&&o(),l=Object(g.i)(s).insideHeight,d=D.call(this),c=d.outsideWrapperHeight,u=d.insideWrapperHeight,h=d.outsideWrapperWidth,p=d.insideWrapperWidth,f=getComputedStyle(a).width,v=parseFloat(f),m=l-((c||0)-(u||0));return c>l||e>m?(this.logger.trace(".OutsideBoundariesUpdateStrategy модуль не поместился по высоте в контейнер:\n        outsideWrapperHeight("+c+") > containerInsideHeight("+l+")\n        height("+e+") > availableHeightForAd("+m+")"),y.call(this),t>v&&(this.logger.trace(".OutsideBoundariesUpdateStrategy теперь модуль не поместился по ширине в контейнер:\n       width("+t+") > containerInsideWidth("+v+")"),b.call(this,v))):(h>v||t>v)&&(this.logger.trace(".OutsideBoundariesUpdateStrategy модуль не поместился по ширине в контейнер:\n       outsideWrapperWidth("+h+") > containerInsideWidth("+v+")\n       width("+t+") > containerInsideWidth("+v+")"),b.call(this,v-(h-p)),e>m&&(this.logger.trace(".OutsideBoundariesUpdateStrategy теперь модуль не поместился по высоте в контейнер:\n         height("+e+") > availableHeightForAd("+m+")"),y.call(this))),{width:t,height:e,availableHeightForAd:m};function b(i){t=i,e=Math.round(t*r),this.logger.trace(".OutsideBoundariesUpdateStrategy setWidthCalcHeight("+i+"): width="+i+" height="+e)}function y(){e=m,t=Math.round(e/r),this.logger.trace(".OutsideBoundariesUpdateStrategy setWidthCalcHeight() height="+e+" width="+t)}}function E(t){var e=this.API.moduleAPI.getControlNode,r=e&&e("wrapper"),i=getComputedStyle(r).width,o=parseFloat(i),n=0^(this.forceWidth||o);return{width:n,height:0^(this.forceHeight||Math.round(n*t))}}function D(){var t=(0,this.API.moduleAPI.getIndents)();return{outsideWrapperHeight:t.outsideHeight,insideWrapperHeight:t.insideHeight,outsideWrapperWidth:t.outsideWidth,insideWrapperWidth:t.insideWidth}}function I(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var T=function(t){var e,r;function i(e){var r;return I(r=t.call(this,e)||this)||I(r)}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var n=i.prototype;return n.updateModuleNodeSize=function(t){if(void 0===t&&(t=!1),!this._canUpdateModuleNodeSize(t))return null;var e=this.API,r=e.getOptions,i=e.getModuleNode,o=e.getWidthNode,n=e.moduleAPI,a=n.getIndents,s=n.trigger,l=(r&&r()||{}).expandingDuration;l=l&&parseFloat(l)||0;var d=o&&o(),c=i&&i(),u=Object(g.i)(c),h=u.clientWidth,p=u.clientHeight,f=a&&a(),v=f.outsideWidth,b=f.outsideHeight,y=d&&Object(g.i)(d).insideWidth||"100%";Object(m.c)(c,{width:Object(g.t)(y),height:Object(g.t)(b)});var A=Object(g.q)(h,v,1.2);return(Object(g.q)(p,b,1.2)||A&&this.prevPrevWidth!==h)&&(this.prevPrevWidth=h,this.logger.trace(".updateModuleNodeSize() trigger(slotSizeChanged) prevHeight="+p+" moduleNodeHeight="+b),setTimeout((function(){return s("slotSizeChanged")}),l)),{width:v,height:b}},n.moduleResizeAd=function(t){var e=this.API,r=e.getWidthNode,i=e.moduleAPI,n=i.resizeAd,a=i.setWrapperSize,s=i.getControlNode,l=i.fail,d=r&&r(),c=Object(g.i)(d).insideWidth,u=s&&s("wrapper"),h=Object(g.i)(u),p=h.borderTop,f=h.paddingTop,v=h.borderBottom,m=h.paddingBottom,b=Math.min(c,this.forceWidth||c),y=this.forceHeight||b*t^0||0;b>0?(a(y+(p||0)+(v||0)+(f||0)+(m||0)),n&&n(0^b,0^y)):null==l||l({code:o.a.GENERAL_VPAID_ERROR,message:"OutStreamUpdateStrategy.moduleResizeAd() slot has no width. failing to error."})},n.correctAdSize=function(t,e){var r=this.forceEnableVerticalContent,i=this.API.getModuleNodeSize,o=!1,n=e/t;!b.h&&n>1&&!r&&(o=!0);var a=i(n).width;return t!==a&&(o?t=(e=9*a/16)/n:(e*=a/t,t=a)),{adWidth:t,adHeight:e}},i}(S);function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var k=function(t){var e,r;function i(e){var r;r=t.call(this,e)||this;var i=e.height,o=e.width;return r.forceInsideHeight=i,r.forceInsideWidth=o,r.parentElement=null,V(r)||V(r)}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var n=i.prototype;return n.setAdSizeForceChange=function(t,e){t&&(this.forceInsideHeight=e),e&&(this.forceInsideWidth=t),this.updateModuleNodeSize()},n.updateModuleNodeSize=function(t){void 0===t&&(t=!1);var e=this.forceInsideWidth,r=this.expandingDuration,i=this.forceInsideHeight,o=this.API,n=o.getModuleNode,a=o.getWidthNode,s=o.moduleAPI.trigger;if(!this._canUpdateModuleNodeSize(t))return null;var l=a&&a(),d=l&&Object(g.i)(l).insideWidth;e>d&&(i*=d/e);var c=x.call(this),u=c.outsideWrapperHeight,h=c.insideWrapperHeight;u&&h&&(i+=u-h);var p=n&&n(),f=p.clientWidth,v=p.clientHeight;p&&Object(m.c)(p,{width:Object(g.t)(d),height:Object(g.t)(i)});var b=Object(g.q)(f,d,1.2);return(Object(g.q)(v,i,1.2)||b&&this.prevPrevWidth!==f)&&this._canUpdateModuleNodeSize(t)&&(this.prevPrevWidth=f,this.logger.trace(" FixedBoundariesUpdateStrategy updateModuleNodeSize("+t+") prevHeight="+v+" forceInsideHeight="+i+" prevWidth="+f+" widthNodeContentWidth="+d),setTimeout((function(){s("slotSizeChanged")}),r)),{width:e,height:i}},n.moduleResizeAd=function(){var t=this.API.moduleAPI,e=t.getAdHeight,r=t.getAdWidth,i=t.resizeAd,n=t.getControlNode,a=t.setWrapperSize,s=t.fail,l=M.call(this),d=l.width,c=l.height,u=n&&n("wrapper"),h=Object(g.i)(u),p=h.borderTop,f=h.paddingTop,v=h.borderBottom,b=h.paddingBottom;a((this.forceInsideHeight||0)+(p||0)+(v||0)+(f||0)+(b||0));var y=R.call(this,d,c),A=y.width,O=y.height;if(A<0||O<0)d>0&&(null==s||s({code:o.a.GENERAL_VPAID_ERROR,message:"FixedBoundariesUpdateStrategy.moduleResizeAd() slot has no width or height to show ad. failing to error."}));else if(e&&e()!==O||e&&r()!==A){this.logger.log("FixedBoundariesUpdateStrategy moduleResizeAd() resizeAd("+A+","+O+")"),i(0^A,0^O);var w=n("vpaidSlot");w&&Object(m.c)(w,{position:"relative",display:"inline-block",verticalAlign:"middle",width:Object(g.t)(A),height:Object(g.t)(O)})}},n.correctAdSize=function(t,e){var r=R.call(this,t,e);return{adWidth:r.width,adHeight:r.height}},i}(S);function R(t,e){var r=this.API,i=this.forceInsideWidth,o=this.forceInsideHeight,n=(r||{}).getWidthNode,a=n&&n(),s=a&&Object(g.i)(a).insideWidth;return i>s&&(o*=s/i,i=s),t>i&&(e*=i/t,t=i),e>o&&(t*=o/e,e=o),{width:t,height:e}}function M(){var t=this.forceInsideHeight;return{width:this.forceInsideWidth,height:t}}function x(){var t=(0,this.API.moduleAPI.getIndents)();return{widthFromStyle:t.widthFromStyle,heightFrmStyle:t.heightFrmStyle,outsideWrapperHeight:t.outsideHeight,insideWrapperHeight:t.insideHeight,outsideWrapperWidth:t.outsideWidth,insideWrapperWidth:t.insideWidth}}function N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function L(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?N(Object(r),!0).forEach((function(e){W(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var H="ContentRoll",z="Format[ContentRoll]",B={expandOnAdLoaded:!1,shouldStart:"beforeExpand",startMethod:"auto",playerDefaultClass:"vn-player",playerPlaybackClass:"vn-playback",playerExpandedClass:"vn-expanded",playerSelectorPercent:"100%",widthElement:null,playerElement:null,playerSelectorTotalMin:1,playerDesktopStartFactor:.6,playerDesktopStopFactor:.6,playerMobileStartFactor:.5,playerMobileStopFactor:.5,desktopMaxHeight:null,mobileMaxHeight:null,expandingDuration:150,waitScroll:!0,maxSegments:1,minSegments:0,minDistance:1,destroyTimeout:5e3,doNotWatchVisibility:!1,moduleAPI:{},showObservableNode:!1,forceEnableVerticalContent:!1,ignoreCreatePlayerElement:!1,needAfterCloseCompensation:!0,slotMargin:"auto"},U=0,q=0,G=function(t){var e,r;function i(e,r){var i,o;void 0===r&&(r={});var n=r&&r.ancestor&&r.ancestor+":"+z||"::Format[ContentRoll]",s=r&&r.moduleAPI&&r.moduleAPI.logger||a.a,l=(null==s||null===(i=s.getChildWriter)||void 0===i?void 0:i.call(s,z))||s;l.trace(n+".constructor()"),W(F(o=t.call(this,e,L({},B,{},{logger:l},{ancestor:n}))||this),"_addPlayerExpandedClass",(function(){var t=F(o),e=t.moduleNode,r=t.options.playerExpandedClass;r&&e.classList.add(r)})),W(F(o),"_removePlayerExpandedClass",(function(){var t=F(o),e=t.moduleNode,r=t.options.playerExpandedClass;r&&e.classList.remove(r)})),W(F(o),"_proceedToNextDefaultAd",(function(t){t&&(o._adHasBeenStarted=!1,o.logger.trace("Format[ContentRoll] @vnProceedToNextDefaultAd",2),o.module.isVpaidStartAdWasInvokedOnce&&o._getModuleVisibility().then(o._checkModuleState.bind(F(o))))})),o["Format[ContentRoll]"]=n,o._adHasBeenLoaded=!1,o._adHasBeenStarted=!1,o._updateStrategy=null,o.watchVisibility=null,o.wasExpanded=!1,o._adPausedPostponedCommand=null,o._showGridTimeoutId=null,r=ct.call(F(o),r),o.updateOptions(r);var d=F(o).options,c=d.playerDesktopStartFactor,u=d.playerDesktopStopFactor,h=d.playerMobileStartFactor,p=d.playerMobileStopFactor,g=d.mobileMaxHeight,f=d.desktopMaxHeight;o._startFactor=parseFloat(b.h?h:c),o._stopFactor=parseFloat(b.h?p:u),o._maxHeight=b.h?g:f,o._initNoAdElement(),o._initDOM();var v=o.options.moduleAPI||{},m=v.setControlData,y=v.addVPAIDEventListener;return m&&m("slot",{node:o.moduleInnerNode}),o.updateControlsLayout(),!0===r.withoutBottomBorder&&m&&m("bottomBorder",{node:null,enableWithVPAID:"true"}),o._addVPAIDEventListener(e,"vnProceedToNextDefaultAd",o._proceedToNextDefaultAd),y&&(y("slotSizeChanged",K.bind(F(o)),F(o)),y("vn_VideoSlotRemoved",Z.bind(F(o)),F(o)),y("AdPaused",(function(){o._adPausedPostponedCommand&&setTimeout((function(){o._adPausedPostponedCommand&&(o.logger.trace(o["Format[ContentRoll]"]+" @AdPaused calling _adPausedPostponeCommand="+o._adPausedPostponedCommand),o._adPausedPostponedCommand(),o._adPausedPostponedCommand=null)}),1)}),F(o)),y("AdDestroyed",et.bind(F(o)),F(o))),o}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.updateOptions=function(t){var e=this._adHasBeenLoaded,r=this._adHasBeenStarted,i=this.options.doNotWatchVisibility,o=(t||{}).expandOnAdLoaded;this.options=L({},this.options,{},t),this.options.waitScroll=Object(g.u)(this.options.waitScroll),this.options.expandOnAdLoaded=Object(g.u)(this.options.expandOnAdLoaded),this.options.needAfterCloseCompensation=Object(g.u)(this.options.needAfterCloseCompensation);var n=this.options.expandOnAdLoaded;i||!e||r||(o||!0!==n?!0!==o||n||this._watchTempObservableModuleNodeVisibility||(this._switchOffObservableCheckingToModuleNode(),this._switchOnObservableAdvancedNode()):(this._switchOffObservableAdvancedNode(),this._switchOnObservableCheckingToModuleNode()));var a=this.options.expandingDuration;this.expandingDuration=a&&parseFloat(a)||0},o.updateControlsLayout=function(t,e,r){void 0===t&&(t=25),void 0===e&&(e=!1),void 0===r&&(r=null),this.logger.trace(this["Format[ContentRoll]"]+" updateControlsLayout");var i=r||this.options.moduleAPI||{},o=i.setControlData,n=i.getControlNode,a=function(t){void 0===t&&(t=25);return{wrapper:{paddingTop:Object(g.t)(t)},skipAd:{top:Object(g.t)(t)},skipAdCountdown:{top:Object(g.t)(10+t)},title:{color:"gray"},logo:{top:0,right:0,bottom:"auto",left:"auto"},play:{top:Object(g.t)(t)},vnAfterplay:{marginTop:Object(g.t)(t)}}}(t);Object.keys(a).forEach((function(t){var r=Object(_.f)({},"css",a[t]);if(o&&o(t,r),e){var i=n&&n(t);i&&Object(m.c)(i,r&&r.css||{})}}))},o.setAdSizeForceChange=function(t,e){null==this||this._updateStrategy.setAdSizeForceChange(t,e)},o.getModuleOptions=function(){return{formatExpandingDuration:this.options.expandingDuration||0,isInsideTextContent:!0,vpaidJsVideoSlotShouldBeMuted:!0}},o.getSlotSize=function(){var t=this.moduleNode,e=(this.options||{}).moduleAPI.getAdAspectRatio,r=Object(g.i)(t),i=r.insideWidth;return{width:i,height:r.insideHeight||e&&i*e()||0}},o.waitBeforeLoadUrl=function(t){var e=document,r=e.body,i=e.documentElement,o=Math.max(r.scrollTop,i.scrollTop),n=document.documentElement.clientHeight,a=document.body.clientHeight,s=[],l=this.options,d=l.preloadDistance,c=l.waitScroll;return c&&(c=n<a),this.logger.trace(this["Format[ContentRoll]"]+".waitBeforeLoadUrl("+t+") waitScroll="+c+" scrollTop="+o+" preloadDistance="+d),c&&0===o&&s.push(this._requestDataXmlByScroll()),(void 0===d&&!c||c&&0!==o)&&(d=this.options.preloadDistance=1/0),void 0!==d&&s.push(this._waitForMinimumDistance()),Promise.race(s).then((function(e){return s.forEach((function(t){t.name!==e&&t.reject()})),t}))},o._vpaidInitAd=function(){this.logger.trace(this["Format[ContentRoll]"]+"._vpaidInitAd()");var e=this.options.moduleAPI||{},r=e.addVPAIDEventListener,i=e.extendEnvironmentVars,o=e.getControlNode,n=e.getControlInstance;i&&i({forceAspectRatio:!b.h}),this._switchOffAllObserves(),this.onAdLoadedHandler=r("AdLoaded",Y.bind(this),this),this.onAdStartedHandler=r("AdStarted",$.bind(this),this),this.onAdVideoStartHandler=r("AdVideoStart",tt.bind(this),this),this.onAdSizeChangeHandler=r("AdSizeChange",this._onAdSizeChange.bind(this),this),this.onVn_VPAIDCreatedHandler=r("vn_VPAIDCreated",J.bind(this),this),this.onAdVideoCompleteHandler=r("AdVideoComplete",this._clearEventsHandlers.bind(this),this),this.onVnVpaidAdErrorHandler=r("vnVpaidAdError",this._clearEventsHandlers.bind(this),this);var a=o("title"),s=o("logo","node");if(!(a&&"hidden"!==a.style.visibility&&"none"!==a.style.display||s&&"hidden"!==s.style.visibility&&"none"!==s.style.display)){var l=n("wrapper");l&&l.hideTopSpace()}return t.prototype._vpaidInitAd.call(this)},o._clearEventsHandlers=function(){ht.call(this,"AdLoaded","onAdLoadedHandler"),ht.call(this,"AdVideoStart","onAdVideoStartHandler"),ht.call(this,"AdStarted","onAdStartedHandler"),ht.call(this,"AdVideoComplete","onAdVideoCompleteHandler"),ht.call(this,"AdSizeChange","onAdSizeChangeHandler"),ht.call(this,"vnVpaidAdError","onVnVpaidAdErrorHandler"),ht.call(this,"vn_VPAIDCreated","onVn_VPAIDCreatedHandler")},o.getStartMethod=function(){return(this.options||{}).startMethod},o._initNoAdElement=function(){this.logger.trace(this["Format[ContentRoll]"]+".initNoAdElement()");var t=this.options.noAdElement;if(document.querySelector(t)){var e=new Error("Disabled by noAdElement ("+t+")");throw e.fatal=!0,e}},o.getAnchorElement=function(){return this.anckorElement},o._initDOM=function(){var t=this;this.logger.trace(this["Format[ContentRoll]"]+".initDOM()");var e=this.options,r=this.options,i=r.forceEnableVerticalContent,o=r.moduleAPI,n=r.showObservableNode,a=r.moduleAPI,s=a.getOptions,l=(a.getMainModuleId,a.getControlNode),d=s().initScriptParentNode,c=e.lookupElement,u=e.scrollElement,h=e.widthElement,p=e.minSegments,f=e.maxSegments,v=e.minDistance,b=e.slotBackground,y=e.slotMargin,A=window.innerHeight,w=this.lookupNode=Object(m.k)(c)||document.body,_=w.offsetHeight/(A*v);if(_<p)throw new Error(this["Format[ContentRoll]"]+" lookupNode height/segments factor ("+_.toFixed(2)+"vh) is not enough, minimum "+parseFloat(p).toFixed(2)+"vh required");if(!f)throw new Error(this["Format[ContentRoll]"]+" maxSegments is 0");var S=O(L({},e,{lookupNode:w,initScriptParentNode:d}),""+this),P=S.moduleNode,j=S.moduleInnerNode,E=S.elementNode,D=S.beforeNode,I=S.afterNode,V=S.widthNode,k=S.boundariesExists,R=S.insideIframe;(this.anckorElement=E||D||I,Object(m.c)(P,{position:"relative",zIndex:0,backgroundColor:b,margin:y,boxSizing:k?"border-box":"content-box"}),this.moduleNode=this._addDOMNode(P),this.moduleInnerNode=this._addDOMNode(j),this.widthNode=Object(m.k)(h)||V||P.parentNode,this.scrollNode=Object(m.k)(u)||window,w&&w!==document.body)&&("static"===getComputedStyle(w).position&&(w.style.position="relative"));if(this.insideIframe=R,this.boundariesExists=k,!this._updateStrategy){var M={isIframe:R,forceEnableVerticalContent:i,showObservableNode:n,logger:this.logger,API:{moduleAPI:o,getWidthNode:this._getWidthNode.bind(this),getModuleNodeSize:it.bind(this),isAdHasBeenStarted:function(){return t._adHasBeenStarted},getModuleNode:function(){return t.moduleNode},getOptions:function(){return L({},t.options)}}},x=ut.call(this);x&&(M.forceHeight=x),this._updateStrategy=k?new C(M):new T(M)}var N=w||document.body;this.observerForParent=new MutationObserver((function(){var e=N.clientHeight;void 0!==t.prevParentHeight&&e===t.prevParentHeight||(t.logger.trace("Format[ContentRoll].MutationObserver() for lookup "+Object(g.f)(N)+".parentHeight="+e+" prevDocumentHeight="+t.prevParentHeight),t._updateObservableAdvancedNodePosition(!1),n&&(clearTimeout(t._showGridTimeoutId),t._showGridTimeoutId=setTimeout(ot.bind(t,t._tempObservableModuleNode||l("container")||P),1))),t.prevParentHeight=e}));this.observerForParent.observe(N,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),P.clientWidth||(this.logger.warn(this["Format[ContentRoll]"]+"._initDOM() looks like module has been inserted inside invisible block."),rt.call(this))},o._requestDataXmlByScroll=function(t){var e=this;void 0===t&&(t=this),this.logger.trace(this["Format[ContentRoll]"]+".requestDataXmlByScroll()");var r=function(){},i=function(){},o="byScroll",n=this.scrollNode,a=function r(){e.logger.trace(e["Format[ContentRoll]"]+" Watching for scroll is finished"),t._removeDOMEventListener(n,"scroll",r),i(o)},s=new Promise((function(o,s){e.logger.trace(e["Format[ContentRoll]"]+" Waiting for scroll"),r=s,i=o,t._addDOMEventListener(n,"scroll",a)}));return s.catch((function(){e.logger.trace(e["Format[ContentRoll]"]+" Waiting for scroll was rejected"),t._removeDOMEventListener(n,"scroll",a)})),Object(_.g)(s,{name:o,reject:r})},o._waitForMinimumDistance=function(t,e){var r=this;void 0===t&&(t=this.options.preloadDistance),void 0===e&&(e=this),this.logger.trace(this["Format[ContentRoll]"]+".waitForMinimumDistance()");var i=function(){},o=function(){},n="byPreloadDistance",a=this.scrollNode,s=function o(){var s=r._getModuleDimensions(),l=s.viewportHeight,d=s.moduleTop,c=d-l;r.logger.none("_waitForMinimumDistance distance="+c+" moduleTop="+d+" viewportHeight="+l+" preloadDistance="+t),c<=t&&(r.logger.trace(r["Format[ContentRoll]"]+" Minimum distance "+t+"px reached"),e._removeDOMEventListener(a,"scroll",o),i(n))},l=new Promise((function(n,l){r.logger.trace(r["Format[ContentRoll]"]+" Waiting for minimum distance "+t+"px"),o=l,i=n,e._addDOMEventListener(a,"scroll",s),s()}));return l.catch((function(){r.logger.trace(r["Format[ContentRoll]"]+" Waiting for minimum distance was rejected"),e._removeDOMEventListener(a,"scroll",s)})),Object(_.g)(l,{name:n,reject:o})},o.hasReachInventoryFactory=function(){return!0},o.getReachInventoryFactory=function(){var t=this.scrollNode,e=this.moduleNode;return this.options.doNotWatchVisibility?null:this._createReachInventoryFactory(t,e)},o._createReachInventoryFactory=function(t,e){var r=this.options,i=r.showObservableNode,o=r.doNotWatchVisibility,n=r.moduleAPI.getMainModuleId,a=n&&n();if(this.logger.trace(this["Format[ContentRoll]"]+"._createReachInventoryFactory() moduleNode="+e+" doNotWatchVisibility="+o,2,"brown"),o)return null;var s=("vn-visible-inventory-mark_"+this+"_"+U+++" vn-module__"+a).replace(/\s+/g,"-").replace(/(\[|])/g,"_"),l=document.createElement("div");l.className=s,!0===i&&Object(m.c)(e,{outlineWidth:"1px",outlineColor:"#4080ff",outlineStyle:"solid"}),e.parentElement.insertBefore(l,e);var d=null;return{id:s,waiterCreator:function(){return new Promise((function(e){d=Object(g.y)(l,{threshold:[0,1e-4,.1,.999,1],registerHandle:function(e){var r="scroll";return t&&t.addEventListener(r,e),{handler:e,event:r,scrollNode:t}}},(function(t){t.intersectionRatio>0&&(d&&d.disconnect&&d.disconnect(),d=null,e())}))}))},destroy:function(){d&&d.disconnect&&d.disconnect(),Object(m.t)(l)},markNode:l,moduleNode:e}},o._getModuleDimensions=function(){var t=this.scrollNode,e=this.moduleNode;return Object(g.k)(t,e)},o._getWidthNode=function(){return this.widthNode},o._updateModuleNodeSize=function(t){void 0===t&&(t=!1),this.logger.trace(this["Format[ContentRoll]"]+".updateModuleNodeSize()");var e=this._updateStrategy.updateModuleNodeSize(t);return this._resetObservableNodes(),e},o._updateModuleSize=function(){this.logger.trace(this["Format[ContentRoll]"]+"._updateModuleSize()");var t=this.boundariesExists,e=this.moduleNode,r=this.options,i=r.forceEnableVerticalContent,o=r.moduleAPI,n=o.getAdAspectRatio,a=o.getControlNode,s=this._getWidthNode();if(s){var l,d=n&&n();t&&(l=s.clientHeight/s.clientWidth),!b.h&&d>1&&!i&&!l&&(d=9/16),this._moduleResizeAd(s,d);var c=this._watchTempObservableModuleNodeVisibility;this.options.showObservableNode&&!c&&(this.logger.none("._updateModuleSize() showGrid"),clearTimeout(this._showGridTimeoutId),this._showGridTimeoutId=setTimeout(ot.bind(this,a("container")||e),1))}else this.logger.warn(this["Format[ContentRoll]"]+"._updateModuleSize() Invalid widthNode ("+s+")")},o._moduleResizeAd=function(t,e){return this._updateStrategy.moduleResizeAd(e)},o._updateModuleState=function(){this._getModuleVisibility().then(this._checkModuleState.bind(this))},o._checkModuleState=function(t){var e=this,r=t.intersectionRatio,i=t.moduleSquare,o=t.boundingClientRect,n=t.screenSquare;this.logger.trace(this["Format[ContentRoll]"]+"._checkModuleState() moduleSquare="+i+" intersectionRatio="+r,1);var a=this.options,s=a.expandOnAdLoaded,l=a.doNotWatchVisibility;if(null!==n){!i&&r&&(r=0);var d=this.options.moduleAPI,c=d.addVPAIDEventListener,u=d.inState;this._applyModuleState({intersectionRatio:r,moduleSquare:i,boundingClientRect:o,screenSquare:n})?l||s||(u("started")?this._onStartedCheck():c("AdVideoStart",(function(){return e._onStartedCheck()}))):this._watchTempObservableModuleNodeVisibility&&u(["playing","pausing","paused"])&&this._onStartedCheck()}else this.logger.trace(this["Format[ContentRoll]"]+"._checkModuleState() screenSquare="+n+" intersectionRatio="+r+" - do not pay attention to this case, do nothings.",2,"pink")},o._onStartedCheck=function(){var t=this,e=this.options,r=e.expandingDuration,i=e.moduleAPI,o=i.addVPAIDEventListener,n=i.removeVPAIDEventListener;this._addTimeout("_checkModuleState_AdVideoStart",(function(){t._switchOffObservableAdvancedNode(),t.logger.none(t["Format[ContentRoll]"]+"._checkModuleState() @AdVideoStart _switchOffObservableAdvancedNode() & _switchOnObservableCheckingToModuleNode()",1);var e=o("slotSizeChanged",(function(){return i("slotSizeChanged")}),t),r=setTimeout((function(){return i("timeout")}),50),i=function(i){n("slotSizeChanged",e,t),clearTimeout(r),t.logger.trace(t["Format[ContentRoll]"]+"._checkModuleState() @AdVideoStart call _switchOnObservableCheckingToModuleNode() reason is "+i),t._switchOnObservableCheckingToModuleNode()}}),r)},o._applyModuleState=function(t){var e=t.intersectionRatio,r=t.moduleSquare,i=t.boundingClientRect;this.logger.none(this["Format[ContentRoll]"]+"._applyModuleState() intersectionRatio="+e+" moduleSquare="+r,1);var o=this._applyModuleStateCheckStartAd({intersectionRatio:e,moduleSquare:r,boundingClientRect:i});return this._applyModuleStateCheckPausedAndPlaying({intersectionRatio:e,moduleSquare:r,boundingClientRect:i}),o},o._applyModuleStateCheckStartAd=function(t){var e=this,r=t.intersectionRatio,i=this._startFactor,o=this.options,n=o.shouldStart,a=o.startMethod,s=o.expandOnAdLoaded,l=o.expandingDuration,d=o.moduleAPI,c=d.addVPAIDEventListener,u=d.removeVPAIDEventListener,h=d.startAd,p=d.inState,g=[p("loaded"),p("waitStarting"),p("starting")],f=g[0],v=g[1],m=g[2],b=!1,y=n.toLowerCase(),A="afterexpand"===y,O="beforeexpand"===y,w="manual"===a;if(this.logger.none(this["Format[ContentRoll]"]+"._applyModuleStateCheckStartAd() intersectionRatio="+r+" _startFactor="+i+" shouldStart="+n+" waitStarting="+v+" loaded="+f+" startMethod="+a,1,"blue"),f&&s&&!this.wasExpanded){this.wasExpanded=!0,this._addPlayerExpandedClass(),O&&h&&h(),this._updateModuleNodeSize(!0);var _=c("AdVideoStart",(function(){u("AdVideoStart",_),setTimeout((function(){return e._updateModuleState()}),l)}));A&&h&&h(),b=!0}return r>=i&&(f&&!w&&(A||O)||w&&v)&&(A&&this._updateModuleNodeSize(!0),h&&h(),b=!0),b||m},o._applyModuleStateCheckPausedAndPlaying=function(t){var e=t.intersectionRatio,r=this._startFactor,i=this._stopFactor,o=this.options.moduleAPI,n=o.resumeAd,a=o.pauseAd,s=o.inState,l=[s("paused"),s("pausing"),s("playing"),s("resuming")],d=l[0],c=l[1],u=l[2],h=l[3];this.logger.trace(this["Format[ContentRoll]"]+"._applyModuleStateCheckPausedAndPlaying inState(paused)="+d+" intersectionRatio="+e+" inState(playing)="+u+" inState(resuming)="+h,2,"pink"),e>=r&&(d?(this._adPausedPostponedCommand=null,n&&n()):c&&(this._adPausedPostponedCommand=function(){return n()})),u&&e<i&&(this._adPausedPostponedCommand=null,a&&a())},o.hide=function(){this._closeModule()},o._closeModule=function(t){void 0===t&&(t={});var e=((this.options||{}).moduleAPI||{}).addVPAIDEventListener,r=this._needAfterCloseCompensation()&&!0!==t.noCompensation;if(this.logger.trace(this["Format[ContentRoll]"]+"._closeModule()"),this._removePlayerExpandedClass(),!this._moduleWasClosed){this._moduleWasClosed=!0,this._removeEventListeners(),e&&e("AdDestroyed",et.bind(this),this);var i=this.moduleNode,o=this.observerForParent;o&&o.disconnect&&o.disconnect(),setTimeout(nt.bind(this),1);var n=r&&at.call(this);Object(m.c)(i,{height:0,margin:0,border:0,padding:0}),n&&st.call(this,n)}},o._getWatchVisibilityThreshold=function(){var t=this._startFactor,e=this._stopFactor,r=[];return t>=0&&r.push(t),e>=0&&t!==e&&r.push(e),r.length&&(0!==t&&0!==e&&r.push(0),1!==t&&1!==e&&r.push(1)),r.sort()},o._destroy=function(){this.logger.trace(this["Format[ContentRoll]"]+"._destroy()");var e=this.watchVisibility,r=this._watchModuleNodeNodeVisibility,i=this._watchTempObservableModuleNodeVisibility,o=this._moduleNodeObservable;e&&e.disconnect&&e.disconnect(),this.watchVisibility=null,r&&r.disconnect&&r.disconnect(),this._watchModuleNodeNodeVisibility=null,i&&i.disconnect&&i.disconnect(),this._watchTempObservableModuleNodeVisibility=this,o&&o.disconnect&&o.disconnect(),this._moduleNodeObservable=null;var n=this._needAfterCloseCompensation()&&at.call(this);t.prototype._destroy.call(this),n&&st.call(this,n),this.logger.log(this["Format[ContentRoll]"]+"._destroy() Destroyed")},o._needAfterCloseCompensation=function(){var t=this.boundariesExists;return(this.options||{}).needAfterCloseCompensation&&!t},o.abort=function(){this.logger.trace(this["Format[ContentRoll]"]+".abort()"),this._closeModule({noCompensation:!0})},o._switchOnObservableAdvancedNode=function(){var t=this.options,e=t.showObservableNode,r=t.doNotWatchVisibility,i=t.moduleAPI.getMainModuleId;if(!this._tempObservableModuleNode&&!r){this.logger.trace(this["Format[ContentRoll]"]+"._switchOnObservableAdvancedNode()");var o=this._createObservableAdvancedNode(),n=o.node,a=o.watcher;n&&window.document.body.appendChild(n),this._tempObservableModuleNode=this._addDOMNode(n),this._tempObservableModuleNode.className=("vn-start-mark_"+this+"_"+q+++" vn-module__"+(i&&i())).replace(/\s+/g,"-").replace(/(\[|])/g,"_"),this._watchTempObservableModuleNodeVisibility=a,e&&(clearTimeout(this._showGridTimeoutId),this._showGridTimeoutId=setTimeout(ot.bind(this,n),1))}},o._createObservableAdvancedNode=function(){var t=this.scrollNode,e=this.options.showObservableNode;this.logger.trace(this["Format[ContentRoll]"]+"._createObservableAdvancedNode()");var r=Object(m.e)("div",{top:-9999,left:-9999,height:0,width:0,position:"absolute",zIndex:"-1",opacity:0});!0===e&&Object(m.c)(r,{outlineWidth:"1px",outlineColor:"red",outlineStyle:"solid",opacity:1,zIndex:1}),r.classList.add("vn-observable-advanced-node"),this._updateObservableAdvancedNodePosition(!1,r);var i=Object(g.y)(r,{threshold:this._getWatchVisibilityThreshold(),registerHandle:function(e){var r="scroll";return t&&t.addEventListener(r,e),{handler:e,event:r,scrollNode:t}}},this._checkModuleState.bind(this));return e&&(clearTimeout(this._showGridTimeoutId),this._showGridTimeoutId=setTimeout(ot.bind(this,r),1)),{watcher:i,node:r}},o._updateObservableAdvancedNodePosition=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=null);var r=this._tempObservableModuleNode,i=this.options,o=i.showObservableNode,n=i.moduleAPI.getControlNode;if(e||(e=r),!Object(m.p)(e))return null;var a,s,l=n&&n("wrapper"),d=n&&n("vpaidSlot")||l;if(!d)return null;var c=d&&Object(g.i)(d)||{};if(c.offsetHeight){var u=c.offsetHeight,h=c.offsetWidth,p=c.marginLeft,f=c.marginRight;s=u+(c.marginTop||0)+(c.marginBottom||0),a=h+(p||0)+(f||0),this.logger.trace(this["Format[ContentRoll]"]+"._updateObservableAdvancedNodePosition() height="+s+" width="+a)}if(!s){var v=it.call(this),b=v.width,y=v.height;!s&&(s=y),!a&&(a=b),this.logger.trace(this["Format[ContentRoll]"]+"._updateObservableAdvancedNodePosition() videoContainer и wrapper не смогли получить nodeHeight="+y+" nodeWidth="+b)}var A=Object(m.h)(d),O={top:Object(g.t)(window.scrollY<A.top?A.top:A.top-s),left:Object(g.t)(A.left),height:Object(g.t)(s),width:Object(g.t)(a),pointerEvents:"none"};return this.logger.trace("Format[ContentRoll]._updateObservableAdvancedNodePosition() ("+JSON.stringify(O,null,"\t")+")"),Object(m.c)(e,O),t&&o&&(clearTimeout(this._showGridTimeoutId),this._showGridTimeoutId=setTimeout(ot.bind(this,e),1)),e},o._getModuleVisibility=function(t){var e=this;void 0===t&&(t=0);var r=this._watchTempObservableModuleNodeVisibility,i=this._tempObservableModuleNode,o=this.moduleNode,n=this.options.moduleAPI,a=n.getVideoSlot,s=n.getControlNode,l=a(),d=(l||{}).style,c=d&&"hidden"!==d.display&&l.clientHeight&&l||s("container")||o,u=[];return r&&i&&u.push(Object(g.o)(i)),c&&u.push(Object(g.o)(c)),Promise.all(u).then((function(r){if(e.logger.trace(e["Format[ContentRoll]"]+"._getModuleVisibility() promises.length="+u.length+" counter="+t+" values.length="+r.length+" [0].intersectionRatio="+r[0].intersectionRatio+" [0].moduleSquare="+r[0].moduleSquare+" [1].intersectionRatio="+(r.length>1&&r[1].intersectionRatio)+" [1].moduleSquare="+(r.length>1&&r[1].moduleSquare),1,"brown"),r.length<2)return e.logger.none(e["Format[ContentRoll]"]+"._getModuleVisibility() values.length="+r.length+" RETURN "+r[0],1,"brown"),r[0];var i=r.filter((function(t){return t.intersectionRatio}));if(e.logger.none(e["Format[ContentRoll]"]+"._getModuleVisibility() positiveRatios.length="+i.length,1,"brown"),t<3&&!r[0].intersectionRatio&&r[1].intersectionRatio&&!r[1].moduleSquare)return e.logger.log(e["Format[ContentRoll]"]+"._getModuleVisibility() RECURSION",1,"brown"),e._getModuleVisibility(t+1);var o=i.reduce((function(t,e){return!t||e.intersectionRatio>t.intersectionRatio?e:t}),null);return i.length?o:r[0]}))},o._onAdSizeChange=function(){this.logger.trace(this["Format[ContentRoll]"]+" @AdSizeChange"),this._updateModuleNodeSize()},o._resetObservableNodes=function(){this.logger.trace(this["Format[ContentRoll]"]+".resetObservableNodes()) this._tempObservableModuleNode="+this._tempObservableModuleNode+" this.watchVisibility="+this.watchVisibility),this.watchVisibility?(this._switchOffObservableAdvancedNode(),this._switchOffObservableCheckingToModuleNode(),this._switchOnObservableCheckingToModuleNode()):this._tempObservableModuleNode&&(this._switchOffObservableCheckingToModuleNode(),this._switchOffObservableAdvancedNode(),this._switchOnObservableAdvancedNode()),window.IntersectionObserver||this._updateModuleState()},o._switchOffAllObserves=function(){this.watchVisibility?(this._switchOffObservableAdvancedNode(),this._switchOffObservableCheckingToModuleNode()):this._tempObservableModuleNode&&(this._switchOffObservableCheckingToModuleNode(),this._switchOffObservableAdvancedNode())},o._switchOffObservableAdvancedNode=function(){this.logger.trace(this["Format[ContentRoll]"]+".switchOffObservableAdvancedNode()"),this._watchTempObservableModuleNodeVisibility&&this._watchTempObservableModuleNodeVisibility.disconnect&&this._watchTempObservableModuleNodeVisibility.disconnect(),this._tempObservableModuleNode&&(this._tempObservableModuleNode.remove(),this._tempObservableModuleNode=null),this._watchTempObservableModuleNodeVisibility=null},o._getNodeForObservableChecking=function(){var t=this.moduleNode,e=this.options.moduleAPI,r=e.getVideoSlot,i=e.getControlNode;return r()||i("vpaidSlot")||t},o._switchOnObservableCheckingToModuleNode=function(){var t=this.scrollNode,e=this.options,r=e.showObservableNode,i=e.doNotWatchVisibility;if(this.logger.trace(this["Format[ContentRoll]"]+"._switchOnObservableCheckingToModuleNode()"),!this.watchVisibility&&!i){var o=this._getNodeForObservableChecking();!0===r&&(Object(m.c)(o,{outlineWidth:"1px",outlineColor:"green",outlineStyle:"solid"}),this.logger.none("._switchOnObservableCheckingToModuleNode() showGrid")),this.watchVisibility=Object(g.y)(o,{threshold:this._getWatchVisibilityThreshold(),registerHandle:function(e){var r="scroll";return t&&t.addEventListener(r,e),{handler:e,event:r,scrollNode:t}}},this._checkModuleState.bind(this)),r&&(clearTimeout(this._showGridTimeoutId),this._showGridTimeoutId=setTimeout(ot.bind(this,o),1))}},o._switchOffObservableCheckingToModuleNode=function(){var t=this.watchVisibility,e=this.moduleNode,r=this.options.showObservableNode;t&&(!0===r&&Object(m.c)(e,{outlineWidth:"0",outlineColor:"none",outlineStyle:"none"}),t&&t.disconnect&&t.disconnect(),this.watchVisibility=null)},o.correctAdSize=function(t,e){return this._updateStrategy.correctAdSize(t,e)},o.getModuleNode=function(){return this.moduleNode},o.toString=function(){return z},o.getBaseName=function(){return H.toLowerCase()},i}(p);function X(){this._adHasBeenLoaded&&(this.logger.trace(this["Format[ContentRoll]"]+" @resize"),this._updateModuleNodeSize(),this._updateModuleSize())}function J(t){var e=this,r=t.vpaid;if(!r){var i,o,n=null==this||null===(i=this.options)||void 0===i||null===(o=i.moduleAPI)||void 0===o?void 0:o.getVpaid;r=n&&n()}(r&&r.getFormatOptions&&r.getFormatOptions()||Promise.resolve({})).then((function(t){return t&&e.updateOptions(t),!0})).then((function(){var t=(e.options||{}).setSizeByMedia;if(Object(g.u)(t)){var i=r&&r.getMediaInfo();if(!i)return;i.then((function(r){var i=r||{},o=i.width,n=i.height;if(o&&n&&(!e._updateStrategy||!(e._updateStrategy instanceof k))){var a=e.options,s=a.forceEnableVerticalContent,l=a.moduleAPI,d={width:o,height:n,forceEnableVerticalContent:s,showObservableNode:a.showObservableNode,expandingDuration:a.expandingDuration,logger:e.logger,API:{moduleAPI:l,getWidthNode:e._getWidthNode.bind(e),getModuleNodeSize:it.bind(e),isAdHasBeenStarted:function(){return e._adHasBeenStarted},getModuleNode:function(){return e.moduleNode},getOptions:function(){return L({},e.options)}}};e._updateStrategy=new k(d),e._updateModuleSize(),e._updateModuleNodeSize()||e._resetObservableNodes(),e.logger.log(e["Format[ContentRoll]"]+" onVPAIDCreated() call trigger('vn_FormatChanged') setSizeByMedia="+t);var c=(l||{}).trigger;c&&c("vn_FormatChanged")}}))}else{e.logger.log(e["Format[ContentRoll]"]+" onVPAIDCreated() setSizeByMedia="+t);var o=e._updateStrategy;if(o){var n=ut.call(e);n&&o.setForceHeight(n)&&e._updateModuleSize()}}}))}function Q(){var t=this.options.moduleAPI,e=t.inState,r=t.pauseAd,i=document.visibilityState;this.logger.trace(this["Format[ContentRoll]"]+" @visibilitychange ("+i+")",2),"hidden"===i?e&&e("playing")&&r&&r({invoker:this,method:"onVisibilityChange"}):this._updateModuleState()}function Y(){this.logger.trace(this["Format[ContentRoll]"]+" @AdLoaded",2);var t=this.moduleNode,e=this.options,r=e.expandOnAdLoaded,i=e.expandingDuration,o=e.doNotWatchVisibility;ht.call(this,"AdLoaded","onAdLoadedHandler"),this._adHasBeenLoaded=!0,this._addDOMEventListener(window,"resize",X.bind(this)),this._addDOMEventListener(document,"visibilitychange",Q.bind(this),!1),i>0&&Object(m.c)(t,{transitionProperty:"width, height",transitionDuration:i+"ms",transitionTimingFunction:"ease-out"}),o||(r?(this._switchOnObservableCheckingToModuleNode(),this._updateModuleSize(),this._updateModuleNodeSize(),this._updateModuleState()):(this._updateModuleSize(),this._switchOnObservableAdvancedNode()))}function Z(){var t=this;this.logger.trace(this["Format[ContentRoll]"]+". @vn_VideoSlotRemoved",2,"pink"),setTimeout((function(){return t._resetObservableNodes()}))}function K(t){var e=this;void 0===t&&(t={});var r=this._adVideoWasStarted,i=this.options.moduleAPI,o=i.getIndents,n=i.addVPAIDEventListener,a=i.removeVPAIDEventListener,s="";try{s=t&&JSON.stringify(t,null,2)}catch(t){}this.logger.trace(this["Format[ContentRoll]"]+"  q@slotSizeChanged forceSize="+s+" _adVideoWasStarted="+r,2),o().paddingTop||this.updateControlsLayout(0,!0),void 0!==t.height&&(this.forceHeight=t.height),void 0!==t.width&&(this.forceWidth=t.width),!0!==t.shouldNotResize&&(!0===r?(this.logger.trace(this["Format[ContentRoll]"]+" @slotSizeChanged invoke onResize() _adVideoWasStarted="+r,2),X.call(this)):this._AdVideoStartResizeHandler||(this._AdVideoStartResizeHandler=n("AdVideoStart",(function(){e.logger.trace(e["Format[ContentRoll]"]+" @slotSizeChanged awaited @AdVideoStart invoke onResize() _adVideoWasStarted="+r,2),X.call(e),a("AdVideoStart",e._AdVideoStartResizeHandler,e),e._AdVideoStartResizeHandler=null}),this)))}function $(){this.logger.trace(this["Format[ContentRoll]"]+" @AdStarted",2),this._adHasBeenStarted=!0,ht.call(this,"AdStarted","onAdStartedHandler"),this._updateModuleSize(),this._updateModuleNodeSize(),this._addPlayerExpandedClass(),this._updateModuleState()}function tt(){var t=this,e=this.moduleNode,r=this.options,i=r.playerPlaybackClass,o=r.expandingDuration,n=r.moduleAPI.inState;!n||n("started")?(this.logger.trace(this["Format[ContentRoll]"]+" @AdVideoStart",2),ht.call(this,"AdVideoStart","onAdVideoStartHandler"),i&&e.classList.add(i),setTimeout((function(){t._updateModuleNodeSize(),t._updateModuleState()}),o)):!this._adVideoWasStarted&&(this._adVideoWasStarted=n&&n("playing"))}function et(){var t=this,e=(this.options||{}).destroyTimeout;this.logger.trace(this["Format[ContentRoll]"]+" @AdDestroyed. "+this["Format[ContentRoll]"]+"._destroy() will be called after "+e+" ms",2),this._closeModule(),setTimeout((function(){return t._destroy()}),e)}function rt(){var t=this,e=this.moduleNode,r=this.scrollNode;if(!window.IntersectionObserver&&window.MutationObserver){var i=function(t){for(t=t&&t.parentElement;;t=t.parentElement){if(!t)return null;if(s(t))return t}}(e);if(i){this.logger.log(this["Format[ContentRoll]"]+".initVisibleWatcher() can not use IntersectionObserver, but invisible parent block was found and we use MutationObserver to catch the moment when it becomes visible.");var o=new MutationObserver((function(){s(i)||(o.disconnect(),setTimeout(a.bind(t),1))}));o.observe(i,{attributes:!0})}else this.logger.warn(this["Format[ContentRoll]"]+".initVisibleWatcher() can not use IntersectionObserver and invisible parent block was not found")}this.logger.log(this["Format[ContentRoll]"]+".initVisibleWatcher() watch module visibility.");var n=this._watchModuleNodeNodeVisibility=Object(g.y)(e,{threshold:[.1,1],registerHandle:function(e){var i="scroll";return r&&r.addEventListener(i,e),{handler:e,event:i,scrollNode:t.scrollNode}}},(function(e){var r=e.intersectionRatio,i=e.boundingClientRect;r>0&&(!i||i.right-i.left>0)&&(n&&n.disconnect&&n.disconnect(),setTimeout(a.bind(t),1))}));function a(){var t=this,r=this.options.moduleAPI.getControlNode;if(e.clientWidth){this.logger.log(this["Format[ContentRoll]"]+".initVisibleWatcher() module is visible now. Changing its size",2,"green");var i=r&&r("wrapper"),o=(i&&Object(g.i)(i)||{}).paddingTop;this.updateControlsLayout(o||25,!0),this._updateModuleSize(),this._updateModuleNodeSize(!0),this._tempObservableModuleNode&&(this._switchOffObservableAdvancedNode(),this._switchOnObservableAdvancedNode()),this._getModuleVisibility().then((function(e){e.intersectionRatio&&setTimeout((function(){t._updateModuleState()}),100)}))}else this._addTimeout("watchModuleNodeNodeVisibilityTimerId",a.bind(this),100)}function s(t){var e=getComputedStyle(t)||{};return t.hidden||"none"===e.display||"hidden"===e.visibility}}function it(){var t=this.forceHeight,e=this.moduleNode,r=this.options,i=r.forceEnableVerticalContent,o=r.moduleAPI,n=o.getAdAspectRatio,a=o.getAdWidth,s=n&&n(),l=e.clientWidth||a();return{width:l,height:t||s&&l&&l*(!b.h&&s>1&&!i?9/16:s)}}function ot(t){if(Object(m.p)(t)&&(this.logger.none(this["Format[ContentRoll]"]+".showGrid()"),!this._moduleWasClosed)){var e=t.getBoundingClientRect();if(e.height){nt.call(this);var r=this._startFactor,i=this._stopFactor,o=this.options.moduleAPI,n=o.getMainModuleId,a=o.getControlNode,s=o.getVideoSlot,l=0,d=0,c=a("container"),u=s();if(t===c||t===u){var h=a("iframe");if(h){var p=h.getBoundingClientRect();l=p.top,d=p.left}}var f=n&&n(),v=2147483647;if(!this.grid||!this.grid.length){var b={height:"1px",borderTopWidth:"1px",position:"absolute",pointerEvents:"none",zIndex:v};this.grid=[];var y=e.height,A=Object(m.b)(window.document.body,"div",L({},b,{height:y,borderTopColor:"yellow",borderTopStyle:"dashed"}));A.className="vn-grid-frame vn-module__"+f,this.grid.push({pos:0,line:A});for(var O=.1;O<1;O=(100*(O+.1)^0)/100)if(O!==r&&O!==i){var w=Object(m.b)(window.document.body,"div",L({},b,{borderTopColor:"yellow",borderTopStyle:.5===O?"dashed":"dotted"}));w.className="vn-grid-"+O+" vn-module__"+f,this.grid.push({pos:O,line:w})}if(r){var _=Object(m.b)(window.document.body,"div",L({},b,{borderTopColor:"red",borderTopStyle:"solid",zIndex:v+1}));_.className="vn-grid-start-factor-"+r+" vn-module__"+f,this.grid.push({pos:r,line:_})}if(i){var S=Object(m.b)(window.document.body,"div",L({},b,{borderTopColor:"pink",borderTopStyle:"dashed",zIndex:v+2}));S.className="vn-grid-stop-factor-"+i+" vn-module__"+f,this.grid.push({pos:i,line:S})}}var P=this.grid,C=e.width,j=e.height,E="relative"===getComputedStyle(window.document.body).position?Object(g.i)(window.document.body):{marginLeft:0,marginTop:0,borderTopWidth:0,borderLeftWidth:0},D=E.marginLeft,I=E.marginTop,T=E.borderTopWidth,V=E.borderLeftWidth,k=window.document.documentElement.getBoundingClientRect();this.logger.none(this["Format[ContentRoll]"]+".showGrid() drawing...");for(var R=0;R<P.length;R++){var M=P[R],x=M.pos,N=M.line;N&&Object(m.c)(N,{top:Object(g.t)(e.top-k.top-I-T+x*j+l),left:Object(g.t)(e.left-k.left-D-V+d),width:Object(g.t)(C)})}}}}function nt(){var t=this.grid;if(t)for(this.logger.none(this["Format[ContentRoll]"]+".clearGrid()");t&&t.length;){var e=t.pop();if(!e)return;var r=e.line;Object(m.t)(r)}}function at(){var t=this.moduleNode,e=this.options.showObservableNode;if(!t)return null;var r=lt.call(this);return r&&r.element?(e&&(r.element.style.backgroundColor="pink"),this.logger.trace(this["Format[ContentRoll]"]+"._closeModule() markTop = "+r.top+" markBottom = "+r.bottom)):this.logger.trace(this["Format[ContentRoll]"]+"._closeModule() correction position: mark element not found",1,"#d2691e"),r}function st(t,e){var r=this;void 0===e&&(e=10),setTimeout((function(){var i=(r.moduleNode||{}).clientHeight;if(r.logger.trace(r["Format[ContentRoll]"]+".attemptCompensation() counter="+e),!e&&i)r.logger.trace(r["Format[ContentRoll]"]+".attemptCompensation() not found moment for compensation");else if(e&&i)st.call(r,t,e-1);else{var o=t.top,n=t.bottom,a=t.element,s=o?a.getBoundingClientRect().top-o:n?a.getBoundingClientRect().bottom-n:0;s&&window.scrollBy(0,s),r.logger.trace(r["Format[ContentRoll]"]+".attemptCompensation() compensation="+s+" counter="+e)}}),20)}function lt(){for(var t=this.moduleNode.getBoundingClientRect().bottom,e=document.documentElement,r=e.clientWidth,i=e.clientHeight,o=r/10,n=(i-t)/10,a=o;a<r-o;a+=o)for(var s=t+5;s<i;s+=n){var l=dt(t,document.elementFromPoint(a,s));if(l)return l}return!1}function dt(t,e){if(!e)return null;var r=document.documentElement.clientHeight,i=(getComputedStyle(e)||{}).position;if("absolute"===i||"fixed"===i)return null;var o=e.getBoundingClientRect(),n=o.top,a=o.bottom;return n>0&&n>t&&n<r?{element:e,top:n}:a>0&&a>t&&a<r?{element:e,bottom:a}:null}function ct(t){void 0===t&&(t={});var e=Object(w.h)(Object(g.j)(window,document))||{},r=e.expandOnAdLoaded,i=e.shouldStart,o=e.showObservableNode,n=e.expandingDuration;return void 0!==n&&(t.expandingDuration=n),o&&(t.showObservableNode=Object(g.u)(o)),i&&i.length&&(t.shouldStart=i),r&&(t.expandOnAdLoaded=Object(g.u)(r)),t}function ut(){var t=this._maxHeight;if(t){var e=this.getSlotSize(),r=e.width,i=e.height;if(r){var o=Object(g.n)(t,r);if(o<i)return o}}return null}function ht(t,e){var r=this[e],i=(this.options.moduleAPI||{}).removeVPAIDEventListener;i&&r&&(i(t,r,this),this[e]=null)}function pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function gt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ft="Format[ContinuousRoll]",vt={maxSegments:-1,playerSelectorPercent:"0%"},mt=0,bt=0,yt=function(t){var e,r;function i(e,r){var i,o,n=r&&r.ancestor&&r.ancestor+":"+ft||"Module::Format[ContinuousRoll]",s=r&&r.moduleAPI&&r.moduleAPI.logger||a.a;return((null==s||null===(i=s.getChildWriter)||void 0===i?void 0:i.call(s,ft))||s).trace(n+".constructor()"),o=t.call(this,e,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(r),!0).forEach((function(e){gt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},vt,{MODULE_ID:ft},r,{ancestor:n}))||this,o["Format[ContinuousRoll]"]=n,o.slotPlaceholders=[],1!==o.options.maxSegments&&o._initSlotPlaceholders(),o}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o._vpaidInitAd=function(){this.logger.trace(this["Format[ContinuousRoll]"]+".vpaidInitAd()");var e=(this.options.moduleAPI||{}).addVPAIDEventListener,r=t.prototype._vpaidInitAd.call(this);return e("AdLoaded",wt.bind(this),this),e("AdStarted",Ot.bind(this),this),e("AdVideoComplete",At.bind(this),this),r},o._destroy=function(){this.logger.trace(this["Format[ContinuousRoll]"]+"._destroy()");var e=this._reachInventoryFactory;e&&e.destroy&&e.destroy(),t.prototype._destroy.call(this)},o.getReachInventoryFactory=function(){var t=this,e=this._reachInventoryFactory,r=this.scrollNode;if(this.options.doNotWatchVisibility)return null;if(e)return e;var i=this.slotPlaceholders.map((function(e){return t._createReachInventoryFactory(r,e)}));return this._reachInventoryFactory={id:"vn-visible-inventory-marks-group_"+this+"_"+mt++,waiterCreator:function(){return Promise.race(i.map((function(t){return t.waiterCreator()})))},destroy:function(){return i.forEach((function(t){t.destroy&&t.destroy()}))},markNode:""}},o._updateModulePosition=function(){this.logger.none(this["Format[ContinuousRoll]"]+".updateModulePosition()");var t=this._findNearestSlotPlaceholder();this._nearestSlotPlaceholder!==t&&(this._nearestSlotPlaceholder=t,this.trigger("NearestSlotPlaceholderChanged")),t&&this._updateModulePositionCoordinates(t)},o._updateModulePositionCoordinates=function(t){var e=this.moduleNode,r=Object(m.i)(t,e),i=r.top,o=r.left;Object(m.c)(e,{position:"absolute",top:Object(g.t)(i+2),left:Object(g.t)(o),width:Object(g.t)(t.clientWidth),visibility:""});var n=Object(g.i)(e).outsideHeight;Object(m.c)(t,{height:Object(g.t)(n)})},o._findNearestSlotPlaceholder=function(){var t=window.innerHeight/2;return this.slotPlaceholders.reduce((function(e,r){var i=r.getBoundingClientRect(),o=i.top,n=i.height,a=o+n/2,s=Math.abs(a-t);return n>0&&s<e.distance?{distance:s,slotPlaceholder:r}:e}),{distance:1/0,slotPlaceholder:null}).slotPlaceholder},o._getModuleVisibility=function(){var t=this._findNearestSlotPlaceholder();return Object(g.o)(t)},o._initSlotPlaceholders=function(){var t,e=this,r=this.options,i=r.showObservableNode,o=r.playerAfter,n=r.playerElement,a=r.minDistance,s=r.maxSegments,l=r.lookupNode,d=window,c=d.scrollY,u=d.innerHeight,h=l||document.body,p=Object(m.p)(n)?[n]:Array.from(Object(m.l)(n,h)),f=s<0?1/0:s;if((t=this.slotPlaceholders).push.apply(t,p.slice(0,f)),(f-=this.slotPlaceholders.length)&&o){var v=this.slotPlaceholders[this.slotPlaceholders.length-1],b=u*a,y=v?v.getBoundingClientRect().top+c+b:u;Array.from(Object(m.l)(o,h)).some((function(t){if(t.getBoundingClientRect().top+c>y){var r=document.createElement("div");f-=1,t.parentNode.insertBefore(e._addDOMNode(r),t.nextSibling),e.slotPlaceholders.push(r),y+=b}return!f}))}var A=Pt.call(this).visible,O=(A&&A.length&&A[0]).previousElementSibling,w=O&&O.getBoundingClientRect().top;Object(m.c)(this.slotPlaceholders,{boxSizing:"border-box",paddingTop:Object(g.t)(2),paddingBottom:Object(g.t)(2),backgroundColor:"transparent"}),O&&window.scrollBy(0,O.getBoundingClientRect().top-w),i&&Object(m.c)(this.slotPlaceholders,{outlineWidth:"1px",outlineColor:"pink",outlineStyle:"solid"}),this.slotPlaceholders.forEach((function(t){return t.className="vn-placeholder"}))},o._closeModule=function(){this.logger.trace(this["Format[ContinuousRoll]"]+"._closeModule()"),t.prototype._closeModule.call(this);var e={height:0,paddingTop:0,paddingBottom:0},r=Pt.call(this),i=r.above,o=r.below,n=r.visible;setTimeout((function(){if(Object(m.c)([].concat(o,n),e),n&&n.length){var t=(n&&n.length&&n[0]).previousElementSibling,r=t&&t.getBoundingClientRect().top;Object(m.c)(i,e),r&&window.scrollBy(0,t.getBoundingClientRect().top-r)}}),1)},o._closeRestOfSlotPlaceholders=function(){this.logger.trace(this["Format[ContinuousRoll]"]+"._closeRestOfSlotPlaceholders()");var t=window.innerHeight;this.slotPlaceholders.forEach((function(e){var r=e.getBoundingClientRect().top;t-r<0&&Object(m.c)(e,{height:0,paddingTop:0,paddingBottom:0})}))},o._updateModuleNodeSize=function(e){void 0===e&&(e=!1);var r=t.prototype._updateModuleNodeSize.call(this,e),i=r||{},o=i.width,n=i.height;if(o&&n){var a={width:Object(g.t)(o),height:Object(g.t)(n+2+2)},s=Pt.call(this),l=s.above,d=s.below,c=s.visible;Object(m.c)([].concat(d,c),a);var u=l.map((function(t){return Object(g.i)(t).outsideHeight})).reduce((function(t,e){return t+e}),0);Object(m.c)(l,a);var h=l.map((function(t){return Object(g.i)(t).outsideHeight})).reduce((function(t,e){return t+e}),0),p=h-u;window.scrollBy(0,p)}return r},o._switchOnObservableAdvancedNode=function(){var t=this,e=this.slotPlaceholders,r=this.options.doNotWatchVisibility;if(!this._tempObservableModuleNode&&!r){var i=this._tempObservableModuleNode={items:[],remove:function(){return i.items.forEach((function(t){return Object(m.t)(t)}))}},o=this._watchTempObservableModuleNodeVisibility={items:[],disconnect:function(){return o.items.forEach((function(t){t.disconnect&&t.disconnect()}))}};e&&e.forEach((function(e){var r=t._createObservableAdvancedNode(),n=r.node,a=r.watcher,s=Object(m.h)(e),l=s.top,d=s.left;n.style.top=Object(g.t)(l+2),n.style.left=Object(g.t)(d),n&&window.document.body.appendChild(n);var c=t._addDOMNode(n);n.className=("vn-start-mark_"+t+"_"+bt++).replace(/\s+/g,"-").replace(/(\[|])/g,"_"),i.items.push(c),o.items.push(a)}))}},o.getModuleVisibility=function(){return this._watchTempObservableModuleNodeVisibility&&this._tempObservableModuleNode?Promise.race(this._tempObservableModuleNode.items.map((function(t){return Object(g.o)(t)}))):Object(g.o)(this.moduleNode)},o.toString=function(){return ft},o.getBaseName=function(){return"ContinuousRoll".toLowerCase()},i}(G);function At(){this.logger.trace(this["Format[ContinuousRoll]"]+" @AdVideoComplete. Closing all placeHolders that positioned lower in the document",2),this._closeRestOfSlotPlaceholders()}function Ot(){this.logger.trace(this["Format[ContinuousRoll]"]+" @AdStarted",2),this._updateModulePosition()}function wt(){this.logger.trace(this["Format[ContinuousRoll]"]+" @AdLoaded",2);var t=this.scrollNode;this._addDOMEventListener(t,"scroll",_t.bind(this)),this._addDOMEventListener(window,"resize",St.bind(this))}function _t(){this.logger.none(this["Format[ContinuousRoll]"]+" @scroll"),this._updateModulePosition()}function St(){this.logger.trace(this["Format[ContinuousRoll]"]+" @resize"),this._updateModulePosition()}function Pt(){var t=[],e=[],r=[],i=window.innerHeight;return this.slotPlaceholders.forEach((function(o){var n=o.getBoundingClientRect(),a=n.top,s=n.bottom<0,l=a>i;s&&t.push(o),l&&r.push(o),s||l||e.push(o)})),{above:t,visible:e,below:r}}var Ct=r(11);function jt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Et(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var It="FlyRoll",Tt="Format[FlyRoll]",Vt={playerEmbeddedClass:"vn-embedded",playerFloatingClass:"vn-floating",zIndex:null,playerDesktopFactor:.6,playerMobileFactor:.6,playerDesktopStartFactor:.5,playerDesktopStopFactor:.5,playerMobileStartFactor:.5,playerMobileStopFactor:.5,floatingWidth:"200px",floatingBottom:"2%",floatingRight:"3%",flyExpandingDuration:0,flyExpandingStartOpacity:.05,switchToEmbeddedModeAtTheEnd:!0,flyBelowOnly:!1},kt=0,Rt=1,Mt=!1,xt=0,Nt=function(t){var e,r;function i(e,r){var i,o,n;void 0===r&&(r={});var s=r&&r.ancestor&&r.ancestor+":"+Tt||"::Format[FlyRoll]";if(Mt)throw Error(s+".Format instance already active on the page");var l=r&&r.moduleAPI&&r.moduleAPI.logger||a.a,d=(null==l||null===(i=l.getChildWriter)||void 0===i?void 0:i.call(l,Tt))||l,c=r.canFlyModeStart;r.canFlyModeStart=Object(g.u)(c);var u={};r.canFlyModeStart&&(u.doNotWatchVisibility=!1,u.expandOnAdLoaded=!0),d.trace(s+".constructor()"),n=t.call(this,e,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(r),!0).forEach((function(e){Et(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Vt,{},r,{},u,{ancestor:s}))||this,n._fakeVideoSlot=null,n.options.flyBelowOnly=Object(g.u)(n.options.flyBelowOnly),n["Format[FlyRoll]"]=s,n._setInstanceEIsExists(),n._replaceModuleInnerNode();var h=n.options,p=h.floatingElement,f=h.floatingWidth,v=h.floatingTop,y=h.floatingRight,A=h.floatingBottom,O=h.floatingLeft,w=h.floatingTranslateX,_=void 0===w?0:w,S=h.floatingTranslateY,P=void 0===S?0:S,C=h.flyExpandingDuration,j=h.flyExpandingStartOpacity;n._mode=kt,n.traceLogEnabled=Object(g.u)(Object(Ct.b)("flyroll.trace"));var E={position:"fixed",zIndex:2147483646,backgroundColor:"white",boxShadow:"0 0 10px black",width:Object(g.t)(f),top:Object(g.t)(v),right:Object(g.t)(y),bottom:Object(g.t)(A),left:Object(g.t)(O),transitionProperty:"none",transitionDuration:0,opacity:C?j:1,transform:"translate("+Object(g.t)(_)+", "+Object(g.t)(P)+")"},D={position:"absolute",textAlign:"center",width:"100%",zIndex:Dt(n).options.zIndex,backgroundColor:"",top:0,left:0,transform:"translate(0, 0)",minWidth:"auto",maxWidth:"auto",transitionProperty:"none",transitionDuration:0,boxShadow:"none",opacity:1};n._style=((o={})[kt]=n._updateEmbeddedBlockStyle(D),o[Rt]=n._updateFlyBlockStyle(E),o);var I=Object(m.k)(p);n._strictFloatingWidth=parseFloat(f)||null,n._floatingWidthInPercents="%"===(""+f).trim().substr(-1)&&parseFloat(f)||null,(n._floatingPositionNode=I||n._floatingPositionNode)&&n._addDOMEventListener(window,"resize",(function(){n._updateSlotSizeAndPosition()}));var T=Dt(n).options,V=T.playerDesktopFactor,k=T.playerMobileFactor,R=T.playerDesktopStartFactor,M=T.playerDesktopStopFactor,x=T.playerMobileStartFactor,N=T.playerMobileStopFactor;return n._playerFactor=b.h?k:V,n._playerStartFactor=b.h?x:R,n._playerStopFactor=b.h?N:M,n._updateSlotSizeAndPosition(),n}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o._updateEmbeddedBlockStyle=function(t){return t||{}},o._updateFlyBlockStyle=function(t){return t||{}},o._replaceModuleInnerNode=function(){},o.isFloatingMode=function(){return this._mode===Rt},o._initDOM=function(){t.prototype._initDOM.call(this);var e=this.moduleNode,r=this.insideIframe,i=this.options,o=i.floatingElement,n=i.showObservableNode;if(r)throw Error(this["Format[FlyRoll]"]+"._initDOM(). Unable create flyRoll inside iframe");var a=o&&Object(m.k)(o);this._floatingPositionNode=a||function(){return this._addDOMNode(Object(m.b)(document.body,"div",{position:"fixed",zIndex:-1,top:0,bottom:0,left:0,right:0}))}.call(this),!0===n&&Object(m.c)(this._floatingPositionNode,{outlineWidth:"1px",outlineColor:"magenta",outlineStyle:"solid"}),Object(m.c)(e,{zIndex:null}),this._updateSlotSizeAndPosition()},o._vpaidInitAd=function(){var e=this;this.logger.trace(this["Format[FlyRoll]"]+"._vpaidInitAd()");var r=t.prototype._vpaidInitAd.call(this);this.isFloatingMode()||this._updateFakeVideoSlot();var i=this.options.canFlyModeStart,o=this.options.moduleAPI,n=o.addVPAIDEventListener;!!(0,o.AdVideoStartWasHappenedAtLeastOnce)()&&(i=this.options.canFlyModeStart=!0,this.options.expandOnAdLoaded=!0),n&&(ht.call(this,"AdLoaded","onAdLoadedHandlerFlyRollBase_2"),this.onAdLoadedHandlerFlyRollBase_2=n("AdLoaded",(function(){ht.call(e,"AdLoaded","onAdLoadedHandlerFlyRollBase_2"),e._updateSlotClass(),e.isFloatingMode()||(e._updateModuleSize(),e._updateModuleNodeSize())}),this)),i&&n&&(ht.call(this,"AdLoaded","onAdLoadedHandlerFlyRollBase"),this.onAdLoadedHandlerFlyRollBase=n("AdLoaded",(function(){ht.call(e,"AdLoaded","onAdLoadedHandlerFlyRollBase"),e.logger.log(e["Format[FlyRoll]"]+" @AdLoaded canFlyModeStart!"),Bt.call(e)}),this));var a=function(){var t=(e.options||{}).switchToEmbeddedModeAtTheEnd;(void 0===t||t)&&e.isFloatingMode()&&e._setMode(kt)};return n&&(ht.call(this,"AdVideoComplete","onAdVideoCompleteHandlerFlyRollBase"),this.onAdVideoCompleteHandlerFlyRollBase=n("AdVideoComplete",a,this),ht.call(this,"AdSkipped","onAdSkippedHandlerFlyRollBase"),this.onAdSkippedHandlerFlyRollBase=n("AdSkipped",a,this),ht.call(this,"AdVideoStart","onAdVideoStartHandlerFlyRollBase"),this.onAdVideoStartHandlerFlyRollBase=n("AdVideoStart",(function(){ht.call(e,"AdVideoStart","onAdVideoStartHandlerFlyRollBase"),e.trigger("vnFormatStateChanged",{src:Tt,isFloating:e._mode===Rt})}),this)),r},o._getNodeForObservableChecking=function(){return this._fakeVideoSlot||this.moduleNode},o._updateModuleNodeSize=function(e){void 0===e&&(e=!1);var r=this._floatingModeWasExists,i=this.options.canFlyModeStart;if(!this.isFloatingMode())if(i&&!r)t.prototype._updateModuleNodeSize.call(this,!0);else{var o=(t.prototype._updateModuleNodeSize.call(this,e||i&&r)||{}).height;o&&this._updateSlotSizeAndPosition(o)}},o._applyModuleStateCheckPausedAndPlaying=function(e){var r=e.intersectionRatio,i=e.moduleSquare,o=e.boundingClientRect,n=this.traceLogEnabled,a=this._playerStartFactor,s=this._playerStopFactor,l=this._playerFactor,d=this._floatingModeWasExists,c=this._moduleWasClosed,u=this.moduleNode,h=this.options,p=h.flyBelowOnly,f=h.canFlyModeStart,v=h.moduleAPI,m=v.inState,b=v.getState,y=v.resumeAd,A=v.pauseAd;if(!c){var O=this.isFloatingMode();O||(this.maxEmbeddedIntersectionRatio=Math.max(r,this.lastEmbeddedIntersectionRatio||0));var w=b(),_=m&&!m("loaded")||f,S=m&&m(["paused","pausing"]),P=m&&m("playing"),C=m&&m("afterplay"),j=u&&u.getBoundingClientRect()||{},E=j.top,D=j.bottom,I=j.width;if(n&&this.logger.trace(this["Format[FlyRoll]"]+"._applyModuleStateCheckPausedAndPlaying() !!!! intersectionRatio="+r+" moduleNodeWidth="+I+" boundingClientRect.width="+o.width+" moduleSquare="+i+" _floatingModeWasExists="+d+" floating="+O+" _playerFactor="+l+" state="+w+" playing="+P+" paused="+S+" started="+_+" this._adHasBeenStarted="+this._adHasBeenStarted+" maxEmbeddedIntersectionRatio="+this.maxEmbeddedIntersectionRatio,1),!O&&p){var T=document.documentElement.clientHeight,V=D>=T&&E<=T&&E>0||!r&&D>=T&&E>=T;if(n&&this.logger.trace(this["Format[FlyRoll]"]+". forbiddenSetFlyMode="+V+" top="+E+" bottom="+D+" clientHeight="+T+" intersectionRatio="+r+" floating="+O,2,"pink"),V)return void t.prototype._applyModuleStateCheckPausedAndPlaying.call(this,{intersectionRatio:r})}S&&(O||r>=a)&&y&&y(),!O&&P&&this.maxEmbeddedIntersectionRatio<s&&!d&&A&&A();var k=i&&!Object(g.q)(I,o.width,10),R=f||this.lastEmbeddedIntersectionRatio>=l||this.lastEmbeddedIntersectionRatio>=a&&r<this.lastEmbeddedIntersectionRatio||d;this.logger.none(this["Format[FlyRoll]"]+"._applyModuleStateCheckPausedAndPlaying()\nfloating="+O+"\neqModuleNode="+k+"\ncanSwitchMode="+R+"\n intersectionRatio="+r+"\n moduleNodeWidth="+I+"\n boundingClientRect.width="+o.width+"\n moduleSquare="+i+"\n _floatingModeWasExists="+d+"\n floating="+O+"\n _playerFactor="+l+"\n playing="+P+"\n paused="+S+"\n started="+_+"\n this._adHasBeenStarted="+this._adHasBeenStarted+"\n maxEmbeddedIntersectionRatio="+this.maxEmbeddedIntersectionRatio+"\n_playerStartFactor="+a,1),_&&O&&r>=l&&k?this._setMode(kt):_&&!O&&!C&&r<l&&k&&R&&this._setMode(Rt),O||(this.lastEmbeddedIntersectionRatio=r),this.trigger("applyModuleStateCheckPausedAndPlaying")}},o._moduleResizeAd=function(e,r){var i=this.traceLogEnabled,o=this.options.moduleAPI,n=o.getIndents,a=o.saveAdParams,s=o.getSavedAdParams,l=o.inState,d=n&&n(),c=null==d.clientHeight;if(i&&this.logger.trace(this["Format[FlyRoll]"]+"._moduleResizeAd() mode="+this._mode),this._updateSlotClass(),this.isFloatingMode()){var u=this._mode,h=this._strictFloatingWidth,p=this._floatingWidthInPercents,f=this.moduleInnerNode,v=this.options.moduleAPI,b=v.resizeAd,y=v.setWrapperSize,A=v.getControlNode,O=v.AdVideoStartWasHappenedAtLeastOnce,w=d.borderTop,_=d.paddingTop,S=d.borderBottom,P=d.paddingBottom,C=d.marginTop,j=!!O(),E=this.getBaseName()+"_moduleResizeAd",D=s(E);if((c||!l(["loaded","starting","playing","pausing","paused"]))&&j)return void(Object(g.w)(D&&D[u],this.logger,"Format[FlyRoll] _moduleResizeAd().")||Ht.call(this,["AdVideoStart"],"_updateModuleState()"));var I=window.getComputedStyle(e),T=!p&&h||Math.round(e.clientWidth-parseFloat(I.paddingLeft)-parseFloat(I.paddingRight));p&&(i&&this.logger.trace(this["Format[FlyRoll]"]+" _moduleResizeAd() floatingWidth="+T*p/100+" moduleWidth="+T+"  _strictFloatingWidth="+h+" _floatingWidthInPercents="+p),T*=p/100);var V=Math.min(window.innerWidth,T),k=Math.min(window.innerHeight,Math.round(V*r));this.logger.log(this["Format[FlyRoll]"]+" _moduleResizeAd() width="+V+" height="+k);var R=Lt.call(this,V,k,e,r),M=R.width,x=R.height;M===V&&x===k||this.logger.log(this["Format[FlyRoll]"]+" _moduleResizeAd() after correction adWidth="+M+" adHeight="+x,1),D||(D={});var N=D[u]=[];b&&(N.push((function(){return b(M,x)})),b(M,x));var L=(x||0)+(w||0)+(S||0)+(_||0)+(P||0),F={width:Object(g.t)(M),height:Object(g.t)(L+(C||0))};Object(m.c)(f,F),N.push({node:f,moduleInnerStyles:F}),N.push((function(){return y(L)})),y(L);var W=(this.options||{}).setSizeByMedia;if(Object(g.u)(W)){var H=A("vpaidSlot");if(H){var z={position:"absolute",top:0,left:0,width:"100%",height:"100%",textAlign:"center"};Object(m.c)(H,z),N.push({node:H,styles:z})}}a(E,D)}else t.prototype._moduleResizeAd.call(this,e,r)},o._getTopLeftForEmbedded=function(){return{top:0,left:0}},o._updateSlotSizeAndPosition=function(t){void 0===t&&(t=null);var e=this._mode,r=this.moduleNode,i=this.options,o=i.forceEnableVerticalContent,n=i.flyExpandingDuration,s=i.moduleAPI,l=s.getIndents,d=s.getAdAspectRatio,c=s.AdVideoStartWasHappenedAtLeastOnce,u=s.inState,h=s.saveAdParams,p=s.getSavedAdParams,f=this.moduleInnerNode,v=this.traceLogEnabled;if(f&&null!=e){var y=l(),A=null==y.clientHeight,O=!!c();v&&this.logger.trace(this["Format[FlyRoll]"]+"._updateSlotSizeAndPosition() mode="+e+" wrapperNotFound="+A+" notFirstAd="+O);var w=this.getBaseName()+"_updateSlotSizeAndPosition",_=p(w)||{};if(!A&&u(["loaded","starting","playing","pausing","paused"])||!O){_||(_={});var S=_[e]=[];if(Object(m.c)(f,this._style[e]),this._mode===kt){var P=t||y.outsideHeight,C=this._getTopLeftForEmbedded(),j=C.top,E=C.left,D=Object(g.i)(r),I=D.clientWidth,T=D.marginRight,V=D.marginLeft,k=r.style,R=k.marginLeftStr,M=k.marginRightStr,x=I+V+T-(parseFloat(R)||0)-(parseFloat(M)||0);f&&Object(m.c)(f,{top:Object(g.t)(j),left:Object(g.t)(E),visibility:""}),v&&this.logger.trace(this["Format[FlyRoll]"]+"._updateSlotSizeAndPosition() height="+P+" width="+x+" top="+j+" left="+E+" forceHeight="+t),void 0!==P&&f&&Object(m.c)(f,{height:Object(g.t)(P)}),void 0!==x&&f&&Object(m.c)(f,{width:Object(g.t)(x)})}else{var N=d&&d();!b.h&&N>1&&!o&&(N=9/16);var L=this._getWidthNode();this._moduleResizeAd(L,N),S.push(this._moduleResizeAd.bind(this,L,N));var F=Ft.call(this)||{};F&&Object(m.c)(f,F),n&&setTimeout((function(){return Object(m.c)(f,{transitionProperty:"opacity",transitionDuration:Object(g.s)(n),opacity:1})}),1)}var W=getComputedStyle(f),H=Object.keys(this._style[kt]).concat("height").reduce((function(t,e){return t[e]=W[e],t}),{});S.push({node:f,styles:H}),h(w,_)}else Object(g.w)(_&&_[e],a.a,"Format[FlyRoll] _updateSlotSizeAndPosition() .")}},o._updateSlotClass=function(){var t=this._mode,e=this.options,r=e.playerEmbeddedClass,i=e.playerFloatingClass,o=e.moduleAPI.getControlNode,n=o&&o("slot");n&&(t===Rt?(n.classList.remove(r),n.classList.add(i)):(n.classList.remove(i),n.classList.add(r)))},o._getWidthNode=function(){var t=this._mode,e=this._floatingPositionNode,r=this.widthNode,i=this.options.moduleAPI.getControlNode;return(t===Rt?e:r)||i&&i("slot")},o._setMode=function(e){if(this.logger.trace(this["Format[FlyRoll]"]+"._setMode("+e+")",2),!this._moduleWasClosed){this.isFloatingMode()||this._updateFakeVideoSlot(),this._mode=e;var r=e===Rt;t.prototype._resetObservableNodes.call(this),this._updateModuleSize(),this._updateModuleNodeSize(),this._updateSlotSizeAndPosition(),r&&(this._floatingModeWasExists=!0),this._updateSlotClass(),this.trigger("vnFormatStateChanged",{src:Tt,isFloating:r})}},o._destroy=function(){this.logger.log(this["Format[FlyRoll]"]+"._destroy()"),this._resetInstanceEIsExists(),t.prototype._destroy.call(this),this.logger.log(this["Format[FlyRoll]"]+"._destroy() Destroyed")},o._resetInstanceEIsExists=function(){Mt===this&&(this.logger.log(this["Format[FlyRoll]"]+"._destroy() RESET _instanceIsExist",2),Mt=!1)},o._setInstanceEIsExists=function(){Mt||(this.logger.log(this["Format[FlyRoll]"]+".constructor SET _instanceIsExist",2),Mt=this)},o._createReachInventoryFactory=function(e,r){var i=this.traceLogEnabled,o=this.options,n=o.canFlyModeStart,a=o.moduleAPI.getMainModuleId;i&&this.logger.trace(this["Format[FlyRoll]"]+"._createReachInventoryFactory() canFlyModeStart="+n,2,"magenta");var s=a&&a();if(!n)return t.prototype._createReachInventoryFactory.call(this,e,r);return{id:("vn-visible-inventory-mark_"+this+"_"+xt+++" vn-module__"+s).replace(/\s+/g,"-").replace(/(\[|])/g,"_"),waiterCreator:function(){return Promise.resolve()},moduleNode:r}},o._getWatchVisibilityThreshold=function(){var t=this._playerFactor,e=this._playerStartFactor,r=this._playerStopFactor,i=[];t>=0&&(i.push(t),t>.01&&i.push(t-.01),1-t>.01&&i.push(t+.01));return e>=0&&i.push(e),r!==e&&r>=0&&i.push(r),i.push(e),i.length&&(0!==t&&i.push(0),1!==t&&i.push(1)),i.sort()},o._closeModule=function(e){void 0===e&&(e={});var r=this.options.moduleAPI.getControlNode;this._resetInstanceEIsExists();var i=r&&r("slot");Object(m.c)(i,{display:"none"}),t.prototype._closeModule.call(this,e)},o._updateFakeVideoSlot=function(){var t=this._fakeVideoSlot,e=this.moduleNode,r=this.options,i=r.showObservableNode,o=r.moduleAPI.getControlNode,n=t;Object(m.p)(n)||(this._fakeVideoSlot=n=document.createElement("div"),Object(m.c)(n,{position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0}),e.insertBefore(n,e.firstElementChild),!0===i&&(Object(m.c)(this._floatingPositionNode,{outlineWidth:"1px",outlineColor:"lightpink",outlineStyle:"solid"}),n.classList="fakeVideoSlot"));var a=o&&o("vpaidSlot"),s=a&&Object(m.i)(a,n)||{};return Object(m.c)(n,{top:Object(g.t)(s.top||0)}),n},o.toString=function(){return Tt},o.getBaseName=function(){return It.toLowerCase()},i}(G);function Lt(t,e,r,i){var o=this.options,n=o.floatingMinHeight,a=o.floatingMaxHeight,s=o.floatingMinWidth,l=o.floatingMaxWidth,d=o.moduleAPI.getIndents,c=d&&d(),u=c.top+c.bottom,h=r.clientWidth,p=document.documentElement,g=p.clientHeight,f=p.clientWidth,v=Wt(l,h),m=Wt(s,h),b=Wt(a,g),y=Wt(n,g);function A(r){t=r,e=Math.round(t*i)}function O(r){e=r,t=Math.round(e/i)}return m&&t<m&&A(m),y&&e+u<y&&O(y-u),v&&t>v&&A(v),f&&t>f&&A(f),b&&e+u>b&&O(b-u),{width:t,height:e}}function Ft(){var t=this._style,e=this._floatingPositionNode,r=this.traceLogEnabled,i=this.options,o=i.floatingHCenter,n=i.floatingTop,a=i.floatingRight,s=i.floatingBottom,l=i.floatingLeft,d=i.moduleAPI,c=d.getAdHeight,u=d.getAdWidth,h=d.getIndents,p=c&&c(),f=u&&u();if(!(p&&f&&e&&t))return r&&this.logger.trace(this["Format[FlyRoll]"]+" one or more parameters is false: adHeight="+p+" adWidth="+f+" _floatingPositionNode="+e+" _style="+t,1,"pink"),null;var v=e.getBoundingClientRect(),m=v.width,b=v.height,y=v.left,A=v.top,O=h&&h()||{},w=O.top,_=O.outsideWidth,S=O.insideHeight;if(isNaN(w)||isNaN(_)||isNaN(S))return r&&this.logger.trace(this["Format[FlyRoll]"]+" parameters isNaN topPadding="+w+" flWidth="+_+" flHeight="+S,1,"pink"),null;var P=S+w,C="";if(o){var j=(m-_)/2;C+="translateX("+Object(g.t)(j)+") "}else l?C+="translateX("+Object(g.t)(l)+") ":a&&(C+="translateX(calc("+Object(g.t)(m)+" - "+Object(g.t)(a)+" - "+Object(g.t)(_)+")) ");return n?C+="translateY("+Object(g.t)(n)+") ":s&&(C+="translateY(calc("+Object(g.t)(b)+" - "+Object(g.t)(s)+" - "+Object(g.t)(P)+")) "),r&&this.logger.trace(this["Format[FlyRoll]"]+' calcFloatingWidthAndPosition() transform="'+C+'"\n width='+m+" flWidth="+_+" adWidth="+f+" top="+A+" left="+y+" adHeight="+p+" flHeight="+S),{width:Object(g.t)(_),top:Object(g.t)(A),left:Object(g.t)(y),transform:C}}function Wt(t,e){var r=Object(w.f)(t);return r&&r*e||+t}function Ht(t,e){var r=this,i=this.traceLogEnabled,o=this.options.moduleAPI,n=o.removeVPAIDEventListener,a=o.addVPAIDEventListener;if((0,o.inState)(["loaded","starting","playing"]))this._setMode(this._mode);else{var s=this.handlersForUpdateModuleState;s||(s=this.handlersForUpdateModuleState={}),i&&this.logger.trace(this["Format[FlyRoll]"]+".setHandlersForUpdateModuleState()"),t.forEach((function(t){s[t]||(s[t]&&n(t,s[t],r),s[t]=a(t,zt.bind(r,e+" @{eventName}"),r))}))}}function zt(t){var e=this,r=this.traceLogEnabled,i=this.options.moduleAPI.removeVPAIDEventListener,o=this.handlersForUpdateModuleState;Object.values(o||{}).forEach((function(t){var r=t[0],n=t[1];n&&(i(r,n,e),o[r]=null)})),r&&this.logger.trace(this["Format[FlyRoll]"]+"."+t+" Calls _setMode("+this._mode+")"),this._setMode(this._mode)}function Bt(){var t=this.options.moduleAPI,e=t.inState,r=t.resumeAd,i=t.startAd;this._mode=Rt;var o=this._addVPAIDEventListener(this,"applyModuleStateCheckPausedAndPlaying",function(){this._removeVPAIDEventListener(this,"applyModuleStateCheckPausedAndPlaying",o),this.isFloatingMode()&&(this._setMode(Rt),e(["paused","pausing"])?r():e("playing")||i())}.bind(this))}function Ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function qt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(r),!0).forEach((function(e){Gt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Gt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Xt="Format[FlyRollTop]",Jt={embeddedPosition:"absolute",zIndex:2147483646},Qt=function(t){var e,r;function i(e,r){var i,o=r&&r.ancestor&&r.ancestor+":"+Xt||"::Format[FlyRollTop]";return(i=t.call(this,e,qt({},Jt,{},r,{ancestor:o}))||this)["Format[FlyRollTop]"]=o,i}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o._updateFlyBlockStyle=function(t){var e=(t||{}).width;return e&&e.endsWith("%")&&delete t.width,qt({},t,{right:0,bottom:0})},o._updateEmbeddedBlockStyle=function(t){return qt({},t,{position:"absolute",height:0,overflow:"hidden"})},o._replaceModuleInnerNode=function(){this.moduleInnerNode=Object(g.l)(window).document.body.appendChild(this.moduleInnerNode.parentElement.removeChild(this.moduleInnerNode))},o._getTopLeftForEmbedded=function(){return function(t){if(!t)return{top:0,left:0};var e=t.getBoundingClientRect(),r=document,i=r.body,o=r.documentElement,n=window.pageYOffset||o.scrollTop||i.scrollTop,a=window.pageXOffset||o.scrollLeft||i.scrollLeft,s=o.clientTop||i.clientTop||0,l=o.clientLeft||i.clientLeft||0,d=e.top+n-s,c=e.left+a-l;return{top:d,left:c}}(this.moduleNode)},o.toString=function(){return Xt},i}(Nt);function Yt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Zt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Kt="Format[FlyRollAlwaysFly]",$t={embeddedPosition:"absolute",zIndex:2147483646,ignoreCreatePlayerElement:!0,canFlyModeStart:!0},te=function(t){var e,r;function i(e,r){var i,o=r&&r.ancestor&&r.ancestor+":"+Kt||"::Format[FlyRollAlwaysFly]";return i=t.call(this,e,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yt(Object(r),!0).forEach((function(e){Zt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},$t,{},r,{ancestor:o}))||this,i["Format[FlyRollAlwaysFly]"]=o,i}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o._getTopLeftForEmbedded=function(){return{top:0,left:0}},o._setMode=function(e){e===Rt&&(this._switchOffObservableAdvancedNode(),t.prototype._setMode.call(this,e))},o._updateFakeVideoSlot=function(){},o._updateModuleNodeSize=function(){},o._initDOM=function(){t.prototype._initDOM.call(this);var e=this.moduleNode;Object(m.p)(e)&&Object(m.c)(e,{height:0})},o.toString=function(){return Kt},i}(Qt);function ee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function re(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(r),!0).forEach((function(e){ie(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ie(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var oe="Format[FlyRollRegular]",ne={zIndex:null,embeddedPosition:"relative"},ae=function(t){var e,r;function i(e,r){var i,o=r&&r.ancestor&&r.ancestor+":"+oe||"::Format[FlyRollRegular]";return(i=t.call(this,e,re({},ne,{},r,{ancestor:o}))||this)["Format[FlyRollRegular]"]=o,i}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o._updateEmbeddedBlockStyle=function(t){return re({},t,{position:"absolute"})},o._getTopLeftForEmbedded=function(){return{top:0,left:0}},o.toString=function(){return oe},i}(Nt),se={"Loading video...":"Загрузка видео...","Skip ad in {{x}} sec":"Пропустить можно через {{x}} сек","Skip ad in":'Пропустить <div style="font-size: smaller">можно через</div>',"{{x}} sec":"{{x}} сек","Going after":'Реклама<div style="font-size: smaller"> закончится через</div>',"Learn more":"Подробнее",Advertisement:"Реклама","Watch video":"Смотреть видео","Watch video<br/>after ad":"Продолжение</br>после рекламы","Pull to skip<br/>{{x}}":"Тяните,<br/>чтобы пропустить<br/>{{x}}","Push to watch<br/>360 video":"Нажмите, чтобы смотреть<br/>360-градусное видео","The ad will end in {{x}} sec":"До окончания рекламы {{x}} сек"},le={ru:se},de=!1,ce="en";function ue(){var t;try{t=(top.navigator.language||top.navigator.userLanguage).substr(0,2)}catch(e){t=(navigator.language||navigator.userLanguage).substr(0,2)}de=!0,le[t]&&(ce=t)}var he,pe=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];if(de||ue(),"en"===ce){if(String.raw)return String.raw(t,r);if(!le[ce]){var o=le[ce]={};Object.keys(se).forEach((function(t){o[t]=t}))}}var n=t.join(""),a=le[ce],s="";return Object.keys(a).forEach((function(t){s||t.replace(/{{x}}/g,"")!==n||(s=a[t],r&&r.forEach((function(t){s=s.replace(/{{x}}/g,t)})))})),s||String.raw(t,r)},ge=r(26),fe=r.n(ge),ve=r(27),me=r.n(ve),be=r(6);function ye(){var t=function(t,e){e||(e=t.slice(0));return t.raw=e,t}(["Pull to skip<br/>",""]);return ye=function(){return t},t}function Ae(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function we(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _e,Se,Pe,Ce,je="SlideRoll",Ee="Format[SlideRoll]",De=(null===a.a||void 0===a.a||null===(he=a.a.getChildWriter)||void 0===he?void 0:he.call(a.a,Ee))||a.a,Ie={playerElement:null,playerAfter:null,playerBefore:null,playerFactor:.5,closeFactor:.3,transitionDuration:0,expandOnAdLoaded:!1},Te={videoSlot:{boxShadow:"0 0 20px 5px rgba(0, 0, 0, 0.5)"},title:{top:"10px",left:"10px",padding:"5px 10px",lineHeight:"15px",color:"white",backgroundColor:"rgba(0, 0, 0, 0.289)",borderRadius:"3px",cursor:"default",pointerEvents:"none"},logo:{top:"5px",right:"5px",bottom:"auto",left:"auto"},play:null,skipAd:null,skipAdCountdown:{display:"none",position:"absolute",top:"auto",right:"auto",bottom:"5px",left:"50%",width:"160px",margin:"0 auto 5px auto",padding:"5px",borderRadius:"3px",backgroundColor:"rgba(0, 0, 0, 0.7)",transform:"translateX(-50%)",textAlign:"center"},subtitle:{bottom:"25%"}},Ve=function(t){var e,r;function i(e,r){var i;if(De.trace("Format[SlideRoll].constructor()"),!b.h)throw new Error("Mobile not detected");return i=t.call(this,e,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(r),!0).forEach((function(e){we(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Ie,{},r,{ancestor:Ee}))||this,we(Oe(i),"_proceedToNextDefaultAd",(function(t){t&&(i.logger.trace("Format[SlideRoll] @vnProceedToNextDefaultAd",2),i.module.isVpaidStartAdWasInvokedOnce&&i._updateModuleState())})),i.options.expandOnAdLoaded=Object(g.u)(i.options.expandOnAdLoaded),i.waitingForInitialScroll=!0,i.onResize=Me.bind(Oe(i)),i.onScroll=xe.bind(Oe(i)),i.onTouchEnd=Be.bind(Oe(i)),i.onTouchStart=ze.bind(Oe(i)),i._scrollTo=Re.bind(Oe(i)),i._addVPAIDEventListener(e,"vnProceedToNextDefaultAd",i._proceedToNextDefaultAd),i}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o._initDataXml=function(){var t=this;return new Promise((function(e){De.trace("Format[SlideRoll].initDataXml()");var r=t.module,i=t.options,o=window.innerWidth,n=O(i,""+t),a=n.moduleNode,s=n.moduleInnerNode;t.moduleNode=t._addDOMNode(a),t.moduleInnerNode=t._addDOMNode(s);var l=t.slot=t._initSlotNode();Object(m.c)(a,{position:"relative"}),Object(m.c)(s,{clip:"rect(0,0,0,0)"});var d=a.getBoundingClientRect(),c=d.left,u=d.right;Object(m.c)(a,{marginLeft:"-"+c+"px",marginRight:"-"+(o-u)+"px"}),Object.keys(Te).forEach((function(t){var e=Te[t];r.setControlData(t,{css:e})})),r.setControlData("logo",{content:fe.a}),r.setControlData("slot",{node:l}),t._addVPAIDEventListener(r,"AdLoaded",Ne.bind(t)),t._addVPAIDEventListener(r,"AdResumed",Fe.bind(t)),t._addVPAIDEventListener(r,"AdVideoStart",Le.bind(t)),t._addVPAIDEventListener(r,"AdSkippableStateChange",We.bind(t)),t._addVPAIDEventListener(r,"AdStopped",He.bind(t)),t._addVPAIDEventListener(r,"AdDestroyed",(function(){return t._destroy()})),e()}))},o._destroy=function(){De.trace("Format[SlideRoll].destroy()"),t.prototype._destroy.call(this);var e=this._getDimensions().moduleTop,r=this.requestAnimationID;r&&window.cancelAnimationFrame(r),e&&window.scrollTo(window.scrollX,e),Object.assign(this,{onScroll:null,onResize:null,onTouchEnd:null,onTouchStart:null,module:null,moduleNode:null,moduleInnerNode:null,slot:null,_scrollTo:null})},o._createSlideToSkipAd=function(){var t=this.module,e=t.getControlNode("wrapper"),r=Object(m.b)(e,"div",{display:"none",position:"absolute",zIndex:5,top:"auto",right:"auto",bottom:"10px",left:"50%",width:"160px",margin:"0 auto",padding:"5px",borderRadius:"3px",backgroundColor:"rgba(0, 0, 0, 0.7)",transform:"translateX(-50%)",textAlign:"center",lineHeight:1,pointerEvents:"none"},pe(ye(),me.a)),i=function(){var e=t.getAdSkippableState();Object(m.c)(r,{display:e?"":"none"})};i(),this._addVPAIDEventListener(t,"AdSkippableStateChange",i),t.setControlData("slideToSkipAd",{node:r})},o._initSlotNode=function(){var t=this.moduleInnerNode;return Object(m.b)(t,"div",{position:"fixed",zIndex:2147483647,left:0,bottom:0,backgroundColor:"#000",transform:"translate3d(0,0,0)"})},o._updateModuleState=function(){var t=this.module,e=this.options,r=e.playerFactor,i=e.closeFactor,o=this._getDimensions(),n=o.visiblePercent,a=o.moduleTop;(De.none("Format[SlideRoll] updateModuleState("+n+") "+t.state),!Pe&&!Se&&this.waitingForInitialScroll&&n>i&&(this._scrollTo(a),this.waitingForInitialScroll=!1),be.c.call(t,"loaded")&&n>r&&t.startAd(),be.c.call(t,["paused","pausing"])&&n>r&&t.resumeAd(),be.c.call(t,"playing")&&n<r&&t.pauseAd(),be.c.call(t,"playing"))&&(t.getAdSkippableState()||window.scrollTo(window.scrollX,a))},o._updateModulePosition=function(){var t=this.module,e=this.options.closeFactor,r=this._getDimensions(),i=r.visiblePercent,o=r.moduleTop,n=r.viewportTop;!Se&&be.c.call(t,"playing")&&i>1-e&&this._scrollTo(o),0===i&&o<n&&!be.c.call(t,["loaded","afterplay","skipping","complete","completing","stopped","destroyed","destroying"])&&t.getAdSkippableState()&&t.skipAd()},o._updateModuleSize=function(){var t=this.module,e=this.moduleNode,r=this.moduleInnerNode,i=this.slot,o=window,n=o.innerWidth,a=o.innerHeight;De.trace("Format[SlideRoll] updateModuleSize("+n+":"+a+")"),Object(m.c)(r,{clip:"rect(0,"+n+"px,"+a+"px,0)"}),Object(m.c)([e,i],{width:n+"px",height:a+"px"}),t.resizeAd(n,a)},o._getDimensions=function(){var t=this.moduleNode,e=window,r=e.scrollY,i=e.innerWidth,o=e.innerHeight,n=i,a=o,s=r,l=r+o,d=a,c=s+(t&&t.getBoundingClientRect()||{}).top,u=c+a,h=Math.max(s,c),p=Math.min(l,c+a),g=Math.max(0,Math.min(a,p-h));return{viewportWidth:n,viewportHeight:a,viewportTop:s,viewportBottom:l,moduleHeight:d,moduleTop:c,moduleBottom:u,visibleTop:h,visibleBottom:p,visibleHeight:g,visiblePercent:a&&g/a}},o._getModuleDimensions=function(){return Object(g.k)(window,this.moduleNode)},o.toString=function(){return Ee},o.getBaseName=function(){return je.toLowerCase()},i}(p),ke=function(){_e&&_e(),_e=null};function Re(t,e){var r,i=this;De.trace("Format[SlideRoll].scrollTo("+t+", "+typeof e+")"),e&&(Ce=e);Se||Pe||(Pe=t,this.requestAnimationID=window.requestAnimationFrame((function o(n){if(void 0===n&&(n=0),(!Se||Ce)&&Pe){r=r||n;var a=Math.min(1,(n-r)/1e3*2),s=(Pe-window.scrollY)*a;if(a>0&&Math.abs(s)<.05)return De.trace("Format[SlideRoll].scrollTo("+t+") Calling callback  ("+typeof e+")"),Ce&&Ce(),window.scrollTo(window.scrollX,Pe),Ce=null,void(Pe=null);window.scrollTo(window.scrollX,Math.round(window.scrollY+s)),i.requestAnimationID=window.requestAnimationFrame(o)}}))),Pe=t}function Me(){De.trace("Format[SlideRoll] @resize"),this._updateModuleSize()}function xe(){var t=this._getDimensions().visiblePercent,e=this.options.closeFactor;if(this._updateModuleState(),!Se&&t>e&&Pe){var r=this.requestAnimationID;r&&window.cancelAnimationFrame(r),this.scrollTo=null}if(b.g){var i=this.module.getControlNode("volume"),o=.6*(window.innerHeight-document.querySelector("html").clientHeight);Object(m.c)(i,{marginBottom:o+"px"})}}function Ne(){De.trace("Format[SlideRoll] @AdLoaded",2);var t=this.module,e=this.slot,r=this.options.expandOnAdLoaded,i=t.getAdAspectRatio();if(!i)throw new Error("Format[SlideRoll] Invalid aspect ratio  ("+i+")");var o=t.getControlNode("iframe");this.wrapper=t.getControlNode("wrapper"),Object(m.c)(o,{position:"absolute",left:0,bottom:0,width:"100%"}),Object(m.c)(e,{display:"",transform:"translate3d(0,0,0)"}),this._createSlideToSkipAd(t),this._addDOMEventListener(window,"resize",this.onResize),this._addDOMEventListener(window,"scroll",this.onScroll),this._addDOMEventListener(window,"touchstart",this.onTouchStart,{passive:!0}),this._addDOMEventListener(window,"touchend",ke,{passive:!0}),this._addDOMEventListener(this.wrapper,"touchstart",this.onTouchStart,{passive:!0}),this._addDOMEventListener(this.wrapper,"touchend",ke,{passive:!0}),r&&(this._updateModuleState(),this._updateModuleSize())}function Le(){De.trace("Format[SlideRoll] @AdVideoStart",2),this._updateModuleSize(),this._updateModulePosition(),this._updateModuleState()}function Fe(){De.trace("Format[SlideRoll] @AdResumed",2),this._updateModuleState()}function We(){var t=this.module.getAdSkippableState();De.trace("Format[SlideRoll] @AdSkippableStateChange("+t+")",2),this._updateModuleState()}function He(){De.trace("Format[SlideRoll] @AdStopped",2)}function ze(){De.trace("Format[SlideRoll] @touchstart"),Se=!0,Pe=null,this._addDOMEventListener(window,"touchend",this.onTouchEnd),this._addDOMEventListener(this.wrapper,"touchend",this.onTouchEnd)}function Be(){De.trace("Format[SlideRoll] @touchend"),Se=!1,this._removeDOMEventListener(window,"touchend",this.onTouchEnd),this._removeDOMEventListener(this.wrapper,"touchend",this.onTouchEnd);var t=this.module,e=this.options.closeFactor,r=this._getDimensions(),i=r.visiblePercent,o=r.moduleTop;De.none("Format[SlideRoll] updateModuleState("+i+") "+t.state),this.waitingForInitialScroll&&i>e&&(this._scrollTo(o),this.waitingForInitialScroll=!1),this._updateModulePosition(),this._updateModuleState()}var Ue=r(9),qe=r(28),Ge=r.n(qe),Xe=r(13),Je=r(23);function Qe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ye="::TimeBeforeSkipChecker",Ze=function(t){var e,r;function i(e){var r,i;void 0===e&&(e={}),(i=t.call(this,e)||this).moduleAPI=e.moduleAPI,i.starting=!1,i.updateStateChecker=e.updateStateChecker,i.getTimeBeforeSkip=e.getTimeBeforeSkip,i.shouldSetAdSkippableState=!1!==e.shouldSetAdSkippableState;var o=Qe(i).moduleAPI||{},n=o.addVPAIDEventListener,a=o.inState,s=o.logger;return i.logger=(null==s||null===(r=s.getChildWriter)||void 0===r?void 0:r.call(s,Ye))||s,a("started","starting","playing")?i.start():(n("AdVideoStart",(function(){return i.start()}),Qe(i)),n("AdStarted",(function(){return i.start()}),Qe(i)),n("AdPlaying",(function(){return i.start()}),Qe(i)),n("AdResumed",(function(){return i.start()}),Qe(i)),n("AdStopped",(function(){return i.stop()}),Qe(i)),n("AdPaused",(function(){return i.stop()}),Qe(i)),n("AdSkipped",(function(){return i.stop()}),Qe(i))),i}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.stop=function(){var t=this.timeCounter;t&&t.stop()},o.start=function(){var t=this.logger,e=this.timeCounter;if(e)e.start();else{var r=this.moduleAPI,i=this.getTimeBeforeSkip,o=this.shouldSetAdSkippableState,n=(r||{}).setAdSkippableState,a=this.timeBeforeSkip=i&&i();t&&t.log("::TimeBeforeSkipChecker. timeBeforeSkip="+a);var s=!(void 0===a||a);o&&n(s),s||t&&t.log("::TimeBeforeSkipChecker. timeBeforeSkip="+a+". Unskippable Ad."),this.timeCounter=new Je.a({increasePieceOfTime:500,tickHandler:this.tickHandler.bind(this)}),this.timeCounter.start()}},o.tickHandler=function(t){var e=t.elapsedTime,r=this.timeBeforeSkip,i=this.moduleAPI,o=this.timeCounter,n=this.updateStateChecker,a=this.shouldSetAdSkippableState,s=(i||{}).setAdSkippableState;r&&r<=e&&(a&&s(!0),n&&n(),o&&o.stop())},o.getAdElapsedTime=function(){var t=this.timeCounter;return t?t.getAdElapsedTime():0},o.isSkippable=function(){var t=this.getTimeBeforeSkip;return t&&!!(this.timeBeforeSkip=t&&t())},i}(n.a),Ke=Ze,$e=r(12);function tr(){var t=or(["Watch video"]);return tr=function(){return t},t}function er(){var t=or(["Going after"]);return er=function(){return t},t}function rr(){var t=or(["Skip ad in"]);return rr=function(){return t},t}function ir(){var t=or(["Watch video<br/>after ad"]);return ir=function(){return t},t}function or(t,e){return e||(e=t.slice(0)),t.raw=e,t}function nr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nr(Object(r),!0).forEach((function(e){sr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function sr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var lr="CollapsingThumbnail",dr="Format["+lr+"]",cr={right:"5%",bottom:"60%",width:"25%",boxShadow:"0 0 10px rgba(0, 0, 0, 0.5)",transitionDuration:350,skipControlsTransitionDuration:350,skipControlsTransitionDelay:20,getThumbnailTimeout:500,startFadingDuration:2e3,fadingDuration:500,raisingDuration:0,intermediateFadingOpacity:.7,targetFadingOpacity:0,countdownBackgroundColor:"#d3d3d3",countdownBackgroundHoverColor:"#aaa",countdownColor:"black",countdownHoverColor:"#eee",thumbnailBackgroundColor:"#f2f2f2",thumbnailWrapperWidth:"62%"},ur={wrapper:{paddingTop:0,paddingBottom:0},logo:{},skipAd:{top:0,right:0,padding:"5px",margin:"0 5px 5px 0"},skipAdCountdown:m.n,title:{top:0,right:"40px",left:"auto",margin:"5px 0",padding:"5px",color:"white",background:"rgba(0, 0, 0, 0.27)"},vnAfterplay:{marginTop:0},play:{marginTop:0}},hr=function(t){var e,r;function i(e,r,i){var o,n,a,s,l=r&&r.ancestor&&r.ancestor+":"+dr||"Module::Format[CollapsingThumbnail]";(s=t.call(this,lr,e,!1)||this)["Format[CollapsingThumbnail]"]=l,s.module=e,s._getCurrentPlayer=i,s.options=function(t){void 0===t&&(t={});var e=Object(w.h)(Object(g.j)(window,document))||{},r=e.vn_t_startFadingDuration,i=e.vn_t_fadingDuration,o=e.vn_t_raisingDuration,n=e.vn_t_intermediateFadingOpacity,a=e.vn_t_targetFadingOpacity;return void 0!==r&&(t.startFadingDuration=parseInt(r,10)),void 0!==i&&(t.fadingDuration=parseInt(i,10)),void 0!==o&&(t.raisingDuration=parseInt(o,10)),void 0!==n&&(t.intermediateFadingOpacity=parseFloat(n)),void 0!==a&&(t.targetFadingOpacity=parseFloat(a)),t}(ar({},cr,{},r)),s.TIMER_NAME=s.MODULE_ID+":RemainingTimeChange",s.adWidthPrev=null,s.mainTransitionWasStarted=!1,s.mainTransitionWasFinished=!1;var d=e.getControlNode("wrapper"),c=null===(o=(n=s)._getCurrentPlayer)||void 0===o?void 0:o.call(n),u=c?null==c||null===(a=c.getSize)||void 0===a?void 0:a.call(c):{},h=u.width,p=void 0===h?0:h,f=u.height,v=void 0===f?0:f,b=e.getControlUnionData(lr,"css")||{};return s._overlayControls=Object(m.b)(d,"div",ar({position:"absolute",zIndex:2,cursor:"auto",width:p+"px",height:v+"px",fontSize:0,color:"#333",borderRadius:"4px",boxShadow:"none",transitionProperty:"top, width, height",transitionDuration:r.transitionDuration+"ms",transitionTimingFunction:"ease-out",visibility:"hidden",background:"transparent",opacity:0},b),null),e.setControlData(lr,{node:s._overlayControls}),s}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.init=function(){var t=this,e=this.module,r=e.getControlUnionData("skipAdCountdown","timeBeforeSkip")||e.getControlUnionData("skipAd","timeBeforeSkip");this.timeBeforeSkipChecker=new Ke({getTimeBeforeSkip:function(){return r},moduleAPI:e.getAPI(),shouldSetAdSkippableState:!0,logger:this.logger}),this._addDestroyableObject(this.timeBeforeSkipChecker),br.call(this).then((function(){t.logger.trace(t["Format[CollapsingThumbnail]"]+".init() we have got thumbnail")})),pr.call(this),this._addVPAIDEventListener(e,"AdStarted",jr.bind(this,e)),this._addVPAIDEventListener(e,"AdVideoStart",(function(){Dr.call(t),t.update.call(t,!0,!0,!0,!1)})),this._addVPAIDEventListener(e,"AdVideoComplete",Er.bind(this)),this._addVPAIDEventListener(e,"AdUserClose",this._removeTimeout.bind(this,this.TIMER_NAME)),this._addVPAIDEventListener(e,"AdSkipped",(function(){t._removeTimeout(t.TIMER_NAME)})),this._addVPAIDEventListener(e,"AdStopped",(function(){t._removeTimeout(t.TIMER_NAME)})),this._addVPAIDEventListener(e,"AdError",Cr.bind(this)),this._addVPAIDEventListener(e,"AdSkippableStateChange",(function(){var r=e.getAdSkippableState();t.logger.trace("Format[CollapsingThumbnail] @AdSkippableStateChange adSkippableState="+r,2),!r&&t._playButtonWasShown&&(t._playButtonWasShown=!1,t._startChunkTime=t.getAdElapsedTime(),t.logger.trace(t["Format[CollapsingThumbnail]"]+" @AdSkippableStateChange this._startChunkTime="+t._startChunkTime),Pr.call(t),Dr.call(t))}))},o.getAdElapsedTime=function(){var t=this.module,e=this.timeBeforeSkipChecker;return e?e.getAdElapsedTime():t&&t.getAdElapsedTime()||0},o.update=function(t,e,r,i){var o=this;void 0===t&&(t=!1),void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===i&&(i=!0),this.logger.none(this["Format[CollapsingThumbnail]"]+".update()",2,"blue");var n=this.module,a=this.options.transitionDuration,s=_r.call(this),l=s.blockWidth,d=s.blockHeight,c=Ir.call(this,n),u=c.time,h=c.duration,p=c.adDuration,g=u<=0&&h<=p;function f(){var t=this;e&&vr.call(this,l,d),i&&yr.call(this,g),this._addTimeout("waitManualCheckId",(function(){v.call(t)}),a+10)}function v(){var t;function e(){this.mainTransitionWasFinished?clearInterval(t):this.updateAfterTransitionEndWithBind({forceUpdate:!0})}this.mainTransitionWasFinished||(this.logger.log(this["Format[CollapsingThumbnail]"]+".update() startManualCheck() mainTransitionWasFinished is still false",1,"pink"),e.call(this),t=setInterval(e.bind(this),500))}this.logger.trace(this["Format[CollapsingThumbnail]"]+".update() this.mainTransitionWasStarted="+this.mainTransitionWasStarted+" this.adWidthPrev === blockWidth="+(this.adWidthPrev===l)+" forcedUpdate="+t),this.mainTransitionWasStarted||this.adWidthPrev===l&&!t||(this.mainTransitionWasStarted=!0,r&&mr.call(this,d).then((function(t){o.logger.trace(o["Format[CollapsingThumbnail]"]+".update() gotThumbnail="+t+" shouldUpdateOverlay="+e+" blockWidth="+l+" blockHeight="+d),f.call(o)})).catch((function(t){o.logger.error(o["Format[CollapsingThumbnail]"]+".update() error: "+t),f.call(o)})),this.adWidthPrev=l)},o.setZIndex=function(t){this._overlayControls&&(this._overlayControls.style.zIndex=t)},i}($e.a);function pr(){var t,e=this;this.logger.trace(this["Format[CollapsingThumbnail]"]+".initOverlayControls()"),this._overlayControls.classList.add("___overlay___"),Pr.call(this),gr.call(this),fr.call(this);this.updateAfterTransitionEndWithBind=t=function(r){var i=r||{},o=i.propertyName,n=i.forceUpdate;if(!n){if("height"!==o&&"width"!==o)return;var a=0^e._overlayControls.offsetWidth,s=0^e._overlayControls.offsetHeight,l=e.overlayControlsTargetWidth,d=e.overlayControlsTargetHeight;if(e.logger.trace(e["Format[CollapsingThumbnail]"]+".updateAfterTransitionEnd() forceUpdate="+n+" isManualCheck="+(r&&r.manualCheck)+" propertyName="+(r&&r.propertyName)+" width="+a+" overlayControlsTargetWidth="+l+" height="+s+" overlayControlsTargetHeight="+d+" mainTransitionWasFinished="+e.mainTransitionWasFinished+" mainTransitionWasStarted="+e.mainTransitionWasStarted,2),!l||!d||!e.mainTransitionWasStarted||!r||"height"!==r.propertyName&&"width"!==r.propertyName||Math.abs(s-d)>5||Math.abs(a-l)>5)return}e.mainTransitionWasFinished=!0,e.mainTransitionWasStarted=!1,e.logger.none(e["Format[CollapsingThumbnail]"]+".updateAfterTransitionEnd() mainTransitionWasStarted="+e.mainTransitionWasStarted),e._removeDOMEventListener(e._overlayControls,"transitionend",t),setTimeout((function(){e.update(!1,!1);var t=e._thumbnailDefaultText,r=e._thumbnailWrapper,i=e.options.thumbnailBackgroundColor;t&&Object(m.c)(t,{opacity:1}),Object(m.c)(r,{backgroundColor:i})}),1)}.bind(this),setTimeout((function(){e._addDOMEventListener(e._overlayControls,"transitionend",t)}),1)}function gr(){var t=this.options.transitionDuration;this.logger.trace(this["Format[CollapsingThumbnail]"]+".initThumbnail()"),this._thumbnailWrapper=Object(m.b)(this._overlayControls,"div",{position:"relative",zIndex:2,width:"100%",height:"100%",borderRadius:"4px 0 0 4px",textAlign:"center",overflow:"hidden",opacity:.95,backgroundColor:"transparent",transitionProperty:"top, width, height",transitionDuration:t+"ms",transitionTimingFunction:"ease-out",display:"flex",alignItems:"center",justifyContent:"center"}),this._thumbnailWrapper.className="___thumbnailWrapper___",this._thumbnailDefaultText=Object(m.b)(this._thumbnailWrapper,"div",{height:"auto",width:"auto",zIndex:1,color:"grey",lineHeight:1.2,opacity:0,transition:"all "+t+"ms ease-out"},pe(ir()))}function fr(){var t=this.options,e=t.skipControlsTransitionDuration,r=t.skipControlsTransitionDelay,i=t.thumbnailWrapperWidth;this.logger.trace(this["Format[CollapsingThumbnail]"]+".initCountdown()");var o=100-parseFloat(i),n=o+"%",a=o+.5+"%",s=this._skipAd=Object(m.b)(this._overlayControls,"div",{position:"absolute",zIndex:1,top:0,right:n,width:a,height:"100%",visibility:"hidden",display:"flex",flex:"0 0 auto",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",boxSizing:"border-box",background:"white",borderRadius:"0 4px 4px 0",fontSize:"2.7vh",transition:"all "+e+"ms ease-out",transitionDelay:(r||1.5*e)+"ms"});s.className="___skipAd___",this._countdownText=Object(m.b)(s,"div",{display:"none",paddingTop:0,paddingBottom:0,paddingLeft:"5%",paddingRight:"5%",lineHeight:1,textAlign:"center"}),this._countdownValue=Object(m.b)(s,"div",{textAlign:"center"});var l=this._countdownValueText=Object(m.b)(this._countdownValue,"div",{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"10px",fontWeight:"bold",width:"2vh",height:"2vh",lineHeight:1,borderRadius:"50%",backgroundColor:"#d3d3d3",boxSizing:"border-box"});l.className="___countdownValueText___",setTimeout((function(){return Object(m.c)(l,{transition:"all 250ms"})}),1)}function vr(t,e){var r=this._overlayControls,i=this._thumbnailWrapper,o=this.options,n=o.right,a=o.bottom,s=o.transitionDuration,l=o.thumbnailWrapperWidth;this.logger.trace(this["Format[CollapsingThumbnail]"]+".updateOverlayControls()");var d=0^parseFloat(t),c=0^parseFloat(e);this.overlayControlsTargetWidth=t,this.overlayControlsTargetHeight=e,this.logger.none(this["Format[CollapsingThumbnail]"]+".updateOverlayControls() blockWidth:"+d+" blockHeight:"+c,2,"brown"),Object(m.c)([r,i],{transitionDuration:s+"ms"}),setTimeout((function(){Object(m.c)(r,{right:n,bottom:a,width:Object(g.t)(d),height:Object(g.t)(c)}),Object(m.c)(i,{width:l})}),1),this._getCurrentPlayer()||Object(m.c)(r,{transition:"width 1ms, height 1ms",left:"-"+t})}function mr(t){var e=this;this.logger.trace(this["Format[CollapsingThumbnail]"]+".updateThumbnail()");var r=this._thumbnailDefaultText;return br.call(this).then((function(i){return e.logger.trace(e["Format[CollapsingThumbnail]"]+".updateThumbnail() gotThumbnail="+i),r&&Object(m.c)(r,{fontSize:parseInt(t,10)/6+"px"}),i}))}function br(){var t=this;if(this._thumbnail)return Promise.resolve(this._thumbnail);if(this._tumbnailImage)return i.call(this);var e=this.options.getThumbnailTimeout,r=new Promise((function(e){var r=t._getCurrentPlayer(),o=r&&r.getThumbnail&&r.getThumbnail();if(!o){var n=r?"currentPlayer did not return thumbnailImage ":"Can not found currentPlayer";return t.logger.warn(t["Format[CollapsingThumbnail]"]+".updateThumbnail() "+n),e(!1)}return t.logger.log(t["Format[CollapsingThumbnail]"]+".getThumbnail() Got currentPlayer",2,"green"),Object(Ue.c)(o).then((function(e){return"error"!==e.type?t._tumbnailImage=o:null})).then((function(){return i.call(t)})).then((function(t){return e(!!t)})),e(!0)}));return Promise.race([r,new Promise((function(t,r){e&&setTimeout((function(){r(Error("Timeout("+e+") for getThumbnail was expired"))}),e)}))]);function i(){var t=this,e=this._thumbnailWrapper,r=this._thumbnailDefaultText;if(!e)return Promise.resolve(!1);var i=this._tumbnailImage;return new Promise((function(o){r&&(r.remove(),delete t._thumbnailDefaultText);var n=null;i&&((n=t._thumbnail=Object(m.b)(e,"img",{position:"relative",height:"100%",zIndex:2})).src=i),o(n)}))}}function yr(t){var e=this;if(this.mainTransitionWasFinished){var r=this._overlayControls,i=this._skipAd,o=this._countdownText,n=this._thumbnail,a=this._countdownValueText,s=this._overlayControlsSetOpacity,l=this.options,d=l.right,c=l.skipControlsTransitionDuration,u=l.boxShadow,h=r.clientHeight;(b.h||h<=55||!n)&&(t=!1);var p=t?h/2:h/1.5;if(Object(m.c)(o,{display:t?"":"none"}),Object(m.c)(r,{boxShadow:u}),Object(m.c)(i,{visibility:"visible"}),this._getCurrentPlayer()){if(!s){var g=this.options,f=g.startFadingDuration,v=g.fadingDuration,y=g.intermediateFadingOpacity,A=g.raisingDuration,O=g.targetFadingOpacity;this._overlayControlsSetOpacity=!0;var w=this.module.getControlNode("slot"),_=this.module.getControlNode("vpaidSlot");Object(m.c)(r,{transitionProperty:"opacity",transitionDuration:f+"ms",transitionTimingFunction:"linear"});var S,P=!!b.h,C=!1,j=_.querySelector("iframe");try{S=j&&j.contentWindow&&j.contentWindow.document}catch(t){}var E=S||_||w,D=!b.h&&this._addDOMEventListener(E,"mousemove",(function(){P=!0,C&&(Or.call(e,y,A),e._removeDOMEventListener(E,"mousemove",D))})),I=this._addDOMEventListener(r,"transitionend",(function(t){"opacity"===t.propertyName&&(e.logger.log(".updateCountdown() mouseout transitionend mouseInArea="+P),C=!0,!P&&wr.call(e,O,v),I&&e._removeDOMEventListener(r,"transitionend",I))}));Object(m.c)(r,{opacity:y}),setTimeout((function(){e._removeDOMEventListener(r,"transitionend",I),C||I&&e._removeDOMEventListener(r,"transitionend",I),C=!0}),f+100),b.h||(this._addDOMEventListener(w,"mouseover",(function(t){var i=t.relatedTarget;if(i!==_&&i!==r){var o=Ar.call(e,i,[r],"slot mouseover");o!==r&&Or.call(e,y,o?v:A)}})),this._addDOMEventListener(_||w,"mouseover",(function(t){var i=t.relatedTarget;if(i!==w){var o=Ar.call(e,i,[r,w],"vpaidSlot mouseover");Or.call(e,y,o?v:A)}})),this._addDOMEventListener(r,"mouseenter",(function(){Or.call(e,1,A)})),this._addDOMEventListener(w,"mouseout",(function(t){var i=t.relatedTarget,o=Ar.call(e,i,[r,_],"slot mouseout");o!==_&&o!==_&&o!==r&&wr.call(e,O,v)})),this._addDOMEventListener(r,"mouseout",(function(t){var i=t.relatedTarget;Ar.call(e,i,[r],"_overlayControls mouseout")!==r&&(i===w&&i===_||wr.call(e,O,v))})))}Object(m.c)(o,{transition:"none"}),Object(m.c)(i,{fontSize:h/6+"px",transition:"width 0ms, transform "+c/2+"ms ease-out",transform:"translateX(98%)"})}else Object(m.c)(r,{right:d,transition:"all "+c+"ms ease-out"}),Object(m.c)(i,{flexDirection:"row",width:"100%",right:"0",transition:"none"});Object(m.c)(a,{fontSize:p/2+"px",width:p+"px",height:p+"px"})}else this.logger.trace(this["Format[CollapsingThumbnail]"]+'.updateCountdown() event "transitionend" for overlayControls can be not occurs')}function Ar(t,e,r){void 0===r&&(r=""),this.logger.none(" "+r+" relatedTarget="+Object(g.f)(t));for(var i=t;i&&e.indexOf(i)<0;)i=i.parentElement;return i}function Or(t,e){void 0===e&&(e=0);var r=this._overlayControls,i=this._overlayControlsStartOpacity,o=void 0!==i&&i||1;Object(m.c)(r,{transition:"none",opacity:o}),Object(m.c)(r,{transitionProperty:"opacity",transitionDuration:e+"ms",transitionTimingFunction:"linear"}),Object(m.c)(r,{opacity:t})}function wr(t,e){var r=this._overlayControls,i=getComputedStyle(r).opacity;this._overlayControlsStartOpacity=parseFloat(i),Object(m.c)(r,{transitionProperty:"opacity",transitionDuration:e+"ms"}),Object(m.c)(r,{opacity:t})}function _r(){var t=this.module,e=this.options.width;this.logger.trace(this["Format[CollapsingThumbnail]"]+".calculateBlockSize()");var r=(Xe.a.call(t)||{}).outsideWidth*(parseInt(e,10)/100);return{blockWidth:r+"px",blockHeight:r/2.5+"px"}}function Sr(){var t=this.module,e=this._overlayControls,r=this._countdownValueText,i=this.options,o=i.countdownColor,n=i.countdownBackgroundColor,a=i.countdownHoverColor,s=i.countdownBackgroundHoverColor;this.logger.none(this["Format[CollapsingThumbnail]"]+" setCountdownAsPlayButtonBehavior()"),e.removeEventListener("click",this._overlayControlsClickHandler),this._overlayControlsClickHandler=function(){t.skipAd()},this._overlayControls.addEventListener("click",this._overlayControlsClickHandler),Object(m.c)(e,{cursor:"pointer"}),this._overlayControlsMouseenterHandler=this._addDOMEventListener(e,"mouseenter",(function(){Object(m.c)(r,{backgroundColor:s,color:a})})),this._overlayControlsMouseleaveHandler=this._addDOMEventListener(e,"mouseleave",(function(){Object(m.c)(r,{backgroundColor:n,color:o})}))}function Pr(){var t=this._overlayControls,e=this._overlayControlsClickHandler;this.logger.trace(this["Format[CollapsingThumbnail]"]+" clearCountdownAsPlayButtonBehavior()"),t.removeEventListener("click",e),t.removeEventListener("touchend",e),this._overlayControlsClickHandler=function(t){t.stopPropagation()},this._overlayControls.addEventListener("click",this._overlayControlsClickHandler),this._overlayControls.addEventListener("touchend",this._overlayControlsClickHandler),Object(m.c)(t,{cursor:"auto"}),this._removeDOMEventListener(t,"mouseenter",this._overlayControlsMouseenterHandler),this._removeDOMEventListener(t,"mouseleave",this._overlayControlsMouseleaveHandler)}function Cr(){this._removeTimeout(this.TIMER_NAME)}function jr(){var t=this._overlayControls;Object(m.c)(t,{visibility:"visible",opacity:1}),Dr.call(this)}function Er(){this.logger.trace(this["Format[CollapsingThumbnail]"]+" @AdVideoComplete",2),this._removeTimeout(this.TIMER_NAME)}function Dr(){var t=this;this._addTimeout(this.TIMER_NAME,(function(){Tr.call(t),Dr.call(t)}),500)}function Ir(t){var e=this.timeBeforeSkipChecker,r=t.getAdDuration()||0,i=this.getAdElapsedTime(),o=t.getControlUnionData("skipAdCountdown","timeBeforeSkip")||t.getControlUnionData("skipAd","timeBeforeSkip")||r;return{time:Math.round(Math.min(r,o)-i),skipTime:o,adDuration:r,isSkippable:e&&e.isSkippable()}}function Tr(){var t=this.module,e=this._countdownText,r=this._countdownValueText,i=Ir.call(this,t),o=i.time,n=i.skipTime,a=i.adDuration,s=i.isSkippable,l=t.getAdSkippableState();this.logger.none(this["Format[CollapsingThumbnail]"]+" @AdRemainingTimeChange "+o+":"+n+":"+a,1,"#8fbc8f"),!l&&o>0&&(e.innerHTML=pe(s?rr():er()),r.innerHTML=""+o),(l||o<=0&&n<=a&&!this._playButtonWasShown)&&(this._playButtonWasShown=!0,t.setAdSkippableState(!0),e.innerHTML=pe(tr()),r.innerHTML=Ge.a,Sr.call(this)),yr.call(this,!0)}function Vr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vr(Object(r),!0).forEach((function(e){Mr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Rr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xr,Nr="ViqeoPlayerRoll",Lr="Format[ViqeoPlayerRoll]",Fr={playerPlaybackClass:"vn-playback-viqeo-roll",destroyTimeout:5e3,playerDesktopStartFactor:.5,playerDesktopStopFactor:0,playerMobileStartFactor:.5,playerMobileStopFactor:0,hideThumbnail:!1},Wr={},Hr=function(t){var e,r;function i(e,r){var i;if(r=kr({},Fr,{},r,{ancestor:Lr}),Mr(Rr(i=t.call(this,e,r)||this),"_proceedToNextDefaultAd",(function(t){t&&(i.logger.trace("Format[ViqeoPlayerRoll] @vnProceedToNextDefaultAd",2),i._updateModuleState())})),i.slot=e.getControlNode("slot"),!i.slot)throw Error("Format[ViqeoPlayerRoll] player don't give the slot");i._initModule();var o=Rr(i).options,n=o.playerDesktopStartFactor,a=o.playerDesktopStopFactor,s=o.playerMobileStartFactor,l=o.playerMobileStopFactor;return i._startFactor=parseFloat(b.h?s:n),i._stopFactor=parseFloat(b.h?l:a),i.scrollNode=Object(m.k)(r.scrollElement)||window,i.vqPlayer=e.environmentVars.vqPlayer,i.collapsingThumbnail=null,i}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.isFloatingMode=function(){var t=this.vqPlayer;return!(!t||!t.inMode("flying"))},o._initModule=function(){var t=this,e=this.module,r=this.options;e._applyLayout(kr({},ur,{},Wr)),this._addVPAIDEventListener(e,"AdLoaded",(function(){t.collapsingThumbnail=!r.hideThumbnail&&new hr(e,r,(function(){return t.vqPlayer}));var i=t.collapsingThumbnail,o=(t.options.moduleAPI||{}).isVpaidJs;o&&o()&&i&&(i.options.transitionDuration=0),i&&i.init()})),this._addVPAIDEventListener(e,"vnProceedToNextDefaultAd",this._proceedToNextDefaultAd)},o.setZIndex=function(t){var e=this.collapsingThumbnail;this.logger.trace("Format[ViqeoPlayerRoll].setZIndex("+t+")"),e&&e.setZIndex(t)},o._updateModuleState=function(){var t=this;this.logger.none("Format[ViqeoPlayerRoll].updateModuleState()");var e=this.module,r=this._startFactor,i=this._stopFactor;Object(g.o)(this.slot).then((function(o){var n=o.intersectionRatio;be.c.call(e,["paused","pausing"])&&n>=r&&e.resumeAd(),be.c.call(e,"playing")&&n<i&&e.pauseAd(),be.c.call(e,"loaded")&&n>=r&&e.isVpaidStartAdWasInvokedOnce&&(t.logger.trace("Format[ViqeoPlayerRoll] startAd() for defaultAd manually"),e.startAd())}))},o._vpaidInitAd=function(){this.logger.trace("Format[ViqeoPlayerRoll].vpaidInitAd()");var e=this.scrollNode,r=this.options.moduleAPI||{},i=r.addVPAIDEventListener,o=r.extendEnvironmentVars;return o&&o({forceAspectRatio:!b.h}),i("AdLoaded",Br.bind(this),this),i("AdStarted",Xr.bind(this),this),i("AdVideoStart",Gr.bind(this),this),i("AdStopped",Jr.bind(this),this),i("AdDestroyed",Qr.bind(this),this),i("AdSizeChange",Ur.bind(this),this),this._addDOMEventListener(e,"scroll",zr.bind(this)),t.prototype._vpaidInitAd.call(this)},o.getModuleOptions=function(){return{isInsideTextContent:!1,disableHoverAudio:!0,startingVolume:0,vpaidJsVideoSlotShouldBeMuted:!0}},o.hasReachInventoryFactory=function(){return!0},o.getReachInventoryFactory=function(){var t=this;return this.logger.trace("Format[ViqeoPlayerRoll].getReachInventoryFactory()"),{markNode:"",waiterCreator:function(){return t._waitAdvStart()},destroy:null,id:"vn-visible-inventory-mark_"+this}},o._waitAdvStart=function(){var t=this;return this.logger.trace("Format[ViqeoPlayerRoll].waitForAdvStart"),new Promise((function(e){Zr.call(t,e,"advStart")}))},o._getModuleDimensions=function(){var t=this.vqPlayer,e=t.getModuleDimensions(),r=e.viewportHeight,i=e.viewportTop,o=e.viewportBottom,n=e.moduleTop;return{viewportHeight:r,viewportWidth:t.getSize().width,viewportTop:i,viewportBottom:o,moduleTop:n}},o.updateOptions=function(t){this.options=kr({},this.getOptions(),{},t);var e=this.collapsingThumbnail,r=this.options.hideThumbnail;e&&r&&(this.logger.log("Format[ViqeoPlayerRoll] updateOptions() hideThumbnail="+r+" so collapsingThumbnail is hidden"),e._destroy(),this.collapsingThumbnail=null)},o.toString=function(){return Lr},o.getBaseName=function(){return Nr.toLowerCase()},i}(v);function zr(){this.logger.none("Format[ViqeoPlayerRoll] @scroll"),this._updateModuleState()}function Br(){this.logger.trace("Format[ViqeoPlayerRoll] @AdLoaded",2),this._addDOMEventListener(document,"visibilitychange",qr.bind(this),!1),this._updateModuleState()}function Ur(){this.logger.trace("Format[ViqeoPlayerRoll] @AdSizeChange",2);var t=this.module,e=this.collapsingThumbnail;be.c.call(t,["pausing","paused","resuming","playing"])&&e&&e.update(!0)}function qr(){var t=this.module,e=document.visibilityState;this.logger.trace("Format[ViqeoPlayerRoll] @visibilitychange ("+e+")",2),"hidden"===e?be.c.call(t,"playing")&&t.pauseAd({invoker:this,method:"onVisibilityChange"}):this._updateModuleState()}function Gr(){this.logger.trace("Format[ViqeoPlayerRoll] @AdVideoStart",2),Yr.call(this,!0),this._updateModuleState()}function Xr(){this.logger.trace("Format[ViqeoPlayerRoll] @AdStarted",2),this._updateModuleState()}function Jr(){this.logger.trace("Format[ViqeoPlayerRoll] @AdStopped",2),Yr.call(this,!1)}function Qr(){var t=this;this.logger.trace("Format[ViqeoPlayerRoll] @AdDestroyed",2),Yr.call(this,!1);var e=this.options.destroyTimeout;setTimeout((function(){return t._destroy()}),e)}function Yr(t){void 0===t&&(t=!0);var e=this.slot,r=this.options.playerPlaybackClass;e&&r&&(t?e.classList.add(r):e.classList.remove(r))}function Zr(t,e){var r=this.vqPlayer;this.logger.trace("Format[ViqeoPlayerRoll] Got "+e+" from player"),r.subscribe(t,e)}function Kr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function $r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ti(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ei,ri="AmpRoll",ii="Format[AmpRoll]",oi=(null===a.a||void 0===a.a||null===(xr=a.a.getChildWriter)||void 0===xr?void 0:xr.call(a.a,ii))||a.a,ni={playerDefaultClass:"vn-player",playerPlaybackClass:"vn-playback",playerSelectorPercent:"100%",widthElement:null,playerElement:"#c",lookupElement:"#c",playerSelectorTotalMin:1,playerDesktopStartFactor:.6,playerDesktopStopFactor:.6,playerMobileStartFactor:.5,playerMobileStopFactor:.2,preloadDistance:190,maxSegments:1,minSegments:0,minDistance:1,destroyTimeout:5e3,doNotWatchVisibility:!0,expandingDuration:0},ai=function(t){var e,r;function i(e,r){var i,o=r&&r.ancestor&&r.ancestor+":"+ii||"Module::Format[AmpRoll]";oi.trace(o+".constructor()"),i=t.call(this,e,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Kr(Object(r),!0).forEach((function(e){$r(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},ni,{},r,{ancestor:o}))||this,i["Format[AmpRoll]"]=o,i.lastPostponedAction=null,i.adLoaded=!1,i.intersectionRatio=0,i.unlistenObserveIntersection=null,window.context.observeIntersection&&(i.unlistenObserveIntersection=window.context.observeIntersection(i._ampObserveIntersection.bind(ti(i))));var n=new g.a;return i.visibleInventoryPromise=n.promise,i.visibleInventoryResolve=n.resolve,(0,ti(i).options.moduleAPI.setControlData)("wrapper",{css:{position:"absolute"}}),i}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.waitBeforeLoadUrl=function(t){return oi.trace(this["Format[AmpRoll]"]+".waitBeforeLoadUrl("+t+")"),Promise.resolve(t)},o._vpaidInitAd=function(){oi.trace(this["Format[AmpRoll]"]+".vpaidInitAd()");var e=this.module;this._addVPAIDEventListener(e,"AdLoaded",si.bind(this)),this._addVPAIDEventListener(e,"AdStarted",li.bind(this));var r=t.prototype._vpaidInitAd.call(this);return Object(_.g)(e.environmentVars,{forceAspectRatio:!1}),r},o.abort=function(){window.context.noContentAvailable&&(oi.trace(this["Format[AmpRoll]"]+".abort() invoke window.context.noContentAvailable()"),window.context.noContentAvailable())},o._destroy=function(){this.unlistenObserveIntersection&&this.unlistenObserveIntersection(),t.prototype._destroy.call(this)},o._ampObserveIntersection=function(t){var e=this;t.forEach((function(t){var r=t.intersectionRatio;r>0&&e.visibleInventoryResolve(),oi.none(e["Format[AmpRoll]"]+"._ampObserveIntersection() intersectionRatio="+r+" this.intersectionRatio="+e.intersectionRatio),e.intersectionRatio!==r&&(e.intersectionRatio=r,oi.none(e["Format[AmpRoll]"]+"._ampObserveIntersection() intersectionRatio="+r+" this.adLoaded="+e.adLoaded),e.adLoaded?e._updateModuleState():e.lastPostponedAction=e._updateModuleState.bind(e))}))},o.hasReachInventoryFactory=function(){return!0},o.getReachInventoryFactory=function(){var t=this;return oi.trace(this["Format[AmpRoll]"]+".getReachInventoryFactory()"),{id:"vn-visible-inventory-mark_"+this,waiterCreator:function(){return t.visibleInventoryPromise},destroy:null,markNode:""}},o._moduleResizeAd=function(t,e){var r=this.options.moduleAPI,i=r.resizeAd,o=r.getIndents,n=o&&o()||{},a=n.top,s=n.bottom,l=window.getComputedStyle(t),d=Math.min(window.innerWidth,Math.round(t.clientWidth-parseFloat(l.paddingLeft)-parseFloat(l.paddingRight))),c=Math.min(window.innerHeight-a-s,Math.round(d*e));i&&i(d,c)},o.canExecuteNoAd=function(){return!0},o._getModuleShown=function(){return this.intersectionRatio},o._updateModuleState=function(){var t=this.intersectionRatio;this._applyModuleState({intersectionRatio:t,moduleSquare:1})},o._updateModuleNodeSize=function(){var t=this.moduleNode,e=this.options.moduleAPI,r=e.getControlNode,i=e.getIndents,o=t&&t.parentElement||{},n=o.clientWidth,a=o.clientHeight;Object(m.c)(t,{width:Object(g.t)(n),height:Object(g.t)(a)});var s=r&&r("iframe");Object(m.c)(s,{position:"absolute",left:0,top:0,width:"100%",height:"100%"});var l=(i&&i()||{}).outsideHeight,d=r&&r("wrapper"),c=d&&d.parentElement;if(c){var u=Object(g.i)(c).height;u=Math.min(a,u),oi.trace(this["Format[AmpRoll]"]+".updateModuleNodeSize("+n+":"+a+") parentHeight="+u+" outsideHeight="+l),d&&u&&Object(m.c)(d,{top:Object(g.t)(u/2-l/2)})}},o.getModuleOptions=function(){return{isInsideTextContent:!0,canExecuteNoAd:!0}},o.toString=function(){return ii},o.getBaseName=function(){return ri.toLowerCase()},i}(G);function si(){var t=this;window.context.reportRenderedEntityIdentifier&&window.context.reportRenderedEntityIdentifier("videonow"),this.adLoaded=!0;var e=this.lastPostponedAction;e&&e(),setTimeout((function(){return t._updateModuleNodeSize()}),1)}function li(){var t=this;if(window.context.renderStart){var e=this.options.moduleAPI.getIndents,r=e&&e()||{},i=r.outsideWidth,o=r.outsideHeight;i&&o&&(oi.log(this["Format[AmpRoll]"]+".onAdStarted() renderStart("+i+", "+o+")",2,"green"),window.context.onResizeSuccess((function(e,r){oi.trace(t["Format[AmpRoll]"]+".onAdStarted:onResizeSuccess("+e+", "+r+")"),setTimeout((function(){return t._updateModuleNodeSize()}),1)})),window.context.renderStart({width:i,height:o}))}}function di(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function ci(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ui(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var hi="Overlay",pi="Format[Overlay]",gi=(null===a.a||void 0===a.a||null===(ei=a.a.getChildWriter)||void 0===ei?void 0:ei.call(a.a,pi))||a.a,fi={},vi=function(t){var e,r;function i(e,r){var i;if(gi.trace("Format[Overlay].constructor()"),!b.h)throw new Error("Mobile not detected");if(!mi)throw new Error("Fixed positioning support not detected");i=t.call(this,e,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?di(Object(r),!0).forEach((function(e){ci(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):di(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},fi,{},r||{},{ancestor:pi}))||this;var o=window,n=o.innerWidth,a=o.innerHeight,s=i.overlayNode=i._addDOMNode(Object(m.b)(document.body,"div",{visibility:"hidden",position:"fixed",zIndex:-1,top:0,left:0,width:n+"px",height:a+"px",background:"rgba(0, 0, 0, .9)"}));i._addDOMEventListener(s,"touchmove",m.d);var l=Object(m.b)(s,"div",{position:"absolute",top:0,right:0,bottom:0,left:0,width:"100%",height:"100%"});e.setControlData("underplay",{node:l});var d=i.slotNode=Object(m.b)(s,"div",{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:n+"px",height:"0px"}),c=ui(i).options.moduleAPI.addVPAIDEventListener;return window.savedRequestAnimationFrame=null,i.savedRequestAnimationFrameCallbacks=[],e.setControlData("slot",{node:d}),c("AdLoaded",yi.bind(ui(i)),ui(i)),c("AdVideoStart",Ai.bind(ui(i)),ui(i)),c("vn_hideOverlayFormatWrapper",(function(){gi.warn("Format[Overlay] @vn_hideOverlayFormatWrapper"),i.hide()}),ui(i)),c("vn_setOverlayZIndex",(function(t){var e=t.zIndex;gi.warn("Format[Overlay] @vn_setOverlayZIndex");var r=ui(i).overlayNode;r&&!isNaN(e)&&Object(m.c)(r,{zIndex:e})}),ui(i)),c("AdDestroyed",Oi.bind(ui(i)),ui(i)),c("resize",bi.bind(ui(i)),ui(i)),c("vn_VPAIDCreated",wi.bind(ui(i)),ui(i)),i}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o._resize=function(){var t=this.module,e=this.overlayNode,r=this.slotNode,i=this.isFullscreen,o=this.mediaInfo,n=window,a=n.innerWidth,s=n.innerHeight,l=t.getAdAspectRatio(),d=a,c=i?s:Math.min(a*l,s);gi.trace("Format[Overlay].resize("+d+"("+a+"):"+c+"("+s+")/"+l+")"),Object(m.c)(e,{width:a+"px",height:s+"px"}),Object(m.c)(r,{width:a+"px",height:s+"px"}),t.resizeAd(a,s,i);var u=o&&function(t,e){var r=e||{},i=r.width,o=r.height,n=r.scalable,a=r.type;if(!a||!a.includes("javascript"))return null;var s=parseFloat(i),l=parseFloat(o),d=Object(g.u)(n);if(s||l){if(d&&s&&l){var c=t.clientHeight,u=t.clientWidth,h=s/l,p=u/h;p>c?s=(l=c)*h:(s=u,l=p)}return{position:"absolute",overflow:"hidden",top:l?"50%":0,left:s?"50%":0,height:l?Object(g.t)(l):"100%",width:s?Object(g.t)(s):"100%",marginTop:l?Object(g.t)(-l/2):0,marginLeft:s?Object(g.t)(-s/2):0}}return null}(r,o),h=this.forceInsideHeight,p=this.forceInsideWidth,f=t.getControlNode("vpaidSlot");!u&&f&&h&&p?Object(m.c)(f,{position:"relative",display:"inline-block",verticalAlign:"middle",width:Object(g.t)(Math.min(p,a)),height:Object(g.t)(Math.min(h,s))}):f&&u&&Object(m.c)(f,u)},o.hide=function(){gi.trace("Format[Overlay].hide()");var t=this.overlayNode;t&&Object(m.c)(t,{height:0,opacity:0,zIndex:-1}),Object(m.c)(document.body,{overflow:""})},o._close=function(){gi.trace("Format[Overlay].close()");var t=this.slotNode,e=this.overlayNode;Object(m.c)(t,{transition:"all 300ms ease-out"}),setTimeout((function(){Object(m.c)(t,{height:0,opacity:.5})}),50),setTimeout((function(){Object(m.t)(e)}),500)},o.getModuleOptions=function(){return{isInsideTextContent:!0,vpaidJsVideoSlotShouldBeMuted:!0}},o.fullscreenSwitchOn=function(){this.isFullscreen=!0},o.getModuleNode=function(){return this.overlayNode},o.getSlotNode=function(){return this.slotNode},o._getModuleDimensions=function(){return Object(g.k)(window,this.getModuleNode())},o.toString=function(){return pi},o.getBaseName=function(){return hi.toLowerCase()},i}(p),mi=function(){var t=!1;if(document.createElement){var e=document.createElement("div");if(e&&e.style){e.style.position="fixed",e.style.top="10px";var r=document.body;r&&r.appendChild&&r.removeChild&&(r.appendChild(e),t=10===e.offsetTop,r.removeChild(e))}}return t}();function bi(){var t=this;gi.trace("Format[Overlay] @resize"),(window.savedRequestAnimationFrame||requestAnimationFrame)((function(){return t._resize()}))}function yi(){gi.trace("Format[Overlay] @AdLoaded",2),this.module.startAd()}function Ai(){var t=this;gi.trace("Format[Overlay] @AdVideoStart",2),this._resize(),Object(m.c)(document.body,{overflow:"hidden"}),Object(m.c)(this.overlayNode,{visibility:"",zIndex:2147483647}),window.savedRequestAnimationFrame||(window.savedRequestAnimationFrame=window.requestAnimationFrame,window.requestAnimationFrame=function(e){t.savedRequestAnimationFrameCallbacks.push(e)})}function Oi(){gi.trace("Format[Overlay] @AdDestroyed",2),this._close(),gi.trace("Format[Overlay] Restoring DOM elements"),window.savedRequestAnimationFrame&&(window.requestAnimationFrame=window.savedRequestAnimationFrame,this.savedRequestAnimationFrameCallbacks.forEach(requestAnimationFrame),window.savedRequestAnimationFrame=null,this.savedRequestAnimationFrameCallbacks=[])}function wi(t){var e=this,r=t.vpaid,i=(this.options||{}).setSizeByMedia,o=r&&r.getMediaInfo();o&&(Object(g.u)(i)?o.then((function(t){var r=t.width,i=t.height;r&&i&&(e.forceInsideHeight=i,e.forceInsideWidth=r,e._resize())})):o.then((function(t){e.mediaInfo=t,e._resize()})))}var _i="::Formats",Si={vpaid:v,instream:v,contentroll:G,continuousroll:yt,flyroll:function(t,e){var r=e||{},i=r.alwaysFly,o=r.flyrollAbsTop;return!0===o||"true"===o?new Qt(t,e):!0===i||"true"===i?new te(t,e):new ae(t,e)},slideroll:Ve,overlay:vi,viqeoplayerroll:Hr,amproll:ai},Pi=function(t,e,r){var i,o=t&&t.getAPI&&t.getAPI().logger||a.a,n=(null==o||null===(i=o.getChildWriter)||void 0===i?void 0:i.call(o,_i))||o;if("string"==typeof e){var s=e.toLowerCase(),l=t.options,d=l&&l.amp;if(d){if("contentroll"!==s.toLowerCase())return n.warn("::Formats Failed to create format ("+e+") because only the ContentRoll format is available for amp"),null;s="amproll"}var c=Si[s];if(c){n.log("::Formats.getFormat("+e+" -> "+s+")");var u=t.format;u&&(n.log("::Formats Destroying existing format"),u._destroy()),n.log("::Formats Initializing format ("+e+" -> "+s+")");var h=t.options[s],p=t.getAPI(),g=Object(_.g)({},d?{}:r,h,{moduleAPI:p});return d&&(g.amp=!0),new c(t,g)}n.warn("::Formats Format not defined ("+s+")")}return n.warn("::Formats Invalid format name ("+e+")"),null};function Ci(t){var e=t||{},r=e.destroyIframeAction,i=e.logger||a.a;this.logger=i,this.destroyIframeAction=r,this._controlData=this._rootControlData={},this.pushControlsDataStack=function(){this._controlData=Object.create(this._controlData)},this.popControlsDataStack=function(){if(this._controlData){var t=this._controlData;Object.prototype.hasOwnProperty.call(t,"iframe")&&t.iframe.node&&(this.logger.trace(":ControlsDataStack.popControlsDataStack() -> _destroyIframe"),this.destroyIframeAction());var e=Object.getPrototypeOf(t);e&&(this._controlData=e)}},this.updateControlData=function(t,e,r){var i,o;Object(_.g)(this._controlData,((i={})[t]=e,i)),r&&Object(_.g)(this._rootControlData,((o={})[t]=e,o))},this.setControlData=function(t,e,r){if(e){var i=r?this._rootControlData:this._controlData;!i&&!r&&(i=this._controlData={}),"solid"===e[_.b]||Array.isArray(e)||"object"!=typeof e?i[t]=e:i[t]=Object(_.g)({},Object.prototype.hasOwnProperty.call(i,t)&&i[t]||{},e)}},this.getControlData=function(t,e,r,i){void 0===r&&(r=!1),i||(i=function(){return!0});for(var o,n,a=this._rootControlData,s=this._controlData,l=r?a:s;l;l=Object.getPrototypeOf(l)){var d=Object.prototype.hasOwnProperty.call(l,t)&&l[t];if(d&&(void 0===o&&i(d)&&(o=e?null!=d[e]&&void 0!==d[e]?d[e]:void 0:d),o&&d[_.a]&&(n=e?d[e]:d)),void 0!==n&&o)break}return Object(_.h)(void 0!==n?n:o)},this.getControlRawUnionData=function(t,e,r){return Di.call(this,t,e,r)},this.getControlRawUnionDataGlobal=function(t,e,r){return Di.call(this,t,e,r,(function(t){return t}),!0)},this.getControlUnionData=function(t,e,r){return Di.call(this,t,e,r,_.h.bind(null))},this.getControlUnionDataGlobal=function(t,e,r){return Di.call(this,t,e,r,_.h.bind(null),!0)},this.getControlNode=function(t){var e=this.getControlUnionData(t);return e?e&&e.node:(this.logger.none(".getControlNode("+t+") Unable to find control.node"),null)}}var ji=function(t){Ci.call(this,t)},Ei=ji;function Di(t,e,r,i,o){void 0===i&&(i=function(t){return t}),void 0===o&&(o=!1),r||(r=function(){return!0});for(var n=[],a=o?this._rootControlData:this._controlData;a;a=Object.getPrototypeOf(a)){var s=Object.prototype.hasOwnProperty.call(a,t)&&a[t];if(s&&r(s)){var l={data:s,parsePoint:s.parsePoint};n.push(l)}}if(n.length){var d=i(function(t,e){var r=t.reduceRight((function(t,r){var i=!!r.parsePoint||e&&r[e]&&!!r[e].parsePoint;delete r.parsePoint;var o=r.data||{},n=t,a=Object(_.g)(n,r);return i&&!o.display&&delete a.display,i&&!o.visibility&&delete a.visibility,!i||o.position||"absolute"!==n.position||"hidden"!==n.visibility&&"none"!==n.display||delete a.position,a}),{}),i=r.data||{};return e?i[e]:i}(n,e));return null===d||void 0!==d&&("object"!=typeof d||Object.keys(d).length)?d:void 0}}function Ii(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Ti(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}"undefined"!=typeof exports&&(exports.ControlsDataStack=ji);var Vi="vnNoAd",ki="::Extension[vnNoAd]";function Ri(t,e){return void 0===e&&(e="Extensions >"),(this.logger||a.a).trace(".parseVnCreative()"),w.i.call(this,t,Vi,Mi,{parentPrefix:e})}function Mi(t){var e=t&&t.querySelector("scriptUrl");if(e){var r=Object(w.d)(e);return this.logger.trace(ki+" functionUrl:"+r),{functionUrl:r}}var i=t&&t.querySelector("function");if(i){var o=Object(w.d)(i);return this.logger.trace(ki+" function:"+o),{functionText:o}}return null}function xi(t,e){var r=t.format,i=t.options,o=t.getAPI&&t.getAPI().logger||a.a,n=(i||{}).canExecuteNoAd;return new Promise((function(i,a){o.log(ki+" Executing"),n||r&&r.canExecuteNoAd&&r.canExecuteNoAd()||a(new Error(ki+" runNoAd(). canceled "));var s=e||{},l=s.functionText,d=s.functionUrl;if(l&&l.length){var c=document.createElement("script");c.innerHTML=l,document.body.appendChild(c),i(t)}else if(d&&d.length){if(d){var u=decodeURIComponent(d);Object(Ue.a)(u).then((function(){o.log(ki+" script "+u+" was successfully loaded"),i(t)})).catch((function(t){console.warn(ki+" fail load script "+u+" "+t),a(t)}))}}else a(new Error(ki+" runNoAd(). No exists any function to execute"))}))}var Ni="vnVisibleInventory",Li="::Extension[vnVisibleInventory]";function Fi(t){return new Promise((function(e){var r,i=t&&t.getAPI&&t.getAPI().logger||a.a;((null==i||null===(r=i.getChildWriter)||void 0===r?void 0:r.call(i,Li))||i).trace(""+Li);var o,n=(t._getLastParameters()||{}).vnVisibleInventory||{},s=n.urls,l=n.important,d=n.global;(l||d||s&&s.length)&&t.setControlData(Ni,((o={urls:s})[_.a]=l,o),d);e(t)}))}var Wi=r(8),Hi="vnMinPlayerSize",zi="::Extension[vnMinPlayerSize]",Bi=function(t){return new Promise((function(e){var r,i=t&&t.getAPI&&t.getAPI().logger||a.a;((null==i||null===(r=i.getChildWriter)||void 0===r?void 0:r.call(i,zi))||i).trace(""+zi);var o,n=(t._getLastParameters()||{}).vnMinPlayerSize||{},s=n.size,l=n.important,d=n.global;(l||d||s&&(s.width||s.height))&&t.setControlData(Hi,((o={size:s})[_.a]=l,o),d);e(t)}))};function Ui(t,e){void 0===e&&(e="minPlayerSize"),(this.logger||a.a).trace(".parseVnMinPlayerSizeObject()");var r,i,o=t&&(e?t[e]:t)||{};if("string"==typeof o){var n=o.split("x");r=n[0],i=n[1]}else Array.isArray(o)?(r=o[0],i=o[1]):(r=o.width,i=o.height);var s={};return r&&(s.width=parseInt(r,10)),i&&(s.height=parseInt(i,10)),{size:s}}function qi(t){var e,r=t.getControlData(Hi)||{},i=r.size,o=r.fatal,n=i||{},a=n.width,s=n.height;if(!a&&!s)return null;var l=t.format,d=l&&(null===(e=l.getSlotSize)||void 0===e?void 0:e.call(l))||{},c=d.width,u=d.height;if(s&&!u)return t._addVPAIDEventListener(t,"AdStarted",(function(){var e=qi(t);e&&Wi.i.call(t,e,!0)})),null;if(a&&c<a||s&&u<s){var h=Xi(t),p=h.topWindow,g=h.contentParent;return Gi("\n    width: "+c+";\n    minWidth: "+a+";\n    height: "+u+";\n    minHeight: "+s+"\n    Viewport: "+(p?p.innerWidth:"Unknown")+";\n    Container width: "+g.offsetWidth+";\n    Ratio: "+c/g.offsetWidth+"`\n",!!o)}return null}function Gi(t,e){void 0===e&&(e=!1);var r=Error("Wrong slot size was detected: "+t);return r.code=o.a.AD_SIZE_ERROR,r.message=t,r.fatal=e,r}function Xi(t){var e=t.environmentVars,r=t.getControlNode("slot")||e.slot,i=Object(g.l)(window),o=i&&Object(g.h)(i)||Object(g.x)(window),n=o&&o.querySelector("body"),a=Object(m.g)(r,n).reverse(),s=n;return a.length&&a.forEach((function(t){s===n&&t.offsetWidth!==n.offsetWidth&&(s=t)})),s.documentElement&&(s=s.documentElement),{topWindow:i,contentParent:s}}var Ji=function(){function t(t,e,r){void 0===r&&(r=console),this.handler=e,this.timeout=t,this.log=r&&r.trace||console.log,this.id=null,this.startedTime=null,this.isStarted=!1,this.log(" InterruptibleTimeout constructor() timeout="+t)}var e=t.prototype;return e.start=function(){var t=this,e=this.timeout,r=this.handler;!this.startedTime&&e&&(this.startedTime=Date.now(),this.isStarted=!0,this.id=setTimeout((function(){t.log(" InterruptibleTimeout.start() setTimeout global timeout "+e+" expired this.id:"+t.id+" "),t.stop(),r()}),e),this.log(" InterruptibleTimeout.start() global timeout starts with "+e+" id:"+this.id))},e.pause=function(t){void 0===t&&(t="was paused");var e=this.id,r=this.timeout,i=this.startedTime,o=this.handler,n=this.isStarted;if(e&&r&&i&&n){this.isStarted=!1;var a=Date.now()-i;this.startedTime=0,clearTimeout(e),this.timeout-=a,this.log(" InterruptibleTimeout.pause() global timeout "+t+". the rest of timeout is "+this.timeout+" dif="+a+" id:"+e),this.timeout<=0&&(this.stop(),o&&o())}},e.stop=function(){this.log(" InterruptibleTimeout stop() id:"+this.id),this.id&&this._destroy()},e._destroy=function(){this.log(" InterruptibleTimeout _destroy() id:"+this.id),clearTimeout(this.id),this.isStarted=!1,this.timeout=0,this.id=null},t}(),Qi=r(16),Yi=r(17);function Zi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Ki(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zi(Object(r),!0).forEach((function(e){$i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function to(t,e,r){var i=this,o=Ki({},t&&(e?t[e]:t));if(Object(g.r)(o))return null;var n=eo(o);io(o);var a=Object.entries(o).reduce((function(t,e){var r=e[0],o=e[1],n=s.call(i,o);return Object(g.r)(n)||(t[r]=n),t}),{});return Object(g.r)(a)?null:Ki({},n,{},a);function s(t){var e=eo(t)||{},i=r.call(this,t);return i?"object"!=typeof i||Array.isArray(i)?i:Ki({},i,{},e):null}}function eo(t,e){if(void 0===e&&(e={}),!t)return e;var r=t.global,i=t.important,o=t.overwrite,n=t.fatal,a=t.remove;r&&(e.global=r);var s=Object(g.u)(i);s&&(e[_.a]=s);var l=Object(g.u)(n);return l&&(e.fatal=l),Object(g.u)(a)&&(e[_.d]=!0),null!=o&&(e[_.b]=o),e}function ro(t,e,r,i){void 0===r&&(r={}),void 0===i&&(i={});var o=i,n=o.processValue,a=void 0===n?function(t){return t}:n,s=o.includeCondition,l=void 0===s?function(){return!0}:s;return t&&[].concat(e).forEach((function(e){var i=t[e];e&&l(i)&&(r[e]=a(i))})),r}function io(t){return t&&w.l.forEach((function(e){return delete t[e]})),t}var oo=function(t){var e=t||{},r=e.options,i=e.important,o=Object(g.u)(i);if(Object(g.r)(r))return null;var n=Object.keys(r).reduce((function(t,e){var n,a=r[e];if(void 0===a)return t;var s=t[e]=((n={})[_.e]=a,n[_.c]=!0,n);return null!=i&&(s[_.a]=o),t}),{});return null!=i&&(n[_.a]=o),n};function no(t,e){var r=t&&(e?t[e]:t)||{};if("string"==typeof r)return{urls:r.split(",")};if(Array.isArray(r))return{urls:r};var i=e?to.call(this,t,e,o.bind(this)):o.call(this,t);return i&&i.length&&i[0]||i||null;function o(t){return t?"string"==typeof t?[t]:t:null}}var ao=r(21),so="::PreprocessDataUrl[clientinfo]",lo="Module::PreprocessDataUrl[weborama]",co="{weborama_data}",uo="//wam.solution.weborama.fr/fcgi-bin/dispatch.fcgi?d.A=prd&d.key=n9d9C9I4XN1I&d.format=json&d.top_clusters=10",ho="Module::PreprocessDataUrl[roxot]",po="{roxot_data}";function go(t,e){try{var r=localStorage.getItem(e);return null===r&&(r=1+Math.floor(Math.random()*t),localStorage.setItem(e,r)),""+r}catch(e){return""+(t+1)}}function fo(){return""+(1+Math.floor(100*Math.random()))}var vo=[function(t){var e=t.url,r=t.module;return new Promise((function(t){var i,o=r&&r.getAPI&&r.getAPI().logger||a.a,n=(null==o||null===(i=o.getChildWriter)||void 0===i?void 0:i.call(o,so))||o;if(ao.a.CLIENT_INFO_DOMAINS.some((function(t){return~e.indexOf(t)}))){n.trace(so+" Injecting client info:"),b.f||(n.trace(so+" Injecting flash=0"),e=Object(w.a)(e,{flash:0}));var s=r.adWidth,l=r.adHeight;s&&l&&(n.trace(so+" Injecting size w="+s+" & h="+l),e=Object(w.a)(e,{w:s,h:l}));var d=Object(g.j)(window,document);d&&(n.trace(so+" Injecting location="+d),e=Object(w.a)(e,{location:d}))}t({url:e,module:r})}))},function(t){var e=t.url,r=t.module;return new Promise((function(t){var i,o=r&&r.getAPI&&r.getAPI().logger||a.a,n=(null==o||null===(i=o.getChildWriter)||void 0===i?void 0:i.call(o,lo))||o;if(-1!==e.indexOf(co)){n.trace(lo+" Injecting weborama data:");new Promise((function(t){var e,r=Date.now(),i=r-864e5;try{e=JSON.parse(localStorage.getItem(uo))}catch(t){n.warn(lo+" Failed to get weborama data from localStorage: "+t)}e&&e.timestamp>i?(n.trace(lo+" Using cached weborama data"),t(e)):(n.trace(lo+" Fetching weborama data from "+uo),Object(Ue.f)(uo).then((function(e){var i={};try{i=JSON.parse(e.target.responseText)}catch(t){n.warn(lo+" Failed to parse weborama data: "+t)}n.trace(lo+" Retrieved weborama data: "+e.target.responseText),t({timestamp:r,data:i})})).catch((function(e){n.warn(lo+" Failed to retrieve weborama data: "+e.target.statusText),t({})})))})).then((function(t){return new Promise((function(e){try{localStorage.setItem(uo,JSON.stringify(t))}catch(t){n.warn(lo+" Failed to save weborama data to localStorage: "+t)}finally{e(t)}}))})).then((function(t){return new Promise((function(r){var i=t&&t.data||{},o=i.socio_demographics||{},a="&"+Object(w.a)("",{puid33:o.gender||"",puid34:o.age||"",puid35:o.social_class||"",puid36:(i.clusters||[]).slice(0,10).join(":"),puid37:(i.audiences||[]).slice(0,10).join(":")}).substr(1).replace("%3A",":"),s=e.replace(co,a);n.trace(lo+" Injected weborama data"),r(s)}))})).then((function(e){return t({url:e,module:r})}))}else t({url:e,module:r})}))},function(t){var e=t.url,r=t.module;return new Promise((function(t){var i,o=r&&r.getAPI&&r.getAPI().logger||a.a,n=(null==o||null===(i=o.getChildWriter)||void 0===i?void 0:i.call(o,ho))||o;if(-1!==e.indexOf(po)){n.trace(ho+" Injecting roxot data");var s={};[{key:"roxot-group-id",f:go.bind(null,1e3)},{key:"roxot-sector-id",f:go.bind(null,100)},{key:"roxot-deep",f:go.bind(null,100)},{key:"roxot-event-group-id",f:fo.bind(null)},{key:"roxot-event",f:fo.bind(null)},{key:"roxot-event-deep",f:fo.bind(null)},{key:"roxot-minutes",f:function(){return(new Date).getUTCMinutes().toString()}},{key:"roxot-hours",f:function(){return(new Date).getUTCHours().toString()}},{key:"roxot-day",f:function(){return(new Date).getUTCDay().toString()}}].forEach((function(){}