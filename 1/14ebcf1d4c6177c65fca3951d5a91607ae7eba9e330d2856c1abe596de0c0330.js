!function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e),o=n(t);const a=o.default.util,i=a.toArray,l=a.each,c=a.extend,s=o.default.url.makeUrl,u=/^(?:cl([bn])|([adgin]))(\d+)(?:sz(\d+))?/,d=r.default._.EXPERIMENTID||null,f=r.default._.SITEZONE||null,h="//rs.mail.ru/",p=e=>(new Image).src=e,m=e=>{let t;if(!(t=e.match(u)))return null;let n="",r=!1,o="",a="";return t[1]?n="s".concat(t[1]):"n"===t[2]?n="nc":"i"===t[2]?(r=!0,n=t[1]):n=t[2],o=t[3],a=t[4]?t[4]:f,{type:n,noRandom:r,num:o,params:[{name:"sz",value:a},{name:"test_id",value:d}]}};function g(){const e={d:"imp",sb:"click"},t={};i(arguments).reverse().forEach(e=>{e&&e.split(",").reverse().forEach(e=>{const n=m(e.trim());null!==n&&(t[n.type]||(t[n.type]=[]),t[n.type].push(n))})}),l(t,(t,n)=>{1===t.length?v(t[0]):t.length>1&&e[n]&&y(e[n],t.map(e=>e.num))})}const v=e=>{if(null===e)return;const t=[h,e.type,e.num,".gif"].join("");p(s(t,e.params,1<<Number(e.noRandom)<<2))},y=(e,t,n)=>{e&&t&&t.length&&p(s("//rs.mail.ru/bulkstat/",[{name:"type",value:e},{name:"banner_ids",value:t.map(encodeURIComponent).join(",")},{name:"test_id",value:n||d}],5))};c(g,{bulk:y,links:e=>{e&&e.length&&p(s("//rs.mail.ru/ns.gif",[{name:"n",value:e.map(encodeURIComponent).join(",")}],1))}});var _=/^([a-z][a-z0-9]*)/g,w=/^\.([A-z0-9\-\_]+)/g,b=/^#([A-z0-9\-\_]+)/g,x=/^@([A-z0-9\-\_]+)="([^"]+)"/g,A=/^\*(\d+)/g,C=new RegExp('"',"g"),E=/\s+/,N=/-(\w)/g;function S(e){for(var t,n=[],r=[];t=e.pop();){var o=document.createElement(t.tag||"div");for(var a in t.attrs||(t.attrs={}),t.id&&(t.attrs.id=t.id),t.classes&&(t.attrs.class=t.classes.join(" ")),t.attrs)t.attrs.hasOwnProperty(a)&&"length"!==a&&o.setAttribute(a,t.attrs[a]);for(var i=0,l=r;i<l.length;i++){var c=l[i];o.appendChild(c)}r.length=0,n.push(o),r.push(o);for(a=1;a<t.multi;a++){var s=o.cloneNode(!0);n.push(s),r.push(s)}}return[n,r]}function k(e){return e.replace(N,(function(e,t){return t.toUpperCase()}))}function j(e){return null===e.offsetParent}var I,O,F,P,T,R,z,M=!1;function H(e,t,n){var r=t.available,o=t.styles;if(void 0===n&&(n=!1),r){for(var a=0,i=o;a<i.length;a++){var l=i[a],c=l.field,s=l.value;e.style[c]=s}var u;if(M)u=window.getComputedStyle(e);else if(M=!0,e.style.setProperty){var d=e.style.getPropertyValue("display");e.style.setProperty("display","inline");var f=(u=window.getComputedStyle(e)).display;if(e.style.setProperty("display",d),"inline"!==f)return n&&console.warn("[Honeypot] detect: property changed",{Bait:e,display:f,oldValue:"inline"}),!0}return o.some((function(t){for(var r=t.field,o=t.value,a=0,i=function(e){return[e,k(e)]}(r);a<i.length;a++){var l=i[a];if(l in u&&u[l]!==o&&"auto"!==u[l])return n&&console.warn("[Honeypot] detect: property changed",{Bait:e,Field:r,property:u[l],oldValue:o}),!0}}))}return!1}function U(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}var B,D=[],L=function(){function e(e){try{I=e[0],O=e[1],F=e[2],P=e[3]}catch(e){console.error(e)}}return e.prototype.check=function(e){void 0===e&&(e=!1);try{if(D.length)return D.some((function(t){return j(t)?(e&&console.warn("[Honeypot] detect: hidden bait",{Function:"checkIfHidden",Bait:t}),!0):H(t,R,e)}));if(1===I.length)return e&&console.warn("[Honeypot] detect: configBaits.length === 1",{ConfigBaits:I}),!0;z=I.map((function(e){var t=e.split(E),n=(e.match(C)||[]).length;if(n>0&&n%2==0)for(var r=null,o=0;o<t.length;o++)if(null===r){var a=(t[o].match(C)||[]).length;a&&a%2&&(r=o)}else t[r]+=" "+t[o],-1!==t[o].indexOf('"')&&(r=null),t[o]=void 0;return t.filter((function(e){return e})).map((function(e){var t,n={id:null,tag:null,classes:null,attrs:null,multi:1};do{_.lastIndex=0,w.lastIndex=0,b.lastIndex=0,x.lastIndex=0,A.lastIndex=0,(t=_.exec(e))?(e=e.substr(_.lastIndex),n.tag=t[1]):(t=w.exec(e))?(e=e.substr(w.lastIndex),n.classes=n.classes||[],n.classes.push(t[1])):(t=b.exec(e))?(e=e.substr(b.lastIndex),n.id=t[1]):(t=x.exec(e))?(e=e.substr(x.lastIndex),n.attrs=n.attrs||{},n.attrs[t[1]]=t[2]):(t=A.exec(e))&&(e=e.substr(A.lastIndex),n.multi=parseInt(t[1],10))}while(t&&e.length);if(e.length)throw new Error('Unparsed template: "'+e+'"');return n}))})),p=O,R={available:"function"==typeof window.getComputedStyle,styles:p.map((function(e){var t=e.split(/\s*:\s*/);return{field:t[0],value:t[1]}}))},T=document.createElement("div");var t={position:"absolute",visibility:"hidden",top:"-"+U(9e3,12e3)+"px"};U(0,10)>5?t.left="-"+U(9e3,12e3)+"px":t.right="-"+U(9e3,12e3)+"px";var n=Object.keys(t);n.sort((function(){return Math.random()-.5}));for(var r=0,o=n;r<o.length;r++){var a=o[r];T.style[a]=t[a]}if(document.body.appendChild(T),function(e,t){void 0===t&&(t=!1);try{if(e&&(e=e.filter((function(e){return e}))).length)for(var n=document.styleSheets,r=function(r){var o=n[r];if(!o.href&&e.some((function(e){if(-1!==o.ownerNode.innerText.indexOf(e))return t&&console.warn("[Honeypot] detect: css rule is found",{Function:"checkCssRules",Rule:e}),!0})))return{value:!0}},o=n.length;o--;){var a=r(o);if("object"==typeof a)return a.value}}catch(e){}}(P,e))return!0;for(var i=0,l=z;i<l.length;i++){var c=S(l[i]),s=c[0],u=c[1];if(s.length){for(var d=0,f=u;d<f.length;d++){var h=f[d];T.appendChild(h)}if(s.some((function(t){return D.push(t),j(t)?(e&&console.warn("[Honeypot] detect: hidden bait",{Function:"checkIfHidden",Bait:t}),!0):!!H(t,R,e)||void 0})))return!0}}if(function(e,t){void 0===t&&(t=!1);try{if(e)if((e=e.filter((function(e){return e}))).length)if(e.some((function(e){var n=document.querySelectorAll(e);return n.length>0&&Array.prototype.every.call(n,(function(n){if(j(n))return t&&console.warn("[Honeypot] detect: hidden element",{Function:"checkSelector",Selector:e,Elem:n}),!0}))})))return!0}catch(e){}}(F,e))return!0}catch(e){return console.error("honeypot detect error",e),!0}var p;return!1},e.prototype.destroy=function(){T&&(document.body.removeChild(T),T=null),D.length=0,I=O=F=P=z=R=null},e}(),W=new Function,V=function(e,t){var n=e,r="GET",o=null,a=!1,i=!1,l=function(){var e={readyState:4,status:-1};e.open=e.send=W;try{e=new window.XMLHttpRequest}catch(t){try{e=new window.ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}}return e}(),c=null,s=new Date,u={error:c,xhr:l};"object"==typeof e&&(n=e.url,r=e.method||r,o=e.body||o,a=e.sync||a,i=e.credentials||i),l.url=n;var d=function(){(c||4===l.readyState)&&(d=W,u.error=c,l.duration=new Date-s,l.onerror=l.onreadystatechange=null,"function"==typeof t&&t(c,l))};try{l.onreadystatechange=d,l.onerror=function(e){c=e,d()},l.open(r,n,!a),l.withCredentials=i,l.send(o)}catch(e){c=e,d()}return u},X=!1;try{X="http://example.com/"===new URL("http://example.com/").href}catch(e){}function q(e,t){return Math.random()*(t-e+1)+e|0}var K=function(e){return Array.prototype.slice.call(e)},G={random:q,randomBoolean:function(e){return q(0,100)<=e},calcString:function(e,t){if(e=parseInt(e,10),function(){if(void 0===B)try{if("function"==typeof window.getComputedStyle){var e=document.createElement("div");e.style.height="calc(30px + 30px)",document.getElementsByTagName("body")[0].appendChild(e),B="60px"===window.getComputedStyle(e,null).getPropertyValue("height"),e.parentNode.removeChild(e)}}catch(e){B=!1}return B}()){for(var n=[],r=0,o=0,a=q(1,6);o<a;o++)n.push(q(-100,100)),r+=n[n.length-1];return r!==e&&n.push(e-r),"calc("+n.map((function(e){return e.toString()+t})).join(" + ")+")"}return e+t},replaceUrl:function(e,t,n){if(X&&t){t.startsWith("//")&&(t="https:"+t);var r,o=e.charAt(0),a='"'===o||"'"===o,i=0+a;r=n?e.indexOf((a?o:"")+")"):a?e.indexOf(o,i+1):e.length;var l=e.slice(i,r);try{l=new URL(l,t).href}catch(e){}return e.slice(0,i)+l+e.slice(r)}return e},replaceContent:function(e){var t=e.charAt(0),n='"'===t||"'"===t,r=Number(n),o=n?e.indexOf(t,r):e.indexOf(";",r),a=e.slice(r,o),i="";if(/^\\[a-z0-9]+$/.test(a)||!n)i=a;else for(var l=0;l<a.length;l++){var c=a[l].charCodeAt(0);isNaN(c)||(i+="\\"+c.toString(16))}return e.slice(0,r)+i+e.slice(o)},iterate:function(e,t,n){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&"length"!==r&&t.call(n||this,e[r],r)},extend:function(){var e=K(arguments),t=e.shift();return e.forEach((function(e){for(var n in e)t[n]=e[n]})),t},merge:function(){var e=K(arguments),t=e.shift();return e.forEach((function(e){for(var n in e)t[n]||(t[n]=e[n])})),t},toArray:K};function J(e){e&&this.__rules.push(e)}function Y(e,t,n){this.__style=function(e){var t=document.createElement("style");return t.appendChild(document.createTextNode("")),(e=e||{}).rel="stylesheet",e.type="text/css",e.media=e.media||"screen",G.iterate(e,(function(e,n){e&&t.setAttribute(n,e)})),t}(e),this.__style.__created=!0,this.__rules=[],this.__originalNode=t,this.__alwaysInHead=n}function Z(){this.__rules.length&&this.__style.appendChild(document.createTextNode(this.__rules.join("\n")))}Y.prototype={constructor:Y,insert:function(){J.apply(this,arguments)},insertBlock:function(e,t){J.apply(this,[e+"{"+t+"}"])},setContent:function(e){this.__style.appendChild(document.createTextNode(e))},apply:function(){var e,t,n,r;this.__originalNode&&this.__originalNode.parentNode?(e="id",t=this.__originalNode,n=this.__style,(r=t.getAttribute(e))&&n.setAttribute(e,r),this.__originalNode.parentNode.replaceChild(this.__style,this.__originalNode)):(this.__alwaysInHead?document.head:function(){for(var e=document.styleSheets,t=e.length;t>0;t--){var n=e[t-1];if(n&&n.ownerNode&&n.ownerNode.parentNode)return n.ownerNode.parentNode}}()||document.head).appendChild(this.__style);Z.apply(this)},getSheet:function(){return this.__style.sheet}};var Q,ee={};Object.defineProperty(ee,"__esModule",{value:!0});for(var te={animation:["-name","-duration","-timing-function","-delay","-iteration-count","-direction","-fill-mode","-play-state"],background:["-clip","-color","-image","-origin","-position","-repeat","-size","-attachment"],columns:["-count","-width"],flex:["-grow","-shrink","-basis"],"flex-flow":["flex-direction","flex-wrap"],font:["-style","-variant","-weight","-stretch","-size","line-height","-family"],grid:["-template-rows","-template-columns","-template-areas","-auto-rows","-auto-columns","-auto-flow","-column-gap","-row-gap","column-gap","row-gap"],"grid-area":["grid-row-start","grid-column-start","grid-row-end","grid-column-end"],"grid-column":["-start","-end"],"grid-row":["-start","-end"],"grid-template":["-areas","-columns","-rows"],"list-style":["-image","-position","-type"],offset:["-anchor","-distance","-path","-position","-rotate"],"place-content":["align-content","justify-content"],"place-items":["align-items","justify-items"],"place-self":["align-self","justify-self"],"text-decoration":["-line","-color","-style","-thickness"],transition:["-property","-duration","-timing-function","-delay"],border:[],"border-radius":[],"column-rule":[],margin:[],outline:[],padding:[]},ne=["top","right","bottom","left"],re=["top","bottom"],oe=["right","left"],ae=["width","style","color"],ie=0,le=ae;ie<le.length;ie++){var ce="-"+(pe=le[ie]);te["border"+ce]=[],te.border.push(ce),te["column-rule"].push(ce),te.outline.push(ce)}for(var se=0,ue=ne;se<ue.length;se++){var de="-"+ue[se];te["border"+de]=te.border,te.margin.push(de),te.padding.push(de);for(var fe=0,he=ae;fe<he.length;fe++){var pe;te["border-"+(pe=he[fe])].push("border"+de+"-"+pe)}}for(var me=0,ge=re;me<ge.length;me++)for(var ve=ge[me],ye=0,_e=oe;ye<_e.length;ye++){var we=_e[ye];te["border-radius"].push("border-"+ve+"-"+we+"-radius")}for(var be=Object.keys(te),xe={},Ae=0,Ce=be;Ae<Ce.length;Ae++)for(var Ee=Ce[Ae],Ne=0,Se=te[Ee];Ne<Se.length;Ne++){var ke=Se[Ne],je=ke.startsWith("-")?Ee+ke:ke;xe[je]=null!==(Q=xe[je])&&void 0!==Q?Q:[],xe[je].push(Ee)}var Ie=ee.lookupShorthands=function(e,t){var n,r=null!==(n=xe[e])&&void 0!==n?n:[];return t?r.filter((function(e){return t.style.getPropertyValue(e)})).sort((function(e,n){return t.cssText.indexOf(e)-t.cssText.indexOf(n)})):r};var Oe=/content\s*:\s*/;function Fe(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}var Pe=/^(-?\d+)([a-z%]+)$/,Te=/\s(?![*+\-/]|[^()]+\)+|\(+)/;function Re(e,t,n,r){for(var o,a="",i=t(e.selectorText),l=0;l<e.style.length;l++){var c="important"===e.style.getPropertyPriority(e.style[l])?" !important":"",s=e.style[l];/background-(repeat|position)-[xy]/.test(s)&&(s=s.replace(/-[xy]$/,""));var u=e.style[s]||e.style[Fe(s)]||e.style.getPropertyValue(s);if(void 0!==u&&u.length||(s=s.replace(/-(value|(ltr|rtl)-source)$/g,""),u=e.style[s]||e.style[Fe(s)]),void 0===u&&"float"===s&&(u=e.style.cssFloat),void 0!==u&&u.length){if(r.randomize&&r.randomize.length&&r.randomize.indexOf(s)>-1&&i!=e.selectorText){for(var d=u.split(Te),f=d.length,h=[];f--;){var p=Pe.exec(d[f]);h.unshift(p?G.calcString(p[1],p[2]):d[f])}u=h.join(" ")}a+=s+": "+u+c+"; "}if("string"==typeof u&&!u.length)Ie(s,e).forEach((function(t){var n="important"===e.style.getPropertyPriority(t)?" !important":"",r=e.style[t]||e.style.getPropertyValue(t);"string"==typeof r&&r.length&&(a+=t+": "+r+n+"; ")}))}return-1!==a.indexOf("url(")&&(a=function(e,t){var n=!0;return e.split("url(").map((function(e){return n?(n=!1,e):G.replaceUrl(e,t,!0)})).join("url(")}(a,n)),-1!==a.indexOf("content")&&(o=!0,a=a.split(Oe).map((function(e){return o?(o=!1,e):G.replaceContent(e)})).join("content:")),i+" { "+a+" }"}var ze=function(e,t,n,r,o){o=o||{},G.iterate(function(){}