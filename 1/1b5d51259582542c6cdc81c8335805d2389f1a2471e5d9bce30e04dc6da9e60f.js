!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw(f=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",f}c=n[i]={exports:{}},e[i][0].call(c.exports,function(r){return o(e[i][1][r]||r)},c,c.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){"use strict";require("core-js/modules/es.promise.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ActionHandler=void 0,require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/web.url.js"),require("core-js/modules/web.url-search-params.js"),require("core-js/modules/es.regexp.to-string.js"),require("regenerator-runtime/runtime.js");var _multipleSessionsPopup=require("./components/multiple-sessions-popup"),_loggedInPopup=require("./components/logged-in-popup"),_styleSheet=require("./elements/style-sheet"),_sessionDetector=require("./session-detector");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}require=function(){function ActionHandler(localStorage,elementFactory,location,eventManager){if(!(this instanceof ActionHandler))throw new TypeError("Cannot call a class as a function");this.localStorage=localStorage,this.elementFactory=elementFactory,this.location=location,this.eventManager=eventManager}var Constructor,protoProps,staticProps,_addStylesheet,_showMultipleSessionsPopUp,_showLoggedInPopup,_handleIntraSsoAction,_handleInterSsoAction;return Constructor=ActionHandler,protoProps=[{key:"handleInterSsoAction",value:(_handleInterSsoAction=_asyncToGenerator(regeneratorRuntime.mark(function _callee(action,ssoConfig){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:_context.t0=action,_context.next=_context.t0===_sessionDetector.InterSsoAction.MULTIPLE_SESSIONS_POPUP?3:_context.t0===_sessionDetector.InterSsoAction.AUTOMATIC_INTER_SSO_LOGIN?13:15;break;case 3:if(ssoConfig.multipleSessionsPopupEnabled)return _context.next=6,this.addStylesheet();_context.next=11;break;case 6:return this.eventManager.pushEvent("identity_sso_popup_view"),_context.next=9,this.showMultipleSessionsPopUp(ssoConfig);case 9:_context.next=12;break;case 11:this.eventManager.pushEvent("identity_sso_detected");case 12:return _context.abrupt("break",15);case 13:return ActionHandler.isExpired(this.localStorage.readAutomaticLoginTimeout(),ssoConfig.automaticLoginTimeout)&&ssoConfig.automaticLoginEnabled?(this.localStorage.setInterAutomaticLogin(),this.redirectToAuthorize(ssoConfig)):ssoConfig.automaticLoginEnabled||this.eventManager.pushEvent("identity_sso_detected"),_context.abrupt("break",15);case 15:case"end":return _context.stop()}},_callee,this)})),function(_x,_x2){return _handleInterSsoAction.apply(this,arguments)})},{key:"handleIntraSsoAction",value:(_handleIntraSsoAction=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(action,ssoConfig){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_context2.t0=action,_context2.next=_context2.t0===_sessionDetector.IntraSsoAction.AUTOMATIC_INTRA_SSO_LOGIN||_context2.t0===_sessionDetector.IntraSsoAction.RE_AUTHENTICATE_INTRA_SSO_LOGIN?3:_context2.t0===_sessionDetector.IntraSsoAction.VALID_SESSION?5:7;break;case 3:return ActionHandler.isExpired(this.localStorage.readAutomaticLoginTimeout(),ssoConfig.automaticLoginTimeout)&&ssoConfig.automaticLoginEnabled&&ssoConfig.intraSsoEnabled?(this.localStorage.setIntraAutomaticLogin(),this.redirectToAuthorize(ssoConfig)):ssoConfig.automaticLoginEnabled||this.eventManager.pushEvent("identity_sso_detected"),_context2.abrupt("break",7);case 5:return this.localStorage.clearIntraAutomaticLogin(),_context2.abrupt("break",7);case 7:case"end":return _context2.stop()}},_callee2,this)})),function(_x3,_x4){return _handleIntraSsoAction.apply(this,arguments)})},{key:"redirectToAuthorize",value:function(ssoConfig){null!=(_ssoConfig$preRedirec=ssoConfig.preRedirectCallback)&&_ssoConfig$preRedirec.call(ssoConfig);var _ssoConfig$preRedirec=new URL(ssoConfig.authorizeUrl());_ssoConfig$preRedirec.searchParams.set("prompt","none"),this.location.href=_ssoConfig$preRedirec.toString()}},{key:"showLoggedInPopup",value:(_showLoggedInPopup=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(ssoConfig){var loggedInPopup;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return this.localStorage.clearInterAutomaticLogin(),_context3.next=3,this.addStylesheet();case 3:this.eventManager.pushEvent("identity_sso_popup_view"),loggedInPopup=new _loggedInPopup.LoggedInPopup(this.elementFactory,ssoConfig,this.location,this.eventManager),this.elementFactory.addToBody(loggedInPopup.element),loggedInPopup.focus(),null!=(loggedInPopup=ssoConfig.loggedInPopupShownCallback)&&loggedInPopup.call(ssoConfig);case 8:case"end":return _context3.stop()}},_callee3,this)})),function(_x5){return _showLoggedInPopup.apply(this,arguments)})},{key:"showMultipleSessionsPopUp",value:(_showMultipleSessionsPopUp=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(ssoConfig){var popup;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:ActionHandler.isExpired(this.localStorage.readDismissMultipleSessionsPopup(),ssoConfig.multipleSessionsPopupDismissTimeout)&&(popup=new _multipleSessionsPopup.MultipleSessionsPopup(this.location,ssoConfig,this.elementFactory,this.eventManager,this.localStorage),this.elementFactory.addToBody(popup.element),popup.focus(),null!=(popup=ssoConfig.multipleSessionsPopupShownCallback)&&popup.call(ssoConfig));case 1:case"end":return _context4.stop()}},_callee4,this)})),function(_x6){return _showMultipleSessionsPopUp.apply(this,arguments)})},{key:"addStylesheet",value:(_addStylesheet=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var stylesheet;return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return stylesheet=new _styleSheet.StyleSheet("sessions-popup.css",location,this.elementFactory),this.elementFactory.addToHead(stylesheet.element),_context5.abrupt("return",stylesheet.isLoaded());case 3:case"end":return _context5.stop()}},_callee5,this)})),function(){return _addStylesheet.apply(this,arguments)})}],staticProps=[{key:"isExpired",value:function(timeout,thresholdInHours){return ActionHandler.convertHoursToMilliSeconds(thresholdInHours||24)<=Date.now()-timeout}},{key:"convertHoursToMilliSeconds",value:function(hours){return 60*hours*60*1e3}}],protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),ActionHandler}();exports.ActionHandler=require},{"./components/logged-in-popup":5,"./components/multiple-sessions-popup":8,"./elements/style-sheet":12,"./session-detector":16,"core-js/modules/es.array.iterator.js":161,"core-js/modules/es.object.to-string.js":165,"core-js/modules/es.promise.js":170,"core-js/modules/es.regexp.to-string.js":175,"core-js/modules/es.string.iterator.js":176,"core-js/modules/web.dom-collections.iterator.js":180,"core-js/modules/web.url-search-params.js":182,"core-js/modules/web.url.js":184,"regenerator-runtime/runtime.js":185}],2:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Banner=void 0;var Banner=function(){function Banner(elementFactory,ssoConfig){var obj;if(!(this instanceof Banner))throw new TypeError("Cannot call a class as a function");this.elementFactory=elementFactory,this.ssoConfig=ssoConfig,elementFactory=void 0,(ssoConfig="element")in(obj=this)?Object.defineProperty(obj,ssoConfig,{value:elementFactory,enumerable:!0,configurable:!0,writable:!0}):obj[ssoConfig]=elementFactory,this.element=this.asHtmlElement()}var Constructor,protoProps,staticProps;return Constructor=Banner,(protoProps=[{key:"asHtmlElement",value:function(){var wrapper=this.elementFactory.createElement("div"),banner=(wrapper.style.marginBottom="24px",wrapper.style.borderTop="1px #b4b4b46b solid",wrapper.style.paddingTop="32px",this.elementFactory.createElement("pip-banner"));return banner.setAttribute("preset",this.ssoConfig.bannerConfig),banner.setAttribute("theme",this.ssoConfig.theme||"LIGHT"),this.ssoConfig.brandId&&banner.setAttribute("brand",this.ssoConfig.brandId),wrapper.appendChild(banner),wrapper}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Banner}();exports.Banner=Banner},{}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DismissCross=void 0;var _resource=require("../elements/resource");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}require=function(){function DismissCross(elementFactory,location,dismissibleElement,eventManager){if(!(this instanceof DismissCross))throw new TypeError("Cannot call a class as a function");this.elementFactory=elementFactory,this.location=location,this.dismissibleElement=dismissibleElement,this.eventManager=eventManager,elementFactory=void 0,(location="element")in(eventManager=this)?Object.defineProperty(eventManager,location,{value:elementFactory,enumerable:!0,configurable:!0,writable:!0}):eventManager[location]=elementFactory,this.element=this.createHtmlElement(dismissibleElement)}var Constructor,protoProps,staticProps;return Constructor=DismissCross,(protoProps=[{key:"createHtmlElement",value:function(dismissibleElement){var _this=this,dismissCross=this.elementFactory.createElement("button","sso-dismiss"),dismissIcon=(dismissCross.setAttribute("data-cy","close-popup-cross"),dismissCross.setAttribute("aria-label","Sluit venster"),dismissCross.onclick=function(){return _this.dismiss(dismissibleElement)},this.elementFactory.createElement("img","sso-dismiss-icon"));return dismissIcon.setAttribute("src",new _resource.Resource("close-icon.svg",this.location).href),dismissCross.appendChild(dismissIcon),dismissCross}},{key:"dismiss",value:function(popup){popup.remove(),null!=(popup=this.eventManager)&&popup.pushEvent("identity_sso_popup_close")}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),DismissCross}();exports.DismissCross=require},{"../elements/resource":11}],4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Header=void 0;var _resource=require("../elements/resource");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}require=function(){function Header(elementFactory,location){var obj;if(!(this instanceof Header))throw new TypeError("Cannot call a class as a function");this.elementFactory=elementFactory,this.location=location,elementFactory=void 0,(location="element")in(obj=this)?Object.defineProperty(obj,location,{value:elementFactory,enumerable:!0,configurable:!0,writable:!0}):obj[location]=elementFactory,this.element=this.createHtmlElement()}var Constructor,protoProps,staticProps;return Constructor=Header,(protoProps=[{key:"createHtmlElement",value:function(){var container=this.elementFactory.createElement("div","sso-dpg-logo"),img=this.elementFactory.createElement("img","sso-dpg-logo-image"),text=(img.setAttribute("src",new _resource.Resource("dpgmedia-logo.svg",this.location).href),img.setAttribute("data-cy","multiple-session-popup-dpg-logo-image"),this.elementFactory.createElement("span","sso-dpg-logo-text"));return text.setAttribute("data-cy","multiple-session-popup-dpg-logo-text"),text.innerText="account",container.appendChild(img),container.appendChild(text),container}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Header}();exports.Header=require},{"../elements/resource":11}],5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoggedInPopup=void 0,require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/web.url.js"),require("core-js/modules/web.url-search-params.js"),require("core-js/modules/es.regexp.to-string.js");var _header=require("./header"),_banner=require("./banner"),_logo=require("./logo"),_dismissCross=require("./dismissCross");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}require=function(){function LoggedInPopup(elementFactory,ssoConfig,location,eventManager){if(!(this instanceof LoggedInPopup))throw new TypeError("Cannot call a class as a function");this.elementFactory=elementFactory,this.ssoConfig=ssoConfig,this.location=location,this.eventManager=eventManager,elementFactory=void 0,(ssoConfig="element")in(location=this)?Object.defineProperty(location,ssoConfig,{value:elementFactory,enumerable:!0,configurable:!0,writable:!0}):location[ssoConfig]=elementFactory,this.element=this.asHtmlElement()}var Constructor,protoProps,staticProps;return Constructor=LoggedInPopup,(protoProps=[{key:"focus",value:function(){this.element.dispatchEvent(new Event("focus-dismiss-button"))}},{key:"asHtmlElement",value:function(){var loggedInPopup=this.elementFactory.createElement("div","sso-pop-up"),popUpWindow=(loggedInPopup.setAttribute("data-cy","logged-in-popup"),loggedInPopup.setAttribute("data-theme",this.ssoConfig.theme||"LIGHT"),loggedInPopup.setAttribute("role","dialog"),loggedInPopup.setAttribute("aria-labelledby","logged-in-popup-label"),loggedInPopup.setAttribute("aria-describedby","logged-in-popup-desc"),loggedInPopup.setAttribute("aria-modal","true"),this.elementFactory.createElement("div","sso-pop-up-window")),dismissCross=new _dismissCross.DismissCross(this.elementFactory,this.location,this,this.eventManager).element,_this$switchAccountLi=this.switchAccountLink(),switchAccountsLink=_this$switchAccountLi.switchAccountsLink,_this$switchAccountLi=_this$switchAccountLi.linkContainer,_this$aside=this.aside(),aside=_this$aside.aside,_this$aside=_this$aside.summary;return popUpWindow.appendChild(new _header.Header(this.elementFactory,this.location).element),popUpWindow.appendChild(this.context(_this$switchAccountLi)),popUpWindow.appendChild(aside),popUpWindow.appendChild(dismissCross),this.setTabbingRules(dismissCross,switchAccountsLink,_this$aside),loggedInPopup.appendChild(popUpWindow),loggedInPopup.appendChild(this.backgroundOverlay(loggedInPopup)),loggedInPopup.addEventListener("focus-dismiss-button",function(){dismissCross.focus()}),loggedInPopup.onkeydown=function(e){"Escape"==e.key&&dismissCross.click()},loggedInPopup}},{key:"setTabbingRules",value:function(dismissCross,switchAccountsLink,summary){dismissCross.onkeydown=function(e){e.shiftKey&&"Tab"===e.key?(e.preventDefault(),summary.focus()):"Tab"===e.key&&(e.preventDefault(),switchAccountsLink.focus())},switchAccountsLink.onkeydown=function(e){e.shiftKey&&"Tab"===e.key?(e.preventDefault(),dismissCross.focus()):"Tab"===e.key&&(e.preventDefault(),summary.focus())},summary.onkeydown=function(e){e.shiftKey&&"Tab"===e.key?(e.preventDefault(),switchAccountsLink.focus()):"Tab"===e.key&&(e.preventDefault(),dismissCross.focus())}}},{key:"switchAccountLink",value:function(){var _this=this,switchAccountsLink=this.elementFactory.createElement("button","sso-link"),linkContainer=(switchAccountsLink.setAttribute("data-cy","switch-account-link"),switchAccountsLink.innerText="Inloggen met ander e-mailadres",switchAccountsLink.tabIndex=1,switchAccountsLink.onclick=function(){null!=(_this$ssoConfig$preSw=(_this$ssoConfig=_this.ssoConfig).preSwitchAccountCallback)&&_this$ssoConfig$preSw.call(_this$ssoConfig),_this.eventManager.pushEvent("identity_sso_other_email");var _this$ssoConfig,_this$ssoConfig$preSw=new URL(_this.ssoConfig.authorizeUrl());_this$ssoConfig$preSw.searchParams.set("prompt","login"),_this.location.href=_this$ssoConfig$preSw.toString()},this.elementFactory.createElement("div","sso-link-container"));return linkContainer.appendChild(switchAccountsLink),{switchAccountsLink:switchAccountsLink,linkContainer:linkContainer}}},{key:"aside",value:function(){var _this2=this,aside=this.elementFactory.createElement("aside","sso-extra-info-container"),details=this.elementFactory.createElement("details"),summary=this.elementFactory.createElement("summary","sso-extra-info-summary"),name=(summary.setAttribute("data-cy","extra-info-summary"),summary.innerText="Meer informatie",details.onclick=function(){return _this2.eventManager.pushEvent("identity_sso_more_info")},this.ssoConfig.brandName||this.location.hostname),extraInfo=this.elementFactory.createElement("p","sso-extra-info-text");return extraInfo.setAttribute("data-cy","extra-info-text"),extraInfo.innerHTML="Omdat je al bij één of meerdere merken van DPG Media bent ingelogd, ben je nu ook automatisch ingelogd bij ".concat(name,".<br>Als je wilt uitloggen kan dat via het menu."),extraInfo.id="logged-in-popup-extra-info",details.appendChild(summary),details.appendChild(extraInfo),details.appendChild(new _banner.Banner(this.elementFactory,this.ssoConfig).element),aside.appendChild(details),{aside:aside,summary:summary}}},{key:"backgroundOverlay",value:function(loggedInPopup){var backgroundOverlay,_this3=this;return(backgroundOverlay=this.elementFactory.createElement("div","sso-background-overlay")).onclick=function(){var _this3$ssoConfig$logg,_this3$ssoConfig;loggedInPopup.remove(),null!=(_this3$ssoConfig$logg=(_this3$ssoConfig=_this3.ssoConfig).loggedInPopupIgnoredCallback)&&_this3$ssoConfig$logg.call(_this3$ssoConfig),_this3.eventManager.pushEvent("identity_sso_popup_dismiss")},backgroundOverlay}},{key:"context",value:function(switchAccountLink){var context=this.elementFactory.createElement("div","sso-context-container","long"),contextTextContainer=this.elementFactory.createElement("div","sso-context-text-container"),contextText=this.elementFactory.createElement("p","sso-context-text");return contextText.innerHTML='Je bent automatisch ingelogd met <span class="sso-strong sso-email">'.concat(this.ssoConfig.loggedInEmail,".</span>"),contextText.id="logged-in-popup-desc",contextTextContainer.appendChild(contextText),contextTextContainer.appendChild(switchAccountLink),context.appendChild(new _logo.Logo(this.elementFactory,this.ssoConfig).element),context.appendChild(contextTextContainer),context}},{key:"remove",value:function(){var _this$ssoConfig$logge,_this$ssoConfig2;this.element.remove(),null!=(_this$ssoConfig$logge=(_this$ssoConfig2=this.ssoConfig).loggedInPopupHideCallback)&&_this$ssoConfig$logge.call(_this$ssoConfig2)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),LoggedInPopup}();exports.LoggedInPopup=require},{"./banner":2,"./dismissCross":3,"./header":4,"./logo":6,"core-js/modules/es.array.iterator.js":161,"core-js/modules/es.object.to-string.js":165,"core-js/modules/es.regexp.to-string.js":175,"core-js/modules/es.string.iterator.js":176,"core-js/modules/web.dom-collections.iterator.js":180,"core-js/modules/web.url-search-params.js":182,"core-js/modules/web.url.js":184}],6:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Logo=void 0;var Logo=function(){function Logo(elementFactory,ssoConfig){var obj;if(!(this instanceof Logo))throw new TypeError("Cannot call a class as a function");this.elementFactory=elementFactory,this.ssoConfig=ssoConfig,elementFactory=void 0,(ssoConfig="element")in(obj=this)?Object.defineProperty(obj,ssoConfig,{value:elementFactory,enumerable:!0,configurable:!0,writable:!0}):obj[ssoConfig]=elementFactory,this.element=this.asHtmlElement()}var Constructor,protoProps,staticProps;return Constructor=Logo,(protoProps=[{key:"asHtmlElement",value:function(){var image=this.elementFactory.createElement("img","sso-brand-logo");return image.height=32,image.src=this.ssoConfig.logoUrl,image}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Logo}();exports.Logo=Logo},{}],7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LogoutPopup=void 0;var _dismissCross=require("./dismissCross"),_banner=require("./banner");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}require=function(){function LogoutPopup(elementFactory,ssoConfig,location){var _this=this;if(!(this instanceof LogoutPopup))throw new TypeError("Cannot call a class as a function");this.elementFactory=elementFactory,value=void 0,(key="element")in(obj=this)?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,this.element=elementFactory.createElement("div","sso-pop-up"),this.element.setAttribute("data-cy","logout-popup"),this.element.setAttribute("data-theme",ssoConfig.theme||"LIGHT"),this.element.setAttribute("role","dialog"),this.element.setAttribute("aria-labelledby","logged-in-popup-label"),this.element.setAttribute("aria-describedby","logged-in-popup-desc"),this.element.setAttribute("aria-modal","true");var obj=elementFactory.createElement("div","sso-pop-up-window"),key=(obj.style.paddingBottom="0",obj.appendChild(new _dismissCross.DismissCross(elementFactory,location,this).element),this.createMobileHandler(obj)),value=elementFactory.createElement("h1","sso-logout-title"),text=(value.setAttribute("data-cy","logout-popup-title"),value.textContent="Wil je echt uitloggen?",elementFactory.createElement("p","logout-popup-text")),cancel=(text.setAttribute("data-cy","logout-popup-text"),text.textContent="Als je uitlogt".concat(ssoConfig.brandName?" bij ".concat(ssoConfig.brandName):""," word je ook uitgelogd bij alle andere websites van DPG Media. Je verliest dan de voordelen die je nu hebt omdat je ingelogd bent."),elementFactory.createElement("button","logout-button","logout-cancel-button")),logout=(cancel.setAttribute("data-cy","logout-popup-cancel"),cancel.textContent="Ik wil ingelogd blijven",cancel.onclick=function(){_this.remove()},elementFactory.createElement("button","logout-button","logout-logout-button"));logout.setAttribute("data-cy","logout-popup-logout"),logout.textContent="Uitloggen",logout.onclick=function(){_this.remove(),location.href=ssoConfig.logoutUrl},obj.append(key),obj.append(value),obj.append(text),obj.append(cancel),obj.append(logout),obj.append(new _banner.Banner(elementFactory,ssoConfig).element),this.element.append(obj)}var Constructor,protoProps,staticProps;return Constructor=LogoutPopup,(protoProps=[{key:"remove",value:function(){this.element.remove()}},{key:"createMobileHandler",value:function(popupWindow){function calculateChange(e){return initialPopupPosition-(null==(e=e.changedTouches)||null==(e=e[0])?void 0:e.clientY)}var _this2=this,mobileHandle=this.elementFactory.createElement("div","sso-pop-up-window-handle-container"),initialPopupPosition=(mobileHandle.appendChild(this.elementFactory.createElement("div","sso-pop-up-window-handle")),0);return mobileHandle.addEventListener("touchstart",function(e){initialPopupPosition=null==(e=e.changedTouches)||null==(e=e[0])?void 0:e.clientY}),mobileHandle.addEventListener("touchmove",function(e){e=calculateChange(e);e<=0&&(popupWindow.style.bottom="".concat(e,"px"),popupWindow.style.opacity="".concat(1-Math.abs(e/500)))}),mobileHandle.addEventListener("touchend",function(e){e=calculateChange(e);e<=0&&popupWindow.offsetHeight/3<Math.abs(e)?_this2.remove():(popupWindow.style.opacity="1",popupWindow.style.bottom="0")}),mobileHandle}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),LogoutPopup}();exports.LogoutPopup=require},{"./banner":2,"./dismissCross":3}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MultipleSessionsPopup=void 0;var _header=require("./header"),_dismissCross=require("./dismissCross"),_logo=require("./logo");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}require=function(){function MultipleSessionsPopup(location,ssoConfig,elementFactory,eventManager,localStorage){var _this=this;if(!(this instanceof MultipleSessionsPopup))throw new TypeError("Cannot call a class as a function");this.location=location,this.ssoConfig=ssoConfig,this.elementFactory=elementFactory,this.eventManager=eventManager,this.localStorage=localStorage,_defineProperty(this,"element",void 0),_defineProperty(this,"remove",function(){var _this$ssoConfig$multi,_this$ssoConfig;_this.element.remove(),null!=(_this$ssoConfig$multi=(_this$ssoConfig=_this.ssoConfig).multipleSessionsPopupHideCallback)&&_this$ssoConfig$multi.call(_this$ssoConfig),_this.localStorage.setDismissMultipleSessionsPopup()}),this.element=this.asHtmlElement()}var Constructor,protoProps,staticProps;return Constructor=MultipleSessionsPopup,(protoProps=[{key:"focus",value:function(){this.element.dispatchEvent(new Event("focus-login-button"))}},{key:"asHtmlElement",value:function(){var multipleSessionPopup=this.elementFactory.createElement("div","sso-pop-up"),multipleSessionPopupWindow=(multipleSessionPopup.setAttribute("data-cy","multiple-session-popup"),multipleSessionPopup.setAttribute("data-theme",this.ssoConfig.theme||"LIGHT"),multipleSessionPopup.setAttribute("role","dialog"),multipleSessionPopup.setAttribute("aria-labelledby","multiple-sessions-popup-label"),multipleSessionPopup.setAttribute("aria-described-by","multiple-sessions-popup-desc"),multipleSessionPopup.setAttribute("aria-modal","true"),this.elementFactory.createElement("div","sso-pop-up-window")),dismissCross=new _dismissCross.DismissCross(this.elementFactory,this.location,this,this.eventManager).element,loginButton=this.loginButton();return multipleSessionPopupWindow.appendChild(new _header.Header(this.elementFactory,this.location).element),multipleSessionPopupWindow.appendChild(dismissCross),multipleSessionPopupWindow.appendChild(this.context(loginButton)),this.setTabbingRules(loginButton,dismissCross),multipleSessionPopup.appendChild(multipleSessionPopupWindow),multipleSessionPopup.appendChild(this.backgroundOverlay(multipleSessionPopup)),multipleSessionPopup.addEventListener("focus-login-button",function(){loginButton.focus()}),multipleSessionPopup.onkeydown=function(e){"Escape"==e.key&&dismissCross.click()},multipleSessionPopup}},{key:"setTabbingRules",value:function(loginButton,dismissCross){loginButton.onkeydown=function(e){"Tab"===e.key&&(e.preventDefault(),dismissCross.focus())},dismissCross.onkeydown=function(e){"Tab"===e.key&&(e.preventDefault(),loginButton.focus())}}},{key:"backgroundOverlay",value:function(multipleSessionPopup){var backgroundOverlay,_this2=this;return(backgroundOverlay=this.elementFactory.createElement("div","sso-background-overlay")).onclick=function(){var _this2$ssoConfig$mult,_this2$ssoConfig;multipleSessionPopup.remove(),null!=(_this2$ssoConfig$mult=(_this2$ssoConfig=_this2.ssoConfig).multipleSessionsPopupIgnoredCallback)&&_this2$ssoConfig$mult.call(_this2$ssoConfig),_this2.eventManager.pushEvent("identity_sso_popup_dismiss")},backgroundOverlay}},{key:"title",value:function(){var header=this.elementFactory.createElement("p","sso-multiple-title");return header.innerText="Je bent nog niet ingelogd",header.setAttribute("data-cy","multiple-session-popup-header"),header.id="multiple-sessions-popup-label",header}},{key:"context",value:function(loginButton){var context=this.elementFactory.createElement("div","sso-context-container"),contextText=this.elementFactory.createElement("p","sso-context-text"),textContainer=(contextText.innerText="Log in met slechts één klik.",contextText.id="multiple-session-popup-desc",this.elementFactory.createElement("div","sso-popup-text-container"));return textContainer.appendChild(this.title()),textContainer.appendChild(contextText),context.appendChild(loginButton),context.appendChild(new _logo.Logo(this.elementFactory,this.ssoConfig).element),context.appendChild(textContainer),context}},{key:"loginButton",value:function(){var loginButton,_this3=this;return(loginButton=this.elementFactory.createElement("button","sso-primary-button")).innerText="Direct inloggen",loginButton.setAttribute("data-cy","multiple-session-popup-login-button"),loginButton.onclick=function(){var _this3$ssoConfig$mult,_this3$ssoConfig;null!=(_this3$ssoConfig$mult=(_this3$ssoConfig=_this3.ssoConfig).multipleSessionsPopupLoginCallback)&&_this3$ssoConfig$mult.call(_this3$ssoConfig),_this3.eventManager.pushEvent("identity_sso_other_email"),_this3.location.href=_this3.ssoConfig.authorizeUrl()},loginButton}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),MultipleSessionsPopup}();exports.MultipleSessionsPopup=require},{"./dismissCross":3,"./header":4,"./logo":6}],9:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IdentityEvent=exports.EventManager=void 0;var IdentityEvent=_createClass(function IdentityEvent(event,identity){_classCallCheck(this,IdentityEvent),this.event=event,this.identity=identity}),EventManager=(exports.IdentityEvent=IdentityEvent,function(){function EventManager(){var obj,key,value;_classCallCheck(this,EventManager),value=void 0,(key="identity")in(obj=this)?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}return _createClass(EventManager,[{key:"setIdentity",value:function(identity){this.identity=identity}},{key:"pushEvent",value:function(event){if(!this.identity)throw new Error("Identity was not set in EventManager");window.dataLayer.push(new IdentityEvent(event,this.identity))}}]),EventManager}());exports.EventManager=EventManager},{}],10:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ElementFactory=void 0;var ElementFactory=function(){function ElementFactory(document){if(!(this instanceof ElementFactory))throw new TypeError("Cannot call a class as a function");this.document=document}var Constructor,protoProps,staticProps;return Constructor=ElementFactory,(protoProps=[{key:"createElement",value:function(tag){for(var _element$classList,tag=this.document.createElement(tag),_len=arguments.length,classes=new Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)classes[_key-1]=arguments[_key];return(_element$classList=tag.classList).add.apply(_element$classList,classes),tag}},{key:"addToBody",value:function(element){this.document.body.appendChild(element)}},{key:"addToHead",value:function(element){this.document.head.appendChild(element)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),ElementFactory}();exports.ElementFactory=ElementFactory},{}],11:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Resource=void 0,require("core-js/modules/es.function.name.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.match.js");require=_createClass(function Resource(name,location){var obj,key,value;if(!(this instanceof Resource))throw new TypeError("Cannot call a class as a function");this.name=name,this.location=location,value=void 0,(key="href")in(obj=this)?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,this.href=(null!=location&&null!=(obj=location.host)&&obj.match(/localhost:\d{4}($|\/)/)?"../../out/script/":"https://login-static.dpgmedia.net/ssosession/").concat(name)});exports.Resource=require},{"core-js/modules/es.function.name.js":164,"core-js/modules/es.regexp.exec.js":174,"core-js/modules/es.string.match.js":177}],12:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StyleSheet=void 0,require("core-js/modules/es.function.name.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.promise.js");var _resource=require("./resource");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}require=function(){function StyleSheet(name,location,elementFactory){var _this=this;if(!(this instanceof StyleSheet))throw new TypeError("Cannot call a class as a function");this.name=name,this.location=location,this.elementFactory=elementFactory,_defineProperty(this,"resource",void 0),_defineProperty(this,"element",void 0),_defineProperty(this,"isResolved",void 0),this.resource=new _resource.Resource(name,location),this.element=this.asHtmlElement(),this.isResolved=new Promise(function(resolve){_this.element.onload=resolve})}var Constructor,protoProps,staticProps;return Constructor=StyleSheet,(protoProps=[{key:"asHtmlElement",value:function(){var css=this.elementFactory.createElement("link");return css.setAttribute("rel","stylesheet"),css.setAttribute("type","text/css"),css.setAttribute("href",this.resource.href),css}},{key:"isLoaded",value:function(){return this.isResolved}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),StyleSheet}();exports.StyleSheet=require},{"./resource":11,"core-js/modules/es.function.name.js":164,"core-js/modules/es.object.to-string.js":165,"core-js/modules/es.promise.js":170}],13:[function(require,module,exports){"use strict";var _ssoManager=require("./sso-manager"),_elementFactory=require("./element-factory"),_localStorage=require("./local-storage"),_actionHandler=require("./action-handler"),_sessionDetector=require("./session-detector"),_dataLayer=require("./data-layer"),require=require("./logout/logout-manager");window.dataLayer=window.dataLayer||[],_dataLayer=new _dataLayer.EventManager,_localStorage=new _localStorage.LocalStorage(localStorage),_elementFactory=new _elementFactory.ElementFactory(document),_sessionDetector=new _sessionDetector.SessionDetector(_dataLayer,_localStorage),_actionHandler=new _actionHandler.ActionHandler(_localStorage,_elementFactory,location,_dataLayer),window.ssoDetection=new _ssoManager.SsoManager(_localStorage,_sessionDetector,_actionHandler,_dataLayer),window.ssoLogout=new require.LogoutManager(_elementFactory,location),(_localStorage=document.createElement("script")).setAttribute("src","https://login-static.dpgmedia.net/pip-components/components.js"),document.head.appendChild(_localStorage)},{"./action-handler":1,"./data-layer":9,"./element-factory":10,"./local-storage":14,"./logout/logout-manager":15,"./session-detector":16,"./sso-manager":17}],14:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalStorage=void 0,require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.regexp.to-string.js"),require("core-js/modules/es.parse-int.js");require=function(){function LocalStorage(localstorage){if(!(this instanceof LocalStorage))throw new TypeError("Cannot call a class as a function");this.localstorage=localstorage,_defineProperty(this,"multipleSessionPopupProperty","multiple-sessions-dismissed-instant"),_defineProperty(this,"interAutomaticLoginProperty","automatic-login"),_defineProperty(this,"intraAutomaticLoginProperty","automatic-login-intra"),_defineProperty(this,"automaticLoginTimeoutProperty","automatic-login-timeout"),_defineProperty(this,"currentBrandSessionProperty","brand-session-hash")}var Constructor,protoProps,staticProps;return Constructor=LocalStorage,(protoProps=[{key:"setDismissMultipleSessionsPopup",value:function(){this.localstorage.setItem(this.multipleSessionPopupProperty,Date.now().toString())}},{key:"readDismissMultipleSessionsPopup",value:function(){return parseInt(this.localstorage.getItem(this.multipleSessionPopupProperty)||"0")}},{key:"setCurrentBrandSession",value:function(value){this.localstorage.setItem(this.currentBrandSessionProperty,value)}},{key:"getCurrentBrandSession",value:function(){return this.localstorage.getItem(this.currentBrandSessionProperty)}},{key:"setInterAutomaticLogin",value:function(){this.localstorage.setItem(this.interAutomaticLoginProperty,"true")}},{key:"readInterAutomaticLogin",value:function(){return"true"===this.localstorage.getItem(this.interAutomaticLoginProperty)}},{key:"clearInterAutomaticLogin",value:function(){this.localstorage.removeItem(this.interAutomaticLoginProperty)}},{key:"setAutomaticLoginTimeout",value:function(){this.localstorage.setItem(this.automaticLoginTimeoutProperty,Date.now().toString())}},{key:"readAutomaticLoginTimeout",value:function(){return parseInt(this.localstorage.getItem(this.automaticLoginTimeoutProperty)||"0")}},{key:"setIntraAutomaticLogin",value:function(){this.localstorage.setItem(this.intraAutomaticLoginProperty,"true")}},{key:"readIntraAutomaticLogin",value:function(){return"true"===this.localstorage.getItem(this.intraAutomaticLoginProperty)}},{key:"clearIntraAutomaticLogin",value:function(){return this.localstorage.removeItem(this.intraAutomaticLoginProperty)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),LocalStorage}();exports.LocalStorage=require},{"core-js/modules/es.object.to-string.js":165,"core-js/modules/es.parse-int.js":166,"core-js/modules/es.regexp.to-string.js":175}],15:[function(require,module,exports){"use strict";require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.promise.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.LogoutManager=void 0,require("regenerator-runtime/runtime.js");var _logoutPopup=require("../components/logout-popup"),_styleSheet=require("../elements/style-sheet");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}require=function(){function LogoutManager(elementFactory,location){if(!(this instanceof LogoutManager))throw new TypeError("Cannot call a class as a function");this.elementFactory=elementFactory,this.location=location}var Constructor,protoProps,staticProps,_addStylesheet,_logout;return Constructor=LogoutManager,(protoProps=[{key:"logout",value:(_logout=_asyncToGenerator(regeneratorRuntime.mark(function _callee(ssoConfig){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.addStylesheet();case 2:this.elementFactory.addToBody(new _logoutPopup.LogoutPopup(this.elementFactory,ssoConfig,this.location).element);case 3:case"end":return _context.stop()}},_callee,this)})),function(_x){return _logout.apply(this,arguments)})},{key:"addStylesheet",value:(_addStylesheet=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var stylesheet;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return stylesheet=new _styleSheet.StyleSheet("logout-popup.css",location,this.elementFactory),this.elementFactory.addToHead(stylesheet.element),_context2.abrupt("return",stylesheet.isLoaded());case 3:case"end":return _context2.stop()}},_callee2,this)})),function(){return _addStylesheet.apply(this,arguments)})}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),LogoutManager}();exports.LogoutManager=require},{"../components/logout-popup":7,"../elements/style-sheet":12,"core-js/modules/es.object.to-string.js":165,"core-js/modules/es.promise.js":170,"regenerator-runtime/runtime.js":185}],16:[function(require,module,exports){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SessionDetector=exports.IntraSsoAction=exports.InterSsoAction=void 0,require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.promise.js"),require("core-js/modules/es.array.join.js"),require("core-js/modules/es.array.slice.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.split.js"),require("core-js/modules/es.array.filter.js"),require("core-js/modules/es.string.trim.js"),require("regenerator-runtime/runtime.js"),function(IntraSsoAction){IntraSsoAction.AUTOMATIC_INTRA_SSO_LOGIN="AUTOMATIC_INTRA_SSO_LOGIN",IntraSsoAction.RE_AUTHENTICATE_INTRA_SSO_LOGIN="RE_AUTHENTICATE_INTRA_SSO_LOGIN",IntraSsoAction.VALID_SESSION="VALID_SSO_SESSION",IntraSsoAction.NO_SESSION="NO_SESSION"}((exports.IntraSsoAction=IntraSsoAction)||(exports.IntraSsoAction=IntraSsoAction={})),function(InterSsoAction){InterSsoAction.AUTOMATIC_INTER_SSO_LOGIN="AUTOMATIC_INTER_SSO_LOGIN",InterSsoAction.MULTIPLE_SESSIONS_POPUP="MULTIPLE_SESSIONS_POPUP",InterSsoAction.VALID_SESSION="VALID_SESSION",InterSsoAction.NO_SESSION="NO_SESSION"}((exports.InterSsoAction=InterSsoAction)||(exports.InterSsoAction=InterSsoAction={}));var IntraSsoAction,InterSsoAction,require=function(){function SessionDetector(eventManager,localStorage){var obj;if(!(this instanceof SessionDetector))throw new TypeError("Cannot call a class as a function");this.eventManager=eventManager,this.localStorage=localStorage,eventManager=void 0,(localStorage="brandSession")in(obj=this)?Object.defineProperty(obj,localStorage,{value:eventManager,enumerable:!0,configurable:!0,writable:!0}):obj[localStorage]=eventManager}var Constructor,protoProps,staticProps,_detectAmountOfGlobalSessions,_getBrandSession,_fetchSessionCookies,_detectInterSession,_detectIntraSession,_saveNewSession;return Constructor=SessionDetector,(protoProps=[{key:"saveNewSession",value:(_saveNewSession=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var brandSession;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.getBrandSession();case 2:return(brandSession=_context.sent)&&"0"!==brandSession&&this.localStorage.setCurrentBrandSession(brandSession),_context.abrupt("return",brandSession);case 5:case"end":return _context.stop()}},_callee,this)})),function(){return _saveNewSession.apply(this,arguments)})},{key:"detectIntraSession",value:(_detectIntraSession=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(ssoConfig){var brandSession,existingBrandSession,_ssoConfig$sessionCal;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.getBrandSession();case 2:if(brandSession=_context2.sent,existingBrandSession=this.localStorage.getCurrentBrandSession(),!brandSession||"0"===brandSession){_context2.next=15;break}if(null!=(_ssoConfig$sessionCal=ssoConfig.sessionCallback)&&_ssoConfig$sessionCal.call(ssoConfig),_ssoConfig$sessionCal=brandSession===existingBrandSession,this.localStorage.setCurrentBrandSession(brandSession),this.eventManager.setIdentity({sso_accounts:1}),_ssoConfig$sessionCal)return _context2.abrupt("return",IntraSsoAction.VALID_SESSION);_context2.next=11;break;case 11:if(!ssoConfig.loggedInEmail||existingBrandSession&&"0"!=existingBrandSession){_context2.next=14;break}return this.localStorage.setCurrentBrandSession(brandSession),_context2.abrupt("return",IntraSsoAction.VALID_SESSION);case 14:return _context2.abrupt("return",existingBrandSession?IntraSsoAction.RE_AUTHENTICATE_INTRA_SSO_LOGIN:IntraSsoAction.AUTOMATIC_INTRA_SSO_LOGIN);case 15:return _context2.abrupt("return",IntraSsoAction.NO_SESSION);case 16:case"end":return _context2.stop()}},_callee2,this)})),function(_x){return _detectIntraSession.apply(this,arguments)})},{key:"detectInterSession",value:(_detectInterSession=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(ssoConfig){var amountOfSessions,_ssoConfig$noSessions,_ssoConfig$multipleSe;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(ssoConfig.loggedInEmail)return _context3.abrupt("return",InterSsoAction.VALID_SESSION);_context3.next=2;break;case 2:return _context3.next=4,this.detectAmountOfGlobalSessions(ssoConfig);case 4:if(amountOfSessions=_context3.sent,this.eventManager.setIdentity({sso_accounts:amountOfSessions}),0===amountOfSessions)return null!=(_ssoConfig$noSessions=ssoConfig.noSessionsCallback)&&_ssoConfig$noSessions.call(ssoConfig),_context3.abrupt("return",InterSsoAction.NO_SESSION);_context3.next=11;break;case 11:if(1===amountOfSessions)return null!=(_ssoConfig$noSessions=ssoConfig.sessionCallback)&&_ssoConfig$noSessions.call(ssoConfig),_context3.abrupt("return",InterSsoAction.AUTOMATIC_INTER_SSO_LOGIN);_context3.next=16;break;case 16:return null!=(_ssoConfig$multipleSe=ssoConfig.multipleSessionsCallback)&&_ssoConfig$multipleSe.call(ssoConfig),_context3.abrupt("return",InterSsoAction.MULTIPLE_SESSIONS_POPUP);case 18:case"end":return _context3.stop()}},_callee3,this)})),function(_x2){return _detectInterSession.apply(this,arguments)})},{key:"fetchSessionCookies",value:(_fetchSessionCookies=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(url){var response;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,fetch(url,{credentials:"include",headers:{Accept:"application/json"}});case 2:return response=_context4.sent,_context4.abrupt("return",response.json());case 4:case"end":return _context4.stop()}},_callee4)})),function(_x3){return _fetchSessionCookies.apply(this,arguments)})},{key:"getBrandSession",value:(_getBrandSession=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var brandDomain;return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(null!=this.brandSession)return _context5.abrupt("return",this.brandSession);_context5.next=2;break;case 2:return brandDomain=location.hostname.split(".").slice(-2).join("."),_context5.next=5,this.fetchSessionCookies("https://login.".concat(brandDomain,"/ssosession"));case 5:return brandDomain=_context5.sent,this.brandSession=brandDomain["dpg-sessionid"],_context5.abrupt("return",this.brandSession||"0");case 8:case"end":return _context5.stop()}},_callee5,this)})),function(){return _getBrandSession.apply(this,arguments)})},{key:"detectAmountOfGlobalSessions",value:(_detectAmountOfGlobalSessions=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(ssoConfig){var cookies;return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,this.fetchSessionCookies("https://login.dpgmedia.".concat(ssoConfig.topLevelDomain,"/ssosession"));case 2:return cookies=_context6.sent,_context6.abrupt("return",(null==(cookies=cookies["dpg-gsessionid"])?void 0:cookies.split("|").filter(function(s){return null==s?void 0:s.trim()}).length)||0);case 4:case"end":return _context6.stop()}},_callee6,this)})),function(_x4){return _detectAmountOfGlobalSessions.apply(this,arguments)})}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),SessionDetector}();exports.SessionDetector=require},{"core-js/modules/es.array.filter.js":160,"core-js/modules/es.array.join.js":162,"core-js/modules/es.array.slice.js":163,"core-js/modules/es.object.to-string.js":165,"core-js/modules/es.promise.js":170,"core-js/modules/es.regexp.exec.js":174,"core-js/modules/es.string.split.js":178,"core-js/modules/es.string.trim.js":179,"regenerator-runtime/runtime.js":185}],17:[function(require,module,exports){"use strict";require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.promise.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.SsoManager=void 0,require("regenerator-runtime/runtime.js");var _sessionDetector=require("./session-detector");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}require=function(){function SsoManager(localStorage,sessionDetector,actionManager,eventManager){var _this=this;if(!(this instanceof SsoManager))throw new TypeError("Cannot call a class as a function");this.localStorage=localStorage,this.sessionDetector=sessionDetector,this.actionManager=actionManager,this.eventManager=eventManager,localStorage=this,sessionDetector="trigger",actionManager=function(){fn=regeneratorRuntime.mark(function _callee(ssoConfig){var intraSsoAction;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_this.handlePotentialErrorStates(ssoConfig))return _context.abrupt("return");_context.next=2;break;case 2:if(_this.localStorage.readInterAutomaticLogin())return _this.eventManager.setIdentity({sso_accounts:1}),_context.next=7,_this.actionManager.showLoggedInPopup(ssoConfig);_context.next=10;break;case 7:return _context.next=9,_this.sessionDetector.saveNewSession();case 9:return _context.abrupt("return");case 10:if(ssoConfig.intraSsoEnabled)return _context.next=13,_this.sessionDetector.detectIntraSession(ssoConfig);_context.next=18;break;case 13:if((intraSsoAction=_context.sent)!==_sessionDetector.IntraSsoAction.NO_SESSION)return _context.next=17,_this.actionManager.handleIntraSsoAction(intraSsoAction,ssoConfig);_context.next=18;break;case 17:return _context.abrupt("return");case 18:return _context.next=20,_this.sessionDetector.detectInterSession(ssoConfig);case 20:if((intraSsoAction=_context.sent)!==_sessionDetector.InterSsoAction.NO_SESSION&&intraSsoAction!==_sessionDetector.InterSsoAction.VALID_SESSION)return _context.next=24,_this.actionManager.handleInterSsoAction(intraSsoAction,ssoConfig);_context.next=24;break;case 24:case"end":return _context.stop()}},_callee)});var fn,_ref=function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})};return function(_x){return _ref.apply(this,arguments)}}(),sessionDetector in localStorage?Object.defineProperty(localStorage,sessionDetector,{value:actionManager,enumerable:!0,configurable:!0,writable:!0}):localStorage[sessionDetector]=actionManager}var Constructor,protoProps,staticProps;return Constructor=SsoManager,(protoProps=[{key:"handlePotentialErrorStates",value:function(ssoConfig){return this.localStorage.readInterAutomaticLogin()&&this.localStorage.readIntraAutomaticLogin()?(this.localStorage.clearInterAutomaticLogin(),this.localStorage.clearIntraAutomaticLogin(),this.localStorage.setAutomaticLoginTimeout(),this.eventManager.setIdentity({error_message:"Unexpectedly detected both inter and intra sso post login state"}),this.eventManager.pushEvent("identity_sso_error"),!0):this.localStorage.readInterAutomaticLogin()&&!ssoConfig.loggedInEmail?(this.localStorage.clearInterAutomaticLogin(),this.localStorage.setAutomaticLoginTimeout(),this.eventManager.setIdentity({error_message:"Unexpectedly not showing logged-in popup because no logged in user detected."}),this.eventManager.pushEvent("identity_sso_error"),!0):!(!this.localStorage.readIntraAutomaticLogin()||ssoConfig.loggedInEmail)&&(this.localStorage.clearIntraAutomaticLogin(),this.localStorage.setAutomaticLoginTimeout(),this.eventManager.setIdentity({error_message:"Unexpectedly detected intra sso post login state but no logged in user detected."}),this.eventManager.pushEvent("identity_sso_error"),!0)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),SsoManager}();exports.SsoManager=require},{"./session-detector":16,"core-js/modules/es.object.to-string.js":165,"core-js/modules/es.promise.js":170,"regenerator-runtime/runtime.js":185}],18:[function(require,module,exports){var global=require("../internals/global"),isCallable=require("../internals/is-callable"),tryToString=require("../internals/try-to-string"),TypeError=global.TypeError;module.exports=function(argument){if(isCallable(argument))return argument;throw TypeError(tryToString(argument)+" is not a function")}},{"../internals/global":71,"../internals/is-callable":82,"../internals/try-to-string":153}],19:[function(require,module,exports){var global=require("../internals/global"),isConstructor=require("../internals/is-constructor"),tryToString=require("../internals/try-to-string"),TypeError=global.TypeError;module.exports=function(argument){if(isConstructor(argument))return argument;throw TypeError(tryToString(argument)+" is not a constructor")}},{"../internals/global":71,"../internals/is-constructor":83,"../internals/try-to-string":153}],20:[function(require,module,exports){var global=require("../internals/global"),isCallable=require("../internals/is-callable"),String=global.String,TypeError=global.TypeError;module.exports=function(argument){if("object"==typeof argument||isCallable(argument))return argument;throw TypeError("Can't set "+String(argument)+" as a prototype")}},{"../internals/global":71,"../internals/is-callable":82}],21:[function(require,module,exports){var wellKnownSymbol=require("../internals/well-known-symbol"),create=require("../internals/object-create"),require=require("../internals/object-define-property"),UNSCOPABLES=wellKnownSymbol("unscopables"),ArrayPrototype=Array.prototype;null==ArrayPrototype[UNSCOPABLES]&&require.f(ArrayPrototype,UNSCOPABLES,{configurable:!0,value:create(null)}),module.exports=function(key){ArrayPrototype[UNSCOPABLES][key]=!0}},{"../internals/object-create":101,"../internals/object-define-property":103,"../internals/well-known-symbol":158}],22:[function(require,module,exports){"use strict";var charAt=require("../internals/string-multibyte").charAt;module.exports=function(S,index,unicode){return index+(unicode?charAt(S,index).length:1)}},{"../internals/string-multibyte":139}],23:[function(require,module,exports){var global=require("../internals/global"),isPrototypeOf=require("../internals/object-is-prototype-of"),TypeError=global.TypeError;module.exports=function(it,Prototype){if(isPrototypeOf(Prototype,it))return it;throw TypeError("Incorrect invocation")}},{"../internals/global":71,"../internals/object-is-prototype-of":108}],24:[function(require,module,exports){var global=require("../internals/global"),isObject=require("../internals/is-object"),String=global.String,TypeError=global.TypeError;module.exports=function(argument){if(isObject(argument))return argument;throw TypeError(String(argument)+" is not an object")}},{"../internals/global":71,"../internals/is-object":85}],25:[function(require,module,exports){"use strict";var global=require("../internals/global"),bind=require("../internals/function-bind-context"),call=require("../internals/function-call"),toObject=require("../internals/to-object"),callWithSafeIterationClosing=require("../internals/call-with-safe-iteration-closing"),isArrayIteratorMethod=require("../internals/is-array-iterator-method"),isConstructor=require("../internals/is-constructor"),lengthOfArrayLike=require("../internals/length-of-array-like"),createProperty=require("../internals/create-property"),getIterator=require("../internals/get-iterator"),getIteratorMethod=require("../internals/get-iterator-method"),Array=global.Array;module.exports=function(arrayLike){var length,result,step,iterator,next,value,O=toObject(arrayLike),arrayLike=isConstructor(this),argumentsLength=arguments.length,mapfn=1<argumentsLength?arguments[1]:void 0,mapping=void 0!==mapfn,argumentsLength=(mapping&&(mapfn=bind(mapfn,2<argumentsLength?arguments[2]:void 0)),getIteratorMethod(O)),index=0;if(!argumentsLength||this==Array&&isArrayIteratorMethod(argumentsLength))for(length=lengthOfArrayLike(O),result=arrayLike?new this(length):Array(length);index<length;index++)value=mapping?mapfn(O[index],index):O[index],createProperty(result,index,value);else for(next=(iterator=getIterator(O,argumentsLength)).next,result=arrayLike?new this:[];!(step=call(next,iterator)).done;index++)value=mapping?callWithSafeIterationClosing(iterator,mapfn,[step.value,index],!0):step.value,createProperty(result,index,value);return result.length=index,result}},{"../internals/call-with-safe-iteration-closing":35,"../internals/create-property":44,"../internals/function-bind-context":62,"../internals/function-call":64,"../internals/get-iterator":69,"../internals/get-iterator-method":68,"../internals/global":71,"../internals/is-array-iterator-method":80,"../internals/is-constructor":83,"../internals/length-of-array-like":93,"../internals/to-object":148}],26:[function(require,module,exports){function createMethod(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIndexedObject($this),length=lengthOfArrayLike(O),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;index<length;)if((value=O[index++])!=value)return!0}else for(;index<length;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}var toIndexedObject=require("../internals/to-indexed-object"),toAbsoluteIndex=require("../internals/to-absolute-index"),lengthOfArrayLike=require("../internals/length-of-array-like");module.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},{"../internals/length-of-array-like":93,"../internals/to-absolute-index":144,"../internals/to-indexed-object":145}],27:[function(require,module,exports){function createMethod(TYPE){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,IS_FILTER_REJECT=7==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX;return function($this,callbackfn,that,specificCreate){for(var value,result,O=toObject($this),self=IndexedObject(O),boundFunction=bind(callbackfn,that),length=lengthOfArrayLike(self),index=0,callbackfn=specificCreate||arraySpeciesCreate,target=IS_MAP?callbackfn($this,length):IS_FILTER||IS_FILTER_REJECT?callbackfn($this,0):void 0;index<length;index++)if((NO_HOLES||index in self)&&(result=boundFunction(value=self[index],index,O),TYPE))if(IS_MAP)target[index]=result;else if(result)switch(TYPE){case 3:return!0;case 5:return value;case 6:return index;case 2:push(target,value)}else switch(TYPE){case 4:return!1;case 7:push(target,value)}return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target}}var bind=require("../internals/function-bind-context"),uncurryThis=require("../internals/function-uncurry-this"),IndexedObject=require("../internals/indexed-object"),toObject=require("../internals/to-object"),lengthOfArrayLike=require("../internals/length-of-array-like"),arraySpeciesCreate=require("../internals/array-species-create"),push=uncurryThis([].push);module.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6),filterReject:createMethod(7)}},{"../internals/array-species-create":34,"../internals/function-bind-context":62,"../internals/function-uncurry-this":66,"../internals/indexed-object":77,"../internals/length-of-array-like":93,"../internals/to-object":148}],28:[function(require,module,exports){var fails=require("../internals/fails"),wellKnownSymbol=require("../internals/well-known-symbol"),V8_VERSION=require("../internals/engine-v8-version"),SPECIES=wellKnownSymbol("species");module.exports=function(METHOD_NAME){return 51<=V8_VERSION||!fails(function(){var array=[];return(array.constructor={})[SPECIES]=function(){return{foo:1}},1!==array[METHOD_NAME](Boolean).foo})}},{"../internals/engine-v8-version":56,"../internals/fails":59,"../internals/well-known-symbol":158}],29:[function(require,module,exports){"use strict";var fails=require("../internals/fails");module.exports=function(METHOD_NAME,argument){var method=[][METHOD_NAME];return!!method&&fails(function(){method.call(null,argument||function(){return 1},1)})}},{"../internals/fails":59}],30:[function(require,module,exports){var global=require("../internals/global"),toAbsoluteIndex=require("../internals/to-absolute-index"),lengthOfArrayLike=require("../internals/length-of-array-like"),createProperty=require("../internals/create-property"),Array=global.Array,max=Math.max;module.exports=function(O,start,end){for(var length=lengthOfArrayLike(O),k=toAbsoluteIndex(start,length),fin=toAbsoluteIndex(void 0===end?length:end,length),result=Array(max(fin-k,0)),n=0;k<fin;k++,n++)createProperty(result,n,O[k]);return result.length=n,result}},{"../internals/create-property":44,"../internals/global":71,"../internals/length-of-array-like":93,"../internals/to-absolute-index":144}],31:[function(require,module,exports){require=require("../internals/function-uncurry-this");module.exports=require([].slice)},{"../internals/function-uncurry-this":66}],32:[function(require,module,exports){function mergeSort(array,comparefn){var length=array.length,middle=floor(length/2);return length<8?function(array,comparefn){var length=array.length,i=1,element,j;while(i<length){j=i;element=array[i];while(j&&comparefn(array[j-1],element)>0)array[j]=array[--j];if(j!==i++)array[j]=element}return array}(array,comparefn):function(array,left,right,comparefn){var llength=left.length,rlength=right.length,lindex=0,rindex=0;while(lindex<llength||rindex<rlength)array[lindex+rindex]=lindex<llength&&rindex<rlength?comparefn(left[lindex],right[rindex])<=0?left[lindex++]:right[rindex++]:lindex<llength?left[lindex++]:right[rindex++];return array}(array,mergeSort(arraySlice(array,0,middle),comparefn),mergeSort(arraySlice(array,middle),comparefn),comparefn)}var arraySlice=require("../internals/array-slice-simple"),floor=Math.floor;module.exports=mergeSort},{"../internals/array-slice-simple":30}],33:[function(require,module,exports){var global=require("../internals/global"),isArray=require("../internals/is-array"),isConstructor=require("../internals/is-constructor"),isObject=require("../internals/is-object"),SPECIES=require("../internals/well-known-symbol")("species"),Array=global.Array;module.exports=function(originalArray){var C;return isArray(originalArray)&&(C=originalArray.constructor,(isConstructor(C)&&(C===Array||isArray(C.prototype))||isObject(C)&&null===(C=C[SPECIES]))&&(C=void 0)),void 0===C?Array:C}},{"../internals/global":71,"../internals/is-array":81,"../internals/is-constructor":83,"../internals/is-object":85,"../internals/well-known-symbol":158}],34:[function(require,module,exports){var arraySpeciesConstructor=require("../internals/array-species-constructor");module.exports=function(originalArray,length){return new(arraySpeciesConstructor(originalArray))(0===length?0:length)}},{"../internals/array-species-constructor":33}],35:[function(require,module,exports){var anObject=require("../internals/an-object"),iteratorClose=require("../internals/iterator-close");module.exports=function(iterator,fn,value,ENTRIES){try{return ENTRIES?fn(anObject(value)[0],value[1]):fn(value)}catch(error){iteratorClose(iterator,"throw",error)}}},{"../internals/an-object":24,"../internals/iterator-close":90}],36:[function(require,module,exports){var ITERATOR=require("../internals/well-known-symbol")("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch(error){}module.exports=function(exec,SKIP_CLOSING){if(!SKIP_CLOSING&&!SAFE_CLOSING)return!1;var ITERATION_SUPPORT=!1;try{var object={};object[ITERATOR]=function(){return{next:function(){return{done:ITERATION_SUPPORT=!0}}}},exec(object)}catch(error){}return ITERATION_SUPPORT}},{"../internals/well-known-symbol":158}],37:[function(require,module,exports){var require=require("../internals/function-uncurry-this"),toString=require({}.toString),stringSlice=require("".slice);module.exports=function(it){return stringSlice(toString(it),8,-1)}},{"../internals/function-uncurry-this":66}],38:[function(require,module,exports){var global=require("../internals/global"),TO_STRING_TAG_SUPPORT=require("../internals/to-string-tag-support"),isCallable=require("../internals/is-callable"),classofRaw=require("../internals/classof-raw"),TO_STRING_TAG=require("../internals/well-known-symbol")("toStringTag"),Object=global.Object,CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}());module.exports=TO_STRING_TAG_SUPPORT?classofRaw:function(it){var tag;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(tag=function(it,key){try{return it[key]}catch(error){}}(it=Object(it),TO_STRING_TAG))?tag:CORRECT_ARGUMENTS?classofRaw(it):"Object"==(tag=classofRaw(it))&&isCallable(it.callee)?"Arguments":tag}},{"../internals/classof-raw":37,"../internals/global":71,"../internals/is-callable":82,"../internals/to-string-tag-support":151,"../internals/well-known-symbol":158}],39:[function(require,module,exports){var hasOwn=require("../internals/has-own-property"),ownKeys=require("../internals/own-keys"),getOwnPropertyDescriptorModule=require("../internals/object-get-own-property-descriptor"),definePropertyModule=require("../internals/object-define-property");module.exports=function(target,source,exceptions){for(var keys=ownKeys(source),defineProperty=definePropertyModule.f,getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,i=0;i<keys.length;i++){var key=keys[i];hasOwn(target,key)||exceptions&&hasOwn(exceptions,key)||defineProperty(target,key,getOwnPropertyDescriptor(source,key))}}},{"../internals/has-own-property":72,"../internals/object-define-property":103,"../internals/object-get-own-property-descriptor":104,"../internals/own-keys":115}],40:[function(require,module,exports){require=require("../internals/fails");module.exports=!require(function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype})},{"../internals/fails":59}],41:[function(require,module,exports){"use strict";function returnThis(){return this}var IteratorPrototype=require("../internals/iterators-core").IteratorPrototype,create=require("../internals/object-create"),createPropertyDescriptor=require("../internals/create-property-descriptor"),setToStringTag=require("../internals/set-to-string-tag"),Iterators=require("../internals/iterators");module.exports=function(IteratorConstructor,NAME,next,ENUMERABLE_NEXT){NAME+=" Iterator";return IteratorConstructor.prototype=create(IteratorPrototype,{next:createPropertyDescriptor(+!ENUMERABLE_NEXT,next)}),setToStringTag(IteratorConstructor,NAME,!1,!0),Iterators[NAME]=returnThis,IteratorConstructor}},{"../internals/create-property-descriptor":43,"../internals/iterators":92,"../internals/iterators-core":91,"../internals/object-create":101,"../internals/set-to-string-tag":134}],42:[function(require,module,exports){var DESCRIPTORS=require("../internals/descriptors"),definePropertyModule=require("../internals/object-define-property"),createPropertyDescriptor=require("../internals/create-property-descriptor");module.exports=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,value))}:function(object,key,value){return object[key]=value,object}},{"../internals/create-property-descriptor":43,"../internals/descriptors":46,"../internals/object-define-property":103}],43:[function(require,module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},{}],44:[function(){}