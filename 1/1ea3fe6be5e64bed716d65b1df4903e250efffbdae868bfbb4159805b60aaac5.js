import{A as C,W as d,X as a,Y as l,Z as _,$ as S}from"./index.8a70ad15.js";import{C as n,f}from"./2463ee91.js";const x=Symbol("comment-store");class u{constructor(e,t){this.resource=e,this.resourceId=t,this.totalCount=0,this.count=0,this.parentCount=0,this.comments=[],this.locks=0,this.sort=n.SORT_HOT,this.overviewNeedsRefresh=!1,this.metadata={}}get parentComments(){return this.comments.filter(e=>!e.parent_id)}get childComments(){const e=this.comments.filter(t=>t.parent_id).sort((t,s)=>_(t.posted_on,s.posted_on));return S(e,"parent_id")}contains(e){return this.comments.findIndex(t=>t.id===e.id)!==-1}remove(e){const t=l(this.comments,s=>s.id===e);t&&(this.count-=t.length)}clear(){this.comments=[],this.count=0,this.parentCount=0}afterModification(){this.overviewNeedsRefresh=!0}}