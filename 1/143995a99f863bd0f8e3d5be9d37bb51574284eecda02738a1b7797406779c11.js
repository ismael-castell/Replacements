(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[72],{"./node_modules/@apollo/react-common/lib/react-common.esm.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f}));var r,o=n("./node_modules/react/index.js"),i=n.n(o),s=n("./node_modules/ts-invariant/lib/invariant.esm.js");function a(){return r||(r=i.a.createContext({})),r}var u,l=function(e){var t=e.client,n=e.children,r=a();return i.a.createElement(r.Consumer,null,(function(e){return void 0===e&&(e={}),t&&e.client!==t&&(e=Object.assign({},e,{client:t})),Object(s.b)(e.client,5),i.a.createElement(r.Provider,{value:e},n)}))};!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(u||(u={}));var c=new Map;function d(e){var t;switch(e){case u.Query:t="Query";break;case u.Mutation:t="Mutation";break;case u.Subscription:t="Subscription"}return t}function f(e){var t,n,r=c.get(e);if(r)return r;Object(s.b)(!!e&&!!e.kind,1);var o=e.definitions.filter((function(e){return"FragmentDefinition"===e.kind})),i=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"query"===e.operation})),a=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})),l=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"subscription"===e.operation}));Object(s.b)(!o.length||i.length||a.length||l.length,2),Object(s.b)(i.length+a.length+l.length<=1,3),n=i.length?u.Query:u.Mutation,i.length||a.length||(n=u.Subscription);var d=i.length?i:a.length?a:l;Object(s.b)(1===d.length,4);var f=d[0];t=f.variableDefinitions||[];var p={name:f.name&&"Name"===f.name.kind?f.name.value:"data",type:n,variables:t};return c.set(e,p),p}},"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},"./node_modules/@babel/runtime/helpers/esm/createClass.js":function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return o}))},"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},"./node_modules/@babel/runtime/helpers/esm/extends.js":function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},"./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},"./node_modules/@babel/runtime/helpers/esm/iterableToArray.js":function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,"a",(function(){return r}))},"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js");function o(e,t){if(null==e)return{};var n,o,i=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},"./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js":function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,"a",(function(){return r}))},"./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js");var o=n("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),i=n("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function s(e,t){return Object(r.a)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(u){a=!0,o=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||Object(o.a)(e,t)||Object(i.a)()}n.d(t,"a",(function(){return s}))},"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");var o=n("./node_modules/@babel/runtime/helpers/esm/iterableToArray.js"),i=n("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function s(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(o.a)(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return s}))},"./node_modules/@babel/runtime/helpers/esm/typeof.js":function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function o(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},"./node_modules/@babel/runtime/helpers/extends.js":function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/inheritsLoose.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/setPrototypeOf.js");e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/setPrototypeOf.js":function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@emotion/core/dist/core.browser.esm.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/inheritsLoose.js"),o=n.n(r),i=n("./node_modules/react/index.js");var s=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var i=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,i?0:o.cssRules.length)}catch(s){0}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var a=function(e){function t(e,t,r){var o=t.trim().split(h);t=o;var i=o.length,s=e.length;switch(s){case 0:case 1:var a=0;for(e=0===s?"":e[0]+" ";a<i;++a)t[a]=n(e,t[a],r).trim();break;default:var u=a=0;for(t=[];a<i;++a)for(var l=0;l<s;++l)t[u++]=n(e[l]+" ",o[a],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,i){var s=e+";",a=2*t+3*n+4*i;if(944===a){e=s.indexOf(":",9)+1;var u=s.substring(e,s.length-1).trim();return u=s.substring(0,e).trim()+u+";",1===C||2===C&&o(u,1)?"-webkit-"+u+u:u}if(0===C||2===C&&!o(s,1))return s;switch(a){case 1015:return 97===s.charCodeAt(10)?"-webkit-"+s+s:s;case 951:return 116===s.charCodeAt(3)?"-webkit-"+s+s:s;case 963:return 110===s.charCodeAt(5)?"-webkit-"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return"-webkit-"+s+s;case 978:return"-webkit-"+s+"-moz-"+s+s;case 1019:case 983:return"-webkit-"+s+"-moz-"+s+"-ms-"+s+s;case 883:if(45===s.charCodeAt(8))return"-webkit-"+s+s;if(0<s.indexOf("image-set(",11))return s.replace(S,"$1-webkit-$2")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return"-webkit-box-"+s.replace("-grow","")+"-webkit-"+s+"-ms-"+s.replace("grow","positive")+s;case 115:return"-webkit-"+s+"-ms-"+s.replace("shrink","negative")+s;case 98:return"-webkit-"+s+"-ms-"+s.replace("basis","preferred-size")+s}return"-webkit-"+s+"-ms-"+s+s;case 964:return"-webkit-"+s+"-ms-flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return"-webkit-box-pack"+(u=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+s+"-ms-flex-pack"+u+s;case 1005:return f.test(s)?s.replace(d,":-webkit-")+s.replace(d,":-moz-")+s:s;case 1e3:switch(t=(u=s.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=s.replace(b,"tb");break;case 232:u=s.replace(b,"tb-rl");break;case 220:u=s.replace(b,"lr");break;default:return s}return"-webkit-"+s+"-ms-"+u+s;case 1017:if(-1===s.indexOf("sticky",9))break;case 975:switch(t=(s=e).length-10,a=(u=(33===s.charCodeAt(t)?s.substring(0,t):s).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:s=s.replace(u,"-webkit-"+u)+";"+s;break;case 207:case 102:s=s.replace(u,"-webkit-"+(102<a?"inline-":"")+"box")+";"+s.replace(u,"-webkit-"+u)+";"+s.replace(u,"-ms-"+u+"box")+";"+s}return s+";";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return u=s.replace("-items",""),"-webkit-"+s+"-webkit-box-"+u+"-ms-flex-"+u+s;case 115:return"-webkit-"+s+"-ms-flex-item-"+s.replace(_,"")+s;default:return"-webkit-"+s+"-ms-flex-line-pack"+s.replace("align-content","").replace(_,"")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,i).replace(":fill-available",":stretch"):s.replace(u,"-webkit-"+u)+s.replace(u,"-moz-"+u.replace("fill-",""))+s;break;case 962:if(s="-webkit-"+s+(102===s.charCodeAt(5)?"-ms-"+s:"")+s,211===n+i&&105===s.charCodeAt(13)&&0<s.indexOf("transform",10))return s.substring(0,s.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+s}return s}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),P(2!==t?r:r.replace(x,"$1"),n,t)}function i(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,o,i,s,a,l,c){for(var d,f=0,p=t;f<R;++f)switch(d=A[f].call(u,e,p,n,r,o,i,s,a,l,c)){case void 0:case!1:case!0:case null:break;default:p=d}if(p!==t)return p}function a(e){return void 0!==(e=e.prefix)&&(P=null,e?"function"!==typeof e?C=1:(C=2,P=e):C=0),a}function u(e,n){var a=e;if(33>a.charCodeAt(0)&&(a=a.trim()),a=[a],0<R){var u=s(-1,n,a,a,k,O,0,0,0,0);void 0!==u&&"string"===typeof u&&(n=u)}var d=function e(n,a,u,d,f){for(var p,h,m,b,w,_=0,x=0,E=0,S=0,A=0,P=0,D=m=p=0,L=0,M=0,F=0,q=0,U=u.length,B=U-1,V="",z="",H="",W="";L<U;){if(h=u.charCodeAt(L),L===B&&0!==x+S+E+_&&(0!==x&&(h=47===x?10:47),S=E=_=0,U++,B++),0===x+S+E+_){if(L===B&&(0<M&&(V=V.replace(c,"")),0<V.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(L)}h=59}switch(h){case 123:for(p=(V=V.trim()).charCodeAt(0),m=1,q=++L;L<U;){switch(h=u.charCodeAt(L)){case 123:m++;break;case 125:m--;break;case 47:switch(h=u.charCodeAt(L+1)){case 42:case 47:e:{for(D=L+1;D<B;++D)switch(u.charCodeAt(D)){case 47:if(42===h&&42===u.charCodeAt(D-1)&&L+2!==D){L=D+1;break e}break;case 10:if(47===h){L=D+1;break e}}L=D}}break;case 91:h++;case 40:h++;case 34:case 39:for(;L++<B&&u.charCodeAt(L)!==h;);}if(0===m)break;L++}switch(m=u.substring(q,L),0===p&&(p=(V=V.replace(l,"").trim()).charCodeAt(0)),p){case 64:switch(0<M&&(V=V.replace(c,"")),h=V.charCodeAt(1)){case 100:case 109:case 115:case 45:M=a;break;default:M=I}if(q=(m=e(a,M,m,h,f+1)).length,0<R&&(w=s(3,m,M=t(I,V,F),a,k,O,q,h,f,d),V=M.join(""),void 0!==w&&0===(q=(m=w.trim()).length)&&(h=0,m="")),0<q)switch(h){case 115:V=V.replace(j,i);case 100:case 109:case 45:m=V+"{"+m+"}";break;case 107:m=(V=V.replace(v,"$1 $2"))+"{"+m+"}",m=1===C||2===C&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=V+m,112===d&&(z+=m,m="")}else m="";break;default:m=e(a,t(a,V,F),m,d,f+1)}H+=m,m=F=M=D=p=0,V="",h=u.charCodeAt(++L);break;case 125:case 59:if(1<(q=(V=(0<M?V.replace(c,""):V).trim()).length))switch(0===D&&(p=V.charCodeAt(0),45===p||96<p&&123>p)&&(q=(V=V.replace(" ",":")).length),0<R&&void 0!==(w=s(1,V,a,n,k,O,z.length,d,f,d))&&0===(q=(V=w.trim()).length)&&(V="\0\0"),p=V.charCodeAt(0),h=V.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){W+=V+u.charAt(L);break}default:58!==V.charCodeAt(q-1)&&(z+=r(V,p,h,V.charCodeAt(2)))}F=M=D=p=0,V="",h=u.charCodeAt(++L)}}switch(h){case 13:case 10:47===x?x=0:0===1+p&&107!==d&&0<V.length&&(M=1,V+="\0"),0<R*N&&s(0,V,a,n,k,O,z.length,d,f,d),O=1,k++;break;case 59:case 125:if(0===x+S+E+_){O++;break}default:switch(O++,b=u.charAt(L),h){case 9:case 32:if(0===S+_+x)switch(A){case 44:case 58:case 9:case 32:b="";break;default:32!==h&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===S+x+_&&(M=F=1,b="\f"+b);break;case 108:if(0===S+x+_+T&&0<D)switch(L-D){case 2:112===A&&58===u.charCodeAt(L-3)&&(T=A);case 8:111===P&&(T=P)}break;case 58:0===S+x+_&&(D=L);break;case 44:0===x+E+S+_&&(M=1,b+="\r");break;case 34:case 39:0===x&&(S=S===h?0:0===S?h:S);break;case 91:0===S+x+E&&_++;break;case 93:0===S+x+E&&_--;break;case 41:0===S+x+_&&E--;break;case 40:if(0===S+x+_){if(0===p)switch(2*A+3*P){case 533:break;default:p=1}E++}break;case 64:0===x+E+S+_+D+m&&(m=1);break;case 42:case 47:if(!(0<S+_+E))switch(x){case 0:switch(2*h+3*u.charCodeAt(L+1)){case 235:x=47;break;case 220:q=L,x=42}break;case 42:47===h&&42===A&&q+2!==L&&(33===u.charCodeAt(q+2)&&(z+=u.substring(q,L+1)),b="",x=0)}}0===x&&(V+=b)}P=A,A=h,L++}if(0<(q=z.length)){if(M=a,0<R&&(void 0!==(w=s(2,z,M,n,k,O,q,d,f,d))&&0===(z=w).length))return W+z+H;if(z=M.join(",")+"{"+z+"}",0!==C*T){switch(2!==C||o(z,2)||(T=0),T){case 111:z=z.replace(y,":-moz-$1")+z;break;case 112:z=z.replace(g,"::-webkit-input-$1")+z.replace(g,"::-moz-$1")+z.replace(g,":-ms-input-$1")+z}T=0}}return W+z+H}(I,a,n,0,0);return 0<R&&(void 0!==(u=s(-2,d,a,a,k,O,d.length,0,0,0))&&(d=u)),"",T=0,O=k=1,d}var l=/^\0+/g,c=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,h=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,j=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,_=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,O=1,k=1,T=0,C=1,I=[],A=[],R=0,P=null,N=0;return u.use=function e(t){switch(t){case void 0:case null:R=A.length=0;break;default:if("function"===typeof t)A[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else N=0|!!t}return e},u.set=a,void 0!==e&&a(e),u};n("./node_modules/@emotion/weak-memoize/dist/weak-memoize.browser.esm.js");function u(e){e&&l.current.insert(e+"}")}var l={current:null},c=function(e,t,n,r,o,i,s,a,c,d){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return l.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===a)return t+"/*|*/";break;case 3:switch(a){case 102:case 112:return l.current.insert(n[0]+t),"";default:return t+(0===d?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(u)}},d=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r=new a(t);var o,i={};o=e.container||document.head;var u,d=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(d,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){i[e]=!0})),e.parentNode!==o&&o.appendChild(e)})),r.use(e.stylisPlugins)(c),u=function(e,t,n,o){var i=t.name;l.current=n,r(e,t.styles),o&&(f.inserted[i]=!0)};var f={key:n,sheet:new s({key:n,container:o,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:i,registered:{},insert:u};return f};function f(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}var p=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert("."+r,o,e.sheet,!0);o=o.next}while(void 0!==o)}},h=n("./node_modules/@emotion/hash/dist/hash.browser.esm.js"),m=n("./node_modules/@emotion/unitless/dist/unitless.browser.esm.js"),v=n("./node_modules/@emotion/memoize/dist/memoize.browser.esm.js"),g=/[A-Z]|^ms/g,y=/_EMO_([^_]+?)_([^]*?)_EMO_/g,b=function(e){return 45===e.charCodeAt(1)},j=function(e){return null!=e&&"boolean"!==typeof e},w=Object(v.a)((function(e){return b(e)?e:e.replace(g,"-$&").toLowerCase()})),_=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(y,(function(e,t,n){return E={name:t,styles:n,next:E},t}))}return 1===m.a[e]||b(e)||"number"!==typeof t||0===t?t:t+"px"};function x(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return E={name:n.name,styles:n.styles,next:E},n.name;if(void 0!==n.styles){var o=n.next;if(void 0!==o)for(;void 0!==o;)E={name:o.name,styles:o.styles,next:E},o=o.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=x(e,t,n[o],!1);else for(var i in n){var s=n[i];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=i+"{"+t[s]+"}":j(s)&&(r+=w(i)+":"+_(i,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=x(e,t,s,!1);switch(i){case"animation":case"animationName":r+=w(i)+":"+a+";";break;default:r+=i+"{"+a+"}"}}else for(var u=0;u<s.length;u++)j(s[u])&&(r+=w(i)+":"+_(i,s[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=E,s=n(e);return E=i,x(e,t,s,r)}break;case"string":}if(null==t)return n;var a=t[n];return void 0===a||r?n:a}var E,S=/label:\s*([^\s;\n{]+)\s*;/g;var O=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";E=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=x(n,t,i,!1)):o+=i[0];for(var s=1;s<e.length;s++)o+=x(n,t,e[s],46===o.charCodeAt(o.length-1)),r&&(o+=i[s]);S.lastIndex=0;for(var a,u="";null!==(a=S.exec(o));)u+="-"+a[1];return{name:Object(h.a)(o)+u,styles:o,next:E}};var k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return O(t)};n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return k}));var T=Object(i.createContext)("undefined"!==typeof HTMLElement?d():null),C=Object(i.createContext)({}),I=(T.Provider,function(e){return Object(i.forwardRef)((function(t,n){return Object(i.createElement)(T.Consumer,null,(function(r){return e(t,r,n)}))}))}),A="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",R=Object.prototype.hasOwnProperty,P=function(e,t,n,r){var o=null===n?t.css:t.css(n);"string"===typeof o&&void 0!==e.registered[o]&&(o=e.registered[o]);var s=t[A],a=[o],u="";"string"===typeof t.className?u=f(e.registered,a,t.className):null!=t.className&&(u=t.className+" ");var l=O(a);p(e,l,"string"===typeof s);u+=e.key+"-"+l.name;var c={};for(var d in t)R.call(t,d)&&"css"!==d&&d!==A&&(c[d]=t[d]);return c.ref=r,c.className=u,Object(i.createElement)(s,c)},N=I((function(e,t,n){return"function"===typeof e.css?Object(i.createElement)(C.Consumer,null,(function(r){return P(t,e,r,n)})):P(t,e,null,n)}));var D=function(e,t){var n=arguments;if(null==t||!R.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=N;var s={};for(var a in t)R.call(t,a)&&(s[a]=t[a]);s[A]=e,o[1]=s;for(var u=2;u<r;u++)o[u]=n[u];return i.createElement.apply(null,o)},L=(i.Component,function e(t){for(var n=t.length,r=0,o="";r<n;r++){var i=t[r];if(null!=i){var s=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))s=e(i);else for(var a in s="",i)i[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=i}s&&(o&&(o+=" "),o+=s)}}return o});function M(e,t,n){var r=[],o=f(e,r,n);return r.length<2?n:o+t(r)}I((function(e,t){return Object(i.createElement)(C.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=O(n,t.registered);return p(t,o,!1),t.key+"-"+o.name},o={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return M(t.registered,r,L(n))},theme:n},i=e.children(o);return!0,i}))}))},"./node_modules/@emotion/hash/dist/hash.browser.esm.js":function(e,t,n){"use strict";t.a=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}},"./node_modules/@emotion/memoize/dist/memoize.browser.esm.js":function(e,t,n){"use strict";t.a=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},"./node_modules/@emotion/react/dist/emotion-react.browser.esm.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js");var o=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i="-ms-",s="-moz-",a="-webkit-",u="comm",l="rule",c="decl",d=Math.abs,f=String.fromCharCode;function p(e){return e.trim()}function h(e,t,n){return e.replace(t,n)}function m(e,t){return e.indexOf(t)}function v(e,t){return 0|e.charCodeAt(t)}function g(e,t,n){return e.slice(t,n)}function y(e){return e.length}function b(e){return e.length}function j(e,t){return t.push(e),e}function w(e,t){return e.map(t).join("")}var _=1,x=1,E=0,S=0,O=0,k="";function T(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:_,column:x,length:s,return:""}}function C(e,t,n){return T(e,t.root,t.parent,n,t.props,t.children,0)}function I(){return O=S>0?v(k,--S):0,x--,10===O&&(x=1,_--),O}function A(){return O=S<E?v(k,S++):0,x++,10===O&&(x=1,_++),O}function R(){return v(k,S)}function P(){return S}function N(e,t){return g(k,e,t)}function D(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function L(e){return _=x=1,E=y(k=e),S=0,[]}function M(e){return k="",e}function F(e){return p(N(S-1,function e(t){for(;A();)switch(O){case t:return S;case 34:case 39:return e(34===t||39===t?t:O);case 40:41===t&&e(t);break;case 92:A()}return S}(91===e?e+2:40===e?e+1:e)))}function q(e){for(;(O=R())&&O<33;)A();return D(e)>2||D(O)>3?"":" "}function U(e,t){for(;--t&&A()&&!(O<48||O>102||O>57&&O<65||O>70&&O<97););return N(e,P()+(t<6&&32==R()&&32==A()))}function B(e,t){for(;A()&&e+O!==57&&(e+O!==84||47!==R()););return"/*"+N(t,S-1)+"*"+f(47===e?e:A())}function V(e){for(;!D(R());)A();return N(e,S)}function z(e){return M(function e(t,n,r,o,i,s,a,u,l){var c=0,d=0,p=a,m=0,v=0,g=0,b=1,w=1,_=1,x=0,E="",S=i,O=s,k=o,T=E;for(;w;)switch(g=x,x=A()){case 34:case 39:case 91:case 40:T+=F(x);break;case 9:case 10:case 13:case 32:T+=q(g);break;case 92:T+=U(P()-1,7);continue;case 47:switch(R()){case 42:case 47:j(W(B(A(),P()),n,r),l);break;default:T+="/"}break;case 123*b:u[c++]=y(T)*_;case 125*b:case 59:case 0:switch(x){case 0:case 125:w=0;case 59+d:v>0&&y(T)-p&&j(v>32?G(T+";",o,r,p-1):G(h(T," ","")+";",o,r,p-2),l);break;case 59:T+=";";default:if(j(k=H(T,n,r,c,d,i,u,E,S=[],O=[],p),s),123===x)if(0===d)e(T,n,k,k,S,s,p,u,O);else switch(m){case 100:case 109:case 115:e(t,k,k,o&&j(H(t,k,k,0,0,i,u,E,i,S=[],p),O),i,O,p,u,o?S:O);break;default:e(T,k,k,k,[""],O,p,u,O)}}c=d=v=0,b=_=1,E=T="",p=a;break;case 58:p=1+y(T),v=g;default:if(b<1)if(123==x)--b;else if(125==x&&0==b++&&125==I())continue;switch(T+=f(x),x*b){case 38:_=d>0?1:(T+="\f",-1);break;case 44:u[c++]=(y(T)-1)*_,_=1;break;case 64:45===R()&&(T+=F(A())),m=R(),d=y(E=T+=V(P())),x++;break;case 45:45===g&&2==y(T)&&(b=0)}}return s}("",null,null,null,[""],e=L(e),0,[0],e))}function H(e,t,n,r,o,i,s,a,u,c,f){for(var m=o-1,v=0===o?i:[""],y=b(v),j=0,w=0,_=0;j<r;++j)for(var x=0,E=g(e,m+1,m=d(w=s[j])),S=e;x<y;++x)(S=p(w>0?v[x]+" "+E:h(E,/&\f/g,v[x])))&&(u[_++]=S);return T(e,t,n,0===o?l:a,u,c,f)}function W(e,t,n){return T(e,t,n,u,f(O),g(e,2,-2),0)}function G(e,t,n,r){return T(e,t,n,c,g(e,0,r),g(e,r+1,-1),r)}function K(e,t){switch(function(e,t){return(((t<<2^v(e,0))<<2^v(e,1))<<2^v(e,2))<<2^v(e,3)}(e,t)){case 5103:return a+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return a+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return a+e+s+e+i+e+e;case 6828:case 4268:return a+e+i+e+e;case 6165:return a+e+i+"flex-"+e+e;case 5187:return a+e+h(e,/(\w+).+(:[^]+)/,a+"box-$1$2"+i+"flex-$1$2")+e;case 5443:return a+e+i+"flex-item-"+h(e,/flex-|-self/,"")+e;case 4675:return a+e+i+"flex-line-pack"+h(e,/align-content|flex-|-self/,"")+e;case 5548:return a+e+i+h(e,"shrink","negative")+e;case 5292:return a+e+i+h(e,"basis","preferred-size")+e;case 6060:return a+"box-"+h(e,"-grow","")+a+e+i+h(e,"grow","positive")+e;case 4554:return a+h(e,/([^-])(transform)/g,"$1"+a+"$2")+e;case 6187:return h(h(h(e,/(zoom-|grab)/,a+"$1"),/(image-set)/,a+"$1"),e,"")+e;case 5495:case 3959:return h(e,/(image-set\([^]*)/,a+"$1$`$1");case 4968:return h(h(e,/(.+:)(flex-)?(.*)/,a+"box-pack:$3"+i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+a+e+e;case 4095:case 3583:case 4068:case 2532:return h(e,/(.+)-inline(.+)/,a+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(y(e)-1-t>6)switch(v(e,t+1)){case 109:if(45!==v(e,t+4))break;case 102:return h(e,/(.+:)(.+)-([^]+)/,"$1"+a+"$2-$3$1"+s+(108==v(e,t+3)?"$3":"$2-$3"))+e;case 115:return~m(e,"stretch")?K(h(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==v(e,t+1))break;case 6444:switch(v(e,y(e)-3-(~m(e,"!important")&&10))){case 107:return h(e,":",":"+a)+e;case 101:return h(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+a+(45===v(e,14)?"inline-":"")+"box$3$1"+a+"$2$3$1"+i+"$2box$3")+e}break;case 5936:switch(v(e,t+11)){case 114:return a+e+i+h(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return a+e+i+h(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return a+e+i+h(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return a+e+i+e+e}return e}function $(e,t){for(var n="",r=b(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function Q(e,t,n,r){switch(e.type){case"@import":case c:return e.return=e.return||e.value;case u:return"";case l:e.value=e.props.join(",")}return y(n=$(e.children,r))?e.return=e.value+"{"+n+"}":""}function Y(e){return function(t){t.root||(t=t.return)&&e(t)}}n("./node_modules/@emotion/weak-memoize/dist/weak-memoize.browser.esm.js");var X=n("./node_modules/@emotion/memoize/dist/memoize.browser.esm.js"),J=function(e,t){return M(function(e,t){var n=-1,r=44;do{switch(D(r)){case 0:38===r&&12===R()&&(t[n]=1),e[n]+=V(S-1);break;case 2:e[n]+=F(r);break;case 4:if(44===r){e[++n]=58===R()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=f(r)}}while(r=A());return e}(L(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var o=[],i=J(t,o),s=n.props,a=0,u=0;a<i.length;a++)for(var l=0;l<s.length;l++,u++)e.props[u]=o[a]?i[a].replace(/&\f/g,s[l]):s[l]+" "+i[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},ne=[function(e,t,n,r){if(!e.return)switch(e.type){case c:e.return=K(e.value,e.length);break;case"@keyframes":return $([C(h(e.value,"@","@"+a),e,"")],r);case l:if(e.length)return w(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $([C(h(t,/:(read-\w+)/,":-moz-$1"),e,"")],r);case"::placeholder":return $([C(h(t,/:(plac\w+)/,":"+a+"input-$1"),e,""),C(h(t,/:(plac\w+)/,":-moz-$1"),e,""),C(h(t,/:(plac\w+)/,i+"input-$1"),e,"")],r)}return""}))}}],re=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||ne;var i,s,a={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;u.push(e)}));var l=[ee,te];var c,d=[Q,Y((function(e){c.insert(e)}))],f=function(e){var t=b(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}(l.concat(r,d));s=function(e,t,n,r){c=n,$(z(e?e+"{"+t.styles+"}":t.styles),f),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new o({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend}),nonce:e.nonce,inserted:a,registered:{},insert:s};return p.sheet.hydrate(u),p};n("./node_modules/@babel/runtime/helpers/esm/extends.js"),n("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");var oe=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0);o=o.next}while(void 0!==o)}},ie=n("./node_modules/@emotion/hash/dist/hash.browser.esm.js"),se=n("./node_modules/@emotion/unitless/dist/unitless.browser.esm.js"),ae=/[A-Z]|^ms/g,ue=/_EMO_([^_]+?)_([^]*?)_EMO_/g,le=function(e){return 45===e.charCodeAt(1)},ce=function(e){return null!=e&&"boolean"!==typeof e},de=Object(X.a)((function(e){return le(e)?e:e.replace(ae,"-$&").toLowerCase()})),fe=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(ue,(function(e,t,n){return he={name:t,styles:n,next:he},t}))}return 1===se.a[e]||le(e)||"number"!==typeof t||0===t?t:t+"px"};function pe(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return he={name:n.name,styles:n.styles,next:he},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)he={name:r.name,styles:r.styles,next:he},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=pe(e,t,n[o])+";";else for(var i in n){var s=n[i];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=i+"{"+t[s]+"}":ce(s)&&(r+=de(i)+":"+fe(i,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=pe(e,t,s);switch(i){case"animation":case"animationName":r+=de(i)+":"+a+";";break;default:r+=i+"{"+a+"}"}}else for(var u=0;u<s.length;u++)ce(s[u])&&(r+=de(i)+":"+fe(i,s[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=he,i=n(e);return he=o,pe(e,t,i)}break;case"string":}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var he,me=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var ve=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";he=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=pe(n,t,i)):o+=i[0];for(var s=1;s<e.length;s++)o+=pe(n,t,e[s]),r&&(o+=i[s]);me.lastIndex=0;for(var a,u="";null!==(a=me.exec(o));)u+="-"+a[1];return{name:Object(ie.a)(o)+u,styles:o,next:he}},ge=(Object.prototype.hasOwnProperty,Object(r.createContext)("undefined"!==typeof HTMLElement?re({key:"css"}):null)),ye=(ge.Provider,function(e){return Object(r.forwardRef)((function(t,n){var o=Object(r.useContext)(ge);return e(t,o,n)}))}),be=Object(r.createContext)({});n("./node_modules/@babel/runtime/helpers/extends.js");n.d(t,"a",(function(){return je}));var je=ye((function(e,t){var n=e.styles,i=ve([n],void 0,"function"===typeof n||Array.isArray(n)?Object(r.useContext)(be):void 0),s=Object(r.useRef)();return Object(r.useLayoutEffect)((function(){var e=t.key+"-global",n=new o({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==r&&n.hydrate([r]),s.current=n,function(){n.flush()}}),[t]),Object(r.useLayoutEffect)((function(){void 0!==i.next&&oe(t,i.next,!0);var e=s.current;if(e.tags.length){var n=e.tags[e.tags.length-1].nextElementSibling;e.before=n,e.flush()}t.insert("",i,e,!1)}),[t,i.name]),null}))},"./node_modules/@emotion/unitless/dist/unitless.browser.esm.js":function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},"./node_modules/@emotion/weak-memoize/dist/weak-memoize.browser.esm.js":function(e,t,n){"use strict";t.a=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}},"./node_modules/@firebase/app/dist/index.esm.js":function(e,t,n){"use strict";var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.create;Object.create;var o,i,s=n("./node_modules/@firebase/util/dist/index.esm.js"),a=n("./node_modules/@firebase/component/dist/index.esm.js"),u=n("./node_modules/@firebase/logger/dist/index.esm.js"),l=((o={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",o["bad-app-name"]="Illegal App name: '{$appName}",o["duplicate-app"]="Firebase App named '{$appName}' already exists",o["app-deleted"]="Firebase App named '{$appName}' already deleted",o["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",o["invalid-log-argument"]="First argument to `onLog` must be null or a function.",o),c=new s.b("app","Firebase",l),d=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),p=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(e),this.container=new a.b(t.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){f.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},e}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var h=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={});if("object"!==typeof o||null===o){o={name:o}}var i=o;void 0===i.name&&(i.name="[DEFAULT]");var a=i.name;if("string"!==typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(Object(s.c)(t,a))throw c.create("duplicate-app",{appName:a});var u=new e(n,i,r);return t[a]=u,u},app:o,registerVersion:function(e,t,n){var r,o=null!==(r=d[e])&&void 0!==r?r:e;n&&(o+="-"+n);var s=o.match(/\s|\//),u=t.match(/\s|\//);if(s||u){var l=['Unable to register library "'+o+'" with version "'+t+'":'];return s&&l.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),s&&u&&l.push("and"),u&&l.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void f.warn(l.join(" "))}i(new a.a(o+"-version",(function(){return{library:o,version:t}}),"VERSION"))},setLogLevel:u.c,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw c.create("invalid-log-argument");Object(u.d)(e,t)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:i,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function o(e){if(e=e||"[DEFAULT]",!Object(s.c)(t,e))throw c.create("no-app",{appName:e});return t[e]}function i(i){var a=i.name;if(n.has(a))return f.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===i.type?r[a]:null;if(n.set(a,i),"PUBLIC"===i.type){var u=function(e){if(void 0===e&&(e=o()),"function"!==typeof e[a])throw c.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==i.serviceProps&&Object(s.g)(u,i.serviceProps),r[a]=u,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,i.multipleInstances?e:[])}}for(var l=0,d=Object.keys(t);l<d.length;l++){var p=d[l];t[p]._addComponent(i)}return"PUBLIC"===i.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),o.App=e,r}(p);return t.INTERNAL=r(r({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(s.g)(t,e)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),t}(),m=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(s.j)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=h.initializeApp;h.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(s.o)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),g.apply(void 0,e)};var y,b,j=h;(y=j).INTERNAL.registerComponent(new a.a("platform-logger",(function(e){return new m(e)}),"PRIVATE")),y.registerVersion("@firebase/app","0.6.29",b),y.registerVersion("fire-js","");t.a=j},"./node_modules/@firebase/auth/dist/auth.esm.js":function(e,t,n){"use strict";(function(e){var t=n("./node_modules/@firebase/app/dist/index.esm.js");(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var o=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e,t];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function s(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,t){if(t){var n=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];s in n||(n[s]={}),n=n[s]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var i=o.setTimeout;n.prototype.c=function(e){i(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{o(e(t))}catch(n){i(n)}}:t}var o,i,s=new t((function(e,t){o=e,i=t}));return this.Ra(r(e,o),r(n,i)),s},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var o=s(e),i=o.next();!i.done;i=o.next())r(i.value).Ra(t,n)}))},t.all=function(e){var n=s(e),o=n.next();return o.done?r([]):new t((function(e,t){function i(t){return function(n){s[t]=n,0==--a&&e(s)}}var s=[],a=0;do{s.push(void 0),a++,r(o.value).Ra(i(s.length-1),t),o=n.next()}while(!o.done)}))},t}));var a=a||{},u=this||self,l=/^[\w+/_-]+[=]{0,2}$/,c=null;function d(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""}function f(){}function p(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function h(e){var t=p(e);return"array"==t||"object"==t&&"number"==typeof e.length}function m(e){return"function"==p(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function j(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?j:w).apply(null,arguments)}function x(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var E=Date.now;function S(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function O(e){return e}function k(e,t,n){this.code=I+e,this.message=t||A[e]||"",this.a=n||null}function T(e){var t=e&&e.code;return t?new k(t.substring(I.length),e.message,e.serverResponse):null}S(k,Error),k.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},k.prototype.toJSON=function(){return this.w()};var C,I="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(e){for(var t in R)if(R[t].id===e)return{firebaseEndpoint:(e=R[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function N(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,o=0;o<r;o++)n+=e[o]+(o<t.length?t[o]:"%s");D.call(this,n+e[r])}function M(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function q(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}C=P("__EID__")?"__EID__":void 0,S(D,Error),D.prototype.name="CustomError",S(L,D),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var B=new F((function(){return new z}),(function(e){e.reset()}));function V(){var e=jt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function z(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=B.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},z.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o="string"===typeof e?e.split(""):e,i=0;i<r;i++)i in o&&t.call(n,o[i],i,e)};var G=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],o=0,i="string"===typeof e?e.split(""):e,s=0;s<n;s++)if(s in i){var a=i[s];t.call(void 0,a,s,e)&&(r[o++]=a)}return r},K=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),o="string"===typeof e?e.split(""):e,i=0;i<n;i++)i in o&&(r[i]=t.call(void 0,o[i],i,e));return r},$=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e))return!0;return!1};function Q(e,t){return 0<=H(e,t)}function Y(e,t){var n;return(n=0<=(t=H(e,t)))&&Array.prototype.splice.call(e,t,1),n}function X(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function J(e){return Array.prototype.concat.apply([],arguments)}function Z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,oe=/>/g,ie=/"/g,se=/'/g,ae=/\x00/g,ue=/[\x00&<>"']/;function le(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var de=u.navigator;if(de){var fe=de.userAgent;if(fe){ee=fe;break e}}ee=""}function pe(e){return le(ee,e)}function he(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function me(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var i=0;i<ge.length;i++)n=ge[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var o=r;break e}}catch(s){}o=null}if(o&&"undefined"!=typeof o[t]&&(!e||!(e instanceof o[t])&&(e instanceof o.Location||e instanceof o.Element))){if(v(e))try{var i=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(s){i="<object could not be stringified>"}else i=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,i)}}function je(e,t){this.a=e===Ee&&t||"",this.b=xe}function we(e){return e instanceof je&&e.constructor===je&&e.b===xe?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}je.prototype.ta=!0,je.prototype.sa=function(){return this.a},je.prototype.toString=function(){return"Const{"+this.a+"}"};var _e,xe={},Ee={};function Se(){if(void 0===_e){var e=null,t=u.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:O,createScript:O,createScriptURL:O})}catch(n){u.console&&u.console.error(n.message)}_e=e}else _e=e}return _e}function Oe(e,t){this.a=t===Ae?e:""}function ke(e){return e instanceof Oe&&e.constructor===Oe?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+p(e)),"type_error:TrustedResourceUrl")}function Te(e,t){var n=we(e);if(!Ie.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Se();return new Oe(e=t?t.createScriptURL(e):e,Ae)}(e=n.replace(Ce,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof je?we(e):encodeURIComponent(String(e))})))}Oe.prototype.ta=!0,Oe.prototype.sa=function(){return this.a.toString()},Oe.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ce=/%{(\w+)}/g,Ie=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ae={};function Re(e,t){this.a=t===qe?e:""}function Pe(e){return e instanceof Re&&e.constructor===Re?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+p(e)),"type_error:SafeUrl")}Re.prototype.ta=!0,Re.prototype.sa=function(){return this.a.toString()},Re.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ne=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,De=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Le=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Me(e){if(e instanceof Re)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e))e=new Re(e,qe);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(De);e=t&&Ne.test(t[1])?new Re(e,qe):null}return e}function Fe(e){return e instanceof Re?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e)||(e="about:invalid#zClosurez"),new Re(e,qe))}var qe={},Ue=new Re("about:invalid#zClosurez",qe);function Be(e,t,n){this.a=n===Ve?e:""}Be.prototype.ta=!0,Be.prototype.sa=function(){return this.a.toString()},Be.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ve={};function ze(e,t,n,r){return e=e instanceof Re?e:Fe(e),t=t||u,n=n instanceof je?we(n):n||"",t.open(Pe(e),n,r,void 0)}function He(e,t){for(var n=e.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")}function We(e){return ue.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(oe,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(se,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function Ge(e){return Ge[" "](e),e}Ge[" "]=f;var Ke,$e=pe("Opera"),Qe=pe("Trident")||pe("MSIE"),Ye=pe("Edge"),Xe=Ye||Qe,Je=pe("Gecko")&&!(le(ee.toLowerCase(),"webkit")&&!pe("Edge"))&&!(pe("Trident")||pe("MSIE"))&&!pe("Edge"),Ze=le(ee.toLowerCase(),"webkit")&&!pe("Edge");function et(){var e=u.document;return e?e.documentMode:void 0}e:{var tt="",nt=function(){var e=ee;return Je?/rv:([^\);]+)(\)|;)/.exec(e):Ye?/Edge\/([\d\.]+)/.exec(e):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ze?/WebKit\/(\S+)/.exec(e):$e?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nt&&(tt=nt?nt[1]:""),Qe){var rt=et();if(null!=rt&&rt>parseFloat(tt)){Ke=String(rt);break e}}Ke=tt}var ot,it={};function st(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=te(String(Ke)).split("."),r=te(String(e)).split("."),o=Math.max(n.length,r.length),i=0;0==t&&i<o;i++){var s=n[i]||"",a=r[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=ce(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ce(0==s[2].length,0==a[2].length)||ce(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t}))}if(u.document&&Qe){var at=et();ot=at||(parseInt(Ke,10)||void 0)}else ot=void 0;var ut=ot;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(us){}var lt=!Qe||9<=Number(ut);function ct(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function dt(e,t){he(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ht.hasOwnProperty(n)?e.setAttribute(ht[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ft,pt,ht={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function mt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var o=2;o<n.length;o++){var i=n[o];if(!h(i)||v(i)&&0<i.nodeType)r(i);else{e:{if(i&&"number"==typeof i.length){if(v(i)){var s="function"==typeof i.item||"string"==typeof i.item;break e}if(m(i)){s="function"==typeof i.item;break e}}s=!1}W(s?Z(i):i,r)}}}function vt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function gt(e){u.setTimeout((function(){throw e}),0)}function yt(e,t){pt||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);pt=function(){e.then(wt)}}else pt=function(){var e=wt;!m(u.setImmediate)||u.Window&&u.Window.prototype&&!pe("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ft||(ft=function(){var e=u.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!pe("Presto")&&(e=function(){var e=vt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=_((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!pe("Trident")&&!pe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),ft(e)):u.setImmediate(e)}}(),bt||(pt(),bt=!0),jt.add(e,t)}var bt=!1,jt=new U;function wt(){for(var e;e=V();){try{e.a.call(e.b)}catch(t){gt(t)}q(B,e)}bt=!1}function _t(e,t){if(this.a=xt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){Dt(n,Et,e)}),(function(e){if(!(e instanceof Vt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Dt(n,St,e)}))}catch(r){Dt(this,St,r)}}var xt=0,Et=2,St=3;function Ot(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ot.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var kt=new F((function(){return new Ot}),(function(e){e.reset()}));function Tt(e,t,n){var r=kt.get();return r.g=e,r.b=t,r.f=n,r}function Ct(e){if(e instanceof _t)return e;var t=new _t(f);return Dt(t,Et,e),t}function It(e){return new _t((function(t,n){n(e)}))}function At(e,t,n){Lt(e,t,n,null)||yt(x(t,e))}function Rt(e){return new _t((function(t){var n=e.length,r=[];if(n)for(var o=function(e,o,i){n--,r[e]=o?{Qb:!0,value:i}:{Qb:!1,reason:i},0==n&&t(r)},i=0;i<e.length;i++)At(e[i],x(o,i,!0),x(o,i,!1));else t(r)}))}function Pt(e,t){e.b||e.a!=Et&&e.a!=St||Mt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Nt(e,t,n,r){var o=Tt(null,null,null);return o.a=new _t((function(e,i){o.g=t?function(n){try{var o=t.call(r,n);e(o)}catch(s){i(s)}}:e,o.b=n?function(t){try{var o=n.call(r,t);void 0===o&&t instanceof Vt?i(t):e(o)}catch(s){i(s)}}:i})),o.a.c=e,Pt(e,o),o.a}function Dt(e,t,n){e.a==xt&&(e===n&&(t=St,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Lt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Mt(e),t!=St||n instanceof Vt||function(e,t){e.g=!0,yt((function(){e.g&&Bt.call(null,t)}))}(e,n)))}function Lt(e,t,n,r){if(e instanceof _t)return Pt(e,Tt(t||f,n||null,r)),!0;if(N(e))return e.then(t,n,r),!0;if(v(e))try{var o=e.then;if(m(o))return function(e,t,n,r,o){function i(e){s||(s=!0,r.call(o,e))}var s=!1;try{t.call(e,(function(e){s||(s=!0,n.call(o,e))}),i)}catch(a){i(a)}}(e,o,t,n,r),!0}catch(i){return n.call(r,i),!0}return!1}function Mt(e){e.h||(e.h=!0,yt(e.gc,e))}function Ft(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function qt(e,t,n,r){if(n==St&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ut(t,n,r);else try{t.c?t.g.call(t.f):Ut(t,n,r)}catch(o){Bt.call(null,o)}q(kt,t)}function Ut(e,t,n){t==Et?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}_t.prototype.then=function(e,t,n){return Nt(this,m(e)?e:null,m(t)?t:null,n)},_t.prototype.$goog_Thenable=!0,(n=_t.prototype).oa=function(e,t){return(e=Tt(e,e,t)).c=!0,Pt(this,e),this},n.o=function(e,t){return Nt(this,null,e,t)},n.cancel=function(e){if(this.a==xt){var t=new Vt(e);yt((function(){!function e(t,n){if(t.a==xt)if(t.c){var r=t.c;if(r.b){for(var o=0,i=null,s=null,a=r.b;a&&(a.c||(o++,a.a==t&&(i=a),!(i&&1<o)));a=a.next)i||(s=a);i&&(r.a==xt&&1==o?e(r,n):(s?((o=s).next==r.f&&(r.f=o),o.next=o.next.next):Ft(r),qt(r,i,St,n)))}t.c=null}else Dt(t,St,n)}(this,t)}),this)}},n.$c=function(e){this.a=xt,Dt(this,Et,e)},n.ad=function(e){this.a=xt,Dt(this,St,e)},n.gc=function(){for(var e;e=Ft(this);)qt(this,e,this.a,this.i);this.h=!1};var Bt=gt;function Vt(e){D.call(this,e)}function zt(){0!=Ht&&(Wt[g(this)]=this),this.ya=this.ya,this.pa=this.pa}S(Vt,D),Vt.prototype.name="cancel";var Ht=0,Wt={};function Gt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Ht)){var t=g(e);if(0!=Ht&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Wt[t]}}zt.prototype.ya=!1,zt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Kt=Object.freeze||function(e){return e},$t=!Qe||9<=Number(ut),Qt=Qe&&!st("9"),Yt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",f,t),u.removeEventListener("test",f,t)}catch(n){}return e}();function Xt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Jt(e,t){if(Xt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Je){e:{try{Ge(t.nodeName);var o=!0;break e}catch(i){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Zt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Xt.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Jt,Xt);var Zt=Kt({2:"touch",3:"pen",4:"mouse"});Jt.prototype.preventDefault=function(){Jt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Qt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Jt.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=o,this.key=++tn,this.wa=this.Qa=!1}function rn(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function on(e){this.src=e,this.a={},this.b=0}function sn(e,t){var n=t.type;n in e.a&&Y(e.a[n],t)&&(rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function an(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.wa&&i.listener==t&&i.capture==!!n&&i.Wa==r)return o}return-1}on.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.a[i])||(e=this.a[i]=[],this.b++);var s=an(e,t,r,o);return-1<s?(t=e[s],n||(t.Qa=!1)):((t=new nn(t,this.src,i,!!r,o)).Qa=n,e.push(t)),t};var un="closure_lm_"+(1e6*Math.random()|0),ln={};function cn(e,t,n,r,o){if(r&&r.once)fn(e,t,n,r,o);else if(Array.isArray(t))for(var i=0;i<t.length;i++)cn(e,t[i],n,r,o);else n=wn(n),e&&e[en]?xn(e,t,n,v(r)?!!r.capture:!!r,o):dn(e,t,n,!1,r,o)}function dn(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var s=v(o)?!!o.capture:!!o,a=bn(e);if(a||(e[un]=a=new on(e)),!(n=a.add(t,n,r,s,i)).proxy){if(r=function(){var e=yn,t=$t?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Yt||(o=s),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(mn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function fn(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)fn(e,t[i],n,r,o);else n=wn(n),e&&e[en]?En(e,t,n,v(r)?!!r.capture:!!r,o):dn(e,t,n,!0,r,o)}function pn(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)pn(e,t[i],n,r,o);else r=v(r)?!!r.capture:!!r,n=wn(n),e&&e[en]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=an(i=e.a[t],n,r,o))&&(rn(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.a[t],e.b--)))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=an(t,n,r,o)),(n=-1<e?t[e]:null)&&hn(n))}function hn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[en])sn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bn(t))?(sn(n,e),0==n.b&&(n.src=null,t[un]=null)):rn(e)}}}function mn(e){return e in ln?ln[e]:ln[e]="on"+e}function vn(e,t,n,r){var o=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var i=t[e];i&&i.capture==n&&!i.wa&&(i=gn(i,r),o=o&&!1!==i)}return o}function gn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&hn(e),n.call(r,t)}function yn(e,t){if(e.wa)return!0;if(!$t){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Jt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(s){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=t.b;o;o=o.parentNode)r.push(o);for(e=e.type,o=r.length-1;0<=o;o--){t.b=r[o];var i=vn(r[o],e,!0,t);n=n&&i}for(o=0;o<r.length;o++)t.b=r[o],i=vn(r[o],e,!1,t),n=n&&i}return n}return gn(e,new Jt(t,this))}function bn(e){return(e=e[un])instanceof on?e:null}var jn="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(e){return m(e)?e:(e[jn]||(e[jn]=function(t){return e.handleEvent(t)}),e[jn])}function _n(){zt.call(this),this.v=new on(this),this.bc=this,this.hb=null}function xn(e,t,n,r,o){e.v.add(String(t),n,!1,r,o)}function En(e,t,n,r,o){e.v.add(String(t),n,!0,r,o)}function Sn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&sn(e.v,s),o=!1!==a.call(u,r)&&o}}return o&&!r.defaultPrevented}function On(e,t,n){if(m(e))n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function kn(e){var t=null;return new _t((function(n,r){-1==(t=On((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw u.clearTimeout(t),e}))}function Tn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(h(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Cn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(h(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function In(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof In)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function An(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Rn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var o={};for(n=t=0;t<e.a.length;)Rn(o,r=e.a[t])||(e.a[n++]=r,o[r]=1),t++;e.a.length=n}}function Rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}S(_n,zt),_n.prototype[en]=!0,_n.prototype.addEventListener=function(e,t,n,r){cn(this,e,t,n,r)},_n.prototype.removeEventListener=function(e,t,n,r){pn(this,e,t,n,r)},_n.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Xt(e,n);else if(e instanceof Xt)e.target=e.target||n;else{var o=e;ye(e=new Xt(r,n),o)}if(o=!0,t)for(var i=t.length-1;0<=i;i--){var s=e.b=t[i];o=Sn(s,r,!0,e)&&o}if(o=Sn(s=e.b=n,r,!0,e)&&o,o=Sn(s,r,!1,e)&&o,t)for(i=0;i<t.length;i++)o=Sn(s=e.b=t[i],r,!1,e)&&o;return o},_n.prototype.Da=function(){if(_n.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)rn(n[r]);delete t.a[e],t.b--}}this.hb=null},(n=In.prototype).X=function(){An(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},n.Y=function(){return An(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(e,t){return Rn(this.b,e)?this.b[e]:t},n.set=function(e,t){Rn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},n.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);e.call(t,i,o,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Nn?(this.i=void 0!==t?t:e.i,Dn(this,e.c),this.l=e.l,this.a=e.a,Ln(this,e.g),this.f=e.f,Mn(this,nr(e.b)),this.h=e.h):e&&(n=String(e).match(Pn))?(this.i=!!t,Dn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Ln(this,n[4]),this.f=Vn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!t,this.b=new Yn(null,this.i))}function Dn(e,t,n){e.c=n?Vn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Ln(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Mn(e,t,n){t instanceof Yn?(e.b=t,function(e,t){t&&!e.f&&(Xn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zn(this,t),tr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=zn(t,$n)),e.b=new Yn(t,e.i))}function Fn(e,t,n){e.b.set(t,n)}function qn(e,t){return e.b.get(t)}function Un(e){return e instanceof Nn?new Nn(e):new Nn(e,void 0)}function Bn(e,t,n,r){var o=new Nn(null,void 0);return e&&Dn(o,e),t&&(o.a=t),n&&Ln(o,n),r&&(o.f=r),o}function Vn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(zn(t,Wn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(zn(t,Wn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(zn(n,"/"==n.charAt(0)?Kn:Gn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",zn(n,Qn)),e.join("")},Nn.prototype.resolve=function(e){var t=new Nn(this),n=!!e.c;n?Dn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Ln(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var o=t.f.lastIndexOf("/");-1!=o&&(r=t.f.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(le(o,"./")||le(o,"/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],s=0;s<o.length;){var a=o[s++];"."==a?r&&s==o.length&&i.push(""):".."==a?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&s==o.length&&i.push("")):(i.push(a),r=!0)}r=i.join("/")}else r=o}return n?t.f=r:n=""!==e.b.toString(),n?Mn(t,nr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Wn=/[#\/\?@]/g,Gn=/[#\?:]/g,Kn=/[#\?]/g,$n=/[#\?@]/g,Qn=/#/g;function Yn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Xn(e){e.a||(e.a=new In,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jn(e){var t=Cn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Yn(null,void 0);e=Tn(e);for(var r=0;r<t.length;r++){var o=t[r],i=e[r];Array.isArray(i)?tr(n,o,i):n.add(o,i)}return n}function Zn(e,t){Xn(e),t=rr(e,t),Rn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Rn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&An(e)))}function er(e,t){return Xn(e),t=rr(e,t),Rn(e.a.b,t)}function tr(e,t,n){Zn(e,t),0<n.length&&(e.c=null,e.a.set(rr(e,t),Z(n)),e.b+=n.length)}function nr(e){var t=new Yn;return t.c=e.c,e.a&&(t.a=new In(e.a),t.b=e.b),t}function rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function or(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var o=n;n=o.length,r.push("[");for(var i="",s=0;s<n;s++)r.push(i),e(t,o[s],r),i=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(o in r.push("{"),i="",n)Object.prototype.hasOwnProperty.call(n,o)&&("function"!=typeof(s=n[o])&&(r.push(i),ur(o,r),r.push(":"),e(t,s,r),i=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ur(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new ir,e,t),t.join("")}function ir(){}(n=Yn.prototype).add=function(e,t){Xn(this),this.c=null,e=rr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(e,t){Xn(this),this.a.forEach((function(n,r){W(n,(function(n){e.call(t,n,r,this)}),this)}),this)},n.Y=function(){Xn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var o=e[r],i=0;i<o.length;i++)n.push(t[r]);return n},n.X=function(e){Xn(this);var t=[];if("string"===typeof e)er(this,e)&&(t=J(t,this.a.get(rr(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=J(t,e[n])}return t},n.set=function(e,t){return Xn(this),this.c=null,er(this,e=rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},n.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.X(r);for(var i=0;i<r.length;i++){var s=o;""!==r[i]&&(s+="="+encodeURIComponent(String(r[i]))),e.push(s)}}return this.c=e.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(e,t){t.push('"',e.replace(ar,(function(e){var t=sr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),sr[e]=t),t})),'"')}function lr(){var e=Tr();return Qe&&!!ut&&11==ut||/Edge\/\d+/.test(e)}function cr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function dr(e,t){t=t||u.window;var n="about:blank";e&&(n=Pe(Me(e)||Ue)),t.location.href=n}function fr(e){return!!((e=(e||Tr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function pr(e){e=e||u.window;try{e.close()}catch(t){}}function hr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var o=(window.screen.availHeight-n)/2,i=(window.screen.availWidth-t)/2;for(s in t={width:t,height:n,top:0<o?o:0,left:0<i?i:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Tr().toLowerCase(),r&&(t.target=r,le(n,"crios/")&&(t.target="_blank")),Sr(Tr())==xr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Re?n:Me("undefined"!=typeof n.href?n.href:String(n))||Ue,n=e.target||n.target,o=[],e)switch(s){case"width":case"height":case"top":case"left":o.push(s+"="+e[s]);break;case"target":case"noopener":case"noreferrer":break;default:o.push(s+"="+(e[s]?1:0))}var s=o.join(",");if((pe("iPhone")&&!pe("iPod")&&!pe("iPad")||pe("iPad")||pe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(s=vt(document,"A"),"HTMLAnchorElement"),t=t instanceof Re?t:Fe(t),s.href=Pe(t),s.setAttribute("target",n),e.noreferrer&&s.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(e),s={}):e.noreferrer?(s=ze("",r,n,s),e=Pe(t),s&&(Xe&&le(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),s.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+We(e)+'">',e=new Be(e=(r=Se())?r.createHTML(e):e,null,Ve),r=s.document)&&(r.write(function(e){return e instanceof Be&&e.constructor===Be?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+p(e)),"type_error:SafeHtml")}(e)),r.close())):(s=ze(t,r,n,s))&&e.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function gr(){var e=null;return new _t((function(t){"complete"==u.document.readyState?t():(e=function(){t()},fn(window,"load",e))})).o((function(t){throw pn(window,"load",e),t}))}function yr(e){return e=e||Tr(),!("file:"!==Pr()&&"ionic:"!==Pr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var e=u.window;try{return!(!e||e==e.top)}catch(t){return!1}}function jr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function wr(){return t.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.a.INTERNAL.hasOwnProperty("node")?"Node":jr()?"Worker":"Browser"}function _r(){var e=wr();return"ReactNative"===e||"Node"===e}var xr="Firefox",Er="Chrome";function Sr(e){var t=e.toLowerCase();return le(t,"opera/")||le(t,"opr/")||le(t,"opios/")?"Opera":le(t,"iemobile")?"IEMobile":le(t,"msie")||le(t,"trident/")?"IE":le(t,"edge/")?"Edge":le(t,"firefox/")?xr:le(t,"silk/")?"Silk":le(t,"blackberry")?"Blackberry":le(t,"webos")?"Webos":!le(t,"safari/")||le(t,"chrome/")||le(t,"crios/")||le(t,"android")?!le(t,"chrome/")&&!le(t,"crios/")||le(t,"edge/")?le(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Er:"Safari"}var Or={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(e,t){t=t||[];var n,r=[],o={};for(n in Or)o[Or[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof o[t[n]]&&(delete o[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Sr(o=Tr()):"Worker"===r&&(r=Sr(o=Tr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Tr(){return u.navigator&&u.navigator.userAgent||""}function Cr(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Ir(){try{var e=u.localStorage,t=Fr();if(e)return e.setItem(t,"1"),e.removeItem(t),!lr()||!!u.indexedDB}catch(n){return jr()&&!!u.indexedDB}return!1}function Ar(){return(Rr()||"chrome-extension:"===Pr()||yr())&&!_r()&&Ir()&&!jr()}function Rr(){return"http:"===Pr()||"https:"===Pr()}function Pr(){return u.location&&u.location.protocol||null}function Nr(e){return!fr(e=e||Tr())&&Sr(e)!=xr}function Dr(e){return"undefined"===typeof e?null:or(e)}function Lr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Mr(e){if(null!==e)return JSON.parse(e)}function Fr(e){return e||Math.floor(1e9*Math.random()).toString()}function qr(e){return"Safari"!=Sr(e=e||Tr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Br(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Tr(),t=wr(),this.b=fr(e)||"ReactNative"===t}function Vr(){var e=u.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function zr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Hr(){return!(!Cr("fireauth.oauthhelper",u)&&!Cr("fireauth.iframe",u))}Br.prototype.get=function(){var e=u.navigator;return!e||"boolean"!==typeof e.onLine||!Rr()&&"chrome-extension:"!==Pr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Wr,Gr={};function Kr(e){Gr[e]||(Gr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var $r={};Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:2}),Wr=2==$r.abcd}catch(us){Wr=!1}function Qr(e,t,n){Wr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Yr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Qr(e,n,t[n])}function Xr(e){var t={};return Yr(t,e),t}function Jr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Qr(t,n,Jr(e[n]));return t}function Zr(e){var t=e&&(e[oo]?"phone":null);if(!(t&&e&&e[ro]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",e[ro]),Qr(this,"displayName",e[to]||null);var n=null;e[no]&&(n=new Date(e[no]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",t)}function eo(e){try{var t=new io(e)}catch(n){t=null}return t}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var to="displayName",no="enrolledAt",ro="mfaEnrollmentId",oo="phoneInfo";function io(e){Zr.call(this,e),Qr(this,"phoneNumber",e[oo])}function so(e){var t={},n=e[co],r=e[po],o=e[ho];if(e=eo(e[fo]),!o||o!=uo&&o!=lo&&!n||o==lo&&!r||o==ao&&!e)throw Error("Invalid checkActionCode response!");o==lo?(t[vo]=n||null,t[yo]=n||null,t[mo]=r):(t[vo]=r||null,t[yo]=r||null,t[mo]=n||null),t[go]=e||null,Qr(this,jo,o),Qr(this,bo,Jr(t))}S(io,Zr),io.prototype.w=function(){var e=io.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ao="REVERT_SECOND_FACTOR_ADDITION",uo="EMAIL_SIGNIN",lo="VERIFY_AND_CHANGE_EMAIL",co="email",fo="mfaInfo",po="newEmail",ho="requestType",mo="email",vo="fromEmail",go="multiFactorInfo",yo="previousEmail",bo="data",jo="operation";function wo(e){var t=qn(e=Un(e),_o)||null,n=qn(e,xo)||null,r=qn(e,Oo)||null;if(r=r&&To[r]||null,!t||!n||!r)throw new k("argument-error",_o+", "+xo+"and "+Oo+" are required in a valid action code URL.");Yr(this,{apiKey:t,operation:r,code:n,continueUrl:qn(e,Eo)||null,languageCode:qn(e,So)||null,tenantId:qn(e,ko)||null})}var _o="apiKey",xo="oobCode",Eo="continueUrl",So="languageCode",Oo="mode",ko="tenantId",To={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ao,signIn:uo,verifyAndChangeEmail:lo,verifyEmail:"VERIFY_EMAIL"};function Co(e){try{return new wo(e)}catch(t){return null}}function Io(e){var t=e[Do];if("undefined"===typeof t)throw new k("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new k("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ao];if(n&&"object"===typeof n){t=n[Fo];var r=n[Lo];if(n=n[Mo],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new k("argument-error",Lo+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new k("argument-error",Mo+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new k("argument-error",Fo+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new k("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new k("argument-error",Ao+" property must be a non null object when specified.");if(this.f=null,(t=e[No])&&"object"===typeof t){if("string"===typeof(t=t[qo])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new k("argument-error",qo+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new k("argument-error",No+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Po])&&"boolean"!==typeof t)throw new k("argument-error",Po+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Ro])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new k("argument-error",Ro+" property must be a non empty string when specified.");this.i=e||null}var Ao="android",Ro="dynamicLinkDomain",Po="handleCodeInApp",No="iOS",Do="url",Lo="installApp",Mo="minimumVersion",Fo="packageName",qo="bundleId";function Uo(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Bo=null;function Vo(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),o=Bo[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Bo){Bo={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),o=0;o<r.length;o++){var i=r[o];void 0===Bo[i]&&(Bo[i]=o)}}}();for(var r=0;;){var o=n(-1),i=n(0),s=n(64),a=n(64);if(64===a&&-1===o)break;t(o<<2|i>>4),64!=s&&(t(i<<4&240|s>>2),64!=a&&t(s<<6&192|a))}}(e,(function(e){t.push(e)})),t}function zo(e){var t=Wo(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Ho(e){try{return new zo(e)}catch(t){return null}}function Wo(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Vo(e);for(e=[],n=t=0;t<r.length;){var o=r[t++];if(128>o)e[n++]=String.fromCharCode(o);else if(191<o&&224>o){var i=r[t++];e[n++]=String.fromCharCode((31&o)<<6|63&i)}else if(239<o&&365>o){i=r[t++];var s=r[t++],a=((7&o)<<18|(63&i)<<12|(63&s)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(1023&a))}else i=r[t++],s=r[t++],e[n++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}return JSON.parse(e.join(""))}catch(u){}return null}zo.prototype.T=function(){return this.f},zo.prototype.l=function(){return this.c},zo.prototype.toString=function(){return this.h};var Go="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ko=["client_id","response_type","scope","redirect_uri","state"],$o={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Ko},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Ko},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Ko},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Go},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Qo(e){for(var t in $o)if($o[t].fa==e)return $o[t];return null}function Yo(e){var t={};t["facebook.com"]=ti,t["google.com"]=ri,t["github.com"]=ni,t["twitter.com"]=oi;var n=e&&e[Jo];try{if(n)return t[n]?new t[n](e):new ei(e);if("undefined"!==typeof e[Xo])return new Zo(e)}catch(r){}return null}var Xo="idToken",Jo="providerId";function Zo(e){var t=e[Jo];if(!t&&e[Xo]){var n=Ho(e[Xo]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Qr(this,"providerId",t),Qr(this,"isNewUser",n)}function ei(e){Zo.call(this,e),Qr(this,"profile",Jr((e=Mr(e.rawUserInfo||"{}"))||{}))}function ti(e){if(ei.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ni(e){if(ei.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function ri(e){if(ei.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oi(e){if(ei.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",e.screenName||null)}function ii(e){var t=Un(e),n=qn(t,"link"),r=qn(Un(n),"link");return t=qn(t,"deep_link_id"),qn(Un(t),"link")||t||r||n||e}function si(e,t){if(!e&&!t)throw new k("internal-error","Internal assert: no raw session string available");if(e&&t)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?ai:ui}S(ei,Zo),S(ti,ei),S(ni,ei),S(ri,ei),S(oi,ei);var ai="enroll",ui="signin";function li(){}function ci(e,t){return e.then((function(e){if(e[Js]){var n=Ho(e[Js]);if(!n||t!=n.i)throw new k("user-mismatch");return e}throw new k("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==I+"user-not-found"?new k("user-mismatch"):e}))}function di(e,t){if(!t)throw new k("internal-error","failed to construct a credential");this.a=t,Qr(this,"providerId",e),Qr(this,"signInMethod",e)}function fi(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function pi(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new di(e.providerId,e.pendingToken)}catch(t){}return null}function hi(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Qr(this,"idToken",t.idToken),t.accessToken&&Qr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Qr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");Qr(this,"accessToken",t.oauthToken),Qr(this,"secret",t.oauthTokenSecret)}Qr(this,"providerId",e),Qr(this,"signInMethod",n)}function mi(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Jn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function vi(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new hi(e.providerId,t,e.signInMethod)}catch(n){}}return null}function gi(e,t){this.Qc=t||[],Yr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Qo(e)||{}).Ja||null,this.pb=null}function yi(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');gi.call(this,e,[])}function bi(e){gi.call(this,e,Ko),this.a=[]}function ji(){bi.call(this,"facebook.com")}function wi(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new ji).credential({accessToken:t})}function _i(){bi.call(this,"github.com")}function xi(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new _i).credential({accessToken:t})}function Ei(){bi.call(this,"google.com"),this.Ca("profile")}function Si(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new Ei).credential({idToken:n,accessToken:t})}function Oi(){gi.call(this,"twitter.com",Go)}function ki(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new hi("twitter.com",n,"twitter.com")}function Ti(e,t,n){this.a=e,this.f=t,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Ii.EMAIL_LINK_SIGN_IN_METHOD?Ii.EMAIL_LINK_SIGN_IN_METHOD:Ii.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ci(e){return e&&e.email&&e.password?new Ti(e.email,e.password,e.signInMethod):null}function Ii(){Yr(this,{providerId:"password",isOAuthProvider:!1})}function Ai(e,t){if(!(t=Ri(t)))throw new k("argument-error","Invalid email link!");return new Ti(e,t.code,Ii.EMAIL_LINK_SIGN_IN_METHOD)}function Ri(e){return(e=Co(e=ii(e)))&&e.operation===uo?e:null}function Pi(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new k("internal-error");this.a=e,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Ni(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Pi(t)}return null}function Di(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Li(e){try{this.a=e||t.a.auth()}catch(n){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yr(this,{providerId:"phone",isOAuthProvider:!1})}function Mi(e,t){if(!e)throw new k("missing-verification-id");if(!t)throw new k("missing-verification-code");return new Pi({fb:e,eb:t})}function Fi(e){if(e.temporaryProof&&e.phoneNumber)return new Pi({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,o=e&&e.nonce,i=e&&e.oauthIdToken,s=e&&e.pendingToken;try{switch(t){case"google.com":return Si(i,n);case"facebook.com":return wi(n);case"github.com":return xi(n);case"twitter.com":return ki(n,r);default:return n||r||i||s?s?0==t.indexOf("saml.")?new di(t,s):new hi(t,{pendingToken:s,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new bi(t).credential({idToken:i,accessToken:n,rawNonce:o}):null}}catch(a){return null}}function qi(e){if(!e.isOAuthProvider)throw new k("invalid-oauth-provider")}function Ui(e,t,n,r,o,i,s){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=i||null,this.h=s||null,this.a=o||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function Bi(e){return(e=e||{}).type?new Ui(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&T(e.error),e.postBody,e.tenantId):null}function Vi(){this.b=null,this.a=[]}si.prototype.Ha=function(){return this.a?Ct(this.a):Ct(this.b)},si.prototype.w=function(){return this.type==ai?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},li.prototype.ka=function(){},li.prototype.b=function(){},li.prototype.c=function(){},li.prototype.w=function(){},di.prototype.ka=function(e){return ja(e,fi(this))},di.prototype.b=function(e,t){var n=fi(this);return n.idToken=t,wa(e,n)},di.prototype.c=function(e,t){return ci(_a(e,fi(this)),t)},di.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},hi.prototype.ka=function(e){return ja(e,mi(this))},hi.prototype.b=function(e,t){var n=mi(this);return n.idToken=t,wa(e,n)},hi.prototype.c=function(e,t){return ci(_a(e,mi(this)),t)},hi.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},gi.prototype.Ka=function(e){return this.Jb=ve(e),this},S(yi,gi),S(bi,gi),bi.prototype.Ca=function(e){return Q(this.a,e)||this.a.push(e),this},bi.prototype.Rb=function(){return Z(this.a)},bi.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new hi(this.providerId,n,this.providerId)},S(ji,bi),Qr(ji,"PROVIDER_ID","facebook.com"),Qr(ji,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(_i,bi),Qr(_i,"PROVIDER_ID","github.com"),Qr(_i,"GITHUB_SIGN_IN_METHOD","github.com"),S(Ei,bi),Qr(Ei,"PROVIDER_ID","google.com"),Qr(Ei,"GOOGLE_SIGN_IN_METHOD","google.com"),S(Oi,gi),Qr(Oi,"PROVIDER_ID","twitter.com"),Qr(Oi,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ti.prototype.ka=function(e){return this.signInMethod==Ii.EMAIL_LINK_SIGN_IN_METHOD?ru(e,Ia,{email:this.a,oobCode:this.f}):ru(e,Ja,{email:this.a,password:this.f})},Ti.prototype.b=function(e,t){return this.signInMethod==Ii.EMAIL_LINK_SIGN_IN_METHOD?ru(e,Aa,{idToken:t,email:this.a,oobCode:this.f}):ru(e,Ha,{idToken:t,email:this.a,password:this.f})},Ti.prototype.c=function(e,t){return ci(this.ka(e),t)},Ti.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Yr(Ii,{PROVIDER_ID:"password"}),Yr(Ii,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yr(Ii,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Pi.prototype.ka=function(e){return e.gb(Di(this))},Pi.prototype.b=function(e,t){var n=Di(this);return n.idToken=t,ru(e,eu,n)},Pi.prototype.c=function(e,t){var n=Di(this);return n.operation="REAUTH",ci(e=ru(e,tu,n),t)},Pi.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Li.prototype.gb=function(e,t){var n=this.a.a;return Ct(t.verify()).then((function(r){if("string"!==typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var o=v(e)?e.session:null,i=v(e)?e.phoneNumber:e;return(o&&o.type==ai?o.Ha().then((function(e){return function(e,t){return ru(e,Ga,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:r}})})):o&&o.type==ui?o.Ha().then((function(t){return function(e,t){return ru(e,Ka,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return ru(e,Va,t)}(n,{phoneNumber:i,recaptchaToken:r})).then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}));default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Yr(Li,{PROVIDER_ID:"phone"}),Yr(Li,{PHONE_SIGN_IN_METHOD:"phone"}),Ui.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ui.prototype.T=function(){return this.h},Ui.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var zi,Hi=null;function Wi(e){var t="unauthorized-domain",n=void 0,r=Un(e);e=r.a,"chrome-extension"==(r=r.c)?n=He("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=He("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",k.call(this,t,n)}function Gi(e,t,n){k.call(this,e,n),(e=t||{}).Kb&&Qr(this,"email",e.Kb),e.ea&&Qr(this,"phoneNumber",e.ea),e.credential&&Qr(this,"credential",e.credential),e.$b&&Qr(this,"tenantId",e.$b)}function Ki(e){if(e.code){var t=e.code||"";0==t.indexOf(I)&&(t=t.substring(I.length));var n={credential:Fi(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new k(t,e.message||void 0);return new Gi(t,n,e.message)}return null}function $i(){}function Qi(e){return e.c||(e.c=e.b())}function Yi(){}function Xi(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(o){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Ji(){}function Zi(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function es(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ts(e,t,n){this.reset(e,t,n,void 0,void 0)}S(Wi,k),S(Gi,k),Gi.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ye(e,t),e},Gi.prototype.toJSON=function(){return this.w()},$i.prototype.c=null,S(Yi,$i),Yi.prototype.a=function(){var e=Xi(this);return e?new ActiveXObject(e):new XMLHttpRequest},Yi.prototype.b=function(){var e={};return Xi(this)&&(e[0]=!0,e[1]=!0),e},zi=new Yi,S(Ji,$i),Ji.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Zi;throw Error("Unsupported browser")},Ji.prototype.b=function(){return{}},(n=Zi.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},n.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,es(this,4)},n.Tb=function(){this.status=500,this.response=this.responseText="",es(this,4)},n.vc=function(){this.Tb()},n.rc=function(){this.status=200,es(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null;function ns(e){this.f=e,this.b=this.c=this.a=null}function rs(e,t){this.name=e,this.value=t}ts.prototype.reset=function(e,t,n,r,o){"number"==typeof o||0,r||E(),delete this.a},rs.prototype.toString=function(){return this.name};var os=new rs("SEVERE",1e3),is=new rs("WARNING",900),ss=new rs("CONFIG",700),as=new rs("FINE",500);ns.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(M("Root logger has no level set."),null)}(this).value)for(m(t)&&(t=t()),e=new ts(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var us,ls={},cs=null;function ds(e){var t;if(cs||(cs=new ns(""),ls[""]=cs,cs.c=ss),!(t=ls[e])){t=new ns(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ds(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ls[e]=t}return t}function fs(e,t){e&&e.log(as,t,void 0)}function ps(e){this.f=e}function hs(e){_n.call(this),this.u=e,this.h=void 0,this.readyState=ms,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ds("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(ps,$i),ps.prototype.a=function(){return new hs(this.f)},ps.prototype.b=(us={},function(){return us}),S(hs,_n);var ms=0;function vs(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function gs(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ys(e)}function ys(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function bs(e){_n.call(this),this.headers=new In,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=js,this.u=this.S=!1}(n=hs.prototype).open=function(e,t){if(this.readyState!=ms)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ys(this)},n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,gs(this)),this.readyState=ms},n.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ys(this)),this.a&&(this.readyState=3,ys(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,vs(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},n.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?gs(this):ys(this),3==this.readyState&&vs(this)}},n.tc=function(e){this.a&&(this.response=this.responseText=e,gs(this))},n.sc=function(e){this.a&&(this.response=e,gs(this))},n.Va=function(e){var t=this.i;t&&t.log(is,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&gs(this)},n.setRequestHeader=function(e,t){this.l.append(e,t)},n.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),S(bs,_n);var js="";bs.prototype.b=ds("goog.net.XhrIo");var ws=/^https?$/i,_s=["POST","PUT"];function xs(e,t,n,r,o){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():zi.a(),e.C=e.D?Qi(e.D):Qi(zi),e.a.onreadystatechange=_(e.Wb,e);try{fs(e.b,Rs(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(s){return fs(e.b,Rs(e,"Error opening Xhr: "+s.message)),void Ss(e,s)}t=r||"";var i=new In(e.headers);o&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(h(e)||"string"===typeof e)W(e,t,void 0);else for(var n=Cn(e),r=Tn(e),o=r.length,i=0;i<o;i++)t.call(void 0,r[i],n&&n[i],e)}(o,(function(e,t){i.set(t,e)})),o=function(e){e:{for(var t=Es,n=e.length,r="string"===typeof e?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.Y()),r=u.FormData&&t instanceof u.FormData,!Q(_s,n)||o||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Cs(e),0<e.g&&(e.u=function(e){return Qe&&st(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),fs(e.b,Rs(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=_(e.Ma,e)):e.s=On(e.Ma,e.g,e)),fs(e.b,Rs(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(s){fs(e.b,Rs(e,"Send error: "+s.message)),Ss(e,s)}}function Es(e){return"content-type"==e.toLowerCase()}function Ss(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Os(e),Ts(e)}function Os(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ks(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==Is(e)&&2==As(e))fs(e.b,Rs(e,"Local request error detected and ignored"));else if(e.i&&4==Is(e))On(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Is(e)){fs(e.b,Rs(e,"Request complete")),e.c=!1;try{var t,n=As(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var o;if(o=0===n){var i=String(e.l).match(Pn)[1]||null;if(!i&&u.self&&u.self.location){var s=u.self.location.protocol;i=s.substr(0,s.length-1)}o=!ws.test(i?i.toLowerCase():"")}t=o}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var l=2<Is(e)?e.a.statusText:""}catch(c){fs(e.b,"Can not get status: "+c.message),l=""}e.h=l+" ["+As(e)+"]",Os(e)}}finally{Ts(e)}}}function Ts(e,t){if(e.a){Cs(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(o){(e=e.b)&&e.log(os,"Problem encountered resetting onreadystatechange: "+o.message,void 0)}}}function Cs(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function Is(e){return e.a?e.a.readyState:0}function As(e){try{return 2<Is(e)?e.a.status:-1}catch(t){return-1}}function Rs(e,t){return t+" ["+e.P+" "+e.l+" "+As(e)+"]"}function Ps(e){var t=Hs;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ns(e,t,n){e.a=!0,e.c=n,e.f=!t,Fs(e)}function Ds(e){if(e.a){if(!e.v)throw new qs(e);e.v=!1}}function Ls(e,t,n,r){e.g.push([t,n,r]),e.a&&Fs(e)}function Ms(e){return $(e.g,(function(e){return m(e[1])}))}function Fs(e){if(e.h&&e.a&&Ms(e)){var t=e.h,n=Vs[t];n&&(u.clearTimeout(n.a),delete Vs[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var o=e.g.shift(),i=o[0],s=o[1];if(o=o[2],i=e.f?s:i)try{var a=i.call(o||e.s,t);void 0!==a&&(e.f=e.f&&(a==t||a instanceof Error),e.c=t=a),(N(t)||"function"===typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(l){t=l,e.f=!0,Ms(e)||(n=!0)}}e.c=t,r&&(a=_(e.m,e,!0),r=_(e.m,e,!1),t instanceof Ps?(Ls(t,a,r),t.C=!0):t.then(a,r)),n&&(t=new Bs(t),Vs[t.a]=t,e.h=t.a)}function qs(){D.call(this)}function Us(){D.call(this)}function Bs(e){this.a=u.setTimeout(_(this.c,this),0),this.b=e}(n=bs.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fs(this.b,Rs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(fs(this.b,Rs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ts(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ts(this,!0)),bs.bb.Da.call(this)},n.Wb=function(){this.ya||(this.N||this.i||this.f?ks(this):this.Jc())},n.Jc=function(){ks(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case js:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(os,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return fs(this.b,"Can not get response: "+t.message),null}},Ps.prototype.cancel=function(e){if(this.a)this.c instanceof Ps&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Us(this),Ds(this),Ns(this,!1,e))}},Ps.prototype.m=function(e,t){this.i=!1,Ns(this,e,t)},Ps.prototype.then=function(e,t,n){var r,o,i=new _t((function(e,t){r=e,o=t}));return Ls(this,r,(function(e){e instanceof Us?i.cancel():o(e)})),i.then(e,t,n)},Ps.prototype.$goog_Thenable=!0,S(qs,D),qs.prototype.message="Deferred has already fired",qs.prototype.name="AlreadyCalledError",S(Us,D),Us.prototype.message="Deferred was canceled",Us.prototype.name="CanceledError",Bs.prototype.c=function(){throw delete Vs[this.a],this.b};var Vs={};function zs(e){var t={},n=t.document||document,r=ke(e).toString(),o=vt(document,"SCRIPT"),i={Xb:o,Ma:void 0},s=new Ps(i),a=null,l=null!=t.timeout?t.timeout:5e3;return 0<l&&(a=window.setTimeout((function(){Ws(o,!0);var e=new $s(Ks,"Timeout reached for loading script "+r);Ds(s),Ns(s,!1,e)}),l),i.Ma=a),o.onload=o.onreadystatechange=function(){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(Ws(o,t.xd||!1,a),Ds(s),Ns(s,!0,null))},o.onerror=function(){Ws(o,!0,a);var e=new $s(Gs,"Error while loading script "+r);Ds(s),Ns(s,!1,e)},ye(i=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),dt(o,i),function(e,t){be(e,"HTMLScriptElement"),e.src=ke(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=u?t=d(t.document):(null===c&&(c=d(u.document)),t=c),t&&e.setAttribute("nonce",t)}(o,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(o),s}function Hs(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Ws(e,!0,this.Ma)}}function Ws(e,t,n){null!=n&&u.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Gs=0,Ks=1;function $s(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function Qs(e){this.f=e}function Ys(e,n,r){if(this.c=e,e=n||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Zs,this.g=ve(e.secureTokenHeaders||ea),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ta,this.a=ve(e.firebaseHeaders||na),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==wr(),!(r=u.XMLHttpRequest||r&&t.a.INTERNAL.node&&t.a.INTERNAL.node.XMLHttpRequest)&&!jr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,jr()?this.f=new ps(self):_r()?this.f=new Qs(r):this.f=new Ji,this.b=null}S($s,D),S(Qs,$i),Qs.prototype.a=function(){return new this.f},Qs.prototype.b=function(){return{}};var Xs,Js="idToken",Zs=new Br(3e4,6e4),ea={"Content-Type":"application/x-www-form-urlencoded"},ta=new Br(3e4,6e4),na={"Content-Type":"application/json"};function ra(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function oa(e,t){t&&(e.l=ia("https://securetoken.googleapis.com/v1/token",t),e.h=ia("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=ia("https://identitytoolkit.googleapis.com/v2/",t))}function ia(e,t){return e=Un(e),t=Un(t.url),e.f=e.a+e.f,Dn(e,t.c),e.a=t.a,Ln(e,t.g),e.toString()}function sa(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function aa(e,t,n,r,o,i,s){(function(){var e=Tr();return!((e=Sr(e)!=Er?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Qe||!ut||9<ut)})()||jr()?e=_(e.u,e):(Xs||(Xs=new _t((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{u[la]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ls(e,null,t,void 0)}(zs(Te(ua,{onload:la})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=_(e.s,e)),e(t,n,r,o,i,s)}Ys.prototype.T=function(){return this.b},Ys.prototype.u=function(e,t,n,r,o,i){if(jr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new bs(this.f);if(i){s.g=Math.max(0,i);var a=setTimeout((function(){s.dispatchEvent("timeout")}),i)}xn(s,"complete",(function(){a&&clearTimeout(a);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return fs(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),En(s,"ready",(function(){a&&clearTimeout(a),Gt(this)})),En(s,"timeout",(function(){a&&clearTimeout(a),Gt(this),t&&t(null)})),xs(s,e,n,r,o)};var ua=new je(Ee,"https://apis.google.com/js/client.js?onload=%{onload}"),la="__fcb"+Math.floor(1e6*Math.random()).toString();function ca(e,t,n,r,o,i,s){var a=Un(t+n);Fn(a,"key",e.c),s&&Fn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var l in o)o.hasOwnProperty(l)&&Fn(a,l,o[l]);return new _t((function(t,n){aa(e,a.toString(),(function(e){e?e.error?n(iu(e,i||{})):t(e):n(new k("network-request-failed"))}),r,u?void 0:or(Lr(o)),e.a,e.v.get())}))}function da(e){if("string"!==typeof(e=e.email)||!vr.test(e))throw new k("invalid-email")}function fa(e){"email"in e&&da(e)}function pa(e){if(!e[Js]){if(e.mfaPendingCredential)throw new k("multi-factor-auth-required",null,ve(e));throw new k("internal-error")}}function ha(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new k("internal-error")}else{if(!e.sessionInfo)throw new k("missing-verification-id");if(!e.code)throw new k("missing-verification-code")}}Ys.prototype.s=function(e,t,n,r,o){var i=this;Xs.then((function(){window.gapi.client.setApiKey(i.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:o,authType:"none",callback:function(e){window.gapi.auth.setToken(s),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Ys.prototype.Ab=function(){return ru(this,Wa,{})},Ys.prototype.Cb=function(e,t){return ru(this,za,{idToken:e,email:t})},Ys.prototype.Db=function(e,t){return ru(this,Ha,{idToken:e,password:t})};var ma={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function va(e){if(!e.phoneVerificationInfo)throw new k("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new k("missing-verification-code")}function ga(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new k("internal-error")}function ya(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(er(e=new Yn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function ba(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Ki(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Ki(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Ki(e)):e.errorMessage&&(t=ou(e.errorMessage)),t)throw t;pa(e)}function ja(e,t){return t.returnIdpCredential=!0,ru(e,$a,t)}function wa(e,t){return t.returnIdpCredential=!0,ru(e,Ya,t)}function _a(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,ru(e,Qa,t)}function xa(e){if(!e.oobCode)throw new k("invalid-action-code")}(n=Ys.prototype).Eb=function(e,t){var n={idToken:e},r=[];return he(ma,(function(e,o){var i=t[o];null===i?r.push(e):o in t&&(n[o]=i)})),r.length&&(n.deleteAttribute=r),ru(this,za,n)},n.wb=function(e,t){return ye(e={requestType:"PASSWORD_RESET",email:e},t),ru(this,Fa,e)},n.xb=function(e,t){return ye(e={requestType:"EMAIL_SIGNIN",email:e},t),ru(this,Da,e)},n.vb=function(e,t){return ye(e={requestType:"VERIFY_EMAIL",idToken:e},t),ru(this,La,e)},n.Fb=function(e,t,n){return ye(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),ru(this,Ma,e)},n.gb=function(e){return ru(this,Za,e)},n.ob=function(e,t){return ru(this,Ba,{oobCode:e,newPassword:t})},n.Sa=function(e){return ru(this,Sa,{oobCode:e})},n.kb=function(e){return ru(this,Ea,{oobCode:e})};var Ea={endpoint:"setAccountInfo",A:xa,Z:"email",B:!0},Sa={endpoint:"resetPassword",A:xa,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new k("internal-error")},B:!0},Oa={endpoint:"signupNewUser",A:function(e){if(da(e),!e.password)throw new k("weak-password")},G:pa,V:!0,B:!0},ka={endpoint:"createAuthUri",B:!0},Ta={endpoint:"deleteAccount",O:["idToken"]},Ca={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new k("internal-error")}},Ia={endpoint:"emailLinkSignin",O:["email","oobCode"],A:da,G:pa,V:!0,B:!0},Aa={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:da,G:pa,V:!0},Ra={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:va,G:pa,B:!0,Na:!0},Pa={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:va,G:pa,B:!0,Na:!0},Na={endpoint:"getAccountInfo"},Da={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new k("internal-error");da(e)},Z:"email",B:!0},La={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Fa={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new k("internal-error");da(e)},Z:"email",B:!0},qa={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ua={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new k("internal-error")}},Ba={endpoint:"resetPassword",A:xa,Z:"email",B:!0},Va={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},za={endpoint:"setAccountInfo",O:["idToken"],A:fa,V:!0},Ha={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(fa(e),!e.password)throw new k("weak-password")},G:pa,V:!0},Wa={endpoint:"signupNewUser",G:pa,V:!0,B:!0},Ga={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new k("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Ka={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},$a={endpoint:"verifyAssertion",A:ga,Za:ya,G:ba,V:!0,B:!0},Qa={endpoint:"verifyAssertion",A:ga,Za:ya,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new k("user-not-found");if(e.errorMessage)throw ou(e.errorMessage);pa(e)},V:!0,B:!0},Ya={endpoint:"verifyAssertion",A:function(e){if(ga(e),!e.idToken)throw new k("internal-error")},Za:ya,G:ba,V:!0},Xa={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new k("invalid-custom-token")},G:pa,V:!0,B:!0},Ja={endpoint:"verifyPassword",A:function(e){if(da(e),!e.password)throw new k("wrong-password")},G:pa,V:!0,B:!0},Za={endpoint:"verifyPhoneNumber",A:ha,G:pa,B:!0},eu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new k("internal-error");ha(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Ki(e);pa(e)}},tu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ha,G:pa,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Js]^!!e.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function ru(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return It(new k("internal-error"));var r,o=!!t.Na,i=t.Vb||"POST";return Ct(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ca(e,o?e.i:e.h,t.endpoint,i,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new k("internal-error");return r[t.Z]}))}function ou(e){return iu({error:{errors:[{message:e}],code:400,message:e}})}function iu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var o in n=e.error&&e.error.message||"",ye(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(o))return new k(r[o],t);return!t&&e&&(t=Dr(e)),new k("internal-error",t)}function su(e){this.b=e,this.a=null,this.sb=function(e){return(cu||(cu=new _t((function(e,t){function n(){Ur(),Cr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Ur(),t(Error("Network Error"))},timeout:uu.get()})}if(Cr("gapi.iframes.Iframe"))e();else if(Cr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Cr("gapi.load")?n():t(Error("Network Error"))},Ct(zs(r=Te(au,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw cu=null,e})))).then((function(){return new _t((function(t,n){Cr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function o(){clearTimeout(i),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var i=setTimeout((function(){n(Error("Network Error"))}),lu.get());r.ping(o).then(o,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new je(Ee,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Br(3e4,6e4),lu=new Br(5e3,15e3),cu=null;function du(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Bn((e=Un(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Bn("https",this.l,null,"/__/auth/iframe"),this.a=e,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(e,t,n,r,o,i){this.u=e,this.s=t,this.c=n,this.m=r,this.v=i,this.i=this.g=this.l=null,this.a=o,this.h=this.f=null}function pu(e){try{return t.a.app(e).auth().Ga()}catch(n){return[]}}function hu(e,t,n,r,o,i){this.s=e,this.g=t,this.b=n,this.f=i,this.c=r||null,this.i=o||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function mu(e){var t=cr();return function(e){return ru(e,qa,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Un(t),r=n.c;n=n.a;for(var o=0;o<e.length;o++){var i=e[o],s=n,a=r;if(0==i.indexOf("chrome-extension://")?s=Un(i).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:mr.test(i)?s=s==i:(i=i.split(".").join("\\."),s=new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)),s){e=!0;break e}}e=!1}if(!e)throw new Wi(cr())}))}function vu(e){return e.m||(e.m=gr().then((function(){if(!e.u){var t=e.c,n=e.i,r=pu(e.b),o=new du(e.s,e.g,e.b,e.f);o.f=t,o.b=n,o.c=Z(r||[]),e.u=o.toString()}e.v=new su(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Bi(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Ct(n)}return n.status="ERROR",Ct(n)}))}(e)}))),e.m}function gu(e){return e.l||(e.C=e.c?kr(e.c,pu(e.b)):null,e.l=new Ys(e.g,P(e.i),e.C),e.f&&oa(e.l,e.f)),e.l}function yu(e,t,n,r,o,i,s,a,u,l,c,d){return(e=new fu(e,t,n,r,o,d)).l=i,e.g=s,e.i=a,e.b=ve(u||null),e.f=l,e.zb(c).toString()}function bu(e){if(this.a=e||t.a.INTERNAL.reactNative&&t.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ju(e){this.b=e,this.a={},this.f=_(this.c,this)}du.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},fu.prototype.zb=function(e){return this.h=e,this},fu.prototype.toString=function(){if(this.v){var e=Un(this.v.url);e=Bn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Bn("https",this.u,null,"/__/auth/handler");if(Fn(e,"apiKey",this.s),Fn(e,"appName",this.c),Fn(e,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=t.a.app(this.c).auth().la()}catch(u){r=null}for(var o in n.pb=r,Fn(e,"providerId",this.a.providerId),n=Lr((r=this.a).Jb))n[o]=n[o].toString();o=r.Qc,n=ve(n);for(var i=0;i<o.length;i++){var s=o[i];s in n&&delete n[s]}r.qb&&r.pb&&!n[r.qb]&&(n[r.qb]=r.pb),me(n)||Fn(e,"customParameters",Dr(n))}if("function"===typeof this.a.Rb&&((r=this.a.Rb()).length&&Fn(e,"scopes",r.join(","))),this.l?Fn(e,"redirectUrl",this.l):Zn(e.b,"redirectUrl"),this.g?Fn(e,"eventId",this.g):Zn(e.b,"eventId"),this.i?Fn(e,"v",this.i):Zn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!qn(e,a)&&Fn(e,a,this.b[a]);return this.h?Fn(e,"tid",this.h):Zn(e.b,"tid"),this.f?Fn(e,"eid",this.f):Zn(e.b,"eid"),(a=pu(this.c)).length&&Fn(e,"fw",a.join(",")),e.toString()},(n=hu.prototype).Pb=function(e,t,n){var r=new k("popup-closed-by-user"),o=new k("web-storage-unsupported"),i=this,s=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return vu(e).then((function(){return function(e,t){return e.sb.then((function(){return new _t((function(n){e.a.send(t.type,t,n,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(i).then((function(n){n||(e&&pr(e),t(o),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(e){return new _t((function(t){return function n(){kn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!s)return kn(n).then((function(){t(r)}))}))},n.Yb=function(){var e=Tr();return!Nr(e)&&!qr(e)},n.Ub=function(){return!1},n.Nb=function(e,t,n,r,o,i,s,a){if(!e)return It(new k("popup-blocked"));if(s&&!Nr())return this.ma().o((function(t){pr(e),o(t)})),r(),Ct();this.a||(this.a=mu(gu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw pr(e),o(t),t}));return r(),t})).then((function(){(qi(n),s)||dr(yu(u.s,u.g,u.b,t,n,null,i,u.c,void 0,u.i,a,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},n.Ob=function(e,t,n,r){this.a||(this.a=mu(gu(this)));var o=this;return this.a.then((function(){qi(t),dr(yu(o.s,o.g,o.b,e,t,cr(),n,o.c,void 0,o.i,r,o.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(o.a=null),e}))},n.ma=function(){var e=this;return vu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new k("network-request-failed")}))},n.ac=function(){return!0},n.Ea=function(e){this.h.push(e)},n.Ta=function(e){X(this.h,(function(t){return t==e}))},(n=bu.prototype).get=function(e){return Ct(this.a.getItem(e)).then((function(e){return e&&Mr(e)}))},n.set=function(e,t){return Ct(this.a.setItem(e,Dr(t)))},n.U=function(e){return Ct(this.a.removeItem(e))},n.ca=function(){},n.ia=function(){};var wu,_u=[];function xu(e,t,n){me(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Eu(e){this.a=e}function Su(e){this.c=e,this.b=!1,this.a=[]}function Ou(e,t,n,r){var o,i,s,a,u=n||{},l=null;if(e.b)return It(Error("connection_unavailable"));var c=r?800:50,d="undefined"!==typeof MessageChannel?new MessageChannel:null;return new _t((function(n,r){d?(o=Math.floor(Math.random()*Math.pow(10,20)).toString(),d.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),c),l={messageChannel:d,onMessage:i=function(e){e.data.eventId===o&&("ack"===e.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(a),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},e.a.push(l),d.port1.addEventListener("message",i),e.c.postMessage({eventType:t,eventId:o,data:u},[d.port2])):r(Error("connection_unavailable"))})).then((function(t){return ku(e,l),t})).o((function(t){throw ku(e,l),t}))}function ku(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(e.a,(function(e){return e==t}))}}function Tu(){if(!Ru())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;jr()&&self?(this.v=function(){var e=jr()?self:null;if(W(_u,(function(n){n.b==e&&(t=n)})),!t){var t=new ju(e);_u.push(t)}return t}(),xu(this.v,"keyChanged",(function(t,n){return Mu(e).then((function(t){return 0<t.length&&W(e.a,(function(e){e(t)})),{keyProcessed:Q(t,n.key)}}))})),xu(this.v,"ping",(function(){return Ct(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?Ct().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Ct(null)}().then((function(t){(e.h=t)&&(e.g=new Su(new Eu(t)),Ou(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Q(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Cu(e){return new _t((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new _t((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Cu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Iu(e){return e.i||(e.i=Cu(e)),e.i}function Au(e,t){var n=0;return new _t((function r(o,i){Iu(e).then(t).then(o).o((function(t){if(!(3<++n))return Iu(e).then((function(t){return t.close(),e.i=void 0,r(o,i)})).o((function(e){i(e)}));i(t)}))}))}function Ru(){try{return!!u.indexedDB}catch(us){return!1}}function Pu(e){return e.objectStore("firebaseLocalStorage")}function Nu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Du(e){return new _t((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Lu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Ou(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Ct()}function Mu(e){return Iu(e).then((function(e){var t=Pu(Nu(e,!1));return t.getAll?Du(t.getAll()):new _t((function(e,n){var r=[],o=t.openCursor();o.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},o.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,o=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?o.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&o.push(r):t[r]!==n[r]&&o.push(r):o.push(r);for(r in n)r in t||o.push(r);return o}(e.c,n),e.c=n}return r}))}function Fu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function qu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Ct().then((function(){if(Ru()){var e=Fr(),r="__sak"+e;return wu||(wu=new Tu),(n=wu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){W(t.a,(function(t){t(e)}))})),e}))}function Uu(){this.a={},this.type="inMemory"}function Bu(){if(!function(){var e="Node"==wr();if(!(e=Vu()||e&&t.a.INTERNAL.node&&t.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==wr())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Vu()||t.a.INTERNAL.node.localStorage,this.type="localStorage"}function Vu(){try{var e=u.localStorage,t=Fr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function zu(){this.type="nullStorage"}function Hu(){if(!function(){var e="Node"==wr();if(!(e=Wu()||e&&t.a.INTERNAL.node&&t.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==wr())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Wu()||t.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wu(){try{var e=u.sessionStorage,t=Fr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Gu(){var e={};e.Browser=Qu,e.Node=Yu,e.ReactNative=Xu,e.Worker=Ju,this.a=e[wr()]}ju.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var o=[];W(r,(function(t){o.push(Ct().then((function(){return t(e.origin,e.data.data)})))})),Rt(o).then((function(r){var o=[];W(r,(function(e){o.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),W(o,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:o})}))}},Eu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Su.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},(n=Tu.prototype).set=function(e,t){var n=this,r=!1;return Au(this,(function(t){return Du((t=Pu(Nu(t,!0))).get(e))})).then((function(o){return Au(n,(function(i){if(i=Pu(Nu(i,!0)),o)return o.value=t,Du(i.put(o));n.b++,r=!0;var s={};return s.fbase_key=e,s.value=t,Du(i.add(s))}))})).then((function(){return n.c[e]=t,Lu(n,e)})).oa((function(){r&&n.b--}))},n.get=function(e){return Au(this,(function(t){return Du(Pu(Nu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},n.U=function(e){var t=this,n=!1;return Au(this,(function(r){return n=!0,t.b++,Du(Pu(Nu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Lu(t,e)})).oa((function(){n&&t.b--}))},n.ca=function(e){0==this.a.length&&function(e){Fu(e),function t(){e.f=setTimeout((function(){e.l=Mu(e).then((function(t){0<t.length&&W(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},n.ia=function(e){X(this.a,(function(t){return t==e})),0==this.a.length&&Fu(this)},(n=qu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},n.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},n.U=function(e){return this.b.then((function(t){return t.U(e)}))},n.ca=function(e){this.a.push(e)},n.ia=function(e){X(this.a,(function(t){return t==e}))},(n=Uu.prototype).get=function(e){return Ct(this.a[e])},n.set=function(e,t){return this.a[e]=t,Ct()},n.U=function(e){return delete this.a[e],Ct()},n.ca=function(){},n.ia=function(){},(n=Bu.prototype).get=function(e){var t=this;return Ct().then((function(){return Mr(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return Ct().then((function(){var r=Dr(t);null===r?n.U(e):n.a.setItem(e,r)}))},n.U=function(e){var t=this;return Ct().then((function(){t.a.removeItem(e)}))},n.ca=function(e){u.window&&cn(u.window,"storage",e)},n.ia=function(e){u.window&&pn(u.window,"storage",e)},(n=zu.prototype).get=function(){return Ct(null)},n.set=function(){return Ct()},n.U=function(){return Ct()},n.ca=function(){},n.ia=function(){},(n=Hu.prototype).get=function(e){var t=this;return Ct().then((function(){return Mr(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return Ct().then((function(){var r=Dr(t);null===r?n.U(e):n.a.setItem(e,r)}))},n.U=function(e){var t=this;return Ct().then((function(){t.a.removeItem(e)}))},n.ca=function(){},n.ia=function(){};var Ku,$u,Qu={F:Bu,cb:Hu},Yu={F:Bu,cb:Hu},Xu={F:bu,cb:zu},Ju={F:Bu,cb:zu},Zu={rd:"local",NONE:"none",td:"session"};function el(){var e=!(qr(Tr())||!br()),t=Nr(),n=Ir();this.m=e,this.h=t,this.l=n,this.a={},Ku||(Ku=new Gu),e=Ku;try{this.g=!lr()&&Hr()||!u.indexedDB?new e.a.F:new qu(jr()?new Uu:new e.a.F)}catch(r){this.g=new Uu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Uu}this.v=new Uu,this.f=_(this.Zb,this),this.b={}}function tl(){return $u||($u=new el),$u}function nl(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function rl(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ol(e,t,n){return n=rl(t,n),"local"==t.F&&(e.b[n]=null),nl(e,t.F).U(n)}function il(e){e.c&&(clearInterval(e.c),e.c=null)}function sl(e){this.a=e,this.b=tl()}(n=el.prototype).get=function(e,t){return nl(this,e.F).get(rl(e,t))},n.set=function(e,t,n){var r=rl(e,n),o=this,i=nl(this,e.F);return i.set(r,t).then((function(){return i.get(r)})).then((function(t){"local"==e.F&&(o.b[r]=t)}))},n.addListener=function(e,t,n){e=rl(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),me(this.a)&&(nl(this,"local").ca(this.f),this.h||(lr()||!Hr())&&u.indexedDB||!this.l||function(e){il(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Jt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},n.removeListener=function(e,t,n){e=rl(e,t),this.a[e]&&(X(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),me(this.a)&&(nl(this,"local").ia(this.f),il(this))},n.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var o=u.localStorage.getItem(n);o!==r&&(this.b[n]=o,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?nl(this,"local").ia(this.f):il(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var i=this;n=function(){"undefined"===typeof e.a.a&&i.b[t]===u.localStorage.getItem(t)||(i.b[t]=u.localStorage.getItem(t),i.nb(t))},Qe&&ut&&10==ut&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else W(e,_(this.nb,this))},n.nb=function(e){this.a[e]&&W(this.a[e],(function(e){e()}))};var al,ul={name:"authEvent",F:"local"};function ll(){this.a=tl()}function cl(e,t){this.b=dl,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===al&&(al=u.Int32Array?new Int32Array(yl):yl),this.reset()}S(cl,(function(){this.b=-1}));for(var dl=64,fl=dl-1,pl=[],hl=0;hl<fl;hl++)pl[hl]=0;var ml=J(128,pl);function vl(e){for(var t=e.f,n=e.l,r=0,o=0;o<t.length;)n[r++]=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3],o=4*r;for(t=16;64>t;t++){o=0|n[t-15],r=0|n[t-2];var i=(0|n[t-16])+((o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3)|0,s=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=i+s|0}r=0|e.a[0],o=0|e.a[1];var a=0|e.a[2],u=0|e.a[3],l=0|e.a[4],c=0|e.a[5],d=0|e.a[6];for(i=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&a^o&a)|0;s=(i=i+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((s=(s=l&c^~l&d)+(0|al[t])|0)+(0|n[t])|0)|0,i=d,d=c,c=l,l=u+s|0,u=a,a=o,o=r,r=s+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+o|0,e.a[2]=e.a[2]+a|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+l|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+d|0,e.a[7]=e.a[7]+i|0}function gl(e,t,n){void 0===n&&(n=t.length);var r=0,o=e.c;if("string"===typeof t)for(;r<n;)e.f[o++]=t.charCodeAt(r++),o==e.b&&(vl(e),o=0);else{if(!h(t))throw Error("message must be string or array");for(;r<n;){var i=t[r++];if(!("number"==typeof i&&0<=i&&255>=i&&i==(0|i)))throw Error("message must be a byte array");e.f[o++]=i,o==e.b&&(vl(e),o=0)}}e.c=o,e.g+=n}cl.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var yl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bl(){cl.call(this,8,jl)}S(bl,cl);var jl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wl(e,t,n,r,o,i){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=o||null,this.s=i,this.h=t+":"+n,this.C=new ll,this.g=new sl(this.h),this.f=null,this.b=[],this.a=this.c=null}function _l(e){return new k("invalid-cordova-configuration",e)}function xl(e){var t=new bl;gl(t,e),e=[];var n=8*t.g;56>t.c?gl(t,ml,56-t.c):gl(t,ml,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(vl(t),r=n=0;r<t.i;r++)for(var o=24;0<=o;o-=8)e[n++]=t.a[r]>>o&255;return function(e){return K(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function El(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Sl(e){return e.f||(e.f=e.ma().then((function(){return new _t((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,o&&o.cancel(),Ol(e).then((function(r){var o=n;if(r&&t&&t.url){var i=null;-1!=(o=ii(t.url)).indexOf("/__/auth/callback")&&(i=(i="object"===typeof(i=Mr(qn(i=Un(o),"firebaseError")||null))?T(i):null)?new Ui(r.c,r.b,null,null,i,null,r.T()):new Ui(r.c,r.b,o,r.f,null,null,r.T())),o=i||n}El(e,o)}))}var n=new Ui("unknown",null,null,null,new k("no-auth-event")),r=!1,o=kn(500).then((function(){return Ol(e).then((function(){r||El(e,n)}))})),i=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Cr("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"===typeof i)try{i(e)}catch(n){console.error(n)}},Hi||(Hi=new Vi),function(e){var t=Hi;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Cr("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Ol(e){var t=null;return function(e){return e.b.get(ul,e.a).then((function(e){return Bi(e)}))}(e.g).then((function(n){return t=n,ol((n=e.g).b,ul,n.a)})).then((function(){return t}))}function kl(e){this.a=e,this.b=tl()}(n=wl.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?gr().then((function(){return new _t((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):It(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Cr("universalLinks.subscribe",u))throw _l("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Cr("BuildInfo.packageName",u))throw _l("cordova-plugin-buildinfo is not installed");if("function"!==typeof Cr("cordova.plugins.browsertab.openUrl",u))throw _l("cordova-plugin-browsertab is not installed");if("function"!==typeof Cr("cordova.InAppBrowser.open",u))throw _l("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},n.Pb=function(e,t){return t(new k("operation-not-supported-in-this-environment")),Ct()},n.Nb=function(){return It(new k("operation-not-supported-in-this-environment"))},n.ac=function(){return!1},n.Yb=function(){return!0},n.Ub=function(){return!0},n.Ob=function(e,t,n,r){if(this.c)return It(new k("redirect-operation-pending"));var o=this,i=u.document,s=null,a=null,l=null,c=null;return this.c=Ct().then((function(){return qi(t),Sl(o)})).then((function(){return function(e,t,n,r,o){var i=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new Ui(t,r,null,i,new k("no-auth-event"),null,o),a=Cr("BuildInfo.packageName",u);if("string"!==typeof a)throw new k("invalid-cordova-configuration");var l=Cr("BuildInfo.displayName",u),c={};if(Tr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!Tr().toLowerCase().match(/android/))return It(new k("operation-not-supported-in-this-environment"));c.apn=a}l&&(c.appDisplayName=l),i=xl(i),c.sessionId=i;var d=yu(e.v,e.i,e.l,t,n,null,r,e.m,c,e.u,o,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(ul,s.w(),t)})).then((function(){var t=Cr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof t)throw new k("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Cr("cordova.plugins.browsertab.openUrl",u)))throw new k("invalid-cordova-configuration");n(d)}else{if("function"!==typeof(n=Cr("cordova.InAppBrowser.open",u)))throw new k("invalid-cordova-configuration");t=Tr(),e.a=n(d,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(o,e,t,n,r)})).then((function(){return new _t((function(e,t){a=function(){var t=Cr("cordova.plugins.browsertab.close",u);return e(),"function"===typeof t&&t(),o.a&&"function"===typeof o.a.close&&(o.a.close(),o.a=null),!1},o.Ea(a),l=function(){s||(s=kn(2e3).then((function(){t(new k("redirect-cancelled-by-user"))})))},c=function(){Vr()&&l()},i.addEventListener("resume",l,!1),Tr().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",c,!1)})).o((function(e){return Ol(o).then((function(){throw e}))}))})).oa((function(){l&&i.removeEventListener("resume",l,!1),c&&i.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),a&&o.Ta(a),o.c=null}))},n.Ea=function(e){this.b.push(e),Sl(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ui("unknown",null,null,null,new k("no-auth-event")),e(t))}))},n.Ta=function(e){X(this.b,(function(t){return t==e}))};var Tl={name:"pendingRedirect",F:"session"};function Cl(e){return ol(e.b,Tl,e.a)}function Il(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new Wl,this.C=new Yl,this.g=new kl(zl(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Al(this.D,this.v,this.m,C,this.J)}function Al(e,n,r,o,i){var s=t.a.SDK_VERSION||null;return yr()?new wl(e,n,r,s,o,i):new hu(e,n,r,s,o,i)}function Rl(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Pl(e){e.a.Yb()&&Rl(e).o((function(t){var n=new Ui("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));ql(t)&&e.s(n)})),e.a.Ub()||Gl(e.b)}function Nl(e,t){Q(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Tl,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Cl(e.g).then((function(){Rl(e).o((function(t){var n=new Ui("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));ql(t)&&e.s(n)}))})):Pl(e)})).o((function(){Pl(e)}))}function Dl(e,t){X(e.h,(function(e){return e==t}))}Il.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Al(this.D,this.v,this.m,null,this.J),this.i={}},Il.prototype.s=function(e){if(!e)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Gl(this.b),t};var Ll=new Br(2e3,1e4),Ml=new Br(3e4,6e4);function Fl(e,t,n,r,o,i,s){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),o,i,s)}function ql(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Ul(e,t,n,r,o){var i;return function(e){return e.b.set(Tl,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,o).o((function(t){if(ql(t))throw new k("operation-not-supported-in-this-environment");return i=t,Cl(e.g).then((function(){throw i}))})).then((function(){return e.a.ac()?new _t((function(){})):Cl(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Bl(e,t,n,r,o){return e.a.Pb(r,(function(e){t.na(n,null,e,o)}),Ll.get())}Il.prototype.ra=function(){return this.b.ra()};var Vl={};function zl(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Hl(e,t,n,r){var o=zl(t,n,r);return Vl[o]||(Vl[o]=new Il(e,t,n,r)),Vl[o]}function Wl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gl(e){e.g||(e.g=!0,Ql(e,!1,null,null))}function Kl(e){e.g&&!e.i&&Ql(e,!1,null,null)}function $l(e,t){if(e.b=function(){return Ct(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Ql(e,t,n,r){t?r?function(e,t){if(e.b=function(){return It(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):$l(e,n):$l(e,{user:null}),e.f=[],e.c=[]}function Yl(){}function Xl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function Jl(e,t){this.a=t,Qr(this,"verificationId",e)}function Zl(e,t,n,r){return new Li(e).gb(t,n).then((function(e){return new Jl(e,r)}))}function ec(e){var t=Wo(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yr(this,{token:e,expirationTime:zr(1e3*t.exp),authTime:zr(1e3*t.auth_time),issuedAtTime:zr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function tc(e,t,n){var r=t&&t[rc];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new si(null,r),this.b=[];var o=this;W(t[nc]||[],(function(e){(e=eo(e))&&o.b.push(e)})),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Wl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Wl.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,o=e.a&&"auth/web-storage-unsupported"==e.a.code,i=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!o&&!i),"unknown"!=n||o||i?e.a?(Ql(this,!0,null,e.a),Ct()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,o=t.f,i=t.i,s=t.T(),a=!!t.c.match(/Redirect$/);n(r,o,s,i).then((function(t){Ql(e,a,t,null)})).o((function(t){Ql(e,a,null,t)}))}(this,e,t):It(new k("invalid-auth-event")):(Ql(this,!1,null,null),Ct())}else It(new k("invalid-auth-event"))},Wl.prototype.ra=function(){var e=this;return new _t((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new k("timeout");e.a&&e.a.cancel(),e.a=kn(Ml.get()).then((function(){e.b||(e.g=!0,Ql(e,!0,null,t))}))}(e))}))},Yl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Ct()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):It(new k("invalid-auth-event"))}else It(new k("invalid-auth-event"))},Jl.prototype.confirm=function(e){return e=Mi(this.verificationId,e),this.a(e)};var nc="mfaInfo",rc="mfaPendingCredential";function oc(e,t,n,r){k.call(this,"multi-factor-auth-required",r,t),this.b=new tc(e,t,n),Qr(this,"resolver",this.b)}function ic(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new oc(t,e.serverResponse,n,e.message)}catch(r){}return null}function sc(){}function ac(e){Qr(this,"factorId",e.fa),this.a=e}function uc(e){if(ac.call(this,e),this.a.fa!=Li.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function lc(e,t){for(var n in Xt.call(this,e),t)this[n]=t[n]}function cc(e,t){this.a=e,this.b=[],this.c=_(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&W(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ro]=e.uid),e.displayName&&(r[to]=e.displayName),e.enrollmentTime&&(r[no]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[oo]=e.phoneNumber);try{t=new io(r)}catch(o){}e=t}else e=null;e&&n.push(e)})),dc(this,n)}function dc(e,t){e.b=t,Qr(e,"enrolledFactors",t)}function fc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function pc(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function hc(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function mc(e,t){e.b=Ho(t[Js]||""),e.a=t.refreshToken,hc(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function vc(e,t){return function(e,t){return new _t((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?aa(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(iu(e)):e.access_token&&e.refresh_token?n(e):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",Jn(t).toString(),e.g,e.m.get()):r(new k("internal-error"))}))}(e.f,t).then((function(t){return e.b=Ho(t.access_token),e.a=t.refresh_token,hc(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function gc(e,t){this.a=e||null,this.b=t||null,Yr(this,{lastSignInTime:zr(t||null),creationTime:zr(e||null)})}function yc(e,t,n,r,o,i){Yr(this,{uid:e,displayName:r||null,photoURL:o||null,email:n||null,phoneNumber:i||null,providerId:t})}function bc(e,n,r){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var o=t.a.SDK_VERSION?kr(t.a.SDK_VERSION):null;this.a=new Ys(this.l,P(C),o),(this.u=e.emulatorConfig||null)&&oa(this.a,this.u),this.h=new pc(this.a),Tc(this,n[Js]),mc(this.h,n),Qr(this,"refreshToken",this.h.a),Ac(this,r||{}),_n.call(this),this.P=!1,this.s&&Ar()&&(this.b=Hl(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new fc((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=_(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){jc(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){xc(i,e.f)},this.ja=null,this.S=new cc(this,r),Qr(this,"multiFactor",this.S)}function jc(e,t){e.u=t,oa(e.a,t),e.b&&(t=e.b,e.b=Hl(e.s,e.l,e.m,e.u),e.P&&(Dl(t,e),Nl(e.b,e)))}function wc(e,t){e.qa&&pn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&cn(t,"languageCodeChanged",e.Pa)}function _c(e,t){e.$&&pn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&cn(t,"emulatorConfigChanged",e.Ba)}function xc(e,n){e.aa=n,sa(e.a,t.a.SDK_VERSION?kr(t.a.SDK_VERSION,e.aa):null)}function Ec(e,t){e.ja&&pn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&cn(t,"frameworkChanged",e.Oa)}function Sc(e){try{return t.a.app(e.m).auth()}catch(n){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Oc(e){e.J||e.D.b||(e.D.start(),pn(e,"tokenChanged",e.ba),cn(e,"tokenChanged",e.ba))}function kc(e){pn(e,"tokenChanged",e.ba),e.D.stop()}function Tc(e,t){e.Aa=t,Qr(e,"_lat",t)}function Cc(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Rt(t).then((function(){return e}))}function Ic(e){e.b&&!e.P&&(e.P=!0,Nl(e.b,e))}function Ac(e,t){Yr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new gc(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Rc(){}function Pc(e){return Ct().then((function(){if(e.J)throw new k("app-deleted")}))}function Nc(e){return K(e.providerData,(function(e){return e.providerId}))}function Dc(e,t){t&&(Lc(e,t.providerId),e.providerData.push(t))}function Lc(e,t){X(e.providerData,(function(e){return e.providerId==t}))}function Mc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Qr(e,t,n)}function Fc(e,t){e!=t&&(Yr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Qr(e,"metadata",function(e){return new gc(e.a,e.b)}(t.metadata)):Qr(e,"metadata",new gc),W(t.providerData,(function(t){Dc(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Qr(e,"refreshToken",e.h.a),dc(e.S,t.S.b))}function qc(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return ru(e.a,Na,{idToken:t}).then(_(e.Kc,e))}(e,t).then((function(){return n||Mc(e,"isAnonymous",!1),t}))}))}function Uc(e,t){t[Js]&&e.Aa!=t[Js]&&(mc(e.h,t),e.dispatchEvent(new lc("tokenChanged")),Tc(e,t[Js]),Mc(e,"refreshToken",e.h.a))}function Bc(e,t){return qc(e).then((function(){if(Q(Nc(e),t))return Cc(e).then((function(){throw new k("provider-already-linked")}))}))}function Vc(e,t,n){return Xr({user:e,credential:Fi(t),additionalUserInfo:t=Yo(t),operationType:n})}function zc(e,t){return Uc(e,t),e.reload().then((function(){return e}))}function Hc(e,n,r,o,i){if(!Ar())return It(new k("operation-not-supported-in-this-environment"));if(e.i&&!i)return It(e.i);var s=Qo(r.providerId),a=Fr(e.uid+":::"),u=null;(!Nr()||br())&&e.s&&r.isOAuthProvider&&(u=yu(e.s,e.l,e.m,n,r,null,a,t.a.SDK_VERSION||null,null,null,e.tenantId,e.u));var l=hr(u,s&&s.va,s&&s.ua);return o=o().then((function(){if(Gc(e),!i)return e.I().then((function(){}))})).then((function(){return Fl(e.b,l,n,r,a,!!u,e.tenantId)})).then((function(){return new _t((function(t,r){e.na(n,null,new k("cancelled-popup-request"),e.g||null),e.f=t,e.C=r,e.g=a,e.c=Bl(e.b,e,n,l,a)}))})).then((function(e){return l&&pr(l),e?Xr(e):null})).o((function(e){throw l&&pr(l),e})),Kc(e,o,i)}function Wc(e,t,n,r,o){if(!Ar())return It(new k("operation-not-supported-in-this-environment"));if(e.i&&!o)return It(e.i);var i=null,s=Fr(e.uid+":::");return r=r().then((function(){if(Gc(e),!o)return e.I().then((function(){}))})).then((function(){return e.ga=s,Cc(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Yc,e.w(),t.a)),t})).then((function(){return Ul(e.b,t,n,s,e.tenantId)})).o((function(t){if(i=t,e.ha)return Xc(e.ha);throw i})).then((function(){if(i)throw i})),Kc(e,r,o)}function Gc(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Kc(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),It(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new lc("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){Y(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=ic(t.w(),Sc(e),_(e.jc,e))),n||t}))}function $c(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Js]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var o=new bc(t,n,e);return e.providerData&&W(e.providerData,(function(e){e&&Dc(o,Xr(e))})),e.redirectEventId&&(o.ga=e.redirectEventId),o}function Qc(e){this.a=e,this.b=tl()}tc.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ve(t.f);return delete n[nc],delete n[rc],ye(n,e),t.g(n)}))},S(oc,k),sc.prototype.tb=function(e,t,n){return t.type==ai?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),ye(n,{phoneVerificationInfo:Di(e.a)}),ru(t,Ra,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ye(n={mfaPendingCredential:n},{phoneVerificationInfo:Di(e.a)}),ru(t,Pa,n)}))}(this,e,t)},S(ac,sc),S(uc,ac),S(lc,Xt),(n=cc.prototype).yc=function(e){dc(this,function(e){var t=[];return W(e.mfaInfo||[],(function(e){(e=eo(e))&&t.push(e)})),t}(e.hd))},n.Sb=function(){return this.a.I().then((function(e){return new si(e,null)}))},n.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Uc(n.a,e),n.a.reload()}))},n.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return ru(r,nu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=G(t.b,(function(e){return e.uid!=n}));return dc(t,r),Uc(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},n.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(e){return e.w()}))}}},fc.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=kn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=u.document,t=null;return Vr()||!e?Ct():new _t((function(n){t=function(){Vr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).o((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},fc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},pc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},pc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?It(new k("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?vc(this,{grant_type:"refresh_token",refresh_token:this.a}):Ct(null):Ct({accessToken:this.b.toString(),refreshToken:this.a})},gc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(bc,_n),bc.prototype.xa=function(e){this.za=e,ra(this.a,e)},bc.prototype.la=function(){return this.za},bc.prototype.Ga=function(){return Z(this.aa)},bc.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Qr(bc.prototype,"providerId","firebase"),(n=bc.prototype).reload=function(){var e=this;return Kc(this,Pc(this).then((function(){return qc(e).then((function(){return Cc(e)})).then(Rc)})))},n.oc=function(e){return this.I(e).then((function(e){return new ec(e)}))},n.I=function(e){var t=this;return Kc(this,Pc(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new k("internal-error");return e.accessToken!=t.Aa&&(Tc(t,e.accessToken),t.dispatchEvent(new lc("tokenChanged"))),Mc(t,"refreshToken",e.refreshToken),e.accessToken})))},n.Kc=function(e){if(!(e=e.users)||!e.length)throw new k("internal-error");Ac(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?K(e,(function(e){return new yc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Dc(this,t[n]);Mc(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new lc("userReloaded",{hd:e}))},n.Lc=function(e){return Kr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},n.ub=function(e){var t=this,n=null;return Kc(this,e.c(this.a,this.uid).then((function(e){return Uc(t,e),n=Vc(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},n.Cc=function(e){return Kr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},n.rb=function(e){var t=this,n=null;return Kc(this,Bc(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Vc(t,e,"link"),zc(t,e)})).then((function(){return n})))},n.Dc=function(e,t){var n=this;return Kc(this,Bc(this,"phone").then((function(){return Zl(Sc(n),e,t,_(n.rb,n))})))},n.Mc=function(e,t){var n=this;return Kc(this,Ct().then((function(){return Zl(Sc(n),e,t,_(n.ub,n))})),!0)},n.Cb=function(e){var t=this;return Kc(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Uc(t,e),t.reload()})))},n.ed=function(e){var t=this;return Kc(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Uc(t,e),t.reload()})))},n.Db=function(e){var t=this;return Kc(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Uc(t,e),t.reload()})))},n.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Pc(this);var t=this;return Kc(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Uc(t,e),Mc(t,"displayName",e.displayName||null),Mc(t,"photoURL",e.photoUrl||null),W(t.providerData,(function(e){"password"===e.providerId&&(Qr(e,"displayName",t.displayName),Qr(e,"photoURL",t.photoURL))})),Cc(t)})).then(Rc))},n.cd=function(e){var t=this;return Kc(this,qc(this).then((function(n){return Q(Nc(t),e)?function(e,t,n){return ru(e,Ca,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return W(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),W(Nc(t),(function(e){n[e]||Lc(t,e)})),n[Li.PROVIDER_ID]||Qr(t,"phoneNumber",null),Cc(t)})):Cc(t).then((function(){throw new k("no-such-provider")}))})))},n.delete=function(){var e=this;return Kc(this,this.I().then((function(t){return ru(e.a,Ta,{idToken:t})})).then((function(){e.dispatchEvent(new lc("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");wc(e,null),_c(e,null),Ec(e,null),e.N=[],e.J=!0,kc(e),Qr(e,"refreshToken",null),e.b&&Dl(e.b,e)}))},n.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},n.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?_(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?_(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?_(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?_(this.Mb,this):null},n.Ec=function(e){var t=this;return Hc(this,"linkViaPopup",e,(function(){return Bc(t,e.providerId).then((function(){return Cc(t)}))}),!1)},n.Nc=function(e){return Hc(this,"reauthViaPopup",e,(function(){return Ct()}),!0)},n.Fc=function(e){var t=this;return Wc(this,"linkViaRedirect",e,(function(){return Bc(t,e.providerId)}),!1)},n.Oc=function(e){return Wc(this,"reauthViaRedirect",e,(function(){return Ct()}),!0)},n.Lb=function(e,t,n,r){var o=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Kc(this,this.I().then((function(n){return wa(o.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return i=Vc(o,e,"link"),zc(o,e)})).then((function(){return i})))},n.Mb=function(e,t,n,r){var o=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Kc(this,Ct().then((function(){return ci(_a(o.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),o.uid)})).then((function(e){return i=Vc(o,e,"reauthenticate"),Uc(o,e),o.i=null,o.reload()})).then((function(){return i})),!0)},n.vb=function(e){var t=this,n=null;return Kc(this,this.I().then((function(t){return n=t,"undefined"===typeof e||me(e)?{}:Uo(new Io(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},n.Fb=function(e,t){var n=this,r=null;return Kc(this,this.I().then((function(e){return r=e,"undefined"===typeof t||me(t)?{}:Uo(new Io(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},n.jc=function(e){var t=null,n=this;return Kc(this,e=ci(Ct(e),n.uid).then((function(e){return t=Vc(n,e,"reauthenticate"),Uc(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ye(e,this.metadata.w()),W(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ye(e,this.S.w()),e};var Yc={name:"redirectUser",F:"session"};function Xc(e){return ol(e.b,Yc,e.a)}function Jc(e){this.a=e,this.b=tl(),this.c=null,this.f=function(e){var t=td("local"),n=td("session"),r=td("none");return function(e,t,n){var r=rl(t,n),o=nl(e,t.F);return e.get(t,n).then((function(i){var s=null;try{s=Mr(u.localStorage.getItem(r))}catch(a){}if(s&&!i)return u.localStorage.removeItem(r),e.set(t,s,n);s&&i&&"localStorage"!=o.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(o){return o?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(ed,e.a).then((function(e){return e?td(e):t}))}))}))})).then((function(t){return e.c=t,Zc(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(td("local"),this.a,_(this.g,this))}function Zc(e,t){var n,r=[];for(n in Zu)Zu[n]!==t&&r.push(ol(e.b,td(Zu[n]),e.a));return r.push(ol(e.b,ed,e.a)),function(e){return new _t((function(t,n){var r=e.length,o=[];if(r)for(var i=function(e,n){r--,o[e]=n,0==r&&t(o)},s=function(e){n(e)},a=0;a<e.length;a++)At(e[a],x(i,a),s);else t(o)}))}(r)}Jc.prototype.g=function(){var e=this,t=td("local");id(this,(function(){return Ct().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Zc(e,"local").then((function(){e.c=t}))}))}))};var ed={name:"persistence",F:"session"};function td(e){return{name:"authUser",F:e}}function nd(e,t){return id(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function rd(e){return id(e,(function(){return ol(e.b,e.c,e.a)}))}function od(e,t,n){return id(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),$c(e||{})}))}))}function id(e,t){return e.f=e.f.then(t,t),e.f}function sd(e){if(this.l=!1,Qr(this,"settings",new Xl),Qr(this,"app",e),!md(this).options||!md(this).options.apiKey)throw new k("invalid-api-key");e=t.a.SDK_VERSION?kr(t.a.SDK_VERSION):null,this.a=new Ys(md(this).options&&md(this).options.apiKey,P(C),e),this.P=[],this.s=[],this.N=[],this.Pa=t.a.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=t.a.INTERNAL.createSubscribe(_(this.Ac,this)),pd(this,null),this.i=new Jc(md(this).options.apiKey+":"+md(this).name),this.D=new Qc(md(this).options.apiKey+":"+md(this).name),this.$=bd(this,function(e){var t=md(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Yc,e.a).then((function(e){return e&&t&&(e.authDomain=t),$c(e||{})}))}(e.D,md(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Xc(e.D)}));return bd(e,t)}(e).then((function(){return od(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return nd(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:rd(e.i)}))):null})).then((function(t){pd(e,t||null)}));return bd(e,n)}(this)),this.h=bd(this,function(e){return e.$.then((function(){return dd(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(td("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(e){var t=md(e).options.authDomain,n=md(e).options.apiKey;t&&Ar()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Hl(t,n,md(e).name,e.R),Nl(e.b,e),vd(e)&&Ic(vd(e)),e.m){Ic(e.m);var r=e.m;r.xa(e.la()),wc(r,e),xc(r=e.m,e.J),Ec(r,e),jc(r=e.m,e.R),_c(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,_n.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Un(this.R.url);e=Xr({protocol:e.c,host:e.a,port:e.g,options:Xr({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function ad(e){Xt.call(this,"languageCodeChanged"),this.h=e}function ud(e){Xt.call(this,"emulatorConfigChanged"),this.c=e}function ld(e){Xt.call(this,"frameworkChanged"),this.f=e}function cd(e){return e.Oa||It(new k("auth-domain-config-required"))}function dd(e){if(!Ar())return It(new k("operation-not-supported-in-this-environment"));var t=cd(e).then((function(){return e.b.ra()})).then((function(e){return e?Xr(e):null}));return bd(e,t)}function fd(e,t){var n={};return n.apiKey=md(e).options.apiKey,n.authDomain=md(e).options.authDomain,n.appName=md(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var o=new bc(e,t);return n&&(o.ha=n),r&&xc(o,r),o.reload().then((function(){return o}))}(n,t,e.D,e.Ga())})).then((function(t){return vd(e)&&t.uid==vd(e).uid?(Fc(vd(e),t),e.da(t)):(pd(e,t),Ic(t),e.da(t))})).then((function(){yd(e)}))}function pd(e,t){vd(e)&&(function(e,t){X(e.W,(function(e){return e==t}))}(vd(e),e.Ba),pn(vd(e),"tokenChanged",e.qa),pn(vd(e),"userDeleted",e.za),pn(vd(e),"userInvalidated",e.Aa),kc(vd(e))),t&&(t.W.push(e.Ba),cn(t,"tokenChanged",e.qa),cn(t,"userDeleted",e.za),cn(t,"userInvalidated",e.Aa),0<e.u&&Oc(t)),Qr(e,"currentUser",t),t&&(t.xa(e.la()),wc(t,e),xc(t,e.J),Ec(t,e),jc(t,e.R),_c(t,e))}function hd(e,t){var n=null,r=null;return bd(e,t.then((function(t){return n=Fi(t),r=Yo(t),fd(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=ic(t.w(),e,_(e.kc,e))),n||t})).then((function(){return Xr({user:vd(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function md(e){return e.app}function vd(e){return e.currentUser}function gd(e){return vd(e)&&vd(e)._lat||null}function yd(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](gd(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](gd(e))}}function bd(e,t){return e.P.push(t),t.oa((function(){Y(e.P,t)})),t}function jd(){}function wd(){this.a={},this.b=1e12}Jc.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");e:{for(r in Zu)if(Zu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(wr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Ru()&&"none"!==e)throw n;break;default:if(!Ir()&&"none"!==e)throw n}}(e),id(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Zc(n,e)})).then((function(){if(n.c=td(e),t)return n.b.set(n.c,t,n.a)})):Ct()}))},S(sd,_n),S(ad,Xt),S(ud,Xt),S(ld,Xt),(n=sd.prototype).yb=function(e){return bd(this,e=this.i.yb(e))},n.xa=function(e){this.aa===e||this.l||(this.aa=e,ra(this.a,this.aa),this.dispatchEvent(new ad(this.la())))},n.la=function(){return this.aa},n.fd=function(){var e=u.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},n.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!e&&gr().then((function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,oa(this.a,this.R),this.dispatchEvent(new ud(this.R))}},n.Gc=function(e){this.J.push(e),sa(this.a,t.a.SDK_VERSION?kr(t.a.SDK_VERSION,this.J):null),this.dispatchEvent(new ld(this.J))},n.Ga=function(){return Z(this.J)},n.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:md(this).options.apiKey,authDomain:md(this).options.authDomain,appName:md(this).name,currentUser:vd(this)&&vd(this).w()}},n.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},n.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?_(this.ic,this):null},n.ic=function(e,t,n,r){var o=this,i={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),o.$.then((function(){return hd(o,ja(o.a,i))}))},n.Xc=function(e){if(!Ar())return It(new k("operation-not-supported-in-this-environment"));var n=this,r=Qo(e.providerId),o=Fr(),i=null;(!Nr()||br())&&md(this).options.authDomain&&e.isOAuthProvider&&(i=yu(md(this).options.authDomain,md(this).options.apiKey,md(this).name,"signInViaPopup",e,null,o,t.a.SDK_VERSION||null,null,null,this.T(),this.R));var s=hr(i,r&&r.va,r&&r.ua);return bd(this,r=cd(this).then((function(t){return Fl(t,s,"signInViaPopup",e,o,!!i,n.T())})).then((function(){return new _t((function(e,t){n.na("signInViaPopup",null,new k("cancelled-popup-request"),n.g),n.f=e,n.C=t,n.g=o,n.c=Bl(n.b,n,"signInViaPopup",s,o)}))})).then((function(e){return s&&pr(s),e?Xr(e):null})).o((function(e){throw s&&pr(s),e})))},n.Yc=function(e){if(!Ar())return It(new k("operation-not-supported-in-this-environment"));var t=this;return bd(this,cd(this).then((function(){return function(e){return id(e,(function(){return e.b.set(ed,e.c.F,e.a)}))}(t.i)})).then((function(){return Ul(t.b,"signInViaRedirect",e,void 0,t.T())})))},n.ra=function(){var e=this;return dd(this).then((function(t){return e.b&&Kl(e.b.b),t})).o((function(t){throw e.b&&Kl(e.b.b),t}))},n.dd=function(e){if(!e)return It(new k("null-user"));if(this.S!=e.tenantId)return It(new k("tenant-id-mismatch"));var t=this,n={};n.apiKey=md(this).options.apiKey,n.authDomain=md(this).options.authDomain,n.appName=md(this).name;var r=function(e,t,n,r){var o=e.h,i={};return i[Js]=o.b&&o.b.toString(),i.refreshToken=o.a,t=new bc(t||{apiKey:e.l,authDomain:e.s,appName:e.m},i),n&&(t.ha=n),r&&xc(t,r),Fc(t,e),t}(e,n,t.D,t.Ga());return bd(this,this.h.then((function(){if(md(t).options.apiKey!=e.l)return r.reload()})).then((function(){return vd(t)&&e.uid==vd(t).uid?(Fc(vd(t),e),t.da(e)):(pd(t,r),Ic(r),t.da(r))})).then((function(){yd(t)})))},n.Bb=function(){var e=this;return bd(this,this.h.then((function(){return e.b&&Kl(e.b.b),vd(e)?(pd(e,null),rd(e.i).then((function(){yd(e)}))):Ct()})))},n.Zc=function(){var e=this;return od(this.i,md(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=vd(e)&&t){n=vd(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Fc(vd(e),t),vd(e).I();(vd(e)||t)&&(pd(e,t),t&&(Ic(t),t.ha=e.D),e.b&&Nl(e.b,e),yd(e))}}))},n.da=function(e){return nd(this.i,e)},n.mc=function(){yd(this),this.da(vd(this))},n.wc=function(){this.Bb()},n.xc=function(){this.Bb()},n.kc=function(e){var t=this;return this.h.then((function(){return hd(t,Ct(e))}))},n.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(vd(t))}))},n.Ac=function(e){var t=this;!function(e,t){e.N.push(t),bd(e,e.h.then((function(){!e.l&&Q(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(gd(e)))})))}(this,(function(){e.next(vd(t))}))},n.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(vd(r)):"function"===typeof e.next&&e.next(vd(r))})),this.Pa(e,t,n)},n.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(vd(r)):"function"===typeof e.next&&e.next(vd(r))})),this.ib(e,t,n)},n.nc=function(e){var t=this;return bd(this,this.h.then((function(){return vd(t)?vd(t).I(e).then((function(e){return{accessToken:e}})):null})))},n.Tc=function(e){var t=this;return this.h.then((function(){return hd(t,ru(t.a,Xa,{token:e}))})).then((function(e){var n=e.user;return Mc(n,"isAnonymous",!1),t.da(n),e}))},n.Uc=function(e,t){var n=this;return this.h.then((function(){return hd(n,ru(n.a,Ja,{email:e,password:t}))}))},n.dc=function(e,t){var n=this;return this.h.then((function(){return hd(n,ru(n.a,Oa,{email:e,password:t}))}))},n.ab=function(e){var t=this;return this.h.then((function(){return hd(t,e.ka(t.a))}))},n.Sc=function(e){return Kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},n.Ab=function(){var e=this;return this.h.then((function(){var t=vd(e);if(t&&t.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return hd(e,e.a.Ab()).then((function(t){var n=t.user;return Mc(n,"isAnonymous",!0),e.da(n),t}))}))},n.getUid=function(){return vd(this)&&vd(this).uid||null},n.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&vd(this)&&Oc(vd(this))},n.Pc=function(e){var t=this;W(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&vd(this)&&kc(vd(this)),this.removeAuthTokenListener(e)},n.addAuthTokenListener=function(e){var t=this;this.s.push(e),bd(this,this.h.then((function(){t.l||Q(t.s,e)&&e(gd(t))})))},n.removeAuthTokenListener=function(e){X(this.s,(function(t){return t==e}))},n.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(td("local"),e.a,this.ja),this.b&&(Dl(this.b,this),Kl(this.b.b)),Promise.resolve()},n.hc=function(e){return bd(this,function(e,t){return ru(e,ka,{identifier:t,continueUri:Rr()?cr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},n.Bc=function(e){return!!Ri(e)},n.xb=function(e,t){var n=this;return bd(this,Ct().then((function(){var e=new Io(t);if(!e.c)throw new k("argument-error",Po+" must be true when sending sign in link to email");return Uo(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},n.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},n.ob=function(e,t){return bd(this,this.a.ob(e,t).then((function(){})))},n.Sa=function(e){return bd(this,this.a.Sa(e).then((function(e){return new so(e)})))},n.kb=function(e){return bd(this,this.a.kb(e).then((function(){})))},n.wb=function(e,t){var n=this;return bd(this,Ct().then((function(){return"undefined"===typeof t||me(t)?{}:Uo(new Io(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},n.Wc=function(e,t){return bd(this,Zl(this,e,t,_(this.ab,this)))},n.Vc=function(e,t){var n=this;return bd(this,Ct().then((function(){var r=t||cr(),o=Ai(e,r);if(!(r=Ri(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.ab(o)})))},jd.prototype.render=function(){},jd.prototype.reset=function(){},jd.prototype.getResponse=function(){},jd.prototype.execute=function(){};var _d=null;function xd(e,t){return(t=Ed(t))&&e.a[t]||null}function Ed(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Sd(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function Od(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function kd(){}function Td(){}wd.prototype.render=function(e,t){return this.a[this.b.toString()]=new Sd(e,t),this.b++},wd.prototype.reset=function(e){var t=xd(this,e);e=Ed(e),t&&e&&(t.delete(),delete this.a[e])},wd.prototype.getResponse=function(e){return(e=xd(this,e))?e.getResponse():null},wd.prototype.execute=function(e){(e=xd(this,e))&&e.execute()},Sd.prototype.getResponse=function(){return Od(this),this.b},Sd.prototype.execute=function(){Od(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Sd.prototype.delete=function(){Od(this),this.g=!0,clearTimeout(this.a),this.a=null,pn(this.f,"click",this.i)},Qr(kd,"FACTOR_ID","phone"),Td.prototype.g=function(){return _d||(_d=new wd),Ct(_d)},Td.prototype.c=function(){};var Cd=null;function Id(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ad=new je(Ee,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rd=new Br(3e4,6e4);Id.prototype.g=function(e){var t=this;return new _t((function(n,r){var o=setTimeout((function(){r(new k("network-request-failed"))}),Rd.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var i=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=i(e,n),t.b++,e},clearTimeout(o),n(u.grecaptcha)}else clearTimeout(o),r(new k("internal-error"));delete u[t.a]},Ct(zs(Te(Ad,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(o),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(o),n(u.grecaptcha))}))},Id.prototype.c=function(){this.b--};var Pd=null;function Nd(e,t,n,r,o,i,s){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,s?(Cd||(Cd=new Td),s=Cd):(Pd||(Pd=new Id),s=Pd),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Md])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Fd],!u.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ys(e,i||null,o||null),this.u=r||function(){return null};var a=this;this.l=[];var l=this.a[Dd];this.a[Dd]=function(e){if(qd(a,e),"function"===typeof l)l(e);else if("string"===typeof l){var t=Cr(l,u);"function"===typeof t&&t(e)}};var c=this.a[Ld];this.a[Ld]=function(){if(qd(a,null),"function"===typeof c)c();else if("string"===typeof c){var e=Cr(c,u);"function"===typeof e&&e()}}}var Dd="callback",Ld="expired-callback",Md="sitekey",Fd="size";function qd(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Ud(e,t){return e.h.push(t),t.oa((function(){Y(e.h,t)})),t}function Bd(e){if(e.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vd(e,n,r){var o=!1;try{this.b=r||t.a.app()}catch(a){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");r=this.b.options.apiKey;var i=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{o=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=t.a.SDK_VERSION?kr(t.a.SDK_VERSION,s):null,Nd.call(this,r,e,n,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),s,P(C),o)}function zd(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var o=0,i=!1,s=0;s<t.length;s++)if(t[s].optional)i=!0;else{if(i)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(i=t.length,n.length<o||i<n.length)r="Expected "+(o==i?1==o?"1 argument":o+" arguments":o+"-"+i+" arguments")+" but got "+n.length+".";else{for(o=0;o<n.length;o++)if(i=t[o].optional&&void 0===n[o],!t[o].M(n[o])&&!i){if(t=t[o],0>o||o>=Hd.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=Hd[o],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new k("argument-error",e+" failed: "+r)}(n=Nd.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Ud(this,Ct().then((function(){if(Rr()&&!jr())return gr();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,ru(e.s,Ua,{})})).then((function(t){e.a[Md]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},n.render=function(){Bd(this);var e=this;return Ud(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=function(e,t,n){var r=arguments,o=document,i=String(r[0]),s=r[1];if(!lt&&s&&(s.name||s.type)){if(i=["<",i],s.name&&i.push(' name="',We(s.name),'"'),s.type){i.push(' type="',We(s.type),'"');var a={};ye(a,s),delete a.type,s=a}i.push(">"),i=i.join("")}return i=vt(o,i),s&&("string"===typeof s?i.className=s:Array.isArray(s)?i.className=s.join(" "):dt(i,s)),2<r.length&&mt(o,i,r),i}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},n.verify=function(){Bd(this);var e=this;return Ud(this,this.render().then((function(t){return new _t((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var o=function(t){t&&(function(e,t){X(e.l,(function(e){return e==t}))}(e,o),n(t))};e.l.push(o),e.i&&e.g.execute(e.c)}}))})))},n.reset=function(){Bd(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Bd(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},S(Vd,Nd);var Hd="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Wd(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Gd(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function Kd(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function $d(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function Qd(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Yd(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Xd(e,t){return v(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function Jd(e){return v(e)&&"string"===typeof e.uid}function Zd(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function ef(e,t){for(var n in t){var r=t[n].name;e[r]=rf(r,e[n],t[n].j)}}function tf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:x((function(e){return this[e]}),n),set:x((function(e,t,n,r){zd(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function nf(e,t,n,r){e[t]=rf(t,n,r)}function rf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return zd(i,n,e),t.apply(this,e)}if(!n)return t;var o,i=function(e){return(e=e.split("."))[e.length-1]}(e);for(o in t)r[o]=t[o];for(o in t.prototype)r.prototype[o]=t.prototype[o];return r}ef(sd.prototype,{kb:{name:"applyActionCode",j:[Wd("code")]},Sa:{name:"checkActionCode",j:[Wd("code")]},ob:{name:"confirmPasswordReset",j:[Wd("code"),Wd("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Wd("email"),Wd("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Wd("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Wd("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zd(Kd(),$d(),"nextOrObserver"),$d("opt_error",!0),$d("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zd(Kd(),$d(),"nextOrObserver"),$d("opt_error",!0),$d("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Wd("email"),Zd(Kd("opt_actionCodeSettings",!0),Qd(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Wd("email"),Kd("actionCodeSettings")]},yb:{name:"setPersistence",j:[Wd("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yd()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Yd()]},Tc:{name:"signInWithCustomToken",j:[Wd("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Wd("email"),Wd("password")]},Vc:{name:"signInWithEmailLink",j:[Wd("email"),Wd("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Wd("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zd({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof bc)}},Qd(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Wd(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Wd("url"),Kd("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Wd("code")]}}),tf(sd.prototype,{lc:{name:"languageCode",lb:Zd(Wd(),Qd(),"languageCode")},ti:{name:"tenantId",lb:Zd(Wd(),Qd(),"tenantId")}}),sd.Persistence=Zu,sd.Persistence.LOCAL="local",sd.Persistence.SESSION="session",sd.Persistence.NONE="none",ef(bc.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Gd("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Gd("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yd()]},rb:{name:"linkWithCredential",j:[Yd()]},Dc:{name:"linkWithPhoneNumber",j:[Wd("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yd()]},ub:{name:"reauthenticateWithCredential",j:[Yd()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Wd("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Zd(Kd("opt_actionCodeSettings",!0),Qd(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Wd(null,!0)]},cd:{name:"unlink",j:[Wd("provider")]},Cb:{name:"updateEmail",j:[Wd("email")]},Db:{name:"updatePassword",j:[Wd("password")]},ed:{name:"updatePhoneNumber",j:[Yd("phone")]},Eb:{name:"updateProfile",j:[Kd("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Wd("email"),Zd(Kd("opt_actionCodeSettings",!0),Qd(null,!0),"opt_actionCodeSettings",!0)]}}),ef(wd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(jd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(_t.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),tf(Xl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Gd("appVerificationDisabledForTesting")}}),ef(Jl.prototype,{confirm:{name:"confirm",j:[Wd("verificationCode")]}}),nf(li,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[vi,Ci,Ni,pi],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Zd(Wd(),Kd(),"json")]),nf(Ii,"credential",(function(e,t){return new Ti(e,t)}),[Wd("email"),Wd("password")]),ef(Ti.prototype,{w:{name:"toJSON",j:[Wd(null,!0)]}}),ef(ji.prototype,{Ca:{name:"addScope",j:[Wd("scope")]},Ka:{name:"setCustomParameters",j:[Kd("customOAuthParameters")]}}),nf(ji,"credential",wi,[Zd(Wd(),Kd(),"token")]),nf(Ii,"credentialWithLink",Ai,[Wd("email"),Wd("emailLink")]),ef(_i.prototype,{Ca:{name:"addScope",j:[Wd("scope")]},Ka:{name:"setCustomParameters",j:[Kd("customOAuthParameters")]}}),nf(_i,"credential",xi,[Zd(Wd(),Kd(),"token")]),ef(Ei.prototype,{Ca:{name:"addScope",j:[Wd("scope")]},Ka:{name:"setCustomParameters",j:[Kd("customOAuthParameters")]}}),nf(Ei,"credential",Si,[Zd(Wd(),Zd(Kd(),Qd()),"idToken"),Zd(Wd(),Qd(),"accessToken",!0)]),ef(Oi.prototype,{Ka:{name:"setCustomParameters",j:[Kd("customOAuthParameters")]}}),nf(Oi,"credential",ki,[Zd(Wd(),Kd(),"token"),Wd("secret",!0)]),ef(bi.prototype,{Ca:{name:"addScope",j:[Wd("scope")]},credential:{name:"credential",j:[Zd(Wd(),Zd(Kd(),Qd()),"optionsOrIdToken"),Zd(Wd(),Qd(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Kd("customOAuthParameters")]}}),ef(hi.prototype,{w:{name:"toJSON",j:[Wd(null,!0)]}}),ef(di.prototype,{w:{name:"toJSON",j:[Wd(null,!0)]}}),nf(Li,"credential",Mi,[Wd("verificationId"),Wd("verificationCode")]),ef(Li.prototype,{gb:{name:"verifyPhoneNumber",j:[Zd(Wd(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Xd(e.session,ai)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?Xd(e.session,ui)&&Jd(e.multiFactorHint):e.session&&e.multiFactorUid?Xd(e.session,ui)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),ef(Pi.prototype,{w:{name:"toJSON",j:[Wd(null,!0)]}}),ef(k.prototype,{toJSON:{name:"toJSON",j:[Wd(null,!0)]}}),ef(Gi.prototype,{toJSON:{name:"toJSON",j:[Wd(null,!0)]}}),ef(Wi.prototype,{toJSON:{name:"toJSON",j:[Wd(null,!0)]}}),ef(oc.prototype,{toJSON:{name:"toJSON",j:[Wd(null,!0)]}}),ef(tc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),ef(cc.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Wd("displayName",!0)]},bd:{name:"unenroll",j:[Zd({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Jd},Wd(),"multiFactorInfoIdentifier")]}}),ef(Vd.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nf(wo,"parseLink",Co,[Wd("link")]),nf(kd,"assertion",(function(e){return new uc(e)}),[Yd("phone")]),function(){if("undefined"===typeof t.a||!t.a.INTERNAL||!t.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:uo,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ao,VERIFY_AND_CHANGE_EMAIL:lo,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:sd,AuthCredential:li,Error:k};nf(e,"EmailAuthProvider",Ii,[]),nf(e,"FacebookAuthProvider",ji,[]),nf(e,"GithubAuthProvider",_i,[]),nf(e,"GoogleAuthProvider",Ei,[]),nf(e,"TwitterAuthProvider",Oi,[]),nf(e,"OAuthProvider",bi,[Wd("providerId")]),nf(e,"SAMLAuthProvider",yi,[Wd("providerId")]),nf(e,"PhoneAuthProvider",Li,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof sd)}}]),nf(e,"RecaptchaVerifier",Vd,[Zd(Wd(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Kd("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof t.a.app.App)}}]),nf(e,"ActionCodeURL",wo,[]),nf(e,"PhoneMultiFactorGenerator",kd,[]),t.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new sd(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),t.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:_((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:_(e.nc,e),addAuthTokenListener:_(e.cc,e),removeAuthTokenListener:_(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),t.a.registerVersion("@firebase/auth","0.16.8"),t.a.INTERNAL.extendNamespace({User:bc})}()}).apply("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/@firebase/component/dist/index.esm.js":function(e,t,n){"use strict";function r(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}Object.create;function i(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function a(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||t)}Object.create;var u=n("./node_modules/@firebase/util/dist/index.esm.js");n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var l=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),c=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new u.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(f){}try{for(var r=i(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var a=s(o.value,2),u=a[0],l=a[1],c=this.normalizeInstanceIdentifier(u);try{var d=this.getOrInitializeService({instanceIdentifier:c});l.resolve(d)}catch(f){}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(a(a([],s(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),s(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,o=void 0===r?{}:r,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var l=i(this.instancesDeferred.entries()),c=l.next();!c.done;c=l.next()){var d=s(c.value,2),f=d[0],p=d[1];a===this.normalizeInstanceIdentifier(f)&&p.resolve(u)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return u},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);var i=this.instances.get(r);return i&&e(i,r),function(){o.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,o=this.onInitCallbacks.get(t);if(o)try{for(var s=i(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(e,t)}catch(l){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,o=void 0===r?{}:r,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:o}),this.instances.set(n,i),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(s){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e="[DEFAULT]"),this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var d=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new c(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},"./node_modules/@firebase/firestore/dist/esm5/index.js":function(e,t,n){"use strict";var r,o=n("./node_modules/@firebase/app/dist/index.esm.js"),i=n("./node_modules/@firebase/firestore/dist/esm5/prebuilt-29191f3d-bed1a14c.js"),s=n("./node_modules/@firebase/component/dist/index.esm.js"),a=(n("./node_modules/@firebase/util/dist/index.esm.js"),n("./node_modules/@firebase/logger/dist/index.esm.js"),n("./node_modules/@firebase/webchannel-wrapper/dist/index.esm.js"),{Firestore:i.f,GeoPoint:i.a,Timestamp:i.c,Blob:i.j,Transaction:i.k,WriteBatch:i.g,DocumentReference:i.r,DocumentSnapshot:i.h,Query:i.q,QueryDocumentSnapshot:i.i,QuerySnapshot:i.l,CollectionReference:i.p,FieldPath:i.o,FieldValue:i.m,setLogLevel:i.d,CACHE_SIZE_UNLIMITED:i.b});(function(e,t){e.INTERNAL.registerComponent(new s.a("firestore",(function(e){return function(e,t){return new i.f(e,new i.e(e,t),new i.n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},a)))})(r=o.a),r.registerVersion("@firebase/firestore","2.3.10")},"./node_modules/@firebase/firestore/dist/esm5/prebuilt-29191f3d-bed1a14c.js":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return za})),n.d(t,"b",(function(){return Na})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return el})),n.d(t,"e",(function(){return Da})),n.d(t,"f",(function(){return Ju})),n.d(t,"g",(function(){return nl})),n.d(t,"h",(function(){return ul})),n.d(t,"i",(function(){return ll})),n.d(t,"j",(function(){return Yu})),n.d(t,"k",(function(){return tl})),n.d(t,"l",(function(){return fl})),n.d(t,"m",(function(){return vl})),n.d(t,"n",(function(){return Xu})),n.d(t,"o",(function(){return ml})),n.d(t,"p",(function(){return pl})),n.d(t,"q",(function(){return cl})),n.d(t,"r",(function(){return ol}));var r=n("./node_modules/@firebase/firestore/node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@firebase/util/dist/index.esm.js"),i=n("./node_modules/@firebase/logger/dist/index.esm.js"),s=n("./node_modules/@firebase/webchannel-wrapper/dist/index.esm.js"),a=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();a.o=-1;var u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},l=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.b)(t,e),t}(Error),c=new i.b("@firebase/firestore");function d(){return c.logLevel}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(c.logLevel<=i.a.DEBUG){var o=t.map(m);c.debug.apply(c,Object(r.d)(["Firestore (8.8.1): "+e],o))}}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(c.logLevel<=i.a.ERROR){var o=t.map(m);c.error.apply(c,Object(r.d)(["Firestore (8.8.1): "+e],o))}}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(c.logLevel<=i.a.WARN){var o=t.map(m);c.warn.apply(c,Object(r.d)(["Firestore (8.8.1): "+e],o))}}function m(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function v(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+e;throw p(t),new Error(t)}function g(e,t){e||v()}function y(e,t){return e}function b(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var j=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=b(40),o=0;o<r.length;++o)n.length<20&&r[o]<t&&(n+=e.charAt(r[o]%e.length));return n},e}();function w(e,t){return e<t?-1:e>t?1:0}function _(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function x(e){return e+"\0"}var E=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new l(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new l(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new l(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new l(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?w(this.nanoseconds,e.nanoseconds):w(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),S=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new E(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function O(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function k(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function T(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var C=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&v(),void 0===n?n=e.length-t:n>e.length-t&&v(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=e.get(r),i=t.get(r);if(o<i)return-1;if(o>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],o=0,i=e;o<i.length;o++){var s=i[o];if(s.indexOf("//")>=0)throw new l(u.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(C),A=/^[_a-zA-Z][_a-zA-Z0-9]*$/,R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return A.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",o=0,i=function(){if(0===r.length)throw new l(u.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;o<e.length;){var a=e[o];if("\\"===a){if(o+1===e.length)throw new l(u.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var c=e[o+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new l(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,o+=2}else"`"===a?(s=!s,o++):"."!==a||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new l(u.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(C),P=function(){function e(e){this.fields=e,e.sort(R.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return _(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),N=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return w(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();N.EMPTY_BYTE_STRING=new N("");var D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function L(e){if(g(!!e),"string"==typeof e){var t=0,n=D.exec(e);if(g(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:M(e.seconds),nanos:M(e.nanos)}}function M(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function F(e){return"string"==typeof e?N.fromBase64String(e):N.fromUint8Array(e)}function q(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function U(e){var t=L(e.mapValue.fields.__local_write_time__.timestampValue);return new E(t.seconds,t.nanos)}function B(e){return null==e}function V(e){return 0===e&&1/e==-1/0}function z(e){return"number"==typeof e&&Number.isInteger(e)&&!V(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var H=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(I.fromString(t))},e.fromName=function(t){return new e(I.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===I.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return I.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new I(t.slice()))},e}();function W(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?q(e)?4:10:v()}function G(e,t){var n=W(e);if(n!==W(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return U(e).isEqual(U(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=L(e.timestampValue),r=L(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return F(e.bytesValue).isEqual(F(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return M(e.geoPointValue.latitude)===M(t.geoPointValue.latitude)&&M(e.geoPointValue.longitude)===M(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return M(e.integerValue)===M(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=M(e.doubleValue),r=M(t.doubleValue);return n===r?V(n)===V(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return _(e.arrayValue.values||[],t.arrayValue.values||[],G);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(O(n)!==O(r))return!1;for(var o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!G(n[o],r[o])))return!1;return!0}(e,t);default:return v()}}function K(e,t){return void 0!==(e.values||[]).find((function(e){return G(e,t)}))}function $(e,t){var n=W(e),r=W(t);if(n!==r)return w(n,r);switch(n){case 0:return 0;case 1:return w(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=M(e.integerValue||e.doubleValue),r=M(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Q(e.timestampValue,t.timestampValue);case 4:return Q(U(e),U(t));case 5:return w(e.stringValue,t.stringValue);case 6:return function(e,t){var n=F(e),r=F(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),o=0;o<n.length&&o<r.length;o++){var i=w(n[o],r[o]);if(0!==i)return i}return w(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=w(M(e.latitude),M(t.latitude));return 0!==n?n:w(M(e.longitude),M(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],o=0;o<n.length&&o<r.length;++o){var i=$(n[o],r[o]);if(i)return i}return w(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(var s=0;s<r.length&&s<i.length;++s){var a=w(r[s],i[s]);if(0!==a)return a;var u=$(n[r[s]],o[i[s]]);if(0!==u)return u}return w(r.length,i.length)}(e.mapValue,t.mapValue);default:throw v()}}function Q(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return w(e,t);var n=L(e),r=L(t),o=w(n.seconds,r.seconds);return 0!==o?o:w(n.nanos,r.nanos)}function Y(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=L(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?F(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,H.fromName(r).toString()):"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,o=0,i=t.values||[];o<i.length;o++)r?r=!1:n+=",",n+=e(i[o]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,o=0,i=Object.keys(t.fields||{}).sort();o<i.length;o++){var s=i[o];r?r=!1:n+=",",n+=s+":"+e(t.fields[s])}return n+"}"}(t.mapValue):v();var n,r}(e)}function X(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function J(e){return!!e&&"integerValue"in e}function Z(e){return!!e&&"arrayValue"in e}function ee(e){return!!e&&"nullValue"in e}function te(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ne(e){return!!e&&"mapValue"in e}function re(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return k(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=re(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=re(e.arrayValue.values[r]);return n}return Object.assign({},e)}var oe=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ne(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=re(t)},e.prototype.setAll=function(e){var t=this,n=R.emptyPath(),r={},o=[];e.forEach((function(e,i){if(!n.isImmediateParentOf(i)){var s=t.getFieldsMap(n);t.applyChanges(s,r,o),r={},o=[],n=i.popLast()}e?r[i.lastSegment()]=re(e):o.push(i.lastSegment())}));var i=this.getFieldsMap(n);this.applyChanges(i,r,o)},e.prototype.delete=function(e){var t=this.field(e.popLast());ne(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return G(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ne(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){k(t,(function(t,n){return e[t]=n}));for(var r=0,o=n;r<o.length;r++){var i=o[r];delete e[i]}},e.prototype.clone=function(){return new e(re(this.value))},e}();function ie(e){var t=[];return k(e.fields,(function(e,n){var r=new R([e]);if(ne(n)){var o=ie(n.mapValue).fields;if(0===o.length)t.push(r);else for(var i=0,s=o;i<s.length;i++){var a=s[i];t.push(r.child(a))}}else t.push(r)})),new P(t)}var se=function(){function e(e,t,n,r,o){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=o}return e.newInvalidDocument=function(t){return new e(t,0,S.min(),oe.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,oe.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,oe.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=oe.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=oe.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),ae=function(e,t,n,r,o,i,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=s,this.h=null};function ue(e,t,n,r,o,i,s){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=null),void 0===s&&(s=null),new ae(e,t,n,r,o,i,s)}function le(e){var t=y(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Y(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),B(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=_e(t.startAt)),t.endAt&&(n+="|ub:",n+=_e(t.endAt)),t.h=n}return t.h}function ce(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ee(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],i=t.filters[r],o.op!==i.op||!o.field.isEqual(i.field)||!G(o.value,i.value))return!1;var o,i;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Oe(e.startAt,t.startAt)&&Oe(e.endAt,t.endAt)}function de(e){return H.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var fe=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).field=t,o.op=n,o.value=r,o}return Object(r.b)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new pe(e,n,r):"array-contains"===n?new ge(e,r):"in"===n?new ye(e,r):"not-in"===n?new be(e,r):"array-contains-any"===n?new je(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new he(e,n):new me(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m($(t,this.value)):null!==t&&W(this.value)===W(t)&&this.m($(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return v()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),pe=function(e){function t(t,n,r){var o=this;return(o=e.call(this,t,n,r)||this).key=H.fromName(r.referenceValue),o}return Object(r.b)(t,e),t.prototype.matches=function(e){var t=H.comparator(e.key,this.key);return this.m(t)},t}(fe),he=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=ve("in",n),r}return Object(r.b)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(fe),me=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=ve("not-in",n),r}return Object(r.b)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(fe);function ve(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return H.fromName(e.referenceValue)}))}var ge=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Object(r.b)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Z(t)&&K(t.arrayValue,this.value)},t}(fe),ye=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Object(r.b)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&K(this.value.arrayValue,t)},t}(fe),be=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Object(r.b)(t,e),t.prototype.matches=function(e){if(K(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!K(this.value.arrayValue,t)},t}(fe),je=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Object(r.b)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Z(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return K(t.value.arrayValue,e)}))},t}(fe),we=function(e,t){this.position=e,this.before=t};function _e(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Y(e)})).join(",")}var xe=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ee(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Se(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var i=t[o],s=e.position[o];if(r=i.field.isKeyField()?H.comparator(H.fromName(s.referenceValue),n.key):$(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Oe(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!G(e.position[n],t.position[n]))return!1;return!0}var ke=function(e,t,n,r,o,i,s,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function Te(e,t,n,r,o,i,s,a){return new ke(e,t,n,r,o,i,s,a)}function Ce(e){return new ke(e)}function Ie(e){return!B(e.limit)&&"F"===e.limitType}function Ae(e){return!B(e.limit)&&"L"===e.limitType}function Re(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Pe(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Ne(e){return null!==e.collectionGroup}function De(e){var t=y(e);if(null===t.p){t.p=[];var n=Pe(t),r=Re(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new xe(n)),t.p.push(new xe(R.keyField(),"asc"));else{for(var o=!1,i=0,s=t.explicitOrderBy;i<s.length;i++){var a=s[i];t.p.push(a),a.field.isKeyField()&&(o=!0)}if(!o){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new xe(R.keyField(),u))}}}return t.p}function Le(e){var t=y(e);if(!t.T)if("F"===t.limitType)t.T=ue(t.path,t.collectionGroup,De(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=De(t);r<o.length;r++){var i=o[r],s="desc"===i.dir?"asc":"desc";n.push(new xe(i.field,s))}var a=t.endAt?new we(t.endAt.position,!t.endAt.before):null,u=t.startAt?new we(t.startAt.position,!t.startAt.before):null;t.T=ue(t.path,t.collectionGroup,n,t.filters,t.limit,a,u)}return t.T}function Me(e,t,n){return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fe(e,t){return ce(Le(e),Le(t))&&e.limitType===t.limitType}function qe(e){return le(Le(e))+"|lt:"+e.limitType}function Ue(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Y(t.value);var t})).join(", ")+"]"),B(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+_e(e.startAt)),e.endAt&&(t+=", endAt: "+_e(e.endAt)),"Target("+t+")"}(Le(e))+"; limitType="+e.limitType+")"}function Be(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):H.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var o=r[n];if(!o.field.isKeyField()&&null===t.data.field(o.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Se(e.startAt,De(e),t))&&(!e.endAt||!Se(e.endAt,De(e),t))}(e,t)}function Ve(e){return function(t,n){for(var r=!1,o=0,i=De(e);o<i.length;o++){var s=i[o],a=ze(s,t,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function ze(e,t,n){var r=e.field.isKeyField()?H.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?$(r,o):v()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}function He(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:V(t)?"-0":t}}function We(e){return{integerValue:""+e}}function Ge(e,t){return z(t)?We(t):He(e,t)}var Ke=function(){this._=void 0};function $e(e,t,n){return e instanceof Xe?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Je?Ze(e,t):e instanceof et?tt(e,t):function(e,t){var n=Ye(e,t),r=rt(n)+rt(e.A);return J(n)&&J(e.A)?We(r):He(e.R,r)}(e,t)}function Qe(e,t,n){return e instanceof Je?Ze(e,t):e instanceof et?tt(e,t):n}function Ye(e,t){return e instanceof nt?J(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t}(Ke),Je=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.b)(t,e),t}(Ke);function Ze(e,t){for(var n=ot(t),r=function(e){n.some((function(t){return G(t,e)}))||n.push(e)},o=0,i=e.elements;o<i.length;o++)r(i[o]);return{arrayValue:{values:n}}}var et=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.b)(t,e),t}(Ke);function tt(e,t){for(var n=ot(t),r=function(e){n=n.filter((function(t){return!G(t,e)}))},o=0,i=e.elements;o<i.length;o++)r(i[o]);return{arrayValue:{values:n}}}var nt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Object(r.b)(t,e),t}(Ke);function rt(e){return M(e.integerValue||e.doubleValue)}function ot(e){return Z(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var it=function(e,t){this.field=e,this.transform=t},st=function(e,t){this.version=e,this.transformResults=t},at=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function ut(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var lt=function(){};function ct(e,t,n){e instanceof mt?function(e,t,n){var r=e.value.clone(),o=yt(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vt?function(e,t,n){if(ut(e.precondition,t)){var r=yt(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(gt(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dt(e,t,n){e instanceof mt?function(e,t,n){if(ut(e.precondition,t)){var r=e.value.clone(),o=bt(e.fieldTransforms,n,t);r.setAll(o),t.convertToFoundDocument(ht(t),r).setHasLocalMutations()}}(e,t,n):e instanceof vt?function(e,t,n){if(ut(e.precondition,t)){var r=bt(e.fieldTransforms,n,t),o=t.data;o.setAll(gt(e)),o.setAll(r),t.convertToFoundDocument(ht(t),o).setHasLocalMutations()}}(e,t,n):function(e,t){ut(e.precondition,t)&&t.convertToNoDocument(S.min())}(e,t)}function ft(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var i=o[r],s=t.data.field(i.field),a=Ye(i.transform,s||null);null!=a&&(null==n&&(n=oe.empty()),n.set(i.field,a))}return n||null}function pt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&_(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Je&&t instanceof Je||e instanceof et&&t instanceof et?_(e.elements,t.elements,G):e instanceof nt&&t instanceof nt?G(e.A,t.A):e instanceof Xe&&t instanceof Xe}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ht(e){return e.isFoundDocument()?e.version:S.min()}var mt=function(e){function t(t,n,r,o){void 0===o&&(o=[]);var i=this;return(i=e.call(this)||this).key=t,i.value=n,i.precondition=r,i.fieldTransforms=o,i.type=0,i}return Object(r.b)(t,e),t}(lt),vt=function(e){function t(t,n,r,o,i){void 0===i&&(i=[]);var s=this;return(s=e.call(this)||this).key=t,s.data=n,s.fieldMask=r,s.precondition=o,s.fieldTransforms=i,s.type=1,s}return Object(r.b)(t,e),t}(lt);function gt(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function yt(e,t,n){var r=new Map;g(e.length===n.length);for(var o=0;o<n.length;o++){var i=e[o],s=i.transform,a=t.data.field(i.field);r.set(i.field,Qe(s,a,n[o]))}return r}function bt(e,t,n){for(var r=new Map,o=0,i=e;o<i.length;o++){var s=i[o],a=s.transform,u=n.data.field(s.field);r.set(s.field,$e(a,u,t))}return r}var jt,wt,_t=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(r.b)(t,e),t}(lt),xt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(r.b)(t,e),t}(lt),Et=function(e){this.count=e};function St(e){switch(e){case u.OK:return v();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0;default:return v()}}function Ot(e){if(void 0===e)return p("GRPC error has no .code"),u.UNKNOWN;switch(e){case jt.OK:return u.OK;case jt.CANCELLED:return u.CANCELLED;case jt.UNKNOWN:return u.UNKNOWN;case jt.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case jt.INTERNAL:return u.INTERNAL;case jt.UNAVAILABLE:return u.UNAVAILABLE;case jt.UNAUTHENTICATED:return u.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case jt.NOT_FOUND:return u.NOT_FOUND;case jt.ALREADY_EXISTS:return u.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return u.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case jt.ABORTED:return u.ABORTED;case jt.OUT_OF_RANGE:return u.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return u.UNIMPLEMENTED;case jt.DATA_LOSS:return u.DATA_LOSS;default:return v()}}(wt=jt||(jt={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";var kt=function(){function e(e,t){this.comparator=e,this.root=t||Ct.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ct.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ct.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Tt(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Tt(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Tt(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Tt(this.root,e,this.comparator,!0)},e}(),Tt=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Ct=function(){function e(t,n,r,o,i){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=o?o:e.EMPTY,this.right=null!=i?i:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,i){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,o=n(e,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(t,o.key)){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v();if(this.right.isRed())throw v();var e=this.left.check();if(e!==this.right.check())throw v();return e+(this.isRed()?0:1)},e}();Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1,Ct.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw v()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,o){return this},e.prototype.insert=function(e,t,n){return new Ct(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var It=function(){function e(e){this.comparator=e,this.data=new kt(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new At(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new At(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(o,i))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),At=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Rt=new kt(H.comparator);function Pt(){return Rt}var Nt=new kt(H.comparator);function Dt(){return Nt}var Lt=new kt(H.comparator);function Mt(){return Lt}var Ft=new It(H.comparator);function qt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ft,r=0,o=e;r<o.length;r++){var i=o[r];n=n.add(i)}return n}var Ut=new It(w);function Bt(){return Ut}var Vt=function(){function e(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,zt.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(S.min(),r,Bt(),Pt(),qt())},e}(),zt=function(){function e(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(N.EMPTY_BYTE_STRING,n,qt(),qt(),qt())},e}(),Ht=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Wt=function(e,t){this.targetId=e,this.V=t},Gt=function(e,t,n,r){void 0===n&&(n=N.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Kt=function(){function e(){this.S=0,this.D=Yt(),this.C=N.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=qt(),t=qt(),n=qt();return this.D.forEach((function(r,o){switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:v()}})),new zt(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=Yt()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),$t=function(){function e(e){this.W=e,this.G=new Map,this.H=Pt(),this.J=Qt(),this.Y=new It(w)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var o=0,i=e.removedTargetIds;o<i.length;o++)r=i[o],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:v()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var o=r.target;if(de(o))if(0===n){var i=new H(o.path);this.tt(t,i,se.newNoDocument(i,S.min()))}else g(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,o){var i=t.ot(o);if(i){if(r.current&&de(i.target)){var s=new H(i.target.path);null!==t.H.get(s)||t.at(o,s)||t.tt(o,s,se.newNoDocument(s,e))}r.$&&(n.set(o,r.M()),r.L())}}));var r=qt();this.J.forEach((function(e,n){var o=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(o=!1,!1)})),o&&(r=r.add(e))}));var o=new Vt(e,n,this.Y,this.H,r);return this.H=Pt(),this.J=Qt(),this.Y=new It(w),o},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Kt,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new It(w),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||f("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Kt),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Qt(){return new kt(H.comparator)}function Yt(){return new kt(H.comparator)}var Xt={asc:"ASCENDING",desc:"DESCENDING"},Jt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zt=function(e,t){this.databaseId=e,this.I=t};function en(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function tn(e,t){return e.I?t.toBase64():t.toUint8Array()}function nn(e,t){return en(e,t.toTimestamp())}function rn(e){return g(!!e),S.fromTimestamp(function(e){var t=L(e);return new E(t.seconds,t.nanos)}(e))}function on(e,t){return function(e){return new I(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sn(e){var t=I.fromString(e);return g(Cn(t)),t}function an(e,t){return on(e.databaseId,t.path)}function un(e,t){var n=sn(t);if(n.get(1)!==e.databaseId.projectId)throw new l(u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new l(u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new H(fn(n))}function ln(e,t){return on(e.databaseId,t)}function cn(e){var t=sn(e);return 4===t.length?I.emptyPath():fn(t)}function dn(e){return new I(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fn(e){return g(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pn(e,t,n){return{name:an(e,t),fields:n.value.mapValue.fields}}function hn(e,t,n){var r=un(e,t.name),o=rn(t.updateTime),i=new oe({mapValue:{fields:t.fields}}),s=se.newFoundDocument(r,o,i);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function mn(e,t){var n;if(t instanceof mt)n={update:pn(e,t.key,t.value)};else if(t instanceof _t)n={delete:an(e,t.key)};else if(t instanceof vt)n={update:pn(e,t.key,t.data),updateMask:Tn(t.fieldMask)};else{if(!(t instanceof xt))return v();n={verify:an(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Xe)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Je)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof et)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nt)return{fieldPath:t.field.canonicalString(),increment:n.A};throw v()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nn(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v()}(e,t.precondition)),n}function vn(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?at.updateTime(rn(e.updateTime)):void 0!==e.exists?at.exists(e.exists):at.none()}(t.currentDocument):at.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)g("REQUEST_TIME"===t.setToServerValue),n=new Xe;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Je(r)}else if("removeAllFromArray"in t){var o=t.removeAllFromArray.values||[];n=new et(o)}else"increment"in t?n=new nt(e,t.increment):v();var i=R.fromServerFormat(t.fieldPath);return new it(i,n)}(e,t)})):[];if(t.update){t.update.name;var o=un(e,t.update.name),i=new oe({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(e){var t=e.fieldPaths||[];return new P(t.map((function(e){return R.fromServerFormat(e)})))}(t.updateMask);return new vt(o,i,s,n,r)}return new mt(o,i,n,r)}if(t.delete){var a=un(e,t.delete);return new _t(a,n)}if(t.verify){var u=un(e,t.verify);return new xt(u,n)}return v()}function gn(e,t){return{documents:[ln(e,t.path)]}}function yn(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ln(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ln(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(te(e.value))return{unaryFilter:{field:En(e.field),op:"IS_NAN"}};if(ee(e.value))return{unaryFilter:{field:En(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(te(e.value))return{unaryFilter:{field:En(e.field),op:"IS_NOT_NAN"}};if(ee(e.value))return{unaryFilter:{field:En(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:En(e.field),op:xn(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);o&&(n.structuredQuery.where=o);var i=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:En(e.field),direction:_n(e.dir)}}(e)}))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);var s=function(e,t){return e.I||B(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=jn(t.startAt)),t.endAt&&(n.structuredQuery.endAt=jn(t.endAt)),n}function bn(e){var t=cn(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){g(1===r);var i=n.from[0];i.allDescendants?o=i.collectionId:t=t.child(i.collectionId)}var s=[];n.where&&(s=function e(t){return t?void 0!==t.unaryFilter?[kn(t)]:void 0!==t.fieldFilter?[On(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):v():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(e){return function(e){return new xe(Sn(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return B(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=wn(n.startAt));var c=null;return n.endAt&&(c=wn(n.endAt)),Te(t,o,a,s,u,"F",l,c)}function jn(e){return{before:e.before,values:e.position}}function wn(e){var t=!!e.before,n=e.values||[];return new we(n,t)}function _n(e){return Xt[e]}function xn(e){return Jt[e]}function En(e){return{fieldPath:e.canonicalString()}}function Sn(e){return R.fromServerFormat(e.fieldPath)}function On(e){return fe.create(Sn(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return v()}}(e.fieldFilter.op),e.fieldFilter.value)}function kn(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Sn(e.unaryFilter.field);return fe.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Sn(e.unaryFilter.field);return fe.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Sn(e.unaryFilter.field);return fe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Sn(e.unaryFilter.field);return fe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return v()}}function Tn(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Cn(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function In(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Rn(t)),t=An(e.get(n),t);return Rn(t)}function An(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var i=e.charAt(o);switch(i){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=i}}return n}function Rn(e){return e+"\x01\x01"}function Pn(e){var t=e.length;if(g(t>=2),2===t)return g("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),I.emptyPath();for(var n=t-2,r=[],o="",i=0;i<t;){var s=e.indexOf("\x01",i);switch((s<0||s>n)&&v(),e.charAt(s+1)){case"\x01":var a=e.substring(i,s),u=void 0;0===o.length?u=a:(u=o+=a,o=""),r.push(u);break;case"\x10":o+=e.substring(i,s),o+="\0";break;case"\x11":o+=e.substring(i,s+1);break;default:v()}i=s+2}return new I(r)}var Nn=function(e,t){this.seconds=e,this.nanoseconds=t},Dn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Dn.store="owner",Dn.key="owner";var Ln=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ln.store="mutationQueues",Ln.keyPath="userId";var Mn=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};Mn.store="mutations",Mn.keyPath="batchId",Mn.userMutationsIndex="userMutationsIndex",Mn.userMutationsKeyPath=["userId","batchId"];var Fn=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,In(t)]},e.key=function(e,t,n){return[e,In(t),n]},e}();Fn.store="documentMutations",Fn.PLACEHOLDER=new Fn;var qn=function(e,t){this.path=e,this.readTime=t},Un=function(e,t){this.path=e,this.version=t},Bn=function(e,t,n,r,o,i){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=i};Bn.store="remoteDocuments",Bn.readTimeIndex="readTimeIndex",Bn.readTimeIndexPath="readTime",Bn.collectionReadTimeIndex="collectionReadTimeIndex",Bn.collectionReadTimeIndexPath=["parentPath","readTime"];var Vn=function(e){this.byteSize=e};Vn.store="remoteDocumentGlobal",Vn.key="remoteDocumentGlobalKey";var zn=function(e,t,n,r,o,i,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=i,this.query=s};zn.store="targets",zn.keyPath="targetId",zn.queryTargetsIndexName="queryTargetsIndex",zn.queryTargetsKeyPath=["canonicalId","targetId"];var Hn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Hn.store="targetDocuments",Hn.keyPath=["targetId","path"],Hn.documentTargetsIndex="documentTargetsIndex",Hn.documentTargetsKeyPath=["path","targetId"];var Wn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Wn.key="targetGlobalKey",Wn.store="targetGlobal";var Gn=function(e,t){this.collectionId=e,this.parent=t};Gn.store="collectionParents",Gn.keyPath=["collectionId","parent"];var Kn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Kn.store="clientMetadata",Kn.keyPath="clientId";var $n=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};$n.store="bundles",$n.keyPath="bundleId";var Qn=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Qn.store="namedQueries",Qn.keyPath="name";var Yn=Object(r.d)(Object(r.d)([],Object(r.d)(Object(r.d)([],Object(r.d)(Object(r.d)([],Object(r.d)(Object(r.d)([],[Ln.store,Mn.store,Fn.store,Bn.store,zn.store,Dn.store,Wn.store,Hn.store]),[Kn.store])),[Vn.store])),[Gn.store])),[$n.store,Qn.store]),Xn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jn=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Zn=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},er=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&v(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,o){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,o)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,o)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,o=0,i=!1;t.forEach((function(t){++r,t.next((function(){++o,i&&o===r&&e()}),(function(e){return n(e)}))})),i=!0,o===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},o=0,i=t;o<i.length;o++)r(i[o]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,o){r.push(t.call(n,e,o))})),this.waitFor(r)},e}(),tr=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Zn,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new or(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=lr(t.target.error);n.ft.reject(new or(e,r))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(t){throw new or(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(f("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new sr(t)},e}(),nr=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(o.i)())&&p("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return f("SimpleDb","Removing database:",e),ar(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(o.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:void 0}))||void 0===t?void 0:t.Tt)},t.It=function(e,t){return e.store(t)},t._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(e){return Object(r.a)(this,void 0,void 0,(function(){var t,n=this;return Object(r.c)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(f("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var o=indexedDB.open(n.name,n.version);o.onsuccess=function(e){var n=e.target.result;t(n)},o.onblocked=function(){r(new or(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new l(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new or(e,n))},o.onupgradeneeded=function(e){f("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,o.transaction,e.oldVersion,n.version).next((function(){f("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},t.prototype.runTransaction=function(e,t,n,o){return Object(r.a)(this,void 0,void 0,(function(){var i,s,a,u,l;return Object(r.c)(this,(function(c){switch(c.label){case 0:i="readonly"===t,s=0,a=function(){var t,a,l,c,d;return Object(r.c)(this,(function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=r.sent(),t=tr.open(u.db,e,i?"readonly":"readwrite",n),a=o(t).catch((function(e){return t.abort(e),er.reject(e)})).toPromise(),l={},a.catch((function(){})),[4,t.dt];case 3:return[2,(l.value=(r.sent(),a),l)];case 4:return c=r.sent(),d="FirebaseError"!==c.name&&s<3,f("SimpleDb","Transaction failed with error:",c.message,"Retrying:",d),u.close(),d?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(l=c.sent()))return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),rr=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return ar(this.Pt.delete())},e}(),or=function(e){function t(t,n){var r=this;return(r=e.call(this,u.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.b)(t,e),t}(l);function ir(e){return"IndexedDbTransactionError"===e.name}var sr=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(f("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ar(n)},e.prototype.add=function(e){return f("SimpleDb","ADD",this.store.name,e,e),ar(this.store.add(e))},e.prototype.get=function(e){var t=this;return ar(this.store.get(e)).next((function(n){return void 0===n&&(n=null),f("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return f("SimpleDb","DELETE",this.store.name,e),ar(this.store.delete(e))},e.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),ar(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new er((function(n,r){t.onerror=function(e){var t=lr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new er((function(r,o){e.onerror=function(e){o(e.target.error)},e.onsuccess=function(e){var o=e.target.result;if(o){var i=new rr(o),s=t(o.primaryKey,o.value,i);if(s instanceof er){var a=s.catch((function(e){return i.done(),er.reject(e)}));n.push(a)}i.isDone?r():null===i.Dt?o.continue():o.continue(i.Dt)}else r()}})).next((function(){return er.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function ar(e){return new er((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=lr(e.target.error);n(t)}}))}var ur=!1;function lr(e){var t=nr._t(Object(o.i)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new l("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ur||(ur=!0,setTimeout((function(){throw r}),0)),r}}return e}var cr=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Object(r.b)(t,e),t}(Jn);function dr(e,t){var n=y(e);return nr.It(n.Mt,t)}var fr=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(e.key)&&ct(o,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(i=n[t]).key.isEqual(e.key)&&dt(i,e,this.localWriteTime);for(var r=0,o=this.mutations;r<o.length;r++){var i;(i=o[r]).key.isEqual(e.key)&&dt(i,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),o=r;t.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(S.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),qt())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&_(this.mutations,e.mutations,(function(e,t){return pt(e,t)}))&&_(this.baseMutations,e.baseMutations,(function(e,t){return pt(e,t)}))},e}(),pr=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){g(t.mutations.length===r.length);for(var o=Mt(),i=t.mutations,s=0;s<i.length;s++)o=o.insert(i[s].key,r[s].version);return new e(t,n,r,o)},e}(),hr=function(){function e(e,t,n,r,o,i,s){void 0===o&&(o=S.min()),void 0===i&&(i=S.min()),void 0===s&&(s=N.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),mr=function(e){this.Lt=e};function vr(e,t){if(t.document)return hn(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=H.fromSegments(t.noDocument.path),r=wr(t.noDocument.readTime),o=se.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var i=H.fromSegments(t.unknownDocument.path);return r=wr(t.unknownDocument.version),se.newUnknownDocument(i,r)}return v()}function gr(e,t,n){var r=yr(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:an(e,t.key),fields:t.data.value.mapValue.fields,updateTime:en(e,t.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new Bn(null,null,i,s,r,o)}if(t.isNoDocument()){var a=t.key.path.toArray(),u=jr(t.version);return s=t.hasCommittedMutations,new Bn(null,new qn(a,u),null,s,r,o)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),c=jr(t.version);return new Bn(new Un(l,c),null,null,!0,r,o)}return v()}function yr(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function br(e){var t=new E(e[0],e[1]);return S.fromTimestamp(t)}function jr(e){var t=e.toTimestamp();return new Nn(t.seconds,t.nanoseconds)}function wr(e){var t=new E(e.seconds,e.nanoseconds);return S.fromTimestamp(t)}function _r(e,t){for(var n=(t.baseMutations||[]).map((function(t){return vn(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var i=t.mutations[r+1];o.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var s=t.mutations.map((function(t){return vn(e.Lt,t)})),a=E.fromMillis(t.localWriteTimeMs);return new fr(t.batchId,a,n,s)}function xr(e){var t,n,r=wr(e.readTime),o=void 0!==e.lastLimboFreeSnapshotVersion?wr(e.lastLimboFreeSnapshotVersion):S.min();return void 0!==e.query.documents?(g(1===(n=e.query).documents.length),t=Le(Ce(cn(n.documents[0])))):t=function(e){return Le(bn(e))}(e.query),new hr(t,e.targetId,0,e.lastListenSequenceNumber,r,o,N.fromBase64String(e.resumeToken))}function Er(e,t){var n,r=jr(t.snapshotVersion),o=jr(t.lastLimboFreeSnapshotVersion);n=de(t.target)?gn(e.Lt,t.target):yn(e.Lt,t.target);var i=t.resumeToken.toBase64();return new zn(t.targetId,le(t.target),r,i,t.sequenceNumber,o,n)}function Sr(e){var t=bn({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Me(t,t.limit,"L"):t}var Or=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return kr(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:wr(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return kr(e).put({bundleId:(n=t).id,createTime:jr(rn(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Tr(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Sr(t.bundledQuery),readTime:wr(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Tr(e).put(function(e){return{name:e.name,readTime:jr(rn(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function kr(e){return dr(e,$n.store)}function Tr(e){return dr(e,Qn.store)}var Cr=function(){function e(){this.Bt=new Ir}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),er.resolve()},e.prototype.getCollectionParents=function(e,t){return er.resolve(this.Bt.getEntries(t))},e}(),Ir=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new It(I.comparator),o=!r.has(n);return this.index[t]=r.add(n),o},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new It(I.comparator)).toArray()},e}(),Ar=function(){function e(){this.qt=new Ir}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var i={collectionId:r,parent:In(o)};return Rr(e).put(i)}return er.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[x(t),""],!1,!0);return Rr(e).Nt(r).next((function(e){for(var r=0,o=e;r<o.length;r++){var i=o[r];if(i.collectionId!==t)break;n.push(Pn(i.parent))}return n}))},e}();function Rr(e){return dr(e,Gn.store)}var Pr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nr=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Dr(e,t,n){var r=e.store(Mn.store),o=e.store(Fn.store),i=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},(function(e,t,n){return a++,n.delete()}));i.push(u.next((function(){g(1===a)})));for(var l=[],c=0,d=n.mutations;c<d.length;c++){var f=d[c],p=Fn.key(t,f.key.path,n.batchId);i.push(o.delete(p)),l.push(f.key)}return er.waitFor(i).next((function(){return l}))}function Lr(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw v();t=e.noDocument}return JSON.stringify(t).length}Nr.DEFAULT_COLLECTION_PERCENTILE=10,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nr.DEFAULT=new Nr(41943040,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nr.DISABLED=new Nr(-1,0,0);var Mr=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,o){return g(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qr(e).$t({index:Mn.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var o=this,i=Ur(e),s=qr(e);return s.add({}).next((function(a){g("number"==typeof a);for(var u=new fr(a,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return mn(e.Lt,t)})),o=n.mutations.map((function(t){return mn(e.Lt,t)}));return new Mn(t,n.batchId,n.localWriteTime.toMillis(),r,o)}(o.R,o.userId,u),c=[],d=new It((function(e,t){return w(e.canonicalString(),t.canonicalString())})),f=0,p=r;f<p.length;f++){var h=p[f],m=Fn.key(o.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(s.put(l)),c.push(i.put(m,Fn.PLACEHOLDER))}return d.forEach((function(t){c.push(o.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){o.Kt[a]=u.keys()})),er.waitFor(c).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return qr(e).get(t).next((function(e){return e?(g(e.userId===n.userId),_r(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?er.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]),i=null;return qr(e).$t({index:Mn.userMutationsIndex,range:o},(function(e,t,o){t.userId===n.userId&&(g(t.batchId>=r),i=_r(n.R,t)),o.done()})).next((function(){return i}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return qr(e).$t({index:Mn.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qr(e).Nt(Mn.userMutationsIndex,n).next((function(e){return e.map((function(e){return _r(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Fn.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),i=[];return Ur(e).$t({range:o},(function(r,o,s){var a=r[0],u=r[1],l=r[2],c=Pn(u);if(a===n.userId&&t.path.isEqual(c))return qr(e).get(l).next((function(e){if(!e)throw v();g(e.userId===n.userId),i.push(_r(n.R,e))}));s.done()})).next((function(){return i}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new It(w),o=[];return t.forEach((function(t){var i=Fn.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(i),a=Ur(e).$t({range:s},(function(e,o,i){var s=e[0],a=e[1],u=e[2],l=Pn(a);s===n.userId&&t.path.isEqual(l)?r=r.add(u):i.done()}));o.push(a)})),er.waitFor(o).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,o=r.length+1,i=Fn.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(i),a=new It(w);return Ur(e).$t({range:s},(function(e,t,i){var s=e[0],u=e[1],l=e[2],c=Pn(u);s===n.userId&&r.isPrefixOf(c)?c.length===o&&(a=a.add(l)):i.done()})).next((function(){return n.Wt(e,a)}))},e.prototype.Wt=function(e,t){var n=this,r=[],o=[];return t.forEach((function(t){o.push(qr(e).get(t).next((function(e){if(null===e)throw v();g(e.userId===n.userId),r.push(_r(n.R,e))})))})),er.waitFor(o).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Dr(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),er.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return er.resolve();var r=IDBKeyRange.lowerBound(Fn.prefixForUser(t.userId)),o=[];return Ur(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var i=Pn(e[1]);o.push(i)}else r.done()})).next((function(){g(0===o.length)}))}))},e.prototype.containsKey=function(e,t){return Fr(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Br(e).get(this.userId).next((function(e){return e||new Ln(t.userId,-1,"")}))},e}();function Fr(e,t,n){var r=Fn.prefixForPath(t,n.path),o=r[1],i=IDBKeyRange.lowerBound(r),s=!1;return Ur(e).$t({range:i,kt:!0},(function(e,n,r){var i=e[0],a=e[1];e[2],i===t&&a===o&&(s=!0),r.done()})).next((function(){return s}))}function qr(e){return dr(e,Mn.store)}function Ur(e){return dr(e,Fn.store)}function Br(e){return dr(e,Ln.store)}var Vr=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),zr=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Vr(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return S.fromTimestamp(new E(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(o){return o.highestListenSequenceNumber=t,n&&(o.lastRemoteSnapshotVersion=n.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),r.Zt(e,o)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Hr(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return g(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,i=[];return Hr(e).$t((function(s,a){var u=xr(a);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(o++,i.push(r.removeTargetData(e,u)))})).next((function(){return er.waitFor(i)})).next((function(){return o}))},e.prototype.forEachTarget=function(e,t){return Hr(e).$t((function(e,n){var r=xr(n);t(r)}))},e.prototype.Xt=function(e){return Wr(e).get(Wn.key).next((function(e){return g(null!==e),e}))},e.prototype.Zt=function(e,t){return Wr(e).put(Wn.key,t)},e.prototype.te=function(e,t){return Hr(e).put(Er(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=le(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),o=null;return Hr(e).$t({range:r,index:zn.queryTargetsIndexName},(function(e,n,r){var i=xr(n);ce(t,i.target)&&(o=i,r.done())})).next((function(){return o}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,o=[],i=Gr(e);return t.forEach((function(t){var s=In(t.path);o.push(i.put(new Hn(n,s))),o.push(r.referenceDelegate.addReference(e,n,t))})),er.waitFor(o)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,o=Gr(e);return er.forEach(t,(function(t){var i=In(t.path);return er.waitFor([o.delete([n,i]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Gr(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Gr(e),o=qt();return r.$t({range:n,kt:!0},(function(e,t,n){var r=Pn(e[1]),i=new H(r);o=o.add(i)})).next((function(){return o}))},e.prototype.containsKey=function(e,t){var n=In(t.path),r=IDBKeyRange.bound([n],[x(n)],!1,!0),o=0;return Gr(e).$t({index:Hn.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(o++,n.done())})).next((function(){return o>0}))},e.prototype.lt=function(e,t){return Hr(e).get(t).next((function(e){return e?xr(e):null}))},e}();function Hr(e){return dr(e,zn.store)}function Wr(e){return dr(e,Wn.store)}function Gr(e){return dr(e,Hn.store)}function Kr(e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){if(e.code!==u.FAILED_PRECONDITION||e.message!==Xn)throw e;return f("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function $r(e,t){var n=e[0],r=e[1],o=t[0],i=t[1],s=w(n,o);return 0===s?w(r,i):s}var Qr=function(){function e(e){this.ne=e,this.buffer=new It($r),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();$r(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Yr=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(r.a)(t,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ir(t=n.sent())?(f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Kr(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Xr=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return er.resolve(a.o);var r=new Qr(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; disabled"),er.resolve(Pr)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Pr):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,o,s,a,u,l,c=this,p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return o=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return l=Date.now(),d()<=i.a.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-p)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+o+" targets in "+(u-a)+"ms\n\tRemoved "+e+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-p)+"ms"),er.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})}))},e}(),Jr=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Xr(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Zr(e,n)},e.prototype.removeReference=function(e,t,n){return Zr(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Zr(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Br(e).Ot((function(r){return Fr(e,r,t).next((function(e){return e&&(n=!0),er.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],i=0;return this.we(e,(function(s,a){if(a<=t){var u=n._e(e,s).next((function(t){if(!t)return i++,r.getEntry(e,s).next((function(){return r.removeEntry(s),Gr(e).delete([0,In(s.path)])}))}));o.push(u)}})).next((function(){return er.waitFor(o)})).next((function(){return r.apply(e)})).next((function(){return i}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Zr(e,t)},e.prototype.we=function(e,t){var n,r=Gr(e),o=a.o;return r.$t({index:Hn.documentTargetsIndex},(function(e,r){var i=e[0];e[1];var s=r.path,u=r.sequenceNumber;0===i?(o!==a.o&&t(new H(Pn(n)),o),o=u,n=s):o=a.o})).next((function(){o!==a.o&&t(new H(Pn(n)),o)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Zr(e,t){return Gr(e).put(function(e,t){return new Hn(0,In(e.path),t)}(t,e.currentSequenceNumber))}var eo=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var i=o[r],s=i[0],a=i[1];if(this.equalsFn(s,e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){k(this.inner,(function(t,n){for(var r=0,o=n;r<o.length;r++){var i=o[r],s=i[0],a=i[1];e(s,a)}}))},e.prototype.isEmpty=function(){return T(this.inner)},e}(),to=function(){function e(){this.changes=new eo((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:S.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:se.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?er.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),no=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return io(e).put(so(t),n)},e.prototype.removeEntry=function(e,t){var n=io(e),r=so(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return io(e).get(so(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return io(e).get(so(t)).next((function(e){return{document:n.ye(t,e),size:Lr(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Pt();return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Pt(),o=new kt(H.comparator);return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i),o=o.insert(e,Lr(t))})).next((function(){return{documents:r,Te:o}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return er.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),o=t.getIterator(),i=o.getNext();return io(e).$t({range:r},(function(e,t,r){for(var s=H.fromSegments(e);i&&H.comparator(i,s)<0;)n(i,null),i=o.getNext();i&&i.isEqual(s)&&(n(i,t),i=o.hasNext()?o.getNext():null),i?r.Ct(i.path.toArray()):r.done()})).next((function(){for(;i;)n(i,null),i=o.hasNext()?o.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,o=Pt(),i=t.path.length+1,s={};if(n.isEqual(S.min())){var a=t.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=t.path.toArray(),l=yr(n);s.range=IDBKeyRange.lowerBound([u,l],!0),s.index=Bn.collectionReadTimeIndex}return io(e).$t(s,(function(e,n,s){if(e.length===i){var a=vr(r.R,n);t.path.isPrefixOf(a.key.path)?Be(t,a)&&(o=o.insert(a.key,a)):s.done()}})).next((function(){return o}))},e.prototype.newChangeBuffer=function(e){return new ro(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return oo(e).get(Vn.key).next((function(e){return g(!!e),e}))},e.prototype.me=function(e,t){return oo(e).put(Vn.key,t)},e.prototype.ye=function(e,t){if(t){var n=vr(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(S.min()))return n}return se.newInvalidDocument(e)},e}(),ro=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new eo((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Object(r.b)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,o=new It((function(e,t){return w(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(i,s){var a=t.Ae.get(i);if(s.document.isValidDocument()){var u=gr(t.Ie.R,s.document,t.getReadTime(i));o=o.add(i.path.popLast());var l=Lr(u);r+=l-a,n.push(t.Ie.addEntry(e,i,u))}else if(r-=a,t.trackRemovals){var c=gr(t.Ie.R,se.newNoDocument(i,S.min()),t.getReadTime(i));n.push(t.Ie.addEntry(e,i,c))}else n.push(t.Ie.removeEntry(e,i))})),o.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),er.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(to);function oo(e){return dr(e,Vn.store)}function io(e){return dr(e,Bn.store)}function so(e){return e.path.toArray()}var ao=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var o=this;g(n<r&&n>=0&&r<=11);var i=new tr("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Dn.store)}(e),function(e){e.createObjectStore(Ln.store,{keyPath:Ln.keyPath}),e.createObjectStore(Mn.store,{keyPath:Mn.keyPath,autoIncrement:!0}).createIndex(Mn.userMutationsIndex,Mn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Fn.store)}(e),uo(e),function(e){e.createObjectStore(Bn.store)}(e));var s=er.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Hn.store),e.deleteObjectStore(zn.store),e.deleteObjectStore(Wn.store)}(e),uo(e)),s=s.next((function(){return function(e){var t=e.store(Wn.store),n=new Wn(0,0,S.min().toTimestamp(),0);return t.put(Wn.key,n)}(i)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(e,t){return t.store(Mn.store).Nt().next((function(n){e.deleteObjectStore(Mn.store),e.createObjectStore(Mn.store,{keyPath:Mn.keyPath,autoIncrement:!0}).createIndex(Mn.userMutationsIndex,Mn.userMutationsKeyPath,{unique:!0});var r=t.store(Mn.store),o=n.map((function(e){return r.put(e)}));return er.waitFor(o)}))}(e,i)}))),s=s.next((function(){!function(e){e.createObjectStore(Kn.store,{keyPath:Kn.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((function(){return o.Re(i)}))),n<6&&r>=6&&(s=s.next((function(){return function(e){e.createObjectStore(Vn.store)}(e),o.be(i)}))),n<7&&r>=7&&(s=s.next((function(){return o.ve(i)}))),n<8&&r>=8&&(s=s.next((function(){return o.Pe(e,i)}))),n<9&&r>=9&&(s=s.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Bn.store);t.createIndex(Bn.readTimeIndex,Bn.readTimeIndexPath,{unique:!1}),t.createIndex(Bn.collectionReadTimeIndex,Bn.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((function(){return o.Ve(i)}))),n<11&&r>=11&&(s=s.next((function(){!function(e){e.createObjectStore($n.store,{keyPath:$n.keyPath})}(e),function(e){e.createObjectStore(Qn.store,{keyPath:Qn.keyPath})}(e)}))),s},e.prototype.be=function(e){var t=0;return e.store(Bn.store).$t((function(e,n){t+=Lr(n)})).next((function(){var n=new Vn(t);return e.store(Vn.store).put(Vn.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Ln.store),r=e.store(Mn.store);return n.Nt().next((function(n){return er.forEach(n,(function(n){var o=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Mn.userMutationsIndex,o).next((function(r){return er.forEach(r,(function(r){g(r.userId===n.userId);var o=_r(t.R,r);return Dr(e,n.userId,o).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Hn.store),n=e.store(Bn.store);return e.store(Wn.store).get(Wn.key).next((function(e){var r=[];return n.$t((function(n,o){var i=new I(n),s=function(e){return[0,In(e)]}(i);r.push(t.get(s).next((function(n){return n?er.resolve():function(n){return t.put(new Hn(0,In(n),e.highestListenSequenceNumber))}(i)})))})).next((function(){return er.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Gn.store,{keyPath:Gn.keyPath});var n=t.store(Gn.store),r=new Ir,o=function(e){if(r.add(e)){var t=e.lastSegment(),o=e.popLast();return n.put({collectionId:t,parent:In(o)})}};return t.store(Bn.store).$t({kt:!0},(function(e,t){var n=new I(e);return o(n.popLast())})).next((function(){return t.store(Fn.store).$t({kt:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Pn(n);return o(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(zn.store);return n.$t((function(e,r){var o=xr(r),i=Er(t.R,o);return n.put(i)}))},e}();function uo(e){e.createObjectStore(Hn.store,{keyPath:Hn.keyPath}).createIndex(Hn.documentTargetsIndex,Hn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(zn.store,{keyPath:zn.keyPath}).createIndex(zn.queryTargetsIndexName,zn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Wn.store)}var lo="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",co=function(){function e(t,n,r,o,i,s,a,c,d,f){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=i,this.window=s,this.document=a,this.De=d,this.Ce=f,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new l(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jr(this,o),this.Le=n+"main",this.R=new mr(c),this.Be=new nr(this.Le,11,new ao(this.R)),this.qe=new zr(this.referenceDelegate,this.R),this.Ut=new Ar,this.Ue=function(e,t){return new no(e,t)}(this.R,this.Ut),this.Ke=new Or,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===f&&p("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new l(u.FAILED_PRECONDITION,lo);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new a(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Object(r.a)(t,void 0,void 0,(function(){return Object(r.c)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Object(r.a)(t,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Object(r.a)(t,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return po(t).put(new Kn(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(ir(t))return f("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return fo(e).get(Dn.key).next((function(e){return er.resolve(t.tn(e))}))},e.prototype.en=function(e){return po(e).delete(this.clientId)},e.prototype.nn=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t,n,o,i=this;return Object(r.c)(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=dr(e,Kn.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return er.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)o=n[t],this.Qe.removeItem(this.on(o.clientId));r.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?er.resolve(!0):fo(e).get(Dn.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new l(u.FAILED_PRECONDITION,lo);return!1}}return!(!t.networkEnabled||!t.inForeground)||po(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,o=t.networkEnabled===e.networkEnabled;if(n||r&&o)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&f("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Object(r.a)(this,void 0,void 0,(function(){var e=this;return Object(r.c)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Dn.store,Kn.store],(function(t){var n=new cr(t,a.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return po(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Mr.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;f("IndexedDbPersistence","Starting transaction:",e);var o,i="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,i,Yn,(function(i){return o=new cr(i,r.Ne?r.Ne.next():a.o),"readwrite-primary"===t?r.Je(o).next((function(e){return!!e||r.Ye(o)})).next((function(t){if(!t)throw p("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new l(u.FAILED_PRECONDITION,Xn);return n(o)})).next((function(e){return r.Ze(o).next((function(){return e}))})):r.dn(o).next((function(){return n(o)}))})).then((function(e){return o.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return fo(e).get(Dn.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new l(u.FAILED_PRECONDITION,lo)}))},e.prototype.Ze=function(e){var t=new Dn(this.clientId,this.allowTabSynchronization,Date.now());return fo(e).put(Dn.key,t)},e.yt=function(){return nr.yt()},e.prototype.Xe=function(e){var t=this,n=fo(e);return n.get(Dn.key).next((function(e){return t.tn(e)?(f("IndexedDbPersistence","Releasing primary lease."),n.delete(Dn.key)):er.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(p("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),Object(o.q)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return f("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return p("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){p("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function fo(e){return dr(e,Dn.store)}function po(e){return dr(e,Kn.store)}function ho(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var mo=function(e,t){this.progress=e,this.wn=t},vo=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,o=t;r<o.length;r++)o[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return H.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Ne(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new H(t)).next((function(e){var t=Dt();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,o=t.collectionGroup,i=Dt();return this.Ut.getCollectionParents(e,o).next((function(s){return er.forEach(s,(function(s){var a=function(e,t){return new ke(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(o));return r.An(e,a,n).next((function(e){e.forEach((function(e,t){i=i.insert(e,t)}))}))})).next((function(){return i}))}))},e.prototype.An=function(e,t,n){var r,o,i=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,i._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return o=t,i.Rn(e,o,r).next((function(e){r=e;for(var t=0,n=o;t<n.length;t++)for(var i=n[t],s=0,a=i.mutations;s<a.length;s++){var u=a[s],l=u.key,c=r.get(l);null==c&&(c=se.newInvalidDocument(l),r=r.insert(l,c)),dt(u,c,i.localWriteTime),c.isFoundDocument()||(r=r.remove(l))}}))})).next((function(){return r.forEach((function(e,n){Be(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=qt(),o=0,i=t;o<i.length;o++)for(var s=0,a=i[o].mutations;s<a.length;s++){var u=a[s];u instanceof vt&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(l=l.insert(e,t))})),l}))},e}(),go=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=qt(),o=qt(),i=0,s=n.docChanges;i<s.length;i++){var a=s[i];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),yo=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var o=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(S.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(s){var a=o.Cn(t,s);return(Ie(t)||Ae(t))&&o.Nn(t.limitType,a,r,n)?o.Dn(e,t):(d()<=i.a.DEBUG&&f("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ue(t)),o.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new It(Ve(e));return t.forEach((function(t,r){Be(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var o="F"===e?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return d()<=i.a.DEBUG&&f("QueryEngine","Using full collection scan to execute query:",Ue(t)),this.Sn.getDocumentsMatchingQuery(e,t,S.min())},e}(),bo=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new kt(w),this.kn=new eo((function(e){return le(e)}),ce),this.$n=S.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new vo(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function jo(e,t,n,r){return new bo(e,t,n,r)}function wo(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,s;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=y(e),o=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var r;return n._n.getAllMutationBatches(e).next((function(s){return r=s,o=n.persistence.getMutationQueue(t),i=new vo(n.On,o,n.persistence.getIndexManager()),o.getAllMutationBatches(e)})).next((function(t){for(var n=[],o=[],s=qt(),a=0,u=r;a<u.length;a++){var l=u[a];n.push(l.batchId);for(var c=0,d=l.mutations;c<d.length;c++){var f=d[c];s=s.add(f.key)}}for(var p=0,h=t;p<h.length;p++){var m=h[p];o.push(m.batchId);for(var v=0,g=m.mutations;v<g.length;v++){var y=g[v];s=s.add(y.key)}}return i.pn(e,s).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:o}}))}))}))];case 1:return s=r.sent(),[2,(n._n=o,n.Mn=i,n.xn.Vn(n.Mn),s)]}}))}))}function _o(e,t){var n=y(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var o=n.batch,i=o.keys(),s=er.resolve();return i.forEach((function(e){s=s.next((function(){return r.getEntry(t,e)})).next((function(t){var i=n.docVersions.get(e);g(null!==i),t.version.compareTo(i)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),s.next((function(){return e._n.removeMutationBatch(t,o)}))}(n,e,t,o).next((function(){return o.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function xo(e){var t=y(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Eo(e,t){var n=y(e),r=t.snapshotVersion,o=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var i=n.On.newChangeBuffer({trackRemovals:!0});o=n.Fn;var s=[];t.targetChanges.forEach((function(t,i){var a=o.get(i);if(a){s.push(n.qe.removeMatchingKeys(e,t.removedDocuments,i).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,i)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var l=a.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);o=o.insert(i,l),function(e,t,n){return g(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,l,t)&&s.push(n.qe.updateTargetData(e,l))}}}));var a=Pt();if(t.documentUpdates.forEach((function(r,o){t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(So(e,i,t.documentUpdates,r,void 0).next((function(e){a=e}))),!r.isEqual(S.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));s.push(u)}return er.waitFor(s).next((function(){return i.apply(e)})).next((function(){return n.Mn.En(e,a)})).next((function(){return a}))})).then((function(e){return n.Fn=o,e}))}function So(e,t,n,r,o){var i=qt();return n.forEach((function(e){return i=i.add(e)})),t.getEntries(e,i).next((function(e){var i=Pt();return n.forEach((function(n,s){var a=e.get(n),u=(null==o?void 0:o.get(n))||r;s.isNoDocument()&&s.version.isEqual(S.min())?(t.removeEntry(n,u),i=i.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s,u),i=i.insert(n,s)):f("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),i}))}function Oo(e,t){var n=y(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function ko(e,t){var n=y(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(o){return o?(r=o,er.resolve(r)):n.qe.allocateTargetId(e).next((function(o){return r=new hr(t,o,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function To(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i,s,a;return Object(r.c)(this,(function(r){switch(r.label){case 0:o=y(e),i=o.Fn.get(t),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,o.persistence.runTransaction("Release target",s,(function(e){return o.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!ir(a=r.sent()))throw a;return f("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return o.Fn=o.Fn.remove(t),o.kn.delete(i.target),[2]}}))}))}function Co(e,t,n){var r=y(e),o=S.min(),i=qt();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=y(e),o=r.kn.get(n);return void 0!==o?er.resolve(r.Fn.get(o)):r.qe.getTargetData(t,n)}(r,e,Le(t)).next((function(t){if(t)return o=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){i=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?o:S.min(),n?i:qt())})).next((function(e){return{documents:e,Bn:i}}))}))}function Io(e,t){var n=y(e),r=y(n.qe),o=n.Fn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Ao(e){var t=y(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=y(e),o=Pt(),i=yr(n),s=io(t),a=IDBKeyRange.lowerBound(i,!0);return s.$t({index:Bn.readTimeIndex,range:a},(function(e,t){var n=vr(r.R,t);o=o.insert(n.key,n),i=t.readTime})).next((function(){return{wn:o,readTime:br(i)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Ro(e){return Object(r.a)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){return[2,(t=y(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=io(e),n=S.min();return t.$t({index:Bn.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=br(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function Po(e,t,n,o){return Object(r.a)(this,void 0,void 0,(function(){var i,s,a,u,l,c,d,f,p,h;return Object(r.c)(this,(function(r){switch(r.label){case 0:for(i=y(e),s=qt(),a=Pt(),u=Mt(),l=0,c=n;l<c.length;l++)d=c[l],f=t.qn(d.metadata.name),d.document&&(s=s.add(f)),a=a.insert(f,t.Un(d)),u=u.insert(f,t.Kn(d.metadata.readTime));return p=i.On.newChangeBuffer({trackRemovals:!0}),[4,ko(i,function(e){return Le(Ce(I.fromString("__bundle__/docs/"+e)))}(o))];case 1:return h=r.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return So(e,p,a,S.min(),u).next((function(t){return p.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,h.targetId).next((function(){return i.qe.addMatchingKeys(e,s,h.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function No(e,t,n){return void 0===n&&(n=qt()),Object(r.a)(this,void 0,void 0,(function(){var o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,ko(e,Le(Sr(t.bundledQuery)))];case 1:return o=r.sent(),[2,(i=y(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var r=rn(t.readTime);if(o.snapshotVersion.compareTo(r)>=0)return i.Ke.saveNamedQuery(e,t);var s=o.withResumeToken(N.EMPTY_BYTE_STRING,r);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(e,s).next((function(){return i.qe.removeMatchingKeysForTargetId(e,o.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,o.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var Do=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return er.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:rn(n.createTime)}),er.resolve()},e.prototype.getNamedQuery=function(e,t){return er.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Sr(e.bundledQuery),readTime:rn(e.readTime)}}(t)),er.resolve()},e}(),Lo=function(){function e(){this.Wn=new It(Mo.Gn),this.zn=new It(Mo.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Mo(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Mo(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new H(new I([])),r=new Mo(n,e),o=new Mo(n,e+1),i=[];return this.zn.forEachInRange([r,o],(function(e){t.Yn(e),i.push(e.key)})),i},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new H(new I([])),n=new Mo(t,e),r=new Mo(t,e+1),o=qt();return this.zn.forEachInRange([n,r],(function(e){o=o.add(e.key)})),o},e.prototype.containsKey=function(e){var t=new Mo(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Mo=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return H.comparator(e.key,t.key)||w(e.ns,t.ns)},e.Hn=function(e,t){return w(e.ns,t.ns)||H.comparator(e.key,t.key)},e}(),Fo=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new It(Mo.Gn)}return e.prototype.checkEmpty=function(e){return er.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var i=new fr(o,t,n,r);this._n.push(i);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Mo(u.key,o)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return er.resolve(i)},e.prototype.lookupMutationBatch=function(e,t){return er.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),o=r<0?0:r;return er.resolve(this._n.length>o?this._n[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return er.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return er.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Mo(t,0),o=new Mo(t,Number.POSITIVE_INFINITY),i=[];return this.rs.forEachInRange([r,o],(function(e){var t=n.os(e.ns);i.push(t)})),er.resolve(i)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new It(w);return t.forEach((function(e){var t=new Mo(e,0),o=new Mo(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,o],(function(e){r=r.add(e.ns)}))})),er.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,o=n;H.isDocumentKey(o)||(o=o.child(""));var i=new Mo(new H(o),0),s=new It(w);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ns)),!0)}),i),er.resolve(this.us(s))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;g(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return er.forEach(t.mutations,(function(o){var i=new Mo(o.key,t.batchId);return r=r.delete(i),n.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Mo(t,0),r=this.rs.firstAfterOrEqual(n);return er.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,er.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),qo=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new kt(H.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,o=this.docs.get(r),i=o?o.size:0,s=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:s,readTime:n}),this.size+=s-i,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return er.resolve(n?n.document.clone():se.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Pt();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():se.newInvalidDocument(e))})),er.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Pt(),o=new H(t.path.child("")),i=this.docs.getIteratorFrom(o);i.hasNext();){var s=i.getNext(),a=s.key,u=s.value,l=u.document,c=u.readTime;if(!t.path.isPrefixOf(a.path))break;c.compareTo(n)<=0||Be(t,l)&&(r=r.insert(l.key,l.clone()))}return er.resolve(r)},e.prototype.fs=function(e,t){return er.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Uo(this)},e.prototype.getSize=function(e){return er.resolve(this.size)},e}(),Uo=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Object(r.b)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,o){o.document.isValidDocument()?n.push(t.Ie.addEntry(e,o.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),er.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(to),Bo=function(){function e(e){this.persistence=e,this.ds=new eo((function(e){return le(e)}),ce),this.lastRemoteSnapshotVersion=S.min(),this.highestTargetId=0,this.ws=0,this._s=new Lo,this.targetCount=0,this.ys=Vr.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),er.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return er.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return er.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),er.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),er.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Vr(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,er.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),er.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,er.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,i=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r.ds.delete(s),i.push(r.removeMatchingKeysForTargetId(e,a.targetId)),o++)})),er.waitFor(i).next((function(){return o}))},e.prototype.getTargetCount=function(e){return er.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return er.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),er.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((function(t){o.push(r.markPotentiallyOrphaned(e,t))})),er.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),er.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return er.resolve(n)},e.prototype.containsKey=function(e,t){return er.resolve(this._s.containsKey(t))},e}(),Vo=function(){function e(e,t){var n=this;this.gs={},this.Ne=new a(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Bo(this),this.Ut=new Cr,this.Ue=function(e,t){return new qo(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new mr(t),this.Ke=new Do(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Fo(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;f("MemoryPersistence","Starting transaction:",e);var o=new zo(this.Ne.next());return this.referenceDelegate.Es(),n(o).next((function(e){return r.referenceDelegate.Ts(o).next((function(){return e}))})).toPromise().then((function(e){return o.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return er.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),zo=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Object(r.b)(t,e),t}(Jn),Ho=function(){function e(e){this.persistence=e,this.As=new Lo,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw v()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),er.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),er.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),er.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return er.forEach(this.vs,(function(r){var o=H.fromPath(r);return t.Ps(e,o).next((function(e){e||n.removeEntry(o)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return er.or([function(){return er.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Wo=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Go(e,t){return"firestore_clients_"+e+"_"+t}function Ko(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function $o(e,t){return"firestore_targets_"+e+"_"+t}Wo.UNAUTHENTICATED=new Wo(null),Wo.GOOGLE_CREDENTIALS=new Wo("google-credentials-uid"),Wo.FIRST_PARTY=new Wo("first-party-uid");var Qo=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var o,i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new l(i.error.code,i.error.message)),s?new e(t,n,i.state,o):(p("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Yo=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,o=JSON.parse(n),i="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return i&&o.error&&(i="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(r=new l(o.error.code,o.error.message)),i?new e(t,o.state,r):(p("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Xo=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),o="object"==typeof r&&r.activeTargetIds instanceof Array,i=Bt(),s=0;o&&s<r.activeTargetIds.length;++s)o=z(r.activeTargetIds[s]),i=i.add(r.activeTargetIds[s]);return o?new e(t,i):(p("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Jo=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(p("SharedClientState","Failed to parse online state: "+t),null)},e}(),Zo=function(){function e(){this.activeTargetIds=Bt()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),ei=function(){function e(e,t,n,r,o){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new kt(w),this.started=!1,this.$s=[];var i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=Go(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Zo),this.Ls=new RegExp("^firestore_clients_"+i+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+i+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+i+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t,n,o,i,s,a,u,l,c,d,f=this;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=r.sent(),t=0,n=e;t<n.length;t++)(o=n[t])!==this.Ns&&(i=this.getItem(Go(this.persistenceKey,o)))&&(s=Xo.Vs(o,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),l=0,c=this.$s;l<c.length;l++)d=c[l],this.Fs(d);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem($o(this.persistenceKey,e));if(n){var r=Yo.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem($o(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return f("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){f("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){f("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(f("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void p("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(r.a)(t,void 0,void 0,(function(){var e,t,o,i,s,u;return Object(r.c)(this,(function(r){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(o=this.si(n.key,n.newValue)))return[2,this.ii(o)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(u=function(e){var t=a.o;if(null!=e)try{var n=JSON.parse(e);g("number"==typeof n),t=n}catch(e){p("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==a.o&&this.sequenceNumberHandler(u);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Qo(this.currentUser,e,t,n),o=Ko(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Ss())},e.prototype.Hs=function(e){var t=Ko(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=$o(this.persistenceKey,e),o=new Yo(e,t,n);this.setItem(r,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Xo.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),o=void 0!==n[2]?n[2]:null;return Qo.Vs(new Wo(o),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Yo.Vs(r,t)},e.prototype.js=function(e){return Jo.Vs(e)},e.prototype.ii=function(e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(f("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),o=this.Gs(this.ks),i=this.Gs(r),s=[],a=[];return i.forEach((function(e){o.has(e)||s.push(e)})),o.forEach((function(e){i.has(e)||a.push(e)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Bt();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),ti=function(){function e(){this.li=new Zo,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Zo,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),ni=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),ri=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),oi={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ii=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),si=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Object(r.b)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(o,i){var a=new s.g;a.listenOnce(s.c.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case s.a.NO_ERROR:var t=a.getResponseJson();f("Connection","XHR received:",JSON.stringify(t)),o(t);break;case s.a.TIMEOUT:f("Connection",'RPC "'+e+'" timed out'),i(new l(u.DEADLINE_EXCEEDED,"Request time out"));break;case s.a.HTTP_ERROR:var n=a.getStatus();if(f("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(u).indexOf(t)>=0?t:u.UNKNOWN}(r.status);i(new l(c,r.message))}else i(new l(u.UNKNOWN,"Server responded with status "+a.getStatus()))}else i(new l(u.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{f("Connection",'RPC "'+e+'" completed.')}}));var c=JSON.stringify(r);a.send(t,"POST",c,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Object(s.h)(),i=Object(s.i)(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new s.d({})),this.Fi(a.initMessageHeaders,t),Object(o.n)()||Object(o.p)()||Object(o.l)()||Object(o.m)()||Object(o.r)()||Object(o.k)()||(a.httpHeadersOverwriteParam="$httpHeaders");var c=n.join("");f("Connection","Creating WebChannel: "+c,a);var d=r.createWebChannel(c,a),p=!1,m=!1,v=new ii({Ei:function(e){m?f("Connection","Not sending because WebChannel is closed:",e):(p||(f("Connection","Opening WebChannel transport."),d.open(),p=!0),f("Connection","WebChannel sending:",e),d.send(e))},Ti:function(){return d.close()}}),y=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return y(d,s.f.EventType.OPEN,(function(){m||f("Connection","WebChannel transport opened.")})),y(d,s.f.EventType.CLOSE,(function(){m||(m=!0,f("Connection","WebChannel transport closed"),v.Vi())})),y(d,s.f.EventType.ERROR,(function(e){m||(m=!0,h("Connection","WebChannel transport errored:",e),v.Vi(new l(u.UNAVAILABLE,"The operation could not be completed")))})),y(d,s.f.EventType.MESSAGE,(function(e){var t;if(!m){var n=e.data[0];g(!!n);var r=n,o=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(o){f("Connection","WebChannel received error:",o);var i=o.status,s=function(e){var t=jt[e];if(void 0!==t)return Ot(t)}(i),a=o.message;void 0===s&&(s=u.INTERNAL,a="Unknown error status: "+i+" with message "+o.message),m=!0,v.Vi(new l(s,a)),d.close()}else f("Connection","WebChannel received:",n),v.Si(n)}})),y(i,s.b.STAT_EVENT,(function(e){e.stat===s.e.PROXY?f("Connection","Detected buffering proxy"):e.stat===s.e.NOPROXY&&f("Connection","Detected no buffering proxy")})),setTimeout((function(){v.Pi()}),0),v},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var o=this.xi(e,t);f("RestConnection","Sending: ",o,n);var i={};return this.Fi(i,r),this.ki(e,o,i,n).then((function(e){return f("RestConnection","Received: ",e),e}),(function(t){throw h("RestConnection",e+" failed with error: ",t,"url: ",o,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=oi[e];return this.Di+"/v1/"+t+":"+n},e}());function ai(){return"undefined"!=typeof window?window:null}function ui(){return"undefined"!=typeof document?document:null}function li(e){return new Zt(e,!0)}var ci=function(){function e(e,t,n,r,o){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===o&&(o=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),o=Math.max(0,n-r);o>0&&f("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),di=function(){function e(e,t,n,r,o,i){this.Se=e,this.zi=n,this.Hi=r,this.Ji=o,this.listener=i,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ci(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===u.RESOURCE_EXHAUSTED?(p(t.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===u.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new l(u.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Object(r.a)(e,void 0,void 0,(function(){return Object(r.c)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return f("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),fi=function(e){function t(t,n,r,o,i){var s=this;return(s=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,i)||this).R=o,s}return Object(r.b)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:v()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.I?(g(void 0===t||"string"==typeof t),N.fromBase64String(t||"")):(g(void 0===t||t instanceof Uint8Array),N.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=(a=t.targetChange.cause)&&function(e){var t=void 0===e.code?u.UNKNOWN:Ot(e.code);return new l(t,e.message||"")}(a);n=new Gt(r,o,i,s||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,o=un(e,r.document.name),i=rn(r.document.updateTime);var a=new oe({mapValue:{fields:r.document.fields}}),c=(s=se.newFoundDocument(o,i,a),r.targetIds||[]),d=r.removedTargetIds||[];n=new Ht(c,d,s.key,s)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,o=un(e,r.document),i=r.readTime?rn(r.readTime):S.min(),a=se.newNoDocument(o,i),s=r.removedTargetIds||[],n=new Ht([],s,a.key,a);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,o=un(e,r.document),i=r.removedTargetIds||[],n=new Ht([],i,o,null);else{if(!("filter"in t))return v();t.filter;var f=t.filter;f.targetId,r=f.count||0,o=new Et(r),i=f.targetId,n=new Wt(i,o)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return S.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?S.min():t.readTime?rn(t.readTime):S.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=dn(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=de(r)?{documents:gn(e,r)}:{query:yn(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=tn(e,t.resumeToken):t.snapshotVersion.compareTo(S.min())>0&&(n.readTime=en(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return v()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=dn(this.R),t.removeTarget=e,this.cr(t)},t}(di),pi=function(e){function t(t,n,r,o,i){var s=this;return(s=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,i)||this).R=o,s.gr=!1,s}return Object(r.b)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(g(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(g(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?rn(e.updateTime):rn(t);return n.isEqual(S.min())&&(n=rn(t)),new st(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=rn(e.commitTime);return this.listener.Tr(n,t)}return g(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=dn(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return mn(t.R,e)}))};this.cr(n)},t}(di),hi=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).credentials=t,o.Hi=n,o.R=r,o.Rr=!1,o}return Object(r.b)(t,e),t.prototype.br=function(){if(this.Rr)throw new l(u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(o){return r.Hi.Ni(e,t,n,o)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new l(u.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(o){return r.Hi.$i(e,t,n,o)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new l(u.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),mi=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(p(t),this.Vr=!1):f("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),vi=function(e,t,n,o,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Object(r.a)(s,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return Si(this)?(f("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Object(r.a)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return(t=y(e)).Or.add(4),[4,yi(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,gi(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new mi(n,o)};function gi(e){return Object(r.a)(this,void 0,void 0,(function(){var t,n;return Object(r.c)(this,(function(r){switch(r.label){case 0:if(!Si(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function yi(e){return Object(r.a)(this,void 0,void 0,(function(){var t,n;return Object(r.c)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function bi(e,t){var n=y(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Ei(n)?xi(n):Ui(n).er()&&wi(n,t))}function ji(e,t){var n=y(e),r=Ui(n);n.$r.delete(t),r.er()&&_i(n,t),0===n.$r.size&&(r.er()?r.ir():Si(n)&&n.Br.set("Unknown"))}function wi(e,t){e.qr.U(t.targetId),Ui(e).mr(t)}function _i(e,t){e.qr.U(t),Ui(e).yr(t)}function xi(e){e.qr=new $t({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ui(e).start(),e.Br.Sr()}function Ei(e){return Si(e)&&!Ui(e).tr()&&e.$r.size>0}function Si(e){return 0===y(e).Or.size}function Oi(e){e.qr=void 0}function ki(e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){return e.$r.forEach((function(t,n){wi(e,t)})),[2]}))}))}function Ti(e,t){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(n){return Oi(e),Ei(e)?(e.Br.Nr(t),xi(e)):e.Br.set("Unknown"),[2]}))}))}function Ci(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i,s;return Object(r.c)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Gt&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,s;return Object(r.c)(this,(function(r){switch(r.label){case 0:n=t.cause,o=0,i=t.targetIds,r.label=1;case 1:return o<i.length?(s=i[o],e.$r.has(s)?[4,e.remoteSyncer.rejectListen(s,n)]:[3,3]):[3,5];case 2:r.sent(),e.$r.delete(s),e.qr.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return o++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return o=a.sent(),f("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),[4,Ii(e,o)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Ht?e.qr.X(t):t instanceof Wt?e.qr.rt(t):e.qr.et(t),n.isEqual(S.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,xo(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var o=e.$r.get(r);o&&e.$r.set(r,o.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(N.EMPTY_BYTE_STRING,n.snapshotVersion)),_i(e,t);var r=new hr(n.target,t,1,n.sequenceNumber);wi(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return f("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Ii(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Ii(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o=this;return Object(r.c)(this,(function(i){switch(i.label){case 0:if(!ir(t))throw t;return e.Or.add(1),[4,yi(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return xo(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Object(r.a)(o,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return f("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,gi(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Ai(e,t){return t().catch((function(n){return Ii(e,n,t)}))}function Ri(e){return Object(r.a)(this,void 0,void 0,(function(){var t,n,o,i,s;return Object(r.c)(this,(function(r){switch(r.label){case 0:t=y(e),n=Bi(t),o=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,r.label=1;case 1:if(!function(e){return Si(e)&&e.kr.length<10}(t))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Oo(t.localStore,o)];case 3:return null===(i=r.sent())?(0===t.kr.length&&n.ir(),[3,7]):(o=i.batchId,function(e,t){e.kr.push(t);var n=Bi(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return s=r.sent(),[4,Ii(t,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return Pi(t)&&Ni(t),[2]}}))}))}function Pi(e){return Si(e)&&!Bi(e).tr()&&e.kr.length>0}function Ni(e){Bi(e).start()}function Di(e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){return Bi(e).Ar(),[2]}))}))}function Li(e){return Object(r.a)(this,void 0,void 0,(function(){var t,n,o,i;return Object(r.c)(this,(function(r){for(t=Bi(e),n=0,o=e.kr;n<o.length;n++)i=o[n],t.Er(i.mutations);return[2]}))}))}function Mi(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return o=e.kr.shift(),i=pr.from(o,t,n),[4,Ai(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return r.sent(),[4,Ri(e)];case 2:return r.sent(),[2]}}))}))}function Fi(e,t){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(n){switch(n.label){case 0:return t&&Bi(e).pr?[4,function(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return St(o=t.code)&&o!==u.ABORTED?(n=e.kr.shift(),Bi(e).sr(),[4,Ai(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return r.sent(),[4,Ri(e)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Pi(e)&&Ni(e),[2]}}))}))}function qi(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=y(e),t?(n.Or.delete(2),[4,gi(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,yi(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ui(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=y(e);return r.br(),new fi(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:ki.bind(null,e),Ri:Ti.bind(null,e),_r:Ci.bind(null,e)}),e.Mr.push((function(n){return Object(r.a)(t,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Ei(e)?xi(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Oi(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Bi(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=y(e);return r.br(),new pi(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Di.bind(null,e),Ri:Fi.bind(null,e),Ir:Li.bind(null,e),Tr:Mi.bind(null,e)}),e.Mr.push((function(n){return Object(r.a)(t,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Ri(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.kr.length>0&&(f("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var Vi=function(){function e(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,o,i){var s=new e(t,n,Date.now()+r,o,i);return s.start(r),s},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new l(u.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function zi(e,t){if(p("AsyncQueue",t+": "+e),ir(e))return new l(u.UNAVAILABLE,t+": "+e);throw e}var Hi=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||H.comparator(t.key,n.key)}:function(e,t){return H.comparator(e.key,t.key)},this.keyedMap=Dt(),this.sortedSet=new kt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Wi=function(){function e(){this.Qr=new kt(H.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):v():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Gi=function(){function e(e,t,n,r,o,i,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=a}return e.fromInitialDocuments=function(t,n,r,o){var i=[];return n.forEach((function(e){i.push({type:0,doc:e})})),new e(t,n,Hi.emptySet(n),i,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fe(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Ki=function(){this.Wr=void 0,this.listeners=[]},$i=function(){this.queries=new eo((function(e){return qe(e)}),Fe),this.onlineState="Unknown",this.Gr=new Set};function Qi(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,s,a,u,l;return Object(r.c)(this,(function(r){switch(r.label){case 0:if(n=y(e),o=t.query,i=!1,(s=n.queries.get(o))||(i=!0,s=new Ki),!i)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=s,[4,n.onListen(o)];case 2:return a.Wr=r.sent(),[3,4];case 3:return u=r.sent(),l=zi(u,"Initialization of query '"+Ue(t.query)+"' failed"),[2,void t.onError(l)];case 4:return n.queries.set(o,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&Zi(n),[2]}}))}))}function Yi(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,s,a;return Object(r.c)(this,(function(r){return n=y(e),o=t.query,i=!1,(s=n.queries.get(o))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=0===s.listeners.length),i?[2,(n.queries.delete(o),n.onUnlisten(o))]:[2]}))}))}function Xi(e,t){for(var n=y(e),r=!1,o=0,i=t;o<i.length;o++){var s=i[o],a=s.query,u=n.queries.get(a);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Hr(s)&&(r=!0);u.Wr=s}}r&&Zi(n)}function Ji(e,t,n){var r=y(e),o=r.queries.get(t);if(o)for(var i=0,s=o.listeners;i<s.length;i++)s[i].onError(n);r.queries.delete(t)}function Zi(e){e.Gr.forEach((function(e){e.next()}))}var es=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var o=r[n];3!==o.type&&t.push(o)}e=new Gi(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var i=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),i=!0):this.eo(e,this.onlineState)&&(this.no(e),i=!0),this.Xr=e,i},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Gi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),ts=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),ns=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return un(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?hn(this.R,e.document,!1):se.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return rn(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=rs(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new ns(this.R),r=0,o=e;r<o.length;r++){var i=o[r];if(i.metadata.queries)for(var s=n.qn(i.metadata.name),a=0,u=i.metadata.queries;a<u.length;a++){var l=u[a],c=(t.get(l)||qt()).add(s);t.set(l,c)}}return t},e.prototype.complete=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t,n,o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,Po(this.localStore,new ns(this.R),this.documents,this.ro.id)];case 1:e=r.sent(),t=this.co(this.documents),n=0,o=this.queries,r.label=2;case 2:return n<o.length?(i=o[n],[4,No(this.localStore,i,t.get(i.name))]):[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new mo(Object.assign({},this.progress),e))]}}))}))}}();function rs(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var os=function(e){this.key=e},is=function(e){this.key=e},ss=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=qt(),this.mutatedKeys=qt(),this.lo=Ve(e),this.fo=new Hi(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Wi,o=t?t.fo:this.fo,i=t?t.mutatedKeys:this.mutatedKeys,s=o,a=!1,u=Ie(this.query)&&o.size===this.query.limit?o.last():null,l=Ae(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((function(e,t){var c=o.get(e),d=Be(n.query,t)?t:null,f=!!c&&n.mutatedKeys.has(c.key),p=!!d&&(d.hasLocalMutations||n.mutatedKeys.has(d.key)&&d.hasCommittedMutations),h=!1;c&&d?c.data.isEqual(d.data)?f!==p&&(r.track({type:3,doc:d}),h=!0):n.yo(c,d)||(r.track({type:2,doc:d}),h=!0,(u&&n.lo(d,u)>0||l&&n.lo(d,l)<0)&&(a=!0)):!c&&d?(r.track({type:0,doc:d}),h=!0):c&&!d&&(r.track({type:1,doc:c}),h=!0,(u||l)&&(a=!0)),h&&(d?(s=s.add(d),i=p?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),Ie(this.query)||Ae(this.query))for(;s.size>this.query.limit;){var c=Ie(this.query)?s.last():s.first();s=s.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{fo:s,mo:r,Nn:a,mutatedKeys:i}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var i=e.mo.jr();i.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var s=t?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==i.length||u?{snapshot:new Gi(this.query,e.fo,o,i,e.mutatedKeys,0===a,u,!1),To:s}:{To:s}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Wi,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=qt(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new is(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new os(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=qt();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Gi.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),as=function(e,t,n){this.query=e,this.targetId=t,this.view=n},us=function(e){this.key=e,this.bo=!1},ls=function(){function e(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.vo={},this.Po=new eo((function(e){return qe(e)}),Fe),this.Vo=new Map,this.So=new Set,this.Do=new kt(H.comparator),this.Co=new Map,this.No=new Lo,this.xo={},this.Fo=new Map,this.ko=Vr.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function cs(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,s,a,u;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=qs(e),(s=n.Po.get(t))?(o=s.targetId,n.sharedClientState.addLocalQueryTarget(o),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,ko(n.localStore,Le(t))];case 2:return a=r.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),o=a.targetId,[4,ds(n,t,o,"current"===u)];case 3:i=r.sent(),n.isPrimaryClient&&bi(n.remoteStore,a),r.label=4;case 4:return[2,i]}}))}))}function ds(e,t,n,o){return Object(r.a)(this,void 0,void 0,(function(){var i,s,a,u,l,c;return Object(r.c)(this,(function(d){switch(d.label){case 0:return e.Oo=function(t,n,o){return function(e,t,n,o){return Object(r.a)(this,void 0,void 0,(function(){var i,s,a;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(i=t.view._o(n)).Nn?[4,Co(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=r.sent(),r.label=2;case 2:return s=o&&o.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s),[2,(Es(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,o)},[4,Co(e.localStore,t,!0)];case 1:return i=d.sent(),s=new ss(t,i.Bn),a=s._o(i.documents),u=zt.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==e.onlineState),l=s.applyChanges(a,e.isPrimaryClient,u),Es(e,n,l.To),c=new as(t,n,s),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),l.snapshot)]}}))}))}function fs(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=y(e),o=n.Po.get(t),(i=n.Vo.get(o.targetId)).length>1?[2,(n.Vo.set(o.targetId,i.filter((function(e){return!Fe(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)?[3,2]:[4,To(n.localStore,o.targetId,!1).then((function(){n.sharedClientState.clearQueryState(o.targetId),ji(n.remoteStore,o.targetId),_s(n,o.targetId)})).catch(Kr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return _s(n,o.targetId),[4,To(n.localStore,o.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function ps(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i,s,a;return Object(r.c)(this,(function(r){switch(r.label){case 0:o=Us(e),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(e,t){var n,r=y(e),o=E.now(),i=t.reduce((function(e,t){return e.add(t.key)}),qt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,i).next((function(i){n=i;for(var s=[],a=0,u=t;a<u.length;a++){var l=u[a],c=ft(l,n.get(l.key));null!=c&&s.push(new vt(l.key,c,ie(c.value.mapValue),at.exists(!0)))}return r._n.addMutationBatch(e,o,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(o.localStore,t)];case 2:return i=r.sent(),o.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new kt(w)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(o,i.batchId,n),[4,ks(o,i.changes)];case 3:return r.sent(),[4,Ri(o.remoteStore)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),a=zi(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function hs(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:n=y(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Eo(n.localStore,t)];case 2:return o=r.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(g(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?g(r.bo):e.removedDocuments.size>0&&(g(r.bo),r.bo=!1))})),[4,ks(n,o,t)];case 3:return r.sent(),[3,6];case 4:return[4,Kr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ms(e,t,n){var r=y(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var o=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&o.push(r.snapshot)})),function(e,t){var n=y(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var o=0,i=n.listeners;o<i.length;o++)i[o].zr(t)&&(r=!0)})),r&&Zi(n)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function vs(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i,s,a,u,l;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(o=y(e)).sharedClientState.updateQueryState(t,"rejected",n),i=o.Co.get(t),(s=i&&i.key)?(a=(a=new kt(H.comparator)).insert(s,se.newNoDocument(s,S.min())),u=qt().add(s),l=new Vt(S.min(),new Map,new It(w),a,u),[4,hs(o,l)]):[3,2];case 1:return r.sent(),o.Do=o.Do.remove(s),o.Co.delete(t),Os(o),[3,4];case 2:return[4,To(o.localStore,t,!1).then((function(){return _s(o,t,n)})).catch(Kr)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function gs(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:n=y(e),o=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,_o(n.localStore,t)];case 2:return i=r.sent(),ws(n,o,null),js(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),[4,ks(n,i)];case 3:return r.sent(),[3,6];case 4:return[4,Kr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ys(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:o=y(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(e,t){var n=y(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return g(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(o.localStore,t)];case 2:return i=r.sent(),ws(o,t,n),js(o,t),o.sharedClientState.updateMutationState(t,"rejected",n),[4,ks(o,i)];case 3:return r.sent(),[3,6];case 4:return[4,Kr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function bs(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,s,a;return Object(r.c)(this,(function(r){switch(r.label){case 0:Si((n=y(e)).remoteStore)||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(e){var t=y(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(o=r.sent())?[2,void t.resolve()]:((i=n.Fo.get(o)||[]).push(t),n.Fo.set(o,i),[3,4]);case 3:return s=r.sent(),a=zi(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function js(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function ws(e,t,n){var r=y(e),o=r.xo[r.currentUser.toKey()];if(o){var i=o.get(t);i&&(n?i.reject(n):i.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function _s(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var i=o[r];e.Po.delete(i),n&&e.vo.Mo(i,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||xs(e,t)}))}function xs(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(ji(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Os(e))}function Es(e,t,n){for(var r=0,o=n;r<o.length;r++){var i=o[r];i instanceof os?(e.No.addReference(i.key,t),Ss(e,i)):i instanceof is?(f("SyncEngine","Document no longer in limbo: "+i.key),e.No.removeReference(i.key,t),e.No.containsKey(i.key)||xs(e,i.key)):v()}}function Ss(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(f("SyncEngine","New document in limbo: "+n),e.So.add(r),Os(e))}function Os(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new H(I.fromString(t)),r=e.ko.next();e.Co.set(r,new us(n)),e.Do=e.Do.insert(n,r),bi(e.remoteStore,new hr(Le(Ce(n.path)),r,2,a.o))}}function ks(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i,s,a;return Object(r.c)(this,(function(u){switch(u.label){case 0:return o=y(e),i=[],s=[],a=[],o.Po.isEmpty()?[3,3]:(o.Po.forEach((function(e,r){a.push(o.Oo(r,t,n).then((function(e){if(e){o.isPrimaryClient&&o.sharedClientState.updateQueryState(r.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=go.Pn(r.targetId,e);s.push(t)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),o.vo._r(i),[4,function(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,s,a,u,l,c,d;return Object(r.c)(this,(function(r){switch(r.label){case 0:n=y(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return er.forEach(t,(function(t){return er.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return er.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!ir(o=r.sent()))throw o;return f("LocalStore","Failed to update sequence numbers: "+o),[3,4];case 4:for(i=0,s=t;i<s.length;i++)a=s[i],u=a.targetId,a.fromCache||(l=n.Fn.get(u),c=l.snapshotVersion,d=l.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(u,d));return[2]}}))}))}(o.localStore,s)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Ts(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(n=y(e)).currentUser.isEqual(t)?[3,3]:(f("SyncEngine","User change. New user:",t.toKey()),[4,wo(n.localStore,t)]);case 1:return o=r.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new l(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),[4,ks(n,o.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function Cs(e,t){var n=y(e),r=n.Co.get(t);if(r&&r.bo)return qt().add(r.key);var o=qt(),i=n.Vo.get(t);if(!i)return o;for(var s=0,a=i;s<a.length;s++){var u=a[s],l=n.Po.get(u);o=o.unionWith(l.view.wo)}return o}function Is(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,Co((n=y(e)).localStore,t.query,!0)];case 1:return o=r.sent(),i=t.view.Ao(o),[2,(n.isPrimaryClient&&Es(n,t.targetId,i.To),i)]}}))}))}function As(e){return Object(r.a)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){return[2,Ao((t=y(e)).localStore).then((function(e){return ks(t,e)}))]}))}))}function Rs(e,t,n,o){return Object(r.a)(this,void 0,void 0,(function(){var i,s;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,function(e,t){var n=y(e),r=y(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):er.resolve(null)}))}))}((i=y(e)).localStore,t)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ri(i.remoteStore)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ws(i,t,o||null),js(i,t),function(e,t){y(y(e)._n).Gt(t)}(i.localStore,t)):v(),r.label=4;case 4:return[4,ks(i,s)];case 5:return r.sent(),[3,7];case 6:f("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))}function Ps(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,s,a,u,l,c;return Object(r.c)(this,(function(r){switch(r.label){case 0:return qs(n=y(e)),Us(n),!0!==t||!0===n.$o?[3,3]:(o=n.sharedClientState.getAllActiveQueryTargets(),[4,Ns(n,o.toArray())]);case 1:return i=r.sent(),n.$o=!0,[4,qi(n.remoteStore,!0)];case 2:for(r.sent(),s=0,a=i;s<a.length;s++)u=a[s],bi(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(l=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?l.push(t):c=c.then((function(){return _s(n,t),To(n.localStore,t,!0)})),ji(n.remoteStore,t)})),[4,c]);case 4:return r.sent(),[4,Ns(n,l)];case 5:return r.sent(),function(e){var t=y(e);t.Co.forEach((function(e,n){ji(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new kt(H.comparator)}(n),n.$o=!1,[4,qi(n.remoteStore,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Ns(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,s,a,u,l,c,d,f,p,h,m,v;return Object(r.c)(this,(function(r){switch(r.label){case 0:n=y(e),o=[],i=[],s=0,a=t,r.label=1;case 1:return s<a.length?(u=a[s],l=void 0,(c=n.Vo.get(u))&&0!==c.length?[4,ko(n.localStore,Le(c[0]))]:[3,7]):[3,13];case 2:l=r.sent(),d=0,f=c,r.label=3;case 3:return d<f.length?(p=f[d],h=n.Po.get(p),[4,Is(n,h)]):[3,6];case 4:(m=r.sent()).snapshot&&i.push(m.snapshot),r.label=5;case 5:return d++,[3,3];case 6:return[3,11];case 7:return[4,Io(n.localStore,u)];case 8:return v=r.sent(),[4,ko(n.localStore,v)];case 9:return l=r.sent(),[4,ds(n,Ds(v),u,!1)];case 10:r.sent(),r.label=11;case 11:o.push(l),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),o)]}}))}))}function Ds(e){return Te(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ls(e){var t=y(e);return y(y(t.localStore).persistence).fn()}function Ms(e,t,n,o){return Object(r.a)(this,void 0,void 0,(function(){var i,s,a;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(i=y(e)).$o?(f("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ao(i.localStore)];case 3:return s=r.sent(),a=Vt.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,ks(i,s,a)];case 4:return r.sent(),[3,8];case 5:return[4,To(i.localStore,t,!0)];case 6:return r.sent(),_s(i,t,o),[3,8];case 7:v(),r.label=8;case 8:return[2]}}))}))}function Fs(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i,s,a,u,l,c,d,p,h;return Object(r.c)(this,(function(m){switch(m.label){case 0:if(!(o=qs(e)).$o)return[3,10];i=0,s=t,m.label=1;case 1:return i<s.length?(a=s[i],o.Vo.has(a)?(f("SyncEngine","Adding an already active target "+a),[3,5]):[4,Io(o.localStore,a)]):[3,6];case 2:return u=m.sent(),[4,ko(o.localStore,u)];case 3:return l=m.sent(),[4,ds(o,Ds(u),l.targetId,!1)];case 4:m.sent(),bi(o.remoteStore,l),m.label=5;case 5:return i++,[3,1];case 6:c=function(e){return Object(r.c)(this,(function(t){switch(t.label){case 0:return o.Vo.has(e)?[4,To(o.localStore,e,!1).then((function(){ji(o.remoteStore,e),_s(o,e)})).catch(Kr)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},d=0,p=n,m.label=7;case 7:return d<p.length?(h=p[d],[5,c(h)]):[3,10];case 8:m.sent(),m.label=9;case 9:return d++,[3,7];case 10:return[2]}}))}))}function qs(e){var t=y(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=hs.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cs.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vs.bind(null,t),t.vo._r=Xi.bind(null,t.eventManager),t.vo.Mo=Ji.bind(null,t.eventManager),t}function Us(e){var t=y(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gs.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ys.bind(null,t),t}var Bs=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return this.R=li(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return jo(this.persistence,new yo,e.initialUser,this.R)},e.prototype.qo=function(e){return new Vo(Ho.bs,this.R)},e.prototype.Bo=function(e){return new ti},e.prototype.terminate=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Vs=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).Qo=t,o.cacheSizeBytes=n,o.forceOwnership=r,o.synchronizeTabs=!1,o}return Object(r.b)(t,e),t.prototype.initialize=function(t){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Ro(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,t)];case 3:return n.sent(),[4,Us(this.Qo.syncEngine)];case 4:return n.sent(),[4,Ri(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ko=function(e){return jo(this.persistence,new yo,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Yr(t,e.asyncQueue)},t.prototype.qo=function(e){var t=ho(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Nr.withCacheSize(this.cacheSizeBytes):Nr.DEFAULT;return new co(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ai(),ui(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new ti},t}(Bs),zs=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.b)(t,e),t.prototype.initialize=function(t){return Object(r.a)(this,void 0,void 0,(function(){var n,o=this;return Object(r.c)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof ei?(this.sharedClientState.syncEngine={ui:Rs.bind(null,n),ai:Ms.bind(null,n),hi:Fs.bind(null,n),fn:Ls.bind(null,n),ci:As.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return Object(r.a)(o,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return[4,Ps(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=ai();if(!ei.yt(t))throw new l(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ho(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ei(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Vs),Hs=function(){function e(){}return e.prototype.initialize=function(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n=this;return Object(r.c)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ms(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ts.bind(null,this.syncEngine),[4,qi(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new $i},e.prototype.createDatastore=function(e){var t,n=li(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new si(t));return function(e,t,n){return new hi(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,o,i,s=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,o=function(e){return ms(s.syncEngine,e,0)},i=ri.yt()?new ri:new ni,new vi(t,n,r,o,i)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,o,i,s){var a=new ls(e,t,n,r,o,i);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Object(r.a)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return t=y(e),f("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,yi(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var Ws=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Gs=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Zn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t,n,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return o=r.sent(),[2,new ts(JSON.parse(o),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Object(r.a)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Object(r.a)(this,void 0,void 0,(function(){var t,n=this;return Object(r.c)(this,(function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new l(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,s,a,u;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=y(e),o=dn(n.R)+"/documents",i={documents:t.map((function(e){return an(n.R,e)}))},[4,n.$i("BatchGetDocuments",o,i)];case 1:return s=r.sent(),a=new Map,s.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){g(!!t.found),t.found.name,t.found.updateTime;var n=un(e,t.found.name),r=rn(t.found.updateTime),o=new oe({mapValue:{fields:t.found.fields}});return se.newFoundDocument(n,r,o)}(e,t):"missing"in t?function(e,t){g(!!t.missing),g(!!t.readTime);var n=un(e,t.missing),r=rn(t.readTime);return se.newNoDocument(n,r)}(e,t):v()}(n.R,e);a.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=a.get(e.toString());g(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=o.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new _t(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t=this;return Object(r.c)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=H.fromPath(n);t.mutations.push(new xt(r,t.precondition(r)))})),[4,function(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=y(e),o=dn(n.R)+"/documents",i={writes:t.map((function(e){return mn(n.R,e)}))},[4,n.Ni("Commit",o,i)];case 1:return r.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw v();t=S.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new l(u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?at.updateTime(t):at.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(S.min()))throw new l(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return at.updateTime(t)}return at.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),Ks=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ci(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Object(r.a)(e,void 0,void 0,(function(){var e,t,n=this;return Object(r.c)(this,(function(r){return e=new Gs(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!B(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!St(t)}return!1},e}(),$s=function(){function e(e,t,n){var o=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Wo.UNAUTHENTICATED,this.clientId=j.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Object(r.a)(o,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return f("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new l(u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r.a)(e,void 0,void 0,(function(){var e,n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=zi(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Qs(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i=this;return Object(r.c)(this,(function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),o=n.initialUser,e.setCredentialChangeListener((function(e){return Object(r.a)(i,void 0,void 0,(function(){return Object(r.c)(this,(function(n){switch(n.label){case 0:return o.isEqual(e)?[3,2]:[4,wo(t.localStore,e)];case 1:n.sent(),o=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Ys(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o;return Object(r.c)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Xs(e)];case 1:return n=i.sent(),f("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return o=i.sent(),[4,t.initialize(n,o)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(n=y(e)).asyncQueue.verifyOperationInProgress(),f("RemoteStore","RemoteStore received new credentials"),o=Si(n),n.Or.add(3),[4,yi(n)];case 1:return r.sent(),o&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return r.sent(),n.Or.delete(3),[4,gi(n)];case 3:return r.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function Xs(e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(f("FirestoreClient","Using default OfflineComponentProvider"),[4,Qs(e,new Bs)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Js(e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(f("FirestoreClient","Using default OnlineComponentProvider"),[4,Ys(e,new Hs)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Zs(e){return Xs(e).then((function(e){return e.persistence}))}function ea(e){return Xs(e).then((function(e){return e.localStore}))}function ta(e){return Js(e).then((function(e){return e.remoteStore}))}function na(e){return Js(e).then((function(e){return e.syncEngine}))}function ra(e){return Object(r.a)(this,void 0,void 0,(function(){var t,n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,Js(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=cs.bind(null,t.syncEngine),n.onUnlisten=fs.bind(null,t.syncEngine),n)]}}))}))}function oa(e,t,n){var o=this;void 0===n&&(n={});var i=new Zn;return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(o,void 0,void 0,(function(){var o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return o=function(e,t,n,r,o){var i=new Ws({next:function(i){t.enqueueAndForget((function(){return Yi(e,s)}));var a=i.docs.has(n);!a&&i.fromCache?o.reject(new l(u.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&i.fromCache&&r&&"server"===r.source?o.reject(new l(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(i)},error:function(e){return o.reject(e)}}),s=new es(Ce(n.path),i,{includeMetadataChanges:!0,so:!0});return Qi(e,s)},[4,ra(e)];case 1:return[2,o.apply(void 0,[r.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function ia(e,t,n){var o=this;void 0===n&&(n={});var i=new Zn;return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(o,void 0,void 0,(function(){var o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return o=function(e,t,n,r,o){var i=new Ws({next:function(n){t.enqueueAndForget((function(){return Yi(e,s)})),n.fromCache&&"server"===r.source?o.reject(new l(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:function(e){return o.reject(e)}}),s=new es(n,i,{includeMetadataChanges:!0,so:!0});return Qi(e,s)},[4,ra(e)];case 1:return[2,o.apply(void 0,[r.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var sa=function(e,t,n,r,o,i,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.useFetchStreams=a},aa=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),ua=new Map,la=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},ca=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Wo.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),da=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),fa=function(){function e(e){var t=this;this.currentUser=Wo.UNAUTHENTICATED,this.oc=new Zn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){f("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(f("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(f("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(g("string"==typeof n.accessToken),new la(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return Object(r.a)(n,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return g(null===e||"string"==typeof e),new Wo(e)},e}(),pa=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Wo.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),ha=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new pa(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Wo.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function ma(e,t,n){if(!n)throw new l(u.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function va(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new l(u.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function ga(e,t,n,r){if(!0===t&&!0===r)throw new l(u.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function ya(e){if(!H.isDocumentKey(e))throw new l(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function ba(e){if(H.isDocumentKey(e))throw new l(u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function ja(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":v()}function wa(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new l(u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ja(e);throw new l(u.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function _a(e,t){if(t<=0)throw new l(u.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var xa=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new l(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new l(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ga("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Ea=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xa({}),this._settingsFrozen=!1,e instanceof aa?(this._databaseId=e,this._credentials=new ca):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new l(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aa(e.options.projectId)}(e),this._credentials=new fa(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new l(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new l(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xa(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new ca;switch(e.type){case"gapi":var t=e.client;return g(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ha(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new l(u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=ua.get(this))&&(f("ComponentProvider","Removing Datastore"),ua.delete(this),e.terminate()),Promise.resolve();var e},e}(),Sa=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ka(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Oa=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),ka=function(e){function t(t,n,r){var o=this;return(o=e.call(this,t,n,Ce(r))||this)._path=r,o.type="collection",o}return Object(r.b)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Sa(this.firestore,null,new H(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Oa);function Ta(e,t){for(var n,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];if(e=Object(o.h)(e),ma("collection","path",t),e instanceof Ea)return ba(n=I.fromString.apply(I,Object(r.d)([t],i))),new ka(e,null,n);if(!(e instanceof Sa||e instanceof ka))throw new l(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ba(n=I.fromString.apply(I,Object(r.d)([e.path],i)).child(I.fromString(t))),new ka(e.firestore,null,n)}function Ca(e,t){for(var n,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];if(e=Object(o.h)(e),1===arguments.length&&(t=j.u()),ma("doc","path",t),e instanceof Ea)return ya(n=I.fromString.apply(I,Object(r.d)([t],i))),new Sa(e,null,new H(n));if(!(e instanceof Sa||e instanceof ka))throw new l(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ya(n=e._path.child(I.fromString.apply(I,Object(r.d)([t],i)))),new Sa(e.firestore,e instanceof ka?e.converter:null,new H(n))}function Ia(e,t){return e=Object(o.h)(e),t=Object(o.h)(t),(e instanceof Sa||e instanceof ka)&&(t instanceof Sa||t instanceof ka)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Aa(e,t){return e=Object(o.h)(e),t=Object(o.h)(t),e instanceof Oa&&t instanceof Oa&&e.firestore===t.firestore&&Fe(e._query,t._query)&&e.converter===t.converter}var Ra=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ci(this,"async_queue_retry"),this.Ic=function(){var t=ui();t&&f("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=ui();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=ui();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Zn;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t=this;return Object(r.c)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ir(e=n.sent()))throw e;return f("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,p("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var o=Vi.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(o),o},e.prototype.Ac=function(){this.yc&&v()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Object(r.a)(this,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var o=r[n];if(o.skipDelay(),"all"!==e&&o.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Pa(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,o=["next","error","complete"];r<o.length;r++){var i=o[r];if(i in n&&"function"==typeof n[i])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Zn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var Na=-1,Da=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Ra,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Object(r.b)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Ma(this),this._firestoreClient.terminate()},t}(Ea);function La(e){return e._firestoreClient||Ma(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ma(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new sa(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new $s(e._credentials,e._queue,r)}function Fa(e,t,n){var o=this,i=new Zn;return e.asyncQueue.enqueue((function(){return Object(r.a)(o,void 0,void 0,(function(){var o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,Qs(e,n)];case 1:return r.sent(),[4,Ys(e,t)];case 2:return r.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===u.FAILED_PRECONDITION||e.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(o=r.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function qa(e){if(e._initialized||e._terminated)throw new l(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ua=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new l(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new R(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Ba=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(N.fromBase64String(t))}catch(t){throw new l(u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(N.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Va=function(e){this._methodName=e},za=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new l(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new l(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return w(this._lat,e._lat)||w(this._long,e._long)},e}(),Ha=/^__.*__$/,Wa=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new vt(e,this.data,this.fieldMask,t,this.fieldTransforms):new mt(e,this.data,t,this.fieldTransforms)},e}(),Ga=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new vt(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Ka(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}var $a=function(){function e(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Fc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,kc:!0})},e.prototype.Lc=function(e){return hu(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(Ka(this.Nc)&&Ha.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Qa=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||li(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new $a({Nc:e,methodName:t,qc:n,path:R.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ya(e){var t=e._freezeSettings(),n=li(e._databaseId);return new Qa(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Xa(e,t,n,r,o,i){void 0===i&&(i={});var s=e.Uc(i.merge||i.mergeFields?2:0,t,n,o);cu("Data must be an object, but it was:",s,r);var a,c,d=uu(r,s);if(i.merge)a=new P(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){for(var f=[],p=0,h=i.mergeFields;p<h.length;p++){var m=du(t,h[p],n);if(!s.contains(m))throw new l(u.INVALID_ARGUMENT,"Field '"+m+"' is specified in your field mask but missing from your input data.");mu(f,m)||f.push(m)}a=new P(f),c=s.fieldTransforms.filter((function(e){return a.covers(e.field)}))}else a=null,c=s.fieldTransforms;return new Wa(new oe(d),a,c)}var Ja=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Va);function Za(e,t,n){return new $a({Nc:3,qc:t.settings.qc,methodName:e._methodName,kc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var eu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype._toFieldTransform=function(e){return new it(e.path,new Xe)},t.prototype.isEqual=function(e){return e instanceof t},t}(Va),tu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Object(r.b)(t,e),t.prototype._toFieldTransform=function(e){var t=Za(this,e,!0),n=this.Kc.map((function(e){return au(e,t)})),r=new Je(n);return new it(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Va),nu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Object(r.b)(t,e),t.prototype._toFieldTransform=function(e){var t=Za(this,e,!0),n=this.Kc.map((function(e){return au(e,t)})),r=new et(n);return new it(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Va),ru=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return Object(r.b)(t,e),t.prototype._toFieldTransform=function(e){var t=new nt(e.R,Ge(e.R,this.Qc));return new it(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Va);function ou(e,t,n,r){var i=e.Uc(1,t,n);cu("Data must be an object, but it was:",i,r);var s=[],a=oe.empty();k(r,(function(e,r){var u=pu(t,e,n);r=Object(o.h)(r);var l=i.Oc(u);if(r instanceof Ja)s.push(u);else{var c=au(r,l);null!=c&&(s.push(u),a.set(u,c))}}));var u=new P(s);return new Ga(a,u,i.fieldTransforms)}function iu(e,t,n,r,i,s){var a=e.Uc(1,t,n),c=[du(t,r,n)],d=[i];if(s.length%2!=0)throw new l(u.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var f=0;f<s.length;f+=2)c.push(du(t,s[f])),d.push(s[f+1]);for(var p=[],h=oe.empty(),m=c.length-1;m>=0;--m)if(!mu(p,c[m])){var v=c[m],g=d[m];g=Object(o.h)(g);var y=a.Oc(v);if(g instanceof Ja)p.push(v);else{var b=au(g,y);null!=b&&(p.push(v),h.set(v,b))}}var j=new P(p);return new Ga(h,j,a.fieldTransforms)}function su(e,t,n,r){return void 0===r&&(r=!1),au(n,e.Uc(r?4:3,t))}function au(e,t){if(lu(e=Object(o.h)(e)))return cu("Unsupported field value:",t,e),uu(e,t);if(e instanceof Va)return function(e,t){if(!Ka(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.kc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,o=0,i=e;o<i.length;o++){var s=au(i[o],t.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(o.h)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ge(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=E.fromDate(e);return{timestampValue:en(t.R,n)}}if(e instanceof E)return n=new E(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:en(t.R,n)};if(e instanceof za)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ba)return{bytesValue:tn(t.R,e._byteString)};if(e instanceof Sa){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:on(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+ja(e))}(e,t)}function uu(e,t){var n={};return T(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):k(e,(function(e,r){var o=au(r,t.Fc(e));null!=o&&(n[e]=o)})),{mapValue:{fields:n}}}function lu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof E||e instanceof za||e instanceof Ba||e instanceof Sa||e instanceof Va)}function cu(e,t,n){if(!lu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ja(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function du(e,t,n){if((t=Object(o.h)(t))instanceof Ua)return t._internalPath;if("string"==typeof t)return pu(e,t);throw hu("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var fu=new RegExp("[~\\*/\\[\\]]");function pu(e,t,n){if(t.search(fu)>=0)throw hu("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Ua.bind.apply(Ua,Object(r.d)([void 0],t.split(".")))))._internalPath}catch(o){throw hu("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function hu(e,t,n,r,o){var i=r&&!r.isEmpty(),s=void 0!==o,a="Function "+t+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(i||s)&&(c+=" (found",i&&(c+=" in field "+r),s&&(c+=" in document "+o),c+=")"),new l(u.INVALID_ARGUMENT,(a+=". ")+e+c)}function mu(e,t){return e.some((function(e){return e.isEqual(t)}))}var vu=function(){function e(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Sa(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new gu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(yu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),gu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(vu);function yu(e,t){return"string"==typeof t?pu(e,t):t instanceof Ua?t._internalPath:t._delegate._internalPath}var bu=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),ju=function(e){function t(t,n,r,o,i,s){var a=this;return(a=e.call(this,t,n,r,o,s)||this)._firestore=t,a._firestoreImpl=t,a.metadata=i,a}return Object(r.b)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(yu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(vu),wu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(ju),_u=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new bu(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new wu(n._firestore,n._userDataWriter,r.key,r,new bu(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new l(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new wu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new wu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),o=-1,i=-1;return 0!==t.type&&(o=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(i=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:xu(t.type),doc:n,oldIndex:o,newIndex:i}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function xu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}function Eu(e,t){return e instanceof ju&&t instanceof ju?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof _u&&t instanceof _u&&e._firestore===t._firestore&&Aa(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Su(e){if(Ae(e)&&0===e.explicitOrderBy.length)throw new l(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ou=function(){};function ku(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var i=o[r];e=i._apply(e)}return e}var Tu=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).jc=t,o.Wc=n,o.Gc=r,o.type="where",o}return Object(r.b)(t,e),t.prototype._apply=function(e){var t=Ya(e.firestore),n=function(e,t,n,r,o,i,s){var a;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new l(u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){Du(s,i);for(var c=[],d=0,f=s;d<f.length;d++){var p=f[d];c.push(Nu(r,e,p))}a={arrayValue:{values:c}}}else a=Nu(r,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Du(s,i),a=su(n,"where",s,"in"===i||"not-in"===i);var h=fe.create(o,i,a);return function(e,t){if(t.g()){var n=Pe(e);if(null!==n&&!n.isEqual(t.field))throw new l(u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Re(e);null!==r&&Lu(e,t.field,r)}var o=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var o=r[n];if(t.indexOf(o.op)>=0)return o.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==o)throw o===t.op?new l(u.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new l(u.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+o.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Oa(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Ou),Cu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return Object(r.b)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new l(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new l(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new xe(t,n);return function(e,t){if(null===Re(e)){var n=Pe(e);null!==n&&Lu(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Oa(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ke(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Ou),Iu=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).type=t,o.Hc=n,o.Jc=r,o}return Object(r.b)(t,e),t.prototype._apply=function(e){return new Oa(e.firestore,e.converter,Me(e._query,this.Hc,this.Jc))},t}(Ou),Au=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).type=t,o.Yc=n,o.Xc=r,o}return Object(r.b)(t,e),t.prototype._apply=function(e){var t=Pu(e,this.type,this.Yc,this.Xc);return new Oa(e.firestore,e.converter,function(e,t){return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Ou),Ru=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).type=t,o.Yc=n,o.Xc=r,o}return Object(r.b)(t,e),t.prototype._apply=function(e){var t=Pu(e,this.type,this.Yc,this.Xc);return new Oa(e.firestore,e.converter,function(e,t){return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Ou);function Pu(e,t,n,r){if(n[0]=Object(o.h)(n[0]),n[0]instanceof vu)return function(e,t,n,r,o){if(!r)throw new l(u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var i=[],s=0,a=De(e);s<a.length;s++){var c=a[s];if(c.field.isKeyField())i.push(X(t,r.key));else{var d=r.data.field(c.field);if(q(d))throw new l(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===d){var f=c.field.canonicalString();throw new l(u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}i.push(d)}}return new we(i,o)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ya(e.firestore);return function(e,t,n,r,o,i){var s=e.explicitOrderBy;if(o.length>s.length)throw new l(u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<o.length;c++){var d=o[c];if(s[c].field.isKeyField()){if("string"!=typeof d)throw new l(u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof d);if(!Ne(e)&&-1!==d.indexOf("/"))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+d+"' contains a slash.");var f=e.path.child(I.fromString(d));if(!H.isDocumentKey(f))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var p=new H(f);a.push(X(t,p))}else{var h=su(n,r,d);a.push(h)}}return new we(a,i)}(e._query,e.firestore._databaseId,i,t,n,r)}function Nu(e,t,n){if("string"==typeof(n=Object(o.h)(n))){if(""===n)throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ne(t)&&-1!==n.indexOf("/"))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(I.fromString(n));if(!H.isDocumentKey(r))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return X(e,new H(r))}if(n instanceof Sa)return X(e,n._key);throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ja(n)+".")}function Du(e,t){if(!Array.isArray(e)||0===e.length)throw new l(u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new l(u.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Lu(e,t,n){if(!n.isEqual(t))throw new l(u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Mu=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),W(e)){case 0:return null;case 1:return e.booleanValue;case 2:return M(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(F(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw v()}},e.prototype.convertObject=function(e,t){var n=this,r={};return k(e.fields,(function(e,o){r[e]=n.convertValue(o,t)})),r},e.prototype.convertGeoPoint=function(e){return new za(M(e.latitude),M(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return q(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(U(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=L(e);return new E(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=I.fromString(e);g(Cn(n));var r=new aa(n.get(1),n.get(3)),o=new H(n.popFirst(5));return r.isEqual(t)||p("Document "+o+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),o},e}();function Fu(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var qu=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.b)(t,e),t.prototype.convertBytes=function(e){return new Ba(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sa(this.firestore,null,t)},t}(Mu),Uu=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ya(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Bu(e,this._firestore),o=Fu(r.converter,t,n),i=Xa(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,at.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,a=Bu(e,this._firestore);return s="string"==typeof(t=Object(o.h)(t))||t instanceof Ua?iu(this._dataReader,"WriteBatch.update",a._key,t,n,r):ou(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(s.toMutation(a._key,at.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Bu(e,this._firestore);return this._mutations=this._mutations.concat(new _t(t._key,at.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new l(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Bu(e,t){if((e=Object(o.h)(e)).firestore!==t)throw new l(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Vu=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.b)(t,e),t.prototype.convertBytes=function(e){return new Ba(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sa(this.firestore,null,t)},t}(Mu);function zu(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=wa(e,Sa);var s=wa(e.firestore,Da),a=Ya(s);return Wu(s,[("string"==typeof(t=Object(o.h)(t))||t instanceof Ua?iu(a,"updateDoc",e._key,t,n,r):ou(a,"updateDoc",e._key,t)).toMutation(e._key,at.exists(!0))])}function Hu(e){for(var t,n,i,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];e=Object(o.h)(e);var u={includeMetadataChanges:!1},l=0;"object"!=typeof s[l]||Pa(s[l])||(u=s[l],l++);var c,d,f,p={includeMetadataChanges:u.includeMetadataChanges};if(Pa(s[l])){var h=s[l];s[l]=null===(t=h.next)||void 0===t?void 0:t.bind(h),s[l+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),s[l+2]=null===(i=h.complete)||void 0===i?void 0:i.bind(h)}if(e instanceof Sa)d=wa(e.firestore,Da),f=Ce(e._key.path),c={next:function(t){s[l]&&s[l](Gu(d,e,t))},error:s[l+1],complete:s[l+2]};else{var m=wa(e,Oa);d=wa(m.firestore,Da),f=m._query;var v=new Vu(d);c={next:function(e){s[l]&&s[l](new _u(d,v,m,e))},error:s[l+1],complete:s[l+2]},Su(e._query)}return function(e,t,n,o){var i=this,s=new Ws(o),a=new es(t,s,n);return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(i,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return t=Qi,[4,ra(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){s.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(i,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return t=Yi,[4,ra(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(La(d),f,p,c)}function Wu(e,t){return function(e,t){var n=this,o=new Zn;return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=ps,[4,na(e)];case 1:return[2,n.apply(void 0,[r.sent(),t,o])]}}))}))})),o.promise}(La(e),t)}function Gu(e,t,n){var r=n.docs.get(t._key),o=new Vu(e);return new ju(e,o,t._key,r,new bu(n.hasPendingWrites,n.fromCache),t.converter)}var Ku=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Object(r.b)(t,e),t.prototype.get=function(t){var n=this,r=Bu(t,this._firestore),o=new Vu(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new ju(n._firestore,o,r._key,e._document,new bu(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ya(e)}return e.prototype.get=function(e){var t=this,n=Bu(e,this._firestore),r=new qu(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return v();var o=e[0];if(o.isFoundDocument())return new vu(t._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new vu(t._firestore,r,n._key,null,n.converter);throw v()}))},e.prototype.set=function(e,t,n){var r=Bu(e,this._firestore),o=Fu(r.converter,t,n),i=Xa(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,n);return this._transaction.set(r._key,i),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,a=Bu(e,this._firestore);return s="string"==typeof(t=Object(o.h)(t))||t instanceof Ua?iu(this._dataReader,"Transaction.update",a._key,t,n,r):ou(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,s),this},e.prototype.delete=function(e){var t=Bu(e,this._firestore);return this._transaction.delete(t._key),this},e}());function $u(){if("undefined"==typeof Uint8Array)throw new l(u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Qu(){if("undefined"==typeof atob)throw new l(u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Yu=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Qu(),new e(Ba.fromBase64String(t))},e.fromUint8Array=function(t){return $u(),new e(Ba.fromUint8Array(t))},e.prototype.toBase64=function(){return Qu(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return $u(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Xu=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){qa(e=wa(e,Da));var n=La(e),r=e._freezeSettings(),o=new Hs;return Fa(n,o,new Vs(o,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){qa(e=wa(e,Da));var t=La(e),n=e._freezeSettings(),r=new Hs;return Fa(t,r,new zs(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new l(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Zn;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r.a)(t,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e){return Object(r.a)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return nr.yt()?(t=e+"main",[4,nr.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(ho(e._databaseId,e._persistenceKey))];case 1:return o.sent(),n.resolve(),[3,3];case 2:return t=o.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),Ju=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof aa||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||h("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=wa(e,Ea))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&h("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var s=Object(o.d)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new l(u.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new da(new la(s,new Wo(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(r.a)(t,void 0,void 0,(function(){var t,n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,Zs(e)];case 1:return t=r.sent(),[4,ta(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=y(e);return t.Or.delete(0),gi(t)}(n))]}}))}))}))}(La(wa(this._delegate,Da)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(r.a)(t,void 0,void 0,(function(){var t,n;return Object(r.c)(this,(function(o){switch(o.label){case 0:return[4,Zs(e)];case 1:return t=o.sent(),[4,ta(e)];case 2:return n=o.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Object(r.a)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return(t=y(e)).Or.add(0),[4,yi(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(La(wa(this._delegate,Da)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&ga("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Zn;return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(t,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(r){switch(r.label){case 0:return t=bs,[4,na(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(La(wa(this._delegate,Da)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,o=new Ws(t);return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return t=function(e,t){y(e).Gr.add(t),t.next()},[4,ra(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return t=function(e,t){y(e).Gr.delete(t)},[4,ra(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))}))}}(La(e=wa(e,Da)),Pa(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new l(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new pl(this,Ta(this._delegate,e))}catch(e){throw il(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new ol(this,Ca(this._delegate,e))}catch(e){throw il(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new cl(this,function(e,t){if(e=wa(e,Ea),ma("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new l(u.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Oa(e,null,function(e){return new ke(I.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw il(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,o=new Zn;return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,function(e){return Js(e).then((function(e){return e.datastore}))}(e)];case 1:return n=r.sent(),new Ks(e.asyncQueue,n,t,o).run(),[2]}}))}))})),o.promise}(La(e),(function(n){return t(new Ku(e,n))}))}(this._delegate,(function(n){return e(new tl(t,n))}))},e.prototype.batch=function(){var e=this;return La(this._delegate),new nl(new Uu(this._delegate,(function(t){return Wu(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new l(u.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new l(u.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Zu=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.b)(t,e),t.prototype.convertBytes=function(e){return new Yu(new Ba(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ol.eu(t,this.firestore,null)},t}(Mu);function el(e){var t;t=e,c.setLogLevel(t)}var tl=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Zu(e)}return e.prototype.get=function(e){var t=this,n=hl(e);return this._delegate.get(n).then((function(e){return new ul(t._firestore,new ju(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=hl(e);return n?(va("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var o,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a=hl(e);return 2===arguments.length?this._delegate.update(a,t):(o=this._delegate).update.apply(o,Object(r.d)([a,t,n],i)),this},e.prototype.delete=function(e){var t=hl(e);return this._delegate.delete(t),this},e}(),nl=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=hl(e);return n?(va("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var o,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a=hl(e);return 2===arguments.length?this._delegate.update(a,t):(o=this._delegate).update.apply(o,Object(r.d)([a,t,n],i)),this},e.prototype.delete=function(e){var t=hl(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),rl=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new wu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ll(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var i=o.get(n);return i||(i=new e(t,new Zu(t),n),o.set(n,i)),i},e}();rl.su=new WeakMap;var ol=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zu(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new l(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Sa(n._delegate,r,new H(t)))},e.eu=function(t,n,r){return new e(n,new Sa(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new pl(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new pl(this.firestore,Ta(this._delegate,e))}catch(e){throw il(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(o.h)(e))instanceof Sa&&Ia(this._delegate,e)},e.prototype.set=function(e,t){t=va("DocumentReference.set",t);try{return function(e,t,n){e=wa(e,Sa);var r=wa(e.firestore,Da),o=Fu(e.converter,t,n);return Wu(r,[Xa(Ya(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,at.none())])}(this._delegate,e,t)}catch(e){throw il(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];try{return 1===arguments.length?zu(this._delegate,e):zu.apply(void 0,Object(r.d)([this._delegate,e,t],n))}catch(e){throw il(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Wu(wa((e=this._delegate).firestore,Da),[new _t(e._key,at.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=sl(t),o=al(t,(function(t){return new ul(e.firestore,new ju(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Hu(this._delegate,r,o)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=wa(e,Sa);var t=wa(e.firestore,Da),n=La(t),o=new Vu(t);return function(e,t){var n=this,o=new Zn;return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e,t){var n=y(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=r.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new l(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),i=zi(o,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,ea(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,o])]}}))}))})),o.promise}(n,e._key).then((function(n){return new ju(t,o,e._key,n,new bu(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=wa(e,Sa);var t=wa(e.firestore,Da);return oa(La(t),e._key,{source:"server"}).then((function(n){return Gu(t,e,n)}))}(this._delegate):function(e){e=wa(e,Sa);var t=wa(e.firestore,Da);return oa(La(t),e._key).then((function(n){return Gu(t,e,n)}))}(this._delegate)).then((function(e){return new ul(t.firestore,new ju(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(rl.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function il(e,t,n){return e.message=e.message.replace(t,n),e}function sl(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Pa(r))return r}return{}}function al(e,t){var n,r,o;return{next:function(e){o.next&&o.next(t(e))},error:null===(n=(o=Pa(e[0])?e[0]:Pa(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}var ul=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new ol(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Eu(this._delegate,e._delegate)},e}(),ll=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(ul),cl=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zu(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,ku(this._delegate,function(e,t,n){var r=t,o=yu("where",e);return new Tu(o,r,n)}(t,n,r)))}catch(t){throw il(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ku(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=yu("orderBy",e);return new Cu(r,n)}(t,n)))}catch(t){throw il(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ku(this._delegate,function(e){return _a("limit",e),new Iu("limit",e,"F")}(t)))}catch(t){throw il(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ku(this._delegate,function(e){return _a("limitToLast",e),new Iu("limitToLast",e,"L")}(t)))}catch(t){throw il(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ku(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Au("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw il(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ku(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Au("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw il(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ku(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ru("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw il(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ku(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ru("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw il(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Aa(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=wa(e,Oa);var t=wa(e.firestore,Da),n=La(t),o=new Vu(t);return function(e,t){var n=this,o=new Zn;return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i,s,a,u;return Object(r.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Co(e,t,!0)];case 1:return u=r.sent(),o=new ss(t,u.Bn),i=o._o(u.documents),s=o.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return a=r.sent(),u=zi(a,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,ea(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,o])]}}))}))})),o.promise}(n,e._query).then((function(n){return new _u(t,o,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=wa(e,Oa);var t=wa(e.firestore,Da),n=La(t),r=new Vu(t);return ia(n,e._query,{source:"server"}).then((function(n){return new _u(t,r,e,n)}))}(this._delegate):function(e){e=wa(e,Oa);var t=wa(e.firestore,Da),n=La(t),r=new Vu(t);return Su(e._query),ia(n,e._query).then((function(n){return new _u(t,r,e,n)}))}(this._delegate)).then((function(e){return new fl(t.firestore,new _u(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=sl(t),o=al(t,(function(t){return new fl(e.firestore,new _u(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Hu(this._delegate,r,o)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(rl.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),dl=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ll(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),fl=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new cl(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new ll(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new dl(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new ll(n._firestore,r))}))},e.prototype.isEqual=function(e){return Eu(this._delegate,e._delegate)},e}(),pl=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Object(r.b)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new ol(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new ol(this.firestore,void 0===e?Ca(this._delegate):Ca(this._delegate,e))}catch(e){throw il(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=wa(e.firestore,Da),r=Ca(e),o=Fu(e.converter,t);return Wu(n,[Xa(Ya(e.firestore),"addDoc",r._key,o,null!==e.converter,{}).toMutation(r._key,at.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ol(t.firestore,e)}))},t.prototype.isEqual=function(e){return Ia(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(rl.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(cl);function hl(e){return wa(e,Sa)}var ml=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Ua.bind.apply(Ua,Object(r.d)([void 0],e)))}return e.documentId=function(){return new e(R.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(o.h)(e))instanceof Ua&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),vl=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new eu("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ja("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new tu("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new nu("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new ru("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}()}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/@firebase/firestore/node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}Object.create;function a(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||t)}Object.create},"./node_modules/@firebase/logger/dist/index.esm.js":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}var o;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p}));var i,s=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var a={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},u=i.INFO,l=((o={})[i.DEBUG]="log",o[i.VERBOSE]="log",o[i.INFO]="info",o[i.WARN]="warn",o[i.ERROR]="error",o),c=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(t<e.logLevel)){var i=(new Date).toISOString(),s=l[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,r(["["+i+"]  "+e.name+":"],n))}},d=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.DEBUG],e)),this._logHandler.apply(this,r([this,i.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.VERBOSE],e)),this._logHandler.apply(this,r([this,i.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.INFO],e)),this._logHandler.apply(this,r([this,i.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.WARN],e)),this._logHandler.apply(this,r([this,i.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.ERROR],e)),this._logHandler.apply(this,r([this,i.ERROR],e))},e}();function f(e){s.forEach((function(t){t.setLogLevel(e)}))}function p(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:a,args:o,type:t.name})}},r=0,o=s;r<o.length;r++){n(o[r])}}},"./node_modules/@firebase/util/dist/index.esm.js":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return T})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return v})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return f})),n.d(t,"p",(function(){return m})),n.d(t,"q",(function(){return b})),n.d(t,"r",(function(){return y}));var r=n("./node_modules/@firebase/util/node_modules/tslib/tslib.es6.js"),o=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var i=e[o],s=o+1<e.length,a=s?e[o+1]:0,u=o+2<e.length,l=u?e[o+2]:0,c=i>>2,d=(3&i)<<4|a>>4,f=(15&a)<<2|l>>6,p=63&l;u||(p=64,s||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var s=((7&o)<<18|(63&(i=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{i=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var i=n[e.charAt(o++)],s=o<e.length?n[e.charAt(o)]:0,a=++o<e.length?n[e.charAt(o)]:64,u=++o<e.length?n[e.charAt(o)]:64;if(++o,null==i||null==s||null==a||null==u)throw Error();var l=i<<2|s>>4;if(r.push(l),64!==a){var c=s<<4&240|a>>2;if(r.push(c),64!==u){var d=a<<6&192|u;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function s(e){return a(void 0,e)}function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=a(e[n],t[n]));return e}var u=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function l(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function f(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function p(){return"object"===typeof self&&self.self===self}function h(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function m(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function v(){return c().indexOf("Electron/")>=0}function g(){var e=c();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}function b(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var j=function(e){function t(n,r,o){var i=e.call(this,r)||this;return i.code=n,i.customData=o,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,w.prototype.create),i}return Object(r.b)(t,e),t}(Error),w=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},o=this.service+"/"+e,i=this.errors[e],s=i?_(i,r):"Error",a=this.serviceName+": "+s+" ("+o+").",u=new j(o,a,r);return u},e}();function _(e,t){return e.replace(x,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var x=/\{\$([^}]+)}/g;function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var o=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(o<<1|o>>>31)}var i,s,a=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],d=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^u&(l^c),s=1518500249):(i=u^l^c,s=1859775393):r<60?(i=u&l|c&(u|l),s=2400959708):(i=u^l^c,s=3395469782);o=(a<<5|a>>>27)+i+d+s+n[r]&4294967295;d=c,c=l,l=4294967295&(u<<30|u>>>2),u=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++r,++i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++r,++i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[n]>>o&255,++r;return e}}();function S(e,t){var n=new O(e,t);return n.subscribe.bind(n)}var O=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,o=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&"function"===typeof e[o])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(e){}})),this.observers.push(r),i},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function k(){}function T(e){return e&&e._delegate?e._delegate:e}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/@firebase/util/node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.create;Object.create},"./node_modules/@firebase/webchannel-wrapper/dist/index.esm.js":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return lr})),n.d(t,"b",(function(){return dr})),n.d(t,"c",(function(){return cr})),n.d(t,"d",(function(){return pr})),n.d(t,"e",(function(){return fr})),n.d(t,"f",(function(){return hr})),n.d(t,"g",(function(){return mr})),n.d(t,"h",(function(){return ar})),n.d(t,"i",(function(){return ur}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var i,s="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},a=a||{},u=s||self;function l(){}function c(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function d(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var f="closure_uid_"+(1e9*Math.random()>>>0),p=0;function h(e,t,n){return e.call.apply(e.bind,arguments)}function m(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function v(e,t,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?h:m).apply(null,arguments)}function g(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function y(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function b(){this.s=this.s,this.o=this.o}var j={};b.prototype.s=!1,b.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,f)&&e[f]||(e[f]=++p)}(this);delete j[e]}},b.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var w=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},_=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o="string"===typeof e?e.split(""):e,i=0;i<r;i++)i in o&&t.call(n,o[i],i,e)};function x(e){return Array.prototype.concat.apply([],arguments)}function E(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function S(e){return/^[\s\xa0]*$/.test(e)}var O,k=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function T(e,t){return-1!=e.indexOf(t)}function C(e,t){return e<t?-1:e>t?1:0}e:{var I=u.navigator;if(I){var A=I.userAgent;if(A){O=A;break e}}O=""}function R(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function P(e){var t={};for(var n in e)t[n]=e[n];return t}var N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var i=0;i<N.length;i++)n=N[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){return L[" "](e),e}L[" "]=l;var M,F=T(O,"Opera"),q=T(O,"Trident")||T(O,"MSIE"),U=T(O,"Edge"),B=U||q,V=T(O,"Gecko")&&!(T(O.toLowerCase(),"webkit")&&!T(O,"Edge"))&&!(T(O,"Trident")||T(O,"MSIE"))&&!T(O,"Edge"),z=T(O.toLowerCase(),"webkit")&&!T(O,"Edge");function H(){var e=u.document;return e?e.documentMode:void 0}e:{var W="",G=function(){var e=O;return V?/rv:([^\);]+)(\)|;)/.exec(e):U?/Edge\/([\d\.]+)/.exec(e):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):z?/WebKit\/(\S+)/.exec(e):F?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(G&&(W=G?G[1]:""),q){var K=H();if(null!=K&&K>parseFloat(W)){M=String(K);break e}}M=W}var $,Q={};function Y(){return function(){}((function(){for(var e=0,t=k(String(M)).split("."),n=k("9").split("."),r=Math.max(t.length,n.length),o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=C(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||C(0==i[2].length,0==s[2].length)||C(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}))}if(u.document&&q){var X=H();$=X||(parseInt(M,10)||void 0)}else $=void 0;var J=$,Z=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",l,t),u.removeEventListener("test",l,t)}catch(n){}return e}();function ee(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function te(e,t){if(ee.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(V){e:{try{L(t.nodeName);var o=!0;break e}catch(i){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ne[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&te.Z.h.call(this)}}ee.prototype.h=function(){this.defaultPrevented=!0},y(te,ee);var ne={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),oe=0;function ie(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++oe,this.ca=this.fa=!1}function se(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ae(e){this.src=e,this.g={},this.h=0}function ue(e,t){var n=t.type;if(n in e.g){var r,o=e.g[n],i=w(o,t);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(se(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function le(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.ca&&i.listener==t&&i.capture==!!n&&i.ia==r)return o}return-1}ae.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=le(e,t,r,o);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new ie(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var ce="closure_lm_"+(1e6*Math.random()|0),de={};function fe(e,t,n,r,o){if(r&&r.once)return function e(t,n,r,o,i){if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,o,i);return null}return r=be(r),t&&t[re]?t.O(n,r,d(o)?!!o.capture:!!o,i):pe(t,n,r,!0,o,i)}(e,t,n,r,o);if(Array.isArray(t)){for(var i=0;i<t.length;i++)fe(e,t[i],n,r,o);return null}return n=be(n),e&&e[re]?e.N(t,n,d(r)?!!r.capture:!!r,o):pe(e,t,n,!1,r,o)}function pe(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var s=d(o)?!!o.capture:!!o,a=ge(e);if(a||(e[ce]=a=new ae(e)),(n=a.add(t,n,r,s,i)).proxy)return n;if(r=function(){var e=ve;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Z||(o=s),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(me(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function he(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[re])ue(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(me(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ge(t))?(ue(n,e),0==n.h&&(n.src=null,t[ce]=null)):se(e)}}}function me(e){return e in de?de[e]:de[e]="on"+e}function ve(e,t){if(e.ca)e=!0;else{t=new te(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&he(e),e=n.call(r,t)}return e}function ge(e){return(e=e[ce])instanceof ae?e:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(e){return"function"===typeof e?e:(e[ye]||(e[ye]=function(t){return e.handleEvent(t)}),e[ye])}function je(){b.call(this),this.i=new ae(this),this.P=this,this.I=null}function we(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ee(t,e);else if(t instanceof ee)t.target=t.target||e;else{var o=t;D(t=new ee(r,e),o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];o=_e(s,r,!0,t)&&o}if(o=_e(s=t.g=e,r,!0,t)&&o,o=_e(s,r,!1,t)&&o,n)for(i=0;i<n.length;i++)o=_e(s=t.g=n[i],r,!1,t)&&o}function _e(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&ue(e.i,s),o=!1!==a.call(u,r)&&o}}return o&&!r.defaultPrevented}y(je,b),je.prototype[re]=!0,je.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,o,i){if(Array.isArray(n))for(var s=0;s<n.length;s++)e(t,n[s],r,o,i);else o=d(o)?!!o.capture:!!o,r=be(r),t&&t[re]?(t=t.i,(n=String(n).toString())in t.g&&(-1<(r=le(s=t.g[n],r,o,i))&&(se(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.g[n],t.h--)))):t&&(t=ge(t))&&(n=t.g[n.toString()],t=-1,n&&(t=le(n,r,o,i)),(r=-1<t?n[t]:null)&&he(r))}(this,e,t,n,r)},je.prototype.M=function(){if(je.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)se(n[r]);delete t.g[e],t.h--}}this.I=null},je.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},je.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var xe=u.JSON.stringify;function Ee(){var e=Re,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Se,Oe=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=ke.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),ke=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Te}),(function(e){return e.reset()})),Te=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Ce(e){u.setTimeout((function(){throw e}),0)}function Ie(e,t){Se||function(){var e=u.Promise.resolve(void 0);Se=function(){e.then(Pe)}}(),Ae||(Se(),Ae=!0),Re.add(e,t)}var Ae=!1,Re=new Oe;function Pe(){for(var e;e=Ee();){try{e.h.call(e.g)}catch(n){Ce(n)}var t=ke;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ae=!1}function Ne(e,t){je.call(this),this.h=e||1,this.g=t||u,this.j=v(this.kb,this),this.l=Date.now()}function De(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Le(e,t,n){if("function"===typeof e)n&&(e=v(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=v(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function Me(e){e.g=Le((function(){e.g=null,e.i&&(e.i=!1,Me(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}y(Ne,je),(i=Ne.prototype).da=!1,i.S=null,i.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),we(this,"tick"),this.da&&(De(this),this.start()))}},i.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.M=function(){Ne.Z.M.call(this),De(this),delete this.g};var Fe=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Me(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(b);function qe(e){b.call(this),this.h=e,this.g={}}y(qe,b);var Ue=[];function Be(e,t,n,r){Array.isArray(n)||(n&&(Ue[0]=n.toString()),n=Ue);for(var o=0;o<n.length;o++){var i=fe(t,n[o],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function Ve(e){R(e.g,(function(e,t){this.g.hasOwnProperty(t)&&he(e)}),e),e.g={}}function ze(){this.g=!0}function He(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<o.length;s++)o[s]=""}}}return xe(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}qe.prototype.M=function(){qe.Z.M.call(this),Ve(this)},qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ze.prototype.Aa=function(){this.g=!1},ze.prototype.info=function(){};var We={},Ge=null;function Ke(){return Ge=Ge||new je}function $e(e){ee.call(this,We.Ma,e)}function Qe(e){var t=Ke();we(t,new $e(t,e))}function Ye(e,t){ee.call(this,We.STAT_EVENT,e),this.stat=t}function Xe(e){var t=Ke();we(t,new Ye(t,e))}function Je(e,t){ee.call(this,We.Na,e),this.size=t}function Ze(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){e()}),t)}We.Ma="serverreachability",y($e,ee),We.STAT_EVENT="statevent",y(Ye,ee),We.Na="timingevent",y(Je,ee);var et={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},tt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function nt(){}function rt(e){return e.h||(e.h=e.i())}function ot(){}nt.prototype.h=null;var it,st={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function at(){ee.call(this,"d")}function ut(){ee.call(this,"c")}function lt(){}function ct(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new qe(this),this.P=ft,e=B?125:void 0,this.W=new Ne(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}y(at,ee),y(ut,ee),y(lt,nt),lt.prototype.g=function(){return new XMLHttpRequest},lt.prototype.i=function(){return{}},it=new lt;var ft=45e3,pt={},ht={};function mt(e,t,n){e.K=1,e.v=Ft(Rt(t)),e.s=n,e.U=!0,vt(e,null)}function vt(e,t){e.F=Date.now(),jt(e),e.A=Rt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Xt(n.h,"t",r),e.C=0,n=e.l.H,e.h=new dt,e.g=er(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Fe(v(e.Ia,e,e.g),e.O)),Be(e.V,e.g,"readystatechange",e.gb),t=e.H?P(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Qe(1),function(e,t,n,r,o,i){e.info((function(){if(e.g)if(i)for(var s="",a=i.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");s=2<=d.length&&"type"==d[1]?s+(c+"=")+l+"&":s+(c+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function gt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function yt(e,t,n){for(var r,o=!0;!e.I&&e.C<n.length;){if((r=bt(e,n))==ht){4==t&&(e.o=4,Xe(14),o=!1),He(e.j,e.m,null,"[Incomplete Response]");break}if(r==pt){e.o=4,Xe(15),He(e.j,e.m,n,"[Invalid Chunk]"),o=!1;break}He(e.j,e.m,r,null),St(e,r)}gt(e)&&r!=ht&&r!=pt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Xe(16),o=!1),e.i=e.i&&o,o?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gn(t),t.L=!0,Xe(11))):(He(e.j,e.m,n,"[Invalid Chunked Response]"),Et(e),xt(e))}function bt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ht:(n=Number(t.substring(n,r)),isNaN(n)?pt:(r+=1)+n>t.length?ht:(t=t.substr(r,n),e.C=r+n,t))}function jt(e){e.Y=Date.now()+e.P,wt(e,e.P)}function wt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ze(v(e.eb,e),t)}function _t(e){e.B&&(u.clearTimeout(e.B),e.B=null)}function xt(e){0==e.l.G||e.I||Qn(e.l,e)}function Et(e){_t(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,De(e.W),Ve(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function St(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||sn(n.i,e)))if(n.I=e.N,!e.J&&sn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(i){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;$n(n),Mn(n)}Wn(n),Xe(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ze(v(n.ab,n),6e3));if(1>=on(n.i)&&n.ka){try{n.ka()}catch(i){}n.ka=void 0}}else Xn(n,11)}else if((e.J||n.g==e)&&$n(n),!S(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var i=o[t];if(n.U=i[0],i=i[1],2==n.G)if("c"==i[0]){n.J=i[1],n.la=i[2];var s=i[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=i[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=i[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var d=r.i;!d.g&&(T(c,"spdy")||T(c,"quic")||T(c,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(an(d,d.h),d.h=null))}if(r.D){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Mt(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var p=e;if((r=n).oa=Zn(r,r.H?r.la:null,r.W),p.J){un(r.i,p);var h=p,m=r.K;m&&h.setTimeout(m),h.B&&(_t(h),jt(h)),r.g=p}else Hn(r);0<n.l.length&&Un(n)}else"stop"!=i[0]&&"close"!=i[0]||Xn(n,7);else 3==n.G&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Xn(n,7):Ln(n):"noop"!=i[0]&&n.j&&n.j.wa(i),n.A=0)}Qe(4)}catch(i){}}function Ot(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(c(e)||"string"===typeof e)_(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(c(e)||"string"===typeof e){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;o=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(c(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var i=0;i<o;i++)t.call(void 0,r[i],n&&n[i],e)}}function kt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof kt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Tt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ct(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)Ct(o,r=e.g[t])||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}function Ct(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(i=ct.prototype).setTimeout=function(e){this.P=e},i.gb=function(e){e=e.target;var t=this.L;t&&3==An(e)?t.l():this.Ia(e)},i.Ia=function(e){try{if(e==this.g)e:{var t=An(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||B||this.g&&(this.h.h||this.g.ga()||Rn(this.g)))){this.I||4!=t||7==n||Qe(8==n||0>=r?3:2),_t(this);var o=this.g.ba();this.N=o;t:if(gt(this)){var i=Rn(this.g);e="";var s=i.length,a=4==An(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Et(this),xt(this);var l="";break t}this.h.i=new u.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:a&&n==s-1});i.splice(0,s),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==o,function(e,t,n,r,o,i,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+s}))}(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var c,d=this.g;if((c=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(c)){var f=c;break t}}f=null}if(!(o=f)){this.i=!1,this.o=3,Xe(12),Et(this),xt(this);break e}He(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,St(this,o)}this.U?(yt(this,t,l),B&&this.i&&3==t&&(Be(this.V,this.W,"tick",this.fb),this.W.start())):(He(this.j,this.m,l,null),St(this,l)),4==t&&Et(this),this.i&&!this.I&&(4==t?Qn(this.l,this):(this.i=!1,jt(this)))}else 400==o&&0<l.indexOf("Unknown SID")?(this.o=3,Xe(12)):(this.o=0,Xe(13)),Et(this),xt(this)}}}catch(t){}},i.fb=function(){if(this.g){var e=An(this.g),t=this.g.ga();this.C<t.length&&(_t(this),yt(this,e,t),this.i&&4!=e&&jt(this))}},i.cancel=function(){this.I=!0,Et(this)},i.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Qe(3),Xe(17)),Et(this),this.o=2,xt(this)):wt(this,this.Y-e)},(i=kt.prototype).R=function(){Tt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},i.T=function(){return Tt(this),this.g.concat()},i.get=function(e,t){return Ct(this.h,e)?this.h[e]:t},i.set=function(e,t){Ct(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},i.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);e.call(t,i,o,this)}};var It=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function At(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof At){this.g=void 0!==t?t:e.g,Pt(this,e.j),this.s=e.s,Nt(this,e.i),Dt(this,e.m),this.l=e.l,t=e.h;var n=new Kt;n.i=t.i,t.g&&(n.g=new kt(t.g),n.h=t.h),Lt(this,n),this.o=e.o}else e&&(n=String(e).match(It))?(this.g=!!t,Pt(this,n[1]||"",!0),this.s=qt(n[2]||""),Nt(this,n[3]||"",!0),Dt(this,n[4]),this.l=qt(n[5]||"",!0),Lt(this,n[6]||"",!0),this.o=qt(n[7]||"")):(this.g=!!t,this.h=new Kt(null,this.g))}function Rt(e){return new At(e)}function Pt(e,t,n){e.j=n?qt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Nt(e,t,n){e.i=n?qt(t,!0):t}function Dt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Lt(e,t,n){t instanceof Kt?(e.h=t,function(e,t){t&&!e.j&&($t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Qt(this,t),Xt(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ut(t,Wt)),e.h=new Kt(t,e.g))}function Mt(e,t,n){e.h.set(t,n)}function Ft(e){return Mt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ut(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Bt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Bt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}At.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ut(t,Vt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ut(t,Vt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ut(n,"/"==n.charAt(0)?Ht:zt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ut(n,Gt)),e.join("")};var Vt=/[#\/\?@]/g,zt=/[#\?:]/g,Ht=/[#\?]/g,Wt=/[#\?@]/g,Gt=/#/g;function Kt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $t(e){e.g||(e.g=new kt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Qt(e,t){$t(e),t=Jt(e,t),Ct(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ct((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Tt(e)))}function Yt(e,t){return $t(e),t=Jt(e,t),Ct(e.g.h,t)}function Xt(e,t,n){Qt(e,t),0<n.length&&(e.i=null,e.g.set(Jt(e,t),E(n)),e.h+=n.length)}function Jt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(i=Kt.prototype).add=function(e,t){$t(this),this.i=null,e=Jt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},i.forEach=function(e,t){$t(this),this.g.forEach((function(n,r){_(n,(function(n){e.call(t,n,r,this)}),this)}),this)},i.T=function(){$t(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],i=0;i<o.length;i++)n.push(t[r]);return n},i.R=function(e){$t(this);var t=[];if("string"===typeof e)Yt(this,e)&&(t=x(t,this.g.get(Jt(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=x(t,e[n])}return t},i.set=function(e,t){return $t(this),this.i=null,Yt(this,e=Jt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},i.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var i=0;i<r.length;i++){var s=o;""!==r[i]&&(s+="="+encodeURIComponent(String(r[i]))),e.push(s)}}return this.i=e.join("&")};var Zt=function(e,t){this.h=e,this.g=t};function en(e){this.l=e||nn,u.PerformanceNavigationTiming?e=0<(e=u.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(u.g&&u.g.Ea&&u.g.Ea()&&u.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tn,nn=10;function rn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function on(e){return e.h?1:e.g?e.g.size:0}function sn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function an(e,t){e.g?e.g.add(t):e.h=t}function un(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ln(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=o(e.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return E(e.i)}function cn(){}function dn(){this.g=new cn}function fn(e,t,n){var r=n||"";try{Ot(e,(function(e,n){var o=e;d(e)&&(o=xe(e)),t.push(r+n+"="+encodeURIComponent(o))}))}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function pn(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch(i){}}function hn(e){this.l=e.$b||null,this.j=e.ib||!1}function mn(e,t){je.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=vn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}en.prototype.cancel=function(){var e,t;if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=o(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},cn.prototype.stringify=function(e){return u.JSON.stringify(e,void 0)},cn.prototype.parse=function(e){return u.JSON.parse(e,void 0)},y(hn,nt),hn.prototype.g=function(){return new mn(this.l,this.j)},hn.prototype.i=(tn={},function(){return tn}),y(mn,je);var vn=0;function gn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function yn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,bn(e)}function bn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(i=mn.prototype).open=function(e,t){if(this.readyState!=vn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,bn(this)},i.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||u).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yn(this)),this.readyState=vn},i.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,bn(this)),this.g&&(this.readyState=3,bn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof u.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},i.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?yn(this):bn(this),3==this.readyState&&gn(this)}},i.Ua=function(e){this.g&&(this.response=this.responseText=e,yn(this))},i.Ta=function(e){this.g&&(this.response=e,yn(this))},i.ha=function(){this.g&&yn(this)},i.setRequestHeader=function(e,t){this.v.append(e,t)},i.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(mn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var jn=u.JSON.parse;function wn(e){je.call(this),this.headers=new kt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_n,this.K=this.L=!1}y(wn,je);var _n="",xn=/^https?$/i,En=["POST","PUT"];function Sn(e){return"content-type"==e.toLowerCase()}function On(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,kn(e),Cn(e)}function kn(e){e.D||(e.D=!0,we(e,"complete"),we(e,"error"))}function Tn(e){if(e.h&&"undefined"!=typeof a&&(!e.C[1]||4!=An(e)||2!=e.ba()))if(e.v&&4==An(e))Le(e.Fa,0,e);else if(we(e,"readystatechange"),4==An(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var o;if(o=0===n){var i=String(e.H).match(It)[1]||null;if(!i&&u.self&&u.self.location){var s=u.self.location.protocol;i=s.substr(0,s.length-1)}o=!xn.test(i?i.toLowerCase():"")}t=o}if(t)we(e,"complete"),we(e,"success");else{e.m=6;try{var l=2<An(e)?e.g.statusText:""}catch(c){l=""}e.j=l+" ["+e.ba()+"]",kn(e)}}finally{Cn(e)}}}function Cn(e,t){if(e.g){In(e);var n=e.g,r=e.C[0]?l:null;e.g=null,e.C=null,t||we(e,"ready");try{n.onreadystatechange=r}catch(o){}}}function In(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(u.clearTimeout(e.A),e.A=null)}function An(e){return e.g?e.g.readyState:0}function Rn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case _n:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Pn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return R(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Mt(e,t,n))}function Nn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Dn(e){this.za=0,this.l=[],this.h=new ze,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Nn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Nn("baseRetryDelayMs",5e3,e),this.$a=Nn("retryDelaySeedMs",1e4,e),this.Ya=Nn("forwardChannelMaxRetries",2,e),this.ra=Nn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new en(e&&e.concurrentRequestLimit),this.Ca=new dn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ln(e){if(Fn(e),3==e.G){var t=e.V++,n=Rt(e.F);Mt(n,"SID",e.J),Mt(n,"RID",t),Mt(n,"TYPE","terminate"),Vn(e,n),(t=new ct(e,e.h,t,void 0)).K=2,t.v=Ft(Rt(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(t.v.toString(),"")),!n&&u.Image&&((new Image).src=t.v,n=!0),n||(t.g=er(t.l,null),t.g.ea(t.v)),t.F=Date.now(),jt(t)}Jn(e)}function Mn(e){e.g&&(Gn(e),e.g.cancel(),e.g=null)}function Fn(e){Mn(e),e.u&&(u.clearTimeout(e.u),e.u=null),$n(e),e.i.cancel(),e.m&&("number"===typeof e.m&&u.clearTimeout(e.m),e.m=null)}function qn(e,t){e.l.push(new Zt(e.Za++,t)),3==e.G&&Un(e)}function Un(e){rn(e.i)||e.m||(e.m=!0,Ie(e.Ha,e),e.C=0)}function Bn(e,t){var n;n=t?t.m:e.V++;var r=Rt(e.F);Mt(r,"SID",e.J),Mt(r,"RID",n),Mt(r,"AID",e.U),Vn(e,r),e.o&&e.s&&Pn(r,e.o,e.s),n=new ct(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=zn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),an(e.i,n),mt(n,r,t)}function Vn(e,t){e.j&&Ot({},(function(e,n){Mt(t,n,e)}))}function zn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?v(e.j.Oa,e.j,e):null;e:for(var o=e.l,i=-1;;){var s=["count="+n];-1==i?0<n?(i=o[0].h,s.push("ofs="+i)):i=0:s.push("ofs="+i);for(var a=!0,u=0;u<n;u++){var l=o[u].h,c=o[u].g;if(0>(l-=i))i=Math.max(0,o[u].h-100),a=!1;else try{fn(c,s,"req"+l+"_")}catch(d){r&&r(c)}}if(a){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Hn(e){e.g||e.u||(e.Y=1,Ie(e.Ga,e),e.A=0)}function Wn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Ze(v(e.Ga,e),Yn(e,e.A)),e.A++,!0)}function Gn(e){null!=e.B&&(u.clearTimeout(e.B),e.B=null)}function Kn(e){e.g=new ct(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Rt(e.oa);Mt(t,"RID","rpc"),Mt(t,"SID",e.J),Mt(t,"CI",e.N?"0":"1"),Mt(t,"AID",e.U),Vn(e,t),Mt(t,"TYPE","xmlhttp"),e.o&&e.s&&Pn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ft(Rt(t)),n.s=null,n.U=!0,vt(n,e)}function $n(e){null!=e.v&&(u.clearTimeout(e.v),e.v=null)}function Qn(e,t){var n=null;if(e.g==t){$n(e),Gn(e),e.g=null;var r=2}else{if(!sn(e.i,t))return;n=t.D,un(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;we(r=Ke(),new Je(r,n,t,o)),Un(e)}else Hn(e);else if(3==(o=t.o)||0==o&&0<e.I||!(1==r&&function(e,t){return!(on(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Ze(v(e.Ha,e,t),Yn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Wn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Xn(e,5);break;case 4:Xn(e,10);break;case 3:Xn(e,6);break;default:Xn(e,2)}}function Yn(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Xn(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=v(e.jb,e);n||(n=new At("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Pt(n,"https"),Ft(n)),function(e,t){var n=new ze;if(u.Image){var r=new Image;r.onload=g(pn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=g(pn,n,r,"TestLoadImage: error",!1,t),r.onabort=g(pn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=g(pn,n,r,"TestLoadImage: timeout",!1,t),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xe(2);e.G=0,e.j&&e.j.va(t),Jn(e),Fn(e)}function Jn(e){e.G=0,e.I=-1,e.j&&(0==ln(e.i).length&&0==e.l.length||(e.i.i.length=0,E(e.l),e.l.length=0),e.j.ua())}function Zn(e,t,n){var r=function(e){return e instanceof At?Rt(e):new At(e,void 0)}(n);if(""!=r.i)t&&Nt(r,t+"."+r.i),Dt(r,r.m);else{var o=u.location;r=function(e,t,n,r){var o=new At(null,void 0);return e&&Pt(o,e),t&&Nt(o,t),n&&Dt(o,n),r&&(o.l=r),o}(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&R(e.aa,(function(e,t){Mt(r,t,e)})),t=e.D,n=e.sa,t&&n&&Mt(r,t,n),Mt(r,"VER",e.ma),Vn(e,r),r}function er(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new wn(new hn({ib:!0})):new wn(e.qa)).L=e.H,t}function tr(){}function nr(){if(q&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function rr(e,t){je.call(this),this.g=new Dn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!S(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new sr(this)}function or(e){at.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ir(){ut.call(this),this.status=1}function sr(e){this.g=e}(i=wn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():it.g(),this.C=this.u?rt(this.u):rt(it),this.g.onreadystatechange=v(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){return void On(this,i)}e=n||"";var o=new kt(this.headers);r&&Ot(r,(function(e,t){o.set(t,e)})),r=function(e){e:{for(var t=Sn,n=e.length,r="string"===typeof e?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.T()),n=u.FormData&&e instanceof u.FormData,!(0<=w(En,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{In(this),0<this.B&&((this.K=function(){}