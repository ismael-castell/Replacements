(self.webpackChunkmain=self.webpackChunkmain||[]).push([["node_modules_boomerang_build_boomerang-1_0_0_js"],{99193:()=>{function Oe(o){if(window){if(!o){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&BOOMR.boomerang_frame&&BOOMR.window)try{BOOMR.boomerang_frame.document.domain!==BOOMR.window.document.domain&&(BOOMR.boomerang_frame.document.domain=BOOMR.window.document.domain)}catch(r){BOOMR.isCrossOriginError(r)||BOOMR.addError(r,"BOOMR_check_doc_domain.domainFix")}o=document.domain}if(-1!==o.indexOf(".")){try{return void window}catch(r){document.domain=o}try{return void window}catch(r){o=o.replace(/^[\w\-]+\./,"")}Oe(o)}}}var o,i,r,R;window.BOOMR_start=(new Date).getTime(),Oe(),function(o){var i,r,m,R,y,t,l,e,O=o;if(o.parent!==o&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(o=o.parent),m=o.document,o.BOOMR||(o.BOOMR={}),BOOMR=o.BOOMR,!BOOMR.version){BOOMR.version="1.0.0",BOOMR.window=o,BOOMR.boomerang_frame=O,BOOMR.plugins||(BOOMR.plugins={}),function(){try{void 0!==new o.CustomEvent("CustomEvent")&&(R=function(e,s){return new o.CustomEvent(e,s)})}catch(e){}try{!R&&m.createEvent&&m.createEvent("CustomEvent")&&(R=function(e,s){var a=m.createEvent("CustomEvent");return a.initCustomEvent(e,(s=s||{cancelable:!1,bubbles:!1}).bubbles,s.cancelable,s.detail),a})}catch(e){}!R&&m.createEventObject&&(R=function(e,s){var a=m.createEventObject();return a.type=a.propertyName=e,a.detail=s.detail,a}),R||(R=function(){})}(),y=function(e,s,a){var g=R(e,{detail:s});function(){}g&&(a?BOOMR.setImmediate(p):p())},void 0!==m.hidden?(t="visibilityState",l="visibilitychange"):void 0!==m.mozHidden?(t="mozVisibilityState",l="mozvisibilitychange"):void 0!==m.msHidden?(t="msVisibilityState",l="msvisibilitychange"):void 0!==m.webkitHidden&&(t="webkitVisibilityState",l="webkitvisibilitychange"),i={beacon_url:"",beacon_url_force_https:!0,beacon_urls_allowed:[],beacon_type:"AUTO",beacon_auth_key:"Authorization",beacon_auth_token:void 0,beacon_with_credentials:!1,beacon_disable_sendbeacon:!1,site_domain:o.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,hasSentPageLoadBeacon:!1,r:void 0,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],prerender_to_visible:[],before_beacon:[],beacon:[],page_load_beacon:[],xhr_load:[],click:[],form_submit:[],config:[],xhr_init:[],spa_init:[],spa_navigation:[],spa_cancel:[],xhr_send:[],xhr_error:[],error:[],xhr_send:[],netinfo:[],rage_click:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",beacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},translate_events:{onbeacon:"beacon",onconfig:"config",onerror:"error",onxhrerror:"xhr_error"},listenerCallbacks:{},vars:{},singleBeaconVars:{},varPriority:{"-1":{},1:{}},errors:{},disabled_plugins:{},localStorageSupported:!1,LOCAL_STORAGE_PREFIX:"_boomr_",xb_handler:function(e){return function(s){var a;s||(s=o.event),s.target?a=s.target:s.srcElement&&(a=s.srcElement),3===a.nodeType&&(a=a.parentNode),(!a||!a.nodeName||"OBJECT"!==a.nodeName.toUpperCase()||"application/x-shockwave-flash"!==a.type)&&i.fireEvent(e,a)}},clearEvents:function(){},clearListeners:function(){},fireEvent:function(e,s){var a,g,p,b;if(e=e.toLowerCase(),this.translate_events[e]&&(e=this.translate_events[e]),this.events.hasOwnProperty(e)){for(this.public_events.hasOwnProperty(e)&&y(this.public_events[e],s),p=this.events[e],"before_beacon"!==e&&"beacon"!==e&&BOOMR.real_sendBeacon(),b=p.length,a=0;a<b;a++)try{(g=p[a]).fn.call(g.scope,s,g.cb_data)}catch(L){BOOMR.addError(L,"fireEvent."+e+"<"+a+">")}for(a=0;a<b;a++)p[a].once&&(p.splice(a,1),b--,a--)}},spaNavigation:function(){i.onloadfired=!0},beaconUrlAllowed:function(e){if(!i.beacon_urls_allowed||0===i.beacon_urls_allowed.length)return!0;for(var s=0;s<i.beacon_urls_allowed.length;s++)if(new RegExp(i.beacon_urls_allowed[s]).exec(e))return!0;return!1},checkLocalStorageSupport:function(){var e=i.LOCAL_STORAGE_PREFIX+"clss";i.localStorageSupported=!1;try{if(!o.JSON||!o.localStorage)return;o.localStorage.setItem(e,e),i.localStorageSupported=o.localStorage.getItem(e)===e,o.localStorage.removeItem(e)}catch(s){i.localStorageSupported=!1}}},r={t_start:BOOMR_start,t_end:void 0,url:"",config_url:null,loadedLate:!1,beaconsSent:0,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:2e3},session:{domain:i.site_domain,ID:Math.random().toString(36).replace(/^0\./,""),start:void 0,length:0,enabled:!0},utils:{hasPostMessageSupport:function(){},objectToString:function(e,s,a){var p,g=[];if(!e||"object"!=typeof e)return e;if(void 0===s&&(s="\n\t"),a||(a=0),BOOMR.utils.isArray(e)){for(p=0;p<e.length;p++)g.push(a>0&&null!==e[p]&&"object"==typeof e[p]?this.objectToString(e[p],s+("\n\t"===s?"\t":""),a-1):"&"===s?encodeURIComponent(e[p]):e[p]);s=","}else for(p in e)Object.prototype.hasOwnProperty.call(e,p)&&g.push(a>0&&null!==e[p]&&"object"==typeof e[p]?encodeURIComponent(p)+"="+this.objectToString(e[p],s+("\n\t"===s?"\t":""),a-1):"&"===s?encodeURIComponent(p)+"="+encodeURIComponent(e[p]):p+"="+e[p]);return g.join(s)},getCookie:function(e){return e?(s=(a=" "+m.cookie+";").indexOf(e=" "+e+"="))>=0?a=a.substring(s+=e.length,a.indexOf(";",s)).replace(/^"/,"").replace(/"$/,""):void 0:null;var s,a},setCookie:function(e,s,a){var g,p,b,L,q;if(!e||!BOOMR.session.domain||void 0===s)return BOOMR.debug("Invalid parameters or site domain: "+e+"/"+s+"/"+BOOMR.session.domain),BOOMR.addVar("nocookie",1),!1;if((p=e+'="'+(g=this.objectToString(s,"&"))+'"').length<500){if(L=[p,"path=/","domain="+BOOMR.session.domain],"number"==typeof a&&((q=new Date).setTime(q.getTime()+1e3*a),q=q.toGMTString(),L.push("expires="+q)),m.cookie=L.join("; "),g===(b=this.getCookie(e))||void 0===b&&"number"==typeof a&&a<=0)return!0;BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+g+"\n"+b)}else BOOMR.warn("Cookie too long: "+p.length+" "+p);return BOOMR.addVar("nocookie",1),!1},getSubCookies:function(e){var s,a,g,p,b=!1,L={};if(!e)return null;if("string"!=typeof e)return BOOMR.debug("TypeError: cookie is not a string: "+typeof e),null;for(a=0,g=(s=e.split("&")).length;a<g;a++)(p=s[a].split("="))[0]&&(p.push(""),L[decodeURIComponent(p[0])]=decodeURIComponent(p[1]),b=!0);return b?L:null},removeCookie:function(){},getLocalStorage:function(e){var s,a;if(!e||!i.localStorageSupported)return null;try{if(null===(s=o.localStorage.getItem(i.LOCAL_STORAGE_PREFIX+e)))return;a=o.JSON.parse(s)}catch(g){return BOOMR.warn(g),null}return a&&"object"==typeof a.items?"number"==typeof a.expires&&BOOMR.now()>=a.expires?void this.removeLocalStorage(e):a.items:(this.removeLocalStorage(e),null)},setLocalStorage:function(e,s,a){var g,p,b;if(!e||!i.localStorageSupported||"object"!=typeof s)return!1;if(g={items:s},"number"==typeof a&&(g.expires=BOOMR.now()+1e3*a),(p=o.JSON.stringify(g)).length<5e4){try{if(o.localStorage.setItem(i.LOCAL_STORAGE_PREFIX+e,p),p===(b=o.localStorage.getItem(i.LOCAL_STORAGE_PREFIX+e)))return!0}catch(L){}BOOMR.warn("Saved storage value doesn't match what we tried to set:\n"+p+"\n"+b)}else BOOMR.warn("Storage items too large: "+p.length+" "+p);return!1},removeLocalStorage:function(e){if(!e||!i.localStorageSupported)return!1;try{return o.localStorage.removeItem(i.LOCAL_STORAGE_PREFIX+e),!0}catch(s){}return!1},cleanupURL:function(e,s){if(!e||BOOMR.utils.isArray(e))return"";if(i.strip_query_string&&(e=e.replace(/\?.*/,"?qs-redacted")),void 0!==s&&e&&e.length>s){var a=e.indexOf("?");e=-1!==a&&a<s?e.substr(0,a)+"?...":e.substr(0,s-3)+"..."}return e},hashQueryString:function(e,s){return e&&(e.match?(e.match(/^\/\//)&&(e=location.protocol+e),e.match(/^(https?|file):/)?(s&&(e=e.replace(/#.*/,"")),BOOMR.utils.MD5?e.replace(/\?([^#]*)/,function(){}):e):(BOOMR.error("Passed in URL is invalid: "+e),"")):(BOOMR.addError("TypeError: Not a string","hashQueryString",typeof e),""))},pluginConfig:function(e,s,a,g){var p,b=0;if(!s||!s[a])return!1;for(p=0;p<g.length;p++)void 0!==s[a][g[p]]&&(e[g[p]]=s[a][g[p]],b++);return b>0},arrayFilter:function(){},arrayFind:function(e,s){if((this.isArray(e)||e&&"number"==typeof e.length)&&"function"==typeof s){if("function"==typeof e.find)return e.find(s);for(var p,a=-1,g=e.length;++a<g;)if(s(p=e[a],a,e))return p}},isMutationObserverSupported:function(){},addObserver:function(e,s,a,g,p,b){var L={observer:null,timer:null};if(!this.isMutationObserverSupported()||!g||!e)return null;function q($){var f=!1;L.timer&&(clearTimeout(L.timer),L.timer=null),g&&((f=g.call(b,$,p))||(g=null)),!f&&L.observer&&(L.observer.disconnect(),L.observer=null),"number"==typeof f&&f>0&&(L.timer=setTimeout(q,f))}return L.observer=new BOOMR.window.MutationObserver(q),a&&(L.timer=setTimeout(q,L.timeout)),L.observer.observe(e,s),L},addListener:function(e,s,a,g){var p=!1;e.addEventListener?(g&&BOOMR.browser.supportsPassive()&&(p={capture:!1,passive:!0}),e.addEventListener(s,a,p)):e.attachEvent&&e.attachEvent("on"+s,a),i.listenerCallbacks[s]=i.listenerCallbacks[s]||[],i.listenerCallbacks[s].push({el:e,fn:a})},removeListener:function(e,s,a){if(e.removeEventListener?e.removeEventListener(s,a,!1):e.detachEvent&&e.detachEvent("on"+s,a),i.listenerCallbacks.hasOwnProperty(s))for(var g=0;g<i.listenerCallbacks[s].length;g++)if(a===i.listenerCallbacks[s][g].fn&&e===i.listenerCallbacks[s][g].el)return void i.listenerCallbacks[s].splice(g,1)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},inArray:function(){},getQueryParamValue:function(e,s){var a,g,p,b;if(!e)return null;for("string"==typeof s?(a=BOOMR.window.document.createElement("a")).href=s:a="object"==typeof s&&"string"==typeof s.search?s:BOOMR.window.location,g=a.search.slice(1).split(/&/),p=0;p<g.length;p++)if(g[p]&&(b=g[p].split("=")).length&&b[0]===e)return b.length>1?decodeURIComponent(b.splice(1).join("=").replace(/\+/g," ")):"";return null},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var s=16*Math.random()|0;return("x"===e?s:3&s|8).toString(16)})},generateId:function(){},serializeForUrl:function(e){return BOOMR.utils.Compression&&BOOMR.utils.Compression.jsUrl?BOOMR.utils.Compression.jsUrl(e):window.JSON?JSON.stringify(e):(BOOMR.debug("JSON is not supported"),"")},getMyURL:function(){var e,s=document.currentScript||document.getElementById("boomr-if-as")||document.getElementById("boomr-scr-as");if(s)return s.src;var g,a=document.getElementsByTagName("script");for(g=a.length;g--;)if("interactive"===a[g].readyState)return a[g].src;try{throw new Error}catch(p){if("stack"in p&&(e=this.arrayFilter(p.stack.split(/\n/),function(b){return b.match(/https?:\/\//)}))&&e.length)return e[0].replace(/.*(https?:\/\/.+?)(:\d+)+\D*$/m,"$1")}return""},scroll:function(){var s="CSS1Compat"===(o.document.compatMode||""),a={x:0,y:0};return void 0!==o.pageXOffset?"function"==typeof o.pageXOffset?(a.x=o.pageXOffset(),a.y=o.pageYOffset()):(a.x=o.pageXOffset,a.y=o.pageYOffset):s?(a.x=o.document.documentElement.scrollLeft,a.y=o.document.documentElement.scrollTop):(a.x=o.document.body.scrollLeft,a.y=o.document.body.scrollTop),"number"==typeof a.sx&&(a.sx=Math.round(a.sx)),"number"==typeof a.sy&&(a.sy=Math.round(a.sy)),a},windowHeight:function(){},windowWidth:function(){return o.innerWidth||o.document.documentElement.clientWidth||o.document.body.clientWidth},isNative:function(){}},browser:{results:{},supportsPassive:function(){if(void 0===BOOMR.browser.results.supportsPassive){if(BOOMR.browser.results.supportsPassive=!1,!Object.defineProperty)return!1;try{var e=Object.defineProperty({},"passive",{get:function(){BOOMR.browser.results.supportsPassive=!0}});window.addEventListener("test",null,e)}catch(s){}}return BOOMR.browser.results.supportsPassive}},init:function(e){var s,a,g=["autorun","beacon_auth_key","beacon_auth_token","beacon_with_credentials","beacon_disable_sendbeacon","beacon_url","beacon_url_force_https","beacon_type","site_domain","strip_query_string","user_ip"];if(Oe(),e||(e={}),void 0!==e.log&&(this.log=e.log),this.log||(this.log=function(){}),this.pageId||(this.pageId=BOOMR.utils.generateId(8),BOOMR.debug("Generated PageID: "+this.pageId)),e.primary&&i.handlers_attached)return this;for(a in void 0!==e.site_domain&&(this.session.domain=e.site_domain),void 0!==e.autorun&&(i.autorun=e.autorun),this.plugins)if(this.plugins.hasOwnProperty(a)){if(e[a]&&e[a].hasOwnProperty("enabled")&&!1===e[a].enabled){i.disabled_plugins[a]=1,"function"==typeof this.plugins[a].disable&&this.plugins[a].disable();continue}if(i.disabled_plugins[a]){if(!e[a]||!e[a].hasOwnProperty("enabled")||!0!==e[a].enabled)continue;"function"==typeof this.plugins[a].enable&&this.plugins[a].enable(),delete i.disabled_plugins[a]}if("function"==typeof this.plugins[a].init)try{this.plugins[a].init(e)}catch(p){BOOMR.addError(p,a+".init")}}for(s=0;s<g.length;s++)void 0!==e[g[s]]&&(i[g[s]]=e[g[s]]);return(!i.handlers_attached&&!e.wait||i.handlers_attached&&i.waiting_for_config)&&(!i.onloadfired&&(void 0===i.autorun||!1!==i.autorun)&&(BOOMR.hasBrowserOnloadFired()&&(BOOMR.loadedLate=!0),BOOMR.attach_page_ready(BOOMR.page_ready_autorun)),i.waiting_for_config=!1),i.handlers_attached||(e.wait&&(i.waiting_for_config=!0),BOOMR.attach_page_ready(function(){}),BOOMR.utils.addListener(o,"DOMContentLoaded",function(){i.fireEvent("dom_loaded")}),BOOMR.fireEvent("config",e),BOOMR.subscribe("config",function(p){p.beacon_url&&(i.beacon_url=p.beacon_url)}),BOOMR.subscribe("spa_navigation",i.spaNavigation,null,i),function(){var p,b;for(void 0!==l&&(BOOMR.utils.addListener(m,l,function(){i.fireEvent("visibility_changed")}),i.lastVisibilityState=BOOMR.visibilityState(),BOOMR.subscribe("visibility_changed",function(){var L=BOOMR.visibilityState();BOOMR.lastVisibilityEvent[L]=BOOMR.now(),BOOMR.debug("Visibility changed from "+i.lastVisibilityState+" to "+L),"prerender"===i.lastVisibilityState&&"prerender"!==L&&(BOOMR.addVar("vis.pre","1"),i.fireEvent("prerender_to_visible")),i.lastVisibilityState=L})),BOOMR.utils.addListener(m,"mouseup",i.xb_handler("click")),p=m.getElementsByTagName("form"),b=0;b<p.length;b++)BOOMR.utils.addListener(p[b],"submit",i.xb_handler("form_submit"));!o.onpagehide&&null!==o.onpagehide&&BOOMR.utils.addListener(o,"unload",function(){})}(),i.handlers_attached=!0),this},attach_page_ready:function(){},page_ready_autorun:function(){},page_ready:function(e,s){var a;return!s&&"number"==typeof e&&(a=e,e=null),e||(e=o.event),e||(e={name:"load"}),s?"number"==typeof o.BOOMR_page_ready&&(e.timing=e.timing||{},e.timing.loadEventEnd=o.BOOMR_page_ready,BOOMR.addVar("pr",1,!0)):(e.timing=e.timing||{},e.timing.loadEventEnd=a||("number"==typeof o.BOOMR_page_ready?o.BOOMR_page_ready:BOOMR.now()),BOOMR.addVar("pr",1,!0)),i.onloadfired||(i.fireEvent("page_ready",e),i.onloadfired=!0),this},hasBrowserOnloadFired:function(){},onloadFired:function(){return i.onloadfired},setImmediate:function(e,s,a,g){var p;p=function(){e.call(g||null,s,a||{},void 0),p=null},o.requestIdleCallback?o.requestIdleCallback(p,{timeout:1e3}):o.setImmediate?o.setImmediate(p):setTimeout(p,10)},now:Date.now||function(){return(new Date).getTime()},getPerformance:function(){},hrNow:function(){var e,s,a=BOOMR.getPerformance();return a&&a.now?e=a.now():(s=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart&&BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start,e=BOOMR.now()-s),e},visibilityState:void 0===t?function(){return"visible"}:function(){return m[t]},lastVisibilityEvent:{},registerEvent:function(e){return i.events.hasOwnProperty(e)||(i.events[e]=[]),this},disable:function(){i.clearEvents(),i.clearListeners()},fireEvent:function(e,s){return i.fireEvent(e,s)},subscribe:function(e,s,a,g,p){var b,L,q,$,f;for(e=e.toLowerCase(),i.translate_events[e]&&(e=i.translate_events[e]),i.events.hasOwnProperty(e)||(i.events[e]=[]),q=i.events[e],b=0;b<q.length;b++)if((L=q[b])&&L.fn===s&&L.cb_data===a&&L.scope===g)return this;return q.push({fn:s,cb_data:a||{},scope:g||null,once:p||!1}),"page_ready"===e&&i.onloadfired&&i.autorun&&this.setImmediate(s,null,a,g),("page_unload"===e||"before_unload"===e)&&(f=q.length,$=function(E){s&&s.call(g,E||o.event,a),"page_unload"===e&&f===i.events[e].length&&BOOMR.real_sendBeacon()},"page_unload"===e&&(o.onpagehide||null===o.onpagehide?BOOMR.utils.addListener(o,"pagehide",$):BOOMR.utils.addListener(o,"unload",$)),BOOMR.utils.addListener(o,"beforeunload",$)),this},addError:function(s,a,g){var p,b=BOOMR.plugins.Errors;BOOMR.error("Boomerang caught error: "+s+", src: "+a+", extra: "+g),b&&b.is_supported()?"string"==typeof s?b.send({message:s,extra:g,functionName:a,noStack:!0},b.VIA_APP,b.SOURCE_BOOMERANG):("string"==typeof a&&(s.functionName=a),void 0!==g&&(s.extra=g),b.send(s,b.VIA_APP,b.SOURCE_BOOMERANG)):("string"!=typeof s&&((p=String(s)).match(/^\[object/)&&(p=s.name+": "+(s.description||s.message).replace(/\r\n$/,"")),s=p),void 0!==a&&(s="["+a+":"+BOOMR.now()+"] "+s),g&&(s+=":: "+g),i.errors[s]?i.errors[s]++:i.errors[s]=1)},isCrossOriginError:function(){},addVar:function(e,s,a){if("string"==typeof e)i.vars[e]=s;else if("object"==typeof e){var p,g=e;for(p in g)g.hasOwnProperty(p)&&(i.vars[p]=g[p])}return a&&(i.singleBeaconVars[e]=1),this},appendVar:function(e,s){var a=BOOMR.getVar(e)||"";return a&&(a+=","),BOOMR.addVar(e,a+s),this},removeVar:function(e){var s,a;if(!arguments.length)return this;for(a=1===arguments.length&&BOOMR.utils.isArray(e)?e:arguments,s=0;s<a.length;s++)i.vars.hasOwnProperty(a[s])&&delete i.vars[a[s]];return this},hasVar:function(e){return i.vars.hasOwnProperty(e)},getVar:function(e){return i.vars[e]},setVarPriority:function(e,s){return"number"!=typeof s||1!==Math.abs(s)||(i.varPriority[s][e]=1),this},setReferrer:function(e){i.r=e},requestStart:function(e){var s=BOOMR.now();return BOOMR.plugins.RT.startTimer("xhr_"+e,s),{loaded:function(a){BOOMR.responseEnd(e,s,a)}}},readyToSend:function(){var e;for(e in this.plugins)if(this.plugins.hasOwnProperty(e)){if(i.disabled_plugins[e])continue;if("function"==typeof this.plugins[e].readyToSend&&!1===this.plugins[e].readyToSend())return BOOMR.debug("Plugin "+e+" is not ready to send"),!1}return!0},responseEnd:function(e,s,a,g){if(s="number"==typeof s?s:BOOMR.now(),g="number"==typeof g?g:BOOMR.now(),!BOOMR.readyToSend())return BOOMR.debug("Attempted to call responseEnd before all plugins were Ready to Send, trying again..."),void setTimeout(function(){BOOMR.responseEnd(e,s,a,g)},1e3);if(BOOMR.hasSentPageLoadBeacon()||BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS))if("object"==typeof e){if(!e.url)return void BOOMR.debug("BOOMR.responseEnd: First argument must have a url property if it's an object");i.fireEvent("xhr_load",e)}else BOOMR.real_sendBeacon(),BOOMR.addVar("xhr.pg",e),BOOMR.plugins.RT.startTimer("xhr_"+e,s),i.fireEvent("xhr_load",{name:"xhr_"+e,data:a,timing:{loadEventEnd:g}});else BOOMR.subscribe("page_load_beacon",function(){BOOMR.responseEnd(e,s,a,g)},null,BOOMR,!0)},uninstrumentXHR:function(){},instrumentXHR:function(){},uninstrumentFetch:function(){},instrumentFetch:function(){},sendBeacon:function(e){return e&&(i.beacon_url_override=e),i.beaconQueued||(i.beaconQueued=!0,BOOMR.setImmediate(BOOMR.real_sendBeacon,null,null,BOOMR)),!0},real_sendBeacon:function(){var e,g=[],L={};if(!i.beaconQueued)return!1;for(e in i.beaconQueued=!1,BOOMR.debug("Checking if we can send beacon"),this.plugins)if(this.plugins.hasOwnProperty(e)){if(i.disabled_plugins[e])continue;if(!this.plugins[e].is_complete(i.vars))return BOOMR.debug("Plugin "+e+" is not complete, deferring beacon send"),!1}if(!(window&&window.Image&&window.navigator&&BOOMR.window))return BOOMR.debug("DOM not fully available, not sending a beacon"),!1;var $=BOOMR.utils.inArray(i.vars["http.initiator"],BOOMR.constants.BEACON_TYPE_SPAS),f=void 0===i.vars["http.initiator"]||$;for(e in i.vars.pgu||(i.vars.pgu=$?m.URL:m.URL.replace(/#.*/,"")),i.vars.pgu=BOOMR.utils.cleanupURL(i.vars.pgu),(!i.vars.u||$)&&(i.vars.u=i.vars.pgu),i.vars.pgu===i.vars.u&&delete i.vars.pgu,i.r?i.vars.r=BOOMR.utils.cleanupURL(i.r):delete i.vars.r,i.vars.v=BOOMR.version,BOOMR.session.enabled&&(i.vars["rt.si"]=BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1e3).toString(36),i.vars["rt.ss"]=BOOMR.session.start,i.vars["rt.sl"]=BOOMR.session.length),BOOMR.visibilityState()&&(i.vars["vis.st"]=BOOMR.visibilityState(),BOOMR.lastVisibilityEvent.visible&&(i.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible),BOOMR.lastVisibilityEvent.hidden&&(i.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden)),i.vars["ua.plt"]=navigator.platform,i.vars["ua.vnd"]=navigator.vendor,this.pageId&&(i.vars.pid=this.pageId),i.vars.n=++this.beaconsSent,o!==window&&(i.vars.if=""),i.errors)i.errors.hasOwnProperty(e)&&g.push(e+(i.errors[e]>1?" (*"+i.errors[e]+")":""));for(e in g.length>0&&(i.vars.errors=g.join("\n")),i.errors={},i.fireEvent("before_beacon",i.vars),i.vars)i.vars.hasOwnProperty(e)&&(L[e]=i.vars[e]);for(var E in BOOMR.removeVar(["qt","pgu"]),i.singleBeaconVars)i.singleBeaconVars.hasOwnProperty(E)&&BOOMR.removeVar(E);return i.singleBeaconVars={},!i.hasSentPageLoadBeacon&&f&&(i.hasSentPageLoadBeacon=!0,BOOMR.setImmediate(function(){i.fireEvent("page_load_beacon",L)})),BOOMR.session.rate_limited?(BOOMR.debug("Skipping because we're rate limited"),!1):(BOOMR.sendBeaconData(L),!0)},hasSentPageLoadBeacon:function(){return i.hasSentPageLoadBeacon},sendBeaconData:function(e){var a,p,b,L,$,s=[],q=!0;if(BOOMR.debug("Ready to send beacon: "+BOOMR.utils.objectToString(e)),i.beacon_url=i.beacon_url_override||i.beacon_url,!i.beacon_url)return BOOMR.debug("No beacon URL, so skipping."),!1;if(!i.beaconUrlAllowed(i.beacon_url))return BOOMR.debug("Beacon URL not allowed: "+i.beacon_url),!1;if(0===e.length)return!1;if(i.fireEvent("beacon",e),s=this.getVarsOfPriority(e,-1),a=this.getVarsOfPriority(e,1),p=s.concat(this.getVarsOfPriority(e,0),a).join("&"),i.beacon_url_force_https&&i.beacon_url.match(/^\/\//)&&(i.beacon_url="https:"+i.beacon_url),b=i.beacon_url+(i.beacon_url.indexOf("?")>-1?"&":"?")+p,"GET"===i.beacon_type?(q=!0,b.length>BOOMR.constants.MAX_GET_LENGTH&&(window.console&&(console.warn||console.log)||function(){})("Boomerang: Warning: Beacon may not be sent via GET due to payload size > 2000 bytes")):("POST"===i.beacon_type||b.length>BOOMR.constants.MAX_GET_LENGTH)&&(q=!1),o&&o.navigator&&"function"==typeof o.navigator.sendBeacon&&BOOMR.utils.isNative(o.navigator.sendBeacon)&&"function"==typeof o.Blob&&"GET"!==i.beacon_type&&void 0===i.beacon_auth_token&&!i.beacon_disable_sendbeacon){var E=new o.Blob([p+"&sb=1"],{type:"application/x-www-form-urlencoded"});if(o.navigator.sendBeacon(i.beacon_url,E))return!0}if(BOOMR.orig_XMLHttpRequest||o&&o.XMLHttpRequest||(q=!0),q){try{L=new Image}catch(_){return BOOMR.debug("Image is not a constructor, not sending a beacon"),!1}L.src=b}else{$=new(BOOMR.window.orig_XMLHttpRequest||BOOMR.orig_XMLHttpRequest||BOOMR.window.XMLHttpRequest);try{this.sendXhrPostBeacon($,p)}catch(_){$=new BOOMR.boomerang_frame.XMLHttpRequest,this.sendXhrPostBeacon($,p)}}return!0},hasSentPageLoadBeacon:function(){return i.hasSentPageLoadBeacon},sendXhrPostBeacon:function(e,s){e.open("POST",i.beacon_url),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),void 0!==i.beacon_auth_token&&(void 0===i.beacon_auth_key&&(i.beacon_auth_key="Authorization"),e.setRequestHeader(i.beacon_auth_key,i.beacon_auth_token)),i.beacon_with_credentials&&(e.withCredentials=!0),e.send(s)},getVarsOfPriority:function(e,s){var a,g=[],p=0!==s?i.varPriority[s]:e;for(a in p)p.hasOwnProperty(a)&&e.hasOwnProperty(a)&&(g.push(this.getUriEncodedVar(a,void 0===e[a]?"":e[a])),0!==s&&delete e[a]);return g},getUriEncodedVar:function(e,s){return null==s&&(s=""),"object"==typeof s&&(s=BOOMR.utils.serializeForUrl(s)),encodeURIComponent(e)+"="+encodeURIComponent(s)},getResourceTiming:function(e,s,a){var g,p=BOOMR.getPerformance();try{if(p&&"function"==typeof p.getEntriesByName)return(g=p.getEntriesByName(e))&&g.length&&("function"!=typeof a||(g=BOOMR.utils.arrayFilter(g,a))&&g.length)?(g.length>1&&"function"==typeof s&&g.sort(s),g[g.length-1]):void 0}catch(b){BOOMR.warn("getResourceTiming:"+b)}}},r.url=r.utils.getMyURL(),BOOMR_start=void 0,"number"==typeof BOOMR_lstart?(r.t_lstart=BOOMR_lstart,BOOMR_lstart=void 0):"number"==typeof BOOMR.window.BOOMR_lstart&&(r.t_lstart=BOOMR.window.BOOMR_lstart),"number"==typeof BOOMR.window.BOOMR_onload&&(r.t_onload=BOOMR.window.BOOMR_onload),r.log="object"==typeof console&&void 0!==console.log?function(){}:function(){},r.debug=(e=function(s){return function(a,g){return this.log(a,s,"boomerang"+(g?"."+g:"")),this}})("debug"),r.info=e("info"),r.warn=e("warn"),r.error=e("error");try{var S=r.getPerformance();S&&"function"==typeof S.now&&/\[native code\]/.test(String(S.now))&&S.timing&&S.timing.navigationStart&&(r.now=function(){})}catch(e){}i.checkLocalStorageSupport(),function(){}(),y("onBoomerangLoaded",{BOOMR},!0)}}(window),function(){var o,i,r,m,R,y=["uninitialized","open","responseStart","domInteractive","responseEnd"],t=1e3,a=-999,g=-998,p=-997;function L(n){BOOMR.debug(n,"AutoXHR")}function q(n){if(!n)return null;n.href=n.href;var u=n.pathname;return"/"!==u.charAt(0)&&(u="/"+u),u}function $(n){var u;return!(!n.href||!(n.href.match(/^(about:|javascript:|data:)/i)||"function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&(u=n.href.indexOf(BOOMR.getBeaconURL()),0===u||5===u||6===u)))||BOOMR.xhr_excludes.hasOwnProperty(n.href)||BOOMR.xhr_excludes.hasOwnProperty(n.hostname)||BOOMR.xhr_excludes.hasOwnProperty(q(n))}function f(){this.watch=0,this.timer=null,this.pending_events=[],this.lastSpaLocation=null}function _(n,u){var d,w;if(!u||!n)return!1;if("boolean"==typeof u)return!0===u;if("function"==typeof u)try{return!0===u(n)}catch(I){return!1}if(BOOMR.utils.isArray(u))for(d=0;d<u.length;d++){if("string"==typeof(w=u[d])&&w===n)return!0;if(w instanceof RegExp&&w.test(n))return!0}return!1}function U(){if(R.monitorFetch&&"function"==typeof o.fetch&&"function"==typeof o.Request&&"function"==typeof o.Response&&"function"==typeof o.Promise&&"function"==typeof window.fetch&&!o.fetch.polyfill&&(!BOOMR.proxy_fetch||BOOMR.proxy_fetch!==o.fetch)){if(BOOMR.proxy_fetch&&BOOMR.orig_fetch&&BOOMR.orig_fetch===o.fetch)return void(o.fetch=BOOMR.proxy_fetch);BOOMR.orig_fetch=o.orig_fetch||o.fetch,BOOMR.proxy_fetch=function(n,u){var d,w,I,C={timing:{},initiator:"xhr"};if("object"==typeof n&&n instanceof o.Request?(d=n.url,w=u&&u.method||n.method||"GET",R.captureXhrRequestResponse&&(I=u&&u.body||n.body||void 0)):(d=n,w=u&&u.method||"GET",R.captureXhrRequestResponse&&(I=u&&u.body||void 0)),m.href=d,R.excludeFilter(m))return BOOMR.debug("Exclude found for resource: "+m.href+" Skipping Fetch instrumentation!","AutoXHR"),BOOMR.orig_fetch.apply(o,arguments);BOOMR.fireEvent("xhr_init","fetch"),C.url=m.href,C.method=w,C.type="fetch",I&&(C.requestPayload=I),BOOMR.fireEvent("xhr_send",{resource:C}),R.singlePageApp&&r.watch&&!_(C.url,R.alwaysSendXhr)&&r.add_event_resource(C);try{let K=function(X,re,J){function Q(){var c;J.fetchResponse&&!J.fetchResponse.bodyUsed&&R.fetchBodyUsedWait?(c=BOOMR.now(),J.responseBodyNotUsed=!0,setTimeout(function(){R.loadFinished(J,c)},R.fetchBodyUsedWait)):R.loadFinished(J)}return function(){var c,B=X._bmrNextP;try{for(c=re.apply(this===window?BOOMR.window:this,arguments);B&&!B._bmrHasOnFulfilled;)B=B._bmrNextP;return B||(c instanceof o.Promise?c.then=ee(c,c.then,J):Q()),c}catch(M){for(;B&&!B._bmrHasOnRejected;)B=B._bmrNextP;throw B||Q(),M}}},ee=function(X,re,J){return X._bmrNextP?re:function(){var Q=Array.prototype.slice.call(arguments);Q.length>0&&("function"==typeof Q[0]&&(Q[0]=K(X,Q[0],J),X._bmrHasOnFulfilled=!0),Q.length>1&&"function"==typeof Q[1]&&(Q[1]=K(X,Q[1],J),X._bmrHasOnRejected=!0));var c=re.apply(X,Q);return X._bmrNextP=c,c.then=ee(c,c.then,J),c}};C.timing.requestStart=BOOMR.now();var H=BOOMR.orig_fetch.apply(this,arguments);return H.then=ee(H,H.then,C),H.then(function(X){var Q,c=!1,B=!1;if((X.status<200||X.status>=400)&&(C.status=X.status),C.fetchResponse=X,R.captureXhrRequestResponse&&"function"==typeof X.clone){(Q=X.headers.get("content-type"))&&(c=-1!==Q.indexOf("json"),B=-1!==Q.indexOf("xml")),C.response={};try{X.clone().text().then(function(M){C.response.text=M,C.response.raw=M,B&&"function"==typeof o.DOMParser&&(C.response.xml=(new o.DOMParser).parseFromString(M,"text/xml"))}).then(null,function(M){})}catch(M){}if(c)try{X.clone().json().then(function(M){C.response.json=M}).then(null,function(M){})}catch(M){}}return X},function(X){throw C.status=!X||"AbortError"!==X.name&&20!==X.code?g:a,X})}catch(K){throw C.status=p,R.loadFinished(C),K}},o.fetch=BOOMR.proxy_fetch}}function(){}function W(){if(!BOOMR.proxy_XMLHttpRequest||BOOMR.proxy_XMLHttpRequest!==o.XMLHttpRequest){if(BOOMR.proxy_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest===o.XMLHttpRequest)return o.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest,void f.start();BOOMR.orig_XMLHttpRequest=o.orig_XMLHttpRequest||o.XMLHttpRequest,f.start(),function E(){BOOMR.subscribe("click",function(){if(!R.singlePageApp){var n={timing:{},initiator:"click"};!BOOMR.orig_XMLHttpRequest||BOOMR.orig_XMLHttpRequest===o.XMLHttpRequest||(n.timing.requestStart=BOOMR.now(),r.addEvent(n))}})}(),BOOMR.proxy_XMLHttpRequest=function(){var n,d,w,u={timing:{},initiator:"xhr"},I=!1,C=!1;return n=new BOOMR.orig_XMLHttpRequest,d=n.open,w=n.send,n.open=function(H,Y,z){if(m.href=Y,R.excludeFilter(m))return C=!0,L("Exclude found for resource: "+m.href+" Skipping XHR instrumentation!"),d.apply(n,arguments);function K(ee,X){n.addEventListener(ee,function(){if("readystatechange"===ee)if(u.timing[y[n.readyState]]=BOOMR.now(),4===n.readyState&&0!==n.status){if((n.status<200||n.status>=400)&&(u.status=n.status),R.captureXhrRequestResponse&&(u.response={text:""===n.responseType||"text"===n.responseType?n.responseText:null,xml:""===n.responseType||"document"===n.responseType?n.responseXML:null,raw:n.response,json:n.responseJSON},n.response&&n.response.constructor&&n.response.constructor===BOOMR.boomerang_frame.Object&&BOOMR.boomerang_frame.Object!==o.Object))try{n.response.constructor=o.Object}catch(re){}R.loadFinished(u)}else 0===n.readyState&&"number"==typeof u.timing.open&&(u.status=a,R.loadFinished(u));else"load"===ee?(n.status<200||n.status>=400)&&(u.status=n.status):u.status=void 0===X?n.status:X,R.loadFinished(u)},!1)}C=!1,void 0===z&&(z=!0),BOOMR.fireEvent("xhr_init","xhr"),I||(z&&K("readystatechange"),K("load"),K("timeout",-1001),K("error",g),K("abort",a)),u.url=m.href,u.method=H,u.type="xhr",delete u.status,z||(u.synchronous=!0),I=!0;try{return d.apply(n,arguments)}catch(ee){throw u.status=p,R.loadFinished(u),ee}},n.send=function(H){if(C||(R.captureXhrRequestResponse&&(n.resource.requestPayload=H),BOOMR.fireEvent("xhr_send",n),R.singlePageApp&&r.watch&&r.add_event_resource(u),u.timing.requestStart=BOOMR.now(),void 0===u.status||u.status!==p))return w.apply(n,arguments)},n.resource=u,n},BOOMR.proxy_XMLHttpRequest.UNSENT=0,BOOMR.proxy_XMLHttpRequest.OPENED=1,BOOMR.proxy_XMLHttpRequest.HEADERS_RECEIVED=2,BOOMR.proxy_XMLHttpRequest.LOADING=3,BOOMR.proxy_XMLHttpRequest.DONE=4,BOOMR.proxy_XMLHttpRequest.prototype=BOOMR.orig_XMLHttpRequest.prototype,o.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest}}function(){}function v(n){n.initiator="xhr",BOOMR.responseEnd(n)}!BOOMR.plugins.AutoXHR&&(o=BOOMR.window)&&o.XMLHttpRequest&&(new o.XMLHttpRequest).addEventListener&&(f.stop=function(){f.pause(),f.observer=null},f.pause=function(){f.observer&&f.observer.observer&&!f.isPaused&&(f.isPaused=!0,f.observer.observer.disconnect())},f.resume=function(){f.observer&&f.observer.observer&&f.isPaused&&(f.isPaused=!1,f.observer.observer.observe(i,f.observer.config))},f.start=function(){if(!f.observer){var n={childList:!0,attributes:!0,subtree:!0,attributeFilter:["src","href"]};(f.observer=BOOMR.utils.addObserver(i,n,null,r.mutation_cb,null,r))&&(f.observer.config=n,BOOMR.subscribe("page_unload",f.stop,null,f))}},f.prototype.addEvent=function(n){var d,w,I,u={type:n.initiator,resource:n,nodes_to_wait:0,total_nodes:0,resources:[],aborted:!1,complete:!1},C=this.pending_events.length;for(d=C-1;d>=0;d--)if(this.pending_events[d]&&!this.pending_events[d].complete){w=this.pending_events[d],I=d;break}if(w)if("click"===w.type)(0===w.nodes_to_wait||!w.resource.url)&&(this.pending_events[d]=void 0);else if("xhr"===w.type){if("click"===u.type)return null}else if(BOOMR.utils.inArray(w.type,BOOMR.constants.BEACON_TYPE_SPAS)){if("xhr"===u.type)return null;BOOMR.utils.inArray(u.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(L("Aborting previous SPA navigation"),w.resource.timing.loadEventEnd=BOOMR.now(),w.aborted=!0,this.sendEvent(I))}return this.watch++,this.pending_events.push(u),f.observer?(BOOMR.utils.inArray(u.type,BOOMR.constants.BEACON_TYPE_SPAS)?this.setTimeout(t,C):this.setTimeout(50,C),C):BOOMR.utils.inArray(u.type,BOOMR.constants.BEACON_TYPE_SPAS)?(f.start(),this.setTimeout(t,C),C):(n.url&&n.timing.loadEventEnd&&this.sendEvent(C),null)},f.prototype.sendEvent=function(n){var u=this.pending_events[n],d=this,w=BOOMR.now();if(u&&!u.complete)if(this.clearTimeout(),BOOMR.readyToSend()){if(u.complete=!0,this.watch--,u.resource.resources=u.resources,BOOMR.utils.inArray(u.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(u.resource.url=i.URL),"spa"===u.type&&0===u.total_nodes&&u.resource.url===d.lastSpaLocation)return L("SPA beacon cancelled, no URL change or resources triggered"),BOOMR.fireEvent("spa_cancel"),void(this.pending_events[n]=void 0);BOOMR.utils.inArray(u.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(d.lastSpaLocation=u.resource.url,!u.forced&&0===u.total_nodes&&(u.resource.timing.loadEventEnd=w-t)),this.sendResource(u.resource,n)}else setTimeout(function(){d.sendEvent(n)},500)},f.prototype.sendResource=function(n,u){var d=this,w=d.pending_events[u],I=n.timing?n.timing.requestStart:void 0,C=function(H,Y){if(H&&(n.timing.loadEventEnd=Y||BOOMR.now()),BOOMR.real_sendBeacon(),n.onComplete&&n.onComplete(n),BOOMR.plugins.ResourceTiming&&BOOMR.plugins.ResourceTiming.is_enabled()&&n.timing&&n.timing.requestStart){var z=BOOMR.plugins.ResourceTiming.getCompressedResourceTiming(n.timing.requestStart,n.timing.loadEventEnd);BOOMR.plugins.ResourceTiming.addToBeacon(z)}BOOMR.utils.inArray(n.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&(d.calculateSpaTimings(n),"number"==typeof u&&d.pending_events[u].aborted&&(BOOMR.addVar("pgu",i.URL),BOOMR.addVar("rt.quit",""),BOOMR.addVar("rt.abld",""),R.addedVars.push("pgu","rt.quit","rt.abld"))),BOOMR.responseEnd(n,I,n),"number"==typeof u&&(d.pending_events[u]=void 0)};if(n.wait)n.waitComplete=function(){C(!0)};else{if(!("spa_hard"!==n.initiator||w&&w.aborted||BOOMR.hasBrowserOnloadFired()))return void o.addEventListener("load",function(){});C(!1)}},f.prototype.calculateSpaTimings=function(n){var u=BOOMR.getPerformance();if(u&&u.timing)if("spa_hard"===n.initiator)n.timing.responseEnd=u.timing.responseStart,n.timing.fetchStart=u.timing.navigationStart;else{if(!BOOMR.plugins.ResourceTiming||!BOOMR.plugins.ResourceTiming.is_supported())return;var d=BOOMR.plugins.ResourceTiming.getFilteredResourceTiming(n.timing.requestStart,n.timing.loadEventEnd,R.spaBackEndResources).entries,w=Math.round(n.timing.loadEventEnd-n.timing.requestStart);if(!d||!d.length)return void(n.timers={t_resp:0,t_page:w,t_done:w});for(var I=n.timing.loadEventEnd-u.timing.navigationStart,C=0;C<d.length;C++)d[C].responseStart>I?(d[C].responseStart=I,d[C].responseEnd=I):d[C].responseEnd>I&&(d[C].responseEnd=I);var H=Math.round(BOOMR.plugins.ResourceTiming.calculateResourceTimingUnion(d)),Y=w-H;if(H<0||w<0||Y<0)return void BOOMR.addError("Incorrect SPA time calculation");n.timers={t_resp:H,t_page:Y,t_done:w}}},f.prototype.setTimeout=function(n,u){var d=this;!n||(this.clearTimeout(),this.timer=setTimeout(function(){d.timedout(u)},n))},f.prototype.timedout=function(n){var u;this.clearTimeout(),(u=this.pending_events[n])&&BOOMR.utils.inArray(u.type,BOOMR.constants.BEACON_TYPE_SPAS.concat("xhr"))?0===u.nodes_to_wait&&this.sendEvent(n):(this.watch>0&&this.watch--,this.pending_events[n]=void 0)},f.prototype.clearTimeout=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},f.prototype.load_cb=function(n,u){var d,w,I=BOOMR.now();(d=n.target||n.srcElement)&&d._bmr&&(w=d._bmr.idx,!d._bmr.end[u=void 0!==u?u:d._bmr.res||0]&&(d._bmr.end[u]=I,this.load_finished(w,I)))},f.prototype.load_finished=function(n,u){var d=this.pending_events[n];!d||(d.nodes_to_wait--,0===d.nodes_to_wait&&(d.resource.timing.loadEventEnd=u||BOOMR.now(),BOOMR.utils.inArray(d.type,BOOMR.constants.BEACON_TYPE_SPAS)?this.setTimeout(t,n):this.sendEvent(n)))},f.prototype.wait_for_node=function(n,u){var w,I,H,Y,z,ee,X,re,d=this,C=!1,K=!1;if(n&&n.nodeName&&(n.nodeName.toUpperCase().match(/^(IMG|SCRIPT|IFRAME|IMAGE)$/)||"LINK"===n.nodeName.toUpperCase()&&n.rel&&n.rel.match(/\<stylesheet\>/i))){if(n._bmr&&"number"==typeof n._bmr.res&&n._bmr.end[n._bmr.res]&&(K=!0),!(z=n.src||"function"==typeof n.getAttribute&&n.getAttribute("xlink:href")||n.href)||z.match(/^(about:|javascript:|data:)/i))return!1;if(n._bmr&&n._bmr.url!==z&&(K=!0),"IMG"===n.nodeName){if(n.naturalWidth&&!K)return!1;if("function"==typeof n.getAttribute&&""===n.getAttribute("src"))return!1}if("IFRAME"===n.nodeName&&K||("function"==typeof n.getAttribute&&(X=parseInt(n.getAttribute("height"),10),re=parseInt(n.getAttribute("width"),10)),isNaN(X)&&(X=!n.style||"0"!==n.style.height&&"0px"!==n.style.height&&"1px"!==n.style.height?void 0:0),isNaN(re)&&(re=!n.style||"0"!==n.style.width&&"0px"!==n.style.width&&"1px"!==n.style.width?void 0:0),!isNaN(X)&&X<=1&&!isNaN(re)&&re<=1)||n.style&&"none"===n.style.display||n.style&&"hidden"===n.style.visibility||!(w=this.pending_events[u])||(ee=w.resources.length,n._bmr||(n._bmr={end:{}}),w.urls||(w.urls={}),w.urls[z])||"SCRIPT"===n.nodeName&&R.singlePageApp)return!1;if(!w.resource.url){if(m.href=z,R.excludeFilter(m))return L("Exclude for "+m.href+" matched. Excluding"),!1;w.resource.url=m.href}n._bmr.res=ee,n._bmr.idx=u,delete n._bmr.end[ee],n._bmr.url=z,n.addEventListener("load",function(J){d.load_cb(J,ee)}),n.addEventListener("error",function(J){d.load_cb(J,ee)}),w.nodes_to_wait++,this.clearTimeout(),w.total_nodes++,w.resources.push(n),w.urls[z]=1,C=!0}else n.nodeType===Node.ELEMENT_NODE&&["IMAGE","IMG"].forEach(function(){},this);return C},f.prototype.add_event_resource=function(n){var d,u=this.pending_events.length-1;return u<0||!(d=this.pending_events[u])||!n?-1:(d.nodes_to_wait++,d.total_nodes++,n.index=u,u)},f.prototype.mutation_cb=function(n){var u,d,w;return!this.watch||(u=this,(d=this.pending_events.length-1)<0||!this.pending_events[d])||(void 0===(w=this.pending_events[d]).interesting&&(w.interesting=!1),n&&n.length&&(w.resource.timing.domComplete=BOOMR.now(),n.forEach(function(I){var C,H,Y;if("attributes"===I.type)w.interesting|=u.wait_for_node(I.target,d);else if("childList"===I.type){for(H=I.addedNodes.length,C=0;C<H;C++)w.interesting|=u.wait_for_node(I.addedNodes[C],d);for(H=I.removedNodes.length,C=0;C<H;C++)"IFRAME"===(Y=I.removedNodes[C]).nodeName&&Y._bmr&&u.load_cb({target:Y,type:"removed"})}})),!w.interesting&&!this.timeoutExtended&&(this.setTimeout(1e3,d),this.timeoutExtended=!0)),!0},f.prototype.queue_is_empty=function(){return 0===this.nodesWaitingFor()},f.prototype.nodesWaitingFor=function(){},f.prototype.hasActiveEvent=function(){if(0===this.pending_events.length)return!1;var u=this.pending_events[this.pending_events.length-1];return!(!u||"click"===u.type)},f.prototype.completeEvent=function(){var u,d,n=BOOMR.now();0!==this.pending_events.length&&(d=this.pending_events[u=this.pending_events.length-1])&&(d.resource.timing.loadEventEnd=n,d.forced=!0,this.sendEvent(u))},r=new f,R={spaBackEndResources:["xmlhttprequest","script"],alwaysSendXhr:!1,excludeFilters:[],initialized:!1,addedVars:[],captureXhrRequestResponse:!1,singlePageApp:!1,autoXhrEnabled:!1,monitorFetch:!1,fetchBodyUsedWait:200,excludeFilter:function(n){var u,w;if(!n||!n.href)return!1;for(u=0;u<R.excludeFilters.length;u++)if("function"==typeof R.excludeFilters[u].cb){w=R.excludeFilters[u].ctx,R.excludeFilters[u].name&&L("Running filter: "+R.excludeFilters[u].name+" on URL: "+n.href);try{if(R.excludeFilters[u].cb.call(w,n))return L("Found matching filter at: "+R.excludeFilters[u].name+" for URL: "+n.href),!0}catch(I){BOOMR.addError(I,"BOOMR.plugins.AutoXHR.impl.excludeFilter()")}}return!1},clear:function(){R.addedVars&&R.addedVars.length>0&&(BOOMR.removeVar(R.addedVars),R.addedVars=[])},loadFinished:function(n,u){var d,w,C,H,Y;u=u||BOOMR.now(),!n.timing.loadEventEnd&&(n.status&&BOOMR.fireEvent("xhr_error",n),n.timing.loadEventEnd=u,(Y=BOOMR.getPerformance())&&Y.timing&&(w=Y.timing.navigationStart,(d=BOOMR.getResourceTiming(n.url,function(z,K){return z.responseEnd-K.responseEnd},function(){}))&&(C=Math.floor(w+d.startTime),(H=Math.floor(w+d.responseEnd))<=BOOMR.now()&&(n.timing.responseEnd=H,n.timing.loadEventEnd<H&&(n.timing.loadEventEnd=H),n.timing.requestStart=C,n.timing.fetchStart=C,0!==d.responseStart&&(n.timing.responseStart=Math.floor(w+d.responseStart)),n.restiming=d))),r.hasActiveEvent()&&_(n.url,R.alwaysSendXhr)&&r.sendResource(n),n.index>-1?r.load_finished(n.index,n.timing.responseEnd):!r.hasActiveEvent()&&(!R.singlePageApp||R.autoXhrEnabled)&&r.addEvent(n))}},BOOMR.plugins.AutoXHR={is_complete:function(){return!0},init:function(n){var u,d;if(i=o.document,o&&i){if(m=i.createElement("A"),BOOMR.utils.pluginConfig(R,n,"AutoXHR",["spaBackEndResources","alwaysSendXhr","monitorFetch","fetchBodyUsedWait"]),BOOMR.instrumentXHR=W,BOOMR.uninstrumentXHR=te,BOOMR.instrumentFetch=U,BOOMR.uninstrumentFetch=G,R.initialized||(this.addExcludeFilter($,null,"shouldExcludeXhr"),R.initialized=!0),n&&n.AutoXHR&&n.AutoXHR.excludeFilters&&n.AutoXHR.excludeFilters.length>0)for(d=0;d<n.AutoXHR.excludeFilters.length;d++)R.excludeFilters.push(n.AutoXHR.excludeFilters[d]);if(R.autoXhrEnabled=n.instrument_xhr,BOOMR.plugins.SPA&&BOOMR.plugins.SPA.supported_frameworks){var w=BOOMR.plugins.SPA.supported_frameworks();for(u=0;u<w.length;u++){var I=w[u];if(n[I]&&n[I].enabled){R.singlePageApp=!0;break}}}if(R.alwaysSendXhr&&R.autoXhrEnabled&&BOOMR.xhr&&"function"==typeof BOOMR.xhr.stop){let Y=function(z){if(z.length)for(u=0;u<z.length;u++)v(z[u]);else v(z)};var C=BOOMR.xhr.stop(Y);C&&C.length&&BOOMR.setImmediate(Y,C)}R.singlePageApp?(R.alwaysSendXhr||(R.autoXhrEnabled=!1),R.autoXhrEnabled&&(BOOMR.instrumentXHR(),BOOMR.instrumentFetch())):R.autoXhrEnabled?(BOOMR.instrumentXHR(),BOOMR.instrumentFetch()):!1===R.autoXhrEnabled&&(BOOMR.uninstrumentXHR(),BOOMR.uninstrumentFetch()),BOOMR.registerEvent("xhr_error"),BOOMR.subscribe("beacon",R.clear,null,R)}},getMutationHandler:function(){return r},getPathname:q,enableAutoXhr:function(){R.autoXhrEnabled||(BOOMR.instrumentXHR(),BOOMR.instrumentFetch()),R.autoXhrEnabled=!0},addExcludeFilter:function(){},setXhrRequestResponseCapturing:function(n){R.captureXhrRequestResponse=n}})}(),function(){var e,o=!1,i=!1,r=!1,m=!1,R=!1,y=!0,t=!1,l=!1,O=!1,S=[],s=!1;if(!BOOMR.plugins.SPA&&BOOMR.plugins.AutoXHR){var g={spaHardMissedOnComplete:function(p){var b,L=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart();s=!1,BOOMR.addVar("spa.missed","1"),BOOMR.plugins.RT&&BOOMR.plugins.RT.clearTimer("t_done"),p.timing.requestStart=L,0===p.resources.length&&(b=BOOMR.getPerformance())&&b.timing&&b.timing.navigationStart&&b.timing.loadEventEnd&&(p.timing.loadEventEnd=b.timing.loadEventEnd)},onBeacon:function(){BOOMR.removeVar("spa.missed","spa.forced","spa.waiting")}};BOOMR.plugins.SPA={is_complete:function(){return!s},init:function(p){p&&p.instrument_xhr&&(R=p.instrument_xhr,r&&R&&BOOMR.plugins.AutoXHR.enableAutoXhr()),!i&&(i=!0,BOOMR.subscribe("beacon",g.onBeacon,null,g))},register:function(p){S.push(p)},supported_frameworks:function(){return S},onLoadSpaHardMissed:function(){r||(m=!0,R&&BOOMR.plugins.AutoXHR.enableAutoXhr(),s=!0,O?s=!1:(BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),BOOMR.window.document.URL]),BOOMR.plugins.SPA.route_change(g.spaHardMissedOnComplete)))},hook:function(p,b){return b=b||{},a("Hooked"),o||("function"==typeof b.routeFilter&&(t=b.routeFilter),"function"==typeof b.routeChangeWaitFilter&&(l=b.routeChangeWaitFilter),b.disableHardNav&&(O=b.disableHardNav),p&&BOOMR.attach_page_ready(this.onLoadSpaHardMissed),o=!0),this},route_change:function(p,b){a("Route Change");var L=!1;if(t)try{if(!t.apply(null,b))return void a("Route filter returned false; not tracking this route")}catch(_){BOOMR.addError(_,"SPA.route_change.routeFilter")}r=!0;var q=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart(),$=m?BOOMR.now():q,f=BOOMR.window.document.URL,E={timing:{requestStart:$},initiator:y&&!O?"spa_hard":"spa",url:f};if(y=!1,(!m||"function"==typeof p)&&(m=!0,E.onComplete=function(_){L||(L=!0,BOOMR.fireEvent("spa_navigation")),"function"==typeof p&&p(_)}),l)try{l.apply(null,arguments)&&(E.wait=!0,e=E)}catch(_){BOOMR.addError(_,"SPA.route_change.routeChangeWaitFilter")}E.index=BOOMR.plugins.AutoXHR.getMutationHandler().addEvent(E),R&&BOOMR.plugins.AutoXHR.enableAutoXhr()},last_location:function(p){lastLocationChange=p},current_spa_nav:function(){return m?"spa":"spa_hard"},wait_complete:function(){e&&(e.wait=!1,e.waitComplete&&e.waitComplete(),e=null)},markNavigationComplete:function(){a("Navigation being marked complete");var p=BOOMR.plugins.AutoXHR.getMutationHandler();p&&(BOOMR.addVar("spa.forced","1"),BOOMR.addVar("spa.waiting",p.nodesWaitingFor()),p.completeEvent())}}}function a(p){BOOMR.debug(p,"SPA")}}(),function(){var o={auto:!1,enabled:!0,hooked:!1,routeHooked:!1,hadMissedRouteChange:!1,routeChangeInProgress:!1,disableHardNav:!1,resetRouteChangeInProgress:function(){i("resetting routeChangeInProgress"),o.routeChangeInProgress&&clearTimeout(o.routeChangeInProgress),o.routeChangeInProgress=!1},setRouteChangeInProgress:function(){o.routeChangeInProgress&&clearTimeout(o.routeChangeInProgress),o.routeChangeInProgress=setTimeout(o.resetRouteChangeInProgress,50)},spaInit:function(){},routeChange:function(m,R){if(o.enabled){if(o.disableHardNav&&!BOOMR.onloadFired())return;o.routeChangeInProgress?i("routeChangeInProgress, not triggering"):(i("routeChange triggered, sending route_change() event"),o.spaInit(m,R),BOOMR.plugins.SPA.route_change())}else i("Not enabled - we've missed a routeChange"),o.hadMissedRouteChange=!0,o.resetRouteChangeInProgress()}};function i(m){BOOMR.debug(m,"History")}!BOOMR.plugins.History&&void 0!==BOOMR.plugins.SPA&&void 0!==BOOMR.plugins.AutoXHR&&BOOMR.window&&BOOMR.window.history&&(BOOMR.plugins.SPA.register("History"),BOOMR.plugins.History={is_complete:function(){return!0},hook:function(m,R,y){return(y=y||{}).disableHardNav=o.disableHardNav,o.hooked||function r(){var y,m=BOOMR.window.history;function R(){BOOMR.window.addEventListener("popstate",function(y){i("popstate"),o.routeChange()})}return"function"==typeof m.pushState&&(m.pushState=(y=m.pushState,function(t,l,O){return i("pushState, title: "+l+" url: "+O),o.routeChange(l,O),y.apply(this,arguments)})),"function"==typeof m.replaceState&&(m.replaceState=function(y){return function(t,l,O){return i("replaceState, title: "+l+" url: "+O),o.routeChange(l,O),y.apply(this,arguments)}}(m.replaceState)),"function"==typeof m.go&&(m.go=function(y){return function(t){return i("go"),o.routeChange(),y.apply(this,arguments)}}(m.go)),"function"==typeof m.back&&(m.back=function(y){return function(){return i("back"),o.routeChange(),y.apply(this,arguments)}}(m.back)),"function"==typeof m.forward&&(m.forward=function(y){return function(){return i("forward"),o.routeChange(),y.apply(this,arguments)}}(m.forward)),BOOMR.window.addEventListener("hashchange",function(y){var t=(y||{}).newURL;i("hashchange "+t),o.routeChange(null,t)}),BOOMR.hasBrowserOnloadFired()?R():BOOMR.window.addEventListener("load",function(){setTimeout(R,0)}),BOOMR.subscribe("beacon",o.resetRouteChangeInProgress),BOOMR.subscribe("spa_cancel",o.resetRouteChangeInProgress),BOOMR.subscribe("spa_init",o.setRouteChangeInProgress),!0}()&&(BOOMR.plugins.SPA.hook(R,y),o.hooked=!0),this},init:function(m){return BOOMR.utils.pluginConfig(o,m,"History",["auto","enabled","disableHardNav"]),o.auto&&o.enabled&&this.hook(void 0,!0,{}),this},disable:function(){return o.enabled=!1,this},enable:function(){return o.enabled=!0,o.hooked&&o.hadMissedRouteChange&&(o.hadMissedRouteChange=!1,BOOMR.plugins.SPA.route_change(),o.setRouteChangeInProgress(),i("Hooked and hadMissedRouteChange sending route_change!")),this}})}(),function(){"use strict";function o(f,E){var _=(65535&f)+(65535&E);return(f>>16)+(E>>16)+(_>>16)<<16|65535&_}function r(f,E,_,U,G,W){return o(function i(f,E){return f<<E|f>>>32-E}(o(o(E,f),o(U,W)),G),_)}function m(f,E,_,U,G,W,te){return r(E&_|~E&U,f,E,G,W,te)}function R(f,E,_,U,G,W,te){return r(E&U|_&~U,f,E,G,W,te)}function y(f,E,_,U,G,W,te){return r(E^_^U,f,E,G,W,te)}function t(f,E,_,U,G,W,te){return r(_^(E|~U),f,E,G,W,te)}function l(f,E){f[E>>5]|=128<<E%32,f[14+(E+64>>>9<<4)]=E;var _,U,G,W,te,v=1732584193,n=-271733879,u=-1732584194,d=271733878;for(_=0;_<f.length;_+=16)U=v,G=n,W=u,te=d,v=m(v,n,u,d,f[_],7,-680876936),d=m(d,v,n,u,f[_+1],12,-389564586),u=m(u,d,v,n,f[_+2],17,606105819),n=m(n,u,d,v,f[_+3],22,-1044525330),v=m(v,n,u,d,f[_+4],7,-176418897),d=m(d,v,n,u,f[_+5],12,1200080426),u=m(u,d,v,n,f[_+6],17,-1473231341),n=m(n,u,d,v,f[_+7],22,-45705983),v=m(v,n,u,d,f[_+8],7,1770035416),d=m(d,v,n,u,f[_+9],12,-1958414417),u=m(u,d,v,n,f[_+10],17,-42063),n=m(n,u,d,v,f[_+11],22,-1990404162),v=m(v,n,u,d,f[_+12],7,1804603682),d=m(d,v,n,u,f[_+13],12,-40341101),u=m(u,d,v,n,f[_+14],17,-1502002290),v=R(v,n=m(n,u,d,v,f[_+15],22,1236535329),u,d,f[_+1],5,-165796510),d=R(d,v,n,u,f[_+6],9,-1069501632),u=R(u,d,v,n,f[_+11],14,643717713),n=R(n,u,d,v,f[_],20,-373897302),v=R(v,n,u,d,f[_+5],5,-701558691),d=R(d,v,n,u,f[_+10],9,38016083),u=R(u,d,v,n,f[_+15],14,-660478335),n=R(n,u,d,v,f[_+4],20,-405537848),v=R(v,n,u,d,f[_+9],5,568446438),d=R(d,v,n,u,f[_+14],9,-1019803690),u=R(u,d,v,n,f[_+3],14,-187363961),n=R(n,u,d,v,f[_+8],20,1163531501),v=R(v,n,u,d,f[_+13],5,-1444681467),d=R(d,v,n,u,f[_+2],9,-51403784),u=R(u,d,v,n,f[_+7],14,1735328473),v=y(v,n=R(n,u,d,v,f[_+12],20,-1926607734),u,d,f[_+5],4,-378558),d=y(d,v,n,u,f[_+8],11,-2022574463),u=y(u,d,v,n,f[_+11],16,1839030562),n=y(n,u,d,v,f[_+14],23,-35309556),v=y(v,n,u,d,f[_+1],4,-1530992060),d=y(d,v,n,u,f[_+4],11,1272893353),u=y(u,d,v,n,f[_+7],16,-155497632),n=y(n,u,d,v,f[_+10],23,-1094730640),v=y(v,n,u,d,f[_+13],4,681279174),d=y(d,v,n,u,f[_],11,-358537222),u=y(u,d,v,n,f[_+3],16,-722521979),n=y(n,u,d,v,f[_+6],23,76029189),v=y(v,n,u,d,f[_+9],4,-640364487),d=y(d,v,n,u,f[_+12],11,-421815835),u=y(u,d,v,n,f[_+15],16,530742520),v=t(v,n=y(n,u,d,v,f[_+2],23,-995338651),u,d,f[_],6,-198630844),d=t(d,v,n,u,f[_+7],10,1126891415),u=t(u,d,v,n,f[_+14],15,-1416354905),n=t(n,u,d,v,f[_+5],21,-57434055),v=t(v,n,u,d,f[_+12],6,1700485571),d=t(d,v,n,u,f[_+3],10,-1894986606),u=t(u,d,v,n,f[_+10],15,-1051523),n=t(n,u,d,v,f[_+1],21,-2054922799),v=t(v,n,u,d,f[_+8],6,1873313359),d=t(d,v,n,u,f[_+15],10,-30611744),u=t(u,d,v,n,f[_+6],15,-1560198380),n=t(n,u,d,v,f[_+13],21,1309151649),v=t(v,n,u,d,f[_+4],6,-145523070),d=t(d,v,n,u,f[_+11],10,-1120210379),u=t(u,d,v,n,f[_+2],15,718787259),n=t(n,u,d,v,f[_+9],21,-343485551),v=o(v,U),n=o(n,G),u=o(u,W),d=o(d,te);return[v,n,u,d]}function O(f){var E,_="";for(E=0;E<32*f.length;E+=8)_+=String.fromCharCode(f[E>>5]>>>E%32&255);return _}function S(f){var E,_=[];for(_[(f.length>>2)-1]=void 0,E=0;E<_.length;E+=1)_[E]=0;for(E=0;E<8*f.length;E+=8)_[E>>5]|=(255&f.charCodeAt(E/8))<<E%32;return _}function a(f){var U,G,E="0123456789abcdef",_="";for(G=0;G<f.length;G+=1)U=f.charCodeAt(G),_+=E.charAt(U>>>4&15)+E.charAt(15&U);return _}function g(f){return unescape(encodeURIComponent(f))}function p(f){return function e(f){return O(l(S(f),8*f.length))}(g(f))}function L(f,E){return function s(f,E){var _,te,U=S(f),G=[],W=[];for(G[15]=W[15]=void 0,U.length>16&&(U=l(U,8*f.length)),_=0;_<16;_+=1)G[_]=909522486^U[_],W[_]=1549556828^U[_];return te=l(G.concat(S(E)),512+8*E.length),O(l(W.concat(te),640))}(g(f),g(E))}BOOMR.utils=BOOMR.utils||{},BOOMR.utils&&BOOMR.utils.md5||(BOOMR.utils.MD5=function $(f,E,_){return E?_?L(E,f):function q(f,E){return a(L(f,E))}(E,f):_?p(f):function b(f){return a(p(f))}(f)})}(),o=window,R=1800,BOOMR.plugins.RT||(r={onloadfired:!1,unloadfired:!1,visiblefired:!1,initialized:!1,complete:!1,autorun:!0,timers:{},cookie:"RT",cookie_exp:604800,session_exp:R,strict_referrer:!0,navigationType:0,navigationStart:void 0,responseStart:void 0,loadTime:0,oboError:0,t_start:void 0,cached_t_start:void 0,cached_xhr_start:void 0,t_fb_approx:void 0,r:void 0,beacon_url:void 0,next_beacon_url:void 0,basic_timers:{t_done:1,t_resp:1,t_page:1},crossdomain_sending:!1,addedVars:[],updateCookie:function(t,l){var O,S,e,s;if(!this.cookie)return!1;for(s in e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{})e.hasOwnProperty(s)&&(isNaN(parseInt(s,10))||delete e[s]);if("object"==typeof t)for(s in t)t.hasOwnProperty(s)&&(void 0===t[s]?e.hasOwnProperty(s)&&delete e[s]:e[s]=t[s]);return e.z=1,e.dm=BOOMR.session.domain,e.si=BOOMR.session.ID,e.ss=BOOMR.session.start.toString(36),e.sl=BOOMR.session.length.toString(36),r.session_exp!==R&&(e.se=r.session_exp.toString(36)),BOOMR.session.rate_limited&&(e.rl=1),e.tt=this.loadTime.toString(36),this.oboError>0?e.obo=this.oboError.toString(36):delete e.obo,S=BOOMR.now(),l&&(e[l]=(S-BOOMR.session.start).toString(36),r.lastActionTime=S),this.beacon_url&&(e.bcn=this.beacon_url),BOOMR.debug("Setting cookie (timer="+l+")\n"+BOOMR.utils.objectToString(e),"rt"),BOOMR.utils.setCookie(this.cookie,e,this.cookie_exp)?((O=BOOMR.now())-S>50&&(BOOMR.utils.removeCookie(this.cookie),BOOMR.error("took more than 50ms to set cookie... aborting: "+S+" -> "+O,"rt")),!0):(BOOMR.error("cannot set start cookie","rt"),!1)},refreshSession:function(t){t||(t=BOOMR.plugins.RT.getCookie()),t&&(BOOMR.session.start=t.ss?t.ss:BOOMR.t_lstart||BOOMR.t_start,t.si&&t.si.match(/-/)&&(BOOMR.session.ID=t.si),t.sl&&(BOOMR.session.length=t.sl),t.tt&&(this.loadTime=t.tt),t.obo&&(this.oboError=t.obo),t.dm&&!BOOMR.session.domain&&(BOOMR.session.domain=t.dm),t.se&&(r.session_exp=t.se),t.bcn&&(this.beacon_url=t.bcn),t.rl&&"1"===t.rl&&(BOOMR.session.rate_limited=!0))},maybeResetSession:function(t,l){BOOMR.debug("Current session meta:\n"+BOOMR.utils.objectToString(BOOMR.session),"rt"),BOOMR.debug("Timers: t_start="+l+", sessionLoad="+r.loadTime+", sessionError="+r.oboError+", lastAction="+r.lastActionTime,"rt");var O=0;BOOMR.session.start&&BOOMR.session.length&&(O=(BOOMR.now()-BOOMR.session.start)/BOOMR.session.length);var S=1e3*r.session_exp;(!BOOMR.session.start||l&&BOOMR.session.start>l||t-(r.lastActionTime||BOOMR.t_start)>S||O>S)&&(BOOMR.session.start=l||BOOMR.t_lstart||BOOMR.t_start,BOOMR.session.length=0,BOOMR.session.rate_limited=!1,r.loadTime=0,r.oboError=0,r.beacon_url=r.next_beacon_url,r.lastActionTime=t,r.updateCookie({rl:void 0,sl:BOOMR.session.length,ss:BOOMR.session.start,tt:r.loadTime,obo:void 0,bcn:r.beacon_url})),BOOMR.debug("New session meta:\n"+BOOMR.utils.objectToString(BOOMR.session),"rt"),BOOMR.debug("Timers: t_start="+l+", sessionLoad="+r.loadTime+", sessionError="+r.oboError,"rt")},initFromCookie:function(){var t,l,O;O=BOOMR.plugins.RT.getCookie(),this.cookie||(BOOMR.session.enabled=!1),O&&(O.s=Math.max(+O.ld||0,Math.max(+O.ul||0,+O.cl||0)),BOOMR.debug("Read from cookie "+BOOMR.utils.objectToString(O),"rt"),O.s&&(O.r||O.nu)&&(this.r=O.r,t=BOOMR.utils.MD5(i.URL),l=BOOMR.utils.MD5(i&&i.referrer||""),BOOMR.debug("referrer check: "+this.r+" =?= "+l,"rt"),O.cl&&BOOMR.debug(O.s+" <? "+(+O.cl+15),"rt"),O.nu&&BOOMR.debug(O.nu+" =?= "+t,"rt"),!this.strict_referrer||O.cl&&O.nu&&O.nu===t&&O.s<+O.cl+15||O.s===+O.ul&&this.r===l?(this.t_start=O.s,+O.hd>O.s&&(this.t_fb_approx=O.hd)):this.t_start=this.t_fb_approx=void 0),O.s&&(this.lastActionTime=O.s),this.refreshSession(O),this.updateCookie({s:void 0,ul:void 0,cl:void 0,hd:void 0,ld:void 0,rl:void 0,r:void 0,nu:void 0,sh:void 0}),this.maybeResetSession(BOOMR.now()))},incrementSessionDetails:function(){BOOMR.debug("Incrementing Session Details... ","RT"),BOOMR.session.length++,isNaN(r.timers.t_done.delta)?r.oboError++:r.loadTime+=r.timers.t_done.delta},getBoomerangTimings:function(){var t,l,O,S,e;function(){}BOOMR.t_start&&(BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start),BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end),BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start),BOOMR.t_lstart&&(BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart),BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)));try{if(window&&"performance"in window&&window.performance&&"function"==typeof window.performance.getEntriesByName)for(O in l={"rt.bmr":BOOMR.url},BOOMR.config_url&&(l["rt.cnf"]=BOOMR.config_url),l)if(l.hasOwnProperty(O)&&l[O]){if(!(t=window.performance.getEntriesByName(l[O]))||0===t.length||!t[0])continue;e=[S=s((t=t[0]).startTime,0),s(t.responseEnd,S),s(t.responseStart,S),s(t.requestStart,S),s(t.connectEnd,S),s(t.secureConnectionStart,S),s(t.connectStart,S),s(t.domainLookupEnd,S),s(t.domainLookupStart,S),s(t.redirectEnd,S),s(t.redirectStart,S)].join(",").replace(/,+$/,""),BOOMR.addVar(O,e),r.addedVars.push(O)}}catch(a){BOOMR.addError(a,"rt.getBoomerangTimings")}},checkPreRender:function(){return"prerender"===BOOMR.visibilityState()&&(BOOMR.plugins.RT.startTimer("t_load",this.navigationStart),BOOMR.plugins.RT.endTimer("t_load"),BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart),BOOMR.plugins.RT.startTimer("t_postrender"),!0)},initFromNavTiming:function(){var t,l,O;this.navigationStart||((l=BOOMR.getPerformance())&&l.navigation&&(this.navigationType=l.navigation.type),l&&l.timing?t=l.timing:o.chrome&&o.chrome.csi&&o.chrome.csi().startE?(t={navigationStart:o.chrome.csi().startE},O="csi"):o.gtbExternal&&o.gtbExternal.startE()&&(t={navigationStart:o.gtbExternal.startE()},O="gtb"),t?(BOOMR.addVar("rt.start",O||"navigation"),this.navigationStart=t.navigationStart||t.fetchStart||void 0,this.fetchStart=t.fetchStart||void 0,this.responseStart=t.responseStart||void 0,navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=t.unloadEventStart||t.fetchStart||void 0)):BOOMR.warn("This browser doesn't support the WebTiming API","rt"))},validateLoadTimestamp:function(){},setPageLoadTimers:function(t,l,O){var S,e;if("xhr"!==t&&(r.initFromCookie(),r.initFromNavTiming(),r.checkPreRender()))return!1;if("xhr"===t)if(O.timers)for(var g in O.timers)O.timers.hasOwnProperty(g)&&BOOMR.plugins.RT.setTimer(g,O.timers[g]);else O&&O.timing&&(void 0===(e=O.timing.fetchStart)||O.timing.responseEnd>=e)&&(S=O.timing.responseEnd);else r.responseStart?r.responseStart>=r.navigationStart&&r.responseStart>=r.fetchStart&&(S=r.responseStart):r.timers.hasOwnProperty("t_page")?BOOMR.plugins.RT.endTimer("t_page"):r.t_fb_approx&&(S=r.t_fb_approx);return S&&(e?BOOMR.plugins.RT.setTimer("t_resp",e,S):BOOMR.plugins.RT.endTimer("t_resp",S),"load"===t&&r.timers.t_load?BOOMR.plugins.RT.setTimer("t_page",r.timers.t_load.end-S):l<S?BOOMR.addVar("t_page.inv",1):BOOMR.plugins.RT.setTimer("t_page",l-S)),"load"===t&&r.timers.hasOwnProperty("t_postrender")&&(BOOMR.plugins.RT.endTimer("t_postrender"),BOOMR.plugins.RT.endTimer("t_prerender")),!0},setSupportingTimestamps:function(t){t&&BOOMR.addVar("rt.tstart",t),"number"==typeof r.navigationStart&&r.navigationStart!==t&&BOOMR.addVar("rt.nstart",r.navigationStart),"number"==typeof r.t_start&&r.t_start!==t&&BOOMR.addVar("rt.cstart",r.t_start),BOOMR.addVar("rt.bstart",BOOMR.t_start),BOOMR.t_lstart&&BOOMR.addVar("rt.blstart",BOOMR.t_lstart),BOOMR.addVar("rt.end",r.timers.t_done.end)},determineTStart:function(t,l){var O;return"xhr"===t?(l&&l.name&&r.timers[l.name]?O=r.timers[l.name].start:l&&l.timing&&l.timing.requestStart&&(O=l.timing.requestStart),void 0===O&&l&&BOOMR.utils.inArray(l.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?BOOMR.addVar("rt.start","none"):BOOMR.addVar("rt.start","manual"),r.cached_xhr_start=O):(r.navigationStart?O=r.navigationStart:r.t_start&&2!==r.navigationType?(O=r.t_start,BOOMR.addVar("rt.start","cookie")):r.cached_t_start?O=r.cached_t_start:(BOOMR.addVar("rt.start","none"),O=void 0),r.cached_t_start=O),BOOMR.debug("Got start time: "+O,"rt"),O},page_ready:function(){this.onloadfired=!0},check_visibility:function(){},prerenderToVisible:function(){r.onloadfired&&r.autorun&&(BOOMR.debug("Transitioned from prerender to "+BOOMR.visibilityState(),"rt"),BOOMR.addVar("vis.pre","1"),BOOMR.plugins.RT.done(null,"visible"))},page_unload:function(t){BOOMR.debug("Unload called when unloadfired = "+this.unloadfired,"rt"),this.unloadfired||BOOMR.plugins.RT.done(t,"unload"),this.updateCookie(!r.navigationStart&&r.strict_referrer?{r:BOOMR.utils.MD5(i.URL)}:null,"beforeunload"===t.type?"ul":"hd"),this.unloadfired=!0},_iterable_click:function(t,l,O,S){var e;if(O){for(BOOMR.debug(t+" called with "+O.nodeName,"rt");O&&O.nodeName&&O.nodeName.toUpperCase()!==l;)O=O.parentNode;O&&O.nodeName&&O.nodeName.toUpperCase()===l&&(BOOMR.debug("passing through","rt"),this.refreshSession(),this.maybeResetSession(BOOMR.now()),e=S(O),this.updateCookie({nu:BOOMR.utils.MD5(e)},"cl"),BOOMR.addVar("nu",BOOMR.utils.cleanupURL(e)),r.addedVars.push("nu"))}},onclick:function(){},markComplete:function(){},onsubmit:function(){},onconfig:function(t){t.beacon_url&&(r.beacon_url=t.beacon_url),t.RT&&(t.RT.oboError&&!isNaN(t.RT.oboError)&&t.RT.oboError>r.oboError&&(r.oboError=t.RT.oboError),t.RT.loadTime&&!isNaN(t.RT.loadTime)&&t.RT.loadTime>r.loadTime&&(r.loadTime=t.RT.loadTime,r.timers.t_done&&!isNaN(r.timers.t_done.delta)&&(r.loadTime+=r.timers.t_done.delta)))},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")},clear:function(){BOOMR.removeVar("rt.start"),r.addedVars&&r.addedVars.length>0&&(BOOMR.removeVar(r.addedVars),r.addedVars=[])},spaNavigation:function(){r.onloadfired=!0}},BOOMR.plugins.RT={init:function(t){if(BOOMR.debug("init RT","rt"),o!==BOOMR.window&&(o=BOOMR.window),t&&t.CrossDomain&&t.CrossDomain.sending&&(r.crossdomain_sending=!0),o&&o.document)return i=o.document,BOOMR.utils.pluginConfig(r,t,"RT",["cookie","cookie_exp","session_exp","strict_referrer"]),t&&void 0!==t.autorun&&(r.autorun=t.autorun),t&&t.beacon_url&&((!r.beacon_url||t.force_beacon_url)&&(r.beacon_url=t.beacon_url),r.next_beacon_url=t.beacon_url),void 0!==i&&(r.r=BOOMR.utils.hashQueryString(i.referrer,!0)),r.initFromCookie(),r.initialized||(r.complete=!1,r.timers={},r.check_visibility(),BOOMR.subscribe("page_ready",r.page_ready,null,r),BOOMR.subscribe("visibility_changed",r.check_visibility,null,r),BOOMR.subscribe("prerender_to_visible",r.prerenderToVisible,null,r),BOOMR.subscribe("page_ready",this.done,"load",this),BOOMR.subscribe("xhr_load",this.done,"xhr",this),BOOMR.subscribe("dom_loaded",r.domloaded,null,r),BOOMR.subscribe("page_unload",r.page_unload,null,r),BOOMR.subscribe("click",r.onclick,null,r),BOOMR.subscribe("form_submit",r.onsubmit,null,r),BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this),BOOMR.subscribe("beacon",r.clear,null,r),BOOMR.subscribe("error",r.markComplete,null,r),BOOMR.subscribe("config",r.onconfig,null,r),BOOMR.subscribe("spa_navigation",r.spaNavigation,null,r),BOOMR.subscribe("interaction",r.markComplete,null,r),BOOMR.getBeaconURL=function(){return r.beacon_url},r.initialized=!0),this},startTimer:function(t,l){return t&&("t_page"===t&&this.endTimer("t_resp",l),r.timers[t]={start:"number"==typeof l?l:BOOMR.now()}),this},endTimer:function(t,l){return t&&(r.timers[t]=r.timers[t]||{},void 0===r.timers[t].end&&(r.timers[t].end="number"==typeof l?l:BOOMR.now())),this},clearTimer:function(t){return t&&delete r.timers[t],this},setTimer:function(t,l,O){return t&&(r.timers[t]=void 0!==O?{start:l,end:O,delta:O-l}:{delta:l}),this},addTimersToBeacon:function(t,l){var O,S,e=[];for(O in r.timers)if(r.timers.hasOwnProperty(O)){if("number"!=typeof(S=r.timers[O]).delta&&("number"!=typeof S.start&&(S.start="xhr"===l?r.cached_xhr_start:r.cached_t_start),S.delta=S.end-S.start),isNaN(S.delta))continue;r.basic_timers.hasOwnProperty(O)?(BOOMR.addVar(O,S.delta),r.addedVars.push(O)):e.push(O+"|"+S.delta)}e.length&&(BOOMR.addVar("t_other",e.join(",")),r.addedVars.push("t_other")),"beacon"===l&&(r.timers={},r.complete=!1)},done:function(t,l){BOOMR.debug("Called done: "+l,"rt");var O,S,e=BOOMR.now(),s=!1;return r.complete=!1,S=r.validateLoadTimestamp(e,t,l),"load"!==l&&"visible"!==l&&"xhr"!==l||r.setPageLoadTimers(l,S,t)?(("load"===l||"visible"===l||"xhr"===l&&t&&"spa_hard"===t.initiator)&&r.getBoomerangTimings(),O=r.determineTStart(l,t),r.refreshSession(),r.maybeResetSession(S,O),this.endTimer("t_done",S),t&&"xhr"===t.initiator&&this.setTimer("t_done",t.timing.requestStart,t.timing.loadEventEnd),BOOMR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","rt.tstart","rt.nstart","rt.cstart","rt.bstart","rt.end","rt.subres","http.errno","http.method","http.type","xhr.sync","fetch.bnu","rt.ss","rt.sl","rt.tt","rt.lt"),r.setSupportingTimestamps(O),this.addTimersToBeacon(null,l),BOOMR.setReferrer(r.r),"xhr"===l&&t&&t&&t.data&&(t=t.data),"xhr"===l&&t&&(s=t.subresource,t.url&&(BOOMR.addVar("u",BOOMR.utils.cleanupURL(t.url.replace(/#.*/,""))),r.addedVars.push("u")),t.status&&(t.status<-1||t.status>=400)&&BOOMR.addVar("http.errno",t.status),t.method&&"GET"!==t.method&&BOOMR.addVar("http.method",t.method),t.type&&"xhr"!==t.type&&BOOMR.addVar("http.type",t.type[0]),t.headers&&BOOMR.addVar("http.hdr",t.headers),t.synchronous&&BOOMR.addVar("xhr.sync",1),t.initiator&&BOOMR.addVar("http.initiator",t.initiator),t.responseBodyNotUsed&&BOOMR.addVar("fetch.bnu",1),r.addedVars.push("http.errno","http.method","http.hdr","xhr.sync","http.initiator","fetch.bnu")),s&&"passive"!==s&&(BOOMR.addVar("rt.subres",1),r.addedVars.push("rt.subres")),("load"===l||"visible"===l||"xhr"===l&&!s||"unload"===l&&!r.onloadfired&&r.autorun&&!r.crossdomain_sending)&&(r.incrementSessionDetails(),r.updateCookie(null,"ld")),BOOMR.addVar({"rt.tt":r.loadTime,"rt.obo":r.oboError}),r.addedVars.push("rt.tt","rt.obo"),r.updateCookie(),"unload"===l&&(BOOMR.addVar("rt.quit",""),r.onloadfired||(BOOMR.addVar("rt.abld",""),r.addedVars.push("rt.abld")),r.visiblefired||BOOMR.addVar("rt.ntvu","")),r.complete=!0,BOOMR.sendBeacon(r.beacon_url),this):this},is_complete:function(){},updateCookie:function(){r.updateCookie()},getCookie:function(){var t,l,O;return!!r.cookie&&((t=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(r.cookie))||{})&&(1&t.z?(l=36,O=parseInt(t.ss||0,36)):(l=10,O=0),t.ss=parseInt(t.ss||0,l),t.tt=parseInt(t.tt||0,l),t.obo=parseInt(t.obo||0,l),t.sl=parseInt(t.sl||0,l),t.se&&(t.se=parseInt(t.se,l)||R),t.ld&&(t.ld=O+parseInt(t.ld,l)),t.ul&&(t.ul=O+parseInt(t.ul,l)),t.cl&&(t.cl=O+parseInt(t.cl,l)),t.hd&&(t.hd=O+parseInt(t.hd,l))),t)},incrementSessionDetails:function(){r.incrementSessionDetails()},navigationStart:function(){return r.navigationStart||r.initFromNavTiming(),r.navigationStart}}),function(){if(!BOOMR.plugins.PaintTiming){var o={"first-paint":"fp","first-contentful-paint":"fcp"},i={initialized:!1,complete:!1,supported:null,timingCache:{},done:function(r,m){var R,y,t;if(this.complete)return this;if("load"!==m&&(!r||"spa_hard"!==r.initiator))return this.complete=!0,this;if((R=BOOMR.getPerformance())&&"function"==typeof R.getEntriesByType){if((y=R.getEntriesByType("paint"))&&y.length){for(BOOMR.info("This user agent supports PaintTiming","pt"),t=0;t<y.length;t++)i.timingCache[y[t].name]=y[t].startTime,o[y[t].name]&&BOOMR.addVar("pt."+o[y[t].name],Math.floor(y[t].startTime),!0);this.complete=!0,BOOMR.sendBeacon()}}else this.complete=!0}};BOOMR.plugins.PaintTiming={init:function(){return this.is_supported()||(i.complete=!0,i.initialized=!0),!i.complete&&"hidden"===BOOMR.visibilityState()&&(BOOMR.addVar("pt.hid",1,!0),i.complete=!0),i.initialized||(BOOMR.subscribe("page_ready",i.done,"load",i),BOOMR.subscribe("xhr_load",i.done,"xhr",i),BOOMR.subscribe("before_unload",i.done,null,i),i.initialized=!0),this},is_complete:function(){return!0},is_enabled:function(){return i.initialized&&this.is_supported()},is_supported:function(){if(null!==i.supported)return i.supported;var r=BOOMR.getPerformance();return i.supported=r&&void 0!==window.PerformancePaintTiming&&"function"==typeof r.getEntriesByType,i.supported},getTimingFor:function(r){var m,R,y;if(i.timingCache[r])return i.timingCache[r];if(this.is_supported()&&(y=BOOMR.getPerformance())&&"function"==typeof y.getEntriesByType&&(m=y.getEntriesByType("paint"))&&m.length)for(R=0;R<m.length;R++)if(m[R].name===r)return i.timingCache[r]=m[R].startTime,i.timingCache[r]}}}}(),function(){if(!BOOMR.plugins.NavigationTiming){var i={complete:!1,fullySent:!1,sendBeacon:function(){this.complete=!0,BOOMR.sendBeacon()},xhr_done:function(r){var m;if(r&&"spa_hard"===r.initiator)i.done(r);else if(r&&"spa"===r.initiator)i.sendBeacon();else{BOOMR;var y,l,t={};if(r){if(r.data&&(r=r.data),(m=BOOMR.getPerformance())&&r.restiming)for(l in t={nt_red_st:r.restiming.redirectStart,nt_red_end:r.restiming.redirectEnd,nt_fet_st:r.restiming.fetchStart,nt_dns_st:r.restiming.domainLookupStart,nt_dns_end:r.restiming.domainLookupEnd,nt_con_st:r.restiming.connectStart,nt_con_end:r.restiming.connectEnd,nt_req_st:r.restiming.requestStart,nt_res_st:r.restiming.responseStart,nt_res_end:r.restiming.responseEnd},r.restiming.secureConnectionStart&&(t.nt_ssl_st=r.restiming.secureConnectionStart),t)t.hasOwnProperty(l)&&t[l]&&(t[l]+=m.timing.navigationStart,t[l]=Math.floor(t[l]));for(l in r.timing&&(y=r.timing,t.nt_req_st||(t.nt_req_st=y.requestStart),t.nt_res_st||(t.nt_res_st=y.responseStart),t.nt_res_end||(t.nt_res_end=y.responseEnd),t.nt_domint=y.domInteractive,t.nt_domcomp=y.domComplete,t.nt_load_st=y.loadEventEnd,t.nt_load_end=y.loadEventEnd),t)t.hasOwnProperty(l)&&!t[l]&&delete t[l];BOOMR.addVar(t);try{i.addedVars.push.apply(i.addedVars,Object.keys(t))}catch(O){}i.sendBeacon()}}},done:function(){var m,R,y,t,S,e,r=BOOMR.window,l={},O=0;if(this.complete)return this;if(i.addedVars=[],m=BOOMR.getPerformance()){for(S in"function"==typeof m.getEntriesByType&&((t=m.getEntriesByType("navigation"))&&t.length?(BOOMR.info("This user agent supports NavigationTiming2","nt"),t=t[0],O=m.timing?m.timing.navigationStart:0):t=void 0),!t&&m.timing&&(BOOMR.info("This user agent supports NavigationTiming","nt"),t=m.timing),t&&(!(l={nt_nav_st:m.timing?m.timing.navigationStart:0,nt_red_st:o(O,t.redirectStart),nt_red_end:o(O,t.redirectEnd),nt_fet_st:o(O,t.fetchStart),nt_dns_st:o(O,t.domainLookupStart),nt_dns_end:o(O,t.domainLookupEnd),nt_con_st:o(O,t.connectStart),nt_con_end:o(O,t.connectEnd),nt_req_st:o(O,t.requestStart),nt_res_st:o(O,t.responseStart),nt_res_end:o(O,t.responseEnd),nt_domloading:o(O,t.domLoading),nt_domint:o(O,t.domInteractive),nt_domcontloaded_st:o(O,t.domContentLoadedEventStart),nt_domcontloaded_end:o(O,t.domContentLoadedEventEnd),nt_domcomp:o(O,t.domComplete),nt_load_st:o(O,t.loadEventStart),nt_load_end:o(O,t.loadEventEnd),nt_unload_st:o(O,t.unloadEventStart),nt_unload_end:o(O,t.unloadEventEnd)}).nt_domloading&&m&&m.timing&&m.timing.domLoading&&(l.nt_domloading=m.timing.domLoading),t.secureConnectionStart&&(l.nt_ssl_st=o(O,t.secureConnectionStart)),m.timing&&m.timing.msFirstPaint&&(l.nt_first_paint=m.timing.msFirstPaint),t.workerStart&&(l.nt_worker_start=o(O,t.workerStart)),(t.decodedBodySize||t.transferSize)&&(l.nt_enc_size=t.encodedBodySize,l.nt_dec_size=t.decodedBodySize,l.nt_trn_size=t.transferSize),t.nextHopProtocol&&(l.nt_protocol=t.nextHopProtocol)),!l.nt_first_paint&&BOOMR.plugins.PaintTiming&&(e=BOOMR.plugins.PaintTiming.getTimingFor("first-paint"))&&(l.nt_first_paint=o(O,e)),(!l.nt_protocol||!l.nt_first_paint)&&(!t||""!==t.nextHopProtocol)&&r.chrome&&"function"==typeof r.chrome.loadTimes&&(y=r.chrome.loadTimes())&&(l.nt_spdy=y.wasFetchedViaSpdy?1:0,l.nt_cinf=y.connectionInfo,"number"==typeof y.firstPaintTime&&0!==y.firstPaintTime&&(l.nt_first_paint=Math.round(1e3*y.firstPaintTime))),m.navigation&&(l.nt_red_cnt=(R=m.navigation).redirectCount,l.nt_nav_type=R.type),l)l.hasOwnProperty(S)&&void 0===l[S]&&delete l[S];BOOMR.addVar(l),t&&(t.requestStart&&t.navigationStart&&t.requestStart<t.navigationStart||t.responseStart&&t.navigationStart&&t.responseStart<t.navigationStart||t.responseStart&&t.fetchStart&&t.responseStart<t.fetchStart||t.navigationStart&&t.fetchStart<t.navigationStart||t.responseEnd&&t.responseEnd>BOOMR.now()+864e5)&&(BOOMR.addVar("nt_bad",1),i.addedVars.push("nt_bad"));try{i.addedVars.push.apply(i.addedVars,Object.keys(l))}catch(s){}l.nt_load_end>0&&(this.fullySent=!0)}i.sendBeacon()},clear:function(){i.addedVars&&i.addedVars.length>0&&(BOOMR.removeVar(i.addedVars),i.addedVars=[]),this.complete=this.fullySent},prerenderToVisible:function(){this.complete=!1,this.done()}};BOOMR.plugins.NavigationTiming={init:function(){return i.initialized||(BOOMR.subscribe("page_ready",i.done,null,i),BOOMR.subscribe("prerender_to_visible",i.prerenderToVisible,null,i),BOOMR.subscribe("xhr_load",i.xhr_done,null,i),BOOMR.subscribe("before_unload",i.done,null,i),BOOMR.subscribe("beacon",i.clear,null,i),i.initialized=!0),this},is_complete:function(){return!0}}}function(){}}(),function(){var o;if(!BOOMR.plugins.ResourceTiming){var i={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6,image:7,beacon:8,fetch:9,iframe:"a",subdocument:"a"},r={prefetch:1,preload:2,prerender:3,stylesheet:4},m=["startTime","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","workerStart"];o={complete:!1,sentNavBeacon:!1,initialized:!1,supported:null,xhr_load:function(){this.complete||(this.complete=!0,BOOMR.sendBeacon())},xssBreakWords:[/(h)(ref)/gi,/(s)(rc)/gi,/(a)(ction)/gi],urlLimit:500,clearOnBeacon:!1,trimUrls:[],serverTiming:!0,monitorClearResourceTimings:!1,trackedResourceTypes:"*",done:function(){this.sentNavBeacon||(K(),this.complete=!0,this.sentNavBeacon=!0,BOOMR.sendBeacon())},onBeacon:function(c){var B=BOOMR.getPerformance();if(c.hasOwnProperty("restiming")&&BOOMR.removeVar("restiming"),c.hasOwnProperty("servertiming")&&BOOMR.removeVar("servertiming"),o.clearOnBeacon&&B){var M=B.clearResourceTimings||B.webkitClearResourceTimings;M&&"function"==typeof M&&M.call(B)}},prerenderToVisible:function(){this.sentNavBeacon=!1,this.done()}},BOOMR.plugins.ResourceTiming={init:function(c){if(BOOMR.utils.pluginConfig(o,c,"ResourceTiming",["xssBreakWords","clearOnBeacon","urlLimit","trimUrls","trackedResourceTypes","serverTiming","monitorClearResourceTimings"]),o.initialized)return this;if(this.is_supported()){if(BOOMR.subscribe("page_ready",o.done,null,o),BOOMR.subscribe("prerender_to_visible",o.prerenderToVisible,null,o),BOOMR.subscribe("xhr_load",o.xhr_load,null,o),BOOMR.subscribe("beacon",o.onBeacon,null,o),BOOMR.subscribe("before_unload",o.done,null,o),o.monitorClearResourceTimings){var B=this;BOOMR.window.performance.clearResourceTimings=(M=BOOMR.window.performance.clearResourceTimings,function(){B.addResources(BOOMR.window.performance.getEntriesByType("resource")),M.apply(BOOMR.window.performance,arguments)})}}else o.complete=!0;var M;return o.initialized=!0,this},is_complete:function(){return!0},is_enabled:function(){},is_supported:function(){if(null!==o.supported)return o.supported;var c=BOOMR.getPerformance();return o.supported=c&&"function"==typeof c.getEntriesByType&&void 0!==window.PerformanceResourceTiming,o.supported},addResources:function(c,B){if(this.is_supported()&&BOOMR.utils.isArray(c)){if(o.collectedEntries=o.collectedEntries||[],"number"==typeof B){var h=B-(BOOMR.window.performance.timeOrigin||BOOMR.window.performance.timing.navigationStart);c=BOOMR.utils.arrayFilter(c,function(){})}Array.prototype.push.apply(o.collectedEntries,c)}},getCompressedResourceTiming:H,getFilteredResourceTiming:v,calculateResourceTimingUnion:function z(c){var B;if(!c||!c.length)return 0;c.sort(function(){});var M=Y(c),h=[],T=0;for(B=0;B<M.length;B++){var A=M[B];A.fetchStart<T&&(A.fetchStart=T),A.fetchStart<A.responseEnd&&(h.push(A),T=A.responseEnd)}var P=Y(h),k=0;for(B=0;B<P.length;B++)k+=P[B].responseEnd-P[B].fetchStart;return k},addResourceTimingToBeacon:K,addToBeacon:Q}}function q(c){var M,h,T,A,P,k,V,D,B={};for(M in c){for(h=M,T=0;T<o.xssBreakWords.length;T++)h=h.replace(o.xssBreakWords[T],"$1\n$2");if(c.hasOwnProperty(M))for(A=c[M],P=h.split(""),V=B,T=0;T<P.length;T++)void 0===(D=V[k=P[T]])?V=V[k]=T===P.length-1?A:{}:"string"==typeof D?V=V[k]={"|":D}:T===P.length-1?V[k]["|"]=A:V=V[k]}return B}function $(c,B){var h,T,A,M=0,P=[];for(h in c)c.hasOwnProperty(h)&&P.push(h);for(var k=0;k<P.length;k++)"object"==typeof c[h=P[k]]&&(T=$(c[h],!1))&&(delete c[h],"\n"===h?(h=T.name,M++):h+=T.name,c[h]=T.value),M++;return 1===M?B?((A={})[h]=c[h],A):{name:h,value:c[h]}:!!B&&c}function f(c,B){"number"!=typeof c&&(c=0),"number"!=typeof B&&(B=0);var M=Math.round(c||0),h=Math.round(B||0);return 0===M?0:M-h}function E(c){try{if("performance"in c&&c.performance)return!0}catch(M){}return!1}function _(c){var B=0;return E(c)&&c.performance.timing&&c.performance.timing.navigationStart&&(B=c.performance.timing.navigationStart),B}function U(c,B,M,h,T){var P,k,V,D,N,j,F,x,ne,ie,se,A=[],de={},oe={};if(void 0===B&&(B=!0),void 0===M&&(M=0),void 0===h&&(h=0),h>10)return A;try{let ce=function(fe){return o.serverTiming&&fe.serverTiming||[]};if(!E(c))return A;if(V=_(c),ie=function te(c,B){var T,A,h={},P=c.document,k=P.createElement("A");return T=(B=B||[0,0,0,0])[3]+(void 0!==c.pageXOffset)?c.pageXOffset:(P.documentElement||P.body.parentNode||P.body).scrollLeft,A=B[2]+(void 0!==c.pageYOffset)?c.pageYOffset:(P.documentElement||P.body.parentNode||P.body).scrollTop,["img","iframe","image"].forEach(function(V){var N,j,Z,F,D=P.getElementsByTagName(V);for(j=0;j<D.length;j++)if((N=D[j])&&(F=N.currentSrc||N.src||"function"==typeof N.getAttribute&&N.getAttribute("src")||N.getAttribute("xlink:href"),k.href=F,(F=k.href)&&!h[F]&&((Z=N.getBoundingClientRect()).height||N.offsetHeight)&&(Z.width||N.offsetWidth))){if(h[F]=[Z.height||N.offsetHeight,Z.width||N.offsetWidth,Math.round(Z.top+A),Math.round(Z.left+T)],!N.naturalHeight&&!N.naturalWidth)continue;var x,ne,ie;N.currentSrc&&(N.srcset||N.parentNode&&N.parentNode.nodeName&&"PICTURE"===N.parentNode.nodeName.toUpperCase())?(x=N.isConnected?N.ownerDocument.createElement("IMG"):new BOOMR.window.Image).src=F:x=N,ie=x.naturalWidth||N.naturalWidth,((ne=x.naturalHeight||N.naturalHeight)||ie)&&(h[F][0]!==ne||h[F][1]!==ie)&&h[F].push(ne,ie)}}),h}(c,T),G(se=c.document.createElement("a"),de,"script"),G(se,oe,"link"),(j=c.document.getElementsByTagName("iframe"))&&j.length)for(P=0;P<j.length;P++)D=_(j[P].contentWindow),N=0,D>V&&(N=M+(D-V)),se.href=j[P].src,A=A.concat(U(j[P].contentWindow,!1,N,h+1,ie[se.href]));if("function"!=typeof c.performance.getEntriesByType)return A;B&&((k=c.performance.getEntriesByType("navigation"))&&1===k.length?A.push({name:c.location.href,startTime:0,initiatorType:"html",redirectStart:(F=k[0]).redirectStart,redirectEnd:F.redirectEnd,fetchStart:F.fetchStart,domainLookupStart:F.domainLookupStart,domainLookupEnd:F.domainLookupEnd,connectStart:F.connectStart,secureConnectionStart:F.secureConnectionStart,connectEnd:F.connectEnd,requestStart:F.requestStart,responseStart:F.responseStart,responseEnd:F.responseEnd,workerStart:F.workerStart,encodedBodySize:F.encodedBodySize,decodedBodySize:F.decodedBodySize,transferSize:F.transferSize,serverTiming:ce(F)}):c.performance.timing&&0!==(x=c.performance.timing).navigationStart&&x.responseEnd<=x.navigationStart+36e5&&A.push({name:c.location.href,startTime:0,initiatorType:"html",redirectStart:x.redirectStart?x.redirectStart-x.navigationStart:0,redirectEnd:x.redirectEnd?x.redirectEnd-x.navigationStart:0,fetchStart:x.fetchStart?x.fetchStart-x.navigationStart:0,domainLookupStart:x.domainLookupStart?x.domainLookupStart-x.navigationStart:0,domainLookupEnd:x.domainLookupEnd?x.domainLookupEnd-x.navigationStart:0,connectStart:x.connectStart?x.connectStart-x.navigationStart:0,secureConnectionStart:x.secureConnectionStart?x.secureConnectionStart-x.navigationStart:0,connectEnd:x.connectEnd?x.connectEnd-x.navigationStart:0,requestStart:x.requestStart?x.requestStart-x.navigationStart:0,responseStart:x.responseStart?x.responseStart-x.navigationStart:0,responseEnd:x.responseEnd?x.responseEnd-x.navigationStart:0}));var ue=c.performance.getEntriesByType("resource"),ge=[];for(c===BOOMR.window&&o.collectedEntries&&(Array.prototype.push.apply(ue,o.collectedEntries),o.collectedEntries=[]),P=0;ue&&P<ue.length;P++){ne={name:(x=ue[P]).name,initiatorType:x.initiatorType,encodedBodySize:x.encodedBodySize,decodedBodySize:x.decodedBodySize,transferSize:x.transferSize,serverTiming:ce(x),visibleDimensions:ie[x.name],latestTime:d(x)};for(var pe=0;pe<m.length;pe++){var le=m[pe];ne[le]="startTime"===le||x[le]?x[le]+M:0}if(x.hasOwnProperty("_data")&&(ne._data=x._data),("script"===x.initiatorType||"link"===x.initiatorType)&&de[x.name]){var ae=de[x.name];for(ne.scriptAttrs=(ae.async?1:0)|(ae.defer?2:0);1===ae.nodeType&&"BODY"!==ae.nodeName;)ae=ae.parentNode;ne.scriptAttrs|="BODY"===ae.nodeName?4:0}"link"===x.initiatorType&&oe[x.name]&&BOOMR.utils.arrayFind(oe[x.name].rel.split(/[\u0009\u000A\u000C\u000D\u0020]+/),function(fe){if(fe=fe.toLowerCase(),r[fe])return ne.linkAttrs=r[fe],!0}),ge.push(ne)}A=A.concat(ge)}catch(ce){return A}return A}function G(c,B,M){Array.prototype.forEach.call(c.ownerDocument.getElementsByTagName(M),function(h){c.href=h.currentSrc||h.src||"function"==typeof h.getAttribute&&h.getAttribute("xlink:href")||h.href,c.href.match(/^https?:\/\//)&&(B[c.href]=h)})}function(){}function v(c,B,M){var T,A,h=U(BOOMR.window,!0,0,0),P=_(BOOMR.window),k={};if(!h||!h.length)return{entries:[]};h.sort(function(N,j){return N.startTime-j.startTime});var V=[];for(T=0;T<h.length;T++)if(!(0===(A=h[T]).name.indexOf("about:")||0===A.name.indexOf("javascript:")||0===A.name.indexOf("res:")||A.name.indexOf(BOOMR.url)>-1||A.name.indexOf(BOOMR.config_url)>-1||"function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&A.name.indexOf(BOOMR.getBeaconURL())>-1||c&&P+A.startTime<c)){if(B&&P+A.startTime>B)break;void 0!==M&&"*"!==M&&M.length&&(!A.initiatorType||!BOOMR.utils.inArray(A.initiatorType,M))||(ee(k,A.serverTiming),V.push(A))}var D=function X(c){return Object.keys(c).sort(function(B,M){return c[M].count-c[B].count}).reduce(function(B,M){var h=Object.keys(c[M].counts).sort(function(){});return B.push(1===h.length&&""===h[0]?M:[M].concat(h)),B},[])}(k);return{entries:V,serverTiming:{lookup:D,indexed:re(D)}}}function n(c){var B,M,h;return c.encodedBodySize||c.decodedBodySize||c.transferSize?[M=c.encodedBodySize,(B=c.transferSize)?B-M:"_",(h=c.decodedBodySize)?h-M:0].map(W).join(",").replace(/,+$/,""):""}function(){}function(){}function H(c,B){var M,h,A,P,k,T={},V={},D=v(c,B,o.trackedResourceTypes),N=D.entries,j=D.serverTiming;if(!N||!N.length)return{restiming:{},servertiming:[]};for(M=0;M<N.length;M++){void 0===(A=i[(h=N[M]).initiatorType])&&(A=0),k=A+[f(h.startTime,0),f(h.responseEnd,h.startTime),f(h.responseStart,h.startTime),f(h.requestStart,h.startTime),f(h.connectEnd,h.startTime),f(h.secureConnectionStart,h.startTime),f(h.connectStart,h.startTime),f(h.domainLookupEnd,h.startTime),f(h.domainLookupStart,h.startTime),f(h.redirectEnd,h.startTime),f(h.redirectStart,h.startTime)].map(W).join(",").replace(/,+$/,"");var Z=n(h);if(""!==Z&&(k+="*1"+Z),h.hasOwnProperty("scriptAttrs")&&(k+="*2"+h.scriptAttrs),h.serverTiming&&h.serverTiming.length&&(k+="*3"+h.serverTiming.reduce(function(ne,ie,de){var oe=String(void 0!==ie.duration?ie.duration:ie.value);"0."===oe.substring(0,2)&&(oe=oe.substring(1));var se=ie.name||ie.metric;return ne+(de>0?",":"")+oe+J(j.indexed[se].index,j.indexed[se].descriptions[ie.description])},"")),h.hasOwnProperty("linkAttrs")&&(k+="*4"+h.linkAttrs),P=u(h.name,o.trimUrls),h.hasOwnProperty("_data")){var F="";for(var x in h._data)h._data.hasOwnProperty(x)&&(F+="*5"+x+":"+h._data[x]);void 0===T[P]?T[P]=k+F:T[P]+=F}else void 0!==T[P]?T[P]+="|"+k:T[P]=h.visibleDimensions?"*0"+h.visibleDimensions.map(Math.round).map(W).join(",").replace(/,+$/,"")+"|"+k:k;h.visibleDimensions&&(V[h.latestTime]||(V[h.latestTime]=[]),V[h.latestTime].push(h.visibleDimensions))}return{restiming:$(q(T),!0),servertiming:j.lookup}}function(){}