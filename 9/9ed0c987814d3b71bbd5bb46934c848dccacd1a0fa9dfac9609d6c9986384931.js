/*
 handlebars v1.3.0

Copyright (C) 2011 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/
var qq=qq||{};
qq=function(a){return{hide:function(){a.style.display="none";return this},attach:function(b,d){a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent&&a.attachEvent("on"+b,d);return function(){qq(a).detach(b,d)}},detach:function(b,d){a.removeEventListener?a.removeEventListener(b,d,!1):a.attachEvent&&a.detachEvent("on"+b,d);return this},contains:function(b){return a==b?!0:a.contains?a.contains(b):!!(b.compareDocumentPosition(a)&8)},insertBefore:function(b){b.parentNode.insertBefore(a,b);return this},
remove:function(){a.parentNode.removeChild(a);return this},css:function(b){null!=b.opacity&&"string"!=typeof a.style.opacity&&"undefined"!=typeof a.filters&&(b.filter="alpha(opacity="+Math.round(100*b.opacity)+")");qq.extend(a.style,b);return this},hasClass:function(b){return(new RegExp("(^| )"+b+"( |$)")).test(a.className)},addClass:function(b){qq(a).hasClass(b)||(a.className+=" "+b);return this},removeClass:function(b){a.className=a.className.replace(new RegExp("(^| )"+b+"( |$)")," ").replace(/^\s+|\s+$/g,
"");return this},getByClass:function(b){if(a.querySelectorAll)return a.querySelectorAll("."+b);for(var d=[],f=a.getElementsByTagName("*"),h=f.length,c=0;c<h;c++)qq(f[c]).hasClass(b)&&d.push(f[c]);return d},children:function(){for(var b=[],d=a.firstChild;d;)1==d.nodeType&&b.push(d),d=d.nextSibling;return b},setText:function(b){a.innerText=b;a.textContent=b;return this},clearText:function(){return qq(a).setText("")}}};
qq.log=function(a,b){if(window.console)if(b&&"info"!==b)if(window.console[b])window.console[b](a);else window.console.log("<"+b+"> "+a);else window.console.log(a)};qq.isObject=function(a){return null!==a&&a&&"object"===typeof a&&a.constructor===Object};qq.extend=function(a,b,d){for(var f in b)b.hasOwnProperty(f)&&(d&&qq.isObject(b[f])?(void 0===a[f]&&(a[f]={}),qq.extend(a[f],b[f],!0)):a[f]=b[f])};
qq.indexOf=function(a,b,d){if(a.indexOf)return a.indexOf(b,d);d=d||0;var f=a.length;for(0>d&&(d+=f);d<f;d++)if(d in a&&a[d]===b)return d;return-1};qq.getUniqueId=function(){var a=0;return function(){return a++}}();qq.ie=function(){return-1!=navigator.userAgent.indexOf("MSIE")};qq.ie10=function(){return-1!=navigator.userAgent.indexOf("MSIE 10")};qq.safari=function(){return void 0!=navigator.vendor&&-1!=navigator.vendor.indexOf("Apple")};qq.chrome=function(){return void 0!=navigator.vendor&&-1!=navigator.vendor.indexOf("Google")};
qq.firefox=function(){return-1!=navigator.userAgent.indexOf("Mozilla")&&void 0!=navigator.vendor&&""==navigator.vendor};qq.windows=function(){return"Win32"==navigator.platform};qq.preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};qq.toElement=function(){var a=document.createElement("div");return function(b){a.innerHTML=b;b=a.firstChild;a.removeChild(b);return b}}();
qq.obj2url=function(a,b,d){var f=[],h="&",c=function(a,d){var c=b?/\[\]$/.test(b)?b:b+"["+d+"]":d;"undefined"!=c&&"undefined"!=d&&f.push("object"===typeof a?qq.obj2url(a,c,!0):"[object Function]"===Object.prototype.toString.call(a)?encodeURIComponent(c)+"="+encodeURIComponent(a()):encodeURIComponent(c)+"="+encodeURIComponent(a))};if(!d&&b)h=/\?/.test(b)?/\?$/.test(b)?"":"&":"?",f.push(b),f.push(qq.obj2url(a));else if("[object Array]"===Object.prototype.toString.call(a)&&"undefined"!=typeof a){var g=
0;for(d=a.length;g<d;++g)c(a[g],g)}else if("undefined"!=typeof a&&null!==a&&"object"===typeof a)for(g in a)c(a[g],g);else f.push(encodeURIComponent(b)+"="+encodeURIComponent(a));return b?f.join(h):f.join(h).replace(/^&/,"").replace(/%20/g,"+")};qq.DisposeSupport={_disposers:[],dispose:function(){for(var a;a=this._disposers.shift();)a()},addDisposer:function(a){this._disposers.push(a)},_attach:function(){this.addDisposer(qq(arguments[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))}};
qq.UploadButton=function(a){this._options={element:null,multiple:!1,acceptFiles:null,name:"file",onChange:function(a){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};qq.extend(this._options,a);qq.extend(this,qq.DisposeSupport);this._element=this._options.element;qq(this._element).css({position:"relative",overflow:"hidden",direction:"ltr"});this._input=this._createInput()};
qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){this._input.parentNode&&qq(this._input).remove();qq(this._element).removeClass(this._options.focusClass);this._input=this._createInput()},_createInput:function(){var a=document.createElement("input");this._options.multiple&&a.setAttribute("multiple","multiple");this._options.acceptFiles&&a.setAttribute("accept",this._options.acceptFiles);a.setAttribute("type","file");a.setAttribute("name",this._options.name);qq(a).css({position:"absolute",
right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0});this._element.appendChild(a);var b=this;this._attach(a,"change",function(){b._options.onChange(a)});this._attach(a,"mouseover",function(){qq(b._element).addClass(b._options.hoverClass)});this._attach(a,"mouseout",function(){qq(b._element).removeClass(b._options.hoverClass)});this._attach(a,"focus",function(){qq(b._element).addClass(b._options.focusClass)});this._attach(a,"blur",function(){qq(b._element).removeClass(b._options.focusClass)});
window.attachEvent&&a.setAttribute("tabIndex","-1");return a}};
qq.FineUploaderBasic=function(a){this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{endpoint:"/server/upload",params:{},customHeaders:{},forceMultipart:!1,inputName:"qqfile"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,stopOnFirstInvalidFile:!0},callbacks:{onSubmit:function(a,d){},onComplete:function(a,d,f){},onCancel:function(a,d){},onUpload:function(a,d,f){},onProgress:function(a,d,f,h){},onError:function(a,d,f){},
onAutoRetry:function(a,d,f){},onManualRetry:function(a,d){},onValidate:function(a){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},
retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"}};qq.extend(this._options,a,!0);this._wrapCallbacks();qq.extend(this,qq.DisposeSupport);this._filesInProgress=0;this._storedFileIds=[];this._autoRetries=[];this._retryTimeouts=[];this._preventRetries=[];this._handler=this._createUploadHandler();this._options.button&&(this._button=this._createUploadButton(this._options.button));this._preventLeaveInProgress()};
qq.FineUploaderBasic.prototype={log:function(a,b){!this._options.debug||b&&"info"!==b?b&&"info"!==b&&qq.log("[FineUploader] "+a,b):qq.log("[FineUploader] "+a)},setParams:function(a){this._options.request.params=a},getInProgress:function(){return this._filesInProgress},uploadStoredFiles:function(){for(;this._storedFileIds.length;)this._filesInProgress++,this._handler.upload(this._storedFileIds.shift(),this._options.request.params)},clearStoredFiles:function(){this._storedFileIds=[]},retry:function(a){return this._onBeforeManualRetry(a)?
(this._handler.retry(a),!0):!1},cancel:function(a){this._handler.cancel(a)},reset:function(){this.log("Resetting uploader...");this._handler.reset();this._filesInProgress=0;this._storedFileIds=[];this._autoRetries=[];this._retryTimeouts=[];this._preventRetries=[];this._button.reset()},_createUploadButton:function(a){var b=this,d=new qq.UploadButton({element:a,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),acceptFiles:this._options.validation.acceptFiles,onChange:function(a){b._onInputChange(a)}});
this.addDisposer(function(){d.dispose()});return d},_createUploadHandler:function(){var a=this;var b=qq.UploadHandlerXhr.isSupported()?"UploadHandlerXhr":"UploadHandlerForm";return new qq[b]({debug:this._options.debug,endpoint:this._options.request.endpoint,forceMultipart:this._options.request.forceMultipart,maxConnections:this._options.maxConnections,customHeaders:this._options.request.customHeaders,inputName:this._options.request.inputName,demoMode:this._options.demoMode,log:this.log,onProgress:function(b,
f,h,c){a._onProgress(b,f,h,c);a._options.callbacks.onProgress(b,f,h,c)},onComplete:function(b,f,h,c){a._onComplete(b,f,h,c);a._options.callbacks.onComplete(b,f,h)},onCancel:function(b,f){a._onCancel(b,f);a._options.callbacks.onCancel(b,f)},onUpload:function(b,f,h){a._onUpload(b,f,h);a._options.callbacks.onUpload(b,f,h)},onAutoRetry:function(b,f,h,c){a._preventRetries[b]=h[a._options.retry.preventRetryResponseProperty];return a._shouldAutoRetry(b,f,h)?(a._maybeParseAndSendUploadError(b,f,h,c),a._options.callbacks.onAutoRetry(b,
f,a._autoRetries[b]+1),a._onBeforeAutoRetry(b,f),a._retryTimeouts[b]=setTimeout(function(){a._onAutoRetry(b,f,h)},1E3*a._options.retry.autoAttemptDelay),!0):!1}})},_preventLeaveInProgress:function(){var a=this;this._attach(window,"beforeunload",function(b){if(a._filesInProgress)return b=b||window.event,b.returnValue=a._options.messages.onLeave})},_onSubmit:function(a,b){this._options.autoUpload&&this._filesInProgress++},_onProgress:function(a,b,d,f){},_onComplete:function(a,b,d,f){this._filesInProgress--;
this._maybeParseAndSendUploadError(a,b,d,f)},_onCancel:function(a,b){clearTimeout(this._retryTimeouts[a]);a=qq.indexOf(this._storedFileIds,a);this._options.autoUpload||0>a?this._filesInProgress--:this._options.autoUpload||this._storedFileIds.splice(a,1)},_onUpload:function(a,b,d){},_onInputChange:function(a){this._handler instanceof qq.UploadHandlerXhr?this._uploadFileList(a.files):this._validateFile(a)&&this._uploadFile(a);this._button.reset()},_onBeforeAutoRetry:function(a,b){this.log("Waiting "+
this._options.retry.autoAttemptDelay+" seconds before retrying "+b+"...")},_onAutoRetry:function(a,b,d){this.log("Retrying "+b+"...");this._autoRetries[a]++;this._handler.retry(a)},_shouldAutoRetry:function(a,b,d){return!this._preventRetries[a]&&this._options.retry.enableAuto?(void 0===this._autoRetries[a]&&(this._autoRetries[a]=0),this._autoRetries[a]<this._options.retry.maxAutoAttempts):!1},_onBeforeManualRetry:function(a){if(this._preventRetries[a])return this.log("Retries are forbidden for id "+
a,"warn"),!1;if(this._handler.isValid(a)){var b=this._handler.getName(a);if(!1===this._options.callbacks.onManualRetry(a,b))return!1;this.log("Retrying upload for '"+b+"' (id: "+a+")...");this._filesInProgress++;return!0}this.log("'"+a+"' is not a valid file ID","error");return!1},_maybeParseAndSendUploadError:function(a,b,d,f){if(!d.success)if(f&&200!==f.status&&!d.error)this._options.callbacks.onError(a,b,"XHR returned response code "+f.status);else this._options.callbacks.onError(a,b,d.error?d.error:
"Upload failure reason unknown")},_uploadFileList:function(a){var b;var d=this._getValidationDescriptors(a);1<d.length&&(b=!1===this._options.callbacks.onValidate(d));if(!b)if(0<a.length)for(d=0;d<a.length;d++)if(this._validateFile(a[d]))this._uploadFile(a[d]);else{if(this._options.validation.stopOnFirstInvalidFile)break}else this._error("noFilesError","")},_uploadFile:function(a){a=this._handler.add(a);var b=this._handler.getName(a);!1!==this._options.callbacks.onSubmit(a,b)&&(this._onSubmit(a,b),
this._options.autoUpload?this._handler.upload(a,this._options.request.params):this._storeFileForLater(a))},_storeFileForLater:function(a){this._storedFileIds.push(a)},_validateFile:function(a){a=this._getValidationDescriptor(a);var b=a.name;var d=a.size;if(!1===this._options.callbacks.onValidate([a]))return!1;if(this._isAllowedExtension(b)){if(0===d)return this._error("emptyError",b),!1;if(d&&this._options.validation.sizeLimit&&d>this._options.validation.sizeLimit)return this._error("sizeError",b),
!1;if(d&&d<this._options.validation.minSizeLimit)return this._error("minSizeError",b),!1}else return this._error("typeError",b),!1;return!0},_error:function(a,b){a=this._options.messages[a];var d=this._options.validation.allowedExtensions.join(", "),f=this._formatFileName(b);a=a.replace("{file}",f);a=a.replace("{extensions}",d);d=this._formatSize(this._options.validation.sizeLimit);a=a.replace("{sizeLimit}",d);d=this._formatSize(this._options.validation.minSizeLimit);a=a.replace("{minSizeLimit}",
d);this._options.callbacks.onError(null,b,a);return a},_formatFileName:function(a){33<a.length&&(a=a.slice(0,19)+"..."+a.slice(-13));return a},_isAllowedExtension:function(a){a=-1!==a.indexOf(".")?a.replace(/.*[.]/,"").toLowerCase():"";var b=this._options.validation.allowedExtensions;if(!b.length)return!0;for(var d=0;d<b.length;d++)if(b[d].toLowerCase()==a)return!0;return!1},_formatSize:function(a){var b=-1;do a/=1024,b++;while(99<a);return Math.max(a,.1).toFixed(1)+"kB MB GB TB PB EB".split(" ")[b]},
_wrapCallbacks:function(){var a=this;var b=function(b,d,c){try{return d.apply(a,c)}catch(g){a.log("Caught exception in '"+b+"' callback - "+g,"error")}};for(var d in this._options.callbacks)(function(){var f=a._options.callbacks[d];a._options.callbacks[d]=function(){return b(d,f,arguments)}})()},_parseFileName:function(a){return a.value?a.value.replace(/.*(\/|\\)/,""):null!==a.fileName&&void 0!==a.fileName?a.fileName:a.name},_parseFileSize:function(a){var b;a.value||(b=null!==a.fileSize&&void 0!==
a.fileSize?a.fileSize:a.size);return b},_getValidationDescriptor:function(a){var b={};var d=this._parseFileName(a);a=this._parseFileSize(a);b.name=d;a&&(b.size=a);return b},_getValidationDescriptors:function(a){var b;var d=[];for(b=0;b<a.length;b++)d.push(a[b]);return d}};
qq.FineUploader=function(a){qq.FineUploaderBasic.apply(this,arguments);qq.extend(this._options,{element:null,listElement:null,dragAndDrop:{extraDropzones:[],hideDropzones:!0,disableDefaultDropzone:!1},text:{uploadButton:"Upload a file",cancelButton:"Cancel",retryButton:"Retry",failUpload:"Upload failed",dragZone:"Drop files here to upload",formatProgress:"{percent}% of {total_size}",waitingForResponse:"Processing..."},template:'<div class="qq-uploader">'+(this._options.listElement?"":'<ul class="qq-upload-list mbs"></ul>')+
(this._options.dragAndDrop&&this._options.dragAndDrop.disableDefaultDropzone?"":'<div class="qq-upload-drop-area"><span class="qq-upload-drop-text">{dragZoneText}</span>')+(this._options.button?"":'<br/><div class="qq-upload-button btn"><div>{uploadButtonText}</div></div>')+(this._options.dragAndDrop&&this._options.dragAndDrop.disableDefaultDropzone?"":"</div>")+"</div>",fileTemplate:'<li><div class="qq-progress-bar"></div><span class="qq-upload-spinner"></span><span class="qq-upload-finished"></span><span class="qq-upload-file"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">{cancelButtonText}</a><a class="qq-upload-retry" href="#">{retryButtonText}</a><span class="qq-upload-status-text">{statusText}</span></li>',
classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",dropDisabled:"qq-upload-drop-area-disabled",list:"qq-upload-list",progressBar:"qq-progress-bar",file:"qq-upload-file",spinner:"qq-upload-spinner",finished:"qq-upload-finished",retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",size:"qq-upload-size",cancel:"qq-upload-cancel",retry:"qq-upload-retry",statusText:"qq-upload-status-text",success:"qq-upload-success",fail:"qq-upload-fail",successIcon:null,
failIcon:null},failedUploadTextDisplay:{mode:"default",maxChars:50,responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file"},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}...",showButton:!1},showMessage:function(a){alert(a)}},!0);qq.extend(this._options,a,!0);this._wrapCallbacks();this._options.template=this._options.template.replace(/\{dragZoneText\}/g,this._options.text.dragZone);this._options.template=this._options.template.replace(/\{uploadButtonText\}/g,
this._options.text.uploadButton);this._options.fileTemplate=this._options.fileTemplate.replace(/\{cancelButtonText\}/g,this._options.text.cancelButton);this._options.fileTemplate=this._options.fileTemplate.replace(/\{retryButtonText\}/g,this._options.text.retryButton);this._options.fileTemplate=this._options.fileTemplate.replace(/\{statusText\}/g,"");this._element=this._options.element;this._element.innerHTML=this._options.template;this._listElement=this._options.listElement||this._find(this._element,
"list");this._classes=this._options.classes;this._button||(this._button=this._createUploadButton(this._find(this._element,"button")));this._bindCancelAndRetryEvents();this._setupDragDrop()};qq.extend(qq.FineUploader.prototype,qq.FineUploaderBasic.prototype);
qq.extend(qq.FineUploader.prototype,{clearStoredFiles:function(){qq.FineUploaderBasic.prototype.clearStoredFiles.apply(this,arguments);this._listElement.innerHTML=""},addExtraDropzone:function(a){this._setupExtraDropzone(a)},removeExtraDropzone:function(a){var b=this._options.dragAndDrop.extraDropzones,d;for(d in b)if(b[d]===a)return this._options.dragAndDrop.extraDropzones.splice(d,1)},getItemByFileId:function(a){for(var b=this._listElement.firstChild;b;){if(b.qqFileId==a)return b;b=b.nextSibling}},
reset:function(){qq.FineUploaderBasic.prototype.reset.apply(this,arguments);this._element.innerHTML=this._options.template;this._listElement=this._options.listElement||this._find(this._element,"list");this._options.button||(this._button=this._createUploadButton(this._find(this._element,"button")));this._bindCancelAndRetryEvents();this._setupDragDrop()},_leaving_document_out:function(a){return(qq.chrome()||qq.safari()&&qq.windows())&&0==a.clientX&&0==a.clientY||qq.firefox()&&!a.relatedTarget},_storeFileForLater:function(a){qq.FineUploaderBasic.prototype._storeFileForLater.apply(this,
arguments);var b=this.getItemByFileId(a);qq(this._find(b,"spinner")).hide()},_find:function(a,b){a=qq(a).getByClass(this._options.classes[b])[0];if(!a)throw Error("element not found "+b);return a},_setupExtraDropzone:function(a){this._options.dragAndDrop.extraDropzones.push(a);this._setupDropzone(a)},_setupDropzone:function(a){var b=this,d=new qq.UploadDropZone({element:a,onEnter:function(d){qq(a).addClass(b._classes.dropActive);d.stopPropagation()},onLeave:function(a){},onLeaveNotDescendants:function(d){qq(a).removeClass(b._classes.dropActive)},
onDrop:function(d){b._options.dragAndDrop.hideDropzones&&qq(a).hide();qq(a).removeClass(b._classes.dropActive);1<d.dataTransfer.files.length&&!b._options.multiple?b._error("tooManyFilesError",""):b._uploadFileList(d.dataTransfer.files)}});this.addDisposer(function(){d.dispose()});this._options.dragAndDrop.hideDropzones&&qq(a).hide()},_setupDragDrop:function(){var a=this;if(!this._options.dragAndDrop.disableDefaultDropzone){var b=this._find(this._element,"drop");this._options.dragAndDrop.extraDropzones.push(b)}var d=
this._options.dragAndDrop.extraDropzones,f;for(f=0;f<d.length;f++)this._setupDropzone(d[f]);this._options.dragAndDrop.disableDefaultDropzone||qq.ie()&&!qq.ie10()||this._attach(document,"dragenter",function(h){if(!qq(b).hasClass(a._classes.dropDisabled))for(b.style.display="block",f=0;f<d.length;f++)d[f].style.display="block"});this._attach(document,"dragleave",function(b){if(a._options.dragAndDrop.hideDropzones&&qq.FineUploader.prototype._leaving_document_out(b))for(f=0;f<d.length;f++)qq(d[f]).hide()});
qq(document).attach("drop",function(b){if(a._options.dragAndDrop.hideDropzones)for(f=0;f<d.length;f++)qq(d[f]).hide();b.preventDefault()})},_onSubmit:function(a,b){qq.FineUploaderBasic.prototype._onSubmit.apply(this,arguments);this._addToList(a,b)},_onProgress:function(a,b,d,f){qq.FineUploaderBasic.prototype._onProgress.apply(this,arguments);var h=this.getItemByFileId(a);var c=this._find(h,"progressBar");var g=Math.round(d/f*100);if(d===f){var k=this._find(h,"cancel");qq(k).hide();qq(c).hide();qq(this._find(h,
"statusText")).setText(this._options.text.waitingForResponse);k=this._formatSize(f)}else k=this._formatProgress(d,f),qq(c).css({display:"block"});qq(c).css({width:g+"%"});h=this._find(h,"size");qq(h).css({display:"inline"});qq(h).setText(k)},_onComplete:function(a,b,d,f){qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments);var h=this.getItemByFileId(a);qq(this._find(h,"statusText")).clearText();qq(h).removeClass(this._classes.retrying);qq(this._find(h,"progressBar")).hide();this._options.disableCancelForFormUploads&&
!qq.UploadHandlerXhr.isSupported()||qq(this._find(h,"cancel")).hide();qq(this._find(h,"spinner")).hide();d.success?(qq(h).addClass(this._classes.success),this._classes.successIcon&&(this._find(h,"finished").style.display="inline-block",qq(h).addClass(this._classes.successIcon))):(qq(h).addClass(this._classes.fail),this._classes.failIcon&&(this._find(h,"finished").style.display="inline-block",qq(h).addClass(this._classes.failIcon)),this._options.retry.showButton&&!this._preventRetries[a]&&qq(h).addClass(this._classes.retryable),
this._controlFailureTextDisplay(h,d))},_onUpload:function(a,b,d){qq.FineUploaderBasic.prototype._onUpload.apply(this,arguments);var f=this.getItemByFileId(a);this._showSpinner(f)},_onBeforeAutoRetry:function(a){qq.FineUploaderBasic.prototype._onBeforeAutoRetry.apply(this,arguments);var b=this.getItemByFileId(a);var d=this._find(b,"progressBar");this._showCancelLink(b);d.style.width=0;qq(d).hide();if(this._options.retry.showAutoRetryNote){d=this._find(b,"statusText");var f=this._autoRetries[a]+1;var h=
this._options.retry.maxAutoAttempts;var c=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,f);c=c.replace(/\{maxAuto\}/g,h);qq(d).setText(c);1===f&&qq(b).addClass(this._classes.retrying)}},_onBeforeManualRetry:function(a){if(qq.FineUploaderBasic.prototype._onBeforeManualRetry.apply(this,arguments)){var b=this.getItemByFileId(a);this._find(b,"progressBar").style.width=0;qq(b).removeClass(this._classes.fail);this._showSpinner(b);this._showCancelLink(b);return!0}return!1},_addToList:function(a,
b){var d=qq.toElement(this._options.fileTemplate);if(this._options.disableCancelForFormUploads&&!qq.UploadHandlerXhr.isSupported()){var f=this._find(d,"cancel");qq(f).remove()}d.qqFileId=a;a=this._find(d,"file");qq(a).setText(this._formatFileName(b));qq(this._find(d,"size")).hide();this._options.multiple||this._clearList();this._listElement.appendChild(d)},_clearList:function(){this._listElement.innerHTML="";this.clearStoredFiles()},_bindCancelAndRetryEvents:function(){var a=this;this._attach(this._listElement,
"click",function(b){b=b||window.event;var d=b.target||b.srcElement;if(qq(d).hasClass(a._classes.cancel)||qq(d).hasClass(a._classes.retry)){qq.preventDefault(b);for(b=d.parentNode;void 0==b.qqFileId;)b=d=d.parentNode;qq(d).hasClass(a._classes.cancel)?(a.cancel(b.qqFileId),qq(b).remove()):(qq(b).removeClass(a._classes.retryable),a.retry(b.qqFileId))}})},_formatProgress:function(a,b){var d=this._options.text.formatProgress;d=d.replace("{percent}",Math.round(a/b*100));a=this._formatSize(b);return d=d.replace("{total_size}",
a)},_controlFailureTextDisplay:function(a,b){var d;var f=this._options.failedUploadTextDisplay.mode;var h=this._options.failedUploadTextDisplay.maxChars;var c=this._options.failedUploadTextDisplay.responseProperty;"custom"===f?((b=b[c])?b.length>h&&(d=b.substring(0,h)+"..."):(b=this._options.text.failUpload,this.log("'"+c+"' is not a valid property on the server response.","warn")),qq(this._find(a,"statusText")).setText(d||b),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(a,
b)):"default"===f?qq(this._find(a,"statusText")).setText(this._options.text.failUpload):"none"!==f&&this.log("failedUploadTextDisplay.mode value of '"+f+"' is not valid","warn")},_showTooltip:function(a,b){a.title=b},_showSpinner:function(a){this._find(a,"spinner").style.display="inline-block"},_showCancelLink:function(a){if(!this._options.disableCancelForFormUploads||qq.UploadHandlerXhr.isSupported())this._find(a,"cancel").style.display="inline"},_error:function(a,b){var d=qq.FineUploaderBasic.prototype._error.apply(this,
arguments);this._options.showMessage(d)}});qq.UploadDropZone=function(a){this._options={element:null,onEnter:function(a){},onLeave:function(a){},onLeaveNotDescendants:function(a){},onDrop:function(a){}};qq.extend(this._options,a);qq.extend(this,qq.DisposeSupport);this._element=this._options.element;this._disableDropOutside();this._attachEvents()};
qq.UploadDropZone.prototype={_dragover_should_be_canceled:function(){return qq.safari()||qq.firefox()&&qq.windows()},_disableDropOutside:function(a){qq.UploadDropZone.dropOutsideDisabled||(this._dragover_should_be_canceled?qq(document).attach("dragover",function(a){a.preventDefault()}):qq(document).attach("dragover",function(a){a.dataTransfer&&(a.dataTransfer.dropEffect="none",a.preventDefault())}),qq.UploadDropZone.dropOutsideDisabled=!0)},_attachEvents:function(){var a=this;a._attach(a._element,
"dragover",function(b){if(a._isValidFileDrag(b)){var d=qq.ie()?null:b.dataTransfer.effectAllowed;b.dataTransfer.dropEffect="move"==d||"linkMove"==d?"move":"copy";b.stopPropagation();b.preventDefault()}});a._attach(a._element,"dragenter",function(b){if(a._isValidFileDrag(b))a._options.onEnter(b)});a._attach(a._element,"dragleave",function(b){if(a._isValidFileDrag(b)){a._options.onLeave(b);var d=document.elementFromPoint(b.clientX,b.clientY);if(!qq(this).contains(d))a._options.onLeaveNotDescendants(b)}});
a._attach(a._element,"drop",function(b){a._isValidFileDrag(b)&&(b.preventDefault(),a._options.onDrop(b))})},_isValidFileDrag:function(a){if(qq.ie()&&!qq.ie10())return!1;a=a.dataTransfer;var b=qq.safari(),d=qq.ie10()?!0:"none"!=a.effectAllowed;return a&&d&&(a.files||!b&&a.types.contains&&a.types.contains("Files"))}};
qq.UploadHandlerAbstract=function(a){this._options={debug:!1,endpoint:"/upload.php",maxConnections:999,log:function(a,d){},onProgress:function(a,d,f,h){},onComplete:function(a,d,f,h){},onCancel:function(a,d){},onUpload:function(a,d,f){},onAutoRetry:function(a,d,f,h){}};qq.extend(this._options,a);this._queue=[];this._params=[];this.log=this._options.log};
qq.UploadHandlerAbstract.prototype={add:function(a){},upload:function(a,b){var d=this._queue.push(a),f={};qq.extend(f,b);this._params[a]=f;d<=this._options.maxConnections&&this._upload(a,this._params[a])},retry:function(a){0<=qq.indexOf(this._queue,a)?this._upload(a,this._params[a]):this.upload(a,this._params[a])},cancel:function(a){this.log("Cancelling "+a);this._cancel(a);this._dequeue(a)},cancelAll:function(){for(var a=0;a<this._queue.length;a++)this._cancel(this._queue[a]);this._queue=[]},getName:function(a){},
getSize:function(a){},getQueue:function(){return this._queue},reset:function(){this.log("Resetting upload handler");this._queue=[];this._params=[]},_upload:function(a){},_cancel:function(a){},_dequeue:function(a){a=qq.indexOf(this._queue,a);this._queue.splice(a,1);var b=this._options.maxConnections;this._queue.length>=b&&a<b&&(a=this._queue[b-1],this._upload(a,this._params[a]))},isValid:function(a){}};
qq.UploadHandlerForm=function(a){qq.UploadHandlerAbstract.apply(this,arguments);this._inputs={};this._detach_load_events={}};qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype);
qq.extend(qq.UploadHandlerForm.prototype,{add:function(a){a.setAttribute("name",this._options.inputName);var b="qq-upload-handler-iframe"+qq.getUniqueId();this._inputs[b]=a;a.parentNode&&qq(a).remove();return b},getName:function(a){return this._inputs[a].value.replace(/.*(\/|\\)/,"")},isValid:function(a){return void 0!==this._inputs[a]},reset:function(){qq.UploadHandlerAbstract.prototype.reset.apply(this,arguments);this._inputs={};this._detach_load_events={}},_cancel:function(a){this._options.onCancel(a,
this.getName(a));delete this._inputs[a];delete this._detach_load_events[a];if(a=document.getElementById(a))a.setAttribute("src","javascript:false;"),qq(a).remove()},_upload:function(a,b){this._options.onUpload(a,this.getName(a),!1);var d=this._inputs[a];if(!d)throw Error("file with passed id was not added, or already uploaded or cancelled");var f=this.getName(a),h=this._createIframe(a);b=this._createForm(h,b);b.appendChild(d);var c=this;this._attachLoadEvent(h,function(){c.log("iframe loaded");var b=
c._getIframeContentJSON(h);setTimeout(function(){c._detach_load_events[a]();delete c._detach_load_events[a];qq(h).remove()},1);if(b.success||!c._options.onAutoRetry(a,f,b))c._options.onComplete(a,f,b),c._dequeue(a)});this.log("Sending upload request for "+a);b.submit();qq(b).remove();return a},_attachLoadEvent:function(a,b){var d=this;this._detach_load_events[a.id]=qq(a).attach("load",function(){d.log("Received response for "+a.id);if(a.parentNode){try{if(a.contentDocument&&a.contentDocument.body&&
"false"==a.contentDocument.body.innerHTML)return}catch(f){d.log("Error when attempting to access iframe during handling of upload response ("+f+")","error")}b()}})},_getIframeContentJSON:function(a){try{var b=a.contentDocument?a.contentDocument:a.contentWindow.document,d=b.body.innerHTML;this.log("converting iframe's innerHTML to JSON");this.log("innerHTML = "+d);d&&d.match(/^<pre/i)&&(d=b.body.firstChild.firstChild.nodeValue);var f=eval("("+d+")")}catch(h){this.log("Error when attempting to parse form upload response ("+
h+")","error"),f={success:!1}}return f},_createIframe:function(a){var b=qq.toElement('<iframe src="javascript:false;" name="'+a+'" />');b.setAttribute("id",a);b.style.display="none";document.body.appendChild(b);return b},_createForm:function(a,b){var d=qq.toElement('<form method="'+(this._options.demoMode?"GET":"POST")+'" enctype="multipart/form-data"></form>');b=qq.obj2url(b,this._options.endpoint);d.setAttribute("action",b);d.setAttribute("target",a.name);d.style.display="none";document.body.appendChild(d);
return d}});qq.UploadHandlerXhr=function(a){qq.UploadHandlerAbstract.apply(this,arguments);this._files=[];this._xhrs=[];this._loaded=[]};qq.UploadHandlerXhr.isSupported=function(){var a=document.createElement("input");a.type="file";return"multiple"in a&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&"undefined"!=typeof(new XMLHttpRequest).upload};qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype);
qq.extend(qq.UploadHandlerXhr.prototype,{add:function(a){if(!(a instanceof File))throw Error("Passed obj in not a File (in qq.UploadHandlerXhr)");return this._files.push(a)-1},getName:function(a){a=this._files[a];return null!==a.fileName&&void 0!==a.fileName?a.fileName:a.name},getSize:function(a){a=this._files[a];return null!=a.fileSize?a.fileSize:a.size},getLoaded:function(a){return this._loaded[a]||0},isValid:function(a){return void 0!==this._files[a]},reset:function(){qq.UploadHandlerAbstract.prototype.reset.apply(this,
arguments);this._files=[];this._xhrs=[];this._loaded=[]},_upload:function(a,b){this._options.onUpload(a,this.getName(a),!0);var d=this._files[a],f=this.getName(a);this.getSize(a);this._loaded[a]=0;var h=this._xhrs[a]=new XMLHttpRequest,c=this;h.upload.onprogress=function(b){b.lengthComputable&&(c._loaded[a]=b.loaded,c._options.onProgress(a,f,b.loaded,b.total))};h.onreadystatechange=function(){4==h.readyState&&c._onComplete(a,h)};b=b||{};b=qq.obj2url(b,this._options.endpoint);h.open(this._options.demoMode?
"GET":"POST",b,!0);h.setRequestHeader("X-Requested-With","XMLHttpRequest");h.setRequestHeader("X-File-Name",encodeURIComponent(f));h.setRequestHeader("Cache-Control","no-cache");this._options.forceMultipart?(b=new FormData,b.append(this._options.inputName,d),d=b):(h.setRequestHeader("Content-Type","application/octet-stream"),h.setRequestHeader("X-Mime-Type",d.type));for(key in this._options.customHeaders)h.setRequestHeader(key,this._options.customHeaders[key]);this.log("Sending upload request for "+
a);h.send(d)},_onComplete:function(a,b){if(this._files[a]){var d=this.getName(a),f=this.getSize(a);this._options.onProgress(a,d,f,f);this.log("xhr - server response received for "+a);this.log("responseText = "+b.responseText);try{var h="function"===typeof JSON.parse?JSON.parse(b.responseText):eval("("+b.responseText+")")}catch(c){this.log("Error when attempting to parse xhr response text ("+c+")","error"),h={}}if(200===b.status&&h.success||!this._options.onAutoRetry(a,d,h,b))this._options.onComplete(a,
d,h,b),this._xhrs[a]=null,this._dequeue(a)}},_cancel:function(a){this._options.onCancel(a,this.getName(a));this._files[a]=null;this._xhrs[a]&&(this._xhrs[a].abort(),this._xhrs[a]=null)}});
var FacebookApiLoader=function(){function a(a){if("connected"===a.status&&a.authResponse.userID==active_user.facebook_uid()){a=a.authResponse;var b=(new Element("form",{action:"https://"+location.hostname+"/facebook_connection/update_auth_token",method:"post"})).setStyle({display:"none"});$(document.body).insert(b);b.insert(new Element("input",{type:"hidden",name:"access_token",value:a.accessToken}));b.insert(new Element("input",{type:"hidden",name:"expires",value:a.expiresIn}));new DynamicFrameTarget({form:b});
b.submit()}}function b(){FB.getLoginStatus(a)}var d=[],f=!1,h;(function(){$j.each(document.cookie.split(";"),function(a,b){a=$j.trim(b.split("=")[0]);0===a.indexOf("fblo_")&&Cookie.erase(a,"/; domain="+document.location.hostname.replace(/^www/,""))})})();return h={populate:function(a,g){var c=new Element("div",{id:"fb-root"}),l=new Element("script",{async:!0,src:"https://connect.facebook.net/en_US/sdk.js?version=v2.2"});h.app_id=a;$$(".js_facebook_like_button").each(function(a){var b=active_user.valueOfSearchParameter,
d=(Math.floor(b("km_generation"))||-1)+1,c=new Template(a.innerHTML),f=active_user.siteVisitorUID();a.replace(c.evaluate({url:Object.toQueryString({kme:"Followed fb_like",source:"fb_like",km_orig_source:b("km_orig_source")||"fb_like",km_prev_source:b("km_source")||b("source"),km_orig_person:b("km_orig_person")||f,km_prev_person:f,km_generation:d})}))});window.fbAsyncInit=function(){FB.init({appId:a,version:"v2.6",status:!0,cookie:!0,xfbml:!0,channelUrl:g,oauth:!0});f=!0;d.each(function(a){a()});active_user.facebookAccessTokenNeedsUpdate()&&
b()};$$("head")[0].insert(c);c.insert(l)},addApiLoadedCallback:function(a){f?a():d.push(a)},updateLoginStatus:b}}(),Handlebars=function(){var a=function(){function a(a){this.string=a}a.prototype.toString=function(){return""+this.string};return a}(),b=function(a){function b(a){return c[a]||"&amp;"}var d={},c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},f=/[&<>"'`]/g,h=/[&<>"'`]/;d.extend=function(a,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])};
var q=Object.prototype.toString;d.toString=q;var r=function(a){return"function"===typeof a};r(/x/)&&(r=function(a){return"function"===typeof a&&"[object Function]"===q.call(a)});d.isFunction=r;var x=Array.isArray||function(a){return a&&"object"===typeof a?"[object Array]"===q.call(a):!1};d.isArray=x;d.escapeExpression=function(d){if(d instanceof a)return d.toString();if(!d&&0!==d)return"";d=""+d;return h.test(d)?d.replace(f,b):d};d.isEmpty=function(a){return a||0===a?x(a)&&0===a.length?!0:!1:!0};
return d}(a),d=function(){function a(a,d){if(d&&d.firstLine){var c=d.firstLine;a+=" - "+c+":"+d.firstColumn}a=Error.prototype.constructor.call(this,a);for(var f=0;f<b.length;f++)this[b[f]]=a[b[f]];c&&(this.lineNumber=c,this.column=d.firstColumn)}var b="description fileName lineNumber message name number stack".split(" ");a.prototype=Error();return a}(),f=function(a,b){function d(a,b){this.helpers=a||{};this.partials=b||{};c(this)}function c(a){a.registerHelper("helperMissing",function(a){if(2!==arguments.length)throw new r("Missing helper: '"+
a+"'");});a.registerHelper("blockHelperMissing",function(b,d){var c=d.inverse||function(){},f=d.fn;u(b)&&(b=b.call(this));return!0===b?f(this):!1===b||null==b?c(this):x(b)?0<b.length?a.helpers.each(b,d):c(this):f(b)});a.registerHelper("each",function(a,b){var d=b.fn,c=b.inverse,f=0,g="",h;u(a)&&(a=a.call(this));b.data&&(h=z(b.data));if(a&&"object"===typeof a)if(x(a))for(b=a.length;f<b;f++)h&&(h.index=f,h.first=0===f,h.last=f===a.length-1),g+=d(a[f],{data:h});else for(var l in a)a.hasOwnProperty(l)&&
(h&&(h.key=l,h.index=f,h.first=0===f),g+=d(a[l],{data:h}),f++);0===f&&(g=c(this));return g});a.registerHelper("if",function(a,b){u(a)&&(a=a.call(this));return!b.hash.includeZero&&!a||h.isEmpty(a)?b.inverse(this):b.fn(this)});a.registerHelper("unless",function(b,d){return a.helpers["if"].call(this,b,{fn:d.inverse,inverse:d.fn,hash:d.hash})});a.registerHelper("with",function(a,b){u(a)&&(a=a.call(this));if(!h.isEmpty(a))return b.fn(a)});a.registerHelper("log",function(b,d){d=d.data&&null!=d.data.level?
parseInt(d.data.level,10):1;a.log(d,b)})}function f(a,b){w.log(a,b)}var g={},h=a,r=b;g.VERSION="1.3.0";g.COMPILER_REVISION=4;g.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};var x=h.isArray,u=h.isFunction,B=h.toString;g.HandlebarsEnvironment=d;d.prototype={constructor:d,logger:w,log:f,registerHelper:function(a,b,d){if("[object Object]"===B.call(a)){if(d||b)throw new r("Arg not supported with multiple helpers");h.extend(this.helpers,a)}else d&&(b.not=d),this.helpers[a]=
b},registerPartial:function(a,b){"[object Object]"===B.call(a)?h.extend(this.partials,a):this.partials[a]=b}};var w={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){w.level<=a&&(a=w.methodMap[a],"undefined"!==typeof console&&console[a]&&console[a].call(console,b))}};g.logger=w;g.log=f;var z=function(a){var b={};h.extend(b,a);return b};g.createFrame=z;return g}(b,d),h=function(a,b,d){function c(a,b,d){var c=function(a,c){c=c||{};return b(a,
c.data||d)};c.program=a;c.depth=0;return c}var f={},g=d.COMPILER_REVISION,h=d.REVISION_CHANGES;f.checkRevision=function(a){var d=a&&a[0]||1;if(d!==g){if(d<g)throw new b("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+h[g]+") or downgrade your runtime to an older version ("+h[d]+").");throw new b("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+
a[1]+").");}};f.template=function(d,f){if(!f)throw new b("No environment passed to template");var g={escapeExpression:a.escapeExpression,invokePartial:function(a,d,c,g,h,u){var l=f.VM.invokePartial.apply(this,arguments);if(null!=l)return l;if(f.compile)return l={helpers:g,partials:h,data:u},h[d]=f.compile(a,{data:void 0!==u},f),h[d](c,l);throw new b("The partial "+d+" could not be compiled when running in runtime-only mode");},programs:[],program:function(a,b,d){var f=this.programs[a];d?f=c(a,b,d):
f||(f=this.programs[a]=c(a,b));return f},merge:function(b,d){var c=b||d;b&&d&&b!==d&&(c={},a.extend(c,d),a.extend(c,b));return c},programWithDepth:f.VM.programWithDepth,noop:f.VM.noop,compilerInfo:null};return function(a,b){b=b||{};var c=b.partial?b:f;if(!b.partial){var h=b.helpers;var u=b.partials}a=d.call(g,c,a,h,u,b.data);b.partial||f.VM.checkRevision(g.compilerInfo);return a}};f.programWithDepth=function(a,b,d){var c=Array.prototype.slice.call(arguments,3),f=function(a,f){f=f||{};return b.apply(this,
[a,f.data||d].concat(c))};f.program=a;f.depth=c.length;return f};f.program=c;f.invokePartial=function(a,d,c,f,g,h){f={partial:!0,helpers:f,partials:g,data:h};if(void 0===a)throw new b("The partial "+d+" could not be found");if(a instanceof Function)return a(c,f)};f.noop=function(){return""};return f}(b,d,f);return function(a,b,d,f,h){var c=function(){var c=new a.HandlebarsEnvironment;f.extend(c,a);c.SafeString=b;c.Exception=d;c.Utils=f;c.VM=h;c.template=function(a){return h.template(a,c)};return c},
g=c();g.create=c;return g}(f,a,d,b,h)}();Handlebars.registerHelper("tr",function(a,b){var d=b.hash.description;delete b.hash.description;return tr8nProxy.tr(a,d,b.hash)});
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["native_build_uploader/info"]=Handlebars.template(function(a,b,d,f,h){function c(a,b){return"\n        <li>"+g("function"===typeof a?a.apply(a):a)+"</li>\n      "}this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);h=h||{};a="";var g=this.escapeExpression,k=this;if((f=d["if"].call(b,b&&b.messages,{hash:{},inverse:k.noop,fn:k.program(1,function(a,b){var f='\n  <div id="message" class="message mbm">\n    <ul>\n      ';
if((a=d.each.call(a,a&&a.messages,{hash:{},inverse:k.noop,fn:k.program(2,c,b),data:b}))||0===a)f+=a;return f+"\n    </ul>\n  </div>\n"},h),data:h}))||0===f)a+=f;a+="\n";if((f=d["if"].call(b,b&&b.errors,{hash:{},inverse:k.noop,fn:k.program(4,function(a,b){var f='\n  <div id="error" class="error mbm">\n    <ul>\n      ';if((a=d.each.call(a,a&&a.errors,{hash:{},inverse:k.noop,fn:k.program(2,c,b),data:b}))||0===a)f+=a;return f+"\n    </ul>\n  </div>\n"},h),data:h}))||0===f)a+=f;return a});return this.HandlebarsTemplates["native_build_uploader/info"]}).call(this);
(function(){Handlebars.registerPartial("navigation/achievements/_badge_of_the_day",Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);h=h||{};var c,g,k=d.helperMissing,l=this.escapeExpression;a='<dl id="main_nav_achievements_botd" class="main_nav_category mrl">\n  <dt class="main_nav_category_title pbs"><a href=\'/badges\' data-metric-tracker="js-wa-tc-Navigation-Badge_of_the_Day">';if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"Badge of the Day &raquo;",
g):k.call(b,"tr","Badge of the Day &raquo;",g)))||0===f)a+=f;a+='</a></dt>\n  <dd class="mtm">\n    <p class="h6 intro mbs"><em>';if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"Score 2x points",g):k.call(b,"tr","Score 2x points",g)))||0===f)a+=f;a+='!</em></p>\n    <div class="botd_outer media click_box regtextSml">\n      <div class="badge img mlm">\n        <div class="badge_image">\n          <a href="';(c=d.game_path)?f=c.call(b,{hash:{},data:h}):(c=b&&b.game_path,f="function"===typeof c?
c.call(b,{hash:{},data:h}):c);a+=l(f)+'" class="badge_link" data-metric-tracker="js-wa-tc-Navigation-Badge_of_the_Day">\n            <img alt="';(c=d.title)?f=c.call(b,{hash:{},data:h}):(c=b&&b.title,f="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=l(f)+'" src="';(c=d.icon_path)?f=c.call(b,{hash:{},data:h}):(c=b&&b.icon_path,f="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=l(f)+'" class="img" />\n          </a>\n        </div>\n        <div class="badge_border">\n          <a href="';
(c=d.game_path)?f=c.call(b,{hash:{},data:h}):(c=b&&b.game_path,f="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=l(f)+'" class="badge_link" data-metric-tracker="js-wa-tc-Navigation-Badge_of_the_Day">\n            <span class="';(c=d.earned_class)?f=c.call(b,{hash:{},data:h}):(c=b&&b.earned_class,f="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=l(f)+' spritegame spriteall">Badge of the Day</span>\n          </a>\n        </div>\n        <div class="badge_of_the_day_overlay">\n          <a href="';
(c=d.game_path)?f=c.call(b,{hash:{},data:h}):(c=b&&b.game_path,f="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=l(f)+'" class="badge_link" data-metric-tracker="js-wa-tc-Navigation-Badge_of_the_Day">\n            <span class="spriteall botd_badge_id_';(c=d.badge_id)?f=c.call(b,{hash:{},data:h}):(c=b&&b.badge_id,f="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=l(f)+'">Badge of the Day</span>\n          </a>\n        </div>\n        <svg class="block-ico block-ico--simple badge_blocks force" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 110 110">\n          <path fill="#2996CC" d="M99.3.2H33.5c-2.4 0-4.7.9-6.5 2.5l-.2.2-.4.4L3.2 26.5l-.4.4C1.1 28.7.1 31.1.1 33.6v65.8c0 5.4 4.4 9.8 9.8 9.8h65.8c2.8 0 5.5-1.2 7.4-3.4l22.5-22.5c2.2-1.9 3.4-4.6 3.4-7.4V10c.1-5.3-4.2-9.7-9.5-9.8h-.2z"/>\n          <path d="M99.2 68.6H33.5c-2.9 0-5.6 1.3-7.5 3.4L3.5 94.6C1.6 96.2.4 98.4.1 100.9c.6 4.9 4.7 8.6 9.7 8.7h65.8c2.8 0 5.5-1.2 7.4-3.4l22.5-22.5c1.9-1.6 3.1-3.8 3.4-6.3-.5-5-4.7-8.8-9.7-8.8z" opacity=".2"/>\n          <path class="block-ico__optional" d="M30.7 23.4v-6.9c0-.6.4-1 1-1s1 .4 1 1v6.9c0 .6-.4 1-1 1-.5 0-1-.4-1-.9v-.1zm-11.1 69c.2-.2 8.6-8.6 8.8-8.9 2.9-3 4.3-3.7 9.2-3.7h10.1c1.3 0 2-2 0-2h-5.2c-8.5 0-9.8-2.9-9.8-9.8V52.5c0-.6-.4-1-1-1s-1 .4-1 1v21.2c.1 2.5-.7 5-2.3 6.9v.1c-.5.6-1 1.1-1.5 1.6l-8.9 9c-.7.9.5 2.3 1.6 1.1zm-5.9 6c.7-.8.7-.8 1.9-2.2.8-.9-.4-2.5-1.4-1.2-1.4 1.7-1.1 1.3-1.7 2-1.1 1.3.3 2.5 1.2 1.4z" opacity=".3"/>\n          <path fill="#A54942" d="M99.2 19H33.5c-2.9 0-5.6 1.2-7.5 3.4L3.5 44.9C1.6 46.5.4 48.7.1 51.2c.6 4.9 4.7 8.6 9.7 8.7h65.8c2.8 0 5.5-1.2 7.4-3.4L105.5 34c1.9-1.6 3.1-3.8 3.4-6.3-.5-5-4.7-8.7-9.7-8.7z"/>\n          <path fill="#FFB4A3" d="M105.7 33.9L83.2 56.4c-1.9 2.2-4.6 3.4-7.4 3.4H10C4.6 59.8.2 55.4.2 50v21.3c0 5.4 4.4 9.8 9.8 9.8h65.8c2.8 0 5.5-1.2 7.4-3.4l22.5-22.5c2.2-1.9 3.4-4.6 3.4-7.4V26.5c0 2.8-1.2 5.6-3.4 7.4z"/>\n          <path fill="#FFF" d="M69.6 59.8h5.2V81h-5.2V59.8z"/>\n          <path class="block-ico__optional" fill="#FFDDD7" d="M64.7 59.7h2.9v21.2h-2.9V59.7zm-50.7 0h17.6v21.2H14V59.7z"/>\n          <path fill="#FFF" d="M26.7 59.7h2.9v21.2h-2.9z"/>\n          <path fill="#EA8A7A" d="M105.7 33.9L91.5 48.1v21.3l14.2-14.2c2.2-1.9 3.4-4.6 3.4-7.4V26.5c0 2.8-1.2 5.5-3.4 7.4zM86.9 52.7l-3.7 3.7c-.7.8-1.6 1.5-2.5 2.1v21.3c1-.5 1.8-1.2 2.5-2.1l3.7-3.7V52.7z"/>\n          <path fill="#C16863" d="M105.7 33.9l-3.8 3.8v21.2l3.8-3.8c2.2-1.9 3.4-4.6 3.4-7.4V26.5c0 2.8-1.2 5.5-3.4 7.4z"/>\n          <path fill="#2996CC" d="M109.1 10c0-5.4-4.4-9.8-9.8-9.8H33.5c-2.4 0-4.7.9-6.5 2.5l-.2.2-.4.4L3.2 26.5l-.4.4C1.1 28.7.1 31.1.1 33.6V50c0 5.4 4.4 9.8 9.8 9.8h65.8c2.8 0 5.5-1.2 7.4-3.4l22.4-22.5c2.2-1.9 3.4-4.6 3.4-7.4l.2-16.5z" opacity=".8"/>\n          <path fill="#FFF" d="M23.6 102.4c3-.2 4.6-6.1-.8-6.1-3.6 0-8.6-1.7-8.8-4.8-.4-5.9-7-6.5-7 .6.1 12.2 9.1 10.7 16.6 10.3z" opacity=".2"/>\n          <path fill="#FFF" d="M33.2.2c-2.4 0-4.7.9-6.5 2.5l-.2.2-.4.4-13.7 13.6c-7 6.9 20.9 6.8 32.3 3.5 21.3-6 48.7-.3 51.4-20.2H33.2z" opacity=".27"/>\n          <path fill="#FFF" d="M81.7 86.8c.6 0 1 .4 1 1V92c0 .6-.4 1-1 1s-1-.4-1-1v-4.2c0-.6.4-1 1-1zm-1 9.8V96c0-.6.4-1 1-1s1 .4 1 1v.7c0 .6-.4 1-1 1s-1-.5-1-1.1zm12.2-77.8c2.3-2.2 4.4-4.6 6.4-7.1.7-.9-.3-2.5-1.4-1.2-2.2 2.6-5.3 5.4-6.2 7s.2 2.2 1.2 1.3zM26.1 27h12.8c.6 0 1 .4 1 1s-.4 1-1 1H26.1c-.6 0-1-.4-1-1 0-.5.4-1 .9-1h.1zm-5.2 0h1.3c.6 0 1 .4 1 1s-.4 1-1 1h-1.3c-.6 0-1-.4-1-1 0-.5.4-1 .9-1h.1z" opacity=".55"/>\n          <path fill="#FFF" d="M85.6 22.7C82.2 26.2 81 27 75.8 27H45c-1.3 0-2 2 0 2h25.8c8.5 0 9.8 2.9 9.8 9.8v13.7c0 .6.4 1 1 1s1-.4 1-1V33.2c-.1-2.5.7-5 2.3-6.9v-.1c.5-.5 1.6-1.8 2.2-2.5.8-.8-.4-2.2-1.5-1z" opacity=".61"/>\n          <g class="block-ico__optional">\n            <path d="M55.5 100.9c14.7 1.9 34.3-24.6-3.9-17.1-11 2.2-22.8 13.7 3.9 17.1z" opacity=".14"/>\n            <circle cx="100" cy="73" r="1.6" fill="#FFF" opacity=".35"/>\n            <path fill="#FFF" d="M9.4 59.7h2v21.2h-2z"/>\n            <path fill="#FFF" d="M105.7 33.9L83.2 56.4c-1.9 2.2-4.6 3.4-7.4 3.4H10C4.6 59.8.2 55.4.2 50v2c0 5.4 4.4 9.8 9.8 9.8h65.8c2.8 0 5.5-1.2 7.4-3.4l22.5-22.5c2.2-1.9 3.4-4.6 3.4-7.4v-2c0 2.9-1.2 5.6-3.4 7.4z"/>\n            <path fill="#A54942" d="M105.7 53.5L83.2 76c-1.9 2.2-4.6 3.4-7.4 3.4H10C4.6 79.4.2 75 .2 69.6v2c0 5.4 4.4 9.8 9.8 9.8h65.8c2.8 0 5.5-1.2 7.4-3.4l22.5-22.5c2.2-1.9 3.5-4.6 3.4-7.5v-2c.1 2.9-1.2 5.6-3.4 7.5z"/>\n            <path fill="#FFF" d="M33.7 85.7l.8 1.5 1.4.8-1.4.8-.8 1.4-.8-1.4-1.4-.8 1.4-.8.8-1.5zm32.4 3.4l.9 1.8 1.8 1-1.8.9-.9 1.9-1-1.9-1.8-.9 1.8-1 1-1.8zm25.5-14.2l.7 1.5 1.5.8-1.5.8-.7 1.4-.8-1.4-1.5-.8 1.5-.8.8-1.5zM32 35.2l2 3.7 3.7 2.2-3.7 2-2 3.9-2.2-3.9-3.7-2 3.7-2.2 2.2-3.7z"/>\n            <circle cx="52.3" cy="6.6" r="1.2" fill="#FFF" opacity=".37"/>\n            <circle cx="66" cy="47.8" r="3.1" fill="#FFF" opacity=".35"/>\n            <circle cx="48.5" cy="39.8" r="2.1" fill="#FFF" opacity=".35"/>\n            <path fill="#FFF" d="M36.2 6c-5.3.7-11.4 4.6-8.6 9.1s9.7-.5 14-3.4S55.2 3.5 36.2 6z" opacity=".37"/>\n            <path fill="#FFF" d="M84.5 12.5c-18.1-.2-9.1 4.5-5.2 4.5 5.5-.1 11.5.7 11.2 6.3-.6 8.8 8.7 11.5 9.4.9.6-8-4.1-11.6-15.4-11.7z" opacity=".14"/>\n            <path fill="#FFF" d="M88.6 5.3l.8 1.4 1.4.9-1.4.7-.8 1.5-.8-1.5-1.4-.7 1.4-.9.8-1.4z"/>\n            <path fill="#FFF" d="M7.4 38.1c.6 0 1 .4 1 1v8.8c0 .6-.4 1-1 1s-1-.4-1-1v-8.8c.1-.5.5-.9 1-1z" opacity=".7"/>\n            <path fill="#FFF" d="M65 15.5l.9 1.5 1.6 1-1.6.8-.9 1.7-.9-1.7-1.6-.8 1.6-1 .9-1.5z"/>\n            <path fill="#FFF" d="M1.1 47.3c-.4 0-.8-.4-.8-.8v-5.2c-.1-.4.3-.8.7-.9.4 0 .9.3.9.7v5.4c.1.4-.3.8-.8.8zm0-9.7c-.4 0-.8-.4-.8-.8v-3.5c0-2.6 1-5.1 2.7-7l.1-.1.4-.4L26.2 3.2l.4-.4.1-.1.1-.1C28.7.9 31.2 0 33.7 0h9.8c.4 0 .8.3.8.8 0 .4-.4.8-.8.8h-9.8c-2.1 0-4.2.8-5.8 2.2l-.1.1-.1.1-.4.4L4.7 27c-.1.1-.3.2-.4.4C2.8 29 2 31.2 2 33.4v3.5c-.1.4-.5.8-.9.7zm53.5-36h-6.1c-.4 0-.8-.4-.8-.8s.3-.8.8-.8h6.1c.4 0 .8.3.8.8.1.5-.3.8-.8.8zm53.9 9.6c-.4 0-.8-.3-.8-.8 0-4.9-3.9-8.8-8.8-8.8H60.7c-.4 0-.8-.4-.8-.8s.4-.8.8-.8h38.2c5.7 0 10.4 4.7 10.4 10.4 0 .4-.4.8-.8.8zm0 10.5c-.4 0-.8-.4-.8-.8v-6c0-.4.4-.8.8-.8s.8.4.8.8v6c0 .4-.4.8-.8.8z" opacity=".6"/>\n            <circle cx="46.8" cy="86.7" r="1.6" fill="#FFF" opacity=".35"/>\n            <path fill="#FFF" d="M7.4 84.6c.6 0 1 .4 1 1v12.7c0 .6-.4 1-1 1s-1-.4-1-1V85.5c.1-.5.5-.9 1-.9z" opacity=".7"/>\n            <path fill="#FFF" d="M54.2 103.8c0 .6-.4 1-1 1H40.5c-.6 0-1-.4-1-1s.4-1 1-1h12.7c.5 0 1 .5 1 1zm7.8 0c0 .6-.4 1-1 1h-2.9c-.6 0-1-.4-1-1s.4-1 1-1H61c.5 0 1 .5 1 1z" opacity=".76"/>\n            <path d="M108.5 68.8c-.4 0-.8-.3-.8-.8V57.5c0-.4.4-.8.8-.8s.8.4.8.8V68c0 .4-.3.8-.8.8zm-24.4 36.3c-.2 0-.4-.1-.6-.2-.3-.3-.3-.8 0-1.1l21-21c2-1.7 3.1-4.2 3.2-6.8v-1.6c0-.4.4-.8.8-.8s.8.4.8.8V76c0 3.1-1.4 6-3.7 8l-21 21c-.2 0-.3.1-.5.1zm-9 4.9h-9c-.4 0-.8-.3-.8-.8 0-.4.4-.8.8-.8h9c1.7 0 3.3-.5 4.7-1.4.4-.2.9-.2 1.1.2.2.4.2.9-.2 1.1l-.1.1c-1.6 1-3.6 1.6-5.5 1.6zm-13.7 0H10.6C4.8 110 0 105.2 0 99.4v-6.2c0-.4.4-.8.8-.8s.8.4.8.8v6.2c0 5 4 9 9 9h50.8c.4 0 .8.4.8.8s-.4.8-.8.8z" opacity=".4"/>\n            <path fill="#FFF" d="M1.1 68.8c-.4 0-.8-.3-.8-.8v-6.1c-.1-.4.3-.8.7-.9.4 0 .9.3.9.7V68c.1.5-.3.8-.8.8.1 0 .1.1 0 0z"/>\n            <path fill="#A54942" d="M108.4 46c-.4 0-.8-.4-.8-.8v-8.8c0-.4.4-.8.8-.8s.8.3.8.8v8.8c0 .4-.3.8-.8.8z"/>\n          </g>\n        </svg>\n      </div>\n      <p class="bd">\n        <strong><a href="';
(c=d.game_path)?f=c.call(b,{hash:{},data:h}):(c=b&&b.game_path,f="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=l(f)+'" class="game_link click_link" data-metric-tracker="js-wa-tc-Navigation-Badge_of_the_Day">';(c=d.title)?f=c.call(b,{hash:{},data:h}):(c=b&&b.title,f="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=l(f)+"</a></strong>\n        ";(c=d.description)?f=c.call(b,{hash:{},data:h}):(c=b&&b.description,f="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=l(f)+' in <a href="';
(c=d.game_path)?f=c.call(b,{hash:{},data:h}):(c=b&&b.game_path,f="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=l(f)+'" data-metric-tracker="js-wa-tc-Navigation-Badge_of_the_Day">';(c=d.game_title)?f=c.call(b,{hash:{},data:h}):(c=b&&b.game_title,f="function"===typeof c?c.call(b,{hash:{},data:h}):c);return a+=l(f)+"</a>\n      </p>\n    </div>\n  </dd>\n</dl>"}))}).call(this);
(function(){Handlebars.registerPartial("navigation/achievements/_current_challenge",Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);h=h||{};var c,g;var k=d.helperMissing;f=this.escapeExpression;a='<dl id="main_nav_achievements_challenge" class="main_nav_category mrl">\n  <dt class="main_nav_category_title pbs"><a href=\'/current_challenges\'>';if((k=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"Current Challenge",g):k.call(b,"tr","Current Challenge",
g)))||0===k)a+=k;a+=' &raquo;</a></dt>\n  <dd class="mtm">\n    <div class="media click_block">\n      <a href="';(c=d.game_path)?k=c.call(b,{hash:{},data:h}):(c=b&&b.game_path,k="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(k)+'">\n        <img alt="';(c=d.title)?k=c.call(b,{hash:{},data:h}):(c=b&&b.title,k="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(k)+'" src="';(c=d.icon_path)?k=c.call(b,{hash:{},data:h}):(c=b&&b.icon_path,k="function"===typeof c?c.call(b,{hash:{},data:h}):
c);a+=f(k)+'" class="img" />\n      </a>\n      <p class="bd">\n        <strong><a href="';(c=d.game_path)?k=c.call(b,{hash:{},data:h}):(c=b&&b.game_path,k="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(k)+'" class="game_link click_link">';(c=d.title)?k=c.call(b,{hash:{},data:h}):(c=b&&b.title,k="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(k)+"</a></strong>\n        ";(c=d.description)?k=c.call(b,{hash:{},data:h}):(c=b&&b.description,k="function"===typeof c?c.call(b,{hash:{},
data:h}):c);return a+=f(k)+"\n      </p>\n    </div>\n  </dd>\n</dl>"}))}).call(this);
(function(){Handlebars.registerPartial("navigation/achievements/_kongpanion",Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);h=h||{};var c,g,k=d.helperMissing,l=this.escapeExpression;a='<dl id="main_nav_achievements_kongpanion" class="main_nav_category mrl">\n  <dt class="main_nav_category_title pbs"><a href=\'/kongpanions\'>';if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"This Week's Kongpanion",g):k.call(b,"tr","This Week's Kongpanion",g)))||
0===f)a+=f;a+=' &raquo;</a></dt>\n  <dd class="mtm">\n    <div class="media click_block">\n      <img src="';(c=d.icon_path)?f=c.call(b,{hash:{},data:h}):(c=b&&b.icon_path,f="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=l(f)+'" class="img" />\n      <p class="bd">\n        <strong><a href=\'/kongpanions\' class="game_link click_link">';(c=d.name)?f=c.call(b,{hash:{},data:h}):(c=b&&b.name,f="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=l(f)+"</a></strong>\n        ";if((f=(c=d.tr||
b&&b.tr,g={hash:{},data:h},c?c.call(b,"Complete the Badge of the Day to unlock the Kongpanion!",g):k.call(b,"tr","Complete the Badge of the Day to unlock the Kongpanion!",g)))||0===f)a+=f;return a+"\n      </p>\n    </div>\n  </dd>\n</dl>"}))}).call(this);
(function(){Handlebars.registerPartial("navigation/achievements/_recently_badged_game",Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);h=h||{};var c=this.escapeExpression;a='<li class="game">\n  <a href="';(f=d.game_path)?f=f.call(b,{hash:{},data:h}):(f=b&&b.game_path,f="function"===typeof f?f.call(b,{hash:{},data:h}):f);a+=c(f)+'" class="media" data-metric-tracker="js-wa-tc-Navigation-Recently_Badged">\n    <img alt="Play ';(f=d.title)?f=f.call(b,
{hash:{},data:h}):(f=b&&b.title,f="function"===typeof f?f.call(b,{hash:{},data:h}):f);a+=c(f)+'" src="';(f=d.icon_path)?f=f.call(b,{hash:{},data:h}):(f=b&&b.icon_path,f="function"===typeof f?f.call(b,{hash:{},data:h}):f);a+=c(f)+'" class="img" />\n    <span class="bd">\n      <strong class="game_link">';(f=d.title)?f=f.call(b,{hash:{},data:h}):(f=b&&b.title,f="function"===typeof f?f.call(b,{hash:{},data:h}):f);a+=c(f)+'</strong>\n      <span class="badge_count"><span class="badge_icon spritesite mrs"></span>';
(f=d.badge_count)?f=f.call(b,{hash:{},data:h}):(f=b&&b.badge_count,f="function"===typeof f?f.call(b,{hash:{},data:h}):f);a+=c(f)+"</span>\n      ";if((f=d["if"].call(b,b&&b.blocks_count,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var f;var g='\n        <span class="bounty_value mlm">\n          <svg class="block-ico" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 110 110">\n            <path fill="#2996CC" d="M99.3.2H33.5c-2.4 0-4.7.9-6.5 2.5l-.2.2-.4.4L3.2 26.5l-.4.4C1.1 28.7.1 31.1.1 33.6v65.8c0 5.4 4.4 9.8 9.8 9.8h65.8c2.8 0 5.5-1.2 7.4-3.4l22.5-22.5c2.2-1.9 3.4-4.6 3.4-7.4V10c.1-5.3-4.2-9.7-9.5-9.8h-.2z"/>\n            <path d="M99.2 68.6H33.5c-2.9 0-5.6 1.3-7.5 3.4L3.5 94.6C1.6 96.2.4 98.4.1 100.9c.6 4.9 4.7 8.6 9.7 8.7h65.8c2.8 0 5.5-1.2 7.4-3.4l22.5-22.5c1.9-1.6 3.1-3.8 3.4-6.3-.5-5-4.7-8.8-9.7-8.8z" opacity=".2"/>\n            <path class="block-ico__optional" d="M30.7 23.4v-6.9c0-.6.4-1 1-1s1 .4 1 1v6.9c0 .6-.4 1-1 1-.5 0-1-.4-1-.9v-.1zm-11.1 69c.2-.2 8.6-8.6 8.8-8.9 2.9-3 4.3-3.7 9.2-3.7h10.1c1.3 0 2-2 0-2h-5.2c-8.5 0-9.8-2.9-9.8-9.8V52.5c0-.6-.4-1-1-1s-1 .4-1 1v21.2c.1 2.5-.7 5-2.3 6.9v.1c-.5.6-1 1.1-1.5 1.6l-8.9 9c-.7.9.5 2.3 1.6 1.1zm-5.9 6c.7-.8.7-.8 1.9-2.2.8-.9-.4-2.5-1.4-1.2-1.4 1.7-1.1 1.3-1.7 2-1.1 1.3.3 2.5 1.2 1.4z" opacity=".3"/>\n            <path fill="#A54942" d="M99.2 19H33.5c-2.9 0-5.6 1.2-7.5 3.4L3.5 44.9C1.6 46.5.4 48.7.1 51.2c.6 4.9 4.7 8.6 9.7 8.7h65.8c2.8 0 5.5-1.2 7.4-3.4L105.5 34c1.9-1.6 3.1-3.8 3.4-6.3-.5-5-4.7-8.7-9.7-8.7z"/>\n            <path fill="#FFB4A3" d="M105.7 33.9L83.2 56.4c-1.9 2.2-4.6 3.4-7.4 3.4H10C4.6 59.8.2 55.4.2 50v21.3c0 5.4 4.4 9.8 9.8 9.8h65.8c2.8 0 5.5-1.2 7.4-3.4l22.5-22.5c2.2-1.9 3.4-4.6 3.4-7.4V26.5c0 2.8-1.2 5.6-3.4 7.4z"/>\n            <path fill="#FFF" d="M69.6 59.8h5.2V81h-5.2V59.8z"/>\n            <path class="block-ico__optional" fill="#FFDDD7" d="M64.7 59.7h2.9v21.2h-2.9V59.7zm-50.7 0h17.6v21.2H14V59.7z"/>\n            <path fill="#FFF" d="M26.7 59.7h2.9v21.2h-2.9z"/>\n            <path fill="#EA8A7A" d="M105.7 33.9L91.5 48.1v21.3l14.2-14.2c2.2-1.9 3.4-4.6 3.4-7.4V26.5c0 2.8-1.2 5.5-3.4 7.4zM86.9 52.7l-3.7 3.7c-.7.8-1.6 1.5-2.5 2.1v21.3c1-.5 1.8-1.2 2.5-2.1l3.7-3.7V52.7z"/>\n            <path fill="#C16863" d="M105.7 33.9l-3.8 3.8v21.2l3.8-3.8c2.2-1.9 3.4-4.6 3.4-7.4V26.5c0 2.8-1.2 5.5-3.4 7.4z"/>\n            <path fill="#2996CC" d="M109.1 10c0-5.4-4.4-9.8-9.8-9.8H33.5c-2.4 0-4.7.9-6.5 2.5l-.2.2-.4.4L3.2 26.5l-.4.4C1.1 28.7.1 31.1.1 33.6V50c0 5.4 4.4 9.8 9.8 9.8h65.8c2.8 0 5.5-1.2 7.4-3.4l22.4-22.5c2.2-1.9 3.4-4.6 3.4-7.4l.2-16.5z" opacity=".8"/>\n            <path fill="#FFF" d="M23.6 102.4c3-.2 4.6-6.1-.8-6.1-3.6 0-8.6-1.7-8.8-4.8-.4-5.9-7-6.5-7 .6.1 12.2 9.1 10.7 16.6 10.3z" opacity=".2"/>\n            <path fill="#FFF" d="M33.2.2c-2.4 0-4.7.9-6.5 2.5l-.2.2-.4.4-13.7 13.6c-7 6.9 20.9 6.8 32.3 3.5 21.3-6 48.7-.3 51.4-20.2H33.2z" opacity=".27"/>\n            <path fill="#FFF" d="M81.7 86.8c.6 0 1 .4 1 1V92c0 .6-.4 1-1 1s-1-.4-1-1v-4.2c0-.6.4-1 1-1zm-1 9.8V96c0-.6.4-1 1-1s1 .4 1 1v.7c0 .6-.4 1-1 1s-1-.5-1-1.1zm12.2-77.8c2.3-2.2 4.4-4.6 6.4-7.1.7-.9-.3-2.5-1.4-1.2-2.2 2.6-5.3 5.4-6.2 7s.2 2.2 1.2 1.3zM26.1 27h12.8c.6 0 1 .4 1 1s-.4 1-1 1H26.1c-.6 0-1-.4-1-1 0-.5.4-1 .9-1h.1zm-5.2 0h1.3c.6 0 1 .4 1 1s-.4 1-1 1h-1.3c-.6 0-1-.4-1-1 0-.5.4-1 .9-1h.1z" opacity=".55"/>\n            <path fill="#FFF" d="M85.6 22.7C82.2 26.2 81 27 75.8 27H45c-1.3 0-2 2 0 2h25.8c8.5 0 9.8 2.9 9.8 9.8v13.7c0 .6.4 1 1 1s1-.4 1-1V33.2c-.1-2.5.7-5 2.3-6.9v-.1c.5-.5 1.6-1.8 2.2-2.5.8-.8-.4-2.2-1.5-1z" opacity=".61"/>\n            <g class="block-ico__optional">\n              <path d="M55.5 100.9c14.7 1.9 34.3-24.6-3.9-17.1-11 2.2-22.8 13.7 3.9 17.1z" opacity=".14"/>\n              <circle cx="100" cy="73" r="1.6" fill="#FFF" opacity=".35"/>\n              <path fill="#FFF" d="M9.4 59.7h2v21.2h-2z"/>\n              <path fill="#FFF" d="M105.7 33.9L83.2 56.4c-1.9 2.2-4.6 3.4-7.4 3.4H10C4.6 59.8.2 55.4.2 50v2c0 5.4 4.4 9.8 9.8 9.8h65.8c2.8 0 5.5-1.2 7.4-3.4l22.5-22.5c2.2-1.9 3.4-4.6 3.4-7.4v-2c0 2.9-1.2 5.6-3.4 7.4z"/>\n              <path fill="#A54942" d="M105.7 53.5L83.2 76c-1.9 2.2-4.6 3.4-7.4 3.4H10C4.6 79.4.2 75 .2 69.6v2c0 5.4 4.4 9.8 9.8 9.8h65.8c2.8 0 5.5-1.2 7.4-3.4l22.5-22.5c2.2-1.9 3.5-4.6 3.4-7.5v-2c.1 2.9-1.2 5.6-3.4 7.5z"/>\n              <path fill="#FFF" d="M33.7 85.7l.8 1.5 1.4.8-1.4.8-.8 1.4-.8-1.4-1.4-.8 1.4-.8.8-1.5zm32.4 3.4l.9 1.8 1.8 1-1.8.9-.9 1.9-1-1.9-1.8-.9 1.8-1 1-1.8zm25.5-14.2l.7 1.5 1.5.8-1.5.8-.7 1.4-.8-1.4-1.5-.8 1.5-.8.8-1.5zM32 35.2l2 3.7 3.7 2.2-3.7 2-2 3.9-2.2-3.9-3.7-2 3.7-2.2 2.2-3.7z"/>\n              <circle cx="52.3" cy="6.6" r="1.2" fill="#FFF" opacity=".37"/>\n              <circle cx="66" cy="47.8" r="3.1" fill="#FFF" opacity=".35"/>\n              <circle cx="48.5" cy="39.8" r="2.1" fill="#FFF" opacity=".35"/>\n              <path fill="#FFF" d="M36.2 6c-5.3.7-11.4 4.6-8.6 9.1s9.7-.5 14-3.4S55.2 3.5 36.2 6z" opacity=".37"/>\n              <path fill="#FFF" d="M84.5 12.5c-18.1-.2-9.1 4.5-5.2 4.5 5.5-.1 11.5.7 11.2 6.3-.6 8.8 8.7 11.5 9.4.9.6-8-4.1-11.6-15.4-11.7z" opacity=".14"/>\n              <path fill="#FFF" d="M88.6 5.3l.8 1.4 1.4.9-1.4.7-.8 1.5-.8-1.5-1.4-.7 1.4-.9.8-1.4z"/>\n              <path fill="#FFF" d="M7.4 38.1c.6 0 1 .4 1 1v8.8c0 .6-.4 1-1 1s-1-.4-1-1v-8.8c.1-.5.5-.9 1-1z" opacity=".7"/>\n              <path fill="#FFF" d="M65 15.5l.9 1.5 1.6 1-1.6.8-.9 1.7-.9-1.7-1.6-.8 1.6-1 .9-1.5z"/>\n              <path fill="#FFF" d="M1.1 47.3c-.4 0-.8-.4-.8-.8v-5.2c-.1-.4.3-.8.7-.9.4 0 .9.3.9.7v5.4c.1.4-.3.8-.8.8zm0-9.7c-.4 0-.8-.4-.8-.8v-3.5c0-2.6 1-5.1 2.7-7l.1-.1.4-.4L26.2 3.2l.4-.4.1-.1.1-.1C28.7.9 31.2 0 33.7 0h9.8c.4 0 .8.3.8.8 0 .4-.4.8-.8.8h-9.8c-2.1 0-4.2.8-5.8 2.2l-.1.1-.1.1-.4.4L4.7 27c-.1.1-.3.2-.4.4C2.8 29 2 31.2 2 33.4v3.5c-.1.4-.5.8-.9.7zm53.5-36h-6.1c-.4 0-.8-.4-.8-.8s.3-.8.8-.8h6.1c.4 0 .8.3.8.8.1.5-.3.8-.8.8zm53.9 9.6c-.4 0-.8-.3-.8-.8 0-4.9-3.9-8.8-8.8-8.8H60.7c-.4 0-.8-.4-.8-.8s.4-.8.8-.8h38.2c5.7 0 10.4 4.7 10.4 10.4 0 .4-.4.8-.8.8zm0 10.5c-.4 0-.8-.4-.8-.8v-6c0-.4.4-.8.8-.8s.8.4.8.8v6c0 .4-.4.8-.8.8z" opacity=".6"/>\n              <circle cx="46.8" cy="86.7" r="1.6" fill="#FFF" opacity=".35"/>\n              <path fill="#FFF" d="M7.4 84.6c.6 0 1 .4 1 1v12.7c0 .6-.4 1-1 1s-1-.4-1-1V85.5c.1-.5.5-.9 1-.9z" opacity=".7"/>\n              <path fill="#FFF" d="M54.2 103.8c0 .6-.4 1-1 1H40.5c-.6 0-1-.4-1-1s.4-1 1-1h12.7c.5 0 1 .5 1 1zm7.8 0c0 .6-.4 1-1 1h-2.9c-.6 0-1-.4-1-1s.4-1 1-1H61c.5 0 1 .5 1 1z" opacity=".76"/>\n              <path d="M108.5 68.8c-.4 0-.8-.3-.8-.8V57.5c0-.4.4-.8.8-.8s.8.4.8.8V68c0 .4-.3.8-.8.8zm-24.4 36.3c-.2 0-.4-.1-.6-.2-.3-.3-.3-.8 0-1.1l21-21c2-1.7 3.1-4.2 3.2-6.8v-1.6c0-.4.4-.8.8-.8s.8.4.8.8V76c0 3.1-1.4 6-3.7 8l-21 21c-.2 0-.3.1-.5.1zm-9 4.9h-9c-.4 0-.8-.3-.8-.8 0-.4.4-.8.8-.8h9c1.7 0 3.3-.5 4.7-1.4.4-.2.9-.2 1.1.2.2.4.2.9-.2 1.1l-.1.1c-1.6 1-3.6 1.6-5.5 1.6zm-13.7 0H10.6C4.8 110 0 105.2 0 99.4v-6.2c0-.4.4-.8.8-.8s.8.4.8.8v6.2c0 5 4 9 9 9h50.8c.4 0 .8.4.8.8s-.4.8-.8.8z" opacity=".4"/>\n              <path fill="#FFF" d="M1.1 68.8c-.4 0-.8-.3-.8-.8v-6.1c-.1-.4.3-.8.7-.9.4 0 .9.3.9.7V68c.1.5-.3.8-.8.8.1 0 .1.1 0 0z"/>\n              <path fill="#A54942" d="M108.4 46c-.4 0-.8-.4-.8-.8v-8.8c0-.4.4-.8.8-.8s.8.3.8.8v8.8c0 .4-.3.8-.8.8z"/>\n            </g>\n          </svg>\n          ';
(f=d.blocks_count)?a=f.call(a,{hash:{},data:b}):(f=a&&a.blocks_count,a="function"===typeof f?f.call(a,{hash:{},data:b}):f);return g+=c(a)+" Blocks\n        </span>\n      "},h),data:h}))||0===f)a+=f;return a+"\n    </span>\n  </a>\n</li>"}))}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["navigation/achievements_tab"]=Handlebars.template(function(a,b,d,f,h){function c(a,b){var c;var g="\n      ";if((c=p.invokePartial(f["navigation/achievements/_kongpanion"],"navigation/achievements/_kongpanion",(c=a&&a.achievements,null==c||!1===c?c:c.current_kongpanion),d,f,b))||0===c)g+=c;return g+"\n    "}this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);f=this.merge(f,a.partials);h=h||{};var g,
k,l,p=this,n=this.escapeExpression,q=d.helperMissing,r=d.blockHelperMissing;a='<div class="main_nav_menu_inner">\n  \x3c!-- BoTD Start --\x3e\n  ';if((g=p.invokePartial(f["navigation/achievements/_badge_of_the_day"],"navigation/achievements/_badge_of_the_day",(g=b&&b.achievements,null==g||!1===g?g:g.badge_of_the_day),d,f,h))||0===g)a+=g;a+="\n  \x3c!-- BoTD End --\x3e\n  \x3c!-- Challenge Start --\x3e\n  ";if((g=d["if"].call(b,(g=(g=b&&b.achievements,null==g||!1===g?g:g.current_challenge),null==g||
!1===g?g:g.title),{hash:{},inverse:p.program(3,function(a,b){var f;var g="\n    ";if((f=d["if"].call(a,(f=(f=a&&a.achievements,null==f||!1===f?f:f.current_kongpanion),null==f||!1===f?f:f.name),{hash:{},inverse:p.noop,fn:p.program(4,c,b),data:b}))||0===f)g+=f;return g+"\n  "},h),fn:p.program(1,function(a,b){var c;var g="\n    ";if((c=p.invokePartial(f["navigation/achievements/_current_challenge"],"navigation/achievements/_current_challenge",(c=a&&a.achievements,null==c||!1===c?c:c.current_challenge),
d,f,b))||0===c)g+=c;return g+"\n  "},h),data:h}))||0===g)a+=g;a+='\n  \x3c!-- Challenge End --\x3e\n  \x3c!-- Recently Badged Start --\x3e\n  <dl id="main_nav_achievements_recent" class="main_nav_category mrl">\n    <dt class="main_nav_category_title pbs"><a data-metric-tracker="js-wa-tc-Navigation-Recently_Badged" href="/badges?sort=newest">';if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"Recently Badged Games",l):q.call(b,"tr","Recently Badged Games",l)))||0===g)a+=g;a+=' &raquo;</a></dt>\n    <dd class="mtm">\n      <ul class="main_nav_recently_badge_list">\n        ';
if((g=(g=(g=(g=b&&b.achievements,null==g||!1===g?g:g.recently_badged_games),"function"===typeof g?g.apply(b):g),r.call(b,g,{hash:{},inverse:p.noop,fn:p.program(6,function(a,b){var c="\n          ";if((a=p.invokePartial(f["navigation/achievements/_recently_badged_game"],"navigation/achievements/_recently_badged_game",a,d,f,b))||0===a)c+=a;return c+"\n        "},h),data:h})))||0===g)a+=g;a+='\n      </ul>\n    </dd>\n  </dl>\n  \x3c!-- Recently Badged End --\x3e\n  \x3c!-- Badges Start --\x3e\n  <dl id="main_nav_achievements_badges" class="main_nav_category">\n    <dt class="main_nav_category_title pbs"><a href=\'/badges\' data-metric-tracker="js-wa-tc-Navigation-Badges">';
if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"Badges &raquo;",l):q.call(b,"tr","Badges &raquo;",l)))||0===g)a+=g;a+='</a></dt>\n    <dd class="mtm">\n      <ul class="main_nav_category_list">\n        <li><a href=\'/recommended-badges\' class="js-activate-inline-registration" data-metric-tracker="js-wa-tc-Navigation-Badges">';if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"Recommended for Me",l):q.call(b,"tr","Recommended for Me",l)))||0===g)a+=g;a+="</a></li>\n        <li><a href='/badges?category=action' data-metric-tracker=\"js-wa-tc-Navigation-Badges\">";
if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"Action Badges",l):q.call(b,"tr","Action Badges",l)))||0===g)a+=g;a+="</a></li>\n        <li><a href='/badges?sort=least_awarded' data-metric-tracker=\"js-wa-tc-Navigation-Badges\">";if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"Rarest Badges",l):q.call(b,"tr","Rarest Badges",l)))||0===g)a+=g;a+="</a></li>\n        <li><a href='/badges?category=sports-racing' data-metric-tracker=\"js-wa-tc-Navigation-Badges\">";if((g=(k=d.tr||b&&b.tr,l=
{hash:{},data:h},k?k.call(b,"Racing Badges",l):q.call(b,"tr","Racing Badges",l)))||0===g)a+=g;a+="</a></li>\n        <li><a href='/badges?sort=easiest&filter_by=unearned' data-metric-tracker=\"js-wa-tc-Navigation-Badges\">";if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"Easiest Unearned",l):q.call(b,"tr","Easiest Unearned",l)))||0===g)a+=g;a+="</a></li>\n        <li><a href='/badges?category=puzzle' data-metric-tracker=\"js-wa-tc-Navigation-Badges\">";if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},
k?k.call(b,"Puzzle Badges",l):q.call(b,"tr","Puzzle Badges",l)))||0===g)a+=g;a+="</a></li>\n        <li><a href='/badges?sort=newest' data-metric-tracker=\"js-wa-tc-Navigation-Badges\">";if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"Newest Badges",l):q.call(b,"tr","Newest Badges",l)))||0===g)a+=g;a+='</a></li>\n        <li class="more"><a href=\'/badges\' data-metric-tracker="js-wa-tc-Navigation-Badges">';if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"All Badges",l):q.call(b,"tr","All Badges",
l)))||0===g)a+=g;a+='</a></li>\n      </ul>\n    </dd>\n  </dl>\n  \x3c!-- Badges End --\x3e\n  \x3c!-- Quests Start --\x3e\n  <dl id="main_nav_quests" class="main_nav_category mtl">\n    <dt class="main_nav_category_title pbs"><a href=\'/badge_quests/your_first\' data-metric-tracker="js-wa-tc-Navigation-Quests">';if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"Quests &raquo;",l):q.call(b,"tr","Quests &raquo;",l)))||0===g)a+=g;a+='</a></dt>\n    <dd class="mtm">\n      <ul class="main_nav_category_list">\n        <li><a href=\'/badge_quests/your_first\' data-metric-tracker="js-wa-tc-Navigation-Quests">';
if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"All Quests",l):q.call(b,"tr","All Quests",l)))||0===g)a+=g;a+="</a></li>\n        ";if((g=d["if"].call(b,(g=b&&b.user,null==g||!1===g?g:g.authenticated),{hash:{},inverse:p.noop,fn:p.program(8,function(a,b){var c,f,g;var h='\n          <li><a href="/accounts/'+n((c=(c=a&&a.user,null==c||!1===c?c:c.username),"function"===typeof c?c.apply(a):c))+'/awards" data-metric-tracker="js-wa-tc-Navigation-Quests">';if((c=(f=d.tr||a&&a.tr,g={hash:{},data:b},
f?f.call(a,"Your Medals",g):q.call(a,"tr","Your Medals",g)))||0===c)h+=c;return h+"</a></li>\n        "},h),data:h}))||0===g)a+=g;return a+"\n      </ul>\n    </dd>\n  </dl>\n  \x3c!-- Quests End --\x3e\n</div>"});return this.HandlebarsTemplates["navigation/achievements_tab"]}).call(this);
(function(){Handlebars.registerPartial("navigation/games/_game_lists",Handlebars.template(function(a,b,d,f,h){function c(a,b){var c;var g="\n      ";if((c=l.invokePartial(f["navigation/games/_games"],"navigation/games/_games",(c=a&&a.games,null==c||!1===c?c:c.playlist),d,f,b))||0===c)g+=c;return g+"\n    "}function g(a,b){var c,f,g;var h='\n      <a href="'+p((c=(c=a&&a.user,null==c||!1===c?c:c.playlist_path),"function"===typeof c?c.apply(a):c))+'" class="no_games_block">\n        <span class="plus kong_ico" aria-hidden="true">+</span>\n        <strong class="title"><span class="icon kong_ico" aria-hidden="true">p</span> My Playlist</strong>\n        <span class="desc">';
if((c=(f=d.tr||a&&a.tr,g={hash:{},data:b},f?f.call(a,"Add games to play them later.",g):n.call(a,"tr","Add games to play them later.",g)))||0===c)h+=c;return h+"</span>\n      </a>\n    "}this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);f=this.merge(f,a.partials);h=h||{};var k,l=this,p=this.escapeExpression,n=d.helperMissing;a="  ";if((k=d["if"].call(b,(k=b&&b.user,null==k||!1===k?k:k.authenticated),{hash:{},inverse:l.program(6,function(a,b){var c,g,h;var k='\n  \x3c!-- Recent Games Start --\x3e\n  <div id="main_nav_games_im_playing" class="main_nav_category my_games_block mrl">\n    ';
if((c=l.invokePartial(f["navigation/games/_recently_played"],"navigation/games/_recently_played",a,d,f,b))||0===c)k+=c;k+='\n  </div>\n  \x3c!-- Recent Games End --\x3e\n  \x3c!-- Playlist Games Start --\x3e\n  <div id="main_nav_my_playlist" class="main_nav_category my_games_block mrl">\n    <strong class="game_block_link">\n      <a href="'+p((c=(c=a&&a.user,null==c||!1===c?c:c.playlist_path),"function"===typeof c?c.apply(a):c))+'" class="js-wa-tc-Navigation-Playlist">';if((c=(g=d.tr||a&&a.tr,h=
{hash:{},data:b},g?g.call(a,"My Playlist &raquo;",h):n.call(a,"tr","My Playlist &raquo;",h)))||0===c)k+=c;k+='</a>\n    </strong>\n    <a class="no_games_block js-activate-inline-registration" href="#">\n      <span class="plus kong_ico" aria-hidden="true">+</span>\n      <strong class="title"><span class="icon kong_ico" aria-hidden="true">p</span> ';if((c=(g=d.tr||a&&a.tr,h={hash:{},data:b},g?g.call(a,"My Playlist",h):n.call(a,"tr","My Playlist",h)))||0===c)k+=c;k+='</strong>\n      <span class="desc">';
if((c=(g=d.tr||a&&a.tr,h={hash:{},data:b},g?g.call(a,"Register to save games to play later.",h):n.call(a,"tr","Register to save games to play later.",h)))||0===c)k+=c;return k+"</span>\n    </a>\n  </div>\n  \x3c!-- Playlist Games End --\x3e\n  "},h),fn:l.program(1,function(a,b){var h,u,k;var r='\n  \x3c!-- Recent Games Start --\x3e\n  <div id="main_nav_games_im_playing" class="main_nav_category my_games_block mrl">\n    ';if((h=l.invokePartial(f["navigation/games/_recently_played"],"navigation/games/_recently_played",
a,d,f,b))||0===h)r+=h;r+='\n  </div>\n  \x3c!-- Recent Games End --\x3e\n  \x3c!-- Playlist Games Start --\x3e\n  <div id="main_nav_my_playlist" class="main_nav_category my_games_block mrl">\n    <strong class="game_block_link">\n      <a href="'+p((h=(h=a&&a.user,null==h||!1===h?h:h.playlist_path),"function"===typeof h?h.apply(a):h))+'" data-metric-tracker="js-wa-tc-Navigation-Playlist">';if((h=(u=d.tr||a&&a.tr,k={hash:{},data:b},u?u.call(a,"My Playlist &raquo;",k):n.call(a,"tr","My Playlist &raquo;",
k)))||0===h)r+=h;r+="</a>\n    </strong>\n    ";if((h=d["if"].call(a,(h=a&&a.games,null==h||!1===h?h:h.playlist),{hash:{},inverse:l.program(4,g,b),fn:l.program(2,c,b),data:b}))||0===h)r+=h;return r+"\n  </div>\n  \x3c!-- Playlist Games End --\x3e\n  "},h),data:h}))||0===k)a+=k;return a}))}).call(this);
(function(){Handlebars.registerPartial("navigation/games/_games",Handlebars.template(function(a,b,d,f,h){function c(a,b){var c;var f='\n    <a href="';(c=d.game_path)?c=c.call(a,{hash:{},data:b}):(c=a&&a.game_path,c="function"===typeof c?c.call(a,{hash:{},data:b}):c);f+=k(c)+'" class="main mbs" data-metric-tracker=\'js-wa-tc-Navigation-';(c=d.metric_category)?c=c.call(a,{hash:{},data:b}):(c=a&&a.metric_category,c="function"===typeof c?c.call(a,{hash:{},data:b}):c);f+=k(c)+'\'>\n      <span class="game_icon">\n        <img alt="" src="';
(c=d.icon_path)?c=c.call(a,{hash:{},data:b}):(c=a&&a.icon_path,c="function"===typeof c?c.call(a,{hash:{},data:b}):c);f+=k(c)+'" />\n      </span>\n      <span class="name truncate_one_line">';(c=d.title)?c=c.call(a,{hash:{},data:b}):(c=a&&a.title,c="function"===typeof c?c.call(a,{hash:{},data:b}):c);return f+=k(c)+"</span>\n    </a>\n  "}function g(a,b){var c;var f='\n    <a href="';(c=d.game_path)?c=c.call(a,{hash:{},data:b}):(c=a&&a.game_path,c="function"===typeof c?c.call(a,{hash:{},data:b}):c);
f+=k(c)+"\" class='truncate extra js-wa-tc-Navigation-";(c=d.metric_category)?c=c.call(a,{hash:{},data:b}):(c=a&&a.metric_category,c="function"===typeof c?c.call(a,{hash:{},data:b}):c);f+=k(c)+"'>";(c=d.title)?c=c.call(a,{hash:{},data:b}):(c=a&&a.title,c="function"===typeof c?c.call(a,{hash:{},data:b}):c);return f+=k(c)+"</a>\n  "}this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);h=h||{};var k=this.escapeExpression,l=this;return(a=d.each.call(b,b,{hash:{},inverse:l.noop,fn:l.program(1,function(a,
b){var f="\n  ";if((a=d.unless.call(a,null==b||!1===b?b:b.index,{hash:{},inverse:l.program(4,g,b),fn:l.program(2,c,b),data:b}))||0===a)f+=a;return f+"\n"},h),data:h}))||0===a?a:""}))}).call(this);
(function(){Handlebars.registerPartial("navigation/games/_links",Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);h=h||{};var c,g,k=this.escapeExpression,l=d.helperMissing;a='\x3c!-- Categories Start --\x3e\n<dl id="main_nav_games_categories" class="main_nav_category">\n  <dt class="main_nav_category_title pbs"><a data-metric-tracker="js-wa-tc-Navigation-Categories" href=\'/games\'>';if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"Categories",
g):l.call(b,"tr","Categories",g)))||0===f)a+=f;a+='</a></dt>\n  <dd class="mtm">\n    <ul class="main_nav_category_list">\n      <li class="featured"><a data-metric-tracker="js-wa-tc-Navigation-Feature" href=\'/top-rated-games\'>';if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"Top Rated",g):l.call(b,"tr","Top Rated",g)))||0===f)a+=f;a+="</a></li>\n      <li><a data-metric-tracker=\"js-wa-tc-Navigation-Categories\" href='/action-games'>";if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,
"Action",g):l.call(b,"tr","Action",g)))||0===f)a+=f;a+="</a></li>\n      <li><a data-metric-tracker=\"js-wa-tc-Navigation-Categories\" href='/multiplayer-games'>";if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"Multiplayer",g):l.call(b,"tr","Multiplayer",g)))||0===f)a+=f;a+='</a></li>\n      <li class="featured"><a data-metric-tracker="js-wa-tc-Navigation-Feature" href=\'/top-rated-games?sort=newest\'>';if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"Hot New",g):l.call(b,"tr","Hot New",
g)))||0===f)a+=f;a+="</a></li>\n      <li><a data-metric-tracker=\"js-wa-tc-Navigation-Categories\" href='/mmo-games'>";if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"MMO",g):l.call(b,"tr","MMO",g)))||0===f)a+=f;a+="</a></li>\n      <li><a data-metric-tracker=\"js-wa-tc-Navigation-Categories\" href='/adventure-rpg-games'>";if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"Adventure &amp; RPG",g):l.call(b,"tr","Adventure &amp; RPG",g)))||0===f)a+=f;a+='</a></li>\n      <li class="featured">\n        ';
if((f=d["if"].call(b,(f=b&&b.user,null==f||!1===f?f:f.authenticated),{hash:{},inverse:this.program(3,function(a,b){var c,f;var g='\n          <a data-metric-tracker="js-wa-tc-Navigation-Feature" class="js-activate-inline-registration" href="#">\n            <span>';if((a=(c=d.tr||a&&a.tr,f={hash:{},data:b},c?c.call(a,"My Favorites",f):l.call(a,"tr","My Favorites",f)))||0===a)g+=a;return g+"</span>\n          </a>\n        "},h),fn:this.program(1,function(a,b){var c,f,g;var h='\n          <a data-metric-tracker="js-wa-tc-Navigation-Feature" href=\''+
k((c=(c=a&&a.user,null==c||!1===c?c:c.favorites_path),"function"===typeof c?c.apply(a):c))+"'>";if((c=(f=d.tr||a&&a.tr,g={hash:{},data:b},f?f.call(a,"My Favorites",g):l.call(a,"tr","My Favorites",g)))||0===c)h+=c;return h+"</a>\n        "},h),data:h}))||0===f)a+=f;a+="\n      </li>\n      <li><a data-metric-tracker=\"js-wa-tc-Navigation-Categories\" href='/strategy-defense-games'>";if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"Strategy &amp; Defense",g):l.call(b,"tr","Strategy &amp; Defense",
g)))||0===f)a+=f;a+="</a></li>\n      <li><a data-metric-tracker=\"js-wa-tc-Navigation-Categories\" href='/shooter-games'>";if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"Shooter",g):l.call(b,"tr","Shooter",g)))||0===f)a+=f;a+="</a></li>\n      <li><a data-metric-tracker=\"js-wa-tc-Navigation-Categories\" href='/idle-games'>";if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"Idle",g):l.call(b,"tr","Idle",g)))||0===f)a+=f;a+="</a></li>\n      <li><a data-metric-tracker=\"js-wa-tc-Navigation-Categories\" href='/upgrades-games'>";
if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"Upgrades",g):l.call(b,"tr","Upgrades",g)))||0===f)a+=f;a+="</a></li>\n      <li><a data-metric-tracker=\"js-wa-tc-Navigation-Categories\" href='/tower-defense-games'>";if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"Tower Defense",g):l.call(b,"tr","Tower Defense",g)))||0===f)a+=f;a+="</a></li>\n      <li><a data-metric-tracker=\"js-wa-tc-Navigation-Categories\" href='/sports-racing-games'>";if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,
"Sports/Racing",g):l.call(b,"tr","Sports/Racing",g)))||0===f)a+=f;a+="</a></li>\n      <li><a data-metric-tracker=\"js-wa-tc-Navigation-Categories\" href='/5-minute-games'>";if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"5 Minute",g):l.call(b,"tr","5 Minute",g)))||0===f)a+=f;a+='</a></li>\n      <li class="more"><a data-metric-tracker="js-wa-tc-Navigation-Categories" href=\'/games\'>';if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"More Categories",g):l.call(b,"tr","More Categories",
g)))||0===f)a+=f;a+='</a></li>\n    </ul>\n  </dd>\n  <dd class="main_nav_sub">\n    <p class="main_nav_sub_title mbs"><em>';if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"For Developers:",g):l.call(b,"tr","For Developers:",g)))||0===f)a+=f;a+='</em></p>\n    <ul class="main_nav_sub_links">\n      <li><a data-metric-tracker="js-wa-tc-Navigation-Developers" href=\'/games/new\'>';if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"Upload your game",g):l.call(b,"tr","Upload your game",g)))||
0===f)a+=f;a+='</a></li>\n      <li><a data-metric-tracker="js-wa-tc-Navigation-Developers" href=\'http://developers.kongregate.com/\' target="_blank">';if((f=(c=d.tr||b&&b.tr,g={hash:{},data:h},c?c.call(b,"Developers Center",g):l.call(b,"tr","Developers Center",g)))||0===f)a+=f;return a+"</a></li>\n    </ul>\n  </dd>\n</dl>\n\x3c!-- Categories End --\x3e"}))}).call(this);
(function(){Handlebars.registerPartial("navigation/games/_recently_played",Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);f=this.merge(f,a.partials);h=h||{};var c,g,k,l=this,p=d.helperMissing;a=this.escapeExpression;a='<strong class="game_block_link">\n  <a href="'+a((c=(c=b&&b.user,null==c||!1===c?c:c.recently_played_path),"function"===typeof c?c.apply(b):c))+'" data-metric-tracker="js-wa-tc-Navigation-Recently_Played">';if((c=(g=d.tr||b&&b.tr,
k={hash:{},data:h},g?g.call(b,"Recently Played &raquo;",k):p.call(b,"tr","Recently Played &raquo;",k)))||0===c)a+=c;a+="</a>\n</strong>\n";if((c=d["if"].call(b,(c=b&&b.games,null==c||!1===c?c:c.recently_played),{hash:{},inverse:l.program(3,function(a,b){var c,f,g;var h='\n  <a class="no_games_block" href="/games">\n    <span class="plus kong_ico" aria-hidden="true">+</span>\n    <strong class="title">';if((c=(f=d.tr||a&&a.tr,g={hash:{},data:b},f?f.call(a,"Recently Played Games",g):p.call(a,"tr","Recently Played Games",
g)))||0===c)h+=c;h+='</strong>\n    <span class="desc">';if((c=(f=d.tr||a&&a.tr,g={hash:{},data:b},f?f.call(a,"Start playing now.",g):p.call(a,"tr","Start playing now.",g)))||0===c)h+=c;return h+"</span>\n  </a>\n"},h),fn:l.program(1,function(a,b){var c;var g="\n  ";if((c=l.invokePartial(f["navigation/games/_games"],"navigation/games/_games",(c=a&&a.games,null==c||!1===c?c:c.recently_played),d,f,b))||0===c)g+=c;return g+"\n"},h),data:h}))||0===c)a+=c;return a}))}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["navigation/games_tab"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);f=this.merge(f,a.partials);h=h||{};var c;a='<div class="main_nav_menu_inner">\n  ';if((c=this.invokePartial(f["navigation/games/_game_lists"],"navigation/games/_game_lists",b,d,f,h))||0===c)a+=c;a+="\n  ";if((c=this.invokePartial(f["navigation/games/_links"],"navigation/games/_links",
b,d,f,h))||0===c)a+=c;return a+"\n</div>"});return this.HandlebarsTemplates["navigation/games_tab"]}).call(this);(function(){Handlebars.registerPartial("navigation/mykong/_all_forums",Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);var c;a=this.escapeExpression;return'<li class="more"><a class="js-wa-tc-Navigation-Forums" href=\''+a((c=(c=b&&b.forums,null==c||!1===c?c:c.all_forums),"function"===typeof c?c.apply(b):c))+"'>All Forums</a></li>"}))}).call(this);
(function(){Handlebars.registerPartial("navigation/mykong/_common_forums",Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);var c;a=this.escapeExpression;return'<li><a data-metric-tracker="js-wa-tc-Navigation-Forums" href=\''+a((c=(c=b&&b.forums,null==c||!1===c?c:c.kongregate),"function"===typeof c?c.apply(b):c))+"'>Kongregate</a></li>\n<li><a data-metric-tracker=\"js-wa-tc-Navigation-Forums\" href='"+a((c=(c=b&&b.forums,null==c||!1===c?c:c.game_forums),
"function"===typeof c?c.apply(b):c))+"'>Game Forums</a></li>\n<li><a data-metric-tracker=\"js-wa-tc-Navigation-Forums\" href='"+a((c=(c=b&&b.forums,null==c||!1===c?c:c.general_gaming),"function"===typeof c?c.apply(b):c))+"'>General Gaming</a></li>\n<li><a data-metric-tracker=\"js-wa-tc-Navigation-Forums\" href='"+a((c=(c=b&&b.forums,null==c||!1===c?c:c.technical_support),"function"===typeof c?c.apply(b):c))+"'>Tech Support</a></li>\n<li><a data-metric-tracker=\"js-wa-tc-Navigation-Forums\" href='"+
a((c=(c=b&&b.forums,null==c||!1===c?c:c.game_programming),"function"===typeof c?c.apply(b):c))+"'>Game Development</a></li>"}))}).call(this);
(function(){Handlebars.registerPartial("navigation/mykong/_find_friends",Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);h=h||{};var c;a='<div class="no-friends">\n  <p>\n    Locate your friends who are already on Kongregate\n    <a data-metric-tracker="js-wa-tc-Navigation-Find_Friends" href="/findyourfriends">using your email contact list &raquo;</a>\n  </p>\n  ';if((c=d.unless.call(b,(c=b&&b.user,null==c||!1===c?c:c.facebook_connected),{hash:{},
inverse:this.noop,fn:this.program(1,function(a,b){return'\n    <a href="http://www.kongregate.com/#" data-metric-tracker="js-wa-tc-Navigation-Find_Friends" class="facebook_signin_medium sprite_facebook" onclick="new FacebookAuthenticator({}); return false;" title="Sign in with Facebook">Connect with Facebook</a>\n  '},h),data:h}))||0===c)a+=c;return a+"\n</div>"}))}).call(this);
(function(){Handlebars.registerPartial("navigation/mykong/_mykong_guest",Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);f=this.merge(f,a.partials);h=h||{};var c,g,k,l=d.helperMissing;a='<div class="main_nav_menu_inner">\n  \x3c!-- Account Info Start --\x3e\n  <dl id="main_nav_mykong_activity" class="main_nav_category mrl">\n    <dt class="main_nav_category_title pbs">';if((c=(g=d.tr||b&&b.tr,k={hash:{},data:h},g?g.call(b,"Trending with Friends",
k):l.call(b,"tr","Trending with Friends",k)))||0===c)a+=c;a+='</dt>\n    <dd id="main_nav_activity_upsell" class="mtm">\n      <p><strong>';if((c=(g=d.tr||b&&b.tr,k={hash:{},data:h},g?g.call(b,"Activity Feed",k):l.call(b,"tr","Activity Feed",k)))||0===c)a+=c;a+='</strong></p>\n      <p class="media regtextLrg">\n        <span class="img kong_ico" aria-hidden="true">g</span>\n        <span class="bd"><a href="#" class=\'js-activate-inline-registration\'>';if((c=(g=d.tr||b&&b.tr,k={hash:{},data:h},
g?g.call(b,"Register",k):l.call(b,"tr","Register",k)))||0===c)a+=c;a+="</a>";if((c=(g=d.tr||b&&b.tr,k={hash:{},data:h},g?g.call(b," or ",k):l.call(b,"tr"," or ",k)))||0===c)a+=c;a+="<a href=\"#\" class='js-activate-inline-login'>";if((c=(g=d.tr||b&&b.tr,k={hash:{},data:h},g?g.call(b,"sign in",k):l.call(b,"tr","sign in",k)))||0===c)a+=c;a+="</a>";if((c=(g=d.tr||b&&b.tr,k={hash:{},data:h},g?g.call(b," to start receiving activity updates from around Kongregate!",k):l.call(b,"tr"," to start receiving activity updates from around Kongregate!",
k)))||0===c)a+=c;a+='</span>\n      </p>\n    </dd>\n  </dl>\n  \x3c!-- Account Info End --\x3e\n  \x3c!-- Forums Start --\x3e\n  <dl id="main_nav_mykong_forums" class="main_nav_category">\n    <dt class="main_nav_category_title pbs"><a href="/forums">';if((c=(g=d.tr||b&&b.tr,k={hash:{},data:h},g?g.call(b,"Forums &raquo;",k):l.call(b,"tr","Forums &raquo;",k)))||0===c)a+=c;a+='</a></dt>\n    <dd class="mtm">\n      <ul class="main_nav_category_list">\n        ';if((c=this.invokePartial(f["navigation/mykong/_common_forums"],
"navigation/mykong/_common_forums",b,d,f,h))||0===c)a+=c;a+="\n        ";if((c=this.invokePartial(f["navigation/mykong/_all_forums"],"navigation/mykong/_all_forums",b,d,f,h))||0===c)a+=c;return a+"\n      </ul>\n    </dd>\n  </dl>\n  \x3c!-- Forums End --\x3e\n</div>"}))}).call(this);
(function(){Handlebars.registerPartial("navigation/mykong/_mykong_user",Handlebars.template(function(a,b,d,f,h){function c(a,b){var c,f,g;var h='\n              <li class="media">\n                <a href="/accounts/'+n((c=a&&a.username,"function"===typeof c?c.apply(a):c))+'" class="img" data-metric-tracker="js-wa-tc-Navigation-Find_Friends">\n                  <img alt="" src="'+n((c=a&&a.avatar_url,"function"===typeof c?c.apply(a):c))+'" />\n                </a>\n                <span class="bd">\n                  <strong><a data-metric-tracker="js-wa-tc-Navigation-Find_Friends" href="/accounts/'+
n((c=a&&a.username,"function"===typeof c?c.apply(a):c))+'">'+n((c=a&&a.username,"function"===typeof c?c.apply(a):c))+"</a></strong>\n                  <em>";if((c=(f=d.tr||a&&a.tr,g={hash:{},data:b},f?f.call(a,"playing ",g):p.call(a,"tr","playing ",g)))||0===c)h+=c;return h+='<a href="'+n((c=a&&a.last_game_url,"function"===typeof c?c.apply(a):c))+'">'+n((c=a&&a.last_game_name,"function"===typeof c?c.apply(a):c))+"</a></em>\n                </span>\n              </li>\n            "}this.compilerInfo=
[4,">= 1.0.0"];d=this.merge(d,a.helpers);f=this.merge(f,a.partials);h=h||{};var g,k,l,p=d.helperMissing,n=this.escapeExpression,q=this;a='<div class="main_nav_menu_inner">\n  \x3c!-- Account Info Start --\x3e\n  <ul class="main_nav_profile">\n    \x3c!-- Info Start --\x3e\n    <li class="media main_nav_profile_sec mini_profile_sec">\n      <a href="/accounts/'+n((g=(g=b&&b.user,null==g||!1===g?g:g.username),"function"===typeof g?g.apply(b):g))+'" class="img" data-metric-tracker="js-wa-tc-Navigation-Profiles"><img alt="" src="'+
n((g=(g=b&&b.user,null==g||!1===g?g:g.avatar_url),"function"===typeof g?g.apply(b):g))+'" /></a>\n      <div class="bd">\n        <p class="user"><strong><a data-metric-tracker="js-wa-tc-Navigation-Profiles" href="/accounts/'+n((g=(g=b&&b.user,null==g||!1===g?g:g.username),"function"===typeof g?g.apply(b):g))+'">'+n((g=(g=b&&b.user,null==g||!1===g?g:g.username),"function"===typeof g?g.apply(b):g))+'<span class="spritesite levelbug level_'+n((g=(g=b&&b.user,null==g||!1===g?g:g.level),"function"===
typeof g?g.apply(b):g))+'" title="Level '+n((g=(g=b&&b.user,null==g||!1===g?g:g.level),"function"===typeof g?g.apply(b):g))+'" alt="Levelbug '+n((g=(g=b&&b.user,null==g||!1===g?g:g.level),"function"===typeof g?g.apply(b):g))+'"></span></a></strong></p>\n        ';if((g=d["if"].call(b,(g=b&&b.user,null==g||!1===g?g:g.is_max_level),{hash:{},inverse:q.program(3,function(a,b){var c,f,g;var h='\n          <p class="points">\n            <strong>\n              <a href=\'/accounts/'+n((c=(c=a&&a.user,null==
c||!1===c?c:c.username),"function"===typeof c?c.apply(a):c))+'/points\' data-metric-tracker="js-wa-tc-Navigation-Points">\n                ';if((c=(f=d.tr||a&&a.tr,g={hash:{points:(c=a&&a.user,null==c||!1===c?c:c.points)},data:b},f?f.call(a,"{points} points",g):p.call(a,"tr","{points} points",g)))||0===c)h+=c;h+='\n              </a>\n            </strong>\n            <span class="next">\n              - ';if((c=(f=d.tr||a&&a.tr,g={hash:{points_away:(c=a&&a.user,null==c||!1===c?c:c.points_away)},
data:b},f?f.call(a,"Next level in {points_away}",g):p.call(a,"tr","Next level in {points_away}",g)))||0===c)h+=c;h+='\n            </span>\n          </p>\n          <p class="progress">\n            <span class="progress_bar">\n              <span class="progress_percent" style="width:'+n((c=(c=a&&a.user,null==c||!1===c?c:c.progress_bar_width),"function"===typeof c?c.apply(a):c))+'%"></span>\n            </span>\n            <strong class="level">\n              ';if((c=(f=d.tr||a&&a.tr,g={hash:{},
data:b},f?f.call(a,"Level",g):p.call(a,"tr","Level",g)))||0===c)h+=c;return h+='\n              <span class="spritesite levelbug level_'+n((c=(c=a&&a.user,null==c||!1===c?c:c.next_level),"function"===typeof c?c.apply(a):c))+'" title="Level '+n((c=(c=a&&a.user,null==c||!1===c?c:c.next_level),"function"===typeof c?c.apply(a):c))+'" alt="Levelbug '+n((c=(c=a&&a.user,null==c||!1===c?c:c.next_level),"function"===typeof c?c.apply(a):c))+'"></span>\n            </strong>\n          </p>\n        '},h),fn:q.program(1,
function(a,b){var c,f;var g='\n          <p class="points w_cake"><span class="cake_icon mrm"></span>';if((a=(c=d.tr||a&&a.tr,f={hash:{},data:b},c?c.call(a,"Whoah, you're at our level cap. Good job, you rock! Here, have some cake.",f):p.call(a,"tr","Whoah, you're at our level cap. Good job, you rock! Here, have some cake.",f)))||0===a)g+=a;return g+"</p>\n        "},h),data:h}))||0===g)a+=g;a+='\n      </div>\n    </li>\n    \x3c!-- Info End --\x3e\n    <li class="main_nav_profile_sec profile_sec">\n      <a href=\'/accounts/'+
n((g=(g=b&&b.user,null==g||!1===g?g:g.username),"function"===typeof g?g.apply(b):g))+'\' data-metric-tracker="js-wa-tc-Navigation-Profile" class="main_nav_profile_link">\n        <span class="kong_ico" aria-hidden="true">u</span>\n        <strong>';if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"Profile",l):p.call(b,"tr","Profile",l)))||0===g)a+=g;a+='</strong>\n      </a>\n    </li>\n    <li class="main_nav_profile_sec kreds_sec">\n      <a href=\'/accounts/'+n((g=(g=b&&b.user,null==g||!1===
g?g:g.username),"function"===typeof g?g.apply(b):g))+'/kred_account\' data-metric-tracker="js-wa-tc-Navigation-Kreds" class="main_nav_profile_link">\n        <span class="kong_ico" aria-hidden="true">k</span>\n        <strong>';if((g=(k=d.tr||b&&b.tr,l={hash:{kreds_balance:(g=b&&b.user,null==g||!1===g?g:g.kreds_balance)},data:h},k?k.call(b,"Kreds: {kreds_balance}",l):p.call(b,"tr","Kreds: {kreds_balance}",l)))||0===g)a+=g;a+="</strong>\n      </a>\n    </li>\n    ";if((g=d["if"].call(b,(g=b&&b.user,
null==g||!1===g?g:g.has_chips),{hash:{},inverse:q.noop,fn:q.program(5,function(a,b){var c,f,g;var h='\n      <li class="main_nav_profile_sec blocks_sec">\n        <a href=\'/accounts/'+n((c=(c=a&&a.user,null==c||!1===c?c:c.username),"function"===typeof c?c.apply(a):c))+'/blocks_transactions\' data-metric-tracker="js-wa-tc-Navigation-Blocks" class="main_nav_profile_link">\n          <svg class="block-ico" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">\n            <path fill="#8e8e8e" d="M32.5.07H11a3.17 3.17 0 0 0-2.17.82h-.05L8.65 1l-7.6 7.6-.13.2A3.21 3.21 0 0 0 .05 11v21.52a3.23 3.23 0 0 0 3.21 3.21H24.8a3.21 3.21 0 0 0 2.43-1.12l7.36-7.36a3.19 3.19 0 0 0 1.12-2.43V3.28A3.23 3.23 0 0 0 32.5.07z"/>\n            <path fill="#8e8e8e" d="M34.59 18.05l-7.36 7.36a3.21 3.21 0 0 1-2.43 1.12H3.26a3.23 3.23 0 0 1-3.21-3.21v9.2a3.23 3.23 0 0 0 3.21 3.21H24.8a3.21 3.21 0 0 0 2.43-1.12l7.36-7.36a3.19 3.19 0 0 0 1.12-2.43v-9.2a3.19 3.19 0 0 1-1.12 2.43z"/>\n            <path d="M32.48 22.46H11a3.19 3.19 0 0 0-2.44 1.13L1.16 31a3.22 3.22 0 0 0-1.11 2 3.24 3.24 0 0 0 3.19 2.84h21.54a3.16 3.16 0 0 0 2.43-1.13l7.36-7.35a3.26 3.26 0 0 0 1.1-2.06 3.24 3.24 0 0 0-3.19-2.84z" opacity=".15"/>\n            <path d="M18.17 25.53h4.17a.32.32 0 0 1 .32.32.32.32 0 0 1-.32.32h-4.17a.32.32 0 0 1-.32-.32.32.32 0 0 1 .32-.32zm5.45 0h1a.32.32 0 0 1 .32.32.32.32 0 0 1-.32.32h-1a.32.32 0 0 1-.32-.32.32.32 0 0 1 .32-.32zm5.78 0h2.25a.32.32 0 0 1 .32.32.32.32 0 0 1-.32.32H29.4a.32.32 0 0 1-.32-.32.32.32 0 0 1 .32-.32z" opacity=".3"/>\n            <rect width=".64" height="4.81" x="10.04" y="10.88" opacity=".3" rx=".32"/>\n            <path d="M10 7.67V5.42a.32.32 0 0 1 .32-.32.32.32 0 0 1 .32.32v2.25a.32.32 0 0 1-.32.32.32.32 0 0 1-.32-.32zM6.41 30.25l2.89-2.9a3.27 3.27 0 0 1 3-1.2h3.32c.43 0 .64-.64 0-.64h-1.71c-2.78 0-3.21-1-3.21-3.21v-5.13a.33.33 0 0 0-.32-.33.32.32 0 0 0-.32.32v7a3.28 3.28 0 0 1-.75 2.25c-.1.12-.29.34-.47.53l-2.93 2.93c-.25.3.09.77.5.38zm-1.94 1.96l.61-.72c.25-.3-.12-.81-.47-.4s-.35.43-.54.66c-.35.43.11.81.4.46z" opacity=".3"/>\n            <path fill="#a3a3a3" d="M32.48 6.2H11a3.21 3.21 0 0 0-2.49 1.13l-7.35 7.35a3.25 3.25 0 0 0-1.11 2.06 3.24 3.24 0 0 0 3.19 2.84h21.54a3.16 3.16 0 0 0 2.43-1.13l7.36-7.36A3.21 3.21 0 0 0 35.67 9a3.23 3.23 0 0 0-3.19-2.8z"/>\n            <path fill="#c6c6c6" d="M34.59 11.09l-7.36 7.36a3.16 3.16 0 0 1-2.43 1.13H3.26a3.23 3.23 0 0 1-3.21-3.21v7a3.23 3.23 0 0 0 3.21 3.21H24.8a3.21 3.21 0 0 0 2.43-1.12l7.36-7.36a3.19 3.19 0 0 0 1.12-2.43v-7a3.17 3.17 0 0 1-1.12 2.42z"/>\n            <path fill="#ededed" d="M21.16 19.54h.96v6.95h-.96zm-16.58 0h5.78v6.95H4.58z"/>\n            <path fill="#fff" d="M22.77 19.58h1.71v6.95h-1.71zm-19.69-.04h.64v6.95h-.64zm5.67 0h.96v6.95h-.96z"/>\n            <path fill="#e8e8e8" d="M34.59 11.09l-4.65 4.66v7l4.65-4.65a3.19 3.19 0 0 0 1.12-2.43v-7a3.17 3.17 0 0 1-1.12 2.42z"/>\n            <path fill="#999" d="M28.44 17.25l-1.21 1.2a3 3 0 0 1-.82.69v7a3.17 3.17 0 0 0 .82-.68l1.21-1.21z"/>\n            <path fill="#bfbfbf" d="M34.59 11.09l-1.23 1.23v7l1.23-1.23a3.19 3.19 0 0 0 1.12-2.43v-7a3.19 3.19 0 0 1-1.12 2.43z"/>\n            <path fill="#fff" d="M34.59 11.09l-7.36 7.36a3.16 3.16 0 0 1-2.43 1.13H3.26a3.23 3.23 0 0 1-3.21-3.21V17a3.23 3.23 0 0 0 3.21 3.21H24.8a3.16 3.16 0 0 0 2.43-1.13l7.36-7.35a3.21 3.21 0 0 0 1.12-2.43v-.64a3.19 3.19 0 0 1-1.12 2.43z"/>\n            <path fill="#636363" d="M34.59 17.51l-7.36 7.36A3.16 3.16 0 0 1 24.8 26H3.26a3.23 3.23 0 0 1-3.21-3.21v.64a3.23 3.23 0 0 0 3.21 3.21H24.8a3.16 3.16 0 0 0 2.43-1.13l7.36-7.35a3.22 3.22 0 0 0 1.12-2.44v-.64a3.19 3.19 0 0 1-1.12 2.43z"/>\n            <path fill="#8e8e8e" d="M35.71 3.28A3.23 3.23 0 0 0 32.5.07H11a3.17 3.17 0 0 0-2.17.82h-.05L8.65 1l-7.6 7.6-.13.2A3.21 3.21 0 0 0 .05 11v5.38a3.23 3.23 0 0 0 3.21 3.21H24.8a3.16 3.16 0 0 0 2.43-1.13l7.36-7.36a3.19 3.19 0 0 0 1.12-2.43z" opacity=".6"/>\n            <path d="M18.16 33c4.82.61 11.22-8-1.29-5.59-3.58.73-7.45 4.51 1.29 5.59z" opacity=".2"/>\n            <circle cx="32.74" cy="23.88" r=".51" fill="#fff" opacity=".35"/>\n            <path fill="#fff" d="M10.46 11.51l.66 1.23 1.22.7-1.22.66-.66 1.27-.7-1.27-1.23-.66 1.23-.7.7-1.23zm.57 16.55l.25.47.47.26-.47.25-.25.49-.27-.49-.47-.25.47-.26.27-.47zm10.59 1.11l.31.58.58.33-.58.31-.31.6-.33-.6-.58-.31.58-.33.33-.58zm8.35-4.64l.25.47.46.26-.46.25-.25.49-.27-.49-.47-.25.47-.26.27-.47z"/>\n            <path fill="#fff" d="M7.74 33.5a1.008 1.008 0 0 0-.25-2c-1.19 0-2.8-.5-2.86-1.5-.12-1.93-2.3-2.12-2.3.21 0 3.92 2.95 3.45 5.41 3.29z" opacity=".2"/>\n            <path fill="#fff" d="M10.86.07a3.15 3.15 0 0 0-2.13.82h-.05L8.55 1 4.07 5.54C1.78 7.78 10.89 7.77 14.64 6.7c7-2 15.94-.11 16.79-6.63z" opacity=".27"/>\n            <circle cx="17.12" cy="2.16" r=".41" fill="#fff" opacity=".37"/>\n            <circle cx="21.61" cy="15.65" r="1.03" fill="#fff" opacity=".35"/>\n            <circle cx="15.89" cy="13.02" r=".67" fill="#fff" opacity=".35"/>\n            <circle cx="15.3" cy="28.38" r=".51" fill="#fff" opacity=".35"/>\n            <path fill="#fff" d="M11.83 2C10.09 2.23 8.11 3.49 9 5s3.18-.16 4.59-1.12S18.06 1.15 11.83 2z" opacity=".45"/>\n            <path fill="#fff" d="M27.66 4.08C21.74 4 24.68 5.57 26 5.56c1.79 0 3.77.22 3.65 2.07-.18 2.89 2.83 3.75 3.08.28.16-2.62-1.37-3.79-5.07-3.83z" opacity=".14"/>\n            <path fill="#fff" d="M26.73 28.42a.32.32 0 0 1 .32.32v1.39a.32.32 0 0 1-.32.32.32.32 0 0 1-.32-.32v-1.39a.32.32 0 0 1 .32-.32zm-.32 3.21v-.22a.32.32 0 0 1 .32-.32.32.32 0 0 1 .32.32v.22a.32.32 0 0 1-.32.32.32.32 0 0 1-.32-.32z" opacity=".55"/>\n            <path fill="#fff" d="M29 1.74l.25.47.47.26-.47.26-.25.48-.26-.48-.47-.26.47-.26.26-.47z"/>\n            <path fill="#fff" d="M2.44 12.48a.32.32 0 0 1 .32.32v2.89a.32.32 0 0 1-.32.32.32.32 0 0 1-.32-.32V12.8a.32.32 0 0 1 .32-.32zm0 15.19a.32.32 0 0 1 .32.32v4.17a.32.32 0 0 1-.32.32.32.32 0 0 1-.32-.32V28a.32.32 0 0 1 .32-.33z" opacity=".7"/>\n            <rect width="4.81" height=".64" x="12.92" y="33.66" fill="#fff" opacity=".76" rx=".32"/>\n            <path fill="#fff" d="M20.31 34a.32.32 0 0 1-.32.32H19a.32.32 0 0 1-.32-.32.32.32 0 0 1 .32-.32h1a.32.32 0 0 1 .31.32z" opacity=".76"/>\n            <path fill="#fff" d="M30.42 6.16a24.4 24.4 0 0 0 2.1-2.33c.24-.31-.11-.81-.46-.4a23.41 23.41 0 0 0-2 2.27c-.26.51.01.76.36.46z" opacity=".55"/>\n            <rect width="4.81" height=".64" x="8.22" y="8.84" fill="#fff" opacity=".55" rx=".32"/>\n            <rect width="1.07" height=".64" x="6.51" y="8.84" fill="#fff" opacity=".55" rx=".32"/>\n            <path fill="#fff" d="M21.28 5.06l.28.52.52.3-.52.28-.28.54-.3-.54-.52-.28.52-.3.3-.52z"/>\n            <path fill="#fff" d="M28 7.42a3.4 3.4 0 0 1-3.2 1.42H14.74c-.42 0-.64.64 0 .64h8.45c2.79 0 3.21.95 3.21 3.21v4.48a.32.32 0 0 0 .31.33.33.33 0 0 0 .32-.33v-6.3a3.21 3.21 0 0 1 .75-2.24c.15-.18.53-.59.71-.8s-.1-.83-.49-.41z" opacity=".61"/>\n            <path fill="#fff" d="M.37 15.47a.27.27 0 0 1-.26-.27v-1.69a.27.27 0 0 1 .26-.27.27.27 0 0 1 .27.27v1.69a.27.27 0 0 1-.27.27zm0-3.15a.27.27 0 0 1-.26-.27v-1.13A3.34 3.34 0 0 1 1 8.63l.13-.13 7.4-7.41.18-.17A3.41 3.41 0 0 1 11 0h3.21a.27.27 0 0 1 .27.27.26.26 0 0 1-.26.26H11a2.9 2.9 0 0 0-1.91.74L9 1.43 1.54 8.85 1.42 9a2.8 2.8 0 0 0-.77 1.94v1.13a.26.26 0 0 1-.28.25zM17.88.53h-2a.26.26 0 0 1-.27-.25.27.27 0 0 1 .27-.28h2a.27.27 0 0 1 .27.27.26.26 0 0 1-.26.26zM35.5 3.67a.27.27 0 0 1-.27-.27A2.87 2.87 0 0 0 32.37.53H19.88a.26.26 0 0 1-.27-.25.27.27 0 0 1 .27-.28h12.49a3.41 3.41 0 0 1 3.4 3.4.27.27 0 0 1-.27.27zm0 3.43a.27.27 0 0 1-.27-.27V4.88a.27.27 0 0 1 .54 0v2a.27.27 0 0 1-.27.22z" opacity=".6"/>\n            <path d="M35.5 22.52a.27.27 0 0 1-.27-.27v-3.42a.27.27 0 1 1 .54 0v3.42a.27.27 0 0 1-.27.27zm-7.99 11.87a.27.27 0 0 1-.19-.08.27.27 0 0 1 0-.37l6.87-6.87a2.93 2.93 0 0 0 1-2.23v-.54a.27.27 0 0 1 .54 0v.52a3.46 3.46 0 0 1-1.21 2.63l-6.87 6.86a.29.29 0 0 1-.14.08zM24.58 36h-2.94a.27.27 0 0 1 0-.53h2.94a3 3 0 0 0 1.54-.47.27.27 0 0 1 .37.08.26.26 0 0 1-.07.36 3.44 3.44 0 0 1-1.84.56zm-4.49 0H3.48A3.48 3.48 0 0 1 0 32.52v-2a.27.27 0 0 1 .27-.27.26.26 0 0 1 .26.26v2a3 3 0 0 0 3 2.95h16.56a.27.27 0 0 1 0 .53z" opacity=".3"/>\n            <path fill="#fff" d="M.37 22.53a.27.27 0 0 1-.26-.27v-2A.28.28 0 0 1 .37 20a.27.27 0 0 1 .27.27v2a.27.27 0 0 1-.27.26z"/>\n            <path fill="#636363" d="M35.47 15a.27.27 0 0 1-.27-.26V11.9a.27.27 0 0 1 .27-.27.26.26 0 0 1 .26.26v2.88a.26.26 0 0 1-.26.23z"/>\n          </svg>\n          <strong class="truncate_one_line">';
if((c=(f=d.tr||a&&a.tr,g={hash:{chips_balance:(c=a&&a.user,null==c||!1===c?c:c.chips_balance)},data:b},f?f.call(a,"Blocks: {chips_balance}",g):p.call(a,"tr","Blocks: {chips_balance}",g)))||0===c)h+=c;return h+"</strong>\n        </a>\n      </li>\n    "},h),data:h}))||0===g)a+=g;a+='\n    <li class="main_nav_profile_sec stickers_sec">\n      <a href=\'/accounts/'+n((g=(g=b&&b.user,null==g||!1===g?g:g.username),"function"===typeof g?g.apply(b):g))+'/stickers\' class="main_nav_profile_link">\n        <svg class="sticker-ico" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.5 24.5">\n          <path class="sticker-ico__fill" d="M12.3 0L0 12.3C0 19 5.5 24.5 12.3 24.5S24.5 19 24.5 12.3 19 0 12.3 0z"></path>\n          <path class="sticker-ico__border" d="M12.3 0L0 12.3C0 19 5.5 24.5 12.3 24.5S24.5 19 24.5 12.3 19 0 12.3 0zm0 22.5c-5.2 0-9.6-4-10.2-9.2h3c4.5 0 8.2-3.7 8.2-8.2v-3c5.6.6 9.7 5.6 9.1 11.2-.5 5.2-4.9 9.2-10.1 9.2z"></path>\n        </svg>\n        <strong>';
if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"Stickers",l):p.call(b,"tr","Stickers",l)))||0===g)a+=g;a+='</strong>\n      </a>\n    </li>\n    <li class="main_nav_profile_sec messages_sec">\n      <a href=\'/accounts/'+n((g=(g=b&&b.user,null==g||!1===g?g:g.username),"function"===typeof g?g.apply(b):g))+"/"+n((g=(g=b&&b.user,null==g||!1===g?g:g.message_link_page),"function"===typeof g?g.apply(b):g))+'\' data-metric-tracker="js-wa-tc-Navigation-Index" class="main_nav_profile_link">\n        <span class="kong_ico" aria-hidden="true">m</span>\n        <strong>';
if((g=(k=d.tr||b&&b.tr,l={hash:{total_message_count:(g=b&&b.user,null==g||!1===g?g:g.total_message_count)},data:h},k?k.call(b,"Unread: {total_message_count}",l):p.call(b,"tr","Unread: {total_message_count}",l)))||0===g)a+=g;a+='</strong>\n      </a>\n    </li>\n    <li class="main_nav_profile_sec settings_sec">\n      <a href=\'/accounts/'+n((g=(g=b&&b.user,null==g||!1===g?g:g.username),"function"===typeof g?g.apply(b):g))+'/edit\' data-metric-tracker="js-wa-tc-Navigation-Settings" class="main_nav_profile_link">\n        <span class="kong_ico" aria-hidden="true">s</span>\n        <strong>';
if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"Settings",l):p.call(b,"tr","Settings",l)))||0===g)a+=g;a+='</strong>\n      </a>\n    </li>\n  </ul>\n  \x3c!-- Account Info End --\x3e\n  <div class="main_nav_categories">\n    \x3c!-- Stickers Start --\x3e\n    <dl id="main_nav_mykong_stickers" class="main_nav_category">\n      <dt class="main_nav_category_title pbs">\n        <a href="/stickers">\n          ';if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"New Sticker Pack &raquo;",l):
p.call(b,"tr","New Sticker Pack &raquo;",l)))||0===g)a+=g;a+='\n        </a>\n      </dt>\n      <dd class="main_nav_category_sect main-nav-sticker media">\n      ';if((g=d["if"].call(b,(g=b&&b.user,null==g||!1===g?g:g.sticker),{hash:{},inverse:q.program(9,function(a,b){var c,f;var g='\n        <p class="main-nav-sticker__empty">\n          ';if((a=(c=d.tr||a&&a.tr,f={hash:{},data:b},c?c.call(a,"There are no new sticker packs<br> available at this time.",f):p.call(a,"tr","There are no new sticker packs<br> available at this time.",
f)))||0===a)g+=a;return g+"\n        </p>\n      "},h),fn:q.program(7,function(a,b){var c;return'\n          <a href="/stickers/#sticker-pack-'+n((c=(c=(c=a&&a.user,null==c||!1===c?c:c.sticker),null==c||!1===c?c:c.id),"function"===typeof c?c.apply(a):c))+'" class="main-nav-sticker__img img">\n            <img alt="" src="'+n((c=(c=(c=a&&a.user,null==c||!1===c?c:c.sticker),null==c||!1===c?c:c.image_url),"function"===typeof c?c.apply(a):c))+'" />\n          </a>\n          <p class="bd">\n            <strong class="main-nav-sticker__name">\n              <a href="/stickers/#sticker-pack-'+
n((c=(c=(c=a&&a.user,null==c||!1===c?c:c.sticker),null==c||!1===c?c:c.id),"function"===typeof c?c.apply(a):c))+'">\n                '+n((c=(c=(c=a&&a.user,null==c||!1===c?c:c.sticker),null==c||!1===c?c:c.name),"function"===typeof c?c.apply(a):c))+'\n              </a>\n            </strong>\n            <span class="main-nav-sticker__desc">\n              '+n((c=(c=(c=a&&a.user,null==c||!1===c?c:c.sticker),null==c||!1===c?c:c.description),"function"===typeof c?c.apply(a):c))+'\n            </span>\n            <a class="main-nav-sticker__link" href="/stickers/#sticker-pack-'+
n((c=(c=(c=a&&a.user,null==c||!1===c?c:c.sticker),null==c||!1===c?c:c.id),"function"===typeof c?c.apply(a):c))+'">\n              Get this sticker pack!\n            </a>\n          </p>\n      '},h),data:h}))||0===g)a+=g;a+='\n      </dd>\n      <dd class="main_nav_category_footer">\n        <a href="/stickers">\n          ';if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"See all sticker packs &raquo;",l):p.call(b,"tr","See all sticker packs &raquo;",l)))||0===g)a+=g;a+='\n        </a>\n      </dd>\n    </dl>\n    \x3c!-- Stickers End --\x3e\n    \x3c!-- Friends Start --\x3e\n    <dl id="main_nav_mykong_friends" class="main_nav_category">\n      <dt class="main_nav_category_title pbs">\n        <a data-metric-tracker="js-wa-tc-Navigation-Find_Friends" href="/accounts/'+
n((g=(g=b&&b.user,null==g||!1===g?g:g.username),"function"===typeof g?g.apply(b):g))+'/friends">\n          ';if((g=d["if"].call(b,(g=b&&b.user,null==g||!1===g?g:g.has_friends_online),{hash:{},inverse:q.program(13,function(a,b){var c,f;var g="\n            ";if((a=(c=d.tr||a&&a.tr,f={hash:{},data:b},c?c.call(a,"Friends Online &raquo;",f):p.call(a,"tr","Friends Online &raquo;",f)))||0===a)g+=a;return g+"\n          "},h),fn:q.program(11,function(a,b){var c,f,g;var h="\n            ";if((c=(f=d.tr||
a&&a.tr,g={hash:{count:(c=a&&a.user,null==c||!1===c?c:c.friends_online_count)},data:b},f?f.call(a,"Friends Online ({count}) &raquo;",g):p.call(a,"tr","Friends Online ({count}) &raquo;",g)))||0===c)h+=c;return h+"\n          "},h),data:h}))||0===g)a+=g;a+='\n        </a>\n      </dt>\n      <dd class="main_nav_category_sect">\n        ';if((g=d["if"].call(b,(g=b&&b.user,null==g||!1===g?g:g.has_friends_online),{hash:{},inverse:q.program(18,function(a,b){var c="\n          ";if((a=q.invokePartial(f["navigation/mykong/_find_friends"],
"navigation/mykong/_find_friends",a,d,f,b))||0===a)c+=a;return c+"\n        "},h),fn:q.program(15,function(a,b){var f;var g='\n          <ul class="main_nav_friends_list">\n            ';if((f=d.each.call(a,(f=a&&a.user,null==f||!1===f?f:f.friends_online),{hash:{},inverse:q.noop,fn:q.program(16,c,b),data:b}))||0===f)g+=f;return g+"\n          </ul>\n        "},h),data:h}))||0===g)a+=g;a+='\n      </dd>\n      <dd class="main_nav_category_footer">\n        <a data-metric-tracker="js-wa-tc-Navigation-Activity_Feed" href="/community">\n          ';
if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"See all friend activity &raquo;",l):p.call(b,"tr","See all friend activity &raquo;",l)))||0===g)a+=g;a+='\n        </a>\n      </dd>\n    </dl>\n    \x3c!-- Friends End --\x3e\n    \x3c!-- Forums Start --\x3e\n    <dl id="main_nav_mykong_forums" class="main_nav_category">\n      <dt class="main_nav_category_title pbs"><a data-metric-tracker="js-wa-tc-Navigation-Forums" href="/forums">';if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"Forums &raquo;",
l):p.call(b,"tr","Forums &raquo;",l)))||0===g)a+=g;a+='</a></dt>\n      <dd class="main_nav_category_sect mtm mbn">\n        <ul class="main_nav_category_list">\n          ';if((g=q.invokePartial(f["navigation/mykong/_common_forums"],"navigation/mykong/_common_forums",b,d,f,h))||0===g)a+=g;a+="\n          ";if((g=d["if"].call(b,(g=b&&b.user,null==g||!1===g?g:g.moderator),{hash:{},inverse:q.program(22,function(a,b){var c,f,g;var h='\n          <li><a data-metric-tracker="js-wa-tc-Navigation-Forums" href=\''+
n((c=(c=a&&a.forums,null==c||!1===c?c:c.forum_games),"function"===typeof c?c.apply(a):c))+"'>";if((c=(f=d.tr||a&&a.tr,g={hash:{},data:b},f?f.call(a,"Forum Games",g):p.call(a,"tr","Forum Games",g)))||0===c)h+=c;return h+"</a></li>\n          "},h),fn:q.program(20,function(a,b){var c,f,g;var h='\n          <li><a data-metric-tracker="js-wa-tc-Navigation-Forums" href=\''+n((c=(c=a&&a.forums,null==c||!1===c?c:c.mod_forum),"function"===typeof c?c.apply(a):c))+"'>";if((c=(f=d.tr||a&&a.tr,g={hash:{},data:b},
f?f.call(a,"Mod Forums",g):p.call(a,"tr","Mod Forums",g)))||0===c)h+=c;return h+"</a></li>\n          "},h),data:h}))||0===g)a+=g;a+='\n          <li><a data-metric-tracker="js-wa-tc-Navigation-Forums" href=\''+n((g=(g=b&&b.forums,null==g||!1===g?g:g.off_topic),"function"===typeof g?g.apply(b):g))+"'>";if((g=(k=d.tr||b&&b.tr,l={hash:{},data:h},k?k.call(b,"Off-Topic",l):p.call(b,"tr","Off-Topic",l)))||0===g)a+=g;a+="</a></li>\n          ";if((g=q.invokePartial(f["navigation/mykong/_all_forums"],"navigation/mykong/_all_forums",
b,d,f,h))||0===g)a+=g;return a+"\n        </ul>\n      </dd>\n    </dl>\n    \x3c!-- Forums End --\x3e\n  </div>\n</div>"}))}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["navigation/mykong_tab"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);f=this.merge(f,a.partials);h=h||{};var c,g=this;return(c=d["if"].call(b,(c=b&&b.user,null==c||!1===c?c:c.authenticated),{hash:{},inverse:g.program(3,function(a,b){var c="\n  ";if((a=g.invokePartial(f["navigation/mykong/_mykong_guest"],"navigation/mykong/_mykong_guest",a,d,f,b))||0===
a)c+=a;return c+"\n"},h),fn:g.program(1,function(a,b){var c="\n  ";if((a=g.invokePartial(f["navigation/mykong/_mykong_user"],"navigation/mykong/_mykong_user",a,d,f,b))||0===a)c+=a;return c+"\n"},h),data:h}))||0===c?c:""});return this.HandlebarsTemplates["navigation/mykong_tab"]}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/epic_connections/authenticated"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);h=h||{};var c;f=this.escapeExpression;a='<h1 class="steam-link--title h2">Confirm Account</h1>\n<p class="steam-link--msg regtextLrg">You\'re already signed into Kongregate as <strong>';(c=d.username)?c=c.call(b,{hash:{},data:h}):(c=b&&b.username,c="function"===typeof c?
c.call(b,{hash:{},data:h}):c);a+=f(c)+'</strong>.</p>\n<p class="steam-link--user regtextLrg">\n  <img src="';(c=d.avatarUrl)?c=c.call(b,{hash:{},data:h}):(c=b&&b.avatarUrl,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(c)+'">\n  ';(c=d.username)?c=c.call(b,{hash:{},data:h}):(c=b&&b.username,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);return a+=f(c)+'\n</p>\n<p class="steam-link--cta regtextLrg">\n  <button class="js-link-account flatbtn">Link this account</button>\n  <a class="js-logout" href="#">Link a different account</a>\n</p>'});
return this.HandlebarsTemplates["single_page/epic_connections/authenticated"]}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/epic_connections/epic_already_linked"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);h=h||{};var c;f=this.escapeExpression;a='<h1 class="steam-link--title h2">Confirm Account</h1>\n<p class="steam-link--msg regtextLrg">\n  The Epic account ';(c=d.personaName)?c=c.call(b,{hash:{},data:h}):(c=b&&b.personaName,c="function"===typeof c?c.call(b,
{hash:{},data:h}):c);a+=f(c)+' is already linked with the Kongregate account\n  <em class="existing-username">';(c=d.existingUsername)?c=c.call(b,{hash:{},data:h}):(c=b&&b.existingUsername,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(c)+"</em>.\n  Would you like to link with <strong>";(c=d.username)?c=c.call(b,{hash:{},data:h}):(c=b&&b.username,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(c)+'</strong> instead?\n</p>\n<p class="steam-link--user regtextLrg">\n  <img src="';
(c=d.avatarUrl)?c=c.call(b,{hash:{},data:h}):(c=b&&b.avatarUrl,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(c)+'">\n  ';(c=d.username)?c=c.call(b,{hash:{},data:h}):(c=b&&b.username,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(c)+'\n</p>\n<p class="steam-link--cta regtextLrg">\n  <button class="js-force-connection flatbtn">Yes, change to ';(c=d.username)?c=c.call(b,{hash:{},data:h}):(c=b&&b.username,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);return a+=f(c)+'</button>\n  <a class="js-logout" href="#">Link a different account</a>\n</p>'});
return this.HandlebarsTemplates["single_page/epic_connections/epic_already_linked"]}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/epic_connections/error"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);return'<div class="steam-state--failure">\n  <h1 class="error-message h2 mbm">Unexpected Error</h1>\n  <p class="mbl">An unexpected error has occurred. Please try again in a few minutes.</p>\n  <p><button class="js-close flatbtn">Close</button></p>\n</div>'});return this.HandlebarsTemplates["single_page/epic_connections/error"]}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/epic_connections/forgot_password"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);return'<div class="section--header pbm mbl">\n  <h2 class="h2">Log In</h2>\n  <p class="h6_alt mts"><strong>Forgot your password?</strong></p>\n</div>\n<form class="js-forgot-password-form" action="/recovery_tokens.json" method="post">\n  <span class="js-forgot-password-error cntrError mbl" style="display: none;"></span>\n  <p class="mbl">\n    <label for="recovery_token[username_or_email]">\n      <strong>Username or Email Address</strong>\n    </label>\n    <input type="text" name="recovery_token[username_or_email]" />\n  </p>\n  <p class="mtl pts">\n    <input type="submit" value="Recover password" class="flatbtn" />\n  </p>\n</form>'});
return this.HandlebarsTemplates["single_page/epic_connections/forgot_password"]}).call(this);(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/epic_connections/forgot_password_success"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);return'<div class="recover-success section--header pbm mbl">\n  <h2 class="h2">A recovery token has been sent to your email address.</h2>\n</div>'});return this.HandlebarsTemplates["single_page/epic_connections/forgot_password_success"]}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/epic_connections/kong_already_linked"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);h=h||{};var c;f=this.escapeExpression;a='<h1 class="steam-link--title h2">Confirm Account</h1>\n<p class="steam-link--msg regtextLrg">\n  <strong>';(c=d.username)?c=c.call(b,{hash:{},data:h}):(c=b&&b.username,c="function"===typeof c?c.call(b,{hash:{},data:h}):
c);a+=f(c)+'</strong> is currently linked to the Epic account <strong class="existing-persona-name">';(c=d.existingPersonaName)?c=c.call(b,{hash:{},data:h}):(c=b&&b.existingPersonaName,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(c)+'</strong>.\n</p>\n<p class="steam-link--cta regtextLrg">\n  <button class="js-force-connection flatbtn">Link with ';(c=d.existingPersonaName)?c=c.call(b,{hash:{},data:h}):(c=b&&b.existingPersonaName,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);
return a+=f(c)+' instead</button>\n  <a class="js-close" href="#">Cancel</a>\n</p>'});return this.HandlebarsTemplates["single_page/epic_connections/kong_already_linked"]}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/epic_connections/sign_in"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);return'<div class="login-flow section js-child-content unit size1of2"></div>\n<div class="register-cta section unit size1of2">\n  <div class="section--header pbm mbl">\n    <h2 class="h2">Sign Up for Kongregate</h2>\n    <p class="h6_alt mts"><strong>Don\u2019t have a Kongregate Account?</strong></p>\n  </div>\n  <p>Sign up for Kongregate today to share your progress in select games across Kongregate.com, Epic,\n     Android, and iOS.</p>\n  <p class="mvl">On Kongregate you can show off to other users by earning achievements and high scores in\n     thousands of games across the site. Collect points to level up your account.</p>\n  <button class="js-create-account flatbtn">Create your account</button>\n</div>'});return this.HandlebarsTemplates["single_page/epic_connections/sign_in"]}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/epic_connections/sign_in_form"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);return'<div class="section--header pbm mbl">\n  <h2 class="h2">Log In</h2>\n  <p class="h6_alt mts"><strong>Have a Kongregate Account?</strong></p>\n</div>\n<form class="js-sign-in-form" action="/session.json" method="post">\n  <span class="js-error-message cntrError mbl" style="display: none;">\n    Invalid username or password\n  </span>\n  <p class="mbl">\n    <label for="username"><strong>Username or Email</strong></label>\n    <input type="text" name="username" />\n  </p>\n  <p class="mbl">\n    <label for="password">\n      <strong>Password</strong>\n      <em>(<a class="js-forgot-password" href="#">forget your password?</a>)</em>\n    </label>\n    <input type="password" name="password" />\n  </p>\n  <p class="mtl pts">\n    <input type="submit" value="Sign In"  class="flatbtn"/>\n  </p>\n</form>'});
return this.HandlebarsTemplates["single_page/epic_connections/sign_in_form"]}).call(this);(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/epic_connections/spinner"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);return'<span class="spinner spinner_big steam-lb-spinner">loading</span>'});return this.HandlebarsTemplates["single_page/epic_connections/spinner"]}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/epic_connections/success"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);return'<div class="steam-state--success">\n  <h1 class="link-success h1">Your accounts are now linked!</h1>\n  <button class="js-close flatbtn">Close</button>\n</div>'});return this.HandlebarsTemplates["single_page/epic_connections/success"]}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/steam_connections/authenticated"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);h=h||{};var c;f=this.escapeExpression;a='<h1 class="steam-link--title h2">Confirm Account</h1>\n<p class="steam-link--msg regtextLrg">You\'re already signed into Kongregate as <strong>';(c=d.username)?c=c.call(b,{hash:{},data:h}):(c=b&&b.username,c="function"===
typeof c?c.call(b,{hash:{},data:h}):c);a+=f(c)+'</strong>.</p>\n<p class="steam-link--user regtextLrg">\n  <img src="';(c=d.avatarUrl)?c=c.call(b,{hash:{},data:h}):(c=b&&b.avatarUrl,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(c)+'">\n  ';(c=d.username)?c=c.call(b,{hash:{},data:h}):(c=b&&b.username,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);return a+=f(c)+'\n</p>\n<p class="steam-link--cta regtextLrg">\n  <button class="js-link-account flatbtn">Link this account</button>\n  <a class="js-logout" href="#">Link a different account</a>\n</p>'});
return this.HandlebarsTemplates["single_page/steam_connections/authenticated"]}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/steam_connections/error"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);return'<div class="steam-state--failure">\n  <h1 class="error-message h2 mbm">Unexpected Error</h1>\n  <p class="mbl">An unexpected error has occurred. Please try again in a few minutes.</p>\n  <p><button class="js-close flatbtn">Close</button></p>\n</div>'});return this.HandlebarsTemplates["single_page/steam_connections/error"]}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/steam_connections/forgot_password"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);return'<div class="section--header pbm mbl">\n  <h2 class="h2">Log In</h2>\n  <p class="h6_alt mts"><strong>Forgot your password?</strong></p>\n</div>\n<form class="js-forgot-password-form" action="/recovery_tokens.json" method="post">\n  <span class="js-forgot-password-error cntrError mbl" style="display: none;"></span>\n  <p class="mbl">\n    <label for="recovery_token[username_or_email]">\n      <strong>Username or Email Address</strong>\n    </label>\n    <input type="text" name="recovery_token[username_or_email]" />\n  </p>\n  <p class="mtl pts">\n    <input type="submit" value="Recover password" class="flatbtn" />\n  </p>\n</form>'});
return this.HandlebarsTemplates["single_page/steam_connections/forgot_password"]}).call(this);(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/steam_connections/forgot_password_success"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);return'<div class="recover-success section--header pbm mbl">\n  <h2 class="h2">A recovery token has been sent to your email address.</h2>\n</div>'});return this.HandlebarsTemplates["single_page/steam_connections/forgot_password_success"]}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/steam_connections/kong_already_linked"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);h=h||{};var c;f=this.escapeExpression;a='<h1 class="steam-link--title h2">Confirm Account</h1>\n<p class="steam-link--msg regtextLrg">\n  <strong>';(c=d.username)?c=c.call(b,{hash:{},data:h}):(c=b&&b.username,c="function"===typeof c?c.call(b,{hash:{},data:h}):
c);a+=f(c)+'</strong> is currently linked to the Steam account <strong class="existing-persona-name">';(c=d.existingPersonaName)?c=c.call(b,{hash:{},data:h}):(c=b&&b.existingPersonaName,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(c)+'</strong>.\n</p>\n<p class="steam-link--cta regtextLrg">\n  <button class="js-force-connection flatbtn">Link with ';(c=d.existingPersonaName)?c=c.call(b,{hash:{},data:h}):(c=b&&b.existingPersonaName,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);
return a+=f(c)+' instead</button>\n  <a class="js-close" href="#">Cancel</a>\n</p>'});return this.HandlebarsTemplates["single_page/steam_connections/kong_already_linked"]}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/steam_connections/sign_in"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);return'<div class="login-flow section js-child-content unit size1of2"></div>\n<div class="register-cta section unit size1of2">\n  <div class="section--header pbm mbl">\n    <h2 class="h2">Sign Up for Kongregate</h2>\n    <p class="h6_alt mts"><strong>Don\u2019t have a Kongregate Account?</strong></p>\n  </div>\n  <p>Sign up for Kongregate today to share your progress in select games across Kongregate.com, Steam,\n     Android, and iOS.</p>\n  <p class="mvl">On Kongregate you can show off to other users by earning achievements and high scores in\n     thousands of games across the site. Collect points to level up your account.</p>\n  <button class="js-create-account flatbtn">Create your account</button>\n</div>'});return this.HandlebarsTemplates["single_page/steam_connections/sign_in"]}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/steam_connections/sign_in_form"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);return'<div class="section--header pbm mbl">\n  <h2 class="h2">Log In</h2>\n  <p class="h6_alt mts"><strong>Have a Kongregate Account?</strong></p>\n</div>\n<form class="js-sign-in-form" action="/session.json" method="post">\n  <span class="js-error-message cntrError mbl" style="display: none;">\n    Invalid username or password\n  </span>\n  <p class="mbl">\n    <label for="username"><strong>Username or Email</strong></label>\n    <input type="text" name="username" />\n  </p>\n  <p class="mbl">\n    <label for="password">\n      <strong>Password</strong>\n      <em>(<a class="js-forgot-password" href="#">forget your password?</a>)</em>\n    </label>\n    <input type="password" name="password" />\n  </p>\n  <p class="mtl pts">\n    <input type="submit" value="Sign In"  class="flatbtn"/>\n  </p>\n</form>'});
return this.HandlebarsTemplates["single_page/steam_connections/sign_in_form"]}).call(this);(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/steam_connections/spinner"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);return'<span class="spinner spinner_big steam-lb-spinner">loading</span>'});return this.HandlebarsTemplates["single_page/steam_connections/spinner"]}).call(this);
(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/steam_connections/steam_already_linked"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);h=h||{};var c;f=this.escapeExpression;a='<h1 class="steam-link--title h2">Confirm Account</h1>\n<p class="steam-link--msg regtextLrg">\n  The Steam account ';(c=d.personaName)?c=c.call(b,{hash:{},data:h}):(c=b&&b.personaName,c="function"===typeof c?c.call(b,
{hash:{},data:h}):c);a+=f(c)+' is already linked with the Kongregate account\n  <em class="existing-username">';(c=d.existingUsername)?c=c.call(b,{hash:{},data:h}):(c=b&&b.existingUsername,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(c)+"</em>.\n  Would you like to link with <strong>";(c=d.username)?c=c.call(b,{hash:{},data:h}):(c=b&&b.username,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(c)+'</strong> instead?\n</p>\n<p class="steam-link--user regtextLrg">\n  <img src="';
(c=d.avatarUrl)?c=c.call(b,{hash:{},data:h}):(c=b&&b.avatarUrl,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(c)+'">\n  ';(c=d.username)?c=c.call(b,{hash:{},data:h}):(c=b&&b.username,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);a+=f(c)+'\n</p>\n<p class="steam-link--cta regtextLrg">\n  <button class="js-force-connection flatbtn">Yes, change to ';(c=d.username)?c=c.call(b,{hash:{},data:h}):(c=b&&b.username,c="function"===typeof c?c.call(b,{hash:{},data:h}):c);return a+=f(c)+'</button>\n  <a class="js-logout" href="#">Link a different account</a>\n</p>'});
return this.HandlebarsTemplates["single_page/steam_connections/steam_already_linked"]}).call(this);(function(){this.HandlebarsTemplates||(this.HandlebarsTemplates={});this.HandlebarsTemplates["single_page/steam_connections/success"]=Handlebars.template(function(a,b,d,f,h){this.compilerInfo=[4,">= 1.0.0"];this.merge(d,a.helpers);return'<div class="steam-state--success">\n  <h1 class="link-success h1">Your accounts are now linked!</h1>\n  <button class="js-close flatbtn">Close</button>\n</div>'});return this.HandlebarsTemplates["single_page/steam_connections/success"]}).call(this);
(function(a){function b(a,b){return function(c){return l(a.call(this,c),b)}}function d(a){return function(b){return this.lang().ordinal(a.call(this,b))}}function f(){}function h(a){g(this,a)}function c(a){var b=this._data={},c=a.years||a.year||a.y||0,d=a.months||a.month||a.M||0,f=a.weeks||a.week||a.w||0,g=a.days||a.day||a.d||0,h=a.hours||a.hour||a.h||0,C=a.minutes||a.minute||a.m||0,l=a.seconds||a.second||a.s||0;a=a.milliseconds||a.millisecond||a.ms||0;this._milliseconds=a+1E3*l+6E4*C+36E5*h;this._days=
g+7*f;this._months=d+12*c;b.milliseconds=a%1E3;l+=k(a/1E3);b.seconds=l%60;C+=k(l/60);b.minutes=C%60;h+=k(C/60);b.hours=h%24;g+=k(h/24);g+=7*f;b.days=g%30;d+=k(g/30);b.months=d%12;c+=k(d/12);b.years=c}function g(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function k(a){return 0>a?Math.ceil(a):Math.floor(a)}function l(a,b){for(a+="";a.length<b;)a="0"+a;return a}function p(a,b,c){var d=b._milliseconds,f=b._days;b=b._months;d&&a._d.setTime(+a+d*c);f&&a.date(a.date()+f*c);b&&(d=a.date(),
a.date(1).month(a.month()+b*c).date(Math.min(d,a.daysInMonth())))}function n(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),f=0,g;for(g=0;g<c;g++)~~a[g]!==~~b[g]&&f++;return f+d}function q(a){if(!a)return m.fn._lang;!A[a]&&K&&require("./lang/"+a);return A[a]}function r(a){return a.match(/\[.*\]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function x(a){var b=a.match(L),c;var d=0;for(c=b.length;d<c;d++)b[d]=v[b[d]]?v[b[d]]:r(b[d]);return function(f){var g="";for(d=0;d<c;d++)g+=
"function"===typeof b[d].call?b[d].call(f,a):b[d];return g}}function u(a,b){function c(b){return a.lang().longDateFormat(b)||b}for(var d=5;d--&&M.test(b);)b=b.replace(M,c);D[b]||(D[b]=x(b));return D[b](a)}function B(a){switch(a){case "DDDD":return T;case "YYYY":return U;case "YYYYY":return V;case "S":case "SS":case "SSS":case "DDD":return W;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":case "a":case "A":return X;case "X":return Y;case "Z":case "ZZ":return N;case "T":return Z;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return aa;
default:return new RegExp(a.replace("\\",""))}}function w(a){var b,c=[];if(!a._d){for(b=0;7>b;b++)a._a[b]=c[b]=null==a._a[b]?2===b?1:0:a._a[b];c[3]+=a._tzh||0;c[4]+=a._tzm||0;b=new Date(0);a._useUTC?(b.setUTCFullYear(c[0],c[1],c[2]),b.setUTCHours(c[3],c[4],c[5],c[6])):(b.setFullYear(c[0],c[1],c[2]),b.setHours(c[3],c[4],c[5],c[6]));a._d=b}}function z(a){var b=a._f.match(L),c=a._i,d,f;a._a=[];for(d=0;d<b.length;d++)if((f=(B(b[d]).exec(c)||[])[0])&&(c=c.slice(c.indexOf(f)+f.length)),v[b[d]]){var g=f,
h=a,k=h._a;switch(b[d]){case "M":case "MM":k[1]=null==g?0:~~g-1;break;case "MMM":case "MMMM":f=q(h._l).monthsParse(g);null!=f?k[1]=f:h._isValid=!1;break;case "D":case "DD":case "DDD":case "DDDD":null!=g&&(k[2]=~~g);break;case "YY":k[0]=~~g+(68<~~g?1900:2E3);break;case "YYYY":case "YYYYY":k[0]=~~g;break;case "a":case "A":h._isPm="pm"===(g+"").toLowerCase();break;case "H":case "HH":case "h":case "hh":k[3]=~~g;break;case "m":case "mm":k[4]=~~g;break;case "s":case "ss":k[5]=~~g;break;case "S":case "SS":case "SSS":k[6]=
~~(1E3*("0."+g));break;case "X":h._d=new Date(1E3*parseFloat(g));break;case "Z":case "ZZ":h._useUTC=!0,(f=(g+"").match(ba))&&f[1]&&(h._tzh=~~f[1]),f&&f[2]&&(h._tzm=~~f[2]),f&&"+"===f[0]&&(h._tzh=-h._tzh,h._tzm=-h._tzm)}null==g&&(h._isValid=!1)}a._isPm&&12>a._a[3]&&(a._a[3]+=12);!1===a._isPm&&12===a._a[3]&&(a._a[3]=0);w(a)}function R(a,b,c,d,f){return f.relativeTime(b||1,!!c,a,d)}function G(a,b,c){b=c-b;c-=a.day();c>b&&(c-=7);c<b-7&&(c+=7);return Math.ceil(m(a).add("d",c).dayOfYear()/7)}function H(b){var c=
b._i,d=b._f;if(null===c||""===c)return null;"string"===typeof c&&(b._i=c=q().preparse(c));if(m.isMoment(c))b=g({},c),b._d=new Date(+c._d);else if(d)if("[object Array]"===Object.prototype.toString.call(d)){c=b;for(var f,k,l=99;c._f.length;){f=g({},c);f._f=c._f.pop();z(f);d=new h(f);if(d.isValid()){k=d;break}f=n(f._a,d.toArray());f<l&&(l=f,k=d)}g(c,k)}else z(b);else if(k=b,c=k._i,d=ca.exec(c),c===a)k._d=new Date;else if(d)k._d=new Date(+d[1]);else if("string"===typeof c)if(d=k._i,da.exec(d)){k._f="YYYY-MM-DDT";
for(c=0;4>c;c++)if(O[c][1].exec(d)){k._f+=O[c][0];break}N.exec(d)&&(k._f+=" Z");z(k)}else k._d=new Date(d);else"[object Array]"===Object.prototype.toString.call(c)?(k._a=c.slice(0),w(k)):k._d=c instanceof Date?new Date(+c):new Date(c);return new h(b)}function I(a,b){m.fn[a]=m.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),this):this._d["get"+c+b]()}}function S(a){m.duration.fn[a]=function(){return this._data[a]}}function J(a,b){m.duration.fn["as"+a]=function(){return+this/
b}}for(var m,y=Math.round,t,A={},K="undefined"!==typeof module&&module.exports,ca=/^\/?Date\((\-?\d+)/i,L=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,M=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,aa=/\d\d?/,W=/\d{1,3}/,T=/\d{3}/,U=/\d{1,4}/,V=/[+\-]?\d{1,6}/,X=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,N=/Z|[\+\-]\d\d:?\d\d/i,Z=/T/i,Y=/[\+\-]?\d+(\.\d{1,3})?/,
da=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,O=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ba=/([\+\-]|\d\d)/gi,E="Month Date Hours Minutes Seconds Milliseconds".split(" "),F={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},D={},P="DDD w W M D d".split(" "),Q="MDHhmswW".split(""),v={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,
a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),
5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");
return b+l(~~(a/60),2)+":"+l(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+l(~~(10*a/6),4)},X:function(){return this.unix()}};P.length;)t=P.pop(),v[t+"o"]=d(v[t]);for(;Q.length;)t=Q.pop(),v[t+t]=b(v[t],2);v.DDDD=b(v.DDD,3);f.prototype={set:function(a){var b;for(b in a){var c=a[b];"function"===typeof c?this[b]=c:this["_"+b]=c}},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},
_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++){if(!this._monthsParse[b]){var c=m([2E3,b]);c="^"+this.months(c,"")+"|^"+this.monthsShort(c,"");this._monthsParse[b]=new RegExp(c.replace(".",""),"i")}if(this._monthsParse[b].test(a))return b}},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},
_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,
function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b},meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){a=this._calendar[a];return"function"===typeof a?a.apply(b):a},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",
dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var f=this._relativeTime[c];return"function"===typeof f?f(a,b,c,d):f.replace(/%d/i,a)},pastFuture:function(a,b){a=this._relativeTime[0<a?"future":"past"];return"function"===typeof a?a(b):a.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return G(a,this._week.dow,this._week.doy)},_week:{dow:0,
doy:6}};m=function(a,b,c){return H({_i:a,_f:b,_l:c,_isUTC:!1})};m.utc=function(a,b,c){return H({_useUTC:!0,_isUTC:!0,_l:c,_i:a,_f:b})};m.unix=function(a){return m(1E3*a)};m.duration=function(a,b){var d=m.isDuration(a),f="number"===typeof a,g=d?a._data:f?{}:a;f&&(b?g[b]=a:g.milliseconds=a);b=new c(g);d&&a.hasOwnProperty("_lang")&&(b._lang=a._lang);return b};m.version="2.0.0";m.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";m.lang=function(a,b){if(!a)return m.fn._lang._abbr;b?(b.abbr=a,A[a]||(A[a]=new f),A[a].set(b)):
A[a]||q(a);m.duration.fn._lang=m.fn._lang=q(a)};m.langData=function(a){a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr);return q(a)};m.isMoment=function(a){return a instanceof h};m.isDuration=function(a){return a instanceof c};m.fn=h.prototype={clone:function(){return m(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1E3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return m.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},
toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){null==this._isValid&&(this._isValid=this._a?!n(this._a,(this._isUTC?m.utc(this._a):m(this._a)).toArray()):!isNaN(this._d.getTime()));return!!this._isValid},utc:function(){this._isUTC=!0;return this},local:function(){this._isUTC=!1;return this},format:function(a){a=u(this,a||m.defaultFormat);return this.lang().postformat(a)},add:function(a,b){a="string"===
typeof a?m.duration(+b,a):m.duration(a,b);p(this,a,1);return this},subtract:function(a,b){a="string"===typeof a?m.duration(+b,a):m.duration(a,b);p(this,a,-1);return this},diff:function(a,b,c){a=this._isUTC?m(a).utc():m(a).local();var d=6E4*(this.zone()-a.zone());b&&(b=b.replace(/s$/,""));if("year"===b||"month"===b){d=432E5*(this.daysInMonth()+a.daysInMonth());var f=12*(this.year()-a.year())+(this.month()-a.month());f+=(this-m(this).startOf("month")-(a-m(a).startOf("month")))/d;"year"===b&&(f/=12)}else d=
this-a-d,f="second"===b?d/1E3:"minute"===b?d/6E4:"hour"===b?d/36E5:"day"===b?d/864E5:"week"===b?d/6048E5:d;return c?f:k(f)},from:function(a,b){return m.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(m(),a)},calendar:function(){var a=this.diff(m().startOf("day"),"days",!0);a=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(a,this))},isLeapYear:function(){var a=
this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<m([this.year()]).zone()||this.zone()<m([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==a?b:this.add({d:a-b})},startOf:function(a){a=a.replace(/s$/,"");switch(a){case "year":this.month(0);case "month":this.date(1);case "week":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a&&
this.day(0);return this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)>+m(a).startOf(b)},isBefore:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)<+m(a).startOf(b)},isSame:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)===+m(a).startOf(b)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},
daysInMonth:function(){return m.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=y((m(this).startOf("day")-m(this).startOf("year"))/864E5)+1;return null==a?b:this.add("d",a-b)},isoWeek:function(a){var b=G(this,1,4);return null==a?b:this.add("d",7*(a-b))},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},lang:function(b){if(b===a)return this._lang;this._lang=q(b);return this}};for(t=0;t<E.length;t++)I(E[t].toLowerCase().replace(/s$/,""),E[t]);
I("year","FullYear");m.fn.days=m.fn.day;m.fn.weeks=m.fn.week;m.fn.isoWeeks=m.fn.isoWeek;m.duration.fn=c.prototype={weeks:function(){return k(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*this._months},humanize:function(a){var b=+this;var c=!a;var d=this.lang(),f=y(Math.abs(b)/1E3),g=y(f/60),h=y(g/60),k=y(h/24),l=y(k/365);f=45>f&&["s",f]||1===g&&["m"]||45>g&&["mm",g]||1===h&&["h"]||22>h&&["hh",h]||1===k&&["d"]||25>=k&&["dd",k]||45>=k&&["M"]||345>k&&["MM",y(k/
30)]||1===l&&["y"]||["yy",l];f[2]=c;f[3]=0<b;f[4]=d;c=R.apply({},f);a&&(c=this.lang().pastFuture(b,c));return this.lang().postformat(c)},lang:m.fn.lang};for(t in F)F.hasOwnProperty(t)&&(J(t,F[t]),S(t.toLowerCase()));J("Weeks",6048E5);m.lang("en",{ordinal:function(a){var b=a%10;return a+(1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}});K&&(module.exports=m);"undefined"===typeof ender&&(this.moment=m);"function"===typeof define&&define.amd&&define("moment",[],function(){return m})}).call(this);
KonduitEvent={INIT:"init",CONNECT:"connect",CONNECTED:"connected",DISCONNECT:"disconnect",LOGIN:"login",SWITCH_USER:"switch_user",JOIN_ROOM:"join_room",LEAVE_ROOM:"leave_room",USER_JOIN:"user_join",USER_DEPARTURE:"user_departure",USER_CHANGED:"user_changed",ROOM_MESSAGE:"room_message",SYSTEM_MESSAGE:"system_message",PRIVATE_MESSAGE:"private_message",ADMIN_MESSAGE:"admin_message",MESSAGE_ERROR:"message_error",SET_PRESENCE:"set_presence",GUEST_COUNT:"guest_count",ROOM_NOT_FOUND:"room_not_found",ROOM_FULL:"room_full",
REQUEST_CHAT_ROOM:"request_chat_room",CREATE_PRIVATE_ROOM:"create_private_room",DESTROY_PRIVATE_ROOM:"destroy_private_room",PRIVATE_ROOM_INVITATION:"private_room_invitation",PRIVATE_ROOM_KICK:"private_room_kick",PRIVATE_ROOM_INVITATION_SENT:"private_room_invitation_sent",JOIN_GUILD_ROOM:"join_guild_room",SILENCED:"silenced",PARTICIPATE:"participate",AMNESTY:"amnesty",API_INITIALIZED:"api_initialized",ADD_STATISTICS:"add_statistics",STATISTIC_UPDATED:"statistic_updated",STATISTIC_SUBMISSION:"statistic_submission",
STATISTICS_FLUSH:"statistics_flush",STATISTICS_FORCE_FLUSH:"statistics_force_flush",SET_ACCOMPLISHMENT_PROGRESS:"set_accomplishment_progress",NEW_HIGH_SCORE:"new_high_score",DISPLAY_SHOUT_BOX:"display_shout_box",DISPLAY_INVITATION_BOX:"display_invitation_box",SEND_PRIVATE_MESSAGE:"send_private_message",DISPLAY_FEED_POST_BOX:"display_feed_post_box",DISPLAY_SIGN_IN_LIGHTBOX:"display_sign_in_lightbox",DISPLAY_REGISTRATION_LIGHTBOX:"display_registration_lightbox",LIGHTBOX_OPENED:"lightbox_opened",LIGHTBOX_CLOSED:"lightbox_closed",
ACCOMPLISHMENT_TASK_PROGRESS:"accomplishment_task_progress",ACCOMPLISHMENT_COMPLETE:"accomplishment_complete",RESIZE_GAME:"resize_game",HANDLE_ITEM_CHECKOUT_REQUEST:"handle_item_checkout_request",KONDUIT_MESSAGE:"konduit_message",ANALYTICS_PAYLOAD:"analytics_payload",OP_EXTERNAL_MESSAGE:"ext.msg",OP_CONNECTED:"connected",OP_HELLO:"hello",OP_USER_INFO:"user.info",OP_SIGN_IN:"sign_in",PARAM_USER:"user",PARAM_USER_ID:"user_id",PARAM_GAME_AUTH_TOKEN:"auth_token",PURCHASE_RESULT:"purchase_result",PARAM_LOCALCONNECTION_ONLY:"localconnection_only",
CUSTOM_TAB_MESSAGE:"custom_tab_message",CUSTOM_TAB_SHOW:"custom_tab_show",CUSTOM_TAB_CLOSE:"custom_tab_close",CUSTOM_TAB_SHOWN:"custom_tab_shown",CUSTOM_TAB_CLEAR_MESSAGES:"custom_tab_clear_messages",OP_CHAT_TAB:"chat.tab",OP_CHAT_CLEAR_DIALOG:"chat.dlg.clear",OP_CHAT_DISPLAY:"chat.disp",OP_CHAT_MSG:"chat.msg",OP_CHAT_CANVAS_ELEMENT:"chat.elm",OP_CHAT_PRIVATE_MESSAGE:"chat.privateMessage",OP_CHAT_RESIZE_GAME:"chat.resizeGame",OP_CHAT_DISPLAY_INVITATION_BOX:"chat.invite",OP_CHAT_DISPLAY_FEED_POST_BOX:"chat.feedpost",
OP_CHAT_DISPLAY_REGISTRATION:"chat.registration",OP_CHAT_DISPLAY_SHOUT_BOX:"chat.shoutbox",PARAM_SHOUT_MESSAGE:"shout_message",PARAM_CANVAS_SIZE:"chat.canvas.size",PARAM_RESIZE_GAME_WIDTH:"chat.resizeGame.width",PARAM_RESIZE_GAME_HEIGHT:"chat.resizeGame.height",PARAM_INVITATION_MESSAGE:"invitation_message",PARAM_FRIEND_FILTER:"filter",PARAM_IMAGE_URI:"image_uri",PARAM_KV_PARAMS:"kv_params",PARAM_NAME:"name",PARAM_DESCRIPTION:"desc",PARAM_DATA:"data",OP_SHOUT_CALLBACK:"ext.shout_callback",PARAM_MESSAGE_TYPE:"ext.message_type",
PARAM_MESSAGE_RECIPIENTS:"ext.message_recipients",PARAM_ERROR:"error",PARAM_SUCCESS:"success",PARAM_REQUEST_ID:"req.id",OP_STATS_SUBMIT:"stat.submit",PARAM_STATS:"stats",ITEM_LIST:"mtx.item_list",ITEM_CHECKOUT:"mtx.checkout",PURCHASE_KREDS:"mtx.kred_purchase",ITEM_INSTANCES:"mtx.item_instances",USE_ITEM_INSTANCE:"mtx.use_item_instance",PARAM_PURCHASE_METHOD:"purchase_method",PARAM_ITEM_TAGS:"item_tags",PARAM_ITEMS:"items",PARAM_ORDER_INFO:"order_info",PARAM_ID:"id",ADS_INITIALIZE:"ads.initialize",
ADS_AVAILABLE:"ads.available",ADS_UNAVAILABLE:"ads.unavailable",ADS_SHOW_INCENTIVIZED:"ads.show_incentivized",AD_OPENED:"ads.ad_opened",AD_COMPLETED:"ads.ad_completed",AD_ABANDONED:"ads.ad_abandoned",PROCESSING_SAVE_SHARED_CONTENT:"processing_save_shared_content",SAVE_SHARED_CONTENT:"save_shared_content",SAVE_SHARED_CONTENT_COMPLETE:"shared_content_save_complete",LOAD_SHARED_CONTENT:"load_shared_content",BROWSE_SHARED_CONTENT:"browse_shared_content",OP_SAVE_SHARED_CONTENT:"save_shared_content",OP_BROWSE_SHARED_CONTENT:"browse_shared_content",
OP_LOAD_SHARED_CONTENT:"load_shared_content",OP_SHARED_CONTENT_SAVE_COMPLETE:"shared_content_save_complete",PARAM_CONTENT_TYPE:"content_type",PARAM_LABEL:"label",PARAM_IMAGE:"image",PARAM_PERMALINK:"permalink",OP_IMAGE_AVATAR_SUBMIT:"avatar.submit",OP_IMAGE_AVATAR_FINISHED:"avatar.finished",IMAGE_AVATAR_SUBMIT:"image_avatar_submit",IMAGE_AVATAR_COMPLETE:"image_avatar_complete",OP_ANALYTICS_PAYLOAD:"analytics.payload",HOLODECK_DATA:"holodeck_data",PARAM_HOLODECK_TYPE:"holodeck_type",FETCH_HISTORY:"fetch_history",
HISTORY_RECEIVED:"history_received",FAYE_DISCONNECT:"faye_disconnect"};KonduitChatErrorMessage={MESSAGE_TOO_LONG:"error_msg_too_long",RATE_LIMITED:"error_msg_rate_limit",STICKER:"error_msg_sticker"};KonduitPresenceType={CHAT:"chat",AWAY:"away"};
function subjectChanged(a){if($("select_type")){var b=$F("select_type");b&&""!==b&&$("abuse_form_submit").enable();""==b&&(updateDescriptionPrompt(!1,a,""),$("description_field").hide(),$("abuse_form_submit").disable());"ForumBanRequest"==b&&updateDescriptionPrompt(!0,a," Feel free to include links to specific forum posts:");"SharingPersonalInformation"==b?($("abuse_report_description_control_block").hide(),$("description_field").show(),$("abuse_form_submit").disable(),$("abuse_report_description_label_block").update('<p class="cntrMidlight pam mvm regtext">We take the unwanted sharing of personal information very seriously. For the quickest resolution, please email <a href="mailto:support@kongregate.com">support@kongregate.com</a> with details.</p>')):
$("abuse_report_description_control_block").show();"InappropriateChatReport"==b&&updateDescriptionPrompt(!0,a," We don't need chat logs:");"OtherAbuseReport"!=b&&"UnderageUserReport"!=b&&"PermabanRequest"!=b||updateDescriptionPrompt(!0,a,"");"InappropriateUsernameReport"!=b&&"InappropriateAvatarReport"!=b&&"InappropriateProfileReport"!=b||updateDescriptionPrompt(!1,a,"")}}
function updateDescriptionPrompt(a,b,d){b="Please describe your reason for reporting "+b+" using as much detail as possible."+d;a?$("abuse_report_description_label_block").update(b):$("abuse_report_description_label_block").update("Please add any other information that would be helpful.");$("description_field").show()}
function upd(a,b,d){a.checked||"always"==d?(d&&(index=a.id.substring(a.id.indexOf("[")+1,a.id.indexOf("]")),radio_id="handle["+index+"]",$(radio_id).checked="handle"),b&&b.show()):b&&b.hide()}
$j(function(){$(document).on("click",".js-activate-inline-login",function(a){active_user.isAuthenticated()||(a.preventDefault(),active_user.activateInlineLogin())});$(document).on("click",".js-activate-inline-registration",function(a){active_user.isAuthenticated()||(a.preventDefault(),active_user.activateInlineLogin({},!0))})});AjaxFileUploader=function(a){this.initialize(a)};
AjaxFileUploader.prototype={initialize:function(a){this._config=a;this._single_image=a.single_image;this._single_image=a.currentImageUrl||a.inputName&&a.inputName.match(/game_icon/)||this._single_image;var b={element:$(a.elementName),request:{endpoint:a.endpoint,forceMultipart:!0,inputName:a.inputName,params:a.params},multiple:!1,validation:{allowedExtensions:a.allowedExtensions||["jpeg","jpg","gif","png"]},failedUploadTextDisplay:{mode:"custom",responseProperty:"errors"},callbacks:{onComplete:this.onCompleteCallback.bind(this)},
text:{uploadButton:'<span id="game-icon-upload-button">Choose file</span>',dragZone:Prototype.Browser.IE?" ":"Drop files here to upload"},dragAndDrop:{hideDropzones:!1}};a.currentImageUrl?(b.text.uploadButton='<span id="game-icon-upload-button">Change image</span>',b.text.dragZone='<img src="'+a.currentImageUrl+'" alt="game icon" class="fineuploader_preview"/>'):a.screenshots&&(b.text.uploadButton='<span id="game-icon-upload-button">Choose screenshot</span>');this._uploader=new qq.FineUploader(b);
if(a.screenshots)for(b=0;b<a.screenshots.length;b++)$$("#"+this._config.elementName+" .qq-upload-button").first().insert({after:this.screenshotDiv(a.screenshots[b])})},screenshotDiv:function(a){var b='<div id="screenshot'+a.id+'" class="screenshot_img mtm">';b+="<a href='"+a.url+"' onclick='window.open(this.href);return false;'>";b+='<img src="'+a.url+'" alt="image" />';b=b+"</a>"+("<a href='#' onclick='AjaxFileUploader.prototype.destroyScreenshot("+a.id+"); return false' class='close_button h6'>Remove</a>");
return b+"</div>"},destroyScreenshot:function(a){new Ajax.Request(document.location.pathname.replace("edit","screenshots/"+a).replace("version/new","screenshots/"+a),{method:"delete",onComplete:function(){$("screenshot"+a).remove()}})},onCompleteCallback:function(a,b,d){d.success&&(this._single_image?($("game-icon-upload-button").update("Change image"),$$("#"+this._config.elementName+" .qq-upload-drop-area span").first().update('<img src="'+d.filename+'" alt="uploaded image" class="fineuploader_preview"/>')):
$$("#"+this._config.elementName+" .qq-upload-button").first().insert({after:this.screenshotDiv({url:d.filename,id:d.id})}))}};AvailabilityCheck=function(a,b){this.initialize(a,b)};
AvailabilityCheck.prototype={initialize:function(a,b){b||(b={});this.text_input=a;this.form_block=a.up(".form_block");this.generatedUsername=b.generatedUsername;this.validateLength=!!b.validateLength;this.blurHandler=this.request=null;this.show_checking=b.show_checking||function(){this.clear();this.form_block.insert({bottom:(new Element("span",{"class":"name_validation"})).update(tr8nProxy.tr("Checking availability&hellip;"))})};this.clear=b.clear||function(){$$(".name_validation").each(Element.remove)};
this.success=b.success||function(){this.clear();this.form_block.insert({bottom:(new Element("span",{"class":"name_validation validation_symbol availability_success"})).update(tr8nProxy.tr("Username available"))})};this.failure=b.failure||function(a){this.clear();this.form_block.insert({bottom:(new Element("span",{"class":"name_validation validation_symbol availability_failure"})).update(tr8nProxy.tr(a))})};Event.observe(a,"blur",this.blur.bind(this));Event.observe(a,"keyup",this.keyup.bind(this))},
blur:function(a){(this.checker||a.target.value)&&this.makeRequest(a)},keyup:function(a){this.request&&(this.request.transport.abort(),this.request=null,this.clear());this.checker&&clearTimeout(this.checker);this.checker=setTimeout(this.makeRequest.bind(this,a),1E3)},makeRequest:function(a){var b=a.target.value;if(this.generatedUsername&&this.generatedUsername==b)this.clear(),this.success();else if(0==b.length)this.validateLength&&(this.clear(),this.failure("Username can't be blank"));else if(4>b.length)this.validateLength&&
(this.clear(),this.failure("Username is too short"));else if(16<b.length)this.validateLength&&(this.clear(),this.failure("Username is too long"));else if(null==this.request){this.show_checking();var d=this;this.request=new Ajax.Request("/accounts/availability",{parameters:{username:a.target.value},method:"get",onSuccess:function(a){a=String(a.responseText).evalJSON();d.clear();a.success?d.success():d.failure(a.error)}})}}};
function hideAllButOne(a,b){$$(a).each(function(a){Element.hide(a)});Element.show(b)}
Base64=function(){return{encode:function(a){var b="",d,f=0;a=a.replace(/\r\n/g,"\n");var h="";var c=0;for(d=a.length;c<d;c++){var g=a.charCodeAt(c);128>g?h+=String.fromCharCode(g):(127<g&&2048>g?h+=String.fromCharCode(g>>6|192):(h+=String.fromCharCode(g>>12|224),h+=String.fromCharCode(g>>6&63|128)),h+=String.fromCharCode(g&63|128))}for(a=h;f<a.length;){g=a.charCodeAt(f++);h=a.charCodeAt(f++);c=a.charCodeAt(f++);d=g>>2;g=(g&3)<<4|h>>4;var k=(h&15)<<2|c>>6;var l=c&63;isNaN(h)?k=l=64:isNaN(c)&&(l=64);
b=b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)}return b},decode:function(a){var b="",d=0;for(a=a.replace(/[^A-Za-z0-9\+\/=]/g,"");d<a.length;){var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(d++));
var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(d++));var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(d++));var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(d++));f=f<<2|h>>4;h=(h&15)<<4|c>>2;var k=(c&3)<<6|g;b+=String.fromCharCode(f);64!=c&&(b+=String.fromCharCode(h));64!=g&&(b+=String.fromCharCode(k))}a=b;b="";for(c1=c2=c=0;c<a.length;)g=a.charCodeAt(c),128>g?(b+=String.fromCharCode(g),
c++):191<g&&224>g?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((g&31)<<6|c2&63),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((g&15)<<12|(c2&63)<<6|c3&63),c+=3);return b}}}();
CampaignAvatarPicker=function(a,b){var d=[],f=function(a){return(a.up("a")||a).readAttribute("data-avatar-id")},h=function(b){var c=f(b.element()),d="/accounts/"+active_user.username()+"/pick_campaign_avatar";new Ajax.Request(d,{parameters:{campaign_avatar_id:c},onCreate:function(){var b=$$(a).first();b.insert({after:new Element("img",{src:"/images/presentation/indicator_barbershop.gif",id:"campaign-avatar-picker-indicator"})});b.hide()},onSuccess:function(a){window.location.reload()},onFailure:function(b){alert("Sorry! We were unable to change your avatar. Please try again later.");
$$(a).first().show();$("campaign-avatar-picker-indicator").remove()}});b.preventDefault()},c=function(){$$(a+" li a").each(function(a){d.include(f(a))?(a.addClassName("locked"),a.observe("click",function(){}