!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("underscore",t):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var i=e._,n=e._=t();n.noConflict=function(){return e._=i,n}}())}(this,function(){function e(e,t){return t=null==t?e.length-1:+t,function(){for(var i=Math.max(arguments.length-t,0),n=Array(i),s=0;i>s;s++)n[s]=arguments[s+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(s=0;t>s;s++)o[s]=arguments[s];return o[t]=n,e.apply(this,o)}}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function i(e){return null===e}function n(e){return void 0===e}function s(e){return e===!0||e===!1||"[object Boolean]"===lt.call(e)}function o(e){return!(!e||1!==e.nodeType)}function a(e){var t="[object "+e+"]";return function(e){return lt.call(e)===t}}function r(e){return null!=e&&Mt(e.getInt8)&&Pt(e.buffer)}function l(e,t){return null!=e&&ct.call(e,t)}function c(e){return!Tt(e)&&bt(e)&&!isNaN(parseFloat(e))}function d(e){return wt(e)&&gt(e)}function u(e){return function(){return e}}function f(e){return function(t){var i=e(t);return"number"==typeof i&&i>=0&&_t>=i}}function p(e){return function(t){return null==t?void 0:t[e]}}function h(e){return vt?vt(e)&&!Ot(e):Ut(e)&&Nt.test(lt.call(e))}function v(e){for(var t={},i=e.length,n=0;i>n;++n)t[e[n]]=!0;return{contains:function(e){return t[e]},push:function(i){return t[i]=!0,e.push(i)}}}function g(e,t){t=v(t);var i=yt.length,n=e.constructor,s=Mt(n)&&n.prototype||st,o="constructor";for(l(e,o)&&!t.contains(o)&&t.push(o);i--;)o=yt[i],o in e&&e[o]!==s[o]&&!t.contains(o)&&t.push(o)}function b(e){if(!t(e))return[];if(pt)return pt(e);var i=[];for(var n in e)l(e,n)&&i.push(n);return mt&&g(e,i),i}function m(e){if(null==e)return!0;var t=zt(e);return"number"==typeof t&&(Bt(e)||kt(e)||Vt(e))?0===t:0===zt(b(e))}function y(e,t){var i=b(t),n=i.length;if(null==e)return!n;for(var s=Object(e),o=0;n>o;o++){var a=i[o];if(t[a]!==s[a]||!(a in s))return!1}return!0}function _(e){return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)}function k(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Rt(e))}function w(e,t,i,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var s=typeof e;return"function"!==s&&"object"!==s&&"object"!=typeof t?!1:x(e,t,i,n)}function x(e,t,i,n){e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var s=lt.call(e);if(s!==lt.call(t))return!1;if($t&&"[object Object]"==s&&Ot(e)){if(!Ot(t))return!1;s=Ht}switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return ot.valueOf.call(e)===ot.valueOf.call(t);case"[object ArrayBuffer]":case Ht:return x(k(e),k(t),i,n)}var o="[object Array]"===s;if(!o&&Ft(e)){var a=Rt(e);if(a!==Rt(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var r=e.constructor,c=t.constructor;if(r!==c&&!(Mt(r)&&r instanceof r&&Mt(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}i=i||[],n=n||[];for(var d=i.length;d--;)if(i[d]===e)return n[d]===t;if(i.push(e),n.push(t),o){if(d=e.length,d!==t.length)return!1;for(;d--;)if(!w(e[d],t[d],i,n))return!1}else{var u,f=b(e);if(d=f.length,b(t).length!==d)return!1;for(;d--;)if(u=f[d],!l(t,u)||!w(e[u],t[u],i,n))return!1}return i.pop(),n.pop(),!0}function C(e,t){return w(e,t)}function S(e){if(!t(e))return[];var i=[];for(var n in e)i.push(n);return mt&&g(e,i),i}function T(e){var t=zt(e);return function(i){if(null==i)return!1;var n=S(i);if(zt(n))return!1;for(var s=0;t>s;s++)if(!Mt(i[e[s]]))return!1;return e!==Yt||!Mt(i[Wt])}}function P(e){for(var t=b(e),i=t.length,n=Array(i),s=0;i>s;s++)n[s]=e[t[s]];return n}function E(e){for(var t=b(e),i=t.length,n=Array(i),s=0;i>s;s++)n[s]=[t[s],e[t[s]]];return n}function A(e){for(var t={},i=b(e),n=0,s=i.length;s>n;n++)t[e[i[n]]]=i[n];return t}function M(e){var t=[];for(var i in e)Mt(e[i])&&t.push(i);return t.sort()}function L(e,t){return function(i){var n=arguments.length;if(t&&(i=Object(i)),2>n||null==i)return i;for(var s=1;n>s;s++)for(var o=arguments[s],a=e(o),r=a.length,l=0;r>l;l++){var c=a[l];t&&void 0!==i[c]||(i[c]=o[c])}return i}}function $(){return function(){}}function I(e){if(!t(e))return{};if(ht)return ht(e);var i=$();i.prototype=e;var n=new i;return i.prototype=null,n}function D(e,t){var i=I(e);return t&&ni(i,t),i}function O(e){return t(e)?Bt(e)?e.slice():ii({},e):e}function B(e,t){return t(e),e}function j(e){return Bt(e)?e:[e]}function V(e){return _.toPath(e)}function R(e,t){for(var i=t.length,n=0;i>n;n++){if(null==e)return void 0;e=e[t[n]]}return i?e:void 0}function U(e,t,i){var s=R(e,V(t));return n(s)?i:s}function N(e,t){t=V(t);for(var i=t.length,n=0;i>n;n++){var s=t[n];if(!l(e,s))return!1;e=e[s]}return!!i}function F(e){return e}function z(e){return e=ni({},e),function(t){return y(t,e)}}function H(e){return e=V(e),function(t){return R(t,e)}}function W(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 3:return function(i,n,s){return e.call(t,i,n,s)};case 4:return function(i,n,s,o){return e.call(t,i,n,s,o)}}return function(){return e.apply(t,arguments)}}function K(e,i,n){return null==e?F:Mt(e)?W(e,i,n):t(e)&&!Bt(e)?z(e):H(e)}function q(e,t){return K(e,t,1/0)}function G(e,t,i){return _.iteratee!==q?_.iteratee(e,t):K(e,t,i)}function J(e,t,i){t=G(t,i);for(var n=b(e),s=n.length,o={},a=0;s>a;a++){var r=n[a];o[r]=t(e[r],r,e)}return o}function Y(){}function Q(e){return null==e?Y:function(t){return U(e,t)}}function X(e,t,i){var n=Array(Math.max(0,e));t=W(t,i,1);for(var s=0;e>s;s++)n[s]=t(s);return n}function Z(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}function ee(e){var t=function(t){return e[t]},i="(?:"+b(e).join("|")+")",n=RegExp(i),s=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(s,t):e}}function te(e){return"\\"+fi[e]}function ie(e,t,i){!t&&i&&(t=i),t=si({},t,_.templateSettings);var n=RegExp([(t.escape||ui).source,(t.interpolate||ui).source,(t.evaluate||ui).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(n,function(t,i,n,a,r){return o+=e.slice(s,r).replace(pi,te),s=r+t.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n";var a=t.variable;if(a){if(!hi.test(a))throw new Error("variable is not a bare identifier: "+a)}else o="with(obj||{}){\n"+o+"}\n",a="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var r;try{r=new Function(a,"_",o)}catch(l){throw l.source=o,l}var c=function(e){return r.call(this,e,_)};return c.source="function("+a+"){\n"+o+"}",c}function ne(e,t,i){t=V(t);var n=t.length;if(!n)return Mt(i)?i.call(e):i;for(var s=0;n>s;s++){var o=null==e?void 0:e[t[s]];void 0===o&&(o=i,s=n),e=Mt(o)?o.call(e):o}return e}function se(e){var t=++vi+"";return e?e+t:t}function oe(e){var t=_(e);return t._chain=!0,t}function ae(e,i,n,s,o){if(!(s instanceof i))return e.apply(n,o);var a=I(e.prototype),r=e.apply(a,o);return t(r)?r:a}function re(e,t,i,n){if(n=n||[],t||0===t){if(0>=t)return n.concat(e)}else t=1/0;for(var s=n.length,o=0,a=zt(e);a>o;o++){var r=e[o];if(mi(r)&&(Bt(r)||Vt(r)))if(t>1)re(r,t-1,i,n),s=n.length;else for(var l=0,c=r.length;c>l;)n[s++]=r[l++];else i||(n[s++]=r)}return n}function le(e,t){var i=function(n){var s=i.cache,o=""+(t?t.apply(this,arguments):n);return l(s,o)||(s[o]=e.apply(this,arguments)),s[o]};return i.cache={},i}function ce(e,t,i){var n,s,o,a,r=0;i||(i={});var l=function(){r=i.leading===!1?0:oi(),n=null,a=e.apply(s,o),n||(s=o=null)},c=function(){var c=oi();r||i.leading!==!1||(r=c);var d=t-(c-r);return s=this,o=arguments,0>=d||d>t?(n&&(clearTimeout(n),n=null),r=c,a=e.apply(s,o),n||(s=o=null)):n||i.trailing===!1||(n=setTimeout(l,d)),a};return c.cancel=function(){clearTimeout(n),r=0,n=s=o=null},c}function de(t,i,n){var s,o,a,r,l,c=function(){var e=oi()-o;i>e?s=setTimeout(c,i-e):(s=null,n||(r=t.apply(l,a)),s||(a=l=null))},d=e(function(e){return l=this,a=e,o=oi(),s||(s=setTimeout(c,i),n&&(r=t.apply(l,a))),r});return d.cancel=function(){clearTimeout(s),s=a=l=null},d}function ue(e,t){return gi(t,e)}function fe(e){return function(){return!e.apply(this,arguments)}}function pe(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}}function he(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}}function ve(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),1>=e&&(t=null),i}}function ge(e,t,i){t=G(t,i);for(var n,s=b(e),o=0,a=s.length;a>o;o++)if(n=s[o],t(e[n],n,e))return n}function be(e){return function(t,i,n){i=G(i,n);for(var s=zt(t),o=e>0?0:s-1;o>=0&&s>o;o+=e)if(i(t[o],o,t))return o;return-1}}function me(e,t,i,n){i=G(i,n,1);for(var s=i(t),o=0,a=zt(e);a>o;){var r=Math.floor((o+a)/2);i(e[r])<s?o=r+1:a=r}return o}function ye(e,t,i){return function(n,s,o){var a=0,r=zt(n);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+r,a):r=o>=0?Math.min(o+1,r):o+r+1;else if(i&&o&&r)return o=i(n,s),n[o]===s?o:-1;if(s!==s)return o=t(rt.call(n,a,r),d),o>=0?o+a:-1;for(o=e>0?a:r-1;o>=0&&r>o;o+=e)if(n[o]===s)return o;return-1}}function _e(e,t,i){var n=mi(e)?xi:ge,s=n(e,t,i);return void 0!==s&&-1!==s?e[s]:void 0}function ke(e,t){return _e(e,z(t))}function we(e,t,i){t=W(t,i);var n,s;if(mi(e))for(n=0,s=e.length;s>n;n++)t(e[n],n,e);else{var o=b(e);for(n=0,s=o.length;s>n;n++)t(e[o[n]],o[n],e)}return e}function xe(e,t,i){t=G(t,i);for(var n=!mi(e)&&b(e),s=(n||e).length,o=Array(s),a=0;s>a;a++){var r=n?n[a]:a;o[a]=t(e[r],r,e)}return o}function Ce(e){var t=function(t,i,n,s){var o=!mi(t)&&b(t),a=(o||t).length,r=e>0?0:a-1;for(s||(n=t[o?o[r]:r],r+=e);r>=0&&a>r;r+=e){var l=o?o[r]:r;n=i(n,t[l],l,t)}return n};return function(e,i,n,s){var o=arguments.length>=3;return t(e,W(i,s,4),n,o)}}function Se(e,t,i){var n=[];return t=G(t,i),we(e,function(e,i,s){t(e,i,s)&&n.push(e)}),n}function Te(e,t,i){return Se(e,fe(G(t)),i)}function Pe(e,t,i){t=G(t,i);for(var n=!mi(e)&&b(e),s=(n||e).length,o=0;s>o;o++){var a=n?n[o]:o;if(!t(e[a],a,e))return!1}return!0}function Ee(e,t,i){t=G(t,i);for(var n=!mi(e)&&b(e),s=(n||e).length,o=0;s>o;o++){var a=n?n[o]:o;if(t(e[a],a,e))return!0}return!1}function Ae(e,t,i,n){return mi(e)||(e=P(e)),("number"!=typeof i||n)&&(i=0),Si(e,t,i)>=0}function Me(e,t){return xe(e,H(t))}function Le(e,t){return Se(e,z(t))}function $e(e,t,i){var n,s,o=-(1/0),a=-(1/0);if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=mi(e)?e:P(e);for(var r=0,l=e.length;l>r;r++)n=e[r],null!=n&&n>o&&(o=n)}else t=G(t,i),we(e,function(e,i,n){s=t(e,i,n),(s>a||s===-(1/0)&&o===-(1/0))&&(o=e,a=s)});return o}function Ie(e,t,i){var n,s,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=mi(e)?e:P(e);for(var r=0,l=e.length;l>r;r++)n=e[r],null!=n&&o>n&&(o=n)}else t=G(t,i),we(e,function(e,i,n){s=t(e,i,n),(a>s||s===1/0&&o===1/0)&&(o=e,a=s)});return o}function De(e,t,i){if(null==t||i)return mi(e)||(e=P(e)),e[Z(e.length-1)];var n=mi(e)?O(e):P(e),s=zt(n);t=Math.max(Math.min(t,s),0);for(var o=s-1,a=0;t>a;a++){var r=Z(a,o),l=n[a];n[a]=n[r],n[r]=l}return n.slice(0,t)}function Oe(e){return De(e,1/0)}function Be(e,t,i){var n=0;return t=G(t,i),Me(xe(e,function(e,i,s){return{value:e,index:n++,criteria:t(e,i,s)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")}function je(e,t){return function(i,n,s){var o=t?[[],[]]:{};return n=G(n,s),we(i,function(t,s){var a=n(t,s,i);e(o,t,a)}),o}}function Ve(e){return e?Bt(e)?rt.call(e):kt(e)?e.match(Di):mi(e)?xe(e,F):P(e):[]}function Re(e){return null==e?0:mi(e)?e.length:b(e).length}function Ue(e,t,i){return t in i}function Ne(e,t,i){return rt.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))}function Fe(e,t,i){return null==e||e.length<1?null==t||i?void 0:[]:null==t||i?e[0]:Ne(e,e.length-t)}function ze(e,t,i){return rt.call(e,null==t||i?1:t)}function He(e,t,i){return null==e||e.length<1?null==t||i?void 0:[]:null==t||i?e[e.length-1]:ze(e,Math.max(0,e.length-t))}function We(e){return Se(e,Boolean)}function Ke(e,t){return re(e,t,!1)}function qe(e,t,i,n){s(t)||(n=i,i=t,t=!1),null!=i&&(i=G(i,n));for(var o=[],a=[],r=0,l=zt(e);l>r;r++){var c=e[r],d=i?i(c,r,e):c;t&&!i?(r&&a===d||o.push(c),a=d):i?Ae(a,d)||(a.push(d),o.push(c)):Ae(o,c)||o.push(c)}return o}function Ge(e){for(var t=[],i=arguments.length,n=0,s=zt(e);s>n;n++){var o=e[n];if(!Ae(t,o)){var a;for(a=1;i>a&&Ae(arguments[a],o);a++);a===i&&t.push(o)}}return t}function Je(e){for(var t=e&&$e(e,zt).length||0,i=Array(t),n=0;t>n;n++)i[n]=Me(e,n);return i}function Ye(e,t){for(var i={},n=0,s=zt(e);s>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i}function Qe(e,t,i){null==t&&(t=e||0,e=0),i||(i=e>t?-1:1);for(var n=Math.max(Math.ceil((t-e)/i),0),s=Array(n),o=0;n>o;o++,e+=i)s[o]=e;return s}function Xe(e,t){if(null==t||1>t)return[];for(var i=[],n=0,s=e.length;s>n;)i.push(rt.call(e,n,n+=t));return i}function Ze(e,t){return e._chain?_(t).chain():t}function et(e){return we(M(e),function(t){var i=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return at.apply(e,arguments),Ze(this,i.apply(_,e))}}),_}var tt="1.13.1",it="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},nt=Array.prototype,st=Object.prototype,ot="undefined"!=typeof Symbol?Symbol.prototype:null,at=nt.push,rt=nt.slice,lt=st.toString,ct=st.hasOwnProperty,dt="undefined"!=typeof ArrayBuffer,ut="undefined"!=typeof DataView,ft=Array.isArray,pt=Object.keys,ht=Object.create,vt=dt&&ArrayBuffer.isView,gt=isNaN,bt=isFinite,mt=!{toString:null}.propertyIsEnumerable("toString"),yt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],_t=Math.pow(2,53)-1,kt=a("String"),wt=a("Number"),xt=a("Date"),Ct=a("RegExp"),St=a("Error"),Tt=a("Symbol"),Pt=a("ArrayBuffer"),Et=a("Function"),At=it.document&&it.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof At&&(Et=function(e){return"function"==typeof e||!1});var Mt=Et,Lt=a("Object"),$t=ut&&Lt(new DataView(new ArrayBuffer(8))),It="undefined"!=typeof Map&&Lt(new Map),Dt=a("DataView"),Ot=$t?r:Dt,Bt=ft||a("Array"),jt=a("Arguments");!function(){jt(arguments)||(jt=function(e){return l(e,"callee")})}();var Vt=jt,Rt=p("byteLength"),Ut=f(Rt),Nt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Ft=dt?h:u(!1),zt=p("length");_.VERSION=tt,_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return String(this._wrapped)};var Ht="[object DataView]",Wt="forEach",Kt="has",qt=["clear","delete"],Gt=["get",Kt,"set"],Jt=qt.concat(Wt,Gt),Yt=qt.concat(Gt),Qt=["add"].concat(qt,Wt,Kt),Xt=It?T(Jt):a("Map"),Zt=It?T(Yt):a("WeakMap"),ei=It?T(Qt):a("Set"),ti=a("WeakSet"),ii=L(S),ni=L(b),si=L(S,!0);_.toPath=j,_.iteratee=q;var oi=Date.now||function(){return(new Date).getTime()},ai={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ri=ee(ai),li=A(ai),ci=ee(li),di=_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},ui=/(.)^/,fi={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},pi=/\\|'|\r|\n|\u2028|\u2029/g,hi=/^\s*(\w|\$)+\s*$/,vi=0,gi=e(function(e,t){var i=gi.placeholder,n=function(){for(var s=0,o=t.length,a=Array(o),r=0;o>r;r++)a[r]=t[r]===i?arguments[s++]:t[r];for(;s<arguments.length;)a.push(arguments[s++]);return ae(e,n,this,this,a)};return n});gi.placeholder=_;var bi=e(function(t,i,n){if(!Mt(t))throw new TypeError("Bind must be called on a function");var s=e(function(e){return ae(t,s,i,this,n.concat(e))});return s}),mi=f(zt),yi=e(function(e,t){t=re(t,!1,!1);var i=t.length;if(1>i)throw new Error("bindAll must be passed function names");for(;i--;){var n=t[i];e[n]=bi(e[n],e)}return e}),_i=e(function(e,t,i){return setTimeout(function(){return e.apply(null,i)},t)}),ki=gi(_i,_,1),wi=gi(ve,2),xi=be(1),Ci=be(-1),Si=ye(1,xi,me),Ti=ye(-1,Ci),Pi=Ce(1),Ei=Ce(-1),Ai=e(function(e,t,i){var n,s;return Mt(t)?s=t:(t=V(t),n=t.slice(0,-1),t=t[t.length-1]),xe(e,function(e){var o=s;if(!o){if(n&&n.length&&(e=R(e,n)),null==e)return void 0;o=e[t]}return null==o?o:o.apply(e,i)})}),Mi=je(function(e,t,i){l(e,i)?e[i].push(t):e[i]=[t]}),Li=je(function(e,t,i){e[i]=t}),$i=je(function(e,t,i){l(e,i)?e[i]++:e[i]=1}),Ii=je(function(e,t,i){e[i?0:1].push(t)},!0),Di=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,Oi=e(function(e,t){var i={},n=t[0];if(null==e)return i;Mt(n)?(t.length>1&&(n=W(n,t[1])),t=S(e)):(n=Ue,t=re(t,!1,!1),e=Object(e));for(var s=0,o=t.length;o>s;s++){var a=t[s],r=e[a];n(r,a,e)&&(i[a]=r)}return i}),Bi=e(function(e,t){var i,n=t[0];return Mt(n)?(n=fe(n),t.length>1&&(i=t[1])):(t=xe(re(t,!1,!1),String),n=function(e,i){return!Ae(t,i)}),Oi(e,n,i)}),ji=e(function(e,t){return t=re(t,!0,!0),Se(e,function(e){return!Ae(t,e)})}),Vi=e(function(e,t){return ji(e,t)}),Ri=e(function(e){return qe(re(e,!0,!0))}),Ui=e(Je);we(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=nt[e];_.prototype[e]=function(){var i=this._wrapped;return null!=i&&(t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0]),Ze(this,i)}}),we(["concat","join","slice"],function(e){var t=nt[e];_.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Ze(this,e)}});var Ni={__proto__:null,VERSION:tt,restArguments:e,isObject:t,isNull:i,isUndefined:n,isBoolean:s,isElement:o,isString:kt,isNumber:wt,isDate:xt,isRegExp:Ct,isError:St,isSymbol:Tt,isArrayBuffer:Pt,isDataView:Ot,isArray:Bt,isFunction:Mt,isArguments:Vt,isFinite:c,isNaN:d,isTypedArray:Ft,isEmpty:m,isMatch:y,isEqual:C,isMap:Xt,isWeakMap:Zt,isSet:ei,isWeakSet:ti,keys:b,allKeys:S,values:P,pairs:E,invert:A,functions:M,methods:M,extend:ii,extendOwn:ni,assign:ni,defaults:si,create:D,clone:O,tap:B,get:U,has:N,mapObject:J,identity:F,constant:u,noop:Y,toPath:j,property:H,propertyOf:Q,matcher:z,matches:z,times:X,random:Z,now:oi,escape:ri,unescape:ci,templateSettings:di,template:ie,result:ne,uniqueId:se,chain:oe,iteratee:q,partial:gi,bind:bi,bindAll:yi,memoize:le,delay:_i,defer:ki,throttle:ce,debounce:de,wrap:ue,negate:fe,compose:pe,after:he,before:ve,once:wi,findKey:ge,findIndex:xi,findLastIndex:Ci,sortedIndex:me,indexOf:Si,lastIndexOf:Ti,find:_e,detect:_e,findWhere:ke,each:we,forEach:we,map:xe,collect:xe,reduce:Pi,foldl:Pi,inject:Pi,reduceRight:Ei,foldr:Ei,filter:Se,select:Se,reject:Te,every:Pe,all:Pe,some:Ee,any:Ee,contains:Ae,includes:Ae,include:Ae,invoke:Ai,pluck:Me,where:Le,max:$e,min:Ie,shuffle:Oe,sample:De,sortBy:Be,groupBy:Mi,indexBy:Li,countBy:$i,partition:Ii,toArray:Ve,size:Re,pick:Oi,omit:Bi,first:Fe,head:Fe,take:Fe,initial:Ne,last:He,rest:ze,tail:ze,drop:ze,compact:We,flatten:Ke,without:Vi,uniq:qe,unique:qe,union:Ri,intersection:Ge,difference:ji,unzip:Je,transpose:Je,zip:Ui,object:Ye,range:Qe,chunk:Xe,mixin:et,"default":_},Fi=et(Ni);return Fi._=Fi,Fi}),function(){var e,t=this,i=t.Backbone,n=Array.prototype.slice,s=Array.prototype.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="0.9.2";var o=t._;o||"undefined"==typeof require||(o=require("underscore"));var a=t.jQuery||t.Zepto||t.ender;e.setDomLibrary=function(e){a=e},e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var r=/\s+/,l=e.Events={on:function(e,t,i){var n,s,o,a,l;if(!t)return this;for(e=e.split(r),n=this._callbacks||(this._callbacks={});s=e.shift();)l=n[s],o=l?l.tail:{},o.next=a={},o.context=i,o.callback=t,n[s]={tail:a,next:l?l.next:o};return this},off:function(e,t,i){var n,s,a,l,c,d;if(s=this._callbacks){if(!(e||t||i))return delete this._callbacks,this;for(e=e?e.split(r):o.keys(s);n=e.shift();)if(a=s[n],delete s[n],a&&(t||i))for(l=a.tail;(a=a.next)!==l;)c=a.callback,d=a.context,(t&&c!==t||i&&d!==i)&&this.on(n,c,d);return this}},trigger:function(e){var t,i,s,o,a,l,c;if(!(s=this._callbacks))return this;for(l=s.all,e=e.split(r),c=n.call(arguments,1);t=e.shift();){if(i=s[t])for(o=i.tail;(i=i.next)!==o;)i.callback.apply(i.context||this,c);if(i=l)for(o=i.tail,a=[t].concat(c);(i=i.next)!==o;)i.callback.apply(i.context||this,a)}return this}};l.bind=l.on,l.unbind=l.off;var c=e.Model=function(e,t){var i;e||(e={}),t&&t.parse&&(e=this.parse(e)),(i=T(this,"defaults"))&&(e=o.extend({},i,e)),t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=o.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=o.clone(this.attributes),this.initialize.apply(this,arguments)};o.extend(c.prototype,l,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return o.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var i=this.get(e);return this._escapedAttributes[e]=o.escape(null==i?"":""+i)},has:function(e){return null!=this.get(e)},set:function(e,t,i){var n,s,a;if(o.isObject(e)||null==e?(n=e,i=t):(n={},n[e]=t),i||(i={}),!n)return this;if(n instanceof c&&(n=n.attributes),i.unset)for(s in n)n[s]=void 0;if(!this._validate(n,i))return!1;this.idAttribute in n&&(this.id=n[this.idAttribute]);var r=i.changes={},l=this.attributes,d=this._escapedAttributes,u=this._previousAttributes||{};for(s in n)a=n[s],(!o.isEqual(l[s],a)||i.unset&&o.has(l,s))&&(delete d[s],(i.silent?this._silent:r)[s]=!0),i.unset?delete l[s]:l[s]=a,o.isEqual(u[s],a)&&o.has(l,s)==o.has(u,s)?(delete this.changed[s],delete this._pending[s]):(this.changed[s]=a,i.silent||(this._pending[s]=!0));return i.silent||this.change(i),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(o.clone(this.attributes),e)},fetch:function(t){t=t?o.clone(t):{};var i=this,n=t.success;return t.success=function(e,s,o){return i.set(i.parse(e,o),t)?void(n&&n(i,e)):!1},t.error=e.wrapError(t.error,i,t),(this.sync||e.sync).call(this,"read",this,t)},save:function(t,i,n){var s,a;if(o.isObject(t)||null==t?(s=t,n=i):(s={},s[t]=i),n=n?o.clone(n):{},n.wait){if(!this._validate(s,n))return!1;a=o.clone(this.attributes)}var r=o.extend({},n,{silent:!0});if(s&&!this.set(s,n.wait?r:n))return!1;var l=this,c=n.success;n.success=function(e,t,i){var a=l.parse(e,i);return n.wait&&(delete n.wait,a=o.extend(s||{},a)),l.set(a,n)?void(c?c(l,e):l.trigger("sync",l,e,n)):!1},n.error=e.wrapError(n.error,l,n);var d=this.isNew()?"create":"update",u=(this.sync||e.sync).call(this,d,this,n);return n.wait&&this.set(a,r),u},destroy:function(t){t=t?o.clone(t):{};var i=this,n=t.success,s=function(){i.trigger("destroy",i,i.collection,t)};if(this.isNew())return s(),!1;t.success=function(e){t.wait&&s(),n?n(i,e):i.trigger("sync",i,e,t)},t.error=e.wrapError(t.error,i,t);var a=(this.sync||e.sync).call(this,"delete",this,t);return t.wait||s(),a},url:function(){var e=T(this,"urlRoot")||T(this.collection,"url")||P();return this.isNew()?e:e+("/"==e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var i in this._silent)this._pending[i]=!0;var n=o.extend({},e.changes,this._silent);this._silent={};for(var i in n)this.trigger("change:"+i,this,this.get(i),e);if(t)return this;for(;!o.isEmpty(this._pending);){this._pending={},this.trigger("change",this,e);for(var i in this.changed)this._pending[i]||this._silent[i]||delete this.changed[i];this._previousAttributes=o.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?o.has(this.changed,e):!o.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?o.clone(this.changed):!1;var t,i=!1,n=this._previousAttributes;for(var s in e)o.isEqual(n[s],t=e[s])||((i||(i={}))[s]=t);return i},previous:function(e){return arguments.length&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=o.extend({},this.attributes,e);var i=this.validate(e,t);return i?(t&&t.error?t.error(this,i,t):this.trigger("error",this,i,t),!1):!0}});var d=e.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};o.extend(d.prototype,l,{model:c,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var i,n,a,r,l,c,d={},u={},f=[];for(t||(t={}),e=o.isArray(e)?e.slice():[e],i=0,a=e.length;a>i;i++){if(!(r=e[i]=this._prepareModel(e[i],t)))throw new Error("Can't add an invalid model to a collection");l=r.cid,c=r.id,d[l]||this._byCid[l]||null!=c&&(u[c]||this._byId[c])?f.push(i):d[l]=u[c]=r}for(i=f.length;i--;)e.splice(f[i],1);for(i=0,a=e.length;a>i;i++)(r=e[i]).on("all",this._onModelEvent,this),this._byCid[r.cid]=r,null!=r.id&&(this._byId[r.id]=r);if(this.length+=a,n=null!=t.at?t.at:this.models.length,s.apply(this.models,[n,0].concat(e)),this.comparator&&this.sort({silent:!0}),t.silent)return this;for(i=0,a=this.models.length;a>i;i++)d[(r=this.models[i]).cid]&&(t.index=i,r.trigger("add",r,this,t));return this},remove:function(e,t){var i,n,s,a;for(t||(t={}),e=o.isArray(e)?e.slice():[e],i=0,n=e.length;n>i;i++)a=this.getByCid(e[i])||this.get(e[i]),a&&(delete this._byId[a.id],delete this._byCid[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,t.silent||(t.index=s,a.trigger("remove",a,this,t)),this._removeReference(a));return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,o.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return o.isEmpty(e)?[]:this.filter(function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},sort:function(e){if(e||(e={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=o.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return o.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var i=0,n=this.models.length;n>i;i++)this._removeReference(this.models[i]);return this._reset(),this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(t){t=t?o.clone(t):{},void 0===t.parse&&(t.parse=!0);var i=this,n=t.success;return t.success=function(e,s,o){i[t.add?"add":"reset"](i.parse(e,o),t),n&&n(i,e)},t.error=e.wrapError(t.error,i,t),(this.sync||e.sync).call(this,"read",this,t)},create:function(e,t){var i=this;if(t=t?o.clone(t):{},e=this._prepareModel(e,t),!e)return!1;t.wait||i.add(e,t);var n=t.success;return t.success=function(s,o,a){t.wait&&i.add(s,t),n?n(s,o):s.trigger("sync",e,o,t)},e.save(null,t),e},parse:function(e,t){return e},chain:function(){return o(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(t||(t={}),e instanceof c)e.collection||(e.collection=this);else{var i=e;t.collection=this,e=new this.model(i,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){("add"!=e&&"remove"!=e||i==this)&&("destroy"==e&&this.remove(t,n),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments))}});var u=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];o.each(u,function(e){d.prototype[e]=function(){return o[e].apply(o,[this.models].concat(o.toArray(arguments)))}});var f=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},p=/:\w+/g,h=/\*\w+/g,v=/[-[\]{}()+?.,\\^$|#\s]/g;o.extend(f.prototype,l,{initialize:function(){},route:function(t,i,n){return e.history||(e.history=new g),o.isRegExp(t)||(t=this._routeToRegExp(t)),n||(n=this[i]),e.history.route(t,o.bind(function(s){var o=this._extractParameters(t,s);n&&n.apply(this,o),this.trigger.apply(this,["route:"+i].concat(o)),e.history.trigger("route",this,i,o)},this)),this},navigate:function(t,i){e.history.navigate(t,i)},_bindRoutes:function(){if(this.routes){var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var i=0,n=e.length;n>i;i++)this.route(e[i][0],e[i][1],this[e[i][1]])}},_routeToRegExp:function(e){return e=e.replace(v,"\\$&").replace(p,"([^/]+)").replace(h,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var g=e.History=function(){this.handlers=[],o.bindAll(this,"checkUrl")},b=/^[#\/]/,m=/msie [\w.]+/;g.started=!1,o.extend(g.prototype,l,{interval:50,getHash:function(e){var t=e?e.location:window.location,i=t.href.match(/#(.*)$/);return i?i[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||t){e=window.location.pathname;var i=window.location.search;i&&(e+=i)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(b,"")},start:function(e){if(g.started)throw new Error("Backbone.history has already been started");g.started=!0,this.options=o.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment(),i=document.documentMode,n=m.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);n&&(this.iframe=a('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?a(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!n?a(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var s=window.location,r=s.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!r?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&r&&s.hash&&(this.fragment=this.getHash().replace(b,""),window.history.replaceState({},document.title,s.protocol+"//"+s.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){a(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),g.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t==this.fragment?!1:(this.iframe&&this.navigate(t),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(e){var t=this.fragment=this.getFragment(e),i=o.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return i},navigate:function(e,t){if(!g.started)return!1;t&&t!==!0||(t={trigger:t});var i=(e||"").replace(b,"");this.fragment!=i&&(this._hasPushState?(0!=i.indexOf(this.options.root)&&(i=this.options.root+i),this.fragment=i,window.history[t.replace?"replaceState":"pushState"]({},document.title,i)):this._wantsHashChange?(this.fragment=i,this._updateHash(window.location,i,t.replace),this.iframe&&i!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),
this._updateHash(this.iframe.location,i,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e))},_updateHash:function(e,t,i){i?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var y=e.View=function(e){this.cid=o.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName"];o.extend(y.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,i){var n=document.createElement(e);return t&&a(n).attr(t),i&&a(n).html(i),n},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof a?e:a(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(e||(e=T(this,"events"))){this.undelegateEvents();for(var t in e){var i=e[t];if(o.isFunction(i)||(i=this[e[t]]),!i)throw new Error('Method "'+e[t]+'" does not exist');var n=t.match(_),s=n[1],a=n[2];i=o.bind(i,this),s+=".delegateEvents"+this.cid,""===a?this.$el.bind(s,i):this.$el.delegate(a,s,i)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=o.extend({},this.options,e));for(var t=0,i=k.length;i>t;t++){var n=k[t];e[n]&&(this[n]=e[n])}this.options=e},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var e=T(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}}});var w=function(e,t){var i=S(this,e,t);return i.extend=this.extend,i};c.extend=d.extend=f.extend=y.extend=w;var x={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(t,i,n){var s=x[t];n||(n={});var r={type:s,dataType:"json"};return n.url||(r.url=T(i,"url")||P()),n.data||!i||"create"!=t&&"update"!=t||(r.contentType="application/json",r.data=JSON.stringify(i.toJSON())),e.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),e.emulateHTTP&&("PUT"===s||"DELETE"===s)&&(e.emulateJSON&&(r.data._method=s),r.type="POST",r.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s)}),"GET"===r.type||e.emulateJSON||(r.processData=!1),a.ajax(o.extend(r,n))},e.wrapError=function(e,t,i){return function(n,s){s=n===t?s:n,e?e(t,s,i):t.trigger("error",t,s,i)}};var C=function(){},S=function(e,t,i){var n;return n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},o.extend(n,e),C.prototype=e.prototype,n.prototype=new C,t&&o.extend(n.prototype,t),i&&o.extend(n,i),n.prototype.constructor=n,n.__super__=e.prototype,n},T=function(e,t){return e&&e[t]?o.isFunction(e[t])?e[t]():e[t]:null},P=function(){throw new Error('A "url" property or function must be specified')}}.call(this),function(e){"use strict";var t=e.jQuery,i=e._,n=e.Backbone,s=i.sortedIndex,o=n.Events,a=n.View,r=a.prototype.remove,l="breakpoints",c=function(e,t,i){var n=s(i,e+1),o=s(i,t+1);return n!==o?i.slice(Math.min(n,o),Math.max(n,o)):[]},d=n.Resize={trigger:o.trigger,width:function(){return t(e).width()}};d[l]=[],i.each(["on","off","bind","unbind"],function(t){d[t]=function(n,s,a){o[t].call(this,n,s,a),this[l]=i.compact(i.map(i.keys(this._callbacks||{}),function(t){return e.parseInt(t)})).sort(function(e,t){return e-t})}}),n.View=a.extend({constructor:function(e){a.call(this,e),this[l]&&d.on(this[l],this.resize,this)},resize:function(){this.render()},remove:function(){return this[l]&&d.off(this[l],this.resize,this),r.call(this)}}),t(function(){var i=d.width();t(e).resize(function(){var e,t=d.width();t!==i&&(e=c(i,t,d[l]),e.length&&d.trigger(e.join(" "),t,t>i?"up":"down"),i=t)})})}(this),function(e){"use strict";var t=e.Spatula={},i=e.jQuery,n=e._,s=e.Backbone,o=n.isFunction,a=n.map,r=t.whenAll=function(e){return i.when.apply(i,e||[])},l=t.tryCall=function(e,t){var i=e&&e[t];return o(i)?i.apply(e,n.rest(arguments,2)):void 0},c={},d={},u={model:!0,collection:!0},f=[],p=[],h=function(e,t,i){c[e]=t,d[e]=i};t.ContainerView=s.View.extend({mod:0,transition:function(e){if(e===this.current)return e.render();var t=this,n=++t.mod,s=t.current,o=r();return t.current=e,s||t.$el.empty(),t.trigger("begin",e),s&&(s.hide&&(o=i.when(s.hide(),o)),o.done(function(){s.remove()})),o=r(a(this._cb,function(t){return t.call(this,e)}).concat([l(e,"load"),o])),o.fail(function(){var i=Array.prototype.slice.call(arguments);t.mod===n&&(t.current=null,t.$el.empty(),t.trigger.apply(t,["error",e].concat(i)))}),o=o.pipe(function(){return t.mod===n?(e.render(),t.$el.prepend(e.el),l(e,"ready"),t.trigger("ready",e),l(e,"show")):void 0}),o.pipe(function(){return t.mod!==n?i.Deferred().reject():(t.$el.css("minHeight",""),void t.trigger("end",e))})},loader:function(e){(this._cb||(this._cb=[])).push(e)},render:function(){return l(this.current,"render"),this},ready:function(){return l(this.current,"ready"),this}}),t.RichView=s.View.extend({assets:u,load:function(e,t){var i=this;return i._load||(i._load=r(a(i.assets,function(e,t){return c[t].call(i,e).done(function(){i.trigger("load:"+t)})})).done(function(){i.trigger("load")})),i._load.then(e,t)},render:function(){var e=this,t=e.load();return"resolved"===t.state()?e.safeRender():e._render||(e._render=!0,t.then(function(){e.safeRender()})),e},safeRender:function(){},remove:function(){var e=this;return e.destroy(),e.trigger("destroy"),e.off(),n.each(e.assets,function(e,t){l(d,t,e)}),s.View.prototype.remove.apply(e,arguments),e},destroy:function(){}},{assetLoader:h}),h("scripts",function(e){return e=n.difference(e,f),r(a(e,function(e){return f.push(e),i.ajax(e,{dataType:"script",cache:!0,error:function(){f=n.without(f,e)}})}))}),i(function(){f=n.union(f,i("script[src]").not("[async]").map(function(){return i(this).attr("src")}).get())}),h("styles",function(e){return r(a(e,function(e){i("<link/>",{"class":"css-"+this.cid,rel:"stylesheet",type:"text/css",href:e}).appendTo("head")}))},function(){i("link.css-"+this.cid).remove()}),h("templates",function(e,t){return t||(t=this.templates={}),r(a(e,function(e,n){return i.ajax(e,{cache:!0,success:function(e){t[n]=e}})}))}),h("data",function(e){var t=this;return i.ajax(e,{dataType:"json",success:function(e){t.data=e}})}),n.each(u,function(e,t){h(t,function(e){return e=o(e.fetch)?e:this[t],l(e,"fetch")||r()})}),t.start=function(o){var a,r=s.history,l=/^([^\/]+?:\/\/[^\/]+?)(\/[^?#]*)/.exec(e.location.href);o=n.extend({pushState:!0,hashChange:!1},o),l&&r.start(o)&&(l=l[1]+r.options.root,a=l.length,i("body").on("click.spatula","a[href]",function(e){var i=this.href;e.metaKey||e.ctrlKey||e.isDefaultPrevented()||!i||i.substr(0,a)!==l||(i=i.substr(a),t.test(i)&&n.any(r.handlers,function(t){return t.route.test(i)?(e.preventDefault(),r.navigate(i,!0),!0):void 0}))}))},t.test=function(e){return!n.any(p,function(t){return t.test(e)})},t.exclude=function(e){n.isRegExp(e)||(e=s.Router.prototype._routeToRegExp.call({},e)),p.push(e)}}(this),function(e){"use strict";var t=e.Disney,i=e.Spatula,n=e.jQuery,s=e._,o=e.Backbone,a=o.sync,r=/^\/(?:[^\/]|$)/,l=t.ajaxBase;n(function(){var o=t.redirect,a=t.top=new i.ContainerView({el:"#main"});a.on("ready",function(t){var i=t.title;n.isFunction(i)&&(i=i.call(t)),i&&(e.document.title=i)}),o&&a.loader(o.loader),n("#error_page").length||s.defer(i.start)}),n.ajaxSetup({timeout:2e4}),l&&(o.sync=function(e,t,i){var n=i.url||t&&t.url;return r.exec(n)&&(i=s.extend({url:l+n.substr(1)},i)),a(e,t,i)})}(this),function(e,t){"use strict";t.support.css3=function(){function t(t,i){var n=e.document.body||e.document.documentElement,s=n.style,o=["Webkit","Moz","ms","O"];if(void 0!==s[t])return i?t:!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var a=0;a<o.length;a++)if(void 0!==s[o[a]+t])return i?o[a]+t:!0}return t}(),t.fn.selectTransitionEnd=function(){var t,i=e.document.createElement("fakeelement"),n={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(t in n)if(void 0!==i.style[t])return n[t]}}(this,jQuery),function(e){"use strict";var t,i=e.console,n=e.Grill={},s=e.Spatula,o=e.jQuery,a=e._,r=e.Backbone,l=s.whenAll,c=r.Model,d=r.Collection,u=r.View,f=s.tryCall,p=function(t){var n=e.onerror;i&&i.error&&i.error(t.stack||t.toString()),n&&n(t.toString())},h=function(e,t){try{return f(e,t)}catch(i){p(i)}},v=function(e){return a.map(this.views,function(t){return h(t,e)})},g=o.support.css3("transition")?function(t){var i=o.Deferred(),n=o(e).selectTransitionEnd()+".grill";return o(".overlay",t).on(n,function(e){this===e.target&&(i.resolve(),t.off(n))}),i}:function(){return!0},b=n.Module=c.extend({initialize:function(){this.data=this.data(this.get("data")),this.on("change:data",function(e,t){e.data.reset(t)})},data:function(e){return new d(e)}}),m=n.Burger=d.extend({model:b,fetch:function(e){var t=n.burger,i=e&&e.success;return t?(delete n.burger,this.reset(this.parse(t)),i&&i(this,t),o.when()):d.prototype.fetch.call(this,e)},parse:function(e){for(var t in e)t in m.prototype||(this[t]=e[t]);return this.trigger("parse",e),e.stack}}),y=u.extend({initialize:function(e){this.template=e.template,this.render(),this.model.on("change",this.render,this)},render:function(){var e=this.$el;this.setElement(o(this.template.render(this.model))),e.replaceWith(this.$el)}}),_=n.ListView=u.extend({tagName:"ul",initialize:function(e){var t=this,i=t.collection;t.template=e.template,t.reset(),i.on("add",function(e,i){var n=i.indexOf(e),s=t.spawn(e);t.views.splice(n,0,s),0===n?t.$el.prepend(s.el):t.views[n-1].$el.after(s.el)}),i.on("remove",function(e,i,n){t.views.splice(n.index,1)[0].remove()}),i.on("reset",t.reset,t)},reset:function(){var e=this;return e.views&&a.invoke(e.views,"remove"),e.views=e.collection.map(function(t){var i=e.spawn(t);return e.$el.append(i.el),i}),e},spawn:function(e){return new y({model:e,template:this.template})}}),k={},w=n.ModuleView=s.RichView.extend({assets:{},tagName:"section",className:"module",safeRender:function(){var e=this.template;e&&e.render&&this.$el.html(e.render(this.model.toJSON()))}},{register:function(e,t,i){return k[e]=this.extend(t,i)},create:function(e,t){var i=k[e]||this,n=new i(t),s=n.model&&n.model.get("has_geo_restrictions"),o=n.model&&n.model.get("ref"),r=n.model&&n.model.get("style_options"),l=n.model&&n.model.get("style"),c=a.uniq(a.flatten(a.map([r,l],function(e){return e&&e.additional_style_classes?e.additional_style_classes:[]}))),d=a.union(n.style_classes||[],c);return n.$el.addClass(e).attr("data-module",e),s&&n.$el.attr("data-geo-temp-hidden","true"),o&&n.$el.attr("id","ref-"+o),d&&n.$el.addClass(d.join(" ")),n}}),x=_.prototype,C=n.BurgerView=_.extend({id:"burger",tagName:"article",className:"hidden",subview:w,initialize:function(e){x.initialize.call(this,e),o("<div/>",{"class":"overlay"}).appendTo(this.el)},load:function(){var e=this;return this.collection.fetch().pipe(function(){return l(v.call(e,"load"))})},spawn:function(e){return w.create(e.get("view"),{model:e})},itemOptions:function(){return{}},title:function(){return this.collection.title},url:function(){return this.collection.url},render:function(){v.call(this,"render")},ready:function(){l(v.call(this,"ready"))},show:function(){return this.$el.hasClass("hidden")?(this.$el.removeClass("hidden"),l([g(this.$el)].concat(v.call(this,"show")))):!0},hide:function(){return this.$el.hasClass("hidden")?!0:(this.$el.addClass("hidden"),l([g(this.$el)].concat(v.call(this,"hide"))))},remove:function(){v.call(this,"remove"),x.remove.call(this)}});n.BunView=w.extend({className:"module_container",tagName:"div"}),t={model:m,view:C},n.config=function(e){a.extend(t,e)},n.order=function(e){var i=t.model,n=t.view,s=new i;s.url=e,t.container.transition(new n({collection:s}))}}(this),function(e){"use strict";var t,i=e.Disney,n=e.jQuery,s=e._;i.DL=function(e){t=e},new(e.Backbone.Router.extend({routes:{"*p":"a"},a:function(i){var o=e.window.location.pathname;i&&"?register=1"===i&&"/"===o&&t.login();var a="/_grill/json/";i&&(a+=i),e.Grill.order(a),s.defer(function(){n("html,body").scrollTop(0)})}}))}(this),function(e){"use strict";var t=e.Disney,i=t.Cookie,n=e.Backbone,s=e._,o=/^([0-9a-f]+):([^:]+)/,a="dolMttAbn",r=7,l=function(){var e=o.exec(i.get(a)||"");return e&&{id:e[1],group:e[2]}},c=function(e){i.set(a,e.id+":"+e.group,{domain:i.domain(),path:"/",expires:r})},d=t.abn=s.extend({testcase:function(){return l()},parse:function(e){var n,o,a=e.abn,r=a&&a.cases,c=l(),d=-1;return r&&(o=s.pluck(r,"weight"),n=s.keys(r),!i.enabled()||c&&c.id!==a.id||(c?d=s.indexOf(n,c.group):(d=t.randi(o),d>=0&&(c={id:a.id,group:n[d]}))),e=r[n[0>d?0:d]].data,d>=0&&this.trigger("view",c,e)),e}},n.Events);d.on("view",c),t.randi=function(t){var i,n,s=0,o=t.length;for(i=o-1;i>-1;--i)s+=+t[i]||0;for(n=e.Math.random()*s,i=o-1;n>=0&&i>-2;--i)n-=+t[i]||0;return i+1}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e._,s=e.Modernizr;t.vis={deviceExcluded:function(e){var t=e.visibility,i=!1;if(t&&t.invisible_device_types){var o=s.mobile?"mobile":"desktop";i=n.contains(t.invisible_device_types,o)}return i},hasGeoRestrictions:function(e){var t=e.visibility;return t&&(t.allowed_regions||t.disallowed_regions)},geoExcluded:function(e,t){var i=e.get("visibility"),s=!1;return i&&(i.allowed_regions||i.disallowed_regions)&&(i.allowed_regions?s=!n.contains(i.allowed_regions,t):i.disallowed_regions&&(s=n.contains(i.disallowed_regions,t))),s},parse:function(e){var t=this,i=[];n.each(e.stack,function(e){t.hasGeoRestrictions(e)&&(e.has_geo_restrictions=!0),t.deviceExcluded(e)&&(e.device_hidden=!0,i.push(e))});var s=n.difference(e.stack,i);return n.extend(e,{stack:s}),e}},i(function(){t.top&&t.top.on("ready",function(e){n.isUndefined(e.collection)||n.isEmpty(e.collection.where({has_geo_restrictions:!0}))||t.geo(function(i){n.each(e.views,function(e){var n=e.model;n.get("has_geo_restrictions")&&(t.vis.geoExcluded(n,i)?e.remove():e.$el.removeAttr("data-geo-temp-hidden"))})})})})}(this),function(e){"use strict";var t=e.jQuery,i=e._,n=e.Backbone,s=e.Math,o=n.Collection,a=function(e,t){var i,n=new Array(e);if(t!==n[0])for(i=0;e>i;++i)n[i]=t;return n},r=function(e){return{models:e}};n.LazyCollection=o.extend({params:{limit:"limit",offset:"offset"},constructor:function(e,t){t||(t={}),this.count=t.count,this.min=t.min||e&&e.length||1,t.params&&(this.params=i.defaults(t.params,this.params)),o.call(this,e,t)},ensure:function(e){var i,n,o=this,a=o.count,r=o.length,l=o._ensure,c=o.params,d=s.max(e-r,o.min);return a&&(e=s.min(e,a)),r>=e?n=t.when():l?(n=t.Deferred(),l.always(function(){o.ensure(e).then(function(){n.resolveWith(arguments)},function(){n.rejectWith(arguments)})})):(i={},i[c.limit]=d,i[c.offset]=r,o.trigger("loading",o,!0),n=o._ensure=o.fetch({add:!0,data:i}).then(function(){o.length<r+d&&(o.count=o.length)}).always(function(){o._ensure=null,o.trigger("loading",o,!1)})),n},remaining:function(){var e=this.count;return e?e-this.length:null},loading:function(){return!!this._ensure},pages:function(e,t){var n,o,l=[],c=t&&t.whole,d=t&&t.pad,u=t&&t.nest,f=t&&t.fill;for(e=+e||1,o=0;o<this.length;o+=e)l.push(this.models.slice(o,o+e));if(o=l.length-1,c&&o>0&&l[o].length<e&&(--o,l.pop()),d&&(o>=0&&(l[o]=l[o].concat(a(e-l[o].length,f))),n=a(e,f)),u&&(l=i.map(l,r),n=r(n)),d){for(o=s.floor(this.count/e);l.length<o;)l.push(n);o=this.count-o*e,o>0&&!c&&(n=a(o,f),l.push(u?r(n):n))}return l}}),n.LazySliderCollection=n.LazyCollection.extend({constructor:function(e,t){this.loadedPageCounter=[],this.pageOptions={nest:!0},i.each(e,function(e){e.set("hidden",!0)}),n.LazyCollection.call(this,e,t)},startingIndex:0,lastIndex:function(e){return this.pages(e,this.pageOptions).length-1},page:function(e,t,n,s){var o=this.pages(t,this.pageOptions);if(i.each(o[e].models,function(e){e&&e.set("hidden",!1)}),this.nextPeek(e,o)){var a=o[e+1];i(n).times(function(e){var t=a.models[e*s];t&&t.set("hidden",!1)})}return i.contains(this.loadedPageCounter,e)||this.loadedPageCounter.push(e),o},loadedPages:function(){return this.loadedPageCounter.length},peeking:function(e){return this.length>e},nextPeek:function(e,t){return e<t.length-1}}),n.LazyFilterCollection=n.LazyCollection.extend({parse:function(e){return this.count=e.count,e.next?this.nextFilter=e.next:this.nextFilter=null,e.data},next:function(){this.nextFilter&&(this.url=this.baseUrl+this.nextFilter)}})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e.Math,s=/%%([a-z0-9]+)%%/g,o=function(e,t){return"rng"===t?""+n.floor(1e18*n.random()):""},a=t.ping=function(t){if(t){var i=new e.Image;i.src=t.toString().replace(s,o)}};i("body").on("click","a[data-ping]",function(){a(this.getAttribute("data-ping"))})}(this),function(e){"use strict";var t=e.Grill,i=e.jQuery,n=e.Backbone,s=e.Disney,o=t.Burger,a=o.prototype,r=e.location,l=/[&?]draft_id=([^&]+)/.exec(r.search),c=/^\/_grill\/json(\/.*)/,d=t.Module.extend({data:function(e){var t,o=new n.LazyCollection(e,{model:s.Entity,params:{offset:"o",limit:"l"},count:this.get("count")}),a=this.collection.url;(t=c.exec(a))&&(a=t[1]);var r=a.indexOf("?")>=0?"&":"?";return a="/_grill/more"+a+r+i.param({r:this.get("ref")}),l&&(a+="&draft_id="+l[1]),o.url=a,o},subject:function(){return this.data.first()}}),u=o.extend({model:d,parse:function(e){var t=s.vis.parse(s.abn.parse(e)),i=a.parse.call(this,t);return i}});i(function(){var t=s.top;e.Grill.config({container:t,model:u})})}(this);/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var Hogan={};if(function(e,t){"use strict";function i(e){return String(null===e||void 0===e?"":e)}function n(e){return e=i(e),c.test(e)?e.replace(s,"&amp;").replace(o,"&lt;").replace(a,"&gt;").replace(r,"&#39;").replace(l,"&quot;"):e}e.Template=function(e,i,n,s){this.r=e||this.r,this.c=n,this.options=s,this.text=i||"",this.buf=t?[]:""},e.Template.prototype={r:function(){return""},v:n,t:i,render:function(e,t,i){return this.ri([e],t||{},i)},ri:function(e,t,i){return this.r(e,t,i)},rp:function(e,t,i,n){var s=i[e];return s?(this.c&&"string"==typeof s&&(s=this.c.compile(s,this.options)),s.ri(t,i,n)):""},rs:function(e,t,i){var n=e[e.length-1];if(!(d(n)||"object"==typeof n&&d(n=n.models)))return void i(e,t,this);for(var s=0;s<n.length;s++)e.push(n[s]),i(e,t,this),e.pop()},s:function(e,t,i,n,s,o,a){var r;return d(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ls(e,t,i,n,s,o,a)),r=""===e||!!e,!n&&r&&t&&t.push("object"==typeof e?e:t[t.length-1]),r)},d:function(e,t,i,n){var s=e.split("."),o=this.f(s[0],t,i,n),a=null;if("."===e&&d(t[t.length-2]))return t[t.length-1];for(var r=1;r<s.length;r++)o&&"object"==typeof o&&(s[r]in o||(o=o.attributes)&&"object"==typeof o&&s[r]in o)?(a=o,o=o[s[r]]):o="";return n&&!o?!1:(n||"function"!=typeof o||(t.push(a),o=this.lv(o,t,i),t.pop()),o)},f:function(e,t,i,n){for(var s=!1,o=null,a=!1,r=t.length-1;r>=0;r--)if(o=t[r],o&&"object"==typeof o&&(e in o||(o=o.attributes)&&"object"==typeof o&&e in o)){s=o[e],a=!0;break}return a?(n||"function"!=typeof s||(s=this.lv(s,t,i)),s):n?!1:""},ho:function(e,t,i,n,s){var o=this.c,a=this.options;return a.delimiters=s,n=e.call(t,n),n=null==n?String(n):n.toString(),this.b(o.compile(n,a).render(t,i)),!1},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ls:function(e,t,i,n,s,o,a){var r=t[t.length-1],l=null;if(!n&&this.c&&e.length>0)return this.ho(e,r,i,this.text.substring(s,o),a);if(l=e.call(r),"function"==typeof l){if(n)return!0;if(this.c)return this.ho(l,r,i,this.text.substring(s,o),a)}return l},lv:function(e,t,n){var s=t[t.length-1],o=e.call(s);return"function"==typeof o&&(o=i(o.call(s)),this.c&&~o.indexOf("{{"))?this.c.compile(o,this.options).render(s,n):i(o)}};var s=/&/g,o=/</g,a=/>/g,r=/\'/g,l=/\"/g,c=/[&<>\"\']/,d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),this.Whiskers||!function(e){"use strict";var t=function(e,t){var i,n=this;for(e=e.split(".");e.length>1;)i=e.shift(),n=n.hasOwnProperty(i)?n[i]:n[i]={};n[e[0]]=t},i=e.Whiskers=function(n,s){t.call(i,n,new e.Hogan.Template(s))}}(this),Whiskers("errors.e404",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<article id="error_page" class="e404 bound"> <div class="inner"> <img src="'),n.b(n.v(n.f("image",e,t,0))),n.b('" alt="404 Error"> <div class="message"> <h2>This page is not fully armed and operational.</h2> <h1>Try something else?</h1> </div> </div> </article>'),n.fl()}),Whiskers("errors.e500",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<article id="error_page" class="e500 bound"> <div class="inner"> <img src="'),n.b(n.v(n.f("image",e,t,0))),n.b('"> <div class="message"> <h2>It\'s a Trap! Or an internal server error.</h2> <h1>Try something else?</h1> </div> </div> </article>'),n.fl()}),Whiskers("errors.enet",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<article id="error_page" class="enet bound"> <div class="inner"> <img src="'),n.b(n.v(n.f("image",e,t,0))),n.b('" alt="General Error"> <div class="message"> <h2>I don\'t know what all this trouble is about, but I\'m sure it must be your fault.</h2> <h1>Try something else?</h1> </div> </div> </article>'),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Backbone,n=e.jQuery,s=e.Whiskers,o=["https://static-mh.content.disney.io/starwars/assets/errors/e404-4ced2cd1702d.jpg","https://static-mh.content.disney.io/starwars/assets/errors/e500-fb23ad349e1c.jpg","https://static-mh.content.disney.io/starwars/assets/errors/enet-4e40f1a86790.jpg"],a=i.View.extend({render:function(){this.el.innerHTML=this.template.render({image:this.image})}}),r=a.extend({image:o[0],template:s.errors.e404,error:"404"}),l=a.extend({image:o[1],template:s.errors.e500,error:"500"}),c=a.extend({image:o[2],template:s.errors.enet,error:"network"});n(function(){t.top.on("error",function(e,i,n,s){"timeout"===n?t.top.transition(new c):"Not Found"===s?t.top.transition(new r):"abort"!==n&&t.top.transition(new l)}),"/"===t.ajaxBase&&e.setTimeout(function(){for(var t=0;t<o.length;++t)(new e.Image).src=o[t];o=null},4e3)})}(this),function(e){"use strict";e.jQuery(function(){var t=e.Backbone.history,i=10;t.on("route",function(){--i<0&&(t._hasPushState=!1)})})}(this),this.Disney=this.Disney||{},this.Disney.Style=this.Disney.Style||{},this.Disney.SocialServices=this.Disney.SocialServices||{},this.Disney.Style.breakpoints={midLow:480,midHigh:768,max:1024,chromeMax:1025,wideMax:1200},Whiskers("partials.style_overrides.module_styles",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("style_options",e,t,1),e,t,0,18,1017,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" <!-- /* "),i.b(i.v(i.f("view",e,t,0))),i.b(" module "),i.b(i.v(i.f("ref",e,t,0))),i.b(" */ --> "),i.s(i.f("background_options",e,t,1),e,t,0,81,993,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ "),i.s(i.f("background_color",e,t,1),e,t,0,149,328,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" background-image: none; background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; "),i.s(i.f("gradient_fade",e,t,1),e,t,0,232,309,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" background-image: linear-gradient("),i.b(i.v(i.f("background_color",e,t,0))),i.b(", "),i.b(i.v(i.f("gradient_fade",e,t,0))),i.b("); ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("background_image",e,t,1),e,t,0,371,477,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" background-size: 100% auto; background-position: "),i.b(i.v(i.f("background_alignment",e,t,0))),i.b("; background-repeat: no-repeat; ")}),e.pop()),i.b(" } "),i.s(i.d("background_image.desktop",e,t,1),e,t,0,530,621,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 680px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-image: url('"),i.b(i.v(i.f("src",e,t,0))),i.b("'); } } ")}),e.pop()),i.b(" "),i.s(i.d("background_image.mobile",e,t,1),e,t,0,679,964,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 1px) and (max-width: 420px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-image: url('"),i.b(i.v(i.f("src",e,t,0))),i.s(i.f("width",e,t,1),e,t,0,793,803,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("&width=420")}),e.pop()),i.b("'); } } @media screen and (min-width: 421px) and (max-width: 679px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-image: url('"),i.b(i.v(i.f("src",e,t,0))),i.s(i.f("width",e,t,1),e,t,0,936,946,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("&width=680")}),e.pop()),i.b("'); } } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Whiskers,n=e._;n.extend(t.Style,{getModuleStyles:function(e){var t=e.model,n=i.partials.style_overrides.module_styles,s=n.render(t);return s}})}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,n=e.jQuery,s=e._,o=e.Spatula,a=t.ModuleView,r=t.BurgerView,l=function(e){return s.map(this.views,function(t){return o.tryCall(t,e)})};t.ModuleView=a.extend({initialize:function(){a.prototype.initialize.apply(this,arguments)},renderStyles:function(){return i.Style.getModuleStyles(this)},revealModuleImages:function(){this.model.get("styles_rendered")||(this.$el.siblings(".module_styles").append(this.renderStyles()),this.model.set("styles_rendered",!0))}}),t.BurgerView=r.extend({initialize:function(){r.prototype.initialize.apply(this,arguments)},load:function(){var e=this;return r.prototype.load.apply(this,arguments).then(function(){0===n(e.el).children(".module_styles").length&&n("<style/>",{"class":"module_styles",type:"text/css"}).appendTo(e.el),l.call(e,"revealModuleImages")})}}),t.config({view:t.BurgerView,model:t.ModuleView})}(this),function(e){"use strict";var t=e.jQuery,i=e.Grill,n=i.BurgerView;i.BurgerView=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments)},spawn:function(e){var t={model:e};return i.ModuleView.create(e.get("view"),t)},cto:function(){var e=this.collection.cto;return e},url:function(){return this.collection.href}}),t(function(){e.Grill.config({view:i.BurgerView})})}(this),Whiskers("modals.modal",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<style type='text/css'> @media screen and (max-width: 767px){ #modal-container #modal-window .modal img.desktop, #modal-container #modal-window .modal .modal-content section li.desktop{ display: none; } } @media screen and (min-width: 768px){ #modal-container #modal-window .modal img.mobile, #modal-container #modal-window .modal .modal-content section li.mobile{ display: none; } } </style> <div class='modal-content'> <div class='modal-close top-right' tabindex='0'></div> <section> "),n.s(n.f("header",e,t,1),e,t,0,497,698,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("text",e,t,1),e,t,0,507,536,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <header>"),i.b(i.t(i.f("text",e,t,0))),i.b("</header> ")}),e.pop()),i.b(" "),i.s(i.f("image",e,t,1),e,t,0,556,687,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,569,611,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <img class='desktop' src='"),i.b(i.v(i.f("desktop",e,t,0))),i.b("'/> ")}),e.pop()),i.b(" "),i.s(i.f("mobile",e,t,1),e,t,0,635,675,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <img class='mobile' src='"),i.b(i.v(i.f("mobile",e,t,0))),i.b("'/> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" </section> "),n.s(n.f("sections",e,t,1),e,t,0,734,1163,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" <section> <header>"),i.b(i.t(i.f("header",e,t,0))),i.b("</header> <ul> "),i.s(i.f("content",e,t,1),e,t,0,792,1133,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d("images.assets.desktop_image",e,t,1),e,t,0,825,932,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class="desktop"> <a href=\''),i.b(i.v(i.f("url",e,t,0))),i.b("' target='_blank'><img class='desktop' src='"),i.b(i.v(i.f("cdn_url",e,t,0))),i.b("'/></a> </li> ")}),e.pop()),i.b(" "),i.s(i.d("images.assets.mobile_image",e,t,1),e,t,0,996,1101,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class="mobile"> <a href=\''),i.b(i.v(i.f("url",e,t,0))),i.b("' target='_blank'><img class='mobile' src='"),i.b(i.v(i.f("cdn_url",e,t,0))),i.b("'/></a> </li> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </ul> </section> ")}),e.pop()),n.b(' <div class="bedazzlement"></div> </div>'),n.fl()}),function(e){"use strict";var t=e.Backbone,i=e.Grill||{},n=e.Whiskers,s=e.document,o=e._,a=t.View.extend({},{getInstance:function(){if(void 0===this._instance){var e=this;this._instance=new e}return this._instance}}),r=a.extend({el:"#modal-window",views:[],add:function(e){this.contains(e)||(this.el.appendChild(e.el),this.views.push(e))},contains:function(e){return this.views.indexOf(e)>=0},scrollStart:function(){if("object"==typeof this._bodyStyle&&this._bodyStyle.hasOwnProperty("cssText")){var t=-parseInt(e.document.body.style.top,10)||0;e.document.body.style.cssText=this._bodyStyle.cssText,e.scrollBy(0,t)}},scrollStop:function(){this._bodyStyle=o.extend({},e.document.body.style),e.document.body.style.top=-e.pageYOffset+"px",e.document.body.style.overflow="hidden",e.document.body.style.position="fixed"},show:function(t,i){var n=i&&i.render,s=t.options&&t.options.name;(n||!this.contains(t))&&(t.el.innerHTML=t.render(),t.close||(t.close=new l({closeElement:t.el.querySelector(t.options.closeElement||".modal-close")})),this.add(t));var o=t&&t.options&&t.options.slidesContainer;o&&(this.slidesContainer=o),e.document.body.className+=" modal-show",t.close.show(),t.el.className+=" show",t.el.scrollTop=0,t.visible=!0,t.ready(),t._trackEvent("show"),this.scrollStop(),this.el.className+=" show",this.el.setAttribute("aria-modal","true"),s&&!this.el.className.includes(" "+s)&&(this.el.className=this.el.className+" "+s),t.modalFocus()},hide:function(){e.document.body.className=e.document.body.className.replace(" modal-show",""),o.each(this.views,function(e){e.visible&&(e.el.className=e.el.className.replace(" show",""),e.visible=!1,e.close.hide(),e._trackEvent("hide"))}),this.el.className=this.el.className.replace(" show",""),this.el.setAttribute("aria-modal","false"),this.scrollStart(),this.slidesContainer.swipeasaurus&&this.slidesContainer.swipeasaurus("resume")}}),l=a.extend({el:"#modal-close",initialize:function(e){var t=e&&e.closeElement;o.extend(e,{windowView:r.getInstance()}),t&&(this.el=t),this.options=e,this.el.addEventListener("click",this._closeWindow.bind(this))},show:function(){this.el.className=this.el.className.replace(" hidden","")},hide:function(){this.el.className.indexOf(" hidden")<0&&(this.el.className+=" hidden")},_closeWindow:function(){this.options.windowView.hide()}});i.ModalView=t.View.extend({className:"modal",options:{template:n.modals.modal,events:{onkeyup:!0,onclick:!0},keyEvents:[{name:"keyup",keyCode:27,callback:function(){this.hide(),"undefined"!=typeof this.options.modalButton&&this.options.modalButton[0].focus()}}]},constructor:function(e){t.View.apply(this,arguments);var i=this;o.extend(e,{windowView:r.getInstance()}),o.extend(i.options,e),i.el.id=o.uniqueId(i.options.name),i.el.className+=" "+i.options.name,i._bindEvents()},ready:function(){},render:function(){return this.options.template.render(this.model)},show:function(e){var t=e&&e.event;t&&(t.preventDefault(),t.stopPropagation()),this.options.windowView.show(this,e)},hide:function(e){this.options.windowView.hide(e)},_bindEvents:function(){var t=this,i={};"undefined"!=typeof this.options.modalButton&&(i=this.options.modalButton[0]),t.options.events.onclick&&t.el.addEventListener("click",function(e){this===e.target&&t.hide()}),t.options.events.onkeyup&&o.each(t.options.keyEvents,function(i){var n=t._handleKeyEvent.bind(t,i);e.document.addEventListener(i.name,n)}),t.el.addEventListener("keydown",function(e){var n=t.$el.find(".modal-close")[0],o="a, iframe, button, .youtube-inline-player",a=s.querySelector("#modal-container"),r=a.querySelectorAll(o),l=r[0],c=r[r.length-1];13===e.keyCode&&e.target===n?(e.preventDefault(),t.hide(),i&&i.focus()):e.target===n&&9===e.keyCode&&e.shiftKey?(e.preventDefault(),l.focus()):e.target!==n||9!==e.keyCode||e.shiftKey?e.target!==c||9!==e.keyCode||e.shiftKey?e.target===l&&9===e.keyCode&&e.shiftKey&&(e.preventDefault(),n.focus()):(e.preventDefault(),n.focus()):(e.preventDefault(),c.focus())})},_handleKeyEvent:function(e,t){e.keyCode===t.keyCode&&e.callback.apply(this)},modalFocus:function(){var t=this;e.setTimeout(function(){var e=t.$el.find(".modal-close")[0];e.focus()},400)},_trackEvent:function(t){var i=this.options.tracking||{};if(i.eventCategory&&t){var n={engagementMeta:i.engagementMeta,engagementType:i.eventCategory+"_"+t,eventCategory:i.eventCategory,action:t};e.cto.trackEvent(n)}}})}(this),/*!
 * The Final Countdown for jQuery v2.1.0 (http://hilios.github.io/jQuery.countdown/)
 * Copyright (c) 2015 Edson Hilios
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function t(e){if(e instanceof Date)return e;if(String(e).match(a))return String(e).match(/^[0-9]*$/)&&(e=Number(e)),String(e).match(/\-/)&&(e=String(e).replace(/\-/g,"/")),new Date(e);throw new Error("Couldn't cast `"+e+"` to a date object.")}function i(e){var t=e.toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return new RegExp(t)}function n(e){return function(t){var n=t.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(n)for(var o=0,a=n.length;a>o;++o){var r=n[o].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),c=i(r[0]),d=r[1]||"",u=r[3]||"",f=null;r=r[2],l.hasOwnProperty(r)&&(f=l[r],f=Number(e[f])),null!==f&&("!"===d&&(f=s(u,f)),""===d&&10>f&&(f="0"+f.toString()),t=t.replace(c,f.toString()))}return t=t.replace(/%%/,"%")}}function s(e,t){var i="s",n="";return e&&(e=e.replace(/(:|;|\s)/gi,"").split(/\,/),1===e.length?i=e[0]:(n=e[0],i=e[1])),1===Math.abs(t)?n:i}var o=[],a=[],r={precision:100,elapse:!1};a.push(/^[0-9]*$/.source),a.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),a.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),a=new RegExp(a.join("|"));var l={Y:"years",m:"months",n:"daysToMonth",w:"weeks",d:"daysToWeek",D:"totalDays",H:"hours",M:"minutes",S:"seconds"},c=function(t,i,n){this.el=t,this.$el=e(t),this.interval=null,this.offset={},this.options=e.extend({},r),this.instanceNumber=o.length,o.push(this),this.$el.data("countdown-instance",this.instanceNumber),n&&("function"==typeof n?(this.$el.on("update.countdown",n),this.$el.on("stoped.countdown",n),this.$el.on("finish.countdown",n)):this.options=e.extend({},r,n)),this.setFinalDate(i),this.start()};e.extend(c.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);var e=this;this.update(),this.interval=setInterval(function(){e.update.call(e)},this.options.precision)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function(){this.interval?this.stop():this.start()},pause:function(){this.stop()},resume:function(){this.start()},remove:function(){this.stop.call(this),o[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(e){this.finalDate=t(e)},update:function(){if(0===this.$el.closest("html").length)return void this.remove();var t,i=void 0!==e._data(this.el,"events"),n=new Date;t=this.finalDate.getTime()-n.getTime(),t=Math.ceil(t/1e3),t=!this.options.elapse&&0>t?0:Math.abs(t),this.totalSecsLeft!==t&&i&&(this.totalSecsLeft=t,this.elapsed=n>=this.finalDate,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToWeek:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToMonth:Math.floor(this.totalSecsLeft/60/60/24%30.4368),totalDays:Math.floor(this.totalSecsLeft/60/60/24),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),months:Math.floor(this.totalSecsLeft/60/60/24/30.4368),years:Math.abs(this.finalDate.getFullYear()-n.getFullYear())},this.options.elapse||0!==this.totalSecsLeft?this.dispatchEvent("update"):(this.stop(),this.dispatchEvent("finish")))},dispatchEvent:function(t){var i=e.Event(t+".countdown");i.finalDate=this.finalDate,i.elapsed=this.elapsed,i.offset=e.extend({},this.offset),i.strftime=n(this.offset),this.$el.trigger(i)}}),e.fn.countdown=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){var i=e(this).data("countdown-instance");if(void 0!==i){var n=o[i],s=t[0];c.prototype.hasOwnProperty(s)?n[s].apply(n,t.slice(1)):null===String(s).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(n.setFinalDate.call(n,s),n.start()):e.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,s))}else new c(this,t[0],t[1])})}}),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dayjsPluginUTC=t():e.dayjsPluginUTC=t()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var s in e)t.d(n,s,function(t){return e[t]}.bind(null,s));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){var t;switch(n(e)){case"string":return/Z$/.test(e)?0:(t=/([+-])(\d{2}):?(\d{2})/.exec(e))&&(+t[3]+60*t[2])*("+"===t[1]?1:-1);case"number":return Number.isNaN(e)?null:Math.abs(e)<16?60*e:e;default:return null}}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return 6e4*(e-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:c))}i.r(t);var r=function(e,t,i){var n=String(e);return!n||n.length>=t?e:"".concat(Array(t+1-n.length).join(i)).concat(e)},l=function(e){var t=Math.abs(e),i=Math.floor(t/60),n=t%60;return"".concat(0>=e?"+":"-").concat(r(i,2,"0"),":").concat(r(n,2,"0"))},c=(new Date).getTimezoneOffset(),d=Date.prototype,u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getTimezoneOffset();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$d=new Date(t.getTime()-a(i)),this.$timezoneOffset=i}var t,i,n;return t=e,(i=[{key:"getTimezoneOffset",value:function(){return this.$timezoneOffset}},{key:"setTimezoneOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$timezoneOffset;this.$d.setTime(this.$d.getTime()+a(this.$timezoneOffset,e)),this.$timezoneOffset=e}}])&&o(t.prototype,i),n&&o(t,n),e}();["toDateString","toLocaleString","toLocaleDateString","toLocaleTimeString","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setYear","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getYear"].forEach(function(e){u.prototype[e]=function(){return d[e].apply(this.$d,arguments)}}),["toISOString","toUTCString","toGMTString","toJSON","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","valueOf","getTime"].forEach(function(e){u.prototype[e]=function(){return d[e].apply(new Date(this.$d.getTime()+a(this.$timezoneOffset)),arguments)}}),["setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds"].forEach(function(e){u.prototype[e]=function(){var t=new Date(this.$d.getTime()+a(this.$timezoneOffset));d[e].apply(t,arguments),t.setTime(t.getTime()-a(this.$timezoneOffset)),this.$d=t}}),["toString","toTimeString"].forEach(function(e){u.prototype[e]=function(){return d[e].apply(this.$d,arguments).replace(/GMT(.*)$/,"GMT".concat(l(this.$timezoneOffset)))}});var f=u,p=!1,h=function(e,t){["clone","add","subtract","startOf"].forEach(function(i){e[i]=function(){var e=this.utcOffset();return t[i].apply(this,arguments).utcOffset(e)}}),e.utc=function(){return this.utcOffset(0)},e.local=function(){return this.utcOffset(-c)},e.utcOffset=function(e){if(void 0===e){var t=this.$d.getTimezoneOffset();return 0===t?0:-t}return null!==s(e)&&(this.$d.setTimezoneOffset(-s(e)),this.init()),this},e.toDate=function(){return new Date(this.$d.getTime())},e.isLocal=function(){return this.$d.getTimezoneOffset()===c},e.isUTC=function(){return 0===this.$d.getTimezoneOffset()},e.$set=function(){for(var e,i=this.$d.getTimezoneOffset(),n=arguments.length,s=new Array(n),o=0;n>o;o++)s[o]=arguments[o];return(e=t.$set).call.apply(e,[this].concat(s)),this.$d instanceof Date&&(this.$d=new f(this.$d,i)),this},e.parse=function(e){t.parse.call(this,e);var i=this.$d,n="string"==typeof e.date?s(e.date):null;this.$d=new f(i,null===n?c:-n),p&&this.local(),this.init()}};t["default"]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;p=!!e.parseToLocal;var n=t.prototype,o=function(){};o.prototype=n;var a=new o;h(a,n),a.constructor=t.constructor,t.prototype=a,i.utc=function(e){var t=this(e);return"string"==typeof e&&null===s(e)&&(t.$d.$timezoneOffset=0),t.utc()}}}])}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.dayjs=t()}(this,function(){"use strict";var e="millisecond",t="second",i="minute",n="hour",s="day",o="week",a="month",r="quarter",l="year",c="date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,u=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,i){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(i)+e},p={s:f,z:function(e){var t=-e.utcOffset(),i=Math.abs(t),n=Math.floor(i/60),s=i%60;return(0>=t?"+":"-")+f(n,2,"0")+":"+f(s,2,"0")},m:function x(e,t){if(e.date()<t.date())return-x(t,e);var i=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(i,a),s=0>t-n,o=e.clone().add(i+(s?-1:1),a);return+(-(i+(t-n)/(s?n-o:o-n))||0)},a:function(e){return 0>e?Math.ceil(e)||0:Math.floor(e)},p:function(d){return{M:a,y:l,w:o,d:s,D:c,h:n,m:i,s:t,ms:e,Q:r}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v="en",g={};g[v]=h;var b=function(e){return e instanceof k},m=function(e,t,i){var n;if(!e)return v;if("string"==typeof e)g[e]&&(n=e),t&&(g[e]=t,n=e);else{var s=e.name;g[s]=e,n=s}return!i&&n&&(v=n),n||!i&&v},y=function(e,t){if(b(e))return e.clone();var i="object"==typeof t?t:{};return i.date=e,i.args=arguments,new k(i)},_=p;_.l=m,_.i=b,_.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var k=function(){function f(e){this.$L=this.$L||m(e.locale,null,!0),this.parse(e)}var p=f.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,i=e.utc;if(null===t)return new Date(NaN);if(_.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(d);if(n){var s=n[2]-1||0,o=(n[7]||"0").substring(0,3);return i?new Date(Date.UTC(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return _},p.isValid=function(){return!("Invalid Date"===this.$d.toString())},p.isSame=function(e,t){var i=y(e);return this.startOf(t)<=i&&i<=this.endOf(t)},p.isAfter=function(e,t){return y(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<y(e)},p.$g=function(e,t,i){return _.u(e)?this[t]:this.set(i,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,r){var d=this,u=!!_.u(r)||r,f=_.p(e),p=function(e,t){var i=_.w(d.$u?Date.UTC(d.$y,t,e):new Date(d.$y,t,e),d);return u?i:i.endOf(s)},h=function(e,t){return _.w(d.toDate()[e].apply(d.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),d)},v=this.$W,g=this.$M,b=this.$D,m="set"+(this.$u?"UTC":"");switch(f){case l:return u?p(1,0):p(31,11);case a:return u?p(1,g):p(0,g+1);case o:var y=this.$locale().weekStart||0,k=(y>v?v+7:v)-y;return p(u?b-k:b+(6-k),g);case s:case c:return h(m+"Hours",0);case n:return h(m+"Minutes",1);case i:return h(m+"Seconds",2);case t:return h(m+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(o,r){var d,u=_.p(o),f="set"+(this.$u?"UTC":""),p=(d={},d[s]=f+"Date",d[c]=f+"Date",d[a]=f+"Month",d[l]=f+"FullYear",d[n]=f+"Hours",d[i]=f+"Minutes",d[t]=f+"Seconds",d[e]=f+"Milliseconds",d)[u],h=u===s?this.$D+(r-this.$W):r;if(u===a||u===l){var v=this.clone().set(c,1);v.$d[p](h),v.init(),this.$d=v.set(c,Math.min(this.$D,v.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[_.p(e)]()},p.add=function(e,r){var c,d=this;e=Number(e);var u=_.p(r),f=function(t){var i=y(d);return _.w(i.date(i.date()+Math.round(t*e)),d)};if(u===a)return this.set(a,this.$M+e);if(u===l)return this.set(l,this.$y+e);if(u===s)return f(1);if(u===o)return f(7);var p=(c={},c[i]=6e4,c[n]=36e5,c[t]=1e3,c)[u]||1,h=this.$d.getTime()+e*p;return _.w(h,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var i=e||"YYYY-MM-DDTHH:mm:ssZ",n=_.z(this),s=this.$locale(),o=this.$H,a=this.$m,r=this.$M,l=s.weekdays,c=s.months,d=function(e,n,s,o){return e&&(e[n]||e(t,i))||s[n].substr(0,o)},f=function(e){return _.s(o%12||12,e,"0")},p=s.meridiem||function(e,t,i){var n=12>e?"AM":"PM";return i?n.toLowerCase():n},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:r+1,MM:_.s(r+1,2,"0"),MMM:d(s.monthsShort,r,c,3),MMMM:d(c,r),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:d(s.weekdaysMin,this.$W,l,2),ddd:d(s.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(o),HH:_.s(o,2,"0"),h:f(1),hh:f(2),a:p(o,a,!0),A:p(o,a,!1),m:String(a),mm:_.s(a,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:n};return i.replace(u,function(e,t){return t||h[e]||n.replace(":","")})},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(e,c,d){var u,f=_.p(c),p=y(e),h=6e4*(p.utcOffset()-this.utcOffset()),v=this-p,g=_.m(this,p);return g=(u={},u[l]=g/12,u[a]=g,u[r]=g/3,u[o]=(v-h)/6048e5,u[s]=(v-h)/864e5,u[n]=v/36e5,u[i]=v/6e4,u[t]=v/1e3,u)[f]||v,d?g:_.a(g)},p.daysInMonth=function(){return this.endOf(a).$D},p.$locale=function(){return g[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var i=this.clone(),n=m(e,t,!0);return n&&(i.$L=n),i},p.clone=function(){return _.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},f}(),w=k.prototype;return y.prototype=w,[["$ms",e],["$s",t],["$m",i],["$H",n],["$W",s],["$M",a],["$y",l],["$D",c]].forEach(function(e){w[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),y.extend=function(e,t){return e(t,k,y),y},y.locale=m,y.isDayjs=b,y.unix=function(e){return y(1e3*e)},y.en=g[v],y.Ls=g,y}),function(e){"use strict";var t=e.Disney,i=e.Grill,n=e.dayjs,s=e.jQuery;t.Countdown=function(i){this.el=i,this.render=function(){var i=s(this.el).find("li"),a=s.Deferred();return n.extend(e.dayjsPluginUTC["default"]),t.geo(function(e){if(i=i.filter(function(i,n){var o={get:function(){return s(n).data()}};return!t.vis.geoExcluded(o,e)}).slice(0,1),i.length){var r=i.find(".clock:first").html();i.each(function(e,t){var i=s(t),a=n.utc(i.data("datetime")),l=i.data("locked"),c=i.data("preStateModal"),d=i.data("postStateModal"),u=s(".clock",t),f=s(".cta",t),p=s(".title",t);i.removeClass("hidden"),l&&(a=a.local()),c&&o(c,f.filter(":not(.finished)").children("a")),d&&o(d,f.filter(".finished").children("a")),u.countdown(a.format("YYYY-MM-DD HH:mm"),function(e){e.elapsed||s(this).html(e.strftime(r)),f.filter(":not(.finished)").length||p.filter(":not(.finished)").addClass("center"),f.filter(".finished").length||p.filter(".finished").addClass("center"),p.add(f).filter(":not(.finished)").toggleClass("hidden",e.elapsed),p.add(f).filter(".finished").toggleClass("hidden",!e.elapsed),s(this).toggleClass("hidden",e.elapsed)})}),a.resolve()}else a.reject()}),a.promise()}};var o=function(e,t){var n=t.data("cto")||"",s=t.data("modalCto")||"",o=new i.ModalView({model:e,name:"countdown",tracking:{engagementMeta:n,eventCategory:"SW"+s+"Modal"}});t.on("click",function(e){o.show({event:e})})}}(this),function(e){"use strict";function t(){var t=e.window.location.pathname.split("/")[1];"games-apps"===t&&(t="interactive");var i=t?n('nav a[href^="/'+t+'"]'):null,s=n("#nav-outer-container").data("section"),o=t?i.data("section"):null;n("nav a").removeClass("active"),i&&i.addClass("active"),s&&n("#nav-outer-container").removeClass(s+"-content has-border"),t&&o&&n("#nav-outer-container").data("section",o).addClass(o+"-content has-border")}var i=e.Disney,n=e.jQuery;n(function(){"undefined"!=typeof i.top?i.top.on("ready",t):t()})}(this),function(e){"use strict";var t=e.NAV=e.NAV||{};t.queue=t.queue||[],t.opts=t.opts||{};var i=e.NAV,n=e.document,s=n.documentElement,o=String.prototype.trim,a=Array.prototype.splice,r=Array.prototype.slice,l=o||function(){return this.toString().replace(/^\s+|\s+$/g,"")},c={};e.NAV.load=function(t,i){var n=e.document,s=n.getElementsByTagName("script")[0],o=n.createElement("script");o.type="text/javascript",o.async="async",o.onload=o.onreadystatechange=function(e,t){var n=this,s=n.readyState,o=n.parentNode;!o||!t&&s&&"complete"!==s&&"loaded"!==s||(o.removeChild(this),!t&&i&&i())},o.src=t,s.parentNode.insertBefore(o,s),o=n=s=null};var d=function(e){var t=e.apply?e:i[e[0]];t&&t.apply&&t.apply(i,e.slice?e.slice(1):[])};e.setTimeout(function(){for(var e=i.queue||[],t=0;t<e.length;++t)d(e[t]);i.queue={push:d}},1),i.on=function(e,t,i){var n=c[e]||(c[e]=[]);return t&&n.push({f:t,c:i}),this},i.off=function(e,t,i){var n,s,o,a=0;if(e)if(t){if(n=c[e])for(s=c[e]=[];a<n.length;++a)o=n[a],o.f===t&&(i?o.c===i:o.c===this)&&s.push(o)}else delete c[e];else c={};return this},i.trigger=function(e){var t,i=c[e],n=0,s=r.call(arguments,1);if(i)for(i=i.slice();n<i.length;++n)t=i[n],t.f.apply(t.c||this,s);"all"!==e&&this.trigger.apply(this,["all",e].concat(s))};var u=function(t){var i=this.length||0,n=0,s=0;if(t)if(t.nodeType||t===e)n=1,this[i]=t;else for(n=t.length||0;n>s;++s)this[i+s]=t[s];this.length=i+n},f=i.dom=function(e){return new u(e)},p=function(e){var t=this,i=e.target||e.srcElement||s,n=e.fromElement;3===i.nodeType&&(i=i.parentNode),t.type=e.type,t.target=i,t.original=e,t.altKey=!!e.altKey,t.metaKey=!!e.metaKey,t.shiftKey=!!e.shiftKey,t.ctrlKey=!!e.ctrlKey,t.charCode=e.charCode,t.keyCode=e.keyCode,t.relatedTarget=e.relatedTarget||(n===i?e.toElement:n),t.defaultPrevented=!!(e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())};p.prototype={preventDefault:function(){var e=this.original;this.defaultPrevented=!0,e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.original;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},u.prototype={splice:a,add:u,ea:function(e){for(var t=0,i=this.length;i>t;++t)e.call(this[t],t);return this},eaN:function(e){for(var t,i=0,n=this.length;n>i;++i)t=this[i],1===t.nodeType&&e.call(t,i);return this},before:function(e){return this.ea(function(){e.parentNode.insertBefore(this,e)})},after:function(e){var t=e.nextSibling;return t?this.before(t):this.ea(function(){e.parentNode.appendChild(this)})},rm:function(){return this.ea(function(){var e=this.parentNode;e&&e.removeChild(this)}),this},on:function(t,i){var n=r.call(arguments,2);return this.eaN(function(){var s,o=this,a=function(o){o=o||e.event||{type:t},s&&s.call(this,o),i.apply(this,[new p(o)].concat(n))};o.addEventListener?o.addEventListener(t,a,!1):(s=o["on"+t],o["on"+t]=a),o=null})},listener:function(e,t,i){var n=c[e]||(c[e]=[]);return t&&n.push({f:t,c:i}),this},trigger:function(e){var t,i=c[e],n=0,s=r.call(arguments,1);if(i)for(i=i.slice();n<i.length;++n)t=i[n],t.f.apply(t.c||this,s);"all"!==e&&this.trigger.apply(this,["all",e].concat(s))},hasC:function(e){for(var t,i=0,n=this.length;n>i;++i)if(t=this[i],1===t.nodeType&&(" "+t.className+" ").indexOf(" "+e+" ")>-1)return!0;return!1},addC:function(e){var t=e;return e=" "+e+" ",this.eaN(function(){var i=" "+(this.className||"")+" ";i.indexOf(e)<0&&(this.className=l.call(i+t))})},rmC:function(e){return e=" "+e+" ",this.eaN(function(){for(var t=" "+(this.className||"")+" ";t.indexOf(e)>-1;)t=t.replace(e," ");this.className=l.call(t)})},byTag:function(e){var t=f();return this.eaN(function(){t.add(this.getElementsByTagName(e))}),t}},f.byId=function(e){return f(n.getElementById(e))},f.byTag=function(e){return f(s).byTag(e)},f.byName=function(e){return f(n.getElementsByName(e))},f.byClass=function(e){return f(n.getElementsByClassName?n.getElementsByClassName(e):n.querySelectorAll(e))},f.parse=function(e){var t=n.createElement("div");return t.innerHTML=e,f(t.childNodes)},f.contains=s.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:s.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!!(n&&1===n.nodeType&&i.contains&&i.contains(n))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},f.create=function(e){return f(n.createElement(e))},i.go=function(e){return e}}(this),function(e){"use strict";function t(e){return r.Deferred(function(t){var i=e.displayName,n=e.profile,s=e.tokens,o={};i&&i.displayName&&(o.username=i.displayName),n&&n.swid&&(o.swid=n.swid),s&&s.access&&(o.token=s.access),t.resolve(o)}).promise()}function i(e){var t="url("+e+")";p().css({"background-image":t,"background-size":"100%","background-color":"transparent"})}function n(e){var t=new RegExp(d+"$");return e.match(t)?void p().removeAttr("style"):void i(e)}function s(){p().removeAttr("style")}var o,a=e.Disney.SocialServices,r=e.jQuery,l=e.NREUM,c="SMALL",d="default-SMALL-LOW.png",u=function(){return e.__disneySocial},f=function(){return e.__disneySocial.avatar},p=function(){return r("div.nav-login").find("span.user-avatar")};a.auth=function(i){var n,s=r.Deferred();if(!u()){var a="Unable to connect with SocialHub: Social Services are Unavailable";return l&&l.noticeError(a),s.reject(a),s.promise()}return t(i).then(function(e){n=e,o===e.token?s.resolve(e.swid):(o=e.token,u().authDisneyID(e.username,e.swid,e.token))}),u().onAuthDisneyID(function(){s.resolve(n.swid)}),e.setTimeout(function(){if("pending"===s.state()&&(s.reject("Unable to connect with Social Hub: Social Services never called back"),l)){var e=new Error("AVATAR SERVICE ERROR: __disneySocial.avatar.authDisneyID() did not respond");l.noticeError(e)}},5e3),s.promise()},a.unauth=function(){o=void 0,u()&&u().unauthDisneyID()},a.pickAvatar=function(e){e.refresh().then(a.auth).then(function(){f().pickAvatar(n,c)},function(e){l&&l.noticeError(e)})},a.displayAvatar=function(e){f().subscribeToAvatar(e,c,n,!0)},a.defaultAvatar=function(){s()}}(this),!jQuery.support.cors&&window.XDomainRequest){var httpRegEx=/^https?:\/\//i,getOrPostRegEx=/^get|post$/i,sameSchemeRegEx=new RegExp("^"+location.protocol,"i"),xmlRegEx=/\/xml/i;jQuery.ajaxTransport("text html xml json",function(e,t,i){if(e.crossDomain&&e.async&&getOrPostRegEx.test(e.type)&&httpRegEx.test(t.url)&&sameSchemeRegEx.test(t.url)){var n=null,s=(t.dataType||"").toLowerCase();return{send:function(i,o){n=new XDomainRequest,/^\d+$/.test(t.timeout)&&(n.timeout=t.timeout),n.ontimeout=function(){o(500,"timeout")},n.onload=function(){var e="Content-Length: "+n.responseText.length+"\r\nContent-Type: "+n.contentType,t={code:200,message:"success"},i={text:n.responseText};try{if("json"===s)try{i.json=JSON.parse(n.responseText)}catch(a){t.code=500,t.message="parseerror"}else if("xml"===s||"text"!==s&&xmlRegEx.test(n.contentType)){var r=new ActiveXObject("Microsoft.XMLDOM");r.async=!1;try{r.loadXML(n.responseText)}catch(a){r=void 0}if(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)throw t.code=500,t.message="parseerror","Invalid XML: "+n.responseText;i.xml=r}}catch(l){throw l}finally{o(t.code,t.message,i,e)}},n.onerror=function(){o(500,"error",{text:n.responseText})},n.open(e.type,e.url),n.send()},abort:function(){n&&n.abort()}}}})}!function(e){"use strict";var t,i=e.jQuery,n=e.navigator,s="https:"===e.location.protocol,o=Array.prototype.slice,a=[],r=function(e){null===a?e(t):a.push(e)},l=e.cto={trackPagination:function(e){for(e+="";e.length<2;)e="0"+e;r(function(t){var i=t.pageName;i&&(t.pageName=i.replace(/\|page_\d+$/,"")+"|page_"+e,t.track())})}};i.each(["resetObj","track","trackEvent","trackLink","trackVideo","trackGame"],function(e,t){l[t]=function(){var e=o.call(arguments),i=e[0];i&&i.ctoSrcPath&&c(i.ctoSrcPath),r(function(i){i[t].apply(i,e)})}});var c=function(o){function r(){t=new e.CTO;var i=0,n=function(){i<a.length?(a[i](t),++i,e.setTimeout(n,200)):a=null};n()}n&&"preview"===n.loadPurpose||e.cto.account||(i(e).one("CTOReady",r),i.ajax((s?"https://global":"http://aglobal")+".go.com"+o,{dataType:"script",cache:!0}))}}(this),function(e){"use strict";var t=e.jQuery;e.Tracker={page:function(i){var n={pageName:""};t.extend(n,i),e.cto.track({pageName:n.pageName})},event:function(i){var n={eventCategory:null,action:null,label:null,value:null};t.extend(n,i),n.engagementType=n.eventCategory+":"+n.action,e.cto.trackEvent(n)},link:function(i){var n={linkPosition:null,linkName:null,isChrome:!1,href:null};t.extend(n,i),e.cto.trackLink(n.linkPosition,n.linkName,void 0,n.href),n.isChrome&&(n.linkPosition="Chrome: "+n.linkPosition)},video:function(i){var n={analyticsData:null,info:null};t.extend(n,i),e.cto.trackVideo(n.analyticsData)}},t(function(){t("#nav-outer-container").on("click","li a, #nav-sw-logo, #nav-sw-logo-bar, .sponsor a, .sw-kids-container a",function(){var i=t(this),n=i.attr("href"),s=i.data("cto")||"",o="";switch(s){case"ac":return;case"social":o="/"+i.attr("class"),s+="/link";break;case"section":o="/"+i.data("section"),s+="/link";break;case"swlogo":o="/starwars-logo",s="logo";break;case"sponsorship":o="/link";var a=i.attr("title");a&&(o+="/"+a);break;case"swkids":o="/starwars-kids",s="link";break;default:var r=i.text();r&&(o="/"+r),"object"==typeof s&&"slug"in s&&(s=s.slug)}e.Tracker.link({linkPosition:"top-nav/"+s+o,linkName:"top-nav/"+s,href:n})}),t("footer").on("click","#legal li a, .social-links li a, .sw-kids-container a",function(){var i=t(this),n=i.attr("href"),s=i.data("cto")||"",o="";"social"===s?(o="/"+i.attr("class"),s+="/"):"swkids"===s?(o="/starwars-kids",s=""):o="/"+i.context.innerText.replace(/(\s|\/)/g,"-"),e.Tracker.link({linkPosition:"footer/"+s+"link"+o,linkName:"footer",href:n})})})}(this),function(e,t){"use strict";var i,n,s,o=e._,a=e.NAV,r=a.dom,l=e.document,c=r(l.documentElement),d=e.encodeURIComponent,u="https:"===e.location.protocol,f="sw_nav",p="";a.searchAttemptUsedPlacements={};var h=a.closeSearch=function(){var o=r.byId("nav-ac").rm();e.clearTimeout(s),i=p=n=t,o.length&&(c.rmC("nav-open-search"),c.hasC("nav-open-menu")||(c.rmC("nav-open"),a.trigger("close")),a.trigger("close:search"))},v=function(e,n){var o=i&&i.value;if(s=t,o!==t&&o!==p){p=o;var r=l.getElementById("nav-search-container");if(""===o)r&&r.classList.remove("ac-results"),h();else{r&&r.classList.add("ac-results");var c=a.a+d(o)+"?"+(u?"s":"")+"&p="+e+(n?"&f[search_section]="+d(n):"");a.load(c),a.trigger("change:search",e)}}},g=function(e){var t=r.byId("nav-ac").byTag("li"),i=t.length-1;i>=0&&(n=e,0>n&&(n=i),n>i&&(n=0),t.rmC("nav-active"),r(t[n]).addC("nav-active"))},b=function(e){g(n!==t?n+e:e>0?0:-1)},m=function(e){a.trigger("click"),a.trigger("click:search",e,this)},y={13:function(t){var i=r(r.byId("nav-ac").byTag("li")[n]).byTag("a")[0];return i?(m.call(i),e.location.href=i.href):a.trigger("submit:search",t),h(),!!i},27:function(){return i?(h(),!0):void 0},38:function(){return b(-1),!0},40:function(){return b(1),!0}},_=function(t,n,o){var a=y[t.keyCode];9===t.keyCode&&l.getElementById("nav-ac")&&(a=t.shiftKey===!0?y[38]:y[40]),i=this,a?a.call(this,n)&&t.preventDefault():s||(s=e.setTimeout(function(){v(n,o)},100))};a.ac=function(e,t,i){return i=o.isUndefined(i)?"":i,r(e).byTag("form").ea(function(){var e=r(this);e.hasC("nav-search")&&e.byTag("input").ea(function(){"q"===this.name&&(t=t||f,this.setAttribute("autocomplete","off"),r(this).on("keydown",_,t,i))})}),e},a._aSac=function(e,s){var o=r.byId("nav-ac").rm();o.rm(),o=o.length,i&&(a.go(r.parse(s)).after(i).byTag("li").ea(function(i){r(this).on("mouseover",function(e){var t=e.target;(t===this||r.contains(this,t))&&g(i)}).on("mouseout",function(e){var i=e.relatedTarget;(!i||i!==this&&!r.contains(this,i))&&g(t)}).byTag("a").on("click",m,e)}),o?g(n):(c.hasC("nav-open-menu")||a.trigger("open"),a.trigger("open:search"),c.addC("nav-open-search"),c.addC("nav-open")),a.trigger("accept:search"))},c.on("click",function(t){var n=t.target;i&&n!==i&&e.setTimeout(h,0)});var k=e.cto,w=function(e){k&&k.trackLink(e)},x=function(e){var t=e.getAttribute("data-linkname"),i=e.getAttribute("data-linkposition"),n=e.getAttribute("data-linkinput");return t&&i?n?[t,i,n]:[t,i]:!1};a.on("change:search",function(e){k&&!a.searchAttemptUsedPlacements[e]&&(a.searchAttemptUsedPlacements[e]=!0,k.trackEvent({searchAttempt:"y",engagementType:e}))}),a.on("click:search",function(e,t){var i;e&&(i=x(e.target)),i||(i=x(t)),i[0]&&w({linkName:i[0],linkPosition:i[1],linkUrl:t.href,searchPhraseInput:i[2]})})}(this),function(e){"use strict";function t(){var e=B.open||O.docWidth>898,t=B.open&&O.docWidth<899,i=O.docWidth>898;B.tog[0].setAttribute("aria-label",B.open?"Close Menu":"Open Menu"),O.nav_links.forEach(function(t){t.setAttribute("tabindex",e?"0":"-1"),t.setAttribute("aria-hidden",e?"false":"true")}),O.login_mobile.forEach(function(e){e.setAttribute("tabindex",t?"0":"-1"),e.setAttribute("aria-hidden",t?"false":"true")}),O.login_desktop.forEach(function(e){e.setAttribute("tabindex",i?"0":"-1"),e.setAttribute("aria-hidden",i?"false":"true")})}function i(e,t){T.each(e,function(e){e.setAttribute("tabindex",t)})}function n(e){var t=A.querySelectorAll(".goc-logo-image"),n=T.first(E.byId("goc-instant-search-input"));i(t,e),n&&n.setAttribute("tabindex",e)}function s(){function i(e,t){var i=e.target,n=L(i).closest("li"),s=e.currentTarget,o=t?0:s.childElementCount-1;L(n).index()===o&&(e.preventDefault(),a(!0,!1))}function s(){B.open=v(B.open,{el:[O.outer_container,B.bod],klass:["pushed","pushed"]}),t(),B.open&&a(!0,!0),$.event({eventCategory:"starwars",action:"nav-drawer-"+(B.open?"open":"closed"),abTest:"navigation"})}function a(e,t){if(t){if(e)R.hasClass("show")?O.login_mobile[0].focus():O.nav_links&&O.nav_links.length>0&&O.nav_links[0].focus();else if(j.length>0){var i=j[j.length-1];L(i).find("a").focus()}}else L(B.tog).focus()}function r(){O.search_open=!1,O.search.rmC("visible"),O.search_input[0].value="",P.searchAttemptUsedPlacements={}}function l(){$.event({eventCategory:"starwars",action:"account",abTest:"choose-avatar"}),x&&S.pickAvatar(w)}function u(){var e=E.byClass("logged-in");e.hasC("active")?e.rmC("active"):e.addC("active")}function p(){var e={el:[O.d_chrome,O.chrome_cntrl,O.outer_container],klass:["show","hide","chrome_push"]};if(O.chrome_rst_top&&(O.chrome_open=!0,O.chrome_rst_top=!1),m(k)>0)b(),O.chrome_rst_top=c("open");else{var t="hide";O.chrome_open?n("-1"):(t="show",n("0")),$.event({eventCategory:"starwars",action:"disney-chrome-"+t,abTest:"navigation"}),O.chrome_open=v(O.chrome_open,e)}}var h=E.byId("nav-login");h.add([O.chrome_togg[0],O.search[0],O.social[0]]),O.els=h,O.diff=O.full-O.cmprsd,o(),B.tog.on("click",s),B.tog.on("keydown",function(e){13===e.keyCode&&s(),9===e.keyCode&&B.open&&(e.preventDefault(),a(!e.shiftKey,!0))}),V.on("keydown",function(e){if(9===e.keyCode&&e.shiftKey&&B.open){var t=L(B.content).find(".nav-login"),n=L(t).hasClass("show");n||i(e,!0)}}),j.on("keydown",function(e){9===e.keyCode&&!e.shiftKey&&B.open&&i(e,!1)}),R.on("keydown",function(e){var t=e.target,i=0===L(t).index();9===e.keyCode&&e.shiftKey&&B.open&&i&&(e.preventDefault(),L(B.tog).focus())}),B.overlay.on("click",function(){
O.outer_container.hasC("pushed")&&(B.open=d(),t())}),O.section_link.listener("close:drawer",function(){e.setTimeout(function(){B.open=d()},300)}),O.section_link.on("click",function(){E.byClass("active")[0]!==this&&O.section_link.trigger("close:drawer")}),O.mobile_logo.on("click",function(){O.section_link.trigger("close:drawer"),E.byClass("active")[0]!==this&&e.setTimeout(function(){B.open=d()},300)}),O.search_togg.on("click",function(){O.search_open=v(O.search_open,{el:[O.search,O.login],klass:["visible","visible"]});var e=O.search_open?"open":"closed";$.event({eventCategory:"starwars",action:"search-icon-"+e,abTest:"navigation"}),"open"===e?O.search_input[0].focus():(P.closeSearch(),O.search_input[0].blur())}),O.search_close.on("click",function(e){e.preventDefault(),P.closeSearch(),r()}),O.search_close.on("blur",function(){e.setTimeout(function(){e.document.activeElement!==O.search_input[0]&&r()},200)}),O.search_input.on("keydown",function(e){27===e.keyCode&&P.closeSearch()}),O.search_input.on("focus",function(){O.search.addC("visible")}),O.search_input.on("blur",function(){e.setTimeout(function(){e.document.activeElement!==O.search_close[0]&&r()},200)}),O.search_form.on("submit",function(){e.cto.trackLink({linkName:"navigation/search/link/search_enter",linkPosition:"navigation/search",searchPhraseInput:O.search_input[0].value})}),O.did_log_in.on("click",function(){f("log-in")}),O.did_log_in.on("keydown",function(e){13===e.keyCode&&f("log-in")}),O.did_sign_up.on("click",function(){f("sign-up")}),O.did_sign_up.on("keydown",function(e){13===e.keyCode&&f("sign-up")}),O.choose_avatar.on("click",l),O.choose_avatar.on("keydown",function(e){13===e.keycode&&l()}),O.userName.on("click",function(){u()}),O.userName.on("keydown",function(e){13===e.keyCode&&u()}),O.chrome_togg.on("click",p),O.chrome_togg.on("keydown",function(e){13===e.keyCode&&p()})}function o(){k=E(e)[0],O.init_win_width=k.innerWidth,p(),a(),r(),_(k,"resize",T.throttle(function(){l(),u(),O.docWidth=e.window.innerWidth,t()},300))}function a(){P.a="/_sac/",P.ac(O.search[0],"navigation/search"),O.desktop=O.init_win_width>I.max,O.isTablet=O.isMob&&O.init_win_width>=I.max,O.outer_container.hasC("countdown")&&B.bod.addC("countdown"),O.desktop?A.querySelector("#nav-search-icon").tabIndex=-1:A.querySelector("#nav-search-icon").tabIndex=0}function r(){if(C&&C.Countdown){var e=new C.Countdown(O.countdown);e.render().done(function(){O.countdown.addC("show")}).fail(function(){B.bod.rmC("countdown"),O.countdown.addC("hidden"),O.outer_container.rmC("countdown")})}}function l(){O.desktop=O.init_win_width>I.max}function c(e){var t=[O.d_chrome,O.chrome_cntrl,O.outer_container],i=["show","hide","chrome_push"],n=0;if("open"===e){for(;n<t.length;n++)t[n].addC(i[n]);return!0}for(;n<t.length;n++)t[n].rmC(i[n]);return O.chrome_open=!1,!1}function d(){return B.open&&(O.outer_container.rmC("pushed"),B.bod.rmC("pushed")),!1}function u(){var e=k.innerWidth,t=e>I.max;P.closeSearch(),O.desktop=t,T.each(I,function(t){(e+1>t||t>e-1)&&(O.crssd_ovr=!0)}),O.isMob||(t||O.willReset?O.willReset=!1:(O.bar[0].setAttribute("style",""),b(),O.willReset=!0),T.defer(function(){O.search_open=v(!0,{el:[O.search,O.login],klass:["visible","visible"]})})),O.desktop?A.querySelector("#nav-search-icon").tabIndex=-1:A.querySelector("#nav-search-icon").tabIndex=0,t||O.isMob||(B.open=d()),e>=900&&(e<=I.max||O.desktop&&O.isMob)&&(O.outer_container.rmC("pushed"),B.bod.rmC("pushed")),!t||O.isCompressed||O.isMob||(O.outer_container.addC("full-nav"),O.outer_container.rmC("pushed"),B.bod.rmC("pushed")),O.desktop&&O.isMob&&O.outer_container.hasC("gapless")&&B.bod.addC("gapless")}function f(e){w.current?w.current&&"log-in"===e?($.event({eventCategory:"starwars",action:"account",abTest:"navigation"}),w.update()):(h(w),S.unauth()):($.event({eventCategory:"starwars",action:e,abTest:"navigation"}),("sign-up"===e?w.signup:w.login).call(w).then(function(){$.event({eventCategory:"starwars",action:"log-in-success",abTest:"navigation"})},function(){$.event({eventCategory:"starwars",action:e+"-aborted",abTest:"navigation"})}))}function p(){if(w){var t=E.byClass("nav-login");w.refresh().then(function(e){e&&t.addC("show")},function(i){e.console.log("Guest Refresh Error: ",i),t.addC("show")})}else O.login[0].setAttribute("display","none")}function h(e){e.logout().then(function(){$.event({eventCategory:"starwars",action:"sign out",abTest:"navigation"}),C.updateSWid(null),S.unauth(),x=!1})}function v(e,t){var i=t||{};if(T.isEmpty(i))return!1;var n=T.values(i.el),s=T.values(i.klass);if(e)for(var o=0;o<n.length;o++)n[o].rmC(s[o]);else for(var a=0;a<n.length;a++)n[a].addC(s[a]);return e?!1:!0}function g(e,t,i,n){return e/=n/2,1>e?i/2*e*e+t:(e--,-i/2*(e*(e-2)-1)+t)}function b(){var t=m(k),i=0-t,n=0,s=20,o=function(){n+=s;var a=g(n,t,i,120);A.body.scrollTop=A.documentElement.scrollTop=a,120>n&&e.setTimeout(o,s)};o()}function m(){return void 0!==k.pageYOffset?k.pageYOffset:(A.documentElement||A.body.parentNode||A.body).scrollTop}function y(t,i){var n=!1,s=!0,o=t.document,a=o.documentElement,r=o.addEventListener?"addEventListener":"attachEvent",l=o.addEventListener?"removeEventListener":"detachEvent",c=o.addEventListener?"":"on",d=function(e){("readystatechange"!==e.type||"complete"===o.readyState)&&(("load"===e.type?t:o)[l](c+e.type,d,!1),!n&&(n=!0)&&i.call(t,e.type||e))},u=function(){try{a.doScroll("left")}catch(t){return void e.setTimeout(u,50)}d("poll")};if("complete"===o.readyState)i.call(t,"lazy");else{if(o.createEventObject&&a.doScroll){try{s=!t.frameElement}catch(f){}s&&u()}o[r](c+"DOMContentLoaded",d,!1),o[r](c+"readystatechange",d,!1),t[r](c+"load",d,!1)}}function _(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i}var k,w,x,C=e.Disney,S=C.SocialServices,T=e._,P=e.NAV,E=P.dom,A=e.document,M=e.Modernizr,L=e.jQuery,$=e.Tracker,I=C.Style.breakpoints,D=C.Cookie,O={depth:0,init_win_width:0,diff:0,cmprsd:70,full:300,search_open:!1,chrome_open:!1,chrome_rst_top:!1,desktop:!1,isCompressed:!1,els:{},bar:E.byId("navbar"),countdown:E.byId("countdown"),outer_container:E.byId("nav-outer-container"),d_chrome:E.byId("chrome-container"),chrome_cntrl:E.byId("chrome-controls"),logo:E.byId("nav-sw-logo"),wrapper:E.byId("nav-wrapper"),did_log_in:E.byClass("disid-login"),did_sign_up:E.byClass("disid-signup"),choose_avatar:E.byClass("choose-avatar"),userName:E.byClass("disid-user"),login:E.byId("nav-login"),social:E.byId("social-links"),search:E.byId("nav-search-container"),search_form:E.byId("topnav-search"),search_input:E.byId("nav-search-input"),search_togg:E.byId("nav-search-icon"),search_close:E.byId("nav-search-close-icon"),chrome_togg:E.byId("chrome-controls-container"),section_link:E.byClass("section-link"),mobile_logo:E.byId("nav-sw-logo-bar"),goc_search:E.byId("goc-instant-search-input"),o_pre:M.prefixed("opacity"),isMob:M.mobile,docWidth:e.window.innerWidth,nav_links:A.querySelectorAll("#section-links a"),login_mobile:A.querySelectorAll("#nav-drawer .log-in-out, .drawer-bottom a"),login_desktop:A.querySelectorAll("#nav-utility .log-in-out")},B={open:!1,content:E.byId("nav-content"),tog:E.byId("nav-drawer-toggle"),bod:E.byId("body-wrapper"),overlay:E.byId("page-overlay")},j=L(B.content).find("#social-links"),V=L(B.content).find("#section-links"),R=L(B.content).find(".nav-login");t(),e.GOC&&e.GOC.queue.push(function(){this.on("accept:base",function(){n("-1")})}),n("-1"),C.NAV=function(e){function t(){(w.watched()||w.current)&&(C.updateSWid(w.current),x||S.auth(w.current).then(function(e){S.displayAvatar(e),x=!0},function(){S.defaultAvatar(),x=!1}))}function i(){w.current?O.userName[0].focus():O.did_log_in.length>0&&O.did_log_in[0].focus()}w=e,w.on("login",t),w.on("close",i)},C.updateSWid=function(t){var i=E.byClass("nav-login"),n=E.byClass("disid-user"),s="innerText"in O.login?"innerText":"textContent";if(t){var o="",a=e.unescape(t.profile.swid);D.set("SWID",a,{domain:D.domain(),expires:7300,raw:!0}),t.profile&&t.profile.firstName?o=t.profile.firstName:t.displayName&&t.displayName.displayName&&(o=t.displayName.displayName),i.addC("logged-in");for(var r=0;r<n.length;r++)n[r][s]=o}else i.rmC("logged-in")},y(e,s)}(this),function(e){"use strict";var t=e.Disney,i=e.Backbone,n=e._,s="change:watched",o=function(e,t){t?this.retain():this.release()},a=function(e){e!==s&&this.trigger.apply(this,arguments)},r=function(e){this.current=n.extend(this.current||{},n.reduce(e,function(e,t,i){return t&&(e[i]=t),e},{}))},l=function(){this.current=void 0},c={},d=["login","logout","signup","refresh","update"],u=t.GuestContext=function(e){this._h=e||{},this.on("login",r),this.on("signup",r),this.on("refresh",r),this.on("update",r),this.on("logout",l)};u.actions=d,n.extend(u.prototype,i.Events,{_r:0,retain:function(){return 0===this._r++&&this.trigger(s,this,!0),this},release:function(){this._r>0&&0===--this._r&&this.trigger(s,this,!1)},watched:function(){return this._r>0},spawn:function(){var e=new u(c);return e._p=this,e.current=this.current,e.on(s,o,this),this.on("all",a,e),e},disown:function(e){e.off(s,o,this),this.off("all",a,e),e._r>0&&this.release()}});var f=function(){throw"Not implemented"};n.each(d,function(e){u.prototype[e]=function(){return(this._h[e]||f).apply(this,arguments)},c[e]=function(){return this._p[e].apply(this._p,arguments)}})}(this),function(e,t){"use strict";function i(){}var n,s,o=e.Disney,a=e._,r=e.JSON,l=a.rest,c={query:i,provide:i,pub:i,sub:i};r&&e.postMessage&&(e.addEventListener?(n=function(t){e.addEventListener("message",t,!1)},s=function(t){e.removeEventListener("message",t,!1)}):e.attachEvent&&(n=function(t){e.attachEvent("onmessage",t)},s=function(t){e.detachEvent("onmessage",t)})),o.xdc=function(e,i,o,d){function u(t){var n=v+r.stringify([t].concat(l(arguments)));e.postMessage(n,i)}function f(e){var n,s,o=h.length;e.origin===i&&"string"==typeof e.data&&e.data.substr(0,o)===h&&(n=r.parse(e.data.substr(o)),"string"==typeof n[0]&&(s=a.has(p,n[0])&&p[n[0]])&&s.apply(t,l(n)))}var p,h="xdc "+o+" ",v="xdc "+(d||o)+" ",g={},b={},m={};return n?(n(f),p={call:function(e,i,n){function s(){if(r++)throw"reply already sent";u("reply",i,a.toArray(arguments))}var o=a.has(b,e)&&b[e],r=0,l=!1;if(o)try{o.apply(t,n.concat([s])),l=!0}finally{l||u("error",i,"unexpected remote exception")}else u("error",i,"undefined remote procedure: "+e)},reply:function(e,i){var n=a.has(g,e)&&g[e];n&&(delete g[e],n.apply(t,i))},notify:function(e,i){var n,s,o=a.has(m,e)&&m[e];if("number"==typeof i.length){if(o)for(n=0,s=o.length;s>n;++n)o[n].apply(t,i);"all"!==e&&p.notify("all",[e].concat(i))}},error:function(e,t){var i=a.has(g,e)&&g[e];if(i)throw delete g[e],""+t}},{query:function(e){var t=l(arguments),i=t[t.length-1],n=a.uniqueId();i&&(g[n]=i,u("call",e,n,a.initial(t)))},provide:function(e,t){b[e]=t},pub:function(e){u("notify",e,l(arguments))},sub:function(e,t){var i=m[e];i||(i=m[e]=[]),i.push(t)},close:function(){s(f)}}):c}}(this),function(e){"use strict";var t,i=[],n="unknown",s=e.Disney.age=function(e){i?i.push(e):e(n)},o=function(){if(i){for(var s=0;s<i.length;++s)i[s](n);e.clearTimeout(t),i=t=null}};s.known=function(e){n="string"==typeof e&&e||"unknown",o()},t=e.setTimeout(o,5e3)}(this),function(e){"use strict";function t(e){e?n.age.known((e.profile.ageBand||"unknown").toLowerCase()):i()}function i(){n.age.known(null)}var n=e.Disney;n.ageGuest=function(e){e&&e.profile&&e.profile.ageBand?t(e):i(),e.refresh().fail(i),e.on("login",t),e.on("update",t),e.on("logout",i)}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e._,s=e.document,o=/^([^\/:]+:\/\/[^\/]+)\//;t.initGuestConsumer=function(a,r){var l=o.exec(a)||o.exec(e.location.href),c=i.Deferred(),d={};return n.each(t.GuestContext.actions,function(e){d[e]=function(){return c.then(function(t){return i.Deferred(function(i){t.query(e,function(e,t){t?i.reject(t):i.resolve(e)})})})}}),d=new t.GuestContext(d),t.ageGuest(d),c.then(function(e){e.sub("all",function(){d.trigger.apply(d,n.toArray(arguments))})}),l?!function(){var e,n=s.createElement("div"),o=s.createElement("iframe");o.setAttribute("allowtransparency","true"),o.setAttribute("frameBorder","0"),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("scrolling","no"),o.setAttribute("style","overflow:hidden;display:block;"),o.src=a,n.setAttribute("style","display:none;min-height:2000px;position:absolute;top:0;bottom:0;width:100%;z-index:10000;"),n.appendChild(o),r=r||s.body,r.appendChild(n),r.style.position="relative",e=t.xdc(o.contentWindow,l[1],"guest"),e.provide("ready",function(t){t(),c.resolve(e)}),d.on("open",function(){n.style.display="block",o.focus&&o.focus(),i("html,body").scrollTop(0)}),d.on("close",function(){n.style.display="none"})}():c.reject(),d}}(this),function(e){"use strict";var t=e.Disney,i=e._,n=e.jQuery;t.initEmptyGuestConsumer=function(){var e={};return i.each(t.GuestContext.actions,function(t){e[t]=function(){return n.Deferred()}}),new t.GuestContext(e)}}(this),function(e){"use strict";var t=e.Disney;t.language=t.language||function(e){var t=e&&e[0],i=t&&t.replace(/-.*$/,"");return i||"en"}(t.locales)}(this),function(e){"use strict";var t=e.console,i=e.Disney,n=i.Ads=i.Ads||{},s=e._;n.MessageBus=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];if(n)try{n.callback(e)}catch(s){d(s)}}}function o(e,t){var i={name:e,body:t},s=(r[e]||[]).slice(0);n(i,s),s=(r["*"]||[]).slice(0),n(i,s)}function a(e,t,i){s.each(c,function(n){if(n!==i)try{n.bus[n.functionName](e,t)}catch(s){}})}var r={},l=this,c={},d=function(i){var n=e.onerror;t&&t.error&&t.error("MessageBus:: "+i.stack||"MessageBus:: "+i.toString()),n&&n("MessageBus:: "+i.toString())};"undefined"==typeof i.Ads.MessageBus.Connections&&(i.Ads.MessageBus.Connections={}),this.addConnection=function(e,t,n){if(!n){var s=e+"_"+Math.round(1e6*Math.random()),r="Disney.Ads.MessageBus.Connections."+s,d=s+"_primarySendMessage",u=s+"_secondarySendMessage",f=function(e,t){o(e,t),a(e,t,h)},p={id:e,bus:l,"function":f,functionName:d,uniqueId:s,globalId:r};i.Ads.MessageBus.Connections[s]={},i.Ads.MessageBus.Connections[s][d]=f,l[d]=f;var h={id:e,bus:{sendMessage:t.sendMessage,addMessageListener:t.addMessageListener,removeMessageListener:t.removeMessageListener,addConnection:t.addConnection,removeConnection:t.removeConnection},functionName:u,uniqueId:s,globalId:r};n={primary:p,secondary:h},i.Ads.MessageBus.Connections[s].connection=n,c[e]=h;try{t.addConnection(e,l,n)}catch(v){}h.bus=t}},this.removeConnection=function(e){var t=c[e];if(t){var n=i.Ads.MessageBus.Connections[t.uniqueId].connection;l[n.primary.functionName]=null,i.Ads.MessageBus.Connections[t.uniqueId]=null,c[e]=null,t&&t.bus&&t.bus.removeConnection&&t.bus.removeConnection(e)}},this.sendMessage=function(e,t){o(e,t),a(e,t)},this.addMessageListener=function(e,t){var i={name:e,callback:t};r[e]||(r[e]=[]),r[e].push(i)},this.removeMessageListener=function(e,t){for(var i=r[e]||[],n=0;n<i.length;n++){var s=i[n];s&&s.name===e&&s.callback===t&&(i[n]=null)}},this.destroy=function(){s.each(c,function(e){l.removeConnection(e)}),c=null,s.each(r,function(e){l.removeMessageListener(e.name,e.callback)}),r=null,l=null}}}(this),function(e){"use strict";var t="https://pubads.g.doubleclick.net/gampad/ads?sz=768x432&iu&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=[referrer_url]&correlator=[timestamp]&cmsid=604",i=e.Disney,n=i.Ads=i.Ads||{},s=e.jQuery,o=e._,a=o.extend,r=function(){},l=function(e){var t=this,i=function(){t.apply(this,arguments)};return r.prototype=this.prototype,i.prototype=new r,a(i.prototype,e),i.sub=this.sub,i},c=n.AbstractAdPlayer=function(e,i){this.config={adTagUrl:t+n.isMobile?"&m_ast=vast":""},e||this.init(e,i)};c.sub=l,c.prototype={id:null,config:null,messageBus:null,analytics:null,init:function(e,t){this.id=e,s.extend(this.config,t)},destroy:function(){this.messageBus&&(this.messageBus.destroy(),this.messageBus=null),this.analytics&&(this.analytics.destroy(),this.analytics=null)}}}(this),function(e){"use strict";function t(){Pe.ajax(we,{dataType:"script",cache:!0,success:i,error:n})}function i(){re=e.google.ima,re.settings.setLocale(Te.language),s()}function n(){ye.messageBus.sendMessage("adOpportunityEnd")}function s(){o(),a(),Ae.mobile||se()}function o(){var e=Pe("#"+ye.id);e.html('<div class="adPlayer"><div class="overlay adStartButton"><img width="100%" src="https://lumiere-a.akamaihd.net/v1/game_container/img/playButton.png" /></div><div class="overlay adControls" style="display:none;z-index:6"><div class="adCountdown"><h3>'+ye.config.translations.advertisement+'</h3></div><div class="adSkipButton"><h3>'+ye.config.translations.skip_ad+'</h3></div></div><div class="overlay playControls" style="z-index:3;"><div class="playButton"></div></div><div class="overlay adClickTarget" style="z-index:4;"></div><video style="display:none" class="playerElement" poster="'+ye.config.poster+'" autoplay="true" width="100%" oncontextmenu="return false;"></video><div class="adsContainer"></div></div>')}function a(){r(),c(),k(),y(),u(),p(),C(),T(),m()}function r(){ue=Pe("#"+ye.id+" .adControls")[0],he=Pe("#"+ye.id+" .adStartButton")[0]}function l(){ue=null}function c(){me=Pe("#"+ye.id+" .playControls"),me.bind("click",L)}function d(){me&&(me.unbind("click",L),me=null)}function u(){ce=Pe("#"+ye.id+" .adClickTarget")[0]}function f(){ce&&(ce=null)}function p(){Pe("#"+ye.id+" .adSkipButton").on("click",v)}function h(){Pe("#"+ye.id+" .adSkipButton").off("click",v)}function v(){ge&&ge.skip()}function g(){ve=new re.AdsLoader(pe),ve.addEventListener(re.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,ie,!1),ve.addEventListener(re.AdErrorEvent.Type.AD_ERROR,ne,!1)}function b(){ve&&(ve.removeEventListener(re.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,ie,!1),ve.removeEventListener(re.AdErrorEvent.Type.AD_ERROR,ne,!1),ve=null)}function m(){Ae.mobile&&Pe(".adPlayer").addClass("hide-controls")}function y(){Ae.mobile&&(Pe(he).addClass("fulloverlay"),Pe(he).on("click",x))}function _(){Pe(he).off("click",x)}function k(){ke=Pe("#"+ye.id+" .playerElement")[0],Ae.mobile&&(ke.style.display="inline"),ke&&ke instanceof Ee&&Pe(ke).on("click",x)}function w(){ke&&ke instanceof Ee&&(Pe(ke).off("click",x),ke.hasOwnProperty("pause")&&ke.pause(),ke=null)}function x(){se()}function C(){fe=Pe("#"+ye.id+" .adsContainer")[0],pe=new re.AdDisplayContainer(fe,ke,ce)}function S(){fe=null,pe=null}function T(){Te.Utilities.onFullScreenChange(E)}function P(){Te.Utilities.offFullScreenChange(E)}function E(){var e=A(),t=e.width,i=e.height,n=e.viewMode;M(t,i),ge.resize(t,i,n)}function A(){var e=Ce,t=Se,i=re.ViewMode.NORMAL;return Te.Utilities.isFullScreen()&&(e=Le.innerWidth,t=Le.innerHeight,i=re.ViewMode.FULLSCREEN),{width:e,height:t,viewMode:i}}function M(e,t){Pe("#"+ye.id).parent().width(e).height(t)}function L(){return de?void(de=!1):De&&(De=!1,Ae.kindle)?void se():(I(),B(),void(ge.isCustomPlaybackUsed()?ke.play():ge.resume()))}function $(){b(),ee(),l(),d(),f(),h(),S(),P(),w(),_()}function I(){ge.isCustomClickTrackingUsed()&&Pe(ce).addClass("fulloverlay")}function D(){Pe(ce).removeClass("fulloverlay")}function O(){Pe(me[0]).addClass("fulloverlay")}function B(){Pe(me[0]).removeClass("fulloverlay")}function j(){ue.style.display="inline"}function V(){ue.style.display="none"}function R(){I()}function U(){be&&ye.messageBus.sendMessage("adEnd"),ye.messageBus.sendMessage("adOpportunityEnd"),D(),B(),V()}function N(){de=!0,le=!0,Ae.mobile&&(D(),O()),Me(K,0)}function F(){ye.messageBus.sendMessage("paused")}function z(t){var i=t.getAd().getAdPodInfo().getIsBumper(),n=Math.round(t.getAd().getDuration());Oe=!1,W(),!i&&n>xe&&(j(),H(),be=!0,ye.messageBus.sendMessage("adStart"),_e=e.setInterval(H,1e3),ye.messageBus.sendMessage("played"))}function H(){var e=Math.round(ge.getRemainingTime());Pe("#"+ye.id+" .adCountdown h3").html(ye.config.translations.advertisement+": "+e)}function W(){Pe("#"+ye.id+" .adSkipButton").toggle(Oe)}function K(){de=!1}function q(){R()}function G(){_e&&e.clearInterval(_e),Me(U,0)}function J(){if(Ae.mobile&&!ge.isCustomPlaybackUsed()){ke&&(ke.style.visibility="hidden");var e=fe&&fe.firstChild;e&&(e.style.top=0,e.style.width="100%",e.style.height="100%")}}function Y(){ye.messageBus.sendMessage("adProgress")}function Q(){}function X(){ge&&(Oe=ge.getAdSkippableState(),W())}function Z(e){var t={currentTime:0};try{ge=e.getAdsManager(t)}catch(i){}ge&&(ge.addEventListener(re.AdEvent.Type.CLICK,Q),ge.addEventListener(re.AdEvent.Type.LOADED,J),ge.addEventListener(re.AdEvent.Type.CONTENT_PAUSE_REQUESTED,Q),ge.addEventListener(re.AdEvent.Type.CONTENT_RESUME_REQUESTED,Q),ge.addEventListener(re.AdErrorEvent.Type.AD_ERROR,Q),ge.addEventListener(re.AdEvent.Type.FIRST_QUARTILE,Y),ge.addEventListener(re.AdEvent.Type.MIDPOINT,Y),ge.addEventListener(re.AdEvent.Type.THIRD_QUARTILE,Y),ge.addEventListener(re.AdEvent.Type.COMPLETE,Y),ge.addEventListener(re.AdEvent.Type.ALL_ADS_COMPLETED,Q),ge.addEventListener(re.AdErrorEvent.Type.AD_ERROR,Q),ge.addEventListener(re.AdEvent.Type.STARTED,z),ge.addEventListener(re.AdEvent.Type.PAUSED,F),ge.addEventListener(re.AdEvent.Type.CLICK,N),ge.addEventListener(re.AdEvent.Type.CONTENT_PAUSE_REQUESTED,q),ge.addEventListener(re.AdEvent.Type.CONTENT_RESUME_REQUESTED,G),ge.addEventListener(re.AdEvent.Type.SKIPPABLE_STATE_CHANGED,X),ge.addEventListener(re.AdEvent.Type.SKIPPED,Q))}function ee(){if(ge){ge.removeEventListener(re.AdEvent.Type.CLICK,Q),ge.removeEventListener(re.AdEvent.Type.LOADED,J),ge.removeEventListener(re.AdEvent.Type.CONTENT_PAUSE_REQUESTED,Q),ge.removeEventListener(re.AdEvent.Type.CONTENT_RESUME_REQUESTED,Q),ge.removeEventListener(re.AdErrorEvent.Type.AD_ERROR,Q),ge.removeEventListener(re.AdEvent.Type.FIRST_QUARTILE,Y),ge.removeEventListener(re.AdEvent.Type.MIDPOINT,Y),ge.removeEventListener(re.AdEvent.Type.THIRD_QUARTILE,Y),ge.removeEventListener(re.AdEvent.Type.COMPLETE,Y),ge.removeEventListener(re.AdEvent.Type.ALL_ADS_COMPLETED,Q),ge.removeEventListener(re.AdErrorEvent.Type.AD_ERROR,Q),ge.removeEventListener(re.AdEvent.Type.STARTED,z),ge.removeEventListener(re.AdEvent.Type.PAUSED,F),ge.removeEventListener(re.AdEvent.Type.CLICK,N),ge.removeEventListener(re.AdEvent.Type.CONTENT_PAUSE_REQUESTED,q),ge.removeEventListener(re.AdEvent.Type.CONTENT_RESUME_REQUESTED,G),ge.removeEventListener(re.AdEvent.Type.SKIPPABLE_STATE_CHANGED,X),ge.removeEventListener(re.AdEvent.Type.SKIPPED,Q);try{ge.destroy()}catch(e){}ge=null}}function te(){var e=A(),t=e.width,i=e.height,n=e.viewMode;M(t,i),ge.init(t,i,n)}function ie(e){if(Z(e),ge)try{te(),ge.start()}catch(t){}}function ne(){U()}function se(){Pe(he).removeClass("fulloverlay"),oe()}function oe(){ve||(g(),ye.messageBus.sendMessage("adOpportunityStart"),ve.requestAds(ae()),pe.initialize(),Ae.kindle||(ke.play(),ke.pause()))}function ae(){var e=new re.AdsRequest;return e.adTagUrl=ye.config.adTagUrl,e.adType="video",e.linearAdSlotWidth=Ce,e.linearAdSlotHeight=Se,e.nonLinearAdSlotWidth=Ce,e.nonLinearAdSlotHeight=Se,e}var re,le,ce,de,ue,fe,pe,he,ve,ge,be,me,ye,_e,ke,we="https://imasdk.googleapis.com/js/sdkloader/ima3.js",xe=6,Ce=750,Se=500,Te=e.Disney,Pe=e.jQuery,Ee=e.HTMLVideoElement,Ae=e.Modernizr,Me=e.setTimeout,Le=e.window,$e=Te.Ads=Te.Ads||{},Ie=$e.AbstractAdPlayer,De=!0,Oe=!1;$e.HTMLAdPlayer=Ie.sub({init:function(e,i){e&&(ye=this,Ie.prototype.init.call(this,e,i),ye.messageBus.sendMessage("adOpportunityStart"),t())},destroy:function(){$(),ee(),b();var e=Pe("#"+ye.id);e.empty(),ye=null,Ie.prototype.destroy.call(this)}})}(this),function(e){"use strict";var t=e.Disney,i=t.Ads=t.Ads||{},n=i.HTMLAdPlayer;t.Ads.AdPlayer=function(e,i){var s;return s=new n,s.messageBus=new t.Ads.MessageBus,s.analytics=new t.Ads.Analytics(s),i&&!i.poster&&(i.poster=""),s.init(e,i),s}}(this),function(e){"use strict";function t(e){return l.Deferred(function(t){s.age(function(i){"unknown"!==i&&e.setTargeting("age",i),t.resolve()})}).promise()}function i(){return e.ActiveXObject&&"undefined"!=typeof u.documentElement.style.opacity}var n,s=e.Disney,o=s.Ads=s.Ads||{},a=e.Modernizr,r=e.Backbone,l=e.jQuery,c=e._,d=e.location.host,u=e.document,f=c.each,p=c.extend;e.googletag=p({cmd:[]},e.googletag);var h=function(t){e.googletag.cmd.push(function(){t(e.googletag)})},v=function(){return"production"!==s.env&&(d=d.match(/\.local\.diznee\.net/)?d.split(".").slice(0,-3).join("."):d.replace(/-.+\.fe\.mh\.disney\.io/,"").replace(/_/g,".")),d.replace("www.","")},g=function(){var e=/^(?:[a-z0-9-]+\.)*?([a-z0-9-]+(?:\.com?)?(?:\.[a-z]{2})?)$/;return v().match(e)[1]},b=function(){},m=function(e){var t=this,i=function(){t.apply(this,arguments)};return b.prototype=this.prototype,i.prototype=new b,p(i.prototype,e),i.sub=this.sub,i},y=function(e,t,i,n){var s=this;this.id||(this.id=c.uniqueId("gpt-")),c.isArray(i[0])||(i=[i]),s._w=i[0][0],s._h=i[0][1],s.name||(s.name=e),s._d=i,s.events=c.extend({},r.Events),h(function(e){s.define(e,t,n)})};y.sub=m,y.prototype={define:function(e,t,i){var n=this._s=e.defineSlot(t,this._d,this.id);f(i,function(e,t){n.setTargeting(t,e)}),n.addService(e.pubads())},tag:function(){return'<aside class="gpt '+this.name+'" id="'+this.id+'" style="'+this.style()+'"></aside>'},style:function(){return"width:"+this._w+"px;height:"+this._h+"px"},ready:function(){var e=this;e._$=l("#"+this.id),h(function(){n(),t(e._s).then(function(){D(e.id)})})},restore:function(){this._$&&!this._$.closest("html").length&&l("#"+this.id).remove()},remove:function(){this._$.remove()},refresh:function(){var e=this._s;e&&h(function(t){t.pubads().refresh([e])})},sizes:function(){return c.map(this._d,function(e){return e[0]+"x"+e[1]})}};var _,k,w=y.sub({tag:function(){return'<div class="gpt '+this.name+'" id="'+this.id+'"></div>'}}),x=y.sub({define:function(e,t,i){var n=this._s=e.defineOutOfPageSlot(t,this.id);f(i,function(e,t){n.setTargeting(t,e)}),n.addService(e.pubads())},tag:function(){return'<div class="gpt '+this.name+'" id="'+this.id+'"></div>'}}),C=[300,60];a.mobile?(k="gpt_mobile.js",_={"native":[w,[2,2]],overlay:[x,[320,356]]},r.Resize.width()>=728&&(l("html").addClass("tablet-ads"),_.overlay=[x,[728,425]])):(k="gpt.js",_={"native":[w,[2,2]],overlay:[x,[924,545]]});var S,T,P,E=o.DoubleClickAdContext=function(e){var t=this;t.adData=e,t.slots=P={},t.adCounts={},t.translations={advertisement:"Advertisement",skip_ad:"Skip Ad"},t.unit=S=a.mobile&&t.adData.config.mobile||t.adData.config.web,t._t=T=t.adData.config.targeting,t.adSystem="dfp",t.companion="gpt-companion:300:60",t.ageReady=l.Deferred(function(e){s.age(e.resolve)}).promise(),t.status=function(){return t.ageReady},t.useAdPattern=function(){return!0},t.iterateRegistryName=function(e){var i=t.adCounts[e]||0,n=e;return i>0&&(n=e+"-"+i),t.adCounts[e]=i+1,n},this.bindGptEventListeners()},A=function(e){var t=e.externals||[],i=t.length>0?t[0]:{};return i},M=function(e,t){return(c.find(t,function(t){return t.kaltura_act_id===e.account&&(!t.kaltura_group||t.kaltura_group===e.group)})||{cms_id:2044}).cms_id};E.prototype={noAds:function(){return!this.unit},tag:function(e,t,i){var n,s=_[e];return s?(n=s[0],s=new n(e,i||this.unit,s[1],p({},this._t,t)),this.slots[this.iterateRegistryName(e)]=s,s.tag()):""},showCDSAds:function(){return!1},cds:function(){return!!this.adData.cds},refresh:function(){var t=this;h(function(i){s.age(function(){e.setTimeout(function(){i.pubads().refresh(c.pluck(t.slots,"_s"))},0)})})},ready:function(){f(this.slots,function(e){e.ready()}),this.refresh()},helpers:function(e,t,i){var n=this,s={};return f(_,function(e,o){s[o+"Ad"]=function(){return n.tagWithTargeting(o,t,i)}},this),s},tagWithTargeting:function(e,t,i){return this.tag(e,p({},t,this.adTargeting),i)},setTranslation:function(e,t){this.translations[e]=t},setTargeting:function(e,t){this._t[e]=t},sizes:function(){return c.union.apply(c,c.invoke(this.slots,"sizes"))},getVideoAdTagUrl:function(e){var t=this.video?this.video:{},i=this.adData.cmsIdKalturaMap||[{}],n=M(A(t),i),o=encodeURIComponent(s.Ads.getAdUnit()),r=encodeURIComponent(s.Ads.getCompanionSizesString()),l=encodeURIComponent(s.Ads.getTargetingString()),c=encodeURIComponent(s.Ads.getAdRule()),d=encodeURIComponent(s.Ads.getDescriptionUrl()),u="https://pubads.g.doubleclick.net/gampad/ads?sz=768x432&adRule="+c+"&iu="+o+"&ciu_szs="+r+"&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=[referrer_url]&correlator=[timestamp]&cmsid="+n+"&cust_params="+l+"&description_url="+d;return e&&e.length>0&&(u+="&vid="+e),a.mobile&&(u+="&m_ast=vast"),u},gptSlotLookupAndTrigger:function(e,t){var i=c.find(this.slots,function(e){return e._s===t.slot});i&&i.events.trigger(e,t)},bindGptEventListeners:function(){var e=this;h(function(t){["slotRenderEnded"].forEach(function(i){t.pubads().addEventListener(i,function(t){e.gptSlotLookupAndTrigger.call(e,i,t)})})})},findSlotById:function(e){return c.find(this.slots,function(t){return t.id===e})}},f(["restore","remove"],function(e){E.prototype[e]=function(){f(this.slots,function(t){t[e]()})}});var L=function(e){return e.replace(/[^\w\|]/gi,"")},$=function(){return e.location.hostname},I=function(){var e=s.abn&&s.abn.testcase();return e?L(e.id+"|"+e.group):""};n=c.once(function(){var t=e.googletag,i=t.pubads(),n=I();i.setTargeting("tstHostname",$()),n&&i.setTargeting("abTest",encodeURIComponent(n)),i.enableAsyncRendering(),i.collapseEmptyDivs(),i.disableInitialLoad(),t.enableServices()});var D=function(t){e.googletag.display(t);var i=new e.MutationObserver(function(e){e.forEach(function(e){for(var t=e.target.querySelectorAll("iframe"),i=0;i<t.length;i++)t[i].setAttribute("tabindex","-1")})}),n={childList:!0,subtree:!0},s=u.getElementById(t);s&&i.observe(s,n)};l(function(){var e={dataType:"script",cache:!0};l.ajax("//www.googletagservices.com/tag/js/"+k,e)}),e.sendJSEvent=function(e){try{"pauseVideo"===e?s.Ads.getPlayer().messageBus.sendMessage("pause"):"playVideo"===e&&s.Ads.getPlayer().messageBus.sendMessage("resume")}catch(t){}};var O,B=function(e){if(u.createEvent){var t=u.createEvent("Event");t.initEvent(e,!0,!0),u.dispatchEvent(t)}},j=function(){u.attachEvent&&!i()?u.documentElement.fakePlayEvent++:B("DisneyMediaPlayerPlay")},V=function(){u.attachEvent&&!i()?u.documentElement.fakePauseEvent++:B("DisneyMediaPlayerStop")};l("document").ready(function(){u.attachEvent&&!i()&&(u.documentElement.fakePlayEvent=0,u.documentElement.fakePauseEvent=0)}),c.extend(o,{isMobile:a.mobile,setPlayer:function(e){O&&O.messageBus&&(O.messageBus.removeMessageListener("played",j),O.messageBus.removeMessageListener("paused",V)),O=e,O&&O.messageBus&&(O.messageBus.addMessageListener("played",j),O.messageBus.addMessageListener("paused",V))},getPlayer:function(){return O},getAdUnit:function(){return S},getTargeting:function(){return T},getTargetingString:function(){var e="",t=I();return T&&!T.tstHostname&&(T.tstHostname=$()),t&&(T.abTest=t),c.each(T,function(t,i){i&&t&&(e+=i+"="+t+"&")}),e.slice(0,e.length-1)},getCompanionSizes:function(){return[C]},getCompanionSizesString:function(){var e=s.Ads.getCompanionSizes(),t="";return c.each(e,function(e){e&&(t+=e[0]+"x"+e[1]+",")}),t.slice(0,t.length-1)},getAdRule:function(){var e=s.Ads.getAdContext(),t=e.adData||{},i=0===t.dfpAdRule?0:1;return i},getDescriptionUrl:function(){return"https://"+g()}})}(this),function(e){"use strict";var t=e.Disney,i=t.Ads=t.Ads||{},n=function(){return{}},s=e.jQuery,o=i.NoAdContext=function(e){var t=s.Deferred().resolve().promise();this.cds=function(){return e.cds},this.noAds=function(){return!0},this.status=function(){return t}};o.prototype={adSystem:"noads",showCDSAds:function(){return!1},helpers:n,ready:n,refresh:n,restore:n,remove:n,setTargeting:n,setTranslation:n,tag:function(){return""},sizes:function(){return[]}}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery;i(function(){"undefined"!=typeof t.top&&t.top.on("ready",function(e){var t=e.ads,n=t&&t.helpers&&t.helpers();n&&(n.overlayAd&&i("body").prepend(n.overlayAd()),t.ready(e))})})}(this),function(e){"use strict";var t,i=e.Disney,n=i.Ads,s=e._;i.Ads.AdContext=function(e){var i=e.adData;switch(i.adSystem){case"dfp":t=new n.DoubleClickAdContext(i);break;default:t=new n.NoAdContext(i)}return t},s.extend(n,{getAdSlots:function(){return i.top?i.top.current.ads.slots:t},getAdContext:function(){return i.top?i.top.current.ads:t}})}(this),function(e){"use strict";function t(){var t=i.DidOpts,n=o.size(t),s=0,a="?";for(var r in t)t.hasOwnProperty(r)&&(a+=r+"="+t[r],n!==s+1&&(a+="&"),s++);if(i.didBase)return i.initGuestConsumer(i.didBase+e.location.host+encodeURI(a));var l=i.initEmptyGuestConsumer();i.ageGuest(l)}var i=e.Disney,n=e.Grill,s=e.jQuery,o=e._,a=t();if(i.NAV(a),i.DL&&i.DL(a),n){var r=n.BurgerView.extend({getAdContext:function(e){return new i.Ads.AdContext({adData:e})},initialize:function(){this.guest=a.spawn(),n.BurgerView.prototype.initialize.apply(this,arguments);
},spawn:function(e){var t=this.collection,i=this.ads;i||(this.ads=i=this.getAdContext(t.adData));var s={ads:i,cds:i.cds(),noAds:i.noAds(),model:e,guest:this.guest};return n.ModuleView.create(e.get("view"),s)},cto:function(){var t=this.collection.cto,n=this.ads;n&&n.unit&&(t=s.extend({adPageName:n.unit,adSizeList:n.sizes().join(",")},t));var o=e.activeAbTest||i.abn.testcase();return o&&(t=s.extend({abTest:o.id+"|"+o.group},t)),i.ctoOptions&&(t=s.extend({},t,i.ctoOptions)),t},remove:function(){return a.disown(this.guest),n.BurgerView.prototype.remove.call(this)}});s(function(){e.Grill.config({container:i.top,view:r})})}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery;i(function(){i("footer #utility");t.top.on("ready",function(e){})})}(this),Whiskers("page_elements.page_styles",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<style type="text/css"> /* header background images and color settings */ '),n.s(n.f("header_theming",e,t,1),e,t,0,93,1441,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 1025px){ "),i.s(i.f("image",e,t,1),e,t,0,143,234,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #nav-outer-container.full-nav #navbar #nav-header-bg{ background-image: url("),i.b(i.v(i.f("image",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,266,969,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #nav-outer-container.full-nav #navbar{ background-color: rgb("),i.b(i.v(i.f("rgb",e,t,0))),i.b("); } #nav-outer-container.full-nav #nav-header-bg .nav-header-fade { background-color: rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 1); background-image: -webkit-linear-gradient(left, rgb("),i.b(i.v(i.f("rgb",e,t,0))),i.b(") 0%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.9) 15%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.8) 27%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.5) 50%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.15) 75%, transparent 100%); background-image: linear-gradient(to right,"),i.b(i.v(i.f("rgb",e,t,0))),i.b(" 0%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.9) 15%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.8) 27%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.5) 50%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.15) 75%, transparent 100%); background-color: transparent; "),i.s(i.f("hex",e,t,1),e,t,0,831,958,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("-ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr='#00"),i.b(i.v(i.f("hex",e,t,0))),i.b("', endColorstr='#FF"),i.b(i.v(i.f("hex",e,t,0))),i.b("', GradientType=0)\";")}),e.pop()),i.b(" } ")}),e.pop()),i.b(" } @media screen and (min-width: 1025px) and (-webkit-min-device-pixel-ratio: 1.3), not all, not all, only screen and (min-resolution: 125dpi), only screen and (min-resolution: 1.3dppx){ "),i.s(i.f("image_retina",e,t,1),e,t,0,1194,1292,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #nav-outer-container.full-nav #navbar #nav-header-bg{ background-image: url("),i.b(i.v(i.f("image_retina",e,t,0))),i.b("); } ")}),e.pop()),i.b(" } "),i.s(i.f("hidden",e,t,1),e,t,0,1323,1429,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #nav-outer-container{ display: none; } #body-wrapper, #body-wrapper:not(.compressed){ margin-top: 0px; } ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" "),n.s(n.f("footer_theming",e,t,1),e,t,0,1480,1663,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("footer_transparency",e,t,1),e,t,0,1505,1638,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" footer{ background: none; min-height: 210px; } footer #utility{ padding-top: 0; } footer #utility .social-links p{ margin-top: 0; } ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" /* page background images and color settings */ "),n.s(n.f("background_theming",e,t,1),e,t,0,1754,3142,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,1776,1839,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #background-styles{ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("vertical_repeating_left",e,t,1),e,t,0,1889,1966,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .starfield.star-left{ background-image: url("),i.b(i.v(i.f("vertical_repeating_left",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("vertical_repeating_right",e,t,1),e,t,0,2024,2103,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .starfield.star-right{ background-image: url("),i.b(i.v(i.f("vertical_repeating_right",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("centered_background_image",e,t,1),e,t,0,2163,2580,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #background-styles{ background-position: top center; background-repeat: no-repeat; } "),i.s(i.f("mobile",e,t,1),e,t,0,2260,2347,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #background-styles{ background-image: url("),i.b(i.v(i.f("mobile",e,t,0))),i.b("); background-size: 768px auto; } ")}),e.pop()),i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,2371,2567,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 768px){ #background-styles{ background-image: url("),i.b(i.v(i.f("desktop",e,t,0))),i.b("); background-size: 1600px auto; } .starfield.star-right, .starfield.star-left{ visibility: hidden; } } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("content_background_image",e,t,1),e,t,0,2640,3112,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #burger-container{ background-repeat: no-repeat; background-position: top center; } "),i.s(i.f("mobile",e,t,1),e,t,0,2736,2821,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #burger-container{ background-size: 100% auto; background-image: url("),i.b(i.v(i.f("mobile",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,2845,3099,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 768px){ #burger-container{ background-size: 133% auto; background-image: url("),i.b(i.v(i.f("desktop",e,t,0))),i.b("); } } @media screen and (min-width: 1200px){ #burger-container{ background-size: 1600px auto; background-image: url("),i.b(i.v(i.f("desktop",e,t,0))),i.b("); } } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" "),n.s(n.f("section_styles",e,t,1),e,t,0,3185,3625,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" .section-color, .module .rich-text-enabled a{ color: "),i.b(i.v(i.f("color",e,t,0))),i.b("; } .section-border{ border-color: "),i.b(i.v(i.f("color",e,t,0))),i.b(" !important; } html.no-touch .module.rich_text, html.no-touch .module .rich-text-enabled a:hover, html.no-touch .module.stats a:hover{ color: rgb("),i.b(i.v(i.f("rgb_lighten",e,t,0))),i.b("); } html.no-touch .module a.underline:hover:after, html.no-touch .module .module_header ul li.underline:not(.active) > span:hover:after{ border-bottom-color: "),i.b(i.v(i.f("color",e,t,0))),i.b("; } ")}),e.pop()),n.b(" </style>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e._;i(function(){t.top.on("ready",function(t){var s=i("#body-wrapper"),o=i("#nav-outer-container"),a=i("#nav-inner-container"),r=i("#background-styles"),l=o.is(":visible");if(o.removeClass("nav-text-color-dark nav-text-color-light"),t.collection&&t.collection.style){var c=t.collection.style,d=e.Whiskers.page_elements.page_styles.render(c),u=c.section_class||"";i("#style-pack-theming").html(d),s.attr("data-section",u)}if(c&&c.background_theming&&s.addClass("body-text-color-"+c.background_theming.text_color),c&&c.header_theming){var f=c.header_theming,p="slim"===f.style;f.text_color&&o.addClass("nav-text-color-"+f.text_color),p&&(s.addClass("compressed"),o.removeClass("full-nav").addClass("compressed slim-nav"))}else o.removeClass("nav-text-color-dark nav-text-color-light");c&&c.background_theming&&c.background_theming.content_background_image&&l&&(s.addClass("gapless"),o.addClass("gapless"));var h=function(){var e=0;if(l){var t=a.height(),n=i("#navbar").height();e=t>0?t:n}r.css("background-position","top "+e+"px center")};h(),i(e.window).on("scroll",n.debounce(h))})})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e.Math,s=/%%([a-z0-9]+)%%/g,o=function(e,t){return"rng"===t?""+n.floor(1e18*n.random()):""},a=function(t){if(t){var n=t.toString().replace(s,o),a=e.document.createElement("iframe");a.src=n,a.frameborder="0",a.height="1",a.width="1",a.style.display="none",i(e.document.body).prepend(a)}};i(function(){t.top.on("ready",function(e){var t=e.collection;t&&t.floodlight&&a(t.floodlight)})})}(this),function(e){"use strict";var t=e.Spatula;t.exclude("*p")}(this),Whiskers("search.results",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(' <div class="search-bound'),n.s(n.f("meta",e,t,1),e,t,0,60,111,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.s(i.f("total",e,t,1),e,t,1,0,0,"")||i.b(" no_results display-view module")}),e.pop()),n.b('"> '),n.s(n.f("meta",e,t,1),e,t,0,132,825,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <section class="search_top search-results"> '),i.b(' <form class="search-form nav-search mod-search" action="/search" method="GET"> <div class="bedazzlement-container"> <span class="bedazzlement"></span> </div> <div class="query-field"> <input name="q" type="text" placeholder="'),i.b(i.v(i.f("placeholder",e,t,0))),i.b('" spellcheck="false" autocorrect="off" autocapitalize="off" value="'),i.s(i.f("keywords",e,t,1),e,t,0,548,560,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("keywords",e,t,0)))}),e.pop()),i.b('"> <span class="search-button"> <input class="large button" type="submit" value="'),i.b(i.v(i.d("translations.search",e,t,0))),i.b('"> </span> </div> '),i.s(i.f("active_section",e,t,1),e,t,0,714,786,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<input type="hidden" value="'),i.b(i.v(i.f("active_filter",e,t,0))),i.b('" name="f[search_section]">')}),e.pop()),i.b(" </form> </section> ")}),e.pop()),n.b(' <div class="refine-container"> '),n.b(' <section class="facet_groups"> <p class="refine-title">'),n.s(n.f("meta",e,t,1),e,t,0,961,994,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.v(i.d("translations.sw_refine_search",e,t,0)))}),e.pop()),n.b("</p> "),n.s(n.f("primary",e,t,1),e,t,0,1020,1436,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("facets",e,t,1),e,t,0,1032,1424,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("search_section",e,t,1),e,t,0,1052,1404,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <section class="filter-container'),i.s(i.f("active",e,t,1),e,t,0,1096,1103,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" active")}),e.pop()),i.b('"> <a class="'),i.b(i.t(i.f("searchIcons",e,t,0))),i.b('-filter" href="'),i.b(i.v(i.f("url",e,t,0))),i.b('"> <span class="facet-icon '),i.b(i.t(i.f("searchIcons",e,t,0))),i.b("-icon"),i.s(i.f("active",e,t,1),e,t,0,1226,1234,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" present")}),e.pop()),i.b('"></span> <span class="facet-name '),i.b(i.t(i.f("searchIcons",e,t,0))),i.b('-content">'),i.b(i.v(i.f("label",e,t,0))),i.b("</span> "),i.s(i.f("count",e,t,1),e,t,0,1333,1377,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="num-result"> ['),i.b(i.v(i.f("count",e,t,0))),i.b("]</span>")}),e.pop()),i.b(" </a> </section> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(' </section> </div> <div class="search-view-container"> '),n.s(n.f("meta",e,t,1),e,t,0,1512,2861,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("total",e,t,1),e,t,0,1523,2580,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" "),i.s(i.f("suggestion",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="totals"> <h2 class="'),i.s(i.f("active_section",e,t,1),e,t,0,1635,1645,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("in-section")}),e.pop()),i.b('"><strong>'),i.b(i.v(i.f("total",e,t,0))),i.b("</strong> "),i.b(i.v(i.d("translations.results_for",e,t,0))),i.b(' <span class="search-term"><strong>&ldquo;'),i.b(i.v(i.f("keywords",e,t,0))),i.b("&rdquo;</strong></span></h2> "),i.s(i.f("active_section",e,t,1),e,t,0,1823,2071,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="type-container '),i.b(i.v(i.f("active_class",e,t,0))),i.b('-content"> <div class="section-type"> <span class="in">'),i.b(i.v(i.d("translations.in",e,t,0))),i.b('</span> <span class="section-icon '),i.b(i.v(i.f("active_class",e,t,0))),i.b('-icon"></span> <span class="type-label">'),i.b(i.v(i.f("active_section",e,t,0))),i.b("</span> </div> </div> ")}),e.pop()),i.b(" </div> ")),i.b(" "),i.s(i.f("suggestion",e,t,1),e,t,0,2129,2564,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="suggestion"> <h2><strong>'),i.b(i.v(i.f("total",e,t,0))),i.b("</strong> "),i.b(i.v(i.d("translations.results_for",e,t,0))),i.b(" <strong>&ldquo;"),i.b(i.v(i.f("actual",e,t,0))),i.b("&rdquo;</strong></h2> "),i.s(i.f("corrected",e,t,1),e,t,0,2276,2394,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <h3>"),i.b(i.v(i.d("translations.search_instead_for",e,t,0))),i.b(' &ldquo;<a href="'),i.b(i.v(i.f("literal_url",e,t,0))),i.b('" class="route">'),i.b(i.v(i.f("keywords",e,t,0))),i.b("</a>&rdquo;?</h3> ")}),e.pop()),i.b(" "),i.s(i.f("corrected",e,t,1),e,t,1,0,0,"")||(i.b(" <h3> "),i.b(i.v(i.d("translations.did_you_mean",e,t,0))),i.b(' &ldquo;<a href="'),i.b(i.v(i.f("suggestion_url",e,t,0))),i.b('" class="route">'),i.b(i.v(i.f("suggestion",e,t,0))),i.b("</a>&rdquo;? </h3> ")),i.b(" </div> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.b(" "),i.s(i.f("total",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="suggestionNoResults"> <h2>'),i.b(i.v(i.d("translations.no_results",e,t,0))),i.b(' <span class="search-term"><strong>&ldquo;'),i.b(i.v(i.f("keywords",e,t,0))),i.b("&ldquo;</strong></span></h2> </div> <p>"),i.b(i.t(i.d("translations.sw_please_try_another_search",e,t,0))),i.b("</p> ")),i.b(" ")}),e.pop()),n.b(" "),n.s(n.f("primary",e,t,1),e,t,0,2883,3293,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("total",e,t,1),e,t,0,2894,2939,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" "),i.b(i.rp("everything",e,t,"")),i.b(" ")}),e.pop()),i.b(" "),i.b(" "),i.s(i.f("total",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("hasLatest",e,t,1),e,t,0,2993,3267,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <section class="search_results_none"> <div class="module_header"> <h2 class="module_title">'),i.s(i.f("meta",e,t,1),e,t,0,3094,3124,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.d("translations.latest_videos",e,t,0)))}),e.pop()),i.b('</h2> </div> <div class="blocks-bound"> <span class="blocks-container"> '),i.s(i.f("latest",e,t,1),e,t,0,3216,3229,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("entity",e,t,"")),i.b(" ")}),e.pop()),i.b(" </span> </div> </section> ")}),e.pop()),i.b(" ")),i.b(" ")}),e.pop()),n.b(" </div> </div>"),n.fl()}),Whiskers("search.no_results",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(' <div class="building-block-config '),n.b(n.v(n.f("section_class",e,t,0))),n.b('-content without-description with-image third image-top ratio-2x1 short mob-width-full mob-image-top"> <div class="building-block"> <div class="building-block-aspect"> <div class="building-block-padding"> <a class="building-block-wrapper" href="'),n.b(n.v(n.f("href",e,t,0))),n.b('"'),n.s(n.f("ping",e,t,1),e,t,0,353,374,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.f("ping",e,t,0))),i.b('"')}),e.pop()),n.b('> <div class="image-wrapper"> <div class="aspect"> <img src="'),n.b(n.v(n.f("noResult_image_src",e,t,0))),n.b('" class="thumb" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> </div> </div> <div class="content-wrapper"> <div class="bedazzlement"></div> '),n.s(n.f("duration",e,t,1),e,t,0,589,614,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("<time>"),i.b(i.v(i.f("duration",e,t,0))),i.b("</time>")}),e.pop()),n.b(' <div class="content-bumper"> <div class="content-info"> <h3 class="title">'),n.b(n.v(n.f("title",e,t,0))),n.b('</h3> </div> </div> <div class="metadata"> <div class="anchored-text"> <h4 class="category-info"> <span class="content-icon '),n.b(n.v(n.f("section_class",e,t,0))),n.b('-icon"></span> <span class="category-name">'),n.b(n.v(n.f("section_label",e,t,0))),n.b('</span> </h4> </div> </div> <div class="decal"></div> </div> </a> </div> </div> </div> </div> '),n.fl()}),Whiskers("search.everything",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="search-view"> <section class="search_results '),n.s(n.f("more_url",e,t,1),e,t,0,70,78,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("has-more")}),e.pop()),n.b('"> <ul> '),n.s(n.f("results",e,t,1),e,t,0,111,962,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<li class="'),i.b(i.v(i.f("type",e,t,0))),i.b(" "),i.b(i.v(i.f("section_class",e,t,0))),i.b('-content result"> <div class="title-wrap"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="route result-title"> <h3 class="title bolder-list result_ul" aria-hidden="true">'),i.b(i.v(i.f("title",e,t,0))),i.b("</h3> </a> "),i.s(i.f("section_label",e,t,1),e,t,0,335,574,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("meta",e,t,1),e,t,0,344,565,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("show_in",e,t,1),e,t,0,356,553,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="type-container"> <div class="section-type"> '),i.s(i.f("type",e,t,1),e,t,0,422,479,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="section-icon '),i.b(i.v(i.f("section_class",e,t,0))),i.b('-icon"></span>')}),e.pop()),i.b(' <span class="type-label">'),i.b(i.v(i.f("section_label",e,t,0))),i.b("</span> </div> </div> ")}),e.pop())}),e.pop())}),e.pop()),i.b(' </div> <div class="search-desc'),i.s(i.f("image_url",e,t,1),e,t,1,0,0,"")||i.b(" no-image"),i.b('"> '),i.s(i.f("result_image_src",e,t,1),e,t,0,684,799,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="route result-image"> <img src="'),i.b(i.v(i.f("result_image_src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" align="left"> </a> ')}),e.pop()),i.b(" "),i.s(i.f("description",e,t,1),e,t,0,837,874,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="desc">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.d("sitelinks.length",e,t,1),e,t,0,912,928,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("sitelinks",e,t,"")),i.b(" ")}),e.pop()),i.b(" </div> </li>")}),e.pop()),n.b(" </ul> "),n.s(n.f("more_url",e,t,1),e,t,0,994,1212,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">'),i.s(i.f("meta",e,t,1),e,t,0,1125,1151,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.d("translations.show_more",e,t,0)))}),e.pop()),i.b('</span> <span class="spinner"></span> </div> </div> ')}),e.pop()),n.b(" </section> </div>"),n.fl()}),Whiskers("search.sitelinks",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(' <ul class="search_sitelinks"> '),n.s(n.f("sitelinks",e,t,1),e,t,0,74,336,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <li class ="'),i.s(i.f("image_url",e,t,1),e,t,0,101,113,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("has_image_sl")}),e.pop()),i.b(" "),i.s(i.f("description",e,t,1),e,t,0,144,155,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("has_desc_sl")}),e.pop()),i.b('"> <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" data-linkname="OrganicResults/link/'),i.b(i.v(i.f("slug",e,t,0))),i.b("-"),i.b(i.v(i.f("id",e,t,0))),i.b("/"),i.b(i.v(i.f("text",e,t,0))),i.b('" data-linkposition="sitesearch:results:OrganicResults'),i.b(i.v(i.f("index",e,t,0))),i.b('/">'),i.b(i.v(i.f("text",e,t,0))),i.b("</a> </li> ")}),e.pop()),n.b(" </ul> "),n.fl()}),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,n=e.Backbone,s=e.jQuery,o=e.Math,a=o.min(e.devicePixelRatio,2);t.LumiereHelpers={sizes:[160,320,480,600,768,960,1200,1536,1920],imgSrc:function(e,t){var i,n,o,r;if(e instanceof Object?(i=e.src,n=e.width):(i=e,r=this.getDimensionsFromSrc(i),n=r&&r.width),t.exact_size){var l=e.half_width||r&&r.half_width||n&&parseInt(n/2,10);o=a>1.5?!1:l}else o=this.optimizedWidth(n,t);var c;if(o){var d=this.getQueryParams(i);d.width=o,c=[i.split("?")[0],decodeURIComponent(s.param(d))].join("?")}return c||i},processImgData:function(e,t){var i=this.imgSrc(e,t),n=s.extend({src:i},this.getDimensionsFromSrc(i));return n},optimizedWidth:function(e,t){var s,a=t.rel_width||1,r=t.targetMaxWidth||i.wideMax,l=t.target_width;if(!l){var c=r?o.min(n.Resize.width(),r):n.Resize.width();l=a*c*.94}return s=this.getClosestSize(l),e>s?s:!1},getClosestSize:function(e){var t,i=e*a;return s(this.sizes).each(function(e,n){return t=n,n>i?!1:void 0}),t},getDimensionsFromSrc:function(e){var t=e&&e.split("?")[1],i=t&&decodeURIComponent(t).split("region=")[1];if(i){var n=i.split("&")[0].split(","),s=parseInt(n[2],10),a=parseInt(n[3],10),r={width:s,height:a,ratio:a/s,half_width:s&&o.round(s/2)};return r}},getQueryParams:function(e){return e?(e.indexOf("?")>-1&&(e=e.substr(e.indexOf("?")+1)),e.split("&").reduce(function(e,t){var i=t.split("=");return e[i[0]]=i[1],e},{})):{}}}}(this),function(e){"use strict";function t(e,t){t=n.isUndefined(t)?"":t,e.target.placeholder=t}var i=e.jQuery,n=e._,s=e.NAV,o=e.Disney,a=e.Spatula,r=e.Tracker,l=e.Whiskers,c=e.Backbone,d=o.Style.breakpoints,u=function(e){var t="OrganicResults";return' data-linkposition="sitesearch:results:'+t+this.index+'/" data-linkname="'+t+"/"+e+"/"+this.slug+"-"+this.id+'"'};o.SearchView=a.RichView.extend({title:"Search",initialize:function(t){var i=o.search;if(this.options=t,i){delete o.search;var s=i.meta.translations,a={sw_placeholder:"Search Star Wars",sw_refine_search:"Refine Your Search",sw_please_try_another_search:"Please try another search or browse the recommendations below."};n.defaults(s,a),this.placeholder=s.sw_placeholder,i.meta.translations=s,this.data=i}e.Spatula.exclude(/.*/)},safeRender:function(){var e=l.search,t=c.Resize.width()>=d.midLow,i={interactive:"gamesapps",series:"tvshows"},a=n.extend({searchIcons:function(){var e=this.name.toLowerCase().replace(/[^a-zA-Z0-9]/g,"");return i[e]||e},ctoLinkAttr:function(){return u.call(this,"link")},ctoImgAttr:function(){return u.call(this,"thumb")},result_image_src:function(){var e=this.image_url;if(e){var t=.125;return o.LumiereHelpers.imgSrc(e,{rel_width:t})}},noResult_image_src:function(){var e=this.base_images&&this.base_images.desktop.ratio_16x9;if(e){var i=t?.33:1;return o.LumiereHelpers.imgSrc(e,{rel_width:i})}},placeholder:this.placeholder,hasLatest:this.data.latest?!0:!1},this.data);this.el.innerHTML=l.search.results.render(a,{entity:e.no_results,everything:e.everything,sitelinks:e.sitelinks}),s&&s.ac(this.el,"srp/search_module")},cto:function(){return this.data.cto},events:{"click .show_more_container":function(t){var n=this,s=n.data.primary,o=i(t.currentTarget),a=o.attr("href"),l=i.trim(i(t.target).attr("alt")||o.text()),c="search",d=i(t.target).is("img")?"thumb":"link",u=[c,d].join("/"),f=[u,l].join("/");r.link({linkName:f,linkPosition:u,href:a}),t.preventDefault(),this.$(".show_more").addClass("loading"),i.getJSON("/search/more.json"+s.more_url,function(t){s.results=s.results.concat(t.results),s.more_url=t.more_url,n.safeRender(),e.cto.track(),n.$(".show_more").removeClass("loading")})},"click input[name=q]":function(e){t(e)},"onfocus input[name=q]":function(e){t(e)},"blur input[name=q]":function(e){t(e,this.placeholder),s.searchAttemptUsedPlacements={}},"click a":function(e){var t=i(e.currentTarget),n=t.attr("href"),s=t.data("cto")||"";"ac"!==s&&("img"===e.target.nodeName.toLowerCase()&&(t=i(e.target)),r.link({linkName:t.data("linkname"),linkPosition:t.data("linkposition"),href:n}))},"submit form.nav-search":function(){r.link({linkName:"srp/searchbox/search_enter",linkPosition:"srp/searchbox"})}}})}(this),function(e){"use strict";var t=e.Disney,i=e.Backbone.Router.extend({routes:{"search?*params":"search"},search:function(e){var i=new t.SearchView({params:e?"?"+e:""});t.top.transition(i)}});new i}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=t.Spinner={};i(function(){var s,o=t.top,a=i("#spinner"),r=function(){a.fadeIn("fast")},l=function(){e.clearTimeout(s),a.hide()};o.on("begin",function(){l(),s=e.setTimeout(r,1e3)}).on("ready",l).on("error",l),n=t.Spinner={show:function(){r()},hide:function(){l()}}})}(this),function(e){"use strict";e.Disney.FormElements=e.Disney.FormElements||{};var t=e.Disney.FormElements,i=e.Whiskers,n=e.jQuery;n(function(){t.characterCountdown={renderTemplate:function(e){var t={rows:e.rows,maxLength:e.maxLength||140,tag:e.tag,label:e.label,required:e.required};return i.modules.shared_components.character_countdown.render(t)},onReady:function(e){e.each(function(){var e=n(this),t=e.next(".count-remaining"),i=e.attr("maxlength");t.html(i),e.on("keyup",function(){var e=n(this).val(),s=i-e.length;t.html(s)})})}}})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=t.Cookie,s=365;i(function(){var e=i("#cookie-warning");e.length&&"true"!==n.get("cookies-accepted")&&(e.removeClass("hidden"),e.children("#cookie-accept").on("click",function(t){n.set("cookies-accepted","true",{domain:n.domain(),expires:s}),e.addClass("hidden"),t.preventDefault()}))})}(this),function(e){"use strict";var t=e.jQuery,i=e.document,n="ada-keyboard-focus",s=t("html");t(i).on("mousedown.keyboardFocus",function(){s.removeClass(n)}).on("keydown.keyboardFocus",function(e){9===e.keyCode&&s.addClass(n)})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=i.isFunction,s=function(t){var i=e.onerror,n=e.console;n&&n.error&&n.error(t.stack||t.toString()),i&&i(t.toString())};i(function(){t.top.on("ready",function(t){var i=e.cto,o={};if(n(t.cto)&&(o=t.cto()),o&&o.account)try{i.resetObj(),i.track(o)}catch(a){s(a)}})})}(this),function(e){"use strict";var t=e.Tracker,i=e.jQuery,n="#burger > [data-module]",s=".slides li",o=function(e){return null!=e&&(e=i.trim(e).replace(/[^a-z0-9_:, \-]/gi,"").replace(/\s+/g," ")),e},a=function(e,t,n){var s=e.closest(t);return s.length?i(t,n).index(s):-1},r=function(e,t,r,l){var c=[],d=i(n).index(t),u=a(e,".entity,.item,.col,.building-block",t),f=a(e,s,t),p=a(e,".button",e.closest(s+","+n)),h=a(e,".all",t),v=o(i.trim(t.data("slug")))||o(i.trim(t.find("h1,h2,h3,h4,h5,h6").eq(0).text()))||"no title";return c.push(v,"mod"+(d+1)),u>=0?c.push("item"+(u+1)):f>=0&&c.push("slide"+(f+1)),l&&c.push(l),p>=0?r="button"+(p+1):a(e,".gallery-item",t)>=0&&(r=null),r&&c.push(r),h>=0&&c.push("viewall"),c.join("/")},l=function(e,t,i){var n=a(e,".suggested",t),s=a(e,".card .next",t);return n>=0?"card/suggested/p"+n+"/"+i:s>=0?"card/next/p"+s+"/"+i:a(e,"#next_container",t)>=0?("link"===i&&(i="details"),"upnext/"+i):r(e,t,i)},c=function(e,t,s){var l=o(i.trim(t.find("h1,h2,h3,h4,h5,h6").eq(0).text())),c=i(n).index(t),d=a(e,".modal-window .arrow-next",t),u=a(e,".modal-window .arrow-prev",t),f=a(e,".modal-window .modal-close",t);if(d>=0||u>=0||f>=0){var p=e.data("viewtype"),h=parseInt(e.data("currentitem"),10)+1,v="ad"===p?"ad":"item"+h,g=l+"/mod"+(c+1)+"/"+v+"/modal";return g}return r(e,t,s)};i("body").on("click","#burger a[href], #burger .button, #burger .launches-modal",function(e){var s,a=i(this),d=i(e.target),u=d.is("img"),f=a.closest(n),p=u?"thumb":"link",h=o(a.closest("[data-title]").data("title")||u&&d.attr("alt")||a.text()),v=o(f.data("module")),g=o(a.closest("[data-convert]").data("convert"));"search"!==v&&f.length&&(s=("watch"===v?l:"image_gallery"===v?c:r)(a,f,p,g),t.link({linkName:v+"/"+s,linkPosition:v+"/"+s+"/"+h,href:a.attr("href")}))})}(this),Whiskers("modules.auto_modal",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="auto_modal-bound"> <div class="modal-window"> <div class="modal-content '),n.s(n.f("noBranding",e,t,1),e,t,0,99,105,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("center")}),e.pop()),n.b('"> '),n.s(n.f("branding",e,t,1),e,t,0,136,240,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("top",e,t,1),e,t,0,145,231,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="top-branding"> <img class="branding top-branding" src="'),i.b(i.v(i.f("top",e,t,0))),i.b('"/> </div> ')}),e.pop()),i.b(" ")}),e.pop()),n.b(' <div class="'),n.b(n.v(n.f("playerType",e,t,0))),n.b(' video-player module"> <div class="bound"> <div class="watch-container"> <div class="watch-aspect"> <div class="watch-padding"> <div class="watch-wrapper"> <div id="video_wrapper" class="inverted"> <div class="scaler ratio-16x9"></div> '),n.b(n.rp("player",e,t,"")),n.b(" </div> </div> </div> </div> </div> </div> </div> "),n.s(n.f("branding",e,t,1),e,t,0,590,676,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("bottom",e,t,1),e,t,0,602,664,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="bottom-branding"> <img src="'),i.b(i.v(i.f("bottom",e,t,0))),i.b('"/> </div> ')}),e.pop()),i.b(" ")}),e.pop()),n.b(' </div> <div class="modal-footer"> '),n.s(n.f("socialShare",e,t,1),e,t,0,740,757,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("social_share",e,t,""))}),e.pop()),n.b(' </div> <div class="modal-close clicon" data-title="close"></div> </div> <div class="modal-overlay"></div> </div>'),n.fl()}),Whiskers("modules.shared_components.nowlive_player",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<div class='nowlive-inline-player reserved-ratio'> <iframe width='100%' height='100%' scrolling='no' frameborder='0' src='//iframe.nowlive.com/event/"),n.b(n.v(n.f("nowlive_id",e,t,0))),n.s(n.f("nowlive_query",e,t,1),e,t,0,181,199,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("?"),i.b(i.v(i.f("nowlive_query",e,t,0)))}),e.pop()),n.b("'> </iframe> </div>"),n.fl()}),Whiskers("modules.shared_components.youtube_player",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="youtube-inline-player reserved-ratio"> <iframe width="100%" height="100%" src="//www.youtube.com/embed/'),n.b(n.v(n.f("youtube_id",e,t,0))),n.b("?rel=0&autohide=1&showinfo=0&wmode=opaque"),n.s(n.f("youtube_query",e,t,1),e,t,0,188,206,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("&"),i.b(i.v(i.f("youtube_query",e,t,0)))}),e.pop()),n.b('" frameborder="0" allowfullscreen> </iframe> </div>'),n.fl()}),Whiskers("modules.shared_components.social_share",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("socialShare",e,t,1),e,t,0,16,619,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="social-share-links"> '),i.s(i.f("facebook",e,t,1),e,t,0,63,327,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(' <a href="#" class="social-share service facebook" data-social-type="facebook" data-text="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-share-url="'),i.b(i.v(i.f("href",e,t,0))),i.b('" data-href=""> <span class="social-icon fb-f-icon">Facebook</span> </span> ')}),e.pop()),i.b(" "),i.s(i.f("twitter",e,t,1),e,t,0,353,599,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="#" class="social-share service twitter" data-social-type="twitter" data-text="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-href="https://twitter.com/intent/tweet?url='),i.b(i.v(i.f("sourceEncoded",e,t,0))),i.b("&text="),i.b(i.v(i.f("titleEncoded",e,t,0))),i.b('"> <span class="social-icon twitter-icon">Tweet</span> </a> ')}),e.pop()),i.b(" </div> ")}),e.pop()),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=!1;t.Social=t.Social||{init:function(e){var n=t.Social[e].callback,s=t.Social[e].url;s&&i.getScript(s,n)},shareFacebook:function(t){e.FB.ui({method:"share",href:t})},shareSocial:function(t,i){e.open(t,i,"height=440,width=550,resizable=1")},bindShareClick:function(){n||(i(".social-share.service").on("click",function(e){e.preventDefault();var n=i(this),s=n.data("social-type"),o=n.data("share-url"),a=n.data("href");"facebook"===s&&t.Social.shareFacebook(o),"twitter"===s&&t.Social.shareSocial(a,s)}),i(".social-share.service").on("keyup",function(e){if(e.preventDefault(),13===e.keyCode){var n=i(this),s=n.data("social-type"),o=n.data("share-url"),a=n.data("href");"facebook"===s&&t.Social.shareFacebook(o),"twitter"===s&&t.Social.shareSocial(a,s)}}),n=!0)}},t.Social.facebook={url:"//connect.facebook.net/en_US/sdk.js",callback:function(){e.FB.init({appId:i("meta[property='fb:app_id']").attr("content"),status:!0,cookie:!0,xfbml:!0,version:"v2.0"})}},i(function(){i("<div/>",{id:"fb-root"}).appendTo("body"),t.top.on("ready",function(){t.Social.bindShareClick()})})}(this),function(e){"use strict";var t=e.Whiskers,i=e.Grill,n=e.Disney,s=e._,o=e.jQuery;i.ModuleView.register("auto_modal",{template:t.modules.auto_modal,initialize:function(){s.extend(this,{partials:{player:t.modules.shared_components[this._playerType()],social_share:t.modules.shared_components.social_share},socialShare:this.model.collection&&this.model.collection.social_share_networks,title:this.model.get("title")||o("title").get(0).textContent,source:e.location.href})},render:function(){var e=this.model.get("schema_json")||{},t=e.branding,i=s.extend(e,{noBranding:t&&!t.top&&!t.bottom,playerType:this._playerType(),socialShare:this.socialShare,title:this.title,source:this.source,sourceEncoded:encodeURIComponent(this.source),titleEncoded:encodeURIComponent(this.title)});if(this.modalShouldAppear()&&this._playerType()){if(this.$el.html(this.template.render(i,this.partials)),this.socialShare){var o=this.socialShare;o.facebook&&n.Social.init("facebook")}this.bindModalEvents(),this.showModal();
}},showModal:function(){var e=this.$el.find(".modal-window");e.addClass("first-shown"),e.addClass("modal-show"),e.css("visibility","visible"),o("body").addClass("no-scroll")},bindModalEvents:function(){var t=this,i=t.$el;i.on("click",".modal-window .modal-close, .modal-overlay",function(){i.find(".modal-window").delay(100).remove(),o("body").removeClass("no-scroll")}),o(e.window).resize(s.debounce(function(){t.fixVideoSize()},100)),t.fixVideoSize()},ready:function(){var t=this,i=27;o(e.document).keyup(function(e){switch(e.keyCode){case i:t.$el.find(".modal-window .modal-close").trigger("click")}})},modalShouldAppear:function(){var e=this.model.get("schema_json")||{},t=(new Date).getTime();if(e.start_time&&e.end_time){var i=Date.parse(e.start_time),n=Date.parse(e.end_time);return t>=i&&n>t}return!1},fixVideoSize:function(){var t=o(e.window).height(),i=t>800?1.25:1.1,n=s.min([1280,t*i]);this.$el.find(".video-player.module .bound").css("max-width",n+"px")},_playerType:function(){var e=this.model.get("schema_json")||{};return e.youtube_id?"youtube_player":e.nowlive_id?"nowlive_player":void 0}})}(this),Whiskers("modules.card_wide",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> <div tabindex="0" aria-label="Content with link or video" class="ada-el-focus card-container"> '),n.s(n.d("module_title_logo.image_assets.logo",e,t,1),e,t,0,155,336,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="content-logo"> <img src="'),i.b(i.v(i.d("module_title_logo.image_assets.logo",e,t,0))),i.b('" alt="'),i.b(i.v(i.d("module_title_logo.image_alt_text",e,t,0))),i.b('" data-src="'),i.b(i.v(i.d("module_title_logo.image_assets.logo",e,t,0))),i.b('"> </div> ')}),e.pop()),n.b(" "),n.s(n.f("header_data",e,t,1),e,t,0,393,904,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="heading"> '),i.s(i.f("data",e,t,1),e,t,0,425,887,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d("heading_options.heading_url",e,t,1),e,t,0,458,620,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.d("heading_options.heading_url",e,t,0))),i.b('" title="'),i.b(i.v(i.d("header_data.title",e,t,0))),i.b('" '),i.s(i.d("heading_options.heading_new_tab",e,t,1),e,t,0,567,582,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('target="_blank"')}),e.pop()),i.b("> ")}),e.pop()),i.b(' <h2 class="module_title">'),i.b(i.v(i.d("header_data.title",e,t,0))),i.b(" "),i.s(i.d("heading_options.heading_url",e,t,1),e,t,1,0,0,"")||i.s(i.d("header_data.title",e,t,1),e,t,0,754,756,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("//")}),e.pop()),i.b("</h2> "),i.s(i.d("heading_options.heading_url",e,t,1),e,t,0,848,854,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" </a> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </div> ")}),e.pop()),n.b(" "),n.s(n.f("data",e,t,1),e,t,0,930,2807,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="item-container"> <div class="item"> <div class="media-container '),i.s(i.f("videoContainer",e,t,1),e,t,0,1026,1041,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("video-container")}),e.pop()),i.b('"> '),i.s(i.d("config_options.kaltura.enable_inline_videos",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("href",e,t,1),e,t,0,1121,1281,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('" '),i.s(i.d("config_options.content_options.new_tab",e,t,1),e,t,0,1201,1216,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('target="_blank"')}),e.pop()),i.b(' class="ada-el-focus">')}),e.pop()),i.b(" ")),i.b(" "),i.s(i.f("base_images",e,t,1),e,t,0,1356,1636,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,1369,1623,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="background-image"> <img class="thumbnail-16x9" src="'),i.b(i.v(i.d("desktop.ratio_16x9",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-src="'),i.b(i.v(i.d("desktop.ratio_16x9",e,t,0))),i.b('"/> <img class="thumbnail-5x2" src="'),i.b(i.v(i.d("desktop.ratio_5x2",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-src="'),i.b(i.v(i.d("desktop.ratio_5x2",e,t,0))),i.b('"/> </div> ')}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.d("config_options.kaltura.enable_inline_videos",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("href",e,t,1),e,t,0,1711,1715,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(" ")),i.b(" "),i.s(i.d("config_options.kaltura.enable_inline_videos",e,t,1),e,t,0,1822,1873,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("kaltura_id",e,t,1),e,t,0,1838,1857,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("kaltura_player",e,t,""))}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.d("config_options.youtube.enable_inline_videos",e,t,1),e,t,0,1970,2021,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("youtube_id",e,t,1),e,t,0,1986,2005,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("youtube_player",e,t,""))}),e.pop()),i.b(" ")}),e.pop()),i.b(' </div> <div class="details-container"> <div class="blur-layer" style="background-image:url(\''),i.b(i.v(i.d("base_images.desktop.ratio_16x9",e,t,0))),i.b('\')"></div> <div class="gradient-layer"></div> '),i.s(i.f("href",e,t,1),e,t,0,2251,2411,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('" '),i.s(i.d("config_options.content_options.new_tab",e,t,1),e,t,0,2331,2346,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('target="_blank"')}),e.pop()),i.b(' class="ada-el-focus">')}),e.pop()),i.b(' <div class="right-decal-contain"></div> <div class="decal-contain"><div class="decal"></div></div> <div class="title"> <h3>'),i.b(i.v(i.f("title",e,t,0))),i.b('</h3> </div> <div class="description">'),i.s(i.f("desc",e,t,1),e,t,0,2600,2619,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<h4>"),i.b(i.t(i.f("desc",e,t,0))),i.b("</h4>")}),e.pop()),i.b(" </div> "),i.s(i.f("href",e,t,1),e,t,0,2645,2649,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(' </div> <div class="notch-contain notch-bottom"></div> </div> </div> '),i.s(i.f("imageGalleryModalView",e,t,1),e,t,0,2753,2780,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.t(i.f("imageGalleryModalView",e,t,0)))}),e.pop()),i.b(" ")}),e.pop()),n.b(" </div> </div>"),n.fl()}),Whiskers("modules.shared_components.kaltura_player",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="kaltura-inline-player"> <meta itemprop="duration" content="'),n.b(n.v(n.f("duration_iso",e,t,0))),n.b('"> <meta itemprop="thumbnail" content="'),n.b(n.v(n.f("thumb_base",e,t,0))),n.b('"> <meta itemprop="name" content="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> <meta itemprop="embedId" content="'),n.b(n.v(n.f("id",e,t,0))),n.b('"> <meta itemprop="title" content="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> <meta itemprop="description" content="'),n.b(n.v(n.f("description",e,t,0))),n.b('"> <meta itemprop="URL" content="'),n.b(n.v(n.f("href",e,t,0))),n.b('"> '),n.s(n.f("embedURL",e,t,1),e,t,0,383,434,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <meta itemprop="embedURL" content="'),i.b(i.v(i.f("embedURL",e,t,0))),i.b('"> ')}),e.pop()),n.b(" "),n.s(n.f("expired",e,t,1),e,t,1,0,0,"")||(n.b(' <div id="'),n.b(n.v(n.f("kaltura_id",e,t,0))),n.b('" class="player"> <noscript> <div class="player_error">'),n.b(n.v(n.d("translations.no_javascript",e,t,0))),n.b("</div> </noscript> </div> ")),n.b(" "),n.s(n.f("expired",e,t,1),e,t,0,620,685,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="orphan"><p>'),i.b(i.v(i.d("translations.video_expired",e,t,0))),i.b("</p></div> ")}),e.pop()),n.b(" </div>"),n.fl()}),this.DisneyVideo=this.DisneyVideo||{},function(e){"use strict";var t=e.console,i=e.DisneyVideo,n=e._;i.MessageBus=function(){function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];if(n)try{n.callback(e)}catch(s){d(s)}}}function o(e,t){var i={name:e,body:t},n=(r[e]||[]).slice(0);s(i,n),n=(r["*"]||[]).slice(0),s(i,n)}function a(e,t,i){n.each(c,function(n){if(n!==i)try{n.bus[n.functionName](e,t)}catch(s){}})}var r={},l=this,c={},d=function(i){var n=e.onerror;t&&t.error&&t.error("MessageBus:: "+i.stack||"MessageBus:: "+i.toString()),n&&n("MessageBus:: "+i.toString())};"undefined"==typeof i.MessageBus.Connections&&(i.MessageBus.Connections={}),this.addConnection=function(e,t,n){if(!n){var s=e+"_"+Math.round(1e6*Math.random()),r="DisneyVideo.MessageBus.Connections."+s,d=s+"_primarySendMessage",u=s+"_secondarySendMessage",f=function(e,t){o(e,t),a(e,t,h)},p={id:e,bus:l,"function":f,functionName:d,uniqueId:s,globalId:r};i.MessageBus.Connections[s]={},i.MessageBus.Connections[s][d]=f,l[d]=f;var h={id:e,bus:{sendMessage:t.sendMessage,addMessageListener:t.addMessageListener,removeMessageListener:t.removeMessageListener,addConnection:t.addConnection,removeConnection:t.removeConnection},functionName:u,uniqueId:s,globalId:r};n={primary:p,secondary:h},i.MessageBus.Connections[s].connection=n,c[e]=h;try{t.addConnection(e,l,n)}catch(v){}h.bus=t}},this.removeConnection=function(e){var t=c[e];if(t){var n=i.MessageBus.Connections[t.uniqueId].connection;l[n.primary.functionName]=null,i.MessageBus.Connections[t.uniqueId]=null,c[e]=null,t&&t.bus&&t.bus.removeConnection&&t.bus.removeConnection(e)}},this.sendMessage=function(e,t){o(e,t),a(e,t)},this.addMessageListener=function(e,t){var i={name:e,callback:t};r[e]||(r[e]=[]),r[e].push(i)},this.removeMessageListener=function(e,t){for(var i=r[e]||[],n=0;n<i.length;n++){var s=i[n];s&&s.name===e&&s.callback===t&&(i[n]=null)}},this.destroy=function(){n.each(c,function(e){l.removeConnection(e)}),c=null,n.each(r,function(e){l.removeMessageListener(e.name,e.callback)}),r=null,l=null}}}(this),function(e){"use strict";var t=e.DisneyVideo,i=e.jQuery,n={newrelic:function(){return"undefined"!=typeof e.newrelic?e.newrelic:null},addPageAction:function(e,t){var i=this.newrelic();i&&i.addPageAction(e,t)},addToTrace:function(e){var t=this.newrelic();t&&t.addToTrace(e)},createTraceObj:function(e,t,n,s,o){return t=t||(new Date).getTime(),i.extend({},{name:e,start:t,end:n,origin:s,type:o})},noticeError:function(e){var t=this.newrelic();t&&t.noticeError(e)},setCustomAttribute:function(e,t){var i=this.newrelic();i&&i.setCustomAttribute(e,t)},customAttributes:{bandwidth:"DisneyVideoBandwidth",height:"DisneyVideoHeight",playerName:"DisneyVideoPlayer",playerVersion:"DisneyVideoPlayerVersion",videoId:"DisneyVideoCoreId",width:"DisneyVideoWidth"}},s=function(){return n};t.NewRelic=new s}(this),function(e){"use strict";var t=e.DisneyVideo;t.Capabilities={MIN_FP_VERSION:[9,0],isHTML5Capable:function(){return e.Modernizr.canvas},isMobileBrowser:function(){return e.navigator.userAgent.match(/(ipod|iphone|ipad|android|silk|iemobile)/i)},isiOSBrowser:function(){return e.navigator.userAgent.match(/(ipod|iphone|ipad)/i)},isOnlyFullscreenPlaybackCapable:function(){return e.navigator.userAgent.match(/(ipod|iphone)/i)},isAndroidBrowser:function(){return e.navigator.userAgent.match(/(android)/i)},isKindleBrowser:function(){return e.navigator.userAgent.match(/(kindle|silk)/i)}}}(this),function(e){"use strict";var t=e.DisneyVideo,i=e.jQuery,n=e._;t.Video=function(e,s){var o=this;i.extend(o,e,s),this.getCoreId=function(){return o.core_id||o.core_record_id||o.id},this.hasCountryRestrictions=function(){return o.allowedCountries&&o.allowedCountries.length&&o.allowedCountries.length>0},this.isCountryAllowed=function(e){return!o.allowedCountries||o.allowedCountries.length<=0||n.contains(o.allowedCountries,e)},this.requiresDRM=function(){var e=["progressive"],i=["mp4"],n=1220;t.Capabilities.isiOSBrowser()&&(e.unshift("encrypted_hls"),i.push.apply(i,["applehttp","hls"]));var s=this.getFlavor(e,i,n);return!s},this.getFlavor=function(e,t,s){var a,r=o.flavors,l=[];n.each(t,function(t){var s=n.filter(r,function(e){return e.format===t})||[];s.sort(function(t,i){return n.difference(t.security_profile,i.security_profile).length>0&&n.each(e,function(e){var s=n.contains(t.security_profile,e),o=n.contains(i.security_profile,e);return s!==o?s?-1:1:void 0}),-1}),i.merge(l,s)});var c=n.filter(l,function(t){return!t.security_profile||t.security_profile.length<=0||n.intersection(e,t.security_profile).length>0});if(0!==c.length&&(a=n.min(c,function(e){return Math.abs(e.width-s)})),a&&("applehttp"===a.format||"hls"===a.format)){var d=n.filter(r,function(e){return e.url.indexOf("hls/master")>-1});a=d[0]}return a&&a.url?a:null},this.getCaptions=function(e){if(!o.captions||o.captions.length<=0)return null;var t,i=n.filter(o.captions,function(t){return t.format===e});return t=i[0]},this.hasCaptions=function(){return o&&o.captions&&!!o.captions.length},this.hasFlavors=function(){return o&&o.flavors&&!!o.flavors.length},this.isPlayable=function(e){var i=o.getFlavor(e.profiles,e.formats,t.getIdealWidth());return!o.expired&&o.hasFlavors()&&null!==i},this.getPoster=function(){return o.poster||o.promo||o.preview||o.thumb||""},this.getTitle=function(){return o.title},this.getBadge=function(){return o.badge},this.getDuration=function(){return o.duration},this.isTotalEclips=function(){var e=!1;return this.hasFlavors()?(o.flavors.forEach(function(t){t&&t.url&&-1!==t.url.indexOf("totaleclips")&&(e=!0)}),e):!1},this.getFlavorsBitrateDescending=function(){return o.flavors.sort(function(e,t){return e.bitrate&&t.bitrate?e.bitrate<t.bitrate?1:e.bitrate>t.bitrate?-1:0:0})}}}(this),function(e){"use strict";var t=e.DisneyVideo,i=e.jQuery,n=e.document,s=null;t.BasePlayer=function(){function o(t){var n,s,o;i.when(a("//tredir.go.com/capmon/GetDE/?set=j&param=countryisocode&param=state&param=connection")).done(function(){n=e.countryisocode,s=e.state,o=e.connection||"broadband",t(n,s,o)})}function a(e){return i.ajax({url:e,dataType:"script",cache:!0})}function r(){var e=i.Deferred();return A&&A.dependency?A.dependency(e.resolve):(M=!0,e.resolve()),e}function l(){return M}function c(){var e=i.Deferred();return A&&A.video&&A.video.hasCountryRestrictions()&&A.geo.enabled?A.geo.geoFunc(function(t){s=t,e.resolve()}):e.resolve(),e}function d(){A.config.dependencies=A.config.dependencies||[],A.config.dependencies.push(r()),A.config.dependencies.push(c())}function u(){var e=i("#"+A.id),t=A.video.getPoster(),n=A.video.getTitle(),s=A.video.getBadge(),o=A.video.getDuration(),a=A.video.posterSize?" "+A.video.posterSize:"";n=n.replace(/"/g,"'");var r='<div class="overlay posterClick"><div class="posterControls"><button class="posterPlayButton" aria-label="'+n+' - Play Video"></button></div></div><div class="videoPoster'+a+'" style="background-image: url(\''+t+"')\"></div>";s&&(r+='<div class="badgeImage"><img src="'+s+'" class="badge"></div>'),A.config.showTitle&&(r+='<div class="details"><h3>'+n+"</h3></div>"),A.config.showDuration&&(r+='<div class="duration"><p>'+o+"</p></div>"),e.html(r),e.addClass("disneyVideo"),e.addClass("poster"),E="poster",f(),A.messageBus.sendMessage("finishedEmbedPoster")}function f(){P=i("#"+A.id).children(".posterClick"),P.bind("click",h)}function p(){P&&(P.unbind("click",h),P=null)}function h(e){e.preventDefault(),A.controls.play()}function v(){A.adPattern.init(A);var e=i("#"+A.id);if(e.addClass("disneyVideo"),A.config.embedded&&A.video.notEmbeddable){var t="?cmp=Embed|vid|ExtEmbedRedir||||||||||";A.embedError(A.config.translations.embedding_disabled+'<p><a href="'+A.video.href+t+'" target="_top">'+A.config.translations.watch_now+"</a>"),i("#"+A.id+" .player_error a").bind("click",function(e){var t=i(e.currentTarget).attr("href");A.tracking.trackLink({linkName:"embed/notEmbeddableError/"+A.video.slug+"-"+A.video.getCoreId(),linkPosition:"embed/player_error",href:t})})}else A.video.expired?A.embedError(A.config.translations.video_expired):!A.video.isCountryAllowed(s)&&A.config.geo.enabled?A.embedError(A.config.translations.country_disallowed):(M=!0,A.embed(),A.config.autoPlay&&A.config.autoPlay_mute&&A.controls.mute());A.messageBus.sendMessage("finishedEmbedPlayer")}function g(){A.config.clickToPlay&&"poster"===E&&(A.config.autoPlay=!0,A.config.autoPlay_mute=!1,S(),A.embedPlayer())}function b(){}function m(){A.config.clickToPlay&&"poster"!==E&&(A.cleanupListeners(),A.embedPoster())}function y(){}function _(e){e||(e=n.getElementById(A.id)),e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}function k(e){if(e&&t.Capabilities.isiOSBrowser())try{e.webkitExitFullscreen()}catch(i){}else n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen&&n.webkitExitFullscreen()}function w(){n.fullScreenElement&&null!==n.fullScreenElement||n.mozFullScreen||n.webkitIsFullScreen||n.msFullscreenElement?A.controls.exitFullscreen():A.controls.enterFullscreen()}function x(){A.messageBus.addMessageListener("play",g),A.messageBus.addMessageListener("pause",b),A.messageBus.addMessageListener("stop",m),A.messageBus.addMessageListener("resume",y)}function C(){A.messageBus.removeMessageListener("play",g),A.messageBus.removeMessageListener("pause",b),A.messageBus.removeMessageListener("stop",m),A.messageBus.removeMessageListener("resume",y)}function S(){E="",i("#"+A.id).removeClass("poster")}function T(t){var i=/(?:\?|^|&)player=([0-9,a-zA-Z]*)/,n=i.exec(e.location.search),s=n?n[1]:null,o=/(?:\?|^|&)kpid=([0-9a-f]+)/,a=o.exec(e.location.search);a&&(t.kPartnerId=a[1]);var r=/(?:\?|^|&)kuiconfid=([0-9a-f]+)/,l=r.exec(e.location.search);l&&(t.kUiconfId=l[1]);var c=new RegExp("[?&]tagId(=([^&#]*)|&|#|$)"),d=c.exec(e.location.search);d&&(t.video.externals[0].data.tags=d[2]);var u=new RegExp("[?&]entryId(=([^&#]*)|&|#|$)"),f=u.exec(e.location.search);f&&(t.video.externals[0].data_id=f[2]),s&&(t.playerType=s)}var P,E="",A=this,M=!1;A.extendUnlessPresent=function(e,t){i.each(t,function(i){void 0===e[i]&&(e[i]=t[i])})},A.embedPoster=function(){var e=i.when.apply(i,A.config.dependencies);return e.done(u),e.promise()},A.embedError=function(e){var t=i("#"+A.id);t.html('<div class="player_error">'+e+"</div>"),A.type="error"},A.embedPlayer=function(){var e=i.when.apply(i,A.config.dependencies);return e.done(v),e.promise()};var L={autoPlay:!1,continuousPlay:!1,clickToPlay:!1,showTitle:!1,addBaseDependencies:d},$={enabled:!0};L.tracking=$;var I={enabled:!0,geoFunc:o};L.geo=I,A.dependenciesDone=l,A.config=L,A.config.translations={no_javascript:"Uh, oh! It seems JavaScript is disabled in your internet browser. Please enable JavaScript if you would like to watch videos on this site.",video_expired:"Sorry, this video is no longer available.",dependencies_not_met:"Uh, oh! It appears your internet browser is out of date. Please upgrade your internet browser or update Adobe Flash Player.",get_flash_player:"Get Adobe Flash Player",embedding_disabled:"Sorry, but this video can only be played on Disney.com",country_disallowed:"We're sorry, this video cannot be played in your region.",device_not_supported:"Sorry, but your device does not support the playback of this video.",video_not_found:"Uh, oh! We can't find this video right now. Please try again later!",advertisement:"Advertisement",skip_ad:"Skip Ad",watermark_text:"Watch on Disney.com"},A.ads={enabled:!0},A.controls={play:function(){A.messageBus.sendMessage("play")},pause:function(){A.messageBus.sendMessage("pause")},togglePlayPause:function(){A.messageBus.sendMessage("togglePlayPause")},replay:function(){A.messageBus.sendMessage("replay")},scrub:function(e){A.messageBus.sendMessage("scrub",e)},stop:function(){A.messageBus.sendMessage("stop")},enterFullscreen:_,exitFullscreen:k,toggleFullscreen:w},A.init=function(e,n){e&&(A.id=e,t.Players[A.id]={},T(n),A.config=i.extend(!0,A.config,n),A.ads=i.extend(A.ads,n.ads),A.tracking=i.extend(A.config.tracking,n.tracking),A.geo=i.extend(A.config.geo,n.geo),x())},A.cleanupListeners=function(){},A.destroy=function(){A.cleanupListeners(),C(),S(),p(),t.Players[A.id]=null;var e=i("#"+A.id);A.messageBus&&(A.messageBus.destroy(),A.messageBus=null),A.config=null,A.controls=null,A.ads=null,A.info=null,A.video=null,A=null,e.empty()}}}(this),function(e){"use strict";var t=e.DisneyVideo,i=e.document,n=e.$,s=e._;t.Accessibility=function(t){function o(e){e.preventDefault(),n("#"+t.id).mousemove()}function a(e){if(u[e.which]=!0,1===s.size(u)&&d.indexOf(e.which)<0)switch(e.which){case c.SPACEBARKEY:t.controls.togglePlayPause(),o(e);break;case c.UPARROWKEY:t.controls.mute(!1),o(e);break;case c.DOWNARROWKEY:t.controls.mute(),o(e);break;case c.LEFTARROWKEY:t.controls.scrub(-5),o(e);break;case c.RIGHTARROWKEY:t.controls.scrub(5),o(e);break;case c.FKEY:t.controls.enterFullscreen(),o(e);break;case c.ESCKEY:t.controls.exitFullscreen(),o(e)}}function r(e){if(u[e.which]&&1===s.size(u)&&d.indexOf(e.which)<0)switch(e.which){case c.SPACEBARKEY:case c.UPARROWKEY:case c.DOWNARROWKEY:case c.LEFTARROWKEY:case c.RIGHTARROWKEY:case c.FKEY:case c.TKEY:case c.ESCKEY:o(e)}delete u[e.which]}function l(){u={}}var c={SPACEBARKEY:32,UPARROWKEY:38,DOWNARROWKEY:40,LEFTARROWKEY:37,RIGHTARROWKEY:39,FKEY:70,TKEY:67,ESCKEY:27,ENTERKEY:13},d=[],u={};this.setupKeyboardControls=function(){return n("#"+t.id).on("keydown",a),n("#"+t.id).on("keyup",r),n(e.window).on("focusout",l),{disable:function(){s.each(arguments,function(e){c.hasOwnProperty(e)?d.push(c[e]):e===parseInt(e,10)&&d.push(e)})}}},this.cleanupKeyboardControls=function(){u={},d=[],n("#"+t.id).off("keydown",a),n("#"+t.id).off("keyup",r),n(e.window).off("focusout",l)},this.using=function(e){function s(){l=n(i.activeElement),l.addClass("hover"),n("#"+t.id).mousemove()}function o(){l&&(l.removeClass("hover"),l=null)}function a(){n("#"+t.id).focus(),o()}function r(e){u[c.ENTERKEY]?n("#"+t.id).mousemove():e.data.handler()}if(e){var l;return{onFocusDoHover:function(){return e.on("focusin",s),e.on("focusout",o),this},cleanupOnFocusDoHover:function(){return e.off("focusin",s),e.off("focusout",o),this},removeFocusOn:function(t){return e.on(t,{handler:a},r),this},cleanupRemoveFocusOn:function(t){return e.off(t,r),this}}}}}}(this),function(e){"use strict";var t=e.DisneyVideo,i=e.Disney;t.language=i.language||function(e){var t=e&&e[0],i=t&&t.replace(/-.*$/,"");return i||"en"}(i.locales)}(this),function(e){"use strict";var t=e.DisneyVideo,i=e.Disney,n=e.jQuery,s=e._,o="https://imasdk.googleapis.com/js/sdkloader/ima3.js",a=6;t.KalturaV2VideoPlayer=function(t){function r(e){var t="https://cdnapisec.kaltura.com/p/"+p()+"/sp/"+p()+"00/embedIframeJs/uiconf_id/"+h()+"/partner_id/"+p();n.when(v(t)).then(function(){u(),e()})}function l(e){n.ajax(o,{dataType:"script",cache:!0,success:function(){c(e)},error:function(){d(e)},timeout:2e3})}function c(e){Y||(Y=!0,e())}function d(e){Y||e()}function u(){var i;switch(t.video.hasFlavors()&&(i=s.contains(t.video.flavors[0].security_profile,"hls_only_android")?"android":s.contains(t.video.flavors[0].security_profile,"hls_only_all")?"all":void 0),i){case"android":e.mw.setConfig("Kaltura.LeadHLSOnAndroid",!0);break;case"all":e.mw.setConfig("LeadWithHLSOnFlash",!0),e.mw.setConfig("Kaltura.LeadHLSOnAndroid",!0);break;default:e.mw.setConfig("Kaltura.LeadWithHTML5",!0)}}function f(){for(var e,i=t.video,n=0;n<i.externals.length;n++)"kaltura"===i.externals[n].source&&(e=i.externals[n]);return e}function p(){return t.config.kPartnerId?t.config.kPartnerId:f().account}function h(){if(t.config.kUiconfId)return t.config.kUiconfId;var e="platform",i=t.config.kaltura.adSystems,n=i.noads[e];return t.video&&t.video.ads&&s.each(i,function(i,o,a){s.isUndefined(t.video.ads[o])||(n=a[o][e])}),n}function v(e){return n.ajax({url:e,dataType:"script",cache:!0})}function g(){if(t.config.kalturaHostedTag)return!0;if(t.config.video){var e=t.config.video.externals[0],i=e.data&&e.data.tags&&e.data.tags.indexOf("kaltura-hosted")>-1,n=e.source&&e.source.indexOf("kaltura")>-1;if(i||n)return!0}return!1}function b(){var e={},n=t.video&&t.video.ads?t.video.ads.dfp:null;if(n){var s=t.video.ads.enabled&&n.adTagUrl?n.adTagUrl:null,o=n.companion||null,a=i.locales||[],r=a[0]||"en";e={localizationCode:r,doubleClick:{disableCompanionAds:!1,htmlCompanions:o,adsManagerLoadedTimeout:5e3,plugin:!0,useExternalImaLib:!0,adTagUrl:s}}}else e={doubleClick:{plugin:!1}};return e}function m(){var s=i.locales||[],o=s[0]||"en",a={externalInterfaceDisabled:!1,loop:t.config.loop?!0:!1,"EmbedPlayer.ForceNativeFullscreenOnClipDone":t.config.loop?!0:!1,metadataProfileId:t.config.kaltura&&t.config.kaltura.metadataProfileId?t.config.kaltura.metadataProfileId:null,autoPlay:t.config.autoPlay||!1,autoMute:t.config.autoPlay_mute||!1,autoPlayFallbackToMute:t.config.autoPlay_mute||!1,"unMuteOverlayButton.plugin":!1,"controlBarContainer.plugin":t.config.hideControlBarContainer?!1:!0,"topBarContainer.plugin":t.config.hideTopBarContainer?!1:!0,"largePlayBtn.plugin":t.config.hideLargePlayBtn?!1:!0,localizationCode:o,strings:{"mwe-embedplayer-share":t.config.translations.share}},r={IframeCustomPluginCss1:t.config.kalturaSkinUrl||void 0,IframeCustomPluginCss2:t.config.kalturaSkinCssOverridesUrl?t.config.kalturaSkinCssOverridesUrl:void 0,IframeCustomPluginJs1:t.config.kalturaSkinJsUrl?t.config.kalturaSkinJsUrl:void 0},l={LeadWithHLSOnJs:!0,hlsjs:{plugin:!0}},c={closedCaptions:{plugin:!0,hideWhenEmpty:!0}},d={"accessibility-plugin":{plugin:!0,iframeHTML5Js:t.config.accessibilityPluginUrl||void 0}},u={titleLabel:{plugin:t.video.hideTitle?!1:!0,align:"left",text:t.video.getTitle()}},v={thumbnailUrl:t.video.getPoster()},m={};if(t.config.spinnerPlugin){var _=t.config.spinnerPlugin;m[_.name]={plugin:_.jsUrl||_.cssUrl?!0:!1,iframeHTML5Js:_.jsUrl||null,iframeHTML5Css:_.cssUrl||null}}var k,w,x={},C={},S=t.video.isTotalEclips();if(Q=g(),Q||S){var T=t.config.sharePluginUrl||void 0,P=t.config.logoPluginUrl||void 0;t.config.embedded&&(t.video.hideShare=!0),t.video.share={id:t.video.getCoreId()||"",href:t.video.href||"",thumb:t.video.thumb||"",title:t.video.title||"",source:t.video.href||"",embedURL:t.video.embedUrl||""},k={name:"videoplayer-skin-share-plugin",cssUrl:t.video.hideShare?!1:r.IframeCustomPluginCss1,jsUrl:t.video.hideShare?!1:T},x[k.name]={plugin:k.jsUrl?!0:!1,iframeHTML5Js:T,iframeHTML5Css:k.cssUrl||null},w={name:"videoplayer-skin-logo-plugin",cssUrl:t.video.hideLogo?!1:r.IframeCustomPluginCss1,jsUrl:t.video.hideLogo?!1:P,alignRight:t.video.hasCaptions()?!1:!0},C[w.name]={plugin:w.jsUrl||w.cssUrl?!0:!1,iframeHTML5Js:P,iframeHTML5Css:w.cssUrl?w.cssUrl:null,alignRight:w.alignRight},n.extend(a,m),n.extend(a,x),n.extend(a,C),n.extend(a,v),n.extend(a,u),n.extend(a,c),n.extend(a,d)}n.extend(a,r),(Z||Q)&&n.extend(a,l);var E=b();if(n.extend(a,E),S){var A=t.video.getFlavorsBitrateDescending(),M=A.map(function(e){return{src:e.url,type:"video/"+e.format}});a.mediaProxy={entry:{thumbnailUrl:t.video.thumb},sources:M}}var L={targetId:t.id+"_playerElement",wid:"_"+p(),uiconf_id:h(),flashvars:a,cache_st:1382978527,readyCallback:y};S||(L.entry_id=f().data_id),e.kWidget.embed(L)}function y(e){K=n("#"+e).get(0),_()}function _(){t.messageBus.addMessageListener("scrub",C),t.messageBus.addMessageListener("replay",P),t.messageBus.addMessageListener("pause",w),t.messageBus.addMessageListener("play",x),K.addJsListener("adStart",M),K.addJsListener("adErrorEvent",L),K.addJsListener("adEnd",$),K.addJsListener("onAdPlay",A),K.addJsListener("changeMedia",O),K.addJsListener("closeFullScreen",I),K.addJsListener("mediaReady",B),K.addJsListener("doPlay",j),K.addJsListener("doPause",U),K.addJsListener("doStop",R),K.addJsListener("openFullScreen",D),K.addJsListener("playerPlayEnd",N),K.addJsListener("playerSeekEnd",F),K.addJsListener("playerSeekStart",z),K.addJsListener("playerUpdatePlayhead",V),K.addJsListener("volumeChanged",H),K.addJsListener("shareVideo",S),K.addJsListener("videoHome",T),q=!0}function k(){q&&(t.messageBus.removeMessageListener("scrub",C),t.messageBus.removeMessageListener("replay",P),t.messageBus.removeMessageListener("pause",w),t.messageBus.removeMessageListener("play",x),K.removeJsListener("adStart",M),K.removeJsListener("adErrorEvent",L),K.removeJsListener("adEnd",$),K.removeJsListener("onAdPlay",A),K.removeJsListener("changeMedia",O),K.removeJsListener("closeFullScreen",I),K.removeJsListener("mediaReady",B),K.removeJsListener("doPlay",j),K.removeJsListener("doPause",U),K.removeJsListener("doStop",R),K.removeJsListener("openFullScreen",D),K.removeJsListener("playerPlayEnd",N),K.removeJsListener("playerSeekEnd",F),K.removeJsListener("playerSeekStart",z),K.removeJsListener("playerUpdatePlayhead",V),K.removeJsListener("volumeChanged",H),K.removeJsListener("shareVideo",S),K.removeJsListener("videoHome",T))}function w(){J&&K?K.sendNotification("doStop"):K&&K.sendNotification("doPause")}function x(){K&&K.sendNotification("doPlay")}function C(e){K.sendNotification(t.info.getPosition()+parseInt(e.body,10))}function S(){if(t.video){t.controls.exitFullscreen();var e=t.video.href||t.video.share.href,n=t.video.thumb||t.video.share.thumb,s=t.video.title||t.video.share.title,o=t.video.embedUrl||t.video.share.embedURL;i.AgeGate.triggerSocialAgeGate({href:e||"",thumb:n||"",title:s||"",source:e||"",isSocial:!0,embedURL:o||""})}else t.video=t.config.video||{}}function T(){e.window.location.href="https://video.disney.com"}function P(){ee?t.loadVideo():(K.sendNotification("replayMH"),K.sendNotification("doPlay"))}function E(){return Math.round(t.info.getPosition()/t.info.getDuration()*100)}function A(e,t,i,s,o){if(Q){var r=K.getElementsByTagName("iframe")[0];o>a?(n(r).contents().find(".ad-notice-label").show(),K.setKDPAttribute("controlBarContainer","visible",!0),K.setKDPAttribute("titleLabel","visible",!0)):(n(r).contents().find(".ad-notice-label").hide(),K.setKDPAttribute("controlBarContainer","visible",!1),K.setKDPAttribute("titleLabel","visible",!1))}}function M(){t.messageBus.sendMessage("adStart"),J=!0}function L(){t.messageBus.sendMessage("adOpportunityEnd"),J=!1,Q&&(K.setKDPAttribute("controlBarContainer","visible",!0),K.setKDPAttribute("titleLabel","visible",!0))}function $(){J&&t.messageBus.sendMessage("adEnd"),t.messageBus.sendMessage("adOpportunityEnd"),J=!1,Q&&(K.setKDPAttribute("controlBarContainer","visible",!0),K.setKDPAttribute("titleLabel","visible",!0))}function I(){t.messageBus.sendMessage("exitedFullscreen")}function D(){t.messageBus.sendMessage("enteredFullscreen")}function O(){var e=t.video&&t.video.ads?t.video.ads.dfp:null;e&&t.video.ads.enabled&&t.messageBus.sendMessage("adOpportunityStart"),t.messageBus.sendMessage("loadURI")}function B(){t.messageBus.sendMessage("mediaReady")}function j(){G=!1,t.messageBus.sendMessage("played")}function V(){t.messageBus.sendMessage("progress")}function R(){t.messageBus.sendMessage("doStop")}function U(){E(t)>=100||G||t.messageBus.sendMessage("paused")}function N(){G=!0,t.messageBus.sendMessage("playComplete")}function F(){t.messageBus.sendMessage("seekEnd")}function z(){t.messageBus.sendMessage("seekStart")}function H(){t.messageBus.sendMessage("volumeChange")}function W(){t.controls=te}var K,q=!1,G=!1,J=!1,Y=!1,Q=!1;t.config.geo.enabled=!1,t.geo=n.extend(t.geo,t.config.geo),t.config.tracking.enabled=!0,t.tracking=n.extend(t.tracking,t.config.tracking);var X=new RegExp("[?&]hlsjs(=([^&#]*)|&|#|$)"),Z=t.config.useHls?t.config.useHls:X.exec(e.location.search),ee=e.navigator.userAgent.toLowerCase().indexOf("firefox")>-1;t.embed=function(){t.writeEmbed(),m()},t.writeEmbed=function(){var e=n("#"+t.id);e.html('<div id="'+t.id+'_playerElement" class="player-container"></div>')},t.dependency=function(e){Q=g();var i=n.Deferred(),s=n.Deferred();n.when(i,s).done(e),r(i.resolve),t.ads.enabled&&!Y&&Q?l(s.resolve):s.resolve()},t.cleanupListeners=function(){k(),e.kWidget&&e.kWidget.destroy(t.id+"_playerElement"),W()},t.loadVideo=function(){if(J){var e=K.getElementsByTagName("iframe")[0];n(e).contents().find(".mwPlayerContainer").each(function(){n(this).removeClass("adplay-state")}),J=!1}if(Q){K.setKDPAttribute("titleLabel","text",t.video.getTitle());var i=t.video&&t.video.ads&&t.video.ads.dfp&&t.video.ads.dfp.adTagUrl&&t.video.ads.enabled?t.video.ads.dfp.adTagUrl:"";K.setKDPAttribute("doubleClick","adTagUrl",i);var s=t.video.hasCaptions()?!1:!0;K.setKDPAttribute("videoplayer-skin-logo-plugin","alignRight",s),t.video.share||(t.video.share={id:t.video.getCoreId(),href:t.video.url,thumb:t.video.thumbnail_image_fog,title:t.video.title,source:t.video.url,embedURL:t.video.embedUrl}),K.setKDPAttribute("mediaProxy.entry","thumbnailUrl",t.video.getPoster())}K.sendNotification("changeMedia",{entryId:f().data_id})};var te=t.controls;t.controls=n.extend({},t.controls,{getVolume:function(){}