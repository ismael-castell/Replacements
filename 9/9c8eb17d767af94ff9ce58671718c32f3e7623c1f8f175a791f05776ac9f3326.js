!function(p,w){function t(e,t){return t.toUpperCase()}function i(e){!g.addEventListener&&"load"!==e.type&&"complete"!==g.readyState||(I(),ye.ready())}var o,n,m=typeof w,e=p.location,g=p.document,r=g.documentElement,a=p.jQuery,s=p.$,l={},d=[],c="1.10.2",v=d.concat,u=d.push,h=d.slice,f=d.indexOf,y=l.toString,b=l.hasOwnProperty,x=c.trim,ye=function(e,t){return new ye.fn.init(e,t,n)},k=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,C=/\S+/g,_=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,S=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,D=/^[\],:{}\s]*$/,A=/(?:^|:|,)(?:\s*\[)+/g,M=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,E=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,N=/^-ms-/,P=/-([\da-z])/gi,I=function(){g.addEventListener?(g.removeEventListener("DOMContentLoaded",i,!1),p.removeEventListener("load",i,!1)):(g.detachEvent("onreadystatechange",i),p.detachEvent("onload",i))};function R(e){var t=e.length,n=ye.type(e);return!ye.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&0<t&&t-1 in e)))}ye.fn=ye.prototype={jquery:c,constructor:ye,init:function(e,t,n){var i,o;if(!e)return this;if("string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):ye.isFunction(e)?n.ready(e):(e.selector!==w&&(this.selector=e.selector,this.context=e.context),ye.makeArray(e,this));if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:T.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof ye?t[0]:t,ye.merge(this,ye.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),S.test(i[1])&&ye.isPlainObject(t))for(i in t)ye.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((o=g.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return n.find(e);this.length=1,this[0]=o}return this.context=g,this.selector=e,this},selector:"",length:0,toArray:function(){return h.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){e=ye.merge(this.constructor(),e);return e.prevObject=this,e.context=this.context,e},each:function(e,t){return ye.each(this,e,t)},ready:function(e){return ye.ready.promise().done(e),this},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},map:function(n){return this.pushStack(ye.map(this,function(e,t){return n.call(e,t,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:u,sort:[].sort,splice:[].splice},ye.fn.init.prototype=ye.fn,ye.extend=ye.fn.extend=function(){var e,t,n,i,o,r=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[1]||{},a=2),"object"==typeof r||ye.isFunction(r)||(r={}),s===a&&(r=this,--a);a<s;a++)if(null!=(i=arguments[a]))for(n in i)o=r[n],r!==(t=i[n])&&(l&&t&&(ye.isPlainObject(t)||(e=ye.isArray(t)))?(o=e?(e=!1,o&&ye.isArray(o)?o:[]):o&&ye.isPlainObject(o)?o:{},r[n]=ye.extend(l,o,t)):t!==w&&(r[n]=t));return r},ye.extend({expando:"jQuery"+(c+Math.random()).replace(/\D/g,""),noConflict:function(e){return p.$===ye&&(p.$=s),e&&p.jQuery===ye&&(p.jQuery=a),ye},isReady:!1,readyWait:1,holdReady:function(e){e?ye.readyWait++:ye.ready(!0)},ready:function(e){if(!0===e?!--ye.readyWait:!ye.isReady){if(!g.body)return setTimeout(ye.ready);(ye.isReady=!0)!==e&&0<--ye.readyWait||(o.resolveWith(g,[ye]),ye.fn.trigger&&ye(g).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ye.type(e)},isArray:Array.isArray||function(e){return"array"===ye.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?l[y.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==ye.type(e)||e.nodeType||ye.isWindow(e))return!1;try{if(e.constructor&&!b.call(e,"constructor")&&!b.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ye.support.ownLast)for(var t in e)return b.call(e,t);for(t in e);return t===w||b.call(e,t)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||g;var i=S.exec(e),n=!n&&[];return i?[t.createElement(i[1])]:(i=ye.buildFragment([e],t,n),n&&ye(n).remove(),ye.merge([],i.childNodes))},parseJSON:function(e){return p.JSON&&p.JSON.parse?p.JSON.parse(e):null===e?e:"string"==typeof e&&(e=ye.trim(e))&&D.test(e.replace(M,"@").replace(E,"]").replace(A,""))?new Function("return "+e)():void ye.error("Invalid JSON: "+e)},parseXML:function(e){var t;if(!e||"string"!=typeof e)return null;try{p.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=w}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||ye.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&ye.trim(e)&&(p.execScript||function(e){p.eval.call(p,e)})(e)},camelCase:function(e){return e.replace(N,"ms-").replace(P,t)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,o=e.length,r=R(e);if(n){if(r)for(;i<o&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(r)for(;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:x&&!x.call("\ufeffÂ ")?function(e){return null==e?"":x.call(e)}:function(e){return null==e?"":(e+"").replace(_,"")},makeArray:function(e,t){t=t||[];return null!=e&&(R(Object(e))?ye.merge(t,"string"==typeof e?[e]:e):u.call(t,e)),t},inArray:function(e,t,n){var i;if(t){if(f)return f.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=t.length,i=e.length,o=0;if("number"==typeof n)for(;o<n;o++)e[i++]=t[o];else for(;t[o]!==w;)e[i++]=t[o++];return e.length=i,e},grep:function(e,t,n){var i=[],o=0,r=e.length;for(n=!!n;o<r;o++)n!==!!t(e[o],o)&&i.push(e[o]);return i},map:function(e,t,n){var i,o=0,r=e.length,a=[];if(R(e))for(;o<r;o++)null!=(i=t(e[o],o,n))&&(a[a.length]=i);else for(o in e)null!=(i=t(e[o],o,n))&&(a[a.length]=i);return v.apply([],a)},guid:1,proxy:function(e,t){var n,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ye.isFunction(e)?(n=h.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(h.call(arguments)))}).guid=e.guid=e.guid||ye.guid++,i):w},access:function(e,t,n,i,o,r,a){var s=0,l=e.length,c=null==n;if("object"===ye.type(n))for(s in o=!0,n)ye.access(e,t,s,n[s],!0,r,a);else if(i!==w&&(o=!0,ye.isFunction(i)||(a=!0),c&&(t=a?(t.call(e,i),null):(c=t,function(e,t,n){return c.call(ye(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):r},now:function(){return(new Date).getTime()},swap:function(e,t,n,i){var o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,i||[]),t)e.style[o]=r[o];return i}}),ye.ready.promise=function(e){if(!o)if(o=ye.Deferred(),"complete"===g.readyState)setTimeout(ye.ready);else if(g.addEventListener)g.addEventListener("DOMContentLoaded",i,!1),p.addEventListener("load",i,!1);else{g.attachEvent("onreadystatechange",i),p.attachEvent("onload",i);var n=!1;try{n=null==p.frameElement&&g.documentElement}catch(e){}n&&n.doScroll&&!function t(){if(!ye.isReady){try{n.doScroll("left")}catch(e){return setTimeout(t,50)}I(),ye.ready()}}()}return o.promise(e)},ye.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()}),n=ye(g),function(n,i){var e,f,w,k,r,t,p,C,c,m,_,o,g,v,a,s,y,b="sizzle"+-new Date,x=n.document,T=0,d=0,l=oe(),u=oe(),h=oe(),S=!1,D=function(e,t){return e===t&&(S=!0),0},A=typeof i,M={}.hasOwnProperty,E=[],N=E.pop,P=E.push,I=E.push,R=E.slice,O=E.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",z=H.replace("w","w#"),j="\\["+B+"*("+H+")"+B+"*(?:([*^$|!~]?=)"+B+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+z+")|)|)"+B+"*\\]",F=":("+H+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+j.replace(3,8)+")*)|.*)\\)|)",W=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),$=new RegExp("^"+B+"*,"+B+"*"),U=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),Y=new RegExp(B+"*[+~]"),q=new RegExp("="+B+"*([^\\]'\"]*)"+B+"*\\]","g"),V=new RegExp(F),G=new RegExp("^"+z+"$"),Q={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H.replace("w","w*")+")"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},X=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)};try{I.apply(E=R.call(x.childNodes),x.childNodes),E[x.childNodes.length].nodeType}catch(e){I={apply:E.length?function(e,t){P.apply(e,R.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ie(e,t,n,i){var o,r,a,s,l,c,u,d,h;if((t?t.ownerDocument||t:x)!==_&&m(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=(t=t||_).nodeType)&&9!==a)return[];if(g&&!i){if(o=K.exec(e))if(c=o[1]){if(9===a){if(!(r=t.getElementById(c))||!r.parentNode)return n;if(r.id===c)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(c))&&y(t,r)&&r.id===c)return n.push(r),n}else{if(o[2])return I.apply(n,t.getElementsByTagName(e)),n;if((c=o[3])&&f.getElementsByClassName&&t.getElementsByClassName)return I.apply(n,t.getElementsByClassName(c)),n}if(f.qsa&&(!v||!v.test(e))){if(u=c=b,d=t,h=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=de(e),(c=t.getAttribute("id"))?u=c.replace(ee,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",s=l.length;s--;)l[s]=u+he(l[s]);d=Y.test(e)&&t.parentNode||t,h=l.join(",")}if(h)try{return I.apply(n,d.querySelectorAll(h)),n}catch(e){}finally{c||t.removeAttribute("id")}}}return function(e,t,n,i){var o,r,a,s,l,c=de(e);if(!i&&1===c.length){if(2<(r=c[0]=c[0].slice(0)).length&&"ID"===(a=r[0]).type&&f.getById&&9===t.nodeType&&g&&k.relative[r[1].type]){if(!(t=(k.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;e=e.slice(r.shift().value.length)}for(o=Q.needsContext.test(e)?0:r.length;o--&&(a=r[o],!k.relative[s=a.type]);)if((l=k.find[s])&&(i=l(a.matches[0].replace(te,ne),Y.test(r[0].type)&&t.parentNode||t))){if(r.splice(o,1),!(e=i.length&&he(r)))return I.apply(n,i),n;break}}return p(e,c)(i,t,!g,n,Y.test(e)),n}(e.replace(W,"$1"),t,n,i)}function oe(){var n=[];function i(e,t){return n.push(e+=" ")>k.cacheLength&&delete i[n.shift()],i[e]=t}return i}function re(e){return e[b]=!0,e}function ae(e){var t=_.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function se(e,t){for(var n=e.split("|"),i=e.length;i--;)k.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(a){return re(function(r){return r=+r,re(function(e,t){for(var n,i=a([],e.length,r),o=i.length;o--;)e[n=i[o]]&&(e[n]=!(t[n]=e[n]))})})}for(e in t=ie.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},f=ie.support={},m=ie.setDocument=function(e){var l=e?e.ownerDocument||e:x,e=l.defaultView;return l!==_&&9===l.nodeType&&l.documentElement?(o=(_=l).documentElement,g=!t(l),e&&e.attachEvent&&e!==e.top&&e.attachEvent("onbeforeunload",function(){m()}),f.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=ae(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=ae(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),f.getById=ae(function(e){return o.appendChild(e).id=b,!l.getElementsByName||!l.getElementsByName(b).length}),f.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!=A&&g){e=t.getElementById(e);return e&&e.parentNode?[e]:[]}},k.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(te,ne);return function(e){e=typeof e.getAttributeNode!=A&&e.getAttributeNode("id");return e&&e.value===t}}),k.find.TAG=f.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!=A)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},k.find.CLASS=f.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!=A&&g)return t.getElementsByClassName(e)},a=[],v=[],(f.qsa=X.test(l.querySelectorAll))&&(ae(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||v.push("\\["+B+"*(?:value|"+L+")"),e.querySelectorAll(":checked").length||v.push(":checked")}),ae(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&v.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(f.matchesSelector=X.test(s=o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ae(function(e){f.disconnectedMatch=s.call(e,"div"),s.call(e,"[s!='']:x"),a.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),a=a.length&&new RegExp(a.join("|")),y=X.test(o.contains)||o.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=o.compareDocumentPosition?function(e,t){if(e===t)return S=!0,0;var n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return n?1&n||!f.sortDetached&&t.compareDocumentPosition(e)===n?e===l||y(x,e)?-1:t===l||y(x,t)?1:c?O.call(c,e)-O.call(c,t):0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,i=0,o=e.parentNode,r=t.parentNode,a=[e],s=[t];if(e===t)return S=!0,0;if(!o||!r)return e===l?-1:t===l?1:o?-1:r?1:c?O.call(c,e)-O.call(c,t):0;if(o===r)return le(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?le(a[i],s[i]):a[i]===x?-1:s[i]===x?1:0},l):_},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==_&&m(e),t=t.replace(q,"='$1']"),f.matchesSelector&&g&&(!a||!a.test(t))&&(!v||!v.test(t)))try{var n=s.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<ie(t,_,null,[e]).length},ie.contains=function(e,t){return(e.ownerDocument||e)!==_&&m(e),y(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==_&&m(e);var n=k.attrHandle[t.toLowerCase()],n=n&&M.call(k.attrHandle,t.toLowerCase())?n(e,t,!g):i;return n===i?f.attributes||!g?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null:n},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!f.detectDuplicates,c=!f.sortStable&&e.slice(0),e.sort(D),S){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return e},r=ie.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i];i++)n+=r(t);return n},(k=ie.selectors={cacheLength:50,createPseudo:re,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==i?e[2]=e[4]:n&&V.test(n)&&(t=de(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=l[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&l(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!=A&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=ie.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(f,e,t,p,m){var g="nth"!==f.slice(0,3),v="last"!==f.slice(-4),y="of-type"===e;return 1===p&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,o,r,a,s,l,c=g!=v?"nextSibling":"previousSibling",u=e.parentNode,d=y&&e.nodeName.toLowerCase(),h=!n&&!y;if(u){if(g){for(;c;){for(r=e;r=r[c];)if(y?r.nodeName.toLowerCase()===d:1===r.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&h){for(s=(i=(o=u[b]||(u[b]={}))[f]||[])[0]===T&&i[1],a=i[0]===T&&i[2],r=s&&u.childNodes[s];r=++s&&r&&r[c]||(a=s=0)||l.pop();)if(1===r.nodeType&&++a&&r===e){o[f]=[T,s,a];break}}else if(h&&(i=(e[b]||(e[b]={}))[f])&&i[0]===T)a=i[1];else for(;(r=++s&&r&&r[c]||(a=s=0)||l.pop())&&((y?r.nodeName.toLowerCase()!==d:1!==r.nodeType)||!++a||(h&&((r[b]||(r[b]={}))[f]=[T,a]),r!==e)););return(a-=m)===p||a%p==0&&0<=a/p}}},PSEUDO:function(e,r){var t,a=k.pseudos[e]||k.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return a[b]?a(r):1<a.length?(t=[e,e,"",r],k.setFilters.hasOwnProperty(e.toLowerCase())?re(function(e,t){for(var n,i=a(e,r),o=i.length;o--;)e[n=O.call(e,i[o])]=!(t[n]=i[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:re(function(e){var i=[],o=[],s=p(e.replace(W,"$1"));return s[b]?re(function(e,t,n,i){for(var o,r=s(e,null,i,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return i[0]=e,s(i,null,n,o),!o.pop()}}),has:re(function(t){return function(e){return 0<ie(t,e).length}}),contains:re(function(t){return function(e){return-1<(e.textContent||e.innerText||r(e)).indexOf(t)}}),lang:re(function(n){return G.test(n||"")||ie.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===o},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if("@"<e.nodeName||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ce(function(){return[0]}),last:ce(function(e,t){return[t-1]}),eq:ce(function(e,t,n){return[n<0?n+t:n]}),even:ce(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ce(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ce(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:ce(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})k.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ue(){}function de(e,t){var n,i,o,r,a,s,l,c=u[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=k.preFilter;a;){for(r in n&&!(i=$.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=U.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(W," ")}),a=a.slice(n.length)),k.filter)!(i=Q[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ie.error(e):u(e,s).slice(0)}function he(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function fe(s,e,t){var l=e.dir,c=t&&"parentNode"===l,u=d++;return e.first?function(e,t,n){for(;e=e[l];)if(1===e.nodeType||c)return s(e,t,n)}:function(e,t,n){var i,o,r,a=T+" "+u;if(n){for(;e=e[l];)if((1===e.nodeType||c)&&s(e,t,n))return!0}else for(;e=e[l];)if(1===e.nodeType||c)if((o=(r=e[b]||(e[b]={}))[l])&&o[0]===a){if(!0===(i=o[1])||i===w)return!0===i}else if((o=r[l]=[a])[1]=s(e,t,n)||w,!0===o[1])return!0}}function pe(o){return 1<o.length?function(e,t,n){for(var i=o.length;i--;)if(!o[i](e,t,n))return!1;return!0}:o[0]}function me(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,i,o)||(a.push(r),c&&t.push(s)));return a}function ge(f,p,m,g,v,e){return g&&!g[b]&&(g=ge(g)),v&&!v[b]&&(v=ge(v,e)),re(function(e,t,n,i){var o,r,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var i=0,o=t.length;i<o;i++)ie(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),d=!f||!e&&p?u:me(u,s,f,n,i),h=m?v||(e?f:c||g)?[]:t:d;if(m&&m(d,h,n,i),g)for(o=me(h,l),g(o,[],n,i),r=o.length;r--;)(a=o[r])&&(h[l[r]]=!(d[l[r]]=a));if(e){if(v||f){if(v){for(o=[],r=h.length;r--;)(a=h[r])&&o.push(d[r]=a);v(null,h=[],o,i)}for(r=h.length;r--;)(a=h[r])&&-1<(o=v?O.call(e,a):s[r])&&(e[o]=!(t[o]=a))}}else h=me(h===t?h.splice(c,h.length):h),v?v(null,t,h,i):I.apply(t,h)})}function ve(g,v){function e(e,t,n,i,o){var r,a,s,l=[],c=0,u="0",d=e&&[],h=null!=o,f=C,p=e||x&&k.find.TAG("*",o&&t.parentNode||t),m=T+=null==f?1:Math.random()||.1;for(h&&(C=t!==_&&t,w=y);null!=(r=p[u]);u++){if(x&&r){for(a=0;s=g[a++];)if(s(r,t,n)){i.push(r);break}h&&(T=m,w=++y)}b&&((r=!s&&r)&&c--,e&&d.push(r))}if(c+=u,b&&u!==c){for(a=0;s=v[a++];)s(d,l,t,n);if(e){if(0<c)for(;u--;)d[u]||l[u]||(l[u]=N.call(i));l=me(l)}I.apply(i,l),h&&!e&&0<l.length&&1<c+v.length&&ie.uniqueSort(i)}return h&&(T=m,C=f),d}var y=0,b=0<v.length,x=0<g.length;return b?re(e):e}ue.prototype=k.filters=k.pseudos,k.setFilters=new ue,p=ie.compile=function(e,t){var n,i=[],o=[],r=h[e+" "];if(!r){for(n=(t=t||de(e)).length;n--;)((r=function e(t){for(var i,n,o,r=t.length,a=k.relative[t[0].type],s=a||k.relative[" "],l=a?1:0,c=fe(function(e){return e===i},s,!0),u=fe(function(e){return-1<O.call(i,e)},s,!0),d=[function(e,t,n){return!a&&(n||t!==C)||((i=t).nodeType?c:u)(e,t,n)}];l<r;l++)if(n=k.relative[t[l].type])d=[fe(pe(d),n)];else{if((n=k.filter[t[l].type].apply(null,t[l].matches))[b]){for(o=++l;o<r&&!k.relative[t[o].type];o++);return ge(1<l&&pe(d),1<l&&he(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(W,"$1"),n,l<o&&e(t.slice(l,o)),o<r&&e(t=t.slice(o)),o<r&&he(t))}d.push(n)}return pe(d)}(t[n]))[b]?i:o).push(r);r=h(e,ve(o,i))}return r},f.sortStable=b.split("").sort(D).join("")===b,f.detectDuplicates=S,m(),f.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(_.createElement("div"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||se("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||se("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||se(L,function(e,t,n){if(!n)return(n=e.getAttributeNode(t))&&n.specified?n.value:!0===e[t]?t.toLowerCase():null}),ye.find=ie,ye.expr=ie.selectors,ye.expr[":"]=ye.expr.pseudos,ye.unique=ie.uniqueSort,ye.text=ie.getText,ye.isXMLDoc=ie.isXML,ye.contains=ie.contains}(p);var O={};ye.Callbacks=function(o){var e,n;o="string"==typeof o?O[o]||(n=O[e=o]={},ye.each(e.match(C)||[],function(e,t){n[t]=!0}),n):ye.extend({},o);var i,t,r,a,s,l,c=[],u=!o.once&&[],d=function(e){for(t=o.memory&&e,r=!0,s=l||0,l=0,a=c.length,i=!0;c&&s<a;s++)if(!1===c[s].apply(e[0],e[1])&&o.stopOnFalse){t=!1;break}i=!1,c&&(u?u.length&&d(u.shift()):t?c=[]:h.disable())},h={add:function(){var e;return c&&(e=c.length,function i(e){ye.each(e,function(e,t){var n=ye.type(t);"function"===n?o.unique&&h.has(t)||c.push(t):t&&t.length&&"string"!==n&&i(t)})}(arguments),i?a=c.length:t&&(l=e,d(t))),this},remove:function(){return c&&ye.each(arguments,function(e,t){for(var n;-1<(n=ye.inArray(t,c,n));)c.splice(n,1),i&&(n<=a&&a--,n<=s&&s--)}),this},has:function(e){return e?-1<ye.inArray(e,c):!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=u=t=w,this},disabled:function(){return!c},lock:function(){return u=w,t||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||r&&!u||(t=[e,(t=t||[]).slice?t.slice():t],i?u.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},ye.extend({Deferred:function(e){var a=[["resolve","done",ye.Callbacks("once memory"),"resolved"],["reject","fail",ye.Callbacks("once memory"),"rejected"],["notify","progress",ye.Callbacks("memory")]],o="pending",s={state:function(){return o},always:function(){return l.done(arguments).fail(arguments),this},then:function(){var r=arguments;return ye.Deferred(function(o){ye.each(a,function(e,t){var n=t[0],i=ye.isFunction(r[e])&&r[e];l[t[1]](function(){var e=i&&i.apply(this,arguments);e&&ye.isFunction(e.promise)?e.promise().done(o.resolve).fail(o.reject).progress(o.notify):o[n+"With"](this===s?o.promise():this,i?[e]:arguments)})}),r=null}).promise()},promise:function(e){return null!=e?ye.extend(e,s):s}},l={};return s.pipe=s.then,ye.each(a,function(e,t){var n=t[2],i=t[3];s[t[1]]=n.add,i&&n.add(function(){o=i},a[1^e][2].disable,a[2][2].lock),l[t[0]]=function(){return l[t[0]+"With"](this===l?s:this,arguments),this},l[t[0]+"With"]=n.fireWith}),s.promise(l),e&&e.call(l,l),l},when:function(e){function t(t,n,i){return function(e){n[t]=this,i[t]=1<arguments.length?h.call(arguments):e,i===o?c.notifyWith(n,i):--l||c.resolveWith(n,i)}}var o,n,i,r=0,a=h.call(arguments),s=a.length,l=1!==s||e&&ye.isFunction(e.promise)?s:0,c=1===l?e:ye.Deferred();if(1<s)for(o=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)a[r]&&ye.isFunction(a[r].promise)?a[r].promise().done(t(r,i,a)).fail(c.reject).progress(t(r,n,o)):--l;return l||c.resolveWith(i,a),c.promise()}}),ye.support=function(r){var e,t,n,i,o,a,s,l,c,u=g.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=u.getElementsByTagName("*")||[],!(t=u.getElementsByTagName("a")[0])||!t.style||!e.length)return r;a=(i=g.createElement("select")).appendChild(g.createElement("option")),n=u.getElementsByTagName("input")[0],t.style.cssText="top:1px;float:left;opacity:.5",r.getSetAttribute="t"!==u.className,r.leadingWhitespace=3===u.firstChild.nodeType,r.tbody=!u.getElementsByTagName("tbody").length,r.htmlSerialize=!!u.getElementsByTagName("link").length,r.style=/top/.test(t.getAttribute("style")),r.hrefNormalized="/a"===t.getAttribute("href"),r.opacity=/^0.5/.test(t.style.opacity),r.cssFloat=!!t.style.cssFloat,r.checkOn=!!n.value,r.optSelected=a.selected,r.enctype=!!g.createElement("form").enctype,r.html5Clone="<:nav></:nav>"!==g.createElement("nav").cloneNode(!0).outerHTML,r.inlineBlockNeedsLayout=!1,r.shrinkWrapBlocks=!1,r.pixelPosition=!1,r.deleteExpando=!0,r.noCloneEvent=!0,r.reliableMarginRight=!0,r.boxSizingReliable=!0,n.checked=!0,r.noCloneChecked=n.cloneNode(!0).checked,i.disabled=!0,r.optDisabled=!a.disabled;try{delete u.test}catch(e){r.deleteExpando=!1}for(c in(n=g.createElement("input")).setAttribute("value",""),r.input=""===n.getAttribute("value"),n.value="t",n.setAttribute("type","radio"),r.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),(o=g.createDocumentFragment()).appendChild(n),r.appendChecked=n.checked,r.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){r.noCloneEvent=!1}),u.cloneNode(!0).click()),{submit:!0,change:!0,focusin:!0})u.setAttribute(s="on"+c,"t"),r[c+"Bubbles"]=s in p||!1===u.attributes[s].expando;for(c in u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",r.clearCloneStyle="content-box"===u.style.backgroundClip,ye(r))break;return r.ownLast="0"!==c,ye(function(){var e,t,n,i="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",o=g.getElementsByTagName("body")[0];o&&((e=g.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(e).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(n=u.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===n[0].offsetHeight,n[0].style.display="",n[1].style.display="none",r.reliableHiddenOffsets=l&&0===n[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ye.swap(o,null!=o.style.zoom?{zoom:1}:{},function(){r.boxSizing=4===u.offsetWidth}),p.getComputedStyle&&(r.pixelPosition="1%"!==(p.getComputedStyle(u,null)||{}).top,r.boxSizingReliable="4px"===(p.getComputedStyle(u,null)||{width:"4px"}).width,(t=u.appendChild(g.createElement("div"))).style.cssText=u.style.cssText=i,t.style.marginRight=t.style.width="0",u.style.width="1px",r.reliableMarginRight=!parseFloat((p.getComputedStyle(t,null)||{}).marginRight)),typeof u.style.zoom!==m&&(u.innerHTML="",u.style.cssText=i+"width:1px;padding:1px;display:inline;zoom:1",r.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",r.shrinkWrapBlocks=3!==u.offsetWidth,r.inlineBlockNeedsLayout&&(o.style.zoom=1)),o.removeChild(e),e=u=n=t=null)}),e=i=o=t=n=null,r}({});var L=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function H(e,t,n,i){if(ye.acceptData(e)){var o,r=ye.expando,a=e.nodeType,s=a?ye.cache:e,l=a?e[r]:e[r]&&r;if(l&&s[l]&&(i||s[l].data)||n!==w||"string"!=typeof t)return s[l=l||(a?e[r]=d.pop()||ye.guid++:r)]||(s[l]=a?{}:{toJSON:ye.noop}),"object"!=typeof t&&"function"!=typeof t||(i?s[l]=ye.extend(s[l],t):s[l].data=ye.extend(s[l].data,t)),l=s[l],i||(l.data||(l.data={}),l=l.data),n!==w&&(l[ye.camelCase(t)]=n),"string"==typeof t?null==(o=l[t])&&(o=l[ye.camelCase(t)]):o=l,o}}function z(e,t,n){if(ye.acceptData(e)){var i,o,r=e.nodeType,a=r?ye.cache:e,s=r?e[ye.expando]:ye.expando;if(a[s]){if(t&&(i=n?a[s]:a[s].data)){o=(t=ye.isArray(t)?t.concat(ye.map(t,ye.camelCase)):t in i||(t=ye.camelCase(t))in i?[t]:t.split(" ")).length;for(;o--;)delete i[t[o]];if(n?!F(i):!ye.isEmptyObject(i))return}(n||(delete a[s].data,F(a[s])))&&(r?ye.cleanData([e],!0):ye.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function j(e,t,n){if(n===w&&1===e.nodeType){var i="data-"+t.replace(B,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:L.test(n)?ye.parseJSON(n):n)}catch(e){}ye.data(e,t,n)}else n=w}return n}function F(e){for(var t in e)if(("data"!==t||!ye.isEmptyObject(e[t]))&&"toJSON"!==t)return;return 1}ye.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?ye.cache[e[ye.expando]]:e[ye.expando])&&!F(e)},data:function(e,t,n){return H(e,t,n)},removeData:function(e,t){return z(e,t)},_data:function(e,t,n){return H(e,t,n,!0)},_removeData:function(e,t){return z(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ye.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),ye.fn.extend({data:function(e,t){var n,i,o=null,r=0,a=this[0];if(e!==w)return"object"==typeof e?this.each(function(){ye.data(this,e)}):1<arguments.length?this.each(function(){ye.data(this,e,t)}):a?j(a,e,ye.data(a,e)):null;if(this.length&&(o=ye.data(a),1===a.nodeType&&!ye._data(a,"parsedAttrs"))){for(n=a.attributes;r<n.length;r++)0===(i=n[r].name).indexOf("data-")&&j(a,i=ye.camelCase(i.slice(5)),o[i]);ye._data(a,"parsedAttrs",!0)}return o},removeData:function(e){return this.each(function(){ye.removeData(this,e)})}}),ye.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=ye._data(e,t),n&&(!i||ye.isArray(n)?i=ye._data(e,t,ye.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=ye.queue(e,t),i=n.length,o=n.shift(),r=ye._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,function(){ye.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ye._data(e,n)||ye._data(e,n,{empty:ye.Callbacks("once memory").add(function(){ye._removeData(e,t+"queue"),ye._removeData(e,n)})})}}),ye.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?ye.queue(this[0],t):n===w?this:this.each(function(){var e=ye.queue(this,t,n);ye._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ye.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ye.dequeue(this,e)})},delay:function(i,e){return i=ye.fx&&ye.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=setTimeout(e,i);t.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||r.resolveWith(a,[a])}var i,o=1,r=ye.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=w),e=e||"fx";s--;)(i=ye._data(a[s],e+"queueHooks"))&&i.empty&&(o++,i.empty.add(n));return n(),r.promise(t)}});var W,$,U=/[\t\r\n\f]/g,Y=/\r/g,q=/^(?:input|select|textarea|button|object)$/i,V=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=ye.support.getSetAttribute,X=ye.support.input;ye.fn.extend({attr:function(e,t){return ye.access(this,ye.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ye.removeAttr(this,e)})},prop:function(e,t){return ye.access(this,ye.prop,e,t,1<arguments.length)},removeProp:function(e){return e=ye.propFix[e]||e,this.each(function(){try{this[e]=w,delete this[e]}catch(e){}})},addClass:function(t){var e,n,i,o,r,a=0,s=this.length,l="string"==typeof t&&t;if(ye.isFunction(t))return this.each(function(e){ye(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(C)||[];a<s;a++)if(i=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");n.className=ye.trim(i)}return this},removeClass:function(t){var e,n,i,o,r,a=0,s=this.length,l=0===arguments.length||"string"==typeof t&&t;if(ye.isFunction(t))return this.each(function(e){ye(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(C)||[];a<s;a++)if(i=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){for(r=0;o=e[r++];)for(;0<=i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");n.className=t?ye.trim(i):""}return this},toggleClass:function(o,t){var r=typeof o;return"boolean"==typeof t&&"string"==r?t?this.addClass(o):this.removeClass(o):ye.isFunction(o)?this.each(function(e){ye(this).toggleClass(o.call(this,e,this.className,t),t)}):this.each(function(){if("string"==r)for(var e,t=0,n=ye(this),i=o.match(C)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else r!==m&&"boolean"!=r||(this.className&&ye._data(this,"__className__",this.className),this.className=!this.className&&!1!==o&&ye._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(U," ").indexOf(t))return!0;return!1},val:function(t){var e,n,i,o=this[0];return arguments.length?(i=ye.isFunction(t),this.each(function(e){1===this.nodeType&&(null==(e=i?t.call(this,e,ye(this).val()):t)?e="":"number"==typeof e?e+="":ye.isArray(e)&&(e=ye.map(e,function(e){return null==e?"":e+""})),(n=ye.valHooks[this.type]||ye.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,e,"value")!==w||(this.value=e))})):o?(n=ye.valHooks[o.type]||ye.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&(e=n.get(o,"value"))!==w?e:"string"==typeof(e=o.value)?e.replace(Y,""):null==e?"":e:void 0}}),ye.extend({valHooks:{option:{get:function(e){var t=ye.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,r=o?null:[],a=o?i+1:n.length,s=i<0?a:o?i:0;s<a;s++)if(((t=n[s]).selected||s===i)&&(ye.support.optDisabled?!t.disabled:null===t.getAttribute("disabled"))&&(!t.parentNode.disabled||!ye.nodeName(t.parentNode,"optgroup"))){if(t=ye(t).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var n,i,o=e.options,r=ye.makeArray(t),a=o.length;a--;)((i=o[a]).selected=0<=ye.inArray(ye(i).val(),r))&&(n=!0);return n||(e.selectedIndex=-1),r}}},attr:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===m?ye.prop(e,t,n):(1===r&&ye.isXMLDoc(e)||(t=t.toLowerCase(),i=ye.attrHooks[t]||(ye.expr.match.bool.test(t)?$:W)),n===w?!(i&&"get"in i&&null!==(o=i.get(e,t)))&&null==(o=ye.find.attr(e,t))?w:o:null!==n?i&&"set"in i&&(o=i.set(e,n,t))!==w?o:(e.setAttribute(t,n+""),n):void ye.removeAttr(e,t))},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(C);if(r&&1===e.nodeType)for(;n=r[o++];)i=ye.propFix[n]||n,ye.expr.match.bool.test(n)?X&&Q||!G.test(n)?e[i]=!1:e[ye.camelCase("default-"+n)]=e[i]=!1:ye.attr(e,n,""),e.removeAttribute(Q?n:i)},attrHooks:{type:{set:function(e,t){if(!ye.support.radioValue&&"radio"===t&&ye.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return(1!==r||!ye.isXMLDoc(e))&&(t=ye.propFix[t]||t,o=ye.propHooks[t]),n!==w?o&&"set"in o&&(i=o.set(e,n,t))!==w?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ye.find.attr(e,"tabindex");return t?parseInt(t,10):q.test(e.nodeName)||V.test(e.nodeName)&&e.href?0:-1}}}}),$={set:function(e,t,n){return!1===t?ye.removeAttr(e,n):X&&Q||!G.test(n)?e.setAttribute(!Q&&ye.propFix[n]||n,n):e[ye.camelCase("default-"+n)]=e[n]=!0,n}},ye.each(ye.expr.match.bool.source.match(/\w+/g),function(e,t){var o=ye.expr.attrHandle[t]||ye.find.attr;ye.expr.attrHandle[t]=X&&Q||!G.test(t)?function(e,t,n){var i=ye.expr.attrHandle[t],n=n?w:(ye.expr.attrHandle[t]=w)!=o(e,t,n)?t.toLowerCase():null;return ye.expr.attrHandle[t]=i,n}:function(e,t,n){return n?w:e[ye.camelCase("default-"+t)]?t.toLowerCase():null}}),X&&Q||(ye.attrHooks.value={set:function(e,t,n){if(!ye.nodeName(e,"input"))return W&&W.set(e,t,n);e.defaultValue=t}}),Q||(W={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:w}},ye.expr.attrHandle.id=ye.expr.attrHandle.name=ye.expr.attrHandle.coords=function(e,t,n){return n?w:(t=e.getAttributeNode(t))&&""!==t.value?t.value:null},ye.valHooks.button={get:function(e,t){t=e.getAttributeNode(t);return t&&t.specified?t.value:w},set:W.set},ye.attrHooks.contenteditable={set:function(e,t,n){W.set(e,""!==t&&t,n)}},ye.each(["width","height"],function(e,n){ye.attrHooks[n]={set:function(e,t){if(""===t)return e.setAttribute(n,"auto"),t}}})),ye.support.hrefNormalized||ye.each(["href","src"],function(e,t){ye.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ye.support.style||(ye.attrHooks.style={get:function(e){return e.style.cssText||w},set:function(e,t){return e.style.cssText=t+""}}),ye.support.optSelected||(ye.propHooks.selected={get:function(e){e=e.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ye.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ye.propFix[this.toLowerCase()]=this}),ye.support.enctype||(ye.propFix.enctype="encoding"),ye.each(["radio","checkbox"],function(){ye.valHooks[this]={set:function(e,t){if(ye.isArray(t))return e.checked=0<=ye.inArray(ye(e).val(),t)}},ye.support.checkOn||(ye.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var K=/^(?:input|select|textarea)$/i,Z=/^key/,J=/^(?:mouse|contextmenu)|click/,ee=/^(?:focusinfocus|focusoutblur)$/,te=/^([^.]*)(?:\.(.+)|)$/;function ne(){return!0}function ie(){return!1}function oe(){try{return g.activeElement}catch(e){}}ye.event={global:{},add:function(e,t,n,i,o){var r,a,s,l,c,u,d,h,f,p=ye._data(e);if(p){for(n.handler&&(n=(s=n).handler,o=s.selector),n.guid||(n.guid=ye.guid++),(r=p.events)||(r=p.events={}),(c=p.handle)||((c=p.handle=function(e){return typeof ye===m||e&&ye.event.triggered===e.type?w:ye.event.dispatch.apply(c.elem,arguments)}).elem=e),a=(t=(t||"").match(C)||[""]).length;a--;)d=f=(u=te.exec(t[a])||[])[1],h=(u[2]||"").split(".").sort(),d&&(l=ye.event.special[d]||{},d=(o?l.delegateType:l.bindType)||d,l=ye.event.special[d]||{},u=ye.extend({type:d,origType:f,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ye.expr.match.needsContext.test(o),namespace:h.join(".")},s),(f=r[d])||((f=r[d]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,i,h,c)||(e.addEventListener?e.addEventListener(d,c,!1):e.attachEvent&&e.attachEvent("on"+d,c))),l.add&&(l.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,u):f.push(u),ye.event.global[d]=!0);e=null}},remove:function(e,t,n,i,o){var r,a,s,l,c,u,d,h,f,p,m,g=ye.hasData(e)&&ye._data(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(C)||[""]).length;c--;)if(f=m=(s=te.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=ye.event.special[f]||{},h=u[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)a=h[r],!o&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(r,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(e,a));l&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||ye.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)ye.event.remove(e,f+t[c],n,i,!0);ye.isEmptyObject(u)&&(delete g.handle,ye._removeData(e,"events"))}},trigger:function(e,t,n,i){var o,r,a,s,l,c,u=[n||g],d=b.call(e,"type")?e.type:e,h=b.call(e,"namespace")?e.namespace.split("."):[],f=l=n=n||g;if(3!==n.nodeType&&8!==n.nodeType&&!ee.test(d+ye.event.triggered)&&(0<=d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),r=d.indexOf(":")<0&&"on"+d,(e=e[ye.expando]?e:new ye.Event(d,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=h.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=w,e.target||(e.target=n),t=null==t?[e]:ye.makeArray(t,[e]),s=ye.event.special[d]||{},i||!s.trigger||!1!==s.trigger.apply(n,t))){if(!i&&!s.noBubble&&!ye.isWindow(n)){for(a=s.delegateType||d,ee.test(a+d)||(f=f.parentNode);f;f=f.parentNode)u.push(f),l=f;l===(n.ownerDocument||g)&&u.push(l.defaultView||l.parentWindow||p)}for(c=0;(f=u[c++])&&!e.isPropagationStopped();)e.type=1<c?a:s.bindType||d,(o=(ye._data(f,"events")||{})[e.type]&&ye._data(f,"handle"))&&o.apply(f,t),(o=r&&f[r])&&ye.acceptData(f)&&o.apply&&!1===o.apply(f,t)&&e.preventDefault();if(e.type=d,!i&&!e.isDefaultPrevented()&&(!s._default||!1===s._default.apply(u.pop(),t))&&ye.acceptData(n)&&r&&n[d]&&!ye.isWindow(n)){(l=n[r])&&(n[r]=null),ye.event.triggered=d;try{n[d]()}catch(e){}ye.event.triggered=w,l&&(n[r]=l)}return e.result}},dispatch:function(e){e=ye.event.fix(e);var t,n,i,o,r,a=h.call(arguments),s=(ye._data(this,"events")||{})[e.type]||[],l=ye.event.special[e.type]||{};if((a[0]=e).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(r=ye.event.handlers.call(this,e,s),t=0;(i=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(n=i.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(n.namespace)||(e.handleObj=n,e.data=n.data,(n=((ye.event.special[n.origType]||{}).handle||n.handler).apply(i.elem,a))!==w&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(o=[],r=0;r<s;r++)o[n=(i=t[r]).selector+" "]===w&&(o[n]=i.needsContext?0<=ye(n,this).index(l):ye.find(n,this,null,[l]).length),o[n]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ye.expando])return e;var t,n,i,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=J.test(o)?this.mouseHooks:Z.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new ye.Event(r),t=i.length;t--;)e[n=i[t]]=r[n];return e.target||(e.target=r.srcElement||g),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||g).documentElement,n=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),e.which||o===w||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==oe()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===oe()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ye.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return ye.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==w&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){e=ye.extend(new ye.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ye.event.trigger(e,null,t):ye.event.dispatch.call(t,e),e.isDefaultPrevented()&&n.preventDefault()}},ye.removeEvent=g.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){t="on"+t;e.detachEvent&&(typeof e[t]===m&&(e[t]=null),e.detachEvent(t,n))},ye.Event=function(e,t){if(!(this instanceof ye.Event))return new ye.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?ne:ie):this.type=e,t&&ye.extend(this,t),this.timeStamp=e&&e.timeStamp||ye.now(),this[ye.expando]=!0},ye.Event.prototype={isDefaultPrevented:ie,isPropagationStopped:ie,isImmediatePropagationStopped:ie,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ne,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ne,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ne,this.stopPropagation()}},ye.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,o){ye.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||ye.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=o),t}}}),ye.support.submitBubbles||(ye.event.special.submit={setup:function(){if(ye.nodeName(this,"form"))return!1;ye.event.add(this,"click._submit keypress._submit",function(e){e=e.target,e=ye.nodeName(e,"input")||ye.nodeName(e,"button")?e.form:w;e&&!ye._data(e,"submitBubbles")&&(ye.event.add(e,"submit._submit",function(e){e._submit_bubble=!0}),ye._data(e,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ye.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(ye.nodeName(this,"form"))return!1;ye.event.remove(this,"._submit")}}),ye.support.changeBubbles||(ye.event.special.change={setup:function(){if(K.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ye.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ye.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ye.event.simulate("change",this,e,!0)})),!1;ye.event.add(this,"beforeactivate._change",function(e){e=e.target;K.test(e.nodeName)&&!ye._data(e,"changeBubbles")&&(ye.event.add(e,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ye.event.simulate("change",this.parentNode,e,!0)}),ye._data(e,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return ye.event.remove(this,"._change"),!K.test(this.nodeName)}}),ye.support.focusinBubbles||ye.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){ye.event.simulate(t,e.target,ye.event.fix(e),!0)}var i=0;ye.event.special[t]={setup:function(){0==i++&&g.addEventListener(e,n,!0)},teardown:function(){0==--i&&g.removeEventListener(e,n,!0)}}}),ye.fn.extend({on:function(e,t,n,i,o){var r,a;if("object"==typeof e){for(r in"string"!=typeof t&&(n=n||t,t=w),e)this.on(r,t,n,e[r],o);return this}if(null==n&&null==i?(i=t,n=t=w):null==i&&("string"==typeof t?(i=n,n=w):(i=n,n=t,t=w)),!1===i)i=ie;else if(!i)return this;return 1===o&&(a=i,(i=function(e){return ye().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ye.guid++)),this.each(function(){ye.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ye(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=w),!1===n&&(n=ie),this.each(function(){ye.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this},trigger:function(e,t){return this.each(function(){ye.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ye.event.trigger(e,t,n,!0)}});var re=/^.[^:#\[\.,]*$/,ae=/^(?:parents|prev(?:Until|All))/,se=ye.expr.match.needsContext,le={children:!0,contents:!0,next:!0,prev:!0};function ce(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function ue(e,n,i){if(ye.isFunction(n))return ye.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return ye.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(re.test(n))return ye.filter(n,e,i);n=ye.filter(n,e)}return ye.grep(e,function(e){return 0<=ye.inArray(e,n)!==i})}function de(e){var t=he.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}ye.fn.extend({find:function(e){var t,n=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(ye(e).filter(function(){for(t=0;t<o;t++)if(ye.contains(i[t],this))return!0}));for(t=0;t<o;t++)ye.find(e,i[t],n);return(n=this.pushStack(1<o?ye.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=ye(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(ye.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ue(this,e||[],!0))},filter:function(e){return this.pushStack(ue(this,e||[],!1))},is:function(e){return!!ue(this,"string"==typeof e&&se.test(e)?ye(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,o=this.length,r=[],a=se.test(e)||"string"!=typeof e?ye(e,t||this.context):0;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ye.find.matchesSelector(n,e))){n=r.push(n);break}return this.pushStack(1<r.length?ye.unique(r):r)},index:function(e){return e?"string"==typeof e?ye.inArray(this[0],ye(e)):ye.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){e="string"==typeof e?ye(e,t):ye.makeArray(e&&e.nodeType?[e]:e),e=ye.merge(this.get(),e);return this.pushStack(ye.unique(e))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ye.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return ye.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ye.dir(e,"parentNode",n)},next:function(e){return ce(e,"nextSibling")},prev:function(e){return ce(e,"previousSibling")},nextAll:function(e){return ye.dir(e,"nextSibling")},prevAll:function(e){return ye.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ye.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ye.dir(e,"previousSibling",n)},siblings:function(e){return ye.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ye.sibling(e.firstChild)},contents:function(e){return ye.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ye.merge([],e.childNodes)}},function(i,o){ye.fn[i]=function(e,t){var n=ye.map(this,o,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=ye.filter(t,n)),1<this.length&&(le[i]||(n=ye.unique(n)),ae.test(i)&&(n=n.reverse())),this.pushStack(n)}}),ye.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ye.find.matchesSelector(i,e)?[i]:[]:ye.find.matches(e,ye.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,t,n){for(var i=[],o=e[t];o&&9!==o.nodeType&&(n===w||1!==o.nodeType||!ye(o).is(n));)1===o.nodeType&&i.push(o),o=o[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var he="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fe=/ jQuery\d+="(?:null|\d+)"/g,pe=new RegExp("<(?:"+he+")[\\s/>]","i"),me=/^\s+/,ge=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ve=/<([\w:]+)/,be=/<tbody/i,xe=/<|&#?\w+;/,we=/<(?:script|style|link)/i,ke=/^(?:checkbox|radio)$/i,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,_e=/^$|\/(?:java|ecma)script/i,Te=/^true\/(.*)/,Se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,De={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ye.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ae=de(g).appendChild(g.createElement("div"));function Me(e,t){return ye.nodeName(e,"table")&&ye.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Ee(e){return e.type=(null!==ye.find.attr(e,"type"))+"/"+e.type,e}function Ne(e){var t=Te.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Pe(e,t){for(var n,i=0;null!=(n=e[i]);i++)ye._data(n,"globalEval",!t||ye._data(t[i],"globalEval"))}function Ie(e,t){if(1===t.nodeType&&ye.hasData(e)){var n,i,o,r=ye._data(e),e=ye._data(t,r),a=r.events;if(a)for(n in delete e.handle,e.events={},a)for(i=0,o=a[n].length;i<o;i++)ye.event.add(t,n,a[n][i]);e.data&&(e.data=ye.extend({},e.data))}}function Re(e,t){var n,i,o=0,r=typeof e.getElementsByTagName!==m?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==m?e.querySelectorAll(t||"*"):w;if(!r)for(r=[],n=e.childNodes||e;null!=(i=n[o]);o++)!t||ye.nodeName(i,t)?r.push(i):ye.merge(r,Re(i,t));return t===w||t&&ye.nodeName(e,t)?ye.merge([e],r):r}function Oe(e){ke.test(e.type)&&(e.defaultChecked=e.checked)}De.optgroup=De.option,De.tbody=De.tfoot=De.colgroup=De.caption=De.thead,De.th=De.td,ye.fn.extend({text:function(e){return ye.access(this,function(e){return e===w?ye.text(this):this.empty().append((this[0]&&this[0].ownerDocument||g).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Me(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Me(this,e)).insertBefore(e,t.firstChild)})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ye.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||ye.cleanData(Re(n)),n.parentNode&&(t&&ye.contains(n.ownerDocument,n)&&Pe(Re(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ye.cleanData(Re(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ye.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ye.clone(this,e,t)})},html:function(e){return ye.access(this,function(e){var t=this[0]||{},n=0,i=this.length;if(e===w)return 1===t.nodeType?t.innerHTML.replace(fe,""):w;if("string"==typeof e&&!we.test(e)&&(ye.support.htmlSerialize||!pe.test(e))&&(ye.support.leadingWhitespace||!me.test(e))&&!De[(ve.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ge,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(ye.cleanData(Re(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var i=ye.map(this,function(e){return[e.nextSibling,e.parentNode]}),o=0;return this.domManip(arguments,function(e){var t=i[o++],n=i[o++];n&&(t&&t.parentNode!==n&&(t=this.nextSibling),ye(this).remove(),n.insertBefore(e,t))},!0),o?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,i,o){n=v.apply([],n);var e,t,r,a,s,l,c=0,u=this.length,d=this,h=u-1,f=n[0],p=ye.isFunction(f);if(p||!(u<=1||"string"!=typeof f||ye.support.checkClone)&&Ce.test(f))return this.each(function(e){var t=d.eq(e);p&&(n[0]=f.call(this,e,t.html())),t.domManip(n,i,o)});if(u&&(e=(l=ye.buildFragment(n,this[0].ownerDocument,!1,!o&&this)).firstChild,1===l.childNodes.length&&(l=e),e)){for(r=(a=ye.map(Re(l,"script"),Ee)).length;c<u;c++)t=l,c!==h&&(t=ye.clone(t,!0,!0),r&&ye.merge(a,Re(t,"script"))),i.call(this[c],t,c);if(r)for(s=a[a.length-1].ownerDocument,ye.map(a,Ne),c=0;c<r;c++)t=a[c],_e.test(t.type||"")&&!ye._data(t,"globalEval")&&ye.contains(s,t)&&(t.src?ye._evalUrl(t.src):ye.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Se,"")));l=e=null}return this}}),ye.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){ye.fn[e]=function(e){for(var t,n=0,i=[],o=ye(e),r=o.length-1;n<=r;n++)t=n===r?this:this.clone(!0),ye(o[n])[a](t),u.apply(i,t.get());return this.pushStack(i)}}),ye.extend({clone:function(e,t,n){var i,o,r,a,s,l=ye.contains(e.ownerDocument,e);if(ye.support.html5Clone||ye.isXMLDoc(e)||!pe.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Ae.innerHTML=e.outerHTML,Ae.removeChild(r=Ae.firstChild)),!(ye.support.noCloneEvent&&ye.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ye.isXMLDoc(e)))for(i=Re(r),s=Re(e),a=0;null!=(o=s[a]);++a)i[a]&&function(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ye.support.noCloneEvent&&t[ye.expando]){for(i in(o=ye._data(t)).events)ye.removeEvent(t,i,o.handle);t.removeAttribute(ye.expando)}"script"===n&&t.text!==e.text?(Ee(t).text=e.text,Ne(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ye.support.html5Clone&&e.innerHTML&&!ye.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&ke.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}(o,i[a]);if(t)if(n)for(s=s||Re(e),i=i||Re(r),a=0;null!=(o=s[a]);a++)Ie(o,i[a]);else Ie(e,r);return 0<(i=Re(r,"script")).length&&Pe(i,!l&&Re(e,"script")),i=s=o=null,r},buildFragment:function(e,t,n,i){for(var o,r,a,s,l,c,u,d=e.length,h=de(t),f=[],p=0;p<d;p++)if((r=e[p])||0===r)if("object"===ye.type(r))ye.merge(f,r.nodeType?[r]:r);else if(xe.test(r)){for(s=s||h.appendChild(t.createElement("div")),l=(ve.exec(r)||["",""])[1].toLowerCase(),u=De[l]||De._default,s.innerHTML=u[1]+r.replace(ge,"<$1></$2>")+u[2],o=u[0];o--;)s=s.lastChild;if(!ye.support.leadingWhitespace&&me.test(r)&&f.push(t.createTextNode(me.exec(r)[0])),!ye.support.tbody)for(o=(r="table"!==l||be.test(r)?"<table>"!==u[1]||be.test(r)?0:s:s.firstChild)&&r.childNodes.length;o--;)ye.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(ye.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else f.push(t.createTextNode(r));for(s&&h.removeChild(s),ye.support.appendChecked||ye.grep(Re(f,"input"),Oe),p=0;r=f[p++];)if((!i||-1===ye.inArray(r,i))&&(a=ye.contains(r.ownerDocument,r),s=Re(h.appendChild(r),"script"),a&&Pe(s),n))for(o=0;r=s[o++];)_e.test(r.type||"")&&n.push(r);return s=null,h},cleanData:function(e,t){for(var n,i,o,r,a=0,s=ye.expando,l=ye.cache,c=ye.support.deleteExpando,u=ye.event.special;null!=(n=e[a]);a++)if((t||ye.acceptData(n))&&(r=(o=n[s])&&l[o])){if(r.events)for(i in r.events)u[i]?ye.event.remove(n,i):ye.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c?delete n[s]:typeof n.removeAttribute!==m?n.removeAttribute(s):n[s]=null,d.push(o))}},_evalUrl:function(e){return ye.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),ye.fn.extend({wrapAll:function(t){return ye.isFunction(t)?this.each(function(e){ye(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ye(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)),this);var e},wrapInner:function(n){return ye.isFunction(n)?this.each(function(e){ye(this).wrapInner(n.call(this,e))}):this.each(function(){var e=ye(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=ye.isFunction(t);return this.each(function(e){ye(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){ye.nodeName(this,"body")||ye(this).replaceWith(this.childNodes)}).end()}});var Le,Be,He,ze=/alpha\([^)]*\)/i,je=/opacity\s*=\s*([^)]*)/,Fe=/^(top|right|bottom|left)$/,We=/^(none|table(?!-c[ea]).+)/,$e=/^margin/,Ue=new RegExp("^("+k+")(.*)$","i"),Ye=new RegExp("^("+k+")(?!px)[a-z%]+$","i"),qe=new RegExp("^([+-])=("+k+")","i"),Ve={BODY:"block"},Ge={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:0,fontWeight:400},Xe=["Top","Right","Bottom","Left"],Ke=["Webkit","O","Moz","ms"];function Ze(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=Ke.length;o--;)if((t=Ke[o]+n)in e)return t;return i}function Je(e,t){return e=t||e,"none"===ye.css(e,"display")||!ye.contains(e.ownerDocument,e)}function et(e,t){for(var n,i,o,r=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(r[a]=ye._data(i,"olddisplay"),n=i.style.display,t?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Je(i)&&(r[a]=ye._data(i,"olddisplay",ot(i.nodeName)))):r[a]||(o=Je(i),(n&&"none"!==n||!o)&&ye._data(i,"olddisplay",o?n:ye.css(i,"display"))));for(a=0;a<s;a++)(i=e[a]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[a]||"":"none"));return e}function tt(e,t,n){var i=Ue.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function nt(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=ye.css(e,n+Xe[r],!0,o)),i?("content"===n&&(a-=ye.css(e,"padding"+Xe[r],!0,o)),"margin"!==n&&(a-=ye.css(e,"border"+Xe[r]+"Width",!0,o))):(a+=ye.css(e,"padding"+Xe[r],!0,o),"padding"!==n&&(a+=ye.css(e,"border"+Xe[r]+"Width",!0,o)));return a}function it(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=Be(e),a=ye.support.boxSizing&&"border-box"===ye.css(e,"boxSizing",!1,r);if(o<=0||null==o){if(((o=He(e,t,r))<0||null==o)&&(o=e.style[t]),Ye.test(o))return o;i=a&&(ye.support.boxSizingReliable||o===e.style[t]),o=parseFloat(o)||0}return o+nt(e,t,n||(a?"border":"content"),i,r)+"px"}function ot(e){var t=g,n=Ve[e];return n||("none"!==(n=rt(e,t))&&n||((t=((Le=(Le||ye("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement))[0].contentWindow||Le[0].contentDocument).document).write("<!doctype html><html><body>"),t.close(),n=rt(e,t),Le.detach()),Ve[e]=n),n}function rt(e,t){e=ye(t.createElement(e)).appendTo(t.body),t=ye.css(e[0],"display");return e.remove(),t}ye.fn.extend({css:function(e,t){return ye.access(this,function(e,t,n){var i,o,r={},a=0;if(ye.isArray(t)){for(o=Be(e),i=t.length;a<i;a++)r[t[a]]=ye.css(e,t[a],!1,o);return r}return n!==w?ye.style(e,t,n):ye.css(e,t)},e,t,1<arguments.length)},show:function(){return et(this,!0)},hide:function(){return et(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Je(this)?ye(this).show():ye(this).hide()})}}),ye.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=He(e,"opacity");return""===e?"1":e}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ye.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=ye.camelCase(t),l=e.style;if(t=ye.cssProps[s]||(ye.cssProps[s]=Ze(l,s)),a=ye.cssHooks[t]||ye.cssHooks[s],n===w)return a&&"get"in a&&(o=a.get(e,!1,i))!==w?o:l[t];if("string"===(r=typeof n)&&(o=qe.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(ye.css(e,t)),r="number"),!(null==n||"number"===r&&isNaN(n)||("number"!==r||ye.cssNumber[s]||(n+="px"),ye.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&(n=a.set(e,n,i))===w)))try{l[t]=n}catch(e){}}},css:function(e,t,n,i){var o,r=ye.camelCase(t);return t=ye.cssProps[r]||(ye.cssProps[r]=Ze(e.style,r)),(r=ye.cssHooks[t]||ye.cssHooks[r])&&"get"in r&&(o=r.get(e,!0,n)),o===w&&(o=He(e,t,i)),"normal"===o&&t in Qe&&(o=Qe[t]),""===n||n?(t=parseFloat(o),!0===n||ye.isNumeric(t)?t||0:o):o}}),p.getComputedStyle?(Be=function(e){return p.getComputedStyle(e,null)},He=function(e,t,n){var i=n||Be(e),o=i?i.getPropertyValue(t)||i[t]:w,r=e.style;return i&&(""!==o||ye.contains(e.ownerDocument,e)||(o=ye.style(e,t)),Ye.test(o)&&$e.test(t)&&(n=r.width,e=r.minWidth,t=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=i.width,r.width=n,r.minWidth=e,r.maxWidth=t)),o}):g.documentElement.currentStyle&&(Be=function(e){return e.currentStyle},He=function(e,t,n){var i,o=n||Be(e),r=o?o[t]:w,a=e.style;return null==r&&a&&a[t]&&(r=a[t]),Ye.test(r)&&!Fe.test(t)&&(i=a.left,(o=(n=e.runtimeStyle)&&n.left)&&(n.left=e.currentStyle.left),a.left="fontSize"===t?"1em":r,r=a.pixelLeft+"px",a.left=i,o&&(n.left=o)),""===r?"auto":r}),ye.each(["height","width"],function(e,o){ye.cssHooks[o]={get:function(e,t,n){if(t)return 0===e.offsetWidth&&We.test(ye.css(e,"display"))?ye.swap(e,Ge,function(){return it(e,o,n)}):it(e,o,n)},set:function(e,t,n){var i=n&&Be(e);return tt(0,t,n?nt(e,o,n,ye.support.boxSizing&&"border-box"===ye.css(e,"boxSizing",!1,i),i):0)}}}),ye.support.opacity||(ye.cssHooks.opacity={get:function(e,t){return je.test((t&&e.currentStyle?e.currentStyle:e.style).filter||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=ye.isNumeric(t)?"alpha(opacity="+100*t+")":"",e=i&&i.filter||n.filter||"";((n.zoom=1)<=t||""===t)&&""===ye.trim(e.replace(ze,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=ze.test(e)?e.replace(ze,o):e+" "+o)}}),ye(function(){ye.support.reliableMarginRight||(ye.cssHooks.marginRight={get:function(e,t){if(t)return ye.swap(e,{display:"inline-block"},He,[e,"marginRight"])}}),!ye.support.pixelPosition&&ye.fn.position&&ye.each(["top","left"],function(e,n){ye.cssHooks[n]={get:function(e,t){if(t)return t=He(e,n),Ye.test(t)?ye(e).position()[n]+"px":t}}})}),ye.expr&&ye.expr.filters&&(ye.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ye.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ye.css(e,"display"))},ye.expr.filters.visible=function(e){return!ye.expr.filters.hidden(e)}),ye.each({margin:"",padding:"",border:"Width"},function(o,r){ye.cssHooks[o+r]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+Xe[t]+r]=i[t]||i[t-2]||i[0];return n}},$e.test(o)||(ye.cssHooks[o+r].set=tt)});var at=/%20/g,st=/\[\]$/,lt=/\r?\n/g,ct=/^(?:submit|button|image|reset|file)$/i,ut=/^(?:input|select|textarea|keygen)/i;ye.fn.extend({serialize:function(){return ye.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ye.prop(this,"elements");return e?ye.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ye(this).is(":disabled")&&ut.test(this.nodeName)&&!ct.test(e)&&(this.checked||!ke.test(e))}).map(function(e,t){var n=ye(this).val();return null==n?null:ye.isArray(n)?ye.map(n,function(e){return{name:t.name,value:e.replace(lt,"\r\n")}}):{name:t.name,value:n.replace(lt,"\r\n")}}).get()}}),ye.param=function(e,t){function n(e,t){t=ye.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var i,o=[];if(t===w&&(t=ye.ajaxSettings&&ye.ajaxSettings.traditional),ye.isArray(e)||e.jquery&&!ye.isPlainObject(e))ye.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,o,r){if(ye.isArray(e))ye.each(e,function(e,t){o||st.test(i)?r(i,t):n(i+"["+("object"==typeof t?e:"")+"]",t,o,r)});else if(o||"object"!==ye.type(e))r(i,e);else for(var t in e)n(i+"["+t+"]",e[t],o,r)}(i,e[i],t,n);return o.join("&").replace(at,"+")},ye.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){ye.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),ye.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var dt,ht,ft=ye.now(),pt=/\?/,mt=/#.*$/,gt=/([?&])_=[^&]*/,vt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,yt=/^(?:GET|HEAD)$/,bt=/^\/\//,xt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,wt=ye.fn.load,kt={},Ct={},_t="*/".concat("*");try{ht=e.href}catch(e){(ht=g.createElement("a")).href="",ht=ht.href}function Tt(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,o=e.toLowerCase().match(C)||[];if(ye.isFunction(t))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(t)):(r[n]=r[n]||[]).push(t)}}function St(t,i,o,r){var a={},s=t===Ct;function l(e){var n;return a[e]=!0,ye.each(t[e]||[],function(e,t){t=t(i,o,r);return"string"!=typeof t||s||a[t]?s?!(n=t):void 0:(i.dataTypes.unshift(t),l(t),!1)}),n}return l(i.dataTypes[0])||!a["*"]&&l("*")}function Dt(e,t){var n,i,o=ye.ajaxSettings.flatOptions||{};for(i in t)t[i]!==w&&((o[i]?e:n=n||{})[i]=t[i]);return n&&ye.extend(!0,e,n),e}dt=xt.exec(ht.toLowerCase())||[],ye.fn.load=function(e,t,n){if("string"!=typeof e&&wt)return wt.apply(this,arguments);var i,o,r,a=this,s=e.indexOf(" ");return 0<=s&&(i=e.slice(s,e.length),e=e.slice(0,s)),ye.isFunction(t)?(n=t,t=w):t&&"object"==typeof t&&(r="POST"),0<a.length&&ye.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?ye("<div>").append(ye.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},ye.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ye.fn[t]=function(e){return this.on(t,e)}}),ye.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ht,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(dt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ye.parseJSON,"text xml":ye.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Dt(Dt(e,ye.ajaxSettings),t):Dt(ye.ajaxSettings,e)},ajaxPrefilter:Tt(kt),ajaxTransport:Tt(Ct),ajax:function(e,t){"object"==typeof e&&(t=e,e=w),t=t||{};var n,l,c,u,d,h,i,f=ye.ajaxSetup({},t),p=f.context||f,m=f.context&&(p.nodeType||p.jquery)?ye(p):ye.event,g=ye.Deferred(),v=ye.Callbacks("once memory"),y=f.statusCode||{},o={},r={},b=0,a="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!i)for(i={};t=vt.exec(c);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?c:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=r[n]=r[n]||e,o[e]=t),this},overrideMimeType:function(e){return b||(f.mimeType=e),this},statusCode:function(e){if(e)if(b<2)for(var t in e)y[t]=[y[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){e=e||a;return h&&h.abort(e),s(0,e),this}};if(g.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,f.url=((e||f.url||ht)+"").replace(mt,"").replace(bt,dt[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=ye.trim(f.dataType||"*").toLowerCase().match(C)||[""],null==f.crossDomain&&(e=xt.exec(f.url.toLowerCase()),f.crossDomain=!(!e||e[1]===dt[1]&&e[2]===dt[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(dt[3]||("http:"===dt[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ye.param(f.data,f.traditional)),St(kt,f,t,x),2===b)return x;for(n in(d=f.global)&&0==ye.active++&&ye.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!yt.test(f.type),l=f.url,f.hasContent||(f.data&&(l=f.url+=(pt.test(l)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=gt.test(l)?l.replace(gt,"$1_="+ft++):l+(pt.test(l)?"&":"?")+"_="+ft++)),f.ifModified&&(ye.lastModified[l]&&x.setRequestHeader("If-Modified-Since",ye.lastModified[l]),ye.etag[l]&&x.setRequestHeader("If-None-Match",ye.etag[l])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+_t+"; q=0.01":""):f.accepts["*"]),f.headers)x.setRequestHeader(n,f.headers[n]);if(f.beforeSend&&(!1===f.beforeSend.call(p,x,f)||2===b))return x.abort();for(n in a="abort",{success:1,error:1,complete:1})x[n](f[n]);if(h=St(Ct,f,t,x)){x.readyState=1,d&&m.trigger("ajaxSend",[x,f]),f.async&&0<f.timeout&&(u=setTimeout(function(){x.abort("timeout")},f.timeout));try{b=1,h.send(o,s)}catch(e){if(!(b<2))throw e;s(-1,e)}}else s(-1,"No Transport");function s(e,t,n,i){var o,r,a,s=t;2!==b&&(b=2,u&&clearTimeout(u),h=w,c=i||"",x.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(a=function(e,t,n){var i,o,r,a,s=e.contents,l=e.dataTypes;for(;"*"===l[0];)l.shift(),o===w&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}i=i||a}r=r||i}if(r)return r!==l[0]&&l.unshift(r),n[r]}(f,x,n)),a=function(e,t,n,i){var o,r,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];r=u.shift();for(;r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(f,a,x,i),i?(f.ifModified&&((n=x.getResponseHeader("Last-Modified"))&&(ye.lastModified[l]=n),(n=x.getResponseHeader("etag"))&&(ye.etag[l]=n)),204===e||"HEAD"===f.type?s="nocontent":304===e?s="notmodified":(s=a.state,o=a.data,i=!(r=a.error))):(r=s,!e&&s||(s="error",e<0&&(e=0))),x.status=e,x.statusText=(t||s)+"",i?g.resolveWith(p,[o,s,x]):g.rejectWith(p,[x,s,r]),x.statusCode(y),y=w,d&&m.trigger(i?"ajaxSuccess":"ajaxError",[x,f,i?o:r]),v.fireWith(p,[x,s]),d&&(m.trigger("ajaxComplete",[x,f]),--ye.active||ye.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return ye.get(e,t,n,"json")},getScript:function(e,t){return ye.get(e,w,t,"script")}}),ye.each(["get","post"],function(e,o){ye[o]=function(e,t,n,i){return ye.isFunction(t)&&(i=i||n,n=t,t=w),ye.ajax({url:e,type:o,dataType:i,data:t,success:n})}}),ye.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ye.globalEval(e),e}}}),ye.ajaxPrefilter("script",function(e){e.cache===w&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ye.ajaxTransport("script",function(t){if(t.crossDomain){var i,o=g.head||ye("head")[0]||g.documentElement;return{send:function(e,n){(i=g.createElement("script")).async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(e,t){!t&&i.readyState&&!/loaded|complete/.test(i.readyState)||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||n(200,"success"))},o.insertBefore(i,o.firstChild)},abort:function(){i&&i.onload(w,!0)}}}});var At=[],Mt=/(=)\?(?=&|$)|\?\?/;ye.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=At.pop()||ye.expando+"_"+ft++;return this[e]=!0,e}}),ye.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,r,a=!1!==e.jsonp&&(Mt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Mt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=ye.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Mt,"$1"+i):!1!==e.jsonp&&(e.url+=(pt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return r||ye.error(i+" was not called"),r[0]},e.dataTypes[0]="json",o=p[i],p[i]=function(){r=arguments},n.always(function(){p[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,At.push(i)),r&&ye.isFunction(o)&&o(r[0]),r=o=w}),"script"});var Et,Nt=0,Pt=p.ActiveXObject&&function(){for(var e in Et)Et[e](w,!0)};function It(){try{return new p.XMLHttpRequest}catch(e){}}ye.ajaxSettings.xhr=p.ActiveXObject?function(){return!this.isLocal&&It()||function(){try{return new p.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:It,c=ye.ajaxSettings.xhr(),ye.support.cors=!!c&&"withCredentials"in c,(c=ye.support.ajax=!!c)&&ye.ajaxTransport(function(c){var u;if(!c.crossDomain||ye.support.cors)return{send:function(e,a){var s,t,l=c.xhr();if(c.username?l.open(c.type,c.url,c.async,c.username,c.password):l.open(c.type,c.url,c.async),c.xhrFields)for(t in c.xhrFields)l[t]=c.xhrFields[t];c.mimeType&&l.overrideMimeType&&l.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(t in e)l.setRequestHeader(t,e[t])}catch(e){}l.send(c.hasContent&&c.data||null),u=function(e,t){var n,i,o,r;try{if(u&&(t||4===l.readyState))if(u=w,s&&(l.onreadystatechange=ye.noop,Pt&&delete Et[s]),t)4!==l.readyState&&l.abort();else{r={},n=l.status,i=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(r.text=l.responseText);try{o=l.statusText}catch(e){o=""}n||!c.isLocal||c.crossDomain?1223===n&&(n=204):n=r.text?200:404}}catch(e){t||a(-1,e)}r&&a(n,o,r,i)},c.async?4===l.readyState?setTimeout(u):(s=++Nt,Pt&&(Et||(Et={},ye(p).unload(Pt)),Et[s]=u),l.onreadystatechange=u):u()},abort:function(){u&&u(w,!0)}}});var Rt,Ot,Lt=/^(?:toggle|show|hide)$/,Bt=new RegExp("^(?:([+-])=|)("+k+")([a-z%]*)$","i"),Ht=/queueHooks$/,zt=[function(t,e,n){var i,o,r,a,s,l,c=this,u={},d=t.style,h=t.nodeType&&Je(t),f=ye._data(t,"fxshow");n.queue||(null==(s=ye._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,ye.queue(t,"fx").length||s.empty.fire()})}));1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ye.css(t,"display")&&"none"===ye.css(t,"float")&&(ye.support.inlineBlockNeedsLayout&&"inline"!==ot(t.nodeName)?d.zoom=1:d.display="inline-block"));n.overflow&&(d.overflow="hidden",ye.support.shrinkWrapBlocks||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)o=e[i],Lt.exec(o)&&(delete e[i],r=r||"toggle"===o,o!==(h?"hide":"show")&&(u[i]=f&&f[i]||ye.style(t,i)));if(!ye.isEmptyObject(u))for(i in f?"hidden"in f&&(h=f.hidden):f=ye._data(t,"fxshow",{}),r&&(f.hidden=!h),h?ye(t).show():c.done(function(){ye(t).hide()}),c.done(function(){for(var e in ye._removeData(t,"fxshow"),u)ye.style(t,e,u[e])}),u)a=Wt(h?f[i]:0,i,c),i in f||(f[i]=a.start,h&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],jt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),t=Bt.exec(t),o=t&&t[3]||(ye.cssNumber[e]?"":"px"),r=(ye.cssNumber[e]||"px"!==o&&+i)&&Bt.exec(ye.css(n.elem,e)),a=1,s=20;if(r&&r[3]!==o)for(o=o||r[3],t=t||[],r=+i||1;r/=a=a||".5",ye.style(n.elem,e,r+o),a!==(a=n.cur()/i)&&1!==a&&--s;);return t&&(r=n.start=+r||+i||0,n.unit=o,n.end=t[1]?r+(t[1]+1)*t[2]:+t[2]),n}]};function Ft(){return setTimeout(function(){Rt=w}),Rt=ye.now()}function Wt(e,t,n){for(var i,o=(jt[t]||[]).concat(jt["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,t,e))return i}function $t(o,e,t){var n,r,i=0,a=zt.length,s=ye.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Rt||Ft(),e=Math.max(0,c.startTime+c.duration-e),t=1-(e/c.duration||0),n=0,i=c.tweens.length;n<i;n++)c.tweens[n].run(t);return s.notifyWith(o,[c,t,e]),t<1&&i?e:(s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:ye.extend({},e),opts:ye.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:Rt||Ft(),duration:t.duration,tweens:[],createTween:function(e,t){e=ye.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(e),e},stop:function(e){var t=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;t<n;t++)c.tweens[t].run(1);return e?s.resolveWith(o,[c,e]):s.rejectWith(o,[c,e]),this}}),u=c.props;for(!function(e,t){var n,i,o,r,a;for(n in e)if(i=ye.camelCase(n),o=t[i],r=e[n],ye.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(a=ye.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=o);else t[i]=o}(u,c.opts.specialEasing);i<a;i++)if(n=zt[i].call(c,o,u,c.opts))return n;return ye.map(u,Wt,c),ye.isFunction(c.opts.start)&&c.opts.start.call(o,c),ye.fx.timer(ye.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function Ut(e,t,n,i,o){return new Ut.prototype.init(e,t,n,i,o)}function Yt(e,t){var n,i={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)i["margin"+(n=Xe[o])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function qt(e){return ye.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}ye.Animation=ye.extend($t,{tweener:function(e,t){for(var n,i=0,o=(e=ye.isFunction(e)?(t=e,["*"]):e.split(" ")).length;i<o;i++)n=e[i],jt[n]=jt[n]||[],jt[n].unshift(t)},prefilter:function(e,t){t?zt.unshift(e):zt.push(e)}}),(ye.Tween=Ut).prototype={constructor:Ut,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ye.cssNumber[n]?"":"px")},cur:function(){var e=Ut.propHooks[this.prop];return(e&&e.get?e:Ut.propHooks._default).get(this)},run:function(e){var t,n=Ut.propHooks[this.prop];return this.options.duration?this.pos=t=ye.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:Ut.propHooks._default).set(this),this}},Ut.prototype.init.prototype=Ut.prototype,Ut.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ye.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){ye.fx.step[e.prop]?ye.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ye.cssProps[e.prop]]||ye.cssHooks[e.prop])?ye.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Ut.propHooks.scrollTop=Ut.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ye.each(["toggle","show","hide"],function(e,i){var o=ye.fn[i];ye.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(Yt(i,!0),e,t,n)}}),ye.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Je).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var o=ye.isEmptyObject(t),r=ye.speed(e,n,i),i=function(){var e=$t(this,ye.extend({},t),r);(o||ye._data(this,"finish"))&&e.stop(!0)};return i.finish=i,o||!1===r.queue?this.each(i):this.queue(r.queue,i)},stop:function(o,e,r){function a(e){var t=e.stop;delete e.stop,t(r)}return"string"!=typeof o&&(r=e,e=o,o=w),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=ye.timers,i=ye._data(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&Ht.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(r),e=!1,n.splice(t,1));!e&&r||ye.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=ye._data(this),n=t[a+"queue"],i=t[a+"queueHooks"],o=ye.timers,r=n?n.length:0;for(t.finish=!0,ye.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===a&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),ye.each({slideDown:Yt("show"),slideUp:Yt("hide"),slideToggle:Yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){ye.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),ye.speed=function(e,t,n){var i=e&&"object"==typeof e?ye.extend({},e):{complete:n||!n&&t||ye.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ye.isFunction(t)&&t};return i.duration=ye.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ye.fx.speeds?ye.fx.speeds[i.duration]:ye.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ye.isFunction(i.old)&&i.old.call(this),i.queue&&ye.dequeue(this,i.queue)},i},ye.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ye.timers=[],ye.fx=Ut.prototype.init,ye.fx.tick=function(){var e,t=ye.timers,n=0;for(Rt=ye.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||ye.fx.stop(),Rt=w},ye.fx.timer=function(e){e()&&ye.timers.push(e)&&ye.fx.start()},ye.fx.interval=13,ye.fx.start=function(){Ot=Ot||setInterval(ye.fx.tick,ye.fx.interval)},ye.fx.stop=function(){clearInterval(Ot),Ot=null},ye.fx.speeds={slow:600,fast:200,_default:400},ye.fx.step={},ye.expr&&ye.expr.filters&&(ye.expr.filters.animated=function(t){return ye.grep(ye.timers,function(e){return t===e.elem}).length}),ye.fn.offset=function(t){if(arguments.length)return t===w?this:this.each(function(e){ye.offset.setOffset(this,t,e)});var e,n={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(e=o.documentElement,ye.contains(e,i)?(typeof i.getBoundingClientRect!==m&&(n=i.getBoundingClientRect()),o=qt(o),{top:n.top+(o.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(o.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},ye.offset={setOffset:function(e,t,n){var i=ye.css(e,"position");"static"===i&&(e.style.position="relative");var o,r,a=ye(e),s=a.offset(),l=ye.css(e,"top"),c=ye.css(e,"left"),u={},c=("absolute"===i||"fixed"===i)&&-1<ye.inArray("auto",[l,c])?(r=(o=a.position()).top,o.left):(r=parseFloat(l)||0,parseFloat(c)||0);ye.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(u.top=t.top-s.top+r),null!=t.left&&(u.left=t.left-s.left+c),"using"in t?t.using.call(e,u):a.css(u)}},ye.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ye.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ye.nodeName(e[0],"html")||(n=e.offset()),n.top+=ye.css(e[0],"borderTopWidth",!0),n.left+=ye.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ye.css(i,"marginTop",!0),left:t.left-n.left-ye.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||r;e&&!ye.nodeName(e,"html")&&"static"===ye.css(e,"position");)e=e.offsetParent;return e||r})}}),ye.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var r=/Y/.test(o);ye.fn[t]=function(e){return ye.access(this,function(e,t,n){var i=qt(e);if(n===w)return i?o in i?i[o]:i.document.documentElement[t]:e[t];i?i.scrollTo(r?ye(i).scrollLeft():n,r?n:ye(i).scrollTop()):e[t]=n},t,e,arguments.length,null)}}),ye.each({Height:"height",Width:"width"},function(r,a){ye.each({padding:"inner"+r,content:a,"":"outer"+r},function(i,e){ye.fn[e]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),o=i||(!0===e||!0===t?"margin":"border");return ye.access(this,function(e,t,n){var i;return ye.isWindow(e)?e.document.documentElement["client"+r]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+r],i["scroll"+r],e.body["offset"+r],i["offset"+r],i["client"+r])):n===w?ye.css(e,t,o):ye.style(e,t,n,o)},a,n?e:w,n,null)}})}),ye.fn.size=function(){return this.length},ye.fn.andSelf=ye.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ye:(p.jQuery=p.$=ye,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ye}))}(window),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function($){var d=[],doc=$(document),ua=navigator.userAgent.toLowerCase(),wndw=$(window),w=[],browser={ieQuirks:null,msie:/msie/.test(ua)&&!/opera/.test(ua),opera:/opera/.test(ua)};browser.ie6=browser.msie&&/msie 6./.test(ua)&&"object"!=typeof window.XMLHttpRequest,browser.ie7=browser.msie&&/msie 7.0/.test(ua),$.modal=function(e,t){return $.modal.impl.init(e,t)},$.modal.close=function(){$.modal.impl.close()},$.modal.cancelClose=function(){$.modal.impl.cancelClose()},$.modal.focus=function(e){$.modal.impl.focus(e)},$.modal.setContainerDimensions=function(){$.modal.impl.setContainerDimensions()},$.modal.setPosition=function(){$.modal.impl.setPosition()},$.modal.update=function(e,t){$.modal.impl.update(e,t)},$.fn.modal=function(e){return $.modal.impl.init(this,e)},$.modal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null,autoScroll:!0},$.modal.impl={d:{},init:function(e,t){var n=this;if(n.d.data)return!1;if(browser.ieQuirks=browser.msie&&!$.support.boxModel,n.o=$.extend({},$.modal.defaults,t),n.zIndex=n.o.zIndex,n.occb=!1,"object"==typeof e)e=e instanceof $?e:$(e),n.d.placeholder=!1,0<e.parent().parent().size()&&(e.before($("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),n.d.placeholder=!0,n.display=e.css("display"),n.o.persist||(n.d.orig=e.clone(!0)));else{if("string"!=typeof e&&"number"!=typeof e)return alert("SimpleModal Error: Unsupported data type: "+typeof e),n;e=$("<div></div>").html(e)}return n.create(e),e=null,n.open(),$.isFunction(n.o.onShow)&&n.o.onShow.apply(n,[n.d]),n},create:function(e){var t=this;t.getDimensions(),t.o.modal&&browser.ie6&&(t.d.iframe=$('<iframe src="javascript:false;"></iframe>').css($.extend(t.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:w[0],width:w[1],zIndex:t.o.zIndex,top:0,left:0})).appendTo(t.o.appendTo)),t.d.overlay=$("<div></div>").attr("id",t.o.overlayId).addClass("simplemodal-overlay").css($.extend(t.o.overlayCss,{display:"none",opacity:t.o.opacity/100,height:t.o.modal?d[0]:0,width:t.o.modal?d[1]:0,position:"fixed",left:0,top:0,zIndex:t.o.zIndex+1})).appendTo(t.o.appendTo),t.d.container=$("<div></div>").attr("id",t.o.containerId).addClass("simplemodal-container").css($.extend({position:t.o.fixed?"fixed":"absolute"},t.o.containerCss,{display:"none",zIndex:t.o.zIndex+2})).append(t.o.close&&t.o.closeHTML?$(t.o.closeHTML).addClass(t.o.closeClass):"").appendTo(t.o.appendTo),t.d.wrap=$("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(t.d.container),t.d.data=e.attr("id",e.attr("id")||t.o.dataId).addClass("simplemodal-data").css($.extend(t.o.dataCss,{display:"none"})).appendTo("body"),e=null,t.setContainerDimensions(),t.d.data.appendTo(t.d.wrap),(browser.ie6||browser.ieQuirks)&&t.fixIE()},bindEvents:function(){var t=this;$("."+t.o.closeClass).bind("click.simplemodal",function(e){e.preventDefault(),t.close()}),t.o.modal&&t.o.close&&t.o.overlayClose&&t.d.overlay.bind("click.simplemodal",function(e){e.preventDefault(),t.close()}),doc.bind("keydown.simplemodal",function(e){t.o.modal&&9===e.keyCode?t.watchTab(e):t.o.close&&t.o.escClose&&27===e.keyCode&&(e.preventDefault(),t.close())})},unbindEvents:function(){$("."+this.o.closeClass).unbind("click.simplemodal"),doc.unbind("keydown.simplemodal"),wndw.unbind(".simplemodal"),this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var e=this,m=e.o.position;$.each([e.d.iframe||null,e.o.modal?e.d.overlay:null,"fixed"===e.d.container.css("position")?e.d.container:null],function(e,t){if(t){var n,i,o="document.body.clientHeight",r="document.body.clientWidth",a="document.body.scrollHeight",s="document.body.scrollLeft",l="document.body.scrollTop",c="document.body.scrollWidth",u="document.documentElement.clientHeight",d="document.documentElement.clientWidth",h="document.documentElement.scrollLeft",f="document.documentElement.scrollTop",p=t[0].style;if(p.position="absolute",e<2)try{p.removeExpression("height"),p.removeExpression("width"),p.setExpression("height",a+" > "+o+" ? "+a+" : "+o+' + "px"'),p.setExpression("width",c+" > "+r+" ? "+c+" : "+r+' + "px"')}catch(e){}else{m&&m.constructor===Array?(i=-1===(t=m[0]?"number"==typeof m[0]?m[0].toString():m[0].replace(/px/,""):t.css("top").replace(/px/,"")).indexOf("%")?t+" + (t = "+f+" ? "+f+" : "+l+') + "px"':parseInt(t.replace(/%/,""))+" * (("+u+" || "+o+") / 100) + (t = "+f+" ? "+f+" : "+l+') + "px"',m[1]&&(n=-1===(t="number"==typeof m[1]?m[1].toString():m[1].replace(/px/,"")).indexOf("%")?t+" + (t = "+h+" ? "+h+" : "+s+') + "px"':parseInt(t.replace(/%/,""))+" * (("+d+" || "+r+") / 100) + (t = "+h+" ? "+h+" : "+s+') + "px"')):(i="("+u+" || "+o+") / 2 - (this.offsetHeight / 2) + (t = "+f+" ? "+f+" : "+l+') + "px"',n="("+d+" || "+r+") / 2 - (this.offsetWidth / 2) + (t = "+h+" ? "+h+" : "+s+') + "px"');try{p.removeExpression("top"),p.removeExpression("left"),p.setExpression("top",i),p.setExpression("left",n)}catch(e){}}}})},focus:function(e){var t=this,e=e&&-1!==$.inArray(e,["first","last"])?e:"first",n=$(":input:enabled:visible:"+e,t.d.wrap);setTimeout(function(){(0<n.length?n:t.d.wrap).focus()},10)},getDimensions:function(){var e=void 0===window.innerHeight?wndw.height():window.innerHeight;d=[doc.height(),doc.width()],w=[e,wndw.width()]},getVal:function(e,t){return e?"number"==typeof e?e:"auto"===e?0:0<e.indexOf("%")?parseInt(e.replace(/%/,""))/100*("h"===t?w[0]:w[1]):parseInt(e.replace(/px/,"")):null},update:function(e,t){var n=this;if(!n.d.data)return!1;n.d.origHeight=n.getVal(e,"h"),n.d.origWidth=n.getVal(t,"w"),n.d.data.hide(),e&&n.d.container.css("height",e),t&&n.d.container.css("width",t),n.setContainerDimensions(),n.d.data.show(),n.o.focus&&n.focus(),n.unbindEvents(),n.bindEvents()},setContainerDimensions:function(){var e=this,t=browser.ie6||browser.ie7,n=e.d.origHeight?e.d.origHeight:browser.opera?e.d.container.height():e.getVal(t?e.d.container[0].currentStyle.height:e.d.container.css("height"),"h"),i=e.d.origWidth?e.d.origWidth:browser.opera?e.d.container.width():e.getVal(t?e.d.container[0].currentStyle.width:e.d.container.css("width"),"w"),o=e.d.data.outerHeight(!0),r=e.d.data.outerWidth(!0);e.d.origHeight=e.d.origHeight||n,e.d.origWidth=e.d.origWidth||i;var a,s=e.o.maxHeight?e.getVal(e.o.maxHeight,"h"):null,l=e.o.maxWidth?e.getVal(e.o.maxWidth,"w"):null,t=s&&s<w[0]?s:w[0],s=l&&l<w[1]?l:w[1],l=e.o.minHeight?e.getVal(e.o.minHeight,"h"):"auto";n=n?e.o.autoResize&&t<n?t:n<l?l:n:o?(a=!1,o>w[0]&&(a=!0),t<o?t:e.o.minHeight&&"auto"!==l&&o<l?l:o):l;l=e.o.minWidth?e.getVal(e.o.minWidth,"w"):"auto",i=i?e.o.autoResize&&s<i?s:i<l?l:i:r?s<r?s:e.o.minWidth&&"auto"!==l&&r<l?l:r:l;e.d.container.css({height:n,width:i}),e.o.autoScroll&&e.d.wrap.css({overflow:n<o||i<r?"auto":"visible"}),e.o.autoPosition&&e.setPosition(),a&&e.d.container.css({height:"auto"})},setPosition:function(){var e,t=this,n=w[0]/2-t.d.container.outerHeight(!0)/2,i=w[1]/2-t.d.container.outerWidth(!0)/2,o="fixed"!==t.d.container.css("position")?wndw.scrollTop():0,i=t.o.position&&"[object Array]"===Object.prototype.toString.call(t.o.position)?(e=o+(t.o.position[0]||n),t.o.position[1]||i):(e=o+n,i);t.d.container.css({left:i,top:e})},watchTab:function(e){var t,n=this;0<$(e.target).parents(".simplemodal-container").length?(n.inputs=$(":input:enabled:visible:first, :input:enabled:visible:last",n.d.data[0]),(!e.shiftKey&&e.target===n.inputs[n.inputs.length-1]||e.shiftKey&&e.target===n.inputs[0]||0===n.inputs.length)&&(e.preventDefault(),t=e.shiftKey?"last":"first",n.focus(t))):(e.preventDefault(),n.focus())},open:function(){var s=this;s.d.iframe&&s.d.iframe.show(),$.isFunction(s.o.onOpen)?s.o.onOpen.apply(s,[s.d]):(s.d.overlay.show(),s.d.container.show(),s.d.data.show()),s.o.focus&&s.focus(),s.bindEvents(),hideESPNVideosOnChrome(),hideScoopitVideo(),recordPopupViewEvent(s.d.data.attr("id")),void 0!==s.d.data.attr("show-callback")&&eval(s.d.data.attr("show-callback"))},cancelClose:function(){this.bindEvents(),this.occb=!1},close:function(){showESPNVideosOnChrome(),showScoopitVideo();var e,t=this;if(!t.d.data)return!1;t.unbindEvents(),$.isFunction(t.o.onClose)&&!t.occb?(t.occb=!0,t.o.onClose.apply(t,[t.d])):(t.d.placeholder?(e=$("#simplemodal-placeholder"),t.o.persist?e.replaceWith(t.d.data.removeClass("simplemodal-data").css("display",t.display)):(t.d.data.hide().remove(),e.replaceWith(t.d.orig))):t.d.data.hide().remove(),t.d.container.hide().remove(),t.d.overlay.hide(),t.d.iframe&&t.d.iframe.hide().remove(),t.d.overlay.remove(),t.d={})}}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function($){var d=[],doc=$(document),ua=navigator.userAgent.toLowerCase(),wndw=$(window),w=[],browser={ieQuirks:null,msie:/msie/.test(ua)&&!/opera/.test(ua),opera:/opera/.test(ua)};browser.ie6=browser.msie&&/msie 6./.test(ua)&&"object"!=typeof window.XMLHttpRequest,browser.ie7=browser.msie&&/msie 7.0/.test(ua),$.nestedmodal=function(e,t){return $.nestedmodal.impl.init(e,t)},$.nestedmodal.close=function(){$.nestedmodal.impl.close()},$.nestedmodal.focus=function(e){$.nestedmodal.impl.focus(e)},$.nestedmodal.setContainerDimensions=function(){$.nestedmodal.impl.setContainerDimensions()},$.nestedmodal.setPosition=function(){$.nestedmodal.impl.setPosition()},$.nestedmodal.update=function(e,t){$.nestedmodal.impl.update(e,t)},$.fn.nestedmodal=function(e){return $.nestedmodal.impl.init(this,e)},$.nestedmodal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"nested-simplemodal-overlay",overlayCss:{},containerId:"nested-simplemodal-container",containerCss:{},dataId:"nested-simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"nested-simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null},$.nestedmodal.impl={d:{},init:function(e,t){var n=this;if(n.d.data)return!1;if(browser.ieQuirks=browser.msie&&!$.support.boxModel,n.o=$.extend({},$.nestedmodal.defaults,t),n.zIndex=n.o.zIndex,n.occb=!1,"object"==typeof e)e=e instanceof $?e:$(e),n.d.placeholder=!1,0<e.parent().parent().size()&&(e.before($("<span></span>").attr("id","nested-simplemodal-placeholder").css({display:"none"})),n.d.placeholder=!0,n.display=e.css("display"),n.o.persist||(n.d.orig=e.clone(!0)));else{if("string"!=typeof e&&"number"!=typeof e)return alert("SimpleModal Error: Unsupported data type: "+typeof e),n;e=$("<div></div>").html(e)}return n.create(e),e=null,n.open(),$.isFunction(n.o.onShow)&&n.o.onShow.apply(n,[n.d]),n},create:function(e){var t=this;t.getDimensions(),t.o.modal&&browser.ie6&&(t.d.iframe=$('<iframe src="javascript:false;"></iframe>').css($.extend(t.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:w[0],width:w[1],zIndex:t.o.zIndex,top:0,left:0})).appendTo(t.o.appendTo)),t.d.overlay=$("<div></div>").attr("id",t.o.overlayId).addClass("simplemodal-overlay").css($.extend(t.o.overlayCss,{display:"none",opacity:t.o.opacity/100,height:t.o.modal?d[0]:0,width:t.o.modal?d[1]:0,position:"fixed",left:0,top:0,zIndex:t.o.zIndex+1})).appendTo(t.o.appendTo),t.d.container=$("<div></div>").attr("id",t.o.containerId).addClass("simplemodal-container").css($.extend({position:t.o.fixed?"fixed":"absolute"},t.o.containerCss,{display:"none",zIndex:t.o.zIndex+2})).append(t.o.close&&t.o.closeHTML?$(t.o.closeHTML).addClass(t.o.closeClass):"").appendTo(t.o.appendTo),t.d.wrap=$("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(t.d.container),t.d.data=e.attr("id",e.attr("id")||t.o.dataId).addClass("simplemodal-data").css($.extend(t.o.dataCss,{display:"none"})).appendTo("body"),e=null,t.setContainerDimensions(),t.d.data.appendTo(t.d.wrap),(browser.ie6||browser.ieQuirks)&&t.fixIE()},bindEvents:function(){var t=this;$("."+t.o.closeClass).bind("click.simplemodal",function(e){e.preventDefault(),t.close()}),t.o.modal&&t.o.close&&t.o.overlayClose&&t.d.overlay.bind("click.simplemodal",function(e){e.preventDefault(),t.close()}),doc.bind("keydown.simplemodal",function(e){t.o.modal&&9===e.keyCode?t.watchTab(e):t.o.close&&t.o.escClose&&27===e.keyCode&&(e.preventDefault(),t.close())})},unbindEvents:function(){$("."+this.o.closeClass).unbind("click.simplemodal"),doc.unbind("keydown.simplemodal"),wndw.unbind(".simplemodal"),this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var e=this,m=e.o.position;$.each([e.d.iframe||null,e.o.modal?e.d.overlay:null,"fixed"===e.d.container.css("position")?e.d.container:null],function(e,t){if(t){var n,i,o="document.body.clientHeight",r="document.body.clientWidth",a="document.body.scrollHeight",s="document.body.scrollLeft",l="document.body.scrollTop",c="document.body.scrollWidth",u="document.documentElement.clientHeight",d="document.documentElement.clientWidth",h="document.documentElement.scrollLeft",f="document.documentElement.scrollTop",p=t[0].style;if(p.position="absolute",e<2)try{p.removeExpression("height"),p.removeExpression("width"),p.setExpression("height",a+" > "+o+" ? "+a+" : "+o+' + "px"'),p.setExpression("width",c+" > "+r+" ? "+c+" : "+r+' + "px"')}catch(e){}else{m&&m.constructor===Array?(i=-1===(t=m[0]?"number"==typeof m[0]?m[0].toString():m[0].replace(/px/,""):t.css("top").replace(/px/,"")).indexOf("%")?t+" + (t = "+f+" ? "+f+" : "+l+') + "px"':parseInt(t.replace(/%/,""))+" * (("+u+" || "+o+") / 100) + (t = "+f+" ? "+f+" : "+l+') + "px"',m[1]&&(n=-1===(t="number"==typeof m[1]?m[1].toString():m[1].replace(/px/,"")).indexOf("%")?t+" + (t = "+h+" ? "+h+" : "+s+') + "px"':parseInt(t.replace(/%/,""))+" * (("+d+" || "+r+") / 100) + (t = "+h+" ? "+h+" : "+s+') + "px"')):(i="("+u+" || "+o+") / 2 - (this.offsetHeight / 2) + (t = "+f+" ? "+f+" : "+l+') + "px"',n="("+d+" || "+r+") / 2 - (this.offsetWidth / 2) + (t = "+h+" ? "+h+" : "+s+') + "px"');try{p.removeExpression("top"),p.removeExpression("left"),p.setExpression("top",i),p.setExpression("left",n)}catch(e){}}}})},focus:function(e){var t=this,e=e&&-1!==$.inArray(e,["first","last"])?e:"first",n=$(":input:enabled:visible:"+e,t.d.wrap);setTimeout(function(){(0<n.length?n:t.d.wrap).focus()},10)},getDimensions:function(){var e=void 0===window.innerHeight?wndw.height():window.innerHeight;d=[doc.height(),doc.width()],w=[e,wndw.width()]},getVal:function(e,t){return e?"number"==typeof e?e:"auto"===e?0:0<e.indexOf("%")?parseInt(e.replace(/%/,""))/100*("h"===t?w[0]:w[1]):parseInt(e.replace(/px/,"")):null},update:function(e,t){var n=this;if(!n.d.data)return!1;n.d.origHeight=n.getVal(e,"h"),n.d.origWidth=n.getVal(t,"w"),n.d.data.hide(),e&&n.d.container.css("height",e),t&&n.d.container.css("width",t),n.setContainerDimensions(),n.d.data.show(),n.o.focus&&n.focus(),n.unbindEvents(),n.bindEvents()},setContainerDimensions:function(){var e=this,t=browser.ie6||browser.ie7,n=e.d.origHeight?e.d.origHeight:browser.opera?e.d.container.height():e.getVal(t?e.d.container[0].currentStyle.height:e.d.container.css("height"),"h"),i=e.d.origWidth?e.d.origWidth:browser.opera?e.d.container.width():e.getVal(t?e.d.container[0].currentStyle.width:e.d.container.css("width"),"w"),o=e.d.data.outerHeight(!0),r=e.d.data.outerWidth(!0);e.d.origHeight=e.d.origHeight||n,e.d.origWidth=e.d.origWidth||i;var a=e.o.maxHeight?e.getVal(e.o.maxHeight,"h"):null,s=e.o.maxWidth?e.getVal(e.o.maxWidth,"w"):null,t=a&&a<w[0]?a:w[0],a=s&&s<w[1]?s:w[1],s=e.o.minHeight?e.getVal(e.o.minHeight,"h"):"auto",n=n?e.o.autoResize&&t<n?t:n<s?s:n:o?o>w[0]?"auto":t<o?t:e.o.minHeight&&"auto"!==s&&o<s?s:o:s,s=e.o.minWidth?e.getVal(e.o.minWidth,"w"):"auto",i=i?e.o.autoResize&&a<i?a:i<s?s:i:r?a<r?a:e.o.minWidth&&"auto"!==s&&r<s?s:r:s;e.d.container.css({height:n,width:i}),e.d.wrap.css({overflow:n<o||i<r?"auto":"visible"}),e.o.autoPosition&&e.setPosition()},setPosition:function(){var e,t=this,n=w[0]/2-t.d.container.outerHeight(!0)/2,i=w[1]/2-t.d.container.outerWidth(!0)/2,o="fixed"!==t.d.container.css("position")?wndw.scrollTop():0,i=t.o.position&&"[object Array]"===Object.prototype.toString.call(t.o.position)?(e=o+(t.o.position[0]||n),t.o.position[1]||i):(e=o+n,i);t.d.container.css({left:i,top:e})},watchTab:function(e){var t,n=this;0<$(e.target).parents(".simplemodal-container").length?(n.inputs=$(":input:enabled:visible:first, :input:enabled:visible:last",n.d.data[0]),(!e.shiftKey&&e.target===n.inputs[n.inputs.length-1]||e.shiftKey&&e.target===n.inputs[0]||0===n.inputs.length)&&(e.preventDefault(),t=e.shiftKey?"last":"first",n.focus(t))):(e.preventDefault(),n.focus())},open:function(){var s=this;s.d.iframe&&s.d.iframe.show(),$.isFunction(s.o.onOpen)?s.o.onOpen.apply(s,[s.d]):(s.d.overlay.show(),s.d.container.show(),s.d.data.show()),s.o.focus&&s.focus(),s.bindEvents(),hideESPNVideosOnChrome(),hideScoopitVideo(),recordPopupViewEvent(s.d.data.attr("id")),void 0!==s.d.data.attr("show-callback")&&eval(s.d.data.attr("show-callback"))},close:function(){showESPNVideosOnChrome(),showScoopitVideo();var e,t=this;if(!t.d.data)return!1;t.unbindEvents(),$.isFunction(t.o.onClose)&&!t.occb?(t.occb=!0,t.o.onClose.apply(t,[t.d])):(t.d.placeholder?(e=$("#nested-simplemodal-placeholder"),t.o.persist?e.replaceWith(t.d.data.removeClass("simplemodal-data").css("display",t.display)):(t.d.data.hide().remove(),e.replaceWith(t.d.orig))):t.d.data.hide().remove(),t.d.container.hide().remove(),t.d.overlay.hide(),t.d.iframe&&t.d.iframe.hide().remove(),t.d.overlay.remove(),t.d={})}}}),function(s){function i(e,t){var n=e.nodeName.toLowerCase();if("area"!==n)return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"==n&&e.href||t)&&o(e);n=e.parentNode,t=n.name;return!(!e.href||!t||"map"!==n.nodeName.toLowerCase())&&(!!(t=s("img[usemap=#"+t+"]")[0])&&o(t))}function o(e){return!s(e).parents().andSelf().filter(function(){return"hidden"===s.curCSS(this,"visibility")||s.expr.filters.hidden(this)}).length}s.ui=s.ui||{},s.ui.version||(s.extend(s.ui,{version:"1.8.24",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),s.fn.extend({propAttr:s.fn.prop||s.fn.attr,_focus:s.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var e=this;setTimeout(function(){s(e).focus(),n&&n.call(e)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var e=(s.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(s.curCSS(this,"position",1))&&/(auto|scroll)/.test(s.curCSS(this,"overflow",1)+s.curCSS(this,"overflow-y",1)+s.curCSS(this,"overflow-x",1))}):this.parents().filter(function(){return/(auto|scroll)/.test(s.curCSS(this,"overflow",1)+s.curCSS(this,"overflow-y",1)+s.curCSS(this,"overflow-x",1))})).eq(0);return/fixed/.test(this.css("position"))||!e.length?s(document):e},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var t,n,i=s(this[0]);i.length&&i[0]!==document;){if(("absolute"===(t=i.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(i.css("zIndex"),10),!isNaN(n)&&0!==n))return n;i=i.parent()}return 0},disableSelection:function(){return this.bind((s.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),s("<a>").outerWidth(1).jquery||s.each(["Width","Height"],function(e,n){function i(e,t,n,i){return s.each(o,function(){t-=parseFloat(s.curCSS(e,"padding"+this,!0))||0,n&&(t-=parseFloat(s.curCSS(e,"border"+this+"Width",!0))||0),i&&(t-=parseFloat(s.curCSS(e,"margin"+this,!0))||0)}),t}var o="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:s.fn.innerWidth,innerHeight:s.fn.innerHeight,outerWidth:s.fn.outerWidth,outerHeight:s.fn.outerHeight};s.fn["inner"+n]=function(e){return void 0===e?a["inner"+n].call(this):this.each(function(){s(this).css(r,i(this,e)+"px")})},s.fn["outer"+n]=function(e,t){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){s(this).css(r,i(this,e,!0,t)+"px")})}}),s.extend(s.expr[":"],{data:s.expr.createPseudo?s.expr.createPseudo(function(t){return function(e){return!!s.data(e,t)}}):function(e,t,n){return!!s.data(e,n[3])},focusable:function(e){return i(e,!isNaN(s.attr(e,"tabindex")))},tabbable:function(e){var t=s.attr(e,"tabindex"),n=isNaN(t);return(n||0<=t)&&i(e,!n)}}),s(function(){var e=document.body,t=e.appendChild(document.createElement("div"));t.offsetHeight,s.extend(t.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),s.support.minHeight=100===t.offsetHeight,s.support.selectstart="onselectstart"in t,e.removeChild(t).style.display="none"}),s.curCSS||(s.curCSS=s.css),s.extend(s.ui,{plugin:{add:function(e,t,n){var i,o=s.ui[e].prototype;for(i in n)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([t,n[i]])},call:function(e,t,n){var i=e.plugins[t];if(i&&e.element[0].parentNode)for(var o=0;o<i.length;o++)e.options[i[o][0]]&&i[o][1].apply(e.element,n)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(e,t){if("hidden"===s(e).css("overflow"))return!1;var n=t&&"left"===t?"scrollLeft":"scrollTop",t=!1;return 0<e[n]||(e[n]=1,t=0<e[n],e[n]=0,t)},isOverAxis:function(e,t,n){return t<e&&e<t+n},isOver:function(e,t,n,i,o,r){return s.ui.isOverAxis(e,n,o)&&s.ui.isOverAxis(t,i,r)}}))}(jQuery),function(a){var i,n;a.cleanData?(i=a.cleanData,a.cleanData=function(e){for(var t,n=0;null!=(t=e[n]);n++)try{a(t).triggerHandler("remove")}catch(e){}i(e)}):(n=a.fn.remove,a.fn.remove=function(e,t){return this.each(function(){return t||(e&&!a.filter(e,[this]).length||a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(e){}})),n.call(a(this),e,t)})}),a.widget=function(t,e,n){var i=t.split(".")[0],o=i+"-"+(t=t.split(".")[1]);n||(n=e,e=a.Widget),a.expr[":"][o]=function(e){return!!a.data(e,t)},a[i]=a[i]||{},a[i][t]=function(e,t){arguments.length&&this._createWidget(e,t)};e=new e;e.options=a.extend(!0,{},e.options),a[i][t].prototype=a.extend(!0,e,{namespace:i,widgetName:t,widgetEventPrefix:a[i][t].prototype.widgetEventPrefix||t,widgetBaseClass:o},n),a.widget.bridge(t,a[i][t])},a.widget.bridge=function(r,t){a.fn[r]=function(n){var e="string"==typeof n,i=Array.prototype.slice.call(arguments,1),o=this;return n=!e&&i.length?a.extend.apply(null,[!0,n].concat(i)):n,e&&"_"===n.charAt(0)||(e?this.each(function(){var e=a.data(this,r),t=e&&a.isFunction(e[n])?e[n].apply(e,i):e;if(t!==e&&void 0!==t)return o=t,!1}):this.each(function(){var e=a.data(this,r);e?e.option(n||{})._init():a.data(this,r,new t(n,this))})),o}},a.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(e,t){a.data(t,this.widgetName,this),this.element=a(t),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),e);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(e,t){var n=e;if(0===arguments.length)return a.extend({},this.options);if("string"==typeof e){if(void 0===t)return this.options[e];(n={})[e]=t}return this._setOptions(n),this},_setOptions:function(e){var n=this;return a.each(e,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(e,t,n){var i,o,r=this.options[e];if(n=n||{},(t=a.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],o=t.originalEvent)for(i in o)i in t||(t[i]=o[i]);return this.element.trigger(t,n),!(a.isFunction(r)&&!1===r.call(this.element[0],t,n)||t.isDefaultPrevented())}}}(jQuery),function(o){var r=!1;o(document).mouseup(function(e){r=!1}),o.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(!0===o.data(e.target,t.widgetName+".preventClickEvent"))return o.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&o(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!r){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,n=1==e.which,i=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&o(e.target).closest(this.options.cancel).length;return n&&!i&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?e.preventDefault():(!0===o.data(e.target,this.widgetName+".preventClickEvent")&&o.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},o(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),r=!0),!0):!0}},_mouseMove:function(e){return!o.browser.msie||9<=document.documentMode||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return o(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target==this._mouseDownEvent.target&&o.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(jQuery),function(m){m.ui=m.ui||{};var n=/left|center|right/,i=/top|center|bottom/,g="center",v={},o=m.fn.position,r=m.fn.offset;m.fn.position=function(c){if(!c||!c.of)return o.apply(this,arguments);c=m.extend({},c);var u,d,e=m(c.of),t=e[0],h=(c.collision||"flip").split(" "),f=c.offset?c.offset.split(" "):[0,0],p=9===t.nodeType?(u=e.width(),d=e.height(),{top:0,left:0}):t.setTimeout?(u=e.width(),d=e.height(),{top:e.scrollTop(),left:e.scrollLeft()}):t.preventDefault?(c.at="left top",u=d=0,{top:c.of.pageY,left:c.of.pageX}):(u=e.outerWidth(),d=e.outerHeight(),e.offset());return m.each(["my","at"],function(){var e=(c[this]||"").split(" ");1===e.length&&(e=n.test(e[0])?e.concat([g]):i.test(e[0])?[g].concat(e):[g,g]),e[0]=n.test(e[0])?e[0]:g,e[1]=i.test(e[1])?e[1]:g,c[this]=e}),1===h.length&&(h[1]=h[0]),f[0]=parseInt(f[0],10)||0,1===f.length&&(f[1]=f[0]),f[1]=parseInt(f[1],10)||0,"right"===c.at[0]?p.left+=u:c.at[0]===g&&(p.left+=u/2),"bottom"===c.at[1]?p.top+=d:c.at[1]===g&&(p.top+=d/2),p.left+=f[0],p.top+=f[1],this.each(function(){var n,e=m(this),i=e.outerWidth(),o=e.outerHeight(),t=parseInt(m.curCSS(this,"marginLeft",!0))||0,r=parseInt(m.curCSS(this,"marginTop",!0))||0,a=i+t+(parseInt(m.curCSS(this,"marginRight",!0))||0),s=o+r+(parseInt(m.curCSS(this,"marginBottom",!0))||0),l=m.extend({},p);"right"===c.my[0]?l.left-=i:c.my[0]===g&&(l.left-=i/2),"bottom"===c.my[1]?l.top-=o:c.my[1]===g&&(l.top-=o/2),v.fractions||(l.left=Math.round(l.left),l.top=Math.round(l.top)),n={left:l.left-t,top:l.top-r},m.each(["left","top"],function(e,t){m.ui.position[h[e]]&&m.ui.position[h[e]][t](l,{targetWidth:u,targetHeight:d,elemWidth:i,elemHeight:o,collisionPosition:n,collisionWidth:a,collisionHeight:s,offset:f,my:c.my,at:c.at})}),m.fn.bgiframe&&e.bgiframe(),e.offset(m.extend(l,{using:c.using}))})},m.ui.position={fit:{left:function(e,t){var n=m(window),n=t.collisionPosition.left+t.collisionWidth-n.width()-n.scrollLeft();e.left=0<n?e.left-n:Math.max(e.left-t.collisionPosition.left,e.left)},top:function(e,t){var n=m(window),n=t.collisionPosition.top+t.collisionHeight-n.height()-n.scrollTop();e.top=0<n?e.top-n:Math.max(e.top-t.collisionPosition.top,e.top)}},flip:{left:function(e,t){var n,i,o,r;t.at[0]!==g&&(r=m(window),n=t.collisionPosition.left+t.collisionWidth-r.width()-r.scrollLeft(),i="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,o="left"===t.at[0]?t.targetWidth:-t.targetWidth,r=-2*t.offset[0],e.left+=t.collisionPosition.left<0||0<n?i+o+r:0)},top:function(e,t){var n,i,o,r;t.at[1]!==g&&(r=m(window),n=t.collisionPosition.top+t.collisionHeight-r.height()-r.scrollTop(),i="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,o="top"===t.at[1]?t.targetHeight:-t.targetHeight,r=-2*t.offset[1],e.top+=t.collisionPosition.top<0||0<n?i+o+r:0)}}},m.offset.setOffset||(m.offset.setOffset=function(e,t){/static/.test(m.curCSS(e,"position"))&&(e.style.position="relative");var n=m(e),i=n.offset(),o=parseInt(m.curCSS(e,"top",!0),10)||0,r=parseInt(m.curCSS(e,"left",!0),10)||0,r={top:t.top-i.top+o,left:t.left-i.left+r};"using"in t?t.using.call(e,r):n.css(r)},m.fn.offset=function(t){var e=this[0];return e&&e.ownerDocument?t?m.isFunction(t)?this.each(function(e){m(this).offset(t.call(this,e,m(this).offset()))}):this.each(function(){m.offset.setOffset(this,t)}):r.call(this):null}),m.curCSS||(m.curCSS=m.css),function(){var e,t,n=document.getElementsByTagName("body")[0],i=document.createElement("div"),o=document.createElement(n?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};for(t in n&&m.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"}),r)o.style[t]=r[t];o.appendChild(i),(e=n||document.documentElement).insertBefore(o,e.firstChild),i.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",i=m(i).offset(function(e,t){return t}).offset(),o.innerHTML="",e.removeChild(o),n=i.top+i.left+(n?2e3:0),v.fractions=21<n&&n<22}()}(jQuery),function(b){b.widget("ui.draggable",b.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||b(e.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(e),!!this.handle&&(t.iframeFix&&b(!0===t.iframeFix?"iframe":t.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(b(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),t.containment&&this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!t.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,t){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!t){t=this._uiHash();if(!1===this._trigger("drag",e,t))return this._mouseUp({}),!1;this.position=t.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),b.ui.ddmanager&&b.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=!1;b.ui.ddmanager&&!this.options.dropBehaviour&&(t=b.ui.ddmanager.drop(this,e)),this.dropped&&(t=this.dropped,this.dropped=!1);for(var n,i=this.element[0],o=!1;i=i&&i.parentNode;)i==document&&(o=!0);return(o||"original"!==this.options.helper)&&("invalid"==this.options.revert&&!t||"valid"==this.options.revert&&t||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,t)?b((n=this).helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear()),!1},_mouseUp:function(e){return b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,e),b.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var t=!this.options.handle||!b(this.options.handle,this.element).length;return b(this.options.handle,this.element).find("*").andSelf().each(function(){this==e.target&&(t=!0)}),t},_createHelper:function(e){var t=this.options,e=b.isFunction(t.helper)?b(t.helper.apply(this.element[0],[e])):"clone"==t.helper?this.element.clone().removeAttr("id"):this.element;return e.parents("body").length||e.appendTo("parent"==t.appendTo?this.element[0].parentNode:t.appendTo),e[0]==this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),b.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&b.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!=this.cssPosition)return{top:0,left:0};var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n=this.options;"parent"==n.containment&&(n.containment=this.helper[0].parentNode),"document"!=n.containment&&"window"!=n.containment||(this.containment=["document"==n.containment?0:b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==n.containment?0:b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==n.containment?0:b(window).scrollLeft())+b("document"==n.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==n.containment?0:b(window).scrollTop())+(b("document"==n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||n.containment.constructor==Array?n.containment.constructor==Array&&(this.containment=n.containment):(t=(e=b(n.containment))[0])&&(e.offset(),n="hidden"!=b(t).css("overflow"),this.containment=[(parseInt(b(t).css("borderLeftWidth"),10)||0)+(parseInt(b(t).css("paddingLeft"),10)||0),(parseInt(b(t).css("borderTopWidth"),10)||0)+(parseInt(b(t).css("paddingTop"),10)||0),(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(b(t).css("borderLeftWidth"),10)||0)-(parseInt(b(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(b(t).css("borderTopWidth"),10)||0)-(parseInt(b(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=e)},_convertPositionTo:function(e,t){t=t||this.position;var n="absolute"==e?1:-1,i=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),e=/(html|body)/i.test(i[0].tagName);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-(b.browser.safari&&b.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:i.scrollTop())*n),left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-(b.browser.safari&&b.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:i.scrollLeft())*n)}},_generatePosition:function(e){var t,n=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName),r=e.pageX,a=e.pageY;return this.originalPosition&&(this.containment&&(t=this.relative_container?(t=this.relative_container.offset(),[this.containment[0]+t.left,this.containment[1]+t.top,this.containment[2]+t.left,this.containment[3]+t.top]):this.containment,e.pageX-this.offset.click.left<t[0]&&(r=t[0]+this.offset.click.left),e.pageY-this.offset.click.top<t[1]&&(a=t[1]+this.offset.click.top),e.pageX-this.offset.click.left>t[2]&&(r=t[2]+this.offset.click.left),e.pageY-this.offset.click.top>t[3]&&(a=t[3]+this.offset.click.top)),n.grid&&(e=n.grid[1]?this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY,a=t&&(e-this.offset.click.top<t[1]||e-this.offset.click.top>t[3])?e-this.offset.click.top<t[1]?e+n.grid[1]:e-n.grid[1]:e,e=n.grid[0]?this.originalPageX+Math.round((r-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX,r=t&&(e-this.offset.click.left<t[0]||e-this.offset.click.left>t[2])?e-this.offset.click.left<t[0]?e+n.grid[0]:e-n.grid[0]:e)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&b.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&b.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,t,n){return n=n||this._uiHash(),b.ui.plugin.call(this,e,[t,n]),"drag"==e&&(this.positionAbs=this._convertPositionTo("absolute")),b.Widget.prototype._trigger.call(this,e,t,n)},plugins:{},_uiHash:function(e){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),b.extend(b.ui.draggable,{version:"1.8.24"}),b.ui.plugin.add("draggable","connectToSortable",{start:function(t,e){var n=b(this).data("draggable"),i=n.options,o=b.extend({},e,{item:n.element});n.sortables=[],b(i.connectToSortable).each(function(){var e=b.data(this,"sortable");e&&!e.options.disabled&&(n.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",t,o))})},stop:function(e,t){var n=b(this).data("draggable"),i=b.extend({},t,{item:n.element});b.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"==n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,i))})},drag:function(t,n){var i=b(this).data("draggable"),o=this;b.each(i.sortables,function(e){this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(o).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)})}}),b.ui.plugin.add("draggable","cursor",{start:function(e,t){var n=b("body"),i=b(this).data("draggable").options;n.css("cursor")&&(i._cursor=n.css("cursor")),n.css("cursor",i.cursor)},stop:function(e,t){var n=b(this).data("draggable").options;n._cursor&&b("body").css("cursor",n._cursor)}}),b.ui.plugin.add("draggable","opacity",{start:function(e,t){var n=b(t.helper),t=b(this).data("draggable").options;n.css("opacity")&&(t._opacity=n.css("opacity")),n.css("opacity",t.opacity)},stop:function(e,t){var n=b(this).data("draggable").options;n._opacity&&b(t.helper).css("opacity",n._opacity)}}),b.ui.plugin.add("draggable","scroll",{start:function(e,t){var n=b(this).data("draggable");n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName&&(n.overflowOffset=n.scrollParent.offset())},drag:function(e,t){var n=b(this).data("draggable"),i=n.options,o=!1;n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName?(i.axis&&"x"==i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=o=n.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=o=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"==i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=o=n.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=o=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"==i.axis||(e.pageY-b(document).scrollTop()<i.scrollSensitivity?o=b(document).scrollTop(b(document).scrollTop()-i.scrollSpeed):b(window).height()-(e.pageY-b(document).scrollTop())<i.scrollSensitivity&&(o=b(document).scrollTop(b(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"==i.axis||(e.pageX-b(document).scrollLeft()<i.scrollSensitivity?o=b(document).scrollLeft(b(document).scrollLeft()-i.scrollSpeed):b(window).width()-(e.pageX-b(document).scrollLeft())<i.scrollSensitivity&&(o=b(document).scrollLeft(b(document).scrollLeft()+i.scrollSpeed)))),!1!==o&&b.ui.ddmanager&&!i.dropBehaviour&&b.ui.ddmanager.prepareOffsets(n,e)}}),b.ui.plugin.add("draggable","snap",{start:function(e,t){var n=b(this).data("draggable"),i=n.options;n.snapElements=[],b(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var e=b(this),t=e.offset();this!=n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t){for(var n=b(this).data("draggable"),i=n.options,o=i.snapTolerance,r=t.offset.left,a=r+n.helperProportions.width,s=t.offset.top,l=s+n.helperProportions.height,c=n.snapElements.length-1;0<=c;c--){var u,d,h,f,p,m=n.snapElements[c].left,g=m+n.snapElements[c].width,v=n.snapElements[c].top,y=v+n.snapElements[c].height;m-o<r&&r<g+o&&v-o<s&&s<y+o||m-o<r&&r<g+o&&v-o<l&&l<y+o||m-o<a&&a<g+o&&v-o<s&&s<y+o||m-o<a&&a<g+o&&v-o<l&&l<y+o?("inner"!=i.snapMode&&(d=Math.abs(v-l)<=o,h=Math.abs(y-s)<=o,f=Math.abs(m-a)<=o,p=Math.abs(g-r)<=o,d&&(t.position.top=n._convertPositionTo("relative",{top:v-n.helperProportions.height,left:0}).top-n.margins.top),h&&(t.position.top=n._convertPositionTo("relative",{top:y,left:0}).top-n.margins.top),f&&(t.position.left=n._convertPositionTo("relative",{top:0,left:m-n.helperProportions.width}).left-n.margins.left),p&&(t.position.left=n._convertPositionTo("relative",{top:0,left:g}).left-n.margins.left)),u=d||h||f||p,"outer"!=i.snapMode&&(d=Math.abs(v-s)<=o,h=Math.abs(y-l)<=o,f=Math.abs(m-r)<=o,p=Math.abs(g-a)<=o,d&&(t.position.top=n._convertPositionTo("relative",{top:v,left:0}).top-n.margins.top),h&&(t.position.top=n._convertPositionTo("relative",{top:y-n.helperProportions.height,left:0}).top-n.margins.top),f&&(t.position.left=n._convertPositionTo("relative",{top:0,left:m}).left-n.margins.left),p&&(t.position.left=n._convertPositionTo("relative",{top:0,left:g-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[c].snapping&&(d||h||f||p||u)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,b.extend(n._uiHash(),{snapItem:n.snapElements[c].item})),n.snapElements[c].snapping=d||h||f||p||u):(n.snapElements[c].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,b.extend(n._uiHash(),{snapItem:n.snapElements[c].item})),n.snapElements[c].snapping=!1)}}}),b.ui.plugin.add("draggable","stack",{start:function(e,t){var n,i=b(this).data("draggable").options,i=b.makeArray(b(i.stack)).sort(function(e,t){return(parseInt(b(e).css("zIndex"),10)||0)-(parseInt(b(t).css("zIndex"),10)||0)});i.length&&(n=parseInt(i[0].style.zIndex)||0,b(i).each(function(e){this.style.zIndex=n+e}),this[0].style.zIndex=n+i.length)}}),b.ui.plugin.add("draggable","zIndex",{start:function(e,t){var n=b(t.helper),t=b(this).data("draggable").options;n.css("zIndex")&&(t._zIndex=n.css("zIndex")),n.css("zIndex",t.zIndex)},stop:function(e,t){var n=b(this).data("draggable").options;n._zIndex&&b(t.helper).css("zIndex",n._zIndex)}})}(jQuery),function(d){d.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var e=this.options,t=e.accept;this.isover=0,this.isout=1,this.accept=d.isFunction(t)?t:function(e){return e.is(t)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},d.ui.ddmanager.droppables[e.scope]=d.ui.ddmanager.droppables[e.scope]||[],d.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var e=d.ui.ddmanager.droppables[this.options.scope],t=0;t<e.length;t++)e[t]==this&&e.splice(t,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(e,t){"accept"==e&&(this.accept=d.isFunction(t)?t:function(e){return e.is(t)}),d.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var t=d.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=d.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=d.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!=this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=d.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!=this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(t)))},_drop:function(e,t){var n=t||d.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return!1;var i=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var e=d.data(this,"droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope==n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&d.ui.intersect(n,d.extend(e,{offset:e.element.offset()}),e.options.tolerance))return!(i=!0)}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),d.extend(d.ui.droppable,{version:"1.8.24"}),d.ui.intersect=function(e,t,n){if(!t.offset)return!1;var i=(e.positionAbs||e.position.absolute).left,o=i+e.helperProportions.width,r=(e.positionAbs||e.position.absolute).top,a=r+e.helperProportions.height,s=t.offset.left,l=s+t.proportions.width,c=t.offset.top,u=c+t.proportions.height;switch(n){case"fit":return s<=i&&o<=l&&c<=r&&a<=u;case"intersect":return s<i+e.helperProportions.width/2&&o-e.helperProportions.width/2<l&&c<r+e.helperProportions.height/2&&a-e.helperProportions.height/2<u;case"pointer":n=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,e=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top;return d.ui.isOver(e,n,c,s,t.proportions.height,t.proportions.width);case"touch":return(c<=r&&r<=u||c<=a&&a<=u||r<c&&u<a)&&(s<=i&&i<=l||s<=o&&o<=l||i<s&&l<o);default:return!1}},d.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var n=d.ui.ddmanager.droppables[e.options.scope]||[],i=t?t.type:null,o=(e.currentItem||e.element).find(":data(droppable)").andSelf();e:for(var r=0;r<n.length;r++)if(!(n[r].options.disabled||e&&!n[r].accept.call(n[r].element[0],e.currentItem||e.element))){for(var a=0;a<o.length;a++)if(o[a]==n[r].element[0]){n[r].proportions.height=0;continue e}n[r].visible="none"!=n[r].element.css("display"),n[r].visible&&("mousedown"==i&&n[r]._activate.call(n[r],t),n[r].offset=n[r].element.offset(),n[r].proportions={width:n[r].element[0].offsetWidth,height:n[r].element[0].offsetHeight})}},drop:function(e,t){var n=!1;return d.each(d.ui.ddmanager.droppables[e.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&d.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,t)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,t)))}),n},dragStart:function(e,t){e.element.parents(":not(body,html)").bind("scroll.droppable",function(){e.options.refreshPositions||d.ui.ddmanager.prepareOffsets(e,t)})},drag:function(o,r){o.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(o,r),d.each(d.ui.ddmanager.droppables[o.options.scope]||[],function(){var e,t,n,i;this.options.disabled||this.greedyChild||!this.visible||(e=(i=d.ui.intersect(o,this,this.options.tolerance))||1!=this.isover?i&&0==this.isover?"isover":null:"isout")&&(this.options.greedy&&(n=this.options.scope,(i=this.element.parents(":data(droppable)").filter(function(){return d.data(this,"droppable").options.scope===n})).length&&((t=d.data(i[0],"droppable")).greedyChild="isover"==e?1:0)),t&&"isover"==e&&(t.isover=0,t.isout=1,t._out.call(t,r)),this[e]=1,this["isout"==e?"isover":"isout"]=0,this["isover"==e?"_over":"_out"].call(this,r),t&&"isout"==e&&(t.isout=0,t.isover=1,t._over.call(t,r)))})},dragStop:function(e,t){e.element.parents(":not(body,html)").unbind("scroll.droppable"),e.options.refreshPositions||d.ui.ddmanager.prepareOffsets(e,t)}}}(jQuery),function(u){u.widget("ui.resizable",u.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,e=this.options;if(this.element.addClass("ui-resizable"),u.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(u('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=e.handles||(u(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var n=this.handles.split(",");this.handles={};for(var i=0;i<n.length;i++){var o=u.trim(n[i]),r=u('<div class="ui-resizable-handle '+("ui-resizable-"+o)+'"></div>');r.css({zIndex:e.zIndex}),"se"==o&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[o]=".ui-resizable-"+o,this.element.append(r)}}this._renderAxis=function(e){for(var t in e=e||this.element,this.handles){var n,i;this.handles[t].constructor==String&&(this.handles[t]=u(this.handles[t],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=u(this.handles[t],this.element),n=0,n=/sw|ne|nw|se|n|s/.test(t)?i.outerHeight():i.outerWidth(),i=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join(""),e.css(i,n),this._proportionallyResize()),u(this.handles[t]).length}},this._renderAxis(this.element),this._handles=u(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){var e;t.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),t.axis=e&&e[1]?e[1]:"se")}),e.autoHide&&(this._handles.hide(),u(this.element).addClass("ui-resizable-autohide").hover(function(){e.disabled||(u(this).removeClass("ui-resizable-autohide"),t._handles.show())},function(){e.disabled||t.resizing||(u(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();function e(e){u(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()}var t;return this.elementIsWrapper&&(e(this.element),(t=this.element).after(this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")})).remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(e){var t,n=!1;for(t in this.handles)u(this.handles[t])[0]==e.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var t=this.options,n=this.element.position(),i=this.element;this.resizing=!0,this.documentScroll={top:u(document).scrollTop(),left:u(document).scrollLeft()},(i.is(".ui-draggable")||/absolute/.test(i.css("position")))&&i.css({position:"absolute",top:n.top,left:n.left}),this._renderProxy();var o=c(this.helper.css("left")),n=c(this.helper.css("top"));t.containment&&(o+=u(t.containment).scrollLeft()||0,n+=u(t.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:n},this.size=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalPosition={left:o,top:n},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof t.aspectRatio?t.aspectRatio:this.originalSize.width/this.originalSize.height||1;t=u(".ui-resizable-"+this.axis).css("cursor");return u("body").css("cursor","auto"==t?this.axis+"-resize":t),i.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t=this.helper,n=(this.options,this.originalMousePosition),i=this.axis,o=e.pageX-n.left||0,n=e.pageY-n.top||0,i=this._change[i];if(!i)return!1;n=i.apply(this,[e,o,n]),u.browser.msie&&u.browser.version,this.sizeDiff;return this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(n),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(e){this.resizing=!1;var t,n,i,o=this.options,r=this;return this._helper&&(i=(t=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&u.ui.hasScroll(n[0],"left")?0:r.sizeDiff.height,n=t?0:r.sizeDiff.width,t={width:r.helper.width()-n,height:r.helper.height()-i},n=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,i=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null,o.animate||this.element.css(u.extend(t,{top:i,left:n})),r.helper.height(r.size.height),r.helper.width(r.size.width),this._helper&&!o.animate&&this._proportionallyResize()),u("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,i=this.options,o={minWidth:d(i.minWidth)?i.minWidth:0,maxWidth:d(i.maxWidth)?i.maxWidth:1/0,minHeight:d(i.minHeight)?i.minHeight:0,maxHeight:d(i.maxHeight)?i.maxHeight:1/0};(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,e=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),n>o.minHeight&&(o.minHeight=n),i<o.maxWidth&&(o.maxWidth=i),e<o.maxHeight&&(o.maxHeight=e)),this._vBoundaries=o},_updateCache:function(e){this.options;this.offset=this.helper.offset(),d(e.left)&&(this.position.left=e.left),d(e.top)&&(this.position.top=e.top),d(e.height)&&(this.size.height=e.height),d(e.width)&&(this.size.width=e.width)},_updateRatio:function(e,t){this.options;var n=this.position,i=this.size,o=this.axis;return d(e.height)?e.width=e.height*this.aspectRatio:d(e.width)&&(e.height=e.width/this.aspectRatio),"sw"==o&&(e.left=n.left+(i.width-e.width),e.top=null),"nw"==o&&(e.top=n.top+(i.height-e.height),e.left=n.left+(i.width-e.width)),e},_respectSize:function(e,t){this.helper;var n=this._vBoundaries,i=(this._aspectRatio||t.shiftKey,this.axis),o=d(e.width)&&n.maxWidth&&n.maxWidth<e.width,r=d(e.height)&&n.maxHeight&&n.maxHeight<e.height,a=d(e.width)&&n.minWidth&&n.minWidth>e.width,s=d(e.height)&&n.minHeight&&n.minHeight>e.height;a&&(e.width=n.minWidth),s&&(e.height=n.minHeight),o&&(e.width=n.maxWidth),r&&(e.height=n.maxHeight);var l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,t=/sw|nw|w/.test(i),i=/nw|ne|n/.test(i);a&&t&&(e.left=l-n.minWidth),o&&t&&(e.left=l-n.maxWidth),s&&i&&(e.top=c-n.minHeight),r&&i&&(e.top=c-n.maxHeight);n=!e.width&&!e.height;return n&&!e.left&&e.top?e.top=null:n&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var e=this.helper||this.element,t=0;t<this._proportionallyResizeElements.length;t++){var n,i,o=this._proportionallyResizeElements[t];this.borderDif||(n=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],i=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],this.borderDif=u.map(n,function(e,t){return(parseInt(e,10)||0)+(parseInt(i[t],10)||0)})),u.browser.msie&&(u(e).is(":hidden")||u(e).parents(":hidden").length)||o.css({height:e.height()-this.borderDif[0]-this.borderDif[2]||0,width:e.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var e,t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||u('<div style="overflow:hidden;"></div>'),t=(e=u.browser.msie&&u.browser.version<7)?1:0,e=e?2:-1,this.helper.addClass(this._helper).css({width:this.element.outerWidth()+e,height:this.element.outerHeight()+e,position:"absolute",left:this.elementOffset.left-t+"px",top:this.elementOffset.top-t+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t,n){return{width:this.originalSize.width+t}},w:function(e,t,n){this.options;var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,n){this.options;var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(e,t,n){return u.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},sw:function(e,t,n){return u.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,n]))},ne:function(e,t,n){return u.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},nw:function(e,t,n){return u.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,n]))}},_propagate:function(e,t){u.ui.plugin.call(this,e,[t,this.ui()]),"resize"!=e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),u.extend(u.ui.resizable,{version:"1.8.24"}),u.ui.plugin.add("resizable","alsoResize",{start:function(e,t){function n(e){u(e).each(function(){var e=u(this);e.data("resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})}var i=u(this).data("resizable").options;"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):u.each(i.alsoResize,function(e){n(e)})},resize:function(e,r){function n(e,n){u(e).each(function(){var e=u(this),i=u(this).data("resizable-alsoresize"),o={},t=n&&n.length?n:e.parents(r.originalElement[0]).length?["width","height"]:["width","height","top","left"];u.each(t,function(e,t){var n=(i[t]||0)+(s[t]||0);n&&0<=n&&(o[t]=n||null)}),e.css(o)})}var t=u(this).data("resizable"),i=t.options,o=t.originalSize,a=t.originalPosition,s={height:t.size.height-o.height||0,width:t.size.width-o.width||0,top:t.position.top-a.top||0,left:t.position.left-a.left||0};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?n(i.alsoResize):u.each(i.alsoResize,function(e,t){n(e,t)})},stop:function(e,t){u(this).removeData("resizable-alsoresize")}}),u.ui.plugin.add("resizable","animate",{stop:function(t,e){var n=u(this).data("resizable"),i=n.options,o=n._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),a=r&&u.ui.hasScroll(o[0],"left")?0:n.sizeDiff.height,s=r?0:n.sizeDiff.width,r={width:n.size.width-s,height:n.size.height-a},s=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,a=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(u.extend(r,a&&s?{top:a,left:s}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var e={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};o&&o.length&&u(o[0]).css({width:e.width,height:e.height}),n._updateCache(e),n._propagate("resize",t)}})}}),u.ui.plugin.add("resizable","containment",{start:function(e,t){var n,i,o=u(this).data("resizable"),r=o.options,a=o.element,s=r.containment,l=s instanceof u?s.get(0):/parent/.test(s)?a.parent().get(0):s;l&&(o.containerElement=u(l),/document/.test(s)||s==document?(o.containerOffset={left:0,top:0},o.containerPosition={left:0,top:0},o.parentData={element:u(document),left:0,top:0,width:u(document).width(),height:u(document).height()||document.body.parentNode.scrollHeight}):(n=u(l),i=[],u(["Top","Right","Left","Bottom"]).each(function(e,t){i[e]=c(n.css("padding"+t))}),o.containerOffset=n.offset(),o.containerPosition=n.position(),o.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},r=o.containerOffset,a=o.containerSize.height,s=o.containerSize.width,s=u.ui.hasScroll(l,"left")?l.scrollWidth:s,a=u.ui.hasScroll(l)?l.scrollHeight:a,o.parentData={element:l,left:r.left,top:r.top,width:s,height:a}))},resize:function(e,t){var n=u(this).data("resizable"),i=n.options,o=(n.containerSize,n.containerOffset),r=(n.size,n.position),a=n._aspectRatio||e.shiftKey,s={top:0,left:0},e=n.containerElement;e[0]!=document&&/static/.test(e.css("position"))&&(s=o),r.left<(n._helper?o.left:0)&&(n.size.width=n.size.width+(n._helper?n.position.left-o.left:n.position.left-s.left),a&&(n.size.height=n.size.width/n.aspectRatio),n.position.left=i.helper?o.left:0),r.top<(n._helper?o.top:0)&&(n.size.height=n.size.height+(n._helper?n.position.top-o.top:n.position.top),a&&(n.size.width=n.size.height*n.aspectRatio),n.position.top=n._helper?o.top:0),n.offset.left=n.parentData.left+n.position.left,n.offset.top=n.parentData.top+n.position.top;i=Math.abs((n._helper,n.offset.left-s.left+n.sizeDiff.width)),r=Math.abs((n._helper?n.offset.top-s.top:n.offset.top-o.top)+n.sizeDiff.height),s=n.containerElement.get(0)==n.element.parent().get(0),o=/relative|absolute/.test(n.containerElement.css("position"));s&&o&&(i-=n.parentData.left),i+n.size.width>=n.parentData.width&&(n.size.width=n.parentData.width-i,a&&(n.size.height=n.size.width/n.aspectRatio)),r+n.size.height>=n.parentData.height&&(n.size.height=n.parentData.height-r,a&&(n.size.width=n.size.height*n.aspectRatio))},stop:function(e,t){var n=u(this).data("resizable"),i=n.options,o=(n.position,n.containerOffset),r=n.containerPosition,a=n.containerElement,s=u(n.helper),l=s.offset(),c=s.outerWidth()-n.sizeDiff.width,s=s.outerHeight()-n.sizeDiff.height;n._helper&&!i.animate&&/relative/.test(a.css("position"))&&u(this).css({left:l.left-r.left-o.left,width:c,height:s}),n._helper&&!i.animate&&/static/.test(a.css("position"))&&u(this).css({left:l.left-r.left-o.left,width:c,height:s})}}),u.ui.plugin.add("resizable","ghost",{start:function(e,t){var n=u(this).data("resizable"),i=n.options,o=n.size;n.ghost=n.originalElement.clone(),n.ghost.css({opacity:.25,display:"block",position:"relative",height:o.height,width:o.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),n.ghost.appendTo(n.helper)},resize:function(e,t){var n=u(this).data("resizable");n.options;n.ghost&&n.ghost.css({position:"relative",height:n.size.height,width:n.size.width})},stop:function(e,t){var n=u(this).data("resizable");n.options;n.ghost&&n.helper&&n.helper.get(0).removeChild(n.ghost.get(0))}}),u.ui.plugin.add("resizable","grid",{resize:function(e,t){var n=u(this).data("resizable"),i=n.options,o=n.size,r=n.originalSize,a=n.originalPosition,s=n.axis;i._aspectRatio||e.shiftKey;i.grid="number"==typeof i.grid?[i.grid,i.grid]:i.grid;e=Math.round((o.width-r.width)/(i.grid[0]||1))*(i.grid[0]||1),i=Math.round((o.height-r.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(s)?(n.size.width=r.width+e,n.size.height=r.height+i):/^(ne)$/.test(s)?(n.size.width=r.width+e,n.size.height=r.height+i,n.position.top=a.top-i):(/^(sw)$/.test(s)?(n.size.width=r.width+e,n.size.height=r.height+i):(n.size.width=r.width+e,n.size.height=r.height+i,n.position.top=a.top-i),n.position.left=a.left-e)}});var c=function(e){return parseInt(e,10)||0},d=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(c){c.widget("ui.selectable",c.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var e,t=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(e=c(t.options.filter,t.element[0])).addClass("ui-selectee"),e.each(function(){var e=c(this),t=e.offset();c.data(this,"selectable-item",{element:this,$element:e,left:t.left,top:t.top,right:t.left+e.outerWidth(),bottom:t.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=c("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(n){var e,i=this;this.opos=[n.pageX,n.pageY],this.options.disabled||(e=this.options,this.selectees=c(e.filter,this.element[0]),this._trigger("start",n),c(e.appendTo).append(this.helper),this.helper.css({left:n.clientX,top:n.clientY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=c.data(this,"selectable-item");e.startselected=!0,n.metaKey||n.ctrlKey||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,i._trigger("unselecting",n,{unselecting:e.element}))}),c(n.target).parents().andSelf().each(function(){var e=c.data(this,"selectable-item");if(e){var t=!n.metaKey&&!n.ctrlKey||!e.$element.hasClass("ui-selected");return e.$element.removeClass(t?"ui-unselecting":"ui-selected").addClass(t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?i._trigger("selecting",n,{selecting:e.element}):i._trigger("unselecting",n,{unselecting:e.element}),!1}}))},_mouseDrag:function(n){var i=this;if(this.dragged=!0,!this.options.disabled){var e,o=this.options,r=this.opos[0],a=this.opos[1],s=n.pageX,l=n.pageY;return s<r&&(e=s,s=r,r=e),l<a&&(e=l,l=a,a=e),this.helper.css({left:r,top:a,width:s-r,height:l-a}),this.selectees.each(function(){var e,t=c.data(this,"selectable-item");t&&t.element!=i.element[0]&&(e=!1,"touch"==o.tolerance?e=!(t.left>s||t.right<r||t.top>l||t.bottom<a):"fit"==o.tolerance&&(e=t.left>r&&t.right<s&&t.top>a&&t.bottom<l),e?(t.selected&&(t.$element.removeClass("ui-selected"),t.selected=!1),t.unselecting&&(t.$element.removeClass("ui-unselecting"),t.unselecting=!1),t.selecting||(t.$element.addClass("ui-selecting"),t.selecting=!0,i._trigger("selecting",n,{selecting:t.element}))):(t.selecting&&((n.metaKey||n.ctrlKey)&&t.startselected?(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.$element.addClass("ui-selected"),t.selected=!0):(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.startselected&&(t.$element.addClass("ui-unselecting"),t.unselecting=!0),i._trigger("unselecting",n,{unselecting:t.element}))),!t.selected||n.metaKey||n.ctrlKey||t.startselected||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element}))))}),!1}},_mouseStop:function(t){var n=this;this.dragged=!1;this.options;return c(".ui-unselecting",this.element[0]).each(function(){var e=c.data(this,"selectable-item");e.$element.removeClass("ui-unselecting"),e.unselecting=!1,e.startselected=!1,n._trigger("unselected",t,{unselected:e.element})}),c(".ui-selecting",this.element[0]).each(function(){var e=c.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected"),e.selecting=!1,e.selected=!0,e.startselected=!0,n._trigger("selected",t,{selected:e.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),c.extend(c.ui.selectable,{version:"1.8.24"})}(jQuery),function(h){h.widget("ui.sortable",h.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){h.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,t){"disabled"===e?(this.options[e]=t,this.widget()[t?"addClass":"removeClass"]("ui-sortable-disabled")):h.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,t){var n=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(e);var i=null,o=this;h(e.target).parents().each(function(){if(h.data(this,n.widgetName+"-item")==o)return i=h(this),!1});if(h.data(e.target,n.widgetName+"-item")==o&&(i=h(e.target)),!i)return!1;if(this.options.handle&&!t){var r=!1;if(h(this.options.handle,i).find("*").andSelf().each(function(){this==e.target&&(r=!0)}),!r)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(e,t,n){var i=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},h.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(h("body").css("cursor")&&(this._storedCursor=h("body").css("cursor")),h("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(var o=this.containers.length-1;0<=o;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return h.ui.ddmanager&&(h.ui.ddmanager.current=this),h.ui.ddmanager&&!i.dropBehaviour&&h.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var t,n;this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(t=this.options,n=!1,this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<t.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+t.scrollSpeed:e.pageY-this.overflowOffset.top<t.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-t.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<t.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+t.scrollSpeed:e.pageX-this.overflowOffset.left<t.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-t.scrollSpeed)):(e.pageY-h(document).scrollTop()<t.scrollSensitivity?n=h(document).scrollTop(h(document).scrollTop()-t.scrollSpeed):h(window).height()-(e.pageY-h(document).scrollTop())<t.scrollSensitivity&&(n=h(document).scrollTop(h(document).scrollTop()+t.scrollSpeed)),e.pageX-h(document).scrollLeft()<t.scrollSensitivity?n=h(document).scrollLeft(h(document).scrollLeft()-t.scrollSpeed):h(window).width()-(e.pageX-h(document).scrollLeft())<t.scrollSensitivity&&(n=h(document).scrollLeft(h(document).scrollLeft()+t.scrollSpeed))),!1!==n&&h.ui.ddmanager&&!t.dropBehaviour&&h.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var i=this.items.length-1;0<=i;i--){var o=this.items[i],r=o.item[0],a=this._intersectsWithPointer(o);if(a&&(o.instance===this.currentContainer&&!(r==this.currentItem[0]||this.placeholder[1==a?"next":"prev"]()[0]==r||h.ui.contains(this.placeholder[0],r)||"semi-dynamic"==this.options.type&&h.ui.contains(this.element[0],r)))){if(this.direction=1==a?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(o))break;this._rearrange(e,o),this._trigger("change",e,this._uiHash());break}}return this._contactContainers(e),h.ui.ddmanager&&h.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){var n,i;if(e)return h.ui.ddmanager&&!this.options.dropBehaviour&&h.ui.ddmanager.drop(this,e),this.options.revert?(i=(n=this).placeholder.offset(),n.reverting=!0,h(this.helper).animate({left:i.left-this.offset.parent.left-n.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-n.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){n._clear(e)})):this._clear(e,t),!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),h.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?h(this.domPosition.prev).after(this.currentItem):h(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},h(e).each(function(){var e=(h(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);e&&n.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t.each(function(){n.push(h(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=e.left,a=r+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,u=s<i+c&&i+c<l&&r<t+u&&t+u<a;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?u:r<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||h.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||h.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),e=t&&n,t=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return!!e&&(this.floating?n&&"right"==n||"down"==t?2:1:t&&("down"==t?2:1))},_intersectsWithSides:function(e){var t=h.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=h.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"==e&&n||"left"==e&&!n:i&&("down"==i&&t||"up"==i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var t=[],n=[],i=this._connectWith();if(i&&e)for(var o=i.length-1;0<=o;o--)for(var r=h(i[o]),a=r.length-1;0<=a;a--){var s=h.data(r[a],this.widgetName);s&&s!=this&&!s.options.disabled&&n.push([h.isFunction(s.options.items)?s.options.items.call(s.element):h(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s])}n.push([h.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):h(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(o=n.length-1;0<=o;o--)n[o][0].each(function(){t.push(this)});return h(t)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data("+this.widgetName+"-item)"),t=0;t<this.items.length;t++)for(var n=0;n<e.length;n++)e[n]==this.items[t].item[0]&&this.items.splice(t,1)},_refreshItems:function(e){this.items=[],this.containers=[this];var t=this.items,n=[[h.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):h(this.options.items,this.element),this]],i=this._connectWith();if(i&&this.ready)for(var o=i.length-1;0<=o;o--)for(var r=h(i[o]),a=r.length-1;0<=a;a--){var s=h.data(r[a],this.widgetName);s&&s!=this&&!s.options.disabled&&(n.push([h.isFunction(s.options.items)?s.options.items.call(s.element[0],e,{item:this.currentItem}):h(s.options.items,s.element),s]),this.containers.push(s))}for(o=n.length-1;0<=o;o--)for(var l=n[o][1],c=n[o][0],a=0,u=c.length;a<u;a++){var d=h(c[a]);d.data(this.widgetName+"-item",l),t.push({item:d,instance:l,width:0,height:0,left:0,top:0})}},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var t=this.items.length-1;0<=t;t--){var n,i=this.items[t];i.instance!=this.currentContainer&&this.currentContainer&&i.item[0]!=this.currentItem[0]||(n=this.options.toleranceElement?h(this.options.toleranceElement,i.item):i.item,e||(i.width=n.outerWidth(),i.height=n.outerHeight()),o=n.offset(),i.left=o.left,i.top=o.top)}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--){var o=this.containers[t].element.offset();this.containers[t].containerCache.left=o.left,this.containers[t].containerCache.top=o.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight()}return this},_createPlaceholder:function(e){var n,i=e||this,o=i.options;o.placeholder&&o.placeholder.constructor!=String||(n=o.placeholder,o.placeholder={element:function(){var e=h(document.createElement(i.currentItem[0].nodeName)).addClass(n||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return n||(e.style.visibility="hidden"),e},update:function(e,t){n&&!o.forcePlaceholderSize||(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=h(o.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),o.placeholder.update(i,i.placeholder)},_contactContainers:function(e){for(var t=null,n=null,i=this.containers.length-1;0<=i;i--)h.ui.contains(this.currentItem[0],this.containers[i].element[0])||(this._intersectsWith(this.containers[i].containerCache)?t&&h.ui.contains(this.containers[i].element[0],t.element[0])||(t=this.containers[i],n=i):this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0));if(t)if(1===this.containers.length)this.containers[n]._trigger("over",e,this._uiHash(this)),this.containers[n].containerCache.over=1;else if(this.currentContainer!=this.containers[n]){for(var o,r=1e4,a=null,s=this.positionAbs[this.containers[n].floating?"left":"top"],l=this.items.length-1;0<=l;l--){h.ui.contains(this.containers[n].element[0],this.items[l].item[0])&&(o=this.containers[n].floating?this.items[l].item.offset().left:this.items[l].item.offset().top,Math.abs(o-s)<r&&(r=Math.abs(o-s),a=this.items[l],this.direction=0<o-s?"down":"up"))}(a||this.options.dropOnEmpty)&&(this.currentContainer=this.containers[n],a?this._rearrange(e,a,null,!0):this._rearrange(e,null,this.containers[n].element,!0),this._trigger("change",e,this._uiHash()),this.containers[n]._trigger("change",e,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",e,this._uiHash(this)),this.containers[n].containerCache.over=1)}},_createHelper:function(e){var t=this.options,e=h.isFunction(t.helper)?h(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"==t.helper?this.currentItem.clone():this.currentItem;return e.parents("body").length||h("parent"!=t.appendTo?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(e[0]),e[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),""!=e[0].style.width&&!t.forceHelperSize||e.width(this.currentItem.width()),""!=e[0].style.height&&!t.forceHelperSize||e.height(this.currentItem.height()),e},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),h.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&h.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&h.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!=this.cssPosition)return{top:0,left:0};var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n=this.options;"parent"==n.containment&&(n.containment=this.helper[0].parentNode),"document"!=n.containment&&"window"!=n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,h("document"==n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(h("document"==n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=h(n.containment)[0],t=h(n.containment).offset(),n="hidden"!=h(e).css("overflow"),this.containment=[t.left+(parseInt(h(e).css("borderLeftWidth"),10)||0)+(parseInt(h(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(h(e).css("borderTopWidth"),10)||0)+(parseInt(h(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(h(e).css("borderLeftWidth"),10)||0)-(parseInt(h(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(h(e).css("borderTopWidth"),10)||0)-(parseInt(h(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t=t||this.position;var n="absolute"==e?1:-1,i=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&h.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),e=/(html|body)/i.test(i[0].tagName);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-(h.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:i.scrollTop())*n),left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-(h.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:i.scrollLeft())*n)}},_generatePosition:function(e){var t=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&h.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(n[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var o=e.pageX,r=e.pageY;return this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),t.grid&&(e=this.originalPageY+Math.round((r-this.originalPageY)/t.grid[1])*t.grid[1],r=this.containment&&(e-this.offset.click.top<this.containment[1]||e-this.offset.click.top>this.containment[3])?e-this.offset.click.top<this.containment[1]?e+t.grid[1]:e-t.grid[1]:e,e=this.originalPageX+Math.round((o-this.originalPageX)/t.grid[0])*t.grid[0],o=this.containment&&(e-this.offset.click.left<this.containment[0]||e-this.offset.click.left>this.containment[2])?e-this.offset.click.left<this.containment[0]?e+t.grid[0]:e-t.grid[0]:e)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(h.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:n.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(h.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:n.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this,r=this.counter;window.setTimeout(function(){r==o.counter&&o.refreshPositions(!i)},0)},_clear:function(e,t){this.reverting=!1;var n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)"auto"!=this._storedCSS[i]&&"static"!=this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))));for(i=this.containers.length-1;0<=i;i--)t||n.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this._storedCursor&&h("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){this._trigger("beforeStop",e,this._uiHash());for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return!(this.fromOutside=!1)},_trigger:function(){!1===h.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||h([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}}),h.extend(h.ui.sortable,{version:"1.8.24"})}(jQuery),function(u){u.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var e,t,n=this,i=n.options;n.running=0,n.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),n.headers=n.element.find(i.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){i.disabled||u(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){i.disabled||u(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){i.disabled||u(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){i.disabled||u(this).removeClass("ui-state-focus")}),n.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),!i.navigation||(e=n.element.find("a").filter(i.navigationFilter).eq(0)).length&&((t=e.closest(".ui-accordion-header")).length?n.active=t:n.active=e.closest(".ui-accordion-content").prev()),n.active=n._findActive(n.active||i.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),n.active.next().addClass("ui-accordion-content-active"),n._createIcons(),n.resize(),n.element.attr("role","tablist"),n.headers.attr("role","tab").bind("keydown.accordion",function(e){return n._keydown(e)}).next().attr("role","tabpanel"),n.headers.not(n.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),n.active.length?n.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):n.headers.eq(0).attr("tabIndex",0),u.browser.safari||n.headers.find("a").attr("tabIndex",-1),i.event&&n.headers.bind(i.event.split(" ").join(".accordion ")+".accordion",function(e){n._clickHandler.call(n,e,this),e.preventDefault()})},_createIcons:function(){var e=this.options;e.icons&&(u("<span></span>").addClass("ui-icon "+e.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(e.icons.header).toggleClass(e.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var e=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var t=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(e.autoHeight||e.fillHeight)&&t.css("height",""),u.Widget.prototype.destroy.call(this)},_setOption:function(e,t){u.Widget.prototype._setOption.apply(this,arguments),"active"==e&&this.activate(t),"icons"==e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"==e&&this.headers.add(this.headers.next())[t?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(e){if(!(this.options.disabled||e.altKey||e.ctrlKey)){var t=u.ui.keyCode,n=this.headers.length,i=this.headers.index(e.target),o=!1;switch(e.keyCode){case t.RIGHT:case t.DOWN:o=this.headers[(i+1)%n];break;case t.LEFT:case t.UP:o=this.headers[(i-1+n)%n];break;case t.SPACE:case t.ENTER:this._clickHandler({target:e.target},e.target),e.preventDefault()}return!o||(u(e.target).attr("tabIndex",-1),u(o).attr("tabIndex",0),o.focus(),!1)}},resize:function(){var e,t,n=this.options;return n.fillSpace?(u.browser.msie&&(t=this.element.parent().css("overflow"),this.element.parent().css("overflow","hidden")),e=this.element.parent().height(),u.browser.msie&&this.element.parent().css("overflow",t),this.headers.each(function(){e-=u(this).outerHeight(!0)}),this.headers.next().each(function(){u(this).height(Math.max(0,e-u(this).innerHeight()+u(this).height()))}).css("overflow","auto")):n.autoHeight&&(e=0,this.headers.next().each(function(){e=Math.max(e,u(this).height("").height())}).height(e)),this},activate:function(e){this.options.active=e;e=this._findActive(e)[0];return this._clickHandler({target:e},e),this},_findActive:function(e){return e?"number"==typeof e?this.headers.filter(":eq("+e+")"):this.headers.not(this.headers.not(e)):!1===e?u([]):this.headers.filter(":eq(0)")},_clickHandler:function(e,t){var n,i,o,r,a,s=this.options;s.disabled||(e.target?(i=(n=u(e.currentTarget||t))[0]===this.active[0],s.active=(!s.collapsible||!i)&&this.headers.index(n),this.running||!s.collapsible&&i||(e=this.active,a=n.next(),o=this.active.next(),r={options:s,newHeader:i&&s.collapsible?u([]):n,oldHeader:this.active,newContent:i&&s.collapsible?u([]):a,oldContent:o},t=this.headers.index(this.active[0])>this.headers.index(n[0]),this.active=i?u([]):n,this._toggle(a,o,r,i,t),e.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(s.icons.headerSelected).addClass(s.icons.header),i||(n.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(s.icons.header).addClass(s.icons.headerSelected),n.next().addClass("ui-accordion-content-active")))):s.collapsible&&(this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(s.icons.headerSelected).addClass(s.icons.header),this.active.next().addClass("ui-accordion-content-active"),o=this.active.next(),r={options:s,newHeader:u([]),oldHeader:s.active,newContent:u([]),oldContent:o},a=this.active=u([]),this._toggle(a,o,r)))},_toggle:function(e,t,n,i,o){var r=this,a=r.options;r.toShow=e,r.toHide=t,r.data=n;function s(){if(r)return r._completed.apply(r,arguments)}var l,c;r._trigger("changestart",null,r.data),r.running=(0===t.size()?e:t).size(),a.animated?(n={},n=a.collapsible&&i?{toShow:u([]),toHide:t,complete:s,down:o,autoHeight:a.autoHeight||a.fillSpace}:{toShow:e,toHide:t,complete:s,down:o,autoHeight:a.autoHeight||a.fillSpace},a.proxied||(a.proxied=a.animated),a.proxiedDuration||(a.proxiedDuration=a.duration),a.animated=u.isFunction(a.proxied)?a.proxied(n):a.proxied,a.duration=u.isFunction(a.proxiedDuration)?a.proxiedDuration(n):a.proxiedDuration,o=u.ui.accordion.animations,l=a.duration,!(c=a.animated)||o[c]||u.easing[c]||(c="slide"),o[c]||(o[c]=function(e){this.slide(e,{easing:c,duration:l||700})}),o[c](n)):(a.collapsible&&i?e.toggle():(t.hide(),e.show()),s(!0)),t.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),e.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(e){this.running=e?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),u.extend(u.ui.accordion,{version:"1.8.24",animations:{slide:function(i,e){var t,n,o,r,a;(i=u.extend({easing:"swing",duration:300},i,e)).toHide.size()?i.toShow.size()?(t=i.toShow.css("overflow"),n=0,o={},r={},e=i.toShow,a=e[0].style.width,e.width(e.parent().width()-parseFloat(e.css("paddingLeft"))-parseFloat(e.css("paddingRight"))-(parseFloat(e.css("borderLeftWidth"))||0)-(parseFloat(e.css("borderRightWidth"))||0)),u.each(["height","paddingTop","paddingBottom"],function(e,t){r[t]="hide";var n=(""+u.css(i.toShow[0],t)).match(/^([\d+-.]+)(.*)$/);o[t]={value:n[1],unit:n[2]||"px"}}),i.toShow.css({height:0,overflow:"hidden"}).show(),i.toHide.filter(":hidden").each(i.complete).end().filter(":visible").animate(r,{step:function(e,t){"height"==t.prop&&(n=t.end-t.start==0?0:(t.now-t.start)/(t.end-t.start)),i.toShow[0].style[t.prop]=n*o[t.prop].value+o[t.prop].unit},duration:i.duration,easing:i.easing,complete:function(){i.autoHeight||i.toShow.css("height",""),i.toShow.css({width:a,overflow:t}),i.complete()}})):i.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},i):i.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},i)},bounceslide:function(e){this.slide(e,{easing:e.down?"easeOutBounce":"swing",duration:e.down?1e3:200})}}})}(jQuery),function(a){var i=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var n,o=this,r=this.element[0].ownerDocument;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(e){if(!o.options.disabled&&!o.element.propAttr("readOnly")){n=!1;var t=a.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:o._move("previousPage",e);break;case t.PAGE_DOWN:o._move("nextPage",e);break;case t.UP:o._keyEvent("previous",e);break;case t.DOWN:o._keyEvent("next",e);break;case t.ENTER:case t.NUMPAD_ENTER:o.menu.active&&(n=!0,e.preventDefault());case t.TAB:if(!o.menu.active)return;o.menu.select(e);break;case t.ESCAPE:o.element.val(o.term),o.close(e);break;default:clearTimeout(o.searching),o.searching=setTimeout(function(){o.term!=o.element.val()&&(o.selectedItem=null,o.search(null,e))},o.options.delay)}}}).bind("keypress.autocomplete",function(e){n&&(n=!1,e.preventDefault())}).bind("focus.autocomplete",function(){o.options.disabled||(o.selectedItem=null,o.previous=o.element.val())}).bind("blur.autocomplete",function(e){o.options.disabled||(clearTimeout(o.searching),o.closing=setTimeout(function(){o.close(e),o._change(e)},150))}),this._initSource(),this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",r)[0]).mousedown(function(e){var t=o.menu.element[0];a(e.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(e){e.target===o.element[0]||e.target===t||a.ui.contains(t,e.target)||o.close()})},1),setTimeout(function(){clearTimeout(o.closing)},13)}).menu({focus:function(e,t){t=t.item.data("item.autocomplete");!1!==o._trigger("focus",e,{item:t})&&/^key/.test(e.originalEvent.type)&&o.element.val(t.value)},selected:function(e,t){var n=t.item.data("item.autocomplete"),i=o.previous;o.element[0]!==r.activeElement&&(o.element.focus(),o.previous=i,setTimeout(function(){o.previous=i,o.selectedItem=n},1)),!1!==o._trigger("select",e,{item:n})&&o.element.val(n.value),o.term=o.element.val(),o.close(e),o.selectedItem=n},blur:function(e,t){o.menu.element.is(":visible")&&o.element.val()!==o.term&&o.element.val(o.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe(),o.beforeunloadHandler=function(){o.element.removeAttr("autocomplete")},a(window).bind("beforeunload",o.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a(window).unbind("beforeunload",this.beforeunloadHandler),a.Widget.prototype.destroy.call(this)},_setOption:function(e,t){a.Widget.prototype._setOption.apply(this,arguments),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(a(t||"body",this.element[0].ownerDocument)[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_initSource:function(){var n,t,i=this;a.isArray(this.options.source)?(n=this.options.source,this.source=function(e,t){t(a.ui.autocomplete.filter(n,e.term))}):"string"==typeof this.options.source?(t=this.options.source,this.source=function(e,n){i.xhr&&i.xhr.abort(),i.xhr=a.ajax({url:t,data:e,dataType:"json",success:function(e,t){n(e)},error:function(){n([])}})}):this.source=this.options.source},search:function(e,t){return e=null!=e?e:this.element.val(),this.term=this.element.val(),e.length<this.options.minLength?this.close(t):(clearTimeout(this.closing),!1!==this._trigger("search",t)?this._search(e):void 0)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:e},this._response())},_response:function(){var t=this,n=++i;return function(e){n===i&&t.__response(e),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(e){!this.options.disabled&&e&&e.length?(e=this._normalize(e),this._suggest(e),this._trigger("open")):this.close()},close:function(e){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",e))},_change:function(e){this.previous!==this.element.val()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:a.map(e,function(e){return"string"==typeof e?{label:e,value:e}:a.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var t=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(t,e),this.menu.deactivate(),this.menu.refresh(),t.show(),this._resizeMenu(),t.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,e){var i=this;a.each(e,function(e,t){i._renderItem(n,t)})},_renderItem:function(e,t){return a("<li></li>").data("item.autocomplete",t).append(a("<a></a>").text(t.label)).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)?(this.element.val(this.term),void this.menu.deactivate()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(e,t){var n=new RegExp(a.ui.autocomplete.escapeRegex(t),"i");return a.grep(e,function(e){return n.test(e.label||e.value||e)})}})}(jQuery),function(o){o.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(e){o(e.target).closest(".ui-menu-item a").length&&(e.preventDefault(),t.select(e))}),this.refresh()},refresh:function(){var t=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(e){t.activate(e,o(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(e,t){var n,i,o;this.deactivate(),this.hasScroll()&&(n=t.offset().top-this.element.offset().top,i=this.element.scrollTop(),o=this.element.height(),n<0?this.element.scrollTop(i+n):o<=n&&this.element.scrollTop(i+n-o+t.height())),this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",e,{item:t})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(e){this.move("next",".ui-menu-item:first",e)},previous:function(e){this.move("prev",".ui-menu-item:last",e)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,t,n){this.active&&(e=this.active[e+"All"](".ui-menu-item").eq(0)).length?this.activate(n,e):this.activate(n,this.element.children(t))},nextPage:function(e){var t,n,i;this.hasScroll()?this.active&&!this.last()?(t=this.active.offset().top,n=this.element.height(),(i=this.element.children(".ui-menu-item").filter(function(){var e=o(this).offset().top-t-n+o(this).height();return e<10&&-10<e})).length||(i=this.element.children(".ui-menu-item:last")),this.activate(e,i)):this.activate(e,this.element.children(".ui-menu-item:first")):this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(e){var t,n,i;this.hasScroll()?this.active&&!this.first()?(t=this.active.offset().top,n=this.element.height(),(i=this.element.children(".ui-menu-item").filter(function(){var e=o(this).offset().top-t+n-o(this).height();return e<10&&-10<e})).length||(i=this.element.children(".ui-menu-item:first")),this.activate(e,i)):this.activate(e,this.element.children(".ui-menu-item:last")):this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[o.fn.prop?"prop":"attr"]("scrollHeight")},select:function(e){this._trigger("selected",e,{item:this.active})}})}(jQuery),function(r){function a(){var e=r(this).find(":ui-button");setTimeout(function(){e.button("refresh")},1)}function s(e){var t=e.name,n=e.form,i=r([]);return t&&(i=n?r(n).find("[name='"+t+"']"):r("[name='"+t+"']",e.ownerDocument).filter(function(){return!this.form})),i}var l,c,u,d,h="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only";r.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",a),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,n=this.options,e="checkbox"===this.type||"radio"===this.type,i="ui-state-hover"+(e?"":" ui-state-active"),o="ui-state-focus";null===n.label&&(n.label=this.buttonElement.html()),this.buttonElement.addClass(h).attr("role","button").bind("mouseenter.button",function(){n.disabled||(r(this).addClass("ui-state-hover"),this===l&&r(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){n.disabled||r(this).removeClass(i)}).bind("click.button",function(e){n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus.button",function(){t.buttonElement.addClass(o)}).bind("blur.button",function(){t.buttonElement.removeClass(o)}),e&&(this.element.bind("change.button",function(){d||t.refresh()}),this.buttonElement.bind("mousedown.button",function(e){n.disabled||(d=!1,c=e.pageX,u=e.pageY)}).bind("mouseup.button",function(e){n.disabled||c===e.pageX&&u===e.pageY||(d=!0)})),"checkbox"===this.type?this.buttonElement.bind("click.button",function(){return!n.disabled&&!d&&(r(this).toggleClass("ui-state-active"),void t.buttonElement.attr("aria-pressed",t.element[0].checked))}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(n.disabled||d)return!1;r(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var e=t.element[0];s(e).not(e).map(function(){return r(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){return!n.disabled&&(r(this).addClass("ui-state-active"),l=this,void r(document).one("mouseup",function(){l=null}))}).bind("mouseup.button",function(){return!n.disabled&&void r(this).removeClass("ui-state-active")}).bind("keydown.button",function(e){return!n.disabled&&void(e.keyCode!=r.ui.keyCode.SPACE&&e.keyCode!=r.ui.keyCode.ENTER||r(this).addClass("ui-state-active"))}).bind("keyup.button",function(){r(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===r.ui.keyCode.SPACE&&r(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var e,t;this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().filter(":last"),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=(e.length?e:this.element).siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(t=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",t)):this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(h+" ui-state-hover ui-state-active  "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),r.Widget.prototype.destroy.call(this)},_setOption:function(e,t){r.Widget.prototype._setOption.apply(this,arguments),"disabled"!==e?this._resetButton():t?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1)},refresh:function(){var e=this.element.is(":disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?s(this.element[0]).each(function(){r(this).is(":checked")?r(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):r(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){var e,t,n,i,o;"input"!==this.type?(e=this.buttonElement.removeClass(f),t=r("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),i=(n=this.options.icons).primary&&n.secondary,o=[],n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(i?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t))):o.push("ui-button-text-only"),e.addClass(o.join(" "))):this.options.label&&this.element.val(this.options.label)}}),r.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),r.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return r(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return r(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),r.Widget.prototype.destroy.call(this)}})}(jQuery),function(s){var l="ui-dialog ui-widget ui-widget-content ui-corner-all ",r={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},a={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};s.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(e){var t=s(this).css(e).offset().top;t<0&&s(this).css("top",e.top-t)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var t=this,n=t.options,e=n.title||"&#160;",i=s.ui.dialog.getTitleId(t.element),o=(t.uiDialog=s("<div></div>")).appendTo(document.body).hide().addClass(l+n.dialogClass).css({zIndex:n.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(e){n.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===s.ui.keyCode.ESCAPE&&(t.close(e),e.preventDefault())}).attr({role:"dialog","aria-labelledby":i}).mousedown(function(e){t.moveToTop(!1,e)}),r=(t.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(o),(t.uiDialogTitlebar=s("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(o)),a=s('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){a.addClass("ui-state-hover")},function(){a.removeClass("ui-state-hover")}).focus(function(){a.addClass("ui-state-focus")}).blur(function(){a.removeClass("ui-state-focus")}).click(function(e){return t.close(e),!1}).appendTo(r);(t.uiDialogTitlebarCloseText=s("<span></span>")).addClass("ui-icon ui-icon-closethick").text(n.closeText).appendTo(a),s("<span></span>").addClass("ui-dialog-title").attr("id",i).html(e).prependTo(r);s.isFunction(n.beforeclose)&&!s.isFunction(n.beforeClose)&&(n.beforeClose=n.beforeclose),r.find("*").add(r).disableSelection(),n.draggable&&s.fn.draggable&&t._makeDraggable(),n.resizable&&s.fn.resizable&&t._makeResizable(),t._createButtons(n.buttons),t._isOpen=!1,s.fn.bgiframe&&o.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var e=this;return e.overlay&&e.overlay.destroy(),e.uiDialog.hide(),e.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),e.uiDialog.remove(),e.originalTitle&&e.element.attr("title",e.originalTitle),e},widget:function(){return this.uiDialog},close:function(e){var t,n,i=this;if(!1!==i._trigger("beforeClose",e))return i.overlay&&i.overlay.destroy(),i.uiDialog.unbind("keypress.ui-dialog"),i._isOpen=!1,i.options.hide?i.uiDialog.hide(i.options.hide,function(){i._trigger("close",e)}):(i.uiDialog.hide(),i._trigger("close",e)),s.ui.dialog.overlay.resize(),i.options.modal&&(t=0,s(".ui-dialog").each(function(){this!==i.uiDialog[0]&&(n=s(this).css("z-index"),isNaN(n)||(t=Math.max(t,n)))}),s.ui.dialog.maxZ=t),i},isOpen:function(){return this._isOpen},moveToTop:function(e,t){var n=this,i=n.options;return i.modal&&!e||!i.stack&&!i.modal?n._trigger("focus",t):(i.zIndex>s.ui.dialog.maxZ&&(s.ui.dialog.maxZ=i.zIndex),n.overlay&&(s.ui.dialog.maxZ+=1,n.overlay.$el.css("z-index",s.ui.dialog.overlay.maxZ=s.ui.dialog.maxZ)),i={scrollTop:n.element.scrollTop(),scrollLeft:n.element.scrollLeft()},s.ui.dialog.maxZ+=1,n.uiDialog.css("z-index",s.ui.dialog.maxZ),n.element.attr(i),n._trigger("focus",t),n)},open:function(){if(!this._isOpen){var e=this,t=e.options,n=e.uiDialog;return e.overlay=t.modal?new s.ui.dialog.overlay(e):null,e._size(),e._position(t.position),n.show(t.show),e.moveToTop(!0),t.modal&&n.bind("keydown.ui-dialog",function(e){if(e.keyCode===s.ui.keyCode.TAB){var t=s(":tabbable",this),n=t.filter(":first"),t=t.filter(":last");return e.target!==t[0]||e.shiftKey?e.target===n[0]&&e.shiftKey?(t.focus(1),!1):void 0:(n.focus(1),!1)}}),s(e.element.find(":tabbable").get().concat(n.find(".ui-dialog-buttonpane :tabbable").get().concat(n.get()))).eq(0).focus(),e._isOpen=!0,e._trigger("open"),e}},_createButtons:function(e){var i=this,t=!1,n=s("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),o=s("<div></div>").addClass("ui-dialog-buttonset").appendTo(n);i.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==typeof e&&null!==e&&s.each(e,function(){return!(t=!0)}),t&&(s.each(e,function(e,t){t=s.isFunction(t)?{click:t,text:e}:t;var n=s('<button type="button"></button>').click(function(){t.click.apply(i.element[0],arguments)}).appendTo(o);s.each(t,function(e,t){"click"!==e&&(e in n?n[e](t):n.attr(e,t))}),s.fn.button&&n.button()}),n.appendTo(i.uiDialog))},_makeDraggable:function(){function n(e){return{position:e.position,offset:e.offset}}var i,o=this,r=o.options,a=s(document);o.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){i="auto"===r.height?"auto":s(this).height(),s(this).height(s(this).height()).addClass("ui-dialog-dragging"),o._trigger("dragStart",e,n(t))},drag:function(e,t){o._trigger("drag",e,n(t))},stop:function(e,t){r.position=[t.position.left-a.scrollLeft(),t.position.top-a.scrollTop()],s(this).removeClass("ui-dialog-dragging").height(i),o._trigger("dragStop",e,n(t)),s.ui.dialog.overlay.resize()}})},_makeResizable:function(e){function n(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}e=void 0===e?this.options.resizable:e;var i=this,o=i.options,t=i.uiDialog.css("position"),e="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";i.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:i.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:i._minHeight(),handles:e,start:function(e,t){s(this).addClass("ui-dialog-resizing"),i._trigger("resizeStart",e,n(t))},resize:function(e,t){i._trigger("resize",e,n(t))},stop:function(e,t){s(this).removeClass("ui-dialog-resizing"),o.height=s(this).height(),o.width=s(this).width(),i._trigger("resizeStop",e,n(t)),s.ui.dialog.overlay.resize()}}).css("position",t).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(e){var t,n=[],i=[0,0];e=e?(("string"==typeof e||"object"==typeof e&&"0"in e)&&(1===(n=e.split?e.split(" "):[e[0],e[1]]).length&&(n[1]=n[0]),s.each(["left","top"],function(e,t){+n[e]===n[e]&&(i[e]=n[e],n[e]=t)}),e={my:n.join(" "),at:n.join(" "),offset:i.join(" ")}),s.extend({},s.ui.dialog.prototype.options.position,e)):s.ui.dialog.prototype.options.position,(t=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(s.extend({of:window},e)),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i={},o=!1;s.each(e,function(e,t){n._setOption(e,t),e in r&&(o=!0),e in a&&(i[e]=t)}),o&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",i)},_setOption:function(e,t){var n=this,i=n.uiDialog;switch(e){case"beforeclose":e="beforeClose";break;case"buttons":n._createButtons(t);break;case"closeText":n.uiDialogTitlebarCloseText.text(""+t);break;case"dialogClass":i.removeClass(n.options.dialogClass).addClass(l+t);break;case"disabled":t?i.addClass("ui-dialog-disabled"):i.removeClass("ui-dialog-disabled");break;case"draggable":var o=i.is(":data(draggable)");o&&!t&&i.draggable("destroy"),!o&&t&&n._makeDraggable();break;case"position":n._position(t);break;case"resizable":o=i.is(":data(resizable)");o&&!t&&i.resizable("destroy"),o&&"string"==typeof t&&i.resizable("option","handles",t),o||!1===t||n._makeResizable(t);break;case"title":s(".ui-dialog-title",n.uiDialogTitlebar).html(""+(t||"&#160;"))}s.Widget.prototype._setOption.apply(n,arguments)},_size:function(){var e,t,n,i=this.options,o=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).height(),t=Math.max(0,i.minHeight-e),"auto"===i.height?s.support.minHeight?this.element.css({minHeight:t,height:"auto"}):(this.uiDialog.show(),n=this.element.css("height","auto").height(),o||this.uiDialog.hide(),this.element.height(Math.max(n,t))):this.element.height(Math.max(i.height-e,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),s.extend(s.ui.dialog,{version:"1.8.24",uuid:0,maxZ:0,getTitleId:function(e){e=e.attr("id");return e||(this.uuid+=1,e=this.uuid),"ui-dialog-title-"+e},overlay:function(e){this.$el=s.ui.dialog.overlay.create(e)}}),s.extend(s.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:s.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){0===this.instances.length&&(setTimeout(function(){s.ui.dialog.overlay.instances.length&&s(document).bind(s.ui.dialog.overlay.events,function(e){if(s(e.target).zIndex()<s.ui.dialog.overlay.maxZ)return!1})},1),s(document).bind("keydown.dialog-overlay",function(e){t.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===s.ui.keyCode.ESCAPE&&(t.close(e),e.preventDefault())}),s(window).bind("resize.dialog-overlay",s.ui.dialog.overlay.resize));var e=(this.oldInstances.pop()||s("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return s.fn.bgiframe&&e.bgiframe(),this.instances.push(e),e},destroy:function(e){var t=s.inArray(e,this.instances);-1!=t&&this.oldInstances.push(this.instances.splice(t,1)[0]),0===this.instances.length&&s([document,window]).unbind(".dialog-overlay"),e.remove();var n=0;s.each(this.instances,function(){n=Math.max(n,this.css("z-index"))}),this.maxZ=n},height:function(){var e;return s.browser.msie&&s.browser.version<7?(e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight))<Math.max(document.documentElement.offsetHeight,document.body.offsetHeight)?s(window).height()+"px":e+"px":s(document).height()+"px"},width:function(){var e;return s.browser.msie?(e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth))<Math.max(document.documentElement.offsetWidth,document.body.offsetWidth)?s(window).width()+"px":e+"px":s(document).width()+"px"},resize:function(){var e=s([]);s.each(s.ui.dialog.overlay.instances,function(){e=e.add(this)}),e.css({width:0,height:0}).css({width:s.ui.dialog.overlay.width(),height:s.ui.dialog.overlay.height()})}}),s.extend(s.ui.dialog.overlay.prototype,{destroy:function(){s.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(u){u.widget("ui.slider",u.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var r=this,e=this.options,t=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),n=e.values&&e.values.length||1,i=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(e.disabled?" ui-slider-disabled ui-disabled":"")),this.range=u([]),e.range&&(!0===e.range&&(e.values||(e.values=[this._valueMin(),this._valueMin()]),e.values.length&&2!==e.values.length&&(e.values=[e.values[0],e.values[0]])),this.range=u("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:"")));for(var o=t.length;o<n;o+=1)i.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=t.add(u(i.join("")).appendTo(r.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).hover(function(){e.disabled||u(this).addClass("ui-state-hover")},function(){u(this).removeClass("ui-state-hover")}).focus(function(){e.disabled?u(this).blur():(u(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),u(this).addClass("ui-state-focus"))}).blur(function(){u(this).removeClass("ui-state-focus")}),this.handles.each(function(e){u(this).data("index.ui-slider-handle",e)}),this.handles.keydown(function(e){var t,n,i,o=u(this).data("index.ui-slider-handle");if(!r.options.disabled){switch(e.keyCode){case u.ui.keyCode.HOME:case u.ui.keyCode.END:case u.ui.keyCode.PAGE_UP:case u.ui.keyCode.PAGE_DOWN:case u.ui.keyCode.UP:case u.ui.keyCode.RIGHT:case u.ui.keyCode.DOWN:case u.ui.keyCode.LEFT:if(e.preventDefault(),!r._keySliding&&(r._keySliding=!0,u(this).addClass("ui-state-active"),!1===r._start(e,o)))return}switch(i=r.options.step,t=n=r.options.values&&r.options.values.length?r.values(o):r.value(),e.keyCode){case u.ui.keyCode.HOME:n=r._valueMin();break;case u.ui.keyCode.END:n=r._valueMax();break;case u.ui.keyCode.PAGE_UP:n=r._trimAlignValue(t+(r._valueMax()-r._valueMin())/5);break;case u.ui.keyCode.PAGE_DOWN:n=r._trimAlignValue(t-(r._valueMax()-r._valueMin())/5);break;case u.ui.keyCode.UP:case u.ui.keyCode.RIGHT:if(t===r._valueMax())return;n=r._trimAlignValue(t+i);break;case u.ui.keyCode.DOWN:case u.ui.keyCode.LEFT:if(t===r._valueMin())return;n=r._trimAlignValue(t-i)}r._slide(e,o,n)}}).keyup(function(e){var t=u(this).data("index.ui-slider-handle");r._keySliding&&(r._keySliding=!1,r._stop(e,t),r._change(e,t),u(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(e){var n,i,o,r,a,t,s=this.options;return!s.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t),i=this._valueMax()-this._valueMin()+1,(r=this).handles.each(function(e){var t=Math.abs(n-r.values(e));t<i&&(i=t,o=u(this),a=e)}),!0===s.range&&this.values(1)===s.min&&(a+=1,o=u(this.handles[a])),!1!==this._start(e,a)&&(this._mouseSliding=!0,r._handleIndex=a,o.addClass("ui-state-active").focus(),t=o.offset(),s=!u(e.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=s?{left:0,top:0}:{left:e.pageX-t.left-o.width()/2,top:e.pageY-t.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,n),this._animateOff=!0))},_mouseStart:function(e){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},t=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,t),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,e="horizontal"===this.orientation?(t=this.elementSize.width,e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),e=e/t;return 1<e&&(e=1),e<0&&(e=0),"vertical"===this.orientation&&(e=1-e),t=this._valueMax()-this._valueMin(),t=this._valueMin()+e*t,this._trimAlignValue(t)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,o;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&i<n||1===t&&n<i)&&(n=i),n!==this.values(t)&&((o=this.values())[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:o}),i=this.values(t?0:1),!1!==o&&this.values(t,n,!0))):n===this.value()||!1!==(o=this._trigger("slide",e,{handle:this.handles[t],value:n}))&&this.value(n)},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){var n;this._keySliding||this._mouseSliding||(n={handle:this.handles[t],value:this.value()},this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("change",e,n))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var n,i,o;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!u.isArray(e))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,i=e,o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(i[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,t){var n,i=0;switch(u.isArray(this.options.values)&&(i=this.options.values.length),u.Widget.prototype._setOption.apply(this,arguments),e){case"disabled":t?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<i;n+=1)this._change(null,n);this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],this._trimAlignValue(t);for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=0<this.options.step?this.options.step:1,n=(e-this._valueMin())%t,e=e-n;return 2*Math.abs(n)>=t&&(e+=0<n?t:-t),parseFloat(e.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var n,i,e,t,o,r=this.options.range,a=this.options,s=this,l=!this._animateOff&&a.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(e,t){n=(s.values(e)-s._valueMin())/(s._valueMax()-s._valueMin())*100,c["horizontal"===s.orientation?"left":"bottom"]=n+"%",u(this).stop(1,1)[l?"animate":"css"](c,a.animate),!0===s.options.range&&("horizontal"===s.orientation?(0===e&&s.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},a.animate),1===e&&s.range[l?"animate":"css"]({width:n-i+"%"},{queue:!1,duration:a.animate})):(0===e&&s.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},a.animate),1===e&&s.range[l?"animate":"css"]({height:n-i+"%"},{queue:!1,duration:a.animate}))),i=n}):(e=this.value(),t=this._valueMin(),o=this._valueMax(),n=o!==t?(e-t)/(o-t)*100:0,c["horizontal"===s.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](c,a.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},a.animate),"max"===r&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:a.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},a.animate),"max"===r&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:a.animate}))}}),u.extend(u.ui.slider,{version:"1.8.24"})}(jQuery),function(f){var t=0,n=0;f.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(e,t){"selected"==e?this.options.collapsible&&t==this.options.selected||this.select(t):(this.options[e]=t,this._tabify())},_tabId:function(e){return e.title&&e.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+ ++t},_sanitizeSelector:function(e){return e.replace(/:/g,"\\:")},_cookie:function(){var e=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++n);return f.cookie.apply(null,[e].concat(f.makeArray(arguments)))},_ui:function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var e=f(this);e.html(e.data("label.tabs")).removeData("label.tabs")})},_tabify:function(e){function n(e,t){e.css("display",""),!f.support.opacity&&t.opacity&&e[0].style.removeAttribute("filter")}var r=this,a=this.options,s=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=f(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return f("a",this)[0]}),this.panels=f([]),this.anchors.each(function(e,t){var n,i=f(t).attr("href"),o=i.split("#")[0];o&&(o===location.toString().split("#")[0]||(n=f("base")[0])&&o===n.href)&&(i=t.hash,t.href=i),s.test(i)?r.panels=r.panels.add(r.element.find(r._sanitizeSelector(i))):i&&"#"!==i?(f.data(t,"href.tabs",i),f.data(t,"load.tabs",i.replace(/#.*$/,"")),i=r._tabId(t),t.href="#"+i,(t=r.element.find("#"+i)).length||(t=f(a.panelTemplate).attr("id",i).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(r.panels[e-1]||r.list)).data("destroy.tabs",!0),r.panels=r.panels.add(t)):a.disabled.push(e)}),e?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),void 0===a.selected?(location.hash&&this.anchors.each(function(e,t){if(t.hash==location.hash)return a.selected=e,!1}),"number"!=typeof a.selected&&a.cookie&&(a.selected=parseInt(r._cookie(),10)),"number"!=typeof a.selected&&this.lis.filter(".ui-tabs-selected").length&&(a.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),a.selected=a.selected||(this.lis.length?0:-1)):null===a.selected&&(a.selected=-1),a.selected=0<=a.selected&&this.anchors[a.selected]||a.selected<0?a.selected:0,a.disabled=f.unique(a.disabled.concat(f.map(this.lis.filter(".ui-state-disabled"),function(e,t){return r.lis.index(e)}))).sort(),-1!=f.inArray(a.selected,a.disabled)&&a.disabled.splice(f.inArray(a.selected,a.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),0<=a.selected&&this.anchors.length&&(r.element.find(r._sanitizeSelector(r.anchors[a.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(a.selected).addClass("ui-tabs-selected ui-state-active"),r.element.queue("tabs",function(){r._trigger("show",null,r._ui(r.anchors[a.selected],r.element.find(r._sanitizeSelector(r.anchors[a.selected].hash))[0]))}),this.load(a.selected)),f(window).bind("unload",function(){r.lis.add(r.anchors).unbind(".tabs"),r.lis=r.anchors=r.panels=null})):a.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[a.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),a.cookie&&this._cookie(a.selected,a.cookie);for(var t,i,o,l,c,u=0;t=this.lis[u];u++)f(t)[-1==f.inArray(u,a.disabled)||f(t).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");!1===a.cache&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==a.event&&(i=function(e,t){t.is(":not(.ui-state-disabled)")&&t.addClass("ui-state-"+e)},o=function(e,t){t.removeClass("ui-state-"+e)},this.lis.bind("mouseover.tabs",function(){i("hover",f(this))}),this.lis.bind("mouseout.tabs",function(){o("hover",f(this))}),this.anchors.bind("focus.tabs",function(){i("focus",f(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){o("focus",f(this).closest("li"))})),a.fx&&(f.isArray(a.fx)?(l=a.fx[0],c=a.fx[1]):l=c=a.fx);var d=c?function(e,t){f(e).closest("li").addClass("ui-tabs-selected ui-state-active"),t.hide().removeClass("ui-tabs-hide").animate(c,c.duration||"normal",function(){n(t,c),r._trigger("show",null,r._ui(e,t[0]))})}:function(e,t){f(e).closest("li").addClass("ui-tabs-selected ui-state-active"),t.removeClass("ui-tabs-hide"),r._trigger("show",null,r._ui(e,t[0]))},h=l?function(e,t){t.animate(l,l.duration||"normal",function(){r.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),n(t,l),r.element.dequeue("tabs")})}:function(e,t,n){r.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),r.element.dequeue("tabs")};this.anchors.bind(a.event+".tabs",function(){var e=this,t=f(e).closest("li"),n=r.panels.filter(":not(.ui-tabs-hide)"),i=r.element.find(r._sanitizeSelector(e.hash));if(t.hasClass("ui-tabs-selected")&&!a.collapsible||t.hasClass("ui-state-disabled")||t.hasClass("ui-state-processing")||r.panels.filter(":animated").length||!1===r._trigger("select",null,r._ui(this,i[0])))return this.blur(),!1;if(a.selected=r.anchors.index(this),r.abort(),a.collapsible){if(t.hasClass("ui-tabs-selected"))return a.selected=-1,a.cookie&&r._cookie(a.selected,a.cookie),r.element.queue("tabs",function(){h(e,n)}).dequeue("tabs"),this.blur(),!1;if(!n.length)return a.cookie&&r._cookie(a.selected,a.cookie),r.element.queue("tabs",function(){d(e,i)}),r.load(r.anchors.index(this)),this.blur(),!1}if(a.cookie&&r._cookie(a.selected,a.cookie),!i.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";n.length&&r.element.queue("tabs",function(){h(e,n)}),r.element.queue("tabs",function(){d(e,i)}),r.load(r.anchors.index(this)),f.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},destroy:function(){var e=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var e=f.data(this,"href.tabs");e&&(this.href=e);var n=f(this).unbind(".tabs");f.each(["href","load","cache"],function(e,t){n.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){f.data(this,"destroy.tabs")?f(this).remove():f(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),e.cookie&&this._cookie(null,e.cookie),this},add:function(e,t,n){void 0===n&&(n=this.anchors.length);var i=this,o=this.options,r=f(o.tabTemplate.replace(/#\{href\}/g,e).replace(/#\{label\}/g,t)),t=e.indexOf("#")?this._tabId(f("a",r)[0]):e.replace("#","");r.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);e=i.element.find("#"+t);return e.length||(e=f(o.panelTemplate).attr("id",t).data("destroy.tabs",!0)),e.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),n>=this.lis.length?(r.appendTo(this.list),e.appendTo(this.list[0].parentNode)):(r.insertBefore(this.lis[n]),e.insertBefore(this.panels[n])),o.disabled=f.map(o.disabled,function(e,t){return n<=e?++e:e}),this._tabify(),1==this.anchors.length&&(o.selected=0,r.addClass("ui-tabs-selected ui-state-active"),e.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){i._trigger("show",null,i._ui(i.anchors[0],i.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[n],this.panels[n])),this},remove:function(n){n=this._getIndex(n);var e=this.options,t=this.lis.eq(n).remove(),i=this.panels.eq(n).remove();return t.hasClass("ui-tabs-selected")&&1<this.anchors.length&&this.select(n+(n+1<this.anchors.length?1:-1)),e.disabled=f.map(f.grep(e.disabled,function(e,t){return e!=n}),function(e,t){return n<=e?--e:e}),this._tabify(),this._trigger("remove",null,this._ui(t.find("a")[0],i[0])),this},enable:function(n){n=this._getIndex(n);var e=this.options;if(-1!=f.inArray(n,e.disabled))return this.lis.eq(n).removeClass("ui-state-disabled"),e.disabled=f.grep(e.disabled,function(e,t){return e!=n}),this._trigger("enable",null,this._ui(this.anchors[n],this.panels[n])),this},disable:function(e){e=this._getIndex(e);var t=this.options;return e!=t.selected&&(this.lis.eq(e).addClass("ui-state-disabled"),t.disabled.push(e),t.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))),this},select:function(e){if(-1==(e=this._getIndex(e))){if(!this.options.collapsible||-1==this.options.selected)return this;e=this.options.selected}return this.anchors.eq(e).trigger(this.options.event+".tabs"),this},load:function(i){i=this._getIndex(i);var e,o=this,r=this.options,a=this.anchors.eq(i)[0],t=f.data(a,"load.tabs");if(this.abort(),t&&(0===this.element.queue("tabs").length||!f.data(a,"cache.tabs")))return this.lis.eq(i).addClass("ui-state-processing"),r.spinner&&(e=f("span",a)).data("label.tabs",e.html()).html(r.spinner),this.xhr=f.ajax(f.extend({},r.ajaxOptions,{url:t,success:function(e,t){o.element.find(o._sanitizeSelector(a.hash)).html(e),o._cleanup(),r.cache&&f.data(a,"cache.tabs",!0),o._trigger("load",null,o._ui(o.anchors[i],o.panels[i]));try{r.ajaxOptions.success(e,t)}catch(e){}},error:function(e,t,n){o._cleanup(),o._trigger("load",null,o._ui(o.anchors[i],o.panels[i]));try{r.ajaxOptions.error(e,t,i,a)}catch(n){}}})),o.element.dequeue("tabs"),this;this.element.dequeue("tabs")},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(e,t){return this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",t),this},length:function(){return this.anchors.length}}),f.extend(f.ui.tabs,{version:"1.8.24"}),f.extend(f.ui.tabs.prototype,{rotation:null,rotate:function(t,e){var n=this,i=this.options,o=n._rotate||(n._rotate=function(e){clearTimeout(n.rotation),n.rotation=setTimeout(function(){var e=i.selected;n.select(++e<n.anchors.length?e:0)},t),e&&e.stopPropagation()}),e=n._unrotate||(n._unrotate=e?function(e){o()}:function(e){e.clientX&&n.rotate(null)});return t?(this.element.bind("tabsshow",o),this.anchors.bind(i.event+".tabs",e),o()):(clearTimeout(n.rotation),this.element.unbind("tabsshow",o),this.anchors.unbind(i.event+".tabs",e),delete this._rotate,delete this._unrotate),this}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.bind("mouseout",function(e){e=$(e.target).closest(n);e.length&&e.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(e){e=$(e.target).closest(n);!$.datepicker._isDisabledDatepicker((instActive.inline?t.parent():instActive.input)[0])&&e.length&&(e.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e.addClass("ui-state-hover"),e.hasClass("ui-datepicker-prev")&&e.addClass("ui-datepicker-prev-hover"),e.hasClass("ui-datepicker-next")&&e.addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){for(var n in $.extend(e,t),t)null!=t[n]&&t[n]!=undefined||(e[n]=t[n]);return e}function isArray(e){return e&&($.browser.safari&&"object"==typeof e&&e.length||e.constructor&&e.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.24"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null,attrName;for(attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,i){var t=$(e);i.append=$([]),i.trigger=$([]),t.hasClass(this.markerClassName)||(this._attachments(t,i),t.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,t,n){i.settings[t]=n}).bind("getData.datepicker",function(e,t){return this._get(i,t)}),this._autoSize(i),$.data(e,PROP_NAME,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var n=this._get(t,"appendText"),i=this._get(t,"isRTL");t.append&&t.append.remove(),n&&(t.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),e[i?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var o=this._get(t,"showOn");"focus"!=o&&"both"!=o||e.focus(this._showDatepicker),"button"!=o&&"both"!=o||(n=this._get(t,"buttonText"),o=this._get(t,"buttonImage"),t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==o?n:$("<img/>").attr({src:o,alt:n,title:n}))),e[i?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():($.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]&&$.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){var t,n,i;this._get(e,"autoSize")&&!e.inline&&(t=new Date(2009,11,20),(n=this._get(e,"dateFormat")).match(/[DM]/)&&(i=function(e){for(var t=0,n=0,i=0;i<e.length;i++)e[i].length>t&&(t=e[i].length,n=i);return n},t.setMonth(i(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(i(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())),e.input.attr("size",this._formatDate(e,t).length))},_inlineDatepicker:function(e,i){var t=$(e);t.hasClass(this.markerClassName)||(t.addClass(this.markerClassName).append(i.dpDiv).bind("setData.datepicker",function(e,t,n){i.settings[t]=n}).bind("getData.datepicker",function(e,t){return this._get(i,t)}),$.data(e,PROP_NAME,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,n,i,o){var r,a=this._dialogInst;return a||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=$('<input type="text" id="'+r+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),(a=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},$.data(this._dialogInput[0],PROP_NAME,a)),extendRemove(a.settings,i||{}),t=t&&t.constructor==Date?this._formatDate(a,t):t,this._dialogInput.val(t),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(r=document.documentElement.clientWidth,i=document.documentElement.clientHeight,t=document.documentElement.scrollLeft||document.body.scrollLeft,o=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[r/2-100+t,i/2-150+o]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,a),this},_destroyDatepicker:function(e){var t,n=$(e),i=$.data(e,PROP_NAME);n.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),$.removeData(e,PROP_NAME),"input"==t?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!=t&&"span"!=t||n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var e,n=$(t),i=$.data(t,PROP_NAME);n.hasClass(this.markerClassName)&&("input"==(e=t.nodeName.toLowerCase())?(t.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!=e&&"span"!=e||((n=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")),this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e}))},_disableDatepicker:function(t){var e,n=$(t),i=$.data(t,PROP_NAME);n.hasClass(this.markerClassName)&&("input"==(e=t.nodeName.toLowerCase())?(t.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!=e&&"span"!=e||((n=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")),this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var i=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?$.extend({},$.datepicker._defaults):i?"all"==t?$.extend({},i.settings):this._get(i,t):null;var o,r,a,s=t||{};"string"==typeof t&&((s={})[t]=n),i&&(this._curInst==i&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(i,"min"),a=this._getMinMaxDate(i,"max"),extendRemove(i.settings,s),null!==r&&s.dateFormat!==undefined&&s.minDate===undefined&&(i.settings.minDate=this._formatDate(i,r)),null!==a&&s.dateFormat!==undefined&&s.maxDate===undefined&&(i.settings.maxDate=this._formatDate(i,a)),this._attachments($(e),i),this._autoSize(i),this._setDate(i,o),this._updateAlternate(i),this._updateDatepicker(i))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){e=this._getInst(e);e&&this._updateDatepicker(e)},_setDateDatepicker:function(e,t){e=this._getInst(e);e&&(this._setDate(e,t),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(e,t){e=this._getInst(e);return e&&!e.inline&&this._setDateFromField(e,t),e?this._getDate(e):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),n=!0,i=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,$.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var o=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);o[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,o[0]);var r=$.datepicker._get(t,"onSelect");return r?(o=$.datepicker._formatDate(t),r.apply(t.input?t.input[0]:null,[o,t])):$.datepicker._hideDatepicker(),!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,i?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,i?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}else 36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):n=!1;n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),t=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||t<" "||!n||-1<n.indexOf(t)}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t))&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(e){$.datepicker.log(e)}return!0},_showDatepicker:function(e){var n,t,i,o,r;"input"!=(e=e.target||e).nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),$.datepicker._isDisabledDatepicker(e)||$.datepicker._lastInput==e||(n=$.datepicker._getInst(e),$.datepicker._curInst&&$.datepicker._curInst!=n&&($.datepicker._curInst.dpDiv.stop(!0,!0),n&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0])),!1!==(o=(i=$.datepicker._get(n,"beforeShow"))?i.apply(e,[e,n]):{})&&(extendRemove(n.settings,o),n.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(n),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight),t=!1,$(e).parents().each(function(){return!(t|="fixed"==$(this).css("position"))}),t&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop),r={left:$.datepicker._pos[0],top:$.datepicker._pos[1]},$.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(n),r=$.datepicker._checkOffset(n,r,t),n.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":t?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),n.inline||(i=$.datepicker._get(n,"showAnim"),o=$.datepicker._get(n,"duration"),r=function(){var e,t=n.dpDiv.find("iframe.ui-datepicker-cover");t.length&&(e=$.datepicker._getBorders(n.dpDiv),t.css({left:-e[0],top:-e[1],width:n.dpDiv.outerWidth(),height:n.dpDiv.outerHeight()}))},n.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[i]?n.dpDiv.show(i,$.datepicker._get(n,"showOptions"),o,r):n.dpDiv[i||"show"](i?o:null,r),i&&o||r(),n.input.is(":visible")&&!n.input.is(":disabled")&&n.input.focus(),$.datepicker._curInst=n)))},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);(instActive=e).dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n=e.dpDiv.find("iframe.ui-datepicker-cover");n.length&&n.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(e),t=n[1];e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<t&&e.dpDiv.addClass("ui-datepicker-multi-"+t).css("width",17*t+"em"),e.dpDiv[(1!=n[0]||1!=n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_getBorders:function(e){function t(e){return{thin:1,medium:2,thick:3}[e]||e}return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,n){var i=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,s=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?i-r:0,t.left-=n&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=n&&t.top==e.input.offset().top+a?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+i>s&&i<s?Math.abs(t.left+i-s):0),t.top-=Math.min(t.top,t.top+o>l&&o<l?Math.abs(o+a):0),t},_findPos:function(e){for(var t=this._getInst(e),n=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType||$.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];t=$(e).offset();return[t.left,t.top]},_hideDatepicker:function(e){var t,n,i=this._curInst;!i||e&&i!=$.data(e,PROP_NAME)||this._datepickerShowing&&(t=this._get(i,"showAnim"),n=this._get(i,"duration"),e=function(){$.datepicker._tidyDialog(i)},$.effects&&$.effects[t]?i.dpDiv.hide(t,$.datepicker._get(i,"showOptions"),n,e):i.dpDiv["slideDown"==t?"slideUp":"fadeIn"==t?"fadeOut":"hide"](t?n:null,e),t||e(),this._datepickerShowing=!1,(e=this._get(i,"onClose"))&&e.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){var t;$.datepicker._curInst&&(t=$(e.target),e=$.datepicker._getInst(t[0]),(t[0].id==$.datepicker._mainDivId||0!=t.parents("#"+$.datepicker._mainDivId).length||t.hasClass($.datepicker.markerClassName)||t.closest("."+$.datepicker._triggerClass).length||!$.datepicker._datepickerShowing||$.datepicker._inDialog&&$.blockUI)&&(!t.hasClass($.datepicker.markerClassName)||$.datepicker._curInst==e)||$.datepicker._hideDatepicker())},_adjustDate:function(e,t,n){var i=$(e),e=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(e,t+("M"==n?this._get(e,"showCurrentAtPos"):0),n),this._updateDatepicker(e))},_gotoToday:function(e){var t=$(e),n=this._getInst(t[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(e=new Date,n.selectedDay=e.getDate(),n.drawMonth=n.selectedMonth=e.getMonth(),n.drawYear=n.selectedYear=e.getFullYear()),this._notifyChange(n),this._adjustDate(t)},_selectMonthYear:function(e,t,n){var i=$(e),e=this._getInst(i[0]);e["selected"+("M"==n?"Month":"Year")]=e["draw"+("M"==n?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(i)},_selectDay:function(e,t,n,i){var o=$(e);$(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((o=this._getInst(o[0])).selectedDay=o.currentDay=$("a",i).html(),o.selectedMonth=o.currentMonth=t,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){e=$(e),this._getInst(e[0]);this._selectDate(e,"")},_selectDate:function(e,t){var n=$(e),e=this._getInst(n[0]);t=null!=t?t:this._formatDate(e),e.input&&e.input.val(t),this._updateAlternate(e);n=this._get(e,"onSelect");n?n.apply(e.input?e.input[0]:null,[t,e]):e.input&&e.input.trigger("change"),e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!=typeof e.input[0]&&e.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t,n,i,o=this._get(e,"altField");o&&(t=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),i=this.formatDate(t,n,this._getFormatConfig(e)),$(o).each(function(){$(this).val(i)}))},noWeekends:function(e){e=e.getDay();return[0<e&&e<6,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));e=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((e-t)/864e5)/7)+1},parseDate:function(t,o,e){if(null==t||null==o)throw"Invalid arguments";if(""==(o="object"==typeof o?o.toString():o+""))return null;function r(e){return(e=y+1<t.length&&t.charAt(y+1)==e)&&y++,e}function n(e){var t=r(e),e=new RegExp("^\\d{1,"+("@"==e?14:"!"==e?20:"y"==e&&t?4:"o"==e?3:2)+"}");if(!(e=o.substring(v).match(e)))throw"Missing number at position "+v;return v+=e[0].length,parseInt(e[0],10)}function i(e,t,n){var t=$.map(r(e)?n:t,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),i=-1;if($.each(t,function(e,t){var n=t[1];if(o.substr(v,n.length).toLowerCase()==n.toLowerCase())return i=t[0],v+=n.length,!1}),-1!=i)return i+1;throw"Unknown name at position "+v}function a(){if(o.charAt(v)!=t.charAt(y))throw"Unexpected literal at position "+v;v++}for(var s="string"!=typeof(s=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff)?s:(new Date).getFullYear()%100+parseInt(s,10),l=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,c=(e?e.dayNames:null)||this._defaults.dayNames,u=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,d=(e?e.monthNames:null)||this._defaults.monthNames,h=-1,f=-1,p=-1,m=-1,g=!1,v=0,y=0;y<t.length;y++)if(g)"'"!=t.charAt(y)||r("'")?a():g=!1;else switch(t.charAt(y)){case"d":p=n("d");break;case"D":i("D",l,c);break;case"o":m=n("o");break;case"m":f=n("m");break;case"M":f=i("M",u,d);break;case"y":h=n("y");break;case"@":var b,h=(b=new Date(n("@"))).getFullYear(),f=b.getMonth()+1,p=b.getDate();break;case"!":h=(b=new Date((n("!")-this._ticksTo1970)/1e4)).getFullYear(),f=b.getMonth()+1,p=b.getDate();break;case"'":r("'")?a():g=!0;break;default:a()}if(v<o.length)throw"Extra/unparsed characters found in date: "+o.substring(v);if(-1==h?h=(new Date).getFullYear():h<100&&(h+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h<=s?0:-100)),-1<m)for(f=1,p=m;;){var x=this._getDaysInMonth(h,f-1);if(p<=x)break;f++,p-=x}if((b=this._daylightSavingAdjust(new Date(h,f-1,p))).getFullYear()!=h||b.getMonth()+1!=f||b.getDate()!=p)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";function o(e){return(e=h+1<t.length&&t.charAt(h+1)==e)&&h++,e}function i(e,t,n){var i=""+t;if(o(e))for(;i.length<n;)i="0"+i;return i}function r(e,t,n,i){return(o(e)?i:n)[t]}var a=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,l=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,c=(n?n.monthNames:null)||this._defaults.monthNames,u="",d=!1;if(e)for(var h=0;h<t.length;h++)if(d)"'"!=t.charAt(h)||o("'")?u+=t.charAt(h):d=!1;else switch(t.charAt(h)){case"d":u+=i("d",e.getDate(),2);break;case"D":u+=r("D",e.getDay(),a,s);break;case"o":u+=i("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=i("m",e.getMonth()+1,2);break;case"M":u+=r("M",e.getMonth(),l,c);break;case"y":u+=o("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":o("'")?u+="'":d=!0;break;default:u+=t.charAt(h)}return u},_possibleChars:function(t){function e(e){return(e=o+1<t.length&&t.charAt(o+1)==e)&&o++,e}for(var n="",i=!1,o=0;o<t.length;o++)if(i)"'"!=t.charAt(o)||e("'")?n+=t.charAt(o):i=!1;else switch(t.charAt(o)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":e("'")?n+="'":i=!0;break;default:n+=t.charAt(o)}return n},_get:function(e,t){return(e.settings[t]!==undefined?e.settings:this._defaults)[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var n,i=this._get(e,"dateFormat"),o=e.lastVal=e.input?e.input.val():null,r=n=this._getDefaultDate(e),a=this._getFormatConfig(e);try{r=this.parseDate(i,o,a)||n}catch(e){this.log(e),o=t?"":o}e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),e.currentDay=o?r.getDate():0,e.currentMonth=o?r.getMonth():0,e.currentYear=o?r.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(s,e,t){var n,i,e=null==e||""===e?t:"string"==typeof e?function(e){try{return $.datepicker.parseDate($.datepicker._get(s,"dateFormat"),e,$.datepicker._getFormatConfig(s))}catch(e){}for(var t=(e.toLowerCase().match(/^c/)?$.datepicker._getDate(s):null)||new Date,n=t.getFullYear(),i=t.getMonth(),o=t.getDate(),r=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=r.exec(e);a;){switch(a[2]||"d"){case"d":case"D":o+=parseInt(a[1],10);break;case"w":case"W":o+=7*parseInt(a[1],10);break;case"m":case"M":i+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(n,i))}a=r.exec(e)}return new Date(n,i,o)}(e):"number"==typeof e?isNaN(e)?t:(n=e,(i=new Date).setDate(i.getDate()+n),i):new Date(e.getTime());return(e=e&&"Invalid Date"==e.toString()?t:e)&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),this._daylightSavingAdjust(e)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,o=e.selectedMonth,r=e.selectedYear,t=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=t.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=t.getMonth(),e.drawYear=e.selectedYear=e.currentYear=t.getFullYear(),o==e.selectedMonth&&r==e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date,t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate())),n=this._get(e,"isRTL"),i=this._get(e,"showButtonPanel"),o=this._get(e,"hideIfNoPrevNext"),r=this._get(e,"navigationAsDateFormat"),a=this._getNumberOfMonths(e),s=this._get(e,"showCurrentAtPos"),l=this._get(e,"stepMonths"),c=1!=a[0]||1!=a[1],u=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),d=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),f=e.drawMonth-s,p=e.drawYear;if(f<0&&(f+=12,p--),h)for(var m=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-a[0]*a[1]+1,h.getDate())),m=d&&m<d?d:m;this._daylightSavingAdjust(new Date(p,f,1))>m;)--f<0&&(f=11,p--);e.drawMonth=f,e.drawYear=p;for(var s=this._get(e,"prevText"),s=r?this.formatDate(s,this._daylightSavingAdjust(new Date(p,f-l,1)),this._getFormatConfig(e)):s,g=this._canAdjustMonth(e,-1,p,f)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+s+"</span></a>":o?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+s+"</span></a>",s=this._get(e,"nextText"),s=r?this.formatDate(s,this._daylightSavingAdjust(new Date(p,f+l,1)),this._getFormatConfig(e)):s,v=this._canAdjustMonth(e,1,p,f)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+s+"</span></a>":o?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+s+"</span></a>",o=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?u:t,o=r?this.formatDate(o,s,this._getFormatConfig(e)):o,r=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",r=i?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?r:"")+(this._isInRange(e,s)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+o+"</button>":"")+(n?"":r)+"</div>":"",y=parseInt(this._get(e,"firstDay"),10),y=isNaN(y)?0:y,b=this._get(e,"showWeek"),x=this._get(e,"dayNames"),w=(this._get(e,"dayNamesShort"),this._get(e,"dayNamesMin")),k=this._get(e,"monthNames"),C=this._get(e,"monthNamesShort"),_=this._get(e,"beforeShowDay"),T=this._get(e,"showOtherMonths"),S=this._get(e,"selectOtherMonths"),D=(this._get(e,"calculateWeek")||this.iso8601Week,this._getDefaultDate(e)),A="",M=0;M<a[0];M++){var E="";this.maxRows=4;for(var N=0;N<a[1];N++){var P=this._daylightSavingAdjust(new Date(p,f,e.selectedDay)),I=" ui-corner-all",R="";if(c){if(R+='<div class="ui-datepicker-group',1<a[1])switch(N){case 0:R+=" ui-datepicker-group-first",I=" ui-corner-"+(n?"right":"left");break;case a[1]-1:R+=" ui-datepicker-group-last",I=" ui-corner-"+(n?"left":"right");break;default:R+=" ui-datepicker-group-middle",I=""}R+='">'}R+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+I+'">'+(/all|left/.test(I)&&0==M?n?v:g:"")+(/all|right/.test(I)&&0==M?n?g:v:"")+this._generateMonthYearHeader(e,f,p,d,h,0<M||0<N,k,C)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var O=b?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"",L=0;L<7;L++){var B=(L+y)%7;O+="<th"+(5<=(L+y+6)%7?' class="ui-datepicker-week-end"':"")+'><span title="'+x[B]+'">'+w[B]+"</span></th>"}R+=O+"</tr></thead><tbody>";var H=this._getDaysInMonth(p,f);p==e.selectedYear&&f==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,H));var I=(this._getFirstDayOfMonth(p,f)-y+7)%7,H=Math.ceil((I+H)/7),z=c&&this.maxRows>H?this.maxRows:H;this.maxRows=z;for(var j=this._daylightSavingAdjust(new Date(p,f,1-I)),F=0;F<z;F++){R+="<tr>";for(var W=b?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(j)+"</td>":"",L=0;L<7;L++){var U=_?_.apply(e.input?e.input[0]:null,[j]):[!0,""],Y=j.getMonth()!=f,q=Y&&!S||!U[0]||d&&j<d||h&&h<j;W+='<td class="'+(5<=(L+y+6)%7?" ui-datepicker-week-end":"")+(Y?" ui-datepicker-other-month":"")+(j.getTime()==P.getTime()&&f==e.selectedMonth&&e._keyEvent||D.getTime()==j.getTime()&&D.getTime()==P.getTime()?" "+this._dayOverClass:"")+(q?" "+this._unselectableClass+" ui-state-disabled":"")+(Y&&!T?"":" "+U[1]+(j.getTime()==u.getTime()?" "+this._currentClass:"")+(j.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(Y&&!T||!U[2]?"":' title="'+U[2]+'"')+(q?"":' data-handler="selectDay" data-event="click" data-month="'+j.getMonth()+'" data-year="'+j.getFullYear()+'"')+">"+(Y&&!T?"&#xa0;":q?'<span class="ui-state-default">'+j.getDate()+"</span>":'<a class="ui-state-default'+(j.getTime()==t.getTime()?" ui-state-highlight":"")+(j.getTime()==u.getTime()?" ui-state-active":"")+(Y?" ui-priority-secondary":"")+'" href="#">'+j.getDate()+"</a>")+"</td>",j.setDate(j.getDate()+1),j=this._daylightSavingAdjust(j)}R+=W+"</tr>"}11<++f&&(f=0,p++),E+=R+="</tbody></table>"+(c?"</div>"+(0<a[0]&&N==a[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"")}A+=E}return A+=r+($.browser.msie&&parseInt($.browser.version,10)<7&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,A},_generateMonthYearHeader:function(e,t,n,i,o,r,a,s){var l=this._get(e,"changeMonth"),c=this._get(e,"changeYear"),u=this._get(e,"showMonthAfterYear"),d='<div class="ui-datepicker-title">',h="";if(r||!l)h+='<span class="ui-datepicker-month">'+a[t]+"</span>";else{var f=i&&i.getFullYear()==n,p=o&&o.getFullYear()==n;h+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var m=0;m<12;m++)(!f||m>=i.getMonth())&&(!p||m<=o.getMonth())&&(h+='<option value="'+m+'"'+(m==t?' selected="selected"':"")+">"+s[m]+"</option>");h+="</select>"}if(u||(d+=h+(!r&&l&&c?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!c)d+='<span class="ui-datepicker-year">'+n+"</span>";else{var g=this._get(e,"yearRange").split(":"),v=(new Date).getFullYear(),a=function(e){e=e.match(/c[+-].*/)?n+parseInt(e.substring(1),10):e.match(/[+-].*/)?v+parseInt(e,10):parseInt(e,10);return isNaN(e)?v:e},y=a(g[0]),b=Math.max(y,a(g[1]||"")),y=i?Math.max(y,i.getFullYear()):y,b=o?Math.min(b,o.getFullYear()):b;for(e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';y<=b;y++)e.yearshtml+='<option value="'+y+'"'+(y==n?' selected="selected"':"")+">"+y+"</option>";e.yearshtml+="</select>",d+=e.yearshtml,e.yearshtml=null}return d+=this._get(e,"yearSuffix"),u&&(d+=(!r&&l&&c?"":"&#xa0;")+h),d+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"==n?t:0),o=e.drawMonth+("M"==n?t:0),t=Math.min(e.selectedDay,this._getDaysInMonth(i,o))+("D"==n?t:0),t=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,o,t)));e.selectedDay=t.getDate(),e.drawMonth=e.selectedMonth=t.getMonth(),e.drawYear=e.selectedYear=t.getFullYear(),"M"!=n&&"Y"!=n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),e=this._getMinMaxDate(e,"max"),t=n&&t<n?n:t;return t=e&&e<t?e:t},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){e=this._get(e,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var o=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(t<0?t:o[0]*o[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n=this._getMinMaxDate(e,"min"),e=this._getMinMaxDate(e,"max");return(!n||t.getTime()>=n.getTime())&&(!e||t.getTime()<=e.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);t=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),t,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"==typeof e&&("isDisabled"==e||"getDate"==e||"widget"==e)||"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)})},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.24",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(n){n.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),n.Widget.prototype.destroy.apply(this,arguments)},value:function(e){return void 0===e?this._value():(this._setOption("value",e),this)},_setOption:function(e,t){"value"===e&&(this.options.value=t,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),n.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}}),n.extend(n.ui.progressbar,{version:"1.8.24"})}(jQuery),jQuery.effects||function(c){function i(e){var t;return e&&e.constructor==Array&&3==e.length?e:(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]:(t=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3])]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:(t=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]:(t=/rgba\(0, 0, 0, 0\)/.exec(e))?o.transparent:o[c.trim(e).toLowerCase()]}function u(){var e,t=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,n={};if(t&&t.length&&t[0]&&t[t[0]])for(var i=t.length;i--;)"string"==typeof t[e=t[i]]&&(n[e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})]=t[e]);else for(e in t)"string"==typeof t[e]&&(n[e]=t[e]);return n}function d(e){var t,n;for(t in e)n=e[t],(null==n||c.isFunction(n)||t in r||/scrollbar/.test(t)||!/color/i.test(t)&&isNaN(parseFloat(n)))&&delete e[t];return e}function s(e,t,n,i){return"object"==typeof e&&(i=t,n=null,e=(t=e).effect),c.isFunction(t)&&(i=t,n=null,t={}),"number"!=typeof t&&!c.fx.speeds[t]||(i=n,n=t,t={}),c.isFunction(n)&&(i=n,n=null),t=t||{},n=n||t.duration,[e,t,n=c.fx.off?0:"number"==typeof n?n:n in c.fx.speeds?c.fx.speeds[n]:c.fx.speeds._default,i=i||t.complete]}function n(e){return!e||"number"==typeof e||c.fx.speeds[e]||"string"==typeof e&&!c.effects[e]}c.effects={},c.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(e,t){c.fx.step[t]=function(e){e.colorInit||(e.start=function(e,t){var n;do{if(""!=(n=(c.curCSS||c.css)(e,t))&&"transparent"!=n||c.nodeName(e,"body"))break;t="backgroundColor"}while(e=e.parentNode);return i(n)}(e.elem,t),e.end=i(e.end),e.colorInit=!0),e.elem.style[t]="rgb("+Math.max(Math.min(parseInt(e.pos*(e.end[0]-e.start[0])+e.start[0],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[1]-e.start[1])+e.start[1],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[2]-e.start[2])+e.start[2],10),255),0)+")"}});var o={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},h=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};c.effects.animateClass=function(r,a,s,l){return c.isFunction(s)&&(l=s,s=null),this.queue(function(){var e,n=c(this),t=n.attr("style")||" ",i=d(u.call(this)),o=n.attr("class")||"";c.each(h,function(e,t){r[t]&&n[t+"Class"](r[t])}),e=d(u.call(this)),n.attr("class",o),n.animate(function(e,t){var n,i={_:0};for(n in t)e[n]!=t[n]&&(i[n]=t[n]);return i}(i,e),{queue:!1,duration:a,easing:s,complete:function(){c.each(h,function(e,t){r[t]&&n[t+"Class"](r[t])}),"object"==typeof n.attr("style")?(n.attr("style").cssText="",n.attr("style").cssText=t):n.attr("style",t),l&&l.apply(this,arguments),c.dequeue(this)}})})},c.fn.extend({_addClass:c.fn.addClass,addClass:function(e,t,n,i){return t?c.effects.animateClass.apply(this,[{add:e},t,n,i]):this._addClass(e)},_removeClass:c.fn.removeClass,removeClass:function(e,t,n,i){return t?c.effects.animateClass.apply(this,[{remove:e},t,n,i]):this._removeClass(e)},_toggleClass:c.fn.toggleClass,toggleClass:function(e,t,n,i,o){return"boolean"==typeof t||void 0===t?n?c.effects.animateClass.apply(this,[t?{add:e}:{remove:e},n,i,o]):this._toggleClass(e,t):c.effects.animateClass.apply(this,[{toggle:e},t,n,i])},switchClass:function(e,t,n,i,o){return c.effects.animateClass.apply(this,[{add:t,remove:e},n,i,o])}}),c.extend(c.effects,{version:"1.8.24",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data("ec.storage."+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.css(t[n],e.data("ec.storage."+t[n]))},setMode:function(e,t){return"toggle"==t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},e=c("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t=document.activeElement;try{t.id}catch(e){t=document.body}return n.wrap(e),n[0]!==t&&!c.contains(n[0],t)||c(t).focus(),e=n.parent(),"static"==n.css("position")?(e.css({position:"relative"}),n.css({position:"relative"})):(c.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),c.each(["top","left","bottom","right"],function(e,t){i[t]=n.css(t),isNaN(parseInt(i[t],10))&&(i[t]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(i).show()},removeWrapper:function(e){var t,n=document.activeElement;return e.parent().is(".ui-effects-wrapper")?(t=e.parent().replaceWith(e),e[0]!==n&&!c.contains(e[0],n)||c(n).focus(),t):e},setTransition:function(i,e,o,r){return r=r||{},c.each(e,function(e,t){var n=i.cssUnit(t);0<n[0]&&(r[t]=n[0]*o+n[1])}),r}}),c.fn.extend({effect:function(e,t,n,i){var o=s.apply(this,arguments),r={options:o[1],duration:o[2],callback:o[3]},a=r.options.mode,o=c.effects[e];return c.fx.off||!o?a?this[a](r.duration,r.callback):this.each(function(){r.callback&&r.callback.call(this)}):o.call(this,r)},_show:c.fn.show,show:function(e){if(n(e))return this._show.apply(this,arguments);var t=s.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:c.fn.hide,hide:function(e){if(n(e))return this._hide.apply(this,arguments);var t=s.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:c.fn.toggle,toggle:function(e){if(n(e)||"boolean"==typeof e||c.isFunction(e))return this.__toggle.apply(this,arguments);var t=s.apply(this,arguments);return t[1].mode="toggle",this.effect.apply(this,t)},cssUnit:function(e){var n=this.css(e),i=[];return c.each(["em","px","%","pt"],function(e,t){0<n.indexOf(t)&&(i=[parseFloat(n),t])}),i}});var a={};c.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){a[e]=function(e){return Math.pow(e,t+2)}}),c.extend(a,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),c.each(a,function(e,t){c.easing["easeIn"+e]=t,c.easing["easeOut"+e]=function(e){return 1-t(1-e)},c.easing["easeInOut"+e]=function(e){return e<.5?t(2*e)/2:t(-2*e+2)/-2+1}})}(jQuery),function(l){l.effects.blind=function(s){return this.queue(function(){var e=l(this),t=["position","top","bottom","left","right"],n=l.effects.setMode(e,s.options.mode||"hide"),i=s.options.direction||"vertical";l.effects.save(e,t),e.show();var o=l.effects.createWrapper(e).css({overflow:"hidden"}),r="vertical"==i?"height":"width",a="vertical"==i?o.height():o.width();"show"==n&&o.css(r,0);i={};i[r]="show"==n?a:0,o.animate(i,s.duration,s.options.easing,function(){"hide"==n&&e.hide(),l.effects.restore(e,t),l.effects.removeWrapper(e),s.callback&&s.callback.apply(e[0],arguments),e.dequeue()})})}}(jQuery),function(p){p.effects.bounce=function(f){return this.queue(function(){var e=p(this),t=["position","top","bottom","left","right"],n=p.effects.setMode(e,f.options.mode||"effect"),i=f.options.direction||"up",o=f.options.distance||20,r=f.options.times||5,a=f.duration||250;/show|hide/.test(n)&&t.push("opacity"),p.effects.save(e,t),e.show(),p.effects.createWrapper(e);var s="up"==i||"down"==i?"top":"left",l="up"==i||"left"==i?"pos":"neg",o=f.options.distance||("top"==s?e.outerHeight(!0)/3:e.outerWidth(!0)/3);"show"==n&&e.css("opacity",0).css(s,"pos"==l?-o:o),"hide"==n&&(o/=2*r),"hide"!=n&&r--,"show"==n&&((c={opacity:1})[s]=("pos"==l?"+=":"-=")+o,e.animate(c,a/2,f.options.easing),o/=2,r--);for(var c,u=0;u<r;u++){var d,h={};(d={})[s]=("pos"==l?"-=":"+=")+o,h[s]=("pos"==l?"+=":"-=")+o,e.animate(d,a/2,f.options.easing).animate(h,a/2,f.options.easing),o="hide"==n?2*o:o/2}"hide"==n?((c={opacity:0})[s]=("pos"==l?"-=":"+=")+o,e.animate(c,a/2,f.options.easing,function(){e.hide(),p.effects.restore(e,t),p.effects.removeWrapper(e),f.callback&&f.callback.apply(this,arguments)})):(h={},(d={})[s]=("pos"==l?"-=":"+=")+o,h[s]=("pos"==l?"+=":"-=")+o,e.animate(d,a/2,f.options.easing).animate(h,a/2,f.options.easing,function(){p.effects.restore(e,t),p.effects.removeWrapper(e),f.callback&&f.callback.apply(this,arguments)})),e.queue("fx",function(){e.dequeue()}),e.dequeue()})}}(jQuery),function(l){l.effects.clip=function(s){return this.queue(function(){var e=l(this),t=["position","top","bottom","left","right","height","width"],n=l.effects.setMode(e,s.options.mode||"hide"),i=s.options.direction||"vertical";l.effects.save(e,t),e.show();var o=l.effects.createWrapper(e).css({overflow:"hidden"}),r="IMG"==e[0].tagName?o:e,a={size:"vertical"==i?"height":"width",position:"vertical"==i?"top":"left"},o="vertical"==i?r.height():r.width();"show"==n&&(r.css(a.size,0),r.css(a.position,o/2));i={};i[a.size]="show"==n?o:0,i[a.position]="show"==n?0:o/2,r.animate(i,{queue:!1,duration:s.duration,easing:s.options.easing,complete:function(){"hide"==n&&e.hide(),l.effects.restore(e,t),l.effects.removeWrapper(e),s.callback&&s.callback.apply(e[0],arguments),e.dequeue()}})})}}(jQuery),function(l){l.effects.drop=function(s){return this.queue(function(){var e=l(this),t=["position","top","bottom","left","right","opacity"],n=l.effects.setMode(e,s.options.mode||"hide"),i=s.options.direction||"left";l.effects.save(e,t),e.show(),l.effects.createWrapper(e);var o="up"==i||"down"==i?"top":"left",r="up"==i||"left"==i?"pos":"neg",a=s.options.distance||("top"==o?e.outerHeight(!0)/2:e.outerWidth(!0)/2);"show"==n&&e.css("opacity",0).css(o,"pos"==r?-a:a);i={opacity:"show"==n?1:0};i[o]=("show"==n?"pos"==r?"+=":"-=":"pos"==r?"-=":"+=")+a,e.animate(i,{queue:!1,duration:s.duration,easing:s.options.easing,complete:function(){"hide"==n&&e.hide(),l.effects.restore(e,t),l.effects.removeWrapper(e),s.callback&&s.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(c){c.effects.explode=function(l){return this.queue(function(){var e=l.options.pieces?Math.round(Math.sqrt(l.options.pieces)):3,t=l.options.pieces?Math.round(Math.sqrt(l.options.pieces)):3;l.options.mode="toggle"==l.options.mode?c(this).is(":visible")?"hide":"show":l.options.mode;var n=c(this).show().css("visibility","hidden"),i=n.offset();i.top-=parseInt(n.css("marginTop"),10)||0,i.left-=parseInt(n.css("marginLeft"),10)||0;for(var o=n.outerWidth(!0),r=n.outerHeight(!0),a=0;a<e;a++)for(var s=0;s<t;s++)n.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:o/t*-s,top:r/e*-a}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:o/t,height:r/e,left:i.left+s*(o/t)+("show"==l.options.mode?(s-Math.floor(t/2))*(o/t):0),top:i.top+a*(r/e)+("show"==l.options.mode?(a-Math.floor(e/2))*(r/e):0),opacity:"show"==l.options.mode?0:1}).animate({left:i.left+s*(o/t)+("show"==l.options.mode?0:(s-Math.floor(t/2))*(o/t)),top:i.top+a*(r/e)+("show"==l.options.mode?0:(a-Math.floor(e/2))*(r/e)),opacity:"show"==l.options.mode?1:0},l.duration||500);setTimeout(function(){"show"==l.options.mode?n.css({visibility:"visible"}):n.css({visibility:"visible"}).hide(),l.callback&&l.callback.apply(n[0]),n.dequeue(),c("div.ui-effects-explode").remove()},l.duration||500)})}}(jQuery),function(i){i.effects.fade=function(n){return this.queue(function(){var e=i(this),t=i.effects.setMode(e,n.options.mode||"hide");e.animate({opacity:t},{queue:!1,duration:n.duration,easing:n.options.easing,complete:function(){n.callback&&n.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(d){d.effects.fold=function(u){return this.queue(function(){var e=d(this),t=["position","top","bottom","left","right"],n=d.effects.setMode(e,u.options.mode||"hide"),i=u.options.size||15,o=!!u.options.horizFirst,r=u.duration?u.duration/2:d.fx.speeds._default/2;d.effects.save(e,t),e.show();var a=d.effects.createWrapper(e).css({overflow:"hidden"}),s="show"==n!=o,l=s?["width","height"]:["height","width"],c=s?[a.width(),a.height()]:[a.height(),a.width()],s=/([0-9]+)%/.exec(i);s&&(i=parseInt(s[1],10)/100*c["hide"==n?0:1]),"show"==n&&a.css(o?{height:0,width:i}:{height:i,width:0});s={},o={};s[l[0]]="show"==n?c[0]:i,o[l[1]]="show"==n?c[1]:0,a.animate(s,r,u.options.easing).animate(o,r,u.options.easing,function(){"hide"==n&&e.hide(),d.effects.restore(e,t),d.effects.removeWrapper(e),u.callback&&u.callback.apply(e[0],arguments),e.dequeue()})})}}(jQuery),function(r){r.effects.highlight=function(o){return this.queue(function(){var e=r(this),t=["backgroundImage","backgroundColor","opacity"],n=r.effects.setMode(e,o.options.mode||"show"),i={backgroundColor:e.css("backgroundColor")};"hide"==n&&(i.opacity=0),r.effects.save(e,t),e.show().css({backgroundImage:"none",backgroundColor:o.options.color||"#ffff99"}).animate(i,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==n&&e.hide(),r.effects.restore(e,t),"show"!=n||r.support.opacity||this.style.removeAttribute("filter"),o.callback&&o.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(l){l.effects.pulsate=function(s){return this.queue(function(){var e=l(this),t=l.effects.setMode(e,s.options.mode||"show"),n=2*(s.options.times||5)-1,i=s.duration?s.duration/2:l.fx.speeds._default/2,o=e.is(":visible"),r=0;o||(e.css("opacity",0).show(),r=1),("hide"==t&&o||"show"==t&&!o)&&n--;for(var a=0;a<n;a++)e.animate({opacity:r},i,s.options.easing),r=(r+1)%2;e.animate({opacity:r},i,s.options.easing,function(){0==r&&e.hide(),s.callback&&s.callback.apply(this,arguments)}),e.queue("fx",function(){e.dequeue()}).dequeue()})}}(jQuery),function(p){p.effects.puff=function(r){return this.queue(function(){var e=p(this),t=p.effects.setMode(e,r.options.mode||"hide"),n=parseInt(r.options.percent,10)||150,i=n/100,o={height:e.height(),width:e.width()};p.extend(r.options,{fade:!0,mode:t,percent:"hide"==t?n:100,from:"hide"==t?o:{height:o.height*i,width:o.width*i}}),e.effect("scale",r.options,r.duration,r.callback),e.dequeue()})},p.effects.scale=function(s){return this.queue(function(){var e=p(this),t=p.extend(!0,{},s.options),n=p.effects.setMode(e,s.options.mode||"effect"),i=parseInt(s.options.percent,10)||(0==parseInt(s.options.percent,10)||"hide"==n?0:100),o=s.options.direction||"both",r=s.options.origin;"effect"!=n&&(t.origin=r||["middle","center"],t.restore=!0);var a={height:e.height(),width:e.width()};e.from=s.options.from||("show"==n?{height:0,width:0}:a);r="horizontal"!=o?i/100:1,i="vertical"!=o?i/100:1;e.to={height:a.height*r,width:a.width*i},s.options.fade&&("show"==n&&(e.from.opacity=0,e.to.opacity=1),"hide"==n&&(e.from.opacity=1,e.to.opacity=0)),t.from=e.from,t.to=e.to,t.mode=n,e.effect("size",t,s.duration,s.callback),e.dequeue()})},p.effects.size=function(f){return this.queue(function(){var i,e=p(this),t=["position","top","bottom","left","right","width","height","overflow","opacity"],n=["position","top","bottom","left","right","overflow","opacity"],o=["fontSize"],r=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],a=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],s=p.effects.setMode(e,f.options.mode||"effect"),l=f.options.restore||!1,c=f.options.scale||"both",u=f.options.origin,d={height:e.height(),width:e.width()};e.from=f.options.from||d,e.to=f.options.to||d,u&&(u=p.effects.getBaseline(u,d),e.from.top=(d.height-e.from.height)*u.y,e.from.left=(d.width-e.from.width)*u.x,e.to.top=(d.height-e.to.height)*u.y,e.to.left=(d.width-e.to.width)*u.x);var h={from:{y:e.from.height/d.height,x:e.from.width/d.width},to:{y:e.to.height/d.height,x:e.to.width/d.width}};"box"!=c&&"both"!=c||(h.from.y!=h.to.y&&(t=t.concat(r),e.from=p.effects.setTransition(e,r,h.from.y,e.from),e.to=p.effects.setTransition(e,r,h.to.y,e.to)),h.from.x!=h.to.x&&(t=t.concat(a),e.from=p.effects.setTransition(e,a,h.from.x,e.from),e.to=p.effects.setTransition(e,a,h.to.x,e.to))),"content"!=c&&"both"!=c||h.from.y==h.to.y||(t=t.concat(o),e.from=p.effects.setTransition(e,o,h.from.y,e.from),e.to=p.effects.setTransition(e,o,h.to.y,e.to)),p.effects.save(e,l?t:n),e.show(),p.effects.createWrapper(e),e.css("overflow","hidden").css(e.from),"content"!=c&&"both"!=c||(r=r.concat(["marginTop","marginBottom"]).concat(o),a=a.concat(["marginLeft","marginRight"]),i=t.concat(r).concat(a),e.find("*[width]").each(function(){var e=p(this);l&&p.effects.save(e,i);var t=e.height(),n=e.width();e.from={height:t*h.from.y,width:n*h.from.x},e.to={height:t*h.to.y,width:n*h.to.x},h.from.y!=h.to.y&&(e.from=p.effects.setTransition(e,r,h.from.y,e.from),e.to=p.effects.setTransition(e,r,h.to.y,e.to)),h.from.x!=h.to.x&&(e.from=p.effects.setTransition(e,a,h.from.x,e.from),e.to=p.effects.setTransition(e,a,h.to.x,e.to)),e.css(e.from),e.animate(e.to,f.duration,f.options.easing,function(){l&&p.effects.restore(e,i)})})),e.animate(e.to,{queue:!1,duration:f.duration,easing:f.options.easing,complete:function(){0===e.to.opacity&&e.css("opacity",e.from.opacity),"hide"==s&&e.hide(),p.effects.restore(e,l?t:n),p.effects.removeWrapper(e),f.callback&&f.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(h){h.effects.shake=function(d){return this.queue(function(){var e=h(this),t=["position","top","bottom","left","right"],n=(h.effects.setMode(e,d.options.mode||"effect"),d.options.direction||"left"),i=d.options.distance||20,o=d.options.times||3,r=d.duration||d.options.duration||140;h.effects.save(e,t),e.show(),h.effects.createWrapper(e);var a="up"==n||"down"==n?"top":"left",s="up"==n||"left"==n?"pos":"neg",n={},l={},c={};n[a]=("pos"==s?"-=":"+=")+i,l[a]=("pos"==s?"+=":"-=")+2*i,c[a]=("pos"==s?"-=":"+=")+2*i,e.animate(n,r,d.options.easing);for(var u=1;u<o;u++)e.animate(l,r,d.options.easing).animate(c,r,d.options.easing);e.animate(l,r,d.options.easing).animate(n,r/2,d.options.easing,function(){h.effects.restore(e,t),h.effects.removeWrapper(e),d.callback&&d.callback.apply(this,arguments)}),e.queue("fx",function(){e.dequeue()}),e.dequeue()})}}(jQuery),function(l){l.effects.slide=function(s){return this.queue(function(){var e=l(this),t=["position","top","bottom","left","right"],n=l.effects.setMode(e,s.options.mode||"show"),i=s.options.direction||"left";l.effects.save(e,t),e.show(),l.effects.createWrapper(e).css({overflow:"hidden"});var o="up"==i||"down"==i?"top":"left",r="up"==i||"left"==i?"pos":"neg",a=s.options.distance||("top"==o?e.outerHeight(!0):e.outerWidth(!0));"show"==n&&e.css(o,"pos"==r?isNaN(a)?"-"+a:-a:a);i={};i[o]=("show"==n?"pos"==r?"+=":"-=":"pos"==r?"-=":"+=")+a,e.animate(i,{queue:!1,duration:s.duration,easing:s.options.easing,complete:function(){"hide"==n&&e.hide(),l.effects.restore(e,t),l.effects.removeWrapper(e),s.callback&&s.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(r){r.effects.transfer=function(o){return this.queue(function(){var e=r(this),t=r(o.options.to),n=t.offset(),n={top:n.top,left:n.left,height:t.innerHeight(),width:t.innerWidth()},t=e.offset(),i=r('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(o.options.className).css({top:t.top,left:t.left,height:e.innerHeight(),width:e.innerWidth(),position:"absolute"}).animate(n,o.duration,o.options.easing,function(){i.remove(),o.callback&&o.callback.apply(e[0],arguments),e.dequeue()})})}}(jQuery),function(o){o.fn.iframeAutoHeight=function(n,i){n=o.extend({heightOffset:0},n);o(this).each(function(){var e;function t(e){var t;t=o.browser.msie?e.contentWindow.document.body.scrollHeight+n.heightOffset:e.contentWindow.document.body.offsetHeight+n.heightOffset,e.style.height=t+"px",i&&i(t)}o.browser.safari||o.browser.opera?(o(this).load(function(){var e=this;setTimeout(function(){t(e)},0)}),e=o(this).attr("src"),o(this).attr("src",""),o(this).attr("src",e)):o(this).load(function(){t(this)})})}}(jQuery),jQuery.cookie=function(e,t,n){if(void 0===t){var i=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),r=0;r<o.length;r++){var a=jQuery.trim(o[r]);if(a.substring(0,e.length+1)==e+"="){i=decodeURIComponent(a.substring(e.length+1));break}}return i}n=n||{},null===t&&(t="",n.expires=-1);var s="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(c=new Date).setTime(c.getTime()+24*n.expires*60*60*1e3):c=n.expires,s="; expires="+c.toUTCString());var l=n.path?"; path="+n.path:"",c=n.domain?"; domain="+n.domain:"",n=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),s,l,c,n].join("")},function(o){var m=o.scrollTo=function(e,t,n){o(window).scrollTo(e,t,n)};function e(e){return"object"==typeof e?e:{top:e,left:e}}m.defaults={axis:"xy",duration:1.3<=parseFloat(o.fn.jquery)?0:1},m.window=function(e){return o(window)._scrollable()},o.fn._scrollable=function(){return this.map(function(){if(!(!this.nodeName||-1!=o.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"])))return this;var e=(this.contentWindow||this).document||this.ownerDocument||this;return o.browser.safari||"BackCompat"==e.compatMode?e.body:e.documentElement})},o.fn.scrollTo=function(t,n,p){return"object"==typeof n&&(p=n,n=0),"function"==typeof p&&(p={onAfter:p}),"max"==t&&(t=9e9),p=o.extend({},m.defaults,p),n=n||p.speed||p.duration,p.queue=p.queue&&1<p.axis.length,p.queue&&(n/=2),p.offset=e(p.offset),p.over=e(p.over),this._scrollable().each(function(){var s,l=this,c=o(l),u=t,d={},h=c.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(u)){u=e(u);break}u=o(u,this);case"object":(u.is||u.style)&&(s=(u=o(u)).offset())}function f(e){c.animate(d,n,p.easing,e&&function(){e.call(this,t,p)})}o.each(p.axis.split(""),function(e,t){var n="x"==t?"Left":"Top",i=n.toLowerCase(),o="scroll"+n,r=l[o],a=m.max(l,t);s?(d[o]=s[i]+(h?0:r-c.offset()[i]),p.margin&&(d[o]-=parseInt(u.css("margin"+n))||0,d[o]-=parseInt(u.css("border"+n+"Width"))||0),d[o]+=p.offset[i]||0,p.over[i]&&(d[o]+=u["x"==t?"width":"height"]()*p.over[i])):(i=u[i],d[o]=i.slice&&"%"==i.slice(-1)?parseFloat(i)/100*a:i),/^\d+$/.test(d[o])&&(d[o]=d[o]<=0?0:Math.min(d[o],a)),!e&&p.queue&&(r!=d[o]&&f(p.onAfterFirst),delete d[o])}),f(p.onAfter)}).end()},m.max=function(e,t){var n="x"==t?"Width":"Height",i="scroll"+n;if(!o(e).is("html,body"))return e[i]-o(e)[n.toLowerCase()]();t="client"+n,n=e.ownerDocument.documentElement,e=e.ownerDocument.body;return Math.max(n[i],e[i])-Math.min(n[t],e[t])}}(jQuery),function(e){e.url={},e.extend(e.url,{_params:{},init:function(){var e="";try{e=(document.location.href.split("?",2)[1]||"").split("#")[0].split("&")||[];for(var t=0;t<e.length;t++){var n=e[t].split("=");n[0]&&(this._params[n[0]]=unescape(n[1]))}}catch(e){alert(e)}},param:function(e){return this._params[e]||""},paramAll:function(){return this._params}}),e.url.init()}(jQuery),jQuery.fn.liveSearch=function(e){var r=jQuery.extend({url:"/search-results.php?q=",id:"jquery-live-search",duration:400,typeDelay:200,loadingClass:"loading",onSlideUp:function(){},onLoading:function(){},onResult:function(){},uptadePosition:!1,css:null,charactersCount:3},e),a=jQuery("#"+r.id),s=!1;a.length||(a=jQuery('<div id="'+r.id+'"></div>').appendTo(document.body).hide().slideUp(0));return jQuery(document.body).click(function(e){e=jQuery(e.target);e.is("#"+r.id)||e.parents("#"+r.id).length||e.is("input")||s&&(s=!1,a.slideUp(r.duration,function(){r.onSlideUp()}))}),this.each(function(){function e(){var e=o.offset();(e={left:e.left,top:e.top,width:o.outerWidth(),height:o.outerHeight()}).topPos=e.top+e.height,e.totalWidth=e.width-t,r.css?a.css(r.css):a.css({position:"absolute",left:e.left+"px",top:e.topPos+"px",width:e.totalWidth+"px"})}function n(){s=!0,e(),$(window).unbind("resize",e),$(window).bind("resize",e),a.slideDown(r.duration)}function i(){s=!1,a.slideUp(r.duration,null)}var o=jQuery(this).attr("autocomplete","off"),t=parseInt(a.css("paddingLeft"),10)+parseInt(a.css("paddingRight"),10)+parseInt(a.css("borderLeftWidth"),10)+parseInt(a.css("borderRightWidth"),10);o.focus(function(){""!==this.value&&(""==a.html()?(this.lastValue="",o.keyup()):setTimeout(n,1))}).keyup(function(){var t;this.value!=this.lastValue&&this.value.length>=r.charactersCount?(o.addClass(r.loadingClass),r.onLoading&&r.onLoading(),t=this.value,this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){jQuery.get(r.url+encodeURIComponent(t),function(e){o.removeClass(r.loadingClass),e&&e.js_inner_replace&&e.js_inner_replace.html&&(e=e.js_inner_replace.html),r.onResult&&r.onResult(),e.length&&t.length?(a.html(e),n()):i()})},r.typeDelay),this.lastValue=this.value):this.value.length<r.charactersCount&&i()})})},function($){function Timepicker(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",ampm:!1,timeFormat:"hh:mm tt",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",timezoneText:"Time Zone"},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showTimezone:!1,showTime:!0,stepHour:.05,stepMinute:.05,stepSecond:.05,hour:0,minute:0,second:0,timezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,hourMax:23,minuteMax:59,secondMax:59,minDateTime:null,maxDateTime:null,hourGrid:0,minuteGrid:0,secondGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,showTimepicker:!0,timezoneList:["-1100","-1000","-0900","-0800","-0700","-0600","-0500","-0400","-0300","-0200","-0100","+0000","+0100","+0200","+0300","+0400","+0500","+0600","+0700","+0800","+0900","+1000","+1100","+1200"]},$.extend(this._defaults,this.regional[""])}function extendRemove(e,t){for(var n in $.extend(e,t),t)null!==t[n]&&void 0!==t[n]||(e[n]=t[n]);return e}$.extend($.ui,{timepicker:{version:"0.9.4"}}),$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,timezone_select:null,hour:0,minute:0,second:0,timezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:["-1100","-1000","-0900","-0800","-0700","-0600","-0500","-0400","-0300","-0200","-0100","+0000","+0100","+0200","+0300","+0400","+0500","+0600","+0700","+0800","+0900","+1000","+1100","+1200"],setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function($input,o){var tp_inst=new Timepicker,inlineSettings={},attrName;for(attrName in this._defaults){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}return tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,{beforeShow:function(e,t){$.isFunction(o.beforeShow)&&o.beforeShow(e,t,tp_inst)},onChangeMonthYear:function(e,t,n){tp_inst._updateDateTime(n),$.isFunction(o.onChangeMonthYear)&&o.onChangeMonthYear.call($input[0],e,t,n,tp_inst)},onClose:function(e,t){!0===tp_inst.timeDefined&&""!=$input.val()&&tp_inst._updateDateTime(t),$.isFunction(o.onClose)&&o.onClose.call($input[0],e,t,tp_inst)},timepicker:tp_inst}),tp_inst.hour=tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second,tp_inst.ampm="",tp_inst.$input=$input,o.altField&&(tp_inst.$altInput=$(o.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst},_addTimePicker:function(e){var t=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker()},_parseTime:function(e,t){var n,i=this._defaults.timeFormat.toString().replace(/h{1,2}/gi,"(\\d?\\d)").replace(/m{1,2}/gi,"(\\d?\\d)").replace(/s{1,2}/gi,"(\\d?\\d)").replace(/t{1,2}/gi,"(am|pm|a|p)?").replace(/z{1}/gi,"((\\+|-)\\d\\d\\d\\d)?").replace(/\s/g,"\\s?")+"$",o=this._getFormatPositions();return this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),!t&&this._defaults.timeOnly||(n=$.datepicker._get(this.inst,"dateFormat"),t=new RegExp("[.*+?|()\\[\\]{}\\\\]","g"),i=".{"+n.length+",}"+this._defaults.separator.replace(t,"\\$&")+i),!!(i=e.match(new RegExp(i,"i")))&&(-1!==o.t&&(this.ampm=(void 0===i[o.t]||0===i[o.t].length?"":"A"==i[o.t].charAt(0).toUpperCase()?"AM":"PM").toUpperCase()),-1!==o.h&&("AM"==this.ampm&&"12"==i[o.h]?this.hour=0:"PM"==this.ampm&&"12"!=i[o.h]?this.hour=(parseFloat(i[o.h])+12).toFixed(0):this.hour=Number(i[o.h])),-1!==o.m&&(this.minute=Number(i[o.m])),-1!==o.s&&(this.second=Number(i[o.s])),-1!==o.z&&(this.timezone=i[o.z]),!0)},_getFormatPositions:function(){var e=this._defaults.timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|t{1,2}|z)/g),t={h:-1,m:-1,s:-1,t:-1,z:-1};if(e)for(var n=0;n<e.length;n++)-1==t[e[n].toString().charAt(0)]&&(t[e[n].toString().charAt(0)]=n+1);return t},_injectTimePicker:function(){var e=this.inst.dpDiv,i=this._defaults,o=this,t=(i.hourMax-i.hourMax%i.stepHour).toFixed(0),n=(i.minuteMax-i.minuteMax%i.stepMinute).toFixed(0),r=(i.secondMax-i.secondMax%i.stepSecond).toFixed(0),a=this.inst.id.toString().replace(/([^A-Za-z0-9_])/g,"");if(0===e.find("div#ui-timepicker-div-"+a).length&&i.showTimepicker){var s=' style="display:none;"',l='<div class="ui-timepicker-div" id="ui-timepicker-div-'+a+'"><dl><dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_'+a+'"'+(i.showTime?"":s)+">"+i.timeText+'</dt><dd class="ui_tpicker_time" id="ui_tpicker_time_'+a+'"'+(i.showTime?"":s)+'></dd><dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_'+a+'"'+(i.showHour?"":s)+">"+i.hourText+"</dt>",c=0,u=0,d=0;if(i.showHour&&0<i.hourGrid){l+='<dd class="ui_tpicker_hour"><div id="ui_tpicker_hour_'+a+'"'+(i.showHour?"":s)+'></div><div style="padding-left: 1px"><table><tr>';for(var h=i.hourMin;h<t;h+=i.hourGrid){c++;var f=i.ampm&&12<h?h-12:h;f<10&&(f="0"+f),i.ampm&&(0==h?f="12a":f+=h<12?"a":"p"),l+="<td>"+f+"</td>"}l+="</tr></table></div></dd>"}else l+='<dd class="ui_tpicker_hour" id="ui_tpicker_hour_'+a+'"'+(i.showHour?"":s)+"></dd>";if(l+='<dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_'+a+'"'+(i.showMinute?"":s)+">"+i.minuteText+"</dt>",i.showMinute&&0<i.minuteGrid){l+='<dd class="ui_tpicker_minute ui_tpicker_minute_'+i.minuteGrid+'"><div id="ui_tpicker_minute_'+a+'"'+(i.showMinute?"":s)+'></div><div style="padding-left: 1px"><table><tr>';for(var p=i.minuteMin;p<n;p+=i.minuteGrid)u++,l+="<td>"+(p<10?"0":"")+p+"</td>";l+="</tr></table></div></dd>"}else l+='<dd class="ui_tpicker_minute" id="ui_tpicker_minute_'+a+'"'+(i.showMinute?"":s)+"></dd>";if(l+='<dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_'+a+'"'+(i.showSecond?"":s)+">"+i.secondText+"</dt>",i.showSecond&&0<i.secondGrid){l+='<dd class="ui_tpicker_second ui_tpicker_second_'+i.secondGrid+'"><div id="ui_tpicker_second_'+a+'"'+(i.showSecond?"":s)+'></div><div style="padding-left: 1px"><table><tr>';for(var m=i.secondMin;m<r;m+=i.secondGrid)d++,l+="<td>"+(m<10?"0":"")+m+"</td>";l+="</tr></table></div></dd>"}else l+='<dd class="ui_tpicker_second" id="ui_tpicker_second_'+a+'"'+(i.showSecond?"":s)+"></dd>";l+='<dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_'+a+'"'+(i.showTimezone?"":s)+">"+i.timezoneText+"</dt>",l+='<dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_'+a+'"'+(i.showTimezone?"":s)+"></dd>",$tp=$(l+="</dl></div>"),!0===i.timeOnly&&($tp.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+i.timeOnlyTitle+"</div></div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),this.hour_slider=$tp.find("#ui_tpicker_hour_"+a).slider({orientation:"horizontal",value:this.hour,min:i.hourMin,max:t,step:i.stepHour,slide:function(e,t){o.hour_slider.slider("option","value",t.value),o._onTimeChange()}}),this.minute_slider=$tp.find("#ui_tpicker_minute_"+a).slider({orientation:"horizontal",value:this.minute,min:i.minuteMin,max:n,step:i.stepMinute,slide:function(e,t){o.minute_slider.slider("option","value",t.value),o._onTimeChange()}}),this.second_slider=$tp.find("#ui_tpicker_second_"+a).slider({orientation:"horizontal",value:this.second,min:i.secondMin,max:r,step:i.stepSecond,slide:function(e,t){o.second_slider.slider("option","value",t.value),o._onTimeChange()}}),this.timezone_select=$tp.find("#ui_tpicker_timezone_"+a).append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(i.timezoneList,function(e,t){return $("<option />").val("object"==typeof e?e.value:e).text("object"==typeof e?e.label:e)})),this.timezone_select.val((void 0!==this.timezone&&null!=this.timezone&&""!=this.timezone?this:i).timezone),this.timezone_select.change(function(){o._onTimeChange()}),i.showHour&&0<i.hourGrid&&(g=100*c*i.hourGrid/(t-i.hourMin),$tp.find(".ui_tpicker_hour table").css({width:g+"%",marginLeft:g/(-2*c)+"%",borderCollapse:"collapse"}).find("td").each(function(e){$(this).click(function(){var e,t,n=$(this).html();i.ampm&&(e=n.substring(2).toLowerCase(),t=parseInt(n.substring(0,2)),n="a"==e?12==t?0:t:12==t?12:t+12),o.hour_slider.slider("option","value",n),o._onTimeChange(),o._onSelectHandler()}).css({cursor:"pointer",width:100/c+"%",textAlign:"center",overflow:"hidden"})})),i.showMinute&&0<i.minuteGrid&&(g=100*u*i.minuteGrid/(n-i.minuteMin),$tp.find(".ui_tpicker_minute table").css({width:g+"%",marginLeft:g/(-2*u)+"%",borderCollapse:"collapse"}).find("td").each(function(e){$(this).click(function(){o.minute_slider.slider("option","value",$(this).html()),o._onTimeChange(),o._onSelectHandler()}).css({cursor:"pointer",width:100/u+"%",textAlign:"center",overflow:"hidden"})})),i.showSecond&&0<i.secondGrid&&$tp.find(".ui_tpicker_second table").css({width:g+"%",marginLeft:g/(-2*d)+"%",borderCollapse:"collapse"}).find("td").each(function(e){$(this).click(function(){o.second_slider.slider("option","value",$(this).html()),o._onTimeChange(),o._onSelectHandler()}).css({cursor:"pointer",width:100/d+"%",textAlign:"center",overflow:"hidden"})});var g=e.find(".ui-datepicker-buttonpane");g.length?g.before($tp):e.append($tp),this.$timeObj=$tp.find("#ui_tpicker_time_"+a),null!==this.inst&&(v=this.timeDefined,this._onTimeChange(),this.timeDefined=v);var v=function(){o._onSelectHandler()};this.hour_slider.bind("slidestop",v),this.minute_slider.bind("slidestop",v),this.second_slider.bind("slidestop",v)}},_limitMinMaxDateTime:function(e,t){var n,i,o=this._defaults,r=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);this._defaults.showTimepicker&&(null!==this._defaults.minDateTime&&r&&(i=this._defaults.minDateTime,n=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0),null!==this.hourMinOriginal&&null!==this.minuteMinOriginal&&null!==this.secondMinOriginal||(this.hourMinOriginal=o.hourMin,this.minuteMinOriginal=o.minuteMin,this.secondMinOriginal=o.secondMin),e.settings.timeOnly||n.getTime()==r.getTime()?(this._defaults.hourMin=i.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=i.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=i.getSeconds()):(this.second<this._defaults.secondMin&&(this.second=this._defaults.secondMin),this._defaults.secondMin=this.secondMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal)),null!==this._defaults.maxDateTime&&r&&(n=this._defaults.maxDateTime,i=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0),null!==this.hourMaxOriginal&&null!==this.minuteMaxOriginal&&null!==this.secondMaxOriginal||(this.hourMaxOriginal=o.hourMax,this.minuteMaxOriginal=o.minuteMax,this.secondMaxOriginal=o.secondMax),e.settings.timeOnly||i.getTime()==r.getTime()?(this._defaults.hourMax=n.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=n.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMin=n.getSeconds()):(this.second>this._defaults.secondMax&&(this.second=this._defaults.secondMax),this._defaults.secondMax=this.secondMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal)),void 0!==t&&!0===t&&(this.hour_slider.slider("option",{min:this._defaults.hourMin,max:this._defaults.hourMax}).slider("value",this.hour),this.minute_slider.slider("option",{min:this._defaults.minuteMin,max:this._defaults.minuteMax}).slider("value",this.minute),this.second_slider.slider("option",{min:this._defaults.secondMin,max:this._defaults.secondMax}).slider("value",this.second)))},_onTimeChange:function(){var e=!!this.hour_slider&&this.hour_slider.slider("value"),t=!!this.minute_slider&&this.minute_slider.slider("value"),n=!!this.second_slider&&this.second_slider.slider("value"),i=!!this.timezone_select&&this.timezone_select.val();!1!==e&&(e=parseInt(e,10)),!1!==t&&(t=parseInt(t,10)),!1!==n&&(n=parseInt(n,10));var o=e<12?"AM":"PM",r=e!=this.hour||t!=this.minute||n!=this.second||0<this.ampm.length&&this.ampm!=o||i!=this.timezone;r&&(!1!==e&&(this.hour=e),!1!==t&&(this.minute=t),!1!==n&&(this.second=n),!1!==i&&(this.timezone=i),this._limitMinMaxDateTime(this.inst,!0)),this._defaults.ampm&&(this.ampm=o),this._formatTime(),this.$timeObj&&this.$timeObj.text(this.formattedTime),this.timeDefined=!0,r&&this._updateDateTime()},_onSelectHandler:function(){var e=this._defaults.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_formatTime:function(e,t,n){null==n&&(n=this._defaults.ampm),e=e||{hour:this.hour,minute:this.minute,second:this.second,ampm:this.ampm,timezone:this.timezone};var i,o=t||this._defaults.timeFormat.toString();if(o=n?(i="AM"==e.ampm?e.hour:e.hour%12,i=0===Number(i)?12:i,o.toString().replace(/hh/g,(i<10?"0":"")+i).replace(/h/g,i).replace(/mm/g,(e.minute<10?"0":"")+e.minute).replace(/m/g,e.minute).replace(/ss/g,(e.second<10?"0":"")+e.second).replace(/s/g,e.second).replace(/TT/g,e.ampm.toUpperCase()).replace(/tt/g,e.ampm.toLowerCase()).replace(/T/g,e.ampm.charAt(0).toUpperCase()).replace(/t/g,e.ampm.charAt(0).toLowerCase()).replace(/z/g,e.timezone)):(o=o.toString().replace(/hh/g,(e.hour<10?"0":"")+e.hour).replace(/h/g,e.hour).replace(/mm/g,(e.minute<10?"0":"")+e.minute).replace(/m/g,e.minute).replace(/ss/g,(e.second<10?"0":"")+e.second).replace(/s/g,e.second).replace(/z/g,e.timezone),$.trim(o.replace(/t/gi,""))),arguments.length)return o;this.formattedTime=o},_updateDateTime:function(e){e=this.inst||e,dt=new Date(e.selectedYear,e.selectedMonth,e.selectedDay),dateFmt=$.datepicker._get(e,"dateFormat"),formatCfg=$.datepicker._getFormatConfig(e),timeAvailable=null!==dt&&this.timeDefined,this.formattedDate=$.datepicker.formatDate(dateFmt,null===dt?new Date:dt,formatCfg);var t=this.formattedDate;void 0!==e.lastVal&&0<e.lastVal.length&&0===this.$input.val().length||(!0===this._defaults.timeOnly?t=this.formattedTime:!0!==this._defaults.timeOnly&&(this._defaults.alwaysSetTime||timeAvailable)&&(t+=this._defaults.separator+this.formattedTime),this.formattedDateTime=t,this._defaults.showTimepicker?this.$altInput&&!0===this._defaults.altFieldTimeOnly?(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):(this.$altInput&&this.$altInput.val($.datepicker.formatDate(this._defaults.altFormat,dt,formatCfg)+" "+this.formattedTime),this.$input.val(t)):this.$input.val(this.formattedDate),this.$input.trigger("change"))}}),$.fn.extend({timepicker:function(e){var t=arguments;return"object"==typeof(e=e||{})&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),t)})},datetimepicker:function(t){var n=arguments;return"string"==typeof(t=t||{})?"getDate"==t?$.fn.datepicker.apply($(this[0]),n):this.each(function(){var e=$(this);e.datepicker.apply(e,n)}):this.each(function(){var e=$(this);e.datepicker($.timepicker._newInst(e,t)._defaults)})}}),$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var n=this._getInst($(e)[0]),i=this._get(n,"timepicker");i?(i._limitMinMaxDateTime(n,!0),n.inline=n.stay_open=!0,this._base_selectDate(e,t+i._defaults.separator+i.formattedTime),n.inline=n.stay_open=!1,this._notifyChange(n),this._updateDatepicker(n)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t;"boolean"==typeof e.stay_open&&!1!==e.stay_open||(this._base_updateDatepicker(e),(t=this._get(e,"timepicker"))&&t._addTimePicker(e))},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),n=$.datepicker._get(t,"timepicker");if(n&&$.datepicker._get(t,"constrainInput")){var i=n._defaults.ampm,n=n._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,i?"APM":"").replace(/T/g,i?"AP":"").replace(/tt/g,i?"apm":"").replace(/t/g,i?"ap":"")+" "+n._defaults.separator+$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),t=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);return e.ctrlKey||t<" "||!n||-1<n.indexOf(t)}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),n=$.datepicker._get(t,"timepicker");if(n&&n._defaults.timeOnly&&t.input.val()!=t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(e){$.datepicker.log(e)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){this._base_gotoToday(e),this._setTime(this._getInst($(e)[0]),new Date)},$.datepicker._disableTimepickerDatepicker=function(e,t,n){var i=this._getInst(e),o=this._get(i,"timepicker");$(e).datepicker("getDate"),o&&(o._defaults.showTimepicker=!1,o._updateDateTime(i))},$.datepicker._enableTimepickerDatepicker=function(e,t,n){var i=this._getInst(e),o=this._get(i,"timepicker");$(e).datepicker("getDate"),o&&(o._defaults.showTimepicker=!0,o._addTimePicker(i),o._updateDateTime(i))},$.datepicker._setTime=function(e,t){var n,i,o,r=this._get(e,"timepicker");r&&(n=r._defaults,i=t?t.getHours():n.hour,o=t?t.getMinutes():n.minute,t=t?t.getSeconds():n.second,(i<n.hourMin||i>n.hourMax||o<n.minuteMin||o>n.minuteMax||t<n.secondMin||t>n.secondMax)&&(i=n.hourMin,o=n.minuteMin,t=n.secondMin),r.hour_slider?r.hour_slider.slider("value",i):r.hour=i,r.minute_slider?r.minute_slider.slider("value",o):r.minute=o,r.second_slider?r.second_slider.slider("value",t):r.second=t,r._onTimeChange(),r._updateDateTime(e))},$.datepicker._setTimeDatepicker=function(e,t,n){var i,o=this._getInst(e),e=this._get(o,"timepicker");e&&(this._setDateFromField(o),t&&("string"==typeof t?(e._parseTime(t,n),(i=new Date).setHours(e.hour,e.minute,e.second)):i=new Date(t.getTime()),"Invalid Date"==i.toString()&&(i=void 0),this._setTime(o,i)))},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var n=this._getInst(e),i=t instanceof Date?new Date(t.getTime()):t;this._updateDatepicker(n),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,i,!0)},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var n=this._getInst(e),i=this._get(n,"timepicker");if(i){this._setDateFromField(n,t);n=this._getDate(n);return n&&i._parseTime($(e).val(),!0)&&n.setHours(i.hour,i.minute,i.second),n}return this._base_getDateDatepicker(e,t)},$.timepicker=new Timepicker,$.timepicker.version="0.9.4"}(jQuery);var ONE_HOUR_IN_MINUTES=6e4,HEMISPHERE_SOUTH="SOUTH",HEMISPHERE_NORTH="NORTH",HEMISPHERE_UNKNOWN="N/A",olsen={};function TimeZone(e,t,n){this.utc_offset=e,this.olsen_tz=t,this.uses_dst=n}function NonOlsenTimeZone(e,t,n){this.utc_offset=e,this.tz_name=t,this.uses_dst=n}function date_is_dst(e){return(5<e.getMonth()?get_june_offset:get_january_offset)()-(e=get_date_offset(e))!=0}function get_date_offset(e){var t=(t=e.toGMTString()).substring(0,t.lastIndexOf(" "));return(e-new Date(t))/ONE_HOUR_IN_MINUTES}function get_timezone_info(){var e=get_january_offset(),t=get_june_offset(),n=e-t;return n<0?{utc_offset:e,dst:1,hemisphere:HEMISPHERE_NORTH}:0<n?{utc_offset:t,dst:1,hemisphere:HEMISPHERE_SOUTH}:{utc_offset:e,dst:0,hemisphere:HEMISPHERE_UNKNOWN}}function get_january_offset(){return get_date_offset(new Date(2011,0,1,0,0,0,0))}function get_june_offset(){return get_date_offset(new Date(2011,5,1,0,0,0,0))}function determine_timezone(){var e=get_timezone_info(),t="";return e.hemisphere==HEMISPHERE_SOUTH&&(t=",s"),e=e.utc_offset+","+e.dst+t,{timezone:olsen.timezones[e],key:e}}function show_timezone_info(){var e=determine_timezone();response_text="No timezone found for "+e.key,response_text=void 0===e.timezone?"No timezone found for "+e.key:e.timezone.display(),document.getElementById("tz_info").innerHTML=response_text}function fb_unpack(e){return 7==e.length?[parseInt("0x"+e.substring(1,3))/255,parseInt("0x"+e.substring(3,5))/255,parseInt("0x"+e.substring(5,7))/255]:4==e.length?[parseInt("0x"+e.substring(1,2))/15,parseInt("0x"+e.substring(2,3))/15,parseInt("0x"+e.substring(3,4))/15]:void 0}function fb_RGBToHSL(e){var t=e[0],n=e[1],i=e[2],o=Math.min(t,Math.min(n,i)),r=Math.max(t,Math.max(n,i)),a=r-o,e=(o+r)/2,o=0;return 0<a&&(r==t&&r!=n&&(o+=(n-i)/a),r==n&&r!=i&&(o+=2+(i-t)/a),r==i&&r!=t&&(o+=4+(t-n)/a),o/=6),[o,0<e&&e<1?a/(e<.5?2*e:2-2*e):0,e]}olsen.timezones={"-720,0":new NonOlsenTimeZone("-12:00","International Datetime West",!1),"-660,0":new TimeZone("-11:00","Pacific/Midway",!1),"-660,1,s":new TimeZone("-11:00","Pacific/Apia",!0),"-600,0":new TimeZone("-10:00","Pacific/Honolulu",!1),"-540,1":new TimeZone("-09:00","America/Anchorage",!0),"-480,1":new TimeZone("-08:00","America/Vancouver",!0),"-420,0":new TimeZone("-07:00","America/Phoenix",!1),"-420,1":new TimeZone("-07:00","America/Denver",!0),"-360,0":new TimeZone("-06:00","America/Regina",!1),"-360,1":new TimeZone("-06:00","America/Chicago",!0),"-300,0":new TimeZone("-05:00","America/Atikokan",!1),"-300,1":new TimeZone("-05:00","America/Montreal",!0),"-270,0":new TimeZone("-04:30","America/Caracas",!1),"-240,1":new TimeZone("-04:00","America/Halifax",!0),"-240,0":new TimeZone("-04:00","America/Manaus",!1),"-240,1,s":new TimeZone("-04:00","America/Asuncion",!0),"-210,1":new TimeZone("-03:30","America/St_Johns",!0),"-180,1":new TimeZone("-03:00","America/Godthab",!0),"-180,0":new TimeZone("-03:00","America/Argentina/Buenos_Aires,",!1),"-180,1,s":new TimeZone("-03:00","America/Montevideo",!0),"-120,0":new TimeZone("-02:00","America/Noronha",!0),"-120,1":new NonOlsenTimeZone("-02:00","Mid Atlantic",!0),"-60,1":new TimeZone("-01:00","Atlantic/Azores",!0),"-60,0":new TimeZone("-01:00","Atlantic/Cape_Verde",!1),"0,0":new TimeZone("00:00","Atlantic/Reykjavik",!1),"0,1":new TimeZone("00:00","Europe/Dublin",!0),"60,1":new TimeZone("+01:00","Europe/Amsterdam",!0),"60,0":new TimeZone("+01:00","Africa/Porto-Novo",!1),"60,1,s":new TimeZone("-01:00","Africa/Windhoek",!0),"120,1":new TimeZone("+02:00","Asia/Beirut",!0),"120,0":new TimeZone("+02:00","Africa/Harare",!1),"180,1":new TimeZone("+03:00","Europe/Moscow",!0),"180,0":new TimeZone("+03:00","Asia/Baghdad",!1),"210,1":new TimeZone("+03:30","Asia/Tehran",!0),"240,0":new TimeZone("+04:00","Asia/Dubai",!1),"240,1":new TimeZone("+04:00","Asia/Yerevan",!0),"270,0":new TimeZone("+04:30","Asia/Kabul",!1),"300,1":new TimeZone("+05:00","Asia/Yekaterinburg",!0),"300,0":new TimeZone("+05:00","Asia/Karachi",!1),"330,0":new TimeZone("+05:30","Asia/Kolkata",!1),"345,0":new TimeZone("+05:45","Asia/Kathmandu",!1),"360,0":new TimeZone("+06:00","Asia/Dhaka",!1),"360,1":new TimeZone("+06:00","Asia/Novosibirsk",!0),"390,0":new TimeZone("+06:30","Asia/Rangoon",!1),"420,1":new TimeZone("+07:00","Asia/Krasnoyarsk",!0),"420,0":new TimeZone("+07:00","Asia/Bangkok",!1),"480,0":new TimeZone("+08:00","Asia/Shanghai",!1),"480,1":new TimeZone("+08:00","Asia/Irkutsk",!0),"540,1":new TimeZone("+09:00","Asia/Yakutsk",!0),"540,0":new TimeZone("+09:00","Asia/Seoul",!1),"570,0":new TimeZone("+09:30","Australia/Darwin",!1),"570,1,s":new TimeZone("+09:30","Australia/Adelaide",!0),"600,0":new TimeZone("+10:00","Australia/Brisbane",!1),"600,1":new TimeZone("+10:00","Asia/Vladivostok",!0),"600,1,s":new TimeZone("+10:00","Australia/Melbourne",!0),"660,1":new TimeZone("+11:00","Asia/Magadan Magadan, New Caledonia",!0),"660,0":new TimeZone("+11:00","Pacific/Ponape",!1),"720,1,s":new TimeZone("+12:00","Pacific/Auckland",!0),"720,0":new TimeZone("+12:00","Pacific/Fiji",!1),"780,0":new TimeZone("+13:00","Pacific/Tongatapu",!1)},olsen.dst_start_dates={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Chihuahua":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2011,9,2,3,0,0,0),"America/Santiago":new Date(2011,9,9,3,0,0,0),"America/Cuiaba":new Date(2011,9,16,5,0,0,0),"America/Montevideo":new Date(2011,9,2,2,0,0,0),"America/Sao_Paolo":new Date(2011,9,16,5,0,0,0),"Europe/Minsk":new Date(2011,2,27,5,0,0,0),"Europe/Helsinki":new Date(2011,2,27,7,0,0,0),"Asia/Beirut":new Date(2011,2,27,13,0,0,0),"Asia/Amman":new Date(2011,3,1,3,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,23,0,0,0),"Africa/Cairo":new Date(2011,3,29,5,0,0,0),"Asia/Yerevan":new Date(2011,2,27,4,0,0,0),"Asia/Baku":new Date(2011,2,27,9,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0)},olsen.ambiguity_list={"America/Denver":["America/Denver","America/Chihuahua"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Asuncion":["America/Asuncion","America/Santiago","America/Cuiaba"],"America/Montevideo":["America/Montevideo","America/Sao_Paolo"],"Asia/Beirut":["Europe/Minsk","Europe/Helsinki","Asia/Beirut","Asia/Amman","Asia/Jerusalem","Africa/Cairo"],"Asia/Yerevan":["Asia/Yerevan","Asia/Baku"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"]},TimeZone.prototype.display=function(){this.ambiguity_check();var e="<b>UTC-offset</b>: "+this.utc_offset+"<br/>";return e+="<b>Olsen database name</b>: "+this.olsen_tz+"<br/>",e+="<b>Daylight Savings</b>: "+(this.uses_dst?"yes":"no")+"<br>"},TimeZone.prototype.ambiguity_check=function(){var e=olsen.ambiguity_list[this.olsen_tz];if(void 0!==e)for(var t=e.length,n=0;n<t;n++){var i=e[n];if(date_is_dst(olsen.dst_start_dates[i])){this.olsen_tz=i;break}}},NonOlsenTimeZone.prototype.display=function(){var e='<b style="color: red;">This timezone is not mapped in the Olsen database</b><br/>';return e+="<b>UTC-offset</b>: "+this.utc_offset+"<br/>",e+="<b>Time zone name</b>: "+this.tz_name+"<br/>",e+="<b>Daylight Savings</b>: "+(this.uses_dst?"yes":"no")+"<br/>"},function(u){u.fn.hoverIntent=function(e,t,n){function o(e){i=e.pageX,r=e.pageY}var i,r,a,s,l={interval:100,sensitivity:6,timeout:0},l="object"==typeof e?u.extend(l,e):u.isFunction(t)?u.extend(l,{over:e,out:t,selector:n}):u.extend(l,{over:e,out:e,selector:t}),c=function(e,t){if(t.hoverIntent_t=clearTimeout(t.hoverIntent_t),Math.sqrt((a-i)*(a-i)+(s-r)*(s-r))<l.sensitivity)return u(t).off("mousemove.hoverIntent",o),t.hoverIntent_s=!0,l.over.apply(t,[e]);a=i,s=r,t.hoverIntent_t=setTimeout(function(){c(e,t)},l.interval)},t=function(e){var n=u.extend({},e),i=this;i.hoverIntent_t&&(i.hoverIntent_t=clearTimeout(i.hoverIntent_t)),"mouseenter"===e.type?(a=n.pageX,s=n.pageY,u(i).on("mousemove.hoverIntent",o),i.hoverIntent_s||(i.hoverIntent_t=setTimeout(function(){c(n,i)},l.interval))):(u(i).off("mousemove.hoverIntent",o),i.hoverIntent_s&&(i.hoverIntent_t=setTimeout(function(){var e,t;e=n,(t=i).hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=!1,l.out.apply(t,[e])},l.timeout)))};return this.on({"mouseenter.hoverIntent":t,"mouseleave.hoverIntent":t},l.selector)}}(jQuery),function(d){d.fn.tagit=function(a){var a=d.extend({focus:!1,onChange:function(){},onPreCreateTag:function(){},appendAutocompleteInline:!0,placeholder:"",overrideDeleteTagImage:null},a),t=this,s=d("input.tagsEditorInput",t).get(0);void 0===s?(t.append("<span class='tagsEditorNew'><input maxlength='50' class='tagsEditorInput tagsEditor-input' type=\"text\" /></span>\n"),(s=t.children(".tagsEditorNew").children(".tagsEditorInput")).elasticInput()):s=d(s);var o=d("");function r(){!function(){if(!(0<d(".tagsEditorToken").length)){var e=s.val();return""==(e=(e=e.replace(/,+$/,"")).trim())?1:void 0}}()?o.hide():o.show()}function l(){var e=s.val();if(""!=(e=(e=e.replace(/,+$/,"")).trim())){if(c(e)){if(0==a.onPreCreateTag())return;u(e)}s.val(""),a.onChange(),s.autocomplete("close")}}""!=a.placeholder&&(o=d("<span class='tagPlaceHolder'>"+a.placeholder+"</span>"),t.prepend(o),r()),a.tagGetter||(a.tagGetter=function(e,t){var n,i=new Array;for(n in a.availableTags)void 0!==a.availableTags[n]&&0==a.availableTags[n].toUpperCase().indexOf(e.term.toUpperCase())&&i.push(a.availableTags[n]);t(i)}),d(this).click(function(e){d(e.target).hasClass("close")||"IMG"==e.target.tagName?($(e.target).parents(".tagsEditorToken").remove(),s.focus(),a.onChange(),r()):s.focus()}),s.keypress(function(e){60!=e.which?8==e.which?(""==s.val()&&d(t).children(".tagsEditorToken:last").remove(),r()):(o.hide(),44!=e.which&&13!=e.which||(e.preventDefault(),e.stopPropagation(),l())):e.preventDefault}),s.keyup(function(e){r()}),s.blur(function(){d(t).removeClass("focus")}),s.focus(function(){d(t).addClass("focus"),window.setTimeout(function(){s.autocomplete("search")},150)}),s.bind("createtag",l);var e={source:a.tagGetter,delay:100,minLength:0,select:function(e,t){return c(t.item.value)&&u(t.item.value),s.val(""),a.onChange(),!1}};function c(t){var i=!0;return s.parents("div").children(".tagsEditorToken").each(function(e){n=$(this).children("input").val(),t.toLowerCase()==n.toLowerCase()&&(i=!1)}),i}function u(n){var e={term:n},i=n;a.tagGetter(e,function(e){for(var t=0;t<e.length;t++)if(n.toLowerCase()==e[t].toLowerCase()){i=e[t];break}});var t="",o="/resources/img/V4/popup/close_black.png";"undefined"!=typeof overrideDeleteTagImage&&(o=overrideDeleteTagImage),null!=a.overrideDeleteTagImage&&(o=a.overrideDeleteTagImage),t+="<span class='tagsEditorToken topic-tags-item'>\n",t+="<span class='topic-tags-item-name'>"+i+"</span>\n",t+="<span class='close topic-tags-item-count'><img src='"+o+"'/>&nbsp;",t+="</span>\n",t+="<input class='new' type='hidden' style='display:none;' value='' name='item[tags][]'>\n",t+="</span>\n";var r,e=s.parent();void 0!==a.keywordsContainer?(o=d(t),r=d(a.keywordsContainer).prepend(o),d("input[type='hidden']",o).val(i)):(r=d(t).insertBefore(e),d("input[type='hidden']",r).val(i)),s.val("")}if(a.appendAutocompleteInline&&(e.appendTo=t),s.autocomplete(e),void 0!==a.tags)for(i=0;i<a.tags.length;i++)u(a.tags[i]);a.focus&&(s.focus(),r())},String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}(jQuery),function(e){e.fn.extend({elasticInput:function(){return this.each(function(){var t,n=e(this);"text"==this.type&&(t=n.val(),n.bind("keyup change cut paste click",function(){var e;3<(e=n.val().length)&&t<e?(n.css("width",e+"em"),t=e):0==e&&(n.css("width","3em"),t=e)}))})}})}(jQuery),function(a){a.fn.farbtastic=function(e){return a.farbtastic(this,e),this},a.farbtastic=function(e,t){return(e=a(e).get(0)).farbtastic||(e.farbtastic=new a._farbtastic(e,t))},a.farbtastic=function(e,t,n){return(e=a(e).get(0)).farbtastic||(e.farbtastic=new a._farbtastic(e,t,n))},a.farbtastic=function(e,t,n,i){return(e=a(e).get(0)).farbtastic||(e.farbtastic=new a._farbtastic(e,t,n,i))},a._farbtastic=function(e,t,n,i){var o=this;a(e).html('<div class="farbtastic"><div class="color"></div><div class="wheel"></div><div class="overlay"></div><div class="h-marker marker"></div><div class="sl-marker marker"></div></div>');var r=a(".farbtastic",e);o.wheel=a(".wheel",e).get(0),o.radius=84,o.square=100,o.width=194,navigator.appVersion.match(/MSIE [0-6]\./)&&a("*",r).each(function(){var e;"none"!=this.currentStyle.backgroundImage&&(e=this.currentStyle.backgroundImage,e=this.currentStyle.backgroundImage.substring(5,e.length-2),a(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+e+"')"}))}),o.linkTo=function(e){return"object"==typeof o.callback&&a(o.callback).unbind("keyup",o.updateValue),o.color=null,"function"==typeof e?o.callback=e:"object"!=typeof e&&"string"!=typeof e||(o.callback=a(e),o.callback.bind("keyup",o.updateValue),o.callback.get(0).value&&o.setColor(o.callback.get(0).value)),this},o.updateValue=function(e){this.value&&this.value!=o.color&&o.setColor(this.value)},o.endUpdateValue=function(e){i&&i(o.color)},o.setColor=function(e){var t=o.unpack(e);return o.color!=e&&t&&(o.color=e,o.rgb=t,o.hsl=o.RGBToHSL(o.rgb),o.updateDisplay()),this},o.setHSL=function(e){return o.hsl=e,o.rgb=o.HSLToRGB(e),o.color=o.pack(o.rgb),o.updateDisplay(),this},o.widgetCoords=function(e){var t=a(o.wheel).offset();return{x:e.pageX-t.left-o.width/2,y:e.pageY-t.top-o.width/2}},o.mousedown=function(e){document.dragging||(a(document).bind("mousemove",o.mousemove).bind("mouseup",o.mouseup),document.dragging=!0);var t=o.widgetCoords(e);return o.circleDrag=2*Math.max(Math.abs(t.x),Math.abs(t.y))>o.square,o.mousemove(e),!1},o.mousemove=function(e){var t,e=o.widgetCoords(e);return o.circleDrag?((t=Math.atan2(e.x,-e.y)/6.28)<0&&(t+=1),o.setHSL([t,o.hsl[1],o.hsl[2]])):(t=Math.max(0,Math.min(1,.5-e.x/o.square)),e=Math.max(0,Math.min(1,.5-e.y/o.square)),o.setHSL([o.hsl[0],t,e])),!1},o.mouseup=function(){a(document).unbind("mousemove",o.mousemove),a(document).unbind("mouseup",o.mouseup),document.dragging=!1},o.updateDisplay=function(){var e=6.28*o.hsl[0];a(".h-marker",r).css({left:Math.round(Math.sin(e)*o.radius+o.width/2)+"px",top:Math.round(-Math.cos(e)*o.radius+o.width/2)+"px"}),a(".sl-marker",r).css({left:Math.round(o.square*(.5-o.hsl[1])+o.width/2)+"px",top:Math.round(o.square*(.5-o.hsl[2])+o.width/2)+"px"}),a(".color",r).css("backgroundColor",o.pack(o.HSLToRGB([o.hsl[0],1,.5]))),"object"==typeof o.callback?(a(o.callback).css({backgroundColor:o.color,color:.5<o.hsl[2]?"#000":"#fff"}),a(o.callback).each(function(){this.value&&this.value!=o.color&&(this.value=o.color)})):"function"==typeof o.callback&&o.callback.call(o,o.color),n&&n(o.color)},o.pack=function(e){var t=Math.round(255*e[0]),n=Math.round(255*e[1]),e=Math.round(255*e[2]);return"#"+(t<16?"0":"")+t.toString(16)+(n<16?"0":"")+n.toString(16)+(e<16?"0":"")+e.toString(16)},o.unpack=function(e){return 7==e.length?[parseInt("0x"+e.substring(1,3))/255,parseInt("0x"+e.substring(3,5))/255,parseInt("0x"+e.substring(5,7))/255]:4==e.length?[parseInt("0x"+e.substring(1,2))/15,parseInt("0x"+e.substring(2,3))/15,parseInt("0x"+e.substring(3,4))/15]:void 0},o.HSLToRGB=function(e){var t=e[0],n=e[1],e=e[2],n=e<=.5?e*(n+1):e+n-e*n,e=2*e-n;return[this.hueToRGB(e,n,t+.33333),this.hueToRGB(e,n,t),this.hueToRGB(e,n,t-.33333)]},o.hueToRGB=function(e,t,n){return 6*(n=n<0?n+1:1<n?n-1:n)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(.66666-n)*6:e},o.RGBToHSL=function(e){var t=e[0],n=e[1],i=e[2],o=Math.min(t,Math.min(n,i)),r=Math.max(t,Math.max(n,i)),a=r-o,e=(o+r)/2,o=0;return 0<a&&(r==t&&r!=n&&(o+=(n-i)/a),r==n&&r!=i&&(o+=2+(i-t)/a),r==i&&r!=t&&(o+=4+(t-n)/a),o/=6),[o,0<e&&e<1?a/(e<.5?2*e:2-2*e):0,e]},a("*",r).mousedown(o.mousedown),i&&a("*",r).mouseup(o.endUpdateValue),o.setColor("#000000"),t&&o.linkTo(t)}}(jQuery),function(){function M(){var e,t,n=arguments,i={},o=function(e,t){var n,i;for(i in"object"!=typeof e&&(e={}),t)t.hasOwnProperty(i)&&(n=t[i],e[i]=n&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)&&"renderTo"!==i&&"number"!=typeof n.nodeType?o(e[i]||{},n):t[i]);return e};for(!0===n[0]&&(i=n[1],n=Array.prototype.slice.call(n,2)),t=n.length,e=0;e<t;e++)i=o(i,n[e]);return i}function m(e,t){return parseInt(e,t||10)}function v(e){return"string"==typeof e}function h(e){return e&&"object"==typeof e}function y(e){return"[object Array]"===Object.prototype.toString.call(e)}function x(e){return"number"==typeof e}function w(e){return ae.log(e)/ae.LN10}function k(e){return ae.pow(10,e)}function l(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function E(e){return e!==j&&null!==e}function A(e,t,n){var i,o;if(v(t))E(n)?e.setAttribute(t,n):e&&e.getAttribute&&(o=e.getAttribute(t));else if(E(t)&&h(t))for(i in t)e.setAttribute(i,t[i]);return o}function f(e){return y(e)?e:[e]}function N(e,t){ye&&!_e&&t&&t.opacity!==j&&(t.filter="alpha(opacity="+100*t.opacity+")"),He(e.style,t)}function P(e,t,n,i,o){return e=re.createElement(e),t&&He(e,t),o&&N(e,{padding:0,border:Pe,margin:0}),n&&N(e,n),i&&i.appendChild(e),e}function e(e,t){function n(){return j}return n.prototype=new e,He(n.prototype,t),n}function p(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function g(e){return 6e4*(Y&&Y(e)||U||0)}function b(e,t){for(var n,i,o,r,a,s="{",l=!1,c=[];-1!==(s=e.indexOf(s));){if(n=e.slice(0,s),l){for(a=(o=(i=n.split(":")).shift().split(".")).length,n=t,r=0;r<a;r++)n=n[o[r]];i.length&&(i=i.join(":"),o=/\.([0-9])/,r=Ue.lang,a=void 0,/f$/.test(i)?(a=(a=i.match(o))?a[1]:-1,null!==n&&(n=Le.numberFormat(n,a,r.decimalPoint,-1<i.indexOf(",")?r.thousandsSep:""))):n=Fe(i,n))}c.push(n),e=e.slice(s+1),s=(l=!l)?"}":"{"}return c.push(e),c.join("")}function C(e){return ae.pow(10,le(ae.log(e)/ae.LN10))}function _(e,t,n,i,o){var r=e,a=e/(n=ze(n,1));for(t||!(t=[1,2,2.5,5,10])===i&&(1===n?t=[1,2,5,10]:n<=.1&&(t=[1/n])),i=0;i<t.length&&(r=t[i],!(o&&e<=r*n||!o&&a<=(t[i]+(t[i+1]||t[i]))/2));i++);return r*=n}function T(e,n){for(var i,t=e.length,o=0;o<t;o++)e[o].ss_i=o;for(e.sort(function(e,t){return 0===(i=n(e,t))?e.ss_i-t.ss_i:i}),o=0;o<t;o++)delete e[o].ss_i}function S(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function O(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function r(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function a(e){n=n||P(Ne),e&&n.appendChild(e),n.innerHTML=""}function D(e,t){e="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw e;u.console&&console.log(e)}function I(e,t){return parseFloat(e.toPrecision(t||14))}function R(e,t){t.renderer.globalAnimation=ze(e,t.animation)}function t(){var e=Ue.global,s=e.useUTC,t=s?"getUTC":"get",n=s?"setUTC":"set";W=e.Date||window.Date,U=s&&e.timezoneOffset,Y=s&&e.getTimezoneOffset,$=function(e,t,n,i,o,r){var a;return s?(a=W.UTC.apply(0,arguments),a+=g(a)):a=new W(e,t,ze(n,1),ze(i,0),ze(o,0),ze(r,0)).getTime(),a},q=t+"Minutes",V=t+"Hours",G=t+"Day",Q=t+"Date",X=t+"Month",K=t+"FullYear",Z=n+"Milliseconds",J=n+"Seconds",ee=n+"Minutes",te=n+"Hours",ne=n+"Date",ie=n+"Month",oe=n+"FullYear"}function L(){}function B(e,t,n,i){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,n||i||this.addLabel()}function H(e,t,n,i,o){var r=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=i,this.total=null,this.points={},this.stack=o,this.alignOptions={align:t.align||(r?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(r?"middle":n?"bottom":"top"),y:ze(t.y,r?4:n?14:-6),x:ze(t.x,r?n?-6:6:0)},this.textAlign=t.textAlign||(r?n?"right":"left":"center")}function i(e){var t=e.options,n=t.navigator,i=n.enabled,o=(t=t.scrollbar).enabled,r=i?n.height:0,a=o?t.height:0;this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],this.chart=e,this.setBaseSeries(),this.height=r,this.scrollbarHeight=a,this.scrollbarEnabled=o,this.navigatorEnabled=i,this.navigatorOptions=n,this.scrollbarOptions=t,this.outlineHeight=r+a,this.init()}function o(e){this.init(e)}function z(){return j}var j,s,F,n,c,W,$,U,Y,q,V,G,Q,X,K,Z,J,ee,te,ne,ie,oe,re=document,u=window,ae=Math,se=ae.round,le=ae.floor,ce=ae.ceil,ue=ae.max,de=ae.min,he=ae.abs,fe=ae.cos,pe=ae.sin,me=ae.PI,ge=2*me/360,d=navigator.userAgent,ve=u.opera,ye=/(msie|trident)/i.test(d)&&!ve,be=8===re.documentMode,xe=/AppleWebKit/.test(d),we=/Firefox/.test(d),ke=/(Mobile|Android|Windows Phone)/.test(d),Ce="http://www.w3.org/2000/svg",_e=!!re.createElementNS&&!!re.createElementNS(Ce,"svg").createSVGRect,Te=we&&parseInt(d.split("Firefox/")[1],10)<4,Se=!_e&&!ye&&!!re.createElement("canvas").getContext,De={},Ae=0,Me=[],Ee=0,Ne="div",Pe="none",Ie=/^[0-9]+$/,Re=["plotTop","marginRight","marginBottom","plotLeft"],Oe={},Le=u.Highcharts=u.Highcharts?D(16,!0):{};Le.seriesTypes=Oe;var Be,He=Le.extend=function(e,t){for(var n in e=e||{},t)e[n]=t[n];return e},ze=Le.pick=function(){for(var e,t=arguments,n=t.length,i=0;i<n;i++)if((e=t[i])!==j&&null!==e)return e},je=Le.wrap=function(e,t,n){var i=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(i),n.apply(this,e)}},Fe=function(e,t,n){if(!E(t)||isNaN(t))return Ue.lang.invalidDate||"";var i,e=ze(e,"%Y-%m-%d %H:%M:%S"),o=new W(t-g(t)),r=o[V](),a=o[G](),s=o[Q](),l=o[X](),c=o[K](),u=Ue.lang,d=u.weekdays;for(i in o=He({a:d[a].substr(0,3),A:d[a],d:p(s),e:s,w:a,b:u.shortMonths[l],B:u.months[l],m:p(l+1),y:c.toString().substr(2,2),Y:c,H:p(r),k:r,I:p(r%12||12),l:r%12||12,M:p(o[q]()),p:r<12?"AM":"PM",P:r<12?"am":"pm",S:p(o.getSeconds()),L:p(se(t%1e3),3)},Le.dateFormats))for(;-1!==e.indexOf("%"+i);)e=e.replace("%"+i,"function"==typeof o[i]?o[i](t):o[i]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},We={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5};Le.numberFormat=function(e,t,n,i){var o=Ue.lang,e=+e||0,r=-1===t?de((e.toString().split(".")[1]||"").length,20):isNaN(t=he(t))?2:t,t=void 0===n?o.decimalPoint:n,i=void 0===i?o.thousandsSep:i,o=e<0?"-":"",a=3<(n=String(m(e=he(e).toFixed(r)))).length?n.length%3:0;return o+(a?n.substr(0,a)+i:"")+n.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+i)+(r?t+he(e-n).toFixed(r).slice(2):"")},c={init:function(e,t,n){function i(e){for(o=e.length;o--;)"M"===e[o]&&e.splice(o+1,0,e[o+1],e[o+2],e[o+1],e[o+2])}var o,r,a,t=t||"",s=e.shift,l=-1<t.indexOf("C"),c=l?7:3,t=t.split(" "),n=[].concat(n);if(l&&(i(t),i(n)),e.isArea&&(r=t.splice(t.length-6,6),a=n.splice(n.length-6,6)),s<=n.length/c&&t.length===n.length)for(;s--;)n=[].concat(n).splice(0,c).concat(n);if(e.shift=0,t.length)for(e=n.length;t.length<e;)s=[].concat(t).splice(t.length-c,c),l&&(s[c-6]=s[c-2],s[c-5]=s[c-1]),t=t.concat(s);return r&&(t=t.concat(r),n=n.concat(a)),[t,n]},step:function(e,t,n,i){var o=[],r=e.length;if(1===n)o=i;else if(r===t.length&&n<1)for(;r--;)i=parseFloat(e[r]),o[r]=isNaN(i)?e[r]:n*parseFloat(t[r]-i)+i;else o=t;return o}},Be=u.jQuery,u.HighchartsAdapter=u.HighchartsAdapter||Be&&{init:function(i){var t=Be.fx;Be.extend(Be.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}}),Be.each(["cur","_default","width","height","opacity"],function(n,i){var o,e=t.step;"cur"===i?e=t.prototype:"_default"===i&&Be.Tween&&(e=Be.Tween.propHooks[i],i="set"),(o=e[i])&&(e[i]=function(e){var t;if("align"!==(e=n?e:this).prop)return(t=e.elem).attr?t.attr(e.prop,"cur"===i?j:e.now):o.apply(this,arguments)})}),je(Be.cssHooks.opacity,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}),this.addAnimSetter("d",function(e){var t,n=e.elem;e.started||(t=i.init(n,n.d,n.toD),e.start=t[0],e.end=t[1],e.started=!0),n.attr("d",i.step(e.start,e.end,e.pos,n.toD))}),this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){for(var n=e.length,i=0;i<n;i++)if(!1===t.call(e[i],e[i],i,e))return i},Be.fn.highcharts=function(){var e,t,n="Chart",i=arguments;return this[0]&&(v(i[0])&&(n=i[0],i=Array.prototype.slice.call(i,1)),(e=i[0])!==j&&(e.chart=e.chart||{},e.chart.renderTo=this[0],new Le[n](e,i[1]),t=this),e===j&&(t=Me[A(this[0],"data-highcharts-chart")])),t}},addAnimSetter:function(e,t){Be.Tween?Be.Tween.propHooks[e]={set:t}:Be.fx.step[e]=t},getScript:Be.getScript,inArray:Be.inArray,adapterRun:function(e,t){return Be(e)[t]()},grep:Be.grep,map:function(e,t){for(var n=[],i=0,o=e.length;i<o;i++)n[i]=t.call(e[i],e[i],i,e);return n},offset:function(e){return Be(e).offset()},addEvent:function(e,t,n){Be(e).bind(t,n)},removeEvent:function(e,t,n){var i=re.removeEventListener?"removeEventListener":"detachEvent";re[i]&&e&&!e[i]&&(e[i]=function(){}),Be(e).unbind(t,n)},fireEvent:function(e,t,n,i){var o,r=Be.Event(t),a="detached"+t;!ye&&n&&(delete n.layerX,delete n.layerY,delete n.returnValue),He(r,n),e[t]&&(e[a]=e[t],e[t]=null),Be.each(["preventDefault","stopPropagation"],function(e,t){var n=r[t];r[t]=function(){try{n.call(r)}catch(e){"preventDefault"===t&&(o=!0)}}}),Be(e).trigger(r),e[a]&&(e[t]=e[a],e[a]=null),!i||r.isDefaultPrevented()||o||i(r)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===j&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(e,t,n){var i=Be(e);e.style||(e.style={}),t.d&&(e.toD=t.d,t.d=1),i.stop(),t.opacity!==j&&e.attr&&(t.opacity+="px"),e.hasAnim=1,i.animate(t,n)},stop:function(e){e.hasAnim&&Be(e).stop()}};var $e=(rt=u.HighchartsAdapter)||{};rt&&rt.init.call(rt,c);var Ue,Ye=$e.adapterRun,qe=$e.getScript,Ve=$e.inArray,Ge=Le.each=$e.each,Qe=$e.grep,Xe=$e.offset,Ke=$e.map,Ze=$e.addEvent,Je=$e.removeEvent,et=$e.fireEvent,tt=$e.washMouseEvent,nt=$e.animate,it=$e.stop,ot=(Ue={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/2.1.8/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/2.1.8/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":Le.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:_e,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">â</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:ke?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}}).plotOptions,rt=ot.line;t();var at=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,st=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,lt=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,ct=function(e){var t,o,n,r=[];return(n=e)&&n.stops?o=Ke(n.stops,function(e){return ct(e[1])}):(t=at.exec(n))?r=[m(t[1]),m(t[2]),m(t[3]),parseFloat(t[4],10)]:(t=st.exec(n))?r=[m(t[1],16),m(t[2],16),m(t[3],16),1]:(t=lt.exec(n))&&(r=[m(t[1]),m(t[2]),m(t[3]),1]),{get:function(n){var i;return o?((i=M(e)).stops=[].concat(i.stops),Ge(o,function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]})):i=r&&!isNaN(r[0])?"rgb"===n?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===n?r[3]:"rgba("+r.join(",")+")":e,i},brighten:function(t){if(o)Ge(o,function(e){e.brighten(t)});else if(x(t)&&0!==t)for(var e=0;e<3;e++)r[e]+=m(255*t),r[e]<0&&(r[e]=0),255<r[e]&&(r[e]=255);return this},rgba:r,setOpacity:function(e){return r[3]=e,this},raw:e}};(L.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(e,t){this.element="span"===t?P(t):re.createElementNS(Ce,t),this.renderer=e},animate:function(e,t,n){return t=ze(t,this.renderer.globalAnimation,!0),it(this),t?(t=M(t,{}),n&&(t.complete=n),nt(this,e,t)):this.attr(e,null,n),this},colorGradient:function(e,t,n){var i,o,r,a,s,l,c,u,d,h=this.renderer,f=[];if(e.linearGradient?i="linearGradient":e.radialGradient&&(i="radialGradient"),i){for(d in o=e[i],r=h.gradients,s=e.stops,u=n.radialReference,y(o)&&(e[i]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===i&&u&&!E(o.gradientUnits)&&(o=M(o,{cx:u[0]-u[2]/2+o.cx*u[2],cy:u[1]-u[2]/2+o.cy*u[2],r:o.r*u[2],gradientUnits:"userSpaceOnUse"})),o)"id"!==d&&f.push(d,o[d]);for(d in s)f.push(s[d]);r[f=f.join(",")]?e=r[f].attr("id"):(o.id=e="highcharts-"+Ae++,r[f]=a=h.createElement(i).attr(o).add(h.defs),a.stops=[],Ge(s,function(e){c=0===e[1].indexOf("rgba")?(c=ct(e[1]),l=c.get("rgb"),c.get("a")):(l=e[1],1),e=h.createElement("stop").attr({offset:e[0],"stop-color":l,"stop-opacity":c}).add(a),a.stops.push(e)})),n.setAttribute(t,"url("+h.url+"#"+e+")")}},applyTextShadow:function(e){var t,r=this.element,n=-1!==e.indexOf("contrast"),i={},o=this.renderer.forExport||r.style.textShadow!==j&&!ye;n&&(i.textShadow=e=e.replace(/contrast/g,this.renderer.getContrast(r.style.fill))),xe&&(i.textRendering="geometricPrecision"),o?N(r,i):(this.fakeTS=!0,this.ySetter=this.xSetter,t=[].slice.call(r.getElementsByTagName("tspan")),Ge(e.split(/\s?,\s?/g),function(e){var n,i=r.firstChild,o=(e=e.split(" "))[e.length-1];(n=e[e.length-2])&&Ge(t,function(e,t){0===t&&(e.setAttribute("x",r.getAttribute("x")),t=r.getAttribute("y"),e.setAttribute("y",t||0),null===t&&r.setAttribute("y",0)),A(e=e.cloneNode(1),{class:"highcharts-text-shadow",fill:o,stroke:o,"stroke-opacity":1/ue(m(n),3),"stroke-width":n,"stroke-linejoin":"round"}),r.insertBefore(e,i)})}))},attr:function(e,t,n){var i,o,r,a=this.element,s=this;if("string"==typeof e&&t!==j&&(i=e,(e={})[i]=t),"string"==typeof e)s=(this[e+"Getter"]||this._defaultGetter).call(this,e,a);else{for(i in e)t=e[i],r=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(o||(this.symbolAttr(e),o=!0),r=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),r||(this[i+"Setter"]||this._defaultSetter).call(this,t,i,a),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,t);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return n&&n(),s},updateShadows:function(e,t){for(var n=this.shadows,i=n.length;i--;)n[i].setAttribute(e,"height"===e?ue(t-(n[i].cutHeight||0),0):"d"===e?this.d:t)},addClass:function(e){var t=this.element,n=A(t,"class")||"";return-1===n.indexOf(e)&&A(t,"class",n+" "+e),this},symbolAttr:function(t){var n=this;Ge("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(e){n[e]=ze(t[e],n[e])}),n.attr({d:n.renderer.symbols[n.symbolName](n.x,n.y,n.width,n.height,n)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":Pe)},crisp:function(e){var t,n={},i=e.strokeWidth||this.strokeWidth||0,o=se(i)%2/2;for(t in e.x=le(e.x||this.x||0)+o,e.y=le(e.y||this.y||0)+o,e.width=le((e.width||this.width||0)-2*o),e.height=le((e.height||this.height||0)-2*o),e.strokeWidth=i,e)this[t]!==e[t]&&(this[t]=n[t]=e[t]);return n},css:function(e){var t,n=this.styles,i={},o=this.element,r="",a=!n;if(e&&e.color&&(e.fill=e.color),n)for(t in e)e[t]!==n[t]&&(i[t]=e[t],a=!0);if(a){if(a=this.textWidth=e&&e.width&&"text"===o.nodeName.toLowerCase()&&m(e.width)||this.textWidth,n&&(e=He(n,i)),this.styles=e,a&&(Se||!_e&&this.renderer.forExport)&&delete e.width,ye&&!_e)N(this.element,e);else{for(t in n=function(e,t){return"-"+t.toLowerCase()},e)r+=t.replace(/([A-Z])/g,n)+":"+e[t]+";";A(o,"style",r)}a&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var n=this,i=n.element;return F&&"click"===e?(i.ontouchstart=function(e){n.touchEventFired=W.now(),e.preventDefault(),t.call(i,e)},i.onclick=function(e){(-1===d.indexOf("Android")||1100<W.now()-(n.touchEventFired||0))&&t.call(i,e)}):i["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,i=this.scaleY,o=this.inverted,r=this.rotation,a=this.element;o&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],o?e.push("rotate(90) scale(-1,1)"):r&&e.push("rotate("+r+" "+(a.getAttribute("x")||0)+" "+(a.getAttribute("y")||0)+")"),(E(n)||E(i))&&e.push("scale("+ze(n,1)+" "+ze(i,1)+")"),e.length&&a.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var i,o,r={},a=this.renderer,s=a.alignedObjects;return e?(this.alignOptions=e,this.alignByTranslate=t,n&&!v(n)||(this.alignTo=i=n||"renderer",l(s,this),s.push(this),n=null)):(e=this.alignOptions,t=this.alignByTranslate,i=this.alignTo),n=ze(n,a[i],a),i=e.align,a=e.verticalAlign,s=(n.x||0)+(e.x||0),o=(n.y||0)+(e.y||0),"right"!==i&&"center"!==i||(s+=(n.width-(e.width||0))/{right:1,center:2}[i]),r[t?"translateX":"x"]=se(s),"bottom"!==a&&"middle"!==a||(o+=(n.height-(e.height||0))/({bottom:1,middle:2}[a]||1)),r[t?"translateY":"y"]=se(o),this[this.placed?"animate":"attr"](r),this.placed=!0,this.alignAttr=r,this},getBBox:function(e){var t,n,i,o,r=this.renderer,a=this.rotation,s=this.element,l=this.styles,c=a*ge,u=this.textStr,d=s.style;if(u!==j&&(o=["",a||0,l&&l.fontSize,s.style.width].join(","),o=""===u||Ie.test(u)?"num:"+u.toString().length+o:u+o),o&&!e&&(t=r.cache[o]),!t){if(s.namespaceURI===Ce||r.forExport){try{i=this.fakeTS&&function(t){Ge(s.querySelectorAll(".highcharts-text-shadow"),function(e){e.style.display=t})},we&&d.textShadow?(n=d.textShadow,d.textShadow=""):i&&i(Pe),t=s.getBBox?He({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight},n?d.textShadow=n:i&&i("")}catch(e){}(!t||t.width<0)&&(t={width:0,height:0})}else t=this.htmlGetBBox();r.isSVG&&(e=t.width,u=t.height,ye&&l&&"11px"===l.fontSize&&"16.9"===u.toPrecision(3)&&(t.height=u=14),a&&(t.width=he(u*pe(c))+he(e*fe(c)),t.height=he(u*fe(c))+he(e*pe(c)))),o&&(r.cache[o]=t)}return t},show:function(e){return this.attr({visibility:e?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t,n=this.renderer,i=this.element;return e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,e&&!e.handleZ&&!this.zIndex||(t=this.zIndexSetter()),t||(e?e.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,n=this,i=n.element||{},o=n.shadows,r=n.renderer.isSVG&&"SPAN"===i.nodeName&&n.parentGroup;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=i.point=null,it(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(t=0;t<n.stops.length;t++)n.stops[t]=n.stops[t].destroy();n.stops=null}for(n.safeRemoveChild(i),o&&Ge(o,function(e){n.safeRemoveChild(e)});r&&r.div&&0===r.div.childNodes.length;)i=r.parentGroup,n.safeRemoveChild(r.div),delete r.div,r=i;for(e in n.alignTo&&l(n.renderer.alignedObjects,n),n)delete n[e];return null},shadow:function(e,t,n){var i,o,r,a,s,l,c=[],u=this.element;if(e){for(a=ze(e.width,3),s=(e.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+ze(e.offsetX,1)+", "+ze(e.offsetY,1)+")",i=1;i<=a;i++)r=2*a+1-2*i,A(o=u.cloneNode(0),{isShadow:"true",stroke:e.color||"black","stroke-opacity":s*i,"stroke-width":r,transform:"translate"+l,fill:Pe}),n&&(A(o,"height",ue(A(o,"height")-r,0)),o.cutHeight=r),t?t.element.appendChild(o):u.parentNode.insertBefore(o,u),c.push(o);this.shadows=c}return this},xGetter:function(e){return"circle"===this.element.nodeName&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){return e=ze(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),n.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var t;if(e=e&&e.toLowerCase()){for(t=(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;t--;)e[t]=m(e[t])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e,n.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=re.createElementNS(Ce,"title"),this.element.appendChild(t)),t.appendChild(re.createTextNode(String(ze(e),"").replace(/<[^>]*>/g,"")))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){"string"==typeof e?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},visibilitySetter:function(e,t,n){"inherit"===e?n.removeAttribute(t):n.setAttribute(t,e)},zIndexSetter:function(e,t){var n,i,o,r=this.renderer,a=this.parentGroup,r=(a||r).element||r.box,s=this.element,l=this.added;if(E(e)&&(s.setAttribute(t,e),e=+e,this[t]===e&&(l=!1),this[t]=e),l){for((e=this.zIndex)&&a&&(a.handleZ=!0),a=r.childNodes,o=0;o<a.length&&!i;o++)n=A(l=a[o],"zIndex"),l!==s&&(m(n)>e||!E(e)&&E(n))&&(r.insertBefore(s,l),i=!0);i||r.appendChild(s)}return i},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}}).yGetter=L.prototype.xGetter,L.prototype.translateXSetter=L.prototype.translateYSetter=L.prototype.rotationSetter=L.prototype.verticalAlignSetter=L.prototype.scaleXSetter=L.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},L.prototype["stroke-widthSetter"]=L.prototype.strokeSetter=function(e,t,n){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],L.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};function ut(){this.init.apply(this,arguments)}var dt,ht,ft;function pt(){for(var e=ft.length,t=0;t<e;t++)ft[t]();ft=[]}ut.prototype={Element:L,init:function(e,t,n,i,o){var r,a=location,s=(i=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(i))).element;e.appendChild(s),-1===e.innerHTML.indexOf("xmlns")&&A(s,"xmlns",Ce),this.isSVG=!0,this.box=s,this.boxWrapper=i,this.alignedObjects=[],this.url=(we||xe)&&re.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(re.createTextNode("Created with Highstock 2.1.8")),this.defs=this.createElement("defs").add(),this.forExport=o,this.gradients={},this.cache={},this.setSize(t,n,!1),we&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){N(e,{left:0,top:0}),r=e.getBoundingClientRect(),N(e,{left:ce(r.left)-r.left+"px",top:ce(r.top)-r.top+"px"})},t(),Ze(u,"resize",t))},getStyle:function(e){return this.style=He({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),r(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&Je(u,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(g){function v(e){return i?m(i):k.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:T&&T.fontSize||k.style.fontSize||12,e).h}function y(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">")}for(var b,x,w=g.element,k=this,C=k.forExport,e=ze(g.textStr,"").toString(),t=-1!==e.indexOf("<"),n=w.childNodes,_=A(w,"x"),T=g.styles,S=g.textWidth,i=T&&T.lineHeight,o=T&&T.textShadow,D=T&&"ellipsis"===T.textOverflow,r=n.length,a=S&&!g.added&&this.box;r--;)w.removeChild(n[r]);t||o||D||-1!==e.indexOf(" ")?(b=/<.*style="([^"]+)".*>/,x=/<.*href="(http[^"]+)".*>/,a&&a.appendChild(w),""===(e=t?e.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[e])[e.length-1]&&e.pop(),Ge(e,function(e,f){var p=0,m=(e=e.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||")).split("|||");Ge(m,function(e){if(""!==e||1===m.length){var t,n={},i=re.createElementNS(Ce,"tspan");if(b.test(e)&&A(i,"style",t=e.match(b)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),x.test(e)&&!C&&(A(i,"onclick",'location.href="'+e.match(x)[1]+'"'),N(i,{cursor:"pointer"}))," "!==(e=y(e.replace(/<(.|\n)*?>/g,"")||" "))){if(i.appendChild(re.createTextNode(e)),p?n.dx=0:f&&null!==_&&(n.x=_),A(i,n),w.appendChild(i),!p&&f&&(!_e&&C&&N(i,{display:"block"}),A(i,"dy",v(i))),S){for(var o,r,a,n=e.replace(/([^\^])-/g,"$1- ").split(" "),s=1<m.length||f||1<n.length&&"nowrap"!==T.whiteSpace,l=[],c=v(i),u=g.rotation,d=e,h=d.length;(s||D)&&(n.length||l.length);)g.rotation=0,a=g.getBBox(!0).width,!_e&&k.forExport&&(a=k.measureSpanWidth(i.firstChild.data,g.styles)),o=S<a,void 0===r&&(r=o),D&&r?(h/=2,""===d||!o&&h<.5?n=[]:(o&&(r=!0),n=[(d=e.substring(0,d.length+(o?-1:1)*ce(h)))+(3<S?"â¦":"")],i.removeChild(i.firstChild))):o&&1!==n.length?(i.removeChild(i.firstChild),l.unshift(n.pop())):(n=l,l=[],n.length&&(A(i=re.createElementNS(Ce,"tspan"),{dy:c,x:_}),t&&A(i,"style",t),w.appendChild(i)),S<a&&(S=a)),n.length&&i.appendChild(re.createTextNode(n.join(" ").replace(/- /g,"-")));r&&g.attr("title",g.textStr),g.rotation=u}p++}}})}),a&&a.removeChild(w),o&&g.applyTextShadow&&g.applyTextShadow(o)):w.appendChild(re.createTextNode(y(e)))},getContrast:function(e){return 384<(e=ct(e).rgba)[0]+e[1]+e[2]?"#000000":"#FFFFFF"},button:function(e,t,n,i,o,r,a,s,l){var c,u,d,h,f,p=this.label(e,t,n,l,null,null,null,null,"button"),m=0,g=(o=M({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:e={x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o)).style;return delete o.style,r=M(o,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#FFF"],[1,"#ACF"]]}},r),d=r.style,delete r.style,a=M(o,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),h=a.style,delete a.style,s=M(o,{style:{color:"#CCC"}},s),f=s.style,delete s.style,Ze(p.element,ye?"mouseover":"mouseenter",function(){3!==m&&p.attr(r).css(d)}),Ze(p.element,ye?"mouseout":"mouseleave",function(){3!==m&&(c=[o,r,a][m],u=[g,d,h][m],p.attr(c).css(u))}),p.setState=function(e){(p.state=m=e)?2===e?p.attr(a).css(h):3===e&&p.attr(s).css(f):p.attr(o).css(g)},p.on("click",function(e){3!==m&&i.call(p,e)}).attr(o).css(He({cursor:"default"},g))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=se(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=se(e[2])+t%2/2),e},path:function(e){var t={fill:Pe};return y(e)?t.d=e:h(e)&&He(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){return e=h(e)?e:{x:e,y:t,r:n},(t=this.createElement("circle")).xSetter=function(e){this.element.setAttribute("cx",e)},t.ySetter=function(e){this.element.setAttribute("cy",e)},t.attr(e)},arc:function(e,t,n,i,o,r){return h(e)&&(t=e.y,n=e.r,i=e.innerR,o=e.start,r=e.end,e=e.x),(e=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:i||0,start:o||0,end:r||0})).r=n,e},rect:function(e,t,n,i,o,r){var o=h(e)?e.r:o,a=this.createElement("rect"),e=h(e)?e:e===j?{}:{x:e,y:t,width:ue(n,0),height:ue(i,0)};return r!==j&&(e.strokeWidth=r,e=a.crisp(e)),o&&(e.r=o),a.rSetter=function(e){A(this.element,{rx:e,ry:e})},a.attr(e)},setSize:function(e,t,n){var i=this.alignedObjects,o=i.length;for(this.width=e,this.height=t,this.boxWrapper[ze(n,!0)?"animate":"attr"]({width:e,height:t});o--;)i[o].align()},g:function(e){var t=this.createElement("g");return E(e)?t.attr({class:"highcharts-"+e}):t},image:function(e,t,n,i,o){var r={preserveAspectRatio:Pe};return 1<arguments.length&&He(r,{x:t,y:n,width:i,height:o}),(r=this.createElement("image").attr(r)).element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):r.element.setAttribute("hc-svg-href",e),r},symbol:function(e,t,n,i,o,r){var a,s,l,c=this.symbols[e],u=/^url\((.*?)\)$/;return(c=c&&c(se(t),se(n),i,o,r))?(a=this.path(c),He(a,{symbolName:e,x:t,y:n,width:i,height:o}),r&&He(a,r)):u.test(e)&&(l=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(se((i-t[0])/2),se((o-t[1])/2)))},s=e.match(u)[1],e=De[s]||r&&r.width&&r.height&&[r.width,r.height],(a=this.image(s).attr({x:t,y:n})).isImg=!0,e?l(a,e):(a.attr({width:0,height:0}),P("img",{onload:function(){l(a,De[s]=[this.width,this.height])},src:s}))),a},symbols:{circle:function(e,t,n,i){var o=.166*n;return["M",e+n/2,t,"C",e+n+o,t,e+n+o,t+i,e+n/2,t+i,"C",e-o,t+i,e-o,t,e+n/2,t,"Z"]},square:function(e,t,n,i){return["M",e,t,"L",e+n,t,e+n,t+i,e,t+i,"Z"]},triangle:function(e,t,n,i){return["M",e+n/2,t,"L",e+n,t+i,e,t+i,"Z"]},"triangle-down":function(e,t,n,i){return["M",e,t,"L",e+n,t,e+n/2,t+i,"Z"]},diamond:function(e,t,n,i){return["M",e+n/2,t,"L",e+n,t+i/2,e+n/2,t+i,e,t+i/2,"Z"]},arc:function(e,t,n,i,o){var r=o.start,n=o.r||n||i,a=o.end-.001,i=o.innerR,s=o.open,l=fe(r),c=pe(r),u=fe(a),a=pe(a);return["M",e+n*l,t+n*c,"A",n,n,0,o=o.end-r<me?0:1,1,e+n*u,t+n*a,s?"M":"L",e+i*u,t+i*a,"A",i,i,0,o,0,e+i*l,t+i*c,s?"":"Z"]},callout:function(e,t,n,i,o){var r=de(o&&o.r||0,n,i),a=r+6,s=o&&o.anchorX,o=o&&o.anchorY,l=["M",e+r,t,"L",e+n-r,t,"C",e+n,t,e+n,t,e+n,t+r,"L",e+n,t+i-r,"C",e+n,t+i,e+n,t+i,e+n-r,t+i,"L",e+r,t+i,"C",e,t+i,e,t+i,e,t+i-r,"L",e,t+r,"C",e,t,e,t,e+r,t];return s&&n<s&&t+a<o&&o<t+i-a?l.splice(13,3,"L",e+n,o-6,e+n+6,o,e+n,o+6,e+n,t+i-r):s&&s<0&&t+a<o&&o<t+i-a?l.splice(33,3,"L",e,o+6,e-6,o,e,o-6,e,t+r):o&&i<o&&e+a<s&&s<e+n-a?l.splice(23,3,"L",s+6,t+i,s,t+i+6,s-6,t+i,e+r,t+i):o&&o<0&&e+a<s&&s<e+n-a&&l.splice(3,3,"L",s-6,t,s,t-6,s+6,t,n-r,t),l}},clipRect:function(e,t,n,i){var o="highcharts-"+Ae++,r=this.createElement("clipPath").attr({id:o}).add(this.defs);return(e=this.rect(e,t,n,i,0).add(r)).id=o,e.clipPath=r,e.count=0,e},text:function(e,t,n,i){var o=Se||!_e&&this.forExport,r={};return i&&!this.forExport?this.html(e,t,n):(r.x=Math.round(t||0),n&&(r.y=Math.round(n)),!e&&0!==e||(r.text=e),e=this.createElement("text").attr(r),o&&e.css({position:"absolute"}),i||(e.xSetter=function(e,t,n){for(var i,o=n.getElementsByTagName("tspan"),r=n.getAttribute(t),a=0;a<o.length;a++)(i=o[a]).getAttribute(t)===r&&i.setAttribute(t,e);n.setAttribute(t,e)}),e)},fontMetrics:function(e,t){var n,e=e||this.style.fontSize;return t&&u.getComputedStyle&&(t=t.element||t,e=(n=u.getComputedStyle(t,""))&&n.fontSize),{h:n=(e=/px/.test(e)?m(e):/em/.test(e)?12*parseFloat(e):12)<24?e+3:se(1.2*e),b:se(.8*n),f:e}},rotCorr:function(e,t,n){var i=e;return t&&n&&(i=ue(i*fe(t*ge),4)),{x:-e/3*pe(t*ge),y:i}},label:function(e,t,n,i,o,r,a,s,l){function c(){var e,t=k.element.style;f=(void 0===p||void 0===m||w.styles.textAlign)&&E(k.textStr)&&k.getBBox(),w.width=(p||f.width||0)+2*_+T,w.height=(m||f.height||0)+2*_,y=_+x.fontMetrics(t&&t.fontSize,k).b,b&&(h||(t=se(-C*_)+S,e=(s?-y:0)+S,w.box=h=i?x.symbol(i,t,e,w.width,w.height,D):x.rect(t,e,w.width,w.height,0,D["stroke-width"]),h.isImg||h.attr("fill",Pe),h.add(w)),h.isImg||h.attr(He({width:se(w.width),height:se(w.height)},D)),D=null)}function u(){var e=(e=w.styles)&&e.textAlign,t=T+_*(1-C),n=s?0:y;E(p)&&f&&("center"===e||"right"===e)&&(t+={center:.5,right:1}[e]*(p-f.width)),t===k.x&&n===k.y||(k.attr("x",t),n!==j&&k.attr("y",n)),k.x=t,k.y=n}function d(e,t){h?h.attr(e,t):D[e]=t}var h,f,p,m,g,v,y,b,x=this,w=x.g(l),k=x.text("",0,0,a).attr({zIndex:1}),C=0,_=3,T=0,S=0,D={};w.onAdd=function(){k.add(w),w.attr({text:e||0===e?e:"",x:t,y:n}),h&&E(o)&&w.attr({anchorX:o,anchorY:r})},w.widthSetter=function(e){p=e},w.heightSetter=function(e){m=e},w.paddingSetter=function(e){E(e)&&e!==_&&(_=w.padding=e,u())},w.paddingLeftSetter=function(e){E(e)&&e!==T&&(T=e,u())},w.alignSetter=function(e){C={left:0,center:.5,right:1}[e]},w.textSetter=function(e){e!==j&&k.textSetter(e),c(),u()},w["stroke-widthSetter"]=function(e,t){e&&(b=!0),S=e%2/2,d(t,e)},w.strokeSetter=w.fillSetter=w.rSetter=function(e,t){"fill"===t&&e&&(b=!0),d(t,e)},w.anchorXSetter=function(e,t){d(t,se(o=e)-S-g)},w.anchorYSetter=function(e,t){d(t,(r=e)-v)},w.xSetter=function(e){w.x=e,C&&(e-=C*((p||f.width)+_)),g=se(e),w.attr("translateX",g)},w.ySetter=function(e){v=w.y=se(e),w.attr("translateY",v)};var A=w.css;return He(w,{css:function(t){var n;return t&&(n={},t=M(t),Ge(w.textProps,function(e){t[e]!==j&&(n[e]=t[e],delete t[e])}),k.css(n)),A.call(w,t)},getBBox:function(){return{width:f.width+2*_,height:f.height+2*_,x:f.x-_,y:f.y-_}},shadow:function(e){return h&&h.shadow(e),w},destroy:function(){Je(w.element,"mouseenter"),Je(w.element,"mouseleave"),k=k&&k.destroy(),h=h&&h.destroy(),L.prototype.destroy.call(w),w=x=c=u=d=null}})}},s=ut,He(L.prototype,{htmlCss:function(e){var t=this.element;return(t=e&&"SPAN"===t.tagName&&e.width)&&(delete e.width,this.textWidth=t,this.updateTransform()),e&&"ellipsis"===e.textOverflow&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=He(this.styles,e),N(this.element,e),this},htmlGetBBox:function(){var e=this.element;return"text"===e.nodeName&&(e.style.position="absolute"),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){var t,n,i,o,e,r,a,s,l,c,u,d,h,f;this.added?(t=this.renderer,n=this.element,i=this.translateX||0,o=this.translateY||0,e=this.x||0,r=this.y||0,s={left:0,center:.5,right:1}[a=this.textAlign||"left"],l=this.shadows,c=this.styles,N(n,{marginLeft:i,marginTop:o}),l&&Ge(l,function(e){N(e,{marginLeft:i+1,marginTop:o+1})}),this.inverted&&Ge(n.childNodes,function(e){t.invertChild(e,n)}),"SPAN"===n.tagName&&(u=this.rotation,h=m(this.textWidth),(f=[u,a,n.innerHTML,this.textWidth,this.textAlign].join(","))!==this.cTT&&(d=t.fontMetrics(n.style.fontSize).b,E(u)&&this.setSpanRotation(u,s,d),h<(l=ze(this.elemWidth,n.offsetWidth))&&/[ \-]/.test(n.textContent||n.innerText)&&(N(n,{width:h+"px",display:"block",whiteSpace:c&&c.whiteSpace||"normal"}),l=h),this.getSpanCorrection(l,d,s,u,a)),N(n,{left:e+(this.xCorr||0)+"px",top:r+(this.yCorr||0)+"px"}),xe&&(d=n.offsetHeight),this.cTT=f)):this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var i={},o=ye?"-ms-transform":xe?"-webkit-transform":we?"MozTransform":ve?"-o-transform":"";i[o]=i.transform="rotate("+e+"deg)",i[o+(we?"Origin":"-origin")]=i.transformOrigin=100*t+"% "+n+"px",N(this.element,i)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),He(ut.prototype,{html:function(e,t,n){var o=this.createElement("span"),r=o.element,a=o.renderer;return o.textSetter=function(e){e!==r.innerHTML&&delete this.bBox,r.innerHTML=this.textStr=e,o.htmlUpdateTransform()},o.xSetter=o.ySetter=o.alignSetter=o.rotationSetter=function(e,t){"align"===t&&(t="textAlign"),o[t]=e,o.htmlUpdateTransform()},o.attr({text:e,x:se(t),y:se(n)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),r.style.whiteSpace="nowrap",o.css=o.htmlCss,a.isSVG&&(o.add=function(e){var t,i=a.box.parentNode,n=[];if(this.parentGroup=e){if(!(t=e.div)){for(;e;)n.push(e),e=e.parentGroup;Ge(n.reverse(),function(n){var o,e=(e=A(n.element,"class"))&&{className:e};t=n.div=n.div||P(Ne,e,{position:"absolute",left:(n.translateX||0)+"px",top:(n.translateY||0)+"px"},t||i),o=t.style,He(n,{translateXSetter:function(e,t){o.left=e+"px",n[t]=e,n.doTransform=!0},translateYSetter:function(e,t){o.top=e+"px",n[t]=e,n.doTransform=!0}}),je(n,"visibilitySetter",function(e,t,n,i){e.call(this,t,n,i),o[n]=t})})}}else t=i;return t.appendChild(r),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o}}),_e||Se||($e={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],i=["position: ","absolute",";"],o=t===Ne;"shape"!==t&&!o||i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",o?"hidden":"visible"),n.push(' style="',i.join(""),'"/>'),t&&(n=o||"span"===t||"img"===t?n.join(""):e.prepVML(n),this.element=P(n)),this.renderer=e},add:function(e){var t=this.renderer,n=this.element,i=t.box,i=e?e.element||e:i;return e&&e.inverted&&t.invertChild(n,i),i.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:L.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=fe(e*ge),n=pe(e*ge);N(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):Pe})},getSpanCorrection:function(e,t,n,i,o){var r,a=i?fe(i*ge):1,s=i?pe(i*ge):0,l=ze(this.elemHeight,this.element.offsetHeight);this.xCorr=a<0&&-e,this.yCorr=s<0&&-l,r=a*s<0,this.xCorr+=s*t*(r?1-n:n),this.yCorr-=a*t*(i?r?n:1-n:1),o&&"left"!==o&&(this.xCorr-=e*n*(a<0?-1:1),i&&(this.yCorr-=l*n*(s<0?-1:1)),N(this.element,{textAlign:o}))},pathToVML:function(e){for(var t=e.length,n=[];t--;)x(e[t])?n[t]=se(10*e[t])-5:"Z"===e[t]?n[t]="x":(n[t]=e[t],!e.isArc||"wa"!==e[t]&&"at"!==e[t]||(n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1)));return n.join(" ")||"x"},clip:function(e){var t,n=this;return e=e?(l(t=e.members,n),t.push(n),n.destroyClip=function(){l(t,n)},e.getCSS(n)):(n.destroyClip&&n.destroyClip(),{clip:be?"inherit":"rect(auto)"}),n.css(e)},css:L.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&a(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),L.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=u.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var n=(e=e.split(/[ ,]/)).length;return 9!==n&&11!==n||(e[n-4]=e[n-2]=m(e[n-2])-10*t),e.join(" ")},shadow:function(e,t,n){var i,o,r,a,s,l,c,u=[],d=this.element,h=this.renderer,f=d.style,p=d.path;if(p&&"string"!=typeof p.value&&(p="x"),s=p,e){for(l=ze(e.width,3),c=(e.opacity||.15)/l,i=1;i<=3;i++)a=2*l+1-2*i,n&&(s=this.cutOffPath(p.value,.5+a)),r=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',s,'" coordsize="10 10" style="',d.style.cssText,'" />'],o=P(h.prepVML(r),null,{left:m(f.left)+ze(e.offsetX,1),top:m(f.top)+ze(e.offsetY,1)}),n&&(o.cutOff=1+a),r=['<stroke color="',e.color||"black",'" opacity="',c*i,'"/>'],P(h.prepVML(r),null,null,o),t?t.element.appendChild(o):d.parentNode.insertBefore(o,d),u.push(o);this.shadows=u}return this},updateShadows:z,setAttr:function(e,t){be?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){(n.getElementsByTagName("stroke")[0]||P(this.renderer.prepVML(["<stroke/>"]),null,null,n))[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var i=this.shadows,e=e||[];if(this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e),i)for(n=i.length;n--;)i[n].path=i[n].cutOff?this.cutOffPath(e,i[n].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,n){var i=n.nodeName;"SPAN"===i?n.style.color=e:"IMG"!==i&&(n.filled=e!==Pe,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},opacitySetter:z,rotationSetter:function(e,t,n){n=n.style,this[t]=n[t]=e,n.left=-se(pe(e*ge)+1)+"px",n.top=se(fe(e*ge))+"px"},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,x(this[t]=e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(t,n,e){"inherit"===t&&(t="visible"),this.shadows&&Ge(this.shadows,function(e){e.style[n]=t}),"DIV"===e.nodeName&&(t="hidden"===t?"-999em":0,be||(e.style[n]=t?"visible":"hidden"),n="top"),e.style[n]=t},xSetter:function(e,t,n){this[t]=e,"x"===t?t="left":"y"===t&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},Le.VMLElement=$e=e(L,$e),$e.prototype.ySetter=$e.prototype.widthSetter=$e.prototype.heightSetter=$e.prototype.xSetter,$e={Element:$e,isIE8:-1<d.indexOf("MSIE 8.0"),init:function(e,t,n,i){var o;if(this.alignedObjects=[],o=(i=this.createElement(Ne).css(He(this.getStyle(i),{position:"relative"}))).element,e.appendChild(i.element),this.isVML=!0,this.box=o,this.boxWrapper=i,this.cache={},this.setSize(t,n,!1),!re.namespaces.hcv){re.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{re.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(e){re.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,i){var o=this.createElement(),r=h(e);return He(o,{members:[],count:0,left:(r?e.x:e)+1,top:(r?e.y:t)+1,width:(r?e.width:n)-1,height:(r?e.height:i)-1,getCSS:function(e){var t=(o=e.element).nodeName,e=e.inverted,n=this.top-("shape"===t?o.offsetTop:0),i=this.left,o=i+this.width,r=n+this.height,n={clip:"rect("+se(e?i:n)+"px,"+se(e?r:o)+"px,"+se(e?o:r)+"px,"+se(e?n:i)+"px)"};return!e&&be&&"DIV"===t&&He(n,{width:o+"px",height:r+"px"}),n},updateClipping:function(){Ge(o.members,function(e){e.element&&e.css(o.getCSS(e))})}})},color:function(e,t,n,i){var o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,x,w,k,C,_,T=this,S=/^rgba/,D=Pe;return e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern"),a?(c=e.linearGradient||e.radialGradient,p="",e=e.stops,m=[],g=function(){r=['<fill colors="'+m.join(",")+'" opacity="',d,'" o:opacity2="',u,'" type="',a,'" ',p,'focus="100%" method="any" />'],P(T.prepVML(r),null,null,t)},C=e[0],_=e[e.length-1],0<C[0]&&e.unshift([0,C[1]]),_[0]<1&&e.push([1,_[1]]),Ge(e,function(e,t){l=S.test(e[1])?(o=ct(e[1]),s=o.get("rgb"),o.get("a")):(s=e[1],1),m.push(100*e[0]+"% "+s),t?(d=l,h=s):(u=l,f=s)}),"fill"===n?"gradient"===a?(n=c.x1||c[0]||0,e=c.y1||c[1]||0,C=c.x2||c[2]||0,c=c.y2||c[3]||0,p='angle="'+(90-180*ae.atan((c-e)/(C-n))/me)+'"',g()):(v=2*(D=c.r),y=2*D,b=c.cx,x=c.cy,w=t.radialReference,D=function(){w&&(k=i.getBBox(),b+=(w[0]-k.x)/k.width-.5,x+=(w[1]-k.y)/k.height-.5,v*=w[2]/k.width,y*=w[2]/k.height),p='src="'+Ue.global.VMLRadialGradientURL+'" size="'+v+","+y+'" origin="0.5,0.5" position="'+b+","+x+'" color2="'+f+'" ',g()},i.added?D():i.onAdd=D,D=h):D=s):D=S.test(e)&&"IMG"!==t.tagName?(o=ct(e),r=["<",n,' opacity="',o.get("a"),'"/>'],P(this.prepVML(r),null,null,t),o.get("rgb")):((D=t.getElementsByTagName(n)).length&&(D[0].opacity=1,D[0].type="solid"),e),D},prepVML:function(e){var t=this.isIE8,e=e.join("");return e=t?-1===(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />')).indexOf('style="')?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);'):e.replace("<","<hcv:")},text:ut.prototype.html,path:function(e){var t={coordsize:"10 10"};return y(e)?t.d=e:h(e)&&He(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var i=this.symbol("circle");return h(e)&&(n=e.r,t=e.y,e=e.x),i.isCircle=!0,i.r=n,i.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,class:"highcharts-"+e}),this.createElement(Ne).attr(t)},image:function(e,t,n,i,o){var r=this.createElement("img").attr({src:e});return 1<arguments.length&&r.attr({x:t,y:n,width:i,height:o}),r},createElement:function(e){return"rect"===e?this.symbol(e):ut.prototype.createElement.call(this,e)},invertChild:function(t,e){var n=this,i=e.style,e="IMG"===t.tagName&&t.style;N(t,{flip:"x",left:m(i.width)-(e?m(e.top):1),top:m(i.height)-(e?m(e.left):1),rotation:-90}),Ge(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(e,t,n,i,o){var r=o.start,a=o.end,s=o.r||n||i,n=o.innerR,i=fe(r),l=pe(r),c=fe(a),u=pe(a);return a-r==0?["x"]:(r=["wa",e-s,t-s,e+s,t+s,e+s*i,t+s*l,e+s*c,t+s*u],o.open&&!n&&r.push("e","M",e,t),r.push("at",e-n,t-n,e+n,t+n,e+n*c,t+n*u,e+n*i,t+n*l,"x","e"),r.isArc=!0,r)},circle:function(e,t,n,i,o){return o&&(n=i=2*o.r),o&&o.isCircle&&(e-=n/2,t-=i/2),["wa",e,t,e+n,t+i,e+n,t+i/2,e+n,t+i/2,"e"]},rect:function(e,t,n,i,o){return ut.prototype.symbols[E(o)&&o.r?"callout":"square"].call(0,e,t,n,i,o)}}},Le.VMLRenderer=dt=function(){this.init.apply(this,arguments)},dt.prototype=M(ut.prototype,$e),s=dt),ut.prototype.measureSpanWidth=function(e,t){var n=re.createElement("span"),e=re.createTextNode(e);return n.appendChild(e),N(n,t),this.box.appendChild(n),e=n.offsetWidth,a(n),e},Se&&(Le.CanVGRenderer=$e=function(){Ce="http://www.w3.org/1999/xhtml"},$e.prototype.symbols={},ft=[],ht={push:function(e,t){0===ft.length&&qe(t,pt),ft.push(e)}},s=$e),B.prototype={addLabel:function(){var e,t=this.axis,n=t.options,i=t.chart,o=t.categories,r=t.names,a=this.pos,s=n.labels,l=a===(u=t.tickPositions)[0],c=a===u[u.length-1],r=o?ze(o[a],r[a],a):a,o=this.label,u=u.info;t.isDatetimeAxis&&u&&(e=n.dateTimeLabelFormats[u.higherRanks[a]||u.unitName]),this.isFirst=l,this.isLast=c,n=t.labelFormatter.call({axis:t,chart:i,isFirst:l,isLast:c,dateTimeLabelFormat:e,value:t.isLog?I(k(r)):r}),E(o)?o&&o.attr({text:n}):(this.labelLength=(this.label=o=E(n)&&s.enabled?i.renderer.text(n,0,0,s.useHTML).css(M(s.style)).add(t.labelGroup):null)&&o.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t,n=this.axis,i=e.x,o=n.chart.chartWidth,r=n.chart.spacing,a=ze(n.labelLeft,de(n.pos,r[3])),r=ze(n.labelRight,ue(n.pos+n.len,o-r[1])),s=this.label,l=this.rotation,c={left:0,center:.5,right:1}[n.labelAlign],u=s.getBBox().width,d=n.slotWidth,h=1,f={};l?l<0&&i-c*u<a?t=se(i/fe(l*ge)-a):0<l&&r<i+c*u&&(t=se((o-i)/fe(l*ge))):(o=i+(1-c)*u,i-c*u<a?d=e.x+d*(1-c)-a:r<o&&(d=r-e.x+d*c,h=-1),(d=de(n.slotWidth,d))<n.slotWidth&&"center"===n.labelAlign&&(e.x+=h*(n.slotWidth-d-c*(n.slotWidth-de(u,d)))),(d<u||n.autoRotation&&s.styles.width)&&(t=d)),t&&(f.width=t,n.options.labels.style.textOverflow||(f.textOverflow="ellipsis"),s.css(f))},getPosition:function(e,t,n,i){var o=this.axis,r=o.chart,a=i&&r.oldChartHeight||r.chartHeight;return{x:e?o.translate(t+n,null,null,i)+o.transB:o.left+o.offset+(o.opposite?(i&&r.oldChartWidth||r.chartWidth)-o.right-o.left:0),y:e?a-o.bottom+o.offset-(o.opposite?o.height:0):a-o.translate(t+n,null,null,i)-o.transB}},getLabelPosition:function(e,t,n,i,o,r,a,s){var l=this.axis,c=l.transA,u=l.reversed,d=l.staggerLines,h=l.tickRotCorr||{x:0,y:0},n=ze(o.y,h.y+(2===l.side?8:-n.getBBox().height/2)),e=e+o.x+h.x-(r&&i?r*c*(u?-1:1):0),t=t+n-(r&&!i?r*c*(u?1:-1):0);return d&&(t+=a/(s||1)%d*(l.labelOffset/d)),{x:e,y:se(t)}},getMarkPath:function(e,t,n,i,o,r){return r.crispLine(["M",e,t,"L",e+(o?0:-n),t+(o?n:0)],i)},render:function(e,t,n){var i=this.axis,o=i.options,r=i.chart.renderer,a=i.horiz,s=this.type,l=this.label,c=this.pos,u=o.labels,d=this.gridLine,h=s?s+"Tick":"tick",f=o[(v=s?s+"Grid":"grid")+"LineWidth"],p=o[v+"LineColor"],m=o[v+"LineDashStyle"],g=o[h+"Length"],v=ze(o[h+"Width"],!s&&i.isXAxis?1:0),y=o[h+"Color"],b=o[h+"Position"],h=this.mark,x=u.step,w=!0,k=i.tickmarkOffset,C=(_=this.getPosition(a,c,k,t)).x,_=_.y,T=a&&C===i.pos+i.len||!a&&_===i.pos?-1:1,n=ze(n,1);this.isActive=!0,f&&(c=i.getPlotLinePath(c+k,f*T,t,!0),d===j&&(d={stroke:p,"stroke-width":f},m&&(d.dashstyle=m),s||(d.zIndex=1),t&&(d.opacity=0),this.gridLine=d=f?r.path(c).attr(d).add(i.gridGroup):null),!t&&d&&c&&d[this.isNew?"attr":"animate"]({d:c,opacity:n})),v&&g&&("inside"===b&&(g=-g),i.opposite&&(g=-g),s=this.getMarkPath(C,_,g,v*T,a,r),h?h.animate({d:s,opacity:n}):this.mark=r.path(s).attr({stroke:y,"stroke-width":v,opacity:n}).add(i.axisGroup)),l&&!isNaN(C)&&(l.xy=_=this.getLabelPosition(C,_,l,a,u,k,e,x),this.isFirst&&!this.isLast&&!ze(o.showFirstLabel,1)||this.isLast&&!this.isFirst&&!ze(o.showLastLabel,1)?w=!1:!a||i.isRadial||u.step||u.rotation||t||0===n||this.handleOverflow(_),x&&e%x&&(w=!1),w&&!isNaN(_.y)?(_.opacity=n,l[this.isNew?"attr":"animate"](_),this.isNew=!1):l.attr("y",-9999))},destroy:function(){r(this,this.axis)}},Le.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},Le.PlotLineOrBand.prototype={render:function(){var e,n=this,t=n.axis,i=t.horiz,o=n.options,r=o.label,a=n.label,s=o.width,l=o.to,c=o.from,u=E(c)&&E(l),d=o.value,h=o.dashStyle,f=n.svgElem,p=[],m=o.color,g=o.zIndex,v=o.events,y={},b=t.chart.renderer;if(t.isLog&&(c=w(c),l=w(l),d=w(d)),s)p=t.getPlotLinePath(d,s),y={stroke:m,"stroke-width":s},h&&(y.dashstyle=h);else{if(!u)return;p=t.getPlotBandPath(c,l,o),m&&(y.fill=m),o.borderWidth&&(y.stroke=o.borderColor,y["stroke-width"]=o.borderWidth)}if(E(g)&&(y.zIndex=g),f)p?f.animate({d:p},null,f.onGetPath):(f.hide(),f.onGetPath=function(){f.show()},a&&(n.label=a=a.destroy()));else if(p&&p.length&&(n.svgElem=f=b.path(p).attr(y).add(),v))for(e in o=function(t){f.on(t,function(e){v[t].apply(n,[e])})},v)o(e);return r&&E(r.text)&&p&&p.length&&0<t.width&&0<t.height?(r=M({align:i&&u&&"center",x:i?!u&&4:10,verticalAlign:!i&&u&&"middle",y:i?u?16:10:u?6:-4,rotation:i&&!u&&90},r),a||(y={align:r.textAlign||r.align,rotation:r.rotation},E(g)&&(y.zIndex=g),n.label=a=b.text(r.text,0,0,r.useHTML).attr(y).css(r.style).add()),t=[p[1],p[4],u?p[6]:p[1]],u=[p[2],p[5],u?p[7]:p[2]],p=S(t),i=S(u),a.align(r,!1,{x:p,y:i,width:O(t)-p,height:O(u)-i}),a.show()):a&&a.hide(),n},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,r(this)}};var mt=Le.Axis=function(){this.init.apply(this,arguments)};mt.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return Le.numberFormat(this.total,-1)},style:M(ot.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(e,t){var n=t.isX;this.chart=e,this.horiz=e.inverted?!n:n,this.coll=(this.isXAxis=n)?"xAxis":"yAxis",this.opposite=t.opposite,this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var i=(r=this.options).type;this.labelFormatter=r.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.reversed=r.reversed,this.zoomEnabled=!1!==r.zoomEnabled,this.categories=r.categories||"category"===i,this.names=this.names||[],this.isLog="logarithmic"===i,this.isDatetimeAxis="datetime"===i,this.isLinked=E(r.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=r.minRange||r.maxZoom,this.range=r.range,this.offset=r.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=ze(r.crosshair,f(e.options.tooltip.crosshairs)[n?0:1],!1);var o,r=this.options.events;for(o in-1===Ve(this,e.axes)&&(n&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&n&&this.reversed===j&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine,r)Ze(this,o,r[o]);this.isLog&&(this.val2lin=w,this.lin2val=k)},setOptions:function(e){this.options=M(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],M(Ue[this.coll],e))},defaultLabelFormatter:function(){var e,t=this.axis,n=this.value,i=t.categories,o=this.dateTimeLabelFormat,r=Ue.lang.numericSymbols,a=r&&r.length,s=t.options.labels.format,t=t.isLog?n:t.tickInterval;if(s)e=b(s,this);else if(i)e=n;else if(o)e=Fe(o,n);else if(a&&1e3<=t)for(;a--&&e===j;)(i=Math.pow(1e3,a+1))<=t&&10*n%i==0&&null!==r[a]&&(e=Le.numberFormat(n/i,-1)+r[a]);return e===j&&(e=1e4<=he(n)?Le.numberFormat(n,-1):Le.numberFormat(n,-1,j,"")),e},getSeriesExtremes:function(){var i=this,o=i.chart;i.hasVisibleSeries=!1,i.dataMin=i.dataMax=i.ignoreMinPadding=i.ignoreMaxPadding=null,i.buildStacks&&i.buildStacks(),Ge(i.series,function(e){var t,n;!e.visible&&o.options.chart.ignoreHiddenSeries||(n=e.options.threshold,i.hasVisibleSeries=!0,i.isLog&&n<=0&&(n=null),i.isXAxis?(n=e.xData).length&&(i.dataMin=de(ze(i.dataMin,n[0]),S(n)),i.dataMax=ue(ze(i.dataMax,n[0]),O(n))):(e.getExtremes(),t=e.dataMax,E(e=e.dataMin)&&E(t)&&(i.dataMin=de(ze(i.dataMin,e),e),i.dataMax=ue(ze(i.dataMax,t),t)),E(n)&&(i.dataMin>=n?(i.dataMin=n,i.ignoreMinPadding=!0):i.dataMax<n&&(i.dataMax=n,i.ignoreMaxPadding=!0))))})},translate:function(e,t,n,i,o,r){var a=this.linkedParent||this,s=1,l=0,c=i?a.oldTransA:a.transA,i=i?a.oldMin:a.min,u=a.minPixelPadding,o=(a.doPostTranslate||a.isLog&&o)&&a.lin2val,c=c||a.transA;return n&&(s*=-1,l=a.len),a.reversed&&(l-=(s*=-1)*(a.sector||a.len)),t?(e=e*s+l,e=(e-=u)/c+i,o&&(e=a.lin2val(e))):(o&&(e=a.val2lin(e)),"between"===r&&(r=.5),e=s*(e-i)*c+l+s*u+(x(r)?c*r*a.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,i,o){function r(e,t,n){return(e<t||n<e)&&(i?e=de(ue(t,e),n):s=!0),e}var a,s,l=this.chart,c=this.left,u=this.top,d=n&&l.oldChartHeight||l.chartHeight,h=n&&l.oldChartWidth||l.chartWidth,f=this.transB,o=ze(o,this.translate(e,null,null,n)),e=n=se(o+f);return f=a=se(d-o-f),isNaN(o)?s=!0:this.horiz?(f=u,a=d-this.bottom,e=n=r(e,c,c+this.width)):(e=c,n=h-this.right,f=a=r(f,u,u+this.height)),s&&!i?null:l.renderer.crispLine(["M",e,f,"L",n,a],t||1)},getLinearTickPositions:function(e,t,n){var i,o=I(le(t/e)*e),r=I(ce(n/e)*e),a=[];if(t===n&&x(t))return[t];for(t=o;t<=r&&(a.push(t),(t=I(t+e))!==i);)i=t;return a},getMinorTickPositions:function(){var e=this.options,t=this.tickPositions,n=this.minorTickInterval,i=[],o=this.pointRangePadding||0,r=this.min-o,a=(o=this.max+o)-r;if(a&&a/n<this.len/3)if(this.isLog)for(o=t.length,r=1;r<o;r++)i=i.concat(this.getLogTickPositions(n,t[r-1],t[r],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)i=i.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),r,o,e.startOfWeek));else for(t=r+(t[0]-r)%n;t<=o;t+=n)i.push(t);return 0!==i.length&&this.trimTicks(i,e.startOnTick,e.endOnTick),i},adjustForMinRange:function(){var t,n,i,o,e,r,a=this.options,s=this.min,l=this.max,c=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&this.minRange===j&&!this.isLog&&(E(a.min)||E(a.max)?this.minRange=null:(Ge(this.series,function(e){for(o=e.xData,n=e.xIncrement?1:o.length-1;0<n;n--)i=o[n]-o[n-1],(t===j||i<t)&&(t=i)}),this.minRange=de(5*t,this.dataMax-this.dataMin))),l-s<this.minRange&&(r=[s-(r=((e=this.minRange)-l+s)/2),ze(a.min,s-r)],c&&(r[2]=this.dataMin),l=[(s=O(r))+e,ze(a.max,s+e)],c&&(l[2]=this.dataMax),(l=S(l))-s<e&&(r[0]=l-e,r[1]=ze(a.min,l-e),s=O(r))),this.min=s,this.max=l},setAxisTranslation:function(e){var o,r=this,a=r.max-r.min,s=r.axisPointRange||0,l=0,c=0,t=r.linkedParent,u=!!r.categories,n=r.transA,d=r.isXAxis;(d||u||s)&&(t?(l=t.minPointOffset,c=t.pointRangePadding):Ge(r.series,function(e){var t=u?1:d?e.pointRange:r.axisPointRange||0,n=e.options.pointPlacement,i=e.closestPointRange;a<t&&(t=0),s=ue(s,t),r.single||(l=ue(l,v(n)?0:t/2),c=ue(c,"on"===n?0:t)),!e.noSharedTooltip&&E(i)&&(o=E(o)?de(o,i):i)}),t=r.ordinalSlope&&o?r.ordinalSlope/o:1,r.minPointOffset=l*=t,r.pointRangePadding=c*=t,r.pointRange=de(s,a),d&&(r.closestPointRange=o)),e&&(r.oldTransA=n),r.translationSlope=r.transA=n=r.len/(a+c||1),r.transB=r.horiz?r.left:r.bottom,r.minPixelPadding=n*l},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var t=this,n=t.chart,i=t.options,o=t.isLog,r=t.isDatetimeAxis,a=t.isXAxis,s=t.isLinked,l=i.maxPadding,c=i.minPadding,u=i.tickInterval,d=i.tickPixelInterval,h=t.categories;r||h||s||this.getTickAmount(),s?(t.linkedParent=n[t.coll][i.linkedTo],n=t.linkedParent.getExtremes(),t.min=ze(n.min,n.dataMin),t.max=ze(n.max,n.dataMax),i.type!==t.linkedParent.options.type&&D(11,1)):(t.min=ze(t.userMin,i.min,t.dataMin),t.max=ze(t.userMax,i.max,t.dataMax)),o&&(!e&&de(t.min,ze(t.dataMin,t.min))<=0&&D(10,1),t.min=I(w(t.min),15),t.max=I(w(t.max),15)),t.range&&E(t.max)&&(t.userMin=t.min=ue(t.min,t.minFromRange()),t.userMax=t.max,t.range=null),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),h||t.axisPointRange||t.usePercentage||s||!E(t.min)||!E(t.max)||!(n=t.max-t.min)||(E(i.min)||E(t.userMin)||!c||!(t.dataMin<0)&&t.ignoreMinPadding||(t.min-=n*c),E(i.max)||E(t.userMax)||!l||!(0<t.dataMax)&&t.ignoreMaxPadding||(t.max+=n*l)),x(i.floor)&&(t.min=ue(t.min,i.floor)),x(i.ceiling)&&(t.max=de(t.max,i.ceiling)),t.tickInterval=t.min===t.max||void 0===t.min||void 0===t.max?1:s&&!u&&d===t.linkedParent.options.tickPixelInterval?u=t.linkedParent.tickInterval:ze(u,this.tickAmount?(t.max-t.min)/ue(this.tickAmount-1,1):void 0,h?1:(t.max-t.min)*d/ue(t.len,d)),a&&!e&&Ge(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),t.pointRange&&(t.tickInterval=ue(t.pointRange,t.tickInterval)),e=ze(i.minTickInterval,t.isDatetimeAxis&&t.closestPointRange),!u&&t.tickInterval<e&&(t.tickInterval=e),r||o||u||(t.tickInterval=_(t.tickInterval,null,C(t.tickInterval),ze(i.allowDecimals,!(.5<t.tickInterval&&t.tickInterval<5&&1e3<t.max&&t.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(t.tickInterval=t.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,t,n=this.options,i=n.tickPositions,o=n.tickPositioner,r=n.startOnTick,a=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n.minorTickInterval&&this.tickInterval?this.tickInterval/5:n.minorTickInterval,this.tickPositions=e=i&&i.slice(),!e&&((e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max)).length>this.len&&(e=[e[0],e.pop()]),this.tickPositions=e,o=o&&o.apply(this,[this.min,this.max]))&&(this.tickPositions=e=o),this.isLinked||(this.trimTicks(e,r,a),this.min===this.max&&E(this.min)&&!this.tickAmount&&(t=!0,this.min-=.5,this.max+=.5),this.single=t,i||o||this.adjustTickAmount())},trimTicks:function(e,t,n){var i=e[0],o=e[e.length-1],r=this.minPointOffset||0;t?this.min=i:this.min-r>i&&e.shift(),n?this.max=o:this.max+r<o&&e.pop(),0===e.length&&E(i)&&e.push((o+i)/2)},getTickAmount:function(){var i,o={},e=this.options,t=e.tickAmount,n=e.tickPixelInterval;!E(e.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&e.startOnTick&&e.endOnTick&&(t=2),t||!1===this.chart.options.chart.alignTicks||!1===e.alignTicks||(Ge(this.chart[this.coll],function(e){var t=e.options,n=e.horiz,t=[n?t.left:t.top,n?t.width:t.height,t.pane].join(",");o[t]?e.series.length&&(i=!0):o[t]=1}),i&&(t=ce(this.len/n)+1)),t<4&&(this.finalTickAmt=t,t=5),this.tickAmount=t},adjustTickAmount:function(){var e=this.tickInterval,t=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,o=t&&t.length;if(o<n){for(;t.length<n;)t.push(I(t[t.length-1]+e));this.transA*=(o-1)/(n-1),this.max=t[t.length-1]}else n<o&&(this.tickInterval*=2,this.setTickPositions());if(E(i)){for(e=n=t.length;e--;)(3===i&&e%2==1||i<=2&&0<e&&e<n-1)&&t.splice(e,1);this.finalTickAmt=j}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,Ge(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(e,t,n,i,o){var r=this,a=r.chart,n=ze(n,!0);Ge(r.series,function(e){delete e.kdTree}),o=He(o,{min:e,max:t}),et(r,"setExtremes",o,function(){r.userMin=e,r.userMax=t,r.eventArgs=o,n&&a.redraw(i)})},zoom:function(e,t){var n=this.dataMin,i=this.dataMax,o=this.options,r=de(n,ze(o.min,n)),o=ue(i,ze(o.max,i));return this.allowZoomOutside||(E(n)&&e<=r&&(e=r),E(i)&&o<=t&&(t=o)),this.displayBtn=e!==j||t!==j,this.setExtremes(e,t,!1,j,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=(a=this.options).offsetLeft||0,n=this.horiz,i=ze(a.width,e.plotWidth-t+(a.offsetRight||0)),o=ze(a.height,e.plotHeight),r=ze(a.top,e.plotTop),a=ze(a.left,e.plotLeft+t);(t=/%$/).test(o)&&(o=parseFloat(o)/100*e.plotHeight),t.test(r)&&(r=parseFloat(r)/100*e.plotHeight+e.plotTop),this.left=a,this.top=r,this.width=i,this.height=o,this.bottom=e.chartHeight-o-r,this.right=e.chartWidth-i-a,this.len=ue(n?i:o,0),this.pos=n?a:r},getExtremes:function(){var e=this.isLog;return{min:e?I(k(this.min)):this.min,max:e?I(k(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=(n=this.isLog)?k(this.min):this.min,n=n?k(this.max):this.max;return null===e?e=n<0?n:t:e<t?e=t:n<e&&(e=n),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return 15<(e=(ze(e,0)-90*this.side+720)%360)&&e<165?"right":195<e&&e<345?"left":"center"},unsquish:function(){function n(e){return(e=1<(e/=c||1)?ce(e):1)*s}var i,o,e,t=this.ticks,r=this.options.labels,a=this.horiz,s=this.tickInterval,l=s,c=this.len/(((this.categories?1:0)+this.max-this.min)/s),u=r.rotation,d=this.chart.renderer.fontMetrics(r.style.fontSize,t[0]&&t[0].label),h=Number.MAX_VALUE;return a?(e=E(u)?[u]:c<ze(r.autoRotationLimit,80)&&!r.staggerLines&&!r.step&&r.autoRotation)&&Ge(e,function(e){var t;!(e===u||e&&-90<=e&&e<=90)||(t=(o=n(he(d.h/pe(ge*e))))+he(e/360))<h&&(h=t,i=e,l=o)}):r.step||(l=n(d.h)),this.autoRotation=e,this.labelRotation=i,l},renderUnsquish:function(){var n,e=this.chart,t=e.renderer,i=this.tickPositions,o=this.ticks,r=this.options.labels,a=this.horiz,s=e.margin,l=this.categories?i.length:i.length-1,c=this.slotWidth=a&&!r.step&&!r.rotation&&(this.staggerLines||1)*e.plotWidth/l||!a&&(s[3]&&s[3]-e.spacing[3]||.33*e.chartWidth),u=ue(1,se(c-2*(r.padding||5))),d={},s=t.fontMetrics(r.style.fontSize,o[0]&&o[0].label),l=r.style.textOverflow,h=0;if(v(r.rotation)||(d.rotation=r.rotation||0),this.autoRotation)Ge(i,function(e){(e=o[e])&&e.labelLength>h&&(h=e.labelLength)}),u<h&&h>s.h?d.rotation=this.labelRotation:this.labelRotation=0;else if(c&&(n={width:u+"px"},!l))for(n.textOverflow="clip",c=i.length;!a&&c--;)u=i[c],(u=o[u].label)&&("ellipsis"===u.styles.textOverflow&&u.css({textOverflow:"clip"}),u.getBBox().height>this.len/i.length-(s.h-s.f)&&(u.specCss={textOverflow:"ellipsis"}));d.rotation&&(n={width:(h>.5*e.chartHeight?.33*e.chartHeight:e.chartHeight)+"px"},!l)&&(n.textOverflow="ellipsis"),this.labelAlign=d.align=r.align||this.autoLabelAlign(this.labelRotation),Ge(i,function(e){var t=(e=o[e])&&e.label;t&&(n&&t.css(M(n,t.specCss)),delete t.specCss,t.attr(d),e.rotation=d.rotation)}),this.tickRotCorr=t.rotCorr(s.b,this.labelRotation||0,2===this.side)},hasData:function(){return this.hasVisibleSeries||E(this.min)&&E(this.max)&&!!this.tickPositions},getOffset:function(){var e,t,n,i=this,o=(v=i.chart).renderer,r=i.options,a=i.tickPositions,s=i.ticks,l=i.horiz,c=i.side,u=v.inverted?[1,0,3,2][c]:c,d=0,h=0,f=r.title,p=r.labels,m=0,g=v.axisOffset,v=v.clipOffset,y=[-1,1,1,-1][c],b=i.hasData();if(i.showAxis=e=b||ze(r.showEmpty,!0),i.staggerLines=i.horiz&&p.staggerLines,i.axisGroup||(i.gridGroup=o.g("grid").attr({zIndex:r.gridZIndex||1}).add(),i.axisGroup=o.g("axis").attr({zIndex:r.zIndex||2}).add(),i.labelGroup=o.g("axis-labels").attr({zIndex:p.zIndex||7}).addClass("highcharts-"+i.coll.toLowerCase()+"-labels").add()),b||i.isLinked)Ge(a,function(e){s[e]?s[e].addLabel():s[e]=new B(i,e)}),i.renderUnsquish(),Ge(a,function(e){0!==c&&2!==c&&{1:"left",3:"right"}[c]!==i.labelAlign||(m=ue(s[e].getLabelSize(),m))}),i.staggerLines&&(m*=i.staggerLines,i.labelOffset=m);else for(n in s)s[n].destroy(),delete s[n];f&&f.text&&!1!==f.enabled&&(i.axisTitle||(i.axisTitle=o.text(f.text,0,0,f.useHTML).attr({zIndex:7,rotation:f.rotation||0,align:f.textAlign||{low:"left",middle:"center",high:"right"}[f.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(f.style).add(i.axisGroup),i.axisTitle.isNew=!0),e&&(d=i.axisTitle.getBBox()[l?"height":"width"],h=E(t=f.offset)?0:ze(f.margin,l?5:10)),i.axisTitle[e?"show":"hide"]()),i.offset=y*ze(r.offset,g[c]),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},o=2===c?i.tickRotCorr.y:0,l=m+h+(m&&y*(l?ze(p.y,i.tickRotCorr.y+8):p.x)-o),i.axisTitleMargin=ze(t,l),g[c]=ue(g[c],i.axisTitleMargin+d+y*i.offset,l),r=r.offset?0:2*le(r.lineWidth/2),v[u]=ue(v[u],r)},getLinePath:function(e){var t=this.chart,n=this.opposite,i=this.offset,o=this.horiz,r=this.left+(n?this.width:0)+i,i=t.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(e*=-1),t.renderer.crispLine(["M",o?this.left:r,o?i:this.top,"L",o?t.chartWidth-this.right:r,o?i:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,i=this.len,o=this.options.title,r=e?t:n,a=this.opposite,s=this.offset,l=o.x||0,c=o.y||0,u=m(o.style.fontSize||12),i={low:r+(e?0:i),middle:r+i/2,high:r+(e?i:0)}[o.align],t=(e?n+this.height:t)+(e?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?u:0);return{x:e?i+l:t+(a?this.width:0)+s+l,y:e?t+c-(a?this.height:0)+s:i+c}},render:function(){var e,n,i,o=this,a=o.chart,t=a.renderer,r=o.options,s=o.isLog,l=o.isLinked,c=o.tickPositions,u=o.axisTitle,d=o.ticks,h=o.minorTicks,f=o.alternateBands,p=r.stackLabels,m=r.alternateGridColor,g=o.tickmarkOffset,v=r.lineWidth,y=a.hasRendered&&E(o.oldMin)&&!isNaN(o.oldMin),b=o.showAxis,x=t.globalAnimation;o.labelEdge.length=0,o.overlap=!1,Ge([d,h,f],function(e){for(var t in e)e[t].isActive=!1}),(o.hasData()||l)&&(o.minorTickInterval&&!o.categories&&Ge(o.getMinorTickPositions(),function(e){h[e]||(h[e]=new B(o,e,"minor")),y&&h[e].isNew&&h[e].render(null,!0),h[e].render(null,!1,1)}),c.length&&(Ge(c,function(e,t){(!l||e>=o.min&&e<=o.max)&&(d[e]||(d[e]=new B(o,e)),y&&d[e].isNew&&d[e].render(t,!0,.1),d[e].render(t))}),g&&(0===o.min||o.single))&&(d[-1]||(d[-1]=new B(o,-1,null,!0)),d[-1].render(-1)),m&&Ge(c,function(e,t){t%2==0&&e<o.max&&(f[e]||(f[e]=new Le.PlotLineOrBand(o)),n=e+g,i=c[t+1]!==j?c[t+1]+g:o.max,f[e].options={from:s?k(n):n,to:s?k(i):i,color:m},f[e].render(),f[e].isActive=!0)}),o._addedPlotLB||(Ge((r.plotLines||[]).concat(r.plotBands||[]),function(e){o.addPlotBandOrLine(e)}),o._addedPlotLB=!0)),Ge([d,h,f],function(e){function t(){for(i=o.length;i--;)e[o[i]]&&!e[o[i]].isActive&&(e[o[i]].destroy(),delete e[o[i]])}var n,i,o=[],r=x?x.duration||500:0;for(n in e)e[n].isActive||(e[n].render(n,!1,0),e[n].isActive=!1,o.push(n));e!==f&&a.hasRendered&&r?r&&setTimeout(t,r):t()}),v&&(e=o.getLinePath(v),o.axisLine?o.axisLine.animate({d:e}):o.axisLine=t.path(e).attr({stroke:r.lineColor,"stroke-width":v,zIndex:7}).add(o.axisGroup),o.axisLine[b?"show":"hide"]()),u&&b&&(u[u.isNew?"attr":"animate"](o.getTitlePosition()),u.isNew=!1),p&&p.enabled&&o.renderStackTotals(),o.isDirty=!1},redraw:function(){this.render(),Ge(this.plotLinesAndBands,function(e){e.render()}),Ge(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t,n=this,i=n.stacks,o=n.plotLinesAndBands;for(t in e||Je(n),i)r(i[t]),i[t]=null;for(Ge([n.ticks,n.minorTicks,n.alternateBands],function(e){r(e)}),e=o.length;e--;)o[e].destroy();Ge("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(e){n[e]&&(n[e]=n[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){var n,i=this.crosshair,o=i.animation;!this.crosshair||!1===(E(t)||!ze(this.crosshair.snap,!0))||t&&t.series&&t.series[this.coll]!==this?this.hideCrosshair():(ze(i.snap,!0)?E(t)&&(n=this.isXAxis?t.plotX:this.len-t.plotY):n=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,null===(n=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:ze(t.stackY,t.y))||null:this.getPlotLinePath(null,null,null,null,n)||null)?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[o?"animate":"attr"]({d:n},o):(o=this.categories&&!this.isRadial,o={"stroke-width":i.width||(o?this.transA:1),stroke:i.color||(o?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:i.zIndex||2},i.dashStyle&&(o.dashstyle=i.dashStyle),this.cross=this.chart.renderer.path(n).attr(o).add()))},hideCrosshair:function(){this.cross&&this.cross.hide()}},He(mt.prototype,{getPlotBandPath:function(e,t){t=this.getPlotLinePath(t,null,null,!0),e=this.getPlotLinePath(e,null,null,!0);return e&&t&&e.toString()!==t.toString()?e.push(t[4],t[5],t[1],t[2]):e=null,e},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=new Le.PlotLineOrBand(this,e).render(),i=this.userOptions;return n&&(t&&(i[t]=i[t]||[],i[t].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,o=e.length;o--;)e[o].id===t&&e[o].destroy();Ge([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(o=e.length;o--;)e[o].id===t&&l(e,e[o])})}}),mt.prototype.getTimeTicks=function(e,t,n,i){var o,r=[],a={},s=Ue.global.useUTC,l=new W(t-g(t)),c=e.unitRange,u=e.count;if(E(t)){l[Z](We.second<=c?0:u*le(l.getMilliseconds()/u)),We.second<=c&&l[J](We.minute<=c?0:u*le(l.getSeconds()/u)),We.minute<=c&&l[ee](We.hour<=c?0:u*le(l[q]()/u)),We.hour<=c&&l[te](We.day<=c?0:u*le(l[V]()/u)),We.day<=c&&l[ne](We.month<=c?1:u*le(l[Q]()/u)),We.month<=c&&(l[ie](We.year<=c?0:u*le(l[X]()/u)),o=l[K]()),We.year<=c&&(o-=o%u,l[oe](o)),c===We.week&&l[ne](l[Q]()-l[G]()+ze(i,1)),t=1,(U||Y)&&(l=l.getTime(),l=new W(l+g(l))),o=l[K]();for(var i=l.getTime(),d=l[X](),h=l[Q](),f=(We.day+(s?g(l):6e4*l.getTimezoneOffset()))%We.day;i<n;)r.push(i),c===We.year?i=$(o+t*u,0):c===We.month?i=$(o,d+t*u):s||c!==We.day&&c!==We.week?i+=c*u:i=$(o,d,h+t*u*(c===We.day?1:7)),t++;r.push(i),Ge(Qe(r,function(e){return c<=We.hour&&e%We.day==f}),function(e){a[e]="day"})}return r.info=He(e,{higherRanks:a,totalRange:c*u}),r},mt.prototype.normalizeTimeTickInterval=function(e,t){for(var n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],i=n[n.length-1],o=We[i[0]],r=i[1],a=0;a<n.length&&(i=n[a],o=We[i[0]],r=i[1],!(n[a+1]&&e<=(o*r[r.length-1]+We[n[a+1][0]])/2));a++);return o===We.year&&e<5*o&&(r=[1,2,5]),{unitRange:o,count:n=_(e/o,r,"year"===i[0]?ue(C(e/o),1):1),unitName:i[0]}},mt.prototype.getLogTickPositions=function(e,t,n,i){var o=this.options,r=this.len,a=[];if(i||(this._minorAutoInterval=null),.5<=e)e=se(e),a=this.getLinearTickPositions(e,t,n);else if(.08<=e)for(var s,l,c,u,d,r=le(t),o=.3<e?[1,2,4]:.15<e?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];r<n+1&&!d;r++)for(l=o.length,s=0;s<l&&!d;s++)t<(c=w(k(r)*o[s]))&&(!i||u<=n)&&u!==j&&a.push(u),n<u&&(d=!0),u=c;else t=k(t),n=k(n),e=o[i?"minorTickInterval":"tickInterval"],e=_(e=ze("auto"===e?null:e,this._minorAutoInterval,(n-t)*(o.tickPixelInterval/(i?5:1))/((i?r/this.tickPositions.length:r)||1)),null,C(e)),a=Ke(this.getLinearTickPositions(e,t,n),w),i||(this._minorAutoInterval=e/5);return i||(this.tickInterval=e),a};var gt,vt=Le.Tooltip=function(){this.init.apply(this,arguments)};vt.prototype={init:function(e,t){var n=t.borderWidth,i=t.style,o=m(i.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:o,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(i).css({padding:0}).add().attr({y:-9999}),Se||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,n,i){var o=this,r=o.now,a=!1!==o.options.animation&&!o.isHidden&&(1<he(e-r.x)||1<he(t-r.y)),s=o.followPointer||1<o.len;He(r,{x:a?(2*r.x+e)/3:e,y:a?(r.y+t)/2:t,anchorX:s?j:a?(2*r.anchorX+n)/3:n,anchorY:s?j:a?(r.anchorY+i)/2:i}),o.label.attr(r),a&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(e,t,n,i)},32))},hide:function(e){var t=this;clearTimeout(this.hideTimer),this.isHidden||(this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},ze(e,this.options.hideDelay,500)))},getAnchor:function(e,t){var n,i,o=this.chart,r=o.inverted,a=o.plotTop,s=o.plotLeft,l=0,c=0,u=(e=f(e))[0].tooltipPos;return this.followPointer&&t&&(t.chartX===j&&(t=o.pointer.normalize(t)),u=[t.chartX-o.plotLeft,t.chartY-a]),u||(Ge(e,function(e){n=e.series.yAxis,i=e.series.xAxis,l+=e.plotX+(!r&&i?i.left-s:0),c+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!r&&n?n.top-a:0)}),l/=e.length,c/=e.length,u=[r?o.plotWidth-c:l,this.shared&&!r&&1<e.length&&t?t.chartY-a:r?o.plotHeight-l:c]),Ke(u,se)},getPosition:function(e,t,n){function i(e){var t=a;a=s,s=t,o=e}var o,r=this.chart,c=this.distance,u={},d=n.h||0,a=["y",r.chartHeight,t,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],s=["x",r.chartWidth,e,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],h=ze(n.ttBelow,r.inverted&&!n.negative||!r.inverted&&n.negative),l=function(){!1!==function(e,t,n,i,o,r){var a=n<i-c,s=i+c+n<t,l=i-c-n;if(i+=c,h&&s)u[e]=i;else if(!h&&a)u[e]=l;else if(a)u[e]=de(r-n,l-d<0?l:l-d);else{if(!s)return!1;u[e]=ue(o,t<i+d+n?i:i+d)}}.apply(0,a)?!1!==function(e,t,n,i){if(i<c||t-c<i)return!1;u[e]=i<n/2?1:t-n/2<i?t-n-2:i-n/2}.apply(0,s)||o||(i(!0),l()):o?u.x=u.y=0:(i(!0),l())};return(r.inverted||1<this.len)&&i(),l(),u},defaultFormatter:function(e){var t=this.points||f(this),n=[e.tooltipFooterHeaderFormatter(t[0])];return(n=n.concat(e.bodyFormatter(t))).push(e.tooltipFooterHeaderFormatter(t[0],!0)),n.join("")},refresh:function(e,t){var n,i,o,r=this.chart,a=this.label,s=this.options,l={},c=[],u=s.formatter||this.defaultFormatter,l=r.hoverPoints,d=this.shared;clearTimeout(this.hideTimer),this.followPointer=f(e)[0].series.tooltipOptions.followPointer,n=(i=this.getAnchor(e,t))[0],t=i[1],!d||e.series&&e.series.noSharedTooltip?l=e.getLabelConfig():(r.hoverPoints=e,l&&Ge(l,function(e){e.setState()}),Ge(e,function(e){e.setState("hover"),c.push(e.getLabelConfig())}),(l={x:e[0].category,y:e[0].y}).points=c,this.len=c.length,e=e[0]),u=u.call(l,this),l=e.series,this.distance=ze(l.tooltipOptions.distance,16),!1===u?this.hide():(this.isHidden&&(it(a),a.attr("opacity",1).show()),a.attr({text:u}),o=s.borderColor||e.color||l.color||"#606060",a.attr({stroke:o}),this.updatePosition({plotX:n,plotY:t,negative:e.negative,ttBelow:e.ttBelow,h:i[2]||0}),this.isHidden=!1),et(r,"tooltipRefresh",{text:u,x:n+r.plotLeft,y:t+r.plotTop,borderColor:o})},updatePosition:function(e){var t=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(se(n.x),se(n.y||0),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getXDateFormat:function(e,t,n){var i,o,r,t=t.dateTimeLabelFormats,a=n&&n.closestPointRange,s={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(a){for(o in r=Fe("%m-%d %H:%M:%S.%L",e.x),We){if(a===We.week&&+Fe("%w",e.x)===n.options.startOfWeek&&"00:00:00.000"===r.substr(6)){o="week";break}if(a<We[o]){o=l;break}if(s[o]&&r.substr(s[o])!=="01-01 00:00:00.000".substr(s[o]))break;"week"!==o&&(l=o)}o&&(i=t[o])}else i=t.day;return i||t.year},tooltipFooterHeaderFormatter:function(e,t){var n=t?"footer":"header",i=e.series,o=i.tooltipOptions,r=o.xDateFormat,a=i.xAxis,t=a&&"datetime"===a.options.type&&x(e.key),n=o[n+"Format"];return t&&!r&&(r=this.getXDateFormat(e,o,a)),t&&r&&(n=n.replace("{point.key}","{point.key:"+r+"}")),b(n,{point:e,series:i})},bodyFormatter:function(e){return Ke(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}},F=re.documentElement.ontouchstart!==j;var yt,bt,xt,wt=Le.Pointer=function(e,t){this.init(e,t)};wt.prototype={init:function(e,t){var n,i=(r=t.chart).events,o=Se?"":r.zoomType,r=e.inverted;this.options=t,this.chart=e,this.zoomX=n=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=n&&!r||o&&r,this.zoomVert=o&&!r||n&&r,this.hasZoom=n||o,this.runChartClick=i&&!!i.click,this.pinchDown=[],this.lastValidTouch={},Le.Tooltip&&t.tooltip.enabled&&(e.tooltip=new vt(e,t.tooltip),this.followTouchMove=ze(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,t){var n,i,e=e||window.event;return(e=tt(e)).target||(e.target=e.srcElement),i=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,t||(this.chartPosition=t=Xe(this.chart.container)),i=i.pageX===j?(n=ue(e.x,e.clientX-t.left),e.y):(n=i.pageX-t.left,i.pageY-t.top),He(e,{chartX:se(n),chartY:se(i)})},getCoordinates:function(t){var n={xAxis:[],yAxis:[]};return Ge(this.chart.axes,function(e){n[e.isXAxis?"xAxis":"yAxis"].push({axis:e,value:e.toValue(t[e.horiz?"chartX":"chartY"])})}),n},runPointActions:function(t){var e,n,i,o,r,a=this.chart,s=a.series,l=a.tooltip,c=!!l&&l.shared,u=a.hoverPoint,d=a.hoverSeries,h=a.chartWidth,f=[];if(!c&&!d)for(e=0;e<s.length;e++)!s[e].directTouch&&s[e].options.stickyTracking||(s=[]);if(!c&&d&&d.directTouch&&u?o=u:(Ge(s,function(e){n=e.noSharedTooltip&&c,i=!c&&e.directTouch,e.visible&&!n&&!i&&ze(e.options.enableMouseTracking,!0)&&(r=e.searchPoint(t,!n&&1===e.kdDimensions))&&f.push(r)}),Ge(f,function(e){e&&"number"==typeof e.dist&&e.dist<h&&(h=e.dist,o=e)})),o&&(o!==this.prevKDPoint||l&&l.isHidden)){if(c&&!o.series.noSharedTooltip){for(e=f.length;e--;)f[e].clientX===o.clientX&&!f[e].series.noSharedTooltip||f.splice(e,1);f.length&&l&&l.refresh(f,t),Ge(f,function(e){e.onMouseOver(t,e!==(d&&d.directTouch&&u||o))})}else l&&l.refresh(o,t),d&&d.directTouch||o.onMouseOver(t);this.prevKDPoint=o}else s=d&&d.tooltipOptions.followPointer,l&&s&&!l.isHidden&&(s=l.getAnchor([{}],t),l.updatePosition({plotX:s[0],plotY:s[1]}));l&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(e){Me[gt]&&Me[gt].pointer.onDocumentMouseMove(e)},Ze(re,"mousemove",this._onDocumentMouseMove)),Ge(a.axes,function(e){e.drawCrosshair(t,ze(o,u))})},reset:function(e,t){var n=this.chart,i=n.hoverSeries,o=n.hoverPoint,r=n.hoverPoints,a=n.tooltip,s=a&&a.shared?r:o;(e=e&&a&&s)&&f(s)[0].plotX===j&&(e=!1),e?(a.refresh(s),o&&(o.setState(o.state,!0),Ge(n.axes,function(e){ze(e.options.crosshair&&e.options.crosshair.snap,!0)?e.drawCrosshair(null,o):e.hideCrosshair()}))):(o&&o.onMouseOut(),r&&Ge(r,function(e){e.setState()}),i&&i.onMouseOut(),a&&a.hide(t),this._onDocumentMouseMove&&(Je(re,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Ge(n.axes,function(e){e.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,n){var i,o=this.chart;Ge(o.series,function(e){i=t||e.getPlotBox(),e.xAxis&&e.xAxis.zoomEnabled&&(e.group.attr(i),e.markerGroup&&(e.markerGroup.attr(i),e.markerGroup.clip(n?o.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(i))}),o.clipRect.attr(n||o.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,n=this.chart,i=n.options.chart,o=e.chartX,r=e.chartY,a=this.zoomHor,s=this.zoomVert,l=n.plotLeft,c=n.plotTop,u=n.plotWidth,d=n.plotHeight,h=this.selectionMarker,f=this.mouseDownX,p=this.mouseDownY,m=i.panKey&&e[i.panKey+"Key"];h&&h.touch||(o<l?o=l:l+u<o&&(o=l+u),r<c?r=c:c+d<r&&(r=c+d),this.hasDragged=Math.sqrt(Math.pow(f-o,2)+Math.pow(p-r,2)),10<this.hasDragged&&(t=n.isInsidePlot(f-l,p-c),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!m&&!h&&(this.selectionMarker=h=n.renderer.rect(l,c,a?1:u,s?1:d,0).attr({fill:i.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),h&&a&&(o-=f,h.attr({width:he(o),x:(0<o?0:o)+f})),h&&s&&(o=r-p,h.attr({height:he(o),y:(0<o?0:o)+p})),t&&!h&&i.panning&&n.pan(e,i.panning)))},drop:function(o){var r,e,a,s,l,c,u,d=this,t=this.chart,h=this.hasPinched;this.selectionMarker&&(r={xAxis:[],yAxis:[],originalEvent:o.originalEvent||o},e=this.selectionMarker,a=e.attr?e.attr("x"):e.x,s=e.attr?e.attr("y"):e.y,l=e.attr?e.attr("width"):e.width,c=e.attr?e.attr("height"):e.height,(this.hasDragged||h)&&(Ge(t.axes,function(e){var t,n,i;e.zoomEnabled&&E(e.min)&&(h||d[{xAxis:"zoomX",yAxis:"zoomY"}[e.coll]])&&(i=e.horiz,t="touchend"===o.type?e.minPixelPadding:0,n=e.toValue((i?a:s)+t),i=e.toValue((i?a+l:s+c)-t),r[e.coll].push({axis:e,min:de(n,i),max:ue(n,i)}),u=!0)}),u&&et(t,"selection",r,function(e){t.zoom(He(e,h?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),h&&this.scaleGroups()),t&&(N(t.container,{cursor:t._cursor}),t.cancelClick=10<this.hasDragged,t.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){(e=this.normalize(e)).preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){Me[gt]&&Me[gt].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,e=this.normalize(e,n);!n||this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)||this.reset()},onContainerMouseLeave:function(){var e=Me[gt];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;gt=t.index,(e=this.normalize(e)).returnValue=!1,"mousedown"===t.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)||t.openMenu||this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=A(e,"class")){if(-1!==n.indexOf(t))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,n=(e=e.relatedTarget||e.toElement)&&e.point&&e.point.series;!t||t.options.stickyTracking||this.inClass(e,"highcharts-tooltip")||n===t||t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,i=t.plotLeft,o=t.plotTop;(e=this.normalize(e)).originalEvent=e,t.cancelClick||(n&&this.inClass(e.target,"highcharts-tracker")?(et(n.series,"click",He(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(He(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-i,e.chartY-o)&&et(t,"click",e)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},Ze(e,"mouseleave",t.onContainerMouseLeave),1===Ee&&Ze(re,"mouseup",t.onDocumentMouseUp),F&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===Ee&&Ze(re,"touchend",t.onDocumentTouchEnd))},destroy:function(){for(var e in Je(this.chart.container,"mouseleave",this.onContainerMouseLeave),Ee||(Je(re,"mouseup",this.onDocumentMouseUp),Je(re,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout),this)this[e]=null}},He(Le.Pointer.prototype,{pinchTranslate:function(e,t,n,i,o,r){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,i,o,r),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,i,o,r)},pinchTranslateDirection:function(e,t,n,i,o,r,a,s){var l,c,u,d=this.chart,h=e?"x":"y",f=e?"X":"Y",p="chart"+f,m=e?"width":"height",g=d["plot"+(e?"Left":"Top")],v=s||1,y=d.inverted,b=d.bounds[e?"h":"v"],x=1===t.length,w=t[0][p],k=n[0][p],C=!x&&t[1][p],_=!x&&n[1][p];(n=function(){!x&&20<he(w-C)&&(v=s||he(k-_)/he(w-C)),c=(g-k)/v+w,l=d["plot"+(e?"Width":"Height")]/v})(),(t=c)<b.min?(t=b.min,u=!0):t+l>b.max&&(t=b.max-l,u=!0),u?(k-=.8*(k-a[h][0]),x||(_-=.8*(_-a[h][1])),n()):a[h]=[k,_],y||(r[h]=c-g,r[m]=l),r=y?1/v:v,o[m]=l,o[h]=t,i[y?e?"scaleY":"scaleX":"scale"+f]=v,i["translate"+f]=r*g+(k-r*w)},pinch:function(e){var t=this,a=t.chart,n=t.pinchDown,i=e.touches,o=i.length,r=t.lastValidTouch,s=t.hasZoom,l=t.selectionMarker,c={},u=1===o&&(t.inClass(e.target,"highcharts-tracker")&&a.runTrackerClick||t.runChartClick),d={};1<o&&(t.initiated=!0),s&&t.initiated&&!u&&e.preventDefault(),Ke(i,function(e){return t.normalize(e)}),"touchstart"===e.type?(Ge(i,function(e,t){n[t]={chartX:e.chartX,chartY:e.chartY}}),r.x=[n[0].chartX,n[1]&&n[1].chartX],r.y=[n[0].chartY,n[1]&&n[1].chartY],Ge(a.axes,function(e){var t,n,i,o,r;e.zoomEnabled&&(t=a.bounds[e.horiz?"h":"v"],n=e.minPixelPadding,r=e.toPixels(ze(e.options.min,e.dataMin)),i=e.toPixels(ze(e.options.max,e.dataMax)),o=de(r,i),r=ue(r,i),t.min=de(e.pos,o-n),t.max=ue(e.pos+e.len,r+n))}),t.res=!0):n.length&&(l||(t.selectionMarker=l=He({destroy:z,touch:!0},a.plotBox)),t.pinchTranslate(n,i,c,l,d,r),t.hasPinched=s,t.scaleGroups(c,d),!s&&t.followTouchMove&&1===o?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(e,t){var n=this.chart;gt=n.index,1===e.touches.length?(e=this.normalize(e),n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)&&!n.openMenu?(t&&this.runPointActions(e),this.pinch(e)):t&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(e){this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(e){Me[gt]&&Me[gt].pointer.drop(e)}}),(u.PointerEvent||u.MSPointerEvent)&&(yt={},bt=!!u.PointerEvent,xt=function(e,t,n,i){"touch"!==(e=e.originalEvent||e).pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!Me[gt]||(i(e),(i=Me[gt].pointer)[t]({type:n,target:e.currentTarget,preventDefault:z,touches:function(){var e,t=[];for(e in t.item=function(e){return this[e]},yt)yt.hasOwnProperty(e)&&t.push({pageX:yt[e].pageX,pageY:yt[e].pageY,target:yt[e].target});return t}()}))},He(wt.prototype,{onContainerPointerDown:function(e){xt(e,"onContainerTouchStart","touchstart",function(e){yt[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){xt(e,"onContainerTouchMove","touchmove",function(e){yt[e.pointerId]={pageX:e.pageX,pageY:e.pageY},yt[e.pointerId].target||(yt[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){xt(e,"onDocumentTouchEnd","touchend",function(e){delete yt[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,bt?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,bt?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(re,bt?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),je(wt.prototype,"init",function(e,t,n){e.call(this,t,n),this.hasZoom&&N(t.container,{"-ms-touch-action":Pe,"touch-action":Pe})}),je(wt.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Ze)}),je(wt.prototype,"destroy",function(e){this.batchMSEvents(Je),e.call(this)}));var kt=Le.Legend=function(e,t){this.init(e,t)};kt.prototype={init:function(e,t){var n=this,i=t.itemStyle,o=t.itemMarginTop||0;(this.options=t).enabled&&(n.itemStyle=i,n.itemHiddenStyle=M(i,t.itemHiddenStyle),n.itemMarginTop=o,n.padding=i=ze(t.padding,8),n.initialItemX=i,n.initialItemY=i-5,n.maxItemWidth=0,n.chart=e,n.itemHeight=0,n.symbolWidth=ze(t.symbolWidth,16),n.pages=[],n.render(),Ze(n.chart,"endResize",function(){n.positionCheckboxes()}))},colorizeItem:function(e,t){var n,i=this.options,o=e.legendItem,r=e.legendLine,a=e.legendSymbol,s=this.itemHiddenStyle.color,i=t?i.itemStyle.color:s,t=t?e.legendColor||e.color||"#CCC":s,s=e.options&&e.options.marker,l={fill:t};if(o&&o.css({fill:i,color:i}),r&&r.attr({stroke:t}),a){if(s&&a.isMarker)for(n in l.stroke=t,s=e.convertAttribs(s))o=s[n],o!==j&&(l[n]=o);a.attr(l)}},positionItem:function(e){var t=(n=this.options).symbolPadding,n=!n.rtl,i=(o=e._legendItemPos)[0],o=o[1],r=e.checkbox;(e=e.legendGroup)&&e.element&&e.translate(n?i:this.legendWidth-i-2*t-4,o),r&&(r.x=i,r.y=o)},destroyItem:function(t){var e=t.checkbox;Ge(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&a(t.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(i){var o,r=this.group.alignAttr,a=this.clipHeight||this.legendHeight;r&&(o=r.translateY,Ge(this.allItems,function(e){var t,n=e.checkbox;n&&(t=o+n.y+(i||0)+3,N(n,{left:r.translateX+e.checkboxOffset+n.x-20+"px",top:t+"px",display:o-6<t&&t<o+a-6?"":Pe}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,n=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),n=(e=this.title.getBBox()).height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(e){var t=this.options;e.legendItem.attr({text:t.labelFormat?b(t.labelFormat,e):t.labelFormatter.call(e)})},renderItem:function(e){var t=this.chart,n=t.renderer,i=this.options,o="horizontal"===i.layout,r=this.symbolWidth,a=i.symbolPadding,s=this.itemStyle,l=this.itemHiddenStyle,c=this.padding,u=o?ze(i.itemDistance,20):0,d=!i.rtl,h=i.width,f=i.itemMarginBottom||0,p=this.itemMarginTop,m=this.initialItemX,g=e.legendItem,v=e.series&&e.series.drawLegendSymbol?e.series:e,y=v.options,y=this.createCheckboxForItem&&y&&y.showCheckbox,b=i.useHTML;g||(e.legendGroup=n.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),e.legendItem=g=n.text("",d?r+a:-a,this.baseline||0,b).css(M(e.visible?s:l)).attr({align:d?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(s.fontSize,g),this.baseline=this.fontMetrics.f+3+p,g.attr("y",this.baseline)),v.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,g,b,s,l),this.colorizeItem(e,e.visible),y&&this.createCheckboxForItem(e)),this.setText(e),n=g.getBBox(),r=e.checkboxOffset=i.itemWidth||e.legendItemWidth||r+a+n.width+u+(y?20:0),this.itemHeight=a=se(e.legendItemHeight||n.height),o&&this.itemX-m+r>(h||t.chartWidth-2*c-m-i.x)&&(this.itemX=m,this.itemY+=p+this.lastLineHeight+f,this.lastLineHeight=0),this.maxItemWidth=ue(this.maxItemWidth,r),this.lastItemY=p+this.itemY+f,this.lastLineHeight=ue(a,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],o?this.itemX+=r:(this.itemY+=p+a+f,this.lastLineHeight=a),this.offsetWidth=h||ue((o?this.itemX-m-u:r)+c,this.offsetWidth)},getAllItems:function(){var n=[];return Ge(this.chart.series,function(e){var t=e.options;ze(t.showInLegend,!E(t.linkedTo)&&j,!0)&&(n=n.concat(e.legendItems||("point"===t.legendType?e.data:e)))}),n},adjustMargins:function(n,i){var o=this.chart,r=this.options,a=r.align.charAt(0)+r.verticalAlign.charAt(0)+r.layout.charAt(0);this.display&&!r.floating&&Ge([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(e,t){e.test(a)&&!E(n[t])&&(o[Re[t]]=ue(o[Re[t]],o.legend[(t+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][t]*r[t%2?"x":"y"]+ze(r.margin,12)+i[t]))})},render:function(){var e,t,n,i,o=this,r=o.chart,a=r.renderer,s=o.group,l=o.box,c=o.options,u=o.padding,d=c.borderWidth,h=c.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,s||(o.group=s=a.g("legend").attr({zIndex:7}).add(),o.contentGroup=a.g().attr({zIndex:1}).add(s),o.scrollGroup=a.g().add(o.contentGroup)),o.renderTitle(),T(e=o.getAllItems(),function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),c.reversed&&e.reverse(),o.allItems=e,o.display=t=!!e.length,o.lastLineHeight=0,Ge(e,function(e){o.renderItem(e)}),n=(c.width||o.offsetWidth)+u,i=o.lastItemY+o.lastLineHeight+o.titleHeight,i=o.handleOverflow(i),i+=u,(d||h)&&(l?0<n&&0<i&&(l[l.isNew?"attr":"animate"](l.crisp({width:n,height:i})),l.isNew=!1):(o.box=l=a.rect(0,0,n,i,c.borderRadius,d||0).attr({stroke:c.borderColor,"stroke-width":d||0,fill:h||Pe}).add(s).shadow(c.shadow),l.isNew=!0),l[t?"show":"hide"]()),o.legendWidth=n,o.legendHeight=i,Ge(e,function(e){o.positionItem(e)}),t&&s.align(He({width:n,height:i},c),!0,"spacingBox"),r.isResizing||this.positionCheckboxes()},handleOverflow:function(e){function t(e){u.attr({height:e}),n.contentGroup.div&&(n.contentGroup.div.style.clip="rect("+g+"px,9999px,"+(g+e)+"px,0)")}var o,r,n=this,i=this.chart,a=i.renderer,s=this.options,l=s.y,l=i.spacingBox.height+("top"===s.verticalAlign?-l:l)-this.padding,c=s.maxHeight,u=this.clipRect,d=s.navigation,h=ze(d.animation,!0),f=d.arrowSize||12,p=this.nav,m=this.pages,g=this.padding,v=this.allItems;return"horizontal"===s.layout&&(l/=2),c&&(l=de(l,c)),m.length=0,l<e?(this.clipHeight=o=ue(l-20-this.titleHeight-g,0),this.currentPage=ze(this.currentPage,1),this.fullHeight=e,Ge(v,function(e,t){var n=e._legendItemPos[1],i=se(e.legendItem.getBBox().height),e=m.length;(!e||n-m[e-1]>o&&(r||n)!==m[e-1])&&(m.push(r||n),e++),t===v.length-1&&n+i-m[e-1]>o&&m.push(n),n!==r&&(r=n)}),u||(u=n.clipRect=a.clipRect(0,g,9999,0),n.contentGroup.clip(u)),t(o),p||(this.nav=p=a.g().attr({zIndex:1}).add(this.group),this.up=a.symbol("triangle",0,0,f,f).on("click",function(){n.scroll(-1,h)}).add(p),this.pager=a.text("",15,10).css(d.style).add(p),this.down=a.symbol("triangle-down",0,0,f,f).on("click",function(){n.scroll(1,h)}).add(p)),n.scroll(0),e=l):p&&(t(i.chartHeight),p.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n=this.pages,i=n.length,o=this.currentPage+e,r=this.clipHeight,a=(s=this.options.navigation).activeColor,s=s.inactiveColor,l=this.pager,e=this.padding;i<o&&(o=i),0<o&&(t!==j&&R(t,this.chart),this.nav.attr({translateX:e,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===o?s:a}).css({cursor:1===o?"default":"pointer"}),l.attr({text:o+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,fill:o===i?s:a}).css({cursor:o===i?"default":"pointer"}),n=-n[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=o,this.positionCheckboxes(n))}},$e=Le.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||e.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-n+1,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t,n=this.options,i=n.marker,o=e.symbolWidth,r=this.chart.renderer,a=this.legendGroup,e=e.baseline-se(.3*e.fontMetrics.b);n.lineWidth&&(t={"stroke-width":n.lineWidth},n.dashStyle&&(t.dashstyle=n.dashStyle),this.legendLine=r.path(["M",0,e,"L",o,e]).attr(t).add(a)),i&&!1!==i.enabled&&(n=i.radius,this.legendSymbol=o=r.symbol(this.symbol,o/2-n,e-n,2*n,2*n).add(a),o.isMarker=!0)}},(/Trident\/7\.0/.test(d)||we)&&je(kt.prototype,"positionItem",function(e,t){function n(){t._legendItemPos&&e.call(i,t)}var i=this;n(),setTimeout(n)});var Ct=Le.Chart=function(){this.init.apply(this,arguments)};Ct.prototype={callbacks:[],init:function(e,t){var n,i=e.series;e.series=null,(n=M(Ue,e)).series=e.series=i,this.userOptions=e,i=n.chart,this.margin=this.splashArray("margin",i),this.spacing=this.splashArray("spacing",i);var o=i.events;this.bounds={h:{},v:{}},this.callback=t,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var r,a=this;if(a.index=Me.length,Me.push(a),Ee++,!1!==i.reflow&&Ze(a,"load",function(){a.initReflow()}),o)for(r in o)Ze(a,r,o[r]);a.xAxis=[],a.yAxis=[],a.animation=!Se&&ze(i.animation,!0),a.pointCount=a.colorCounter=a.symbolCounter=0,a.firstRender()},initSeries:function(e){var t=this.options.chart;return(t=Oe[e.type||t.type||t.defaultSeriesType])||D(17,!0),(t=new t).init(this,e),t},isInsidePlot:function(e,t,n){var i=n?t:e,e=n?e:t;return 0<=i&&i<=this.plotWidth&&0<=e&&e<=this.plotHeight},redraw:function(e){var n,t,i=this.axes,o=this.series,r=this.pointer,a=this.legend,s=this.isDirtyLegend,l=this.hasCartesianSeries,c=this.isDirtyBox,u=o.length,d=u,h=this.renderer,f=h.isHidden(),p=[];for(R(e,this),f&&this.cloneRenderTo(),this.layOutTitles();d--;)if((e=o[d]).options.stacking&&(n=!0,e.isDirty)){t=!0;break}if(t)for(d=u;d--;)(e=o[d]).options.stacking&&(e.isDirty=!0);Ge(o,function(e){e.isDirty&&"point"===e.options.legendType&&(e.updateTotals&&e.updateTotals(),s=!0)}),s&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),n&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,Ge(i,function(e){e.setScale()})),this.getMargins(),l&&(Ge(i,function(e){e.isDirty&&(c=!0)}),Ge(i,function(e){var t=e.min+","+e.max;e.extKey!==t&&(e.extKey=t,p.push(function(){et(e,"afterSetExtremes",He(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(c||n)&&e.redraw()})),c&&this.drawChartBox(),Ge(o,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),r&&r.reset(!0),h.draw(),et(this,"redraw"),f&&this.cloneRenderTo(!0),Ge(p,function(e){e.call()})},get:function(e){for(var t,n=this.axes,i=this.series,o=0;o<n.length;o++)if(n[o].options.id===e)return n[o];for(o=0;o<i.length;o++)if(i[o].options.id===e)return i[o];for(o=0;o<i.length;o++)for(t=i[o].points||[],n=0;n<t.length;n++)if(t[n].id===e)return t[n];return null},getAxes:function(){var t=this,e=(n=this.options).xAxis=f(n.xAxis||{}),n=n.yAxis=f(n.yAxis||{});Ge(e,function(e,t){e.index=t,e.isX=!0}),Ge(n,function(e,t){e.index=t}),e=e.concat(n),Ge(e,function(e){new mt(t,e)})},getSelectedPoints:function(){var t=[];return Ge(this.series,function(e){t=t.concat(Qe(e.points||[],function(e){return e.selected}))}),t},getSelectedSeries:function(){return Qe(this.series,function(e){return e.selected})},setTitle:function(e,t,n){var o=this,i=o.options,r=i.title=M(i.title,e),a=i.subtitle=M(i.subtitle,t);Ge([["title",e,r],["subtitle",t,i=a]],function(e){var t=e[0],n=o[t],i=e[1],e=e[2];n&&i&&(o[t]=n=n.destroy()),e&&e.text&&!n&&(o[t]=o.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,class:"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),o.layOutTitles(n)},layOutTitles:function(e){var t=0,n=this.title,i=this.subtitle,o=(r=this.options).title,r=r.subtitle,a=this.renderer,s=this.spacingBox.width-44;!n||(n.css({width:(o.width||s)+"px"}).align(He({y:a.fontMetrics(o.style.fontSize,n).b-3},o),!1,"spacingBox"),o.floating||o.verticalAlign)||(t=n.getBBox().height),i&&(i.css({width:(r.width||s)+"px"}).align(He({y:t+(o.margin-13)+a.fontMetrics(o.style.fontSize,i).b},r),!1,"spacingBox"),r.floating||r.verticalAlign||(t=ce(t+i.getBBox().height))),n=this.titleOffset!==t,this.titleOffset=t,!this.isDirtyBox&&n&&(this.isDirtyBox=n,this.hasRendered&&ze(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=(t=this.options.chart).width,t=t.height,n=this.renderToClone||this.renderTo;E(e)||(this.containerWidth=Ye(n,"width")),E(t)||(this.containerHeight=Ye(n,"height")),this.chartWidth=ue(0,e||this.containerWidth||600),this.chartHeight=ue(0,ze(t,19<this.containerHeight?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),a(t),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),N(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),re.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var e,t,n,i,o=this.options.chart;this.renderTo=e=o.renderTo,i="highcharts-"+Ae++,v(e)&&(this.renderTo=e=re.getElementById(e)),e||D(13,!0),t=m(A(e,"data-highcharts-chart")),!isNaN(t)&&Me[t]&&Me[t].hasRendered&&Me[t].destroy(),A(e,"data-highcharts-chart",this.index),e.innerHTML="",o.skipClone||e.offsetWidth||this.cloneRenderTo(),this.getChartSize(),t=this.chartWidth,n=this.chartHeight,this.container=e=P(Ne,{className:"highcharts-container"+(o.className?" "+o.className:""),id:i},He({position:"relative",overflow:"hidden",width:t+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},o.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=o.forExport?new ut(e,t,n,o.style,!0):new s(e,t,n,o.style),Se&&this.renderer.create(this,e,t,n),this.renderer.chartIndex=this.index},getMargins:function(e){var t=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!E(n[0])&&(this.plotTop=ue(this.plotTop,i+this.options.title.margin+t[0])),this.legend.adjustMargins(n,t),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var n=this,i=n.axisOffset=[0,0,0,0],o=n.margin;n.hasCartesianSeries&&Ge(n.axes,function(e){e.getOffset()}),Ge(Re,function(e,t){E(o[t])||(n[e]+=i[t])}),n.setChartSize()},reflow:function(e){var t=this,n=t.options.chart,i=t.renderTo,o=n.width||Ye(i,"width"),r=n.height||Ye(i,"height"),n=e?e.target:u,i=function(){t.container&&(t.setSize(o,r,!1),t.hasUserSize=null)};t.hasUserSize||t.isPrinting||!o||!r||n!==u&&n!==re||(o===t.containerWidth&&r===t.containerHeight||(clearTimeout(t.reflowTimeout),e?t.reflowTimeout=setTimeout(i,100):i()),t.containerWidth=o,t.containerHeight=r)},initReflow:function(){function e(e){t.reflow(e)}var t=this;Ze(u,"resize",e),Ze(t,"destroy",function(){Je(u,"resize",e)})},setSize:function(e,t,n){var i,o,r,a=this,s=a.renderer,l=s.globalAnimation;a.isResizing+=1,r=function(){a&&et(a,"endResize",null,function(){--a.isResizing})},R(n,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,E(e)&&(a.chartWidth=i=ue(0,se(e)),a.hasUserSize=!!i),E(t)&&(a.chartHeight=o=ue(0,se(t))),(l?nt:N)(a.container,{width:i+"px",height:o+"px"},l),a.setChartSize(!0),s.setSize(i,o,n),a.maxTicks=null,Ge(a.axes,function(e){e.isDirty=!0,e.setScale()}),Ge(a.series,function(e){e.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(n),a.oldChartHeight=null,et(a,"resize"),!1===l?r():setTimeout(r,l&&l.duration||500)},setChartSize:function(e){var t,n,i,o,r=this.inverted,a=this.renderer,s=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=this.spacing,d=this.clipOffset;this.plotLeft=t=se(this.plotLeft),this.plotTop=n=se(this.plotTop),this.plotWidth=i=ue(0,se(s-t-this.marginRight)),this.plotHeight=o=ue(0,se(l-n-this.marginBottom)),this.plotSizeX=r?o:i,this.plotSizeY=r?i:o,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:u[3],y:u[0],width:s-u[3]-u[1],height:l-u[0]-u[2]},this.plotBox=a.plotBox={x:t,y:n,width:i,height:o},s=2*le(this.plotBorderWidth/2),r=ce(ue(s,d[3])/2),a=ce(ue(s,d[0])/2),this.clipBox={x:r,y:a,width:le(this.plotSizeX-ue(s,d[1])/2-r),height:ue(0,le(this.plotSizeY-ue(s,d[2])/2-a))},e||Ge(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var n=this;Ge(Re,function(e,t){n[e]=ze(n.margin[t],n.spacing[t])}),n.axisOffset=[0,0,0,0],n.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this.options.chart,t=this.renderer,n=this.chartWidth,i=this.chartHeight,o=this.chartBackground,r=this.plotBackground,a=this.plotBorder,s=this.plotBGImage,l=e.borderWidth||0,c=e.backgroundColor,u=e.plotBackgroundColor,d=e.plotBackgroundImage,h=e.plotBorderWidth||0,f=this.plotLeft,p=this.plotTop,m=this.plotWidth,g=this.plotHeight,v=this.plotBox,y=this.clipRect,b=this.clipBox,x=l+(e.shadow?8:0);(l||c)&&(o?o.animate(o.crisp({width:n-x,height:i-x})):(o={fill:c||Pe},l&&(o.stroke=e.borderColor,o["stroke-width"]=l),this.chartBackground=t.rect(x/2,x/2,n-x,i-x,e.borderRadius,l).attr(o).addClass("highcharts-background").add().shadow(e.shadow))),u&&(r?r.animate(v):this.plotBackground=t.rect(f,p,m,g,0).attr({fill:u}).add().shadow(e.plotShadow)),d&&(s?s.animate(v):this.plotBGImage=t.image(d,f,p,m,g).add()),y?y.animate({width:b.width,height:b.height}):this.clipRect=t.clipRect(b),h&&(a?a.animate(a.crisp({x:f,y:p,width:m,height:g,strokeWidth:-h})):this.plotBorder=t.rect(f,p,m,g,0,-h).attr({stroke:e.plotBorderColor,"stroke-width":h,fill:Pe,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,n,i,o=this,r=o.options.chart,a=o.options.series;Ge(["inverted","angular","polar"],function(e){for(t=Oe[r.type||r.defaultSeriesType],i=o[e]||r[e]||t&&t.prototype[e],n=a&&a.length;!i&&n--;)(t=Oe[a[n].type])&&t.prototype[e]&&(i=!0);o[e]=i})},linkSeries:function(){var n=this,e=n.series;Ge(e,function(e){e.linkedSeries.length=0}),Ge(e,function(e){var t=e.options.linkedTo;v(t)&&(t=":previous"===t?n.series[e.index-1]:n.get(t))&&(t.linkedSeries.push(e),e.linkedParent=t,e.visible=ze(e.options.visible,t.options.visible,e.visible))})},renderSeries:function(){Ge(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var o=this,r=o.options.labels;r.items&&Ge(r.items,function(e){var t=He(r.style,e.style),n=m(t.left)+o.plotLeft,i=m(t.top)+o.plotTop+12;delete t.left,delete t.top,o.renderer.text(e.html,n,i).attr({zIndex:2}).css(t).add()})},render:function(){var e,t,n,i,o=this.axes,r=this.renderer,a=this.options;this.setTitle(),this.legend=new kt(this,a.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),e=this.plotWidth,t=this.plotHeight-=13,Ge(o,function(e){e.setScale()}),this.getAxisMargins(),n=1.1<e/this.plotWidth,i=1.1<t/this.plotHeight,(n||i)&&(this.maxTicks=null,Ge(o,function(e){(e.horiz&&n||!e.horiz&&i)&&e.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Ge(o,function(e){e.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(a.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var e,n=this,t=n.axes,i=n.series,o=n.container,r=o&&o.parentNode;for(et(n,"destroy"),Me[n.index]=j,Ee--,n.renderTo.removeAttribute("data-highcharts-chart"),Je(n),e=t.length;e--;)t[e]=t[e].destroy();for(e=i.length;e--;)i[e]=i[e].destroy();for(e in Ge("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(e){var t=n[e];t&&t.destroy&&(n[e]=t.destroy())}),o&&(o.innerHTML="",Je(o),r&&a(o)),n)delete n[e]},isReadyToRender:function(){var e=this;return!(!_e&&u==u.top&&"complete"!==re.readyState||Se&&!u.canvg)||(Se?ht.push(function(){e.firstRender()},e.options.global.canvasToolsURL):re.attachEvent("onreadystatechange",function(){re.detachEvent("onreadystatechange",e.firstRender),"complete"===re.readyState&&e.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options,n=t.callback;t.isReadyToRender()&&(t.getContainer(),et(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),Ge(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),et(t,"beforeRender"),Le.Pointer&&(t.pointer=new wt(t,e)),t.render(),t.renderer.draw(),n&&n.apply(t,[t]),Ge(t.callbacks,function(e){t.index!==j&&e.apply(t,[t])}),et(t,"load"),t.cloneRenderTo(!0))},splashArray:function(e,t){var n=h(n=t[e])?n:[n,n,n,n];return[ze(t[e+"Top"],n[0]),ze(t[e+"Right"],n[1]),ze(t[e+"Bottom"],n[2]),ze(t[e+"Left"],n[3])]}};function _t(){}var Tt=Le.CenteredSeriesMixin={getCenter:function(){for(var e,t=this.options,n=this.chart,i=2*(t.slicedOffset||0),o=n.plotWidth-2*i,n=n.plotHeight-2*i,r=t.center,r=[ze(r[0],"50%"),ze(r[1],"50%"),t.size||"100%",t.innerSize||0],a=de(o,n),s=0;s<4;++s)e=r[s],t=s<2||2===s&&/%$/.test(e),r[s]=(/%$/.test(e)?[o,n,a,r[2]][s]*parseFloat(e)/100:parseFloat(e))+(t?i:0);return r}};_t.prototype={init:function(e,t,n){return this.series=e,this.color=e.color,this.applyOptions(t,n),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(e,t){var n=this.series,i=n.options.pointValKey||n.pointValKey,e=_t.prototype.optionsToObject.call(this,e);return He(this,e),this.options=this.options?He(this.options,e):e,i&&(this.y=this[i]),this.x===j&&n&&(this.x=t===j?n.autoIncrement():t),this},optionsToObject:function(e){var t={},n=this.series,i=n.options.keys,o=i||n.pointArrayMap||["y"],r=o.length,a=0,s=0;if("number"==typeof e||null===e)t[o[0]]=e;else if(y(e))for(!i&&e.length>r&&("string"===(n=typeof e[0])?t.name=e[0]:"number"===n&&(t.x=e[0]),a++);s<r;)t[o[s++]]=e[a++];else"object"==typeof e&&((t=e).dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e,t=this.series.chart,n=t.hoverPoints;for(e in t.pointCount--,n&&(this.setState(),l(n,this),!n.length)&&(t.hoverPoints=null),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Je(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this),this)this[e]=null},destroyElements:function(){for(var e,t="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),n=6;n--;)this[e=t[n]]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,i=ze(n.valueDecimals,""),o=n.valuePrefix||"",r=n.valueSuffix||"";return Ge(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||r)&&(t=t.replace(e+"}",o+e+"}"+r)),t=t.replace(e+"}",e+":,."+i+"f}")}),b(t,{point:this,series:this.series})},firePointEvent:function(e,t,n){var i=this,o=this.series.options;(o.point.events[e]||i.options&&i.options.events&&i.options.events[e])&&this.importEvents(),"click"===e&&o.allowPointSelect&&(n=function(e){i.select&&i.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),et(this,e,t,n)}};var St=Le.Series=function(){};St.prototype={isCartesian:!0,type:"line",pointClass:_t,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){function n(e,t){return ze(e.options.index,e._i)-ze(t.options.index,t._i)}var i,o,r=this,a=e.series;for(i in r.chart=e,r.options=t=r.setOptions(t),r.linkedSeries=[],r.bindAxes(),He(r,{name:t.name,state:"",pointAttr:{},visible:!1!==t.visible,selected:!0===t.selected}),Se&&(t.animation=!1),o=t.events)Ze(r,i,o[i]);(o&&o.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)&&(e.runTrackerClick=!0),r.getColor(),r.getSymbol(),Ge(r.parallelArrays,function(e){r[e+"Data"]=[]}),r.setData(t.data,!1),r.isCartesian&&(e.hasCartesianSeries=!0),a.push(r),r._i=a.length-1,T(a,n),this.yAxis&&T(this.yAxis.series,n),Ge(a,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var n,i=this,o=i.options,e=i.chart;Ge(i.axisTypes||[],function(t){Ge(e[t],function(e){n=e.options,(o[t]===n.index||o[t]!==j&&o[t]===n.id||o[t]===j&&0===n.index)&&(e.series.push(i),(i[t]=e).isDirty=!0)}),i[t]||i.optionalAxis===t||D(18,!0)})},updateParallelArrays:function(n,i){var o=n.series,t=arguments;Ge(o.parallelArrays,"number"==typeof i?function(e){var t="y"===e&&o.toYData?o.toYData(n):n[e];o[e+"Data"][i]=t}:function(e){Array.prototype[i].apply(o[e+"Data"],Array.prototype.slice.call(t,2))})},autoIncrement:function(){var e,t=this.options,n=this.xIncrement,i=t.pointIntervalUnit,n=ze(n,t.pointStart,0);return this.pointInterval=e=ze(this.pointInterval,t.pointInterval,1),"month"!==i&&"year"!==i||(t=new W(n),e=(t="month"===i?+t[ie](t[X]()+e):+t[oe](t[K]()+e))-n),this.xIncrement=n+e,n},getSegments:function(){var e,n=-1,i=[],o=this.points,r=o.length;if(r)if(this.options.connectNulls){for(e=r;e--;)null===o[e].y&&o.splice(e,1);o.length&&(i=[o])}else Ge(o,function(e,t){null===e.y?(n+1<t&&i.push(o.slice(n+1,t)),n=t):t===r-1&&i.push(o.slice(n+1,t+1))});this.segments=i},setOptions:function(e){var t=this.chart,n=t.options.plotOptions,i=(t=t.userOptions||{}).plotOptions||{},o=n[this.type];return this.userOptions=e,n=M(o,n.series,e),this.tooltipOptions=M(Ue.tooltip,Ue.plotOptions[this.type].tooltip,t.tooltip,i.series&&i.series.tooltip,i[this.type]&&i[this.type].tooltip,e.tooltip),null===o.marker&&delete n.marker,this.zoneAxis=n.zoneAxis,e=this.zones=(n.zones||[]).slice(),!n.negativeColor&&!n.negativeFillColor||n.zones||e.push({value:n[this.zoneAxis+"Threshold"]||n.threshold||0,color:n.negativeColor,fillColor:n.negativeFillColor}),e.length&&E(e[e.length-1].value)&&e.push({color:this.color,fillColor:this.fillColor}),n},getCyclic:function(e,t,n){var i=this.userOptions,o="_"+e+"Index",r=e+"Counter";t||(E(i[o])?t=i[o]:(i[o]=t=this.chart[r]%n.length,this.chart[r]+=1),t=n[t]),this[e]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||ot[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:$e.drawLineMarker,setData:function(e,t,n,i){var o=this,r=o.points,a=r&&r.length||0,s=o.options,l=o.chart,c=null,u=o.xAxis,d=u&&!!u.categories,h=s.turboThreshold,f=this.xData,p=this.yData,m=(g=o.pointArrayMap)&&g.length,g=(e=e||[]).length;if(t=ze(t,!0),!1!==i&&g&&a===g&&!o.cropped&&!o.hasGroupedData&&o.visible)Ge(e,function(e,t){r[t].update&&r[t].update(e,!1,null,!1)});else{if(o.xIncrement=null,o.pointRange=d?1:s.pointRange,o.colorCounter=0,Ge(this.parallelArrays,function(e){o[e+"Data"].length=0}),h&&h<g){for(n=0;null===c&&n<g;)c=e[n],n++;if(x(c)){for(d=ze(s.pointStart,0),s=ze(s.pointInterval,1),n=0;n<g;n++)f[n]=d,p[n]=e[n],d+=s;o.xIncrement=d}else if(y(c))if(m)for(n=0;n<g;n++)s=e[n],f[n]=s[0],p[n]=s.slice(1,m+1);else for(n=0;n<g;n++)s=e[n],f[n]=s[0],p[n]=s[1];else D(12)}else for(n=0;n<g;n++)e[n]!==j&&(s={series:o},o.pointClass.prototype.applyOptions.apply(s,[e[n]]),o.updateParallelArrays(s,n),d&&E(s.name))&&(u.names[s.x]=s.name);for(v(p[0])&&D(14,!0),o.data=[],o.options.data=e,n=a;n--;)r[n]&&r[n].destroy&&r[n].destroy();u&&(u.minRange=u.userMinRange),n=!(o.isDirty=o.isDirtyData=l.isDirtyBox=!0)}t&&l.redraw(n)},processData:function(e){var t,n,i,o,r=this.xData,a=this.yData,s=r.length,l=0,c=this.xAxis,u=this.options,d=u.cropThreshold,h=this.isCartesian;if(h&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(c&&(i=(e=c.getExtremes()).min,o=e.max),h&&this.sorted&&(!d||d<s||this.forceCrop)&&(r[s-1]<i||r[0]>o?(r=[],a=[]):(r[0]<i||r[s-1]>o)&&(r=(l=this.cropData(this.xData,this.yData,i,o)).xData,a=l.yData,l=l.start,t=!0)),d=r.length-1;0<=d;d--)0<(s=r[d]-r[d-1])&&(n===j||s<n)?n=s:s<0&&this.requireSorting&&D(15);this.cropped=t,this.cropStart=l,this.processedXData=r,this.processedYData=a,null===u.pointRange&&(this.pointRange=n||1),this.closestPointRange=n},cropData:function(e,t,n,i){for(var o=e.length,r=0,a=o,s=ze(this.cropShoulder,1),l=0;l<o;l++)if(e[l]>=n){r=ue(0,l-s);break}for(;l<o;l++)if(e[l]>i){a=l+s;break}return{xData:e.slice(r,a),yData:t.slice(r,a),start:r,end:a}},generatePoints:function(){var e,t,n,i,o=this.options.data,r=this.data,a=this.processedXData,s=this.processedYData,l=this.pointClass,c=a.length,u=this.cropStart||0,d=this.hasGroupedData,h=[];for(r||d||((r=[]).length=o.length,r=this.data=r),i=0;i<c;i++)t=u+i,d?h[i]=(new l).init(this,[a[i]].concat(f(s[i]))):(r[t]?n=r[t]:o[t]!==j&&(r[t]=n=(new l).init(this,o[t],a[i])),h[i]=n),h[i].index=t;if(r&&(c!==(e=r.length)||d))for(i=0;i<e;i++)i!==u||d||(i+=c),r[i]&&(r[i].destroyElements(),r[i].plotX=j);this.data=r,this.points=h},getExtremes:function(e){var t,n,i,o,r=this.yAxis,a=this.processedXData,s=[],l=0,c=this.xAxis.getExtremes(),u=c.min,d=c.max;for(c=(e=e||this.stackedYData||this.processedYData).length,o=0;o<c;o++)if(n=a[o],t=null!==(i=e[o])&&i!==j&&(!r.isLog||i.length||0<i),n=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(a[o+1]||n)>=u&&(a[o-1]||n)<=d,t&&n)if(t=i.length)for(;t--;)null!==i[t]&&(s[l++]=i[t]);else s[l++]=i;this.dataMin=S(s),this.dataMax=O(s)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e,t,n=(p=this.options).stacking,i=this.xAxis,o=i.categories,r=this.yAxis,a=this.points,s=a.length,l=!!this.modifyValue,c=p.pointPlacement,u="between"===c||x(c),d=p.threshold,h=p.startFromThreshold?d:0,f=Number.MAX_VALUE,p=0;p<s;p++){var m=a[p],g=m.x,v=m.y,y=m.low,b=n&&r.stacks[(this.negStacks&&v<(h?0:d)?"-":"")+this.stackKey];r.isLog&&null!==v&&v<=0&&(m.y=v=null,D(10)),m.plotX=e=de(ue(-1e5,i.translate(g,0,0,0,1,c,"flags"===this.type)),1e5),n&&this.visible&&b&&b[g]&&(y=(v=(b=b[g]).points[this.index+","+p])[0],v=v[1],y===h&&(y=ze(d,r.min)),r.isLog&&y<=0&&(y=null),m.total=m.stackTotal=b.total,m.percentage=b.total&&m.y/b.total*100,m.stackY=v,b.setOffset(this.pointXOffset||0,this.barW||0)),m.yBottom=E(y)?r.translate(y,0,1,0,1):null,l&&(v=this.modifyValue(v,m)),m.plotY=y="number"==typeof v&&v!==1/0?de(ue(-1e5,r.translate(v,0,1,0,1)),1e5):j,m.isInside=y!==j&&0<=y&&y<=r.len&&0<=e&&e<=i.len,m.clientX=u?i.translate(g,0,0,0,1):e,m.negative=m.y<(d||0),m.category=o&&o[m.x]!==j?o[m.x]:m.x,p&&(f=de(f,he(e-t))),t=e}this.closestPointRangePx=f,this.getSegments()},setClip:function(e){var t=this.chart,n=t.renderer,i=t.inverted,o=this.clipBox,r=o||t.clipBox,a=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,r.height].join(","),s=t[a],l=t[a+"m"];s||(e&&(r.width=0,t[a+"m"]=l=n.clipRect(-99,i?-t.plotLeft:-t.plotTop,99,i?t.chartWidth:t.chartHeight)),t[a]=s=n.clipRect(r)),e&&(s.count+=1),!1!==this.options.clip&&(this.group.clip(e||o?s:t.clipRect),this.markerGroup.clip(l),this.sharedClipKey=a),e||(--s.count,s.count<=0&&a&&t[a]&&(o||(t[a]=t[a].destroy()),t[a+"m"]&&(t[a+"m"]=t[a+"m"].destroy())))},animate:function(e){var t,n=this.chart,i=this.options.animation;i&&!h(i)&&(i=ot[this.type].animation),e?this.setClip(i):((e=n[t=this.sharedClipKey])&&e.animate({width:n.plotSizeX},i),n[t+"m"]&&n[t+"m"].animate({width:n.plotSizeX+99},i),this.animate=null)},afterAnimate:function(){this.setClip(),et(this,"afterAnimate")},drawPoints:function(){var e,t,n,i,o,r,a,s,l,c,u,d,h=this.points,f=this.chart,p=this.options.marker,m=this.pointAttr[""],g=this.markerGroup,v=ze(p.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*p.radius);if(!1!==p.enabled||this._hasPointMarkers)for(i=h.length;i--;)o=h[i],t=le(o.plotX),n=o.plotY,l=o.graphic,c=o.marker||{},u=!!o.marker,e=v&&c.enabled===j||c.enabled,d=o.isInside,e&&n!==j&&!isNaN(n)&&null!==o.y?(r=(e=o.pointAttr[o.selected?"select":""]||m).r,s=0===(a=ze(c.symbol,this.symbol)).indexOf("url"),l?l[d?"show":"hide"](!0).animate(He({x:t-r,y:n-r},l.symbolName?{width:2*r,height:2*r}:{})):d&&(0<r||s)&&(o.graphic=f.renderer.symbol(a,t-r,n-r,2*r,2*r,u?c:p).attr(e).add(g))):l&&(o.graphic=l.destroy())},convertAttribs:function(e,t,n,i){var o,r,a=this.pointAttrToOptions,s={},e=e||{},t=t||{},n=n||{},i=i||{};for(o in a)r=a[o],s[o]=ze(e[r],t[o],n[o],i[o]);return s},getAttribs:function(){var e,t=this,n=t.options,i=ot[t.type].marker?n.marker:n,o=i.states,r=o.hover,a=t.color,s=t.options.negativeColor,l={stroke:a,fill:a},c=t.points||[],u=[],d=t.pointAttrToOptions,h=t.hasPointSpecificOptions,f=i.lineColor,p=i.fillColor,m=n.turboThreshold,g=t.zones,v=t.zoneAxis||"y";if(n.marker?(r.radius=r.radius||i.radius+r.radiusPlus,r.lineWidth=r.lineWidth||i.lineWidth+r.lineWidthPlus):(r.color=r.color||ct(r.color||a).brighten(r.brightness).get(),r.negativeColor=r.negativeColor||ct(r.negativeColor||s).brighten(r.brightness).get()),u[""]=t.convertAttribs(i,l),Ge(["hover","select"],function(e){u[e]=t.convertAttribs(o[e],u[""])}),t.pointAttr=u,a=c.length,!m||a<m||h)for(;a--;){if((i=(m=c[a]).options&&m.options.marker||m.options)&&!1===i.enabled&&(i.radius=0),g.length){for(l=g[h=0];m[v]>=l.value;)l=g[++h];l.color&&(m.color=m.fillColor=l.color)}if(h=n.colorByPoint||m.color,m.options)for(e in d)E(i[d[e]])&&(h=!0);h?(h=[],l=(o=(i=i||{}).states||{}).hover=o.hover||{},n.marker||(l.color=l.color||!m.options.color&&r[m.negative&&s?"negativeColor":"color"]||ct(m.color).brighten(l.brightness||r.brightness).get()),l={color:m.color},p||(l.fillColor=m.color),f||(l.lineColor=m.color),i.hasOwnProperty("color")&&!i.color&&delete i.color,h[""]=t.convertAttribs(He(l,i),u[""]),h.hover=t.convertAttribs(o.hover,u.hover,h[""]),h.select=t.convertAttribs(o.select,u.select,h[""])):h=u,m.pointAttr=h}},destroy:function(){var e,t,n,i,o=this,r=o.chart,a=/AppleWebKit\/533/.test(d),s=o.data||[];for(et(o,"destroy"),Je(o),Ge(o.axisTypes||[],function(e){(i=o[e])&&(l(i.series,o),i.isDirty=i.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=s.length;e--;)(t=s[e])&&t.destroy&&t.destroy();for(n in o.points=null,clearTimeout(o.animationTimeout),o)o[n]instanceof L&&!o[n].survive&&(e=a&&"group"===n?"hide":"destroy",o[n][e]());for(n in r.hoverSeries===o&&(r.hoverSeries=null),l(r.series,o),o)delete o[n]},getSegmentPath:function(o){var r=this,a=[],s=r.options.step;return Ge(o,function(e,t){var n=e.plotX,i=e.plotY;r.getPointSpline?a.push.apply(a,r.getPointSpline(o,e,t)):(a.push(t?"L":"M"),s&&t&&(t=o[t-1],"right"===s?a.push(t.plotX,i):"center"===s?a.push((t.plotX+n)/2,t.plotY,(t.plotX+n)/2,i):a.push(n,t.plotY)),a.push(e.plotX,e.plotY))}),a},getGraphPath:function(){var t,n=this,i=[],o=[];return Ge(n.segments,function(e){t=n.getSegmentPath(e),1<e.length?i=i.concat(t):o.push(e[0])}),n.singlePoints=o,n.graphPath=i},drawGraph:function(){var o=this,r=this.options,n=[["graph",r.lineColor||this.color,r.dashStyle]],a=r.lineWidth,s="square"!==r.linecap,l=this.getGraphPath(),c=this.fillGraph&&this.color||Pe;Ge(this.zones,function(e,t){n.push(["zoneGraph"+t,e.color||o.color,e.dashStyle||r.dashStyle])}),Ge(n,function(e,t){var n=e[0],i=o[n];i?i.animate({d:l}):(a||c)&&l.length&&(i={stroke:e[1],"stroke-width":a,fill:c,zIndex:1},e[2]?i.dashstyle=e[2]:s&&(i["stroke-linecap"]=i["stroke-linejoin"]="round"),o[n]=o.chart.renderer.path(l).attr(i).add(o.group).shadow(t<2&&r.shadow))})},applyZones:function(){var n,i,o,r,a,s,l=this,c=this.chart,u=c.renderer,e=this.zones,d=this.clips||[],h=this.graph,f=this.area,p=ue(c.chartWidth,c.chartHeight),m=this[(this.zoneAxis||"y")+"Axis"],g=m.reversed,v=c.inverted,y=m.horiz,b=!1;e.length&&(h||f)&&m.min!==j&&(h&&h.hide(),f&&f.hide(),o=m.getExtremes(),Ge(e,function(e,t){s=g?y?c.plotWidth:0:y?0:m.toPixels(o.min),s=de(ue(ze(n,s),0),p),n=de(ue(se(m.toPixels(ze(e.value,o.max),!0)),0),p),b&&(s=n=m.toPixels(o.max)),r=Math.abs(s-n),a=de(s,n),s=ue(s,n),m.isXAxis?(i={x:v?s:a,y:0,width:r,height:p},y||(i.x=c.plotHeight-i.x)):(i={x:0,y:v?s:a,width:p,height:r},y&&(i.y=c.plotWidth-i.y)),c.inverted&&u.isVML&&(i=m.isXAxis?{x:0,y:g?a:s,height:i.width,width:c.chartWidth}:{x:i.y-c.plotLeft-c.spacingBox.x,y:0,width:i.height,height:c.chartHeight}),d[t]?d[t].animate(i):(d[t]=u.clipRect(i),h&&l["zoneGraph"+t].clip(d[t]),f&&l["zoneArea"+t].clip(d[t])),b=e.value>o.max}),this.clips=d)},invertGroups:function(){function e(){var t={width:n.yAxis.len,height:n.xAxis.len};Ge(["group","markerGroup"],function(e){n[e]&&n[e].attr(t).invert()})}var n=this,t=n.chart;n.xAxis&&(Ze(t,"resize",e),Ze(n,"destroy",function(){Je(t,"resize",e)}),e(),n.invertGroups=e)},plotGroup:function(e,t,n,i,o){var r=this[e],a=!r;return a&&(this[e]=r=this.chart.renderer.g(t).attr({visibility:n,zIndex:i||.1}).add(o)),r[a?"attr":"animate"](this.getPlotBox()),r},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e=this,t=e.chart,n=e.options,i=(l=n.animation)&&!!e.animate&&t.renderer.isSVG&&ze(l.duration,500)||0,o=e.visible?"visible":"hidden",r=n.zIndex,a=e.hasRendered,s=t.seriesGroup,l=e.plotGroup("group","series",o,r,s);e.markerGroup=e.plotGroup("markerGroup","markers",o,r,s),i&&e.animate(!0),e.getAttribs(),l.inverted=!!e.isCartesian&&t.inverted,e.drawGraph&&(e.drawGraph(),e.applyZones()),Ge(e.points,function(e){e.redraw&&e.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),t.inverted&&e.invertGroups(),!1===n.clip||e.sharedClipKey||a||l.clip(t.clipRect),i&&e.animate(),a||(i?e.animationTimeout=setTimeout(function(){e.afterAnimate()},i):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.isDirty,i=this.group,o=this.xAxis,r=this.yAxis;i&&(e.inverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:ze(o&&o.left,e.plotLeft),translateY:ze(r&&r.top,e.plotTop)})),this.translate(),this.render(),t&&et(this,"updatedData"),(n||t)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var n=this.xAxis,i=this.yAxis,o=this.chart.inverted;return this.searchKDTree({clientX:o?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:o?i.len-e.chartX+i.pos:e.chartY-i.pos},t)},buildKDTree:function(){function e(){var e=Qe(a.points||[],function(e){return null!==e.y});a.kdTree=function e(t,n,i){var o,r;if(r=t&&t.length)return o=a.kdAxisArray[n%i],t.sort(function(e,t){return e[o]-t[o]}),{point:t[r=Math.floor(r/2)],left:e(t.slice(0,r),n+1,i),right:e(t.slice(r+1),n+1,i)}}(e,t,t)}var a=this,t=a.kdDimensions;delete a.kdTree,a.options.kdSync?e():setTimeout(e)},searchKDTree:function(e,t){var u=this,d=this.kdAxisArray[0],h=this.kdAxisArray[1],f=t?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return function e(t,n,i,o){var r=n.point,a=u.kdAxisArray[i%o],s=r,l=E(t[d])&&E(r[d])?Math.pow(t[d]-r[d],2):null,c=E(t[h])&&E(r[h])?Math.pow(t[h]-r[h],2):null;return c=(l||0)+(c||0),r.dist=E(c)?Math.sqrt(c):Number.MAX_VALUE,r.distX=E(l)?Math.sqrt(l):Number.MAX_VALUE,l=(a=t[a]-r[a])<0?"right":"left",n[c=a<0?"left":"right"]&&(s=(c=e(t,n[c],i+1,o))[f]<s[f]?c:r),n[l]&&Math.sqrt(a*a)<s[f]&&(s=(t=e(t,n[l],i+1,o))[f]<s[f]?t:s),s}(e,this.kdTree,this.kdDimensions,this.kdDimensions)}},H.prototype={destroy:function(){r(this,this.axis)},render:function(e){var t=this.options,n=(n=t.format)?b(n,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=(a=this.axis).chart,i=n.inverted,o=a.reversed,o=this.isNegative&&!o||!this.isNegative&&o,r=a.translate(a.usePercentage?100:this.total,0,0,0,1),a=a.translate(0),a=he(r-a),s=n.xAxis[0].translate(this.x)+e,e=n.plotHeight,o={x:i?o?r:r-a:s,y:i?e-s-t:o?e-r-a:e-r,width:i?a:t,height:i?t:a};(i=this.label)&&(i.align(this.alignOptions,null,o),o=i.alignAttr,i[!1===this.options.crop||n.isInsidePlot(o.x,o.y)?"show":"hide"](!0))}},Ct.prototype.getStacks=function(){var t=this;Ge(t.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),Ge(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+ze(e.options.stack,""))})},mt.prototype.buildStacks=function(){var e=this.series,t=ze(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){for(this.usePercentage=!1;n--;)e[t?n:e.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<e.length;n++)e[n].setPercentStacks()}},mt.prototype.renderStackTotals=function(){var e,t,n=this.chart,i=n.renderer,o=this.stacks,r=this.stackTotalGroup;for(e in r||(this.stackTotalGroup=r=i.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(n.plotLeft,n.plotTop),o)for(t in n=o[e],n)n[t].render(r)},mt.prototype.resetStacks=function(){var e,t,n=this.stacks;if(!this.isXAxis)for(e in n)for(t in n[e])n[e][t].touched<this.stacksTouched?(n[e][t].destroy(),delete n[e][t]):(n[e][t].total=null,n[e][t].cum=0)},mt.prototype.cleanStacks=function(){var e,t,n;if(!this.isXAxis)for(t in this.oldStacks&&(e=this.stacks=this.oldStacks),e)for(n in e[t])e[t][n].cum=e[t][n].total},St.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,t,n,i,o,r,a=this.processedXData,s=this.processedYData,l=[],c=s.length,u=(f=this.options).threshold,d=f.startFromThreshold?u:0,h=f.stack,f=f.stacking,p=this.stackKey,m="-"+p,g=this.negStacks,v=this.yAxis,y=v.stacks,b=v.oldStacks;for(v.stacksTouched+=1,i=0;i<c;i++)o=a[i],r=s[i],n=this.index+","+i,y[t=(e=g&&r<(d?0:u))?m:p]||(y[t]={}),y[t][o]||(b[t]&&b[t][o]?(y[t][o]=b[t][o],y[t][o].total=null):y[t][o]=new H(v,v.options.stackLabels,e,o,h)),(t=y[t][o]).points[n]=[ze(t.cum,d)],t.touched=v.stacksTouched,"percent"===f?(e=e?p:m,g&&y[e]&&y[e][o]?(e=y[e][o],t.total=e.total=ue(e.total,t.total)+he(r)||0):t.total=I(t.total+(he(r)||0))):t.total=I(t.total+(r||0)),t.cum=ze(t.cum,d)+(r||0),t.points[n].push(t.cum),l[i]=t.cum;"percent"===f&&(v.usePercentage=!0),this.stackedYData=l,v.oldStacks={}}},St.prototype.setPercentStacks=function(){var o=this,e=o.stackKey,r=o.yAxis.stacks,a=o.processedXData;Ge([e,"-"+e],function(e){for(var t,n,i=a.length;i--;)t=a[i],(t=(n=r[e]&&r[e][t])&&n.points[o.index+","+i])&&(n=n.total?100/n.total:0,t[0]=I(t[0]*n),t[1]=I(t[1]*n),o.stackedYData[i]=t[1])})},He(Ct.prototype,{addSeries:function(e,t,n){var i,o=this;return e&&(t=ze(t,!0),et(o,"addSeries",{options:e},function(){i=o.initSeries(e),o.isDirtyLegend=!0,o.linkSeries(),t&&o.redraw(n)})),i},addAxis:function(e,t,n,i){var o=t?"xAxis":"yAxis",r=this.options;new mt(this,M(e,{index:this[o].length,isX:t})),r[o]=f(r[o]||{}),r[o].push(e),ze(n,!0)&&this.redraw(i)},showLoading:function(e){function t(){o&&N(o,{left:n.plotLeft+"px",top:n.plotTop+"px",width:n.plotWidth+"px",height:n.plotHeight+"px"})}var n=this,i=n.options,o=n.loadingDiv,r=i.loading;o||(n.loadingDiv=o=P(Ne,{className:"highcharts-loading"},He(r.style,{zIndex:10,display:Pe}),n.container),n.loadingSpan=P("span",null,r.labelStyle,o),Ze(n,"redraw",t)),n.loadingSpan.innerHTML=e||i.lang.loading,n.loadingShown||(N(o,{opacity:0,display:""}),nt(o,{opacity:r.style.opacity},{duration:r.showDuration||0}),n.loadingShown=!0),t()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&nt(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){N(t,{display:Pe})}}),this.loadingShown=!1}}),He(_t.prototype,{update:function(e,t,n,i){function o(){a.applyOptions(e),null===a.y&&l&&(a.graphic=l.destroy()),h(e)&&!y(e)&&(a.redraw=function(){l&&l.element&&e&&e.marker&&e.marker.symbol&&(a.graphic=l.destroy()),e&&e.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy()),a.redraw=null}),r=a.index,s.updateParallelArrays(a,r),d&&a.name&&(d[a.x]=a.name),u.data[r]=a.options,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===u.legendType&&(c.isDirtyLegend=!0),t&&c.redraw(n)}var r,a=this,s=a.series,l=a.graphic,c=s.chart,u=s.options,d=s.xAxis&&s.xAxis.names,t=ze(t,!0);!1===i?o():a.firePointEvent("update",{options:e},o)},remove:function(e,t){this.series.removePoint(Ve(this,this.series.data),e,t)}}),He(St.prototype,{addPoint:function(e,t,n,i){var o,r=this,a=r.options,s=r.data,l=r.graph,c=r.area,u=r.chart,d=r.xAxis&&r.xAxis.names,h=l&&l.shift||0,f=["graph","area"],l=a.data,p=r.xData;if(R(i,u),n){for(i=r.zones.length;i--;)f.push("zoneGraph"+i,"zoneArea"+i);Ge(f,function(e){r[e]&&(r[e].shift=h+1)})}if(c&&(c.isArea=!0),t=ze(t,!0),c={series:r},r.pointClass.prototype.applyOptions.apply(c,[e]),f=c.x,i=p.length,r.requireSorting&&f<p[i-1])for(o=!0;i&&p[i-1]>f;)i--;r.updateParallelArrays(c,"splice",i,0,0),r.updateParallelArrays(c,i),d&&c.name&&(d[f]=c.name),l.splice(i,0,e),o&&(r.data.splice(i,0,null),r.processData()),"point"===a.legendType&&r.generatePoints(),n&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),r.updateParallelArrays(c,"shift"),l.shift())),r.isDirty=!0,r.isDirtyData=!0,t&&(r.getAttribs(),u.redraw())},removePoint:function(e,t,n){function i(){r.length===s.length&&s.splice(e,1),r.splice(e,1),o.options.data.splice(e,1),o.updateParallelArrays(a||{series:o},"splice",e,1),a&&a.destroy(),o.isDirty=!0,o.isDirtyData=!0,t&&l.redraw()}var o=this,r=o.data,a=r[e],s=o.points,l=o.chart;R(n,l),t=ze(t,!0),a?a.firePointEvent("remove",null,i):i()},remove:function(e,t){var n=this,i=n.chart,e=ze(e,!0);n.isRemoving||(n.isRemoving=!0,et(n,"remove",null,function(){n.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,i.linkSeries(),e&&i.redraw(t)})),n.isRemoving=!1},update:function(e,t){var n,i=this,o=this.chart,r=this.userOptions,a=this.type,s=Oe[a].prototype,l=["group","markerGroup","dataLabelsGroup"];for(n in(e.type&&e.type!==a||void 0!==e.zIndex)&&(l.length=0),Ge(l,function(e){l[e]=i[e],delete i[e]}),e=M(r,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},e),this.remove(!1),s)this[n]=j;He(this,Oe[e.type||a].prototype),Ge(l,function(e){i[e]=l[e]}),this.init(o,e),o.linkSeries(),ze(t,!0)&&o.redraw(!1)}}),He(mt.prototype,{update:function(e,t){var n=this.chart,e=n.options[this.coll][this.options.index]=M(this.userOptions,e);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=j,this.init(n,He(e,{events:j})),n.isDirtyBox=!0,ze(t,!0)&&n.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,i=this.series,o=i.length;o--;)i[o]&&i[o].remove(!1);l(t.axes,this),l(t[n],this),t.options[n].splice(this.options.index,1),Ge(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,ze(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var Dt=e(St);Oe.line=Dt,ot.area=M(rt,{threshold:0});var At,Mt,Et,Nt=e(St,{type:"area",getSegments:function(){var i,o,r,e,a=this,t=[],s=[],n=[],l=this.xAxis,c=this.yAxis,u=c.stacks[this.stackKey],d={},h=this.points,f=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(r=0;r<h.length;r++)d[h[r].x]=h[r];for(e in u)null!==u[e].total&&n.push(+e);n.sort(function(e,t){return e-t}),Ge(n,function(e){var t,n=0;if(!f||d[e]&&null!==d[e].y)if(d[e])s.push(d[e]);else{for(r=a.index;r<=c.series.length;r++)if(t=u[e].points[r+","+e]){n=t[1];break}i=l.translate(e),o=c.toPixels(n,!0),s.push({y:null,plotX:i,clientX:i,plotY:o,yBottom:o,onMouseOver:z})}}),s.length&&t.push(s)}else St.prototype.getSegments.call(this),t=this.segments;this.segments=t},getSegmentPath:function(e){var t,n=St.prototype.getSegmentPath.call(this,e),i=[].concat(n),o=this.options,r=n.length,a=this.yAxis.getThreshold(o.threshold);if(3===r&&i.push("L",n[1],n[2]),o.stacking&&!this.closedStacks)for(r=e.length-1;0<=r;r--)t=ze(e[r].yBottom,a),r<e.length-1&&o.step&&i.push(e[r+1].plotX,t),i.push(e[r].plotX,t);else this.closeSegment(i,e,a);return this.areaPath=this.areaPath.concat(i),n},closeSegment:function(e,t,n){e.push("L",t[t.length-1].plotX,n,"L",t[0].plotX,n)},drawGraph:function(){this.areaPath=[],St.prototype.drawGraph.apply(this);var i=this,o=this.areaPath,r=this.options,n=[["area",this.color,r.fillColor]];Ge(this.zones,function(e,t){n.push(["zoneArea"+t,e.color||i.color,e.fillColor||r.fillColor])}),Ge(n,function(e){var t=e[0],n=i[t];n?n.animate({d:o}):i[t]=i.chart.renderer.path(o).attr({fill:ze(e[2],ct(e[1]).setOpacity(ze(r.fillOpacity,.75)).get()),zIndex:0}).add(i.group)})},drawLegendSymbol:$e.drawRectangle});Oe.area=Nt,ot.spline=M(rt),Dt=e(St,{type:"spline",getPointSpline:function(e,t,n){var i,o,r,a,s,l=t.plotX,c=t.plotY,u=e[n-1],d=e[n+1];return u&&d&&(e=u.plotY,r=d.plotX,s=((a=(1.5*c+(d=d.plotY))/2.5)-(o=(1.5*c+e)/2.5))*((r=(1.5*l+r)/2.5)-l)/(r-(i=(1.5*l+u.plotX)/2.5))+c-a,a+=s,e<(o+=s)&&c<o?a=2*c-(o=ue(e,c)):o<e&&o<c&&(a=2*c-(o=de(e,c))),d<a&&c<a?o=2*c-(a=ue(d,c)):a<d&&a<c&&(o=2*c-(a=de(d,c))),t.rightContX=r,t.rightContY=a),n?(t=["C",u.rightContX||u.plotX,u.rightContY||u.plotY,i||l,o||c,l,c],u.rightContX=u.rightContY=null):t=["M",l,c],t}}),Oe.spline=Dt,ot.areaspline=M(ot.area),Dt=e(Dt,{type:"areaspline",closedStacks:!0,getSegmentPath:(Nt=Nt.prototype).getSegmentPath,closeSegment:Nt.closeSegment,drawGraph:Nt.drawGraph,drawLegendSymbol:$e.drawRectangle}),Oe.areaspline=Dt,ot.column=M(rt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),Dt=e(St,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){St.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Ge(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var i,o=this,e=o.options,t=o.xAxis,r=o.yAxis,n=t.reversed,a={},s=0;!1===e.grouping?s=1:Ge(o.chart.series,function(e){var t=e.options,n=e.yAxis;e.type===o.type&&e.visible&&r.len===n.len&&r.pos===n.pos&&(t.stacking?(i=e.stackKey,a[i]===j&&(a[i]=s++),i=a[i]):!1!==t.grouping&&(i=s++),e.columnIndex=i)});var l=de(he(t.transA)*(t.ordinalSlope||e.pointRange||t.closestPointRange||t.tickInterval||1),t.len),c=l*e.groupPadding,u=(l-2*c)/s,e=de(e.maxPointWidth||t.len,ze(e.pointWidth,u*(1-2*e.pointPadding)));return o.columnMetrics={width:e,offset:(u-e)/2+(c+((n?s-(o.columnIndex||0):o.columnIndex)||0)*u-l/2)*(n?-1:1)}},translate:function(){var l=this,c=l.chart,e=l.options,t=l.borderWidth=ze(e.borderWidth,l.closestPointRange*l.xAxis.transA<2?0:1),u=l.yAxis,d=l.translatedThreshold=u.getThreshold(e.threshold),h=ze(e.minPointLength,5),n=l.getColumnMetrics(),f=n.width,p=l.barW=ue(f,1+2*t),m=l.pointXOffset=n.offset,g=-(t%2?.5:0),v=t%2?.5:1;c.inverted&&(d-=.5,c.renderer.isVML&&(v+=1)),e.pointPadding&&(p=ce(p)),St.prototype.translate.apply(l),Ge(l.points,function(e){var t,n=ze(e.yBottom,d),i=999+he(n),i=de(ue(-i,e.plotY),u.len+i),o=e.plotX+m,r=p,a=de(i,n),s=ue(i,n)-a;he(s)<h&&h&&(s=h,t=!u.reversed&&!e.negative||u.reversed&&e.negative,a=se(he(a-d)>h?n-h:d-(t?h:0))),e.barX=o,e.pointWidth=f,r=se(o+r)+g,r-=o=se(o)+g,n=he(a)<.5,s=de(se(a+s)+v,9e4),s-=a=se(a)+v,n&&(--a,s+=1),e.tooltipPos=c.inverted?[u.len+u.pos-c.plotLeft-i,l.xAxis.len-o-r/2,s]:[o+r/2,i+u.pos-c.plotTop,s],e.shapeType="rect",e.shapeArgs={x:o,y:a,width:r,height:s}})},getSymbol:z,drawLegendSymbol:$e.drawRectangle,drawGraph:z,drawPoints:function(){var i,o,r=this,a=this.chart,s=r.options,l=a.renderer,c=s.animationLimit||250;Ge(r.points,function(e){var t=e.plotY,n=e.graphic;t===j||isNaN(t)||null===e.y?n&&(e.graphic=n.destroy()):(i=e.shapeArgs,t=E(r.borderWidth)?{"stroke-width":r.borderWidth}:{},o=e.pointAttr[e.selected?"select":""]||r.pointAttr[""],n?(it(n),n.attr(t)[a.pointCount<c?"animate":"attr"](M(i))):e.graphic=l[e.shapeType](i).attr(t).attr(o).add(r.group).shadow(s.shadow,null,s.stacking&&!s.borderRadius))})},animate:function(e){var t=this.yAxis,n=this.options,i=this.chart.inverted,o={};_e&&(e?(o.scaleY=.001,e=de(t.pos+t.len,ue(t.pos,t.toPixels(n.threshold))),i?o.translateX=e-t.len:o.translateY=e,this.group.attr(o)):(o.scaleY=1,o[i?"translateX":"translateY"]=t.pos,this.group.animate(o,this.options.animation),this.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&Ge(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),St.prototype.remove.apply(t,arguments)}}),Oe.column=Dt,ot.bar=M(ot.column),Nt=e(Dt,{type:"bar",inverted:!0}),Oe.bar=Nt,ot.scatter=M(rt,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">â</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Nt=e(St,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&St.prototype.drawGraph.call(this)}}),Oe.scatter=Nt,ot.pie=M(rt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),rt={type:"pie",isCartesian:!1,pointClass:e(_t,{init:function(){_t.prototype.init.apply(this,arguments);var e,t=this;return He(t,{visible:!1!==t.visible,name:ze(t.name,"Slice")}),e=function(e){t.slice("select"===e.type)},Ze(t,"select",e),Ze(t,"unselect",e),t},setVisible:function(t,e){var n=this,i=n.series,o=i.chart,r=i.options.ignoreHiddenPoint,e=ze(e,r);t!==n.visible&&(n.visible=n.options.visible=t=t===j?!n.visible:t,i.options.data[Ve(n,i.data)]=n.options,Ge(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&o.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),r&&(i.isDirty=!0),e&&o.redraw())},slice:function(e,t,n){var i=this.series;R(n,i.chart),ze(t,!0),this.sliced=this.options.sliced=e=E(e)?e:!this.sliced,i.options.data[Ve(this,i.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(e){var i=this,t=i.points,o=i.startAngleRad;e||(Ge(t,function(e){var t=e.graphic,n=e.shapeArgs;t&&(t.attr({r:e.startR||i.center[3]/2,start:o,end:o}),t.animate({r:n.r,start:n.start,end:n.end},i.options.animation))}),i.animate=null)},setData:function(e,t,n,i){St.prototype.setData.call(this,e,!1,n,i),this.processData(),this.generatePoints(),ze(t,!0)&&this.chart.redraw(n)},updateTotals:function(){for(var e,t=0,n=this.points,i=n.length,o=this.options.ignoreHiddenPoint,r=0;r<i;r++)e=n[r],t+=o&&!e.visible?0:e.y;for(this.total=t,r=0;r<i;r++)(e=n[r]).percentage=0<t&&(e.visible||!o)?e.y/t*100:0,e.total=t},generatePoints:function(){St.prototype.generatePoints.call(this),this.updateTotals()},translate:function(n){this.generatePoints();var e,t,i,o,r,a=0,s=(f=this.options).slicedOffset,l=s+f.borderWidth,c=f.startAngle||0,u=this.startAngleRad=me/180*(c-90),c=(this.endAngleRad=me/180*(ze(f.endAngle,c+360)-90))-u,d=this.points,h=f.dataLabels.distance,f=f.ignoreHiddenPoint,p=d.length;for(n||(this.center=n=this.getCenter()),this.getX=function(e,t){return i=ae.asin(de((e-n[1])/(n[2]/2+h),1)),n[0]+(t?-1:1)*fe(i)*(n[2]/2+h)},o=0;o<p;o++)r=d[o],e=u+a*c,f&&!r.visible||(a+=r.percentage/100),t=u+a*c,r.shapeType="arc",r.shapeArgs={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:se(1e3*e)/1e3,end:se(1e3*t)/1e3},1.5*me<(i=(t+e)/2)?i-=2*me:i<-me/2&&(i+=2*me),r.slicedTranslation={translateX:se(fe(i)*s),translateY:se(pe(i)*s)},e=fe(i)*n[2]/2,t=pe(i)*n[2]/2,r.tooltipPos=[n[0]+.7*e,n[1]+.7*t],r.half=i<-me/2||me/2<i?1:0,r.angle=i,l=de(l,h/2),r.labelPos=[n[0]+e+fe(i)*h,n[1]+t+pe(i)*h,n[0]+e+fe(i)*l,n[1]+t+pe(i)*l,n[0]+e,n[1]+t,h<0?"center":r.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var t,n,i,o,r,a=this,s=a.chart.renderer,l=a.options.shadow;l&&!a.shadowGroup&&(a.shadowGroup=s.g("shadow").add(a.group)),Ge(a.points,function(e){null!==e.y&&(n=e.graphic,o=e.shapeArgs,i=e.shadowGroup,l&&!i&&(i=e.shadowGroup=s.g("shadow").add(a.shadowGroup)),t=e.sliced?e.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(t),n?n.animate(He(o,t)):(r={"stroke-linejoin":"round"},e.visible||(r.visibility="hidden"),e.graphic=n=s[e.shapeType](o).setRadialReference(a.center).attr(e.pointAttr[e.selected?"select":""]).attr(r).attr(t).add(a.group).shadow(l,i)))})},searchPoint:z,sortByAngle:function(e,n){e.sort(function(e,t){return void 0!==e.angle&&(t.angle-e.angle)*n})},drawLegendSymbol:$e.drawRectangle,getCenter:Tt.getCenter,getSymbol:z},rt=e(St,rt),Oe.pie=rt,St.prototype.drawDataLabels=function(){var c,u,d,h=this,f=h.options,p=f.cursor,m=f.dataLabels,e=h.points,t=h.hasRendered||0,g=h.chart.renderer;(m.enabled||h._hasPointLabels)&&(h.dlProcessOptions&&h.dlProcessOptions(m),d=h.plotGroup("dataLabelsGroup","data-labels",m.defer?"hidden":"visible",m.zIndex||6),ze(m.defer,!0)&&(d.attr({opacity:+t}),t||Ze(h,"afterAnimate",function(){h.visible&&d.show(),d[f.animation?"animate":"attr"]({opacity:1},{duration:200})})),c=m,Ge(e,function(e){var t,n,i,o,r=e.dataLabel,a=e.connector,s=!0,l={};if(u=e.dlOptions||e.options&&e.options.dataLabels,t=ze(u&&u.enabled,c.enabled),r&&!t)e.dataLabel=r.destroy();else if(t){if(o=(m=M(c,u)).style,t=m.rotation,n=e.getLabelConfig(),u=m.format?b(m.format,n):m.formatter.call(n,m),o.color=ze(m.color,o.color,h.color,"black"),r)E(u)?(r.attr({text:u}),s=!1):(e.dataLabel=r=r.destroy(),a&&(e.connector=a.destroy()));else if(E(u)){for(i in r={fill:m.backgroundColor,stroke:m.borderColor,"stroke-width":m.borderWidth,r:m.borderRadius||0,rotation:t,padding:m.padding,zIndex:1},"contrast"===o.color&&(l.color=m.inside||m.distance<0||f.stacking?g.getContrast(e.color||h.color):"#000000"),p&&(l.cursor=p),r)r[i]===j&&delete r[i];r=e.dataLabel=g[t?"text":"label"](u,0,-999,m.shape,null,null,m.useHTML).attr(r).css(He(o,l)).add(d).shadow(m.shadow)}r&&h.alignDataLabel(e,r,m,null,s)}}))},St.prototype.alignDataLabel=function(e,t,n,i,o){var r=this.chart,a=r.inverted,s=ze(e.plotX,-999),l=ze(e.plotY,-999),c=t.getBBox(),u=r.renderer.fontMetrics(n.style.fontSize).b,d=this.visible&&(e.series.forceDL||r.isInsidePlot(s,se(l),a)||i&&r.isInsidePlot(s,a?i.x+1:i.y+i.height-1,a));d&&(i=He({x:a?r.plotWidth-l:s,y:se(a?r.plotHeight-s:l),width:0,height:0},i),He(n,{width:c.width,height:c.height}),n.rotation?(e=r.renderer.rotCorr(u,n.rotation),t[o?"attr":"animate"]({x:i.x+n.x+i.width/2+e.x,y:i.y+n.y+i.height/2}).attr({align:n.align})):(t.align(n,null,i),a=t.alignAttr,"justify"===ze(n.overflow,"justify")?this.justifyDataLabel(t,n,a,c,i,o):ze(n.crop,!0)&&(d=r.isInsidePlot(a.x,a.y)&&r.isInsidePlot(a.x+c.width,a.y+c.height)),n.shape&&t.attr({anchorX:e.plotX,anchorY:e.plotY}))),d||(t.attr({y:-999}),t.placed=!1)},St.prototype.justifyDataLabel=function(e,t,n,i,o,r){var a,s=this.chart,l=t.align,c=t.verticalAlign,u=!e.box&&e.padding||0,d=n.x+u;d<0&&("right"===l?t.align="left":t.x=-d,a=!0),(d=n.x+i.width-u)>s.plotWidth&&("left"===l?t.align="right":t.x=s.plotWidth-d,a=!0),(d=n.y+u)<0&&("bottom"===c?t.verticalAlign="top":t.y=-d,a=!0),(d=n.y+i.height-u)>s.plotHeight&&("top"===c?t.verticalAlign="bottom":t.y=s.plotHeight-d,a=!0),a&&(e.placed=!r,e.align(t,null,o))},Oe.pie&&(Oe.pie.prototype.drawDataLabels=function(){function e(e,t){return t.y-e.y}var t,n,i,o,r,a,s,l,c,u=this,d=u.data,h=u.chart,f=u.options.dataLabels,p=ze(f.connectorPadding,10),m=ze(f.connectorWidth,1),g=h.plotWidth,v=h.plotHeight,y=ze(f.softConnector,!0),b=f.distance,x=u.center,w=x[2]/2,k=x[1],C=0<b,_=[[],[]],T=[0,0,0,0];if(u.visible&&(f.enabled||u._hasPointLabels)){for(St.prototype.drawDataLabels.apply(u),Ge(d,function(e){e.dataLabel&&e.visible&&_[e.half].push(e)}),l=2;l--;){var S,D=[],A=[],M=_[l],E=M.length;if(E){for(u.sortByAngle(M,l-.5),c=d=0;!d&&M[c];)d=M[c]&&M[c].dataLabel&&(M[c].dataLabel.getBBox().height||21),c++;if(0<b){for(o=de(k+w+b,h.plotHeight),c=ue(0,k-w-b);c<=o;c+=d)D.push(c);if((o=D.length)<E){for((I=[].concat(M)).sort(e),c=E;c--;)I[c].rank=c;for(c=E;c--;)M[c].rank>=o&&M.splice(c,1);E=M.length}for(c=0;c<E;c++){var N,P,I,R=(I=M[c]).labelPos;for(I=9999,P=0;P<o;P++)(N=he(D[P]-R[1]))<I&&(I=N,S=P);if(S<c&&null!==D[c])S=c;else for(o<E-c+S&&null!==D[c]&&(S=o-E+c);null===D[S];)S++;A.push({i:S,y:D[S]}),D[S]=null}A.sort(e)}for(c=0;c<E;c++)I=M[c],R=I.labelPos,i=I.dataLabel,s=!1===I.visible?"hidden":"inherit",I=R[1],0<b?(S=(o=A.pop()).i,((a=o.y)<I&&null!==D[S+1]||I<a&&null!==D[S-1])&&(a=de(ue(0,I),h.plotHeight))):a=I,r=f.justify?x[0]+(l?-1:1)*(w+b):u.getX(a===k-w-b||a===k+w+b?I:a,l),i._attr={visibility:s,align:R[6]},i._pos={x:r+f.x+({left:p,right:-p}[R[6]]||0),y:a+f.y-10},i.connX=r,i.connY=a,null===this.options.size&&(o=i.width,r-o<p?T[3]=ue(se(o-r+p),T[3]):g-p<r+o&&(T[1]=ue(se(r+o-g+p),T[1])),a-d/2<0?T[0]=ue(se(d/2-a),T[0]):v<a+d/2&&(T[2]=ue(se(a+d/2-v),T[2])))}}0!==O(T)&&!this.verifyDataLabelOverflow(T)||(this.placeDataLabels(),C&&m&&Ge(this.points,function(e){t=e.connector,R=e.labelPos,(i=e.dataLabel)&&i._pos&&e.visible?(s=i._attr.visibility,r=i.connX,a=i.connY,n=y?["M",r+("left"===R[6]?5:-5),a,"C",r,a,2*R[2]-R[4],2*R[3]-R[5],R[2],R[3],"L",R[4],R[5]]:["M",r+("left"===R[6]?5:-5),a,"L",R[2],R[3],"L",R[4],R[5]],t?(t.animate({d:n}),t.attr("visibility",s)):e.connector=t=u.chart.renderer.path(n).attr({"stroke-width":m,stroke:f.connectorColor||e.color||"#606060",visibility:s}).add(u.dataLabelsGroup)):t&&(e.connector=t.destroy())}))}},Oe.pie.prototype.placeDataLabels=function(){Ge(this.points,function(e){var t=e.dataLabel;t&&e.visible&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-999}))})},Oe.pie.prototype.alignDataLabel=z,Oe.pie.prototype.verifyDataLabelOverflow=function(e){var t,n=this.center,i=this.options,o=i.center,r=i.minSize||80,a=r;return null!==o[0]?a=ue(n[2]-ue(e[1],e[3]),r):(a=ue(n[2]-e[1]-e[3],r),n[0]+=(e[3]-e[1])/2),null!==o[1]?a=ue(de(a,n[2]-ue(e[0],e[2])),r):(a=ue(de(a,n[2]-e[0]-e[2]),r),n[1]+=(e[0]-e[2])/2),a<n[2]?(n[2]=a,n[3]=/%$/.test(i.innerSize||0)?a*parseFloat(i.innerSize||0)/100:parseFloat(i.innerSize||0),this.translate(n),Ge(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):t=!0,t}),Oe.column&&(Oe.column.prototype.alignDataLabel=function(e,t,n,i,o){var r=this.chart.inverted,a=e.series,s=e.dlBox||e.shapeArgs,l=ze(e.below,e.plotY>ze(this.translatedThreshold,a.yAxis.len)),c=ze(n.inside,!!this.options.stacking);s&&(i=M(s),r&&(i={x:a.yAxis.len-i.y-i.height,y:a.xAxis.len-i.x-i.width,width:i.height,height:i.width}),!c)&&(r?(i.x+=l?0:i.width,i.width=0):(i.y+=l?i.height:0,i.height=0)),n.align=ze(n.align,!r||c?"center":l?"right":"left"),n.verticalAlign=ze(n.verticalAlign,r||c?"middle":l?"top":"bottom"),St.prototype.alignDataLabel.call(this,e,t,n,i,o)}),$e=Le.Chart,At=Le.each,Mt=Le.pick,Et=HighchartsAdapter.addEvent,$e.prototype.callbacks.push(function(e){function t(){var i=[];At(e.series,function(e){var t=e.options.dataLabels,n=e.dataLabelCollections||["dataLabel"];(t.enabled||e._hasPointLabels)&&!t.allowOverlap&&e.visible&&At(n,function(t){At(e.points,function(e){e[t]&&(e[t].labelrank=Mt(e.labelrank,e.shapeArgs&&e.shapeArgs.height),i.push(e[t]))})})}),e.hideOverlappingLabels(i)}t(),Et(e,"redraw",t)}),$e.prototype.hideOverlappingLabels=function(e){for(var t,n,i,o,r,a,s=e.length,l=0;l<s;l++)(t=e[l])&&(t.oldOpacity=t.opacity,t.newOpacity=1);for(e.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)}),l=0;l<s;l++)for(n=e[l],t=l+1;t<s;++t)i=e[t],n&&i&&n.placed&&i.placed&&0!==n.newOpacity&&0!==i.newOpacity&&(o=n.alignAttr,r=i.alignAttr,a=2*(n.box?0:n.padding),o=!(r.x>o.x+(n.width-a)||r.x+(i.width-a)<o.x||r.y>o.y+(n.height-a)||r.y+(i.height-a)<o.y))&&((n.labelrank<i.labelrank?n:i).newOpacity=0);At(e,function(e){var t,n;e&&(n=e.newOpacity,e.oldOpacity!==n&&e.placed&&(n?e.show(!0):t=function(){e.hide()},e.alignAttr.opacity=n,e[e.isOld?"animate":"attr"](e.alignAttr,null,t)),e.isOld=!0)})};var Pt,It,Rt,Ot=Le.TrackerMixin={drawTrackerPoint:function(){function t(e){for(var t,n=e.target;n&&!t;)t=n.point,n=n.parentNode;t!==j&&t!==i.hoverPoint&&t.onMouseOver(e)}var n=this,i=n.chart,o=i.pointer,e=n.options.cursor,r=e&&{cursor:e};Ge(n.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),n._hasTracking||(Ge(n.trackerGroups,function(e){n[e]&&(n[e].addClass("highcharts-tracker").on("mouseover",t).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(r),F)&&n[e].on("touchstart",t)}),n._hasTracking=!0)},drawTrackerGraph:function(){function t(){s.hoverSeries!==n&&n.onMouseOver()}var e,n=this,i=n.options,o=i.trackByArea,r=[].concat(o?n.areaPath:n.graphPath),a=r.length,s=n.chart,l=s.pointer,c=s.renderer,u=s.options.tooltip.snap,d=n.tracker,h=(f=i.cursor)&&{cursor:f},f=n.singlePoints,p="rgba(192,192,192,"+(_e?1e-4:.002)+")";if(a&&!o)for(e=a+1;e--;)"M"===r[e]&&r.splice(e+1,0,r[e+1]-u,r[e+2],"L"),(e&&"M"===r[e]||e===a)&&r.splice(e,0,"L",r[e-2]+u,r[e-1]);for(e=0;e<f.length;e++)a=f[e],r.push("M",a.plotX-u,a.plotY,"L",a.plotX+u,a.plotY);d?d.attr({d:r}):(n.tracker=c.path(r).attr({"stroke-linejoin":"round",visibility:n.visible?"visible":"hidden",stroke:p,fill:o?p:Pe,"stroke-width":i.lineWidth+(o?0:2*u),zIndex:2}).add(n.group),Ge([n.tracker,n.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",t).on("mouseout",function(e){l.onTrackerMouseOut(e)}).css(h),F&&e.on("touchstart",t)}))}};Oe.column&&(Dt.prototype.drawTracker=Ot.drawTrackerPoint),Oe.pie&&(Oe.pie.prototype.drawTracker=Ot.drawTrackerPoint),Oe.scatter&&(Nt.prototype.drawTracker=Ot.drawTrackerPoint),He(kt.prototype,{setItemEvents:function(n,e,t,i,o){var r=this;(t?e:n.legendGroup).on("mouseover",function(){n.setState("hover"),e.css(r.options.itemHoverStyle)}).on("mouseout",function(){e.css(n.visible?i:o),n.setState()}).on("click",function(e){function t(){n.setVisible()}e={browserEvent:e};n.firePointEvent?n.firePointEvent("legendItemClick",e,t):et(n,"legendItemClick",e,t)})},createCheckboxForItem:function(t){t.checkbox=P("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),Ze(t.checkbox,"click",function(e){et(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),Ue.legend.itemStyle.cursor="pointer",He(Ct.prototype,{showResetZoom:function(){var e=this,t=Ue.lang,n=e.options.chart.resetZoomButton,i=n.theme,o=i.states,r="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},i,o&&o.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,r)},zoomOut:function(){var e=this;et(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var i,t,o=this.pointer,r=!1;!e||e.resetSelection?Ge(this.axes,function(e){i=e.zoom()}):Ge(e.xAxis.concat(e.yAxis),function(e){var t=e.axis,n=t.isXAxis;(o[n?"zoomX":"zoomY"]||o[n?"pinchX":"pinchY"])&&(i=t.zoom(e.min,e.max),t.displayBtn&&(r=!0))}),t=this.resetZoomButton,r&&!t?this.showResetZoom():!r&&h(t)&&(this.resetZoomButton=t.destroy()),i&&this.redraw(ze(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(s,e){var l,c=this,t=c.hoverPoints;t&&Ge(t,function(e){e.setState()}),Ge("xy"===e?[1,0]:[1],function(e){var t=s[e?"chartX":"chartY"],n=c[e?"xAxis":"yAxis"][0],i=c[e?"mouseDownX":"mouseDownY"],o=(n.pointRange||0)/2,r=n.getExtremes(),a=n.toValue(i-t,!0)+o,o=n.toValue(i+c[e?"plotWidth":"plotHeight"]-t,!0)-o,i=t<i;n.series.length&&(i||a>de(r.dataMin,r.min))&&(!i||o<ue(r.dataMax,r.max))&&(n.setExtremes(a,o,!1,!1,{trigger:"pan"}),l=!0),c[e?"mouseDownX":"mouseDownY"]=t}),l&&c.redraw(!1),N(c.container,{cursor:"move"})}}),He(_t.prototype,{select:function(e,t){var n=this,i=n.series,o=i.chart,e=ze(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,i.options.data[Ve(n,i.data)]=n.options,n.setState(e&&"select"),t||Ge(o.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,i.options.data[Ve(e,i.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e,t){var n=this.series,i=n.chart,o=i.tooltip,r=i.hoverPoint;i.hoverSeries!==n&&n.onMouseOver(),r&&r!==this&&r.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),!o||o.shared&&!n.noSharedTooltip||o.refresh(this,e),this.setState("hover"),!t)&&(i.hoverPoint=this)},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut"),t&&-1!==Ve(this,t)||(this.setState(),e.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,t=M(this.series.options.point,this.options).events;for(e in this.events=t)Ze(this,e,t[e]);this.hasImportedEvents=!0}},setState:function(e,t){var n=this.plotX,i=this.plotY,o=this.series,r=o.options.states,a=ot[o.type].marker&&o.options.marker,s=a&&!a.enabled,l=a&&a.states[e],c=l&&!1===l.enabled,u=o.stateMarkerGraphic,d=this.marker||{},h=o.chart,f=o.halo,e=e||"",p=this.pointAttr[e]||o.pointAttr[e];e===this.state&&!t||this.selected&&"select"!==e||r[e]&&!1===r[e].enabled||e&&(c||s&&!1===l.enabled)||e&&d.states&&d.states[e]&&!1===d.states[e].enabled||(this.graphic?(a=a&&this.graphic.symbolName&&p.r,this.graphic.attr(M(p,a?{x:n-a,y:i-a,width:2*a,height:2*a}:{})),u&&u.hide()):(e&&l&&(a=l.radius,d=d.symbol||o.symbol,u&&u.currentSymbol!==d&&(u=u.destroy()),u?u[t?"animate":"attr"]({x:n-a,y:i-a}):d&&(o.stateMarkerGraphic=u=h.renderer.symbol(d,n-a,i-a,2*a,2*a).attr(p).add(o.markerGroup),u.currentSymbol=d)),u&&(u[e&&h.isInsidePlot(n,i,h.inverted)?"show":"hide"](),u.element.point=this)),(n=r[e]&&r[e].halo)&&n.size?(f||(o.halo=f=h.renderer.path().add(h.seriesGroup)),f.attr(He({fill:ct(this.color||o.color).setOpacity(n.opacity).get()},n.attributes))[t?"animate":"attr"]({d:this.haloPath(n.size)})):f&&f.attr({d:[]}),this.state=e)},haloPath:function(e){var t=this.series,n=t.chart,i=t.getPlotBox(),o=n.inverted;return n.renderer.symbols.circle(i.translateX+(o?t.yAxis.len-this.plotY:this.plotX)-e,i.translateY+(o?t.xAxis.len-this.plotX:this.plotY)-e,2*e,2*e)}}),He(St.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&et(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,i=t.hoverPoint;t.hoverSeries=null,i&&i.onMouseOut(),this&&e.events.mouseOut&&et(this,"mouseOut"),!n||e.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),this.setState()},setState:function(e){var t=this.options,n=this.graph,i=t.states,o=t.lineWidth,t=0,e=e||"";if(this.state!==e&&((!i[this.state=e]||!1!==i[e].enabled)&&(e&&(o=i[e].lineWidth||o+(i[e].lineWidthPlus||0)),n&&!n.dashstyle)))for(e={"stroke-width":o},n.attr(e);this["zoneGraph"+t];)this["zoneGraph"+t].attr(e),t+=1},setVisible:function(t,e){var n=this,i=n.chart,o=n.legendItem,r=i.options.chart.ignoreHiddenSeries,a=n.visible,s=(n.visible=t=n.userOptions.visible=t===j?!a:t)?"show":"hide";Ge(["group","dataLabelsGroup","markerGroup","tracker"],function(e){n[e]&&n[e][s]()}),i.hoverSeries!==n&&(i.hoverPoint&&i.hoverPoint.series)!==n||n.onMouseOut(),o&&i.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&Ge(i.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),Ge(n.linkedSeries,function(e){e.setVisible(t,!1)}),r&&(i.isDirtyBox=!0),!1!==e&&i.redraw(),et(n,s)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===j?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),et(this,e?"select":"unselect")},drawTracker:Ot.drawTrackerGraph}),je(St.prototype,"init",function(e){var t;e.apply(this,Array.prototype.slice.call(arguments,1)),(t=this.xAxis)&&t.options.ordinal&&Ze(this,"updatedData",function(){delete t.ordinalIndex})}),je(mt.prototype,"getTimeTicks",function(e,t,n,i,o,r,a,s){var l,c,u,d=0,h=0,f={},p=[],m=-Number.MAX_VALUE,g=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!r||r.length<3||n===j)return e.call(this,t,n,i,o);for(c=r.length;h<c;h++){if(u=h&&r[h-1]>i,r[h]<n&&(d=h),h===c-1||r[h+1]-r[h]>5*a||u){if(r[h]>m){for(l=e.call(this,t,r[d],r[h],o);l.length&&l[0]<=m;)l.shift();l.length&&(m=l[l.length-1]),p=p.concat(l)}d=h+1}if(u)break}if(e=l.info,s&&e.unitRange<=We.hour){for(h=p.length-1,d=1;d<h;d++)Fe("%d",p[d])!==Fe("%d",p[d-1])&&(f[p[d]]="day",y=!0);y&&(f[p[0]]="day"),e.higherRanks=f}if(p.info=e,s&&E(g)){for(var v,s=e=p.length,h=[],y=[];s--;)d=this.translate(p[s]),v&&(y[s]=v-d),h[s]=v=d;for(y.sort(),(y=y[le(y.length/2)])<.6*g&&(y=null),s=p[e-1]>i?e-1:e,v=void 0;s--;)i=v-(d=h[s]),v&&i<.8*g&&(null===y||i<.8*y)?(f[p[s]]&&!f[p[s+1]]?(i=s+1,v=d):i=s,p.splice(i,1)):v=d}return p}),He(mt.prototype,{beforeSetTickPositions:function(){var n,e,t,i=[],o=!1,r=this.getExtremes(),a=r.min,s=r.max,l=this.isXAxis&&!!this.options.breaks;if((r=this.options.ordinal)||l){if(Ge(this.series,function(e,t){if(!1!==e.visible&&(!1!==e.takeOrdinalPosition||l)&&(i=i.concat(e.processedXData),n=i.length,i.sort(function(e,t){return e-t}),n))for(t=n-1;t--;)i[t]===i[t+1]&&i.splice(t,1)}),2<(n=i.length)){for(e=i[1]-i[0],t=n-1;t--&&!o;)i[t+1]-i[t]!==e&&(o=!0);!this.options.keepOrdinalPadding&&(i[0]-a>e||s-i[i.length-1]>e)&&(o=!0)}o?(this.ordinalPositions=i,e=this.val2lin(ue(a,i[0]),!0),t=ue(this.val2lin(de(s,i[i.length-1]),!0),1),this.ordinalSlope=s=(s-a)/(t-e),this.ordinalOffset=a-e*s):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=j}this.doPostTranslate=r&&o||l,this.groupIntervalFactor=null},val2lin:function(e,t){var n=this.ordinalPositions;if(n){for(var i,o=n.length,r=o;r--;)if(n[r]===e){i=r;break}for(r=o-1;r--;)if(e>n[r]||0===r){i=r+(n=(e-n[r])/(n[r+1]-n[r]));break}return t?i:this.ordinalSlope*(i||0)+this.ordinalOffset}return e},lin2val:function(e,t){var n=this.ordinalPositions;if(n){var i,o,r=this.ordinalSlope,a=this.ordinalOffset,s=n.length-1;if(t)e<0?e=n[0]:s<e?e=n[s]:o=e-(s=le(e));else for(;s--;)if((i=r*s+a)<=e){o=(e-i)/((r=r*(s+1)+a)-i);break}return o!==j&&n[s]!==j?n[s]+(o?o*(n[s+1]-n[s]):0):e}return e},getExtendedPositions:function(){var t,n,i=this.chart,o=this.series[0].currentDataGrouping,e=this.ordinalIndex,r=o?o.count+o.unitName:"raw",a=this.getExtremes();return(e=e||(this.ordinalIndex={}))[r]||(t={series:[],getExtremes:function(){return{min:a.dataMin,max:a.dataMax}},options:{ordinal:!0},val2lin:mt.prototype.val2lin},Ge(this.series,function(e){(n={xAxis:t,xData:e.xData,chart:i,destroyGroupedData:z}).options={dataGrouping:o?{enabled:!0,forced:!0,approximation:"open",units:[[o.unitName,[o.count]]]}:{enabled:!1}},e.processData.apply(n),t.series.push(n)}),this.beforeSetTickPositions.apply(t),e[r]=t.ordinalPositions),e[r]},getGroupIntervalFactor:function(e,t,n){var i=0,o=(n=n.processedXData).length,r=[],a=this.groupIntervalFactor;if(!a){for(;i<o-1;i++)r[i]=n[i+1]-n[i];r.sort(function(e,t){return e-t}),i=r[le(o/2)],e=ue(e,n[0]),t=de(t,n[o-1]),this.groupIntervalFactor=a=o*i/(t-e)}return a},postProcessTickInterval:function(e){var t=this.ordinalSlope;return t?this.options.breaks?this.closestPointRange:e/(t/this.closestPointRange):e}}),je(Ct.prototype,"pan",function(e,t){var n,i,o,r,a,s,l,c,u,d,h=this.xAxis[0],f=t.chartX,p=!1;h.options.ordinal&&h.series.length?(s=this.mouseDownX,i=(n=h.getExtremes()).dataMax,o=n.min,r=n.max,a=this.hoverPoints,c=h.closestPointRange,s=(s-f)/(h.translationSlope*(h.ordinalSlope||c)),l={ordinalPositions:h.getExtendedPositions()},c=h.lin2val,u=h.val2lin,l.ordinalPositions?1<he(s)&&(a&&Ge(a,function(e){e.setState()}),i>(l=(d=s<0?(a=l,h.ordinalPositions?h:l):(a=h.ordinalPositions?h:l,l)).ordinalPositions)[l.length-1]&&l.push(i),this.fixedRange=r-o,(s=h.toFixedRange(null,null,c.apply(a,[u.apply(a,[o,!0])+s,!0]),c.apply(d,[u.apply(d,[r,!0])+s,!0]))).min>=de(n.dataMin,o)&&s.max<=ue(i,r)&&h.setExtremes(s.min,s.max,!0,!1,{trigger:"pan"}),this.mouseDownX=f,N(this.container,{cursor:"move"})):p=!0):p=!0,p&&e.apply(this,Array.prototype.slice.call(arguments,1))}),je(St.prototype,"getSegments",function(e){var i,o=this.options.gapSize,r=this.xAxis;e.apply(this,Array.prototype.slice.call(arguments,1)),o&&(i=this.segments,Ge(i,function(e,t){for(var n=e.length-1;n--;){if(e[n].x<r.min&&e[n+1].x>r.max){i.length=0;break}e[n+1].x-e[n].x>r.closestPointRange*o&&i.splice(t+1,0,e.splice(n+1,e.length-n))}}))}),Pt=(Tt=Le).pick,$e=Tt.wrap,Dt=Tt.extend,It=HighchartsAdapter.fireEvent,Rt=Tt.Axis,Nt=Tt.Series,Dt(Rt.prototype,{isInBreak:function(e,t){var n=e.repeat||1/0,i=e.from,o=e.to-e.from,n=i<=t?(t-i)%n:n-(i-t)%n;return e.inclusive?n<=o:n<o&&0!==n},isInAnyBreak:function(e,t){var n,i,o,r=this.options.breaks,a=r&&r.length;if(a){for(;a--;)this.isInBreak(r[a],e)&&(n=!0,i=i||Pt(r[a].showPoints,!this.isXAxis));o=n&&t?n&&!i:n}return o}}),$e(Rt.prototype,"setTickPositions",function(e){if(e.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var t,n=this.tickPositions,i=this.tickPositions.info,o=[];if(!(i&&i.totalRange>=this.closestPointRange)){for(t=0;t<n.length;t++)this.isInAnyBreak(n[t])||o.push(n[t]);this.tickPositions=o,this.tickPositions.info=i}}}),$e(Rt.prototype,"init",function(e,t,n){var u;n.breaks&&n.breaks.length&&(n.ordinal=!1),e.call(this,t,n),this.options.breaks&&((u=this).doPostTranslate=!0,this.val2lin=function(e){for(var t,n=e,i=0;i<u.breakArray.length;i++)if((t=u.breakArray[i]).to<=e)n-=t.len;else{if(t.from>=e)break;if(u.isInBreak(t,e)){n-=e-t.from;break}}return n},this.lin2val=function(e){for(var t,n=0;n<u.breakArray.length&&!((t=u.breakArray[n]).from>=e);n++)(t.to<e||u.isInBreak(t,e))&&(e+=t.len);return e},this.setExtremes=function(e,t,n,i,o){for(;this.isInAnyBreak(e);)e-=this.closestPointRange;for(;this.isInAnyBreak(t);)t-=this.closestPointRange;Rt.prototype.setExtremes.call(this,e,t,n,i,o)},this.setAxisTranslation=function(e){Rt.prototype.setAxisTranslation.call(this,e);var t,n,i,o,r=u.options.breaks,e=[],a=[],s=0,l=u.userMin||u.min,c=u.userMax||u.max;for(o in r)n=r[o],t=n.repeat||1/0,u.isInBreak(n,l)&&(l+=n.to%t-l%t),u.isInBreak(n,c)&&(c-=c%t-n.from%t);for(o in r){for(i=(n=r[o]).from,t=n.repeat||1/0;l<i-t;)i-=t;for(;i<l;)i+=t;for(;i<c;i+=t)e.push({value:i,move:"in"}),e.push({value:i+(n.to-n.from),move:"out",size:n.breakSize})}for(o in e.sort(function(e,t){return e.value===t.value?("in"===e.move?0:1)-("in"===t.move?0:1):e.value-t.value}),r=0,i=l,e)1===(r+="in"===(n=e[o]).move?1:-1)&&"in"===n.move&&(i=n.value),0===r&&(a.push({from:i,to:n.value,len:n.value-i-(n.size||0)}),s+=n.value-i-(n.size||0));u.breakArray=a,It(u,"afterBreaks"),u.transA*=(c-u.min)/(c-l-s),u.min=l,u.max=c})}),$e(Nt.prototype,"generatePoints",function(e){e.apply(this,function(){return Array.prototype.slice.call(arguments,1)}(arguments));var t,n=this.xAxis,i=this.yAxis,o=this.points,r=o.length,a=this.options.connectNulls;if(n&&i&&(n.options.breaks||i.options.breaks))for(;r--;)null===(t=o[r]).y&&!1===a||!n.isInAnyBreak(t.x,!0)&&!i.isInAnyBreak(t.y,!0)||(o.splice(r,1),this.data[r]&&this.data[r].destroyElements())}),$e(Tt.seriesTypes.column.prototype,"drawPoints",function(e){e.apply(this);for(var t,n,i,o,r,e=this.points,a=this.yAxis,s=a.breakArray||[],l=Pt(this.options.threshold,a.min),c=0;c<e.length;c++)for(r=(n=e[c]).stackY||n.y,o=0;o<s.length;o++)t=!1,l<(i=s[o]).from&&r>i.to||l>i.from&&r<i.from?t="pointBreak":(l<i.from&&r>i.from&&r<i.to||l>i.from&&r>i.to&&r<i.from)&&(t="pointInBreak"),t&&It(a,t,{point:n,brk:i})});var Lt=St.prototype,rt=vt.prototype,Bt=Lt.processData,Ht=Lt.generatePoints,zt=Lt.destroy,jt=rt.tooltipFooterHeaderFormatter,Ft={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},Wt={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},$t=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],Ut={sum:function(e){var t,n=e.length;if(!n&&e.hasNulls)t=null;else if(n)for(t=0;n--;)t+=e[n];return t},average:function(e){var t=e.length;return"number"==typeof(e=Ut.sum(e))&&t&&(e/=t),e},open:function(e){return e.length?e[0]:e.hasNulls?null:j},high:function(e){return e.length?O(e):e.hasNulls?null:j},low:function(e){return e.length?S(e):e.hasNulls?null:j},close:function(e){return e.length?e[e.length-1]:e.hasNulls?null:j},ohlc:function(e,t,n,i){if(e=Ut.open(e),t=Ut.high(t),n=Ut.low(n),i=Ut.close(i),"number"==typeof e||"number"==typeof t||"number"==typeof n||"number"==typeof i)return[e,t,n,i]},range:function(e,t){if(e=Ut.low(e),t=Ut.high(t),"number"==typeof e||"number"==typeof t)return[e,t]}};Lt.groupData=function(e,t,n,i){for(var o,r=this.data,a=this.options.data,s=[],l=[],c=e.length,u=!!t,d=[[],[],[],[]],i="function"==typeof i?i:Ut[i],h=this.pointArrayMap,f=h&&h.length,p=0;p<=c&&!(e[p]>=n[0]);p++);for(;p<=c;p++){for(;(n[1]!==j&&e[p]>=n[1]||p===c)&&(g=n.shift(),(o=i.apply(0,d))!==j&&(s.push(g),l.push(o)),d[0]=[],d[1]=[],d[2]=[],d[3]=[],p!==c););if(p===c)break;if(h){var m,g=this.cropStart+p;for(g=r&&r[g]||this.pointClass.prototype.applyOptions.apply({series:this},[a[g]]),o=0;o<f;o++)"number"==typeof(m=g[h[o]])?d[o].push(m):null===m&&(d[o].hasNulls=!0)}else"number"==typeof(g=u?t[p]:null)?d[0].push(g):null===g&&(d[0].hasNulls=!0)}return[s,l]},Lt.processData=function(){var e,t=this.chart,n=this.options,i=n.dataGrouping,o=!1!==this.allowDG&&i&&ze(i.enabled,t.options._stock);if(this.forceCrop=o,this.groupPixelWidth=null,!(this.hasProcessed=!0)!==Bt.apply(this,arguments)&&o){this.destroyGroupedData();var r=this.processedXData,a=this.processedYData,s=t.plotSizeX,l=(t=this.xAxis).options.ordinal,c=this.groupPixelWidth=t.getGroupPixelWidth&&t.getGroupPixelWidth(),o=this.pointRange;if(c){e=!0,this.points=null;var u=t.getExtremes(),o=u.min,s=c*((u=u.max)-o)/s*(l=l&&t.getGroupIntervalFactor(o,u,this)||1),c=t.getTimeTicks(t.normalizeTimeTickInterval(s,i.units||$t),o,u,t.options.startOfWeek,r,this.closestPointRange),r=(a=Lt.groupData.apply(this,[r,a,c,i.approximation]))[0],a=a[1];if(i.smoothed){for(r[i=r.length-1]=u;i--&&0<i;)r[i]+=s/2;r[0]=o}this.currentDataGrouping=c.info,null===n.pointRange&&(this.pointRange=c.info.totalRange),this.closestPointRange=c.info.totalRange,E(r[0])&&r[0]<t.dataMin&&(t.min===t.dataMin&&(t.min=r[0]),t.dataMin=r[0]),this.processedXData=r,this.processedYData=a}else this.currentDataGrouping=null,this.pointRange=o;this.hasGroupedData=e}},Lt.destroyGroupedData=function(){var n=this.groupedData;Ge(n||[],function(e,t){e&&(n[t]=e.destroy?e.destroy():null)}),this.groupedData=null},Lt.generatePoints=function(){Ht.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},rt.tooltipFooterHeaderFormatter=function(e,t){var n,i=e.series,o=i.tooltipOptions,r=i.options.dataGrouping,a=o.xDateFormat,s=i.xAxis;return o=s&&"datetime"===s.options.type&&r&&x(e.key)?(i=i.currentDataGrouping,r=r.dateTimeLabelFormats,i?(s=r[i.unitName],1===i.count?a=s[0]:(a=s[1],n=s[2])):!a&&r&&(a=this.getXDateFormat(e,o,s)),a=Fe(a,e.key),n&&(a+=Fe(n,e.key+i.totalRange-1)),o[(t?"footer":"header")+"Format"].replace("{point.key}",a)):jt.call(this,e,t)},Lt.destroy=function(){for(var e=this.groupedData||[],t=e.length;t--;)e[t]&&e[t].destroy();zt.apply(this)},je(Lt,"setOptions",function(e,t){var n=e.call(this,t),i=this.type,o=this.chart.options.plotOptions,e=ot[i].dataGrouping;return Wt[i]&&(e=e||M(Ft,Wt[i]),n.dataGrouping=M(e,o.series&&o.series.dataGrouping,o[i].dataGrouping,t.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),n}),je(mt.prototype,"setScale",function(e){e.call(this),Ge(this.series,function(e){e.hasProcessed=!1})}),mt.prototype.getGroupPixelWidth=function(){for(var e,t=this.series,n=t.length,i=0,o=!1,r=n;r--;)(e=t[r].options.dataGrouping)&&(i=ue(i,e.groupPixelWidth));for(r=n;r--;)(e=t[r].options.dataGrouping)&&t[r].hasProcessed&&(n=(t[r].processedXData||t[r].data).length,(t[r].groupPixelWidth||n>this.chart.plotSizeX/i||n&&e.forced)&&(o=!0));return o?i:0},mt.prototype.setDataGrouping=function(t,e){var n,e=ze(e,!0);if(t=t||{forced:!1,units:null},this instanceof mt)for(n=this.series.length;n--;)this.series[n].update({dataGrouping:t},!1);else Ge(this.chart.options.series,function(e){e.dataGrouping=t},!1);e&&this.chart.redraw()},ot.ohlc=M(ot.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">â</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null}),rt=e(Oe.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(e){return[e.open,e.high,e.low,e.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){Oe.column.prototype.getAttribs.apply(this,arguments);var e=(t=this.options).states,t=t.upColor||this.color,n=M(this.pointAttr),i=this.upColorProp;n[""][i]=t,n.hover[i]=e.hover.upColor||t,n.select[i]=e.select.upColor||t,Ge(this.points,function(e){e.open<e.close&&!e.options.color&&(e.pointAttr=n)})},translate:function(){var t=this.yAxis;Oe.column.prototype.translate.apply(this),Ge(this.points,function(e){null!==e.open&&(e.plotOpen=t.translate(e.open,0,1,0,1)),null!==e.close&&(e.plotClose=t.translate(e.close,0,1,0,1))})},drawPoints:function(){var t,n,i,o,r,a,s,l=this,c=l.chart;Ge(l.points,function(e){e.plotY!==j&&(a=e.graphic,t=e.pointAttr[e.selected?"selected":""]||l.pointAttr[""],i=t["stroke-width"]%2/2,s=se(e.plotX)-i,o=se(e.shapeArgs.width/2),r=["M",s,se(e.yBottom),"L",s,se(e.plotY)],null!==e.open&&(n=se(e.plotOpen)+i,r.push("M",s,n,"L",s-o,n)),null!==e.close&&(i=se(e.plotClose)+i,r.push("M",s,i,"L",s+o,i)),a?a.attr(t).animate({d:r}):e.graphic=c.renderer.path(r).attr(t).add(l.group))})},animate:null}),Oe.ohlc=rt,ot.candlestick=M(ot.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:ot.ohlc.tooltip,threshold:null,upColor:"white"}),rt=e(rt,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){Oe.ohlc.prototype.getAttribs.apply(this,arguments);var e=this.options,t=e.states,n=e.upLineColor||e.lineColor,i=t.hover.upLineColor||n,o=t.select.upLineColor||n;Ge(this.points,function(e){e.open<e.close&&(e.lineColor&&(e.pointAttr=M(e.pointAttr),n=e.lineColor),e.pointAttr[""].stroke=n,e.pointAttr.hover.stroke=i,e.pointAttr.select.stroke=o)})},drawPoints:function(){var t,n,i,o,r,a,s,l,c,u=this,d=u.chart,h=u.pointAttr[""];Ge(u.points,function(e){s=e.graphic,e.plotY!==j&&(t=e.pointAttr[e.selected?"selected":""]||h,r=t["stroke-width"]%2/2,a=se(e.plotX)-r,i=e.plotOpen,o=e.plotClose,n=ae.min(i,o),l=ae.max(i,o),c=se(e.shapeArgs.width/2),i=se(n)!==se(e.plotY),o=l!==e.yBottom,n=se(n)+r,l=se(l)+r,l=["M",a-c,l,"L",a-c,n,"L",a+c,n,"L",a+c,l,"Z","M",a,n,"L",a,i?se(e.plotY):n,"M",a,l,"L",a,o?se(e.yBottom):l],s?s.attr(t).animate({d:l}):e.graphic=d.renderer.path(l).attr(t).add(u.group).shadow(u.options.shadow))})}}),Oe.candlestick=rt;var Yt=ut.prototype.symbols;ot.flags=M(ot.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30}),Oe.flags=e(Oe.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:St.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){Oe.column.prototype.translate.apply(this);var e,i,t,n,o,r=this.chart,a=this.points,s=a.length-1,l=(e=(l=this.options.onSeries)&&r.get(l))&&e.options.step,c=e&&e.points,u=c&&c.length,d=this.xAxis,h=d.getExtremes();if(e&&e.visible&&u)for(e=e.currentDataGrouping,n=c[u-1].x+(e?e.totalRange:0),a.sort(function(e,t){return e.x-t.x});u--&&a[s]&&(e=a[s],!((t=c[u]).x<=e.x&&t.plotY!==j&&(e.x<=n&&(e.plotY=t.plotY,t.x<e.x&&!l&&(o=c[u+1])&&o.plotY!==j&&(e.plotY+=(e.x-t.x)/(o.x-t.x)*(o.plotY-t.plotY))),u++,--s<0))););Ge(a,function(e,t){var n;e.plotY===j&&(e.x>=h.min&&e.x<=h.max?e.plotY=r.chartHeight-d.bottom-(d.opposite?d.height:0)+d.offset-r.plotTop:e.shapeArgs={}),(i=a[t-1])&&i.plotX===e.plotX&&(i.stackIndex===j&&(i.stackIndex=0),n=i.stackIndex+1),e.stackIndex=n})},drawPoints:function(){for(var e,t,n,i,o,r,a,s,l=this.pointAttr[""],c=this.points,u=this.chart.renderer,d=this.options,h=d.y,f=c.length;f--;)e=(o=c[f]).plotX>this.xAxis.len,0<(t=o.plotX)&&(t-=ze(o.lineWidth,d.lineWidth)%2),r=o.stackIndex,i=o.options.shape||d.shape,(n=o.plotY)!==j&&(n=o.plotY+h-(r!==j&&r*d.stackDistance)),a=r?j:o.plotX,s=r?j:o.plotY,r=o.graphic,n!==j&&0<=t&&!e?(e=o.pointAttr[o.selected?"select":""]||l,r?r.attr({x:t,y:n,r:e.r,anchorX:a,anchorY:s}):o.graphic=u.label(o.options.title||d.title||"A",t,n,i,a,s,d.useHTML).css(M(d.style,o.style)).attr(e).attr({align:"flag"===i?"left":"center",width:d.width,height:d.height}).add(this.markerGroup).shadow(d.shadow),o.tooltipPos=[t,n]):r&&(o.graphic=r.destroy())},drawTracker:function(){var n=this.points;Ot.drawTrackerPoint.apply(this),Ge(n,function(t){var e=t.graphic;e&&Ze(e.element,"mouseover",function(){0<t.stackIndex&&!t.raised&&(t._y=e.y,e.attr({y:t._y-8}),t.raised=!0),Ge(n,function(e){e!==t&&e.raised&&e.graphic&&(e.graphic.attr({y:e._y}),e.raised=!1)})})})},animate:z,buildKDTree:z,setClip:z}),Yt.flag=function(e,t,n,i,o){return["M",o&&o.anchorX||e,o&&o.anchorY||t,"L",e,t+i,e,t,e+n,t,e+n,t+i,e,t+i,"Z"]},Ge(["circle","square"],function(a){Yt[a+"pin"]=function(e,t,n,i,o){var r=o&&o.anchorX,o=o&&o.anchorY;return"circle"===a&&n<i&&(e-=se((i-n)/2),n=i),e=Yt[a](e,t,n,i),r&&o&&e.push("M",r,o<t?t:t+i,"L",r,o),e}}),s===Le.VMLRenderer&&Ge(["flag","circlepin","squarepin"],function(e){dt.prototype.symbols[e]=Yt[e]});function qt(e){var t=Qe(arguments,function(e){return"number"==typeof e});if(t.length)return Math[e].apply(0,t)}rt=[].concat($t);rt[4]=["day",[1,2,3,4]],rt[5]=["week",[1,2,3]],He(Ue,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:Oe.areaspline===j?"line":"areaspline",color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:rt},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:ke?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:_e&&!ke}}),i.prototype={drawHandle:function(e,t){var n,i=this.chart,o=i.renderer,r=this.elementsToDestroy,a=this.handles,s={fill:(s=this.navigatorOptions.handles).backgroundColor,stroke:s.borderColor,"stroke-width":1};this.rendered||(a[t]=o.g("navigator-handle-"+["left","right"][t]).css({cursor:"ew-resize"}).attr({zIndex:4-t}).add(),n=o.rect(-4.5,0,9,16,0,1).attr(s).add(a[t]),r.push(n),n=o.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(s).add(a[t]),r.push(n)),a[t][i.isResizing?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(e,10),translateY:this.top+this.height/2-8})},drawScrollbarButton:function(e){var t,n=this.chart.renderer,i=this.elementsToDestroy,o=this.scrollbarButtons,r=this.scrollbarHeight,a=this.scrollbarOptions;this.rendered||(o[e]=n.g().add(this.scrollbarGroup),t=n.rect(-.5,-.5,r+1,r+1,a.buttonBorderRadius,a.buttonBorderWidth).attr({stroke:a.buttonBorderColor,"stroke-width":a.buttonBorderWidth,fill:a.buttonBackgroundColor}).add(o[e]),i.push(t),t=n.path(["M",r/2+(e?-1:1),r/2-3,"L",r/2+(e?-1:1),r/2+3,r/2+(e?2:-2),r/2]).attr({fill:a.buttonArrowColor}).add(o[e]),i.push(t)),e&&o[e].attr({translateX:this.scrollerWidth-r})},render:function(e,t,n,i){var o,r,a,s,l,c=this.chart,u=c.renderer,d=this.scrollbarGroup,h=this.navigatorGroup,f=this.scrollbar,h=this.xAxis,p=this.scrollbarTrack,m=this.scrollbarHeight,g=this.scrollbarEnabled,v=this.navigatorOptions,y=this.scrollbarOptions,b=y.minWidth,x=this.height,w=this.top,k=this.navigatorEnabled,C=v.outlineWidth,_=C/2,T=0,S=this.outlineHeight,D=y.barBorderRadius,A=y.barBorderWidth,M=w+_;E(e)&&!isNaN(e)&&(this.navigatorLeft=o=ze(h.left,c.plotLeft+m),this.navigatorWidth=r=ze(h.len,c.plotWidth-2*m),this.scrollerLeft=a=o-m,this.scrollerWidth=s=r+2*m,h.getExtremes&&(l=this.getUnionExtremes(!0))&&(l.dataMin!==h.min||l.dataMax!==h.max)&&h.setExtremes(l.dataMin,l.dataMax,!0,!1),n=ze(n,h.translate(e)),i=ze(i,h.translate(t)),!isNaN(n)&&he(n)!==1/0||(n=0,i=s),h.translate(i,!0)-h.translate(n,!0)<c.xAxis[0].minRange||(this.zoomedMax=de(ue(n,i),r),this.zoomedMin=ue(this.fixedWidth?this.zoomedMax-this.fixedWidth:de(n,i),0),this.range=this.zoomedMax-this.zoomedMin,e=(n=se(this.zoomedMax))-(t=se(this.zoomedMin)),this.rendered||(k&&(this.navigatorGroup=h=u.g("navigator").attr({zIndex:3}).add(),this.leftShade=u.rect().attr({fill:v.maskFill}).add(h),v.maskInside?this.leftShade.css({cursor:"ew-resize "}):this.rightShade=u.rect().attr({fill:v.maskFill}).add(h),this.outline=u.path().attr({"stroke-width":C,stroke:v.outlineColor}).add(h)),g&&(this.scrollbarGroup=d=u.g("scrollbar").add(),f=y.trackBorderWidth,this.scrollbarTrack=p=u.rect().attr({x:0,y:-f%2/2,fill:y.trackBackgroundColor,stroke:y.trackBorderColor,"stroke-width":f,r:y.trackBorderRadius||0,height:m}).add(d),this.scrollbar=f=u.rect().attr({y:-A%2/2,height:m,fill:y.barBackgroundColor,stroke:y.barBorderColor,"stroke-width":A,r:D}).add(d),this.scrollbarRifles=u.path().attr({stroke:y.rifleColor,"stroke-width":1}).add(d))),c=c.isResizing?"animate":"attr",k&&(this.leftShade[c](v.maskInside?{x:o+t,y:w,width:n-t,height:x}:{x:o,y:w,width:t,height:x}),this.rightShade&&this.rightShade[c]({x:o+n,y:w,width:r-n,height:x}),this.outline[c]({d:["M",a,M,"L",o+t-_,M,o+t-_,M+S,"L",o+n-_,M+S,"L",o+n-_,M,a+s,M].concat(v.maskInside?["M",o+t+_,M,"L",o+n-_,M]:[])}),this.drawHandle(t+_,0),this.drawHandle(n+_,1)),g&&d&&(this.drawScrollbarButton(0),this.drawScrollbarButton(1),d[c]({translateX:a,translateY:se(M+x)}),p[c]({width:s}),o=m+t,(r=e-A)<b&&(T=(b-r)/2,r=b,o-=T),this.scrollbarPad=T,f[c]({x:le(o)+A%2/2,width:r}),b=m+t+e/2-.5,this.scrollbarRifles.attr({visibility:12<e?"visible":"hidden"})[c]({d:["M",b-3,m/4,"L",b-3,2*m/3,"M",b,m/4,"L",b,2*m/3,"M",b+3,m/4,"L",b+3,2*m/3]})),this.scrollbarPad=T,this.rendered=!0))},addEvents:function(){var e=this.chart.container,t=this.mouseDownHandler,n=this.mouseMoveHandler,i=this.mouseUpHandler,o=[[e,"mousedown",t],[e,"mousemove",n],[document,"mouseup",i]];F&&o.push([e,"touchstart",t],[e,"touchmove",n],[document,"touchend",i]),Ge(o,function(e){Ze.apply(null,e)}),this._events=o},removeEvents:function(){Ge(this._events,function(e){Je.apply(null,e)}),this._events=j,this.navigatorEnabled&&this.baseSeries&&Je(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var m,i,g,l,v=this,y=v.chart,a=v.scrollbarHeight,e=v.navigatorOptions,b=v.height,o=v.top,t=v.baseSeries;v.mouseDownHandler=function(e){var t,e=y.pointer.normalize(e),n=v.zoomedMin,i=v.zoomedMax,o=v.top,r=v.scrollbarHeight,a=v.scrollerLeft,s=v.scrollerWidth,l=v.navigatorLeft,c=v.navigatorWidth,u=v.scrollbarPad,d=v.range,h=e.chartX,f=e.chartY,e=y.xAxis[0],p=ke?10:7;o<f&&f<o+b+r&&((o=!v.scrollbarEnabled||f<o+b)&&ae.abs(h-n-l)<p?(v.grabbedLeft=!0,v.otherHandlePos=i,v.fixedExtreme=e.max,y.fixedRange=null):o&&ae.abs(h-i-l)<p?(v.grabbedRight=!0,v.otherHandlePos=n,v.fixedExtreme=e.min,y.fixedRange=null):l+n-u<h&&h<l+i+u?(v.grabbedCenter=h,v.fixedWidth=d,g=h-n):a<h&&h<a+s&&((i=o?h-l-d/2:h<l?n-.2*d:a+s-r<h?n+.2*d:h<l+n?n-d:i)<0?i=0:c<=i+d&&(i=c-d,t=v.getUnionExtremes().dataMax),i!==n&&(v.fixedWidth=d,n=m.toFixedRange(i,i+d,null,t),e.setExtremes(n.min,n.max,!0,!1,{trigger:"navigator"}))))},v.mouseMoveHandler=function(e){var t,n=v.scrollbarHeight,i=v.navigatorLeft,o=v.navigatorWidth,r=v.scrollerLeft,a=v.scrollerWidth,s=v.range;0!==e.pageX&&((t=(e=y.pointer.normalize(e)).chartX)<i?t=i:r+a-n<t&&(t=r+a-n),v.grabbedLeft?(l=!0,v.render(0,0,t-i,v.otherHandlePos)):v.grabbedRight?(l=!0,v.render(0,0,v.otherHandlePos,t-i)):v.grabbedCenter&&(l=!0,t<g?t=g:o+g-s<t&&(t=o+g-s),v.render(0,0,t-g,t-g+s)),l&&v.scrollbarOptions.liveRedraw&&setTimeout(function(){v.mouseUpHandler(e)},0))},v.mouseUpHandler=function(e){var t,n;l&&(v.zoomedMin===v.otherHandlePos?t=v.fixedExtreme:v.zoomedMax===v.otherHandlePos&&(n=v.fixedExtreme),t=m.toFixedRange(v.zoomedMin,v.zoomedMax,t,n),y.xAxis[0].setExtremes(t.min,t.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:e})),"mousemove"!==e.type&&(v.grabbedLeft=v.grabbedRight=v.grabbedCenter=v.fixedWidth=v.fixedExtreme=v.otherHandlePos=l=g=null)};var n=y.xAxis.length,r=y.yAxis.length;y.extraBottomMargin=v.outlineHeight+e.margin,v.navigatorEnabled?(v.xAxis=m=new mt(y,M({breaks:t&&t.xAxis.options.breaks,ordinal:t&&t.xAxis.options.ordinal},e.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:n,height:b,offset:0,offsetLeft:a,offsetRight:-a,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),v.yAxis=i=new mt(y,M(e.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:b,offset:0,index:r,zoomEnabled:!1})),t||e.series.data?v.addBaseSeries():0===y.series.length&&je(y,"redraw",function(e,t){0<y.series.length&&!v.series&&(v.setBaseSeries(),y.redraw=e),e.call(y,t)})):v.xAxis=m={translate:function(e,t){var n=(r=y.xAxis[0]).getExtremes(),i=y.plotWidth-2*a,o=qt("min",r.options.min,n.dataMin),r=qt("max",r.options.max,n.dataMax)-o;return t?e*r/i+o:i*(e-o)/r},toFixedRange:mt.prototype.toFixedRange},je(y,"getMargins",function(e){var t=this.legend,n=t.options;e.apply(this,[].slice.call(arguments,1)),v.top=o=v.navigatorOptions.top||this.chartHeight-v.height-v.scrollbarHeight-this.spacing[2]-("bottom"===n.verticalAlign&&n.enabled&&!n.floating?t.legendHeight+ze(n.margin,10):0),m&&i&&(m.options.top=i.options.top=o,m.setAxisSize(),i.setAxisSize())}),v.addEvents()},getUnionExtremes:function(e){var t,n=this.chart.xAxis[0],i=this.xAxis,o=i.options,r=n.options;return e&&null===n.dataMin||(t={dataMin:ze(o&&o.min,qt("min",r.min,n.dataMin,i.dataMin)),dataMax:ze(o&&o.max,qt("max",r.max,n.dataMax,i.dataMax))}),t},setBaseSeries:function(e){var t=this.chart,e=e||t.options.navigator.baseSeries;this.series&&this.series.remove(),this.baseSeries=t.series[e]||"string"==typeof e&&t.get(e)||t.series[0],this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var e=this.baseSeries,t=e?e.options:{},n=t.data,i=this.navigatorOptions.series,o=i.data;this.hasNavigatorData=!!o,(t=M(t,i,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0})).data=o||n,this.series=this.chart.initSeries(t),e&&!1!==this.navigatorOptions.adaptToUpdatedData&&(Ze(e,"updatedData",this.updatedDataHandler),e.userOptions.events=He(e.userOptions.event,{updatedData:this.updatedDataHandler}))},updatedDataHandler:function(){var e,t,n,i=this.chart.scroller,o=i.baseSeries,r=o.xAxis,a=(c=r.getExtremes()).min,s=c.max,l=c.dataMin,c=c.dataMax,u=s-a,d=i.series,h=d.xData,f=!!r.setExtremes,p=s>=h[h.length-1]-(this.closestPointRange||0);h=a<=l,i.hasNavigatorData||(d.options.pointStart=o.xData[0],d.setData(o.options.data,!1),n=!0),h&&(e=(t=l)+u),p&&(e=c,h||(t=ue(e-u,d.xData[0]))),f&&(h||p)?isNaN(t)||r.setExtremes(t,e,!0,!1,{trigger:"updatedData"}):(n&&this.chart.redraw(!1),i.render(ue(a,l),de(s,c)))},destroy:function(){this.removeEvents(),Ge([this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline,this.scrollbarTrack,this.scrollbarRifles,this.scrollbarGroup,this.scrollbar],function(e){e&&e.destroy&&e.destroy()}),this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=this.scrollbarTrack=this.scrollbarRifles=this.scrollbarGroup=this.scrollbar=null,Ge([this.scrollbarButtons,this.handles,this.elementsToDestroy],function(e){r(e)})}},Le.Scroller=i,je(mt.prototype,"zoom",function(e,t,n){var i,o=this.chart,r=(s=o.options).chart.zoomType,a=s.navigator,s=s.rangeSelector;return this.isXAxis&&(a&&a.enabled||s&&s.enabled)&&("x"===r?o.resetZoomButton="blocked":"y"===r?i=!1:"xy"===r&&(o=this.previousZoom,E(t)?this.previousZoom=[this.min,this.max]:o&&(t=o[0],n=o[1],delete this.previousZoom))),i!==j?i:e.call(this,t,n)}),je(Ct.prototype,"init",function(e,t,n){Ze(this,"beforeRender",function(){var e=this.options;(e.navigator.enabled||e.scrollbar.enabled)&&(this.scroller=new i(this))}),e.call(this,t,n)}),je(St.prototype,"addPoint",function(e,t,n,i,o){var r=this.options.turboThreshold;r&&this.xData.length>r&&h(t)&&!y(t)&&this.chart.scroller&&D(20,!0),e.call(this,t,n,i,o)}),He(Ue,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},inputPosition:{align:"right"},labelStyle:{color:"#666"}}}),Ue.lang=M(Ue.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),o.prototype={clickButton:function(e,t){var n,i,o,r,a,s=this,l=s.selected,c=s.chart,u=s.buttons,d=s.buttonOptions[e],h=c.xAxis[0],f=(v=c.scroller&&c.scroller.getUnionExtremes()||h||{}).dataMin,p=v.dataMax,m=h&&se(de(h.max,ze(p,h.max))),g=d.type,v=d._range,y=d.dataGrouping;if(null!==f&&null!==p&&e!==s.selected){if(c.fixedRange=v,y&&(this.forcedDataGrouping=!0,mt.prototype.setDataGrouping.call(h||{chart:this.chart},y,!1)),"month"===g||"year"===g)h?(g={range:d,max:m,dataMin:f,dataMax:p},n=h.minFromRange.call(g),"number"==typeof g.newMax&&(m=g.newMax)):v=d;else if(v)n=ue(m-v,f),m=de(n+v,p);else if("ytd"===g){if(!h)return void Ze(c,"beforeRender",function(){s.clickButton(e)});p===j&&(f=Number.MAX_VALUE,p=Number.MIN_VALUE,Ge(c.series,function(e){e=e.xData,f=de(e[0],f),p=ue(e[e.length-1],p)}),t=!1),n=(m=new W(p)).getFullYear(),n=o=ue(f||0,W.UTC(n,0,1)),m=m.getTime(),m=de(p||m,m)}else"all"===g&&h&&(n=f,m=p);u[l]&&u[l].setState(0),u[e]&&u[e].setState(2),h?(h.setExtremes(n,m,ze(t,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:d}),s.setSelected(e)):(i=c.options.xAxis[0],a=i.range,i.range=v,r=i.min,i.min=o,s.setSelected(e),Ze(c,"load",function(){i.range=a,i.min=r}))}},setSelected:function(e){this.selected=this.options.selected=e},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(t){var n=this,e=t.options.rangeSelector,i=e.buttons||[].concat(n.defaultButtons),o=e.selected,r=n.blurInputs=function(){var e=n.minInput,t=n.maxInput;e&&e.blur&&et(e,"blur"),t&&t.blur&&et(t,"blur")};n.chart=t,n.options=e,n.buttons=[],t.extraTopMargin=35,n.buttonOptions=i,Ze(t.container,"mousedown",r),Ze(t,"resize",r),Ge(i,n.computeButtonRange),o!==j&&i[o]&&this.clickButton(o,!1),Ze(t,"load",function(){Ze(t.xAxis[0],"setExtremes",function(e){this.max-this.min!==t.fixedRange&&"rangeSelectorButton"!==e.trigger&&"updatedData"!==e.trigger&&n.forcedDataGrouping&&this.setDataGrouping(!1,!1)}),Ze(t.xAxis[0],"afterSetExtremes",function(){n.updateButtonStates(!0)})})},updateButtonStates:function(e){var u=this,d=this.chart,h=d.xAxis[0],t=d.scroller&&d.scroller.getUnionExtremes()||h,f=t.dataMin,p=t.dataMax,m=u.selected,g=u.options.allButtonsEnabled,v=u.buttons;e&&d.fixedRange!==se(h.max-h.min)&&(v[m]&&v[m].setState(0),u.setSelected(null)),Ge(u.buttonOptions,function(e,t){var n=se(h.max-h.min),i=e._range,o=e.type,r=e.count||1,a=p-f<i,s=i<h.minRange,l="all"===e.type&&h.max-h.min>=p-f&&2!==v[t].state,c="ytd"===e.type&&Fe("%Y",f)===Fe("%Y",p),e=d.renderer.forExport&&t===m,i=("month"===o||"year"===o)&&864e5*{month:28,year:365}[o]*r<=n&&n<=864e5*{month:31,year:366}[o]*r?!0:i===n;e||i&&t!==m?(u.setSelected(t),v[t].setState(2)):!g&&(a||s||l||c)?v[t].setState(3):3===v[t].state&&v[t].setState(0)})},computeButtonRange:function(e){var t=e.type,n=e.count||1,i={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};i[t]?e._range=i[t]*n:"month"!==t&&"year"!==t||(e._range=864e5*{month:30,year:365}[t]*n)},setInputValue:function(e,t){var n=this.chart.options.rangeSelector;E(t)&&(this[e+"Input"].HCTime=t),this[e+"Input"].value=Fe(n.inputEditDateFormat||"%Y-%m-%d",this[e+"Input"].HCTime),this[e+"DateBox"].attr({text:Fe(n.inputDateFormat||"%b %e, %Y",this[e+"Input"].HCTime)})},showInput:function(e){var t=this.inputGroup,n=this[e+"DateBox"];N(this[e+"Input"],{left:t.translateX+n.x+"px",top:t.translateY+"px",width:n.width-2+"px",height:n.height-2+"px",border:"2px solid silver"})},hideInput:function(e){N(this[e+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(e)},drawInput:function(e){var r,t,a=this,s=a.chart,n=s.renderer.style,i=s.renderer,l=s.options.rangeSelector,o=a.div,c="min"===e,u=this.inputGroup;this[e+"Label"]=t=i.label(Ue.lang[c?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(M(n,l.labelStyle)).add(u),u.offset+=t.width+5,this[e+"DateBox"]=i=i.label("",u.offset).attr({padding:2,width:l.inputBoxWidth||90,height:l.inputBoxHeight||17,stroke:l.inputBoxBorderColor||"silver","stroke-width":1}).css(M({textAlign:"center",color:"#444"},n,l.inputStyle)).on("click",function(){a.showInput(e),a[e+"Input"].focus()}).add(u),u.offset+=i.width+(c?10:0),this[e+"Input"]=r=P("input",{name:e,className:"highcharts-range-selector",type:"text"},He({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:n.fontSize,fontFamily:n.fontFamily,top:s.plotTop+"px"},l.inputStyle),o),r.onfocus=function(){a.showInput(e)},r.onblur=function(){a.hideInput(e)},r.onchange=function(){var e=r.value,t=(l.inputDateParser||W.parse)(e),n=s.xAxis[0],i=n.dataMin,o=n.dataMax;isNaN(t)&&(t=e.split("-"),t=W.UTC(m(t[0]),m(t[1])-1,m(t[2]))),isNaN(t)||(Ue.global.useUTC||(t+=6e4*(new W).getTimezoneOffset()),c?t>a.maxInput.HCTime?t=j:t<i&&(t=i):t<a.minInput.HCTime?t=j:o<t&&(t=o),t!==j&&s.xAxis[0].setExtremes(c?t:n.min,c?n.max:t,j,j,{trigger:"rangeSelectorInput"}))}},getPosition:function(){var e=this.chart;return{buttonTop:e=ze((e.options.rangeSelector.buttonPosition||{}).y,e.plotTop-e.axisOffset[0]-35),inputTop:e-10}},render:function(e,t){var n,i=this,o=i.chart,r=o.renderer,a=o.container,s=(u=o.options).exporting&&u.navigation&&u.navigation.buttonOptions,l=u.rangeSelector,c=i.buttons,u=Ue.lang,d=i.div,d=i.inputGroup,h=l.buttonTheme,f=l.buttonPosition||{},p=l.inputEnabled,m=h&&h.states,g=o.plotLeft,v=this.getPosition(),y=i.group,b=i.rendered;b||(i.group=y=r.g("range-selector-buttons").add(),i.zoomText=r.text(u.rangeSelectorZoom,ze(f.x,g),15).css(l.labelStyle).add(y),n=ze(f.x,g)+i.zoomText.getBBox().width+5,Ge(i.buttonOptions,function(e,t){c[t]=r.button(e.text,n,0,function(){i.clickButton(t),i.isActive=!0},h,m&&m.hover,m&&m.select,m&&m.disabled).css({textAlign:"center"}).add(y),n+=c[t].width+ze(l.buttonSpacing,5),i.selected===t&&c[t].setState(2)}),i.updateButtonStates(),!1===p)||(i.div=d=P("div",null,{position:"relative",height:0,zIndex:1}),a.parentNode.insertBefore(d,a),i.inputGroup=d=r.g("input-group").add(),d.offset=0,i.drawInput("min"),i.drawInput("max")),y[b?"animate":"attr"]({translateY:v.buttonTop}),!1!==p&&(d.align(He({y:v.inputTop,width:d.offset,x:s&&v.inputTop<(s.y||0)+s.height-o.spacing[0]?-40:0},l.inputPosition),!0,o.spacingBox),E(p)||(o=y.getBBox(),d[d.translateX<o.x+o.width+10?"hide":"show"]()),i.setInputValue("min",e),i.setInputValue("max",t)),i.rendered=!0},destroy:function(){var e,t=this.minInput,n=this.maxInput,i=this.chart,o=this.blurInputs;for(e in Je(i.container,"mousedown",o),Je(i,"resize",o),r(this.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),n&&(n.onfocus=n.onblur=n.onchange=null),this)this[e]&&"chart"!==e&&(this[e].destroy?this[e].destroy():this[e].nodeType&&a(this[e])),this[e]=null}},mt.prototype.toFixedRange=function(e,t,n,i){var o=this.chart&&this.chart.fixedRange,e=ze(n,this.translate(e,!0)),t=ze(i,this.translate(t,!0));return.7<(n=o&&(t-e)/o)&&n<1.3&&(i?e=t-o:t=e+o),{min:e,max:t}},mt.prototype.minFromRange=function(){var e,t=this.range,n={month:"Month",year:"FullYear"}[t.type],i=this.max,o=new W(i);return"number"==typeof t?(n=this.max-t,e=t):(o["set"+n](o["get"+n]()-t.count),n=o.getTime()),t=ze(this.dataMin,Number.MIN_VALUE),isNaN(n)&&(n=t),n<=t&&(n=t,this.newMax=de(n+e,this.dataMax)),isNaN(i)&&(n=void 0),n},je(Ct.prototype,"init",function(e,t,n){Ze(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new o(this))}),e.call(this,t,n)}),Le.RangeSelector=o,Ct.prototype.callbacks.push(function(e){function n(){r=e.xAxis[0].getExtremes(),a.render(r.min,r.max)}function t(){r=e.xAxis[0].getExtremes(),isNaN(r.min)||s.render(r.min,r.max)}function i(e){"navigator-drag"!==e.triggerOp&&a.render(e.min,e.max)}function o(e){s.render(e.min,e.max)}var r,a=e.scroller,s=e.rangeSelector;a&&(Ze(e.xAxis[0],"afterSetExtremes",i),je(e,"drawChartBox",function(e){var t=this.isDirtyBox;e.call(this),t&&n()}),n()),s&&(Ze(e.xAxis[0],"afterSetExtremes",o),Ze(e,"resize",t),t()),Ze(e,"destroy",function(){a&&Je(e.xAxis[0],"afterSetExtremes",i),s&&(Je(e,"resize",t),Je(e.xAxis[0],"afterSetExtremes",o))})}),Le.StockChart=function(e,t){var n=e.series,i=ze(e.navigator&&e.navigator.enabled,!0)?{startOnTick:!1,endOnTick:!1}:null,o={marker:{enabled:!1,radius:2}},r={shadow:!1,borderWidth:0};return e.xAxis=Ke(f(e.xAxis||{}),function(e){return M({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},e,{type:"datetime",categories:null},i)}),e.yAxis=Ke(f(e.yAxis||{}),function(e){return M({labels:{y:-2},opposite:ze(e.opposite,!0),showLastLabel:!1,title:{text:null}},e)}),e.series=null,(e=M({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:o,spline:o,area:o,areaspline:o,arearange:o,areasplinerange:o,column:r,columnrange:r,candlestick:r,ohlc:r}},e,{_stock:!0,chart:{inverted:!1}})).series=n,new Ct(e,t)},je(wt.prototype,"init",function(e,t,n){var i=n.chart.pinchType||"";e.call(this,t,n),this.pinchX=this.pinchHor=-1!==i.indexOf("x"),this.pinchY=this.pinchVert=-1!==i.indexOf("y"),this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert}),je(mt.prototype,"autoLabelAlign",function(e){var t=this.chart,n=this.options,t=t._labelPanes=t._labelPanes||{},i=this.options.labels;return this.chart.options._stock&&"yAxis"===this.coll&&(!t[n=n.top+","+n.height]&&i.enabled)?(15===i.x&&(i.x=0),void 0===i.align&&(i.align="right"),t[n]=1,"right"):e.call(this,[].slice.call(arguments,1))}),je(mt.prototype,"getPlotLinePath",function(e,t,n,i,o,r){var a,s,l,c,u,d=this,h=(this.isLinked&&!this.series?this.linkedParent:this).series,f=d.chart,p=f.renderer,m=d.left,g=d.top,v=[],y=[];return"colorAxis"===d.coll?e.apply(this,[].slice.call(arguments,1)):(y=d.isXAxis?E(d.options.yAxis)?[f.yAxis[d.options.yAxis]]:Ke(h,function(e){return e.yAxis}):E(d.options.xAxis)?[f.xAxis[d.options.xAxis]]:Ke(h,function(e){return e.xAxis}),Ge(d.isXAxis?f.yAxis:f.xAxis,function(e){var t;E(e.options.id)&&-1!==e.options.id.indexOf("navigator")||(t=e.isXAxis?"yAxis":"xAxis",t=E(e.options[t])?f[t][e.options[t]]:f[t][0],d===t&&y.push(e))}),u=y.length?[]:[(d.isXAxis?f.yAxis:f.xAxis)[0]],Ge(y,function(e){-1===Ve(e,u)&&u.push(e)}),r=ze(r,d.translate(t,null,null,i)),isNaN(r)||(d.horiz?Ge(u,function(e){var t;s=e.pos,c=s+e.len,((a=l=se(r+d.transB))<m||a>m+d.width)&&(o?a=l=de(ue(m,a),m+d.width):t=!0),t||v.push("M",a,s,"L",l,c)}):Ge(u,function(e){var t;a=e.pos,l=a+e.len,((s=c=se(g+d.height-r))<g||s>g+d.height)&&(o?s=c=de(ue(g,s),d.top+d.height):t=!0),t||v.push("M",a,s,"L",l,c)})),0<v.length?p.crispPolyLine(v,n||1):null)}),mt.prototype.getPlotBandPath=function(e,t){var n,i=this.getPlotLinePath(t,null,null,!0),o=this.getPlotLinePath(e,null,null,!0),r=[];if(o&&i&&o.toString()!==i.toString())for(n=0;n<o.length;n+=6)r.push("M",o[n+1],o[n+2],"L",o[n+4],o[n+5],i[n+4],i[n+5],i[n+1],i[n+2]);else r=null;return r},ut.prototype.crispPolyLine=function(e,t){for(var n=0;n<e.length;n+=6)e[n+1]===e[n+4]&&(e[n+1]=e[n+4]=se(e[n+1])-t%2/2),e[n+2]===e[n+5]&&(e[n+2]=e[n+5]=se(e[n+2])+t%2/2);return e},s===Le.VMLRenderer&&(dt.prototype.crispPolyLine=ut.prototype.crispPolyLine),je(mt.prototype,"hideCrosshair",function(e,t){e.call(this,t),E(this.crossLabelArray)&&(E(t)?this.crossLabelArray[t]&&this.crossLabelArray[t].hide():Ge(this.crossLabelArray,function(e){e.hide()}))}),je(mt.prototype,"drawCrosshair",function(e,t,n){var i,o,r,a,s,l,c,u,d,h,f;e.call(this,t,n),E(this.crosshair.label)&&this.crosshair.label.enabled&&E(n)&&(e=this.chart,o=this.options.crosshair.label,r=this.isXAxis?"x":"y",t=this.horiz,a=this.opposite,s=this.left,l=this.top,h=this.crossLabel,u=o.format,d="",h=h||(this.crossLabel=e.renderer.label().attr({align:o.align||(t?"center":a?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center"),zIndex:12,height:t?16:j,fill:o.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:ze(o.padding,2),stroke:o.borderColor||null,"stroke-width":o.borderWidth||0}).css(He({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},o.style)).add()),(f=t?(c=n.plotX+s,l+(a?0:this.height)):(c=a?this.width+s:0,n.plotY+l))<l||f>l+this.height?this.hideCrosshair():(u||o.formatter||(this.isDatetimeAxis&&(d="%b %d, %Y"),u="{value"+(d?":"+d:"")+"}"),h.attr({text:u?b(u,{value:n[r]}):o.formatter.call(this,n[r]),x:c,y:f,visibility:"visible"}),n=h.getBBox(),t?("inside"===this.options.tickPosition&&!a||"inside"!==this.options.tickPosition&&a)&&(f=h.y-n.height):f=h.y-n.height/2,e=t?(i=s-n.x,s+this.width-n.x):(i="left"===this.labelAlign?s:0,"right"===this.labelAlign?s+this.width:e.chartWidth),h.translateX<i&&(c+=i-h.translateX),h.translateX+n.width>=e&&(c-=h.translateX+n.width-e),h.attr({x:c,y:f,visibility:"visible"})))});var Vt=Lt.init,Gt=Lt.processData,Qt=_t.prototype.tooltipFormatter;Lt.init=function(){Vt.apply(this,arguments),this.setCompare(this.options.compare)},Lt.setCompare=function(i){this.modifyValue="value"===i||"percent"===i?function(e,t){var n=this.compareValue;return e!==j&&(e="value"===i?e-n:e=e/n*100-100,t)&&(t.change=e),e}:null,this.chart.hasRendered&&(this.isDirty=!0)},Lt.processData=function(){var e,t,n,i=0;if(Gt.apply(this,arguments),this.xAxis&&this.processedYData)for(e=this.processedXData,n=(t=this.processedYData).length;i<n;i++)if("number"==typeof t[i]&&e[i]>=this.xAxis.min){this.compareValue=t[i];break}},je(Lt,"getExtremes",function(e){e.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(this.dataMax=this.modifyValue(this.dataMax),this.dataMin=this.modifyValue(this.dataMin))}),mt.prototype.setCompare=function(t,e){this.isXAxis||(Ge(this.series,function(e){e.setCompare(t)}),ze(e,!0)&&this.chart.redraw())},_t.prototype.tooltipFormatter=function(e){return e=e.replace("{point.change}",(0<this.change?"+":"")+Le.numberFormat(this.change,ze(this.series.tooltipOptions.changeDecimals,2))),Qt.apply(this,[e])},je(St.prototype,"render",function(e){this.chart.options._stock&&this.xAxis&&(!this.clipBox&&this.animate?(this.clipBox=M(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&(it(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}))),e.call(this)}),He(Le,{Color:ct,Point:_t,Tick:B,Renderer:s,SVGElement:L,SVGRenderer:ut,arrayMin:S,arrayMax:O,charts:Me,dateFormat:Fe,error:D,format:b,pathAnim:c,getOptions:function(){return Ue},hasBidiBug:Te,isTouchDevice:ke,setOptions:function(e){return Ue=M(!0,Ue,e),t(),Ue},addEvent:Ze,removeEvent:Je,createElement:P,discardElement:a,css:N,each:Ge,map:Ke,merge:M,splat:f,extendClass:e,pInt:m,svg:_e,canvas:Se,vml:!_e&&!Se,product:"Highstock",version:"2.1.8"})}(),function(o){o.fn.extend({showLoading:function(e){var i=o.extend({type:"square",blurContent:!1,showBg:!0},e);return this.each(function(){var e,n=o(this);n.$background=null,n.data("loadingBg"),n.$background=n.data("loadingBg"),null!=n.$background&&0!=jQuery(">.loading-popup-overlay",n).length||(e="<div class='h-spinner'><div class='bounce1'></div><div class='bounce2'></div><div class='bounce3'></div></div>",i.showBg?n.append("<div class='loading-popup-overlay'><div class='loading-container'><div class='loading-spinner shadow-md'><div class='loading-title'>"+t("Loading")+"</div>"+e+"</div></div></div>"):n.append("<div class='loading-popup-overlay' style='background-color:transparent !important'><div class='loading-container shadow-md'><div class='loading-spinner'><div class='loading-title'>"+t("Loading")+"</div>"+e+"</div></div></div>"),n.$background=jQuery(">.loading-popup-overlay",n)),"line"==i.type?n.$background.addClass("loading-popup-line"):n.$background.removeClass("loading-popup-line"),n.data("loadingBg",n.$background),i.blurContent&&n.css("opacity",.7),"BODY"==n.prop("tagName").toUpperCase()?n.$background.css({position:"fixed"}):("absolute"!=n.css("position")&&"fixed"!=n.css("position")&&n.css("position","relative"),n.$background.css({position:"absolute"}),n.$background.addClass("loader-local")),i.showBg&&jQuery(n.$background,"#loading-popup-overlay").css({backgroundColor:"transparent"}),n.$background.show()})}})}(jQuery),function(t){t.fn.extend({hideLoading:function(e){return this.each(function(){var e=t(this);e.$background=null,e.css("opacity",1),e.data("loadingBg"),e.$background=e.data("loadingBg"),null!=e.$background&&e.$background.hide()})}})}(jQuery);var loading={show:function(e){$("BODY").showLoading()},hide:function(e){$("BODY").hideLoading()}},tooltip_mouseX,tooltip_mouseY,tooltip_mouseTrackingEnabled=!1,fadeOutTimer;function updateTooltipTitle(e){isMobile()||(void 0===e?jQuery("[title]"):jQuery("[title]",e)).filter(function(){return!jQuery(this).hasClass("noAutoTooltip")}).tooltipV3()}jQuery&&function(t){t.fn.extend({tooltipV3:function(e){t.extend({},e);return tooltip_mouseTrackingEnabled||(tooltip_mouseTrackingEnabled=!0,t("body").mousemove(function(e){tooltip_mouseX=e.pageX,tooltip_mouseY=e.pageY})),this.each(function(){var n,e;isMobile()||(n=this,e=jQuery(n).attr("title"),jQuery(n).data("title",e).removeAttr("title"),jQuery(n).hoverIntent(function(e){fadeOutTimer&&clearTimeout(fadeOutTimer),jQuery("body .tooltip").remove();var t=jQuery(this).data("title");void 0!==t&&0<t.length&&(jQuery(n).hasClass("tooltip-trust")||(t=t.replace(/</g,"&lt;")),jQuery(e.target).hasClass("tooltip-stay-on-mouseover"),jQuery("<div class='tooltip'></div>").html(t).appendTo(jQuery("body")),function(e,t){var n=jQuery("body .tooltip");e.hasClass("tooltip-on-mouse")?n.css({top:tooltip_mouseY+15,left:tooltip_mouseX}):(e.hasClass("tooltip-left")?n.css("left",parseInt(e.offset().left-n.width(),10)):e.hasClass("tooltip-bottom-left")?n.css("left",parseInt(t.pageX+10-n.width(),10)):n.css("left",t.pageX+10),e.hasClass("tooltip-top")?n.css("top",e.offset().top-e.height()-5):n.css("top",e.offset().top+e.height()+5));e=n.offset().left;e<0&&n.css("left",parseInt(n.css("left"),10)-e+10);n.fadeIn()}(jQuery(this),e))},function(){}),jQuery(n).mouseleave(function(e){var t=jQuery(this).hasClass("tooltip-stay-on-mouseover"),n=jQuery("body > .tooltip");t?(n.unbind("mouseenter").mouseenter(function(e){clearTimeout(fadeOutTimer),n.unbind("mouseleave").mouseleave(function(){fadeOutTimer=setTimeout(function(){jQuery("body .tooltip").remove()},1e3)})}),fadeOutTimer=setTimeout(function(){n.fadeOut(function(){jQuery(this).remove()})},1e3)):n.fadeOut(function(){jQuery(this).remove()})}),jQuery(n).on("remove",function(){jQuery("body .tooltip").remove()}))})}})}(jQuery),jQuery(document).ready(function(){updateTooltipTitle()}),jQuery.extend(jQuery.easing,{easeInQuad:function(e,t,n,i,o){return i*(t/=o)*t+n},easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n},easeInOutQuad:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,i,o){return i*(t/=o)*t*t+n},easeOutCubic:function(e,t,n,i,o){return i*((t=t/o-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t+n:i/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,i,o){return i*(t/=o)*t*t*t+n},easeOutQuart:function(e,t,n,i,o){return-i*((t=t/o-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t*t+n:-i/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,i,o){return i*(t/=o)*t*t*t*t+n},easeOutQuint:function(e,t,n,i,o){return i*((t=t/o-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,i,o){return-i*Math.cos(t/o*(Math.PI/2))+i+n},easeOutSine:function(e,t,n,i,o){return i*Math.sin(t/o*(Math.PI/2))+n},easeInOutSine:function(e,t,n,i,o){return-i/2*(Math.cos(Math.PI*t/o)-1)+n},easeInExpo:function(e,t,n,i,o){return 0==t?n:i*Math.pow(2,10*(t/o-1))+n},easeOutExpo:function(e,t,n,i,o){return t==o?n+i:i*(1-Math.pow(2,-10*t/o))+n},easeInOutExpo:function(e,t,n,i,o){return 0==t?n:t==o?n+i:(t/=o/2)<1?i/2*Math.pow(2,10*(t-1))+n:i/2*(2-Math.pow(2,-10*--t))+n},easeInCirc:function(e,t,n,i,o){return-i*(Math.sqrt(1-(t/=o)*t)-1)+n},easeOutCirc:function(e,t,n,i,o){return i*Math.sqrt(1-(t=t/o-1)*t)+n},easeInOutCirc:function(e,t,n,i,o){return(t/=o/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+n:i/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,i,o){var r=1.70158,a=0,s=i;return 0==t?n:1==(t/=o)?n+i:(a=a||.3*o,r=s<Math.abs(i)?(s=i,a/4):a/(2*Math.PI)*Math.asin(i/s),-(s*Math.pow(2,10*--t)*Math.sin((t*o-r)*(2*Math.PI)/a))+n)},easeOutElastic:function(e,t,n,i,o){var r=1.70158,a=0,s=i;return 0==t?n:1==(t/=o)?n+i:(a=a||.3*o,r=s<Math.abs(i)?(s=i,a/4):a/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin((t*o-r)*(2*Math.PI)/a)+i+n)},easeInOutElastic:function(e,t,n,i,o){var r=1.70158,a=0,s=i;return 0==t?n:2==(t/=o/2)?n+i:(a=a||o*(.3*1.5),r=s<Math.abs(i)?(s=i,a/4):a/(2*Math.PI)*Math.asin(i/s),t<1?s*Math.pow(2,10*--t)*Math.sin((t*o-r)*(2*Math.PI)/a)*-.5+n:s*Math.pow(2,-10*--t)*Math.sin((t*o-r)*(2*Math.PI)/a)*.5+i+n)},easeInBack:function(e,t,n,i,o,r){return null==r&&(r=1.70158),i*(t/=o)*t*((r+1)*t-r)+n},easeOutBack:function(e,t,n,i,o,r){return null==r&&(r=1.70158),i*((t=t/o-1)*t*((r+1)*t+r)+1)+n},easeInOutBack:function(e,t,n,i,o,r){return null==r&&(r=1.70158),(t/=o/2)<1?i/2*(t*t*((1+(r*=1.525))*t-r))+n:i/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+n},easeInBounce:function(e,t,n,i,o){return i-jQuery.easing.easeOutBounce(e,o-t,0,i,o)+n},easeOutBounce:function(e,t,n,i,o){return(t/=o)<1/2.75?i*(7.5625*t*t)+n:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+n:i*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,i,o){return t<o/2?.5*jQuery.easing.easeInBounce(e,2*t,0,i,o)+n:.5*jQuery.easing.easeOutBounce(e,2*t-o,0,i,o)+.5*i+n}}),jQuery.tabMenu={},jQuery.tabMenu.monitoringFunctions=[],jQuery.tabMenu.currentHash="",jQuery.tabMenu.callMonitoringFunction=function(){if(jQuery.tabMenu.currentHash!=window.location.hash){for(i in jQuery.tabMenu.monitoringFunctions){(0,jQuery.tabMenu.monitoringFunctions[i])()}jQuery.tabMenu.currentHash=window.location.hash}window.setTimeout("jQuery.tabMenu.callMonitoringFunction()",100)},jQuery.tabMenu.monitorHashChanges=function(e){jQuery.tabMenu.monitoringFunctions.push(e),1==jQuery.tabMenu.monitoringFunctions.length&&window.setTimeout("jQuery.tabMenu.callMonitoringFunction()",100)},jQuery.tabMenu.parseHash=function(){if(!window.location.hash)return{};var e,t,n={},i=window.location.hash.substring(1).split("&");for(e in i){""!=i[e]&&void 0!==i[e]&&(n[(t=i[e].split("="))[0]]=decodeURIComponent(t[1]))}return n},jQuery.tabMenu.toHash=function(e,t){var n="#";for(key in e)n=n+key+"="+encodeURIComponent(e[key])+"&";n=n.substring(0,n.length-1),""==jQuery.tabMenu.currentHash&&(t=!0),jQuery.tabMenu.currentHash=n,void 0!==t&&t?window.location.replace(n):window.location.hash=n},jQuery.tabMenu.addToHash=function(e,t){var n=jQuery.tabMenu.parseHash();n[e]=t,jQuery.tabMenu.toHash(n)},jQuery.tabMenu.removeFromHash=function(e){var t=jQuery.tabMenu.parseHash();void 0!==t[e]&&delete t[e],jQuery.tabMenu.toHash(t)},jQuery.fn.tabMenuGotoPage=function(t){return this.each(function(){var e=jQuery(this);void 0!==e.data("tabMenu_gotoPage")&&e.data("tabMenu_gotoPage")(t)})},jQuery.fn.tabMenuShow=function(n){n=jQuery.extend({replacements:null},n);return this.each(function(){var e=jQuery(this);e.tabMenuSetReplacements(n.replacements);var t=jQuery.tabMenu.parseHash();jQuery.tabMenu.handleHashInternal(t,e)||jQuery(".mainItem",e).first().click()})},jQuery.fn.tabMenuSetReplacements=function(e){return this.each(function(){jQuery(this).data("replacements",e)})},jQuery.fn.tabMenu=function(v){v=jQuery.extend({replacements:null,hashCallback:null,$defaultSubItem:null,onloadCallback:null},v);return this.each(function(){var s,l,c,u=jQuery(this),d=u.attr("id"),h=u.parents(".tabMenuContainer"),f=h.attr("id"),p=jQuery("#"+d+"Content");function i(e,t){c=1,jQuery(".mainItem.selected > .on",u).addClass("off"),jQuery(".mainItem.selected > .on",u).removeClass("on"),jQuery(".mainItem.selected",u).removeClass("selected"),jQuery(".subMenu.selected",u).removeClass("selected"),jQuery(".subItem.selected",u).removeClass("selected"),jQuery(".off",e).addClass("on"),jQuery(".off",e).removeClass("off"),e.addClass("selected");var n,i,e=e.attr("tabMenuId");jQuery(".subMenu[tabMenuParent='"+e+"']",u).addClass("selected"),t||(n=jQuery(".subItem[tabMenuParent='"+e+"']",u).first(),void 0!==(i=jQuery.tabMenu.parseHash()).si&&(i.si,jQuery(".subItem[tabMenuParent='"+e+"']",u).each(function(){var e=jQuery(this);e.attr("tabMenuSubItemId")==i.si&&(n=e)})),n.click())}function m(t,e,n){jQuery(".subItem.selected",u).removeClass("selected"),t.addClass("selected"),l=jQuery("a",t).first().attr("href");var i=u.data("replacements");c=e;e=jQuery.tabMenu.parseHash();if(e.pg=c,e.mi=t.attr("tabMenuParent"),e.si=t.attr("tabMenuSubItemId"),null!=f&&(e.panel=f),null!=v.hashCallback&&v.hashCallback(e,v,i),jQuery.tabMenu.toHash(e),l){if(i)for(var o in i){var r=i[o];url=l.replace(o,encodeURIComponent(r))}else url=l;var a=!0;setTimeout(function(){a&&loading.show()},300),gjAjax.postRequestGeneral(url,{view:"json",pageNumber:c,listId:d+"Content"},{preCommandCallback:function(){h.is(":visible")||(jQuery(".tabMenuContainer").each(function(){var e=jQuery(this);jQuery(".tabMenuContent",e).html(""),e.hide()}),h.show())},postCommandCallback:function(e){a=!1,loading.hide(),(p=jQuery("#"+d+"Content")).addClass("tabMenuContent"),u.data("tabMenu_gotoPage",function(e){m(t,e,function(){var e,t,n,i;e=u,t=$(window).scrollTop(),n=t+$(window).height(),(i=$(e).offset().top)+$(e).height()<=n&&t<=i||jQuery.scrollTo(u,200)})}),c=e.pageNumber,function(e,t){if(-1==t)return s.html("");if(e<2)return s.html("");paginatorHtml="<div class='pagination'><ul>",1<c&&(paginatorHtml=paginatorHtml+"<li><a href='#' onclick='jQuery(\"#"+d+'").tabMenuGotoPage('+(c-1)+");return false'>â¹</a></li>");var n=3,i=c-1,o=c+1,r=e,t=r-2;e<n&&(n=e);for(var a=1;a<=n;a++)paginatorHtml+=g(a,a==c);e<o&&(i=(o=e)-2);if(n<o){i<=n&&(i=n+1),i==n+2?paginatorHtml+=g(n+1,!1):n+1<i&&(paginatorHtml+=g("...",!1,!1));for(a=i;a<=o;a++)paginatorHtml+=g(a,a==c)}else i=(o=n)-2;e<r&&(t=(r=e)-2);if(o<r){t<=o&&(t=o+1),t==o+2?paginatorHtml+=g(o+1,!1):o+1<t&&(paginatorHtml+=g("...",!1,!1));for(a=t;a<=r;a++)paginatorHtml+=g(a,a==c)}c<e&&(paginatorHtml=paginatorHtml+"<li><a href='#' onclick='jQuery(\"#"+d+'").tabMenuGotoPage('+(c+1)+");return false'>âº</a></li>");paginatorHtml+="</ul></div>",s.html(paginatorHtml)}(e.nbPages,e.nbItems,(e.nbItemsPerPage,e.nbItemsInPage)),updateTooltipTitle(p),void 0!==n&&n(),null!=v.onloadCallback&&v.onloadCallback(t,v,i)},errorCallback:function(){}})}}function g(e,t,n){void 0===n&&(n=!0);var i="";return t?(i+="<li class='current disabled'>",i+="<a href='#' onclick='return false'>"+e+"</a>"):n?(i+="<li>",i+="<a href='#' onclick='jQuery(\"#"+d+'").tabMenuGotoPage('+e+");return false'>"+e+"</a>"):(i+="<li class='disabled'>",i+="<a href='#' onclick='return false'>"+e+"</a>"),i+="</li>"}function e(){var e=jQuery.tabMenu.parseHash();if(!(f&&e.panel&&(selectedDiv=e.panel,f!=selectedDiv&&jQuery("#"+selectedDiv).hasClass("tabMenuContainer"))||(c=e.pg?e.pg:1,jQuery.tabMenu.handleHashInternal(e,u)))){if(null!=v.$defaultSubItem){e=v.$defaultSubItem.attr("tabMenuParent");if(void 0!==e){e=jQuery(".mainItem[tabMenuId='"+e+"']",u);if(0<e.length)return i(e,!0),void m(v.$defaultSubItem,1)}}jQuery(".mainItem",u).first().click()}}u.tabMenuSetReplacements(v.replacements),s=void 0!==f?jQuery(".tabMenuPaginator",h):jQuery("#"+d+"Paginator"),jQuery(".mainItem",u).click(function(){i(jQuery(this))}),jQuery(".subItem",u).click(function(){m(jQuery(this),1)}),u.data("tabMenuTest",function(){alert("eh eh ;)")}),jQuery.tabMenu.monitorHashChanges(function(){e()}),u.data("tabMenuHandleHashInternal",function(e){if(void 0!==e.mi&&void 0!==e.si){var t=jQuery(".mainItem[tabMenuId='"+e.mi+"']",u),n=jQuery(".subItem[tabMenuParent='"+e.mi+"']",u).filter(function(){return jQuery(this).attr("tabMenuSubItemId")==e.si});if(0<t.length&&0<n.length)return i(t,!0),m(n,c),!0}return!1}),e()})},jQuery.tabMenu.handleHashInternal=function(e,t){return t.data("tabMenuHandleHashInternal")(e)},jQuery.align={},jQuery.fn.align=function(t){t=jQuery.extend({align:"vertical"},t);return this.each(function(){var e=jQuery(this).parent();e.css("position","relative"),"vertical"==t.align&&jQuery(this).css({position:"absolute",top:e.height()/2,"margin-top":-jQuery(this).height()/2,left:(e.width()-jQuery(this).width())/2})})},function(_){jQuery.fn.extend({slimScroll:function(k){var C=_.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},k);return this.each(function(){var i,e,o,n,r,a,s,l,c="<div></div>",u=30,d=!1,h=_(this);if(h.parent().hasClass(C.wrapperClass)){var f,p=h.scrollTop(),m=h.parent().find("."+C.barClass),g=h.parent().find("."+C.railClass);if(b(),_.isPlainObject(k)){if("height"in k&&"auto"==k.height?(h.parent().css("height","auto"),h.css("height","auto"),f=h.parent().parent().height(),h.parent().css("height",f),h.css("height",f)):"height"in k&&(f=k.height,h.parent().css("height",f),h.css("height",f)),"scrollTo"in k)p=parseInt(C.scrollTo);else if("scrollBy"in k)p+=parseInt(C.scrollBy);else if("destroy"in k)return m.remove(),g.remove(),void h.unwrap();y(p,!1,!0)}}else{C.height="auto"==C.height?h.parent().height():C.height;p=_(c).addClass(C.wrapperClass).css({position:"relative",overflow:"hidden",width:C.width,height:C.height});h.css({overflow:"hidden",width:C.width,height:C.height});var g=_(c).addClass(C.railClass).css({width:C.size,height:"100%",position:"absolute",top:0,display:C.alwaysVisible&&C.railVisible?"block":"none","border-radius":C.railBorderRadius,background:C.railColor,opacity:C.railOpacity,zIndex:90}),m=_(c).addClass(C.barClass).css({background:C.color,width:C.size,position:"absolute",top:0,opacity:C.opacity,display:C.alwaysVisible?"block":"none","border-radius":C.borderRadius,BorderRadius:C.borderRadius,MozBorderRadius:C.borderRadius,WebkitBorderRadius:C.borderRadius,zIndex:99}),c="right"==C.position?{right:C.distance}:{left:C.distance};g.css(c),m.css(c),h.wrap(p),h.parent().append(m),h.parent().append(g),C.railDraggable&&m.bind("mousedown",function(e){var n=_(document);return o=!0,t=parseFloat(m.css("top")),pageY=e.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,m.css("top",currTop),y(0,m.position().top,!1)}),n.bind("mouseup.slimscroll",function(e){o=!1,w(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),g.hover(function(){x()},function(){w()}),m.hover(function(){e=!0},function(){e=!1}),h.hover(function(){i=!0,x(),w()},function(){i=!1,w()}),h.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(r=e.originalEvent.touches[0].pageY)}),h.bind("touchmove",function(e){d||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(y((r-e.originalEvent.touches[0].pageY)/C.touchScrollStep,!0),r=e.originalEvent.touches[0].pageY)}),b(),"bottom"===C.start?(m.css({top:h.outerHeight()-m.outerHeight()}),y(0,!0)):"top"!==C.start&&(y(_(C.start).position().top,null,!0),C.alwaysVisible||m.hide()),function(){window.addEventListener?(this.addEventListener("DOMMouseScroll",v,!1),this.addEventListener("mousewheel",v,!1),this.addEventListener("MozMousePixelScroll",v,!1)):document.attachEvent("onmousewheel",v)}()}function v(e){var t,n;i&&(t=0,(e=e||window.event).wheelDelta&&(t=-e.wheelDelta/120),e.detail&&(t=e.detail/3),n=e.target||e.srcTarget||e.srcElement,_(n).closest("."+C.wrapperClass).is(h.parent())&&y(t,!0),e.preventDefault&&!d&&e.preventDefault(),d||(e.returnValue=!1))}function y(e,t,n){d=!1;var i=e,o=h.outerHeight()-m.outerHeight();t&&(i=parseInt(m.css("top"))+e*parseInt(C.wheelStep)/100*m.outerHeight(),i=Math.min(Math.max(i,0),o),i=0<e?Math.ceil(i):Math.floor(i),m.css({top:i+"px"})),i=(s=parseInt(m.css("top"))/(h.outerHeight()-m.outerHeight()))*(h[0].scrollHeight-h.outerHeight()),n&&(e=(i=e)/h[0].scrollHeight*h.outerHeight(),e=Math.min(Math.max(e,0),o),m.css({top:e+"px"})),h.scrollTop(i),h.trigger("slimscrolling",~~i),x(),w()}function b(){a=Math.max(h.outerHeight()/h[0].scrollHeight*h.outerHeight(),u),m.css({height:a+"px"});var e=a==h.outerHeight()?"none":"block";m.css({display:e})}function x(){var e;b(),clearTimeout(n),s==~~s?(d=C.allowPageScroll,l!=s&&(e=0==~~s?"top":"bottom",h.trigger("slimscroll",e))):d=!1,l=s,a>=h.outerHeight()?d=!0:(m.stop(!0,!0).fadeIn("fast"),C.railVisible&&g.stop(!0,!0).fadeIn("fast"))}function w(){C.alwaysVisible||(n=setTimeout(function(){C.disableFadeOut&&i||e||o||(m.fadeOut("slow"),g.fadeOut("slow"))},1e3))}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),jQuery.twoColumnsLayouter={},jQuery.fn.twoColumnsLayouter=function(t){t=jQuery.extend({twoColumnsTable:""},t);return this.each(function(){var l,c,e=jQuery(this);$table4layout=jQuery(t.twoColumnsTable,e),$sandbox=jQuery(".sandbox",e),l=jQuery(".twocleftColumn",$table4layout),c=jQuery(".twocrightColumn",$table4layout);var u=new Array;jQuery(".twocbrick",$sandbox).each(function(){var e=jQuery(this);e.hide(),u.push(e)}),function(e){for(var t=e;t<u.length;t++){(n=u[t]).hide()}for(t=e;t<u.length;t++){var n=u[t];(l.outerHeight()<=c.outerHeight()?l:c).append(n),n.show();var i,o,r=jQuery(".postDisplayedImage",n),a="big",s=jQuery(".postView",n);s.hasClass("medium")?a="medium":s.hasClass("small")&&(a="small"),0<r.length&&("big"==a&&r.attr("width")>n.width()?(i=r.attr("width"),o=r.attr("height"),r.attr("width",n.width()),r.attr("height",parseInt(n.width()/i*o,10))):"medium"==a&&r.attr("width")>n.width()/2&&(i=r.attr("width"),o=r.attr("height"),a=parseInt(n.width()/2,10),r.attr("width",a),r.attr("height",parseInt(a/i*o,10))))}for(t=e;t<u.length;t++){n=u[t];(r=jQuery(".postDisplayedImage",n)).removeAttr("width"),r.removeAttr("height")}}(0)})},function(d){d.fn.jrumble=function(e){var u=d.extend({x:2,y:2,rotation:1,speed:15},e);return this.each(function(){function t(){var e=Math.floor(Math.random()*(1+r))-r/2,t=Math.floor(Math.random()*(1+a))-a/2,n=Math.floor(Math.random()*(1+s))-s/2,e=0===e&&0!=r?Math.random()<.5?1:-1:e,t=0===t&&0!=a?Math.random()<.5?1:-1:t;"inline"===o.css("display")&&(i=!0,o.css("display","inline-block")),o.css({position:"relative",left:e+"px",top:t+"px","-webkit-transform":"rotate("+n+"deg)","-moz-transform":"rotate("+n+"deg)","-ms-transform":"rotate("+n+"deg)","-o-transform":"rotate("+n+"deg)",transform:"rotate("+n+"deg)"})}var i,n,o=d(this),r=2*u.x,a=2*u.y,s=2*u.rotation,l=0===u.speed?1:u.speed,c={left:0,top:0,"-webkit-transform":"rotate(0deg)","-moz-transform":"rotate(0deg)","-ms-transform":"rotate(0deg)","-o-transform":"rotate(0deg)",transform:"rotate(0deg)"};o.bind({startRumble:function(e){e.stopPropagation(),clearInterval(n),n=setInterval(t,l)},stopRumble:function(e){e.stopPropagation(),clearInterval(n),i&&o.css("display","inline"),o.css(c)}})})}}(jQuery),function(l){var o,r={},a=!1,s={ellipsis:"...",setTitle:"never",live:!1};function c(e,i){var o=(e.data("jqae")||{}).wrapperElement;o||(o=e.wrapInner("<div/>").find(">div")).css({margin:0,padding:0,border:0});var t=o.data("jqae"),n=(t=t||{}).originalContent;n?o=t.originalContent.clone(!0).data("jqae",{originalContent:n}).replaceAll(o):o.data("jqae",{originalContent:o.clone(!0)}),e.data("jqae",{wrapperElement:o,containerWidth:e.width(),containerHeight:e.height()});var r=e.height(),a=(parseInt(e.css("padding-top"),10)||0)+(parseInt(e.css("border-top-width"),10)||0)-(o.offset().top-e.offset().top),s=!1,e=o;i.selector&&(e=l(o.find(i.selector).get().reverse())),e.each(function(){var e=l(this),t=e.text(),n=!1;if(o.innerHeight()-e.innerHeight()>r+a)e.remove();else if(d(e),e.contents().length){for(s&&(u(e).get(0).nodeValue+=i.ellipsis,s=!1);o.innerHeight()>r+a;){if(!(n=function(e){var t=u(e);if(t.length){var n=t.get(0).nodeValue,e=n.lastIndexOf(" ");return-1<e?(n=l.trim(n.substring(0,e)),t.get(0).nodeValue=n):t.get(0).nodeValue="",!0}return!1}(e))){s=!0,e.remove();break}if(d(e),!e.contents().length){s=!0,e.remove();break}u(e).get(0).nodeValue+=i.ellipsis}"onEllipsis"==i.setTitle&&n||"always"==i.setTitle?e.attr("title",t):"never"!=i.setTitle&&e.removeAttr("title")}})}function u(e){if(e.contents().length){var t=(n=e.contents()).eq(n.length-1);return t.filter(i).length?t:u(t)}var n;return e.append(""),(n=e.contents()).eq(n.length-1)}function d(e){if(e.contents().length){var e=e.contents(),t=e.eq(e.length-1);if(t.filter(i).length){e=t.get(0).nodeValue;return""==(e=l.trim(e))&&(t.remove(),1)}for(;d(t););return!t.contents().length&&(t.remove(),1)}}function i(){return 3===this.nodeType}l.fn.ellipsis=function(e,t){var n,i=l(this);return"string"!=typeof e&&(t=e,e=void 0),(n=l.extend({},s,t)).selector=e,i.each(function(){c(l(this),n)}),n.live?(t=i.selector,e=n,r[t]=e,o=o||window.setInterval(function(){!function(){if(!a){for(var n in a=!0,r)l(n).each(function(){var e=l(this),t=e.data("jqae");t.containerWidth==e.width()&&t.containerHeight==e.height()||c(e,r[n])});a=!1}}()},200)):(i=i.selector,r[i]&&(delete r[i],r.length||o&&(window.clearInterval(o),o=void 0))),this}}(jQuery),function(o){o.fn.editables=function(e){var i=o.extend({},o.fn.editables.options,e);return o("[data-type=editable]",this).each(function(){var n=o(this);o(n.data("for")).hide().bind("onFreeze",i.onFreeze).bind(i.freezeOn,function(e){var t=o(n.data("for"));!1!==i.beforeFreeze.call(t,n,e)&&(t.hide(),n.css("visibility","visible"),t.trigger("onFreeze"))});(i.bindOnParentElem&&0<i.bindOnParentElem.length?i.bindOnParentElem:i.bindOnParent?n.parents(".editable-container"):n).bind("onEdit",i.onEdit).bind(i.editOn,function(e){var t=o(n.data("for"));!1!==i.beforeEdit.call(n,t)&&(n.css("visibility","hidden"),t.show().focus(),n.trigger("onEdit"))})}),this},o.fn.editables.options={editOn:"click",beforeEdit:o.noop,onEdit:o.noop,freezeOn:"blur",beforeFreeze:o.noop,onFreeze:o.noop,bindOnParent:!1}}(jQuery),jQuery&&function(o){function e(e){var t=o(this),n=o(o(this).attr("data-dropdown")),i=t.hasClass("dropdown-open");e.preventDefault(),e.stopPropagation(),i&&"mouseover"==e.type||(hideDropdowns(),i&&"function"==typeof t.data("data-dropdown-close-callback")&&t.data("data-dropdown-close-callback")(),i||t.hasClass("dropdown-disabled")||(e=void(e=0)!==t.attr("data-dropdown-top")?parseInt(t.attr("data-dropdown-top"),10):t.position().top+t.outerHeight(),void(i=0)!==t.attr("data-dropdown-left")?i=parseInt(t.attr("data-dropdown-left"),10):(i=n.hasClass("anchor-right")?t.position().left-(n.outerWidth()-t.outerWidth()):t.position().left,void 0!==t.attr("data-dropdown-auto-left-correction")&&(i+=t.offset().left-n.parent().offset().left),void 0!==t.attr("data-dropdown-left-correction")&&(i+=parseInt(t.attr("data-dropdown-left-correction"),10))),n.css({left:i,top:e}).show(),t.addClass("dropdown-open"),hideESPNVideosOnChrome(),"function"==typeof t.data("data-dropdown-open-callback")&&t.data("data-dropdown-open-callback")()))}o.extend(o.fn,{dropdown:function(e,t){switch(e){case"hide":return hideDropdowns(),o(this);case"attach":return o(this).attr("data-dropdown",t);case"detach":return hideDropdowns(),o(this).removeAttr("data-dropdown");case"disable":return o(this).addClass("dropdown-disabled");case"enable":return hideDropdowns(),o(this).removeClass("dropdown-disabled")}}}),o(function(){o("BODY").on("click.dropdown",'[data-dropdown][data-toggle!="hover"]',e),o("BODY").on("mouseover.dropdown",'[data-dropdown][data-toggle="hover"]',e),o("HTML").on("click.dropdown",hideDropdowns),(!o.browser.msie||o.browser.msie&&9<=o.browser.version)&&o(window).on("resize.dropdown",hideDropdowns)})}(jQuery);var g_disableCloseDropdown=!1,matched,browser;function hideDropdowns(e){g_disableCloseDropdown||((e=e?$(e.target).parents().andSelf():null)&&e.is(".dropdown-menu")&&!e.is("A")||e&&e.is(".responsive-dropdown-menu")&&!e.is("A")||(showESPNVideosOnChrome(),jQuery.browser.msie&&!jQuery("#signupPopup").is(":visible")&&showScoopitVideoOnIndex(),$("BODY").find(".dropdown-menu").hide().end().find(".responsive-dropdown-menu").hide().end().find("[data-dropdown]").removeClass("dropdown-open")))}function removeParameter(e,t){var n=e.split("?");if(2<=n.length){for(var i=encodeURIComponent(t)+"=",o=n[1].split(/[&;]/g),r=o.length;0<r--;)-1!==o[r].lastIndexOf(i,0)&&o.splice(r,1);e=n[0]+"?"+o.join("&")}return e}function queryString(e){for(hu=window.location.search.substring(1),gy=hu.split("&"),i=0;i<gy.length;i++)if(ft=gy[i].split("="),ft[0]==e)return ft[1]}function setUpPageForCut(t,n){$(document).keyup(function(e){27==e.keyCode&&cleanUpPageFromCut()}),jQuery(".pagination a").each(function(){var e=$(this).attr("href");e&&(e=removeParameter(e,"cpl"),e=removeParameter(e,"cp"),$(this).attr("href",e+"&cpl="+t+"&cp="+n))})}function cleanUpPageFromCut(){var e=jQuery(".post .postBehaviorDataSet");for(i=0;i<e.length;i++){var t=jQuery(e[i]).data("postBehavior");null!=t&&t.hideCutOverlay()}jQuery(".pagination a").each(function(){var e=$(this).attr("href");e&&$(this).attr("href",removeParameter(e,"cpl"))})}function deleteCommentV3(e,t,n){gjAjax.getRequest(e+"?commentId="+t+"&spam="+n,null,function(){var e=jQuery("#comment_"+t);jQuery(".postBehaviorDataSet",e.closest(".post")).data("postBehavior").decrementReactionCount(),e.fadeOut(function(){e.remove()})})}function updateHtmlFragmentForStorify(e){var t=$("iframe",e);0==t.length?setTimeout(function(){updateHtmlFragmentForStorify(e)},50):t.load(function(){jQuery(".sfy-story",e).slimScroll({height:"700"})})}function getReactionText(e){return t("post_reactions",{count:e})}function showDeleteCommentPopup(e){jQuery(e).modal({zIndex:1022e3})}jQuery&&function($){function showMenu(event){var trigger=$(this),tabcontent=$($(this).attr("data-navtabmenu")),isOpen=trigger.hasClass("navtabmenu-open"),li=$(event.target).closest("li"),onBeforeChangeTabAttr=trigger.parent("ul").attr("data-navtab-on-before-change"),contentID,contentURL,showLoading,pushStateURL;if(onBeforeChangeTabAttr){var cancelTabChange=eval("("+onBeforeChangeTabAttr+"(li))");if(cancelTabChange)return event.preventDefault(),void event.stopPropagation()}if(hideDropdowns(),event.preventDefault(),event.stopPropagation(),0<jQuery("ul",trigger).length&&!trigger.hasClass("navtab-with-child")){var dropdown=$("ul",trigger),isOpen=trigger.hasClass("dropdown-open");return isOpen||trigger.hasClass("dropdown-disabled")?void 0:(dropdown.css({left:dropdown.hasClass("anchor-right")?trigger.position().left-(dropdown.outerWidth()-trigger.outerWidth()):trigger.position().left,top:trigger.position().top+trigger.outerHeight()}).show(),dropdown.addClass("dropdown-menu").parent("li").attr("data-dropdown","fake"),void trigger.addClass("dropdown-open"))}isOpen||trigger.hasClass("navtabmenu-disabled")||(contentID=li.attr("data-navtabmenu"),contentURL=li.attr("href"),void 0!==contentURL?(showLoading=!0,setTimeout(function(){showLoading&&loading.show()},300),gjAjax.getRequest(contentURL,{view:"json",listId:contentID.substring(1)},function(e){showLoading=!1,loading.hide(),postShowMenu(trigger,tabcontent,e),jQuery(".multilineEllipsis").ellipsis();e=jQuery(".msnrContainer",tabcontent);0<e.length&&e.twoColumnsLayouter({twoColumnsTable:"#twoclayout"})})):postShowMenu(trigger,tabcontent),"function"==typeof li.data("data-navtabmenu-callback")&&li.data("data-navtabmenu-callback")(data),pushStateURL=li.attr("data-push-state"),void 0!==pushStateURL&&history.pushState&&window.history.pushState("","",pushStateURL))}function postShowMenu(trigger,tabcontent,data){if(trigger.hasClass("navtab-with-child")){var selection=jQuery(".currentSelection",trigger);return 0===selection.length&&(selection=jQuery(jQuery("li",trigger).get(jQuery("li",trigger).length-1))),void selection.click()}hideTabContents(trigger),tabcontent.show(),trigger.addClass("selected").addClass("navtabmenu-open");var $ul=trigger.parent("ul");$ul.removeClass("navtab-multi-level");var $li=trigger.parents("li");$li&&0<$li.length&&($li.parent("ul").addClass("navtab-multi-level"),$li.addClass("selected"),$(".currentSelection",$li).removeClass("currentSelection"),trigger.addClass("currentSelection"));var callback=$ul.attr("data-navtab-callback"),noHash,hashTab;callback&&eval(callback),jQuery(".multilineEllipsis").ellipsis(),updateTooltipTitle(),activateSignupPopup(),$ul.attr("data-no-hash-change")||(noHash=$ul.attr("navtab-no-hash"),noHash||(hashTab=new Array,jQuery("ul.navtab-menu li.navtabmenu-open").each(function(){hashTab.push($(this).attr("data-navtabmenu").substring(1,$(this).attr("data-navtabmenu").length)+"_")}),window.location.hash="#"+hashTab.join("&")))}function hideTabContents(e){jQuery("li",e.parents("ul.navtab-menu")).each(function(){$(this).removeClass("selected").removeClass("navtabmenu-open"),$($(this).attr("data-navtabmenu")).hide()})}function hideDropdowns(e){e=e?$(e.target).parents().andSelf():null;e&&e.is(".dropdown-menu")&&!e.is("A")||$("BODY").find(".dropdown-menu").hide().end().find("[data-dropdown]").removeClass("dropdown-open")}$.extend($.fn,{navtabmenu:function(e,t){switch(e){case"hide":return hideTabContents(),$(this);case"attach":return $(this).attr("data-navtabmenu",t);case"detach":return hideTabContents(),$(this).removeAttr("data-navtabmenu");case"disable":return $(this).addClass("navtabmenu-disabled");case"enable":return hideTabContents(),$(this).removeClass("navtabmenu-disabled")}},help:function(){var e=this.each(function(){var e=$(this);e.css("position","relative"),jQuery("a",e).css("padding-right","36px"),e.append('<div class="navtabmenu-help" title="'+e.attr("help-navtabmenu")+'"></div>')});return updateTooltipTitle($(this)),e}}),$(function(){if($("BODY").on("click.navtabmenu","[data-navtabmenu]",showMenu),$("BODY").on("click.navtabmenu",".navtab-multiple",showMenu),$("BODY").on("click.navtabmenu",".navtab-with-child",showMenu),jQuery("ul.navtab-menu li[help-navtabmenu]").help(),window.location.hash)for(var e=window.location.hash.substring(1,window.location.hash.length.length).split("&"),t=0;t<e.length;t++){var n="#"+e[t].substring(0,e[t].length-"_".length),n=jQuery("li[data-navtabmenu='"+n+"']");if(0<n.length)return void n.click()}jQuery("ul.navtab-menu").each(function(){jQuery("li[data-navtabmenu='"+jQuery(".selected:not(.navtabmenu-open)",jQuery(this)).attr("data-navtabmenu")+"']",jQuery(this)).click()})})}(jQuery),jQuery&&function(a){function i(e){var t,n,i=a(this),o=a(a(this).attr("data-navlist")),r=i.hasClass("navlist-open");if(!function(e){e=e?a(e.target).parents().andSelf():null;if(e&&e.is(".navlist-menu")&&!e.is("A"))return;a("BODY").find(".navlist-menu").hide().end().find("[data-navlist]").removeClass("navlist-open")}(),e.preventDefault(),e.stopPropagation(),0<jQuery("ul",i).length){e=a("ul",i);return(r=i.hasClass("navlist-open"))||i.hasClass("navlist-disabled")?void 0:(e.addClass("navlist-menu").parent("li").attr("data-navlist","fake"),void i.addClass("navlist-open"))}r||i.hasClass("navlist-disabled")||(t=i,jQuery("li",t.parents(".nav-list")).each(function(){activeClass="active",customActiveClass=t.parent().attr("data-navlist-active-class"),customActiveClass&&(activeClass=customActiveClass),a(this).removeClass(activeClass).removeClass("navlist-open"),a(a(this).attr("data-navlist")).hide()}),o.show(),activeClass="active",customActiveClass=i.parent().attr("data-navlist-active-class"),customActiveClass&&(activeClass=customActiveClass),i.addClass(activeClass).addClass("navlist-open"),n=new Array,jQuery(".nav-list li.navlist-open").each(function(){n.push(a(this).attr("data-navlist").substring(1,a(this).attr("data-navlist").length)+"Selected")}),window.location.hash="#"+n.join("&"))}a.extend(a.fn,{navtabmenu:function(e,t){switch(e){case"hide":return hideTabContents(),a(this);case"attach":return a(this).attr("data-navlist",t);case"detach":return hideTabContents(),a(this).removeAttr("data-navlist");case"disable":return a(this).addClass("navlist-disabled");case"enable":return hideTabContents(),a(this).removeClass("navlist-disabled")}}}),a(function(){if(a("BODY").on("click.nav-list","[data-navlist]",i),window.location.hash)for(var e=window.location.hash.substring(1,window.location.hash.length.length).split("&"),t=0;t<e.length;t++){var n="#"+e[t].substring(0,e[t].length-"Selected".length);$element=jQuery("li[data-navlist='"+n+"']"),0<$element.length&&$element.click()}jQuery(".nav-list").each(function(){activeClass="active",customActiveClass=jQuery(this).attr("data-navlist-active-class"),customActiveClass&&(activeClass=customActiveClass),jQuery("li[data-navlist='"+jQuery("."+activeClass+":not(.navlist-open)",jQuery(this)).attr("data-navlist")+"']",jQuery(this)).click()})})}(jQuery),function(o){o.postBehavior=function(e,t){var a=this;a.$el=o(e),a.el=e,a.postId=a.el.dataset.lid,a.deleteToken=a.el.dataset.deleteToken,a.viewMode=a.$el.attr("data-viewmode"),a.viewMode&&0!=a.viewMode.legth||(a.viewMode="view"),a.themeId=a.el.dataset.tlid,a.$postBottom=o(".post-bottom",a.$el),a.$postBottomInner=o(".post-bottom-inner",a.$postBottom),a.$commentTab=o("#comment-on-post_"+a.postId+">a",a.$elt),a.$rescoop=o(".rescoop",a.$el),a.$rescoopButton=o(".button-rescoop",a.$rescoop),a.$thanksArea=o("#thank_"+a.postId,a.$el),a.$thanksButton=o(".post-action-button",a.$thanksArea),a.$thanksCount=o(".post-action-bubble",a.$thanksArea),a.$commentForm=o("#"+a.postId+"_newcomment",a.$el),a.$commentArea=o(".bottom-reactions-zone",a.$el),a.$comments=o(".comments",a.$commentArea),a.$commentTextArea=o("#"+a.postId+"_commentinput",a.$commentForm),a.$commentAllReactionCount=o("#reactions-show-all-count",a.$el),a.$commentAllReactionText=o("#reactions-show-all-text",a.$el),a.$deleteButton=o("#delete_"+a.postId,a.$el),a.$starButton=o("#star_"+a.postId,a.$el),a.$moveButton=o("#move_"+a.postId,a.$el),a.$cutOverlay=null,a.$tagArea=o("#tag_post_"+a.postId,a.$el),a.$tagButton=o("#tag_"+a.postId,a.$el),a.$tagBubble=o("#tag_count_"+a.postId,a.$el),a.$tagSaveButton=o(".button",a.$tagArea),a.tagList=null,a.$tagsWidget=o(".post-tags-widget",a.$el),a.$shareZone=o("#share_post_"+a.postId,a.$el),a.$shareButton=o("#share_"+a.postId,a.$el),a.$shareBubble=o(".post-action-bubble",a.$shareButton),a.$el.data("postBehavior",a),a.$el.addClass("postBehaviorDataSet"),a.$el.css({position:"relative"}),a.$htmlFragment=jQuery(".post-htmlfragment",a.$el),a.init=function(){a.options=o.extend({},o.postBehavior.defaultOptions,t),a.manageHover(),a.manageRescoop(),a.updateThanksBehavior(),a.manageComment(),a.manageDelete(),a.manageStar(),a.manageTag(),a.manageTagsWidget(),a.manageShare(),a.manageMove(),a.manageHtmlFragment()},a.manageHover=function(){if(a.$postBottom.hasClass("post-bottom-anonymous"))return a.$postBottomInner.css({overflow:"visible"}),void a.$postBottom.css({overflow:"visible"});isMobile()?a.$postBottomInner.css({height:"35px",paddingTop:"0px"}):a.$el.bind({mouseenter:function(e){a.$shareZone.is(":visible")||a.$commentArea.is(":visible")||a.$tagArea.is(":visible")||(a.$postBottomInner.attr("data-mouse-in","true"),a.$postBottomInner.animate({height:"35px",paddingTop:"0px"},200,function(){a.$postBottomInner.css({overflow:"visible"}),a.$postBottom.css({overflow:"visible"})}))},mouseleave:function(e){a.$postBottomInner.attr("data-mouse-in","false"),a.$shareZone.is(":visible")||a.$commentArea.is(":visible")||a.$tagArea.is(":visible")||setTimeout(function(){"true"!=a.$postBottomInner.attr("data-mouse-in")&&a.$postBottomInner.animate({height:"0px",paddingTop:"35px"},200),a.$postBottom.css({overflow:"hidden"}),a.$postBottomInner.css({overflow:"hidden"})},400)}})},a.manageHtmlFragment=function(){a.options.isStorifyUrl&&updateHtmlFragmentForStorify(a.$htmlFragment)},a.manageShare=function(){a.$shareButton.click(function(){var e=jQuery(".bottom-share-area:visible");e.slideUp(),e.empty(),a.$shareZone.is(":visible")?a.$shareZone.slideUp():(a.$shareZone.slideDown(),a.$commentArea.slideUp(),a.$tagArea.slideUp());var t=a.$shareButton.attr("data-hide-top-sharers"),n=a.$shareButton.attr("data-inPopup"),e=a.options.internalUrl+"/ajax-share-post?1=1";"true"==t&&(e+="&hideTopSharers=true"),"true"==n&&(e+="&inPopup=true"),gjAjax.getRequest(e,{},function(){a.$shareZone.sharersBehavior({postTitle:jQuery(".title",a.$el).text(),whiteLabelSharing:a.options.whiteLabelSharing,sharedCallback:function(e){var t=parseInt(a.$shareBubble.text(),10);t+=e.numberOfShares,a.$shareBubble.text(t),a.$shareBubble.effect("highlight",{},2e3),a.incrementReactionCount(),a.$shareZone.slideUp()}})})})},a.manageRescoop=function(){isMobile()||a.$rescoopButton.hasClass("inpopup")?a.$rescoopButton.css({width:"68px"}):a.$rescoopButton.hasClass("inpopup")||a.$rescoopButton.hasClass("noAnimation")||a.$el.bind({mouseenter:function(e){a.$rescoopButton.animate({width:"68px"},200)},mouseleave:function(e){a.$rescoopButton.animate({width:"0px"},200)}})},a.manageMove=function(){a.$moveButton.bind("click",function(){a.cutAPost()})},a.updateThanksBehavior=function(){a.$thanksButton.hasClass("button-inactive")?a.$thanksArea.unbind("click"):a.$thanksArea.bind("click",function(){a.incrementThanksCount()})},a.incrementThanksCount=function(){a.$thanksArea.unbind("click"),a.$thanksButton.addClass("button-inactive");var e=a.$thanksButton.attr("data-thanks-url");gjAjax.postRequest(e,{},function(e){e&&(e=parseInt(a.$thanksCount.text(),10),e++,a.$thanksCount.text(e),a.incrementReactionCount()),jQuery(".tooltip").remove()})},a.manageComment=function(){a.$commentTextArea.atta(),a.$commentTextArea.unbind("keydown").keydown(function(e){var t,n;13==e.keyCode&&!e.shiftKey&&""!=o(this).val()&&o(this).val().match(/\S/)&&(e.preventDefault(),jQuery(a.suggestContainer).is(":visible")?(t=(n=a.$commentTextArea.val()).lastIndexOf("@"),e=n.lastIndexOf(" "),-1!=t&&(-1==e||e<t)&&a.selectCurrentInAutoSuggest(t,n.length)):(a.hightlightInAutoSuggest(),a.toReplace=new Array,jQuery(this).css("background-color","rgba(200,200,200,0.1)"),t=a.$commentTextArea.attr("data-comment-url"),n=a.$commentForm.serialize(),gjAjax.postRequest(t,n,function(e){e.blacklisted?alert("Your comment has been blocked."):(a.$commentTextArea.attr("style","").val(""),a.incrementReactionCount())})))}),a.$commentTextArea.unbind("keyup").keyup(function(e){var t,n;13==e.keyCode&&!e.shiftKey&&""!=o(this).val()&&o(this).val().match(/\S/)||(38==e.keyCode?a.selectPreviousInAutoSuggest():40==e.keyCode?a.selectNextInAutoSuggest():1==a.options.enableMention&&(n=(t=a.$commentTextArea.val()).lastIndexOf("@"),e=t.lastIndexOf(" "),-1!=n&&(-1==e||e<n)&&(wordLessTrigger=t.substring(n+1,t.length),jQuery.ajax({type:"GET",url:"/ajax/users",cache:!1,data:"q="+wordLessTrigger+"&postId="+a.postId,success:function(e){if(e.ok&&e.DATA){var t,n=[];for(t in e.DATA)e.DATA[t]&&n.push(e.DATA[t]);0<n.length?a.showAutoSuggest(n):a.hideAutoSuggest()}},error:function(e,t){}}))))}),""!=a.$commentTab.attr("data-post-all-reactions-url")&&a.$commentTab.click(function(){a.$commentArea.is(":visible")?a.$commentArea.slideUp():(a.$commentArea.slideDown(),a.$tagArea.slideUp(),a.$shareZone.slideUp()),a.showAllReactions()}),0===a.el.id.indexOf("postInPopup_")&&window.location.hash&&0===window.location.hash.substr(1).indexOf("viewComments")&&(a.$el.trigger("mouseenter"),a.$commentTab.click(),o("html").animate({scrollTop:a.$postBottomInner.offset().top-100},100,"linear",function(){}))},a.showAllComments=function(){var e=a.$commentTab.attr("data-post-all-comment-url");""!=e&&gjAjax.postRequest(e,null,function(e){})},a.showAllReactions=function(){var e=a.$commentTab.attr("data-post-all-reactions-url");""!=e&&gjAjax.postRequest(e,null,function(e){})},a.incrementReactionCount=function(){var e=parseInt(a.$commentAllReactionCount.text(),10);e++,a.$commentAllReactionCount.text(e),a.$commentAllReactionText.text(getReactionText(e))},a.decrementReactionCount=function(){var e=parseInt(a.$commentAllReactionCount.text(),10);--e<0&&(e=0),a.$commentAllReactionCount.text(e),a.$commentAllReactionText.text(getReactionText(e))},a.manageDelete=function(){0!=a.$deleteButton.length&&(o("a",a.$deleteButton).attr("href"),a.$deleteButton.click(function(){var e=o("#delete_popup_post_"+a.postId);e.modal({zIndex:1022e3,onShow:function(){o("#delete_popup_post_confirm",e).click(function(){a.deletePost()})}})}))},a.deletePost=function(){gjAjax.postRequest("/curatePost",{view:"json",postId:a.postId,themeId:a.themeId,t:a.deleteToken,action:"delete"},function(e){"error"!==e.status?(o.modal.close(),a.$el.parent().fadeOut(function(){window.location.reload()})):alert(e.reason)})},a.manageStar=function(){0!=a.$starButton.length&&(o("a",a.$starButton).attr("href"),a.$starButton.click(function(){a.starUnstar()}))},a.starUnstar=function(){var e="true";a.$starButton.hasClass("active")&&(e="false"),gjAjax.postRequest("/post/edp",{lid:a.postId,key:"favoritePost",value:e,viewMode:a.viewMode},function(e){e&&e.url?window.location.href=e.url:window.location.href=window.location.href})},a.manageTag=function(){var t;0!=a.$tagButton.length&&(t=o("a",a.$tagButton).attr("data-already-opened"),a.$tagButton.click(function(){var e;a.$tagArea.is(":visible")?a.$tagArea.slideUp():(a.$tagArea.slideDown(),a.$commentArea.slideUp(),a.$shareZone.slideUp()),"true"!=t?(a.$tagButton.attr("data-already-opened","true"),(e=o("a",a.$tagButton).attr("data-get-tags-url"))&&0<e.length&&o(".tagsEditor",a.$tagArea).tagit({tagGetter:function(t,n){null==a.tagList?gjAjax.postRequest(e,{},function(e){a.tagList=e.tags,n(a.filterTags(t))}):n(a.filterTags(t))},focus:!0,V4:!0}),a.$tagSaveButton.click(function(){a.saveTags()})):o(".tagsEditorInput",a.$tagArea).focus()}))},a.manageTagsWidget=function(){jQuery(a.$tagsWidget).hover(function(){jQuery(this).addClass("post-tags-widget-open"),jQuery("ul",a.$tagsWidget).hover(function(){},function(){jQuery(a.$tagsWidget).removeClass("post-tags-widget-open")})},function(){})},a.filterTags=function(e){var t,n=new Array;for(t in a.tagList)void 0!==a.tagList[t]&&0==a.tagList[t].toUpperCase().indexOf(e.term.toUpperCase())&&n.push(a.tagList[t]);return n},a.saveTags=function(){var e=a.$tagSaveButton.attr("data-save-tags-url");jQuery(".tagsEditorInput",a.$tagArea).trigger("createtag");var t=[];jQuery("input",a.$tagArea).each(function(){var e;"hidden"==this.type&&(e=jQuery(this).val(),jQuery(this).removeClass("new"),t.push(e))}),gjAjax.postRequest(e,{action:"tag",post:a.postId,tags:t},function(e){a.$tagBubble.text(t.length),a.$tagButton.click()})},a.cutAPost=function(){var e=parseInt(a.$el.attr("data-absolute-position"),10);setUpPageForCut(a.postId,e),a.showCutOverlayOnAllPosts(e)},a.cancelCutPost=function(){cleanUpPageFromCut()},a.showCutOverlayOnAllPosts=function(){var e=parseInt(a.$el.attr("data-absolute-position"),10),t=jQuery(".postBehaviorDataSet");for(i=0;i<t.length;i++){var n=jQuery(t[i]).data("postBehavior");null!=n&&n.showCutOverlay(a.postId,e)}},a.showCutOverlay=function(e,t){var n=parseInt(a.$el.attr("data-absolute-position"),10),i=!0;a.postId==e&&(i=!1),null==a.$cutOverlay&&(a.$el.append("<div class='post-cut-overlay'>"),a.$cutOverlay=jQuery(".post-cut-overlay",a.$el)),a.$cutOverlay.unbind("click"),a.$cutOverlay.removeClass("post-cut-overlay-transparent"),a.$cutOverlay.show(),a.$cutOverlay.html(""),i?void 0!==a.$el.attr("data-absolute-position")&&(a.$cutOverlay.prepend("<div class='button post-cut-overlay-insert'>"),(i=jQuery(".post-cut-overlay-insert",a.$el)).click(function(){n<=t?a.pasteAPost(e,n):a.pasteAPost(e,n+1)}),i.text("Insert here")):(a.$cutOverlay.addClass("post-cut-overlay-transparent"),a.$cutOverlay.bind("click",function(){cleanUpPageFromCut()}))},a.hideCutOverlay=function(){null!=a.$cutOverlay&&a.$cutOverlay.hide()},a.pasteAPost=function(t,e){var n=queryString("page");loading.show(),gjAjax.postRequest("/topic/ajax/cutPasteAPost",{postLid:t,position:e,action:"paste",view:"json",page:n},function(e){e.reloadUrl?window.location.href=e.reloadUrl:(e=removeParameter(e=window.location.href,"cpl"),e=removeParameter(e,"cp"),window.location.hash="#post_"+t,window.location.href=e)})},a.selectCurrentInAutoSuggest=function(e,t){var n=jQuery(a.suggestContainer).find("[data-selected=true]");0<n.length&&(e=a.$commentTextArea.val().substring(0,e)+"@"+n.text(),a.$commentTextArea.val(e),a.prepareToReplaceInAutoSuggest("@"+n.text(),n.attr("data-value"))),a.hideAutoSuggest()},a.selectMeInAutoSuggest=function(e){jQuery(a.suggestContainer).find("[data-selected=true]").attr("data-selected","false"),jQuery(e.target).attr("data-selected","true");var t=a.$commentTextArea.val(),n=t.lastIndexOf("@"),e=t.lastIndexOf(" ");-1!=n&&(-1==e||e<n)&&a.selectCurrentInAutoSuggest(n,t.length)},a.hideAutoSuggest=function(){jQuery(a.suggestContainer).css("display","none")},a.showAutoSuggest=function(e){e.length<1&&a.hideAutoSuggest();var t,n="";for(t in e)n+="<li data-value='"+e[t].key+"'><img class='avatar mention' src='"+e[t].avatar+"'></img>"+e[t].description+"</li>";a.suggestContainer||(a.suggestContainer=document.createElement("ul"),jQuery(a.suggestContainer).addClass("auto-list"),document.body.appendChild(a.suggestContainer),a.selectNextInAutoSuggest()),jQuery(a.suggestContainer).html(n),jQuery(">li",a.suggestContainer).click(function(e){a.selectMeInAutoSuggest(e)});var i=jQuery(a.$commentTextArea).offset(),o=jQuery(a.$commentTextArea).outerWidth(),r=jQuery(a.$commentTextArea).outerHeight();jQuery(a.suggestContainer).css("margin-top",i.top+r),jQuery(a.suggestContainer).css("margin-left",i.left),jQuery(a.suggestContainer).css("width",o-2),jQuery(a.suggestContainer).css("display","block")},a.selectPreviousInAutoSuggest=function(){var e=jQuery(a.suggestContainer).find("[data-selected=true]");(0==e.size()||0==e.prev().size()?jQuery(a.suggestContainer).find("li:last-child"):e.prev()).attr("data-selected","true"),e.attr("data-selected","false")},a.selectNextInAutoSuggest=function(){var e=jQuery(a.suggestContainer).find("[data-selected=true]");(0==e.size()||0==e.next().size()?jQuery(a.suggestContainer).find("li:first-child"):e.next()).attr("data-selected","true"),e.attr("data-selected","false")},a.hightlightInAutoSuggest=function(){var e=a.$commentTextArea.val();if(a.$commentTextArea.parent().parent().find(".highlighter").css("width",a.$commentTextArea.css("width")),e=e.replace(/\n/g,"<br>"),a.toReplace)for(var t=0;t<a.toReplace.length;t++)item=a.toReplace[t],e=e.replace(item.user,'<a class="preview-profile" href="'+item.name+'">'+item.user+"</a>");a.$commentTextArea.parent().parent().find(".highlighter").html(e),a.$commentTextArea.parent().parent().find("#htmlComment").val(e)},a.prepareToReplaceInAutoSuggest=function(e,t){a.toReplace||(a.toReplace=new Array);var n=new Object;n.name=t,n.user=e;for(var i=0;i<a.toReplace.length;i++)if(a.toReplace[i].name==t)return;n.name&&a.toReplace.push(n)},a.init()},o.postBehavior.defaultOptions={isStorifyUrl:!1},o.fn.postBehavior=function(e){return this.each(function(){new o.postBehavior(this,e)})}}(jQuery),function(e){e.fn.atta=function(){e(this).css({opacity:1}),e(this).wrap('<div class="atta" style="position:relative"><div class="highlighter"></div><input type="text" name="htmlComment" id="htmlComment"></input></div>').unwrap().before('<div class="highlighter"></div>').wrap('<div class="typehead"></div></div>'),e(this).parent().parent().find(".highlighter").css({display:"none"}),e(this).addClass("theSelector"),e(this).parent().prev().on("click",function(){e(this).parent().find(".theSelector").focus()})}}(jQuery),function(i){i.sharersBehavior=function(e,t){var n=this;n.$el=i(e),n.el=e,n.$checkboxes=jQuery("#sharers_list input[type='checkbox']",n.$el),n.$twitterText=jQuery("#sharers_twitterText",n.$el),n.$facebookText=jQuery("#sharers_facebookText",n.$el),n.$linkedinText=jQuery("#sharers_linkedinText",n.$el),n.$googleplusText=jQuery("#sharers_googleplusText",n.$el),n.$yammerText=jQuery("#sharers_yammerText",n.$el),n.$facebookContent=jQuery("#facebookContent",n.$el),n.$linkedinContent=jQuery("#linkedinContent",n.$el),n.$twitterContent=jQuery("#twitterContent",n.$el),n.$yammerContent=jQuery("#yammerContent",n.$el),n.$shareForm=jQuery("#share-form",n.$el),n.$twitterCharactersLeft=jQuery("#twitterCharactersLeft",n.$el),n.$shareButton=jQuery("#share-button",n.$el),n.$inputPermalinkOfThePost=jQuery(".permalink-of-this-post input",n.$el),n.$facebookRecommendButton=jQuery(".fb-like",n.$el),n.$twitterButton=i(".twitter-share-button",n.$el),n.$linkedinButton=i(".linkedin-share-button",n.$el),n.$directLinkBase=jQuery(".directLink",n.$el),n.$directLinkCheckbox=jQuery("input[type='checkbox']",n.$directLinkBase),n.$el.hasClass("dropdown-menu")&&(n.$trigger=i("*[data-dropdown='#"+n.$el.attr("id")+"']")),n.share=function(){var e,t;n.$twitterText.is(":visible");n.$shareButton.hasClass("button-inactive")||(e=n.$shareForm.attr("action"),t=n.$shareForm.serializeArray(),gjAjax.postRequest(e,jQuery.param(t),function(e){void 0!==e.success&&e.success&&(i("BODY").find(".dropdown-menu").hide().end().find("[data-dropdown]").removeClass("dropdown-open"),null!=n.options.sharedCallback&&n.options.sharedCallback(e)),n.$el.sharersBehavior(n.options)},function(){}))},n.init=function(){n.options=i.extend({},i.sharersBehavior.defaultOptions,t),jQuery("#sharers_list .disabled-sharer").css({cursor:"pointer"}).click(function(){return!(window.location.href="/share/configuration")}),n.$shareButton.click(n.share),n.$shareForm.submit(function(e){return e.preventDefault(),n.share(),!1}),updateTooltipTitle(n.$el),n.$inputPermalinkOfThePost.click(function(){jQuery(this).select()}),0<n.$facebookRecommendButton.length&&FB.XFBML.parse(n.$el[0]),0<n.$twitterButton.length&&(twttr.widgets.load(),i(".twitter-share-button",n.$el).css({width:80})),0<n.$linkedinButton.length&&IN.parse(n.$linkedinButton[0]),"disabled"==n.$directLinkCheckbox.attr("disabled")&&n.$directLinkBase.unbind("click").click(function(e){jQuery("#directLinkHookPopup").nestedmodal({zIndex:2000010,containerId:"pricing-hook-popup-container",escClose:!0,overlayClose:!0})})},n.init()},i.sharersBehavior.defaultOptions={postTitle:null,whiteLabelSharing:!1,sharedCallback:null,charsCountCallback:null,checkboxesClickedCallback:null},i.fn.sharersBehavior=function(e){return this.each(function(){i(this).data("sharers-behavior-object",new i.sharersBehavior(this,e))})},i.getSharersBehavior=function(e){return e.data("sharers-behavior-object")}}(jQuery),function(r,a){var s=r(a);r.fn.lazyload=function(e){var i=this,o={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:a,data_attribute:"original",skip_invisible:!0,appear:null,load:null};function t(){var t=0;i.each(function(){var e=r(this);if((!o.skip_invisible||e.is(":visible"))&&!r.abovethetop(this,o)&&!r.leftofbegin(this,o))if(r.belowthefold(this,o)||r.rightoffold(this,o)){if(++t>o.failure_limit)return!1}else e.trigger("appear"),t=0})}return e&&(void 0!==e.failurelimit&&(e.failure_limit=e.failurelimit,delete e.failurelimit),void 0!==e.effectspeed&&(e.effect_speed=e.effectspeed,delete e.effectspeed),r.extend(o,e)),e=void 0===o.container||o.container===a?s:r(o.container),0===o.event.indexOf("scroll")&&e.bind(o.event,t),this.each(function(){var t=this,n=r(t);t.loaded=!1,n.one("appear",function(){var e;this.loaded||(o.appear&&(e=i.length,o.appear.call(t,e,o)),r("<img />").bind("load",function(){n.hide().attr("src",n.data(o.data_attribute)).attr("srcset",n.data("srcset"))[o.effect](o.effect_speed),t.loaded=!0;var e=r.grep(i,function(e){return!e.loaded});i=r(e),o.load&&(e=i.length,o.load.call(t,e,o))}).attr("src",n.data(o.data_attribute)))}),0!==o.event.indexOf("scroll")&&n.bind(o.event,function(e){t.loaded||n.trigger("appear")})}),s.bind("resize",function(e){t()}),r(document).ready(function(){t()}),this},r.belowthefold=function(e,t){var n=void 0===t.container||t.container===a?s.height()+s.scrollTop():r(t.container).offset().top+r(t.container).height();return n<=r(e).offset().top-t.threshold},r.rightoffold=function(e,t){var n=void 0===t.container||t.container===a?s.width()+s.scrollLeft():r(t.container).offset().left+r(t.container).width();return n<=r(e).offset().left-t.threshold},r.abovethetop=function(e,t){var n=void 0===t.container||t.container===a?s.scrollTop():r(t.container).offset().top;return n>=r(e).offset().top+t.threshold+r(e).height()},r.leftofbegin=function(e,t){var n=void 0===t.container||t.container===a?s.scrollLeft():r(t.container).offset().left;return n>=r(e).offset().left+t.threshold+r(e).width()},r.inviewport=function(e,t){return!(r.rightoffold(e,t)||r.leftofbegin(e,t)||r.belowthefold(e,t)||r.abovethetop(e,t))},r.extend(r.expr[":"],{"below-the-fold":function(e){return r.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!r.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return r.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!r.rightoffold(e,{threshold:0})},"in-viewport":function(e){return r.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!r.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return r.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!r.rightoffold(e,{threshold:0})}})}(jQuery,window),jQuery.upload={callbacks:[],installCallbacks:[]},jQuery.fn.upload=function(o){var e={callback:function(e){alert("Please CODE ME, uploaded: "+e)},uploadingCallback:null,uploadServiceUrl:null},o=jQuery.extend(e,o);return this.each(function(){var i=jQuery(this),e=jQuery.upload.callbacks.length;jQuery.upload.callbacks.push(function(n){console.log(n.docUploadLid);var i=function(e){return null!=o.uploadingCallback&&o.uploadingCallback(e),"ok"===e.uploadResult?(o.callback(n),!1):"error"!==e.uploadResult||(o.callback({error:"An error occurred, please contact our support"}),!1)};!function t(){jQuery.post(o.uploadServiceUrl,n,function(e){i(e)&&window.setTimeout(t,500)})}()}),jQuery.upload.installCallbacks.push(function(){var e;try{e=i.next().contents()}catch(e){return void console.log(e)}var t=jQuery("#upload-form",e),n=jQuery("#upload-input",t);i.unbind("click").click(function(e){n.click(),e.preventDefault(),e.stopPropagation()}),n.change(function(){null!=o.uploadingCallback&&o.uploadingCallback({progressPc:0}),t.submit()})});e=o.uploadServiceUrl+"&callbackId="+e;i.after("<iframe style='width:0px;height:0px;border:none;position: fixed;top:-10px;left:-10px;' src='"+e+"'></iframe>")})},jQuery.imageUpload={callbacks:[],installCallbacks:[]},jQuery.fn.imageUpload=function(o){var e={callback:function(e,t,n,i,o,r){alert("Please CODE ME, image uploaded: "+t+" "+n+" "+i)},uploadingCallback:null,imageCommand:"/crop/48",resizeAtUpload:!1,saveInImageDbWithContext:""},o=jQuery.extend(e,o);return this.each(function(){var i=jQuery(this),e=jQuery.imageUpload.callbacks.length;jQuery.imageUpload.callbacks.push(o.callback),jQuery.imageUpload.installCallbacks.push(function(){var e=i.next().contents(),t=jQuery("#upload-form",e),n=jQuery("#upload-input",t);i.unbind("click").click(function(e){n.click(),e.preventDefault(),e.stopPropagation()}),n.change(function(){null!=o.uploadingCallback&&o.uploadingCallback(),t.submit()})});e="/upload-v3?callbackId="+e;e+="&command="+o.imageCommand,o.resizeAtUpload&&(e+="&resizeAtUpload=1"),0<o.saveInImageDbWithContext.length&&(e+="&saveInImageDbWithContext="+o.saveInImageDbWithContext),i.after("<iframe style='width:0px;height:0px;border:none;position: fixed;top:-10px;left:-10px;' src='"+e+"'></iframe>")})},jQuery&&function(t){t.fn.extend({buttonSelector:function(e){t.extend({},e);return this.each(function(){0==jQuery(".button-blue",this).length&&0<jQuery(".button",this).length&&jQuery(jQuery(".button",this)[0]).addClass("button-blue"),jQuery(".button",this).click(function(e){button=e.target,buttonContainer=jQuery(button).parent(),jQuery(".button",buttonContainer).removeClass("button-blue"),jQuery(button).addClass("button-blue")})})}}),t(function(){jQuery(document).ready(function(){jQuery(".button-selector").buttonSelector()})})}(jQuery),function(n){function i(e){"password"==(this.input=e).attr("type")&&this.handlePassword(),n(e[0].form).submit(function(){e.hasClass("placeholder")&&e[0].value==e.attr("placeholder")&&(e[0].value="")})}i.prototype={show:function(e){if(""===this.input[0].value||e&&this.valueIsPlaceholder()){if(this.isPassword)try{this.input[0].setAttribute("type","text")}catch(e){this.input.before(this.fakePassword.show()).hide()}this.input.addClass("placeholder"),this.input[0].value=this.input.attr("placeholder")}},hide:function(){if(this.valueIsPlaceholder()&&this.input.hasClass("placeholder")&&(this.input.removeClass("placeholder"),this.input[0].value="",this.isPassword)){try{this.input[0].setAttribute("type","password")}catch(e){}this.input.show(),this.input[0].focus()}},valueIsPlaceholder:function(){return this.input[0].value==this.input.attr("placeholder")},handlePassword:function(){var e,t=this.input;t.attr("realType","password"),this.isPassword=!0,n.browser.msie&&t[0].outerHTML&&(e=n(t[0].outerHTML.replace(/type=(['"])?password\1/gi,"type=$1text$1")),this.fakePassword=e.val(t.attr("placeholder")).addClass("placeholder").focus(function(){t.trigger("focus"),n(this).hide()}),n(t[0].form).submit(function(){e.remove(),t.show()}))}};var e=!!("placeholder"in document.createElement("input"));n.fn.placeholder=function(){return e?this:this.each(function(){var e=n(this),t=new i(e);t.show(!0),e.focus(function(){t.hide()}),e.blur(function(){t.show(!1)}),n.browser.msie&&(n(window).load(function(){e.val()&&e.removeClass("placeholder"),t.show(!0)}),e.focus(function(){var e;""==this.value&&((e=this.createTextRange()).collapse(!0),e.moveStart("character",0),e.select())}))})}}(jQuery),jQuery&&function(o){function i(e){e.removeClass("selected")}function r(e,t){i(e),t.addClass("selected")}function a(e,t){var n,i=o(".suggestion",t),t=i.filter(function(){return o(this).hasClass("selected")});"down"==e?(n=t.next(),0==t.length&&(n=i.first()),r(i,n)):(n=t.prev(),0==t.length&&(n=i.last()),r(i,n))}o.fn.extend({searchSuggestions:function(e){o.extend({},e);return this.each(function(){var e=o(this),t=o("input.scoopit-search-autocomplete.search-box",e);e.submit(function(e){return function(e,t){t=o(".suggestion",t).filter(function(){return o(this).hasClass("selected")});{if(0<t.length){var n=o("a",t).attr("href");return window.location.href=n,!1}n=e.val();if(n&&""!=n)return!0;e.attr("data-redirectUrlWhenEmptySearch")?window.location=e.attr("data-redirectUrlWhenEmptySearch"):window.location.href="/search"}return!1}(t,n)});e="suggestionResult_"+(""+Math.random()).substring(2);o("<div id='"+e+"' class='search-suggestions'></div>").insertAfter(t);var n=o("#"+e);t.liveSearch({url:"/ajax/search/suggestion?view=json&q=",id:e,charactersCount:1,css:{margin:"auto"},onSlideUp:function(){i(o(".suggestion",n)),n.empty()},onResult:function(){i(o(".suggestion",n))}}),t.keydown(function(e){switch(e.keyCode){case 38:a("up",n);break;case 40:a("down",n)}})})}}),o(function(){o(document).ready(function(){o(".scoopit-search").each(function(){o(this).searchSuggestions()})})})}(jQuery),jQuery.feedbackBannerV3={},jQuery.fn.feedbackBannerV3=function(o){o=jQuery.extend({content:"",contentSelector:"",fixedCouldNotClose:!1,ignoreScroll:!1},o);return this.each(function(){var e=o.content;0<jQuery(o.contentSelector).length&&(e=jQuery(o.contentSelector).html()),jQuery(this).prepend("<div class='feedbackBannerWrapper'><div class='feedbackBannerClose'></div><div class='feedbackBannerContent'>"+e+"</div></div>");var t=jQuery(".feedbackBannerWrapper"),n=jQuery(".feedbackBannerContent",t),e=jQuery(".feedbackBannerClose",t),i=jQuery("#headbanner");o.fixedCouldNotClose?(t.addClass("fixedCouldNotClose"),o.ignoreScroll&&t.addClass("ignoreScroll"),t.css({top:-n.height(),left:jQuery(window).width()/2-n.outerWidth()/2})):t.css({top:-n.height(),left:jQuery(this).width()/2-n.outerWidth()/2}),e.click(function(){t.animate({top:-t.height()},function(){t.remove()})});window.setTimeout(function(){var e=+t.height();o.fixedCouldNotClose&&(e+=i.offset().top+i.height()),t.animate({top:e},"slow",function(){jQuery(this).css("z-index","1020001"),o.fixedCouldNotClose&&!o.ignoreScroll&&jQuery(window).scroll(function(){jQuery(window).scrollTop()<=i.offset().top+i.height()?t.css({top:i.offset().top+i.height()-jQuery(window).scrollTop()}):t.css({top:0})})})},1e3)})},function(){var x;null==x&&(x={}),x.txt={},x.txt.regexen={};var t={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};function e(e,t){return t=t||"","string"!=typeof e&&(e.global&&t.indexOf("g")<0&&(t+="g"),e.ignoreCase&&t.indexOf("i")<0&&(t+="i"),e.multiline&&t.indexOf("m")<0&&(t+="m"),e=e.source),new RegExp(e.replace(/#\{(\w+)\}/g,function(e,t){t=x.txt.regexen[t]||"";return"string"!=typeof t&&(t=t.source),t}),t)}function s(e,n){return e.replace(/#\{(\w+)\}/g,function(e,t){return n[t]||""})}function n(e,t,n){var i=String.fromCharCode(t);return n!==t&&(i+="-"+String.fromCharCode(n)),e.push(i),e}x.txt.htmlEscape=function(e){return e&&e.replace(/[&"'><]/g,function(e){return t[e]})},x.txt.regexSupplant=e,x.txt.stringSupplant=s,x.txt.addCharsToCharClass=n;var i=String.fromCharCode,o=[i(32),i(133),i(160),i(5760),i(6158),i(8232),i(8233),i(8239),i(8287),i(12288)];n(o,9,13),n(o,8192,8202);var r=[i(65534),i(65279),i(65535)];n(r,8234,8238),x.txt.regexen.spaces_group=e(o.join("")),x.txt.regexen.spaces=e("["+o.join("")+"]"),x.txt.regexen.invalid_chars_group=e(r.join("")),x.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,x.txt.regexen.rtl_chars=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,x.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/gm;var a=[];n(a,192,214),n(a,216,246),n(a,248,255),n(a,256,591),n(a,595,596),n(a,598,599),n(a,601,601),n(a,603,603),n(a,611,611),n(a,616,616),n(a,623,623),n(a,626,626),n(a,649,649),n(a,651,651),n(a,699,699),n(a,768,879),n(a,7680,7935),x.txt.regexen.latinAccentChars=e(a.join(""));o="A-Za-zÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-ËË-ËË -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½Í¿ÎÎ-ÎÎÎ-Î¡Î£-ÏµÏ·-ÒÒ-Ô¯Ô±-ÕÕÕ¡-Ö×-×ª×°-×²Ø -ÙÙ®Ù¯Ù±-ÛÛÛ¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ-Ü¯Ý-Þ¥Þ±ß-ßªß´ßµßºà -à à à ¤à ¨à¡-à¡à¢ -à¢²à¤-à¤¹à¤½à¥à¥-à¥¡à¥±-à¦à¦-à¦à¦à¦à¦-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§à§à§à§-à§¡à§°à§±à¨-à¨à¨à¨à¨-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©-à©à©à©²-à©´àª-àªàª-àªàª-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à¬-à¬à¬à¬à¬-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­à­à­-à­¡à­±à®à®-à®à®-à®à®-à®à®à®à®à®à®à®£à®¤à®¨-à®ªà®®-à®¹à¯à°-à°à°-à°à°-à°¨à°ª-à°¹à°½à±à±à± à±¡à²-à²à²-à²à²-à²¨à²ª-à²³à²µ-à²¹à²½à³à³ à³¡à³±à³²à´-à´à´-à´à´-à´ºà´½àµàµ àµ¡àµº-àµ¿à¶-à¶à¶-à¶±à¶³-à¶»à¶½à·-à·à¸-à¸°à¸²à¸³à¹-à¹àºàºàºàºàºàºàºàº-àºàº-àºàº¡-àº£àº¥àº§àºªàº«àº­-àº°àº²àº³àº½à»-à»à»à»-à»à¼à½-à½à½-à½¬à¾-à¾á-áªá¿á-áá-áá¡á¥á¦á®-á°áµ-ááá -áááá-áºá¼-áá-áá-ááá-áá -áá-áá-á°á²-áµá¸-á¾áá-áá-áá-áá-áá-áá-áá -á´á-á¬á¯-á¿á-áá -áªá±-á¸á-áá-áá -á±á-áá -á¬á®-á°á-á³ááá  -á¡·á¢-á¢¨á¢ªá¢°-á£µá¤-á¤á¥-á¥­á¥°-á¥´á¦-á¦«á§-á§á¨-á¨á¨ -á©áª§á¬-á¬³á­-á­á®-á® á®®á®¯á®º-á¯¥á°-á°£á±-á±á±-á±½á³©-á³¬á³®-á³±á³µá³¶á´-á¶¿á¸-á¼á¼-á¼á¼ -á½á½-á½á½-á½á½á½á½á½-á½½á¾-á¾´á¾¶-á¾¼á¾¾á¿-á¿á¿-á¿á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â-ââââ-âââ-ââ¤â¦â¨âª-â­â¯-â¹â¼-â¿â-âââââ°-â°®â°°-â±â± -â³¤â³«-â³®â³²â³³â´-â´¥â´§â´­â´°-âµ§âµ¯â¶-â¶â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·-â·â·-â·â·-â·â·-â·â¸¯ããã±-ãµã»ã¼ã-ãã-ãã¡-ãºã¼-ã¿ã-ã­ã±-ãã -ãºã°-ã¿ã-ä¶µä¸-é¿ê-êê-ê½ê-êê-êêªê«ê-ê®ê¿-êê -ê¥ê-êê¢-êê-êê-ê­ê°ê±ê·-ê ê -ê ê -ê ê -ê ¢ê¡-ê¡³ê¢-ê¢³ê£²-ê£·ê£»ê¤-ê¤¥ê¤°-ê¥ê¥ -ê¥¼ê¦-ê¦²ê§ê§ -ê§¤ê§¦-ê§¯ê§º-ê§¾ê¨-ê¨¨ê©-ê©ê©-ê©ê© -ê©¶ê©ºê©¾-êª¯êª±êªµêª¶êª¹-êª½ê«ê«ê«-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬ê¬-ê¬ê¬-ê¬ê¬ -ê¬¦ê¬¨-ê¬®ê¬°-ê­ê­-ê­ê­¤ê­¥ê¯-ê¯¢ê°-í£í°-íí-í»ï¤-ï©­ï©°-ï«ï¬-ï¬ï¬-ï¬ï¬ï¬-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­ï­ï­ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½ï½¦-ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿Ì-Í¯Ò-ÒÖ-Ö½Ö¿×××××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à£¤-à¤à¤º-à¤¼à¤¾-à¥à¥-à¥à¥¢à¥£à¦-à¦à¦¼à¦¾-à§à§à§à§-à§à§à§¢à§£à¨-à¨à¨¼à¨¾-à©à©à©à©-à©à©à©°à©±à©µàª-àªàª¼àª¾-à«à«-à«à«-à«à«¢à«£à¬-à¬à¬¼à¬¾-à­à­à­à­-à­à­à­à­¢à­£à®à®¾-à¯à¯-à¯à¯-à¯à¯à°-à°à°¾-à±à±-à±à±-à±à±à±à±¢à±£à²-à²à²¼à²¾-à³à³-à³à³-à³à³à³à³¢à³£à´-à´à´¾-àµàµ-àµàµ-àµàµàµ¢àµ£à¶à¶à·à·-à·à·à·-à·à·²à·³à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»àº¼à»-à»à¼à¼à¼µà¼·à¼¹à¼¾à¼¿à½±-à¾à¾à¾à¾-à¾à¾-à¾¼à¿á«-á¾á-áá-á á¢-á¤á§-á­á±-á´á-ááá-áá-áá-áá²-á´ááá²á³á´-ááá -á á¢©á¤ -á¤«á¤°-á¤»á¦°-á§á§á§á¨-á¨á©-á©á© -á©¼á©¿áª°-áª¾á¬-á¬á¬´-á­á­«-á­³á®-á®á®¡-á®­á¯¦-á¯³á°¤-á°·á³-á³á³-á³¨á³­á³²-á³´á³¸á³¹á·-á·µá·¼-á·¿â-â°â³¯-â³±âµ¿â· -â·¿ãª-ã¯ããê¯-ê²ê´-ê½êê°ê±ê ê ê ê £-ê §ê¢ê¢ê¢´-ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³-ê§ê§¥ê¨©-ê¨¶ê©ê©ê©ê©»-ê©½êª°êª²-êª´êª·êª¸êª¾êª¿ê«ê««-ê«¯ê«µê«¶ê¯£-ê¯ªê¯¬ê¯­ï¬ï¸-ï¸ï¸ -ï¸­",r="0-9Ù -Ù©Û°-Û¹ß-ßà¥¦-à¥¯à§¦-à§¯à©¦-à©¯à«¦-à«¯à­¦-à­¯à¯¦-à¯¯à±¦-à±¯à³¦-à³¯àµ¦-àµ¯à·¦-à·¯à¹-à¹à»-à»à¼ -à¼©á-áá-áá -á©á -á á¥-á¥á§-á§áª-áªáª-áªá­-á­á®°-á®¹á±-á±á±-á±ê -ê©ê£-ê£ê¤-ê¤ê§-ê§ê§°-ê§¹ê©-ê©ê¯°-ê¯¹ï¼-ï¼",a="_ââê¾Ö¾×³×´ããã ã»ãà¼à¼Â·";x.txt.regexen.hashSigns=/[#ï¼]/,x.txt.regexen.hashtagAlpha=new RegExp("["+o+"]"),x.txt.regexen.hashtagAlphaNumeric=new RegExp("["+o+r+a+"]"),x.txt.regexen.endHashtagMatch=e(/^(?:#{hashSigns}|:\/\/)/),x.txt.regexen.hashtagBoundary=new RegExp("(?:^|$|[^&"+o+r+a+"])"),x.txt.regexen.validHashtag=e(/(#{hashtagBoundary})(#{hashSigns})(?!\ufe0f|\u20e3)(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),x.txt.regexen.validMentionPrecedingChars=/(?:^|[^a-zA-Z0-9_!#$%&*@ï¼ ]|(?:^|[^a-zA-Z0-9_+~.-])(?:rt|RT|rT|Rt):?)/,x.txt.regexen.atSigns=/[@ï¼ ]/,x.txt.regexen.validMentionOrList=e("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?","g"),x.txt.regexen.validReply=e(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),x.txt.regexen.endMentionMatch=e(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),x.txt.regexen.validUrlPrecedingChars=e(/(?:[^A-Za-z0-9@ï¼ $#ï¼#{invalid_chars_group}]|^)/),x.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,x.txt.regexen.invalidDomainChars=s("#{punct}#{spaces_group}#{invalid_chars_group}",x.txt.regexen),x.txt.regexen.validDomainChars=e(/[^#{invalidDomainChars}]/),x.txt.regexen.validSubdomain=e(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),x.txt.regexen.validDomainName=e(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),x.txt.regexen.validGTLD=e(RegExp("(?:(?:abb|abbott|abogado|academy|accenture|accountant|accountants|aco|active|actor|ads|adult|aeg|aero|afl|agency|aig|airforce|airtel|allfinanz|alsace|amsterdam|android|apartments|app|aquarelle|archi|army|arpa|asia|associates|attorney|auction|audio|auto|autos|axa|azure|band|bank|bar|barcelona|barclaycard|barclays|bargains|bauhaus|bayern|bbc|bbva|bcn|beer|bentley|berlin|best|bet|bharti|bible|bid|bike|bing|bingo|bio|biz|black|blackfriday|bloomberg|blue|bmw|bnl|bnpparibas|boats|bond|boo|boots|boutique|bradesco|bridgestone|broker|brother|brussels|budapest|build|builders|business|buzz|bzh|cab|cafe|cal|camera|camp|cancerresearch|canon|capetown|capital|caravan|cards|care|career|careers|cars|cartier|casa|cash|casino|cat|catering|cba|cbn|ceb|center|ceo|cern|cfa|cfd|chanel|channel|chat|cheap|chloe|christmas|chrome|church|cisco|citic|city|claims|cleaning|click|clinic|clothing|cloud|club|coach|codes|coffee|college|cologne|com|commbank|community|company|computer|condos|construction|consulting|contractors|cooking|cool|coop|corsica|country|coupons|courses|credit|creditcard|cricket|crown|crs|cruises|cuisinella|cymru|cyou|dabur|dad|dance|date|dating|datsun|day|dclk|deals|degree|delivery|delta|democrat|dental|dentist|desi|design|dev|diamonds|diet|digital|direct|directory|discount|dnp|docs|dog|doha|domains|doosan|download|drive|durban|dvag|earth|eat|edu|education|email|emerck|energy|engineer|engineering|enterprises|epson|equipment|erni|esq|estate|eurovision|eus|events|everbank|exchange|expert|exposed|express|fage|fail|faith|family|fan|fans|farm|fashion|feedback|film|finance|financial|firmdale|fish|fishing|fit|fitness|flights|florist|flowers|flsmidth|fly|foo|football|forex|forsale|forum|foundation|frl|frogans|fund|furniture|futbol|fyi|gal|gallery|game|garden|gbiz|gdn|gent|genting|ggee|gift|gifts|gives|giving|glass|gle|global|globo|gmail|gmo|gmx|gold|goldpoint|golf|goo|goog|google|gop|gov|graphics|gratis|green|gripe|group|guge|guide|guitars|guru|hamburg|hangout|haus|healthcare|help|here|hermes|hiphop|hitachi|hiv|hockey|holdings|holiday|homedepot|homes|honda|horse|host|hosting|hoteles|hotmail|house|how|hsbc|ibm|icbc|ice|icu|ifm|iinet|immo|immobilien|industries|infiniti|info|ing|ink|institute|insure|int|international|investments|ipiranga|irish|ist|istanbul|itau|iwc|java|jcb|jetzt|jewelry|jlc|jll|jobs|joburg|jprs|juegos|kaufen|kddi|kim|kitchen|kiwi|koeln|komatsu|krd|kred|kyoto|lacaixa|lancaster|land|lasalle|lat|latrobe|law|lawyer|lds|lease|leclerc|legal|lexus|lgbt|liaison|lidl|life|lighting|limited|limo|link|live|lixil|loan|loans|lol|london|lotte|lotto|love|ltda|lupin|luxe|luxury|madrid|maif|maison|man|management|mango|market|marketing|markets|marriott|mba|media|meet|melbourne|meme|memorial|men|menu|miami|microsoft|mil|mini|mma|mobi|moda|moe|mom|monash|money|montblanc|mormon|mortgage|moscow|motorcycles|mov|movie|movistar|mtn|mtpc|museum|nadex|nagoya|name|navy|nec|net|netbank|network|neustar|new|news|nexus|ngo|nhk|nico|ninja|nissan|nokia|nra|nrw|ntt|nyc|office|okinawa|omega|one|ong|onl|online|ooo|oracle|orange|org|organic|osaka|otsuka|ovh|page|panerai|paris|partners|parts|party|pet|pharmacy|philips|photo|photography|photos|physio|piaget|pics|pictet|pictures|pink|pizza|place|play|plumbing|plus|pohl|poker|porn|post|praxi|press|pro|prod|productions|prof|properties|property|pub|qpon|quebec|racing|realtor|realty|recipes|red|redstone|rehab|reise|reisen|reit|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rich|ricoh|rio|rip|rocks|rodeo|rsvp|ruhr|run|ryukyu|saarland|sakura|sale|samsung|sandvik|sandvikcoromant|sanofi|sap|sarl|saxo|sca|scb|schmidt|scholarships|school|schule|schwarz|science|scor|scot|seat|seek|sener|services|sew|sex|sexy|shiksha|shoes|show|shriram|singles|site|ski|sky|skype|sncf|soccer|social|software|sohu|solar|solutions|sony|soy|space|spiegel|spreadbetting|srl|starhub|statoil|studio|study|style|sucks|supplies|supply|support|surf|surgery|suzuki|swatch|swiss|sydney|systems|taipei|tatamotors|tatar|tattoo|tax|taxi|team|tech|technology|tel|telefonica|temasek|tennis|thd|theater|tickets|tienda|tips|tires|tirol|today|tokyo|tools|top|toray|toshiba|tours|town|toyota|toys|trade|trading|training|travel|trust|tui|ubs|university|uno|uol|vacations|vegas|ventures|vermÃ¶gensberater|vermÃ¶gensberatung|versicherung|vet|viajes|video|villas|vin|vision|vista|vistaprint|vlaanderen|vodka|vote|voting|voto|voyage|wales|walter|wang|watch|webcam|website|wed|wedding|weir|whoswho|wien|wiki|williamhill|win|windows|wine|wme|work|works|world|wtc|wtf|xbox|xerox|xin|xperia|xxx|xyz|yachts|yandex|yodobashi|yoga|yokohama|youtube|zip|zone|zuerich|Ð´ÐµÑÐ¸|ÐºÐ¾Ð¼|Ð¼Ð¾ÑÐºÐ²Ð°|Ð¾Ð½Ð»Ð°Ð¹Ð½|Ð¾ÑÐ³|ÑÑÑ|ÑÐ°Ð¹Ñ|×§××|Ø¨Ø§Ø²Ø§Ø±|Ø´Ø¨ÙØ©|ÙÙÙ|ÙÙÙØ¹|à¤à¥à¤®|à¤¨à¥à¤|à¤¸à¤à¤à¤ à¤¨|à¸à¸­à¸¡|ã¿ããª|ã°ã¼ã°ã«|ã³ã |ä¸ç|ä¸­ä¿¡|ä¸­æç½|ä¼ä¸|ä½å±±|ä¿¡æ¯|å¥åº·|å«å¦|å¬å¸|å¬ç|åå|ååº|åæ |å¨çº¿|å¤§æ¿|å¨±ä¹|å·¥è¡|å¹¿ä¸|æå|æç±ä½ |ææº|æ¿å¡|æ¿åº|æ°é»|æ¶å°|æºæ|æ·¡é©¬é¡|æ¸¸æ|ç¹ç|ç§»å¨|ç»ç»æºæ|ç½å|ç½åº|ç½ç»|è°·æ­|éå¢|é£å©æµ¦|é¤å|ë·ë·|ë·ì»´|ì¼ì±|onion)(?=[^0-9a-zA-Z@]|$))")),x.txt.regexen.validCCTLD=e(RegExp("(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bl|bm|bn|bo|bq|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ÎµÎ»|Ð±ÐµÐ»|Ð¼ÐºÐ´|Ð¼Ð¾Ð½|ÑÑ|ÑÑÐ±|ÑÐºÑ|ÒÐ°Ð·|Õ°Õ¡Õµ|Ø§ÙØ§Ø±Ø¯Ù|Ø§ÙØ¬Ø²Ø§Ø¦Ø±|Ø§ÙØ³Ø¹ÙØ¯ÙØ©|Ø§ÙÙØºØ±Ø¨|Ø§ÙØ§Ø±Ø§Øª|Ø§ÛØ±Ø§Ù|Ø¨Ú¾Ø§Ø±Øª|ØªÙÙØ³|Ø³ÙØ¯Ø§Ù|Ø³ÙØ±ÙØ©|Ø¹Ø±Ø§Ù|Ø¹ÙØ§Ù|ÙÙØ³Ø·ÙÙ|ÙØ·Ø±|ÙØµØ±|ÙÙÙØ³ÙØ§|Ù¾Ø§Ú©Ø³ØªØ§Ù|à¤­à¤¾à¤°à¤¤|à¦¬à¦¾à¦à¦²à¦¾|à¦­à¦¾à¦°à¦¤|à¨­à¨¾à¨°à¨¤|àª­àª¾àª°àª¤|à®à®¨à¯à®¤à®¿à®¯à®¾|à®à®²à®à¯à®à¯|à®à®¿à®à¯à®à®ªà¯à®ªà¯à®°à¯|à°­à°¾à°°à°¤à±|à¶½à¶à¶à·|à¹à¸à¸¢|áá|ä¸­å½|ä¸­å|å°æ¹¾|å°ç£|æ°å å¡|æ¾³é|é¦æ¸¯|íêµ­)(?=[^0-9a-zA-Z@]|$))")),x.txt.regexen.validPunycode=e(/(?:xn--[0-9a-z]+)/),x.txt.regexen.validSpecialCCTLD=e(RegExp("(?:(?:co|tv)(?=[^0-9a-zA-Z@]|$))")),x.txt.regexen.validDomain=e(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),x.txt.regexen.validAsciiDomain=e(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),x.txt.regexen.invalidShortDomain=e(/^#{validDomainName}#{validCCTLD}$/i),x.txt.regexen.validSpecialShortDomain=e(/^#{validDomainName}#{validSpecialCCTLD}$/i),x.txt.regexen.validPortNumber=e(/[0-9]+/),x.txt.regexen.cyrillicLettersAndMarks=e("Ð-Ó¿"),x.txt.regexen.validGeneralUrlPathChars=e(/[a-z#{cyrillicLettersAndMarks}0-9!\*';:=\+,\.\$\/%#\[\]\-_~@\|&#{latinAccentChars}]/i),x.txt.regexen.validUrlBalancedParens=e("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i"),x.txt.regexen.validUrlPathEndingChars=e(/[\+\-a-z#{cyrillicLettersAndMarks}0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),x.txt.regexen.validUrlPath=e("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),x.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,x.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,x.txt.regexen.extractUrl=e("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),x.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,x.txt.regexen.urlHasProtocol=/^https?:\/\//i,x.txt.regexen.urlHasHttps=/^https:\/\//i,x.txt.regexen.cashtag=/[a-z]{1,6}(?:[._][a-z]{1,2})?/i,x.txt.regexen.validCashtag=e("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])","gi"),x.txt.regexen.validateUrlUnreserved=/[a-z\u0400-\u04FF0-9\-._~]/i,x.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,x.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,x.txt.regexen.validateUrlPchar=e("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),x.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,x.txt.regexen.validateUrlUserinfo=e("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),x.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,x.txt.regexen.validateUrlIpv4=e(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),x.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,x.txt.regexen.validateUrlIp=e("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),x.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,x.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,x.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,x.txt.regexen.validateUrlDomain=e(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i),x.txt.regexen.validateUrlHost=e("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),x.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,x.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,x.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,x.txt.regexen.validateUrlUnicodeDomain=e(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),x.txt.regexen.validateUrlUnicodeHost=e("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),x.txt.regexen.validateUrlPort=/[0-9]{1,5}/,x.txt.regexen.validateUrlUnicodeAuthority=e("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),x.txt.regexen.validateUrlAuthority=e("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),x.txt.regexen.validateUrlPath=e(/(\/#{validateUrlPchar}*)*/i),x.txt.regexen.validateUrlQuery=e(/(#{validateUrlPchar}|\/|\?)*/i),x.txt.regexen.validateUrlFragment=e(/(#{validateUrlPchar}|\/|\?)*/i),x.txt.regexen.validateUrlUnencoded=e("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var l={urlClass:!0,listClass:!0,usernameClass:!0,hashtagClass:!0,cashtagClass:!0,usernameUrlBase:!0,listUrlBase:!0,hashtagUrlBase:!0,cashtagUrlBase:!0,usernameUrlBlock:!0,listUrlBlock:!0,hashtagUrlBlock:!0,linkUrlBlock:!0,usernameIncludeSymbol:!0,suppressLists:!0,suppressNoFollow:!0,targetBlank:!0,suppressDataScreenName:!0,urlEntities:!0,symbolTag:!0,textWithSymbolTag:!0,urlTarget:!0,invisibleTagAttrs:!0,linkAttributeBlock:!0,linkTextBlock:!0,htmlEscapeNonEntities:!0},c={disabled:!0,readonly:!0,multiple:!0,checked:!0};function u(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}x.txt.tagAttrs=function(e){var t,n="";for(t in e){var i=e[t];c[t]&&(i=i?t:null),null!=i&&(n+=" "+x.txt.htmlEscape(t)+'="'+x.txt.htmlEscape(i.toString())+'"')}return n},x.txt.linkToText=function(e,t,n,i){return i.suppressNoFollow||(n.rel="nofollow"),i.linkAttributeBlock&&i.linkAttributeBlock(e,n),i.linkTextBlock&&(t=i.linkTextBlock(e,t)),s("<a#{attr}>#{text}</a>",{text:t,attr:x.txt.tagAttrs(n)})},x.txt.linkToTextWithSymbol=function(e,t,n,i,o){var r=o.symbolTag?"<"+o.symbolTag+">"+t+"</"+o.symbolTag+">":t;n=x.txt.htmlEscape(n);n=o.textWithSymbolTag?"<"+o.textWithSymbolTag+">"+n+"</"+o.textWithSymbolTag+">":n;return o.usernameIncludeSymbol||!t.match(x.txt.regexen.atSigns)?x.txt.linkToText(e,r+n,i,o):r+x.txt.linkToText(e,n,i,o)},x.txt.linkToHashtag=function(e,t,n){var i=t.substring(e.indices[0],e.indices[0]+1),o=x.txt.htmlEscape(e.hashtag),t=u(n.htmlAttrs||{});return t.href=n.hashtagUrlBase+o,t.title="#"+o,t.class=n.hashtagClass,o.charAt(0).match(x.txt.regexen.rtl_chars)&&(t.class+=" rtl"),n.targetBlank&&(t.target="_blank"),x.txt.linkToTextWithSymbol(e,i,o,t,n)},x.txt.linkToCashtag=function(e,t,n){var i=x.txt.htmlEscape(e.cashtag),o=u(n.htmlAttrs||{});return o.href=n.cashtagUrlBase+i,o.title="$"+i,o.class=n.cashtagClass,n.targetBlank&&(o.target="_blank"),x.txt.linkToTextWithSymbol(e,"$",i,o,n)},x.txt.linkToMentionAndList=function(e,t,n){var i=t.substring(e.indices[0],e.indices[0]+1),o=x.txt.htmlEscape(e.screenName),r=x.txt.htmlEscape(e.listSlug),a=e.listSlug&&!n.suppressLists,t=u(n.htmlAttrs||{});return t.class=a?n.listClass:n.usernameClass,t.href=a?n.listUrlBase+o+r:n.usernameUrlBase+o,a||n.suppressDataScreenName||(t["data-screen-name"]=o),n.targetBlank&&(t.target="_blank"),x.txt.linkToTextWithSymbol(e,i,a?o+r:o,t,n)},x.txt.linkToUrl=function(e,t,n){var i=e.url,o=x.txt.htmlEscape(i),r=n.urlEntities&&n.urlEntities[i]||e;r.display_url&&(o=x.txt.linkTextWithEntity(r,n));var a=u(n.htmlAttrs||{});return i.match(x.txt.regexen.urlHasProtocol)||(i="http://"+i),a.href=i,n.targetBlank&&(a.target="_blank"),n.urlClass&&(a.class=n.urlClass),n.urlTarget&&(a.target=n.urlTarget),!n.title&&r.display_url&&(a.title=r.expanded_url),x.txt.linkToText(e,o,a,n)},x.txt.linkTextWithEntity=function(e,t){var n=e.display_url,i=e.expanded_url,o=n.replace(/â¦/g,"");if(-1==i.indexOf(o))return n;var r,e=i.indexOf(o),a={displayUrlSansEllipses:o,beforeDisplayUrl:i.substr(0,e),afterDisplayUrl:i.substr(e+o.length),precedingEllipsis:n.match(/^â¦/)?"â¦":"",followingEllipsis:n.match(/â¦$/)?"â¦":""};for(r in a)a.hasOwnProperty(r)&&(a[r]=x.txt.htmlEscape(a[r]));return a.invisible=t.invisibleTagAttrs,s("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",a)},x.txt.autoLinkEntities=function(e,t,n){var i,o;if((n=u(n||{})).hashtagClass=n.hashtagClass||"tweet-url hashtag",n.hashtagUrlBase=n.hashtagUrlBase||"https://twitter.com/#!/search?q=%23",n.cashtagClass=n.cashtagClass||"tweet-url cashtag",n.cashtagUrlBase=n.cashtagUrlBase||"https://twitter.com/#!/search?q=%24",n.listClass=n.listClass||"tweet-url list-slug",n.usernameClass=n.usernameClass||"tweet-url username",n.usernameUrlBase=n.usernameUrlBase||"https://twitter.com/",n.listUrlBase=n.listUrlBase||"https://twitter.com/",n.htmlAttrs=x.txt.extractHtmlAttrsFromOptions(n),n.invisibleTagAttrs=n.invisibleTagAttrs||"style='position:absolute;left:-9999px;'",n.urlEntities){for(i={},l=0,o=n.urlEntities.length;l<o;l++)i[n.urlEntities[l].url]=n.urlEntities[l];n.urlEntities=i}var r="",a=0;t.sort(function(e,t){return e.indices[0]-t.indices[0]});for(var s=n.htmlEscapeNonEntities?x.txt.htmlEscape:function(e){return e},l=0;l<t.length;l++){var c=t[l];r+=s(e.substring(a,c.indices[0])),c.url?r+=x.txt.linkToUrl(c,e,n):c.hashtag?r+=x.txt.linkToHashtag(c,e,n):c.screenName?r+=x.txt.linkToMentionAndList(c,e,n):c.cashtag&&(r+=x.txt.linkToCashtag(c,e,n)),a=c.indices[1]}return r+=s(e.substring(a,e.length))},x.txt.autoLinkWithJSON=function(e,t,n){if(t.user_mentions)for(var i=0;i<t.user_mentions.length;i++)t.user_mentions[i].screenName=t.user_mentions[i].screen_name;if(t.hashtags)for(i=0;i<t.hashtags.length;i++)t.hashtags[i].hashtag=t.hashtags[i].text;if(t.symbols)for(i=0;i<t.symbols.length;i++)t.symbols[i].cashtag=t.symbols[i].text;var o,r=[];for(o in t)r=r.concat(t[o]);return x.txt.modifyIndicesFromUnicodeToUTF16(e,r),x.txt.autoLinkEntities(e,r,n)},x.txt.extractHtmlAttrsFromOptions=function(e){var t,n={};for(t in e){var i=e[t];l[t]||(c[t]&&(i=i?t:null),null!=i&&(n[t]=i))}return n},x.txt.autoLink=function(e,t){var n=x.txt.extractEntitiesWithIndices(e,{extractUrlsWithoutProtocol:!1});return x.txt.autoLinkEntities(e,n,t)},x.txt.autoLinkUsernamesOrLists=function(e,t){var n=x.txt.extractMentionsOrListsWithIndices(e);return x.txt.autoLinkEntities(e,n,t)},x.txt.autoLinkHashtags=function(e,t){var n=x.txt.extractHashtagsWithIndices(e);return x.txt.autoLinkEntities(e,n,t)},x.txt.autoLinkCashtags=function(e,t){var n=x.txt.extractCashtagsWithIndices(e);return x.txt.autoLinkEntities(e,n,t)},x.txt.autoLinkUrlsCustom=function(e,t){var n=x.txt.extractUrlsWithIndices(e,{extractUrlsWithoutProtocol:!1});return x.txt.autoLinkEntities(e,n,t)},x.txt.removeOverlappingEntities=function(e){e.sort(function(e,t){return e.indices[0]-t.indices[0]});for(var t=e[0],n=1;n<e.length;n++)t.indices[1]>e[n].indices[0]?(e.splice(n,1),n--):t=e[n]},x.txt.extractEntitiesWithIndices=function(e,t){e=x.txt.extractUrlsWithIndices(e,t).concat(x.txt.extractMentionsOrListsWithIndices(e)).concat(x.txt.extractHashtagsWithIndices(e,{checkUrlOverlap:!1})).concat(x.txt.extractCashtagsWithIndices(e));return 0==e.length?[]:(x.txt.removeOverlappingEntities(e),e)},x.txt.extractMentions=function(e){for(var t=[],n=x.txt.extractMentionsWithIndices(e),i=0;i<n.length;i++){var o=n[i].screenName;t.push(o)}return t},x.txt.extractMentionsWithIndices=function(e){for(var t,n=[],i=x.txt.extractMentionsOrListsWithIndices(e),o=0;o<i.length;o++)""==(t=i[o]).listSlug&&n.push({screenName:t.screenName,indices:t.indices});return n},x.txt.extractMentionsOrListsWithIndices=function(e){if(!e||!e.match(x.txt.regexen.atSigns))return[];var s=[];return e.replace(x.txt.regexen.validMentionOrList,function(e,t,n,i,o,r,a){a.slice(r+e.length).match(x.txt.regexen.endMentionMatch)||(o=o||"",t=(r=r+t.length)+i.length+o.length+1,s.push({screenName:i,listSlug:o,indices:[r,t]}))}),s},x.txt.extractReplies=function(e){if(!e)return null;e=e.match(x.txt.regexen.validReply);return!e||RegExp.rightContext.match(x.txt.regexen.endMentionMatch)?null:e[1]},x.txt.extractUrls=function(e,t){for(var n=[],i=x.txt.extractUrlsWithIndices(e,t),o=0;o<i.length;o++)n.push(i[o].url);return n},x.txt.extractUrlsWithIndices=function(e,t){if(t=t||{extractUrlsWithoutProtocol:!0},!e||(t.extractUrlsWithoutProtocol?!e.match(/\./):!e.match(/:/)))return[];for(var n=[];x.txt.regexen.extractUrl.exec(e);){var i,o,r=RegExp.$2,a=RegExp.$3,s=RegExp.$4,l=RegExp.$5,c=RegExp.$7,u=x.txt.regexen.extractUrl.lastIndex,d=u-a.length;s?(a.match(x.txt.regexen.validTcoUrl)&&(a=RegExp.lastMatch,u=d+a.length),n.push({url:a,indices:[d,u]})):t.extractUrlsWithoutProtocol&&!r.match(x.txt.regexen.invalidUrlWithoutProtocolPrecedingChars)&&(i=null,o=0,l.replace(x.txt.regexen.validAsciiDomain,function(e){var t=l.indexOf(e,o);o=t+e.length,i={url:e,indices:[d+t,d+o]},!c&&!e.match(x.txt.regexen.validSpecialShortDomain)&&e.match(x.txt.regexen.invalidShortDomain)||n.push(i)}),null!=i&&c&&(i.url=a.replace(l,i.url),i.indices[1]=u))}return n},x.txt.extractHashtags=function(e){for(var t=[],n=x.txt.extractHashtagsWithIndices(e),i=0;i<n.length;i++)t.push(n[i].hashtag);return t},x.txt.extractHashtagsWithIndices=function(e,t){if(t=t||{checkUrlOverlap:!0},!e||!e.match(x.txt.regexen.hashSigns))return[];var a=[];if(e.replace(x.txt.regexen.validHashtag,function(e,t,n,i,o,r){r.slice(o+e.length).match(x.txt.regexen.endHashtagMatch)||(t=(o=o+t.length)+i.length+1,a.push({hashtag:i,indices:[o,t]}))}),t.checkUrlOverlap){e=x.txt.extractUrlsWithIndices(e);if(0<e.length){var n=a.concat(e);x.txt.removeOverlappingEntities(n),a=[];for(var i=0;i<n.length;i++)n[i].hashtag&&a.push(n[i])}}return a},x.txt.extractCashtags=function(e){for(var t=[],n=x.txt.extractCashtagsWithIndices(e),i=0;i<n.length;i++)t.push(n[i].cashtag);return t},x.txt.extractCashtagsWithIndices=function(e){if(!e||-1==e.indexOf("$"))return[];var a=[];return e.replace(x.txt.regexen.validCashtag,function(e,t,n,i,o,r){o+=t.length,t=o+i.length+1;a.push({cashtag:i,indices:[o,t]})}),a},x.txt.modifyIndicesFromUnicodeToUTF16=function(e,t){x.txt.convertUnicodeIndices(e,t,!1)},x.txt.modifyIndicesFromUTF16ToUnicode=function(e,t){x.txt.convertUnicodeIndices(e,t,!0)},x.txt.getUnicodeTextLength=function(e){return e.replace(x.txt.regexen.non_bmp_code_pairs," ").length},x.txt.convertUnicodeIndices=function(e,t,n){if(0!=t.length){var i=0,o=0;t.sort(function(e,t){return e.indices[0]-t.indices[0]});for(var r=0,a=t[0];i<e.length;){if(a.indices[0]==(n?i:o)){var s=a.indices[1]-a.indices[0];if(a.indices[0]=n?o:i,a.indices[1]=a.indices[0]+s,++r==t.length)break;a=t[r]}s=e.charCodeAt(i);55296<=s&&s<=56319&&i<e.length-1&&56320<=(s=e.charCodeAt(i+1))&&s<=57343&&i++,o++,i++}}},x.txt.splitTags=function(e){for(var t,n,i=e.split("<"),o=[],r=0;r<i.length;r+=1)if(n=i[r]){t=n.split(">");for(var a=0;a<t.length;a+=1)o.push(t[a])}else o.push("");return o},x.txt.hitHighlight=function(e,t,n){if(0===(t=t||[]).length)return e;for(var i,o,r,a,s,l,n=(n=n||{}).tag||"em",c=["<"+n+">","</"+n+">"],u=x.txt.splitTags(e),d="",h=0,f=u[0],p=0,m=0,g=!1,v=f,y=[],b=0;b<t.length;b+=1)for(i=0;i<t[b].length;i+=1)y.push(t[b][i]);for(o=0;o<y.length;o+=1){for(r=y[o],a=c[o%2],s=!1;null!=f&&r>=p+f.length;)d+=v.slice(m),g&&r===p+v.length&&(d+=a,s=!0),u[h+1]&&(d+="<"+u[h+1]+">"),p+=v.length,m=0,v=f=u[h+=2],g=!1;s||null==f?s||(s=!0,d+=a):(l=r-p,d+=v.slice(m,l)+a,m=l,g=o%2==0)}if(null!=f)for(m<v.length&&(d+=v.slice(m)),o=h+1;o<u.length;o+=1)d+=o%2==0?u[o]:"<"+u[o]+">";return d};var d=[i(65534),i(65279),i(65535),i(8234),i(8235),i(8236),i(8237),i(8238)];x.txt.getTweetLength=function(e,t){t=t||{short_url_length:23,short_url_length_https:23};var n=x.txt.getUnicodeTextLength(e),i=x.txt.extractUrlsWithIndices(e);x.txt.modifyIndicesFromUTF16ToUnicode(e,i);for(var o=0;o<i.length;o++)n+=i[o].indices[0]-i[o].indices[1],i[o].url.toLowerCase().match(x.txt.regexen.urlHasHttps)?n+=t.short_url_length_https:n+=t.short_url_length;return n},x.txt.isInvalidTweet=function(e){return e?140<x.txt.getTweetLength(e)?"too_long":!!x.txt.hasInvalidCharacters(e)&&"invalid_characters":"empty"},x.txt.hasInvalidCharacters=function(e){for(var t=0;t<d.length;t++)if(0<=e.indexOf(d[t]))return!0;return!1},x.txt.isValidTweetText=function(e){return!x.txt.isInvalidTweet(e)},x.txt.isValidUsername=function(e){if(!e)return!1;var t=x.txt.extractMentions(e);return 1===t.length&&t[0]===e.slice(1)};var h=e(/^#{validMentionOrList}$/);function f(e,t,n){return n?!e||e.match(t)&&RegExp["$&"]===e:"string"==typeof e&&e.match(t)&&RegExp["$&"]===e}if(x.txt.isValidList=function(e){e=e.match(h);return!(!e||""!=e[1]||!e[4])},x.txt.isValidHashtag=function(e){if(!e)return!1;var t=x.txt.extractHashtags(e);return 1===t.length&&t[0]===e.slice(1)},x.txt.isValidUrl=function(e,t,n){if(null==t&&(t=!0),null==n&&(n=!0),!e)return!1;var i=e.match(x.txt.regexen.validateUrlUnencoded);if(!i||i[0]!==e)return!1;var o=i[1],r=i[2],a=i[3],e=i[4],i=i[5];return!!((!n||f(o,x.txt.regexen.validateUrlScheme)&&o.match(/^https?$/i))&&f(a,x.txt.regexen.validateUrlPath)&&f(e,x.txt.regexen.validateUrlQuery,!0)&&f(i,x.txt.regexen.validateUrlFragment,!0))&&(t&&f(r,x.txt.regexen.validateUrlUnicodeAuthority)||!t&&f(r,x.txt.regexen.validateUrlAuthority))},"undefined"!=typeof module&&module.exports&&(module.exports=x.txt),"function"==typeof define&&define.amd&&define([],x.txt),"undefined"!=typeof window)if(window.twttr)for(var p in x)window.twttr[p]=x[p];else window.twttr=x}(),jQuery.uaMatch=function(e){e=e.toLowerCase();e=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:e[1]||"",version:e[2]||"0"}},matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),jQuery.browser=browser,function(){}("object"==typeof global?global:this,function(){"use strict";return function(e,t){var n,l={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!1,widthOnly:!1,suppressErrors:!1};for(n in t)t.hasOwnProperty(n)&&(l[n]=t[n]);"function"==typeof e.toArray&&(e=e.toArray());var i=Object.prototype.toString.call(e);"[object Array]"!==i&&"[object NodeList]"!==i&&(e=[e]);for(var o=0;o<e.length;o++)!function(e){if(!function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}(e)||!l.reProcess&&e.getAttribute("boxfitted"))return;l.reProcess||e.setAttribute("boxfitted",1);var t,n,i,o,r,a;if(s=e.innerHTML,i=function(e){var t=window.getComputedStyle(e,null);return e.clientWidth-parseInt(t.getPropertyValue("padding-left"),10)-parseInt(t.getPropertyValue("padding-right"),10)}(e),n=function(e){var t=window.getComputedStyle(e,null);return e.clientHeight-parseInt(t.getPropertyValue("padding-top"),10)-parseInt(t.getPropertyValue("padding-bottom"),10)}(e),!i||!l.widthOnly&&!n)return;-1===s.indexOf("textfitted")?((t=document.createElement("span")).className="textfitted",t.style.display="inline-block",t.innerHTML=s,e.innerHTML="",e.appendChild(t)):t=e.querySelector("span.textfitted");l.alignVert&&(e.style.display="table",t.style.display="table-cell",t.style["vertical-align"]="middle");l.alignHoriz&&(e.style["text-align"]="center",t.style["text-align"]="center");var s=l.multiLine;l.detectMultiLine&&!s&&t.offsetHeight>=2*parseInt(window.getComputedStyle(t)["font-size"],10)&&(s=!0);s||(e.style["white-space"]="nowrap");o=l.minFontSize+1,a=l.maxFontSize+1;for(;o<=a;)r=parseInt((o+a)/2,10),t.style.fontSize=r+"px",t.offsetWidth<=i&&(l.widthOnly||t.offsetHeight<=n)?o=r+1:a=r-1;t.style.fontSize=r-1+"px"}(e[o])}}),jQuery&&function(t){t.fn.extend({previewProfile:function(e){t.extend({},e);return this.each(function(){var n,i,o,r,a;isMobile()||(n=jQuery(this),i=n.attr("href"),o=i.substr(i.lastIndexOf("/")+1),null==(r=n.data("preview-profile-id"))&&(r=Math.floor(1e4*Math.random()+1),n.data("preview-profile-id",r)),a=jQuery("#"+r),n.removeClass("preview-profile"),n.hoverIntent(function(e){0==a.length&&(jQuery("body").append("<div id='"+r+"' class='preview-profile-container'></div>"),(a=jQuery("#"+r)).attr("data-shortName",o),0<(t=jQuery(".preview-profile-container").filter(function(){return jQuery(this).attr("data-shortName")==o}).first()).length&&0<t.html().length?(t.children().clone(!0,!0).appendTo(a),jQuery(".theme-mini-list-item",a).hover(function(){jQuery(".theme-mini-list-item-hover",this).show()},function(){jQuery(".theme-mini-list-item-hover",this).hide()})):gjAjax.getRequest(i+"/ajax",{id:r,view:"json"},function(e){updateTooltipTitle(a),jQuery(".theme-mini-list-item",a).hover(function(){jQuery(".theme-mini-list-item-hover",this).show()},function(){jQuery(".theme-mini-list-item-hover",this).hide()})}));var t=n.offset().left-a.width()/2+n.width()/2;t<-30&&jQuery(a).addClass("right"),t<10&&(t=10),a.css({left:t,top:n.offset().top+n.outerHeight()+10}),a.hover(function(){n.data("previewProfileHover",!0)},function(){n.data("previewProfileHover",!1),n.mouseleave()}),a.fadeIn()},function(){}),n.on("mouseleave",function(e){window.setTimeout(function(){void 0!==n.data("previewProfileHover")&&0!=n.data("previewProfileHover")||a.fadeOut()},500)}),t(document).on("remove",n,function(){}))})}})}(jQuery),jQuery(document).ready(function(){jQuery(".preview-profile").previewProfile()});var g_alreadyAnOverlayDisplayed=!1;!function(l){l.overlayWizard=function(e){return l.overlayWizard.impl.init(this,e)},l.overlayWizard.redraw=function(e){console.log("redraw"),l.overlayWizard.impl.updateOverlaysPosition(l(e),settings),l.overlayWizard.impl.updatePopupPosition(l(e),null,settings)},l.overlayWizard.close=function(e){l.overlayWizard.impl.close(null,l(e))},l.fn.overlayWizard=function(e){return l.overlayWizard.impl.init(this,e)},l.overlayWizard.impl={d:{},init:function(e,t){var n=l.extend({popupWidth:200,positionOfTheArrow:"topCenter",title:"Title",content:"Bappleees. Hahaha butt me want bananaaa! Aaaaaah wiiiii baboiii aaaaaah",gotItCallBack:null,showGreyBackground:!0,onShow:null,onClose:null,buttonsTitles:null,buttonsClass:null,buttonsCallbacks:null,overlayTopPositionOffset:0,overlayLeftPositionOffset:0,overlayBottomPositionOffset:0,overlayRightPositionOffset:0,customPopupTop:null,overlayClose:!1,noGotItButton:!1,versionBW:!1,close:!1,closeFunction:null,hightlightElement:!0},t),i=l(e);i.css("position","relative"),n.showGreyBackground&&(jQuery("body").append("<div id='overlayWizard_background_1' class='overlayWizard_background'></div><div id='overlayWizard_background_2' class='overlayWizard_background'></div><div id='overlayWizard_background_3' class='overlayWizard_background'></div><div id='overlayWizard_background_4' class='overlayWizard_background'></div>"),l.overlayWizard.impl.updateOverlaysPosition(i,n));var e=i.attr("id")+"_overlayWizard",o="";if(null!=n.buttonsTitles)for(var r=0;r<n.buttonsTitles.length;r++){var a=null;null!=n.buttonsClass&&(a=n.buttonsClass[r]),null==a&&(a="button-green"),o+="<div class='button "+a+"' id='overlayWizard-button-"+r+"' data-button-id='"+r+"'>"+n.buttonsTitles[r]+"</div>"}else n.noGotItButton||(o="<div class='button button-blue' id='overlayWizard-gotitbutton'>OK, got it!</div>");jQuery("body").append("<div id='"+e+"' class='overlayWizard-popup overlayWizard-popup-"+n.positionOfTheArrow+" '>    <div class='overlayWizard-title'>"+n.title+(n.close?"<div class='overlay-close'></div>":"")+"    </div>    <div class='overlayWizard-text'>"+n.content+"    </div>    <div class='overlayWizard-action-bar'>"+o+"    </div></div>"),n.close&&"function"==typeof n.closeFunction&&jQuery("#"+e+" .overlay-close").click(function(e){n.closeFunction()}),i.data("idOfThePopup",e),i.data("arrowPosition",n.positionOfTheArrow);var s=jQuery("#"+e);if(n.versionBW&&(s.addClass("overlayWizard-popup-bw"),jQuery(".overlayWizard_background").addClass("overlayWizard_background_bw")),s.css({width:n.popupWidth}),l.overlayWizard.impl.updatePopupPosition(i,s,n),s.fadeIn(function(){"function"==typeof n.onShow&&n.onShow()}),l("#overlayWizard-gotitbutton",s).click(function(){l.overlayWizard.impl.close(s),"function"==typeof n.gotItCallBack&&n.gotItCallBack(),"function"==typeof n.onClose&&n.onClose()}),null!=n.buttonsTitles)for(r=0;r<n.buttonsCallbacks.length;r++)l("#overlayWizard-button-"+r,s).click(function(e){l.overlayWizard.impl.close(s);var t=n.buttonsCallbacks[jQuery(this).attr("data-button-id")];"function"==typeof t&&t(),"function"==typeof n.onClose&&n.onClose()});return n.overlayClose&&setTimeout(function(){jQuery("body").bind("click",{popup:s,onClose:n.onClose},l.overlayWizard.impl.overlayClose)},200),jQuery(window).bind("resize scroll",function(e){n.showGreyBackground&&l.overlayWizard.impl.updateOverlaysPosition(i,n),l.overlayWizard.impl.updatePopupPosition(i,s,n),window.setTimeout(function(){n.showGreyBackground&&l.overlayWizard.impl.updateOverlaysPosition(i,n),l.overlayWizard.impl.updatePopupPosition(i,s,n)},100)}),this},close:function(e,t){null==e&&(e=l("#"+l(t).data("idOfThePopup"))),jQuery(".overlayWizard_background").remove(),l(e).remove(),jQuery("body").unbind("click",l.overlayWizard.impl.overlayClose)},overlayClose:function(e){"function"==typeof e.data.onClose&&e.data.onClose(),0==jQuery(e.data.popup).find(e.target).length&&l.overlayWizard.impl.close(e.data.popup)},updateOverlaysPosition:function(e,t){jQuery("#overlayWizard_background_1").css({height:l(e).offset().top-t.overlayTopPositionOffset}),jQuery("#overlayWizard_background_2").css({width:l(e).offset().left-t.overlayLeftPositionOffset,top:l(e).offset().top-t.overlayTopPositionOffset,height:l(e).outerHeight()+t.overlayTopPositionOffset+t.overlayBottomPositionOffset}),jQuery("#overlayWizard_background_3").css({width:l("body").width()-l(e).offset().left-l(e).outerWidth()-t.overlayRightPositionOffset,top:l(e).offset().top-t.overlayTopPositionOffset,height:l(e).outerHeight()+t.overlayTopPositionOffset+t.overlayBottomPositionOffset}),t.versionBW&&!t.hightlightElement&&jQuery("#overlayWizard_background_3").css({width:l("body").width()-l("#overlayWizard_background_2").width()}),jQuery("#overlayWizard_background_4").css({top:l(e).offset().top+l(e).outerHeight()+t.overlayBottomPositionOffset,height:l(document).outerHeight()-l(e).outerHeight()-l(e).offset().top})},updatePopupPosition:function(e,t,n){null==t&&(t=l("#"+l(e).data("idOfThePopup")));var i=e.offset().left+e.outerWidth()/2,o=.5,r=l(e).data("arrowPosition");"topLeft"==r?o=.2:"topRight"==r&&(o=.8);i-=l(t).width()*o,o=Math.min(i,l("body").width()-l(t).width()-10),i=n.customPopupTop;void 0!==r&&0==r.indexOf("topCenter")?(null==i&&(i=e.offset().top+60),l(t).css({top:i,left:o})):void 0!==r&&0==r.indexOf("bottomRight")?(null==i&&(i=e.offset().top-(l(t).outerHeight()+10+20)),l(t).css({top:i,left:e.offset().left-l(t).outerWidth()+e.width()})):void 0!==r&&0==r.indexOf("bottom")?(null==i&&(i=e.offset().top-(l(t).outerHeight()+10+20)),l(t).css({top:i,left:o})):void 0!==r&&0==r.indexOf("right")?(null==i&&(i=e.offset().top+e.outerHeight()/2,n.versionBW&&(i+=-28)),l(t).css({top:i,left:e.offset().left-l(t).outerWidth()-10-20})):void 0!==r&&0==r.indexOf("left")?(null==i&&(i=e.offset().top+e.outerHeight()/2,n.versionBW&&(i+=-28)),l(t).css({top:i,left:e.offset().left+e.width()+80})):(null==i&&(i=e.offset().top+e.outerHeight()+10+20),l(t).css({top:i,left:o}))}}}(jQuery),function(s){s.editable=function(e){return s.editable.impl.init(this,e)},s.fn.editable=function(e){return s.editable.impl.init(this,e)},s.editable.impl={d:{},init:function(e,t){var a=s.extend({requestUrl:null,callbackNoError:null,authorizeNewLine:!1},t);return s(".editable-container",e).each(function(){var e=s(this),t=jQuery(".editableValue",e).html();void 0!==t&&(""===t||""===t.trim()?jQuery(".placeholder",e).css({display:"block"}):jQuery(".placeholder",e).css({display:"none"}))}),s(".editable-container",e).each(function(){"true"!=s(this).data("editable")&&(s(this).data("editable","true"),s(this).editables({bindOnParentElem:s(".editable-wrapper",this),editOn:"click",beforeEdit:function(){var n=s(this),i=s(n.data("for"));n.removeClass("default-value"),i.css({position:"absolute",top:0,left:0,height:n.parents(".editable-container").outerHeight(),width:n.parents(".editable-container").outerWidth(),margin:n.css("margin"),padding:0,border:"none","font-size":n.css("font-size"),"font-family":n.css("font-family"),"line-height":n.css("line-height"),color:"#2f2e2c","z-index":20,"text-align":n.css("text-align")}),i.css({}),a.authorizeNewLine&&i.val(i.val().replace(/<br\/>/g,"\n")),i.unbind("keyup").bind("keyup",function(e){var t;27==e.keyCode?(e.stopPropagation(),i.val(jQuery(".editableValue",n).text().trim()),i.blur()):a.authorizeNewLine&&13==event.keyCode&&event.shiftKey&&(t=s(this).val(),s(this).val(t+"\n"),e.stopPropagation())}),i.unbind("keydown").bind("keydown",function(e){13==e.keyCode&&(e.preventDefault(),e.stopPropagation(),i.blur())})},beforeFreeze:function(e,t){var n=s(this),i=s("*[data-for='#"+n.attr("id")+"']"),o=i.data("key"),r=n.val();a.authorizeNewLine||(r=r.replace(/(\r\n|\n\r|\r|\n)/g," ")),n.val(r),void 0!==r&&(""===r||""===r.trim()?jQuery(".placeholder",i).css({display:"block"}):jQuery(".placeholder",i).css({display:"none"})),gjAjax.postRequest(a.requestUrl,{key:o,value:r,view:"json"},function(e){void 0!==e.errors.error?(jQuery(".editableIcon",i).click(),jQuery(".editableError",i).text(e.errors.error).css({visibility:"visible"}).show()):(void 0!==e.displayValue&&(r=e.displayValue),void 0!==e.inputValue&&n.val(e.inputValue),jQuery(".editableValue",i).html(r),void 0!==r&&(""!==r||""!==r.trim()?jQuery(".placeholder",i).css({display:"none"}):jQuery(".placeholder",i).css({display:"block"})),jQuery(".editableError",i).fadeOut(),jQuery(".editableIcon",i).remove(),jQuery(i).append("<span class='editableIcon'></span>"),"function"==typeof a.callbackNoError&&a.callbackNoError(i,r))})},onFreeze:function(e){}}))}).hover(function(){jQuery(".editableIcon:not(.no-display)",this).show()},function(){jQuery(".editableIcon",this).hide()}),this}}}(jQuery),jQuery.columnsLayouter={},jQuery.fn.columnsLayouter=function(c){c=jQuery.extend({containerSelector:"",width:300,baseUrl:"",loaderSelector:".loader"},c);return this.each(function(){var i,t,o=jQuery(this);$table4layout=jQuery(c.containerSelector,o),$sandbox=jQuery(".sandbox",o),t=jQuery(c.loaderSelector,o),i=jQuery(".item-container tr",o);var e,r=[];jQuery(".item",$sandbox).each(function(){var e=jQuery(this);e.hide(),r.push(e)}),s(),$(window).resize(function(){window.clearTimeout(e),e=setTimeout(function(){s()},300)});var n=!1,a=2;function s(){$sandbox.append($(".item",i)),i.html("");for(var e=o.width(),t=parseInt(e/c.width,10),n=0;n<t;n++)i.append("<td style='vertical-align:top; width:"+c.width+"px'><div class='aColumn'></div></td>");l(0)}function l(e){for(var t=e;t<r.length;t++){(n=r[t]).hide()}for(t=e;t<r.length;t++){var n=r[t];$smaller=function(){var e=jQuery("td .aColumn",i),t=$(e[0]);return e.each(function(e){$item=$(this),$item.outerHeight()<t.outerHeight()&&(t=$item)}),t}(),$smaller.append(n),n.show()}}$(window).bind("scroll.checkMore",function(){n?$(window).unbind(".checkMore"):$(document).height()-300<$(document).scrollTop()+$(window).height()&&(t.is(":visible")||o.is(":visible")&&function(){if(1==c.scheduled)return;t.show();var e=c.baseUrl+"/ajax/refreshPosts?page="+a;c.url&&(e=c.url+"&page="+a);void 0!==c.tag&&(e=e+"&tag="+c.tag);void 0!==c.query&&(e=e+"&q="+c.query);$.get(e,function(){}).done(function(e){e=$(e.js_inner_replace.html),e=$(".sandbox .item",e);n=0==e.size(),e.each(function(e){var t=$(this);0==jQuery(".inline-scoopit-window",t).length&&($sandbox.append(t),jQuery("img.lazy",t).lazyload({failure_limit:20}).trigger("appear"),r.push(t))}),l($(".item",i).size()),a+=1,setTimeout(function(){t.hide()},50)}).fail(function(){t.hide()}).always(function(){})}())})})},function(i){i.belowthefold=function(e,t){return i(window).height()+i(window).scrollTop()<=i(e).offset().top-t.threshold},i.abovethetop=function(e,t){return i(window).scrollTop()>=i(e).offset().top+i(e).height()-t.threshold},i.rightofscreen=function(e,t){return i(window).width()+i(window).scrollLeft()<=i(e).offset().left-t.threshold},i.leftofscreen=function(e,t){return i(window).scrollLeft()>=i(e).offset().left+i(e).width()-t.threshold},i.inviewport=function(e,t){return!(i.rightofscreen(e,t)||i.leftofscreen(e,t)||i.belowthefold(e,t)||i.abovethetop(e,t))},i.extend(i.expr[":"],{"below-the-fold":function(e,t,n){return i.belowthefold(e,{threshold:0})},"above-the-top":function(e,t,n){return i.abovethetop(e,{threshold:0})},"left-of-screen":function(e,t,n){return i.leftofscreen(e,{threshold:0})},"right-of-screen":function(e,t,n){return i.rightofscreen(e,{threshold:0})},"in-viewport":function(e,t,n){return i.inviewport(e,{threshold:0})}})}(jQuery);var knownItems=new Array;function shareCountLoadVisible(){for(var e in knownItems)void 0!==knownItems[e]&&knownItems[e].loadIfNeeded()}!function(m){m.fn.extend({shareCount:function(e){var d=m.extend({facebookElementSelector:".sc_facebook_count",twitterElementSelector:".sc_twitter_count",linkedinElementSelector:".sc_linkedin_count",gplusElementSelector:".sc_gplus_count",allElementSelector:".sc_total",allCallback:function(){},internalRequest:!1,loadOnlyVisibleElements:!0},e);function h(e){var t,n,i,o;0!=e&&void 0!==e.attr("data-facebook")&&void 0!==e.attr("data-twitter")&&void 0!==e.attr("data-linkedin")&&void 0!==e.attr("data-gplus")&&(t=e.attr("data-url"),n=parseInt(e.attr("data-facebook"),10),i=parseInt(e.attr("data-twitter"),10),o=parseInt(e.attr("data-linkedin"),10),e=parseInt(e.attr("data-gplus"),10),d.allCallback(t,n,i,o,e))}function f(e,t,n){e.html(DisplayerUtils.display(n)),e.removeClass("loading"),void(total=0)!==t.attr("count")&&(total=parseInt(t.attr("count"),10)),total+=n,t.html(DisplayerUtils.display(total)),t.removeClass("loading"),t.attr("count",total)}var p=this;this.loadIfNeeded=function(){return this.each(function(){var e,t,n,i,o,r=m(this),a=m(d.facebookElementSelector,r),s=m(d.twitterElementSelector,r),l=m(d.linkedinElementSelector,r),c=m(d.gplusElementSelector,r),u=m(d.allElementSelector,r);void 0!==r.attr("data-done")&&"false"!=r.attr("data-done")||!r.is(":in-viewport")&&d.loadOnlyVisibleElements?void 0===r.attr("data-done")||-1<(e=knownItems.indexOf(p))&&knownItems.splice(e,1):(r.attr("data-done","true"),d.internalRequest?(t=r.attr("data-url"),m.getJSON("/sn-stats?url="+encodeURIComponent(t),function(e){var t=e.facebook;void 0!==t&&(r.attr("data-facebook",t),f(a,u,t),h(r));t=e.twitter;void 0!==t&&(r.attr("data-twitter",t),f(s,u,t),h(r));t=e.linkedin;void 0!==t&&(r.attr("data-linkedin",t),f(l,u,t),h(r));e=e.googleplus;void 0!==e&&(r.attr("data-gplus",e),f(c,u,e),h(r))}).fail(function(){node.attr("data-facebook",0),callback(0),h(0)})):(i=function(e){f(a,u,e)},o=(n=r).attr("data-url"),m.getJSON("https://graph.facebook.com/?ids="+encodeURIComponent(o),function(e){var t=0;void 0!==e[o]&&e[o].hasOwnProperty("shares")&&(t=e[o].shares),n.attr("data-facebook",t),i(t),h(n)}).fail(function(){n.attr("data-facebook",0),i(0),h(0)}),t=function(e){f(s,u,e)},r.attr("data-twitter",0),t(0),h(0),t=function(e){f(l,u,e)},r.attr("data-linkedin",0),t(0),h(0),t=function(e){f(c,u,e)},r.attr("data-gplus",0),t(0),h(0)))})};p=this;return knownItems.push(p),this.loadIfNeeded()}})}(jQuery),$(window).resize(function(){shareCountLoadVisible()}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e,i;function d(){return e.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(h(e,t))return;return 1}function r(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){for(var n=[],i=0;i<e.length;++i)n.push(t(e[i],i));return n}function f(e,t){for(var n in t)h(t,n)&&(e[n]=t[n]);return h(t,"toString")&&(e.toString=t.toString),h(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,i){return At(e,t,n,i,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=m(e),n=i.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function v(e){var t=p(NaN);return null!=e?f(m(t),e):m(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var y=d.momentProperties=[],t=!1;function b(e,t){var n,i,o;if(r(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),r(t._i)||(e._i=t._i),r(t._f)||(e._f=t._f),r(t._l)||(e._l=t._l),r(t._strict)||(e._strict=t._strict),r(t._tzm)||(e._tzm=t._tzm),r(t._isUTC)||(e._isUTC=t._isUTC),r(t._offset)||(e._offset=t._offset),r(t._pf)||(e._pf=m(t)),r(t._locale)||(e._locale=t._locale),0<y.length)for(n=0;n<y.length;n++)r(o=t[i=y[n]])||(e[i]=o);return e}function x(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,d.updateOffset(this),t=!1)}function w(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function k(e){!1===d.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function n(o,r){var a=!0;return f(function(){if(null!=d.deprecationHandler&&d.deprecationHandler(null,o),a){for(var e,t,n=[],i=0;i<arguments.length;i++){if(e="","object"==typeof arguments[i]){for(t in e+="\n["+i+"] ",arguments[0])h(arguments[0],t)&&(e+=t+": "+arguments[0][t]+", ");e=e.slice(0,-2)}else e=arguments[i];n.push(e)}k(o+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),a=!1}return r.apply(this,arguments)},r)}var C,_={};function T(e,t){null!=d.deprecationHandler&&d.deprecationHandler(e,t),_[e]||(k(t),_[e]=!0)}function S(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e,t){var n,i=f({},e);for(n in t)h(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},f(i[n],e[n]),f(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)h(e,n)&&!h(t,n)&&s(e[n])&&(i[n]=f({},i[n]));return i}function A(e){null!=e&&this.set(e)}d.suppressDeprecationWarnings=!1,d.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)h(e,t)&&n.push(t);return n};function M(e,t,n){var i=""+Math.abs(e),t=t-i.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t)).toString().substr(1)+i}var E=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,P={},I={};function R(e,t,n,i){var o="string"==typeof i?function(){return this[i]()}:i;e&&(I[e]=o),t&&(I[t[0]]=function(){return M(o.apply(this,arguments),t[1],t[2])}),n&&(I[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function O(e,t){return e.isValid()?(t=L(t,e.localeData()),P[t]=P[t]||function(i){for(var e,o=i.match(E),t=0,r=o.length;t<r;t++)I[o[t]]?o[t]=I[o[t]]:o[t]=(e=o[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",n=0;n<r;n++)t+=S(o[n])?o[n].call(e,i):o[n];return t}}(t),P[t](e)):e.localeData().invalidDate()}function L(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(N.lastIndex=0;0<=n&&N.test(e);)e=e.replace(N,i),N.lastIndex=0,--n;return e}var B={};function H(e,t){var n=e.toLowerCase();B[n]=B[n+"s"]=B[t]=e}function z(e){return"string"==typeof e?B[e]||B[e.toLowerCase()]:void 0}function j(e){var t,n,i={};for(n in e)h(e,n)&&(t=z(n))&&(i[t]=e[n]);return i}var F={};function W(e,t){F[e]=t}function $(e){return e%4==0&&e%100!=0||e%400==0}function U(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Y(e){var t=+e,e=0;return 0!=t&&isFinite(t)&&(e=U(t)),e}function q(t,n){return function(e){return null!=e?(G(this,t,e),d.updateOffset(this,n),this):V(this,t)}}function V(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function G(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&$(e.year())&&1===e.month()&&29===e.date()?(n=Y(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ae(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var Q,X=/\d/,K=/\d\d/,Z=/\d{3}/,J=/\d{4}/,ee=/[+-]?\d{6}/,te=/\d\d?/,ne=/\d\d\d\d?/,ie=/\d\d\d\d\d\d?/,oe=/\d{1,3}/,re=/\d{1,4}/,ae=/[+-]?\d{1,6}/,se=/\d+/,le=/[+-]?\d+/,ce=/Z|[+-]\d\d:?\d\d/gi,ue=/Z|[+-]\d\d(?::?\d\d)?/gi,de=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function he(e,n,i){Q[e]=S(n)?n:function(e,t){return e&&i?i:n}}function fe(e,t){return h(Q,e)?Q[e](t._strict,t._locale):new RegExp(pe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,o){return t||n||i||o})))}function pe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Q={};var me={};function ge(e,n){var t,i=n;for("string"==typeof e&&(e=[e]),c(n)&&(i=function(e,t){t[n]=Y(e)}),t=0;t<e.length;t++)me[e[t]]=i}function ve(e,o){ge(e,function(e,t,n,i){n._w=n._w||{},o(e,n._w,n,i)})}var ye,be=0,xe=1,we=2,ke=3,Ce=4,_e=5,Te=6,Se=7,De=8;function Ae(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,n=(t%(n=12)+n)%n;return e+=(t-n)/12,1==n?$(e)?29:28:31-n%7%2}ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),R("MMMM",0,0,function(e){return this.localeData().months(this,e)}),H("month","M"),W("month",8),he("M",te),he("MM",te,K),he("MMM",function(e,t){return t.monthsShortRegex(e)}),he("MMMM",function(e,t){return t.monthsRegex(e)}),ge(["M","MM"],function(e,t){t[xe]=Y(e)-1}),ge(["MMM","MMMM"],function(e,t,n,i){i=n._locale.monthsParse(e,i,n._strict);null!=i?t[xe]=i:m(n).invalidMonth=e});var Me="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ne=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pe=de,Ie=de;function Re(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=Y(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ae(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Oe(e){return null!=e?(Re(this,e),d.updateOffset(this,!0),this):V(this,"Month")}function Le(){function e(e,t){return t.length-e.length}for(var t,n=[],i=[],o=[],r=0;r<12;r++)t=p([2e3,r]),n.push(this.monthsShort(t,"")),i.push(this.months(t,"")),o.push(this.months(t,"")),o.push(this.monthsShort(t,""));for(n.sort(e),i.sort(e),o.sort(e),r=0;r<12;r++)n[r]=pe(n[r]),i[r]=pe(i[r]);for(r=0;r<24;r++)o[r]=pe(o[r]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Be(e){return $(e)?366:365}R("Y",0,0,function(){var e=this.year();return e<=9999?M(e,4):"+"+e}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),H("year","y"),W("year",1),he("Y",le),he("YY",te,K),he("YYYY",re,J),he("YYYYY",ae,ee),he("YYYYYY",ae,ee),ge(["YYYYY","YYYYYY"],be),ge("YYYY",function(e,t){t[be]=2===e.length?d.parseTwoDigitYear(e):Y(e)}),ge("YY",function(e,t){t[be]=d.parseTwoDigitYear(e)}),ge("Y",function(e,t){t[be]=parseInt(e,10)}),d.parseTwoDigitYear=function(e){return Y(e)+(68<Y(e)?1900:2e3)};var He=q("FullYear",!0);function ze(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function je(e,t,n){n=7+t-n;return n-(7+ze(e,0,n).getUTCDay()-t)%7-1}function Fe(e,t,n,i,o){var r,o=1+7*(t-1)+(7+n-i)%7+je(e,i,o),o=o<=0?Be(r=e-1)+o:o>Be(e)?(r=e+1,o-Be(e)):(r=e,o);return{year:r,dayOfYear:o}}function We(e,t,n){var i,o,r=je(e.year(),t,n),r=Math.floor((e.dayOfYear()-r-1)/7)+1;return r<1?i=r+$e(o=e.year()-1,t,n):r>$e(e.year(),t,n)?(i=r-$e(e.year(),t,n),o=e.year()+1):(o=e.year(),i=r),{week:i,year:o}}function $e(e,t,n){var i=je(e,t,n),n=je(e+1,t,n);return(Be(e)-i+n)/7}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),H("week","w"),H("isoWeek","W"),W("week",5),W("isoWeek",5),he("w",te),he("ww",te,K),he("W",te),he("WW",te,K),ve(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=Y(e)});function Ue(e,t){return e.slice(t,7).concat(e.slice(0,t))}R("d",0,"do","day"),R("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),R("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),R("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),H("day","d"),H("weekday","e"),H("isoWeekday","E"),W("day",11),W("weekday",11),W("isoWeekday",11),he("d",te),he("e",te),he("E",te),he("dd",function(e,t){return t.weekdaysMinRegex(e)}),he("ddd",function(e,t){return t.weekdaysShortRegex(e)}),he("dddd",function(e,t){return t.weekdaysRegex(e)}),ve(["dd","ddd","dddd"],function(e,t,n,i){i=n._locale.weekdaysParse(e,i,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e}),ve(["d","e","E"],function(e,t,n,i){t[i]=Y(e)});var Ye="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ve="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ge=de,Qe=de,Xe=de;function Ke(){function e(e,t){return t.length-e.length}for(var t,n,i,o=[],r=[],a=[],s=[],l=0;l<7;l++)i=p([2e3,1]).day(l),t=pe(this.weekdaysMin(i,"")),n=pe(this.weekdaysShort(i,"")),i=pe(this.weekdays(i,"")),o.push(t),r.push(n),a.push(i),s.push(t),s.push(n),s.push(i);o.sort(e),r.sort(e),a.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Ze(){return this.hours()%12||12}function Je(e,t){R(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function et(e,t){return t._meridiemParse}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,Ze),R("k",["kk",2],0,function(){return this.hours()||24}),R("hmm",0,0,function(){return""+Ze.apply(this)+M(this.minutes(),2)}),R("hmmss",0,0,function(){return""+Ze.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)}),R("Hmm",0,0,function(){return""+this.hours()+M(this.minutes(),2)}),R("Hmmss",0,0,function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)}),Je("a",!0),Je("A",!1),H("hour","h"),W("hour",13),he("a",et),he("A",et),he("H",te),he("h",te),he("k",te),he("HH",te,K),he("hh",te,K),he("kk",te,K),he("hmm",ne),he("hmmss",ie),he("Hmm",ne),he("Hmmss",ie),ge(["H","HH"],ke),ge(["k","kk"],function(e,t,n){e=Y(e);t[ke]=24===e?0:e}),ge(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ge(["h","hh"],function(e,t,n){t[ke]=Y(e),m(n).bigHour=!0}),ge("hmm",function(e,t,n){var i=e.length-2;t[ke]=Y(e.substr(0,i)),t[Ce]=Y(e.substr(i)),m(n).bigHour=!0}),ge("hmmss",function(e,t,n){var i=e.length-4,o=e.length-2;t[ke]=Y(e.substr(0,i)),t[Ce]=Y(e.substr(i,2)),t[_e]=Y(e.substr(o)),m(n).bigHour=!0}),ge("Hmm",function(e,t,n){var i=e.length-2;t[ke]=Y(e.substr(0,i)),t[Ce]=Y(e.substr(i))}),ge("Hmmss",function(e,t,n){var i=e.length-4,o=e.length-2;t[ke]=Y(e.substr(0,i)),t[Ce]=Y(e.substr(i,2)),t[_e]=Y(e.substr(o))});var tt=q("Hours",!0);var nt,it={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Me,monthsShort:Ee,week:{dow:0,doy:6},weekdays:Ye,weekdaysMin:Ve,weekdaysShort:qe,meridiemParse:/[ap]\.?m?\.?/i},ot={},rt={};function at(e){return e?e.toLowerCase().replace("_","-"):e}function st(e){for(var t,n,i,o,r=0;r<e.length;){for(t=(o=at(e[r]).split("-")).length,n=(n=at(e[r+1]))?n.split("-"):null;0<t;){if(i=lt(o.slice(0,t).join("-")))return i;if(n&&n.length>=t&&function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}(o,n)>=t-1)break;t--}r++}return nt}function lt(t){var e;if(void 0===ot[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=nt._abbr,require("./locale/"+t),ct(e)}catch(e){ot[t]=null}return ot[t]}function ct(e,t){return e&&((t=r(t)?dt(e):ut(e,t))?nt=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),nt._abbr}function ut(e,t){if(null===t)return delete ot[e],null;var n,i=it;if(t.abbr=e,null!=ot[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ot[e]._config;else if(null!=t.parentLocale)if(null!=ot[t.parentLocale])i=ot[t.parentLocale]._config;else{if(null==(n=lt(t.parentLocale)))return rt[t.parentLocale]||(rt[t.parentLocale]=[]),rt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return ot[e]=new A(D(i,t)),rt[e]&&rt[e].forEach(function(e){ut(e.name,e.config)}),ct(e),ot[e]}function dt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return nt;if(!a(e)){if(t=lt(e))return t;e=[e]}return st(e)}function ht(e){var t=e._a;return t&&-2===m(e).overflow&&(t=t[xe]<0||11<t[xe]?xe:t[we]<1||t[we]>Ae(t[be],t[xe])?we:t[ke]<0||24<t[ke]||24===t[ke]&&(0!==t[Ce]||0!==t[_e]||0!==t[Te])?ke:t[Ce]<0||59<t[Ce]?Ce:t[_e]<0||59<t[_e]?_e:t[Te]<0||999<t[Te]?Te:-1,m(e)._overflowDayOfYear&&(t<be||we<t)&&(t=we),m(e)._overflowWeeks&&-1===t&&(t=Se),m(e)._overflowWeekday&&-1===t&&(t=De),m(e).overflow=t),e}var ft=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/Z|[+-]\d\d(?::?\d\d)?/,gt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],vt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yt=/^\/?Date\((-?\d+)/i,bt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wt(e){var t,n,i,o,r,a,s=e._i,l=ft.exec(s)||pt.exec(s);if(l){for(m(e).iso=!0,t=0,n=gt.length;t<n;t++)if(gt[t][1].exec(l[1])){o=gt[t][0],i=!1!==gt[t][2];break}if(null!=o){if(l[3]){for(t=0,n=vt.length;t<n;t++)if(vt[t][1].exec(l[3])){r=(l[2]||" ")+vt[t][0];break}if(null==r)return void(e._isValid=!1)}if(i||null==r){if(l[4]){if(!mt.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=o+(r||"")+(a||""),St(e)}else e._isValid=!1}else e._isValid=!1}else e._isValid=!1}function kt(e,t,n,i,o,r){o=[function(e){e=parseInt(e,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(e),Ee.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(o,10)];return r&&o.push(parseInt(r,10)),o}function Ct(e){var t,n,i,o,r=bt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));r?(t=kt(r[4],r[3],r[2],r[5],r[6],r[7]),n=r[1],i=t,o=e,n&&qe.indexOf(n)!==new Date(i[0],i[1],i[2]).getDay()?(m(o).weekdayMismatch=!0,o._isValid=!1):(e._a=t,e._tzm=(o=r[8],t=r[9],r=r[10],o?xt[o]:t?0:60*(((t=parseInt(r,10))-(r=t%100))/100)+r),e._d=ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0)):e._isValid=!1}function _t(e,t,n){return null!=e?e:null!=t?t:n}function Tt(e){var t,n,i,o,r,a=[];if(!e._d){for(o=e,r=new Date(d.now()),n=o._useUTC?[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()]:[r.getFullYear(),r.getMonth(),r.getDate()],e._w&&null==e._a[we]&&null==e._a[xe]&&function(e){var t,n,i,o,r,a,s,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(r=1,a=4,n=_t(t.GG,e._a[be],We(Mt(),1,4).year),i=_t(t.W,1),((o=_t(t.E,1))<1||7<o)&&(s=!0)):(r=e._locale._week.dow,a=e._locale._week.doy,l=We(Mt(),r,a),n=_t(t.gg,e._a[be],l.year),i=_t(t.w,l.week),null!=t.d?((o=t.d)<0||6<o)&&(s=!0):null!=t.e?(o=t.e+r,(t.e<0||6<t.e)&&(s=!0)):o=r);i<1||i>$e(n,r,a)?m(e)._overflowWeeks=!0:null!=s?m(e)._overflowWeekday=!0:(a=Fe(n,i,o,r,a),e._a[be]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(i=_t(e._a[be],n[be]),(e._dayOfYear>Be(i)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),i=ze(i,0,e._dayOfYear),e._a[xe]=i.getUTCMonth(),e._a[we]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=n[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ke]&&0===e._a[Ce]&&0===e._a[_e]&&0===e._a[Te]&&(e._nextDay=!0,e._a[ke]=0),e._d=(e._useUTC?ze:function(e,t,n,i,o,r,a){var s;return e<100&&0<=e?(s=new Date(e+400,t,n,i,o,r,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,o,r,a),s}).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ke]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function St(e){if(e._f!==d.ISO_8601)if(e._f!==d.RFC_2822){e._a=[],m(e).empty=!0;for(var t,n,i,o,r,a=""+e._i,s=a.length,l=0,c=L(e._f,e._locale).match(E)||[],u=0;u<c.length;u++)n=c[u],(t=(a.match(fe(n,e))||[])[0])&&(0<(o=a.substr(0,a.indexOf(t))).length&&m(e).unusedInput.push(o),a=a.slice(a.indexOf(t)+t.length),l+=t.length),I[n]?(t?m(e).empty=!1:m(e).unusedTokens.push(n),i=n,r=e,null!=(o=t)&&h(me,i)&&me[i](o,r._a,r,i)):e._strict&&!t&&m(e).unusedTokens.push(n);m(e).charsLeftOver=s-l,0<a.length&&m(e).unusedInput.push(a),e._a[ke]<=12&&!0===m(e).bigHour&&0<e._a[ke]&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[ke]=function(e,t,n){if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((n=e.isPM(n))&&t<12&&(t+=12),n||12!==t||(t=0)),t)}(e._locale,e._a[ke],e._meridiem),null!==(s=m(e).era)&&(e._a[be]=e._locale.erasConvertYear(s,e._a[be])),Tt(e),ht(e)}else Ct(e);else wt(e)}function Dt(e){var t=e._i,n=e._f;return e._locale=e._locale||dt(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new x(ht(t)):(o(t)?e._d=t:a(n)?function(e){var t,n,i,o,r,a,s=!1;if(0===e._f.length)return m(e).invalidFormat=!0,e._d=new Date(NaN);for(o=0;o<e._f.length;o++)r=0,a=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],St(t),g(t)&&(a=!0),r+=m(t).charsLeftOver,r+=10*m(t).unusedTokens.length,m(t).score=r,s?r<i&&(i=r,n=t):(null==i||r<i||a)&&(i=r,n=t,a&&(s=!0));f(e,n||t)}(e):n?St(e):r(n=(t=e)._i)?t._d=new Date(d.now()):o(n)?t._d=new Date(n.valueOf()):"string"==typeof n?function(e){var t=yt.exec(e._i);null===t?(wt(e),!1===e._isValid&&(delete e._isValid,Ct(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:d.createFromInputFallback(e)))):e._d=new Date(+t[1])}(t):a(n)?(t._a=u(n.slice(0),function(e){return parseInt(e,10)}),Tt(t)):s(n)?function(e){var t,n;e._d||(n=void 0===(t=j(e._i)).day?t.date:t.day,e._a=u([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Tt(e))}(t):c(n)?t._d=new Date(n):d.createFromInputFallback(t),g(e)||(e._d=null),e))}function At(e,t,n,i,o){var r={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(s(e)&&l(e)||a(e)&&0===e.length)&&(e=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=o,r._l=n,r._i=e,r._f=t,r._strict=i,(r=new x(ht(Dt(r=r))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function Mt(e,t,n,i){return At(e,t,n,i,!1)}d.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),d.ISO_8601=function(){},d.RFC_2822=function(){};var Et=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Mt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),Nt=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Mt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:v()});function Pt(e,t){var n,i;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Mt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var It=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Rt(e){var t=j(e),n=t.year||0,i=t.quarter||0,o=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,e=t.millisecond||0;this._isValid=function(e){var t,n,i=!1;for(t in e)if(h(e,t)&&(-1===ye.call(It,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<It.length;++n)if(e[It[n]]){if(i)return!1;parseFloat(e[It[n]])!==Y(e[It[n]])&&(i=!0)}return!0}(t),this._milliseconds=+e+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=dt(),this._bubble()}function Ot(e){return e instanceof Rt}function Lt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Bt(e,n){R(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+M(~~(e/60),2)+n+M(~~e%60,2)})}Bt("Z",":"),Bt("ZZ",""),he("Z",ue),he("ZZ",ue),ge(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=zt(ue,e)});var Ht=/([\+\-]|\d\d)/gi;function zt(e,t){t=(t||"").match(e);return null===t?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(Ht)||["-",0,0])[1]+Y(e[2]))?0:"+"===e[0]?t:-t}function jt(e,t){var n;return t._isUTC?(n=t.clone(),t=(w(e)||o(e)?e:Mt(e)).valueOf()-n.valueOf(),n._d.setTime(n._d.valueOf()+t),d.updateOffset(n,!1),n):Mt(e).local()}function Ft(e){return-Math.round(e._d.getTimezoneOffset())}function Wt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}d.updateOffset=function(){};var $t=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ut=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Yt(e,t){var n,i=e,o=null;return Ot(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(o=$t.exec(e))?(n="-"===o[1]?-1:1,i={y:0,d:Y(o[we])*n,h:Y(o[ke])*n,m:Y(o[Ce])*n,s:Y(o[_e])*n,ms:Y(Lt(1e3*o[Te]))*n}):(o=Ut.exec(e))?(n="-"===o[1]?-1:1,i={y:qt(o[2],n),M:qt(o[3],n),w:qt(o[4],n),d:qt(o[5],n),h:qt(o[6],n),m:qt(o[7],n),s:qt(o[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(n=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=jt(t,e),e.isBefore(t)?n=Vt(e,t):((n=Vt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Mt(i.from),Mt(i.to)),(i={}).ms=n.milliseconds,i.M=n.months),i=new Rt(i),Ot(e)&&h(e,"_locale")&&(i._locale=e._locale),Ot(e)&&h(e,"_isValid")&&(i._isValid=e._isValid),i}function qt(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function Vt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Gt(i,o){return function(e,t){var n;return null===t||isNaN(+t)||(T(o,"moment()."+o+"(period, number) is deprecated. Please use moment()."+o+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),Qt(this,Yt(e,t),i),this}}function Qt(e,t,n,i){var o=t._milliseconds,r=Lt(t._days),t=Lt(t._months);e.isValid()&&(i=null==i||i,t&&Re(e,V(e,"Month")+t*n),r&&G(e,"Date",V(e,"Date")+r*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&d.updateOffset(e,r||t))}Yt.fn=Rt.prototype,Yt.invalid=function(){return Yt(NaN)};var Xt=Gt(1,"add"),de=Gt(-1,"subtract");function Kt(e){return"string"==typeof e||e instanceof String}function Zt(e){return w(e)||o(e)||Kt(e)||c(e)||function(t){var e=a(t),n=!1;e&&(n=0===t.filter(function(e){return!c(e)&&Kt(t)}).length);return e&&n}(e)||function(e){var t,n,i=s(e)&&!l(e),o=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<r.length;t+=1)n=r[t],o=o||h(e,n);return i&&o}(e)||null==e}function Jt(e,t){if(e.date()<t.date())return-Jt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months"),i=t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(1+n,"months")-i);return-(n+i)||0}function en(e){return void 0===e?this._locale._abbr:(null!=(e=dt(e))&&(this._locale=e),this)}d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",d.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";ne=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function tn(){return this._locale}var nn=126227808e5;function on(e,t){return(e%t+t)%t}function rn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-nn:new Date(e,t,n).valueOf()}function an(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-nn:Date.UTC(e,t,n)}function sn(e,t){return t.erasAbbrRegex(e)}function ln(){for(var e=[],t=[],n=[],i=[],o=this.eras(),r=0,a=o.length;r<a;++r)t.push(pe(o[r].name)),e.push(pe(o[r].abbr)),n.push(pe(o[r].narrow)),i.push(pe(o[r].name)),i.push(pe(o[r].abbr)),i.push(pe(o[r].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function cn(e,t){R(0,[e,e.length],0,t)}function un(e,t,n,i,o){var r;return null==e?We(this,i,o).year:((r=$e(e,i,o))<t&&(t=r),function(e,t,n,i,o){o=Fe(e,t,n,i,o),o=ze(o.year,0,o.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,e,t,n,i,o))}R("N",0,0,"eraAbbr"),R("NN",0,0,"eraAbbr"),R("NNN",0,0,"eraAbbr"),R("NNNN",0,0,"eraName"),R("NNNNN",0,0,"eraNarrow"),R("y",["y",1],"yo","eraYear"),R("y",["yy",2],0,"eraYear"),R("y",["yyy",3],0,"eraYear"),R("y",["yyyy",4],0,"eraYear"),he("N",sn),he("NN",sn),he("NNN",sn),he("NNNN",function(e,t){return t.erasNameRegex(e)}),he("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),ge(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,i){i=n._locale.erasParse(e,i,n._strict);i?m(n).era=i:m(n).invalidEra=e}),he("y",se),he("yy",se),he("yyy",se),he("yyyy",se),he("yo",function(e,t){return t._eraYearOrdinalRegex||se}),ge(["y","yy","yyy","yyyy"],be),ge(["yo"],function(e,t,n,i){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[be]=n._locale.eraYearOrdinalParse(e,o):t[be]=parseInt(e,10)}),R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),cn("gggg","weekYear"),cn("ggggg","weekYear"),cn("GGGG","isoWeekYear"),cn("GGGGG","isoWeekYear"),H("weekYear","gg"),H("isoWeekYear","GG"),W("weekYear",1),W("isoWeekYear",1),he("G",le),he("g",le),he("GG",te,K),he("gg",te,K),he("GGGG",re,J),he("gggg",re,J),he("GGGGG",ae,ee),he("ggggg",ae,ee),ve(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=Y(e)}),ve(["gg","GG"],function(e,t,n,i){t[i]=d.parseTwoDigitYear(e)}),R("Q",0,"Qo","quarter"),H("quarter","Q"),W("quarter",7),he("Q",X),ge("Q",function(e,t){t[xe]=3*(Y(e)-1)}),R("D",["DD",2],"Do","date"),H("date","D"),W("date",9),he("D",te),he("DD",te,K),he("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ge(["D","DD"],we),ge("Do",function(e,t){t[we]=Y(e.match(te)[0])});ie=q("Date",!0);R("DDD",["DDDD",3],"DDDo","dayOfYear"),H("dayOfYear","DDD"),W("dayOfYear",4),he("DDD",oe),he("DDDD",Z),ge(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Y(e)}),R("m",["mm",2],0,"minute"),H("minute","m"),W("minute",14),he("m",te),he("mm",te,K),ge(["m","mm"],Ce);Me=q("Minutes",!1);R("s",["ss",2],0,"second"),H("second","s"),W("second",15),he("s",te),he("ss",te,K),ge(["s","ss"],_e);var dn,Ye=q("Seconds",!1);for(R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,function(){return 10*this.millisecond()}),R(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),R(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),R(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),R(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),R(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),H("millisecond","ms"),W("millisecond",16),he("S",oe,X),he("SS",oe,K),he("SSS",oe,Z),dn="SSSS";dn.length<=9;dn+="S")he(dn,se);function hn(e,t){t[Te]=Y(1e3*("0."+e))}for(dn="S";dn.length<=9;dn+="S")ge(dn,hn);Ve=q("Milliseconds",!1),R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");re=x.prototype;function fn(e){return e}re.add=Xt,re.calendar=function(e,t){1===arguments.length&&(arguments[0]?Zt(arguments[0])?(e=arguments[0],t=void 0):function(e){for(var t=s(e)&&!l(e),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o=0;o<i.length;o+=1)n=n||h(e,i[o]);return t&&n}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var n=e||Mt(),e=jt(n,this).startOf("day"),e=d.calendarFormat(this,e)||"sameElse",t=t&&(S(t[e])?t[e].call(this,n):t[e]);return this.format(t||this.localeData().calendar(e,this,Mt(n)))},re.clone=function(){return new x(this)},re.diff=function(e,t,n){var i,o;if(!this.isValid())return NaN;if(!(i=jt(e,this)).isValid())return NaN;switch(e=6e4*(i.utcOffset()-this.utcOffset()),t=z(t)){case"year":o=Jt(this,i)/12;break;case"month":o=Jt(this,i);break;case"quarter":o=Jt(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-e)/864e5;break;case"week":o=(this-i-e)/6048e5;break;default:o=this-i}return n?o:U(o)},re.endOf=function(e){var t,n;if(void 0===(e=z(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?an:rn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-on(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-on(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-on(t,1e3)-1}return this._d.setTime(t),d.updateOffset(this,!0),this},re.format=function(e){return e=e||(this.isUtc()?d.defaultFormatUtc:d.defaultFormat),e=O(this,e),this.localeData().postformat(e)},re.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Mt(e).isValid())?Yt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},re.fromNow=function(e){return this.from(Mt(),e)},re.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Mt(e).isValid())?Yt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},re.toNow=function(e){return this.to(Mt(),e)},re.get=function(e){return S(this[e=z(e)])?this[e]():this},re.invalidAt=function(){return m(this).overflow},re.isAfter=function(e,t){return e=w(e)?e:Mt(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=z(t)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},re.isBefore=function(e,t){return e=w(e)?e:Mt(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=z(t)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},re.isBetween=function(e,t,n,i){return e=w(e)?e:Mt(e),t=w(t)?t:Mt(t),!!(this.isValid()&&e.isValid()&&t.isValid())&&(("("===(i=i||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n)))},re.isSame=function(e,t){return e=w(e)?e:Mt(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=z(t)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},re.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},re.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},re.isValid=function(){return g(this)},re.lang=ne,re.locale=en,re.localeData=tn,re.max=Nt,re.min=Et,re.parsingFlags=function(){return f({},m(this))},re.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)h(e,t)&&n.push({unit:t,priority:F[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=j(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(S(this[e=z(e)]))return this[e](t);return this},re.startOf=function(e){var t,n;if(void 0===(e=z(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?an:rn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=on(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=on(t,6e4);break;case"second":t=this._d.valueOf(),t-=on(t,1e3)}return this._d.setTime(t),d.updateOffset(this,!0),this},re.subtract=de,re.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},re.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},re.toDate=function(){return new Date(this.valueOf())},re.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e;return(e=t?this.clone().utc():this).year()<0||9999<e.year()?O(e,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",O(e,"Z")):O(e,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},re.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t="moment",n="";return this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),e="["+t+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=n+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(re[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),re.toJSON=function(){return this.isValid()?this.toISOString():null},re.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},re.unix=function(){return Math.floor(this.valueOf()/1e3)},re.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},re.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},re.eraName=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].name;if(t[n].until<=e&&e<=t[n].since)return t[n].name}return""},re.eraNarrow=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].narrow;if(t[n].until<=e&&e<=t[n].since)return t[n].narrow}return""},re.eraAbbr=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].abbr;if(t[n].until<=e&&e<=t[n].since)return t[n].abbr}return""},re.eraYear=function(){for(var e,t,n=this.localeData().eras(),i=0,o=n.length;i<o;++i)if(e=n[i].since<=n[i].until?1:-1,t=this.clone().startOf("day").valueOf(),n[i].since<=t&&t<=n[i].until||n[i].until<=t&&t<=n[i].since)return(this.year()-d(n[i].since).year())*e+n[i].offset;return this.year()},re.year=He,re.isLeapYear=function(){return $(this.year())},re.weekYear=function(e){return un.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},re.isoWeekYear=function(e){return un.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},re.quarter=re.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},re.month=Oe,re.daysInMonth=function(){return Ae(this.year(),this.month())},re.week=re.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},re.isoWeek=re.isoWeeks=function(e){var t=We(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},re.weeksInYear=function(){var e=this.localeData()._week;return $e(this.year(),e.dow,e.doy)},re.weeksInWeekYear=function(){var e=this.localeData()._week;return $e(this.weekYear(),e.dow,e.doy)},re.isoWeeksInYear=function(){return $e(this.year(),1,4)},re.isoWeeksInISOWeekYear=function(){return $e(this.isoWeekYear(),1,4)},re.date=ie,re.day=re.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-i,"d")):i},re.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},re.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t=(t=e,e=this.localeData(),"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?t:t-7)},re.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},re.hour=re.hours=tt,re.minute=re.minutes=Me,re.second=re.seconds=Ye,re.millisecond=re.milliseconds=Ve,re.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?o:Ft(this);if("string"==typeof e){if(null===(e=zt(ue,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=Ft(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Qt(this,Yt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,d.updateOffset(this,!0),this._changeInProgress=null)),this},re.utc=function(e){return this.utcOffset(0,e)},re.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ft(this),"m")),this},re.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=zt(ce,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},re.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Mt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},re.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},re.isLocal=function(){return!!this.isValid()&&!this._isUTC},re.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},re.isUtc=Wt,re.isUTC=Wt,re.zoneAbbr=function(){return this._isUTC?"UTC":""},re.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},re.dates=n("dates accessor is deprecated. Use date instead.",ie),re.months=n("months accessor is deprecated. Use month instead",Oe),re.years=n("years accessor is deprecated. Use year instead",He),re.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),re.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!r(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=Dt(t))._a?(e=(t._isUTC?p:Mt)(t._a),this._isDSTShifted=this.isValid()&&0<function(e,t,n){for(var i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),r=0,a=0;a<i;a++)(n&&e[a]!==t[a]||!n&&Y(e[a])!==Y(t[a]))&&r++;return r+o}(t._a,e.toArray())):this._isDSTShifted=!1,this._isDSTShifted});J=A.prototype;function pn(e,t,n,i){var o=dt(),t=p().set(i,t);return o[n](t,e)}function mn(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return pn(e,t,n,"month");for(var i=[],o=0;o<12;o++)i[o]=pn(e,o,n,"month");return i}function gn(e,t,n,i){t=("boolean"==typeof e?c(t)&&(n=t,t=void 0):(t=e,e=!1,c(n=t)&&(n=t,t=void 0)),t||"");var o,r=dt(),a=e?r._week.dow:0,s=[];if(null!=n)return pn(t,(n+a)%7,i,"day");for(o=0;o<7;o++)s[o]=pn(t,(o+a)%7,i,"day");return s}J.calendar=function(e,t,n){return S(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},J.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(E).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},J.invalidDate=function(){return this._invalidDate},J.ordinal=function(e){return this._ordinal.replace("%d",e)},J.preparse=fn,J.postformat=fn,J.relativeTime=function(e,t,n,i){var o=this._relativeTime[n];return S(o)?o(e,t,n,i):o.replace(/%d/i,e)},J.pastFuture=function(e,t){return S(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},J.set=function(e){var t,n;for(n in e)h(e,n)&&(S(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},J.eras=function(e,t){for(var n,i=this._eras||dt("en")._eras,o=0,r=i.length;o<r;++o)switch("string"==typeof i[o].since&&(n=d(i[o].since).startOf("day"),i[o].since=n.valueOf()),typeof i[o].until){case"undefined":i[o].until=1/0;break;case"string":n=d(i[o].until).startOf("day").valueOf(),i[o].until=n.valueOf()}return i},J.erasParse=function(e,t,n){var i,o,r,a,s,l=this.eras();for(e=e.toUpperCase(),i=0,o=l.length;i<o;++i)if(r=l[i].name.toUpperCase(),a=l[i].abbr.toUpperCase(),s=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return l[i];break;case"NNNN":if(r===e)return l[i];break;case"NNNNN":if(s===e)return l[i]}else if(0<=[r,a,s].indexOf(e))return l[i]},J.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?d(e.since).year():d(e.since).year()+(t-e.offset)*n},J.erasAbbrRegex=function(e){return h(this,"_erasAbbrRegex")||ln.call(this),e?this._erasAbbrRegex:this._erasRegex},J.erasNameRegex=function(e){return h(this,"_erasNameRegex")||ln.call(this),e?this._erasNameRegex:this._erasRegex},J.erasNarrowRegex=function(e){return h(this,"_erasNarrowRegex")||ln.call(this),e?this._erasNarrowRegex:this._erasRegex},J.months=function(e,t){return e?(a(this._months)?this._months:this._months[(this._months.isFormat||Ne).test(t)?"format":"standalone"])[e.month()]:a(this._months)?this._months:this._months.standalone},J.monthsShort=function(e,t){return e?(a(this._monthsShort)?this._monthsShort:this._monthsShort[Ne.test(t)?"format":"standalone"])[e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},J.monthsParse=function(e,t,n){var i,o;if(this._monthsParseExact)return function(e,t,n){var i,o,r,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=ye.call(this._shortMonthsParse,e))?o:null:-1!==(o=ye.call(this._longMonthsParse,e))?o:null:"MMM"===t?-1!==(o=ye.call(this._shortMonthsParse,e))||-1!==(o=ye.call(this._longMonthsParse,e))?o:null:-1!==(o=ye.call(this._longMonthsParse,e))||-1!==(o=ye.call(this._shortMonthsParse,e))?o:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},J.monthsRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Le.call(this),e?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Ie),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},J.monthsShortRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Le.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=Pe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},J.week=function(e){return We(e,this._week.dow,this._week.doy).week},J.firstDayOfYear=function(){return this._week.doy},J.firstDayOfWeek=function(){return this._week.dow},J.weekdays=function(e,t){return t=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"],!0===e?Ue(t,this._week.dow):e?t[e.day()]:t},J.weekdaysMin=function(e){return!0===e?Ue(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},J.weekdaysShort=function(e){return!0===e?Ue(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},J.weekdaysParse=function(e,t,n){var i,o;if(this._weekdaysParseExact)return function(e,t,n){var i,o,r,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=ye.call(this._weekdaysParse,e))?o:null:"ddd"===t?-1!==(o=ye.call(this._shortWeekdaysParse,e))?o:null:-1!==(o=ye.call(this._minWeekdaysParse,e))?o:null:"dddd"===t?-1!==(o=ye.call(this._weekdaysParse,e))||-1!==(o=ye.call(this._shortWeekdaysParse,e))||-1!==(o=ye.call(this._minWeekdaysParse,e))?o:null:"ddd"===t?-1!==(o=ye.call(this._shortWeekdaysParse,e))||-1!==(o=ye.call(this._weekdaysParse,e))||-1!==(o=ye.call(this._minWeekdaysParse,e))?o:null:-1!==(o=ye.call(this._minWeekdaysParse,e))||-1!==(o=ye.call(this._weekdaysParse,e))||-1!==(o=ye.call(this._shortWeekdaysParse,e))?o:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},J.weekdaysRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Ge),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},J.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},J.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},J.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},J.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ct("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Y(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),d.lang=n("moment.lang is deprecated. Use moment.locale instead.",ct),d.langData=n("moment.langData is deprecated. Use moment.localeData instead.",dt);var vn=Math.abs;function yn(e,t,n,i){n=Yt(t,n);return e._milliseconds+=i*n._milliseconds,e._days+=i*n._days,e._months+=i*n._months,e._bubble()}function bn(e){return e<0?Math.floor(e):Math.ceil(e)}function xn(e){return 4800*e/146097}function wn(e){return 146097*e/4800}function kn(e){return function(){return this.as(e)}}ae=kn("ms"),ee=kn("s"),X=kn("m"),K=kn("h"),oe=kn("d"),Z=kn("w"),Xt=kn("M"),Nt=kn("Q"),Et=kn("y");function Cn(e){return function(){return this.isValid()?this._data[e]:NaN}}de=Cn("milliseconds"),tt=Cn("seconds"),Me=Cn("minutes"),Ye=Cn("hours"),Ve=Cn("days"),ie=Cn("months"),He=Cn("years");var _n=Math.round,Tn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Sn(e,t,n,i){var o=Yt(e).abs(),r=_n(o.as("s")),a=_n(o.as("m")),s=_n(o.as("h")),l=_n(o.as("d")),c=_n(o.as("M")),u=_n(o.as("w")),o=_n(o.as("y")),l=(r<=n.ss?["s",r]:r<n.s&&["ss",r])||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(l=l||u<=1&&["w"]||u<n.w&&["ww",u]),(l=l||c<=1&&["M"]||c<n.M&&["MM",c]||o<=1&&["y"]||["yy",o])[2]=t,l[3]=0<+e,l[4]=i,function(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}.apply(null,l)}var Dn=Math.abs;function An(e){return(0<e)-(e<0)||+e}function Mn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,o,r,a,s=Dn(this._milliseconds)/1e3,l=Dn(this._days),c=Dn(this._months),u=this.asSeconds();return u?(e=U(s/60),t=U(e/60),s%=60,e%=60,n=U(c/12),c%=12,i=s?s.toFixed(3).replace(/\.?0+$/,""):"",o=u<0?"-":"",r=An(this._months)!==An(u)?"-":"",a=An(this._days)!==An(u)?"-":"",u=An(this._milliseconds)!==An(u)?"-":"",o+"P"+(n?r+n+"Y":"")+(c?r+c+"M":"")+(l?a+l+"D":"")+(t||e||s?"T":"")+(t?u+t+"H":"")+(e?u+e+"M":"")+(s?u+i+"S":"")):"P0D"}J=Rt.prototype;return J.isValid=function(){return this._isValid},J.abs=function(){var e=this._data;return this._milliseconds=vn(this._milliseconds),this._days=vn(this._days),this._months=vn(this._months),e.milliseconds=vn(e.milliseconds),e.seconds=vn(e.seconds),e.minutes=vn(e.minutes),e.hours=vn(e.hours),e.months=vn(e.months),e.years=vn(e.years),this},J.add=function(e,t){return yn(this,e,t,1)},J.subtract=function(e,t){return yn(this,e,t,-1)},J.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=z(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+xn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(wn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},J.asMilliseconds=ae,J.asSeconds=ee,J.asMinutes=X,J.asHours=K,J.asDays=oe,J.asWeeks=Z,J.asMonths=Xt,J.asQuarters=Nt,J.asYears=Et,J.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Y(this._months/12):NaN},J._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,i=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*bn(wn(n)+t),n=t=0),i.milliseconds=e%1e3,e=U(e/1e3),i.seconds=e%60,e=U(e/60),i.minutes=e%60,e=U(e/60),i.hours=e%24,t+=U(e/24),n+=e=U(xn(t)),t-=bn(wn(e)),e=U(n/12),n%=12,i.days=t,i.months=n,i.years=e,this},J.clone=function(){return Yt(this)},J.get=function(e){return e=z(e),this.isValid()?this[e+"s"]():NaN},J.milliseconds=de,J.seconds=tt,J.minutes=Me,J.hours=Ye,J.days=Ve,J.weeks=function(){return U(this.days()/7)},J.months=ie,J.years=He,J.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=Tn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(i=Object.assign({},Tn,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),t=this.localeData(),i=Sn(this,!n,i,t),n&&(i=t.pastFuture(+this,i)),t.postformat(i)},J.toISOString=Mn,J.toString=Mn,J.toJSON=Mn,J.locale=en,J.localeData=tn,J.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mn),J.lang=ne,R("X",0,0,"unix"),R("x",0,0,"valueOf"),he("x",le),he("X",/[+-]?\d+(\.\d{1,3})?/),ge("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),ge("x",function(e,t,n){n._d=new Date(Y(e))}),d.version="2.29.1",e=Mt,d.fn=re,d.min=function(){return Pt("isBefore",[].slice.call(arguments,0))},d.max=function(){return Pt("isAfter",[].slice.call(arguments,0))},d.now=function(){return Date.now?Date.now():+new Date},d.utc=p,d.unix=function(e){return Mt(1e3*e)},d.months=function(e,t){return mn(e,t,"months")},d.isDate=o,d.locale=ct,d.invalid=v,d.duration=Yt,d.isMoment=w,d.weekdays=function(e,t,n){return gn(e,t,n,"weekdays")},d.parseZone=function(){return Mt.apply(null,arguments).parseZone()},d.localeData=dt,d.isDuration=Ot,d.monthsShort=function(e,t){return mn(e,t,"monthsShort")},d.weekdaysMin=function(e,t,n){return gn(e,t,n,"weekdaysMin")},d.defineLocale=ut,d.updateLocale=function(e,t){var n,i;return null!=t?(i=it,null!=ot[e]&&null!=ot[e].parentLocale?ot[e].set(D(ot[e]._config,t)):(null!=(n=lt(e))&&(i=n._config),t=D(i,t),null==n&&(t.abbr=e),(t=new A(t)).parentLocale=ot[e],ot[e]=t),ct(e)):null!=ot[e]&&(null!=ot[e].parentLocale?(ot[e]=ot[e].parentLocale,e===ct()&&ct(e)):null!=ot[e]&&delete ot[e]),ot[e]},d.locales=function(){return C(ot)},d.weekdaysShort=function(e,t,n){return gn(e,t,n,"weekdaysShort")},d.normalizeUnits=z,d.relativeTimeRounding=function(e){return void 0===e?_n:"function"==typeof e&&(_n=e,!0)},d.relativeTimeThreshold=function(e,t){return void 0!==Tn[e]&&(void 0===t?Tn[e]:(Tn[e]=t,"s"===e&&(Tn.ss=t-1),!0))},d.calendarFormat=function(e,t){return(t=e.diff(t,"days",!0))<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"},d.prototype=re,d.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},d}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")},week:{dow:1,doy:4}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";var t=/(janv\.?|fÃ©vr\.?|mars|avr\.?|mai|juin|juil\.?|aoÃ»t|sept\.?|oct\.?|nov\.?|dÃ©c\.?|janvier|fÃ©vrier|mars|avril|mai|juin|juillet|aoÃ»t|septembre|octobre|novembre|dÃ©cembre)/i,n=[/^janv/i,/^fÃ©vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aoÃ»t/i,/^sept/i,/^oct/i,/^nov/i,/^dÃ©c/i];return e.defineLocale("fr",{months:"janvier_fÃ©vrier_mars_avril_mai_juin_juillet_aoÃ»t_septembre_octobre_novembre_dÃ©cembre".split("_"),monthsShort:"janv._fÃ©vr._mars_avr._mai_juin_juil._aoÃ»t_sept._oct._nov._dÃ©c.".split("_"),monthsRegex:t,monthsShortRegex:t,monthsStrictRegex:/^(janvier|fÃ©vrier|mars|avril|mai|juin|juillet|aoÃ»t|septembre|octobre|novembre|dÃ©cembre)/i,monthsShortStrictRegex:/(janv\.?|fÃ©vr\.?|mars|avr\.?|mai|juin|juil\.?|aoÃ»t|sept\.?|oct\.?|nov\.?|dÃ©c\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdâhui Ã ] LT",nextDay:"[Demain Ã ] LT",nextWeek:"dddd [Ã ] LT",lastDay:"[Hier Ã ] LT",lastWeek:"dddd [dernier Ã ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}),function(i,o){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(e,t,n){i.daterangepicker=o(i,n,e,t)});else if("undefined"!=typeof exports){var t,e=require("moment");try{t=require("jquery")}catch(e){if(!(t=window.jQuery))throw new Error("jQuery dependency not found")}o(i,exports,e,t)}else i.daterangepicker=o(i,{},i.moment,i.jQuery||i.Zepto||i.ender||i.$)}(this,function(e,t,p,x){function i(e,t,n){this.parentEl="body",this.element=x(e),this.isShowing=!1,"object"==typeof t&&null!==t||(t={}),this.parentEl="object"==typeof t&&t.parentEl&&x(t.parentEl).length?x(t.parentEl):x(this.parentEl),this.container=x('<div class="daterangepicker dropdown-menu"><div class="calendar left"></div><div class="calendar right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div>').appendTo(this.parentEl),this.setOptions(t,n);var i=this.container;x.each(this.buttonClasses,function(e,t){i.find("button").addClass(t)}),this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel),this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",x.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",x.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",x.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",x.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",x.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",x.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",x.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.ampmselect",x.proxy(this.updateTime,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",x.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",x.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",x.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",x.proxy(this.inputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",x.proxy(this.inputsKeydown,this)).on("click.daterangepicker","li",x.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",x.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",x.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":x.proxy(this.show,this),"focus.daterangepicker":x.proxy(this.show,this),"keyup.daterangepicker":x.proxy(this.updateFromControl,this)}):this.element.on("click.daterangepicker",x.proxy(this.toggle,this))}i.prototype={constructor:i,setOptions:function(e,t){if(this.startDate=p().startOf("day"),this.endDate=p().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.buttonClasses=["btn","btn-small btn-sm"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:p.weekdaysMin(),monthNames:p.monthsShort(),firstDay:p.localeData()._week.dow},this.cb=function(){},"string"==typeof e.format&&(this.format=e.format),"string"==typeof e.separator&&(this.separator=e.separator),"string"==typeof e.startDate&&(this.startDate=p(e.startDate,this.format)),"string"==typeof e.endDate&&(this.endDate=p(e.endDate,this.format)),"string"==typeof e.minDate&&(this.minDate=p(e.minDate,this.format)),"string"==typeof e.maxDate&&(this.maxDate=p(e.maxDate,this.format)),"object"==typeof e.startDate&&(this.startDate=p(e.startDate)),"object"==typeof e.endDate&&(this.endDate=p(e.endDate)),"object"==typeof e.minDate&&(this.minDate=p(e.minDate)),"object"==typeof e.maxDate&&(this.maxDate=p(e.maxDate)),"string"==typeof e.applyClass&&(this.applyClass=e.applyClass),"string"==typeof e.cancelClass&&(this.cancelClass=e.cancelClass),"object"==typeof e.dateLimit&&(this.dateLimit=e.dateLimit),"object"==typeof e.locale&&("object"==typeof e.locale.daysOfWeek&&(this.locale.daysOfWeek=e.locale.daysOfWeek.slice()),"object"==typeof e.locale.monthNames&&(this.locale.monthNames=e.locale.monthNames.slice()),"number"==typeof e.locale.firstDay&&(this.locale.firstDay=e.locale.firstDay),"string"==typeof e.locale.applyLabel&&(this.locale.applyLabel=e.locale.applyLabel),"string"==typeof e.locale.cancelLabel&&(this.locale.cancelLabel=e.locale.cancelLabel),"string"==typeof e.locale.fromLabel&&(this.locale.fromLabel=e.locale.fromLabel),"string"==typeof e.locale.toLabel&&(this.locale.toLabel=e.locale.toLabel),"string"==typeof e.locale.weekLabel&&(this.locale.weekLabel=e.locale.weekLabel),"string"==typeof e.locale.customRangeLabel&&(this.locale.customRangeLabel=e.locale.customRangeLabel)),"string"==typeof e.opens&&(this.opens=e.opens),"boolean"==typeof e.showWeekNumbers&&(this.showWeekNumbers=e.showWeekNumbers),"string"==typeof e.buttonClasses&&(this.buttonClasses=[e.buttonClasses]),"object"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses),"boolean"==typeof e.showDropdowns&&(this.showDropdowns=e.showDropdowns),"boolean"==typeof e.singleDatePicker&&(this.singleDatePicker=e.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof e.timePicker&&(this.timePicker=e.timePicker),"number"==typeof e.timePickerIncrement&&(this.timePickerIncrement=e.timePickerIncrement),"boolean"==typeof e.timePicker12Hour&&(this.timePicker12Hour=e.timePicker12Hour),0!=this.locale.firstDay)for(var n=this.locale.firstDay;0<n;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),n--;var i,o,r,a,s;if(void 0===e.startDate&&void 0===e.endDate&&x(this.element).is("input[type=text]")&&(a=i=null,2==(r=(s=x(this.element).val()).split(this.separator)).length?(a=p(r[0],this.format),i=p(r[1],this.format)):this.singleDatePicker&&(a=p(s,this.format),i=p(s,this.format)),null!==a&&null!==i&&(this.startDate=a,this.endDate=i)),"object"==typeof e.ranges){for(o in e.ranges)a=p(e.ranges[o][0]),i=p(e.ranges[o][1]),this.minDate&&a.isBefore(this.minDate)&&(a=p(this.minDate)),this.maxDate&&i.isAfter(this.maxDate)&&(i=p(this.maxDate)),this.minDate&&i.isBefore(this.minDate)||this.maxDate&&a.isAfter(this.maxDate)||(this.ranges[o]=[a,i]);var l="<ul>";for(o in this.ranges)l+="<li>"+o+"</li>";l+="<li>"+this.locale.customRangeLabel+"</li>",l+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(l)}"function"==typeof t&&(this.cb=t),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.singleDatePicker?(this.opens="right",this.container.addClass("single"),this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),(this.timePicker?this.container.find(".ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input"):this.container.find(".ranges")).hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.removeClass("single"),this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:p([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute()]),calendar:[]},this.rightCalendar={month:p([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute()]),calendar:[]},"right"!=this.opens&&"center"!=this.opens||(s=this.container.find(".calendar.left"),(t=this.container.find(".calendar.right")).hasClass("single")&&(t.removeClass("single"),s.addClass("single")),s.removeClass("left").addClass("right"),t.removeClass("right").addClass("left"),this.singleDatePicker&&(s.show(),t.hide())),void 0!==e.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.updateView(),this.updateCalendars()},setStartDate:function(e){"string"==typeof e&&(this.startDate=p(e,this.format)),"object"==typeof e&&(this.startDate=p(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},setEndDate:function(e){"string"==typeof e&&(this.endDate=p(e,this.format)),"object"==typeof e&&(this.endDate=p(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){var e,t,n;this.element.is("input")&&this.element.val().length&&(n=t=null,2===(e=this.element.val().split(this.separator)).length&&(t=p(e[0],this.format),n=p(e[1],this.format)),!this.singleDatePicker&&null!==t&&null!==n||(n=t=p(this.element.val(),this.format)),n.isBefore(t)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=t,this.endDate=n,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars()))},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var e={top:0,left:0},t=x(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},t=this.parentEl[0].clientWidth+this.parentEl.offset().left),"left"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-e.top,right:t-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-e.top,left:this.element.offset().left-e.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-e.top,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>x(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(e){this.element.hasClass("active")?this.hide():this.show()},show:function(e){this.isShowing||(this.element.addClass("active"),this.container.show(),this.move(),this._outsideClickProxy=x.proxy(function(e){this.outsideClick(e)},this),x(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.isShowing=!0,this.element.trigger("show.daterangepicker",this))},outsideClick:function(e){e=x(e.target);e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-date").length||this.hide()},hide:function(e){this.isShowing&&(x(document).off("mousedown.daterangepicker").off("click.daterangepicker","[data-toggle=dropdown]").off("focusin.daterangepicker"),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.isShowing=!1,this.element.trigger("hide.daterangepicker",this))},enterRange:function(e){e=e.target.innerHTML;e==this.locale.customRangeLabel?this.updateView():(e=this.ranges[e],this.container.find("input[name=daterangepicker_start]").val(e[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(e[1].format(this.format)))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},inputsChanged:function(e){var t,n=x(e.target),e=p(n.val(),this.format);e.isValid()&&(e="daterangepicker_start"===n.attr("name")?(t=e,this.endDate):(t=this.startDate,e),this.setCustomDates(t,e))},inputsKeydown:function(e){13===e.keyCode&&(this.inputsChanged(e),this.notify())},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)):this.element.is("input")&&this.element.val(this.endDate.format(this.format))},clickRange:function(e){e=e.target.innerHTML;(this.chosenLabel=e)==this.locale.customRangeLabel?this.showCalendars():(e=this.ranges[e],this.startDate=e[0],this.endDate=e[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this))},clickPrev:function(e){(x(e.target).parents(".calendar").hasClass("left")?this.leftCalendar:this.rightCalendar).month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){(x(e.target).parents(".calendar").hasClass("left")?this.leftCalendar:this.rightCalendar).month.add(1,"month"),this.updateCalendars()},hoverDate:function(e){var t=x(e.target).attr("data-title"),n=t.substr(1,1),t=t.substr(3,1);x(e.target).parents(".calendar").hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[n][t].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[n][t].format(this.format))},setCustomDates:function(e,t){var n;this.chosenLabel=this.locale.customRangeLabel,e.isAfter(t)&&(n=this.endDate.diff(this.startDate),t=p(e).add(n,"ms")),this.startDate=e,this.endDate=t,this.updateView(),this.updateCalendars()},clickDate:function(e){var t,n,i=x(e.target).attr("data-title"),o=i.substr(1,1),r=i.substr(3,1),a=x(e.target).parents(".calendar");a.hasClass("left")?(t=this.leftCalendar.calendar[o][r],n=this.endDate,"object"==typeof this.dateLimit&&(i=p(t).add(this.dateLimit).startOf("day"),n.isAfter(i)&&(n=i))):(t=this.startDate,n=this.rightCalendar.calendar[o][r],"object"==typeof this.dateLimit&&(r=p(n).subtract(this.dateLimit).startOf("day"),t.isBefore(r)&&(t=r))),this.singleDatePicker&&a.hasClass("left")?n=t.clone():this.singleDatePicker&&a.hasClass("right")&&(t=n.clone()),a.find("td").removeClass("active"),x(e.target).addClass("active"),this.setCustomDates(t,n),this.timePicker||n.endOf("day"),this.singleDatePicker&&!this.timePicker&&this.clickApply()},clickApply:function(e){this.updateInputText(),this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(e){var t=x(e.target).closest(".calendar").hasClass("left")?"left":"right",n=this.container.find(".calendar."+t),e=parseInt(n.find(".monthselect").val(),10),n=n.find(".yearselect").val();this[t+"Calendar"].month.month(e).year(n),this.updateCalendars()},updateTime:function(e){var t,n=x(e.target).closest(".calendar"),i=n.hasClass("left"),o=parseInt(n.find(".hourselect").val(),10),e=parseInt(n.find(".minuteselect").val(),10);this.timePicker12Hour&&("PM"===(n=n.find(".ampmselect").val())&&o<12&&(o+=12),"AM"===n&&12===o&&(o=0)),i?((t=this.startDate.clone()).hour(o),t.minute(e),this.startDate=t,this.leftCalendar.month.hour(o).minute(e),this.singleDatePicker&&(this.endDate=t.clone())):((t=this.endDate.clone()).hour(o),t.minute(e),this.endDate=t,this.singleDatePicker&&(this.startDate=t.clone()),this.rightCalendar.month.hour(o).minute(e)),this.updateView(),this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),"right"),this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate,"left")),this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,this.maxDate,"right")),this.container.find(".ranges li").removeClass("active");var e,t=!0,n=0;for(e in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[e][0])&&this.endDate.isSame(this.ranges[e][1])&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+n+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[e][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[e][1].format("YYYY-MM-DD")&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+n+")").addClass("active").html()),n++;t&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},buildCalendar:function(e,t,n,i,o){var r=p([t,e]).daysInMonth(),a=p([t,e,1]),s=p([t,e,r]),l=p(a).subtract(1,"month").month(),t=p(a).subtract(1,"month").year(),e=p([t,l]).daysInMonth(),r=a.day(),c=[];for(c.firstDay=a,c.lastDay=s,d=0;d<6;d++)c[d]=[];s=e-r+this.locale.firstDay+1;e<s&&(s-=7),r==this.locale.firstDay&&(s=e-6);for(var u=p([t,l,s,12,i]),d=0,h=0,f=0;d<42;d++,h++,u=p(u).add(24,"hour"))0<d&&h%7==0&&(h=0,f++),c[f][h]=u.clone().hour(n),u.hour(12),this.minDate&&c[f][h].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&c[f][h].isBefore(this.minDate)&&"left"==o&&(c[f][h]=this.minDate.clone()),this.maxDate&&c[f][h].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&c[f][h].isAfter(this.maxDate)&&"right"==o&&(c[f][h]=this.maxDate.clone());return c},renderDropdowns:function(e,t,n){for(var i=e.month(),o=e.year(),r=n&&n.year()||o+5,e=t&&t.year()||o-50,a='<select class="monthselect">',s=o==e,l=o==r,c=0;c<12;c++)(!s||c>=t.month())&&(!l||c<=n.month())&&(a+="<option value='"+c+"'"+(c===i?" selected='selected'":"")+">"+this.locale.monthNames[c]+"</option>");a+="</select>";for(var u='<select class="yearselect">',d=e;d<=r;d++)u+='<option value="'+d+'"'+(d===o?' selected="selected"':"")+">"+d+"</option>";return a+(u+="</select>")},renderCalendar:function(e,t,n,i,o){var r='<div class="calendar-date">';r+='<table class="table-condensed">',r+="<thead>",r+="<tr>",this.showWeekNumbers&&(r+="<th></th>"),!n||n.isBefore(e.firstDay)?r+='<th class="prev available"><i class="fa fa-arrow-left icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>':r+="<th></th>";var a=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");this.showDropdowns&&(a=this.renderDropdowns(e[1][1],n,i)),r+='<th colspan="5" class="month">'+a+"</th>",!i||i.isAfter(e.lastDay)?r+='<th class="next available"><i class="fa fa-arrow-right icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>':r+="<th></th>",r+="</tr>",r+="<tr>",this.showWeekNumbers&&(r+='<th class="week">'+this.locale.weekLabel+"</th>"),x.each(this.locale.daysOfWeek,function(e,t){r+="<th>"+t+"</th>"}),r+="</tr>",r+="</thead>",r+="<tbody>";for(var s,l=0;l<6;l++){r+="<tr>",this.showWeekNumbers&&(r+='<td class="week">'+e[l][0].week()+"</td>");for(var c=0;c<7;c++){var u="available ";u+=e[l][c].month()==e[1][1].month()?"":"off",n&&e[l][c].isBefore(n,"day")||i&&e[l][c].isAfter(i,"day")?u=" off disabled ":e[l][c].format("YYYY-MM-DD")==t.format("YYYY-MM-DD")?(u+=" active ",e[l][c].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(u+=" start-date "),e[l][c].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(u+=" end-date ")):e[l][c]>=this.startDate&&e[l][c]<=this.endDate&&(u+=" in-range ",e[l][c].isSame(this.startDate)&&(u+=" start-date "),e[l][c].isSame(this.endDate)&&(u+=" end-date "));var d="r"+l+"c"+c;r+='<td class="'+u.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+d+'">'+e[l][c].date()+"</td>"}r+="</tr>"}if(r+="</tbody>",r+="</table>",r+="</div>",this.timePicker){r+='<div class="calendar-time">',r+='<select class="hourselect">';var h=0,f=23;n&&("left"==o||this.singleDatePicker)&&t.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&(h=n.hour(),t.hour()<h&&t.hour(h),this.timePicker12Hour&&12<=h&&12<=t.hour()&&(h-=12),this.timePicker12Hour&&12==h&&(h=1)),i&&("right"==o||this.singleDatePicker)&&t.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&(f=i.hour(),t.hour()>f&&t.hour(f),this.timePicker12Hour&&12<=f&&12<=t.hour()&&(f-=12));var p=0,m=23,g=t.hour();for(this.timePicker12Hour&&(p=1,(m=12)<=g&&(g-=12),0===g&&(g=12)),s=p;s<=m;s++)r+=s==g?'<option value="'+s+'" selected="selected">'+s+"</option>":s<h||f<s?'<option value="'+s+'" disabled="disabled" class="disabled">'+s+"</option>":'<option value="'+s+'">'+s+"</option>";r+="</select> : ",r+='<select class="minuteselect">';var v=0,y=59;for(n&&("left"==o||this.singleDatePicker)&&t.format("YYYY-MM-DD h A")==n.format("YYYY-MM-DD h A")&&(v=n.minute(),t.minute()<v&&t.minute(v)),i&&("right"==o||this.singleDatePicker)&&t.format("YYYY-MM-DD h A")==i.format("YYYY-MM-DD h A")&&(y=i.minute(),t.minute()>y&&t.minute(y)),s=0;s<60;s+=this.timePickerIncrement){var b=s;b<10&&(b="0"+b),s==t.minute()?r+='<option value="'+s+'" selected="selected">'+b+"</option>":r+=s<v||y<s?'<option value="'+s+'" disabled="disabled" class="disabled">'+b+"</option>":'<option value="'+s+'">'+b+"</option>"}r+="</select> ",this.timePicker12Hour&&(r+='<select class="ampmselect">',p=a="",n&&("left"==o||this.singleDatePicker)&&t.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&12<=n.hour()&&(a=' disabled="disabled" class="disabled"'),i&&("right"==o||this.singleDatePicker)&&t.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&i.hour()<12&&(p=' disabled="disabled" class="disabled"'),12<=t.hour()?r+='<option value="AM"'+a+'>AM</option><option value="PM" selected="selected"'+p+">PM</option>":r+='<option value="AM" selected="selected"'+a+'>AM</option><option value="PM"'+p+">PM</option>",r+="</select>"),r+="</div>"}return r},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData("daterangepicker")}},x.fn.daterangepicker=function(t,n){return this.each(function(){var e=x(this);e.data("daterangepicker")&&e.data("daterangepicker").remove(),e.data("daterangepicker",new i(e,t,n))}),this}}),Highcharts.theme={credits:{enabled:!1},global:{useUTC:!0},colors:["#42a4bb","#7798BF","#55BF3B","#DF5353","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:"#FFF",borderWidth:0,borderRadius:0,plotBackgroundColor:null,plotShadow:!1,plotBorderWidth:0},title:{text:"",style:{color:"#FFF",font:"16px Arial, Helvetica, sans-serif"}},subtitle:{style:{color:"#BBB",font:"12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}},xAxis:{gridLineWidth:0,lineColor:"#e9e9e9",tickColor:"#FFF",labels:{style:{color:"#bbb",font:"14px Arial, Helvetica, sans-serif"}},title:{style:{color:"#AAA",font:"14px Arial, Helvetica, sans-serif"}}},yAxis:{alternateGridColor:null,minorTickInterval:null,gridLineColor:"rgba(233, 233, 233,1)",minorGridLineColor:"rgba(233,233,233,1)",lineWidth:0,tickWidth:0,labels:{style:{color:"#999",fontWeight:"normal"}},title:{style:{color:"#FFF",font:"14px Arial, Helvetica, sans-serif"}}},legend:{enabled:!1,itemStyle:{color:"#767676",fontWeight:"normal"},itemHoverStyle:{color:"#767676"}},labels:{style:{color:"#CCC"}},tooltip:{backgroundColor:"rgba(233, 233, 233, 0.8)",borderWidth:0,shared:!0},plotOptions:{series:{nullColor:"#444444",turboThreshold:4e3},line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#333"}},bar:{states:{hover:{enabled:!1}}},spline:{marker:{enabled:!1},lineWidth:4,states:{hover:{lineWidth:5}}},areaspline:{stacking:"normal",lineWidth:4,states:{hover:{lineWidth:5}}},scatter:{marker:{lineColor:"#333"}},candlestick:{lineColor:"white"},pie:{style:{color:"#767676"},cursor:"pointer",dataLabels:{enabled:!0,format:"{point.name}: {point.percentage:.1f} %"},innerSize:100,depth:45}},toolbar:{itemStyle:{color:"#CCC"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",hoverSymbolStroke:"#cccccc",theme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#606060"],[.6,"#333333"]]},stroke:"#000000"}}},rangeSelector:{enabled:!1,buttons:[{type:"all",text:"All"},{type:"year",count:1,text:"Year"},{type:"month",count:1,text:"Month"}],selected:0,inputEnabled:!1,buttonTheme:{width:45,fill:"#F0F0F0",r:"4",style:{color:"#767676"},states:{hover:{fill:"#4183D7",style:{color:"#FFFFFF"}},select:{fill:"#4183D7",style:{color:"#FFFFFF"}}}},labelStyle:{color:"#707070",fontWeight:"bold"}},scrollbar:{barBackgroundColor:"#F3F3F3",buttonBackgroundColor:"#F3F3F3",trackBackgroundColor:"#F3F3F3",trackBorderColor:"#F3F3F3"},legendBackgroundColor:"rgba(48, 48, 48, 0.8)",background2:"rgb(70, 70, 70)",dataLabelsColor:"#444",textColor:"#E0E0E0",maskColor:"rgba(255,255,255,0.3)"};var isoCountries={AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua And Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia And Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, Democratic Republic",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote D'Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island & Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic Of",IQ:"Iraq",IE:"Ireland",IM:"Isle Of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KR:"Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States Of",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre And Miquelon",VC:"Saint Vincent And Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome And Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia And Sandwich Isl.",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard And Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad And Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks And Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis And Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"};function getCountryName(e){return isoCountries.hasOwnProperty(e)?isoCountries[e]:"other"==e?"Other":e}if(!function(e){"use strict";"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&void 0!==module.exports?module.exports=e():"undefined"!=typeof Package?Sortable=e():window.Sortable=e()}(function(){"use strict";function l(e,t,n,i,o,r){var a=_.createEvent("Event");a.initEvent(t,!0,!0),a.item=n||e,a.from=i||e,a.clone=p,a.oldIndex=o,a.newIndex=r,e.dispatchEvent(a)}function a(){}var h,f,p,m,g,d,v,y,b,c,i,x,u,o,w={},k="Sortable"+(new Date).getTime(),C=window,_=C.document,r=C.parseInt,T=!!("draggable"in _.createElement("div")),S=!1,s="onAdd onUpdate onRemove onStart onEnd onFilter onSort".split(" "),D=Math.abs,A=[].slice,M=[],E=e(function(e,t,n){if(n&&t.scroll){var i,o,r,a=t.scrollSensitivity,s=t.scrollSpeed,l=e.clientX,c=e.clientY,u=window.innerWidth,e=window.innerHeight;if(v!==n&&(d=t.scroll,v=n,!0===d)){d=n;do{if(d.offsetWidth<d.scrollWidth||d.offsetHeight<d.scrollHeight)break}while(d=d.parentNode)}d&&(n=(i=d).getBoundingClientRect(),o=(D(n.right-l)<=a)-(D(n.left-l)<=a),r=(D(n.bottom-c)<=a)-(D(n.top-c)<=a)),o||r||(r=(e-c<=a)-(c<=a),((o=(u-l<=a)-(l<=a))||r)&&(i=C)),w.vx===o&&w.vy===r&&w.el===i||(w.el=i,w.vx=o,w.vy=r,clearInterval(w.pid),i&&(w.pid=setInterval(function(){i===C?C.scrollTo(C.scrollX+o*s,C.scrollY+r*s):(r&&(i.scrollTop+=r*s),o&&(i.scrollLeft+=o*s))},24)))}},30);function N(t,n){this.el=t,this.options=n=n||{};var e,i={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",ignore:"a, img",filter:null,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1};for(e in i)e in n||(n[e]=i[e]);var o,r=n.group;for(o in r&&"object"==typeof r||(r=n.group={name:r}),["pull","put"].forEach(function(e){e in r||(r[e]=!0)}),s.forEach(function(e){n[e]=I(this,n[e]||a),O(t,e.substr(2).toLowerCase(),n[e])},this),n.groups=" "+r.name+(r.put.join?" "+r.put.join(" "):"")+" ",t[k]=n,this)"_"===o.charAt(0)&&(this[o]=I(this,this[o]));O(t,"mousedown",this._onTapStart),O(t,"touchstart",this._onTapStart),O(t,"dragover",this),O(t,"dragenter",this),M.push(this._onDragOver),n.store&&this.sort(n.store.get(this))}function P(e){p&&p.state!==e&&(H(p,"display",e?"none":""),!e&&p.state&&m.insertBefore(p,h),p.state=e)}function I(e,t){var n=A.call(arguments,2);return t.bind?t.bind.apply(t,[e].concat(n)):function(){return t.apply(e,n.concat(A.call(arguments)))}}function R(e,t,n){if(e){n=n||_;var i=(t=t.split(".")).shift().toUpperCase(),o=new RegExp("\\s("+t.join("|")+")\\s","g");do{if(">*"===i&&e.parentNode===n||(""===i||e.nodeName.toUpperCase()==i)&&(!t.length||((" "+e.className+" ").match(o)||[]).length==t.length))return e}while(e!==n&&(e=e.parentNode))}return null}function O(e,t,n){e.addEventListener(t,n,!1)}function L(e,t,n){e.removeEventListener(t,n,!1)}function B(e,t,n){var i;e&&(e.classList?e.classList[n?"add":"remove"](t):(i=(" "+e.className+" ").replace(/\s+/g," ").replace(" "+t+" ",""),e.className=i+(n?" "+t:"")))}function H(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return _.defaultView&&_.defaultView.getComputedStyle?n=_.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function z(e,t,n){if(e){var i=e.getElementsByTagName(t),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function j(e){e.draggable=!1}function F(){S=!1}function W(e){for(var t=0;e=e&&e.previousElementSibling;)"TEMPLATE"!==e.nodeName.toUpperCase()&&t++;return t}function e(e,t){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?e.call(i,n[0]):e.apply(i,n),n=void 0},t))}}return N.prototype={constructor:N,_dragStarted:function(){m&&h&&(B(h,this.options.ghostClass,!0),N.active=this,l(m,"start",h,m,c))},_onTapStart:function(e){var t=e.type,n=e.touches&&e.touches[0],i=(n||e).target,o=i,r=this.options,a=this.el,s=r.filter;if(!("mousedown"===t&&0!==e.button||r.disabled)&&(i=R(i,r.draggable,a))){if(c=W(i),"function"==typeof s){if(s.call(this,e,i,this))return l(o,"filter",i,a,c),void e.preventDefault()}else if(s=s&&s.split(",").some(function(e){if(e=R(o,e.trim(),a))return l(e,"filter",i,a,c),!0}))return void e.preventDefault();if((!r.handle||R(o,r.handle,a))&&i&&!h&&i.parentNode===a){u=e,m=this.el,g=(h=i).nextSibling,x=this.options.group,h.draggable=!0,r.ignore.split(",").forEach(function(e){z(i,e.trim(),j)}),n&&(u={target:i,clientX:n.clientX,clientY:n.clientY},this._onDragStart(u,"touch"),e.preventDefault()),O(_,"mouseup",this._onDrop),O(_,"touchend",this._onDrop),O(_,"touchcancel",this._onDrop),O(h,"dragend",this),O(m,"dragstart",this._onDragStart),T||this._onDragStart(u,!0);try{_.selection?_.selection.empty():window.getSelection().removeAllRanges()}catch(e){}}}},_emulateDragOver:function(){if(o){H(f,"display","none");var e=_.elementFromPoint(o.clientX,o.clientY),t=e,n=" "+this.options.group.name,i=M.length;if(t)do{if(t[k]&&-1<t[k].groups.indexOf(n)){for(;i--;)M[i]({clientX:o.clientX,clientY:o.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);H(f,"display","")}},_onTouchMove:function(e){var t,n,i;u&&(n=(t=e.touches?e.touches[0]:e).clientX-u.clientX,i=t.clientY-u.clientY,i=e.touches?"translate3d("+n+"px,"+i+"px,0)":"translate("+n+"px,"+i+"px)",o=t,H(f,"webkitTransform",i),H(f,"mozTransform",i),H(f,"msTransform",i),H(f,"transform",i),e.preventDefault())},_onDragStart:function(e,t){var n,i=e.dataTransfer,o=this.options;this._offUpEvents(),"clone"==x.pull&&(H(p=h.cloneNode(!0),"display","none"),m.insertBefore(p,h)),t?(n=h.getBoundingClientRect(),e=H(h),H(f=h.cloneNode(!0),"top",n.top-r(e.marginTop,10)),H(f,"left",n.left-r(e.marginLeft,10)),H(f,"width",n.width),H(f,"height",n.height),H(f,"opacity","0.8"),H(f,"position","fixed"),H(f,"zIndex","100000"),m.appendChild(f),e=f.getBoundingClientRect(),H(f,"width",2*n.width-e.width),H(f,"height",2*n.height-e.height),"touch"===t?(O(_,"touchmove",this._onTouchMove),O(_,"touchend",this._onDrop),O(_,"touchcancel",this._onDrop)):(O(_,"mousemove",this._onTouchMove),O(_,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,150)):(i&&(i.effectAllowed="move",o.setData&&o.setData.call(this,i,h)),O(_,"drop",this)),setTimeout(this._dragStarted,0)},_onDragOver:function(e){var t,n,i,o,r,a=this.el,s=this.options,l=s.group,c=l.put,u=x===l,d=s.sort;if(h&&(void 0!==e.preventDefault&&(e.preventDefault(),s.dragoverBubble||e.stopPropagation()),x&&!s.disabled&&(u?d||(n=!m.contains(h)):x.pull&&c&&(x.name===l.name||c.indexOf&&~c.indexOf(x.name)))&&(void 0===e.rootEl||e.rootEl===this.el)&&(E(e,s,this.el),!S))){if(c=R(e.target,s.draggable,a),s=h.getBoundingClientRect(),n)return P(!0),void(p||g?m.insertBefore(h,p||g):d||m.appendChild(h));if(0===a.children.length||a.children[0]===f||a===e.target&&(i=e,o=(r=(o=a).lastElementChild).getBoundingClientRect(),c=5<i.clientY-(o.top+o.height)&&r)){if(c){if(c.animated)return;t=c.getBoundingClientRect()}P(u),a.appendChild(h),this._animate(s,h),c&&this._animate(t,c)}else{c&&!c.animated&&c!==h&&void 0!==c.parentNode[k]&&(y!==c&&(b=H(y=c)),n=(t=c.getBoundingClientRect()).right-t.left,d=t.bottom-t.top,i=/left|right|inline/.test(b.cssFloat+b.display),o=c.offsetWidth>h.offsetWidth,r=c.offsetHeight>h.offsetHeight,e=.5<(i?(e.clientX-t.left)/n:(e.clientY-t.top)/d),d=c.nextElementSibling,S=!0,setTimeout(F,30),P(u),(r=i?c.previousElementSibling===h&&!o||e&&o:d!==h&&!r||e&&r)&&!d?a.appendChild(h):c.parentNode.insertBefore(h,r?d:c),this._animate(s,h),this._animate(t,c))}}},_animate:function(e,t){var n,i=this.options.animation;i&&(n=t.getBoundingClientRect(),H(t,"transition","none"),H(t,"transform","translate3d("+(e.left-n.left)+"px,"+(e.top-n.top)+"px,0)"),t.offsetWidth,H(t,"transition","all "+i+"ms"),H(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){H(t,"transition",""),H(t,"transform",""),t.animated=!1},i))},_offUpEvents:function(){L(_,"mouseup",this._onDrop),L(_,"touchmove",this._onTouchMove),L(_,"touchend",this._onDrop),L(_,"touchcancel",this._onDrop)},_onDrop:function(e){var t=this.el,n=this.options;clearInterval(this._loopId),clearInterval(w.pid),L(_,"drop",this),L(_,"mousemove",this._onTouchMove),L(t,"dragstart",this._onDragStart),this._offUpEvents(),e&&(e.preventDefault(),n.dropBubble||e.stopPropagation(),f&&f.parentNode.removeChild(f),h&&(L(h,"dragend",this),j(h),B(h,this.options.ghostClass,!1),m!==h.parentNode?(i=W(h),l(h.parentNode,"sort",h,m,c,i),l(m,"sort",h,m,c,i),l(h,"add",h,m,c,i),l(m,"remove",h,m,c,i)):(p&&p.parentNode.removeChild(p),h.nextSibling!==g&&(i=W(h),l(m,"update",h,m,c,i),l(m,"sort",h,m,c,i))),N.active&&l(m,"end",h,m,c,i)),m=h=f=g=p=d=v=u=o=y=b=x=N.active=null,this.save())},handleEvent:function(e){var t,n=e.type;"dragover"===n||"dragenter"===n?(this._onDragOver(e),(t=e).dataTransfer.dropEffect="move",t.preventDefault()):"drop"!==n&&"dragend"!==n||this._onDrop(e)},toArray:function(){for(var e,t=[],n=this.el.children,i=0,o=n.length;i<o;i++)R(e=n[i],this.options.draggable,this.el)&&t.push(e.getAttribute("data-id")||function(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;for(;n--;)i+=t.charCodeAt(n);return i.toString(36)}(e));return t},sort:function(e){var n={},i=this.el;this.toArray().forEach(function(e,t){t=i.children[t];R(t,this.options.draggable,i)&&(n[e]=t)},this),e.forEach(function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return R(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t},destroy:function(){var t=this.el,n=this.options;s.forEach(function(e){L(t,e.substr(2).toLowerCase(),n[e])}),L(t,"mousedown",this._onTapStart),L(t,"touchstart",this._onTapStart),L(t,"dragover",this),L(t,"dragenter",this),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),M.splice(M.indexOf(this._onDragOver),1),this._onDrop(),this.el=null}},N.utils={on:O,off:L,css:H,find:z,bind:I,is:function(e,t){return!!R(e,t,e)},throttle:e,closest:R,toggleClass:B,dispatchEvent:l,index:W},N.version="1.1.1",N.create=function(e,t){return new N(e,t)},N}),function i(o,r,a){function s(n,e){if(!r[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=r[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return s(t||e)},t,t.exports,i,o,r,a)}return r[n].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){e=e("../lang/isNative")(e=Date.now)&&e,e=e||function(){return(new Date).getTime()};t.exports=e},{"../lang/isNative":8}],2:[function(e,t,n){var y=e("../lang/isObject"),b=e("../date/now"),x=Math.max;t.exports=function(i,o,e){var r,a,s,l,c,u,d,h,f=0,p=!1,m=!0;if("function"!=typeof i)throw new TypeError("Expected a function");function g(){var e,t=o-(b()-l);t<=0||o<t?(a&&clearTimeout(a),e=d,a=u=d=void 0,e&&(f=b(),s=i.apply(c,r),u||a||(r=c=null))):u=setTimeout(g,t)}function v(){u&&clearTimeout(u),a=u=d=void 0,!m&&p===o||(f=b(),s=i.apply(c,r),u||a||(r=c=null))}function t(){var e,t,n;return r=arguments,l=b(),c=this,d=m&&(u||!h),!1===p?e=h&&!u:(a||h||(f=l),(n=(t=p-(l-f))<=0||p<t)?(a=a&&clearTimeout(a),f=l,s=i.apply(c,r)):a=a||setTimeout(v,t)),n&&u?u=clearTimeout(u):u||o===p||(u=setTimeout(g,o)),e&&(n=!0,s=i.apply(c,r)),!n||u||a||(r=c=null),s}return o=!(o<0)&&+o||0,!0===e?m=!(h=!0):y(e)&&(h=e.leading,p="maxWait"in e&&x(+e.maxWait||0,o),m="trailing"in e?e.trailing:m),t.cancel=function(){u&&clearTimeout(u),a&&clearTimeout(a),a=u=d=void 0},t}},{"../date/now":1,"../lang/isObject":11}],3:[function(e,t,n){t.exports=function(e){return"function"==typeof e||!1}},{}],4:[function(e,t,n){t.exports=function(e){return"string"==typeof e?e:null==e?"":e+""}},{}],5:[function(e,t,n){t.exports=function(e){return!!e&&"object"==typeof e}},{}],6:[function(o,r,e){(function(e){var t=o("../internal/baseIsFunction"),n=o("./isNative"),i=Object.prototype.toString,e=n(e=e.Uint8Array)&&e,t=t(/x/)||e&&!t(e)?function(e){return"[object Function]"==i.call(e)}:t;r.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../internal/baseIsFunction":3,"./isNative":8}],7:[function(e,t,n){var i=e("./isNumber");t.exports=function(e){return i(e)&&e!=+e}},{"./isNumber":10}],8:[function(e,t,n){var i=e("../string/escapeRegExp"),o=e("../internal/isObjectLike"),r=/^\[object .+?Constructor\]$/,e=Object.prototype,a=Function.prototype.toString,s=e.toString,l=RegExp("^"+i(s).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return null!=e&&("[object Function]"==s.call(e)?l.test(a.call(e)):o(e)&&r.test(e))}},{"../internal/isObjectLike":5,"../string/escapeRegExp":14}],9:[function(e,t,n){t.exports=function(e){return null===e}},{}],10:[function(e,t,n){var i=e("../internal/isObjectLike"),o=Object.prototype.toString;t.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==o.call(e)}},{"../internal/isObjectLike":5}],11:[function(e,t,n){t.exports=function(e){var t=typeof e;return"function"==t||!!e&&"object"==t}},{}],12:[function(e,t,n){var i=e("../internal/isObjectLike"),o=Object.prototype.toString;t.exports=function(e){return"string"==typeof e||i(e)&&"[object String]"==o.call(e)}},{"../internal/isObjectLike":5}],13:[function(e,t,n){t.exports=function(e){return void 0===e}},{}],14:[function(e,t,n){var i=e("../internal/baseToString"),o=/[.*+?^${}()|[\]\/\\]/g,r=RegExp(o.source);t.exports=function(e){return(e=i(e))&&r.test(e)?e.replace(o,"\\$&"):e}},{"../internal/baseToString":4}],15:[function(e,n,t){(function(g){"use strict";function v(e){var t=parseInt(e.css("border-top"),10),n=e.css("vertical-align");return e.css("vertical-align","top"),y.isNaN(t)&&(t=0),t=e.position().top-t,e.css("vertical-align",n),t}var y={debounce:e("lodash/function/debounce"),isFunction:e("lodash/lang/isFunction"),isNaN:e("lodash/lang/isNaN"),isNull:e("lodash/lang/isNull"),isString:e("lodash/lang/isString"),isUndefined:e("lodash/lang/isUndefined")},b=[],t={lines:1,min_blocks:0,more:function(e){return' <span class="more">Show '+e+" more</span>"},less:' <span class="less">Show less</span>',space_before_blocks:!0,css:{visibility:"visible",overflow:"visible"},debug:!1};g.fn.block_ellipsis=n.exports=function(p){y.isUndefined(p)&&(p={}),p=g.extend({},t,p);function m(e){!0===p.space_before_blocks&&e.before(" ")}for(var e in g(this).each(function(){var n,t,i=g(this),o=!y.isUndefined(p.less)&&!y.isNull(p.less);(function(){var t=null;n=function(e){return(y.isUndefined(p.more)||y.isNull(p.more))&&(t=t||g('<span style="display: inline-block; vertical-align: top; width: 0; height: 0; padding: 0; margin: 0; border: 0;"></span>')),y.isString(p.more)?t=t||g(p.more):y.isFunction(p.more)&&(t=y.isUndefined(e)?t||g(p.more(e)):(e=g(p.more(e)),t.replaceWith(e),e)),t}}).call(this);var r=0,a=0,s=-1e5,l=1/0,c=!1,u=null;if(i.children().each(function(){var e,t;c||(e=g(this),t=v(e),++a,t!==s&&(++r,s=t),l===1/0&&a>=p.min_blocks&&(l=r),!u&&l<=r&&r>=p.lines&&(u=e,p.debug&&u.css("background","red")),l<r&&r>p.lines&&(c=!0))}),c){var e,d,h=i.children();if(n().insertAfter(u),m(n()),d=v(n()),n().remove(),d!==v(h.last())){var f=u.nextAll().length;for(n(f).insertAfter(u),m(n()),n();v(n())===v(e=n().next());)n().remove(),n(--f).insertAfter(e),m(n());(function(){y.isString(p.less)?t=g(p.less):y.isFunction(p.less)&&(t=g(p.less(f)))}).call(this),(h=n().nextAll()).addClass("block_ellipsis_other").hide(),m(n()),!h.length||y.isUndefined(p.more)||y.isNull(p.more)?n().remove():(n().on("click",function(e){e.preventDefault(),e.stopPropagation(),i.find(".block_ellipsis_other").show(),n().hide(),o&&t.show(),"function"==typeof p.more_callback&&p.more_callback()}),o&&(t.on("click",function(e){e.preventDefault(),e.stopPropagation(),i.find(".block_ellipsis_other").hide(),t.hide(),n().show(),"function"==typeof p.less_callback&&p.less_callback()}),t.appendTo(i).hide(),m(t)))}}b.push({root:i,more:n(),less:t,options:p})}),p.css)p.css.hasOwnProperty(e)&&g(this).css(e,p.css[e])}}).call(this,jQuery)},{"lodash/function/debounce":2,"lodash/lang/isFunction":6,"lodash/lang/isNaN":7,"lodash/lang/isNull":9,"lodash/lang/isString":12,"lodash/lang/isUndefined":13}]},{},[15]),function(e,t){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],t);else if("object"==typeof exports)t(require("jquery"),require("moment"));else{if(!jQuery)throw new Error("bootstrap-datetimepicker requires jQuery to be loaded first");if(!moment)throw new Error("bootstrap-datetimepicker requires moment.js to be loaded first");t(e.jQuery,moment)}}(this,function(j,F){"use strict";if(void 0===F)throw new Error("momentjs is required");function n(n,i){function o(){var e,t="absolute",n=(g.component?g.component:g.element).offset(),i=j(window),o=j("body");g.width=(g.component?g.component:g.element).outerWidth(),n.top=n.top+g.element.outerHeight(),"up"===g.options.direction?e="top":"bottom"===g.options.direction?e="bottom":"auto"===g.options.direction&&(e=n.top+g.widget.height()>i.height()+i.scrollTop()&&g.widget.height()+g.element.outerHeight()<n.top?"top":"bottom"),"top"===e?(n.bottom=o.height()-n.top+g.element.outerHeight()+3,g.widget.addClass("top").removeClass("bottom")):(n.top+=1,g.widget.addClass("bottom").removeClass("top")),void 0!==g.options.width&&g.widget.width(g.options.width),"left"===g.options.orientation&&(g.widget.addClass("left-oriented"),n.left=n.left-g.widget.width()+20),E()&&(t="fixed","top"===e?n.bottom+=i.scrollTop():n.top-=i.scrollTop(),"left"===g.options.orientation&&(n.left-=i.scrollLeft())),i.width()<n.left+g.widget.outerWidth()?(n.right=i.width()-n.left-g.width,n.left="auto",g.widget.addClass("pull-right")):(n.right="auto",g.widget.removeClass("pull-right")),"top"===e?g.widget.css({position:t,bottom:n.bottom,top:"auto",left:n.left,right:n.right}):g.widget.css({position:t,top:n.top,bottom:"auto",left:n.left,right:n.right})}function a(e,t){g.element.trigger({type:"dp.change",date:F(g.date),oldDate:F(e)}),"change"!==t&&g.element.change()}function r(e){g.element.trigger({type:"dp.error",date:F(e,g.format,g.options.useStrict)})}function e(e){e.stopPropagation(),e.preventDefault(),g.unset=!1;var t,n,i,o=j(e.target).closest("span, td, th"),r=F(g.date);if(1===o.length&&!o.is(".disabled"))switch(o[0].nodeName.toLowerCase()){case"th":switch(o[0].className){case"picker-switch":A(1);break;case"prev":case"next":i=H.modes[g.viewMode].navStep,"prev"===o[0].className&&(i*=-1),g.viewDate.add(i,H.modes[g.viewMode].navFnc),w()}break;case"span":o.is(".month")?(t=o.parent().find("span").index(o),g.viewDate.month(t)):(n=parseInt(o.text(),10)||0,g.viewDate.year(n)),g.viewMode===g.minViewMode&&(g.date=F({y:g.viewDate.year(),M:g.viewDate.month(),d:g.viewDate.date(),h:g.date.hours(),m:g.date.minutes(),s:g.date.seconds()}),N(),a(r,e.type)),A(-1),w();break;case"td":o.is(".day")&&(i=parseInt(o.text(),10)||1,t=g.viewDate.month(),n=g.viewDate.year(),o.is(".old")?0===t?(t=11,--n):--t:o.is(".new")&&(11===t?(t=0,n+=1):t+=1),g.date=F({y:n,M:t,d:i,h:g.date.hours(),m:g.date.minutes(),s:g.date.seconds()}),g.viewDate=F({y:n,M:t,d:Math.min(28,i)}),w(),N(),a(r,e.type))}}function s(e){var t=F(g.date),n=j(e.currentTarget).data("action"),n=S[n].apply(g,arguments);return D(e),g.date||(g.date=F({y:1970})),N(),T(),a(t,e.type),n}function l(e){U[e.which]="p";var t,n,i,o,r=null,a=[],s={},l=e.which;for(t in U)"p"===U[t]&&(a.push(t),t!==l&&(s[t]=!0));for(t in g.options.keyBinds)if(g.options.keyBinds.hasOwnProperty(t)&&"function"==typeof g.options.keyBinds[t]&&(i=t.split(" ")).length===a.length&&$[l]===i[i.length-1]){for(o=!0,n=i.length-2;0<=n;n--)if(!($[i[n]]in s)){o=!1;break}if(o){r=g.options.keyBinds[t];break}}r&&(r.call(g),e.stopPropagation(),e.preventDefault())}function c(e){U[e.which]="r",e.stopPropagation(),e.preventDefault()}function u(e){F.locale(g.options.language);var t=j(e.target),n=F(g.date);(t=F(t.val(),g.format,g.options.useStrict)).isValid()&&!I(t)&&R(t)?(y(),g.setValue(t),a(n,e.type),N()):(g.viewDate=n,g.unset=!0,a(n,e.type),r(t))}function t(){g.widget.off("click",".datepicker *",g.click),g.widget.off("click","[data-action]"),g.widget.off("mousedown",g.stopEvent),g.options.pickDate&&g.options.pickTime&&g.widget.off("click.togglePicker"),g.isInput?g.element.off({focus:g.show,change:u,click:g.show,blur:g.hide}):(g.element.off({change:u},"input"),g.component?(g.component.off("click",g.show),g.component.off("mousedown",g.stopEvent)):g.element.off("click",g.show))}function d(){j(window).off("resize.datetimepicker"+g.id),g.isInput||j(document).off("mousedown.datetimepicker"+g.id)}var h,f=j.fn.datetimepicker.defaults,p={time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},g=this,m=function(){var e;if(g.isInput)return g.element;if(0===(e=g.element.find(".datepickerinput")).size())e=g.element.find("input");else if(!e.is("input"))throw new Error('CSS class "datepickerinput" cannot be applied to non input element');return e},v=function(){var e=(g.element.is("input")?g.element:g.element.find("input")).data();void 0!==e.dateFormat&&(g.options.format=e.dateFormat),void 0!==e.datePickdate&&(g.options.pickDate=e.datePickdate),void 0!==e.datePicktime&&(g.options.pickTime=e.datePicktime),void 0!==e.dateUseminutes&&(g.options.useMinutes=e.dateUseminutes),void 0!==e.dateUseseconds&&(g.options.useSeconds=e.dateUseseconds),void 0!==e.dateUsecurrent&&(g.options.useCurrent=e.dateUsecurrent),void 0!==e.calendarWeeks&&(g.options.calendarWeeks=e.calendarWeeks),void 0!==e.dateMinutestepping&&(g.options.minuteStepping=e.dateMinutestepping),void 0!==e.dateMindate&&(g.options.minDate=e.dateMindate),void 0!==e.dateMaxdate&&(g.options.maxDate=e.dateMaxdate),void 0!==e.dateShowtoday&&(g.options.showToday=e.dateShowtoday),void 0!==e.dateCollapse&&(g.options.collapse=e.dateCollapse),void 0!==e.dateLanguage&&(g.options.language=e.dateLanguage),void 0!==e.dateDefaultdate&&(g.options.defaultDate=e.dateDefaultdate),void 0!==e.dateDisableddates&&(g.options.disabledDates=e.dateDisableddates),void 0!==e.dateEnableddates&&(g.options.enabledDates=e.dateEnableddates),void 0!==e.dateIcons&&(g.options.icons=e.dateIcons),void 0!==e.dateUsestrict&&(g.options.useStrict=e.dateUsestrict),void 0!==e.dateDirection&&(g.options.direction=e.dateDirection),void 0!==e.dateSidebyside&&(g.options.sideBySide=e.dateSidebyside),void 0!==e.dateDaysofweekdisabled&&(g.options.daysOfWeekDisabled=e.dateDaysofweekdisabled)},y=function(e){F.locale(g.options.language);e||((e=m().val())&&(g.date=F(e,g.format,g.options.useStrict)),g.date||(g.date=F())),g.viewDate=F(g.date).startOf("month"),w(),T()},b=function(){F.locale(g.options.language);var e,t=j("<tr>"),n=F.weekdaysMin();if(!0===g.options.calendarWeeks&&t.append('<th class="cw">#</th>'),0===F().localeData()._week.dow)for(e=0;e<7;e++)t.append('<th class="dow">'+n[e]+"</th>");else for(e=1;e<8;e++)7===e?t.append('<th class="dow">'+n[0]+"</th>"):t.append('<th class="dow">'+n[e]+"</th>");g.widget.find(".datepicker-days thead").append(t)},x=function(){F.locale(g.options.language);for(var e="",t=F.monthsShort(),n=0;n<12;n++)e+='<span class="month">'+t[n]+"</span>";g.widget.find(".datepicker-months td").append(e)},w=function(){if(g.options.pickDate){F.locale(g.options.language);var e,t,n,i,o,r,a,s,l=g.viewDate.year(),c=g.viewDate.month(),u=g.options.minDate.year(),d=g.options.minDate.month(),h=g.options.maxDate.year(),f=g.options.maxDate.month(),p=[],m=F.months();for(g.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),g.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),g.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),g.widget.find(".datepicker-days th:eq(1)").text(m[c]+" "+l),a=(t=F(g.viewDate,g.format,g.options.useStrict).subtract(1,"months")).daysInMonth(),t.date(a).startOf("week"),(l===u&&c<=d||l<u)&&g.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(l===h&&f<=c||h<l)&&g.widget.find(".datepicker-days th:eq(2)").addClass("disabled"),n=F(t).add(42,"d");t.isBefore(n);){if(t.weekday()===F().startOf("week").weekday()&&(i=j("<tr>"),p.push(i),!0===g.options.calendarWeeks&&i.append('<td class="cw">'+t.week()+"</td>")),o="",t.year()<l||t.year()===l&&t.month()<c?o+=" old":(t.year()>l||t.year()===l&&t.month()>c)&&(o+=" new"),t.isSame(F({y:g.date.year(),M:g.date.month(),d:g.date.date()}))&&(o+=" active"),!I(t,"day")&&R(t)||(o+=" disabled"),!0===g.options.showToday&&t.isSame(F(),"day")&&(o+=" today"),g.options.daysOfWeekDisabled)for(r=0;r<g.options.daysOfWeekDisabled.length;r++)if(t.day()===g.options.daysOfWeekDisabled[r]){o+=" disabled";break}i.append('<td class="day'+o+'">'+t.date()+"</td>"),e=t.date(),t.add(1,"d"),e===t.date()&&t.add(1,"d")}for(g.widget.find(".datepicker-days tbody").empty().append(p),s=g.date.year(),m=g.widget.find(".datepicker-months").find("th:eq(1)").text(l).end().find("span").removeClass("active"),s===l&&m.eq(g.date.month()).addClass("active"),l-1<u&&g.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),h<l+1&&g.widget.find(".datepicker-months th:eq(2)").addClass("disabled"),r=0;r<12;r++)(l===u&&r<d||l<u||l===h&&f<r||h<l)&&j(m[r]).addClass("disabled");for(p="",l=10*parseInt(l/10,10),a=g.widget.find(".datepicker-years").find("th:eq(1)").text(l+"-"+(l+9)).parents("table").find("td"),g.widget.find(".datepicker-years").find("th").removeClass("disabled"),l<u&&g.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),h<l+9&&g.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),--l,r=-1;r<11;r++)p+='<span class="year'+(-1===r||10===r?" old":"")+(s===l?" active":"")+(l<u||h<l?" disabled":"")+'">'+l+"</span>",l+=1;a.html(p)}},k=function(){F.locale(g.options.language);var e,t,n,i=g.widget.find(".timepicker .timepicker-hours table"),o="";if(i.parent().hide(),g.use24hours)for(t=e=0;t<6;t+=1){for(o+="<tr>",n=0;n<4;n+=1)o+='<td class="hour">'+L(e.toString())+"</td>",e++;o+="</tr>"}else for(e=1,t=0;t<3;t+=1){for(o+="<tr>",n=0;n<4;n+=1)o+='<td class="hour">'+L(e.toString())+"</td>",e++;o+="</tr>"}i.html(o)},C=function(){var e,t,n=g.widget.find(".timepicker .timepicker-minutes table"),i="",o=0,r=g.options.minuteStepping;for(n.parent().hide(),1===r&&(r=5),e=0;e<Math.ceil(60/r/4);e++){for(i+="<tr>",t=0;t<4;t+=1)o<60?(i+='<td class="minute">'+L(o.toString())+"</td>",o+=r):i+="<td></td>";i+="</tr>"}n.html(i)},_=function(){var e,t,n=g.widget.find(".timepicker .timepicker-seconds table"),i="",o=0;for(n.parent().hide(),e=0;e<3;e++){for(i+="<tr>",t=0;t<4;t+=1)i+='<td class="second">'+L(o.toString())+"</td>",o+=5;i+="</tr>"}n.html(i)},T=function(){var e,t,n;g.date&&(e=g.widget.find(".timepicker span[data-time-component]"),t=g.date.hours(),n=g.date.format("A"),g.use24hours||(0===t?t=12:12!==t&&(t%=12),g.widget.find(".timepicker [data-action=togglePeriod]").text(n)),e.filter("[data-time-component=hours]").text(L(t)),e.filter("[data-time-component=minutes]").text(L(g.date.minutes())),e.filter("[data-time-component=seconds]").text(L(g.date.second())))},S={incrementHours:function(){P("add","hours",1)},incrementMinutes:function(){P("add","minutes",g.options.minuteStepping)},incrementSeconds:function(){P("add","seconds",1)},decrementHours:function(){P("subtract","hours",1)},decrementMinutes:function(){P("subtract","minutes",g.options.minuteStepping)},decrementSeconds:function(){P("subtract","seconds",1)},togglePeriod:function(){var e=g.date.hours();12<=e?e-=12:e+=12,g.date.hours(e)},showPicker:function(){g.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),g.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){g.widget.find(".timepicker .timepicker-picker").hide(),g.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){g.widget.find(".timepicker .timepicker-picker").hide(),g.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){g.widget.find(".timepicker .timepicker-picker").hide(),g.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){e=parseInt(j(e.target).text(),10);g.use24hours||(12<=g.date.hours()?12!==e&&(e+=12):12===e&&(e=0)),g.date.hours(e),S.showPicker.call(g)},selectMinute:function(e){g.date.minutes(parseInt(j(e.target).text(),10)),S.showPicker.call(g)},selectSecond:function(e){g.date.seconds(parseInt(j(e.target).text(),10)),S.showPicker.call(g)}},D=function(e){e.stopPropagation(),e.preventDefault()},A=function(e){e&&(g.viewMode=Math.max(g.minViewMode,Math.min(2,g.viewMode+e))),g.widget.find(".datepicker > div").hide().filter(".datepicker-"+H.modes[g.viewMode].clsName).show()},M=function(){var t,n,i,o;g.widget.on("click",".datepicker *",j.proxy(e,this)),g.widget.on("click","[data-action]",j.proxy(s,this)),g.widget.on("mousedown",j.proxy(D,this)),g.element.on("keyup",j.proxy(c,this)),g.element.on("keydown",j.proxy(l,this)),g.options.pickDate&&g.options.pickTime&&g.widget.on("click.togglePicker",".accordion-toggle",function(e){e.stopPropagation(),t=j(this),o=t.closest("ul"),n=o.find(".in"),i=o.find(".collapse:not(.in)"),n&&n.length&&((o=n.data("collapse"))&&o.transitioning||(n.collapse("hide"),i.collapse("show"),t.find("span").toggleClass(g.options.icons.time+" "+g.options.icons.date),g.component&&g.component.find("span").toggleClass(g.options.icons.time+" "+g.options.icons.date)))}),g.isInput?g.element.on({click:j.proxy(g.show,this),change:j.proxy(u,this),blur:j.proxy(g.hide,this)}):(g.element.on({change:j.proxy(u,this)},"input"),g.component?(g.component.on("click",j.proxy(g.show,this)),g.component.on("mousedown",j.proxy(D,this))):g.element.on("click",j.proxy(g.show,this))),m().on("focus",function(){g.widget.is(":not(:visible)")&&g.show()})},E=function(){if(g.element){for(var e=g.element.parents(),t=!1,n=0;n<e.length;n++)if("fixed"===j(e[n]).css("position")){t=!0;break}return t}return!1},N=function(){F.locale(g.options.language);var e="";g.unset||(e=F(g.date).format(g.format)),m().val(e),g.element.data("date",e),g.options.pickTime||g.hide()},P=function(e,t,n){var i;F.locale(g.options.language),"add"===e?(23===(i=F(g.date)).hours()&&i.add(n,t),i.add(n,t)):i=F(g.date).subtract(n,t),I(i)?r(i.format(g.format)):("add"===e?g.date.add(n,t):g.date.subtract(n,t),g.unset=!1)},I=function(e,t){F.locale(g.options.language);var n=F(g.options.maxDate,g.format,g.options.useStrict),i=F(g.options.minDate,g.format,g.options.useStrict);return t&&(n=n.endOf(t),i=i.startOf(t)),!(!e.isAfter(n)&&!e.isBefore(i))||!1!==g.options.disabledDates&&!0===g.options.disabledDates[e.format("YYYY-MM-DD")]},R=function(e){return F.locale(g.options.language),!1===g.options.enabledDates||!0===g.options.enabledDates[e.format("YYYY-MM-DD")]},O=function(e){for(var t={},n=0,i=0;i<e.length;i++)(h=F.isMoment(e[i])||e[i]instanceof Date?F(e[i]):F(e[i],g.format,g.options.useStrict)).isValid()&&(t[h.format("YYYY-MM-DD")]=!0,n++);return 0<n&&t},L=function(e){return 2<=(e=e.toString()).length?e:"0"+e},B=function(){var e='<thead><tr><th class="prev">&lsaquo;</th><th colspan="'+(g.options.calendarWeeks?"6":"5")+'" class="picker-switch"></th><th class="next">&rsaquo;</th></tr></thead>',t='<tbody><tr><td colspan="'+(g.options.calendarWeeks?"8":"7")+'"></td></tr></tbody>',e='<div class="datepicker-days"><table class="table-condensed">'+e+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+e+t+'</table></div><div class="datepicker-years"><table class="table-condensed">'+e+t+"</table></div>",t="";return g.options.pickDate&&g.options.pickTime?(t='<div class="bootstrap-datetimepicker-widget'+(g.options.sideBySide?" timepicker-sbs":"")+(g.use24hours?" usetwentyfour":"")+' dropdown-menu" style="z-index:'+g.options.zIndex+' !important;">',g.options.sideBySide?t+='<div class="row"><div class="col-sm-6 datepicker">'+e+'</div><div class="col-sm-6 timepicker">'+z.getTemplate()+"</div></div>":t+='<ul class="list-unstyled"><li'+(g.options.collapse?' class="collapse in"':"")+'><div class="datepicker">'+e+'</div></li><li class="picker-switch accordion-toggle"><a class="btn" style="width:100%"><span class="'+g.options.icons.time+'"></span></a></li><li'+(g.options.collapse?' class="collapse"':"")+'><div class="timepicker">'+z.getTemplate()+"</div></li></ul>",g.options.extraHtml&&(t+=g.options.extraHtml),t+="</div>"):g.options.pickTime?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+z.getTemplate()+"</div>"+(g.options.extraHtml?g.options.extraHtml:"")+"</div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+e+"</div>"+(g.options.extraHtml?g.options.extraHtml:"")+"</div>"},H={modes:[{clsName:"days",navFnc:"month",navStep:1},{clsName:"months",navFnc:"year",navStep:1},{clsName:"years",navFnc:"year",navStep:10}]},z={hourTemplate:'<span data-action="showHours"   data-time-component="hours"   class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds"  data-time-component="seconds" class="timepicker-second"></span>',getTemplate:function(){return'<div class="timepicker-picker"><table class="table-condensed"><tr><td><a href="#" class="btn" data-action="incrementHours"><span class="'+g.options.icons.up+'"></span></a></td><td class="separator"></td><td>'+(g.options.useMinutes?'<a href="#" class="btn" data-action="incrementMinutes"><span class="'+g.options.icons.up+'"></span></a>':"")+"</td>"+(g.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><span class="'+g.options.icons.up+'"></span></a></td>':"")+(g.use24hours?"":'<td class="separator"></td>')+"</tr><tr><td>"+z.hourTemplate+'</td> <td class="separator">:</td><td>'+(g.options.useMinutes?z.minuteTemplate:'<span class="timepicker-minute">00</span>')+"</td> "+(g.options.useSeconds?'<td class="separator">:</td><td>'+z.secondTemplate+"</td>":"")+(g.use24hours?"":'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>')+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><span class="'+g.options.icons.down+'"></span></a></td><td class="separator"></td><td>'+(g.options.useMinutes?'<a href="#" class="btn" data-action="decrementMinutes"><span class="'+g.options.icons.down+'"></span></a>':"")+"</td>"+(g.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><span class="'+g.options.icons.down+'"></span></a></td>':"")+(g.use24hours?"":'<td class="separator"></td>')+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(g.options.useSeconds?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")}};g.destroy=function(){t(),d(),g.widget.remove(),g.element.removeData("DateTimePicker"),g.component&&g.component.removeData("DateTimePicker")},g.show=function(e){var t,n;m().prop("disabled")||(g.options.useCurrent&&""===m().val()&&(1!==g.options.minuteStepping?(t=F(),n=g.options.minuteStepping,t.minutes(Math.round(t.minutes()/n)*n%60).seconds(0),g.setValue(t.format(g.format))):g.setValue(F().format(g.format)),a("",e.type)),e&&"click"===e.type&&g.isInput&&g.widget.hasClass("picker-open")||(g.widget.hasClass("picker-open")?(g.widget.hide(),g.widget.removeClass("picker-open")):(g.widget.show(),g.widget.addClass("picker-open")),m().focus(),g.height=(g.component?g.component:g.element).outerHeight(),o(),g.element.trigger({type:"dp.show",date:F(g.date)}),function(){j(window).on("resize.datetimepicker"+g.id,j.proxy(o,this)),g.isInput||j(document).on("mousedown.datetimepicker"+g.id,j.proxy(g.hide,this))}(),e&&D(e)))},g.disable=function(){var e=m();e.prop("disabled")||(e.prop("disabled",!0),t())},g.enable=function(){var e=m();e.prop("disabled")&&(e.prop("disabled",!1),M())},g.hide=function(){for(var e,t=g.widget.find(".collapse"),n=0;n<t.length;n++)if((e=t.eq(n).data("collapse"))&&e.transitioning)return;g.widget.hide(),g.widget.removeClass("picker-open"),m().blur(),g.viewMode=g.startViewMode,A(),g.element.trigger({type:"dp.hide",date:F(g.date)}),d()},g.setValue=function(e){F.locale(g.options.language),e?g.unset=!1:(g.unset=!0,N()),(e=F.isMoment(e)?e.locale(g.options.language):e instanceof Date?F(e):F(e,g.format,g.options.useStrict)).isValid()?(g.date=e,N(),g.viewDate=F({y:g.date.year(),M:g.date.month()}),w(),T()):r(e)},g.getDate=function(){return g.unset?null:F(g.date)},g.setDate=function(e){var t=F(g.date);e?g.setValue(e):g.setValue(null),a(t,"function")},g.setDisabledDates=function(e){g.options.disabledDates=O(e),g.viewDate&&y()},g.setEnabledDates=function(e){g.options.enabledDates=O(e),g.viewDate&&y()},g.setMaxDate=function(e){void 0!==e&&("now"===e&&(e=F()),F.isMoment(e)||e instanceof Date?g.options.maxDate=F(e):g.options.maxDate=F(e,g.format,g.options.useStrict),g.viewDate&&y())},g.setMinDate=function(e){void 0!==e&&("now"===e&&(e=F()),F.isMoment(e)||e instanceof Date?g.options.minDate=F(e):g.options.minDate=F(e,g.format,g.options.useStrict),g.viewDate&&y())},function(){var e,t=!1;if(g.options=j.extend({},f,i),g.options.icons=j.extend({},p,g.options.icons),g.element=j(n),v(),!g.options.pickTime&&!g.options.pickDate)throw new Error("Must choose at least one picker");if(g.id=W++,F.locale(g.options.language),g.date=F(),g.unset=!1,g.isInput=g.element.is("input"),g.component=!1,g.element.hasClass("input-group")&&(0===g.element.find(".datepickerbutton").size()?g.component=g.element.find('[class^="input-group-"]'):g.component=g.element.find(".datepickerbutton")),g.format=g.options.format,e=F().localeData(),g.format||(g.format=g.options.pickDate?e.longDateFormat("L"):"",g.options.pickDate&&g.options.pickTime&&(g.format+=" "),g.format+=g.options.pickTime?e.longDateFormat("LT"):"",g.options.useSeconds&&(-1!==e.longDateFormat("LT").indexOf(" A")?g.format=g.format.split(" A")[0]+":ss A":g.format+=":ss")),g.use24hours=g.format.toLowerCase().indexOf("a")<0&&g.format.indexOf("h")<0,g.component&&(t=g.component.find("span")),g.options.pickTime&&t&&t.addClass(g.options.icons.time),g.options.pickDate&&t&&(t.removeClass(g.options.icons.time),t.addClass(g.options.icons.date)),g.options.widgetParent="string"==typeof g.options.widgetParent&&g.options.widgetParent||g.element.parents().filter(function(){return"scroll"===j(this).css("overflow-y")}).get(0)||"body",g.widget=j(B()).appendTo(g.options.widgetParent),g.minViewMode=g.options.minViewMode||0,"string"==typeof g.minViewMode)switch(g.minViewMode){case"months":g.minViewMode=1;break;case"years":g.minViewMode=2;break;default:g.minViewMode=0}if(g.viewMode=g.options.viewMode||0,"string"==typeof g.viewMode)switch(g.viewMode){case"months":g.viewMode=1;break;case"years":g.viewMode=2;break;default:g.viewMode=0}g.viewMode=Math.max(g.viewMode,g.minViewMode),g.options.disabledDates=O(g.options.disabledDates),g.options.enabledDates=O(g.options.enabledDates),g.startViewMode=g.viewMode,g.setMinDate(g.options.minDate),g.setMaxDate(g.options.maxDate),b(),x(),k(),C(),_(),y(),A(),m().prop("disabled")||M(),""!==g.options.defaultDate&&""===m().val()&&g.setValue(g.options.defaultDate),1!==g.options.minuteStepping&&(t=g.options.minuteStepping,g.date.minutes(Math.round(g.date.minutes()/t)*t%60).seconds(0))}()}var W=0,e="days",$={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space"},U={};j.fn.datetimepicker=function(t){return this.each(function(){var e=j(this);e.data("DateTimePicker")||e.data("DateTimePicker",new n(this,t))})},j.fn.datetimepicker.defaults={format:!1,pickDate:!0,pickTime:!0,useMinutes:!0,useSeconds:!1,useCurrent:!0,calendarWeeks:!1,minuteStepping:1,minDate:F({y:1900}),maxDate:F().add(100,"y"),showToday:!0,collapse:!0,language:F.locale(),defaultDate:"",disabledDates:!1,enabledDates:!1,icons:{},useStrict:!1,direction:"auto",sideBySide:!1,daysOfWeekDisabled:[],widgetParent:!1,extraHtml:!1,zIndex:9999,keyBinds:{up:function(){this.widget.find(".datepicker").is(":visible")?this.setDate(this.getDate().subtract(7,e)):this.setDate(this.getDate().add(1,"minutes"))},down:function(){this.widget.find(".datepicker").is(":visible")?this.setDate(this.getDate().add(7,e)):this.setDate(this.getDate().subtract(1,"minutes"))},"control up":function(){this.widget.find(".datepicker").is(":visible")?this.setDate(this.getDate().subtract(1,"years")):this.setDate(this.getDate().add(1,"hours"))},"control down":function(){this.widget.find(".datepicker").is(":visible")?this.setDate(this.getDate().add(1,"years")):this.setDate(this.getDate().subtract(1,"hours"))},left:function(){this.widget.find(".datepicker").is(":visible")&&this.setDate(this.getDate().subtract(1,e))},right:function(){this.widget.find(".datepicker").is(":visible")&&this.setDate(this.getDate().add(1,e))},pageUp:function(){this.widget.find(".datepicker").is(":visible")&&this.setDate(this.getDate().subtract(1,"months"))},pageDown:function(){this.widget.find(".datepicker").is(":visible")&&this.setDate(this.getDate().add(1,"months"))},enter:function(){this.hide()},escape:function(){this.hide()},tab:function(){this.widget.find(".picker-switch .btn").click()},"control space":function(){this.widget.find(".timepicker").is(":visible")&&this.widget.find('.btn[data-action="togglePeriod"]').click()}}}}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(),function(o){"use strict";var r=function(e,t){this.$element=o(e),this.options=o.extend({},r.DEFAULTS,t),this.$trigger=o(this.options.trigger).filter('[href="#'+e.id+'"], [data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function n(e){var t=e.attr("data-target")||(t=e.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"");return o(t)}function a(i){return this.each(function(){var e=o(this),t=e.data("bs.collapse"),n=o.extend({},r.DEFAULTS,e.data(),"object"==typeof i&&i);!t&&n.toggle&&"show"==i&&(n.toggle=!1),t||e.data("bs.collapse",t=new r(this,n)),"string"==typeof i&&t[i]()})}r.VERSION="3.3.1",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},r.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(!(e&&e.length&&(i=e.data("bs.collapse"))&&i.transitioning)){var t=o.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){e&&e.length&&(a.call(e,"hide"),i||e.data("bs.collapse",null));var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var i=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!o.support.transition)return i.call(this);e=o.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",o.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[n](this.$element[0][e])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=o.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var t=this.dimension();this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!o.support.transition)return e.call(this);this.$element[t](0).one("bsTransitionEnd",o.proxy(e,this)).emulateTransitionEnd(r.TRANSITION_DURATION)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return o(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(o.proxy(function(e,t){t=o(t);this.addAriaAndCollapsedClass(n(t),t)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var e=o.fn.collapse;o.fn.collapse=a,o.fn.collapse.Constructor=r,o.fn.collapse.noConflict=function(){return o.fn.collapse=e,this},o(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var t=o(this);t.attr("data-target")||e.preventDefault();e=n(t),t=e.data("bs.collapse")?"toggle":o.extend({},t.data(),{trigger:this});a.call(e,t)})}(jQuery),function(i){"use strict";i.fn.emulateTransitionEnd=function(e){var t=!1,n=this;i(this).one("bsTransitionEnd",function(){t=!0});return setTimeout(function(){t||i(n).trigger(i.support.transition.end)},e),this},i(function(){i.support.transition=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return{end:n[e]};return!1}(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(e){if(i(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(){var s={},e=function(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},n=e,e=function(e,t){n(e,[],function(){return t})};n("3",[],function(){"use strict";function a(e,t,n){var i=t.x,o=t.y,r=e.w,a=e.h,e=t.w,t=t.h;return"b"===(n=(n||"").split(""))[0]&&(o+=t),"r"===n[1]&&(i+=e),"c"===n[0]&&(o+=s(t/2)),"c"===n[1]&&(i+=s(e/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(i-=r),"c"===n[3]&&(o-=s(a/2)),"c"===n[4]&&(i-=s(r/2)),c(i,o,r,a)}function c(e,t,n,i){return{x:e,y:t,w:n,h:i}}var r=Math.min,u=Math.max,s=Math.round;return{inflate:function(e,t,n){return c(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:a,findBestRelativePosition:function(e,t,n,i){for(var o,r=0;r<i.length;r++)if((o=a(e,t,i[r])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return i[r];return null},intersect:function(e,t){var n=u(e.x,t.x),i=u(e.y,t.y),o=r(e.x+e.w,t.x+t.w),t=r(e.y+e.h,t.y+t.h);return o-n<0||t-i<0?null:c(n,i,o-n,t-i)},clamp:function(e,t,n){var i=e.x,o=e.y,r=e.x+e.w,a=e.y+e.h,s=t.x+t.w,l=t.y+t.h,e=u(0,t.x-i),t=u(0,t.y-o),s=u(0,r-s),l=u(0,a-l);return i+=e,o+=t,n&&(r+=e,a+=t,i-=s,o-=l),c(i,o,(r-=s)-i,(a-=l)-o)},create:c,fromClientRect:function(e){return c(e.left,e.top,e.width,e.height)}}}),n("4",[],function(){function n(e,t){return function(){e.apply(t,arguments)}}function e(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,n(i,this),n(o,this))}function r(n){var i=this;return null===this._state?void this._deferreds.push(n):void t(function(){var e,t=i._state?n.onFulfilled:n.onRejected;if(null!==t){try{e=t(i._value)}catch(e){return void n.reject(e)}n.resolve(e)}else(i._state?n.resolve:n.reject)(i._value)})}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void l(n(t,e),n(i,this),n(o,this))}this._state=!0,this._value=e,a.call(this)}catch(e){o.call(this,e)}}function o(e){this._state=!1,this._value=e,a.call(this)}function a(){for(var e=0,t=this._deferreds.length;e<t;e++)r.call(this,this._deferreds[e]);this._deferreds=null}function s(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function l(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(e){if(i)return;i=!0,n(e)}}if(window.Promise)return window.Promise;var t=e.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.then=function(n,i){var o=this;return new e(function(e,t){r.call(o,new s(n,i,e,t))})},e.all=function(){var s=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new e(function(o,r){if(0===s.length)return o([]);for(var a=s.length,e=0;e<s.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return i.call(e,function(e){t(n,e)},r),0}s[n]=e,0==--a&&o(s)}catch(e){r(e)}}(e,s[e])})},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(n){return new e(function(e,t){t(n)})},e.race=function(o){return new e(function(e,t){for(var n=0,i=o.length;n<i;n++)o[n].then(e,t)})},e}),n("5",["4"],function(n){function i(e,t){for(var n=window.requestAnimationFrame,i=["ms","moz","webkit"],o=0;o<i.length&&!n;o++)n=window[i[o]+"RequestAnimationFrame"];(n=n||function(e){window.setTimeout(e,0)})(e,t)}function o(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function r(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)}function e(t,n){var i,e=function(){var e=arguments;clearTimeout(i),i=o(function(){t.apply(this,e)},n)};return e.stop=function(){clearTimeout(i)},e}var a;return{requestAnimationFrame:function(e,t){return a?void a.then(e):void(a=new n(function(e){i(e,t=t||document.body)}).then(e))},setTimeout:o,setInterval:r,setEditorTimeout:function(e,t,n){return o(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var i;return i=r(function(){e.removed?clearInterval(i):t()},n)},debounce:e,throttle:e,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}}}),n("6",[],function(){function e(e){return"matchMedia"in window&&matchMedia(e).matches}var t,n,i,o,r,a,s,l=navigator,c=l.userAgent,u=window.opera&&window.opera.buildNumber,d=/Android/.test(c),h=/WebKit/.test(c),f=!h&&!u&&/MSIE/gi.test(c)&&/Explorer/gi.test(l.appName);return f=f&&/MSIE (\w+)\./.exec(c)[1],s=-1!=c.indexOf("Trident/")&&(-1!=c.indexOf("rv:")||-1!=l.appName.indexOf("Netscape"))&&11,t=-1!=c.indexOf("Edge/")&&!f&&!s&&12,f=f||s||t,n=!h&&!s&&/Gecko/.test(c),i=-1!=c.indexOf("Mac"),o=/(iPad|iPhone)/.test(c),r="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,a=e("only screen and (max-device-width: 480px)")&&(d||o),l=e("only screen and (min-width: 800px)")&&(d||o),s=-1!=c.indexOf("Windows Phone"),t&&(h=!1),{opera:u,webkit:h,ie:f,gecko:n,mac:i,iOS:o,android:d,contentEditable:!o||r||534<=c.match(/AppleWebKit\/(\d*)/)[1],transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=f,range:window.getSelection&&"Range"in window,documentMode:f&&!t?document.documentMode||7:10,fileApi:r,ceFalse:!1===f||8<f,canHaveCSP:!1===f||11<f,desktop:!a&&!l,windowsPhone:s}}),n("7",["5","6"],function(w,k){"use strict";function C(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function _(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function T(e,t){var n,i,o,r=t||{};for(n in e)s[n]||(r[n]=e[n]);return r.target||(r.target=r.srcElement||document),k.experimentalShadowDom&&(r.target=(t=e,i=r.target,o=i,(i=t.path)&&0<i.length&&(o=i[0]),!t.deepPath||(i=t.deepPath())&&0<i.length&&(o=i[0]),o)),e&&a.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX&&(o=(i=r.target.ownerDocument||document).documentElement,i=i.body,r.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),r.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),r.preventDefault=function(){r.isDefaultPrevented=u,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},r.stopPropagation=function(){r.isPropagationStopped=u,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},!(r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=u,r.stopPropagation()})===l(r)&&(r.isDefaultPrevented=c,r.isPropagationStopped=c,r.isImmediatePropagationStopped=c),void 0===r.metaKey&&(r.metaKey=!1),r}function e(){function f(e,t){var n,i,o,r,t=m[t];if(n=t&&t[e.type])for(i=0,o=n.length;i<o;i++)if((r=n[i])&&!1===r.func.call(r.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}var p=this,m={},g="mce-data-"+(+new Date).toString(32),v="onmouseenter"in document.documentElement,y="onfocusin"in document.documentElement,b={mouseenter:"mouseover",mouseleave:"mouseout"},x=1;p.domLoaded=!1,p.events=m,p.bind=function(e,t,n,i){function o(e){f(T(e||h.event),r)}var r,a,s,l,c,u,d,h=window;if(e&&3!==e.nodeType&&8!==e.nodeType){for(e[g]?r=e[g]:(r=x++,e[g]=r,m[r]={}),i=i||e,s=(t=t.split(" ")).length;s--;)u=o,c=d=!1,"DOMContentLoaded"===(l=t[s])&&(l="ready"),p.domLoaded&&"ready"===l&&"complete"==e.readyState?n.call(i,T({type:l})):(v||(c=b[l])&&(u=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=T(e||h.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,f(e,r))}),y||"focusin"!==l&&"focusout"!==l||(d=!0,c="focusin"===l?"focus":"blur",u=function(e){(e=T(e||h.event)).type="focus"===e.type?"focusin":"focusout",f(e,r)}),(a=m[r][l])?"ready"===l&&p.domLoaded?n({type:l}):a.push({func:n,scope:i}):(m[r][l]=a=[{func:n,scope:i}],a.fakeName=c,a.capture=d,a.nativeHandler=u,"ready"===l?function(e,t,n){function i(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body}function o(){n.domLoaded||(n.domLoaded=!0,t(a))}var r=e.document,a={type:"ready"};n.domLoaded?t(a):(!r.addEventListener||k.ie&&k.ie<11?(C(r,"readystatechange",function e(){i()&&(_(r,"readystatechange",e),o())}),r.documentElement.doScroll&&e.self===e.top&&function t(){try{r.documentElement.doScroll("left")}catch(e){return void w.setTimeout(t)}o()}()):i()?o():C(e,"DOMContentLoaded",o),C(e,"load",o))}(e,u,p):C(e,c||l,u,d)));return e=a=0,n}},p.unbind=function(e,t,n){var i,o,r,a,s,l,c,u,d;if(!e||3===e.nodeType||8===e.nodeType)return p;if(i=e[g]){if(s=m[i],t){for(o=(t=t.split(" ")).length;o--;)if(d=s[a=t[o]]){if(n)for(r=d.length;r--;){d[r].func===n&&(l=d.nativeHandler,c=d.fakeName,u=d.capture,(d=d.slice(0,r).concat(d.slice(r+1))).nativeHandler=l,d.fakeName=c,d.capture=u,s[a]=d)}n&&0!==d.length||(delete s[a],_(e,d.fakeName||a,d.nativeHandler,d.capture))}}else{for(a in s)d=s[a],_(e,d.fakeName||a,d.nativeHandler,d.capture);s={}}for(a in s)return p;delete m[i];try{delete e[g]}catch(t){e[g]=null}}return p},p.fire=function(e,t,n){var i;if(!e||3===e.nodeType||8===e.nodeType)return p;for((n=T(null,n)).type=t,n.target=e;(i=e[g])&&f(n,i),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!n.isPropagationStopped(););return p},p.clean=function(e){var t,n,i=p.unbind;if(!e||3===e.nodeType||8===e.nodeType)return p;if(e[g]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[g]&&i(e);return p},p.destroy=function(){m={}},p.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var a=/^(?:mouse|contextmenu)|click/,s={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},l=function(e){return e.isDefaultPrevented===u||e.isDefaultPrevented===c},c=function(){return!1},u=function(){return!0};return(e.Event=new e).bind(window,"ready",function(){}),e}),n("8",[],function(){function x(e,t,n,i){var o,r,a,s,l,c,u,d,h;if((t?t.ownerDocument||t:L)!==A&&D(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=(t=t||A).nodeType)&&9!==a)return[];if(E&&!i){if(o=he.exec(e))if(c=o[1]){if(9===a){if(!(r=t.getElementById(c))||!r.parentNode)return n;if(r.id===c)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(c))&&R(t,r)&&r.id===c)return n.push(r),n}else{if(o[2])return G.apply(n,t.getElementsByTagName(e)),n;if((c=o[3])&&g.getElementsByClassName)return G.apply(n,t.getElementsByClassName(c)),n}if(g.qsa&&(!N||!N.test(e))){if(u=c=O,d=t,h=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=v(e),(c=t.getAttribute("id"))?u=c.replace(pe,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",s=l.length;s--;)l[s]=u+p(l[s]);d=fe.test(e)&&f(t.parentNode)||t,h=l.join(",")}if(h)try{return G.apply(n,d.querySelectorAll(h)),n}catch(e){}finally{c||t.removeAttribute("id")}}}return C(e.replace(ne,"$1"),t,n,i)}function e(){function n(e,t){return i.push(e+" ")>k.cacheLength&&delete n[i.shift()],n[e+" "]=t}var i=[];return n}function n(e){return e[O]=!0,e}function t(e){var t=A.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),i=e.length;i--;)k.attrHandle[n[i]]=t}function c(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(a){return n(function(r){return r=+r,n(function(e,t){for(var n,i=a([],e.length,r),o=i.length;o--;)e[n=i[o]]&&(e[n]=!(t[n]=e[n]))})})}function f(e){return e&&typeof e.getElementsByTagName!==$&&e}function r(){}function p(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function h(a,e,t){var s=e.dir,l=t&&"parentNode"===s,c=H++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||l)return a(e,t,n)}:function(e,t,n){var i,o,r=[B,c];if(n){for(;e=e[s];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||l){if((i=(o=e[O]||(e[O]={}))[s])&&i[0]===B&&i[1]===c)return r[2]=i[2];if((o[s]=r)[2]=a(e,t,n))return!0}}}function m(o){return 1<o.length?function(e,t,n){for(var i=o.length;i--;)if(!o[i](e,t,n))return!1;return!0}:o[0]}function w(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,i,o)||(a.push(r),c&&t.push(s)));return a}function y(f,p,m,g,v,e){return g&&!g[O]&&(g=y(g)),v&&!v[O]&&(v=y(v,e)),n(function(e,t,n,i){var o,r,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var i=0,o=t.length;i<o;i++)x(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),d=!f||!e&&p?u:w(u,s,f,n,i),h=m?v||(e?f:c||g)?[]:t:d;if(m&&m(d,h,n,i),g)for(o=w(h,l),g(o,[],n,i),r=o.length;r--;)(a=o[r])&&(h[l[r]]=!(d[l[r]]=a));if(e){if(v||f){if(v){for(o=[],r=h.length;r--;)(a=h[r])&&o.push(d[r]=a);v(null,h=[],o,i)}for(r=h.length;r--;)(a=h[r])&&-1<(o=v?X.call(e,a):s[r])&&(e[o]=!(t[o]=a))}}else h=w(h===t?h.splice(c,h.length):h),v?v(null,t,h,i):G.apply(t,h)})}function a(g,v){function e(e,t,n,i,o){var r,a,s,l=0,c="0",u=e&&[],d=[],h=_,f=e||b&&k.find.TAG("*",o),p=B+=null==h?1:Math.random()||.1,m=f.length;for(o&&(_=t!==A&&t);c!==m&&null!=(r=f[c]);c++){if(b&&r){for(a=0;s=g[a++];)if(s(r,t,n)){i.push(r);break}o&&(B=p)}y&&((r=!s&&r)&&l--,e&&u.push(r))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=q.call(i));d=w(d)}G.apply(i,d),o&&!e&&0<d.length&&1<l+v.length&&x.uniqueSort(i)}return o&&(B=p,_=h),u}var y=0<v.length,b=0<g.length;return y?n(e):e}function d(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}var s,g,k,l,u,v,b,C,_,T,S,D,A,M,E,N,P,I,R,O="sizzle"+-new Date,L=window.document,B=0,H=0,z=e(),j=e(),F=e(),W=function(e,t){return e===t&&(S=!0),0},$="undefined",U={}.hasOwnProperty,Y=[],q=Y.pop,V=Y.push,G=Y.push,Q=Y.slice,X=Y.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Z="[\\x20\\t\\r\\n\\f]",J="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ee="\\["+Z+"*("+J+")(?:"+Z+"*([*^$|!~]?=)"+Z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+J+"))|)"+Z+"*\\]",te=":("+J+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ee+")*)|.*)\\)|)",ne=new RegExp("^"+Z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Z+"+$","g"),ie=new RegExp("^"+Z+"*,"+Z+"*"),oe=new RegExp("^"+Z+"*([>+~]|"+Z+")"+Z+"*"),re=new RegExp("="+Z+"*([^\\]'\"]*?)"+Z+"*\\]","g"),ae=new RegExp(te),se=new RegExp("^"+J+"$"),le={ID:new RegExp("^#("+J+")"),CLASS:new RegExp("^\\.("+J+")"),TAG:new RegExp("^("+J+"|[*])"),ATTR:new RegExp("^"+ee),PSEUDO:new RegExp("^"+te),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Z+"*(even|odd|(([+-]|)(\\d*)n|)"+Z+"*(?:([+-]|)"+Z+"*(\\d+)|))"+Z+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+Z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Z+"*((?:-\\d)?\\d*)"+Z+"*\\)|)(?=[^-]|$)","i")},ce=/^(?:input|select|textarea|button)$/i,ue=/^h\d$/i,de=/^[^{]+\{\s*\[native \w/,he=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fe=/[+~]/,pe=/'|\\/g,me=new RegExp("\\\\([\\da-f]{1,6}"+Z+"?|("+Z+")|.)","ig");try{G.apply(Y=Q.call(L.childNodes),L.childNodes),Y[L.childNodes.length].nodeType}catch(x){G={apply:Y.length?function(e,t){V.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(s in g=x.support={},u=x.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},D=x.setDocument=function(e){var l=e?e.ownerDocument||e:L,e=l.defaultView;return l!==A&&9===l.nodeType&&l.documentElement?(M=(A=l).documentElement,E=!u(l),e&&e!==function(e){try{return e.top}catch(e){}return null}(e)&&(e.addEventListener?e.addEventListener("unload",function(){D()},!1):e.attachEvent&&e.attachEvent("onunload",function(){D()})),g.attributes=t(function(e){return e.className="i",!e.getAttribute("className")}),g.getElementsByTagName=t(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),g.getElementsByClassName=de.test(l.getElementsByClassName),g.getById=t(function(e){return M.appendChild(e).id=O,!l.getElementsByName||!l.getElementsByName(O).length}),g.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!==$&&E){e=t.getElementById(e);return e&&e.parentNode?[e]:[]}},k.filter.ID=function(e){var t=e.replace(me,d);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(me,d);return function(e){e=typeof e.getAttributeNode!==$&&e.getAttributeNode("id");return e&&e.value===t}}),k.find.TAG=g.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==$)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},k.find.CLASS=g.getElementsByClassName&&function(e,t){if(E)return t.getElementsByClassName(e)},P=[],N=[],(g.qsa=de.test(l.querySelectorAll))&&(t(function(e){e.innerHTML="<select msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+Z+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+Z+"*(?:value|"+K+")"),e.querySelectorAll(":checked").length||N.push(":checked")}),t(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+Z+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(g.matchesSelector=de.test(I=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&t(function(e){g.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),P.push("!=",te)}),N=N.length&&new RegExp(N.join("|")),P=P.length&&new RegExp(P.join("|")),e=de.test(M.compareDocumentPosition),R=e||de.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=e?function(e,t){if(e===t)return S=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument===L&&R(L,e)?-1:t===l||t.ownerDocument===L&&R(L,t)?1:T?X.call(T,e)-X.call(T,t):0:4&n?-1:1)}:function(e,t){if(e===t)return S=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,a=[e],s=[t];if(!o||!r)return e===l?-1:t===l?1:o?-1:r?1:T?X.call(T,e)-X.call(T,t):0;if(o===r)return c(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?c(a[i],s[i]):a[i]===L?-1:s[i]===L?1:0},l):A},x.matches=function(e,t){return x(e,null,null,t)},x.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&D(e),t=t.replace(re,"='$1']"),g.matchesSelector&&E&&(!P||!P.test(t))&&(!N||!N.test(t)))try{var n=I.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<x(t,A,null,[e]).length},x.contains=function(e,t){return(e.ownerDocument||e)!==A&&D(e),R(e,t)},x.attr=function(e,t){(e.ownerDocument||e)!==A&&D(e);var n=k.attrHandle[t.toLowerCase()],n=n&&U.call(k.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==n?n:g.attributes||!E?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},x.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},x.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!g.detectDuplicates,T=!g.sortStable&&e.slice(0),e.sort(W),S){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return T=null,e},l=x.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=l(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=l(t);return n},(k=x.selectors={cacheLength:50,createPseudo:n,match:le,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(me,d),e[3]=(e[3]||e[4]||e[5]||"").replace(me,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||x.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&x.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return le.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ae.test(n)&&(t=v(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(me,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+Z+")"+e+"("+Z+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==$&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=x.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(f,e,t,p,m){var g="nth"!==f.slice(0,3),v="last"!==f.slice(-4),y="of-type"===e;return 1===p&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,o,r,a,s,l,c=g!=v?"nextSibling":"previousSibling",u=e.parentNode,d=y&&e.nodeName.toLowerCase(),h=!n&&!y;if(u){if(g){for(;c;){for(r=e;r=r[c];)if(y?r.nodeName.toLowerCase()===d:1===r.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&h){for(s=(i=(o=u[O]||(u[O]={}))[f]||[])[0]===B&&i[1],a=i[0]===B&&i[2],r=s&&u.childNodes[s];r=++s&&r&&r[c]||(a=s=0)||l.pop();)if(1===r.nodeType&&++a&&r===e){o[f]=[B,s,a];break}}else if(h&&(i=(e[O]||(e[O]={}))[f])&&i[0]===B)a=i[1];else for(;(r=++s&&r&&r[c]||(a=s=0)||l.pop())&&((y?r.nodeName.toLowerCase()!==d:1!==r.nodeType)||!++a||(h&&((r[O]||(r[O]={}))[f]=[B,a]),r!==e)););return(a-=m)===p||a%p==0&&0<=a/p}}},PSEUDO:function(e,r){var t,a=k.pseudos[e]||k.setFilters[e.toLowerCase()]||x.error("unsupported pseudo: "+e);return a[O]?a(r):1<a.length?(t=[e,e,"",r],k.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,i=a(e,r),o=i.length;o--;)e[n=X.call(e,i[o])]=!(t[n]=i[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:n(function(e){var i=[],o=[],s=b(e.replace(ne,"$1"));return s[O]?n(function(e,t,n,i){for(var o,r=s(e,null,i,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return i[0]=e,s(i,null,n,o),!o.pop()}}),has:n(function(t){return function(e){return 0<x(t,e).length}}),contains:n(function(t){return t=t.replace(me,d),function(e){return-1<(e.textContent||e.innerText||l(e)).indexOf(t)}}),lang:n(function(n){return se.test(n||"")||x.error("unsupported lang: "+n),n=n.replace(me,d).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===M},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return ue.test(e.nodeName)},input:function(e){return ce.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[n<0?n+t:n]}),even:o(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:o(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[s]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(s);for(s in{submit:!0,reset:!0})k.pseudos[s]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(s);return r.prototype=k.filters=k.pseudos,k.setFilters=new r,v=x.tokenize=function(e,t){var n,i,o,r,a,s,l,c=j[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=k.preFilter;a;){for(r in n&&!(i=ie.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=oe.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(ne," ")}),a=a.slice(n.length)),k.filter)!(i=le[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?x.error(e):j(e,s).slice(0)},b=x.compile=function(e,t){var n,i=[],o=[],r=F[e+" "];if(!r){for(n=(t=t||v(e)).length;n--;)((r=function e(t){for(var i,n,o,r=t.length,a=k.relative[t[0].type],s=a||k.relative[" "],l=a?1:0,c=h(function(e){return e===i},s,!0),u=h(function(e){return-1<X.call(i,e)},s,!0),d=[function(e,t,n){return!a&&(n||t!==_)||((i=t).nodeType?c:u)(e,t,n)}];l<r;l++)if(n=k.relative[t[l].type])d=[h(m(d),n)];else{if((n=k.filter[t[l].type].apply(null,t[l].matches))[O]){for(o=++l;o<r&&!k.relative[t[o].type];o++);return y(1<l&&m(d),1<l&&p(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(ne,"$1"),n,l<o&&e(t.slice(l,o)),o<r&&e(t=t.slice(o)),o<r&&p(t))}d.push(n)}return m(d)}(t[n]))[O]?i:o).push(r);(r=F(e,a(o,i))).selector=e}return r},C=x.select=function(e,t,n,i){var o,r,a,s,l,c="function"==typeof e&&e,u=!i&&v(e=c.selector||e);if(n=n||[],1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(a=r[0]).type&&g.getById&&9===t.nodeType&&E&&k.relative[r[1].type]){if(!(t=(k.find.ID(a.matches[0].replace(me,d),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=le.needsContext.test(e)?0:r.length;o--&&(a=r[o],!k.relative[s=a.type]);)if((l=k.find[s])&&(i=l(a.matches[0].replace(me,d),fe.test(r[0].type)&&f(t.parentNode)||t))){if(r.splice(o,1),!(e=i.length&&p(r)))return G.apply(n,i),n;break}}return(c||b(e,u))(i,t,!E,n,fe.test(e)&&f(t.parentNode)||t),n},g.sortStable=O.split("").sort(W).join("")===O,g.detectDuplicates=!!S,D(),g.sortDetached=t(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),t(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),g.attributes&&t(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),t(function(e){return null==e.getAttribute("disabled")})||i(K,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),x}),n("1g",[],function(){function e(e,t,n){var i,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(i=0,o=e.length;i<o;i++)if(!1===t.call(n,e[i],i,e))return 0}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))return 0;return 1}function i(e,t,n){for(var i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i,e))return i;return-1}var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{isArray:o,toArray:function(e){var t,n,i=e;if(!o(e))for(i=[],t=0,n=e.length;t<n;t++)i[t]=e[t];return i},each:e,map:function(n,i){var o=[];return e(n,function(e,t){o.push(i(e,t,n))}),o},filter:function(n,i){var o=[];return e(n,function(e,t){i&&!i(e,t,n)||o.push(e)}),o},indexOf:function(e,t){var n,i;if(e)for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,i){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++)n=t.call(i,n,e[o],o);return n},findIndex:i,find:function(e,t,n){if(-1!==(n=i(e,t,n)))return e[n]},last:function(e){return e[e.length-1]}}}),n("9",["6","1g"],function(n,a){function i(e){return null==e?"":(""+e).replace(t,"")}function o(e,t){return t?!("array"!=t||!a.isArray(e))||typeof e==t:void 0!==e}var t=/^\s*|\s*$/g;return{trim:i,isArray:a.isArray,is:o,toArray:a.toArray,makeMap:function(e,t,n){var i;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n},each:a.each,map:a.map,grep:a.filter,inArray:a.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,t){for(var n,i,o=arguments,r=1,a=o.length;r<a;r++)for(n in t=o[r])t.hasOwnProperty(n)&&(i=t[n],void 0!==i&&(e[n]=i));return e},create:function(e,t,n){var i,o,r,a,s,l=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),r=e[3].match(/(^|\.)(\w+)$/i)[2],!(o=this.createNS(e[3].replace(/\.\w+$/,""),n))[r]){if("static"==e[2])return o[r]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[r]));t[r]||(t[r]=function(){},l=1),o[r]=t[r],this.extend(o[r].prototype,t),e[5]&&(i=this.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=o[r],o[r]=l?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},o[r].prototype[r]=o[r],this.each(i,function(e,t){o[r].prototype[t]=i[t]}),this.each(t,function(e,t){i[t]?o[r].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=r&&(o[r].prototype[t]=e)})),this.each(t.static,function(e,t){o[r][t]=e})}},walk:function n(e,i,o,r){r=r||this,e&&(o&&(e=e[o]),a.each(e,function(e,t){return!1!==i.call(r,e,t,o)&&void n(e,i,o,r)}))},createNS:function(e,t){var n,i;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[i=e[n]]||(t[i]={}),t=t[i];return t},resolve:function(e,t){var n,i;for(t=t||window,n=0,i=(e=e.split(".")).length;n<i&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||o(e,"array")?e:a.map(e.split(t||","),i)},_addCacheSuffix:function(e){var t=n.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}}}),n("a",["7","8","9","6"],function(e,t,n,i){function s(e){return void 0!==e}function r(e){return"string"==typeof e}function a(e,t){var n,i=(t=t||x).createElement("div"),o=t.createDocumentFragment();for(i.innerHTML=e;n=i.firstChild;)o.appendChild(n);return o}function l(e,t,n,i){var o;if(r(t))t=a(t,p(e[0]));else if(t.length&&!t.nodeType){if(t=u.makeArray(t),i)for(o=t.length-1;0<=o;o--)l(e,t[o],n,i);else for(o=0;o<t.length;o++)l(e,t[o],n,i);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e}function c(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function o(e,t,n){var i,o;return t=u(t)[0],e.each(function(){n&&i==this.parentNode||(i=this.parentNode,o=t.cloneNode(!1),this.parentNode.insertBefore(o,this)),o.appendChild(this)}),e}function u(e,t){return new u.fn.init(e,t)}function d(e){return null===e||e===b?"":(""+e).replace(P,"")}function h(e,t){var n,i,o,r;if(e)if(void 0===(n=e.length)){for(i in e)if(e.hasOwnProperty(i)&&(r=e[i],!1===t.call(r,i,r)))break}else for(o=0;o<n&&(r=e[o],!1!==t.call(r,o,r));o++);return e}function f(e,n){var i=[];return h(e,function(e,t){n(t,e)&&i.push(t)}),i}function p(e){return e?9==e.nodeType?e:e.ownerDocument:x}function m(e,t,n){var i=[],o=e[t];for("string"!=typeof n&&n instanceof u&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&u(o).is(n))break}1===o.nodeType&&i.push(o),o=o[t]}return i}function g(e,t,n,i){var o=[];for(i instanceof u&&(i=i[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==i){if(e===i)break;if("string"==typeof i&&u(e).is(i))break}o.push(e)}return o}function v(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function y(n,i,e){h(e,function(e,t){n[e]=n[e]||{},n[e][i]=t})}var b,x=document,w=Array.prototype.push,k=Array.prototype.slice,C=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,_=e.Event,T=n.makeMap("children,contents,next,prev"),S=n.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),D=n.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),A={for:"htmlFor",class:"className",readonly:"readOnly"},M={float:"cssFloat"},E={},N={},P=/^\s*|\s*$/g;return u.fn=u.prototype={constructor:u,selector:"",context:null,length:0,init:function(e,t){var n,i,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return u(e).attr(t);o.context=t=document}if(r(e)){if(!(n="<"===(o.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:C.exec(e)))return u(t).find(e);if(n[1])for(i=a(e,p(t)).firstChild;i;)w.call(o,i),i=i.nextSibling;else{if(!(i=p(t).getElementById(n[2])))return o;if(i.id!==n[2])return o.find(e);o.length=1,o[0]=i}}else this.add(e,!1);return o},toArray:function(){return n.toArray(this)},add:function(e,t){var n,i;if(r(e))return this.add(u(e));if(!1!==t)for(n=u.unique(this.toArray().concat(u.makeArray(e))),this.length=n.length,i=0;i<n.length;i++)this[i]=n[i];else w.apply(this,u.makeArray(e));return this},attr:function(t,n){var e,i=this;if("object"==typeof t)h(t,function(e,t){i.attr(e,t)});else{if(!s(n)){if(i[0]&&1===i[0].nodeType){if((e=E[t])&&e.get)return e.get(i[0],t);if(D[t])return i.prop(t)?t:b;null===(n=i[0].getAttribute(t,2))&&(n=b)}return n}this.each(function(){var e;1===this.nodeType&&((e=E[t])&&e.set?e.set(this,n):null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2))})}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=A[e]||e))h(e,function(e,t){n.prop(e,t)});else{if(!s(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(t,n){function e(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function i(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}var o,r,a=this;if("object"==typeof t)h(t,function(e,t){a.css(e,t)});else if(s(n))t=e(t),"number"!=typeof n||S[t]||(n+="px"),a.each(function(){var e=this.style;if((r=N[t])&&r.set)r.set(this,n);else{try{this.style[M[t]||t]=n}catch(e){}null!==n&&""!==n||(e.removeProperty?e.removeProperty(i(t)):e.removeAttribute(t))}});else{if(o=a[0],(r=N[t])&&r.get)return r.get(o);if(o.ownerDocument.defaultView)try{return o.ownerDocument.defaultView.getComputedStyle(o,null).getPropertyValue(i(t))}catch(t){return b}else if(o.currentStyle)return o.currentStyle[e(t)]}return a},remove:function(){for(var e,t=this.length;t--;)e=this[t],_.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(t){var n;if(s(t)){n=this.length;try{for(;n--;)this[n].innerHTML=t}catch(e){u(this[n]).empty().append(t)}return this}return this[0]?this[0].innerHTML:""},text:function(e){var t;if(s(e)){for(t=this.length;t--;)"innerText"in this[t]?this[t].innerText=e:this[0].textContent=e;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return l(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return l(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?l(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?l(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return u(e).append(this),this},prependTo:function(e){return u(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return o(this,e)},wrapAll:function(e){return o(this,e,!0)},wrapInner:function(e){return this.each(function(){u(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){u(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),u(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(o,r){var e=this;return"string"!=typeof o||(-1!==o.indexOf(" ")?h(o.split(" "),function(){e.toggleClass(this,r)}):e.each(function(e,t){var n,i=c(t,o);i!==r&&(n=t.className,i?t.className=d((" "+n+" ").replace(" "+o+" "," ")):t.className+=n?" "+o:o)})),e},hasClass:function(e){return c(this[0],e)},each:function(e){return h(this,e)},on:function(e,t){return this.each(function(){_.bind(this,e,t)})},off:function(e,t){return this.each(function(){_.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?_.fire(this,e.type,e):_.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new u(k.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){for(var t=[],n=0,i=this.length;n<i;n++)u.find(e,this[n],t);return u(t)},filter:function(n){return u("function"==typeof n?f(this.toArray(),function(e,t){return n(t,e)}):u.filter(n,this.toArray()))},closest:function(n){var i=[];return n instanceof u&&(n=n[0]),this.each(function(e,t){for(;t;){if("string"==typeof n&&u(t).is(n)){i.push(t);break}if(t==n){i.push(t);break}t=t.parentNode}}),u(i)},offset:function(e){var t,n,i=0,o=0;return e?this.css(e):((n=this[0])&&(e=(t=n.ownerDocument).documentElement,n.getBoundingClientRect&&(i=(n=n.getBoundingClientRect()).left+(e.scrollLeft||t.body.scrollLeft)-e.clientLeft,o=n.top+(e.scrollTop||t.body.scrollTop)-e.clientTop)),{left:i,top:o})},push:w,sort:[].sort,splice:[].splice},n.extend(u,{extend:n.extend,makeArray:function(e){return(t=e)&&t==t.window||e.nodeType?[e]:n.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:n.isArray,each:h,trim:d,grep:f,find:t,expr:t.selectors,unique:t.uniqueSort,text:t.getText,contains:t.contains,filter:function(e,t,n){var i=t.length;for(n&&(e=":not("+e+")");i--;)1!=t[i].nodeType&&t.splice(i,1);return 1===t.length?u.find.matchesSelector(t[0],e)?[t[0]]:[]:u.find.matches(e,t)}}),h({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return m(e,"parentNode")},next:function(e){return v(e,"nextSibling",1)},prev:function(e){return v(e,"previousSibling",1)},children:function(e){return g(e.firstChild,"nextSibling",1)},contents:function(e){return n.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,i){u.fn[e]=function(t){var n=[];return this.each(function(){var e=i.call(n,this,t,n);e&&(u.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(T[e]||(n=u.unique(n)),0===e.indexOf("parents")&&(n=n.reverse())),n=u(n),t?n.filter(t):n}}),h({parentsUntil:function(e,t){return m(e,"parentNode",t)},nextUntil:function(e,t){return g(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return g(e,"previousSibling",1,t).slice(1)}},function(i,o){u.fn[i]=function(t,e){var n=[];return this.each(function(){var e=o.call(n,this,t,n);e&&(u.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(n=u.unique(n),0!==i.indexOf("parents")&&"prevUntil"!==i||(n=n.reverse())),n=u(n),e?n.filter(e):n}}),u.fn.is=function(e){return!!e&&0<this.filter(e).length},u.fn.init.prototype=u.fn,u.overrideDefaults=function(n){function i(e,t){return o=o||n(),0===arguments.length&&(e=o.element),t=t||o.context,new i.fn.init(e,t)}var o;return u.extend(i,this),i},i.ie&&i.ie<8&&(y(E,"get",{maxlength:function(e){e=e.maxLength;return 2147483647===e?b:e},size:function(e){e=e.size;return 20===e?b:e},class:function(e){return e.className},style:function(e){e=e.style.cssText;return 0===e.length?b:e}}),y(E,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),i.ie&&i.ie<9&&(M.float="styleFloat",y(N,"set",{opacity:function(e,t){e=e.style;null===t||""===t?e.removeAttribute("filter"):(e.zoom=1,e.filter="alpha(opacity="+100*t+")")}})),u.attrHooks=E,u.cssHooks=N,u}),n("b",[],function(){return function(y,e){function b(e,t,n,i){function o(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+o(t)+o(n)+o(i)}var x,t,c,u,w=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,k=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,C=/\s*([^:]+):\s*([^;]+);?/g,_=/\s+$/,T={},S="\ufeff";for(y=y||{},e&&(c=e.getValidStyles(),u=e.getInvalidStyles()),t=("\\\" \\' \\; \\: ; : "+S).split(" "),x=0;x<t.length;x++)T[t[x]]=S+x,T[S+x]=t[x];return{toHex:function(e){return e.replace(w,b)},parse:function(e){function t(e,t,n){var i,o,r,a=m[e+"-top"+t];if(a&&((i=m[e+"-right"+t])&&((o=m[e+"-bottom"+t])&&(r=m[e+"-left"+t])))){var s=[a,i,o,r];for(x=s.length-1;x--&&s[x]===s[x+1];);-1<x&&n||(m[e+t]=-1==x?s[0]:s.join(" "),delete m[e+"-top"+t],delete m[e+"-right"+t],delete m[e+"-bottom"+t],delete m[e+"-left"+t])}}function n(e){var t,n=m[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return;return m[e]=n[0],1}}function i(e){return u=!0,T[e]}function a(e,t){return u&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return T[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function o(e){return String.fromCharCode(parseInt(e.slice(1),16))}function r(e){return e.replace(/\\[0-9a-f]+/gi,o)}function s(e,t,n,i,o,r){if(o=o||r)return"'"+(o=a(o)).replace(/\'/g,"\\'")+"'";if(t=a(t||n||i),!y.allow_script_urls){i=t.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(i))return"";if(!y.allow_svg_data_urls&&/^data:image\/svg/i.test(i))return""}return g&&(t=g.call(v,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')"}var l,c,u,d,h,f,p,m={},g=y.url_converter,v=y.url_converter_scope||this;if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,i).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,i)});c=C.exec(e);)if(C.lastIndex=c.index+c[0].length,l=c[1].replace(_,"").toLowerCase(),c=c[2].replace(_,""),l&&c){if(l=r(l),c=r(c),-1!==l.indexOf(S)||-1!==l.indexOf('"'))continue;if(!y.allow_script_urls&&("behavior"==l||/expression\s*\(|\/\*|\*\//.test(c)))continue;"font-weight"===l&&"700"===c?c="bold":"color"!==l&&"background-color"!==l||(c=c.toLowerCase()),c=(c=c.replace(w,b)).replace(k,s),m[l]=u?a(c,!0):c}t("border","",!0),t("border","-width"),t("border","-color"),t("border","-style"),t("padding",""),t("margin",""),d="border",f="border-style",p="border-color",n(h="border-width")&&n(f)&&n(p)&&(m[d]=m[h]+" "+m[f]+" "+m[p],delete m[h],delete m[f],delete m[p]),"medium none"===m.border&&delete m.border,"none"===m["border-image"]&&delete m["border-image"]}return m},serialize:function(r,e){function t(e){var t,n,i,o;if(t=c[e])for(n=0,i=t.length;n<i;n++)e=t[n],(o=r[e])&&(l+=(0<l.length?" ":"")+e+": "+o+";")}var n,i,o,a,s,l="";if(e&&c)t("*"),t(e);else for(n in r)i=r[n],!i||u&&(o=n,a=e,s=void 0,s=u["*"],s&&s[o]||(s=u[a])&&s[o])||(l+=(0<l.length?" ":"")+n+": "+i+";");return l}}}}),n("c",[],function(){return function(e,a){function t(e,t,n,i){var o,r;if(e){if(!i&&e[t])return e[t];if(e!=a){if(o=e[n])return o;for(r=e.parentNode;r&&r!=a;r=r.parentNode)if(o=r[n])return o}}}var n=e;this.current=function(){return n},this.next=function(e){return n=t(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=t(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=function(e,t,n,i){var o,r;if(e&&(o=e[n],!a||o!==a)){if(o){if(!i)for(r=o[t];r;r=r[t])if(!r[t])return r;return o}return(e=e.parentNode)&&e!==a?e:void 0}}(n,"lastChild","previousSibling",e)}}}),n("d",["9"],function(e){function t(e,t){var n,i,o,r={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),l[i]||(o="&"+e[n+1]+";",r[i]=o,r[o]=i);return r}}var i=e.makeMap,o=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,r=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n=/[<>&\"\']/g,a=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,s={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"},l={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},c={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},u=t("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),d={encodeRaw:function(e,t){return e.replace(t?o:r,function(e){return l[e]||e})},encodeAllRaw:function(e){return(""+e).replace(n,function(e){return l[e]||e})},encodeNumeric:function(e,t){return e.replace(t?o:r,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":l[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||u,e.replace(t?o:r,function(e){return l[e]||n[e]||e})},getEncodeFunc:function(e,n){return n=t(n)||u,(e=i(e.replace(/\+/g,","))).named&&e.numeric?function(e,t){return e.replace(t?o:r,function(e){return void 0!==l[e]?l[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:e.named?n?function(e,t){return d.encodeNamed(e,t,n)}:d.encodeNamed:e.numeric?d.encodeNumeric:d.encodeRaw},decode:function(e){return e.replace(a,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):s[t]||String.fromCharCode(t):c[e]||u[e]||(t=e,(e=document.createElement("div")).innerHTML=t,e.textContent||e.innerText||t)})}};return d}),n("1h",["9"],function(A){function M(u){function d(){return y.createDocumentFragment()}function t(e,t){r(w,e,t)}function n(e,t){r(k,e,t)}function i(e){t(e.parentNode,D(e))}function o(e){n(e.parentNode,D(e)+1)}function e(){return a(b)}function h(e,t){var n;if(3==e.nodeType)return e;if(t<0)return e;for(n=e.firstChild;n&&0<t;)--t,n=n.nextSibling;return n||e}function c(e,t,n,i){var o,r,a,s,l,c;if(e==n)return t==i?0:t<i?-1:1;for(o=n;o&&o.parentNode!=e;)o=o.parentNode;if(o){for(r=0,a=e.firstChild;a!=o&&r<t;)r++,a=a.nextSibling;return t<=r?-1:1}for(o=e;o&&o.parentNode!=n;)o=o.parentNode;if(o){for(r=0,a=n.firstChild;a!=o&&r<i;)r++,a=a.nextSibling;return r<i?-1:1}for(s=u.findCommonAncestor(e,n),l=e;l&&l.parentNode!=s;)l=l.parentNode;for(l=l||s,c=n;c&&c.parentNode!=s;)c=c.parentNode;if(l==(c=c||s))return 0;for(a=s.firstChild;a;){if(a==l)return-1;if(a==c)return 1;a=a.nextSibling}}function r(e,t,n){var i,o;for(e?(v[_]=t,v[C]=n):(v[T]=t,v[S]=n),i=v[T];i.parentNode;)i=i.parentNode;for(o=v[_];o.parentNode;)o=o.parentNode;(o!=i||0<c(v[_],v[C],v[T],v[S]))&&v.collapse(e),v.collapsed=v[_]==v[T]&&v[C]==v[S],v.commonAncestorContainer=u.findCommonAncestor(v[_],v[T])}function a(e){var t,n,i,o,r,a,s,l=0,c=0;if(v[_]==v[T])return function(e){var t,n,i,o,r,a,s,l;if(e!=x&&(t=d()),v[C]==v[S])return t;if(3==v[_].nodeType)return l=v[_].nodeValue,n=l.substring(v[C],v[S]),e!=b&&(i=v[_],s=v[C],l=v[S]-v[C],0===s&&l>=i.nodeValue.length-1?i.parentNode.removeChild(i):i.deleteData(s,l),v.collapse(w)),e==x?void 0:(0<n.length&&t.appendChild(y.createTextNode(n)),t);for(i=h(v[_],v[C]),o=v[S]-v[C];i&&0<o;)r=i.nextSibling,a=g(i,e),t&&t.appendChild(a),--o,i=r;return e!=b&&v.collapse(w),t}(e);for(n=(t=v[T]).parentNode;n;n=(t=n).parentNode){if(n==v[_])return function(e,t){var n,i,o,r,a,s;if(t!=x&&(n=d()),i=f(e,t),n&&n.appendChild(i),o=D(e),(r=o-v[C])<=0)return t!=b&&(v.setEndBefore(e),v.collapse(k)),n;for(i=e.previousSibling;0<r;)a=i.previousSibling,s=g(i,t),n&&n.insertBefore(s,n.firstChild),--r,i=a;return t!=b&&(v.setEndBefore(e),v.collapse(k)),n}(t,e);++l}for(n=(t=v[_]).parentNode;n;n=(t=n).parentNode){if(n==v[T])return function(e,t){var n,i,o,r,a,s;for(t!=x&&(n=d()),o=p(e,t),n&&n.appendChild(o),i=D(e),++i,r=v[S]-i,o=e.nextSibling;o&&0<r;)a=o.nextSibling,s=g(o,t),n&&n.appendChild(s),--r,o=a;return t!=b&&(v.setStartAfter(e),v.collapse(w)),n}(t,e);++c}for(i=c-l,o=v[_];0<i;)o=o.parentNode,i--;for(r=v[T];i<0;)r=r.parentNode,i++;for(a=o.parentNode,s=r.parentNode;a!=s;a=a.parentNode,s=s.parentNode)o=a,r=s;return function(e,t,n){var i,o,r,a,s,l,c;for(n!=x&&(o=d()),i=p(e,n),o&&o.appendChild(i),r=D(e),a=D(t),s=a-++r,l=e.nextSibling;0<s;)c=l.nextSibling,i=g(l,n),o&&o.appendChild(i),l=c,--s;return i=f(t,n),o&&o.appendChild(i),n!=b&&(v.setStartAfter(e),v.collapse(w)),o}(o,r,e)}function f(e,t){var n,i,o,r,a,s=h(v[T],v[S]-1),l=s!=v[T];if(s==e)return m(s,l,k,t);for(i=m(n=s.parentNode,k,k,t);n;){for(;s;)o=s.previousSibling,r=m(s,l,k,t),t!=x&&i.insertBefore(r,i.firstChild),l=w,s=o;if(n==e)return i;s=n.previousSibling,a=m(n=n.parentNode,k,k,t),t!=x&&a.appendChild(i),i=a}}function p(e,t){var n,i,o,r,a,s=h(v[_],v[C]),l=s!=v[_];if(s==e)return m(s,l,w,t);for(i=m(n=s.parentNode,k,w,t);n;){for(;s;)o=s.nextSibling,r=m(s,l,w,t),t!=x&&i.appendChild(r),l=w,s=o;if(n==e)return i;s=n.nextSibling,a=m(n=n.parentNode,k,w,t),t!=x&&a.appendChild(i),i=a}}function m(e,t,n,i){var o,r;return t?g(e,i):3==e.nodeType?(t=e.nodeValue,r=n?(r=v[C],o=t.substring(r),t.substring(0,r)):(r=v[S],o=t.substring(0,r),t.substring(r)),i!=b&&(e.nodeValue=r),i==x?void 0:((r=u.clone(e,k)).nodeValue=o,r)):i!=x?u.clone(e,k):void 0}function g(e,t){return t!=x?t==b?u.clone(e,w):e:void e.parentNode.removeChild(e)}var v=this,y=u.doc,s=0,b=1,x=2,w=!0,k=!1,C="startOffset",_="startContainer",T="endContainer",S="endOffset",l=A.extend,D=u.nodeIndex;return l(v,{startContainer:y,startOffset:0,endContainer:y,endOffset:0,collapsed:w,commonAncestorContainer:y,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:t,setEnd:n,setStartBefore:i,setStartAfter:function(e){t(e.parentNode,D(e)+1)},setEndBefore:function(e){n(e.parentNode,D(e))},setEndAfter:o,collapse:function(e){e?(v[T]=v[_],v[S]=v[C]):(v[_]=v[T],v[C]=v[S]),v.collapsed=w},selectNode:function(e){i(e),o(e)},selectNodeContents:function(e){t(e,0),n(e,(1===e.nodeType?e.childNodes:e.nodeValue).length)},compareBoundaryPoints:function(e,t){var n=v[_],i=v[C],o=v[T],r=v[S],a=t.startContainer,s=t.startOffset,l=t.endContainer,t=t.endOffset;return 0===e?c(n,i,a,s):1===e?c(o,r,a,s):2===e?c(o,r,l,t):3===e?c(n,i,l,t):void 0},deleteContents:function(){a(x)},extractContents:function(){return a(s)},cloneContents:e,insertNode:function(e){var t,n=this[_],i=this[C];3!==n.nodeType&&4!==n.nodeType||!n.nodeValue?(0<n.childNodes.length&&(t=n.childNodes[i]),t?n.insertBefore(e,t):3==n.nodeType?u.insertAfter(e,n):n.appendChild(e)):i?i>=n.nodeValue.length?u.insertAfter(e,n):(i=n.splitText(i),n.parentNode.insertBefore(e,i)):n.parentNode.insertBefore(e,n)},surroundContents:function(e){var t=v.extractContents();v.insertNode(e),e.appendChild(t),v.selectNode(e)},cloneRange:function(){return l(new M(u),{startContainer:v[_],startOffset:v[C],endContainer:v[T],endOffset:v[S],collapsed:v.collapsed,commonAncestorContainer:v.commonAncestorContainer})},toStringIE:function(){return u.create("body",null,e()).outerText}}),v}return M.prototype.toString=function(){return this.toStringIE()},M}),e("4r",Array),e("4s",Error),n("3t",["4r","4s"],function(r,t){function e(e){return function(){return e}}return{noop:function(){},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:e,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(i){for(var o=new r(arguments.length-1),e=1;e<arguments.length;e++)o[e-1]=arguments[e];return function(){for(var e=new r(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];var n=o.concat(e);return i.apply(null,n)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:e(!1),always:e(!0)}}),e("5j",Object),n("4q",["3t","5j"],function(e,t){function r(){return l}var n,a=e.never,s=e.always,l=(n={fold:function(e,t){return e()},is:a,isSome:a,isNone:s,getOr:o,getOrThunk:i,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:o,orThunk:i,map:r,ap:r,each:function(){},bind:r,flatten:r,exists:a,forall:s,filter:r,equals:n=function(e){return e.isNone()},equals_:n,toArray:function(){return[]},toString:e.constant("none()")},t.freeze&&t.freeze(n),n),c=function(n){function e(){return n}function t(){return o}function i(e){return e(n)}var o={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:s,isNone:a,getOr:e,getOrThunk:e,getOrDie:e,or:t,orThunk:t,map:function(e){return c(e(n))},ap:function(e){return e.fold(r,function(e){return c(e(n))})},each:function(e){e(n)},bind:i,flatten:e,exists:i,forall:i,filter:function(e){return e(n)?o:l},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(a,function(e){return t(n,e)})},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o};function i(e){return e()}function o(e){return e}return{some:c,none:r,from:function(e){return null==e?l:c(e)}}}),e("4t",String),n("3s",["4q","4r","4s","4t"],function(r,a,o,s){function n(e,t){return-1<f(e,t)}function i(e,t){for(var n=e.length,i=new a(n),o=0;o<n;o++){var r=e[o];i[o]=t(r,o,e)}return i}function l(e,t){for(var n=0,i=e.length;n<i;n++){t(e[n],n,e)}}function c(e,t){for(var n=e.length-1;0<=n;n--){t(e[n],n,e)}}function u(e,t){for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i];t(r,i,e)&&n.push(r)}return n}function d(e){for(var t=[],n=0,i=e.length;n<i;++n){if(!a.prototype.isPrototypeOf(e[n]))throw new o("Arr.flatten item "+n+" was not an array, input: "+e);g.apply(t,e[n])}return t}function t(e,t){for(var n=0,i=e.length;n<i;++n){if(!0!==t(e[n],n,e))return!1}return!0}var h,f=void 0===(h=a.prototype.indexOf)?function(e,t){return m(e,t)}:function(e,t){return h.call(e,t)},p=function(e,t){for(var n=0,i=e.length;n<i;n++){if(t(e[n],n,e))return r.some(n)}return r.none()},m=function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return n;return-1},g=a.prototype.push,v=a.prototype.slice;return{map:i,each:l,eachr:c,partition:function(e,t){for(var n=[],i=[],o=0,r=e.length;o<r;o++){var a=e[o];(t(a,o,e)?n:i).push(a)}return{pass:n,fail:i}},filter:u,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),i=[],o=[],r=0,a=e.length;r<a;r++){var s=e[r],l=t(s);l!==n&&(i.push(o),o=[]),n=l,o.push(s)}return 0!==o.length&&i.push(o),i},indexOf:function(e,t){t=f(e,t);return-1===t?r.none():r.some(t)},foldr:function(e,t,n){return c(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return l(e,function(e){n=t(n,e)}),n},find:function(e,t){for(var n=0,i=e.length;n<i;n++){var o=e[n];if(t(o,n,e))return r.some(o)}return r.none()},findIndex:p,flatten:d,bind:function(e,t){t=i(e,t);return d(t)},forall:t,exists:function(e,t){return p(e,t).isSome()},contains:n,equal:function(e,n){return e.length===n.length&&t(e,function(e,t){return e===n[t]})},reverse:function(e){e=v.call(e,0);return e.reverse(),e},chunk:function(e,t){for(var n=[],i=0;i<e.length;i+=t){var o=e.slice(i,i+t);n.push(o)}return n},difference:function(e,t){return u(e,function(e){return!n(t,e)})},mapToObject:function(e,t){for(var n={},i=0,o=e.length;i<o;i++){var r=e[i];n[s(r)]=t(r,i)}return n},pure:function(e){return[e]},sort:function(e,t){e=v.call(e,0);return e.sort(t),e},range:function(e,t){for(var n=[],i=0;i<e;i++)n.push(t(i));return n}}}),e("5k",setTimeout),n("4u",["3s","4q","5k"],function(s,l,c){var u=function(e){var n=l.none(),t=[],i=function(e){o()?a(e):t.push(e)},o=function(){return n.isSome()},r=function(e){s.each(e,a)},a=function(t){n.each(function(e){c(function(){t(e)},0)})};return e(function(e){n=l.some(e),r(t),t=[]}),{get:i,map:function(n){return u(function(t){i(function(e){t(n(e))})})},isReady:o}};return{nu:u,pure:function(t){return u(function(e){e(t)})}}}),n("4v",["4r","5k"],function(i,o){return{bounce:function(n){return function(){var e=i.prototype.slice.call(arguments),t=this;o(function(){n.apply(t,e)},0)}}}}),n("3u",["4u","4v"],function(n,i){var o=function(t){function e(e){t(i.bounce(e))}return{map:function(n){return o(function(t){e(function(e){e=n(e);t(e)})})},bind:function(n){return o(function(t){e(function(e){n(e).get(t)})})},anonBind:function(n){return o(function(t){e(function(e){n.get(t)})})},toLazy:function(){return n.nu(e)},get:e}};return{nu:o,pure:function(t){return o(function(e){e(t)})}}}),n("4w",["3s"],function(t){return{par:function(a,e){return e(function(i){var o=[],r=0;0===a.length?i([]):t.each(a,function(e,t){var n;e.get((n=t,function(e){o[n]=e,++r>=a.length&&i(o)}))})})}}}),n("3v",["3s","3u","4w"],function(n,t,i){function o(e){return i.par(e,t.nu)}return{par:o,mapM:function(e,t){t=n.map(e,t);return o(t)},compose:function(t,n){return function(e){return n(e).bind(t)}}}}),n("3w",["3t","4q"],function(e,t){var i=function(n){return{is:function(e){return n===e},isValue:e.constant(!0),isError:e.constant(!1),getOr:e.constant(n),getOrThunk:e.constant(n),getOrDie:e.constant(n),or:function(e){return i(n)},orThunk:function(e){return i(n)},fold:function(e,t){return t(n)},map:function(e){return i(e(n))},each:function(e){e(n)},bind:function(e){return e(n)},exists:function(e){return e(n)},forall:function(e){return e(n)},toOption:function(){return t.some(n)}}},o=function(n){return{is:e.constant(!1),isValue:e.constant(!1),isError:e.constant(!0),getOr:e.identity,getOrThunk:function(e){return e()},getOrDie:function(){return e.die(n)()},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return o(n)},each:e.noop,bind:function(e){return o(n)},exists:e.constant(!1),forall:e.constant(!0),toOption:t.none}};return{value:i,error:o}}),n("1i",["3s","3t","3u","3v","3w","5","9"],function(r,a,s,l,c,v,y){"use strict";return function(h,e){function f(e){h.getElementsByTagName("head")[0].appendChild(e)}function n(e,t,n){function i(){for(var e=u.passed,t=e.length;t--;)e[t]();u.status=2,u.passed=[],u.failed=[]}function o(){for(var e=u.failed,t=e.length;t--;)e[t]();u.status=3,u.passed=[],u.failed=[]}function r(e,t){e()||((new Date).getTime()-c<g?v.setTimeout(t):o())}function a(){r(function(){for(var e,t=h.styleSheets,n=t.length;n--;)if((e=(e=t[n]).ownerNode?e.ownerNode:e.owningElement)&&e.id===s.id)return i(),1},a)}var s,l,c,u,d;if(e=y._addCacheSuffix(e),m[e]?u=m[e]:(u={passed:[],failed:[]},m[e]=u),t&&u.passed.push(t),n&&u.failed.push(n),1!=u.status)if(2!=u.status)if(3!=u.status){if(u.status=1,(s=h.createElement("link")).rel="stylesheet",s.type="text/css",s.id="u"+p++,s.async=!1,s.defer=!1,c=(new Date).getTime(),"onload"in s&&!((d=navigator.userAgent.match(/WebKit\/(\d*)/))&&d[1]<536))s.onload=a,s.onerror=o;else{if(0<navigator.userAgent.indexOf("Firefox"))return(l=h.createElement("style")).textContent='@import "'+e+'"',function e(){r(function(){try{var e=l.sheet.cssRules;return i(),e}catch(e){}},e)}(),void f(l);a()}f(s),s.href=e}else o();else i()}function i(t){return s.nu(function(e){n(t,a.compose(e,a.constant(c.value(t))),a.compose(e,a.constant(c.error(t))))})}function o(e){return e.fold(a.identity,a.identity)}var p=0,m={},g=(e=e||{}).maxLoadTime||5e3;return{load:n,loadAll:function(e,t,n){l.par(r.map(e,i)).get(function(e){e=r.partition(e,function(e){return e.isValue()});0<e.fail.length?n(e.fail.map(o)):t(e.pass.map(o))})}}}}),n("j",["9"],function(n){function L(e,t){return(e=n.trim(e))?e.split(t||" "):[]}function B(e,n){var i;return e&&(i={},"string"==typeof e&&(e={"*":e}),F(e,function(e,t){i[t]=i[t.toUpperCase()]=("map"==n?j:$)(e,/[, ]/)})),i}var H={},z={},j=n.makeMap,F=n.each,W=n.extend,$=n.explode,U=n.inArray;return function(o){function e(e,t,n){var i=o[e];return i?i=j(i,/[, ]/,j(i.toUpperCase(),/[, ]/)):(i=H[e])||(i=j(t," ",j(t.toUpperCase()," ")),i=W(i,n),H[e]=i),i}function C(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function t(e){var t,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,w=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/;if(e)for(e=L(e,","),M["@"]&&(g=M["@"].attributes,v=M["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(r=x.exec(e[t])){if(p=r[1],c=r[2],m=r[3],l=r[5],a={attributes:h={},attributesOrder:f=[]},"#"===p&&(a.paddEmpty=!0),"-"===p&&(a.removeEmpty=!0),"!"===r[4]&&(a.removeEmptyAttrs=!0),g){for(y in g)h[y]=g[y];f.push.apply(f,v)}if(l)for(i=0,o=(l=L(l,"|")).length;i<o;i++)if(r=w.exec(l[i])){if(s={},d=r[1],u=r[2].replace(/::/g,":"),p=r[3],b=r[4],"!"===d&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(u),s.required=!0),"-"===d){delete h[u],f.splice(U(f,u),1);continue}p&&("="===p&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:u,value:b}),s.defaultValue=b),":"===p&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:u,value:b}),s.forcedValue=b),"<"===p&&(s.validValues=j(b,"?"))),k.test(u)?(a.attributePatterns=a.attributePatterns||[],s.pattern=C(u),a.attributePatterns.push(s)):(h[u]||f.push(u),h[u]=s)}g||"@"!=c||(g=h,v=f),m&&(a.outputName=c,M[m]=a),k.test(c)?(a.pattern=C(c),N.push(a)):M[c]=a}}function n(e){M={},N=[],t(e),F(c,function(e,t){E[t]=e.children})}function i(e){var o=/^(~)?(.+)$/;e&&(H.text_block_elements=H.block_elements=null,F(L(e,","),function(e){var t=o.exec(e),e="~"===t[1],n=e?"span":"div",i=t[2];E[i]=E[n],P[i]=n,e||(m[i.toUpperCase()]={},m[i]={}),M[i]||(e=M[n],delete(e=W({},e)).removeEmptyAttrs,delete e.removeEmpty,M[i]=e),F(E,function(e,t){e[n]&&(E[t]=e=W({},E[t]),e[i]=e[n])})}))}function r(e){var i=/^([+\-]?)(\w+)\[([^\]]+)\]$/;H[o.schema]=null,e&&F(L(e,","),function(e){var t,n,e=i.exec(e);e&&(n=e[1],t=n?E[e[2]]:E[e[2]]={"#comment":{}},t=E[e[2]],F(L(e[3],"|"),function(e){"-"===n?delete t[e]:t[e]={}}))})}function a(e){var t,n=M[e];if(n)return n;for(t=N.length;t--;)if((n=N[t]).pattern.test(e))return n}var s,l,c,u,d,h,f,p,m,g,v,y,b,x,w,k,_,T,S,D,A=this,M={},E={},N=[],P={},I={};function R(e,t,n){function i(e,t){for(var n={},i=0,o=e.length;i<o;i++)n[e[i]]=t||{};return n}var o,r;for(t=t||"","string"==typeof(n=n||[])&&(n=L(n)),o=(e=L(e)).length;o--;)r={attributes:i(r=L([w,t].join(" "))),attributesOrder:r,children:i(n,z)},D[e[o]]=r}function O(e,t){var n,i,o,r=(e=L(e)).length;for(t=L(t);r--;)for(n=D[e[r]],i=0,o=t.length;i<o;i++)n.attributes[t[i]]={},n.attributesOrder.push(t[i])}x=(o=o||{}).schema,D={},c=H[x]?H[x]:(w="id accesskey class dir lang style tabindex title role",k="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",_="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=x&&(w+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",k+=" article aside details dialog figure header footer hgroup section nav",_+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=x&&(w+=" xml:lang",_=[_,S="acronym applet basefont big font strike tt"].join(" "),F(L(S),function(e){R(e,"",_)}),k=[k,S="center dir isindex noframes"].join(" "),T=[k,_].join(" "),F(L(S),function(e){R(e,"",T)})),T=T||[k,_].join(" "),R("html","manifest","head body"),R("head","","base command link meta noscript script style title"),R("title hr noscript br"),R("base","href target"),R("link","href rel media hreflang type sizes hreflang"),R("meta","name http-equiv content charset"),R("style","media type scoped"),R("script","src async defer type charset"),R("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",T),R("address dt dd div caption","",T),R("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",_),R("blockquote","cite",T),R("ol","reversed start type","li"),R("ul","","li"),R("li","value",T),R("dl","","dt dd"),R("a","href target rel media hreflang type",_),R("q","cite",_),R("ins del","cite datetime",T),R("img","src sizes srcset alt usemap ismap width height"),R("iframe","src name width height",T),R("embed","src type width height"),R("object","data type typemustmatch name usemap form width height",[T,"param"].join(" ")),R("param","name value"),R("map","name",[T,"area"].join(" ")),R("area","alt coords shape href target rel media hreflang type"),R("table","border","caption colgroup thead tfoot tbody tr"+("html4"==x?" col":"")),R("colgroup","span","col"),R("col","span"),R("tbody thead tfoot","","tr"),R("tr","","td th"),R("td","colspan rowspan headers",T),R("th","colspan rowspan headers scope abbr",T),R("form","accept-charset action autocomplete enctype method name novalidate target",T),R("fieldset","disabled form name",[T,"legend"].join(" ")),R("label","form for",_),R("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),R("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==x?T:_),R("select","disabled form multiple name required size","option optgroup"),R("optgroup","disabled label","option"),R("option","disabled label selected value"),R("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),R("menu","type label",[T,"li"].join(" ")),R("noscript","",T),"html4"!=x&&(R("wbr"),R("ruby","",[_,"rt rp"].join(" ")),R("figcaption","",T),R("mark rt rp summary bdi","",_),R("canvas","width height",T),R("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[T,"track source"].join(" ")),R("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[T,"track source"].join(" ")),R("picture","","img source"),R("source","src srcset type media sizes"),R("track","kind src srclang label default"),R("datalist","",[_,"option"].join(" ")),R("article section nav aside header footer","",T),R("hgroup","","h1 h2 h3 h4 h5 h6"),R("figure","",[T,"figcaption"].join(" ")),R("time","datetime",_),R("dialog","open",T),R("command","type label icon disabled checked radiogroup command"),R("output","for form name",_),R("progress","value max",_),R("meter","value min max low high optimum",_),R("details","open",[T,"summary"].join(" ")),R("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=x&&(O("script","language xml:space"),O("style","xml:space"),O("object","declare classid code codebase codetype archive standby align border hspace vspace"),O("embed","align name hspace vspace"),O("param","valuetype type"),O("a","charset name rev shape coords"),O("br","clear"),O("applet","codebase archive code object alt name width height align hspace vspace"),O("img","name longdesc align border hspace vspace"),O("iframe","longdesc frameborder marginwidth marginheight scrolling align"),O("font basefont","size color face"),O("input","usemap align"),O("select","onchange"),O("textarea"),O("h1 h2 h3 h4 h5 h6 div p legend caption","align"),O("ul","type compact"),O("li","type"),O("ol dl menu dir","compact"),O("pre","width xml:space"),O("hr","align noshade size width"),O("isindex","prompt"),O("table","summary width frame rules cellspacing cellpadding align bgcolor"),O("col","width align char charoff valign"),O("colgroup","width align char charoff valign"),O("thead","align char charoff valign"),O("tr","align char charoff valign bgcolor"),O("th","axis align char charoff valign nowrap bgcolor width height"),O("form","accept"),O("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),O("tfoot","align char charoff valign"),O("tbody","align char charoff valign"),O("area","nohref"),O("body","background bgcolor text link vlink alink")),"html4"!=x&&(O("input button select textarea","autofocus"),O("input textarea","placeholder"),O("a","download"),O("link script img","crossorigin"),O("iframe","sandbox seamless allowfullscreen")),F(L("a form meter progress dfn"),function(e){D[e]&&delete D[e].children[e]}),delete D.caption.children.table,delete D.script,H[x]=D),!1===o.verify_html&&(o.valid_elements="*[*]"),s=B(o.valid_styles),l=B(o.invalid_styles,"map"),p=B(o.valid_classes,"map"),u=e("whitespace_elements","pre script noscript style textarea video audio iframe object code"),d=e("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),h=e("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),f=e("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),g=e("non_empty_elements","td th iframe video audio object script pre code",h),v=e("move_caret_before_on_enter_elements","table",g),y=e("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),m=e("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",y),b=e("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),F((o.special||"script noscript style textarea").split(" "),function(e){I[e]=new RegExp("</"+e+"[^>]*>","gi")}),o.valid_elements?n(o.valid_elements):(F(c,function(e,t){M[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},E[t]=e.children}),"html5"!=o.schema&&F(L("strong/b em/i"),function(e){e=L(e,"/"),M[e[1]].outputName=e[0]}),F(L("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){M[e]&&(M[e].removeEmpty=!0)}),F(L("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){M[e].paddEmpty=!0}),F(L("span"),function(e){M[e].removeEmptyAttrs=!0})),i(o.custom_elements),r(o.valid_children),t(o.extended_valid_elements),r("+ol[ul|ol],+ul[ul|ol]"),F({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){M[t]&&(M[t].parentsRequired=L(e))}),o.invalid_elements&&F($(o.invalid_elements),function(e){M[e]&&delete M[e]}),a("span")||t("span[!data-mce-type|*]"),A.children=E,A.getValidStyles=function(){return s},A.getInvalidStyles=function(){return l},A.getValidClasses=function(){return p},A.getBoolAttrs=function(){return f},A.getBlockElements=function(){return m},A.getTextBlockElements=function(){return y},A.getTextInlineElements=function(){return b},A.getShortEndedElements=function(){return h},A.getSelfClosingElements=function(){return d},A.getNonEmptyElements=function(){return g},A.getMoveCaretBeforeOnEnterElements=function(){return v},A.getWhiteSpaceElements=function(){return u},A.getSpecialElements=function(){return I},A.isValidChild=function(e,t){e=E[e.toLowerCase()];return!(!e||!e[t.toLowerCase()])},A.isValid=function(e,t){var n,i,o=a(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},A.getElementRule=a,A.getCustomElements=function(){return P},A.addValidElements=t,A.setValidElements=n,A.addCustomElements=i,A.addValidChildren=r,A.elements=M}}),n("e",["a","7","1h","8","1i","c","6","d","j","b","9"],function(c,u,t,o,d,h,i,e,f,p,r){function a(e,t){var n=t.attr("style");n=(n=e.serializeStyle(e.parseStyle(n),t[0].nodeName))||null,t.attr("data-mce-style",n)}function n(e,t){var n,i,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!=i||i!=n&&e.nodeValue.length)&&(o++,n=i);return o}function s(e,t){var n,i,o,r,a,s,l=this;l.doc=e,l.win=window,l.files={},l.counter=0,l.stdMode=!y||8<=e.documentMode,l.boxModel=!y||"CSS1Compat"==e.compatMode||l.stdMode,l.styleSheetLoader=new d(e),l.boundEvents=[],l.settings=t=t||{},l.schema=t.schema?t.schema:new f({}),l.styles=new p({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),l.fixDoc(e),l.events=t.ownEvents?new u(t.proxy):u.Event,l.attrHooks=(i=l,r={},a=(o=t).keep_values,s={set:function(e,t,n){o.url_converter&&(t=o.url_converter.call(o.url_converter_scope||i,t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},r={style:{set:function(e,t){return null!==t&&"object"==typeof t?void e.css(t):(a&&e.attr("data-mce-style",t),void e.attr("style",t))},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return i.serializeStyle(i.parseStyle(t),e[0].nodeName)}}},a&&(r.href=r.src=s),r),n=t.schema?t.schema.getBlockElements():{},l.$=c.overrideDefaults(function(){return{context:e,element:l.getRoot()}}),l.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!n[e.nodeName]):!!n[e]}}var l=r.each,m=r.is,g=r.grep,v=r.trim,y=i.ie,b=/^([a-z0-9],?)+$/i,x=/^[ \t\r\n]*$/;return s.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(t){var e,n=this.settings;if(y&&n.schema)for(e in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(e){t.createElement(e)}),n.schema.getCustomElements())t.createElement(e)},clone:function(t,e){var n,i,o=this;return!y||1!==t.nodeType||e?t.cloneNode(e):(i=o.doc,e?n.firstChild:(n=i.createElement(t.nodeName),l(o.getAttribs(t),function(e){o.setAttrib(n,e.nodeName,o.getAttrib(t,e.nodeName))}),n))},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var t=(e=e||this.win).document,t=this.boxModel?t.documentElement:t.body;return{x:e.pageXOffset||t.scrollLeft,y:e.pageYOffset||t.scrollTop,w:e.innerWidth||t.clientWidth,h:e.innerHeight||t.clientHeight}},getRect:function(e){var t;return e=this.get(e),t=this.getPos(e),e=this.getSize(e),{x:t.x,y:t.y,w:e.w,h:e.h}},getSize:function(e){var t,n;return e=this.get(e),t=this.getStyle(e,"width"),n=this.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,n,i){var o,r=this,a=[];for(e=r.get(e),i=void 0===i,n=n||("BODY"!=r.getRoot().nodeName?r.getRoot().parentNode:null),m(t,"string")&&(t="*"===(o=t)?function(e){return 1==e.nodeType}:function(e){return r.is(e,o)});e&&e!=n&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!i)return e;a.push(e)}e=e.parentNode}return i?a:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(e,t){return o(e,this.get(t)||this.settings.root_element||this.doc,[])},is:function(e,t){var n;if(!e)return!1;if(void 0===e.length){if("*"===t)return 1==e.nodeType;if(b.test(t)){for(t=t.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),n=t.length-1;0<=n;n--)if(t[n]==e)return!0;return!1}}if(e.nodeType&&1!=e.nodeType)return!1;var i=e.nodeType?[e]:e;return 0<o(t,i[0].ownerDocument||i[0],null,i).length},add:function(e,n,i,o,r){var a=this;return this.run(e,function(e){var t=m(n,"string")?a.doc.createElement(n):n;return a.setAttribs(t,i),o&&(o.nodeType?t.appendChild(o):a.setHTML(t,o)),r?t:e.appendChild(t)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var i,o="";for(i in o+="<"+e,t)t.hasOwnProperty(i)&&null!==t[i]&&void 0!==t[i]&&(o+=" "+i+'="'+this.encode(t[i])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(e){var t,n=this.doc,i=n.createElement("div"),o=n.createDocumentFragment();for(e&&(i.innerHTML=e);t=i.firstChild;)o.appendChild(t);return o},remove:function(e,t){return e=this.$$(e),(t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}):e).remove(),1<e.length?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&a(this,e)},getStyle:function(e,t,n){return e=this.$$(e),n?e.css(t):("float"==(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=i.ie&&i.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:void 0)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&a(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){for(var t=e.attributes,n=t.length-1;0<=n;n--)e.removeAttributeNode(t.item(n))})},setAttrib:function(e,t,n){var i,o,r=this.settings;""===n&&(n=null),i=(e=this.$$(e)).attr(t),e.length&&((o=this.attrHooks[t])&&o.set?o.set(e,n,t):e.attr(t,n),i!=n&&r.onSetAttrib&&r.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var i=this;i.$$(e).each(function(e,n){l(t,function(e,t){i.setAttrib(n,t,e)})})},getAttrib:function(e,t,n){var i;return(e=this.$$(e)).length&&(i=(i=this.attrHooks[t])&&i.get?i.get(e,t):e.attr(t)),void 0===i&&(i=n||""),i},getPos:function(e,t){var n,i,o=0,r=0,a=this.doc,s=a.body;if(t=t||s,e=this.get(e)){if(t===s&&e.getBoundingClientRect&&"static"===c(s).css("position"))return i=e.getBoundingClientRect(),t=this.boxModel?a.documentElement:s,{x:o=i.left+(a.documentElement.scrollLeft||s.scrollLeft)-t.clientLeft,y:r=i.top+(a.documentElement.scrollTop||s.scrollTop)-t.clientTop};for(n=e;n&&n!=t&&n.nodeType;)o+=n.offsetLeft||0,r+=n.offsetTop||0,n=n.offsetParent;for(n=e.parentNode;n&&n!=t&&n.nodeType;)o-=n.scrollLeft||0,r-=n.scrollTop||0,n=n.parentNode}return{x:o,y:r}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n=this.doc;if(this!==s.DOM&&n===document){var i=s.DOM.addedStyles;if((i=i||[])[e])return;i[e]=!0,s.DOM.addedStyles=i}(t=n.getElementById("mceDefaultStyles"))||((t=n.createElement("style")).id="mceDefaultStyles",t.type="text/css",(i=n.getElementsByTagName("head")[0]).firstChild?i.insertBefore(t,i.firstChild):i.appendChild(t)),t.styleSheet?t.styleSheet.cssText+=e:t.appendChild(n.createTextNode(e))},loadCSS:function(e){var n,i=this,o=i.doc;return i!==s.DOM&&o===document?void s.DOM.loadCSS(e):(e=e||"",n=o.getElementsByTagName("head")[0],void l(e.split(","),function(e){var t;e=r._addCacheSuffix(e),i.files[e]||(i.files[e]=!0,t=i.create("link",{rel:"stylesheet",href:e}),y&&o.documentMode&&o.recalc&&(t.onload=function(){o.recalc&&o.recalc(),t.onload=null}),n.appendChild(t))}))},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,n){this.$$(e).toggleClass(t,n).each(function(){""===this.className&&c(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,n){e=this.$$(e),y?e.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML="<br>"+n,t.removeChild(t.firstChild)}catch(e){c("<div></div>").html("<br>"+n).contents().slice(1).appendTo(t)}return n}}):e.html(n)},getOuterHTML:function(e){return 1==(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:c("<div></div>").append(c(e).clone()).html()},setOuterHTML:function(e,t){var n=this;n.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}n.remove(c(this).html(t),!0)})},decode:e.decode,encode:e.encodeAllRaw,insertAfter:function(e,i){return i=this.get(i),this.run(e,function(e){var t=i.parentNode,n=i.nextSibling;return n?t.insertBefore(e,n):t.appendChild(e),e})},replace:function(t,e,n){return this.run(e,function(e){return m(e,"array")&&(t=t.cloneNode(!0)),n&&l(g(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},rename:function(t,e){var n,i=this;return t.nodeName!=e.toUpperCase()&&(n=i.create(e),l(i.getAttribs(t),function(e){i.setAttrib(n,e.nodeName,i.getAttrib(t,e.nodeName))}),i.replace(n,t,1)),n||t},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return this.styles.toHex(r.trim(e))},run:function(e,n,i){var o,r=this;return"string"==typeof e&&(e=r.get(e)),!!e&&(i=i||this,e.nodeType||!e.length&&0!==e.length?n.call(i,e):(o=[],l(e,function(e,t){e&&("string"==typeof e&&(e=r.get(e)),o.push(n.call(i,e,t)))}),o))},getAttribs:function(e){var t;if(!(e=this.get(e)))return[];if(y){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});return e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n,i,o,r,a,s,l=0;if(e=e.firstChild){a=new h(e,e.parentNode),t=t||(this.schema?this.schema.getNonEmptyElements():null),r=this.schema?this.schema.getWhiteSpaceElements():{};do{if(1===(o=e.nodeType)){var c=e.getAttribute("data-mce-bogus");if(c){e=a.next("all"===c);continue}if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"!==s)return!1;l++,e=a.next();continue}for(n=(i=this.getAttribs(e)).length;n--;)if("name"===(s=i[n].nodeName)||"data-mce-bookmark"===s)return!1}if(8==o)return!1;if(3===o&&!x.test(e.nodeValue))return!1;if(3===o&&e.parentNode&&r[e.parentNode.nodeName]&&x.test(e.nodeValue))return!1;e=a.next()}while(e)}return l<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new t(this)},nodeIndex:n,split:function(e,t,n){function s(e){var t,n,i,o=e.childNodes,r=e.nodeType;if(1!=r||"bookmark"!=e.getAttribute("data-mce-type")){for(t=o.length-1;0<=t;t--)s(o[t]);if(9!=r){if(3==r&&0<e.nodeValue.length){var a=v(e.nodeValue).length;if(!l.isBlock(e.parentNode)||0<a||0===a&&(i=(n=e).previousSibling&&"SPAN"==n.previousSibling.nodeName,n=n.nextSibling&&"SPAN"==n.nextSibling.nodeName,i&&n))return}else if(1==r&&(1==(o=e.childNodes).length&&o[0]&&1==o[0].nodeType&&"bookmark"==o[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(o[0],e),o.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;l.remove(e)}return e}}var i,o,l=this,r=l.createRng();if(e&&t)return r.setStart(e.parentNode,l.nodeIndex(e)),r.setEnd(t.parentNode,l.nodeIndex(t)),i=r.extractContents(),(r=l.createRng()).setStart(t.parentNode,l.nodeIndex(t)+1),r.setEnd(e.parentNode,l.nodeIndex(e)+1),o=r.extractContents(),(r=e.parentNode).insertBefore(s(i),e),n?r.insertBefore(n,e):r.insertBefore(t,e),r.insertBefore(s(o),e),l.remove(e),n||t},bind:function(e,t,n,i){if(r.isArray(e)){for(var o=e.length;o--;)e[o]=this.bind(e[o],t,n,i);return e}return!this.settings.collect||e!==this.doc&&e!==this.win||this.boundEvents.push([e,t,n,i]),this.events.bind(e,t,n,i||this)},unbind:function(e,t,n){var i;if(r.isArray(e)){for(i=e.length;i--;)e[i]=this.unbind(e[i],t,n);return e}if(this.boundEvents&&(e===this.doc||e===this.win))for(i=this.boundEvents.length;i--;){var o=this.boundEvents[i];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){if(this.boundEvents){for(var e=this.boundEvents.length;e--;){var t=this.boundEvents[e];this.events.unbind(t[0],t[1],t[2])}this.boundEvents=null}o.setDocument&&o.setDocument(),this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var i=this,o=t;if(e)for("string"==typeof o&&(o=function(e){return i.is(e,t)}),e=e[n];e;e=e[n])if(o(e))return e;return null}},s.DOM=new s(document),s.nodeIndex=n,s}),n("f",["e","9"],function(e,f){function t(){var d={},o=[],r={},a=[],h=0;this.isDone=function(e){return 2==d[e]},this.markDone=function(e){d[e]=2},this.add=this.load=function(e,t,n,i){null==d[e]&&(o.push(e),d[e]=0),t&&(r[e]||(r[e]=[]),r[e].push({success:t,failure:i,scope:n||this}))},this.remove=function(e){delete d[e],delete r[e]},this.loadQueue=function(e,t,n){this.loadScripts(o,e,t,n)},this.loadScripts=function(t,e,n,i){function l(t,e){s(r[e],function(e){p(e[t])&&e[t].call(e.scope)}),r[e]=void 0}var c,u=[];a.push({success:e,failure:i,scope:n||this}),(c=function(){var e=g(t);t.length=0,s(e,function(e){return 2===d[e]?void l("success",e):3===d[e]?void l("failure",e):void(1!==d[e]&&(d[e]=1,h++,n=e,i=function(){d[e]=2,h--,l("success",e),c()},o=function(){d[e]=3,h--,u.push(e),l("failure",e),c()},a=(r=m).uniqueId(),(s=document.createElement("script")).id=a,s.type="text/javascript",s.src=f._addCacheSuffix(n),"onreadystatechange"in s?s.onreadystatechange=function(){/loaded|complete/.test(s.readyState)&&t()}:s.onload=t,s.onerror=function(){p(o)?o():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+n)},(document.getElementsByTagName("head")[0]||document.body).appendChild(s)));function t(){r.remove(a),s&&(s.onreadystatechange=s.onload=s=null),i()}var n,i,o,r,a,s}),h||(s(a,function(e){0===u.length?p(e.success)&&e.success.call(e.scope):p(e.failure)&&e.failure.call(e.scope,u)}),a.length=0)})()}}function p(e){return"function"==typeof e}var m=e.DOM,s=f.each,g=f.grep;return t.ScriptLoader=new t,t}),n("g",["f","9"],function(l,e){function c(){this.items=[],this.urls={},this.lookup={}}var u=e.each;return c.prototype={get:function(e){if(this.lookup[e])return this.lookup[e].instance},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(e,t){var n=c.language;if(n&&!1!==c.languageLoad){if(t)if(-1!=(t=","+t+",").indexOf(","+n.substr(0,2)+","))n=n.substr(0,2);else if(-1==t.indexOf(","+n+","))return;l.ScriptLoader.add(this.urls[e]+"/langs/"+n+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(e,t){var n=this.urls[e];u(t,function(e){l.ScriptLoader.add(n+"/"+e)})},load:function(t,n,i,o,e){function r(){var e=a.dependencies(t);u(e,function(e){e=a.createUrl(n,e);a.load(e.resource,e,void 0,void 0)}),i&&(o?i.call(o):i.call(l))}var a=this,s=n;a.urls[t]||("object"==typeof n&&(s=n.prefix+n.resource+n.suffix),0!==s.indexOf("/")&&-1==s.indexOf("://")&&(s=c.baseURL+"/"+s),a.urls[t]=s.substring(0,s.lastIndexOf("/")),a.lookup[t]?r():l.ScriptLoader.add(s,r,o,e))}},c.PluginManager=new c,c.ThemeManager=new c,c}),n("1j",[],function(){function e(t){return function(e){return!!e&&e.nodeType==t}}function t(i){return i=i.toLowerCase().split(" "),function(e){var t,n;if(e&&e.nodeType)for(n=e.nodeName.toLowerCase(),t=0;t<i.length;t++)if(n===i[t])return!0;return!1}}function n(t){return function(e){if(o(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}}var o=e(1);return{isText:e(3),isElement:o,isComment:e(8),isBr:t("br"),isContentEditableTrue:n("true"),isContentEditableFalse:n("false"),matchNodeNames:t,hasPropValue:function(t,n){return function(e){return o(e)&&e[t]===n}},hasAttribute:function(t,e){return function(e){return o(e)&&e.hasAttribute(t)}},hasAttributeValue:function(t,n){return function(e){return o(e)&&e.getAttribute(t)===n}},matchStyleValues:function(n,i){return i=i.toLowerCase().split(" "),function(e){var t;if(o(e))for(t=0;t<i.length;t++)if(e.ownerDocument.defaultView.getComputedStyle(e,null).getPropertyValue(n)===i[t])return!0;return!1}},isBogus:function(e){return o(e)&&e.hasAttribute("data-mce-bogus")}}}),n("1l",[],function(){var t="\ufeff";return{isZwsp:function(e){return e===t},ZWSP:t,trim:function(e){return e.replace(new RegExp(t,"g"),"")}}}),n("1k",["1j","1l"],function(n,r){function t(e){return c(e)&&(e=e.parentNode),o(e)&&e.hasAttribute("data-mce-caret")}function i(e){return c(e)&&r.isZwsp(e.data)}function a(e){return t(e)||i(e)}function s(e){return c(e)&&e.data[0]==r.ZWSP}function l(e){return c(e)&&e.data[e.data.length-1]==r.ZWSP}var o=n.isElement,c=n.isText;return{isCaretContainer:a,isCaretContainerBlock:t,isCaretContainerInline:i,showCaretContainerBlock:function(e){return e&&e.hasAttribute("data-mce-caret")?(t=(t=(t=e).getElementsByTagName("br"))[t.length-1],n.isBogus(t)&&t.parentNode.removeChild(t),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t},insertInline:function(e,t){var n,i=e.ownerDocument.createTextNode(r.ZWSP),o=e.parentNode;if(t){if(n=e.previousSibling,c(n)){if(a(n))return n;if(l(n))return n.splitText(n.data.length-1)}o.insertBefore(i,e)}else{if(n=e.nextSibling,c(n)){if(a(n))return n;if(s(n))return n.splitText(1),n}e.nextSibling?o.insertBefore(i,e.nextSibling):o.appendChild(i)}return i},prependInline:function(e){if(n.isText(e)){var t=e.data;return 0<t.length&&t.charAt(0)!==r.ZWSP&&e.insertData(0,r.ZWSP),e}return null},appendInline:function(e){if(n.isText(e)){var t=e.data;return 0<t.length&&t.charAt(t.length-1)!==r.ZWSP&&e.insertData(t.length,r.ZWSP),e}return null},isBeforeInline:function(e){return e&&n.isText(e.container())&&e.container().data.charAt(e.offset())===r.ZWSP},isAfterInline:function(e){return e&&n.isText(e.container())&&e.container().data.charAt(e.offset()-1)===r.ZWSP},insertBlock:function(e,t,n){var i=t.ownerDocument.createElement(e);return i.setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(((e=document.createElement("br")).setAttribute("data-mce-bogus","1"),e)),e=t.parentNode,n?e.insertBefore(i,t):t.nextSibling?e.insertBefore(i,t.nextSibling):e.appendChild(i),i},hasContent:function(e){return e.firstChild!==e.lastChild||!n.isBr(e.firstChild)},startsWithCaretContainer:s,endsWithCaretContainer:l}}),n("h",["9","c","1j","1h","1k"],function(s,y,e,t,n){function l(e){return o(e)||w(e)}function c(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}function b(e,t,n){return null!==c(e,t,n)}function x(e){return"_mce_caret"===e.id}function i(v){this.walk=function(e,o){function r(e){var t=e[0];return 3===t.nodeType&&t===i&&c>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===d&&0<e.length&&t===u&&3===t.nodeType&&e.splice(e.length-1,1),e}function a(e,t,n){for(var i=[];e&&e!=n;e=e[t])i.push(e);return i}function t(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function n(e,t,n){var i=n?"nextSibling":"previousSibling";for((m=e).parentNode;m&&m!=t;m=s)s=m.parentNode,(l=a(m==e?m:m[i],i)).length&&(n||l.reverse(),o(r(l)))}var s,l,i=e.startContainer,c=e.startOffset,u=e.endContainer,d=e.endOffset,e=v.select("td[data-mce-selected],th[data-mce-selected]");if(0<e.length)g(e,function(e){o([e])});else{if(1==i.nodeType&&i.hasChildNodes()&&(i=i.childNodes[c]),1==u.nodeType&&u.hasChildNodes()&&(f=d,e=(h=u).childNodes,--f>e.length-1?f=e.length-1:f<0&&(f=0),u=e[f]||h),i==u)return o(r([i]));for(var h,f,p=v.findCommonAncestor(i,u),m=i;m;m=m.parentNode){if(m===u)return n(i,p,!0);if(m===p)break}for(m=u;m;m=m.parentNode){if(m===i)return n(u,p);if(m===p)break}f=t(i,p)||i,h=t(u,p)||u,n(i,f,!0),(l=a(f==i?f:f.nextSibling,"nextSibling",h==u?h.nextSibling:h)).length&&o(r(l)),n(u,h)}},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,i=e.startOffset,o=e.endContainer,e=e.endOffset;return n==o&&3==n.nodeType?0<i&&i<n.nodeValue.length&&(n=(o=t(n,i)).previousSibling,i<e?(n=o=t(o,e-=i).previousSibling,e=o.nodeValue.length,i=0):e=0):(3==n.nodeType&&0<i&&i<n.nodeValue.length&&(n=t(n,i),i=0),3==o.nodeType&&0<e&&e<o.nodeValue.length&&(e=(o=t(o,e).previousSibling).nodeValue.length)),{startContainer:n,startOffset:i,endContainer:o,endOffset:e}},this.normalize=function(p){function e(e){function t(e,t){for(var n=new y(e,v.getParent(e.parentNode,v.isBlock)||l);e=n[t?"prev":"next"]();)if("BR"===e.nodeName)return 1}function n(e,t){var n,i,o,r,a;if(t=t||c,o=v.getParent(t.parentNode,v.isBlock)||l,e&&"BR"==t.nodeName&&d&&v.isEmpty(o))return c=t.parentNode,u=v.nodeIndex(t),m=!0,0;for(n=new y(t,o);s=n[e?"prev":"next"]();){if("false"===v.getContentEditableParent(s)||(r=s,a=v.getRoot(),k(r)&&!1===b(r,a,x)))return;if(3===s.nodeType&&0<s.nodeValue.length)return!1===function(e,t,n){return b(e,t,function(e){return e.nodeName===n})}(s,l,"A")&&(c=s,u=e?s.nodeValue.length:0,m=!0),0;if(v.isBlock(s)||h[s.nodeName.toLowerCase()])return;i=s}g&&i&&(c=i,m=!0,u=0)}var i,s,o,r,a,l=v.getRoot(),c=p[(e?"start":"end")+"Container"],u=p[(e?"start":"end")+"Offset"],d=1==c.nodeType&&u===c.childNodes.length,h=v.schema.getNonEmptyElements(),f=e;if(!k(c)){if(1==c.nodeType&&u>c.childNodes.length-1&&(f=!1),9===c.nodeType&&(c=v.getRoot(),u=0),c===l){if(f&&(s=c.childNodes[0<u?u-1:0])){if(k(s))return;if(h[s.nodeName]||"TABLE"==s.nodeName)return}if(c.hasChildNodes()){if(u=Math.min(!f&&0<u?u-1:u,c.childNodes.length-1),c=c.childNodes[u],u=0,!g&&c===l.lastChild&&"TABLE"===c.nodeName)return;if(function(e){for(;e&&e!=l;){if(w(e))return 1;e=e.parentNode}}(c)||k(c))return;if(c.hasChildNodes()&&!/TABLE/.test(c.nodeName)){i=new y(s=c,l);do{if(w(s)||k(s)){m=!1;break}if(3===s.nodeType&&0<s.nodeValue.length){u=f?0:s.nodeValue.length,c=s,m=!0;break}if(h[s.nodeName.toLowerCase()]&&(!(a=s)||!/^(TD|TH|CAPTION)$/.test(a.nodeName))){u=v.nodeIndex(s),c=s.parentNode,"IMG"!=s.nodeName||f||u++,m=!0;break}}while(s=f?i.next():i.prev())}}}g&&(3===c.nodeType&&0===u&&n(!0),1===c.nodeType&&(!(s=(s=c.childNodes[u])||c.childNodes[u-1])||"BR"!==s.nodeName||(r="A",(o=s).previousSibling&&o.previousSibling.nodeName==r)||t(s)||t(s,!0)||n(!0,s))),f&&!g&&3===c.nodeType&&u===c.nodeValue.length&&n(!1),m&&p["set"+(e?"Start":"End")](c,u)}}var m=!1,g=p.collapsed;return e(!0),g||e(),m&&g&&p.collapse(!0),m}}var g=s.each,o=e.isContentEditableTrue,w=e.isContentEditableFalse,k=n.isCaretContainer;return i.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},i.getCaretRangeFromPoint=function(e,t,n){var i,o,r,a;if(n.caretPositionFromPoint)o=n.caretPositionFromPoint(e,t),(i=n.createRange()).setStart(o.offsetNode,o.offset),i.collapse(!0);else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(e,t);else if(n.body.createTextRange){i=n.body.createTextRange();try{i.moveToPoint(e,t),i.collapse(!0)}catch(o){i=function(e,n,t){var i=t.elementFromPoint(e,n),o=t.body.createTextRange();if(i&&"HTML"!=i.tagName||(i=t.body),o.moveToElementText(i),0<(i=(i=s.toArray(o.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-(t=Math.abs(Math.max(t.top-n,t.bottom-n)))})).length){n=(i[0].bottom+i[0].top)/2;try{return o.moveToPoint(e,n),o.collapse(!0),o}catch(e){}}return null}(e,t,n)}return r=i,a=n.body,n=r&&r.parentElement?r.parentElement():null,w(c(n,a,l))?null:r}return i},i.getSelectedNode=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},i.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},i}),n("i",[],function(){function r(e,t,n){var i,o,r=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[r])return e[r];if(e!==t){if(i=e[a])return i;for(o=e.parent;o&&o!==t;o=o.parent)if(i=o[a])return i}}function a(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}var s=/^[ \t\r\n]*$/,o={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return a.prototype={replace:function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},attr:function(e,t){var n,i;if("string"!=typeof e){for(i in e)this.attr(i,e[i]);return this}if(n=this.attributes){if(void 0===t)return n.map[e];if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),this;return this}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,this}},clone:function(){var e,t,n,i,o,r=new a(this.name,this.type);if(n=this.attributes){for((o=[]).map={},e=0,t=n.length;e<t;e++)"id"!==(i=n[e]).name&&(o[o.length]={name:i.name,value:i.value},o.map[i.name]=i.value);r.attributes=o}return r.value=this.value,r.shortEnded=this.shortEnded,r},wrap:function(e){return this.parent.insert(e,this),e.append(this),this},unwrap:function(){for(var e,t=this.firstChild;t;)e=t.next,this.insert(t,this,!0),t=e;this.remove()},remove:function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},append:function(e){var t;return e.parent&&e.remove(),(t=this.lastChild)?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},insert:function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=i,e},getAll:function(e){for(var t=[],n=this.firstChild;n;n=r(n,this))n.name===e&&t.push(n);return t},empty:function(){var e,t,n;if(this.firstChild){for(e=[],n=this.firstChild;n;n=r(n,this))e.push(n);for(t=e.length;t--;)(n=e[t]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return this.firstChild=this.lastChild=null,this},isEmpty:function(e,t){var n,i,o=this.firstChild;if(t=t||{},o)do{if(1===o.type){if(o.attributes.map["data-mce-bogus"])continue;if(e[o.name])return!1;for(n=o.attributes.length;n--;)if("name"===(i=o.attributes[n].name)||0===i.indexOf("data-mce-bookmark"))return!1}if(8===o.type)return!1;if(3===o.type&&!s.test(o.value))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&s.test(o.value))return!1}while(o=r(o,this));return!0},walk:function(e){return r(this,null,e)}},a.create=function(e,t){var n,i=new a(e,o[e]||1);if(t)for(n in t)i.attr(n,t[n]);return i},a}),n("k",["j","d","9"],function(e,W,$){function U(e,t,n){var i,o,r=1,a=e.getShortEndedElements(),s=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(s.lastIndex=i=n;o=s.exec(t);){if(i=s.lastIndex,"/"===o[1])r--;else if(!o[1]){if(o[2]in a)continue;r++}if(0===r)break}return i}function t(j,F){function t(){}var n=this;j=j||{},n.schema=F=F||new e,!1!==j.fix_self_closing&&(j.fix_self_closing=!0),i("comment cdata text start end pi doctype".split(" "),function(e){e&&(n[e]=j[e]||t)}),n.parse=function(e){function t(e){for(var t,n=_.length;n--&&_[n].name!==e;);if(0<=n){for(t=_.length-1;n<=t;t--)(e=_[t]).valid&&k.end(e.name);_.length=n}}function n(e,t,n,i,o){var r,a;if(n=(t=t.toLowerCase())in R?t:S(n||i||o||""),O&&!u&&!1==(0===(o=t).indexOf("data-")||0===o.indexOf("aria-"))){if(!(r=g[t])&&v){for(a=v.length;a--&&!(r=v[a]).pattern.test(t););-1===a&&(r=null)}if(!r)return;if(r.validValues&&!(n in r.validValues))return}if(D[t]&&!j.allow_script_urls){var s=n.replace(/[\s\u0000-\u001F]+/g,"");try{s=decodeURIComponent(s)}catch(e){s=unescape(s)}if(A.test(s))return;if(!j.allow_html_data_urls&&M.test(s)&&!/^data:image\//i.test(s))return}l.map[t]=n,l.push({name:t,value:n})}for(var i,o,r,l,a,s,c,u,d,h,f,p,m,g,v,y,b,x,w,k=this,C=0,_=[],T=0,S=W.decode,D=$.makeMap("src,href,data,background,formaction,poster"),A=/((java|vb)script|mhtml):/i,M=/^data:/i,E=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),N=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,P=F.getShortEndedElements(),I=j.self_closing_elements||F.getSelfClosingElements(),R=F.getBoolAttrs(),O=j.validate,L=j.remove_internals,B=j.fix_self_closing,H=F.getSpecialElements(),z=e+">";i=E.exec(z);){if(C<i.index&&k.text(S(e.substr(C,i.index-C))),o=i[6])":"===(o=o.toLowerCase()).charAt(0)&&(o=o.substr(1)),t(o);else if(o=i[7]){if(i.index+i[0].length>e.length){k.text(S(e.substr(i.index))),C=i.index+i[0].length;continue}if(":"===(o=o.toLowerCase()).charAt(0)&&(o=o.substr(1)),d=o in P,B&&I[o]&&0<_.length&&_[_.length-1].name===o&&t(o),!O||(h=F.getElementRule(o))){if(f=!0,O&&(g=h.attributes,v=h.attributePatterns),(m=i[8])?((u=-1!==m.indexOf("data-mce-type"))&&L&&(f=!1),(l=[]).map={},m.replace(N,n)):(l=[]).map={},O&&!u){if(y=h.attributesRequired,b=h.attributesDefault,x=h.attributesForced,h.removeEmptyAttrs&&!l.length&&(f=!1),x)for(a=x.length;a--;)c=(p=x[a]).name,"{$uid}"===(w=p.value)&&(w="mce_"+T++),l.map[c]=w,l.push({name:c,value:w});if(b)for(a=b.length;a--;)(c=(p=b[a]).name)in l.map||("{$uid}"===(w=p.value)&&(w="mce_"+T++),l.map[c]=w,l.push({name:c,value:w}));if(y){for(a=y.length;a--&&!(y[a]in l.map););-1===a&&(f=!1)}if(p=l.map["data-mce-bogus"]){if("all"===p){C=U(F,e,E.lastIndex),E.lastIndex=C;continue}f=!1}}f&&k.start(o,l,d)}else f=!1;if(r=H[o]){r.lastIndex=C=i.index+i[0].length,C=(i=r.exec(e))?(f&&(s=e.substr(C,i.index-C)),i.index+i[0].length):(s=e.substr(C),e.length),f&&(0<s.length&&k.text(s,!0),k.end(o)),E.lastIndex=C;continue}d||(m&&m.indexOf("/")==m.length-1?f&&k.end(o):_.push({name:o,valid:f}))}else(o=i[1])?(">"===o.charAt(0)&&(o=" "+o),j.allow_conditional_comments||"[if"!==o.substr(0,3).toLowerCase()||(o=" "+o),k.comment(o)):(o=i[2])?k.cdata(o):(o=i[3])?k.doctype(o):(o=i[4])&&k.pi(o,i[5]);C=i.index+i[0].length}for(C<e.length&&k.text(S(e.substr(C))),a=_.length-1;0<=a;a--)(o=_[a]).valid&&k.end(o.name)}}var i=$.each;return t.findEndTag=U,t}),n("l",["i","j","k","9"],function(I,e,R,s){function O(e,t){e.padd_empty_with_br?t.empty().append(new I("br","1")).shortEnded=!0:t.empty().append(new I("#text","3")).value="Â "}var L=s.makeMap,t=s.each,i=s.explode,B=s.extend;return function(S,D){var A=this,M={},E=[],N={},P={};(S=S||{}).validate=!("validate"in S)||S.validate,S.root_name=S.root_name||"body",A.schema=D=D||new e,A.filterNode=function(e){var t,n,i;n in M&&((i=N[n])?i.push(e):N[n]=[e]),t=E.length;for(;t--;)(n=E[t].name)in e.attributes.map&&((i=P[n])?i.push(e):P[n]=[e]);return e},A.addNodeFilter=function(e,n){t(i(e),function(e){var t=M[e];t||(M[e]=t=[]),t.push(n)})},A.addAttributeFilter=function(e,n){t(i(e),function(e){for(var t=0;t<E.length;t++)if(E[t].name===e)return void E[t].callbacks.push(n);E.push({name:e,callbacks:[n]})})},A.parse=function(e,t){function s(e,t){var n=new I(e,t);return e in M&&((t=N[e])?t.push(n):N[e]=[n]),n}function l(e){for(var t,n=D.getBlockElements(),i=e.prev;i&&3===i.type;){if(0<(t=i.value.replace(y,"")).length)return i.value=t,0;if(t=i.next){if(3==t.type&&t.value.length){i=i.prev;continue}if(!n[t.name]&&"script"!=t.name&&"style"!=t.name){i=i.prev;continue}}t=i.prev,i.remove(),i=t}}var n,o,c,i,r,a,u,d,h,f,p,m,g,v,y,b,x,w,k,C,_,T=[];if(t=t||{},N={},P={},m=B(L("script,style,head,html,body,title,meta,param"),D.getBlockElements()),C=D.getNonEmptyElements(),k=D.children,p=S.validate,_=("forced_root_block"in t?t:S).forced_root_block,w=D.getWhiteSpaceElements(),g=/^[ \t\r\n]+/,y=/[ \t\r\n]+$/,b=/[ \t\r\n]+/g,x=/^[ \t\r\n]+$/,n=new R({validate:p,allow_script_urls:S.allow_script_urls,allow_conditional_comments:S.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}(D.getSelfClosingElements()),cdata:function(e){c.append(s("#cdata",4)).value=e},text:function(e,t){var n;v||(e=e.replace(b," "),c.lastChild&&m[c.lastChild.name]&&(e=e.replace(g,""))),0!==e.length&&((n=s("#text",3)).raw=!!t,c.append(n).value=e)},comment:function(e){c.append(s("#comment",8)).value=e},pi:function(e,t){c.append(s(e,7)).value=t,l(c)},doctype:function(e){c.append(s("#doctype",10)).value=e,l(c)},start:function(e,t,n){var i,o,r,a;if(a=p?D.getElementRule(e):{}){for((i=s(a.outputName||e,1)).attributes=t,i.shortEnded=n,c.append(i),(a=k[c.name])&&k[i.name]&&!a[i.name]&&T.push(i),o=E.length;o--;)(r=E[o].name)in t.map&&((h=P[r])?h.push(i):P[r]=[i]);m[e]&&l(i),n||(c=i),!v&&w[e]&&(v=!0)}},end:function(e){var t,n,i,o;if(o=p?D.getElementRule(e):{}){if(m[e]&&!v){if((t=c.firstChild)&&3===t.type)if(0<(n=t.value.replace(g,"")).length)t.value=n,t=t.next;else for(i=t.next,t.remove(),t=i;t&&3===t.type;)n=t.value,i=t.next,0!==n.length&&!x.test(n)||(t.remove(),t=i),t=i;if((t=c.lastChild)&&3===t.type)if(0<(n=t.value.replace(y,"")).length)t.value=n,t=t.prev;else for(i=t.prev,t.remove(),t=i;t&&3===t.type;)n=t.value,i=t.prev,0!==n.length&&!x.test(n)||(t.remove(),t=i),t=i}if(v&&w[e]&&(v=!1),(o.removeEmpty||o.paddEmpty)&&c.isEmpty(C,w))if(o.paddEmpty)O(S,c);else if(!c.attributes.map.name&&!c.attributes.map.id)return o=c.parent,m[c.name]?c.empty().remove():c.unwrap(),void(c=o);c=c.parent}}},D),o=c=new I(t.context||S.root_name,11),n.parse(e),p&&T.length&&(t.context?t.invalid=!0:function(e){for(var t,n,i,o,r,a,s,l,c,u,d,h=L("tr,td,th,tbody,thead,tfoot,table"),f=D.getNonEmptyElements(),p=D.getWhiteSpaceElements(),m=D.getTextBlockElements(),g=D.getSpecialElements(),v=0;v<e.length;v++)if((t=e[v]).parent&&!t.fixed)if(m[t.name]&&"li"==t.parent.name){for(l=t.next;l&&m[l.name];)l.name="li",l.fixed=!0,t.parent.insert(l,t.parent),l=l.next;t.unwrap(t)}else{for(i=[t],n=t.parent;n&&!D.isValidChild(n.name,t.name)&&!h[n.name];n=n.parent)i.push(n);if(n&&1<i.length){for(i.reverse(),u=o=A.filterNode(i[0].clone()),s=0;s<i.length-1;s++){for(D.isValidChild(o.name,i[s].name)?(r=A.filterNode(i[s].clone()),o.append(r)):r=o,a=i[s].firstChild;a&&a!=i[s+1];)c=a.next,r.append(a),a=c;o=r}u.isEmpty(f,p)?n.insert(t,i[0],!0):(n.insert(u,i[0],!0),n.insert(t,u)),((n=i[0]).isEmpty(f,p)||(d="br",(u=n)&&u.firstChild===u.lastChild&&u.firstChild.name===d))&&n.empty().remove()}else if(t.parent){if("li"===t.name){if((l=t.prev)&&("ul"===l.name||"ul"===l.name)){l.append(t);continue}if((l=t.next)&&("ul"===l.name||"ul"===l.name)){l.insert(t,l.firstChild,!0);continue}t.wrap(A.filterNode(new I("ul",1)));continue}D.isValidChild(t.parent.name,"div")&&D.isValidChild("div",t.name)?t.wrap(A.filterNode(new I("div",1))):g[t.name]?t.empty().remove():t.unwrap()}}}(T)),_&&("body"==o.name||t.isRootContent)&&function(){function e(e){e&&((i=e.firstChild)&&3==i.type&&(i.value=i.value.replace(g,"")),(i=e.lastChild)&&3==i.type&&(i.value=i.value.replace(y,"")))}var t,n,i=o.firstChild;if(D.isValidChild(o.name,_.toLowerCase())){for(;i;)t=i.next,3==i.type||1==i.type&&"p"!==i.name&&!m[i.name]&&!i.attr("data-mce-type")?(n||((n=s(_,1)).attr(S.forced_root_block_attrs),o.insert(n,i)),n.append(i)):(e(n),n=null),i=t;e(n)}}(),!t.invalid){for(f in N){for(h=M[f],u=(i=N[f]).length;u--;)i[u].parent||i.splice(u,1);for(r=0,a=h.length;r<a;r++)h[r](i,f,t)}for(r=0,a=E.length;r<a;r++)if((h=E[r]).name in P){for(u=(i=P[h.name]).length;u--;)i[u].parent||i.splice(u,1);for(u=0,d=h.callbacks.length;u<d;u++)h.callbacks[u](i,h.name,t)}}return o},S.remove_trailing_brs&&A.addNodeFilter("br",function(e){var t,n,i,o,r,a,s,l=e.length,c=B({},D.getBlockElements()),u=D.getNonEmptyElements(),d=D.getNonEmptyElements();for(c.body=1,t=0;t<l;t++)if(i=(n=e[t]).parent,c[n.parent.name]&&n===i.lastChild){for(r=n.prev;r;){if("span"!==(a=r.name)||"bookmark"!==r.attr("data-mce-type")){if("br"!==a)break;if("br"===a){n=null;break}}r=r.prev}n&&(n.remove(),i.isEmpty(u,d)&&((s=D.getElementRule(i.name))&&(s.removeEmpty?i.remove():s.paddEmpty&&O(S,i))))}else{for(o=n;i&&i.firstChild===o&&i.lastChild===o&&!c[(o=i).name];)i=i.parent;o===i&&!0!==S.padd_empty_with_br&&((s=new I("#text",3)).value="Â ",n.replace(s))}}),S.allow_unsafe_link_target||A.addAttributeFilter("href",function(e){function n(e){var t=new RegExp("("+a.replace(" ","|")+")","g");return(e=e&&s.trim(e.replace(t,"")))||null}function t(e,t){return t?(t=n(t=e))?[t,a].join(" "):a:n(e)}for(var i,o,r=e.length,a="noopener noreferrer";r--;)o=(i=e[r]).attr("rel"),"a"===i.name&&i.attr("rel",t(o,"_blank"==i.attr("target")))}),S.allow_html_in_named_anchor||A.addAttributeFilter("id,name",function(e){for(var t,n,i,o,r=e.length;r--;)if("a"===(o=e[r]).name&&o.firstChild&&!o.attr("href"))for(i=o.parent,t=o.lastChild;n=t.prev,i.insert(t,o),t=n;);}),S.fix_list_elements&&A.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;){"ul"!==(n=(t=e[i]).parent).name&&"ol"!==n.name||(t.prev&&"li"===t.prev.name?t.prev.append(t):((n=new I("li",1)).attr("style","list-style-type: none"),t.wrap(n)))}}),S.validate&&D.getValidClasses()&&A.addAttributeFilter("class",function(e){for(var t,n,i,o,r,a,s,l=e.length,c=D.getValidClasses();l--;){for(n=(t=e[l]).attr("class").split(" "),r="",i=0;i<n.length;i++)o=n[i],s=!1,(a=c["*"])&&a[o]&&(s=!0),a=c[t.name],!s&&a&&a[o]&&(s=!0),s&&(r&&(r+=" "),r+=o);r.length||(r=null),t.attr("class",r)}})}}),n("m",["d","9"],function(t,e){var n=e.makeMap;return function(e){var s=[],l=(e=e||{}).indent,c=n(e.indent_before||""),u=n(e.indent_after||""),d=t.getEncodeFunc(e.entity_encoding||"raw",e.entities),h="html"==e.element_format;return{start:function(e,t,n){var i,o,r,a;if(l&&c[e]&&0<s.length&&(0<(a=s[s.length-1]).length&&"\n"!==a&&s.push("\n")),s.push("<",e),t)for(i=0,o=t.length;i<o;i++)r=t[i],s.push(" ",r.name,'="',d(r.value,!0),'"');s[s.length]=!n||h?">":" />",n&&l&&u[e]&&0<s.length&&(0<(a=s[s.length-1]).length&&"\n"!==a&&s.push("\n"))},end:function(e){s.push("</",e,">"),l&&u[e]&&0<s.length&&(0<(e=s[s.length-1]).length&&"\n"!==e&&s.push("\n"))},text:function(e,t){0<e.length&&(s[s.length]=t?e:d(e))},cdata:function(e){s.push("<![CDATA[",e,"]]>")},comment:function(e){s.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?s.push("<?",e," ",d(t),"?>"):s.push("<?",e,"?>"),l&&s.push("\n")},doctype:function(e){s.push("<!DOCTYPE",e,">",l?"\n":"")},reset:function(){s.length=0},getContent:function(){return s.join("").replace(/\n$/,"")}}}}),n("n",["m","j"],function(e,n){return function(t,f){var p=new e(t);(t=t||{}).validate=!("validate"in t)||t.validate,this.schema=f=f||new n,this.writer=p,this.serialize=function(e){function u(e){var t,n,i,o,r,a,s,l,c=h[e.type];if(c)c(e);else{if(t=e.name,c=e.shortEnded,n=e.attributes,d&&n&&1<n.length&&((r=[]).map={},l=f.getElementRule(e.name))){for(a=0,s=l.attributesOrder.length;a<s;a++)(i=l.attributesOrder[a])in n.map&&(o=n.map[i],r.map[i]=o,r.push({name:i,value:o}));for(a=0,s=n.length;a<s;a++)(i=n[a].name)in r.map||(o=n.map[i],r.map[i]=o,r.push({name:i,value:o}));n=r}if(p.start(e.name,n,c),!c){if(e=e.firstChild)for(;u(e),e=e.next;);p.end(t)}}}var d=t.validate,h={3:function(e){p.text(e.value,e.raw)},8:function(e){p.comment(e.value)},7:function(e){p.pi(e.name,e.value)},10:function(e){p.doctype(e.value)},4:function(e){p.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;u(e),e=e.next;);}};return p.reset(),1!=e.type||t.inner?h[11](e):u(e),p.getContent()}}}),n("o",["e","l","k","d","n","i","j","6","9","1l"],function(e,t,f,i,p,n,o,m,r,g){var v=r.each,y=r.trim,a=e.DOM;return function(l,c){function u(e){var t=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[â\ufeff]+<\\/span>","\\s?("+n.join("|")+')="[^"]+"'].join("|"),"gi");return g.trim(e.replace(t,""))}function e(e){for(var t,n,i,o=e,r=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,a=c.schema,o=u(o),s=a.getShortEndedElements();i=r.exec(o);)t=r.lastIndex,n=i[0].length,i=s[i[1]]?t:f.findEndTag(a,o,t),o=o.substring(0,t-n)+o.substring(i),r.lastIndex=t-n;return o}var d,s,h,n=["data-mce-selected"];return c&&(d=c.dom,s=c.schema),d=d||a,s=s||new o(l),l.entity_encoding=l.entity_encoding||"named",l.remove_trailing_brs=!("remove_trailing_brs"in l)||l.remove_trailing_brs,(h=new t(l,s)).addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,i=e.length;i--;)(n=e[i]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),h.addAttributeFilter("src,href,style",function(e,t){for(var n,i,o=e.length,r="data-mce-"+t,a=l.url_converter,s=l.url_converter_scope;o--;)void 0!==(i=(n=e[o]).attributes.map[r])?(n.attr(t,0<i.length?i:null),n.attr(r,null)):(i=n.attributes.map[t],"style"===t?i=d.serializeStyle(d.parseStyle(i),n.name):a&&(i=a.call(s,i,t,n.name)),n.attr(t,0<i.length?i:null))}),h.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)(t=e[i]).attr("class")&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))}),h.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,o=e.length;o--;)"bookmark"!==(i=e[o]).attributes.map["data-mce-type"]||n.cleanup||i.remove()}),h.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=i.decode(t.value))}),h.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,o,r,a=e.length;a--;)o=(i=e[a]).firstChild?i.firstChild.value:"","script"===t?((r=i.attr("type"))&&i.attr("type","mce-no/type"==r?null:r.replace(/^mce\-/,"")),0<o.length&&(i.firstChild.value="// <![CDATA[\n"+n(o)+"\n// ]]>")):0<o.length&&(i.firstChild.value="\x3c!--\n"+n(o)+"\n--\x3e")}),h.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),h.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)7===(n=e[i]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),h.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:s,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:function(e,t){var n,i,o,r;return m.ie&&0<d.select("script,style,select,map").length?(o=e.innerHTML,e=e.cloneNode(!1),d.setHTML(e,o)):e=e.cloneNode(!0),(r=document.implementation).createHTMLDocument&&(n=r.createHTMLDocument(""),v("BODY"==e.nodeName?e.childNodes:[e],function(e){n.body.appendChild(n.importNode(e,!0))}),e="BODY"!=e.nodeName?n.body.firstChild:n.body,i=d.doc,d.doc=n),(t=t||{}).format=t.format||"html",t.selection&&(t.forced_root_block=""),t.no_events||(t.node=e,this.onPreProcess(t)),o=h.parse(y(t.getInner?e.innerHTML:d.getOuterHTML(e)),t),!a(e=(r=o).lastChild)||a(r=e.prev)&&(e.remove(),r.remove()),r=new p(l,s),t.content=r.serialize(o),t.cleanup||(t.content=g.trim(t.content),t.content=t.content.replace(/\uFEFF/g,"")),t.no_events||this.onPostProcess(t),i&&(d.doc=i),t.node=null,t.content;function a(e){return e&&"br"===e.name}},addRules:function(e){s.addValidElements(e)},setRules:function(e){s.setValidElements(e)},onPreProcess:function(e){c&&c.fire("PreProcess",e)},onPostProcess:function(e){c&&c.fire("PostProcess",e)},addTempAttr:function(e){-1===r.inArray(n,e)&&(h.addAttributeFilter(e,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),n.push(e))},trimHtml:u,getTrimmedContent:function(){return e(c.getBody().innerHTML)},trimContent:e}}}),n("p",["6"],function(t){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return t.mac?e.metaKey:e.ctrlKey&&!e.altKey}}}),n("q",["p","9","5","6","1j"],function(U,Y,q,V,e){var G=e.isContentEditableFalse,Q=e.isContentEditableTrue;return function(i,l){function n(e){var t=l.settings.object_resizing;return!1!==t&&!V.iOS&&("string"!=typeof t&&(t="table,img,div"),"false"!==e.getAttribute("data-mce-resize")&&e!=l.getBody()&&l.dom.is(e,t))}function c(e){var t,n=e.screenX-C,i=e.screenY-_;N=n*w[2]+D,P=i*w[3]+A,N=N<5?5:N,P=P<5?5:P,("IMG"==y.nodeName&&!1!==l.settings.resize_img_proportional?!U.modifierPressed(e):U.modifierPressed(e)||"IMG"==y.nodeName&&w[2]*w[3]!=0)&&(j(n)>j(i)?(P=F(N*M),N=F(P/M)):(N=F(P/M),P=F(N*M))),O.setStyles(b,{width:N,height:P}),t=0<(t=w.startPos.x+n)?t:0,e=0<(e=w.startPos.y+i)?e:0,O.setStyles(x,{left:t,top:e,display:"block"}),x.innerHTML=N+" &times; "+P,w[2]<0&&b.clientWidth<=N&&O.setStyle(b,"left",T+(D-N)),w[3]<0&&b.clientHeight<=P&&O.setStyle(b,"top",S+(A-P)),(n=W.scrollWidth-I)+(i=W.scrollHeight-R)!==0&&O.setStyles(x,{left:t-n,top:e-i}),E||(l.fire("ObjectResizeStart",{target:y,width:D,height:A}),E=!0)}function u(){function e(e,t){t&&(y.style[e]||!l.schema.isValid(y.nodeName.toLowerCase(),e)?O.setStyle(y,e,t):O.setAttrib(y,e,t))}E=!1,e("width",N),e("height",P),O.unbind(B,"mousemove",c),O.unbind(B,"mouseup",u),H!=B&&(O.unbind(H,"mousemove",c),O.unbind(H,"mouseup",u)),O.remove(b),O.remove(x),z&&"TABLE"!=y.nodeName||d(y),l.fire("ObjectResized",{target:y,width:N,height:P}),O.setAttrib(y,"style",O.getAttrib(y,"style")),l.nodeChanged()}function d(e,o,r){var a,s,t;h(),m(),t=O.getPos(e,W),T=t.x,S=t.y,t=e.getBoundingClientRect(),a=t.width||t.right-t.left,s=t.height||t.bottom-t.top,y!=e&&(p(),y=e,N=P=0),t=l.fire("ObjectSelected",{target:e}),n(e)&&!t.isDefaultPrevented()?L($,function(t,e){function n(e){C=e.screenX,_=e.screenY,D=y.clientWidth,A=y.clientHeight,M=A/D,(w=t).startPos={x:a*t[0]+T,y:s*t[1]+S},I=W.scrollWidth,R=W.scrollHeight,b=y.cloneNode(!0),O.addClass(b,"mce-clonedresizable"),O.setAttrib(b,"data-mce-bogus","all"),b.contentEditable=!1,b.unSelectabe=!0,O.setStyles(b,{left:T,top:S,margin:0}),b.removeAttribute("data-mce-selected"),W.appendChild(b),O.bind(B,"mousemove",c),O.bind(B,"mouseup",u),H!=B&&(O.bind(H,"mousemove",c),O.bind(H,"mouseup",u)),x=O.add(W,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},D+" &times; "+A)}var i;return o?void(e==o&&n(r)):((i=O.get("mceResizeHandle"+e))&&O.remove(i),i=O.add(W,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),V.ie&&(i.contentEditable=!1),O.bind(i,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),n(e)}),t.elm=i,void O.setStyles(i,{left:a*t[0]+T-i.offsetWidth/2,top:s*t[1]+S-i.offsetHeight/2}))}):h(),y.setAttribute("data-mce-selected","1")}function h(){var e,t;for(e in m(),y&&y.removeAttribute("data-mce-selected"),$)t=O.get("mceResizeHandle"+e),t&&(O.unbind(t),O.remove(t))}function o(e){function t(e,t){if(e)do{if(e===t)return 1}while(e=e.parentNode)}var n;if(!E&&!l.removed)return L(O.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),n="mousedown"==e.type?e.target:i.getNode(),t(n=O.$(n).closest(z?"table":"table,img,hr")[0],W)&&(g(),t(e=i.getStart(!0),n)&&t(i.getEnd(!0),n)&&(!z||n!=e&&"IMG"!==e.nodeName))?void d(n):void h()}function r(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function e(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function a(e){var t,n,i,o,r=e.srcElement,e=r.getBoundingClientRect(),a=k.clientX-e.left,s=k.clientY-e.top;for(t in $)if(n=$[t],i=r.offsetWidth*n[0],o=r.offsetHeight*n[1],j(i-a)<8&&j(o-s)<8){w=n;break}E=!0,l.fire("ObjectResizeStart",{target:y,width:y.clientWidth,height:y.clientHeight}),l.getDoc().selection.empty(),d(r,t,k)}function s(e){return G(function(e,t){for(;t&&t!=e;){if(Q(t)||G(t))return t;t=t.parentNode}return null}(l.getBody(),e))}function f(e){var t,n=e.srcElement;s(n)?(t=e).preventDefault?t.preventDefault():t.returnValue=!1:n!=y&&(l.fire("ObjectSelected",{target:n}),p(),0!==n.id.indexOf("mceResizeHandle")?"IMG"!=n.nodeName&&"TABLE"!=n.nodeName||(h(),r(y=n,"resizestart",a)):e.returnValue=!1)}function p(){e(y,"resizestart",a)}function m(){for(var e in $){var t=$[e];t.elm&&(O.unbind(t.elm),delete t.elm)}}function g(){try{l.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function v(e){var t;if(z){t=B.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(e){}}}var y,b,x,w,k,C,_,T,S,D,A,M,E,N,P,I,R,O=l.dom,L=Y.each,B=l.getDoc(),H=document,z=V.ie&&V.ie<11,j=Math.abs,F=Math.round,W=l.getBody(),$={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},t=".mce-content-body";return l.contentStyles.push(t+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+t+" .mce-resizehandle:hover {background: #000}"+t+" img[data-mce-selected],"+t+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+t+" .mce-clonedresizable {position: absolute;"+(V.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+t+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),l.on("init",function(){z?(l.on("ObjectResized",function(e){"TABLE"!=e.target.nodeName&&(h(),v(e.target))}),r(W,"controlselect",f),l.on("mousedown",function(e){k=e})):(g(),11<=V.ie&&(l.on("mousedown click",function(e){var t=e.target,n=t.nodeName;E||!/^(TABLE|IMG|HR)$/.test(n)||s(t)||(l.selection.select(t,"TABLE"==n),"mousedown"==e.type&&l.nodeChanged())}),l.dom.bind(W,"mscontrolselect",function(e){function t(e){q.setEditorTimeout(l,function(){l.selection.select(e)})}return s(e.target)?(e.preventDefault(),void t(e.target)):void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&t(e.target)))})));var t=q.throttle(function(e){l.composing||o(e)});l.on("nodechange ResizeEditor ResizeWindow drop",t),l.on("keyup compositionend",function(e){y&&"TABLE"==y.nodeName&&t(e)}),l.on("hide blur",h)}),l.on("remove",m),{isResizable:n,showResizeRect:d,hideResizeRect:h,updateResizeRect:o,controlSelect:v,destroy:function(){y=b=null,z&&(p(),e(W,"controlselect",f))}}}}),n("1s",[],function(){function n(e){var t=i.call(arguments);return t.length-1>=e.length?e.apply(this,t.slice(1)):function(){var e=t.concat([].slice.call(arguments));return n.apply(this,e)}}var i=[].slice;return{constant:function(e){return function(){return e}},negate:function(t){return function(e){return!t(e)}},and:function(){var n=i.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},or:function(){var n=i.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},curry:n,compose:function(t,n){return function(e){return t(n(e))}},noop:function(){}}}),n("3x",["1j","1g","1k"],function(e,t,n){function i(e){return!h(e)&&(l(e)?!c(e.parentNode):u(e)||s(e)||d(e)||a(e))}function o(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(a(e))return!1;if(r(e))return!0}return!0}var r=e.isContentEditableTrue,a=e.isContentEditableFalse,s=e.isBr,l=e.isText,c=e.matchNodeNames("script style textarea"),u=e.matchNodeNames("img input textarea hr iframe video audio object"),d=e.matchNodeNames("table"),h=n.isCaretContainer;return{isCaretCandidate:i,isInEditable:o,isAtomic:function(e){return u(e)||!!a(e=e)&&!0!==t.reduce(e.getElementsByTagName("*"),function(e,t){return e||r(t)},!1)},isEditableCaretCandidate:function(e,t){return i(e)&&o(e,t)}}}),n("3y",[],function(){function n(e){return e?{left:t(e.left),top:t(e.top),bottom:t(e.bottom),right:t(e.right),width:t(e.width),height:t(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function i(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2}function o(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&i(t.top-e.bottom,e,t)}function r(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&i(t.bottom-e.top,e,t)}function a(e,t){return e.left<t.left}function s(e,t){return e.right>t.right}var t=Math.round;return{clone:n,collapse:function(e,t){return e=n(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},isEqual:function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},isAbove:o,isBelow:r,isLeft:a,isRight:s,compare:function(e,t){return o(e,t)?-1:r(e,t)?1:a(e,t)?-1:s(e,t)?1:0},containsXY:function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}}}),n("3z",[],function(){var t=new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]");return{isExtendingChar:function(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&t.test(e)}}}),n("1n",["1s","1j","e","h","3x","3y","3z"],function(o,t,n,e,i,s,l){function c(e){return"createRange"in e?e.createRange():n.DOM.createRng()}function r(e){return e&&/[\r\n\t ]/.test(e)}function u(e){var t=e.startContainer,n=e.startOffset;return r(e.toString())&&g(t.parentNode)&&(r((t=t.data)[n-1])||r(t[n+1]))}function a(e){function i(e){var t,n,i=e.getClientRects(),o=0<i.length?s.clone(i[0]):s.clone(e.getBoundingClientRect());return y(e)&&0===o.left?(n=(t=e).ownerDocument,i=c(n),e=n.createTextNode("Â "),(n=t.parentNode).insertBefore(e,t),i.setStart(e,0),i.setEnd(e,1),i=s.clone(i.getBoundingClientRect()),n.removeChild(e),i):o}function o(e,t){return(e=s.collapse(e,t)).width=1,e.right=e.left+1,e}function r(e){0!==e.height&&(0<a.length&&s.isEqual(e,a[a.length-1])||a.push(e))}function t(e,t){var n=c(e.ownerDocument);if(t<e.data.length){if(l.isExtendingChar(e.data[t]))return a;if(l.isExtendingChar(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!u(n)))return r(o(i(n),!1)),a}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),u(n)||r(o(i(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),u(n)||r(o(i(n),!0)))}var n,a=[];if(v(e.container()))return t(e.container(),e.offset()),a;if(h(e.container()))if(e.isAtEnd())n=x(e.container(),e.offset()),v(n)&&t(n,n.data.length),m(n)&&!y(n)&&r(o(i(n),!1));else{if(n=x(e.container(),e.offset()),v(n)&&t(n,0),m(n)&&e.isAtEnd())return r(o(i(n),!1)),a;e=x(e.container(),e.offset()-1),!m(e)||y(e)||!p(e)&&!p(n)&&m(n)||r(o(i(e),!1)),m(n)&&r(o(i(n),!0))}return a}function d(t,n,e){function i(){return e=e||a(new d(t,n))}return{container:o.constant(t),offset:o.constant(n),toRange:function(){var e=c(t.ownerDocument);return e.setStart(t,n),e.setEnd(t,n),e},getClientRects:i,isVisible:function(){return 0<i().length},isAtStart:function(){return v(t),0===n},isAtEnd:function(){return v(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return x(t,e?n-1:n)}}}var h=t.isElement,f=i.isCaretCandidate,p=t.matchStyleValues("display","block table"),i=t.matchStyleValues("float","left right"),m=o.and(h,f,o.negate(i)),g=o.negate(t.matchStyleValues("white-space","pre pre-line pre-wrap")),v=t.isText,y=t.isBr,b=n.nodeIndex,x=e.getNode;return d.fromRangeStart=function(e){return new d(e.startContainer,e.startOffset)},d.fromRangeEnd=function(e){return new d(e.endContainer,e.endOffset)},d.after=function(e){return new d(e.parentNode,b(e)+1)},d.before=function(e){return new d(e.parentNode,b(e))},d.isAtStart=function(e){return!!e&&e.isAtStart()},d.isAtEnd=function(e){return!!e&&e.isAtEnd()},d.isTextPosition=function(e){return!!e&&t.isText(e.container())},d}),n("1m",["1j","e","1s","1g","1n"],function(a,e,s,l,r){function o(e){return e?l.reduce(e.childNodes,function(e,t){return h(t)&&"BR"!=t.nodeName?e=e.concat(o(t)):e.push(t),e},[]):[]}function c(t){return function(e){return t===e}}function t(e){var t,i=o(function e(t){t=t.parentNode;return h(t)?e(t):t}(e)),n=l.findIndex(i,c(e),e);return i=i.slice(0,n+1),t=l.reduce(i,function(e,t,n){return d(t)&&d(i[n-1])&&e++,e},0),i=l.filter(i,a.matchNodeNames(e.nodeName)),l.findIndex(i,c(e),e)-t}function u(e){return(d(e)?"text()":e.nodeName.toLowerCase())+"["+t(e)+"]"}var d=a.isText,h=a.isBogus,i=e.nodeIndex;return{create:function(e,t){var n,i=[],o=t.container(),r=t.offset();return d(o)?n=function(e,t){for(;(e=e.previousSibling)&&d(e);)t+=e.data.length;return t}(o,r):(r>=(t=o.childNodes).length?(n="after",r=t.length-1):n="before",o=t[r]),i.push(u(o)),o=function(e,t,n){var i=[];for(t=t.parentNode;!(t==e||n&&n(t));t=t.parentNode)i.push(t);return i}(e,o),o=l.filter(o,s.negate(a.isBogus)),(i=i.concat(l.map(o,u))).reverse().join("/")+","+n},resolve:function(e,t){var n;return t?(t=(n=t.split(","))[0].split("/"),n=1<n.length?n[1]:"before",(e=l.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),n=e,e=t[1],t=parseInt(t[2],10),i=o(n),i=l.filter(i,function(e,t){return!d(e)||!d(i[t-1])}),(i=l.filter(i,a.matchNodeNames(e)))[t]):null;var n,i},e))?d(e)?function(e,t){for(var n,i=e,o=0;d(i);){if(n=i.data.length,o<=t&&t<=o+n){e=i,t-=o;break}if(!d(i.nextSibling)){e=i,t=n;break}o+=n,i=i.nextSibling}return t>e.data.length&&(t=e.data.length),new r(e,t)}(e,parseInt(n,10)):(n="after"===n?i(e)+1:i(e),new r(e.parentNode,n)):null):null}}}),n("r",["1m","1k","1n","1j","h","6","1l","9"],function(x,w,k,C,_,h,T,S){function e(y){var b=y.dom;this.getBookmark=function(e,r){function t(e,t){var n=0;return S.each(b.select(e),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!=t&&void n++}),n}function n(o){function e(e){var t=e?"start":"end",n=o[t+"Container"],i=o[t+"Offset"];1!=n.nodeType||"TR"!=n.nodeName||(n=(t=n.childNodes)[Math.min(e?i:i-1,t.length-1)])&&(i=e?0:n.childNodes.length,o["set"+(e?"Start":"End")](n,i))}return e(!0),e(),o}var i,o,a,s,l,c,u,d,h,f,p,m="&#xFEFF;";if(2==e)return l=(c=y.getNode())?c.nodeName:null,i=y.getRng(),D(c)||"IMG"==l?{name:l,index:t(l,c)}:y.tridentSel?y.tridentSel.getBookmark(e):(c=v((p=i).startContainer,p.startOffset)||v(p.endContainer,p.endOffset))?{name:l=c.tagName,index:t(l,c)}:(d=i,h=b.getRoot(),(f={}).start=g(d,!0),y.isCollapsed()||(f.end=g(d)),f);function g(e,t){var n=e[t?"startContainer":"endContainer"],i=e[t?"startOffset":"endOffset"],o=[],e=0;for(3===n.nodeType?o.push(r?function(e,t){var n,i;for(i=T.trim(e.data.slice(0,t)).length,n=e.previousSibling;n&&3===n.nodeType;n=n.previousSibling)i+=T.trim(n.data).length;return i}(n,i):i):(i>=(t=n.childNodes).length&&t.length&&(e=1,i=Math.max(0,t.length-1)),o.push(b.nodeIndex(t[i],r)+e));n&&n!=h;n=n.parentNode)o.push(b.nodeIndex(n,r));return o}function v(e,t){return C.isElement(e)&&(e=_.getNode(e,t),D(e))?e:w.isCaretContainer(e)?(C.isText(e)&&w.isCaretContainerBlock(e)&&(e=e.parentNode),t=e.previousSibling,D(t)?t:(t=e.nextSibling,D(t)?t:void 0)):void 0}if(3==e)return i=y.getRng(),{start:x.create(b.getRoot(),k.fromRangeStart(i)),end:x.create(b.getRoot(),k.fromRangeEnd(i))};if(e)return{rng:y.getRng()};if(i=y.getRng(),a=b.uniqueId(),s=y.isCollapsed(),u="overflow:hidden;line-height:0px",i.duplicate||i.item){if(i.item)return{name:l=(c=i.item(0)).nodeName,index:t(l,c)};o=i.duplicate();try{i.collapse(),i.pasteHTML('<span data-mce-type="bookmark" id="'+a+'_start" style="'+u+'">'+m+"</span>"),s||(o.collapse(!1),i.moveToElementText(o.parentElement()),0===i.compareEndPoints("StartToEnd",o)&&o.move("character",-1),o.pasteHTML('<span data-mce-type="bookmark" id="'+a+'_end" style="'+u+'">'+m+"</span>"))}catch(e){return null}}else{if("IMG"==(l=(c=y.getNode()).nodeName))return{name:l,index:t(l,c)};o=n(i.cloneRange()),s||(o.collapse(!1),o.insertNode(b.create("span",{"data-mce-type":"bookmark",id:a+"_end",style:u},m))),(i=n(i)).collapse(!0),i.insertNode(b.create("span",{"data-mce-type":"bookmark",id:a+"_start",style:u},m))}return y.moveToBookmark({id:a,keep:1}),{id:a}},this.moveToBookmark=function(a){function e(e){var t,n,i,o,r=a[e?"start":"end"];if(r){for(i=r[0],n=l,t=r.length-1;1<=t;t--){if(o=n.childNodes,r[t]>o.length-1)return;n=o[r[t]]}3===n.nodeType&&(i=Math.min(r[0],n.nodeValue.length)),1===n.nodeType&&(i=Math.min(r[0],n.childNodes.length)),e?s.setStart(n,i):s.setEnd(n,i)}return 1}function t(e){var t,n,i=b.get(a.id+"_"+e),o=a.keep;if(i&&(n=i.parentNode,"start"==e?(t=o?(n=i.firstChild,1):b.nodeIndex(i),r=c=n,u=d=t):(t=o?(n=i.firstChild,1):b.nodeIndex(i),c=n,d=t),!o)){for(n=i.previousSibling,o=i.nextSibling,S.each(S.grep(i.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});i=b.get(a.id+"_"+e);)b.remove(i,1);n&&o&&n.nodeType==o.nodeType&&3==n.nodeType&&!h.opera&&(t=n.nodeValue.length,n.appendData(o.nodeValue),b.remove(o),"start"==e?(r=c=n,u=d=t):(c=n,d=t))}}function n(e){return!b.isBlock(e)||e.innerHTML||h.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e}var s,l,r,c,u,d,i,o;if(a)if(S.isArray(a.start)){if(s=b.createRng(),l=b.getRoot(),y.tridentSel)return y.tridentSel.moveToBookmark(a);e(!0)&&e()&&y.setRng(s)}else"string"==typeof a.start?y.setRng((i=b.createRng(),o=x.resolve(b.getRoot(),a.start),i.setStart(o.container(),o.offset()),o=x.resolve(b.getRoot(),a.end),i.setEnd(o.container(),o.offset()),i)):a.id?(t("start"),t("end"),r&&((s=b.createRng()).setStart(n(r),u),s.setEnd(n(c),d),y.setRng(s))):a.name?y.select(b.select(a.name)[a.index]):a.rng&&y.setRng(a.rng)}}var D=C.isContentEditableFalse;return e.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},e}),n("1o",["1j"],function(u){function d(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}}return{scrollIntoView:function(e,t,n){var i,o,r,a=e.dom,s=a.getRoot(),l=0;if(!function(e,t,n){n={elm:t,alignToTop:n};return e.fire("scrollIntoView",n),n.isDefaultPrevented()}(e,t,n)&&u.isElement(t)){if(!1===n&&(l=t.offsetHeight),"BODY"!==s.nodeName){var c=e.selection.getScrollContainer();if(c)return i=d(t).y-d(c).y+l,r=c.clientHeight,void((i<(o=c.scrollTop)||o+r<i+25)&&(c.scrollTop=i<o?i:i-r+25))}c=a.getViewPort(e.getWin()),i=a.getPos(t).y+l,o=c.y,r=c.h,(i<c.y||o+r<i+25)&&e.getWin().scrollTo(0,i<o?i:i-r+25)}}}}),n("1p",[],function(){return function(f){function c(e,t){var n,i,o,r,a,s,l,c=0,u=-1,d=e.duplicate();if(d.collapse(t),(l=d.parentElement()).ownerDocument===f.dom.doc){for(;"false"===l.contentEditable;)l=l.parentNode;if(!l.hasChildNodes())return{node:l,inside:1};for(n=(o=l.children).length-1;c<=n;)if(r=o[s=Math.floor((c+n)/2)],d.moveToElementText(r),0<(u=d.compareEndPoints(t?"StartToStart":"EndToEnd",e)))n=s-1;else{if(!(u<0))return{node:r};c=s+1}if(u<0)for(r?d.collapse(!1):(d.moveToElementText(l),d.collapse(!0),r=l,i=!0),a=0;0!==d.compareEndPoints(t?"StartToStart":"StartToEnd",e)&&0!==d.move("character",1)&&l==d.parentElement();)a++;else for(d.collapse(!0),a=0;0!==d.compareEndPoints(t?"StartToStart":"StartToEnd",e)&&0!==d.move("character",-1)&&l==d.parentElement();)a++;return{node:r,position:u,offset:a,inside:i}}}var a=this,p=f.dom;this.getBookmark=function(e){function t(e){for(var t,n,i=[],o=e.parentNode,r=p.getRoot().parentNode;o!=r&&9!==o.nodeType;){for(n=(t=o.children).length;n--;)if(e===t[n]){i.push(n);break}o=(e=o).parentNode}return i}function n(e){if(e=c(i,e))return{position:e.position,offset:e.offset,indexes:t(e.node),inside:e.inside}}var i=f.getRng(),o={};return 2===e&&(i.item?o.start={ctrl:!0,indexes:t(i.item(0))}:(o.start=n(!0),f.isCollapsed()||(o.end=n()))),o},this.moveToBookmark=function(r){function a(e){for(var t,n,i=p.getRoot(),o=e.length-1;0<=o;o--)n=i.children,(t=e[o])<=n.length-1&&(i=n[t]);return i}function e(e){var t,n,i,o=r[e?"start":"end"];o&&(t=0<o.position,(n=l.createTextRange()).moveToElementText(a(o.indexes)),void 0!==(i=o.offset)?(n.collapse(o.inside||t),n.moveStart("character",t?-i:i)):n.collapse(e),s.setEndPoint(e?"StartToStart":"EndToStart",n),e&&s.collapse(!0))}var s,l=p.doc.body;r.start&&(r.start.ctrl?(s=l.createControlRange()).addElement(a(r.start.indexes)):(s=l.createTextRange(),e(!0),e()),s.select())},this.addRange=function(e){function t(e){var t,n=p.create("a"),i=e?l:u,o=e?c:d,r=h.duplicate();i!=a&&i!=a.documentElement||(i=s,o=0),3==i.nodeType?(i.parentNode.insertBefore(n,i),r.moveToElementText(n),r.moveStart("character",o),p.remove(n),h.setEndPoint(e?"StartToStart":"EndToEnd",r)):((t=i.childNodes).length?(o>=t.length?p.insertAfter(n,t[t.length-1]):i.insertBefore(n,t[o]),r.moveToElementText(n)):i.canHaveHTML&&(i.innerHTML="<span>&#xFEFF;</span>",n=i.firstChild,r.moveToElementText(n),r.collapse(!1)),h.setEndPoint(e?"StartToStart":"EndToEnd",r),p.remove(n))}var n,i,a=f.dom.doc,s=a.body,l=e.startContainer,c=e.startOffset,u=e.endContainer,d=e.endOffset,h=s.createTextRange();if(l==u&&1==l.nodeType){if(c==d&&!l.hasChildNodes()){if(l.canHaveHTML)return(e=l.previousSibling)&&!e.hasChildNodes()&&p.isBlock(e)?e.innerHTML="&#xFEFF;":e=null,l.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",h.moveToElementText(l.lastChild),h.select(),p.doc.selection.clear(),l.innerHTML="",void(e&&(e.innerHTML=""));c=p.nodeIndex(l),l=l.parentNode}if(c==d-1)try{if(i=l.childNodes[c],(n=s.createControlRange()).addElement(i),n.select(),(n=f.getRng()).item&&i===n.item(0))return}catch(e){}}t(!0),t(),h.select()},this.getRangeAt=function(){function t(e){var t,n,i=c(s,e),o=0,r=i.node,a=i.offset;if(i.inside&&!r.hasChildNodes())return l[e?"setStart":"setEnd"](r,0),0;if(void 0===a)return l[e?"setStartBefore":"setEndAfter"](r),0;if(i.position<0){if(!(t=i.inside?r.firstChild:r.nextSibling))return l[e?"setStartAfter":"setEndAfter"](r),0;if(!a)return 3==t.nodeType?l[e?"setStart":"setEnd"](t,0):l[e?"setStartBefore":"setEndBefore"](t),0;for(;t;){if(3==t.nodeType&&a<=(o+=(n=t.nodeValue).length)){r=t,o-=a,o=n.length-o;break}t=t.nextSibling}}else{if(!(t=r.previousSibling))return l[e?"setStartBefore":"setEndBefore"](r);if(!a)return 3==r.nodeType?l[e?"setStart":"setEnd"](t,r.nodeValue.length):l[e?"setStartAfter":"setEndAfter"](t),0;for(;t;){if(3==t.nodeType&&a<=(o+=t.nodeValue.length)){r=t,o-=a;break}t=t.previousSibling}}l[e?"setStart":"setEnd"](r,o)}var n,i,o,s=f.getRng(),l=p.createRng(),r=s.item?s.item(0):s.parentElement();if(r.ownerDocument!=p.doc)return l;if(n=f.isCollapsed(),s.item)return l.setStart(r.parentNode,p.nodeIndex(r)),l.setEnd(l.startContainer,l.startOffset+1),l;try{t(!0),n||t()}catch(e){if(-2147024809!=e.number)throw e;o=a.getBookmark(2),(i=s.duplicate()).collapse(!0),r=i.parentElement(),n||((i=s.duplicate()).collapse(!1),(i=i.parentElement()).innerHTML=i.innerHTML),r.innerHTML=r.innerHTML,a.moveToBookmark(o),s=f.getRng(),t(!0),n||t()}return l}}}),n("5l",["4r","4t"],function(n,i){function e(t){return function(e){return function(e){if(null===e)return"null";var t=typeof e;return"object"==t&&n.prototype.isPrototypeOf(e)?"array":"object"==t&&i.prototype.isPrototypeOf(e)?"string":t}(e)===t}}return{isString:e("string"),isObject:e("object"),isArray:e("array"),isNull:e("null"),isBoolean:e("boolean"),isUndefined:e("undefined"),isFunction:e("function"),isNumber:e("number")}}),n("67",["3s","3t","4r","4s"],function(o,r,a,s){return function(){var t=arguments;return function(){for(var n=new a(arguments.length),e=0;e<n.length;e++)n[e]=arguments[e];if(t.length!==n.length)throw new s('Wrong number of arguments to struct. Expected "['+t.length+']", got '+n.length+" arguments");var i={};return o.each(t,function(e,t){i[e]=r.constant(n[t])}),i}}}),n("5r",["4q","5j"],function(s,e){function t(e,t){for(var n=l(e),i=0,o=n.length;i<o;i++){var r=n[i];t(e[r],r,e)}}function n(e,n){var i=[];return t(e,function(e,t){i.push(n(e,t))}),i}function i(e){return n(e,function(e){return e})}var l=void 0===(e=e.keys)?function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}:e,o=function(n,i){var o={};return t(n,function(e,t){t=i(e,t,n);o[t.k]=t.v}),o};return{bifilter:function(e,n){var i={},o={};return t(e,function(e,t){(n(e,t)?i:o)[t]=e}),{t:i,f:o}},each:t,map:function(e,i){return o(e,function(e,t,n){return{k:t,v:i(e,t,n)}})},mapToArray:n,tupleMap:o,find:function(e,t){for(var n=l(e),i=0,o=n.length;i<o;i++){var r=n[i],a=e[r];if(t(a,r,e))return s.some(a)}return s.none()},keys:l,values:i,size:function(e){return i(e).length}}}),n("6t",["3s","5l","4s"],function(i,n,o){function r(e){return e.slice(0).sort()}return{sort:r,reqMessage:function(e,t){throw new o("All required keys ("+r(e).join(", ")+") were not specified. Specified keys were: "+r(t).join(", ")+".")},unsuppMessage:function(e){throw new o("Unsupported keys for object: "+r(e).join(", "))},validateStrArr:function(t,e){if(!n.isArray(e))throw new o("The "+t+" fields must be an array. Was: "+e+".");i.each(e,function(e){if(!n.isString(e))throw new o("The value "+e+" in the "+t+" fields was not a string.")})},invalidTypeMessage:function(e,t){throw new o("All values need to be of type: "+t+". Keys ("+r(e).join(", ")+") were not.")},checkDupes:function(e){var n=r(e);i.find(n,function(e,t){return t<n.length-1&&e===n[t+1]}).each(function(e){throw new o("The field: "+e+" occurs more than once in the combined fields: ["+n.join(", ")+"].")})}}}),n("68",["3s","3t","5r","4q","6t","4s","5j"],function(s,l,c,u,d,e,h){return function(o,r){var a=o.concat(r);if(0===a.length)throw new e("You must specify at least one required or optional field.");return d.validateStrArr("required",o),d.validateStrArr("optional",r),d.checkDupes(a),function(t){var n=c.keys(t);s.forall(o,function(e){return s.contains(n,e)})||d.reqMessage(o,n);var e=s.filter(n,function(e){return!s.contains(a,e)});0<e.length&&d.unsuppMessage(e);var i={};return s.each(o,function(e){i[e]=l.constant(t[e])}),s.each(r,function(e){i[e]=l.constant(h.prototype.hasOwnProperty.call(t,e)?u.some(t[e]):u.none())}),i}}}),n("5m",["67","68"],function(e,t){return{immutable:e,immutableBag:t}}),n("5n",[],function(){return{toArray:function(e,t){function n(e){return i.push(e),t(e)}for(var i=[],o=t(e);(o=o.bind(n)).isSome(););return i}}}),n("78",[],function(){return"undefined"!=typeof window?window:Function("return this;")()}),n("6u",["78"],function(a){function n(e,t){for(var n=void 0!==t?t:a,i=0;i<e.length&&null!=n;++i)n=n[e[i]];return n}function i(e,t){for(var n,i,o=void 0!==t?t:a,r=0;r<e.length;++r)n=o,i=e[r],void 0!==n[i]&&null!==n[i]||(n[i]={}),o=n[i];return o}return{path:n,resolve:function(e,t){e=e.split(".");return n(e,t)},forge:i,namespace:function(e,t){e=e.split(".");return i(e,t)}}}),n("69",["6u"],function(i){return{getOrDie:function(e,t){var n,t=(n=e,t=t,i.resolve(n,t));if(void 0===t)throw e+" not available on this browser";return t}}}),n("5o",["69"],function(e){function n(){return e.getOrDie("Node")}function i(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}return{documentPositionPreceding:function(e,t){return i(e,t,n().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(e,t){return i(e,t,n().DOCUMENT_POSITION_CONTAINED_BY)}}}),n("6a",[],function(){return{cached:function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}}}}),e("7d",Number),n("79",["3s","7d","4t"],function(e,i,n){var o=function(){return r(0,0)},r=function(e,t){return{major:e,minor:t}};return{nu:r,detect:function(e,t){t=n(t).toLowerCase();return 0===e.length?o():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}}(e,t);if(!n)return{major:0,minor:0};e=function(e){return i(t.replace(n,"$"+e))};return r(e(1),e(2))}(e,t)},unknown:o}}),n("6v",["3t","79"],function(e,t){function n(e,t){return function(){return t===e}}var i=function(e){var t=e.current;return{current:t,version:e.version,isEdge:n("Edge",t),isChrome:n("Chrome",t),isIE:n("IE",t),isOpera:n("Opera",t),isFirefox:n("Firefox",t),isSafari:n("Safari",t)}};return{unknown:function(){return i({current:void 0,version:t.unknown()})},nu:i,edge:e.constant("Edge"),chrome:e.constant("Chrome"),ie:e.constant("IE"),opera:e.constant("Opera"),firefox:e.constant("Firefox"),safari:e.constant("Safari")}}),n("6w",["3t","79"],function(e,t){function n(e,t){return function(){return t===e}}var i=function(e){var t=e.current;return{current:t,version:e.version,isWindows:n("Windows",t),isiOS:n("iOS",t),isAndroid:n("Android",t),isOSX:n("OSX",t),isLinux:n("Linux",t),isSolaris:n("Solaris",t),isFreeBSD:n("FreeBSD",t)}};return{unknown:function(){return i({current:void 0,version:t.unknown()})},nu:i,windows:e.constant("Windows"),ios:e.constant("iOS"),android:e.constant("Android"),linux:e.constant("Linux"),osx:e.constant("OSX"),solaris:e.constant("Solaris"),freebsd:e.constant("FreeBSD")}}),n("6x",["3t"],function(l){return function(e,t,n){var i=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!i,r=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,s=i||r||a&&!0===/mobile/i.test(n),r=e.isiOS()||e.isAndroid(),a=r&&!s,n=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:l.constant(i),isiPhone:l.constant(o),isTablet:l.constant(s),isPhone:l.constant(a),isTouch:l.constant(r),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:l.constant(n)}}}),n("6y",["3s","79","4t"],function(i,o,r){function t(e,t){var n=r(t).toLowerCase();return i.find(e,function(e){return e.search(n)})}return{detectBrowser:function(e,n){return t(e,n).map(function(e){var t=o.detect(e.versionRegexes,n);return{current:e.name,version:t}})},detectOs:function(e,n){return t(e,n).map(function(e){var t=o.detect(e.versionRegexes,n);return{current:e.name,version:t}})}}}),n("7e",[],function(){return{addToStart:function(e,t){return t+e},addToEnd:function(e,t){return e+t},removeFromStart:function(e,t){return e.substring(t)},removeFromEnd:function(e,t){return e.substring(0,e.length-t)}}}),n("7f",["4q","4s"],function(t,e){return{first:function(e,t){return e.substr(0,t)},last:function(e,t){return e.substr(e.length-t,e.length)},head:function(e){return""===e?t.none():t.some(e.substr(0,1))},tail:function(e){return""===e?t.none():t.some(e.substring(1))}}}),n("7a",["7e","7f","4s"],function(n,i,e){function o(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t}var r=function(e,t){return o(e,t,0)},a=function(e,t){return o(e,t,e.length-t.length)};return{supplant:function(e,n){return e.replace(/\${([^{}]*)}/g,function(e,t){t=n[t];return function(e){e=typeof e;return"string"==e||"number"==e}(t)?t:e})},startsWith:r,removeLeading:function(e,t){return r(e,t)?n.removeFromStart(e,t.length):e},removeTrailing:function(e,t){return a(e,t)?n.removeFromEnd(e,t.length):e},ensureLeading:function(e,t){return r(e,t)?e:n.addToStart(e,t)},ensureTrailing:function(e,t){return a(e,t)?e:n.addToEnd(e,t)},endsWith:a,contains:function(e,t){return-1!==e.indexOf(t)},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},lTrim:function(e){return e.replace(/^\s+/g,"")},rTrim:function(e){return e.replace(/\s+$/g,"")},capitalize:function(e){return i.head(e).bind(function(t){return i.tail(e).map(function(e){return t.toUpperCase()+e})}).getOr(e)}}}),n("6z",["3t","7a"],function(e,n){var t=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,i=function(t){return function(e){return n.contains(e,t)}},t=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return n.contains(e,"edge/")&&n.contains(e,"chrome")&&n.contains(e,"safari")&&n.contains(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,t],search:function(e){return n.contains(e,"chrome")&&!n.contains(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return n.contains(e,"msie")||n.contains(e,"trident")}},{name:"Opera",versionRegexes:[t,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:i("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:i("firefox")},{name:"Safari",versionRegexes:[t,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(n.contains(e,"safari")||n.contains(e,"mobile/"))&&n.contains(e,"applewebkit")}}],i=[{name:"Windows",search:i("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return n.contains(e,"iphone")||n.contains(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:i("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:i("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:i("linux"),versionRegexes:[]},{name:"Solaris",search:i("sunos"),versionRegexes:[]},{name:"FreeBSD",search:i("freebsd"),versionRegexes:[]}];return{browsers:e.constant(t),oses:e.constant(i)}}),n("6b",["6v","6w","6x","6y","6z"],function(i,o,r,a,s){return{detect:function(e){var t=s.browsers(),n=s.oses(),t=a.detectBrowser(t,e).fold(i.unknown,i.nu),n=a.detectOs(n,e).fold(o.unknown,o.nu);return{browser:t,os:n,deviceType:r(n,t,e)}}}}),e("6c",navigator),n("5p",["6a","6b","6c"],function(e,t,n){return{detect:e.cached(function(){var e=n.userAgent;return t.detect(e)})}}),n("4z",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),e("1y",document),n("42",["3t","4s","4z","1y"],function(t,n,i,o){var r=function(e){if(null==e)throw new n("Node cannot be null or undefined");return{dom:t.constant(e)}};return{fromHtml:function(e,t){t=(t||o).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw i.error("HTML does not have a single root node",e),"HTML must have a single root node";return r(t.childNodes[0])},fromTag:function(e,t){e=(t||o).createElement(e);return r(e)},fromText:function(e,t){e=(t||o).createTextNode(e);return r(e)},fromDom:r}}),n("52",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),n("5q",["3s","4q","42","52","4s","1y"],function(n,i,o,e,r,a){function s(e){return e.nodeType!==c&&e.nodeType!==u||0===e.childElementCount}var t,l=void 0!==(t=a.createElement("span")).matches?0:void 0!==t.msMatchesSelector?1:void 0!==t.webkitMatchesSelector?2:void 0!==t.mozMatchesSelector?3:-1,c=e.ELEMENT,u=e.DOCUMENT;return{all:function(e,t){t=void 0===t?a:t.dom();return s(t)?[]:n.map(t.querySelectorAll(e),o.fromDom)},is:function(e,t){e=e.dom();if(e.nodeType!==c)return!1;if(0==l)return e.matches(t);if(1==l)return e.msMatchesSelector(t);if(2==l)return e.webkitMatchesSelector(t);if(3==l)return e.mozMatchesSelector(t);throw new r("Browser lacks native selectors")},one:function(e,t){t=void 0===t?a:t.dom();return s(t)?i.none():i.from(t.querySelector(e)).map(o.fromDom)}}}),n("53",["3s","3t","5o","5p","5q"],function(n,i,o,e,t){function r(e,t){return e.dom()===t.dom()}e=e.detect().browser.isIE()?function(e,t){return o.documentPositionContainedBy(e.dom(),t.dom())}:function(e,t){e=e.dom(),t=t.dom();return e!==t&&e.contains(t)};return{eq:r,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(e,t){return n.exists(t,i.curry(r,e))},contains:e,is:t.is}}),n("4x",["5l","3s","3t","4q","5m","5n","53","42"],function(s,n,l,i,e,t,o,c){function r(e){return c.fromDom(e.dom().ownerDocument)}function a(e){return e=e.dom(),i.from(e.parentNode).map(c.fromDom)}function u(e){return e=e.dom(),i.from(e.previousSibling).map(c.fromDom)}function d(e){return e=e.dom(),i.from(e.nextSibling).map(c.fromDom)}function h(e,t){return e=e.dom().childNodes,i.from(e[t]).map(c.fromDom)}var f=function(e){e=e.dom();return n.map(e.childNodes,c.fromDom)},p=e.immutable("element","offset");return{owner:r,defaultView:function(e){e=e.dom().ownerDocument.defaultView;return c.fromDom(e)},documentElement:function(e){e=r(e);return c.fromDom(e.dom().documentElement)},parent:a,findIndex:function(t){return a(t).bind(function(e){e=f(e);return n.findIndex(e,function(e){return o.eq(t,e)})})},parents:function(e,t){for(var n=s.isFunction(t)?t:l.constant(!1),i=e.dom(),o=[];null!==i.parentNode&&void 0!==i.parentNode;){var r=i.parentNode,a=c.fromDom(r);if(o.push(a),!0===n(a))break;i=r}return o},siblings:function(t){return a(t).map(f).map(function(e){return n.filter(e,function(e){return!o.eq(t,e)})}).getOr([])},prevSibling:u,offsetParent:function(e){e=e.dom();return i.from(e.offsetParent).map(c.fromDom)},prevSiblings:function(e){return n.reverse(t.toArray(e,u))},nextSibling:d,nextSiblings:function(e){return t.toArray(e,d)},children:f,child:h,firstChild:function(e){return h(e,0)},lastChild:function(e){return h(e,e.dom().childNodes.length-1)},leaf:function(e,t){var n=f(e);return 0<n.length&&t<n.length?p(n[t],0):p(e,t)}}}),n("40",["4x"],function(i){function o(t,n){i.parent(t).each(function(e){e.dom().insertBefore(n.dom(),t.dom())})}var r=function(e,t){e.dom().appendChild(t.dom())};return{before:o,after:function(e,t){i.nextSibling(e).fold(function(){i.parent(e).each(function(e){r(e,t)})},function(e){o(e,t)})},prepend:function(t,n){i.firstChild(t).fold(function(){r(t,n)},function(e){t.dom().insertBefore(n.dom(),e.dom())})},append:r,appendAt:function(e,t,n){i.child(e,n).fold(function(){r(e,t)},function(e){o(e,t)})},wrap:function(e,t){o(e,t),r(t,e)}}}),n("44",["52"],function(t){function n(e){return e.dom().nodeName.toLowerCase()}function i(e){return e.dom().nodeType}var e=function(t){return function(e){return i(e)===t}},o=e(t.ELEMENT),r=e(t.TEXT),e=e(t.DOCUMENT);return{name:n,type:i,value:function(e){return e.dom().nodeValue},isElement:o,isText:r,isDocument:e,isComment:function(e){return i(e)===t.COMMENT||"#comment"===n(e)}}}),n("4y",["5l","3s","5r","44","4s","4z"],function(i,t,o,n,r,a){function s(e,t,n){if(!(i.isString(n)||i.isBoolean(n)||i.isNumber(n)))throw a.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new r("Attribute value was not simple");e.setAttribute(t,n+"")}function l(e,t,n){s(e.dom(),t,n)}function c(e,t){return null===(t=e.dom().getAttribute(t))?void 0:t}function u(e,t){return!(!(e=e.dom())||!e.hasAttribute)&&e.hasAttribute(t)}return{clone:function(e){return t.foldl(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},set:l,setAll:function(e,t){var n=e.dom();o.each(t,function(e,t){s(n,t,e)})},get:c,has:u,remove:function(e,t){e.dom().removeAttribute(t)},hasNone:function(e){e=e.dom().attributes;return null==e||0===e.length},transfer:function(i,o,e){n.isElement(i)&&n.isElement(o)&&t.each(e,function(e){var t,n;n=o,u(t=i,e=e)&&!u(n,e)&&l(n,e,c(t,e))})}}}),n("50",["3s","40"],function(o,r){return{before:function(t,e){o.each(e,function(e){r.before(t,e)})},after:function(n,i){o.each(i,function(e,t){t=0===t?n:i[t-1];r.after(t,e)})},prepend:function(t,e){o.each(e.slice().reverse(),function(e){r.prepend(t,e)})},append:function(t,e){o.each(e,function(e){r.append(t,e)})}}}),n("51",["3s","50","4x"],function(t,n,i){var o=function(e){e=e.dom();null!==e.parentNode&&e.parentNode.removeChild(e)};return{empty:function(e){e.dom().textContent="",t.each(i.children(e),function(e){o(e)})},remove:o,unwrap:function(e){var t=i.children(e);0<t.length&&n.before(e,t),o(e)}}}),n("41",["4y","42","40","50","51","4x"],function(n,i,o,r,a,s){function t(e,t){return i.fromDom(e.dom().cloneNode(t))}function l(e){return t(e,!0)}function c(e,t){return t=i.fromTag(t),e=n.clone(e),n.setAll(t,e),t}return{shallow:function(e){return t(e,!1)},shallowAs:c,deep:l,copy:function(e,t){t=c(e,t),e=s.children(l(e));return r.append(t,e),t},mutate:function(e,t){var n=c(e,t);o.before(e,n);t=s.children(e);return r.append(n,t),a.remove(e),n}}}),n("43",["3s","42","1y"],function(i,o,r){return{fromElements:function(e,t){var n=(t||r).createDocumentFragment();return i.each(e,function(e){n.appendChild(e.dom())}),o.fromDom(n)}}}),n("45",["3s","3t","44"],function(i,o,r){function e(t){var n;return function(e){return(n=n||i.mapToObject(t,o.constant(!0))).hasOwnProperty(r.name(e))}}var t=e(["h1","h2","h3","h4","h5","h6"]),n=e(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]);return{isBlock:n,isInline:function(e){return r.isElement(e)&&!n(e)},isHeading:t,isTextBlock:e(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),isVoid:e(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),isTableCell:e(["td","th"])}}),n("46",["3t","53","4x"],function(n,i,o){function r(e,t,n){return i.contains(t,e)?o.parents(e,function(e){return n(e)||i.eq(e,t)}).slice(0,-1):[]}function a(e,t){return r(e,t,n.constant(!1))}return{parentsUntil:r,parents:a,parentsAndSelf:function(e,t){return[e].concat(a(e,t))}}}),n("54",["4q"],function(r){return{cat:function(e){function t(e){n.push(e)}for(var n=[],i=0;i<e.length;i++)e[i].each(t);return n},findMap:function(e,t){for(var n=0;n<e.length;n++){var i=t(e[n],n);if(i.isSome())return i}return r.none()},liftN:function(e,t){for(var n=[],i=0;i<e.length;i++){var o=e[i];if(!o.isSome())return r.none();n.push(o.getOrDie())}return r.some(t.apply(null,n))}}}),n("47",["3s","3t","4q","54","53","42","44","4x","1j"],function(o,r,a,s,l,c,n,i,u){var d=function(t){return i.firstChild(t).fold(r.constant([t]),function(e){return[t].concat(d(e))})},h=function(t){return i.lastChild(t).fold(r.constant([t]),function(e){return"br"===n.name(e)?i.prevSibling(e).map(function(e){return[t].concat(h(e))}).getOr([]):[t].concat(h(e))})};return{hasAllContentsSelected:function(n,e){return s.liftN([(i=(t=e).startContainer,t=t.startOffset,u.isText(i)?0===t?a.some(c.fromDom(i)):a.none():a.from(i.childNodes[t]).map(c.fromDom)),(e=(t=e).endContainer,t=t.endOffset,u.isText(e)?t===e.data.length?a.some(c.fromDom(e)):a.none():a.from(e.childNodes[t-1]).map(c.fromDom))],function(e,t){e=o.find(d(n),r.curry(l.eq,e)),t=o.find(h(n),r.curry(l.eq,t));return e.isSome()&&t.isSome()}).getOr(!1);var t,i}}}),n("1q",["3s","3t","40","41","42","43","44","45","46","47"],function(i,e,o,r,a,s,l,c,u,d){function h(n,t){return i.find(n,function(e){return"li"===l.name(e)&&d.hasAllContentsSelected(e,t)}).fold(e.constant([]),function(e){return t=n,i.find(t,function(e){return"ul"===l.name(e)||"ol"===l.name(e)}).map(function(e){return[a.fromTag("li"),a.fromTag(l.name(e))]}).getOr([]);var t})}function n(e,t){return function(e,t){e=i.foldl(t,function(e,t){return o.append(t,e),t},e);return 0<t.length?s.fromElements([e]):e}(a.fromDom(t.cloneContents()),(n=e,e=t,t=u.parentsAndSelf(a.fromDom(e.commonAncestorContainer),a.fromDom(n)),n=i.filter(t,function(e){return c.isInline(e)||c.isHeading(e)}),e=h(t,e),i.map(n.concat(e),r.shallow)));var n}return{read:function(e,t){return t.collapsed?s.fromElements([]):n(e,t)}}}),n("s",["1n","r","q","1j","h","1o","c","1p","6","1q","1l","9"],function(t,r,a,e,n,i,s,l,c,u,d,o){function h(e,t,n,i){var o=this;o.dom=e,o.win=t,o.serializer=n,o.editor=i,o.bookmarkManager=new r(o),o.controlSelection=new a(o,i),o.win.getSelection||(o.tridentSel=new l(o))}var f=o.each,p=o.trim,m=c.ie;return h.prototype={setCursorLocation:function(e,t){var n=this.dom.createRng();e?(n.setStart(e,t),n.setEnd(e,t),this.setRng(n),this.collapse(!1)):(this._moveEndPoint(n,this.editor.getBody(),!0),this.setRng(n))},getContent:function(e){var t,n=this.getRng(),i=this.dom.create("body"),o=this.getSel(),r=t="";return(e=e||{}).get=!0,e.format=e.format||"html",e.selection=!0,this.editor.fire("BeforeGetContent",e),"text"===e.format?this.isCollapsed()?"":d.trim(n.text||(o.toString?o.toString():"")):(n.cloneContents?(o=e.contextual?u.read(this.editor.getBody(),n).dom():n.cloneContents())&&i.appendChild(o):void 0!==n.item||void 0!==n.htmlText?(i.innerHTML="<br>"+(n.item?n.item(0).outerHTML:n.htmlText),i.removeChild(i.firstChild)):i.innerHTML=n.toString(),/^\s/.test(i.innerHTML)&&(r=" "),/\s+$/.test(i.innerHTML)&&(t=" "),e.getInner=!0,e.content=this.isCollapsed()?"":r+this.serializer.serialize(i,e)+t,this.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n,i,o=this,r=o.getRng(),a=o.win.document;if((t=t||{format:"html"}).set=!0,t.selection=!0,t.content=e,t.no_events||o.editor.fire("BeforeSetContent",t),e=t.content,r.insertNode){e+='<span id="__caret">_</span>',r.startContainer==a&&r.endContainer==a?a.body.innerHTML=e:(r.deleteContents(),0===a.body.childNodes.length?a.body.innerHTML=e:r.createContextualFragment?r.insertNode(r.createContextualFragment(e)):(n=a.createDocumentFragment(),i=a.createElement("div"),n.appendChild(i),i.outerHTML=e,r.insertNode(n))),n=o.dom.get("__caret"),(r=a.createRange()).setStartBefore(n),r.setEndBefore(n),o.setRng(r),o.dom.remove("__caret");try{o.setRng(r)}catch(e){}}else r.item&&(a.execCommand("Delete",!1,null),r=o.getRng()),/^\s+/.test(e)?(r.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):r.pasteHTML(e);t.no_events||o.editor.fire("SetContent",t)},getStart:function(e){var t,n,i,o,r=this.getRng();if(r.duplicate||r.item){if(r.item)return r.item(0);for((i=r.duplicate()).collapse(1),(t=i.parentElement()).ownerDocument!==this.dom.doc&&(t=this.dom.getRoot()),n=o=r.parentElement();o=o.parentNode;)if(o==t){t=n;break}return t}return 1==(t=r.startContainer).nodeType&&t.hasChildNodes()&&(e&&r.collapsed||(t=t.childNodes[Math.min(t.childNodes.length-1,r.startOffset)])),t&&3==t.nodeType?t.parentNode:t},getEnd:function(e){var t,n,i=this.getRng();return i.duplicate||i.item?i.item?i.item(0):((i=i.duplicate()).collapse(0),(t=i.parentElement()).ownerDocument!==this.dom.doc&&(t=this.dom.getRoot()),t&&"BODY"==t.nodeName&&t.lastChild||t):(t=i.endContainer,n=i.endOffset,1==t.nodeType&&t.hasChildNodes()&&(e&&i.collapsed||(t=t.childNodes[0<n?n-1:n])),t&&3==t.nodeType?t.parentNode:t)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n=this.dom,i=n.createRng();if(this.lastFocusBookmark=null,e){if(!t&&this.controlSelection.controlSelect(e))return;n=n.nodeIndex(e),i.setStart(e.parentNode,n),i.setEnd(e.parentNode,n+1),t&&(this._moveEndPoint(i,e,!0),this._moveEndPoint(i,e)),this.setRng(i)}return e},isCollapsed:function(){var e=this.getRng(),t=this.getSel();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},collapse:function(e){var t,n=this.getRng();n.item&&(t=n.item(0),(n=this.win.document.body.createTextRange()).moveToElementText(t)),n.collapse(!!e),this.setRng(n)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}}var n,i,o,r,a,s=this;if(!s.win)return null;if(null==(r=s.win.document))return null;if(!e&&s.lastFocusBookmark){var l=s.lastFocusBookmark;return l.startContainer?((i=r.createRange()).setStart(l.startContainer,l.startOffset),i.setEnd(l.endContainer,l.endOffset)):i=l,i}if(e&&s.tridentSel)return s.tridentSel.getRangeAt(0);try{(n=s.getSel())&&(i=0<n.rangeCount?n.getRangeAt(0):(n.createRange?n:r).createRange())}catch(e){}if((l=s.editor.fire("GetSelectionRange",{range:i})).range!==i)return l.range;if(m&&i&&i.setStart&&r.selection){try{a=r.selection.createRange()}catch(e){}a&&a.item&&(o=a.item(0),(i=r.createRange()).setStartBefore(o),i.setEndAfter(o))}return(i=i||(r.createRange?r.createRange():r.body.createTextRange())).setStart&&9===i.startContainer.nodeType&&i.collapsed&&(o=s.dom.getRoot(),i.setStart(o,0),i.setEnd(o,0)),s.selectedRange&&s.explicitRange&&(0===t(i.START_TO_START,i,s.selectedRange)&&0===t(i.END_TO_END,i,s.selectedRange)?i=s.explicitRange:(s.selectedRange=null,s.explicitRange=null)),i},setRng:function(e,t){var n,i;if(e)if(e.select){this.explicitRange=null;try{e.select()}catch(e){}}else if(this.tridentSel){if(e.cloneRange)try{this.tridentSel.addRange(e)}catch(e){}}else{if(n=this.getSel(),e=this.editor.fire("SetSelectionRange",{range:e,forward:t}).range,n){this.explicitRange=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),this.selectedRange=0<n.rangeCount?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||c.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&((i=e.startContainer.childNodes[e.startOffset])&&"IMG"===i.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(i,0,i,1))),this.editor.fire("AfterSetSelectionRange",{range:e,forward:t})}},setNode:function(e){return this.setContent(this.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n,i,o,r,a=this.getRng(),s=this.dom.getRoot();return a?(n=a.startContainer,i=a.endContainer,o=a.startOffset,r=a.endOffset,a.setStart?(t=a.commonAncestorContainer,!a.collapsed&&(n==i&&r-o<2&&n.hasChildNodes()&&(t=n.childNodes[o]),3===n.nodeType&&3===i.nodeType&&(n=n.length===o?e(n.nextSibling,!0):n.parentNode,i=0===r?e(i.previousSibling,!1):i.parentNode,n&&n===i))?n:t&&3==t.nodeType?t.parentNode:t):((t=a.item?a.item(0):a.parentElement()).ownerDocument!==this.win.document&&(t=s),t)):s},getSelectedBlocks:function(e,t){var n,i=this.dom,o=[],r=i.getRoot();if(e=i.getParent(e||this.getStart(),i.isBlock),t=i.getParent(t||this.getEnd(),i.isBlock),e&&e!=r&&o.push(e),e&&t&&e!=t)for(var a=new s(e,r);(n=a.next())&&n!=t;)i.isBlock(n)&&o.push(n);return t&&e!=t&&t!=r&&o.push(t),o},isForward:function(){var e,t=this.dom,n=this.getSel();return!(n&&n.anchorNode&&n.focusNode)||((e=t.createRng()).setStart(n.anchorNode,n.anchorOffset),e.collapse(!0),(t=t.createRng()).setStart(n.focusNode,n.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},normalize:function(){var e=this.getRng();return c.range&&new n(this.dom).normalize(e)&&this.setRng(e,this.isForward()),e},selectorChanged:function(e,t){var a,s=this;return s.selectorChangedData||(s.selectorChangedData={},a={},s.editor.on("NodeChange",function(e){var n=e.element,i=s.dom,o=i.getParents(n,null,i.getRoot()),r={};f(s.selectorChangedData,function(e,n){f(o,function(t){if(i.is(t,n))return a[n]||(f(e,function(e){e(!0,{node:t,selector:n,parents:o})}),a[n]=e),r[n]=e,!1})}),f(a,function(e,t){r[t]||(delete a[t],f(e,function(e){e(!1,{node:n,selector:t,parents:o})}))})})),s.selectorChangedData[e]||(s.selectorChangedData[e]=[]),s.selectorChangedData[e].push(t),s},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){i.scrollIntoView(this.editor,e,t)},placeCaretAt:function(e,t){this.setRng(n.getCaretRangeFromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(e,t,n){var i=t,o=new s(t,i),r=this.dom.schema.getNonEmptyElements();do{if(3==t.nodeType&&0!==p(t.nodeValue).length)return void(n?e.setStart(t,0):e.setEnd(t,t.nodeValue.length));if(r[t.nodeName]&&!/^(TD|TH)$/.test(t.nodeName))return void(n?e.setStartBefore(t):"BR"==t.nodeName?e.setEndBefore(t):e.setEndAfter(t));if(c.ie&&c.ie<11&&this.dom.isBlock(t)&&this.dom.isEmpty(t))return void(n?e.setStart(t,0):e.setEnd(t,0))}while(t=n?o.next():o.prev());"BODY"==i.nodeName&&(n?e.setStart(i,0):e.setEnd(i,i.childNodes.length))},getBoundingClientRect:function(){var e=this.getRng();return e.collapsed?t.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},h}),n("1r",["r","9"],function(r,e){var a=e.each;return function(o){this.compare=function(e,t){function n(t){var n={};return a(o.getAttribs(t),function(e){e=e.nodeName.toLowerCase();0!==e.indexOf("_")&&"style"!==e&&0!==e.indexOf("data-")&&(n[e]=o.getAttrib(t,e))}),n}function i(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(void 0===(n=t[i]))return;if(e[i]!=n)return;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return;return 1}return!(e.nodeName!=t.nodeName||!i(n(e),n(t))||!i(o.parseStyle(o.getAttrib(e,"style")),o.parseStyle(o.getAttrib(t,"style")))||r.isBookmarkNode(e)||r.isBookmarkNode(t))}}}),n("1t",["e","9","j"],function(e,h,o){function c(e,t){function u(e){var t,n;return i="string"==typeof e?{name:e,classes:[],attrs:{}}:e,t=f.create(i.name),n=t,(e=i).classes.length&&f.addClass(n,e.classes.join(" ")),f.setAttribs(n,e.attrs),t}var n,i,d=t&&t.schema||new o({});return e&&e.length?(n=u(i=e[0]),(t=f.create("div")).appendChild(function e(t,n,i){var o,r,a,s,l=0<n.length&&n[0],c=l&&l.name;if(s=c,a="string"!=typeof(a=t)?a.nodeName.toLowerCase():a,a=!(!(a=(a=d.getElementRule(a))&&a.parentsRequired)||!a.length)&&(s&&-1!==h.inArray(a,s)?s:a[0]))c==a?(r=n[0],n=n.slice(1)):r=a;else if(l)r=n[0],n=n.slice(1);else if(!i)return t;return r&&(o=u(r)).appendChild(t),i&&(o||(o=f.create("div")).appendChild(t),h.each(i,function(e){e=u(e),o.insertBefore(e,t)})),e(o,n,r&&r.siblings)}(n,e.slice(1),i.siblings)),t):""}function n(e){var t,r={classes:[],attrs:{}};return"*"!==(e=r.selector=h.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,n,i,o){switch(t){case"#":r.attrs.id=n;break;case".":r.classes.push(n);break;case":":-1!==h.inArray("checked disabled enabled read-only required".split(" "),n)&&(r.attrs[n]=n)}return"["!=i||(o=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(r.attrs[o[1]]=o[2]),""})),r.name=t||"div",r}function u(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),h.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=h.map(e.split(/(?:~\+|~|\+)/),n),e=t.pop();return t.length&&(e.siblings=t),e}).reverse()):[]}var d=h.each,f=e.DOM;return{getCssText:function(n,e){function i(e){return e.replace(/%(\w+)/g,"")}var t,o,r,a,s="",l=n.settings.preview_styles;if(!1===l)return"";if("string"!=typeof l&&(l="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof e){if(!(e=n.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(l=e.preview)?"":(t=e.block||e.inline||"span",r=(r=u(e.selector)).length?(r[0].name||(r[0].name=t),t=e.selector,c(r,n)):c([t],n),o=f.select(t,r)[0]||r.firstChild,d(e.styles,function(e,t){(e=i(e))&&f.setStyle(o,t,e)}),d(e.attributes,function(e,t){(e=i(e))&&f.setAttrib(o,t,e)}),d(e.classes,function(e){e=i(e),f.hasClass(o,e)||f.addClass(o,e)}),n.fire("PreviewFormats"),f.setStyles(r,{position:"absolute",left:-65535}),n.getBody().appendChild(r),a=f.getStyle(n.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,d(l.split(" "),function(e){var t=f.getStyle(o,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=f.getStyle(n.getBody(),e,!0),"#ffffff"==f.toHex(t).toLowerCase())||"color"==e&&"#000000"==f.toHex(t).toLowerCase())){if("font-size"==e&&/em|%$/.test(t)){if(0===a)return;t=(t=parseFloat(t,10)/(/%$/.test(t)?100:1))*a+"px"}"border"==e&&t&&(s+="padding:0 2px;"),s+=e+":"+t+";"}}),n.fire("AfterPreviewFormats"),f.remove(r),s)},parseSelector:u,selectorToHtml:function(e,t){return c(u(e),t)}}}),n("1u",["1g","1j","a"],function(o,r,a){var e,t,n={},s=o.filter,l=o.each;return t=function(e){var t,n=e.selection.getRng(),i=r.matchNodeNames("pre");n.collapsed||(t=e.selection.getSelectedBlocks(),l(s(s(t,i),function(e){return i(e.previousSibling)&&-1!=o.indexOf(t,e.previousSibling)}),function(e){var t;t=e.previousSibling,a(e=e).remove(),a(t).append("<br><br>").append(e.childNodes)}))},n[e="pre"]||(n[e]=[]),n[e].push(t),{postProcess:function(e,t){l(n[e],function(e){e(t)})}}}),n("t",["c","h","r","1r","1j","1s","9","1t","1u"],function(re,t,o,c,r,h,u,ae,se){return function(b){function x(e){return e.nodeType&&(e=e.nodeName),!!b.schema.getTextBlockElements()[e.toLowerCase()]}function f(e){return/^(TH|TD)$/.test(e.nodeName)}function m(e,t){return W.getParents(e,t,W.getRoot())}function w(e){return 1===e.nodeType&&"_mce_caret"===e.id}function k(e){return e?i[e]:i}function n(e,t){e&&("string"!=typeof e?te(e,function(e,t){n(t,e)}):(t=t.length?t:[t],te(t,function(e){e.deep===j&&(e.deep=!e.selector),e.split===j&&(e.split=!e.selector||e.inline),e.remove===j&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),i[e]=t))}function a(e,t){var n=k(t);if(n)for(var i=0;i<n.length;i++)if(!1===n[i].inherit&&W.is(e,n[i].selector))return 1}function p(e){var t;return b.dom.getParent(e,function(e){return(t=b.dom.getStyle(e,"text-decoration"))&&"none"!==t}),t}function d(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=p(e.parentNode),b.dom.getStyle(e,"color")&&t?b.dom.setStyle(e,"text-decoration",t):b.dom.getStyle(e,"text-decoration")===t&&b.dom.setStyle(e,"text-decoration",null))}function C(f,p,i){function m(n,e){var t;e=e||y,n&&(e.onformat&&e.onformat(n,e,p,i),te(e.styles,function(e,t){W.setStyle(n,t,E(e,p))}),e.styles&&(t=W.getAttrib(n,"style"))&&n.setAttribute("data-mce-style",t),te(e.attributes,function(e,t){W.setAttrib(n,t,E(e,p))}),te(e.classes,function(e){e=E(e,p),W.hasClass(n,e)||W.addClass(n,e)}))}function g(e,t){var n=!1;return!!y.selector&&(te(e,function(e){if(!("collapsed"in e&&e.collapsed!==l))return W.is(t,e.selector)&&!w(t)?(m(t,e),!(n=!0)):void 0}),n)}function e(e,t,l){var c=[],u=!0,d=y.inline||y.block,h=W.create(d);m(h),U.walk(e,function(e){var s;te(e,function e(t){var n,i=u,o=t.nodeName.toLowerCase(),r=t.parentNode.nodeName.toLowerCase();if(1===t.nodeType&&J(t)&&(i=u,u="true"===J(t),n=!0),S(o,"br"))return s=0,void(y.block&&W.remove(t));if(y.wrapper&&_(t,f,p))s=0;else{if(u&&!n&&y.block&&!y.wrapper&&x(o)&&Y(r,d))return m(t=W.rename(t,d)),c.push(t),void(s=0);if(y.selector){var a=g(v,t);if(!y.inline||a)return void(s=0)}!u||n||!Y(d,o)||!Y(r,d)||!l&&3===t.nodeType&&1===t.nodeValue.length&&65279===t.nodeValue.charCodeAt(0)||w(t)||y.inline&&q(t)?(s=0,te(ne(t.childNodes),e),n&&(u=i),s=0):(s||(s=W.clone(h,K),t.parentNode.insertBefore(s,t),c.push(s)),s.appendChild(t))}})}),!0===y.links&&te(c,function(e){!function e(t){"A"===t.nodeName&&m(t,y),te(ne(t.childNodes),e)}(e)}),te(c,function(n){function i(e){var t=0;return te(e.childNodes,function(e){N(e)||ee(e)||t++}),t}function o(e){var t=!1;return te(e.childNodes,function(e){if(D(e))return t=e,!1}),t}var e,t,r,a;e=i(n),!(1<c.length)&&q(n)||0!==e?(y.inline||y.wrapper)&&(y.exact||1!==e||((a=o(t=n))&&!ee(a)&&T(a,y)&&(m(r=W.clone(a,K)),W.replace(r,t,Z),W.remove(a,1)),n=r||t),te(v,function(t){te(W.select(t.inline,n),function(e){D(e)&&R(t,p,e,t.exact?e:null)}),oe(t,n)}),_(n.parentNode,f,p)&&R(y,p,n)&&(n=0),y.merge_with_parents&&W.getParent(n.parentNode,function(e){if(_(e,f,p))return R(y,p,n)&&(n=0),Z}),!n||q(n)||M(n,"fontSize")||(e=function(e,t){do{if(1!==i(e))break;if(!(e=o(e)))break;if(t(e))return e}while(e);return null}(n,A("fontSize")))&&C("fontsize",{value:M(e,"fontSize")},n),n&&!1!==y.merge_siblings&&(n=L(O(n),n),n=L(n,O(n,Z)))):W.remove(n,1)})}var t,n,o,r,a,s,v=k(f),y=v[0],l=!i&&$.isCollapsed();if("false"!==J($.getNode())){y&&(i?i.nodeType?g(v,i)||((n=W.createRng()).setStartBefore(i),n.setEndAfter(i),e(I(n,v),0,!0)):e(i,0,!0):l&&y.inline&&!W.select("td[data-mce-selected],th[data-mce-selected]").length?H("apply",f,p):(o=b.selection.getNode(),V||!v[0].defaultBlock||W.getParent(o,W.isBlock)||C(v[0].defaultBlock),b.selection.setRng((r=b.selection.getRng(),a=r.startContainer,s=r.endContainer,a!=s&&0===r.endOffset&&(s=(3==(a=function(e,t){var n=new re(t);for(i=n.prev2();i;i=n.prev2()){if(3==i.nodeType&&0<i.data.length)return i;if(1<i.childNodes.length||i==e||"BR"==i.tagName)return i}}(a,s)).nodeType?a.data:a.childNodes).length,r.setEnd(a,s)),r)),t=$.getBookmark(),e(I($.getRng(Z),v)),y.styles&&((y.styles.color||y.styles.textDecoration)&&(ie(o,d,"childNodes"),d(o)),y.styles.backgroundColor&&function t(e,n,i){te(e.childNodes,function(e){D(e)&&(n(e)&&i(e),e.hasChildNodes()&&t(e,n,i))})}(o,A("fontSize"),(n="backgroundColor",o=E(y.styles.backgroundColor,p),h.curry(function(e,t,n){W.setStyle(n,e,t)},n,o)))),$.moveToBookmark(t),z($.getRng(Z)),b.nodeChanged()),se.postProcess(f,b))}else{i=$.getNode();for(var c=0,u=v.length;c<u;c++)if(v[c].ceFalseOverride&&W.is(i,v[c].selector))return void m(i,v[c])}}function g(i,u,e,o){function r(e){return function(e,t,n,i){var o,r,a,s,l,c;if(e){for(c=e.parentNode,o=t.parentNode;o&&o!=c;o=o.parentNode){for(r=W.clone(o,K),l=0;l<d.length;l++)if(R(d[l],u,r,r)){r=0;break}r&&(a&&r.appendChild(a),s=s||r,a=r)}!i||h.mixed&&q(e)||(t=W.split(e,t)),a&&(n.parentNode.insertBefore(a,n),s.appendChild(n))}return t}((te(m(e.parentNode).reverse(),function(e){var t;n||"_start"==e.id||"_end"==e.id||(t=_(e,i,u,o))&&!1!==t.split&&(n=e)}),n),e,e,!0);var n}function a(e){var t=W.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return ee(n)&&(n=n[e?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),W.remove(t,!0),n}function t(e){var t,n,i=e.commonAncestorContainer;if(e=I(e,d,Z),h.split){if((t=B(e,Z))!=(n=B(e))){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&f(n)&&n.firstChild&&(n=n.firstChild||n),W.isChildOf(t,n)&&!q(n)&&!f(t)&&!f(n))return r(t=P(t,"span",{id:"_start","data-mce-type":"bookmark"})),void a(Z);t=P(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=P(n,"span",{id:"_end","data-mce-type":"bookmark"}),r(t),r(n),t=a(Z),n=a()}else t=n=r(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=G(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=G(n)+1}U.walk(e,function(e){te(e,function(e){(function e(t){var n,i,o,r,a;if(1===t.nodeType&&J(t)&&(r=s,s="true"===J(t),a=!0),n=ne(t.childNodes),s&&!a)for(i=0,o=d.length;i<o&&!R(d[i],u,t,t);i++);if(h.deep&&n.length){for(i=0,o=n.length;i<o;i++)e(n[i]);a&&(s=r)}})(e),1===e.nodeType&&"underline"===b.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===p(e.parentNode)&&R({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var n,d=k(i),h=d[0],s=!0;if(e)e.nodeType?((n=W.createRng()).setStartBefore(e),n.setEndAfter(e),t(n)):t(e);else if("false"!==J($.getNode()))$.isCollapsed()&&h.inline&&!W.select("td[data-mce-selected],th[data-mce-selected]").length?H("remove",i,u,o):(n=$.getBookmark(),t($.getRng(Z)),$.moveToBookmark(n),h.inline&&v(i,u,$.getStart())&&z($.getRng(!0)),b.nodeChanged());else{e=$.getNode();for(var l=0,c=d.length;l<c&&(!d[l].ceFalseOverride||!R(d[l],u,e,e));l++);}}function _(e,t,s,l){function n(e,t,n){var i,o,r,a=t[n];if(t.onmatch)return t.onmatch(e,t,n);if(a)if(a.length===j){for(i in a)if(a.hasOwnProperty(i)){if(o="attributes"===n?W.getAttrib(e,i):M(e,i),l&&!o&&!t.exact)return;if((!l||t.exact)&&!S(o,y(E(a[i],s),i)))return}}else for(r=0;r<a.length;r++)if("attributes"===n?W.getAttrib(e,a[r]):M(e,a[r]))return t;return t}var i,o,r,a=k(t);if(a&&e)for(o=0;o<a.length;o++)if(T(e,i=a[o])&&n(e,i,"attributes")&&n(e,i,"styles")){if(r=i.classes)for(o=0;o<r.length;o++)if(!W.hasClass(e,r[o]))return;return i}}function v(n,i,e){function t(e){var t=W.getRoot();return e!==t&&(e=W.getParent(e,function(e){return!!a(e,n)||e.parentNode===t||!!_(e,n,i,!0)}),_(e,n,i))}var o;return e?t(e):t(e=$.getNode())?Z:(o=$.getStart())!=e&&t(o)?Z:K}function T(e,t){return S(e,t.inline)||S(e,t.block)?Z:t.selector&&(1==e.nodeType&&W.is(e,t.selector))}function S(e,t){return e=""+((e=e||"").nodeName||e),t=""+((t=t||"").nodeName||t),e.toLowerCase()==t.toLowerCase()}function D(e){return e&&1===e.nodeType&&!ee(e)&&!w(e)&&!r.isBogus(e)}function A(e){return h.curry(function(e,t){return!(!t||!M(t,e))},e)}function M(e,t){return y(W.getStyle(e,t),t)}function y(e,t){return"color"!=t&&"backgroundColor"!=t||(e=W.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function E(e,n){return"string"!=typeof e?e=e(n):n&&(e=e.replace(/%(\w+)/g,function(e,t){return n[t]||e})),e}function N(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function P(e,t,n){n=W.create(t,n);return e.parentNode.insertBefore(n,e),n.appendChild(e),n}function I(a,s,l){function e(e){var t,n,i,o=t=e?d:f,r=e?"previousSibling":"nextSibling",a=W.getRoot();if(3==o.nodeType&&!N(o)&&(e?0<h:p<o.nodeValue.length))return o;for(;;){if(!s[0].block_expand&&q(t))return t;for(n=t[r];n;n=n[r])if(!ee(n)&&!N(n)&&("BR"!=(i=n).nodeName||!i.getAttribute("data-mce-bogus")||i.nextSibling))return t;if(t==a||t.parentNode==a){o=t;break}t=t.parentNode}return o}function t(e,t){for(t===j&&(t=(3===e.nodeType?e:e.childNodes).length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=(3===e.nodeType?e:e.childNodes).length);return{node:e,offset:t}}function n(e){for(var t=e;t;){if(1===t.nodeType&&J(t))return"false"===J(t)?t:e;t=t.parentNode}return e}function i(e,t,o){function n(e,t){var n,i,e=e.nodeValue;return void 0===t&&(t=o?e.length:0),o?(n=e.lastIndexOf(" ",t),-1===(n=(i=e.lastIndexOf("Â ",t))<n?n:i)||l||n++):(n=e.indexOf(" ",t),i=e.indexOf("Â ",t),n=-1!==n&&(-1===i||n<i)?n:i),n}var i,r,a,s;if(3===e.nodeType){if(-1!==(a=n(e,t)))return{container:e,offset:a};s=e}for(i=new re(e,W.getParent(e,q)||b.getBody());r=i[o?"prev":"next"]();)if(3===r.nodeType){if(-1!==(a=n(s=r)))return{container:r,offset:a}}else if(q(r))break;if(s)return{container:s,offset:t=o?0:s.length}}function o(e,t){var n,i,o,r;for(3==e.nodeType&&0===e.nodeValue.length&&e[t]&&(e=e[t]),n=m(e),i=0;i<n.length;i++)for(o=0;o<s.length;o++)if(!("collapsed"in(r=s[o])&&r.collapsed!==a.collapsed)&&W.is(n[i],r.selector))return n[i];return e}function r(e,t){var n,i=W.getRoot();if(s[0].wrapper||(n=W.getParent(e,s[0].block,i)),(n=n||W.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=i&&x(e)}))&&s[0].wrapper&&(n=m(n,"ul,ol").reverse()[0]||n),!n)for(n=e;n[t]&&!q(n[t])&&!S(n=n[t],"br"););return n||e}var c,u,d=a.startContainer,h=a.startOffset,f=a.endContainer,p=a.endOffset;if(1==d.nodeType&&d.hasChildNodes()&&(u=d.childNodes.length-1,3==(d=d.childNodes[u<h?u:h]).nodeType&&(h=0)),1==f.nodeType&&f.hasChildNodes()&&(u=f.childNodes.length-1,3==(f=f.childNodes[u<p?u:p-1]).nodeType&&(p=f.nodeValue.length)),d=n(d),f=n(f),(ee(d.parentNode)||ee(d))&&(3==(d=(d=ee(d)?d:d.parentNode).nextSibling||d).nodeType&&(h=0)),(ee(f.parentNode)||ee(f))&&(3==(f=(f=ee(f)?f:f.parentNode).previousSibling||f).nodeType&&(p=f.length)),s[0].inline&&(a.collapsed&&((u=i(d,h,!0))&&(d=u.container,h=u.offset),(u=i(f,p))&&(f=u.container,p=u.offset)),(c=t(f,p)).node)){for(;c.node&&0===c.offset&&c.node.previousSibling;)c=t(c.node.previousSibling);c.node&&0<c.offset&&3===c.node.nodeType&&" "===c.node.nodeValue.charAt(c.offset-1)&&1<c.offset&&(f=c.node).splitText(c.offset-1)}return(s[0].inline||s[0].block_expand)&&(s[0].inline&&3==d.nodeType&&0!==h||(d=e(!0)),s[0].inline&&3==f.nodeType&&p!==f.nodeValue.length||(f=e())),s[0].selector&&s[0].expand!==K&&!s[0].inline&&(d=o(d,"previousSibling"),f=o(f,"nextSibling")),(s[0].block||s[0].selector)&&(d=r(d,"previousSibling"),f=r(f,"nextSibling"),s[0].block&&(q(d)||(d=e(!0)),q(f)||(f=e()))),1==d.nodeType&&(h=G(d),d=d.parentNode),1==f.nodeType&&(p=G(f)+1,f=f.parentNode),{startContainer:d,startOffset:h,endContainer:f,endOffset:p}}function R(n,i,o,r){var e,t,a,s,l,c,u;if(!T(o,n)&&(u=o,!n.links||"A"!=u.tagName))return K;if("all"!=n.remove)for(te(n.styles,function(e,t){e=y(E(e,i),t),"number"==typeof t&&(t=e,r=0),!n.remove_similar&&r&&!S(M(r,t),e)||W.setStyle(o,t,""),a=1}),a&&""===W.getAttrib(o,"style")&&(o.removeAttribute("style"),o.removeAttribute("data-mce-style")),te(n.attributes,function(e,t){var n;e=E(e,i),"number"==typeof t&&(t=e,r=0),r&&!S(W.getAttrib(r,t),e)||("class"==t&&(e=W.getAttrib(o,t))&&(n="",te(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(n+=(n?" ":"")+e)}),n)?W.setAttrib(o,t,n):("class"==t&&o.removeAttribute("className"),X.test(t)&&o.removeAttribute("data-mce-"+t),o.removeAttribute(t)))}),te(n.classes,function(e){e=E(e,i),r&&!W.hasClass(r,e)||W.removeClass(o,e)}),t=W.getAttribs(o),e=0;e<t.length;e++){var d=t[e].nodeName;if(0!==d.indexOf("_")&&0!==d.indexOf("data-"))return K}return"none"!=n.remove&&(l=n,u=(s=o).parentNode,l.block&&(V?u==W.getRoot()&&(l.list_block&&S(s,l.list_block)||te(ne(s.childNodes),function(e){Y(V,e.nodeName.toLowerCase())?c?c.appendChild(e):(c=P(e,V),W.setAttribs(c,b.settings.forced_root_block_attrs)):c=0})):q(s)&&!q(u)&&(h(s,K)||h(s.firstChild,Z,1)||s.insertBefore(W.create("br"),s.firstChild),h(s,Z)||h(s.lastChild,K,1)||s.appendChild(W.create("br")))),l.selector&&l.inline&&!S(l.inline,s)||W.remove(s,1),Z);function h(e,t,n){return!(e=O(e,t,n))||"BR"==e.nodeName||q(e)}}function O(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!N(e))return e}function L(t,e){function n(e,t){for(i=e;i;i=i[t]){if(3==i.nodeType&&0!==i.nodeValue.length)return e;if(1==i.nodeType&&!ee(i))return i}return e}var i,o,r=new c(W);if(t&&e&&(t=n(t,"previousSibling"),e=n(e,"nextSibling"),r.compare(t,e))){for(i=t.nextSibling;i&&i!=e;)i=(o=i).nextSibling,t.appendChild(o);return W.remove(e),te(ne(e.childNodes),function(e){t.appendChild(e)}),t}return e}function B(e,t){var n=e[t?"startContainer":"endContainer"],i=e[t?"startOffset":"endOffset"];return 1==n.nodeType&&(e=n.childNodes.length-1,!t&&i&&i--,n=n.childNodes[e<i?e:i]),3===n.nodeType&&t&&i>=n.nodeValue.length&&(n=new re(n,b.getBody()).next()||n),3!==n.nodeType||t||0!==i||(n=new re(n,b.getBody()).prev()||n),n}function H(e,c,u,d){function h(e){var t=W.create("span",{id:r,"data-mce-bogus":!0,style:n?"color:red":""});return e&&t.appendChild(b.getDoc().createTextNode(Q)),t}function i(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==Q||1<e.childNodes.length)return;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return 1}function a(e){for(;e;){if(e.id===r)return e;e=e.parentNode}}function s(e){var t;if(e)for(e=(t=new re(e,e)).current();e;e=t.next())if(3===e.nodeType)return e}function o(e,t){var n;if(e)n=$.getRng(!0),i(e)?(!1!==t&&(n.setStartBefore(e),n.setEndBefore(e)),W.remove(e)):((t=s(e)).nodeValue.charAt(0)===Q&&(t.deleteData(0,1),n.startContainer==t&&0<n.startOffset&&n.setStart(t,n.startOffset-1),n.endContainer==t&&0<n.endOffset&&n.setEnd(t,n.endOffset-1)),W.remove(e,1)),$.setRng(n);else if(!(e=a($.getStart())))for(;e=W.get(r);)o(e,!1)}function t(){var e=a($.getStart());e&&!W.isEmpty(e)&&ie(e,function(e){1!=e.nodeType||e.id===r||W.isEmpty(e)||W.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var r="_mce_caret",n=b.settings.caret_debug;b._hasCaretEvents||(F=function(){var e,t=[];if(i(a($.getStart()),t))for(e=t.length;e--;)W.setAttrib(t[e],"data-mce-bogus","1")},l=function(e){e=e.keyCode;o(),8==e&&$.isCollapsed()&&$.getStart().innerHTML==Q&&o(a($.getStart())),37!=e&&39!=e||o(a($.getStart())),t()},b.on("SetContent",function(e){e.selection&&t()}),b._hasCaretEvents=!0),("apply"==e?function(){var e,t=$.getRng(!0),n=t.startOffset,i=t.startContainer.nodeValue,o=a($.getStart());o&&(e=s(o));var r=/[^\s\u00a0\u00ad\u200b\ufeff]/;i&&0<n&&n<i.length&&r.test(i.charAt(n))&&r.test(i.charAt(n-1))?(i=$.getBookmark(),t.collapse(!0),t=I(t,k(c)),t=U.split(t),C(c,u,t),$.moveToBookmark(i)):(o&&e.nodeValue===Q||(e=(o=h(!0)).firstChild,t.insertNode(o),n=1),C(c,u,o),$.setCursorLocation(e,n))}:function(){var e,t,n,i=$.getRng(!0),o=[],r=i.startContainer,a=i.startOffset,s=r;for(3==r.nodeType&&(a!=r.nodeValue.length&&(e=!0),s=s.parentNode);s;){if(_(s,c,u,d)){t=s;break}s.nextSibling&&(e=!0),o.push(s),s=s.parentNode}if(t)if(e)l=$.getBookmark(),i.collapse(!0),i=I(i,k(c),!0),i=U.split(i),g(c,u,i),$.moveToBookmark(l);else{for(s=i=h(),n=o.length-1;0<=n;n--)s.appendChild(W.clone(o[n],!1)),s=s.firstChild;s.appendChild(W.doc.createTextNode(Q)),s=s.firstChild;var l=W.getParent(t,x);l&&W.isEmpty(l)?t.parentNode.replaceChild(i,t):W.insertAfter(i,t),$.setCursorLocation(s,1),W.isEmpty(t)&&W.remove(t)}})()}function z(e){var t,n,i,o=e.startContainer,r=e.startOffset;if(!(e.startContainer==e.endContainer&&((i=e.startContainer.childNodes[e.startOffset])&&/^(IMG)$/.test(i.nodeName))||(3==o.nodeType&&r>=o.nodeValue.length&&(r=G(o),o=o.parentNode),1!=o.nodeType)))for(r<(i=o.childNodes).length?(o=i[r],t=new re(o,W.getParent(o,W.isBlock))):(o=i[i.length-1],(t=new re(o,W.getParent(o,W.isBlock))).next(!0)),n=t.current();n;n=t.next())if(3==n.nodeType&&!N(n))return e.setStart(n,0),$.setRng(e),0}var s,j,l,F,i={},W=b.dom,$=b.selection,U=new t(W),Y=b.schema.isValidChild,q=W.isBlock,V=b.settings.forced_root_block,G=W.nodeIndex,Q="\ufeff",X=/^(src|href|style)$/,K=!1,Z=!0,J=W.getContentEditable,ee=o.isBookmarkNode,te=u.each,ne=u.grep,ie=u.walk,e=u.extend,oe=function(e,t){e.clear_child_styles&&te(W.select("*",t),function(n){te(e.styles,function(e,t){W.setStyle(n,t,"")})})};e(this,{get:k,register:n,unregister:function(e){return e&&i[e]&&delete i[e],i},apply:C,remove:g,toggle:function(e,t,n){var i=k(e);(!v(e,t,n)||"toggle"in i[0]&&!i[0].toggle?C:g)(e,t,n)},match:v,matchAll:function(i,o){var r=[],a={},e=$.getStart();return W.getParent(e,function(e){for(var t,n=0;n<i.length;n++)t=i[n],!a[t]&&_(e,t,o)&&(a[t]=!0,r.push(t))},W.getRoot()),r},matchNode:_,canApply:function(e){var t,n,i,o,r=k(e);if(r)for(t=m($.getStart()),i=r.length-1;0<=i;i--){if(!(o=r[i].selector)||r[i].defaultBlock)return Z;for(n=t.length-1;0<=n;n--)if(W.is(t[n],o))return Z}return K},formatChanged:function(e,t,n){var r;return s||(s={},r={},b.on("NodeChange",function(n){var i=m(n.element),o={},i=u.grep(i,function(e){return 1==e.nodeType&&!e.getAttribute("data-mce-bogus")});te(s,function(e,n){te(i,function(t){return _(t,n,{},e.similar)?(r[n]||(te(e,function(e){e(!0,{node:t,format:n,parents:i})}),r[n]=e),o[n]=e,!1):!a(t,n)&&void 0})}),te(r,function(e,t){o[t]||(delete r[t],te(e,function(e){e(!1,{node:n.element,format:t,parents:i})}))})})),te(e.split(","),function(e){s[e]||(s[e]=[],s[e].similar=n),s[e].push(t)}),this},getCssText:function(e){return ae.getCssText(b,e)}}),n({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,e,t){te(t,function(e,t){W.setAttrib(n,t,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),te("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){n(e,{block:e,remove:"all"})}),n(b.settings.formats),function(){b.addShortcut("meta+b","bold_desc","Bold"),b.addShortcut("meta+i","italic_desc","Italic"),b.addShortcut("meta+u","underline_desc","Underline");for(var e=1;e<=6;e++)b.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);b.addShortcut("access+7","",["FormatBlock",!1,"p"]),b.addShortcut("access+8","",["FormatBlock",!1,"div"]),b.addShortcut("access+9","",["FormatBlock",!1,"address"])}(),b.on("BeforeGetContent",function(e){F&&"raw"!=e.format&&F()}),b.on("mouseup keydown",function(e){l&&l(e)})}}),n("55",[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(f,p){function m(e,t,n,i){for(var o=e;o-t<i&&o<n&&f[o]===p[o-t];)++o;return{start:e,end:o,diag:t}}var e=f.length+p.length+2,g=new Array(e),v=new Array(e),c=function(e,t,n,i,o){var r=u(e,t,n,i);if(null===r||r.start===t&&r.diag===t-i||r.end===e&&r.diag===e-n)for(var a=e,s=n;a<t||s<i;)a<t&&s<i&&f[a]===p[s]?(o.push([0,f[a]]),++a,++s):i-n<t-e?(o.push([2,f[a]]),++a):(o.push([1,p[s]]),++s);else{c(e,r.start,n,r.start-r.diag,o);for(var l=r.start;l<r.end;++l)o.push([0,f[l]]);c(r.end,t,r.end-r.diag,i,o)}},u=function(e,t,n,i){var o=t-e,r=i-n;if(0==o||0==r)return null;var a=o-r,o=r+o,s=(o%2==0?o:1+o)/2;g[1+s]=e,v[1+s]=t+1;for(var l=0;l<=s;++l){for(var c=-l;c<=l;c+=2){var u=c+s;c===-l||c!=l&&g[u-1]<g[u+1]?g[u]=g[u+1]:g[u]=g[u-1]+1;for(var d=g[u],h=d-e+n-c;d<t&&h<i&&f[d]===p[h];)g[u]=++d,++h;if(a%2!=0&&a-l<=c&&c<=a+l&&v[u-a]<=g[u])return m(v[u-a],c+e-n,t,i)}for(c=a-l;c<=a+l;c+=2){for(u=c+s-a,c===a-l||c!=a+l&&v[u+1]<=v[u-1]?v[u]=v[u+1]-1:v[u]=v[u-1],h=(d=v[u]-1)-e+n-c;e<=d&&n<=h&&f[d]===p[h];)v[u]=d--,h--;if(a%2==0&&-l<=c&&c<=l&&v[u]<=g[u+a])return m(v[u],c+e-n,t,i)}}},e=[];return c(0,f.length,0,p.length,e),e}}}),n("48",["1g","d","55"],function(o,t,r){function i(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?t.encodeRaw(e.data,!1):8===e.nodeType?"\x3c!--"+e.data+"--\x3e":""}function a(e,t,n){t=function(e){var t,n=document.createElement("div"),i=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)i.appendChild(t);return i}(t),e.hasChildNodes()&&n<e.childNodes.length?(n=e.childNodes[n]).parentNode.insertBefore(t,n):e.appendChild(t)}function s(e,n){var i=0;o.each(e,function(e){var t;e[0]===r.KEEP?i++:e[0]===r.INSERT?(a(n,e[1],i),i++):e[0]===r.DELETE&&(t=i,(e=n).hasChildNodes()&&t<e.childNodes.length&&(t=e.childNodes[t]).parentNode.removeChild(t))})}return{read:function(e){return o.filter(o.map(e.childNodes,i),function(e){return 0<e.length})},write:function(e,t){var n=o.map(t.childNodes,i);return s(r.diff(n,e),t),t}}}),n("1v",["1g","48"],function(i,o){function r(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}}function a(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}}function n(e){return"fragmented"===e.type?e.fragments.join(""):e.content}return{createFragmentedLevel:r,createCompleteLevel:a,createFromEditor:function(t){var e=o.read(t.getBody()),n=i.map(e,function(e){return t.serializer.trimContent(e)}),e=n.join("");return-1!==e.indexOf("</iframe>")?r(n):a(e)},applyToEditor:function(e,t,n){"fragmented"===t.type?o.write(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},isEq:function(e,t){return n(e)===n(t)}}}),n("u",["p","9","1v"],function(e,f,p){return function(r){function a(e){r.setDirty(e)}function i(e){h(!1),c.add({},e)}function t(){c.typing&&(h(!1),c.add())}function s(){return 0===n}var l,o,c=this,u=0,d=[],n=0,h=function(e){s()&&(c.typing=e)};return r.on("init",function(){c.add()}),r.on("BeforeExecCommand",function(e){e=e.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&(t(),c.beforeChange())}),r.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&i(e)}),r.on("ObjectResizeStart Cut",function(){c.beforeChange()}),r.on("SaveContent ObjectResized blur",i),r.on("DragEnd",i),r.on("KeyUp",function(e){var t=e.keyCode;e.isDefaultPrevented()||((33<=t&&t<=36||37<=t&&t<=40||45===t||e.ctrlKey)&&(i(),r.nodeChanged()),46!==t&&8!==t||r.nodeChanged(),o&&c.typing&&!1===p.isEq(p.createFromEditor(r),d[0])&&(!1===r.isDirty()&&(a(!0),r.fire("change",{level:d[0],lastLevel:null})),r.fire("TypingUndo"),o=!1,r.nodeChanged()))}),r.on("KeyDown",function(e){var t,n=e.keyCode;e.isDefaultPrevented()||(33<=n&&n<=36||37<=n&&n<=40||45===n?c.typing&&i(e):(t=e.ctrlKey&&!e.altKey||e.metaKey,!(n<16||20<n)||224===n||91===n||c.typing||t||(c.beforeChange(),h(!0),c.add({},e),o=!0)))}),r.on("MouseDown",function(e){c.typing&&i(e)}),r.addShortcut("meta+z","","Undo"),r.addShortcut("meta+y,meta+shift+z","","Redo"),r.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||r.nodeChanged()}),c={data:d,typing:!1,beforeChange:function(){s()&&(l=r.selection.getBookmark(2,!0))},add:function(e,t){var n,i=r.settings,o=p.createFromEditor(r);if(e=e||{},e=f.extend(e,o),!1===s()||r.removed)return null;if(o=d[u],r.fire("BeforeAddUndo",{level:e,lastLevel:o,originalEvent:t}).isDefaultPrevented())return null;if(o&&p.isEq(o,e))return null;if(d[u]&&(d[u].beforeBookmark=l),i.custom_undo_redo_levels&&d.length>i.custom_undo_redo_levels){for(n=0;n<d.length-1;n++)d[n]=d[n+1];d.length--,u=d.length}e.bookmark=r.selection.getBookmark(2,!0),u<d.length-1&&(d.length=u+1),d.push(e),u=d.length-1;t={level:e,lastLevel:o,originalEvent:t};return r.fire("AddUndo",t),0<u&&(a(!0),r.fire("change",t)),e},undo:function(){var e;return c.typing&&(c.add(),c.typing=!1,h(!1)),0<u&&(e=d[--u],p.applyToEditor(r,e,!0),a(!0),r.fire("undo",{level:e})),e},redo:function(){var e;return u<d.length-1&&(e=d[++u],p.applyToEditor(r,e,!1),a(!0),r.fire("redo",{level:e})),e},clear:function(){d=[],u=0,c.typing=!1,c.data=d,r.fire("ClearUndos")},hasUndo:function(){return 0<u||c.typing&&d[0]&&!p.isEq(p.createFromEditor(r),d[0])},hasRedo:function(){return u<d.length-1&&!c.typing},transact:function(e){return t(),c.beforeChange(),c.ignore(e),c.add()},ignore:function(e){try{n++,e()}finally{n--}},extra:function(e,t){var n;c.transact(e)&&(n=d[u].bookmark,e=d[u-1],p.applyToEditor(r,e,!0),c.transact(t)&&(d[u-1].beforeBookmark=n))}}}}),n("6d",["6a","42","44","1y"],function(e,t,n,i){var e=e.cached(function(){return o(t.fromDom(i))}),o=function(e){e=e.dom().body;if(null==e)throw"Body is not available yet";return t.fromDom(e)};return{body:e,getBody:o,inBody:function(e){e=n.isText(e)?e.dom().parentNode:e.dom();return null!=e&&e.ownerDocument.body.contains(e)}}}),n("6e",["5l","4q"],function(r,a){return function(e,t,n,i,o){return e(n,i)?a.some(n):r.isFunction(o)&&o(n)?a.none():t(n,i,o)}}),n("5s",["5l","3s","3t","4q","6d","53","42","6e"],function(a,n,s,l,t,i,c,o){function r(e,t,n){for(var i=e.dom(),o=a.isFunction(n)?n:s.constant(!1);i.parentNode;){i=i.parentNode;var r=c.fromDom(i);if(t(r))return l.some(r);if(o(r))break}return l.none()}var u=function(e,t){return n.find(e.dom().childNodes,s.compose(t,c.fromDom)).map(c.fromDom)},d=function(e,i){var o=function(e){for(var t=0;t<e.childNodes.length;t++){if(i(c.fromDom(e.childNodes[t])))return l.some(c.fromDom(e.childNodes[t]));var n=o(e.childNodes[t]);if(n.isSome())return n}return l.none()};return o(e.dom())};return{first:function(e){return d(t.body(),e)},ancestor:r,closest:function(e,t,n){return o(function(e){return t(e)},r,e,t,n)},sibling:function(t,n){var e=t.dom();return e.parentNode?u(c.fromDom(e.parentNode),function(e){return!i.eq(t,e)&&n(e)}):l.none()},child:u,descendant:d}}),n("59",["1s","c","1j","1n","1k","3x"],function(e,a,l,t,c,n){function i(e){return 0<e}function o(e){return e<0}function s(e,t){for(var n;n=e(t);)if(!y(n))return n;return null}function r(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(p(e))return e;return t}function u(e,t){for(;e&&e!=t;){if(g(e))return e;e=e.parentNode}return null}function d(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function h(e,t,n){for(var i,o,r,a=e?"previousSibling":"nextSibling";n&&n!=t;){if(i=n[a],v(i)&&(i=i[a]),m(i)){if(r=n,u(i,o=t)==u(r,o))return i;break}if(w(i))break;n=n.parentNode}return null}function f(e,t){return m((n=e,(e=t)?(t=e.container(),e=e.offset(),x(t)?t.childNodes[e+n]:null):null));var n}var p=l.isContentEditableTrue,m=l.isContentEditableFalse,g=l.matchStyleValues("display","block table table-cell table-caption"),v=c.isCaretContainer,y=c.isCaretContainerBlock,b=e.curry,x=l.isElement,w=n.isCaretCandidate,k=b(d,!0),C=b(d,!1);return{isForwards:i,isBackwards:o,findNode:function(e,t,n,i,o){var r=new a(e,i);if(t<0){if((m(e)||y(e))&&n(e=s(r.prev,!0)))return e;for(;e=s(r.prev,o);)if(n(e))return e}if(0<t){if((m(e)||y(e))&&n(e=s(r.next,!0)))return e;for(;e=s(r.next,o);)if(n(e))return e}return null},getEditingHost:r,getParentBlock:u,isInSameBlock:function(e,t,n){return u(e.container(),n)==u(t.container(),n)},isInSameEditingHost:function(e,t,n){return r(e.container(),n)==r(t.container(),n)},isBeforeContentEditableFalse:b(f,0),isAfterContentEditableFalse:b(f,-1),normalizeRange:function(e,t,n){var i,o=b(h,!0,t),r=b(h,!1,t),a=n.startContainer,s=n.startOffset;if(c.isCaretContainerBlock(a)){if(x(a)||(a=a.parentNode),"before"==(t=a.getAttribute("data-mce-caret"))&&(i=a.nextSibling,m(i)))return k(i);if("after"==t&&(i=a.previousSibling,m(i)))return C(i)}if(!n.collapsed)return n;if(l.isText(a)){if(v(a)){if(1===e){if(i=r(a))return k(i);if(i=o(a))return C(i)}if(-1===e){if(i=o(a))return C(i);if(i=r(a))return k(i)}return n}if(c.endsWithCaretContainer(a)&&s>=a.data.length-1)return 1===e&&(i=r(a))?k(i):n;if(c.startsWithCaretContainer(a)&&s<=1)return-1===e&&(i=o(a))?C(i):n;if(s===a.data.length)return(i=r(a))?k(i):n;if(0===s)return(i=o(a))?C(i):n}return n}}}),n("4d",["1j","3x","1n","59","1g","1s"],function(u,e,d,h,f,p){function m(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function g(e,t){if(k(e)){if(_(t.previousSibling)&&!b(t.previousSibling))return d.before(t);if(b(t))return d(t,0)}if(C(e)){if(_(t.nextSibling)&&!b(t.nextSibling))return d.after(t);if(b(t))return d(t,t.data.length)}return!C(e)||w(t)?d.before(t):d.after(t)}function v(e,t,n){var i,o,r,a,s,l,c;if(!x(n)||!t)return null;if(t.isEqual(d.after(n))&&n.lastChild){if(s=d.after(n.lastChild),C(e)&&_(n.lastChild)&&x(n.lastChild))return w(n.lastChild)?d.before(n.lastChild):s}else s=t;if(i=s.container(),c=s.offset(),b(i)){if(C(e)&&0<c)return d(i,--c);if(k(e)&&c<i.length)return d(i,++c);o=i}else{if(C(e)&&0<c&&(r=m(i,c-1),_(r)))return!T(r)&&(a=h.findNode(r,e,S,r))?b(a)?d(a,a.data.length):d.after(a):b(r)?d(r,r.data.length):d.before(r);if(k(e)&&c<i.childNodes.length&&(r=m(i,c),_(r)))return l=r,t=n,u.isBr(l)&&((c=v(1,d.after(l),t))&&!h.isInSameBlock(d.before(l),d.before(c),t))?v(e,d.after(r),n):!T(r)&&(a=h.findNode(r,e,S,r))?b(a)?d(a,0):d.before(a):b(r)?d(r,0):d.after(r);o=s.getNode()}return(k(e)&&s.isAtEnd()||C(e)&&s.isAtStart())&&(o=h.findNode(o,e,p.constant(!0),n,!0),S(o))?g(e,o):(r=h.findNode(o,e,S,n),!(n=f.last(f.filter(function(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}(i,n),y)))||r&&n.contains(r)?r?g(e,r):null:s=k(e)?d.after(n):d.before(n))}var y=u.isContentEditableFalse,b=u.isText,x=u.isElement,w=u.isBr,k=h.isForwards,C=h.isBackwards,_=e.isCaretCandidate,T=e.isAtomic,S=e.isEditableCaretCandidate;return function(t){return{next:function(e){return v(1,e,t)},prev:function(e){return v(-1,e,t)}}}}),n("5g",["3t","4q","3x","1n","4d","1j"],function(e,o,r,a,s,l){return{fromPosition:function(e,t,n){t=new s(t);return o.from(e?t.next(n):t.prev(n))},positionIn:function(e,t){var n,i=e?t.firstChild:t.lastChild;return l.isText(i)?o.some(new a(i,e?0:i.data.length)):i?r.isCaretCandidate(i)?o.some(e?a.before(i):(n=i,l.isBr(n)?a.before(n):a.after(n))):function(e,t,n){t=new s(t),n=e?a.before(n):a.after(n);return o.from(e?t.next(n):t.prev(n))}(e,t,i):o.none()}}}),n("58",["3s","4q","53","42","44","5s"],function(e,i,o,r,t,a){var n,s,l=(n=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],s=e.foldl(n,function(e,t){return e[t]=!0,e},{}),function(e){return!0===s[t.name(e)]});return{getParentTextBlock:function(e,t){return o.contains(e,t)?a.closest(t,l,(n=e,function(e){return o.eq(n,r.fromDom(e.dom().parentNode))})):i.none();var n}}}),n("70",["5s","5q","6e"],function(i,o,r){function a(e,t,n){return i.ancestor(e,function(e){return o.is(e,t)},n)}return{first:function(e){return o.one(e)},ancestor:a,sibling:function(e,t){return i.sibling(e,function(e){return o.is(e,t)})},child:function(e,t){return i.child(e,function(e){return o.is(e,t)})},descendant:function(e,t){return o.one(t,e)},closest:function(e,t,n){return r(o.is,a,e,t,n)}}}),n("6f",["70"],function(i){return{any:function(e){return i.first(e).isSome()},ancestor:function(e,t,n){return i.ancestor(e,t,n).isSome()},sibling:function(e,t){return i.sibling(e,t).isSome()},child:function(e,t){return i.child(e,t).isSome()},descendant:function(e,t){return i.descendant(e,t).isSome()},closest:function(e,t,n){return i.closest(e,t,n).isSome()}}}),n("5t",["3t","53","42","6f","3x","1j","c"],function(n,i,o,r,a,s,l){function c(e,t){return s.isText(t)&&/^[ \t\r\n]*$/.test(t.data)&&!1===function(e,t){e=o.fromDom(e),t=o.fromDom(t);return r.ancestor(t,"pre,code",n.curry(i.eq,e))}(e,t)}function u(e,t){return a.isCaretCandidate(t)&&!1===c(e,t)||(e=t,s.isElement(e)&&"A"===e.nodeName&&e.hasAttribute("name"))||d(t)}var d=s.hasAttribute("data-mce-bookmark"),h=s.hasAttribute("data-mce-bogus"),f=s.hasAttributeValue("data-mce-bogus","all");return{isEmpty:function(e){return function(e){var t,n,i=0;if(u(e,e))return!1;if(!(n=e.firstChild))return!0;t=new l(n,e);do{if(f(n))n=t.next(!0);else if(h(n))n=t.next();else if(s.isBr(n))i++,n=t.next();else{if(u(e,n))return!1;n=t.next()}}while(n);return i<=1}(e.dom())}}}),n("56",["3s","3t","4q","54","5m","53","42","44","5s","4x","5g","1n","58","5t","1j"],function(e,t,a,n,i,s,o,r,l,c,u,d,h,f,p){function m(e,t){var n=o.fromDom(e),e=o.fromDom(t.container());return h.getParentTextBlock(n,e).map(function(e){return v(e,t)})}function g(o,r,e){var t=m(o,d.fromRangeStart(e)),e=t.bind(function(e){return u.fromPosition(r,o,e.position()).bind(function(e){return m(o,e).map(function(e){return t=o,n=r,i=e,p.isBr(i.position().getNode())&&!1===f.isEmpty(i.block())?u.positionIn(!1,i.block().dom()).bind(function(e){return e.isEqual(i.position())?u.fromPosition(n,t,e).bind(function(e){return m(t,e)}):a.some(i)}).getOr(i):i;var t,n,i})})});return n.liftN([t,e],y).filter(function(e){return t=e,!1===s.eq(t.from().block(),t.to().block())&&(n=e,c.parent(n.from().block()).bind(function(t){return c.parent(n.to().block()).filter(function(e){return s.eq(t,e)})}).isSome())&&(e=e,!1===p.isContentEditableFalse(e.from().block())&&!1===p.isContentEditableFalse(e.to().block()));var n,t})}var v=i.immutable("block","position"),y=i.immutable("from","to");return{read:function(e,t,n){return n.collapsed?g(e,t,n):a.none()}}}),n("57",["3s","4q","40","51","42","4x","5g","1n","5t","1j"],function(r,a,s,l,c,u,d,e,h,f){function i(e,t,n,i){var o=u.children(t);return f.isBr(i.getNode())&&(l.remove(c.fromDom(i.getNode())),i=d.positionIn(!1,n.dom()).getOr(i)),!1===h.isEmpty(t)&&r.each(o,function(e){s.append(n,e)}),h.isEmpty(t)&&l.remove(t),0<o.length?a.from(i):a.none()}return{mergeBlocks:function(e,t,n){return e?h.isEmpty(t)?(l.remove(t),d.positionIn(!0,n.dom())):d.positionIn(!1,t.dom()).bind(function(e){return i(0,n,t,e)}):h.isEmpty(n)?(l.remove(n),d.positionIn(!0,t.dom())):d.positionIn(!1,n.dom()).bind(function(e){return i(0,t,n,e)})}}}),n("49",["56","57"],function(i,o){return{backspaceDelete:function(t,n){var e=i.read(t.getBody(),n,t.selection.getRng()).bind(function(e){return o.mergeBlocks(n,e.from().block(),e.to().block())});return e.each(function(e){t.selection.setRng(e.toRange())}),e.isSome()}}}),n("4a",["54","53","42","58","57"],function(r,a,s,l,c){return{backspaceDelete:function(e,t){var n,i,o=s.fromDom(e.getBody());return!1===e.selection.isCollapsed()&&(o=o,n=e.selection,i=n.getRng(),r.liftN([l.getParentTextBlock(o,s.fromDom(i.startContainer)),l.getParentTextBlock(o,s.fromDom(i.endContainer))],function(e,t){return!1===a.eq(e,t)&&(i.deleteContents(),c.mergeBlocks(!0,e,t).each(function(e){n.setRng(e.toRange())}),!0)}).getOr(!1))}}}),n("5u",["3s","5r","5l","4r","4s","4z"],function(l,c,u,d,h,f){return{generate:function(a){if(!u.isArray(a))throw new h("cases must be an array");if(0===a.length)throw new h("there must be at least one case");var s=[],n={};return l.each(a,function(e,i){var t=c.keys(e);if(1!==t.length)throw new h("one and only one name per case");var o=t[0],r=e[o];if(void 0!==n[o])throw new h("duplicate key detected:"+o);if("cata"===o)throw new h("cannot have a case named cata (sorry)");if(!u.isArray(r))throw new h("case arguments must be an array");s.push(o),n[o]=function(){var e=arguments.length;if(e!==r.length)throw new h("Wrong number of arguments to case "+o+". Expected "+r.length+" ("+r+"), got "+e);for(var n=new d(e),t=0;t<n.length;t++)n[t]=arguments[t];return{fold:function(){if(arguments.length!==a.length)throw new h("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);return arguments[i].apply(null,n)},match:function(e){var t=c.keys(e);if(s.length!==t.length)throw new h("Wrong number of arguments to match. Expected: "+s.join(",")+"\nActual: "+t.join(","));if(!l.forall(s,function(e){return l.contains(t,e)}))throw new h("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+s.join(", "));return e[o].apply(null,n)},log:function(e){f.log(e,{constructors:s,constructor:o,params:n})}}}}),n}}}),n("5a",["5u","4q","42","5g","1n","59","58","5t","1j"],function(e,r,a,o,i,s,l,c,u){function d(e,t,n,i){var o=i.getNode(!1===t);return l.getParentTextBlock(a.fromDom(e),a.fromDom(n.getNode())).map(function(e){return c.isEmpty(e)?p.remove(e.dom()):p.moveToElement(o)}).orThunk(function(){return r.some(p.moveToElement(o))})}function h(t,n,i){return o.fromPosition(n,t,i).bind(function(e){return n&&u.isContentEditableFalse(e.getNode())||!1===n&&u.isContentEditableFalse(e.getNode(!0))?d(t,n,i,e):n&&s.isAfterContentEditableFalse(i)||!1===n&&s.isBeforeContentEditableFalse(i)?r.some(p.moveToPosition(e)):r.none()})}function f(e,t,n){return function(e,t){t=t.getNode(!1===e),e=e?"after":"before";return u.isElement(t)&&t.getAttribute("data-mce-caret")===e}(t,n)?(i=t,o=n.getNode(!1===t),(i&&u.isContentEditableFalse(o.nextSibling)?r.some(p.moveToElement(o.nextSibling)):!1===i&&u.isContentEditableFalse(o.previousSibling)?r.some(p.moveToElement(o.previousSibling)):r.none()).fold(function(){return h(e,t,n)},r.some)):h(e,t,n);var i,o}var p=e.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]);return{read:function(e,t,n){n=s.normalizeRange(t?1:-1,e,n),n=i.fromRangeStart(n);return!1===t&&s.isAfterContentEditableFalse(n)?r.some(p.remove(n.getNode(!0))):t&&s.isBeforeContentEditableFalse(n)?r.some(p.remove(n.getNode())):f(e,t,n)}}}),n("5v",[],function(){var t=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;return{hasStrongRtl:function(e){return t.test(e)}}}),n("5f",["3t","4q","54","1k","5g","1n","59","4d","e","5v"],function(e,n,t,o,i,r,a,s,l,c){function u(e){return l.DOM.is(e,"a[href],code")}function d(e,t){return n.from(l.DOM.getParent(t.container(),u,e))}function h(e,t){var n=t.container(),i=t.offset();return e?o.isBeforeInline(t)?new r(n,i+1):t:o.isAfterInline(t)?new r(n,i-1):t}var f=function(e,t,n){return i.fromPosition(t,e,n)},p=e.curry(h,!0),e=e.curry(h,!1);return{isInlineTarget:u,findInline:d,isInInline:function(e,t){return!!t&&d(e,t).isSome()},isRtl:function(e){return"rtl"===l.DOM.getStyle(e,"direction",!0)||c.hasStrongRtl(e.textContent)},isAtInlineEndPoint:function(e,t){return d(e,t).map(function(e){return f(e,!1,t).isNone()||f(e,!0,t).isNone()}).getOr(!1)},isAtZwsp:function(e){return o.isBeforeInline(e)||o.isAfterInline(e)},findCaretPositionIn:function(e,t){return i.positionIn(t,e)},findCaretPosition:f,normalizePosition:h,normalizeForwards:p,normalizeBackwards:e,hasSameParentBlock:function(e,t,n){t=a.getParentBlock(t,e),e=a.getParentBlock(n,e);return t&&t===e}}}),n("5b",["3t","4q","54","40","51","42","44","5s","4x","3x","1n","5t","1j","5f"],function(c,u,d,n,h,i,o,f,p,r,m,a,g,s){function l(e,t){return i=e,o=(n=t).container(),e=n.offset(),!1===m.isTextPosition(n)&&o===i.parentNode&&e>m.before(i).offset()?new m(t.container(),t.offset()-1):t;var n,i,o}function e(e){return r.isCaretCandidate(e.previousSibling)?u.some((t=e.previousSibling,g.isText(t)?new m(t,t.data.length):m.after(t))):e.previousSibling?s.findCaretPositionIn(e.previousSibling,!1):u.none();var t}function t(e){return r.isCaretCandidate(e.nextSibling)?u.some((t=e.nextSibling,g.isText(t)?new m(t,0):m.before(t))):e.nextSibling?s.findCaretPositionIn(e.nextSibling,!0):u.none();var t}function v(i,o){return e(o).orThunk(function(){return t(o)}).orThunk(function(){return e=i,t=o,n=m.before(t.previousSibling?t.previousSibling:t.parentNode),s.findCaretPosition(e,!1,n).fold(function(){return s.findCaretPosition(e,!0,m.after(t))},u.some);var e,t,n})}function y(n,i){return t(i).orThunk(function(){return e(i)}).orThunk(function(){return e=n,t=i,s.findCaretPosition(e,!0,m.after(t)).fold(function(){return s.findCaretPosition(e,!1,m.before(t))},u.some);var e,t})}function b(e,t,n){return(e?y:v)(t,n).map(c.curry(l,n))}function x(t,n,e){e.fold(function(){t.focus()},function(e){t.selection.setRng(e.toRange(),n)})}function w(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(o.name(t))}function k(e){if(a.isEmpty(e)){var t=i.fromHtml('<br data-mce-bogus="1">');return h.empty(e),n.append(e,t),u.some(m.before(t.dom()))}return u.none()}return{deleteElement:function(t,n,e){var r,i,o,a=b(n,t.getBody(),e.dom()),s=f.ancestor(e,c.curry(w,t),(o=t.getBody(),function(e){return e.dom()===o})),l=(r=e,i=a,d.liftN([p.prevSibling(r),p.nextSibling(r),i],function(e,t,n){var i=e.dom(),o=t.dom();return g.isText(i)&&g.isText(o)?(e=i.data.length,i.appendData(o.data),h.remove(t),h.remove(r),n.container()===o?new m(i,e):n):(h.remove(r),n)}).orThunk(function(){return h.remove(r),i}));s.bind(k).fold(function(){x(t,n,l)},function(e){x(t,n,u.some(e))})}}}),n("4b",["42","1n","59","56","5a","5b","57","1j"],function(l,c,e,t,n,u,i,o){function r(a,s){return n.read(a.getBody(),s,a.selection.getRng()).map(function(e){return e.fold(function(e){return u.deleteElement(o,r,l.fromDom(e)),!0},(i=r=s,function(e){e=i?c.before(e):c.after(e);return n.selection.setRng(e.toRange()),!0}),(t=n=o=a,function(e){return t.selection.setRng(e.toRange()),!0}));var t,n,i,o,r}).getOr(!1)}return{backspaceDelete:function(e,t){return e.selection.isCollapsed()?r(e,t):(n=t,e=(t=e).selection.getNode(),!!o.isContentEditableFalse(e)&&(u.deleteElement(t,n,l.fromDom(t.selection.getNode())),!0));var n},paddEmptyElement:function(e){var t,n=function(e,t){for(;t&&t!==e;){if(o.isContentEditableTrue(t)||o.isContentEditableFalse(t))return t;t=t.parentNode}return null}(e.getBody(),e.selection.getNode());return o.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(c.before(t).toRange())),!0}}}),n("5w",["3t","1j","1l"],function(e,t,n){function i(e){return a(e)&&e.data[0]===n.ZWSP}function o(e){return a(e)&&e.data[e.data.length-1]===n.ZWSP}function r(e){return e.ownerDocument.createTextNode(n.ZWSP)}var a=t.isText,t=function(e,t){return(e?function(e){if(a(e.previousSibling))return o(e.previousSibling)||e.previousSibling.appendData(n.ZWSP),e.previousSibling;if(a(e))return i(e)||e.insertData(0,n.ZWSP),e;var t=r(e);return e.parentNode.insertBefore(t,e),t}:function(e){if(a(e.nextSibling))return i(e.nextSibling)||e.nextSibling.insertData(0,n.ZWSP),e.nextSibling;if(a(e))return o(e)||e.appendData(n.ZWSP),e;var t=r(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t})(t)};return{insertInline:t,insertInlineBefore:e.curry(t,!0),insertInlineAfter:e.curry(t,!1)}}),n("5x",["3s","1k","1n","1j","1l","9"],function(a,n,s,e,i,t){function o(e){var t=e.parentNode;t&&t.removeChild(e)}function l(e,t){0===t.length?o(e):e.nodeValue=t}function c(e){var t=i.trim(e);return{count:e.length-t.length,text:t}}function u(e,t){return p(e),t}function r(e,t){return t.container()===e?(i=t,o=c((n=e).data.substr(0,i.offset())),r=c(n.data.substr(i.offset())),0<(r=o.text+r.text).length?(l(n,r),new s(n,i.offset()-o.count)):i):u(e,t);var n,i,o,r}function d(e,t){return t.container()===e.parentNode?(n=e,o=(i=t).container(),r=a.indexOf(o.childNodes,n).map(function(e){return e<i.offset()?new s(o,i.offset()-1):i}).getOr(i),p(n),r):u(e,t);var n,i,o,r}var h=e.isElement,f=e.isText,p=function(e){var t;h(e)&&n.isCaretContainer(e)&&(n.hasContent(e)?e.removeAttribute("data-mce-caret"):o(e)),f(e)&&(t=i.trim(function(e){try{return e.nodeValue}catch(e){return""}}(e)),l(e,t))};return{removeAndReposition:function(e,t){return(s.isTextPosition(t)?r:d)(e,t)},remove:p}}),n("5c",["4q","1k","5w","5x","1n","1j","5f"],function(n,e,i,o,r,a,s){function l(e,t){return a.isText(e.container())?i.insertInline(t,e.container()):i.insertInline(t,e.getNode())}return{renderCaret:function(t,e){return e.fold(function(e){o.remove(t.get());e=i.insertInlineBefore(e);return t.set(e),n.some(new r(e,e.length-1))},function(e){return s.findCaretPositionIn(e,!0).map(function(e){o.remove(t.get());e=l(e,!0);return t.set(e),new r(e,1)})},function(e){return s.findCaretPositionIn(e,!1).map(function(e){o.remove(t.get());e=l(e,!1);return t.set(e),new r(e,e.length-1)})},function(e){o.remove(t.get());e=i.insertInlineAfter(e);return t.set(e),n.some(new r(e,1))})}}}),n("5y",["4q"],function(o){return{evaluateUntil:function(e,t){for(var n=0;n<e.length;n++){var i=e[n].apply(null,t);if(i.isSome())return i}return o.none()}}}),n("5d",["5u","3t","4q","54","1k","1n","59","1j","5f","5y"],function(e,c,o,r,t,n,i,a,u,s){function l(e,t){return(t=i.getParentBlock(t,e))||e}function d(e,t){var n=u.normalizeForwards(t),i=l(e,n.container());return u.findInline(i,n).fold(function(){return u.findCaretPosition(i,!0,n).bind(c.curry(u.findInline,i)).map(function(e){return k.before(e)})},o.none)}function h(e,t){var n=u.normalizeBackwards(t);return u.findInline(e,n).bind(function(e){return u.findCaretPosition(e,!1,n).isNone()?o.some(k.start(e)):o.none()})}function f(e,t){var n=u.normalizeForwards(t);return u.findInline(e,n).bind(function(e){return u.findCaretPosition(e,!0,n).isNone()?o.some(k.end(e)):o.none()})}function p(e,t){var n=u.normalizeBackwards(t),i=l(e,n.container());return u.findInline(i,n).fold(function(){return u.findCaretPosition(i,!1,n).bind(c.curry(u.findInline,i)).map(function(e){return k.after(e)})},o.none)}function m(e){return!1===u.isRtl(C(e))}function g(e,t){return s.evaluateUntil([d,h,f,p],[e,t]).filter(m)}function v(e){return e.fold(c.constant("before"),c.constant("start"),c.constant("end"),c.constant("after"))}function y(e){return e.fold(k.before,k.before,k.after,k.after)}function b(n,i,e,t,o){return r.liftN([u.findInline(i,e),u.findInline(i,t)],function(e,t){return e!==t&&u.hasSameParentBlock(i,e,t)?k.after(n?e:t):o}).getOr(o)}function x(e,n){return e.fold(c.constant(!0),function(e){return t=n,!(v(e=e)===v(t)&&C(e)===C(t));var t})}function w(e,t){return e?t.fold(c.compose(o.some,k.start),o.none,c.compose(o.some,k.after),o.none):t.fold(o.none,c.compose(o.some,k.before),o.none,c.compose(o.some,k.end))}var k=e.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),C=function(e){return e.fold(c.identity,c.identity,c.identity,c.identity)},e=function(r,a,s){var e=u.normalizePosition(r,s),l=g(a,e);return g(a,e).bind(c.curry(w,r)).orThunk(function(){return t=r,n=a,i=l,e=s,o=u.normalizePosition(t,e),u.findCaretPosition(n,t,o).map(c.curry(u.normalizePosition,t)).fold(function(){return i.map(y)},function(e){return g(n,e).map(c.curry(b,t,n,o,e)).filter(c.curry(x,i))}).filter(m);var t,n,i,e,o})};return{readLocation:g,prevLocation:c.curry(e,!1),nextLocation:c.curry(e,!0),getElement:C,outside:y,inside:function(e){return e.fold(k.start,k.start,k.end,k.end)}}}),n("5z",[],function(){var n=function(e){var t=e,e=function(){return t};return{get:e,set:function(e){t=e},clone:function(){return n(t)}}};return n}),n("5e",["3s","5z","3t","5x","1n","5c","5d","5f"],function(l,e,c,u,d,i,h,f){function p(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)}function m(e){return!1!==e.settings.inline_boundaries}function g(e,t){e?t.setAttribute("data-mce-selected","1"):t.removeAttribute("data-mce-selected","1")}function v(t,e,n){return i.renderCaret(e,n).map(function(e){return p(t,e),n})}return{move:function(r,a,s){return function(){return!!m(r)&&(n=a,e=s,i=(t=r).getBody(),o=d.fromRangeStart(t.selection.getRng()),(e?h.nextLocation(i,o):h.prevLocation(i,o)).bind(function(e){return v(t,n,e)}).isSome());var t,n,e,i,o}},setupSelectedState:function(a){var s=new e(null);return a.on("NodeChange",function(e){var n,i,t,o,r;m(a)&&(function(e,t){e=e.select("a[href][data-mce-selected],code[data-mce-selected]"),t=l.filter(t,f.isInlineTarget);l.each(l.difference(e,t),c.curry(g,!1)),l.each(l.difference(t,e),c.curry(g,!0))}(a.dom,e.parents),o=s,(t=a).selection.isCollapsed()&&!0!==t.composing&&o.get()&&(r=d.fromRangeStart(t.selection.getRng()),d.isTextPosition(r)&&!1===f.isAtZwsp(r)&&(p(t,u.removeAndReposition(o.get(),r)),o.set(null))),n=a,i=s,e=e.parents,n.selection.isCollapsed()&&(e=l.filter(e,f.isInlineTarget),l.each(e,function(e){var t=d.fromRangeStart(n.selection.getRng());h.readLocation(n.getBody(),t).bind(function(e){return v(n,i,e)})})))}),s},setCaretPosition:p}}),n("4c",["3t","4q","54","42","1k","1n","59","5b","5c","5d","5e","5f"],function(t,l,e,c,n,u,d,h,i,f,o,p){function m(t,n){return function(e){return i.renderCaret(n,e).map(function(e){return o.setCaretPosition(t,e),!0}).getOr(!1)}}function g(i,o,r,a){var s=i.getBody();i.undoManager.ignore(function(){var e,t,n;i.selection.setRng((e=r,t=a,(n=document.createRange()).setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n)),i.execCommand("Delete"),f.readLocation(s,u.fromRangeStart(i.selection.getRng())).map(f.inside).map(m(i,o))}),i.nodeChanged()}function r(n,i,o,r){var a=function(e,t){t=d.getParentBlock(t,e);return t||e}(n.getBody(),r.container()),s=f.readLocation(a,r);return s.bind(function(e){return o?e.fold(t.constant(l.some(f.inside(e))),l.none,t.constant(l.some(f.outside(e))),l.none):e.fold(l.none,t.constant(l.some(f.outside(e))),l.none,t.constant(l.some(f.inside(e))))}).map(m(n,i)).getOrThunk(function(){var t=p.findCaretPosition(a,o,r),e=t.bind(function(e){return f.readLocation(a,e)});return(s.isSome()&&e.isSome()?p.findInline(a,r).map(function(e){return h.deleteElement(n,o,c.fromDom(e)),!0}):e.map(function(e){return t.map(function(e){o?g(n,i,r,e):g(n,i,e,r)}),!0})).getOr(!1)})}return{backspaceDelete:function(e,t,n){if(e.selection.isCollapsed()&&!1!==e.settings.inline_boundaries){var i=u.fromRangeStart(e.selection.getRng());return r(e,t,n,i)}return!1}}}),n("1w",["49","4a","4b","4c"],function(i,o,r,a){function s(e,t){e.getDoc().execCommand(t,!1,null)}return{deleteCommand:function(e){var t,n;r.backspaceDelete(e,!1)||a.backspaceDelete(e,!1)||i.backspaceDelete(e,!1)||o.backspaceDelete(e,!1)||(s(e,"Delete"),n=(t=e).dom,e=t.getBody(),n.isEmpty(e)&&(t.setContent(""),e.firstChild&&n.isBlock(e.firstChild)?t.selection.setCursorLocation(e.firstChild,0):t.selection.setCursorLocation(e,0)))},forwardDeleteCommand:function(e){r.backspaceDelete(e,!0)||a.backspaceDelete(e,!0)||i.backspaceDelete(e,!0)||o.backspaceDelete(e,!0)||s(e,"ForwardDelete")}}}),n("4e",["5g","1n","59","1j"],function(t,n,c,i){return{normalize:function(r){var e,a=n.fromRangeStart(r),s=n.fromRangeEnd(r),l=r.commonAncestorContainer;return!1===r.collapsed&&(e=r.endContainer,i.isElement(e)&&/^(P|H[1-6]|DIV)$/.test(e.nodeName))&&0===r.endOffset?t.fromPosition(!1,l,s).map(function(e){return!c.isInSameBlock(a,s,l)&&c.isInSameBlock(a,e,l)?(t=a.container(),n=a.offset(),i=e.container(),o=e.offset(),(e=document.createRange()).setStart(t,n),e.setEnd(i,o),e):r;var t,n,i,o}).getOr(r):r}}}),n("4f",["9","4d","1n"],function(d,h,f){function p(e){return d.grep(e.childNodes,function(e){return"LI"===e.nodeName})}function m(e){return 0<e.length&&!e[e.length-1].firstChild?e.slice(0,-1):e}function g(e,t){return(e=e.getParent(t,e.isBlock))&&"LI"===e.nodeName?e:null}function v(e,t){return e=f.after(e),(e=new h(t).prev(e))?e.toRange():null}function y(t,e,n){var i=t.parentNode;return d.each(e,function(e){i.insertBefore(e,t)}),function(e,t){e=f.before(e),e=new h(t).next(e);return e?e.toRange():null}(t,n)}return{isListFragment:function(e){var t=e.firstChild,e=e.lastChild;return t&&"meta"===t.name&&(t=t.next),e&&"mce_marker"===e.attr("id")&&(e=e.prev),!(!t||t!==e||"ul"!==t.name&&"ol"!==t.name)},insertAtCaret:function(e,i,o,t){var n,r,a,s,l,c=function(e,t,n){t=t.serialize(n),n=e.createFragment(t);return t=(e=n).firstChild,n=e.lastChild,t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e}(i,e,t),u=g(i,o.startContainer),e=m(p(c.firstChild)),t=i.getRoot(),c=function(e){var t=f.fromRangeStart(o),n=new h(i.getRoot()),t=1===e?n.prev(t):n.next(t);return!t||g(i,t.getNode())!==u};return c(1)?y(u,e,t):c(2)?(a=u,s=e,l=t,i.insertAfter(s.reverse(),a),v(s[0],l)):(a=e,s=t,l=n=u,e=(t=e=o).cloneRange(),t=t.cloneRange(),e.setStartBefore(l),t.setEndAfter(l),t=[e.cloneContents(),t.cloneContents()],(r=n.parentNode).insertBefore(t[0],n),d.each(a,function(e){r.insertBefore(e,n)}),r.insertBefore(t[1],n),r.removeChild(n),v(a[a.length-1],s))},isParentBlockLi:function(e,t){return!!g(e,t)},trimListItems:m,listItems:p}}),n("1x",["1n","4d","1r","1j","4e","6","n","4f","9"],function(S,D,A,e,M,E,N,P,I){function i(i,e,t){var n,o,r,a,s,l,c,u,d,h=i.schema.getTextInlineElements(),f=i.selection,p=i.dom;function m(e){return d[e]&&3==d[e].nodeType}/^ | $/.test(e)&&(y=e,d=(v=f.getRng(!0)).startContainer,v=v.startOffset,3==d.nodeType&&(0<v?y=y.replace(/^&nbsp;/," "):m("previousSibling")||(y=y.replace(/^ /,"&nbsp;")),v<d.length?y=y.replace(/&nbsp;(<br>|)$/," "):m("nextSibling")||(y=y.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e=y),x=i.parser,w=t.merge,n=new N({validate:i.settings.validate},i.schema),b='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',a={content:e,format:"html",selection:!0},i.fire("BeforeSetContent",a),-1==(e=a.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,b);var g,v=(l=f.getRng()).startContainer||(l.parentElement?l.parentElement():null),y=i.getBody();v===y&&f.isCollapsed()&&p.isBlock(y.firstChild)&&((g=y.firstChild)&&!i.schema.getShortEndedElements()[g.nodeName])&&p.isEmpty(y.firstChild)&&((l=p.createRng()).setStart(y.firstChild,0),l.setEnd(y.firstChild,0),f.setRng(l)),f.isCollapsed()||(i.selection.setRng(M.normalize(i.selection.getRng())),i.getDoc().execCommand("Delete",!1,null),g=f.getRng(!0),y=g.startContainer,_=g.startOffset,3==y.nodeType&&g.collapsed&&("Â "===y.data[_]?(y.deleteData(_,1),/[\u00a0| ]$/.test(e)||(e+=" ")):"Â "===y.data[_-1]&&(y.deleteData(_-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e))));var b,x,w,k,C,_={context:(o=f.getNode()).nodeName.toLowerCase(),data:t.data},T=x.parse(e,_);if(!0===t.paste&&P.isListFragment(T)&&P.isParentBlockLi(p,o))return l=P.insertAtCaret(n,p,i.selection.getRng(!0),T),i.selection.setRng(l),i.fire("SetContent",a),0;if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(T),"mce_marker"==(c=T.lastChild).attr("id"))for(c=(s=c).prev;c;c=c.walk(!0))if(3==c.type||!p.isBlock(c.name)){i.schema.isValidChild(c.parent.name,"span")&&c.parent.insert(s,c,"br"===c.name);break}if(i._selectionOverrides.showBlockCaretContainer(o),_.invalid){for(f.setContent(b),o=f.getNode(),r=i.getBody(),9==o.nodeType?o=c=r:c=o;c!==r;)c=(o=c).parentNode;e=o==r?r.innerHTML:p.getOuterHTML(o),e=n.serialize(x.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return n.serialize(T)}))),o==r?p.setHTML(r,e):p.setOuterHTML(o,e)}else e=n.serialize(T),v=i,t=e,"all"===(_=o).getAttribute("data-mce-bogus")?_.parentNode.insertBefore(v.dom.createFragment(t),_):(b=_.firstChild,x=_.lastChild,!b||b===x&&"BR"===b.nodeName?v.dom.setHTML(_,t):v.selection.setContent(t));w&&(k=i.getBody(),C=new A(p),I.each(p.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!=k;t=t.parentNode)h[e.nodeName.toLowerCase()]&&C.compare(t,e)&&p.remove(e,!0)})),function(e){var t,n;if(e){if(f.scrollIntoView(e),t=function(e){for(var t=i.getBody();e&&e!==t;e=e.parentNode)if("false"===i.dom.getContentEditable(e))return e;return null}(e))return p.remove(e),f.select(t);l=p.createRng(),(c=e.previousSibling)&&3==c.nodeType?(l.setStart(c,c.nodeValue.length),E.ie||(u=e.nextSibling)&&3==u.nodeType&&(c.appendData(u.data),u.parentNode.removeChild(u))):(l.setStartBefore(e),l.setEndBefore(e)),t=p.getParent(e,p.isBlock),p.remove(e),t&&p.isEmpty(t)&&(i.$(t).empty(),l.setStart(t,0),l.setEnd(t,0),R(t)||t.getAttribute("data-mce-fragment")||!(n=function(e){if(e=S.fromRangeStart(e),e=new D(i.getBody()).next(e))return e.toRange()}(l))?p.add(t,p.create("br",{"data-mce-bogus":"1"})):(l=n,p.remove(t))),f.setRng(l)}}(p.get("mce_marker")),w=i.getBody(),I.each(w.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")}),i.fire("SetContent",a),i.addVisual()}var R=e.matchNodeNames("td th");return{insertAtCaret:function(e,t){var n,n="string"!=typeof(n=t)?(t=I.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:t}):{content:n,details:{}};i(e,n.content,n.details)}}}),n("v",["1w","1j","h","c","6","1x","9"],function(d,m,g,v,y,b,e){var x=e.each,w=e.extend,k=e.map,C=e.inArray,_=e.explode,T=y.ie&&y.ie<11;return function(h){function t(e){var t;if(!h.quirks.isHidden()&&!h.removed){if(e=e.toLowerCase(),t=c.state[e])return t(e);try{return h.getDoc().queryCommandState(e)}catch(e){}return!1}}function e(e,n){n=n||"exec",x(e,function(t,e){x(e.toLowerCase().split(","),function(e){c[n][e]=t})})}function a(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),h.getDoc().execCommand(e,t,n)}function n(e){return s.match(e)}function r(e,t){s.toggle(e,t?{value:t}:void 0),h.nodeChanged()}function i(e){l=p.getBookmark(e)}function o(){p.moveToBookmark(l)}var f,p,s,l,c={state:{},exec:{},value:{}},u=h.settings;h.on("PreInit",function(){f=h.dom,p=h.selection,u=h.settings,s=h.formatter}),w(this,{execCommand:function(t,n,i,e){var o,r=0;if(!h.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||e&&e.skip_focus||h.focus(),(e=h.fire("BeforeExecCommand",{command:t,ui:n,value:i})).isDefaultPrevented())return!1;if(o=t.toLowerCase(),e=c.exec[o])return e(o,n,i),h.fire("ExecCommand",{command:t,ui:n,value:i}),!0;if(x(h.plugins,function(e){if(e.execCommand&&e.execCommand(t,n,i))return h.fire("ExecCommand",{command:t,ui:n,value:i}),!(r=!0)}),r)return r;if(h.theme&&h.theme.execCommand&&h.theme.execCommand(t,n,i))return h.fire("ExecCommand",{command:t,ui:n,value:i}),!0;try{r=h.getDoc().execCommand(t,n,i)}catch(t){}return!!r&&(h.fire("ExecCommand",{command:t,ui:n,value:i}),!0)}},queryCommandState:t,queryCommandValue:function(e){var t;if(!h.quirks.isHidden()&&!h.removed){if(e=e.toLowerCase(),t=c.value[e])return t(e);try{return h.getDoc().queryCommandValue(e)}catch(e){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),c.exec[e])return!0;try{return h.getDoc().queryCommandSupported(e)}catch(e){}return!1},addCommands:e,addCommand:function(e,o,r){e=e.toLowerCase(),c.exec[e]=function(e,t,n,i){return o.call(r||h,t,n,i)}},addQueryStateHandler:function(e,t,n){e=e.toLowerCase(),c.state[e]=function(){return t.call(n||h)}},addQueryValueHandler:function(e,t,n){e=e.toLowerCase(),c.value[e]=function(){return t.call(n||h)}},hasCustomCommand:function(e){return e=e.toLowerCase(),!!c.exec[e]}}),e({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){h.undoManager.add()},"Cut,Copy,Paste":function(e){var t,n=h.getDoc();try{a(e)}catch(e){t=!0}"paste"!==e||n.queryCommandEnabled(e)||(t=!0),!t&&n.queryCommandSupported(e)||(n=h.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),y.mac&&(n=n.replace(/Ctrl\+/g,"â+")),h.notificationManager.open({text:n,type:"error"}))},unlink:function(){var e;p.isCollapsed()?(e=h.dom.getParent(h.selection.getStart(),"a"))&&h.dom.remove(e,!0):s.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),x("left,center,right,justify".split(","),function(e){t!=e&&s.remove("align"+e)}),"none"!=t&&r("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t;a(e),(t=f.getParent(p.getNode(),"ol,ul"))&&(e=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(e.nodeName)&&(i(),f.split(e,t),o()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){r(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){r(e,n)},FontSize:function(e,t,n){var i,o;1<=n&&n<=7&&(o=_(u.font_size_style_values),n=(i=_(u.font_size_classes))?i[n-1]||n:o[n-1]||n),r(e,n)},RemoveFormat:function(e){s.remove(e)},mceBlockQuote:function(){r("blockquote")},FormatBlock:function(e,t,n){return r(n||"p")},mceCleanup:function(){var e=p.getBookmark();h.setContent(h.getContent({cleanup:!0}),{cleanup:!0}),p.moveToBookmark(e)},mceRemoveNode:function(e,t,n){n=n||p.getNode();n!=h.getBody()&&(i(),h.dom.remove(n,!0),o())},mceSelectNodeDepth:function(e,t,n){var i=0;f.getParent(p.getNode(),function(e){if(1==e.nodeType&&i++==n)return p.select(e),!1},h.getBody())},mceSelectNode:function(e,t,n){p.select(n)},mceInsertContent:function(e,t,n){b.insertAtCaret(h,n)},mceInsertRawHTML:function(e,t,n){p.setContent("tiny_mce_marker"),h.setContent(h.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){r(n)},mceSetContent:function(e,t,n){h.setContent(n)},"Indent,Outdent":function(n){var i,o=u.indentation,r=/[a-z%]+$/i.exec(o);o=parseInt(o,10),t("InsertUnorderedList")||t("InsertOrderedList")?a(n):(u.forced_root_block||f.getParent(p.getNode(),f.isBlock)||s.apply("div"),x(p.getSelectedBlocks(),function(e){var t;"false"!==f.getContentEditable(e)&&"LI"!==e.nodeName&&(t=h.getParam("indent_use_margin",!1)?"margin":"padding",t="TABLE"===e.nodeName?"margin":t,t+="rtl"==f.getStyle(e,"direction",!0)?"Right":"Left","outdent"==n?(i=Math.max(0,parseInt(e.style[t]||0,10)-o),f.setStyle(e,t,i?i+r:"")):(i=parseInt(e.style[t]||0,10)+o+r,f.setStyle(e,t,i)))}))},mceRepaint:function(){},InsertHorizontalRule:function(){h.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){h.hasVisual=!h.hasVisual,h.addVisual()},mceReplaceContent:function(e,t,n){h.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,p.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;"string"==typeof n&&(n={href:n}),i=f.getParent(p.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||s.remove("link"),n.href&&s.apply("link",n,i)},selectAll:function(){var e,t,n=f.getRoot();p.getRng().setStart?(t=f.getParent(p.getStart(),m.isContentEditableTrue))&&((e=f.createRng()).selectNodeContents(t),p.setRng(e)):(e=p.getRng()).item||(e.moveToElementText(n),e.select())},delete:function(){d.deleteCommand(h)},forwardDelete:function(){d.forwardDeleteCommand(h)},mceNewDocument:function(){h.setContent("")},InsertLineBreak:function(e,t,n){var i,o,r=n,a=p.getRng(!0);new g(f).normalize(a);var s=a.startOffset,l=a.startContainer;1==l.nodeType&&l.hasChildNodes()&&(d=s>l.childNodes.length-1,l=l.childNodes[Math.min(s,l.childNodes.length-1)]||l,s=d&&3==l.nodeType?l.nodeValue.length:0);var c=f.getParent(l,f.isBlock),u=c?c.nodeName.toUpperCase():"",n=c?f.getParent(c.parentNode,f.isBlock):null,d=n?n.nodeName.toUpperCase():"",r=r&&r.ctrlKey;"LI"!=d||r||(c=n,u=d),l&&3==l.nodeType&&s>=l.nodeValue.length&&(T||function(){for(var e,t=new v(l,c),n=h.schema.getNonEmptyElements();e=t.next();)if(n[e.nodeName.toLowerCase()]||0<e.length)return 1}()||(i=f.create("br"),a.insertNode(i),a.setStartAfter(i),a.setEndAfter(i),o=!0)),i=f.create("br"),a.insertNode(i);var s=f.doc.documentMode;return T&&"PRE"==u&&(!s||s<8)&&i.parentNode.insertBefore(f.doc.createTextNode("\r"),i),s=f.create("span",{},"&nbsp;"),i.parentNode.insertBefore(s,i),p.scrollIntoView(s),f.remove(s),o?(a.setStartBefore(i),a.setEndBefore(i)):(a.setStartAfter(i),a.setEndAfter(i)),p.setRng(a),h.undoManager.add(),!0}}),e({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),e=p.isCollapsed()?[f.getParent(p.getNode(),f.isBlock)]:p.getSelectedBlocks(),e=k(e,function(e){return!!s.matchNode(e,t)});return-1!==C(e,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n,mceBlockQuote:function(){return n("blockquote")},Outdent:function(){var e;if(u.inline_styles){if((e=f.getParent(p.getStart(),f.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0;if((e=f.getParent(p.getEnd(),f.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0}return t("InsertUnorderedList")||t("InsertOrderedList")||!u.inline_styles&&!!f.getParent(p.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=f.getParent(p.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),e({"FontSize,FontName":function(e){var t,n=0;return(t=f.getParent(p.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),e({Undo:function(){h.undoManager.undo()},Redo:function(){h.undoManager.redo()}})}}),n("w",["1y","9"],function(a,e){function s(n,e){var t,i,o,r=this;n=c(n),t=(e=r.settings=e||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)?r.source=n:(o=0===n.indexOf("//"),0!==n.indexOf("/")||o||(n=(t&&t.protocol||"http")+"://mce_host"+n),/^[\w\-]*:?\/\//.test(n)||(i=e.base_uri?e.base_uri.path:new s(a.location.href).directory,n=""===e.base_uri.protocol?"//mce_host"+r.toAbsPath(i,n):(n=/([^#?]*)([#?]?.*)/.exec(n),(t&&t.protocol||"http")+"://mce_host"+r.toAbsPath(i,n[1])+n[2])),n=n.replace(/@@/g,"(mce_at)"),n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n),l(u,function(e,t){t=(t=n[t])&&t.replace(/\(mce_at\)/g,"@@");r[e]=t}),t&&(r.protocol||(r.protocol=t.protocol),r.userInfo||(r.userInfo=t.userInfo),r.port||"mce_host"!==r.host||(r.port=t.port),r.host&&"mce_host"!==r.host||(r.host=t.host),r.source=""),o&&(r.protocol=""))}var l=e.each,c=e.trim,u="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),n={ftp:21,http:80,https:443,mailto:25};return s.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){if("./"===e)return e;if("mce_host"!=(e=new s(e,{base_uri:this})).host&&this.host!=e.host&&e.host||this.port!=e.port||this.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var t=this.getURI(),n=e.getURI();return t==n||"/"==t.charAt(t.length-1)&&t.substr(0,t.length-1)==n?t:(t=this.toRelPath(this.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return(e=new s(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=n[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,i,o,r=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(i=0,o=e.length;i<o;i++)if(i>=n.length||e[i]!=n[i]){r=i+1;break}if(e.length<n.length)for(i=0,o=n.length;i<o;i++)if(i>=e.length||e[i]!=n[i]){r=i+1;break}if(1===r)return t;for(i=0,o=e.length-(r-1);i<o;i++)a+="../";for(i=r-1,o=n.length;i<o;i++)a+=i!=r-1?"/"+n[i]:n[i];return a},toAbsPath:function(e,t){var n,i=0,o=[],r=/\/$/.test(t)?"/":"";for(e=e.split("/"),t=t.split("/"),l(e,function(e){e&&o.push(e)}),e=o,n=t.length-1,o=[];0<=n;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?0<i?i--:o.push(t[n]):i++);return 0!==(e=(n=e.length-i)<=0?o.reverse().join("/"):e.slice(0,n).join("/")+"/"+o.reverse().join("/")).indexOf("/")&&(e="/"+e),r&&e.lastIndexOf("/")!==e.length-1&&(e+=r),e},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},s.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},s.getDocumentBaseUrl=function(e){e=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname;return/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},s}),n("x",["9"],function(e){function t(){}var s,l,c=e.each,u=e.extend;return t.extend=s=function(n){function i(){var e,t,n;if(!l&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)}function t(){return this}var e,o,r,a=this.prototype;for(o in l=!0,e=new this,l=!1,n.Mixins&&(c(n.Mixins,function(e){for(var t in e)"init"!==t&&(n[t]=e[t])}),a.Mixins&&(n.Mixins=a.Mixins.concat(n.Mixins))),n.Methods&&c(n.Methods.split(","),function(e){n[e]=t}),n.Properties&&c(n.Properties.split(","),function(e){var t="_"+e;n[e]=function(e){return void 0!==e?(this[t]=e,this):this[t]}}),n.Statics&&c(n.Statics,function(e,t){i[t]=e}),n.Defaults&&a.Defaults&&(n.Defaults=u({},a.Defaults,n.Defaults)),n)r=n[o],"function"==typeof r&&a[o]?e[o]=function(n,i){return function(){var e,t=this._super;return this._super=a[n],e=i.apply(this,arguments),this._super=t,e}}(o,r):e[o]=r;return i.prototype=e,(i.constructor=i).extend=s,i},t}),n("y",["9"],function(p){function e(a){function s(){return!1}function l(){return!0}function i(e,t,n,i){var o,r,a;if(!1===t&&(t=s),t)for(t={func:t},i&&p.extend(t,i),a=(r=e.toLowerCase().split(" ")).length;a--;)e=r[a],(o=d[e])||(o=d[e]=[],f(e,!0)),n?o.unshift(t):o.push(t);return u}function c(e,t){var n,i,o,r,a;if(e)for(n=(r=e.toLowerCase().split(" ")).length;n--;){if(e=r[n],i=d[e],!e){for(o in d)f(o,!1),delete d[o];return u}if(i){if(t)for(a=i.length;a--;)i[a].func===t&&(i=i.slice(0,a).concat(i.slice(a+1)),d[e]=i);else i.length=0;i.length||(f(e,!1),delete d[e])}}else{for(e in d)f(e,!1);d={}}return u}var u=this,d={},h=(a=a||{}).scope||u,f=a.toggleEvent||s;u.fire=function(e,t){var n,i,o,r;if(e=e.toLowerCase(),(t=t||{}).type=e,t.target||(t.target=h),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=l},t.stopPropagation=function(){t.isPropagationStopped=l},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=l},t.isDefaultPrevented=s,t.isPropagationStopped=s,t.isImmediatePropagationStopped=s),a.beforeFire&&a.beforeFire(t),n=d[e])for(i=0,o=n.length;i<o;i++){if((r=n[i]).once&&c(e,r.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===r.func.call(h,t))return t.preventDefault(),t}return t},u.on=i,u.off=c,u.once=function(e,t,n){return i(e,t,n,{once:!0})},u.has=function(e){return e=e.toLowerCase(),!(!d[e]||0===d[e].length)}}var t=p.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return e.isNative=function(e){return!!t[e.toLowerCase()]},e}),n("z",["y"],function(i){function o(n){return n._eventDispatcher||(n._eventDispatcher=new i({scope:n,toggleEvent:function(e,t){i.isNative(e)&&n.toggleNativeEvent&&n.toggleNativeEvent(e,t)}})),n._eventDispatcher}return{fire:function(e,t,n){if(this.removed&&"remove"!==e)return t;if(t=o(this).fire(e,t,n),!1!==n&&this.parent)for(var i=this.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},on:function(e,t,n){return o(this).on(e,t,n)},off:function(e,t){return o(this).off(e,t)},once:function(e,t){return o(this).once(e,t)},hasEventListeners:function(e){return o(this).has(e)}}}),n("5h",[],function(){function e(e){this.create=e.create}return e.create=function(o,r){return new e({create:function(t,n){function e(e){t.set(n,e.value)}var i;return t.on("change:"+n,function(e){o.set(r,e.value)}),o.on("change:"+r,e),(i=t._bindings)||(i=t._bindings=[],t.on("destroy",function(){for(var e=i.length;e--;)i[e]()})),i.push(function(){o.off("change:"+r,e)}),o.get(r)}})},e}),n("4g",["5h","x","z","9"],function(o,e,t,r){function a(e){return 0<e.nodeType}return e.extend({Mixins:[t],init:function(e){var t,n;for(t in e=e||{})n=e[t],n instanceof o&&(e[t]=n.create(this,t));this.data=e},set:function(e,t){var n,i=this.data[e];if(t instanceof o&&(t=t.create(this,e)),"object"!=typeof e)return function e(t,n){var i,o;if(t===n)return 1;if(null===t||null===n)return t===n;if("object"!=typeof t||"object"!=typeof n)return t===n;if(r.isArray(n)){if(t.length!==n.length)return;for(i=t.length;i--;)if(!e(t[i],n[i]))return}if(a(t)||a(n))return t===n;for(i in o={},n){if(!e(t[i],n[i]))return;o[i]=!0}for(i in t)if(!o[i]&&!e(t[i],n[i]))return;return 1}(i,t)||(this.data[e]=t,i={target:this,name:e,value:t,oldValue:i},this.fire("change:"+e,i),this.fire("change",i)),this;for(n in e)this.set(n,e[n]);return this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(e){return o.create(this,e)},destroy:function(){this.fire("destroy")}})}),n("28",["x"],function(e){"use strict";var o,r=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,l=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c=/^\s*|\s*$/g,a=e.extend({init:function(e){function a(e,t,n){function i(e){e&&t.push(e)}e=r.exec(e.replace(c,""));return i(function(t){if(t)return t=t.toLowerCase(),function(e){return"*"===t||e.type===t}}(e[1])),i(function(t){if(t)return function(e){return e._name===t}}(e[2])),i(function(n){if(n)return n=n.split("."),function(e){for(var t=n.length;t--;)if(!e.classes.contains(n[t]))return!1;return!0}}(e[3])),i(function(t,n,i){if(t)return function(e){e=e[t]?e[t]():"";return n?"="===n?e===i:"*="===n?0<=e.indexOf(i):"~="===n?0<=(" "+e+" ").indexOf(" "+i+" "):"!="===n?e!=i:"^="===n?0===e.indexOf(i):"$="===n&&e.substr(e.length-i.length)===i:!!i}}(e[4],e[5],e[6])),i(function(i){var t;if(i)return(i=/(?:not\((.+)\))|(.+)/i.exec(i))[1]?(t=s(i[1],[]),function(e){return!o(e,t)}):(i=i[2],function(e,t,n){return"first"===i?0===t:"last"===i?t===n-1:"even"===i?t%2==0:"odd"===i?t%2==1:!!e[i]&&e[i]()})}(e[7])),t.pseudo=!!e[7],t.direct=n,t}function s(e,t){var n,i,o,r=[];do{if(l.exec(""),(i=l.exec(e))&&(e=i[3],r.push(i[1]),i[2])){n=i[3];break}}while(i);for(n&&s(n,t),e=[],o=0;o<r.length;o++)">"!=r[o]&&e.push(a(r[o],[],">"===r[o-1]));return t.push(e),t}var o=this.match;this._selectors=s(e,[])},match:function(e,t){for(var n,i,o,r,a,s,l,c,u,d,h,f=0,p=(t=t||this._selectors).length;f<p;f++){for(h=e,d=0,n=(i=(o=t[f]).length)-1;0<=n;n--)for(s=o[n];h;){if(s.pseudo)for(l=c=(u=h.parent().items()).length;l--&&u[l]!==h;);for(r=0,a=s.length;r<a;r++)if(!s[r](h,l,c)){r=a+1;break}if(r===a){d++;break}if(n===i-1)break;h=h.parent()}if(d===i)return!0}return!1},find:function(e){var t,n,u=[],i=this._selectors;if(e.items){for(t=0,n=i.length;t<n;t++)!function e(t,n,i){for(var o,r,a,s=n[i],l=0,c=t.length;l<c;l++){for(a=t[l],o=0,r=s.length;o<r;o++)if(!s[o](a,l,c)){o=r+1;break}if(o===r)i==n.length-1?u.push(a):a.items&&e(a.items(),n,i+1);else if(s.direct)return;a.items&&e(a.items(),n,i)}}(e.items(),i[t],0);1<n&&(u=function(e){for(var t,n=[],i=e.length;i--;)(t=e[i]).__checked||(n.push(t),t.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}(u))}return new(o=o||a.Collection)(u)}});return a}),n("29",["9","28","x"],function(i,a,e){"use strict";var s,t=Array.prototype.push,n=Array.prototype.slice,o={length:0,init:function(e){e&&this.add(e)},add:function(e){return i.isArray(e)?t.apply(this,e):e instanceof s?this.add(e.toArray()):t.call(this,e),this},set:function(e){var t,n=this.length;for(this.length=0,this.add(e),t=this.length;t<n;t++)delete this[t];return this},filter:function(t){for(var e,n=[],i="string"==typeof t?(t=new a(t),function(e){return t.match(e)}):t,o=0,r=this.length;o<r;o++)i(e=this[o])&&n.push(e);return new s(n)},slice:function(){return new s(n.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(e){return i.each(this,e),this},toArray:function(){return i.toArray(this)},indexOf:function(e){for(var t=this.length;t--&&this[t]!==e;);return t},reverse:function(){return new s(i.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(t,n){var e;return void 0!==n?(this.each(function(e){e[t]&&e[t](n)}),this):(e=this[0])&&e[t]?e[t]():void 0},exec:function(t){var n=i.toArray(arguments).slice(1);return this.each(function(e){e[t]&&e[t].apply(e,n)}),this},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(t){return this.each(function(e){e.classes.add(t)})},removeClass:function(t){return this.each(function(e){e.classes.remove(t)})}};return i.each("fire on off show hide append prepend before after reflow".split(" "),function(n){o[n]=function(){var t=i.toArray(arguments);return this.each(function(e){n in e&&e[n].apply(e,t)}),this}}),i.each("text name disabled active selected checked visible parent value data".split(" "),function(t){o[t]=function(e){return this.prop(t,e)}}),s=e.extend(o),a.Collection=s}),n("4h",["6","9","e"],function(e,o,r){"use strict";var t=0,n={id:function(){return"mceu_"+t++},create:function(e,t,n){var i=document.createElement(e);return r.DOM.setAttribs(i,t),"string"==typeof n?i.innerHTML=n:o.each(n,function(e){e.nodeType&&i.appendChild(e)}),i},createFragment:function(e){return r.DOM.createFragment(e)},getWindowSize:function(){return r.DOM.getViewPort()},getSize:function(e){var t,n;return e=e.getBoundingClientRect?(t=e.getBoundingClientRect(),n=Math.max(t.width||t.right-t.left,e.offsetWidth),Math.max(t.height||t.bottom-t.bottom,e.offsetHeight)):(n=e.offsetWidth,e.offsetHeight),{width:n,height:e}},getPos:function(e,t){return r.DOM.getPos(e,t||n.getContainer())},getContainer:function(){return e.container?e.container:document.body},getViewPort:function(e){return r.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return r.DOM.addClass(e,t)},removeClass:function(e,t){return r.DOM.removeClass(e,t)},hasClass:function(e,t){return r.DOM.hasClass(e,t)},toggleClass:function(e,t,n){return r.DOM.toggleClass(e,t,n)},css:function(e,t,n){return r.DOM.setStyle(e,t,n)},getRuntimeStyle:function(e,t){return r.DOM.getStyle(e,t,!0)},on:function(e,t,n,i){return r.DOM.bind(e,t,n,i)},off:function(e,t,n){return r.DOM.unbind(e,t,n)},fire:function(e,t,n){return r.DOM.fire(e,t,n)},innerHtml:function(e,t){r.DOM.setHTML(e,t)}};return n}),n("4i",[],function(){"use strict";return{parseBox:function(e){var t;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},measureBox:function(n,e){function t(e){var t,t=parseFloat((t=e,(e=document.defaultView)?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),e.getComputedStyle(n,null).getPropertyValue(t)):n.currentStyle[t]),10);return isNaN(t)?0:t}return{top:t(e+"TopWidth"),right:t(e+"RightWidth"),bottom:t(e+"BottomWidth"),left:t(e+"LeftWidth")}}}}),n("4j",["9"],function(e){"use strict";function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)0<t&&(e+=" "),e+=this.prefix+this.cls[t];return e},n}),n("2a",["5"],function(t){var n,i={};return{add:function(e){e=e.parent();e&&e._layout&&!e._layout.isNative()&&(i[e._id]||(i[e._id]=e),n||(n=!0,t.requestAnimationFrame(function(){var e,t;for(e in n=!1,i)t=i[e],t.state.get("rendered")&&t.reflow();i={}},document.body)))},remove:function(e){i[e._id]&&delete i[e._id]}}}),n("2b",["x","9","y","4g","29","4h","a","4i","4j","2a"],function(e,r,i,a,o,f,h,p,s,l){"use strict";function c(n){return n._eventDispatcher||(n._eventDispatcher=new i({scope:n,toggleEvent:function(e,t){t&&i.isNative(e)&&(n._nativeEvents||(n._nativeEvents={}),n._nativeEvents[e]=!0,n.state.get("rendered")&&u(n))}})),n._eventDispatcher}function u(s){function e(e){var t=s.getParentCtrl(e.target);t&&t.fire(e.type,e)}function t(){var e=l._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),l._lastHoverCtrl=null)}function n(e){var t,n,i,o=s.getParentCtrl(e.target),r=l._lastHoverCtrl,a=0;if(o!==r){if((n=(l._lastHoverCtrl=o).parents().toArray().reverse()).push(o),r){for((i=r.parents().toArray().reverse()).push(r),a=0;a<i.length&&n[a]===i[a];a++);for(t=i.length-1;a<=t;t--)(r=i[t]).fire("mouseleave",{target:r.getEl()})}for(t=a;t<n.length;t++)(o=n[t]).fire("mouseenter",{target:o.getEl()})}}function i(e){e.preventDefault(),"mousewheel"==e.type?(e.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-.025*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=s.fire("wheel",e)}var o,r,a,l,c,u;if(c=s._nativeEvents){for((a=s.parents().toArray()).unshift(s),o=0,r=a.length;!l&&o<r;o++)l=a[o]._eventsRoot;for(l=l||(a[a.length-1]||s),s._eventsRoot=l,r=o,o=0;o<r;o++)a[o]._eventsRoot=l;var d=(d=l._delegates)||(l._delegates={});for(u in c){if(!c)return;"wheel"!==u||g?("mouseenter"===u||"mouseleave"===u?l._hasMouseEnter||(h(l.getEl()).on("mouseleave",t).on("mouseover",n),l._hasMouseEnter=1):d[u]||(h(l.getEl()).on(u,e),d[u]=!0),c[u]=!1):m?h(s.getEl()).on("mousewheel",i):h(s.getEl()).on("DOMMouseScroll",i)}}}var d,m="onmousewheel"in document,g=!1,v=0,n={Statics:{classPrefix:"mce-"},isRtl:function(){return d.rtl},classPrefix:"mce-",init:function(t){function e(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)o.classes.add(e[t])}var n,i,o=this;o.settings=t=r.extend({},o.Defaults,t),o._id=t.id||"mceu_"+v++,o._aria={role:t.role},o._elmCache={},o.$=h,o.state=new a({visible:!0,active:!1,disabled:!1,value:""}),o.data=new a(t.data),o.classes=new s(function(){o.state.get("rendered")&&(o.getEl().className=this.toString())}),o.classes.prefix=o.classPrefix,(n=t.classes)&&(!o.Defaults||(i=o.Defaults.classes)&&n!=i&&e(i),e(n)),r.each("title text name visible disabled active value".split(" "),function(e){e in t&&o[e](t[e])}),o.on("click",function(){if(o.disabled())return!1}),o.settings=t,o.borderBox=p.parseBox(t.border),o.paddingBox=p.parseBox(t.padding),o.marginBox=p.parseBox(t.margin),t.hidden&&o.hide()},Properties:"parent,name",getContainerElm:function(){return f.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,i,o,r,a,s=this,l=s.settings,c=s.getEl(),u=s.borderBox=s.borderBox||p.measureBox(c,"border");s.paddingBox=s.paddingBox||p.measureBox(c,"padding"),s.marginBox=s.marginBox||p.measureBox(c,"margin"),h=f.getSize(c),r=l.minWidth,a=l.minHeight,n=r||h.width,i=a||h.height,e=l.width,t=l.height,o=void 0!==(o=l.autoResize)?o:!e&&!t,e=e||n,t=t||i;var d=u.left+u.right,c=u.top+u.bottom,h=l.maxWidth||65535,u=l.maxHeight||65535;return s._layoutRect=o={x:l.x||0,y:l.y||0,w:e,h:t,deltaW:d,deltaH:c,contentW:e-d,contentH:t-c,innerW:e-d,innerH:t-c,startMinWidth:r||0,startMinHeight:a||0,minW:Math.min(n,h),minH:Math.min(i,u),maxW:h,maxH:u,autoResize:o,scrollW:0},s._lastLayoutRect={},o},layoutRect:function(e){var t,n,i,o,r=(r=this._layoutRect)||this.initLayoutRect();return e?(n=r.deltaW,i=r.deltaH,e.x!==o&&(r.x=e.x),e.y!==o&&(r.y=e.y),e.minW!==o&&(r.minW=e.minW),e.minH!==o&&(r.minH=e.minH),(t=e.w)!==o&&(t=(t=t<r.minW?r.minW:t)>r.maxW?r.maxW:t,r.w=t,r.innerW=t-n),(t=e.h)!==o&&(t=(t=t<r.minH?r.minH:t)>r.maxH?r.maxH:t,r.h=t,r.innerH=t-i),(t=e.innerW)!==o&&(t=(t=t<r.minW-n?r.minW-n:t)>r.maxW-n?r.maxW-n:t,r.innerW=t,r.w=t+n),(t=e.innerH)!==o&&(t=(t=t<r.minH-i?r.minH-i:t)>r.maxH-i?r.maxH-i:t,r.innerH=t,r.h=t+i),e.contentW!==o&&(r.contentW=e.contentW),e.contentH!==o&&(r.contentH=e.contentH),(o=this._lastLayoutRect).x===r.x&&o.y===r.y&&o.w===r.w&&o.h===r.h||((e=d.repaintControls)&&e.map&&!e.map[this._id]&&(e.push(this),e.map[this._id]=!0),o.x=r.x,o.y=r.y,o.w=r.w,o.h=r.h),this):r},repaint:function(){var e,t,n,i=this,o=document.createRange?function(e){return e}:Math.round,r=i.getEl().style,a=i._layoutRect,s=i._lastRepaintRect||{},l=i.borderBox,c=l.left+l.right,l=l.top+l.bottom;a.x!==s.x&&(r.left=o(a.x)+"px",s.x=a.x),a.y!==s.y&&(r.top=o(a.y)+"px",s.y=a.y),a.w!==s.w&&(n=o(a.w-c),r.width=(0<=n?n:0)+"px",s.w=a.w),a.h!==s.h&&(n=o(a.h-l),r.height=(0<=n?n:0)+"px",s.h=a.h),i._hasBody&&a.innerW!==s.innerW&&(n=o(a.innerW),(t=i.getEl("body"))&&((e=t.style).width=(0<=n?n:0)+"px"),s.innerW=a.innerW),i._hasBody&&a.innerH!==s.innerH&&(n=o(a.innerH),(t=t||i.getEl("body"))&&((e=e||t.style).height=(0<=n?n:0)+"px"),s.innerH=a.innerH),i._lastRepaintRect=s,i.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null,f.css(this.getEl(),{width:"",height:""}),this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null,this.initLayoutRect()},on:function(e,t){var n,i,o,r=this;return c(r).on(e,"string"!=typeof(n=t)?n:function(e){return i||r.parentsAndSelf().each(function(e){var t=e.settings.callbacks;if(t&&(i=t[n]))return o=e,!1}),i?i.call(o,e):(e.action=n,void this.fire("execute",e))}),r},off:function(e,t){return c(this).off(e,t),this},fire:function(e,t,n){if((t=t||{}).control||(t.control=this),t=c(this).fire(e,t),!1!==n&&this.parent)for(var i=this.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},hasEventListeners:function(e){return c(this).has(e)},parents:function(e){for(var t=new o,n=this.parent();n;n=n.parent())t.add(n);return e&&(t=t.filter(e)),t},parentsAndSelf:function(e){return new o(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){e=e?this._id+"-"+e:this._id;return this._elmCache[e]||(this._elmCache[e]=h("#"+e)[0]),this._elmCache[e]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this.getEl(this.ariaTarget);return void 0===t?this._aria[e]:(this._aria[e]=t,this.state.get("rendered")&&n.setAttribute("role"==e?e:"aria-"+e,t),this)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return d.translate?d.translate(e):e},before:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this),!0),this},after:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this)),this},remove:function(){var t,n=this,e=n.getEl(),i=n.parent();if(n.items)for(var o=n.items().toArray(),r=o.length;r--;)o[r].remove();i&&i.items&&(t=[],i.items().each(function(e){e!==n&&t.push(e)}),i.items().set(t),i._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&h(e).off();i=n.getRoot().controlIdLookup;return i&&delete i[n._id],e&&e.parentNode&&e.parentNode.removeChild(e),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return h(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return h(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,i,o=this,r=o.settings;for(n in o.$el=h(o.getEl()),o.state.set("rendered",!0),r)0===n.indexOf("on")&&o.on(n.substr(2),r[n]);if(o._eventsRoot){for(t=o.parent();!i&&t;t=t.parent())i=t._eventsRoot;if(i)for(n in i._nativeEvents)o._nativeEvents[n]=!0}u(o),!r.style||(e=o.getEl())&&(e.setAttribute("style",r.style),e.style.cssText=r.style),o.settings.border&&(s=o.borderBox,o.$el.css({"border-top-width":s.top,"border-right-width":s.right,"border-bottom-width":s.bottom,"border-left-width":s.left}));var a,s=o.getRoot();for(a in s.controlIdLookup||(s.controlIdLookup={}),(s.controlIdLookup[o._id]=o)._aria)o.aria(a,o._aria[a]);!1===o.state.get("visible")&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(e){var t=e.value;o.state.get("rendered")&&(o.getEl().style.display=!1===t?"none":"",o.getEl().getBoundingClientRect()),(e=o.parent())&&(e._lastRect=null),o.fire(t?"show":"hide"),l.add(o)}),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t=this.getEl(),n=t.parentNode,i=function(e,t){for(var n,i=e,o=n=0;i&&i!=t&&i.nodeType;)o+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:o,y:n}}(t,n),o=i.x,r=i.y,a=t.offsetWidth,s=t.offsetHeight,i=n.clientWidth,t=n.clientHeight;return"end"==e?(o-=i-a,r-=t-s):"center"==e&&(o-=i/2-a/2,r-=t/2-s/2),n.scrollLeft=o,n.scrollTop=r,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),t=(e=t).parent()}e=e||this;for(var i=n.length;i--;)n[i].rootControl=e;return e},reflow:function(){l.remove(this);var e=this.parent();return e&&e._layout&&!e._layout.isNative()&&e.reflow(),this}};return r.each("text title visible disabled active value".split(" "),function(t){n[t]=function(e){return 0===arguments.length?this.state.get(t):(void 0!==e&&this.state.set(t,e),this)}}),d=e.extend(n)}),n("2c",[],function(){"use strict";var i={};return{add:function(e,t){i[e.toLowerCase()]=t},has:function(e){return!!i[e.toLowerCase()]},create:function(e,t){var n;if("string"==typeof e?(t=t||{}).type=e:e=(t=e).type,e=e.toLowerCase(),!(n=i[e]))throw new Error("Could not find control by type: "+e);return(n=new n(t)).type=e,n}}}),n("2d",[],function(){"use strict";function b(e){return!!e.getAttribute("data-mce-tabstop")}return function(e){function t(e){return e&&1===e.nodeType}function r(e){return t(e=e||v)?e.getAttribute("role"):null}function o(e){for(var t,n=e||v;n=n.parentNode;)if(t=r(n))return t}function n(e){return t(v)&&v.getAttribute("aria-"+e)}function a(e){e=e.tagName.toUpperCase();return"INPUT"==e||"TEXTAREA"==e||"SELECT"==e}function s(e){var o=[];return function e(t){if(1==t.nodeType&&"none"!=t.style.display&&!t.disabled){(a(i=t)&&!i.hidden||b(i)||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(r(i)))&&o.push(t);for(var n=0;n<t.childNodes.length;n++)e(t.childNodes[n])}var i}(e||i.getEl()),o}function l(e){var t,n;(n=(e=e||y).parents().toArray()).unshift(e);for(var i=0;i<n.length&&!(t=n[i]).settings.ariaRoot;i++);return t}function c(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function u(e,t){var n=-1,i=l();t=t||s(i.getEl());for(var o=0;o<t.length;o++)t[o]===v&&(n=o);n+=e,i.lastAriaIndex=c(n,t)}function d(){"tablist"==o()?u(-1,s(v.parentNode)):y.parent().submenu?m():u(-1)}function h(){var e=r(),t=o();"tablist"==t?u(1,s(v.parentNode)):"menuitem"==e&&"menu"==t&&n("haspopup")?g():u(1)}function f(){u(-1)}function p(){var e=r(),t=o();"menuitem"==e&&"menubar"==t?g():"button"==e&&n("haspopup")?g({key:"down"}):u(1)}function m(){y.fire("cancel")}function g(e){e=e||{},y.fire("click",{target:v,aria:e})}var v,y,i=e.root;try{v=document.activeElement}catch(e){v=document.body}return y=i.getParentCtrl(v),i.on("keydown",function(e){function t(e,t){a(v)||b(v)||"slider"!==r(v)&&!1!==t(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,d);break;case 39:t(e,h);break;case 38:t(e,f);break;case 40:t(e,p);break;case 27:m();break;case 14:case 13:case 32:t(e,g);break;case 9:n=e,"tablist"==o()?(i=s(y.getEl("body"))[0])&&i.focus():u(n.shiftKey?-1:1),e.preventDefault()}var n,i}),i.on("focusin",function(e){v=e.target,y=e.control}),{focusFirst:function(e){var t=l(e),e=s(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?c(t.lastAriaIndex,e):c(0,e)}}}}),n("2e",["2b","29","28","2c","2d","9","a","4j","2a"],function(o,n,t,r,i,a,s,l,c){"use strict";var u={};return o.extend({init:function(e){var t=this;t._super(e),(e=t.settings).fixed&&t.state.set("fixed",!0),t._items=new n,t.isRtl()&&t.classes.add("rtl"),t.bodyClasses=new l(function(){t.state.get("rendered")&&(t.getEl("body").className=this.toString())}),t.bodyClasses.prefix=t.classPrefix,t.classes.add("container"),t.bodyClasses.add("container-body"),e.containerCls&&t.classes.add(e.containerCls),t._layout=r.create((e.layout||"")+"layout"),t.settings.items?t.add(t.settings.items):t.add(t.render()),t._hasBody=!0},items:function(){return this._items},find:function(e){return(e=u[e]=u[e]||new t(e)).find(this)},add:function(e){return this.items().add(this.create(e)).parent(this),this},focus:function(e){var t,n;return e&&(n=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(this):(n=this.find("*"),this.statusbar&&n.add(this.statusbar.items()),n.each(function(e){return e.settings.autofocus?(t=null,!1):void(e.canFocus&&(t=t||e))}),t&&t.focus(),this)},replace:function(e,t){for(var n,i=this.items(),o=i.length;o--;)if(i[o]===e){i[o]=t;break}0<=o&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(e){var t,n=this,i=[];return a.isArray(e)||(e=[e]),a.each(e,function(e){e&&(e instanceof o||("string"==typeof e&&(e={type:e}),t=a.extend({},n.settings.defaults,e),e.type=t.type=t.type||e.type||n.settings.defaultType||(t.defaults?t.defaults.type:null),e=r.create(t)),i.push(e))}),i},renderNew:function(){var i=this;return i.items().each(function(e,t){var n;e.parent(i),e.state.get("rendered")||((n=i.getEl("body")).hasChildNodes()&&t<=n.childNodes.length-1?s(n.childNodes[t]).before(e.renderHtml()):s(n).append(e.renderHtml()),e.postRender(),c.add(e))}),i._layout.applyClasses(i.items().filter(":visible")),i._lastRect=null,i},append:function(e){return this.add(e).renderNew()},prepend:function(e){return this.items().set(this.create(e).concat(this.items().toArray())),this.renderNew()},insert:function(e,t,n){var i;return e=this.create(e),i=this.items(),!n&&t<i.length-1&&(t+=1),0<=t&&t<i.length&&(n=i.slice(0,t).toArray(),t=i.slice(t).toArray(),i.set(n.concat(e,t))),this.renderNew()},fromJSON:function(e){for(var t in e)this.find("#"+t).value(e[t]);return this},toJSON:function(){var n={};return this.find("*").each(function(e){var t=e.name(),e=e.value();t&&void 0!==e&&(n[t]=e)}),n},renderHtml:function(){var e=this._layout,t=this.settings.role;return this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"'+(t?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=new i({root:t})),t},initLayoutRect:function(){var e=this._super();return this._layout.recalc(this),e},recalc:function(){var e=this._layoutRect,t=this._lastRect;if(!t||t.w!=e.w||t.h!=e.h)return this._layout.recalc(this),e=this.layoutRect(),this._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0},reflow:function(){var e;if(c.remove(this),this.visible()){for(o.repaintControls=[],o.repaintControls.map={},this.recalc(),e=o.repaintControls.length;e--;)o.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),o.repaintControls=[]}return this}})}),n("2f",["a"],function(y){"use strict";function b(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(e,c){function u(){return v.getElementById(c.handle||e)}var d,h,t,f,p,m,g,v=c.document||document;c=c||{},t=function(e){var t,n,i,o,r,a,s,l,t=(t=v,n=Math.max,i=t.documentElement,o=t.body,r=n(i.scrollWidth,o.scrollWidth),a=n(i.clientWidth,o.clientWidth),s=n(i.offsetWidth,o.offsetWidth),l=n(i.scrollHeight,o.scrollHeight),t=n(i.clientHeight,o.clientHeight),{width:r<s?a:r,height:l<n(i.offsetHeight,o.offsetHeight)?t:l});b(e),e.preventDefault(),h=e.button,l=u(),m=e.screenX,g=e.screenY,l=window.getComputedStyle?window.getComputedStyle(l,null).getPropertyValue("cursor"):l.runtimeStyle.cursor,d=y("<div></div>").css({position:"absolute",top:0,left:0,width:t.width,height:t.height,zIndex:2147483647,opacity:1e-4,cursor:l}).appendTo(v.body),y(v).on("mousemove touchmove",p).on("mouseup touchend",f),c.start(e)},p=function(e){return b(e),e.button!==h?f(e):(e.deltaX=e.screenX-m,e.deltaY=e.screenY-g,e.preventDefault(),void c.drag(e))},f=function(e){b(e),y(v).off("mousemove touchmove",p).off("mouseup touchend",f),d.remove(),c.stop&&c.stop(e)},this.destroy=function(){y(u()).off()},y(u()).on("mousedown touchstart",t)}}),n("2g",["a","2f"],function(f,i){"use strict";return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function n(){function e(e,t,n,i,o,r){var a,s,l;if(a=d.getEl("scroll"+e)){if(s=t.toLowerCase(),l=n.toLowerCase(),f(d.getEl("absend")).css(s,d.layoutRect()[i]-1),!o)return f(a).css("display","none"),0;f(a).css("display","block"),i=d.getEl("body"),o=d.getEl("scroll"+e+"t"),e=i["client"+n]-2*h,r=(e-=c&&u?a["client"+r]:0)/i["scroll"+n],(n={})[s]=i["offset"+t]+h,n[l]=e,f(a).css(n),(n={})[s]=i["scroll"+t]*r,n[l]=e*r,f(o).css(n)}}var t=d.getEl("body"),c=t.scrollWidth>t.clientWidth,u=t.scrollHeight>t.clientHeight;e("h","Left","Width","contentW",c,"Height"),e("v","Top","Height","contentH",u,"Width")}var d=this,h=2;function e(o,r,a,s,l){var c,e=d._id+"-scroll"+o,t=d.classPrefix;f(d.getEl()).append('<div id="'+e+'" class="'+t+"scrollbar "+t+"scrollbar-"+o+'"><div id="'+e+'t" class="'+t+'scrollbar-thumb"></div></div>'),d.draghelper=new i(e+"t",{start:function(){c=d.getEl("body")["scroll"+r],f("#"+e).addClass(t+"active")},drag:function(e){var t=d.layoutRect(),n=t.contentW>t.innerW,i=t.contentH>t.innerH,t=d.getEl("body")["client"+a]-2*h,t=(t-=n&&i?d.getEl("scroll"+o)["client"+l]:0)/d.getEl("body")["scroll"+a];d.getEl("body")["scroll"+r]=c+e["delta"+s]/t},stop:function(){f("#"+e).removeClass(t+"active")}})}d.settings.autoScroll&&(d._hasScroll||(d._hasScroll=!0,d.classes.add("scroll"),e("v","Top","Height","Y","Width"),e("h","Left","Width","X","Height"),d.on("wheel",function(e){var t=d.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),f(d.getEl("body")).on("scroll",n)),n())}}}),n("2h",["2e","2g"],function(e,t){"use strict";return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})}),n("2i",["4h"],function(s){"use strict";function r(e,t,n){var i=s.getViewPort(),o=s.getPos(t),r=o.x,a=o.y;return e.state.get("fixed")&&"static"==s.getRuntimeStyle(document.body,"position")&&(r-=i.x,a-=i.y),o=e.getEl(),e=(i=s.getSize(o)).width,o=i.height,t=(i=s.getSize(t)).width,i=i.height,"b"===(n=(n||"").split(""))[0]&&(a+=i),"r"===n[1]&&(r+=t),"c"===n[0]&&(a+=Math.round(i/2)),"c"===n[1]&&(r+=Math.round(t/2)),"b"===n[3]&&(a-=o),"r"===n[4]&&(r-=e),"c"===n[3]&&(a-=Math.round(o/2)),"c"===n[4]&&(r-=Math.round(e/2)),{x:r,y:a,w:e,h:o}}return{testMoveRel:function(e,t){for(var n=s.getViewPort(),i=0;i<t.length;i++){var o=r(this,e,t[i]);if(this.state.get("fixed")){if(0<o.x&&o.x+o.w<n.w&&0<o.y&&o.y+o.h<n.h)return t[i]}else if(o.x>n.x&&o.x+o.w<n.w+n.x&&o.y>n.y&&o.y+o.h<n.h+n.y)return t[i]}return t[0]},moveRel:function(e,t){"string"!=typeof t&&(t=this.testMoveRel(e,t));t=r(this,e,t);return this.moveTo(t.x,t.y)},moveBy:function(e,t){var n=this.layoutRect();return this.moveTo(n.x+e,n.y+t),this},moveTo:function(e,t){function n(e,t,n){return e<0?0:t<e+n?(e=t-n)<0?0:e:e}var i,o;return this.settings.constrainToViewport&&(i=s.getViewPort(window),o=this.layoutRect(),e=n(e,i.w+i.x,o.w),t=n(t,i.h+i.y,o.h)),this.state.get("rendered")?this.layoutRect({x:e,y:t}).repaint():(this.settings.x=e,this.settings.y=t),this.fire("move",{x:e,y:t}),this}}}),n("2j",["4h"],function(i){"use strict";return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,t){var n;return(e<=1||t<=1)&&(n=i.getWindowSize(),e=e<=1?e*n.w:e,t=t<=1?t*n.h:t),this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:t,w:e,h:t}).reflow()},resizeBy:function(e,t){var n=this.layoutRect();return this.resizeTo(n.w+e,n.h+t)}}}),n("2k",["2h","2i","2j","4h","a","5"],function(e,t,n,i,r,a){"use strict";function s(e){for(var t=p.length;t--;){var n=p[t],i=n.getParentCtrl(e.target);n.settings.autohide&&(i&&(function(e,t){for(;e;){if(e==t)return 1;e=e.parent()}}(i,n)||n.parent()===i)||(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide())}}function l(o){function e(e,t){for(var n,i=0;i<p.length;i++)if(p[i]!=o)for(n=p[i].parent();n=n&&n.parent();)n==o&&p[i].fixed(e).moveBy(0,t).repaint()}var t=i.getViewPort().y;o.settings.autofix&&(o.state.get("fixed")?o._autoFixY>t&&(o.fixed(!1).layoutRect({y:o._autoFixY}).repaint(),e(!1,o._autoFixY-t)):(o._autoFixY=o.layoutRect().y,o._autoFixY<t&&(o.fixed(!0).layoutRect({y:0}).repaint(),e(!0,t-o._autoFixY))))}function c(e,t){var n,i,o=g.zIndex||65535;if(e)m.push(t);else for(n=m.length;n--;)m[n]===t&&m.splice(n,1);if(m.length)for(n=0;n<m.length;n++)m[n].modal&&(o++,i=m[n]),m[n].getEl().style.zIndex=o,m[n].zIndex=o,o++;e=r("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];i?r(e).css("z-index",i.zIndex-1):e&&(e.parentNode.removeChild(e),f=!1),g.currentZIndex=o}function o(e){for(var t=p.length;t--;)p[t]===e&&p.splice(t,1);for(t=m.length;t--;)m[t]===e&&m.splice(t,1)}var u,d,h,f,p=[],m=[],g=e.extend({Mixins:[t,n],init:function(e){var t,n,i,o=this;o._super(e),(o._eventsRoot=o).classes.add("floatpanel"),e.autohide&&(u||(u=function(e){2!=e.button&&s(e)},r(document).on("click touchstart",u)),h||(t=document.documentElement,n=t.clientWidth,i=t.clientHeight,h=function(){document.all&&n==t.clientWidth&&i==t.clientHeight||(n=t.clientWidth,i=t.clientHeight,g.hideAll())},r(window).on("resize",h)),p.push(o)),e.autofix&&(d||(d=function(){for(var e=p.length;e--;)l(p[e])},r(window).on("scroll",d)),o.on("move",function(){l(this)})),o.on("postrender show",function(e){var t,n;e.control==o&&(n=o.classPrefix,o.modal&&!f&&((t=r("#"+n+"modal-block",o.getContainerElm()))[0]||(t=r('<div id="'+n+'modal-block" class="'+n+"reset "+n+'fade"></div>').appendTo(o.getContainerElm())),a.setTimeout(function(){t.addClass(n+"in"),r(o.getEl()).addClass(n+"in")}),f=!0),c(!0,o))}),o.on("show",function(){o.parents().each(function(e){if(e.state.get("fixed"))return o.fixed(!0),!1})}),e.popover&&(o._preBodyHtml='<div class="'+o.classPrefix+'arrow"></div>',o.classes.add("popover").add("bottom").add(o.isRtl()?"end":"start")),o.aria("label",e.ariaLabel),o.aria("labelledby",o._id),o.aria("describedby",o.describedBy||o._id+"-none")},fixed:function(e){var t;return this.state.get("fixed")!=e&&(this.state.get("rendered")&&(t=i.getViewPort(),e?this.layoutRect().y-=t.y:this.layoutRect().y+=t.y),this.classes.toggle("fixed",e),this.state.set("fixed",e)),this},show:function(){for(var e=this._super(),t=p.length;t--&&p[t]!==this;);return-1===t&&p.push(this),e},hide:function(){return o(this),c(!1,this),this._super()},hideAll:function(){g.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),c(!1,this)),this},remove:function(){o(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});return g.hideAll=function(){for(var e=p.length;e--;){var t=p[e];t&&t.settings.autohide&&(t.hide(),p.splice(e,1))}},g}),n("1z",["2k","2h","4h","a","2f","4i","6","5"],function(e,t,a,s,i,l,o,c){"use strict";function r(e){var t,n=s("meta[name=viewport]")[0];!1!==o.overrideViewPort&&(n||((n=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(n)),(t=n.getAttribute("content"))&&void 0!==h&&(h=t),n.setAttribute("content",e?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":h))}function n(e,t){!function(){for(var e=0;e<d.length;e++)if(d[e]._fullscreen)return!0;return!1}()||!1!==t||s([document.documentElement,document.body]).removeClass(e+"fullscreen")}var u,d=[],h="",e=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e),n.isRtl()&&n.classes.add("rtl"),n.classes.add("window"),n.bodyClasses.add("window-body"),n.state.set("fixed",!0),e.buttons&&(n.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),n.statusbar.classes.add("foot"),n.statusbar.parent(n)),n.on("click",function(e){var t=n.classPrefix+"close";(a.hasClass(e.target,t)||a.hasClass(e.target.parentNode,t))&&n.close()}),n.on("cancel",function(){n.close()}),n.aria("describedby",n.describedBy||n._id+"-none"),n.aria("label",e.title),n._fullscreen=!1},recalc:function(){var e,t,n,i,o=this,r=o.statusbar;o._fullscreen&&(o.layoutRect(a.getWindowSize()),o.layoutRect().contentH=o.layoutRect().innerH),o._super(),e=o.layoutRect(),!o.settings.title||o._fullscreen||(t=e.headerW)>e.w&&(n=e.x-Math.max(0,t/2),o.layoutRect({w:t,x:n}),i=!0),r&&(r.layoutRect({w:o.layoutRect().innerW}).recalc(),(t=r.layoutRect().minW+e.deltaW)>e.w&&(n=e.x-Math.max(0,t-e.w),o.layoutRect({w:t,x:n}),i=!0)),i&&o.recalc()},initLayoutRect:function(){var e,t=this._super(),n=0;this.settings.title&&!this._fullscreen&&(e=this.getEl("head"),e=a.getSize(e),t.headerW=e.width,t.headerH=e.height,n+=t.headerH),this.statusbar&&(n+=this.statusbar.layoutRect().h),t.deltaH+=n,t.minH+=n,t.h+=n;n=a.getWindowSize();return t.x=this.settings.x||Math.max(0,n.w/2-t.w/2),t.y=this.settings.y||Math.max(0,n.h/2-t.h/2),t},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,o=e.settings,r="",a="",s=o.html;return e.preRender(),t.preRender(e),o.title&&(r='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+e.encode(o.title)+'</div><div id="'+n+'-dragh" class="'+i+'dragh"></div><button type="button" class="'+i+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),o.url&&(s='<iframe src="'+o.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+r+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var n,t,i=this,o=document.documentElement,r=i.classPrefix;return e!=i._fullscreen&&(s(window).on("resize",function(){var e,t;i._fullscreen&&(n?i._timer||(i._timer=c.setTimeout(function(){var e=a.getWindowSize();i.moveTo(0,0).resizeTo(e.w,e.h),i._timer=0},50)):(e=(new Date).getTime(),t=a.getWindowSize(),i.moveTo(0,0).resizeTo(t.w,t.h),50<(new Date).getTime()-e&&(n=!0)))}),t=i.layoutRect(),(i._fullscreen=e)?(i._initial={x:t.x,y:t.y,w:t.w,h:t.h},i.borderBox=l.parseBox("0"),i.getEl("head").style.display="none",t.deltaH-=t.headerH+2,s([o,document.body]).addClass(r+"fullscreen"),i.classes.add("fullscreen"),e=a.getWindowSize(),i.moveTo(0,0).resizeTo(e.w,e.h)):(i.borderBox=l.parseBox(i.settings.border),i.getEl("head").style.display="",t.deltaH+=t.headerH,s([o,document.body]).removeClass(r+"fullscreen"),i.classes.remove("fullscreen"),i.moveTo(i._initial.x,i._initial.y).resizeTo(i._initial.w,i._initial.h))),i.reflow()},postRender:function(){var t,n=this;setTimeout(function(){n.classes.add("in"),n.fire("open")},0),n._super(),n.statusbar&&n.statusbar.postRender(),n.focus(),this.dragHelper=new i(n._id+"-dragh",{start:function(){t={x:n.layoutRect().x,y:n.layoutRect().y}},drag:function(e){n.moveTo(t.x+e.deltaX,t.y+e.deltaY)}}),n.on("submit",function(e){e.isDefaultPrevented()||n.close()}),d.push(n),r(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e;for(this.dragHelper.destroy(),this._super(),this.statusbar&&this.statusbar.remove(),n(this.classPrefix,!1),e=d.length;e--;)d[e]===this&&d.splice(e,1);r(0<d.length)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return o.desktop||(u={w:window.innerWidth,h:window.innerHeight},c.setInterval(function(){var e=window.innerWidth,t=window.innerHeight;u.w==e&&u.h==t||(u={w:e,h:t},s(window).trigger("resize"))},100)),s(window).on("resize",function(){for(var e,t=a.getWindowSize(),n=0;n<d.length;n++)e=d[n].layoutRect(),d[n].moveTo(d[n].settings.x||Math.max(0,t.w/2-e.w/2),d[n].settings.y||Math.max(0,t.h/2-e.h/2))}),e}),n("20",["1z"],function(o){"use strict";var r=o.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){function t(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),i(t)}}}var n,i=e.callback||function(){};switch(e.buttons){case r.OK_CANCEL:n=[t("Ok",!0,!0),t("Cancel",!1)];break;case r.YES_NO:case r.YES_NO_CANCEL:n=[t("Yes",1,!0),t("No",0)],e.buttons==r.YES_NO_CANCEL&&n.push(t("Cancel",-1));break;default:n=[t("Ok",!0,!0)]}return new o({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:n,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){i(!1)}}).renderTo(document.body).reflow()},alert:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,r.msgBox(e)},confirm:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,e.buttons=r.OK_CANCEL,r.msgBox(e)}}});return r}),n("10",["1z","20"],function(s,l){return function(o){function t(){if(i.length)return i[i.length-1]}function r(e){o.fire("OpenWindow",{win:e})}function a(e){o.fire("CloseWindow",{win:e})}var i=[];this.windows=i,o.on("remove",function(){for(var e=i.length;e--;)i[e].close()}),this.open=function(n,e){var t;return o.editorManager.setActive(o),n.title=n.title||" ",n.url=n.url||n.file,n.url&&(n.width=parseInt(n.width||320,10),n.height=parseInt(n.height||240,10)),n.body&&(n.items={defaults:n.defaults,type:n.bodyType||"form",items:n.body,data:n.data,callbacks:n.commands}),n.url||n.buttons||(n.buttons=[{text:"Ok",subtype:"primary",onclick:function(){t.find("form")[0].submit()}},{text:"Cancel",onclick:function(){t.close()}}]),t=new s(n),i.push(t),t.on("close",function(){for(var e=i.length;e--;)i[e]===t&&i.splice(e,1);i.length||o.focus(),a(t)}),n.data&&t.on("postRender",function(){this.find("*").each(function(e){var t=e.name();t in n.data&&e.value(n.data[t])})}),t.features=n||{},t.params=e||{},1===i.length&&o.nodeChanged(),r(t=t.renderTo().reflow()),t},this.alert=function(e,t,n){var i=l.alert(e,function(){t?t.call(n||this):o.focus()});i.on("close",function(){a(i)}),r(i)},this.confirm=function(e,t,n){var i=l.confirm(e,function(e){t.call(n||this,e)});i.on("close",function(){a(i)}),r(i)},this.close=function(){t()&&t().close()},this.getParams=function(){return t()?t().params:null},this.setParams=function(e){t()&&(t().params=e)},this.getWindows=function(){return i}}}),n("2l",["2b","2i"],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().lastChild.innerHTML=t.encode(e.value)}),t._super()},repaint:function(){var e=this.getEl().style,t=this._layoutRect;e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),n("2m",["2b","2l"],function(e,t){"use strict";var n,o=e.extend({init:function(n){var i=this;i._super(n),n=i.settings,i.canFocus=!0,n.tooltip&&!1!==o.tooltips&&(i.on("mouseenter",function(e){var t=i.tooltip().moveTo(-65535);e.control==i?(e=t.text(n.tooltip).show().testMoveRel(i.getEl(),["bc-tc","bc-tl","bc-tr"]),t.classes.toggle("tooltip-n","bc-tc"==e),t.classes.toggle("tooltip-nw","bc-tl"==e),t.classes.toggle("tooltip-ne","bc-tr"==e),t.moveRel(i.getEl(),e)):t.hide()}),i.on("mouseleave mousedown click",function(){i.tooltip().hide()})),i.aria("label",n.ariaLabel||n.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"})).renderTo(),n},postRender:function(){var e=this.settings;this._super(),this.parent()||!e.width&&!e.height||(this.initLayoutRect(),this.repaint()),e.autofocus&&this.focus()},bindStates:function(){function t(e){i.aria("disabled",e),i.classes.toggle("disabled",e)}function n(e){i.aria("pressed",e),i.classes.toggle("active",e)}var i=this;return i.state.on("change:disabled",function(e){t(e.value)}),i.state.on("change:active",function(e){n(e.value)}),i.state.get("disabled")&&t(!0),i.state.get("active")&&n(!0),i._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return o}),n("2n",["2m"],function(e){"use strict";return e.extend({Defaults:{value:0},init:function(e){this._super(e),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div class="'+t+'bar-container"><div class="'+t+'bar"></div></div><div class="'+t+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){function t(e){e=n.settings.filter(e),n.getEl().lastChild.innerHTML=e+"%",n.getEl().firstChild.firstChild.style.width=e+"%"}var n=this;return n.state.on("change:value",function(e){t(e.value)}),t(n.state.get("value")),n._super()}})}),n("21",["2b","2i","2n","5"],function(e,t,n,i){return e.extend({Mixins:[t],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||0<e.timeout)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on("click",function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()})},renderHtml:function(){var e=this,t=e.classPrefix,n="",i="",o="",r="";return e.icon&&(n='<i class="'+t+"ico "+t+"i-"+e.icon+'"></i>'),e.color&&(r=' style="background-color: '+e.color+'"'),e.closeButton&&(i='<button type="button" class="'+t+'close" aria-hidden="true">Ã</button>'),e.progressBar&&(o=e.progressBar.renderHtml()),'<div id="'+e._id+'" class="'+e.classes+'"'+r+' role="presentation">'+n+'<div class="'+t+'notification-inner">'+e.state.get("text")+"</div>"+o+i+"</div>"},postRender:function(){var e=this;return i.setTimeout(function(){e.$el.addClass(e.classPrefix+"in")}),e._super()},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().childNodes[1].innerHTML=e.value}),t.progressBar&&t.progressBar.bindStates(),t._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var e=this.getEl().style,t=this._layoutRect;e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534}})}),n("11",["21","5","9"],function(s,t,l){return function(i){function e(){if(a.length)return a[a.length-1]}function o(){if(0<a.length){var e=a.slice(0,1)[0],t=i.inline?i.getElement():i.getContentAreaContainer();if(e.moveRel(t,"tc-tc"),1<a.length)for(var n=1;n<a.length;n++)a[n].moveRel(a[n-1].getEl(),"bc-tc")}}function r(e,n){if((t=n).progressBar||t.timeout)return null;var t,e=l.grep(e,function(e){return t=e,(e=n).type===t.settings.type&&e.text===t.settings.text;var t});return 0===e.length?null:e[0]}var a=[];this.notifications=a,i.on("remove",function(){for(var e=a.length;e--;)a[e].close()}),i.on("ResizeEditor",o),i.on("ResizeWindow",function(){t.requestAnimationFrame(function(){(function(){for(var e=0;e<a.length;e++)a[e].moveTo(0,0)})(),o()})}),this.open=function(e){if(!i.removed){var t;i.editorManager.setActive(i);var n=r(a,e);return null===n?(t=new s(e),a.push(t),0<e.timeout&&(t.timer=setTimeout(function(){t.close()},e.timeout)),t.on("close",function(){var e=a.length;for(t.timer&&i.getWin().clearTimeout(t.timer);e--;)a[e]===t&&a.splice(e,1);o()}),t.renderTo(),o()):t=n,t}},this.close=function(){e()&&e().close()},this.getNotifications=function(){return a},i.on("SkinLoaded",function(){var e=i.settings.service_message;e&&i.notificationManager.open({text:e,type:"warning",timeout:0,icon:""})})}}),n("12",["z","e","9"],function(e,t,n){function i(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=c.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function o(r,a){function s(e){return!e.hidden&&!e.readonly}var e,t;r.delegates||(r.delegates={}),r.delegates[a]||r.removed||(e=i(r,a),r.settings.event_root?(l||(l={},r.editorManager.on("removeEditor",function(){if(!r.editorManager.activeEditor&&l){for(var e in l)r.dom.unbind(i(r,e));l=null}})),l[a]||(t=function(e){for(var t=e.target,n=r.editorManager.editors,i=n.length;i--;){var o=n[i].getBody();(o===t||c.isChildOf(t,o))&&s(n[i])&&n[i].fire(a,e)}},l[a]=t,c.bind(e,a,t))):(t=function(e){s(r)&&r.fire(a,e)},c.bind(e,a,t),r.delegates[a]=t))}var l,c=t.DOM,t={bindPendingEventDelegates:function(){var t=this;n.each(t._pendingNativeEvents,function(e){o(t,e)})},toggleNativeEvent:function(e,t){var n=this;"focus"!=e&&"blur"!=e&&(t?n.initialized?o(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(i(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this;if(t.delegates){for(e in t.delegates)t.dom.unbind(i(t,e),e,t.delegates[e]);delete t.delegates}t.inline||(t.getBody().onload=null,t.dom.unbind(t.getWin()),t.dom.unbind(t.getDoc())),t.dom.unbind(t.getBody()),t.dom.unbind(t.getContainer())}};return n.extend({},e,t)}),n("13",["9","6"],function(c,u){var d=c.each,h=c.explode,f={f9:120,f10:121,f11:122},p=c.makeMap("alt,ctrl,shift,meta,access");return function(r){function o(e){var t,n,i={};for(n in d(h(e,"+"),function(e){e in p?i[e]=!0:/^[0-9]{2,}$/.test(e)?i.keyCode=parseInt(e,10):(i.charCode=e.charCodeAt(0),i.keyCode=f[e]||e.toUpperCase().charCodeAt(0))}),t=[i.keyCode],p)i[n]?t.push(n):i[n]=!1;return i.id=t.join(","),i.access&&(i.alt=!0,u.mac?i.ctrl=!0:i.shift=!0),i.meta&&(u.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i}function a(e,t,n,i){e=c.map(h(e,">"),o);return e[e.length-1]=c.extend(e[e.length-1],{func:n,scope:i||r}),c.extend(e[0],{desc:r.translate(t),subpatterns:e.slice(1)})}function n(e,t){return t&&t.ctrl==e.ctrlKey&&t.meta==e.metaKey&&t.alt==e.altKey&&t.shift==e.shiftKey&&(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode)&&(e.preventDefault(),1)}function i(e){return e.func&&e.func.call(e.scope)}var s={},l=[];r.on("keyup keypress keydown",function(t){var e;!((e=t).altKey||e.ctrlKey||e.metaKey||"keydown"===(e=t).type&&112<=e.keyCode&&e.keyCode<=123)||t.isDefaultPrevented()||(d(s,function(e){if(n(t,e))return l=e.subpatterns.slice(0),"keydown"==t.type&&i(e),!0}),n(t,l[0])&&(1===l.length&&"keydown"==t.type&&i(l[0]),l.shift()))}),this.add=function(e,t,n,i){var o=n;return"string"==typeof n?n=function(){r.execCommand(o,!1,null)}:c.isArray(o)&&(n=function(){r.execCommand(o[0],o[1],o[2])}),d(h(c.trim(e.toLowerCase())),function(e){e=a(e,t,n,i);s[e.id]=e}),!0},this.remove=function(e){e=a(e);return!!s[e.id]&&(delete s[e.id],!0)}}}),e("4k",window),n("26",["g"],function(e){function n(e,t){return(e=function(e,t){for(var n in r.urls){if(r.urls[n]+"/plugin"+t+".js"===e)return n}return null}(t,e.suffix))?"Failed to load plugin: "+e+" from url "+t:"Failed to load plugin url: "+t}function i(e,t){e.notificationManager.open({type:"error",text:t})}function o(e,t){e._skinLoaded?i(e,t):e.on("SkinLoaded",function(){i(e,t)})}var r=e.PluginManager;return{pluginLoadError:function(e,t){o(e,n(e,t))},uploadError:function(e,t){o(e,"Failed to upload image: "+t)},displayError:o,contentCssError:function(e,t){o(e,"Failed to load content css: "+t[0])},initError:function(e){var t=window.console;t&&!window.test&&(t.error?t.error:t.log).apply(t,arguments)}}}),n("60",["3t","1k"],function(t,i){function o(e,t){var n;t.hasAttribute("data-mce-caret")&&(i.showCaretContainerBlock(t),(n=e).selection.setRng(n.selection.getRng()),e.selection.scrollIntoView(t))}function n(e,t){var n=e.dom.select("*[data-mce-caret]")[0];if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void o(n)):void(i.hasContent(n)&&o(e,n))}return{setup:function(e){e.on("keyup compositionstart",t.curry(n,e))}}}),n("6g",["4","9","1s"],function(f,o,e){return function(s,l){function n(e,n,i,t){var o,r=new XMLHttpRequest;r.open("POST",l.url),r.withCredentials=l.credentials,r.upload.onprogress=function(e){t(e.loaded/e.total*100)},r.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+r.status)},r.onload=function(){var e,t;return 200!=r.status?void i("HTTP Error: "+r.status):(t=JSON.parse(r.responseText))&&"string"==typeof t.location?void n((e=l.basePath,t=t.location,e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t)):void i("Invalid JSON: "+r.responseText)},(o=new FormData).append("file",e.blob(),e.filename()),r.send(o)}function c(e,t){return{url:t,blobInfo:e,status:!0}}function u(e,t){return{url:"",blobInfo:e,status:!1,error:t}}function d(e,t){o.each(h[e],function(e){e(t)}),delete h[e]}function i(e,n){return e=o.grep(e,function(e){return!s.isUploaded(e.blobUri())}),f.all(o.map(e,function(e){return s.isPending(e.blobUri())?(t=e.blobUri(),new f(function(e){h[t]=h[t]||[],h[t].push(e)})):(o=e,r=l.handler,a=n,s.markPending(o.blobUri()),new f(function(t){function e(){}var n;try{function i(){n&&(n.close(),0)}r(o,function(e){i(),s.markUploaded(o.blobUri(),e),d(o.blobUri(),c(o,e)),t(c(o,e))},function(e){i(),s.removeFailed(o.blobUri()),d(o.blobUri(),u(o,e)),t(u(o,e))},function(e){e<0||100<e||(n=n||a()).progressBar.value(e)})}catch(e){t(u(o,e.message))}}));var o,r,a,t}))}var h={};return l=o.extend({credentials:!1,handler:n},l),{upload:function(e,t){return l.url||l.handler!==n?i(e,t):new f(function(e){e([])})}}}}),n("71",["4"],function(t){function a(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}}return{uriToBlob:function(e){return 0===e.indexOf("blob:")?(r=e,new t(function(e,t){function n(){t("Cannot convert "+r+" to Blob. Resource might not exist or is inaccessible.")}try{var i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType="blob",i.onload=function(){200==this.status?e(this.response):n()},i.onerror=n,i.send()}catch(e){n()}})):0===e.indexOf("data:")?(o=e,new t(function(t){var e,n,i;o=a(o);try{e=atob(o.data)}catch(e){return void t(new Blob([]))}for(n=new Uint8Array(e.length),i=0;i<n.length;i++)n[i]=e.charCodeAt(i);t(new Blob([n],{type:o.type}))})):null;var o,r},blobToDataUri:function(n){return new t(function(e){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(n)})},parseDataUri:a}}),n("6h",["4","1g","1s","71","6"],function(t,r,a,u,s){function d(e){return(e||"blobid")+n++}var n=0;return function(i,c){var o={};return{findAll:function(e,n){return n=n||a.constant(!0),e=r.filter((e=e)?e.getElementsByTagName("img"):[],function(e){var t=e.src;return!!s.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!t||t==s.transparentSrc)&&(0===t.indexOf("blob:")?!i.isUploaded(t):0===t.indexOf("data:")&&n(e))}),e=r.map(e,function(l){var e;return o[l.src]?new t(function(t){o[l.src].then(function(e){return"string"==typeof e?e:void t({image:l,blobInfo:e.blobInfo})})}):(e=new t(function(e,t){var n,i,o,r,a,s;n=c,o=e,r=t,0===(i=l).src.indexOf("blob:")?(s=n.getByUri(i.src))?o({image:i,blobInfo:s}):u.uriToBlob(i.src).then(function(t){u.blobToDataUri(t).then(function(e){a=u.parseDataUri(e).data,s=n.create(d(),t,a),n.add(s),o({image:i,blobInfo:s})})},function(e){r(e)}):(a=u.parseDataUri(i.src).data,(s=n.findFirst(function(e){return e.base64()===a}))?o({image:i,blobInfo:s}):u.uriToBlob(i.src).then(function(e){s=n.create(d(),e,a),n.add(s),o({image:i,blobInfo:s})},function(e){r(e)}))}).then(function(e){return delete o[e.image.src],e}).catch(function(e){return delete o[l.src],e}),o[l.src]=e)}),t.all(e)}}}}),n("25",[],function(){var n=0;return{uuid:function(e){return e+n+++("s"+(new Date).getTime().toString(36)+t()+t()+t());function t(){return Math.round(4294967295*Math.random()).toString(36)}}}}),e("72",URL),n("6i",["1g","1s","25","72"],function(i,r,a,s){return function(){function t(t){return e(function(e){return e.id()===t})}function e(e){return i.filter(n,e)[0]}var n=[],o=r.constant;return{create:function(e,t,n,i){return function(e){var t,n;if(!e.blob||!e.base64)throw"blob and base64 representations of the image are required for BlobInfo to be created";return t=e.id||a.uuid("blobid"),n=e.name||t,{id:o(t),name:o(n),filename:o(n+"."+function(e){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[e.toLowerCase()]||"dat"}(e.blob.type)),blob:o(e.blob),base64:o(e.base64),blobUri:o(e.blobUri||s.createObjectURL(e.blob)),uri:o(e.uri)}}("object"==typeof e?e:{id:e,name:i,blob:t,base64:n})},add:function(e){t(e.id())||n.push(e)},get:t,getByUri:function(t){return e(function(e){return e.blobUri()==t})},findFirst:e,removeByUri:function(t){n=i.filter(n,function(e){return e.blobUri()!==t||(s.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){i.each(n,function(e){s.revokeObjectURL(e.blobUri())}),n=[]}}}}),n("6j",[],function(){return function(){function n(e,t){return{status:e,resultUri:t}}function t(e){return e in i}var i={};return{hasBlobUri:t,getResultUri:function(e){return(e=i[e])?e.resultUri:null},isPending:function(e){return!!t(e)&&1===i[e].status},isUploaded:function(e){return!!t(e)&&2===i[e].status},markPending:function(e){i[e]=n(1,null)},markUploaded:function(e,t){i[e]=n(2,t)},removeFailed:function(e){delete i[e]},destroy:function(){i={}}}}}),n("61",["1g","6g","6h","6i","6j","26"],function(v,y,b,x,w,k){return function(i){function o(t){return function(e){return i.selection?t(e):[]}}function r(e,t,n){for(var i=0;-1!==(i=e.indexOf(t,i))&&(e=e.substring(0,i)+n+e.substr(i+t.length),i+=n.length-t.length+1),-1!==i;);return e}function a(e,t,n){return e=r(e,'src="'+t+'"','src="'+n+'"'),r(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')}function n(t,n){v.each(i.undoManager.data,function(e){"fragmented"===e.type?e.fragments=v.map(e.fragments,function(e){return a(e,t,n)}):e.content=a(e.content,t,n)})}function s(){return i.notificationManager.open({text:i.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function l(e,t){p.removeByUri(e.src),n(e.src,t),i.$(e).attr({src:m.images_reuse_filename?t+("?"+(new Date).getTime()):t,"data-mce-src":i.convertURL(t,"src")})}function t(t){return h=h||new y(g,{url:m.images_upload_url,basePath:m.images_upload_base_path,credentials:m.images_upload_credentials,handler:m.images_upload_handler}),u().then(o(function(n){var e=v.map(n,function(e){return e.blobInfo});return h.upload(e,s).then(o(function(e){e=v.map(e,function(e,t){t=n[t].image;return e.status&&!1!==i.settings.images_replace_blob_uris?l(t,e.url):e.error&&k.uploadError(i,e.error),{element:t,status:e.status}});return t&&t(e),e}))}))}function e(e){if(!1!==m.automatic_uploads)return t(e)}function c(e){return!m.images_dataimg_filter||m.images_dataimg_filter(e)}function u(){return(f=f||new b(g,p)).findAll(i.getBody(),c).then(o(function(e){return e=v.filter(e,function(e){return"string"!=typeof e||(k.displayError(i,e),!1)}),v.each(e,function(e){n(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),e}))}function d(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var t=g.getResultUri(n);if(t)return'src="'+t+'"';t=p.getByUri(n);return(t=t||v.reduce(i.editorManager.editors,function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null))?'src="data:'+t.blob().type+";base64,"+t.base64()+'"':e})}var h,f,p=new x,m=i.settings,g=new w;return i.on("setContent",function(){(!1!==i.settings.automatic_uploads?e:u)()}),i.on("RawSaveContent",function(e){e.content=d(e.content)}),i.on("getContent",function(e){e.source_view||"raw"==e.format||(e.content=d(e.content))}),i.on("PostRender",function(){i.parser.addNodeFilter("img",function(e){v.each(e,function(e){var t=e.attr("src");p.getByUri(t)||(t=g.getResultUri(t))&&e.attr("src",t)})})}),{blobCache:p,uploadImages:t,uploadImagesAuto:e,scanForImages:u,destroy:function(){p.destroy(),g.destroy(),f=h=null}}}}),n("62",["3t"],function(t){function n(e){var t,n,i,o,r,a,s,l,c,u,d=e.settings,h=e.dom,f=e.selection,p=e.schema,m=p.getBlockElements(),g=f.getStart(),v=e.getBody(),y=d.forced_root_block;if(g&&1===g.nodeType&&y){for(;g&&g!==v;){if(m[g.nodeName])return;g=g.parentNode}if((t=f.getRng()).setStart){n=t.startContainer,i=t.startOffset,o=t.endContainer,r=t.endOffset;try{c=e.getDoc().activeElement===v}catch(e){}}else t.item&&(g=t.item(0),(t=e.getDoc().body.createTextRange()).moveToElementText(g)),c=t.parentElement().ownerDocument===e.getDoc(),(d=t.duplicate()).collapse(!0),i=-1*d.move("character",-16777215),d.collapsed||((d=t.duplicate()).collapse(!1),r=-1*d.move("character",-16777215)-i);for(g=v.firstChild,u=v.nodeName.toLowerCase();g;)if((3===g.nodeType||1==g.nodeType&&!m[g.nodeName])&&p.isValidChild(u,y.toLowerCase())){if(3===g.nodeType&&0===g.nodeValue.length){g=(s=g).nextSibling,h.remove(s);continue}a||(a=h.create(y,e.settings.forced_root_block_attrs),g.parentNode.insertBefore(a,g),l=!0),g=(s=g).nextSibling,a.appendChild(s)}else a=null,g=g.nextSibling;if(l&&c){if(t.setStart)t.setStart(n,i),t.setEnd(o,r),f.setRng(t);else try{(t=e.getDoc().body.createTextRange()).moveToElementText(v),t.collapse(!0),t.moveStart("character",i),0<r&&t.moveEnd("character",r),t.select()}catch(e){}e.nodeChanged()}}}return{setup:function(e){e.settings.forced_root_block&&e.on("NodeChange",t.curry(n,e))}}}),n("76",["1g","1j","3y"],function(o,r,a){return{getClientRects:function n(t){function e(e){return o.map(e,function(e){return(e=a.clone(e)).node=t,e})}if(o.isArray(t))return o.reduce(t,function(e,t){return e.concat(n(t))},[]);if(r.isElement(t))return e(t.getClientRects());if(r.isText(t)){var i=t.ownerDocument.createRange();return i.setStart(t,0),i.setEnd(t,t.data.length),e(i.getClientRects())}}}}),n("6p",["1s","1g","1j","76","3y","59","3x"],function(e,a,t,o,r,n,s){function l(e,t){return Math.abs(e.left-t)}function c(e,t){return Math.abs(e.right-t)}function u(e,o){function r(e,t){return e>=t.left&&e<=t.right}return a.reduce(e,function(e,t){var n=Math.min(l(e,o),c(e,o)),i=Math.min(l(t,o),c(t,o));return r(o,t)||!r(o,e)&&(i==n&&f(t.node)||i<n)?t:e})}function d(e,t,n,i){for(;i=p(i,e,s.isEditableCaretCandidate,t);)if(n(i))return}function h(e,n){function t(t,e){e=a.filter(o.getClientRects(e),function(e){return!t(e,n)});return i=i.concat(e),0===e.length}var i=[];return i.push(n),d(-1,e,m(t,r.isAbove),n.node),d(1,e,m(t,r.isBelow),n.node),i}var f=t.isContentEditableFalse,p=n.findNode,m=e.curry;return{findClosestClientRect:u,findLineNodeRects:h,closestCaret:function(e,t,n){var i=o.getClientRects((i=e,a.filter(a.toArray(i.getElementsByTagName("*")),f)));return(i=u(i=a.filter(i,function(e){return n>=e.top&&n<=e.bottom}),t))&&((i=u(h(e,i),t))&&f(i.node))?(t=t,{node:(i=i).node,before:l(i,t)<c(i,t)}):null}}}),n("7b",["1s","1g","76","3x","59","4d","1n","3y"],function(e,f,d,h,p,m,g,v){function t(o,r,a,e,s,t){function n(e){var t,n,i=d.getClientRects(e);for(-1==o&&(i=i.reverse()),t=0;t<i.length;t++)if(n=i[t],!a(n,l)){if(0<u.length&&r(n,f.last(u))&&c++,n.line=c,s(n))return!0;u.push(n)}}var l,c=0,u=[];return(l=f.last(t.getClientRects()))&&(n(t=t.getNode()),function(e,t,n,i){for(;i=p.findNode(i,e,h.isEditableCaretCandidate,t);)if(n(i))return}(o,e,n,t)),u}e=e.curry;return{upUntil:e(t,-1,v.isAbove,v.isBelow),downUntil:e(t,1,v.isBelow,v.isAbove),positionsUntil:function(e,t,n,i){function o(e){return f.last(e.getClientRects())}var r,a,s,l,t=new m(t),c=[],u=0,d=1==e?(r=t.next,a=v.isBelow,s=v.isAbove,g.after(i)):(r=t.prev,a=v.isAbove,s=v.isBelow,g.before(i)),h=o(d);do{if(d.isVisible()&&!s(l=o(d),h)){if(0<c.length&&a(l,f.last(c))&&u++,(l=v.clone(l)).position=d,l.line=u,n(l))return c;c.push(l)}}while(d=r(d));return c},isAboveLine:e(function(e,t){return t.line>e}),isLine:e(function(e,t){return t.line===e})}}),n("6r",["1n","59","1j","1s"],function(n,i,e,o){function r(e,t,n,i){return t._selectionOverrides.showCaret(e,n,i)}function a(e,t){return t=i.normalizeRange(1,e.getBody(),t),t=n.fromRangeStart(t),l(t.getNode())?r(1,e,t.getNode(),!t.isAtEnd()):l(t.getNode(!0))?r(1,e,t.getNode(!0),!1):(t=e.dom.getParent(t.getNode(),o.or(l,s)),l(t)?r(1,e,t,!1):null)}var s=e.isContentEditableTrue,l=e.isContentEditableFalse;return{showCaret:r,selectNode:function(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:((t=(e=t).ownerDocument.createRange()).selectNode(e),t)},renderCaretAtRange:a,renderRangeCaret:function(e,t){return t&&t.collapsed?a(e,t)||t:t}}}),n("73",["1k","1n","59","4d","6p","7b","1j","h","6","6r","1g","1s"],function(s,a,l,c,u,d,h,e,f,p,m,g){function v(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}function y(e,t,n){return n=l.normalizeRange(e,t,n),-1===e?a.fromRangeStart(n):a.fromRangeEnd(n)}function b(e,t,n,i,o){var r,a;return!o.collapsed&&(r=k(o),w(r))?p.showCaret(e,t,r,-1===e):(a=o,r=s.isCaretContainerBlock(a.startContainer),i(a=y(e,t.getBody(),o))?p.selectNode(t,a.getNode(-1===e)):(a=n(a))?i(a)?p.showCaret(e,t,a.getNode(-1===e),1===e):i(n=n(a))&&function(e,t){t=l.isInSameBlock(e,t);return!(t||!h.isBr(e.getNode()))||t}(a,n)?p.showCaret(e,t,n.getNode(-1===e),1===e):r?p.renderRangeCaret(t,a.toRange()):null:r?o:null)}function x(e,t,n){var i,o=new c(e.getBody()),r=g.curry(v,o.next),o=g.curry(v,o.prev);n.collapsed&&e.settings.forced_root_block&&(i=e.dom.getParent(n.startContainer,"PRE"))&&((1===t?r:o)(a.fromRangeStart(n))||(n=function(e){e=e.dom.create(e.settings.forced_root_block);return(!f.ie||11<=f.ie)&&(e.innerHTML='<br data-mce-bogus="1">'),e}(e),1===t?e.$(i).after(n):e.$(i).before(n),e.selection.select(n,!0),e.selection.collapse()))}function i(e,t){var n=t?1:-1,i=t?d.downUntil:d.upUntil,t=e.selection.getRng();return(i=function(e,t,n,i){var o=k(i),r=y(e,t.getBody(),i),a=n(t.getBody(),d.isAboveLine(1),r),i=m.filter(a,d.isLine(1)),n=m.last(r.getClientRects());if(_(r)&&(o=r.getNode()),C(r)&&(o=r.getNode(!0)),!n)return null;if(a=n.left,(r=u.findClosestClientRect(i,a))&&w(r.node))return n=Math.abs(a-r.left),i=Math.abs(a-r.right),p.showCaret(e,t,r.node,n<i);if(o){o=d.positionsUntil(e,t.getBody(),d.isAboveLine(1),o);return(r=u.findClosestClientRect(m.filter(o,d.isLine(1)),a))?p.renderRangeCaret(t,r.position.toRange()):(r=m.last(m.filter(o,d.isLine(0))))?p.renderRangeCaret(t,r.position.toRange()):void 0}}(n,e,i,t))?i:(i=x(e,n,t))||null}var w=h.isContentEditableFalse,k=e.getSelectedNode,C=l.isAfterContentEditableFalse,_=l.isBeforeContentEditableFalse;return{moveH:function(r,a){return function(){var e,t,n,i,o,o=(t=a,n=new c((e=r).getBody()),i=g.curry(v,n.next),o=g.curry(v,n.prev),n=t?1:-1,i=t?i:o,o=t?_:C,t=e.selection.getRng(),(o=b(n,e,i,o,t))?o:(o=x(e,n,t))||null);return!!o&&(r.selection.setRng(o),!0)}},moveV:function(t,n){return function(){var e=i(t,n);return!!e&&(t.selection.setRng(e),!0)}}}}),n("7c",["5l","4r","4s"],function(n,s,l){var e=function(a){return function(){for(var e=new s(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new l("Can't merge zero objects");for(var n={},i=0;i<e.length;i++){var o,r=e[i];for(o in r)r.hasOwnProperty(o)&&(n[o]=a(n[o],r[o]))}return n}},i=e(function(e,t){return n.isObject(e)&&n.isObject(t)?i(e,t):t}),e=e(function(e,t){return t});return{deepMerge:i,merge:e}}),n("74",["3s","3t","7c"],function(t,n,o){return{match:function(e,i){return t.bind((e=e,t.map(e,function(e){return o.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:n.noop},e)})),function(e){return t=e,(n=i).keyCode===t.keyCode&&n.shiftKey===t.shiftKey&&n.altKey===t.altKey&&n.ctrlKey===t.ctrlKey&&n.metaKey===t.metaKey?[e]:[];var t,n})},action:function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}}}),n("6k",["3s","5z","5e","73","74","p"],function(o,e,r,a,s,l){return{setup:function(n,i){n.on("keydown",function(t){var e=s.match([{keyCode:l.RIGHT,action:a.moveH(n,!0)},{keyCode:l.LEFT,action:a.moveH(n,!1)},{keyCode:l.UP,action:a.moveV(n,!1)},{keyCode:l.DOWN,action:a.moveV(n,!0)},{keyCode:l.RIGHT,action:r.move(n,i,!0)},{keyCode:l.LEFT,action:r.move(n,i,!1)}],t);o.find(e,function(e){return e.action()}).each(function(e){t.preventDefault()})})}}}),n("6l",["3s","49","4a","4b","4c","74","p"],function(r,a,s,l,c,u,d){return{setup:function(e,t){var n,i,o;o=t,(i=e).on("keydown",function(t){var e=u.match([{keyCode:d.BACKSPACE,action:u.action(c.backspaceDelete,i,o,!1)},{keyCode:d.DELETE,action:u.action(c.backspaceDelete,i,o,!0)},{keyCode:d.BACKSPACE,action:u.action(l.backspaceDelete,i,!1)},{keyCode:d.DELETE,action:u.action(l.backspaceDelete,i,!0)},{keyCode:d.BACKSPACE,action:u.action(s.backspaceDelete,i,!1)},{keyCode:d.DELETE,action:u.action(s.backspaceDelete,i,!0)},{keyCode:d.BACKSPACE,action:u.action(a.backspaceDelete,i,!1)},{keyCode:d.DELETE,action:u.action(a.backspaceDelete,i,!0)}],t);r.find(e,function(e){return e.action()}).each(function(e){t.preventDefault()})}),(n=e).on("keyup",function(e){e=u.match([{keyCode:d.BACKSPACE,action:u.action(l.paddEmptyElement,n)},{keyCode:d.DELETE,action:u.action(l.paddEmptyElement,n)}],e);r.find(e,function(e){return e.action()})})}}}),n("6m",["1k","1j","h","c","6","1l","9"],function(B,i,H,z,j,s,l){function F(e){e.innerHTML=V?"":'<br data-mce-bogus="1">'}function W(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t}function $(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)}function U(e,t,n){var i;e.isBlock(n)&&(i=t.getRng(),n.appendChild(e.create("span",null,"Â ")),t.select(n),n.lastChild.outerHTML="",t.setRng(i))}function Y(e,t,n){var i,o,r=n,a=[];if(r){for(;r=r.firstChild;){if(e.isBlock(r))return;1!=r.nodeType||t[r.nodeName.toLowerCase()]||a.push(r)}for(i=a.length;i--;)!(r=a[i]).hasChildNodes()||r.firstChild==r.lastChild&&""===r.firstChild.nodeValue?e.remove(r):(o=r)&&"A"===o.nodeName&&0===l.trim(s.trim(o.innerText||o.textContent)).length&&e.remove(r)}}function q(e,t,n){return!1===i.isText(t)?n:e?1===n&&t.data.charAt(n-1)===s.ZWSP?0:n:n===t.data.length-1&&t.data.charAt(n)===s.ZWSP?t.data.length:n}var V=j.ie&&j.ie<11;return{setup:function(M){function t(e){function t(e){var t,n,i,o,r,a=e;if(e){if(j.ie&&j.ie<9&&d&&d.firstChild&&d.firstChild==d.lastChild&&"BR"==d.firstChild.tagName&&E.remove(d.firstChild),/^(LI|DT|DD)$/.test(e.nodeName)&&(r=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(e.firstChild))&&/^(UL|OL|DL)$/.test(r.nodeName)&&e.insertBefore(E.doc.createTextNode("Â "),e.firstChild),i=E.createRng(),j.ie||e.normalize(),e.hasChildNodes()){for(t=new z(e,e);n=t.current();){if(3==n.nodeType){i.setStart(n,0),i.setEnd(n,0);break}if(L[n.nodeName.toLowerCase()]){i.setStartBefore(n),i.setEndBefore(n);break}a=n,n=t.next()}n||(i.setStart(a,0),i.setEnd(a,0))}else"BR"==e.nodeName?e.nextSibling&&E.isBlock(e.nextSibling)?((!h||h<9)&&(o=E.create("br"),e.parentNode.insertBefore(o,e)),i.setStartBefore(e),i.setEndBefore(e)):(i.setStartAfter(e),i.setEndAfter(e)):(i.setStart(e,0),i.setEnd(e,0));N.setRng(i),E.remove(o),N.scrollIntoView(e)}}function c(e){var t=P.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&E.setAttribs(e,P.forced_root_block_attrs)}function n(e){var t,n,i,o=s,r=R.getTextInlineElements();if(e||"TABLE"==v||"HR"==v?c(t=E.create(e||b)):t=d.cloneNode(!1),i=t,!1===P.keep_styles)E.setAttrib(t,"style",null),E.setAttrib(t,"class",null);else do{if(r[o.nodeName]){if("_mce_caret"==o.id)continue;n=o.cloneNode(!1),E.setAttrib(n,"id",""),t.hasChildNodes()?n.appendChild(t.firstChild):i=n,t.appendChild(n)}}while((o=o.parentNode)&&o!=u);return V||(i.innerHTML='<br data-mce-bogus="1">'),t}function i(e){var t,n,i,o=q(e,s,l);if(3!=s.nodeType||!(e?0<o:o<s.nodeValue.length)){if(s.parentNode==d&&x&&!e)return 1;if(e&&1==s.nodeType&&s==d.firstChild)return 1;if(W(s,"TABLE")||W(s,"HR"))return x&&!e||!x&&e;for(t=new z(s,d),3==s.nodeType&&(e&&0===o?t.prev():e||o!=s.nodeValue.length||t.next());n=t.current();){if(1===n.nodeType){if(!n.getAttribute("data-mce-bogus")&&(i=n.nodeName.toLowerCase(),O[i]&&"br"!==i))return}else if(3===n.nodeType&&!/^[ \t\r\n]*$/.test(n.nodeValue))return;e?t.prev():t.next()}return 1}}function o(){M.execCommand("InsertLineBreak",!1,e)}function r(){p=/^(H[1-6]|PRE|FIGURE)$/.test(v)&&"HGROUP"!=y?n(b):n(),P.end_container_on_empty_block&&$(E,g)&&E.isEmpty(d)?p=E.split(g,d):E.insertAfter(p,d),t(p)}var a,u,s,l,d,h,f,p,m,g,v,y,b,x,w,k,C,_,T,S=N.getRng(!0);if(!e.isDefaultPrevented())if(S.collapsed){if(new H(E).normalize(S),s=S.startContainer,l=S.startOffset,b=(b=(P.force_p_newlines?"p":"")||P.forced_root_block)?b.toUpperCase():"",h=E.doc.documentMode,f=e.shiftKey,1==s.nodeType&&s.hasChildNodes()&&(x=l>s.childNodes.length-1,s=s.childNodes[Math.min(l,s.childNodes.length-1)]||s,l=x&&3==s.nodeType?s.nodeValue.length:0),u=function(e){for(var t,n=E.getRoot(),i=e;i!==n&&"false"!==E.getContentEditable(i);)"true"===E.getContentEditable(i)&&(t=i),i=i.parentNode;return i!==n?t:n}(s))if(I.beforeChange(),E.isBlock(u)||u==E.getRoot()){if((b&&!f||!b&&f)&&(s=function(e,t){var n,i,o,r,a,s=b||"P",l=E.getParent(e,E.isBlock);if(!l||!$(E,l)){if(a=((l=l||u)==M.getBody()||(a=l)&&/^(TD|TH|CAPTION)$/.test(a.nodeName)?l:l.parentNode).nodeName.toLowerCase(),!l.hasChildNodes())return c(n=E.create(s)),l.appendChild(n),S.setStart(n,0),S.setEnd(n,0),n;for(o=e;o.parentNode!=l;)o=o.parentNode;for(;o&&!E.isBlock(o);)o=(i=o).previousSibling;if(i&&R.isValidChild(a,s.toLowerCase())){for(c(n=E.create(s)),i.parentNode.insertBefore(n,i),o=i;o&&!E.isBlock(o);)r=o.nextSibling,n.appendChild(o),o=r;S.setStart(e,t),S.setEnd(e,t)}}return e}(s,l)),d=E.getParent(s,E.isBlock),g=d?E.getParent(d.parentNode,E.isBlock):null,v=d?d.nodeName.toUpperCase():"","LI"!=(y=g?g.nodeName.toUpperCase():"")||e.ctrlKey||(d=g,v=y),M.undoManager.typing&&(M.undoManager.typing=!1,M.undoManager.add()),/^(LI|DT|DD)$/.test(v)){if(!b&&f)return void o();if(E.isEmpty(d))return void(g!=M.getBody()&&(T=g.parentNode.nodeName,/^(OL|UL|LI)$/.test(T)&&(b="LI"),p=b?n(b):E.create("BR"),D(!0)&&D()?"LI"==T?E.insertAfter(p,A()):E.replace(p,g):D(!0)?"LI"==T?(E.insertAfter(p,A()),p.appendChild(E.doc.createTextNode(" ")),p.appendChild(g)):g.parentNode.insertBefore(p,g):D()?(E.insertAfter(p,A()),U(E,N,p)):(g=A(),(a=S.cloneRange()).setStartAfter(d),a.setEndAfter(g),m=a.extractContents(),"LI"==b&&"LI"==m.firstChild.nodeName?(p=m.firstChild,E.insertAfter(m,g)):(E.insertAfter(m,g),E.insertAfter(p,g))),E.remove(d),t(p),I.add()))}if("PRE"==v&&!1!==P.br_in_pre){if(!f)return void o()}else if(!b&&!f&&"LI"!=v||b&&f)return void o();b&&d===M.getBody()||(b=b||"P",B.isCaretContainerBlock(d)?(p=B.showCaretContainerBlock(d),E.isEmpty(d)&&F(d),t(p)):i()?r():i(!0)?(p=d.parentNode.insertBefore(n(),d),U(E,N,p),t(W(d,"HR")?p:d)):((_=(C=S).cloneRange()).setStart(C.startContainer,q(!0,C.startContainer,C.startOffset)),_.setEnd(C.endContainer,q(!1,C.endContainer,C.endOffset)),(a=_.cloneRange()).setEndAfter(d),function(e){for(;3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);}(m=a.extractContents()),p=m.firstChild,E.insertAfter(m,d),Y(E,O,p),w=d,V||(w.normalize(),(k=w.lastChild)&&!/^(left|right)$/gi.test(E.getStyle(k,"float",!0))||E.add(w,"br")),E.isEmpty(d)&&F(d),p.normalize(),E.isEmpty(p)?(E.remove(p),r()):t(p)),E.setAttrib(p,"id",""),M.fire("NewBlock",{newBlock:p}),I.typing=!1,I.add())}else b&&!f||o()}else M.execCommand("Delete");function D(e){for(var t=g[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===d}function A(){var e=g.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:g}}var E=M.dom,N=M.selection,P=M.settings,I=M.undoManager,R=M.schema,O=R.getNonEmptyElements(),L=R.getMoveCaretBeforeOnEnterElements();M.on("keydown",function(e){13==e.keyCode&&!1!==t(e)&&e.preventDefault()})}}}),n("75",["3t","1n","1j","5d"],function(n,i,o,r){function a(e,t,n){return i=t,!(!s(n)||!o.isText(i.container())||(i=e,t=(e=t).container(),e=e.offset(),t.insertData(e,"Â "),i.selection.setCursorLocation(t,e+1),0));var i}var s=function(e){return e.fold(n.constant(!1),n.constant(!0),n.constant(!0),n.constant(!1))};return{insertAtSelection:function(e){return!!e.selection.isCollapsed()&&(t=e,e=i.fromRangeStart(t.selection.getRng()),r.readLocation(t.getBody(),e).map(n.curry(a,t,e)).getOr(!1));var t}}}),n("6n",["3s","75","74","p"],function(i,o,r,a){return{setup:function(e){var n;(n=e).on("keydown",function(t){var e=r.match([{keyCode:a.SPACEBAR,action:r.action(o.insertAtSelection,n)}],t);i.find(e,function(e){return e.action()}).each(function(e){t.preventDefault()})})}}}),n("63",["6k","5e","6l","6m","6n"],function(n,i,o,r,a){return{setup:function(e){var t=i.setupSelectedState(e);n.setup(e,t),o.setup(e,t),r.setup(e),a.setup(e)}}}),n("64",["h","6","5"],function(r,t,a){return function(o){var n,i=[];"onselectionchange"in o.getDoc()||o.on("NodeChange Click MouseUp KeyUp Focus",function(e){var t=o.selection.getRng(),t={startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset};"nodechange"!=e.type&&r.compareRanges(t,n)||o.fire("SelectionChange"),n=t}),o.on("contextmenu",function(){o.fire("SelectionChange")}),o.on("SelectionChange",function(){var e=o.selection.getStart(!0);!t.range&&o.selection.isCollapsed()||!function(e){var t,n=o.$(e).parentsUntil(o.getBody()).add(e);if(n.length===i.length){for(t=n.length;0<=t&&n[t]===i[t];t--);if(-1===t)return i=n,1}return i=n,0}(e)&&o.dom.isChildOf(e,o.getBody())&&o.nodeChanged({selectionChange:!0})}),o.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"==o.selection.getNode().nodeName?a.setEditorTimeout(o,function(){o.nodeChanged()}):o.nodeChanged())}),this.nodeChanged=function(e){var t,n,i=o.selection;o.initialized&&i&&!o.settings.disable_nodechange&&!o.readonly&&(n=o.getBody(),(i=i.getStart(!0)||n).ownerDocument==o.getDoc()&&o.dom.isChildOf(i,n)||(i=n),t=[],o.dom.getParent(i,function(e){return e===n||void t.push(e)}),(e=e||{}).element=i,e.parents=t,o.fire("NodeChange",e))}}}),n("6o",["1k","5x","1n","a","1j","h","3y","5"],function(p,e,t,m,n,i,g,v){var y=n.isContentEditableFalse;return function(l,c){function u(){(function(){for(var e,t,n,i=m("*[contentEditable=false]",l),o=0;o<i.length;o++)t=(e=i[o]).previousSibling,p.endsWithCaretContainer(t)&&(1==(n=t.data).length?t.parentNode.removeChild(t):t.deleteData(n.length-1,1)),t=e.nextSibling,p.startsWithCaretContainer(t)&&(1==(n=t.data).length?t.parentNode.removeChild(t):t.deleteData(0,1))})(),f&&(e.remove(f),f=null),h&&(h.remove(),h=null),clearInterval(d)}var d,h,f;return{show:function(e,t){var n,i,o,r,a,s;return u(),(s=t)&&/^(TD|TH)$/i.test(s.nodeName)?null:(c(t)?(f=p.insertBlock("p",t,e),n=t,i=e,r=g.collapse(n.getBoundingClientRect(),i),a="BODY"==l.tagName?(s=l.ownerDocument.documentElement,o=l.scrollLeft||s.scrollLeft,l.scrollTop||s.scrollTop):(a=l.getBoundingClientRect(),o=l.scrollLeft-a.left,l.scrollTop-a.top),r.left+=o,r.right+=o,r.top+=a,r.bottom+=a,r.width=1,0<(n=n.offsetWidth-n.clientWidth)&&(i&&(n*=-1),r.left+=n,r.right+=n),r=r,m(f).css("top",r.top),h=m('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(r).appendTo(l),e&&h.addClass("mce-visual-caret-before"),d=v.setInterval(function(){m("div.mce-visual-caret",l).toggleClass("mce-visual-caret-hidden")},500),(r=t.ownerDocument.createRange()).setStart(f,0),r.setEnd(f,0)):(f=p.insertInline(t,e),r=t.ownerDocument.createRange(),y(f.nextSibling)?(r.setStart(f,0),r.setEnd(f,0)):(r.setStart(f,1),r.setEnd(f,1))),r)},hide:u,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){v.clearInterval(d)}}}}),n("77",[],function(){function a(e){var t=e.getBoundingClientRect(),e=(n=e.ownerDocument).documentElement,n=n.defaultView;return{top:t.top+n.pageYOffset-e.clientTop,left:t.left+n.pageXOffset-e.clientLeft}}return{calc:function(e,t){return n=(o=e).inline?a(o.getBody()):{left:0,top:0},o=(i=e).getBody(),o=i.inline?{left:o.scrollLeft,top:o.scrollTop}:{left:0,top:0},{pageX:(t=function(e,t){if(t.target.ownerDocument===e.getDoc())return{left:t.pageX,top:t.pageY};var n,i,o=a(e.getContentAreaContainer()),r=(i=(n=e).getBody(),r=n.getDoc().documentElement,e={left:i.scrollLeft,top:i.scrollTop},r={left:i.scrollLeft||r.scrollLeft,top:i.scrollTop||r.scrollTop},n.inline?e:r);return{left:t.pageX-o.left+r.left,top:t.pageY-o.top+r.top}}(e,t)).left-n.left+o.left,pageY:t.top-n.top+o.top};var n,i,o}}}),n("6q",["1j","1g","1s","5","e","77"],function(e,s,l,t,u,h){function c(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function d(r,a){return function(e){var t,n,i,o;0===e.button&&(t=s.find(a.dom.getParents(e.target),l.or(m,g)),i=a.getBody(),m(o=t)&&o!==i&&(n=a.dom.getPos(t),o=a.getBody(),i=a.getDoc().documentElement,r.element=t,r.screenX=e.screenX,r.screenY=e.screenY,r.maxX=(a.inline?o.scrollWidth:i.offsetWidth)-2,r.maxY=(a.inline?o.scrollHeight:i.offsetHeight)-2,r.relX=e.pageX-n.x,r.relY=e.pageY-n.y,r.width=t.offsetWidth,r.height=t.offsetHeight,r.ghost=function(e,t,n,i){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:i}),e.dom.setAttrib(o,"data-mce-selected",null);t=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(t,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),t.appendChild(o),t}(a,t,r.width,r.height)))}}function f(c,u){var d=t.throttle(function(e,t){u._selectionOverrides.hideFakeCaret(),u.selection.placeCaretAt(e,t)},0);return function(e){var t,n,i,o,r,a,s,l=Math.max(Math.abs(e.screenX-c.screenX),Math.abs(e.screenY-c.screenY));if(c.element&&!c.dragging&&10<l){if(u.fire("dragstart",{target:c.element}).isDefaultPrevented())return;c.dragging=!0,u.focus()}c.dragging&&(a=c,i={pageX:(s=h.calc(u,e)).pageX-a.relX,pageY:s.pageY+5},o=c.ghost,r=u.getBody(),o.parentNode!==r&&r.appendChild(o),t=c.ghost,n=i,l=c.width,a=c.height,s=c.maxX,r=c.maxY,i=o=0,t.style.left=n.pageX+"px",t.style.top=n.pageY+"px",n.pageX+l>s&&(o=n.pageX+l-s),n.pageY+a>r&&(i=n.pageY+a-r),t.style.width=l-o+"px",t.style.height=a-i+"px",d(e.clientX,e.clientY))}}function p(r,a){return function(e){var t,n,i,o;!r.dragging||(i=function(e){e=e.getSel().getRangeAt(0).startContainer;return 3===e.nodeType?e.parentNode:e}((n=a).selection),o=r.element,i===o||n.dom.isChildOf(i,o)||m(i))||(t=function(e){e=e.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e}(r.element),(e=a.fire("drop",{targetClone:t,clientX:e.clientX,clientY:e.clientY})).isDefaultPrevented()||(t=e.targetClone,a.undoManager.transact(function(){c(r.element),a.insertContent(a.dom.getOuterHTML(t)),a._selectionOverrides.hideFakeCaret()}))),v(r)}}function i(e){var t,n,i,o={},r=u.DOM,a=document,s=d(o,e),l=f(o,e),c=p(o,e);n=o,t=function(){v(n),n.dragging&&i.fire("dragend")},(i=e).on("mousedown",s),e.on("mousemove",l),e.on("mouseup",c),r.bind(a,"mousemove",l),r.bind(a,"mouseup",t),e.on("remove",function(){r.unbind(a,"mousemove",l),r.unbind(a,"mouseup",t)})}var m=e.isContentEditableFalse,g=e.isContentEditableTrue,v=function(e){e.dragging=!1,e.element=null,c(e.ghost)};return{init:function(e){var n;i(e),(n=e).on("drop",function(e){var t=void 0!==e.clientX?n.getDoc().elementFromPoint(e.clientX,e.clientY):null;(m(t)||m(n.dom.getContentEditableParent(t)))&&e.preventDefault()})}}}),n("65",["1k","1n","59","4d","6o","6p","1j","6q","6","3y","6r","1g","5","1s","p"],function(w,k,C,_,T,S,e,D,A,M,E,N,P,t,I){var R=e.isContentEditableTrue,O=e.isContentEditableFalse,L=C.isAfterContentEditableFalse,B=C.isBeforeContentEditableFalse;return function(s){function r(e){e&&s.selection.setRng(e)}function t(){return s.selection.getRng()}function i(e,t){s.selection.scrollIntoView(e,t)}function l(e,t,n){return s.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(i(t,-1===e),v.show(n,t))}function c(e,t){return t=C.normalizeRange(e,g,t),-1==e?k.fromRangeStart(t):k.fromRangeEnd(t)}function n(e){return w.isCaretContainer(e)||w.startsWithCaretContainer(e)||w.endsWithCaretContainer(e)}function u(e){return n(e.startContainer)||n(e.endContainer)}function a(e,t){var n,i,o,r=s.$,a=s.dom;if(!e)return null;if(e.collapsed){if(!u(e))if(!1===t){if(o=c(-1,e),O(o.getNode(!0)))return l(-1,o.getNode(!0),!1);if(O(o.getNode()))return l(-1,o.getNode(),!o.isAtEnd())}else{if(o=c(1,e),O(o.getNode()))return l(1,o.getNode(),!o.isAtEnd());if(O(o.getNode(!0)))return l(1,o.getNode(!0),!1)}return null}return i=e.startContainer,t=e.startOffset,o=e.endOffset,3==i.nodeType&&0==t&&O(i.parentNode)&&(i=i.parentNode,t=a.nodeIndex(i),i=i.parentNode),1!=i.nodeType?null:(o==t+1&&(n=i.childNodes[t]),O(n)?(i=o=n.cloneNode(!0),(t=s.fire("ObjectSelected",{target:n,targetClone:i})).isDefaultPrevented()?null:(i=t.targetClone,0===(t=r("#"+y)).length&&(t=r('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",y)).appendTo(s.getBody()),e=s.dom.createRng(),i===o&&A.ie?(t.empty().append('<p style="font-size: 0" data-mce-bogus="all">Â </p>').append(i),e.setStartAfter(t[0].firstChild.firstChild),e.setEndAfter(i)):(t.empty().append("Â ").append(i).append("Â "),e.setStart(t[0].firstChild,1),e.setEnd(t[0].lastChild,0)),t.css({top:a.getPos(n,s.getBody()).y}),t[0].focus(),(t=s.selection.getSel()).removeAllRanges(),t.addRange(e),s.$("*[data-mce-selected]").removeAttr("data-mce-selected"),n.setAttribute("data-mce-selected",1),f=n,h(),e)):null)}function d(){f&&(f.removeAttribute("data-mce-selected"),s.$("#"+y).remove(),f=null)}function h(){v.hide()}var f,e,o,p,m,g=s.getBody(),v=new T(s.getBody(),function(e){return s.dom.isBlock(e)}),y="sel-"+s.dom.uniqueId();return A.ceFalse&&(s.on("mouseup",function(){var e=t();e.collapsed&&r(E.renderCaretAtRange(s,e))}),s.on("click",function(e){var t=b(e.target);t&&(O(t)&&(e.preventDefault(),s.focus()),R(t)&&s.dom.isChildOf(t,s.selection.getNode())&&d())}),s.on("blur NewBlock",function(){d(),h()}),m=!1,(p=s).on("touchstart",function(){m=!1}),p.on("touchmove",function(){m=!0}),p.on("touchend",function(e){var t=b(e.target);O(t)&&(m||(e.preventDefault(),a(E.selectNode(p,t))))}),s.on("mousedown",function(e){var t,n,i,o;(t=b(e.target))?O(t)?(e.preventDefault(),a(E.selectNode(s,t))):(d(),R(t)&&e.shiftKey||(n=e.clientX,i=e.clientY,!(o=s.selection.getRng()).collapsed&&N.reduce(o.getClientRects(),function(e,t){return e||M.containsXY(t,n,i)},!1))||s.selection.placeCaretAt(e.clientX,e.clientY)):(d(),h(),(o=S.closestCaret(g,e.clientX,e.clientY))&&(x(e.target,o.node)||(e.preventDefault(),s.getBody().focus(),r(l(1,o.node,o.before)))))}),s.on("keydown",function(e){var t;I.modifierPressed(e)||(e.keyCode,!O(s.selection.getNode())||112<=(t=e).keyCode&&t.keyCode<=123||e.preventDefault())}),s.on("getSelectionRange",function(e){var t=e.range;f&&(f.parentNode?((t=t.cloneRange()).selectNode(f),e.range=t):f=null)}),s.on("setSelectionRange",function(e){var t=a(e.range,e.forward);t&&(e.range=t)}),s.on("AfterSetSelectionRange",function(e){e=e.range;u(e)||h(),e=e.startContainer.parentNode,s.dom.hasClass(e,"mce-offscreen-selection")||d()}),s.on("focus",function(){P.setEditorTimeout(s,function(){s.selection.setRng(E.renderRangeCaret(s,s.selection.getRng()))},0)}),s.on("copy",function(e){var t,n=e.clipboardData;e.isDefaultPrevented()||!e.clipboardData||A.ie||(t=(t=s.dom.get(y))?t.getElementsByTagName("*")[0]:t)&&(e.preventDefault(),n.clearData(),n.setData("text/html",t.outerHTML),n.setData("text/plain",t.outerText))}),D.init(s),e=s.contentStyles,o=".mce-content-body",e.push(v.getCss()),e.push(o+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+o+" *[contentEditable=false] {cursor: default;}"+o+" *[contentEditable=true] {cursor: text;}")),{showCaret:l,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(w.showCaretContainerBlock(e),r(t()),i(e[0]))},hideFakeCaret:h,destroy:function(){v.destroy(),f=null}};function b(e){for(var t=s.getBody();e&&e!=t;){if(R(e)||O(e))return e;e=e.parentNode}return null}function x(e,t){var n=s.dom.getParent(e,s.dom.isBlock),e=s.dom.getParent(t,s.dom.isBlock);return n&&(t=n,e=e,!(s.dom.getParent(t,s.dom.isBlock)===s.dom.getParent(e,s.dom.isBlock)))&&function(e){var t=new _(e);if(!e.firstChild)return!1;e=k.before(e.firstChild),e=t.next(e);return e&&!B(e)&&!L(e)}(n)}}}),n("6s",["e"],function(o){return{create:function(e,t,n){for(var i=[];t&&t!=e;t=t.parentNode)i.push(o.nodeIndex(t,n));return i},resolve:function(e,t){for(var n,i=e,o=t.length-1;0<=o;o--){if(n=i.childNodes,t[o]>n.length-1)return null;i=n[t[o]]}return i}}}),n("66",["p","h","c","6s","i","d","6","9","5","1k","1n","4d"],function(O,L,e,t,B,H,z,j,F,W,$,U){return function(r){function e(e,t){try{r.getDoc().execCommand(e,!1,t)}catch(e){}}function t(){var e=r.getDoc().documentMode;return e||6}function a(e){return e.isDefaultPrevented()}function n(){r.shortcuts.add("meta+a",null,"SelectAll")}function i(){r.on("keydown",function(e){if(!a(e)&&e.keyCode===v&&r.getBody().getElementsByTagName("hr").length&&x.isCollapsed()&&0===x.getRng(!0).startOffset){var t=x.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return b.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(b.remove(n),e.preventDefault())}})}function o(){r.on("keydown",function(e){if(!a(e)&&e.keyCode===v&&x.isCollapsed()&&0===x.getRng(!0).startOffset){var t=x.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function s(){r.inline||(r.contentStyles.push("body {min-height: 150px}"),r.on("click",function(e){"HTML"==e.target.nodeName&&(11<z.ie?r.getBody().focus():(e=r.selection.getRng(),r.getBody().focus(),r.selection.setRng(e),r.selection.normalize(),r.nodeChanged()))}))}function l(){}function c(){function n(e){var t=new U(e.getBody()),n=e.selection.getRng(),i=$.fromRangeStart(n),o=$.fromRangeEnd(n),n=t.prev(i),o=t.next(o);return!e.selection.isCollapsed()&&(!n||n.isAtStart()&&i.isEqual(n))&&(!o||o.isAtEnd()&&i.isEqual(o))}r.on("keypress",function(e){!a(e)&&!x.isCollapsed()&&31<e.charCode&&!O.metaKeyPressed(e)&&n(r)&&(e.preventDefault(),r.setContent(String.fromCharCode(e.charCode)),r.selection.select(r.getBody(),!0),r.selection.collapse(!1),r.nodeChanged())}),r.on("keydown",function(e){var t=e.keyCode;a(e)||t!=y&&t!=v||n(r)&&(e.preventDefault(),r.setContent(""),r.nodeChanged())})}var u,d,h,f,p,m,g=j.each,v=O.BACKSPACE,y=O.DELETE,b=r.dom,x=r.selection,w=r.settings,k=r.parser,C=r.serializer,_=z.gecko,T=z.ie,S=z.webkit,D="data:text/mce-internal,",A=T?"Text":"URL";return r.on("keydown",function(e){var t,n,i,o;if(!a(e)&&e.keyCode==O.BACKSPACE&&(n=(t=x.getRng()).startContainer,e=t.startOffset,i=b.getRoot(),o=n,t.collapsed&&0===e)){for(;o&&o.parentNode&&o.parentNode.firstChild==o&&o.parentNode!=i;)o=o.parentNode;"BLOCKQUOTE"===o.tagName&&(r.formatter.toggle("blockquote",null,o),(t=b.createRng()).setStart(n,0),t.setEnd(n,0),x.setRng(t))}}),r.on("keydown",function(e){var t,n=e.keyCode;a(e)||n!=y&&n!=v||(t=r.selection.isCollapsed(),n=r.getBody(),t&&!b.isEmpty(n)||(t||function(e){if(e.setStart)return t=R(e),(e=b.createRng()).selectNode(r.getBody()),t===R(e);if(e.item)return;var t=e.duplicate();return t.moveToElementText(r.getBody()),L.compareRanges(e,t)}(r.selection.getRng()))&&(e.preventDefault(),r.setContent(""),n.firstChild&&b.isBlock(n.firstChild)?r.selection.setCursorLocation(n.firstChild,0):r.selection.setCursorLocation(n,0),r.nodeChanged()))}),z.windowsPhone||r.on("keyup focusin mouseup",function(e){65==e.keyCode&&O.metaKeyPressed(e)||x.normalize()},!0),S&&(c(),r.settings.content_editable||b.bind(r.getDoc(),"mousedown mouseup",function(e){var t;e.target==r.getDoc().documentElement&&(t=x.getRng(),r.getBody().focus(),"mousedown"==e.type?W.isCaretContainer(t.startContainer)||x.placeCaretAt(e.clientX,e.clientY):x.setRng(t))}),r.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==b.getContentEditableParent(t)&&(e.preventDefault(),r.selection.select(t),r.nodeChanged()),"A"==t.nodeName&&b.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),x.select(t))}),w.forced_root_block&&r.on("init",function(){e("DefaultParagraphSeparator",w.forced_root_block)}),r.on("init",function(){r.dom.bind(r.getBody(),"submit",function(e){e.preventDefault()})}),o(),k.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()}),z.iOS?(r.inline||r.on("keydown",function(){document.activeElement==document.body&&r.getWin().focus()}),s(),r.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),r.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):n()),T&&z.ie<11&&(i(),document.body.setAttribute("role","application"),7<t()||(e("RespectVisibilityInDesign",!0),r.contentStyles.push(".mceHideBrInPre pre br {display: none}"),b.addClass(r.getBody(),"mceHideBrInPre"),k.addNodeFilter("pre",function(e){for(var t,n,i,o,r=e.length;r--;)for(n=(t=e[r].getAll("br")).length;n--;)(o=(i=t[n]).prev)&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":i.parent.insert(new B("#text",3),i,!0).value="\n"}),C.addNodeFilter("pre",function(e){for(var t,n,i,o=e.length;o--;)for(n=(t=e[o].getAll("br")).length;n--;)(i=t[n].prev)&&3==i.type&&(i.value=i.value.replace(/\r?\n$/,""))})),b.bind(r.getBody(),"mouseup",function(){var e,t=x.getNode();"IMG"==t.nodeName&&((e=b.getStyle(t,"width"))&&(b.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),b.setStyle(t,"width","")),(e=b.getStyle(t,"height"))&&(b.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),b.setStyle(t,"height","")))}),r.on("keydown",function(e){var t;a(e)||e.keyCode!=v||(t=r.getDoc().selection.createRange())&&t.item&&(e.preventDefault(),r.undoManager.beforeChange(),b.remove(t.item(0)),r.undoManager.add())}),10<=t()&&(m="",g("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,t){m+=(0<t?",":"")+e+":empty"}),r.contentStyles.push(m+"{padding-right: 1px !important}")),t()<9&&(k.addNodeFilter("noscript",function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).firstChild)&&t.attr("data-mce-innertext",n.value)}),C.addNodeFilter("noscript",function(e){for(var t,n,i,o=e.length;o--;)t=e[o],(n=e[o].firstChild)?n.value=H.decode(n.value):(i=t.attributes.map["data-mce-innertext"])&&(t.attr("data-mce-innertext",null),(n=new B("#text",3)).value=i,n.raw=!0,t.append(n))})),f=b.doc,p=f.body,f.documentElement.unselectable=!0,b.bind(f,"mousedown contextmenu",function(e){"HTML"===e.target.nodeName&&(u&&I(),(h=f.documentElement).scrollHeight>h.clientHeight||(u=1,(d=N(e.x,e.y))&&(b.bind(f,"mouseup",I),b.bind(f,"mousemove",P),b.getRoot().focus(),d.select())))})),11<=z.ie&&(s(),o()),z.ie&&(n(),e("AutoUrlDetect",!1),r.on("dragstart",function(e){var t;(t=e).dataTransfer&&(r.selection.isCollapsed()&&"IMG"==t.target.tagName&&x.select(t.target),0<(e=r.selection.getContent()).length&&(e=D+escape(r.id)+","+escape(e),t.dataTransfer.setData(A,e)))}),r.on("drop",function(e){var t,n;a(e)||(n=(t=e).dataTransfer&&((n=t.dataTransfer.getData(A))&&0<=n.indexOf(D))?(n=n.substr(D.length).split(","),{id:unescape(n[0]),html:unescape(n[1])}):null)&&n.id!=r.id&&(e.preventDefault(),e=L.getCaretRangeFromPoint(e.x,e.y,r.getDoc()),x.setRng(e),e=n.html,n=!0,r.queryCommandSupported("mceInsertClipboardContent")?r.execCommand("mceInsertClipboardContent",!1,{content:e,internal:n}):r.execCommand("mceInsertContent",!1,e))})),_&&(c(),i(),window.Range.prototype.getClientRects||r.on("mousedown",function(e){var t;a(e)||"HTML"!==e.target.nodeName||((t=r.getBody()).blur(),F.setEditorTimeout(r,function(){t.focus()}))}),r.on("keypress",function(e){var t;if(!a(e)&&(8==e.keyCode||46==e.keyCode)&&E())return t=M(),r.getDoc().execCommand("delete",!1,null),t(),e.preventDefault(),!1}),b.bind(r.getDoc(),"cut",function(e){var t;!a(e)&&E()&&(t=M(),F.setEditorTimeout(r,function(){t()}))}),w.readonly||r.on("BeforeExecCommand MouseDown",function(){e("StyleWithCSS",!1),e("enableInlineTableEditing",!1),w.object_resizing||e("enableObjectResizing",!1)}),r.on("SetContent ExecCommand",function(e){"setcontent"!=e.type&&"mceInsertLink"!==e.command||g(b.select("a"),function(e){var t=e.parentNode,n=b.getRoot();if(t.lastChild===e){for(;t&&!b.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}b.add(t,"br",{"data-mce-bogus":1})}})}),r.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),z.mac&&r.on("keydown",function(e){!O.metaKeyPressed(e)||e.shiftKey||37!=e.keyCode&&39!=e.keyCode||(e.preventDefault(),r.selection.getSel().modify("move",37==e.keyCode?"backward":"forward","lineboundary"))}),o()),{refreshContentEditable:l,isHidden:function(){var e;return!_||r.removed?0:!(e=r.selection.getSel())||!e.rangeCount||0===e.rangeCount}};function M(){var e=b.getAttribs(x.getStart().cloneNode(!1));return function(){var t=x.getStart();t!==r.getBody()&&(b.setAttrib(t,"style",null),g(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function E(){return!x.isCollapsed()&&b.getParent(x.getStart(),b.isBlock)!=b.getParent(x.getEnd(),b.isBlock)}function N(e,t){var n=p.createTextRange();try{n.moveToPoint(e,t)}catch(e){n=null}return n}function P(e){e.button?(e=N(e.x,e.y))&&(0<e.compareEndPoints("StartToStart",d)?e.setEndPoint("StartToStart",d):e.setEndPoint("EndToEnd",d),e.select()):I()}function I(){var e=f.selection.createRange();d&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&d.select(),b.unbind(f,"mouseup",I),b.unbind(f,"mousemove",P),d=u=0}function R(e){var t=b.create("body"),e=e.cloneContents();return t.appendChild(e),x.serializer.serialize(t,{format:"html"})}}}),n("5i",["1y","4k","60","e","s","o","61","26","62","t","l","i","j","63","64","65","u","5","66","9"],function(a,l,c,u,d,h,f,p,m,g,v,y,b,x,w,k,C,n,_,T){function S(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(t=e).settings.auto_focus&&n.setEditorTimeout(t,function(){var e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus);e.destroyed||e.focus()},100)}var D=u.DOM;return{initContentBody:function(t,e){var n,s,i=t.settings,o=t.getElement(),r=t.getDoc();i.inline||(t.getElement().style.visibility=t.orgVisibility),e||i.content_editable||(r.open(),r.write(t.iframeHTML),r.close()),i.content_editable&&(t.on("remove",function(){var e=this.getBody();D.removeClass(e,"mce-content-body"),D.removeClass(e,"mce-edit-focus"),D.setAttrib(e,"contentEditable",null)}),D.addClass(o,"mce-content-body"),t.contentDocument=r=i.content_document||a,t.contentWindow=i.content_window||l,t.bodyElement=o,i.content_document=i.content_window=null,i.root_name=o.nodeName.toLowerCase()),(e=t.getBody()).disabled=!0,t.readonly=i.readonly,t.readonly||(t.inline&&"static"===D.getStyle(e,"position",!0)&&(e.style.position="relative"),e.contentEditable=t.getParam("content_editable_state",!0)),e.disabled=!1,t.editorUpload=new f(t),t.schema=new b(i),t.dom=new u(r,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:i.force_hex_style_colors,class_filter:i.class_filter,update_styles:!0,root_element:t.inline?t.getBody():null,collect:i.content_editable,schema:t.schema,onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=((o=new v((s=t).settings,s.schema)).addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,i,o,r=e.length,a=s.dom;r--;)if(i=(n=e[r]).attr(t),o="data-mce-"+t,!n.attributes.map[o]){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===t?((i=a.serializeStyle(a.parseStyle(i),n.name)).length||(i=null),n.attr(o,i),n.attr(t,i)):"tabindex"===t?(n.attr(o,i),n.attr(t,null)):n.attr(o,s.convertURL(i,t,n.name))}}),o.addNodeFilter("script",function(e){for(var t,n,i=e.length;i--;)0!==(n=(t=e[i]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)}),o.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),o.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,i=s.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(i)&&0===t.getAll("br").length&&(t.append(new y("br",1)).shortEnded=!0)}),o),t.serializer=new h(i,t),t.selection=new d(t.dom,t.getWin(),t.serializer,t),t.formatter=new g(t),t.undoManager=new C(t),t._nodeChangeDispatcher=new w(t),t._selectionOverrides=new k(t),c.setup(t),x.setup(t),m.setup(t),t.fire("PreInit"),i.browser_spellcheck||i.gecko_spellcheck||(r.body.spellcheck=!1,D.setAttrib(e,"spellcheck","false")),t.quirks=new _(t),t.fire("PostRender"),i.directionality&&(e.dir=i.directionality),i.nowrap&&(e.style.whiteSpace="nowrap"),i.protect&&t.on("BeforeSetContent",function(t){T.each(i.protect,function(e){t.content=t.content.replace(e,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),i.padd_empty_editor&&t.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type}),0<t.contentStyles.length&&(n="",T.each(t.contentStyles,function(e){n+=e+"\r\n"}),t.dom.addStyle(n)),t.dom.styleSheetLoader.loadAll(t.contentCSS,function(e){S(t)},function(e){S(t),p.contentCssError(t,e)})}}}),n("4m",["g"],function(e){return e.PluginManager}),n("4n",["g"],function(e){return e.ThemeManager}),n("4l",["1y","4k","e","6","5i","4m","4n","9","25"],function(a,s,e,l,d,r,h,f,c){function p(e,t){var n,i=e.settings;e.iframeHTML=i.doctype+"<html><head>",i.document_base_url!=e.documentBaseUrl&&(e.iframeHTML+='<base href="'+e.documentBaseURI.getURI()+'" />'),!l.caretAfter&&i.ie7_compat&&(e.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),e.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',-1!=(n=i.body_id||"tinymce").indexOf("=")&&(n=(n=e.getParam("body_id","","hash"))[e.id]||n),-1!=(r=i.body_class||"").indexOf("=")&&(r=(r=e.getParam("body_class","","hash"))[e.id]||""),i.content_security_policy&&(e.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+i.content_security_policy+'" />'),e.iframeHTML+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'"><br></body></html>';var o=m.create("iframe",{id:e.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:t.height,display:"block"}});o.onload=function(){o.onload=null,e.fire("load")};var r=function(e,t){if(a.domain!==s.location.hostname&&l.ie&&l.ie<12){var n=c.uuid("mce");e[n]=function(){d.initContentBody(e)};n='javascript:(function(){document.open();document.domain="'+a.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return m.setAttrib(t,"src",n),!0}return!1}(e,o);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=o,m.add(t.iframeContainer,o),r}var m=e.DOM,g=function(t,n,e){var i=r.get(e),o=r.urls[e]||t.documentBaseUrl.replace(/\/$/,"");e=f.trim(e),i&&-1===f.inArray(n,e)&&(f.each(r.dependencies(e),function(e){g(t,n,e)}),t.plugins[e]||(i=new i(t,o,t.$),(t.plugins[e]=i).init&&(i.init(t,o),n.push(e))))};return{init:function(t){var e,n,i,o,r,a,s,l,c=t.settings,u=t.getElement();if(t.rtl=c.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(c.language),c.aria_label=c.aria_label||m.getAttrib(u,"aria-label",t.getLang("aria.rich_text_area")),t.fire("ScriptsLoaded"),(l=(a=t).settings).theme&&("function"!=typeof l.theme?(l.theme=l.theme.replace(/-/,""),s=h.get(l.theme),a.theme=new s(a,h.urls[l.theme]),a.theme.init&&a.theme.init(a,h.urls[l.theme]||a.documentBaseUrl.replace(/\/$/,""),a.$)):a.theme=l.theme),o=t,r=[],f.each(o.settings.plugins.replace(/\-/g,"").split(/[ ,]/),function(e){g(o,r,e)}),u=(e=t).settings,s=e.getElement(),u.render_ui&&e.theme&&(e.orgDisplay=s.style.display,"function"!=typeof u.theme?(i=u.width||m.getStyle(s,"width")||"100%",n=u.height||m.getStyle(s,"height")||s.offsetHeight,a=u.min_height||100,(l=/^[0-9\.]+(|px)$/i).test(""+i)&&(i=Math.max(parseInt(i,10),100)),l.test(""+n)&&(n=Math.max(parseInt(n,10),a)),i=e.theme.renderUI({targetNode:s,width:i,height:n,deltaWidth:u.delta_width,deltaHeight:u.delta_height}),u.content_editable||(n=(i.iframeHeight||n)+("number"==typeof n?i.deltaHeight||0:""))<a&&(n=a)):((i=u.theme(e,s)).editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),n=i.iframeHeight||s.offsetHeight),e.editorContainer=i.editorContainer,i.height=n),i=i,c.content_css&&f.each(f.explode(c.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))}),c.content_style&&t.contentStyles.push(c.content_style),c.content_editable)return d.initContentBody(t);c=p(t,i);i.editorContainer&&(m.get(i.editorContainer).style.display=t.orgDisplay,t.hidden=m.isHidden(i.editorContainer)),t.getElement().style.display="none",m.setAttrib(t.id,"aria-hidden",!0),c||d.initContentBody(t)}}}),n("22",["4k","e","7","f","6","26","4l","11","4m","4n","9","10"],function(s,e,l,c,u,d,h,f,p,m,g,v){var y=e.DOM;return{render:function(t){var e,n,i,o,r=t.settings,a=t.id;l.Event.domLoaded?t.getElement()&&u.contentEditable&&(r.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden"),(e=t.getElement().form||y.getParent(a,"form"))&&(t.formElement=e,r.hidden_input&&!/TEXTAREA|INPUT/i.test(t.getElement().nodeName)&&(y.insertAfter(y.create("input",{type:"hidden",name:a}),a),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},y.bind(e,"submit reset",t.formEventDelegate),t.on("reset",function(){t.setContent(t.startContent,{format:"raw"})}),!r.submit_patch||e.submit.nodeType||e.submit.length||e._mceOldSubmit||(e._mceOldSubmit=e.submit,e.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),e._mceOldSubmit(e)})),t.windowManager=new v(t),t.notificationManager=new f(t),"xml"===r.encoding&&t.on("GetContent",function(e){e.save&&(e.content=y.encode(e.content))}),r.add_form_submit_trigger&&t.on("submit",function(){t.initialized&&t.save()}),r.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),i=(n=t).suffix,o=n.settings,a=c.ScriptLoader,o.language&&"en"!=o.language&&!o.language_url&&(o.language_url=n.editorManager.baseURL+"/langs/"+o.language+".js"),o.language_url&&a.add(o.language_url),o.theme&&"function"!=typeof o.theme&&"-"!=o.theme.charAt(0)&&!m.urls[o.theme]&&(r=(r=o.theme_url)?n.documentBaseURI.toAbsolute(r):"themes/"+o.theme+"/theme"+i+".js",m.load(o.theme,r)),g.isArray(o.plugins)&&(o.plugins=o.plugins.join(" ")),g.each(o.external_plugins,function(e,t){p.load(t,e),o.plugins+=" "+t}),g.each(o.plugins.split(/[ ,]/),function(e){var t;(e=g.trim(e))&&!p.urls[e]&&("-"===e.charAt(0)?(e=e.substr(1,e.length),t=p.dependencies(e),g.each(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+i+".js"};e=p.createUrl(t,e),p.load(e.resource,e)})):p.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+i+".js"}))}),a.loadQueue(function(){n.removed||h.init(n)},n,function(e){d.pluginLoadError(n,e[0]),n.removed||h.init(n)})):y.bind(s,"ready",function e(){y.unbind(s,"ready",e),t.render()})}}}),n("23",[],function(){function r(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}}function i(e,t){var n,i,o;e._clickBlocker&&(e._clickBlocker.unbind(),e._clickBlocker=null),t?(e._clickBlocker=(i=(n=e).getBody(),o=function(e){0<n.dom.getParents(e.target,"a").length&&e.preventDefault()},n.dom.bind(i,"click",o),{unbind:function(){n.dom.unbind(i,"click",o)}}),e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable=!1):(e.readonly=!1,e.getBody().contentEditable=!0,r(e,"StyleWithCSS",!1),r(e,"enableInlineTableEditing",!1),r(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())}return{setMode:function(e,t){var n=e.readonly?"readonly":"design";t!=n&&(e.initialized?i(e,"readonly"==t):e.on("init",function(){i(e,"readonly"==t)}),e.fire("SwitchMode",{mode:t}))}}}),n("24",[],function(){return{add:function(e,t,n){var i=e.sidebars?e.sidebars:[];i.push({name:t,settings:n}),e.sidebars=i}}}),n("14",["g","a","e","v","12","6","n","22","23","13","24","9","w","25"],function(s,l,e,c,t,u,a,n,i,d,o,r,h,f){function p(e,t,n){var i=this,o=i.documentBaseUrl=n.documentBaseURL,r=n.baseURI,a=n.defaultSettings;t=g({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:i.convertURL,url_converter_scope:i,ie7_compat:!0},a,t),a&&a.external_plugins&&t.external_plugins&&(t.external_plugins=g({},a.external_plugins,t.external_plugins)),i.settings=t,s.language=t.language||"en",s.languageLoad=t.language_load,s.baseURL=n.baseURL,i.id=t.id=e,i.setDirty(!1),i.plugins={},i.documentBaseURI=new h(t.document_base_url||o,{base_uri:r}),i.baseURI=r,i.contentCSS=[],i.contentStyles=[],i.shortcuts=new d(i),i.loadedCSS={},i.editorCommands=new c(i),i.suffix=n.suffix,i.editorManager=n,i.inline=t.inline,i.settings.content_editable=i.inline,t.cache_suffix&&(u.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(u.overrideViewPort=!1),n.fire("SetupEditor",i),i.execCallback("setup",i),i.$=l.overrideDefaults(function(){return{context:i.inline?i.getBody():i.getDoc(),element:i.getBody()}})}var m=e.DOM,g=r.extend,v=r.each,y=r.trim,b=r.resolve,x=u.gecko,w=u.ie;return p.prototype={render:function(){n.render(this)},focus:function(e){var t,n,i,o,r=this,a=r.selection,s=r.settings.content_editable,l=r.getDoc(),c=r.getBody();if(!r.removed){if(!e){if((t=a.getRng()).item&&(n=t.item(0)),r.quirks.refreshContentEditable(),o=a.getNode(),i=r.dom.getParent(o,function(e){return"true"===r.dom.getContentEditable(e)}),r.$.contains(c,i))return i.focus(),a.normalize(),void r.editorManager.setActive(r);if(s||(u.opera||r.getBody().focus(),r.getWin().focus()),x||s){if(c.setActive)try{c.setActive()}catch(e){c.focus()}else c.focus();s&&a.normalize()}n&&n.ownerDocument==l&&((t=l.body.createControlRange()).addElement(n),t.select())}r.editorManager.setActive(r)}},execCallback:function(e){var t,n=this.settings[e];if(n)return this.callbackLookup&&(t=this.callbackLookup[e])&&(n=t.func,t=t.scope),"string"==typeof n&&(t=(t=n.replace(/\.\w+$/,""))?b(t):0,n=b(n),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:n,scope:t}),n.apply(t||this,Array.prototype.slice.call(arguments,1))},translate:function(e){var n=this.settings.language||"en",i=this.editorManager.i18n;return e?(e=i.data[n+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,t){return i.data[n+"."+t]||"{#"+t+"}"}),this.editorManager.translate(e)):""},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){var i,t=e in this.settings?this.settings[e]:t;return"hash"===n?(i={},"string"==typeof t?v(0<t.indexOf("=")?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),function(e){1<(e=e.split("=")).length?i[y(e[0])]=y(e[1]):i[y(e[0])]=y(e)}):i=t,i):t},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return o.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return i.dom.is(e,n)}),i.contextToolbars.push({id:f.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(m.show(this.getContainer()),m.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(w&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(m.hide(e.getContainer()),m.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this.getElement();return this.removed?"":n?((e=e||{}).load=!0,t=this.setContent(void 0!==n.value?n.value:n.innerHTML,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t):void 0},save:function(e){var t,n,i=this,o=i.getElement();if(o&&i.initialized&&!i.removed)return(e=e||{}).save=!0,e.element=o,e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),"raw"==e.format&&i.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(o.nodeName)?o.value=t:(i.inline||(o.innerHTML=t),(n=m.getParent(i.id,"form"))&&v(n.elements,function(e){if(e.name==i.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&i.setDirty(!1),t},setContent:function(e,t){var n,i,o=this,r=o.getBody();return(t=t||{}).format=t.format||"html",t.set=!0,t.content=e,t.no_events||o.fire("BeforeSetContent",t),0===(e=t.content).length||/^\s+$/.test(e)?(i=w&&w<11?"":'<br data-mce-bogus="1">',"TABLE"==r.nodeName?e="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(e="<li>"+i+"</li>"),(n=o.settings.forced_root_block)&&o.schema.isValidChild(r.nodeName.toLowerCase(),n.toLowerCase())?(e=i,e=o.dom.createHTML(n,o.settings.forced_root_block_attrs,e)):w||e||(e='<br data-mce-bogus="1">'),o.dom.setHTML(r,e),o.fire("SetContent",t)):("raw"!==t.format&&(e=new a({validate:o.validate},o.schema).serialize(o.parser.parse(e,{isRootContent:!0}))),t.content=y(e),o.dom.setHTML(r,t.content),t.no_events||o.fire("SetContent",t)),t.content},getContent:function(e){var t=this.getBody();return this.removed?"":((e=e||{}).format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||this.fire("BeforeGetContent",e),t="raw"==e.format?r.trim(this.serializer.getTrimmedContent()):"text"==e.format?t.innerText||t.textContent:this.serializer.serialize(t,e),"text"!=e.format?e.content=y(t):e.content=t,e.no_events||this.fire("GetContent",e),e.content)},insertContent:function(e,t){t&&(e=g({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire("dirty")},setMode:function(e){i.setMode(this,e)},getContainer:function(){return this.container||(this.container=m.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=m.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var i=this.settings;return i.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var n,i=this,o=i.settings,r=i.dom;e=e||i.getBody(),void 0===i.hasVisual&&(i.hasVisual=o.visual),v(r.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=o.visual_table_class||"mce-item-table",void((t=r.getAttrib(e,"border"))&&"0"!=t||!i.hasVisual?r.removeClass(e,n):r.addClass(e,n));case"A":return void(r.getAttrib(e,"href",!1)||(t=r.getAttrib(e,"name")||e.id,n=o.visual_anchor_class||"mce-item-anchor",t&&i.hasVisual?r.addClass(e,n):r.removeClass(e,n)))}}),i.fire("VisualAid",{element:e,hasVisual:i.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&m.remove(e.getElement().nextSibling),e.inline||(w&&w<10&&e.getDoc().execCommand("SelectAll",!1,null),m.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),m.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t=this;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),t.selection.destroy(),t.dom.destroy()),(e=t.formElement)&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),m.unbind(e,"submit reset",t.formEventDelegate)),t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null),t.destroyed=1):t.remove())},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},g(p.prototype,t),p}),n("15",["9"],function(a){"use strict";var s={},l="en";return{setCode:function(e){e&&(l=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return l},rtl:!1,add:function(e,t){var n,i=s[e];for(n in i||(s[e]=i={}),t)i[n]=t[n];this.setCode(e)},translate:function(e){function n(e){return a.is(e,"function")?Object.prototype.toString.call(e):t(e)?"":""+e}function t(e){return""===e||null===e||a.is(e,"undefined")}function i(e){return e=n(e),a.hasOwn(r,e)?n(r[e]):e}var o,r=s[l]||{};return t(e)?"":a.is(e,"object")&&a.hasOwn(e,"raw")?n(e.raw):(a.is(e,"array")&&(o=e.slice(1),e=i(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return a.hasOwn(o,t)?n(o[t]):e})),i(e).replace(/{context:\w+}$/,""))},data:s}}),n("16",["e","5","6"],function(e,t,i){function o(r){function n(){try{return document.activeElement}catch(e){return document.body}}r.on("AddEditor",function(e){var o=e.editor;o.on("init",function(){(o.inline||i.ie)&&("onbeforedeactivate"in document&&i.ie<9?o.dom.bind(o.getBody(),"beforedeactivate",function(e){if(e.target==o.getBody())try{o.lastRng=o.selection.getRng()}catch(e){}}):o.on("nodechange mouseup keyup",function(e){var t=n();"nodechange"==e.type&&e.selectionChange||(t&&t.id==o.id+"_ifr"&&(t=o.getBody()),o.dom.isChildOf(t,o.getBody())&&(o.lastRng=o.selection.getRng()))}),i.webkit&&!a&&(a=function(){var e=r.activeEditor;e&&e.selection&&((e=e.selection.getRng())&&!e.collapsed&&(o.lastRng=e))},c.bind(document,"selectionchange",a)))}),o.on("setcontent",function(){o.lastRng=null}),o.on("mousedown",function(){o.selection.lastFocusBookmark=null}),o.on("focusin",function(){var e,t,n,i=r.focusedEditor;o.selection.lastFocusBookmark&&((t=(e=o).selection.lastFocusBookmark).startContainer?((n=e.getDoc().createRange()).setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n=n,o.selection.lastFocusBookmark=null,o.selection.setRng(n)),i!=o&&(i&&i.fire("blur",{focusedEditor:o}),r.setActive(o),(r.focusedEditor=o).fire("focus",{blurredEditor:i}),o.focus(!0)),o.lastRng=null}),o.on("focusout",function(){t.setEditorTimeout(o,function(){var e=r.focusedEditor;u(o,n())||e!=o||(o.fire("blur",{focusedEditor:null}),r.focusedEditor=null,o.selection&&(o.selection.lastFocusBookmark=null))})}),s||(s=function(e){var t,n=r.activeEditor,i=e.target;n&&i.ownerDocument===document&&(n.selection&&i!==n.getBody()&&d(o,i)&&(n.selection.lastFocusBookmark=(t=n.dom,(e=n.lastRng)&&e.startContainer?t.isChildOf(e.startContainer,t.getRoot())&&t.isChildOf(e.endContainer,t.getRoot())?{startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset}:void 0:e)),i===document.body||u(n,i)||r.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),r.focusedEditor=null))},c.bind(document,"focusin",s)),o.inline&&!l&&(l=function(e){var t=r.activeEditor,n=t.dom;t.inline&&n&&!n.isChildOf(e.target,t.getBody())&&((e=t.selection.getRng()).collapsed||(t.lastRng=e))},c.bind(document,"mouseup",l))}),r.on("RemoveEditor",function(e){r.focusedEditor==e.editor&&(r.focusedEditor=null),r.activeEditor||(c.unbind(document,"selectionchange",a),c.unbind(document,"focusin",s),c.unbind(document,"mouseup",l),a=s=l=null)})}var a,s,l,c=e.DOM,u=function(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==c.getParent(e,function(e){return o.isEditorUIElement(e)||!!n&&t.dom.is(e,n)})},d=function(e,t){return!0===e.inline==!1||!1===e.dom.isChildOf(t,e.getBody())};return o.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf("mce-")},o._isUIElement=u,o}),n("27",["9"],function(e){var s=e.each,l=e.explode;return{register:function(e){e.on("AddEditor",function(e){var a=e.editor;a.on("preInit",function(){function n(n,e){s(e,function(){}),o.rename(n,"span")}var t,i,o,r=a.settings;r.inline_styles&&(i=l(r.font_size_legacy_values),t={font:function(e,t){n(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:i[parseInt(t.size,10)-1]})},u:function(e,t){"html4"===a.settings.schema&&n(t,{textDecoration:"underline"})},strike:function(e,t){n(t,{textDecoration:"line-through"})}},a.on("PreProcess SetContent",function(e){o=a.dom,r.convert_fonts_to_spans&&s(o.select("font,u,strike",e.node),function(e){t[e.nodeName.toLowerCase()](o,e)})}))})})}}}),n("17",["g","a","e","14","6","26","16","27","15","z","4","9","w"],function(o,h,e,f,p,m,l,t,n,i,r,g,c){function a(t){x(C.editors,function(e){"scroll"===t.type?e.fire("ScrollWindow",t):e.fire("ResizeWindow",t)})}function s(e,t){t!==d&&(t?h(window).on("resize scroll",a):h(window).off("resize scroll",a),d=t)}function v(e){var t,n=C.editors;delete n[e.id];for(var i=0;i<n.length;i++)if(n[i]==e){n.splice(i,1),t=!0;break}return C.activeEditor==e&&(C.activeEditor=n[0]),C.focusedEditor==e&&(C.focusedEditor=null),t}var u,y=e.DOM,b=g.explode,x=g.each,w=g.extend,k=0,d=!1,C={$:h,majorVersion:"4",minorVersion:"6.2",releaseDate:"2017-05-23",editors:[],i18n:n,activeEditor:null,setup:function(){var e,t,n,i="",o=c.getDocumentBaseUrl(document.location);if(/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/")),t=window.tinymce||window.tinyMCEPreInit)e=t.base||t.baseURL,i=t.suffix;else{for(var r=document.getElementsByTagName("script"),a=0;a<r.length;a++){var s=(n=r[a].src).substring(n.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(n)){-1!=s.indexOf(".min")&&(i=".min"),e=n.substring(0,n.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!=(n=document.currentScript.src).indexOf(".min")&&(i=".min"),e=n.substring(0,n.lastIndexOf("/")))}this.baseURL=new c(o).toAbsolute(e),this.documentBaseURL=o,this.baseURI=new c(this.baseURL),this.suffix=i,this.focusManager=new l(this)},overrideDefaults:function(e){var t=e.base_url;t&&(this.baseURL=new c(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new c(this.baseURL)),t=e.suffix,e.suffix&&(this.suffix=t);var n,i=(this.defaultSettings=e).plugin_base_urls;for(n in i)o.PluginManager.urls[n]=i[n]},init:function(a){function s(e){var t=e.id;return t||(t=(t=e.name)&&!y.get(t)?e.name:y.uniqueId(),e.setAttribute("id",t)),t}function l(e,t){return t.constructor===RegExp?t.test(e.className):y.hasClass(e,t)}var n,c=this,u=g.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," "),d=function(e){n=e};return c.settings=a,y.bind(window,"ready",function e(){function n(e,t,n){t=new f(e,t,c),r.push(t),t.on("init",function(){++o===i.length&&d(r)}),t.targetElm=t.targetElm||n,t.render()}var i,o=0,r=[];return y.unbind(window,"ready",e),function(e){var t=a[e];t&&t.apply(c,Array.prototype.slice.call(arguments,2))}("onpageload"),i=h.unique(function(t){var e,n=[];if(p.ie&&p.ie<11)return m.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(t.types)return x(t.types,function(e){n=n.concat(y.select(e.selector))}),n;if(t.selector)return y.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":0<(e=t.elements||"").length&&x(b(e),function(t){var e;(e=y.get(t))?n.push(e):x(document.forms,function(e){x(e.elements,function(e){e.name===t&&(t="mce_editor_"+k++,y.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":x(y.select("textarea"),function(e){t.editor_deselector&&l(e,t.editor_deselector)||t.editor_selector&&!l(e,t.editor_selector)||n.push(e)})}return n}(a)),a.types?void x(a.types,function(t){g.each(i,function(e){return!y.is(e,t.selector)||(n(s(e),w({},a,t),e),!1)})}):(g.each(i,function(e){(e=c.get(e.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(v(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null)}),void(0===(i=g.grep(i,function(e){return!c.get(e.id)})).length?d([]):x(i,function(e){var t;t=e,a.inline&&t.tagName.toLowerCase()in u?m.initError("Could not initialize inline editor on invalid inline target element",e):n(s(e),a,e)})))}),new r(function(t){n?t(n):d=function(e){t(e)}})},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),s(0,!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),u||(u=function(){t.fire("BeforeUnload")},y.bind(window,"beforeunload",u)),e},createEditor:function(e,t){return this.add(new f(e,t,this))},remove:function(e){var t,n,i=this,o=i.editors;if(e)return"string"==typeof e?(e=e.selector||e,void x(y.select(e),function(e){(n=o[e.id])&&i.remove(n)})):o[(n=e).id]?(v(n)&&i.fire("RemoveEditor",{editor:n}),o.length||y.unbind(window,"beforeunload",u),n.remove(),s(0,0<o.length),n):null;for(t=o.length-1;0<=t;t--)i.remove(o[t])},execCommand:function(e,t,n){var i=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new f(n,this.settings,this).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?i.isHidden()?i.show():i.hide():this.execCommand("mceAddEditor",0,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){x(this.editors,function(e){e.save()})},addI18n:function(e,t){n.add(e,t)},translate:function(e){return n.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}};return w(C,i),C.setup(),t.register(C),C}),n("18",["z","9"],function(e,o){var r={send:function(e){function t(){!e.async||4==n.readyState||1e4<i++?(e.success&&i<1e4&&200==n.status?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,1e4<i?"TIMED_OUT":"GENERAL",n,e),n=null):setTimeout(t,10)}var n,i=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",r.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest){if(n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&o.each(e.requestheaders,function(e){n.setRequestHeader(e.key,e.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),(n=r.fire("beforeSend",{xhr:n,settings:e}).xhr).send(e.data),!e.async)return t();setTimeout(t,10)}}};return o.extend(r,e),r}),n("19",[],function(){return{serialize:function e(t,n){var i,o,r,a;if(n=n||'"',null===t)return"null";if("string"==(r=typeof t))return o="\bb\tt\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(i=o.indexOf(t))+1?"\\"+o.charAt(i+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+n;if("object"!=r)return""+t;if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(i=0,o="[";i<t.length;i++)o+=(0<i?",":"")+e(t[i],n);return o+"]"}for(a in o="{",t)t.hasOwnProperty(a)&&(o+="function"!=typeof t[a]?(1<o.length?","+n:n)+a+n+":"+e(t[a],n):"");return o+"}"},parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(e){}}}}),n("1a",["19","18","9"],function(r,e,t){function n(e){this.settings=a({},e),this.count=0}var a=t.extend;return n.sendRPC=function(e){return(new n).send(e)},n.prototype={send:function(n){var i=n.error,o=n.success;(n=a(this.settings,n)).success=function(e,t){void 0===(e=r.parse(e))&&(e={error:"JSON Parse error."}),e.error?i.call(n.error_scope||n.scope,e.error,t):o.call(n.success_scope||n.scope,e.result)},n.error=function(e,t){i&&i.call(n.error_scope||n.scope,e,t)},n.data=r.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",e.send(n)}},n}),n("1b",["e"],function(e){return{callbacks:{},count:0,send:function(t){var n=this,i=e.DOM,o=(void 0!==t.count?t:n).count,r="tinymce_jsonp_"+o;n.callbacks[o]=function(e){i.remove(r),delete n.callbacks[o],t.callback(e)},i.add(i.doc.body,"script",{id:r,src:t.url,type:"text/javascript"}),n.count++}}}),n("1c",[],function(){function r(){for(var e in i=[],s)i.push(e);t.length=i.length}function n(){var e,t="";if(c){for(var n in s)e=s[n],t+=(t?",":"")+n.length.toString(32)+","+n+","+e.length.toString(32)+","+e;a.setAttribute(l,t);try{a.save(l)}catch(e){}r()}}var t,a,s,i,l,c;try{if(window.localStorage)return localStorage}catch(r){}return l="tinymce",a=document.documentElement,(c=!!a.addBehavior)&&a.addBehavior("#default#userData"),t={key:function(e){return i[e]},getItem:function(e){return e in s?s[e]:null},setItem:function(e,t){s[e]=""+t,n()},removeItem:function(e){delete s[e],n()},clear:function(){s={},n()}},function(){function e(e){var t=void 0!==e?i+e:n.indexOf(",",i);return-1===t||t>n.length?null:(e=n.substring(i,t),i=t+1,e)}var t,n,i=0;if(s={},c){a.load(l),n=a.getAttribute(l)||"";do{var o=e();if(null===o)break;if(null!==(t=e(parseInt(o,32)||0))){if(null===(o=e()))break;o=e(parseInt(o,32)||0),t&&(s[t]=o)}}while(null!==t);r()}}(),t}),n("1d",["e","7","f","g","9","6"],function(e,n,i,o,r,a){return{register:function(t){t.DOM=e.DOM,t.ScriptLoader=i.ScriptLoader,t.PluginManager=o.PluginManager,t.ThemeManager=o.ThemeManager,t.dom=t.dom||{},t.dom.Event=n.Event,r.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(e){t[e]=r[e]}),r.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){t[e]=a[e.substr(2).toLowerCase()]})}}}),n("1e",[],function(){var u=Math.min,d=Math.max,h=Math.round;return function(e){function t(e){var t;return"object"==typeof e?"r"in e?(s=e.r,l=e.g,c=e.b):"v"in e&&function(e,t,n){var i;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,n=parseInt(n,10)/100,t=d(0,u(t,1)),n=d(0,u(n,1)),0===t)return s=l=c=h(255*n);switch(i=e/60,t=(e=n*t)*(1-Math.abs(i%2-1)),n=n-e,Math.floor(i)){case 0:s=e,l=t,c=0;break;case 1:s=t,l=e,c=0;break;case 2:s=0,l=e,c=t;break;case 3:s=0,l=t,c=e;break;case 4:s=t,l=0,c=e;break;case 5:s=e,l=0,c=t;break;default:s=l=c=0}s=h(255*(s+n)),l=h(255*(l+n)),c=h(255*(c+n))}(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(s=parseInt(t[1],10),l=parseInt(t[2],10),c=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(s=parseInt(t[1],16),l=parseInt(t[2],16),c=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(s=parseInt(t[1]+t[1],16),l=parseInt(t[2]+t[2],16),c=parseInt(t[3]+t[3],16)),s=s<0?0:255<s?255:s,l=l<0?0:255<l?255:l,c=c<0?0:255<c?255:c,n}var n=this,s=0,l=0,c=0;e&&t(e),n.toRgb=function(){return{r:s,g:l,b:c}},n.toHsv=function(){return e=s,t=l,n=c,a=0,(i=u(e/=255,u(t/=255,n/=255)))==(o=d(e,d(t,n)))?{h:0,s:0,v:100*(a=i)}:(r=(o-i)/o,{h:h(60*((e==i?3:n==i?1:5)-(e==i?t-n:n==i?e-t:n-e)/((a=o)-i))),s:h(100*r),v:h(100*a)});var e,t,n,i,o,r,a},n.toHex=function(){function e(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+e(s)+e(l)+e(c)},n.parse=t}}),n("2o",["x","9"],function(e,t){"use strict";return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,i=this.settings,o=i.firstControlClass,r=i.lastControlClass;e.each(function(e){e.classes.remove(o).remove(r).add(i.controlClass),e.visible()&&(t=t||e,n=e)}),t&&t.classes.add(o),n&&n.classes.add(r)},renderHtml:function(e){var t="";return this.applyClasses(e.items()),e.items().each(function(e){t+=e.renderHtml()}),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),n("2p",["2o"],function(e){"use strict";return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),n("2q",["2m"],function(e){"use strict";return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e=this.getEl().firstChild;e&&((e=e.style).width=e.height="100%"),this._super()},renderHtml:function(){var e=this._id,t=this.classPrefix,n=this.state.get("icon"),i=this.state.get("text"),o="",r=this.settings.image;return r=r?(n="none","string"!=typeof r&&(r=window.getSelection?r[0]:r[1])," style=\"background-image: url('"+r+"')\""):"",i&&(this.classes.add("btn-has-text"),o='<span class="'+t+'txt">'+this.encode(i)+"</span>"),n=n?t+"ico "+t+"i-"+n:"",'<div id="'+e+'" class="'+this.classes+'" tabindex="-1"><button role="presentation" type="button" tabindex="-1">'+(n?'<i class="'+n+'"'+r+"></i>":"")+o+"</button></div>"},bindStates:function(){function i(e){var t=n("span."+r,o.getEl());e?(t[0]||(n("button:first",o.getEl()).append('<span class="'+r+'"></span>'),t=n("span."+r,o.getEl())),t.html(o.encode(e))):t.remove(),o.classes.toggle("btn-has-text",!!e)}var o=this,n=o.$,r=o.classPrefix+"txt";return o.state.on("change:text",function(e){i(e.value)}),o.state.on("change:icon",function(e){var t=e.value,n=o.classPrefix,t=(o.settings.icon=t)?n+"ico "+n+"i-"+o.settings.icon:"",e=o.getEl().firstChild,n=e.getElementsByTagName("i")[0];t?(n&&n==e.firstChild||(n=document.createElement("i"),e.insertBefore(n,e.firstChild)),n.className=t):n&&e.removeChild(n),i(o.state.get("text"))}),o._super()}})}),n("2r",["2e"],function(e){"use strict";return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this._layout;return this.classes.add("btn-group"),this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"}})}),n("2s",["2m"],function(e){"use strict";return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+t+"ico "+t+'i-checkbox"></i><span id="'+e+'-al" class="'+t+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){function t(e){i.classes.toggle("checked",e),i.aria("checked",e)}var i=this;return i.state.on("change:text",function(e){i.getEl("al").firstChild.data=i.translate(e.value)}),i.state.on("change:checked change:value",function(e){i.fire("change"),t(e.value)}),i.state.on("change:icon",function(e){var t=e.value,n=i.classPrefix;if(void 0===t)return i.settings.icon;t=(i.settings.icon=t)?n+"ico "+n+"i-"+i.settings.icon:"";e=i.getEl().firstChild,n=e.getElementsByTagName("i")[0];t?(n&&n==e.firstChild||(n=document.createElement("i"),e.insertBefore(n,e.firstChild)),n.className=t):n&&e.removeChild(n)}),i.state.get("checked")&&t(!0),i._super()}})}),n("2t",["2m","2c","4h","a","p","9"],function(e,n,r,a,o,t){"use strict";return e.extend({init:function(i){var o=this;o._super(i),i=o.settings,o.classes.add("combobox"),o.subinput=!0,o.ariaTarget="inp",i.menu=i.menu||i.values,i.menu&&(i.icon="caret"),o.on("click",function(e){var t=e.target,n=o.getEl();if(a.contains(n,t)||t==n)for(;t&&t!=n;)t.id&&-1!=t.id.indexOf("-open")&&(o.fire("action"),i.menu&&(o.showMenu(),e.aria&&o.menu.items()[0].focus())),t=t.parentNode}),o.on("keydown",function(e){var t;13==e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),o.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),o.fire("submit",{data:t.toJSON()}))}),o.on("keyup",function(e){var t,n;"INPUT"==e.target.nodeName&&(t=o.state.get("value"),(n=e.target.value)!==t&&(o.state.set("value",n),o.fire("autocomplete",e)))}),o.on("mouseover",function(e){var t,n=o.tooltip().moveTo(-65535);o.statusLevel()&&-1!==e.target.className.indexOf(o.classPrefix+"status")&&(t=o.statusMessage()||"Ok",t=n.text(t).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]),n.classes.toggle("tooltip-n","bc-tc"==t),n.classes.toggle("tooltip-nw","bc-tl"==t),n.classes.toggle("tooltip-ne","bc-tr"==t),n.moveRel(e.target,t))})},statusLevel:function(e){return 0<arguments.length&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return 0<arguments.length&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var t=this,e=t.settings;t.menu||((e=e.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=n.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()==t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t=this.getEl(),n=this.getEl("open"),i=this.layoutRect(),o=0,t=t.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(o=parseInt(r.getRuntimeStyle(t,"padding-right"),10)-parseInt(r.getRuntimeStyle(t,"padding-left"),10)),n=n?i.w-r.getSize(n).width-10:i.w-10;i=document;return i.all&&(!i.documentMode||i.documentMode<=8)&&(e=this.layoutRect().h-2+"px"),a(t).css({width:n-o,lineHeight:e}),this._super(),this},postRender:function(){var t=this;return a(this.getEl("inp")).on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)}),t._super()},renderHtml:function(){var e,t,n,i=this,o=i._id,r=i.settings,a=i.classPrefix,s=i.state.get("value")||"",l="",c="";return"spellcheck"in r&&(c+=' spellcheck="'+r.spellcheck+'"'),r.maxLength&&(c+=' maxlength="'+r.maxLength+'"'),r.size&&(c+=' size="'+r.size+'"'),r.subtype&&(c+=' type="'+r.subtype+'"'),n='<i id="'+o+'-status" class="mce-status mce-ico" style="display: none"></i>',i.disabled()&&(c+=' disabled="disabled"'),(e=r.icon)&&"caret"!=e&&(e=a+"ico "+a+"i-"+r.icon),t=i.state.get("text"),(e||t)&&(l='<div id="'+o+'-open" class="'+a+"btn "+a+'open" tabIndex="-1" role="button"><button id="'+o+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+a+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",i.classes.add("has-open")),'<div id="'+o+'" class="'+i.classes+'"><input id="'+o+'-inp" class="'+a+'textbox" value="'+i.encode(s,!1)+'" hidefocus="1"'+c+' placeholder="'+i.encode(r.placeholder)+'" />'+n+l+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,i){var o=this;0!==e.length?(o.menu?o.menu.items().remove():o.menu=n.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(o).renderTo(),t.each(e,function(e){var t,n;o.menu.add({text:e.title,url:e.previewUrl,match:i,classes:"menu-item-ellipsis",onclick:(t=e.value,n=e.title,function(){o.fire("selectitem",{title:n,value:t})})})}),o.menu.renderNew(),o.hideMenu(),o.menu.on("cancel",function(e){e.control.parent()===o.menu&&(e.stopPropagation(),o.focus(),o.hideMenu())}),o.menu.on("select",function(){o.focus()}),e=o.layoutRect().w,o.menu.layoutRect({w:e,minW:0,maxW:e}),o.menu.reflow(),o.menu.show(),o.menu.moveRel(o.getEl(),o.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])):o.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var i=this;i.state.on("change:value",function(e){i.getEl("inp").value!=e.value&&(i.getEl("inp").value=e.value)}),i.state.on("change:disabled",function(e){i.getEl("inp").disabled=e.value}),i.state.on("change:statusLevel",function(e){var t=i.getEl("status"),n=i.classPrefix,e=e.value;r.css(t,"display","none"===e?"none":""),r.toggleClass(t,n+"i-checkmark","ok"===e),r.toggleClass(t,n+"i-warning","warn"===e),r.toggleClass(t,n+"i-error","error"===e),i.classes.toggle("has-status","none"!==e),i.repaint()}),r.on(i.getEl("status"),"mouseleave",function(){i.tooltip().hide()}),i.on("cancel",function(e){i.menu&&i.menu.visible()&&(e.stopPropagation(),i.hideMenu())});function n(e,t){t&&0<t.items().length&&t.items().eq(e)[0].focus()}return i.on("keydown",function(e){var t=e.keyCode;"INPUT"===e.target.nodeName&&(t===o.DOWN?(e.preventDefault(),i.fire("autocomplete"),n(0,i.menu)):t===o.UP&&(e.preventDefault(),n(-1,i.menu)))}),i._super()},remove:function(){a(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),n("2u",["2t"],function(e){"use strict";return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e}catch(e){}},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.state.get("rendered")&&t.repaintColor(e.value)}),t._super()}})}),n("2v",["2q","2k"],function(e,i){"use strict";return e.extend({showPanel:function(){var e,t=this,n=t.settings;t.active(!0),t.panel?t.panel.show():((e=n.panel).type&&(e={layout:"grid",items:e}),e.role=e.role||"dialog",e.popover=!0,e.autohide=!0,e.ariaRoot=!0,t.panel=new i(e).on("hide",function(){t.active(!1)}).on("cancel",function(e){e.stopPropagation(),t.focus(),t.hidePanel()}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()),t.panel.moveRel(t.getEl(),n.popoverAlign||(t.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var t=this;return t.aria("haspopup",!0),t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)))}),t._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),n("2w",["2v","e"],function(e,t){"use strict";var i=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.state.get("text"),o=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",r=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return i&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(i)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+r+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var t=this,n=t.settings.onclick;return t.on("click",function(e){e.aria&&"down"==e.aria.key||e.control!=t||i.getParent(e.target,"."+t.classPrefix+"open")||(e.stopImmediatePropagation(),n.call(t,e))}),delete t.settings.onclick,t._super()}})}),n("2x",["2m","2f","4h","1e"],function(e,d,h,f){"use strict";return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function t(e,t){var n=h.getPos(e),i=t.pageX-n.x,n=t.pageY-n.y;return{x:Math.max(0,Math.min(i/e.clientWidth,1)),y:Math.max(0,Math.min(n/e.clientHeight,1))}}function n(e,t){var n=(360-e.h)/360;h.css(l,{top:100*n+"%"}),t||h.css(u,{left:e.s+"%",top:100-e.v+"%"}),c.style.background=new f({s:100,v:100,h:e.h}).toHex(),r.color().parse({s:e.s,v:e.v,h:e.h})}function e(e){e=t(c,e);o.s=100*e.x,o.v=100*(1-e.y),n(o),r.fire("change")}function i(e){e=t(s,e);(o=a.toHsv()).h=360*(1-e.y),n(o,!0),r.fire("change")}var o,r=this,a=r.color(),s=r.getEl("h"),l=r.getEl("hp"),c=r.getEl("sv"),u=r.getEl("svp");r._repaint=function(){n(o=a.toHsv())},r._super(),r._svdraghelper=new d(r._id+"-sv",{start:e,drag:e}),r._hdraghelper=new d(r._id+"-h",{start:i,drag:i}),r._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){return arguments.length?(this.color().parse(e),void(this._rendered&&this._repaint())):this.color().toHex()},color:function(){return this._color||(this._color=new f),this._color},renderHtml:function(){var e=this._id,r=this.classPrefix,a="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",t='<div id="'+e+'-h" class="'+r+'colorpicker-h" style="'+("background: -ms-linear-gradient(top,"+a+");background: linear-gradient(to bottom,"+a+");")+'">'+function(){for(var e="",t="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",n=a.split(","),i=0,o=n.length-1;i<o;i++)e+='<div class="'+r+'colorpicker-h-chunk" style="height:'+100/o+"%;"+t+n[i]+",endColorstr="+n[i+1]+");-ms-"+t+n[i]+",endColorstr="+n[i+1]+')"></div>';return e}()+'<div id="'+e+'-hp" class="'+r+'colorpicker-h-marker"></div></div>';return'<div id="'+e+'" class="'+this.classes+'"><div id="'+e+'-sv" class="'+r+'colorpicker-sv"><div class="'+r+'colorpicker-overlay1"><div class="'+r+'colorpicker-overlay2"><div id="'+e+'-svp" class="'+r+'colorpicker-selector1"><div class="'+r+'colorpicker-selector2"></div></div></div></div></div>'+t+"</div>"}})}),n("2y",["2m"],function(e){"use strict";return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter="Â»"),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",function(e){(e=e.target.getAttribute("data-index"))&&t.fire("select",{value:t.row()[e],index:e})}),t.row(t.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var t=this;return t.state.on("change:row",function(e){t.innerHtml(t._getDataPathHtml(e.value))}),t._super()},_getDataPathHtml:function(e){for(var t=e||[],n="",i=this.classPrefix,o=0,r=t.length;o<r;o++)n+=(0<o?'<div class="'+i+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+i+"path-item"+(o==r-1?" "+i+"last":"")+'" data-index="'+o+'" tabindex="-1" id="'+this._id+"-"+o+'" aria-level="'+(o+1)+'">'+t[o].name+"</div>";return n=n||'<div class="'+i+'path-item">Â </div>'}})}),n("2z",["2y"],function(e){return e.extend({postRender:function(){var r=this,a=r.settings.editor;return!1!==a.settings.elementpath&&(r.on("select",function(e){a.focus(),a.selection.select(this.row()[e.index].element),a.nodeChanged()}),a.on("nodeChange",function(e){for(var t=[],n=e.parents,i=n.length;i--;)if(1==n[i].nodeType&&!function(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return 1;if("bookmark"===e.getAttribute("data-mce-type"))return 1}}(n[i])){var o=a.fire("ResolveName",{name:n[i].nodeName.toLowerCase(),target:n[i]});if(o.isDefaultPrevented()||t.push({name:o.name,element:n[i]}),o.isPropagationStopped())break}r.row(t)})),r._super()}})}),n("30",["2e"],function(e){"use strict";return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),n("31",["2e","30","9"],function(e,i,o){"use strict";return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var n=this,e=n.items();n.settings.formItemDefaults||(n.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),e.each(function(e){var t=e.settings.label;t&&((t=new i(o.extend({items:{type:"label",id:e._id+"-l",text:t,flex:0,forId:e._id,disabled:e.disabled()}},n.settings.formItemDefaults))).type="formitem",e.aria("labelledby",e._id+"-l"),void 0===e.settings.flex&&(e.settings.flex=1),n.replace(e,t),t.add(e))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.fromJSON(this.settings.data)},bindStates:function(){function e(){var e,t,n=0,i=[];if(!1!==o.settings.labelGapCalc)for(("children"==o.settings.labelGapCalc?o.find("formitem"):o.items()).filter("formitem").each(function(e){var t=e.items()[0],e=t.getEl().clientWidth;n=n<e?e:n,i.push(t)}),t=o.settings.labelGap||0,e=i.length;e--;)i[e].settings.minWidth=n+t}var o=this;o._super(),o.on("show",e),e()}})}),n("32",["31"],function(e){"use strict";return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})}),n("4o",["e","1j","1g","1s","9","25"],function(n,i,o,r,e,a){function s(e,t,n,i,o){return{type:e,title:t,url:n,level:i,attach:o}}function l(e){return e.innerText||e.textContent}function c(e){return(t=e)&&"A"===t.nodeName&&(t.id||t.name)&&g(e);var t}function u(e){return e&&/^(H[1-6])$/.test(e.nodeName)}function d(e){return u(e)&&g(e)}function h(e){var t,n=(t=e).id?t.id:a.uuid("h");return s("header",l(e),"#"+n,u(t=e)?parseInt(t.nodeName.substr(1),10):0,function(){e.id=n})}function f(e){var t=e.id||e.name,e=l(e);return s("anchor",e||"#"+t,"#"+t,0,r.noop)}function p(e){var t;return t="h1,h2,h3,h4,h5,h6,a:not([href])",e=e,n.DOM.select(t,e)}function m(e){return 0<t(e.title).length}var t=e.trim,g=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return i.isContentEditableTrue(e)}return!1}(e)&&!i.isContentEditableFalse(e)};return{find:function(e){var t=p(e);return o.filter((e=t,o.map(o.filter(e,d),h).concat((t=t,o.map(o.filter(t,c),f)))),m)}}}),n("33",["4k","4o","17","2t","1g","1s","9"],function(l,a,c,e,u,d,h){"use strict";function f(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}}function p(e,t){return{title:e,value:{title:e,url:t,attach:d.noop}}}function m(e,t,n){return!1===(n=t in e?e[t]:n)?null:n}function s(e,n,t,i){function o(e){return e=u.filter(e[t],function(e){return t=e,e=n,!u.find(e,function(e){return e.url===t});var t}),h.map(e,function(e){return{title:e,value:{title:e,url:e,attach:d.noop}}})}function r(t){var e;return e=e=u.filter(n,function(e){return e.type==t}),h.map(e,f)}var a,s,l={title:"-"};return!1===i.typeahead_urls?[]:"file"===t?(a=[b(e,o(y)),b(e,r("header")),b(e,(a=r("anchor"),s=m(i,"anchor_top","#top"),i=m(i,"anchor_bottom","#bottom"),null!==s&&a.unshift(p("<top>",s)),null!==i&&a.push(p("<bottom>",i)),a))],u.reduce(a,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(l,t)},[])):b(e,o(y))}function g(i,n,o,r){function t(e){var t=a.find(o),t=s(e,t,r,n);i.showAutoComplete(t,e)}i.on("autocomplete",function(){t(i.value())}),i.on("selectitem",function(e){var t=e.value;i.value(t.url);e=function(e){e=e.title;return e.raw?e.raw:e}(t);"image"===r?i.fire("change",{meta:{alt:e,attach:t.attach}}):i.fire("change",{meta:{text:e,attach:t.attach}}),i.focus()}),i.on("click",function(e){0===i.value().length&&"INPUT"===e.target.nodeName&&t("")}),i.on("PostRender",function(){i.getRoot().on("submit",function(e){var t,n;e.isDefaultPrevented()||(t=i.value(),e=y[n=r],/^https?/.test(t)&&(e?-1===u.indexOf(e,t)&&(y[n]=e.slice(0,5).concat(t)):y[n]=[t]))})})}function v(n,e,t){var i,o=e.filepicker_validator_handler;o&&(i=function(e){return 0===e.length?void n.statusLevel("none"):void o({url:e,type:t},function(e){var t,t=(e=(t=e).status,t=t.message,"valid"===e?{status:"ok",message:t}:"unknown"===e||"invalid"===e?{status:"warn",message:t}:{status:"none",message:""});n.statusMessage(t.message),n.statusLevel(t.status)})},n.state.on("change:value",function(e){i(e.value)}))}var y={},b=function(e,t){var n=e.toLowerCase(),t=h.grep(t,function(e){return-1!==e.title.toLowerCase().indexOf(n)});return 1===t.length&&t[0].title===e?[]:t};return e.extend({init:function(e){var t,n,i,o=this,r=(l.tinymce?l.tinymce:c).activeEditor,a=r.settings,s=e.filetype;e.spellcheck=!1,(i=(i=a.file_picker_types||a.file_browser_callback_types)&&h.makeMap(i,/[, ]/))&&!i[s]||(!(n=a.file_picker_callback)||i&&!i[s]?!(n=a.file_browser_callback)||i&&!i[s]||(t=function(){n(o.getEl("inp").id,o.value(),s,l)}):t=function(){var e=o.fire("beforecall").meta,e=h.extend({filetype:s},e);n.call(r,function(e,t){o.value(e).fire("change",{meta:t})},o.value(),e)}),t&&(e.icon="browse",e.onaction=t),o._super(e),g(o,a,r.getBody(),s),v(o,a,s)}})}),n("34",["2p"],function(e){"use strict";return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),n("35",["2p"],function(e){"use strict";return e.extend({recalc:function(e){var t,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,x,w,k,C,_,T,S,D,A,M,E=[],N=Math.max,P=Math.min,I=e.items().filter(":visible"),R=e.layoutRect(),O=e.paddingBox,L=e.settings,B=e.isRtl()?L.direction||"row-reversed":L.direction,H=L.align,z=e.isRtl()?L.pack||"end":L.pack,j=L.spacing||0;for("row-reversed"!=B&&"column-reverse"!=B||(I=I.set(I.toArray().reverse()),B=B.split("-")[0]),B="column"==B?(g="y",p="h",m="minH",v="maxH",b="innerH",y="top",x="deltaH",w="contentH",S="left",_="w",k="x",C="innerW",T="minW",D="right",A="deltaW","contentW"):(g="x",p="w",m="minW",v="maxW",b="innerW",y="left",x="deltaW",w="contentW",S="top",_="h",k="y",C="innerH",T="minH",D="bottom",A="deltaH","contentH"),o=R[b]-O[y]-O[y],t=f=i=0,n=I.length;t<n;t++)a=(r=I[t]).layoutRect(),o-=t<n-1?j:0,0<(s=r.settings.flex)&&(i+=s,a[v]&&E.push(r),a.flex=s),o-=a[m],f<(l=O[S]+a[T]+O[D])&&(f=l);if((d={})[m]=o<0?R[m]-o+R[x]:R[b]-o+R[x],d[T]=f+R[A],d[w]=R[b]-o,d[B]=f,d.minW=P(d.minW,R.maxW),d.minH=P(d.minH,R.maxH),d.minW=N(d.minW,R.startMinWidth),d.minH=N(d.minH,R.startMinHeight),!R.autoResize||d.minW==R.minW&&d.minH==R.minH){for(u=o/i,t=0,n=E.length;t<n;t++)(c=(a=(r=E[t]).layoutRect())[v])<(l=a[m]+a.flex*u)?(o-=a[v]-a[m],i-=a.flex,a.flex=0,a.maxFlexSize=c):a.maxFlexSize=0;for(u=o/i,h=O[y],d={},0===i&&("end"==z?h=o+O[y]:"center"==z?(h=Math.round(R[b]/2-(R[b]-o)/2)+O[y])<0&&(h=O[y]):"justify"==z&&(h=O[y],j=Math.floor(o/(I.length-1)))),d[k]=O[S],t=0,n=I.length;t<n;t++)l=(a=(r=I[t]).layoutRect()).maxFlexSize||a[m],"center"===H?d[k]=Math.round(R[C]/2-a[_]/2):"stretch"===H?(d[_]=N(a[T]||0,R[C]-O[S]-O[D]),d[k]=O[S]):"end"===H&&(d[k]=R[C]-a[_]-O.top),0<a.flex&&(l+=a.flex*u),d[p]=l,d[g]=h,r.layoutRect(d),r.recalc&&r.recalc(),h+=l+j}else{d.w=d.minW,d.h=d.minH,e.layoutRect(d),this.recalc(e),null===e._lastRect&&(M=e.parent())&&(M._lastRect=null,M.recalc())}}})}),n("36",["2o"],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})}),n("4p",["3t","4q","42","44","e"],function(e,o,t,r,a){function n(i){return function(n,e){return o.from(e).map(t.fromDom).filter(r.isElement).bind(function(e){return function(e,t,n){for(;n!==t;){if(n.style[e]){var i=n.style[e];return""!==i?o.some(i):o.none()}n=n.parentNode}return o.none()}(i,n,e.dom()).or((t=i,e=e.dom(),o.from(a.DOM.getStyle(e,t,!0))));var t}).getOr("")}}return{getFontSize:n("fontSize"),getFontFamily:e.compose(function(e){return e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},n("fontFamily")),toPt:function(e){return/[0-9.]+px$/.test(e)?Math.round(72*parseInt(e,10)/96)+"pt":e}}}),n("37",["2b","2m","2k","9","1g","e","17","6","4p"],function(n,e,f,p,m,i,t,o,g){function r(a){function n(r){return function(){function i(e){return e?e.split(",")[0]:""}var o=this;a.on("nodeChange",function(e){var t=null,n=g.getFontFamily(a.getBody(),e.element);v(r,function(e){e.value.toLowerCase()===n.toLowerCase()&&(t=e.value)}),v(r,function(e){t||i(e.value).toLowerCase()!==i(n).toLowerCase()||(t=e.value)}),o.value(t),!t&&n&&o.text(i(n))})}}function i(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}function o(e){return function(){var t=this;a.formatter?a.formatter.formatChanged(e,function(e){t.active(e)}):a.on("init",function(){a.formatter.formatChanged(e,function(e){t.active(e)})})}}function e(n){return function(){function e(){var e="redo"==n?"hasRedo":"hasUndo";return a.undoManager&&a.undoManager[e]()}var t=this;t.disabled(!e()),a.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){t.disabled(a.readonly||!e())})}}function s(e){e.control&&(e=e.control.value()),e&&a.execCommand("mceToggleFormat",!1,e)}function r(e){var n=e.items().length;return e.items().each(function(e){e.menu&&e.visible(0<r(e.menu)),!e.menu&&e.settings.menu&&e.visible(0<function n(e){var i=e.length;return p.each(e,function(e){e.menu&&(e.hidden=0===n(e.menu));var t=e.format;t&&(e.hidden=!a.formatter.canApply(t)),e.hidden&&i--}),i}(e.settings.menu));var t=e.settings.format;t&&e.visible(a.formatter.canApply(t)),e.visible()||n--}),n}var t,l,c,u;l=0,c=[],u=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],a.on("init",function(){v(c,function(e){a.formatter.register(e.name,e)})}),t={type:"menu",items:function i(e){var o=[];if(e)return v(e,function(e){var t,n={text:e.title,icon:e.icon};e.items?n.menu=i(e.items):(t=e.format||"custom"+l++,e.format||(e.name=t,c.push(e)),n.format=t,n.cmd=e.cmd),o.push(n)}),o}(a.settings.style_formats_merge?a.settings.style_formats?u.concat(a.settings.style_formats):u:a.settings.style_formats||u),onPostRender:function(e){a.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return a.formatter.getCssText(this.settings.format)},onPostRender:function(){var t=this;t.parent().on("show",function(){var e=t.settings.format;e&&(t.disabled(!a.formatter.canApply(e)),t.active(a.formatter.match(e))),(e=t.settings.cmd)&&t.active(a.queryCommandState(e))})},onclick:function(){this.settings.format&&s(this.settings.format),this.settings.cmd&&a.execCommand(this.settings.cmd)}}},v({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,t){a.addButton(t,{tooltip:e,onPostRender:o(t),onclick:function(){s(t)}})}),v({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(e,t){a.addButton(t,{tooltip:e[0],cmd:e[1]})}),v({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,t){a.addButton(t,{tooltip:e[0],cmd:e[1],onPostRender:o(t)})});function d(e){return 0<(i=e.insert_button_items?h(e.insert_button_items):(t="insert",n=[{text:"-"}],i=p.grep(a.menuItems,function(e){return e.context===t}),p.each(i,function(e){"before"==e.separator&&n.push({text:"|"}),e.prependToContext?n.unshift(e):n.push(e),"after"==e.separator&&n.push({text:"|"})}),n)).length&&"-"===i[0].text&&(i=i.slice(1)),0<i.length&&"-"===i[i.length-1].text&&(i=i.slice(0,i.length-1)),i;var t,n,i}var h=function(e){var t;if("string"==typeof e)t=e.split(" ");else if(p.isArray(e))return e=p.map(e,h),m.reduce(e,function(e,t){return e.concat(t)},[]);return t=p.grep(t,function(e){return"|"===e||e in a.menuItems}),p.map(t,function(e){return"|"===e?{text:"-"}:a.menuItems[e]})};a.addButton("undo",{tooltip:"Undo",onPostRender:e("undo"),cmd:"undo"}),a.addButton("redo",{tooltip:"Redo",onPostRender:e("redo"),cmd:"redo"}),a.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),a.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:e("undo"),cmd:"undo"}),a.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:e("redo"),cmd:"redo"}),a.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var t=this;a.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(a.hasVisual)},cmd:"mceToggleVisualAid"}),a.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),a.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(d(a.settings)),this.menu.renderNew()}}),v({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(e,t){a.addMenuItem(t,{text:e[0],icon:t,shortcut:e[2],cmd:e[1]})}),a.on("mousedown",function(){f.hideAll()}),a.addButton("styleselect",{type:"menubutton",text:"Formats",menu:t,onShowMenu:function(){a.settings.style_formats_autohide&&r(this.menu)}}),a.addButton("formatselect",function(){var o,r,t=[],e=i(a.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return v(e,function(e){t.push({text:e[0],value:e[1],textStyle:function(){return a.formatter.getCssText(e[1])}})}),{type:"listbox",text:e[0][0],values:t,fixedWidth:!0,onselect:s,onPostRender:(o=t,function(){var t=this;a.on("nodeChange",function(e){var n=a.formatter,i=null;v(e.parents,function(t){if(v(o,function(e){if(r?n.matchNode(t,r,{value:e.value})&&(i=e.value):n.matchNode(t,e.value)&&(i=e.value),i)return!1}),i)return!1}),t.value(i)})})}}),a.addButton("fontselect",function(){var t=[],e=i(a.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return v(e,function(e){t.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:n(t),onselect:function(e){e.control.settings.value&&a.execCommand("FontName",!1,e.control.settings.value)}}}),a.addButton("fontsizeselect",function(){var r,i=[],e=a.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt";return v(e.split(" "),function(e){var t=e,n=e,e=e.split("=");1<e.length&&(t=e[0],n=e[1]),i.push({text:t,value:n})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:i,fixedWidth:!0,onPostRender:(r=i,function(){var o=this;a.on("nodeChange",function(e){var t=null,n=g.getFontSize(a.getBody(),e.element),i=g.toPt(n);v(r,function(e){e.value===n?t=n:e.value===i&&(t=i)}),o.value(t),t||o.text(i)})}),onclick:function(e){e.control.settings.value&&a.execCommand("FontSize",!1,e.control.settings.value)}}}),a.addMenuItem("formats",{text:"Formats",menu:t})}var v=p.each;return t.on("AddEditor",function(e){var t,e=e.editor;(t=e).on("ScriptsLoaded",function(){t.rtl&&(n.rtl=!0)}),r(e),(e=e).settings.ui_container&&(o.container=i.DOM.select(e.settings.ui_container)[0])}),n.translate=function(e){return t.translate(e)},e.tooltips=!o.iOS,{}}),n("38",["2p"],function(e){"use strict";return e.extend({recalc:function(e){var t,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b=[],x=[],w=e.settings,k=e.items().filter(":visible"),C=e.layoutRect(),_=w.columns||Math.ceil(Math.sqrt(k.length)),T=Math.ceil(k.length/_),S=w.spacingH||w.spacing||0,D=w.spacingV||w.spacing||0,A=w.alignH||w.align,M=w.alignV||w.align,E=e.paddingBox,N="reverseRows"in w?w.reverseRows:e.isRtl();for(A&&"string"==typeof A&&(A=[A]),M&&"string"==typeof M&&(M=[M]),O=0;O<_;O++)b.push(0);for(a=0;a<T;a++)x.push(0);for(a=0;a<T;a++)for(O=0;O<_&&(r=k[a*_+O]);O++)f=(o=r.layoutRect()).minW,p=o.minH,b[O]=f>b[O]?f:b[O],x[a]=p>x[a]?p:x[a];for(m=C.innerW-E.left-E.right,O=d=0;O<_;O++)d+=b[O]+(0<O?S:0),m-=(0<O?S:0)+b[O];for(g=C.innerH-E.top-E.bottom,a=h=0;a<T;a++)h+=x[a]+(0<a?D:0),g-=(0<a?D:0)+x[a];if(d+=E.left+E.right,h+=E.top+E.bottom,(i={}).minW=d+(C.w-C.innerW),i.minH=h+(C.h-C.innerH),i.contentW=i.minW-C.deltaW,i.contentH=i.minH-C.deltaH,i.minW=Math.min(i.minW,C.maxW),i.minH=Math.min(i.minH,C.maxH),i.minW=Math.max(i.minW,C.startMinWidth),i.minH=Math.max(i.minH,C.startMinHeight),!C.autoResize||i.minW==C.minW&&i.minH==C.minH){C.autoResize&&((i=e.layoutRect(i)).contentW=i.minW-C.deltaW,i.contentH=i.minH-C.deltaH),v="start"!=w.packV&&0<g?Math.floor(g/T):0;var P=0,I=w.flexWidths;if(I)for(O=0;O<I.length;O++)P+=I[O];else P=_;for(var R=m/P,O=0;O<_;O++)b[O]+=I?I[O]*R:R;for(l=E.top,a=0;a<T;a++){for(s=E.left,n=x[a]+v,O=0;O<_&&(r=k[N?a*_+_-1-O:a*_+O]);O++)c=r.settings,o=r.layoutRect(),t=Math.max(b[O],o.startMinWidth),o.x=s,o.y=l,"center"==(u=c.alignH||(A?A[O]||A[0]:null))?o.x=s+t/2-o.w/2:"right"==u?o.x=s+t-o.w:"stretch"==u&&(o.w=t),"center"==(u=c.alignV||(M?M[O]||M[0]:null))?o.y=l+n/2-o.h/2:"bottom"==u?o.y=l+n-o.h:"stretch"==u&&(o.h=n),r.layoutRect(o),s+=t+S,r.recalc&&r.recalc();l+=n+D}}else{i.w=i.minW,i.h=i.minH,e.layoutRect(i),this.recalc(e),null===e._lastRect&&(y=e.parent())&&(y._lastRect=null,y.recalc())}}})}),n("39",["2m","5"],function(e,o){"use strict";return e.extend({renderHtml:function(){return this.classes.add("iframe"),this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,t&&t()):o.setTimeout(function(){n.html(e)}),this}})}),n("3a",["2m"],function(e){"use strict";return e.extend({init:function(e){this._super(e),this.classes.add("widget").add("infobox"),this.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+e+"ico "+e+'i-help"></i></button></div></div>'},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl("body").firstChild.data=t.encode(e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t.state.on("change:help",function(e){t.classes.toggle("has-help",e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),n("3b",["2m","4h"],function(e,t){"use strict";return e.extend({init:function(e){this._super(e),this.classes.add("widget").add("label"),this.canFocus=!1,e.multiline&&this.classes.add("autoscroll"),e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();return this.settings.multiline&&(t.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,t.getSize(this.getEl()).height)),e},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t=this,n=t.settings.forId,i=t.settings.html?t.settings.html:t.encode(t.state.get("text"));return!n&&(e=t.settings.forName)&&((e=t.getRoot().find("#"+e)[0])&&(n=e._id)),n?'<label id="'+t._id+'" class="'+t.classes+'"'+(n?' for="'+n+'"':"")+">"+i+"</label>":'<span id="'+t._id+'" class="'+t.classes+'">'+i+"</span>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.innerHtml(t.encode(e.value)),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),n("3c",["2e"],function(e){"use strict";return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){this._super(e),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(e){e.classes.add("toolbar-item")}),this._super()}})}),n("3d",["3c"],function(e){"use strict";return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),n("3e",["2q","2c","3d"],function(e,n,s){"use strict";var o=e.extend({init:function(e){this._renderOpen=!0,this._super(e),e=this.settings,this.classes.add("menubtn"),e.fixedWidth&&this.classes.add("fixed-width"),this.aria("haspopup",!0),this.state.set("menu",e.menu||this.render())},showMenu:function(e){var t=this;return t.menu&&t.menu.visible()&&!1!==e?t.hideMenu():(t.menu||((e=t.state.get("menu")||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",e.renderTo?t.menu=e.parent(t).show().renderTo():t.menu=n.create(e).parent(t).renderTo(),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control.parent()===t.menu&&(e.stopPropagation(),t.focus(),t.hideMenu())}),t.menu.on("select",function(){t.focus()}),t.menu.on("show hide",function(e){e.control==t.menu&&t.activeMenu("show"==e.type),t.aria("expanded","show"==e.type)}).fire("show")),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void t.fire("showmenu"))},hideMenu:function(){this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.settings.icon,o=e.state.get("text"),r="",a=e.settings.image;return a=a?(i="none","string"!=typeof a&&(a=window.getSelection?a[0]:a[1])," style=\"background-image: url('"+a+"')\""):"",o&&(e.classes.add("btn-has-text"),r='<span class="'+n+'txt">'+e.encode(o)+"</span>"),i=e.settings.icon?n+"ico "+n+"i-"+i:"",e.aria("role",e.parent()instanceof s?"menuitem":"button"),'<div id="'+t+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+t+'"><button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+a+"></i>":"")+r+' <i class="'+n+'caret"></i></button></div>'},postRender:function(){var i=this;return i.on("click",function(e){e.control===i&&function(e,t){for(;e;){if(t===e)return 1;e=e.parentNode}}(e.target,i.getEl())&&(i.focus(),i.showMenu(!e.aria),e.aria&&i.menu.items().filter(":visible")[0].focus())}),i.on("mouseenter",function(e){var t,n=e.control,e=i.parent();n&&e&&n instanceof o&&n.parent()==e&&(e.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=n&&(e.menu&&e.menu.visible()&&(t=!0),e.hideMenu())}),t&&(n.focus(),n.showMenu()))}),i._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return o}),n("3f",["2m","2c","6","5"],function(e,o,f,r){"use strict";return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),"-"!==(t=n.state.get("text"))&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,n=this,e=n.settings,i=n.parent();i.items().each(function(e){e!==n&&e.hideMenu()}),e.menu&&((t=n.menu)?t.show():((t=e.menu).length?t={type:"menu",items:t}:t.type=t.type||"menu",i.settings.itemDefaults&&(t.itemDefaults=i.settings.itemDefaults),(t=n.menu=o.create(t).parent(n).renderTo()).reflow(),t.on("cancel",function(e){e.stopPropagation(),n.focus(),t.hide()}),t.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),t.on("hide",function(e){e.control===t&&n.classes.remove("selected")}),t.submenu=!0),t._parentMenu=i,t.classes.add("menu-sub"),i=t.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]),t.moveRel(n.getEl(),i),i="menu-sub-"+(t.rel=i),t.classes.remove(t._lastRel).add(i),t._lastRel=i,n.classes.add("selected"),n.aria("expanded",!0))},hideMenu:function(){return this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide(),this.aria("expanded",!1)),this},renderHtml:function(){function n(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function e(e){var t=a.match||"";return t?e.replace(new RegExp(n(t),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):e}function t(e){return e.replace(new RegExp(n("!mce~match["),"g"),"<b>").replace(new RegExp(n("]mce~match!"),"g"),"</b>")}var i,o=this,r=o._id,a=o.settings,s=o.classPrefix,l=o.state.get("text"),c=o.settings.icon,u="",d=a.shortcut,h=o.encode(a.url);return c&&o.parent().classes.add("menu-has-icons"),a.image&&(u=" style=\"background-image: url('"+a.image+"')\""),d=d&&function(e){var t,n,i=f.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"};for(e=e.split("+"),t=0;t<e.length;t++)(n=i[e[t].toLowerCase()])&&(e[t]=n);return e.join("+")}(d),c=s+"ico "+s+"i-"+(o.settings.icon||"none"),i="-"!==l?'<i class="'+c+'"'+u+"></i>Â ":"",l=t(o.encode(e(l))),h=t(o.encode(e(h))),'<div id="'+r+'" class="'+o.classes+'" tabindex="-1">'+i+("-"!==l?'<span id="'+r+'-text" class="'+s+'text">'+l+"</span>":"")+(d?'<div id="'+r+'-shortcut" class="'+s+'menu-shortcut">'+d+"</div>":"")+(a.menu?'<div class="'+s+'caret"></div>':"")+(h?'<div class="'+s+'menu-item-link">'+h+"</div>":"")+"</div>"},postRender:function(){var e,t=this,n=t.settings,i=n.textStyle;return"function"==typeof i&&(i=i.call(this)),i&&(e=t.getEl("text"))&&e.setAttribute("style",i),t.on("mouseenter click",function(e){e.control===t&&(n.menu||"click"!==e.type?(t.showMenu(),e.aria&&t.menu.focus(!0)):(t.fire("select"),r.requestAnimationFrame(function(){t.parent().hideAll()})))}),t._super(),t},hover:function(){return this.parent().items().each(function(e){e.classes.remove("selected")}),this.classes.toggle("selected",!0),this},active:function(e){return void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),n("3g",["a","2b","5"],function(c,e,u){"use strict";return function(i,o){var r,a,s=this,l=e.classPrefix;s.show=function(e,t){function n(){r&&(c(i).append('<div class="'+l+"throbber"+(o?" "+l+"throbber-inline":"")+'"></div>'),t&&t())}return s.hide(),r=!0,e?a=u.setTimeout(n,e):n(),s},s.hide=function(){var e=i.lastChild;return u.clearTimeout(a),e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),r=!1,s}}}),n("3h",["2k","3f","3g","9"],function(e,t,o,i){"use strict";return e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var t=e.items,n=t.length;n--;)t[n]=i.extend({},e.itemDefaults,t[n]);this._super(e),this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){function t(){i.throbber&&(i.throbber.hide(),i.throbber=null)}var n,i=this;i.settings.itemsFactory&&(i.throbber||(i.throbber=new o(i.getEl("body"),!0),0===i.items().length?(i.throbber.show(),i.fire("loading")):i.throbber.show(100,function(){i.items().remove(),i.fire("loading")}),i.on("hide close",t)),i.requestTime=n=(new Date).getTime(),i.settings.itemsFactory(function(e){return 0===e.length?void i.hide():void(i.requestTime===n&&(i.getEl().style.width="",i.getEl("body").style.width="",t(),i.items().remove(),i.getEl("body").innerHTML="",i.add(e),i.renderNew(),i.fire("loaded")))}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var t=this;return t.items().each(function(e){e=e.settings;if(e.icon||e.image||e.selectable)return!(t._hasIcons=!0)}),t.settings.itemsFactory&&t.on("postrender",function(){t.settings.itemsFactory&&t.load()}),t._super()}})}),n("3i",["3e","3h"],function(e,i){"use strict";return e.extend({init:function(i){var e,o,r,n,a=this;a._super(i),i=a.settings,a._values=e=i.values,e&&(void 0!==i.value&&function e(t){for(var n=0;n<t.length;n++){if(o=t[n].selected||i.value===t[n].value)return r=r||t[n].text,a.state.set("value",t[n].value),1;if(t[n].menu&&e(t[n].menu))return 1}}(e),!o&&0<e.length&&(r=e[0].text,a.state.set("value",e[0].value)),a.state.set("menu",e)),a.state.set("text",i.text||r),a.classes.add("listbox"),a.on("select",function(e){var t=e.control;n&&(e.lastControl=n),i.multiple?t.active(!t.active()):a.value(e.control.value()),n=t})},bindStates:function(){var n=this;return n.on("show",function(e){var t;e=e.control,t=n.value(),e instanceof i&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===t)})}),n.state.on("change:value",function(e){e=function e(t,n){var i;if(t)for(var o=0;o<t.length;o++){if(t[o].value===n)return t[o];if(t[o].menu&&(i=e(t[o].menu,n)))return i}}(n.state.get("menu"),e.value);e?n.text(e.text):n.text(n.settings.text)}),n._super()}})}),n("3j",["2s"],function(e){"use strict";return e.extend({Defaults:{classes:"radio",role:"radio"}})}),n("3k",["2m","2f"],function(e,n){"use strict";return e.extend({renderHtml:function(){var e=this.classPrefix;return this.classes.add("resizehandle"),"both"==this.settings.direction&&this.classes.add("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new n(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!=t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},stop:function(){t.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),n("3l",["2m"],function(e){"use strict";function n(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}return e.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var n=this;n._super(e),n.settings.size&&(n.size=n.settings.size),n.settings.options&&(n._options=n.settings.options),n.on("keydown",function(e){var t;13==e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e="",t=n(this._options);return this.size&&(e=' size = "'+this.size+'"'),'<select id="'+this._id+'" class="'+this.classes+'"'+e+">"+t+"</select>"},bindStates:function(){var t=this;return t.state.on("change:options",function(e){t.getEl().innerHTML=n(e.value)}),t._super()}})}),n("3m",["2m","2f","4h"],function(e,y,b){"use strict";function x(e,t,n){return e<t&&(e=t),n<e&&(e=n),e}function a(e,t,n){e.setAttribute("aria-"+t,n)}function n(e,t){var n,i="v"==e.settings.orientation?(n="top",r="height","h"):(n="left",r="width","w"),o=e.getEl("handle"),r=((e.layoutRect()[i]||100)-b.getSize(o)[r])*((t-e._minValue)/(e._maxValue-e._minValue))+"px";o.style[n]=r,o.style.height=e.layoutRect().h+"px",a(o,"valuenow",t),a(o,"valuetext",""+e.settings.previewFilter(t)),a(o,"valuemin",e._minValue),a(o,"valuemax",e._maxValue)}return e.extend({init:function(e){e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),this._super(e),this.classes.add("slider"),"v"==e.orientation&&this.classes.add("vertical"),this._minValue=e.minValue||0,this._maxValue=e.maxValue||100,this._initValue=this.state.get("value")},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div id="'+e+'-handle" class="'+t+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,t,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g=this;function v(e){var t,n,i,o=g.value();o=x(((o+(i=t=p))/((n=m)-i)+.05*e)*(n-t)-t,p,m),g.value(o),g.fire("dragstart",{value:o}),g.fire("drag",{value:o}),g.fire("dragend",{value:o})}e=g._minValue,t=g._maxValue,r="v"==g.settings.orientation?(n="screenY",i="top",o="height","h"):(n="screenX",i="left",o="width","w"),g._super(),p=e,m=t,g.getEl("handle"),g.on("keydown",function(e){switch(e.keyCode){case 37:case 38:v(-1);break;case 39:case 40:v(1)}}),a=e,s=t,l=g.getEl("handle"),g._dragHelper=new y(g._id,{handle:g._id+"-handle",start:function(e){c=e[n],u=parseInt(g.getEl("handle").style[i],10),d=(g.layoutRect()[r]||100)-b.getSize(l)[o],g.fire("dragstart",{value:f})},drag:function(e){e=e[n]-c;h=x(u+e,0,d),l.style[i]=h+"px",f=a+h/d*(s-a),g.value(f),g.tooltip().text(""+g.settings.previewFilter(f)).show().moveRel(l,"bc tc"),g.fire("drag",{value:f})},stop:function(){g.tooltip().hide(),g.fire("dragend",{value:f})}})},repaint:function(){this._super(),n(this,this.value())},bindStates:function(){var t=this;return t.state.on("change:value",function(e){n(t,e.value)}),t._super()}})}),n("3n",["2m"],function(e){"use strict";return e.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})}),n("3o",["3e","4h","a"],function(e,i,o){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,t=this.getEl(),n=this.layoutRect();return this._super(),e=t.firstChild,t=t.lastChild,o(e).css({width:n.w-i.getSize(t).width,height:n.h-2}),o(t).css({height:n.h-2}),this},activeMenu:function(e){o(this.getEl().lastChild).toggleClass(this.classPrefix+"active",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.state.get("icon"),o=e.state.get("text"),r="",a=e.settings.image;return a=a?(i="none","string"!=typeof a&&(a=window.getSelection?a[0]:a[1])," style=\"background-image: url('"+a+"')\""):"",i=e.settings.icon?n+"ico "+n+"i-"+i:"",o&&(e.classes.add("btn-has-text"),r='<span class="'+n+'txt">'+e.encode(o)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"'+a+"></i>":"")+r+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1">'+(e._menuBtnText?(i?"Â ":"")+e._menuBtnText:"")+' <i class="'+n+'caret"></i></button></div>'},postRender:function(){var n=this.settings.onclick;return this.on("click",function(e){var t=e.target;if(e.control==this)for(;t;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==t.nodeName&&-1==t.className.indexOf("open"))return e.stopImmediatePropagation(),void(n&&n.call(this,e));t=t.parentNode}}),delete this.settings.onclick,this._super()}})}),n("3p",["36"],function(e){"use strict";return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),n("3q",["2h","a","4h"],function(e,t,o){"use strict";return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(n){var e;this.activeTabId&&(e=this.getEl(this.activeTabId),t(e).removeClass(this.classPrefix+"active"),e.setAttribute("aria-selected","false")),this.activeTabId="t"+n,(e=this.getEl("t"+n)).setAttribute("aria-selected","true"),t(e).addClass(this.classPrefix+"active"),this.items()[n].show().fire("showtab"),this.reflow(),this.items().each(function(e,t){n!=t&&e.hide()})},renderHtml:function(){var n=this,e=n._layout,i="",o=n.classPrefix;return n.preRender(),e.preRender(n),n.items().each(function(e,t){t=n._id+"-t"+t;e.aria("role","tabpanel"),e.aria("labelledby",t),i+='<div id="'+t+'" class="'+o+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+n.encode(e.settings.title)+"</div>"}),'<div id="'+n._id+'" class="'+n.classes+'" hidefocus="1" tabindex="-1"><div id="'+n._id+'-head" class="'+o+'tabs" role="tablist">'+i+'</div><div id="'+n._id+'-body" class="'+n.bodyClasses+'">'+e.renderHtml(n)+"</div></div>"},postRender:function(){var i=this;i._super(),i.settings.activeTab=i.settings.activeTab||0,i.activateTab(i.settings.activeTab),this.on("click",function(e){var t=e.target.parentNode;if(t&&t.id==i._id+"-head")for(var n=t.childNodes.length;n--;)t.childNodes[n]==e.target&&i.activateTab(n)})},initLayoutRect:function(){var e,t,n=o.getSize(this.getEl("head")).width;n=n<0?0:n,t=0,this.items().each(function(e){n=Math.max(n,e.layoutRect().minW),t=Math.max(t,e.layoutRect().minH)}),this.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=n,e.settings.h=t,e.layoutRect({x:0,y:0,w:n,h:t})});var i=o.getSize(this.getEl("head")).height;return this.settings.minWidth=n,this.settings.minHeight=t+i,(e=this._super()).deltaH+=i,e.innerH=e.h-e.deltaH,e}})}),n("3r",["2m","9","4h"],function(e,i,o){return e.extend({init:function(e){var n=this;n._super(e),n.classes.add("textbox"),e.multiline?n.classes.add("multiline"):(n.on("keydown",function(e){var t;13==e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))}),n.on("keyup",function(e){n.state.set("value",e.target.value)}))},repaint:function(){var e,t=0,n=this.getEl().style,i=this._layoutRect,o=this._lastRepaintRect||{},r=document;return!this.settings.multiline&&r.all&&(!r.documentMode||r.documentMode<=8)&&(n.lineHeight=i.h-t+"px"),r=(e=this.borderBox).left+e.right+8,t=e.top+e.bottom+(this.settings.multiline?8:0),i.x!==o.x&&(n.left=i.x+"px",o.x=i.x),i.y!==o.y&&(n.top=i.y+"px",o.y=i.y),i.w!==o.w&&(n.width=i.w-r+"px",o.w=i.w),i.h!==o.h&&(n.height=i.h-t+"px",o.h=i.h),this._lastRepaintRect=o,this.fire("repaint",{},!1),this},renderHtml:function(){var e,t=this.settings,n={id:this._id,hidefocus:"1"};return i.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){n[e]=t[e]}),this.disabled()&&(n.disabled="disabled"),t.subtype&&(n.type=t.subtype),(e=o.create(t.multiline?"textarea":"input",n)).value=this.state.get("value"),e.className=this.classes,e.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var t=this;t.getEl().value=t.state.get("value"),t._super(),t.$el.on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)})},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl().value!=e.value&&(t.getEl().value=e.value)}),t.state.on("change:disabled",function(e){t.getEl().disabled=e.value}),t._super()},remove:function(){this.$el.off(),this._super()}})}),n("1f",["28","29","2a","2b","2c","2d","2e","2f","2g","2h","2i","2j","2k","1z","20","2l","2m","2n","21","2o","2p","2q","2r","2s","2t","2u","2v","2w","2x","2y","2z","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","3g","3h","3i","3j","3k","3l","3m","3n","3o","3p","3q","3r"],function(t,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,x,w,k,C,_,T,S,D,A,M,E,N,P,I,R,O,L,B,H,z,j,F,W,$,U,Y,q,V,G,Q,X,K,Z,J,ee,te,ne,ie,oe,re){"use strict";function ae(e,t,n){for(var i=t.split(/[.\/]/),o=0;o<i.length-1;++o)void 0===e[i[o]]&&(e[i[o]]={}),e=e[i[o]];e[i[i.length-1]]=n,t=t,n=n,r.add(t.split(".").pop(),n)}var se={appendTo:function(e){ae(e,"ui.Selector",t),ae(e,"ui.Collection",n),ae(e,"ui.ReflowQueue",i),ae(e,"ui.Control",o),ae(e,"ui.Factory",r),ae(e,"ui.KeyboardNavigation",a),ae(e,"ui.Container",s),ae(e,"ui.DragHelper",l),ae(e,"ui.Scrollable",c),ae(e,"ui.Panel",u),ae(e,"ui.Movable",d),ae(e,"ui.Resizable",h),ae(e,"ui.FloatPanel",f),ae(e,"ui.Window",p),ae(e,"ui.MessageBox",m),ae(e,"ui.Tooltip",g),ae(e,"ui.Widget",v),ae(e,"ui.Progress",y),ae(e,"ui.Notification",b),ae(e,"ui.Layout",x),ae(e,"ui.AbsoluteLayout",w),ae(e,"ui.Button",k),ae(e,"ui.ButtonGroup",C),ae(e,"ui.Checkbox",_),ae(e,"ui.ComboBox",T),ae(e,"ui.ColorBox",S),ae(e,"ui.PanelButton",D),ae(e,"ui.ColorButton",A),ae(e,"ui.ColorPicker",M),ae(e,"ui.Path",E),ae(e,"ui.ElementPath",N),ae(e,"ui.FormItem",P),ae(e,"ui.Form",I),ae(e,"ui.FieldSet",R),ae(e,"ui.FilePicker",O),ae(e,"ui.FitLayout",L),ae(e,"ui.FlexLayout",B),ae(e,"ui.FlowLayout",H),ae(e,"ui.FormatControls",z),ae(e,"ui.GridLayout",j),ae(e,"ui.Iframe",F),ae(e,"ui.InfoBox",W),ae(e,"ui.Label",$),ae(e,"ui.Toolbar",U),ae(e,"ui.MenuBar",Y),ae(e,"ui.MenuButton",q),ae(e,"ui.MenuItem",V),ae(e,"ui.Throbber",G),ae(e,"ui.Menu",Q),ae(e,"ui.ListBox",X),ae(e,"ui.Radio",K),ae(e,"ui.ResizeHandle",Z),ae(e,"ui.SelectBox",J),ae(e,"ui.Slider",ee),ae(e,"ui.Spacer",te),ae(e,"ui.SplitButton",ne),ae(e,"ui.StackLayout",ie),ae(e,"ui.TabPanel",oe),ae(e,"ui.TextBox",re),ae(e,"ui.Api",se)}};return se}),n("1",["3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f"],function(e,t,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,x,w,k,C,_,T,S,D,A,M,E,N,P,I,R,O,L,B,H,z,j,F,W,$,U,Y,q,V,G){function Q(e,t,n){for(var i=t.split(/[.\/]/),o=0;o<i.length-1;++o)void 0===e[i[o]]&&(e[i[o]]={}),e=e[i[o]];e[i[i.length-1]]=n}var X=j;return Q(X,"geom.Rect",e),Q(X,"util.Promise",t),Q(X,"util.Delay",n),Q(X,"Env",i),Q(X,"dom.EventUtils",o),Q(X,"dom.Sizzle",r),Q(X,"util.Tools",a),Q(X,"dom.DomQuery",s),Q(X,"html.Styles",l),Q(X,"dom.TreeWalker",c),Q(X,"html.Entities",u),Q(X,"dom.DOMUtils",d),Q(X,"dom.ScriptLoader",h),Q(X,"AddOnManager",f),Q(X,"dom.RangeUtils",p),Q(X,"html.Node",m),Q(X,"html.Schema",g),Q(X,"html.SaxParser",v),Q(X,"html.DomParser",y),Q(X,"html.Writer",b),Q(X,"html.Serializer",x),Q(X,"dom.Serializer",w),Q(X,"util.VK",k),Q(X,"dom.ControlSelection",C),Q(X,"dom.BookmarkManager",_),Q(X,"dom.Selection",T),Q(X,"Formatter",S),Q(X,"UndoManager",D),Q(X,"EditorCommands",A),Q(X,"util.URI",M),Q(X,"util.Class",E),Q(X,"util.EventDispatcher",N),Q(X,"util.Observable",P),Q(X,"WindowManager",I),Q(X,"NotificationManager",R),Q(X,"EditorObservable",O),Q(X,"Shortcuts",L),Q(X,"Editor",B),Q(X,"util.I18n",H),Q(X,"FocusManager",z),Q(X,"EditorManager",j),Q(X,"util.XHR",F),Q(X,"util.JSON",W),Q(X,"util.JSONRequest",$),Q(X,"util.JSONP",U),Q(X,"util.LocalStorage",Y),Q(X,"Compat",q),Q(X,"util.Color",V),G.appendTo(X),q.register(X),X}),n("2",[],function(){var t=this||window;return{exposeToModuleLoaders:function(e){"function"==typeof t.define&&(t.define.amd||(t.define("ephox/tinymce",[],function(){return e}),t.define("17",[],function(){return e}))),"object"==typeof module&&(module.exports=e)}}}),n("0",["1","2"],function(e,t){return function(){return window.tinymce=e,window.tinyMCE=e,t.exposeToModuleLoaders(e),e}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="4",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["4"],function(e){return e("tinymce.PluginManager")}),i("2",["4"],function(e){return e("tinymce.util.Delay")}),i("5",[],function(){var e="['\\.âââ¤ï¹ï¼ï¼]",t="[:Â·Â·×´â§ï¸ï¹ï¼]",n="[,;;ÖØØÙ¬ß¸âï¸ï¸ï¹ï¹ï¼ï¼]",i="[0-9Ù -Ù©Ù«Û°-Û¹ß-ßà¥¦-à¥¯à§¦-à§¯à©¦-à©¯à«¦-à«¯à­¦-à­¯à¯¦-à¯¯à±¦-à±¯à³¦-à³¯àµ¦-àµ¯à¹-à¹à»-à»à¼ -à¼©á-áá-áá -á©á -á á¥-á¥á§-á§áª-áªáª-áªá­-á­á®°-á®¹á±-á±á±-á±ê -ê©ê£-ê£ê¤-ê¤ê§-ê§ê©-ê©ê¯°-ê¯¹]",o="\\r",r="\\n",a="[\v\fÂ\u2028\u2029]",s="[Ì-Í¯Ò-ÒÖ-Ö½Ö¿×××××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à¤-à¤à¤º-à¤¼à¤¾-à¥à¥-à¥à¥¢à¥£à¦-à¦à¦¼à¦¾-à§à§à§à§-à§à§à§¢à§£à¨-à¨à¨¼à¨¾-à©à©à©à©-à©à©à©°à©±à©µàª-àªàª¼àª¾-à«à«-à«à«-à«à«¢à«£à¬-à¬à¬¼à¬¾-à­à­à­à­-à­à­à­à­¢à­£à®à®¾-à¯à¯-à¯à¯-à¯à¯à°-à°à°¾-à±à±-à±à±-à±à±à±à±¢à±£à²à²à²¼à²¾-à³à³-à³à³-à³à³à³à³¢à³£à´à´à´¾-àµàµ-àµàµ-àµàµàµ¢àµ£à¶à¶à·à·-à·à·à·-à·à·²à·³à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»àº¼à»-à»à¼à¼à¼µà¼·à¼¹à¼¾à¼¿à½±-à¾à¾à¾à¾-à¾à¾-à¾¼à¿á«-á¾á-áá-á á¢-á¤á§-á­á±-á´á-ááá-áá-áá-áá²-á´ááá²á³á¶-ááá -á á¢©á¤ -á¤«á¤°-á¤»á¦°-á§á§á§á¨-á¨á©-á©á© -á©¼á©¿á¬-á¬á¬´-á­á­«-á­³á®-á®á®¡-á®ªá¯¦-á¯³á°¤-á°·á³-á³á³-á³¨á³­á³²á·-á·¦á·¼-á·¿âââ-â°â³¯-â³±âµ¿â· -â·¿ãª-ã¯ããê¯-ê²ê¼ê½ê°ê±ê ê ê ê £-ê §ê¢ê¢ê¢´-ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³-ê§ê¨©-ê¨¶ê©ê©ê©ê©»êª°êª²-êª´êª·êª¸êª¾êª¿ê«ê¯£-ê¯ªê¯¬ê¯­ï¬ï¸-ï¸ï¸ -ï¸¦ï¾ï¾]",l="[Â­Ø-ØÛÜá´áµâââª-â®â -â¤âª-â¯\ufeffï¿¹-ï¿»]",c="[ã±-ãµããã -ãºã¼-ã¿ã°-ã¿ã-ã¾ã-ãï½¦-ï¾]",u="[_â¿ââï¸³ï¸´ï¹-ï¹ï¼¿]",d="[!-#%-*,-\\/:;?@\\[-\\]_{}Â¡Â«Â·Â»Â¿;Â·Õ-ÕÖÖÖ¾××××³×´ØØØØØØØÙª-Ù­ÛÜ-Üß·-ß¹à °-à ¾à¡à¥¤à¥¥à¥°à·´à¹à¹à¹à¼-à¼à¼º-à¼½à¾à¿-à¿à¿à¿á-áá»á¡-á¨áá­á®ááá«-á­áµá¶á-áá-áá -á á¥á¥á¨á¨áª -áª¦áª¨-áª­á­-á­ á¯¼-á¯¿á°»-á°¿á±¾á±¿á³â-â§â°-ââ-ââ-ââ½â¾ââããâ¨-âµâââ¦-â¯â¦-â¦â§-â§â§¼â§½â³¹-â³¼â³¾â³¿âµ°â¸-â¸®â¸°â¸±ã-ãã-ãã-ãã°ã½ã ã»ê¾ê¿ê-êê³ê¾ê²-ê·ê¡´-ê¡·ê£ê£ê£¸-ê£ºê¤®ê¤¯ê¥ê§-ê§ê§ê§ê©-ê©ê«ê«ê¯«ï´¾ï´¿ï¸-ï¸ï¸°-ï¹ï¹-ï¹¡ï¹£ï¹¨ï¹ªï¹«ï¼-ï¼ï¼-ï¼ï¼-ï¼ï¼ï¼ï¼ï¼ ï¼»-ï¼½ï¼¿ï½ï½ï½-ï½¥]";return{characterIndices:{ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},SETS:[new RegExp("[A-Za-zÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-ËË-ËË -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½ÎÎ-ÎÎÎ-Î¡Î£-ÏµÏ·-ÒÒ-Ô§Ô±-ÕÕÕ¡-Ö×-×ª×°-×³Ø -ÙÙ®Ù¯Ù±-ÛÛÛ¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ-Ü¯Ý-Þ¥Þ±ß-ßªß´ßµßºà -à à à ¤à ¨à¡-à¡à¤-à¤¹à¤½à¥à¥-à¥¡à¥±-à¥·à¥¹-à¥¿à¦-à¦à¦à¦à¦-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§à§à§à§-à§¡à§°à§±à¨-à¨à¨à¨à¨-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©-à©à©à©²-à©´àª-àªàª-àªàª-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à¬-à¬à¬à¬à¬-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­à­à­-à­¡à­±à®à®-à®à®-à®à®-à®à®à®à®à®à®à®£à®¤à®¨-à®ªà®®-à®¹à¯à°-à°à°-à°à°-à°¨à°ª-à°³à°µ-à°¹à°½à±à±à± à±¡à²-à²à²-à²à²-à²¨à²ª-à²³à²µ-à²¹à²½à³à³ à³¡à³±à³²à´-à´à´-à´à´-à´ºà´½àµàµ àµ¡àµº-àµ¿à¶-à¶à¶-à¶±à¶³-à¶»à¶½à·-à·à¼à½-à½à½-à½¬à¾-à¾á -áá-áºá¼á-áá-áá-ááá-áá -áá-áá-á°á²-áµá¸-á¾áá-áá-áá-áá-áá-áá-áá -á´á-á¬á¯-á¿á-áá -áªá®-á°á-áá-áá -á±á-áá -á¬á®-á°á  -á¡·á¢-á¢¨á¢ªá¢°-á£µá¤-á¤á¨-á¨á¬-á¬³á­-á­á®-á® á®®á®¯á¯-á¯¥á°-á°£á±-á±á±-á±½á³©-á³¬á³®-á³±á´-á¶¿á¸-á¼á¼-á¼á¼ -á½á½-á½á½-á½á½á½á½á½-á½½á¾-á¾´á¾¶-á¾¼á¾¾á¿-á¿á¿-á¿á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â-ââââ-âââ-ââ¤â¦â¨âª-â­â¯-â¹â¼-â¿â-âââ -ââ¶-â©â°-â°®â°°-â±â± -â³¤â³«-â³®â´-â´¥â´°-âµ¥âµ¯â¶-â¶â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·-â·â·-â·â·-â·â·-â·â¸¯ãã»ã¼ã-ã­ã±-ãã -ãºê-êê-ê½ê-êê-êêªê«ê-ê®ê¿-êê -ê¯ê-êê¢-êê-êêêê -ê©êº-ê ê -ê ê -ê ê -ê ¢ê¡-ê¡³ê¢-ê¢³ê£²-ê£·ê£»ê¤-ê¤¥ê¤°-ê¥ê¥ -ê¥¼ê¦-ê¦²ê§ê¨-ê¨¨ê©-ê©ê©-ê©ê¬-ê¬ê¬-ê¬ê¬-ê¬ê¬ -ê¬¦ê¬¨-ê¬®ê¯-ê¯¢ê°-í£í°-íí-í»ï¬-ï¬ï¬-ï¬ï¬ï¬-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­ï­ï­ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½ï¾ -ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿]"),new RegExp(e),new RegExp(t),new RegExp(n),new RegExp(i),new RegExp(o),new RegExp(r),new RegExp(a),new RegExp(s),new RegExp(l),new RegExp(c),new RegExp(u),new RegExp("@")],EMPTY_STRING:"",PUNCTUATION:new RegExp("^"+d+"$"),WHITESPACE:/\s/}}),i("8",[],function(){function e(e,t,n){var i,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(i=0,o=e.length;i<o;i++)if(!1===t.call(n,e[i],i,e))return 0}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))return 0;return 1}return{each:e,map:function(n,i){var o=[];return e(n,function(e,t){o.push(i(e,t,n))}),o}}}),i("6",["5","8"],function(e,o){function r(e){for(var t,n=s,i=a.length,o=0;o<i;++o)if((t=a[o])&&t.test(e)){n=o;break}return n}var a=e.SETS,s=e.characterIndices.OTHER;return{classify:function(e){var n,i,t=(n=r,i={},function(e){if(i[e])return i[e];var t=n(e);return i[e]=t});return o.map(e.split(""),t)}}}),i("7",["5"],function(e){var r=e.characterIndices;return{isWordBoundary:function(e,t){var n,i=e[t],o=e[t+1];return!(t<0||t>e.length-1&&0!==t||i===r.ALETTER&&o===r.ALETTER||(n=e[t+2],i===r.ALETTER&&(o===r.MIDLETTER||o===r.MIDNUMLET||o===r.AT)&&n===r.ALETTER||(t=e[t-1],(i===r.MIDLETTER||i===r.MIDNUMLET||o===r.AT)&&o===r.ALETTER&&t===r.ALETTER||!(i!==r.NUMERIC&&i!==r.ALETTER||o!==r.NUMERIC&&o!==r.ALETTER)||(i===r.MIDNUM||i===r.MIDNUMLET)&&o===r.NUMERIC&&t===r.NUMERIC||i===r.NUMERIC&&(o===r.MIDNUM||o===r.MIDNUMLET)&&n===r.NUMERIC||i===r.EXTEND||i===r.FORMAT||t===r.EXTEND||t===r.FORMAT||o===r.EXTEND||o===r.FORMAT||i===r.CR&&o===r.LF||i!==r.NEWLINE&&i!==r.CR&&i!==r.LF&&o!==r.NEWLINE&&o!==r.CR&&o!==r.LF&&(i===r.KATAKANA&&o===r.KATAKANA||o===r.EXTENDNUMLET&&(i===r.ALETTER||i===r.NUMERIC||i===r.KATAKANA||i===r.EXTENDNUMLET)||i===r.EXTENDNUMLET&&(o===r.ALETTER||o===r.NUMERIC||o===r.KATAKANA)||i===r.AT))))}}}),i("3",["5","6","7"],function(e,u,d){function h(e,t,n){var i=function(e,t){for(var n=t;n<e.length;++n){var i=e.charAt(n);if(p.test(i))break}return n}(t,n+1);return"://"===(t=t.substring(n+1,i)).substr(0,3)?{word:e+t,index:i}:{word:e,index:n}}var f=e.EMPTY_STRING,p=e.WHITESPACE,m=e.PUNCTUATION;return{getWords:function(e,t){var n,i,o=0,r=u.classify(e),a=r.length,s=[],l=[];for((t=t||{}).ignoreCase&&(e=e.toLowerCase()),n=t.includePunctuation,i=t.includeWhitespace;o<a;++o){var c=e.charAt(o);s.push(c),d.isWordBoundary(r,o)&&(!(s=s.join(f))||!i&&p.test(s)||!n&&m.test(s)||("http"===(c=s)||"https"===c?(c=h(s,e,o),l.push(c.word),o=c.index):l.push(s)),s=[])}return l}}}),i("0",["1","2","3"],function(e,r,t){return e.add("wordcount",function(n){function i(){return t.getWords((e=n).removed?"":e.getBody().innerText).length;var e}function o(){n.theme.panel.find("#wordcount").text(["Words: {0}",i()])}return n.on("init",function(){var e=n.theme.panel&&n.theme.panel.find("#statusbar")[0],t=r.debounce(o,300);e&&r.setEditorTimeout(n,function(){e.insert({type:"label",name:"wordcount",text:["Words: {0}",i()],classes:"wordcount",disabled:n.settings.readonly},0),n.on("setcontent beforeaddundo undo redo keyup",t)},0)}),{getCount:i}}),function(){}}),l("0")()}(),function(){var s={},e=function(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},n=e,e=function(e,t){n(e,[],function(){return t})};e("6",tinymce.util.Tools.resolve),n("1",["6"],function(e){return e("tinymce.PluginManager")}),n("2",["6"],function(e){return e("tinymce.util.Delay")}),e("8",Array),e("9",Error),n("b",["8","9"],function(r,t){function e(e){return function(){return e}}return{noop:function(){},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:e,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(i){for(var o=new r(arguments.length-1),e=1;e<arguments.length;e++)o[e-1]=arguments[e];return function(){for(var e=new r(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];var n=o.concat(e);return i.apply(null,n)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:e(!1),always:e(!0)}}),e("h",Object),n("7",["b","h"],function(e,t){function r(){return l}var n,a=e.never,s=e.always,l=(n={fold:function(e,t){return e()},is:a,isSome:a,isNone:s,getOr:o,getOrThunk:i,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:o,orThunk:i,map:r,ap:r,each:function(){},bind:r,flatten:r,exists:a,forall:s,filter:r,equals:n=function(e){return e.isNone()},equals_:n,toArray:function(){return[]},toString:e.constant("none()")},t.freeze&&t.freeze(n),n),c=function(n){function e(){return n}function t(){return o}function i(e){return e(n)}var o={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:s,isNone:a,getOr:e,getOrThunk:e,getOrDie:e,or:t,orThunk:t,map:function(e){return c(e(n))},ap:function(e){return e.fold(r,function(e){return c(e(n))})},each:function(e){e(n)},bind:i,flatten:e,exists:i,forall:i,filter:function(e){return e(n)?o:l},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(a,function(e){return t(n,e)})},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o};function i(e){return e()}function o(e){return e}return{some:c,none:r,from:function(e){return null==e?l:c(e)}}}),e("a",String),n("3",["7","8","9","a"],function(r,a,o,s){function n(e,t){return-1<f(e,t)}function i(e,t){for(var n=e.length,i=new a(n),o=0;o<n;o++){var r=e[o];i[o]=t(r,o,e)}return i}function l(e,t){for(var n=0,i=e.length;n<i;n++){t(e[n],n,e)}}function c(e,t){for(var n=e.length-1;0<=n;n--){t(e[n],n,e)}}function u(e,t){for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i];t(r,i,e)&&n.push(r)}return n}function d(e){for(var t=[],n=0,i=e.length;n<i;++n){if(!a.prototype.isPrototypeOf(e[n]))throw new o("Arr.flatten item "+n+" was not an array, input: "+e);g.apply(t,e[n])}return t}function t(e,t){for(var n=0,i=e.length;n<i;++n){if(!0!==t(e[n],n,e))return!1}return!0}var h,f=void 0===(h=a.prototype.indexOf)?function(e,t){return m(e,t)}:function(e,t){return h.call(e,t)},p=function(e,t){for(var n=0,i=e.length;n<i;n++){if(t(e[n],n,e))return r.some(n)}return r.none()},m=function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return n;return-1},g=a.prototype.push,v=a.prototype.slice;return{map:i,each:l,eachr:c,partition:function(e,t){for(var n=[],i=[],o=0,r=e.length;o<r;o++){var a=e[o];(t(a,o,e)?n:i).push(a)}return{pass:n,fail:i}},filter:u,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),i=[],o=[],r=0,a=e.length;r<a;r++){var s=e[r],l=t(s);l!==n&&(i.push(o),o=[]),n=l,o.push(s)}return 0!==o.length&&i.push(o),i},indexOf:function(e,t){t=f(e,t);return-1===t?r.none():r.some(t)},foldr:function(e,t,n){return c(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return l(e,function(e){n=t(n,e)}),n},find:function(e,t){for(var n=0,i=e.length;n<i;n++){var o=e[n];if(t(o,n,e))return r.some(o)}return r.none()},findIndex:p,flatten:d,bind:function(e,t){t=i(e,t);return d(t)},forall:t,exists:function(e,t){return p(e,t).isSome()},contains:n,equal:function(e,n){return e.length===n.length&&t(e,function(e,t){return e===n[t]})},reverse:function(e){e=v.call(e,0);return e.reverse(),e},chunk:function(e,t){for(var n=[],i=0;i<e.length;i+=t){var o=e.slice(i,i+t);n.push(o)}return n},difference:function(e,t){return u(e,function(e){return!n(t,e)})},mapToObject:function(e,t){for(var n={},i=0,o=e.length;i<o;i++){var r=e[i];n[s(r)]=t(r,i)}return n},pure:function(e){return[e]},sort:function(e,t){e=v.call(e,0);return e.sort(t),e},range:function(e,t){for(var n=[],i=0;i<e;i++)n.push(t(i));return n}}}),n("c",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),e("d",document),n("4",["b","9","c","d"],function(t,n,i,o){var r=function(e){if(null==e)throw new n("Node cannot be null or undefined");return{dom:t.constant(e)}};return{fromHtml:function(e,t){t=(t||o).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw i.error("HTML does not have a single root node",e),"HTML must have a single root node";return r(t.childNodes[0])},fromTag:function(e,t){e=(t||o).createElement(e);return r(e)},fromText:function(e,t){e=(t||o).createTextNode(e);return r(e)},fromDom:r}}),n("e",[],function(){function e(e,t){var n,i="";for(n in e)i+=n;return new RegExp("["+i+"]",t?"g":"")}function t(e){var t,n="";for(t in e)n&&(n+=","),n+="span.mce-"+e[t];return n}var n={"Â ":"nbsp","Â­":"shy"};return{charMap:n,regExp:e(n),regExpGlobal:e(n,!0),selector:t(n),charMapToRegExp:e,charMapToSelector:t}}),n("i",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),n("g",["i"],function(t){function n(e){return e.dom().nodeName.toLowerCase()}function i(e){return e.dom().nodeType}var e=function(t){return function(e){return i(e)===t}},o=e(t.ELEMENT),r=e(t.TEXT),e=e(t.DOCUMENT);return{name:n,type:i,value:function(e){return e.dom().nodeValue},isElement:o,isText:r,isDocument:e,isComment:function(e){return i(e)===t.COMMENT||"#comment"===n(e)}}}),n("j",["e"],function(t){return{wrapCharWithSpan:function(e){return'<span data-mce-bogus="1" class="mce-'+t.charMap[e]+'">'+e+"</span>"}}}),n("f",["3","4","g","e","j"],function(i,o,t,n,r){var a=function(e,t){var n=[],e=e.dom(),e=i.map(e.childNodes,o.fromDom);return i.each(e,function(e){t(e)&&(n=n.concat([e])),n=n.concat(a(e,t))}),n};return{isMatch:function(e){return t.isText(e)&&void 0!==t.value(e)&&n.regExp.test(t.value(e))},filterDescendants:a,findParentElm:function(e,t){for(;e.parentNode;){if(e.parentNode===t)return e;e=e.parentNode}},replaceWithSpans:function(e){return e.replace(n.regExpGlobal,r.wrapCharWithSpan)}}}),n("5",["e","f","3","4","g"],function(n,r,a,t,s){function o(n,e){var i,o,e=r.filterDescendants(t.fromDom(e),r.isMatch);a.each(e,function(e){var t=r.replaceWithSpans(s.value(e));for(o=n.dom.create("div",null,t);i=o.lastChild;)n.dom.insertAfter(i,e.dom());n.dom.remove(e.dom())})}function l(t,e){e=t.dom.select(n.selector,e),a.each(e,function(e){t.dom.remove(e,1)})}return{show:o,hide:l,toggle:function(e){var t=e.getBody(),n=e.selection.getBookmark(),i=r.findParentElm(e.selection.getNode(),t);l(e,i=void 0!==i?i:t),o(e,i),e.selection.moveToBookmark(n)}}}),n("0",["1","2","3","4","5"],function(e,n,t,i,a){return e.add("visualchars",function(i){function e(){var t=this;i.on("VisualChars",function(e){t.active(e.state)})}var o,r=this,t=n.debounce(function(){a.toggle(i)},300);!1!==i.settings.forced_root_block&&i.on("keydown",function(e){!0===r.state&&(13===e.keyCode?a.toggle(i):t())}),i.addCommand("mceVisualChars",function(){var e,t=i.getBody(),n=i.selection;o=!o,r.state=o,i.fire("VisualChars",{state:o}),e=n.getBookmark(),!0===o?a.show(i,t):a.hide(i,t),n.moveToBookmark(e)}),i.addButton("visualchars",{title:"Show invisible characters",cmd:"mceVisualChars",onPostRender:e}),i.addMenuItem("visualchars",{text:"Show invisible characters",cmd:"mceVisualChars",onPostRender:e,selectable:!0,context:"view",prependToContext:!0})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="2",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["2"],function(e){return e("tinymce.PluginManager")}),i("0",["1"],function(e){return e.add("visualblocks",function(n,i){function e(){var e=this;e.active(r),n.on("VisualBlocks",function(){e.active(n.dom.hasClass(n.getBody(),"mce-visualblocks"))})}var o,r;window.NodeList&&(n.addCommand("mceVisualBlocks",function(){var e,t=n.dom;o||(o=t.uniqueId(),e=t.create("link",{id:o,rel:"stylesheet",href:i+"/css/visualblocks.css"}),n.getDoc().getElementsByTagName("head")[0].appendChild(e)),n.on("PreviewFormats AfterPreviewFormats",function(e){r&&t.toggleClass(n.getBody(),"mce-visualblocks","afterpreviewformats"==e.type)}),t.toggleClass(n.getBody(),"mce-visualblocks"),r=n.dom.hasClass(n.getBody(),"mce-visualblocks"),n.fire("VisualBlocks")}),n.addButton("visualblocks",{title:"Show blocks",cmd:"mceVisualBlocks",onPostRender:e}),n.addMenuItem("visualblocks",{text:"Show blocks",cmd:"mceVisualBlocks",onPostRender:e,selectable:!0,context:"view",prependToContext:!0}),n.on("init",function(){n.settings.visualblocks_default_state&&n.execCommand("mceVisualBlocks",!1,null,{skip_focus:!0})}),n.on("remove",function(){n.dom.removeClass(n.getBody(),"mce-visualblocks")}))}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="7",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["7"],function(e){return e("tinymce.PluginManager")}),i("2",["7"],function(e){return e("tinymce.util.Delay")}),i("3",["7"],function(e){return e("tinymce.util.VK")}),i("8",["7"],function(e){return e("tinymce.dom.TreeWalker")}),i("9",["7"],function(e){return e("tinymce.util.Tools")}),i("a",[],function(){return{findPattern:function(e,t){for(var n=0;n<e.length;n++)if(0===t.indexOf(e[n].start)&&(!e[n].end||t.lastIndexOf(e[n].end)===t.length-e[n].end.length))return e[n]},findEndPattern:function(e,t,n,i){for(var o,r,a,s,l=e.sort(function(e,t){return e.start.length>t.start.length?-1:e.start.length<t.start.length?1:0}),c=0;c<l.length;c++)if(void 0!==(o=l[c]).end&&(r=o,a=n,s=i,t.substr(a-r.end.length-s,r.end.length)===r.end)&&0<n-i-(r=o).end.length-r.start.length)return o}}}),i("4",["8","9","a"],function(u,d,h){return{applyInlineFormat:function(r,e,t){var a,s,l,c,u,n,i=r.selection,o=r.dom;if(i.isCollapsed()&&(i=i.getRng(!0),a=i.startContainer,s=i.startOffset,i=a.data,u=!0===t?1:0,3==a.nodeType&&(void 0!==(c=h.findEndPattern(e,i,s,u))&&(l=Math.max(0,s-u),-1!==(l=i.lastIndexOf(c.start,l-c.end.length-1))&&((n=o.createRng()).setStart(a,l),n.setEnd(a,s-u),(c=h.findPattern(e,n.toString()))&&c.end&&!(a.data.length<=c.start.length+c.end.length))))))return(n=r.formatter.get(c.format))&&n[0].inline?(r.undoManager.transact(function(){var e,t,n,i,o;e=a,t=c,n=s,o=u,(e=0<(i=l)?e.splitText(i):e).splitText(n-i-o),e.deleteData(0,t.start.length),e.deleteData(e.data.length-t.end.length,t.end.length),a=e,r.formatter.apply(c.format,{},a)}),a):void 0},applyBlockFormat:function(e,t){var n,i,o,r,a,s,l=e.selection,c=e.dom;if(l.isCollapsed()&&(s=c.getParent(l.getStart(),"p"))){for(r=new u(s,s);i=r.next();)if(3==i.nodeType){n=i;break}n&&(o=h.findPattern(t,n.data))&&(c=(a=l.getRng(!0)).startContainer,s=a.startOffset,n==c&&(s=Math.max(0,s-o.start.length)),d.trim(n.data).length!=o.start.length&&(!o.format||(t=e.formatter.get(o.format))&&t[0].block&&(n.deleteData(0,o.start.length),e.formatter.apply(o.format,{},n),a.setStart(c,s),a.collapse(!0),l.setRng(a)),o.cmd&&e.undoManager.transact(function(){n.deleteData(0,o.start.length),e.execCommand(o.cmd)})))}}}}),i("5",["3","4"],function(n,o){function i(e,t,n){for(var i=0;i<e.length;i++)if(n(e[i],t))return!0}return{handleEnter:function(e,t){var n,i=o.applyInlineFormat(e,t,!1);i&&((n=e.dom.createRng()).setStart(i,i.data.length),n.setEnd(i,i.data.length),e.selection.setRng(n)),o.applyBlockFormat(e,t)},handleInlineKey:function(e,t){var n,i=o.applyInlineFormat(e,t,!0);i&&(n=e.dom,t=i.data.slice(-1),/[\u00a0 ]/.test(t)&&(i.deleteData(i.data.length-1,1),t=n.doc.createTextNode(t),i.nextSibling?n.insertAfter(t,i.nextSibling):i.parentNode.appendChild(t),(n=n.createRng()).setStart(t,1),n.setEnd(t,1),e.selection.setRng(n)))},checkCharCode:function(e,t){return i(e,t,function(e,t){return e.charCodeAt(0)===t.charCode})},checkKeyCode:function(e,t){return i(e,t,function(e,t){return e===t.keyCode&&!1===n.modifierPressed(t)})}}}),i("6",[],function(){var t=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}];return{getPatterns:function(e){return void 0!==e.textpattern_patterns?e.textpattern_patterns:t}}}),i("0",["1","2","3","4","5","6"],function(e,r,a,t,s,l){return e.add("textpattern",function(t){var n=l.getPatterns(t.settings),i=[",",".",";",":","!","?"],o=[32];t.on("keydown",function(e){13!==e.keyCode||a.modifierPressed(e)||s.handleEnter(t,n)},!0),t.on("keyup",function(e){s.checkKeyCode(o,e)&&s.handleInlineKey(t,n)}),t.on("keypress",function(e){s.checkCharCode(i,e)&&r.setEditorTimeout(t,function(){s.handleInlineKey(t,n)})}),this.setPatterns=function(e){n=e},this.getPatterns=function(){return n}}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="5",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["5"],function(e){return e("tinymce.dom.DOMUtils")}),i("2",["5"],function(e){return e("tinymce.PluginManager")}),i("3",["5"],function(e){return e("tinymce.util.I18n")}),i("4",["5"],function(e){return e("tinymce.util.Tools")}),i("0",["1","2","3","4"],function(f,e,t,p){var m=t.translate;return e.add("textcolor",function(u){function e(){function e(e,t){var n="transparent"==e;return'<td class="mce-grid-cell'+(n?" mce-colorbtn-trans":"")+'"><div id="'+a+"-"+s+++'" data-mce-color="'+(e||"")+'" role="option" tabIndex="-1" style="'+(e?"background-color: "+e:"")+'" title="'+m(t)+'">'+(n?"&#215;":"")+"</div></td>"}var t,n,i,o,r,a=this._id,s=0,l=this.settings.origin,c=function(e){var t,n=[],i=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"];for(i=u.settings.textcolor_map||i,i=u.settings[e+"_map"]||i,t=0;t<i.length;t+=2)n.push({text:i[t+1],color:"#"+i[t]});return n}(l);for(c.push({text:m("No color"),color:"transparent"}),t='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',n=c.length-1,o=0;o<d[l];o++){for(t+="<tr>",i=0;i<h[l];i++)n<(r=o*h[l]+i)?t+="<td></td>":t+=e((r=c[r]).color,r.text);t+="</tr>"}if(u.settings.color_picker_callback){for(t+='<tr><td colspan="'+h[l]+'" class="mce-custom-color-btn"><div id="'+a+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+a+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+m("Custom...")+"</button></div></td></tr>",t+="<tr>",i=0;i<h[l];i++)t+=e("","Custom color");t+="</tr>"}return t+"</tbody></table>"}function o(e,t){u.undoManager.transact(function(){u.focus(),u.formatter.apply(e,{value:t}),u.nodeChanged()})}function c(e){u.undoManager.transact(function(){u.focus(),u.formatter.remove(e,{value:null},null,!0),u.nodeChanged()})}function t(e){function r(e){s.hidePanel(),s.color(e),o(s.settings.format,e)}function a(e,t){e.style.background=t,e.setAttribute("data-mce-color",t)}var t,n,i,s=this.parent(),l=s.settings.origin;f.DOM.getParent(e.target,".mce-custom-color-btn")&&(s.hidePanel(),u.settings.color_picker_callback.call(u,function(e){for(var t,n=s.panel.getEl().getElementsByTagName("table")[0],i=p.map(n.rows[n.rows.length-1].childNodes,function(e){return e.firstChild}),o=0;o<i.length&&(t=i[o]).getAttribute("data-mce-color");o++);if(o==h[l])for(o=0;o<h[l]-1;o++)a(i[o],i[o+1].getAttribute("data-mce-color"));a(t,e),r(e)},(n=s.settings.format,u.dom.getParents(u.selection.getStart(),function(e){(e=e.style["forecolor"==n?"color":"background-color"])&&(i=e)}),i))),(t=e.target.getAttribute("data-mce-color"))?(this.lastId&&document.getElementById(this.lastId).setAttribute("aria-selected",!1),e.target.setAttribute("aria-selected",!0),this.lastId=e.target.id,"transparent"==t?(s.hidePanel(),s.resetColor(),c(s.settings.format)):r(t)):null!==t&&s.hidePanel()}function n(){this._color?o(this.settings.format,this._color):c(this.settings.format)}var d={forecolor:u.settings.forecolor_rows||u.settings.textcolor_rows||5,backcolor:u.settings.backcolor_rows||u.settings.textcolor_rows||5},h={forecolor:u.settings.forecolor_cols||u.settings.textcolor_cols||8,backcolor:u.settings.backcolor_cols||u.settings.textcolor_cols||8};u.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{origin:"forecolor",role:"application",ariaRemember:!0,html:e,onclick:t},onclick:n}),u.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{origin:"backcolor",role:"application",ariaRemember:!0,html:e,onclick:t},onclick:n})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="6",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["6"],function(e){return e("tinymce.dom.DOMUtils")}),i("2",["6"],function(e){return e("tinymce.PluginManager")}),i("3",["6"],function(e){return e("tinymce.util.JSON")}),i("4",["6"],function(e){return e("tinymce.util.Tools")}),i("5",["6"],function(e){return e("tinymce.util.XHR")}),i("0",["1","2","3","4","5"],function(r,e,i,u,d){return e.add("template",function(s){function e(t){return function(){var e=s.settings.templates;return"function"==typeof e?void e(t):void("string"==typeof e?d.send({url:e,success:function(e){t(i.parse(e))}}):t(e))}}function t(e){var i,o,t=[];e&&0!==e.length?(u.each(e,function(e){t.push({selected:!t.length,text:e.title,value:{url:e.url,content:e.content,description:e.description}})}),(i=s.windowManager.open({title:"Insert template",layout:"flex",direction:"column",align:"stretch",padding:15,spacing:10,items:[{type:"form",flex:0,padding:0,items:[{type:"container",label:"Templates",items:{type:"listbox",label:"Templates",name:"template",values:t,onselect:function(e){function t(e){var t;-1==e.indexOf("<html>")&&(t="",u.each(s.contentCSS,function(e){t+='<link type="text/css" rel="stylesheet" href="'+s.documentBaseURI.toAbsolute(e)+'">'}),-1!=(n=s.settings.body_class||"").indexOf("=")&&(n=(n=s.getParam("body_class","","hash"))[s.id]||""),e="<!DOCTYPE html><html><head>"+t+'</head><body class="'+n+'">'+e+"</body></html>"),e=c(e,"template_preview_replace_values");var n=i.find("iframe")[0].getEl().contentWindow.document;n.open(),n.write(e),n.close()}var n=e.control.value();n.url?d.send({url:n.url,success:function(e){t(o=e)}}):t(o=n.content),i.find("#description")[0].text(e.control.value().description)}}}]},{type:"label",name:"description",label:"Description",text:"Â "},{type:"iframe",flex:1,border:1}],onsubmit:function(){n(0,o)},minWidth:Math.min(r.DOM.getViewPort().w,s.getParam("template_popup_width",600)),minHeight:Math.min(r.DOM.getViewPort().h,s.getParam("template_popup_height",500))})).find("listbox")[0].fire("select")):(e=s.translate("No templates defined."),s.notificationManager.open({text:e,type:"info"}))}function a(e,t){function n(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e}var i="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),o="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),r="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="January February March April May June July August September October November December".split(" ");return t=t||new Date,(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+t.getFullYear())).replace("%y",""+t.getYear())).replace("%m",n(t.getMonth()+1,2))).replace("%d",n(t.getDate(),2))).replace("%H",""+n(t.getHours(),2))).replace("%M",""+n(t.getMinutes(),2))).replace("%S",""+n(t.getSeconds(),2))).replace("%I",""+((t.getHours()+11)%12+1))).replace("%p",t.getHours()<12?"AM":"PM")).replace("%B",""+s.translate(a[t.getMonth()]))).replace("%b",""+s.translate(r[t.getMonth()]))).replace("%A",""+s.translate(o[t.getDay()]))).replace("%a",""+s.translate(i[t.getDay()]))).replace("%%","%")}function l(e){var i=s.dom,o=s.getParam("template_replace_values");u.each(i.select("*",e),function(n){u.each(o,function(e,t){i.hasClass(n,t)&&"function"==typeof o[t]&&o[t](n)})})}function c(n,e){return u.each(s.getParam(e),function(e,t){"function"==typeof e&&(e=e(t)),n=n.replace(new RegExp("\\{\\$"+t+"\\}","g"),e)}),n}function n(e,t){function n(e,t){return new RegExp("\\b"+t+"\\b","g").test(e.className)}var i,o=s.dom,r=s.selection.getContent();t=c(t,"template_replace_values"),i=o.create("div",null,t),(t=o.select(".mceTmpl",i))&&0<t.length&&(i=o.create("div",null)).appendChild(t[0].cloneNode(!0)),u.each(o.select("*",i),function(e){n(e,s.getParam("template_cdate_classes","cdate").replace(/\s+/g,"|"))&&(e.innerHTML=a(s.getParam("template_cdate_format",s.getLang("template.cdate_format")))),n(e,s.getParam("template_mdate_classes","mdate").replace(/\s+/g,"|"))&&(e.innerHTML=a(s.getParam("template_mdate_format",s.getLang("template.mdate_format")))),n(e,s.getParam("template_selected_content_classes","selcontent").replace(/\s+/g,"|"))&&(e.innerHTML=r)}),l(i),s.execCommand("mceInsertContent",!1,i.innerHTML),s.addVisual()}s.addCommand("mceInsertTemplate",n),s.addButton("template",{title:"Insert template",onclick:e(t)}),s.addMenuItem("template",{text:"Template",onclick:e(t),context:"insert"}),s.on("PreProcess",function(e){var t=s.dom;u.each(t.select("div",e.node),function(e){t.hasClass(e,"mceTmpl")&&(u.each(t.select("*",e),function(e){t.hasClass(e,s.getParam("template_mdate_classes","mdate").replace(/\s+/g,"|"))&&(e.innerHTML=a(s.getParam("template_mdate_format",s.getLang("template.mdate_format"))))}),l(e))})})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="b",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["b"],function(e){return e("tinymce.dom.TreeWalker")}),i("2",["b"],function(e){return e("tinymce.Env")}),i("3",["b"],function(e){return e("tinymce.PluginManager")}),i("4",["b"],function(e){return e("tinymce.util.Tools")}),i("5",["b"],function(e){return e("tinymce.util.VK")}),i("c",["2"],function(t){function i(n){return function(e,t){e&&(1===(t=parseInt(t,10))||0===t?e.removeAttribute(n,1):e.setAttribute(n,t,1))}}function n(t){return function(e){return parseInt(e.getAttribute(t)||1,10)}}return{setColSpan:i("colSpan"),setRowSpan:i("rowspan"),getColSpan:n("colSpan"),getRowSpan:n("rowSpan"),setSpanVal:function(e,t,n){i(t)(e,n)},getSpanVal:function(e,t){return n(t)(e)},paddCell:function(e){(!t.ie||9<t.ie)&&(e.hasChildNodes()||(e.innerHTML='<br data-mce-bogus="1" />'))}}}),i("d",["4","c"],function(a,s){function l(e,t,n){return e[n]?e[n][t]:null}function c(e,t,n){return(n=l(e,t,n))?n.elm:null}function u(e,t,n,i){for(var o=0,r=c(e,t,n),a=n;(0<i?a<e.length:0<=a)&&r===l(e,t,a).elm;a+=i)o++;return o}function o(e,t,n){for(var i,o=e[n],r=t;r<o.length;r++)if((i=o[r]).real)return i.elm;return null}function d(e,t){var n=e.elm.ownerDocument.createElement("td");return s.setColSpan(n,s.getColSpan(e.elm)),s.setRowSpan(n,t),s.paddCell(n),n}function h(e,t,n,i){(n=o(e,n+1,i))?n.parentNode.insertBefore(t,n):(n=o(e,0,i)).parentNode.appendChild(t)}return{splitAt:function(n,e,i,o){var t=function(e,t){for(var n,i=[],o=e[t],r=0;r<o.length;r++)n=o[r],i.push({elm:n.elm,above:u(e,r,t,-1)-1,below:u(e,r,t,1)-1}),r+=s.getColSpan(n.elm)-1;return i}(n,i),e=c(n,e,i).parentNode,r=[];return a.each(t,function(e,t){null!==(o?function(e,t,n,i){if(0===t.above)return null;s.setRowSpan(t.elm,t.above);t=d(t,t.below+1);return h(e,t,n,i),t}:function(e,t,n,i){if(0===t.below)return null;s.setRowSpan(t.elm,t.above+1);t=d(t,t.below);return h(e,t,n,i+1),t})(n,e,t,i)&&r.push(r)}),{cells:r,row:e}}}}),i("6",["4","2","c","d"],function(R,O,L,B){var H=R.each,z=L.getSpanVal,j=L.setSpanVal;return function(t,i,o){function h(){t.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function n(e){return e===t.getBody()}function r(e,t){return e?(t=R.map(t.split(","),function(e){return e.toLowerCase()}),R.grep(e.childNodes,function(e){return-1!==R.inArray(t,e.nodeName.toLowerCase())})):[]}function f(){var t=0;S=[],D=0,H(["thead","tbody","tfoot"],function(s){var e=r(i,s)[0],e=r(e,"tr");H(e,function(e,a){a+=t,H(r(e,"td,th"),function(e,t){var n,i,o,r;if(S[a])for(;S[a][t];)t++;for(o=z(e,"rowspan"),r=z(e,"colspan"),i=a;i<a+o;i++)for(S[i]||(S[i]=[]),n=t;n<t+r;n++)S[i][n]={part:s,real:i==a&&n==t,elm:e,rowspan:o,colspan:r};D=Math.max(D,t+1)})}),t+=e.length})}function p(e){return t.fire("newrow",{node:e}),e}function m(e){return t.fire("newcell",{node:e}),e}function d(e,t){return(e=e.cloneNode(t)).removeAttribute("id"),e}function g(e,t){if(t=S[t])return t[e]}function v(e){return e&&(!!I.getAttrib(e.elm,"data-mce-selected")||e==o)}function a(){var n=[];return H(i.rows,function(t){H(t.cells,function(e){if(I.getAttrib(e,"data-mce-selected")||o&&e==o.elm)return n.push(t),!1})}),n}function y(n){var i,o={};return!1!==t.settings.table_clone_elements&&(o=R.makeMap((t.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),R.walk(n,function(e){var t;if(3==e.nodeType)return H(I.getParents(e.parentNode,null,n).reverse(),function(e){o[e.nodeName]&&(e=d(e,!1),i?t&&t.appendChild(e):i=t=e,t=e)}),t&&(t.innerHTML=O.ie&&O.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1},"childNodes"),m(n=d(n,!1)),j(n,"rowSpan",1),j(n,"colSpan",1),i?n.appendChild(i):L.paddCell(n),n}function b(){var e=I.createRng();return H(I.select("tr",i),function(e){0===e.cells.length&&I.remove(e)}),0===I.select("tr",i).length?(e.setStartBefore(i),e.setEndBefore(i),P.setRng(e),void I.remove(i)):(H(I.select("thead,tbody,tfoot",i),function(e){0===e.rows.length&&I.remove(e)}),f(),void(A&&((e=S[Math.min(S.length-1,A.y)])&&(P.select(e[Math.min(e.length-1,A.x)].elm,!0),P.collapse(!0)))))}function s(e,t,n,i){for(var o,r,a,s=S[t][e].elm.parentNode,l=1;l<=n;l++)if(s=I.getNext(s,"tr")){for(o=e;0<=o;o--)if((a=S[t+l][o].elm).parentNode==s){for(r=1;r<=i;r++)I.insertAfter(y(a),a);break}if(-1==o)for(r=1;r<=i;r++)s.insertBefore(y(s.cells[0]),s.cells[0])}}function x(){H(S,function(e,r){H(e,function(e,t){var n,i,o;if(v(e)&&(e=e.elm,n=z(e,"colspan"),i=z(e,"rowspan"),1<n||1<i)){for(j(e,"rowSpan",1),j(e,"colSpan",1),o=0;o<n-1;o++)I.insertAfter(y(e),e);s(t,r,i-1,n)}})})}function w(e,t,n){for(var i=[],o=0;o<e.length;o++)(o<t||n<o)&&i.push(e[o]);return i}function k(e){return R.grep(e,function(e){return!1===e.real})}function C(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].elm;t[t.length-1]!==i&&t.push(i)}return t}function _(e,t,n,i,o){var r=0;if(i-t<1)return 0;for(var a=t+1;a<=i;a++){var s=w(function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(g(t,i));return n}(e,a),n,o),l=k(s);s.length===l.length&&(R.each(C(l),function(e){L.setColSpan(e,L.getColSpan(e)-1)}),r++)}return r}function l(n){var i,e,t,o,r,a,s,l,c,u;if(H(S,function(e,t){if(H(e,function(e){if(v(e)&&(e=e.elm,r=e.parentNode,a=p(d(r,!1)),i=t,n))return!1}),n)return void 0===i}),void 0!==i){for(u=o=0;o<S[0].length;o+=u)if(S[i][o]&&(e=S[i][o].elm,u=z(e,"colspan"),e!=t)){if(n){if(0<i&&S[i-1][o]&&(l=S[i-1][o].elm,1<(c=z(l,"rowSpan")))){j(l,"rowSpan",c+1);continue}}else if(1<(c=z(e,"rowspan"))){j(e,"rowSpan",c+1);continue}s=y(e),j(s,"colSpan",e.colSpan),a.appendChild(s),t=e}a.hasChildNodes()&&(n?r.parentNode.insertBefore(a,r):I.insertAfter(a,r))}}function c(o){var r,a;H(S,function(e){if(H(e,function(e,t){if(v(e)&&(r=t,o))return!1}),o)return void 0===r}),H(S,function(e,t){var n,i;!e[r]||(n=e[r].elm)!=a&&(i=z(n,"colspan"),e=z(n,"rowspan"),1==i?(o?n.parentNode.insertBefore(y(n),n):I.insertAfter(y(n),n),s(r,t,e-1,i)):j(n,"colSpan",n.colSpan+1),a=n)})}function u(e){var t=[];return H(e,function(e){H(e,function(e){t.push(e)})}),t}function T(i){var o;return H(S,function(e,n){return H(e,function(e,t){if(e.elm==i)return!(o={x:t,y:n})}),!o}),o}var S,D,A,M,E,N,P=t.selection,I=P.dom;i=i||I.getParent(P.getStart(!0),"table"),f(),(o=o||I.getParent(P.getStart(!0),"th,td"))&&(A=T(o),N=E=0,H(S,function(e,i){H(e,function(e,t){var n;v(e)&&(e=S[i][t],N<t&&(N=t),E<i&&(E=i),e.real&&(n=e.colspan-1,e=e.rowspan-1,n&&N<t+n&&(N=t+n),e&&E<i+e&&(E=i+e)))})}),M={x:N,y:E},o=g(A.x,A.y)),R.extend(this,{deleteTable:function(){var e=I.createRng();n(i)||(e.setStartAfter(i),e.setEndAfter(i),P.setRng(e),I.remove(i))},split:x,merge:function(e,t,n){var i,o,r,a,s,l,c,u,d;if(e?(r=(i=(h=T(e)).x)+(t-1),a=(o=h.y)+(n-1)):(A=M=null,H(S,function(e,n){H(e,function(e,t){v(e)&&(A=A||{x:t,y:n},M={x:t,y:n})})}),A&&(i=A.x,o=A.y,r=M.x,a=M.y)),c=g(i,o),h=g(r,a),c&&h&&c.part==h.part){x(),f(),n=function(e,t,n,i,o){var r=0;if(o-n<1)return 0;for(var a=n+1;a<=o;a++){var s=w((s=e)[l=a]?s[l]:null,t,i),l=k(s);s.length===l.length&&(R.each(C(l),function(e){L.setRowSpan(e,L.getRowSpan(e)-1)}),r++)}return r}(S,i,o,r,a),h=_(S,i,o,r,a),c=g(i,o).elm;var h=r-i-h+1,n=a-o-n+1;for(h===D&&n===S.length&&(n=h=1),h===D&&1<n&&(n=1),j(c,"colSpan",h),j(c,"rowSpan",n),l=o;l<=a;l++)for(s=i;s<=r;s++)S[l]&&S[l][s]&&((e=S[l][s].elm)!=c&&(u=R.grep(e.childNodes),H(u,function(e){c.appendChild(e)}),u.length&&(u=R.grep(c.childNodes),d=0,H(u,function(e){"BR"==e.nodeName&&d++<u.length-1&&c.removeChild(e)})),I.remove(e)));b()}},insertRow:l,insertRows:function(e,t){t=t||a().length||1;for(var n=0;n<t;n++)l(e)},insertCol:c,insertCols:function(e,t){var n;t=t||(n=0,H(S,function(e){if(H(e,function(e){v(e)&&n++}),n)return!1}),n)||1;for(var i=0;i<t;i++)c(e)},splitCols:function(e){A&&(e=B.splitAt(S,A.x,A.y,e),R.each(e.cells,m))},deleteCols:function(){var e,t=[];if(n(i)){if(1==S[0].length)return;if(e=S,R.grep(u(e),v).length==u(S).length)return}H(S,function(e){H(e,function(e,n){v(e)&&-1===R.inArray(t,n)&&(H(S,function(e){var t=e[n].elm,e=z(t,"colSpan");1<e?j(t,"colSpan",e-1):I.remove(t)}),t.push(n))})}),b()},deleteRows:function(){var e=a();n(i)&&e.length==i.rows.length||(H(e.reverse(),function(e){var n,i;H((e=e).cells,function(e){var t=z(e,"rowSpan");1<t&&(j(e,"rowSpan",t-1),s((n=T(e)).x,n.y,1,1))}),n=T(e.cells[0]),H(S[n.y],function(e){var t;(e=e.elm)!=i&&((t=z(e,"rowSpan"))<=1?I.remove(e):j(e,"rowSpan",t-1),i=e)})}),b())},cutRows:function(){var e=a();if(!n(i)||e.length!=i.rows.length)return I.remove(e),b(),e},copyRows:function(){var n=a();return H(n,function(e,t){n[t]=d(e,!0)}),n},pasteRows:function(e,c){var t,u,d=[];e&&(t=B.splitAt(S,A.x,A.y,c),u=t.row,R.each(t.cells,m),e=R.map(e,function(e){return e.cloneNode(!0)}),H(e,function(e,t,n){var i,o,r,a,s=e.cells.length,l=0;for(p(e),i=0;i<s;i++)o=e.cells[i],a=z(o,"colspan"),r=z(o,"rowspan"),l+=a,1<r&&(l--,t+r>n.length?(r=n.length-t,j(o,"rowSpan",r),d.push(n.length-1)):d.push(t+r-1)),m(o);for(H(d,function(e){t<=e&&l++}),i=l;i<D;i++)e.appendChild(y(e.cells[s-1]));for(i=D;i<l;i++)o=e.cells[e.cells.length-1],1<(a=z(o,"colspan"))?j(o,"colSpan",a-1):I.remove(o);c?u.parentNode.insertBefore(e,u):u=I.insertAfter(e,u)}),h())},getPos:T,setStartCell:function(e){A=T(e)},setEndCell:function(e){var t,n,i,o,r,a,s,l,c;if(M=T(e),A&&M){for(t=Math.min(A.x,M.x),n=Math.min(A.y,M.y),r=i=Math.max(A.x,M.x),a=o=Math.max(A.y,M.y),c=n;c<=o;c++)for(l=t;l<=i;l++)(e=S[c][l]).real&&((s=e.colspan-1)&&r<l+s&&(r=l+s),(s=e.rowspan-1)&&a<c+s&&(a=c+s));for(h(),c=n;c<=a;c++)for(l=t;l<=r;l++)S[c][l]&&I.setAttrib(S[c][l].elm,"data-mce-selected","1")}},moveRelIdx:function(e,t){var n,i=T(e),o=i.y*D+i.x;do{if(!(n=g((o+=t)%D,Math.floor(o/D))))break;if(n.elm!=e)return P.select(n.elm,!0),I.isEmpty(n.elm)&&P.collapse(!0),!0}while(n.elm==e);return!1},refresh:f})}}),i("7",["6","1","4"],function(g,v,y){return function(s,o){function t(e){s.getBody().style.webkitUserSelect="",(e||m)&&(s.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),m=!1)}function r(e,t){return e&&t&&e===p.getParent(t,"table")}function e(e){var t,n,i=e.target;if(!h&&!f&&i!==d&&(d=i,a&&u)&&(n=p.getParent(i,"td,th"),r(a,n)||(n=p.getParent(a,"td,th")),(u!==n||m)&&(o(!0),r(a,n)))){e.preventDefault(),c||(c=new g(s,a,u),s.getBody().style.webkitUserSelect="none"),c.setEndCell(n),m=!0,t=s.selection.getSel();try{t.removeAllRanges?t.removeAllRanges():t.empty()}catch(e){}}}function l(){u=c=a=d=null,o(!1)}var c,u,a,d,h,f,p=s.dom,m=!0;return s.on("SelectionChange",function(e){m&&e.stopImmediatePropagation()},!0),s.on("MouseDown",function(e){2==e.button||h||f||(t(),u=p.getParent(e.target,"td,th"),a=p.getParent(u,"table"))}),s.on("mouseover",e),s.on("remove",function(){p.unbind(s.getDoc(),"mouseover",e),t()}),s.on("MouseUp",function(){function e(e,t){var n=new v(e,e);do{if(3==e.nodeType&&0!==y.trim(e.nodeValue).length)return t?i.setStart(e,0):i.setEnd(e,e.nodeValue.length),0;if("BR"==e.nodeName)return t?i.setStartBefore(e):i.setEndBefore(e),0}while(e=t?n.next():n.prev())}var i,t,n,o,r,a=s.selection;if(u){if(c&&(s.getBody().style.webkitUserSelect=""),0<(t=p.select("td[data-mce-selected],th[data-mce-selected]")).length){i=p.createRng(),o=t[0],i.setStartBefore(o),i.setEndAfter(o),e(o,1),n=new v(o,p.getParent(t[0],"table"));do{if("TD"==o.nodeName||"TH"==o.nodeName){if(!p.getAttrib(o,"data-mce-selected"))break;r=o}}while(o=n.next());e(r),a.setRng(i)}s.nodeChanged(),l()}}),s.on("KeyUp Drop SetContent",function(e){t("setcontent"==e.type),l(),h=!1}),s.on("ObjectResizeStart ObjectResized",function(e){h="objectresized"!=e.type}),s.on("dragstart",function(){f=!0}),s.on("drop dragend",function(){f=!1}),{clear:t}}}),i("8",["4","2"],function(x,d){var w=x.each;return function(h){function t(){var e=h.settings.color_picker_callback;if(e)return function(){var t=this;e.call(h,function(e){t.value(e).fire("change")},t.value())}}function f(e){return{title:"Advanced",type:"form",defaults:{onchange:function(){y(e,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:t()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:t()}]}]}}function p(e){return e?e.replace(/px$/,""):""}function m(e){return/^[0-9]+$/.test(e)&&(e+="px"),e}function g(t){w("left center right".split(" "),function(e){h.formatter.remove("align"+e,{},t)})}function v(e,o,t){return function n(e,i){return i=i||[],x.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=n(e.menu):(t.value=e.value,o&&o(t)),i.push(t)}),i}(e,t||[])}function y(e,t,n){var i=t.toJSON(),o=e.parseStyle(i.style);n?(t.find("#borderColor").value(o["border-color"]||"")[0].fire("change"),t.find("#backgroundColor").value(o["background-color"]||"")[0].fire("change")):(o["border-color"]=i.borderColor,o["background-color"]=i.backgroundColor),t.find("#style").value(e.serializeStyle(e.parseStyle(e.serializeStyle(o))))}function b(e,t,n){n=e.parseStyle(e.getAttrib(n,"style"));n["border-color"]&&(t.borderColor=n["border-color"]),n["background-color"]&&(t.backgroundColor=n["background-color"]),t.style=e.serializeStyle(n)}var e=this;e.tableProps=function(){e.table(!0)},e.table=function(e){function t(){function r(e,t,n){if("TD"===e.tagName||"TH"===e.tagName)c.setStyle(e,t,n);else if(e.children)for(var i=0;i<e.children.length;i++)r(e.children[i],t,n)}var a;y(c,this),!1===(u=x.extend(u,this.toJSON())).class&&delete u.class,h.undoManager.transact(function(){if(s=s||h.plugins.table.insertTable(u.cols||1,u.rows||1),h.dom.setAttribs(s,{style:u.style,class:u.class}),h.settings.table_style_by_css){if((l=[]).push({name:"border",value:u.border}),l.push({name:"border-spacing",value:m(u.cellspacing)}),n=s,i=l,o=(t=c).parseStyle(t.getAttrib(n,"style")),w(i,function(e){o[e.name]=e.value}),t.setAttrib(n,"style",t.serializeStyle(t.parseStyle(t.serializeStyle(o)))),c.setAttribs(s,{"data-mce-border-color":u.borderColor,"data-mce-cell-padding":u.cellpadding,"data-mce-border":u.border}),s.children)for(var e=0;e<s.children.length;e++)r(s.children[e],"border",u.border),r(s.children[e],"padding",m(u.cellpadding))}else h.dom.setAttribs(s,{border:u.border,cellpadding:u.cellpadding,cellspacing:u.cellspacing});var t,n,i,o;c.getAttrib(s,"width")&&!h.settings.table_style_by_css?c.setAttrib(s,"width",p(u.width)):c.setStyle(s,"width",m(u.width)),c.setStyle(s,"height",m(u.height)),(a=c.select("caption",s)[0])&&!u.caption&&c.remove(a),!a&&u.caption&&((a=c.create("caption")).innerHTML=d.ie?"Â ":'<br data-mce-bogus="1"/>',s.insertBefore(a,s.firstChild)),g(s),u.align&&h.formatter.apply("align"+u.align,{},s),h.focus(),h.addVisual()})}function n(e,o){return function(e,t){for(var n=0;n<t.length;n++){var i=c.getStyle(t[n],o);if(void 0===e&&(e=i),e!=i)return""}return e}(void 0,h.dom.select("td,th",e))}var s,i,o,r,l,c=h.dom,u={};!0===e?(s=c.getParent(h.selection.getStart(),"table"))&&(u={width:p(c.getStyle(s,"width")||c.getAttrib(s,"width")),height:p(c.getStyle(s,"height")||c.getAttrib(s,"height")),cellspacing:p(c.getStyle(s,"border-spacing")||c.getAttrib(s,"cellspacing")),cellpadding:c.getAttrib(s,"data-mce-cell-padding")||c.getAttrib(s,"cellpadding")||n(s,"padding"),border:c.getAttrib(s,"data-mce-border")||c.getAttrib(s,"border")||n(s,"border"),borderColor:c.getAttrib(s,"data-mce-border-color"),caption:!!c.select("caption",s)[0],class:c.getAttrib(s,"class")},w("left center right".split(" "),function(e){h.formatter.matchNode(s,"align"+e)&&(u.align=e)})):(i={label:"Cols",name:"cols"},o={label:"Rows",name:"rows"}),h.settings.table_class_list&&(u.class&&(u.class=u.class.replace(/\s*mce\-item\-table\s*/g,"")),r={name:"class",type:"listbox",label:"Class",values:v(h.settings.table_class_list,function(e){e.value&&(e.textStyle=function(){return h.formatter.getCssText({block:"table",classes:[e.value]})})})}),!(r={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==h.settings.table_appearance_options?[i,o,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[i,o,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},r]})!==h.settings.table_advtab?(b(c,u,s),h.windowManager.open({title:"Table properties",data:u,bodyType:"tabpanel",body:[{title:"General",type:"form",items:r},f(c)],onsubmit:t})):h.windowManager.open({title:"Table properties",data:u,body:r,onsubmit:t})},e.merge=function(t,n){h.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var e=this.toJSON();h.undoManager.transact(function(){t.merge(n,e.cols,e.rows)})}})},e.cell=function(){function n(e,t,n){1!==a.length&&!n||r.setAttrib(e,t,n)}function i(e,t,n){1!==a.length&&!n||r.setStyle(e,t,n)}function e(){y(r,this),o=x.extend(o,this.toJSON()),h.undoManager.transact(function(){w(a,function(e){var t;n(e,"scope",o.scope),n(e,"style",o.style),n(e,"class",o.class),i(e,"width",m(o.width)),i(e,"height",m(o.height)),o.type&&e.nodeName.toLowerCase()!==o.type&&(e=r.rename(e,o.type)),1===a.length&&(g(e),t=e,w("top middle bottom".split(" "),function(e){h.formatter.remove("valign"+e,{},t)})),o.align&&h.formatter.apply("align"+o.align,{},e),o.valign&&h.formatter.apply("valign"+o.valign,{},e)}),h.focus()})}var o,t,r=h.dom,a=[],a=h.dom.select("td[data-mce-selected],th[data-mce-selected]"),s=h.dom.getParent(h.selection.getStart(),"td,th");!a.length&&s&&a.push(s),(s=s||a[0])&&(1<a.length?o={width:"",height:"",scope:"",class:"",align:"",style:"",type:s.nodeName.toLowerCase()}:((o={width:p(r.getStyle(s,"width")||r.getAttrib(s,"width")),height:p(r.getStyle(s,"height")||r.getAttrib(s,"height")),scope:r.getAttrib(s,"scope"),class:r.getAttrib(s,"class")}).type=s.nodeName.toLowerCase(),w("left center right".split(" "),function(e){h.formatter.matchNode(s,"align"+e)&&(o.align=e)}),w("top middle bottom".split(" "),function(e){h.formatter.matchNode(s,"valign"+e)&&(o.valign=e)}),b(r,o,s)),h.settings.table_cell_class_list&&(t={name:"class",type:"listbox",label:"Class",values:v(h.settings.table_cell_class_list,function(e){e.value&&(e.textStyle=function(){return h.formatter.getCssText({block:"td",classes:[e.value]})})})}),!(t={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},t]})!==h.settings.table_cell_advtab?h.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:o,body:[{title:"General",type:"form",items:t},f(r)],onsubmit:e}):h.windowManager.open({title:"Cell properties",data:o,body:t,onsubmit:e}))},e.row=function(){function l(e,t,n){1!==d.length&&!n||u.setAttrib(e,t,n)}function e(){var r,a,s;y(u,this),c=x.extend(c,this.toJSON()),h.undoManager.transact(function(){var o=c.type;w(d,function(e){var t,n,i;l(e,"scope",c.scope),l(e,"style",c.style),l(e,"class",c.class),t=e,n="height",i=m(c.height),1!==d.length&&!i||u.setStyle(t,n,i),o!==e.parentNode.nodeName.toLowerCase()&&(r=u.getParent(e,"table"),a=e.parentNode,(s=u.select(o,r)[0])||(s=u.create(o),r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s)),s.appendChild(e),a.hasChildNodes()||u.remove(a)),1===d.length&&g(e),c.align&&h.formatter.apply("align"+c.align,{},e)}),h.focus()})}var t,c,n,u=h.dom,d=[],i=h.dom.getParent(h.selection.getStart(),"table"),o=h.dom.getParent(h.selection.getStart(),"td,th");w(i.rows,function(t){w(t.cells,function(e){if(u.getAttrib(e,"data-mce-selected")||e==o)return d.push(t),!1})}),(t=d[0])&&(1<d.length?c={height:"",scope:"",class:"",align:"",type:t.parentNode.nodeName.toLowerCase()}:((c={height:p(u.getStyle(t,"height")||u.getAttrib(t,"height")),scope:u.getAttrib(t,"scope"),class:u.getAttrib(t,"class")}).type=t.parentNode.nodeName.toLowerCase(),w("left center right".split(" "),function(e){h.formatter.matchNode(t,"align"+e)&&(c.align=e)}),b(u,c,t)),h.settings.table_row_class_list&&(n={name:"class",type:"listbox",label:"Class",values:v(h.settings.table_row_class_list,function(e){e.value&&(e.textStyle=function(){return h.formatter.getCssText({block:"tr",classes:[e.value]})})})}),!(n={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},n]})!==h.settings.table_row_advtab?h.windowManager.open({title:"Row properties",data:c,bodyType:"tabpanel",body:[{title:"General",type:"form",items:n},f(u)],onsubmit:e}):h.windowManager.open({title:"Row properties",data:c,body:n,onsubmit:e}))}}}),i("9",["4","5"],function(de,he){var fe;return function(f){function c(e,t){return{index:e,y:f.dom.getPos(t).y}}function o(e,t){return{index:e,y:f.dom.getPos(t).y+t.offsetHeight}}function n(e,t){return{index:e,x:f.dom.getPos(t).x}}function i(e,t){return{index:e,x:f.dom.getPos(t).x+t.offsetWidth}}function r(){return"rtl"===f.getBody().dir}function u(){return f.getBody().ownerDocument.body}function d(e,t){return(r()?i:n)(e,t)}function h(e,t){return(r()?n:i)(e,t)}function p(e,t){t=f.dom.getStyle(e,t,!0);return parseInt(t,10)}function m(e){return p(e,"width")/p(e.parentElement,"width")*100}function g(e,t,n){for(var i=[],o=1;o<n.length;o++){var r=n[o].element;i.push(e(o-1,r))}var a=n[n.length-1];return i.push(t(n.length-1,a.element)),i}function a(){var e=f.dom.select("."+X,u());de.each(e,function(e){f.dom.remove(e)})}function s(e){a(),k(e)}function v(e,t,n,i,o,r,a,s){r={"data-mce-bogus":"all",class:X+" "+e,unselectable:"on","data-mce-resize":!1,style:"cursor: "+t+"; margin: 0; padding: 0; position: absolute; left: "+n+"px; top: "+i+"px; height: "+o+"px; width: "+r+"px; "};return r[a]=s,r}function y(e){return de.map(e.rows,function(e){return{element:e,cells:de.map(e.cells,function(e){var t=e.hasAttribute("rowspan")?parseInt(e.getAttribute("rowspan"),10):1,n=e.hasAttribute("colspan")?parseInt(e.getAttribute("colspan"),10):1;return{element:e,rowspan:t,colspan:n}})}})}function b(e){var c={},n=[],u=0,d=0;return de.each(e,function(e,s){var l=[];de.each(e.cells,function(e){for(var t=0;void 0!==c[s+","+t];)t++;for(var n={element:e.element,colspan:e.colspan,rowspan:e.rowspan,rowIndex:s,colIndex:t},i=0;i<e.colspan;i++)for(var o=0;o<e.rowspan;o++){var r=s+o,a=t+i;c[r+","+a]=n,u=Math.max(u,r+1),d=Math.max(d,a+1)}l.push(n)}),n.push({element:e.element,cells:l})}),{grid:{maxRows:u,maxCols:d},getAt:function(e,t){return c[e+","+t]},getAllCells:function(){var t=[];return de.each(n,function(e){t=t.concat(e.cells)}),t},getAllRows:function(){return n}}}function t(e,t){for(var n=[],i=e;i<t;i++)n.push(i);return n}function l(e,t,n){for(var i,o=e(),r=0;r<o.length;r++)t(o[r])&&(i=o[r]);return i||n()}function x(o){var e=t(0,o.grid.maxCols),r=t(0,o.grid.maxRows);return de.map(e,function(i){return l(function(){for(var e=[],t=0;t<r.length;t++){var n=o.getAt(t,i);n&&n.colIndex===i&&e.push(n)}return e},function(e){return 1===e.colspan},function(){for(var e,t=0;t<r.length;t++)if(e=o.getAt(t,i))return e;return null})})}function w(o){var r=t(0,o.grid.maxCols),e=t(0,o.grid.maxRows);return de.map(e,function(i){return l(function(){for(var e=[],t=0;t<r.length;t++){var n=o.getAt(i,t);n&&n.rowIndex===i&&e.push(n)}return e},function(e){return 1===e.rowspan},function(){return o.getAt(i,0)})})}function k(e){var r,a,s,l,t=b(y(e)),n=w(t),i=x(t),t=f.dom.getPos(e),n=0<n.length?g(c,o,n):[],i=0<i.length?g(d,h,i):[];n=n,s=e.offsetWidth,l=t,de.each(n,function(e){var t=l.x,n=e.y-re/2,i=re,o=s;f.dom.add(u(),"div",v(K,Z,t,n,i,o,J,e.index))}),i=i,r=e.offsetHeight,a=t,de.each(i,function(e){var t=e.x-re/2,n=a.y,i=r,o=re;f.dom.add(u(),"div",v(te,ne,t,n,i,o,ie,e.index))})}function C(e,t,n,i){if(t<0||t>=e.length-1)return"";var o=e[t];if(o)o={value:o,delta:0};else for(var r=e.slice(0,t).reverse(),a=0;a<r.length;a++)r[a]&&(o={value:r[a],delta:a+1});var s=e[t+1];if(s)s={value:s,delta:1};else for(var l=e.slice(t+1),c=0;c<l.length;c++)l[c]&&(s={value:l[c],delta:c+1});t=s.delta-o.delta,t=Math.abs(s.value-o.value)/t;return n?t/p(i,"width")*100:t}function _(e,t){var n=f.dom.getStyle(e,t);return n=(n=n||f.dom.getAttrib(e,t))||f.dom.getStyle(e,t,!0)}function T(e,t,n){var i=_(e,"width"),o=parseInt(i,10),e=t?(n=n,p(e,"width")/p(n,"width")*100):p(e,"width");return(t&&!I(i)||!t&&!R(i))&&(o=0),!isNaN(o)&&0<o?o:e}function S(e,t,n){for(var i=x(e),o=de.map(i,function(e){return d(e.colIndex,e.element).x}),r=[],a=0;a<i.length;a++){var s=(s=1<(i[a].element.hasAttribute("colspan")?parseInt(i[a].element.getAttribute("colspan"),10):1)?C(o,a):T(i[a].element,t,n))||ae;r.push(s)}return r}function D(e){for(var t,n,i=w(e),o=de.map(i,function(e){return c(e.rowIndex,e.element).y}),r=[],a=0;a<i.length;a++){var s=(s=1<(i[a].element.hasAttribute("rowspan")?parseInt(i[a].element.getAttribute("rowspan"),10):1)?C(o,a):(s=i[a].element,n=t=void 0,t=_(s,"height"),n=parseInt(t,10),I(t)&&(n=0),!isNaN(n)&&0<n?n:p(s,"height")))||se;r.push(s)}return r}function A(e,t,r,a,n){function s(e){return de.map(e,function(){return 0})}function i(e,t){var n,i=s(u.slice(0,e)),o=s(u.slice(t+1));return 0<=r?(n=Math.max(a,u[t]-r),i.concat([r,n-u[t]]).concat(o)):(n=Math.max(a,u[e]+r),t=u[e]-n,i.concat([n-u[e],t]).concat(o))}var o,l,c,u=e.slice(0);return 0===e.length?[]:1===e.length?n?[100-u[0]]:[Math.max(a,u[0]+r)-u[0]]:0===t?i(0,1):0<t&&t<e.length-1?i(t,t+1):t===e.length-1?(o=t,c=s(u.slice(0,o)),0<=r?c.concat([r]):(l=Math.max(a,u[o]+r),c.concat([l-u[o]]))):[]}function M(e,t,n){for(var i=0,o=e;o<t;o++)i+=n[o];return i}function E(e,n){e=e.getAllCells();return de.map(e,function(e){var t=M(e.colIndex,e.colIndex+e.colspan,n);return{element:e.element,width:t,colspan:e.colspan}})}function N(e,n){e=e.getAllCells();return de.map(e,function(e){var t=M(e.rowIndex,e.rowIndex+e.rowspan,n);return{element:e.element,height:t,rowspan:e.rowspan}})}function P(e,n){e=e.getAllRows();return de.map(e,function(e,t){return{element:e.element,height:n[t]}})}function I(e){return ce.test(e)}function R(e){return ue.test(e)}function O(o,e,r){for(var a=b(y(o)),s=I(o.width)||I(o.style.width),t=S(a,s,o),n=s?e/p(o,"width")*100:e,i=A(t,r,n,ae,s),l=[],c=0;c<i.length;c++)l.push(i[c]+t[c]);var u=E(a,l),d=s?"%":"px",h=s?r<a.grid.maxCols-1?m(o):m(o)+e/p(o.parentElement,"width")*100:r<a.grid.maxCols-1?p(o,"width"):p(o,"width")+e;f.undoManager.transact(function(){var e,t,n,i;n=u,i=d,de.each(n,function(e){f.dom.setStyle(e.element,"width",e.width+i),f.dom.setAttrib(e.element,"width",null)}),e=h,t=d,n=s,r!=a.grid.maxCols-1&&n||(f.dom.setStyle(o,"width",e+t),f.dom.setAttrib(o,"width",null))})}function L(e,t,n){for(var i=b(y(e)),o=D(i),r=[],a=0,s=0;s<o.length;s++)r.push(s===n?t+o[s]:o[s]),a+=a[s];var l=N(i,r),c=P(i,r);f.undoManager.transact(function(){de.each(c,function(e){f.dom.setStyle(e.element,"height",e.height+"px"),f.dom.setAttrib(e.element,"height",null)}),de.each(l,function(e){f.dom.setStyle(e.element,"height",e.height+"px"),f.dom.setAttrib(e.element,"height",null)}),f.dom.setStyle(e,"height",a+"px"),f.dom.setAttrib(e,"height",null)})}function B(e,t){f.dom.bind(e,"mouseup",function(){H()}),f.dom.bind(e,"mousemove",function(e){clearTimeout(U),Y&&t(e)}),f.dom.bind(e,"mouseout",function(){U=setTimeout(function(){H()},200)})}function H(){var e,t,n,i;f.dom.remove(q),Y&&(f.dom.removeClass(V,le),Y=!1,j(V)?(i=parseInt(f.dom.getAttrib(V,oe),10),n=f.dom.getPos(V).x,e=parseInt(f.dom.getAttrib(V,ie),10),t=r()?i-n:n-i,1<=Math.abs(t)&&O(fe,t,e)):F(V)&&(n=parseInt(f.dom.getAttrib(V,ee),10),i=f.dom.getPos(V).y,e=parseInt(f.dom.getAttrib(V,J),10),t=i-n,1<=Math.abs(t)&&L(fe,t,e)),s(fe),f.nodeChanged())}function z(e,t){var n;q=q||((n=document.createElement("div")).setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),n.setAttribute("data-mce-bogus","all"),n),Y=!0,f.dom.addClass(e,le),V=e,B(q,t),f.dom.add(u(),q)}function j(e){return f.dom.hasClass(e,te)}function F(e){return f.dom.hasClass(e,K)}function W(e){G=void 0!==G?G:e.clientX;var t=e.clientX-G;G=e.clientX;e=f.dom.getPos(V).x;f.dom.setStyle(V,"left",e+t+"px")}function $(e){Q=void 0!==Q?Q:e.clientY;var t=e.clientY-Q;Q=e.clientY;e=f.dom.getPos(V).y;f.dom.setStyle(V,"top",e+t+"px")}function e(e){var t=e.target,n=f.getBody();!f.$.contains(n,fe)&&fe!==n||(j(t)?(e.preventDefault(),n=f.dom.getPos(t).x,f.dom.setAttrib(t,oe,n),G=void 0,z(t,W)):F(t)?(e.preventDefault(),e=f.dom.getPos(t).y,f.dom.setAttrib(t,ee,e),Q=void 0,z(t,$)):a())}var U,Y,q,V,G,Q,X="mce-resize-bar",K="mce-resize-bar-row",Z="row-resize",J="data-row",ee="data-initial-top",te="mce-resize-bar-col",ne="col-resize",ie="data-col",oe="data-initial-left",re=4,ae=10,se=10,le="mce-resize-bar-dragging",ce=new RegExp(/(\d+(\.\d+)?%)/),ue=new RegExp(/px|em/);return f.on("init",function(){f.dom.bind(u(),"mousedown",e)}),f.on("ObjectResized",function(e){var n,e=e.target;"TABLE"===e.nodeName&&(n=[],de.each(e.rows,function(e){de.each(e.cells,function(e){var t=f.dom.getStyle(e,"width",!0);n.push({cell:e,width:t})})}),de.each(n,function(e){f.dom.setStyle(e.cell,"width",e.width),f.dom.setAttrib(e.cell,"width",null)}))}),f.on("mouseover",function(e){var t;Y||(t=f.dom.getParent(e.target,"table"),"TABLE"!==e.target.nodeName&&!t||s(fe=t))}),f.on("keydown",function(e){switch(e.keyCode){case he.LEFT:case he.RIGHT:case he.UP:case he.DOWN:a()}}),f.on("remove",function(){a(),f.dom.unbind(u(),"mousedown",e)}),{adjustWidth:O,adjustHeight:L,clearBars:a,drawBars:k,determineDeltas:A,getTableGrid:b,getTableDetails:y,getWidths:S,getPixelHeights:D,isPercentageBasedSize:I,isPixelBasedSize:R,recalculateWidths:E,recalculateCellHeights:N,recalculateRowHeights:P}}}),i("e",["b"],function(e){return e("tinymce.util.Delay")}),i("a",["5","e","2","4","c"],function(f,p,d,m,g){var v=m.each,y=g.getSpanVal;return function(h){function e(){h.on("KeyDown",function(e){var t,n,i,o,r,a,s=h.dom;37!=e.keyCode&&38!=e.keyCode||(t=h.selection.getRng(),(n=s.getParent(t.startContainer,"table"))&&h.getBody().firstChild==n&&(i=t,r=(o=n).ownerDocument,(a=r.createRange()).setStartBefore(o),a.setEnd(i.endContainer,i.endOffset),(r=r.createElement("body")).appendChild(a.cloneContents()),0===r.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length)&&((t=s.createRng()).setStartBefore(n),t.setEndBefore(n),h.selection.setRng(t),e.preventDefault()))})}function t(){h.on("KeyDown SetContent VisualAid",function(){for(var e=h.getBody().lastChild;e;e=e.previousSibling)if(3==e.nodeType){if(0<e.nodeValue.length)break}else if(1==e.nodeType&&("BR"==e.tagName||!e.getAttribute("data-mce-bogus")))break;e&&"TABLE"==e.nodeName&&(h.settings.forced_root_block?h.dom.add(h.getBody(),h.settings.forced_root_block,h.settings.forced_root_block_attrs,d.ie&&d.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):h.dom.add(h.getBody(),"br",{"data-mce-bogus":"1"}))}),h.on("PreProcess",function(e){e=e.node.lastChild;e&&("BR"==e.nodeName||1==e.childNodes.length&&("BR"==e.firstChild.nodeName||"Â "==e.firstChild.nodeValue))&&e.previousSibling&&"TABLE"==e.previousSibling.nodeName&&h.dom.remove(e)})}function n(){var e,t,n,i,o,r=h.selection.getRng(),a=h.selection.getNode(),s=h.dom.getParent(r.startContainer,"TD,TH");if(t=r,n=a,i=s,(e=(e=h).dom.getParent(t.startContainer,"TABLE"))&&(o=e.parentNode),o=3==t.startContainer.nodeType&&0===t.startOffset&&0===t.endOffset&&i&&("TR"==n.nodeName||n==o),i=("TD"==n.nodeName||"TH"==n.nodeName)&&!i,o||i){for(var l=(s=s||a).lastChild;l.lastChild;)l=l.lastChild;3==l.nodeType&&(r.setEnd(l,l.data.length),h.selection.setRng(r))}}function i(s){function l(e,t){var n=e?"previousSibling":"nextSibling",i=h.dom.getParent(t,"tr"),o=i[n];if(o)return d(0,t,o,e),s.preventDefault(),!0;var r=h.dom.getParent(i,"table"),a=i.parentNode,o=a.nodeName.toLowerCase();if("tbody"===o||o===(e?"tfoot":"thead")){a=function(e,t,n,i){var o=h.dom.select(">"+i,t),i=o.indexOf(n);if(e&&0===i||!e&&i===o.length-1)return function(e,t){e=e?"thead":"tfoot",t=h.dom.select(">"+e,t);return 0!==t.length?t[0]:null}(e,t);if(-1!==i)return o[i+(e?-1:1)];n="thead"===n.tagName.toLowerCase()?0:o.length-1;return o[n]}(e,r,a,"tbody");if(null!==a)return function(e,t,n){t=c(t,e);return t&&d(0,n,t,e),s.preventDefault(),!0}(e,a,t)}return function(e,t,n,i){n=i[n];if(n)return u(n),!0;i=h.dom.getParent(i,"td,th");return i?l(e,i):(u(c(t,!e)),s.preventDefault(),!1)}(e,i,n,r)}function c(e,t){t=e&&e[t?"lastChild":"firstChild"];return t&&"BR"===t.nodeName?h.dom.getParent(t,"td,th"):t}function u(e){h.selection.setCursorLocation(e,0)}function d(e,t,n,i){var o,r,a,t=function(e){for(var t=0,n=e;n.previousSibling;)n=n.previousSibling,t+=y(n,"colspan");return t}(h.dom.getParent(t,"td,th")),t=(o=t,a=r=0,v(n.children,function(e,t){if(r+=y(e,"colspan"),a=t,o<r)return!1}),a),t=n.childNodes[t];u(c(t,i)||t)}function e(e){var t=h.selection.getNode(),t=h.dom.getParent(t,"td,th"),e=h.dom.getParent(e,"td,th");return t&&t!==e&&(t=t,e=e,h.dom.getParent(t,"TABLE")===h.dom.getParent(e,"TABLE"))}var t,n,i,o=s.keyCode;o!=f.UP&&o!=f.DOWN||(i=(n=h).selection.getNode(),null===n.dom.getParent(i,"tr"))||(t=h.selection.getNode(),p.setEditorTimeout(h,function(){e(t)&&l(!s.shiftKey&&o===f.UP,t)},0))}function o(e){h.selection.select(e,!0),h.selection.collapse(!0)}function r(e){h.$(e).empty(),g.paddCell(e)}function a(e){return h.dom.isEmpty(e)||e.firstChild===e.lastChild&&u(e.firstChild)}function s(e,t){var n=t.firstChild;do{if(n===e)return!0}while(n=n.firstChild);return!1}function l(e,t){var n=e.lastChild,i=(o=h.selection.getRng()).startContainer,o=o.startOffset;a(e)?(e.innerHTML=c,i=e.lastChild,o=0):u(n)||function(e,t){t=t?h.dom.create("p",{"data-mce-caret":"after","data-mce-bogus":"all"},'<br data-mce-bogus="1">'):e.ownerDocument.createTextNode(c);e.appendChild(t)}(e,h.dom.isBlock(n)),h.selection.setCursorLocation(i,o)}var c,u;c="\ufeff",u=function(e){if(3===e.nodeType){if(e.data===c)return!0;e=e.parentNode}return 1===e.nodeType&&e.hasAttribute("data-mce-caret")},h.on("keydown",function(e){var t,n,i,o,r;e.keyCode!==f.DELETE&&e.keyCode!==f.BACKSPACE||e.isDefaultPrevented()||(t=h.dom.getParent(h.selection.getStart(),"caption"),(r=t)&&"CAPTION"==r.nodeName&&"TABLE"==r.parentNode.nodeName&&(h.selection.isCollapsed()?(l(t),(a(t)||e.keyCode===f.BACKSPACE&&(i=t,!(o=h.selection.getRng()).startOffset&&!o.startContainer.previousSibling&&s(o.startContainer,i)))&&e.preventDefault()):(n=t,r=h.selection.getRng(),o=h.dom.createRng(),i=n.firstChild,r.commonAncestorContainer===n.parentNode&&s(r.startContainer,n)&&(o.setStart(n,0),1===i.nodeType?o.setEnd(n,n.childNodes.length):o.setEnd(i,i.nodeValue.length),h.selection.setRng(o)),h.undoManager.transact(function(){h.execCommand("Delete"),l(t)}),e.preventDefault())))}),h.on("keydown",function(e){var t,n,i;if((e.keyCode==f.DELETE||e.keyCode==f.BACKSPACE)&&!e.isDefaultPrevented()&&(i=h.dom.getParent(h.selection.getStart(),"table"))){if(t=h.dom.select("td,th",i),0===(n=m.grep(t,function(e){return!!h.dom.getAttrib(e,"data-mce-selected")})).length)return i=h.dom.getParent(h.selection.getStart(),"td,th"),void(h.selection.isCollapsed()&&i&&h.dom.isEmpty(i)&&(e.preventDefault(),r(i),o(i)));e.preventDefault(),h.undoManager.transact(function(){t.length==n.length?h.execCommand("mceTableDelete"):(m.each(n,r),o(n[0]))})}}),d.webkit&&(h.on("KeyDown",function(e){i(e)}),h.on("KeyDown",function(){n()}),h.on("MouseDown",function(e){2!=e.button&&n()})),d.gecko&&(e(),t()),9<d.ie&&(e(),t())}}),i("0",["1","2","3","4","5","6","7","8","9","a"],function(e,p,t,n,m,g,v,y,b,x){var w=n.each;return t.add("table",function(u){function e(e){return function(){u.execCommand(e)}}function n(e,t){for(var n,i,o='<table id="__mce"><tbody>',r=0;r<t;r++){for(o+="<tr>",n=0;n<e;n++)o+="<td>"+(p.ie&&p.ie<10?"&nbsp;":"<br>")+"</td>";o+="</tr>"}return o+="</tbody></table>",u.undoManager.transact(function(){u.insertContent(o),i=u.dom.get("__mce"),u.dom.setAttrib(i,"id",null),u.$("tr",i).each(function(e,t){u.fire("newrow",{node:t}),u.$("th,td",t).each(function(e,t){u.fire("newcell",{node:t})})}),u.dom.setAttribs(i,u.settings.table_default_attributes||{}),u.dom.setStyles(i,u.settings.table_default_styles||{})}),i}function t(o,r,a){function e(){var t={},n=0,e=u.dom.select("td[data-mce-selected],th[data-mce-selected]"),i=e[0];i=i||u.selection.getStart(),i=a&&0<e.length?(w(e,function(e){return t[e.parentNode.parentNode.nodeName]=1}),w(t,function(e){n+=e}),1!==n):!u.dom.getParent(i,r),o.disabled(i),u.selection.selectorChanged(r,function(e){o.disabled(!e)})}u.initialized?e():u.on("init",e)}function i(){t(this,"table")}function o(){t(this,"td,th")}function r(e,t,n){var i,o,r,a,s,l=n.getEl().getElementsByTagName("table")[0],c=n.isRtl()||"tl-tr"==n.parent().rel;for(l.nextSibling.innerHTML=e+1+" x "+(t+1),c&&(e=9-e),o=0;o<10;o++)for(i=0;i<10;i++)a=l.rows[o].childNodes[i].firstChild,s=(c?e<=i:i<=e)&&o<=t,u.dom.toggleClass(a,"mce-active",s),s&&(r=a);return r.parentNode}function a(e){return u.dom.is(e,"table")&&u.getBody().contains(e)}var s,l,c=this,d=new y(u);!u.settings.object_resizing||!1===u.settings.table_resize_bars||!0!==u.settings.object_resizing&&"table"!==u.settings.object_resizing||(l=b(u)),!1===u.settings.table_grid?u.addMenuItem("inserttable",{text:"Table",icon:"table",context:"table",onclick:d.table}):u.addMenuItem("inserttable",{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),d.table())},onshow:function(){r(0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");u.dom.removeClass(e,"mce-active"),u.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:function(){for(var e="",e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">',t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return(e+="</table>")+'<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n=e.target;"A"==n.tagName.toUpperCase()&&(t=parseInt(n.getAttribute("data-mce-x"),10),n=parseInt(n.getAttribute("data-mce-y"),10),!this.isRtl()&&"tl-tr"!=this.parent().rel||(t=9-t),t===this.lastX&&n===this.lastY||(r(t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(e){var t=this;"A"==e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),t.parent().cancel(),u.undoManager.transact(function(){n(t.lastX+1,t.lastY+1)}),u.addVisual())}}]}),u.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:i,onclick:d.tableProps}),u.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:i,cmd:"mceTableDelete"}),u.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:e("mceTableCellProps"),onPostRender:o},{text:"Merge cells",onclick:e("mceTableMergeCells"),onPostRender:function(){t(this,"td,th",!0)}},{text:"Split cell",onclick:e("mceTableSplitCells"),onPostRender:o}]}),u.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:e("mceTableInsertRowBefore"),onPostRender:o},{text:"Insert row after",onclick:e("mceTableInsertRowAfter"),onPostRender:o},{text:"Delete row",onclick:e("mceTableDeleteRow"),onPostRender:o},{text:"Row properties",onclick:e("mceTableRowProps"),onPostRender:o},{text:"-"},{text:"Cut row",onclick:e("mceTableCutRow"),onPostRender:o},{text:"Copy row",onclick:e("mceTableCopyRow"),onPostRender:o},{text:"Paste row before",onclick:e("mceTablePasteRowBefore"),onPostRender:o},{text:"Paste row after",onclick:e("mceTablePasteRowAfter"),onPostRender:o}]}),u.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:e("mceTableInsertColBefore"),onPostRender:o},{text:"Insert column after",onclick:e("mceTableInsertColAfter"),onPostRender:o},{text:"Delete column",onclick:e("mceTableDeleteCol"),onPostRender:o}]});var h,f=[];w("inserttable tableprops deletetable | cell row column".split(" "),function(e){"|"==e?f.push({text:"-"}):f.push(u.menuItems[e])}),u.addButton("table",{type:"menubutton",title:"Table",menu:f}),p.isIE||u.on("click",function(e){"TABLE"===(e=e.target).nodeName&&(u.selection.select(e),u.nodeChanged())}),c.quirks=new x(u),u.on("Init",function(){c.cellSelection=new v(u,function(e){e&&l&&l.clearBars()}),c.resizeBars=l}),u.on("PreInit",function(){u.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})}),w({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(e){var t=u.dom.getParent(u.selection.getStart(),"th,td");u.dom.select("td[data-mce-selected],th[data-mce-selected]").length?e.merge():d.merge(e,t)},mceTableInsertRowBefore:function(e){e.insertRows(!0)},mceTableInsertRowAfter:function(e){e.insertRows()},mceTableInsertColBefore:function(e){e.insertCols(!0)},mceTableInsertColAfter:function(e){e.insertCols()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){s=e.cutRows()},mceTableCopyRow:function(e){s=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(s,!0)},mceTablePasteRowAfter:function(e){e.pasteRows(s)},mceSplitColsBefore:function(e){e.splitCols(!0)},mceSplitColsAfter:function(e){e.splitCols(!1)},mceTableDelete:function(e){l&&l.clearBars(),e.deleteTable()}},function(t,e){u.addCommand(e,function(){var e=new g(u);e&&(t(e),u.execCommand("mceRepaint"),c.cellSelection.clear())})}),w({mceInsertTable:d.table,mceTableProps:function(){d.table(!0)},mceTableRowProps:d.row,mceTableCellProps:d.cell},function(n,e){u.addCommand(e,function(e,t){n(t)})}),u.addButton("tableprops",{title:"Table properties",onclick:d.tableProps,icon:"table"}),u.addButton("tabledelete",{title:"Delete table",onclick:e("mceTableDelete")}),u.addButton("tablecellprops",{title:"Cell properties",onclick:e("mceTableCellProps")}),u.addButton("tablemergecells",{title:"Merge cells",onclick:e("mceTableMergeCells")}),u.addButton("tablesplitcells",{title:"Split cell",onclick:e("mceTableSplitCells")}),u.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:e("mceTableInsertRowBefore")}),u.addButton("tableinsertrowafter",{title:"Insert row after",onclick:e("mceTableInsertRowAfter")}),u.addButton("tabledeleterow",{title:"Delete row",onclick:e("mceTableDeleteRow")}),u.addButton("tablerowprops",{title:"Row properties",onclick:e("mceTableRowProps")}),u.addButton("tablecutrow",{title:"Cut row",onclick:e("mceTableCutRow")}),u.addButton("tablecopyrow",{title:"Copy row",onclick:e("mceTableCopyRow")}),u.addButton("tablepasterowbefore",{title:"Paste row before",onclick:e("mceTablePasteRowBefore")}),u.addButton("tablepasterowafter",{title:"Paste row after",onclick:e("mceTablePasteRowAfter")}),u.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:e("mceTableInsertColBefore")}),u.addButton("tableinsertcolafter",{title:"Insert column after",onclick:e("mceTableInsertColAfter")}),u.addButton("tabledeletecol",{title:"Delete column",onclick:e("mceTableDeleteCol")}),""!==(h=u.settings.table_toolbar)&&!1!==h&&(h=h||"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",u.addContextToolbar(a,h)),!1!==u.settings.table_tab_navigation&&u.on("keydown",function(e){var t,n,i,o=u.selection.getStart();e.keyCode===m.TAB&&(u.dom.getParent(o,"LI,DT,DD")||(t=u.dom.getParent(o,"th,td"))&&(e.preventDefault(),n=new g(u),i=e.shiftKey?-1:1,u.undoManager.transact(function(){!n.moveRelIdx(t,i)&&0<i&&(n.insertRow(),n.refresh(),n.moveRelIdx(t,i))})))}),c.insertTable=n,c.setClipboardRows=function(e){s=e},c.getClipboardRows=function(){return s}}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="7",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["7"],function(e){return e("tinymce.PluginManager")}),i("2",["7"],function(e){return e("tinymce.dom.DOMUtils")}),i("3",["7"],function(e){return e("tinymce.util.Tools")}),i("4",["7"],function(e){return e("tinymce.EditorManager")}),i("5",["7"],function(e){return e("tinymce.util.Delay")}),i("6",["7"],function(e){return e("tinymce.Env")}),i("0",["1","2","3","4","5","6"],function(e,n,l,c,u,d){return e.add("tabfocus",function(a){function e(e){9!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()}function t(n){function e(e){function t(e){return/INPUT|TEXTAREA|BUTTON/.test(e.tagName)&&c.get(n.id)&&-1!=e.tabIndex&&function e(t){return"BODY"===t.nodeName||"hidden"!=t.type&&"none"!=t.style.display&&"hidden"!=t.style.visibility&&e(t.parentNode)}(e)}if(o=s.select(":input:enabled,*[tabindex]:not(iframe)"),l.each(o,function(e,t){if(e.id==a.id)return i=t,!1}),0<e){for(r=i+1;r<o.length;r++)if(t(o[r]))return o[r]}else for(r=i-1;0<=r;r--)if(t(o[r]))return o[r];return null}var i,o,r,t;!(9!==n.keyCode||n.ctrlKey||n.altKey||n.metaKey||n.isDefaultPrevented())&&(1==(t=l.explode(a.getParam("tab_focus",a.getParam("tabfocus_elements",":prev,:next")))).length&&(t[1]=t[0],t[0]=":prev"),o=n.shiftKey?":prev"==t[0]?e(-1):s.get(t[0]):":next"==t[1]?e(1):s.get(t[1]))&&(t=c.get(o.id||o.name),o.id&&t?t.focus():u.setTimeout(function(){d.webkit||window.focus(),o.focus()},10),n.preventDefault())}var s=n.DOM;a.on("init",function(){a.inline&&s.setAttrib(a.getBody(),"tabIndex",null),a.on("keyup",e),d.gecko?a.on("keypress keydown",t):a.on("keydown",t)})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;i("1",[],function(){function v(e){return e&&1==e.nodeType&&"false"===e.contentEditable}return function(a,n){function o(e){var t=a.getElementsByTagName("*"),n=[];e="number"==typeof e?""+e:null;for(var i=0;i<t.length;i++){var o=t[i],r=o.getAttribute("data-mce-index");null!==r&&r.length&&(r!==e&&null!==e||n.push(o))}return n}function r(e){for(var t=l.length;t--;)if(l[t]===e)return t;return-1}function e(e){for(var t=0,n=l.length;t<n&&!1!==e(l[t],t);t++);return this}function t(e){for(var t,n=o(e?r(e):null),i=n.length;i--;)(t=n[i]).parentNode.insertBefore(t.firstChild,t),t.parentNode.removeChild(t);return this}function i(e){var t=o(r(e)),e=n.dom.createRng();return e.setStartBefore(t[0]),e.setEndAfter(t[t.length-1]),e}var s,l=[],g=n.dom,h=n.schema.getBlockElements(),f=n.schema.getWhiteSpaceElements(),p=n.schema.getShortEndedElements(),c=function e(t){var n;if(3===t.nodeType)return t.data;if(f[t.nodeName]&&!h[t.nodeName])return"";if(v(t))return"\n";if(n="",(h[t.nodeName]||p[t.nodeName])&&(n+="\n"),t=t.firstChild)for(;n+=e(t),t=t.nextSibling;);return n}(a);return{text:c,matches:l,each:e,filter:function(n){var i=[];return e(function(e,t){n(e,t)&&i.push(e)}),l=i,this},reset:function(){return l.splice(0,l.length),t(),this},matchFromElement:function(e){return l[e.getAttribute("data-mce-index")]},elementFromMatch:function(e){return o(r(e))[0]},find:function(e,t){if(c&&e.global)for(;s=e.exec(c);)l.push(function(e,t){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";return{start:e.index,end:e.index+e[0].length,text:e[0],data:t}}(s,t));return this},add:function(e,t,n){return l.push({start:e,end:e+t,text:c.substr(e,t),data:n}),this},wrap:function(e){return l.length&&function(e,t,n){var i,o,r,a,s,l=[],c=0,u=e,d=0;(t=t.slice(0)).sort(function(e,t){return e.start-t.start}),s=t.shift();e:for(;;){if((h[u.nodeName]||p[u.nodeName]||v(u))&&c++,3===u.nodeType&&(!o&&u.length+c>=s.end?(o=u,a=s.end-c):i&&l.push(u),!i&&u.length+c>s.start&&(i=u,r=s.start-c),c+=u.length),i&&o){if(u=n({startNode:i,startNodeIndex:r,endNode:o,endNodeIndex:a,innerNodes:l,match:s.text,matchIndex:d}),c-=o.length-a,o=i=null,l=[],d++,!(s=t.shift()))break}else if(f[u.nodeName]&&!h[u.nodeName]||!u.firstChild){if(u.nextSibling){u=u.nextSibling;continue}}else if(!v(u)){u=u.firstChild;continue}for(;;){if(u.nextSibling){u=u.nextSibling;break}if(u.parentNode===e)break e;u=u.parentNode}}}(a,l,(i=e,function(e){var t,n,i=e.startNode,o=e.endNode,r=e.matchIndex,a=g.doc;if(i===o){var s=i,l=s.parentNode;0<e.startNodeIndex&&(t=a.createTextNode(s.data.substring(0,e.startNodeIndex)),l.insertBefore(t,s));var c=m(e.match,r);return l.insertBefore(c,s),e.endNodeIndex<s.length&&(n=a.createTextNode(s.data.substring(e.endNodeIndex)),l.insertBefore(n,s)),s.parentNode.removeChild(s),c}t=a.createTextNode(i.data.substring(0,e.startNodeIndex)),n=a.createTextNode(o.data.substring(e.endNodeIndex));for(var c=m(i.data.substring(e.startNodeIndex),r),u=[],d=0,h=e.innerNodes.length;d<h;++d){var f=e.innerNodes[d],p=m(f.data,r);f.parentNode.replaceChild(p,f),u.push(p)}a=m(o.data.substring(0,e.endNodeIndex),r);return(l=i.parentNode).insertBefore(t,i),l.insertBefore(c,i),l.removeChild(i),(l=o.parentNode).insertBefore(a,o),l.insertBefore(n,o),l.removeChild(o),a})),this;function m(e,t){var n=l[t];n.stencil||(n.stencil=i(n));n=n.stencil.cloneNode(!1);return n.setAttribute("data-mce-index",t),e&&n.appendChild(g.doc.createTextNode(e)),n}var i},unwrap:t,replace:function(e,t){return(e=i(e)).deleteContents(),0<t.length&&e.insertNode(n.dom.doc.createTextNode(t)),e},rangeFromMatch:i,indexOf:r}}}),t="9",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("2",["9"],function(e){return e("tinymce.PluginManager")}),i("3",["9"],function(e){return e("tinymce.util.Tools")}),i("4",["9"],function(e){return e("tinymce.ui.Menu")}),i("5",["9"],function(e){return e("tinymce.dom.DOMUtils")}),i("6",["9"],function(e){return e("tinymce.util.XHR")}),i("7",["9"],function(e){return e("tinymce.util.URI")}),i("8",["9"],function(e){return e("tinymce.util.JSON")}),i("0",["1","2","3","4","5","6","7","8"],function(C,_,T,S,D,A,M,E){return _.add("spellchecker",function(a,s){function n(){return w.textMatcher||(w.textMatcher=new C(a.getBody(),a)),w.textMatcher}function i(n,i){var t=[],e=p[n];T.each(e,function(e){t.push({text:e,onclick:function(){a.insertContent(a.dom.encode(e)),a.dom.remove(i),c()}})}),t.push({text:"-"}),v&&t.push({text:"Add to Dictionary",onclick:function(){var e,t;e=n,t=i,a.setProgressState(!0),l("addToDictionary",e,function(){a.setProgressState(!1),a.dom.remove(t,!0),c()},function(e){a.notificationManager.open({text:e,type:"error"}),a.setProgressState(!1)})}}),t.push.apply(t,[{text:"Ignore",onclick:function(){u(n,i)}},{text:"Ignore all",onclick:function(){u(n,i,!0)}}]),(g=new S({items:t,context:"contextmenu",onautohide:function(e){-1!=e.target.className.indexOf("spellchecker")&&e.preventDefault()},onhide:function(){g.remove(),g=null}})).renderTo(document.body);var o=D.DOM.getPos(a.getContentAreaContainer()),r=a.dom.getPos(i[0]),e=a.dom.getRoot();"BODY"==e.nodeName?(r.x-=e.ownerDocument.documentElement.scrollLeft||e.scrollLeft,r.y-=e.ownerDocument.documentElement.scrollTop||e.scrollTop):(r.x-=e.scrollLeft,r.y-=e.scrollTop),o.x+=r.x,o.y+=r.y,g.moveTo(o.x,o.y+i[0].offsetHeight)}function o(){return a.getParam("spellchecker_wordchar_pattern")||new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`Â§Â©Â«Â®Â±Â¶Â·Â¸Â»Â¼Â½Â¾Â¿ÃÃ·Â¤âââÂ âââ]+',"g")}function r(e,t,n,i){var o={method:e,lang:k.spellchecker_language},r="";o["addToDictionary"==e?"word":"text"]=t,T.each(o,function(e,t){r&&(r+="&"),r+=t+"="+encodeURIComponent(e)}),A.send({url:new M(s).toAbsolute(k.spellchecker_rpc_url),type:"post",content_type:"application/x-www-form-urlencoded",data:r,success:function(e){(e=E.parse(e))?e.error?i(e.error):n(e):(e=a.translate("Server response wasn't proper JSON."),i(e))},error:function(){var e=a.translate("The spelling service was not found: (")+k.spellchecker_rpc_url+a.translate(")");i(e)}})}function l(e,t,n,i){(k.spellchecker_callback||r).call(w,e,t,n,i)}function e(){t()||(a.setProgressState(!0),l("spellcheck",n().text,h,function(e){a.notificationManager.open({text:e,type:"error"}),a.setProgressState(!1),t()}),a.focus())}function c(){a.dom.select("span.mce-spellchecker-word").length||t()}function u(t,e,n){a.selection.collapse(),n?T.each(a.dom.select("span.mce-spellchecker-word"),function(e){e.getAttribute("data-mce-word")==t&&a.dom.remove(e,!0)}):a.dom.remove(e,!0),c()}function t(){return n().reset(),w.textMatcher=null,m&&(m=!1,a.fire("SpellcheckEnd"),1)}function d(e){e=e.getAttribute("data-mce-index");return"number"==typeof e?""+e:e}function h(e){var t=e.words?(v=!!e.dictionary,e.words):e;if(a.setProgressState(!1),function(e){for(var t in e)return;return 1}(t)){e=a.translate("No misspellings found.");return a.notificationManager.open({text:e,type:"info"}),void(m=!1)}p=t,n().find(o()).filter(function(e){return!!t[e.text]}).wrap(function(e){return a.dom.create("span",{class:"mce-spellchecker-word","data-mce-bogus":1,"data-mce-word":e.text})}),m=!0,a.fire("SpellcheckStart")}var f,p,m,g,v,y,b,x,w=this,k=a.settings;/(^|[ ,])tinymcespellchecker([, ]|$)/.test(k.plugins)&&_.get("tinymcespellchecker")?"undefined"!=typeof console&&console.log&&console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."):(x=k.spellchecker_languages||"English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv",y=T.map(x.split(","),function(e){return{name:(e=e.split("="))[0],value:e[1]}}),b=[],T.each(y,function(e){b.push({selectable:!0,text:e.name,data:e.value})}),f=b,a.on("click",function(e){var t,n=e.target;"mce-spellchecker-word"==n.className&&(e.preventDefault(),0<(t=function(e){var t=[],n=T.toArray(a.getBody().getElementsByTagName("span"));if(n.length)for(var i=0;i<n.length;i++){var o=d(n[i]);null!==o&&o.length&&o===e.toString()&&t.push(n[i])}return t}(d(n))).length&&((e=a.dom.createRng()).setStartBefore(t[0]),e.setEndAfter(t[t.length-1]),a.selection.setRng(e),i(n.getAttribute("data-mce-word"),t)))}),a.addMenuItem("spellchecker",{text:"Spellcheck",context:"tools",onclick:e,selectable:!0,onPostRender:function(){var e=this;e.active(m),a.on("SpellcheckStart SpellcheckEnd",function(){e.active(m)})}}),x={tooltip:"Spellcheck",onclick:e,onPostRender:function(){var e=this;a.on("SpellcheckStart SpellcheckEnd",function(){e.active(m)})}},1<f.length&&(x.type="splitbutton",x.menu=f,x.onshow=function(e){var t=k.spellchecker_language;e.control.items().each(function(e){e.active(e.settings.data===t)})},x.onselect=function(e){k.spellchecker_language=e.control.settings.data}),a.addButton("spellchecker",x),a.addCommand("mceSpellCheck",e),a.on("remove",function(){g&&(g.remove(),g=null)}),a.on("change",c),this.getTextMatcher=n,this.getWordCharPattern=o,this.markErrors=h,this.getLanguage=function(){return k.spellchecker_language},k.spellchecker_language=k.spellchecker_language||k.language||"en")}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="4",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["4"],function(e){return e("tinymce.PluginManager")}),i("2",["4"],function(e){return e("tinymce.util.Tools")}),i("3",[],function(){function v(e){return e&&1==e.nodeType&&"false"===e.contentEditable}return{findAndReplaceDOMText:function(e,t,n,i,o){function r(e,t){if(t=t||0,!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";var n=e.index;if(0<t){t=e[t];if(!t)throw"Invalid capture group";n+=e[0].indexOf(t),e[0]=t}return[n,n+e[0].length,[e[0]]]}var a,s,l,p,c=[],u=0,m=t.ownerDocument,h=o.getBlockElements(),f=o.getWhiteSpaceElements(),g=o.getShortEndedElements();if(s=function e(t){var n;if(3===t.nodeType)return t.data;if(f[t.nodeName]&&!h[t.nodeName])return"";if(n="",v(t))return"\n";if((h[t.nodeName]||g[t.nodeName])&&(n+="\n"),t=t.firstChild)for(;n+=e(t),t=t.nextSibling;);return n}(t)){if(e.global)for(;a=e.exec(s);)c.push(r(a,i));else a=s.match(e),c.push(r(a,i));return c.length&&(u=c.length,function(e,t,n){var i,o,r,a,s=[],l=0,c=e,u=t.shift(),d=0;e:for(;;){if((h[c.nodeName]||g[c.nodeName]||v(c))&&l++,3===c.nodeType&&(!o&&c.length+l>=u[1]?(o=c,a=u[1]-l):i&&s.push(c),!i&&c.length+l>u[0]&&(i=c,r=u[0]-l),l+=c.length),i&&o){if(c=n({startNode:i,startNodeIndex:r,endNode:o,endNodeIndex:a,innerNodes:s,match:u[2],matchIndex:d}),l-=o.length-a,o=i=null,s=[],d++,!(u=t.shift()))break}else if(f[c.nodeName]&&!h[c.nodeName]||!c.firstChild){if(c.nextSibling){c=c.nextSibling;continue}}else if(!v(c)){c=c.firstChild;continue}for(;;){if(c.nextSibling){c=c.nextSibling;break}if(c.parentNode===e)break e;c=c.parentNode}}}(t,c,(p="function"!=typeof(n=n)?(l=n.nodeType?n:m.createElement(n),function(e,t){var n=l.cloneNode(!1);return n.setAttribute("data-mce-index",t),e&&n.appendChild(m.createTextNode(e)),n}):n,function(e){var t,n,i=e.startNode,o=e.endNode,r=e.matchIndex;if(i===o){var a=i,s=a.parentNode;0<e.startNodeIndex&&(t=m.createTextNode(a.data.substring(0,e.startNodeIndex)),s.insertBefore(t,a));var l=p(e.match[0],r);return s.insertBefore(l,a),e.endNodeIndex<a.length&&(n=m.createTextNode(a.data.substring(e.endNodeIndex)),s.insertBefore(n,a)),a.parentNode.removeChild(a),l}t=m.createTextNode(i.data.substring(0,e.startNodeIndex)),n=m.createTextNode(o.data.substring(e.endNodeIndex));for(var a=p(i.data.substring(e.startNodeIndex),r),c=[],u=0,d=e.innerNodes.length;u<d;++u){var h=e.innerNodes[u],f=p(h.data,r);h.parentNode.replaceChild(f,h),c.push(f)}l=p(o.data.substring(0,e.endNodeIndex),r);return(s=i.parentNode).insertBefore(t,i),s.insertBefore(a,i),s.removeChild(i),(s=o.parentNode).insertBefore(l,o),s.insertBefore(n,o),s.removeChild(o),l}))),u}}}}),i("0",["1","2","3"],function(e,b,o){return e.add("searchreplace",function(d){function t(){function o(){s.statusbar.find("#next").disabled(!p(y+1).length),s.statusbar.find("#prev").disabled(!p(y-1).length)}function r(){d.windowManager.alert("Could not find the specified string.",function(){s.find("#find")[0].focus()})}var a={},e=b.trim(d.selection.getContent({format:"text"})),s=d.windowManager.open({layout:"flex",pack:"center",align:"center",onClose:function(){d.focus(),v.done()},onSubmit:function(e){var t,n,i;return e.preventDefault(),t=s.find("#case").checked(),i=s.find("#words").checked(),(n=s.find("#find").value()).length?a.text==n&&a.caseState==t&&a.wholeWord==i?0===p(y+1).length?void r():(v.next(),void o()):((e=v.find(n,t,i))||r(),s.statusbar.items().slice(1).disabled(0===e),o(),void(a={text:n,caseState:t,wholeWord:i})):(v.done(!1),void s.statusbar.items().slice(1).disabled(!0))},buttons:[{text:"Find",subtype:"primary",onclick:function(){s.submit()}},{text:"Replace",disabled:!0,onclick:function(){v.replace(s.find("#replace").value())||(s.statusbar.items().slice(1).disabled(!0),y=-1,a={})}},{text:"Replace all",disabled:!0,onclick:function(){v.replace(s.find("#replace").value(),!0,!0),s.statusbar.items().slice(1).disabled(!0),a={}}},{type:"spacer",flex:1},{text:"Prev",name:"prev",disabled:!0,onclick:function(){v.prev(),o()}},{text:"Next",name:"next",disabled:!0,onclick:function(){v.next(),o()}}],title:"Find and replace",items:{type:"form",padding:20,labelGap:30,spacing:10,items:[{type:"textbox",name:"find",size:40,label:"Find",value:e},{type:"textbox",name:"replace",size:40,label:"Replace with"},{type:"checkbox",name:"case",text:"Match case",label:" "},{type:"checkbox",name:"words",text:"Whole words",label:" "}]}})}function h(e){e=e.getAttribute("data-mce-index");return"number"==typeof e?""+e:e}function f(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)}function p(e){var t=[],n=b.toArray(d.getBody().getElementsByTagName("span"));if(n.length)for(var i=0;i<n.length;i++){var o=h(n[i]);null!==o&&o.length&&o===e.toString()&&t.push(n[i])}return t}function i(e){var t=y,n=d.dom;(e=!1!==e)?t++:t--,n.removeClass(p(y),"mce-match-marker-selected");e=p(t);return e.length?(n.addClass(p(t),"mce-match-marker-selected"),d.selection.scrollIntoView(e[0]),t):-1}function m(e){var t=d.dom,n=e.parentNode;t.remove(e),t.isEmpty(n)&&t.remove(n)}function g(e){e=h(e);return null!==e&&0<e.length}var v=this,y=-1;v.init=function(e){e.addMenuItem("searchreplace",{text:"Find and replace",shortcut:"Meta+F",onclick:t,separator:"before",context:"edit"}),e.addButton("searchreplace",{tooltip:"Find and replace",shortcut:"Meta+F",onclick:t}),e.addCommand("SearchReplace",t),e.shortcuts.add("Meta+F","",t)},v.find=function(e,t,n){e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e=n?"\\b"+e+"\\b":e;n=new RegExp(e,t?"g":"gi"),(e=d.dom.create("span",{"data-mce-bogus":1})).className="mce-match-marker",t=d.getBody(),v.done(!1),e=o.findAndReplaceDOMText(n,t,e,!1,d.schema);return e&&(y=-1,y=i(!0)),e},v.next=function(){var e=i(!0);-1!==e&&(y=e)},v.prev=function(){var e=i(!1);-1!==e&&(y=e)},v.replace=function(e,t,n){var i,o,r,a,s,l=y;for(t=!1!==t,r=d.getBody(),o=b.grep(b.toArray(r.getElementsByTagName("span")),g),i=0;i<o.length;i++){var c=h(o[i]),u=a=parseInt(c,10);if(n||u===y){for(e.length?(o[i].firstChild.nodeValue=e,f(o[i])):m(o[i]);o[++i];){if((u=parseInt(h(o[i]),10))!==a){i--;break}m(o[i])}t&&l--}else y<a&&o[i].setAttribute("data-mce-index",a-1)}return d.undoManager.add(),y=l,t?(s=0<p(l+1).length,v.next()):(s=0<p(l-1).length,v.prev()),!n&&s},v.done=function(e){for(var t,n,i=b.toArray(d.getBody().getElementsByTagName("span")),o=0;o<i.length;o++){var r=h(i[o]);null!==r&&r.length&&(r===y.toString()&&(t=t||i[o].firstChild,n=i[o].firstChild),f(i[o]))}if(t&&n){var a=d.dom.createRng();return a.setStart(t,0),a.setEnd(n,n.data.length),!1!==e&&d.selection.setRng(a),a}}}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="5",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["5"],function(e){return e("tinymce.PluginManager")}),i("2",["5"],function(e){return e("tinymce.dom.DOMUtils")}),i("3",["5"],function(e){return e("tinymce.EditorManager")}),i("4",["5"],function(e){return e("tinymce.util.Tools")}),i("0",["1","2","3","4"],function(e,i,o,r){return e.add("save",function(t){function n(e){t.notificationManager.open({text:e,type:"error"})}function e(){var e=this;t.on("nodeChange dirty",function(){e.disabled(t.getParam("save_enablewhendirty",!0)&&!t.isDirty())})}t.addCommand("mceSave",function(){var e=i.DOM.getParent(t.id,"form");if(!t.getParam("save_enablewhendirty",!0)||t.isDirty())return o.triggerSave(),t.getParam("save_onsavecallback")?(t.execCallback("save_onsavecallback",t),void t.nodeChanged()):void(e?(t.setDirty(!1),e.onsubmit&&!e.onsubmit()||("function"==typeof e.submit?e.submit():n(t.translate("Error: Form submit field collision."))),t.nodeChanged()):n(t.translate("Error: No form element found.")))}),t.addCommand("mceCancel",function(){var e=r.trim(t.startContent);return t.getParam("save_oncancelcallback")?void t.execCallback("save_oncancelcallback",t):(t.setContent(e),t.undoManager.clear(),void t.nodeChanged())}),t.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:e}),t.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:e}),t.addShortcut("Meta+S","","mceSave")}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="2",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["2"],function(e){return e("tinymce.PluginManager")}),i("0",["1"],function(e){return e.add("print",function(e){e.addCommand("mcePrint",function(){e.getWin().print()}),e.addButton("print",{title:"Print",cmd:"mcePrint"}),e.addShortcut("Meta+P","","mcePrint"),e.addMenuItem("print",{text:"Print",cmd:"mcePrint",icon:"print",shortcut:"Meta+P",context:"file"})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="4",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["4"],function(e){return e("tinymce.PluginManager")}),i("2",["4"],function(e){return e("tinymce.Env")}),i("3",["4"],function(e){return e("tinymce.util.Tools")}),i("0",["1","2","3"],function(e,t,s){return e.add("preview",function(o){var r=o.settings,a=!t.ie;o.addCommand("mcePreview",function(){o.windowManager.open({title:"Preview",width:parseInt(o.getParam("plugin_preview_width","650"),10),height:parseInt(o.getParam("plugin_preview_height","500"),10),html:'<iframe src="javascript:\'\'" frameborder="0"'+(a?' sandbox="allow-scripts"':"")+"></iframe>",buttons:{text:"Close",onclick:function(){this.parent().parent().close()}},onPostRender:function(){var t="";t+='<base href="'+o.documentBaseURI.getURI()+'">',s.each(o.contentCSS,function(e){t+='<link type="text/css" rel="stylesheet" href="'+o.documentBaseURI.toAbsolute(e)+'">'});var e=r.body_id||"tinymce";-1!=e.indexOf("=")&&(e=(e=o.getParam("body_id","","hash"))[o.id]||e);var n=r.body_class||"";-1!=n.indexOf("=")&&(n=(n=o.getParam("body_class","","hash"))[o.id]||"");var i=o.settings.directionality?' dir="'+o.settings.directionality+'"':"",n="<!DOCTYPE html><html><head>"+t+'</head><body id="'+e+'" class="mce-content-body '+n+'"'+i+">"+o.getContent()+'<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A") {e.preventDefault();}}}, false);<\/script> </body></html>';a?this.getEl("body").firstChild.src="data:text/html;charset=utf-8,"+encodeURIComponent(n):((i=this.getEl("body").firstChild.contentWindow.document).open(),i.write(n),i.close())}})}),o.addButton("preview",{title:"Preview",cmd:"mcePreview"}),o.addMenuItem("preview",{text:"Preview",cmd:"mcePreview",context:"view"})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="6",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["6"],function(e){return e("tinymce.PluginManager")}),i("7",["6"],function(e){return e("tinymce.dom.RangeUtils")}),i("8",["6"],function(e){return e("tinymce.Env")}),i("9",["6"],function(e){return e("tinymce.util.Delay")}),i("a",["6"],function(e){return e("tinymce.util.Tools")}),i("b",["6"],function(e){return e("tinymce.util.VK")}),i("c",[],function(){var e="x-tinymce/html",t="\x3c!-- "+e+" --\x3e";return{mark:function(e){return t+e},unmark:function(e){return e.replace(t,"")},isMarked:function(e){return-1!==e.indexOf(t)},internalHtmlMime:function(){return e}}}),i("g",["6"],function(e){return e("tinymce.html.DomParser")}),i("h",["6"],function(e){return e("tinymce.html.Schema")}),i("d",["a","g","h"],function(i,l,c){function u(t,e){return i.each(e,function(e){t=e.constructor==RegExp?t.replace(e,""):t.replace(e[0],e[1])}),t}return{filter:u,innerText:function(e){var t=new c,n=new l({},t),o="",r=t.getShortEndedElements(),a=i.makeMap("script noscript style textarea video audio iframe object"," "),s=t.getBlockElements();return e=u(e,[/<!\[[^\]]+\]>/g]),function e(t){var n=t.name,i=t;if("br"===n)return o+="\n",0;if(r[n]&&(o+=" "),a[n])return o+=" ",0;if(3==t.type&&(o+=t.value),!t.shortEnded&&(t=t.firstChild))for(;e(t),t=t.next;);s[n]&&i.next&&(o+="\n","p"==n&&(o+="\n"))}(n.parse(e)),o},trimHtml:function(e){return u(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?"Â ":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(e){var t=0;return function(){return e+t++}},isMsEdge:function(){return-1!==navigator.userAgent.indexOf(" Edge/")}}}),i("3",["8","c","d"],function(o,a,r){function i(){}function s(e,t,n){var i;if(i=e,!1===o.iOS&&void 0!==i&&"function"==typeof i.setData&&!0!==r.isMsEdge())try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(a.internalHtmlMime(),t),1}catch(e){return}}function l(e,t,n,i){s(e.clipboardData,t.html,t.text)?(e.preventDefault(),i()):n(t.html,i)}function c(r){return function(e,t){var n=a.mark(e),i=r.dom.create("div",{contenteditable:"false"}),e=r.dom.create("div",{contenteditable:"true"},n);r.dom.setStyles(i,{position:"fixed",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(e),r.dom.add(r.getBody(),i);var o=r.selection.getRng();e.focus();n=r.dom.createRng();n.selectNodeContents(e),r.selection.setRng(n),setTimeout(function(){i.parentNode.removeChild(i),r.selection.setRng(o),t()},0)}}function u(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}}return{register:function(e){var t,n;e.on("cut",(n=e,function(e){!1===n.selection.isCollapsed()&&l(e,u(n),c(n),function(){n.execCommand("Delete")})})),e.on("copy",(t=e,function(e){!1===t.selection.isCollapsed()&&l(e,u(t),c(t),i)}))}}}),i("k",["6"],function(e){return e("tinymce.html.Entities")}),i("e",["k"],function(d){function i(e){return e.replace(/\r?\n/g,"<br>")}function o(e,t,n){var i,o,r,a=e.split(/\r?\n/),s=0,l=a.length,c=[],u=[],n=function(e,t){var n,i=[],e="<"+e;if("object"==typeof t){for(n in t)t.hasOwnProperty(n)&&i.push(n+'="'+d.encodeAllRaw(t[n])+'"');i.length&&(e+=" "+i.join(" "))}return e+">"}(t,n),t="</"+t+">";if(1===a.length)return e;for(;s<l;s++)o=!(i=s===l-1)&&!a[s+1],r=!a[s]&&!c.length,c.push(a[s]?a[s]:"&nbsp;"),(i||o||r)&&(u.push(c.join("<br>")),c=[]),o&&s++;return 1===u.length?u[0]:n+u.join(t+n)+t}return{isPlainText:function(e){return!/<(?:(?!\/?(?:div|p|br))[^>]*|(?:div|p|br)\s+\w[^>]+)>/.test(e)},convert:function(e,t,n){return t?o(e,t,n):i(e)},toBRs:i,toBlockElements:o}}),i("f",["a"],function(o){function a(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)}function s(e){return a(e)&&/.(gif|jpe?g|png)$/.test(e)}function r(e,t,n){return!(!1!==e.selection.isCollapsed()||!a(t)||(o=t,r=n,(i=e).undoManager.extra(function(){r(i,o)},function(){i.execCommand("mceInsertLink",!1,o)}),0));var i,o,r}function l(e,t,n){return!!s(t)&&(o=t,r=n,(i=e).undoManager.extra(function(){r(i,o)},function(){i.insertContent('<img src="'+o+'">')}),!0);var i,o,r}function c(e,t){return e.insertContent(t,{merge:!1!==e.settings.paste_merge_formats,paste:!0}),!0}return{isImageUrl:s,isAbsoluteUrl:a,insertContent:function(e,t){var n,i;!1===e.settings.smart_paste?c(e,t):(n=e,i=t,o.each([r,l,c],function(e){return!0!==e(n,i,c)}))}}}),i("2",["7","8","9","a","b","3","c","e","f","d"],function(T,S,D,A,t,e,M,E,N,P){return function(l){function a(e,t){var n,i=l.dom,o=t||M.isMarked(e);e=M.unmark(e),n=l.fire("BeforePastePreProcess",{content:e,internal:o}),e=(n=l.fire("PastePreProcess",n)).content,n.isDefaultPrevented()||(l.hasEventListeners("PastePostProcess")&&!n.isDefaultPrevented()&&(t=i.add(l.getBody(),"div",{style:"display:none"},e),n=l.fire("PastePostProcess",{node:t,internal:o}),i.remove(t),e=n.node.innerHTML),n.isDefaultPrevented()||N.insertContent(l,e))}function c(e){e=l.dom.encode(e).replace(/\r\n/g,"\n"),a(e=E.convert(e,l.settings.forced_root_block,l.settings.forced_root_block_attrs),!1)}function u(){var e,t,o=l.dom,n=l.getBody(),i=l.dom.getViewPort(l.getWin()).y,r=20;y=l.selection.getRng(),!l.inline||(e=l.selection.getScrollContainer())&&0<e.scrollTop&&(i=e.scrollTop),y.getClientRects&&((t=function(e){var t,n=e.startContainer,i=e.getClientRects();if(i.length)return i[0];if(e.collapsed&&1==n.nodeType){for(t=n.childNodes[y.startOffset];t&&3==t.nodeType&&!t.data.length;)t=t.nextSibling;if(t)return"BR"==t.tagName&&(n=o.doc.createTextNode("\ufeff"),t.parentNode.insertBefore(n,t),(e=o.createRng()).setStartBefore(n),e.setEndAfter(n),i=e.getClientRects(),o.remove(n)),i.length?i[0]:void 0}}(y))?r=i+(t.top-o.getPos(n).y):(r=i,(i=y.startContainer)&&(3==i.nodeType&&i.parentNode!=n&&(i=i.parentNode),1==i.nodeType&&(r=o.getPos(i,e||n).y)))),v=o.add(l.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+r+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},C),(S.ie||S.gecko)&&o.setStyle(v,"left","rtl"==o.getStyle(n,"direction",!0)?65535:-65535),o.bind(v,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),v.focus(),l.selection.select(v,!0)}function d(){if(v){for(var e;e=l.dom.get("mcepastebin");)l.dom.remove(e),l.dom.unbind(e);y&&l.selection.setRng(y)}v=y=null}function h(){for(var e,t="",n=l.dom.select("div[id=mcepastebin]"),i=0;i<n.length;i++)(e=n[i]).firstChild&&"mcepastebin"==e.firstChild.id&&(e=e.firstChild),e=e.innerHTML,t!=C&&(t+=e);return t}function f(e){var t,n={};if(e&&(!e.getData||(t=e.getData("Text"))&&0<t.length&&-1==t.indexOf(r)&&(n["text/plain"]=t),e.types))for(var i=0;i<e.types.length;i++){var o=e.types[i];n[o]=e.getData(o)}return n}function p(e){return g(e,"text/html")||g(e,"text/plain")}function s(e,t,n){e&&(l.selection.setRng(e),e=null);var i,o=t.result,r=-1!==(t=(e=o).indexOf(","))?e.substr(t+1):null,e=new Image;e.src=o,t=l.settings,e=e,!t.images_dataimg_filter||t.images_dataimg_filter(e)?((e=(t=l.editorUpload.blobCache).findFirst(function(e){return e.base64()===r}))?i=e:(i=t.create(_(),n,r),t.add(i)),a('<img src="'+i.blobUri()+'">',!1)):a('<img src="'+o+'">',!1)}function m(r,a){function e(e){var t,n=!1;if(e)for(t=0;t<e.length;t++){var i,o=e[t];/^image\/(jpeg|png|gif|bmp)$/.test(o.type)&&(i=o.getAsFile?o.getAsFile():o,(o=new FileReader).onload=s.bind(null,a,o,i),o.readAsDataURL(i),r.preventDefault(),n=!0)}return n}var t=r.clipboardData||r.dataTransfer;if(l.settings.paste_data_images&&t)return e(t.items)||e(t.files)}function g(e,t){return t in e&&0<e[t].length}function n(e){return t.metaKeyPressed(e)&&86==e.keyCode||e.shiftKey&&45==e.keyCode}function e(){function s(e,t,n,i){var o,r;return g(e,"text/html")?o=e["text/html"]:(o=h())==C&&(n=!0),o=P.trimHtml(o),v&&v.firstChild&&"mcepastebin"===v.firstChild.id&&(n=!0),d(),r=!1===i&&E.isPlainText(o),o.length&&!r||(n=!0),n&&(o=g(e,"text/plain")&&r?e["text/plain"]:P.innerText(o)),o==C?void(t||l.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(n?c(o):a(o,i))}l.on("keydown",function(e){function t(e){n(e)&&!e.isDefaultPrevented()&&d()}if(n(e)&&!e.isDefaultPrevented()&&(!(b=e.shiftKey&&86==e.keyCode)||!S.webkit||-1==navigator.userAgent.indexOf("Version/")))return e.stopImmediatePropagation(),w=(new Date).getTime(),S.ie&&b?(e.preventDefault(),void l.fire("paste",{ieFake:!0})):(d(),u(),l.once("keyup",t),void l.once("paste",function(){l.off("keyup",t)}))});l.on("paste",function(e){var t,n=(new Date).getTime(),i=(t=f((t=e).clipboardData||l.getDoc().dataTransfer),P.isMsEdge()?A.extend(t,{"text/html":""}):t),n=(new Date).getTime()-n,o=(new Date).getTime()-w-n<1e3,r="text"==x.pasteFormat||b,a=g(i,M.internalHtmlMime());return b=!1,e.isDefaultPrevented()||(n=(n=e).clipboardData,-1!=navigator.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length)||!p(i)&&m(e,y||l.selection.getRng())?void d():(o||e.preventDefault(),!S.ie||o&&!e.ieFake||g(i,"text/html")||(u(),l.dom.bind(v,"paste",function(e){e.stopPropagation()}),l.getDoc().execCommand("Paste",!1,null),i["text/html"]=h()),void(g(i,"text/html")?(e.preventDefault(),s(i,o,r,a)):D.setEditorTimeout(l,function(){s(i,o,r,a)},0)))}),l.on("dragstart dragend",function(e){k="dragstart"==e.type}),l.on("drop",function(e){var t,n,i,o,r;r=e,n=T.getCaretRangeFromPoint(r.clientX,r.clientY,l.getDoc()),e.isDefaultPrevented()||k||(i=g(t=f(e.dataTransfer),M.internalHtmlMime()),(!p(t)||(r=(r=t)["text/plain"])&&0===r.indexOf("file://"))&&m(e,n)||!n||!1===l.settings.paste_filter_drop||(o=t["mce-internal"]||t["text/html"]||t["text/plain"])&&(e.preventDefault(),D.setEditorTimeout(l,function(){l.undoManager.transact(function(){t["mce-internal"]&&l.execCommand("Delete"),l.selection.setRng(n),o=P.trimHtml(o),t["text/html"]?a(o,i):c(o)})})))}),l.on("dragover dragend",function(e){l.settings.paste_data_images&&e.preventDefault()})}var v,y,b,x=this,w=0,k=!1,C="%MCEPASTEBIN%",r="data:text/mce-internal,",_=P.createIdGenerator("mceclip");x.pasteHtml=a,x.pasteText=c,x.pasteImageData=m,l.on("preInit",function(){e(),l.parser.addNodeFilter("img",function(e,t,n){function i(e){e.attr("data-mce-object")||r===S.transparentSrc||e.remove()}if(!l.settings.paste_data_images&&((a=n).data&&!0===a.data.paste))for(var o=e.length;o--;){var r=e[o].attributes.map.src;r&&(0===r.indexOf("webkit-fake-url")||!l.settings.allow_html_data_urls&&0===r.indexOf("data:"))&&i(e[o])}var a})})}}),i("i",["6"],function(e){return e("tinymce.html.Serializer")}),i("j",["6"],function(e){return e("tinymce.html.Node")}),i("5",["a","g","h","i","j","d"],function(d,r,c,u,h,f){function p(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function e(l){var o=l.settings;l.on("BeforePastePreProcess",function(e){var a,s,t,n,i=e.content;i=(i=i.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,"")).replace(/<br class="?Apple-interchange-newline"?>/gi,""),(a=o.paste_retain_style_properties)&&(s=d.makeMap(a.split(/[, ]/))),!1!==o.paste_enable_default_filters&&p(e.content)&&(e.wordContent=!0,i=f.filter(i,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"Â "],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return 0<t.length?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join("Â "):""}]]),n=o.paste_word_valid_elements,t=new c({valid_elements:n=n||"-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody",valid_children:"-li[p]"}),d.each(t.elements,function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))}),(n=new r({},t)).addAttributeFilter("style",function(e){for(var t,n=e.length;n--;)(t=e[n]).attr("style",function(n,i){var o,r={},e=l.dom.parseStyle(i);return d.each(e,function(e,t){switch(t){case"mso-list":(o=/\w+ \w+([0-9]+)/i.exec(i))&&(n._listLevel=parseInt(o[1],10)),/Ignore/i.test(e)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":t="text-align";break;case"vert-align":t="vertical-align";break;case"font-color":case"mso-foreground":t="color";break;case"mso-background":case"mso-highlight":t="background";break;case"font-weight":case"font-style":return void("normal"!=e&&(r[t]=e));case"mso-element":if(/^(comment|comment-list)$/i.test(e))return void n.remove()}return 0===t.indexOf("mso-comment")?void n.remove():void(0!==t.indexOf("mso-")&&("all"==a||s&&s[t])&&(r[t]=e))}),/(bold)/i.test(r["font-weight"])&&(delete r["font-weight"],n.wrap(new h("b",1))),/(italic)/i.test(r["font-style"])&&(delete r["font-style"],n.wrap(new h("i",1))),(r=l.dom.serializeStyle(r,n.name))||null}(t,t.attr("style"))),"span"==t.name&&t.parent&&!t.attributes.length&&t.unwrap()}),n.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)n=(t=e[i]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),n.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),n.addNodeFilter("a",function(e){for(var t,n,i,o=e.length;o--;)if(n=(t=e[o]).attr("href"),i=t.attr("name"),n&&-1!=n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=(n=n.split("#")[1])&&"#"+n),n||i){if(i&&!/^_?(?:toc|edn|ftn)/i.test(i)){t.unwrap();continue}t.attr({href:n,name:i})}else t.unwrap()}),i=n.parse(i),!1!==o.paste_convert_word_fake_lists&&function(e){function o(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),0;if(e=e.firstChild)do{if(!o(e,t))return}while(e=e.next);return 1}function t(e,t,n){var i=e._listLevel||s;i!=s&&(r=i<s?r&&r.parent.parent:(a=r,null)),r&&r.name==t?r.append(e):(a=a||r,r=new h(t,1),1<n&&r.attr("start",""+n),e.wrap(r)),e.name="li",s<i&&a&&a.lastChild.append(r),s=i,function e(t){if(t._listIgnore)return t.remove(),0;if(t=t.firstChild)for(;e(t),t=t.next;);}(e),o(e,/^\u00a0+/),o(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),o(e,/^\u00a0+/)}for(var r,a,s=1,n=[],i=e.firstChild;null!=i;)if(n.push(i),null!==(i=i.walk()))for(;void 0!==i&&i.parent!==e;)i=i.walk();for(var l=0;l<n.length;l++)if("p"==(e=n[l]).name&&e.firstChild){var c=function e(t){var n="";if(3===t.type)return t.value;if(t=t.firstChild)for(;n+=e(t),t=t.next;);return n}(e);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(c)){t(e,"ul");continue}if(function(t){var n,e=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return t=t.replace(/^[\u00a0 ]+/,""),d.each(e,function(e){if(e.test(t))return!(n=!0)}),n}(c)){var u=/([0-9]+)\./.exec(c),c=1;u&&(c=parseInt(u[1],10)),t(e,"ol",c);continue}if(e._listLevel){t(e,"ul",1);continue}r=null}else a=r,r=null}(i),e.content=new u({validate:o.validate},t).serialize(i))})}return e.isWordContent=p,e}),i("4",["8","a","5","d"],function(n,o,r,a){"use strict";return function(i){function e(t){i.on("BeforePastePreProcess",function(e){e.content=t(e.content)})}var t;n.webkit&&e(function(e){if(r.isWordContent(e))return e;var c,u,d=i.settings.paste_webkit_styles;return!1===i.settings.paste_remove_styles_if_webkit||"all"==d?e:(e=(d=d&&d.split(/[, ]/))?(c=i.dom,u=i.selection.getNode(),e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,t,n,i){var o=c.parseStyle(c.decode(n),"span"),r={};if("none"===d)return t+i;for(var a=0;a<d.length;a++){var s=o[d[a]],l=c.getStyle(u,d[a],!0);/color/.test(d[a])&&(s=c.toHex(s),l=c.toHex(l)),l!=s&&(r[d[a]]=s)}return(r=c.serializeStyle(r,"span"))?t+' style="'+r+'"'+i:t+i})):e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")).replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,i){return t+' style="'+n+'"'+i})}),n.ie&&(e(function(e){if(!r.isWordContent(e))return e;var n=[];o.each(i.schema.getBlockElements(),function(e,t){n.push(t)});var t=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return e=a.filter(e,[[t,"$1"]]),a.filter(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}),t=function(e){i.$("a",e).find("font,u").each(function(e,t){i.dom.remove(t,!0)})},i.on("PastePostProcess",function(e){t(e.node)}))}}),i("0",["1","2","3","4","5"],function(a,s,l,c,u){var d;return a.add("paste",function(n){function e(){var e;"text"==i.pasteFormat?(i.pasteFormat="html",n.fire("PastePlainTextToggle",{state:!1})):(i.pasteFormat="text",n.fire("PastePlainTextToggle",{state:!0}),d||!1===n.settings.paste_plaintext_inform||(e=n.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."),n.notificationManager.open({text:e,type:"info"}),d=!0)),n.focus()}function t(){var t=this;t.active("text"===i.pasteFormat),n.on("PastePlainTextToggle",function(e){t.active(e.state)})}var i,o=this,r=n.settings;return/(^|[ ,])powerpaste([, ]|$)/.test(r.plugins)&&a.get("powerpaste")?void("undefined"!=typeof console&&console.log&&console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")):(o.clipboard=i=new s(n),o.quirks=new c(n),o.wordFilter=new u(n),n.settings.paste_as_text&&(o.clipboard.pasteFormat="text"),r.paste_preprocess&&n.on("PastePreProcess",function(e){r.paste_preprocess.call(o,o,e)}),r.paste_postprocess&&n.on("PastePostProcess",function(e){r.paste_postprocess.call(o,o,e)}),n.addCommand("mceInsertClipboardContent",function(e,t){t.content&&o.clipboard.pasteHtml(t.content,t.internal),t.text&&o.clipboard.pasteText(t.text)}),n.settings.paste_block_drop&&n.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),n.settings.paste_data_images||n.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&0<t.files.length&&e.preventDefault()}),n.addCommand("mceTogglePlainTextPaste",e),n.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:e,onPostRender:t}),n.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:i.pasteFormat,onclick:e,onPostRender:t}),void l.register(n))}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="3",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["3"],function(e){return e("tinymce.PluginManager")}),i("2",["3"],function(e){return e("tinymce.Env")}),i("0",["1","2"],function(e,a){return e.add("pagebreak",function(o){var t="mce-pagebreak",r=o.getParam("pagebreak_separator","\x3c!-- pagebreak --\x3e"),n=new RegExp(r.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(e){return"\\"+e}),"gi"),i='<img src="'+a.transparentSrc+'" class="'+t+'" data-mce-resize="false" data-mce-placeholder />';o.addCommand("mcePageBreak",function(){o.settings.pagebreak_split_block?o.insertContent("<p>"+i+"</p>"):o.insertContent(i)}),o.addButton("pagebreak",{title:"Page break",cmd:"mcePageBreak"}),o.addMenuItem("pagebreak",{text:"Page break",icon:"pagebreak",cmd:"mcePageBreak",context:"insert"}),o.on("ResolveName",function(e){"IMG"==e.target.nodeName&&o.dom.hasClass(e.target,t)&&(e.name="pagebreak")}),o.on("click",function(e){"IMG"===(e=e.target).nodeName&&o.dom.hasClass(e,t)&&o.selection.select(e)}),o.on("BeforeSetContent",function(e){e.content=e.content.replace(n,i)}),o.on("PreInit",function(){o.serializer.addNodeFilter("img",function(e){for(var t,n=e.length;n--;)if((i=(t=e[n]).attr("class"))&&-1!==i.indexOf("mce-pagebreak")){var i=t.parent;if(o.schema.getBlockElements()[i.name]&&o.settings.pagebreak_split_block){i.type=3,i.value=r,i.raw=!0,t.remove();continue}t.type=3,t.value=r,t.raw=!0}})})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="3",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["3"],function(e){return e("tinymce.PluginManager")}),i("2",["3"],function(e){return e("tinymce.util.Tools")}),i("0",["1","2"],function(e,c){return e.add("noneditable",function(a){function e(t){return function(e){return-1!==(" "+e.attr("class")+" ").indexOf(t)}}function t(e){function t(e){var t=arguments,n=t[t.length-2],i=0<n?o.charAt(n-1):"";if('"'===i)return e;if(">"===i){i=o.lastIndexOf("<",n);if(-1!==i)if(-1!==o.substring(i,n).indexOf('contenteditable="false"'))return e}return'<span class="'+r+'" data-mce-content="'+a.dom.encode(t[0])+'">'+a.dom.encode("string"==typeof t[1]?t[1]:t[0])+"</span>"}var n=l.length,o=e.content,r=c.trim(s);if("raw"!=e.format){for(;n--;)o=o.replace(l[n],t);e.content=o}}var i="contenteditable",n=" "+c.trim(a.getParam("noneditable_editable_class","mceEditable"))+" ",s=" "+c.trim(a.getParam("noneditable_noneditable_class","mceNonEditable"))+" ",o=e(n),r=e(s),l=a.getParam("noneditable_regexp");l&&!l.length&&(l=[l]),a.on("PreInit",function(){l&&a.on("BeforeSetContent",t),a.parser.addAttributeFilter("class",function(e){for(var t,n=e.length;n--;)t=e[n],o(t)?t.attr(i,"true"):r(t)&&t.attr(i,"false")}),a.serializer.addAttributeFilter(i,function(e){for(var t,n=e.length;n--;)t=e[n],(o(t)||r(t))&&(l&&t.attr("data-mce-content")?(t.name="#text",t.type=3,t.raw=!0,t.value=t.attr("data-mce-content")):t.attr(i,null))})})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="2",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["2"],function(e){return e("tinymce.PluginManager")}),i("0",["1"],function(e){return e.add("nonbreaking",function(n){var i,e=n.getParam("nonbreaking_force_tab");n.addCommand("mceNonBreaking",function(){n.insertContent(n.plugins.visualchars&&n.plugins.visualchars.state?'<span class="mce-nbsp">&nbsp;</span>':"&nbsp;"),n.dom.setAttrib(n.dom.select("span.mce-nbsp"),"data-mce-bogus","1")}),n.addButton("nonbreaking",{title:"Nonbreaking space",cmd:"mceNonBreaking"}),n.addMenuItem("nonbreaking",{text:"Nonbreaking space",cmd:"mceNonBreaking",context:"insert"}),e&&(i=1<+e?+e:3,n.on("keydown",function(e){if(9==e.keyCode&&!e.shiftKey){e.preventDefault();for(var t=0;t<i;t++)n.execCommand("mceNonBreaking")}}))}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="8",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["8"],function(e){return e("tinymce.html.Node")}),i("2",["8"],function(e){return e("tinymce.PluginManager")}),i("3",["8"],function(e){return e("tinymce.util.Tools")}),i("9",["8"],function(e){return e("tinymce.html.Writer")}),i("a",["8"],function(e){return e("tinymce.html.SaxParser")}),i("b",["8"],function(e){return e("tinymce.html.Schema")}),i("5",["3","9","a","b"],function(e,t,n,i){return{sanitize:function(o,e){if(!1===o.settings.media_filter_html)return e;var r,a=new t;return new n({validate:!1,allow_conditional_comments:!1,special:"script,noscript",comment:function(e){a.comment(e)},cdata:function(e){a.cdata(e)},text:function(e,t){a.text(e,t)},start:function(e,t,n){if(r=!0,"script"!==e&&"noscript"!==e){for(var i=0;i<t.length;i++){if(0===t[i].name.indexOf("on"))return;"style"===t[i].name&&(t[i].value=o.dom.serializeStyle(o.dom.parseStyle(t[i].value),e))}a.start(e,t,n),r=!1}},end:function(e){r||a.end(e)}},new i({})).parse(e),a.getContent()}}}),i("c",[],function(){return{getVideoScriptMatch:function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]}}}),i("d",["8"],function(e){return e("tinymce.Env")}),i("4",["5","c","1","d"],function(s,r,o,a){function l(e,t){var n=t.name,i=new o("img",1);return i.shortEnded=!0,d(e,t,i),i.attr({width:t.attr("width")||"300",height:t.attr("height")||("audio"===n?"30":"150"),style:t.attr("style"),src:a.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),i}function c(e,t){var n=t.name,i=new o("span",1);return i.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n}),d(e,t,i),(e=new o(n,1)).attr({src:t.attr("src"),allowfullscreen:t.attr("allowfullscreen"),width:t.attr("width")||"300",height:t.attr("height")||("audio"===n?"30":"150"),frameborder:"0"}),(n=new o("span",1)).attr("class","mce-shim"),i.append(e),i.append(n),i}function u(e){for(;e=e.parent;)if(e.attr("data-ephox-embed-iri"))return 1}var d=function(e,t,n){for(var i,o,r=t.attributes,a=r.length;a--;)i=r[a].name,o=r[a].value,"width"!==i&&"height"!==i&&"style"!==i&&("data"!==i&&"src"!==i||(o=e.convertURL(o,i)),n.attr("data-mce-p-"+i,o));(t=t.firstChild&&t.firstChild.value)&&(n.attr("data-mce-html",escape(s.sanitize(e,t))),n.firstChild=null)};return{createPreviewIframeNode:c,createPlaceholderNode:l,placeHolderConverter:function(o){return function(e){for(var t,n,i=e.length;i--;)(t=e[i]).parent&&(t.parent.attr("data-mce-object")||"script"===t.name&&!(n=r.getVideoScriptMatch(o.settings.media_scripts,t.attr("src")))||(n&&(n.width&&t.attr("width",n.width.toString()),n.height&&t.attr("height",n.height.toString())),"iframe"===t.name&&!1!==o.settings.media_live_embeds&&a.ceFalse?u(t)||t.replace(c(o,t)):u(t)||t.replace(l(o,t))))}}}}),i("e",["8"],function(e){return e("tinymce.dom.DOMUtils")}),i("f",[],function(){function e(t){return function(e){return e?e.style[t].replace(/px$/,""):""}}function t(n){return function(e,t){e&&(e.style[n]=/^[0-9.]+$/.test(t=t)?t+"px":t)}}return{getMaxWidth:e("maxWidth"),getMaxHeight:e("maxHeight"),setMaxWidth:t("maxWidth"),setMaxHeight:t("maxHeight")}}),i("6",["9","a","b","e","f"],function(i,c,u,e,n){function d(e,t){var n,i,o,r;for(n in t)if(o=""+t[n],e.map[n])for(i=e.length;i--;)r=e[i],r.name===n&&(o?(e.map[n]=o,r.value=o):(delete e.map[n],e.splice(i,1)));else o&&(e.push({name:n,value:o}),e.map[n]=o)}function h(e,t){return e=f.createFragment(e).firstChild,n.setMaxWidth(e,t.width),n.setMaxHeight(e,t.height),t=e.outerHTML,e=new i,new c(e).parse(t),e.getContent()}var f=e.DOM;return{updateHtml:function(e,t,n){return function(e){e=f.createFragment(e);return""!==f.getAttrib(e.firstChild,"data-ephox-embed-iri")}(e)?h(e,t):(e=e,o=t,r=n,s=new i,new c({validate:!1,allow_conditional_comments:!(l=0),special:"script,noscript",comment:function(e){s.comment(e)},cdata:function(e){s.cdata(e)},text:function(e,t){s.text(e,t)},start:function(e,t,n){switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==o.height&&void 0!==o.width&&d(t,{width:o.width,height:o.height})}if(r)switch(e){case"video":d(t,{poster:o.poster,src:""}),o.source2&&d(t,{src:""});break;case"iframe":d(t,{src:o.source1});break;case"source":if(++l<=2&&(d(t,{src:o["source"+l],type:o["source"+l+"mime"]}),!o["source"+l]))return;break;case"img":if(!o.poster)return;a=!0}s.start(e,t,n)},end:function(e){if("video"===e&&r)for(var t=1;t<=2;t++){var n;o["source"+t]&&((n=[]).map={},l<t&&(d(n,{src:o["source"+t],type:o["source"+t+"mime"]}),s.start("source",n,!0)))}var i;o.poster&&"object"===e&&r&&!a&&((i=[]).map={},d(i,{src:o.poster,width:o.width,height:o.height}),s.start("img",i,!0)),s.end(e)}},new u({})).parse(e),s.getContent());var o,r,a,s,l}}}),i("g",["8"],function(e){return e("tinymce.util.Delay")}),i("h",["3","a","b","e","c","f"],function(r,n,e,t,a,s){function l(e){return c.getAttrib(e,"data-ephox-embed-iri")}var c=t.DOM;return{htmlToData:function(e,t){return function(e){e=c.createFragment(e);return""!==l(e.firstChild)}(t)?function(e){e=c.createFragment(e).firstChild;return{type:"ephox-embed-iri",source1:l(e),source2:"",poster:"",width:s.getMaxWidth(e),height:s.getMaxHeight(e)}}(t):(i=e,t=t,new n({validate:!(o={}),allow_conditional_comments:!0,special:"script,noscript",start:function(e,t){if(o.source1||"param"!==e||(o.source1=t.map.movie),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(o.type||(o.type=e),o=r.extend(t.map,o)),"script"===e){var n=a.getVideoScriptMatch(i,t.map.src);if(!n)return;o={type:"script",source1:t.map.src,width:n.width,height:n.height}}"source"===e&&(o.source1?o.source2||(o.source2=t.map.src):o.source1=t.map.src),"img"!==e||o.poster||(o.poster=t.map.src)}}).parse(t),o.source1=o.source1||o.src||o.data,o.source2=o.source2||"",o.poster=o.poster||"",o);var i,o}}}),i("m",[],function(){return{guess:function(e){e={mp3:"audio/mpeg",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[e.toLowerCase().split(".").pop()];return e||""}}}),i("n",[],function(){return{urlPatterns:[{regex:/youtu\.be\/([\w\-.]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$2",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\-_]+(?:\?.+)?)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowfullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;byline=0",allowfullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0}]}}),i("k",["m","h","n","c","6","3"],function(i,r,a,s,l,c){return{dataToHtml:function(n,e){var t="",o=c.extend({},e);return o.source1||(c.extend(o,r.htmlToData(n.settings.media_scripts,o.embed)),o.source1)?(o.source2||(o.source2=""),o.poster||(o.poster=""),o.source1=n.convertURL(o.source1,"source"),o.source2=n.convertURL(o.source2,"source"),o.source1mime=i.guess(o.source1),o.source2mime=i.guess(o.source2),o.poster=n.convertURL(o.poster,"poster"),c.each(a.urlPatterns,function(e){var t,n,i=e.regex.exec(o.source1);if(i){for(n=e.url,t=0;i[t];t++)n=n.replace("$"+t,function(){return i[t]});o.source1=n,o.type=e.type,o.allowFullscreen=e.allowFullscreen,o.width=o.width||e.w,o.height=o.height||e.h}}),o.embed?t=l.updateHtml(o.embed,o,!0):((e=s.getVideoScriptMatch(n.settings.media_scripts,o.source1))&&(o.type="script",o.width=e.width,o.height=e.height),o.width=o.width||300,o.height=o.height||150,c.each(o,function(e,t){o[t]=n.dom.encode(e)}),"iframe"===o.type?(e=o.allowFullscreen?' allowFullscreen="1"':"",t+='<iframe src="'+o.source1+'" width="'+o.width+'" height="'+o.height+'"'+e+"></iframe>"):"application/x-shockwave-flash"===o.source1mime?(t+='<object data="'+o.source1+'" width="'+o.width+'" height="'+o.height+'" type="application/x-shockwave-flash">',o.poster&&(t+='<img src="'+o.poster+'" width="'+o.width+'" height="'+o.height+'" />'),t+="</object>"):-1!==o.source1mime.indexOf("audio")?n.settings.audio_template_callback?t=n.settings.audio_template_callback(o):t+='<audio controls="controls" src="'+o.source1+'">'+(o.source2?'\n<source src="'+o.source2+'"'+(o.source2mime?' type="'+o.source2mime+'"':"")+" />\n":"")+"</audio>":"script"===o.type?t+='<script src="'+o.source1+'"><\/script>':t=n.settings.video_template_callback?n.settings.video_template_callback(o):'<video width="'+o.width+'" height="'+o.height+'"'+(o.poster?' poster="'+o.poster+'"':"")+' controls="controls">\n<source src="'+o.source1+'"'+(o.source1mime?' type="'+o.source1mime+'"':"")+" />\n"+(o.source2?'<source src="'+o.source2+'"'+(o.source2mime?' type="'+o.source2mime+'"':"")+" />\n":"")+"</video>"),t):""}}}),i("l",["8"],function(e){return e("tinymce.util.Promise")}),i("i",["k","l"],function(n,s){function r(i,o,r){var a={};return new s(function(t,e){function n(e){return e.html&&(a[i.source1]=e),t({url:i.source1,html:e.html?e.html:o(i)})}a[i.source1]?n(a[i.source1]):r({url:i.source1},n,e)})}function a(t){return function(e){return n.dataToHtml(t,e)}}return{getEmbedHtml:function(e,t){var n,i,o=e.settings.media_url_resolver;return o?r(t,a(e),o):(n=t,i=a(e),new s(function(e){e({html:i(n),url:n.source1})}))}}}),i("j",[],function(){function s(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())}function t(e,t){var n=e.find("#width")[0],i=e.find("#height")[0],e=e.find("#constrain")[0];n&&i&&e&&t(n,i,e.checked())}function n(e,t,n){var i=e.state.get("oldVal"),o=t.state.get("oldVal"),r=e.value(),a=t.value();n&&i&&o&&r&&a&&(r!==i?(a=Math.round(r/i*a),isNaN(a)||t.value(a)):(r=Math.round(a/o*r),isNaN(r)||e.value(r))),s(e,t)}function i(e){t(e,n)}return{createUi:function(e){function t(){e(function(e){i(e)})}return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},syncSize:function(e){t(e,s)},updateSize:i}}),i("7",["g","h","6","i","f","3","d","j"],function(e,l,c,u,d,h,t,f){function p(t){return function(e){e=e&&e.msg?"Media embed handler error: "+e.msg:"Media embed handler threw unknown error.";t.notificationManager.open({type:"error",text:e})}}function m(i,o){return function(e){var t=e.html,n=i.find("#embed")[0],e=h.extend(l.htmlToData(o.settings.media_scripts,t),{source1:e.url});i.fromJSON(e),n&&(n.value(t),f.updateSize(i))}}function g(e,t){var n=e.dom.select("img[data-mce-object]");e.insertContent(t),function(e,t){for(var n,i=e.dom.select("img[data-mce-object]"),o=0;o<t.length;o++)for(n=i.length-1;0<=n;n--)t[o]===i[n]&&i.splice(n,1);e.selection.select(i[0])}(e,n),e.nodeChanged()}var v=t.ie&&t.ie<=8?"onChange":"onInput";return{showDialog:function(t){var i,n,e,o,r=[{name:"source1",type:"filepicker",filetype:"media",size:40,autofocus:!0,label:"Source",onpaste:function(){setTimeout(function(){u.getEmbedHtml(t,i.toJSON()).then(m(i,t)).catch(p(t))},1)},onchange:function(e){var n;u.getEmbedHtml(t,i.toJSON()).then(m(i,t)).catch(p(t)),n=i,e=e.meta,h.each(e,function(e,t){n.find("#"+t).value(e)})},onbeforecall:function(e){e.meta=i.toJSON()}}],a=[];!1!==t.settings.media_alt_source&&a.push({name:"source2",type:"filepicker",filetype:"media",size:40,label:"Alternative source"}),!1!==t.settings.media_poster&&a.push({name:"poster",type:"filepicker",filetype:"image",size:40,label:"Poster"}),!1!==t.settings.media_dimensions&&(o=f.createUi(function(e){e(i),n=i.toJSON(),i.find("#embed").value(c.updateHtml(n.embed,n))}),r.push(o)),s=(e=t).selection.getNode(),o=s.getAttribute("data-ephox-embed-iri"),n=o?{source1:o,"data-ephox-embed-iri":o,width:d.getMaxWidth(s),height:d.getMaxHeight(s)}:s.getAttribute("data-mce-object")?l.htmlToData(e.settings.media_scripts,e.serializer.serialize(s,{selection:!0})):{};var s={id:"mcemediasource",type:"textbox",flex:1,name:"embed",value:function(e){var t=e.selection.getNode();if(t.getAttribute("data-mce-object")||t.getAttribute("data-ephox-embed-iri"))return e.selection.getContent()}(t),multiline:!0,rows:5,label:"Source"};s[v]=function(){n=h.extend({},l.htmlToData(t.settings.media_scripts,this.value())),this.parent().parent().fromJSON(n)},i=t.windowManager.open({title:"Insert/edit media",data:n,bodyType:"tabpanel",body:[{title:"General",type:"form",items:r},{title:"Embed",type:"container",layout:"flex",direction:"column",align:"stretch",padding:10,spacing:10,items:[{type:"label",text:"Paste your embed code below:",forId:"mcemediasource"},s]},{title:"Advanced",type:"form",items:a}],onSubmit:function(){f.updateSize(i),function(e,t){e=e.toJSON();e.embed=c.updateHtml(e.embed,e),e.embed?g(t,e.embed):u.getEmbedHtml(t,e).then(function(e){g(t,e.html)}).catch(p(t))}(i,t)}}),f.syncSize(i)}}}),i("0",["1","2","3","4","5","6","7"],function(d,e,i,o,h,r,t){return e.add("media",function(u){u.on("ResolveName",function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}),u.on("preInit",function(){var t=u.schema.getSpecialElements();i.each("video audio iframe object".split(" "),function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")});var n=u.schema.getBoolAttrs();i.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(e){n[e]={}}),u.parser.addNodeFilter("iframe,video,audio,object,embed,script",o.placeHolderConverter(u)),u.serializer.addAttributeFilter("data-mce-object",function(e,t){for(var n,i,o,r,a,s,l=e.length;l--;)if((n=e[l]).parent){for(a=n.attr(t),i=new d(a,1),"audio"!==a&&"script"!==a&&((s=n.attr("class"))&&-1!==s.indexOf("mce-preview-object")?i.attr({width:n.firstChild.attr("width"),height:n.firstChild.attr("height")}):i.attr({width:n.attr("width"),height:n.attr("height")})),i.attr({style:n.attr("style")}),o=(r=n.attributes).length;o--;){var c=r[o].name;0===c.indexOf("data-mce-p-")&&i.attr(c.substr(11),r[o].value)}"script"===a&&i.attr("type","text/javascript"),(s=n.attr("data-mce-html"))&&((a=new d("#text",3)).raw=!0,a.value=h.sanitize(u,unescape(s)),i.append(a)),n.replace(i)}})}),u.on("click keyup",function(){var e=u.selection.getNode();e&&u.dom.hasClass(e,"mce-preview-object")&&u.dom.getAttrib(e,"data-mce-selected")&&e.setAttribute("data-mce-selected","2")}),u.on("ObjectSelected",function(e){var t=e.target.getAttribute("data-mce-object");"audio"!==t&&"script"!==t||e.preventDefault()}),u.on("objectResized",function(e){var t,n=e.target;!n.getAttribute("data-mce-object")||(t=n.getAttribute("data-mce-html"))&&(t=unescape(t),n.setAttribute("data-mce-html",escape(r.updateHtml(t,{width:e.width,height:e.height}))))}),this.showDialog=function(){t.showDialog(u)},u.addButton("media",{tooltip:"Insert/edit media",onclick:this.showDialog,stateSelector:["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"]}),u.addMenuItem("media",{icon:"media",text:"Media",onclick:this.showDialog,context:"insert",prependToContext:!0}),u.on("setContent",function(){u.$("span.mce-preview-object").each(function(e,t){var n=u.$(t);0===n.find("span.mce-shim",t).length&&n.append('<span class="mce-shim"></span>')})}),u.addCommand("mceMedia",this.showDialog)}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="9",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["9"],function(e){return e("tinymce.PluginManager")}),i("2",["9"],function(e){return e("tinymce.util.Tools")}),i("3",["9"],function(e){return e("tinymce.util.VK")}),i("a",["9"],function(e){return e("tinymce.dom.DOMUtils")}),i("8",[],function(){function n(e){return e&&"BR"===e.nodeName}return{isTextNode:function(e){return e&&3===e.nodeType},isListNode:function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},isListItemNode:function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},isBr:n,isFirstChild:function(e){return e.parentNode.firstChild===e},isLastChild:function(e){return e.parentNode.lastChild===e},isTextBlock:function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},isBogusBr:function(e,t){return!!n(t)&&!(!e.isBlock(t.nextSibling)||n(t.previousSibling))},isEmpty:function(e,t,n){var i=e.isEmpty(t);return!(n&&0<e.select("span[data-mce-type=bookmark]",t).length)&&i},isChildOfBody:function(e,t){return e.isChildOf(t,e.getRoot())}}}),i("h",["9"],function(e){return e("tinymce.dom.RangeUtils")}),i("j",["h","8"],function(i,o){function r(e,t){var n=i.getNode(e,t);return o.isListItemNode(e)&&o.isTextNode(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:{container:e,offset:t}}return{getNormalizedEndPoint:r,normalizeRange:function(e){var t=e.cloneRange(),n=r(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);e=r(e.endContainer,e.endOffset);return t.setEnd(e.container,e.offset),t}}}),i("b",["a","8","j"],function(e,t,n){var a=e.DOM;return{createBookmark:function(o){function e(e){var t,n=o[e?"startContainer":"endContainer"],i=o[e?"startOffset":"endOffset"];1===n.nodeType&&(t=a.create("span",{"data-mce-type":"bookmark"}),n.hasChildNodes()?(i=Math.min(i,n.childNodes.length-1),e?n.insertBefore(t,n.childNodes[i]):a.insertAfter(t,n.childNodes[i])):n.appendChild(t),n=t,i=0),r[e?"startContainer":"endContainer"]=n,r[e?"startOffset":"endOffset"]=i}var r={};return e(!0),o.collapsed||e(),r},resolveBookmark:function(o){function e(e){var t,n=t=o[e?"startContainer":"endContainer"],i=o[e?"startOffset":"endOffset"];n&&(1===n.nodeType&&(i=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(n),n=n.parentNode,a.remove(t)),o[e?"startContainer":"endContainer"]=n,o[e?"startOffset":"endOffset"]=i)}e(!0),e();var t=a.createRng();return t.setStart(o.startContainer,o.startOffset),o.endContainer&&t.setEnd(o.endContainer,o.endOffset),n.normalizeRange(t)}}}),i("c",["2","8"],function(t,n){return{getSelectedListItems:function(e){return t.grep(e.selection.getSelectedBlocks(),function(e){return n.isListItemNode(e)})}}}),i("4",["a","b","8","c"],function(e,l,c,u){function d(e,t){var n;if(c.isListNode(e)){for(;n=e.firstChild;)t.appendChild(n);h.remove(e)}}var h=e.DOM;return{indentSelection:function(e){var t,n,i,o,r=u.getSelectedListItems(e);if(r.length){for(var a=l.createBookmark(e.selection.getRng(!0)),s=0;s<r.length&&(t=r[s],o=i=n=void 0,!(("DT"===t.nodeName?(h.rename(t,"DD"),0):(n=t.previousSibling)&&c.isListNode(n)?(n.appendChild(t),0):n&&"LI"===n.nodeName&&c.isListNode(n.lastChild)?(n.lastChild.appendChild(t),d(t.lastChild,n.lastChild),0):(n=t.nextSibling)&&c.isListNode(n)?(n.insertBefore(t,n.firstChild),0):!(n=t.previousSibling)||"LI"!==n.nodeName||(i=h.create(t.parentNode.nodeName),(o=h.getStyle(t.parentNode,"listStyleType"))&&h.setStyle(i,"listStyleType",o),n.appendChild(i),i.appendChild(t),d(t.lastChild,i),0))&&0===s));s++);return e.selection.setRng(l.resolveBookmark(a)),e.nodeChanged(),!0}}}}),i("d",["a","2","8"],function(e,n,o){function i(e,t){var n,i=t.parentNode;"LI"===i.nodeName&&i.firstChild===t&&((n=i.previousSibling)&&"LI"===n.nodeName?(n.appendChild(t),o.isEmpty(e,i)&&r.remove(i)):r.setStyle(i,"listStyleType","none")),!o.isListNode(i)||(n=i.previousSibling)&&"LI"===n.nodeName&&n.appendChild(t)}var r=e.DOM;return{normalizeList:i,normalizeLists:function(t,e){n.each(n.grep(t.select("ol,ul",e)),function(e){i(t,e)})}}}),i("k",["9"],function(e){return e("tinymce.Env")}),i("f",["a","k"],function(e,c){var u=e.DOM;return{createNewTextBlock:function(e,t,n){var i,o,r,a=u.createFragment(),s=e.schema.getBlockElements();if(e.settings.forced_root_block&&(n=n||e.settings.forced_root_block),n&&((o=u.create(n)).tagName===e.settings.forced_root_block&&u.setAttribs(o,e.settings.forced_root_block_attrs),a.appendChild(o)),t)for(;i=t.firstChild;){var l=i.nodeName;r||"SPAN"===l&&"bookmark"===i.getAttribute("data-mce-type")||(r=!0),s[l]?(a.appendChild(i),o=null):n?(o||(o=u.create(n),a.appendChild(o)),o.appendChild(i)):a.appendChild(i)}return e.settings.forced_root_block?r||c.ie&&!(10<c.ie)||o.appendChild(u.create("br",{"data-mce-bogus":"1"})):a.appendChild(u.create("br")),a}}}),i("e",["a","8","f","2"],function(e,l,c,u){var d=e.DOM;return{splitList:function(e,t,n,i){var o,r,a,s=d.select('span[data-mce-type="bookmark"]',t);for(i=i||c.createNewTextBlock(e,n),(o=d.createRng()).setStartAfter(n),o.setEndAfter(t),r=(o=o.extractContents()).firstChild;r;r=r.firstChild)if("LI"===r.nodeName&&e.dom.isEmpty(r)){d.remove(r);break}e.dom.isEmpty(o)||d.insertAfter(o,t),d.insertAfter(i,t),l.isEmpty(e.dom,n.parentNode)&&(a=n.parentNode,u.each(s,function(e){a.parentNode.insertBefore(e,n.parentNode)}),d.remove(a)),d.remove(n),l.isEmpty(e.dom,t)&&d.remove(t)}}}),i("5",["a","b","8","d","c","e","f"],function(e,s,o,r,l,a,c){function u(e,t){o.isEmpty(e,t)&&h.remove(t)}function d(e,t){var n=t.parentNode,i=n.parentNode;return n===e.getBody()||("DD"===t.nodeName?h.rename(t,"DT"):o.isFirstChild(t)&&o.isLastChild(t)?"LI"===i.nodeName?(h.insertAfter(t,i),u(e.dom,i),h.remove(n)):o.isListNode(i)?h.remove(n,!0):(i.insertBefore(c.createNewTextBlock(e,t),n),h.remove(n)):o.isFirstChild(t)?"LI"===i.nodeName?(h.insertAfter(t,i),t.appendChild(n),u(e.dom,i)):o.isListNode(i)?i.insertBefore(t,n):(i.insertBefore(c.createNewTextBlock(e,t),n),h.remove(t)):o.isLastChild(t)?"LI"===i.nodeName?h.insertAfter(t,i):o.isListNode(i)?h.insertAfter(t,n):(h.insertAfter(c.createNewTextBlock(e,t),n),h.remove(t)):(i="LI"===i.nodeName?(n=i,c.createNewTextBlock(e,t,"LI")):o.isListNode(i)?c.createNewTextBlock(e,t,"LI"):c.createNewTextBlock(e,t),a.splitList(e,n,t,i),r.normalizeLists(e.dom,n.parentNode)),!0)}var h=e.DOM;return{outdent:d,outdentSelection:function(e){var t=l.getSelectedListItems(e);if(t.length){for(var n,i=s.createBookmark(e.selection.getRng(!0)),o=e.getBody(),r=t.length;r--;)for(var a=t[r].parentNode;a&&a!==o;){for(n=t.length;n--;)if(t[n]===a){t.splice(r,1);break}a=a.parentNode}for(r=0;r<t.length&&(d(e,t[r])||0!==r);r++);return e.selection.setRng(s.resolveBookmark(i)),e.nodeChanged(),!0}}}}),i("g",["9"],function(e){return e("tinymce.dom.BookmarkManager")}),i("6",["g","2","5","b","8","d","c","e"],function(u,d,r,h,f,a,s,l){function o(n,e){d.each(e,function(e,t){n.setAttribute(t,e)})}function p(e,t,n){var i;(function(e,t,n){n=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",n)})(e,t,n),e=e,o(t=t,(i=n)["list-attributes"]),d.each(e.select("li",t),function(e){o(e,i["list-item-attributes"])})}function m(e,t,n){var i=e.getBody(),o=t[n?"startContainer":"endContainer"],n=t[n?"startOffset":"endOffset"];for(1===o.nodeType&&(o=o.childNodes[Math.min(n,o.childNodes.length-1)]||o);o.parentNode!==i;){if(f.isTextBlock(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o}function c(r,a,s){var e,t=r.selection.getRng(!0),l="LI",c=r.dom;s=s||{},"false"!==c.getContentEditable(r.selection.getNode())&&("DL"===(a=a.toUpperCase())&&(l="DT"),e=h.createBookmark(t),d.each(function(n,e){for(var i,o=[],r=n.getBody(),a=n.dom,t=m(n,e,!0),s=m(n,e,!1),l=[],c=t;c&&(l.push(c),c!==s);c=c.nextSibling);return d.each(l,function(e){if(f.isTextBlock(n,e))return o.push(e),void(i=null);if(a.isBlock(e)||f.isBr(e))return f.isBr(e)&&a.remove(e),void(i=null);var t=e.nextSibling;return u.isBookmarkNode(e)&&(f.isTextBlock(n,t)||!t&&e.parentNode===r)?void(i=null):(i||(i=a.create("p"),e.parentNode.insertBefore(i,e),o.push(i)),void i.appendChild(e))}),o}(r,t),function(e){var t,n,i,o=e.previousSibling;o&&f.isListNode(o)&&o.nodeName===a&&(n=o,i=c.getStyle(n,"list-style-type"),n=s?s["list-style-type"]:"",i===(n=null===n?"":n))?(t=o,e=c.rename(e,l),o.appendChild(e)):(t=c.create(a),e.parentNode.insertBefore(t,e),t.appendChild(e),e=c.rename(e,l)),p(c,t,s),y(r.dom,t)}),r.selection.setRng(h.resolveBookmark(e)))}function g(i){var e=h.createBookmark(i.selection.getRng(!0)),o=i.getBody(),t=s.getSelectedListItems(i),n=d.grep(t,function(e){return i.dom.isEmpty(e)}),t=d.grep(t,function(e){return!i.dom.isEmpty(e)});d.each(n,function(e){f.isEmpty(i.dom,e)&&r.outdent(i,e)}),d.each(t,function(e){var t,n;if(e.parentNode!==i.getBody()){for(t=e;t&&t!==o;t=t.parentNode)f.isListNode(t)&&(n=t);l.splitList(i,n,e),a.normalizeLists(i.dom,n.parentNode)}}),i.selection.setRng(h.resolveBookmark(e))}function v(e,t,n){return o=n,(i=t)&&o&&f.isListNode(i)&&i.nodeName===o.nodeName&&(i=t,o=n,(e=e).getStyle(i,"list-style-type",!0)===e.getStyle(o,"list-style-type",!0))&&(n=n,t.className===n.className);var i,o}var y=function(e,t){var n,i=t.nextSibling;if(v(e,t,i)){for(;n=i.firstChild;)t.appendChild(n);e.remove(i)}if(i=t.previousSibling,v(e,t,i)){for(;n=i.lastChild;)t.insertBefore(n,t.firstChild);e.remove(i)}};return{toggleList:function(e,t,n){var i,o=e.dom.getParent(e.selection.getStart(),"OL,UL,DL");n=n||{},o!==e.getBody()&&(o?o.nodeName===t?g(e):(i=h.createBookmark(e.selection.getRng(!0)),p(e.dom,o,n),y(e.dom,e.dom.rename(o,t)),e.selection.setRng(h.resolveBookmark(i))):c(e,t,n))},removeList:g,mergeWithAdjacentLists:y}}),i("i",["9"],function(e){return e("tinymce.dom.TreeWalker")}),i("7",["h","i","3","6","b","8","d","j","c"],function(a,s,n,l,c,u,i,d,o){function h(e,t,n){var i,o,r=t.startContainer,t=t.startOffset;if(3===r.nodeType&&(n?t<r.data.length:0<t))return r;for(i=e.schema.getNonEmptyElements(),1===r.nodeType&&(r=a.getNode(r,t)),o=new s(r,e.getBody()),n&&u.isBogusBr(e.dom,r)&&o.next();r=o[n?"next":"prev2"]();){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(i[r.nodeName])return r;if(3===r.nodeType&&0<r.data.length)return r}}function f(e,t,n){var i,o,r=t.parentNode;if(u.isChildOfBody(e,t)&&u.isChildOfBody(e,n)){if(u.isListNode(n.lastChild)&&(o=n.lastChild),r===n.lastChild&&u.isBr(r.previousSibling)&&e.remove(r.previousSibling),(i=n.lastChild)&&u.isBr(i)&&t.hasChildNodes()&&e.remove(i),u.isEmpty(e,n,!0)&&e.$(n).empty(),!u.isEmpty(e,t,!0))for(;i=t.firstChild;)n.appendChild(i);o&&n.appendChild(o),e.remove(t),u.isEmpty(e,r)&&r!==e.getRoot()&&e.remove(r)}}function r(e,t){return function(e,t){var n,i=e.dom,o=e.selection,r=i.getParent(o.getStart(),"LI");if(r){if((n=r.parentNode)===e.getBody()&&u.isEmpty(i,n))return!0;if(a=d.normalizeRange(o.getRng(!0)),(o=i.getParent(h(e,a,t),"LI"))&&o!==r){var a=c.createBookmark(a);return t?f(i,o,r):f(i,r,o),e.selection.setRng(c.resolveBookmark(a)),!0}if(!o&&!t&&l.removeList(e,n.nodeName))return!0}return!1}(e,t)||function(e,t){var n=e.dom,i=n.getParent(e.selection.getStart(),n.isBlock);if(i&&n.isEmpty(i)){var o=d.normalizeRange(e.selection.getRng(!0)),r=n.getParent(h(e,o,t),"LI");if(r)return e.undoManager.transact(function(){n.remove(i),l.mergeWithAdjacentLists(n,r.parentNode),e.selection.select(r,!0),e.selection.collapse(t)}),!0}return!1}(e,t)}function p(e,t){return e.selection.isCollapsed()?r(e,t):!!((n=e).dom.getParent(n.selection.getStart(),"LI,DT,DD")||0<o.getSelectedListItems(n).length)&&(n.undoManager.transact(function(){n.execCommand("Delete"),i.normalizeLists(n.dom,n.getBody())}),!0);var n}return{setup:function(t){t.on("keydown",function(e){e.keyCode===n.BACKSPACE?p(t,!1)&&e.preventDefault():e.keyCode===n.DELETE&&p(t,!0)&&e.preventDefault()})},backspaceDelete:p}}),i("0",["1","2","3","4","5","6","7","8"],function(e,i,o,r,a,s,t,l){function c(t,n){return function(){var e=t.dom.getParent(t.selection.getStart(),"UL,OL,DL");return e&&e.nodeName===n}}function u(a){function e(n){return function(){var t=this;a.on("NodeChange",function(e){e=i.grep(e.parents,l.isListNode);t.active(0<e.length&&e[0].nodeName===n)})}}!function(e,t){e=e.settings.plugins?e.settings.plugins:"";return-1!==i.inArray(e.split(/[ ,]/),t)}(a,"advlist")&&(a.addButton("numlist",{title:"Numbered list",cmd:"InsertOrderedList",onPostRender:e("OL")}),a.addButton("bullist",{title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:e("UL")})),a.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:function(e){var r=e.control;a.on("nodechange",function(){for(var e=a.selection.getSelectedBlocks(),t=!1,n=0,i=e.length;!t&&n<i;n++)var o=e[n].nodeName,t="LI"===o&&l.isFirstChild(e[n])||"UL"===o||"OL"===o||"DD"===o;r.disabled(t)})}})}return e.add("lists",function(n){return u(n),t.setup(n),n.on("init",function(){var t,e,i;(i=n).on("BeforeExecCommand",function(e){var t,n=e.command.toLowerCase();if("indent"===n?r.indentSelection(i)&&(t=!0):"outdent"===n&&a.outdentSelection(i)&&(t=!0),t)return i.fire("ExecCommand",{command:e.command}),e.preventDefault(),!0}),i.addCommand("InsertUnorderedList",function(e,t){s.toggleList(i,"UL",t)}),i.addCommand("InsertOrderedList",function(e,t){s.toggleList(i,"OL",t)}),i.addCommand("InsertDefinitionList",function(e,t){s.toggleList(i,"DL",t)}),(e=n).addQueryStateHandler("InsertUnorderedList",c(e,"UL")),e.addQueryStateHandler("InsertOrderedList",c(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",c(e,"DL")),n.getParam("lists_indent_on_tab",!0)&&(t=n).on("keydown",function(e){9!==e.keyCode||o.metaKeyPressed(e)||t.dom.getParent(t.selection.getStart(),"LI,DT,DD")&&(e.preventDefault(),e.shiftKey?a.outdentSelection(t):r.indentSelection(t))})}),{backspaceDelete:function(e){t.backspaceDelete(n,e)}}}),function(){}}),l("0")()}(),function(){var s={},e=function(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},n=e,e=function(e,t){n(e,[],function(){return t})};e("4",tinymce.util.Tools.resolve),n("1",["4"],function(e){return e("tinymce.PluginManager")}),n("5",["4"],function(e){return e("tinymce.util.VK")}),n("a",["4"],function(e){return e("tinymce.util.Delay")}),n("b",["4"],function(e){return e("tinymce.util.Tools")}),n("c",["4"],function(e){return e("tinymce.util.XHR")}),n("9",[],function(){function t(e){return e.target_list}function n(e){return e.rel_list}function i(e){return e.link_class_list}return{assumeExternalTargets:function(e){return"boolean"==typeof e.link_assume_external_targets&&e.link_assume_external_targets},hasContextToolbar:function(e){return"boolean"==typeof e.link_context_toolbar&&e.link_context_toolbar},getLinkList:function(e){return e.link_list},hasDefaultLinkTarget:function(e){return"string"==typeof e.default_link_target},getDefaultLinkTarget:function(e){return e.default_link_target},getTargetList:t,setTargetList:function(e,t){e.settings.target_list=t},shouldShowTargetList:function(e){return!1!==t(e)},getRelList:n,hasRelList:function(e){return void 0!==n(e)},getLinkClassList:i,hasLinkClassList:function(e){return void 0!==i(e)},shouldShowLinkTitle:function(e){return!1!==e.link_title},allowUnsafeLinkTarget:function(e){return"boolean"==typeof e.allow_unsafe_link_target&&e.allow_unsafe_link_target}}}),e("d",RegExp),n("8",["b","9","d"],function(u,d,h){function f(e,t){return t=t||e.selection.getStart(),p(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")}function t(e){return e&&"A"===e.nodeName&&e.href}var p=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},n=function(e,t){var n=e.dom.select("img",t)[0];!n||(t=e.dom.getParents(n,"a[href]",t)[0])&&(t.parentNode.insertBefore(n,t),e.dom.remove(t))},m=function(e,t,n){t=e.dom.select("img",t)[0];t&&(n=e.dom.create("a",n),t.parentNode.insertBefore(n,t),n.appendChild(t))};return{link:function(l,c){return function(s){l.undoManager.transact(function(){var e,t,n,i,o=l.selection.getNode(),r=f(l,o),a={href:s.href,target:s.target?s.target:null,rel:s.rel?s.rel:null,class:s.class?s.class:null,title:s.title?s.title:null};!1===d.allowUnsafeLinkTarget(l.settings)&&(a.rel=(e=a.rel,t="_blank"==a.target,n="noopener noreferrer",i=function(e){var t=new h("("+n.replace(" ","|")+")","g");return(e=e&&u.trim(e.replace(t,"")))||null},t?(t=i(t=e))?[t,n].join(" "):n:i(e))),s.href===c.href&&(c.attach(),c={}),r?(l.focus(),s.hasOwnProperty("text")&&("innerText"in r?r.innerText=s.text:r.textContent=s.text),l.dom.setAttribs(r,a),l.selection.select(r),l.undoManager.add()):p(o)?m(l,o,a):s.hasOwnProperty("text")?l.insertContent(l.dom.createHTML("a",a,l.dom.encode(s.text))):l.execCommand("mceInsertLink",!1,a)})}},unlink:function(t){return function(){t.undoManager.transact(function(){var e=t.selection.getNode();p(e)?n(t,e):t.execCommand("unlink")})}},isLink:t,hasLinks:function(e){return 0<u.grep(e,t).length},isOnlyTextSelected:function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1==e.indexOf("href=")))},getAnchorElement:f,getAnchorText:function(e,t){return(t?t.innerText||t.textContent:e.getContent({format:"text"})).replace(/\uFEFF/g,"")}}}),n("6",["a","b","c","8","9"],function(o,v,i,y,b){function x(e,i,t){var o=function(e,n){return n=n||[],v.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=o(e.menu):(t.value=e.value,i&&i(t)),n.push(t)}),n};return o(e,t||[])}function w(t,e,n){var i=t.selection.getRng();o.setEditorTimeout(t,function(){t.windowManager.confirm(e,function(e){t.selection.setRng(i),n(e)})})}function r(a,e){function i(e){var t=o.find("#text");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text()),o.find("#href").value(e.control.value())}function n(){s||!m||h.text||this.parent().parent().find("#text")[0].value(this.value())}var s,o,t,r,l,c,u,d,h={},f=a.selection,p=a.dom,m=y.isOnlyTextSelected(f.getContent()),g=y.getAnchorElement(a);h.text=s=y.getAnchorText(a.selection,g),h.href=g?p.getAttrib(g,"href"):"",g?h.target=p.getAttrib(g,"target"):b.hasDefaultLinkTarget(a.settings)&&(h.target=b.getDefaultLinkTarget(a.settings)),(f=p.getAttrib(g,"rel"))&&(h.rel=f),(f=p.getAttrib(g,"class"))&&(h.class=f),(f=p.getAttrib(g,"title"))&&(h.title=f),m&&(t={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){h.text=this.value()}}),e&&(r={type:"listbox",label:"Link list",values:x(e,function(e){e.value=a.convertURL(e.value||e.url,"href")},[{text:"None",value:""}]),onselect:i,value:a.convertURL(h.href,"href"),onPostRender:function(){r=this}}),b.shouldShowTargetList(a.settings)&&(void 0===b.getTargetList(a.settings)&&b.setTargetList(a,[{text:"None",value:""},{text:"New window",value:"_blank"}]),c={name:"target",type:"listbox",label:"Target",values:x(b.getTargetList(a.settings))}),b.hasRelList(a.settings)&&(l={name:"rel",type:"listbox",label:"Rel",values:x(b.getRelList(a.settings))}),b.hasLinkClassList(a.settings)&&(u={name:"class",type:"listbox",label:"Class",values:x(b.getLinkClassList(a.settings),function(e){e.value&&(e.textStyle=function(){return a.formatter.getCssText({inline:"a",classes:[e.value]})})})}),b.shouldShowLinkTitle(a.settings)&&(d={name:"title",type:"textbox",label:"Title",value:h.title}),o=a.windowManager.open({title:"Insert link",data:h,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(e){var t=e.meta||{};r&&r.value(a.convertURL(this.value(),"href")),v.each(e.meta,function(e,t){var n=o.find("#"+t);"text"===t?0===s.length&&(n.value(e),h.text=e):n.value(e)}),t.attach&&(k={href:this.value(),attach:t.attach}),t.text||n.call(this)},onkeyup:n,onbeforecall:function(e){e.meta=o.toJSON()}},t,d,function(t){var n=[];if(v.each(a.dom.select("a:not([href])"),function(e){e=e.name||e.id;e&&n.push({text:e,value:"#"+e,selected:-1!=t.indexOf("#"+e)})}),n.length)return n.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:n,onselect:i}}(h.href),r,l,c,u],onSubmit:function(e){var t=b.assumeExternalTargets(a.settings),n=y.link(a,k),i=y.unlink(a),o=v.extend({},h,e.data),r=o.href;return r?(m&&o.text!==s||delete o.text,0<r.indexOf("@")&&-1==r.indexOf("//")&&-1==r.indexOf("mailto:")?void w(a,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(o.href="mailto:"+r),n(o)}):!0===t&&!/^\w+:/i.test(r)||!1===t&&/^\s*www[\.|\d\.]/i.test(r)?void w(a,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(o.href="http://"+r),n(o)}):void n(o)):void i()}})}var k={};return{open:function(e){var t,n;t=e,n=r,"string"==typeof(e=b.getLinkList(t.settings))?i.send({url:e,success:function(e){n(t,JSON.parse(e))}}):"function"==typeof e?e(function(e){n(t,e)}):n(t,e)}}}),n("e",["4"],function(e){return e("tinymce.dom.DOMUtils")}),n("f",["4"],function(e){return e("tinymce.Env")}),n("7",["e","f"],function(i,o){return{open:function(e){var t,n;!o.ie||10<o.ie?((t=document.createElement("a")).target="_blank",t.href=e,t.rel="noreferrer noopener",(n=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t=t,n=n,document.body.appendChild(t),t.dispatchEvent(n),document.body.removeChild(t)):(t=window.open("","_blank"))&&(t.opener=null,(t=t.document).open(),t.write('<meta http-equiv="refresh" content="0; url='+i.DOM.encode(e)+'">'),t.close())}}}),n("2",["5","6","7","8","9"],function(n,t,i,o,r){function a(e,t){return e.dom.getParent(t,"a[href]")}function s(e){return a(e,e.selection.getStart())}function l(e,t){var n;t&&(n=(n=t).getAttribute("data-mce-href")||n.getAttribute("href"),/^#/.test(n)?(n=e.$(n)).length&&e.selection.scrollIntoView(n[0],!0):i.open(t.href))}return{openDialog:function(e){return function(){t.open(e)}},gotoSelectedLink:function(e){return function(){l(e,s(e))}},leftClickedOnAHref:function(i){return function(e){var t,n;return!!(r.hasContextToolbar(i.settings)&&!function(e){e=e.plugins.contextmenu;return!!e&&e.isContextMenuVisible()}(i)&&o.isLink(e)&&(3==(e=(n=(t=i.selection).getRng()).startContainer).nodeType&&t.isCollapsed()&&0<n.startOffset&&n.startOffset<e.data.length))}},setupGotoLinks:function(i){i.on("click",function(e){var t=a(i,e.target);t&&n.metaKeyPressed(e)&&(e.preventDefault(),l(i,t))}),i.on("keydown",function(e){var t,n=s(i);n&&13===e.keyCode&&(!0===(t=e).altKey&&!1===t.shiftKey&&!1===t.ctrlKey&&!1===t.metaKey)&&(e.preventDefault(),l(i,n))})},toggleActiveState:function(n){return function(){var t=this;n.on("nodechange",function(e){t.active(!n.readonly&&!!o.getAnchorElement(n,e.element))})}},toggleViewLinkState:function(n){return function(){function e(e){o.hasLinks(e.parents)?t.show():t.hide()}var t=this;o.hasLinks(n.dom.getParents(n.selection.getStart()))||t.hide(),n.on("nodechange",e),t.on("remove",function(){n.off("nodechange",e)})}}}}),n("3",["2","8"],function(t,n){return{setupButtons:function(e){e.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:t.openDialog(e),onpostrender:t.toggleActiveState(e)}),e.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onclick:n.unlink(e),onpostrender:t.toggleActiveState(e)}),e.addContextToolbar&&e.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:t.gotoSelectedLink(e)})},setupMenuItems:function(e){e.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:t.gotoSelectedLink(e),onPostRender:t.toggleViewLinkState(e),prependToContext:!0}),e.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:t.openDialog(e),stateSelector:"a[href]",context:"insert",prependToContext:!0})},setupContextToolbars:function(e){e.addContextToolbar&&e.addContextToolbar(t.leftClickedOnAHref(e),"openlink | link unlink")}}}),n("0",["1","2","3"],function(e,t,n){return e.add("link",function(e){n.setupButtons(e),n.setupMenuItems(e),n.setupContextToolbars(e),t.setupGotoLinks(e),e.addShortcut("Meta+K","",t.openDialog(e)),e.addCommand("mceLink",t.openDialog(e))}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="3",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["3"],function(e){return e("tinymce.PluginManager")}),i("2",["3"],function(e){return e("tinymce.util.Tools")}),i("0",["1","2"],function(e,o){return e.add("legacyoutput",function(i,e,t){i.settings.inline_styles=!1,i.on("init",function(){var e="p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",t=o.explode(i.settings.font_size_style_values),n=i.schema;i.formatter.register({alignleft:{selector:e,attributes:{align:"left"}},aligncenter:{selector:e,attributes:{align:"center"}},alignright:{selector:e,attributes:{align:"right"}},alignjustify:{selector:e,attributes:{align:"justify"}},bold:[{inline:"b",remove:"all"},{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}}],italic:[{inline:"i",remove:"all"},{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}}],underline:[{inline:"u",remove:"all"},{inline:"span",styles:{textDecoration:"underline"},exact:!0}],strikethrough:[{inline:"strike",remove:"all"},{inline:"span",styles:{textDecoration:"line-through"},exact:!0}],fontname:{inline:"font",attributes:{face:"%value"}},fontsize:{inline:"font",attributes:{size:function(e){return o.inArray(t,e.value)+1}}},forecolor:{inline:"font",attributes:{color:"%value"}},hilitecolor:{inline:"font",styles:{backgroundColor:"%value"}}}),o.each("b,i,u,strike".split(","),function(e){n.addValidElements(e+"[*]")}),n.getElementRule("font")||n.addValidElements("font[face|size|color|style]"),o.each(e.split(","),function(e){e=n.getElementRule(e);e&&(e.attributes.align||(e.attributes.align={},e.attributesOrder.push("align")))})}),i.addButton("fontsizeselect",function(){var o=[],e=i.settings.fontsizeFormats||"8pt=1 10pt=2 12pt=3 14pt=4 18pt=5 24pt=6 36pt=7";return i.$.each(e.split(" "),function(e,t){var n=t,i=t,t=t.split("=");1<t.length&&(n=t[0],i=t[1]),o.push({text:n,value:i})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:o,fixedWidth:!0,onPostRender:function(){var t=this;i.on("NodeChange",function(){var e=i.dom.getParent(i.selection.getNode(),"font");e?t.value(e.size):t.value("")})},onclick:function(e){e.control.settings.value&&i.execCommand("FontSize",!1,e.control.settings.value)}}}),i.addButton("fontselect",function(){var n=[],e=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}(i.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return t.each(e,function(e,t){n.push({text:{raw:t[0]},value:t[1],textStyle:-1==t[1].indexOf("dings")?"font-family:"+t[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:n,fixedWidth:!0,onPostRender:function(){var t=this;i.on("NodeChange",function(){var e=i.dom.getParent(i.selection.getNode(),"font");e?t.value(e.face):t.value("")})},onselect:function(e){e.control.settings.value&&i.execCommand("FontName",!1,e.control.settings.value)}}})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="3",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["3"],function(e){return e("tinymce.PluginManager")}),i("2",["3"],function(e){return e("tinymce.util.Tools")}),i("0",["1","2"],function(e,d){return e.add("insertdatetime",function(i){function n(e,t){function n(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e}return t=t||new Date,(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+t.getFullYear())).replace("%y",""+t.getYear())).replace("%m",n(t.getMonth()+1,2))).replace("%d",n(t.getDate(),2))).replace("%H",""+n(t.getHours(),2))).replace("%M",""+n(t.getMinutes(),2))).replace("%S",""+n(t.getSeconds(),2))).replace("%I",""+((t.getHours()+11)%12+1))).replace("%p",t.getHours()<12?"AM":"PM")).replace("%B",""+i.translate(c[t.getMonth()]))).replace("%b",""+i.translate(l[t.getMonth()]))).replace("%A",""+i.translate(s[t.getDay()]))).replace("%a",""+i.translate(a[t.getDay()]))).replace("%%","%")}function t(e){var t=n(e);if(i.settings.insertdatetime_element){t='<time datetime="'+n(/%[HMSIp]/.test(e)?"%Y-%m-%dT%H:%M":"%Y-%m-%d")+'">'+t+"</time>",e=i.dom.getParent(i.selection.getStart(),"time");if(e)return i.dom.setOuterHTML(e,t),0}i.insertContent(t)}var o,r,a="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),s="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),l="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),c="January February March April May June July August September October November December".split(" "),u=[];i.addCommand("mceInsertDate",function(){t(i.getParam("insertdatetime_dateformat",i.translate("%Y-%m-%d")))}),i.addCommand("mceInsertTime",function(){t(i.getParam("insertdatetime_timeformat",i.translate("%H:%M:%S")))}),i.addButton("insertdatetime",{type:"splitbutton",title:"Insert date/time",onclick:function(){t(o||r)},menu:u}),d.each(i.settings.insertdatetime_formats||["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"],function(e){r=r||e,u.push({text:n(e),onclick:function(){t(o=e)}})}),i.addMenuItem("insertdatetime",{icon:"date",text:"Date/time",menu:u,context:"insert"})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="6",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["6"],function(e){return e("tinymce.EditorManager")}),i("2",["6"],function(e){return e("tinymce.dom.DOMUtils")}),i("3",["6"],function(e){return e("tinymce.Env")}),i("4",["6"],function(e){return e("tinymce.PluginManager")}),i("5",["6"],function(e){return e("tinymce.util.Tools")}),i("0",["1","2","3","4","5"],function(m,g,v,e,y){return e.add("importcss",function(c){function l(t){return"string"==typeof t?function(e){return-1!==e.indexOf(t)}:t instanceof RegExp?function(e){return t.test(e)}:t}function u(e,a){function s(e,t){var n,i,o,r=e.href;if(i=r,o=v.cacheSuffix,"string"==typeof i&&(i=i.replace("?"+o,"").replace("&"+o,"")),(r=i)&&a(r,t)&&!function(e){var t=c.settings,n=!1!==t.skin&&(t.skin||"lightgray");if(n){t=t.skin_url;return e===(t=t?c.documentBaseURI.toAbsolute(t):m.baseURL+"/skins/"+n)+"/content"+(c.inline?".inline":"")+".min.css"}}(r)){p(e.imports,function(e){s(e,!0)});try{n=e.cssRules||e.rules}catch(e){}p(n,function(e){e.styleSheet?s(e.styleSheet,!0):e.selectorText&&p(e.selectorText.split(","),function(e){l.push(y.trim(e))})})}}var l=[],n={};p(c.contentCSS,function(e){n[e]=!0}),a=a||function(e,t){return t||n[e]};try{p(e.styleSheets,function(e){s(e)})}catch(e){}return l}function d(e){var t,n=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(e);if(n){var i=n[1],o=n[2].substr(1).split(".").join(" "),r=y.makeMap("a,img");return n[1]?(t={title:e},c.schema.getTextBlockElements()[i]?t.block=i:c.schema.getBlockElements()[i]||r[i.toLowerCase()]?t.selector=i:t.inline=i):n[2]&&(t={inline:"span",title:e.substr(1),classes:o}),!1!==c.settings.importcss_merge_classes?t.classes=o:t.attributes={class:o},t}}function h(e,t){return null===t||!1!==e.settings.importcss_exclusive}var f=this,p=y.each;c.on("renderFormatsMenu",function(e){function i(e,t){if(n=e,o=r,!(h(c,i=t)?n in o:n in i.selectors)){o=e,n=r,h(c,i=t)?n[o]=!0:i.selectors[o]=!0;o=(i=f,o=e,e=t,t=c.settings,(e&&e.selector_converter?e.selector_converter:t.importcss_selector_converter?t.importcss_selector_converter:d).call(i,o,e));if(o){e=o.name||g.DOM.uniqueId();return c.formatter.register(e,o),y.extend({},a.settings.itemDefaults,{text:o.title,format:e})}}var n,i,o;return null}var t,n=c.settings,r={},o=l(n.importcss_selector_filter),a=e.control,s=(t=n.importcss_groups,y.map(t,function(e){return y.extend({},e,{original:e,selectors:{},filter:l(e.filter),item:{text:e.title,menu:[]}})}));c.settings.importcss_append||a.items().remove(),p(u(e.doc||c.getDoc(),l(n.importcss_file_filter)),function(n){var e,t;-1!==n.indexOf(".mce-")||o&&!o(n)||(e=s,t=n,0<(e=y.grep(e,function(e){return!e.filter||e.filter(t)})).length?y.each(e,function(e){var t=i(n,e);t&&e.item.menu.push(t)}):(e=i(n,null))&&a.add(e))}),p(s,function(e){0<e.item.menu.length&&a.add(e.item)}),e.control.renderNew()}),f.convertSelectorToFormat=d}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;i("o",[],function(){function n(e,t){return function(){e.apply(t,arguments)}}function e(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,n(i,this),n(o,this))}function r(n){var i=this;return null===this._state?void this._deferreds.push(n):void t(function(){var e,t=i._state?n.onFulfilled:n.onRejected;if(null!==t){try{e=t(i._value)}catch(e){return void n.reject(e)}n.resolve(e)}else(i._state?n.resolve:n.reject)(i._value)})}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void l(n(t,e),n(i,this),n(o,this))}this._state=!0,this._value=e,a.call(this)}catch(e){o.call(this,e)}}function o(e){this._state=!1,this._value=e,a.call(this)}function a(){for(var e=0,t=this._deferreds.length;e<t;e++)r.call(this,this._deferreds[e]);this._deferreds=null}function s(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function l(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(e){if(i)return;i=!0,n(e)}}if(window.Promise)return window.Promise;var t=e.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.then=function(n,i){var o=this;return new e(function(e,t){r.call(o,new s(n,i,e,t))})},e.all=function(){var s=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new e(function(o,r){if(0===s.length)return o([]);for(var a=s.length,e=0;e<s.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return i.call(e,function(e){t(n,e)},r),0}s[n]=e,0==--a&&o(s)}catch(e){r(e)}}(e,s[e])})},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(n){return new e(function(e,t){t(n)})},e.race=function(o){return new e(function(e,t){for(var n=0,i=o.length;n<i;n++)o[n].then(e,t)})},e}),i("p",[],function(){function n(e,t){return o(document.createElement("canvas"),e,t)}function i(e){return e.getContext("2d")}function o(e,t,n){return e.width=t,e.height=n,e}return{create:n,clone:function(e){var t=n(e.width,e.height);return i(t).drawImage(e,0,0),t},resize:o,get2dContext:i,get3dContext:function(e){var t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}return t=t||null}}}),i("q",[],function(){return{guessMimeType:function(e){var t,n;return 0===e.indexOf("data:")?(e=e.split(","),(n=/data:([^;]+)/.exec(e[0]))?n[1]:""):(t={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png"},n=e,(e=document.createElement("a")).href=n,t[e=(e=(e=e.pathname.split("."))[e.length-1])&&e.toLowerCase()])}}}),i("r",[],function(){return{getWidth:function(e){return e.naturalWidth||e.width},getHeight:function(e){return e.naturalHeight||e.height}}}),i("c",["o","p","q","r"],function(o,n,i,r){function t(n){return new o(function(t){n.complete?t(n):n.addEventListener("load",function e(){n.removeEventListener("load",e),t(n)})})}function a(e){return t(e).then(function(e){var t=n.create(r.getWidth(e),r.getHeight(e));return n.get2dContext(t).drawImage(e,0,0),t})}function s(n){return new o(function(e){var t=new XMLHttpRequest;t.open("GET",n,!0),t.responseType="blob",t.onload=function(){200==this.status&&e(this.response)},t.send()})}function l(e){var t,n,i,o,r;if(e=e.split(","),(o=/data:([^;]+)/.exec(e[0]))&&(r=o[1]),t=atob(e[1]),window.WebKitBlobBuilder){for(e=new WebKitBlobBuilder,n=new ArrayBuffer(t.length),i=0;i<n.length;i++)n[i]=t.charCodeAt(i);return e.append(n),e.getBlob(r)}for(n=new Uint8Array(t.length),i=0;i<n.length;i++)n[i]=t.charCodeAt(i);return new Blob([n],{type:r})}function c(t){return new o(function(e){e(l(t))})}function u(n){return new o(function(e){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(n)})}return{blobToImage:function(i){return new o(function(e){function t(){n.removeEventListener("load",t),e(n)}var n=new Image;n.addEventListener("load",t),n.src=URL.createObjectURL(i),n.complete&&t()})},imageToBlob:function(e){return t(e).then(function(e){var t=e.src;return 0===t.indexOf("blob:")?s(t):0===t.indexOf("data:")?c(t):a(e).then(function(e){return c(e.toDataURL(i.guessMimeType(t)))})})},blobToDataUri:u,blobToBase64:function(e){return u(e).then(function(e){return e.split(",")[1]})},imageToCanvas:a,canvasToBlob:function(e,n,i){return n=n||"image/png",HTMLCanvasElement.prototype.toBlob?new o(function(t){e.toBlob(function(e){t(e)},n,i)}):c(e.toDataURL(n,i))},revokeImageUrl:function(e){URL.revokeObjectURL(e.src)},uriToBlob:function(e){return 0===e.indexOf("blob:")?s(e):0===e.indexOf("data:")?c(e):null},dataUriToBlobSync:l}}),i("d",["o","c","q","p"],function(e,r,n,t){function i(n,i){function o(e,t){return n.toDataURL(e||i,t)}return{getType:function(){return i},toBlob:function(e,t){return r.canvasToBlob(n,e||i,t)},toDataURL:o,toBase64:function(e,t){return o(e,t).split(",")[1]},toCanvas:function(){return t.clone(n)}}}return{fromBlob:function(t){return r.blobToImage(t).then(function(e){var t=r.imageToCanvas(e);return r.revokeImageUrl(e),t}).then(function(e){return i(e,t.type)})},fromCanvas:function(t,n){return new e(function(e){e(i(t,n))})},fromImage:function(e){var t=n.guessMimeType(e.src);return r.imageToCanvas(e).then(function(e){return i(e,t)})}}}),i("1",["c","d"],function(i,t){return{blobToImage:function(e){return i.blobToImage(e)},imageToBlob:function(e){return i.imageToBlob(e)},blobToDataUri:function(e){return i.blobToDataUri(e)},blobToBase64:function(e){return i.blobToBase64(e)},blobToImageResult:function(e){return t.fromBlob(e)},dataUriToImageResult:function(e){return i.uriToBlob(e).then(t.fromBlob)},imageToImageResult:function(e){return t.fromImage(e)},imageResultToBlob:function(e,t,n){return e.toBlob(t,n)},imageResultToBlobSync:function(e,t,n){return i.dataUriToBlobSync(e.toDataURL(t,n))}}}),i("s",[],function(){function o(e,t,n){return n<(e=parseFloat(e))?e=n:e<t&&(e=t),e}function r(e,t){for(var n,i,o,r=[],a=new Array(10),s=0;s<5;s++){for(n=0;n<5;n++)r[n]=t[n+5*s];for(n=0;n<5;n++){for(i=o=0;i<5;i++)o+=e[n+5*i]*r[i];a[n+5*s]=o}}return a}function n(e,n){return n=o(n,0,1),e.map(function(e,t){return t%6==0?e=1-(1-e)*n:e*=n,o(e,0,1)})}var i=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];return{identity:function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},adjust:n,multiply:r,adjustContrast:function(e,t){var n;return t=o(t,-1,1),r(e,[(n=(t*=100)<0?127+t/100*127:127*(n=0===(n=t%1)?i[t]:i[Math.floor(t)]*(1-n)+i[Math.floor(t)+1]*n)+127)/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])},adjustBrightness:function(e,t){return r(e,[1,0,0,0,t=o(255*t,-255,255),0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])},adjustSaturation:function(e,t){return r(e,[.3086*(1-(t=1+(0<(t=o(t,-1,1))?3*t:t)))+t,.6094*(1-t),.082*(1-t),0,0,.3086*(1-t),.6094*(1-t)+t,.082*(1-t),0,0,.3086*(1-t),.6094*(1-t),.082*(1-t)+t,0,0,0,0,0,1,0,0,0,0,0,1])},adjustHue:function(e,t){return t=o(t,-180,180)/180*Math.PI,r(e,[.213+.787*(e=Math.cos(t))+-.213*(t=Math.sin(t)),.715+-.715*e+-.715*t,.072+-.072*e+.928*t,0,0,.213+-.213*e+.143*t,.715+e*(1-.715)+.14*t,.072+-.072*e+-.283*t,0,0,.213+-.213*e+-.787*t,.715+-.715*e+.715*t,.072+.928*e+.072*t,0,0,0,0,0,1,0,0,0,0,0,1])},adjustColors:function(e,t,n,i){return r(e,[t=o(t,0,2),0,0,0,0,0,n=o(n,0,2),0,0,0,0,0,i=o(i,0,2),0,0,0,0,0,1,0,0,0,0,0,1])},adjustSepia:function(e,t){return r(e,n([.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0,0,0,0,0,1],t=o(t,0,1)))},adjustGrayscale:function(e,t){return r(e,n([.33,.34,.33,0,0,.33,.34,.33,0,0,.33,.34,.33,0,0,0,0,0,1,0,0,0,0,0,1],t=o(t,0,1)))}}}),i("e",["p","d","s"],function(l,c,o){function r(e,t){var n=e.toCanvas(),i=l.get2dContext(n),t=function(e,t){for(var n,i,o,r,a=e.data,s=t[0],l=t[1],c=t[2],u=t[3],d=t[4],h=t[5],f=t[6],p=t[7],m=t[8],g=t[9],v=t[10],y=t[11],b=t[12],x=t[13],w=t[14],k=t[15],C=t[16],_=t[17],T=t[18],S=t[19],D=0;D<a.length;D+=4)n=a[D],i=a[D+1],o=a[D+2],r=a[D+3],a[D]=n*s+i*l+o*c+r*u+d,a[D+1]=n*h+i*f+o*p+r*m+g,a[D+2]=n*v+i*y+o*b+r*x+w,a[D+3]=n*k+i*C+o*_+r*T+S;return e}(i.getImageData(0,0,n.width,n.height),t);return i.putImageData(t,0,0),c.fromCanvas(n,e.getType())}function n(e,t){var n=e.toCanvas(),i=l.get2dContext(n),o=i.getImageData(0,0,n.width,n.height),r=i.getImageData(0,0,n.width,n.height);return r=function(e,t,n){function i(e,t,n){return n<e?e=n:e<t&&(e=t),e}for(var o,r,a,s,l,c,u,d,h=Math.round(Math.sqrt(n.length)),f=Math.floor(h/2),p=e.data,m=t.data,g=e.width,v=e.height,y=0;y<v;y++)for(o=0;o<g;o++){for(c=r=a=s=0;c<h;c++)for(l=0;l<h;l++)d=i(o+l-f,0,g-1),u=4*(i(y+c-f,0,v-1)*g+d),d=n[c*h+l],r+=p[u]*d,a+=p[u+1]*d,s+=p[u+2]*d;m[u=4*(y*g+o)]=i(r,0,255),m[u+1]=i(a,0,255),m[u+2]=i(s,0,255)}return t}(o,r,t),i.putImageData(r,0,0),c.fromCanvas(n,e.getType())}function e(s){return function(e,t){for(var n,i=e.toCanvas(),o=l.get2dContext(i),r=new Array(256),a=0;a<r.length;a++)r[a]=s(a,t);return n=function(e,t){for(var n=e.data,i=0;i<n.length;i+=4)n[i]=t[n[i]],n[i+1]=t[n[i+1]],n[i+2]=t[n[i+2]];return e}(o.getImageData(0,0,i.width,i.height),r),o.putImageData(n,0,0),c.fromCanvas(i,e.getType())}}function t(n){return function(e,t){return r(e,n(o.identity(),t))}}function i(t){return function(e){return n(e,t)}}return{invert:(a=[-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0],function(e){return r(e,a)}),brightness:t(o.adjustBrightness),hue:t(o.adjustHue),saturate:t(o.adjustSaturation),contrast:t(o.adjustContrast),grayscale:t(o.adjustGrayscale),sepia:t(o.adjustSepia),colorize:function(e,t,n,i){return r(e,o.adjustColors(o.identity(),t,n,i))},sharpen:i([0,-1,0,-1,5,-1,0,-1,0]),emboss:i([-2,-1,0,-1,1,1,0,1,2]),gamma:e(function(e,t){return 255*Math.pow(e/255,1-t)}),exposure:e(function(e,t){return 255*(1-Math.exp(-e/255*t))}),colorFilter:r,convoluteFilter:n};var a}),i("t",["o","c","p","r"],function(u,e,d,h){return{scale:function t(e,n,i){var o=h.getWidth(e),r=h.getHeight(e),a=n/o,o=i/r,r=!1;(a<.5||2<a)&&(a=a<.5?.5:2,r=!0),(o<.5||2<o)&&(o=o<.5?.5:2,r=!0);var s,l,c,o=(s=e,l=a,c=o,new u(function(e){var t=h.getWidth(s),n=h.getHeight(s),i=Math.floor(t*l),o=Math.floor(n*c),r=d.create(i,o);d.get2dContext(r).drawImage(s,0,0,t,n,0,0,i,o),e(r)}));return r?o.then(function(e){return t(e,n,i)}):o}}}),i("f",["p","d","t"],function(s,l,i){return{rotate:function(e,t){var n=e.toCanvas(),i=s.create(n.width,n.height),o=s.get2dContext(i),r=0,a=0;return 90!=(t=t<0?360+t:t)&&270!=t||s.resize(i,i.height,i.width),90!=t&&180!=t||(r=i.width),270!=t&&180!=t||(a=i.height),o.translate(r,a),o.rotate(t*Math.PI/180),o.drawImage(n,0,0),l.fromCanvas(i,e.getType())},flip:function(e,t){var n=e.toCanvas(),i=s.create(n.width,n.height),o=s.get2dContext(i);return"v"==t?(o.scale(1,-1),o.drawImage(n,0,-i.height)):(o.scale(-1,1),o.drawImage(n,-i.width,0)),l.fromCanvas(i,e.getType())},crop:function(e,t,n,i,o){var r=e.toCanvas(),o=s.create(i,o);return s.get2dContext(o).drawImage(r,-t,-n),l.fromCanvas(o,e.getType())},resize:function(t,e,n){return i.scale(t.toCanvas(),e,n).then(function(e){return l.fromCanvas(e,t.getType())})}}}),i("2",["e","f"],function(o,r){return{invert:function(e){return o.invert(e)},sharpen:function(e){return o.sharpen(e)},emboss:function(e){return o.emboss(e)},brightness:function(e,t){return o.brightness(e,t)},hue:function(e,t){return o.hue(e,t)},saturate:function(e,t){return o.saturate(e,t)},contrast:function(e,t){return o.contrast(e,t)},grayscale:function(e,t){return o.grayscale(e,t)},sepia:function(e,t){return o.sepia(e,t)},colorize:function(e,t,n,i){return o.colorize(e,t,n,i)},gamma:function(e,t){return o.gamma(e,t)},exposure:function(e,t){return o.exposure(e,t)},flip:function(e,t){return r.flip(e,t)},crop:function(e,t,n,i,o){return r.crop(e,t,n,i,o)},resize:function(e,t,n){return r.resize(e,t,n)},rotate:function(e,t){return r.rotate(e,t)}}}),t="g",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("3",["g"],function(e){return e("tinymce.Env")}),i("4",["g"],function(e){return e("tinymce.PluginManager")}),i("5",["g"],function(e){return e("tinymce.util.Delay")}),i("6",["g"],function(e){return e("tinymce.util.Promise")}),i("7",["g"],function(e){return e("tinymce.util.Tools")}),i("8",["g"],function(e){return e("tinymce.util.URI")}),i("9",[],function(){return{getImageSize:function(e){function t(e){return/^[0-9\.]+px$/.test(e)}var n=e.style.width,i=e.style.height;return n||i?t(n)&&t(i)?{w:parseInt(n,10),h:parseInt(i,10)}:null:(n=e.width,i=e.height,n&&i?{w:parseInt(n,10),h:parseInt(i,10)}:null)},setImageSize:function(e,t){var n,i;t&&(n=e.style.width,i=e.style.height,(n||i)&&(e.style.width=t.w+"px",e.style.height=t.h+"px",e.removeAttribute("data-mce-style")),n=e.width,i=e.height,(n||i)&&(e.setAttribute("width",t.w),e.setAttribute("height",t.h)))},getNaturalImageSize:function(e){return{w:e.naturalWidth,h:e.naturalHeight}}}}),i("h",["6","7"],function(e,o){function n(e){return null!=e}return{traverse:function(e,t){e=t.reduce(function(e,t){return n(e)?e[t]:void 0},e);return n(e)?e:null},readBlob:function(n){return new e(function(t){var e=new FileReader;e.onload=function(e){e=e.target;t(e.result)},e.readAsText(n)})},requestUrlAsBlob:function(t,i){return new e(function(e){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&e({status:n.status,blob:this.response})},n.open("GET",t,!0),o.each(i,function(e,t){n.setRequestHeader(t,e)}),n.responseType="blob",n.send()})},parseJson:function(e){var t;try{t=JSON.parse(e)}catch(e){}return t}}}),i("a",["6","7","h"],function(o,e,r){function a(e){return o.reject("ImageProxy HTTP error: "+e)}function s(e,t){return r.readBlob(t).then(function(e){e=r.parseJson(e),e=r.traverse(e,["error","type"]);return e=e||"Invalid JSON",void o.reject("ImageProxy Service error: "+e)})}function n(e,t){return r.requestUrlAsBlob((i=t,e=-1===(n=e).indexOf("?")?"?":"&",/[?&]apiKey=/.test(n)||!i?n:n+e+"apiKey="+encodeURIComponent(i)),{"Content-Type":"application/json;charset=UTF-8","tiny-api-key":t}).then(function(e){return 400<=e.status?(t=e.status,n=e.blob,400===(i=t)||403===i||500===i?s(0,n):a(t)):o.resolve(e.blob);var t,n,i});var n,i}return{getUrl:function(e,t){return t?n(e,t):(e=e,r.requestUrlAsBlob(e,{}).then(function(e){return 400<=e.status?a(e.status):o.resolve(e.blob)}))}}}),i("i",["g"],function(e){return e("tinymce.dom.DOMUtils")}),i("j",["g"],function(e){return e("tinymce.ui.Container")}),i("k",["g"],function(e){return e("tinymce.ui.Factory")}),i("l",["g"],function(e){return e("tinymce.ui.Form")}),i("u",["g"],function(e){return e("tinymce.geom.Rect")}),i("v",["g"],function(e){return e("tinymce.ui.Control")}),i("w",["g"],function(e){return e("tinymce.ui.DragHelper")}),i("y",["g"],function(e){return e("tinymce.dom.DomQuery")}),i("z",["g"],function(e){return e("tinymce.util.Observable")}),i("10",["g"],function(e){return e("tinymce.util.VK")}),i("x",["y","w","u","7","z","10"],function(g,v,y,b,x,w){var k=0;return function(s,n,l,i,o){function c(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}}function a(e,t,n,i){var o=t.x,r=t.y,a=t.w,t=t.h;o+=n*e.deltaX,r+=i*e.deltaY,(a+=n*e.deltaW)<20&&(a=20),(t+=i*e.deltaH)<20&&(t=20),e=s=y.clamp({x:o,y:r,w:a,h:t},l,"move"==e.name),e=c(l,e),d.fire("updateRect",{rect:e}),u(e)}function t(t){function e(e,t){t.h<0&&(t.h=0),t.w<0&&(t.w=0),g("#"+f+"-"+e,i).css({left:t.x,top:t.y,width:t.w,height:t.h})}b.each(p,function(e){g("#"+f+"-"+e.name,i).css({left:t.w*e.xMul+t.x,top:t.h*e.yMul+t.y})}),e("top",{x:n.x,y:n.y,w:n.w,h:t.y-n.y}),e("right",{x:t.x+t.w,y:t.y,w:n.w-t.x-t.w+n.x,h:t.h}),e("bottom",{x:n.x,y:t.y+t.h,w:n.w,h:n.h-t.y-t.h+n.y}),e("left",{x:n.x,y:t.y,w:t.x-n.x,h:t.h}),e("move",t)}function r(e){t(s=e)}function u(e){var t;r((t=l,{x:(e=e).x+t.x,y:e.y+t.y,w:e.w,h:e.h}))}var d,e,h="mce-",f="mce-crid-"+k++,p=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],m=["top","right","bottom","left"];return g('<div id="'+f+'" class="'+h+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(i),b.each(m,function(e){g("#"+f,i).append('<div id="'+f+"-"+e+'"class="'+h+'croprect-block" style="display: none" data-mce-bogus="all">')}),b.each(p,function(e){g("#"+f,i).append('<div id="'+f+"-"+e.name+'" class="'+h+"croprect-handle "+h+"croprect-handle-"+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false">')}),e=b.map(p,function(t){var n;return new v(f,{document:i.ownerDocument,handle:f+"-"+t.name,start:function(){n=s},drag:function(e){a(t,n,e.deltaX,e.deltaY)}})}),t(s),g(i).on("focusin focusout",function(e){g(e.target).attr("aria-grabbed","focus"===e.type)}),g(i).on("keydown",function(t){function e(e,t,n,i,o){e.stopPropagation(),e.preventDefault(),a(r,n,i,o)}var r;switch(b.each(p,function(e){if(t.target.id==f+"-"+e.name)return r=e,!1}),t.keyCode){case w.LEFT:e(t,0,s,-10,0);break;case w.RIGHT:e(t,0,s,10,0);break;case w.UP:e(t,0,s,0,-10);break;case w.DOWN:e(t,0,s,0,10);break;case w.ENTER:case w.SPACEBAR:t.preventDefault(),o()}}),d=b.extend({toggleVisibility:function(e){var t=b.map(p,function(e){return"#"+f+"-"+e.name}).concat(b.map(m,function(e){return"#"+f+"-"+e})).join(",");e?g(t,i).show():g(t,i).hide()},setClampRect:function(e){l=e,t(s)},setRect:r,getInnerRect:function(){return c(l,s)},setInnerRect:u,setViewPortRect:function(e){n=e,t(s)},destroy:function(){b.each(e,function(e){e.destroy()}),e=[]}},x)}}),i("m",["u","v","w","6","7","x"],function(r,e,t,a,n,i){return e.extend({Defaults:{classes:"imagepanel"},selection:function(e){return arguments.length?(this.state.set("rect",e),this):this.state.get("rect")},imageSize:function(){var e=this.state.get("viewRect");return{w:e.w,h:e.h}},toggleCropRect:function(e){this.state.set("cropEnabled",e)},imageSrc:function(e){var n,i=this,o=new Image;o.src=e,n=o,new a(function(t){n.complete?t(n):n.addEventListener("load",function e(){n.removeEventListener("load",e),t(n)})}).then(function(){var e,t,n=i.state.get("viewRect");(e=i.$el.find("img"))[0]?e.replaceWith(o):((t=document.createElement("div")).className="mce-imagepanel-bg",i.getEl().appendChild(t),i.getEl().appendChild(o)),t={x:0,y:0,w:o.naturalWidth,h:o.naturalHeight},i.state.set("viewRect",t),i.state.set("rect",r.inflate(t,-20,-20)),n&&n.w==t.w&&n.h==t.h||i.zoomFit(),i.repaintImage(),i.fire("load")})},zoom:function(e){return arguments.length?(this.state.set("zoom",e),this):this.state.get("zoom")},postRender:function(){return this.imageSrc(this.settings.imageSrc),this._super()},zoomFit:function(){var e=this.$el.find("img"),t=this.getEl().clientWidth,n=this.getEl().clientHeight,i=e[0].naturalWidth,e=e[0].naturalHeight,e=Math.min((t-10)/i,(n-10)/e);1<=e&&(e=1),this.zoom(e)},repaintImage:function(){var e=this.getEl(),t=this.zoom(),n=this.state.get("rect"),i=this.$el.find("img"),o=this.$el.find(".mce-imagepanel-bg"),r=e.offsetWidth,a=e.offsetHeight,s=i[0].naturalWidth*t,l=i[0].naturalHeight*t,c=Math.max(0,r/2-s/2),e=Math.max(0,a/2-l/2);i.css({left:c,top:e,width:s,height:l}),o.css({left:c,top:e,width:s,height:l}),this.cropRect&&(this.cropRect.setRect({x:n.x*t+c,y:n.y*t+e,w:n.w*t,h:n.h*t}),this.cropRect.setClampRect({x:c,y:e,w:s,h:l}),this.cropRect.setViewPortRect({x:0,y:0,w:r,h:a}))},bindStates:function(){var n=this;n.state.on("change:cropEnabled",function(e){n.cropRect.toggleVisibility(e.value),n.repaintImage()}),n.state.on("change:zoom",function(){n.repaintImage()}),n.state.on("change:rect",function(e){var t=e.value;n.cropRect||(e=t,n.cropRect=new i(e,n.state.get("viewRect"),n.state.get("viewRect"),n.getEl(),function(){n.fire("crop")}),n.cropRect.on("updateRect",function(e){var t=e.rect,e=n.zoom(),t={x:Math.round(t.x/e),y:Math.round(t.y/e),w:Math.round(t.w/e),h:Math.round(t.h/e)};n.state.set("rect",t)}),n.on("remove",n.cropRect.destroy)),n.cropRect.setRect(t)})}})}),i("n",[],function(){return function(){function e(){return 0<i}function t(){return-1!=i&&i<n.length-1}var n=[],i=-1;return{data:n,add:function(e){var t=n.splice(++i);return n.push(e),{state:e,removed:t}},undo:function(){if(0<i)return n[--i]},redo:function(){if(t())return n[++i]},canUndo:e,canRedo:t}}}),i("b",["1","2","i","j","k","l","6","7","m","n"],function(G,Q,X,K,Z,J,t,ee,te,ne){function ie(e){return{blob:e,url:URL.createObjectURL(e)}}function oe(e){e&&URL.revokeObjectURL(e.url)}function re(e){ee.each(e,oe)}function i(r,e,t){function n(e){var t=b.find("#w")[0],n=b.find("#h")[0],i=parseInt(t.value(),10),o=parseInt(n.value(),10);b.find("#constrain")[0].checked()&&F&&W&&i&&o&&("w"==e.control.settings.name?(o=Math.round(i*$),n.value(o)):(i=Math.round(o*U),t.value(i))),F=i,W=o}function a(e){return Math.round(100*e)+"%"}function i(){b.find("#undo").disabled(!q.canUndo()),b.find("#redo").disabled(!q.canRedo()),b.statusbar.find("#save").disabled(!q.canUndo())}function s(){b.find("#undo").disabled(!0),b.find("#redo").disabled(!0)}function l(e){e&&S.imageSrc(e.url)}function o(t){return function(){var e=ee.grep(j,function(e){return e.settings.name!=t});ee.each(e,function(e){e.hide()}),t.show(),t.focus()}}function c(e){l(k=ie(e))}function u(e){l(r=ie(e)),re(q.add(r).removed),i()}function d(){var t=S.selection();G.blobToImageResult(r.blob).then(function(e){Q.crop(e,t.x,t.y,t.w,t.h).then(y).then(function(e){u(e),f()})})}function h(t){var n=[].slice.call(arguments,1);return function(){var e=k||r;G.blobToImageResult(e.blob).then(function(e){t.apply(this,[e].concat(n)).then(y).then(c)})}}function f(){l(r),oe(k),o(x)(),i()}function p(){k&&(u(k.blob),f())}function m(e){return new J({layout:"flex",direction:"row",labelGap:5,border:"0 0 1 0",align:"center",pack:"center",padding:"0 10 0 10",spacing:5,flex:0,minHeight:60,defaults:{classes:"imagetool",type:"button"},items:e})}function g(e,t){return m([{text:"Back",onclick:f},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:p}]).hide().on("show",function(){s(),G.blobToImageResult(r.blob).then(function(e){return t(e)}).then(y).then(function(e){e=ie(e);l(e),oe(k),k=e})})}function v(e,n,t,i,o){return m([{text:"Back",onclick:f},{type:"spacer",flex:1},{type:"slider",flex:1,ondragend:function(e){var t;t=e.value,G.blobToImageResult(r.blob).then(function(e){return n(e,t)}).then(y).then(function(e){e=ie(e);l(e),oe(k),k=e})},minValue:i,maxValue:o,value:t,previewFilter:a},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:p}]).hide().on("show",function(){this.find("slider").value(t),s()})}function y(e){return e.toBlob()}var b,x,w,k,C,_,T,S,D,A,M,E,N,P,I,R,O,L,B,H,z,j,F,W,$,U,Y,q=new ne;function V(){var t=b.find("#r")[0].value(),n=b.find("#g")[0].value(),i=b.find("#b")[0].value();G.blobToImageResult(r.blob).then(function(e){return Y(e,t,n,i)}).then(y).then(function(e){e=ie(e);l(e),oe(k),k=e})}C=m([{text:"Back",onclick:f},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:d}]).hide().on("show hide",function(e){S.toggleCropRect("show"==e.type)}).on("show",s),_=m([{text:"Back",onclick:f},{type:"spacer",flex:1},{type:"textbox",name:"w",label:"Width",size:4,onkeyup:n},{type:"textbox",name:"h",label:"Height",size:4,onkeyup:n},{type:"checkbox",name:"constrain",text:"Constrain proportions",checked:!0,onchange:function(e){!0===e.control.value()&&($=W/F,U=F/W)}},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:"submit"}]).hide().on("submit",function(e){var t=parseInt(b.find("#w").value(),10),n=parseInt(b.find("#h").value(),10);e.preventDefault(),function(t){var n=[].slice.call(arguments,1);return function(){G.blobToImageResult(r.blob).then(function(e){t.apply(this,[e].concat(n)).then(y).then(u)})}}(Q.resize,t,n)(),f()}).on("show",s),T=m([{text:"Back",onclick:f},{type:"spacer",flex:1},{icon:"fliph",tooltip:"Flip horizontally",onclick:h(Q.flip,"h")},{icon:"flipv",tooltip:"Flip vertically",onclick:h(Q.flip,"v")},{icon:"rotateleft",tooltip:"Rotate counterclockwise",onclick:h(Q.rotate,-90)},{icon:"rotateright",tooltip:"Rotate clockwise",onclick:h(Q.rotate,90)},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:p}]).hide().on("show",s),A=g(0,Q.invert),L=g(0,Q.sharpen),B=g(0,Q.emboss),M=v(0,Q.brightness,0,-1,1),E=v(0,Q.hue,180,0,360),N=v(0,Q.saturate,0,-1,1),P=v(0,Q.contrast,0,-1,1),I=v(0,Q.grayscale,0,0,1),R=v(0,Q.sepia,0,0,1),Y=Q.colorize,O=m([{text:"Back",onclick:f},{type:"spacer",flex:1},{type:"slider",label:"R",name:"r",minValue:0,value:1,maxValue:2,ondragend:V,previewFilter:a},{type:"slider",label:"G",name:"g",minValue:0,value:1,maxValue:2,ondragend:V,previewFilter:a},{type:"slider",label:"B",name:"b",minValue:0,value:1,maxValue:2,ondragend:V,previewFilter:a},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:p}]).hide().on("show",function(){b.find("#r,#g,#b").value(1),s()}),H=v(0,Q.gamma,0,-1,1),w=m([{text:"Back",onclick:f},{type:"spacer",flex:1},{text:"hue",icon:"hue",onclick:o(E)},{text:"saturate",icon:"saturate",onclick:o(N)},{text:"sepia",icon:"sepia",onclick:o(R)},{text:"emboss",icon:"emboss",onclick:o(B)},{text:"exposure",icon:"exposure",onclick:o(z=v(0,Q.exposure,1,0,2))},{type:"spacer",flex:1}]).hide(),x=m([{tooltip:"Crop",icon:"crop",onclick:o(C)},{tooltip:"Resize",icon:"resize2",onclick:o(_)},{tooltip:"Orientation",icon:"orientation",onclick:o(T)},{tooltip:"Brightness",icon:"sun",onclick:o(M)},{tooltip:"Sharpen",icon:"sharpen",onclick:o(L)},{tooltip:"Contrast",icon:"contrast",onclick:o(P)},{tooltip:"Color levels",icon:"drop",onclick:o(O)},{tooltip:"Gamma",icon:"gamma",onclick:o(H)},{tooltip:"Invert",icon:"invert",onclick:o(A)}]),S=new te({flex:1,imageSrc:r.url}),D=new K({layout:"flex",direction:"column",border:"0 1 0 0",padding:5,spacing:5,items:[{type:"button",icon:"undo",tooltip:"Undo",name:"undo",onclick:function(){l(r=q.undo()),i()}},{type:"button",icon:"redo",tooltip:"Redo",name:"redo",onclick:function(){l(r=q.redo()),i()}},{type:"button",icon:"zoomin",tooltip:"Zoom in",onclick:function(){var e=S.zoom();e<2&&(e+=.1),S.zoom(e)}},{type:"button",icon:"zoomout",tooltip:"Zoom out",onclick:function(){var e=S.zoom();.1<e&&(e-=.1),S.zoom(e)}}]}),D=new K({type:"container",layout:"flex",direction:"row",align:"stretch",flex:1,items:[D,S]}),j=[x,C,_,T,w,A,M,E,N,P,I,R,O,L,B,H,z],(b=Z.create("window",{layout:"flex",direction:"column",align:"stretch",minWidth:Math.min(X.DOM.getViewPort().w,800),minHeight:Math.min(X.DOM.getViewPort().h,650),title:"Edit image",items:j.concat([D]),buttons:[{text:"Save",name:"save",subtype:"primary",onclick:function(){e(r.blob),b.close()}},{text:"Cancel",onclick:"close"}]})).renderTo(document.body).reflow(),b.on("close",function(){t(),re(q.data),k=q=null}),q.add(r),i(),S.on("load",function(){F=S.imageSize().w,W=S.imageSize().h,$=W/F,U=F/W,b.find("#w").value(F),b.find("#h").value(W)}),S.on("crop",d)}return{edit:function(e){return new t(function(t,n){return e.toBlob().then(function(e){i(ie(e),t,n)})})}}}),i("0",["1","2","3","4","5","6","7","8","9","a","b"],function(v,y,b,e,x,w,k,C,_,T,S){return e.add("imagetools",function(l){function n(e){l.notificationManager.open({text:e,type:"error"})}function c(){return l.selection.getNode()}function i(e){e=e.src;return 0===e.indexOf("data:")||0===e.indexOf("blob:")||new C(e).host===l.documentBaseURI.host}function o(e){return-1!==k.inArray(l.settings.imagetools_cors_hosts,new C(e.src).host)}function t(e){var t=e.src;return o(e)?T.getUrl(e.src,null):i(e)?v.imageToBlob(e):(t=l.settings.imagetools_proxy,t+=(-1===t.indexOf("?")?"?":"&")+"url="+encodeURIComponent(e.src),e=l.settings.api_key||l.settings.imagetools_api_key,T.getUrl(t,e))}function a(){var e=l.editorUpload.blobCache.getByUri(c().src);return e?e.blob():t(c())}function u(){clearTimeout(f)}function s(a,s){return a.toBlob().then(function(e){var t,n,i=l.editorUpload.blobCache,o=c(),r=o.src;return l.settings.images_reuse_filename&&(n=(t=i.getByUri(r))?(r=t.uri(),t.name()):(n=(n=r).match(/\/([^\/\?]+)?\.(?:jpeg|jpg|png|gif)(?:\?|$)/i))?l.dom.encode(n[1]):null),t=i.create({id:"imagetools"+g++,blob:e,base64:a.toBase64(),uri:r,name:n}),i.add(t),l.undoManager.transact(function(){l.$(o).on("load",function e(){l.$(o).off("load",e),l.nodeChanged(),s?l.editorUpload.uploadImagesAuto():(u(),f=x.setEditorTimeout(l,function(){l.editorUpload.uploadImagesAuto()},l.settings.images_upload_timeout||3e4))}),l.$(o).attr({src:t.blobUri()}).removeAttr("data-mce-src")}),t})}function e(e){return function(){return l._scanForImages().then(a).then(v.blobToImageResult).then(e).then(s,n)}}function r(n){return function(){return e(function(e){var t=_.getImageSize(c());return t&&_.setImageSize(c(),{w:t.h,h:t.w}),y.rotate(e,n)})()}}function d(t){return function(){return e(function(e){return y.flip(e,t)})()}}function h(e){return l.dom.is(e,"img:not([data-mce-object],[data-mce-placeholder])")&&(i(e)||o(e)||l.settings.imagetools_proxy)}var f,p,m,g=0;b.fileApi&&(k.each({mceImageRotateLeft:r(-90),mceImageRotateRight:r(90),mceImageFlipVertical:d("v"),mceImageFlipHorizontal:d("h"),mceEditImage:function(){function t(i){return new w(function(n){v.blobToImage(i).then(function(e){var t=_.getNaturalImageSize(e);r.w==t.w&&r.h==t.h||_.getImageSize(o)&&_.setImageSize(o,t),URL.revokeObjectURL(e.src),n(i)})})}var o=c(),r=_.getNaturalImageSize(o);a().then(v.blobToImageResult).then(function(e){return S.edit(e).then(t).then(v.blobToImageResult).then(function(e){return s(e,!0)},function(){})},n)}},function(e,t){l.addCommand(t,e)}),l.addButton("rotateleft",{title:"Rotate counterclockwise",cmd:"mceImageRotateLeft"}),l.addButton("rotateright",{title:"Rotate clockwise",cmd:"mceImageRotateRight"}),l.addButton("flipv",{title:"Flip vertically",cmd:"mceImageFlipVertical"}),l.addButton("fliph",{title:"Flip horizontally",cmd:"mceImageFlipHorizontal"}),l.addButton("editimage",{title:"Edit image",cmd:"mceEditImage"}),l.addButton("imageoptions",{title:"Image options",icon:"options",cmd:"mceImage"}),m=(m=l.settings.imagetools_toolbar)||"rotateleft rotateright | flipv fliph | crop editimage imageoptions",l.addContextToolbar(h,m),l.on("NodeChange",function(e){p&&p.src!=e.element.src&&(u(),l.editorUpload.uploadImagesAuto(),p=void 0),h(e.element)&&(p=e.element)}))}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="6",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["6"],function(e){return e("tinymce.Env")}),i("2",["6"],function(e){return e("tinymce.PluginManager")}),i("3",["6"],function(e){return e("tinymce.util.JSON")}),i("4",["6"],function(e){return e("tinymce.util.Tools")}),i("5",["6"],function(e){return e("tinymce.util.XHR")}),i("0",["1","2","3","4","5"],function(y,e,n,b,i){return e.add("image",function(g){function v(e,o,t){return function n(e,i){return i=i||[],b.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=n(e.menu):(t.value=e.value,o(t)),i.push(t)}),i}(e,t||[])}function e(t){return function(){var e=g.settings.image_list;"string"==typeof e?i.send({url:e,success:function(e){t(n.parse(e))}}):"function"==typeof e?e(t):t(e)}}function t(e){function t(){var e,t,n=a.find("#width")[0],i=a.find("#height")[0];n&&i&&(e=n.value(),t=i.value(),a.find("#constrain")[0].checked()&&s&&l&&e&&t&&(s!=e?(t=Math.round(e/s*t),isNaN(t)||i.value(t)):(e=Math.round(t/l*e),isNaN(e)||n.value(e))),s=e,l=t)}function n(){var i,o;r(),t(),(d=b.extend(d,a.toJSON())).alt||(d.alt=""),d.title||(d.title=""),""===d.width&&(d.width=null),""===d.height&&(d.height=null),d.style||(d.style=null),d={src:d.src,alt:d.alt,title:d.title,width:d.width,height:d.height,style:d.style,caption:d.caption,class:d.class},g.undoManager.transact(function(){var e,t;function n(){t.onload=t.onerror=null,g.selection&&(g.selection.select(t),g.nodeChanged())}d.src?(""===d.title&&(d.title=null),p?h.setAttribs(p,d):(d.id="__mcenew",g.focus(),g.selection.setContent(h.createHTML("img",d)),p=h.get("__mcenew"),h.setAttrib(p,"id",null)),g.editorUpload.uploadImagesAuto(),!1===d.caption&&h.is(p.parentNode,"figure.image")&&(i=p.parentNode,h.insertAfter(p,i),h.remove(i)),!0!==d.caption?((t=p).onload=function(){d.width||d.height||!f||h.setAttribs(t,{width:t.clientWidth,height:t.clientHeight}),n()},t.onerror=n):h.is(p.parentNode,"figure.image")||(p=(o=p).cloneNode(!0),(i=h.create("figure",{class:"image"})).appendChild(p),i.appendChild(h.create("figcaption",{contentEditable:!0},"Caption")),i.contentEditable=!1,(e=h.getParent(o,function(e){return g.schema.getTextBlockElements()[e.nodeName]}))?h.split(e,o,i):h.replace(i,o),g.selection.select(i))):p&&(h.remove(p),g.focus(),g.nodeChanged())})}function i(e){return e=e&&e.replace(/px$/,"")}function o(e){if(e.margin){var t=e.margin.split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e}function r(){function e(e){return 0<e.length&&/^[0-9]+$/.test(e)&&(e+="px"),e}var t,n;g.settings.image_advtab&&(t=a.toJSON(),n=o(n=h.parseStyle(t.style)),t.vspace&&(n["margin-top"]=n["margin-bottom"]=e(t.vspace)),t.hspace&&(n["margin-left"]=n["margin-right"]=e(t.hspace)),t.border&&(n["border-width"]=e(t.border)),a.find("#style").value(h.serializeStyle(h.parseStyle(h.serializeStyle(n)))))}var a,s,l,c,u,d={},h=g.dom,f=!1!==g.settings.image_dimensions,p=g.selection.getNode(),m=h.getParent(p,"figure.image");m&&(p=h.select("img",m)[0]),p&&("IMG"!=p.nodeName||p.getAttribute("data-mce-object")||p.getAttribute("data-mce-placeholder"))&&(p=null),p&&(s=h.getAttrib(p,"width"),l=h.getAttrib(p,"height"),d={src:h.getAttrib(p,"src"),alt:h.getAttrib(p,"alt"),title:h.getAttrib(p,"title"),class:h.getAttrib(p,"class"),width:s,height:l,caption:!!m}),e&&(c={type:"listbox",label:"Image list",values:v(e,function(e){e.value=g.convertURL(e.value||e.url,"src")},[{text:"None",value:""}]),value:d.src&&g.convertURL(d.src,"src"),onselect:function(e){var t=a.find("#alt");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text()),a.find("#src").value(e.control.value()).fire("change")},onPostRender:function(){c=this}}),g.settings.image_class_list&&(u={name:"class",type:"listbox",label:"Class",values:v(g.settings.image_class_list,function(e){e.value&&(e.textStyle=function(){return g.formatter.getCssText({inline:"img",classes:[e.value]})})})});e=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:function(e){var t,n=e.meta||{};c&&c.value(g.convertURL(this.value(),"src")),b.each(n,function(e,t){a.find("#"+t).value(e)}),n.width||n.height||(t=g.convertURL(this.value(),"src"),e=g.settings.image_prepend_url,n=new RegExp("^(?:[a-z]+:)?//","i"),e&&!n.test(t)&&t.substring(0,e.length)!==e&&(t=e+t),this.value(t),function(e,n){function t(e,t){i.parentNode&&i.parentNode.removeChild(i),n({width:e,height:t})}var i=document.createElement("img");i.onload=function(){t(Math.max(i.width,i.clientWidth),Math.max(i.height,i.clientHeight))},i.onerror=function(){t()};var o=i.style;o.visibility="hidden",o.position="fixed",o.bottom=o.left=0,o.width=o.height="auto",document.body.appendChild(i),i.src=e}(g.documentBaseURI.toAbsolute(this.value()),function(e){e.width&&e.height&&f&&(s=e.width,l=e.height,a.find("#width").value(s),a.find("#height").value(l))}))},onbeforecall:function(e){e.meta=a.toJSON()}},c];!1!==g.settings.image_description&&e.push({name:"alt",type:"textbox",label:"Image description"}),g.settings.image_title&&e.push({name:"title",type:"textbox",label:"Image Title"}),f&&e.push({type:"container",label:"Dimensions",layout:"flex",direction:"row",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:3,onchange:t,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:3,onchange:t,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}),e.push(u),g.settings.image_caption&&y.ceFalse&&e.push({name:"caption",type:"checkbox",label:"Caption"}),a=g.settings.image_advtab?(p&&(p.style.marginLeft&&p.style.marginRight&&p.style.marginLeft===p.style.marginRight&&(d.hspace=i(p.style.marginLeft)),p.style.marginTop&&p.style.marginBottom&&p.style.marginTop===p.style.marginBottom&&(d.vspace=i(p.style.marginTop)),p.style.borderWidth&&(d.border=i(p.style.borderWidth)),d.style=g.dom.serializeStyle(g.dom.parseStyle(g.dom.getAttrib(p,"style")))),g.windowManager.open({title:"Insert/edit image",data:d,bodyType:"tabpanel",body:[{title:"General",type:"form",items:e},{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:function(){var e;g.settings.image_advtab&&(e=a.toJSON(),e=h.parseStyle(e.style),a.find("#vspace").value(""),a.find("#hspace").value(""),((e=o(e))["margin-top"]&&e["margin-bottom"]||e["margin-right"]&&e["margin-left"])&&(e["margin-top"]===e["margin-bottom"]?a.find("#vspace").value(i(e["margin-top"])):a.find("#vspace").value(""),e["margin-right"]===e["margin-left"]?a.find("#hspace").value(i(e["margin-right"])):a.find("#hspace").value("")),e["border-width"]&&a.find("#border").value(i(e["border-width"])),a.find("#style").value(h.serializeStyle(h.parseStyle(h.serializeStyle(e)))))}},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,alignH:["left","right"],defaults:{type:"textbox",maxWidth:50,onchange:r},items:[{label:"Vertical space",name:"vspace"},{label:"Horizontal space",name:"hspace"},{label:"Border",name:"border"}]}]}],onSubmit:n})):g.windowManager.open({title:"Insert/edit image",data:d,body:e,onSubmit:n})}g.on("preInit",function(){function e(r){return function(e){function t(e){e.attr("contenteditable",r?"true":null)}for(var n,i,o=e.length;o--;)n=e[o],(i=(i=n).attr("class"))&&/\bimage\b/.test(i)&&(n.attr("contenteditable",r?"false":null),b.each(n.getAll("figcaption"),t))}}g.parser.addNodeFilter("figure",e(!0)),g.serializer.addNodeFilter("figure",e(!1))}),g.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:e(t),stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),g.addMenuItem("image",{icon:"image",text:"Image",onclick:e(t),context:"insert",prependToContext:!0}),g.addCommand("mceImage",e(t))}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="2",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["2"],function(e){return e("tinymce.PluginManager")}),i("0",["1"],function(e){return e.add("hr",function(e){e.addCommand("InsertHorizontalRule",function(){e.execCommand("mceInsertContent",!1,"<hr />")}),e.addButton("hr",{icon:"hr",tooltip:"Horizontal line",cmd:"InsertHorizontalRule"}),e.addMenuItem("hr",{icon:"hr",text:"Horizontal line",cmd:"InsertHorizontalRule",context:"insert"})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="3",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["3"],function(e){return e("tinymce.dom.DOMUtils")}),i("2",["3"],function(e){return e("tinymce.PluginManager")}),i("0",["1","2"],function(e,t){var g=e.DOM;return t.add("fullscreen",function(l){function e(){function e(){var e,t,n,i;g.setStyle(r,"height",(n=window,(i=document.body).offsetWidth&&(e=i.offsetWidth,t=i.offsetHeight),n.innerWidth&&n.innerHeight&&(e=n.innerWidth,t=n.innerHeight),{w:e,h:t}.h-(o.clientHeight-r.clientHeight)))}var t,o,r,n,i,a=document.body,s=document.documentElement;m=!m,t=(o=l.getContainer()).style,n=(r=l.getContentAreaContainer().firstChild).style,m?(i=g.getViewPort(),p={x:i.x,y:i.y},c=n.width,u=n.height,n.width=n.height="100%",h=t.width,f=t.height,t.width=t.height="",g.addClass(a,"mce-fullscreen"),g.addClass(s,"mce-fullscreen"),g.addClass(o,"mce-fullscreen"),g.bind(window,"resize",e),e(),d=e):(n.width=c,n.height=u,h&&(t.width=h),f&&(t.height=f),g.removeClass(a,"mce-fullscreen"),g.removeClass(s,"mce-fullscreen"),g.removeClass(o,"mce-fullscreen"),g.unbind(window,"resize",d),s=p,window.scrollTo(s.x,s.y)),l.fire("FullscreenStateChanged",{state:m})}var c,u,d,h,f,p,m=!1;if(!l.settings.inline)return l.on("init",function(){l.addShortcut("Ctrl+Shift+F","",e)}),l.on("remove",function(){d&&g.unbind(window,"resize",d)}),l.addCommand("mceFullScreen",e),l.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,onClick:function(){e(),l.focus()},onPostRender:function(){var t=this;l.on("FullscreenStateChanged",function(e){t.active(e.state)})},context:"view"}),l.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Ctrl+Shift+F",onClick:e,onPostRender:function(){var t=this;l.on("FullscreenStateChanged",function(e){t.active(e.state)})}}),{isFullscreen:function(){return m}}}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="7",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["7"],function(e){return e("tinymce.html.DomParser")}),i("2",["7"],function(e){return e("tinymce.html.Node")}),i("3",["7"],function(e){return e("tinymce.html.Serializer")}),i("4",["7"],function(e){return e("tinymce.PluginManager")}),i("5",["7"],function(e){return e("tinymce.util.Tools")}),i("6",["5"],function(n){return{protectHtml:function(e,t){return n.each(e,function(e){t=t.replace(e,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})}),t},unprotectHtml:function(e){return e.replace(/<!--mce:protected ([\s\S]*?)-->/g,function(e,t){return unescape(t)})}}}),i("0",["1","2","3","4","5","6"],function(e,c,u,t,g,v){return t.add("fullpage",function(d){function h(){return new e({validate:!1,root_name:"#document"}).parse(f)}var f,p,m=g.each;d.addCommand("mceFullPageProperties",function(){var e,t,n,i,o=(n=h(),(i={}).fontface=d.getParam("fullpage_default_fontface",""),i.fontsize=d.getParam("fullpage_default_fontsize",""),7==(e=n.firstChild).type&&(i.xml_pi=!0,(t=/encoding="([^"]+)"/.exec(e.value))&&(i.docencoding=t[1])),(e=n.getAll("#doctype")[0])&&(i.doctype="<!DOCTYPE"+e.value+">"),(e=n.getAll("title")[0])&&e.firstChild&&(i.title=e.firstChild.value),m(n.getAll("meta"),function(e){var t=e.attr("name"),n=e.attr("http-equiv");t?i[t.toLowerCase()]=e.attr("content"):"Content-Type"!=n||(e=/charset\s*=\s*(.*)\s*/gi.exec(e.attr("content")))&&(i.docencoding=e[1])}),(e=n.getAll("html")[0])&&(i.langcode=r(e,"lang")||r(e,"xml:lang")),i.stylesheets=[],g.each(n.getAll("link"),function(e){"stylesheet"==e.attr("rel")&&i.stylesheets.push(e.attr("href"))}),(e=n.getAll("body")[0])&&(i.langdir=r(e,"dir"),i.style=r(e,"style"),i.visited_color=r(e,"vlink"),i.link_color=r(e,"link"),i.active_color=r(e,"alink")),i);function r(e,t){return e.attr(t)||""}d.windowManager.open({title:"Document properties",data:o,defaults:{type:"textbox",size:40},body:[{name:"title",label:"Title"},{name:"keywords",label:"Keywords"},{name:"description",label:"Description"},{name:"robots",label:"Robots"},{name:"author",label:"Author"},{name:"docencoding",label:"Encoding"}],onSubmit:function(e){!function(r){function e(e,t,n){e.attr(t,n||void 0)}function a(e){t.firstChild?t.insert(e,t.firstChild):t.append(e)}var s,t,l,n,i=d.dom;s=h(),(t=s.getAll("head")[0])||(l=s.getAll("html")[0],t=new c("head",1),l.firstChild?l.insert(t,l.firstChild,!0):l.append(t)),l=s.firstChild,r.xml_pi?(n='version="1.0"',r.docencoding&&(n+=' encoding="'+r.docencoding+'"'),7!=l.type&&(l=new c("xml",7),s.insert(l,s.firstChild,!0)),l.value=n):l&&7==l.type&&l.remove(),l=s.getAll("#doctype")[0],r.doctype?(l||(l=new c("#doctype",10),r.xml_pi?s.insert(l,s.firstChild):a(l)),l.value=r.doctype.substring(9,r.doctype.length-1)):l&&l.remove(),l=null,m(s.getAll("meta"),function(e){"Content-Type"==e.attr("http-equiv")&&(l=e)}),r.docencoding?(l||((l=new c("meta",1)).attr("http-equiv","Content-Type"),l.shortEnded=!0,a(l)),l.attr("content","text/html; charset="+r.docencoding)):l&&l.remove(),l=s.getAll("title")[0],r.title?(l?l.empty():a(l=new c("title",1)),l.append(new c("#text",3)).value=r.title):l&&l.remove(),m("keywords,description,author,copyright,robots".split(","),function(e){for(var t,n=s.getAll("meta"),i=r[e],o=0;o<n.length;o++)if((t=n[o]).attr("name")==e)return void(i?t.attr("content",i):t.remove());i&&((l=new c("meta",1)).attr("name",e),l.attr("content",i),l.shortEnded=!0,a(l))});var o={};g.each(s.getAll("link"),function(e){"stylesheet"==e.attr("rel")&&(o[e.attr("href")]=e)}),g.each(r.stylesheets,function(e){o[e]||((l=new c("link",1)).attr({rel:"stylesheet",text:"text/css",href:e}),l.shortEnded=!0,a(l)),delete o[e]}),g.each(o,function(e){e.remove()}),(l=s.getAll("body")[0])&&(e(l,"dir",r.langdir),e(l,"style",r.style),e(l,"vlink",r.visited_color),e(l,"link",r.link_color),e(l,"alink",r.active_color),i.setAttribs(d.getBody(),{style:r.style,dir:r.dir,vLink:r.visited_color,link:r.link_color,aLink:r.active_color})),(l=s.getAll("html")[0])&&(e(l,"lang",r.langcode),e(l,"xml:lang",r.langcode)),t.firstChild||t.remove(),i=new u({validate:!1,indent:!0,apply_source_formatting:!0,indent_before:"head,html,body,meta,title,script,link,style",indent_after:"head,html,body,meta,title,script,link,style"}).serialize(s),f=i.substring(0,i.indexOf("</body>"))}(g.extend(o,e.data))}})}),d.addButton("fullpage",{title:"Document properties",cmd:"mceFullPageProperties"}),d.addMenuItem("fullpage",{text:"Document properties",cmd:"mceFullPageProperties",context:"file"}),d.on("BeforeSetContent",function(e){function t(e){return e.replace(/<\/?[A-Z]+/g,function(e){return e.toLowerCase()})}var n,i,o,r,a,s,l,c="",u=d.dom;e.selection||(i=v.protectHtml(d.settings.protect,e.content),"raw"==e.format&&f||e.source_view&&d.getParam("fullpage_hide_in_source_view"))||(0!==i.length||e.source_view||(i=g.trim(f)+"\n"+g.trim(i)+"\n"+g.trim(p)),n=(i=i.replace(/<(\/?)BODY/gi,"<$1body")).indexOf("<body"),p=-1!=n?(n=i.indexOf(">",n),f=t(i.substring(0,n+1)),-1==(a=i.indexOf("</body",n))&&(a=i.length),e.content=g.trim(i.substring(n+1,a)),t(i.substring(a))):(l=s="",d.getParam("fullpage_default_xml_pi")&&(s+='<?xml version="1.0" encoding="'+d.getParam("fullpage_default_encoding","ISO-8859-1")+'" ?>\n'),s+=d.getParam("fullpage_default_doctype","<!DOCTYPE html>"),s+="\n<html>\n<head>\n",(a=d.getParam("fullpage_default_title"))&&(s+="<title>"+a+"</title>\n"),(a=d.getParam("fullpage_default_encoding"))&&(s+='<meta http-equiv="Content-Type" content="text/html; charset='+a+'" />\n'),(a=d.getParam("fullpage_default_font_family"))&&(l+="font-family: "+a+";"),(a=d.getParam("fullpage_default_font_size"))&&(l+="font-size: "+a+";"),(a=d.getParam("fullpage_default_text_color"))&&(l+="color: "+a+";"),f=s+="</head>\n<body"+(l?' style="'+l+'"':"")+">\n","\n</body>\n</html>"),l=h(),m(l.getAll("style"),function(e){e.firstChild&&(c+=e.firstChild.value)}),(s=l.getAll("body")[0])&&u.setAttribs(d.getBody(),{style:s.attr("style")||"",dir:s.attr("dir")||"",vLink:s.attr("vlink")||"",link:s.attr("link")||"",aLink:s.attr("alink")||""}),u.remove("fullpage_styles"),o=d.getDoc().getElementsByTagName("head")[0],c&&(u.add(o,"style",{id:"fullpage_styles"},c),(s=u.get("fullpage_styles")).styleSheet&&(s.styleSheet.cssText=c)),r={},g.each(o.getElementsByTagName("link"),function(e){"stylesheet"==e.rel&&e.getAttribute("data-mce-fullpage")&&(r[e.href]=e)}),g.each(l.getAll("link"),function(e){var t=e.attr("href");return!t||(r[t]||"stylesheet"!=e.attr("rel")||u.add(o,"link",{rel:"stylesheet",text:"text/css",href:t,"data-mce-fullpage":"1"}),void delete r[t])}),g.each(r,function(e){e.parentNode.removeChild(e)}))}),d.on("GetContent",function(e){e.selection||e.source_view&&d.getParam("fullpage_hide_in_source_view")||(e.content=v.unprotectHtml(g.trim(f)+"\n"+g.trim(e.content)+"\n"+g.trim(p)))})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="3",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["3"],function(e){return e("tinymce.PluginManager")}),i("2",["3"],function(e){return e("tinymce.util.Tools")}),i("0",["1","2"],function(e,o){return e.add("emoticons",function(t,i){var e=[["cool","cry","embarassed","foot-in-mouth"],["frown","innocent","kiss","laughing"],["money-mouth","sealed","smile","surprised"],["tongue-out","undecided","wink","yell"]];t.addButton("emoticons",{type:"panelbutton",panel:{role:"application",autohide:!0,html:function(){var n='<table role="list" class="mce-grid">';return o.each(e,function(e){n+="<tr>",o.each(e,function(e){var t=i+"/img/smiley-"+e+".gif";n+='<td><a href="#" data-mce-url="'+t+'" data-mce-alt="'+e+'" tabindex="-1" role="option" aria-label="'+e+'"><img src="'+t+'" style="width: 18px; height: 18px" role="presentation" /></a></td>'}),n+="</tr>"}),n+="</table>"},onclick:function(e){e=t.dom.getParent(e.target,"a");e&&(t.insertContent('<img src="'+e.getAttribute("data-mce-url")+'" alt="'+e.getAttribute("data-mce-alt")+'" />'),this.hide())}},tooltip:"Emoticons"})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="3",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["3"],function(e){return e("tinymce.PluginManager")}),i("2",["3"],function(e){return e("tinymce.util.Tools")}),i("0",["1","2"],function(e,r){return e.add("directionality",function(o){function e(t){var n,i=o.dom,e=o.selection.getSelectedBlocks();e.length&&(n=i.getAttrib(e[0],"dir"),r.each(e,function(e){i.getParent(e.parentNode,"*[dir='"+t+"']",i.getRoot())||(n!=t?i.setAttrib(e,"dir",t):i.setAttrib(e,"dir",null))}),o.nodeChanged())}function t(t){var n=[];return r.each("h1 h2 h3 h4 h5 h6 div p".split(" "),function(e){n.push(e+"[dir="+t+"]")}),n.join(",")}o.addCommand("mceDirectionLTR",function(){e("ltr")}),o.addCommand("mceDirectionRTL",function(){e("rtl")}),o.addButton("ltr",{title:"Left to right",cmd:"mceDirectionLTR",stateSelector:t("ltr")}),o.addButton("rtl",{title:"Right to left",cmd:"mceDirectionRTL",stateSelector:t("rtl")})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="6",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["6"],function(e){return e("tinymce.dom.DOMUtils")}),i("2",["6"],function(e){return e("tinymce.Env")}),i("3",["6"],function(e){return e("tinymce.PluginManager")}),i("4",["6"],function(e){return e("tinymce.ui.Menu")}),i("5",["6"],function(e){return e("tinymce.util.Tools")}),i("0",["1","2","3","4","5"],function(e,n,t,l,c){var u=e.DOM;return t.add("contextmenu",function(o){function r(e){return e.ctrlKey&&!t}var a,s,t=o.settings.contextmenu_never_use_native;return o.on("mousedown",function(e){n.mac&&n.webkit&&2===e.button&&!r(e)&&o.selection.isCollapsed()&&o.once("contextmenu",function(e){o.selection.placeCaretAt(e.clientX,e.clientY)})}),o.on("contextmenu",function(e){if(!r(e)){if(e.preventDefault(),i=o.settings.contextmenu||"link openlink image inserttable | cell row column deletetable",a)a.show();else{var n=[];c.each(i.split(/[ ,]/),function(e){var t=o.menuItems[e];"|"==e&&(t={text:e}),t&&(t.shortcut="",n.push(t))});for(var t=0;t<n.length;t++)"|"==n[t].text&&(0!==t&&t!=n.length-1||n.splice(t,1));(a=new l({items:n,context:"contextmenu",classes:"contextmenu"}).renderTo()).on("hide",function(e){e.control===this&&(s=!1)}),o.on("remove",function(){a.remove(),a=null})}var i={x:e.pageX,y:e.pageY};o.inline||((i=u.getPos(o.getContentAreaContainer())).x+=e.clientX,i.y+=e.clientY),a.moveTo(i.x,i.y),s=!0}}),{isContextMenuVisible:function(){}}}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="3",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["3"],function(e){return e("tinymce.PluginManager")}),i("2",["3"],function(e){return e("tinymce.util.Color")}),i("0",["1","2"],function(e,a){return e.add("colorpicker",function(r){r.settings.color_picker_callback||(r.settings.color_picker_callback=function(e,t){function i(e){var t=new a(e),e=t.toRgb();o.fromJSON({r:e.r,g:e.g,b:e.b,hex:t.toHex().substr(1)}),n(t.toHex())}function n(e){o.find("#preview")[0].getEl().style.background=e}var o=r.windowManager.open({title:"Color",items:{type:"container",layout:"flex",direction:"row",align:"stretch",padding:5,spacing:10,items:[{type:"colorpicker",value:t,onchange:function(){var e=this.rgb();o&&(o.find("#r").value(e.r),o.find("#g").value(e.g),o.find("#b").value(e.b),o.find("#hex").value(this.value().substr(1)),n(this.value()))}},{type:"form",padding:0,labelGap:5,defaults:{type:"textbox",size:7,value:"0",flex:1,spellcheck:!1,onchange:function(){var e=o.find("colorpicker")[0],t=this.name(),n=this.value();return"hex"==t?(i(n="#"+n),void e.value(n)):(n={r:o.find("#r").value(),g:o.find("#g").value(),b:o.find("#b").value()},e.value(n),void i(n))}},items:[{name:"r",label:"R",autofocus:1},{name:"g",label:"G"},{name:"b",label:"B"},{name:"hex",label:"#",value:"000000"},{name:"preview",type:"container",border:1}]}]},onSubmit:function(){e("#"+this.toJSON().hex)}});i(t)})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="6",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["6"],function(e){return e("tinymce.Env")}),i("2",["6"],function(e){return e("tinymce.PluginManager")}),i("3",[],function(){var e={},c=void 0!==e?e:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},i=function(){var l=/\blang(?:uage)?-(?!\*)(\w+)\b/i,b=c.Prism={util:{encode:function(e){return e instanceof a?new a(e.type,b.util.encode(e.content),e.alias):"Array"===b.util.type(e)?e.map(b.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){switch(b.util.type(e)){case"Object":var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=b.util.clone(e[t]));return n;case"Array":return e.map&&e.map(function(e){return b.util.clone(e)})}return e}},languages:{extend:function(e,t){var n,i=b.util.clone(b.languages[e]);for(n in t)i[n]=t[n];return i},insertBefore:function(n,e,t,i){var o=(i=i||b.languages)[n];if(2==arguments.length){for(var r in t=e)t.hasOwnProperty(r)&&(o[r]=t[r]);return o}var a,s={};for(a in o)if(o.hasOwnProperty(a)){if(a==e)for(var r in t)t.hasOwnProperty(r)&&(s[r]=t[r]);s[a]=o[a]}return b.languages.DFS(b.languages,function(e,t){t===i[n]&&e!=n&&(this[e]=s)}),i[n]=s},DFS:function(e,t,n){for(var i in e)e.hasOwnProperty(i)&&(t.call(e,i,e[i],n||i),"Object"===b.util.type(e[i])?b.languages.DFS(e[i],t):"Array"===b.util.type(e[i])&&b.languages.DFS(e[i],t,i))}},plugins:{},highlightAll:function(e,t){for(var n,i=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),o=0;n=i[o++];)b.highlightElement(n,!0===e,t)},highlightElement:function(e,t,n){for(var i,o,r=e;r&&!l.test(r.className);)r=r.parentNode;r&&(i=(r.className.match(l)||[,""])[1],o=b.languages[i]),e.className=e.className.replace(l,"").replace(/\s+/g," ")+" language-"+i,r=e.parentNode,/pre/i.test(r.nodeName)&&(r.className=r.className.replace(l,"").replace(/\s+/g," ")+" language-"+i);var a=e.textContent,s={element:e,language:i,grammar:o,code:a};a&&o?(b.hooks.run("before-highlight",s),t&&c.Worker?((t=new Worker(b.filename)).onmessage=function(e){s.highlightedCode=e.data,b.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,n&&n.call(s.element),b.hooks.run("after-highlight",s),b.hooks.run("complete",s)},t.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))):(s.highlightedCode=b.highlight(s.code,s.grammar,s.language),b.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,n&&n.call(e),b.hooks.run("after-highlight",s),b.hooks.run("complete",s))):b.hooks.run("complete",s)},highlight:function(e,t,n){t=b.tokenize(e,t);return a.stringify(b.util.encode(t),n)},tokenize:function(e,t,n){var i=b.Token,o=[e],r=t.rest;if(r){for(var a in r)t[a]=r[a];delete t.rest}e:for(var a in t)if(t.hasOwnProperty(a)&&t[a])for(var s=t[a],s="Array"===b.util.type(s)?s:[s],l=0;l<s.length;++l)for(var c=(f=s[l]).inside,u=!!f.lookbehind,d=0,h=f.alias,f=f.pattern||f,p=0;p<o.length;p++){var m,g,v,y=o[p];if(o.length>e.length)break e;y instanceof i||(f.lastIndex=0,(v=f.exec(y))&&(u&&(d=v[1].length),g=(m=v.index-1+d)+(v=v[0].slice(d)).length,m=y.slice(0,m+1),y=y.slice(g+1),g=[p,1],m&&g.push(m),v=new i(a,c?b.tokenize(v,c):v,h),g.push(v),y&&g.push(y),Array.prototype.splice.apply(o,g)))}return o},hooks:{all:{},add:function(e,t){var n=b.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=b.hooks.all[e];if(n&&n.length)for(var i,o=0;i=n[o++];)i(t)}}},a=b.Token=function(e,t,n){this.type=e,this.content=t,this.alias=n};if(a.stringify=function(t,n,e){if("string"==typeof t)return t;if("Array"===b.util.type(t))return t.map(function(e){return a.stringify(e,n,t)}).join("");var i={type:t.type,content:a.stringify(t.content,n,e),tag:"span",classes:["token",t.type],attributes:{},language:n,parent:e};"comment"==i.type&&(i.attributes.spellcheck="true"),t.alias&&(e="Array"===b.util.type(t.alias)?t.alias:[t.alias],Array.prototype.push.apply(i.classes,e)),b.hooks.run("wrap",i);var o,r="";for(o in i.attributes)r+=(r?" ":"")+o+'="'+(i.attributes[o]||"")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'" '+r+">"+i.content+"</"+i.tag+">"},!c.document)return c.addEventListener&&c.addEventListener("message",function(e){var t=JSON.parse(e.data),n=t.language,e=t.code,t=t.immediateClose;c.postMessage(b.highlight(e,b.languages[n],n)),t&&c.close()},!1),c.Prism}();return"undefined"!=typeof module&&module.exports&&(module.exports=i),"undefined"!=typeof global&&(global.Prism=i),i.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},i.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),i.languages.xml=i.languages.markup,i.languages.html=i.languages.markup,i.languages.mathml=i.languages.markup,i.languages.svg=i.languages.markup,i.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},i.languages.css.atrule.inside.rest=i.util.clone(i.languages.css),i.languages.markup&&(i.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:i.languages.markup.tag.inside},rest:i.languages.css},alias:"language-css"}}),i.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:i.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:i.languages.css}},alias:"language-css"}},i.languages.markup.tag)),i.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},i.languages.javascript=i.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,function:/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),i.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),i.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:i.languages.javascript}},string:/[\s\S]+/}}}),i.languages.markup&&i.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:i.languages.markup.tag.inside},rest:i.languages.javascript},alias:"language-javascript"}}),i.languages.js=i.languages.javascript,i.languages.c=i.languages.extend("clike",{keyword:/\b(asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,operator:/\-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*\/]/,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)[ful]*\b/i}),i.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+([^\r\n\\]|\\.|\\(?:\r\n?|\n))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(<.+?>|("|')(\\?.)+?\3)/,lookbehind:!0}}}}),delete i.languages.c["class-name"],delete i.languages.c.boolean,i.languages.csharp=i.languages.extend("clike",{keyword:/\b(abstract|as|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\b/,string:[/@("|')(\1\1|\\\1|\\?(?!\1)[\s\S])*\1/,/("|')(\\?.)*?\1/],number:/\b-?(0x[\da-f]+|\d*\.?\d+)\b/i}),i.languages.insertBefore("csharp","keyword",{preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0}}),i.languages.cpp=i.languages.extend("c",{keyword:/\b(alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,boolean:/\b(true|false)\b/,operator:/[-+]{1,2}|!=?|<{1,2}=?|>{1,2}=?|\->|:{1,2}|={1,2}|\^|~|%|&{1,2}|\|?\||\?|\*|\/|\b(and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/}),i.languages.insertBefore("cpp","keyword",{"class-name":{pattern:/(class\s+)[a-z0-9_]+/i,lookbehind:!0}}),i.languages.java=i.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+(?:e[+-]?\d+)?[df]?\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:!0}}),i.languages.php=i.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\b/i,constant:/\b[A-Z0-9_]{2,}\b/,comment:{pattern:/(^|[^\\])(?:\/\*[\w\W]*?\*\/|\/\/.*)/,lookbehind:!0}}),i.languages.insertBefore("php","class-name",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),i.languages.insertBefore("php","keyword",{delimiter:/\?>|<\?(?:php)?/i,variable:/\$\w+\b/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),i.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}}),i.languages.markup&&(i.hooks.add("before-highlight",function(t){"php"===t.language&&(t.tokenStack=[],t.backupCode=t.code,t.code=t.code.replace(/(?:<\?php|<\?)[\w\W]*?(?:\?>)/gi,function(e){return t.tokenStack.push(e),"{{{PHP"+t.tokenStack.length+"}}}"}))}),i.hooks.add("before-insert",function(e){"php"===e.language&&(e.code=e.backupCode,delete e.backupCode)}),i.hooks.add("after-highlight",function(e){if("php"===e.language){for(var t,n=0;t=e.tokenStack[n];n++)e.highlightedCode=e.highlightedCode.replace("{{{PHP"+(n+1)+"}}}",i.highlight(t,e.grammar,"php").replace(/\$/g,"$$$$"));e.element.innerHTML=e.highlightedCode}}),i.hooks.add("wrap",function(e){"php"===e.language&&"markup"===e.type&&(e.content=e.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>'))}),i.languages.insertBefore("php","comment",{markup:{pattern:/<[^?]\/?(.*?)>/,inside:i.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/})),i.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:/"""[\s\S]+?"""|'''[\s\S]+?'''|("|')(?:\\?.)*?\1/,function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,boolean:/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,punctuation:/[{}[\];(),.:]/},function(e){e.languages.ruby=e.languages.extend("clike",{comment:/#(?!\{[^\r\n]*?\}).*/,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/});var t={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:e.util.clone(e.languages.ruby)}};e.languages.insertBefore("ruby","keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,inside:{interpolation:t}},{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}],variable:/[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.insertBefore("ruby","number",{builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,inside:{interpolation:t}},{pattern:/("|')(#\{[^}]+\}|\\(?:\r?\n|\r)|\\?.)*?\1/,inside:{interpolation:t}}]}(i),i}),i("7",["6"],function(e){return e("tinymce.dom.DOMUtils")}),i("5",[],function(){return{isCodeSample:function(e){return e&&"PRE"==e.nodeName&&-1!==e.className.indexOf("language-")},trimArg:function(n){return function(e,t){return n(t)}}}}),i("4",["7","3","5"],function(e,r,t){function a(e){e=e.selection.getNode();return t.isCodeSample(e)?e:null}var s=e.DOM;return{open:function(o){var e;o.windowManager.open({title:"Insert/Edit code sample",minWidth:Math.min(s.getViewPort().w,o.getParam("codesample_dialog_width",800)),minHeight:Math.min(s.getViewPort().h,o.getParam("codesample_dialog_height",650)),layout:"flex",direction:"column",align:"stretch",body:[{type:"listbox",name:"language",label:"Language",maxWidth:200,value:(e=a(e=o))?(e=e.className.match(/language-(\w+)/))?e[1]:"":"",values:o.settings.codesample_languages||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]},{type:"textbox",name:"code",multiline:!0,spellcheck:!1,ariaLabel:"Code view",flex:1,style:"direction: ltr; text-align: left",classes:"monospace",value:(e=a(e=o))?e.textContent:"",autofocus:!0}],onSubmit:function(e){var t,n,i;t=o,n=e.data.language,i=e.data.code,t.undoManager.transact(function(){var e=a(t);i=s.encode(i),e?(t.dom.setAttrib(e,"class","language-"+n),e.innerHTML=i,r.highlightElement(e),t.selection.select(e)):(t.insertContent('<pre id="__new" class="language-'+n+'">'+i+"</pre>"),t.selection.select(t.$("#__new").removeAttr("id")[0]))})}})}}}),i("0",["1","2","3","4","5"],function(e,t,r,a,s){var l,c=s.trimArg;return t.add("codesample",function(n,t){var i,o=n.$;e.ceFalse&&(n.on("PreProcess",function(e){o("pre[contenteditable=false]",e.node).filter(c(s.isCodeSample)).each(function(e,t){var n=o(t),i=t.textContent;n.attr("class",o.trim(n.attr("class"))),n.removeAttr("contentEditable"),n.empty().append(o("<code></code>").each(function(){this.textContent=i}))})}),n.on("SetContent",function(){var e=o("pre").filter(c(s.isCodeSample)).filter(function(e,t){return"false"!==t.contentEditable});e.length&&n.undoManager.transact(function(){e.each(function(e,t){o(t).find("br").each(function(e,t){t.parentNode.replaceChild(n.getDoc().createTextNode("\n"),t)}),t.contentEditable=!1,t.innerHTML=n.dom.encode(t.textContent),r.highlightElement(t),t.className=o.trim(t.className)})})}),n.addCommand("codesample",function(){var e=n.selection.getNode();n.selection.isCollapsed()||s.isCodeSample(e)?a.open(n):n.formatter.toggle("code")}),n.addButton("codesample",{cmd:"codesample",title:"Insert/Edit code sample"}),n.on("init",function(){var e=n.settings.codesample_content_css;n.inline&&l||!n.inline&&i||(n.inline?l=!0:i=!0,!1!==e&&(e=n.dom.create("link",{rel:"stylesheet",href:e||t+"/css/prism.css"}),n.getDoc().getElementsByTagName("head")[0].appendChild(e)))}))}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="3",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["3"],function(e){return e("tinymce.dom.DOMUtils")}),i("2",["3"],function(e){return e("tinymce.PluginManager")}),i("0",["1","2"],function(n,e){return e.add("code",function(t){function e(){t.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:t.getParam("code_dialog_width",600),minHeight:t.getParam("code_dialog_height",Math.min(n.DOM.getViewPort().h-200,500)),spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(e){t.focus(),t.undoManager.transact(function(){t.setContent(e.data.code)}),t.selection.setCursorLocation(),t.nodeChanged()}}).find("#code").value(t.getContent({source_view:!0}))}t.addCommand("mceCodeEditor",e),t.addButton("code",{icon:"code",tooltip:"Source code",onclick:e}),t.addMenuItem("code",{icon:"code",text:"Source code",context:"tools",onclick:e})}),function(){}}),l("0")()}(),function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}var t,n,s={},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=l(n[a]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i}(e),t.instance},i=e;t="3",n=tinymce.util.Tools.resolve,i(t,[],function(){return n}),i("1",["3"],function(e){return e("tinymce.PluginManager")}),i("2",["3"],function(e){return e("tinymce.util.Tools")}),i("0",["1","2"],function(e,o){return e.add("charmap",function(d){function n(e){return i(e)?[].concat((t=e,o.grep(t,function(){}