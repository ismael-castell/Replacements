(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25d32be1"],{"02f0":function(e,t,i){"use strict";i("268a")},"045b":function(e,t,i){},"0749":function(e,t,i){"use strict";var s=i("5502"),a=i("ff5a");t["a"]={computed:{...Object(s["c"])("configState",["toggle"]),spanishLangOption(){return this.toggle("usSpanishEnabled")},localeDataUs(){const e=a.filter(e=>"United States"===e.Country)[0].Locales;return!1===this.spanishLangOption&&e.splice(1,1),a}}}},"0b49":function(e,t,i){"use strict";i("42de")},1228:function(e,t,i){},1397:function(e,t,i){},1453:function(e,t,i){},2219:function(e,t,i){"use strict";var s=i("7a23");const a=["aria-label","aria-describedby"];function o(e,t,i,o,r,n){const l=Object(s["T"])("TextField"),c=Object(s["T"])("clickwrap-notice"),d=Object(s["T"])("BlockBasic");return Object(s["K"])(),Object(s["h"])(d,{headline:i.headline_text,copy:i.copy,"button-text":i.button_text,"link-text":n.linkText,disabled:!o.email.length>0||o.submitting,onButtonClick:n.checkIfUserExists,onLinkClick:t[2]||(t[2]=t=>e.$emit("linkClicked",{linkText:n.linkText,linkUrl:n.linkUrl}))},{center:Object(s["ib"])(({headlineId:r})=>[Object(s["k"])("form",{method:"POST",class:"email-check-form",action:"javascript:void(0);","aria-label":e.$t("i18n.signUp"),"aria-describedby":r,onSubmit:t[1]||(t[1]=(...e)=>n.checkIfUserExists&&n.checkIfUserExists(...e))},[Object(s["o"])(l,{class:"email-input",modelValue:o.email,"onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),"set-aria-details-id":o.clickwrapNoticeId,"show-label":!0,"is-required":!1,"label-text":e.$t("i18n.formEmailLabel"),placeholder:e.$t("i18n.formEmailLabel"),errors:o.emailValidator.email.$errors},null,8,["modelValue","set-aria-details-id","label-text","placeholder","errors"])],40,a),i.clickwrapNotice?(Object(s["K"])(),Object(s["h"])(c,{key:0,class:"clickwrap-notice-item","content-id":o.clickwrapNoticeId,html:i.clickwrapNotice},null,8,["content-id","html"])):Object(s["i"])("",!0)]),_:1},8,["headline","copy","button-text","link-text","disabled","onButtonClick"])}var r=i("ec26"),n=i("7776"),l=i("bc58"),c=i("bad3"),d=i("726b"),u={emits:["linkClicked","valid-email-collected","userFound","userNotFound","wasMounted"],components:{BlockBasic:n["a"],ClickwrapNotice:l["a"],TextField:c["a"]},props:{headline_text:{type:String,default:""},copy:{type:String,default:""},clickwrapNotice:{type:String,default:""},editEmail:{type:Boolean,default:!1},button_text:{type:String,default:""},exit_link:{type:Object,default:()=>({link_text:"",link_url:""})},initialEmail:{type:String,default:""},skipCheckAndReturnValidatedEmailEnabled:{type:Boolean,default:!1}},setup(e){const{data:t,emailValidator:i,checkEmailValidation:a}=Object(d["a"])(e),o=Object(s["Q"])(!1);return{clickwrapNoticeId:"",email:t.email,submitting:o,emailValidator:i,checkEmailValidation:a,uuid:""}},computed:{linkText(){var e;return(null===(e=this.exit_link)||void 0===e?void 0:e.link_text)||""},linkUrl(){var e;return(null===(e=this.exit_link)||void 0===e?void 0:e.link_url)||""}},mounted(){this.$emit("wasMounted"),this.clickwrapNoticeId=this.uuid,this.editEmail&&this.$nextTick(()=>{this.email=this.initialEmail||""})},methods:{async checkIfUserExists(){this.submitting=!1;const e=await this.checkEmailValidation();if(e){if(this.skipCheckAndReturnValidatedEmailEnabled)return void this.$emit("valid-email-collected",this.email);this.submitting=!0,this.$store.dispatch("userProfileState/checkIfUserExists",this.email).then(({userExists:e,errors:t})=>{if(this.submitting=!1,t)throw t;return e?this.$emit("userFound",this.email):this.$emit("userNotFound",this.email)}).catch(e=>{throw this.submitting=!1,new Error(e)})}}},beforeMount(){this.uuid=Object(r["a"])()}},m=(i("d2d9"),i("d959")),h=i.n(m);const b=h()(u,[["render",o],["__scopeId","data-v-2b161506"]]);t["a"]=b},2452:function(e,t,i){"use strict";i("ddcb")},"256e":function(e,t,i){},"268a":function(e,t,i){},2979:function(e,t,i){},"2b03":function(e,t,i){"use strict";i("045b")},3041:function(e,t,i){},"424e":function(e,t,i){"use strict";i("c5bf")},"42de":function(e,t,i){},"47e5":function(e,t,i){},"4afc":function(e,t,i){},"4c62":function(e,t,i){"use strict";i("47e5")},"4d59":function(e,t,i){},"50f6":function(e,t,i){"use strict";var s=i("7a23");const a=e=>(Object(s["N"])("data-v-7cbe9772"),e=e(),Object(s["L"])(),e),o={key:0,class:"login-guest-container lsco-col-xs-21 lsco-col-md-offset-1 lsco-col-md-6"},r=["aria-label"],n=a(()=>Object(s["k"])("div",{class:"separator lsco-col-md-1"},null,-1)),l={key:0,class:"message-container"},c={key:0,class:"success-message"},d={key:1,class:"error-message"},u=["innerHTML"],m=["aria-label"],h={key:2,class:"email-text"},b={key:3,class:"message-container"},p={class:"error-message"},O=["innerHTML"],g={class:"reset-password"};function j(e,t,i,a,j,S){const k=Object(s["T"])("heading-container"),y=Object(s["T"])("SvgIcon"),f=Object(s["T"])("TextField"),E=Object(s["T"])("ErrorMessages"),v=Object(s["T"])("password-field"),C=Object(s["T"])("clickwrap-notice"),_=Object(s["T"])("button-and-link");return Object(s["K"])(),Object(s["j"])("section",{class:Object(s["A"])(["login-content",S.rootClassObj])},[i.type===e.$_types.CHECKOUT_GATE?(Object(s["K"])(),Object(s["j"])("div",o,[Object(s["o"])(k,{class:Object(s["A"])(["login-heading-container",S.headingClassObj]),title:e.$t("i18n.guestCustomers").toUpperCase(),details:S.getGuestLoyaltyMsg},null,8,["class","title","details"]),Object(s["k"])("button",{type:"button",id:"checkout-modal-button",class:"btn btn-tertiary btn-block guestCheckoutBtn","aria-label":e.$t("i18n.checkoutAsGuest"),onClick:t[0]||(t[0]=(...e)=>S.checkoutAsGuest&&S.checkoutAsGuest(...e))},Object(s["X"])(e.$t("i18n.checkoutAsGuest")),9,r)])):Object(s["i"])("",!0),n,Object(s["k"])("div",{class:Object(s["A"])(S.innerClassObj)},[Object(s["o"])(k,{class:Object(s["A"])(["login-heading-container",S.headingClassObj]),title:S.title,details:S.subCopy},Object(s["l"])({_:2},[S.showLogo?{name:"content-above",fn:Object(s["ib"])(()=>[Object(s["k"])("div",{class:Object(s["A"])(["icon-wrapper",[{"checkout-gate-logo":i.type===e.$_types.CHECKOUT_GATE},{redTabLogo:e.isRedTabEnabled}]])},[Object(s["o"])(y,{class:Object(s["A"])(["logo--"+S.getBrand,{nonLoyal:e.isNonLoyalty}]),name:S.modifiedLogoName,title:"Levis Red tab Logo"},null,8,["class","name"])],2)])}:void 0]),1032,["class","title","details"]),i.type===e.$_types.RESET_RESULT?(Object(s["K"])(),Object(s["j"])("div",l,[i.isResetSuccess?(Object(s["K"])(),Object(s["j"])("div",c,[Object(s["o"])(y,{name:"checkmark",class:"success-icon",title:"success icon"}),Object(s["k"])("span",null,Object(s["X"])(e.$t("i18n.resetPasswordSuccess")),1)])):(Object(s["K"])(),Object(s["j"])("div",d,[Object(s["o"])(y,{name:"error-exclamation",class:"error-icon",title:"error icon"}),Object(s["k"])("span",{class:"error-msg",innerHTML:e.$t("i18n.resetPasswordFail")},null,8,u)]))])):Object(s["i"])("",!0),Object(s["k"])("form",{method:"POST",class:"login-form",action:"javascript:void(0);","aria-label":e.$t("i18n.logIn"),onSubmit:t[5]||(t[5]=e=>S.login())},[S.isEmailEditable?(Object(s["K"])(),Object(s["h"])(f,{key:0,class:"email-input",modelValue:a.email,"onUpdate:modelValue":t[1]||(t[1]=e=>a.email=e),"show-label":!0,"label-text":e.$t("i18n.formEmailLabel"),id:"login-email",errors:a.loginValidator.email.$errors},null,8,["modelValue","label-text","errors"])):Object(s["i"])("",!0),S.errorTexts.length&&S.isEmailEditable?(Object(s["K"])(),Object(s["h"])(E,{key:1,"error-texts":S.errorTexts},null,8,["error-texts"])):i.type===e.$_types.SOFT?(Object(s["K"])(),Object(s["j"])("div",h,Object(s["X"])(a.email),1)):Object(s["i"])("",!0),Object(s["o"])(v,{modelValue:a.password,"onUpdate:modelValue":t[2]||(t[2]=e=>a.password=e),class:"password-input","label-text":e.$t("i18n.passwordText"),"set-aria-details-id":S.clickwrapNoticeId,"custom-errors":S.passwordCustomErrors,errors:a.loginValidator.password.$errors,placeholder:e.$t("i18n.passwordText")},null,8,["modelValue","label-text","set-aria-details-id","custom-errors","errors","placeholder"]),j.componentErrorMsgHtml?(Object(s["K"])(),Object(s["j"])("div",b,[Object(s["k"])("div",p,[Object(s["k"])("span",{class:"error-msg",innerHTML:j.componentErrorMsgHtml},null,8,O)])])):Object(s["i"])("",!0),Object(s["k"])("div",g,[Object(s["k"])("a",{onClick:t[3]||(t[3]=(...e)=>S.onResetPasswordClick&&S.onResetPasswordClick(...e)),onKeyup:t[4]||(t[4]=Object(s["kb"])((...e)=>S.onResetPasswordClick&&S.onResetPasswordClick(...e),["enter"])),tabindex:"0"},Object(s["X"])(e.$t("i18n.forgotPasswordTitle")),33)]),Object(s["o"])(C,{"content-id":S.clickwrapNoticeId,html:S.clickwrapNotice},null,8,["content-id","html"]),Object(s["o"])(_,{class:"button-and-link","button-text":e.$t("i18n.logIn"),"link-text":S.linkText,disabled:a.password.length<=0&&a.email.length<=0,onLinkClick:S.onLinkClick},null,8,["button-text","link-text","disabled","onLinkClick"])],40,m)],2)],2)}var S=i("5502"),k=i("a862"),y=i("f0ac"),f=i("10e9"),E=i("2c0f"),v=i("5fb0"),C=i("e137"),_=i("ccd1"),T=i("12ed"),w=i("c779"),L=i("bad3"),A=i("c322"),I=i("dc80"),x=i("bc58"),R=i("96b7"),N={setup(e){const{data:t,loginValidator:i,checkValidation:s}=Object(w["a"])(!1,e.userEmail);return{email:t.email,password:t.password,loginValidator:i,checkValidation:s}},mixins:[y["a"]],emits:["loginSuccess","existingUserFound","returnToBag","registerUser","resetPassword","guestCheckout"],components:{ButtonAndLink:k["a"],ClickwrapNotice:x["a"],HeadingContainer:E["a"],SvgIcon:f["a"],TextField:L["a"],PasswordField:R["a"],ErrorMessages:A["a"]},props:{userEmail:{type:String,default:""},type:{type:String,default:I["a"].DEFAULT,validate(e){return!!I["a"].includes(e)&&!(e===I["a"].POST_SUBSCRIPTION&&!this.userEmail)}},isResetSuccess:{type:Boolean,default:!1},routingTo:{type:Object,default:null},titleText:{type:String,default:""}},data(){return{show:{password:!1},submitting:!1,componentErrorMsgHtml:"",serverErrors:[]}},computed:{...Object(S["d"])("cmsState",["globalModalLoginContent"]),...Object(S["d"])("localization",["locale","country"]),...Object(S["d"])("login",["redirectSA","redirectPath"]),...Object(S["c"])({cartCode:"cart/code"}),...Object(S["c"])("userProfileState",["uid"]),...Object(S["c"])("configState",["isLevis247Enabled"]),...Object(S["d"])({routeName:e=>e.route.name,blah:e=>e.route}),...Object(S["d"])("checkoutState",["isExpressCheckout"]),...Object(S["c"])("configState",["paths","logoName","isNonLoyalty","isRedTabEnabled","isLevis247Enabled","isSTSOEnabled"]),analyticsParamsForCheckout(){return{checkoutId:this.cartCode,checkoutType:this.isExpressCheckout?"express":"default"}},modifiedLogoName(){return"dockers"===this.logoName?this.logoName+"-logo":this.logoName},clickwrapNoticeId(){return"login-clickwrap-notice"},clickwrapNotice(){return this.globalModalLoginContent.clickwrap_notice||""},credentials(){return{username:this.email.toLowerCase(),password:this.password}},isEmailEditable(){return this.type===I["a"].DEFAULT||this.type===I["a"].CHECKOUT_GATE||this.type===I["a"].RESET_RESULT},emailValidationOptions(){return{errorTextAllReplaceWith:{i18nPath:"errors.regex"},customErrors:this.serverErrors}},inCheckoutPage(){return this.routeName===v["Y"].CHECKOUT},inCheckoutExperience(){var e;const t=(null===(e=this.routingTo)||void 0===e?void 0:e.name)===v["Y"].CHECKOUT;return this.inCheckoutPage||t},passwordCustomErrors(){return this.type===I["a"].DEFAULT?[]:this.serverErrors},rootClassObj(){const e=["lsco-col-xs-offset-2","lsco-col-xs-offset-right-2","lsco-col-md-7"];return this.type===I["a"].CHECKOUT_GATE?["checkout-gate","lsco-col-xs-20","lsco-col-xs-offset-2","lsco-col-xs-offset-right-2","lsco-col-md-offset-0","lsco-col-md-15","lsco-col-md-offset-right-1"]:this.type===I["a"].SOFT?(e.push("soft-login"),e):e},innerClassObj(){return this.type===I["a"].CHECKOUT_GATE?["login-side","lsco-col-xs-21","lsco-col-md-offset-1","lsco-col-md-6"]:[]},headingClassObj(){return this.type===I["a"].SOFT?["login-heading-container--alignment"]:this.type===I["a"].CHECKOUT_GATE?["login-heading-container--alignment","login-heading-container--gate"]:[]},linkText(){return this.type===I["a"].SOFT?this.inCheckoutPage?this.$t("i18n.returnToBag"):"":this.$t("i18n.createANewAccount")},title(){if(this.titleText)return this.titleText;switch(this.type){case I["a"].CHECKOUT_GATE:return this.isRedTabEnabled||this.isLevis247Enabled?this.$t("i18n.members").toUpperCase():this.$t("i18n.nonLoyaltyMembers").toUpperCase();case I["a"].RESET_RESULT:if(this.isResetSuccess)return this.$t("i18n.youreBackWelcomeMsg");break;case I["a"].SOFT:return this.$t("i18n.looksLikeYouveBeenAway");default:return this.globalModalLoginContent.headline}return this.globalModalLoginContent.headline},subCopy(){return this.type===I["a"].RESET_RESULT&&this.isResetSuccess?"":this.type===I["a"].SOFT?this.$t("i18n.forSecurityPurposesSignin"):this.globalModalLoginContent.copy},showLogo(){return this.type!==I["a"].SOFT&&!(this.type===I["a"].CHECKOUT_GATE&&this.isNonLoyalty)},getGuestLoyaltyMsg(){return this.isRedTabEnabled?this.$t("i18n.guestCheckoutDescRedTab"):this.isLevis247Enabled?this.$t("i18n.guestCheckoutDesc247"):this.$t("i18n.guestCheckoutDescNoLoyalty")},getBrand(){return Object(C["a"])()},errorTexts(){return this.serverErrors.map(e=>e)}},created(){if(this.$_types=I["a"],window.onResetPasswordClick=this.onResetPasswordClick,this.isSTSOEnabled){var e;const t={name:this.$route.name,path:this.$route.path,page:null===(e=this.$route.query)||void 0===e?void 0:e.page,params:this.$router.params};this.$store.commit("pickupInStoreState/updateState",{property:"routeParms",value:t},{root:!0})}},beforeUnmount(){delete window.onResetPasswordClick},mounted(){this.type===I["a"].SOFT&&(this.email=this.uid),this.sendViewAnalytics()},methods:{focusOnEmailFieldIfExists(){document.getElementById("login-email")&&document.getElementById("login-email").focus()},redirectFromJoinPageIfNeeded(){this.$route.name===v["Y"].REGISTER&&this.$router.push({name:v["Y"].HOME})},resetServerErrors(){this.serverErrors=[]},reset(){this.email="",this.password=""},async login(){const e=await this.checkValidation();this.resetServerErrors(),this.componentErrorMsgHtml="",Object(T["c"])(),e&&(this.submitting=!0,this.$store.dispatch("userProfileState/loginAndGetUser",this.credentials).then(({status:e,cartMerged:t,emailAlreadyExists:i})=>{if(this.submitting=!1,e===v["jb"].SUCCESS)setTimeout(()=>{if(window.LSCO&&window.LSCO.dtos&&window.LSCO.dtos.globalData&&window.LSCO.dtos.globalData.customer){const e=window.LSCO.dtos.globalData.customer;Object(T["i"])(this.uid,e.auth_status,e.levi_id,e.city,e.state,e.adobe_id)}},1e3),this.sendSuccessAnalytics(),this.type===I["a"].POST_SUBSCRIPTION&&this.isLevis247Enabled&&this.$store.dispatch("registerUser/setEmailOptIn"),this.$emit("loginSuccess",t,i),this.redirectFromJoinPageIfNeeded();else if(e===v["jb"].INVALID_CREDENTIALS)if(this.isLevis247Enabled)this.loginETOUser();else{const{emailLogin:t}=this.serverErrMsgMapper(e);this.serverErrors=t,this.focusOnEmailFieldIfExists()}else e===v["jb"].ACCOUNT_LOCKED?(this.componentErrorMsgHtml=this.$t("i18n.AccountLockedError"),this.focusOnEmailFieldIfExists()):this.componentErrorMsgHtml=this.$t("i18n.technicalDifficultiesTryAgain")}).catch(e=>{throw this.submitting=!1,this.focusOnEmailFieldIfExists(),new Error(e)})),this.type===this.$_types.CHECKOUT_GATE&&Object(_["L"])("login")},async loginETOUser(){const e=await this.$store.dispatch("login/loginETOUser",this.credentials);if(e.CrmId){const e={login:this.credentials.username,password:this.credentials.password},t=await this.$store.dispatch("registerUser/registerUser",{tempUser:e});t.emailAlreadyExists&&this.$emit("existingUserFound",this.email,!0)}else{const{emailLogin:e}=this.serverErrMsgMapper(v["jb"].INVALID_CREDENTIALS);this.serverErrors=e,this.focusOnEmailFieldIfExists()}},onLinkClick(){this.inCheckoutPage?this.$emit("returnToBag"):this.$emit("registerUser"),(this.type===this.$_types.CHECKOUT_GATE||this.inCheckoutPage)&&Object(_["L"])(this.linkText)},onResetPasswordClick(){this.$emit("resetPassword",this.email)},checkoutAsGuest(){this.$emit("guestCheckout"),this.sendGuestAnalytics()},sendGuestAnalytics(){Object(_["L"])("Guest"),Object(_["N"])(this.analyticsParamsForCheckout)},sendSuccessAnalytics(){Object(T["d"])(),this.inCheckoutExperience&&Object(_["N"])(this.analyticsParamsForCheckout)},sendViewAnalytics(){Object(T["e"])(),this.inCheckoutExperience&&Object(_["O"])(this.analyticsParamsForCheckout)}}},$=(i("2b03"),i("d959")),P=i.n($);const U=P()(N,[["render",j],["__scopeId","data-v-7cbe9772"]]);t["a"]=U},5152:function(e,t,i){"use strict";var s=i("5fb0");const a="permanent",o=.66,r=.33;let n=[];function l(){n.forEach(()=>{requestAnimationFrame(b)})}function c(e,t){0===n.length&&window.addEventListener("scroll",l,{passive:!0}),n.push({el:e,arg:t.arg})}function d(e){e.classList.add(s["k"].VISIBLE)}function u(e){e.classList.remove(s["k"].VISIBLE)}function m(e){e.classList.add(s["k"].SCROLLED_PAST)}function h(e){e.classList.remove(s["k"].SCROLLED_PAST)}function b(){n.forEach(e=>{const t=e.el.getBoundingClientRect(),i=t.top>0&&t.top<window.innerHeight*o,s=t.top>window.innerHeight,n=t.top+t.height*o<r*window.innerHeight;i?(h(e.el),d(e.el),e.binding&&e.binding.arg===a&&window.removeEventListener("scroll",l)):s?u(e.el):n&&m(e.el)})}t["a"]={inserted:(e,t)=>{c(e,t),b()},unbind:e=>{n=n.filter(t=>t.el!==e),n.length>=0&&window.removeEventListener("scroll",l)}}},5322:function(e){e.exports=JSON.parse('{"en_CA":"English","fr_CA":"French","en_US":"English","es_US":"Spanish","de_AT":"German","fr_BE":"French","nl_BE":"Dutch","da_DK":"Danish","fr_FR":"French","de_DE":"German","en_GB":"English","en_IE":"English","it_IT":"Italian","nl_NL":"Dutch","pl_PL":"Polish","ru_RU":"Russian","es_ES":"Spanish","sv_SE":"Swedish","de_CH":"German","fr_CH":"French","it_CH":"Italian","en":"English","pt":"Portuguese","tr_TR":"Turkish","native":"Native"}')},"547e":function(e,t,i){"use strict";i("d264")},5585:function(e,t,i){"use strict";i.r(t);var s=i("7a23");const a={"data-testid":"auth-modal-controller"},o=["innerHTML"];function r(e,t,i,r,n,l){const c=Object(s["T"])("subscription-confirmation"),d=Object(s["T"])("svg-icon"),u=Object(s["T"])("welcome-content"),m=Object(s["T"])("e-receipt-welcome-content"),h=Object(s["T"])("login-content"),b=Object(s["T"])("register-content"),p=Object(s["T"])("merge-account-content"),O=Object(s["T"])("join-loyalty-content"),g=Object(s["T"])("forgot-password"),j=Object(s["T"])("email-signup-gate"),S=Object(s["T"])("reset-password"),k=Object(s["T"])("BirthdayQuiz"),y=Object(s["T"])("RegistrationSuccessQuizLauncher"),f=Object(s["T"])("modal-wrapper"),E=Object(s["T"])("CommunicationsQuiz"),v=Object(s["T"])("RegistrationGate"),C=Object(s["T"])("signup-success-modal");return Object(s["K"])(),Object(s["j"])("div",a,[l.needModal?(Object(s["K"])(),Object(s["h"])(f,{key:0,"modal-name":"authTypeComponent",class:Object(s["A"])(["auth-modal-wrapper",l.modalClassObj]),"no-header":l.noHeader,onCloseModal:l.closeModal,"can-close":!l.showEmailSignUpGate},{header:Object(s["ib"])(()=>[l.isPostEmailSubscription?(Object(s["K"])(),Object(s["j"])("div",{key:0,class:Object(s["A"])(["header-container",l.classesHeaderLayout])},[Object(s["o"])(c,{type:l.subscriptionType,class:"subscription-confirmation-comp",email:e.config.userEmail},null,8,["type","email"])],2)):l.mobileSoftLogin?(Object(s["K"])(),Object(s["h"])(d,{key:1,class:"brand-icon",name:e.brandLogoName,title:"Logo"},null,8,["name"])):Object(s["i"])("",!0)]),body:Object(s["ib"])(()=>[Object(s["k"])("div",{class:Object(s["A"])(l.modalBodyClass)},[e.stateName===e.$_states.WELCOME?(Object(s["K"])(),Object(s["h"])(u,{key:0,onSubscribeSuccess:l.onSubscribeSuccess},null,8,["onSubscribeSuccess"])):Object(s["i"])("",!0),e.stateName===e.$_states.E_RECEIPT?(Object(s["K"])(),Object(s["h"])(m,{key:1,onSubscribeSuccess:l.onSubscribeSuccess},null,8,["onSubscribeSuccess"])):Object(s["i"])("",!0),e.stateName===e.$_states.LOGIN?(Object(s["K"])(),Object(s["h"])(h,{key:2,"user-email":e.config.userEmail,type:e.config.type,"already-subscribed":e.config.alreadySubscribed,"is-reset-success":e.config.isResetSuccess,"title-text":e.config.titleText,"routing-to":e.config.routingTo,onLoginSuccess:l.onLoginSuccess,onRegisterUser:l.onStartRegisterFromLogin,onResetPassword:l.onResetPassword,onReturnToBag:l.onReturnToBag,onGuestCheckout:l.onGuestCheckout,onExistingUserFound:l.onExistingUserFound},null,8,["user-email","type","already-subscribed","is-reset-success","title-text","routing-to","onLoginSuccess","onRegisterUser","onResetPassword","onReturnToBag","onGuestCheckout","onExistingUserFound"])):Object(s["i"])("",!0),e.stateName===e.$_states.REGISTER?(Object(s["K"])(),Object(s["h"])(b,{key:3,"use-email":e.config.userEmail,type:e.config.type,"subsource-identifier":e.config.subsourceIdentifier,"is-reset-success":e.config.isResetSuccess,onExistingUserFound:l.onExistingUserFound,onUserCreated:l.onUserCreated,onLogin:t[0]||(t[0]=t=>e.stateService.send(e.$_events.START_LOGIN)),onResetPassword:l.onResetPassword},null,8,["use-email","type","subsource-identifier","is-reset-success","onExistingUserFound","onUserCreated","onResetPassword"])):Object(s["i"])("",!0),e.stateName===e.$_states.MERGE_ACCOUNT?(Object(s["K"])(),Object(s["h"])(p,{key:4,"use-email":e.config.userEmail,onMergeSuccess:l.onMergeSuccess},null,8,["use-email","onMergeSuccess"])):Object(s["i"])("",!0),e.stateName===e.$_states.JOIN_LOYALTY?(Object(s["K"])(),Object(s["h"])(O,{key:5,onJoinSuccess:l.onJoinSuccess},null,8,["onJoinSuccess"])):Object(s["i"])("",!0),e.stateName===e.$_states.FORGOT_PASSWORD?(Object(s["K"])(),Object(s["h"])(g,{key:6})):Object(s["i"])("",!0),e.stateName===e.$_states.EMAIL_SIGNUP_GATE?(Object(s["K"])(),Object(s["h"])(j,{key:7,onCloseModal:l.closeModal},null,8,["onCloseModal"])):Object(s["i"])("",!0),e.stateName===e.$_states.RESET_PASSWORD?(Object(s["K"])(),Object(s["h"])(S,{key:8})):Object(s["i"])("",!0),e.stateName===e.$_states.RICH_TEXT?(Object(s["K"])(),Object(s["j"])("div",{key:9,class:"rich-text-content",innerHTML:e.config.richText},null,8,o)):Object(s["i"])("",!0),e.stateName===e.$_states.BIRTHDAY_QUIZ?(Object(s["K"])(),Object(s["h"])(k,{key:10,type:e.$_birthdayQuizType,"logo-size":"m",onBirthdayAnswered:t[1]||(t[1]=t=>e.stateService.send(e.$_events.BIRTHDAY_ANSWERED))},null,8,["type"])):Object(s["i"])("",!0),e.stateName===e.$_states.REGISTRATION_SUCCESS_QUIZ_LAUNCHER?(Object(s["K"])(),Object(s["h"])(y,{key:11,onQuizLaunchClick:t[2]||(t[2]=t=>e.stateService.send(e.$_events.OPEN_COMMUNICATIONS_QUIZ))})):Object(s["i"])("",!0)],2)]),_:1},8,["class","no-header","onCloseModal","can-close"])):Object(s["i"])("",!0),e.stateName===e.$_states.COMMUNICATIONS_QUIZ?(Object(s["K"])(),Object(s["h"])(E,{key:1,type:e.$_communicationsQuizLocation,onClose:l.closeModal},null,8,["type","onClose"])):Object(s["i"])("",!0),e.stateName===e.$_states.REGISTRATION_GATE?(Object(s["K"])(),Object(s["h"])(v,{key:2,onClose:l.closeModal,"is-reset-success":e.config.isResetSuccess,onResetPassword:l.onResetPassword},null,8,["onClose","is-reset-success","onResetPassword"])):Object(s["i"])("",!0),e.stateName===e.$_states.LSE_REGISTER_SUCCESS?(Object(s["K"])(),Object(s["h"])(C,{key:3,type:e.config.mergedSuccess?e.$_lseSuccessTypes.MERGED:e.$_lseSuccessTypes.DEFAULT,onCloseModal:l.closeModal},null,8,["type","onCloseModal"])):Object(s["i"])("",!0)])}var n=i("5502"),l=i("1ab3"),c=i("5fb0"),d=i("ced4");const u={class:"forgotten-password"},m={class:"fp-body"},h={class:"modal-title"},b={class:"lsco-icon lscoicon-check-circle-solid"},p={class:"modal-title success-title"},O={class:"request-sent-msg"},g=["aria-label"],j={class:"description lsco-col-xs-17 lsco-col-md-6"},S={class:"email-field lsco-col-xs-17 lsco-col-md-6"},k={key:0};function y(e,t,i,a,o,r){const n=Object(s["T"])("SvgIcon"),l=Object(s["T"])("TextField"),c=Object(s["T"])("SubmitButton");return Object(s["K"])(),Object(s["j"])("div",u,[Object(s["k"])("div",m,[Object(s["k"])("h4",h,[Object(s["k"])("span",null,Object(s["X"])(e.$t("i18n.forgotPasswordTitle")),1)]),e.forgotPassReqSent?(Object(s["K"])(),Object(s["j"])(s["a"],{key:0},[Object(s["k"])("div",b,[Object(s["o"])(n,{name:"checkmark-circle",class:"success-icon",title:"success icon"})]),Object(s["k"])("h4",p,[Object(s["k"])("span",null,Object(s["X"])(e.$t("i18n.resetPasswordText")),1)]),Object(s["k"])("div",O,Object(s["X"])(e.$t("i18n.fpRequestSentText")),1)],64)):(Object(s["K"])(),Object(s["j"])("form",{key:1,method:"POST",action:"javascript:void(0);","aria-label":e.$t("i18n.forgotPasswordTitle")},[Object(s["k"])("div",null,[Object(s["k"])("div",j,Object(s["X"])(e.$t("i18n.forgotPasswordDescriptionText")),1),Object(s["k"])("div",S,[Object(s["o"])(l,{class:Object(s["A"])(["email-input"]),name:"email",modelValue:a.email,"onUpdate:modelValue":t[0]||(t[0]=e=>a.email=e),"label-text":e.$t("i18n.formEmailLabel"),"is-required":!0,label:e.$t("i18n.formEmailLabel"),placeholder:e.$t("i18n.formEmailLabel"),"show-label":!!a.email,errors:a.emailValidator.email.$errors},null,8,["modelValue","label-text","label","placeholder","show-label","errors"])]),o.forgotError?(Object(s["K"])(),Object(s["j"])("div",k,Object(s["X"])(o.forgotError),1)):Object(s["i"])("",!0),Object(s["o"])(c,{id:"forgotPasswordSubmit",class:"forgot-email-submit-btn","aria-label":e.$t("i18n.resetPassBtnText"),onClicked:t[1]||(t[1]=e=>r.resetRequest()),disabled:r.disableSubmit,text:e.$t("i18n.resetPassBtnText")},null,8,["aria-label","disabled","text"])])],8,g))])])}var f=i("10e9"),E=i("77a5"),v=i("12ed"),C=i("bad3"),_=i("726b");const T=["aria-label"];function w(e,t,i,a,o,r){return Object(s["K"])(),Object(s["j"])("button",{type:"submit",class:"btn btn-default btn-secondary btn-block","aria-label":i.text,onClick:t[0]||(t[0]=t=>e.$emit("clicked"))},Object(s["X"])(i.text),9,T)}var L={name:"FormSubmitButton",emits:["clicked"],props:{text:{type:String,default:"Submit"}},id:String},A=(i("fd1d"),i("d959")),I=i.n(A);const x=I()(L,[["render",w],["__scopeId","data-v-5e78e585"]]);var R=x,N={mixins:[E["a"]],name:"ForgotPassword",setup(e){const{data:t,emailValidator:i,checkEmailValidation:a}=Object(_["a"])(e),o=Object(s["Q"])("welcome-content-legal-language-id"),r=Object(s["Q"])(!1);return{legalLanguageId:o,email:t.email,submitting:r,emailValidator:i,checkEmailValidation:a}},data(){return{forgotError:""}},components:{SubmitButton:R,SvgIcon:f["a"],TextField:C["a"]},computed:{...Object(n["d"])("appState",["forgotPasswordEmail","forgotPassReqSent","resetUsername"]),...Object(n["d"])("userProfileState",["openForgotPasswordModalWithEmail"]),resetUsernameModel:{get(){return this.email},set(e){this.$store.commit("appState/updateState",{property:"resetUsername",value:e})}},disableSubmit(){var e,t;return(null===(e=this.emailValidator)||void 0===e||null===(t=e.email)||void 0===t?void 0:t.$error)||!this.resetUsernameModel||this.submitting}},mounted(){this.email=this.openForgotPasswordModalWithEmail||this.email},beforeUnmount(){this.$store.commit("userProfileState/updateState",{property:"openForgotPasswordModalWithEmail",value:""})},methods:{resetForm(){this.email="",this.submitting=!1},async resetRequest(){Object(v["g"])();const e=await this.checkEmailValidation();this.forgotError="",e&&(this.submitting=!0,this.resetUsernameModel=this.email,this.$store.dispatch("appState/sendPasswordResetRequest").then(e=>{this.submitting=!1,e.success||(this.forgotError=this.$t("i18n.resetRequestError"),this.resetForm())}))}}};i("4c62");const $=I()(N,[["render",y],["__scopeId","data-v-f10bd39c"]]);var P=$,U=i("463a"),M=i("b354");const G={class:Object(s["A"])(["block-basic-item","lsco-col-xs-offset-2","lsco-col-xs-offset-right-2","lsco-col-xs-21","lsco-col-md-offset-1","lsco-col-md-offset-right-1","lsco-col-md-5"])};function D(e,t,i,a,o,r){const n=Object(s["T"])("PreferencesSaved"),l=Object(s["T"])("LogoIcon"),c=Object(s["T"])("CommunicationsQuizQuestion"),d=Object(s["T"])("BlockBasic"),u=Object(s["T"])("ResponsiveModal");return Object(s["K"])(),Object(s["h"])(u,{"modal-name":"communicationsQuiz",class:"communications-quiz","show-back-button":r.canGoBack,onCloseModal:e.close,onBackClicked:r.goBack},{body:Object(s["ib"])(()=>[Object(s["k"])("div",G,[e.inPreferencesSavedConfirmation?(Object(s["K"])(),Object(s["h"])(n,{key:0,onButtonClick:r.onPreferencesSavedButtonClick},null,8,["onButtonClick"])):(Object(s["K"])(),Object(s["h"])(d,{key:1,class:"block-basic-item",headline:e.title,"button-text":e.buttonText,"link-text":e.currentQuestion.skip_text,disabled:e.saving,onButtonClick:e.onButtonClick,onLinkClick:e.onLinkClick},{top:Object(s["ib"])(()=>[Object(s["o"])(l)]),center:Object(s["ib"])(({headlineId:t})=>[Object(s["o"])(c,{class:"block-basic__inner-content","aria-labelledBy":t,answers:e.unsavedAnswersOfCurrentQuestion,"question-number":e.currentQuestionIndexNumber+1,"question-text":e.currentQuestion.text,"question-total":e.questions.length,"data-type":e.currentQuestion.type,onAnswersChange:e.updateAnswers},null,8,["aria-labelledBy","answers","question-number","question-text","question-total","data-type","onAnswersChange"])]),_:1},8,["headline","button-text","link-text","disabled","onButtonClick","onLinkClick"]))])]),_:1},8,["show-back-button","onCloseModal","onBackClicked"])}const B={key:0,class:Object(s["A"])(["prev-button-container"])},F={class:"icon-wrapper"};function V(e,t,i,a,o,r){const n=Object(s["T"])("SvgIcon"),l=Object(s["T"])("ModalItem");return Object(s["K"])(),Object(s["h"])(l,Object(s["y"])({class:["responsive-modal",{"modal--full-width-xs-only":!i.fullWidthMobile,"modal--hide-close":!i.showCloseButton}]},e.$props,{onCloseModal:t[1]||(t[1]=t=>e.$emit("closeModal"))}),{header:Object(s["ib"])(()=>[i.showBackButton?(Object(s["K"])(),Object(s["j"])("div",B,[Object(s["k"])("div",F,[Object(s["o"])(n,{name:"arrow-left",title:"Go back"})]),Object(s["k"])("button",{class:"back-btn",onClick:t[0]||(t[0]=t=>e.$emit("backClicked"))},Object(s["X"])(e.$t("i18n.back")),1)])):Object(s["i"])("",!0)]),body:Object(s["ib"])(()=>[Object(s["S"])(e.$slots,"body",{},void 0,!0)]),_:3},16,["class"])}var K={emits:["closeModal","backClicked"],components:{ModalItem:l["default"],SvgIcon:f["a"]},props:{canClose:{type:Boolean,default:!0},fullWidthMobile:{type:Boolean,default:!0},showBackButton:{type:Boolean,default:!1},showCloseButton:{type:Boolean,default:!0}}};i("9e8f");const W=I()(K,[["render",V],["__scopeId","data-v-35a56ab4"]]);var H=W,z=i("7776"),Q=i("3eea"),q=i("5d65"),Y=i("82ba"),X=i("986e"),Z=i("d9ed"),J=i("6b89"),ee=i("9115"),te={emits:["close"],components:{BlockBasic:z["a"],CommunicationsQuizQuestion:J["a"],LogoIcon:Q["a"],ResponsiveModal:H,PreferencesSaved:Y["a"]},props:{type:{type:String,default:ee["b"].INITIAL}},mixins:[q["a"]],computed:{canGoBack(){return this.currentQuestionIndexNumber>0||this.inPreferencesSavedConfirmation}},methods:{handleSaveSuccess(){this.onLastQuestion?this.goToPreferencesSavedConfirmation():this.currentQuestionIndexNumber+=1},goBack(){this.canGoBack&&(this.inPreferencesSavedConfirmation?this.goToLastQuestion():this.currentQuestionIndexNumber-=1)},onPreferencesSavedButtonClick(){const e=this.currentQuestion.text,t=this.location===ee["b"].INITIAL?"popup":"edit";window.scrollTo(0,0),X["a"].$emit("startShopping"),Object(Z["t"])(t,e,"Start Shopping CTA Click"),this.$emit("close")}}};i("6624");const ie=I()(te,[["render",D],["__scopeId","data-v-007ede6c"]]);var se=ie,ae=i("b337"),oe=i("620b");function re(e,t,i,a,o,r){const n=Object(s["T"])("LogoIcon"),l=Object(s["T"])("RedTabRegistrationSuccessGreetingMainContent"),c=Object(s["T"])("PrivacyPolicyLink"),d=Object(s["T"])("BlockBasic");return Object(s["K"])(),Object(s["h"])(d,{class:"block-basic-item","button-text":e.$t("i18n.launchQuiz"),headline:`${e.$t("i18n.welcome")} ${e.firstName}!`,onButtonClick:r.launchQuiz},{top:Object(s["ib"])(()=>[Object(s["o"])(n,{size:"m"})]),center:Object(s["ib"])(({headlineId:e})=>[Object(s["o"])(l,{class:"block-basic__inner-content","aria-labelledBy":e},null,8,["aria-labelledBy"])]),bottom:Object(s["ib"])(()=>[Object(s["o"])(c,{class:"privacy-policy",onLinkClicked:r.trackPrivacyPolicyLinkClicked},null,8,["onLinkClicked"])]),_:1},8,["button-text","headline","onButtonClick"])}var ne=i("2369"),le=i("8c276"),ce={emits:["quizLaunchClick"],components:{BlockBasic:z["a"],LogoIcon:Q["a"],PrivacyPolicyLink:ne["a"],RedTabRegistrationSuccessGreetingMainContent:le["a"]},computed:{...Object(n["c"])("userProfileState",["firstName"])},methods:{sendAnalytics(e){Object(Z["t"])("pop-up",this.$t("i18n.prefQuizHeading"),e)},launchQuiz(){this.sendAnalytics("Launch Quiz"),this.$emit("quizLaunchClick")},trackPrivacyPolicyLinkClicked(){Object(Z["t"])("pop-up",this.$t("i18n.prefQuizHeading"),"Privacy Policy")}}};i("7a25");const de=I()(ce,[["render",re],["__scopeId","data-v-659e41dc"]]);var ue=de;function me(e,t,i,a,o,r){const n=Object(s["T"])("EmailCheck"),l=Object(s["T"])("RegistrationForm"),c=Object(s["T"])("LoginForm"),d=Object(s["T"])("EnrollmentConfirmation"),u=Object(s["T"])("ForgotPassword"),m=Object(s["T"])("ResponsiveModal");return Object(s["K"])(),Object(s["h"])(m,{class:Object(s["A"])(["registration-gate-modal",{light:"ProductDetail"===this.$route.name},{dark:"ProductDetail"!==this.$route.name}]),"full-width-mobile":!1,"can-close":r.canClose,"show-back-button":r.canGoBack,"show-close-button":r.canClose,onBackClicked:r.onBackButtonClicked,onCloseModal:r.close},{body:Object(s["ib"])(()=>[Object(s["k"])("div",{"data-testid":"registration-gate-content",class:Object(s["A"])(["registration-gate-body","lsco-col-xs-17","lsco-col-md-offset-2","lsco-col-md-offset-right-2","lsco-col-md-7",{"enrollment-confirmation__modal":e.stateName===e.$_states.ENROLLMENT_CONFIRMATION}])},[e.stateName===e.$_states.EMAIL_CHECK?(Object(s["K"])(),Object(s["h"])(n,Object(s["y"])({key:0},r.emailCheckProps,{class:"email-check","initial-email":e.email,"edit-email":e.editEmail,onUserFound:r.onUserFound,onUserNotFound:r.onUserNotFound,onWasMounted:r.trackEmailCheckImpression,onLinkClicked:r.onEmailCheckLinkClicked}),null,16,["initial-email","edit-email","onUserFound","onUserNotFound","onWasMounted","onLinkClicked"])):Object(s["i"])("",!0),e.stateName===e.$_states.REGISTRATION?(Object(s["K"])(),Object(s["h"])(l,Object(s["y"])({key:1},r.registrationFormProps,{"supplied-email":e.email,"onUpdate:supplied-email":t[0]||(t[0]=t=>e.email=t),onUserRegistered:t[1]||(t[1]=t=>e.stateService.send(e.$_events.ENROLLED)),onRedirectAndClose:r.redirectAndCloseModal,onOnEditLinkClick:r.onClickEditEmail,onEtoUserFound:r.onEtoUserFoundDuringRegistration}),null,16,["supplied-email","onRedirectAndClose","onOnEditLinkClick","onEtoUserFound"])):Object(s["i"])("",!0),e.stateName===e.$_states.LOGIN?(Object(s["K"])(),Object(s["h"])(c,Object(s["y"])({key:2},r.loginFormProps,{"supplied-email":e.email,"onUpdate:supplied-email":t[2]||(t[2]=t=>e.email=t),"is-reset-success":e.config.isResetSuccess,onRedirectAndClose:r.redirectAndCloseModal,onOnEditLinkClick:r.onClickEditEmail,onResetPassword:r.onResetPassword}),null,16,["supplied-email","is-reset-success","onRedirectAndClose","onOnEditLinkClick","onResetPassword"])):Object(s["i"])("",!0),e.stateName===e.$_states.ENROLLMENT_CONFIRMATION?(Object(s["K"])(),Object(s["h"])(d,Object(s["y"])({key:3},r.enrollmentConfirmationProps,{onClose:r.close,onRedirectAndClose:r.redirectAndCloseModal}),null,16,["onClose","onRedirectAndClose"])):Object(s["i"])("",!0),e.stateName===e.$_states.FORGOT_PASSWORD?(Object(s["K"])(),Object(s["h"])(u,{key:4,class:"forgot-password"})):Object(s["i"])("",!0)],2)]),_:1},8,["class","can-close","show-back-button","show-close-button","onBackClicked","onCloseModal"])}var he=i("cc37"),be=i("2219");const pe={class:"email-container"},Oe={class:"email__text"},ge=["aria-label"],je={class:"name-container lsco-col-md--show"},Se=["role"],ke=["innerHTML"];function ye(e,t,i,a,o,r){const n=Object(s["T"])("svg-icon"),l=Object(s["T"])("ErrorMessage"),c=Object(s["T"])("TextField"),d=Object(s["T"])("PasswordField"),u=Object(s["T"])("CheckboxItem"),m=Object(s["T"])("ClickwrapNotice"),h=Object(s["T"])("BlockBasic");return Object(s["K"])(),Object(s["h"])(h,{class:Object(s["A"])([" block-basic-item","registration-gate-registration-container",{light:"ProductDetail"===this.$route.name},{dark:"ProductDetail"!==this.$route.name}]),headline:i.headline_text,copy:i.copy,"button-text":e.$t("i18n.joinNow"),"link-text":r.linkText,disabled:r.disabledJoinButton,onButtonClick:r.onButtonClick,onLinkClick:r.onLinkClick},{center:Object(s["ib"])(()=>[Object(s["k"])("div",null,[Object(s["k"])("div",pe,[Object(s["k"])("div",null,[Object(s["o"])(n,{name:"checkmark-circle",title:"Checkmark",height:"24px",width:"24px"}),Object(s["k"])("span",Oe,Object(s["X"])(a.email),1)]),Object(s["k"])("a",{class:"email__edit",onClick:t[0]||(t[0]=t=>e.$emit("onEditLinkClick")),onKeyup:t[1]||(t[1]=Object(s["kb"])(t=>e.$emit("onEditLinkClick"),["enter"]))}," edit ",32)]),Object(s["k"])("form",{method:"POST",class:"registration-form",action:"javascript:void(0);","aria-label":e.$t("i18n.join"),onSubmit:t[6]||(t[6]=(...e)=>r.onButtonClick&&r.onButtonClick(...e))},[a.otherErrorsExist&&"ProductDetail"===this.$route.name?(Object(s["K"])(),Object(s["h"])(l,{key:0,class:"error-message","light-scheme":"","html-message":e.$t("i18n.registrationErrorMessageDefault")},null,8,["html-message"])):Object(s["i"])("",!0),a.otherErrorsExist&&"ProductDetail"!==this.$route.name?(Object(s["K"])(),Object(s["h"])(l,{key:1,class:"error-message","dark-scheme":"","html-message":e.$t("i18n.registrationErrorMessageDefault")},null,8,["html-message"])):Object(s["i"])("",!0),Object(s["k"])("div",je,[Object(s["o"])(c,{modelValue:a.firstName,"onUpdate:modelValue":t[2]||(t[2]=e=>a.firstName=e),class:Object(s["A"])(["registration__input","name__input","lsco-col-md-3"]),"label-text":e.$t("i18n.formFirstNameLabel"),name:r.firstNameFieldName,errors:a.v$.firstName.$errors,placeholder:e.$t("i18n.formFirstNameLabel"),"show-label":!!a.firstName,"validation-options":{errorTextAllReplaceWith:{i18nPath:"errors.regex"}}},null,8,["modelValue","label-text","name","errors","placeholder","show-label","validation-options"]),Object(s["o"])(c,{modelValue:a.lastName,"onUpdate:modelValue":t[3]||(t[3]=e=>a.lastName=e),class:Object(s["A"])(["registration__input","name__input","lsco-col-md-3","lsco-col-md-offset-1"]),"label-text":e.$t("i18n.userProfileLastNameLabel"),name:r.lastNameFieldName,errors:a.v$.lastName.$errors,placeholder:e.$t("i18n.userProfileLastNameLabel"),"show-label":!!a.lastName,"validation-options":{errorTextAllReplaceWith:{i18nPath:"errors.regex"}}},null,8,["modelValue","label-text","name","errors","placeholder","show-label","validation-options"])]),Object(s["o"])(d,{type:"new",modelValue:a.password,"onUpdate:modelValue":t[4]||(t[4]=e=>a.password=e),"aria-describedby":"password-error-message-footer",name:r.passwordFieldName,class:Object(s["A"])(["registration__input","password-input"]),"label-text":e.$t("i18n.passwordText"),"show-errors":!1,"show-label":!!a.password,placeholder:e.$t("i18n.passwordText"),errors:a.v$.password.$errors},null,8,["modelValue","name","label-text","show-label","placeholder","errors"]),Object(s["k"])("p",{id:"password-error-message-footer",class:Object(s["A"])(["password-error-message",{"error--active":a.v$.password.$errors&&a.v$.password.$errors.length>0}]),role:a.v$.password.$errors&&a.v$.password.$errors.length>0?"role":""},Object(s["X"])(e.$t("i18n.passwordValidationText")),11,Se),i.remarketing_checkbox.show_remarketing_checkbox?(Object(s["K"])(),Object(s["h"])(u,{key:2,class:"email-optin__checkbox",id:"email-optin__checkbox",checked:a.emailOptInChecked,"onUpdate:checked":t[5]||(t[5]=e=>a.emailOptInChecked=e)},{default:Object(s["ib"])(()=>[Object(s["k"])("label",{for:"email-optin__checkbox",innerHTML:e.cmsRegistrationContent.clickwrap_checkbox||""},null,8,ke)]),_:1},8,["checked"])):Object(s["i"])("",!0),Object(s["o"])(m,{class:"clickwrap-notice","content-id":r.clickwrapNoticeId,html:e.cmsRegistrationContent.clickwrap_notice||""},null,8,["content-id","html"])],40,ge)])]),_:1},8,["class","headline","copy","button-text","link-text","disabled","onButtonClick","onLinkClick"])}var fe=i("ddbc"),Ee=i("1988"),ve=i("96b7"),Ce=i("bc58"),_e=i("a40e"),Te=i("e7121");const we="create account";var Le={provide:()=>({allowInputLabelAsRequired:!1}),inject:["mq"],mixins:[_e["a"]],emits:["onEditLinkClick","redirectAndClose","userRegistered","etoUserFound"],components:{BlockBasic:z["a"],CheckboxItem:fe["a"],ErrorMessage:Ee["a"],TextField:C["a"],PasswordField:ve["a"],ClickwrapNotice:Ce["a"],SvgIcon:f["a"]},props:{suppliedEmail:{type:String,default:""},email_source_code:{type:String,default:""},headline_text:{type:String,default:""},copy:{type:String,default:""},remarketing_checkbox:{type:Object,default:()=>({show_remarketing_checkbox:!0,remarketing_checkbox_default_clicked:!1})},exit_link:{type:Object,default:()=>({link_text:"",link_url:""})}},setup(e){const{data:t,tempUser:i,v$:s,register:a}=Object(Te["a"])(e);return{firstName:t.firstName,lastName:t.lastName,password:t.password,email:t.email,emailOptInChecked:t.emailOptInChecked,otherErrorsExist:t.otherErrorsExist,submitting:t.submitting,tempUser:i,v$:s,register:a}},computed:{...Object(n["d"])({cmsRegistrationContent:e=>e.cmsState.globalModalAccountCreationContent}),...Object(n["c"])("emailSubscriptionState",["subSource"]),clickwrapNoticeId(){return"clickwrap-notice-reg-footer"},firstNameFieldName(){return this.$t("i18n.formFirstNameLabel").toLowerCase()},lastNameFieldName(){return this.$t("i18n.userProfileLastNameLabel").toLowerCase()},linkText(){var e;return(null===(e=this.exit_link)||void 0===e?void 0:e.link_text)||""},linkUrl(){var e;return(null===(e=this.exit_link)||void 0===e?void 0:e.link_url)||""},passwordFieldName(){return this.$t("i18n.passwordText").toLowerCase()},registrationHeadingComponentProps(){return{setAriaDetailsId:this.clickwrapNoticeId,copy:this.cmsRegistrationContent.copy||"",headline:this.cmsRegistrationContent.headline||""}},subsourceIdentifier(){return this.email_source_code},errorTexts(){return[...this.v$.firstName.$errors.map(e=>e.$message),...this.v$.lastName.$errors.map(e=>e.$message),...this.v$.password.$errors.map(e=>e.$message)]},disabledJoinButton(){return this.errorTexts.length>0||this.submitting||!(this.firstName||this.lastName||this.password)},analyticsModalName(){return"ProductDetail"===this.$route.name?"gated promo pdp":"gated promo plp"}},watch:{suppliedEmail:{handler(e){this.email=e},immediate:!0}},mounted(){this.$_commonAnalyticsPayload={modal_name:this.analyticsModalName,step_name:we},Object(v["f"])({modal_name:this.analyticsModalName}),this.emailOptInChecked=this.remarketing_checkbox.remarketing_checkbox_default_clicked},methods:{onLinkClick(){Object(Z["y"])({...this.$_commonAnalyticsPayload,action_detail:this.linkText}),this.$emit("redirectAndClose",{redirectPath:this.linkUrl})},async onButtonClick(){Object(Z["y"])({...this.$_commonAnalyticsPayload,email_optin:this.emailOptInChecked?"checked":"unchecked",action_detail:this.$t("i18n.joinNow")});const e=this.subSource(this.mq.current,this.subsourceIdentifier);this.$store.commit("emailSubscriptionState/updateState",{property:"subscribedFrom",value:e}),await this.register({onValidFormSubmit:()=>{Object(v["b"])({modal_name:this.analyticsModalName}),Object(v["d"])()},onEtoUserFound:()=>this.$emit("etoUserFound"),onUserRegistered:()=>this.$emit("userRegistered")})}}};i("dd4e");const Ae=I()(Le,[["render",ye],["__scopeId","data-v-7cc39016"]]);var Ie=Ae;const xe={class:"email-container"},Re={class:"email-contain"},Ne={class:"email__text"},$e=["aria-label","set-aria-details-id"],Pe={class:"forgot-password"};function Ue(e,t,i,a,o,r){const n=Object(s["T"])("svg-icon"),l=Object(s["T"])("PasswordField"),c=Object(s["T"])("ErrorMessages"),d=Object(s["T"])("ClickwrapNotice"),u=Object(s["T"])("BlockBasic");return Object(s["K"])(),Object(s["h"])(u,{class:Object(s["A"])([" block-basic-item","registration-gate-login-form",{light:"ProductDetail"===this.$route.name},{dark:"ProductDetail"!==this.$route.name}]),headline:i.headline_text,copy:i.copy,"button-text":i.button_text,"link-text":r.linkText,disabled:!a.password.length>0,onButtonClick:t[6]||(t[6]=e=>r.onButtonClick()),onLinkClick:r.onLinkClick},{center:Object(s["ib"])(()=>[Object(s["k"])("div",null,[Object(s["k"])("div",xe,[Object(s["k"])("div",Re,[Object(s["o"])(n,{name:"checkmark-circle",title:"Checkmark",height:"24px",width:"24px"}),Object(s["k"])("p",Ne,Object(s["X"])(a.email),1)]),Object(s["k"])("a",{class:"email__edit",onClick:t[0]||(t[0]=t=>e.$emit("onEditLinkClick")),onKeyup:t[1]||(t[1]=Object(s["kb"])(t=>e.$emit("onEditLinkClick"),["enter"]))}," edit ",32)]),Object(s["k"])("form",{method:"POST",class:"login-form",action:"javascript:void(0);","aria-label":e.$t("i18n.logIn"),"set-aria-details-id":a.clickwrapNoticeId,onSubmit:t[5]||(t[5]=t=>e.login())},[Object(s["o"])(l,{type:"new",modelValue:a.password,"onUpdate:modelValue":t[2]||(t[2]=e=>a.password=e),"aria-describedby":"password-error-message-footer",name:r.passwordFieldName,class:Object(s["A"])(["registration__input","password-input"]),"label-text":e.$t("i18n.passwordText"),"show-errors":!1,"show-label":!!a.password,placeholder:e.$t("i18n.passwordText"),errors:a.loginValidator.password.$errors},null,8,["modelValue","name","label-text","show-label","placeholder","errors"]),e.passwordCustomErrors.length?(Object(s["K"])(),Object(s["h"])(c,{key:0,"error-texts":e.passwordCustomErrors},null,8,["error-texts"])):Object(s["i"])("",!0),Object(s["k"])("div",Pe,[Object(s["k"])("a",{onClick:t[3]||(t[3]=(...e)=>r.onResetPasswordClick&&r.onResetPasswordClick(...e)),onKeyup:t[4]||(t[4]=Object(s["kb"])((...e)=>r.onResetPasswordClick&&r.onResetPasswordClick(...e),["enter"])),tabindex:"0"},Object(s["X"])(e.$t("i18n.forgotPasswordTitle")),33)]),Object(s["o"])(d,{class:"clickwrap-notice","content-id":a.clickwrapNoticeId,html:r.clickwrapNotice},null,8,["content-id","html"])],40,$e)])]),_:1},8,["class","headline","copy","button-text","link-text","disabled","onLinkClick"])}var Me=i("cb85"),Ge=i("c322"),De=i("a79c"),Be=i("c779");const Fe="Login View",Ve="login account";var Ke={provide:()=>({allowInputLabelAsRequired:!1}),mixins:[Me["a"]],emits:["onEditLinkClick","redirectAndClose","resetPassword"],components:{BlockBasic:z["a"],ClickwrapNotice:Ce["a"],PasswordField:ve["a"],SvgIcon:f["a"],ErrorMessages:Ge["a"]},props:{suppliedEmail:{type:String,default:""},headline_text:{type:String,default:""},copy:{type:String,default:""},button_text:{type:String,default:""},exit_link:{type:Object,default:()=>({link_text:"",link_url:""})}},setup(){const{data:e,tempUser:t,loginValidator:i,checkValidation:a}=Object(Be["a"])(),o=Object(s["Q"])("clickwrap-notice-login-footer"),r=Object(s["Q"])("");return{clickwrapNoticeId:o,email:e.email,password:e.password,tempUser:t,loginValidator:i,checkValidation:a,componentErrorMsgHtml:r}},computed:{...Object(n["d"])({cmsLoginContent:e=>e.cmsState.globalModalLoginContent}),clickwrapNotice(){return this.cmsLoginContent.clickwrap_notice||""},linkText(){var e;return(null===(e=this.exit_link)||void 0===e?void 0:e.link_text)||""},linkUrl(){var e;return(null===(e=this.exit_link)||void 0===e?void 0:e.link_url)||""},passwordFieldName(){return"password"},analyticsModalName(){return"ProductDetail"===this.$route.name?"gated promo pdp":"gated promo plp"}},watch:{suppliedEmail:{handler(e){this.email=e},immediate:!0}},created(){Object(Z["x"])({eventName:Fe,modalName:this.analyticsModalName}),this.$_commonAnalyticsPayload={modal_name:this.analyticsModalName,step_name:Ve},window.onResetPasswordClick=this.onResetPasswordClick},beforeUnmount(){delete window.onResetPasswordClick,this.syncForPersistedEmailInNewForgotPasswordTab("")},methods:{isThereInputError(e,t){return Object(De["a"])({inputName:e,form:t})},syncForPersistedEmailInNewForgotPasswordTab(e){this.$store.commit("userProfileState/updateState",{property:"openForgotPasswordModalWithEmail",value:e})},onButtonClick(){Object(v["c"])({modalName:this.analyticsModalName}),Object(Z["y"])({...this.$_commonAnalyticsPayload,action_detail:this.button_text});const e=this.email;this.login().then(({success:t})=>{t?Object(v["d"])({modal_name:this.analyticsModalName}):(this.componentErrorMsgHtml=this.$t("i18n.wrongPasswordText"),this.email=e)})},onLinkClick(){Object(Z["y"])({...this.$_commonAnalyticsPayload,action_detail:this.linkText}),this.$emit("redirectAndClose",{redirectPath:this.linkUrl})},onResetPasswordClick(){Object(Z["y"])({...this.$_commonAnalyticsPayload,action_detail:this.$t("i18n.forgotPasswordTitle")}),this.$emit("resetPassword",this.email),this.onForgotPasswordClick()}}};i("2452");const We=I()(Ke,[["render",Ue],["__scopeId","data-v-1898e6d5"]]);var He=We;const ze={class:Object(s["A"])(["enrollment-confirmation__section","enrollment-confirmation__heading-container"])},Qe={class:"headline"},qe={class:"copy-container"},Ye={class:"copy"},Xe={class:"enrollment-confirmation__section"},Ze={class:"available-coins"},Je={class:"available-coins__text"},et={class:"secondary-copy"};function tt(e,t,i,a,o,r){const n=Object(s["T"])("SvgIcon"),l=Object(s["T"])("router-link");return Object(s["K"])(),Object(s["j"])("div",{class:Object(s["A"])(["lsco-col-xs-21","lsco-col-md-7","enrollment-confirmation",{light:"ProductDetail"===this.$route.name},{dark:"ProductDetail"!==this.$route.name}])},[Object(s["k"])("section",ze,[Object(s["k"])("h4",Qe,Object(s["X"])(i.headline_text),1),Object(s["k"])("div",qe,[Object(s["k"])("p",Ye,Object(s["X"])(e.$t("i18n.enrollmentCountry")),1),Object(s["k"])("p",null,Object(s["X"])(r.countryOfEnrollment),1)])]),Object(s["k"])("section",Xe,[Object(s["k"])("h5",Ze,[Object(s["o"])(n,{name:"coins",height:"21px",width:"21px"}),Object(s["k"])("span",Je,Object(s["X"])(e.$t("i18n.coins501")),1)]),Object(s["k"])("p",et,Object(s["X"])(i.secondaryCopy),1),i.button_text?(Object(s["K"])(),Object(s["j"])("button",{key:0,class:"button",type:"button",onClick:t[0]||(t[0]=(...e)=>r.onButtonClick&&r.onButtonClick(...e))},Object(s["X"])(i.button_text),1)):Object(s["i"])("",!0),r.linkText?(Object(s["K"])(),Object(s["j"])("a",{key:1,class:"link",href:"javascript:;",onClick:t[1]||(t[1]=(...e)=>r.onLinkClick&&r.onLinkClick(...e))},Object(s["X"])(r.linkText),1)):Object(s["i"])("",!0),r.linkText?Object(s["i"])("",!0):(Object(s["K"])(),Object(s["h"])(l,{key:2,to:e.paths.levis247,onClick:r.learnMoreLinkClick,class:"link"},{default:Object(s["ib"])(()=>[Object(s["n"])(Object(s["X"])(e.$t("i18n.moreCoins")),1)]),_:1},8,["to","onClick"]))])],2)}var it=i("55d9");const st=async()=>Object(it["a"])(i.e("chunk-7b6a9b25").then(i.t.bind(null,"c4f4",7))),at="account created";var ot={emits:["close","redirectAndClose"],data(){return{countriesQuery:null}},components:{SvgIcon:f["a"]},props:{headline_text:{type:String,default:""},secondaryCopy:{type:String,default:""},button_text:{type:String,default:""},exit_link:{type:Object,default:()=>({link_text:"",link_url:""})}},created(){this.$_commonAnalyticsPayload={modal_name:this.analyticsModalName,step_name:at}},async mounted(){this.countriesQuery=await st()},computed:{...Object(n["d"])("userProfileState",["record"]),...Object(n["c"])("userProfileState",["coinsTotal"]),...Object(n["c"])("configState",["paths"]),linkText(){var e;return(null===(e=this.exit_link)||void 0===e?void 0:e.link_text)||""},linkUrl(){var e;return(null===(e=this.exit_link)||void 0===e?void 0:e.link_url)||""},analyticsModalName(){return"ProductDetail"===this.$route.name?"gated promo pdp":"gated promo plp"},countryOfEnrollment(){var e,t,i,s,a,o,r,n;if(!this.record)return"";const l=null!==(e=null===(t=this.record)||void 0===t||null===(i=t.country)||void 0===i?void 0:i.name)&&void 0!==e?e:null===(s=this.record)||void 0===s||null===(a=s.loyaltyProfile)||void 0===a?void 0:a.Country;return l||(null===(o=this.countriesQuery)||void 0===o?void 0:o.getCountry(null===(r=this.record)||void 0===r||null===(n=r.loyaltyProfile)||void 0===n?void 0:n.LoyaltyZoneCode))}},methods:{onButtonClick(){Object(Z["y"])({...this.$_commonAnalyticsPayload,action_detail:this.button_text}),this.$emit("close")},onLinkClick(){Object(Z["y"])({...this.$_commonAnalyticsPayload,action_detail:this.linkText}),this.$emit("redirectAndClose",{redirectPath:this.linkUrl})},learnMoreLinkClick(){Object(Z["y"])({...this.$_commonAnalyticsPayload,action_detail:this.paths.levis247}),this.$emit("close")}}};i("424e");const rt=I()(ot,[["render",tt],["__scopeId","data-v-0ba10f3a"]]);var nt=rt;const lt={EMAIL_CHECK:"email-check",REGISTRATION:"registration",LOGIN:"login",ENROLLMENT_CONFIRMATION:"enrollment-confirmation",FORGOT_PASSWORD:"forgotPassword"},ct={USER_FOUND:"user-found",USER_NOT_FOUND:"user-not-found",ENROLLED:"enrolled",BACK:"back",FORGOT_PASSWORD:"forgotPassword"},dt={initial:lt.EMAIL_CHECK,states:{[lt.EMAIL_CHECK]:{on:{[ct.USER_FOUND]:{target:lt.LOGIN},[ct.USER_NOT_FOUND]:{target:lt.REGISTRATION}}},[lt.REGISTRATION]:{on:{[ct.BACK]:{target:lt.EMAIL_CHECK},[ct.ENROLLED]:{target:lt.ENROLLMENT_CONFIRMATION}}},[lt.LOGIN]:{on:{[ct.BACK]:{target:lt.EMAIL_CHECK},[ct.FORGOT_PASSWORD]:{target:lt.FORGOT_PASSWORD}}},[lt.FORGOT_PASSWORD]:{on:{[ct.BACK]:{target:lt.LOGIN}}}}};const ut="Promotional Modal Impression",mt="email check",ht="login account";var bt={mixins:[Object(d["a"])(dt)],emits:["close","resetPassword","etoUserFound"],components:{EmailCheck:be["a"],EnrollmentConfirmation:nt,LoginForm:He,RegistrationForm:Ie,ResponsiveModal:H,ForgotPassword:P},data:()=>({email:"",editEmail:!1,registrationGateEntry:{}}),computed:{...Object(n["d"])("localization",["country","locale"]),...Object(n["c"])("auth",["loggedIn"]),...Object(n["c"])("configState",["isLoyaltyGatedPDPEnabled"]),canClose(){return this.isLoyaltyGatedPDPEnabled||this.stateName===lt.ENROLLMENT_CONFIRMATION},canGoBack(){return[lt.LOGIN,lt.REGISTRATION,lt.FORGOT_PASSWORD].includes(this.stateName)},emailCheckProps(){var e,t,i;return{...null===(e=this.registrationGateEntry)||void 0===e?void 0:e.existing_email_check,ariaLabelledby:null===(t=this.registrationGateEntry)||void 0===t||null===(i=t.existing_email_check)||void 0===i?void 0:i.headline_text,darkScheme:!0}},registrationFormProps(){var e,t,i;return{...null===(e=this.registrationGateEntry)||void 0===e?void 0:e.create_account_gated_modal,ariaLabelledby:null===(t=this.registrationGateEntry)||void 0===t||null===(i=t.create_account_gated_modal)||void 0===i?void 0:i.headline_text}},loginFormProps(){var e,t,i;return{...null===(e=this.registrationGateEntry)||void 0===e?void 0:e.sign_in_modal,ariaLabelledby:null===(t=this.registrationGateEntry)||void 0===t||null===(i=t.sign_in_modal)||void 0===i?void 0:i.headline_text}},enrollmentConfirmationProps(){var e;const t=(null===(e=this.registrationGateEntry)||void 0===e?void 0:e.enrollment_confirmation)||{},{copy:i,...s}=t;return{...s,secondaryCopy:i,ariaLabelledby:s.headline_text}},analyticsModalName(){return"ProductDetail"===this.$route.name?"gated promo pdp":"gated promo plp"}},watch:{loggedIn(e){if(!e)return;const t=[lt.EMAIL_CHECK,lt.LOGIN].includes(this.stateName);t&&this.close()}},created(){this.$_states=lt,this.$_events=ct,this.trackEmailCheckImpression(),this.fetchCms()},methods:{close(){this.$emit("close")},onEmailCheckLinkClicked({linkUrl:e,linkText:t}){const i={modal_name:this.analyticsModalName,step_name:mt,action_detail:t};Object(Z["y"])(i),this.redirectAndCloseModal({redirectPath:e})},onUserFound(e){this.email=e,this.stateService.send(ct.USER_FOUND)},onUserNotFound(e){this.email=e,this.stateService.send(ct.USER_NOT_FOUND)},redirectAndCloseModal({redirectPath:e}){this.$router.push({path:Object(he["f"])(e,this.country,this.locale)}),this.close()},async fetchCms(){const e="ProductDetail"===this.$route.name?"registration_gate_pdp_v1":"registration_gate_v1",t=await this.$store.dispatch("cmsState/fetchSimpleMappedCmsContentEntryIfNeeded",{contentType:e});this.registrationGateEntry=null===t||void 0===t?void 0:t.entry},trackEmailCheckImpression(){Object(Z["x"])({eventName:ut,modalName:this.analyticsModalName})},onBackButtonClicked(){this.editEmail=!1,this.stateService.send(ct.BACK)},onClickEditEmail(){if(this.editEmail=!0,this.stateName===lt.LOGIN){const e={modal_name:this.analyticsModalName,step_name:ht,action_detail:this.$t("i18n.back")};Object(Z["y"])(e)}this.stateService.send(ct.BACK)},onResetPassword(){this.stateService.send(ct.FORGOT_PASSWORD)},onEtoUserFoundDuringRegistration(e){this.$authEmitter.emit(c["A"].CLOSE_REGISTRATION_GATE),this.$authEmitter.emit(c["A"].MERGE_ACCOUNT,{userEmail:e})}}};i("a7c4");const pt=I()(bt,[["render",me],["__scopeId","data-v-64a4347a"]]);var Ot=pt,gt=i("50f6");const jt={key:1,class:"cms-media-image-container lsco-col-md-12"},St=["aria-label"],kt=["innerHTML"];function yt(e,t,i,a,o,r){const n=Object(s["T"])("svg-icon"),l=Object(s["T"])("heading-container"),c=Object(s["T"])("VCmsMedia"),d=Object(s["T"])("ErrorMessage"),u=Object(s["T"])("TextField"),m=Object(s["T"])("PasswordField"),h=Object(s["T"])("checkbox-item"),b=Object(s["T"])("clickwrap-notice"),p=Object(s["T"])("button-and-link");return Object(s["K"])(),Object(s["j"])("section",{class:Object(s["A"])([r.rootClassObj,"register-content"])},[Object(s["k"])("div",{class:Object(s["A"])(["cms-media",r.leftPanelClassObj])},[i.type===e.$_types.DEFAULT?(Object(s["K"])(),Object(s["h"])(l,{key:0,class:"register-heading-container",title:e.globalModalAccountCreationContent.headline||"",details:e.globalModalAccountCreationContent.copy||""},{"content-above":Object(s["ib"])(()=>[Object(s["o"])(n,{class:Object(s["A"])(["logo--"+r.getBrand,{nonLoyal:e.isNonLoyalty}]),"set-aria-hidden":!1,name:e.logoName,title:e.$t("i18n."+e.logoNameAltTextTranslationName(e.logoName))},null,8,["class","name","title"])]),_:1},8,["title","details"])):i.type===e.$_types.PAGE&&"desktop"===r.mq.current?(Object(s["K"])(),Object(s["j"])("div",jt,[e.globalModalAccountCreationContent?(Object(s["K"])(),Object(s["h"])(c,Object(s["y"])({key:0,class:"cms-media-image"},e.globalModalAccountCreationContent.image_join_page_aem,{"media-link":e.globalModalAccountCreationContent.image_link,"alt-text":e.globalModalAccountCreationContent.image_join_page_alt_text,"contentstack-assets-deprecated-image-url":e.globalModalAccountCreationContent.image_join_page?e.globalModalAccountCreationContent.image_join_page.url:"","contentstack-assets-deprecated-mime-type":e.globalModalAccountCreationContent.image_join_page?e.globalModalAccountCreationContent.image_join_page.content_type:""}),null,16,["media-link","alt-text","contentstack-assets-deprecated-image-url","contentstack-assets-deprecated-mime-type"])):Object(s["i"])("",!0),r.isDockers?Object(s["i"])("",!0):(Object(s["K"])(),Object(s["h"])(n,{key:1,class:Object(s["A"])(["logo--"+r.getBrand,{nonLoyal:e.isNonLoyalty}]),name:e.logoName,title:"Logo"},null,8,["class","name"]))])):Object(s["i"])("",!0)],2),Object(s["k"])("div",{class:Object(s["A"])(["inner-content",r.innerClassObj])},[Object(s["k"])("form",{method:"POST",class:"register-form",action:"javascript:void(0);","aria-label":e.$t("i18n.join"),onSubmit:t[6]||(t[6]=(...e)=>r.onRegisterClick&&r.onRegisterClick(...e))},[i.type!==e.$_types.DEFAULT?(Object(s["K"])(),Object(s["j"])(s["a"],{key:0},[e.globalModalAccountCreationContent?(Object(s["K"])(),Object(s["h"])(l,{key:0,class:"register-form-heading-container",title:e.globalModalAccountCreationContent.headline||"",details:e.globalModalAccountCreationContent.copy||""},Object(s["l"])({_:2},[i.type===e.$_types.POST_SUBSCRIPTION?{name:"content-above",fn:Object(s["ib"])(()=>[Object(s["o"])(n,{class:Object(s["A"])(["logo--"+r.getBrand,{nonLoyal:e.isNonLoyalty}]),name:e.logoName,title:"Logo"},null,8,["class","name"])])}:void 0]),1032,["title","details"])):Object(s["i"])("",!0)],64)):Object(s["i"])("",!0),a.otherErrorsExist?(Object(s["K"])(),Object(s["h"])(d,{key:1,class:Object(s["A"])(["error-message",{"error-message--page":i.type===e.$_types.PAGE},{"error-message--default":i.type===e.$_types.DEFAULT}]),"html-message":e.$t("i18n.registrationErrorMessageDefault")},null,8,["class","html-message"])):Object(s["i"])("",!0),Object(s["k"])("div",{class:Object(s["A"])(["name-container",...r.namesClassObjects.full])},[Object(s["o"])(u,{modelValue:a.firstName,"onUpdate:modelValue":t[0]||(t[0]=e=>a.firstName=e),class:Object(s["A"])(["registration__input","name__input",...r.namesClassObjects.first]),"label-text":e.$t("i18n.formFirstNameLabel"),name:r.firstNameFieldName,errors:a.v$.firstName.$errors,placeholder:e.$t("i18n.formFirstNameLabel"),"show-label":!!a.firstName},null,8,["modelValue","class","label-text","name","errors","placeholder","show-label"]),Object(s["o"])(u,{modelValue:a.lastName,"onUpdate:modelValue":t[1]||(t[1]=e=>a.lastName=e),class:Object(s["A"])(["registration__input","name__input",...r.namesClassObjects.last]),"label-text":e.$t("i18n.userProfileLastNameLabel"),name:r.lastNameFieldName,errors:a.v$.lastName.$errors,placeholder:e.$t("i18n.userProfileLastNameLabel"),"show-label":!!a.lastName},null,8,["modelValue","class","label-text","name","errors","placeholder","show-label"])],2),i.type===e.$_types.DEFAULT||i.type===e.$_types.PAGE?(Object(s["K"])(),Object(s["h"])(u,{key:2,modelValue:a.email,"onUpdate:modelValue":t[2]||(t[2]=e=>a.email=e),class:"registration__input form-field--addition","label-text":e.$t("i18n.formEmailLabel"),errors:a.v$.email.$errors,placeholder:e.$t("i18n.formEmailLabel"),"set-aria-details-id":r.clickwrapNoticeId},null,8,["modelValue","label-text","errors","placeholder","set-aria-details-id"])):Object(s["i"])("",!0),Object(s["o"])(m,{modelValue:a.password,"onUpdate:modelValue":t[3]||(t[3]=e=>a.password=e),class:Object(s["A"])(["registration__input","name__input","password__input"]),"label-text":e.$t("i18n.passwordText"),errors:a.v$.password.$errors,"show-password-help-text":""},null,8,["modelValue","label-text","errors"]),i.type!==e.$_types.POST_SUBSCRIPTION?(Object(s["K"])(),Object(s["h"])(h,{key:3,class:"unsubscribe-checkbox",id:"unsubscribe-checkbox",checked:a.emailOptInChecked,"onUpdate:checked":t[4]||(t[4]=e=>a.emailOptInChecked=e)},{default:Object(s["ib"])(()=>[Object(s["k"])("label",{for:"unsubscribe-checkbox",innerHTML:e.globalModalAccountCreationContent.clickwrap_checkbox||""},null,8,kt)]),_:1},8,["checked"])):Object(s["i"])("",!0),Object(s["o"])(b,{"content-id":r.clickwrapNoticeId,html:e.globalModalAccountCreationContent.clickwrap_notice||""},null,8,["content-id","html"]),Object(s["o"])(p,{class:"register-button-n-link","button-text":e.$t("i18n.join"),"link-text":e.$t("i18n.logInWithAnExistingAccount"),onLinkClick:t[5]||(t[5]=t=>e.$emit("login")),disabled:r.submitDisabled||a.submitting},null,8,["button-text","link-text","disabled"])],40,St)],2)],2)}var ft=i("a862"),Et=i("f0ac"),vt=i("2c0f"),Ct=i("e137"),_t=i("6441"),Tt=i("dc80"),wt={mixins:[E["a"],Et["a"]],inject:["mq"],emits:["login","existingUserFound","userCreated"],components:{ButtonAndLink:ft["a"],CheckboxItem:fe["a"],ClickwrapNotice:Ce["a"],ErrorMessage:Ee["a"],HeadingContainer:vt["a"],SvgIcon:f["a"],VCmsMedia:_t["a"],PasswordField:ve["a"],TextField:C["a"]},props:{useEmail:{type:String,default:""},type:{type:String,default:Tt["c"].DEFAULT,validate(e){return!!Tt["c"].includes(e)&&!(e===Tt["c"].POST_SUBSCRIPTION&&!this.useEmail)}},subsourceIdentifier:{type:String,default:""}},setup(e){const{data:t,tempUser:i,v$:s,register:a}=Object(Te["a"])(e);return{firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password,emailOptInChecked:t.emailOptInChecked,otherErrorsExist:t.otherErrorsExist,submitting:t.submitting,tempUser:i,v$:s,register:a}},data(){return{emailValidationServerErrors:[]}},computed:{...Object(n["d"])("cmsState",["globalModalAccountCreationContent"]),...Object(n["d"])("localization",["locale","country"]),...Object(n["c"])("localization",["isNonLoyaltyEuCountry"]),...Object(n["c"])("configState",["isNonLoyalty","isRedTabEnabled","isLevis247Enabled","logoNameAltTextTranslationName","logoName","paths"]),...Object(n["c"])("emailSubscriptionState",["subSource"]),...Object(n["c"])("userProfileState",["uid"]),clickwrapNoticeId(){return"register-clickwrap-notice"},emailValidationOptions(){return{errorTextAllReplaceWith:{i18nPath:"errors.regex"},customErrors:this.emailValidationServerErrors}},iconName(){return this.isRedTabEnabled?"red-tab-logo":this.isLevis247Enabled?"levis-247-logo":"levis-logo"},isDockers(){return"dockers"===Object(Ct["a"])()},rootClassObj(){let e=["register-"+this.type];return this.type===Tt["c"].DEFAULT?e=["lsco-col-md-offset-0","lsco-col-md-15","lsco-col-md-offset-right-1"]:this.type===Tt["c"].POST_SUBSCRIPTION&&(e=["lsco-col-md-offset-2","lsco-col-md-7","lsco-col-md-offset-right-2"]),e},leftPanelClassObj(){return{"lsco-col-xs-21":!this.type===Tt["c"].DEFAULT,"lsco-col-xs-25":this.type===Tt["c"].DEFAULT,"lsco-col-md-8":this.type===Tt["c"].DEFAULT,"lsco-row-md--middle":this.type!==Tt["c"].PAGE}},innerClassObj(){switch(this.type){case Tt["c"].DEFAULT:return["lsco-col-xs-offset-2","lsco-col-xs-21","lsco-col-md-offset-1","lsco-col-md-6"];case Tt["c"].POST_SUBSCRIPTION:return["lsco-col-xs-offset-2","lsco-col-xs-21","lsco-col-md-offset-0","lsco-col-md-7"];case Tt["c"].PAGE:return["lsco-col-xs-offset-2","lsco-col-xs-21","lsco-col-md-offset-3","lsco-col-md-7"];default:return[]}},namesClassObjects(){return this.type!==Tt["c"].POST_SUBSCRIPTION||"mobile"===this.mq.current?{full:["first-child",{"name-container--page":this.type===Tt["c"].PAGE}],first:["first-name-input"],last:[]}:{full:["name-row","first-child",{"name-container--page":this.type===Tt["c"].PAGE}],first:["lsco-col-md-3"],last:["lsco-col-md-3","lsco-col-md-offset-1"]}},getBrand(){return Object(Ct["a"])()},firstNameFieldName(){return this.$t("i18n.formFirstNameLabel").toLowerCase()},lastNameFieldName(){return this.$t("i18n.userProfileLastNameLabel").toLowerCase()},passwordFieldName(){return this.$t("i18n.passwordText").toLowerCase()},interactionTrackingCallParams(){const e=this.emailOptInChecked?"yes":"no",t=`email: ${this.email}, subscribe: ${e}`;return{section:"join modal",actionFields:t}},submitDisabled(){return 0===this.firstName.length&&0===this.lastName.length&&0===this.email.length&&0===this.password.length}},created(){this.$_types=Tt["c"]},mounted(){this.isRedTabEnabled&&(this.emailOptInChecked=!0),this.sendViewAnalytics()},methods:{resetServerErrors(){this.emailValidationServerErrors=[],this.otherErrorsExist=!1},async onRegisterClick(){this.useEmail&&(this.email=this.useEmail),this.isLevis247Enabled&&Object(Z["c"])("join modal");const{section:e,actionFields:t}=this.interactionTrackingCallParams;await this.register({onEtoUserFound:()=>this.$emit("existingUserFound",this.email,!0),onExistingLevisUserFound:()=>this.$emit("existingUserFound",this.email,!1,!0),onValidFormSubmit:()=>Object(Z["j"])(e,t),onUserRegistered:()=>this.$emit("userCreated"),referralId:this.getReferralId()})},getReferralId(){const{name:e,query:t}=this.$route,i="storeid";return e===c["Y"].REGISTER&&null!==t&&void 0!==t&&t[i]?null===t||void 0===t?void 0:t[i]:null},sendViewAnalytics(){this.type!==Tt["c"].PAGE&&Object(v["f"])()}}};i("8e0b");const Lt=I()(wt,[["render",yt],["__scopeId","data-v-0672c9da"]]);var At=Lt;const It={class:"welcome-content"},xt=["aria-label"],Rt={class:"lsco-col-md-offset-1 lsco-col-md-offset-right-1 lsco-col-md-5"},Nt=["aria-label","disabled"];function $t(e,t,i,a,o,r){const n=Object(s["T"])("heading-container"),l=Object(s["T"])("TextField"),c=Object(s["T"])("clickwrap-notice");return Object(s["K"])(),Object(s["j"])("section",It,[Object(s["o"])(n,{title:e.globalModalEmailSignupWelcomeContent.headline,details:e.globalModalEmailSignupWelcomeContent.copy},null,8,["title","details"]),Object(s["k"])("form",{method:"POST",class:"welcome-form",action:"javascript:void(0);","aria-label":e.$t("i18n.signUp"),onSubmit:t[1]||(t[1]=(...e)=>r.subscribeUser&&r.subscribeUser(...e))},[Object(s["o"])(l,{modelValue:a.email,"onUpdate:modelValue":t[0]||(t[0]=e=>a.email=e),ref:"emailInput",class:"email-input","label-text":e.$t("i18n.formEmailLabel"),errors:a.emailValidator.email.$errors,"set-aria-details-id":a.legalLanguageId},null,8,["modelValue","label-text","errors","set-aria-details-id"]),Object(s["o"])(c,{"content-id":a.legalLanguageId,html:e.globalModalEmailSignupWelcomeContent.clickwrap_notice,class:"legal-language"},null,8,["content-id","html"]),Object(s["k"])("div",Rt,[Object(s["k"])("button",{class:"welcome-btn","aria-label":e.$t("i18n.signUp"),disabled:!(a.email.length>0)||a.submitting},Object(s["X"])(e.$t("i18n.signUp")),9,Nt)])],40,xt)])}var Pt=i("b3a5"),Ut=i("eccd");const Mt={SECTION:"lightbox",ACTION_SUBMIT:"submitted",ACTION_SUCCESS:"success",ACTION_DUPLICATE:"duplicate"};var Gt={inject:["mq"],emits:["subscribeSuccess"],components:{TextField:C["a"],HeadingContainer:vt["a"],ClickwrapNotice:Ce["a"]},setup(e){const{data:t,emailValidator:i,checkEmailValidation:a}=Object(_["a"])(e),o=Object(s["Q"])("welcome-content-legal-language-id"),r=Object(s["Q"])(!1);return{legalLanguageId:o,email:t.email,submitting:r,emailValidator:i,checkEmailValidation:a}},computed:{...Object(n["d"])("cmsState",["globalModalEmailSignupWelcomeContent"]),...Object(n["d"])("localization",["locale","country"]),...Object(n["c"])("emailSubscriptionState",["subscribeLoyaltyFlag","subSource"])},mounted(){this.$store.commit("userProfileState/updateState",{property:"welcomed",value:!0}),this.$nextTick(()=>{this.$refs.emailInput.$el.querySelector("input").focus()})},methods:{prepareRichText(e){return Object(Ut["c"])(e,this.country,this.locale)},async subscribeUser(){Object(Pt["g"])("userEmail");const e=await this.checkEmailValidation();if(e){var t;this.submitting=!0,Object(Pt["b"])(Mt.SECTION,Mt.ACTION_SUBMIT);const e=this.subSource(this.mq.current,null===(t=this.globalModalEmailSignupWelcomeContent)||void 0===t?void 0:t.email_source_code);this.$store.commit("emailSubscriptionState/updateState",{property:"subscribedFrom",value:e}),this.$store.dispatch("emailSubscriptionState/checkAndSubscribeUser",{email:this.email,loyalty:this.subscribeLoyaltyFlag(),source:e}).then(({alreadySubscribed:e,isRegisteredUser:t})=>{this.submitting=!1,e?Object(Pt["b"])(Mt.SECTION,Mt.ACTION_DUPLICATE):Object(Pt["b"])(Mt.SECTION,Mt.ACTION_SUCCESS),this.$emit("subscribeSuccess",{alreadySubscribed:e,isRegisteredUser:t,userEmail:this.email})}).catch(e=>{throw this.submitting=!1,new Error(e)})}}}};i("0b49");const Dt=I()(Gt,[["render",$t],["__scopeId","data-v-a5fee0f6"]]);var Bt=Dt;const Ft={class:"copy-text"},Vt={key:0,class:"clickwrap-checkbox"},Kt={for:"unsubscribe-checkbox"},Wt=["innerHTML"],Ht={class:"lsco-col-md-offset-1 lsco-col-md-offset-right-1 lsco-col-md-5"},zt=["aria-label","disabled"],Qt={class:"link-item__link"};function qt(e,t,i,a,o,r){const n=Object(s["T"])("VCmsMedia"),l=Object(s["T"])("TextField"),c=Object(s["T"])("checkbox-item"),d=Object(s["T"])("clickwrap-notice"),u=Object(s["T"])("router-link"),m=Object(s["U"])("activate-when-visible");return a.emailSignupGateEntry?(Object(s["K"])(),Object(s["j"])("section",{key:0,class:Object(s["A"])([r.rootClassObj,"email-signup-gate"])},[r.message?(Object(s["K"])(),Object(s["j"])(s["a"],{key:0},[e.objectHasKeys(r.message.eyebrow_image_aem)||r.message.eyebrow_image?Object(s["jb"])((Object(s["K"])(),Object(s["h"])(n,Object(s["y"])({key:0,class:"lsco-col-xs-17 lsco-col-md-7"},r.message.eyebrow_image_aem,{"alt-text":r.message.eyebrow_image_alt_text,"use-intrinsic-size":!0,"contentstack-assets-deprecated-image-url":r.message.eyebrow_image?r.message.eyebrow_image.url:"","contentstack-assets-deprecated-mime-type":r.message.eyebrow_image?r.message.eyebrow_image.content_type:""}),null,16,["alt-text","contentstack-assets-deprecated-image-url","contentstack-assets-deprecated-mime-type"])),[[m]]):(Object(s["K"])(),Object(s["j"])("div",{key:1,class:"eyebrow-text",style:Object(s["C"])({color:r.message.eyebrow_color})},Object(s["X"])(r.message.eyebrow_text),5)),Object(s["k"])("div",{id:"email-signup-gate-id",class:"headline-text",style:Object(s["C"])({color:r.message.headline_color})},Object(s["X"])(r.message.headline_text),5),Object(s["k"])("div",Ft,Object(s["X"])(r.message.copy),1)],64)):Object(s["i"])("",!0),Object(s["k"])("form",{method:"POST",class:"email-signup-gate-form",action:"javascript:void(0);","aria-labelledby":"email-signup-gate-id",onSubmit:t[4]||(t[4]=e=>r.subscribeUser())},[Object(s["o"])(l,{id:"email-field",class:"email-input",modelValue:a.email,"onUpdate:modelValue":t[0]||(t[0]=e=>a.email=e),"show-label":!0,"is-required":!1,"label-text":e.$t("i18n.formEmailLabel"),placeholder:e.$t("i18n.formEmailLabel"),errors:a.emailValidator.email.$errors},null,8,["modelValue","label-text","placeholder","errors"]),r.clickwrapCheckboxText?(Object(s["K"])(),Object(s["j"])("div",Vt,[Object(s["o"])(c,{class:"unsubscribe-checkbox",id:"unsubscribe-checkbox",checked:a.clickWrapCheckboxState,"onUpdate:checked":t[1]||(t[1]=e=>a.clickWrapCheckboxState=e)},{default:Object(s["ib"])(()=>[Object(s["k"])("label",Kt,[Object(s["k"])("div",{innerHTML:r.clickwrapCheckboxText},null,8,Wt)])]),_:1},8,["checked"])])):Object(s["i"])("",!0),Object(s["o"])(d,{html:r.clickwrapNotice},null,8,["html"]),Object(s["k"])("div",Ht,[Object(s["k"])("button",{class:"signup-gate-btn","aria-label":a.emailSignupGateEntry.link_text||e.$t("i18n.continue"),disabled:!a.email.length>0},Object(s["X"])(a.emailSignupGateEntry.link_text||e.$t("i18n.continue")),9,zt)]),Object(s["k"])("div",{onClick:t[2]||(t[2]=(...e)=>r.returnToHome&&r.returnToHome(...e)),onKeyup:t[3]||(t[3]=Object(s["kb"])((...e)=>r.returnToHome&&r.returnToHome(...e),["enter"]))},[Object(s["o"])(u,{class:"link-item__link",to:r.exitLinkUrl},{default:Object(s["ib"])(()=>[Object(s["k"])("span",Qt,Object(s["X"])(r.exitLinkText),1)]),_:1},8,["to"])],32),Object(s["o"])(d,{"content-id":a.legalLanguageId,class:"legal-language",html:r.legalFootnote},null,8,["content-id","html"])],32)],2)):Object(s["i"])("",!0)}var Yt=i("7c5f"),Xt=i("5152"),Zt={name:"VCmsModalBody",inject:["mq"],emits:["closeModal"],mixins:[E["a"],Et["a"],Yt["a"]],components:{TextField:C["a"],VCmsMedia:_t["a"],ClickwrapNotice:Ce["a"],CheckboxItem:fe["a"]},setup(){const{data:e,emailValidator:t,checkEmailValidation:i}=Object(_["a"])(),a=Object(s["Q"])("footer-email-legal-language-id"),o=Object(s["Q"])("{}"),r=Object(s["Q"])(!1);return{legalLanguageId:a,email:e.email,submitting:r,clickWrapCheckboxState:!1,checkEmailValidation:i,emailValidator:t,emailSignupGateEntry:o}},directives:{"activate-when-visible":Xt["a"]},computed:{...Object(n["d"])("localization",["locale","country"]),...Object(n["d"])("auth",["loggedIn"]),...Object(n["c"])("configState",["paths"]),...Object(n["c"])("emailSubscriptionState",["subscribeLoyaltyFlag","subSource"]),...Object(n["d"])("cmsState",["globalModalEmailSignupGateContent"]),rootClassObj(){return["lsco-col-xs-offset-2","lsco-col-xs-offset-right-2","lsco-col-md-7"]},message(){var e,t,i,s,a;return null!==this&&void 0!==this&&null!==(e=this.$route)&&void 0!==e&&null!==(t=e.query)&&void 0!==t&&null!==(i=t.camp)&&void 0!==i&&i.match(/^cme/i)?null===(a=this.emailSignupGateEntry)||void 0===a?void 0:a.campaign_cme_message:null===(s=this.emailSignupGateEntry)||void 0===s?void 0:s.default_message},clickwrapNotice(){var e;return(null===(e=this.emailSignupGateEntry)||void 0===e?void 0:e.clickwrap_notice)||""},clickwrapCheckboxText(){var e;return Object(Ut["c"])(null===(e=this.emailSignupGateEntry)||void 0===e?void 0:e.clickwrap_checkbox,this.country,this.locale)||""},legalFootnote(){var e;return(null===(e=this.emailSignupGateEntry)||void 0===e?void 0:e.clickwrap_footnote)||""},exitLinkText(){var e,t;return(null===(e=this.emailSignupGateEntry)||void 0===e||null===(t=e.exit_link)||void 0===t?void 0:t.link_text)||this.$t("i18n.cancel")},exitLinkUrl(){var e,t;return null!==(e=this.emailSignupGateEntry)&&void 0!==e&&null!==(t=e.exit_link)&&void 0!==t&&t.link_url?`/${this.country}/${this.locale}${this.emailSignupGateEntry.exit_link.link_url}`:`/${this.country}/${this.locale}/`}},created(){this.fetchCms()},mounted(){var e;this.$store.commit("userProfileState/updateState",{property:"welcomed",value:!0}),this.clickWrapCheckboxState=Boolean(null===(e=this.emailSignupGateEntry)||void 0===e?void 0:e.clickwrap_checkbox_default_checked),this.$nextTick(()=>{document.getElementById("email-field").focus()})},methods:{async fetchCms(){const e=await this.$store.dispatch("cmsState/fetchSimpleMappedCmsContentEntryIfNeeded",{contentType:"email_signup_gate_v1"});this.emailSignupGateEntry=null===e||void 0===e?void 0:e.entry},resetServerErrors(){this.emailValidationServerErrors=[]},returnToHome(){this.$emit("closeModal","authTypeComponent")},async subscribeUser(){Object(Pt["g"])("userEmail"),this.resetServerErrors();const e=await this.checkEmailValidation();if(e){if(this.clickwrapCheckboxText&&!this.clickWrapCheckboxState)return this.$store.commit("emailSubscriptionState/updateState",{property:"isOptedOutOfEmail",value:!0}),void this.exitSignupGate();this.submitting=!0;const e=this.subSource(this.mq.current,this.emailSignupGateEntry.email_source_code);this.$store.commit("emailSubscriptionState/updateState",{property:"subscribedFrom",value:e}),this.$store.dispatch("emailSubscriptionState/checkAndSubscribeUser",{email:this.email,source:e,loyalty:this.subscribeLoyaltyFlag()}).catch(e=>{throw this.$store.commit("emailSubscriptionState/updateState",{property:"isEmailSignupError",value:!0}),new Error(e)}).finally(()=>{this.exitSignupGate()})}},exitSignupGate(){this.submitting=!1,this.$emit("closeModal")}}};i("be1a");const Jt=I()(Zt,[["render",qt],["__scopeId","data-v-f153cafe"]]);var ei=Jt;const ti={class:"success-details"};function ii(e,t,i,a,o,r){const n=Object(s["T"])("svg-icon"),l=Object(s["T"])("Levis247RegistrationSuccessContentHeader"),c=Object(s["T"])("heading-container"),d=Object(s["T"])("Levis247RegistrationSuccessContentBody"),u=Object(s["T"])("button-and-link"),m=Object(s["T"])("modal-wrapper");return Object(s["K"])(),Object(s["h"])(m,{"modal-name":"successLSERegister",onCloseModal:r.closeModal,class:Object(s["A"])([{"merged-header":i.type===e.$_types.MERGED},"success-content"])},{header:Object(s["ib"])(()=>[Object(s["k"])("div",null,[Object(s["o"])(c,{class:"success-header lsco-col-md-10",title:r.title,details:r.subtitle},Object(s["l"])({"content-above":Object(s["ib"])(()=>[Object(s["o"])(n,{name:e.logoName,title:"Logo"},null,8,["name"])]),_:2},[i.type===e.$_types.DEFAULT?{name:"details",fn:Object(s["ib"])(()=>[Object(s["o"])(l,{class:"content-header","details-id":"signup-lse-registration-success-content-details"})])}:void 0]),1032,["title","details"])])]),body:Object(s["ib"])(()=>[Object(s["k"])("div",null,[Object(s["k"])("div",ti,[i.type===e.$_types.DEFAULT?(Object(s["K"])(),Object(s["h"])(d,{key:0})):Object(s["i"])("",!0),Object(s["o"])(u,{class:Object(s["A"])(["button-and-link",{merged:i.type===e.$_types.MERGED}]),"button-text":e.$t("i18n.startShopping"),"link-text":e.$t("i18n.moreCoins"),onButtonClick:t[0]||(t[0]=e=>r.startShopping()),onLinkClick:t[1]||(t[1]=e=>r.linkClick())},null,8,["class","button-text","link-text"])])])]),_:1},8,["onCloseModal","class"])}var si=i("76a4"),ai=i.n(si),oi=i("f984"),ri=i("fdf8");const ni=async()=>Object(it["a"])(i.e("chunk-7b6a9b25").then(i.t.bind(null,"c4f4",7)));var li={name:"SignupSuccessModal",emits:["closeModal"],components:{ModalWrapper:l["default"],HeadingContainer:vt["a"],SvgIcon:f["a"],ButtonAndLink:ft["a"],Levis247RegistrationSuccessContentBody:oi["a"],Levis247RegistrationSuccessContentHeader:ri["a"]},data(){return{fiveOoneCoins:ai.a,countriesQuery:null}},props:{type:{type:String,validate(e){return!!Tt["b"].includes(e)},default:""}},computed:{...Object(n["d"])("userProfileState",["record"]),...Object(n["d"])("cart",["loyaltyData"]),...Object(n["c"])("configState",["logoName","paths"]),...Object(n["c"])("userProfileState",["coinsTotal"]),countryOfEnrollment(){var e,t,i,s,a,o,r,n;if(!this.record)return"";const l=null!==(e=null===(t=this.record)||void 0===t||null===(i=t.country)||void 0===i?void 0:i.name)&&void 0!==e?e:null===(s=this.record)||void 0===s||null===(a=s.loyaltyProfile)||void 0===a?void 0:a.Country;return l||(null===(o=this.countriesQuery)||void 0===o?void 0:o.getCountry(null===(r=this.record)||void 0===r||null===(n=r.loyaltyProfile)||void 0===n?void 0:n.LoyaltyZoneCode))},mergedSuccess(){return this.type===Tt["b"].MERGED},title(){return this.mergedSuccess?this.$t("i18n.accountsMergedTitle"):this.$t("i18n.success247Account")},subtitle(){return this.mergedSuccess?this.$t("i18n.accountsMergedSubtitle",{_coins_:this.coins,_country_:this.countryOfEnrollment}):""},coins(){var e;return null===(e=this.loyaltyData)||void 0===e?void 0:e.totalPoints}},methods:{startShopping(){Object(Z["i"])(),this.closeModal()},closeModal(){Object(Z["d"])({section:"link success modal",actionDetail:"",customerUser247:"Y",customerCountryEnrollment:this.countryOfEnrollment,customerCoinsAvailable:this.coinsTotal}),this.$emit("closeModal",this.modalName)},linkClick(){Object(Z["g"])({customerCountryEnrollment:this.countryOfEnrollment,customerCoinsAvailable:this.coinsTotal}),this.$store.dispatch("userProfileState/track247OpenInteractionLearnMore"),this.$router.push({path:this.paths.levis247}),this.closeModal()},getLoyaltyPoints(){this.$store.dispatch("userProfileState/fetchLoyaltyData").then(e=>this.$store.commit("cart/updateLoyaltyData",e))}},async created(){if(this.$_types=Tt["b"],this.type===Tt["b"].MERGED&&this.record.loyaltyID){await this.getLoyaltyPoints();const e="join success modal";Object(Z["f"])(e,"Y",this.countryOfEnrollment,this.coinsTotal)}},async mounted(){this.countriesQuery=await ni()}};i("f1cf");const ci=I()(li,[["render",ii],["__scopeId","data-v-df5dad9c"]]);var di=ci,ui=i("d68a");const mi=e=>(Object(s["N"])("data-v-52744031"),e=e(),Object(s["L"])(),e),hi=mi(()=>Object(s["k"])("div",{class:"separator lsco-col-md-1"},null,-1)),bi={method:"POST",class:"join-form","aria-label":"Join loyalty",action:"javascript:void(0);"},pi={class:"country-content"},Oi=["innerHTML"],gi={class:"name"};function ji(e,t,i,a,o,r){const n=Object(s["T"])("svg-icon"),l=Object(s["T"])("heading-container"),c=Object(s["T"])("button-and-link");return Object(s["K"])(),Object(s["j"])("section",{class:Object(s["A"])(["join-content",r.rootClassObj])},[hi,Object(s["k"])("div",null,[Object(s["o"])(l,{class:"join-heading-container",title:e.$t("i18n.eligibleAccountTitle"),details:e.$t("i18n.eligibleAccountSubtitle")},{"content-above":Object(s["ib"])(()=>[Object(s["o"])(n,{name:e.logoName,title:"Logo"},null,8,["name"])]),_:1},8,["title","details"]),Object(s["k"])("form",bi,[Object(s["k"])("div",pi,[Object(s["k"])("div",{class:"label",innerHTML:e.$t("i18n.countryOfEnrollment",{_country_:null})},null,8,Oi),Object(s["k"])("div",gi,Object(s["X"])(r.countryOfEnrollment),1)]),Object(s["o"])(c,{class:"button-and-link","button-only":"","button-text":e.$t("i18n.joinNow"),onButtonClick:r.join},null,8,["button-text","onButtonClick"])])])],2)}const Si=async()=>Object(it["a"])(i.e("chunk-7b6a9b25").then(i.t.bind(null,"c4f4",7)));var ki={name:"JoinLoyaltyContent",mixins:[E["a"],Et["a"]],emits:["joinSuccess"],components:{ButtonAndLink:ft["a"],HeadingContainer:vt["a"],SvgIcon:f["a"]},data(){return{countriesQuery:null}},computed:{...Object(n["c"])("configState",["logoName"]),...Object(n["d"])("localization",["country","locale"]),...Object(n["d"])("userProfileState",["record"]),countryOfEnrollment(){var e;return null===(e=this.countriesQuery)||void 0===e?void 0:e.getCountry(this.country)},rootClassObj(){return["lsco-col-xs-offset-2","lsco-col-xs-offset-right-2","lsco-col-md-7"]}},async mounted(){this.countriesQuery=await Si()},methods:{join(){var e;this.submitting=!0;const t={username:this.record.uid,zoneCode:null===(e=this.countriesQuery)||void 0===e?void 0:e.convertAlphaCode(this.country),languageCode:this.locale.substr(0,2)};this.$store.dispatch("registerUser/registerLSEAccount",t).then(e=>{null!==e&&void 0!==e&&e.loyaltyID&&this.$emit("joinSuccess")})}}};i("547e");const yi=I()(ki,[["render",ji],["__scopeId","data-v-52744031"]]);var fi=yi;const Ei={class:"reset-password"},vi={class:"fp-body","data-testid":"reset-password-content"},Ci={class:"modal-title"},_i=["aria-label"],Ti={key:0,class:"password-alert",role:"alert"};function wi(e,t,i,a,o,r){const n=Object(s["T"])("PasswordField"),l=Object(s["T"])("SubmitButton");return Object(s["K"])(),Object(s["j"])("div",Ei,[Object(s["k"])("div",vi,[Object(s["k"])("h4",Ci,[Object(s["k"])("span",null,Object(s["X"])(e.$t("i18n.resetPassBtnText")),1)]),Object(s["k"])("div",{class:"p-container",role:"form","aria-label":e.$t("i18n.resetPassBtnText")},[Object(s["o"])(n,{modelValue:a.password,"onUpdate:modelValue":t[0]||(t[0]=e=>a.password=e),name:"password",type:"new",class:Object(s["A"])(["password-input","new-password"]),"label-text":e.$t("i18n.newPasswordText"),errors:a.passwordValidator.password.$errors},null,8,["modelValue","label-text","errors"]),r.showPasswordHelpText?(Object(s["K"])(),Object(s["j"])("div",Ti,Object(s["X"])(e.$t("i18n.passwordLengthHint")),1)):Object(s["i"])("",!0),Object(s["o"])(n,{modelValue:a.confirmPassword,"onUpdate:modelValue":t[1]||(t[1]=e=>a.confirmPassword=e),name:"confirmPassword",type:"confirm",rules:r.passwordConfirmationRules,"validation-options":{errorTextAllReplaceWith:{i18nPath:"abovePasswordMismatch"}},"custom-errors":o.serverErrors,class:Object(s["A"])(["password-input","confirm-password"]),"label-text":e.$t("i18n.confirmPasswordText"),placeholder:e.$t("i18n.confirmPasswordText"),errors:a.passwordValidator.confirmPassword.$errors},null,8,["modelValue","rules","custom-errors","label-text","placeholder","errors"]),Object(s["o"])(l,{id:"forgotPasswordSubmit",class:"reset-password-submit-btn",onClicked:t[2]||(t[2]=e=>r.resetPasswordSubmit()),disabled:!a.password.length>0||o.submitting||r.validationErrors,text:e.$t("i18n.reset")},null,8,["disabled","text"])],8,_i)])])}var Li=i("d035"),Ai={name:"ResetPassword",mixins:[Et["a"],Me["a"]],props:{type:{type:String,default:Tt["a"].DEFAULT}},data(){return{show:{confirmPassword:!1,password:!1},serverErrors:[],submitting:!1}},components:{SubmitButton:R,PasswordField:ve["a"]},setup(e){const{data:t,passwordValidator:i,checkPasswordValidation:a,v$:o}=Object(Li["a"])(e),r=Object(s["Q"])("footer-email-legal-language-id"),n=Object(s["Q"])("{}");return{legalLanguageId:r,password:t.password,confirmPassword:t.confirmPassword,clickWrapCheckboxState:!1,checkPasswordValidation:a,passwordValidator:i,passwordResetGateEntry:n,v$:o}},computed:{...Object(n["d"])("userUpdatePasswordState",["newPassword","confirmedNewPassword"]),passwordConfirmationRules(){return this.newPassword?"is:"+this.newPassword:""},showPasswordHelpText(){return!this.passwordValidator.password.$error&&this.password.length<8},validationErrors(){return"undefined"===typeof this.passwordValidator||this.passwordValidator.$error}},methods:{async resetPasswordSubmit(){this.serverErrors=[],await this.$nextTick();const e=await this.checkPasswordValidation();e&&(this.submitting=!0,this.$store.commit("userUpdatePasswordState/updateState",{property:"newPassword",value:this.password}),this.$store.commit("userUpdatePasswordState/updateState",{property:"confirmedNewPassword",value:this.confirmPassword}),this.$store.dispatch("appState/resetPassword").then(e=>{if(e.success)this.$authEmitter.emit(c["A"].START_LOGIN,{type:Tt["a"].RESET_RESULT,isResetSuccess:e.success});else if(e.message.some(e=>e===c["jb"].INVALID_TOKEN))this.$authEmitter.emit(c["A"].START_LOGIN,{type:Tt["a"].RESET_RESULT,isResetSuccess:!1});else{const{newPasswordConfirmation:t}=this.serverErrMsgMapper(e.message);this.serverErrors=t||[this.$t("i18n.newPasswordSomethingWentWrong")]}this.confirmPassword="",this.password="",this.passwordValidator.$reset()}).finally(()=>{this.submitting=!1}))}}};i("02f0");const Ii=I()(Ai,[["render",wi],["__scopeId","data-v-4d161284"]]);var xi=Ii;const Ri=["aria-label","onSubmit"],Ni={class:"lsco-col-xs-21 lsco-col-md-offset-1 lsco-col-md-offset-right-1 lsco-col-md-5"},$i=["aria-label","disabled"];function Pi(e,t,i,a,o,r){const n=Object(s["T"])("heading-container"),l=Object(s["T"])("email-input"),c=Object(s["T"])("language-select"),d=Object(s["T"])("clickwrap-notice"),u=Object(s["T"])("validation-observer");return Object(s["K"])(),Object(s["j"])("section",{class:Object(s["A"])([r.rootClassObj,"eReceipt-welcome-content"])},[Object(s["o"])(n,{title:e.globalModalEmailSignupWelcomeContent.headline,details:e.globalModalEmailSignupWelcomeContent.copy},null,8,["title","details"]),Object(s["o"])(u,null,{default:Object(s["ib"])(({pristine:i,reset:a,validate:n})=>[Object(s["k"])("form",{method:"POST",class:"welcome-form",action:"javascript:void(0);","aria-label":e.$t("i18n.signUp"),onSubmit:e=>r.subscribeUser({reset:a,validate:n})},[Object(s["o"])(l,{modelValue:o.email,"onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),ref:"email","set-aria-details-id":o.legalLanguageId,"custom-errors":o.emailValidationServerErrors},null,8,["modelValue","set-aria-details-id","custom-errors"]),Object(s["o"])(c),Object(s["o"])(d,{"content-id":o.legalLanguageId,html:e.globalModalEmailSignupWelcomeContent.clickwrap_notice,class:"legal-language lsco-col-xs-21 lsco-col-md-7"},null,8,["content-id","html"]),Object(s["k"])("div",Ni,[Object(s["k"])("button",{class:"welcome-btn","aria-label":e.$t("i18n.signUp"),disabled:i||o.submitting},Object(s["X"])(e.$t("i18n.signUp")),9,$i)])],40,Ri)]),_:1})],2)}function Ui(e,t,i,a,o,r){const n=Object(s["T"])("TextInput");return Object(s["K"])(),Object(s["h"])(n,{class:"email-input",type:i.type,autocomplete:!0,name:r.nameComputed,value:i.value,label:i.label,"set-aria-details-id":i.setAriaDetailsId,"show-label":i.showLabel,rules:r.rulesComputed,id:i.id,"is-required":i.isRequired,"validation-options":r.validationOptionsComputed,placeholder:r.placeholderComputed,onInput:t[0]||(t[0]=t=>e.$emit("input",t.target.value))},null,8,["type","name","value","label","set-aria-details-id","show-label","rules","id","is-required","validation-options","placeholder"])}function Mi(e,t,i,a,o,r){const n=Object(s["T"])("InputItem"),l=Object(s["T"])("ValidationProvider");return Object(s["K"])(),Object(s["h"])(l,Object(s["y"])({name:i.name,rules:i.rules},i.validationOptions,{value:i.modelValue}),{default:Object(s["ib"])(({errors:a})=>[Object(s["o"])(n,{"aria-details":i.setAriaDetailsId,"aria-describedby":i.setAriaDetailsId,"is-required":i.isRequired,value:i.modelValue,"error-texts":a,"label-text":i.label,id:i.id,type:i.type,autocomplete:i.autocomplete,"show-label":i.showLabel,"placeholder-text":i.placeholder,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),class:Object(s["A"])(i.childClass)},null,8,["aria-details","aria-describedby","is-required","value","error-texts","label-text","id","type","autocomplete","show-label","placeholder-text","class"])]),_:1},16,["name","rules","value"])}var Gi={max_length:{validate(e,{length:t}){return e.length<=t},params:["length"],message:"The {_field_} field must have at most {length} characters"},min_length:{validate(e,{length:t}){return e.length>=t},params:["length"]},regex:{validate(e,{pattern:t}){const i=new RegExp(t);return i.test(e)},params:["pattern"]},required:{validate(e,{allowFalse:t}){return e!==[]&&(!(!t||!1!==e)||("string"===typeof e?Boolean(e.trim()):Boolean(e)))},params:["allowFalse"]},min_age:{validate(e,{age:t}){if(!t)return!1;const[i,s,a]=e,o=s-1,r=new Date(i,o,a),n=Date.now()-r,l=new Date(n),c=Math.abs(l.getUTCFullYear()-1970);return t<=c},params:["age"]},is:{validate(e,{otherValue:t}){return e===t},params:["otherValue"],i18nMessagePath:"newPasswordMismatch"},match_email:{validate(e,{otherValue:t}){return e===t},params:["otherValue"],i18nMessagePath:"emailMismatchError"}};const Di=(e,t)=>{const i=t.split(","),s=Math.floor(e.length,i.length),a={};for(let o=0;o<s;o+=1)a[e[o]]=i[o];return a},Bi=(e,t,i)=>e.i18nMessagePath?i("i18n."+e.i18nMessagePath,t):e.message?e.message:i("i18n.errors."+t._rule_,t);let Fi=0;const Vi=()=>({validated:!1,changed:!1,errors:[],valid:!0,invalid:!1,pristine:!0,dirty:!1});var Ki={inject:["validationObserver"],props:{vid:{type:String,default:""},name:{type:String,required:!0},rules:{type:[String,Object],validator(e){if(!e)return!0;if("string"===typeof e){const t=e.split("|");return t.every(e=>{const t=e.split(":"),[i,s]=t;if(!Gi[i])return!1;if(t.length>2)return!1;if(t.some(e=>""===e))return!1;if(void 0===s)return!0;const a=s.split(",");return!a.some(e=>""===e)})}return!0},required:!0},errorTextOverride:{type:Array,default:null},errorTextAllReplaceWith:{type:[String,Object],validate(e){return!(e instanceof Object&&!e.i18nPath)}},customErrors:{type:Array,default:()=>[]},value:{type:String,default:()=>""}},data(){return{initialValue:null,inputComponent:{value:null},...Vi()}},computed:{_vid(){if(this.vid)return Fi;const e=this.name.replace(" ","-");return`${e}${Fi}`},parsedRules(){if(!this.rules)return[];if("string"===typeof this.rules){const e=this.rules.split("|"),t=e.map(e=>e.split(":")),i=t.map(([e,t])=>{const i=t?Di(Gi[e].params,t):{};return this.addMetaVarsToParams(i,e),{rule:Gi[e],assignedParams:i}});return i}return Object.entries(this.rules).map(([e,t])=>{let i=t;return!0===i&&(i={}),this.addMetaVarsToParams(i,e),{rule:Gi[e],assignedParams:i}})},emitPayload(){return[this._vid,{changed:this.changed,errors:this.errors,valid:this.valid,invalid:this.invalid,pristine:this.pristine,dirty:this.dirty,validate:this.validate.bind(this),value:this.value}]}},watch:{value:"computeAndEmitUpdate",errorTextOverride:{handler:"computeAndEmitUpdate",deep:!0},customErrors:{handler:"computeAndEmitUpdate",deep:!0}},beforeCreate(){Fi+=1},mounted(){this.listenToValidationObserver(),this.setValidationValue()},beforeUnmount(){this.removeValidationObserverListeners()},methods:{computeAndEmitUpdate(){this.compute(),this.validationObserverEmit("update",this.emitPayload)},validationObserverEmit(e,t){this.validationObserver&&this.validationObserver.emit(e,t)},setValidationValue(){this.$nextTick(()=>{this.initialValue=this.value,this.validationObserverEmit("update",this.emitPayload)})},getChildWithValue(){for(let e=0;e<this.$children.length;e+=1)if(void 0!==this.$children[e].value)return this.$children[e];throw new Error("No value for validation found")},listenToValidationObserver(){this.validationObserver&&this.validationObserver.on("reset",()=>{this.reset()})},removeValidationObserverListeners(){this.validationObserver&&this.validationObserver.off("reset",()=>{this.reset()})},addMetaVarsToParams(e,t){e._field_=this.name,e._rule_=t,e._value_=this.value},reset(){Object.assign(this.$data,Vi()),this.initialValue=this.value,this.computeAndEmitUpdate()},validate(){return this.validated=!0,this.compute(),Promise.resolve(this.emitPayload)},compute(){this.computeChanged(),this.computeErrors(),this.computeErrors(),this.computeValid(),this.computeInvalid(),this.computePristine(),this.computeDirty()},computeChanged(){this.changed=this.changed||this.value!==this.initialValue},computeErrors(){if(this.errorTextOverride)this.errors=[...this.errorTextOverride];else if(this.validated){let e=[];this.parsedRules.forEach(({rule:t,assignedParams:i})=>{const s=t.validate(this.value,i);let a="";s||(a=Bi(t,i,this.$t.bind(this)),e.push(a))}),e=e.length>0&&this.errorTextAllReplaceWith?this.applyErrorTextAllReplaceWith():this.customErrors.concat(e),this.errors=e}else this.errors=[...this.customErrors]},applyErrorTextAllReplaceWith(){return"string"===typeof this.errorTextAllReplaceWith?[this.errorTextAllReplaceWith]:[this.$t("i18n."+this.errorTextAllReplaceWith.i18nPath,{_field_:this.name})]},computeValid(){this.valid=0===this.errors.length},computeInvalid(){this.invalid=this.errors.length>0},computePristine(){this.pristine=this.initialValue===this.value},computeDirty(){this.dirty=this.initialValue!==this.value}},render(){return this.$slots.default({errors:this.errors,valid:this.valid,invalid:this.invalid,pristine:this.pristine,dirty:this.dirty,reset:this.reset.bind(this),validated:this.validated,validate:this.validate.bind(this)})}},Wi=i("fe4d"),Hi={emits:["update:modelValue"],components:{InputItem:Wi["a"],ValidationProvider:Ki},props:{name:{type:String,required:!0},rules:{type:[String,Object],default:""},isRequired:{type:Boolean,default:!1},modelValue:{type:String,default:""},value:{type:String,default:""},label:{type:String,default:""},setAriaDetailsId:{type:String,default:""},placeholder:{type:String,default:""},showLabel:{type:Boolean,default:!0},id:{type:String,default:""},type:{type:String,default:"text"},autocomplete:{type:Boolean,default:!1},validationOptions:{type:Object,default:()=>({})},childClass:{type:[Array,String],default:()=>[]}}};const zi=I()(Hi,[["render",Mi]]);var Qi=zi,qi={mixins:[E["a"],Et["a"]],emits:["input"],components:{TextInput:Qi},props:{name:{type:String,default:""},value:{type:String,default:""},label:{type:String,default:"Email"},showLabel:{type:Boolean,default:!1},placeholder:{type:String,default:""},setAriaDetailsId:{type:String,default:""},emailRules:{type:[String,Object],default:""},id:{type:String,default:""},type:{type:String,default:""},autocomplete:{type:Boolean,default:!1},emailRuleKey:{type:String,default:""},isRequired:{type:Boolean,default:!0},validationOptions:{type:Object,default:()=>({errorTextAllReplaceWith:{i18nPath:"errors.regex"}})},customErrors:{type:Array,default:()=>[]}},data(){return{email:"",submitting:!1,emailValidationServerErrors:[]}},computed:{nameComputed(){return this.name||this.$t("i18n.formEmailAddressLabel").toLowerCase()},placeholderComputed(){return this.placeholder||this.$t("i18n.formEmailLabel")},rulesComputed(){return this.emailRules?this.emailRules:this.emailRuleKey?this.rules[this.emailRuleKey]:this.rules.requiredEmail},validationOptionsComputed(){return{...this.validationOptions,customErrors:this.customErrors}}},methods:{}};const Yi=I()(qi,[["render",Ui]]);var Xi=Yi,Zi=i("faa1"),Ji=i.n(Zi),es={provide(){return{validationObserver:this.$_validationObserver}},data(){return{form:{},customErrors:[]}},computed:{changed(){const e=Object.values(this.form);return e.some(e=>e.changed)},errors(){return this.customErrors.concat(Object.entries(this.form).reduce((e,t)=>e.concat(t[1].errors),[]))},valid(){return Object.entries(this.form).every(e=>e[1].valid)},invalid(){return!this.valid},pristine(){return Object.entries(this.form).every(e=>e[1].pristine)},dirty(){return!this.pristine},scopedSlots(){return{changed:this.changed,errors:this.errors,valid:this.valid,invalid:this.invalid,pristine:this.pristine,dirty:this.dirty,addErrorMsg:this.addErrorMsg.bind(this),reset:this.reset.bind(this),validate:this.validate.bind(this),form:this.form}}},beforeCreate(){this.$_validationObserver=new Ji.a},mounted(){this.$_validationObserver.on("update",